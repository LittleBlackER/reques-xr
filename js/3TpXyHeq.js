const _0x2576d1=(function(){let _0x19cea8=!![];return function(_0x5a479a,_0x4a219e){const _0x4e7737=_0x19cea8?function(){if(_0x4a219e){const _0x161258=_0x4a219e['apply'](_0x5a479a,arguments);return _0x4a219e=null,_0x161258;}}:function(){};return _0x19cea8=![],_0x4e7737;};}()),_0x37ba5b=_0x2576d1(this,function(){return _0x37ba5b['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x37ba5b)['search']('(((.+)+)+)'+'+$');});_0x37ba5b();const _0x336d2a=(function(){let _0x5bb476=!![];return function(_0x5229fb,_0x341ac3){const _0x5e8c99=_0x5bb476?function(){if(_0x341ac3){const _0x559366=_0x341ac3['apply'](_0x5229fb,arguments);return _0x341ac3=null,_0x559366;}}:function(){};return _0x5bb476=![],_0x5e8c99;};}());(function(){_0x336d2a(this,function(){const _0x522351=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x1be980=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x91d98b=_0x502b94('init');!_0x522351['test'](_0x91d98b+'chain')||!_0x1be980['test'](_0x91d98b+'input')?_0x91d98b('0'):_0x502b94();})();}());const _0x3dae23=(function(){let _0x260d51=!![];return function(_0x45b54c,_0x1bb3fe){const _0x2f5a82=_0x260d51?function(){if(_0x1bb3fe){const _0x12c216=_0x1bb3fe['apply'](_0x45b54c,arguments);return _0x1bb3fe=null,_0x12c216;}}:function(){};return _0x260d51=![],_0x2f5a82;};}()),_0xe88d7c=_0x3dae23(this,function(){const _0x405636=function(){let _0x40c06a;try{_0x40c06a=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x38593f){_0x40c06a=window;}return _0x40c06a;},_0x554b7e=_0x405636(),_0x54fa0d=_0x554b7e['console']=_0x554b7e['console']||{},_0x36889d=['log','warn','info','error','exception','table','trace'];for(let _0x474643=0x1*-0x12c4+0x7b+0x1249;_0x474643<_0x36889d['length'];_0x474643++){const _0x2748cc=_0x3dae23['constructo'+'r']['prototype']['bind'](_0x3dae23),_0x1dce0=_0x36889d[_0x474643],_0x401d79=_0x54fa0d[_0x1dce0]||_0x2748cc;_0x2748cc['__proto__']=_0x3dae23['bind'](_0x3dae23),_0x2748cc['toString']=_0x401d79['toString']['bind'](_0x401d79),_0x54fa0d[_0x1dce0]=_0x2748cc;}});_0xe88d7c();var qx=Object['defineProp'+'erty'],Xx=(_0x57ad73,_0x2d472a,_0x3bd1a3)=>_0x2d472a in _0x57ad73?qx(_0x57ad73,_0x2d472a,{'enumerable':!(-0x83d+-0x408+-0x1*-0xc45),'configurable':!(-0x1623*-0x1+-0x189*0x3+-0x1188),'writable':!(0x2e8+-0x14a3*0x1+-0x33*-0x59),'value':_0x3bd1a3}):_0x57ad73[_0x2d472a]=_0x3bd1a3,c=(_0x24c52f,_0x44d674,_0x193c0b)=>Xx(_0x24c52f,typeof _0x44d674!='symbol'?_0x44d674+'':_0x44d674,_0x193c0b);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x2b717a,_0x2d7ab5){for(const _0x262ed2 in _0x2d7ab5){const _0x3b0b6e=_0x2d7ab5[_0x262ed2];Array['isArray'](_0x3b0b6e)?_0x2b717a[_0x262ed2]=vh([],_0x3b0b6e):_0x3b0b6e&&typeof _0x3b0b6e=='object'?_0x2b717a[_0x262ed2]=vh({},_0x3b0b6e):_0x2b717a[_0x262ed2]=_0x3b0b6e;}return _0x2b717a;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x264c2a=>{const _0x535736=Math['random']()*(0x21aa+-0x9d5+-0x4c1*0x5)|-0x1070*0x1+-0xd7*0x1a+0x2646;return(_0x264c2a==='x'?_0x535736:_0x535736&-0xd1c*0x1+0x1436+-0x1*0x717|0x1*0x196d+0x1*-0x124f+-0x716)['toString'](0x23ef+-0x16bd+-0xd22);});}},fe={'delimiter':'/','join'(..._0x52926c){let _0x24e7dd=_0x52926c[0x514+-0x57b+-0x1*-0x67];for(let _0x5434d4=-0x213f+-0x41*0x62+0x3a21;_0x5434d4<_0x52926c['length']-(-0x1c34+-0x242b+0x4060);_0x5434d4++){const _0x8ce461=_0x52926c[_0x5434d4],_0x108132=_0x52926c[_0x5434d4+(0x1*-0x20bf+0xca4+-0x4*-0x507)];if(_0x108132[-0x1*-0x2ce+0xc96+-0x314*0x5]===fe['delimiter']){_0x24e7dd=_0x108132;continue;}_0x8ce461&&_0x108132&&_0x8ce461[_0x8ce461['length']-(0xfb7+-0x7df+0xdf*-0x9)]!==fe['delimiter']&&_0x108132[0x2*0x11+0x1*0x1bcf+0x1*-0x1bf1]!==fe['delimiter']?_0x24e7dd+=fe['delimiter']+_0x108132:_0x24e7dd+=_0x108132;}return _0x24e7dd;},'normalize'(_0xc0718e){const _0x451866=_0xc0718e['startsWith'](fe['delimiter']),_0xe56313=_0xc0718e['endsWith'](fe['delimiter']),_0x56f6fe=_0xc0718e['split']('/');let _0x3785fa='',_0x24d6fa=[];for(let _0x10c563=-0x4*0x36f+0xa*0x21a+-0x4*0x1d2;_0x10c563<_0x56f6fe['length'];_0x10c563++)if(_0x56f6fe[_0x10c563]!==''&&_0x56f6fe[_0x10c563]!=='.'){if(_0x56f6fe[_0x10c563]==='..'&&_0x24d6fa['length']>-0x160c+0x1*-0x14f8+-0xac1*-0x4){_0x24d6fa=_0x24d6fa['slice'](0xd9*-0x28+-0x5*0x377+0x131*0x2b,_0x24d6fa['length']-(-0xe24+-0x1643+-0x2469*-0x1));continue;}_0x10c563>0x88c+0x1771+-0x1af*0x13&&_0x24d6fa['push'](fe['delimiter']),_0x24d6fa['push'](_0x56f6fe[_0x10c563]);}return _0x3785fa=_0x24d6fa['join'](''),!_0x451866&&_0x3785fa[-0xb3*0x18+-0x766*0x3+0x26fa]===fe['delimiter']&&(_0x3785fa=_0x3785fa['slice'](0x864+-0x11e6*-0x1+-0x1a49)),_0xe56313&&_0x3785fa[_0x3785fa['length']-(-0x70d*-0x1+-0x26c1*0x1+-0x1fb5*-0x1)]!==fe['delimiter']&&(_0x3785fa+=fe['delimiter']),_0x3785fa;},'split'(_0x11636b){const _0xd8b8aa=_0x11636b['lastIndexO'+'f'](fe['delimiter']);return _0xd8b8aa!==-(0x1*0x214b+0x2*-0x9c8+-0x7*0x1f6)?[_0x11636b['substring'](-0x117e*-0x2+-0x674*-0x3+-0x94*0x5e,_0xd8b8aa),_0x11636b['substring'](_0xd8b8aa+(0x329*0x4+-0xdc9*0x1+0x126))]:['',_0x11636b];},'getBasename'(_0x58dbd3){return fe['split'](_0x58dbd3)[0x105c+-0xbc1+-0x49a];},'getDirectory'(_0x4a8ec8){return fe['split'](_0x4a8ec8)[-0x269*-0xd+-0x89*-0x6+-0x228b];},'getExtension'(_0x5ab8d8){const _0xbf4658=_0x5ab8d8['split']('?')[-0x732+-0x19f8+0x236*0xf]['split']('.')['pop']();return _0xbf4658!==_0x5ab8d8?'.'+_0xbf4658:'';},'isRelativePath'(_0x1e1cc3){return _0x1e1cc3['charAt'](-0x77*0x6+0x1115+-0xe4b)!=='/'&&_0x1e1cc3['match'](/:\/\//)===null;},'extractPath'(_0x16a571){let _0x33d8c6='';const _0x58970e=_0x16a571['split']('/');let _0x3ac4b2=0x76*-0x29+-0x1*-0x140b+0x1*-0x125;if(_0x58970e['length']>0x2037+-0x26cb+0x695){if(fe['isRelative'+'Path'](_0x16a571)){if(_0x58970e[-0x1eef+-0xa*-0x3e5+-0x803]==='.'){for(_0x3ac4b2=-0xc2+-0x2*-0x616+-0xb6a;_0x3ac4b2<_0x58970e['length']-(-0x1e15+0x1a*0x9f+-0xdf0*-0x1);++_0x3ac4b2)_0x33d8c6+=_0x3ac4b2===-0xfae+0x261*0xd+-0x515*0x3?_0x58970e[_0x3ac4b2]:'/'+_0x58970e[_0x3ac4b2];}else{if(_0x58970e[0x1*-0x191+0x2*0x1257+0x59*-0x65]==='..'){for(_0x3ac4b2=0x537+-0x17f*-0x12+-0xd*0x279;_0x3ac4b2<_0x58970e['length']-(0x2263*0x1+-0x2078+0x7*-0x46);++_0x3ac4b2)_0x33d8c6+=_0x3ac4b2===-0x23d*-0x1+-0x8d+-0x1b0?_0x58970e[_0x3ac4b2]:'/'+_0x58970e[_0x3ac4b2];}else{for(_0x33d8c6='.',_0x3ac4b2=-0x12b2+0xbf1*-0x2+-0x1b4*-0x19;_0x3ac4b2<_0x58970e['length']-(0x2456+-0x1d4f+-0x383*0x2);++_0x3ac4b2)_0x33d8c6+='/'+_0x58970e[_0x3ac4b2];}}}else{for(_0x3ac4b2=0x54d*0x5+-0x26d9+-0x28*-0x4f;_0x3ac4b2<_0x58970e['length']-(-0x64*-0x3b+-0x4*0x74+0x1*-0x153b);++_0x3ac4b2)_0x33d8c6+=_0x3ac4b2===0x14d0+-0xf2*-0x18+-0x2b80?_0x58970e[_0x3ac4b2]:'/'+_0x58970e[_0x3ac4b2];}}return _0x33d8c6;}},iS=()=>{let _0x569b07=!(-0x22d*-0x11+-0x1e4f*0x1+-0x1*0x6ad);try{const _0x36e1bd=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x569b07=!(0x13f6*-0x1+0x1642+0x2*-0x126),!(0x1c0+-0xd3d*0x2+0x18bb);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x36e1bd),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x36e1bd);}catch{}return _0x569b07;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x1088+0x3*0xa75+-0x83*0x1d),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=0x9c5f+0x1*-0x139f1+-0x6*-0x3e43,ny=-0x16b*0xd2+-0x14590+0x34b55,Jp=-0xcdfb+0x4223*-0x2+0x22e41,lS=-0x8*0x1e31+-0x11002+0x2e189,hS=0x1967*-0x1+0x2ed5+0x1*0xa9f,em=-0xc8bc+0x1*-0x2315b+0x1*0x4ebfd,tm=0x1c0*-0x1bb+0xa504+0x4543b,cS=-0x1c37+-0x2461b+0x4564d,dS=0x2107f+0x9c95+-0xb915*0x1,uS=-0x2086+0x34a+0x3e0c,fS=-0x41b*0xe+-0xef*-0x5+0x55ce,lu=-0x287*-0x9b+0x2ccf+-0x1*0xb68c,hu=-0x1acfd+-0x9*-0x328b+0xe429;function cu(_0x26c5e3,_0x4c1445=0x22be+-0x87b*0x3+-0x94d){const _0x4d5770=_0x26c5e3['length'];if(_0x4c1445<0x3*0x355+-0x266+-0x185*0x5||_0x4c1445>=_0x4d5770)return null;const _0x52f052=_0x26c5e3['charCodeAt'](_0x4c1445);if(_0x4d5770>-0x7*-0x2a+-0xc23*-0x1+-0xd48&&_0x52f052>=ou&&_0x52f052<=ny){const _0x4f1cfd=_0x26c5e3['charCodeAt'](_0x4c1445+(0x444+0x2451*-0x1+0x200e));if(_0x4f1cfd>=Jp&&_0x4f1cfd<=lS)return{'code':(_0x52f052-ou)*(0x44*-0x10+-0x4*-0x60b+-0xfec)+_0x4f1cfd-Jp+(0xda09+0x33f*0x7b+0x1694e*-0x1),'long':!(0x1aa7+-0x1e33+0x1*0x38c)};}return{'code':_0x52f052,'long':!(-0x13c2+-0x1d51+0x3114)};}function Xi(_0x205249,_0x1f921d,_0x4027d0){if(!_0x205249)return!(-0x7*0x507+-0xb*0x2+0x11a4*0x2);const _0x7a92cf=cu(_0x205249);if(_0x7a92cf){const _0x4ef4f9=_0x7a92cf['code'];return _0x4ef4f9>=_0x1f921d&&_0x4ef4f9<=_0x4027d0;}return!(0x13c6+0xd09+-0x20ce);}function pS(_0x5d9a43,_0x24239d){if(_0x24239d===_0x5d9a43['length']-(-0x39*-0x68+0x33*-0x29+0x7*-0x224))return 0x3*-0x64e+0x61d+-0x1*-0xcce;if(Xi(_0x5d9a43[_0x24239d],ou,ny)){const _0x491d6b=_0x5d9a43['substring'](_0x24239d,_0x24239d+(-0xeb7+0x2268+-0x13af*0x1)),_0x1dd983=_0x5d9a43['substring'](_0x24239d+(0x1*0x201f+0x1*0x107b+-0x3098),_0x24239d+(-0xecc+0xa2d+-0x4a3*-0x1));return Xi(_0x1dd983,cS,dS)||Xi(_0x491d6b,em,tm)&&Xi(_0x1dd983,em,tm)?0xe*-0x100+0x8d7+0x52d*0x1:Xi(_0x1dd983,lu,hu)?-0xcd+-0x1be0+0x330*0x9:-0x1846*-0x1+0x1fcd+-0x3811;}return Xi(_0x5d9a43[_0x24239d+(0x836+-0x18a8+0x1073*0x1)],lu,hu)?-0x634+0xce5+-0x6af:0x11fd+0x59a+-0x1796;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x571fc8,..._0x26d411){for(let _0x13aa7e=-0x3*0x27+-0x5ab*0x1+-0x310*-0x2;_0x13aa7e<_0x26d411['length'];_0x13aa7e++)_0x571fc8=_0x571fc8['replace']('{'+_0x13aa7e+'}',_0x26d411[_0x13aa7e]);return _0x571fc8;},'getCodePoint'(_0x2bc479,_0x1637cb){const _0x4a38ca=cu(_0x2bc479,_0x1637cb);return _0x4a38ca&&_0x4a38ca['code'];},'getCodePoints'(_0x1e2122){if(typeof _0x1e2122!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0xbfc7f9=-0x211e+-0x350+-0x1*-0x246e;const _0x2ebcf7=[];let _0x8f47d4;for(;_0x8f47d4=cu(_0x1e2122,_0xbfc7f9);)_0x2ebcf7['push'](_0x8f47d4['code']),_0xbfc7f9+=_0x8f47d4['long']?-0x1*-0xac0+-0x1*-0x7f1+-0x12af*0x1:0x19e3+0x4f4*-0x6+0x3d6;return _0x2ebcf7;},'getSymbols'(_0x3ec28a){if(typeof _0x3ec28a!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x1000ff=0xda7*-0x2+-0x17b*0x1a+0x41cc;const _0x1e0136=_0x3ec28a['length'],_0x26e5fe=[];let _0x550c07=0x1*-0x2033+0x112*0x1+0x265*0xd,_0x39f195;for(;_0x1000ff<_0x1e0136;){if(_0x550c07+=pS(_0x3ec28a,_0x1000ff+_0x550c07),_0x39f195=_0x3ec28a[_0x1000ff+_0x550c07],Xi(_0x39f195,uS,fS)&&(_0x39f195=_0x3ec28a[_0x1000ff+_0x550c07++]),Xi(_0x39f195,lu,hu)&&(_0x39f195=_0x3ec28a[_0x1000ff+_0x550c07++]),_0x39f195&&_0x39f195['charCodeAt'](-0xa*0x2a5+-0x2*-0x68e+0x472*0x3)===hS){_0x39f195=_0x3ec28a[_0x1000ff+_0x550c07++];continue;}const _0x3d72fe=_0x3ec28a['substring'](_0x1000ff,_0x1000ff+_0x550c07);_0x26e5fe['push'](_0x3d72fe),_0x1000ff+=_0x550c07,_0x550c07=-0x64b*-0x2+-0x1*0x94d+0x1*-0x349;}return _0x26e5fe;},'fromCodePoint'(){const _0x40828a=[];let _0x52d32e,_0x17edf3,_0x3ff1d3;for(let _0x2f3acf=0x449+0x1f8c+-0x23d5;_0x2f3acf<arguments['length'];++_0x2f3acf)_0x52d32e=Number(arguments[_0x2f3acf]),_0x17edf3=_0x52d32e-(-0x40d9*-0x4+-0x2*-0xf1e2+0x4*-0x79ca),_0x3ff1d3=_0x52d32e>-0x11b73+0xef22+0x12c50?[(_0x17edf3>>-0x14ee+-0x12ae+0x27a6)+(0x988a+-0x15029+-0x18f9f*-0x1),_0x17edf3%(0x1faa*0x1+0x162*-0x11+-0x10a*0x4)+(0x1*0xbc1d+-0x730+0x2713)]:[_0x52d32e],_0x40828a['push'](String['fromCharCo'+'de']['apply'](null,_0x3ff1d3));return _0x40828a['join']('');}},zr=class zr{static['set'](_0x598f98,_0x37d84c=!(-0x803*-0x3+-0x24d*-0x2+0x1ca3*-0x1)){_0x37d84c?zr['_traceChan'+'nels']['add'](_0x598f98):zr['_traceChan'+'nels']['delete'](_0x598f98);}static['get'](_0x2b7d02){return zr['_traceChan'+'nels']['has'](_0x2b7d02);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(0x931+0x2*0x4f7+-0x131e));let Xs=zr;const bt=class bt{static['deprecated'](_0x3c2a2f){bt['_loggedMes'+'sages']['has'](_0x3c2a2f)||(bt['_loggedMes'+'sages']['add'](_0x3c2a2f),console['warn']('DEPRECATED'+':\x20'+_0x3c2a2f));}static['removed'](_0x373047){bt['_loggedMes'+'sages']['has'](_0x373047)||(bt['_loggedMes'+'sages']['add'](_0x373047),console['error']('REMOVED:\x20'+_0x373047));}static['assertDepr'+'ecated'](_0x582c86,_0x5b6a07){_0x582c86||bt['deprecated'](_0x5b6a07);}static['assert'](_0x421d3f,..._0x5c4243){_0x421d3f||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x5c4243);}static['assertDest'+'royed'](_0x2da49c){var _0x581fe5;if(_0x2da49c!=null&&_0x2da49c['__alreadyD'+'estroyed']){const _0x2372e2='['+((_0x581fe5=_0x2da49c['constructo'+'r'])==null?void(0x22fb+-0x1fab+-0x350):_0x581fe5['name'])+(']\x20with\x20nam'+'e\x20[')+_0x2da49c['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x2372e2)||(bt['_loggedMes'+'sages']['add'](_0x2372e2),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x2372e2,_0x2da49c));}}static['call'](_0xfcd670){_0xfcd670();}static['log'](..._0x4c19f8){console['log'](..._0x4c19f8);}static['logOnce'](_0x173cd6,..._0x1062ea){bt['_loggedMes'+'sages']['has'](_0x173cd6)||(bt['_loggedMes'+'sages']['add'](_0x173cd6),console['log'](_0x173cd6,..._0x1062ea));}static['warn'](..._0x462b41){console['warn'](..._0x462b41);}static['warnOnce'](_0x3b421d,..._0x3a2e5b){bt['_loggedMes'+'sages']['has'](_0x3b421d)||(bt['_loggedMes'+'sages']['add'](_0x3b421d),console['warn'](_0x3b421d,..._0x3a2e5b));}static['error'](..._0x14cac8){console['error'](..._0x14cac8);}static['errorOnce'](_0x522367,..._0x133576){bt['_loggedMes'+'sages']['has'](_0x522367)||(bt['_loggedMes'+'sages']['add'](_0x522367),console['error'](_0x522367,..._0x133576));}static['trace'](_0x2136c5,..._0x345735){Xs['get'](_0x2136c5)&&(console['groupColla'+'psed'](_0x2136c5['padEnd'](-0x1*0x1d54+-0x49*0x67+-0x3ac7*-0x1,'\x20')+'|',..._0x345735),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x2ccc03,_0x2eaf4a){_0x2ccc03&&(_0x2ccc03['name']=_0x2eaf4a);}static['setLabel'](_0x1406de,_0x3c38ac){_0x1406de&&(_0x1406de['label']=_0x3c38ac);}static['setDestroy'+'ed'](_0x132cf6){_0x132cf6&&(_0x132cf6['__alreadyD'+'estroyed']=!(-0x232a+-0x19*-0x185+-0x2d3));}}class mS{constructor(_0x1e606b,_0xb4599d,_0x3de4c6,_0x422791,_0x344537=!(-0x214d*0x1+0x1c97+0x4b7)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(-0xa99*-0x3+0x827+-0x5*0x7fd)),(this['handler']=_0x1e606b,this['name']=_0xb4599d,this['callback']=_0x3de4c6,this['scope']=_0x422791,this['_once']=_0x344537);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x4cedd3,_0x288bb4,_0x3afae2=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x4cedd3,_0x288bb4,_0x3afae2,!(-0x1*-0xeea+-0x127c+-0x131*-0x3));}['once'](_0x439c85,_0x428bb1,_0x5ed823=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x439c85,_0x428bb1,_0x5ed823,!(-0x7*0x89+0x225*-0x5+0x73c*0x2));}set['removed'](_0xe926aa){_0xe926aa&&(this['_removed']=!(-0x16b+-0x202e+0xb7*0x2f));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x25a5e1,_0x53eb59,_0x28a664,_0x336520){if((!_0x25a5e1||typeof _0x25a5e1!='string'||!_0x53eb59)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x25a5e1+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x53eb59),this['_callbacks']['has'](_0x25a5e1)||this['_callbacks']['set'](_0x25a5e1,[]),this['_callbackA'+'ctive']['has'](_0x25a5e1)){const _0x397f75=this['_callbackA'+'ctive']['get'](_0x25a5e1);_0x397f75&&_0x397f75===this['_callbacks']['get'](_0x25a5e1)&&this['_callbackA'+'ctive']['set'](_0x25a5e1,_0x397f75['slice']());}const _0x1f6ced=new mS(this,_0x25a5e1,_0x53eb59,_0x28a664,_0x336520);return this['_callbacks']['get'](_0x25a5e1)['push'](_0x1f6ced),_0x1f6ced;}['on'](_0x4ec1fd,_0x1be20f,_0x521fbe=this){return this['_addCallba'+'ck'](_0x4ec1fd,_0x1be20f,_0x521fbe,!(-0x954+-0xa2f*0x1+0x1384));}['once'](_0xe30e0e,_0x5a9be4,_0x5d0f1d=this){return this['_addCallba'+'ck'](_0xe30e0e,_0x5a9be4,_0x5d0f1d,!(-0x1841*0x1+0x74a+0x10f7*0x1));}['off'](_0x3fd46f,_0x552017,_0x3cbccc){if(_0x3fd46f)this['_callbackA'+'ctive']['has'](_0x3fd46f)&&this['_callbackA'+'ctive']['get'](_0x3fd46f)===this['_callbacks']['get'](_0x3fd46f)&&this['_callbackA'+'ctive']['set'](_0x3fd46f,this['_callbackA'+'ctive']['get'](_0x3fd46f)['slice']());else{for(const [_0x4a04cf,_0x6db0a5]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x4a04cf)&&this['_callbacks']['get'](_0x4a04cf)===_0x6db0a5&&this['_callbackA'+'ctive']['set'](_0x4a04cf,_0x6db0a5['slice']());}if(_0x3fd46f){if(_0x552017){const _0x1c4e05=this['_callbacks']['get'](_0x3fd46f);if(!_0x1c4e05)return this;for(let _0x3fc83b=-0x3*0x9d6+0x592+-0x5fc*-0x4;_0x3fc83b<_0x1c4e05['length'];_0x3fc83b++)_0x1c4e05[_0x3fc83b]['callback']===_0x552017&&(_0x3cbccc&&_0x1c4e05[_0x3fc83b]['scope']!==_0x3cbccc||(_0x1c4e05[_0x3fc83b]['removed']=!(-0x20f0+0x2453+-0x363),_0x1c4e05['splice'](_0x3fc83b,-0x2*-0x12e3+-0x1e1a*0x1+0x1*-0x7ab),_0x3fc83b--));_0x1c4e05['length']===0x49*-0x65+0x1528+0x67*0x13&&this['_callbacks']['delete'](_0x3fd46f);}else{const _0x1e8f44=this['_callbacks']['get'](_0x3fd46f);if(_0x1e8f44){for(let _0x483113=-0xa1e+-0x1*-0x2407+-0x25b*0xb;_0x483113<_0x1e8f44['length'];_0x483113++)_0x1e8f44[_0x483113]['removed']=!(-0xcf*0x2b+-0x1*0x1163+-0x4*-0xd0a);this['_callbacks']['delete'](_0x3fd46f);}}}else{for(const _0x1599e4 of this['_callbacks']['values']())for(let _0xb202df=0x17*-0x119+-0x1d74+-0xb*-0x4f9;_0xb202df<_0x1599e4['length'];_0xb202df++)_0x1599e4[_0xb202df]['removed']=!(-0x1b6*0x4+-0x787*0x1+0xe5f);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x25fbe6){const _0xcc53d8=_0x25fbe6['name'];_0x25fbe6['removed']=!(-0x1c3a+-0xb8f+0x27c9),this['_callbackA'+'ctive']['has'](_0xcc53d8)&&this['_callbackA'+'ctive']['get'](_0xcc53d8)===this['_callbacks']['get'](_0xcc53d8)&&this['_callbackA'+'ctive']['set'](_0xcc53d8,this['_callbackA'+'ctive']['get'](_0xcc53d8)['slice']());const _0x165fe7=this['_callbacks']['get'](_0xcc53d8);if(!_0x165fe7)return this;const _0x34f762=_0x165fe7['indexOf'](_0x25fbe6);return _0x34f762!==-(0x1fc9+-0x2*0x175+-0x1cde)&&(_0x165fe7['splice'](_0x34f762,-0x642*-0x2+-0x2540+0x18bd),_0x165fe7['length']===0x1*0xcf5+0xea0+0x17*-0x133&&this['_callbacks']['delete'](_0xcc53d8)),this;}['fire'](_0x5d270b,_0x4a32bd,_0x121a1a,_0xc6fa1e,_0x147cea,_0x2f4fd6,_0x1eb4a5,_0x15f27b,_0x5a1c19){if(!_0x5d270b)return this;const _0x22aa03=this['_callbacks']['get'](_0x5d270b);if(!_0x22aa03)return this;let _0x585800;this['_callbackA'+'ctive']['has'](_0x5d270b)?this['_callbackA'+'ctive']['get'](_0x5d270b)!==_0x22aa03&&(_0x585800=_0x22aa03['slice']()):this['_callbackA'+'ctive']['set'](_0x5d270b,_0x22aa03);for(let _0x4b0025=-0x2*-0xd4f+0xa*-0x25c+-0x306;(_0x585800||this['_callbackA'+'ctive']['get'](_0x5d270b))&&_0x4b0025<(_0x585800||this['_callbackA'+'ctive']['get'](_0x5d270b))['length'];_0x4b0025++){const _0x33a01e=(_0x585800||this['_callbackA'+'ctive']['get'](_0x5d270b))[_0x4b0025];if(_0x33a01e['callback']&&(_0x33a01e['callback']['call'](_0x33a01e['scope'],_0x4a32bd,_0x121a1a,_0xc6fa1e,_0x147cea,_0x2f4fd6,_0x1eb4a5,_0x15f27b,_0x5a1c19),_0x33a01e['_once'])){const _0x1d9372=this['_callbacks']['get'](_0x5d270b),_0x31eaa7=_0x1d9372?_0x1d9372['indexOf'](_0x33a01e):-(-0x1*0x31d+0x15f7*-0x1+-0x1*-0x1915);if(_0x31eaa7!==-(-0x9*-0x3bd+-0x2*-0x544+0x2c2c*-0x1)){this['_callbackA'+'ctive']['get'](_0x5d270b)===_0x1d9372&&this['_callbackA'+'ctive']['set'](_0x5d270b,this['_callbackA'+'ctive']['get'](_0x5d270b)['slice']());const _0x2f4b1b=this['_callbacks']['get'](_0x5d270b);if(!_0x2f4b1b)continue;_0x2f4b1b[_0x31eaa7]['removed']=!(-0x78c+-0xc9a*0x3+0x2d5a),_0x2f4b1b['splice'](_0x31eaa7,-0x689+-0x2104+0x278e),_0x2f4b1b['length']===-0x1*-0x3e5+0x7db+-0xbc0&&this['_callbacks']['delete'](_0x5d270b);}}}return _0x585800||this['_callbackA'+'ctive']['delete'](_0x5d270b),this;}['hasEvent'](_0x459d99){var _0xc9a0b9;return!!((_0xc9a0b9=this['_callbacks']['get'](_0x459d99))!=null&&_0xc9a0b9['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x40694e,_0x294861){if(this['_index'][_0x40694e])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x40694e);const _0x42a83f=this['_list']['push'](_0x294861)-(-0x23*-0xe5+-0x3d*-0x3a+0x2d2*-0x10);this['_index'][_0x40694e]=_0x42a83f;}['has'](_0x5b2b57){return this['_index'][_0x5b2b57]!==void(0x1*-0xacb+-0x1e9c+0x2967);}['get'](_0x1a6895){const _0x23d40e=this['_index'][_0x1a6895];return _0x23d40e!==void(0x5*-0x96+-0x3*0x26a+0xa2c)?this['_list'][_0x23d40e]:null;}['remove'](_0x2b273d){const _0x2db715=this['_index'][_0x2b273d];if(_0x2db715!==void(0xd*-0x1af+-0xfd1+0x26*0xfe)){this['_list']['splice'](_0x2db715,-0x3cf*0x5+0xf71+0x39b),delete this['_index'][_0x2b273d];for(_0x2b273d in this['_index']){const _0x3fae2f=this['_index'][_0x2b273d];_0x3fae2f>_0x2db715&&(this['_index'][_0x2b273d]=_0x3fae2f-(0x614+0x2213+0x2826*-0x1));}return!(-0x173b*0x1+-0x2552+0x3c8d);}return!(0x283+0x2*-0x12d4+0x2326);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0x1*0x9d5+0x11*0x51+0x474;for(const _0x4d4224 in this['_index'])delete this['_index'][_0x4d4224];}}const gS=_0x46e66a=>{const _0x1bdc2e={};let _0x52ec50=_0x1bdc2e;return()=>(_0x52ec50===_0x1bdc2e&&(_0x52ec50=_0x46e66a()),_0x52ec50);},Ns=class Ns{static['loadScript'](_0x12d5c7,_0x577c74){const _0x5eea42=document['createElem'+'ent']('script');_0x5eea42['setAttribu'+'te']('src',_0x12d5c7),_0x5eea42['onload']=()=>{_0x577c74(null);},_0x5eea42['onerror']=()=>{_0x577c74('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x12d5c7+'\x27');},document['body']['appendChil'+'d'](_0x5eea42);}static['loadWasm'](_0x3164a0,_0x4fe8b9,_0x57267f){const _0x46bfb4=Ns['wasmSuppor'+'ted']()&&_0x4fe8b9['glueUrl']&&_0x4fe8b9['wasmUrl']?_0x4fe8b9['glueUrl']:_0x4fe8b9['fallbackUr'+'l'];_0x46bfb4?Ns['loadScript'](_0x46bfb4,_0x413b93=>{if(_0x413b93)_0x57267f(_0x413b93,null);else{const _0x452c6b=window[_0x3164a0];window[_0x3164a0]=void(0x2381+-0x45f+-0x2*0xf91),_0x452c6b({'locateFile':()=>_0x4fe8b9['wasmUrl'],'onAbort':()=>{_0x57267f('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x23d4a3=>{_0x57267f(null,_0x23d4a3);});}}):_0x57267f('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x1047c8){return Ns['modules']['hasOwnProp'+'erty'](_0x1047c8)||(Ns['modules'][_0x1047c8]={'config':null,'initializing':!(-0x1*-0x255b+-0x1233+-0x1327),'instance':null,'callbacks':[]}),Ns['modules'][_0x1047c8];}static['initialize'](_0x59d155,_0x1b7ed2){if(_0x1b7ed2['initializi'+'ng'])return;const _0x2e8bdc=_0x1b7ed2['config'];(_0x2e8bdc['glueUrl']||_0x2e8bdc['wasmUrl']||_0x2e8bdc['fallbackUr'+'l'])&&(_0x1b7ed2['initializi'+'ng']=!(-0x12cc+0xa8d+-0x83f*-0x1),Ns['loadWasm'](_0x59d155,_0x2e8bdc,(_0x33020b,_0x40717f)=>{_0x33020b?_0x2e8bdc['errorHandl'+'er']?_0x2e8bdc['errorHandl'+'er'](_0x33020b):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x59d155+'\x20error='+_0x33020b):(_0x1b7ed2['instance']=_0x40717f,_0x1b7ed2['callbacks']['forEach'](_0x3bfb39=>{_0x3bfb39(_0x40717f);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x597dcc=new WebAssembly['Module'](Uint8Array['of'](-0xad5*-0x2+0x92a+-0x1ed4,-0x3*0x49b+-0x146b+0x229d*0x1,0x2198+0x8ac*-0x3+-0x721,0x1d*0x38+0x164b+-0x1c36,-0x220a+-0x836+0x2a41*0x1,0x19*-0xf5+-0x724*-0x2+0x9a5,-0x24f6+0x133*-0xe+0x140*0x2b,0xcee+-0x1278+0x58a));if(_0x597dcc instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x597dcc)instanceof WebAssembly['Instance'];}}catch{}return!(0x1875+-0x1*0x265+-0x160f*0x1);}));let Br=Ns;class ay{static['setConfig'](_0x3d2001,_0x160583){const _0x1bec68=Br['getModule'](_0x3d2001);_0x1bec68['config']=_0x160583,_0x1bec68['callbacks']['length']>-0xbfb+-0x1*0x40d+-0x13*-0xd8&&Br['initialize'](_0x3d2001,_0x1bec68);}static['getConfig'](_0x5ec752){var _0x5892e0,_0xb6ffb8;return(_0xb6ffb8=(_0x5892e0=Br['modules'])==null?void(0x125*0x1c+0xc02*-0x2+-0x808):_0x5892e0[_0x5ec752])==null?void(0x1*-0x25b1+0x4e7*0x7+0x3*0x120):_0xb6ffb8['config'];}static['getInstanc'+'e'](_0x4f3558,_0x3ea412){const _0x36d3ba=Br['getModule'](_0x4f3558);_0x36d3ba['instance']?_0x3ea412(_0x36d3ba['instance']):(_0x36d3ba['callbacks']['push'](_0x3ea412),_0x36d3ba['config']&&Br['initialize'](_0x4f3558,_0x36d3ba));}}class oy{constructor(_0x25cf43){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',-0x1bfa+-0x1*0x1697+0x3291),(this['arraybuffe'+'r']=_0x25cf43,this['dataView']=new DataView(_0x25cf43));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x2284cf=-0x1*-0x11+-0x2170+0x215f*0x1){this['offset']=_0x2284cf;}['skip'](_0x4c4d8d){this['offset']+=_0x4c4d8d;}['align'](_0x36be3a){this['offset']=this['offset']+_0x36be3a-(-0x14e*-0x10+-0x1*0x1bec+0x70d)&~(_0x36be3a-(-0x23de+0x607*-0x1+0x29e6));}['_inc'](_0x873968){return this['offset']+=_0x873968,this['offset']-_0x873968;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x55b1d6){let _0x24b1aa='';for(let _0x36a21a=-0x814+0x206d+-0x17*0x10f;_0x36a21a<_0x55b1d6;++_0x36a21a)_0x24b1aa+=this['readChar']();return _0x24b1aa;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x7df+0x1056+-0x1b1*0x5),!(0x45b*-0x7+-0x1ff0+-0x2f9*-0x15));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x210e*-0x1+0x33*0x3b+-0x2ccb*0x1),!(0x23e4+-0x23f3+0xf));}['readU64'](){return this['readU32']()+(0x6b*0x9+0x1406+0x7ed*-0x3)**(0x837+0x1*-0x16ff+0xee8)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x71+-0x5*-0x5bb+0x1*-0x1c32),!(0x1d5*-0xa+-0x11*0x9+-0x15a*-0xe));}['readArray'](_0x2b098c){for(let _0x5ac563=0x23c0+0x23fb+-0x3*0x17e9;_0x5ac563<_0x2b098c['length'];++_0x5ac563)_0x2b098c[_0x5ac563]=this['readU8']();}['readLine'](){const _0x139610=this['dataView'];let _0x40bc64='';for(;!(this['offset']>=_0x139610['byteLength']);){const _0x54c0d3=String['fromCharCo'+'de'](this['readU8']());if(_0x54c0d3==='\x0a')break;_0x40bc64+=_0x54c0d3;}return _0x40bc64;}}class wh{constructor(_0x161156){c(this,'items',[]),c(this,'length',-0x229b+-0x15c5+0x3860),c(this,'loopIndex',-(-0xb1*0x1d+0x69e+0xd70)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x161156['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x1963bc){let _0x1f0c50=0xd*-0xcb+0x661*-0x3+-0x2*-0xeb9,_0x158466=this['items']['length']-(0x14ed+0x1661+-0x8a9*0x5);const _0x35f6bd=_0x1963bc[this['_sortBy']];let _0x46162f,_0x200b98;for(;_0x1f0c50<=_0x158466;)_0x46162f=Math['floor']((_0x1f0c50+_0x158466)/(-0x110b*-0x1+0x229*0x1+-0x1332)),_0x200b98=this['items'][_0x46162f][this['_sortBy']],_0x200b98<=_0x35f6bd?_0x1f0c50=_0x46162f+(0x2533+-0x162*0x4+-0x1faa):_0x200b98>_0x35f6bd&&(_0x158466=_0x46162f-(0x4c1*0x1+-0x262a+-0x5e*-0x5b));return _0x1f0c50;}['_doSort'](_0x87b190,_0x3d8682){const _0x330f34=this['_sortBy'];return _0x87b190[_0x330f34]-_0x3d8682[_0x330f34];}['insert'](_0x5e4275){const _0x355bc1=this['_binarySea'+'rch'](_0x5e4275);this['items']['splice'](_0x355bc1,-0x1d59+-0x1600+0x3359,_0x5e4275),this['length']++,this['loopIndex']>=_0x355bc1&&this['loopIndex']++;}['append'](_0x4af9df){this['items']['push'](_0x4af9df),this['length']++;}['remove'](_0x2fb4df){const _0x36c6d6=this['items']['indexOf'](_0x2fb4df);_0x36c6d6<0x5*0x2bb+-0x260a+0x1863||(this['items']['splice'](_0x36c6d6,-0x213f+0x81*0x3+0x1fbd),this['length']--,this['loopIndex']>=_0x36c6d6&&this['loopIndex']--);}['sort'](){const _0x16c118=this['loopIndex']>=-0xb*0x305+-0x47e*0x6+0x3c2b?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x16c118!==null&&(this['loopIndex']=this['items']['indexOf'](_0x16c118));}}class po extends ce{constructor(_0x4bc5e7){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x4bc5e7;}['add'](..._0x1a02cb){let _0x421667=!(-0x20d8+0x399*-0x3+-0x62*-0x72);const _0xfe08b3=this['_processAr'+'guments'](_0x1a02cb,!(-0x13f6*0x1+-0x6ee+0x1ae4));if(!_0xfe08b3['length'])return _0x421667;for(let _0x457e33=-0xdc9*-0x1+-0x20c1*-0x1+-0xa1*0x4a;_0x457e33<_0xfe08b3['length'];_0x457e33++)this['_index'][_0xfe08b3[_0x457e33]]||(_0x421667=!(0xa7c+-0x3*0x355+-0x5*0x19),this['_index'][_0xfe08b3[_0x457e33]]=!(-0x1*-0x178a+0x473*-0x3+0x1*-0xa31),this['_list']['push'](_0xfe08b3[_0x457e33]),this['fire']('add',_0xfe08b3[_0x457e33],this['_parent']));return _0x421667&&this['fire']('change',this['_parent']),_0x421667;}['remove'](..._0x47bdaa){let _0x424c1f=!(0x24a5+-0x2*0x5e7+0xb*-0x242);if(!this['_list']['length'])return _0x424c1f;const _0x34cbb3=this['_processAr'+'guments'](_0x47bdaa,!(-0x1*-0x20ad+-0x37*0x61+-0x1f9*0x6));if(!_0x34cbb3['length'])return _0x424c1f;for(let _0x4857f9=0x16bd*-0x1+0x1ae1+-0x424;_0x4857f9<_0x34cbb3['length'];_0x4857f9++)this['_index'][_0x34cbb3[_0x4857f9]]&&(_0x424c1f=!(0x219d*-0x1+-0x79d*-0x5+0x3*-0x17c),delete this['_index'][_0x34cbb3[_0x4857f9]],this['_list']['splice'](this['_list']['indexOf'](_0x34cbb3[_0x4857f9]),-0x15*0x3+0x913+0x2f1*-0x3),this['fire']('remove',_0x34cbb3[_0x4857f9],this['_parent']));return _0x424c1f&&this['fire']('change',this['_parent']),_0x424c1f;}['clear'](){if(!this['_list']['length'])return;const _0x14de52=this['_list']['slice'](0x19ed*0x1+0x1*0x1b47+-0x3534*0x1);this['_list']=[],this['_index']={};for(let _0x591986=-0x337*0x7+0x9b9*-0x4+0x1*0x3d65;_0x591986<_0x14de52['length'];_0x591986++)this['fire']('remove',_0x14de52[_0x591986],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x55a979){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x55a979)):!(-0xd0e+0x9fc+-0x313*-0x1);}['_has'](_0x153226){if(!this['_list']['length']||!_0x153226['length'])return!(-0x6cb*0x1+0xd67*0x1+0x1*-0x69b);for(let _0x1f20e5=-0x1c*-0x2+0x78f+-0x7c7;_0x1f20e5<_0x153226['length'];_0x1f20e5++)if(_0x153226[_0x1f20e5]['length']===0x125a+0x18d3+0x1596*-0x2){if(this['_index'][_0x153226[_0x1f20e5][-0x1199+-0x843*0x3+0x5*0x87a]])return!(-0x1187+-0x1*0x10dd+-0x1f*-0x11c);}else{let _0x1fc03a=!(-0x2054+0x13*0x97+0x151f);for(let _0x3654be=0x1*0x1007+-0x1b82+0xb7b;_0x3654be<_0x153226[_0x1f20e5]['length'];_0x3654be++)if(!this['_index'][_0x153226[_0x1f20e5][_0x3654be]]){_0x1fc03a=!(-0x1c57+-0x7d4*-0x1+0x1484);break;}if(_0x1fc03a)return!(-0x1ee8+0x1*0x81b+0x16cd);}return!(0x25b9+-0x1ee4+-0x26*0x2e);}['list'](){return this['_list']['slice'](-0xdad+0x7*0x499+-0x1282);}['_processAr'+'guments'](_0x2c5b2e,_0x43cd81){const _0x264aab=[];let _0x43c073=[];if(!_0x2c5b2e||!_0x2c5b2e['length'])return _0x264aab;for(let _0x523257=-0x4b7*-0x3+-0x25*-0x8c+-0x2261*0x1;_0x523257<_0x2c5b2e['length'];_0x523257++)if(_0x2c5b2e[_0x523257]instanceof Array){_0x43cd81||(_0x43c073=[]);for(let _0xa8425d=0x165*0xd+0x1*-0x1311+0xf0;_0xa8425d<_0x2c5b2e[_0x523257]['length'];_0xa8425d++)typeof _0x2c5b2e[_0x523257][_0xa8425d]=='string'&&(_0x43cd81?_0x264aab['push'](_0x2c5b2e[_0x523257][_0xa8425d]):_0x43c073['push'](_0x2c5b2e[_0x523257][_0xa8425d]));!_0x43cd81&&_0x43c073['length']&&_0x264aab['push'](_0x43c073);}else typeof _0x2c5b2e[_0x523257]=='string'&&(_0x43cd81?_0x264aab['push'](_0x2c5b2e[_0x523257]):_0x264aab['push']([_0x2c5b2e[_0x523257]]));return _0x264aab;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0x30a235){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x47b97c=_0x30a235['match'](yS);this['scheme']=_0x47b97c[0x2a7*-0x7+0x1*-0x2311+0x35a4],this['authority']=_0x47b97c[-0x923*-0x2+0x2*-0x5ce+-0x6a6],this['path']=_0x47b97c[-0x22ea+0x3b*0x8e+0x235*0x1],this['query']=_0x47b97c[-0x1c*0x29+-0xa*-0x2a9+-0x27*0x91],this['fragment']=_0x47b97c[0x100*0x12+0xe8d+-0x2084];}['toString'](){let _0x1a6f9b='';return this['scheme']&&(_0x1a6f9b+=this['scheme']+':'),this['authority']&&(_0x1a6f9b+='//'+this['authority']),_0x1a6f9b+=this['path'],this['query']&&(_0x1a6f9b+='?'+this['query']),this['fragment']&&(_0x1a6f9b+='#'+this['fragment']),_0x1a6f9b;}['getQuery'](){const _0x148052={};if(this['query']){const _0x433223=decodeURIComponent(this['query'])['split']('&');for(const _0x4c61e1 of _0x433223){const _0x1512ad=_0x4c61e1['split']('=');_0x148052[_0x1512ad[-0x373*-0x5+-0x60b+-0xb34*0x1]]=_0x1512ad[0x24e6+-0x1ba5+-0x940];}}return _0x148052;}['setQuery'](_0x59b7da){let _0x5e9d1f='';for(const _0x64aa8e in _0x59b7da)_0x59b7da['hasOwnProp'+'erty'](_0x64aa8e)&&(_0x5e9d1f!==''&&(_0x5e9d1f+='&'),_0x5e9d1f+=encodeURIComponent(_0x64aa8e)+'='+encodeURIComponent(_0x59b7da[_0x64aa8e]));this['query']=_0x5e9d1f;}}const xS=-0x1a05*-0x1+0x16*-0x32+-0x15b9,Df=-0x6d*-0x10+0x1*0x1797+-0x1e66,sm=-0x1e04+-0xeb9+0xc9*0x39,SS=0x11*0xc1+-0x4d5*0x1+-0x7f7,N={'DEG_TO_RAD':Math['PI']/(0x26e+0xc94+-0x2*0x727),'RAD_TO_DEG':(0x161a+0x1255+-0x27bb)/Math['PI'],'clamp'(_0x504da5,_0x21a244,_0x2e98b5){return _0x504da5>=_0x2e98b5?_0x2e98b5:_0x504da5<=_0x21a244?_0x21a244:_0x504da5;},'intToBytes24'(_0x2396bf){const _0x4e4cd7=_0x2396bf>>-0x1*-0x243d+-0x290*-0x6+-0x112f*0x3&-0x3*0x297+-0x121*-0xa+-0x2*0x143,_0x309d46=_0x2396bf>>0xd93*0x1+-0x8ca+-0x4c1&-0xcd1+-0x1aaa*0x1+0x287a,_0x4c62a4=_0x2396bf&-0x5e2+-0xe18+0x14f9;return[_0x4e4cd7,_0x309d46,_0x4c62a4];},'intToBytes32'(_0x3c4aab){const _0x299cb3=_0x3c4aab>>0x2000+-0x1f98+-0x8*0xa&0x1afb*-0x1+0x410+0x17ea,_0x4cc140=_0x3c4aab>>-0x5f*0x56+-0x2446+0x4440&0x1637+-0x399*0x1+-0x119f,_0x3f2a12=_0x3c4aab>>0x1*0x2329+0x11ed+-0x350e&0x1*-0x1dad+-0x1f2a+-0x62f*-0xa,_0x2a77ed=_0x3c4aab&-0x1c*0xaf+-0x1269*-0x1+0x1ba;return[_0x299cb3,_0x4cc140,_0x3f2a12,_0x2a77ed];},'bytesToInt24'(_0x53150a,_0x396f15,_0x5af52d){return _0x53150a['length']&&(_0x5af52d=_0x53150a[0x25*-0x106+-0x2024+-0x4604*-0x1],_0x396f15=_0x53150a[0x2*0xbe4+-0xf5b*0x1+-0x86c],_0x53150a=_0x53150a[0x1edf*-0x1+-0x5b6+0x2495]),_0x53150a<<0x1*-0x1a57+0xcd4+0xd93|_0x396f15<<-0x1*-0x2399+-0x22ff+-0x92|_0x5af52d;},'bytesToInt32'(_0x57e2cc,_0x17cedb,_0x206344,_0x20866f){return _0x57e2cc['length']&&(_0x20866f=_0x57e2cc[0x16e5+-0x1*0xdd1+0xb*-0xd3],_0x206344=_0x57e2cc[0x1*0x131+0x108*-0x13+0x1269],_0x17cedb=_0x57e2cc[0x20f*0x7+-0x13*0x4b+-0x8d7],_0x57e2cc=_0x57e2cc[-0x270d+0x264d+-0x18*-0x8]),(_0x57e2cc<<-0xc5*-0x2d+-0x2*-0x4f7+-0x2c77|_0x17cedb<<0x12*0x11b+0x1*0x1899+-0x2c6f|_0x206344<<0x7d*0xd+0x20f2+-0x2743|_0x20866f)>>>0x1*0x10f+-0x1d78+0x1c69;},'lerp'(_0x2bc808,_0x260acb,_0x3a65de){return _0x2bc808+(_0x260acb-_0x2bc808)*N['clamp'](_0x3a65de,-0x39c+-0x25ad+-0xd*-0x32d,-0x1a4a+0x23ef+-0x1*0x9a4);},'lerpAngle'(_0x52df6b,_0x5f4556,_0xb83fcd){return _0x5f4556-_0x52df6b>0x7*-0x24f+-0x1*-0x141b+-0x2*0x19f&&(_0x5f4556-=0x1817+-0x5*-0x2ba+-0x1*0x2451),_0x5f4556-_0x52df6b<-(-0x835*0x1+-0x1*0x1381+0x1c6a)&&(_0x5f4556+=-0xbd7+0x1*-0x254f+-0x1947*-0x2),N['lerp'](_0x52df6b,_0x5f4556,N['clamp'](_0xb83fcd,-0x1a1+0x1be1+-0x1a40,0x219c+-0x1006+-0x1*0x1195));},'powerOfTwo'(_0x402d50){return _0x402d50!==0x1*-0x25ca+0x5a+0x2570*0x1&&!(_0x402d50&_0x402d50-(0x106+0x4b*-0x2+-0x1*0x6f));},'nextPowerOfTwo'(_0x5852e1){return _0x5852e1--,_0x5852e1|=_0x5852e1>>0x1e0+-0x23*0x7+-0x3*0x4e,_0x5852e1|=_0x5852e1>>0x1*0x1a1f+-0x1*-0x2005+-0x3a22,_0x5852e1|=_0x5852e1>>0x1*-0x100f+0x1*-0x794+0x17a7,_0x5852e1|=_0x5852e1>>-0x2*0x761+-0x1043+-0x1*-0x1f0d,_0x5852e1|=_0x5852e1>>-0x310+0x2471*-0x1+0x2791,_0x5852e1++,_0x5852e1;},'nearestPowerOfTwo'(_0x2bc07c){return Math['pow'](-0x2423+0x35b*-0xb+0x490e,Math['round'](Math['log'](_0x2bc07c)/Math['log'](0x21ed+-0x1b*0xf1+-0x880)));},'random'(_0x550c67,_0x35955b){const _0x1da2c1=_0x35955b-_0x550c67;return Math['random']()*_0x1da2c1+_0x550c67;},'smoothstep'(_0x524648,_0x324985,_0x20ae9c){return _0x20ae9c<=_0x524648?0x4*0x8c6+0x236a+-0x13*0x3b6:_0x20ae9c>=_0x324985?-0x100f*-0x2+0x1e10+0x3e2d*-0x1:(_0x20ae9c=(_0x20ae9c-_0x524648)/(_0x324985-_0x524648),_0x20ae9c*_0x20ae9c*(-0x22da*-0x1+0x1*-0x104b+0x4a3*-0x4-(-0x1*-0x1195+-0x1922+0x78f)*_0x20ae9c));},'smootherstep'(_0x330abf,_0x27b2e9,_0x6bc0f0){return _0x6bc0f0<=_0x330abf?-0x23*0x9+0xf63+0x1*-0xe28:_0x6bc0f0>=_0x27b2e9?-0x1*-0x16ea+-0x47*0x3+-0x1614:(_0x6bc0f0=(_0x6bc0f0-_0x330abf)/(_0x27b2e9-_0x330abf),_0x6bc0f0*_0x6bc0f0*_0x6bc0f0*(_0x6bc0f0*(_0x6bc0f0*(0x1*-0x97d+-0x4*-0x1a+0x6f*0x15)-(-0x1555+-0x1927+0x2e8b))+(0x1*0x1cf+-0x5*-0x66a+-0x21d7)));},'roundUp'(_0x54ce9b,_0x451804){return _0x451804===-0x22ab*0x1+-0x4*-0x31c+0x7*0x32d?_0x54ce9b:Math['ceil'](_0x54ce9b/_0x451804)*_0x451804;},'between'(_0x22df28,_0x5a675a,_0x281dab,_0x377a2e){const _0x283f62=Math['min'](_0x5a675a,_0x281dab),_0x4884e2=Math['max'](_0x5a675a,_0x281dab);return _0x377a2e?_0x22df28>=_0x283f62&&_0x22df28<=_0x4884e2:_0x22df28>_0x283f62&&_0x22df28<_0x4884e2;}},it=class it{constructor(_0x10e537=0x2cd+0x12fb+0x2b9*-0x8,_0x8f9254=-0x2570*-0x1+0x254f*-0x1+-0xb*0x3,_0x2f2834=-0x1309*-0x1+0x5*0x149+-0x1976,_0x397510=0x2*-0x68c+0xe2f+-0x116*0x1){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x3938af=_0x10e537['length'];_0x3938af===0x1*-0x26bd+-0x263c+0x4cfc||_0x3938af===0x11b0+0x1a9*-0x7+-0x60d?(this['r']=_0x10e537[-0x1*-0x204b+-0xa70+-0x15db],this['g']=_0x10e537[0x3*0x3e9+-0x315*0x9+0x1003],this['b']=_0x10e537[0xb*0x11b+0x1415+-0x101e*0x2],this['a']=_0x10e537[-0x1*-0x85f+-0x1d34+0x14d8]??-0x2*0x92a+0x23a1+-0x114c):(this['r']=_0x10e537,this['g']=_0x8f9254,this['b']=_0x2f2834,this['a']=_0x397510);}['clone'](){const _0x19f42c=this['constructo'+'r'];return new _0x19f42c(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x422f88){return this['r']=_0x422f88['r'],this['g']=_0x422f88['g'],this['b']=_0x422f88['b'],this['a']=_0x422f88['a'],this;}['equals'](_0x249407){return this['r']===_0x249407['r']&&this['g']===_0x249407['g']&&this['b']===_0x249407['b']&&this['a']===_0x249407['a'];}['set'](_0x2625df,_0x2e2e23,_0x3bc2a9,_0x3ab968=0x23c6+0x1fcf*0x1+-0x4394){return this['r']=_0x2625df,this['g']=_0x2e2e23,this['b']=_0x3bc2a9,this['a']=_0x3ab968,this;}['lerp'](_0x67380d,_0x2bd668,_0x6f97d3){return this['r']=_0x67380d['r']+_0x6f97d3*(_0x2bd668['r']-_0x67380d['r']),this['g']=_0x67380d['g']+_0x6f97d3*(_0x2bd668['g']-_0x67380d['g']),this['b']=_0x67380d['b']+_0x6f97d3*(_0x2bd668['b']-_0x67380d['b']),this['a']=_0x67380d['a']+_0x6f97d3*(_0x2bd668['a']-_0x67380d['a']),this;}['linear'](_0xbbd40e=this){return this['r']=Math['pow'](_0xbbd40e['r'],0x13*-0x7d+-0x115+0x2*0x52f+0.20000000000000018),this['g']=Math['pow'](_0xbbd40e['g'],0x26b*-0xb+0x88+0x5*0x537+0.20000000000000018),this['b']=Math['pow'](_0xbbd40e['b'],0x1735*0x1+0x7b0+-0x1ee3+0.20000000000000018),this['a']=_0xbbd40e['a'],this;}['gamma'](_0x2bd741=this){return this['r']=Math['pow'](_0x2bd741['r'],(-0x1f5c+0x9c1+0x159c)/(0x24e1*0x1+-0xc9d+0xcf*-0x1e+0.20000000000000018)),this['g']=Math['pow'](_0x2bd741['g'],(-0xb53*0x3+-0x28c*-0x7+0x1026)/(0xf*-0x1f+0x1dcc+0x953*-0x3+0.20000000000000018)),this['b']=Math['pow'](_0x2bd741['b'],(0x608+-0x16e7+0x10e0)/(0x88b*-0x1+0xb8d+-0x300+0.20000000000000018)),this['a']=_0x2bd741['a'],this;}['mulScalar'](_0x21d416){return this['r']*=_0x21d416,this['g']*=_0x21d416,this['b']*=_0x21d416,this;}['fromString'](_0x860d6e){const _0x460f38=parseInt(_0x860d6e['replace']('#','0x'),-0x1192+-0x8*-0x23b+0x6*-0x9);let _0x565f05;return _0x860d6e['length']>0x79*0x25+0x6d4+-0x184a?_0x565f05=N['intToBytes'+'32'](_0x460f38):(_0x565f05=N['intToBytes'+'24'](_0x460f38),_0x565f05[0x1305+0x14*-0x76+-0x9ca]=-0x766*-0x2+0x15c2+0x1*-0x238f),this['set'](_0x565f05[-0xe0e+0x2013+0x1205*-0x1]/(0x286*0x5+0x1e00+-0x5*0x853),_0x565f05[-0x11ed+-0x1199*-0x1+0x55]/(0x2*-0x35f+-0x19e5+0x21a2),_0x565f05[0x5*0x2a2+0xb73+-0x189b]/(0x4*0x1+0x2c9*-0x8+0x18d*0xf),_0x565f05[0x1cfb+0x58*-0x53+-0x70*0x1]/(0x2232+-0x1*0x1fb+-0x1f38)),this;}['fromArray'](_0xaf6f16,_0x4b34ef=0x3*-0x1e7+0x1b*-0x172+0x2cbb){return this['r']=_0xaf6f16[_0x4b34ef]??this['r'],this['g']=_0xaf6f16[_0x4b34ef+(0xc4a+0x3d4+-0xa5*0x19)]??this['g'],this['b']=_0xaf6f16[_0x4b34ef+(-0x1*-0xe43+0x15f7+0x121c*-0x2)]??this['b'],this['a']=_0xaf6f16[_0x4b34ef+(0xddd+0x12*0xc7+-0x63*0x48)]??this['a'],this;}['toString'](_0x393853,_0x6d7075){const {r:_0x1eb0f6,g:_0x38e2d1,b:_0x7157d4,a:_0x44c3eb}=this;if(_0x6d7075||_0x1eb0f6>0xb54+0x1*0x1daa+-0x5db*0x7||_0x38e2d1>-0x9aa+0xb*-0x2cf+-0x1*-0x2890||_0x7157d4>0x15a2+0x1644+-0x2be5)return _0x1eb0f6['toFixed'](0x1*0x1434+-0x665*0x4+0xc5*0x7)+',\x20'+_0x38e2d1['toFixed'](-0x22de+0x1*-0x2c2+0x25a3*0x1)+',\x20'+_0x7157d4['toFixed'](-0x3*0x199+-0x688+0x2*0x5ab)+',\x20'+_0x44c3eb['toFixed'](-0x2*0xd4f+0x332+0x176f);let _0x180dc8='#'+((-0xe47+0x19b4+0x44*-0x2b<<0x2324+0x9f1*0x3+0x1*-0x40df)+(Math['round'](_0x1eb0f6*(0x18*0x3+-0x7f*-0xa+0x1*-0x43f))<<-0x1*0x1058+0x2*0xed7+-0xd46)+(Math['round'](_0x38e2d1*(-0x1079*-0x1+-0xa7e+-0x16*0x3a))<<-0x26b*-0x9+-0x1bb1+0x5f6)+Math['round'](_0x7157d4*(-0x913*-0x2+-0x16*0x19d+-0x1257*-0x1)))['toString'](0xcd7*-0x3+0x2*-0x952+-0x3939*-0x1)['slice'](0x111+0xcbb*-0x1+0xbab);if(_0x393853===!(0xdc9+-0x20*0xae+0x7f7)){const _0x20e904=Math['round'](_0x44c3eb*(-0x17*-0x1a3+-0x87c*0x4+-0x15b*0x2))['toString'](0xe0a+0x10d*-0x11+0x3e3);this['a']<(-0x89*0x2a+-0x1289+-0x2913*-0x1)/(-0x2c5+-0x2703+-0x2f*-0xe9)?_0x180dc8+='0'+_0x20e904:_0x180dc8+=_0x20e904;}return _0x180dc8;}['toArray'](_0x20811a=[],_0x2fd59e=0x2179+0x7*0x4ad+-0x4234,_0x102edc=!(0x1*0xd61+0x1*-0x1fa5+0x1244)){return _0x20811a[_0x2fd59e]=this['r'],_0x20811a[_0x2fd59e+(0x3*0xa0b+-0x29*-0x2b+-0x5*0x767)]=this['g'],_0x20811a[_0x2fd59e+(-0x26a*0x4+-0x5*-0x83+0x71b)]=this['b'],_0x102edc&&(_0x20811a[_0x2fd59e+(0x10c9+-0xe33+0x293*-0x1)]=this['a']),_0x20811a;}};c(it,'BLACK',Object['freeze'](new it(0x627+0x27*-0x2f+-0x81*-0x2,-0x1*0x565+-0x4e4*0x3+0x1d3*0xb,0x12dd*-0x2+-0x68e*-0x1+0x299*0xc,0xe2*-0x17+0x124*-0x19+0x30d3))),c(it,'BLUE',Object['freeze'](new it(-0x1*-0xdfa+0x1*0x191d+-0x2717,0x60a+-0x1*0x19df+-0x13d5*-0x1,0xa88+-0x212a+0x16a3,0xbc4+-0xd91+0x1ce))),c(it,'CYAN',Object['freeze'](new it(-0x712+-0x2393+-0xe37*-0x3,0x1e00+0x43d*0x2+-0x2679,0x15e2*-0x1+0x1*0x1ddf+-0x7fc,0x243+0x1109+-0x1*0x134b))),c(it,'GRAY',Object['freeze'](new it(0xac*-0x33+0x11*-0xc+0x2310+0.5,0xe91+-0x12d3+0x2*0x221+0.5,-0x1f7c+0x400+-0x1b7c*-0x1+0.5,0x1*0x1dd0+-0x1*-0x529+-0x18*0x175))),c(it,'GREEN',Object['freeze'](new it(-0x1734+-0x24af+0x3be3,0xa3*-0x37+-0x581+-0x2887*-0x1,0x13*0x151+-0x15b*0x10+-0x353,-0xf12+0xedd*-0x1+-0x8*-0x3be))),c(it,'MAGENTA',Object['freeze'](new it(0x247d*0x1+0xc99*-0x1+0x17e3*-0x1,-0x5df*-0x2+0x1*0x2437+-0x2ff5,-0xfc6+0x15c9+-0x602,0x4*0x457+-0x4ff+0x1c4*-0x7))),c(it,'RED',Object['freeze'](new it(-0x243e+-0x1704+0x3b43,0xa54+-0x2ab*0xe+0x1b06,-0x45a*-0x1+0x209*-0x1+-0x251*0x1,-0x709*0x1+-0x17*0x13e+-0x56*-0x6a))),c(it,'WHITE',Object['freeze'](new it(0x197a+0xf17+-0x2890,-0x1aa9+-0x631+0x287*0xd,-0x4b6+0x116b*-0x2+0x278d,-0x1*-0x1969+0x2*0x683+0x1337*-0x2))),c(it,'YELLOW',Object['freeze'](new it(0x16fd+-0x7b3+-0x7*0x22f,-0x9c+-0xef*-0x1+0x52*-0x1,-0xdb+-0x1865+-0x10*-0x194,0xe1e+0x861+-0x1*0x167e)));let Y=it;class ly{constructor(_0x4363a7,_0xee38e7=-0x210+0x4*0x77e+0x5e*-0x4c){c(this,'_curve'),c(this,'_left',-(-0x959*0x2+0xeee+0x3c5*0x1)/(0x1*-0x1e49+0x2de+-0x1*-0x1b6b)),c(this,'_right',(0x1e07*0x1+0x1e96+-0x1434*0x3)/(0x3*0x1+0x1*0x1fe1+-0x1fe4)),c(this,'_recip',0x13*-0x1e3+0x33*-0x7f+0x3d26*0x1),c(this,'_p0',-0xf78+0x1*0x1ba5+-0x3*0x40f),c(this,'_p1',-0x3db*-0x6+0x12*0x1f3+-0x3a38),c(this,'_m0',-0x9+0x12f3+0x12ea*-0x1),c(this,'_m1',0x2268+0x23eb+-0x423*0x11),(this['_curve']=_0x4363a7,this['_reset'](_0xee38e7));}['evaluate'](_0x9df263,_0x3c3501=!(-0xfcd*-0x1+0x1*0x2259+-0x185*0x21)){(_0x3c3501||_0x9df263<this['_left']||_0x9df263>=this['_right'])&&this['_reset'](_0x9df263);let _0x451925;const _0x3fd663=this['_curve']['type'];if(_0x3fd663===SS)_0x451925=this['_p0'];else{const _0x4b873e=this['_recip']===-0x207*0xf+0x1257+0xc12*0x1?0x711+-0x90f+0x1fe:(_0x9df263-this['_left'])*this['_recip'];_0x3fd663===xS?_0x451925=N['lerp'](this['_p0'],this['_p1'],_0x4b873e):_0x3fd663===Df?_0x451925=N['lerp'](this['_p0'],this['_p1'],_0x4b873e*_0x4b873e*(-0x141d+-0xf6+0x1516-(-0x8e*0x23+-0xa*-0x399+-0x108e)*_0x4b873e)):_0x451925=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x4b873e);}return _0x451925;}['_reset'](_0x3ff2a7){const _0x1584d1=this['_curve']['keys'],_0x183705=_0x1584d1['length'];if(!_0x183705)this['_left']=-(0x1357+0x1e18+-0x316e)/(-0x1*0x463+-0x11*-0x241+-0x21ee),this['_right']=(-0x2a7+0x202*0x5+0x762*-0x1)/(-0x1dc*-0x3+0x2b*-0x4c+0x730),this['_recip']=-0x11fc+-0x1*-0x1a0b+-0x80f*0x1,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x3a*-0x1+-0x3*0x32d+0x9c1;else{if(_0x3ff2a7<_0x1584d1[0x1410+0x11da+-0x25ea][-0x1afe+0x997+0x1167])this['_left']=-(-0x187b+0x613*0x3+-0x643*-0x1)/(0x6ca*0x5+0x1bef+0x49*-0xd9),this['_right']=_0x1584d1[-0x172f*0x1+0x1b70*0x1+-0x441][-0x59f+0x883+0xb9*-0x4],this['_recip']=0x593*0x5+0x1eb2+-0x3a91,this['_p0']=this['_p1']=_0x1584d1[-0x1f6a+-0x19f+0x1*0x2109][0x17*-0x1a0+-0x2639+0x4b9a],this['_m0']=this['_m1']=-0xe13+0x13ba+-0x5a7;else{if(_0x3ff2a7>=_0x1584d1[_0x183705-(-0xc5+0x5e*0x31+-0x1*0x1138)][-0x8d8+0xde7*-0x1+-0x287*-0x9])this['_left']=_0x1584d1[_0x183705-(-0x1163*-0x1+-0x86*0x19+0x5*-0xdc)][0x1d4b+0x26ab+-0x43f6*0x1],this['_right']=(-0x1902*0x1+0xbb9*0x1+-0xf3*-0xe)/(0x22f8+-0x2f*-0x73+-0x3815),this['_recip']=-0x3f*-0x11+-0x1964+0x1535,this['_p0']=this['_p1']=_0x1584d1[_0x183705-(-0x15*-0x1d2+0x1dd5+-0x440e)][0x35*0xbb+0x4*0x7d+-0x28aa],this['_m0']=this['_m1']=0x23ff+0xf1*-0x3+-0x212c;else{let _0x2c6420=-0x48c*0x2+-0x86b*-0x1+-0x1*-0xad;for(;_0x3ff2a7>=_0x1584d1[_0x2c6420+(-0x2c9+-0x57e*-0x2+-0x832)][0x17*0xca+-0x266a+0x1444];)_0x2c6420++;this['_left']=_0x1584d1[_0x2c6420][-0xea5+-0x3e*-0x35+0x1cf],this['_right']=_0x1584d1[_0x2c6420+(-0x364*-0x3+-0x25*0x59+0x2b2)][-0x1*-0x13ab+0x1398+-0x211*0x13];const _0x228738=(0x1*0x3c4+-0x1*-0x1a3f+-0x1e02)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x228738)?_0x228738:0x800*-0x4+-0x17*-0xb6+-0x2*-0x7d3,this['_p0']=_0x1584d1[_0x2c6420][-0x1f73+-0x2ab*0x2+-0x115*-0x22],this['_p1']=_0x1584d1[_0x2c6420+(0x34c+-0xf53*-0x1+-0x2*0x94f)][-0x10ba*-0x1+-0x49*0x14+-0xb05],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x1584d1,_0x2c6420);}}}}['_calcTange'+'nts'](_0x29914e,_0xfd8e7){let _0x1abade;const _0x1ab777=_0x29914e[_0xfd8e7],_0x21c54a=_0x29914e[_0xfd8e7+(0x1b88+-0xb6*0x1b+-0x2c7*0x3)];let _0x383dbf;if(_0xfd8e7===-0x222d+0x7da*0x1+0x1a53?_0x1abade=[_0x29914e[0x199a*-0x1+-0x1*0xe89+0x2823][0xe69*-0x1+-0x1*0x1d44+0x2bad]+(_0x29914e[-0xbdf*0x1+0x1735+-0x1*0xb56][-0x22d4+-0x4bc*0x3+-0x1058*-0x3]-_0x29914e[0x1c1+-0x687+0x4c7][0x591+-0x2408+0x1e77]),_0x29914e[0x1*-0x1a23+-0xf3+-0xd8b*-0x2][-0x7*-0x52a+-0x1da8+-0xb*0x97]+(_0x29914e[0x15cf+-0xd*-0x25+0xbd8*-0x2][-0x79*0xa+-0x1d7b+0x2236*0x1]-_0x29914e[0xd*0x2e7+0x57e+-0x2b38][0x13a6+-0x5*-0x27+-0x1468])]:_0x1abade=_0x29914e[_0xfd8e7-(-0x43*0x1+-0x2e1*0x3+0x8e7)],_0xfd8e7===_0x29914e['length']-(0x11fb*-0x2+-0x152f+-0x130d*-0x3)?_0x383dbf=[_0x29914e[_0xfd8e7+(0x3*0x9ff+-0x1227+-0xbd5)][-0xfc*-0x27+0xfc7+-0x362b]+(_0x29914e[_0xfd8e7+(0x240*0xe+0x25*0xf3+-0x429e)][-0x1*-0x1d24+0x3a7*-0x1+-0x197d]-_0x29914e[_0xfd8e7][-0x1a3e+-0x1d1b+0x3759]),_0x29914e[_0xfd8e7+(0x4*0x8b1+-0x108c+-0x1*0x1237)][-0xb76+0x233c+-0x4c1*0x5]+(_0x29914e[_0xfd8e7+(0xb78+-0x78c+0x1*-0x3eb)][-0x2*-0x3b3+0x8*0x3c3+-0x15*0x1c9]-_0x29914e[_0xfd8e7][0x23b*-0x4+-0x1*0x63d+0xf2a])]:_0x383dbf=_0x29914e[_0xfd8e7+(-0x1969+-0x1*-0x1853+0x118)],this['_curve']['type']===sm){const _0x34e738=(-0x1*-0xb5f+-0x1dfe+0x13*0xfb)*(_0x21c54a[0x117*0x1f+-0x132c+0x3*-0x4df]-_0x1ab777[0xe04+0x1bdd+-0x29e1])/(_0x21c54a[0x1*0xb59+-0x2*0x687+-0x17*-0x13]-_0x1abade[0xf38+0x2*0xd46+0x252*-0x12]),_0x1f4976=(0x14e9+0x20bc+-0x35a3)*(_0x21c54a[0x19ab+-0x1a*-0x102+-0x769*0x7]-_0x1ab777[0xa5f*0x3+0x5*-0x33b+-0xef6])/(_0x383dbf[0x47*0x5b+-0x249b+0xb5e]-_0x1ab777[0x9*0x13f+-0x1801*-0x1+-0x17*0x188]);this['_m0']=this['_curve']['tension']*(isFinite(_0x34e738)?_0x34e738:0x58*0x64+-0xdc9+-0x1497)*(_0x21c54a[-0x1*0x6e2+-0x1c3b+0x231e]-_0x1abade[0x199f+-0x19b+-0x1803]),this['_m1']=this['_curve']['tension']*(isFinite(_0x1f4976)?_0x1f4976:-0x663*-0x1+-0x29*-0xca+-0x26bd)*(_0x383dbf[-0x1*0x1b9b+0x297+-0x5*-0x501]-_0x1ab777[-0xd*-0xa7+-0x3b*-0x59+-0x1cfd]);}else{const _0x1a1625=(_0x21c54a[0x4*-0x962+-0x1dc9+0x4351]-_0x1ab777[-0x11af+-0x26ae+0x133*0x2f])/(_0x1ab777[-0x1*0x75d+-0x11a*-0x2+0x529]-_0x1abade[-0xb*0x41+0x1*0x17f5+-0x9*0x25a]),_0xce1240=(_0x21c54a[-0x2cd+0x607*0x3+-0xf48]-_0x1ab777[0x43f*0x2+-0x1f2b*0x1+-0x81*-0x2d])/(_0x383dbf[-0x1a32+0x8a*-0x17+-0x4c*-0x82]-_0x21c54a[0x34e+-0x2270+0x1f22]),_0x2aecec=_0x1ab777[0x1a3b+0x387*-0x7+-0x189*0x1]+(_0x1abade[-0x1462+0x1*0x14de+-0x7b]-_0x1ab777[0x52*0x4+-0x1*0x2f6+0x1af*0x1])*(isFinite(_0x1a1625)?_0x1a1625:-0x7b*-0x5+0x19f4+-0x1c5b),_0x47df15=_0x21c54a[-0x1*0x1193+0x52f*-0x5+0x2b7f]+(_0x383dbf[0x1ef2*0x1+-0x89b+-0x1656*0x1]-_0x21c54a[0x14c*0x1+-0x58*0x11+0x48d])*(isFinite(_0xce1240)?_0xce1240:-0x1bd8+-0x2df+0x1eb7),_0x311dae=this['_curve']['tension'];this['_m0']=_0x311dae*(_0x21c54a[-0xdbf+0x73d*0x3+-0x7f7]-_0x2aecec),this['_m1']=_0x311dae*(_0x47df15-_0x1ab777[-0x28c*0xa+0x1*0x85+0x4*0x63d]);}}['_evaluateH'+'ermite'](_0x3dec76,_0x114bd4,_0x3f8f54,_0x5858a6,_0x43f925){const _0x58ceca=_0x43f925*_0x43f925,_0x48ee31=_0x43f925+_0x43f925,_0x424ae3=0x267f+-0x614+-0x206a-_0x43f925,_0x5ddf6e=_0x424ae3*_0x424ae3;return _0x3dec76*((0x47f+0x1dc8+0x1123*-0x2+_0x48ee31)*_0x5ddf6e)+_0x3f8f54*(_0x43f925*_0x5ddf6e)+_0x114bd4*(_0x58ceca*(0x2605*0x1+-0x1d39+-0x8c9-_0x48ee31))+_0x5858a6*(_0x58ceca*(_0x43f925-(-0x248e+-0x1969+0x3df8)));}}class Cs{constructor(_0x2bf4c3){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',-0x5c1*-0x2+-0x1272*-0x2+0x15*-0x24e+0.5),c(this,'_eval',new ly(this));if(_0x2bf4c3){for(let _0x1d9bef=-0x1bd5+-0x5fc+-0x21d1*-0x1;_0x1d9bef<_0x2bf4c3['length']-(0x1cb7+-0x1558+-0x3af*0x2);_0x1d9bef+=-0x92*-0x1b+-0x222+-0x1*0xd42)this['keys']['push']([_0x2bf4c3[_0x1d9bef],_0x2bf4c3[_0x1d9bef+(0xd*-0x2d1+-0x4bc*0x6+0x4106)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x3824ee,_0x487b21){const _0x5710b4=this['keys'],_0x4a4a67=_0x5710b4['length'];let _0x1c3bb6=-0xd55+0x1*0x16f3+-0x99e*0x1;for(;_0x1c3bb6<_0x4a4a67&&!(_0x5710b4[_0x1c3bb6][-0x1*0x70a+-0x26e1+0x1*0x2deb]>_0x3824ee);_0x1c3bb6++);const _0x243648=[_0x3824ee,_0x487b21];return this['keys']['splice'](_0x1c3bb6,0x5*0x295+0x8*0x450+-0x2f69*0x1,_0x243648),_0x243648;}['get'](_0x56d9ae){return this['keys'][_0x56d9ae];}['sort'](){this['keys']['sort']((_0x5cda58,_0x1e997e)=>_0x5cda58[0x239d+-0xdd0*0x2+0x5*-0x199]-_0x1e997e[-0x1d6+0x13b1*-0x1+0x1587]);}['value'](_0x245da1){return this['_eval']['evaluate'](_0x245da1,!(0x1f6c+0x5*-0x125+-0x19b3));}['closest'](_0x156922){const _0x1d9d9c=this['keys'],_0x4ff310=_0x1d9d9c['length'];let _0xa7991f=-0x2499+-0x9b6*-0x2+-0x53*-0x35,_0x4dbf6d=null;for(let _0x4e1766=-0x3*0x6fb+0x8*-0x4aa+0x3*0x136b;_0x4e1766<_0x4ff310;_0x4e1766++){const _0x6fa781=Math['abs'](_0x156922-_0x1d9d9c[_0x4e1766][-0x19cf+-0x22ac+0x3c7b]);if(_0xa7991f>=_0x6fa781)_0xa7991f=_0x6fa781,_0x4dbf6d=_0x1d9d9c[_0x4e1766];else break;}return _0x4dbf6d;}['clone'](){const _0xbf2a85=new this['constructo'+'r']();return _0xbf2a85['keys']=this['keys']['map'](_0x4af3c7=>[..._0x4af3c7]),_0xbf2a85['type']=this['type'],_0xbf2a85['tension']=this['tension'],_0xbf2a85;}['quantize'](_0x2ab07e){_0x2ab07e=Math['max'](_0x2ab07e,-0x1676+-0x1873*0x1+-0x2eeb*-0x1);const _0x4cd71c=new Float32Array(_0x2ab07e),_0x4cc264=(0x81a*0x4+0x3f4*-0x1+0x1c73*-0x1)/(_0x2ab07e-(-0xabf+-0x1*-0x1eb+0x8d5));_0x4cd71c[-0x1b65*0x1+0x16*0x165+-0x349]=this['_eval']['evaluate'](0x1d7e+0x14f2+-0x3270,!(0x1c23+0xc22+0x1*-0x2845));for(let _0x201b93=-0x3*0x624+-0x1896+0x625*0x7;_0x201b93<_0x2ab07e;_0x201b93++)_0x4cd71c[_0x201b93]=this['_eval']['evaluate'](_0x4cc264*_0x201b93);return _0x4cd71c;}['quantizeCl'+'amped'](_0x1fc4b5,_0xbd5c67,_0x201d0){const _0x237067=this['quantize'](_0x1fc4b5);for(let _0x250142=0x125e+0x445*-0x8+0xfca;_0x250142<_0x237067['length'];++_0x250142)_0x237067[_0x250142]=Math['min'](_0x201d0,Math['max'](_0xbd5c67,_0x237067[_0x250142]));return _0x237067;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>0x2278+0x60+0x1*-0x22d7){for(let _0x106ec1=-0x1*0x7ad+0x1c57+-0x14aa;_0x106ec1<arguments['length'];_0x106ec1++)this['curves']['push'](new Cs(arguments[_0x106ec1]));}else{if(arguments['length']===-0xa*-0x84+-0x4*-0x198+-0xb88)this['curves']['push'](new Cs());else{const _0x5c1c3a=arguments[0x1ca*-0x9+-0x47a*-0x4+-0xb*0x2a];if(typeof _0x5c1c3a=='number'){for(let _0x16de27=0xa33+0x8d6+-0xb*0x1bb;_0x16de27<_0x5c1c3a;_0x16de27++)this['curves']['push'](new Cs());}else{for(let _0x367f5b=-0x14f7*-0x1+0x82+-0x1579;_0x367f5b<_0x5c1c3a['length'];_0x367f5b++)this['curves']['push'](new Cs(_0x5c1c3a[_0x367f5b]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x961343){this['_type']=_0x961343;for(let _0x4a0fa4=-0xf84*0x1+-0x1*0x6b6+0x163a;_0x4a0fa4<this['curves']['length'];_0x4a0fa4++)this['curves'][_0x4a0fa4]['type']=_0x961343;}get['type'](){return this['_type'];}['get'](_0x27267a){return this['curves'][_0x27267a];}['value'](_0x2c35,_0x28bd6d=[]){const _0x44f35c=this['curves']['length'];_0x28bd6d['length']=_0x44f35c;for(let _0xf78f1d=-0x1b6a+0x1*0xa46+0x1124;_0xf78f1d<_0x44f35c;_0xf78f1d++)_0x28bd6d[_0xf78f1d]=this['curves'][_0xf78f1d]['value'](_0x2c35);return _0x28bd6d;}['clone'](){const _0x2012df=new this['constructo'+'r']();_0x2012df['curves']=[];for(let _0x4690d3=-0x2629+-0xa68+0x3091;_0x4690d3<this['curves']['length'];_0x4690d3++)_0x2012df['curves']['push'](this['curves'][_0x4690d3]['clone']());return _0x2012df['_type']=this['_type'],_0x2012df;}['quantize'](_0x2a009f){_0x2a009f=Math['max'](_0x2a009f,-0x1bf3+0x239d+-0x7a8);const _0x40cf71=this['curves']['length'],_0x32a478=new Float32Array(_0x2a009f*_0x40cf71),_0x337cfc=(-0x4*-0x99f+0xe39*0x1+0x34b4*-0x1)/(_0x2a009f-(-0xb07*0x1+-0xf1b+0x1a23*0x1));for(let _0x522a27=-0x11*-0x205+-0x1*-0x1421+-0x3676;_0x522a27<_0x40cf71;_0x522a27++){const _0xf72c75=new ly(this['curves'][_0x522a27]);for(let _0xa1d9eb=0x1*-0xecf+-0x11*0x175+0x2794;_0xa1d9eb<_0x2a009f;_0xa1d9eb++)_0x32a478[_0xa1d9eb*_0x40cf71+_0x522a27]=_0xf72c75['evaluate'](_0x337cfc*_0xa1d9eb);}return _0x32a478;}['quantizeCl'+'amped'](_0xb0476,_0x7859c6,_0x39f479){const _0x27d1a2=this['quantize'](_0xb0476);for(let _0x3ca835=0x15ad+-0x1*0x26b2+-0x1*-0x1105;_0x3ca835<_0x27d1a2['length'];++_0x3ca835)_0x27d1a2[_0x3ca835]=Math['min'](_0x39f479,Math['max'](_0x7859c6,_0x27d1a2[_0x3ca835]));return _0x27d1a2;}}let im=0x26a3+0x14f5+-0x3b93;const id=(0x6b*-0x25+-0x7*-0x2fb+0x1*-0x565)/(-0x2033+-0x17ea+-0x1*-0x391c),du=new Float32Array(-0x1*-0x3f1+-0x47*-0x2e+-0x10b2),rm=new Int32Array(du['buffer']);class Wt{static['float2Half'](_0x27f9e1){du[0x4*0x62a+0x4c*0xd+-0x2*0xe42]=_0x27f9e1;const _0x20d65d=rm[-0x15a2+-0x21ab+0x1*0x374d];let _0x148dde=_0x20d65d>>-0x7f*-0x2b+-0x1bf0+-0x1*-0x6ab&-0xa7a7+0x6ec0+-0x24fb*-0x5,_0x2e912a=_0x20d65d>>0x7ce*0x5+0x1*-0xe9+0x5*-0x79d&-0x9a5+-0x11f4+-0x1*-0x2398;const _0xb3cc43=_0x20d65d>>0xedf+-0x188f+0x9c7&0xce*0x26+0x5*0x22b+-0x286c;return _0xb3cc43<0x9*-0x1a5+-0x11*-0x14b+-0x6c7?_0x148dde:_0xb3cc43>-0x1*0x1f1a+-0x13*0x169+0x3a73?(_0x148dde|=-0x55c3+0x251d+0x16*0x7d9,_0x148dde|=(_0xb3cc43===0x119f+0x4*-0x8a5+0x6*0x2fe?0x1240+-0x182d+0x5ed:0x511*0x4+0x154a+-0x298d)&&_0x20d65d&0x407dcc+-0x71*0x1d78b+-0x472e*-0x3d1,_0x148dde):_0xb3cc43<0x1aa*0x6+-0x1c51*0x1+0x12c6?(_0x2e912a|=0x19d*0x5+-0x22ec+-0x22db*-0x1,_0x148dde|=(_0x2e912a>>-0x16af*-0x1+-0x22f1*0x1+0xcb4-_0xb3cc43)+(_0x2e912a>>0x1f9d+0x7*0x2dd+-0x3337-_0xb3cc43&0xb71+0x1e97+0x2a07*-0x1),_0x148dde):(_0x148dde|=_0xb3cc43-(-0x2429*0x1+-0x2*-0x119+0x2267*0x1)<<0x1*0x886+0x1a0f+-0x228b|_0x2e912a>>0x7*0x1a3+0x1*0x160d+0x2181*-0x1,_0x148dde+=_0x2e912a&-0x10b7+0x2037+-0xf7f*0x1,_0x148dde);}static['float2Byte'+'s'](_0x3d669f,_0x2f1031,_0x2a82bb,_0x2eebf8){const _0x40a89e=(-0xc05+-0x2*-0x12db+-0x1*0x18b2)*_0x3d669f%(0x1*-0x13ed+0x9c6+0x1a*0x64);if(_0x2f1031[_0x2a82bb+(-0x26d3+-0x1a95*0x1+-0x958*-0x7)]=Math['round']((_0x3d669f%(0x267c+0x1deb+0x11*-0x406)-id*_0x40a89e)*(0x1cd3+0xe0+-0x1cb4)),_0x2eebf8>-0x602*0x5+-0x17e1+0x35ec){const _0x569e29=(0x134c8+-0x1*-0x13fd5+0x89*-0x2bc)*_0x3d669f%(-0x18c2*0x1+0x19*-0x49+-0xd*-0x274);if(_0x2f1031[_0x2a82bb+(0x4b1*-0x7+0x85*0x32+0x1*0x6de)]=Math['round']((_0x40a89e-id*_0x569e29)*(-0x623*-0x5+-0x152f+-0x881)),_0x2eebf8>0x1aed+0x102b*-0x2+0x56b){const _0x18d2d3=(0x1a1c4ee+0x4f84f6+-0xf446e5)*_0x3d669f%(0x4*-0x1b4+-0x1*0x1cb3+-0x11c2*-0x2);_0x2f1031[_0x2a82bb+(-0x4d*-0x5e+0x1f5e+-0x3ba2)]=Math['round']((_0x569e29-id*_0x18d2d3)*(-0x22*-0x100+0xd19*-0x1+-0x4*0x4fa)),_0x2eebf8>-0x180*0xc+-0x2*0xff5+0x31ed&&(_0x2f1031[_0x2a82bb+(0x109d*-0x1+0x1*0x1191+0x1*-0xf1)]=Math['round'](_0x18d2d3*(-0x2bd*0xd+0x2*0x753+0x15f2)));}}}static['float2Byte'+'sRange'](_0x20df5f,_0x33b6a1,_0x2dbfbe,_0x38dfca,_0x1b9fe0,_0x5671d7){(_0x20df5f<_0x38dfca||_0x20df5f>_0x1b9fe0)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x20df5f=N['clamp']((_0x20df5f-_0x38dfca)/(_0x1b9fe0-_0x38dfca),0x2*-0x4e7+-0xa3*-0x24+-0x2e*0x49,0x521+-0xad6+-0x1*-0x5b6),Wt['float2Byte'+'s'](_0x20df5f,_0x33b6a1,_0x2dbfbe,_0x5671d7);}static['float2RGBA'+'8'](_0x7c562f,_0x28f109){du[0x932+-0x29*0x7f+0xb25]=_0x7c562f;const _0x3d9fa4=rm[-0x22c1+0x756*0x3+0xcbf*0x1];_0x28f109['r']=(_0x3d9fa4>>-0x2034+0x22b+0x359*0x9&-0x8*0x3af+-0x1069+-0x1e*-0x190)/(-0x2045+-0x8*-0x26f+0xdcc),_0x28f109['g']=(_0x3d9fa4>>-0x5cf*0x1+-0x1777*-0x1+-0x8cc*0x2&-0x203c+0x73*0x17+0xb73*0x2)/(-0x1233+0x1*-0x16c1+0x29f3),_0x28f109['b']=(_0x3d9fa4>>-0xbff+0xf1*-0x4+0xfcb&0x593*0x1+-0x21*-0x9+-0x5bd)/(-0x2279+0x207+0x2171),_0x28f109['a']=(_0x3d9fa4&-0x1b69+-0x1*0x5cf+0x13*0x1cd)/(0xff7*-0x1+0x1e56+0x1*-0xd60);}}const rt=class rt{constructor(_0x478a23=-0x1ec*-0x2+-0x196a+0x1592,_0x36dd7d=0x2ac*-0x8+0x1d03+-0x7a3,_0x447cb8=0xdf*-0x26+0x22b3*-0x1+-0x43cd*-0x1){c(this,'x'),c(this,'y'),c(this,'z'),_0x478a23['length']===-0x13*-0xb7+-0x179d+0xa0b?(this['x']=_0x478a23[0x8cc+-0x1149+0x35*0x29],this['y']=_0x478a23[0x1f86+-0x524+-0x1a61],this['z']=_0x478a23[0x9b5+0x3*0x2d7+-0x35*0x58]):(this['x']=_0x478a23,this['y']=_0x36dd7d,this['z']=_0x447cb8);}['add'](_0x1add3d){return this['x']+=_0x1add3d['x'],this['y']+=_0x1add3d['y'],this['z']+=_0x1add3d['z'],this;}['add2'](_0x2d9bf2,_0x1d7759){return this['x']=_0x2d9bf2['x']+_0x1d7759['x'],this['y']=_0x2d9bf2['y']+_0x1d7759['y'],this['z']=_0x2d9bf2['z']+_0x1d7759['z'],this;}['addScalar'](_0x5e07af){return this['x']+=_0x5e07af,this['y']+=_0x5e07af,this['z']+=_0x5e07af,this;}['addScaled'](_0x150cbe,_0x4c87dc){return this['x']+=_0x150cbe['x']*_0x4c87dc,this['y']+=_0x150cbe['y']*_0x4c87dc,this['z']+=_0x150cbe['z']*_0x4c87dc,this;}['clone'](){const _0x174454=this['constructo'+'r'];return new _0x174454(this['x'],this['y'],this['z']);}['copy'](_0x39aab0){return this['x']=_0x39aab0['x'],this['y']=_0x39aab0['y'],this['z']=_0x39aab0['z'],this;}['cross'](_0x2c4fcb,_0x27a787){const _0x1fc895=_0x2c4fcb['x'],_0x19f18b=_0x2c4fcb['y'],_0x2b1bd9=_0x2c4fcb['z'],_0x2a9ec0=_0x27a787['x'],_0x302348=_0x27a787['y'],_0x2be404=_0x27a787['z'];return this['x']=_0x19f18b*_0x2be404-_0x302348*_0x2b1bd9,this['y']=_0x2b1bd9*_0x2a9ec0-_0x2be404*_0x1fc895,this['z']=_0x1fc895*_0x302348-_0x2a9ec0*_0x19f18b,this;}['distance'](_0x3392a9){const _0x36e39d=this['x']-_0x3392a9['x'],_0x247064=this['y']-_0x3392a9['y'],_0x542d2f=this['z']-_0x3392a9['z'];return Math['sqrt'](_0x36e39d*_0x36e39d+_0x247064*_0x247064+_0x542d2f*_0x542d2f);}['div'](_0x1d75f7){return this['x']/=_0x1d75f7['x'],this['y']/=_0x1d75f7['y'],this['z']/=_0x1d75f7['z'],this;}['div2'](_0x421d9f,_0x5295d5){return this['x']=_0x421d9f['x']/_0x5295d5['x'],this['y']=_0x421d9f['y']/_0x5295d5['y'],this['z']=_0x421d9f['z']/_0x5295d5['z'],this;}['divScalar'](_0x57ffa8){return this['x']/=_0x57ffa8,this['y']/=_0x57ffa8,this['z']/=_0x57ffa8,this;}['dot'](_0x3ef57f){return this['x']*_0x3ef57f['x']+this['y']*_0x3ef57f['y']+this['z']*_0x3ef57f['z'];}['equals'](_0x35b88){return this['x']===_0x35b88['x']&&this['y']===_0x35b88['y']&&this['z']===_0x35b88['z'];}['equalsAppr'+'ox'](_0x14c772,_0xa22819=-0x1*0x48b+-0xb3*0x1f+0x1*0x1a38+0.000001){return Math['abs'](this['x']-_0x14c772['x'])<_0xa22819&&Math['abs'](this['y']-_0x14c772['y'])<_0xa22819&&Math['abs'](this['z']-_0x14c772['z'])<_0xa22819;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x43d108,_0x46e86c,_0x12a13c){return this['x']=_0x43d108['x']+_0x12a13c*(_0x46e86c['x']-_0x43d108['x']),this['y']=_0x43d108['y']+_0x12a13c*(_0x46e86c['y']-_0x43d108['y']),this['z']=_0x43d108['z']+_0x12a13c*(_0x46e86c['z']-_0x43d108['z']),this;}['mul'](_0x1470b0){return this['x']*=_0x1470b0['x'],this['y']*=_0x1470b0['y'],this['z']*=_0x1470b0['z'],this;}['mul2'](_0x20d7ec,_0x444ecb){return this['x']=_0x20d7ec['x']*_0x444ecb['x'],this['y']=_0x20d7ec['y']*_0x444ecb['y'],this['z']=_0x20d7ec['z']*_0x444ecb['z'],this;}['mulScalar'](_0x268053){return this['x']*=_0x268053,this['y']*=_0x268053,this['z']*=_0x268053,this;}['normalize'](_0x4e24f6=this){const _0x417354=_0x4e24f6['x']*_0x4e24f6['x']+_0x4e24f6['y']*_0x4e24f6['y']+_0x4e24f6['z']*_0x4e24f6['z'];if(_0x417354>-0x4ad+-0x1aa+0x657){const _0x5f3877=(0x19da+0x716+-0x20ef*0x1)/Math['sqrt'](_0x417354);this['x']=_0x4e24f6['x']*_0x5f3877,this['y']=_0x4e24f6['y']*_0x5f3877,this['z']=_0x4e24f6['z']*_0x5f3877;}return this;}['floor'](_0x42ec74=this){return this['x']=Math['floor'](_0x42ec74['x']),this['y']=Math['floor'](_0x42ec74['y']),this['z']=Math['floor'](_0x42ec74['z']),this;}['ceil'](_0x50b755=this){return this['x']=Math['ceil'](_0x50b755['x']),this['y']=Math['ceil'](_0x50b755['y']),this['z']=Math['ceil'](_0x50b755['z']),this;}['round'](_0x4dfc26=this){return this['x']=Math['round'](_0x4dfc26['x']),this['y']=Math['round'](_0x4dfc26['y']),this['z']=Math['round'](_0x4dfc26['z']),this;}['min'](_0x508ab5){return _0x508ab5['x']<this['x']&&(this['x']=_0x508ab5['x']),_0x508ab5['y']<this['y']&&(this['y']=_0x508ab5['y']),_0x508ab5['z']<this['z']&&(this['z']=_0x508ab5['z']),this;}['max'](_0x1ec316){return _0x1ec316['x']>this['x']&&(this['x']=_0x1ec316['x']),_0x1ec316['y']>this['y']&&(this['y']=_0x1ec316['y']),_0x1ec316['z']>this['z']&&(this['z']=_0x1ec316['z']),this;}['project'](_0xc942d8){const _0x218284=this['x']*_0xc942d8['x']+this['y']*_0xc942d8['y']+this['z']*_0xc942d8['z'],_0x32e471=_0xc942d8['x']*_0xc942d8['x']+_0xc942d8['y']*_0xc942d8['y']+_0xc942d8['z']*_0xc942d8['z'],_0x1b94f4=_0x218284/_0x32e471;return this['x']=_0xc942d8['x']*_0x1b94f4,this['y']=_0xc942d8['y']*_0x1b94f4,this['z']=_0xc942d8['z']*_0x1b94f4,this;}['set'](_0x5f35af,_0x59fbb0,_0x2383a4){return this['x']=_0x5f35af,this['y']=_0x59fbb0,this['z']=_0x2383a4,this;}['sub'](_0x19efdb){return this['x']-=_0x19efdb['x'],this['y']-=_0x19efdb['y'],this['z']-=_0x19efdb['z'],this;}['sub2'](_0x4d8ecb,_0x192fe7){return this['x']=_0x4d8ecb['x']-_0x192fe7['x'],this['y']=_0x4d8ecb['y']-_0x192fe7['y'],this['z']=_0x4d8ecb['z']-_0x192fe7['z'],this;}['subScalar'](_0x291699){return this['x']-=_0x291699,this['y']-=_0x291699,this['z']-=_0x291699,this;}['fromArray'](_0x39fa3f,_0xc9bc06=-0x269b+-0xd81+0x341c){return this['x']=_0x39fa3f[_0xc9bc06]??this['x'],this['y']=_0x39fa3f[_0xc9bc06+(-0x15ad+-0x5fb*0x1+0x1ba9)]??this['y'],this['z']=_0x39fa3f[_0xc9bc06+(-0x13f1+0x4f9+0xefa)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x318df3=[],_0x47d3cc=0x2*0x2c4+0x3e*-0x9c+0x2040){return _0x318df3[_0x47d3cc]=this['x'],_0x318df3[_0x47d3cc+(-0x26ed+0x5*0xa+0x26bc)]=this['y'],_0x318df3[_0x47d3cc+(0x4*0x1d8+-0x1fc4+-0x2b6*-0x9)]=this['z'],_0x318df3;}};c(rt,'ZERO',Object['freeze'](new rt(-0x44e*0x4+0x4eb+0xc4d,0x27a*-0x5+0x137a*-0x2+0x3356,0x4*0x359+-0x105e*-0x1+-0x1dc2))),c(rt,'HALF',Object['freeze'](new rt(-0x35*-0x22+-0x1*-0x23d7+-0x2ae1+0.5,0x1*0x1d07+-0xb6f*-0x1+-0x2876+0.5,-0x27*-0x33+-0x15d6+0xe11+0.5))),c(rt,'ONE',Object['freeze'](new rt(-0x8fe*-0x3+0x13*0x16+0x1c9b*-0x1,0xa*0x67+0x1*0x1b13+-0x2*0xf8c,0x9*-0x11+0x2541+-0x24a7))),c(rt,'UP',Object['freeze'](new rt(0xe76+-0x2108+0x1292,-0x7b*0x7+0x2321+0x1fc3*-0x1,0x20a9+-0x644+-0x1a65))),c(rt,'DOWN',Object['freeze'](new rt(-0x1*-0xb69+0x11*-0x45+-0x6d4,-(-0x1*0x1690+-0x1e76+-0x21f*-0x19),-0x6ae+0x1207+-0x1*0xb59))),c(rt,'RIGHT',Object['freeze'](new rt(0x3ab+-0x1fdd+-0x1*-0x1c33,0x2d*-0xd+0xe87+-0xc3e,0xadf+-0x2664+0x5*0x581))),c(rt,'LEFT',Object['freeze'](new rt(-(-0x14cf+0x1ac4+-0x5f4),-0x891+0xbda+-0x1*0x349,0x1*-0x1114+-0xf1*-0x4+0xd50))),c(rt,'FORWARD',Object['freeze'](new rt(0xdbb+0x1*-0x23cf+-0x13a*-0x12,0x7*0x1f2+-0x18f7+0xb59,-(-0x112f*0x1+0xd49+0x14d*0x3)))),c(rt,'BACK',Object['freeze'](new rt(0x9+0x2492+0x1*-0x249b,0x7*-0x1+0x2577+-0x2570,0x1f16+0xce*-0x6+-0x1a41)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(-0x808+0x11d6+-0x1*0x9c5)),this['data'][0x253e+-0x17*0xe2+-0x21e*0x8]=this['data'][0x14a1+-0x25b3+0x1116]=this['data'][0x2151*0x1+-0x2b3*0x4+-0x167d*0x1]=-0x145+-0x25a2+0x26e8;}['clone'](){const _0x1cec6f=this['constructo'+'r'];return new _0x1cec6f()['copy'](this);}['copy'](_0x554616){const _0x3cb6f4=_0x554616['data'],_0xc1cbc4=this['data'];return _0xc1cbc4[0x71*-0x33+0x16*-0x14+0x1*0x183b]=_0x3cb6f4[-0xbd3+-0x1688+0x6df*0x5],_0xc1cbc4[0x1*0x1765+0x1c31+-0x3395]=_0x3cb6f4[-0x19ab+0x2f8*0x2+0x13bc],_0xc1cbc4[-0x5bf+0x1*0x20e1+-0x7*0x3e0]=_0x3cb6f4[0x17e1+0x1448+0x1*-0x2c27],_0xc1cbc4[-0x47*-0x83+0x364*0xb+-0x1b*0x2ba]=_0x3cb6f4[-0x19b+-0x1*-0xb91+-0x9f3],_0xc1cbc4[-0x1d49+0x2462+-0x31*0x25]=_0x3cb6f4[0x1*-0xa75+-0x1cde+0x2757],_0xc1cbc4[0xb3+-0x9a4*0x2+0x129a]=_0x3cb6f4[-0x3e*-0x8+0x1eed+0x8*-0x41b],_0xc1cbc4[-0x1405+-0x1e18+0x55*0x97]=_0x3cb6f4[0x20ce+-0x3*0x982+-0x442],_0xc1cbc4[0x1403+0x1972+-0x2d6e]=_0x3cb6f4[0x15*-0x129+-0x7*-0x535+-0x15*0x93],_0xc1cbc4[0x7*0x4f+-0x2*-0x8ab+-0x1377]=_0x3cb6f4[-0x1bbf*0x1+0x15ac*0x1+0x3*0x209],this;}['set'](_0xa0a0db){const _0x214316=this['data'];return _0x214316[-0x5e+0x268a+-0x262c]=_0xa0a0db[0x9b+-0xb22*-0x2+-0x16df*0x1],_0x214316[0x1e48+-0x1c3*0x6+-0x1*0x13b5]=_0xa0a0db[0x21c2+-0x10ba+-0x1107],_0x214316[0x1131+-0x2a4+-0xe8b]=_0xa0a0db[0x98b+-0x407*-0x4+-0x19a5],_0x214316[-0x1206+0x543+0xcc6]=_0xa0a0db[0xc1*-0x10+0xee1+-0x2ce],_0x214316[-0x1186*0x2+0xecb*-0x2+0x40a6]=_0xa0a0db[-0x1b2e*-0x1+-0x86a+-0x12c0],_0x214316[-0x1e0e+0x50c+0x1907]=_0xa0a0db[0x1237*-0x1+0x1ea5+-0xc69],_0x214316[0x269e+-0x29*0x64+-0x1694]=_0xa0a0db[0xe8b+-0x5c0+0x1c1*-0x5],_0x214316[0x1ea0+0x5*0x37d+-0xb*0x45e]=_0xa0a0db[-0x16e9+0x5ff+0x1*0x10f1],_0x214316[0x2299+0x11ff+-0x8*0x692]=_0xa0a0db[-0x5*-0x4b+0x174a+-0x18b9],this;}['getX'](_0x91f947=new T()){return _0x91f947['set'](this['data'][-0x18df+0xc09+0xcd6],this['data'][-0x1955+0x1*-0x78d+0x20e3],this['data'][0x23c0+-0x16ba+-0xd04]);}['getY'](_0x40df66=new T()){return _0x40df66['set'](this['data'][0xaf1+-0xa08+-0x2e*0x5],this['data'][0x1d68+-0x15fe+0x3b3*-0x2],this['data'][0x25c4*0x1+0x1*-0x83+-0x4*0x94f]);}['getZ'](_0x21724d=new T()){return _0x21724d['set'](this['data'][0xab1*-0x2+0x26f5+-0x118d],this['data'][0x5*0x745+-0x53*0x3f+-0xd*0x139],this['data'][0x22ae+-0x1*-0xd5a+-0x3000]);}['equals'](_0x76dc2){const _0x2f6961=this['data'],_0x22c2a8=_0x76dc2['data'];return _0x2f6961[-0x1*0xa2f+0x1e5d+-0x2e2*0x7]===_0x22c2a8[0x1b*-0x5d+0x220c+-0x183d]&&_0x2f6961[0x119c+0x1085+-0x2*0x1110]===_0x22c2a8[-0xfe9*-0x2+0x44f+-0x220*0x11]&&_0x2f6961[0x1fea+0x861+-0x1*0x2849]===_0x22c2a8[0x1*-0x10bb+0x1e99+-0xddc]&&_0x2f6961[-0x11ea+-0x1*-0x177f+-0x2e*0x1f]===_0x22c2a8[-0xdea*-0x2+-0x1*-0x967+-0x3*0xc68]&&_0x2f6961[0x2699+0x14b*0x15+-0x20de*0x2]===_0x22c2a8[0x7*0x12+0x1*0x1b8f+0x1*-0x1c09]&&_0x2f6961[-0x1600+-0x2*0x10bb+0x377b]===_0x22c2a8[-0x10c8*0x2+0x4cf+0x1cc6]&&_0x2f6961[-0x6cc+-0x1694+0x1d66]===_0x22c2a8[-0x6a1*-0x3+-0xf89+0x454*-0x1]&&_0x2f6961[0x1ecd+0x2627+-0x5*0xdc9]===_0x22c2a8[-0x20f8+0xbeb+0x1514]&&_0x2f6961[0x1752+-0x21ac*0x1+0xa62]===_0x22c2a8[0xd88+0x16ac+-0x242c];}['isIdentity'](){const _0x3909a2=this['data'];return _0x3909a2[-0x1*-0x5e0+-0xb*0x2ba+0x181e]===-0x147*-0xb+0x4*0x1f7+0x57a*-0x4&&_0x3909a2[0x147*-0x12+0x6*-0xc1+0x1b85]===0x15d*-0x5+0x26*-0x2d+0x1*0xd7f&&_0x3909a2[-0x618+0x11f4+0x5ed*-0x2]===-0x33f+0x10*-0x26e+0x2a1f&&_0x3909a2[-0x1f6d+-0x1a36+-0x9d*-0x5e]===-0x2ab*-0x1+0x11a6*0x2+-0x25f7&&_0x3909a2[-0x1b08+0xb*-0x291+-0x9f*-0x59]===-0x250d+-0x3*0x20b+0x2b2f&&_0x3909a2[-0xe2e+-0x16*0xbe+0x1e87]===-0x70c+0x1be2+0x2fa*-0x7&&_0x3909a2[0xb1a+0x1137+-0x1c4b]===-0x7*0x590+-0x1c31+0x4321&&_0x3909a2[-0x1a6a+0x4f*-0x33+-0x2*-0x1517]===0x202c+-0xc55+-0x13d7&&_0x3909a2[0x1*-0x1f7+0x256e+-0x236f]===-0x16a*0x2+0x11*0x4a+-0x215;}['setIdentit'+'y'](){const _0x1f951f=this['data'];return _0x1f951f[0x1*-0x17+0x641*0x6+-0x103*0x25]=-0x47e+0x1ce1+-0x1862,_0x1f951f[-0x9fa+0x1cd*-0x3+0x16*0xb3]=-0x8d4+0x667+-0x3*-0xcf,_0x1f951f[-0x67*0x3d+0xc5+0x8*0x2f9]=0x207+-0x2*0xfaf+-0x1*-0x1d57,_0x1f951f[0xff*-0x27+0x2481+-0x3*-0xc9]=-0xde*-0x7+0x9*-0x15d+0x633,_0x1f951f[-0x4dc*0x8+-0x19*-0x5+-0x57*-0x71]=-0x1*-0x87d+0x1fe+-0x3*0x37e,_0x1f951f[0x1428+-0x18b+-0x1298]=0x170e*0x1+0x2089*-0x1+0x97b,_0x1f951f[0xe97+0x1b*-0x3f+0x6*-0x152]=-0x1b20+-0x3e*0x1+0x1b5e,_0x1f951f[0x2*-0xa5e+-0xa*0xd+0x1545]=0x2ab*0x5+0x9f5+-0x4*0x5d3,_0x1f951f[-0x177*-0x13+-0x1ca3+-0x1*-0xd6]=-0xeac+-0x1042*0x1+0x1eef,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x3df91a=this){const _0x2ce6a3=_0x3df91a['data'],_0x3d42e2=this['data'];if(_0x2ce6a3===_0x3d42e2){let _0x403557;_0x403557=_0x2ce6a3[0x1*0xa60+0x8*-0x5+-0xa37],_0x3d42e2[0xdc1+0xb9*-0x6+-0xf1*0xa]=_0x2ce6a3[0x1dfa+0x1caf+-0x3aa6],_0x3d42e2[0x17b3+0x1c5c+-0x1a06*0x2]=_0x403557,_0x403557=_0x2ce6a3[0x21f*0x3+-0xb*-0x199+-0x7fa*0x3],_0x3d42e2[-0xc56+-0x3*-0x896+-0xd6a]=_0x2ce6a3[-0x943+-0x1443+0x4*0x763],_0x3d42e2[-0x23c7+0x2548+-0x17b*0x1]=_0x403557,_0x403557=_0x2ce6a3[-0xbc*-0x2+0x125*-0x7+0x690],_0x3d42e2[-0xd55+-0x2e5+0x103f]=_0x2ce6a3[0xb5+0x78c+-0x83a],_0x3d42e2[-0x302*0x1+-0xb1*-0x13+-0xa1a]=_0x403557;}else _0x3d42e2[0xc72+-0xb9e*-0x3+0x17a6*-0x2]=_0x2ce6a3[-0x2f*0x3b+-0x11ea+0x1cbf],_0x3d42e2[-0x6e8+0x26a4+-0x1fbb*0x1]=_0x2ce6a3[-0xca1+-0x6c0+0x1364],_0x3d42e2[0x1*-0x8b5+-0x18f3+-0x8b*-0x3e]=_0x2ce6a3[-0x7b6+-0x1e9*-0x1+-0xd5*-0x7],_0x3d42e2[-0xb*0x35b+-0x10c2+-0x1*-0x35ae]=_0x2ce6a3[0x3*-0x6f9+-0x2393+0x387f],_0x3d42e2[0x3c*-0x43+0xee9*-0x1+0x1ea1]=_0x2ce6a3[-0x13*0x1ad+0x419*0x1+0x1bc2],_0x3d42e2[0x37*-0x37+-0xd04+0x18da*0x1]=_0x2ce6a3[-0x98a+-0x3*-0x19+-0x1*-0x946],_0x3d42e2[-0x1e*-0x14b+-0xdb7*-0x2+-0x4232]=_0x2ce6a3[0x2143+0x2f*0x4a+-0x15*0x23b],_0x3d42e2[-0x90e+0x2646+-0x35*0x8d]=_0x2ce6a3[-0x17e6+0x6a1*0x2+0xaa9],_0x3d42e2[-0x868+-0xe52+-0x1*-0x16c2]=_0x2ce6a3[-0x4*0x767+-0xc18+-0x14de*-0x2];return this;}['setFromMat'+'4'](_0x1e825d){const _0x37eeff=_0x1e825d['data'],_0x399268=this['data'];return _0x399268[0x2417+0x11d6*-0x2+-0x6b]=_0x37eeff[0x2296+0x3*-0xc0c+0x18e],_0x399268[-0xfbd+0x1556+-0x2*0x2cc]=_0x37eeff[0x56a+-0xac2+-0x25*-0x25],_0x399268[0xd81+-0x3*-0x499+-0x1b4a]=_0x37eeff[0x9*0x11b+-0x25e1*-0x1+0x2*-0x17e9],_0x399268[-0x983+0x28d*0xb+-0x1289]=_0x37eeff[-0x14*0x1f4+0xfe1+0x1733*0x1],_0x399268[-0x22ae+-0x2571+0x4823*0x1]=_0x37eeff[-0x7cc+0x237+0x59a],_0x399268[-0x1*-0x14ae+0xb*0x2c5+-0x3320]=_0x37eeff[0x355*-0x2+0xfc4+-0x2*0x48a],_0x399268[0x2*-0x283+-0x102*0x15+0x1a36]=_0x37eeff[-0x105e+0xe1f+-0x35*-0xb],_0x399268[-0x152c+-0xae7*-0x3+-0x3d6*0x3]=_0x37eeff[0x751*-0x1+-0x1382+0x1adc],_0x399268[0x1*-0x23ef+0x2aa+-0x1*-0x214d]=_0x37eeff[-0x5a7*0x3+0x335+-0x5*-0x2c2],this;}['setFromQua'+'t'](_0x4a92fc){const _0x491a96=_0x4a92fc['x'],_0xffb0f0=_0x4a92fc['y'],_0x34dbeb=_0x4a92fc['z'],_0x1501d3=_0x4a92fc['w'],_0x27d121=_0x491a96+_0x491a96,_0x2e3667=_0xffb0f0+_0xffb0f0,_0xd49f78=_0x34dbeb+_0x34dbeb,_0x22c43f=_0x491a96*_0x27d121,_0x340f41=_0x491a96*_0x2e3667,_0x22dcac=_0x491a96*_0xd49f78,_0x1a9070=_0xffb0f0*_0x2e3667,_0x1da177=_0xffb0f0*_0xd49f78,_0x18baaf=_0x34dbeb*_0xd49f78,_0x1377e7=_0x1501d3*_0x27d121,_0x380074=_0x1501d3*_0x2e3667,_0x530761=_0x1501d3*_0xd49f78,_0x46c597=this['data'];return _0x46c597[-0x2534+0x1444+0x10f0]=0x1992+-0x210b+0x2*0x3bd-(_0x1a9070+_0x18baaf),_0x46c597[-0x23+0x1*0x1ba3+0x1b7f*-0x1]=_0x340f41+_0x530761,_0x46c597[0x461*0x5+-0x8*0x38c+0x1*0x67d]=_0x22dcac-_0x380074,_0x46c597[-0x1*0x1155+0x4*0x6b7+-0x984]=_0x340f41-_0x530761,_0x46c597[0x87*-0x30+0x1257+0x6fd*0x1]=0xc56+0xba7+-0x17fc-(_0x22c43f+_0x18baaf),_0x46c597[-0x2601*-0x1+-0x63d*0x4+0x8*-0x1a1]=_0x1da177+_0x1377e7,_0x46c597[0x27c+-0x7*-0x1d5+-0x22f*0x7]=_0x22dcac+_0x380074,_0x46c597[0x1e5a+-0xe17*-0x1+-0xf*0x2f6]=_0x1da177-_0x1377e7,_0x46c597[0x242b+0x1e07*0x1+-0x422a]=-0x1d34+-0x2078+0x3dad-(_0x22c43f+_0x1a9070),this;}['invertMat4'](_0x50638b){const _0x43892e=_0x50638b['data'],_0x5b63de=_0x43892e[-0xb6a+0x264e+-0x1ae4],_0x5ee3c2=_0x43892e[0xbf3+-0x23f5+0x1803],_0x52db08=_0x43892e[-0x1*0xcdf+-0x574+0x1255],_0x33adb6=_0x43892e[0x67e+0x500+0xe2*-0xd],_0x577015=_0x43892e[-0xdc*-0x28+-0x1897+-0x9c4],_0x5aa0c5=_0x43892e[0x11f5*0x1+0x142a*0x1+0x3*-0xcb3],_0x4ce3e1=_0x43892e[0x3*-0x272+0xbff+0x3*-0x18b],_0x3ce81e=_0x43892e[0x1746+-0x4a0*-0x3+-0x1*0x251d],_0x136c82=_0x43892e[-0x295*-0xd+-0x1*-0x78d+-0x2914],_0x4eae08=_0x136c82*_0x577015-_0x5aa0c5*_0x3ce81e,_0x387de2=-_0x136c82*_0x5ee3c2+_0x52db08*_0x3ce81e,_0x27cb0c=_0x5aa0c5*_0x5ee3c2-_0x52db08*_0x577015,_0x1500a7=-_0x136c82*_0x33adb6+_0x5aa0c5*_0x4ce3e1,_0x3af8a9=_0x136c82*_0x5b63de-_0x52db08*_0x4ce3e1,_0x318c7d=-_0x5aa0c5*_0x5b63de+_0x52db08*_0x33adb6,_0x34cf8f=_0x3ce81e*_0x33adb6-_0x577015*_0x4ce3e1,_0x4b089f=-_0x3ce81e*_0x5b63de+_0x5ee3c2*_0x4ce3e1,_0x57a240=_0x577015*_0x5b63de-_0x5ee3c2*_0x33adb6,_0x5206a6=_0x5b63de*_0x4eae08+_0x5ee3c2*_0x1500a7+_0x52db08*_0x34cf8f;if(_0x5206a6===0x191+0x26d9+-0x286a)this['setIdentit'+'y']();else{const _0x119370=(0x56e+0x1c9f+-0x220c)/_0x5206a6,_0x49e559=this['data'];_0x49e559[0x1b28+-0x2*0x49b+-0x11f2*0x1]=_0x4eae08*_0x119370,_0x49e559[0x43*0x12+0x7cd*-0x4+0x13*0x165]=_0x387de2*_0x119370,_0x49e559[-0x1f3b+0x11b5+0xd88]=_0x27cb0c*_0x119370,_0x49e559[-0xeb3+-0xc51*-0x2+0xfe*-0xa]=_0x1500a7*_0x119370,_0x49e559[0x4e5*-0x3+-0x18cd+0x2780]=_0x3af8a9*_0x119370,_0x49e559[-0x6fe+0xd55+0x329*-0x2]=_0x318c7d*_0x119370,_0x49e559[0x4ce+0x16*0x16+-0x6ac]=_0x34cf8f*_0x119370,_0x49e559[0x1e56+-0x11bd+-0xc92*0x1]=_0x4b089f*_0x119370,_0x49e559[-0x5ed+0x1588*-0x1+0x1b7d]=_0x57a240*_0x119370;}return this;}['transformV'+'ector'](_0xa25b41,_0x1979c8=new T()){const _0x1b52ca=this['data'],{x:_0x1e7d1e,y:_0x2129b1,z:_0x1115f3}=_0xa25b41;return _0x1979c8['x']=_0x1e7d1e*_0x1b52ca[-0x1596+-0x1b1*0x7+0x216d]+_0x2129b1*_0x1b52ca[0x210f+-0x16ba*-0x1+-0x37c6*0x1]+_0x1115f3*_0x1b52ca[0x23ca+0x1535+0x1*-0x38f9],_0x1979c8['y']=_0x1e7d1e*_0x1b52ca[0x61*-0x4d+0x22*-0x6a+0x2b42]+_0x2129b1*_0x1b52ca[-0x5f*-0x17+0x866+-0x10eb*0x1]+_0x1115f3*_0x1b52ca[-0xa98+-0x7*-0x35+0x92c],_0x1979c8['z']=_0x1e7d1e*_0x1b52ca[-0x9f*-0x1+-0x193b*-0x1+-0x19d8]+_0x2129b1*_0x1b52ca[0xbec+-0x47*-0x3b+-0xc*0x25b]+_0x1115f3*_0x1b52ca[0x1*0x219f+-0x2*-0x593+-0x2cbd],_0x1979c8;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([0x2333+0x1*0x123d+-0x3570,0x7*-0x2+0xb53+-0xb45,0x14*0x6b+0x509*0x6+0x1349*-0x2,-0x182b+0x194*-0xe+0x2e43,-0x259b+-0xad*0x33+-0x4812*-0x1,-0x3b*0x1+0x1*0x1549+-0x436*0x5,0x258c+-0x24dd*0x1+-0xaf,0x6b2+-0xa77+0x5*0xc1,-0x57*0x22+-0x1*-0x1eb7+-0xf*0x147])));let js=na;const wt=class wt{constructor(_0x54f4ed=-0x1*-0x16df+0xa4f+-0x1f*0x112,_0x51953f=0x2*0x837+0xae7*0x1+-0x1b55){c(this,'x'),c(this,'y'),_0x54f4ed['length']===0x33a+0xcb0+-0x7f4*0x2?(this['x']=_0x54f4ed[-0x1e82+-0x255e*0x1+-0x60*-0xb5],this['y']=_0x54f4ed[0x10d+0x969+-0xa75]):(this['x']=_0x54f4ed,this['y']=_0x51953f);}['add'](_0x1dafcd){return this['x']+=_0x1dafcd['x'],this['y']+=_0x1dafcd['y'],this;}['add2'](_0x1af114,_0x1daa89){return this['x']=_0x1af114['x']+_0x1daa89['x'],this['y']=_0x1af114['y']+_0x1daa89['y'],this;}['addScalar'](_0x18691a){return this['x']+=_0x18691a,this['y']+=_0x18691a,this;}['addScaled'](_0x410d2a,_0x5998af){return this['x']+=_0x410d2a['x']*_0x5998af,this['y']+=_0x410d2a['y']*_0x5998af,this;}['clone'](){const _0x3cd969=this['constructo'+'r'];return new _0x3cd969(this['x'],this['y']);}['copy'](_0x468188){return this['x']=_0x468188['x'],this['y']=_0x468188['y'],this;}['cross'](_0xabfe8e){return this['x']*_0xabfe8e['y']-this['y']*_0xabfe8e['x'];}['distance'](_0x268a2b){const _0x1db981=this['x']-_0x268a2b['x'],_0x3d1124=this['y']-_0x268a2b['y'];return Math['sqrt'](_0x1db981*_0x1db981+_0x3d1124*_0x3d1124);}['div'](_0x1c0877){return this['x']/=_0x1c0877['x'],this['y']/=_0x1c0877['y'],this;}['div2'](_0x3e0e6c,_0x444e3e){return this['x']=_0x3e0e6c['x']/_0x444e3e['x'],this['y']=_0x3e0e6c['y']/_0x444e3e['y'],this;}['divScalar'](_0x157f82){return this['x']/=_0x157f82,this['y']/=_0x157f82,this;}['dot'](_0x3b5063){return this['x']*_0x3b5063['x']+this['y']*_0x3b5063['y'];}['equals'](_0x44cb0b){return this['x']===_0x44cb0b['x']&&this['y']===_0x44cb0b['y'];}['equalsAppr'+'ox'](_0x424fff,_0x270eef=0x1116+0x110c*-0x2+0x1102+0.000001){return Math['abs'](this['x']-_0x424fff['x'])<_0x270eef&&Math['abs'](this['y']-_0x424fff['y'])<_0x270eef;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x1e6cb0,_0x47cfa6,_0x302157){return this['x']=_0x1e6cb0['x']+_0x302157*(_0x47cfa6['x']-_0x1e6cb0['x']),this['y']=_0x1e6cb0['y']+_0x302157*(_0x47cfa6['y']-_0x1e6cb0['y']),this;}['mul'](_0x18fed2){return this['x']*=_0x18fed2['x'],this['y']*=_0x18fed2['y'],this;}['mul2'](_0x382baf,_0x188f8b){return this['x']=_0x382baf['x']*_0x188f8b['x'],this['y']=_0x382baf['y']*_0x188f8b['y'],this;}['mulScalar'](_0x42851b){return this['x']*=_0x42851b,this['y']*=_0x42851b,this;}['normalize'](_0x32b3d8=this){const _0x5ce688=_0x32b3d8['x']*_0x32b3d8['x']+_0x32b3d8['y']*_0x32b3d8['y'];if(_0x5ce688>-0x136*-0xb+0xff*0x2+-0xf50){const _0x2b9ce4=(0x713+-0x1*0x1b7c+-0xa35*-0x2)/Math['sqrt'](_0x5ce688);this['x']=_0x32b3d8['x']*_0x2b9ce4,this['y']=_0x32b3d8['y']*_0x2b9ce4;}return this;}['rotate'](_0x109c62){const _0x4dc293=Math['atan2'](this['x'],this['y'])+_0x109c62*N['DEG_TO_RAD'],_0x41f646=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x4dc293)*_0x41f646,this['y']=Math['cos'](_0x4dc293)*_0x41f646,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x3f6d50){return Math['atan2'](this['x']*_0x3f6d50['y']+this['y']*_0x3f6d50['x'],this['x']*_0x3f6d50['x']+this['y']*_0x3f6d50['y'])*N['RAD_TO_DEG'];}['floor'](_0xd86bcb=this){return this['x']=Math['floor'](_0xd86bcb['x']),this['y']=Math['floor'](_0xd86bcb['y']),this;}['ceil'](_0x2e7346=this){return this['x']=Math['ceil'](_0x2e7346['x']),this['y']=Math['ceil'](_0x2e7346['y']),this;}['round'](_0x1fd659=this){return this['x']=Math['round'](_0x1fd659['x']),this['y']=Math['round'](_0x1fd659['y']),this;}['min'](_0x1ae857){return _0x1ae857['x']<this['x']&&(this['x']=_0x1ae857['x']),_0x1ae857['y']<this['y']&&(this['y']=_0x1ae857['y']),this;}['max'](_0x509539){return _0x509539['x']>this['x']&&(this['x']=_0x509539['x']),_0x509539['y']>this['y']&&(this['y']=_0x509539['y']),this;}['set'](_0x2b6aa2,_0x4f559f){return this['x']=_0x2b6aa2,this['y']=_0x4f559f,this;}['sub'](_0x323a1d){return this['x']-=_0x323a1d['x'],this['y']-=_0x323a1d['y'],this;}['sub2'](_0x584d54,_0x371bad){return this['x']=_0x584d54['x']-_0x371bad['x'],this['y']=_0x584d54['y']-_0x371bad['y'],this;}['subScalar'](_0x52de0b){return this['x']-=_0x52de0b,this['y']-=_0x52de0b,this;}['fromArray'](_0x58ca48,_0x28cb53=-0x9e0+-0x1*-0x251+0x78f){return this['x']=_0x58ca48[_0x28cb53]??this['x'],this['y']=_0x58ca48[_0x28cb53+(0x5*0x641+-0xfaa+0x1*-0xf9a)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x3937c3=[],_0x1dfaec=0x2d9+-0x1d34+-0x207*-0xd){return _0x3937c3[_0x1dfaec]=this['x'],_0x3937c3[_0x1dfaec+(0x9b3+-0x9be+0xc)]=this['y'],_0x3937c3;}static['angleRad'](_0x4d683c,_0xba3560){return Math['atan2'](_0x4d683c['x']*_0xba3560['y']-_0x4d683c['y']*_0xba3560['x'],_0x4d683c['x']*_0xba3560['x']+_0x4d683c['y']*_0xba3560['y']);}};c(wt,'ZERO',Object['freeze'](new wt(-0xe8*0x23+0x1b11*0x1+0x4a7,-0xef2*0x2+-0x175*-0x17+-0x39f))),c(wt,'HALF',Object['freeze'](new wt(-0x1be*-0xd+0x2092+-0x3738+0.5,0x24a*-0x6+0x127e+-0x4c2+0.5))),c(wt,'ONE',Object['freeze'](new wt(-0xa85+-0x12ca+-0x38*-0x86,-0x1*-0x99b+0x88f*0x2+-0x1ab8))),c(wt,'UP',Object['freeze'](new wt(0x1*-0x21bc+-0xb+-0x21c7*-0x1,0x1f1f+-0x490+-0x1a8e*0x1))),c(wt,'DOWN',Object['freeze'](new wt(0x1f3a+-0x23b*0x1+-0xd*0x23b,-(-0x25f7*0x1+0x3*-0xb99+-0x48c3*-0x1)))),c(wt,'RIGHT',Object['freeze'](new wt(0x2152+-0x11de+0x235*-0x7,-0x11b*0x19+0x215b*-0x1+0x1*0x3cfe))),c(wt,'LEFT',Object['freeze'](new wt(-(-0x1406+-0xe38+0x223f),0x235d+0x109f+0xcff*-0x4)));let W=wt;const Yi=class Yi{constructor(_0x12bfc6=-0x21b0+-0x4b3*-0x8+-0x3e8,_0x1ebe3d=-0x509*-0x4+0x2356*0x1+-0x377a,_0x5aafda=-0x16f2*-0x1+0x1*-0x1738+0x46,_0x286e01=0x56d+0x158*0x1c+-0x1*0x2b0d){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x12bfc6['length']===-0x16*0xfb+0x2698+-0x1102?(this['x']=_0x12bfc6[0x629*-0x4+0x1a59+-0x1b5],this['y']=_0x12bfc6[-0x32b+-0x1f06+0x2232],this['z']=_0x12bfc6[0x1983+0x3ea+-0x1*0x1d6b],this['w']=_0x12bfc6[0xace+0x345+-0xe10]):(this['x']=_0x12bfc6,this['y']=_0x1ebe3d,this['z']=_0x5aafda,this['w']=_0x286e01);}['add'](_0x28527a){return this['x']+=_0x28527a['x'],this['y']+=_0x28527a['y'],this['z']+=_0x28527a['z'],this['w']+=_0x28527a['w'],this;}['add2'](_0x9592bd,_0x4526d8){return this['x']=_0x9592bd['x']+_0x4526d8['x'],this['y']=_0x9592bd['y']+_0x4526d8['y'],this['z']=_0x9592bd['z']+_0x4526d8['z'],this['w']=_0x9592bd['w']+_0x4526d8['w'],this;}['addScalar'](_0x421532){return this['x']+=_0x421532,this['y']+=_0x421532,this['z']+=_0x421532,this['w']+=_0x421532,this;}['addScaled'](_0x2149e4,_0x5c9d77){return this['x']+=_0x2149e4['x']*_0x5c9d77,this['y']+=_0x2149e4['y']*_0x5c9d77,this['z']+=_0x2149e4['z']*_0x5c9d77,this['w']+=_0x2149e4['w']*_0x5c9d77,this;}['clone'](){const _0xed3cf1=this['constructo'+'r'];return new _0xed3cf1(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x519bcd){return this['x']=_0x519bcd['x'],this['y']=_0x519bcd['y'],this['z']=_0x519bcd['z'],this['w']=_0x519bcd['w'],this;}['div'](_0xa8ac5a){return this['x']/=_0xa8ac5a['x'],this['y']/=_0xa8ac5a['y'],this['z']/=_0xa8ac5a['z'],this['w']/=_0xa8ac5a['w'],this;}['div2'](_0x53c7ba,_0x1e94d9){return this['x']=_0x53c7ba['x']/_0x1e94d9['x'],this['y']=_0x53c7ba['y']/_0x1e94d9['y'],this['z']=_0x53c7ba['z']/_0x1e94d9['z'],this['w']=_0x53c7ba['w']/_0x1e94d9['w'],this;}['divScalar'](_0x8059b0){return this['x']/=_0x8059b0,this['y']/=_0x8059b0,this['z']/=_0x8059b0,this['w']/=_0x8059b0,this;}['dot'](_0x54ea79){return this['x']*_0x54ea79['x']+this['y']*_0x54ea79['y']+this['z']*_0x54ea79['z']+this['w']*_0x54ea79['w'];}['equals'](_0x1d5298){return this['x']===_0x1d5298['x']&&this['y']===_0x1d5298['y']&&this['z']===_0x1d5298['z']&&this['w']===_0x1d5298['w'];}['equalsAppr'+'ox'](_0x557482,_0x3bc9ca=-0x3*0xb69+0xf37*0x2+0x3cd*0x1+0.000001){return Math['abs'](this['x']-_0x557482['x'])<_0x3bc9ca&&Math['abs'](this['y']-_0x557482['y'])<_0x3bc9ca&&Math['abs'](this['z']-_0x557482['z'])<_0x3bc9ca&&Math['abs'](this['w']-_0x557482['w'])<_0x3bc9ca;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x3e7327,_0x1c0b8d,_0x3011a4){return this['x']=_0x3e7327['x']+_0x3011a4*(_0x1c0b8d['x']-_0x3e7327['x']),this['y']=_0x3e7327['y']+_0x3011a4*(_0x1c0b8d['y']-_0x3e7327['y']),this['z']=_0x3e7327['z']+_0x3011a4*(_0x1c0b8d['z']-_0x3e7327['z']),this['w']=_0x3e7327['w']+_0x3011a4*(_0x1c0b8d['w']-_0x3e7327['w']),this;}['mul'](_0x45ab70){return this['x']*=_0x45ab70['x'],this['y']*=_0x45ab70['y'],this['z']*=_0x45ab70['z'],this['w']*=_0x45ab70['w'],this;}['mul2'](_0x2cf88d,_0x2bdc85){return this['x']=_0x2cf88d['x']*_0x2bdc85['x'],this['y']=_0x2cf88d['y']*_0x2bdc85['y'],this['z']=_0x2cf88d['z']*_0x2bdc85['z'],this['w']=_0x2cf88d['w']*_0x2bdc85['w'],this;}['mulScalar'](_0x4d091d){return this['x']*=_0x4d091d,this['y']*=_0x4d091d,this['z']*=_0x4d091d,this['w']*=_0x4d091d,this;}['normalize'](_0x4b5919=this){const _0x3ec1bc=_0x4b5919['x']*_0x4b5919['x']+_0x4b5919['y']*_0x4b5919['y']+_0x4b5919['z']*_0x4b5919['z']+_0x4b5919['w']*_0x4b5919['w'];if(_0x3ec1bc>-0x1bc6+-0x3*0x6f1+-0x8f*-0x57){const _0x315692=(0x1*0x1099+0x7*-0x1d4+0x1*-0x3cc)/Math['sqrt'](_0x3ec1bc);this['x']=_0x4b5919['x']*_0x315692,this['y']=_0x4b5919['y']*_0x315692,this['z']=_0x4b5919['z']*_0x315692,this['w']=_0x4b5919['w']*_0x315692;}return this;}['floor'](_0x25c043=this){return this['x']=Math['floor'](_0x25c043['x']),this['y']=Math['floor'](_0x25c043['y']),this['z']=Math['floor'](_0x25c043['z']),this['w']=Math['floor'](_0x25c043['w']),this;}['ceil'](_0x2bc683=this){return this['x']=Math['ceil'](_0x2bc683['x']),this['y']=Math['ceil'](_0x2bc683['y']),this['z']=Math['ceil'](_0x2bc683['z']),this['w']=Math['ceil'](_0x2bc683['w']),this;}['round'](_0x1768c6=this){return this['x']=Math['round'](_0x1768c6['x']),this['y']=Math['round'](_0x1768c6['y']),this['z']=Math['round'](_0x1768c6['z']),this['w']=Math['round'](_0x1768c6['w']),this;}['min'](_0x618e62){return _0x618e62['x']<this['x']&&(this['x']=_0x618e62['x']),_0x618e62['y']<this['y']&&(this['y']=_0x618e62['y']),_0x618e62['z']<this['z']&&(this['z']=_0x618e62['z']),_0x618e62['w']<this['w']&&(this['w']=_0x618e62['w']),this;}['max'](_0x2f2798){return _0x2f2798['x']>this['x']&&(this['x']=_0x2f2798['x']),_0x2f2798['y']>this['y']&&(this['y']=_0x2f2798['y']),_0x2f2798['z']>this['z']&&(this['z']=_0x2f2798['z']),_0x2f2798['w']>this['w']&&(this['w']=_0x2f2798['w']),this;}['set'](_0x3875bf,_0x422011,_0x280bb3,_0x369045){return this['x']=_0x3875bf,this['y']=_0x422011,this['z']=_0x280bb3,this['w']=_0x369045,this;}['sub'](_0x3b0c2a){return this['x']-=_0x3b0c2a['x'],this['y']-=_0x3b0c2a['y'],this['z']-=_0x3b0c2a['z'],this['w']-=_0x3b0c2a['w'],this;}['sub2'](_0x3ac5d7,_0x183c7b){return this['x']=_0x3ac5d7['x']-_0x183c7b['x'],this['y']=_0x3ac5d7['y']-_0x183c7b['y'],this['z']=_0x3ac5d7['z']-_0x183c7b['z'],this['w']=_0x3ac5d7['w']-_0x183c7b['w'],this;}['subScalar'](_0x14ccaa){return this['x']-=_0x14ccaa,this['y']-=_0x14ccaa,this['z']-=_0x14ccaa,this['w']-=_0x14ccaa,this;}['fromArray'](_0x502914,_0x3f1eb8=-0x1*0x135b+0x2*0x11+0x1339){return this['x']=_0x502914[_0x3f1eb8]??this['x'],this['y']=_0x502914[_0x3f1eb8+(-0x137*-0x2+0x5cb+-0x1*0x838)]??this['y'],this['z']=_0x502914[_0x3f1eb8+(-0x5f3+-0x104e*-0x1+-0xa59)]??this['z'],this['w']=_0x502914[_0x3f1eb8+(0xde*0x15+-0x128*0x2+-0xfe3)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x3fcc76=[],_0x9900e2=-0x8*0x25c+-0x2312+-0x35f2*-0x1){return _0x3fcc76[_0x9900e2]=this['x'],_0x3fcc76[_0x9900e2+(0x26c2+0x15ba+-0x3c7b)]=this['y'],_0x3fcc76[_0x9900e2+(-0x3*-0x3fd+0x639+-0x122e)]=this['z'],_0x3fcc76[_0x9900e2+(0x464*0x1+-0x2406+0x1*0x1fa5)]=this['w'],_0x3fcc76;}};c(Yi,'ZERO',Object['freeze'](new Yi(-0x67*0x19+0x1cd4+0x9b*-0x1f,-0x1c*0x7f+-0x9c3+0x4bb*0x5,-0x43*0x3f+0x1*-0xc74+0x1cf1,-0x116d+0x16c2+-0x41*0x15))),c(Yi,'HALF',Object['freeze'](new Yi(-0x1*-0x1ed9+-0xf2*-0x1d+-0x5f*0x9d+0.5,-0x1*-0x62f+-0x179c*0x1+0x116d+0.5,0x137a+-0x19a6+0x1*0x62c+0.5,-0x1fa0+0x4*-0x3a4+-0x2e30*-0x1+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(-0x1fcb+0x1b65+-0xa1*-0x7,-0x2b0+0x4e*0x4f+0xd*-0x1a5,0x482*-0x2+0x255f*0x1+0x1c5a*-0x1,-0x1*0x2657+-0x15cc+0x3c24*0x1)));let Q=Yi;const Ua=new W(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(-0x1751*0x1+-0xea4+0x2605)),this['data'][-0x19a3+0x20af+-0x70c]=this['data'][0xb*0x1ac+0x1c56+-0x2eb5*0x1]=this['data'][-0x14*0x1ac+-0x1bf6+0x3d70]=this['data'][-0x1405+-0x1*0x147b+-0xd85*-0x3]=-0x18d1*-0x1+-0x1af0+0x220;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x27a522,_0xd5a442,_0x5a247d,_0x1470d2,_0x57ba04){_0x57ba04?(_0x27a522['x']=_0x1470d2*Math['tan'](_0xd5a442*Math['PI']/(-0x2b*-0x2e+-0xb*-0xb5+-0xe19)),_0x27a522['y']=_0x27a522['x']/_0x5a247d):(_0x27a522['y']=_0x1470d2*Math['tan'](_0xd5a442*Math['PI']/(-0x22*-0x61+-0x1c82+0x1108)),_0x27a522['x']=_0x27a522['y']*_0x5a247d);}['add2'](_0x51a054,_0x474293){const _0x5af913=_0x51a054['data'],_0x5e53ac=_0x474293['data'],_0x46495e=this['data'];return _0x46495e[0x1*0x1633+0x5b3*0x1+0xdf3*-0x2]=_0x5af913[0x671*0x3+-0x23da+-0x1087*-0x1]+_0x5e53ac[0x1f0*-0x6+0x1738+-0x1*0xb98],_0x46495e[0xa7*0xd+0x1e14+-0x268e]=_0x5af913[0x15e1*-0x1+-0xc87*0x3+0x493*0xd]+_0x5e53ac[0x5e*-0x4a+0x2571+-0xa44],_0x46495e[0xb*-0x2c6+-0x5c3*-0x3+0xd3b]=_0x5af913[-0x1*-0x9ff+-0x1*0xdcc+0x3cf]+_0x5e53ac[-0x1*0x1cf0+-0x2479+-0x416b*-0x1],_0x46495e[0x5d*-0x2e+0x2206+-0x114d]=_0x5af913[-0x1c25+-0x983*0x1+0x25ab]+_0x5e53ac[0x1a3*0x1+-0x1333*-0x2+-0x5e*0x6d],_0x46495e[0x37b+0x126f+0x1*-0x15e6]=_0x5af913[-0x1e17+-0x198*-0x3+0x1953]+_0x5e53ac[0x1034+-0x7b*-0x30+-0x9d0*0x4],_0x46495e[0x192+0x1*-0x157f+-0x4a*-0x45]=_0x5af913[0x10*0x71+0x1c4a+0x87*-0x43]+_0x5e53ac[0x3*0x639+-0x34*0x9b+0x6a*0x1f],_0x46495e[-0x2*-0x47+-0xab*0x22+-0x1*-0x162e]=_0x5af913[0xf64*0x2+0x1e*-0x139+0x5ec]+_0x5e53ac[-0x21c3+0x161*-0x5+0x29*0xfe],_0x46495e[-0x1bec+0xe*-0x1d2+0x356f*0x1]=_0x5af913[0xd*-0x5a+-0x2706+-0xd*-0x35b]+_0x5e53ac[0x1d*0x7+-0x3e1*-0x8+-0x1fcc],_0x46495e[0x7ec+0x6ce+-0xeb2]=_0x5af913[0x3f7+0x1e99+-0x2288]+_0x5e53ac[-0x168b+0x1*0x26d9+-0x1046],_0x46495e[0x1b1a*0x1+-0xcb1+-0x50*0x2e]=_0x5af913[-0x1*0xc7+0x1008+0x2*-0x79c]+_0x5e53ac[-0xd1f+-0xda8+-0x6*-0x478],_0x46495e[0x39*0x5+0x5a*0x48+-0x1a63]=_0x5af913[0xe4a+0x1a*-0x16e+0x16ec]+_0x5e53ac[-0x1a*0x6+0x2*-0x10f5+0x2290],_0x46495e[-0x1324+0x1426+0x1*-0xf7]=_0x5af913[0x3b9*0x7+-0x1ccf+-0x41*-0xb]+_0x5e53ac[-0xa0a+-0x5e2+0xff7],_0x46495e[0xbce*-0x1+0xf51*0x1+-0x377]=_0x5af913[-0x1177+-0x151d*0x1+0x26a0]+_0x5e53ac[0x40*0x25+-0x1043+-0x8b*-0xd],_0x46495e[0xb2f+0x3d9+-0x5*0x2ff]=_0x5af913[0x191b+0x34c+-0x26*0xbf]+_0x5e53ac[-0x123a*0x1+0x185c+-0x615],_0x46495e[0x1d5+-0x17d*-0x5+-0x5*0x1d8]=_0x5af913[-0xf9f*0x1+0x2160+-0x11b3]+_0x5e53ac[-0x23b*-0x1+0x2566+-0x2793],_0x46495e[0x8*-0x4a7+0xfc7*0x1+0x1580]=_0x5af913[-0x1*0xe3e+-0xf*-0xcd+-0x2*-0x125]+_0x5e53ac[0x1a2a*0x1+-0x2171+0x756],this;}['add'](_0x39f3a5){return this['add2'](this,_0x39f3a5);}['clone'](){const _0xf25f0f=this['constructo'+'r'];return new _0xf25f0f()['copy'](this);}['copy'](_0x425fd7){const _0x365da5=_0x425fd7['data'],_0x51fcf2=this['data'];return _0x51fcf2[0x25da+-0xa*-0x109+-0x3034]=_0x365da5[-0x1*-0x1267+-0x76c+-0xafb],_0x51fcf2[-0x35+-0xbab+0xbe1]=_0x365da5[0x1f69+0x1546+-0x34ae],_0x51fcf2[-0x4ea+-0x2409+-0xf*-0x2bb]=_0x365da5[-0x2574+0x1057+0x151f],_0x51fcf2[-0x97c+-0x10f7*0x1+0x2*0xd3b]=_0x365da5[0xd*-0x211+0x1ca5+0x3*-0x97],_0x51fcf2[-0xf*0x219+0x32a+0x1c51]=_0x365da5[-0x45e*0x2+0x1*-0x1b9a+0x245a],_0x51fcf2[-0x2*-0xefe+-0x2*0xd16+-0x3cb]=_0x365da5[-0x1*-0x1a83+-0x2*0x911+-0x85c],_0x51fcf2[0x4*0x624+0x2083+-0x7f*0x73]=_0x365da5[0x1*-0xdf1+0x9a1+-0x3*-0x172],_0x51fcf2[-0x52*0x2+-0x1ad*-0x2+-0x2af]=_0x365da5[0x1ba8+-0x1*0x2444+0xb*0xc9],_0x51fcf2[0x9*-0x1c5+-0x219*-0xf+-0x1*0xf82]=_0x365da5[-0xf9*-0xa+0x202+-0xbb4],_0x51fcf2[-0x770+0xa0d*0x1+-0x294]=_0x365da5[0x6c6+-0x13*0xdb+0x984],_0x51fcf2[0x2*0x15a+-0x1*-0x113d+-0x3fb*0x5]=_0x365da5[0x41*-0x7+-0x13ad+-0x157e*-0x1],_0x51fcf2[-0x1*-0x574+0x3b*-0x10+0x1b9*-0x1]=_0x365da5[0x75*-0x45+-0x2091+0x1*0x4025],_0x51fcf2[-0x1e*0x39+-0x1*-0x2141+0x1a87*-0x1]=_0x365da5[-0x4fd*-0x1+0x1d13+0x4*-0x881],_0x51fcf2[-0xdb9+-0x90b+0x16d1]=_0x365da5[-0x468+-0x16e6+0x1b5b],_0x51fcf2[-0x2e*0xb3+0x16e*-0xf+-0x35aa*-0x1]=_0x365da5[0xb*0x119+0xffe*-0x2+0x13f7],_0x51fcf2[-0x1939+0x167*-0xa+0x12*0x22f]=_0x365da5[-0x1*-0x5c1+-0x9a3*0x1+0x1*0x3f1],this;}['equals'](_0x1c04cd){const _0x573ec3=this['data'],_0x1bdb9b=_0x1c04cd['data'];return _0x573ec3[0x187c+0x1*0x16ba+-0x2*0x179b]===_0x1bdb9b[0x4aa+0x3fb*-0x6+0x1338]&&_0x573ec3[-0x40e*-0x6+-0x1*0xec+0x3*-0x7cd]===_0x1bdb9b[0x10d*-0x13+-0x1a*-0xd3+-0x176]&&_0x573ec3[-0xed2+-0x28*0xb3+0x84*0x53]===_0x1bdb9b[-0x39d+0x202+0x1*0x19d]&&_0x573ec3[-0x1e74+0x1*0xf6b+0x2*0x786]===_0x1bdb9b[-0x1*-0x2045+0x1*0xfc3+-0x1*0x3005]&&_0x573ec3[0x19*0x46+-0x2*0x6e6+-0x5e*-0x13]===_0x1bdb9b[-0x2f9*-0x9+-0x11*-0x6b+-0x21d8]&&_0x573ec3[-0x62b+0xf*-0xa8+-0x4*-0x402]===_0x1bdb9b[-0xe*-0x10a+0x45d*0x1+-0x12e4]&&_0x573ec3[-0xc4b+0x25*-0x61+0x1a56]===_0x1bdb9b[0xb3*-0x19+-0x2*0xd99+0x2cb3]&&_0x573ec3[-0x25d+0x1*0x7b6+-0x552]===_0x1bdb9b[0x19e0+0x1*0x1777+-0x3150]&&_0x573ec3[-0x6b*-0x41+0x16e6+-0x3209]===_0x1bdb9b[0x1b86+-0x7ec+-0x1392]&&_0x573ec3[-0x538+-0x755*0x5+-0x25*-0x122]===_0x1bdb9b[0x157f*0x1+0x7b*-0x31+0x215]&&_0x573ec3[0x16b9+-0x9ca+-0xce5]===_0x1bdb9b[0x23e2+-0x1668+0x50*-0x2b]&&_0x573ec3[-0x10e8*0x1+0x31c+-0x49d*-0x3]===_0x1bdb9b[-0x622+-0x13d4*0x1+0x7*0x3b7]&&_0x573ec3[-0x226a+-0x16a2+0x3918]===_0x1bdb9b[0x16f*0x1+-0x6b7*-0x1+-0x81a]&&_0x573ec3[0x507+-0xfdd*0x1+0xae3]===_0x1bdb9b[-0x24f9+-0xb*0x317+0x4703]&&_0x573ec3[-0x17*0xc2+-0xa3b+-0x1*-0x1bb7]===_0x1bdb9b[-0xc6a+0xfd4+0x35c*-0x1]&&_0x573ec3[0x49*0x43+-0x143a*-0x1+-0x2746]===_0x1bdb9b[-0x1bf6+0x1975+0x290];}['isIdentity'](){const _0x1b9295=this['data'];return _0x1b9295[0x1*-0x1b0c+0x105a+0xab2]===-0x1024+-0x2*-0xefd+-0xdd5&&_0x1b9295[0x1*-0x1a6b+-0x20a6+-0x2*-0x1d89]===0x9df*0x3+-0x25ef+0x3*0x2c6&&_0x1b9295[0xd*0xa5+0x1*-0x16a6+0xe47]===-0x1418+0x144a+-0x5*0xa&&_0x1b9295[-0x3b*0x1+-0x15d7*-0x1+-0x1599]===-0x6f*-0xf+0x1*0x223+-0x8a4&&_0x1b9295[-0x2160+-0xf03+0x3067]===-0x96a+0x185c+-0xef2&&_0x1b9295[0xa9f+0x14a9+-0x1f43]===0x1046+0x253c+-0x3581&&_0x1b9295[-0x1*0x9f7+0x5*0x7c0+0x25*-0xc7]===0x1029*0x1+-0x3e8+-0xc41&&_0x1b9295[-0x557+0x1*0x655+-0xf7]===-0x9*-0x1af+-0xe*-0x224+0x2d1f*-0x1&&_0x1b9295[-0x1f5e+0x890+0x9e*0x25]===0x41+0x2205+-0xd6*0x29&&_0x1b9295[-0x1adc+-0x1f13+-0x4*-0xe7e]===0x25*0x3+-0x1969+0x18fa&&_0x1b9295[-0x8*0x3a5+-0x16e8+-0x341a*-0x1]===0x7*0x221+-0x1595+0x6af&&_0x1b9295[0xb9*-0xe+-0x1bd+0xbe6]===-0x293*0x5+0x28*0x31+0x537&&_0x1b9295[0x1*-0x93a+-0x1558+0x1e9e]===0x1267+0x10f7+-0x235e&&_0x1b9295[-0x1b3e+-0xa6d+0x8*0x4b7]===-0x1*-0xca3+-0x195*-0x2+-0x329*0x5&&_0x1b9295[0xd*0x17f+0x1*-0x226d+0xf08]===0xedb+0x84e+-0x1729&&_0x1b9295[-0x2431+-0x96+0x24d6]===-0x145d+0x2*-0xa83+0x2964;}['mul2'](_0x55579,_0x5c742b){const _0x483e17=_0x55579['data'],_0x8e557f=_0x5c742b['data'],_0x4df338=this['data'],_0x27bfe9=_0x483e17[-0x2*0x13e+0x5d7+-0x1*0x35b],_0x51f4f2=_0x483e17[-0x1b89+0x1*-0x1151+0x2cdb],_0x4b1711=_0x483e17[-0xf67*-0x1+0x234*0x9+0x2339*-0x1],_0x62138a=_0x483e17[0x97*0x29+-0x74d+-0x10df],_0x7ce962=_0x483e17[0x3ac*-0x4+-0x714*-0x1+0x7a*0x10],_0x3911fe=_0x483e17[0xe78+0x2708+0x357b*-0x1],_0x29f603=_0x483e17[-0x139e+-0x35f+-0x2b*-0x89],_0x2ee817=_0x483e17[-0x22b7+0x138d+0xf31*0x1],_0x3397b2=_0x483e17[-0x5ce+0xa75+-0x49f],_0x1c8039=_0x483e17[-0x1b94*0x1+0x971+0x122c],_0x1cde86=_0x483e17[-0x1e1*0xd+-0x207a+0x38f1],_0x40e4b1=_0x483e17[0x27*0x5c+-0xb97+-0x262],_0x1f4158=_0x483e17[0x4c1*0x8+-0x1*0x61d+-0x1fdf*0x1],_0x252756=_0x483e17[-0x10da+0x6*0x573+-0xfcb],_0x1fd930=_0x483e17[-0x1*-0x7ab+0x1fa2+-0xc5*0x33],_0x38701e=_0x483e17[-0x1221*-0x1+-0x3ad*0x9+0xf03];let _0x2a4f9f,_0x4e6cfa,_0x4186a4,_0x3694c5;return _0x2a4f9f=_0x8e557f[-0x1106*0x1+-0xc3*-0x2+0x1*0xf80],_0x4e6cfa=_0x8e557f[-0x9c*0xc+0x1*-0xecd+-0x26*-0x95],_0x4186a4=_0x8e557f[-0x19ec+-0xed5+0x28c3],_0x3694c5=_0x8e557f[0x6*-0x239+0x203e+-0x12e5],_0x4df338[-0x1*-0x1695+0x22e1+-0xb7e*0x5]=_0x27bfe9*_0x2a4f9f+_0x7ce962*_0x4e6cfa+_0x3397b2*_0x4186a4+_0x1f4158*_0x3694c5,_0x4df338[0x1*-0xbff+0xb29*0x1+-0x2b*-0x5]=_0x51f4f2*_0x2a4f9f+_0x3911fe*_0x4e6cfa+_0x1c8039*_0x4186a4+_0x252756*_0x3694c5,_0x4df338[0x76d*-0x4+0xc11*0x3+0xb*-0x97]=_0x4b1711*_0x2a4f9f+_0x29f603*_0x4e6cfa+_0x1cde86*_0x4186a4+_0x1fd930*_0x3694c5,_0x4df338[-0xe*0xd9+0x1*0x12a9+-0x6c8]=_0x62138a*_0x2a4f9f+_0x2ee817*_0x4e6cfa+_0x40e4b1*_0x4186a4+_0x38701e*_0x3694c5,_0x2a4f9f=_0x8e557f[-0x114d+-0xaed+0x3*0x96a],_0x4e6cfa=_0x8e557f[0x1ce4*0x1+0x262d*0x1+0x430c*-0x1],_0x4186a4=_0x8e557f[0xc9f+0x10ea+-0x5e7*0x5],_0x3694c5=_0x8e557f[-0x147b+-0xeb4+-0x119b*-0x2],_0x4df338[0x223e+0x17*-0x1af+0x47f]=_0x27bfe9*_0x2a4f9f+_0x7ce962*_0x4e6cfa+_0x3397b2*_0x4186a4+_0x1f4158*_0x3694c5,_0x4df338[-0x7b*-0xd+0x22d*0x5+-0x111b]=_0x51f4f2*_0x2a4f9f+_0x3911fe*_0x4e6cfa+_0x1c8039*_0x4186a4+_0x252756*_0x3694c5,_0x4df338[0x5e5+0x1*0xeaf+-0x148e]=_0x4b1711*_0x2a4f9f+_0x29f603*_0x4e6cfa+_0x1cde86*_0x4186a4+_0x1fd930*_0x3694c5,_0x4df338[-0xdec+0x753*0x1+0x6a0]=_0x62138a*_0x2a4f9f+_0x2ee817*_0x4e6cfa+_0x40e4b1*_0x4186a4+_0x38701e*_0x3694c5,_0x2a4f9f=_0x8e557f[-0x6*-0x597+-0x1*0x585+-0x1bfd],_0x4e6cfa=_0x8e557f[-0xe0f*0x2+-0x17e*0x9+0x851*0x5],_0x4186a4=_0x8e557f[0x1a*-0x3e+0x1b61*-0x1+0x21b7],_0x3694c5=_0x8e557f[-0x25e9+0x8b*0x47+-0x9*0x11],_0x4df338[0x4*-0x292+0x1*0x9ff+0x51]=_0x27bfe9*_0x2a4f9f+_0x7ce962*_0x4e6cfa+_0x3397b2*_0x4186a4+_0x1f4158*_0x3694c5,_0x4df338[0x186f+-0x25ff+0xd99]=_0x51f4f2*_0x2a4f9f+_0x3911fe*_0x4e6cfa+_0x1c8039*_0x4186a4+_0x252756*_0x3694c5,_0x4df338[-0xde8+0x53a+0x8b8]=_0x4b1711*_0x2a4f9f+_0x29f603*_0x4e6cfa+_0x1cde86*_0x4186a4+_0x1fd930*_0x3694c5,_0x4df338[-0x2494+0x20e1+0x3be]=_0x62138a*_0x2a4f9f+_0x2ee817*_0x4e6cfa+_0x40e4b1*_0x4186a4+_0x38701e*_0x3694c5,_0x2a4f9f=_0x8e557f[0x1cb8+-0x7b+0x1*-0x1c31],_0x4e6cfa=_0x8e557f[-0x1*0x45e+-0xdf*-0x4+0xef],_0x4186a4=_0x8e557f[-0x1317+-0x100a+-0x1*-0x232f],_0x3694c5=_0x8e557f[0x293*0x1+-0x1dfb+0x1b77*0x1],_0x4df338[0xe4*-0x3+0xe05+0xb4d*-0x1]=_0x27bfe9*_0x2a4f9f+_0x7ce962*_0x4e6cfa+_0x3397b2*_0x4186a4+_0x1f4158*_0x3694c5,_0x4df338[-0xee0+-0x55*0x53+-0x4*-0xa9f]=_0x51f4f2*_0x2a4f9f+_0x3911fe*_0x4e6cfa+_0x1c8039*_0x4186a4+_0x252756*_0x3694c5,_0x4df338[0x4*-0x466+0x57d*-0x7+0x1cf*0x1f]=_0x4b1711*_0x2a4f9f+_0x29f603*_0x4e6cfa+_0x1cde86*_0x4186a4+_0x1fd930*_0x3694c5,_0x4df338[-0x2*0x2e3+0x5*0x116+0x1*0x67]=_0x62138a*_0x2a4f9f+_0x2ee817*_0x4e6cfa+_0x40e4b1*_0x4186a4+_0x38701e*_0x3694c5,this;}['mulAffine2'](_0x17c733,_0x392f99){const _0x1fa2b8=_0x17c733['data'],_0x302a12=_0x392f99['data'],_0x483c23=this['data'],_0x20cd79=_0x1fa2b8[0xd*0xcb+0x798+0x1*-0x11e7],_0x3a47d6=_0x1fa2b8[0x1*-0x1512+-0x76d*0x5+0x3a34],_0x17cff9=_0x1fa2b8[0x6a*0x5+-0x2*-0xcb7+0x8a*-0x33],_0x145df0=_0x1fa2b8[-0xbbf*-0x2+-0x1*0x99b+-0xddf*0x1],_0x406f9b=_0x1fa2b8[-0x7ef*-0x1+-0x3b9*-0x5+-0x1a87*0x1],_0x2359eb=_0x1fa2b8[-0xa46+0x893+0x1b9],_0x58cdc2=_0x1fa2b8[0x1c60+-0x9e6+-0x1272],_0x244b66=_0x1fa2b8[0x1d4e*-0x1+0x1700+0x21d*0x3],_0x295fbc=_0x1fa2b8[-0x2f*0x8d+-0x37*-0xa9+0x376*-0x3],_0x2b7e1d=_0x1fa2b8[0xa9*-0x10+0x22d8+-0x4*0x60f],_0x1a46b5=_0x1fa2b8[-0x233d+0x2*0x9f5+0x18*0xa4],_0xdc26f5=_0x1fa2b8[-0x25*0xc5+-0xf1f+0x15d3*0x2];let _0x1ad145,_0x1e1fc0,_0x1d09d1;return _0x1ad145=_0x302a12[0x253+-0x1d8f+0x914*0x3],_0x1e1fc0=_0x302a12[0x55*0x2f+0xa4*0x11+-0x1a7e],_0x1d09d1=_0x302a12[0x3*0x135+-0x36*-0x5c+0x53*-0x47],_0x483c23[0x1*0x16c3+0x2*-0xcdd+0x2f7]=_0x20cd79*_0x1ad145+_0x145df0*_0x1e1fc0+_0x58cdc2*_0x1d09d1,_0x483c23[-0x1cb2+-0x885*-0x3+-0x324*-0x1]=_0x3a47d6*_0x1ad145+_0x406f9b*_0x1e1fc0+_0x244b66*_0x1d09d1,_0x483c23[-0x84b+-0x1d6*-0x11+0x1*-0x16e9]=_0x17cff9*_0x1ad145+_0x2359eb*_0x1e1fc0+_0x295fbc*_0x1d09d1,_0x483c23[-0x1da4+0x7c*-0x50+0x1*0x4467]=-0x10c3+0x224+0xe9f,_0x1ad145=_0x302a12[0x1837*-0x1+0x1e23+-0x5e8],_0x1e1fc0=_0x302a12[-0x769*-0x5+0x5f*-0x5d+-0x285],_0x1d09d1=_0x302a12[-0x11c4+-0x2d+0x3*0x5fd],_0x483c23[-0x4*0x678+0x463*-0x7+-0x3899*-0x1]=_0x20cd79*_0x1ad145+_0x145df0*_0x1e1fc0+_0x58cdc2*_0x1d09d1,_0x483c23[0x922*0x2+-0x2388+-0x3*-0x5c3]=_0x3a47d6*_0x1ad145+_0x406f9b*_0x1e1fc0+_0x244b66*_0x1d09d1,_0x483c23[0x34*-0x4f+-0x2*-0x1060+-0x10ae]=_0x17cff9*_0x1ad145+_0x2359eb*_0x1e1fc0+_0x295fbc*_0x1d09d1,_0x483c23[-0x17e+-0x165c+0x17e1]=0xa7f*0x1+-0xd8a*0x1+0x30b,_0x1ad145=_0x302a12[-0x22f6+0x1*0x1607+0xcf7*0x1],_0x1e1fc0=_0x302a12[-0x9*0x3d6+-0x1d85+0x4014],_0x1d09d1=_0x302a12[0xf*0x18d+0x1c3a+0x3373*-0x1],_0x483c23[-0x305*0x7+-0x190f+0x2e3a]=_0x20cd79*_0x1ad145+_0x145df0*_0x1e1fc0+_0x58cdc2*_0x1d09d1,_0x483c23[0xfb6+0x2592+-0x353f]=_0x3a47d6*_0x1ad145+_0x406f9b*_0x1e1fc0+_0x244b66*_0x1d09d1,_0x483c23[0x1*-0x1e77+-0x44f*-0x1+0x1a32]=_0x17cff9*_0x1ad145+_0x2359eb*_0x1e1fc0+_0x295fbc*_0x1d09d1,_0x483c23[0x1*-0x155c+0xd03*0x2+-0x49f]=0x1*0x265+-0x20e*0xb+-0x1*-0x1435,_0x1ad145=_0x302a12[0x49c+0x1929+-0x1db9],_0x1e1fc0=_0x302a12[0x1a7b*-0x1+-0x11cf+0x2c57],_0x1d09d1=_0x302a12[0x146f*0x1+0x10da+-0x3*0xc69],_0x483c23[0x7*0x3+0x160b+0xb0a*-0x2]=_0x20cd79*_0x1ad145+_0x145df0*_0x1e1fc0+_0x58cdc2*_0x1d09d1+_0x2b7e1d,_0x483c23[-0x151a+0xe3*0x1+0x1444]=_0x3a47d6*_0x1ad145+_0x406f9b*_0x1e1fc0+_0x244b66*_0x1d09d1+_0x1a46b5,_0x483c23[-0x980+-0x103d*0x1+0x19cb*0x1]=_0x17cff9*_0x1ad145+_0x2359eb*_0x1e1fc0+_0x295fbc*_0x1d09d1+_0xdc26f5,_0x483c23[0x27d*-0xb+-0x253+0x1dc1]=0x66f*0x1+-0x17d*-0x4+-0xc62,this;}['mul'](_0x438176){return this['mul2'](this,_0x438176);}['transformP'+'oint'](_0x26f904,_0x6ea809=new T()){const _0x5d9518=this['data'],{x:_0x3f4e24,y:_0x168b73,z:_0x3aefeb}=_0x26f904;return _0x6ea809['x']=_0x3f4e24*_0x5d9518[0x132f+-0x1d81+0x529*0x2]+_0x168b73*_0x5d9518[0x1*0x132f+0x20bb+0x1*-0x33e6]+_0x3aefeb*_0x5d9518[-0xfcf*-0x1+0x22a7+0x5*-0xa16]+_0x5d9518[-0x6b*-0xf+0xcac*-0x1+0x7f*0xd],_0x6ea809['y']=_0x3f4e24*_0x5d9518[0x1110+-0x1c60+0xb51*0x1]+_0x168b73*_0x5d9518[-0x3c5*0x2+0x249b+-0x1d0c]+_0x3aefeb*_0x5d9518[0xb98+0x1a8b+-0x261a*0x1]+_0x5d9518[-0x6*-0x5ab+-0x228d+-0x98*-0x1],_0x6ea809['z']=_0x3f4e24*_0x5d9518[0x6df*0x1+-0x230*-0xa+-0x41b*0x7]+_0x168b73*_0x5d9518[0xb08+-0x12e0+0x1*0x7de]+_0x3aefeb*_0x5d9518[0x83*0x41+0x4*-0x645+-0x8b*0xf]+_0x5d9518[-0x34f+0x86+-0x2d7*-0x1],_0x6ea809;}['transformV'+'ector'](_0x3e1bda,_0x58e041=new T()){const _0x59f6fa=this['data'],{x:_0x416886,y:_0x479ddc,z:_0x448561}=_0x3e1bda;return _0x58e041['x']=_0x416886*_0x59f6fa[0x124f*0x1+0x1*-0x1961+0x712]+_0x479ddc*_0x59f6fa[0x1055+0x70c+-0x175d]+_0x448561*_0x59f6fa[-0x11b*0xe+0x222*-0xb+-0x4df*-0x8],_0x58e041['y']=_0x416886*_0x59f6fa[-0x41*0x2e+0x17*0x59+0x3b0]+_0x479ddc*_0x59f6fa[-0x2*0x739+0x1502+-0x1*0x68b]+_0x448561*_0x59f6fa[0x9cb+0x2ed+-0xcaf],_0x58e041['z']=_0x416886*_0x59f6fa[-0x2ec+0x13fc+-0x110e]+_0x479ddc*_0x59f6fa[-0x26e4+-0x1f09+0x45f3]+_0x448561*_0x59f6fa[-0xb92+0x1*-0x11d0+0x1d6c],_0x58e041;}['transformV'+'ec4'](_0x250d0b,_0x581140=new Q()){const _0x42d3a6=this['data'],{x:_0x481204,y:_0x47a8fc,z:_0x27d5f4,w:_0x102667}=_0x250d0b;return _0x581140['x']=_0x481204*_0x42d3a6[-0xcfe*0x2+0x9*0x364+-0x91*0x8]+_0x47a8fc*_0x42d3a6[0x1c2e+-0x26c4+0xa9a]+_0x27d5f4*_0x42d3a6[0x7be*0x2+0x3*-0x734+-0xc5*-0x8]+_0x102667*_0x42d3a6[-0x119*-0x1f+-0xc21+-0x15da],_0x581140['y']=_0x481204*_0x42d3a6[-0x2583+0x12aa+0x12da]+_0x47a8fc*_0x42d3a6[0x146d*-0x1+0x1c92+-0x820]+_0x27d5f4*_0x42d3a6[-0x1*-0xf06+0x17b0+-0x26ad]+_0x102667*_0x42d3a6[-0x1d4d*0x1+-0xb3*0x1+0x1e0d],_0x581140['z']=_0x481204*_0x42d3a6[0x112+0x2f2*-0x1+0x1e2]+_0x47a8fc*_0x42d3a6[0x173d+-0x1eca+-0x793*-0x1]+_0x27d5f4*_0x42d3a6[0x20f*0x6+0x1e27+0x7*-0x611]+_0x102667*_0x42d3a6[0x2*0x23c+-0x18dd+0x3*0x6d1],_0x581140['w']=_0x481204*_0x42d3a6[-0x257a+-0x1*-0x263+0x231a]+_0x47a8fc*_0x42d3a6[-0x1ef2+-0x1149+0x2*0x1821]+_0x27d5f4*_0x42d3a6[-0x1784+0xe4+-0x16ab*-0x1]+_0x102667*_0x42d3a6[-0x1*0x2285+-0xf26+0x31ba],_0x581140;}['setLookAt'](_0x4e2447,_0x2e2c7f,_0x12781b){Os['sub2'](_0x4e2447,_0x2e2c7f)['normalize'](),Fs['copy'](_0x12781b)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x2dbf30=this['data'];return _0x2dbf30[-0x21e8+-0x9*-0x1a6+0x1312]=us['x'],_0x2dbf30[0x21b*-0xb+0x2587+-0xe5d]=us['y'],_0x2dbf30[0x1500+-0xa36*0x2+-0x1*0x92]=us['z'],_0x2dbf30[-0xd08+0x2663+-0x1958]=-0x1609*-0x1+0x13ed*-0x1+-0x21c,_0x2dbf30[-0x1a1f*-0x1+0x2*-0x130d+0xbff]=Fs['x'],_0x2dbf30[-0x96b+-0xfb7*0x1+-0x89*-0x2f]=Fs['y'],_0x2dbf30[0x2*0x4dc+0x15b3+-0x1a7*0x13]=Fs['z'],_0x2dbf30[-0xd*-0xa9+0x532*0x7+-0x2cec]=-0x242e+0x1*-0x1afd+0x1*0x3f2b,_0x2dbf30[-0x53*0x32+0x694+-0x2*-0x4d5]=Os['x'],_0x2dbf30[0x116c+-0x702+-0x1*0xa61]=Os['y'],_0x2dbf30[-0x2*0x8db+0x64+0xca*0x16]=Os['z'],_0x2dbf30[0xb*0x33+-0x32b*0xb+0x20b3]=-0x4a2*0x2+0x616+0x32e,_0x2dbf30[-0x44d*-0x9+-0x1b69+-0xb40]=_0x4e2447['x'],_0x2dbf30[0x162a+0x2*0x1366+0x1f*-0x1f7]=_0x4e2447['y'],_0x2dbf30[-0x11b3+0x1*0x1d3+0xfee]=_0x4e2447['z'],_0x2dbf30[0xaa4+-0x1d54+0x12bf]=-0x61a*0x1+0x154+0x4c7*0x1,this;}['setFrustum'](_0xbdb026,_0x9d35a0,_0x1c1101,_0x18d9df,_0x25aa38,_0x565f6a){const _0x11fa1f=(-0x74*-0x8+0x2264+0x23*-0x116)*_0x25aa38,_0xa3abeb=_0x9d35a0-_0xbdb026,_0x2d9260=_0x18d9df-_0x1c1101,_0x4d8f06=_0x565f6a-_0x25aa38,_0x14e7c0=this['data'];return _0x14e7c0[-0x1a20+0x13*0x197+-0x37*0x13]=_0x11fa1f/_0xa3abeb,_0x14e7c0[-0x4*0x815+-0x2150+0x5*0xd21]=0x668+0x996*0x2+0x665*-0x4,_0x14e7c0[0x2*0xd79+-0x140e*0x1+0x371*-0x2]=-0x200b+0x12ed*0x2+-0x5cf*0x1,_0x14e7c0[0x3f1*0x2+-0xda*-0x2b+-0x2c7d]=0x1*-0x253a+-0x139*0x2+0x27ac,_0x14e7c0[-0x128a+0x1*0x11de+-0x1*-0xb0]=-0x2665*0x1+0x26*-0x6b+-0x3647*-0x1,_0x14e7c0[-0x7*-0x505+0x559*-0x2+-0x186c]=_0x11fa1f/_0x2d9260,_0x14e7c0[-0x47c+0x1a31+-0x15af]=0x1*-0x2089+0x1*-0x1cf9+0x3d82,_0x14e7c0[-0x19*-0x26+0xb57*-0x1+-0x62*-0x14]=0xa*0x39a+0xe2*0x4+-0x13c6*0x2,_0x14e7c0[-0x1*0x20a4+0x18e0+-0x7cc*-0x1]=(_0x9d35a0+_0xbdb026)/_0xa3abeb,_0x14e7c0[0x1c2f+0x1702+-0x3328]=(_0x18d9df+_0x1c1101)/_0x2d9260,_0x14e7c0[-0x1c50+0x40e*0x7+-0x8]=(-_0x565f6a-_0x25aa38)/_0x4d8f06,_0x14e7c0[-0x5da*-0x2+0x2354+-0x2efd]=-(-0x1cb*0x11+0xe87+0xff5),_0x14e7c0[-0x1*0x1254+0x2618+-0x9dc*0x2]=0x1*-0xb6d+0x1045+-0x4d8,_0x14e7c0[-0x2042+-0x125*-0xa+0x14dd]=0x66e+0x1*0x2327+-0x2995,_0x14e7c0[-0x18eb+-0x16ca+-0x1*-0x2fc3]=-_0x11fa1f*_0x565f6a/_0x4d8f06,_0x14e7c0[-0x2666+0x12*-0xdb+0x35db]=0x49*0x43+0x82b+0x1*-0x1b46,this;}['setPerspec'+'tive'](_0x13bd28,_0x41c5d9,_0x12c45c,_0x17a0e9,_0x3af5d5){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0x13bd28,_0x41c5d9,_0x12c45c,_0x3af5d5),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x12c45c,_0x17a0e9);}['setOrtho'](_0x139e1c,_0x5c6473,_0x206737,_0x513f4b,_0x4239d1,_0xcd3d3d){const _0x435dad=this['data'];return _0x435dad[0xf4f+0x261f+-0xe*0x3d1]=(-0x2247+-0xf1*0x13+0x2a*0x13e)/(_0x5c6473-_0x139e1c),_0x435dad[0x2*0xbd9+0x10a*0x11+0xdc9*-0x3]=-0x21c0+0x103a+0x1*0x1186,_0x435dad[0x17e1+0x1c8f*0x1+-0x8bd*0x6]=-0x19*0x160+0x1*-0x120d+0x346d,_0x435dad[-0xb11+0xedd+-0x3c9]=-0x26be+0x2be+-0x10*-0x240,_0x435dad[0x1881+-0x1*0x588+-0x12f5]=0x9a8*0x4+-0x1b34+-0xb6c,_0x435dad[0x1e1a+0x6*0x2ba+-0x2e71]=(-0x1e08+-0x27*-0xf1+-0x6ad)/(_0x513f4b-_0x206737),_0x435dad[-0xe64*0x1+-0xef2*0x1+0x1d5c]=0x2098+-0x22f3+0x25b,_0x435dad[-0x1bbd+-0x1b10+0x36d4]=-0x15d5+-0xd9*-0x15+0xac*0x6,_0x435dad[-0x8e4+0x751*0x3+-0xd07]=0x247e+-0x97*-0x3b+-0x474b,_0x435dad[-0xb6+0x28d*-0x4+0xaf3]=-0x1a5a+-0x44b+0x5*0x621,_0x435dad[0x337+0x83*0x2f+-0xcd*0x22]=-(-0x5a5+0x14e1+-0x2*0x79d)/(_0xcd3d3d-_0x4239d1),_0x435dad[-0x16*0x26+0x1*-0x1655+-0x223*-0xc]=-0x1851*0x1+0x3*0x7c6+0xff,_0x435dad[-0xfe9+-0x2*0xdf4+0x2bdd]=-(_0x5c6473+_0x139e1c)/(_0x5c6473-_0x139e1c),_0x435dad[0x536+-0x1467+-0x2*-0x79f]=-(_0x513f4b+_0x206737)/(_0x513f4b-_0x206737),_0x435dad[0x2265+-0x41d*-0x1+-0x133a*0x2]=-(_0xcd3d3d+_0x4239d1)/(_0xcd3d3d-_0x4239d1),_0x435dad[0x96f*-0x1+0x1*0x1a9d+0x111f*-0x1]=0x11*-0xb1+0x6a3+0x17*0x39,this;}['setFromAxi'+'sAngle'](_0x14b5b4,_0x1a94f6){_0x1a94f6*=N['DEG_TO_RAD'];const {x:_0x336351,y:_0x5e089e,z:_0x413671}=_0x14b5b4,_0x5587a1=Math['cos'](_0x1a94f6),_0x22b1f4=Math['sin'](_0x1a94f6),_0x4e77a3=-0x1*0x235+-0x8a1*-0x1+-0x1*0x66b-_0x5587a1,_0x41382c=_0x4e77a3*_0x336351,_0x162bec=_0x4e77a3*_0x5e089e,_0x14a4e6=this['data'];return _0x14a4e6[-0x1f7*-0x1+-0x80c+0x615]=_0x41382c*_0x336351+_0x5587a1,_0x14a4e6[0x1a9c*0x1+0x1136+-0xe9b*0x3]=_0x41382c*_0x5e089e+_0x22b1f4*_0x413671,_0x14a4e6[0x1*0x866+0x559*-0x2+0x24e]=_0x41382c*_0x413671-_0x22b1f4*_0x5e089e,_0x14a4e6[0xe27*0x1+0x1a82+-0x28a6]=0x1*0x1a5d+-0x12ec+0x27b*-0x3,_0x14a4e6[-0x11bd*-0x1+0x6*0x3a6+-0x279d]=_0x41382c*_0x5e089e-_0x22b1f4*_0x413671,_0x14a4e6[-0x81*-0x2f+-0x25a9*0x1+0xdff]=_0x162bec*_0x5e089e+_0x5587a1,_0x14a4e6[0x109f+0x2685+0x5*-0xb06]=_0x162bec*_0x413671+_0x22b1f4*_0x336351,_0x14a4e6[0x6*-0x408+0x1c77+-0x440]=0x3*0x7d7+0x1847+0x4*-0xbf3,_0x14a4e6[-0xfe9*-0x2+-0x12*0x3a+-0x1bb6]=_0x41382c*_0x413671+_0x22b1f4*_0x5e089e,_0x14a4e6[0x1*-0x8d9+0x1*-0x196b+-0xb6f*-0x3]=_0x162bec*_0x413671-_0x336351*_0x22b1f4,_0x14a4e6[-0x111a+0x8*0x191+-0x24e*-0x2]=_0x4e77a3*_0x413671*_0x413671+_0x5587a1,_0x14a4e6[-0x16cd+-0x10d*0x7+-0xa11*-0x3]=0x222b+-0xfee+-0x123d,_0x14a4e6[0x1b26+-0xd26+-0xdf4]=-0x1e59+-0x1877+0x2*0x1b68,_0x14a4e6[-0x230b*-0x1+-0x558*0x1+-0x1da6]=0x2*-0x107+0x1128+-0xf1a,_0x14a4e6[0x5*0x154+0x1*0x1ba1+-0x2237]=-0x197b+-0x7*0x336+0x2ff5,_0x14a4e6[0x253b+-0x1*-0x23de+-0x490a]=-0xb47*0x1+-0x14*0xb9+0x19bc,this;}['setTransla'+'te'](_0x4d8831,_0x2ad41f,_0x33b69f){const _0x478356=this['data'];return _0x478356[-0x2*-0xadb+0x1751+-0x2d07]=-0x1a54+-0x1878+0x32cd,_0x478356[0x7*0x2a7+0x251f+0xb23*-0x5]=0x65*-0x48+0x647*-0x1+0xd*0x2ab,_0x478356[0xf1*-0x8+-0xb3f+0x2af*0x7]=0x59*-0x37+-0x6c2+-0x52d*-0x5,_0x478356[0x7*0x3e4+0x1646+-0x317f]=0xb*0x288+0x1f61+-0x3b39*0x1,_0x478356[0xcdb*-0x3+-0x1fef*0x1+0x4684]=-0x1a0a+-0x4f*0x6f+-0x157*-0x2d,_0x478356[-0x1*-0x171d+-0x9be+0xd5a*-0x1]=0xd8+0x132b+-0xd*0x18a,_0x478356[0x1e1e+0x3a1*-0x2+-0x16d6]=-0x2*0xd2d+-0x208c*-0x1+-0x632,_0x478356[-0x15*-0x67+-0x89e*0x2+0x8d0]=-0x1fbd+0x1387+0xc36,_0x478356[0x2200+-0xa37*-0x2+-0x3666]=-0x20c*-0x4+0x245e+0x76d*-0x6,_0x478356[0x1*-0xaa1+-0x106e+0x908*0x3]=-0xd55+-0x1ce1+-0x2*-0x151b,_0x478356[-0x8*0x449+-0xa93+0x3*0xef7]=0x6*0x3f3+-0x2632+-0x1*-0xe81,_0x478356[-0x1425+0x2d*-0x9a+0x2f42]=0x634*-0x1+-0xaae+0x10e2,_0x478356[0x9*-0x2cd+0x5d*0x1d+0xeb8]=_0x4d8831,_0x478356[-0x5c*0x26+-0x22a4+0x3059]=_0x2ad41f,_0x478356[-0x231f+-0xe7+0x2414]=_0x33b69f,_0x478356[0x1095+-0x1*0x2fe+0x1*-0xd88]=0x30*0x8b+0x1*0x133a+0x1*-0x2d49,this;}['setScale'](_0x30ecb1,_0x2199e5,_0x11eb44){const _0x27d590=this['data'];return _0x27d590[-0xbce+0x1b1*-0xa+0x1cb8]=_0x30ecb1,_0x27d590[-0x8*-0x167+0x12b9+0x1df*-0x10]=-0x2579+-0xe*0x10b+0x3413,_0x27d590[0x20*-0x27+0x3ad*0x1+0x135]=-0x1*-0xf1c+-0x2b3*0xb+-0xe95*-0x1,_0x27d590[-0x23fa+0x1111+0x12ec]=-0x53*-0x76+-0x432*-0x5+-0x3b3c,_0x27d590[-0x66e*0x2+0x173*0x19+-0x3*0x7c9]=-0x9*0x1e6+0x5*-0x42b+0x25ed,_0x27d590[0xe06+0xb*-0x2b3+0xfb0]=_0x2199e5,_0x27d590[-0x1*0x2564+-0xf54+-0x56*-0x9d]=0x3a*-0x9e+0x1e0b*-0x1+0x41d7,_0x27d590[-0x3*0xef+-0x627+0x8fb]=-0x10b2+-0x5d5+0x49*0x4f,_0x27d590[-0x1dbe+0xdef+0xfd7*0x1]=-0x10dd*0x1+-0x13*0x178+0x2cc5,_0x27d590[-0x59*-0x8+0xe*-0x1c1+0x1*0x15cf]=0x1*0x20af+-0x36c+0x9c1*-0x3,_0x27d590[0x1a4b+-0x8*-0x124+-0x2361]=_0x11eb44,_0x27d590[-0x5f*0x5b+0xedd+-0x3*-0x651]=-0x148a+0x27f*0xf+-0x10e7,_0x27d590[0x14b9+0x98b+-0x1e38]=-0x2426*0x1+0x2209*-0x1+0x1765*0x3,_0x27d590[0x24a*0xb+0x1ef+-0x1b10]=-0x9a3*-0x1+0x30f+-0xcb2,_0x27d590[-0x6d3*0x1+-0x1c2a+0x230b]=0xdd*-0x1b+-0x5*0x97+-0x1a42*-0x1,_0x27d590[0x1*0x1a91+-0x5db+-0x14a7*0x1]=-0x33a+0x1812+-0x14d7,this;}['setViewpor'+'t'](_0xf3ffb9,_0x37ced9,_0x46783c,_0x2b4fb4){const _0x162753=this['data'];return _0x162753[0x796*-0x3+-0x53*0x4f+-0x1ab*-0x1d]=_0x46783c*(-0x2020+0x1ba0+0x480+0.5),_0x162753[0x115c+0x2113+0x2*-0x1937]=-0x1a39+0xb20+0xf19,_0x162753[-0xbdb*0x1+0x6b6*-0x5+0xb*0x421]=0x1*-0x95e+-0xd70+0x3*0x79a,_0x162753[-0x9b1+-0x1*-0x1ba9+-0x1*0x11f5]=-0xcbd*-0x1+0x79c*-0x1+-0x521,_0x162753[-0x251a+0x56f*0x1+0x1faf]=-0x20*-0x23+0x7f2+-0xc52,_0x162753[0x480*0x3+-0x1850+0xad5*0x1]=_0x2b4fb4*(0xfcd*0x2+0xa6c+0x21*-0x146+0.5),_0x162753[0x29d*-0x5+-0x41*-0x97+0x65*-0x40]=0x15ed+0x6b9+-0x1ca6,_0x162753[0xcdd+0x2*0x1206+-0x30e2]=0x8b3+0x2202*-0x1+-0xd1*-0x1f,_0x162753[-0x24ff+-0x25ab*-0x1+-0x29*0x4]=0x1*-0x2689+0xce9*-0x1+-0x2*-0x19b9,_0x162753[-0x1829+0x4bb+0x1377]=-0x2593+0x154a+0x1049,_0x162753[0x89d+-0x24c7+0x2*0xe1a]=0x283*0x4+-0x1170+0x2c*0x2b+0.5,_0x162753[0x1*0x106d+-0x11c0+0x15e]=-0x1*0x174b+0x2a0+0xb*0x1e1,_0x162753[0x1*0x1f0d+0x37d*-0x2+-0x1807]=_0xf3ffb9+_0x46783c*(-0x2f5*-0xd+-0x17b*-0x1a+-0x4cef+0.5),_0x162753[-0x6a7+0x1ffb+-0x86d*0x3]=_0x37ced9+_0x2b4fb4*(-0x1*-0x1271+0xec8+-0x9*0x3b1+0.5),_0x162753[0x2*0x558+-0x1b50+0x10ae]=0x13*-0x1af+0x8a*-0xd+-0x95*-0x43+0.5,_0x162753[0x2*0xa48+0x5ad*-0x6+-0x1*-0xd8d]=-0x11e1+-0x25*-0x11+0xf6d,this;}['setReflect'+'ion'](_0x844906,_0x1e2f5a){const _0x46194a=_0x844906['x'],_0xabf001=_0x844906['y'],_0x50a2d9=_0x844906['z'],_0x4b5ecd=this['data'];return _0x4b5ecd[-0x5*-0x58f+-0xaa8+-0x1123]=0x8f0+-0x2*-0x3+-0x8f5-(-0x16bf+-0x65f*0x5+0x369c)*_0x46194a*_0x46194a,_0x4b5ecd[-0x58a+0xe40+-0x8b5]=-(-0x2b*-0x8b+-0x1e64+-0x1*-0x70d)*_0x46194a*_0xabf001,_0x4b5ecd[-0x3*-0xbbd+-0x199*-0x1+-0x2*0x1267]=-(0xde8+-0xee6*-0x1+-0x1ccc)*_0x46194a*_0x50a2d9,_0x4b5ecd[-0x616+0x1*0x1bb9+0x2*-0xad0]=0x503*0x5+0xef*-0x15+-0x574,_0x4b5ecd[-0x1825+0x45b+-0xf*-0x152]=-(0xff6+-0xa7b+0x579*-0x1)*_0x46194a*_0xabf001,_0x4b5ecd[-0x765+0xd13*0x2+-0x2c*0x6d]=0x2462+0x242e+-0x488f-(0x1*-0x23ae+-0x1870+0x3c20)*_0xabf001*_0xabf001,_0x4b5ecd[0xd66+0x1c95+-0x29f5]=-(-0x17f5*-0x1+-0xf67*0x1+-0x2*0x446)*_0xabf001*_0x50a2d9,_0x4b5ecd[-0x1*-0x25bd+-0x1843+-0x1*0xd73]=0xdbd*0x1+0x6c0+0x5*-0x419,_0x4b5ecd[-0x1d*0x23+-0x16f7*0x1+0x1ed*0xe]=-(0x8c*-0xe+-0xe*-0x1+0x1*0x79c)*_0x46194a*_0x50a2d9,_0x4b5ecd[-0x3b*-0x3f+-0x3cb*0x1+-0x77*0x17]=-(-0x26*-0x7+-0x41*0x32+-0x2*-0x5d5)*_0xabf001*_0x50a2d9,_0x4b5ecd[-0x452+0x1712+-0x1df*0xa]=0x221*0x4+-0x1ac9*0x1+0x1246-(-0xc29+0x1fd1+0x3ee*-0x5)*_0x50a2d9*_0x50a2d9,_0x4b5ecd[-0x2614+-0xe19*0x2+0x4251]=0x657*0x1+0xe2a+-0x1481,_0x4b5ecd[0x26a6+-0x590+-0x1085*0x2]=-(0x13a3+0x259*-0x9+0x4*0x60)*_0x46194a*_0x1e2f5a,_0x4b5ecd[0x503*-0x3+-0x5fb*-0x1+-0x6f*-0x15]=-(0x8f6+0x14e*0x11+-0x63a*0x5)*_0xabf001*_0x1e2f5a,_0x4b5ecd[0x1d4*0x12+-0xf0b*-0x1+0x1*-0x2fe5]=-(0x36b*0x1+0x955+0x7*-0x1d2)*_0x50a2d9*_0x1e2f5a,_0x4b5ecd[-0xa*0x306+-0x1ab3+0x38fe]=-0x1516+-0x1635+0x2b4c,this;}['invert'](_0x587463=this){const _0x373b63=_0x587463['data'],_0x95abc7=_0x373b63[0x2e1*-0x1+-0x1d79+0x2*0x102d],_0x267693=_0x373b63[0x1f*0x2f+-0x9*0x2fe+0x153e*0x1],_0x22dce0=_0x373b63[0x25d2+-0xe18+-0x17*0x108],_0x56e4c8=_0x373b63[-0x20*-0x7+0x1e1e+-0x1efb],_0x5a4898=_0x373b63[-0x24be+-0x20*-0x9f+-0x2*-0x871],_0x54c133=_0x373b63[0x1*0x8ef+0x1b1e+0x1204*-0x2],_0x3ede1a=_0x373b63[0x158b*-0x1+0x22dd+-0x25*0x5c],_0xf5783e=_0x373b63[0x655*-0x1+-0x9c4+0x1020],_0x21918b=_0x373b63[0x20c3+0x12e5*0x2+-0x4685],_0x2c7c8e=_0x373b63[0xa7*0x28+0x188d+-0x329c],_0x13f030=_0x373b63[0x253b+-0x35*-0xad+-0x4902],_0x4ff603=_0x373b63[0x26ff+0xb93*-0x2+-0xfce],_0x16ccd1=_0x373b63[0x1651+0x16a5+-0x2cea],_0x4118b3=_0x373b63[0x1*-0x626+-0xaee+0x1121],_0x18247c=_0x373b63[-0x23f2+0x18c5+0x19*0x73],_0x72bdc3=_0x373b63[0x18*0x103+0x61b*0x1+0xc*-0x287],_0x5591a6=_0x95abc7*_0x54c133-_0x267693*_0x5a4898,_0x1a1057=_0x95abc7*_0x3ede1a-_0x22dce0*_0x5a4898,_0x470de9=_0x95abc7*_0xf5783e-_0x56e4c8*_0x5a4898,_0x241fe9=_0x267693*_0x3ede1a-_0x22dce0*_0x54c133,_0x3d9379=_0x267693*_0xf5783e-_0x56e4c8*_0x54c133,_0x5bf702=_0x22dce0*_0xf5783e-_0x56e4c8*_0x3ede1a,_0x5a8731=_0x21918b*_0x4118b3-_0x2c7c8e*_0x16ccd1,_0x4932b5=_0x21918b*_0x18247c-_0x13f030*_0x16ccd1,_0x134570=_0x21918b*_0x72bdc3-_0x4ff603*_0x16ccd1,_0x3c189e=_0x2c7c8e*_0x18247c-_0x13f030*_0x4118b3,_0x363120=_0x2c7c8e*_0x72bdc3-_0x4ff603*_0x4118b3,_0x16ce71=_0x13f030*_0x72bdc3-_0x4ff603*_0x18247c,_0x531694=_0x5591a6*_0x16ce71-_0x1a1057*_0x363120+_0x470de9*_0x3c189e+_0x241fe9*_0x134570-_0x3d9379*_0x4932b5+_0x5bf702*_0x5a8731;if(_0x531694===0xa6f+0x6b*-0x18+-0x1*0x67)this['setIdentit'+'y']();else{const _0x18abf1=(-0xa0*-0x29+0x15*-0x199+0x7ee)/_0x531694,_0x4a682d=this['data'];_0x4a682d[0xab6+0x1ae7+-0x259d]=(_0x54c133*_0x16ce71-_0x3ede1a*_0x363120+_0xf5783e*_0x3c189e)*_0x18abf1,_0x4a682d[0x1*0x13c3+-0x839*0x3+-0x3*-0x1a3]=(-_0x267693*_0x16ce71+_0x22dce0*_0x363120-_0x56e4c8*_0x3c189e)*_0x18abf1,_0x4a682d[0x1dfa+-0x58d+0x37d*-0x7]=(_0x4118b3*_0x5bf702-_0x18247c*_0x3d9379+_0x72bdc3*_0x241fe9)*_0x18abf1,_0x4a682d[-0x1d85+-0x2*0x533+-0x21a*-0x13]=(-_0x2c7c8e*_0x5bf702+_0x13f030*_0x3d9379-_0x4ff603*_0x241fe9)*_0x18abf1,_0x4a682d[0x7*0x12+0xfd*0x1+-0x5*0x4b]=(-_0x5a4898*_0x16ce71+_0x3ede1a*_0x134570-_0xf5783e*_0x4932b5)*_0x18abf1,_0x4a682d[-0x2*0x6e3+-0x1d0e+0x2ad9]=(_0x95abc7*_0x16ce71-_0x22dce0*_0x134570+_0x56e4c8*_0x4932b5)*_0x18abf1,_0x4a682d[-0x1*0xcf7+0x1*-0x1537+0xc7*0x2c]=(-_0x16ccd1*_0x5bf702+_0x18247c*_0x470de9-_0x72bdc3*_0x1a1057)*_0x18abf1,_0x4a682d[0x109e+-0x2*-0x10fc+0x7*-0x739]=(_0x21918b*_0x5bf702-_0x13f030*_0x470de9+_0x4ff603*_0x1a1057)*_0x18abf1,_0x4a682d[0x867*-0x3+0x4e6*-0x5+0x31bb]=(_0x5a4898*_0x363120-_0x54c133*_0x134570+_0xf5783e*_0x5a8731)*_0x18abf1,_0x4a682d[0x12cb+0x6b*0x1+-0x132d]=(-_0x95abc7*_0x363120+_0x267693*_0x134570-_0x56e4c8*_0x5a8731)*_0x18abf1,_0x4a682d[-0x1007+0xe81+-0x190*-0x1]=(_0x16ccd1*_0x3d9379-_0x4118b3*_0x470de9+_0x72bdc3*_0x5591a6)*_0x18abf1,_0x4a682d[-0x1145*-0x2+-0x4e9+0x43a*-0x7]=(-_0x21918b*_0x3d9379+_0x2c7c8e*_0x470de9-_0x4ff603*_0x5591a6)*_0x18abf1,_0x4a682d[-0x1*-0xf05+0x1aee+0x277*-0x11]=(-_0x5a4898*_0x3c189e+_0x54c133*_0x4932b5-_0x3ede1a*_0x5a8731)*_0x18abf1,_0x4a682d[0xd7d+-0x85e+-0x512]=(_0x95abc7*_0x3c189e-_0x267693*_0x4932b5+_0x22dce0*_0x5a8731)*_0x18abf1,_0x4a682d[-0x201*0xc+0x3*0x331+-0xe87*-0x1]=(-_0x16ccd1*_0x241fe9+_0x4118b3*_0x1a1057-_0x18247c*_0x5591a6)*_0x18abf1,_0x4a682d[0xdc0+-0x7*-0x25f+-0x1e4a]=(_0x21918b*_0x241fe9-_0x2c7c8e*_0x1a1057+_0x13f030*_0x5591a6)*_0x18abf1;}return this;}['set'](_0xead5bd){const _0x2c1192=this['data'];return _0x2c1192[-0x1ee9+0x1*0x45d+0x1a8c]=_0xead5bd[0x2515+0x2*0xda3+-0xcdf*0x5],_0x2c1192[0x1*-0x17a3+0x1*-0x18b9+0x305d]=_0xead5bd[-0x1fe8+0x726+0x841*0x3],_0x2c1192[0x7ea+0x922+-0x110a]=_0xead5bd[-0x1*0x15a5+0x1*0x1e13+-0x86c],_0x2c1192[0x4*-0x5cb+0x1ed1+-0x7a2]=_0xead5bd[-0xddd+-0xbb6*-0x3+0x6*-0x38b],_0x2c1192[-0x581+-0xeaa+0x142f]=_0xead5bd[-0x1c40+-0x1*-0x84d+-0x13f7*-0x1],_0x2c1192[0xab3+-0x93+0x1*-0xa1b]=_0xead5bd[0x127+-0x3d6*-0x8+-0x1fd2],_0x2c1192[-0x1f77+-0x1ca4+-0x3*-0x140b]=_0xead5bd[-0xb*0x19a+-0xd3d*-0x1+0x467],_0x2c1192[-0x1563+-0x33*0x3+0x1*0x1603]=_0xead5bd[0x25*0x108+-0x1e7a+-0x7a7],_0x2c1192[-0x1*-0x1b35+0xd*0x4f+0x10*-0x1f3]=_0xead5bd[0x4ef+0x2699*0x1+-0x2b80],_0x2c1192[0x1e1+0xe53+-0x102b]=_0xead5bd[0x12*-0x17b+-0x1e8c+0x393b],_0x2c1192[0xb1a+0x10f*-0x4+-0x6d4]=_0xead5bd[-0x1*0xf59+0x35*0xac+0x1*-0x1439],_0x2c1192[-0x20cd+0x835+0x18a3]=_0xead5bd[-0x1*0x1609+-0xe28+-0xc*-0x305],_0x2c1192[0x9b+0x175*0x17+0xb2*-0x31]=_0xead5bd[0x19ca+0x17c*-0xa+-0xae6],_0x2c1192[0x1*0x14e+-0x61a+-0x11*-0x49]=_0xead5bd[0x95f+-0x160d+-0xcbb*-0x1],_0x2c1192[-0x14cc+0x40*-0x92+0x395a]=_0xead5bd[-0x1118*-0x2+-0x181d*0x1+-0xa05],_0x2c1192[0x48b+0x1*0x1f29+-0x1*0x23a5]=_0xead5bd[0x1ea9+0xb67*-0x2+-0x7cc],this;}['setIdentit'+'y'](){const _0x16d81c=this['data'];return _0x16d81c[-0x180a+-0x2f3+0x1*0x1afd]=-0x141f*-0x1+-0x2*0xa91+0x34*0x5,_0x16d81c[0x2128+-0x3*0xc70+0x1*0x429]=-0x5*-0x332+-0xa72+-0x8*0xb1,_0x16d81c[-0x14ed+0x1*0x1cff+-0x810]=0x6*0x1cf+-0x22b2+0x17d8,_0x16d81c[-0x165c+-0x7*-0x266+0x595*0x1]=-0x1*0x1051+-0x4*0x851+0x3*0x1087,_0x16d81c[-0xda3+-0xaba+0x1*0x1861]=-0x1588+0x2280+0x67c*-0x2,_0x16d81c[0x13c7+0x1*-0x7dc+0x1*-0xbe6]=0x19f4+-0x3f1+-0x1602,_0x16d81c[-0x33c+-0x240b*-0x1+-0x2fb*0xb]=-0x1ddb+-0x4f*0x65+0x49*0xd6,_0x16d81c[0xc8b+-0x1780*0x1+-0x2bf*-0x4]=-0x5ab*0x5+0x1*0x404+0x1853,_0x16d81c[-0x1*0x14e3+-0x3c1+0x4*0x62b]=0x264e+0x1*-0x1349+-0x1305*0x1,_0x16d81c[0x1b1d*-0x1+0xd*-0x13f+0x2b59]=0xcc1*0x1+0x2155+0x2b6*-0x11,_0x16d81c[-0x37*-0x35+0x22a2+-0x1*0x2dfb]=0x1*0x2671+-0xc15*0x3+-0xb*0x33,_0x16d81c[0x100e+-0x8*-0xeb+-0x175b]=-0x75a*-0x4+-0x5fb*-0x5+0x7*-0x879,_0x16d81c[0x71*-0x1d+0x2515+0x814*-0x3]=-0x2072+-0x8d6+0x2948,_0x16d81c[-0x506*0x2+0x3b1+-0x4*-0x19a]=-0x2*0x939+0x15b7+-0x1f*0x1b,_0x16d81c[0x18c0+0x1fcd+-0x387f]=-0xcae+-0x1*-0x1b8b+-0xedd,_0x16d81c[-0x1e9b+0xcb1+0x11f9]=0x1439+0x1ed3+-0x49*0xb3,this;}['setTRS'](_0x21bdd0,_0x5ba2a1,_0x2eb7af){const _0x119809=_0x5ba2a1['x'],_0x5baa0c=_0x5ba2a1['y'],_0x5abc7f=_0x5ba2a1['z'],_0x33bd22=_0x5ba2a1['w'],_0x56974a=_0x2eb7af['x'],_0x28b098=_0x2eb7af['y'],_0xbbc0f2=_0x2eb7af['z'],_0x3b6062=_0x119809+_0x119809,_0x2020af=_0x5baa0c+_0x5baa0c,_0x193b42=_0x5abc7f+_0x5abc7f,_0x5a5630=_0x119809*_0x3b6062,_0x4f4cb5=_0x119809*_0x2020af,_0x75dab3=_0x119809*_0x193b42,_0x3b2ad5=_0x5baa0c*_0x2020af,_0x347319=_0x5baa0c*_0x193b42,_0x4f3f55=_0x5abc7f*_0x193b42,_0xc16d16=_0x33bd22*_0x3b6062,_0x435efa=_0x33bd22*_0x2020af,_0x3413bf=_0x33bd22*_0x193b42,_0x876d84=this['data'];return _0x876d84[-0x1d8e*-0x1+0x1958+-0x36e6]=(-0xf19+-0xf9d*0x2+0x2e54-(_0x3b2ad5+_0x4f3f55))*_0x56974a,_0x876d84[-0x88a*0x4+-0x6e2*-0x1+0x1*0x1b47]=(_0x4f4cb5+_0x3413bf)*_0x56974a,_0x876d84[0x1*0x141d+-0xe57*-0x1+-0x2272]=(_0x75dab3-_0x435efa)*_0x56974a,_0x876d84[-0x1115+-0x20c9+0x31e1]=-0x15e2+-0x2fd+0x18df,_0x876d84[0x1fb7+-0x2048+-0x1*-0x95]=(_0x4f4cb5-_0x3413bf)*_0x28b098,_0x876d84[0x1*-0x1e55+-0x1*0x1193+0x2fed*0x1]=(0x1f3f+0x5d6+-0x2514-(_0x5a5630+_0x4f3f55))*_0x28b098,_0x876d84[-0x14bd+-0x230c+0x37cf]=(_0x347319+_0xc16d16)*_0x28b098,_0x876d84[0x376*-0x4+-0x52*0x1f+-0x3*-0x7ef]=0x1f71+-0x3*-0x1cd+0x18*-0x189,_0x876d84[0xae4*0x1+-0x3*-0x441+-0x179f]=(_0x75dab3+_0x435efa)*_0xbbc0f2,_0x876d84[-0x2*0x181+-0x1*-0x1196+-0xe8b]=(_0x347319-_0xc16d16)*_0xbbc0f2,_0x876d84[0x11d7+0x11ba+-0x2387]=(0x13*-0x122+0x58a*-0x2+0x209b-(_0x5a5630+_0x3b2ad5))*_0xbbc0f2,_0x876d84[0x6bd+0x244d+-0x9*0x4c7]=-0x2e*0x97+-0x77e*-0x5+0x1*-0xa54,_0x876d84[0x2337+0x2128+-0x4453]=_0x21bdd0['x'],_0x876d84[0x20c+-0x1*0x1570+0x1371]=_0x21bdd0['y'],_0x876d84[-0x3*0x8cc+0x7*-0x46a+0x3958]=_0x21bdd0['z'],_0x876d84[0x1ab0+-0xfcc+-0xad5*0x1]=-0x1*0x1367+0x1480+-0x118,this;}['transpose'](_0x3b4834=this){const _0x392269=_0x3b4834['data'],_0xc088e8=this['data'];if(_0x392269===_0xc088e8){let _0x1ec4a8;_0x1ec4a8=_0x392269[-0x2*0xa22+0x8d*0xa+0xec3],_0xc088e8[-0x15b*-0x1+0x11ba+0x25*-0x84]=_0x392269[0x8c1+0x2426+-0x2ce3],_0xc088e8[0x2cf*0xb+0x2*-0x333+0x3*-0x829]=_0x1ec4a8,_0x1ec4a8=_0x392269[-0x2353*0x1+0x164b+-0x685*-0x2],_0xc088e8[0x1*-0x48c+0x18b*0x13+-0x3*0x841]=_0x392269[-0x86a+0x353+0x51f],_0xc088e8[0x7*0x36d+0x25*0xad+-0x30f4]=_0x1ec4a8,_0x1ec4a8=_0x392269[-0xc2*-0x6+-0xc62+0x7d9],_0xc088e8[-0x11*-0x5f+0x1209+-0x1855]=_0x392269[0x693+0x665+0x33b*-0x4],_0xc088e8[-0x112d+0x21af*-0x1+0x32e8]=_0x1ec4a8,_0x1ec4a8=_0x392269[0x1f*-0x97+0x163f+-0x3f0],_0xc088e8[0x1fc9+-0x1e3*-0xd+-0x384a]=_0x392269[-0x1f66+-0x2337+0x42a6],_0xc088e8[-0x7*0x2d4+0x41b*-0x2+0x959*0x3]=_0x1ec4a8,_0x1ec4a8=_0x392269[0xf*-0x87+-0xf88+0x8*0x2ef],_0xc088e8[0x830+-0x2*0xef6+0x15c3]=_0x392269[0x1b41+0x1a*0xec+0x83*-0x64],_0xc088e8[-0x1ed6+0x1*0x1e7d+0x66]=_0x1ec4a8,_0x1ec4a8=_0x392269[0x1*0x16ae+0x2001*-0x1+0x95e],_0xc088e8[-0x5*-0x67a+0x8*-0x2ea+0x907*-0x1]=_0x392269[0x95e+0x230b+-0x2c5b],_0xc088e8[-0x1311+-0x1501+0x2820]=_0x1ec4a8;}else _0xc088e8[0x7d*-0xf+0x1*0x311+0xa*0x6d]=_0x392269[0x14c6+0x94b+0x2b*-0xb3],_0xc088e8[-0xfa1*0x1+0x7f8+0x7aa]=_0x392269[-0x1bb5+-0x11ba*-0x2+0x1*-0x7bb],_0xc088e8[-0x1072+-0xb92+-0x22*-0xd3]=_0x392269[0x3*0x5c1+-0x45*-0x51+-0x7d0*0x5],_0xc088e8[-0xd1+-0x1*0x1cf+0x2a3]=_0x392269[0x110*0x22+-0x1ae+-0x2266],_0xc088e8[-0x3*0xa1a+-0x1fac+0x2b2*0x17]=_0x392269[-0x243+0x3a3*-0x2+0x98a],_0xc088e8[-0x21a1+0xed9+-0x12cd*-0x1]=_0x392269[-0x1643+0x20cc+0x2*-0x542],_0xc088e8[-0x3*0x6db+-0x3d*0x6b+-0x2e16*-0x1]=_0x392269[0x2356*-0x1+-0x3*-0x89f+-0x1*-0x982],_0xc088e8[-0x1d5*0x7+-0x4*0x1fd+-0x1*-0x14ce]=_0x392269[-0x5*-0x337+0x3*-0x24d+0x5*-0x1d3],_0xc088e8[-0x11*0x1a+-0x7ca*-0x3+0x159c*-0x1]=_0x392269[-0x10db+-0x2311+-0x17*-0x242],_0xc088e8[-0xeef*0x1+0xa01+0x4f7]=_0x392269[-0xa39*0x1+-0xe57*-0x2+-0x126f],_0xc088e8[-0x1b83+0x904+-0x5*-0x3b5]=_0x392269[0x72b*-0x1+-0x3a*0x1+0x76f],_0xc088e8[-0x2*0x238+0xb03+-0x688]=_0x392269[-0x1*0x3eb+0x5*0x723+-0x1fb6],_0xc088e8[0x9*0x1c9+-0xb53+-0x4b2*0x1]=_0x392269[0x41f+-0x9f4+0x5d8],_0xc088e8[0x1*0xc17+0x15b*0x1c+-0x31fe]=_0x392269[-0x2452+0x1*-0x1da7+0x4200],_0xc088e8[-0x1*0xdc3+-0x2659+0x2*0x1a15]=_0x392269[0x1a18+-0x241e+0xa11],_0xc088e8[-0xc1*0x2b+0x6d9*0x2+-0x964*-0x2]=_0x392269[0xc97+-0x1387+0x6ff];return this;}['getTransla'+'tion'](_0x2d9e01=new T()){return _0x2d9e01['set'](this['data'][-0x2ff*0x9+0xc2*-0x19+-0xb5*-0x41],this['data'][0x1*-0x1a65+0x16ba+0x3b8],this['data'][0xe*-0x12b+0x751*-0x4+0x2dac]);}['getX'](_0x1e2c0c=new T()){return _0x1e2c0c['set'](this['data'][0x2*0x113b+-0x13e5+-0xe91],this['data'][-0x918*-0x3+-0xbd3*-0x2+0x32ed*-0x1],this['data'][0x1*0x10c1+0x1502*-0x1+0x443]);}['getY'](_0x45c400=new T()){return _0x45c400['set'](this['data'][0x1470+0x1c4a+-0x30b6],this['data'][0x20a5+-0x1*0x25d8+0x538],this['data'][0x15bd+-0xc37+-0x40*0x26]);}['getZ'](_0x7fa967=new T()){return _0x7fa967['set'](this['data'][-0x1d58+-0x2ce+-0x2*-0x1017],this['data'][-0xc9*-0x31+-0xbb7+-0x1ab9],this['data'][-0x8b7+-0xca*-0x2+0x72d]);}['getScale'](_0x158532=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x158532['set'](us['length'](),Fs['length'](),Os['length']()),_0x158532;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<-0x2230+0x509+0x1*0x1d27?-(0x2*0x742+-0x10d*-0xd+0x4*-0x70b):0x117c+-0x1b*-0x137+0x3248*-0x1;}['setFromEul'+'erAngles'](_0x1ca3da,_0x1e6a33,_0x76e9a){_0x1ca3da*=N['DEG_TO_RAD'],_0x1e6a33*=N['DEG_TO_RAD'],_0x76e9a*=N['DEG_TO_RAD'];const _0x410b27=Math['sin'](-_0x1ca3da),_0x81a1d=Math['cos'](-_0x1ca3da),_0x5dc708=Math['sin'](-_0x1e6a33),_0x2b1d75=Math['cos'](-_0x1e6a33),_0x5313a3=Math['sin'](-_0x76e9a),_0x53665b=Math['cos'](-_0x76e9a),_0x47d9bd=this['data'];return _0x47d9bd[0x1b*-0x76+0x1*0x7ff+0x473*0x1]=_0x2b1d75*_0x53665b,_0x47d9bd[-0x1*-0x1c0d+-0x2*0xcd7+-0x25e]=-_0x2b1d75*_0x5313a3,_0x47d9bd[-0x3ad*0x2+-0x2*0x871+0x183e]=_0x5dc708,_0x47d9bd[-0x112d+-0x6f*0x11+0x1*0x188f]=0xb99*0x3+-0x7*-0x5e+-0x255d,_0x47d9bd[-0x10a7*-0x2+0x18bf+-0x3a09]=_0x81a1d*_0x5313a3+_0x53665b*_0x410b27*_0x5dc708,_0x47d9bd[0x80*-0x38+0x2258+0x653*-0x1]=_0x81a1d*_0x53665b-_0x410b27*_0x5dc708*_0x5313a3,_0x47d9bd[-0x124f*0x2+-0xbbf+-0x3063*-0x1]=-_0x2b1d75*_0x410b27,_0x47d9bd[-0x141a+-0x77*-0x4f+-0x1098]=0xfd*-0x9+0x1*-0xb5f+-0x4*-0x511,_0x47d9bd[0x133*-0xf+0x823+0x9e2]=_0x410b27*_0x5313a3-_0x81a1d*_0x53665b*_0x5dc708,_0x47d9bd[0x22c+0xa97+-0xcba]=_0x53665b*_0x410b27+_0x81a1d*_0x5dc708*_0x5313a3,_0x47d9bd[-0x502*-0x1+0x6*0x3b9+-0x1b4e]=_0x81a1d*_0x2b1d75,_0x47d9bd[-0x5*-0x6b7+0x1bde+-0x3d66]=0xca7+0x2*0xcb5+-0x1*0x2611,_0x47d9bd[0x44*0x38+0xb70+-0xa4*0x29]=-0x10*-0x41+0xdb7*-0x1+0x9a7,_0x47d9bd[0x10f1+0x1*0x2417+-0x34fb]=-0xde+-0xbf*-0x34+-0x25ee,_0x47d9bd[-0x86+0x200e+0x22*-0xed]=0x14f+-0x96b*-0x1+-0xaba,_0x47d9bd[-0x241e+0xaeb+0x1942]=-0x6*-0x18b+0x2307+-0x2c48*0x1,this;}['getEulerAn'+'gles'](_0x39f961=new T()){this['getScale'](_l);const _0x1aa939=_l['x'],_0x3b9092=_l['y'],_0x251d76=_l['z'];if(_0x1aa939===0x1914+0x1*0x128+-0x49*0x5c||_0x3b9092===-0x2637+0x2508+-0x65*-0x3||_0x251d76===0x1*0x1b05+0x1*0xbc3+0x4d9*-0x8)return _0x39f961['set'](0x1bd4+-0x2503*0x1+-0x92f*-0x1,0xcf8+0xb88*-0x2+-0x286*-0x4,-0x83*-0x2b+-0x1*0x13e7+-0x21a);const _0x475ef8=this['data'],_0xb0b36a=Math['asin'](-_0x475ef8[0x39*0xae+0xbc2+-0x327e]/_0x1aa939),_0x1ebe93=Math['PI']*(0x1*-0xe43+0xcc9+0x17a+0.5);let _0x12ff6d,_0x1b7da3;return _0xb0b36a<_0x1ebe93?_0xb0b36a>-_0x1ebe93?(_0x12ff6d=Math['atan2'](_0x475ef8[-0x1*0x19c5+-0xf61*0x1+0x292c]/_0x3b9092,_0x475ef8[-0xb9*-0x25+-0xe55+-0xc5e]/_0x251d76),_0x1b7da3=Math['atan2'](_0x475ef8[0x163f+-0x267a*-0x1+-0x3cb8]/_0x1aa939,_0x475ef8[0x430*0x8+-0x11ba+0x7e3*-0x2]/_0x1aa939)):(_0x1b7da3=0x1a8d+0x167c+-0x3109,_0x12ff6d=-Math['atan2'](_0x475ef8[-0x934*-0x1+-0x321+-0x60f]/_0x3b9092,_0x475ef8[0x99f*0x3+-0x1a8*0x5+-0x1490*0x1]/_0x3b9092)):(_0x1b7da3=0xc1+-0x1*-0x569+0x1*-0x62a,_0x12ff6d=Math['atan2'](_0x475ef8[-0x23bd+0x1801+-0x20*-0x5e]/_0x3b9092,_0x475ef8[-0x1f43*0x1+0x1e02+0x2*0xa3]/_0x3b9092)),_0x39f961['set'](_0x12ff6d,_0xb0b36a,_0x1b7da3)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([0x1dd*0x9+-0x5a5+-0x164*0x8,-0xb92+0x70c+0x486,-0x13*0x11b+0x1ca7+-0x2*0x3d3,-0x1fed+-0x647*0x5+0x3f5*0x10,0x16*-0x54+-0x17d*0x15+0x2679,0x92f+-0x244f*-0x1+-0x2d7e,0xad5*-0x1+0x703*-0x2+0x18db,-0x15d5+0xbc9+-0x1*-0xa0c,-0x43b+-0x1*-0x6c7+-0x28c,0x2c0+0x140*-0x4+0x240,-0x2482+0x1*0x260f+-0x18d,0xd*0x10d+-0x443*-0x3+-0x1a72,0x29*0x52+-0xebf+0x19d,0x31*-0xa7+0x1d70+0x287,-0x128e+0xcf5+0x599,-0x1eb8+-0x42d*-0x8+-0x2b0])));let q=Ur;const aa=class aa{constructor(_0x514726=0x298*0xe+0x150*0x18+-0x43d0,_0xdb7d16=-0x378+-0xc38*0x1+0x2*0x7d8,_0x568b06=0x23*-0x7+-0xb9f+0xc94,_0xe2bed2=0x2*-0x991+0x62*0x2+-0x1*-0x125f){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x514726['length']===-0x2*-0x10a2+0xd3*-0x3+0x1ec7*-0x1?(this['x']=_0x514726[-0x9*0x43f+0xe0*-0x10+0x3437],this['y']=_0x514726[-0x2187+0x12*-0x21b+0x52*0xdf],this['z']=_0x514726[-0x181b+0x150+0x16cd],this['w']=_0x514726[-0xab7+0xee9+-0x42f]):(this['x']=_0x514726,this['y']=_0xdb7d16,this['z']=_0x568b06,this['w']=_0xe2bed2);}['clone'](){const _0x4e472f=this['constructo'+'r'];return new _0x4e472f(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x431bce=this){return this['x']=_0x431bce['x']*-(-0x126+0x2120+-0x1ff9),this['y']=_0x431bce['y']*-(0x226a+-0x2e8*0x1+-0x1f81),this['z']=_0x431bce['z']*-(0x1aa*-0x7+0xaf*0xd+-0x2c4*-0x1),this['w']=_0x431bce['w'],this;}['copy'](_0x5884b4){return this['x']=_0x5884b4['x'],this['y']=_0x5884b4['y'],this['z']=_0x5884b4['z'],this['w']=_0x5884b4['w'],this;}['equals'](_0x2089c9){return this['x']===_0x2089c9['x']&&this['y']===_0x2089c9['y']&&this['z']===_0x2089c9['z']&&this['w']===_0x2089c9['w'];}['equalsAppr'+'ox'](_0x172b63,_0x20b2f7=-0x2639*0x1+0x13+0x2626+0.000001){return Math['abs'](this['x']-_0x172b63['x'])<_0x20b2f7&&Math['abs'](this['y']-_0x172b63['y'])<_0x20b2f7&&Math['abs'](this['z']-_0x172b63['z'])<_0x20b2f7&&Math['abs'](this['w']-_0x172b63['w'])<_0x20b2f7;}['getAxisAng'+'le'](_0x4b0b4d){let _0x1276d9=Math['acos'](this['w'])*(0x1334*0x2+0x1*-0x13ee+-0x1278);const _0x14f2a8=Math['sin'](_0x1276d9/(0x1a20+0x5a1*-0x6+0x7a8));return _0x14f2a8!==-0x7d*-0x1b+0x18ef+-0x261e?(_0x4b0b4d['x']=this['x']/_0x14f2a8,_0x4b0b4d['y']=this['y']/_0x14f2a8,_0x4b0b4d['z']=this['z']/_0x14f2a8,(_0x4b0b4d['x']<-0x5*0x779+0x4*0x7a5+-0x3*-0x243||_0x4b0b4d['y']<0x14c*-0x4+0x11ef+0xfb*-0xd||_0x4b0b4d['z']<0x147*-0x1b+0x7d5+-0x1*-0x1aa8)&&(_0x4b0b4d['x']*=-(-0x2419*0x1+-0x6b*0x4f+0xdd3*0x5),_0x4b0b4d['y']*=-(-0x448*0x5+-0x1c11+0x317a),_0x4b0b4d['z']*=-(0x4e5*-0x6+0x11f*-0x13+-0x2*-0x1956),_0x1276d9*=-(0x1fa7+0x13*-0xd6+-0xfc4))):(_0x4b0b4d['x']=0x1*-0xf43+0x173+0x9*0x189,_0x4b0b4d['y']=0x1*-0x2543+-0xf2e+0x117b*0x3,_0x4b0b4d['z']=0xe1e+0x13*-0x178+-0xdca*-0x1),_0x1276d9*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x16b131=new T()){let _0x30c58f,_0xa02d5f,_0x5d49e1;const _0x2907d0=this['x'],_0x564832=this['y'],_0x103df8=this['z'],_0x1e64cd=this['w'],_0x2f7cf3=(-0x165f+-0x8df+0xfa0*0x2)*(_0x1e64cd*_0x564832-_0x2907d0*_0x103df8);return _0x2f7cf3<=-(-0x1bba+-0x90f*0x1+0x24c9+0.99999)?(_0x30c58f=(-0x3*-0x8cb+0x1092+-0x2af1)*Math['atan2'](_0x2907d0,_0x1e64cd),_0xa02d5f=-Math['PI']/(0xc1*0xb+0x5df+-0xe28),_0x5d49e1=0x134d+-0x216b+0x2*0x70f):_0x2f7cf3>=-0x1*0x313+0x5b*0x2c+-0xc91*0x1+0.99999?(_0x30c58f=(0x875+0x3*-0xaee+-0x5d*-0x43)*Math['atan2'](_0x2907d0,_0x1e64cd),_0xa02d5f=Math['PI']/(-0xcad+-0x9*0x198+0x1b07),_0x5d49e1=-0xb22+-0x2c9*-0x3+0x4f*0x9):(_0x30c58f=Math['atan2']((0x7fe+-0x1*-0x1af3+-0x22ef)*(_0x1e64cd*_0x2907d0+_0x564832*_0x103df8),-0x103*-0xb+0x5*0x481+0x3*-0xb37-(0x7*0x417+-0xac0*-0x1+0x275f*-0x1)*(_0x2907d0*_0x2907d0+_0x564832*_0x564832)),_0xa02d5f=Math['asin'](_0x2f7cf3),_0x5d49e1=Math['atan2']((0xe3*-0xf+0x1cec+-0xf9d)*(_0x1e64cd*_0x103df8+_0x2907d0*_0x564832),-0xf*0x1+-0x2*-0x17b+-0x2e6-(0x6b*-0x16+0x1*-0x2029+0x295d)*(_0x564832*_0x564832+_0x103df8*_0x103df8))),_0x16b131['set'](_0x30c58f,_0xa02d5f,_0x5d49e1)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x3edb4a=this){return this['conjugate'](_0x3edb4a)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x123be3){const _0x3278a0=this['x'],_0x3acc84=this['y'],_0x286d86=this['z'],_0x23507d=this['w'],_0x141ee6=_0x123be3['x'],_0x45caf0=_0x123be3['y'],_0x1fca20=_0x123be3['z'],_0x43a9d4=_0x123be3['w'];return this['x']=_0x23507d*_0x141ee6+_0x3278a0*_0x43a9d4+_0x3acc84*_0x1fca20-_0x286d86*_0x45caf0,this['y']=_0x23507d*_0x45caf0+_0x3acc84*_0x43a9d4+_0x286d86*_0x141ee6-_0x3278a0*_0x1fca20,this['z']=_0x23507d*_0x1fca20+_0x286d86*_0x43a9d4+_0x3278a0*_0x45caf0-_0x3acc84*_0x141ee6,this['w']=_0x23507d*_0x43a9d4-_0x3278a0*_0x141ee6-_0x3acc84*_0x45caf0-_0x286d86*_0x1fca20,this;}['mulScalar'](_0x50cbd8,_0x20e315=this){return this['x']=_0x20e315['x']*_0x50cbd8,this['y']=_0x20e315['y']*_0x50cbd8,this['z']=_0x20e315['z']*_0x50cbd8,this['w']=_0x20e315['w']*_0x50cbd8,this;}['mul2'](_0x2d1f26,_0x4c1f11){const _0x459551=_0x2d1f26['x'],_0x1211c7=_0x2d1f26['y'],_0x420592=_0x2d1f26['z'],_0x23500b=_0x2d1f26['w'],_0x15889b=_0x4c1f11['x'],_0xf3427=_0x4c1f11['y'],_0x333ae8=_0x4c1f11['z'],_0x5f1795=_0x4c1f11['w'];return this['x']=_0x23500b*_0x15889b+_0x459551*_0x5f1795+_0x1211c7*_0x333ae8-_0x420592*_0xf3427,this['y']=_0x23500b*_0xf3427+_0x1211c7*_0x5f1795+_0x420592*_0x15889b-_0x459551*_0x333ae8,this['z']=_0x23500b*_0x333ae8+_0x420592*_0x5f1795+_0x459551*_0xf3427-_0x1211c7*_0x15889b,this['w']=_0x23500b*_0x5f1795-_0x459551*_0x15889b-_0x1211c7*_0xf3427-_0x420592*_0x333ae8,this;}['normalize'](_0x330ca7=this){let _0x15ed61=_0x330ca7['length']();return _0x15ed61===0x773+-0x138e+0xc1b?(this['x']=this['y']=this['z']=-0x51b*-0x3+-0x9f2*-0x2+-0x2335,this['w']=-0x1d3a+0x11ab+0xb90):(_0x15ed61=(-0x57*-0x16+-0xd*-0x9+-0x7ee)/_0x15ed61,this['x']=_0x330ca7['x']*_0x15ed61,this['y']=_0x330ca7['y']*_0x15ed61,this['z']=_0x330ca7['z']*_0x15ed61,this['w']=_0x330ca7['w']*_0x15ed61),this;}['set'](_0x26c7d7,_0x302daa,_0x5272c8,_0x1e186a){return this['x']=_0x26c7d7,this['y']=_0x302daa,this['z']=_0x5272c8,this['w']=_0x1e186a,this;}['setFromAxi'+'sAngle'](_0x10d34d,_0x464d23){_0x464d23*=(0x1*-0x24f5+0x5*-0x6d9+0xd*0x57a+0.5)*N['DEG_TO_RAD'];const _0x12dad1=Math['sin'](_0x464d23),_0x4d9c5a=Math['cos'](_0x464d23);return this['x']=_0x12dad1*_0x10d34d['x'],this['y']=_0x12dad1*_0x10d34d['y'],this['z']=_0x12dad1*_0x10d34d['z'],this['w']=_0x4d9c5a,this;}['setFromEul'+'erAngles'](_0x57f4fb,_0x125c48,_0x5335a5){if(_0x57f4fb instanceof T){const _0x492b7f=_0x57f4fb;_0x57f4fb=_0x492b7f['x'],_0x125c48=_0x492b7f['y'],_0x5335a5=_0x492b7f['z'];}const _0x2f4108=(-0x20f0+0x5ad+0x1b43*0x1+0.5)*N['DEG_TO_RAD'];_0x57f4fb*=_0x2f4108,_0x125c48*=_0x2f4108,_0x5335a5*=_0x2f4108;const _0x5159fd=Math['sin'](_0x57f4fb),_0x284291=Math['cos'](_0x57f4fb),_0x191ec9=Math['sin'](_0x125c48),_0x348bcd=Math['cos'](_0x125c48),_0x48ba25=Math['sin'](_0x5335a5),_0x223951=Math['cos'](_0x5335a5);return this['x']=_0x5159fd*_0x348bcd*_0x223951-_0x284291*_0x191ec9*_0x48ba25,this['y']=_0x284291*_0x191ec9*_0x223951+_0x5159fd*_0x348bcd*_0x48ba25,this['z']=_0x284291*_0x348bcd*_0x48ba25-_0x5159fd*_0x191ec9*_0x223951,this['w']=_0x284291*_0x348bcd*_0x223951+_0x5159fd*_0x191ec9*_0x48ba25,this;}['setFromMat'+'4'](_0x20da7f){const _0x19d58c=_0x20da7f['data'];let _0x2f8045=_0x19d58c[0x1*-0x13a+0xe48+0x687*-0x2],_0x4003cb=_0x19d58c[0x1*0x1ada+0x2*0x1137+-0x3d47],_0x49b0fc=_0x19d58c[-0xb2d*0x1+-0xa*-0x1f+0x25*0x45],_0x348458=_0x19d58c[0x2290+-0x224f+-0x3d],_0x328271=_0x19d58c[0x2fc*-0x8+0xd*-0x2f9+0x3e8a],_0x5c5c18=_0x19d58c[-0x1955*0x1+-0x6*0x3dc+0x1*0x3083],_0x546c80=_0x19d58c[0x3b*0xa+0x1dbf+0x7*-0x493],_0x16bc86=_0x19d58c[-0x472*0x8+0xb53*-0x3+-0x41*-0x112],_0x3a9cf2=_0x19d58c[0x3*0x755+-0x1*-0xe0+-0x16d5],_0x3198f3;return _0x3198f3=_0x2f8045*_0x2f8045+_0x4003cb*_0x4003cb+_0x49b0fc*_0x49b0fc,_0x3198f3===-0x105c+-0xa1b+0x5*0x54b?this['set'](0x503*-0x1+-0x1a8c*-0x1+-0x1589*0x1,-0xfdf+-0x17d*-0x3+0xb68,-0x2a*0x18+-0x1e52+0x2242,0xd5*0xc+0xb0c+-0x1507):(_0x3198f3=(-0xc10+0x2595+-0x5c*0x47)/Math['sqrt'](_0x3198f3),_0x2f8045*=_0x3198f3,_0x4003cb*=_0x3198f3,_0x49b0fc*=_0x3198f3,_0x3198f3=_0x348458*_0x348458+_0x328271*_0x328271+_0x5c5c18*_0x5c5c18,_0x3198f3===0x21e1+-0x185f+-0x982?this['set'](0x28e+0x1*-0x89+-0x1*0x205,0xe47+-0x1f20+0x10d9,-0x2211+0x306*0x5+0x31*0x63,0x894+-0xb*0x8a+-0x2a5):(_0x3198f3=(0x1*0x8d2+-0x35*-0x8a+-0x11*0x233)/Math['sqrt'](_0x3198f3),_0x348458*=_0x3198f3,_0x328271*=_0x3198f3,_0x5c5c18*=_0x3198f3,_0x3198f3=_0x546c80*_0x546c80+_0x16bc86*_0x16bc86+_0x3a9cf2*_0x3a9cf2,_0x3198f3===0x8*0x329+0x1c05+-0x354d?this['set'](-0x2a7*-0x7+-0x14f6+0x265,-0x226b+-0x1e74*0x1+0x40df,-0x1b4e+-0x65*-0x37+0x7*0xcd,-0x22*-0xa9+0x131+-0x17a2):(_0x3198f3=(-0x1e00+0x2109+0x8*-0x61)/Math['sqrt'](_0x3198f3),_0x546c80*=_0x3198f3,_0x16bc86*=_0x3198f3,_0x3a9cf2*=_0x3198f3,_0x3a9cf2<-0x1*-0x2039+-0xd*0x2ce+0x43d?_0x2f8045>_0x328271?this['set'](-0x2209+0xec1+0x1349+_0x2f8045-_0x328271-_0x3a9cf2,_0x4003cb+_0x348458,_0x546c80+_0x49b0fc,_0x5c5c18-_0x16bc86):this['set'](_0x4003cb+_0x348458,-0x1aa8+0xefd+0x53*0x24-_0x2f8045+_0x328271-_0x3a9cf2,_0x5c5c18+_0x16bc86,_0x546c80-_0x49b0fc):_0x2f8045<-_0x328271?this['set'](_0x546c80+_0x49b0fc,_0x5c5c18+_0x16bc86,-0x1ee5+0x2*-0xb7d+0x1*0x35e0-_0x2f8045-_0x328271+_0x3a9cf2,_0x4003cb-_0x348458):this['set'](_0x5c5c18-_0x16bc86,_0x546c80-_0x49b0fc,_0x4003cb-_0x348458,0xf52+-0x816+-0x73b+_0x2f8045+_0x328271+_0x3a9cf2),this['mulScalar']((0x75*0x2e+-0x2*0x122f+0xf59)/this['length']()))));}['setFromDir'+'ections'](_0xbf99c0,_0x28ab2f){const _0x10f5d7=-0xc1*0x1+0xb5*-0x17+0x1105+_0xbf99c0['dot'](_0x28ab2f);return _0x10f5d7<Number['EPSILON']?Math['abs'](_0xbf99c0['x'])>Math['abs'](_0xbf99c0['y'])?(this['x']=-_0xbf99c0['z'],this['y']=0xc0c+0x1*-0xa33+-0x1d9,this['z']=_0xbf99c0['x'],this['w']=0x501+-0x1581+0x1080):(this['x']=0x1*-0x387+-0x47*0x3c+0x6b9*0x3,this['y']=-_0xbf99c0['z'],this['z']=_0xbf99c0['y'],this['w']=-0x130e+-0x1135+0x2443):(this['x']=_0xbf99c0['y']*_0x28ab2f['z']-_0xbf99c0['z']*_0x28ab2f['y'],this['y']=_0xbf99c0['z']*_0x28ab2f['x']-_0xbf99c0['x']*_0x28ab2f['z'],this['z']=_0xbf99c0['x']*_0x28ab2f['y']-_0xbf99c0['y']*_0x28ab2f['x'],this['w']=_0x10f5d7),this['normalize']();}['slerp'](_0x4316ed,_0x366ebe,_0x302d07){const _0x590a74=_0x4316ed['x'],_0x42ed59=_0x4316ed['y'],_0x1a39ae=_0x4316ed['z'],_0x4db56a=_0x4316ed['w'];let _0x16d083=_0x366ebe['x'],_0x5b652e=_0x366ebe['y'],_0x4788a2=_0x366ebe['z'],_0x17f3eb=_0x366ebe['w'],_0x48e963=_0x4db56a*_0x17f3eb+_0x590a74*_0x16d083+_0x42ed59*_0x5b652e+_0x1a39ae*_0x4788a2;if(_0x48e963<-0x1*-0x2a9+0x3a*0x71+-0x1c43&&(_0x17f3eb=-_0x17f3eb,_0x16d083=-_0x16d083,_0x5b652e=-_0x5b652e,_0x4788a2=-_0x4788a2,_0x48e963=-_0x48e963),Math['abs'](_0x48e963)>=0x1*0x4e7+-0x1*0x13ed+0xf07)return this['w']=_0x4db56a,this['x']=_0x590a74,this['y']=_0x42ed59,this['z']=_0x1a39ae,this;const _0xcf6d4b=Math['acos'](_0x48e963),_0x698806=Math['sqrt'](0x4*0x971+0x424*-0x3+-0x1f3*0xd-_0x48e963*_0x48e963);if(Math['abs'](_0x698806)<0x1*0xa58+0x1*-0x5cf+-0x489+0.001)return this['w']=_0x4db56a*(-0x86+-0x1*-0x1925+-0x189f+0.5)+_0x17f3eb*(-0x3b0+-0x2*0xacc+0x1948+0.5),this['x']=_0x590a74*(0x1*0x1891+0x1a82+0x1*-0x3313+0.5)+_0x16d083*(0xe4f+-0x1969*0x1+0xb1a+0.5),this['y']=_0x42ed59*(-0x2199*-0x1+0x1f76*-0x1+-0x223+0.5)+_0x5b652e*(0xa7*-0x1f+-0x1*0x1+0x1*0x143a+0.5),this['z']=_0x1a39ae*(-0xd21*0x1+-0xc17+-0x10d*-0x18+0.5)+_0x4788a2*(0x1ed2+0x25e4+-0xdbe*0x5+0.5),this;const _0x294376=Math['sin']((-0x5*0x45b+0xb8a+0x2*0x51f-_0x302d07)*_0xcf6d4b)/_0x698806,_0x2aa61e=Math['sin'](_0x302d07*_0xcf6d4b)/_0x698806;return this['w']=_0x4db56a*_0x294376+_0x17f3eb*_0x2aa61e,this['x']=_0x590a74*_0x294376+_0x16d083*_0x2aa61e,this['y']=_0x42ed59*_0x294376+_0x5b652e*_0x2aa61e,this['z']=_0x1a39ae*_0x294376+_0x4788a2*_0x2aa61e,this;}['transformV'+'ector'](_0x32bc3f,_0x3940bf=new T()){const _0x5d2b76=_0x32bc3f['x'],_0x485521=_0x32bc3f['y'],_0x758d3b=_0x32bc3f['z'],_0x11db31=this['x'],_0x5c6777=this['y'],_0xc39831=this['z'],_0x244037=this['w'],_0x518988=_0x244037*_0x5d2b76+_0x5c6777*_0x758d3b-_0xc39831*_0x485521,_0x127f9d=_0x244037*_0x485521+_0xc39831*_0x5d2b76-_0x11db31*_0x758d3b,_0x26ddb8=_0x244037*_0x758d3b+_0x11db31*_0x485521-_0x5c6777*_0x5d2b76,_0x46f847=-_0x11db31*_0x5d2b76-_0x5c6777*_0x485521-_0xc39831*_0x758d3b;return _0x3940bf['x']=_0x518988*_0x244037+_0x46f847*-_0x11db31+_0x127f9d*-_0xc39831-_0x26ddb8*-_0x5c6777,_0x3940bf['y']=_0x127f9d*_0x244037+_0x46f847*-_0x5c6777+_0x26ddb8*-_0x11db31-_0x518988*-_0xc39831,_0x3940bf['z']=_0x26ddb8*_0x244037+_0x46f847*-_0xc39831+_0x518988*-_0x5c6777-_0x127f9d*-_0x11db31,_0x3940bf;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(-0xec2+0x3*0x105+0x257*0x5,-0x1*0x2e9+0xe2*-0x11+-0x5f9*-0x3,0x1*0x1c1+0x6e5*-0x2+0xc09,-0x120a*-0x2+0x1d0b+0xa*-0x683))),c(aa,'ZERO',Object['freeze'](new aa(0x589+-0xb*-0x7b+-0xad2,-0x2490+0x1913+0xb7d,0x11da+-0x1dcb+-0x3*-0x3fb,0x1f56+0x12f6+-0x324c)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x149c5a,_0xfbddb3){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(-0x266b+0x10fb+0x188*0xe+0.5,-0x814+-0x124e+0x1a62+0.5,-0x1*0x1b7b+-0x17ef*0x1+-0x1*-0x336a+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x149c5a&&this['center']['copy'](_0x149c5a),_0xfbddb3&&this['halfExtent'+'s']['copy'](_0xfbddb3));}['add'](_0x13fb1a){const _0x5230db=this['center'],_0x3ae9cc=_0x5230db['x'],_0x2a9807=_0x5230db['y'],_0x10a4be=_0x5230db['z'],_0x473a63=this['halfExtent'+'s'],_0x30f449=_0x473a63['x'],_0x5047d4=_0x473a63['y'],_0x3dec0c=_0x473a63['z'];let _0x490063=_0x3ae9cc-_0x30f449,_0xdd41f8=_0x3ae9cc+_0x30f449,_0x4bc339=_0x2a9807-_0x5047d4,_0x3460f5=_0x2a9807+_0x5047d4,_0x1151e4=_0x10a4be-_0x3dec0c,_0x3a0913=_0x10a4be+_0x3dec0c;const _0x42881d=_0x13fb1a['center'],_0x2fe766=_0x42881d['x'],_0x25d71d=_0x42881d['y'],_0x1501fe=_0x42881d['z'],_0x5875db=_0x13fb1a['halfExtent'+'s'],_0x43eeee=_0x5875db['x'],_0x1830b0=_0x5875db['y'],_0x5859ce=_0x5875db['z'],_0x1c644f=_0x2fe766-_0x43eeee,_0x103e8e=_0x2fe766+_0x43eeee,_0x52ef25=_0x25d71d-_0x1830b0,_0x5dfdff=_0x25d71d+_0x1830b0,_0x33abea=_0x1501fe-_0x5859ce,_0x5c5398=_0x1501fe+_0x5859ce;_0x1c644f<_0x490063&&(_0x490063=_0x1c644f),_0x103e8e>_0xdd41f8&&(_0xdd41f8=_0x103e8e),_0x52ef25<_0x4bc339&&(_0x4bc339=_0x52ef25),_0x5dfdff>_0x3460f5&&(_0x3460f5=_0x5dfdff),_0x33abea<_0x1151e4&&(_0x1151e4=_0x33abea),_0x5c5398>_0x3a0913&&(_0x3a0913=_0x5c5398),_0x5230db['x']=(_0x490063+_0xdd41f8)*(0x33c+-0x42*0x3d+0x27*0x52+0.5),_0x5230db['y']=(_0x4bc339+_0x3460f5)*(0xc77+0x12aa*0x1+-0x265*0xd+0.5),_0x5230db['z']=(_0x1151e4+_0x3a0913)*(-0x360+-0x2463+0x1b*0x179+0.5),_0x473a63['x']=(_0xdd41f8-_0x490063)*(0x1120+0xd*-0x139+0x69*-0x3+0.5),_0x473a63['y']=(_0x3460f5-_0x4bc339)*(-0x150f+0x49*-0x43+0xc2*0x35+0.5),_0x473a63['z']=(_0x3a0913-_0x1151e4)*(-0x929+-0x25e3+0x2f0c+0.5);}['copy'](_0x1876c5){this['center']['copy'](_0x1876c5['center']),this['halfExtent'+'s']['copy'](_0x1876c5['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x363241){const _0x481c99=this['getMax'](),_0x58685e=this['getMin'](),_0x1ac1fc=_0x363241['getMax'](),_0x2213c8=_0x363241['getMin']();return _0x58685e['x']<=_0x1ac1fc['x']&&_0x481c99['x']>=_0x2213c8['x']&&_0x58685e['y']<=_0x1ac1fc['y']&&_0x481c99['y']>=_0x2213c8['y']&&_0x58685e['z']<=_0x1ac1fc['z']&&_0x481c99['z']>=_0x2213c8['z'];}['_intersect'+'sRay'](_0x4f3832,_0x3f4177){const _0x29d6a2=vn['copy'](this['getMin']())['sub'](_0x4f3832['origin']),_0x3ca002=bn['copy'](this['getMax']())['sub'](_0x4f3832['origin']),_0x2847c6=_0x4f3832['direction'];_0x2847c6['x']===0x140d+-0x5*0x70b+0xf2a?(_0x29d6a2['x']=_0x29d6a2['x']<-0x6a1+-0x4a6+0xb47?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x3ca002['x']=_0x3ca002['x']<-0x11*0x45+-0x103b+0x14d0?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x29d6a2['x']/=_0x2847c6['x'],_0x3ca002['x']/=_0x2847c6['x']),_0x2847c6['y']===-0x373+-0x590+0x903?(_0x29d6a2['y']=_0x29d6a2['y']<0xcf2+0xd*-0x4a+0x38*-0x2a?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x3ca002['y']=_0x3ca002['y']<0x9e8*0x1+-0x15ea+0xc02?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x29d6a2['y']/=_0x2847c6['y'],_0x3ca002['y']/=_0x2847c6['y']),_0x2847c6['z']===-0x73d+-0x2e3*-0x2+0x177?(_0x29d6a2['z']=_0x29d6a2['z']<-0x25*-0x7b+0x221*-0x9+-0x6*-0x3b?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x3ca002['z']=_0x3ca002['z']<0x24ae+-0x61a+-0x1e94?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x29d6a2['z']/=_0x2847c6['z'],_0x3ca002['z']/=_0x2847c6['z']);const _0xabb15=nm['set'](Math['min'](_0x29d6a2['x'],_0x3ca002['x']),Math['min'](_0x29d6a2['y'],_0x3ca002['y']),Math['min'](_0x29d6a2['z'],_0x3ca002['z'])),_0x2c45e2=am['set'](Math['max'](_0x29d6a2['x'],_0x3ca002['x']),Math['max'](_0x29d6a2['y'],_0x3ca002['y']),Math['max'](_0x29d6a2['z'],_0x3ca002['z'])),_0x413f1c=Math['min'](Math['min'](_0x2c45e2['x'],_0x2c45e2['y']),_0x2c45e2['z']),_0x27a9bd=Math['max'](Math['max'](_0xabb15['x'],_0xabb15['y']),_0xabb15['z']),_0x494ce8=_0x413f1c>=_0x27a9bd&&_0x27a9bd>=-0xffc+-0x1bd2+-0xe*-0x321;return _0x494ce8&&_0x3f4177['copy'](_0x4f3832['direction'])['mulScalar'](_0x27a9bd)['add'](_0x4f3832['origin']),_0x494ce8;}['_fastInter'+'sectsRay'](_0x48382d){const _0x41b7e7=vn,_0x1b8164=bn,_0x1a19e7=nm,_0x2c6f3c=am,_0x2759e3=vS,_0x791970=_0x48382d['direction'];return _0x41b7e7['sub2'](_0x48382d['origin'],this['center']),_0x2c6f3c['set'](Math['abs'](_0x41b7e7['x']),Math['abs'](_0x41b7e7['y']),Math['abs'](_0x41b7e7['z'])),_0x1a19e7['mul2'](_0x41b7e7,_0x791970),!(_0x2c6f3c['x']>this['halfExtent'+'s']['x']&&_0x1a19e7['x']>=0x2690*-0x1+-0x152*0x17+0x44ee||_0x2c6f3c['y']>this['halfExtent'+'s']['y']&&_0x1a19e7['y']>=-0x53b+-0x163f+0x1b7a||_0x2c6f3c['z']>this['halfExtent'+'s']['z']&&_0x1a19e7['z']>=0xa*-0x1ea+0x17f3+-0x4cf||(_0x2759e3['set'](Math['abs'](_0x791970['x']),Math['abs'](_0x791970['y']),Math['abs'](_0x791970['z'])),_0x1b8164['cross'](_0x791970,_0x41b7e7),_0x1b8164['set'](Math['abs'](_0x1b8164['x']),Math['abs'](_0x1b8164['y']),Math['abs'](_0x1b8164['z'])),_0x1b8164['x']>this['halfExtent'+'s']['y']*_0x2759e3['z']+this['halfExtent'+'s']['z']*_0x2759e3['y'])||_0x1b8164['y']>this['halfExtent'+'s']['x']*_0x2759e3['z']+this['halfExtent'+'s']['z']*_0x2759e3['x']||_0x1b8164['z']>this['halfExtent'+'s']['x']*_0x2759e3['y']+this['halfExtent'+'s']['y']*_0x2759e3['x']);}['intersects'+'Ray'](_0x212ab5,_0x508d2c){return _0x508d2c?this['_intersect'+'sRay'](_0x212ab5,_0x508d2c):this['_fastInter'+'sectsRay'](_0x212ab5);}['setMinMax'](_0xc869f6,_0x3f843c){this['center']['add2'](_0x3f843c,_0xc869f6)['mulScalar'](-0x3*-0x4d5+-0x16*0x105+0x7ef+0.5),this['halfExtent'+'s']['sub2'](_0x3f843c,_0xc869f6)['mulScalar'](-0x3*0x93a+-0x217c+0x3d2a+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x24ca6a){const _0x37ed26=this['getMin'](),_0x4498aa=this['getMax']();return!(_0x24ca6a['x']<_0x37ed26['x']||_0x24ca6a['x']>_0x4498aa['x']||_0x24ca6a['y']<_0x37ed26['y']||_0x24ca6a['y']>_0x4498aa['y']||_0x24ca6a['z']<_0x37ed26['z']||_0x24ca6a['z']>_0x4498aa['z']);}['setFromTra'+'nsformedAa'+'bb'](_0xf0c883,_0x16da8e,_0x4741a5=!(-0x95e+-0x219d+-0x4*-0xabf)){const _0x3633e1=_0xf0c883['center'],_0x487743=_0xf0c883['halfExtent'+'s'],_0x40563e=_0x16da8e['data'];let _0x29d895=_0x40563e[-0x22b3+-0x4c3*-0x2+0x5*0x509],_0x1f60d7=_0x40563e[-0x1*0x17ad+0x1a04+0x55*-0x7],_0x134d7e=_0x40563e[0x29d*0xc+0xd03+0x2c57*-0x1],_0x27853f=_0x40563e[-0x16f5+0x1*0x385+0x1371],_0xc2e339=_0x40563e[0x7a9+-0x1c1f*0x1+-0x6b*-0x31],_0x2b8d1f=_0x40563e[-0x2554+0x1*-0x10c9+0x3626],_0x520730=_0x40563e[0x1241*0x1+0x262a+0x80f*-0x7],_0xb1e8b6=_0x40563e[-0x12f0+0x56*0xa+-0x1*-0xf9a],_0x444ff5=_0x40563e[-0x858+-0x2692+-0x4b2*-0xa];if(_0x4741a5){let _0x53bd8d=_0x29d895*_0x29d895+_0x1f60d7*_0x1f60d7+_0x134d7e*_0x134d7e;if(_0x53bd8d>-0x1*-0x13a8+-0x25c4+0x121c){const _0x49df51=(0x1*0x1cf9+0x158b+-0x1*0x3283)/Math['sqrt'](_0x53bd8d);_0x29d895*=_0x49df51,_0x1f60d7*=_0x49df51,_0x134d7e*=_0x49df51;}if(_0x53bd8d=_0x27853f*_0x27853f+_0xc2e339*_0xc2e339+_0x2b8d1f*_0x2b8d1f,_0x53bd8d>0x2349+-0x8*0x72+0x3*-0xa93){const _0x2d5345=(-0x5bc*0x6+-0xd3*0xa+0x3d*0xb3)/Math['sqrt'](_0x53bd8d);_0x27853f*=_0x2d5345,_0xc2e339*=_0x2d5345,_0x2b8d1f*=_0x2d5345;}if(_0x53bd8d=_0x520730*_0x520730+_0xb1e8b6*_0xb1e8b6+_0x444ff5*_0x444ff5,_0x53bd8d>-0x52*0x7+0x2e*0xcb+-0x223c){const _0x219ccb=(-0x1*0x1df2+0xc16+0x11dd)/Math['sqrt'](_0x53bd8d);_0x520730*=_0x219ccb,_0xb1e8b6*=_0x219ccb,_0x444ff5*=_0x219ccb;}}this['center']['set'](_0x40563e[-0x300*0x3+-0x9d9+0x12e5]+_0x29d895*_0x3633e1['x']+_0x1f60d7*_0x3633e1['y']+_0x134d7e*_0x3633e1['z'],_0x40563e[-0xd1c+-0x2*-0x5+-0xd1f*-0x1]+_0x27853f*_0x3633e1['x']+_0xc2e339*_0x3633e1['y']+_0x2b8d1f*_0x3633e1['z'],_0x40563e[0x1909+-0x1*-0xcf2+-0x1ff*0x13]+_0x520730*_0x3633e1['x']+_0xb1e8b6*_0x3633e1['y']+_0x444ff5*_0x3633e1['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x29d895)*_0x487743['x']+Math['abs'](_0x1f60d7)*_0x487743['y']+Math['abs'](_0x134d7e)*_0x487743['z'],Math['abs'](_0x27853f)*_0x487743['x']+Math['abs'](_0xc2e339)*_0x487743['y']+Math['abs'](_0x2b8d1f)*_0x487743['z'],Math['abs'](_0x520730)*_0x487743['x']+Math['abs'](_0xb1e8b6)*_0x487743['y']+Math['abs'](_0x444ff5)*_0x487743['z']);}static['computeMin'+'Max'](_0xadbb1,_0x36b975,_0x49c85b,_0x4bace6=_0xadbb1['length']/(0x1*-0x599+0x139*0x2+0x32a)){if(_0x4bace6>-0xf0c+-0x11bf+0x20cb){let _0x3b9438=_0xadbb1[0xfea+0x8e*0x7+-0x13cc*0x1],_0x12c940=_0xadbb1[0xb36+0x1e2*0x7+-0x1863*0x1],_0x2e0a51=_0xadbb1[0x26cf+0x10c6+-0x3793],_0x3a16d9=_0x3b9438,_0x4e1db0=_0x12c940,_0x3a156c=_0x2e0a51;const _0x41fc8c=_0x4bace6*(-0x1459+0x1*0x963+0xaf9);for(let _0x32aefa=-0x1e7c+0x2361+-0x5*0xfa;_0x32aefa<_0x41fc8c;_0x32aefa+=0xa1a+0x21b8+-0x2bcf){const _0x4890bd=_0xadbb1[_0x32aefa],_0xcd4632=_0xadbb1[_0x32aefa+(0x4*-0x587+-0x1*0x13ed+0x2*0x1505)],_0x2c6458=_0xadbb1[_0x32aefa+(0x1ba3+0xc13+-0x27b4)];_0x4890bd<_0x3b9438&&(_0x3b9438=_0x4890bd),_0xcd4632<_0x12c940&&(_0x12c940=_0xcd4632),_0x2c6458<_0x2e0a51&&(_0x2e0a51=_0x2c6458),_0x4890bd>_0x3a16d9&&(_0x3a16d9=_0x4890bd),_0xcd4632>_0x4e1db0&&(_0x4e1db0=_0xcd4632),_0x2c6458>_0x3a156c&&(_0x3a156c=_0x2c6458);}_0x36b975['set'](_0x3b9438,_0x12c940,_0x2e0a51),_0x49c85b['set'](_0x3a16d9,_0x4e1db0,_0x3a156c);}}['compute'](_0xa6b58c,_0x541376){_e['computeMin'+'Max'](_0xa6b58c,vn,bn,_0x541376),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x52baea){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x52baea)<=_0x52baea['radius']*_0x52baea['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x119a87){const _0x3b7aa4=this['getMin'](),_0x2c56a2=this['getMax']();let _0xfff59d=0x1a96+0xf9f+-0x2a35;const _0x4db801=['x','y','z'];for(let _0x241ecf=0x2ce+-0xd3f*-0x2+0xa*-0x2ee;_0x241ecf<-0x6*-0x16+-0x2*-0xd8b+-0x3f1*0x7;++_0x241ecf){let _0x3a51e0=-0x95*-0x22+-0x8b*0x1b+-0x521;const _0x3e0eab=_0x119a87['center'][_0x4db801[_0x241ecf]],_0x30777d=_0x3b7aa4[_0x4db801[_0x241ecf]],_0x69459=_0x2c56a2[_0x4db801[_0x241ecf]];let _0x3a7f84=-0x1*0x9bb+0x24*-0x103+0x2e27;_0x3e0eab<_0x30777d&&(_0x3a7f84=_0x30777d-_0x3e0eab,_0x3a51e0+=_0x3a7f84*_0x3a7f84),_0x3e0eab>_0x69459&&(_0x3a7f84=_0x3e0eab-_0x69459,_0x3a51e0+=_0x3a7f84*_0x3a7f84),_0xfff59d+=_0x3a51e0;}return _0xfff59d;}['_expand'](_0x2634a7,_0x519010){vn['add2'](this['getMin'](),_0x2634a7),bn['add2'](this['getMax'](),_0x519010),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x5707b7=new T(),_0x39afe2=-0x10d*-0x4+0x1c6*0x2+0x1f*-0x40+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x5707b7),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x5707b7,this['radius']=_0x39afe2);}['containsPo'+'int'](_0x2ee12b){const _0x14e651=gl['sub2'](_0x2ee12b,this['center'])['lengthSq'](),_0x4ec92d=this['radius'];return _0x14e651<_0x4ec92d*_0x4ec92d;}['intersects'+'Ray'](_0x4b86b5,_0x42193c){const _0x4b12e4=gl['copy'](_0x4b86b5['origin'])['sub'](this['center']),_0x1d3ac3=_0x4b12e4['dot'](bS['copy'](_0x4b86b5['direction'])['normalize']()),_0x1f5f8c=_0x4b12e4['dot'](_0x4b12e4)-this['radius']*this['radius'];if(_0x1f5f8c>-0x1501+0xb8+0x1449&&_0x1d3ac3>-0x72*-0xd+0x1600+-0x1bca)return!(0x199*-0x1+-0x1*-0x883+-0x6e9);const _0x2e9943=_0x1d3ac3*_0x1d3ac3-_0x1f5f8c;if(_0x2e9943<0x253+-0x70f*-0x3+-0x2f0*0x8)return!(0x1d1a+-0x473+0x5*-0x4ee);const _0xaf2490=Math['abs'](-_0x1d3ac3-Math['sqrt'](_0x2e9943));return _0x42193c&&_0x42193c['copy'](_0x4b86b5['direction'])['mulScalar'](_0xaf2490)['add'](_0x4b86b5['origin']),!(0x2225+-0xc39+-0x15ec);}['intersects'+'BoundingSp'+'here'](_0x14e3ae){gl['sub2'](_0x14e3ae['center'],this['center']);const _0x1148ab=_0x14e3ae['radius']+this['radius'];return gl['lengthSq']()<=_0x1148ab*_0x1148ab;}}class hy{constructor(_0x19ebaf=T['UP'],_0x32fe26=0xf8f+-0x1f*0x25+-0xb14){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x19ebaf),this['distance']=_0x32fe26);}['clone'](){const _0x117968=this['constructo'+'r'];return new _0x117968()['copy'](this);}['copy'](_0x4dc7ce){return this['normal']['copy'](_0x4dc7ce['normal']),this['distance']=_0x4dc7ce['distance'],this;}['intersects'+'Line'](_0x7414d4,_0x1aec36,_0x4a9e8c){const _0x158faa=this['distance'],_0x3a2395=this['normal']['dot'](_0x7414d4)+_0x158faa,_0x3649c0=this['normal']['dot'](_0x1aec36)+_0x158faa,_0x271490=_0x3a2395/(_0x3a2395-_0x3649c0),_0x73346a=_0x271490>=-0x2136+-0x17*-0x19+0x1ef7&&_0x271490<=0x9*-0xbe+-0xfc1+0xb38*0x2;return _0x73346a&&_0x4a9e8c&&_0x4a9e8c['lerp'](_0x7414d4,_0x1aec36,_0x271490),_0x73346a;}['intersects'+'Ray'](_0x112167,_0x5e3d54){const _0x8b7504=this['normal']['dot'](_0x112167['direction']);if(_0x8b7504===-0x3*-0x21a+-0x270a+0x20bc)return!(0x27a+0xa*0x12a+-0xe1d);const _0x3d50b2=-(this['normal']['dot'](_0x112167['origin'])+this['distance'])/_0x8b7504;return _0x3d50b2>=0x1eb5+-0x13de+0x6f*-0x19&&_0x5e3d54&&_0x5e3d54['copy'](_0x112167['direction'])['mulScalar'](_0x3d50b2)['add'](_0x112167['origin']),_0x3d50b2>=0x345*-0x9+0x2*-0x9fa+-0x3161*-0x1;}['normalize'](){const _0x50124a=(0x2648+-0x3*-0x71f+-0x3ba4)/this['normal']['length']();return this['normal']['mulScalar'](_0x50124a),this['distance']*=_0x50124a,this;}['set'](_0x252ced,_0x2ac5c7,_0x57db97,_0x10e0fa){return this['normal']['set'](_0x252ced,_0x2ac5c7,_0x57db97),this['distance']=_0x10e0fa,this;}['setFromPoi'+'ntNormal'](_0x249332,_0x1256f0){return this['normal']['copy'](_0x1256f0),this['distance']=-this['normal']['dot'](_0x249332),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x4a4647=0xd88*-0x1+0x481*0x2+0x486;_0x4a4647<-0x2339+-0x3*-0x157+0x1f3a*0x1;_0x4a4647++)this['planes'][_0x4a4647]=new hy();}['clone'](){const _0x3c1d69=this['constructo'+'r'];return new _0x3c1d69()['copy'](this);}['copy'](_0x84da88){for(let _0x493010=0x883+-0x63f*-0x6+0xc1*-0x3d;_0x493010<0xa43+0xeae*-0x1+0x1*0x471;_0x493010++)this['planes'][_0x493010]['copy'](_0x84da88['planes'][_0x493010]);return this;}['setFromMat'+'4'](_0x1cdf6f){const [_0x5b3558,_0x5038da,_0x2a5172,_0x16d397,_0x57b332,_0x17eca4,_0x2f1152,_0x43bc96,_0x48c9e3,_0x16f892,_0x3179f9,_0x25c5ab,_0x5b75bd,_0x3c4195,_0xeeaf94,_0x34c022]=_0x1cdf6f['data'],_0x51ee5c=this['planes'];_0x51ee5c[-0x3b*0x91+0x966+0x1805]['set'](_0x16d397-_0x5b3558,_0x43bc96-_0x57b332,_0x25c5ab-_0x48c9e3,_0x34c022-_0x5b75bd)['normalize'](),_0x51ee5c[0x11f*-0x10+-0x11ff+0x8fc*0x4]['set'](_0x16d397+_0x5b3558,_0x43bc96+_0x57b332,_0x25c5ab+_0x48c9e3,_0x34c022+_0x5b75bd)['normalize'](),_0x51ee5c[-0x23c2+-0x1*0x2626+0x49ea]['set'](_0x16d397+_0x5038da,_0x43bc96+_0x17eca4,_0x25c5ab+_0x16f892,_0x34c022+_0x3c4195)['normalize'](),_0x51ee5c[0x925*-0x3+0xf81*0x2+-0x390]['set'](_0x16d397-_0x5038da,_0x43bc96-_0x17eca4,_0x25c5ab-_0x16f892,_0x34c022-_0x3c4195)['normalize'](),_0x51ee5c[-0x1*-0x2227+0x1*-0x3a0+-0x1*0x1e83]['set'](_0x16d397-_0x2a5172,_0x43bc96-_0x2f1152,_0x25c5ab-_0x3179f9,_0x34c022-_0xeeaf94)['normalize'](),_0x51ee5c[0x2*0x5de+-0x1*0x7eb+0x1*-0x3cc]['set'](_0x16d397+_0x2a5172,_0x43bc96+_0x2f1152,_0x25c5ab+_0x3179f9,_0x34c022+_0xeeaf94)['normalize']();}['containsPo'+'int'](_0x587f98){for(let _0x495cb4=0x2*0x5fb+0xe95*-0x2+0xc*0x16f;_0x495cb4<0x1b9a+-0x71*0x1+0x1b23*-0x1;_0x495cb4++){const {normal:_0x32ac88,distance:_0x1a8629}=this['planes'][_0x495cb4];if(_0x32ac88['dot'](_0x587f98)+_0x1a8629<=0x60+0x4*0x5c6+-0x8*0x2ef)return!(0x119f+0x18ae+-0x2a4c);}return!(0x1225+0x11ad*-0x1+0x1*-0x78);}['containsSp'+'here'](_0x12e1b4){const {center:_0x5a1b0b,radius:_0x1f06d3}=_0x12e1b4;let _0x4c58d4=-0x17c+0x134*-0x11+0x15f0;for(let _0x3acce2=0x19fb*0x1+0x57*-0x70+0xc15;_0x3acce2<0xbcb+-0x6e3+-0xa*0x7d;_0x3acce2++){const {normal:_0x5143e3,distance:_0x50fff0}=this['planes'][_0x3acce2],_0x4773a3=_0x5143e3['dot'](_0x5a1b0b)+_0x50fff0;if(_0x4773a3<=-_0x1f06d3)return-0x1d97+-0xe*0x118+0x2ce7;_0x4773a3>_0x1f06d3&&_0x4c58d4++;}return _0x4c58d4===-0x12*-0x87+0x9b3*-0x1+0x3b?-0xf9e+0x1fc*-0xa+0x2378:0x20d9*-0x1+0x1*-0x1f54+0x402e;}}class uu{constructor(_0x325c79,_0x5ea41b){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x325c79&&this['origin']['copy'](_0x325c79),_0x5ea41b&&this['direction']['copy'](_0x5ea41b));}['set'](_0x5638b0,_0x2c9bca){return this['origin']['copy'](_0x5638b0),this['direction']['copy'](_0x2c9bca),this;}['copy'](_0x8ca571){return this['set'](_0x8ca571['origin'],_0x8ca571['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=-0x1*-0x24e9+-0x1*0x132b+-0x11be,ae=0x229*0x7+0xc*0x19+0x104a*-0x1,Of=0xdb7+-0x1+-0xdb4,kf=0x1b*0x41+-0x1*-0x22a3+-0x297e,at=0x1a08+0x1a21+-0xd0a*0x4,TS=0x2653*0x1+0x18ed+-0x1f9f*0x2,dy=-0x12d5+0x245a+-0x1181,AS=0x2*0x6a+-0x9e*-0x20+-0x148f,dc=0x6*0x193+0x11ca+-0x1b36,uc=-0x2a3+-0x6d*-0x1d+0x3b*-0x2a,Lt=-0x616+0xf32+-0xd4*0xb,ES=-0x2*-0x29d+-0xfb+-0x43d,CS=-0x1ed5+-0x1c09+0x3ae1*0x1,MS=-0x2366*0x1+0x2*0xe8+0x219a,jt=0x2c*0xa3+0x16dd+-0x32e1,Th=0x8aa+-0x2*-0x230+0xd09*-0x1,uy=-0xc43+-0x38a+0xfcf,PS=-0x1adc+-0x1895+0x3374,Co=-0x11ec+-0x741*0x1+0x192e,Mo=0x2af+0x2194+-0x1*0x2441,Ah=0xc7a*0x2+-0x12ea+-0x606,mt=0x20e7+0x3*-0x1ff+-0x82*0x35,rn=0xca8+-0x1d63+0x10bc,mo=0x1*-0x2429+0x10d1+-0x2*-0x9ad,RS=-0x5*0x4a2+-0x1dd*0x11+-0x19d*-0x22,de=0x6*-0x5da+0x1a*-0xbb+0x361a,st=-0x755*0x4+-0x2*0x10b0+-0x3eb5*-0x1,fc=0x1b32+-0x15ab+-0x585,pc=-0x173*0x15+-0xada*0x1+0x294c,mc=-0x1*0x471+0x8c+0x3e9,nn=0x69+0xd*0xa7+-0x8df,IS=0x2b1+0x173*-0x12+0x1*0x1765,Eh=0x2b*0x99+-0x10e9+0xad*-0xd,Ch=0xa0*0x13+-0x61*0x1+-0xb7d,fu=0x1033+0x1*-0x7cb+0x865*-0x1,DS=-0x1*-0xdc9+0x452+-0x1217,LS=0x1*-0x1d89+0x235c+0x5ce*-0x1,FS=-0x617+0xb*-0xe5+0x1*0xff4,Ai=0x16c3*-0x1+-0x1b1a+-0x31e4*-0x1,pu=-0xa9a+0x24b0+-0x1a16,Pi=0x89d+0xd80+0x587*-0x4,nr=-0x719*-0x1+-0x1d39*0x1+0x1622,fy=-0x1*-0x20e6+0xd*-0x12b+-0x11b7,py=0xba7+-0x1b4e+-0x4*-0x3ea,Bf=0x3*-0x38b+-0xce*0x7+-0x77*-0x23,_c=-0x1b7d*0x1+0x7*0xb3+0x169b,Nf=0x68*0x45+0x24e1+-0x40e5,gc=0xaca*0x1+0x175b+-0xb6*0x30,dr=-0x1a79+0x10e9+0x1*0x996,Se=0x2158+-0x245f*0x1+0x30e,yc=-0xcec+0x1abe+-0x5*0x2c2,zf=-0x1*0x10bf+0x72*0x2b+-0x12f*0x2,$o=0x1dbe+0x3*-0x9ef+-0x5*-0x5,xc=0x481*0x7+-0x25d9+0xb5*0x9,Je=0xb*0xb9+0x18a9+-0x209*0x10,Sc=-0x2b7*-0x2+-0x3d5*0x2+0xc3*0x3,Ke=0x211d+-0x11af*0x2+0xc5*0x3,Ii=-0x142d+-0x1182*0x1+-0x12df*-0x2,Ci=0x15*-0x12f+-0x3*0x773+0x2c*0x113,vc=0x46e+0xd9e+0x11fb*-0x1,_a=0x1fa0+-0x3*0x5bd+0xe57*-0x1,Uf=-0x67*-0x2f+-0x25b7+0x12e1,rs=-0x2143+-0xe*0x1b+0x22d1,bc=-0x1c59+-0x405+0xd5*0x27,Vf=0x2*-0xe2+-0x116+-0x10*-0x2f,Gf=-0x1085*0x1+-0x17e9+-0x29*-0xfd,qo=-0x1763*0x1+-0x9f+0x1*0x181a,Xo=0x7d5*0x2+-0x463*0x1+-0xb2e*0x1,wc=-0x23b0+0x15c3+0xe07,Tc=0xefb+-0x9b6+-0x52a,my=0x6ab*0x1+-0x2*-0x65+-0x759,_y=0x867+0x4f*-0x1d+0xa9,gy=-0xb*-0x1c7+-0xfa*0x13+-0xe1,yy=-0x11*-0x73+-0x711+0x1*-0x73,Hf=0x1832*-0x1+0x25c*-0xb+0x3246,xy=0x2671+-0x182d+-0x205*0x7,Wf=-0x190*0x5+-0xb24*-0x1+0x332*-0x1,$f=-0x1bcf+-0x21c0+0x3db2,qf=0x13*0x127+0xf9d+-0x255e,an=0x1ea+-0x1bc3+0x19fe,Xf=0x1e6d+-0x7*-0x4a5+-0x11a*0x39,Sy=-0x6da+-0x2170+-0x1d*-0x165,jf=0x9*-0x5+0x18be*-0x1+0x1913,Yf=-0x21b9*-0x1+0x814*-0x4+-0x140,Kf=0x23ca+-0x1*-0x1929+-0x13*0x333,Zf=-0xea8+-0x23a6+0x10d3*0x3,Qf=0x991*-0x2+-0x11e+0x146c,vy=-0x176d+0x3*0x541+0x7d7,Jf=0x137d*-0x1+-0x16ef+0x2a9a,Ac=-0x175e+-0x2*-0x5cf+0xbef,ep=-0x437*-0x4+0x1e34+-0x19*0x1e0,ut=-0x1b4e+-0xfa2+0x1*0x2b21,Ec=0xdcb+-0x102*-0x25+-0x32e3,tp=0x21a1+0x1*-0x1843+-0x92b,sp=0xb66*0x1+-0x369+-0x7c9*0x1,ip=0x66c+-0xe3*-0x29+-0x2a92,mu=0x1bf6+-0x17e1+-0x3df*0x1,_u=-0x5*0x745+-0x1*-0x618+0x1e78,gu=-0x1def+-0x1328+0x314f,yu=0xb72*-0x1+-0x35*-0x9e+-0x1507,xu=0x6bd+-0x101e+0x99f,Su=-0x1ec8+0x185d+0x6aa,by=-0x9bb+-0x1da2+0x279d,wy=-0x1*0x883+-0x19a6+0x226a*0x1,Ty=0xb53+0x4*-0x8ef+0x5*0x4ef,Ay=-0xa3b+-0x29d*-0xe+0x686*-0x4,vu=0x28*-0xde+-0x33*0x76+0x3a76,la=-0x3*0x43a+-0x2a*0x18+0x10e3,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(0x259*-0x1+0x18f6+-0x169d)}],[sp,{'name':'R8','size':0x1,'ldr':!(-0x136e+-0xef5*0x1+-0x2263*-0x1)}],[py,{'name':'L8','size':0x1,'ldr':!(-0x1c2c+0x970+0x12bc)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(-0x28d*0x3+0x1*-0x111b+0x18c2)}],[ip,{'name':'RG8','size':0x2,'ldr':!(0x426+0x1*0x1659+0x143*-0x15)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(-0x13b+-0x2552+0x268d)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(0x1a18+0x1ea8+-0x8*0x718)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(0xba7*-0x1+0x1*0x2f2+0x8b5)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(0x55*0x17+0x9*0x3b8+-0x291b)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(-0x11*-0x1e5+0x2*0xdf3+-0x1409*0x3),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(-0x1a32+0xd25*0x2+-0x18),'srgb':!(-0x143a+0x1f4c*-0x1+0x527*0xa)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(0x6a*-0x45+0x1*0x16af+0x5e3),'srgb':!(0x1885*0x1+0x1*-0xab7+-0xdce)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(-0x976+-0x1f75+0x28eb)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(-0x3f2+0x19e+0x254),'srgb':!(-0x79a+-0xb69+-0x9d*-0x1f)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(0xb*-0x26b+0xb4b*0x3+-0x8*0xe9),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(0x61b+0x1b*-0x1+-0x600),'srgbFormat':_u}],[$o,{'name':'DXT5','blockSize':0x10,'ldr':!(0x329*-0x1+-0x1c30+0x141*0x19),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x9b3+0xf*0x131+0x82c*-0x1)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x27d*-0x8+0xa06+0x73*0x16),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x445+-0x9b*0x17+0x9a8),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x1*0x26d1+-0x1fce+-0x703),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x261f+0x768+-0x2d87),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x886+0x1*-0x1eef+0x1669*0x1),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x17e1*-0x1+0x19e0+0x7*-0x49),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0xd*-0x23+-0x6*-0x2ea+-0x1*0xfb5),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x1c*-0x7+0x1c5f+-0x1d23)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x194c+-0x2339+-0x34f*-0x3)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x6b*-0x50+-0x1d1+-0x1f9f),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0x140*0x8+-0x1*0xc19+0x219),'srgb':!(0x2347*0x1+-0x12b8+-0x108f)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x17*-0x187+0x13*-0x71+-0x1abe),'srgb':!(0x5d*0x1+0xb03*-0x3+0x1*0x20ac)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0x37a+0x3*-0x4ef+0x1247),'srgb':!(0x637+-0x281*-0x1+-0x8b8)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x5c8+-0x1b49+0x1*0x2111),'srgb':!(0x44d+0x204d+-0x249a)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x2594+-0xaf6+-0x1a9e),'srgb':!(0x8*-0x6e+-0x4e*0x13+0x93a)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(-0x91b+-0x14a+-0x377*-0x3),'srgb':!(-0xb*0x12+-0x25c5+-0xcd9*-0x3)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x126e+0xac8+-0x1d36),'srgb':!(0x487+0x998+-0x1*0xe1f)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(0xf3f*-0x1+0xc0c+0x333)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x19d*0xd+-0x1689+0x2b82)}],[Wf,{'name':'R16I','size':0x2,'isInt':!(-0x436*-0x1+0x2017+0x244d*-0x1)}],[$f,{'name':'R16U','size':0x2,'isInt':!(0x167*0xf+0x26aa+-0x3bb3)}],[qf,{'name':'R32I','size':0x4,'isInt':!(-0x42d+-0xbc3*-0x2+-0x1359)}],[an,{'name':'R32U','size':0x4,'isInt':!(-0x7c0*-0x3+0x12c+-0x186c)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(-0x2612+-0x1e09+0x441b)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(0x3*-0x8f9+-0x1*-0x5bf+0x43c*0x5)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(-0x2246+0x22bc+-0x76)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(-0x891+-0x17d7+-0x1034*-0x2)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(0x1*0x270b+0x1a*0x13f+-0x1*0x4771)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(0x20c9+0x16*0x152+-0x3dd5)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(0x287*-0xb+-0x1b0c+0x36d9)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(0x1*-0x9bb+0x1*-0x240b+0x2dc6)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(-0x2*0x10e2+0x133c*-0x1+-0xd4*-0x40)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(-0x11ef*0x1+0x1aa2+-0x8b3)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(-0x1dff+0x1e90*-0x1+0x1a3*0x25)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(-0xa29+0xc93+-0x67*0x6)}]]),OS=_0x1c20bf=>{var _0x28af3c;return((_0x28af3c=xt['get'](_0x1c20bf))==null?void(0x8e4*-0x4+-0x1c95+0x4025):_0x28af3c['blockSize'])!==void(-0x119*0x1d+0x1edf+0x29*0x6);},Mh=_0x1cb6ee=>{var _0xf03ad3;return((_0xf03ad3=xt['get'](_0x1cb6ee))==null?void(-0x2565+-0x11*0x1f3+0x2*0x2344):_0xf03ad3['srgb'])===!(0x21d*-0xa+0x23df+-0xebd);},ea=_0x3d0746=>{var _0x1e407e;return((_0x1e407e=xt['get'](_0x3d0746))==null?void(0xbdd*-0x2+-0x2074+-0x66*-0x8d):_0x1e407e['isInt'])===!(0x148d+-0x1175*-0x1+0x1301*-0x2);},Cc=_0x54abd7=>{var _0xa8a191;return((_0xa8a191=xt['get'](_0x54abd7))==null?void(-0x1b*0x59+0x130d*0x1+-0x2*0x4d5):_0xa8a191['srgbFormat'])||_0x54abd7;},kS=_0x1d4b2f=>{for(const [_0x1f3de5,_0x41ff4c]of xt)if(_0x41ff4c['srgbFormat']===_0x1d4b2f)return _0x1f3de5;return _0x1d4b2f;},Ey=_0x4b3298=>{const _0xb12e1a=xt['get'](_0x4b3298);return!!(_0xb12e1a!=null&&_0xb12e1a['ldr']&&!(_0xb12e1a!=null&&_0xb12e1a['srgb']));},Cy=_0x505989=>{switch(_0x505989){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case Wf:case jf:case Jf:return Int16Array;case ip:case $f:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=-0x1bab+-0x1b9d+0x3748,Pc=-0xa35+0x19a1+-0xf6b,My=-0x2*0xc8f+0x5*0x626+-0x1*0x59e,Py=0x3*0x80f+-0x433*0x5+-0x32b,Ms=-0xd5f+0x1*0x1565+-0x802,ar=-0x24dd*-0x1+0x1f*-0x1f+-0x2117,Yr=0x209f*0x1+0x83a+-0x1*0x28d3,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=-0x2*-0x1081+0x1*0x499+0x259a*-0x1,ha=0x5*-0x3ab+-0x175*-0x14+-0x4f*0x23,GS=-0x13d0+-0x1717+0x2ae9,HS=-0xcf1*0x1+-0x201*-0x13+-0x191f,WS=0x1757*-0x1+0x2a5+0x1*0x14b7,yl=0x1f58+-0x19*-0x139+-0x3de9,Fy=0xffb*0x1+0x1*0x1fde+-0x8*0x5fb,rd=-0x8ab*-0x2+-0xb2*0x26+0x918,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=-0x8a*-0x43+-0x1621+-0xdfc,ur=-0x1972*0x1+-0x1a09+0x337d,Oy=-0x12*-0x11d+0x7d0+-0x1bd7,Us='2d',$S='2d-array',qS='cube',XS='3d',oh=0x788+0xd03*0x1+-0x3*0x6d9,nd=0x13ac*-0x1+0x2f7*0x5+0x2*0x26d,jS=-0x1ab5+0x79*-0x29+0x2e18,YS=-0xe06+-0xf35+0x1d3e,KS=-0x17b4+-0x1*-0xf2b+0x88d,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=0x2043*0x1+-0x2399+0x356,Kr=0x1*-0x2389+-0xdae+0x3138,Ic=0x4*-0x2f0+0x30*0x6d+-0x8ae,el=-0x2389*-0x1+0x1*0x122d+0xe9*-0x3b,By=-0x1cca+-0x2*0x8b5+0x2e38,Do=-0x2035+-0x3*-0x41b+0x1*0x13e9,Ee=-0x1aa5+0x1a8a+0xb*0x3,ca=-0x1*0x19fc+-0x1a6+0x1ba2,ln=-0x136f+-0x2cc*-0xa+-0x888,$s=-0x78b+-0x9*0x35b+0x25c0,or=0x133f+0x3f2+-0x172e,$t=-0xe2*0x8+-0x5df+0xcf3,xa=0xb2*0x15+-0x847+-0x64e,Zr=-0x1653+-0x72f*0x2+-0x1*-0x24b7,Qr=-0x161*0x1+-0x1d53+0x1ebb,Jr=-0x4ff+0x13*0x89+-0x524,Lo=0x1450+-0x1326+0x11*-0x11,Fo=0x3d*0x6d+-0x1a4b*-0x1+0x7*-0x776,Oo=-0x1*0x11af+0x4*-0x9bf+0x3d*0xee,Rh=0x6e7+0xc9e*0x3+0x1*-0x2cb5,ko=-0x1419+-0x1*0x2147+-0x1*-0x356d,Sa=0x1*-0x10a5+0xef0+0x1c3,JS=-0x1fe4+0x83*0x11+0x3e*0x60,ev=0x1*-0x6b5+0x16*0x1bb+0x1*-0x1f4d,Dc=-0xdab+-0xb4a*-0x3+-0x6*0x35b,tv=0x3*-0x827+-0x1364*0x1+0x1*0x2beb,sv=0x2478+-0x12e*-0x17+0x8b*-0x75,iv=-0x6*-0x506+0x4*0xb7+-0x20ec,Lc=0x1*-0x20e5+-0x1539+0x3633,Fc=0x36*-0x59+0x1*0x2c2+0x101a,lp=0x1a7d+0x68b+0xafb*-0x3,Ny=-0x1421+-0x421+0x185a,rv=0xc2*0x1f+-0x2bd*0x9+-0x140*-0x1,va=-0x32*-0x66+-0x2*-0x4c4+-0x1d5a,ba=0x1*0x1023+0x970+-0x1978,wa=-0x468+0x3c6*0x5+-0x2*0x72d,Ta=0x1558+-0x17*-0x89+-0x218a,Aa=0x1e50+-0x1dfb*-0x1+-0x3c2d,Oc=0x1a46*0x1+-0xb18*-0x3+0x55*-0xb3,kc=-0x2284*-0x1+-0xf40*0x1+0x19*-0xc4,Ea=-0x1b4b+0x13a*-0x1d+0x3efe,Bc=-0x22b9+-0x88a+0x2b65,Nc=0x2257+-0xd*-0x209+-0x35*0x125,Ca=0x4be+0x499+-0x933,zc=0x5*0x4b5+-0x764+-0x1000,Uc=-0x58f*0x6+0x175d+0xf*0xad,Ih=-0xed9+0x846+-0x1*-0x6ba,hp=-0xf*-0x130+0x7*0x2e7+0x1*-0x25f9,cp=-0x1fad+0x13b6+0xc20,nv=-0x1f3a+-0x19a3+0x3907,av=-0x655*-0x2+-0x195d+0x3d*0x36,ov=-0x1*0x22c5+-0x7*0x39b+0x3c2e,lv=0x14c6*-0x1+-0x2d7*0x3+0x1d78,hv=0x2041+0x243d*0x1+-0x4450,cv=-0xa71+0x1*-0x4d+0xaed,dv=-0x16c5+-0x1*0x23d5+-0x1*-0x3aca,uv=-0x273+0x2312+-0x206e,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x524ee6,_0xcce242)=>{_0x524ee6['forEach'](_0x2ca225=>pv['set'](_0x2ca225,_0xcce242));});const mv='webgl2',up=0x26d7+-0x548+-0x218e,li=0x266b+0xb66+-0x31cf,_v=-0x46b*-0x7+0x1e89*0x1+-0x3d72,gv='ldr',zy=0x5*0x2bb+0xf15+-0x1cbb,Uy=0x233c+0x35*-0x64+-0xe86,Vy=0x10bc+0x1*-0x1249+0x191,Gy=0x200*-0x6+-0x623+0x1*0x122b,Hy=0x174c+0x13*0xe9+-0x1*0x2887,Wy=-0x235d+-0xc*-0x1a6+-0x1*-0xfb5,$y=0x9*-0x3af+0x221b+-0xb4,qy=0x4*-0x197+0x17a*-0x2+0x9d0,yv=-0xdbb+-0x47b+-0x1bf*-0xb,Dh=-0x2*0x479+-0x458*0x7+0x275a,Xy=-0x1e88+0x26e0+-0x1*0x857,Eu=0xe39+-0x83f+-0x2*0x2fc,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[-0x2*-0xb29+-0x1*0x1be7+0x596,-0xd*-0x11f+0x928+-0x17ba,0x10cb+0x125*0xd+0x3*-0xa8e,0x1b41*-0x1+-0x1*-0xe6c+-0xad*-0x13,0x1084+0x1aca+0x737*-0x6,0x3dc*-0x8+-0xe8a+0x2d6e,-0x22b5+-0x2b4+0x256d,0x1c73+0x5*0xd6+0x7*-0x4a9],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[0x88c+-0x1e9d+0x1612,0x177*0x11+0x1*-0xb3e+-0xda7,0x2*-0xc74+0x9c*0x2f+-0x3b8],ve={};ve[He]=0x2176+0x21d7+0x3*-0x166f,ve[Yt]=-0x133c*0x1+0x270d+-0x2*0x9e8,ve[Ys]=0x5d*-0x26+0x39*-0x39+-0x54d*-0x5,ve[qt]=0x5e3+0x35*-0x49+-0x1*-0x93d,ve[At]=0x3a*0xb+-0x1a3d+0x17c3,ve[ns]=0x242*0x3+0x192*0xc+-0x1999,ve[_n]=-0x157*-0xa+-0x1*-0x31d+-0x107d,ve[jo]=0x19d0+-0x9d*-0xa+0x1feb*-0x1,ve[Yo]=-0x1311+-0xd8*0x21+0x2ef1,ve[Ko]=0x19fd+-0x1d*0x11d+0x655,ve[Zo]=-0x12*-0xe9+0xd12+-0x1d6a,ve[Qo]=0x36f+-0x30b*0x1+-0x59*0x1,ve[Jo]=0x159c+0x213e+0x262*-0x17,ve[Zs]=-0x1*0xa73+0x8f3+0x18d,ve[bu]=-0x6d8*-0x4+-0x28d*-0xa+0x7*-0x78e,ve[wu]=-0x1278+0x1*-0x2392+0x5*0xacf,ve[Ry]=0x4b*-0xd+-0x1359*0x1+0x172a,ve[Iy]=0x1d9f+-0x4f6+-0x18a6,ve[Dy]=0x59d*0x3+0x240c+-0x34df,ve[BS]=-0x81*-0x1+0x533+0x61*-0xf,ve[NS]=0x1378+0x14a9+-0x281b,ve[zS]=-0x56f+0xea0+0x11*-0x8a,ve[Po]=-0x9d9+-0x53d*-0x1+0x3*0x18c,ve[Ro]=0x16*-0x85+0x8*0x35b+0x1*-0xf61,ve[US]=-0x1b7a*0x1+-0x1571+0x30f5*0x1,ve[VS]=0x1b3+0xd15+-0x7*0x21b,ve[rp]=0x1b32+0xbb+-0x1*0x1be1,ve[ga]=-0x18bf+0x110c+0x7c0,ve[np]=-0x189b*-0x1+-0x598+0x1*-0x12f5,ve[ya]=0x6*0x4e4+-0x23e7+-0x34f*-0x2;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=0x1*-0x1452+-0xdd5*-0x1+0x67d;}static['pushGpuMar'+'ker'](_0x4fb05a,_0x4d22e7){Ki['markers']['push'](_0x4d22e7),_0x4fb05a['pushMarker'](_0x4d22e7);}static['popGpuMark'+'er'](_0x4004da){Ki['markers']['length']&&Ki['markers']['pop'](),_0x4004da['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=0x335*-0xa+0x1e00+0x212;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class Vc{constructor(_0x372dc1,_0x5efd3e){c(this,'slot',-(0x194b+0x57a*0x3+-0x29b8)),c(this,'scopeId',null),(this['name']=_0x372dc1,this['visibility']=_0x5efd3e);}}class pp extends Vc{}class Av extends Vc{constructor(_0x429761,_0xa1d848,_0x4efd19=!(-0x1e5a+0x112*0x1d+-0xaf)){super(_0x429761,_0xa1d848),c(this,'format',''),(this['readOnly']=_0x4efd19,v['assert'](_0x4efd19||!(_0xa1d848&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x530667,_0x2252af,_0x276c57=Us,_0x4269b4=oh,_0x3d1019=!(-0x336*0x1+-0x1*0x6f1+-0x17*-0x71),_0x2468b6=null){super(_0x530667,_0x2252af),this['textureDim'+'ension']=_0x276c57,this['sampleType']=_0x4269b4,this['hasSampler']=_0x3d1019,this['samplerNam'+'e']=_0x2468b6??_0x530667+'_sampler';}}class Ev extends Vc{constructor(_0x58f19b,_0x25ec18=Se,_0x3214c9=Us,_0x27699f=!(-0xd*0xf7+-0xc85+0x1910),_0x3bfeab=!(0x75*0x15+-0x1583*0x1+-0x71*-0x1b)){super(_0x58f19b,_v),this['format']=_0x25ec18,this['textureDim'+'ension']=_0x3214c9,this['write']=_0x27699f,this['read']=_0x3bfeab;}}class jy{constructor(_0x22ecc1,_0x5fba74){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x5fba74));let _0x43b4fd=0xd23+0x1*-0x1472+0x74f;_0x5fba74['forEach'](_0x53b175=>{_0x53b175['slot']=_0x43b4fd++,_0x53b175 instanceof fi&&_0x53b175['hasSampler']&&_0x43b4fd++,_0x53b175 instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x53b175):_0x53b175 instanceof fi?this['textureFor'+'mats']['push'](_0x53b175):_0x53b175 instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x53b175):_0x53b175 instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x53b175):v['assert']('Invalid\x20bi'+'nd\x20format',_0x53b175);}),this['device']=_0x22ecc1;const _0x9bbc8a=_0x22ecc1['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x4d81fa,_0x34cffe)=>this['bufferForm'+'atsMap']['set'](_0x4d81fa['name'],_0x34cffe)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x424a0b,_0x1b7a7c)=>{this['textureFor'+'matsMap']['set'](_0x424a0b['name'],_0x1b7a7c),_0x424a0b['scopeId']=_0x9bbc8a['resolve'](_0x424a0b['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x4faffb,_0x583971)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x4faffb['name'],_0x583971),_0x4faffb['scopeId']=_0x9bbc8a['resolve'](_0x4faffb['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x565144,_0x5a3ec0)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x565144['name'],_0x5a3ec0),_0x565144['scopeId']=_0x9bbc8a['resolve'](_0x565144['name']);}),this['impl']=_0x22ecc1['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x2328ab){const _0x1c2461=this['textureFor'+'matsMap']['get'](_0x2328ab);return _0x1c2461!==void(0x5*-0x287+-0x30*-0xb2+-0x14bd)?this['textureFor'+'mats'][_0x1c2461]:null;}['getStorage'+'Texture'](_0x185849){const _0x42217f=this['storageTex'+'tureFormat'+'sMap']['get'](_0x185849);return _0x42217f!==void(0x1*-0x83f+-0x2597*0x1+-0x16eb*-0x2)?this['storageTex'+'tureFormat'+'s'][_0x42217f]:null;}['getShaderD'+'eclaration'+'Textures'](_0x13c884){let _0x406461='';return this['textureFor'+'mats']['forEach'](_0x3cbf40=>{let _0x1561ae=Tv[_0x3cbf40['textureDim'+'ension']];v['assert'](_0x1561ae,'Unsupporte'+'d\x20texture\x20'+'type',_0x3cbf40['textureDim'+'ension']);const _0x285b92=_0x1561ae==='texture2DA'+'rray',_0x10217a=_0x3cbf40['sampleType']===KS?'u':_0x3cbf40['sampleType']===YS?'i':'';_0x1561ae=''+_0x10217a+_0x1561ae;let _0x173f9a='',_0x4dadba='';_0x285b92&&(_0x173f9a='_texture',_0x4dadba='#define\x20'+_0x3cbf40['name']+'\x20'+_0x10217a+('sampler2DA'+'rray(')+_0x3cbf40['name']+_0x173f9a+',\x20'+_0x3cbf40['name']+'_sampler)\x0a'),_0x406461+='layout(set'+'\x20=\x20'+_0x13c884+(',\x20binding\x20'+'=\x20')+_0x3cbf40['slot']+')\x20uniform\x20'+_0x1561ae+'\x20'+_0x3cbf40['name']+_0x173f9a+';\x0a',_0x3cbf40['hasSampler']&&(_0x406461+='layout(set'+'\x20=\x20'+_0x13c884+(',\x20binding\x20'+'=\x20')+(_0x3cbf40['slot']+(0x1d79+-0x18a1+-0x19d*0x3))+(')\x20uniform\x20'+'sampler\x20')+_0x3cbf40['name']+'_sampler;\x0a'),_0x406461+=_0x4dadba;}),_0x406461;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x34f753,_0x1833a4){return this['_cache']['has'](_0x34f753)||(this['_cache']['set'](_0x34f753,_0x1833a4()),_0x34f753['on']('destroy',()=>{this['remove'](_0x34f753);}),_0x34f753['on']('devicelost',()=>{var _0x1da6bc,_0x65de13;(_0x65de13=(_0x1da6bc=this['_cache']['get'](_0x34f753))==null?void(-0x19b1+0x51c+0x1*0x1495):_0x1da6bc['loseContex'+'t'])==null||_0x65de13['call'](_0x1da6bc,_0x34f753);})),this['_cache']['get'](_0x34f753);}['remove'](_0xf8172d){var _0x53e40c,_0x41e968;(_0x41e968=(_0x53e40c=this['_cache']['get'](_0xf8172d))==null?void(0x4e*-0x75+-0x1*-0xd91+0x1615):_0x53e40c['destroy'])==null||_0x41e968['call'](_0x53e40c,_0xf8172d),this['_cache']['delete'](_0xf8172d);}}class Mi{static['calcLevelD'+'imension'](_0x3ea5ac,_0x549be9){return Math['max'](_0x3ea5ac>>_0x549be9,-0x1*0xd85+0x3*-0xc1f+-0x10a1*-0x3);}static['calcMipLev'+'elsCount'](_0x4ba1e0,_0x2c91e1,_0x5bda5c=-0xfa1+-0x2*0x5db+0x1b58){return 0xe16*0x2+0x1d3e*0x1+-0xd5*0x45+Math['floor'](Math['log2'](Math['max'](_0x4ba1e0,_0x2c91e1,_0x5bda5c)));}static['calcLevelG'+'puSize'](_0x54476c,_0x407402,_0x428b68,_0x23aa02){var _0x28070c;const _0x26ee1f=xt['get'](_0x23aa02);v['assert'](_0x26ee1f!==void(-0x1*-0xdd6+0x12*0x5c+-0x2e*0x71),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x23aa02);const _0xac1d80=((_0x28070c=xt['get'](_0x23aa02))==null?void(-0x2f3+-0x1f31*-0x1+-0x5*0x5a6):_0x28070c['size'])??0x20*-0x2f+-0x24bf+0x2a9f*0x1;if(_0xac1d80>-0x287*0x1+0x1dc+-0x39*-0x3)return _0x54476c*_0x407402*_0x428b68*_0xac1d80;const _0x19fd3f=_0x26ee1f['blockSize']??0x25d9+-0x122c+-0x49*0x45;let _0x217160=Math['floor']((_0x54476c+(-0x4*-0x8fa+0x9a4+0x1*-0x2d89))/(-0x3*-0xaab+-0x23f7+0x3fa));const _0x2567c9=Math['floor']((_0x407402+(0x6*0x2f+0x5ed*-0x1+0x4d6))/(-0xd*-0x15d+0xaed*0x1+-0xe51*0x2)),_0x4fc93a=Math['floor']((_0x428b68+(0x1cce+-0x6f*-0x3+-0x1e18))/(-0x2208*0x1+0x127b+0xf91));return(_0x23aa02===qo||_0x23aa02===Xo)&&(_0x217160=Math['max'](Math['floor'](_0x217160/(-0x1*-0x1e9c+-0x5db+-0x18bf)),0x12c7+-0xd*-0x107+-0x2021)),_0x217160*_0x2567c9*_0x4fc93a*_0x19fd3f;}static['calcGpuSiz'+'e'](_0x3e77cc,_0x45f3fe,_0x4b9d65,_0x21943b,_0x5c0921,_0x1545a9){let _0x2893a1=0x1*0x81d+-0x10c1+-0x9e*-0xe;for(;_0x2893a1+=Mi['calcLevelG'+'puSize'](_0x3e77cc,_0x45f3fe,_0x4b9d65,_0x21943b),!(!_0x5c0921||_0x3e77cc===0x124d+0x5e0+-0x182c&&_0x45f3fe===0x1e35+0x1771+-0x35a5&&_0x4b9d65===-0x2157*-0x1+0x5*-0x287+-0x14b3);)_0x3e77cc=Math['max'](_0x3e77cc>>-0xdb*-0x1+0x4e*-0x4a+0x15b2,-0x102d*-0x1+-0x1867+0x7*0x12d),_0x45f3fe=Math['max'](_0x45f3fe>>-0x14*-0x71+-0xd31+0x45e,-0x1d1c+0x1110+-0x269*-0x5),_0x4b9d65=Math['max'](_0x4b9d65>>0xd*-0x23d+0x1c5f+0xbb,0xe73+0x1*-0x2c7+-0x1*0xbab);return _0x2893a1*(_0x1545a9?0x1e14+-0x1192+0x1*-0xc7c:-0x172d+-0xb54+0x2282*0x1);}}let Cv=0x6*-0x5f2+0x1e2*0x1+-0x21ca*-0x1;class he{constructor(_0x3da559,_0x663b57={}){c(this,'name'),c(this,'_gpuSize',-0x146+-0x1*0x1352+-0x526*-0x4),c(this,'id',Cv++),c(this,'_invalid',!(-0x1d*0x10+-0x76c+0x93d)),c(this,'_lockedLev'+'el',-(0xcf0+-0xf51+0x262)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',-0x977*-0x1+-0x797+-0x1e0),c(this,'_storage',!(0x1*-0x16df+0x9*-0x1e8+-0x38*-0xb7)),c(this,'_numLevels',0x2574+-0x49a+-0x91*0x3a),c(this,'_numLevels'+'Requested');var _0xf55f9;this['device']=_0x3da559,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x663b57['width']||Number['isInteger'](_0x663b57['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x663b57),v['assert'](!_0x663b57['height']||Number['isInteger'](_0x663b57['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x663b57),v['assert'](!_0x663b57['depth']||Number['isInteger'](_0x663b57['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x663b57),this['name']=_0x663b57['name']??'',this['_width']=Math['floor'](_0x663b57['width']??-0xf3c+-0x10df+-0x3*-0xab5),this['_height']=Math['floor'](_0x663b57['height']??-0x2035+0x1a8*-0x17+-0x2f*-0x17f),this['_format']=_0x663b57['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x663b57['minFilter']=de,_0x663b57['magFilter']=de),this['_volume']=_0x663b57['volume']??!(-0x16e7*0x1+0x1909+-0x5*0x6d),this['_depth']=Math['floor'](_0x663b57['depth']??-0x89d*0x2+-0x2*-0xc02+0x6c9*-0x1),this['_arrayLeng'+'th']=Math['floor'](_0x663b57['arrayLengt'+'h']??0x12*-0xd3+0x1d66+0x1*-0xe90),this['_storage']=_0x663b57['storage']??!(-0x2d9*-0x5+-0x1a9d*0x1+0xc61),this['_cubemap']=_0x663b57['cubemap']??!(0xf95+0x2d*0x61+-0x20a1),this['_flipY']=_0x663b57['flipY']??!(-0x4*-0xf2+0x1821+-0x1be8),this['_premultip'+'lyAlpha']=_0x663b57['premultipl'+'yAlpha']??!(0x1cdf*-0x1+-0xc9*0x16+0x219*0x16),this['_mipmaps']=_0x663b57['mipmaps']??!(-0x7*0x1f3+-0x1504+0x22a9),this['_numLevels'+'Requested']=_0x663b57['numLevels'],_0x663b57['numLevels']!==void(-0x12f9+0x81f+0xada)&&(this['_numLevels']=_0x663b57['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x663b57['minFilter']??nn,this['_magFilter']=_0x663b57['magFilter']??st,this['_anisotrop'+'y']=_0x663b57['anisotropy']??-0x1*0x1325+0x1e14+-0x2*0x577,this['_addressU']=_0x663b57['addressU']??tt,this['_addressV']=_0x663b57['addressV']??tt,this['_addressW']=_0x663b57['addressW']??tt,this['_compareOn'+'Read']=_0x663b57['compareOnR'+'ead']??!(-0xfe9+0x5*-0x10d+-0x152b*-0x1),this['_compareFu'+'nc']=_0x663b57['compareFun'+'c']??Eh,this['type']=_0x663b57['hasOwnProp'+'erty']('type')?_0x663b57['type']:Di,v['assert'](!_0x663b57['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x663b57['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x663b57['projection']&&_0x663b57['projection']!==Au&&(this['projection']=_0x663b57['projection']),this['profilerHi'+'nt']=_0x663b57['profilerHi'+'nt']??0xdf*-0x10+-0x14ef+0x22df,this['_levels']=_0x663b57['levels'];const _0x317c37=!!_0x663b57['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x317c37),_0x3da559['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0xf55f9=xt['get'](this['format']))==null?void(-0xf6c+0x3bb*0x8+-0xe6c):_0xf55f9['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x585718=this['device'];if(_0x585718){const _0x302b6e=_0x585718['textures']['indexOf'](this);_0x302b6e!==-(0x2353+0x1025+-0x3377)&&_0x585718['textures']['splice'](_0x302b6e,-0x1*-0xa93+-0x79*-0x2c+-0x1f5e),_0x585718['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x585718),this['adjustVram'+'SizeTracki'+'ng'](_0x585718['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x388c12=!(0x1a*0x61+0x601+0x63*-0x29)){var _0x48c5ee;const {device:_0x282081}=this;(_0x48c5ee=this['impl'])==null||_0x48c5ee['destroy'](_0x282081),this['impl']=null,this['impl']=_0x282081['createText'+'ureImpl'](this),this['dirtyAll'](),_0x388c12&&this['upload']();}['resize'](_0xe144fb,_0x2e4b83,_0x205b93=-0x1*0x1baa+0xe88+0xd23){const _0x2af353=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x2af353['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x2af353),this['_width']=Math['floor'](_0xe144fb),this['_height']=Math['floor'](_0x2e4b83),this['_depth']=Math['floor'](_0x205b93),this['_updateNum'+'Level'](),this['impl']=_0x2af353['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x4bca31,_0x20218b){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x20218b+('\x20vram.text'+'ure:\x20')+_0x4bca31['tex']+'\x20=>\x20'+(_0x4bca31['tex']+_0x20218b)),_0x4bca31['tex']+=_0x20218b,this['profilerHi'+'nt']===Tu?_0x4bca31['texShadow']+=_0x20218b:this['profilerHi'+'nt']===ur?_0x4bca31['texAsset']+=_0x20218b:this['profilerHi'+'nt']===Oy&&(_0x4bca31['texLightma'+'p']+=_0x20218b);}['propertyCh'+'anged'](_0xc1b6cc){this['impl']['propertyCh'+'anged'](_0xc1b6cc),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x5a268c=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):0x363*0x9+0x532*-0x5+0x6*-0xc0,_0x45e60f=this['_numLevels'+'Requested'];_0x45e60f!==void(0x1e*-0xf1+0x1d8e+0x1*-0x150)&&_0x45e60f>_0x5a268c&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x5a268c,this),this['_numLevels']=Math['min'](_0x45e60f??_0x5a268c,_0x5a268c),this['_mipmaps']=this['_numLevels']>0xc*-0x3e+0x1658+-0x3e3*0x5;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x142f49){this['_minFilter']!==_0x142f49&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x142f49,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x3bdb06){this['_magFilter']!==_0x3bdb06&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x3bdb06,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x46b1cf){this['_addressU']!==_0x46b1cf&&(this['_addressU']=_0x46b1cf,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x540f44){this['_addressV']!==_0x540f44&&(this['_addressV']=_0x540f44,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x3254cd){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x3254cd!==this['_addressW']&&(this['_addressW']=_0x3254cd,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x304cca){this['_compareOn'+'Read']!==_0x304cca&&(this['_compareOn'+'Read']=_0x304cca,this['propertyCh'+'anged'](Wy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x17fa0f){this['_compareFu'+'nc']!==_0x17fa0f&&(this['_compareFu'+'nc']=_0x17fa0f,this['propertyCh'+'anged']($y));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x5da978){this['_anisotrop'+'y']!==_0x5da978&&(this['_anisotrop'+'y']=_0x5da978,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x328834){this['_mipmaps']!==_0x328834&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x328834,_0x328834&&(this['_needsMipm'+'apsUpload']=!(-0x16a0+-0x1*-0x1dd1+-0x731)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x45c68e=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x6*-0xf7+0x1548+-0xd*0x215);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x45c68e,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x2229+0x527+0x25*-0x110;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x370e2f){var _0x5d20f9,_0x5d837a,_0x397334,_0x3a7e8d;const _0x57d099=Mh(this['format']);if(_0x370e2f!==_0x57d099){if(_0x370e2f){const _0x51d1e9=Cc(this['format']);this['_format']!==_0x51d1e9&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x5d20f9=xt['get'](this['format']))==null?void(-0x268f+-0xacf+-0x315e*-0x1):_0x5d20f9['name'])+'\x20->\x20'+((_0x5d837a=xt['get'](_0x51d1e9))==null?void(-0x1767+-0xfe9*0x1+-0x10*-0x275):_0x5d837a['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x51d1e9,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x3*-0x15+0x3*-0x8e1+0x1ae2));}else{const _0x1ac3a8=kS(this['format']);this['_format']!==_0x1ac3a8&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x397334=xt['get'](this['format']))==null?void(0x13c2+-0x10*-0x1e1+-0x31d2):_0x397334['name'])+'\x20->\x20'+((_0x3a7e8d=xt['get'](_0x1ac3a8))==null?void(-0x2*0x4ae+-0x1df8+0x2754):_0x3a7e8d['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x1ac3a8,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x3b*-0x82+0xb3f+0x12b7));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x33887a){this['_flipY']!==_0x33887a&&(this['_flipY']=_0x33887a,this['_needsUplo'+'ad']=!(0x23a4+0x224f+-0x45f3));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x21e90f){this['_premultip'+'lyAlpha']!==_0x21e90f&&(this['_premultip'+'lyAlpha']=_0x21e90f,this['_needsUplo'+'ad']=!(0x1*0x92f+0x12a2+-0x1bd1));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x235c+0x821*-0x2+0x339e),!(0x8*-0x4e0+0x7f5+-0x9*-0x373),!(-0x162c+0x1*0xf3d+0x6ef),!(0x8c4+0x6f*-0x59+0x9f1*0x3),!(0x15d*-0xd+0x4*0x9c2+-0x154f),!(-0xa7*0x20+0x5*0x617+-0x993)]]:[!(0x242f*-0x1+0x159a+0xe95)],this['_needsUplo'+'ad']=!(0xe80+-0x3c1*-0x2+-0x1602),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x1*-0xc6d+-0x24cd*-0x1+0x1*-0x185f),this['propertyCh'+'anged'](yv);}['lock'](_0x29bc44={}){_0x29bc44['level']??(_0x29bc44['level']=0x1*0x1561+-0x1eee+0x1e9*0x5),_0x29bc44['face']??(_0x29bc44['face']=0x3*-0xb66+0x2*-0xef0+0x4012),_0x29bc44['mode']??(_0x29bc44['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x29bc44['mode']===Fy||_0x29bc44['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x29bc44['mode'],this['_lockedLev'+'el']=_0x29bc44['level'];const _0x498c21=this['cubemap']?this['_levels'][_0x29bc44['face']]:this['_levels'];if(_0x498c21[_0x29bc44['level']]===null){const _0xe7cb=Math['max'](0x219f+0x884+-0x2a22,this['_width']>>_0x29bc44['level']),_0x3e0e06=Math['max'](0x7e+0x2337+-0xa*0x392,this['_height']>>_0x29bc44['level']),_0x402802=Math['max'](-0x116b+0xae+0x85f*0x2,this['_depth']>>_0x29bc44['level']),_0x11a591=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0xe7cb,_0x3e0e06,_0x402802,this['_format']));_0x498c21[_0x29bc44['level']]=new(Cy(this['_format']))(_0x11a591);}return _0x498c21[_0x29bc44['level']];}['setSource'](_0x5692a5,_0x48b576=-0x1042+-0x7b*-0x3f+-0xe03){let _0x24b6a2=!(0x4*0x5cf+-0x1*0x23ae+0xc73),_0x4a8093,_0x628f62;if(this['_cubemap']){if(_0x5692a5[-0xc5*0x8+0x674+0x13*-0x4]){_0x4a8093=_0x5692a5[0x2600+-0x928+-0x736*0x4]['width']||-0x1d*-0x3f+-0x1*0x2619+0x1ef6,_0x628f62=_0x5692a5[0x29*-0x3+0x1*-0x15b1+0x162c]['height']||0x189*-0x18+-0x24c8+0x49a0;for(let _0x3b8c8d=-0x9*0x1f7+-0x925*-0x1+0x2*0x445;_0x3b8c8d<0xdd2+-0xfb0+0xf2*0x2;_0x3b8c8d++){const _0x7ce49b=_0x5692a5[_0x3b8c8d];if(!_0x7ce49b||_0x7ce49b['width']!==_0x4a8093||_0x7ce49b['height']!==_0x628f62||!this['device']['_isBrowser'+'Interface'](_0x7ce49b)){_0x24b6a2=!(-0xafa*-0x1+-0xbac+0xb2);break;}}}else _0x24b6a2=!(-0x1b01+-0xc0b+0x33*0xc4);if(!_0x24b6a2){for(let _0x5d1a4a=0x1a94+0x95a+-0x23ee;_0x5d1a4a<-0x473*-0x7+-0x4e4+-0x18b*0x11;_0x5d1a4a++)this['_levels'][_0x48b576][_0x5d1a4a]!==_0x5692a5[_0x5d1a4a]&&(this['_levelsUpd'+'ated'][_0x48b576][_0x5d1a4a]=!(-0x975+0x1d4e+-0x1*0x13d9));}}else this['device']['_isBrowser'+'Interface'](_0x5692a5)||(_0x24b6a2=!(0x243a*-0x1+0x1e56+0x5e4)),_0x24b6a2||(_0x5692a5!==this['_levels'][_0x48b576]&&(this['_levelsUpd'+'ated'][_0x48b576]=!(0x3*0x28b+-0x19ee+-0x1*-0x124d)),_0x5692a5 instanceof HTMLVideoElement?(_0x4a8093=_0x5692a5['videoWidth'],_0x628f62=_0x5692a5['videoHeigh'+'t']):(_0x4a8093=_0x5692a5['width'],_0x628f62=_0x5692a5['height']));if(_0x24b6a2){if(this['_width']=-0x1ab3*0x1+-0x1118+0x2bcf*0x1,this['_height']=0x1499+-0x17*0xc1+-0x1*0x33e,this['_cubemap']){for(let _0x217809=-0xae5*0x1+-0x88*0x1d+0x1a4d;_0x217809<-0x6*0x320+0x19ed+-0x727;_0x217809++)this['_levels'][_0x48b576][_0x217809]=null,this['_levelsUpd'+'ated'][_0x48b576][_0x217809]=!(0x4*-0x6+-0x1e5b+-0x617*-0x5);}else this['_levels'][_0x48b576]=null,this['_levelsUpd'+'ated'][_0x48b576]=!(-0x191*0xd+-0x1c1*-0x5+0xb98);}else _0x48b576===-0x16af*-0x1+0x2076+-0x3725&&(this['_width']=_0x4a8093,this['_height']=_0x628f62),this['_levels'][_0x48b576]=_0x5692a5;(this['_invalid']!==_0x24b6a2||!_0x24b6a2)&&(this['_invalid']=_0x24b6a2,this['upload']());}['getSource'](_0xee70d6=0x4*-0x56c+-0x1a1e*0x1+0x2*0x17e7){return this['_levels'][_0xee70d6];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(0x560+-0x720*-0x2+-0x139f),this['_lockedMod'+'e']=yl;}['upload'](){var _0x23e8da,_0x1ffd0c;this['_needsUplo'+'ad']=!(0x3*-0x8ee+0x222*0x11+0x12f*-0x8),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x1ffd0c=(_0x23e8da=this['impl'])['uploadImme'+'diate'])==null||_0x1ffd0c['call'](_0x23e8da,this['device'],this);}['read'](_0x15389e,_0x188f03,_0x32f896,_0x45627b,_0x1b1eea={}){var _0x5176b7,_0x40b891;return(_0x40b891=(_0x5176b7=this['impl'])['read'])==null?void(0x1f50+0x1e79+0x1*-0x3dc9):_0x40b891['call'](_0x5176b7,_0x15389e,_0x188f03,_0x32f896,_0x45627b,_0x1b1eea);}}const Mv={'white':[0x19dd+-0x86*0x43+-0x28d*-0x4,0x4*0x2f2+0x327*-0x6+0x821*0x1,-0x2*-0xd73+0xae4*0x3+-0x3a93,0x41*0x4d+-0x12f4+0x66],'gray':[-0x1668*0x1+-0x2441+0x3b29,-0x1953+0x182a+-0x11*-0x19,0x34a+-0x26e9+0x241f,-0x1*-0x1313+0x2633+0x1*-0x3847],'black':[-0x5*0x1e8+-0xba2+0x56*0x3f,0x91a+-0x29*-0x2d+-0x104f,0x23ba+0x13c0+-0x377a,0xe7e+0x7*0x3a7+-0xc8*0x32],'normal':[-0x1ac9+0x33b+0x180e,-0xa2d+0x149a+-0x9ed,-0xd19*-0x1+-0x1667+0xa4d,-0x6fb*-0x3+0xbe3+-0x1fd5],'pink':[0x1*0x391+0xa4f+-0xce1,0x1*0x5ed+0xca+-0x25*0x2b,0x17b4+-0x5*-0x1e7+0x2038*-0x1,0x4*-0x185+0xc04+-0x4f1]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x5782bb=>{_0x5782bb['destroy']();});}}const Rv=new Ot(),en=(_0x1556d7,_0x247158)=>{const _0x4e0165=Rv['get'](_0x1556d7,()=>new Pv());if(!_0x4e0165['map']['has'](_0x247158)){const _0x634b88=new he(_0x1556d7,{'name':'built-in-t'+'exture-'+_0x247158,'width':0x1,'height':0x1,'format':Se}),_0x3a8c97=_0x634b88['lock'](),_0x200c9e=Mv[_0x247158];v['assert'](_0x200c9e,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x247158+('\x27\x20not\x20foun'+'d')),_0x3a8c97['set'](_0x200c9e),_0x634b88['unlock'](),_0x4e0165['map']['set'](_0x247158,_0x634b88);}return _0x4e0165['map']['get'](_0x247158);};let Iv=-0x4*-0x63d+-0x2*0x593+0x24d*-0x6;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x51ac6e,_0x17c30f,_0x430638){c(this,'renderVers'+'ionUpdated',-(0x2330+0x364+-0x18b*0x19)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x51ac6e,this['format']=_0x17c30f,this['dirty']=!(0x4*-0x7e+-0x243e+0x2636),this['impl']=_0x51ac6e['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x430638,_0x430638&&this['setUniform'+'Buffer'](fp,_0x430638),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x17c30f));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x5868a8,_0x280464){const _0x230001=this['format']['bufferForm'+'atsMap']['get'](_0x5868a8);v['assert'](_0x230001!==void(-0x2*-0x4bf+0x1ccd+-0x264b),'Setting\x20a\x20'+'uniform\x20['+_0x5868a8+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x230001]!==_0x280464&&(this['uniformBuf'+'fers'][_0x230001]=_0x280464,this['dirty']=!(0x124c+0x2*-0x49+-0x11ba));}['setStorage'+'Buffer'](_0x1d0666,_0x157df2){const _0x36006a=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x1d0666);v['assert'](_0x36006a!==void(0x1e21+-0x227f*-0x1+-0x20*0x205),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x1d0666+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x36006a]!==_0x157df2&&(this['storageBuf'+'fers'][_0x36006a]=_0x157df2,this['dirty']=!(0xb*0x296+-0x48*0x58+-0x3b2));}['setTexture'](_0x5c499e,_0x2af1a9){const _0x5c03bf=this['format']['textureFor'+'matsMap']['get'](_0x5c499e);v['assert'](_0x5c03bf!==void(-0x3bb*-0x1+-0x91*-0x2b+0x2cf*-0xa),'Setting\x20a\x20'+'texture\x20['+_0x5c499e+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x5c03bf]!==_0x2af1a9?(this['textures'][_0x5c03bf]=_0x2af1a9,this['dirty']=!(-0x1128+0x4a2*-0x6+0x2cf4)):this['renderVers'+'ionUpdated']<_0x2af1a9['renderVers'+'ionDirty']&&(this['dirty']=!(0x1de9+0x899+-0x1341*0x2));}['setStorage'+'Texture'](_0x54e8d8,_0x2bf46d){const _0x1564ef=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x54e8d8);v['assert'](_0x1564ef!==void(0x1*0x3a4+-0xdf9+0x211*0x5),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x54e8d8+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x1564ef]!==_0x2bf46d?(this['storageTex'+'tures'][_0x1564ef]=_0x2bf46d,this['dirty']=!(-0x1*-0x506+-0x2700+0x21fa)):this['renderVers'+'ionUpdated']<_0x2bf46d['renderVers'+'ionDirty']&&(this['dirty']=!(-0x25*0x5e+0x76f*-0x1+0x1505));}['updateUnif'+'ormBuffers'](){for(let _0x2eb226=0x1876+-0xdd5*0x2+-0x5*-0xa4;_0x2eb226<this['uniformBuf'+'fers']['length'];_0x2eb226++)this['uniformBuf'+'fers'][_0x2eb226]['update']();}['update'](){const {textureFormats:_0xc58ab9,storageTextureFormats:_0x1ce3d4,storageBufferFormats:_0x41d6ae}=this['format'];for(let _0x27648a=0x1*0x5b3+-0xfe1+0xa2e;_0x27648a<_0xc58ab9['length'];_0x27648a++){const _0x4d43a3=_0xc58ab9[_0x27648a];let _0x32e3e1=_0x4d43a3['scopeId']['value'];_0x32e3e1||(_0x4d43a3['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x32e3e1=en(this['device'],'white')),_0x4d43a3['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x32e3e1=en(this['device'],'pink')),_0x32e3e1||(v['errorOnce']('Texture\x20'+_0x4d43a3['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x32e3e1=en(this['device'],'pink'))),this['setTexture'](_0x4d43a3['name'],_0x32e3e1);}for(let _0x20b5ef=-0x25cf+-0x1b18+0x40e7;_0x20b5ef<_0x1ce3d4['length'];_0x20b5ef++){const _0xf3cf10=_0x1ce3d4[_0x20b5ef],_0x2104d8=_0xf3cf10['scopeId']['value'];v['assert'](_0x2104d8,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0xf3cf10['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0xf3cf10['name'],_0x2104d8);}for(let _0x44e554=-0x1fd3+-0x260a+0x45dd;_0x44e554<_0x41d6ae['length'];_0x44e554++){const _0x220e4d=_0x41d6ae[_0x44e554],_0x5019e6=_0x220e4d['scopeId']['value'];v['assert'](_0x5019e6,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x220e4d['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x220e4d['name'],_0x5019e6);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x41ad80=-0x2b6+0x223e*-0x1+-0x35c*-0xb;_0x41ad80<this['uniformBuf'+'fers']['length'];_0x41ad80++){const _0x385d2a=this['uniformBuf'+'fers'][_0x41ad80];this['uniformBuf'+'ferOffsets'][_0x41ad80]=_0x385d2a['offset'],this['renderVers'+'ionUpdated']<_0x385d2a['renderVers'+'ionDirty']&&(this['dirty']=!(-0xb98+-0x5*-0x1d+-0xb07*-0x1));}this['dirty']&&(this['dirty']=!(-0x16dd*-0x1+0x1dc8+-0x34a4),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x3cdb5a,_0x3ae111,_0x146e98,_0x190be8=0xa*0x236+0x7*0x7c+-0x197f){return _0x3cdb5a&~(_0x190be8<<_0x146e98)|_0x3ae111<<_0x146e98;},'get'(_0x189192,_0x4ec63e,_0x10a5c8=-0xce2*0x3+0x2359+0x1*0x34e){return _0x189192>>_0x4ec63e&_0x10a5c8;},'all'(_0x55ce52,_0x4746ce,_0x588187=0xb8*-0x32+0x1492*-0x1+0x3883){const _0x4cf815=_0x588187<<_0x4746ce;return(_0x55ce52&_0x4cf815)===_0x4cf815;},'any'(_0x274c12,_0x230794,_0x4f85f9=-0x1*-0x120b+0x36*0x13+-0x160c){return(_0x274c12&_0x4f85f9<<_0x230794)!==-0x130c+-0x1159+-0x4d*-0x79;}},xl=-0x998*-0x1+-0x1*-0x1145+-0x1ad6,Vi=0x1c79*0x1+0xb0e+-0x2778,dm=-0xacf+0x1*0x21f+0x458*0x2,um=-0x13cd+0x80b+0xbc5,fm=-0xae*-0x2+-0x19a6+-0x81b*-0x3,pm=-0xd*0x29e+0x1*-0x13d5+0x35e6,mm=0x3a3*0x2+0x2506+0x7*-0x652,_m=-0x1b2d+-0x1ce8+0x3827,Cu=-0x1*0xbd3+-0x11fd+0x1de6,gm=-0x1e5*0xb+-0x2019*0x1+0x3507,ym=0x2*0x2a1+-0x26a2*0x1+0x18*0x165,xm=-0x13ba+0x1557+0x184*-0x1,Sm=0x1cac*-0x1+0x1d46+-0x80,Dv=0x6*0x173+-0x7*0x64+-0x1*0x5e7,Lv=Cu,zs=class zs{constructor(_0x4dbb95=!(0x1*-0x277+-0xdf8+0x838*0x2),_0x2aed74=Lt,_0x20f714=at,_0x204c2b=kf,_0x219569,_0x59cac0,_0x1c5c3e,_0x4424e0=!(-0x23b1+-0x3*0x2b+0x2432),_0x4a6825=!(-0xc95*-0x2+-0x1503+-0x427*0x1),_0x4f9641=!(0x1288*0x2+0x3*0x178+0x8*-0x52f),_0x32e5b6=!(-0x3*-0x192+-0xb1*-0x23+-0x9a3*0x3)){c(this,'target0',-0x1*-0x229f+0x3c5+0x15f*-0x1c),(this['setColorBl'+'end'](_0x2aed74,_0x20f714,_0x204c2b),this['setAlphaBl'+'end'](_0x219569??_0x2aed74,_0x59cac0??_0x20f714,_0x1c5c3e??_0x204c2b),this['setColorWr'+'ite'](_0x4424e0,_0x4a6825,_0x4f9641,_0x32e5b6),this['blend']=_0x4dbb95);}set['blend'](_0x595581){this['target0']=Oe['set'](this['target0'],_0x595581?-0x605+0x16c0+-0x10ba:0x5*0x569+0xbeb+-0x26f8,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x5c503c,_0x2a3ba7,_0x1b43d0){this['target0']=Oe['set'](this['target0'],_0x5c503c,dm,xl),this['target0']=Oe['set'](this['target0'],_0x2a3ba7,um,Vi),this['target0']=Oe['set'](this['target0'],_0x1b43d0,fm,Vi);}['setAlphaBl'+'end'](_0x32233c,_0x3fcde5,_0x491bfa){this['target0']=Oe['set'](this['target0'],_0x32233c,pm,xl),this['target0']=Oe['set'](this['target0'],_0x3fcde5,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x491bfa,_m,Vi);}['setColorWr'+'ite'](_0x18fb2c,_0xba2d0d,_0x23b963,_0x26dd67){this['redWrite']=_0x18fb2c,this['greenWrite']=_0xba2d0d,this['blueWrite']=_0x23b963,this['alphaWrite']=_0x26dd67;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x1ba21c){this['target0']=Oe['set'](this['target0'],_0x1ba21c?0x525*-0x7+-0x218c+0x18*0x2e6:0x184f+-0x75*0x9+0x16*-0xeb,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0x351fad){this['target0']=Oe['set'](this['target0'],_0x351fad?0x1d21*-0x1+0x152b+0x7f7:0x165a+-0x15+0x1645*-0x1,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0x538ef2){this['target0']=Oe['set'](this['target0'],_0x538ef2?0x13eb+0x14d3+-0x28bd:0x2409+0xf07+-0x2b0*0x13,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x316a13){this['target0']=Oe['set'](this['target0'],_0x316a13?0x1*0xdf3+-0x1127*-0x1+-0x1a3*0x13:0x2208+0x2*-0x515+-0x17de,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x380767){return this['target0']=_0x380767['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x4a2807){return this['target0']===_0x4a2807['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(-0x1031*-0x2+0x2087+-0x40e9),void(0x1515+-0x593*0x1+-0xf82),void(-0x1d27+-0x4b6*-0x1+0x1871*0x1),void(0x2533+0x58f*0x1+0x2ac2*-0x1),void(0x434*-0x2+-0xfda+0x1842),void(0xf2e+-0x16cc+0x79e),void(0x59*0x3a+0x10a3+-0x24cd),!(-0x1*0x1eef+0x276+-0x2d*-0xa2),!(0x212d+0xdc5+0xc5*-0x3d),!(0x1b05+-0x1cb1+0x1ad),!(-0xb81+-0x12a1*0x1+-0x5*-0x607)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(0x2dd*0x3+0x5*-0x64b+0x16e*0x10),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(0x2*-0xaa1+-0x117*-0x7+-0xda1*-0x1),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',0x209f+0x16ba*0x1+0x3*-0x1273);}['get'](_0x331f1c){let _0x5bbe26=this['map']['get'](_0x331f1c);return _0x5bbe26===void(0x237c+-0x42d*-0x6+-0x3c8a)&&(_0x5bbe26=this['id']++,this['map']['set'](_0x331f1c,_0x5bbe26)),_0x5bbe26;}}const Fv=new _p(),vm=-0xfc0+0x1a9d*-0x1+0xa99*0x4,bm=-0x1*0x1966+0x4e3+0x1483,wm=-0x766*0x4+-0x59*-0x8+0x1ad3,Zi=class Zi{constructor(_0x3f3a63=fu,_0x77e5b8=!(0x4*-0x251+-0x6a3+0xb1*0x17)){c(this,'data',0x9b0+-0x2*0xd05+-0x82d*-0x2),c(this,'_depthBias',0x1*-0x1d14+0x146b*-0x1+0x317f),c(this,'_depthBias'+'Slope',-0x7ef+0x19ab*0x1+-0x11bc),c(this,'key',-0x1a0+0x1c7*-0x13+-0x29*-0xdd),(this['func']=_0x3f3a63,this['write']=_0x77e5b8);}set['test'](_0x51d808){this['func']=_0x51d808?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x1d4671){this['data']=Oe['set'](this['data'],_0x1d4671?-0x9af+0x174*0xb+-0x64c:-0x1831+-0xce4+0x2515,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0x1f637b){this['data']=Oe['set'](this['data'],_0x1f637b,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x10f0de){this['_depthBias']=_0x10f0de,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x51a8f9){this['_depthBias'+'Slope']=_0x51a8f9,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0xb7173f){return this['data']=_0xb7173f['data'],this['_depthBias']=_0xb7173f['_depthBias'],this['_depthBias'+'Slope']=_0xb7173f['_depthBias'+'Slope'],this['key']=_0xb7173f['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x2d9024,_depthBias:_0xe60a6b,_depthBiasSlope:_0x14201d}=this,_0x2be647=_0x2d9024+'-'+_0xe60a6b+'-'+_0x14201d;this['key']=Fv['get'](_0x2be647);}['equals'](_0x3311c3){return this['key']===_0x3311c3['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(-0xc31+0xa*-0x28d+0x13*0x1fc)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(0x59f+0x642+-0xbe1))));let as=Zi;class Ky{constructor(){c(this,'globalId',-0x1562+-0x23b2+-0x1*-0x3914),c(this,'revision',-0xb*0x1bb+-0x114a+0x2453);}['equals'](_0xf0057e){return this['globalId']===_0xf0057e['globalId']&&this['revision']===_0xf0057e['revision'];}['copy'](_0x46b459){this['globalId']=_0x46b459['globalId'],this['revision']=_0x46b459['revision'];}['reset'](){this['globalId']=-0xcca*-0x3+0x68f+0x1f*-0x173,this['revision']=0x1d*-0x71+-0x19+0xce6;}}let Tm=-0x26b7+-0x1372+0x3a29;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x5e3f79){this['name']=_0x5e3f79,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x1242c8){}['setValue'](_0x2711be){this['value']=_0x2711be,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x19a140){this['name']=_0x19a140,this['variables']=new Map();}['resolve'](_0x16323d){return this['variables']['has'](_0x16323d)||this['variables']['set'](_0x16323d,new kv(_0x16323d)),this['variables']['get'](_0x16323d);}['removeValu'+'e'](_0x153bbf){for(const _0x50792c in this['variables']){const _0x1b1b24=this['variables'][_0x50792c];_0x1b1b24['value']===_0x153bbf&&(_0x1b1b24['value']=null);}}}let Nv=0xb*0x17+-0x5a6*0x3+0x5f*0x2b;class os{constructor(_0x2a8391,_0x22a485,_0x352358,_0x403cf7){c(this,'usage',jt),(v['assert'](arguments['length']<=0x2275+-0x614+0x35*-0x89&&(!_0x403cf7||typeof _0x403cf7=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x403cf7==null?void(-0x2c6*-0x3+-0x1199+-0x13*-0x7d):_0x403cf7['usage'])??jt,this['device']=_0x2a8391,this['format']=_0x22a485,this['numVertice'+'s']=_0x352358,this['id']=Nv++,this['impl']=_0x2a8391['createVert'+'exBufferIm'+'pl'](this,_0x22a485,_0x403cf7),this['numBytes']=_0x22a485['verticesBy'+'teSize']?_0x22a485['verticesBy'+'teSize']:_0x22a485['size']*_0x352358,this['adjustVram'+'SizeTracki'+'ng'](_0x2a8391['_vram'],this['numBytes']));const _0x23f510=_0x403cf7==null?void(0x4d9*-0x3+0x4db+-0x50*-0x1f):_0x403cf7['data'];_0x23f510?this['setData'](_0x23f510):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x5e4324=this['device'],_0x1b2a7e=_0x5e4324['buffers']['indexOf'](this);_0x1b2a7e!==-(-0x11*-0x27+0x2266+0x127e*-0x2)&&_0x5e4324['buffers']['splice'](_0x1b2a7e,0x42f+-0x4f*-0x32+-0x14*0xfb),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x5e4324),this['adjustVram'+'SizeTracki'+'ng'](_0x5e4324['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x49e00a,_0xa34bed){v['trace'](Zx,this['id']+'\x20size:\x20'+_0xa34bed+'\x20vram.vb:\x20'+_0x49e00a['vb']+'\x20=>\x20'+(_0x49e00a['vb']+_0xa34bed)),_0x49e00a['vb']+=_0xa34bed;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x2b8518){return _0x2b8518['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x2b8518['byteLength']),!(0x1*0x18a6+-0x1b9c+0x2f7)):(this['storage']=_0x2b8518,this['unlock'](),!(0x3*0x1cd+-0x16f*-0x17+-0x2660));}}function hn(_0x27ad91){if(_0x27ad91==null)return-0x2*-0xedc+0x1*-0xcb6+-0x1102;let _0xcdb185=0x25e6+-0x433+-0x1*0x21b3;for(let _0x10bdc4=-0x1c5b+0x12bf+0x99c,_0x54d9a3=_0x27ad91['length'];_0x10bdc4<_0x54d9a3;_0x10bdc4++)_0xcdb185=(_0xcdb185<<0x1594+0xa3d+-0x197*0x14)-_0xcdb185+_0x27ad91['charCodeAt'](_0x10bdc4),_0xcdb185|=0xbba+-0x2173+0x53*0x43;return _0xcdb185;}function Zy(_0x26d85b){let _0xd1461d=0x7f07*0xf926+-0x2a89f8f1*0x5+0xda2dd070;for(let _0x4411c2=0x58*-0x37+0x10cd+0xb*0x31;_0x4411c2<_0x26d85b['length'];_0x4411c2++)_0xd1461d^=_0x26d85b[_0x4411c2],_0xd1461d*=0xe1339+0x5*0x436162+-0x3*0x1fa830;return _0xd1461d>>>-0x1*0x16e1+-0xa61*0x3+0x3604;}const zv=new _p(),Uv=[0x1*0x1b79+0x44*0x5b+-0x33a3,-0x1afa*0x1+0x1*-0x757+0xb*0x31f,0xded+0xa84+-0x1869,0xa*-0xdd+0x1a75+-0x3*0x5ed,0x2e6*0x1+0x63e*-0x6+0x229e],Vv=new Ot();class Et{constructor(_0x458a7d,_0x35e6b3,_0x18bb1b){this['device']=_0x458a7d,this['_elements']=[],this['hasUv0']=!(-0x1*0x215e+0xaea+0x1675),this['hasUv1']=!(-0x14f4+0x755+0xda0),this['hasColor']=!(-0x120b+0x1a05+-0x7f9),this['hasTangent'+'s']=!(0x1222+0x232f+-0x3550),this['verticesBy'+'teSize']=-0x129b+0x21dd*-0x1+0x3478,this['vertexCoun'+'t']=_0x18bb1b,this['interleave'+'d']=_0x18bb1b===void(-0x11af+0x3*0xb42+0x1017*-0x1),this['instancing']=!(-0x24aa+-0x294*-0xd+0x327),this['size']=_0x35e6b3['reduce']((_0xff59f7,_0x3f3e67)=>_0xff59f7+Math['ceil'](_0x3f3e67['components']*_o[_0x3f3e67['type']]/(-0x1c*0x93+-0x1*0x1433+-0x1*-0x244b))*(-0x233a+-0xeff+0x323d),0x904+-0x1*0x118a+0x886);let _0x32939a=-0x1c8e+0x1*-0x71+0x1*0x1cff,_0x5e0844;for(let _0x273079=0x6f*-0x3f+0xeb9+-0x4*-0x326,_0x20301f=_0x35e6b3['length'];_0x273079<_0x20301f;_0x273079++){const _0x2756eb=_0x35e6b3[_0x273079];_0x5e0844=_0x2756eb['components']*_o[_0x2756eb['type']],v['assert'](Et['isElementV'+'alid'](_0x458a7d,_0x2756eb),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x2756eb['semantic']+'\x20:\x20'+Sv[_0x2756eb['type']]+'\x20x\x20'+_0x2756eb['components']),_0x18bb1b&&(_0x32939a=N['roundUp'](_0x32939a,_0x5e0844),v['assert'](_0x5e0844%(-0x79*-0x1a+0x11b5*-0x2+0x1724)===-0x2254+0x1dac+0x12a*0x4,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x5e0844));const _0x232bff=_0x2756eb['asInt']??!(-0x1*-0x1545+0x1*0x1277+-0x27bb),_0x178097=_0x232bff?!(-0x1686+0x2d7+-0x10*-0x13b):_0x2756eb['normalize']??!(0x25*-0xc5+0xb34+-0x86*-0x21),_0x5122ee={'name':_0x2756eb['semantic'],'offset':_0x18bb1b?_0x32939a:_0x2756eb['hasOwnProp'+'erty']('offset')?_0x2756eb['offset']:_0x32939a,'stride':_0x18bb1b?_0x5e0844:_0x2756eb['hasOwnProp'+'erty']('stride')?_0x2756eb['stride']:this['size'],'dataType':_0x2756eb['type'],'numComponents':_0x2756eb['components'],'normalize':_0x178097,'size':_0x5e0844,'asInt':_0x232bff};this['_elements']['push'](_0x5122ee),_0x18bb1b?_0x32939a+=_0x5e0844*_0x18bb1b:_0x32939a+=Math['ceil'](_0x5e0844/(-0x1*-0x2527+0xb2*-0x29+-0x8a1))*(0x1d2a+-0x2c6*-0x4+-0x283e),_0x2756eb['semantic']===ns?this['hasUv0']=!(0x8b*-0x34+0x6f1*-0x1+-0x232d*-0x1):_0x2756eb['semantic']===_n?this['hasUv1']=!(-0x22d1+0x13d5+0xefc*0x1):_0x2756eb['semantic']===At?this['hasColor']=!(-0x1bf8+-0x1b6b+0x3763):_0x2756eb['semantic']===Zs&&(this['hasTangent'+'s']=!(0xd06+0x3*-0x2f9+-0x41b*0x1));}_0x18bb1b&&(this['verticesBy'+'teSize']=_0x32939a),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x43773d){return Vv['get'](_0x43773d,()=>new Et(_0x43773d,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x4fd595,_0x11549c){const _0x16c296=_0x11549c['components']*_o[_0x11549c['type']];return!(_0x4fd595['isWebGPU']&&!Uv['includes'](_0x16c296));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x14016d=[],_0xaa760c=[],_0x5f4da7=this['_elements']['length'];for(let _0x3a3341=-0x1364+-0x1*0x1d13+0x3077;_0x3a3341<_0x5f4da7;_0x3a3341++){const {name:_0x636569,dataType:_0x3c67cb,numComponents:_0x117abf,normalize:_0x3d26ce,offset:_0xd9cf30,stride:_0x4840bb,size:_0x54e925,asInt:_0x4034e4}=this['_elements'][_0x3a3341],_0xf1bb8b=_0x636569+_0x3c67cb+_0x117abf+_0x3d26ce+_0x4034e4;_0x14016d['push'](_0xf1bb8b);const _0x296ec3=_0xf1bb8b+_0xd9cf30+_0x4840bb+_0x54e925;_0xaa760c['push'](_0x296ec3);}_0x14016d['sort']();const _0x8c2ada=_0x14016d['join']();this['batchingHa'+'sh']=hn(_0x8c2ada),this['shaderProc'+'essingHash'+'String']=_0x8c2ada,this['renderingH'+'ashString']=_0xaa760c['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x433d57={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(-0xac5*0x2+0x2e5+0x12a5)),c(this,'_key'),(this['_func']=_0x433d57['func']??Ai,this['_ref']=_0x433d57['ref']??0x23*0x3+0x1*-0x22cd+0x47*0x7c,this['_readMask']=_0x433d57['readMask']??0x1f40+0x9c9+0x280a*-0x1,this['_writeMask']=_0x433d57['writeMask']??0x1a24*-0x1+0x1c5f+-0x9e*0x2,this['_fail']=_0x433d57['fail']??ha,this['_zfail']=_0x433d57['zfail']??ha,this['_zpass']=_0x433d57['zpass']??ha,this['_evalKey']());}set['func'](_0x2e2f6e){this['_func']=_0x2e2f6e,this['_dirty']=!(-0x5a2+-0x419*-0x4+-0xac2);}get['func'](){return this['_func'];}set['ref'](_0x444a73){this['_ref']=_0x444a73,this['_dirty']=!(-0x38c*0x9+-0x293*-0xd+-0x18b);}get['ref'](){return this['_ref'];}set['fail'](_0x221c96){this['_fail']=_0x221c96,this['_dirty']=!(0x960+-0x233b*0x1+-0x19db*-0x1);}get['fail'](){return this['_fail'];}set['zfail'](_0xacab8e){this['_zfail']=_0xacab8e,this['_dirty']=!(-0x1fbb*-0x1+-0x255f+-0x2*-0x2d2);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x32ad82){this['_zpass']=_0x32ad82,this['_dirty']=!(-0x1330+0x2439+-0x1109);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x57873e){this['_readMask']=_0x57873e,this['_dirty']=!(0x1*0x3be+-0x5*-0x347+-0x1421);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x25e6d7){this['_writeMask']=_0x25e6d7,this['_dirty']=!(0x1bdc+-0x1514+-0x6c8);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x416d8c,_ref:_0x2face2,_fail:_0x22ef26,_zfail:_0x2c8f52,_zpass:_0x1fb3e4,_readMask:_0x26d91d,_writeMask:_0x70d526}=this,_0x5697b2=_0x416d8c+','+_0x2face2+','+_0x22ef26+','+_0x2c8f52+','+_0x1fb3e4+','+_0x26d91d+','+_0x70d526;this['_key']=Gv['get'](_0x5697b2),this['_dirty']=!(-0x208c+-0x1*-0x13bb+0xcd2);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x45290d){return this['_func']=_0x45290d['_func'],this['_ref']=_0x45290d['_ref'],this['_readMask']=_0x45290d['_readMask'],this['_writeMask']=_0x45290d['_writeMask'],this['_fail']=_0x45290d['_fail'],this['_zfail']=_0x45290d['_zfail'],this['_zpass']=_0x45290d['_zpass'],this['_dirty']=_0x45290d['_dirty'],this['_key']=_0x45290d['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x9f20a3,_0x2ce638){var _0x165634,_0x45a2af,_0x8032b9,_0xc07b90,_0x497e7d,_0x52a8ec;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(0x22a2+0x2559+-0x47fa)),c(this,'isWebGPU',!(0x1c57*0x1+0x167*0x7+0x1*-0x2627)),c(this,'isWebGL2',!(0x202c+0x14d+0x1*-0x2178)),c(this,'isHdr',!(-0xd80+-0x243+0xfc4)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',-0x15be+-0x654+0x1c13),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',-0x410+-0x14a0+-0x31*-0x81),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0x11d7+-0x1b*0x6b+0x2b*-0x27)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0x1*-0x2f5+-0x2*-0x55d+-0xdae)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',0x7*0x1ee+0x9*-0x321+0xea7),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(-0x6a*-0x33+0xf50+-0x246d)),c(this,'supportsUn'+'iformBuffe'+'rs',!(0xf5f+0x158+-0x10b6)),c(this,'supportsCl'+'ipDistance'+'s',!(0xd*-0x229+-0x1408+0x301e)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(0x226f*0x1+0xf3c+-0x31aa)),c(this,'textureFlo'+'atFilterab'+'le',!(-0x3*0x4fc+-0x437+-0x996*-0x2)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(0x97e+-0x286*0x1+-0x6f7)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[-0x17*-0xef+0xb89*-0x3+0xd22,0x915+-0x3bf*0x3+0xc*0x2e,-0x1a0a+0x1729+0x2e1,0x16aa*0x1+0x10*-0xf4+-0x769],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(-0x1*0x153d+0x1ec6+0x262*-0x4)),(this['canvas']=_0x9f20a3,this['initOption'+'s']={..._0x2ce638},(_0x165634=this['initOption'+'s'])['alpha']??(_0x165634['alpha']=!(0xbc9+-0xf2e+0x365)),(_0x45a2af=this['initOption'+'s'])['depth']??(_0x45a2af['depth']=!(-0x34d*-0xb+0x19*-0xbe+0x9*-0x1f9)),(_0x8032b9=this['initOption'+'s'])['stencil']??(_0x8032b9['stencil']=!(-0x89f*-0x2+0x85*-0x1f+-0x123)),(_0xc07b90=this['initOption'+'s'])['antialias']??(_0xc07b90['antialias']=!(-0xc23+-0x92*0x44+-0x4f*-0xa5)),(_0x497e7d=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x497e7d['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x52a8ec=this['initOption'+'s'])['displayFor'+'mat']??(_0x52a8ec['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](0x5*0x78d+-0xc0*-0x6+-0x2a40,window['devicePixe'+'lRatio']):0x1d0e+0x125*0x1e+0x1*-0x3f63,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x181*-0x4+0x11b3+-0x3e5*0x3,this['_shaderSwi'+'tchesPerFr'+'ame']=0x1*-0x204+-0x1395+0x1599,this['_primsPerF'+'rame']=[]);for(let _0x24d22b=Mc;_0x24d22b<=Yr;_0x24d22b++)this['_primsPerF'+'rame'][_0x24d22b]=0x6fd+0x1d9c+0x15b*-0x1b;this['_renderTar'+'getCreatio'+'nTime']=0x3*-0x6d9+0x2*0xe99+-0x8a7,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0xf05*-0x1+0xe*0x15b+-0x21ff);}['postInit'](){const _0x4d681e=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0x13a771=new Float32Array([-(0x1297*-0x1+0x7bd+0xadb),-(-0x278+-0x8*0x308+0x1*0x1ab9),-0x2*0x76d+-0x24+0xb*0x15d,-(-0x1a61+0x1a68+-0x6),-(0x265*-0x1+0xaf3+-0x88d),-0xaec+-0x88e+-0x1*-0x137b,-0x7f9+0x2552+-0x2*0xeac,-0x179*0x19+-0x1bae+-0x2b*-0x180]);this['quadVertex'+'Buffer']=new os(this,_0x4d681e,0x2d7*0xb+0x1*-0x14f1+0x1c*-0x5e,{'data':_0x13a771});}['destroy'](){var _0x5466be,_0x3b0ab0,_0x1e6044;this['fire']('destroy'),(_0x5466be=this['quadVertex'+'Buffer'])==null||_0x5466be['destroy'](),this['quadVertex'+'Buffer']=null,(_0x3b0ab0=this['dynamicBuf'+'fers'])==null||_0x3b0ab0['destroy'](),this['dynamicBuf'+'fers']=null,(_0x1e6044=this['gpuProfile'+'r'])==null||_0x1e6044['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x2a2cc1){this['fire']('destroy:sh'+'ader',_0x2a2cc1);const _0xf5d137=this['shaders']['indexOf'](_0x2a2cc1);_0xf5d137!==-(0x1a98+-0x1bc4+0x7*0x2b)&&this['shaders']['splice'](_0xf5d137,-0x2*-0x479+-0x2143+0x1852);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x3625b3;this['contextLos'+'t']=!(0x2645+-0x167a+-0xfcb),this['backBuffer'+'Size']['set'](-(0x1db5+-0x32*-0x2f+-0x26e2),-(-0x1373*0x1+0x355+0x101f));for(const _0x2ade53 of this['textures'])_0x2ade53['loseContex'+'t']();for(const _0x5319e4 of this['buffers'])_0x5319e4['loseContex'+'t']();for(const _0x81bc71 of this['targets'])_0x81bc71['loseContex'+'t']();(_0x3625b3=this['gpuProfile'+'r'])==null||_0x3625b3['loseContex'+'t']();}['restoreCon'+'text'](){var _0x3a8485,_0x753059;this['contextLos'+'t']=!(0xaa2+0x2*-0xff2+0x1*0x1543),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x347d2f of this['buffers'])_0x347d2f['unlock']();(_0x753059=(_0x3a8485=this['gpuProfile'+'r'])==null?void(0xa39*-0x1+0xa6e+-0x35*0x1):_0x3a8485['restoreCon'+'text'])==null||_0x753059['call'](_0x3a8485);}['toJSON'](_0x597472){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0x16d3+0x4*0x6f3+-0x329f),this['shaderAsyn'+'cCompile']=!(0x1b40+0x2ae*0x1+-0x1ded),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=0x19be+-0x24b8+-0x119*-0xa,this['sx']=this['sy']=this['sw']=this['sh']=-0x44*-0x10+-0x1070+0xc30,this['blendColor']=new Y(-0x2*-0xfa3+-0x580+-0x19c6,-0x1*0xdcc+-0x25f*0x1+0x102b,0x1*0x1d2+0x1eac+-0x103f*0x2,0x15f3*0x1+-0x18be+0xb*0x41);}['setStencil'+'State'](_0x3d1fc0,_0x341e5d){v['assert'](!(-0x18a7*-0x1+-0x1*0xebd+-0x3b*0x2b));}['setBlendSt'+'ate'](_0x3db87b){v['assert'](!(0x11f8+0x13d9+-0x25d0));}['setBlendCo'+'lor'](_0x658458,_0x3bc18d,_0x18074a,_0x521a4b){v['assert'](!(-0x21ad+0x11c4+0xfea));}['setDepthSt'+'ate'](_0x216eeb){v['assert'](!(0x450+0x2*-0xfbb+0x1b27));}['setCullMod'+'e'](_0xca3d95){v['assert'](!(-0x1*-0x1186+-0x1365*-0x2+-0x384f));}['setRenderT'+'arget'](_0x596a78){this['renderTarg'+'et']=_0x596a78;}['setIndexBu'+'ffer'](_0x226303){this['indexBuffe'+'r']=_0x226303;}['setVertexB'+'uffer'](_0x2c7229){_0x2c7229&&this['vertexBuff'+'ers']['push'](_0x2c7229);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0x1b3e+0x1232+0x90c;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x3bd0b4){if(_0x3bd0b4['initialize'+'d'])return;const _0x339db2=ne();this['fire']('fbo:create',{'timestamp':_0x339db2,'target':this}),_0x3bd0b4['init'](),this['targets']['add'](_0x3bd0b4),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x339db2;}['_isBrowser'+'Interface'](_0x5c1253){return this['_isImageBr'+'owserInter'+'face'](_0x5c1253)||this['_isImageCa'+'nvasInterf'+'ace'](_0x5c1253)||this['_isImageVi'+'deoInterfa'+'ce'](_0x5c1253);}['_isImageBr'+'owserInter'+'face'](_0x2f1488){return typeof ImageBitmap<'u'&&_0x2f1488 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x2f1488 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x20d96d){return typeof HTMLCanvasElement<'u'&&_0x20d96d instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x1d72a6){return typeof HTMLVideoElement<'u'&&_0x1d72a6 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x2adb52,_0x1244dd){const _0x260d47=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:-0x14ac+0x233b+-0xe8e),_0xedc8af=Math['floor'](_0x2adb52*_0x260d47),_0x6d7a16=Math['floor'](_0x1244dd*_0x260d47);(_0xedc8af!==this['canvas']['width']||_0x6d7a16!==this['canvas']['height'])&&this['setResolut'+'ion'](_0xedc8af,_0x6d7a16);}['setResolut'+'ion'](_0x5bf6f1,_0x314283){this['canvas']['width']=_0x5bf6f1,this['canvas']['height']=_0x314283,this['fire'](nc['EVENT_RESI'+'ZE'],_0x5bf6f1,_0x314283);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x11ad17=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x11ad17['width'],this['clientRect']['height']=_0x11ad17['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x19453d){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x1*-0x8ad+-0x46d+-0x3d*-0x37);}set['maxPixelRa'+'tio'](_0x7edb72){this['_maxPixelR'+'atio']=_0x7edb72;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x144def){}['endRenderP'+'ass'](_0x3d1ab3){}['startCompu'+'tePass'](_0x229774){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0xbf6+-0x26e2+0x4*0xcb6,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x4e8fc7=this['textures']['slice']();_0x4e8fc7['sort']((_0x1f7e1b,_0x5c08ca)=>_0x5c08ca['gpuSize']-_0x1f7e1b['gpuSize']),v['log']('Textures:\x20'+_0x4e8fc7['length']);let _0x37575f=0x485*-0x5+0x1*0x923+0xd76;_0x4e8fc7['forEach']((_0x211708,_0x530d3e)=>{const _0x5b43bc=_0x211708['gpuSize'];_0x37575f+=_0x5b43bc,v['log'](_0x530d3e+'.\x20'+_0x211708['name']+'\x20'+_0x211708['width']+'x'+_0x211708['height']+'\x20VRAM:\x20'+(_0x5b43bc/(-0x25a3+0x66e+0x2335)/(-0x5*-0x43+0x10*0x1b1+0x185f*-0x1))['toFixed'](-0x2303*0x1+-0x2630+0x4935)+'\x20MB');}),v['log']('Total:\x20'+(_0x37575f/(0x1*0x22e5+-0x20b3+-0x1ce*-0x1)/(0x614+-0x975+0x761))['toFixed'](0xde+-0x1b91+-0x3*-0x8e7)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x4c71c2,_0x38a16c='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x2eef9e=[_a,Je,Ke],_0x1e037d=!(0x16e+-0x1685*0x1+0x1517),_0x2c2577=0x3d*-0x69+0x7a2+0x1c*0x9f){for(let _0x4825ff=-0xb7*-0xb+-0x5*-0x295+-0x14c6;_0x4825ff<_0x2eef9e['length'];_0x4825ff++){const _0x33eda2=_0x2eef9e[_0x4825ff];switch(_0x33eda2){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x33eda2;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x33eda2;break;case Ke:if(this['isWebGPU']&&_0x2c2577>-0x1*0x44e+-0x2*-0x7f1+-0xb93)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x1e037d||this['textureFlo'+'atFilterab'+'le']))return _0x33eda2;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=0x8e*0x45+0x26ee+-0x4d34;class pt{constructor(_0x1a4bb4={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x238d07,_0x4d9e95,_0xf1df74,_0x4e7f92,_0x3859ae,_0x42875e;v['assert'](!(_0x1a4bb4 instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x3ae2c7=((_0x238d07=_0x1a4bb4['colorBuffe'+'r'])==null?void(0xa47+0x19f9*-0x1+0x7*0x23e):_0x238d07['device'])??((_0x4d9e95=_0x1a4bb4['colorBuffe'+'rs'])==null?void(0xa66+-0x1*0x191b+0xeb5):_0x4d9e95[0x1*0x1271+-0x272*-0xd+-0x323b]['device'])??((_0xf1df74=_0x1a4bb4['depthBuffe'+'r'])==null?void(0xe*0x266+0x5*0x37a+-0x251*0x16):_0xf1df74['device'])??_0x1a4bb4['graphicsDe'+'vice'];v['assert'](_0x3ae2c7,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x3ae2c7;const {maxSamples:_0x17229b}=this['_device'];if(this['_samples']=Math['min'](_0x1a4bb4['samples']??-0x2*-0x515+0x1a2b+-0xa*0x3a2,_0x17229b),_0x3ae2c7['isWebGPU']&&(this['_samples']=this['_samples']>0x1*-0x1522+0x1948+0x425*-0x1?_0x17229b:0x8*-0x2e1+-0x1036+0x11*0x24f),this['_colorBuff'+'er']=_0x1a4bb4['colorBuffe'+'r'],_0x1a4bb4['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x1a4bb4['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x1a4bb4['depthBuffe'+'r'],this['_face']=_0x1a4bb4['face']??-0x8d0+-0x29c*-0x8+-0xc10,this['_depthBuff'+'er']){const _0x1eb236=this['_depthBuff'+'er']['_format'];_0x1eb236===Ci||_0x1eb236===la?(this['_depth']=!(0x4*-0x21a+-0xb1b+-0x6f*-0x2d),this['_stencil']=!(0x14a+-0x2ec+0x1*0x1a3)):_0x1eb236===vc?(this['_depth']=!(-0x11*0x1f1+0x1*0xb85+0x1*0x157c),this['_stencil']=!(0x1*-0x1ce1+-0x1581+0x3262)):_0x1eb236===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0x19c1+0x43a+0x2*-0xefd?(this['_depth']=!(0x7a*-0x47+0xaba+0x1d*0xcc),this['_stencil']=!(0x168f+0x6b9*0x2+-0x2400)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x2*-0x885+-0xe1d+-0x2ec),this['_stencil']=!(-0x25e0+-0xb9*-0x19+0x27a*0x8));}else this['_depth']=_0x1a4bb4['depth']??!(-0x2609+0x2*-0x9a1+0x394b),this['_stencil']=_0x1a4bb4['stencil']??!(0x1865+-0x8f*-0x1+-0x18f3);_0x1a4bb4['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x1a4bb4['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x1a4bb4['colorBuffe'+'rs'][-0x55*-0x48+0x14cd+-0x2cb5])),this['autoResolv'+'e']=_0x1a4bb4['autoResolv'+'e']??!(-0x1*-0x1769+0x13f7+-0x2b60),this['name']=_0x1a4bb4['name'],this['name']||(this['name']=(_0x4e7f92=this['_colorBuff'+'er'])==null?void(0x1ead+-0x24b3+0x606):_0x4e7f92['name']),this['name']||(this['name']=(_0x3859ae=this['_depthBuff'+'er'])==null?void(0x2*-0x10c9+0x439*0x9+-0x46f):_0x3859ae['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x1a4bb4['flipY']??!(0x4*0x154+-0x31*0x25+-0x2*-0xe3),this['_mipLevel']=_0x1a4bb4['mipLevel']??-0x13*0x17f+-0x2073+0x3ce0,this['_mipLevel']>0x3fd*-0x1+0x2*-0x4a+0x491&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x1a4bb4}),this['_mipLevel']=-0x135d+0x5d5*0x5+-0x9cc),this['_mipmaps']=_0x1a4bb4['mipLevel']===void(-0x1401+-0x363*0x5+0xc50*0x3),this['validateMr'+'t'](),this['impl']=_0x3ae2c7['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x42875e=this['_colorBuff'+'ers'])!=null&&_0x42875e['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0xcc0302=this['_device'];_0xcc0302&&(_0xcc0302['targets']['delete'](this),_0xcc0302['renderTarg'+'et']===this&&_0xcc0302['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x314138=this['_device'];_0x314138&&this['impl']['destroy'](_0x314138);}['destroyTex'+'tureBuffer'+'s'](){var _0x532aee,_0x275e7b;(_0x532aee=this['_depthBuff'+'er'])==null||_0x532aee['destroy'](),this['_depthBuff'+'er']=null,(_0x275e7b=this['_colorBuff'+'ers'])==null||_0x275e7b['forEach'](_0x160ce0=>{_0x160ce0['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x477fd1,_0x395753){var _0x49f2ef,_0x40b64e;if(this['width']!==_0x477fd1||this['height']!==_0x395753){if(this['mipLevel']>-0x60d*0x1+-0x43*0x4e+0x1a77){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x121e89=this['_device'];this['destroyFra'+'meBuffers'](),_0x121e89['renderTarg'+'et']===this&&_0x121e89['setRenderT'+'arget'](null),(_0x49f2ef=this['_depthBuff'+'er'])==null||_0x49f2ef['resize'](_0x477fd1,_0x395753),(_0x40b64e=this['_colorBuff'+'ers'])==null||_0x40b64e['forEach'](_0x59007a=>{_0x59007a['resize'](_0x477fd1,_0x395753);}),this['validateMr'+'t'](),this['impl']=_0x121e89['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x5d3913,height:_0x4b618f,cubemap:_0x195ce9,volume:_0x2e10fa}=this['_colorBuff'+'ers'][-0x1*-0x132e+0x1*0xfee+-0x231c];for(let _0x417645=0xe+-0xc*-0x1b5+-0x1489;_0x417645<this['_colorBuff'+'ers']['length'];_0x417645++){const _0x3a1364=this['_colorBuff'+'ers'][_0x417645];v['assert'](_0x3a1364['width']===_0x5d3913,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x3a1364['height']===_0x4b618f,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x3a1364['cubemap']===_0x195ce9,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x3a1364['volume']===_0x2e10fa,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x212652=!(-0x264a+0x5*0x9b+0xbc1*0x3),_0x25e596=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0x1*-0x652+0x12a8*-0x2+0x1eff&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x212652?'[color]':'')+':'+(_0x25e596?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x212652,_0x25e596),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x515c6b,_0x3d215c,_0x388ad8){if(!this['_device']){if(_0x515c6b['_device'])this['_device']=_0x515c6b['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x19*-0x127+-0x4*0x1f6+-0x14f6);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x515c6b['name']+'->'+this['name']);const _0xd56d5=this['_device']['copyRender'+'Target'](_0x515c6b,this,_0x3d215c,_0x388ad8);return G['popGpuMark'+'er'](this['_device']),_0xd56d5;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x1f9306){var _0x316300;return(_0x316300=this['_colorBuff'+'ers'])==null?void(-0xb*0x153+-0x10*0xac+0x1951*0x1):_0x316300[_0x1f9306];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x33d3fc,_0x6b9ece;let _0xc6545f=((_0x33d3fc=this['_colorBuff'+'er'])==null?void(0x1*-0x1433+0x23c7+0x3e5*-0x4):_0x33d3fc['width'])||((_0x6b9ece=this['_depthBuff'+'er'])==null?void(-0x1409+0xec*-0x13+-0x1*-0x258d):_0x6b9ece['width'])||this['_device']['width'];return this['_mipLevel']>0x329+-0x1e77+0x1b4e&&(_0xc6545f=Mi['calcLevelD'+'imension'](_0xc6545f,this['_mipLevel'])),_0xc6545f;}get['height'](){var _0x35974c,_0x202a0e;let _0x704f65=((_0x35974c=this['_colorBuff'+'er'])==null?void(-0x1*-0xb93+0xc0d+0x17a*-0x10):_0x35974c['height'])||((_0x202a0e=this['_depthBuff'+'er'])==null?void(0x1*-0x1d75+0x1f*0x4b+0x1460):_0x202a0e['height'])||this['_device']['height'];return this['_mipLevel']>-0x1711+0x484+0x3*0x62f&&(_0x704f65=Mi['calcLevelD'+'imension'](_0x704f65,this['_mipLevel'])),_0x704f65;}['isColorBuf'+'ferSrgb'](_0x22c534=-0xb84+0x63d*0x2+0x1*-0xf6){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x2f63f6=this['getColorBu'+'ffer'](_0x22c534);return _0x2f63f6?Mh(_0x2f63f6['format']):!(-0x137e*0x2+0x1*-0x1ac6+0x41c3);}}const Wv={'equals'(_0x26ff8b,_0x52b621){if(_0x26ff8b['length']!==_0x52b621['length'])return!(-0x3e*0x3a+0x1509+-0xc*0x95);for(let _0x55c562=-0x4c9+0x72e+-0x265;_0x55c562<_0x26ff8b['length'];_0x55c562++)if(_0x26ff8b[_0x55c562]!==_0x52b621[_0x55c562])return!(0x5d*0x51+0x29*-0xec+0x860);return!(-0xb97+-0x162d*0x1+0x21c4);}};class Gc{constructor(){c(this,'_refCount',-0x7*-0x49b+0x762+-0x279f);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends Gc{constructor(_0x164c11){super(),c(this,'object'),(this['object']=_0x164c11,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x241c24=>{var _0x458fab;(_0x458fab=_0x241c24['object'])==null||_0x458fab['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0xb8d95f){const _0x627166=this['cache']['get'](_0xb8d95f);return _0x627166?(_0x627166['incRefCoun'+'t'](),_0x627166['object']):null;}['set'](_0x3faf5f,_0x5e25e7){v['assert'](!this['cache']['has'](_0x3faf5f),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x3faf5f,'object':_0x5e25e7}),this['cache']['set'](_0x3faf5f,new $v(_0x5e25e7));}['release'](_0x1963d2){var _0x5adceb;const _0x2b4ba8=this['cache']['get'](_0x1963d2);_0x2b4ba8?(_0x2b4ba8['decRefCoun'+'t'](),_0x2b4ba8['refCount']===-0x1613+-0x2*-0x423+-0xdcd*-0x1&&(this['cache']['delete'](_0x1963d2),(_0x5adceb=_0x2b4ba8['object'])==null||_0x5adceb['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x1963d2});}}class Xv extends qv{['loseContex'+'t'](_0x144d4e){this['clear']();}}const jv=new Ot(),od=_0x426ff3=>jv['get'](_0x426ff3,()=>new Xv()),ot=[];ot[$s]=-0x4c3*-0x2+0x1e8+-0x2d*0x41,ot[or]=-0x6a*0x3f+0x321*0x9+-0x17*0x17,ot[$t]=0x37*0x8e+-0x1b69+-0x316,ot[xa]=-0x1*-0xd03+-0x528+-0x1*0x7d7,ot[ln]=0x55e+-0x32f*0x7+0x39*0x4c,ot[Zr]=-0x209e*-0x1+0x3b*0x34+-0x8*0x593,ot[Qr]=-0xe0d*0x2+0x5*-0x406+0x303b*0x1,ot[Jr]=-0x18f2+-0x1e84+-0x1b*-0x20e,ot[ca]=0xf1*0x13+-0x24bb*0x1+0x12d9,ot[Lo]=-0x59*0x20+0x291*0x7+0x1*-0x6d5,ot[Fo]=-0x29c+-0x46*-0x1d+-0x54f,ot[Oo]=-0x1abb*-0x1+-0x83*0x32+0x11*-0x11,ot[Rh]=0x7d7*0x1+-0x121b+-0x293*-0x4,ot[ko]=0x1c42+-0x182b+-0x40b,ot[Sa]=0x5*-0x647+0x3c*0x5d+0x9a7,ot[va]=-0x11b4+-0x2c9+-0x2*-0xa3f,ot[ba]=-0x13a7+-0x768+0x1b11,ot[wa]=-0x1318+0x1*-0x120d+0x2528,(function(){let _0x2b7a88;try{const _0x54dc4a=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x2b7a88=_0x54dc4a();}catch(_0x40c624){_0x2b7a88=window;}_0x2b7a88['setInterva'+'l'](_0x502b94,0x1*-0xdfb+-0x1f83+0x354e*0x1);}()),ot[Ta]=0x2*-0x2c+-0x10d6*-0x1+-0x83d*0x2;class gt{constructor(_0x3ae201,_0x339fd0,_0x3d71da=-0x1881+-0x1a08+0x3289*0x1){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x3ae201,this['name']=_0x3d71da?_0x3ae201+'[0]':_0x3ae201,this['type']=_0x339fd0,this['numCompone'+'nts']=ot[_0x339fd0],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x339fd0+'\x20used\x20for\x20'+_0x3ae201),this['updateType']=_0x339fd0,_0x3d71da>0x2b*0xc1+-0x1572+0x35*-0x35)switch(_0x339fd0){case $s:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case $t:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x339fd0]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x3ae201+'\x27.'),v['call'](()=>{this['invalid']=!(-0xc83*0x3+-0x458+0x1*0x29e1);});break;}this['count']=_0x3d71da,v['assert'](!isNaN(_0x3d71da),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x3ae201+'['+_0x3d71da+']'),v['call'](()=>{isNaN(_0x3d71da)&&(this['invalid']=!(0x2*0x281+0x65*0x5e+-0x150c*0x2));});let _0x35bca9=this['numCompone'+'nts'];_0x3d71da&&(_0x35bca9=N['roundUp'](_0x35bca9,-0x936+-0x2559+-0x2e93*-0x1)),this['byteSize']=_0x35bca9*(0x241*-0x5+0x1b91+-0x1048),_0x3d71da&&(this['byteSize']*=_0x3d71da),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x339fd0+'\x20used\x20for\x20'+_0x3ae201);}get['isArrayTyp'+'e'](){return this['count']>0x1*-0x1e5b+0x1*0x1d2b+-0x4*-0x4c;}['calculateO'+'ffset'](_0xe2ff3b){let _0xcb61d3=this['byteSize']<=-0x5f8+-0xda*-0x2+-0x4*-0x113?this['byteSize']:0x10*0x15b+0xfd4+-0x6*0x63e;this['count']&&(_0xcb61d3=-0x1790+-0x7f*-0x25+-0x47*-0x13),_0xe2ff3b=N['roundUp'](_0xe2ff3b,_0xcb61d3),this['offset']=_0xe2ff3b/(-0xd99+0x17b3*-0x1+0x2550);}}class Qy{constructor(_0x25bdea,_0x178061){c(this,'byteSize',-0x465*-0x6+-0x1967+-0xf7),c(this,'map',new Map()),(this['scope']=_0x25bdea['scope'],this['uniforms']=_0x178061);let _0x4dcefd=-0x1*-0x1d2a+-0x115+-0x5b*0x4f;for(let _0x834a1a=0x22de+-0x15b7+-0xd27;_0x834a1a<_0x178061['length'];_0x834a1a++){const _0x56cede=_0x178061[_0x834a1a];_0x56cede['calculateO'+'ffset'](_0x4dcefd),_0x4dcefd=_0x56cede['offset']*(0x29*0x45+0x1*-0x1bd1+0x10c8)+_0x56cede['byteSize'],_0x56cede['scopeId']=this['scope']['resolve'](_0x56cede['name']),this['map']['set'](_0x56cede['name'],_0x56cede);}this['byteSize']=N['roundUp'](_0x4dcefd,0x56*0x3d+-0x176d+0x2ff*0x1);}['get'](_0x2c4bae){return this['map']['get'](_0x2c4bae);}['getShaderD'+'eclaration'](_0x263fdd,_0x1a6951){const _0x18b64c=xv[_0x263fdd];let _0x13a4a2='layout(set'+'\x20=\x20'+_0x263fdd+(',\x20binding\x20'+'=\x20')+_0x1a6951+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x18b64c+'\x20{\x0a';return this['uniforms']['forEach'](_0x2708d6=>{const _0x319c89=dp[_0x2708d6['type']];v['assert'](_0x319c89['length']>-0xd*-0x186+0x2096+-0x3464,'Uniform\x20ty'+'pe\x20'+_0x2708d6['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x13a4a2+='\x20\x20\x20\x20'+_0x319c89+'\x20'+_0x2708d6['shortName']+(_0x2708d6['count']?'['+_0x2708d6['count']+']':'')+';\x0a';}),_0x13a4a2+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0x4f5ecc,_0x3a1d54=new Map(),_0x48a79c={}){vs['sourceName']=_0x48a79c['sourceName'],_0x4f5ecc=this['stripComme'+'nts'](_0x4f5ecc),_0x4f5ecc=_0x4f5ecc['split'](/\r?\n/)['map'](_0x1f7028=>_0x1f7028['trimEnd']())['join']('\x0a');const _0x23c90d=new Map();if(_0x48a79c['stripUnuse'+'dColorAtta'+'chments']){const _0x119d19=new Map(),_0x1fd340=/(pcFragColor[1-8])\b/g,_0x20d899=_0x4f5ecc['match'](_0x1fd340);_0x20d899==null||_0x20d899['forEach'](_0x426c95=>{const _0x2106c6=parseInt(_0x426c95['charAt'](_0x426c95['length']-(-0x257*-0x6+-0x1bd2*0x1+-0x1*-0xdc9)),-0xd01*-0x1+-0x1e40*0x1+0x1149);_0x119d19['set'](_0x2106c6,(_0x119d19['get'](_0x2106c6)??0x2654+0x1*-0xfe+-0x2556)+(0x17*-0x5b+0x1a*-0x36+0xdaa));}),_0x119d19['forEach']((_0x44b42e,_0x4c3e7e)=>{_0x44b42e===0xc5b+0x877*-0x1+-0x3e3&&_0x23c90d['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x4c3e7e,'');});}_0x4f5ecc=this['_preproces'+'s'](_0x4f5ecc,_0x23c90d,_0x3a1d54,_0x48a79c['stripDefin'+'es']);const _0x58d723=new Map();_0x23c90d['forEach']((_0x118b6d,_0x4188e6)=>{Number['isInteger'](parseFloat(_0x118b6d))&&!_0x118b6d['includes']('.')&&_0x58d723['set'](_0x4188e6,_0x118b6d);});const _0x302e6c=new Map();return _0x23c90d['forEach']((_0x1449ee,_0x25b00d)=>{_0x25b00d['startsWith']('__INJECT_')&&_0x302e6c['set'](_0x25b00d,_0x1449ee);}),_0x4f5ecc=this['stripComme'+'nts'](_0x4f5ecc),_0x4f5ecc=this['RemoveEmpt'+'yLines'](_0x4f5ecc),_0x4f5ecc=this['processArr'+'aySize'](_0x4f5ecc,_0x58d723),_0x4f5ecc=this['injectDefi'+'nes'](_0x4f5ecc,_0x302e6c),_0x4f5ecc;}static['stripComme'+'nts'](_0x5a8e2f){return _0x5a8e2f['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x17bc35,_0x59368d){return _0x17bc35!==null&&_0x59368d['forEach']((_0x4c139f,_0x979e45)=>{_0x17bc35=_0x17bc35['replace'](new RegExp('\x5c['+_0x979e45+'\x5c]','g'),'['+_0x4c139f+']');}),_0x17bc35;}static['injectDefi'+'nes'](_0x5bd0eb,_0x338f6e){if(_0x5bd0eb!==null&&_0x338f6e['size']>-0x854+0x3c4+0x248*0x2){const _0xca1e3a=_0x5bd0eb['split']('\x0a');_0x338f6e['forEach']((_0x3767c9,_0x292252)=>{const _0x398818=new RegExp('\x5cb'+_0x292252+'\x5cb','g');for(let _0x576772=-0x1071+0xafa*-0x1+-0x1*-0x1b6b;_0x576772<_0xca1e3a['length'];_0x576772++)_0xca1e3a[_0x576772]['includes']('#')||(_0xca1e3a[_0x576772]=_0xca1e3a[_0x576772]['replace'](_0x398818,_0x3767c9));}),_0x5bd0eb=_0xca1e3a['join']('\x0a');}return _0x5bd0eb;}static['RemoveEmpt'+'yLines'](_0x377965){return _0x377965!==null&&(_0x377965=_0x377965['split'](/\r?\n/)['map'](_0x16aaa6=>_0x16aaa6['trim']()===''?'':_0x16aaa6)['join']('\x0a'),_0x377965=_0x377965['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x377965;}static['_preproces'+'s'](_0x4d2dda,_0x5baa4b=new Map(),_0x303d9b,_0x149cf4){const _0x3249a1=_0x4d2dda,_0x1a045c=[];let _0x4f0c83=!(-0x9*0x63+-0x18e4+-0x10*-0x1c6),_0x6b00af;for(;(_0x6b00af=fs['exec'](_0x4d2dda))!==null;){const _0x1683c5=_0x6b00af[0x6*-0x534+0xd88*-0x1+0xc9*0x39];switch(_0x1683c5){case'define':{ld['lastIndex']=_0x6b00af['index'];const _0x3bf833=ld['exec'](_0x4d2dda);v['assert'](_0x3bf833,'Invalid\x20['+_0x1683c5+']:\x20'+_0x4d2dda['substring'](_0x6b00af['index'],_0x6b00af['index']+(-0x1f9d+0x1*0x26dd+-0x6dc))+'...'),_0x4f0c83||(_0x4f0c83=_0x3bf833===null);const _0x1eb22f=_0x3bf833[-0x24b7+0x2*0xa01+0x10b6];Em['lastIndex']=_0x3bf833['index'];const _0x455633=Em['exec'](_0x1eb22f)[0x2062+-0xf*0x226+-0x27*0x1];let _0x2ead5d=_0x1eb22f['substring'](_0x455633['length'])['trim']();_0x2ead5d===''&&(_0x2ead5d='true');const _0x238a72=vs['_keep'](_0x1a045c);_0x238a72&&(_0x5baa4b['set'](_0x455633,_0x2ead5d),_0x149cf4&&(_0x4d2dda=_0x4d2dda['substring'](-0x6c9+-0x101c+0x16e5,_0x3bf833['index']-(0x6c6+0xe09+-0x14ce))+_0x4d2dda['substring'](ld['lastIndex']),fs['lastIndex']=_0x3bf833['index']-(0x727*-0x2+-0x55d*0x6+0x3*0xf7f))),v['trace'](gr,_0x1683c5+':\x20['+_0x455633+']\x20'+_0x2ead5d+'\x20'+(_0x238a72?'':'IGNORED')),_0x149cf4||(fs['lastIndex']=_0x3bf833['index']+_0x3bf833[-0x1b45+-0x25a8+0x40ed]['length']);break;}case'undef':{hd['lastIndex']=_0x6b00af['index'];const _0xfaaf66=hd['exec'](_0x4d2dda),_0x13544e=_0xfaaf66[0x3*-0xcaf+-0x1*0x244d+0x4a5b]['trim'](),_0xd10990=vs['_keep'](_0x1a045c);_0xd10990&&(_0x5baa4b['delete'](_0x13544e),_0x149cf4&&(_0x4d2dda=_0x4d2dda['substring'](0x7df+-0x2413*0x1+0xe1a*0x2,_0xfaaf66['index']-(0x1bb5+-0x32*0x3e+0x2*-0x7cc))+_0x4d2dda['substring'](hd['lastIndex']),fs['lastIndex']=_0xfaaf66['index']-(-0xe18+0x1a5e+-0xc45))),v['trace'](gr,_0x1683c5+':\x20['+_0x13544e+']\x20'+(_0xd10990?'':'IGNORED')),_0x149cf4||(fs['lastIndex']=_0xfaaf66['index']+_0xfaaf66[0x75*0x10+0x26a5+0xd*-0x389]['length']);break;}case'extension':{Am['lastIndex']=_0x6b00af['index'];const _0x285b84=Am['exec'](_0x4d2dda);if(v['assert'](_0x285b84,'Invalid\x20['+_0x1683c5+']:\x20'+_0x4d2dda['substring'](_0x6b00af['index'],_0x6b00af['index']+(-0x14f5+0x1baf*0x1+-0x2*0x32b))+'...'),_0x4f0c83||(_0x4f0c83=_0x285b84===null),_0x285b84){const _0x55051a=_0x285b84[0x1d00+0x1e5a+-0x1*0x3b59],_0x415ef2=vs['_keep'](_0x1a045c);_0x415ef2&&_0x5baa4b['set'](_0x55051a,'true'),v['trace'](gr,_0x1683c5+':\x20['+_0x55051a+']\x20'+(_0x415ef2?'':'IGNORED'));}fs['lastIndex']=_0x285b84['index']+_0x285b84[0xc25+0x7*0x4bd+-0x14*0x244]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x6b00af['index'];const _0x55e4c0=cd['exec'](_0x4d2dda),_0x277e3c=_0x55e4c0[-0x2242+0x46+0x26*0xe5],_0x2e8cdd=vs['evaluate'](_0x277e3c,_0x5baa4b);_0x4f0c83||(_0x4f0c83=_0x2e8cdd['error']);let _0x4e98dd=_0x2e8cdd['result'];_0x1683c5==='ifndef'&&(_0x4e98dd=!_0x4e98dd),_0x1a045c['push']({'anyKeep':_0x4e98dd,'keep':_0x4e98dd,'start':_0x6b00af['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x1683c5+':\x20['+_0x277e3c+']\x20=>\x20'+_0x4e98dd),fs['lastIndex']=_0x55e4c0['index']+_0x55e4c0[0x1595*0x1+-0xb7*0x1a+-0x2ff]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x6b00af['index'];const _0x2c035e=dd['exec'](_0x4d2dda),_0x564eef=_0x1a045c['pop'](),_0x5d9b16=_0x564eef['keep']?_0x4d2dda['substring'](_0x564eef['end'],_0x6b00af['index']):'';v['trace'](gr,_0x1683c5+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x5d9b16!=='')),_0x4d2dda=_0x4d2dda['substring'](0xaad*0x3+0x752*-0x5+0x493,_0x564eef['start'])+_0x5d9b16+_0x4d2dda['substring'](dd['lastIndex']),fs['lastIndex']=_0x564eef['start']+_0x5d9b16['length'];const _0x1f779d=_0x2c035e[-0x1786+-0x1813+0x1*0x2f9a];if(_0x1f779d==='else'||_0x1f779d==='elif'){let _0x50429b=!(0x1c*-0xe6+0x23aa+-0xa81);if(!_0x564eef['anyKeep']){if(_0x1f779d==='else')_0x50429b=!_0x564eef['keep'];else{const _0x59bd8a=vs['evaluate'](_0x2c035e[-0x2*-0x5e5+-0x171a+-0x7*-0x19e],_0x5baa4b);_0x50429b=_0x59bd8a['result'],_0x4f0c83||(_0x4f0c83=_0x59bd8a['error']);}}_0x1a045c['push']({'anyKeep':_0x564eef['anyKeep']||_0x50429b,'keep':_0x50429b,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x1683c5+':\x20['+_0x2c035e[-0x1e4b+0x2698+-0x1*0x84b]+']\x20=>\x20'+_0x50429b);}break;}case'include':{ud['lastIndex']=_0x6b00af['index'];const _0x372b15=ud['exec'](_0x4d2dda);_0x4f0c83||(_0x4f0c83=_0x372b15===null),v['assert'](_0x372b15,'Invalid\x20['+_0x1683c5+']:\x20'+_0x4d2dda['substring'](_0x6b00af['index'],_0x6b00af['index']+(-0xef5+-0x2f0+0x1249))+'...');const _0x44dd57=_0x372b15[-0x13eb*0x1+0x155*0x2+0x1*0x1142]['trim'](),_0x15c72f=vs['_keep'](_0x1a045c);if(_0x15c72f){const _0x4a7875=_0x303d9b==null?void(-0x248+-0x7e*0x19+0xe96):_0x303d9b['get'](_0x44dd57);_0x4a7875!==void(-0x1cf4+0x2568+-0x874)?(_0x4d2dda=_0x4d2dda['substring'](-0x1b1f*-0x1+0x96e+0x248d*-0x1,_0x372b15['index']-(-0x1c*0xaf+-0x149e+0x27c3))+_0x4a7875+_0x4d2dda['substring'](ud['lastIndex']),fs['lastIndex']=_0x372b15['index']-(0x19c8+-0x255a*0x1+-0x1*-0xb93)):(console['error']('Include\x20\x22'+_0x44dd57+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x3249a1}),_0x4f0c83=!(0xf18+0x5de+0x2*-0xa7b));}v['trace'](gr,_0x1683c5+':\x20['+_0x44dd57+']\x20'+(_0x15c72f?'':'IGNORED'));break;}}}return _0x4f0c83?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x3249a1}),_0x3249a1):_0x4d2dda;}static['_keep'](_0x56d370){for(let _0xee182c=0x9fa*-0x1+-0x1911+0x230b;_0xee182c<_0x56d370['length'];_0xee182c++)if(!_0x56d370[_0xee182c]['keep'])return!(0xb96*-0x1+0x85f*-0x1+-0x13f6*-0x1);return!(0x22db+-0x1dad+-0x52e);}static['evaluate'](_0x45cc37,_0x6140b3){const _0x56a927=Zv['exec'](_0x45cc37)===null;v['assert'](_0x56a927,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x45cc37);let _0x270f5e=!(0x595*0x1+-0x1663+0x1*0x10cf);const _0x3c0530=Yv['exec'](_0x45cc37);_0x3c0530&&(_0x270f5e=_0x3c0530[-0x1b6f+0x1666+0x5*0x102]==='!',_0x45cc37=_0x3c0530[0x9ca+-0x1233*-0x2+0x1*-0x2e2e]);const _0x5a806f=Kv['exec'](_0x45cc37);if(_0x5a806f){const _0x195ebd=_0x6140b3['get'](_0x5a806f[-0x266d+0x17f6+0xe78])??_0x5a806f[0x89d*-0x1+0x1*0x72f+0x16f],_0x279292=_0x6140b3['get'](_0x5a806f[0xb6+-0xfe5+0xf32])??_0x5a806f[-0xfef+0x2224+0x1232*-0x1],_0x3f9701=_0x5a806f[-0x17*0x15b+0x5*-0x1f1+0x28e4];let _0x287a42=!(-0x1095+-0x195b*-0x1+-0x8c5);switch(_0x3f9701){case'==':_0x287a42=_0x195ebd===_0x279292;break;case'!=':_0x287a42=_0x195ebd!==_0x279292;break;case'<':_0x287a42=_0x195ebd<_0x279292;break;case'<=':_0x287a42=_0x195ebd<=_0x279292;break;case'>':_0x287a42=_0x195ebd>_0x279292;break;case'>=':_0x287a42=_0x195ebd>=_0x279292;break;}return{'result':_0x287a42,'error':!_0x56a927};}_0x45cc37=_0x45cc37['trim']();let _0x56102d=_0x6140b3['has'](_0x45cc37);return _0x270f5e&&(_0x56102d=!_0x56102d),{'result':_0x56102d,'error':!_0x56a927};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x275f24,_0x574073){v['assert'](_0x574073),v['assert'](!_0x574073['vertexDefi'+'nes']||_0x574073['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x574073['vertexIncl'+'udes']||_0x574073['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x574073['fragmentDe'+'fines']||_0x574073['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x574073['fragmentIn'+'cludes']||_0x574073['fragmentIn'+'cludes']instanceof Map);const _0x358d8d=(_0x508af0,_0x40b2ae,_0x414f5f,_0x2fad1b)=>{const _0x3d90f7=_0x275f24['isWebGPU']?_0x508af0:_0x40b2ae;let _0x51b60a='';if(!_0x414f5f){let _0x3b4983=_0x2fad1b['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x3b4983)||(_0x3b4983=[_0x3b4983]);for(let _0x1e3505=0x1312*0x1+0xb25+-0x1e37;_0x1e3505<_0x275f24['maxColorAt'+'tachments'];_0x1e3505++){_0x51b60a+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x1e3505+'\x0a';const _0x4ef223=_0x3b4983[_0x1e3505]??'vec4';_0x51b60a+='#define\x20ou'+'tType_'+_0x1e3505+'\x20'+_0x4ef223+'\x0a';}}return _0x51b60a+_0x3d90f7;},_0x18e02e=_0x574073['name']??'Untitled';let _0x21805f,_0xbd916b;return _0x574073['shaderLang'+'uage']===Ph?(_0x21805f=_0x574073['vertexCode'],_0xbd916b=_0x574073['fragmentCo'+'de']):(_0x21805f=Mt['versionCod'+'e'](_0x275f24)+_0x358d8d(s0,e0,!(-0x24ee+-0x230e+0x47fc),_0x574073)+Mt['getDefines'+'Code'](_0x574073['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x275f24)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x18e02e)+_0x574073['vertexCode'],_0xbd916b=(_0x574073['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x275f24)+_0x358d8d(t0,Jy,!(-0x15cb*0x1+-0x1*-0x103d+0x58f*0x1),_0x574073)+Mt['getDefines'+'Code'](_0x574073['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x275f24)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x18e02e)+(_0x574073['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x18e02e,'shaderLanguage':_0x574073['shaderLang'+'uage']??ky,'attributes':_0x574073['attributes'],'vshader':_0x21805f,'vincludes':_0x574073['vertexIncl'+'udes'],'fincludes':_0x574073['fragmentIn'+'cludes'],'fshader':_0xbd916b,'useTransformFeedback':_0x574073['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x574073['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x574073['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x4b864c){let _0x332f5f='';return _0x4b864c==null||_0x4b864c['forEach']((_0x103e16,_0x4d3e5c)=>{_0x332f5f+='#define\x20'+_0x4d3e5c+'\x20'+_0x103e16+'\x0a';}),_0x332f5f;}static['getShaderN'+'ameCode'](_0x23a46a){return'#define\x20SH'+'ADER_NAME\x20'+_0x23a46a+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x2a8f6f){return _0x2a8f6f['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x1e6c02,_0x1d22e2){_0x1d22e2&&_0x1d22e2!=='highp'&&_0x1d22e2!=='mediump'&&_0x1d22e2!=='lowp'&&(_0x1d22e2=null),_0x1d22e2&&(_0x1d22e2==='highp'&&_0x1e6c02['maxPrecisi'+'on']!=='highp'&&(_0x1d22e2='mediump'),_0x1d22e2==='mediump'&&_0x1e6c02['maxPrecisi'+'on']==='lowp'&&(_0x1d22e2='lowp'));const _0x270839=_0x1d22e2||_0x1e6c02['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x270839+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x270839+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x270839+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x270839+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x270839+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x270839+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x270839+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0xa6db5d){const _0x14c8cd={};let _0x168461=0x3*-0x283+-0x23de+0x2b67,_0x13c0a3=_0xa6db5d['indexOf']('attribute');for(;_0x13c0a3>=0x1e19+0x248*-0x1+-0x1*0x1bd1&&!(_0x13c0a3>-0x20e6+-0x2513*0x1+0x45f9&&_0xa6db5d[_0x13c0a3-(-0x6fa+0x1862*-0x1+0x1f5d)]==='/');){let _0x11a6b7=!(-0x2177+-0x1e22+0x3f9a);if(_0x13c0a3>-0x22eb*-0x1+0x7*-0x42+-0x211d){let _0x32aa3e=_0xa6db5d['lastIndexO'+'f']('\x0a',_0x13c0a3);_0x32aa3e=_0x32aa3e!==-(-0x22a4+-0x1c59+0x3efe)?_0x32aa3e+(-0x993+-0x2539+0x2ecd*0x1):-0x2a7*0x9+-0x6*-0x26+0x16fb,_0xa6db5d['substring'](_0x32aa3e,_0x13c0a3)['includes']('#')&&(_0x11a6b7=!(0x15a0+0x2042+-0x6*0x8fb));}if(!_0x11a6b7){const _0x346b34=_0xa6db5d['indexOf'](';',_0x13c0a3),_0x15edff=_0xa6db5d['lastIndexO'+'f']('\x20',_0x346b34),_0x54024d=_0xa6db5d['substring'](_0x15edff+(0xb*0x303+0xd61+-0x2e81),_0x346b34);if(_0x14c8cd[_0x54024d])v['warn']('Attribute\x20'+'['+_0x54024d+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0xa6db5d});else{const _0x539ba0=Qv[_0x54024d];_0x539ba0!==void(0x21f+-0x1e07+0x98*0x2f)?_0x14c8cd[_0x54024d]=_0x539ba0:(_0x14c8cd[_0x54024d]='ATTR'+_0x168461,_0x168461++);}}_0x13c0a3=_0xa6db5d['indexOf']('attribute',_0x13c0a3+(0x338*-0x1+0x815*0x2+-0xcf1));}return _0x14c8cd;}}let Jv=-0x83d*0x1+0x13c0+-0xb83;class i0{constructor(_0x5f3b03,_0x2546f3){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x5f3b03,this['definition']=_0x2546f3,this['name']=_0x2546f3['name']||'Untitled',this['init'](),_0x2546f3['cshader'])v['assert'](_0x5f3b03['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x2546f3['vshader']&&!_0x2546f3['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x2546f3['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x2546f3['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x2546f3['vshader']=Oh['run'](_0x2546f3['vshader'],_0x2546f3['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x2546f3['shaderLang'+'uage']===ky&&(_0x2546f3['attributes']??(_0x2546f3['attributes']=Mt['collectAtt'+'ributes'](_0x2546f3['vshader'])));const _0x40aad6=_0x5f3b03['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x2546f3['fshader']=Oh['run'](_0x2546f3['fshader'],_0x2546f3['fincludes'],{'stripUnusedColorAttachments':_0x40aad6,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x5f3b03['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x38b*-0x7+0x1a50*0x1+-0x331c),this['failed']=!(-0x22d9*0x1+0xc4*0x13+0x144e);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[$s]=function(_0x2410b2,_0x2feda1,_0xf22312){const _0x5e1aed=_0x2410b2['storageFlo'+'at32'];_0x5e1aed[_0xf22312]=_0x2feda1;},Te[or]=(_0x19d12d,_0x37ada2,_0x563cfb)=>{const _0x38fdeb=_0x19d12d['storageFlo'+'at32'];_0x38fdeb[_0x563cfb]=_0x37ada2[-0x1c26+-0xd5c+0x2e*0xe7],_0x38fdeb[_0x563cfb+(0xccf+-0x274+-0xa5a)]=_0x37ada2[0x2056+-0xb09+-0x154c];},Te[$t]=(_0x5cedb3,_0x42032c,_0x543ae8)=>{const _0x44237e=_0x5cedb3['storageFlo'+'at32'];_0x44237e[_0x543ae8]=_0x42032c[-0x5*-0x43+-0xae5*0x2+0x147b],_0x44237e[_0x543ae8+(-0x3*-0xb13+0x2+0x213a*-0x1)]=_0x42032c[0x1*0xfd9+0x104+-0x10dc],_0x44237e[_0x543ae8+(-0x5ae*-0x1+0x9*0x3a8+-0x2694)]=_0x42032c[0x8fe+0x2dd+0x9*-0x151];},Te[xa]=(_0x39e297,_0x56cd3d,_0x11f51d)=>{const _0x435908=_0x39e297['storageFlo'+'at32'];_0x435908[_0x11f51d]=_0x56cd3d[-0xb*-0x7+0x54*-0x67+0x23*0xf5],_0x435908[_0x11f51d+(-0x4*0x326+0x1ea1+-0x1208)]=_0x56cd3d[0x1*0x116f+0x16f2+0x88*-0x4c],_0x435908[_0x11f51d+(0x2296+-0x14*0x1d3+0x1e8)]=_0x56cd3d[-0x423+-0x465+-0x1*-0x88a],_0x435908[_0x11f51d+(0x143*-0x3+0x7*-0x255+0x141f)]=_0x56cd3d[-0x252f+-0xa*-0x359+-0x88*-0x7];},Te[ln]=function(_0x4afdd9,_0x2d1ffa,_0x139a3c){const _0x56b8d7=_0x4afdd9['storageInt'+'32'];_0x56b8d7[_0x139a3c]=_0x2d1ffa;},Te[Zr]=function(_0x552790,_0x33fedf,_0x38db5e){const _0x118784=_0x552790['storageInt'+'32'];_0x118784[_0x38db5e]=_0x33fedf[0x12fd*-0x1+0x60c+-0xcf1*-0x1],_0x118784[_0x38db5e+(-0x8*-0x27b+-0x1073*0x2+-0x1*-0xd0f)]=_0x33fedf[0x17e9*0x1+0xd9*-0x29+0xad9];},Te[Qr]=function(_0xef844f,_0x50519b,_0x4796cc){const _0x539c75=_0xef844f['storageInt'+'32'];_0x539c75[_0x4796cc]=_0x50519b[0x1641+-0x91*-0x4+-0x1885*0x1],_0x539c75[_0x4796cc+(0x215*0x9+-0x1c2e+-0x3e*-0x27)]=_0x50519b[-0x1d23+-0x76c+0x2490],_0x539c75[_0x4796cc+(-0x1*-0x171f+0x1417+-0x2b34)]=_0x50519b[0x187d+-0x22f0+0xa75];},Te[Jr]=function(_0x45fb41,_0x1f7d36,_0x1638ed){const _0x5a31cd=_0x45fb41['storageInt'+'32'];_0x5a31cd[_0x1638ed]=_0x1f7d36[0xc9*0x12+0x146d+-0x3*0xb85],_0x5a31cd[_0x1638ed+(-0x9e4+0x15ca+-0x5*0x261)]=_0x1f7d36[0x7*-0x4a8+-0x236e+-0x1b*-0x285],_0x5a31cd[_0x1638ed+(-0x2c3+0x13ca+-0x1105)]=_0x1f7d36[-0x956+-0x2*0x6ab+0x16ae],_0x5a31cd[_0x1638ed+(0x1925+-0x3*-0xc9d+-0x1*0x3ef9)]=_0x1f7d36[-0x5*0x5db+-0x1201+0x2f4b*0x1];},Te[Rh]=(_0x4a33bf,_0x3b1340,_0x10ee69)=>{const _0x3f9dc4=_0x4a33bf['storageFlo'+'at32'];_0x3f9dc4[_0x10ee69]=_0x3b1340[0x2*0xcf2+-0x1e52+-0xbd*-0x6],_0x3f9dc4[_0x10ee69+(0x3ef*-0x6+-0x1cb4+0x344f*0x1)]=_0x3b1340[-0x80c*-0x1+0x1*0xa1a+-0x1225],_0x3f9dc4[_0x10ee69+(-0x1ca*-0x9+0x97*0x2b+-0x2973)]=_0x3b1340[0x14c9+0x36*0x1+-0x14fd],_0x3f9dc4[_0x10ee69+(0x10e4+-0xbdd+-0x2*0x281)]=_0x3b1340[0x1f00+0x1*0x86f+-0x2*0x13b6],_0x3f9dc4[_0x10ee69+(-0x25d7+0x773*-0x3+0x2f*0x148)]=_0x3b1340[0xc06+-0x119*0x6+-0x4*0x15b],_0x3f9dc4[_0x10ee69+(-0xb0+0x1733*0x1+-0x167a)]=_0x3b1340[-0x1*-0x23+-0xa24+-0x2*-0x503];},Te[ko]=(_0x56406a,_0x384a5d,_0x3cd4a0)=>{const _0x10dcaf=_0x56406a['storageFlo'+'at32'];_0x10dcaf[_0x3cd4a0]=_0x384a5d[0x81+-0x1a4c+0x1*0x19cb],_0x10dcaf[_0x3cd4a0+(0x19ef+0x467*0x5+-0x3*0xffb)]=_0x384a5d[-0x3b*0x6a+-0x2613+0x1*0x3e82],_0x10dcaf[_0x3cd4a0+(-0xda+0xffb*0x1+0x31*-0x4f)]=_0x384a5d[-0x1*0x23b1+-0xd15+0x30c8],_0x10dcaf[_0x3cd4a0+(0x1fee+0x1683*-0x1+0x53*-0x1d)]=_0x384a5d[0x23ed*-0x1+0x615+-0x1*-0x1ddb],_0x10dcaf[_0x3cd4a0+(0x1*-0x977+-0x2508+-0x394*-0xd)]=_0x384a5d[0x11*-0x2e+0x1*-0x1ef5+-0x119*-0x1f],_0x10dcaf[_0x3cd4a0+(-0x1c1b+0xf89+0x326*0x4)]=_0x384a5d[0xf6b*0x2+-0x1ecf+-0x2],_0x10dcaf[_0x3cd4a0+(-0x13e*-0x1+-0x5a1+0x46b)]=_0x384a5d[-0x1df8+0x155*0xe+0xb58],_0x10dcaf[_0x3cd4a0+(-0xc3*-0xd+-0x903+0x49*-0x3)]=_0x384a5d[-0xefc+-0x1*0x39d+-0x254*-0x8],_0x10dcaf[_0x3cd4a0+(-0x1705+-0x23e9+0x3af8)]=_0x384a5d[-0x3*-0x394+-0x119*0x9+-0xd3];},Te[Dc]=function(_0x32af1d,_0x2ba743,_0x3a3ca1,_0x5961a2){const _0x582441=_0x32af1d['storageFlo'+'at32'];for(let _0x25a590=0x190d+0x8*-0x3c1+-0x3*-0x1a9;_0x25a590<_0x5961a2;_0x25a590++)_0x582441[_0x3a3ca1+_0x25a590*(-0x4*0x629+-0x1*0x25b+0xf*0x1cd)]=_0x2ba743[_0x25a590];},Te[Lc]=(_0x442d7d,_0x36e0ef,_0x1c8264,_0x43d92c)=>{const _0x2d1ab3=_0x442d7d['storageFlo'+'at32'];for(let _0x3df857=0x1c25+-0x139*0x1e+0x889;_0x3df857<_0x43d92c;_0x3df857++)_0x2d1ab3[_0x1c8264+_0x3df857*(0x1130+-0x10*-0x265+-0x377c)]=_0x36e0ef[_0x3df857*(-0x666+-0x1aff+0x2167)],_0x2d1ab3[_0x1c8264+_0x3df857*(0x1590+0xb97+-0x2123)+(0x28d+0x444+0xda*-0x8)]=_0x36e0ef[_0x3df857*(0x1*-0x283+-0x1*0xc6+0x34b)+(0x3f*-0x97+-0x117d+-0x337*-0x11)];},Te[Fc]=(_0x325a8d,_0x516948,_0x33b1b3,_0x26557f)=>{const _0x186857=_0x325a8d['storageFlo'+'at32'];for(let _0x5b3520=0x2*-0x62d+-0x58*0x2f+0x1c82;_0x5b3520<_0x26557f;_0x5b3520++)_0x186857[_0x33b1b3+_0x5b3520*(-0x1e30+-0x1199+0x2fcd)]=_0x516948[_0x5b3520*(-0x1651*0x1+0x423*0x5+0x1a5)],_0x186857[_0x33b1b3+_0x5b3520*(0x1d24+-0xfe6+-0xd3a)+(0x44b+0x2160+-0x6*0x647)]=_0x516948[_0x5b3520*(0x1d*-0xb3+0x1c5b*-0x1+-0x7*-0x6f3)+(0x309+0x1664+-0x196c)],_0x186857[_0x33b1b3+_0x5b3520*(0x3*0x679+0x1a8a+-0x2df1)+(0xde4+-0x12f5+-0x513*-0x1)]=_0x516948[_0x5b3520*(0x2*0xfef+0x5c9+-0x25a4)+(0x213d+0x1*0x7d3+-0x290e)];},Te[va]=(_0x4d0946,_0x1706d8,_0x3cf7c4,_0x6df379)=>{const _0x414f0a=_0x4d0946['storageUin'+'t32'];_0x414f0a[_0x3cf7c4]=_0x1706d8;},Te[ba]=(_0x310daf,_0x357771,_0x114d43,_0x31e23d)=>{const _0x483668=_0x310daf['storageUin'+'t32'];_0x483668[_0x114d43]=_0x357771[0x563*0x1+-0x12f*0x1f+0x1f4e],_0x483668[_0x114d43+(0x2250+0x2120+-0x436f)]=_0x357771[-0x1fb*-0x9+0x2b+-0x11fd];},Te[wa]=(_0x32cab8,_0x49ad41,_0x113f3b,_0x488b7b)=>{const _0x4259bc=_0x32cab8['storageUin'+'t32'];_0x4259bc[_0x113f3b]=_0x49ad41[0xd4f+-0x46e+0x1*-0x8e1],_0x4259bc[_0x113f3b+(-0x76e+-0x1fac*-0x1+0x183d*-0x1)]=_0x49ad41[0x5ae*-0x2+-0x1b01+0x265e],_0x4259bc[_0x113f3b+(-0x17*0x84+-0x1ac2+0x1350*0x2)]=_0x49ad41[0x25*0x3f+-0x836+-0xe3];},Te[Ta]=(_0x53d75b,_0xc8aee2,_0x52d507,_0x2bfacf)=>{const _0xd39f4c=_0x53d75b['storageUin'+'t32'];_0xd39f4c[_0x52d507]=_0xc8aee2[-0x37a*0x4+0x1ff+-0xbe9*-0x1],_0xd39f4c[_0x52d507+(-0x4a*0xe+-0x2de*0x3+-0xca7*-0x1)]=_0xc8aee2[-0xe3*0x1+-0x892+-0xad*-0xe],_0xd39f4c[_0x52d507+(0x4*0x656+0x57c+-0x1ed2)]=_0xc8aee2[-0x1*-0x139d+0x1eda+-0x3275],_0xd39f4c[_0x52d507+(0x2a7+-0x3*-0xaa9+-0x229f*0x1)]=_0xc8aee2[0x247e+0xb2*0x23+-0x3cd1];},Te[Aa]=function(_0x2cb5a4,_0xd554a0,_0xdba358,_0x314886){const _0x39c5ec=_0x2cb5a4['storageInt'+'32'];for(let _0x986bee=-0x2589+-0x3*0x78+-0x26f1*-0x1;_0x986bee<_0x314886;_0x986bee++)_0x39c5ec[_0xdba358+_0x986bee*(-0x262b+-0x307*-0x3+0x1d1a)]=_0xd554a0[_0x986bee];},Te[kc]=Te[Aa],Te[Oc]=function(_0x837d2,_0xd6b22d,_0x3c9b40,_0x64a43f){const _0x242165=_0x837d2['storageUin'+'t32'];for(let _0x46691e=0x1b7f*0x1+-0x1b81+-0x2*-0x1;_0x46691e<_0x64a43f;_0x46691e++)_0x242165[_0x3c9b40+_0x46691e*(0x11f+0x79*0x44+0x3*-0xb15)]=_0xd6b22d[_0x46691e];},Te[Ea]=(_0x3bce0f,_0x1411c3,_0x52744c,_0x4cb6a8)=>{const _0x5e5560=_0x3bce0f['storageInt'+'32'];for(let _0x6c2587=-0x565+-0xd88+-0x39*-0x55;_0x6c2587<_0x4cb6a8;_0x6c2587++)_0x5e5560[_0x52744c+_0x6c2587*(-0x1b9f+0x1b8b*0x1+-0x1*-0x18)]=_0x1411c3[_0x6c2587*(-0x251c+0x1e5a+0x1*0x6c4)],_0x5e5560[_0x52744c+_0x6c2587*(0x1db8+0x93*-0x5+-0x1ad5*0x1)+(-0x98*0x2+-0x169c+0x17cd)]=_0x1411c3[_0x6c2587*(0x1aca+-0x1e41*0x1+-0x379*-0x1)+(-0x1f11+0x2dd*0x1+0x1c35)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x2a5de4,_0x47f7b3,_0x5f3c94,_0x5df846)=>{const _0x3e5f3a=_0x2a5de4['storageUin'+'t32'];for(let _0x186f9f=-0x26f2+-0x195*0x11+0x41d7;_0x186f9f<_0x5df846;_0x186f9f++)_0x3e5f3a[_0x5f3c94+_0x186f9f*(0x20*0x5d+-0x70+-0xb2c)]=_0x47f7b3[_0x186f9f*(-0x138f*0x1+0xaba*0x2+-0x15*0x17)],_0x3e5f3a[_0x5f3c94+_0x186f9f*(-0x20*-0x50+0x12e7+-0x55*0x57)+(-0x1be*0x5+0x926+-0x6f)]=_0x47f7b3[_0x186f9f*(0x116f*-0x2+0x3*0x99f+0x603)+(0x533+-0x1895+0x1363)];},Te[Ca]=(_0x3cad40,_0x1be2f4,_0x4d1d9e,_0x3da3fd)=>{const _0xe86308=_0x3cad40['storageInt'+'32'];for(let _0x4e5572=0x7*0x45d+0x188f+-0x371a;_0x4e5572<_0x3da3fd;_0x4e5572++)_0xe86308[_0x4d1d9e+_0x4e5572*(-0x5bf*0x1+-0x18a4+0x1e67*0x1)]=_0x1be2f4[_0x4e5572*(0x25*0x3a+0x18a*0x19+0x1*-0x2ed9)],_0xe86308[_0x4d1d9e+_0x4e5572*(0x22*0x2c+-0x1fe1+-0x1a0d*-0x1)+(-0x1a4d+0xdac+0x3*0x436)]=_0x1be2f4[_0x4e5572*(0x23a+-0x1b6b+-0x64d*-0x4)+(0xbf*-0x22+-0x7*-0x314+0x3d3)],_0xe86308[_0x4d1d9e+_0x4e5572*(0x1b91+-0x1b59*-0x1+-0x36e6)+(0x2294+-0x1c3f+-0x653*0x1)]=_0x1be2f4[_0x4e5572*(0x1*0x23c3+-0xa02+-0x19be)+(0xb56*0x2+-0x1718+-0xa*-0xb)];},Te[Uc]=Te[Ca],Te[zc]=(_0x6520ae,_0x23ee21,_0x9b616d,_0x2d4c4a)=>{const _0x523973=_0x6520ae['storageUin'+'t32'];for(let _0x350689=-0x7b3*0x1+0x1142+-0x1*0x98f;_0x350689<_0x2d4c4a;_0x350689++)_0x523973[_0x9b616d+_0x350689*(-0x116+-0x20*0x26+0x5da)]=_0x23ee21[_0x350689*(0x59*-0x67+-0x25*-0xc7+-0x1*-0x70f)],_0x523973[_0x9b616d+_0x350689*(-0xb08+-0xf*-0xc9+-0xbb)+(-0x436*-0x2+-0x212e+-0x1*-0x18c3)]=_0x23ee21[_0x350689*(-0x3*0x851+0x97c+0xf7a)+(0x1dc4+-0xb99*0x1+0x1d1*-0xa)],_0x523973[_0x9b616d+_0x350689*(-0x17cc+-0xcd6+0x24a6)+(0x1*-0x123d+-0x11*0x1ca+-0x1*-0x30a9)]=_0x23ee21[_0x350689*(-0x2380+0x1b5b*0x1+0x828)+(-0x159f+0xb66+0xa3b)];};class gp{constructor(_0x441b09,_0x497303,_0x3f0a53=!(0x25a+-0x21d2+0x1f78)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',-0x24cd*-0x1+-0x6e6*0x5+-0x1*0x24f);if(this['device']=_0x441b09,this['format']=_0x497303,this['persistent']=_0x3f0a53,v['assert'](_0x497303),_0x3f0a53){this['impl']=_0x441b09['createUnif'+'ormBufferI'+'mpl'](this);const _0x3f41ee=new ArrayBuffer(_0x497303['byteSize']);this['assignStor'+'age'](new Int32Array(_0x3f41ee)),_0x441b09['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x3744e9=this['device'];this['impl']['destroy'](_0x3744e9),_0x3744e9['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x13db+-0x1805+0x1*0x42a:this['allocation']['offset'];}['assignStor'+'age'](_0xf76ee1){this['storageInt'+'32']=_0xf76ee1,this['storageUin'+'t32']=new Uint32Array(_0xf76ee1['buffer'],_0xf76ee1['byteOffset'],_0xf76ee1['byteLength']/(0x16b6+-0x1f9f+0x8ed)),this['storageFlo'+'at32']=new Float32Array(_0xf76ee1['buffer'],_0xf76ee1['byteOffset'],_0xf76ee1['byteLength']/(0x2233+-0x1f7f+-0x8*0x56));}['loseContex'+'t'](){var _0x2ca839;(_0x2ca839=this['impl'])==null||_0x2ca839['loseContex'+'t']();}['setUniform'](_0x572311,_0x3ea1bd){v['assert'](_0x572311);const _0x457920=_0x572311['offset'];if(_0x3ea1bd!=null){const _0x41c6ba=Te[_0x572311['updateType']];_0x41c6ba?_0x41c6ba(this,_0x3ea1bd,_0x457920,_0x572311['count']):this['storageFlo'+'at32']['set'](_0x3ea1bd,_0x457920);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x572311['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0x572311['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x55f61d,_0x185eac){const _0xde2f0a=this['format']['map']['get'](_0x55f61d);v['assert'](_0xde2f0a,'Uniform\x20na'+'me\x20['+_0x55f61d+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0xde2f0a&&this['setUniform'](_0xde2f0a,_0x185eac);}['startUpdat'+'e'](_0x322d8f){if(!this['persistent']){const _0x292562=this['allocation'],_0x3d8354=_0x292562['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x292562,this['format']['byteSize']),this['assignStor'+'age'](_0x292562['storage']),_0x322d8f&&(_0x322d8f['bindGroup']=_0x292562['gpuBuffer']['getBindGro'+'up'](this),_0x322d8f['offsets'][-0x1c48+0x3df*-0x8+0x3b40]=_0x292562['offset']),_0x3d8354!==_0x292562['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x128e84){this['startUpdat'+'e'](_0x128e84);const _0x2628c8=this['format']['uniforms'];for(let _0x147aba=0xbd*-0x29+-0x72f*-0x3+0x22e*0x4;_0x147aba<_0x2628c8['length'];_0x147aba++){const _0x5403c3=_0x2628c8[_0x147aba]['scopeId']['value'];this['setUniform'](_0x2628c8[_0x147aba],_0x5403c3);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(-0x1*-0x129e+0xa26+-0x1cc3*0x1)),c(this,'_enableReq'+'uest',!(0xc0c+0x205a+-0x2c65)),c(this,'_frameTime',-0x105e+-0x1f8*0x4+0x2*0xc1f);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x37b78d){this['_enableReq'+'uest']=_0x37b78d;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x2308+0x1*0xd01+0x1*-0x3009));}['request'](_0x55dca2){this['pastFrameA'+'llocations']['set'](_0x55dca2,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x36d383,_0x1cf277){if(_0x1cf277){const _0x461345=this['pastFrameA'+'llocations']['get'](_0x36d383);if(v['assert'](_0x461345['length']===_0x1cf277['length']),_0x1cf277['length']>0x1b76+0x4*-0x85f+0x606&&(this['_frameTime']=_0x1cf277[0xcdc+-0x11*-0x189+0x1*-0x26f5]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x36d383+'\x20--');let _0x3f8ff4=0x5e5+0x1c4d+-0x2232*0x1;for(let _0x202b04=-0x1fb4+0xf4f+0x1*0x1065;_0x202b04<_0x461345['length'];++_0x202b04){const _0x3f4e0a=_0x461345[_0x202b04];_0x3f8ff4+=_0x1cf277[_0x202b04],v['trace'](ml,_0x1cf277[_0x202b04]['toFixed'](-0x178d+-0x107b*-0x2+-0x967)+'\x20ms\x20'+_0x3f4e0a);}v['trace'](ml,_0x3f8ff4['toFixed'](0x23d4*-0x1+0xfe*-0x1a+0x3da2)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x36d383);}['getSlot'](_0x513d8f){const _0x537502=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x513d8f),_0x537502;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x12ee57){this['bufferId']&&(_0x12ee57['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x428631,_0x189fb2,_0x1cddc5,_0x8ee552){const _0x25616e=_0x428631['gl'];if(this['bufferId'])_0x25616e['bindBuffer'](_0x1cddc5,this['bufferId']),_0x25616e['bufferSubD'+'ata'](_0x1cddc5,0x1*-0x7a7+-0x1*-0x115+0x349*0x2,_0x8ee552);else{let _0x28eb26;switch(_0x189fb2){case jt:_0x28eb26=_0x25616e['STATIC_DRA'+'W'];break;case Th:_0x28eb26=_0x25616e['DYNAMIC_DR'+'AW'];break;case uy:_0x28eb26=_0x25616e['STREAM_DRA'+'W'];break;case PS:_0x28eb26=_0x25616e['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x25616e['createBuff'+'er'](),_0x25616e['bindBuffer'](_0x1cddc5,this['bufferId']),_0x25616e['bufferData'](_0x1cddc5,_0x8ee552,_0x28eb26);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x379460){super['destroy'](_0x379460),_0x379460['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x2f40db){const _0x53785d=_0x2f40db['device'];super['unlock'](_0x53785d,_0x2f40db['usage'],_0x53785d['gl']['ARRAY_BUFF'+'ER'],_0x2f40db['storage']);}}class ib extends r0{constructor(_0x5c644c){super();const _0x3160f3=_0x5c644c['device']['gl'],_0x293053=_0x5c644c['format'];_0x293053===pu?this['glFormat']=_0x3160f3['UNSIGNED_B'+'YTE']:_0x293053===Pi?this['glFormat']=_0x3160f3['UNSIGNED_S'+'HORT']:_0x293053===nr&&(this['glFormat']=_0x3160f3['UNSIGNED_I'+'NT']);}['unlock'](_0x3d01db){const _0x483c29=_0x3d01db['device'];super['unlock'](_0x483c29,_0x3d01db['usage'],_0x483c29['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x3d01db['storage']);}}class Mm{constructor(_0x853617,_0x2d2052,_0x2aac51,_0xd7f32){if(this['locationId']=_0xd7f32,this['scopeId']=_0x853617['scope']['resolve'](_0x2d2052),this['version']=new Ky(),_0x2d2052['substring'](_0x2d2052['length']-(0x2213+-0x551+-0x1cbf))==='[0]')switch(_0x2aac51){case $s:_0x2aac51=Dc;break;case ln:_0x2aac51=Aa;break;case va:_0x2aac51=Oc;break;case ca:_0x2aac51=kc;break;case or:_0x2aac51=Lc;break;case Zr:_0x2aac51=Ea;break;case ba:_0x2aac51=Bc;break;case Lo:_0x2aac51=Nc;break;case $t:_0x2aac51=Fc;break;case Qr:_0x2aac51=Ca;break;case wa:_0x2aac51=zc;break;case Fo:_0x2aac51=Uc;break;case xa:_0x2aac51=lp;break;case Jr:_0x2aac51=Ih;break;case Ta:_0x2aac51=hp;break;case Oo:_0x2aac51=cp;break;}this['dataType']=_0x2aac51,this['value']=[null,null,null,null],this['array']=[];}}let Pm=0x200f*-0x1+-0xa4e+0x2a5d;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x573802){this['map']['forEach'](_0x16f417=>{_0x573802['gl']['deleteShad'+'er'](_0x16f417);});}['loseContex'+'t'](_0x123871){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0x21d507){c(this,'compileDur'+'ation',0x16*0x79+0x3d*0x2e+0x155c*-0x1),(this['init'](),this['compile'](_0x21d507['device'],_0x21d507),this['link'](_0x21d507['device'],_0x21d507),_0x21d507['device']['shaders']['push'](_0x21d507));}['destroy'](_0x5114bf){this['glProgram']&&(_0x5114bf['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x11e545,_0x3ebeae){this['compile'](_0x11e545,_0x3ebeae),this['link'](_0x11e545,_0x3ebeae);}['compile'](_0x3b4466,_0x195207){const _0x18f46a=_0x195207['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x3b4466,_0x18f46a['vshader'],!(0x42b+-0x1cf0+0x18c5)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x3b4466,_0x18f46a['fshader'],!(0xed9+-0x10d+-0xdcb));}['link'](_0x5d7df6,_0x4e1b1e){if(this['glProgram'])return;const _0x43c508=_0x5d7df6['gl'];if(_0x43c508['isContextL'+'ost']())return;let _0x1bbfa4=-0x153e*0x1+0x10f1+0x44d*0x1;v['call'](()=>{this['compileDur'+'ation']=-0x5c6*0x1+0xee+0x4d8,_0x1bbfa4=ne();});const _0x1b900e=_0x43c508['createProg'+'ram']();this['glProgram']=_0x1b900e,_0x43c508['attachShad'+'er'](_0x1b900e,this['glVertexSh'+'ader']),_0x43c508['attachShad'+'er'](_0x1b900e,this['glFragment'+'Shader']);const _0xcc5e7b=_0x4e1b1e['definition'],_0x28ff0a=_0xcc5e7b['attributes'];if(_0xcc5e7b['useTransfo'+'rmFeedback']){const _0x39efc0=[];for(const _0x507c4a in _0x28ff0a)_0x28ff0a['hasOwnProp'+'erty'](_0x507c4a)&&_0x39efc0['push']('out_'+_0x507c4a);_0x43c508['transformF'+'eedbackVar'+'yings'](_0x1b900e,_0x39efc0,_0x43c508['INTERLEAVE'+'D_ATTRIBS']);}const _0xb38f46={};for(const _0x1fb004 in _0x28ff0a)if(_0x28ff0a['hasOwnProp'+'erty'](_0x1fb004)){const _0x3607e5=_0x28ff0a[_0x1fb004],_0x19e84e=ve[_0x3607e5];v['assert'](!_0xb38f46['hasOwnProp'+'erty'](_0x19e84e),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0xb38f46[_0x19e84e]+'\x20and\x20'+_0x1fb004),_0xb38f46[_0x19e84e]=_0x1fb004,_0x43c508['bindAttrib'+'Location'](_0x1b900e,_0x19e84e,_0x1fb004);}_0x43c508['linkProgra'+'m'](_0x1b900e),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x1bbfa4;}),_0x5d7df6['_shaderSta'+'ts']['linked']++,_0xcc5e7b['tag']===Ly&&_0x5d7df6['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x2875a4,_0x53b7ee,_0x467033){const _0x524fef=_0x2875a4['gl'];if(_0x524fef['isContextL'+'ost']())return null;const _0x2afe82=(_0x467033?ab:ob)['get'](_0x2875a4,()=>new nb());let _0x2d3efa=_0x2afe82['map']['get'](_0x53b7ee);if(!_0x2d3efa){const _0x3d56c6=ne();_0x2875a4['fire']('shader:com'+'pile:start',{'timestamp':_0x3d56c6,'target':_0x2875a4}),_0x2d3efa=_0x524fef['createShad'+'er'](_0x467033?_0x524fef['VERTEX_SHA'+'DER']:_0x524fef['FRAGMENT_S'+'HADER']),_0x524fef['shaderSour'+'ce'](_0x2d3efa,_0x53b7ee),_0x524fef['compileSha'+'der'](_0x2d3efa),_0x2afe82['map']['set'](_0x53b7ee,_0x2d3efa);const _0x246705=ne();_0x2875a4['fire']('shader:com'+'pile:end',{'timestamp':_0x246705,'target':_0x2875a4}),_0x2875a4['_shaderSta'+'ts']['compileTim'+'e']+=_0x246705-_0x3d56c6,_0x467033?_0x2875a4['_shaderSta'+'ts']['vsCompiled']++:_0x2875a4['_shaderSta'+'ts']['fsCompiled']++;}return _0x2d3efa;}['finalize'](_0x2848cb,_0x8a06ab){var _0x20910e,_0x4145ad;const _0x3d3a2a=_0x2848cb['gl'];if(_0x3d3a2a['isContextL'+'ost']())return!(0xf*0x252+0x1032+0x80*-0x66);const _0x175d33=this['glProgram'],_0x172001=_0x8a06ab['definition'],_0x3291e8=ne();_0x2848cb['fire']('shader:lin'+'k:start',{'timestamp':_0x3291e8,'target':_0x2848cb});let _0x4c1dbe=-0x761*-0x1+0x1a10+-0x2171;if(v['call'](()=>{_0x4c1dbe=ne();}),!_0x3d3a2a['getProgram'+'Parameter'](_0x175d33,_0x3d3a2a['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x2848cb,_0x8a06ab,this['glVertexSh'+'ader'],_0x172001['vshader'],'vertex')||!this['_isCompile'+'d'](_0x2848cb,_0x8a06ab,this['glFragment'+'Shader'],_0x172001['fshader'],'fragment'))return!(-0x1d*-0x50+-0x7c5+-0x14a);const _0x422136='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x3d3a2a['getProgram'+'InfoLog'](_0x175d33);return _0x172001['translated'+'Frag']=(_0x20910e=_0x3d3a2a['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x887+-0x5*0x419+0x2*0xe82):_0x20910e['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x172001['translated'+'Vert']=(_0x4145ad=_0x3d3a2a['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1d36+-0x20d8+0x1e*0x1f):_0x4145ad['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x422136,_0x172001),console['error'](_0x422136),!(-0x8bd*-0x1+0x173*0x1+-0xa2f);}const _0x351661=_0x3d3a2a['getProgram'+'Parameter'](_0x175d33,_0x3d3a2a['ACTIVE_ATT'+'RIBUTES']);for(let _0x361e0b=0x561+0x3*0xa22+-0x2b*0xd5;_0x361e0b<_0x351661;_0x361e0b++){const _0x28f590=_0x3d3a2a['getActiveA'+'ttrib'](_0x175d33,_0x361e0b),_0x6bf47f=_0x3d3a2a['getAttribL'+'ocation'](_0x175d33,_0x28f590['name']);if(!rb['has'](_0x28f590['name'])){if(_0x172001['attributes'][_0x28f590['name']]===void(-0x2001+0x14e*-0x2+0x229d))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x28f590['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x8a06ab['label']+']',_0x8a06ab),_0x8a06ab['failed']=!(0x10c+0xbb7*0x3+-0x2431);else{const _0x3fc4ac=new Mm(_0x2848cb,_0x172001['attributes'][_0x28f590['name']],_0x2848cb['pcUniformT'+'ype'][_0x28f590['type']],_0x6bf47f);this['attributes']['push'](_0x3fc4ac);}}}const _0x8e5045=_0x2848cb['_samplerTy'+'pes'],_0x437aff=_0x3d3a2a['getProgram'+'Parameter'](_0x175d33,_0x3d3a2a['ACTIVE_UNI'+'FORMS']);for(let _0xfe0c8=-0x6de+0x1*-0x17fa+0x3*0xa48;_0xfe0c8<_0x437aff;_0xfe0c8++){const _0x321988=_0x3d3a2a['getActiveU'+'niform'](_0x175d33,_0xfe0c8),_0x5764ac=_0x3d3a2a['getUniform'+'Location'](_0x175d33,_0x321988['name']),_0x377598=new Mm(_0x2848cb,_0x321988['name'],_0x2848cb['pcUniformT'+'ype'][_0x321988['type']],_0x5764ac);_0x8e5045['has'](_0x321988['type'])?this['samplers']['push'](_0x377598):this['uniforms']['push'](_0x377598);}_0x8a06ab['ready']=!(-0x9d*0x25+-0x1f56*0x1+-0x3607*-0x1);const _0x24a6b6=ne();return _0x2848cb['fire']('shader:lin'+'k:end',{'timestamp':_0x24a6b6,'target':_0x2848cb}),_0x2848cb['_shaderSta'+'ts']['compileTim'+'e']+=_0x24a6b6-_0x3291e8,v['call'](()=>{const _0x2f2c1c=ne()-_0x4c1dbe;this['compileDur'+'ation']+=_0x2f2c1c,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x8a06ab['id']+']\x20'+_0x8a06ab['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x33e+0x1ea6*0x1+-0x1b67)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](-0xf*-0x229+-0x2*-0x8c8+0x1*-0x31f6)+'ms');}),!(0x2579*-0x1+-0x16bc+0x3c35*0x1);}['_isCompile'+'d'](_0x47c5f6,_0x2362a2,_0x4cc79d,_0x57925b,_0x1bd73c){const _0x59d704=_0x47c5f6['gl'];if(!_0x59d704['getShaderP'+'arameter'](_0x4cc79d,_0x59d704['COMPILE_ST'+'ATUS'])){const _0x17f903=_0x59d704['getShaderI'+'nfoLog'](_0x4cc79d),[_0x17b8f6,_0x273a78]=this['_processEr'+'ror'](_0x57925b,_0x17f903),_0x2ea1='Failed\x20to\x20'+'compile\x20'+_0x1bd73c+'\x20shader:\x0a\x0a'+_0x17f903+'\x0a'+_0x17b8f6+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x273a78['shader']=_0x2362a2,console['error'](_0x2ea1,_0x273a78),console['error'](_0x2ea1),!(0x1da+0x1998+-0x1b71);}return!(-0x1de5+0x1*0x156a+0x87b);}['isLinked'](_0x52eccf){const {extParallelShaderCompile:_0x4f109c}=_0x52eccf;return _0x4f109c?_0x52eccf['gl']['getProgram'+'Parameter'](this['glProgram'],_0x4f109c['COMPLETION'+'_STATUS_KH'+'R']):!(0x1*0x11ab+0x8d5+-0x1a8*0x10);}['_processEr'+'ror'](_0x18ac5f,_0x4cf481){const _0x3b6207={};let _0x11c44b='';if(_0x18ac5f){const _0x2ce58e=_0x18ac5f['split']('\x0a');let _0x490331=0x1fbd+-0x683*0x5+-0x6*-0x23,_0x4e8a41=_0x2ce58e['length'];if(_0x4cf481&&_0x4cf481['startsWith']('ERROR:')){const _0x3f164a=_0x4cf481['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x3f164a&&(_0x3b6207['message']=_0x3f164a[-0x2580+-0x1f5+-0x6*-0x694],_0x3b6207['line']=parseInt(_0x3f164a[0x15c7+-0x1*-0x21f7+-0x37bc],0xc1*-0x13+0x31c+0xb41),_0x490331=Math['max'](0x3ca+-0xbaf*-0x3+-0x26d7,_0x3b6207['line']-(-0x1113+-0x17e0+0x28f9)),_0x4e8a41=Math['min'](_0x2ce58e['length'],_0x3b6207['line']+(-0x1*0x74f+-0x65*0x32+0x1b0e)));}for(let _0x1e3066=_0x490331;_0x1e3066<_0x4e8a41;_0x1e3066++)_0x11c44b+=_0x1e3066+(0x3cd*0x3+-0x6*0x641+-0x344*-0x8)+':\x09'+_0x2ce58e[_0x1e3066]+'\x0a';_0x3b6207['source']=_0x18ac5f;}return[_0x11c44b,_0x3b6207];}}function Rm(_0x3832f6,_0xa2d5cf){const _0x5d5349=_0x3832f6['width'],_0x40967d=_0x3832f6['height'];if(_0x5d5349>_0xa2d5cf||_0x40967d>_0xa2d5cf){const _0x44d3ec=_0xa2d5cf/Math['max'](_0x5d5349,_0x40967d),_0x1e865b=Math['floor'](_0x5d5349*_0x44d3ec),_0x2c5921=Math['floor'](_0x40967d*_0x44d3ec);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0xa2d5cf+('.\x20Resizing'+'\x20from\x20')+_0x5d5349+',\x20'+_0x40967d+'\x20to\x20'+_0x1e865b+',\x20'+_0x2c5921+'.');const _0x4aecf2=document['createElem'+'ent']('canvas');return _0x4aecf2['width']=_0x1e865b,_0x4aecf2['height']=_0x2c5921,_0x4aecf2['getContext']('2d')['drawImage'](_0x3832f6,0x9ac+0x10df+0x54f*-0x5,0x103d+0x48d+0x2*-0xa65,_0x5d5349,_0x40967d,-0x1*-0x2408+0x4d*-0x23+0x1*-0x1981,0x45*-0x41+0x1a*-0x6b+0x22f*0xd,_0x1e865b,_0x2c5921),_0x4aecf2;}return _0x3832f6;}class hb{constructor(_0x496a30){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',0xa72+-0x6*0x463+0xfe0),this['texture']=_0x496a30;}['destroy'](_0x437230){if(this['_glTexture']){for(let _0x3787b0=0x13f*-0x4+-0x39*-0x34+-0x698;_0x3787b0<_0x437230['textureUni'+'ts']['length'];_0x3787b0++){const _0x1ac72f=_0x437230['textureUni'+'ts'][_0x3787b0];for(let _0x48c7b1=0x2*0x1193+0x6f7*0x1+-0x1*0x2a1d;_0x48c7b1<_0x1ac72f['length'];_0x48c7b1++)_0x1ac72f[_0x48c7b1]===this['_glTexture']&&(_0x1ac72f[_0x48c7b1]=null);}_0x437230['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x5924aa){this['dirtyParam'+'eterFlags']|=_0x5924aa;}['initialize'](_0x29cc1f,_0x22d75a){const _0x349f64=_0x29cc1f['gl'];switch(this['_glTexture']=_0x349f64['createText'+'ure'](),this['_glTarget']=_0x22d75a['_cubemap']?_0x349f64['TEXTURE_CU'+'BE_MAP']:_0x22d75a['_volume']?_0x349f64['TEXTURE_3D']:_0x22d75a['array']?_0x349f64['TEXTURE_2D'+'_ARRAY']:_0x349f64['TEXTURE_2D'],_0x22d75a['_format']){case fy:this['_glFormat']=_0x349f64['ALPHA'],this['_glInterna'+'lFormat']=_0x349f64['ALPHA'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x349f64['LUMINANCE'],this['_glInterna'+'lFormat']=_0x349f64['LUMINANCE'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0x349f64['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x349f64['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0x349f64['RED'],this['_glInterna'+'lFormat']=_0x349f64['R8'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x349f64['RG'],this['_glInterna'+'lFormat']=_0x349f64['RG8'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x349f64['RGB'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x349f64['RGBA'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x349f64['RGBA'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x349f64['RGB8'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x349f64['RGBA8'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case $o:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x29cc1f['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x29cc1f['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x29cc1f['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0x349f64['SRGB'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0x349f64['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0x349f64['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0x349f64['SRGB'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0x349f64['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0x349f64['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x29cc1f['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x29cc1f['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x349f64['RED'],this['_glInterna'+'lFormat']=_0x349f64['R16F'],this['_glPixelTy'+'pe']=_0x349f64['HALF_FLOAT'];break;case tp:this['_glFormat']=_0x349f64['RG'],this['_glInterna'+'lFormat']=_0x349f64['RG16F'],this['_glPixelTy'+'pe']=_0x349f64['HALF_FLOAT'];break;case xc:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x349f64['RGB16F'],this['_glPixelTy'+'pe']=_0x349f64['HALF_FLOAT'];break;case Je:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x349f64['RGBA16F'],this['_glPixelTy'+'pe']=_0x349f64['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x349f64['RGB32F'],this['_glPixelTy'+'pe']=_0x349f64['FLOAT'];break;case Ke:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x349f64['RGBA32F'],this['_glPixelTy'+'pe']=_0x349f64['FLOAT'];break;case Ii:this['_glFormat']=_0x349f64['RED'],this['_glInterna'+'lFormat']=_0x349f64['R32F'],this['_glPixelTy'+'pe']=_0x349f64['FLOAT'];break;case Ci:this['_glFormat']=_0x349f64['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x349f64['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x349f64['FLOAT'];break;case la:this['_glFormat']=_0x349f64['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x349f64['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0x349f64['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x349f64['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x349f64['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0x349f64['RGB'],this['_glInterna'+'lFormat']=_0x349f64['SRGB8'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0x349f64['RGBA'],this['_glInterna'+'lFormat']=_0x349f64['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0x349f64['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x349f64['R8I'],this['_glPixelTy'+'pe']=_0x349f64['BYTE'];break;case xy:this['_glFormat']=_0x349f64['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x349f64['R8UI'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case Wf:this['_glFormat']=_0x349f64['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x349f64['R16I'],this['_glPixelTy'+'pe']=_0x349f64['SHORT'];break;case $f:this['_glFormat']=_0x349f64['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x349f64['R16UI'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0x349f64['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x349f64['R32I'],this['_glPixelTy'+'pe']=_0x349f64['INT'];break;case an:this['_glFormat']=_0x349f64['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x349f64['R32UI'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0x349f64['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x349f64['RG8I'],this['_glPixelTy'+'pe']=_0x349f64['BYTE'];break;case Sy:this['_glFormat']=_0x349f64['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x349f64['RG8UI'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x349f64['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x349f64['RG16I'],this['_glPixelTy'+'pe']=_0x349f64['SHORT'];break;case Yf:this['_glFormat']=_0x349f64['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x349f64['RG16UI'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x349f64['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x349f64['RG32I'],this['_glPixelTy'+'pe']=_0x349f64['INT'];break;case Zf:this['_glFormat']=_0x349f64['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x349f64['RG32UI'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0x349f64['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x349f64['RGBA8I'],this['_glPixelTy'+'pe']=_0x349f64['BYTE'];break;case vy:this['_glFormat']=_0x349f64['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x349f64['RGBA8UI'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0x349f64['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x349f64['RGBA16I'],this['_glPixelTy'+'pe']=_0x349f64['SHORT'];break;case Ac:this['_glFormat']=_0x349f64['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x349f64['RGBA16UI'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x349f64['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x349f64['RGBA32I'],this['_glPixelTy'+'pe']=_0x349f64['INT'];break;case ut:this['_glFormat']=_0x349f64['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x349f64['RGBA32UI'],this['_glPixelTy'+'pe']=_0x349f64['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x751*0x3+-0x6*0x63f+0xf88);}['upload'](_0x13e3a5,_0x387fbd){v['assert'](_0x387fbd['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x387fbd);const _0x27e69b=_0x13e3a5['gl'];if(!_0x387fbd['_needsUplo'+'ad']&&(_0x387fbd['_needsMipm'+'apsUpload']&&_0x387fbd['_mipmapsUp'+'loaded']||!_0x387fbd['pot']))return;let _0x1678ee=-0x1491+-0xeb1+0x2342,_0x42c728,_0x26ad7f;const _0x4b6a9a=_0x387fbd['numLevels'];for(_0x387fbd['array']&&_0x27e69b['texStorage'+'3D'](_0x27e69b['TEXTURE_2D'+'_ARRAY'],_0x4b6a9a,this['_glInterna'+'lFormat'],_0x387fbd['_width'],_0x387fbd['_height'],_0x387fbd['_arrayLeng'+'th']);_0x387fbd['_levels'][_0x1678ee]||_0x1678ee===-0x23b6+0x25a+0x215c;){if(!_0x387fbd['_needsUplo'+'ad']&&_0x1678ee===-0x2*-0xa7+-0x12*-0x12+-0x292){_0x1678ee++;continue;}else{if(_0x1678ee&&(!_0x387fbd['_needsMipm'+'apsUpload']||!_0x387fbd['_mipmaps']))break;}if(_0x42c728=_0x387fbd['_levels'][_0x1678ee],_0x26ad7f=(0x17d5+-0x2cf*-0x1+-0x1aa3)/Math['pow'](-0x15e0+-0x10*-0x1de+-0x7fe,_0x1678ee),_0x1678ee===0xe3*-0x1f+0xb21+0x105d&&!_0x387fbd['_compresse'+'d']&&!_0x387fbd['_integerFo'+'rmat']&&_0x387fbd['_levels']['length']<_0x4b6a9a&&(_0x27e69b['generateMi'+'pmap'](this['_glTarget']),_0x387fbd['_mipmapsUp'+'loaded']=!(0x1*-0x2195+0x2163+0x32)),_0x387fbd['_cubemap']){let _0x4e6471;if(_0x13e3a5['_isBrowser'+'Interface'](_0x42c728[-0x17*0x9b+0x18fa+-0x17*0x7b]))for(_0x4e6471=-0x13aa+0x1ec3+-0x3b3*0x3;_0x4e6471<-0x1eb*-0x4+0x323+-0xb*0xfb;_0x4e6471++){if(!_0x387fbd['_levelsUpd'+'ated'][-0xc19+-0x1c9*-0x2+-0x887*-0x1][_0x4e6471])continue;let _0x3d7d6a=_0x42c728[_0x4e6471];_0x13e3a5['_isImageBr'+'owserInter'+'face'](_0x3d7d6a)&&(_0x3d7d6a['width']>_0x13e3a5['maxCubeMap'+'Size']||_0x3d7d6a['height']>_0x13e3a5['maxCubeMap'+'Size'])&&(_0x3d7d6a=Rm(_0x3d7d6a,_0x13e3a5['maxCubeMap'+'Size']),_0x1678ee===0xa48+-0x4f*0x6+-0xa6*0xd&&(_0x387fbd['_width']=_0x3d7d6a['width'],_0x387fbd['_height']=_0x3d7d6a['height'])),_0x13e3a5['setUnpackF'+'lipY'](!(-0x1763+0x18d0+0x1c*-0xd)),_0x13e3a5['setUnpackP'+'remultiply'+'Alpha'](_0x387fbd['_premultip'+'lyAlpha']),this['_glCreated']?_0x27e69b['texSubImag'+'e2D'](_0x27e69b['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e6471,_0x1678ee,0x7*0x559+0x8ae+0x5*-0x939,0x2313+-0x2*-0x9d9+-0x36c5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3d7d6a):_0x27e69b['texImage2D'](_0x27e69b['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e6471,_0x1678ee,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x3d7d6a);}else for(_0x26ad7f=(-0x905*0x1+-0x553+0xe59)/Math['pow'](0x7a5*0x1+0x218d+-0x1*0x2930,_0x1678ee),_0x4e6471=-0x7b+0x185e+-0x17e3;_0x4e6471<-0x24cb+-0x1bcf+0x4*0x1028;_0x4e6471++){if(!_0x387fbd['_levelsUpd'+'ated'][0x1*0x21fd+-0x35c+-0x1*0x1ea1][_0x4e6471])continue;const _0x48fbf6=_0x42c728[_0x4e6471];_0x387fbd['_compresse'+'d']?this['_glCreated']&&_0x48fbf6?_0x27e69b['compressed'+'TexSubImag'+'e2D'](_0x27e69b['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e6471,_0x1678ee,0x83f*0x1+-0x1e0b*-0x1+-0x264a,-0x193+-0x61*-0x4f+0xdc*-0x21,Math['max'](_0x387fbd['_width']*_0x26ad7f,-0x667+0x1636+-0x77*0x22),Math['max'](_0x387fbd['_height']*_0x26ad7f,0xd07+0x731*0x5+-0x30fb*0x1),this['_glInterna'+'lFormat'],_0x48fbf6):_0x27e69b['compressed'+'TexImage2D'](_0x27e69b['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e6471,_0x1678ee,this['_glInterna'+'lFormat'],Math['max'](_0x387fbd['_width']*_0x26ad7f,0x1136*-0x1+-0x246c*-0x1+-0x1335*0x1),Math['max'](_0x387fbd['_height']*_0x26ad7f,-0x3*0x236+-0x26f3+-0x1e*-0x185),0x1bb8+0x1*-0x967+0x1251*-0x1,_0x48fbf6):(_0x13e3a5['setUnpackF'+'lipY'](!(-0x1982+0x1*0x17e9+0xcd*0x2)),_0x13e3a5['setUnpackP'+'remultiply'+'Alpha'](_0x387fbd['_premultip'+'lyAlpha']),this['_glCreated']&&_0x48fbf6?_0x27e69b['texSubImag'+'e2D'](_0x27e69b['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e6471,_0x1678ee,-0x1e2+0xe5*-0x15+-0x1e1*-0xb,0x1267+-0x1a40+0x29*0x31,Math['max'](_0x387fbd['_width']*_0x26ad7f,0x384+-0xc6+0x1*-0x2bd),Math['max'](_0x387fbd['_height']*_0x26ad7f,0x178*-0x4+-0x157d*0x1+0x1f*0xe2),this['_glFormat'],this['_glPixelTy'+'pe'],_0x48fbf6):_0x27e69b['texImage2D'](_0x27e69b['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4e6471,_0x1678ee,this['_glInterna'+'lFormat'],Math['max'](_0x387fbd['_width']*_0x26ad7f,-0x1*0xef5+0x1*-0x12b+-0x1*-0x1021),Math['max'](_0x387fbd['_height']*_0x26ad7f,-0x213e+-0x1c18+-0x1*-0x3d57),0x2af+-0xcc8+-0xa19*-0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x48fbf6));}}else{if(_0x387fbd['_volume'])_0x387fbd['_compresse'+'d']?_0x27e69b['compressed'+'TexImage3D'](_0x27e69b['TEXTURE_3D'],_0x1678ee,this['_glInterna'+'lFormat'],Math['max'](_0x387fbd['_width']*_0x26ad7f,-0x1*-0x86+0x3a*-0xb+-0x5*-0x65),Math['max'](_0x387fbd['_height']*_0x26ad7f,-0xec*0xc+0x1f3f+-0x142e),Math['max'](_0x387fbd['_depth']*_0x26ad7f,-0x1*-0x455+-0x11*-0x67+-0xb2b),-0x4c*0x4f+0x15d8+-0x2*-0xce,_0x42c728):(_0x13e3a5['setUnpackF'+'lipY'](!(-0xaa7+-0x61e+0x10c6*0x1)),_0x13e3a5['setUnpackP'+'remultiply'+'Alpha'](_0x387fbd['_premultip'+'lyAlpha']),_0x27e69b['texImage3D'](_0x27e69b['TEXTURE_3D'],_0x1678ee,this['_glInterna'+'lFormat'],Math['max'](_0x387fbd['_width']*_0x26ad7f,0x40*-0x34+-0x1cd8+-0x29d9*-0x1),Math['max'](_0x387fbd['_height']*_0x26ad7f,-0x49f+-0x64*-0x47+-0x74*0x33),Math['max'](_0x387fbd['_depth']*_0x26ad7f,0x1546+-0x24c6+0xf81),0x4a6*-0x1+0xb3d+-0x1*0x697,this['_glFormat'],this['_glPixelTy'+'pe'],_0x42c728));else{if(_0x387fbd['array']&&typeof _0x42c728=='object'){if(_0x387fbd['_arrayLeng'+'th']===_0x42c728['length']){if(_0x387fbd['_compresse'+'d']){for(let _0x1273b1=-0x503+-0x2*-0x212+0xdf;_0x1273b1<_0x387fbd['_arrayLeng'+'th'];_0x1273b1++)_0x27e69b['compressed'+'TexSubImag'+'e3D'](_0x27e69b['TEXTURE_2D'+'_ARRAY'],_0x1678ee,-0x357+0xc8*0x1+-0x5*-0x83,0x1b6f+0x29f*0x1+-0x1e0e,_0x1273b1,Math['max'](Math['floor'](_0x387fbd['_width']*_0x26ad7f),0xab*0x7+-0x25*-0x6b+-0x1423),Math['max'](Math['floor'](_0x387fbd['_height']*_0x26ad7f),0x3*0x3e1+-0x1*0x1cf6+0x2*0x8aa),0x258d*0x1+-0x1*0x93b+-0x1c51,this['_glInterna'+'lFormat'],_0x42c728[_0x1273b1]);}else{for(let _0x5d55ae=0x7*0x20b+-0x47+-0x703*0x2;_0x5d55ae<_0x387fbd['_arrayLeng'+'th'];_0x5d55ae++)_0x27e69b['texSubImag'+'e3D'](_0x27e69b['TEXTURE_2D'+'_ARRAY'],_0x1678ee,-0x14c0+-0x23bb+0x387b,-0x116f*-0x1+-0x259b+0x142c,_0x5d55ae,Math['max'](Math['floor'](_0x387fbd['_width']*_0x26ad7f),0x1*-0x1b95+-0x1*0xbef+0x2785),Math['max'](Math['floor'](_0x387fbd['_height']*_0x26ad7f),-0xd*-0x2f9+0x11bd+-0x1*0x3861),0x1822+0x3d2+0x9f*-0x2d,this['_glFormat'],this['_glPixelTy'+'pe'],_0x42c728[_0x5d55ae]);}}}else{if(_0x13e3a5['_isBrowser'+'Interface'](_0x42c728)){_0x13e3a5['_isImageBr'+'owserInter'+'face'](_0x42c728)&&(_0x42c728['width']>_0x13e3a5['maxTexture'+'Size']||_0x42c728['height']>_0x13e3a5['maxTexture'+'Size'])&&(_0x42c728=Rm(_0x42c728,_0x13e3a5['maxTexture'+'Size']),_0x1678ee===-0x159a+-0x85f+0x1df9&&(_0x387fbd['_width']=_0x42c728['width'],_0x387fbd['_height']=_0x42c728['height']));const _0x1fa0bc=_0x42c728['width']||_0x42c728['videoWidth'],_0x5ed56=_0x42c728['height']||_0x42c728['videoHeigh'+'t'];_0x13e3a5['setUnpackF'+'lipY'](_0x387fbd['_flipY']),_0x13e3a5['setUnpackP'+'remultiply'+'Alpha'](_0x387fbd['_premultip'+'lyAlpha']),this['_glCreated']&&_0x387fbd['_width']===_0x1fa0bc&&_0x387fbd['_height']===_0x5ed56&&!_0x13e3a5['_isImageVi'+'deoInterfa'+'ce'](_0x42c728)?_0x27e69b['texSubImag'+'e2D'](_0x27e69b['TEXTURE_2D'],_0x1678ee,-0x1f83*0x1+-0x1b91+0x13*0x31c,0x191e+-0x6de+-0x1240,this['_glFormat'],this['_glPixelTy'+'pe'],_0x42c728):(_0x27e69b['texImage2D'](_0x27e69b['TEXTURE_2D'],_0x1678ee,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x42c728),_0x1678ee===0x165c+-0xac6*-0x1+-0x2122&&(_0x387fbd['_width']=_0x1fa0bc,_0x387fbd['_height']=_0x5ed56));}else _0x26ad7f=(0xffd+0x148*0xf+-0x2ef*0xc)/Math['pow'](0xb67*0x3+0x1*0x24f2+0xd*-0x579,_0x1678ee),_0x387fbd['_compresse'+'d']?this['_glCreated']&&_0x42c728?_0x27e69b['compressed'+'TexSubImag'+'e2D'](_0x27e69b['TEXTURE_2D'],_0x1678ee,0x1*-0x1e26+-0x1*0x18bb+0x124b*0x3,-0x312*-0x7+-0x1de6+0x868,Math['max'](Math['floor'](_0x387fbd['_width']*_0x26ad7f),-0x95a*0x3+0xeb3*0x2+-0x157),Math['max'](Math['floor'](_0x387fbd['_height']*_0x26ad7f),0x23d9+-0x145a+-0xf7e),this['_glInterna'+'lFormat'],_0x42c728):_0x27e69b['compressed'+'TexImage2D'](_0x27e69b['TEXTURE_2D'],_0x1678ee,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x387fbd['_width']*_0x26ad7f),0x13f7+0x7*-0x351+0x341*0x1),Math['max'](Math['floor'](_0x387fbd['_height']*_0x26ad7f),-0x1*0x181+-0x8eb*0x3+0x1c43),0x1fe8+-0x389*0x9+-0x1*0x17,_0x42c728):(_0x13e3a5['setUnpackF'+'lipY'](!(-0x1*-0x1ae6+-0x23dd+0x8f8)),_0x13e3a5['setUnpackP'+'remultiply'+'Alpha'](_0x387fbd['_premultip'+'lyAlpha']),this['_glCreated']&&_0x42c728?_0x27e69b['texSubImag'+'e2D'](_0x27e69b['TEXTURE_2D'],_0x1678ee,-0x134d+0xc07*-0x1+0x1f54,-0x22f4+-0xd62+-0x10d*-0x2e,Math['max'](_0x387fbd['_width']*_0x26ad7f,-0xcb*0x1f+-0xc79+-0x250f*-0x1),Math['max'](_0x387fbd['_height']*_0x26ad7f,0x85a*-0x4+-0x1e67*-0x1+0x302),this['_glFormat'],this['_glPixelTy'+'pe'],_0x42c728):_0x27e69b['texImage2D'](_0x27e69b['TEXTURE_2D'],_0x1678ee,this['_glInterna'+'lFormat'],Math['max'](_0x387fbd['_width']*_0x26ad7f,0x1018+0x9d5*0x1+0x9e*-0x2a),Math['max'](_0x387fbd['_height']*_0x26ad7f,-0x137c+-0x5*-0x56f+-0x3d7*0x2),0x13*-0x2+0x9e8+-0x9c2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x42c728));_0x1678ee===0x510+0x1*-0x15f7+-0x10e7*-0x1?_0x387fbd['_mipmapsUp'+'loaded']=!(-0xa78+0x409*0x7+0x46*-0x41):_0x387fbd['_mipmapsUp'+'loaded']=!(-0x1f1e+-0xee0+-0x692*-0x7);}}}_0x1678ee++;}if(_0x387fbd['_needsUplo'+'ad']){if(_0x387fbd['_cubemap']){for(let _0x267cf4=-0x305+-0x10e1*-0x1+-0xddc;_0x267cf4<-0x1*-0xb5+0xf91+-0x1040*0x1;_0x267cf4++)_0x387fbd['_levelsUpd'+'ated'][-0x1*-0x26b1+-0x709+-0x1fa8][_0x267cf4]=!(-0x3*0xc89+0xe9*0x1+0x24b3);}else _0x387fbd['_levelsUpd'+'ated'][-0xe96+-0x4f*-0x63+-0xff7]=!(0x180b+-0x1b0a+0x300);}!_0x387fbd['_compresse'+'d']&&!_0x387fbd['_integerFo'+'rmat']&&_0x387fbd['_mipmaps']&&_0x387fbd['_needsMipm'+'apsUpload']&&_0x387fbd['_levels']['length']===0x5*-0x415+-0x126*0x2+-0x22*-0xab&&(_0x27e69b['generateMi'+'pmap'](this['_glTarget']),_0x387fbd['_mipmapsUp'+'loaded']=!(-0x54d+0x141d+-0xed0)),_0x387fbd['_gpuSize']&&_0x387fbd['adjustVram'+'SizeTracki'+'ng'](_0x13e3a5['_vram'],-_0x387fbd['_gpuSize']),_0x387fbd['_gpuSize']=_0x387fbd['gpuSize'],_0x387fbd['adjustVram'+'SizeTracki'+'ng'](_0x13e3a5['_vram'],_0x387fbd['_gpuSize']),this['_glCreated']=!(-0x47e+-0x1*-0xc3d+-0x7bf);}['read'](_0x379685,_0x220e77,_0x56e556,_0x151a0f,_0x367c0e){const _0x577493=this['texture'];return _0x577493['device']['readTextur'+'eAsync'](_0x577493,_0x379685,_0x220e77,_0x56e556,_0x151a0f,_0x367c0e);}}class cb{constructor(_0x5af8fa,_0x734acb){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x5af8fa,this['resolveFB']=_0x734acb);}['destroy'](_0x160fd0){this['msaaFB']&&(_0x160fd0['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x160fd0['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(-0x18a*0x8+0xf1f+-0x2ce));}['destroy'](_0x49abcd){var _0x106aa4;const _0x21eec3=_0x49abcd['gl'];this['_isInitial'+'ized']=!(0x1*0x728+0x126+-0x19*0x55),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x21eec3['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x21eec3['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x21eec3['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x42e0b1=>{_0x21eec3['deleteRend'+'erbuffer'](_0x42e0b1);}),this['_glMsaaCol'+'orBuffers']['length']=-0x5*0x546+-0x1a5*-0xb+-0xa3*-0xd,(_0x106aa4=this['colorMrtFr'+'amebuffers'])==null||_0x106aa4['forEach'](_0x2268fc=>{_0x2268fc['destroy'](_0x21eec3);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0x49abcd)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x6d0+0x86*-0x40+0x2850);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x3999df,_0xbb4a30){var _0x12c139,_0x140b51;const _0x4e9e31=_0x3999df['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x1fbe+0x2*0x46+0x79*0x42);const _0x1cfee6=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0xb3c+-0x55f*-0x7+-0x30d5))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0xbb4a30['width']<=-0x9*0x1ab+-0x3*-0xd+0xedc||_0xbb4a30['height']<=-0x3*-0x883+0x2*-0xdfb+0x26d)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0xbb4a30['width']+'\x20x\x20'+_0xbb4a30['height'],_0xbb4a30);}),this['_glFrameBu'+'ffer']=_0x4e9e31['createFram'+'ebuffer'](),_0x3999df['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x5986e8=((_0x12c139=_0xbb4a30['_colorBuff'+'ers'])==null?void(-0xb03+0x3*0x6ea+-0x9bb):_0x12c139['length'])??-0x40e+0x6*-0x3ac+0x173*0x12,_0x5cd2b6=_0x4e9e31['COLOR_ATTA'+'CHMENT0'];for(let _0x3eea45=0x1*0x158f+-0x10cb+-0xa*0x7a;_0x3eea45<_0x5986e8;++_0x3eea45){const _0x57162f=_0xbb4a30['getColorBu'+'ffer'](_0x3eea45);_0x57162f&&(_0x57162f['impl']['_glTexture']||(_0x57162f['_width']=Math['min'](_0x57162f['width'],_0x3999df['maxRenderB'+'ufferSize']),_0x57162f['_height']=Math['min'](_0x57162f['height'],_0x3999df['maxRenderB'+'ufferSize']),_0x3999df['setTexture'](_0x57162f,0xdf6*-0x2+-0xd17+0x2903)),_0x4e9e31['framebuffe'+'rTexture2D'](_0x4e9e31['FRAMEBUFFE'+'R'],_0x5cd2b6+_0x3eea45,_0x57162f['_cubemap']?_0x4e9e31['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xbb4a30['_face']:_0x4e9e31['TEXTURE_2D'],_0x57162f['impl']['_glTexture'],_0xbb4a30['mipLevel']),_0x1cfee6['push'](_0x5cd2b6+_0x3eea45));}_0x4e9e31['drawBuffer'+'s'](_0x1cfee6);const _0x46a701=_0xbb4a30['_depthBuff'+'er'];if(_0x46a701||_0xbb4a30['_depth']){const _0x42ba2a=_0xbb4a30['_stencil']?_0x4e9e31['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x4e9e31['DEPTH_ATTA'+'CHMENT'];if(_0x46a701)_0x46a701['impl']['_glTexture']||(_0x46a701['_width']=Math['min'](_0x46a701['width'],_0x3999df['maxRenderB'+'ufferSize']),_0x46a701['_height']=Math['min'](_0x46a701['height'],_0x3999df['maxRenderB'+'ufferSize']),_0x3999df['setTexture'](_0x46a701,-0x2*0xefe+0x49e*0x3+0x1022)),_0x4e9e31['framebuffe'+'rTexture2D'](_0x4e9e31['FRAMEBUFFE'+'R'],_0x42ba2a,_0x46a701['_cubemap']?_0x4e9e31['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xbb4a30['_face']:_0x4e9e31['TEXTURE_2D'],_0xbb4a30['_depthBuff'+'er']['impl']['_glTexture'],_0xbb4a30['mipLevel']);else{if(!(_0xbb4a30['_samples']>0x1bf6+-0x2*-0x9ad+-0x2f4f)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x4e9e31['createRend'+'erbuffer']());const _0x3d6c2a=_0xbb4a30['_stencil']?_0x4e9e31['DEPTH24_ST'+'ENCIL8']:_0x4e9e31['DEPTH_COMP'+'ONENT32F'];_0x4e9e31['bindRender'+'buffer'](_0x4e9e31['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x4e9e31['renderbuff'+'erStorage'](_0x4e9e31['RENDERBUFF'+'ER'],_0x3d6c2a,_0xbb4a30['width'],_0xbb4a30['height']),_0x4e9e31['framebuffe'+'rRenderbuf'+'fer'](_0x4e9e31['FRAMEBUFFE'+'R'],_0x42ba2a,_0x4e9e31['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x4e9e31['bindRender'+'buffer'](_0x4e9e31['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x3999df,_0xbb4a30));}if(_0xbb4a30['_samples']>-0x124b+-0xe3*-0x1f+-0xb5*0xd){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x4e9e31['createFram'+'ebuffer'](),_0x3999df['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x22bd8f=((_0x140b51=_0xbb4a30['_colorBuff'+'ers'])==null?void(0xf24+0x1087+-0x1fab):_0x140b51['length'])??-0x1288*-0x1+0x6*0x7f+0xac1*-0x2;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x8f5+-0x16c0+-0xb*-0x141)){const _0x117b22=_0x4e9e31['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x117b22);const _0x406ab9=_0x3999df['backBuffer'+'Format']===Se?_0x4e9e31['RGBA8']:_0x4e9e31['RGB8'];_0x4e9e31['bindRender'+'buffer'](_0x4e9e31['RENDERBUFF'+'ER'],_0x117b22),_0x4e9e31['renderbuff'+'erStorageM'+'ultisample'](_0x4e9e31['RENDERBUFF'+'ER'],_0xbb4a30['_samples'],_0x406ab9,_0xbb4a30['width'],_0xbb4a30['height']),_0x4e9e31['framebuffe'+'rRenderbuf'+'fer'](_0x4e9e31['FRAMEBUFFE'+'R'],_0x4e9e31['COLOR_ATTA'+'CHMENT0'],_0x4e9e31['RENDERBUFF'+'ER'],_0x117b22);}else for(let _0x2f8504=0x6a7+0x1fda+-0x2681;_0x2f8504<_0x22bd8f;++_0x2f8504){const _0x1999cc=_0xbb4a30['getColorBu'+'ffer'](_0x2f8504);if(_0x1999cc){const _0x2daad5=_0x4e9e31['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x2daad5),_0x4e9e31['bindRender'+'buffer'](_0x4e9e31['RENDERBUFF'+'ER'],_0x2daad5),_0x4e9e31['renderbuff'+'erStorageM'+'ultisample'](_0x4e9e31['RENDERBUFF'+'ER'],_0xbb4a30['_samples'],_0x1999cc['impl']['_glInterna'+'lFormat'],_0xbb4a30['width'],_0xbb4a30['height']),_0x4e9e31['framebuffe'+'rRenderbuf'+'fer'](_0x4e9e31['FRAMEBUFFE'+'R'],_0x4e9e31['COLOR_ATTA'+'CHMENT0']+_0x2f8504,_0x4e9e31['RENDERBUFF'+'ER'],_0x2daad5);}}if(_0xbb4a30['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x1f0c7f=_0xbb4a30['_stencil']?_0x4e9e31['DEPTH24_ST'+'ENCIL8']:_0x4e9e31['DEPTH_COMP'+'ONENT32F'],_0x514a51=_0xbb4a30['_stencil']?_0x4e9e31['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x4e9e31['DEPTH_ATTA'+'CHMENT'];let _0x2b6769;const _0x4ce68d=_0xbb4a30['_depthBuff'+'er'];_0x4ce68d&&(_0x2b6769=_0x4ce68d['id']+':'+_0xbb4a30['width']+':'+_0xbb4a30['height']+':'+_0xbb4a30['_samples']+':'+_0x1f0c7f+':'+_0x514a51,this['_glMsaaDep'+'thBuffer']=od(_0x3999df)['get'](_0x2b6769)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x4e9e31['createRend'+'erbuffer'](),_0x4e9e31['bindRender'+'buffer'](_0x4e9e31['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x4e9e31['renderbuff'+'erStorageM'+'ultisample'](_0x4e9e31['RENDERBUFF'+'ER'],_0xbb4a30['_samples'],_0x1f0c7f,_0xbb4a30['width'],_0xbb4a30['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x4e9e31['deleteRend'+'erbuffer'](this);},_0x4ce68d&&od(_0x3999df)['set'](_0x2b6769,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x2b6769,_0x4e9e31['framebuffe'+'rRenderbuf'+'fer'](_0x4e9e31['FRAMEBUFFE'+'R'],_0x514a51,_0x4e9e31['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x3999df,_0xbb4a30,'MSAA')),_0x22bd8f>0x74f*-0x2+0x1740+-0x8a1&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x3999df,_0xbb4a30,_0x22bd8f),_0x3999df['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x4e9e31['drawBuffer'+'s'](_0x1cfee6));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x2c30bc,_0x36b641,_0x1efcbe){const _0x344d43=_0x2c30bc['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x36853a=0x1b4*0x13+0x3*-0x821+-0xd*0x9d;_0x36853a<_0x1efcbe;++_0x36853a){const _0x1e960d=_0x36b641['getColorBu'+'ffer'](_0x36853a),_0x3b4501=_0x344d43['createFram'+'ebuffer']();_0x2c30bc['setFramebu'+'ffer'](_0x3b4501);const _0x512a68=this['_glMsaaCol'+'orBuffers'][_0x36853a];_0x344d43['bindRender'+'buffer'](_0x344d43['RENDERBUFF'+'ER'],_0x512a68),_0x344d43['renderbuff'+'erStorageM'+'ultisample'](_0x344d43['RENDERBUFF'+'ER'],_0x36b641['_samples'],_0x1e960d['impl']['_glInterna'+'lFormat'],_0x36b641['width'],_0x36b641['height']),_0x344d43['framebuffe'+'rRenderbuf'+'fer'](_0x344d43['FRAMEBUFFE'+'R'],_0x344d43['COLOR_ATTA'+'CHMENT0'],_0x344d43['RENDERBUFF'+'ER'],_0x512a68),_0x344d43['drawBuffer'+'s']([_0x344d43['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x2c30bc,_0x36b641,'MSAA-MRT-s'+'rc'+_0x36853a));const _0x15e55c=_0x344d43['createFram'+'ebuffer']();_0x2c30bc['setFramebu'+'ffer'](_0x15e55c),_0x344d43['framebuffe'+'rTexture2D'](_0x344d43['FRAMEBUFFE'+'R'],_0x344d43['COLOR_ATTA'+'CHMENT0'],_0x1e960d['_cubemap']?_0x344d43['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x36b641['_face']:_0x344d43['TEXTURE_2D'],_0x1e960d['impl']['_glTexture'],0x1fd*0x3+0xa0e+0x3*-0x557),this['colorMrtFr'+'amebuffers'][_0x36853a]=new cb(_0x3b4501,_0x15e55c),v['call'](()=>this['_checkFbo'](_0x2c30bc,_0x36b641,'MSAA-MRT-d'+'st'+_0x36853a));}}['_checkFbo'](_0x12c8aa,_0x3a1289,_0x97374a=''){const _0x2d3073=_0x12c8aa['gl'],_0x282bd7=_0x2d3073['checkFrame'+'bufferStat'+'us'](_0x2d3073['FRAMEBUFFE'+'R']);let _0x373c8a;switch(_0x282bd7){case _0x2d3073['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x373c8a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x2d3073['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x373c8a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x2d3073['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x373c8a='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x2d3073['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x373c8a='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x373c8a,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x373c8a+(',\x20render\x20t'+'arget:\x20')+_0x3a1289['name']+'\x20'+_0x97374a,_0x3a1289);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0xbf2+-0x2*-0xbe1+0xd8*-0xe,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x19*-0x78+-0x323*0xc+0x19ec),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x138f+-0x1fee+0xc5f),this['_isInitial'+'ized']=!(-0x1b07+0x1633+0x1*0x4d5);}['internalRe'+'solve'](_0x1ea683,_0x5186d0,_0x54bd22,_0x3c3af7,_0x309559){v['assert'](_0x5186d0!==_0x54bd22,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x1ea683['setScissor'](-0x16*-0xca+-0x20e0+0xf84,0x22a7*-0x1+0x3*0x886+0x1f*0x4b,_0x3c3af7['width'],_0x3c3af7['height']);const _0x1daef9=_0x1ea683['gl'];_0x1daef9['bindFrameb'+'uffer'](_0x1daef9['READ_FRAME'+'BUFFER'],_0x5186d0),_0x1daef9['bindFrameb'+'uffer'](_0x1daef9['DRAW_FRAME'+'BUFFER'],_0x54bd22),_0x1daef9['blitFrameb'+'uffer'](0x1697*-0x1+0x11d6*-0x2+0x3a43,0x1*0x1b83+-0x20d5+0x552,_0x3c3af7['width'],_0x3c3af7['height'],0x8b*-0x46+0x2*0x16f+0x1192*0x2,0x24bd+-0x84f+-0x97a*0x3,_0x3c3af7['width'],_0x3c3af7['height'],_0x309559,_0x1daef9['NEAREST']);}['resolve'](_0x8401cd,_0x2de738,_0x206fab,_0x208497){const _0x392ef8=_0x8401cd['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x206fab)for(let _0xa067e3=0x23f6+0x112*-0x22+0x2*0x37;_0xa067e3<this['colorMrtFr'+'amebuffers']['length'];_0xa067e3++){const _0x2e0a6c=this['colorMrtFr'+'amebuffers'][_0xa067e3];G['pushGpuMar'+'ker'](_0x8401cd,'RESOLVE-MR'+'T'+_0xa067e3),this['internalRe'+'solve'](_0x8401cd,_0x2e0a6c['msaaFB'],_0x2e0a6c['resolveFB'],_0x2de738,_0x392ef8['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x8401cd);}_0x208497&&(G['pushGpuMar'+'ker'](_0x8401cd,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x8401cd,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x2de738,_0x392ef8['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x8401cd));}else G['pushGpuMar'+'ker'](_0x8401cd,'RESOLVE'),this['internalRe'+'solve'](_0x8401cd,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x2de738,(_0x206fab?_0x392ef8['COLOR_BUFF'+'ER_BIT']:0x176f+-0x144e*0x1+-0x59*0x9)|(_0x208497?_0x392ef8['DEPTH_BUFF'+'ER_BIT']:-0x1dd8+0x3*0xc87+-0x7bd)),G['popGpuMark'+'er'](_0x8401cd);_0x392ef8['bindFrameb'+'uffer'](_0x392ef8['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x56fc86){this['queries']['forEach'](_0x2e484c=>_0x56fc86['deleteQuer'+'y'](_0x2e484c)),this['queries']=null;}}class fb extends tb{constructor(_0x34c9fa){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x34c9fa,this['ext']=_0x34c9fa['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0xc3411f=>this['device']['gl']['deleteQuer'+'y'](_0xc3411f)),this['frameQueri'+'es']['forEach'](_0x3c45cf=>this['device']['gl']['deleteQuer'+'y'](_0x3c45cf)),this['previousFr'+'ameQueries']['forEach'](_0xc200c4=>_0xc200c4['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x30101c){if(this['ext']){const _0x2739ef=this['getSlot'](_0x30101c),_0x50ac52=this['getQuery']();return this['frameQueri'+'es'][_0x2739ef]=_0x50ac52,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x50ac52),_0x2739ef;}}['end'](_0x43ab90){_0x43ab90!==void(-0x1f*0x9d+0x392+-0xf71*-0x1)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x395bbf=this['ext'],_0x118370=this['device']['gl'],_0x1ea278=this['device']['renderVers'+'ion'],_0x12b53e=this['frameQueri'+'es'];if(_0x12b53e['length']>-0x1*-0x25a8+0x1*0xb19+-0x30c1){this['frameQueri'+'es']=[];const _0x320d51=new ub();_0x320d51['queries']=_0x12b53e,_0x320d51['renderVers'+'ion']=_0x1ea278,this['previousFr'+'ameQueries']['push'](_0x320d51);}if(this['previousFr'+'ameQueries']['length']>-0x343*0x4+-0x16c3+0x23cf){const _0x224816=this['previousFr'+'ameQueries'][0x11de+0x2632*0x1+-0x3810],_0x491e87=_0x224816['queries'],_0x5f4b0a=_0x491e87[_0x491e87['length']-(-0xbb*0x1a+0x25fd+0x12fe*-0x1)],_0x4faa74=_0x118370['getQueryPa'+'rameter'](_0x5f4b0a,_0x118370['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x1fd898=_0x118370['getParamet'+'er'](_0x395bbf['GPU_DISJOI'+'NT_EXT']);if(_0x4faa74&&!_0x1fd898){this['previousFr'+'ameQueries']['shift']();const _0x21a83b=this['timings'];_0x21a83b['length']=0x8b3+-0x2271*-0x1+-0x2b24;for(let _0x209c7e=0x1e4c+0x93e+-0x278a;_0x209c7e<_0x491e87['length'];_0x209c7e++){const _0x41dd51=_0x491e87[_0x209c7e],_0x52f2ea=_0x118370['getQueryPa'+'rameter'](_0x41dd51,_0x118370['QUERY_RESU'+'LT']);_0x21a83b[_0x209c7e]=_0x52f2ea*(0x236e+-0x651+-0x1d1d+0.000001),this['freeQuerie'+'s']['push'](_0x41dd51);}this['report'](_0x224816['renderVers'+'ion'],_0x21a83b);}_0x1fd898&&(this['previousFr'+'ameQueries']['forEach'](_0x5350bc=>{this['report'](_0x5350bc['renderVers'+'ion'],null),_0x5350bc['destroy'](_0x118370);}),this['previousFr'+'ameQueries']['length']=-0x2128+0x23be+-0x296);}super['request'](_0x1ea278);}}}const Tn=[];class pb extends Fh{constructor(_0x516bca,_0x279239={}){super(_0x516bca,_0x279239),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x25e0+-0x135d+-0x393e*-0x1)),(_0x279239=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x1*0x6e9+-0x5d*0x38+0x1b42),this['_contextLo'+'stHandler']=_0x23e0f5=>{_0x23e0f5['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x199bdc=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x199bdc&&_0x199bdc['includes']('AppleWebKi'+'t')&&(_0x199bdc['includes']('15.4')||_0x199bdc['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x279239['antialias']=!(-0x1*-0x6fb+-0x11*0x2a+0x43*-0x10),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x191bdb=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x713ef9=_0x191bdb?_0x191bdb[-0x1f9e+0x129e+0x1*0xd01]:null;if(_0x713ef9){const _0x2073e4=parseFloat(_0x713ef9);(ye['name']==='windows'&&(_0x2073e4>=0x4f7+-0x679*0x4+-0x1565*-0x1||_0x2073e4===-0x2f5+-0xe05+0x116d)||ye['name']==='android'&&_0x2073e4>=-0x863*-0x1+0x123d+-0x1a1c)&&(_0x279239['antialias']=!(-0x1a0d+0x1e0d+-0x3ff),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x713ef9));}}this['backBuffer'+'Antialias']=_0x279239['antialias']??!(-0x2257+-0x1449+0x36a1),_0x279239['antialias']=!(0x249b+0x14ed+-0x3987);const _0x2164c2=_0x279239['gl']??_0x516bca['getContext']('webgl2',_0x279239);if(!_0x2164c2)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x2164c2,this['isWebGL2']=!(-0x70f*-0x3+-0x19b6+0x489),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x338e90=ye['browserNam'+'e']==='chrome',_0x1fbbd2=ye['browserNam'+'e']==='safari',_0x51f83e=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x2*-0x11ab+0x1a91*-0x1+0x44*-0x21);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x1fbbd2,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x51f83e&&_0x338e90&&!_0x279239['alpha'],_0x516bca['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x1d*-0x65+-0x6d3+-0x1*0x49d)),_0x516bca['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0xf*0x179+0x13a1+0x277)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x1fbbd2&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x2164c2['SAMPLER_2D'],_0x2164c2['SAMPLER_CU'+'BE'],_0x2164c2['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x2164c2['INT_SAMPLE'+'R_2D'],_0x2164c2['SAMPLER_2D'+'_SHADOW'],_0x2164c2['SAMPLER_CU'+'BE_SHADOW'],_0x2164c2['SAMPLER_3D'],_0x2164c2['INT_SAMPLE'+'R_3D'],_0x2164c2['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x2164c2['SAMPLER_2D'+'_ARRAY'],_0x2164c2['INT_SAMPLE'+'R_2D_ARRAY'],_0x2164c2['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x2164c2['REPEAT'],_0x2164c2['CLAMP_TO_E'+'DGE'],_0x2164c2['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x2164c2['FUNC_ADD'],_0x2164c2['FUNC_SUBTR'+'ACT'],_0x2164c2['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x2164c2['MIN'],_0x2164c2['MAX']],this['glBlendFun'+'ctionColor']=[_0x2164c2['ZERO'],_0x2164c2['ONE'],_0x2164c2['SRC_COLOR'],_0x2164c2['ONE_MINUS_'+'SRC_COLOR'],_0x2164c2['DST_COLOR'],_0x2164c2['ONE_MINUS_'+'DST_COLOR'],_0x2164c2['SRC_ALPHA'],_0x2164c2['SRC_ALPHA_'+'SATURATE'],_0x2164c2['ONE_MINUS_'+'SRC_ALPHA'],_0x2164c2['DST_ALPHA'],_0x2164c2['ONE_MINUS_'+'DST_ALPHA'],_0x2164c2['CONSTANT_C'+'OLOR'],_0x2164c2['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x2164c2['ZERO'],_0x2164c2['ONE'],_0x2164c2['SRC_COLOR'],_0x2164c2['ONE_MINUS_'+'SRC_COLOR'],_0x2164c2['DST_COLOR'],_0x2164c2['ONE_MINUS_'+'DST_COLOR'],_0x2164c2['SRC_ALPHA'],_0x2164c2['SRC_ALPHA_'+'SATURATE'],_0x2164c2['ONE_MINUS_'+'SRC_ALPHA'],_0x2164c2['DST_ALPHA'],_0x2164c2['ONE_MINUS_'+'DST_ALPHA'],_0x2164c2['CONSTANT_A'+'LPHA'],_0x2164c2['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x2164c2['NEVER'],_0x2164c2['LESS'],_0x2164c2['EQUAL'],_0x2164c2['LEQUAL'],_0x2164c2['GREATER'],_0x2164c2['NOTEQUAL'],_0x2164c2['GEQUAL'],_0x2164c2['ALWAYS']],this['glStencilO'+'p']=[_0x2164c2['KEEP'],_0x2164c2['ZERO'],_0x2164c2['REPLACE'],_0x2164c2['INCR'],_0x2164c2['INCR_WRAP'],_0x2164c2['DECR'],_0x2164c2['DECR_WRAP'],_0x2164c2['INVERT']],this['glClearFla'+'g']=[-0x70b*0x3+-0x1b4*0x8+-0x29*-0xd9,_0x2164c2['COLOR_BUFF'+'ER_BIT'],_0x2164c2['DEPTH_BUFF'+'ER_BIT'],_0x2164c2['COLOR_BUFF'+'ER_BIT']|_0x2164c2['DEPTH_BUFF'+'ER_BIT'],_0x2164c2['STENCIL_BU'+'FFER_BIT'],_0x2164c2['STENCIL_BU'+'FFER_BIT']|_0x2164c2['COLOR_BUFF'+'ER_BIT'],_0x2164c2['STENCIL_BU'+'FFER_BIT']|_0x2164c2['DEPTH_BUFF'+'ER_BIT'],_0x2164c2['STENCIL_BU'+'FFER_BIT']|_0x2164c2['COLOR_BUFF'+'ER_BIT']|_0x2164c2['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x2648+0xc62+0x11*0x186,_0x2164c2['BACK'],_0x2164c2['FRONT'],_0x2164c2['FRONT_AND_'+'BACK']],this['glFilter']=[_0x2164c2['NEAREST'],_0x2164c2['LINEAR'],_0x2164c2['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x2164c2['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x2164c2['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x2164c2['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x2164c2['POINTS'],_0x2164c2['LINES'],_0x2164c2['LINE_LOOP'],_0x2164c2['LINE_STRIP'],_0x2164c2['TRIANGLES'],_0x2164c2['TRIANGLE_S'+'TRIP'],_0x2164c2['TRIANGLE_F'+'AN']],this['glType']=[_0x2164c2['BYTE'],_0x2164c2['UNSIGNED_B'+'YTE'],_0x2164c2['SHORT'],_0x2164c2['UNSIGNED_S'+'HORT'],_0x2164c2['INT'],_0x2164c2['UNSIGNED_I'+'NT'],_0x2164c2['FLOAT'],_0x2164c2['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x2164c2['BOOL']]=ca,this['pcUniformT'+'ype'][_0x2164c2['INT']]=ln,this['pcUniformT'+'ype'][_0x2164c2['FLOAT']]=$s,this['pcUniformT'+'ype'][_0x2164c2['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x2164c2['FLOAT_VEC3']]=$t,this['pcUniformT'+'ype'][_0x2164c2['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x2164c2['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x2164c2['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x2164c2['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x2164c2['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x2164c2['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x2164c2['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x2164c2['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x2164c2['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x2164c2['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x2164c2['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x2164c2['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x2164c2['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x2164c2['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x2164c2['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x2164c2['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x2164c2['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x2164c2['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x2164c2['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x2164c2['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x2164c2['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x2164c2['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x2164c2['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x2164c2['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x2164c2['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x2164c2['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x2164c2['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x2164c2['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x2164c2['TEXTURE_2D']]=-0xf0f+0x1*0x1115+-0x7*0x4a,this['targetToSl'+'ot'][_0x2164c2['TEXTURE_CU'+'BE_MAP']]=-0x1069*0x1+-0xe0*-0x15+-0x1f6,this['targetToSl'+'ot'][_0x2164c2['TEXTURE_3D']]=-0x1312+-0x2257*-0x1+-0xf43;let _0x1c8748,_0x5f403c,_0x469217,_0x5ed9e8,_0x5a89a1;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x288584,_0x5bc0b5){_0x288584['value']!==_0x5bc0b5&&(_0x2164c2['uniform1i'](_0x288584['locationId'],_0x5bc0b5),_0x288584['value']=_0x5bc0b5);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][$s]=function(_0x5112f5,_0xafa2ee){_0x5112f5['value']!==_0xafa2ee&&(_0x2164c2['uniform1f'](_0x5112f5['locationId'],_0xafa2ee),_0x5112f5['value']=_0xafa2ee);},this['commitFunc'+'tion'][or]=function(_0x34174e,_0x43127f){_0x5a89a1=_0x34174e['value'],_0x1c8748=_0x43127f[0xf*0xda+-0x1313+0x64d],_0x5f403c=_0x43127f[0x26db+-0x432+-0x22a8],(_0x5a89a1[0xe7*-0x10+-0x4*-0x3f5+-0x4*0x59]!==_0x1c8748||_0x5a89a1[0x1aab+-0x96+-0x4*0x685]!==_0x5f403c)&&(_0x2164c2['uniform2fv'](_0x34174e['locationId'],_0x43127f),_0x5a89a1[-0x263a+-0x132f+0x3969]=_0x1c8748,_0x5a89a1[-0x2323+0x7a*-0x1+-0x61*-0x5e]=_0x5f403c);},this['commitFunc'+'tion'][$t]=function(_0xe0709d,_0x284f9e){_0x5a89a1=_0xe0709d['value'],_0x1c8748=_0x284f9e[0x1d84+-0x15a2+-0x3f1*0x2],_0x5f403c=_0x284f9e[0x56*0x33+0xb71+-0x2e*0x9f],_0x469217=_0x284f9e[0xb5*-0x31+-0x83a+-0xe4b*-0x3],(_0x5a89a1[-0x248f+0x270c+0x27d*-0x1]!==_0x1c8748||_0x5a89a1[0x124b+0xd54*-0x2+0x85e]!==_0x5f403c||_0x5a89a1[0xa*-0x68+-0x767*-0x3+-0x1223]!==_0x469217)&&(_0x2164c2['uniform3fv'](_0xe0709d['locationId'],_0x284f9e),_0x5a89a1[-0x26+0x7d6+0xc*-0xa4]=_0x1c8748,_0x5a89a1[0xa*0x31+0x1846+-0x1a2f*0x1]=_0x5f403c,_0x5a89a1[0xd7*0x10+-0x126f+0x501]=_0x469217);},this['commitFunc'+'tion'][xa]=function(_0x19bfac,_0x866242){_0x5a89a1=_0x19bfac['value'],_0x1c8748=_0x866242[0x1610+-0x7*-0x151+-0x1f47*0x1],_0x5f403c=_0x866242[0xe94+0x8ae+-0x1*0x1741],_0x469217=_0x866242[0x1d2*0xa+0x2113+-0x3345],_0x5ed9e8=_0x866242[-0x1*-0x2126+0x1377*-0x2+0x5cb],(_0x5a89a1[-0xcaf*-0x2+0x1a7b+-0x33d9*0x1]!==_0x1c8748||_0x5a89a1[0x2638+-0x1*-0x8e1+-0x2f18]!==_0x5f403c||_0x5a89a1[-0x1a+-0x23*0x1d+-0x95*-0x7]!==_0x469217||_0x5a89a1[0x493*-0x1+-0x51b+-0x3*-0x33b]!==_0x5ed9e8)&&(_0x2164c2['uniform4fv'](_0x19bfac['locationId'],_0x866242),_0x5a89a1[-0x20d7+-0x2*0x61b+0x2d0d]=_0x1c8748,_0x5a89a1[0x2c5*-0xd+-0x255e*0x1+0x24b0*0x2]=_0x5f403c,_0x5a89a1[-0x11*-0x1c1+0x11ef*-0x2+0x60f*0x1]=_0x469217,_0x5a89a1[0x2*0x96d+0xb5*0x11+-0x1edc]=_0x5ed9e8);},this['commitFunc'+'tion'][Zr]=function(_0x5b44e1,_0x4cac2f){_0x5a89a1=_0x5b44e1['value'],_0x1c8748=_0x4cac2f[0x1*-0x962+0x4e8+0x47a],_0x5f403c=_0x4cac2f[-0xda*0x1+0x61*0x1d+-0xa22],(_0x5a89a1[0x1*0x685+-0x1*-0x1f85+0x1305*-0x2]!==_0x1c8748||_0x5a89a1[-0x1184+0x2170+-0xfeb]!==_0x5f403c)&&(_0x2164c2['uniform2iv'](_0x5b44e1['locationId'],_0x4cac2f),_0x5a89a1[-0xac+-0x5*0x593+0x1c8b]=_0x1c8748,_0x5a89a1[0x2298*-0x1+-0x1*0x1511+0x37aa]=_0x5f403c);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x4b9694,_0x2ea7ef){_0x5a89a1=_0x4b9694['value'],_0x1c8748=_0x2ea7ef[-0x509*0x7+-0x27a*0x1+0x25b9],_0x5f403c=_0x2ea7ef[-0xbc+-0x269*-0xa+-0x175d],_0x469217=_0x2ea7ef[-0x5f*-0x3a+-0x1*0x1dd8+0x854],(_0x5a89a1[-0x1e86+-0x14e5+0x336b]!==_0x1c8748||_0x5a89a1[-0x1*0x16ff+-0x8*0xa2+-0x4*-0x704]!==_0x5f403c||_0x5a89a1[-0x1f4a+0x3c1+-0x281*-0xb]!==_0x469217)&&(_0x2164c2['uniform3iv'](_0x4b9694['locationId'],_0x2ea7ef),_0x5a89a1[0x22f6+-0xf2*0x1f+-0x1*0x5a8]=_0x1c8748,_0x5a89a1[0x39*0x7e+-0x497+0x4d*-0x4e]=_0x5f403c,_0x5a89a1[0x1ff+0xaff+-0xcfc]=_0x469217);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0xc37dcd,_0x2aa813){_0x5a89a1=_0xc37dcd['value'],_0x1c8748=_0x2aa813[0x205*0xd+0x47d+-0xa*0x313],_0x5f403c=_0x2aa813[0x173b+0x2696+-0x3dd0],_0x469217=_0x2aa813[0x1*-0x12b3+-0x1fd5+0x328a],_0x5ed9e8=_0x2aa813[0xa3+0xf6f+-0x100f],(_0x5a89a1[0x13*0x10b+-0x1d4a+0x979]!==_0x1c8748||_0x5a89a1[-0x102a+-0x248d+-0xe*-0x3c4]!==_0x5f403c||_0x5a89a1[0x1c44+-0x366+-0x18dc]!==_0x469217||_0x5a89a1[0xdf*-0x1+0xc7+-0x9*-0x3]!==_0x5ed9e8)&&(_0x2164c2['uniform4iv'](_0xc37dcd['locationId'],_0x2aa813),_0x5a89a1[-0x4*0x188+-0x1e*-0x7b+-0x84a]=_0x1c8748,_0x5a89a1[-0x2*0x684+-0xf43+0xe26*0x2]=_0x5f403c,_0x5a89a1[0x28b+-0x5c2*-0x4+0xbb*-0x23]=_0x469217,_0x5a89a1[-0x1*0x1b16+-0x1*-0x1a61+0x8*0x17]=_0x5ed9e8);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0x5df1b1,_0x13cf7c){_0x2164c2['uniformMat'+'rix2fv'](_0x5df1b1['locationId'],!(-0x17*0x19d+0x1ce1+-0x31*-0x2b),_0x13cf7c);},this['commitFunc'+'tion'][ko]=function(_0x25249e,_0x4a0939){_0x2164c2['uniformMat'+'rix3fv'](_0x25249e['locationId'],!(0x100e*-0x1+0x108d+0x3f*-0x2),_0x4a0939);},this['commitFunc'+'tion'][Sa]=function(_0x3fbd52,_0x3c14ee){_0x2164c2['uniformMat'+'rix4fv'](_0x3fbd52['locationId'],!(-0x8ff+-0x70*0x4b+0x29d0),_0x3c14ee);},this['commitFunc'+'tion'][Dc]=function(_0x106ad8,_0x1766a6){_0x2164c2['uniform1fv'](_0x106ad8['locationId'],_0x1766a6);},this['commitFunc'+'tion'][Lc]=function(_0x103bad,_0x2791c0){_0x2164c2['uniform2fv'](_0x103bad['locationId'],_0x2791c0);},this['commitFunc'+'tion'][Fc]=function(_0x3f5f25,_0x5a1963){_0x2164c2['uniform3fv'](_0x3f5f25['locationId'],_0x5a1963);},this['commitFunc'+'tion'][lp]=function(_0x3bab4a,_0x4cc321){_0x2164c2['uniform4fv'](_0x3bab4a['locationId'],_0x4cc321);},this['commitFunc'+'tion'][va]=function(_0x48f795,_0x14ad00){_0x48f795['value']!==_0x14ad00&&(_0x2164c2['uniform1ui'](_0x48f795['locationId'],_0x14ad00),_0x48f795['value']=_0x14ad00);},this['commitFunc'+'tion'][ba]=function(_0x373b4b,_0x16a664){_0x5a89a1=_0x373b4b['value'],_0x1c8748=_0x16a664[-0x2156+-0x857*-0x3+0x851*0x1],_0x5f403c=_0x16a664[0x960+-0x123b+0x12*0x7e],(_0x5a89a1[0x2191+-0x3c4+-0x1dcd]!==_0x1c8748||_0x5a89a1[0x40+-0x1a04+0x19c5]!==_0x5f403c)&&(_0x2164c2['uniform2ui'+'v'](_0x373b4b['locationId'],_0x16a664),_0x5a89a1[0x216b+-0x1*0x24cf+0x3e*0xe]=_0x1c8748,_0x5a89a1[0x13da+0xb39+-0x1f12]=_0x5f403c);},this['commitFunc'+'tion'][wa]=function(_0x1d2088,_0x325452){_0x5a89a1=_0x1d2088['value'],_0x1c8748=_0x325452[-0x232d+-0x1106*-0x1+0x1227],_0x5f403c=_0x325452[-0x2310+-0x14ab+-0x4*-0xdef],_0x469217=_0x325452[-0xf2*-0xb+0x1b29+-0x258d],(_0x5a89a1[0x17a+0x1*-0x1686+0x2*0xa86]!==_0x1c8748||_0x5a89a1[-0xf69+-0x222b+-0x1087*-0x3]!==_0x5f403c||_0x5a89a1[-0x263a+-0x259f+0x4bdb]!==_0x469217)&&(_0x2164c2['uniform3ui'+'v'](_0x1d2088['locationId'],_0x325452),_0x5a89a1[-0x17*-0x3b+-0xc55*0x3+0x1fb2]=_0x1c8748,_0x5a89a1[0xd7*-0xb+-0x1e66+0x2b*0xec]=_0x5f403c,_0x5a89a1[-0xebc+0x97c*-0x1+0x183a]=_0x469217);},this['commitFunc'+'tion'][Ta]=function(_0x21dc0f,_0x38e747){_0x5a89a1=_0x21dc0f['value'],_0x1c8748=_0x38e747[0x1*-0x17ff+0x541+0x12be*0x1],_0x5f403c=_0x38e747[0x2053+0x1bd6+-0x3c28],_0x469217=_0x38e747[0x15*0x159+-0x15b+-0x1af*0x10],_0x5ed9e8=_0x38e747[-0x1b02+0x62c+-0x6f3*-0x3],(_0x5a89a1[-0x4f0+0x24a5+0x1fb5*-0x1]!==_0x1c8748||_0x5a89a1[0x1eeb+-0x20c5+0x1db*0x1]!==_0x5f403c||_0x5a89a1[-0x7*0x125+-0x2578+0x2d7d]!==_0x469217||_0x5a89a1[0x11be+-0x1*-0x189f+-0x6*0x70f]!==_0x5ed9e8)&&(_0x2164c2['uniform4ui'+'v'](_0x21dc0f['locationId'],_0x38e747),_0x5a89a1[-0x14dc+-0x5*0x404+0x28f0]=_0x1c8748,_0x5a89a1[0x2*-0x2fe+-0x1*0xc03+0x1200]=_0x5f403c,_0x5a89a1[0x3*-0x86e+-0x41*0x49+0x2bd5]=_0x469217,_0x5a89a1[0xd1*0x2c+-0x1*-0x135b+-0x9*0x624]=_0x5ed9e8);},this['commitFunc'+'tion'][Aa]=function(_0x35f462,_0x2689ee){_0x2164c2['uniform1iv'](_0x35f462['locationId'],_0x2689ee);},this['commitFunc'+'tion'][Oc]=function(_0x408d12,_0x2b569f){_0x2164c2['uniform1ui'+'v'](_0x408d12['locationId'],_0x2b569f);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0xbe99e4,_0x5f4b15){_0x2164c2['uniform2iv'](_0xbe99e4['locationId'],_0x5f4b15);},this['commitFunc'+'tion'][Bc]=function(_0xa951b3,_0x58f1eb){_0x2164c2['uniform2ui'+'v'](_0xa951b3['locationId'],_0x58f1eb);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x462cdd,_0x45fec8){_0x2164c2['uniform3iv'](_0x462cdd['locationId'],_0x45fec8);},this['commitFunc'+'tion'][zc]=function(_0x4ebe36,_0x48b700){_0x2164c2['uniform3ui'+'v'](_0x4ebe36['locationId'],_0x48b700);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0x48e473,_0xd7673a){_0x2164c2['uniform4iv'](_0x48e473['locationId'],_0xd7673a);},this['commitFunc'+'tion'][hp]=function(_0x1474d7,_0x25c074){_0x2164c2['uniform4ui'+'v'](_0x1474d7['locationId'],_0x25c074);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x965f4,_0x300f57){_0x2164c2['uniformMat'+'rix4fv'](_0x965f4['locationId'],!(-0x3*-0x6b9+-0x24f9+0x10cf),_0x300f57);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x5b0133=this['gl'];this['feedback']&&_0x5b0133['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x1c10*0x1+-0x8d0+-0x133f*0x1)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x2181*-0x1+-0x89e*0x1+0x2a20)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x77c021){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x77c021;}['updateBack'+'bufferForm'+'at'](_0x2b110f){const _0x24f6d5=this['gl'];_0x24f6d5['bindFrameb'+'uffer'](_0x24f6d5['FRAMEBUFFE'+'R'],_0x2b110f);const _0x5d2e99=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x5d2e99?Se:dr;}['updateBack'+'buffer'](){const _0x2e377e=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x2e377e)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x24e+-0xd2*0x3+-0x29*-0x1),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x232b73,_0xfbcad3){return new sb();}['createInde'+'xBufferImp'+'l'](_0x143dfc){return new ib(_0x143dfc);}['createShad'+'erImpl'](_0x8a218d){return new lb(_0x8a218d);}['createText'+'ureImpl'](_0x561ff6){return new hb(_0x561ff6);}['createRend'+'erTargetIm'+'pl'](_0x11ec15){return new db();}['pushMarker'](_0x3ee031){if(ye['browser']&&window['spector']){const _0xb94201=G['toString']();window['spector']['setMarker'](_0xb94201+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x235651=G['toString']();_0x235651['length']?window['spector']['setMarker'](_0x235651+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x1f348d=this['gl'];let _0x3440c3='highp';if(_0x1f348d['getShaderP'+'recisionFo'+'rmat']){const _0x1a1ab9=_0x1f348d['getShaderP'+'recisionFo'+'rmat'](_0x1f348d['VERTEX_SHA'+'DER'],_0x1f348d['HIGH_FLOAT']),_0x3ee0ef=_0x1f348d['getShaderP'+'recisionFo'+'rmat'](_0x1f348d['VERTEX_SHA'+'DER'],_0x1f348d['MEDIUM_FLO'+'AT']),_0x18bd94=_0x1f348d['getShaderP'+'recisionFo'+'rmat'](_0x1f348d['FRAGMENT_S'+'HADER'],_0x1f348d['HIGH_FLOAT']),_0x3ebed7=_0x1f348d['getShaderP'+'recisionFo'+'rmat'](_0x1f348d['FRAGMENT_S'+'HADER'],_0x1f348d['MEDIUM_FLO'+'AT']);if(_0x1a1ab9&&_0x3ee0ef&&_0x18bd94&&_0x3ebed7){const _0x2c9fb5=_0x1a1ab9['precision']>0x2*-0x528+0xb73+0x1*-0x123&&_0x18bd94['precision']>0x5c9*0x1+0x238*0x6+0x1319*-0x1,_0x4f0cf1=_0x3ee0ef['precision']>0x106d+-0x187*-0x5+0x5*-0x4d0&&_0x3ebed7['precision']>0x19f*-0x14+0xe*-0x1ca+0x3978;_0x2c9fb5||(_0x4f0cf1?(_0x3440c3='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x3440c3='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x3440c3;}['getExtensi'+'on'](){for(let _0x3ef923=-0x781*0x2+-0x8*0x20+-0x801*-0x2;_0x3ef923<arguments['length'];_0x3ef923++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x3ef923])!==-(-0x3*-0x664+0x145b+-0x2786*0x1))return this['gl']['getExtensi'+'on'](arguments[_0x3ef923]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x2c2180=this['gl'];this['supportedE'+'xtensions']=_0x2c2180['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x1*0x14fe+-0x852+-0x4*-0x754),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0xc7f89e=this['gl'];let _0x4c4e6;const _0x48ea33=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x12380d=_0xc7f89e['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x12380d==null?void(0x12*-0x65+-0x1*0x66e+-0x1b1*-0x8):_0x12380d['antialias'])??!(0x280+-0x23f9+0x217a),this['supportsSt'+'encil']=(_0x12380d==null?void(-0xe5+0x24d8+-0x1*0x23f3):_0x12380d['stencil'])??!(0x625+0x162+-0x786),this['maxTexture'+'Size']=_0xc7f89e['getParamet'+'er'](_0xc7f89e['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0xc7f89e['getParamet'+'er'](_0xc7f89e['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0xc7f89e['getParamet'+'er'](_0xc7f89e['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0xc7f89e['getParamet'+'er'](_0xc7f89e['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0xc7f89e['getParamet'+'er'](_0xc7f89e['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0xc7f89e['getParamet'+'er'](_0xc7f89e['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0xc7f89e['getParamet'+'er'](_0xc7f89e['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0xc7f89e['getParamet'+'er'](_0xc7f89e['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0xc7f89e['getParamet'+'er'](_0xc7f89e['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0xc7f89e['getParamet'+'er'](_0xc7f89e['MAX_3D_TEX'+'TURE_SIZE']),_0x4c4e6=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x4c4e6?_0xc7f89e['getParamet'+'er'](_0x4c4e6['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x4c4e6?_0xc7f89e['getParamet'+'er'](_0x4c4e6['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x52ad0a=/\bMali-G52+/,_0x4b1932=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x48ea33['match'](_0x4b1932))&&!this['unmaskedRe'+'nderer']['match'](_0x52ad0a),_0x4c4e6=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x4c4e6?_0xc7f89e['getParamet'+'er'](_0x4c4e6['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x5f5+-0x23*0x9d+0x1b6d;const _0x1e0165=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x1e0165?_0xc7f89e['getParamet'+'er'](_0xc7f89e['MAX_SAMPLE'+'S']):0xdcf+-0x73*0x1+0xd5b*-0x1,this['maxSamples']=Math['min'](this['maxSamples'],0xf1b*0x2+-0xfe*-0x1a+-0x1bff*0x2),this['samples']=_0x1e0165&&this['backBuffer'+'Antialias']?this['maxSamples']:0x19c7*0x1+0xf3a+0x100*-0x29,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=0x37b+-0x5c*0x4a+0x7b7*0x3&&(this['supportsAr'+'eaLights']=!(0x118c+-0xa44+-0x747));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x3a52f2=this['gl'];_0x3a52f2['disable'](_0x3a52f2['BLEND']),_0x3a52f2['blendFunc'](_0x3a52f2['ONE'],_0x3a52f2['ZERO']),_0x3a52f2['blendEquat'+'ion'](_0x3a52f2['FUNC_ADD']),_0x3a52f2['colorMask'](!(-0x449+-0xc0e+-0x2f*-0x59),!(-0x23ac+-0x3*-0xa52+0x6*0xc9),!(-0x526+0x4e8+0x2*0x1f),!(0x21e+-0x7e1+0x5c3)),_0x3a52f2['blendColor'](-0x1*0x1f4b+0x9e3+0x1568,-0x740+-0xeda+0x2e*0x7b,-0x1*-0x9e3+0x3*-0x955+0x4*0x487,-0x1*-0x25bb+-0x112*-0x1b+0x25*-0x1cd),_0x3a52f2['enable'](_0x3a52f2['CULL_FACE']),this['cullFace']=_0x3a52f2['BACK'],_0x3a52f2['cullFace'](_0x3a52f2['BACK']),_0x3a52f2['enable'](_0x3a52f2['DEPTH_TEST']),_0x3a52f2['depthFunc'](_0x3a52f2['LEQUAL']),_0x3a52f2['depthMask'](!(0x266*-0x1+0x22bd*-0x1+0x2523)),this['stencil']=!(0xd8*-0xb+-0x1a91+0x23da),_0x3a52f2['disable'](_0x3a52f2['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0xeb0+-0xd9*0xd+0x19b5,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x15a+0x1de3+-0x1e3e,_0x3a52f2['stencilFun'+'c'](_0x3a52f2['ALWAYS'],-0x1a97+0x1*-0x221c+0x17b*0x29,0xb83+-0xaf1*0x1+0x1*0x6d),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=-0x9b1+0xcee*-0x3+0x107e*0x3,this['stencilWri'+'teMaskBack']=0x2*-0xaad+-0x3e*-0x4a+0x46d,_0x3a52f2['stencilOp'](_0x3a52f2['KEEP'],_0x3a52f2['KEEP'],_0x3a52f2['KEEP']),_0x3a52f2['stencilMas'+'k'](0x1b77*0x1+-0x1413+-0x665),this['alphaToCov'+'erage']=!(-0x11b*0xb+0x9cd+0x37*0xb),this['raster']=!(0x10c4*-0x1+0x214c+-0x211*0x8),_0x3a52f2['disable'](_0x3a52f2['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x3a52f2['disable'](_0x3a52f2['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x7*-0xcb+-0x21f4+-0x1a*-0x185),_0x3a52f2['disable'](_0x3a52f2['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0xf2+0x105c+-0x2b*0x67,_0x3a52f2['clearDepth'](0x1*-0x517+0x132e+0xe16*-0x1),this['clearColor']=new Y(0x16*-0x133+-0xdc3+-0x1*-0x2825,0x1f81+-0x1b7d+-0x404,0x106*-0xb+-0x1*-0x2363+-0xd5*0x1d,-0x65a+-0x1f8+0x852),_0x3a52f2['clearColor'](0x1a+0x1066+-0x1080,-0xda1+-0x1b94+0x2935,0x13*0x5c+0x142a+-0x1afe*0x1,-0x151c+-0x1fd9*-0x1+-0xabd),this['clearStenc'+'il']=-0xada*-0x3+-0x583*-0x5+-0x3c1d,_0x3a52f2['clearStenc'+'il'](0x2271+0x1e*-0x120+-0xb1),_0x3a52f2['hint'](_0x3a52f2['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x3a52f2['NICEST']),_0x3a52f2['enable'](_0x3a52f2['SCISSOR_TE'+'ST']),_0x3a52f2['pixelStore'+'i'](_0x3a52f2['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x3a52f2['NONE']),this['unpackFlip'+'Y']=!(0x2*0x1187+0x2609+-0x4916),_0x3a52f2['pixelStore'+'i'](_0x3a52f2['UNPACK_FLI'+'P_Y_WEBGL'],!(0x1*0x257f+-0x13ed+-0x1191)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x1*0x1ac2+0x1f65+-0x3a26),_0x3a52f2['pixelStore'+'i'](_0x3a52f2['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x197d+0x369+0x1ce5*-0x1)),_0x3a52f2['pixelStore'+'i'](_0x3a52f2['UNPACK_ALI'+'GNMENT'],0x2057+-0x6f*-0x22+-0x2f14);}['initTextur'+'eUnits'](_0x55af33=0x71*0x37+0x13d8+0x2c0f*-0x1){this['textureUni'+'ts']=[];for(let _0x1b9d1c=-0x1083+0x11e*-0x14+0x26db;_0x1b9d1c<_0x55af33;_0x1b9d1c++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x2237+-0x29f*-0x5+-0x7*-0x304,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x3a235e of this['shaders'])_0x3a235e['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x1466e5 of this['shaders'])_0x1466e5['restoreCon'+'text']();}['setViewpor'+'t'](_0x5b9b13,_0x32c445,_0x1a2daa,_0x33850d){(this['vx']!==_0x5b9b13||this['vy']!==_0x32c445||this['vw']!==_0x1a2daa||this['vh']!==_0x33850d)&&(this['gl']['viewport'](_0x5b9b13,_0x32c445,_0x1a2daa,_0x33850d),this['vx']=_0x5b9b13,this['vy']=_0x32c445,this['vw']=_0x1a2daa,this['vh']=_0x33850d);}['setScissor'](_0x1d3595,_0xd470a9,_0x7137e9,_0x205886){(this['sx']!==_0x1d3595||this['sy']!==_0xd470a9||this['sw']!==_0x7137e9||this['sh']!==_0x205886)&&(this['gl']['scissor'](_0x1d3595,_0xd470a9,_0x7137e9,_0x205886),this['sx']=_0x1d3595,this['sy']=_0xd470a9,this['sw']=_0x7137e9,this['sh']=_0x205886);}['setFramebu'+'ffer'](_0x2da8d5){if(this['activeFram'+'ebuffer']!==_0x2da8d5){const _0x148973=this['gl'];_0x148973['bindFrameb'+'uffer'](_0x148973['FRAMEBUFFE'+'R'],_0x2da8d5),this['activeFram'+'ebuffer']=_0x2da8d5;}}['copyRender'+'Target'](_0x472c23,_0x18afa6,_0xee5c71,_0x185378){var _0x5e1348,_0xc4678e;const _0x5dba30=this['gl'];if(_0x472c23===this['backBuffer']&&(_0x472c23=null),_0xee5c71){if(_0x18afa6){if(_0x472c23){if(!_0x472c23['_colorBuff'+'er']||!_0x18afa6['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x4*0x697+-0x9c4+0x3*0xc0b);if(_0x472c23['_colorBuff'+'er']['_format']!==_0x18afa6['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x223*-0x9+-0x47*0x6e+0x31be);}}else{if(!_0x472c23['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x23a3+-0x83*-0x1+0x2321);}}if(_0x185378&&_0x472c23&&!_0x472c23['_depth']){if(!_0x472c23['_depthBuff'+'er']||!_0x18afa6['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x3*-0xb65+0x1c03+-0x3d*0x105);if(_0x472c23['_depthBuff'+'er']['_format']!==_0x18afa6['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0x1*0x128c+0x65*0x46+0x911*-0x1);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x19e0fa=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x18afa6,this['updateBegi'+'n']();const _0x36944b=_0x472c23?_0x472c23['impl']['_glFrameBu'+'ffer']:(_0x5e1348=this['backBuffer'])==null?void(-0x2172+0x16b6+-0x55e*-0x2):_0x5e1348['impl']['_glFrameBu'+'ffer'],_0x2d898d=_0x18afa6?_0x18afa6['impl']['_glFrameBu'+'ffer']:(_0xc4678e=this['backBuffer'])==null?void(0xad9*-0x1+0x4*0x52f+-0x9e3*0x1):_0xc4678e['impl']['_glFrameBu'+'ffer'];v['assert'](_0x36944b!==_0x2d898d,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x5dba30['bindFrameb'+'uffer'](_0x5dba30['READ_FRAME'+'BUFFER'],_0x36944b),_0x5dba30['bindFrameb'+'uffer'](_0x5dba30['DRAW_FRAME'+'BUFFER'],_0x2d898d);const _0x3b70f6=_0x472c23?_0x472c23['width']:_0x18afa6?_0x18afa6['width']:this['width'],_0x1a0dd4=_0x472c23?_0x472c23['height']:_0x18afa6?_0x18afa6['height']:this['height'];return _0x5dba30['blitFrameb'+'uffer'](-0x9f8*0x3+0x199*-0x6+0xa*0x3f3,-0x7e+0xd5*0x19+-0x144f,_0x3b70f6,_0x1a0dd4,-0x2484+0x40b+0x2079,0x17bc+0x23f0+-0x3bac,_0x3b70f6,_0x1a0dd4,(_0xee5c71?_0x5dba30['COLOR_BUFF'+'ER_BIT']:-0x1b56+0x43c*0x6+0x1ee)|(_0x185378?_0x5dba30['DEPTH_BUFF'+'ER_BIT']:-0xf6d+-0x1cc7+0x2c34),_0x5dba30['NEAREST']),this['renderTarg'+'et']=_0x19e0fa,_0x5dba30['bindFrameb'+'uffer'](_0x5dba30['FRAMEBUFFE'+'R'],_0x19e0fa?_0x19e0fa['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(-0xa7*-0x1a+0x2533+-0x2f*0x127);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x341d9b){const _0x2d054c=_0x341d9b['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x2d054c,v['assert'](_0x2d054c),G['pushGpuMar'+'ker'](this,'Pass:'+_0x341d9b['name']+'\x20RT:'+_0x2d054c['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x127c0f,height:_0x455169}=_0x2d054c;this['setViewpor'+'t'](0x195f+-0x1b05*0x1+0x2*0xd3,0x137*0x3+-0x1*-0x2212+-0x25b7,_0x127c0f,_0x455169),this['setScissor'](0x679*-0x1+-0x115e+0x11*0x167,-0xd*0x175+-0x96b+0x37*0x84,_0x127c0f,_0x455169);const _0x1e6959=_0x341d9b['colorOps'],_0x245d9c=_0x341d9b['depthStenc'+'ilOps'];if(_0x1e6959!=null&&_0x1e6959['clear']||_0x245d9c['clearDepth']||_0x245d9c['clearStenc'+'il']){let _0x8636a3=0x1*-0x3b7+-0x113f+0x14f6;const _0x337e0e={};_0x1e6959!=null&&_0x1e6959['clear']&&(_0x8636a3|=Co,_0x337e0e['color']=[_0x1e6959['clearValue']['r'],_0x1e6959['clearValue']['g'],_0x1e6959['clearValue']['b'],_0x1e6959['clearValue']['a']]),_0x245d9c['clearDepth']&&(_0x8636a3|=Mo,_0x337e0e['depth']=_0x245d9c['clearDepth'+'Value']),_0x245d9c['clearStenc'+'il']&&(_0x8636a3|=Ah,_0x337e0e['stencil']=_0x245d9c['clearStenc'+'ilValue']),_0x337e0e['flags']=_0x8636a3,this['clear'](_0x337e0e);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x16b1*0x1+0x2445+-0xd94),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x4ffe74){var _0x4b7c35;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x28b450=this['renderTarg'+'et'],_0x34520d=_0x4ffe74['colorArray'+'Ops']['length'];if(_0x28b450){Tn['length']=0x93d+0x1*0x1327+-0x1c64;const _0x162941=this['gl'];for(let _0x1b41a9=0x1edb+0x2115+-0x3ff0;_0x1b41a9<_0x34520d;_0x1b41a9++){const _0x4e5e68=_0x4ffe74['colorArray'+'Ops'][_0x1b41a9];_0x4e5e68['store']||_0x4e5e68['resolve']||Tn['push'](_0x162941['COLOR_ATTA'+'CHMENT0']+_0x1b41a9);}_0x28b450!==this['backBuffer']&&(_0x4ffe74['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0x162941['DEPTH_ATTA'+'CHMENT']),_0x4ffe74['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0x162941['STENCIL_AT'+'TACHMENT'])),Tn['length']>0x1393+0xbdf*0x1+-0x46*0x73&&_0x4ffe74['fullSizeCl'+'earRect']&&_0x162941['invalidate'+'Framebuffe'+'r'](_0x162941['DRAW_FRAME'+'BUFFER'],Tn),_0x34520d&&((_0x4b7c35=_0x4ffe74['colorOps'])!=null&&_0x4b7c35['resolve'])&&_0x4ffe74['samples']>0x20fc+-0x1d3f+-0x3bc&&_0x28b450['autoResolv'+'e']&&_0x28b450['resolve'](!(-0x10*0x221+-0x225*0xb+-0x1*-0x39a7),!(0x2aa+0x1a30*-0x1+-0x13d*-0x13)),_0x28b450['depthBuffe'+'r']&&_0x4ffe74['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x4ffe74['samples']>-0x6*-0x164+-0x1243+0x9ec&&_0x28b450['autoResolv'+'e']&&_0x28b450['resolve'](!(-0x1758+0x2049+-0xb*0xd0),!(-0x322+-0x10ec+-0x1*-0x140e));for(let _0x494b5a=0x1*-0x9a8+-0x48*0x3d+0x1ad0;_0x494b5a<_0x34520d;_0x494b5a++)if(_0x4ffe74['colorArray'+'Ops'][_0x494b5a]['genMipmaps']){const _0x1bd490=_0x28b450['_colorBuff'+'ers'][_0x494b5a];_0x1bd490&&_0x1bd490['impl']['_glTexture']&&_0x1bd490['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x494b5a),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0xd09+-0x2*-0xa95+-0x820)),this['bindTextur'+'e'](_0x1bd490),this['gl']['generateMi'+'pmap'](_0x1bd490['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x901+0xd9*0xb+0x3*-0x1b),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x16f0d0){this['_defaultFr'+'amebuffer']!==_0x16f0d0&&(this['_defaultFr'+'amebuffer']=_0x16f0d0,this['_defaultFr'+'amebufferC'+'hanged']=!(-0xf54+-0x1*-0xd1c+-0x1*-0x238));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x2088d9=0x54b+-0x48b*0x1+-0x60*0x2;_0x2088d9<this['textureUni'+'ts']['length'];++_0x2088d9)for(let _0x19954e=-0x194c+0x92d+0x101f;_0x19954e<0x1123+0x1f2e+-0x1ca*0x1b;++_0x19954e)this['textureUni'+'ts'][_0x2088d9][_0x19954e]=null;}const _0x5b3dda=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0x5b3dda);const _0x43c64a=_0x5b3dda['impl'];_0x43c64a['initialize'+'d']||this['initRender'+'Target'](_0x5b3dda),this['setFramebu'+'ffer'](_0x43c64a['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x3f033b=this['renderTarg'+'et'];if(_0x3f033b&&_0x3f033b!==this['backBuffer']){_0x3f033b['_samples']>-0x1*-0x2245+0xd30+0x17ba*-0x2&&_0x3f033b['autoResolv'+'e']&&_0x3f033b['resolve']();const _0x426600=_0x3f033b['_colorBuff'+'er'];_0x426600&&_0x426600['impl']['_glTexture']&&_0x426600['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1e7*0x11+-0x6*-0x329+0x3aa*-0xe)),this['bindTextur'+'e'](_0x426600),this['gl']['generateMi'+'pmap'](_0x426600['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x1dd681){if(this['unpackFlip'+'Y']!==_0x1dd681){this['unpackFlip'+'Y']=_0x1dd681;const _0xbd4403=this['gl'];_0xbd4403['pixelStore'+'i'](_0xbd4403['UNPACK_FLI'+'P_Y_WEBGL'],_0x1dd681);}}['setUnpackP'+'remultiply'+'Alpha'](_0xf177b2){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0xf177b2){this['unpackPrem'+'ultiplyAlp'+'ha']=_0xf177b2;const _0xc2fcae=this['gl'];_0xc2fcae['pixelStore'+'i'](_0xc2fcae['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0xf177b2);}}['activeText'+'ure'](_0x50590b){this['textureUni'+'t']!==_0x50590b&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x50590b),this['textureUni'+'t']=_0x50590b);}['bindTextur'+'e'](_0x4855d7){const _0x39646e=_0x4855d7['impl'],_0x2c7dfa=_0x39646e['_glTarget'],_0x983078=_0x39646e['_glTexture'],_0x42fd0f=this['textureUni'+'t'],_0xd2b844=this['targetToSl'+'ot'][_0x2c7dfa];this['textureUni'+'ts'][_0x42fd0f][_0xd2b844]!==_0x983078&&(this['gl']['bindTextur'+'e'](_0x2c7dfa,_0x983078),this['textureUni'+'ts'][_0x42fd0f][_0xd2b844]=_0x983078);}['bindTextur'+'eOnUnit'](_0x53ffbf,_0x2cd008){const _0x5b8fd5=_0x53ffbf['impl'],_0x44e11a=_0x5b8fd5['_glTarget'],_0x1420f9=_0x5b8fd5['_glTexture'],_0x513ea2=this['targetToSl'+'ot'][_0x44e11a];this['textureUni'+'ts'][_0x2cd008][_0x513ea2]!==_0x1420f9&&(this['activeText'+'ure'](_0x2cd008),this['gl']['bindTextur'+'e'](_0x44e11a,_0x1420f9),this['textureUni'+'ts'][_0x2cd008][_0x513ea2]=_0x1420f9);}['setTexture'+'Parameters'](_0x5b9560){const _0x170622=this['gl'],_0x4e48d1=_0x5b9560['impl']['dirtyParam'+'eterFlags'],_0x4a1b77=_0x5b9560['impl']['_glTarget'];if(_0x4e48d1&zy){let _0x57b85f=_0x5b9560['_minFilter'];(!_0x5b9560['_mipmaps']||_0x5b9560['_compresse'+'d']&&_0x5b9560['_levels']['length']===0x86*-0x10+0x342*0x6+0x1*-0xb2b)&&(_0x57b85f===fc||_0x57b85f===pc?_0x57b85f=de:(_0x57b85f===mc||_0x57b85f===nn)&&(_0x57b85f=st)),_0x170622['texParamet'+'eri'](_0x4a1b77,_0x170622['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x57b85f]);}if(_0x4e48d1&Uy&&_0x170622['texParamet'+'eri'](_0x4a1b77,_0x170622['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x5b9560['_magFilter']]),_0x4e48d1&Vy&&_0x170622['texParamet'+'eri'](_0x4a1b77,_0x170622['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x5b9560['_addressU']]),_0x4e48d1&Gy&&_0x170622['texParamet'+'eri'](_0x4a1b77,_0x170622['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x5b9560['_addressV']]),_0x4e48d1&Hy&&_0x170622['texParamet'+'eri'](_0x4a1b77,_0x170622['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x5b9560['_addressW']]),_0x4e48d1&Wy&&_0x170622['texParamet'+'eri'](_0x4a1b77,_0x170622['TEXTURE_CO'+'MPARE_MODE'],_0x5b9560['_compareOn'+'Read']?_0x170622['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x170622['NONE']),_0x4e48d1&$y&&_0x170622['texParamet'+'eri'](_0x4a1b77,_0x170622['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x5b9560['_compareFu'+'nc']]),_0x4e48d1&qy){const _0x68f078=this['extTexture'+'FilterAnis'+'otropic'];_0x68f078&&_0x170622['texParamet'+'erf'](_0x4a1b77,_0x68f078['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x5b9560['_anisotrop'+'y']),0x21ef+-0x455+-0x1d99,this['maxAnisotr'+'opy']));}}['setTexture'](_0xaccfaf,_0x76571b){const _0x5129d9=_0xaccfaf['impl'];_0x5129d9['_glTexture']||_0x5129d9['initialize'](this,_0xaccfaf),_0x5129d9['dirtyParam'+'eterFlags']>-0xc1+0xb53+-0xa92||_0xaccfaf['_needsUplo'+'ad']||_0xaccfaf['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x76571b),this['bindTextur'+'e'](_0xaccfaf),_0x5129d9['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0xaccfaf),_0x5129d9['dirtyParam'+'eterFlags']=-0x1*-0x11ae+-0x18e6+-0x8*-0xe7),(_0xaccfaf['_needsUplo'+'ad']||_0xaccfaf['_needsMipm'+'apsUpload'])&&(_0x5129d9['upload'](this,_0xaccfaf),_0xaccfaf['_needsUplo'+'ad']=!(-0x16b3+0x1bb5+-0x501),_0xaccfaf['_needsMipm'+'apsUpload']=!(-0xa0d*0x1+0x1500+-0xaf2))):this['bindTextur'+'eOnUnit'](_0xaccfaf,_0x76571b);}['createVert'+'exArray'](_0x283b07){let _0x215a9f,_0x3314e3;const _0x39a55a=_0x283b07['length']>0x23ef*0x1+-0x19cb+-0xa23;if(_0x39a55a){_0x215a9f='';for(let _0x657380=0x1*0x1c7b+0x1ef3+0x3b6e*-0x1;_0x657380<_0x283b07['length'];_0x657380++){const _0x2a5dba=_0x283b07[_0x657380];_0x215a9f+=_0x2a5dba['id']+_0x2a5dba['format']['renderingH'+'ash'];}_0x3314e3=this['_vaoMap']['get'](_0x215a9f);}if(!_0x3314e3){const _0x321933=this['gl'];_0x3314e3=_0x321933['createVert'+'exArray'](),_0x321933['bindVertex'+'Array'](_0x3314e3),_0x321933['bindBuffer'](_0x321933['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x2f3aed=!(0x25a+-0x1d7+-0xd*0xa);for(let _0x21df97=-0x9*0x20d+0x5bc*0x2+0x6fd;_0x21df97<_0x283b07['length'];_0x21df97++){const _0x1b7530=_0x283b07[_0x21df97];_0x321933['bindBuffer'](_0x321933['ARRAY_BUFF'+'ER'],_0x1b7530['impl']['bufferId']);const _0x1e7001=_0x1b7530['format']['elements'];for(let _0x5cfada=0x10*-0x10d+-0x1384*0x1+0x12c*0x1f;_0x5cfada<_0x1e7001['length'];_0x5cfada++){const _0xf5ad2=_0x1e7001[_0x5cfada],_0x9761ac=ve[_0xf5ad2['name']];_0x9761ac===-0x205b+0x4*0x54d+0xb27&&(_0x2f3aed=!(-0x2227+-0x1ccc+0x3ef3)),_0xf5ad2['asInt']?_0x321933['vertexAttr'+'ibIPointer'](_0x9761ac,_0xf5ad2['numCompone'+'nts'],this['glType'][_0xf5ad2['dataType']],_0xf5ad2['stride'],_0xf5ad2['offset']):_0x321933['vertexAttr'+'ibPointer'](_0x9761ac,_0xf5ad2['numCompone'+'nts'],this['glType'][_0xf5ad2['dataType']],_0xf5ad2['normalize'],_0xf5ad2['stride'],_0xf5ad2['offset']),_0x321933['enableVert'+'exAttribAr'+'ray'](_0x9761ac),_0x1b7530['format']['instancing']&&_0x321933['vertexAttr'+'ibDivisor'](_0x9761ac,0xdba+0x1b25+0x28de*-0x1);}}_0x321933['bindVertex'+'Array'](null),_0x321933['bindBuffer'](_0x321933['ARRAY_BUFF'+'ER'],null),_0x39a55a&&this['_vaoMap']['set'](_0x215a9f,_0x3314e3),_0x2f3aed||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x3314e3;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0xd55511=this['gl'];let _0x2a2e55;if(this['vertexBuff'+'ers']['length']===-0x10e5+0x9b6+-0x28*-0x2e){const _0x5e2b23=this['vertexBuff'+'ers'][-0x1*0x192a+-0xf1c+-0x1*-0x2846];v['assert'](_0x5e2b23['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x5e2b23['impl']['vao']||(_0x5e2b23['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x2a2e55=_0x5e2b23['impl']['vao'];}else _0x2a2e55=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x2a2e55&&(this['boundVao']=_0x2a2e55,_0xd55511['bindVertex'+'Array'](_0x2a2e55)),this['clearVerte'+'xBuffer']();const _0x26a2e7=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0xd55511['bindBuffer'](_0xd55511['ELEMENT_AR'+'RAY_BUFFER'],_0x26a2e7);}['draw'](_0x341958,_0x35a696,_0x174ad6){const _0x474265=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x4eed22,_0x107c7c,_0x4d5e0d,_0x28784f,_0x48a869,_0x173d64,_0x2ebb60,_0xf8acb0;const _0x5570f6=this['shader'];if(!_0x5570f6)return;const _0x45700=_0x5570f6['impl']['samplers'],_0x3720f8=_0x5570f6['impl']['uniforms'];_0x174ad6||this['setBuffers']();let _0x234ac8=-0x718*0x1+0x1c64+0x74*-0x2f;for(let _0x2ba5ec=0xc*0xd+0xb4e+-0xbea,_0x230cde=_0x45700['length'];_0x2ba5ec<_0x230cde;_0x2ba5ec++){if(_0x4eed22=_0x45700[_0x2ba5ec],_0x107c7c=_0x4eed22['scopeId']['value'],!_0x107c7c){const _0x51cb5a=_0x4eed22['scopeId']['name'];v['assert'](_0x51cb5a!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x51cb5a!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x51cb5a==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x107c7c=en(this,'white')),_0x51cb5a==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x107c7c=en(this,'pink')),_0x107c7c||(v['errorOnce']('Shader\x20'+_0x5570f6['name']+'\x20requires\x20'+_0x51cb5a+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x107c7c=en(this,'pink'));}if(_0x107c7c instanceof he)_0x4d5e0d=_0x107c7c,this['setTexture'](_0x4d5e0d,_0x234ac8),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x21dd*-0x1+-0x25*0x7e+0x3415&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x4d5e0d?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x4d5e0d}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x4d5e0d&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x4d5e0d})),_0x4eed22['slot']!==_0x234ac8&&(_0x474265['uniform1i'](_0x4eed22['locationId'],_0x234ac8),_0x4eed22['slot']=_0x234ac8),_0x234ac8++;else{_0x4eed22['array']['length']=-0x17*0x95+-0x1feb*-0x1+0x251*-0x8,_0x28784f=_0x107c7c['length'];for(let _0x2c3873=0x1a6*0x16+0x1*-0x259d+0x159;_0x2c3873<_0x28784f;_0x2c3873++)_0x4d5e0d=_0x107c7c[_0x2c3873],this['setTexture'](_0x4d5e0d,_0x234ac8),_0x4eed22['array'][_0x2c3873]=_0x234ac8,_0x234ac8++;_0x474265['uniform1iv'](_0x4eed22['locationId'],_0x4eed22['array']);}}for(let _0x577ee6=0x309*0x2+0xf4*0xb+0x1*-0x108e,_0x2cbc34=_0x3720f8['length'];_0x577ee6<_0x2cbc34;_0x577ee6++)_0x48a869=_0x3720f8[_0x577ee6],_0x173d64=_0x48a869['scopeId'],_0x2ebb60=_0x48a869['version'],_0xf8acb0=_0x173d64['versionObj'+'ect']['version'],(_0x2ebb60['globalId']!==_0xf8acb0['globalId']||_0x2ebb60['revision']!==_0xf8acb0['revision'])&&(_0x2ebb60['globalId']=_0xf8acb0['globalId'],_0x2ebb60['revision']=_0xf8acb0['revision'],_0x173d64['value']!==null&&this['commitFunc'+'tion'][_0x48a869['dataType']](_0x48a869,_0x173d64['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x474265['bindBuffer'+'Base'](_0x474265['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x749*-0x1+0x82b*0x2+-0x179f,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x474265['beginTrans'+'formFeedba'+'ck'](_0x474265['POINTS']));const _0x4b6f6b=this['glPrimitiv'+'e'][_0x341958['type']],_0x18615e=_0x341958['count'];if(_0x341958['indexed']){const _0x5104c3=this['indexBuffe'+'r'];v['assert'](_0x5104c3['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x3f7933=_0x5104c3['impl']['glFormat'],_0x1a8faf=_0x341958['base']*_0x5104c3['bytesPerIn'+'dex'];_0x35a696>0x225*0x3+-0x709*0x4+0x15b5?_0x474265['drawElemen'+'tsInstance'+'d'](_0x4b6f6b,_0x18615e,_0x3f7933,_0x1a8faf,_0x35a696):_0x474265['drawElemen'+'ts'](_0x4b6f6b,_0x18615e,_0x3f7933,_0x1a8faf);}else{const _0x1d6dc3=_0x341958['base'];_0x35a696>-0x24cd+0x41b+0x20b2?_0x474265['drawArrays'+'Instanced'](_0x4b6f6b,_0x1d6dc3,_0x18615e,_0x35a696):_0x474265['drawArrays'](_0x4b6f6b,_0x1d6dc3,_0x18615e);}this['transformF'+'eedbackBuf'+'fer']&&(_0x474265['endTransfo'+'rmFeedback'](),_0x474265['bindBuffer'+'Base'](_0x474265['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x2*-0x83+-0xc*-0x157+-0xf0e,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x341958['type']]+=_0x341958['count']*(_0x35a696>-0x17b1+-0x36c+0x3*0x90a?_0x35a696:0x9*0x31c+-0x1a86+-0x175*0x1);}['clear'](_0x1bbce4){const _0x1169ff=this['defaultCle'+'arOptions'];_0x1bbce4=_0x1bbce4||_0x1169ff;const _0x5d5e56=_0x1bbce4['flags']??_0x1169ff['flags'];if(_0x5d5e56!==-0x3*-0xaca+0x2df+-0x123*0x1f){const _0x24b652=this['gl'];if(_0x5d5e56&Co){const _0x5a814a=_0x1bbce4['color']??_0x1169ff['color'],_0x5d81da=_0x5a814a[0x1193+-0x2*-0x1323+-0x37d9],_0x1dedc3=_0x5a814a[-0x2054+0x1f52*-0x1+0x5*0xcbb],_0x253646=_0x5a814a[0x19cc+0x1962+0x4*-0xccb],_0x56d1bc=_0x5a814a[0x25cf+0x7f2*0x3+-0x3da2],_0x2c77a7=this['clearColor'];(_0x5d81da!==_0x2c77a7['r']||_0x1dedc3!==_0x2c77a7['g']||_0x253646!==_0x2c77a7['b']||_0x56d1bc!==_0x2c77a7['a'])&&(this['gl']['clearColor'](_0x5d81da,_0x1dedc3,_0x253646,_0x56d1bc),this['clearColor']['set'](_0x5d81da,_0x1dedc3,_0x253646,_0x56d1bc)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x5d5e56&Mo){const _0x43c480=_0x1bbce4['depth']??_0x1169ff['depth'];_0x43c480!==this['clearDepth']&&(this['gl']['clearDepth'](_0x43c480),this['clearDepth']=_0x43c480),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x5d5e56&Ah){const _0x549dee=_0x1bbce4['stencil']??_0x1169ff['stencil'];_0x549dee!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x549dee),this['clearStenc'+'il']=_0x549dee),_0x24b652['stencilMas'+'k'](0x17b9+-0x1912+0x258),this['stencilWri'+'teMaskFron'+'t']=-0x5d*-0x10+-0x1ba1+0x16d0,this['stencilWri'+'teMaskBack']=-0x2001+-0xc7d+0x2d7d;}_0x24b652['clear'](this['glClearFla'+'g'][_0x5d5e56]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x29f585,_0x320e5b,_0x477c6d,_0x1044cf,_0x2b88ae){const _0x18d5a9=this['gl'];_0x18d5a9['readPixels'](_0x29f585,_0x320e5b,_0x477c6d,_0x1044cf,_0x18d5a9['RGBA'],_0x18d5a9['UNSIGNED_B'+'YTE'],_0x2b88ae);}async['readPixels'+'Async'](_0x258122,_0x5532c5,_0x1e0708,_0x4720a8,_0x132d66){var _0x61984d;const _0x3b657f=this['gl'],_0x569316=(_0x321d83,_0x633390)=>{const _0x393b10=_0x3b657f['fenceSync'](_0x3b657f['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0x1bc2+0x459*0x8+-0x383*0x2);return this['submit'](),new Promise((_0x15aed9,_0x4fab42)=>{function _0x3ab329(){const _0x34dd8b=_0x3b657f['clientWait'+'Sync'](_0x393b10,_0x321d83,-0x1da*0xc+-0x97*-0x9+0x10e9);_0x34dd8b===_0x3b657f['WAIT_FAILE'+'D']?(_0x3b657f['deleteSync'](_0x393b10),_0x4fab42(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x34dd8b===_0x3b657f['TIMEOUT_EX'+'PIRED']?setTimeout(_0x3ab329,_0x633390):(_0x3b657f['deleteSync'](_0x393b10),_0x15aed9());}_0x3ab329();});},_0x2f4114=(_0x61984d=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x2c*-0x81+-0x2284+0x38b0):_0x61984d['impl'],_0x656c42=(_0x2f4114==null?void(-0x9d2+-0x32e+-0x34*-0x40):_0x2f4114['_glFormat'])??_0x3b657f['RGBA'],_0xa64bd4=(_0x2f4114==null?void(0x1a24+0x62b*0x6+0x76*-0x89):_0x2f4114['_glPixelTy'+'pe'])??_0x3b657f['UNSIGNED_B'+'YTE'],_0x548500=_0x3b657f['createBuff'+'er']();return _0x3b657f['bindBuffer'](_0x3b657f['PIXEL_PACK'+'_BUFFER'],_0x548500),_0x3b657f['bufferData'](_0x3b657f['PIXEL_PACK'+'_BUFFER'],_0x132d66['byteLength'],_0x3b657f['STREAM_REA'+'D']),_0x3b657f['readPixels'](_0x258122,_0x5532c5,_0x1e0708,_0x4720a8,_0x656c42,_0xa64bd4,0xc5*0x2c+0x8eb+-0x2ac7),_0x3b657f['bindBuffer'](_0x3b657f['PIXEL_PACK'+'_BUFFER'],null),await _0x569316(-0x1db*0x4+-0x26*0x1f+0xc06,-0x3c6+0x1980+-0x15a6),_0x3b657f['bindBuffer'](_0x3b657f['PIXEL_PACK'+'_BUFFER'],_0x548500),_0x3b657f['getBufferS'+'ubData'](_0x3b657f['PIXEL_PACK'+'_BUFFER'],-0xd*-0x59+0x2574+0x1*-0x29f9,_0x132d66),_0x3b657f['bindBuffer'](_0x3b657f['PIXEL_PACK'+'_BUFFER'],null),_0x3b657f['deleteBuff'+'er'](_0x548500),_0x132d66;}['readTextur'+'eAsync'](_0x3be17f,_0x3fef10,_0x32cc03,_0x8b152b,_0x63bef5,_0x3fc3ee){const _0x2759d2=_0x3fc3ee['face']??-0x1238+0x1*-0xa23+0x7*0x40d,_0x22b879=_0x3fc3ee['renderTarg'+'et']??new pt({'colorBuffer':_0x3be17f,'depth':!(0x11a3+0x1279+0x1*-0x241b),'face':_0x2759d2});v['assert'](_0x22b879['colorBuffe'+'r']===_0x3be17f);const _0x236e28=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x8b152b,_0x63bef5,-0x1*0x192d+-0x1ad4+0x3402,_0x3be17f['_format'])),_0x13f5e8=_0x3fc3ee['data']??new(Cy(_0x3be17f['_format']))(_0x236e28);return this['setRenderT'+'arget'](_0x22b879),this['initRender'+'Target'](_0x22b879),new Promise((_0x2d3e6a,_0x14e415)=>{this['readPixels'+'Async'](_0x3fef10,_0x32cc03,_0x8b152b,_0x63bef5,_0x13f5e8)['then'](_0x3f014b=>{_0x3fc3ee['renderTarg'+'et']||_0x22b879['destroy'](),_0x2d3e6a(_0x3f014b);})['catch'](_0x14e415);});}['setAlphaTo'+'Coverage'](_0xa6e229){this['alphaToCov'+'erage']!==_0xa6e229&&(this['alphaToCov'+'erage']=_0xa6e229,_0xa6e229?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x1993b6){if(this['transformF'+'eedbackBuf'+'fer']!==_0x1993b6){this['transformF'+'eedbackBuf'+'fer']=_0x1993b6;const _0x5198d5=this['gl'];_0x1993b6?(this['feedback']||(this['feedback']=_0x5198d5['createTran'+'sformFeedb'+'ack']()),_0x5198d5['bindTransf'+'ormFeedbac'+'k'](_0x5198d5['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x5198d5['bindTransf'+'ormFeedbac'+'k'](_0x5198d5['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x248f7f){this['raster']!==_0x248f7f&&(this['raster']=_0x248f7f,_0x248f7f?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x3b34c3){if(this['stencil']!==_0x3b34c3){const _0x42f85a=this['gl'];_0x3b34c3?_0x42f85a['enable'](_0x42f85a['STENCIL_TE'+'ST']):_0x42f85a['disable'](_0x42f85a['STENCIL_TE'+'ST']),this['stencil']=_0x3b34c3;}}['setStencil'+'Func'](_0x63f0ed,_0x33b990,_0x44b81f){(this['stencilFun'+'cFront']!==_0x63f0ed||this['stencilRef'+'Front']!==_0x33b990||this['stencilMas'+'kFront']!==_0x44b81f||this['stencilFun'+'cBack']!==_0x63f0ed||this['stencilRef'+'Back']!==_0x33b990||this['stencilMas'+'kBack']!==_0x44b81f)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x63f0ed],_0x33b990,_0x44b81f),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x63f0ed,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x33b990,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x44b81f);}['setStencil'+'FuncFront'](_0x7b8fa,_0x491040,_0x44ce6b){if(this['stencilFun'+'cFront']!==_0x7b8fa||this['stencilRef'+'Front']!==_0x491040||this['stencilMas'+'kFront']!==_0x44ce6b){const _0x50114b=this['gl'];_0x50114b['stencilFun'+'cSeparate'](_0x50114b['FRONT'],this['glComparis'+'on'][_0x7b8fa],_0x491040,_0x44ce6b),this['stencilFun'+'cFront']=_0x7b8fa,this['stencilRef'+'Front']=_0x491040,this['stencilMas'+'kFront']=_0x44ce6b;}}['setStencil'+'FuncBack'](_0x2d8c09,_0xa1bf7,_0x3207d2){if(this['stencilFun'+'cBack']!==_0x2d8c09||this['stencilRef'+'Back']!==_0xa1bf7||this['stencilMas'+'kBack']!==_0x3207d2){const _0x87bba8=this['gl'];_0x87bba8['stencilFun'+'cSeparate'](_0x87bba8['BACK'],this['glComparis'+'on'][_0x2d8c09],_0xa1bf7,_0x3207d2),this['stencilFun'+'cBack']=_0x2d8c09,this['stencilRef'+'Back']=_0xa1bf7,this['stencilMas'+'kBack']=_0x3207d2;}}['setStencil'+'Operation'](_0x4a475d,_0x7ae290,_0x109e52,_0x927dba){(this['stencilFai'+'lFront']!==_0x4a475d||this['stencilZfa'+'ilFront']!==_0x7ae290||this['stencilZpa'+'ssFront']!==_0x109e52||this['stencilFai'+'lBack']!==_0x4a475d||this['stencilZfa'+'ilBack']!==_0x7ae290||this['stencilZpa'+'ssBack']!==_0x109e52)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x4a475d],this['glStencilO'+'p'][_0x7ae290],this['glStencilO'+'p'][_0x109e52]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x4a475d,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x7ae290,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x109e52),(this['stencilWri'+'teMaskFron'+'t']!==_0x927dba||this['stencilWri'+'teMaskBack']!==_0x927dba)&&(this['gl']['stencilMas'+'k'](_0x927dba),this['stencilWri'+'teMaskFron'+'t']=_0x927dba,this['stencilWri'+'teMaskBack']=_0x927dba);}['setStencil'+'OperationF'+'ront'](_0xc64d2f,_0x165593,_0x529b58,_0xdfd8c5){(this['stencilFai'+'lFront']!==_0xc64d2f||this['stencilZfa'+'ilFront']!==_0x165593||this['stencilZpa'+'ssFront']!==_0x529b58)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0xc64d2f],this['glStencilO'+'p'][_0x165593],this['glStencilO'+'p'][_0x529b58]),this['stencilFai'+'lFront']=_0xc64d2f,this['stencilZfa'+'ilFront']=_0x165593,this['stencilZpa'+'ssFront']=_0x529b58),this['stencilWri'+'teMaskFron'+'t']!==_0xdfd8c5&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0xdfd8c5),this['stencilWri'+'teMaskFron'+'t']=_0xdfd8c5);}['setStencil'+'OperationB'+'ack'](_0x4ebe6e,_0x1a4da7,_0x4a4329,_0x79844a){(this['stencilFai'+'lBack']!==_0x4ebe6e||this['stencilZfa'+'ilBack']!==_0x1a4da7||this['stencilZpa'+'ssBack']!==_0x4a4329)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x4ebe6e],this['glStencilO'+'p'][_0x1a4da7],this['glStencilO'+'p'][_0x4a4329]),this['stencilFai'+'lBack']=_0x4ebe6e,this['stencilZfa'+'ilBack']=_0x1a4da7,this['stencilZpa'+'ssBack']=_0x4a4329),this['stencilWri'+'teMaskBack']!==_0x79844a&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x79844a),this['stencilWri'+'teMaskBack']=_0x79844a);}['setBlendSt'+'ate'](_0x1e80f5){const _0x4f9fb3=this['blendState'];if(!_0x4f9fb3['equals'](_0x1e80f5)){const _0x2eecce=this['gl'],{blend:_0x4b6826,colorOp:_0x31a85a,alphaOp:_0x5ac5cb,colorSrcFactor:_0x59d9e4,colorDstFactor:_0x3c5c85,alphaSrcFactor:_0x449ec2,alphaDstFactor:_0x161a11}=_0x1e80f5;if(_0x4f9fb3['blend']!==_0x4b6826&&(_0x4b6826?_0x2eecce['enable'](_0x2eecce['BLEND']):_0x2eecce['disable'](_0x2eecce['BLEND'])),_0x4f9fb3['colorOp']!==_0x31a85a||_0x4f9fb3['alphaOp']!==_0x5ac5cb){const _0x59f911=this['glBlendEqu'+'ation'];_0x2eecce['blendEquat'+'ionSeparat'+'e'](_0x59f911[_0x31a85a],_0x59f911[_0x5ac5cb]);}(_0x4f9fb3['colorSrcFa'+'ctor']!==_0x59d9e4||_0x4f9fb3['colorDstFa'+'ctor']!==_0x3c5c85||_0x4f9fb3['alphaSrcFa'+'ctor']!==_0x449ec2||_0x4f9fb3['alphaDstFa'+'ctor']!==_0x161a11)&&_0x2eecce['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x59d9e4],this['glBlendFun'+'ctionColor'][_0x3c5c85],this['glBlendFun'+'ctionAlpha'][_0x449ec2],this['glBlendFun'+'ctionAlpha'][_0x161a11]),_0x4f9fb3['allWrite']!==_0x1e80f5['allWrite']&&this['gl']['colorMask'](_0x1e80f5['redWrite'],_0x1e80f5['greenWrite'],_0x1e80f5['blueWrite'],_0x1e80f5['alphaWrite']),_0x4f9fb3['copy'](_0x1e80f5);}}['setBlendCo'+'lor'](_0x2abdd8,_0x1d468e,_0x207d75,_0x450de0){const _0x4efc58=this['blendColor'];(_0x2abdd8!==_0x4efc58['r']||_0x1d468e!==_0x4efc58['g']||_0x207d75!==_0x4efc58['b']||_0x450de0!==_0x4efc58['a'])&&(this['gl']['blendColor'](_0x2abdd8,_0x1d468e,_0x207d75,_0x450de0),_0x4efc58['set'](_0x2abdd8,_0x1d468e,_0x207d75,_0x450de0));}['setStencil'+'State'](_0x3992b8,_0x39f996){_0x3992b8||_0x39f996?(this['setStencil'+'Test'](!(-0x95*0x3b+-0x1a4d+-0x3ca4*-0x1)),_0x3992b8===_0x39f996?(this['setStencil'+'Func'](_0x3992b8['func'],_0x3992b8['ref'],_0x3992b8['readMask']),this['setStencil'+'Operation'](_0x3992b8['fail'],_0x3992b8['zfail'],_0x3992b8['zpass'],_0x3992b8['writeMask'])):(_0x3992b8??(_0x3992b8=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x3992b8['func'],_0x3992b8['ref'],_0x3992b8['readMask']),this['setStencil'+'OperationF'+'ront'](_0x3992b8['fail'],_0x3992b8['zfail'],_0x3992b8['zpass'],_0x3992b8['writeMask']),_0x39f996??(_0x39f996=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x39f996['func'],_0x39f996['ref'],_0x39f996['readMask']),this['setStencil'+'OperationB'+'ack'](_0x39f996['fail'],_0x39f996['zfail'],_0x39f996['zpass'],_0x39f996['writeMask']))):this['setStencil'+'Test'](!(0x1b*0x139+-0x53*-0x20+-0x2b62*0x1));}['setDepthSt'+'ate'](_0x32b70e){const _0x4e7755=this['depthState'];if(!_0x4e7755['equals'](_0x32b70e)){const _0x5e52bd=this['gl'],_0x50f5ce=_0x32b70e['write'];_0x4e7755['write']!==_0x50f5ce&&_0x5e52bd['depthMask'](_0x50f5ce);let {func:_0x1ae7ee,test:_0x465491}=_0x32b70e;!_0x465491&&_0x50f5ce&&(_0x465491=!(0x15d8+0xfd3*0x2+-0x29*0x14e),_0x1ae7ee=Ai),_0x4e7755['func']!==_0x1ae7ee&&_0x5e52bd['depthFunc'](this['glComparis'+'on'][_0x1ae7ee]),_0x4e7755['test']!==_0x465491&&(_0x465491?_0x5e52bd['enable'](_0x5e52bd['DEPTH_TEST']):_0x5e52bd['disable'](_0x5e52bd['DEPTH_TEST']));const {depthBias:_0x266b54,depthBiasSlope:_0x7f6492}=_0x32b70e;_0x266b54||_0x7f6492?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x14*-0xef+-0x23d2+0x367e),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x5e52bd['polygonOff'+'set'](_0x7f6492,_0x266b54)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x1908+-0x2403*-0x1+-0x3d0a),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x4e7755['copy'](_0x32b70e);}}['setCullMod'+'e'](_0x134428){if(this['cullMode']!==_0x134428){if(_0x134428===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x212257=this['glCull'][_0x134428];this['cullFace']!==_0x212257&&(this['gl']['cullFace'](_0x212257),this['cullFace']=_0x212257);}this['cullMode']=_0x134428;}}['setShader'](_0x44db3c,_0x432351=!(-0x15bc+-0x8bc+0x1e79)){_0x44db3c!==this['shader']&&(this['shader']=_0x44db3c,this['shaderAsyn'+'cCompile']=_0x432351,this['shaderVali'+'d']=void(0x19d3+-0x127e+-0x755),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x12eba0){const {shader:_0x23c7c6}=this,{impl:_0x15c2d2}=_0x23c7c6;this['shaderVali'+'d']===void(-0x96f+-0x2068+0x1*0x29d7)&&(_0x23c7c6['failed']?this['shaderVali'+'d']=!(-0x788+0x1c41*-0x1+0x9*0x3fa):_0x23c7c6['ready']||(this['shaderAsyn'+'cCompile']?_0x15c2d2['isLinked'](_0x12eba0)?_0x15c2d2['finalize'](this,_0x23c7c6)||(_0x23c7c6['failed']=!(0x1877+0x10a3*0x1+-0x148d*0x2),this['shaderVali'+'d']=!(-0x2*0xb81+-0xa61*0x2+0x2bc5)):this['shaderVali'+'d']=!(-0x1603+-0x3*-0x930+-0x58c):_0x15c2d2['finalize'](this,_0x23c7c6)||(_0x23c7c6['failed']=!(0x1692+-0x97a*-0x1+0x1c*-0x125),this['shaderVali'+'d']=!(0x1396+0x1897*0x1+-0x2c2c)))),this['shaderVali'+'d']===void(0x1*-0x1dee+-0x6a3+-0x25*-0xfd)&&(this['gl']['useProgram'](_0x15c2d2['glProgram']),this['shaderVali'+'d']=!(-0xe7*-0x5+0x2*0x851+-0x1525));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x1cb667=this['gl'];this['_vaoMap']['forEach']((_0x32a8e2,_0x4bb054,_0x56b82b)=>{_0x1cb667['deleteVert'+'exArray'](_0x32a8e2);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x85a623){_0x85a623?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x4e2acc=0xa33+0xc87*-0x1+0x3*0xe8){const _0x58da5e=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x58da5e['loseContex'+'t'](),setTimeout(()=>_0x58da5e['restoreCon'+'text'](),_0x4e2acc);}}let mb=-0x304+0x346*0x7+-0x13e6;class lr{constructor(_0x599b62,_0x4c4c4d,_0x4966cd,_0x257612=jt,_0x6cb74f,_0x5557df){this['device']=_0x599b62,this['format']=_0x4c4c4d,this['numIndices']=_0x4966cd,this['usage']=_0x257612,this['id']=mb++,this['impl']=_0x599b62['createInde'+'xBufferImp'+'l'](this,_0x5557df);const _0x6a069d=vv[_0x4c4c4d];this['bytesPerIn'+'dex']=_0x6a069d,this['numBytes']=this['numIndices']*_0x6a069d,_0x6cb74f?this['setData'](_0x6cb74f):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x599b62['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0xea17ff=this['device'],_0x3a5746=_0xea17ff['buffers']['indexOf'](this);_0x3a5746!==-(-0xc6d+-0x9f2*0x2+0x2052)&&_0xea17ff['buffers']['splice'](_0x3a5746,-0x1f3c*-0x1+0x2*-0x275+0x1a51*-0x1),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0xea17ff),this['adjustVram'+'SizeTracki'+'ng'](_0xea17ff['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x285972,_0x17ea52){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x17ea52+'\x20vram.ib:\x20'+_0x285972['ib']+'\x20=>\x20'+(_0x285972['ib']+_0x17ea52)),_0x285972['ib']+=_0x17ea52;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x17818e){return _0x17818e['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x17818e['byteLength']),!(-0x2128*0x1+-0x1*0x1853+0x397c)):(this['storage']=_0x17818e,this['unlock'](),!(-0x3e4+-0x18d*-0x7+0x6f7*-0x1));}['_lockTyped'+'Array'](){const _0x1011cb=this['lock']();return this['format']===nr?new Uint32Array(_0x1011cb):this['format']===Pi?new Uint16Array(_0x1011cb):new Uint8Array(_0x1011cb);}['writeData'](_0x54f0e8,_0xb30e4d){const _0x209631=this['_lockTyped'+'Array']();if(_0x54f0e8['length']>_0xb30e4d){if(ArrayBuffer['isView'](_0x54f0e8))_0x54f0e8=_0x54f0e8['subarray'](0x76f*0x2+0x3fc*0x3+-0x1ad2*0x1,_0xb30e4d),_0x209631['set'](_0x54f0e8);else{for(let _0x1eb8ae=0x395*0x7+0x209a+-0x39ad*0x1;_0x1eb8ae<_0xb30e4d;_0x1eb8ae++)_0x209631[_0x1eb8ae]=_0x54f0e8[_0x1eb8ae];}}else _0x209631['set'](_0x54f0e8);this['unlock']();}['readData'](_0x45b849){const _0x525ef1=this['_lockTyped'+'Array'](),_0x1f750f=this['numIndices'];if(ArrayBuffer['isView'](_0x45b849))_0x45b849['set'](_0x525ef1);else{_0x45b849['length']=-0x1926+0x133f+0x5e7*0x1;for(let _0x339d1d=-0x1e00+0x72e*0x4+0x148;_0x339d1d<_0x1f750f;_0x339d1d++)_0x45b849[_0x339d1d]=_0x525ef1[_0x339d1d];}return _0x1f750f;}}class _b{constructor(){c(this,'clearValue',new Y(0x1865*-0x1+-0xc5*-0x5+-0x20e*-0xa,0x1871*-0x1+-0x1de8+-0x1*-0x3659,-0x1*-0x5ab+-0x1*0x1c99+0x2*0xb77,0x181e+0x1ec4+0x3f*-0xdf)),c(this,'clearValue'+'Linear',new Y(0x1a02+0x1cb9+0x36bb*-0x1,0x8cf+-0x167*0xe+0xad3,-0xcbd*-0x3+-0x786+0x1b*-0x123,-0x16fe+-0x2*0x1051+-0x2f*-0x12f)),c(this,'clear',!(-0x1836+0x15e7+0x4a*0x8)),c(this,'store',!(0x1653+-0x1301+-0x351)),c(this,'resolve',!(-0x1*0x58a+0x3*0xbf1+0x1e49*-0x1)),c(this,'genMipmaps',!(0xdc2+0xdac+-0x3eb*0x7));}}class gb{constructor(){c(this,'clearDepth'+'Value',-0xa0a+0x18*-0x20+0xd0b),c(this,'clearStenc'+'ilValue',0x74f*0x3+-0x1253+0x1*-0x39a),c(this,'clearDepth',!(0x1*-0xfbf+-0xa6c+0x1a2c)),c(this,'clearStenc'+'il',!(-0x1c6f+-0x3*0x2fb+0x2561*0x1)),c(this,'storeDepth',!(-0x1*0x1279+0x51*0x4f+0x1*-0x685)),c(this,'resolveDep'+'th',!(-0x5f*-0x29+0x1482+-0x23b8)),c(this,'storeStenc'+'il',!(-0x1d38+0x355*-0x4+0x2a8d));}}class ds{constructor(_0x55fdd1){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0x6ec+-0x1283*0x1+0x196f)),c(this,'_skipStart',!(0x1*-0x23a7+0xb27+0x11*0x171)),c(this,'_skipEnd',!(-0x26*-0x71+-0xaed+-0x1*0x5d8)),c(this,'executeEna'+'bled',!(0x67*0x45+-0xf*0x19+0xb*-0x264)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',0x3*-0xac9+0x1d00+0x1*0x35b),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(-0x5e5+0xa94+0xb*-0x6d)),c(this,'fullSizeCl'+'earRect',!(-0x233d+0x7*0x7+-0x8c3*-0x4)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x55fdd1),this['device']=_0x55fdd1);}get['colorOps'](){return this['colorArray'+'Ops'][-0x3ad*-0x3+-0x1*-0x1ab7+-0x25be];}set['name'](_0x1b343a){this['_name']=_0x1b343a;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x2b84da){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x2b84da;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x265a0e){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x265a0e;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x258cf6){this['_options']=_0x258cf6,_0x258cf6&&(this['scaleX']=this['scaleX']??0x8f*0x2f+-0xbe6+-0xe5a,this['scaleY']=this['scaleY']??-0x72b*-0x2+0x3*-0x8ce+0xc15*0x1);}get['options'](){return this['_options'];}['init'](_0x120d3e=null,_0x86a398){this['options']=_0x86a398,this['renderTarg'+'et']=_0x120d3e,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x2512+0x15ec+-0x3afd*0x1),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0xd4d2cf,_0x197bbc,_0x52f661,_0x5a2a10;const _0xeec36c=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0xeec36c!=null&&_0xeec36c['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x44*-0x85+-0x2*0x1365+-0x1*-0x4a1e));const _0x43a980=_0xeec36c?((_0xd4d2cf=_0xeec36c['_colorBuff'+'ers'])==null?void(0x2e*-0x19+-0x29a*0x5+0x1180):_0xd4d2cf['length'])??-0x14f3*0x1+-0x140b+0x28fe:0x4a9+-0x4*0x123+-0x1c;this['colorArray'+'Ops']['length']=0x2446+-0xb56+-0x18f0;for(let _0x436595=-0x1bc9+0x597*0x1+0x1632;_0x436595<_0x43a980;_0x436595++){const _0x5be805=new _b();this['colorArray'+'Ops'][_0x436595]=_0x5be805,this['samples']===0x564+-0x54f+-0x14&&(_0x5be805['store']=!(0xec2+0xb01+-0x19c3),_0x5be805['resolve']=!(-0x167e+0xc1d+0xa62));const _0x1eb749=(_0x52f661=(_0x197bbc=this['renderTarg'+'et'])==null?void(-0x1d1a+0x12e2+-0x147*-0x8):_0x197bbc['_colorBuff'+'ers'])==null?void(0x1de+0x1cb4+0x1e92*-0x1):_0x52f661[_0x436595];if((_0x5a2a10=this['renderTarg'+'et'])!=null&&_0x5a2a10['mipmaps']&&(_0x1eb749!=null&&_0x1eb749['mipmaps'])){const _0x257659=ea(_0x1eb749['_format']);_0x5be805['genMipmaps']=!_0x257659;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x2bc88d=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x25391d=Math['floor'](_0x2bc88d['width']*this['scaleX']),_0x2d7baf=Math['floor'](_0x2bc88d['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x25391d,_0x2d7baf);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x3402d0){this['_enabled']!==_0x3402d0&&(this['_enabled']=_0x3402d0,_0x3402d0?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x135ce8){const _0x597f16=this['colorArray'+'Ops']['length'];for(let _0x25f21e=-0xf44+0x36e+-0xbd6*-0x1;_0x25f21e<_0x597f16;_0x25f21e++){const _0x53a8ac=this['colorArray'+'Ops'][_0x25f21e];_0x135ce8&&(_0x53a8ac['clearValue']['copy'](_0x135ce8),_0x53a8ac['clearValue'+'Linear']['linear'](_0x135ce8)),_0x53a8ac['clear']=!!_0x135ce8;}}['setClearDe'+'pth'](_0x410e5f){_0x410e5f&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x410e5f),this['depthStenc'+'ilOps']['clearDepth']=_0x410e5f!==void(-0x373+0x25d7+0x11c*-0x1f);}['setClearSt'+'encil'](_0x5abcce){_0x5abcce&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x5abcce),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x5abcce!==void(0x7bd*-0x5+-0xe7e+0x352f);}['render'](){if(this['enabled']){const _0x4b6742=this['device'],_0x5d20a3=this['renderTarg'+'et']!==void(0x10fd*-0x1+0x1*0xb0b+0x5f2);v['call'](()=>{this['log'](_0x4b6742,_0x4b6742['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x5d20a3&&!this['_skipStart']&&_0x4b6742['startRende'+'rPass'](this),this['execute'](),_0x5d20a3&&!this['_skipEnd']&&_0x4b6742['endRenderP'+'ass'](this)),this['after'](),_0x4b6742['renderPass'+'Index']++;}}['log'](_0x4c7b4d,_0x7b34fa=0x1ab3+-0x1c3e+-0x18b*-0x1){var _0x283037,_0x38d579,_0x174e2b;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x239c97=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x4c7b4d['backBuffer']:null),_0x56f07f=!!(_0x239c97!=null&&_0x239c97['impl']['assignedCo'+'lorTexture'])||(_0x239c97==null?void(0x1a*0xd7+0x35f*0x8+-0x30ce):_0x239c97['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x205a*0x1+-0x29*-0xbb+-0x29*-0xf),_0x1b13ae=((_0x283037=_0x239c97==null?void(-0xa3a+-0x25d2*-0x1+-0x1b98):_0x239c97['_colorBuff'+'ers'])==null?void(-0xa7b*0x1+0x1*-0x641+0x10bc):_0x283037['length'])??(_0x56f07f?0x3*0x69c+-0xda*0xd+-0x8c1:0xa4c*0x3+-0x26d1+-0x1*-0x7ed),_0x5aa55d=_0x239c97==null?void(-0x1*0x895+-0x18d5+0x216a):_0x239c97['depth'],_0x5b0d9f=_0x239c97==null?void(0x9*-0xc1+0x2035+-0xcb6*0x2):_0x239c97['stencil'],_0x589d60=_0x239c97==null?void(0x863*0x4+-0x173b+-0xa51):_0x239c97['mipLevel'],_0x56dbb9=_0x239c97?'\x20RT:\x20'+(_0x239c97?_0x239c97['name']:'NULL')+'\x20'+(_0x1b13ae>-0x26a3+-0x33a*0x9+0x21*0x20d?'[Color'+(_0x1b13ae>0x1b44+-0x1ed*-0xd+-0x344c*0x1?'\x20x\x20'+_0x1b13ae:'')+']':'')+(_0x5aa55d?'[Depth]':'')+(_0x5b0d9f?'[Stencil]':'')+'\x20'+_0x239c97['width']+'\x20x\x20'+_0x239c97['height']+(this['samples']>-0x9e*0x15+-0x29*0xd7+0x44f*0xb?'\x20samples:\x20'+this['samples']:'')+(_0x589d60>-0x16a3+0x1*-0x16ca+0x2d6d?'\x20mipLevel:'+'\x20'+_0x589d60:''):'',_0x5cdfb4=this['_skipStart']?'++':_0x7b34fa['toString']()['padEnd'](-0x1*0x22d2+0x20d*-0x2+0x26ee,'\x20');v['trace'](jp,_0x5cdfb4+':\x20'+this['name']['padEnd'](0x1*0xd+0x1*0x263f+-0x2638,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x56dbb9['padEnd'](-0x3a9*-0x7+-0x73d*0x5+-0xc*-0xe4));for(let _0x57bbb1=0x161e+0x2284+-0x38a2*0x1;_0x57bbb1<_0x1b13ae;_0x57bbb1++){const _0x115ea1=this['colorArray'+'Ops'][_0x57bbb1],_0x1785fb=(_0x38d579=xt['get'](_0x56f07f?_0x4c7b4d['backBuffer'+'Format']:_0x239c97['getColorBu'+'ffer'](_0x57bbb1)['format']))==null?void(0xc4a+0x1aa7+0x3*-0xcfb):_0x38d579['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x57bbb1+']:\x20'+(_0x115ea1['clear']?'clear':'load')+'->'+(_0x115ea1['store']?'store':'discard')+'\x20'+(_0x115ea1['resolve']?'resolve\x20':'')+(_0x115ea1['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x1785fb+']\x20'+(_0x115ea1['clear']?'[clear:\x20'+_0x115ea1['clearValue']['toString'](!(0x137d*0x1+-0x1*0x1cd1+0x255*0x4),!(-0x15d9+-0x101f+0x25f8))+']':''));}if(this['depthStenc'+'ilOps']){const _0x2d513c=''+(_0x239c97['depthBuffe'+'r']?'\x20[format:\x20'+((_0x174e2b=xt['get'](_0x239c97['depthBuffe'+'r']['format']))==null?void(0x5f3*0x3+0x1d70+0x10d*-0x2d):_0x174e2b['name'])+']':'');_0x5aa55d&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x2d513c+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x5b0d9f&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x2d513c+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x40fbc9){this['array'][this['index']]=_0x40fbc9;}function xb(_0xeab82e,_0x38c44c){this['array'][this['index']]=_0xeab82e,this['array'][this['index']+(0x1*0x21c7+0x8e*-0x3e+0x9e)]=_0x38c44c;}function Sb(_0x5da72d,_0x32ed4c,_0x1aa18d){this['array'][this['index']]=_0x5da72d,this['array'][this['index']+(-0xd*-0x27a+-0x18b3+-0x1*0x77e)]=_0x32ed4c,this['array'][this['index']+(-0xcf7+0x14b*0xa+-0x1*-0xb)]=_0x1aa18d;}function vb(_0x7537db,_0x1d118d,_0x187e1a,_0x40beef){this['array'][this['index']]=_0x7537db,this['array'][this['index']+(-0x1*0x1273+-0x190f+0x2b83)]=_0x1d118d,this['array'][this['index']+(-0x6*0x4fe+-0x1c64+-0x2a7*-0x16)]=_0x187e1a,this['array'][this['index']+(0x762+-0xd7d+-0xae*-0x9)]=_0x40beef;}function bb(_0x50d3d4,_0x1c4279,_0x59a0cf){this['array'][_0x50d3d4]=_0x1c4279[_0x59a0cf];}function wb(_0x4affc9,_0x1b11fb,_0x58ce00){this['array'][_0x4affc9]=_0x1b11fb[_0x58ce00],this['array'][_0x4affc9+(-0x2*0xf51+-0x2*0xa2+0x1fe7)]=_0x1b11fb[_0x58ce00+(0x12d0+0x55d*0x1+-0x182c)];}function Tb(_0x673c10,_0x5a0592,_0x553b70){this['array'][_0x673c10]=_0x5a0592[_0x553b70],this['array'][_0x673c10+(0x4*0x63a+0xc*0x8e+-0x1*0x1f8f)]=_0x5a0592[_0x553b70+(0x709*-0x4+-0x382+0x1fa7)],this['array'][_0x673c10+(0x1709*-0x1+0x1*0x1e41+-0x736)]=_0x5a0592[_0x553b70+(0x8cc+-0x28c*0xb+-0x2e*-0x6b)];}function Ab(_0x39fc89,_0x4156a6,_0x37341f){this['array'][_0x39fc89]=_0x4156a6[_0x37341f],this['array'][_0x39fc89+(-0x4b*0x26+-0x7*0x2c5+-0x1e86*-0x1)]=_0x4156a6[_0x37341f+(-0x167d+0x108f+-0x31*-0x1f)],this['array'][_0x39fc89+(0x3d+-0xcd+0x92)]=_0x4156a6[_0x37341f+(0x1c5e+-0x7*0x19b+0x3*-0x5b5)],this['array'][_0x39fc89+(-0x51c+-0x3*-0x9df+-0x187e)]=_0x4156a6[_0x37341f+(0x124f+-0xa29*0x3+0xc2f)];}function Eb(_0x31e4d2,_0x59cbf4,_0x51f6cf){_0x59cbf4[_0x51f6cf]=this['array'][_0x31e4d2];}function Cb(_0x5bb95c,_0x4395d3,_0xc83323){_0x4395d3[_0xc83323]=this['array'][_0x5bb95c],_0x4395d3[_0xc83323+(0x1*0x129f+-0x16c1+0x1*0x423)]=this['array'][_0x5bb95c+(-0x2318+-0x1c47+0xfd8*0x4)];}function Mb(_0x2268c2,_0x262c34,_0x578b50){_0x262c34[_0x578b50]=this['array'][_0x2268c2],_0x262c34[_0x578b50+(-0x26b*0x7+-0x267*0x7+0x21bf)]=this['array'][_0x2268c2+(-0x48d*0x1+-0x23aa+-0x23c*-0x12)],_0x262c34[_0x578b50+(-0x2*-0x1097+-0x15ce+-0xb5e)]=this['array'][_0x2268c2+(-0x40*-0x5+0x21f3+0x5b*-0x63)];}function Pb(_0x289df4,_0x54d5e6,_0x3fd7e9){_0x54d5e6[_0x3fd7e9]=this['array'][_0x289df4],_0x54d5e6[_0x3fd7e9+(-0x2*0xada+0xce6*0x3+-0x10fd)]=this['array'][_0x289df4+(0x79*0x36+-0x450+0x3d*-0x59)],_0x54d5e6[_0x3fd7e9+(0x1451+0x9*-0x3e5+-0x6f*-0x22)]=this['array'][_0x289df4+(0xb1*-0x2d+0x1f34+0x3*-0x7)],_0x54d5e6[_0x3fd7e9+(-0x1612+-0xc2+0x16d7)]=this['array'][_0x289df4+(-0x935*-0x2+-0x1115*-0x1+-0x237c)];}class Rb{constructor(_0x59af12,_0x1c8f92,_0x1ead2b){switch(this['index']=0xdc+0x231e+-0x23fa,this['numCompone'+'nts']=_0x1c8f92['numCompone'+'nts'],_0x1ead2b['interleave'+'d']?this['array']=new da[_0x1c8f92['dataType']](_0x59af12,_0x1c8f92['offset']):this['array']=new da[_0x1c8f92['dataType']](_0x59af12,_0x1c8f92['offset'],_0x1ead2b['vertexCoun'+'t']*_0x1c8f92['numCompone'+'nts']),this['stride']=_0x1c8f92['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x1c8f92['numCompone'+'nts']){case 0x2*-0x6d0+0x2102+-0x1361:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case-0xb*-0x19+-0x9*0xc1+0x5b8:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case 0x875+-0xeb7*-0x1+-0x1729:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case 0xc0b*0x2+-0x101*-0x7+-0x13*0x1a3:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x26c489){return this['array'][this['index']+_0x26c489];}['set'](_0x3928b3,_0x31e583,_0x3d0011,_0x2bc7c8){}['getToArray'](_0xa64636,_0xad28b3,_0x5a2c6e){}['setFromArr'+'ay'](_0x482f32,_0x19bafe,_0x356917){}}class go{constructor(_0x3a7f3b){this['vertexBuff'+'er']=_0x3a7f3b,this['vertexForm'+'atSize']=_0x3a7f3b['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x1b676c=this['vertexBuff'+'er']['getFormat']();for(let _0x576ae1=-0x999*-0x1+0x1a*-0x2f+0x13*-0x41;_0x576ae1<_0x1b676c['elements']['length'];_0x576ae1++){const _0x9f2b29=_0x1b676c['elements'][_0x576ae1];this['accessors'][_0x576ae1]=new Rb(this['buffer'],_0x9f2b29,_0x1b676c),this['element'][_0x9f2b29['name']]=this['accessors'][_0x576ae1];}}['next'](_0x385006=-0x7*-0x26+-0x52e*0x6+0x1e0b*0x1){let _0x59df50=-0x164f+-0x26a9+0x79f*0x8;const _0x545f4d=this['accessors'],_0x5b23fd=this['accessors']['length'];for(;_0x59df50<_0x5b23fd;){const _0x426b62=_0x545f4d[_0x59df50++];_0x426b62['index']+=_0x385006*_0x426b62['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x47a269,_0x523936,_0x1355f1){const _0x10b9ef=this['element'][_0x47a269];if(_0x10b9ef){_0x1355f1>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x1355f1+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x1355f1=this['vertexBuff'+'er']['numVertice'+'s']);const _0x325c32=_0x10b9ef['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x1e8b09=-0x1b*-0xbf+-0x1*-0x26e5+-0x3b0a;for(let _0x35263b=0x109*0xa+0x8b*0x47+0x3*-0x104d;_0x35263b<_0x1355f1;_0x35263b++)_0x10b9ef['setFromArr'+'ay'](_0x1e8b09,_0x523936,_0x35263b*_0x325c32),_0x1e8b09+=_0x10b9ef['stride'];}else{if(_0x523936['length']>_0x1355f1*_0x325c32){const _0x4e23ce=_0x1355f1*_0x325c32;if(ArrayBuffer['isView'](_0x523936))_0x523936=_0x523936['subarray'](-0x15a2+-0xa7*-0x22+-0x8c,_0x4e23ce),_0x10b9ef['array']['set'](_0x523936);else{for(let _0x2bde61=-0x105d+0x611+0xa4c;_0x2bde61<_0x4e23ce;_0x2bde61++)_0x10b9ef['array'][_0x2bde61]=_0x523936[_0x2bde61];}}else _0x10b9ef['array']['set'](_0x523936);}}}['readData'](_0x5a867c,_0x1fa40a){const _0x56cf95=this['element'][_0x5a867c];let _0xd48b55=0x57*0x39+-0xf1*-0x17+-0x2906;if(_0x56cf95){_0xd48b55=this['vertexBuff'+'er']['numVertice'+'s'];let _0xf8b7ef;const _0x42534c=_0x56cf95['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x1fa40a)&&(_0x1fa40a['length']=0x499*-0x5+-0x9cf+0x4*0x833),_0x56cf95['index']=-0x133*-0x13+-0x1*0x1033+-0x6*0x119;let _0x1d185a=0x175c+-0x266a+0xf0e;for(_0xf8b7ef=-0x1c54+0x38b*-0xa+-0x2*-0x1fe1;_0xf8b7ef<_0xd48b55;_0xf8b7ef++)_0x56cf95['getToArray'](_0x1d185a,_0x1fa40a,_0xf8b7ef*_0x42534c),_0x1d185a+=_0x56cf95['stride'];}else{if(ArrayBuffer['isView'](_0x1fa40a))_0x1fa40a['set'](_0x56cf95['array']);else{_0x1fa40a['length']=-0x14c8+-0xa*-0x2b9+-0x672;const _0x4d3819=_0xd48b55*_0x42534c;for(_0xf8b7ef=0x1b10+-0x3*0x501+-0xc0d;_0xf8b7ef<_0x4d3819;_0xf8b7ef++)_0x1fa40a[_0xf8b7ef]=_0x56cf95['array'][_0xf8b7ef];}}}return _0xd48b55;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(0x167e+0x19*0x115+-0x318a);class Db{constructor(_0x3cfcbd,_0xe5894e){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0xe5894e&&(this['key']=_0xe5894e['keyCode'],this['element']=_0xe5894e['target'],this['event']=_0xe5894e);}}const Sl=new Db();function fd(_0x104238){return Sl['key']=_0x104238['keyCode'],Sl['element']=_0x104238['target'],Sl['event']=_0x104238,Sl;}function vl(_0x24dcc0){return typeof _0x24dcc0=='string'?_0x24dcc0['toUpperCas'+'e']()['charCodeAt'](0x172b+-0xb*0x1a+-0x160d):_0x24dcc0;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x539b27,_0x32c620={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x539b27&&this['attach'](_0x539b27),this['preventDef'+'ault']=_0x32c620['preventDef'+'ault']||!(-0xb*0x291+-0x1*0x1781+0x33bd),this['stopPropag'+'ation']=_0x32c620['stopPropag'+'ation']||!(0xd2c+-0x19*0x169+0x1616));}['attach'](_0xe66729){this['_element']&&this['detach'](),this['_element']=_0xe66729,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x18ae+-0x13ba+0x7*-0xb5)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x1*-0x67c+0x5bb+-0xc2*-0x1)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x462+0x150+-0x5b1*0x1)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x2102+0x44*0x63+-0x11*0x37d)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x1c1c+-0x1*-0x1f13+0x3b2e*-0x1));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0xf20*-0x2+0x16d5+-0x3514)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x2d7+-0x551*0x3+0xd1d));}['toKeyIdent'+'ifier'](_0x4500d3){_0x4500d3=vl(_0x4500d3);const _0x317376=Lb[_0x4500d3['toString']()];if(_0x317376)return _0x317376;let _0x220c26=_0x4500d3['toString'](-0x220d+-0x11*0xe3+-0x10*-0x313)['toUpperCas'+'e']();const _0x339b7a=_0x220c26['length'];for(let _0x34ae3b=-0x151b*0x1+-0xb*0x1f3+-0x30a*-0xe;_0x34ae3b<-0x4d5*0x1+0x3*-0xc3e+0x2993-_0x339b7a;_0x34ae3b++)_0x220c26='0'+_0x220c26;return'U+'+_0x220c26;}['_handleKey'+'Down'](_0x2069e3){const _0x27988e=_0x2069e3['keyCode']||_0x2069e3['charCode'];if(_0x27988e===void(-0x99a+0x62b+-0x1*-0x36f))return;const _0x2b0815=this['toKeyIdent'+'ifier'](_0x27988e);this['_keymap'][_0x2b0815]=!(0x193c+0x2*-0xc6a+-0x1*0x68),this['fire']('keydown',fd(_0x2069e3)),this['preventDef'+'ault']&&_0x2069e3['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x2069e3['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x5a69e9){const _0x31af9b=_0x5a69e9['keyCode']||_0x5a69e9['charCode'];if(_0x31af9b===void(0x186e+-0x24b9+-0xc4b*-0x1))return;const _0x235d3c=this['toKeyIdent'+'ifier'](_0x31af9b);delete this['_keymap'][_0x235d3c],this['fire']('keyup',fd(_0x5a69e9)),this['preventDef'+'ault']&&_0x5a69e9['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x5a69e9['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x58ae9c){this['fire']('keypress',fd(_0x58ae9c)),this['preventDef'+'ault']&&_0x58ae9c['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x58ae9c['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x42296a in this['_lastmap'])delete this['_lastmap'][_0x42296a];for(const _0x12edb9 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x12edb9)&&(this['_lastmap'][_0x12edb9]=this['_keymap'][_0x12edb9]);}['isPressed'](_0x4670c8){const _0x34af15=vl(_0x4670c8),_0x336bf0=this['toKeyIdent'+'ifier'](_0x34af15);return!!this['_keymap'][_0x336bf0];}['wasPressed'](_0x37d586){const _0x3eeefd=vl(_0x37d586),_0x306e4a=this['toKeyIdent'+'ifier'](_0x3eeefd);return!!this['_keymap'][_0x306e4a]&&!this['_lastmap'][_0x306e4a];}['wasRelease'+'d'](_0x4214b3){const _0x52f01a=vl(_0x4214b3),_0x572a89=this['toKeyIdent'+'ifier'](_0x52f01a);return!this['_keymap'][_0x572a89]&&!!this['_lastmap'][_0x572a89];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x3d2554,_0x1a372c){c(this,'x',-0x1aad+-0x1d82+0x2f5*0x13),c(this,'y',-0x1*0x12cd+-0xa2e+0x1cfb),c(this,'dx',-0xa*-0x5+0x2492+0x931*-0x4),c(this,'dy',0x1b*0x63+-0x66*0x30+-0x13*-0x75),c(this,'button',Ib),c(this,'wheelDelta',-0x1*-0x11a6+-0x11ff+0x59),c(this,'element'),c(this,'ctrlKey',!(0x26f9*-0x1+-0xb08+-0x3202*-0x1)),c(this,'altKey',!(-0x5*-0x116+0x1*0xf39+0x2*-0xa53)),c(this,'shiftKey',!(0x2480+-0x1c93+0x6*-0x152)),c(this,'metaKey',!(0xb3*0x25+0x10e1*-0x1+0xd*-0xb1)),c(this,'event');let _0x589101={'x':0x0,'y':0x0};if(_0x1a372c){if(_0x1a372c instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x589101=_0x3d2554['_getTarget'+'Coords'](_0x1a372c);}else _0x1a372c={};if(_0x589101)this['x']=_0x589101['x'],this['y']=_0x589101['y'];else{if(Pu())this['x']=0x2318+0x240b+-0x4723*0x1,this['y']=-0x1d61+0x43*-0x12+0x2217;else return;}_0x1a372c['type']==='wheel'&&(_0x1a372c['deltaY']>0x8f*-0x17+-0x2*0x5bf+0x1857?this['wheelDelta']=0xb5e*0x3+-0x1*0x1fba+-0x25f:_0x1a372c['deltaY']<0x12ce*-0x1+0x1b72+0x13c*-0x7&&(this['wheelDelta']=-(0x16f*-0x4+-0xdb0+-0x136d*-0x1))),Pu()?(this['dx']=_0x1a372c['movementX']||_0x1a372c['webkitMove'+'mentX']||_0x1a372c['mozMovemen'+'tX']||-0x210e+0x1b75+0x599,this['dy']=_0x1a372c['movementY']||_0x1a372c['webkitMove'+'mentY']||_0x1a372c['mozMovemen'+'tY']||0x13e9+0x1f60+-0x13*0x2b3):(this['dx']=this['x']-_0x3d2554['_lastX'],this['dy']=this['y']-_0x3d2554['_lastY']),(_0x1a372c['type']==='mousedown'||_0x1a372c['type']==='mouseup')&&(this['button']=_0x1a372c['button']),this['buttons']=_0x3d2554['_buttons']['slice'](-0x3*0xb5b+-0xc98+0x2ea9),this['element']=_0x1a372c['target'],this['ctrlKey']=_0x1a372c['ctrlKey']??!(-0x4*-0x43+-0x2ce+0x29*0xb),this['altKey']=_0x1a372c['altKey']??!(0xadf+-0x41*-0x5d+-0x227b),this['shiftKey']=_0x1a372c['shiftKey']??!(0xf17*-0x1+0xae5*0x3+-0x1197*0x1),this['metaKey']=_0x1a372c['metaKey']??!(0x1f76+-0x1*-0x168b+0x480*-0xc),this['event']=_0x1a372c;}}class bl extends ce{constructor(_0x225976){super(),c(this,'_lastX',0x25*-0xfd+0x91b+0x1b76),c(this,'_lastY',-0x6e8+0x95f+-0x277),c(this,'_buttons',[!(0x871+0xaa9+-0x1319),!(-0x21*-0x119+-0x3*-0xbb3+-0x4751),!(0x39e+0x3*-0xc3d+0x211a)]),c(this,'_lastbutto'+'ns',[!(-0x11c4+0xf5f+0x266),!(0x12be+-0x171*0x1b+0x142e),!(0x1f5e+0xcbb+0xa6*-0x44)]),c(this,'_target',null),c(this,'_attached',!(-0x182a+-0x1*-0x25ab+-0x6c0*0x2)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x25c087=>{_0x25c087['preventDef'+'ault']();},this['attach'](_0x225976));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0x26069a){if(this['_target']=_0x26069a,this['_attached'])return;this['_attached']=!(-0x12d1*0x2+0x1*0x31+0x2571);const _0x265dad={'passive':!(-0x6f*-0xe+0x601*-0x1+-0x10)},_0x57ff21=ye['passiveEve'+'nts']?_0x265dad:!(0x1f8c+-0x8c*0x16+-0x1383);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x57ff21),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x57ff21),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x57ff21),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x57ff21);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x1c6+-0x145d*-0x1+0x16e*-0xd),this['_target']=null;const _0x221678={'passive':!(-0xff4*-0x1+-0x121b+-0x5c*-0x6)},_0x2f72e6=ye['passiveEve'+'nts']?_0x221678:!(0x4e1+0xf34+-0x1414);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x2f72e6),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x2f72e6),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x2f72e6),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x2f72e6);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x213667,_0x4daa60){if(!document['body']['requestPoi'+'nterLock']){_0x4daa60&&_0x4daa60();return;}const _0x1c5cf1=()=>{_0x213667(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x1c5cf1);},_0x104d5a=()=>{_0x4daa60(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x104d5a);};_0x213667&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x1c5cf1,!(0xb*-0x86+-0x1*0x16be+0x1c81)),_0x4daa60&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x104d5a,!(0x900*-0x4+-0xf18+0x3319)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x54f369){if(!document['exitPointe'+'rLock'])return;const _0x5aa95a=()=>{_0x54f369(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x5aa95a);};_0x54f369&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x5aa95a,!(0x5*-0x2bd+-0x5*-0x375+-0x397)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0x7e0+-0x1*-0x16c4+-0x772*0x2]=this['_buttons'][-0x82+-0x1938+0x19ba],this['_lastbutto'+'ns'][0x4*-0x7c6+-0x5*0x269+0x2b26]=this['_buttons'][0x2c1*0x5+-0x13*0x1f7+0x1791],this['_lastbutto'+'ns'][0x295*-0xb+0x1783+0x4e6*0x1]=this['_buttons'][-0x25*0x9a+0x1773+-0x12f];}['isPressed'](_0x25c696){return this['_buttons'][_0x25c696];}['wasPressed'](_0x5136ac){return this['_buttons'][_0x5136ac]&&!this['_lastbutto'+'ns'][_0x5136ac];}['wasRelease'+'d'](_0x349dc5){return!this['_buttons'][_0x349dc5]&&this['_lastbutto'+'ns'][_0x349dc5];}['_handleUp'](_0x5eb9c9){this['_buttons'][_0x5eb9c9['button']]=!(-0x1121+-0x1f5*0x4+0x18f6);const _0x2b2a56=new ta(this,_0x5eb9c9);_0x2b2a56['event']&&this['fire'](Lm,_0x2b2a56);}['_handleDow'+'n'](_0x278032){this['_buttons'][_0x278032['button']]=!(-0xd5*0x1d+-0xa5b+-0x2*-0x113e);const _0x1ce76c=new ta(this,_0x278032);_0x1ce76c['event']&&this['fire'](Im,_0x1ce76c);}['_handleMov'+'e'](_0x55d278){const _0x4ae889=new ta(this,_0x55d278);_0x4ae889['event']&&(this['fire'](Dm,_0x4ae889),this['_lastX']=_0x4ae889['x'],this['_lastY']=_0x4ae889['y']);}['_handleWhe'+'el'](_0x417532){const _0x54f559=new ta(this,_0x417532);_0x54f559['event']&&this['fire'](Mu,_0x54f559);}['_getTarget'+'Coords'](_0x2eb102){const _0x41eb53=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x3ab747=Math['floor'](_0x41eb53['left']),_0x3ab1f3=Math['floor'](_0x41eb53['top']);return _0x2eb102['clientX']<_0x3ab747||_0x2eb102['clientX']>=_0x3ab747+this['_target']['clientWidt'+'h']||_0x2eb102['clientY']<_0x3ab1f3||_0x2eb102['clientY']>=_0x3ab1f3+this['_target']['clientHeig'+'ht']?null:{'x':_0x2eb102['clientX']-_0x3ab747,'y':_0x2eb102['clientY']-_0x3ab1f3};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x2fb53b,_0x275d88,_0x462da8){return typeof _0x275d88=='function'&&(_0x462da8=_0x275d88,_0x275d88={}),this['request']('GET',_0x2fb53b,_0x275d88,_0x462da8);}['post'](_0x69cd7e,_0x46403c,_0x545320,_0x1ecfba){return typeof _0x545320=='function'&&(_0x1ecfba=_0x545320,_0x545320={}),_0x545320['postdata']=_0x46403c,this['request']('POST',_0x69cd7e,_0x545320,_0x1ecfba);}['put'](_0x34a3c8,_0x2ea424,_0x543c2a,_0x2ced6a){return typeof _0x543c2a=='function'&&(_0x2ced6a=_0x543c2a,_0x543c2a={}),_0x543c2a['postdata']=_0x2ea424,this['request']('PUT',_0x34a3c8,_0x543c2a,_0x2ced6a);}['del'](_0x2ad693,_0x2e2e1e,_0x579aff){return typeof _0x2e2e1e=='function'&&(_0x579aff=_0x2e2e1e,_0x2e2e1e={}),this['request']('DELETE',_0x2ad693,_0x2e2e1e,_0x579aff);}['request'](_0x5781bf,_0x1384c0,_0x591c4e,_0x31978f){let _0x54a174,_0x1e3301,_0xe45730,_0x14cbc4=!(-0x1af0+-0x8b5+-0x152*-0x1b);if(typeof _0x591c4e=='function'&&(_0x31978f=_0x591c4e,_0x591c4e={}),_0x591c4e['retry']&&(_0x591c4e=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x591c4e)),_0x591c4e['callback']=_0x31978f,_0x591c4e['async']==null&&(_0x591c4e['async']=!(-0x2b9+0x2*0x3c3+-0x4cd)),_0x591c4e['headers']==null&&(_0x591c4e['headers']={}),_0x591c4e['postdata']!=null){if(_0x591c4e['postdata']instanceof Document)_0xe45730=_0x591c4e['postdata'];else{if(_0x591c4e['postdata']instanceof FormData)_0xe45730=_0x591c4e['postdata'];else{if(_0x591c4e['postdata']instanceof Object){let _0x164063=_0x591c4e['headers']['Content-Ty'+'pe'];switch(_0x164063===void(0xb02*0x1+0x2b1+-0xdb3)&&(_0x591c4e['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x164063=_0x591c4e['headers']['Content-Ty'+'pe']),_0x164063){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0xe45730='';let _0x267e33=!(-0x2c2+-0x226c+0x1297*0x2);for(const _0x3e197c in _0x591c4e['postdata'])if(_0x591c4e['postdata']['hasOwnProp'+'erty'](_0x3e197c)){_0x267e33?_0x267e33=!(-0x7*0x40a+-0x125*0x7+0x244a):_0xe45730+='&';const _0x2b36e8=encodeURIComponent(_0x3e197c),_0x298590=encodeURIComponent(_0x591c4e['postdata'][_0x3e197c]);_0xe45730+=_0x2b36e8+'='+_0x298590;}break;}default:case be['ContentTyp'+'e']['JSON']:_0x164063==null&&(_0x591c4e['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0xe45730=JSON['stringify'](_0x591c4e['postdata']);break;}}else _0xe45730=_0x591c4e['postdata'];}}}if(_0x591c4e['cache']===!(-0x248d+-0x2023+0x44b1)){const _0x65f1fe=ne();_0x54a174=new sd(_0x1384c0),_0x54a174['query']?_0x54a174['query']=_0x54a174['query']+'&ts='+_0x65f1fe:_0x54a174['query']='ts='+_0x65f1fe,_0x1384c0=_0x54a174['toString']();}_0x591c4e['query']&&(_0x54a174=new sd(_0x1384c0),_0x1e3301=vh(_0x54a174['getQuery'](),_0x591c4e['query']),_0x54a174['setQuery'](_0x1e3301),_0x1384c0=_0x54a174['toString']());const _0x213a6f=new XMLHttpRequest();_0x213a6f['open'](_0x5781bf,_0x1384c0,_0x591c4e['async']),_0x213a6f['withCreden'+'tials']=_0x591c4e['withCreden'+'tials']!==void(-0x3*-0x7be+0x19+-0x1753)?_0x591c4e['withCreden'+'tials']:!(-0x26df+0xfd*0x20+0x740),_0x213a6f['responseTy'+'pe']=_0x591c4e['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x1384c0);for(const _0x26955c in _0x591c4e['headers'])_0x591c4e['headers']['hasOwnProp'+'erty'](_0x26955c)&&_0x213a6f['setRequest'+'Header'](_0x26955c,_0x591c4e['headers'][_0x26955c]);_0x213a6f['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x5781bf,_0x1384c0,_0x591c4e,_0x213a6f);},_0x213a6f['onerror']=()=>{this['_onError'](_0x5781bf,_0x1384c0,_0x591c4e,_0x213a6f),_0x14cbc4=!(0x26b7+0xb98+-0x35*0xf3);};try{_0x213a6f['send'](_0xe45730);}catch(_0x3ac6f5){_0x14cbc4||_0x591c4e['error'](_0x213a6f['status'],_0x213a6f,_0x3ac6f5);}return _0x213a6f;}['_guessResp'+'onseType'](_0x4e8690){const _0x3d6f0b=new sd(_0x4e8690),_0x4fff0c=fe['getExtensi'+'on'](_0x3d6f0b['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x4fff0c)>=0x7*0x2bf+0x242a*0x1+-0x3763?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x4fff0c==='.json'?be['ResponseTy'+'pe']['JSON']:_0x4fff0c==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x36d9aa){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x36d9aa)>=-0x1bc2+-0xf0a+0x2acc;}['_isBinaryR'+'esponseTyp'+'e'](_0x29e8a5){return _0x29e8a5===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x29e8a5===be['ResponseTy'+'pe']['BLOB']||_0x29e8a5===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x5309c9,_0x428a45,_0x25e36f,_0x139f17){if(_0x139f17['readyState']===0x1e4e+0x1ea3+-0x3ced*0x1)switch(_0x139f17['status']){case 0x1*-0x26c9+0x1f4d*0x1+-0x1df*-0x4:{_0x139f17['responseUR'+'L']&&_0x139f17['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x5309c9,_0x428a45,_0x25e36f,_0x139f17):this['_onError'](_0x5309c9,_0x428a45,_0x25e36f,_0x139f17);break;}case 0x227a+0x49*-0x10+-0x1d22:case 0x1bd5+-0xa31*0x2+0x6aa*-0x1:case 0x59*0x69+-0xd1f+-0x22*0xaa:case 0x200c+-0xb5d*-0x3+-0x40f3:{this['_onSuccess'](_0x5309c9,_0x428a45,_0x25e36f,_0x139f17);break;}default:{this['_onError'](_0x5309c9,_0x428a45,_0x25e36f,_0x139f17);break;}}}['_onSuccess'](_0x57e01b,_0x5dbfc9,_0x2c4a6e,_0xff04a3){let _0x50c65c,_0x7f748d;const _0x5009f6=_0xff04a3['getRespons'+'eHeader']('Content-Ty'+'pe');_0x5009f6&&(_0x7f748d=_0x5009f6['split'](';')[-0x1*0xc6a+0x11af+-0x545]['trim']());try{this['_isBinaryC'+'ontentType'](_0x7f748d)||this['_isBinaryR'+'esponseTyp'+'e'](_0xff04a3['responseTy'+'pe'])?_0x50c65c=_0xff04a3['response']:_0x7f748d===be['ContentTyp'+'e']['JSON']||_0x5dbfc9['split']('?')[-0x188c+-0x296+-0x1b22*-0x1]['endsWith']('.json')?_0x50c65c=JSON['parse'](_0xff04a3['responseTe'+'xt']):_0xff04a3['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x7f748d===be['ContentTyp'+'e']['XML']?_0x50c65c=_0xff04a3['responseXM'+'L']:_0x50c65c=_0xff04a3['responseTe'+'xt'],_0x2c4a6e['callback'](null,_0x50c65c);}catch(_0x483084){_0x2c4a6e['callback'](_0x483084);}}['_onError'](_0x241b47,_0x21a27a,_0xac7a5e,_0x215182){if(!_0xac7a5e['retrying']){if(_0xac7a5e['retry']&&_0xac7a5e['retries']<_0xac7a5e['maxRetries']){_0xac7a5e['retries']++,_0xac7a5e['retrying']=!(0x2b*0x39+-0x21dd*-0x1+0xadc*-0x4);const _0x5a1c1a=N['clamp'](Math['pow'](-0x100d*-0x1+-0x102a+-0x1f*-0x1,_0xac7a5e['retries'])*be['retryDelay'],0x1f7b+-0x5f*0x31+-0x6a6*0x2,_0xac7a5e['maxRetryDe'+'lay']||-0x3*-0x28f+-0x18e0+0x24bb);console['log'](_0x241b47+':\x20'+_0x21a27a+'\x20-\x20Error\x20'+_0x215182['status']+('.\x20Retrying'+'\x20in\x20')+_0x5a1c1a+'\x20ms'),setTimeout(()=>{_0xac7a5e['retrying']=!(0x12ff*-0x2+0x51*0x15+0x1f5a),this['request'](_0x241b47,_0x21a27a,_0xac7a5e,_0xac7a5e['callback']);},_0x5a1c1a);}else _0xac7a5e['callback'](_0x215182['status']===0x1*-0x2531+-0x2667*0x1+0x4b98?'Network\x20er'+'ror':_0x215182['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',-0x3dd*-0x8+0x104f+-0x2ed3);let ls=be;const $e=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x4a7ed6,_0x522c15,_0x508651={}){if(this['volume']=_0x508651['volume']??0xa*-0xa9+0x1*0x1a3+0x4f8,this['loop']=_0x508651['loop']??!(0x3*-0x24f+-0xf*-0x215+-0x184d*0x1),this['pitch']=_0x508651['pitch']??-0x2463+0x96a+0x1afa,this['sound']=_0x522c15,this['paused']=!(-0x1*0x1853+0xc5f+0xbf5),this['suspended']=!(0x1346*0x2+0x1c5+-0x2850),this['manager']=_0x4a7ed6,this['source']=null,Li()){this['startTime']=-0x2659+0x193d+-0xd1c*-0x1,this['startOffse'+'t']=-0x5*0x1a1+0xb*-0x32c+0x2b09;const _0xd367b2=_0x4a7ed6['context'];this['gain']=_0xd367b2['createGain']();}else _0x522c15['audio']&&(this['source']=_0x522c15['audio']['cloneNode'](!(0x1d*0x99+-0x19e0+-0x88c*-0x1)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x107a21){this['loop']=_0x107a21,this['source']&&(this['source']['loop']=_0x107a21);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(-0xfd*-0xa+0x3*-0x1a3+-0x1*0x4f9),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(-0xa12+-0x2369+0x16be*0x2),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x1f1a+0x14a6+0x170*-0x24,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(-0x19b3+-0x113e+0x2af1),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](0x1203+0x38*0xf+0x45*-0x4f),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x24e4+-0x25*0x35+0x7*-0x42d,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(-0xec9*-0x1+-0x77b+-0x74d));}['stop'](){this['source']&&(this['source']['stop'](-0x14a9+-0xefd+-0x3*-0xbe2),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x57109b){_0x57109b=N['clamp'](_0x57109b,-0x238b*-0x1+0x2167+0x32*-0x161,0x35b*0x9+-0x1fe6+0x1b4*0x1),this['volume']=_0x57109b,this['gain']&&(this['gain']['gain']['value']=_0x57109b*this['manager']['volume']);}['setPitch'](_0x306927){this['pitch']=_0x306927,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x306927);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:0x2*-0xa51+0x4*-0x6f+0xb2f*0x2;}['_createSou'+'rce'](){const _0x5ed278=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x5ed278['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x5ed278['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(-0x2672+0x8f*-0x35+-0x1f*-0x232),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(-0x2647*-0x1+0x789*0x1+-0x5ba*0x8),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(0x2138+0xb*-0x31a+0xb*0x15),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x2f142d){_0x2f142d=N['clamp'](_0x2f142d,-0x3*0x587+0x176b+-0x6d6,0x2289+0x1ab4*-0x1+0x3ea*-0x2),this['volume']=_0x2f142d,this['source']&&(this['source']['volume']=_0x2f142d*this['manager']['volume']);},'setPitch':function(_0xe53e7c){this['pitch']=_0xe53e7c,this['source']&&(this['source']['playbackRa'+'te']=_0xe53e7c);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:0x2372+0x109*0x22+0x178c*-0x3;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=0x56a+0x5*0x4e1+0x941;class Ru extends kh{constructor(_0x135273,_0x16677b,_0x5c231f){super(_0x135273,_0x16677b,_0x5c231f),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x135273['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=0x136a+-0x11fc+0x5*-0x49,this['rollOffFac'+'tor']=-0xb16+0x87a+0x29d,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x48fa8e){this['position']['copy'](_0x48fa8e);const _0x11167e=this['panner'];'positionX'in _0x11167e?(_0x11167e['positionX']['value']=_0x48fa8e['x'],_0x11167e['positionY']['value']=_0x48fa8e['y'],_0x11167e['positionZ']['value']=_0x48fa8e['z']):_0x11167e['setPositio'+'n']&&_0x11167e['setPositio'+'n'](_0x48fa8e['x'],_0x48fa8e['y'],_0x48fa8e['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x264c34){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x264c34);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x30aad6){this['panner']['maxDistanc'+'e']=_0x30aad6;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x552680){this['panner']['refDistanc'+'e']=_0x552680;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x361470){this['panner']['rolloffFac'+'tor']=_0x361470;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x5bfb69){this['panner']['distanceMo'+'del']=_0x5bfb69;}['_createSou'+'rce'](){const _0xf34746=this['manager']['context'];this['source']=_0xf34746['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0xf34746['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x422956,_0x5e227d,_0x2a5d61,_0x4c5c8b,_0x5513e3,_0x5ad53a){l=l['sub2'](_0x422956,_0x5e227d);const _0x1634fc=l['length']();if(_0x1634fc<_0x2a5d61)return 0x20f3+0x1fd5+0xa1*-0x67;if(_0x1634fc>_0x4c5c8b)return 0x17a3*0x1+0x1cc8+-0x346b;let _0xf87f0f=-0x2458+-0x303+-0x7df*-0x5;return _0x5ad53a===cc?_0xf87f0f=-0x315+-0x6*-0x355+-0x2*0x874-_0x5513e3*(_0x1634fc-_0x2a5d61)/(_0x4c5c8b-_0x2a5d61):_0x5ad53a===Ff?_0xf87f0f=_0x2a5d61/(_0x2a5d61+_0x5513e3*(_0x1634fc-_0x2a5d61)):_0x5ad53a===cy&&(_0xf87f0f=Math['pow'](_0x1634fc/_0x2a5d61,-_0x5513e3)),N['clamp'](_0xf87f0f,0x718*-0x1+-0xf16*0x1+0x162e,-0x2246+-0xbf7+-0x3*-0xf6a);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x24dc55){if(this['position']['copy'](_0x24dc55),this['source']){const _0x40d1fa=this['manager']['listener']['getPositio'+'n'](),_0x36aac3=t(_0x40d1fa,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x41bc2d=this['getVolume']();this['source']['volume']=_0x41bc2d*_0x36aac3;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x33ae94){this['maxDistanc'+'e']=_0x33ae94;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x4463a6){this['minDistanc'+'e']=_0x4463a6;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x4c64f5){this['rollOffFac'+'tor']=_0x4c64f5;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x5e46e8){this['distanceMo'+'del']=_0x5e46e8;}});}class Ob{constructor(_0x4d4279){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x4d4279;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x34dbb2){this['position']['copy'](_0x34dbb2);const _0x1f0ec0=this['listener'];_0x1f0ec0&&('positionX'in _0x1f0ec0?(_0x1f0ec0['positionX']['value']=_0x34dbb2['x'],_0x1f0ec0['positionY']['value']=_0x34dbb2['y'],_0x1f0ec0['positionZ']['value']=_0x34dbb2['z']):_0x1f0ec0['setPositio'+'n']&&_0x1f0ec0['setPositio'+'n'](_0x34dbb2['x'],_0x34dbb2['y'],_0x34dbb2['z']));}['setOrienta'+'tion'](_0x33c03c){this['orientatio'+'n']['copy'](_0x33c03c);const _0x46bd0f=this['listener'];if(_0x46bd0f){const _0x486813=_0x33c03c['data'];'forwardX'in _0x46bd0f?(_0x46bd0f['forwardX']['value']=-_0x486813[-0x793+-0xad6+0x1271],_0x46bd0f['forwardY']['value']=-_0x486813[0xa6*-0x1+-0x1533+0xaf1*0x2],_0x46bd0f['forwardZ']['value']=-_0x486813[-0x216d+-0x1*0xea0+0x3017],_0x46bd0f['upX']['value']=_0x486813[0x1d3c*0x1+0x1*0x1bbb+-0x1*0x38f3],_0x46bd0f['upY']['value']=_0x486813[-0x1611+0x136d+0x2a9],_0x46bd0f['upZ']['value']=_0x486813[-0x11*-0x191+0x1*-0x31c+-0x4b3*0x5]):_0x46bd0f['setOrienta'+'tion']&&_0x46bd0f['setOrienta'+'tion'](-_0x486813[0x2302+-0x255e*0x1+0x264],-_0x486813[0x239*0x1+-0x35d+0x12d],-_0x486813[-0x1a8c+-0x171e+0x31b4],_0x486813[0x1297*0x1+-0x1dfd+0x5b5*0x2],_0x486813[-0x71f*-0x1+-0x6a2+-0x3c*0x2],_0x486813[0x17*-0xe3+0x25cf+-0x1164]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x1ac80a=this['_manager']['context'];return _0x1ac80a?_0x1ac80a['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0x213c+-0x167*0x8+0x2c75),this['listener']=new Ob(this),this['_volume']=-0x19cc*-0x1+0xa*0xb+0x3bf*-0x7;}set['volume'](_0x1bb367){_0x1bb367=N['clamp'](_0x1bb367,0x1*-0xfb9+0x78d*0x3+-0x6ee,0x315*-0x3+0x259*-0xd+0x27c5),this['_volume']=_0x1bb367,this['fire']('volumechan'+'ge',_0x1bb367);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0x188+0x5*0x48b+0x11*-0x13f),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x25cb+0x1870+-0x3e3a),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x39a46a;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x39a46a=this['_context'])==null||_0x39a46a['close'](),this['_context']=null);}['playSound'](_0xe841ff,_0x1e5e5d={}){let _0x23e59d=null;return kh&&(_0x23e59d=new kh(this,_0xe841ff,_0x1e5e5d),_0x23e59d['play']()),_0x23e59d;}['playSound3'+'d'](_0x116a79,_0x5955fe,_0x3efa91={}){let _0x42aa26=null;return Ru&&(_0x42aa26=new Ru(this,_0x116a79,_0x3efa91),_0x42aa26['setPositio'+'n'](_0x5955fe),_0x3efa91['volume']&&_0x42aa26['setVolume'](_0x3efa91['volume']),_0x3efa91['loop']&&_0x42aa26['setLoop'](_0x3efa91['loop']),_0x3efa91['maxDistanc'+'e']&&_0x42aa26['setMaxDist'+'ance'](_0x3efa91['maxDistanc'+'e']),_0x3efa91['minDistanc'+'e']&&_0x42aa26['setMinDist'+'ance'](_0x3efa91['minDistanc'+'e']),_0x3efa91['rollOffFac'+'tor']&&_0x42aa26['setRollOff'+'Factor'](_0x3efa91['rollOffFac'+'tor']),_0x3efa91['distanceMo'+'del']&&_0x42aa26['setDistanc'+'eModel'](_0x3efa91['distanceMo'+'del']),_0x42aa26['play']()),_0x42aa26;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x5e88a1=this['_context']['createBuff'+'erSource']();_0x5e88a1['buffer']=this['_context']['createBuff'+'er'](-0x13be+0x32*-0x41+0x1*0x2071,0x1*-0x2197+0x529+0x1c6f,this['_context']['sampleRate']),_0x5e88a1['connect'](this['_context']['destinatio'+'n']),_0x5e88a1['start'](-0x6*0x95+0x22c7*-0x1+0x2645),_0x5e88a1['onended']=_0x50e8bd=>{_0x5e88a1['disconnect'](-0x1*-0xe54+0x4*-0x1c6+-0x73c),this['fire']('resume');};},_0x24d971=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x24d971);})['catch'](_0x4bf7e9=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x4bf7e9);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x2e538c=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x2e538c);})['catch'](_0x163f1b=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x163f1b);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x4fcb16=>{window['addEventLi'+'stener'](_0x4fcb16,this['_unlockHan'+'dlerFunc'],!(-0x5d8+0x1787+-0x11ae));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x40a322=>{window['removeEven'+'tListener'](_0x40a322,this['_unlockHan'+'dlerFunc'],!(-0x108f+0x24b7+0xb*-0x1d5));});}}class Bb{constructor(_0x2c6a06){c(this,'audio'),c(this,'buffer'),_0x2c6a06 instanceof Audio?this['audio']=_0x2c6a06:this['buffer']=_0x2c6a06;}get['duration'](){let _0x2140ad=-0x2678+-0x2660+-0x266c*-0x2;return this['buffer']?_0x2140ad=this['buffer']['duration']:this['audio']&&(_0x2140ad=this['audio']['duration']),_0x2140ad||-0x1898+0xa39*0x1+-0x11b*-0xd;}}const Pt=0x13c2+0xba5+-0x1f67,sa=-0x3*0x76+-0x8*-0x436+0x204d*-0x1,ws=0x2*0x257+0xae5+0x31d*-0x5;function Rt(_0x4b9706,_0x431032){return _0x4b9706%_0x431032||0x798+-0x1*-0x4+0x1*-0x79c;}class ss extends ce{constructor(_0x57f475,_0x16c7cd,_0x1045af){super(),c(this,'source',null),(this['_manager']=_0x57f475,this['_volume']=_0x1045af['volume']!==void(-0x1f07+0x8cd+0x163a)?N['clamp'](Number(_0x1045af['volume'])||-0x376*0x3+-0x867+0x12c9,-0x2338+0x2400+-0xc8,-0x2524+-0x2*0x7c3+0x34ab*0x1):-0x3*-0x8d7+-0x3d8+-0x16ac,this['_pitch']=_0x1045af['pitch']!==void(0x2576+-0x6*-0x499+-0x2e*0x16a)?Math['max'](0xad*-0x35+-0x111d+0x34ee+0.01,Number(_0x1045af['pitch'])||-0xd87+0x13c2+0x5*-0x13f):0xc17*0x2+0x2*-0x631+-0xbcb,this['_loop']=!!(_0x1045af['loop']!==void(-0x27f*0xd+-0x238f+0x4402)&&_0x1045af['loop']),this['_sound']=_0x16c7cd,this['_state']=ws,this['_suspended']=!(-0x905+-0x22d2+0x2bd8),this['_suspendEn'+'dEvent']=-0x200+0xd38+-0xb38,this['_suspendIn'+'stanceEven'+'ts']=!(0x18d*-0xb+-0xcdc+0x1dec),this['_playWhenL'+'oaded']=!(0x52*-0x18+-0x8*-0xa1+0xaa*0x4),this['_startTime']=Math['max'](-0xb2*-0x36+-0x3e2*-0x1+-0x296e,Number(_0x1045af['startTime'])||-0x611*0x1+0x8d8+0x4f*-0x9),this['_duration']=Math['max'](-0xdc4+-0xf6c+0x8*0x3a6,Number(_0x1045af['duration'])||-0x4d3+-0xcde+0x11b1*0x1),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x1045af['onPlay'],this['_onPauseCa'+'llback']=_0x1045af['onPause'],this['_onResumeC'+'allback']=_0x1045af['onResume'],this['_onStopCal'+'lback']=_0x1045af['onStop'],this['_onEndCall'+'back']=_0x1045af['onEnd'],Li()?(this['_startedAt']=-0x7*-0x203+0xfee+-0x1e03,this['_currentTi'+'me']=-0x8*0x95+0x22c3+-0x1e1b,this['_currentOf'+'fset']=-0xd95+-0x7a*-0x1f+-0x131,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0xd*0x29e+-0x347*-0xb+-0x206),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x1a83*0x1+0x367*0x1+0x193*-0x13),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0xc2c0da){if(!(_0xc2c0da<-0x2227+0xd04+-0x1*-0x1523)){if(this['_state']===Pt){const _0x498e15=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x2467+-0x32b*0x7+0x3a94),this['stop'](),this['_startOffs'+'et']=_0xc2c0da,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x498e15;}else this['_startOffs'+'et']=_0xc2c0da,this['_currentTi'+'me']=_0xc2c0da;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?0x16*0xfb+-0x21*0xfb+-0xb*-0xfb:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x386986){this['_duration']=Math['max'](0xdd4+0x230e*0x1+-0x30e2*0x1,Number(_0x386986)||0xcf9+-0x13ab+0x6b2);const _0x2430f9=this['_state']===Pt;this['stop'](),_0x2430f9&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0xe67*-0x2+0xf6f+-0x3*-0x475;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x437e28){this['_loop']=!!_0x437e28,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0xa576e0){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0xa576e0)||0xec*-0x1f+0x67*0x1d+0x10e9,-0x1da6+-0xd8b*-0x1+0x1f*0x85+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x5b03e1){this['_sound']=_0x5b03e1,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0xf21289){this['_startTime']=Math['max'](-0xca*0xb+0x26*0xef+-0x1acc,Number(_0xf21289)||0x1a38+-0x1*-0x1d7a+-0x37b2);const _0x3a103f=this['_state']===Pt;this['stop'](),_0x3a103f&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x32f701){_0x32f701=N['clamp'](_0x32f701,-0x1*0xfa1+0x9c5+0x1*0x5dc,0x4b8*0x2+-0x45*-0x19+-0x2e*0x5a),this['_volume']=_0x32f701,this['gain']&&(this['gain']['gain']['value']=_0x32f701*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x2da+0x1*-0x55b+0x1*0x835){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(-0x90e*-0x2+0x686*0x5+-0x32ba*0x1),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x2212+-0x1a47+0x1*-0x7ca),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x20b3+0x1*0x1183+-0x1*-0xf31),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x8a9+-0x1279+0x1b23):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x76*-0x1d+0x1d97+0x1*-0x1039),!(0x9*0x414+0x190b*0x1+0x8d2*-0x7)):(this['_playAudio'+'Immediate'](),!(0x7d*0x46+0x2*0x11c8+-0x1*0x45be));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1d19+-0x98d+0x26a7),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x2c0de5=Rt(this['_startOffs'+'et'],this['duration']);_0x2c0de5=Rt(this['_startTime']+_0x2c0de5,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0x8ae+-0xf*-0x21+-0x6bf*-0x1,_0x2c0de5,this['_duration']):this['source']['start'](-0xa9*0x33+-0x1641+-0x4*-0xdfb,_0x2c0de5),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x119*-0x1c+0xa*-0x1f3+-0x1*-0x323a,this['_currentOf'+'fset']=_0x2c0de5,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0x206b+-0x1*0x1b+0x2087),this['_state']!==Pt?!(-0xd5*-0x13+-0x4b0+-0xb1e):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0x107c+0xb73+0x509*0x1),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x1*0x1c61+0x139*0x8+-0x2629));}['resume'](){if(this['_state']!==sa)return!(-0x1b1*0x4+0x287*-0x1+-0xa*-0xee);let _0x544327=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x544327=Rt(this['_startOffs'+'et'],this['duration']),_0x544327=Rt(this['_startTime']+_0x544327,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x308+-0x19c0+0x16b8,_0x544327,this['_duration']):this['source']['start'](-0xc36+0x22f0+-0x16ba,_0x544327),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x544327,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x1cf0+-0xef*-0x6+0x1757),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0xc7*0xd+-0x172+-0x1*-0xb8d);}['stop'](){if(this['_playWhenL'+'oaded']=!(0xb8+-0x135*0x11+0x13ce),this['_state']===ws)return!(0xf4d+-0x2132+0x11e6);const _0x45de6f=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x5ad+-0x860+0xe0d,this['_currentTi'+'me']=0xed*0x9+0x20*-0x9e+0xb6b,this['_currentOf'+'fset']=0x20aa*0x1+0x249e+-0x1718*0x3,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x45de6f&&this['source']&&this['source']['stop'](-0xbc3+-0x2*-0x1cc+0x82b),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x1314+0x85*-0x2f+0x557);}['setExterna'+'lNodes'](_0x1667e3,_0x2b4a35){if(!_0x1667e3){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x2b4a35||(_0x2b4a35=_0x1667e3);const _0x42d36f=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x1667e3&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x42d36f),this['_firstNode']=_0x1667e3,this['_connector'+'Node']['connect'](_0x1667e3)),this['_lastNode']!==_0x2b4a35&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x42d36f),this['_lastNode']=_0x2b4a35,this['_lastNode']['connect'](_0x42d36f));}['clearExter'+'nalNodes'](){const _0x3fbbdd=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x3fbbdd),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x3fbbdd);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x589f11=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x589f11['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](0x8f9+-0x399*-0x5+0x11*-0x196),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(-0x1*-0x1ea1+0x11bd*0x1+0x3*-0x101f):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x22d*0x10+0xa*-0x2ef+0x4027),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0xf14+-0x1*0x2203+0x105d*0x3));},'pause':function(){return!this['source']||this['_state']!==Pt?!(0x1202+0x1*0x301+0x1*-0x1502):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0xd23+-0x1*-0x57d+-0x129f),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(0x1d12+0x1*0x1d53+-0x3a65));},'resume':function(){return!this['source']||this['_state']!==sa?!(0x1*0x22e5+-0x1854+-0x8*0x152):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x116e+-0xcc5+-0x4a8),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x1dd1+-0x11*0x125+-0xa5c));},'stop':function(){return!this['source']||this['_state']===ws?!(-0x268+0xfb+-0x16e*-0x1):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x5*0x14c+0x1*-0x1ccc+0x1651),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0x28f*-0x1+0x10e+-0xb*-0x23));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0xdaa+-0x1807+0xa5d);let _0x53149c=Rt(this['_startOffs'+'et'],this['duration']);_0x53149c=Rt(this['_startTime']+_0x53149c,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x53149c;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x64c+-0x871*-0x1+-0xebc),this['source']=this['_sound']['audio']['cloneNode'](!(-0x1*0xa67+-0x1234+0x1c9b)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x12728a){_0x12728a=N['clamp'](_0x12728a,0x67*0x2c+0x22f4+-0x34a8,0x709*-0x1+-0x16*-0x1bb+-0x3e1*0x8),this['_volume']=_0x12728a,this['source']&&(this['source']['volume']=_0x12728a*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x4b1234){this['_pitch']=Math['max'](Number(_0x4b1234)||0x418+0x1*-0x1f91+-0xd*-0x21d,0x1946+-0x1770+-0x1d6*0x1+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0xe3bf92){this['stop'](),this['_sound']=_0xe3bf92;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?0x96b*0x3+0x883*-0x1+0x13*-0x10a:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x1301a7){_0x1301a7<0xb1*0x6+-0x1bb7+0x1791||(this['_startOffs'+'et']=_0x1301a7,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0x1301a7,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=-0x4*0x36e+-0x1*0x278e+0x1*0x5c56;class jn extends ss{constructor(_0x1a4cce,_0x536ec9,_0xeae88={}){super(_0x1a4cce,_0x536ec9,_0xeae88),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0xeae88['position']&&(this['position']=_0xeae88['position']),this['maxDistanc'+'e']=_0xeae88['maxDistanc'+'e']!==void(0xd07+-0x56b*0x6+0x137b*0x1)?Number(_0xeae88['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0xeae88['refDistanc'+'e']!==void(-0x2619*-0x1+0x474+-0x2a8d)?Number(_0xeae88['refDistanc'+'e']):0x1*0x1aeb+0x2642+-0x412c,this['rollOffFac'+'tor']=_0xeae88['rollOffFac'+'tor']!==void(0xc49+-0x9d3+-0x276)?Number(_0xeae88['rollOffFac'+'tor']):0x637*0x1+-0x18a9+-0x1*-0x1273,this['distanceMo'+'del']=_0xeae88['distanceMo'+'del']!==void(-0x1b+-0xc4a+0xc65)?_0xeae88['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0xb87722){this['_position']['copy'](_0xb87722);const _0x2fd927=this['panner'];'positionX'in _0x2fd927?(_0x2fd927['positionX']['value']=_0xb87722['x'],_0x2fd927['positionY']['value']=_0xb87722['y'],_0x2fd927['positionZ']['value']=_0xb87722['z']):_0x2fd927['setPositio'+'n']&&_0x2fd927['setPositio'+'n'](_0xb87722['x'],_0xb87722['y'],_0xb87722['z']);}get['position'](){return this['_position'];}set['velocity'](_0x3c58b4){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x3c58b4);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0xf41ccd){this['panner']['maxDistanc'+'e']=_0xf41ccd;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x3878f1){this['panner']['refDistanc'+'e']=_0x3878f1;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x3c5a8b){this['panner']['rolloffFac'+'tor']=_0x3c5a8b;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0xd0b1bd){this['panner']['distanceMo'+'del']=_0xd0b1bd;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x2560ce,_0x35a965,_0x125c34,_0x451aec,_0x5ce9fd,_0x41d0d9){l=l['sub2'](_0x2560ce,_0x35a965);const _0x144553=l['length']();if(_0x144553<_0x125c34)return 0x7*0x4b1+-0x8*-0x4de+0x47c6*-0x1;if(_0x144553>_0x451aec)return 0x3ba*0xa+-0x2*-0xc2e+-0x3da0;let _0x48b4c7=0x628+0x52c*-0x5+0x13b4;return _0x41d0d9===cc?_0x48b4c7=-0xd*0x1+0x4*-0x841+-0xb06*-0x3-_0x5ce9fd*(_0x144553-_0x125c34)/(_0x451aec-_0x125c34):_0x41d0d9===Ff?_0x48b4c7=_0x125c34/(_0x125c34+_0x5ce9fd*(_0x144553-_0x125c34)):_0x41d0d9===cy&&(_0x48b4c7=Math['pow'](_0x144553/_0x125c34,-_0x5ce9fd)),N['clamp'](_0x48b4c7,0xb*-0x212+0x1*-0x25b6+0x3c7c,-0x7aa+-0xa45*-0x1+0x3*-0xde);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x55c26a){if(this['_position']['copy'](_0x55c26a),this['source']){const _0x288938=this['_manager']['listener']['getPositio'+'n'](),_0x53a7c9=t(_0x288938,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x814e50=this['volume'];this['source']['volume']=_0x814e50*_0x53a7c9*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x3c1514){this['_maxDistan'+'ce']=_0x3c1514;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x3801a1){this['_refDistan'+'ce']=_0x3801a1;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x19816f){this['_rollOffFa'+'ctor']=_0x19816f;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x53d7a5){this['_distanceM'+'odel']=_0x53d7a5;}});}const n0=0x1829+-0x1012+-0x817,yp=0x13f*0x13+0x14*0xaa+-0x24f4,Kt=-0x11e6*-0x1+0x13a2*0x1+-0x2586,is=0x1*-0xd85+0xb05+0x283,hr=0x1*0x1259+-0x340*0x2+0xd*-0xe9,xp=-0x916*-0x1+0x85a*0x3+-0x221f,Hc=0x1*-0x1eeb+-0x11*-0x105+0xd9c,a0=-0x7*-0xba+-0x485*0x7+0x12*0x17a,o0=-0x1a8d+-0x19*0x8b+0x2828,l0=0x1*0x1f53+-0x1a26*0x1+-0x524,h0=-0x1f15*0x1+-0x2*0xa75+0x3409,Fa='none',zb='linear',Sp=0x6d*-0x16+0x4a*0x85+-0x1d12,Ub=-0x1cc1+-0x1a25+-0x2*-0x1b73,Vb=0xa66+0x1c08+-0x2*0x1336,c0=0x4b1+-0x596+0xf4,Fi=0x75e*0x1+0x24dc*0x1+-0x25*0x132,Xt=-0x16d0+-0x17fc+-0x1*-0x2ecd,vp=-0x1542+0x16c8+0x184*-0x1,bp=0x1*-0x10e7+0x1f3*0x11+-0x1039,tl=0x199+-0x1d3*-0x7+-0xe5a,oe=-0x4*0x77b+0x2301+-0x1*0x515,Pe=-0x19d5+0x2464+-0xa8e,Re=-0xae*0x24+-0x163b+0x2eb5,yt=0x569+-0x6*-0x471+-0x11b*0x1d,Gb=0x32*0x5+0x1*0x2388+0x1*-0x2481,Hb=-0x19*-0x18b+-0x3c5*0x1+0x22*-0x106,Wb=0x25ca+0xf3+0x1*-0x26ba,wp=0x5*-0x7cf+0x5*0x5e9+0x97e,$b=0x2*0x67+-0x3*0x5cd+0xaa*0x19,Dt=0x784+0x3e9+-0xb6d,Hr=-0x1f6f+-0x386+0x1*0x22f7,Wr=0x133*-0xf+-0x2146*0x1+0x3346,lh=-0x189d*-0x1+0x88c+-0x2125,Bh=-0x3*-0x85a+0x13e+-0x1a47,Ts=0x142+0x25c0+-0x3e6*0xa,Nh=0x1b0d+-0x1*0x7f0+-0x1316,zh=-0x3b0*0x9+0xa6c+0x16cc,Iu=0x26d5+0x60*0x4e+0x4*-0x1103,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(-0x965+-0x2629*0x1+0x1*0x2f8e)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(-0x1*-0x7ef+-0x513*0x5+0x1170)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(-0x197c+-0x1ebd*0x1+-0x3839*-0x1)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(-0x1f90+0x14db+0xab5*0x1)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(0x1df3+-0x486+-0x196d)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(-0xaf9*-0x1+-0x453*0x9+0x1bf2)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(0x5*-0x55e+-0xaa7+0x55b*0x7)}],[Wr,{'name':'VSM_32F','format':Ke,'vsm':!(-0x6e5+0x18ab+-0x11c6)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(0x91f+-0x7dc+-0x143)}]]),Tp=0x12*-0x1af+-0x1dfb+-0x2*-0x1e25,Du=-0x1*0xa96+-0x7*-0x135+0x223,d0=-0x1a23+0x1343*0x1+-0xa*-0xb0,Vs=0xa*-0x19e+0x15b8+-0x58c,qb=-0x1d31+0xbab+0x1187*0x1,Uh=0x1*0x66+0x1ee0+-0x1f46,Xb=-0x498+0x2221*0x1+-0x1d88,Gs=0x2*0xa4c+-0x4a*0x17+-0xdf2,ua=0x1b99+0x3*0xb50+-0x3d88,yo=-0x23df*0x1+0xa9d+0x1942,Dr=-0x359*-0xb+-0x189e+0x4*-0x30d,Tl=0x5e4+-0x1eb8+0x18d6,u0=0x116c+0x1*-0x9a5+-0x7c7,jb=0x1b4f+0x1f04+-0x1*0x3a52,km='mul',sl=-0x1*-0x232c+0x24b*-0x5+0x11*-0x165,hh=-0x73d*-0x1+0x1e75+-0x25b1,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=-0xe95+0x22e+-0x1*-0xc67,aF=0x2133+-0x15d*0x1b+-0xb9*-0x5,oF=0xd16+-0x1107+-0x1*-0x3f3,lF=0x7*-0x3ab+0x8a4*0x3+0x14*-0x3,hF=-0x4*-0x47+-0x226+0x2d*0x6,cF=-0xd2b*0x2+0x23cc+-0x971,f0=-0xf69*-0x2+0x1feb*0x1+-0x3eb7,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=0x1664+-0x7f9+-0xe6b,Bo=0x2cd*0x7+-0x188*0x4+-0xd7a,Lu=0x1768+0x2*-0x31e+-0x112a,Ep=0xbdd+-0x3*-0xb5+0x4a9*-0x3,Wc=0x1cee+-0x1b28+0x71*-0x4,m0=-0x738+-0x1968+0x20a4,_0=0x1add+0x8ed+0x2e*-0xc7,g0=-0x101+0x890*-0x1+0x91*0x11,$c=0x1b54+-0x1ea6+0x372,Fu=0x1d3f+-0x1*0x5c0+-0x173f,y0=-0x7*0x55d+0xaed*-0x1+0x30f8,Cp=-0x1e7d+0x633*0x1+-0x53*-0x4e,Mp=0xce5*0x1+0x12c3+-0x8*0x3b5,qc=-0x1f1b+0x2408+-0xed,Xc=-0x1c73+0x1705+0x9*0x17e,x0=0x3*-0x4ff+0x1fd0*0x1+0x1*-0xd3,jc=-0x3e3a+-0x88*0x5c+-0x2*-0x478d,Ou=-0x6bde+0x1*-0x315d+-0xdd3b*-0x1,Ps=-0x7*0xc9+0x41*0x61+0x3e*-0x4f,cn=0x4*-0xa0+0x53d*-0x7+0x17*0x1b4,Pp=-0xa32+-0x670+-0xf*-0x11c,Ei=0x1a24+-0x1572+-0x4b2,ku=-0x1e8d+-0x1074+-0xb*-0x446,hs=0x135*-0x20+0x22f4*0x1+0x3ad,cr=0xafb*0x1+-0x165f+0xb66,rr=-0x17*-0x25+-0x2280+-0x1*-0x1f31,gn=-0x4b9+-0x2061+-0x1*-0x251a,il=-0x2*-0x11da+-0x1371+-0x1*0x1042,rl=-0x3*0xa4a+0x25ac+-0x6cc,Oa=0x1ad5+-0x35*-0x2+-0x14c*0x15,Rp=0x274+-0x120*0xe+-0x1*-0xd50,Ti=0x1*-0x914+-0x713*-0x3+-0xc25,nt=0xb03+0x6*-0xa6+-0x71e*0x1,Qe=-0x79f*0x1+0x1d80+0x1*-0x15df,ch=-0x129c+0x86*-0x44+0x3635,Al=0x68*0x3b+0x15e+-0x1956,dh=0x17bf+-0x12*0x44+-0x12f7,Zb=-0x474+-0x23d1+0x2846,Qb=0x7*0x23b+-0xd0e+-0x28d,Bm=0x5f4+0x8a*-0x3a+-0x871*-0x3,Jb=0x1*0x46d+-0x1f31+0x1ac8,ew=-0x75+-0x159a+0x2*0xb0a,Ip=0x9fe+0x6cb+0x10c9*-0x1,Bu=0x2*-0x362+-0x21d+-0x8e2*-0x1,pe=0x537*-0x2+-0x56c+0x1*0xfda,ke=0x4dc+0x1*0x1b61+0x1*-0x203c,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0x449c4e,_0x26b704,_0x380705){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0x449c4e,this['bindGroupF'+'ormats'][Dh]=_0x26b704,this['vertexForm'+'at']=_0x380705);}['hasUniform'](_0x1b07c6){for(let _0x1d5ce6=0x1ce0+0x123b+-0x2f1b;_0x1d5ce6<this['uniformFor'+'mats']['length'];_0x1d5ce6++){const _0x2eb50f=this['uniformFor'+'mats'][_0x1d5ce6];if(_0x2eb50f!=null&&_0x2eb50f['get'](_0x1b07c6))return!(-0xf4*0x9+0x1*0xb85+0x2f1*-0x1);}return!(-0xf21+0xabe+0x464);}['hasTexture'](_0x1dc5e4){for(let _0x3b9cb1=0x28c*-0x1+-0xa*-0xb4+-0x47c;_0x3b9cb1<this['bindGroupF'+'ormats']['length'];_0x3b9cb1++){const _0x526ee1=this['bindGroupF'+'ormats'][_0x3b9cb1];if(_0x526ee1!=null&&_0x526ee1['getTexture'](_0x1dc5e4))return!(0x1*-0x20e1+0xd87+0x135a);}return!(-0x949*-0x1+0x5*-0x46+-0x7ea);}['getVertexE'+'lement'](_0x45eb96){var _0x4af1b2;return(_0x4af1b2=this['vertexForm'+'at'])==null?void(0x1f91*0x1+0x23d7+-0x18*0x2cf):_0x4af1b2['elements']['find'](_0x3cddb6=>_0x3cddb6['name']===_0x45eb96);}['generateKe'+'y'](_0x1ba50b){var _0x5d554e;let _0x362b32=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x1ba50b['isWebGPU']&&(_0x362b32+=(_0x5d554e=this['vertexForm'+'at'])==null?void(0x1*0x151+-0x2*-0xc4c+-0x19e9):_0x5d554e['shaderProc'+'essingHash'+'String']),_0x362b32;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',WT='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',$T='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',WA='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',$A='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20Φ\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':Ww,'encodePS':v0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':WT,'opacityDitherPS':$T,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':WA,'reflectionEnvHQPS':$A,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0x541050){const _0x4447cb=b0['get'](_0x541050);return v['assert'](_0x4447cb),_0x4447cb;}function WE(_0x1f3ac8,_0x21036e){v['assert'](_0x21036e),b0['get'](_0x1f3ac8,()=>_0x21036e);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x376a50){const _0x4f2033=Array['from'](_0x376a50)['sort']((_0x3b133e,_0x39b209)=>_0x3b133e[0x7*-0x523+0x13*0xd4+-0x1439*-0x1]>_0x39b209[0x6*-0x151+-0x1*0x472+-0x4*-0x316]?0x22a*0x8+-0x2*0x11c5+0x123b:-(-0xdab+-0x181a+0x25c6));return hn(JSON['stringify'](_0x4f2033));}}const $E=new Ot();class qE{constructor(_0x4378e9,_0xb416e7,_0x2869dd={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0x4378e9),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x4378e9),this['name']=_0x4378e9,this['index']=_0xb416e7,Object['assign'](this,_0x2869dd),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0xa953f0;this['isShadow']?_0xa953f0='SHADOW':this['isForward']?_0xa953f0='FORWARD':this['index']===rl?_0xa953f0='DEPTH':this['index']===Oa&&(_0xa953f0='PICK'),this['defines']['set'](_0xa953f0+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',0x1f08+0x1*0x1733+-0x363b);const _0x2f1815=(_0x552165,_0x3b4898,_0x5d4e58)=>{const _0x366b35=this['allocate'](_0x552165,_0x5d4e58);v['assert'](_0x366b35['index']===_0x3b4898);};_0x2f1815('forward',gn,{'isForward':!(-0xd4f+-0x1aeb+-0x2*-0x141d)}),_0x2f1815('prepass',il),_0x2f1815('depth',rl),_0x2f1815('pick',Oa),_0x2f1815('shadow',Rp);}static['get'](_0x2b57e9){return v['assert'](_0x2b57e9),$E['get'](_0x2b57e9,()=>new Ks());}['allocate'](_0x4d2115,_0x2f1ffa){let _0x24902f=this['passesName'+'d']['get'](_0x4d2115);return _0x24902f===void(0x1bbd*0x1+-0x2*0x2c2+-0x1639)&&(_0x24902f=new qE(_0x4d2115,this['nextIndex'],_0x2f1ffa),this['passesName'+'d']['set'](_0x24902f['name'],_0x24902f),this['passesInde'+'xed'][_0x24902f['index']]=_0x24902f,this['nextIndex']++),_0x24902f;}['getByIndex'](_0x2db2d4){const _0x522ca1=this['passesInde'+'xed'][_0x2db2d4];return v['assert'](_0x522ca1),_0x522ca1;}['getByName'](_0x4ab9c8){return this['passesName'+'d']['get'](_0x4ab9c8);}}function Is(_0x39f9a5,_0x500769,_0x37e90f,_0x355ca5,_0x83ac4b,_0x15bfc4=!(0x12a1+-0x25ca+0xdf*0x16),_0x10e54c={}){v['assert'](!(-0x8ca+-0x2688+0x2f52)),typeof _0x15bfc4=='boolean'?_0x10e54c['useTransfo'+'rmFeedback']=_0x15bfc4:typeof _0x15bfc4=='object'&&(_0x10e54c={..._0x10e54c,..._0x15bfc4});const _0x538cfd=ka(_0x39f9a5);let _0x123823=_0x538cfd['getCachedS'+'hader'](_0x355ca5);return _0x123823||(_0x123823=new i0(_0x39f9a5,Mt['createDefi'+'nition'](_0x39f9a5,{..._0x10e54c,'name':_0x355ca5,'vertexCode':_0x500769,'fragmentCode':_0x37e90f,'attributes':_0x83ac4b})),_0x538cfd['setCachedS'+'hader'](_0x355ca5,_0x123823)),_0x123823;}class XE extends It{constructor(_0x7ddbe9,_0x10f3ec){super(),this['key']=_0x7ddbe9,this['shaderDefi'+'nition']=_0x10f3ec;}['generateKe'+'y'](_0x17643d){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x2cc877,_0x13473d){return this['shaderDefi'+'nition'];}}function jE(_0x2c4cce,_0x55bde3){v['assert'](_0x2c4cce);const _0x4e88b7=_0x2c4cce['definition'],_0x577e59=(_0x4e88b7['name']??'shader')+'-id-'+_0x2c4cce['id'],_0x39f9eb=new XE(_0x577e59,_0x4e88b7),_0x4bd765='shader',_0x52db95=ka(_0x2c4cce['device']);v['assert'](!_0x52db95['isRegister'+'ed'](_0x4bd765)),_0x52db95['register'](_0x4bd765,_0x39f9eb);const _0x1496c5=_0x52db95['getProgram'](_0x4bd765,{},_0x55bde3);return _0x2c4cce['definition']['shaderLang'+'uage']===Ph&&(_0x1496c5['meshUnifor'+'mBufferFor'+'mat']=_0x4e88b7['meshUnifor'+'mBufferFor'+'mat'],_0x1496c5['meshBindGr'+'oupFormat']=_0x4e88b7['meshBindGr'+'oupFormat']),_0x52db95['unregister'](_0x4bd765),_0x1496c5;}const Dp=(_0x429bf8,_0x201e81)=>{const _0x33c64d=new Map(_0x429bf8['defines']);return _0x201e81['cameraShad'+'erParams']['defines']['forEach']((_0x65ad05,_0x28e2e2)=>_0x33c64d['set'](_0x28e2e2,_0x65ad05)),Ks['get'](_0x201e81['device'])['getByIndex'](_0x201e81['pass'])['defines']['forEach']((_0xf5a6f7,_0x28f9e5)=>_0x33c64d['set'](_0x28f9e5,_0xf5a6f7)),_0x33c64d;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(-0x1b7f+0x1097+0x93*0x13)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x56fa08){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x33e50a=_0x56fa08['device'];if(this['shader']=_0x56fa08,v['assert'](_0x56fa08),_0x33e50a['supportsUn'+'iformBuffe'+'rs']){const _0x41575f=new Yc();this['shader']=jE(_0x56fa08,_0x41575f);const _0x3306d6=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x3306d6&&(this['uniformBuf'+'fer']=new gp(_0x33e50a,_0x3306d6,!(-0x1a67*0x1+0x3*-0x112+0x1d9e)));const _0x3b51f4=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x3b51f4),this['bindGroup']=new mp(_0x33e50a,_0x3b51f4),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x4ddb11,_0xac79bd;(_0x4ddb11=this['uniformBuf'+'fer'])==null||_0x4ddb11['destroy'](),this['uniformBuf'+'fer']=null,(_0xac79bd=this['bindGroup'])==null||_0xac79bd['destroy'](),this['bindGroup']=null;}['render'](_0x42ed58,_0x4e1346){const _0x30066d=this['shader']['device'];G['pushGpuMar'+'ker'](_0x30066d,'QuadRender'),_0x42ed58&&(Va['set'](_0x30066d['vx'],_0x30066d['vy'],_0x30066d['vw'],_0x30066d['vh']),Ga['set'](_0x30066d['sx'],_0x30066d['sy'],_0x30066d['sw'],_0x30066d['sh']),_0x4e1346=_0x4e1346??_0x42ed58,_0x30066d['setViewpor'+'t'](_0x42ed58['x'],_0x42ed58['y'],_0x42ed58['z'],_0x42ed58['w']),_0x30066d['setScissor'](_0x4e1346['x'],_0x4e1346['y'],_0x4e1346['z'],_0x4e1346['w'])),_0x30066d['setVertexB'+'uffer'](_0x30066d['quadVertex'+'Buffer'],-0x209*-0x2+-0xb*0x2+-0x44*0xf);const _0x223925=this['shader'];if(_0x30066d['setShader'](_0x223925),_0x30066d['supportsUn'+'iformBuffe'+'rs']){_0x30066d['setBindGro'+'up'](Dh,_0x30066d['emptyBindG'+'roup']);const _0x4c9ea9=this['bindGroup'];_0x4c9ea9['update'](),_0x30066d['setBindGro'+'up'](Xy,_0x4c9ea9);const _0x468359=this['uniformBuf'+'fer'];_0x468359?(_0x468359['update'](pd),_0x30066d['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x30066d['setBindGro'+'up'](Eu,_0x30066d['emptyBindG'+'roup']);}_0x30066d['draw'](YE),_0x42ed58&&(_0x30066d['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x30066d['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x30066d);}}class KE extends ds{constructor(_0xcfba42,_0x29786b,_0x287902,_0x8d108f){super(_0xcfba42),this['quad']=_0x29786b,this['rect']=_0x287902,this['scissorRec'+'t']=_0x8d108f;}['execute'](){const {device:_0x35abda}=this;G['pushGpuMar'+'ker'](_0x35abda,this['name']+':'+this['quad']['shader']['name']),_0x35abda['setCullMod'+'e'](mt),_0x35abda['setDepthSt'+'ate'](as['NODEPTH']),_0x35abda['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x35abda);}}const ZE=new Q();function dn(_0x32c4a6,_0x3b6b4b,_0x30af64,_0x3c5b9d,_0x3f43f8){v['assert'](_0x3b6b4b!==void(-0x1a27+0x17f*0x8+-0xe2f*-0x1));const _0x56f1ac=arguments[-0x1d3f+-0x2*-0x1367+-0x32e*0x3];v['call'](()=>{_0x56f1ac!==void(-0x3e6+0x13c3*-0x1+-0x17a9*-0x1)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x18d613=new Nu(_0x30af64);_0x3c5b9d||(_0x3c5b9d=ZE,_0x3c5b9d['x']=-0x21e8+-0xf02+0x30ea,_0x3c5b9d['y']=-0x4*0x4e1+0x1e*-0x13c+0x388c,_0x3c5b9d['z']=_0x3b6b4b?_0x3b6b4b['width']:_0x32c4a6['width'],_0x3c5b9d['w']=_0x3b6b4b?_0x3b6b4b['height']:_0x32c4a6['height']);const _0x58138f=new KE(_0x32c4a6,_0x18d613,_0x3c5b9d,_0x3f43f8);_0x58138f['init'](_0x3b6b4b),_0x58138f['colorOps']['clear']=!(-0x12b9+0x1*0x184d+-0x1*0x593),_0x58138f['depthStenc'+'ilOps']['clearDepth']=!(-0x1ab1+0x1*0x86f+0x19*0xbb),_0x32c4a6['isWebGPU']&&_0x3b6b4b===null&&_0x32c4a6['samples']>-0x1d8f+0x1eab+0x1*-0x11b&&(_0x58138f['colorOps']['store']=!(-0x12c6+0xcc2+0x604)),_0x58138f['render'](),_0x18d613['destroy']();}class zm{constructor(_0x4e1e55,_0x2de069,_0x46ba69){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x4e1e55,this['dynamic']=_0x2de069,this['batchGroup'+'Id']=_0x46ba69);}['destroy'](_0x48c982,_0x185d2f){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x48c982,_0x185d2f),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x3ebf34,_0x24232a){for(let _0x2c803e=0x2b7*-0xa+0x1*-0x547+0x206d*0x1;_0x2c803e<_0x24232a['length'];_0x2c803e++){const _0x176015=_0x3ebf34['layers']['getLayerBy'+'Id'](_0x24232a[_0x2c803e]);_0x176015&&_0x176015['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x53a0c5,_0x28c2ec){for(let _0x3a1c34=0x2009+-0x2*-0xef8+-0xc65*0x5;_0x3a1c34<_0x28c2ec['length'];_0x3a1c34++){const _0x4295b6=_0x53a0c5['layers']['getLayerBy'+'Id'](_0x28c2ec[_0x3a1c34]);_0x4295b6&&_0x4295b6['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x11a3+0x2*-0x2f5+0x178d*0x1]['aabb']);for(let _0x24958c=0xc*-0x6f+0x391*0x1+0x1a4;_0x24958c<this['origMeshIn'+'stances']['length'];_0x24958c++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x24958c]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x44*-0x8d+-0x145b+0x3*-0x5b3;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x1b30f0,_0x20ea94,_0x6c2f1a,_0x2720e1,_0x18a503=[Fi]){c(this,'_ui',!(0x1a5f*-0x1+0xab*-0x1b+0x2c69*0x1)),c(this,'_sprite',!(0x3b*0x14+-0x2327+-0x11*-0x1cc)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x1b30f0,this['name']=_0x20ea94,this['dynamic']=_0x6c2f1a,this['maxAabbSiz'+'e']=_0x2720e1,this['layers']=_0x18a503);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x2efcf4){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(-0x57c+0x5a7+-0x2b),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0x1a3+-0x1*0x1537+-0x22d*-0x9),this['_updateBef'+'oreCull']=!(-0xa*-0x9b+0x1be5+-0x21f3),_0x2efcf4&&this['initSkin'](_0x2efcf4));}set['rootBone'](_0x3a60f3){this['_rootBone']=_0x3a60f3;}get['rootBone'](){return this['_rootBone'];}['init'](_0x4eee6d,_0x58798e){const _0x1b43c6=_0x58798e*(0x727+0x10*0x63+0x2*-0x6aa);let _0x3b0d00=Math['ceil'](Math['sqrt'](_0x1b43c6));_0x3b0d00=N['roundUp'](_0x3b0d00,-0x1d6e*0x1+0x707+-0x26*-0x97);const _0x76f022=Math['ceil'](_0x1b43c6/_0x3b0d00);this['boneTextur'+'e']=new he(_0x4eee6d,{'width':_0x3b0d00,'height':_0x76f022,'format':Ke,'mipmaps':!(0x5e7+-0x1061+0xa7b),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x3b0d00,_0x76f022,(-0x1*-0x989+-0x1*-0xf91+0x1*-0x1919)/_0x3b0d00,(-0x4*-0x2cc+-0x15e1+0x1*0xab2)/_0x76f022],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0xfe47cb,_0x393269){this['rootBone']=_0xfe47cb;const _0x17b9e3=this['skin'],_0x32f107=[];for(let _0x2083da=0x17*-0x15a+0x7dc+-0x6*-0x3df;_0x2083da<_0x17b9e3['boneNames']['length'];_0x2083da++){const _0x2bc265=_0x17b9e3['boneNames'][_0x2083da];let _0x5c3557=_0xfe47cb['findByName'](_0x2bc265);_0x5c3557||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x2bc265+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x393269['name']+(',\x20rootBone'+':\x20')+_0xfe47cb['name']),_0x5c3557=_0x393269),_0x32f107['push'](_0x5c3557);}this['bones']=_0x32f107;}['initSkin'](_0x437071){this['skin']=_0x437071,this['bones']=[];const _0x3534c4=_0x437071['inverseBin'+'dPose']['length'];this['init'](_0x437071['device'],_0x3534c4),this['matrices']=[];for(let _0x1a520d=0x8ff+-0x873*0x3+0x105a;_0x1a520d<_0x3534c4;_0x1a520d++)this['matrices'][_0x1a520d]=new q();}['uploadBone'+'s'](_0x52b651){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x3b05ab,_0x2759b4){if(this['_skinUpdat'+'eIndex']!==_0x2759b4){this['_skinUpdat'+'eIndex']=_0x2759b4,Um['copy'](_0x3b05ab['getWorldTr'+'ansform']())['invert']();for(let _0xb81831=this['bones']['length']-(-0xd*-0x17e+0x26c6*-0x1+-0x79*-0x29);_0xb81831>=-0x3*0x6e6+0x6e*-0x4e+0x3636;_0xb81831--)this['matrices'][_0xb81831]['mulAffine2'](Um,this['bones'][_0xb81831]['getWorldTr'+'ansform']()),this['matrices'][_0xb81831]['mulAffine2'](this['matrices'][_0xb81831],this['skin']['inverseBin'+'dPose'][_0xb81831]);}}['updateMatr'+'ices'](_0x357686,_0x2ac028){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x357686,_0x2ac028);}['updateMatr'+'ixPalette'](_0xb2c333,_0x5db5a5){this['_updateMat'+'rices'](_0xb2c333,_0x5db5a5);const _0xab47a1=this['matrixPale'+'tte'],_0x577088=this['bones']['length'];for(let _0x2d2f1e=0x586+0x48b*0x6+0x1064*-0x2;_0x2d2f1e<_0x577088;_0x2d2f1e++){const _0x14f097=this['matrices'][_0x2d2f1e]['data'],_0x4f6da2=_0x2d2f1e*(-0xaf*-0xf+-0x5f*-0x1+0x54a*-0x2);_0xab47a1[_0x4f6da2]=_0x14f097[0xcbf*-0x1+0xc38+0x87],_0xab47a1[_0x4f6da2+(-0x1ca5+-0x5*0x691+0x3d7b)]=_0x14f097[0x1*-0x25d5+0x2d0*0x5+0x17c9*0x1],_0xab47a1[_0x4f6da2+(0x12b1+-0xd*0x1df+-0x5a4*-0x1)]=_0x14f097[-0x22f3+0x1026*0x1+0x12d5],_0xab47a1[_0x4f6da2+(-0x11a1+-0x589*-0x7+-0x151b)]=_0x14f097[0x1f9+-0xe*0xef+-0x3*-0x3b7],_0xab47a1[_0x4f6da2+(0x3*-0x607+0xbde+-0xb*-0x91)]=_0x14f097[0x1df*0x1+0x2148+0x2*-0x1193],_0xab47a1[_0x4f6da2+(-0x1*0x86b+-0x6*0x5bb+0x9*0x4c2)]=_0x14f097[0xe78+0x418+-0x65*0x2f],_0xab47a1[_0x4f6da2+(0x1*-0x145+0xac0*-0x1+0xc0b*0x1)]=_0x14f097[-0x12*0x1bd+0x1*0x577+0x19dc],_0xab47a1[_0x4f6da2+(-0x49*-0x61+0x19*-0x43+-0x1*0x1517)]=_0x14f097[-0xae7+-0xdc2+-0xc5b*-0x2],_0xab47a1[_0x4f6da2+(-0x493*0x2+0x1*-0xd53+0x1681)]=_0x14f097[0x21b2+0x6dc+-0x288c],_0xab47a1[_0x4f6da2+(-0x2*-0xa9+-0x1613*0x1+0x14ca)]=_0x14f097[0x3*0x833+-0x3f*0x6a+0x81*0x3],_0xab47a1[_0x4f6da2+(-0x4d*0x53+0xd92+0xb6f)]=_0x14f097[-0x1e48*0x1+-0x1ae4+0x3936],_0xab47a1[_0x4f6da2+(0x3*-0x4e+-0x17*0x4f+0x80e)]=_0x14f097[0x2*0x7af+0x5*0x5e6+-0x1f*0x172];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x311f4a,_0x5a2f3a,_0x55c6a0){super();const _0x2349c7=_0x5a2f3a['length'];this['init'](_0x311f4a,_0x2349c7),this['device']=_0x311f4a,this['rootNode']=_0x55c6a0,this['bones']=_0x5a2f3a;}['updateMatr'+'ices'](_0x56e634,_0xa211e2){}['updateMatr'+'ixPalette'](_0x35fbf1,_0x8d2bcd){const _0x51182e=this['matrixPale'+'tte'],_0x54ecc9=this['bones']['length'];for(let _0x2bb54b=-0x2659+0xf0*-0x7+-0x1*-0x2ce9;_0x2bb54b<_0x54ecc9;_0x2bb54b++){const _0x539120=this['bones'][_0x2bb54b]['getWorldTr'+'ansform']()['data'],_0x3c124f=_0x2bb54b*(0x7ee+-0x991+0x1*0x1af);_0x51182e[_0x3c124f]=_0x539120[-0x2*-0x47e+-0x1*-0xa76+-0x9b9*0x2],_0x51182e[_0x3c124f+(0x113a+0xa6*-0x29+0x95d)]=_0x539120[0x1e5*-0x11+-0x480+0x24b9*0x1],_0x51182e[_0x3c124f+(-0x1*0x1cf4+0x481*0x6+0x1f0)]=_0x539120[-0xfef+-0x191f+0x2916],_0x51182e[_0x3c124f+(-0x11*0x23+-0x3*0xaed+0x59*0x65)]=_0x539120[-0x1a96+-0x14e2+0x4*0xbe1],_0x51182e[_0x3c124f+(-0x7*-0x4a2+0x94*-0x19+-0x1a2*0xb)]=_0x539120[-0x8*0x445+0x1279+-0x3ec*-0x4],_0x51182e[_0x3c124f+(-0x14*0x16a+0x4cb+0x1782)]=_0x539120[0x6a8+-0x52f+-0x5d*0x4],_0x51182e[_0x3c124f+(0x12*0x7f+0x5*0x11f+-0xe83)]=_0x539120[-0x1b00+0xa2f+0x3*0x59e],_0x51182e[_0x3c124f+(0x3*-0x11f+-0x2*-0x43e+-0x28c*0x2)]=_0x539120[-0x2201*0x1+-0x12b0+-0x1a5f*-0x2],_0x51182e[_0x3c124f+(-0x1415+0x2566+-0x1149)]=_0x539120[0x1*-0x44f+0xc9b+-0x84a],_0x51182e[_0x3c124f+(0x1*0xcfb+-0xa7e+-0x274*0x1)]=_0x539120[-0x22fb+0x3*-0x15b+0x2712],_0x51182e[_0x3c124f+(0x1*-0x238f+0x1b*-0x103+0x3eea*0x1)]=_0x539120[0x2*0x827+0x38b+-0x13cf],_0x51182e[_0x3c124f+(0xa79+0x6b7*-0x2+0x300)]=_0x539120[-0x16be+-0x1732+0x2dfe];}this['uploadBone'+'s'](this['device']);}}let QE=0x6*-0x358+-0x2207*0x1+0x3617;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x51*0x41+0xd7*0x1+0x13bb),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=0x129a+0x71*-0x3e+-0x33*-0x2c,this['maxIndices']=0x8d+-0x1ade+-0x1*-0x1a51,this['vertexCoun'+'t']=0xc*-0x202+0x107a+0x79e,this['indexCount']=0x3eb*0x5+-0x52*0x61+0xb7b,this['vertexStre'+'amsUpdated']=!(0x2b*-0x4+-0xfc5+-0x1a5*-0xa),this['indexStrea'+'mUpdated']=!(0xf2e+0xb35*0x2+-0x1*0x2597),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x56a5a0,_0x1e4cdd){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0x56a5a0,'Vertex\x20str'+'eam\x20'+_0x1e4cdd+'\x20has\x20'+_0x56a5a0+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x56a5a0;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x1333+0xd*0x61+-0x4c3*-0x3),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x1dff+0x13c*0x10+0x2*-0x18de),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x7*-0x177+-0x54*-0x14+-0x10cf),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0x18*0x16f+-0x1e4f*0x1+-0xe3*-0x49);class JE{constructor(_0x4d8bba,_0x4480c8,_0x4c22e6,_0x1edbe7,_0x2d3fb3){this['data']=_0x4d8bba,this['componentC'+'ount']=_0x4480c8,this['dataType']=_0x4c22e6,this['dataTypeNo'+'rmalize']=_0x1edbe7,this['asInt']=_0x2d3fb3;}}class Ie extends Gc{constructor(_0x4d7bae,_0x2557ea){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',-0x22f6+-0x1739+0x3a2f),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(-0x1413+0xde*0x1a+0x8*-0x4f)),c(this,'_storageVe'+'rtex',!(0x338*-0x1+0x1*-0x950+-0x1*-0xc89)),(this['id']=QE++,v['assert'](_0x4d7bae,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x4d7bae,this['_storageIn'+'dex']=(_0x2557ea==null?void(0x1d*-0x99+0x19b2+-0x85d):_0x2557ea['storageInd'+'ex'])||!(-0x1*-0x2699+0x3bb+-0x2a53),this['_storageVe'+'rtex']=(_0x2557ea==null?void(0xa7*-0x25+-0x3*0x97+-0x19e8*-0x1):_0x2557ea['storageVer'+'tex'])||!(-0x55*-0x52+-0xf6*0x1b+-0x1*0x147));}static['fromGeomet'+'ry'](_0x14ed4b,_0x265bb8,_0x3dbc39={}){const _0x5f2226=new Ie(_0x14ed4b,_0x3dbc39),{positions:_0x1737e1,normals:_0x37ee15,tangents:_0x1eadd5,colors:_0x52c7f3,uvs:_0x2ab0bf,uvs1:_0x172a21,blendIndices:_0x3fa601,blendWeights:_0x6d5ba2,indices:_0xede57a}=_0x265bb8;return _0x1737e1&&_0x5f2226['setPositio'+'ns'](_0x1737e1),_0x37ee15&&_0x5f2226['setNormals'](_0x37ee15),_0x1eadd5&&_0x5f2226['setVertexS'+'tream'](Zs,_0x1eadd5,-0x6b*0xd+-0x3*0xc1b+0xc*0x37b),_0x52c7f3&&_0x5f2226['setColors3'+'2'](_0x52c7f3),_0x2ab0bf&&_0x5f2226['setUvs'](0x18ab+0x1b44+-0x33ef,_0x2ab0bf),_0x172a21&&_0x5f2226['setUvs'](-0x1*-0x1ace+0x763+-0x2230,_0x172a21),_0x3fa601&&_0x5f2226['setVertexS'+'tream'](qt,_0x3fa601,0xb9*-0x13+0x1b5f+-0x6d0*0x2,_0x3fa601['length']/(-0x2159+0x25ba+-0x45d),Kr),_0x6d5ba2&&_0x5f2226['setVertexS'+'tream'](Ys,_0x6d5ba2,-0x1*-0x151b+-0x16*0x82+-0x1*0x9eb),_0xede57a&&_0x5f2226['setIndices'](_0xede57a),_0x5f2226['update'](),_0x5f2226;}set['morph'](_0x86589f){_0x86589f!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x86589f,_0x86589f&&_0x86589f['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0xcea450){this['_aabb']=_0xcea450,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x19e111=this['morph'];_0x19e111&&(this['morph']=null,_0x19e111['refCount']<0xe17*0x1+-0x11bd+0x3a7&&_0x19e111['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x6d9d4b=-0x11c2+-0xc7*0x14+0x62*0x57;_0x6d9d4b<this['indexBuffe'+'r']['length'];_0x6d9d4b++)this['_destroyIn'+'dexBuffer'](_0x6d9d4b);this['indexBuffe'+'r']['length']=-0x2509+-0x1*-0x5b4+-0xd*-0x269,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x3a9898){this['indexBuffe'+'r'][_0x3a9898]&&(this['indexBuffe'+'r'][_0x3a9898]['destroy'](),this['indexBuffe'+'r'][_0x3a9898]=null);}['_initBoneA'+'abbs'](_0x112e58){this['boneAabb']=[],this['boneUsed']=[];let _0x4ded56,_0x27fe15,_0xe123c8,_0x1120f2,_0x1b368e;const _0x5daefc=[],_0x4c4122=[],_0x3f64dc=this['boneUsed'],_0x197312=this['skin']['boneNames']['length'];let _0x99e475,_0x1380d6,_0x809092;for(let _0x163e3a=0x7*0x54d+0x39e+-0x3*0xd93;_0x163e3a<_0x197312;_0x163e3a++)_0x5daefc[_0x163e3a]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x4c4122[_0x163e3a]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x339809=new go(this['vertexBuff'+'er']),_0x2e1a9c=_0x339809['element'][He],_0x17aa43=_0x339809['element'][Ys],_0x33e3db=_0x339809['element'][qt],_0x119529=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x106f9c=0x1732+0x1858+-0x17c5*0x2;_0x106f9c<_0x119529;_0x106f9c++){for(let _0x4c47c1=-0x2514+-0xebb+-0x3*-0x1145;_0x4c47c1<-0x2193+-0x1cba*-0x1+0x53*0xf;_0x4c47c1++)if(_0x17aa43['array'][_0x17aa43['index']+_0x4c47c1]>-0x84*-0x21+-0x1e5b+-0x1*-0xd57){const _0x5c2277=_0x33e3db['array'][_0x33e3db['index']+_0x4c47c1];if(_0x3f64dc[_0x5c2277]=!(-0x1a6*-0x4+-0x1bcf+0x1537*0x1),_0x4ded56=_0x2e1a9c['array'][_0x2e1a9c['index']],_0x27fe15=_0x2e1a9c['array'][_0x2e1a9c['index']+(0x1b91+0x19f4*0x1+-0x3584)],_0xe123c8=_0x2e1a9c['array'][_0x2e1a9c['index']+(0x1e10+-0x16fd*-0x1+-0x16f*0x25)],_0x1120f2=_0x4c4122[_0x5c2277],_0x1b368e=_0x5daefc[_0x5c2277],_0x1b368e['x']>_0x4ded56&&(_0x1b368e['x']=_0x4ded56),_0x1b368e['y']>_0x27fe15&&(_0x1b368e['y']=_0x27fe15),_0x1b368e['z']>_0xe123c8&&(_0x1b368e['z']=_0xe123c8),_0x1120f2['x']<_0x4ded56&&(_0x1120f2['x']=_0x4ded56),_0x1120f2['y']<_0x27fe15&&(_0x1120f2['y']=_0x27fe15),_0x1120f2['z']<_0xe123c8&&(_0x1120f2['z']=_0xe123c8),_0x112e58){let _0x1682d2=_0x99e475=_0x4ded56,_0x27ba78=_0x1380d6=_0x27fe15,_0x3abcbc=_0x809092=_0xe123c8;for(let _0x5d5485=-0x1*0x521+-0x495+-0x2*-0x4db;_0x5d5485<_0x112e58['length'];_0x5d5485++){const _0x909880=_0x112e58[_0x5d5485],_0xf15001=_0x909880['deltaPosit'+'ions'][_0x106f9c*(0x49f+0xe4c+-0x12e8)],_0x44500c=_0x909880['deltaPosit'+'ions'][_0x106f9c*(-0xe86+0x2*-0xb5d+0x2543)+(0xc*-0x26b+0x21a0+0x49b*-0x1)],_0x42ddcf=_0x909880['deltaPosit'+'ions'][_0x106f9c*(0x14a1+0xbe1*-0x1+-0x8bd)+(0x12f0+0x8*0x1a0+-0x1fee)];_0xf15001<-0x12de+0x6a*-0x1+0x8*0x269?_0x1682d2+=_0xf15001:_0x99e475+=_0xf15001,_0x44500c<0x1734+0x2*0x1123+-0x397a?_0x27ba78+=_0x44500c:_0x1380d6+=_0x44500c,_0x42ddcf<-0x282+0x58*-0x58+0x20c2?_0x3abcbc+=_0x42ddcf:_0x809092+=_0x42ddcf;}_0x1b368e['x']>_0x1682d2&&(_0x1b368e['x']=_0x1682d2),_0x1b368e['y']>_0x27ba78&&(_0x1b368e['y']=_0x27ba78),_0x1b368e['z']>_0x3abcbc&&(_0x1b368e['z']=_0x3abcbc),_0x1120f2['x']<_0x99e475&&(_0x1120f2['x']=_0x99e475),_0x1120f2['y']<_0x1380d6&&(_0x1120f2['y']=_0x1380d6),_0x1120f2['z']<_0x809092&&(_0x1120f2['z']=_0x809092);}}_0x339809['next']();}const _0x4a562f=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x3e8f9c=>_0x3e8f9c['name']===He);if(_0x4a562f&&_0x4a562f['normalize']){const _0x55c180=((()=>{switch(_0x4a562f['dataType']){case Rc:return _0xd48499=>Math['max'](_0xd48499/(0x26d3+-0x241e+-0x2*0x11b),-(0xb*-0x152+-0x46+0xecd));case Kr:return _0x264552=>_0x264552/(-0x4*0xdb+-0x254c+-0xb5*-0x3b);case Ic:return _0x1299ff=>Math['max'](_0x1299ff/(0x43c8+0xb137+-0x7500),-(-0x127d+-0x1e8+0x1466));case el:return _0x59752a=>_0x59752a/(0x16*0x905+0xdfc1*-0x1+0x11952);default:return _0x19578f=>_0x19578f;}})());for(let _0x362bda=-0x1a*-0xd4+0x1a*0x7a+-0x34*0xa7;_0x362bda<_0x197312;_0x362bda++)if(_0x3f64dc[_0x362bda]){const _0x532148=_0x5daefc[_0x362bda],_0x5697dd=_0x4c4122[_0x362bda];_0x532148['set'](_0x55c180(_0x532148['x']),_0x55c180(_0x532148['y']),_0x55c180(_0x532148['z'])),_0x5697dd['set'](_0x55c180(_0x5697dd['x']),_0x55c180(_0x5697dd['y']),_0x55c180(_0x5697dd['z']));}}for(let _0x41a182=-0xbcf+0x13a1+-0x7d2;_0x41a182<_0x197312;_0x41a182++){const _0x4c789b=new _e();_0x4c789b['setMinMax'](_0x5daefc[_0x41a182],_0x4c4122[_0x41a182]),this['boneAabb']['push'](_0x4c789b);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x812*0x1+-0x24db+0x1cc9&&this['indexBuffe'+'r'][-0x29*0x9e+0x4*0x915+-0xb06]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x6cd+0x220f+0x1b42*-0x1]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x463*-0x1+-0x7*0x18d+-0x79f*-0x2]['numIndices']));}['clear'](_0x38f583,_0x598955,_0x13b56c=0x5*0x6f1+-0x1be1+0x4c*-0x17,_0x51b3c0=-0x17+-0x8e5+0x8fc){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x9*0x17+0x1bf*-0x11+0x1e7e),this['_geometryD'+'ata']['maxVertice'+'s']=_0x13b56c,this['_geometryD'+'ata']['maxIndices']=_0x51b3c0,this['_geometryD'+'ata']['verticesUs'+'age']=_0x38f583?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x598955?jt:Th;}['setVertexS'+'tream'](_0x8c79f,_0xb1e155,_0x3e4a13,_0x29460c,_0x1bdd86=Ee,_0x30a7f6=!(0x1d25*0x1+0xb*-0x2ce+-0xdb*-0x2),_0x4e7c91=!(0x1605+0x1*0x1ee9+-0x34ed*0x1)){this['_initGeome'+'tryData']();const _0x2b4cf6=_0x29460c||_0xb1e155['length']/_0x3e4a13;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x2b4cf6,_0x8c79f),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x782+-0x250f+-0x11*-0x1bd),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x8c79f]=new JE(_0xb1e155,_0x3e4a13,_0x1bdd86,_0x30a7f6,_0x4e7c91);}['getVertexS'+'tream'](_0x236b2f,_0x2b2c96){let _0x288dcd=0xba9+0x186f+-0x2418,_0x31f419=!(-0x6b*0xd+-0x1*-0x1513+-0xfa3);if(this['_geometryD'+'ata']){const _0x270b9c=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x236b2f];_0x270b9c&&(_0x31f419=!(0xb6d+0x4*-0x44+-0x17b*0x7),_0x288dcd=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x2b2c96)?_0x2b2c96['set'](_0x270b9c['data']):(_0x2b2c96['length']=0x296+0x17a6+-0x1a3c,_0x2b2c96['push'](_0x270b9c['data'])));}return _0x31f419||this['vertexBuff'+'er']&&(_0x288dcd=new go(this['vertexBuff'+'er'])['readData'](_0x236b2f,_0x2b2c96)),_0x288dcd;}['setPositio'+'ns'](_0x51ad59,_0xf4703a=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x2ada24){this['setVertexS'+'tream'](He,_0x51ad59,_0xf4703a,_0x2ada24,Ee,!(0x53*-0x30+0x259b+-0x160a));}['setNormals'](_0x53998e,_0x58b615=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x5284a0){this['setVertexS'+'tream'](Yt,_0x53998e,_0x58b615,_0x5284a0,Ee,!(-0x1fb6+0x1f35*-0x1+0x3eec));}['setUvs'](_0x15efc4,_0x14aa71,_0x578303=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x497866){this['setVertexS'+'tream'](om+_0x15efc4,_0x14aa71,_0x578303,_0x497866,Ee,!(-0x2393+0x19ac+0x13d*0x8));}['setColors'](_0x3386b7,_0x2e37ce=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x21f9a6){this['setVertexS'+'tream'](At,_0x3386b7,_0x2e37ce,_0x21f9a6,Ee,!(-0x2*-0x461+-0x1f96+0x16d5));}['setColors3'+'2'](_0x24f00a,_0xc3d499){this['setVertexS'+'tream'](At,_0x24f00a,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0xc3d499,Kr,!(-0x1b+0x1f*0xad+-0x14d8));}['setIndices'](_0x35ed39,_0x4f8e5b){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x6*-0xa6+-0x3*-0xaff+-0x1d19),this['_geometryD'+'ata']['indices']=_0x35ed39,this['_geometryD'+'ata']['indexCount']=_0x4f8e5b||_0x35ed39['length'];}['getPositio'+'ns'](_0x75fba){return this['getVertexS'+'tream'](He,_0x75fba);}['getNormals'](_0x998bf9){return this['getVertexS'+'tream'](Yt,_0x998bf9);}['getUvs'](_0xd4f4b6,_0x3b0e85){return this['getVertexS'+'tream'](om+_0xd4f4b6,_0x3b0e85);}['getColors'](_0x198b84){return this['getVertexS'+'tream'](At,_0x198b84);}['getIndices'](_0x4347bc){let _0x2a6027=-0x7*-0x287+0xf22+-0xaf1*0x3;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x3e03a3=this['_geometryD'+'ata']['indices'];if(_0x2a6027=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x4347bc))_0x4347bc['set'](_0x3e03a3);else{_0x4347bc['length']=0x1893+0x7*0x2f9+-0x2*0x16b1;for(let _0x390462=-0xa81+0x1b+0x1*0xa66,_0x20cecc=_0x3e03a3['length'];_0x390462<_0x20cecc;_0x390462++)_0x4347bc['push'](_0x3e03a3[_0x390462]);}}else this['indexBuffe'+'r']['length']>0x693+0x1*-0x250f+0x1e7c&&this['indexBuffe'+'r'][0x106e+0xee7*0x1+-0x1f55]&&(_0x2a6027=this['indexBuffe'+'r'][-0x36*-0x3e+0x2271*0x1+0x2f85*-0x1]['readData'](_0x4347bc));return _0x2a6027;}['update'](_0x43fd6e=Ms,_0x132677=!(-0x1aba+0x1af*0xf+0x179)){if(this['_geometryD'+'ata']){if(_0x132677){const _0x1e6bd5=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x1e6bd5&&_0x1e6bd5['componentC'+'ount']===-0x1b41+-0x20*0x89+0x2c64&&(this['_aabb']['compute'](_0x1e6bd5['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x27f73a=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x27f73a=!(0x2ac+-0x230e+-0x67a*-0x5),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x27f73a&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x2687a4=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x2687a4=!(-0xf5*-0x1e+-0x18a6+-0x8*0x82),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x2687a4&&this['indexBuffe'+'r']['length']>-0xd79*-0x2+0x10af*-0x1+-0xa43&&this['indexBuffe'+'r'][0x97*-0x5+-0xa*0x3a9+0x278d]&&(this['indexBuffe'+'r'][0x1*0x5f3+-0x1550+-0x51f*-0x3]['destroy'](),this['indexBuffe'+'r'][-0x1a73+-0x3ad+0x1e20]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x2*0x5dd+0x249a*0x1+-0x3054]['type']=_0x43fd6e,this['indexBuffe'+'r']['length']>0x9a3*-0x4+-0x18a6+0x3f32&&this['indexBuffe'+'r'][-0x9bb+-0x1*0xdfa+0x77*0x33]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x1a0c+0x23de+-0x13d*0x32]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x1b84+-0x1dde*0x1+0x3962]['indexed']=!(0x1*-0x333+-0x55b+0x88e)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x1*0x157d+-0x3d*0xa0+0x3b9d]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x1b*-0x105+-0x5e8+0x9*0x3b7]['indexed']=!(0x2f*-0x21+-0x1f73*-0x1+-0x61*0x43)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x1*0x1e95+0xbce*0x3+0x5*-0xd33,this['_geometryD'+'ata']['indexCount']=0x2544+-0x22fe+-0x246,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1*-0x1bb3+0xbec+0x16*-0x1cd),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0xa*-0x26+0x1a1a+-0x1*0x189d),this['_geometryD'+'ata']['recreate']=!(-0x1003*-0x1+0x270e*0x1+-0x1*0x3710),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x33a1b4){const _0x21bf1a=[];for(const _0x5972ec in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x4d997c=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5972ec];_0x21bf1a['push']({'semantic':_0x5972ec,'components':_0x4d997c['componentC'+'ount'],'type':_0x4d997c['dataType'],'normalize':_0x4d997c['dataTypeNo'+'rmalize'],'asInt':_0x4d997c['asInt']});}return new Et(this['device'],_0x21bf1a,_0x33a1b4);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x118170=this['_geometryD'+'ata']['maxVertice'+'s'],_0x5661d7=this['_buildVert'+'exFormat'](_0x118170);this['vertexBuff'+'er']=new os(this['device'],_0x5661d7,_0x118170,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x453c65=new go(this['vertexBuff'+'er']),_0x282c47=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x56ea13 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x48f618=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x56ea13];_0x453c65['writeData'](_0x56ea13,_0x48f618['data'],_0x282c47),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x56ea13];}_0x453c65['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x2501*-0x1+0xe*0x2bb+-0x1*0x139||!this['indexBuffe'+'r'][-0x4bf+0x4e7*-0x7+-0x7d0*-0x5]){const _0x2b5f52=this['_geometryD'+'ata']['maxVertice'+'s'],_0x38ead6=_0x2b5f52>0x139f3+0x5*0x6037+0x4d01*-0x7||_0x2b5f52===-0x2f3*0x3+0x219*0xf+-0x169e?nr:Pi,_0x5b562b=this['_storageIn'+'dex']?{'storage':!(0xf93+0x88f+-0x1822)}:void(-0xdcb+-0x2058+-0xf61*-0x3);this['indexBuffe'+'r'][0x1c*0xf2+-0x10*-0x1b1+-0x3588]=new lr(this['device'],_0x38ead6,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x26f3+0x125+0x25ce),_0x5b562b);}const _0x1ea84e=this['_geometryD'+'ata']['indices'];_0x1ea84e&&(this['indexBuffe'+'r'][0x1*-0x5a6+0x381+0x225]['writeData'](_0x1ea84e,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x3eb63f){_0x3eb63f===Dr?this['generateWi'+'reframe']():_0x3eb63f===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x9b3*-0x2+0x1372+-0x2c*0xe2,'indexed':!(-0x1caa+0x1d9d+0xf2*-0x1)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x5bb232=this['vertexBuff'+'er']['numVertice'+'s'],_0x723d=[];let _0x445841;if(this['indexBuffe'+'r']['length']>-0xed6+-0x5f5+0x14cb&&this['indexBuffe'+'r'][-0x1e9+-0x2448+0x2631]){const _0x53d19c=[[0xdf*0x6+0x208+-0x1*0x742,-0x1*-0x1d41+0xbc*-0x26+-0x158],[0x3*-0x1a7+0x1*-0x1385+-0x3*-0x829,0xcf+0xa*-0x1cf+0x3*0x5c3],[-0x9eb*-0x1+-0x412+-0x5d7,0x2695+0x8f9*0x2+-0x1*0x3887]],_0x52618e=this['primitive'][yo]['base'],_0x2023bb=this['primitive'][yo]['count'],_0x26fe35=this['indexBuffe'+'r'][yo],_0x580e7a=new Lh[_0x26fe35['format']](_0x26fe35['storage']),_0x153fa7=new Set();for(let _0xf61e0=_0x52618e;_0xf61e0<_0x52618e+_0x2023bb;_0xf61e0+=0xfee+0x2*-0x146+-0xd5f)for(let _0x2c4322=-0x13fb+0x85d*-0x4+-0x1*-0x356f;_0x2c4322<-0x13*-0x15d+-0x3*0xa19+0x467;_0x2c4322++){const _0x4bdc7e=_0x580e7a[_0xf61e0+_0x53d19c[_0x2c4322][-0x1e38+-0xab1+0x28e9]],_0x1781c4=_0x580e7a[_0xf61e0+_0x53d19c[_0x2c4322][-0x2a5+-0x1*0x2421+0x26c7]],_0x5d074a=_0x4bdc7e>_0x1781c4?_0x1781c4*_0x5bb232+_0x4bdc7e:_0x4bdc7e*_0x5bb232+_0x1781c4;_0x153fa7['has'](_0x5d074a)||(_0x153fa7['add'](_0x5d074a),_0x723d['push'](_0x4bdc7e,_0x1781c4));}_0x445841=_0x26fe35['format'];}else{for(let _0xd0f940=-0x1d0*0x7+0x1*-0x20a5+0x2d55;_0xd0f940<_0x5bb232;_0xd0f940+=0x799+0x1c*0xa4+-0x12*0x16b)_0x723d['push'](_0xd0f940,_0xd0f940+(-0x1cf7+-0x15c8+-0x658*-0x8),_0xd0f940+(0x5ce*-0x3+0x4a*0x4a+0x1*-0x3f9),_0xd0f940+(-0xf1*0x15+0x7*0x4ca+-0xdbf),_0xd0f940+(-0x21ef+-0x228+0x2419),_0xd0f940);_0x445841=_0x723d['length']>-0x2*-0xdd95+0x7668+0x13193*-0x1?nr:Pi;}const _0x1de8cb=new lr(this['vertexBuff'+'er']['device'],_0x445841,_0x723d['length']);new Lh[_0x1de8cb['format']](_0x1de8cb['storage'])['set'](_0x723d),_0x1de8cb['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0x723d['length'],'indexed':!(-0x1*0x21fa+-0x7b*-0x3b+-0x1*-0x5a1)},this['indexBuffe'+'r'][Dr]=_0x1de8cb;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),Wm=new T(),$m=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0x7080b7,_0x2dcd13){return _0x7080b7 instanceof Function?_0x7080b7:_0x1f710e=>{let _0x2503b4=_0x1f710e[_0x7080b7];return _0x2503b4 instanceof Function&&(_0x2503b4=_0x2503b4()),_0x2503b4===_0x2dcd13;};}function w0(_0x2d22d2,_0x3bb6d3){if(_0x3bb6d3(_0x2d22d2))return _0x2d22d2;const _0x2fe5ef=_0x2d22d2['_children'],_0x351c9f=_0x2fe5ef['length'];for(let _0xe4225c=0x342+0x1c5d*0x1+0x1*-0x1f9f;_0xe4225c<_0x351c9f;++_0xe4225c){const _0x20b713=w0(_0x2fe5ef[_0xe4225c],_0x3bb6d3);if(_0x20b713)return _0x20b713;}return null;}class De extends ce{constructor(_0xb7f271='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(-0x1333+-0x17e4+-0x18a*-0x1c,0x1bfc+-0x1259+-0x9a2,-0x83c*0x1+-0x47*0x51+0x1eb4)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(0x13a5+0x6d7*0x2+-0x2152)),c(this,'_aabbVer',0xa82+0x1203+-0x95*0x31),c(this,'_frozen',!(-0x6a9+0x11e9+-0xb3f)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(0xddf+-0x10b*0x9+-0x47b)),c(this,'_worldScal'+'eSign',0x427*0x2+-0x11e2+0x994*0x1),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(0x22e2+0x3*0x977+-0x3f47)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',-0x213c+0x94a+-0xbf9*-0x2),c(this,'_enabled',!(0x638*0x3+0x47*0x1b+-0x1a25)),c(this,'_enabledIn'+'Hierarchy',!(-0x88b+-0x12a8+-0x2*-0xd9a)),c(this,'scaleCompe'+'nsation',!(0xfbe+-0x25d4+0x1617)),this['name']=_0xb7f271;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x1caf+0x2*0x1b1+0x194e));}get['normalMatr'+'ix'](){const _0x53023f=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x53023f['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x1969*0x1+0x719+-0x2081)),_0x53023f;}set['enabled'](_0x286557){var _0x2c9efd;this['_enabled']!==_0x286557&&(this['_enabled']=_0x286557,(_0x286557&&((_0x2c9efd=this['_parent'])!=null&&_0x2c9efd['enabled'])||!_0x286557)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x286557));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x12204f=this['_parent'];if(!_0x12204f)return'';let _0x22f713=this['name'];for(;_0x12204f&&_0x12204f['_parent'];)_0x22f713=_0x12204f['name']+'/'+_0x22f713,_0x12204f=_0x12204f['_parent'];return _0x22f713;}get['root'](){let _0x5a08bd=this;for(;_0x5a08bd['_parent'];)_0x5a08bd=_0x5a08bd['_parent'];return _0x5a08bd;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x7d5e64,_0x47c35f){_0x7d5e64['_onHierarc'+'hyStateCha'+'nged'](_0x47c35f);const _0x4b04fa=_0x7d5e64['_children'];for(let _0x4a1e67=-0xf47+0xd4*0x7+-0x97b*-0x1,_0x5c0f37=_0x4b04fa['length'];_0x4a1e67<_0x5c0f37;_0x4a1e67++)_0x4b04fa[_0x4a1e67]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x4b04fa[_0x4a1e67],_0x47c35f);}['_onHierarc'+'hyStateCha'+'nged'](_0x37836d){this['_enabledIn'+'Hierarchy']=_0x37836d,_0x37836d&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x11f758){_0x11f758['name']=this['name'];const _0x5e1235=this['tags']['_list'];_0x11f758['tags']['clear']();for(let _0x28cff6=0x1*-0xc95+-0x1*0x626+0x7*0x2ad;_0x28cff6<_0x5e1235['length'];_0x28cff6++)_0x11f758['tags']['add'](_0x5e1235[_0x28cff6]);_0x11f758['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x11f758['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x11f758['localScale']['copy'](this['localScale']),_0x11f758['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x11f758['position']['copy'](this['position']),_0x11f758['rotation']['copy'](this['rotation']),_0x11f758['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x11f758['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x11f758['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x11f758['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x11f758['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x11f758['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x11f758['_aabbVer']=this['_aabbVer']+(-0xa1b+0x2*0xd21+-0x27*0x6a),_0x11f758['_enabled']=this['_enabled'],_0x11f758['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x11f758['_enabledIn'+'Hierarchy']=!(-0x2*0x353+0x1305+0xc5e*-0x1);}['clone'](){const _0x4066e7=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x4066e7),_0x4066e7;}['copy'](_0x45a1d9){return _0x45a1d9['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x3b6158=this['_children'];for(;_0x3b6158['length'];){const _0xb4853=_0x3b6158['pop']();_0xb4853['_parent']=null,_0xb4853['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0xf95013,_0x28697a){const _0x4d3995=[],_0x7a254f=Xm(_0xf95013,_0x28697a);return this['forEach'](_0x48e9d9=>{_0x7a254f(_0x48e9d9)&&_0x4d3995['push'](_0x48e9d9);}),_0x4d3995;}['findOne'](_0xd0d565,_0x237d37){const _0x31e02a=Xm(_0xd0d565,_0x237d37);return w0(this,_0x31e02a);}['findByTag'](){const _0x191f75=arguments,_0x172667=[],_0x33d259=(_0x2ab981,_0x5f05b2)=>{_0x5f05b2&&_0x2ab981['tags']['has'](..._0x191f75)&&_0x172667['push'](_0x2ab981);for(let _0x4079e4=-0x189b*-0x1+0x1806+0xd3*-0x3b;_0x4079e4<_0x2ab981['_children']['length'];_0x4079e4++)_0x33d259(_0x2ab981['_children'][_0x4079e4],!(0x1*0x2663+-0x16*-0x5c+-0x1*0x2e4b));};return _0x33d259(this,!(-0x17*-0x43+-0xf89+-0x985*-0x1)),_0x172667;}['findByName'](_0x4cbc43){return this['findOne']('name',_0x4cbc43);}['findByPath'](_0x51e39d){const _0x273f9a=Array['isArray'](_0x51e39d)?_0x51e39d:_0x51e39d['split']('/');let _0x54f2b0=this;for(let _0x30f0bb=-0x1396+0x5a8+0x2*0x6f7,_0xfb4f06=_0x273f9a['length'];_0x30f0bb<_0xfb4f06;++_0x30f0bb)if(_0x54f2b0=_0x54f2b0['children']['find'](_0x1c8ea5=>_0x1c8ea5['name']===_0x273f9a[_0x30f0bb]),!_0x54f2b0)return null;return _0x54f2b0;}['forEach'](_0x1d8d3d,_0x441076){_0x1d8d3d['call'](_0x441076,this);const _0x805782=this['_children'],_0xeb5e14=_0x805782['length'];for(let _0x24d5ac=0x1a48+-0x17c*0x1a+0xc50;_0x24d5ac<_0xeb5e14;++_0x24d5ac)_0x805782[_0x24d5ac]['forEach'](_0x1d8d3d,_0x441076);}['isDescenda'+'ntOf'](_0x5b4255){let _0x59f080=this['_parent'];for(;_0x59f080;){if(_0x59f080===_0x5b4255)return!(-0x16f6*0x1+-0x2586+0x31*0x13c);_0x59f080=_0x59f080['_parent'];}return!(-0x13*0x1d+-0x275*-0x5+-0xa21);}['isAncestor'+'Of'](_0x503e36){return _0x503e36['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x725+0x22b8+-0x8d*0x4c)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x130e+0x50+0x135e*-0x1&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x4f01a2;(_0x4f01a2=this['_parent'])==null||_0x4f01a2['removeChil'+'d'](this);}['reparent'](_0x3e9619,_0x63789c){this['remove'](),_0x3e9619&&(_0x63789c>=-0x45c+0x1040+0x4*-0x2f9?_0x3e9619['insertChil'+'d'](this,_0x63789c):_0x3e9619['addChild'](this));}['setLocalEu'+'lerAngles'](_0x5e72ec,_0x2daad9,_0xca09b7){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x5e72ec,_0x2daad9,_0xca09b7),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x4a3d6d,_0x2beab9,_0x2c8751){_0x4a3d6d instanceof T?this['localPosit'+'ion']['copy'](_0x4a3d6d):this['localPosit'+'ion']['set'](_0x4a3d6d,_0x2beab9,_0x2c8751),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0xea2b7c,_0x221b31,_0x7a9525,_0x34c5c3){_0xea2b7c instanceof se?this['localRotat'+'ion']['copy'](_0xea2b7c):this['localRotat'+'ion']['set'](_0xea2b7c,_0x221b31,_0x7a9525,_0x34c5c3),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x4d64b4,_0x56c6d6,_0x111330){_0x4d64b4 instanceof T?this['localScale']['copy'](_0x4d64b4):this['localScale']['set'](_0x4d64b4,_0x56c6d6,_0x111330),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x9*0x3c8+-0x3*0x5ea+0x33c6),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x53c2f6=this['_parent'];for(;_0x53c2f6;)_0x53c2f6['_frozen']=!(-0x7ac+0x68c*-0x3+0x14d*0x15),_0x53c2f6=_0x53c2f6['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x2113+0x416+0x1cfe),this['_dirtyWorl'+'d']=!(-0x16b9+-0x19ad+0x3066);for(let _0x3eea4e=0x11*0x39+-0x165*-0x1+-0xd*0x66;_0x3eea4e<this['_children']['length'];_0x3eea4e++)this['_children'][_0x3eea4e]['_dirtyWorl'+'d']||this['_children'][_0x3eea4e]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x582+-0x47*0x86+0x1fa8),this['_worldScal'+'eSign']=-0x2205+0x1*0x4f+0x21b6,this['_aabbVer']++;}['setPositio'+'n'](_0x52f532,_0x17596c,_0x864910){_0x52f532 instanceof T?kt['copy'](_0x52f532):kt['set'](_0x52f532,_0x17596c,_0x864910),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x2371e7,_0x3184fd,_0x2c0ba5,_0x615377){if(_0x2371e7 instanceof se?Bt['copy'](_0x2371e7):Bt['set'](_0x2371e7,_0x3184fd,_0x2c0ba5,_0x615377),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0x2bf67b=this['_parent']['getRotatio'+'n']();An['copy'](_0x2bf67b)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x154a1f,_0x229dbd){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x154a1f),this['localRotat'+'ion']['copy'](_0x229dbd);else{const _0x580952=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x580952)['invert'](),Ha['transformP'+'oint'](_0x154a1f,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x229dbd);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x3cea8d,_0x5319d6,_0xca9bf3){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x3cea8d,_0x5319d6,_0xca9bf3),this['_parent']!==null){const _0x20f79a=this['_parent']['getRotatio'+'n']();An['copy'](_0x20f79a)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x10dc7c){this['_prepareIn'+'sertChild'](_0x10dc7c),this['_children']['push'](_0x10dc7c),this['_onInsertC'+'hild'](_0x10dc7c);}['addChildAn'+'dSaveTrans'+'form'](_0x41cdb7){const _0x2452b7=_0x41cdb7['getPositio'+'n'](),_0x53f928=_0x41cdb7['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x41cdb7),_0x41cdb7['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x2452b7)),_0x41cdb7['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x53f928)),this['_children']['push'](_0x41cdb7),this['_onInsertC'+'hild'](_0x41cdb7);}['insertChil'+'d'](_0x474320,_0x172dbc){this['_prepareIn'+'sertChild'](_0x474320),this['_children']['splice'](_0x172dbc,-0x1601+0x2*-0x1312+0x3c25,_0x474320),this['_onInsertC'+'hild'](_0x474320);}['_prepareIn'+'sertChild'](_0x9f5c0b){_0x9f5c0b['remove'](),v['assert'](_0x9f5c0b!==this,'GraphNode\x20'+(_0x9f5c0b==null?void(-0xb35*-0x2+-0x1390+0x5*-0x92):_0x9f5c0b['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x9f5c0b),'GraphNode\x20'+(_0x9f5c0b==null?void(0x10de+-0x21d1+0x10f3):_0x9f5c0b['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x2c7fc2,_0x41f445,_0x1b36c5){this['fire'](_0x2c7fc2,_0x1b36c5);for(let _0x563d14=0x24f1+-0x124d+-0x12a4;_0x563d14<this['_children']['length'];_0x563d14++)this['_children'][_0x563d14]['_fireOnHie'+'rarchy'](_0x41f445,_0x41f445,_0x1b36c5);}['_onInsertC'+'hild'](_0x5c01cd){_0x5c01cd['_parent']=this;const _0x1f9535=_0x5c01cd['_enabled']&&this['enabled'];_0x5c01cd['_enabledIn'+'Hierarchy']!==_0x1f9535&&(_0x5c01cd['_enabledIn'+'Hierarchy']=_0x1f9535,_0x5c01cd['_notifyHie'+'rarchyStat'+'eChanged'](_0x5c01cd,_0x1f9535)),_0x5c01cd['_updateGra'+'phDepth'](),_0x5c01cd['_dirtifyWo'+'rld'](),this['_frozen']&&_0x5c01cd['_unfreezeP'+'arentToRoo'+'t'](),_0x5c01cd['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x5c01cd);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x2*0xbf+-0x19e+0x3*0xb):-0x728+0x1c15+-0x14ed;for(let _0x1ee8a7=-0x1ad2+-0x1*0x1159+0x2c2b,_0xf777fb=this['_children']['length'];_0x1ee8a7<_0xf777fb;_0x1ee8a7++)this['_children'][_0x1ee8a7]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x766807){const _0x36af0d=this['_children']['indexOf'](_0x766807);_0x36af0d!==-(-0x7*-0xa0+0x1*0x25fd+-0x1*0x2a5c)&&(this['_children']['splice'](_0x36af0d,0x13*-0x13a+-0x1*0x2707+0x3e56),_0x766807['_parent']=null,_0x766807['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x766807));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x10e7+-0x1a*0x76+-0x4ea*0x1)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x112d85;const _0x437680=this['_parent'];let _0x580187=this['localScale'],_0x495564=_0x437680;if(_0x495564){for(;_0x495564&&_0x495564['scaleCompe'+'nsation'];)_0x495564=_0x495564['_parent'];_0x495564&&(_0x495564=_0x495564['_parent'],_0x495564&&(_0x112d85=_0x495564['worldTrans'+'form']['getScale'](),Wm['mul2'](_0x112d85,this['localScale']),_0x580187=Wm));}_d['setFromMat'+'4'](_0x437680['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x1db62e=_0x437680['worldTrans'+'form'];_0x437680['scaleCompe'+'nsation']&&($m['mul2'](_0x112d85,_0x437680['getLocalSc'+'ale']()),Gm['setTRS'](_0x437680['worldTrans'+'form']['getTransla'+'tion'](md),_d,$m),_0x1db62e=Gm),_0x1db62e['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x580187);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0x1a9b+0x1e78+-0x3912);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x5*0x587+0x1b67+0xa*0x6),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x472c52=this['_children'];for(let _0x1d75eb=-0x1fa0+0xbc5*-0x1+0x2b65,_0x148a1c=_0x472c52['length'];_0x1d75eb<_0x148a1c;_0x1d75eb++)_0x472c52[_0x1d75eb]['syncHierar'+'chy']();}['lookAt'](_0x4283a1,_0x2c4fd4,_0x157ec7,_0x5d4b5b=-0x20aa+0x5*-0xb5+-0x3*-0xc11,_0x443dda=-0x1c79*0x1+0xd87*-0x1+-0x1*-0x2a01,_0x3fe5c0=0x1*-0xd7e+0x377*0x3+-0x1*-0x319){if(_0x4283a1 instanceof T)gd['copy'](_0x4283a1),_0x2c4fd4 instanceof T?El['copy'](_0x2c4fd4):El['copy'](T['UP']);else{if(_0x157ec7===void(0x2b*-0x26+0x1ab5+-0x1453))return;gd['set'](_0x4283a1,_0x2c4fd4,_0x157ec7),El['set'](_0x5d4b5b,_0x443dda,_0x3fe5c0);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0x53648c,_0x1c7cf3,_0x40b920){_0x53648c instanceof T?kt['copy'](_0x53648c):kt['set'](_0x53648c,_0x1c7cf3,_0x40b920),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0x2ef551,_0x4b7727,_0x2544fc){_0x2ef551 instanceof T?kt['copy'](_0x2ef551):kt['set'](_0x2ef551,_0x4b7727,_0x2544fc),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x43dcbd,_0x25499a,_0x1b99d4){if(Bt['setFromEul'+'erAngles'](_0x43dcbd,_0x25499a,_0x1b99d4),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x4cb711=this['getRotatio'+'n'](),_0x5a0191=this['_parent']['getRotatio'+'n']();An['copy'](_0x5a0191)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x4cb711);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x7085e6,_0x31f67a,_0x2bdc23){Bt['setFromEul'+'erAngles'](_0x7085e6,_0x31f67a,_0x2bdc23),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0x42024d){const _0x5a24ed=T0['get'](_0x42024d);return v['assert'](_0x5a24ed),_0x5a24ed;}function sC(_0x5cd0ab,_0xd93cb2){v['assert'](_0xd93cb2),T0['get'](_0x5cd0ab,()=>_0xd93cb2);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0xe5316a,_0xbb3175)=>{_0xbb3175['destroy']();}),this['cache']['clear']();}['incRef'](_0x14d661){const _0x2fb92d=(this['cache']['get'](_0x14d661)||-0x1*-0xe17+-0x1*-0x1433+0x5b7*-0x6)+(0xdc4+-0x31d*0x7+0x2*0x404);this['cache']['set'](_0x14d661,_0x2fb92d);}['decRef'](_0x511515){if(_0x511515){let _0x317521=this['cache']['get'](_0x511515);_0x317521&&(_0x317521--,_0x317521===0x30*-0x52+0x2442+-0x14e2?(this['cache']['delete'](_0x511515),_0x511515['destroy']()):this['cache']['set'](_0x511515,_0x317521));}}}class Si{static['incRef'](_0x5b060a){this['cache']['incRef'](_0x5b060a);}static['decRef'](_0x499f82){this['cache']['decRef'](_0x499f82);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=0x19*0xa3+-0x26ef*0x1+-0x5c1*-0x4;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(-0x1638+-0x1625*-0x1+-0x1*-0x17);class aC{constructor(_0x3ff877){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(-0x3*-0x37b+0x73d*-0x1+-0x1*0x333)),this['count']=_0x3ff877;}['destroy'](){var _0x47c58f;this['_destroyVe'+'rtexBuffer']&&((_0x47c58f=this['vertexBuff'+'er'])==null||_0x47c58f['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x3e538b){if(!this['bindGroup']){const _0x4e2132=this['shader'];v['assert'](_0x4e2132);const _0x105789=_0x4e2132['meshBindGr'+'oupFormat'];v['assert'](_0x105789),this['bindGroup']=new mp(_0x3e538b,_0x105789),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x31894f){if(!this['uniformBuf'+'fer']){const _0x237df0=this['shader'];v['assert'](_0x237df0);const _0xf52f44=_0x237df0['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0xf52f44),this['uniformBuf'+'fer']=new gp(_0x31894f,_0xf52f44,!(0x1*-0xdf+-0xdc2+0x751*0x2));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x205bd8,_0x41291d;(_0x205bd8=this['bindGroup'])==null||_0x205bd8['destroy'](),this['bindGroup']=null,(_0x41291d=this['uniformBuf'+'fer'])==null||_0x41291d['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x529825,_0x6f4fe7,_0x252c9e=null){c(this,'castShadow',!(-0x1280*-0x1+0x1e37*0x1+-0x1*0x30b6)),c(this,'cull',!(-0x18e6+0x7*-0xa1+0x241*0xd)),c(this,'drawOrder',-0x911+-0x1adf*-0x1+-0x11ce),c(this,'node'),c(this,'visible',!(0x107+0x1*-0x18da+0x3*0x7f1)),c(this,'visibleThi'+'sFrame',!(0x405*-0x6+-0x4*-0x71+0x1*0x165b)),c(this,'flipFacesF'+'actor',-0x532*-0x3+0x89*0xd+0x168a*-0x1),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(0x25b8+0x139+0x1*-0x26f1)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(-0xb0f+-0x1*0xd1d+0x182d)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(-0x8e1+-0xf*0x202+0x340*0xc)),c(this,'_aabbMeshV'+'er',-(0x1*0xac5+0x192d+-0x3*0xbfb)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(0x21b8+0x132d*-0x1+0x49*-0x33)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0x6bf+-0x20a2+-0x8d*-0x2f,0xd6d*0x1+-0x220*0xa+-0x1*-0x7d3]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(-0x1a41+0x863*-0x3+0x336a)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(-0x1*-0x2273+0xb15+-0x2d87)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<-0x91d*0x2+0x821*0x3+-0x619),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x529825 instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x252c9e,this['_mesh']=_0x529825,_0x529825['incRefCoun'+'t'](),this['material']=_0x6f4fe7,_0x529825['vertexBuff'+'er']){const _0x4e51d8=_0x529825['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x4e51d8['hasUv0']?m0:0x3ec+0x7*-0x35f+0x17*0xdb,this['_shaderDef'+'s']|=_0x4e51d8['hasUv1']?_0:-0x1*0x1629+0x1ac7+0x49e*-0x1,this['_shaderDef'+'s']|=_0x4e51d8['hasColor']?g0:0x1*0x1d25+-0x1b77*-0x1+-0x389c,this['_shaderDef'+'s']|=_0x4e51d8['hasTangent'+'s']?Mp:-0x469+0x20c+0x1*0x25d;}this['updateKey']();}set['renderStyl'+'e'](_0xd28d52){this['_renderSty'+'le']=_0xd28d52,this['mesh']['prepareRen'+'derState'](_0xd28d52);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x40ecea){_0x40ecea!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x40ecea,_0x40ecea&&_0x40ecea['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x1f0774){this['_aabb']=_0x1f0774;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x42d2ce=this['_customAab'+'b'],_0x4a1295=!!_0x42d2ce;if(!_0x42d2ce){if(_0x42d2ce=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x424dde=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x424dde);}const _0x1116eb=this['mesh']['boneUsed'];let _0x3e68de=!(0x18b7+0x1*-0xf5b+-0x95c*0x1);for(let _0x4f1f15=-0x2*0x7f0+-0xe88*-0x1+0x2*0xac;_0x4f1f15<this['mesh']['boneAabb']['length'];_0x4f1f15++)_0x1116eb[_0x4f1f15]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x4f1f15],this['skinInstan'+'ce']['matrices'][_0x4f1f15]),_0x3e68de?(_0x3e68de=!(0x17e*0x13+-0x1dca+0x171),_0x42d2ce['center']['copy'](Cl['center']),_0x42d2ce['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x42d2ce['add'](Cl));_0x4a1295=!(0x93a*0x3+0x1b7a+-0x3728);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x42d2ce['center']['copy'](this['mesh']['aabb']['center']),_0x42d2ce['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x42d2ce['center']['set'](-0xe99+-0xe58+0x1cf1*0x1,0x13c6*0x1+-0xf95*0x2+0xb64,0x3ba+-0xf*-0x179+0x3*-0x89b),_0x42d2ce['halfExtent'+'s']['set'](0x7b1+-0x10fc+0x94b,0xaa7+-0xf98+0x4f1,-0x2f*-0x4f+0xc1d+-0x1a9e)),this['mesh']&&this['mesh']['morph']){const _0xab22e6=this['mesh']['morph']['aabb'];_0x42d2ce['_expand'](_0xab22e6['getMin'](),_0xab22e6['getMax']());}_0x4a1295=!(0x227f+0x8f*0x3f+-0x45b0),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x4a1295&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x42d2ce,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x18f6e7=>{_0x18f6e7['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x536c9e,_0x308414,_0x31ca3f,_0xc4dc53,_0x56e545,_0x2e6d4d,_0x27cf84){var _0x51309b;const _0x52137e=this['_shaderDef'+'s'];yr[0x2236+0x1*0x406+-0x263c]=_0x536c9e,yr[-0x1*-0x1f81+-0xf8*0x8+-0x17c0]=_0x308414,yr[-0x1367+0x1b82+0x1*-0x819]=_0x52137e,yr[0x24*-0xde+0x1885+0x2*0x35b]=_0xc4dc53['hash'];const _0x3ba77c=Zy(yr);let _0x1de4c3=this['_shaderCac'+'he']['get'](_0x3ba77c);if(!_0x1de4c3){const _0x32153c=this['_material'];if(_0x1de4c3=new oC(),_0x1de4c3['shader']=_0x32153c['variants']['get'](_0x3ba77c),_0x1de4c3['hashes']=new Uint32Array(yr),!_0x1de4c3['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x32281b=_0x32153c['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x31ca3f,'objDefs':_0x52137e,'cameraShaderParams':_0xc4dc53,'pass':_0x536c9e,'sortedLights':_0x27cf84,'viewUniformFormat':_0x56e545,'viewBindGroupFormat':_0x2e6d4d,'vertexFormat':(_0x51309b=this['mesh']['vertexBuff'+'er'])==null?void(-0x1ad*0x11+0x3*0x7e6+-0x4cb*-0x1):_0x51309b['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x32153c['variants']['set'](_0x3ba77c,_0x32281b),_0x1de4c3['shader']=_0x32281b;}this['_shaderCac'+'he']['set'](_0x3ba77c,_0x1de4c3);}return v['call'](()=>{Wv['equals'](_0x1de4c3['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x1de4c3;}set['material'](_0x469005){this['clearShade'+'rs']();const _0xaa2982=this['_material'];_0xaa2982&&_0xaa2982['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x469005,_0x469005&&(_0x469005['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x469005['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x576a4c){this['_layer']=_0x576a4c,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x41f913){_0x41f913!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x41f913,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x55d65c){this['_calculate'+'SortDistan'+'ce']=_0x55d65c;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x432a66){this['_receiveSh'+'adow']!==_0x432a66&&(this['_receiveSh'+'adow']=_0x432a66,this['_updateSha'+'derDefs'](_0x432a66?this['_shaderDef'+'s']&-(0x1fcf+-0x26b5+-0x11*-0x68):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x586a1b){this['_updateSha'+'derDefs'](_0x586a1b?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(0x6876+-0x3d*-0x89+0xc2f*-0x6));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==-0x1685+0xd8b*-0x1+0x2410;}set['skinInstan'+'ce'](_0x158b0b){this['_skinInsta'+'nce']=_0x158b0b,this['_updateSha'+'derDefs'](_0x158b0b?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(0x1*-0x70b+0x17d3+-0x10c5)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x3d0e4e){var _0xbf27bf;(_0xbf27bf=this['_morphInst'+'ance'])==null||_0xbf27bf['destroy'](),this['_morphInst'+'ance']=_0x3d0e4e;let _0x80afe3=this['_shaderDef'+'s'];_0x80afe3=_0x3d0e4e&&_0x3d0e4e['morph']['morphPosit'+'ions']?_0x80afe3|qc:_0x80afe3&-(0x2f7*0x6+-0x1*-0x1189+-0x1f52),_0x80afe3=_0x3d0e4e&&_0x3d0e4e['morph']['morphNorma'+'ls']?_0x80afe3|Xc:_0x80afe3&-(-0x1734+-0x1*0x12f7+0x322c),_0x80afe3=_0x3d0e4e&&_0x3d0e4e['morph']['intRenderF'+'ormat']?_0x80afe3|jc:_0x80afe3&-(-0x1*-0x1ef7+0xe9*0x38+0x2*-0x18f7),this['_updateSha'+'derDefs'](_0x80afe3);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x20821b){this['_screenSpa'+'ce']!==_0x20821b&&(this['_screenSpa'+'ce']=_0x20821b,this['_updateSha'+'derDefs'](_0x20821b?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(0x266*-0xb+-0x1908+0x346b)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x197396){this['_key'][Ei]=_0x197396;}get['key'](){return this['_key'][Ei];}set['mask'](_0x42e73f){const _0x1cd0ef=this['_shaderDef'+'s']&0x10fc3+-0x200f*-0x3+-0x6ff1*0x1;this['_updateSha'+'derDefs'](_0x1cd0ef|_0x42e73f<<0xb52+0x7*0x2ce+-0xf72*0x2);}get['mask'](){return this['_shaderDef'+'s']>>-0x3c3*-0x9+-0x42c*-0x9+-0x4757*0x1;}set['instancing'+'Count'](_0x31701f){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x31701f);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x1385+-0x1d9f+-0x154*-0x25;}['destroy'](){var _0x4d7825,_0x46e1e6,_0x17f246;const _0x5465eb=this['mesh'];_0x5465eb&&(this['mesh']=null,_0x5465eb['refCount']<0x1945*0x1+0x4dd*0x1+0x3*-0xa0b&&_0x5465eb['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x1*-0xa1+-0x20e*-0x11+0x238f*-0x1],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x12c6+-0x5b*0x16+-0x26b*-0xb],null),(_0x4d7825=this['_skinInsta'+'nce'])==null||_0x4d7825['destroy'](),this['_skinInsta'+'nce']=null,(_0x46e1e6=this['morphInsta'+'nce'])==null||_0x46e1e6['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x17f246=this['instancing'+'Data'])==null||_0x17f246['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x474e51,_0x57a42f){if(_0x474e51){for(let _0x5a3ddc=0xa62+-0x380+-0x6e2;_0x5a3ddc<_0x474e51['length'];_0x5a3ddc++){_0x474e51[_0x5a3ddc]['_renderSty'+'le']=_0x57a42f;const _0x139f90=_0x474e51[_0x5a3ddc]['mesh'];xd['has'](_0x139f90)||(xd['add'](_0x139f90),_0x139f90['prepareRen'+'derState'](_0x57a42f));}xd['clear']();}}['_isVisible'](_0x4831da){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x4831da):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x4831da['frustum']['containsSp'+'here'](yd)>-0x7*0x65+-0xc1e+-0x125*-0xd):!(-0x370*0x1+-0x19*0x133+0x216c);}['updateKey'](){const _0x36a9cd=this['material'],_0x4d8cb6=_0x36a9cd['alphaToCov'+'erage']||_0x36a9cd['alphaTest']?Kt:_0x36a9cd['blendType'];this['_key'][Ei]=(this['layer']&-0x93*0x16+0x1d80+0x1*-0x10cf)<<-0x20c0+0x1bd0+0x50b|(_0x4d8cb6===is?-0x2d8+-0x18cc+-0x7*-0x3f3:0x88*0x4+-0x2611+0x23f1)<<-0x8*-0x314+0xe97*0x1+-0x271d|(_0x36a9cd['id']&0x26e2399+0x1fdd61d+-0x26bf9b7)<<-0x186f+0x29*-0x83+-0x2*-0x16b5;}['setInstanc'+'ing'](_0x16fd4e,_0x41394d=!(0x462+0xb6e+-0x545*0x3)){_0x16fd4e?(this['instancing'+'Data']=new aC(_0x16fd4e['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x16fd4e,_0x16fd4e['format']['instancing']=!(-0x4d*-0x27+0x16ae+-0x2269),this['cull']=_0x41394d):(this['instancing'+'Data']=null,this['cull']=!(-0x21cf+0x104+-0x17*-0x16d)),this['_updateSha'+'derDefs'](_0x16fd4e?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(-0x5*-0x63d+-0x2637+-0x727*-0x1));}['ensureMate'+'rial'](_0x470873){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x470873));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x56b32a){return this['parameters'][_0x56b32a];}['setParamet'+'er'](_0x24c164,_0x3f5c61,_0x15c14b=0x451b660+0x10e575bef+-0x82*0x24bf28){const _0x3d330b=this['parameters'][_0x24c164];_0x3d330b?(_0x3d330b['data']=_0x3f5c61,_0x3d330b['passFlags']=_0x15c14b):this['parameters'][_0x24c164]={'scopeId':null,'data':_0x3f5c61,'passFlags':_0x15c14b};}['setRealtim'+'eLightmap'](_0x18d864,_0x127aed){const _0x2b73ef=this['getParamet'+'er'](_0x18d864);_0x2b73ef!==_0x127aed&&(_0x2b73ef&&Si['decRef'](_0x2b73ef['data']),_0x127aed?(Si['incRef'](_0x127aed),this['setParamet'+'er'](_0x18d864,_0x127aed)):this['deletePara'+'meter'](_0x18d864));}['deletePara'+'meter'](_0x399a58){this['parameters'][_0x399a58]&&delete this['parameters'][_0x399a58];}['setParamet'+'ers'](_0x5a5fc3,_0x510065){const _0x5e9cb7=this['parameters'];for(const _0x231b0c in _0x5e9cb7){const _0x2f6d2d=_0x5e9cb7[_0x231b0c];_0x2f6d2d['passFlags']&_0x510065&&(_0x2f6d2d['scopeId']||(_0x2f6d2d['scopeId']=_0x5a5fc3['scope']['resolve'](_0x231b0c)),_0x2f6d2d['scopeId']['setValue'](_0x2f6d2d['data']));}}['setLightma'+'pped'](_0x14c5ed){_0x14c5ed?this['mask']=(this['mask']|cr)&-(0x26ca+0x8*-0x2ce+-0x16*0xbe):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0xc2d*0x1+0x1ad4+0x155*-0xb],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x487+-0x183d+0x7*0x2d1],null),this['_shaderDef'+'s']&=-(0x5*0x68d+0x10*-0x1f3+-0xc*-0x144),this['mask']=(this['mask']|hs)&-(-0x21cb+-0x1df7+0x3fc9));}['setCustomA'+'abb'](_0xc098){_0xc098?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0xc098):this['_customAab'+'b']=_0xc098['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0xe2*-0x18+-0x3f7*-0x4+-0x57*0x6d)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[0x6dd*-0x1+0x2601+0x1*-0x1f24,-0x2da*0x1+-0x193e+0x1c19,-0x2685*0x1+0x13c0+0x12c8,-0x1*0xa58+-0x3d1+0x4b9*0x3,0x301+-0xfad+0xcaf,-0x16b0+-0x1c8f+-0x8*-0x668],hC=[0x3e6*-0x6+-0x2454+-0x777*-0x8,0x25ee+-0x1*-0xe3+-0x26d0,-0x4f7*-0x3+0x2*-0xfe6+0xa*0x1b1,0x721+0x1*0xdc2+-0x14e3,-0xc17*-0x1+-0x2dd*0x7+0x7f7,0x7*-0x145+-0xa5e*-0x2+-0xbd7],jm=new js();function Ym(_0xb87625,_0x2f1c34){if(_0xb87625&&!_0x2f1c34||!_0xb87625&&_0x2f1c34)return!(-0x152a+0x14d8+0x53*0x1);if(_0xb87625=_0xb87625['data'],_0x2f1c34=_0x2f1c34['data'],_0xb87625===_0x2f1c34)return!(0x20e8+0x2291+0x17*-0x2ef);if(_0xb87625 instanceof Float32Array&&_0x2f1c34 instanceof Float32Array){if(_0xb87625['length']!==_0x2f1c34['length'])return!(0x585+0xd13*-0x1+0x78f);for(let _0x4b11=0x5*0x3a9+-0xf*0x223+0xdc0;_0x4b11<_0xb87625['length'];_0x4b11++)if(_0xb87625[_0x4b11]!==_0x2f1c34[_0x4b11])return!(-0x1ecb*-0x1+0x1*0x21c9+0x1*-0x4093);return!(0xd4b+0x130f+-0x65*0x52);}return!(0xfdc+-0x20a1+0x10c6);}function cC(_0x2d5355,_0x4f2985){for(const _0x2549dc in _0x2d5355)if(_0x2d5355['hasOwnProp'+'erty'](_0x2549dc)&&!Ym(_0x2d5355[_0x2549dc],_0x4f2985[_0x2549dc]))return!(-0x1*0x1212+0x1fb4+-0x1*0xda1);for(const _0x4366c2 in _0x4f2985)if(_0x4f2985['hasOwnProp'+'erty'](_0x4366c2)&&!Ym(_0x4f2985[_0x4366c2],_0x2d5355[_0x4366c2]))return!(-0x9ed+-0x25fb+0x37*0xdf);return!(0x5e3*-0x1+-0x54e+0xb31);}function Sd(_0x5d67c1){return _0x5d67c1['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x109ede,_0x33d412,_0x4839b1){this['device']=_0x109ede,this['rootNode']=_0x33d412,this['scene']=_0x4839b1,this['_init']=!(-0x265e+-0x200*-0x11+0x45f),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x6ab*-0x1+-0xb07*0x1+0x11b2,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x4818e6,_0x9dd5ed,_0x4268bc,_0x16552a,_0x1ea52b){if(_0x16552a===void(-0xf23+-0x12ea+0x220d)&&(_0x16552a=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x16552a]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x16552a+('\x20already\x20e'+'xists.'));return;}const _0x1c662c=new et(_0x16552a,_0x4818e6,_0x9dd5ed,_0x4268bc,_0x1ea52b);return this['_batchGrou'+'ps'][_0x16552a]=_0x1c662c,_0x1c662c;}['removeGrou'+'p'](_0x2126a6){if(!this['_batchGrou'+'ps'][_0x2126a6]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x2126a6+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x267c4e=[];for(let _0x44d686=0x61*-0x3a+0x754*0x3+0x2*-0x1;_0x44d686<this['_batchList']['length'];_0x44d686++)this['_batchList'][_0x44d686]['batchGroup'+'Id']===_0x2126a6?this['destroyBat'+'ch'](this['_batchList'][_0x44d686]):_0x267c4e['push'](this['_batchList'][_0x44d686]);this['_batchList']=_0x267c4e,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x2126a6),delete this['_batchGrou'+'ps'][_0x2126a6];}['markGroupD'+'irty'](_0x48a7ee){this['_dirtyGrou'+'ps']['indexOf'](_0x48a7ee)<-0x2*-0x7d3+0x279*-0x1+-0xd2d&&this['_dirtyGrou'+'ps']['push'](_0x48a7ee);}['getGroupBy'+'Name'](_0x2f8b61){const _0x154719=this['_batchGrou'+'ps'];for(const _0xe18f6f in _0x154719)if(_0x154719['hasOwnProp'+'erty'](_0xe18f6f)&&_0x154719[_0xe18f6f]['name']===_0x2f8b61)return _0x154719[_0xe18f6f];return null;}['getBatches'](_0x3984d3){const _0x1f8b39=[],_0x5c0eca=this['_batchList']['length'];for(let _0x2fce52=0x522+0x152b+-0x1a4d;_0x2fce52<_0x5c0eca;_0x2fce52++){const _0x205b1c=this['_batchList'][_0x2fce52];_0x205b1c['batchGroup'+'Id']===_0x3984d3&&_0x1f8b39['push'](_0x205b1c);}return _0x1f8b39;}['_removeMod'+'elsFromBat'+'chGroup'](_0x151d9a,_0x21a31e){if(_0x151d9a['enabled']){_0x151d9a['model']&&_0x151d9a['model']['batchGroup'+'Id']===_0x21a31e&&(_0x151d9a['model']['batchGroup'+'Id']=-(-0x19e4+-0x2ab+0x1c90)),_0x151d9a['render']&&_0x151d9a['render']['batchGroup'+'Id']===_0x21a31e&&(_0x151d9a['render']['batchGroup'+'Id']=-(-0x15ed*0x1+-0x8ad+-0x5*-0x61f)),_0x151d9a['element']&&_0x151d9a['element']['batchGroup'+'Id']===_0x21a31e&&(_0x151d9a['element']['batchGroup'+'Id']=-(0x1f73*-0x1+0x14f8+0xa7c)),_0x151d9a['sprite']&&_0x151d9a['sprite']['batchGroup'+'Id']===_0x21a31e&&(_0x151d9a['sprite']['batchGroup'+'Id']=-(0x1*-0x26bd+-0xe64+-0x8db*-0x6));for(let _0x3147c9=0x1afc+0x834+0x2*-0x1198;_0x3147c9<_0x151d9a['_children']['length'];_0x3147c9++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x151d9a['_children'][_0x3147c9],_0x21a31e);}}['insert'](_0x578530,_0x1752bb,_0xb92ef){const _0x51ee4b=this['_batchGrou'+'ps'][_0x1752bb];v['assert'](_0x51ee4b,'Invalid\x20ba'+'tch\x20'+_0x1752bb+'\x20insertion'),_0x51ee4b&&_0x51ee4b['_obj'][_0x578530]['indexOf'](_0xb92ef)<-0x769+0x37*0x21+0x29*0x2&&(_0x51ee4b['_obj'][_0x578530]['push'](_0xb92ef),this['markGroupD'+'irty'](_0x1752bb));}['remove'](_0x5e91b4,_0x10dc00,_0x3dfee0){const _0x5e2a47=this['_batchGrou'+'ps'][_0x10dc00];if(v['assert'](_0x5e2a47,'Invalid\x20ba'+'tch\x20'+_0x10dc00+'\x20insertion'),_0x5e2a47){const _0x2d11f6=_0x5e2a47['_obj'][_0x5e91b4]['indexOf'](_0x3dfee0);_0x2d11f6>=0x2066+0x231a+0x870*-0x8&&(_0x5e2a47['_obj'][_0x5e91b4]['splice'](_0x2d11f6,-0x2*0xa89+-0x1133+-0x8e*-0x45),this['markGroupD'+'irty'](_0x10dc00));}}['_extractRe'+'nder'](_0x37fdd6,_0x1558c3,_0x2ed1ff,_0x36298f){return _0x37fdd6['render']&&(_0x1558c3=_0x36298f[_0x37fdd6['render']['batchGroup'+'Id']]=_0x1558c3['concat'](_0x37fdd6['render']['meshInstan'+'ces']),_0x37fdd6['render']['removeFrom'+'Layers']()),_0x1558c3;}['_extractMo'+'del'](_0x223084,_0x3f887d,_0x25a1ce,_0x520b1b){return _0x223084['model']&&_0x223084['model']['model']&&(_0x3f887d=_0x520b1b[_0x223084['model']['batchGroup'+'Id']]=_0x3f887d['concat'](_0x223084['model']['meshInstan'+'ces']),_0x223084['model']['removeMode'+'lFromLayer'+'s'](),_0x223084['model']['_batchGrou'+'p']=_0x25a1ce),_0x3f887d;}['_extractEl'+'ement'](_0x41091c,_0x1b1148,_0x4765ff){if(!_0x41091c['element'])return;let _0x3cee22=!(-0xf7f*-0x2+-0x2587+0x36*0x1f);_0x41091c['element']['_text']&&_0x41091c['element']['_text']['_model']['meshInstan'+'ces']['length']>0x341+0x3*-0xb0a+-0x5*-0x5f9?(_0x1b1148['push'](_0x41091c['element']['_text']['_model']['meshInstan'+'ces'][0x2149+0x139d+-0x34e6]),_0x41091c['element']['removeMode'+'lFromLayer'+'s'](_0x41091c['element']['_text']['_model']),_0x3cee22=!(-0x1*0xd9f+-0x68b+0x142a)):_0x41091c['element']['_image']&&(_0x1b1148['push'](_0x41091c['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x41091c['element']['removeMode'+'lFromLayer'+'s'](_0x41091c['element']['_image']['_renderabl'+'e']['model']),_0x41091c['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x1b1148['push'](_0x41091c['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x41091c['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x41091c['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x41091c['element']['_dirtifyMa'+'sk'](),_0x41091c['element']['_onPrerend'+'er']())),_0x3cee22=!(0x367*-0xa+0x25fb+-0x3f5)),_0x3cee22&&(_0x4765ff['_ui']=!(0x147a+0x110d+-0x2587),_0x41091c['element']['_batchGrou'+'p']=_0x4765ff);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x10e826,_0x473642){for(let _0x374268=-0x18*0x1d+0x145c+-0x469*0x4;_0x374268<_0x473642['length'];_0x374268++){const _0x5277ff=_0x473642[_0x374268],_0x210a44=this['_batchGrou'+'ps'][_0x5277ff];if(!_0x210a44)continue;let _0x5daadb=_0x10e826[_0x5277ff];_0x5daadb||(_0x5daadb=_0x10e826[_0x5277ff]=[]);for(let _0x38b286=0x12*-0xb+-0x1ef*0xc+0x17fa;_0x38b286<_0x210a44['_obj']['model']['length'];_0x38b286++)_0x5daadb=this['_extractMo'+'del'](_0x210a44['_obj']['model'][_0x38b286],_0x5daadb,_0x210a44,_0x10e826);for(let _0x199498=-0xb3*0x1a+-0x1315+0x2543;_0x199498<_0x210a44['_obj']['render']['length'];_0x199498++)_0x5daadb=this['_extractRe'+'nder'](_0x210a44['_obj']['render'][_0x199498],_0x5daadb,_0x210a44,_0x10e826);for(let _0x4a2497=-0x1de*0x7+0x49c*0x1+0x876;_0x4a2497<_0x210a44['_obj']['element']['length'];_0x4a2497++)this['_extractEl'+'ement'](_0x210a44['_obj']['element'][_0x4a2497],_0x5daadb,_0x210a44);for(let _0x25bf3d=-0xac*-0x31+-0x1d9e+-0x34e;_0x25bf3d<_0x210a44['_obj']['sprite']['length'];_0x25bf3d++){const _0x1de20b=_0x210a44['_obj']['sprite'][_0x25bf3d];_0x1de20b['sprite']&&_0x1de20b['sprite']['_meshInsta'+'nce']&&(_0x210a44['dynamic']||_0x1de20b['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x5daadb['push'](_0x1de20b['sprite']['_meshInsta'+'nce']),_0x1de20b['sprite']['removeMode'+'lFromLayer'+'s'](),_0x210a44['_sprite']=!(0x1df*-0x2+0x23e8+-0x166*0x17),_0x1de20b['sprite']['_batchGrou'+'p']=_0x210a44);}}}['generate'](_0x393460){const _0x21afe5={};_0x393460||(_0x393460=Object['keys'](this['_batchGrou'+'ps']));const _0x255c26=[];for(let _0x5a9ac5=-0x8f*0x3d+-0x216*0x2+0x263f*0x1;_0x5a9ac5<this['_batchList']['length'];_0x5a9ac5++){if(_0x393460['indexOf'](this['_batchList'][_0x5a9ac5]['batchGroup'+'Id'])<-0x1321+-0x27*-0xdd+-0xe8a){_0x255c26['push'](this['_batchList'][_0x5a9ac5]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x5a9ac5]);}if(this['_batchList']=_0x255c26,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x21afe5,_0x393460),_0x393460===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x1*0xc61+-0x6bf+-0x5a2;else{const _0x23f4b6=[];for(let _0x40d4a=0x87d*-0x3+-0x26f7+0x406e;_0x40d4a<this['_dirtyGrou'+'ps']['length'];_0x40d4a++)_0x393460['indexOf'](this['_dirtyGrou'+'ps'][_0x40d4a])<-0x1*0x191d+-0x8a*0x20+0x879*0x5&&_0x23f4b6['push'](this['_dirtyGrou'+'ps'][_0x40d4a]);this['_dirtyGrou'+'ps']=_0x23f4b6;}let _0xcd3872,_0x22fb5c,_0x460814,_0x55ffaa;for(const _0xe427c8 in _0x21afe5)if(_0x21afe5['hasOwnProp'+'erty'](_0xe427c8)){if(_0xcd3872=_0x21afe5[_0xe427c8],_0x460814=this['_batchGrou'+'ps'][_0xe427c8],!_0x460814){v['error']('batch\x20grou'+'p\x20'+_0xe427c8+'\x20not\x20found');continue;}_0x22fb5c=this['prepare'](_0xcd3872,_0x460814['dynamic'],_0x460814['maxAabbSiz'+'e'],_0x460814['_ui']||_0x460814['_sprite']);for(let _0x44e59a=-0x1ceb+0xfbc+0x5*0x2a3;_0x44e59a<_0x22fb5c['length'];_0x44e59a++)_0x55ffaa=this['create'](_0x22fb5c[_0x44e59a],_0x460814['dynamic'],parseInt(_0xe427c8,-0x767*0x5+0x3cc*-0x4+0x343d)),_0x55ffaa&&_0x55ffaa['addToLayer'+'s'](this['scene'],_0x460814['layers']);}}['prepare'](_0x5055e9,_0x48de1c,_0x8786d3=Number['POSITIVE_I'+'NFINITY'],_0x31b52b){if(_0x5055e9['length']===0x4*0x789+0x67*-0x53+0x31*0x11)return[];const _0x13571d=_0x8786d3*(-0xe03+0x23*-0x1+0x713*0x2+0.5),_0xf716ee=-0x126f+0x1*0x132d+0x342,_0x58f5b9=0x1a815fd17+-0x15271c363+0x1*0xaa5bc64b,_0x461a2d=new _e(),_0x5778af=new _e();let _0x44c01e=null,_0x1422a1;const _0x3db863=[];let _0x515b77=0x9a9+-0x4*-0x77d+-0x279d*0x1;_0x31b52b&&_0x5055e9['sort']((_0x1e369e,_0x3f2eb3)=>_0x1e369e['drawOrder']-_0x3f2eb3['drawOrder']);let _0x560773=_0x5055e9,_0x2472c2;const _0x5f4d4a=_0x31b52b?function(_0x18c2f2){_0x44c01e?_0x44c01e['add'](_0x18c2f2['aabb']):_0x44c01e=_0x18c2f2['aabb']['clone'](),_0x2472c2['push'](_0x18c2f2);}:function(_0x4d89b0){_0x2472c2['push'](_0x4d89b0);};for(;_0x560773['length']>-0x4*0x96b+0x8a+-0xe*-0x2a7;){_0x3db863[_0x515b77]=[_0x560773[0x10eb*0x1+0x123d+-0x384*0xa]],_0x2472c2=[];const _0x209c03=_0x560773[-0x1227*-0x2+-0x69d+-0x1db1]['material'],_0x1f3713=_0x560773[0x1*-0x2209+-0x2*0x217+0xcbd*0x3]['layer'],_0x2df6cf=_0x560773[-0xd45+-0x134f*0x1+-0x342*-0xa]['_shaderDef'+'s'],_0x4303c5=_0x560773[-0x29b+-0x1b17+-0x15*-0x16a]['parameters'],_0x1f9804=_0x560773[0x1003+0x12*-0xc3+0x13*-0x1f]['stencilFro'+'nt'];let _0x161a4d=_0x560773[0x1af+0xa02+-0xbb1]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x29d259=_0x560773[-0x715+0x1e40+0x7b9*-0x3]['drawOrder'];_0x461a2d['copy'](_0x560773[-0x147*0x3+-0x4ef*0x3+0x12a2]['aabb']);const _0x395d70=Sd(_0x560773[0x1743+-0x1c3d*0x1+-0x31*-0x1a]),_0x546f57=_0x560773[-0x26a6+-0x266f*0x1+-0x7*-0xb03]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x1e6e89=_0x560773[0x119*0x7+-0x22bf+0xd88*0x2]['mesh']['primitive'][-0x6ab*0x5+-0x29*0x3e+0x2b45]['indexed'];_0x44c01e=null;for(let _0x535b93=-0x11e5*0x2+0x11aa+0x3*0x60b;_0x535b93<_0x560773['length'];_0x535b93++){const _0x2952f3=_0x560773[_0x535b93];if(_0x48de1c&&_0x3db863[_0x515b77]['length']>=_0xf716ee){_0x2472c2=_0x2472c2['concat'](_0x560773['slice'](_0x535b93));break;}if(_0x209c03!==_0x2952f3['material']||_0x1f3713!==_0x2952f3['layer']||_0x546f57!==_0x2952f3['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x1e6e89!==_0x2952f3['mesh']['primitive'][0x21c*-0x2+-0x6d*0x49+0x234d]['indexed']||_0x2df6cf!==_0x2952f3['_shaderDef'+'s']||_0x161a4d+_0x2952f3['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x58f5b9){_0x5f4d4a(_0x2952f3);continue;}if(_0x5778af['copy'](_0x461a2d),_0x5778af['add'](_0x2952f3['aabb']),_0x5778af['halfExtent'+'s']['x']>_0x13571d||_0x5778af['halfExtent'+'s']['y']>_0x13571d||_0x5778af['halfExtent'+'s']['z']>_0x13571d){_0x5f4d4a(_0x2952f3);continue;}if(_0x1f9804&&(!(_0x1422a1=_0x2952f3['stencilFro'+'nt'])||_0x1f9804['func']!==_0x1422a1['func']||_0x1f9804['zpass']!==_0x1422a1['zpass'])){_0x5f4d4a(_0x2952f3);continue;}if(_0x395d70!==Sd(_0x2952f3)){_0x5f4d4a(_0x2952f3);continue;}if(!cC(_0x4303c5,_0x2952f3['parameters'])){_0x5f4d4a(_0x2952f3);continue;}if(_0x31b52b&&_0x44c01e&&_0x44c01e['intersects'](_0x2952f3['aabb'])&&_0x2952f3['drawOrder']!==_0x29d259){_0x5f4d4a(_0x2952f3);continue;}_0x461a2d['add'](_0x2952f3['aabb']),_0x161a4d+=_0x2952f3['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x3db863[_0x515b77]['push'](_0x2952f3);}_0x515b77++,_0x560773=_0x2472c2;}return _0x3db863;}['collectBat'+'chedMeshDa'+'ta'](_0xb46a6d,_0x246c47){let _0x408ea0=null,_0x5abccf=0x335*0x9+-0x209c+0x3bf,_0x12b270=0x1fc*0x4+0x13*-0x142+0xff6,_0x8009f7=null;for(let _0x4c2371=-0x1*0x1ad7+-0xbc6*0x2+0x3263;_0x4c2371<_0xb46a6d['length'];_0x4c2371++)if(_0xb46a6d[_0x4c2371]['visible']){const _0x15b675=_0xb46a6d[_0x4c2371]['mesh'],_0x40e6a4=_0x15b675['vertexBuff'+'er']['numVertice'+'s'];if(_0x5abccf+=_0x40e6a4,_0x15b675['primitive'][-0xcd7+-0x16e+0x119*0xd]['indexed'])_0x12b270+=_0x15b675['primitive'][-0x27*-0x6b+-0x1798+-0x74b*-0x1]['count'];else{const _0x57d087=_0x15b675['primitive'][0x25*-0x103+0xb65*-0x2+-0x6b1*-0x9]['type'];(_0x57d087===Yr||_0x57d087===ar)&&_0x15b675['primitive'][-0x70*-0x1b+0x1b9a+0x3f1*-0xa]['count']===0x16a5+-0x1*0x905+-0xd9c&&(_0x12b270+=-0x10f6*0x2+0x11cd+-0x1*-0x1025);}if(!_0x408ea0){_0x8009f7=_0xb46a6d[_0x4c2371]['material'],_0x408ea0={};const _0x144252=_0x15b675['vertexBuff'+'er']['format']['elements'];for(let _0x253663=0xcd*0x11+0x321+0x1*-0x10be;_0x253663<_0x144252['length'];_0x253663++){const _0x2a1b2=_0x144252[_0x253663]['name'];_0x408ea0[_0x2a1b2]={'numComponents':_0x144252[_0x253663]['numCompone'+'nts'],'dataType':_0x144252[_0x253663]['dataType'],'normalize':_0x144252[_0x253663]['normalize'],'count':0x0};}_0x246c47&&(_0x408ea0[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(-0x256*0xa+0x19c6+-0x269),'count':0x0});}}return{'streams':_0x408ea0,'batchNumVerts':_0x5abccf,'batchNumIndices':_0x12b270,'material':_0x8009f7};}['create'](_0x39759a,_0x3e28c1,_0x4baaf6){const _0x4418a6=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0x15e1+0xe9d+-0x247e));let _0x605383=null,_0x48ddf2,_0x617634,_0x2720ee,_0x3c0c13=null;const _0x544f6a=this['collectBat'+'chedMeshDa'+'ta'](_0x39759a,_0x3e28c1);if(_0x544f6a['streams']){const _0x44a64b=_0x544f6a['streams'];let _0x61d396=_0x544f6a['material'];const _0x4c211b=_0x544f6a['batchNumVe'+'rts'],_0x156009=_0x544f6a['batchNumIn'+'dices'];_0x3c0c13=new zm(_0x39759a,_0x3e28c1,_0x4baaf6),this['_batchList']['push'](_0x3c0c13);let _0x28e68b,_0xe6634b,_0x36abf6,_0x561f9a=-0x1d*-0x142+0x1325*-0x1+0x1*-0x1155,_0x56a001=-0x3b2*0x9+-0x2*-0xef9+0x6a*0x8,_0x1ee662;const _0x236075=_0x4c211b<=0x115ee+0x6*-0x43f6+0x181d5?Uint16Array:Uint32Array,_0x59bc90=new _0x236075(_0x156009);for(_0x48ddf2 in _0x44a64b)_0x605383=_0x44a64b[_0x48ddf2],_0x605383['typeArrayT'+'ype']=da[_0x605383['dataType']],_0x605383['elementByt'+'eSize']=_o[_0x605383['dataType']],_0x605383['buffer']=new _0x605383['typeArrayT'+'ype'](_0x4c211b*_0x605383['numCompone'+'nts']);for(let _0x4d4284=-0x18dd*-0x1+0x1*-0x24cd+0xbf0;_0x4d4284<_0x39759a['length'];_0x4d4284++)if(_0x39759a[_0x4d4284]['visible']){_0x617634=_0x39759a[_0x4d4284]['mesh'],_0x2720ee=_0x617634['vertexBuff'+'er']['numVertice'+'s'],_0x3e28c1||(_0x1ee662=_0x39759a[_0x4d4284]['node']['getWorldTr'+'ansform']());for(_0x48ddf2 in _0x44a64b)if(_0x48ddf2!==qt){_0x605383=_0x44a64b[_0x48ddf2];const _0x1704d6=new _0x605383['typeArrayT'+'ype'](_0x605383['buffer']['buffer'],_0x605383['elementByt'+'eSize']*_0x605383['count']),_0x2e1f3a=_0x617634['getVertexS'+'tream'](_0x48ddf2,_0x1704d6)*_0x605383['numCompone'+'nts'];if(_0x605383['count']+=_0x2e1f3a,!_0x3e28c1&&_0x605383['numCompone'+'nts']>=-0x2014+-0x1eb4+0xc8f*0x5){if(_0x48ddf2===He){const _0x2832de=_0x1ee662['data'],_0x4aec4e=_0x2832de[-0x1*0x25ff+0x997+0x194*0x12],_0x264978=_0x2832de[-0x5c5+-0x260b+0x2bd1],_0x790ac2=_0x2832de[0x1612+0x1d41+-0x3351],_0x3c3aff=_0x2832de[-0x34f*-0x2+0x96a*-0x4+-0xf*-0x212],_0x33b22e=_0x2832de[0x1f3c+-0x56b*0x7+0x6b6],_0x55f078=_0x2832de[0xcc1+0x67*0x39+-0x23aa],_0x44ce24=_0x2832de[0x346*0x2+-0x26eb+-0x69*-0x4f],_0x2299bb=_0x2832de[0xf7*-0x11+0x5d8+0x388*0x3],_0x57d0e6=_0x2832de[0x1bfd+0x59*0x67+-0x3fc2],_0x547d99=_0x2832de[-0xed3*-0x2+0x3bd*0x3+-0x28d1],_0x5bf7df=_0x2832de[0xb7d+0x1*0x1fc7+0x12b*-0x25],_0x29fed2=_0x2832de[0x1169+0x3e*0x47+0x3d*-0x91];let _0x56687f,_0x5d49d3,_0x2105af;for(let _0x2e4230=0x1*-0x1f2a+-0x2287+0x41b1;_0x2e4230<_0x2e1f3a;_0x2e4230+=_0x605383['numCompone'+'nts'])_0x56687f=_0x1704d6[_0x2e4230],_0x5d49d3=_0x1704d6[_0x2e4230+(0x2514+-0x1426+-0x7*0x26b)],_0x2105af=_0x1704d6[_0x2e4230+(0x5f6+0x259*-0x6+0x822*0x1)],_0x1704d6[_0x2e4230]=_0x56687f*_0x4aec4e+_0x5d49d3*_0x3c3aff+_0x2105af*_0x44ce24+_0x547d99,_0x1704d6[_0x2e4230+(0x169b*0x1+-0x14f9+-0x1a1)]=_0x56687f*_0x264978+_0x5d49d3*_0x33b22e+_0x2105af*_0x2299bb+_0x5bf7df,_0x1704d6[_0x2e4230+(-0x2234+0x745*0x1+0x21*0xd1)]=_0x56687f*_0x790ac2+_0x5d49d3*_0x55f078+_0x2105af*_0x57d0e6+_0x29fed2;}else{if(_0x48ddf2===Yt||_0x48ddf2===Zs){jm['invertMat4'](_0x1ee662)['transpose']();const [_0x926266,_0x1d07de,_0x2a9788,_0x39d5a8,_0x5ab243,_0x528bc6,_0x359a5c,_0xc57f19,_0xe9c4f2]=jm['data'];let _0x2eb73d,_0x5c6649,_0x3c4041;for(let _0x576b4e=0x14d4*0x1+-0x79+-0x243*0x9;_0x576b4e<_0x2e1f3a;_0x576b4e+=_0x605383['numCompone'+'nts'])_0x2eb73d=_0x1704d6[_0x576b4e],_0x5c6649=_0x1704d6[_0x576b4e+(-0x1209*0x1+0x11c*0x11+-0xd2)],_0x3c4041=_0x1704d6[_0x576b4e+(-0x2*-0x73c+0x1*-0x1313+0x49d)],_0x1704d6[_0x576b4e]=_0x2eb73d*_0x926266+_0x5c6649*_0x39d5a8+_0x3c4041*_0x359a5c,_0x1704d6[_0x576b4e+(-0x48a+-0x1876+-0xf*-0x1ef)]=_0x2eb73d*_0x1d07de+_0x5c6649*_0x5ab243+_0x3c4041*_0xc57f19,_0x1704d6[_0x576b4e+(-0x1*0x56d+-0xcf1+0x1260)]=_0x2eb73d*_0x2a9788+_0x5c6649*_0x528bc6+_0x3c4041*_0xe9c4f2;}}}}if(_0x3e28c1){_0x605383=_0x44a64b[qt];for(let _0x5538b8=-0xd*0x158+0xbaa+0x5ce*0x1;_0x5538b8<_0x2720ee;_0x5538b8++)_0x605383['buffer'][_0x605383['count']++]=_0x4d4284;}if(_0x617634['primitive'][-0x5*0x7c5+0x2*-0x1202+0x4add]['indexed']){_0x28e68b=_0x617634['primitive'][-0x1*0x1575+0xb90+0x9e5]['base'],_0xe6634b=_0x617634['primitive'][0x2*0x2f0+0x5*0xd3+-0x9ff]['count'];const _0x1d9332=_0x617634['indexBuffe'+'r'][0xc0b+-0x57*-0x45+0x76*-0x4d]['getFormat']();_0x36abf6=new Lh[_0x1d9332](_0x617634['indexBuffe'+'r'][-0x166*0x3+0x107e+0xc4c*-0x1]['storage']);}else{const _0xd51b82=_0x617634['primitive'][0x1f69+0x2*-0x78e+-0x3*0x56f]['type'];if(_0xd51b82===Yr||_0xd51b82===ar){if(_0x617634['primitive'][0x1511+0x1*0xe7a+-0x238b]['count']===-0x12e7+-0x184+0x146f*0x1)_0x28e68b=-0x867*-0x3+-0x3*0xb0f+0xf*0x88,_0xe6634b=0x1783+-0x7*0x35+-0x160a,_0x36abf6=_0xd51b82===Yr?lC:hC;else{_0xe6634b=-0x37*-0xf+0x1948+-0x1c81;continue;}}}for(let _0x4601f6=0x5d5*0x5+-0x253d*-0x1+-0xb11*0x6;_0x4601f6<_0xe6634b;_0x4601f6++)_0x59bc90[_0x4601f6+_0x56a001]=_0x36abf6[_0x28e68b+_0x4601f6]+_0x561f9a;_0x56a001+=_0xe6634b,_0x561f9a+=_0x2720ee;}_0x617634=new Ie(this['device']);for(_0x48ddf2 in _0x44a64b)_0x605383=_0x44a64b[_0x48ddf2],_0x617634['setVertexS'+'tream'](_0x48ddf2,_0x605383['buffer'],_0x605383['numCompone'+'nts'],void(0x130e+0x181d+-0x101*0x2b),_0x605383['dataType'],_0x605383['normalize']);_0x59bc90['length']>0x143e+-0x1f*0x57+-0x9b5&&_0x617634['setIndices'](_0x59bc90),_0x617634['update'](Ms,!(0x129e*0x1+0x445*-0x3+-0x5ce*0x1)),_0x3e28c1&&(_0x61d396=_0x61d396['clone'](),_0x61d396['update']());const _0x4c2298=new Le(_0x617634,_0x61d396,this['rootNode']);_0x4c2298['castShadow']=_0x3c0c13['origMeshIn'+'stances'][-0xb*0x1f6+0x691+0xf01]['castShadow'],_0x4c2298['parameters']=_0x3c0c13['origMeshIn'+'stances'][-0x1*0x136b+-0x12e9+0x2654*0x1]['parameters'],_0x4c2298['layer']=_0x3c0c13['origMeshIn'+'stances'][-0x17*-0x109+0x6*-0x417+0xbb*0x1]['layer'],_0x4c2298['_shaderDef'+'s']=_0x3c0c13['origMeshIn'+'stances'][0x107b*0x2+0x741*-0x1+-0x19b5*0x1]['_shaderDef'+'s'],_0x4c2298['batching']=!(0x178c+0x1960+-0x30ec),_0x4c2298['cull']=_0x3c0c13['origMeshIn'+'stances'][0xb3*0x35+-0x194b+-0xbc4]['cull'];const _0x8fa3bf=this['_batchGrou'+'ps'][_0x4baaf6];if(_0x8fa3bf&&_0x8fa3bf['_ui']&&(_0x4c2298['cull']=!(0x1a0*0x13+-0x5b8+-0x1927)),_0x3e28c1){const _0x2a0fa2=[];for(let _0x11a0de=0x3f7*-0x2+0x15*-0x2e+-0x7*-0x1ac;_0x11a0de<_0x3c0c13['origMeshIn'+'stances']['length'];_0x11a0de++)_0x2a0fa2['push'](_0x3c0c13['origMeshIn'+'stances'][_0x11a0de]['node']);_0x4c2298['skinInstan'+'ce']=new Vm(this['device'],_0x2a0fa2,this['rootNode']);}_0x4c2298['_updateAab'+'b']=!(0x1*0xb76+-0x12bd+0x2*0x3a4),_0x4c2298['drawOrder']=_0x3c0c13['origMeshIn'+'stances'][-0x1e8b*0x1+-0x1d1e+0x3ba9]['drawOrder'],_0x4c2298['stencilFro'+'nt']=_0x3c0c13['origMeshIn'+'stances'][0x75*0x21+-0x26f1+0x17dc]['stencilFro'+'nt'],_0x4c2298['stencilBac'+'k']=_0x3c0c13['origMeshIn'+'stances'][-0x15fe+-0x26f5+-0x8b5*-0x7]['stencilBac'+'k'],_0x4c2298['flipFacesF'+'actor']=Sd(_0x3c0c13['origMeshIn'+'stances'][-0xa7*0x3+0x1f24+0x1f*-0xf1]),_0x4c2298['castShadow']=_0x3c0c13['origMeshIn'+'stances'][-0x1198+-0x22d*-0x3+0xb11]['castShadow'],_0x3c0c13['meshInstan'+'ce']=_0x4c2298,_0x3c0c13['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x4418a6,_0x3c0c13;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>-0xb7e+-0xed4*0x2+0x1ca*0x17&&this['generate'](this['_dirtyGrou'+'ps']);const _0x4fcbc0=ne();for(let _0x2a4faa=0xc5*0xa+0x232c+-0x725*0x6;_0x2a4faa<this['_batchList']['length'];_0x2a4faa++)this['_batchList'][_0x2a4faa]['dynamic']&&this['_batchList'][_0x2a4faa]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x4fcbc0;}['clone'](_0x2f5b48,_0x2a551e){const _0x20c81c=new zm(_0x2a551e,_0x2f5b48['dynamic'],_0x2f5b48['batchGroup'+'Id']);this['_batchList']['push'](_0x20c81c);const _0x2a6d03=[];for(let _0x14b49f=0x41b+-0x1c5d+0x1842;_0x14b49f<_0x2a551e['length'];_0x14b49f++)_0x2a6d03['push'](_0x2a551e[_0x14b49f]['node']);return _0x20c81c['meshInstan'+'ce']=new Le(_0x2f5b48['meshInstan'+'ce']['mesh'],_0x2f5b48['meshInstan'+'ce']['material'],_0x2f5b48['meshInstan'+'ce']['node']),_0x20c81c['meshInstan'+'ce']['_updateAab'+'b']=!(-0xa9*0x1+-0x229f+-0x3*-0xbc3),_0x20c81c['meshInstan'+'ce']['parameters']=_0x2a551e[-0x1*-0x119f+-0x21b2+0x5*0x337]['parameters'],_0x20c81c['meshInstan'+'ce']['cull']=_0x2a551e[0xb5*-0x18+0xc44+0x4b4]['cull'],_0x20c81c['meshInstan'+'ce']['layer']=_0x2a551e[-0x1036+0x21c5+-0x9b*0x1d]['layer'],_0x2f5b48['dynamic']&&(_0x20c81c['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x2a6d03,this['rootNode'])),_0x20c81c['meshInstan'+'ce']['castShadow']=_0x2f5b48['meshInstan'+'ce']['castShadow'],_0x20c81c;}['destroyBat'+'ch'](_0x37f07d){_0x37f07d['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x37f07d['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x431c00,_0x103c4b,_0x3db8a0){if((_0x431c00==null?void(0x287*0x1+0x71b+-0x3*0x336):_0x431c00['colorBuffe'+'r']['format'])!==_0x3db8a0)return!(-0x1606+0xc61+0x9a5);const _0x3eec2a=(_0x103c4b==null?void(-0xaef+0x1f66+-0x1477):_0x103c4b['width'])||this['device']['width'],_0x26b217=(_0x103c4b==null?void(0x4ea*0x1+-0x181d+0x5*0x3d7):_0x103c4b['height'])||this['device']['height'];return!_0x431c00||_0x3eec2a!==_0x431c00['width']||_0x26b217!==_0x431c00['height'];}['allocateRe'+'nderTarget'](_0x17e6b9,_0x727be3,_0x59444b,_0x3dc3c9){const _0x495fd5=new he(_0x59444b,{'name':Km,'format':_0x3dc3c9,'width':_0x727be3?_0x727be3['colorBuffe'+'r']['width']:_0x59444b['width'],'height':_0x727be3?_0x727be3['colorBuffe'+'r']['height']:_0x59444b['height'],'mipmaps':!(-0x8e3+-0x684*-0x1+0x25f),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x17e6b9?(_0x17e6b9['destroyFra'+'meBuffers'](),_0x17e6b9['_colorBuff'+'er']=_0x495fd5,_0x17e6b9['_colorBuff'+'ers']=[_0x495fd5]):_0x17e6b9=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x495fd5,'depth':!(-0x1ec1+0x2615*-0x1+0x44d7),'stencil':!(-0x1107+0x985*-0x1+0x1a8d),'autoResolve':!(0xbce+0x1*-0x1009+-0x2*-0x21e)}),_0x17e6b9;}['releaseRen'+'derTarget'](_0x5a8c05){_0x5a8c05&&(_0x5a8c05['destroyTex'+'tureBuffer'+'s'](),_0x5a8c05['destroy']());}['frameUpdat'+'e'](){const _0x2dad0d=this['device'],_0xb32b4f=this['source'],_0x15a525=(_0xb32b4f==null?void(0x11a7*0x1+-0x164a+0x4a3):_0xb32b4f['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0xb32b4f==null?void(0x1172+0x1531+-0x26a3):_0xb32b4f['colorBuffe'+'r'],_0x15a525)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0xb32b4f,_0x2dad0d,_0x15a525));const _0x458af9=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x2dad0d['scope']['resolve'](Km)['setValue'](_0x458af9);}['execute'](){const _0x469f87=this['device'];G['pushGpuMar'+'ker'](_0x469f87,'GRAB-COLOR');const _0x57049f=this['source'],_0x175181=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x469f87['isWebGPU']?(_0x469f87['copyRender'+'Target'](_0x57049f,this['colorRende'+'rTarget'],!(-0x24f1*-0x1+-0x4b5+0x80f*-0x4),!(0xb4e*0x1+0x22cf+-0xe3*0x34)),_0x469f87['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x469f87['copyRender'+'Target'](_0x57049f,this['colorRende'+'rTarget'],!(-0x22a7+-0xe48+0x30ef),!(0x3e6*0x4+0x120+0x185*-0xb)),_0x469f87['activeText'+'ure'](_0x469f87['maxCombine'+'dTextures']-(0x1f22+0x16d3+-0x35f4)),_0x469f87['bindTextur'+'e'](_0x175181),_0x469f87['gl']['generateMi'+'pmap'](_0x175181['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x469f87);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0x4063ea,_0x1973cb){super(_0x4063ea),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x1973cb;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x518735,_0xe24254){const _0x7ac62=(_0xe24254==null?void(-0x815+-0xa22+0x1237*0x1):_0xe24254['width'])||this['device']['width'],_0x5c8022=(_0xe24254==null?void(-0xc07+-0x4*0x9ac+0x32b7):_0xe24254['height'])||this['device']['height'];return!_0x518735||_0x7ac62!==_0x518735['width']||_0x5c8022!==_0x518735['height'];}['allocateRe'+'nderTarget'](_0x426202,_0x1d51d0,_0x3bf91c,_0x485995,_0x1f2f67){const _0x39edda=new he(_0x3bf91c,{'name':Zm,'format':_0x485995,'width':_0x1d51d0?_0x1d51d0['colorBuffe'+'r']['width']:_0x3bf91c['width'],'height':_0x1d51d0?_0x1d51d0['colorBuffe'+'r']['height']:_0x3bf91c['height'],'mipmaps':!(0x19ce*0x1+-0x5a7*-0x5+0x28*-0x15a),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x426202?(_0x426202['destroyFra'+'meBuffers'](),_0x1f2f67?_0x426202['_depthBuff'+'er']=_0x39edda:(_0x426202['_colorBuff'+'er']=_0x39edda,_0x426202['_colorBuff'+'ers']=[_0x39edda])):_0x426202=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x1f2f67?null:_0x39edda,'depthBuffer':_0x1f2f67?_0x39edda:null,'depth':!_0x1f2f67,'stencil':_0x3bf91c['supportsSt'+'encil'],'autoResolve':!(0x1*-0x8d4+0x669*0x1+0x26c)}),_0x426202;}['releaseRen'+'derTarget'](_0x4e0730){_0x4e0730&&(_0x4e0730['destroyTex'+'tureBuffer'+'s'](),_0x4e0730['destroy']());}['before'](){var _0x6e9e4,_0x2d7e70;const _0x16149c=this['camera'],_0x542aa6=this['device'],_0xf60f59=(_0x16149c==null?void(0x26e1+0xbdd+-0x32be):_0x16149c['renderTarg'+'et'])??_0x542aa6['backBuffer'];let _0x3cf0a2=!(-0xd*0x1f+0x260*-0x10+0x2793),_0x5c9ef8=_0xf60f59['stencil']?vc:Ci;_0x542aa6['isWebGPU']&&_0xf60f59['samples']>-0x21ae+0x259e+-0x3ef&&(_0x5c9ef8=Ii,_0x3cf0a2=!(0xd*-0xd4+0x2*0xaf1+0x5*-0x239));const _0x1e8ce2=((_0x6e9e4=_0x16149c['renderTarg'+'et'])==null?void(0x14*0xbe+0x209*-0xb+0x78b*0x1):_0x6e9e4['depthBuffe'+'r'])??((_0x2d7e70=_0x16149c['renderTarg'+'et'])==null?void(-0xb0b+-0xe44+0x194f):_0x2d7e70['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x1e8ce2)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x16149c['renderTarg'+'et'],_0x542aa6,_0x5c9ef8,_0x3cf0a2));const _0x30c3a8=_0x3cf0a2?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x542aa6['scope']['resolve'](Zm)['setValue'](_0x30c3a8);}['execute'](){const _0x4e786a=this['device'];if(G['pushGpuMar'+'ker'](_0x4e786a,'GRAB-DEPTH'),_0x4e786a['isWebGL2']&&_0x4e786a['renderTarg'+'et']['samples']>-0x11*0x187+-0xbf6*0x1+0x25ee){const _0x6d98af=_0x4e786a['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x5c5f19=this['depthRende'+'rTarget'];_0x4e786a['renderTarg'+'et']=_0x5c5f19,_0x4e786a['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x4e786a,_0x6d98af,_0x5c5f19['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x4e786a['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x4e786a['copyRender'+'Target'](_0x4e786a['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0xb49+0x78+0xad2),!(-0x527*0x1+-0x7fa+-0xd21*-0x1));G['popGpuMark'+'er'](_0x4e786a);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(-0x142+-0x153*0x17+0xe8*0x23)),c(this,'_ssaoEnabl'+'ed',!(-0x92f+-0x11f8+0x2c*0x9e)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(0xe5b+0x21bf+-0x1*0x3019)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(0x1*0xbba+-0x2*-0x648+-0x184a));}get['hash'](){if(this['_hash']===void(0x1*-0xea9+0x1218+-0x36f*0x1)){const _0x565ee9=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x565ee9);}return this['_hash'];}get['defines'](){const _0x17edcd=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x1*-0xeff+-0x2*-0xe86+-0x2c0a*0x1),_0x17edcd['clear'](),this['_sceneDept'+'hMapLinear']&&_0x17edcd['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x1ca+-0x56*-0x3a+-0x11b2)),_0x17edcd['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x17edcd['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x17edcd['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x17edcd;}['markDirty'](){this['_hash']=void(0xbe1*0x2+0x4*0x1d2+-0x1f0a),this['_definesDi'+'rty']=!(0x15e1+-0x10f7*-0x1+-0x1*0x26d8);}set['fog'](_0x5cb61a){this['_fog']!==_0x5cb61a&&(this['_fog']=_0x5cb61a,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x1f2a58){this['_ssaoEnabl'+'ed']!==_0x1f2a58&&(this['_ssaoEnabl'+'ed']=_0x1f2a58,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x1e216c){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x12ac+0x4f1+0xdbb),this['_gammaCorr'+'ection']!==_0x1e216c&&(this['_gammaCorr'+'ection']=_0x1e216c,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x345433){this['_toneMappi'+'ng']!==_0x345433&&(this['_toneMappi'+'ng']=_0x345433,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x253d57){this['_srgbRende'+'rTarget']!==_0x253d57&&(this['_srgbRende'+'rTarget']=_0x253d57,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x5c7793){this['_sceneDept'+'hMapLinear']!==_0x5c7793&&(this['_sceneDept'+'hMapLinear']=_0x5c7793,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),Wa=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',0x1228*-0x2+-0x8bc+-0x174*-0x1f),(this['_aspectRat'+'io']=(0x95*-0x21+0xe18*0x1+0x52d)/(-0x75b+0xa2d*-0x2+0x1bbe),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(-0x1*0x13e7+0x11*-0xab+0x1f42*0x1+0.75,0x2407+-0x63a*-0x6+-0x4963+0.75,-0x1cbc+-0x1d8a+0x3a46+0.75,0x9*0xcb+-0x1*-0x2a1+-0x3*0x341),this['_clearColo'+'rBuffer']=!(0x1c16+0xb*0x203+0x1*-0x3237),this['_clearDept'+'h']=-0x17*0xc7+0x18c6+-0xc4*0x9,this['_clearDept'+'hBuffer']=!(-0x1c48+0x559+-0x67*-0x39),this['_clearSten'+'cil']=-0x384+0xad0+0x74c*-0x1,this['_clearSten'+'cilBuffer']=!(0x1*0xd8b+0x896+-0x1621),this['_cullFaces']=!(-0x1e3c+-0x45d*0x5+0xd*0x401),this['_farClip']=0x1267+-0x76+-0xe09,this['_flipFaces']=!(-0x2190+0x159f+0xbf2),this['_fov']=-0x1*0x26c4+-0x1881*0x1+-0x1fb9*-0x2,this['_frustumCu'+'lling']=!(-0x14b6+0x7*-0x41b+0x3173*0x1),this['_horizonta'+'lFov']=!(-0x5e0+0x2173+-0x1b92*0x1),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0x16a1+0x35*0x91+-0x2b*0x2c+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x459*-0x8+-0x1a1*-0x9+0xd*0x18d,this['_projectio'+'n']=Gs,this['_rect']=new Q(0x224d+0xad*0x11+0x2dca*-0x1,0x1bb*0xb+0x33a*-0x7+-0x65*-0x9,-0x24fd+0x14af+0x104f,0x1601+-0x9fd+-0xc03),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(-0x12a2+-0x6a*-0x58+-0x11ce*0x1,0x7*-0x1e+-0x2397+0x1*0x2469,0xd46+-0x1*0xbcb+-0x17a,-0x203b+-0x911+-0x61*-0x6d),this['_scissorRe'+'ctClear']=!(0x5e3*0x3+0x7c2*0x1+-0x196a),this['_aperture']=0x2b+-0x34d+0x332,this['_shutter']=(-0x26bd*0x1+0x1d17+0x9a7)/(-0xedc+0x1ba3+-0x8df),this['_sensitivi'+'ty']=0x830+-0x917+0x1*0x4cf,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0x428+0x5*-0x63b+0x234f),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(0x1358+0x13f*-0x7+-0xa9f),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(0x6b0*-0x2+-0x4ad+0x1*0x120d),this['_shaderMat'+'ricesVersi'+'on']=0xd1d*0x2+0xcdc+-0x1*0x2716,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[0xe67+0x1e1c+-0x2c83,-0x1*-0x18c3+0x10d*-0x1+-0x17b6,0x3*-0x94f+-0x119+-0x1*-0x1d06,0x5*-0x6aa+0x166f+0xae3],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x2dc467,_0x3fa8c6;(_0x2dc467=this['renderPass'+'ColorGrab'])==null||_0x2dc467['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x3fa8c6=this['renderPass'+'DepthGrab'])==null||_0x3fa8c6['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0xe9e*0x1+-0x1*-0x1ed3+0x3*-0x567;}['_storeShad'+'erMatrices'](_0x11616c,_0x4c8bea,_0x3f76c6,_0x3466c3){this['_shaderMat'+'ricesVersi'+'on']!==_0x3466c3&&(this['_shaderMat'+'ricesVersi'+'on']=_0x3466c3,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x11616c),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x11616c),this['_viewProjI'+'nverse']['invert'](_0x11616c),this['_jitters'][0xf*-0x23d+0x1*0x1cb2+0x4e3]=this['_jitters'][-0x151c+-0x1254+0x2770],this['_jitters'][0x4*-0x8a9+0x12c1+-0x5*-0x32e]=this['_jitters'][-0x11af+-0x1a66*0x1+0x2c16],this['_jitters'][0xed4+-0x122b*-0x1+-0x20ff*0x1]=_0x4c8bea,this['_jitters'][0x43b+-0x247+-0x1f3]=_0x3f76c6);}get['fullSizeCl'+'earRect'](){const _0x3428c4=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x3428c4['x']===0x21a4+-0x3d6*-0x3+-0x1693*0x2&&_0x3428c4['y']===0xe57*0x2+-0x1237*-0x2+0x15b4*-0x3&&_0x3428c4['z']===-0x1157+0x1633+-0x4db&&_0x3428c4['w']===0x21bb+0x1*0x5c9+-0x2783;}set['aspectRati'+'o'](_0x4b2d6f){this['_aspectRat'+'io']!==_0x4b2d6f&&(this['_aspectRat'+'io']=_0x4b2d6f,this['_projMatDi'+'rty']=!(0x43a*-0x8+0x47*-0x2+-0x35*-0xa6));}get['aspectRati'+'o'](){var _0x3bd2d7;return(_0x3bd2d7=this['xr'])!=null&&_0x3bd2d7['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x5caec5){this['_aspectRat'+'ioMode']!==_0x5caec5&&(this['_aspectRat'+'ioMode']=_0x5caec5,this['_projMatDi'+'rty']=!(0x11cb+-0x170+-0x105b));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x4dc38e){this['_calculate'+'Projection']=_0x4dc38e,this['_projMatDi'+'rty']=!(-0xa5c+-0xcf9+-0x21f*-0xb);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x3357e3){this['_calculate'+'Transform']=_0x3357e3;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x4a27a6){this['_clearColo'+'r']['copy'](_0x4a27a6);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x16f5f6){this['_clearColo'+'rBuffer']=_0x16f5f6;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x210ba9){this['_clearDept'+'h']=_0x210ba9;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x1a0df7){this['_clearDept'+'hBuffer']=_0x1a0df7;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x16ba89){this['_clearSten'+'cil']=_0x16ba89;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x43bc7f){this['_clearSten'+'cilBuffer']=_0x43bc7f;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x461803){this['_cullFaces']=_0x461803;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x1032a3){this['_farClip']!==_0x1032a3&&(this['_farClip']=_0x1032a3,this['_projMatDi'+'rty']=!(0x116e+-0x3*0xc80+-0x2*-0xa09));}get['farClip'](){var _0x4a8e7d;return(_0x4a8e7d=this['xr'])!=null&&_0x4a8e7d['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x335874){this['_flipFaces']=_0x335874;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x2e912f){this['_fov']!==_0x2e912f&&(this['_fov']=_0x2e912f,this['_projMatDi'+'rty']=!(0x20cc+-0xc23+-0x14a9));}get['fov'](){var _0x159039;return(_0x159039=this['xr'])!=null&&_0x159039['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0xd739a7){this['_frustumCu'+'lling']=_0xd739a7;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x324a9c){this['_horizonta'+'lFov']!==_0x324a9c&&(this['_horizonta'+'lFov']=_0x324a9c,this['_projMatDi'+'rty']=!(-0x152+0x6*0x535+-0x1dec));}get['horizontal'+'Fov'](){var _0xd9c42a;return(_0xd9c42a=this['xr'])!=null&&_0xd9c42a['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x45f683){this['_layers']=_0x45f683['slice'](0x14b3+0x734*0x1+-0x1*0x1be7),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x3e472f){this['_nearClip']!==_0x3e472f&&(this['_nearClip']=_0x3e472f,this['_projMatDi'+'rty']=!(0x1a80+0x365*-0x3+-0x1051));}get['nearClip'](){var _0x1a5387;return(_0x1a5387=this['xr'])!=null&&_0x1a5387['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x426b89){this['_node']=_0x426b89;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x23fcaa){this['_orthoHeig'+'ht']!==_0x23fcaa&&(this['_orthoHeig'+'ht']=_0x23fcaa,this['_projMatDi'+'rty']=!(-0x4f*0x15+0x27*0xd+0x480));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x5ee688){this['_projectio'+'n']!==_0x5ee688&&(this['_projectio'+'n']=_0x5ee688,this['_projMatDi'+'rty']=!(0x14a0+0x1a56+0x2ef6*-0x1));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x25d827){this['_rect']['copy'](_0x25d827);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x320a7a){this['_renderTar'+'get']=_0x320a7a;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x29f681){this['_scissorRe'+'ct']['copy'](_0x29f681);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x3cab11=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x3cab11)['invert'](),this['_viewMatDi'+'rty']=!(-0x1255+-0x1*-0x15eb+-0x1*0x395);}return this['_viewMat'];}set['aperture'](_0xdb9cc1){this['_aperture']=_0xdb9cc1;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x65b313){this['_sensitivi'+'ty']=_0x65b313;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x59fed5){this['_shutter']=_0x59fed5;}get['shutter'](){return this['_shutter'];}set['xr'](_0x4178c4){this['_xr']!==_0x4178c4&&(this['_xr']=_0x4178c4,this['_projMatDi'+'rty']=!(0x1e93+0x520+0xd*-0x2bf));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x127c5c){return this['_aspectRat'+'io']=_0x127c5c['_aspectRat'+'io'],this['_farClip']=_0x127c5c['_farClip'],this['_fov']=_0x127c5c['_fov'],this['_horizonta'+'lFov']=_0x127c5c['_horizonta'+'lFov'],this['_nearClip']=_0x127c5c['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x127c5c['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x127c5c['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x127c5c['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x127c5c['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x127c5c['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x127c5c['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x127c5c['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x127c5c['calculateT'+'ransform'],this['clearColor']=_0x127c5c['clearColor'],this['clearColor'+'Buffer']=_0x127c5c['clearColor'+'Buffer'],this['clearDepth']=_0x127c5c['clearDepth'],this['clearDepth'+'Buffer']=_0x127c5c['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x127c5c['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x127c5c['clearStenc'+'ilBuffer'],this['cullFaces']=_0x127c5c['cullFaces'],this['flipFaces']=_0x127c5c['flipFaces'],this['frustumCul'+'ling']=_0x127c5c['frustumCul'+'ling'],this['layers']=_0x127c5c['layers'],this['orthoHeigh'+'t']=_0x127c5c['orthoHeigh'+'t'],this['projection']=_0x127c5c['projection'],this['rect']=_0x127c5c['rect'],this['renderTarg'+'et']=_0x127c5c['renderTarg'+'et'],this['scissorRec'+'t']=_0x127c5c['scissorRec'+'t'],this['aperture']=_0x127c5c['aperture'],this['shutter']=_0x127c5c['shutter'],this['sensitivit'+'y']=_0x127c5c['sensitivit'+'y'],this['shaderPass'+'Info']=_0x127c5c['shaderPass'+'Info'],this['jitter']=_0x127c5c['jitter'],this['_projMatDi'+'rty']=!(-0xe54+-0x2414+-0x1934*-0x2),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x2872a1,_0x51e6cb){var _0x315ee9;_0x51e6cb?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x2872a1)):((_0x315ee9=this['renderPass'+'ColorGrab'])==null||_0x315ee9['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x103036,_0x348d0a,_0x13ccde){var _0x484ea3;_0x13ccde?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0x103036,this)):((_0x484ea3=this['renderPass'+'DepthGrab'])==null||_0x484ea3['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0xf53*0x1+0x3f*-0x12+0x13c2));}['worldToScr'+'een'](_0x22a29c,_0x4cce23,_0x240cb2,_0x466764=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x22a29c,_0x466764);const _0x445b03=this['_viewProjM'+'at']['data'],_0x31ae1f=_0x22a29c['x']*_0x445b03[0x346*0x4+0x1*0x1a69+0xf*-0x2a2]+_0x22a29c['y']*_0x445b03[-0x1*0xa97+0x1958+0x75d*-0x2]+_0x22a29c['z']*_0x445b03[0x17b6+0x2681*0x1+0x5c*-0xad]+(0xf4*-0x1+0x1dca+-0x1cd5)*_0x445b03[-0x1*-0xff7+-0xaa1*-0x3+-0x2fcb];return _0x466764['x']=(_0x466764['x']/_0x31ae1f+(-0x67a*-0x3+0x5b*0x1d+-0x1dbc))*(-0x2042+-0x1*0x3b3+0x23f5+0.5)*_0x4cce23,_0x466764['y']=(0x403+-0x43*-0x1c+0xb56*-0x1-_0x466764['y']/_0x31ae1f)*(0x2*-0x7b3+0x10*0x1d+0xd96+0.5)*_0x240cb2,_0x466764;}['screenToWo'+'rld'](_0x45fe85,_0x45ea5c,_0x264e5f,_0x35106d,_0x943401,_0x3054e1=new T()){const _0x125d05=this['farClip']-this['nearClip'];if(En['set'](_0x45fe85/_0x35106d,(_0x943401-_0x45ea5c)/_0x943401,_0x264e5f/_0x125d05),En['mulScalar'](-0x381+-0x314+0xf1*0x7),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize'](Wa,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),Wa['x']*=En['x'],Wa['y']*=En['y'];const _0x25dbe8=this['_node']['getWorldTr'+'ansform']();Wa['z']=-this['nearClip'],_0x25dbe8['transformP'+'oint'](Wa,Qm);const _0x110c4a=this['_node']['getPositio'+'n']();_0x3054e1['sub2'](Qm,_0x110c4a),_0x3054e1['normalize'](),_0x3054e1['mulScalar'](_0x264e5f),_0x3054e1['add'](_0x110c4a);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x3054e1);return _0x3054e1;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x300057=this['_orthoHeig'+'ht'],_0x125d43=_0x300057*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x125d43,_0x125d43,-_0x300057,_0x300057,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x26ba+-0x1edc+0xdeb*0x5);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x4b2be9=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x241*-0x11+0x1852+-0x3e3f*0x1)/this['_sensitivi'+'ty']);return(-0x1e*0x1+-0x12a+0x149)/(Math['pow'](-0x9b4+0x1*0x155f+0x5*-0x255,_0x4b2be9)*(-0x15fe*-0x1+0x155*0x11+-0x2ca2+0.19999999999999996));}['getScreenS'+'ize'](_0x39f067){if(this['_projectio'+'n']===Gs){const _0x15efbd=this['_node']['getPositio'+'n']()['distance'](_0x39f067['center']);if(_0x15efbd<_0x39f067['radius'])return-0x1*-0x4ed+0x1f2a+-0x2416;const _0x1dcd06=Math['asin'](_0x39f067['radius']/_0x15efbd),_0x535f47=Math['tan'](_0x1dcd06),_0x471028=Math['tan'](this['fov']/(0x2407+0x1667+0x1*-0x3a6c)*N['DEG_TO_RAD']);return Math['min'](_0x535f47/_0x471028,0xe65*-0x1+-0xba8+0xe6*0x1d);}return N['clamp'](_0x39f067['radius']/this['_orthoHeig'+'ht'],0x1*0x3a1+-0x5*0x2bb+0x2*0x503,-0x3d6+-0x970+-0x46d*-0x3);}['getFrustum'+'Corners'](_0x3755e8=this['nearClip'],_0x305c66=this['farClip']){const _0x24a207=this['fov']*Math['PI']/(0x1ceb+-0x11*-0x33+-0x1f9a);let _0x510df3,_0x48cea2;this['projection']===Gs?this['horizontal'+'Fov']?(_0x510df3=_0x3755e8*Math['tan'](_0x24a207/(0x95*0x41+-0xe9*0x13+-0x48*0x49)),_0x48cea2=_0x510df3/this['aspectRati'+'o']):(_0x48cea2=_0x3755e8*Math['tan'](_0x24a207/(-0x1e44+0x1197+0xcaf)),_0x510df3=_0x48cea2*this['aspectRati'+'o']):(_0x48cea2=this['_orthoHeig'+'ht'],_0x510df3=_0x48cea2*this['aspectRati'+'o']);const _0x5bbc8c=pC;return _0x5bbc8c[0x7ea*-0x3+-0xe36*0x1+0x25f4]['x']=_0x510df3,_0x5bbc8c[-0x2686+-0x1267+0x38ed]['y']=-_0x48cea2,_0x5bbc8c[-0x1d01+-0x1684+0x3385]['z']=-_0x3755e8,_0x5bbc8c[-0x37*0x9e+-0x1f72+-0x1*-0x4165]['x']=_0x510df3,_0x5bbc8c[-0x1*-0x7b3+-0x1*0x474+-0x53*0xa]['y']=_0x48cea2,_0x5bbc8c[0x110+-0x3a*0x73+-0x3*-0x855]['z']=-_0x3755e8,_0x5bbc8c[-0xbf7*-0x1+-0x6e5*0x1+-0x24*0x24]['x']=-_0x510df3,_0x5bbc8c[0xc*-0x3c+-0x917*-0x1+0x141*-0x5]['y']=_0x48cea2,_0x5bbc8c[0xdbe+0xde3+-0x3*0x935]['z']=-_0x3755e8,_0x5bbc8c[0x66b+-0x1*-0x13d7+-0x1a3f]['x']=-_0x510df3,_0x5bbc8c[-0x319+-0x274*-0x1+0xa8]['y']=-_0x48cea2,_0x5bbc8c[0xd*0x10d+-0x137c+0x5d6]['z']=-_0x3755e8,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x510df3=_0x305c66*Math['tan'](_0x24a207/(0x10e3+0x54*-0x6b+0x167*0xd)),_0x48cea2=_0x510df3/this['aspectRati'+'o']):(_0x48cea2=_0x305c66*Math['tan'](_0x24a207/(-0x2629+-0xe00+0x342b)),_0x510df3=_0x48cea2*this['aspectRati'+'o'])),_0x5bbc8c[0x2*0x3ad+-0x4ed*0x4+0xc5e]['x']=_0x510df3,_0x5bbc8c[0xf74+0x1242+-0x1*0x21b2]['y']=-_0x48cea2,_0x5bbc8c[-0x1c22+0x15b3+0x673]['z']=-_0x305c66,_0x5bbc8c[-0x18d0+-0x18e5+0x31ba*0x1]['x']=_0x510df3,_0x5bbc8c[0x11*0x126+-0x1*-0xc31+0x2*-0xfd9]['y']=_0x48cea2,_0x5bbc8c[-0xf7b+-0xa69+0x21*0xc9]['z']=-_0x305c66,_0x5bbc8c[0x416*0x7+-0x1ba9+0x1*-0xeb]['x']=-_0x510df3,_0x5bbc8c[0x5d*0x61+0x148+-0x247f*0x1]['y']=_0x48cea2,_0x5bbc8c[-0x1*0x1271+-0x2338+-0x1fd*-0x1b]['z']=-_0x305c66,_0x5bbc8c[0x21c0+0x389*-0x1+-0x1e30]['x']=-_0x510df3,_0x5bbc8c[0x19ac+0x9c8+0xbcf*-0x3]['y']=-_0x48cea2,_0x5bbc8c[0xce3*-0x1+-0xf4a+0x1c34]['z']=-_0x305c66,_0x5bbc8c;}['setXrPrope'+'rties'](_0x5d510c){Object['assign'](this['_xrPropert'+'ies'],_0x5d510c),this['_projMatDi'+'rty']=!(0x24*0x33+0x30*-0xcc+0x1f14);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0x5a85f1,_0x4bab45,_0x263775){const _0x45ab6e=new ol();switch(_0x45ab6e['node']=new De(_0x5a85f1),_0x45ab6e['aspectRati'+'o']=-0x1d01*0x1+-0x153d+0x1*0x323f,_0x45ab6e['aspectRati'+'oMode']=Bu,_0x45ab6e['_scissorRe'+'ctClear']=!(0x5*-0xe5+-0x6b0+0xb29),_0x4bab45){case Pe:_0x45ab6e['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x263775]),_0x45ab6e['fov']=-0x18b2+-0x2301+-0x1*-0x3c0d,_0x45ab6e['projection']=Gs;break;case Re:_0x45ab6e['projection']=Gs;break;case oe:_0x45ab6e['projection']=ua;break;}return _0x45ab6e;}static['evalSpotCo'+'okieMatrix'](_0x1746e2){let _0x38bb80=Qi['_spotCooki'+'eCamera'];_0x38bb80||(_0x38bb80=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x38bb80),_0x38bb80['fov']=_0x1746e2['_outerCone'+'Angle']*(-0x61*0x21+0xb6*0x15+-0x26b);const _0x3627ca=_0x38bb80['_node'];_0x3627ca['setPositio'+'n'](_0x1746e2['_node']['getPositio'+'n']()),_0x3627ca['setRotatio'+'n'](_0x1746e2['_node']['getRotatio'+'n']()),_0x3627ca['rotateLoca'+'l'](-(0x77a+0x14*0x196+-0x26d8),0x68f*-0x1+-0x1c87+0x2316,0x1376+-0xd56+-0x620),e_['setTRS'](_0x3627ca['getPositio'+'n'](),_0x3627ca['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x38bb80['projection'+'Matrix'],e_);const _0x1dfe3b=_0x1746e2['cookieMatr'+'ix'],_0x375f36=_0x1746e2['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x375f36['x'],_0x375f36['y'],_0x375f36['z'],_0x375f36['w']),_0x1dfe3b['mul2'](s_,t_),_0x1dfe3b;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](-0x1*0x121c+0x63*-0x34+0x4*0x98e,0x11*0x1af+-0x1fb1+0x92*0x6,0x1*0x16d3+-0x1144+-0x71*0xb),new se()['setFromEul'+'erAngles'](-0x9f+0x10f+-0x70,-(-0x6a6+0xa39+-0x339),0x1b95+-0x233*0xd+-0x49*-0x6),new se()['setFromEul'+'erAngles'](0x11f5+0x1edd+-0x3078,-0x1*-0x851+-0x2551+-0x1d0*-0x10,0x1*0x7db+0x12a3+-0x1a7e),new se()['setFromEul'+'erAngles'](-(-0x1400+0x1*-0x551+0x19ab),0xc9f*0x1+0x94+-0xd33,0x359+0x10f6+-0x3*0x6c5),new se()['setFromEul'+'erAngles'](0x1ac5+-0x75a+-0x136b,-0x5*-0x374+-0x85*0x2+-0xf86,-0x16bd+0xd*0x1d9+-0x94),new se()['setFromEul'+'erAngles'](-0x1*-0xc47+0xe88+-0x1*0x1acf,0x20be+-0x1fc+0xfe*-0x1f,-0x9f3+0x1*0x1253+0x4*-0x1eb)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=0x18a3+-0xcdd*-0x1+-0x2580+0.000001,Zt=new T(),xr=new Float32Array(-0x1*-0x2559+-0x29f*-0x9+-0x3cea),mC=new T(-(-0x299+-0x1ac6+0x67*0x49+0.5),0x71*-0x4c+-0x17*0x5+0x21ff,0x2109*0x1+0x498+-0x25a1),_C=new T(0x788+0x1*0x26c9+0x2e51*-0x1,-0x1ca*0xa+0x15cf+-0x3eb,-0x1672+0x215d+-0xaeb+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x1e2e29){c(this,'areaLights'+'Enabled',!(-0x649+-0x5a2*0x5+0x2274)),(this['device']=_0x1e2e29,this['cookiesEna'+'bled']=!(0x581*-0x3+-0x1406+-0x6*-0x617),this['shadowsEna'+'bled']=!(-0x21a0+0x191c+0x885),this['areaLights'+'Enabled']=!(-0x11bf*0x2+0x5*0x5e9+0x1*0x5f2),this['maxLights']=-0x1643+-0x110d*-0x1+0x635);const _0x2ae18b=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((0xe*0x18d+0x205e+-0xa*0x568)*_0x2ae18b*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x2ae18b,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x1d99d6=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x5ea+-0x2*0xdd+0x118*0x7)*_0x1d99d6*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x1d99d6,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x3b9*0x1+0xb*0xd5+-0x67*0x20,this['invMaxAtte'+'nuation']=0x1*-0x701+-0x23ce*0x1+0x2acf,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x1b6d78=(_0x461b03,_0x295442)=>Object['keys'](_0x461b03)['map'](_0x275ee6=>'#define\x20'+_0x295442+_0x275ee6+'\x20'+_0x461b03[_0x275ee6])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b6d78(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x1b6d78(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0x3f26a9,_0x13a8bd;(_0x3f26a9=this['lightsText'+'ure8'])==null||_0x3f26a9['destroy'](),this['lightsText'+'ure8']=null,(_0x13a8bd=this['lightsText'+'ureFloat'])==null||_0x13a8bd['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x3afb5c,_0x5017a2,_0x21679b,_0x54208f,_0x485cfd){return new he(_0x3afb5c,{'name':_0x485cfd,'width':_0x5017a2,'height':_0x21679b,'mipmaps':!(0x1*-0x1f49+0x4*-0x61b+0x37b6),'format':_0x54208f,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x3b0fa5,_0xf88589){this['invMaxColo'+'rValue']=(0x1814+0x1749+-0x2f5c)/_0xf88589,this['invMaxAtte'+'nuation']=(-0x2b7*-0xb+-0x39*-0xad+0x185*-0x2d)/_0x3b0fa5;}['setBounds'](_0x45f2af,_0x10ac7d){this['boundsMin']['copy'](_0x45f2af),this['boundsDelt'+'a']['copy'](_0x10ac7d);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0xafb34d,_0x3054a9){_0x3054a9['_node']['getWorldTr'+'ansform']()['getY'](_0xafb34d)['mulScalar'](-(0x1864+0x2*-0x748+-0x1*0x9d3)),_0xafb34d['normalize']();}['getLightAr'+'eaSizes'](_0x260788){const _0x2de9b5=_0x260788['_node']['getWorldTr'+'ansform']();return _0x2de9b5['transformV'+'ector'](mC,Zt),xr[0x6ee+0x25e6+0x2cd4*-0x1]=Zt['x'],xr[0x2272+-0x7*-0x1f6+-0x302b]=Zt['y'],xr[0x1*0xb92+-0x2453*-0x1+-0x2fe3]=Zt['z'],_0x2de9b5['transformV'+'ector'](_C,Zt),xr[-0x48f+0x44*0x1c+-0x16f*0x2]=Zt['x'],xr[-0x12f4+0x1c06+0x13*-0x7a]=Zt['y'],xr[0xd05*-0x1+-0x16b1*0x1+0x23bb]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0x20ce5e,_0x5cc98d,_0x2050ad,_0x4085ea,_0x4b6728,_0x45d2bf){_0x20ce5e[_0x5cc98d+(0x29*-0x4+0x2120+-0x9*0x39c)]=_0x4085ea?-0x2395+-0x2007+0xd*0x547:0x1cc7+-0x172f+-0x598,_0x20ce5e[_0x5cc98d+(0x56f+0x2a9*-0x7+0xd31)]=this['areaLights'+'Enabled']?_0x2050ad['_shape']*(-0x1b11+0x19a1*0x1+0x1b0):0x423*0x6+0x20eb+-0x39bd,_0x20ce5e[_0x5cc98d+(-0x83a+0x1b0d+-0x12d1)]=_0x2050ad['_falloffMo'+'de']*(0x25fb+0x135c+-0x3858),_0x20ce5e[_0x5cc98d+(0xadc+-0x2b*0x30+-0x2c9)]=_0x4b6728?_0x45d2bf*(0x1c6*0x8+0x10d4+0x91*-0x35):0x1*0xbc3+0x17*-0x107+0xbde;}['addLightDa'+'taColor'](_0x3ada78,_0x2e7b69,_0x2f0d6f,_0x16589d){const _0x1b41e0=this['invMaxColo'+'rValue'],_0x27c6b9=_0x2f0d6f['_colorLine'+'ar'];Wt['float2Byte'+'s'](_0x27c6b9[-0x1df9+-0xc7b+0x2a74]*_0x1b41e0,_0x3ada78,_0x2e7b69+(-0x14aa+0x2038+-0xb8e),0x45*0x71+0xe3c+-0x2caf),Wt['float2Byte'+'s'](_0x27c6b9[0xde3+-0x2640+0x185e*0x1]*_0x1b41e0,_0x3ada78,_0x2e7b69+(-0xe35+0xb*-0x2c2+-0x2c8d*-0x1),-0xfc6+-0x141b+0x23e3),Wt['float2Byte'+'s'](_0x27c6b9[-0x17d7+-0xc1*-0x18+0x5c1]*_0x1b41e0,_0x3ada78,_0x2e7b69+(-0x106f+-0x6b*0x53+-0x4*-0xcc9),-0x1d89+-0xa54*-0x2+0x8e3),_0x3ada78[_0x2e7b69+(-0x82*0x1b+-0x7e*-0x22+-0x300)]=_0x16589d?-0x2047+-0x1*0x8c1+-0x173*-0x1d:0x1544+0x14c8+0x12b*-0x24;const _0x43eac9=!!(_0x2f0d6f['mask']&hs),_0x20c063=!!(_0x2f0d6f['mask']&cr);_0x3ada78[_0x2e7b69+(0x1c*-0xca+0x1caa*0x1+-0x19*0x43)]=_0x43eac9&&_0x20c063?-0x14ef+-0x1f34+0x34a2:_0x20c063?-0x39b*-0x3+-0x1*0x204b+0xb*0x20b:0x2*-0x4b7+-0x35e*-0x7+0xb5*-0x14;}['addLightDa'+'taSpotAngl'+'es'](_0x5f51bb,_0x246530,_0x471fd9){Wt['float2Byte'+'s'](_0x471fd9['_innerCone'+'AngleCos']*(0x16f3+0x45f*-0x3+-0x9d6+0.5-i_)+(0x1724+0x11a7+-0xd99*0x3+0.5),_0x5f51bb,_0x246530+(-0x52*-0x44+-0x1393+-0x235),0x212b+-0x1f6f+-0x1ba),Wt['float2Byte'+'s'](_0x471fd9['_outerCone'+'AngleCos']*(-0x291+0x4*-0x669+0x1c35+0.5-i_)+(0x3c2+-0xbf*-0xb+-0xbf7+0.5),_0x5f51bb,_0x246530+(0x1d43+-0x2*0xfe9+-0xdb*-0x3),0xb48+0x20b*-0xb+0xb33);}['addLightDa'+'taShadowBi'+'as'](_0x58a0d6,_0x40f6db,_0x478ef9){const _0x228c5b=_0x478ef9['getRenderD'+'ata'](null,-0x22d*0x7+0x71f*-0x2+0x5*0x5e5),_0x394489=_0x478ef9['_getUnifor'+'mBiasValue'+'s'](_0x228c5b);Wt['float2Byte'+'sRange'](_0x394489['bias'],_0x58a0d6,_0x40f6db,-(-0xeee+-0x15e7+0x24d6),0x155d+-0x11b*-0x1a+-0x3207*0x1,-0x47d*-0x4+0x591+-0x1783),Wt['float2Byte'+'s'](_0x394489['normalBias'],_0x58a0d6,_0x40f6db+(0x19dd+0x1*0x127c+-0x2c57*0x1),-0x14*0x169+0x53*0x31+-0x1*-0xc53);}['addLightDa'+'taCookies'](_0x4b6b8c,_0x4d4f31,_0x2e32ee){const _0x270f38=_0x2e32ee['_cookieCha'+'nnel']==='rgb';if(_0x4b6b8c[_0x4d4f31+(0x13*0x8+-0xdf*0x14+0x10d4)]=Math['floor'](_0x2e32ee['cookieInte'+'nsity']*(0x1e01*-0x1+0x5*-0x599+-0x3afd*-0x1)),_0x4b6b8c[_0x4d4f31+(0x8*0xfe+0x5*-0x593+0x74*0x2c)]=_0x270f38?-0x1c*-0x91+0x1*0xf6+-0xfd3*0x1:-0x12f7+-0x1357*0x1+0x1*0x264e,!_0x270f38){const _0x33d338=_0x2e32ee['_cookieCha'+'nnel'];_0x4b6b8c[_0x4d4f31+(-0x23cc+0x1d16+0x6ba*0x1)]=_0x33d338==='rrr'?-0x1*-0x1bf+-0x1615+0x1555:-0x3*0x9fe+-0x1da8+0x3ba2,_0x4b6b8c[_0x4d4f31+(0x837*-0x1+-0x62*0x2b+0x18b2)]=_0x33d338==='ggg'?0x1366+-0xb70*-0x1+-0x1dd7:-0x10*-0x12e+-0x49b*0x3+-0x50f,_0x4b6b8c[_0x4d4f31+(-0x265e+0x2ce*-0x1+-0x1*-0x2932)]=_0x33d338==='bbb'?-0x53e+0x2fb*0x7+-0xea0:0x2579+-0x1b87+-0x9f2,_0x4b6b8c[_0x4d4f31+(-0x2*-0x3fd+0x2401+-0x2bf4)]=_0x33d338==='aaa'?0x1*0x6b9+-0x13f5+0xe3b:0xdee*0x1+0xbcc+-0x19ba;}}['addLightDa'+'ta'](_0x1b4019,_0x10b66c){const _0x4bb011=_0x1b4019['_type']===Re,_0x34710d=_0x1b4019['atlasViewp'+'ortAllocat'+'ed'],_0x503f8f=this['cookiesEna'+'bled']&&!!_0x1b4019['_cookie']&&_0x34710d,_0x28735f=this['areaLights'+'Enabled']&&_0x1b4019['shape']!==yt,_0x161269=this['shadowsEna'+'bled']&&_0x1b4019['castShadow'+'s']&&_0x34710d,_0xef0bd6=_0x1b4019['_node']['getPositio'+'n']();let _0x1d7bb9=null,_0x53a671=null;_0x4bb011?_0x161269?_0x1d7bb9=_0x1b4019['getRenderD'+'ata'](null,-0x4*-0x4+-0x1*-0x1a2f+0x1*-0x1a3f)['shadowMatr'+'ix']:_0x503f8f&&(_0x1d7bb9=Ma['evalSpotCo'+'okieMatrix'](_0x1b4019)):(_0x161269||_0x503f8f)&&(_0x53a671=_0x1b4019['atlasViewp'+'ort']);const _0x8fcdb8=this['lights8'],_0x366928=_0x10b66c*this['lightsText'+'ure8']['width']*(0x3*-0x501+-0x4*-0x566+-0x691);this['addLightDa'+'taFlags'](_0x8fcdb8,_0x366928+(-0x14db+0xdd5+-0x11*-0x6a)*Sr['FLAGS'],_0x1b4019,_0x4bb011,_0x161269,_0x1b4019['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x8fcdb8,_0x366928+(-0x1e10*0x1+-0x195b*0x1+-0x376f*-0x1)*Sr['COLOR_A'],_0x1b4019,_0x503f8f),_0x4bb011&&this['addLightDa'+'taSpotAngl'+'es'](_0x8fcdb8,_0x366928+(0x10c9+0xdb8+-0x1e7d)*Sr['SPOT_ANGLE'+'S'],_0x1b4019),_0x1b4019['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x8fcdb8,_0x366928+(-0x74f*0x2+0x17a*0x10+0x1*-0x8fe)*Sr['SHADOW_BIA'+'S'],_0x1b4019),_0x503f8f&&this['addLightDa'+'taCookies'](_0x8fcdb8,_0x366928+(0x222f+0x12e*-0xc+0x1403*-0x1)*Sr['COOKIE_A'],_0x1b4019);const _0x57a5a1=this['lightsFloa'+'t'],_0x1b8a0a=_0x10b66c*this['lightsText'+'ureFloat']['width']*(-0x2*0xbb7+0x1*0x175b+-0x17*-0x1);if(_0x57a5a1[_0x1b8a0a+(-0x1*-0x1faf+0x60e+-0x1d*0x14d)*lt['POSITION_R'+'ANGE']+(-0x1563+-0x1*-0x1ac9+-0x566)]=_0xef0bd6['x'],_0x57a5a1[_0x1b8a0a+(0x50b*-0x1+0x1e65+0x11a*-0x17)*lt['POSITION_R'+'ANGE']+(-0x88b*0x1+0x1*0x23b1+-0x1b25)]=_0xef0bd6['y'],_0x57a5a1[_0x1b8a0a+(0x3e1*-0x3+0x2*0x8cd+0x1*-0x5f3)*lt['POSITION_R'+'ANGE']+(0x40*0x1b+0x5d1+-0xc8f)]=_0xef0bd6['z'],_0x57a5a1[_0x1b8a0a+(0xead+0x21*0x63+-0x1b6c)*lt['POSITION_R'+'ANGE']+(0xf21+0xd*-0x4+-0xeea)]=_0x1b4019['attenuatio'+'nEnd'],_0x4bb011&&(this['getSpotDir'+'ection'](Zt,_0x1b4019),_0x57a5a1[_0x1b8a0a+(0x1216+-0xc9*0x17+0x3*-0x1)*lt['SPOT_DIREC'+'TION']+(-0x42d*0x2+-0x38f*-0x5+-0x971)]=Zt['x'],_0x57a5a1[_0x1b8a0a+(0x1b5e+-0x128c+-0x8ce)*lt['SPOT_DIREC'+'TION']+(-0xc5*0x4+0x1*-0x1882+0x1b97)]=Zt['y'],_0x57a5a1[_0x1b8a0a+(0x1ef5+0xb66+-0x2a57)*lt['SPOT_DIREC'+'TION']+(-0xb8c+-0x1*0x1ff7+-0x1*-0x2b85)]=Zt['z']),_0x1d7bb9){const _0x54c60e=_0x1d7bb9['data'];for(let _0x53eab1=0x137d+-0x1821+0x4a4;_0x53eab1<-0x21fc+-0x4f*0x63+0x4099*0x1;_0x53eab1++)_0x57a5a1[_0x1b8a0a+(0x5c*-0x1f+-0x141*-0xa+-0x162)*lt['PROJ_MAT_0']+_0x53eab1]=_0x54c60e[_0x53eab1];}if(_0x53a671&&(_0x57a5a1[_0x1b8a0a+(-0x2*-0xd4f+-0x123e+-0x14*0x6b)*lt['ATLAS_VIEW'+'PORT']+(0x153*0x3+-0x8*-0x7c+0x1*-0x7d9)]=_0x53a671['x'],_0x57a5a1[_0x1b8a0a+(0x5f4+-0xc1+0x52f*-0x1)*lt['ATLAS_VIEW'+'PORT']+(-0x13*-0x1b1+-0x8d8+-0x1*0x174a)]=_0x53a671['y'],_0x57a5a1[_0x1b8a0a+(0x25e0+0xd9f+0x45*-0xbf)*lt['ATLAS_VIEW'+'PORT']+(0xc2a+-0x1cb5*-0x1+-0x28dd)]=_0x53a671['z']/(0x12*0x82+0xb5*0x1b+-0x1c38)),_0x28735f){const _0x55af09=this['getLightAr'+'eaSizes'](_0x1b4019);_0x57a5a1[_0x1b8a0a+(-0x26*0xe2+0xe*-0x2bd+0x47e6)*lt['AREA_DATA_'+'WIDTH']+(-0xa68+0x1ccd+-0x1*0x1265)]=_0x55af09[-0x7*-0x1f3+-0x1*0x9fe+-0x3a7],_0x57a5a1[_0x1b8a0a+(0x1*-0xf35+0x6*-0x57a+0x3015)*lt['AREA_DATA_'+'WIDTH']+(0xd0b+-0x125d*0x2+0x5ec*0x4)]=_0x55af09[0x1e05*0x1+0x4f*-0x4c+-0x690],_0x57a5a1[_0x1b8a0a+(-0xb*-0x72+-0xb*0x2e7+-0x2b*-0xa1)*lt['AREA_DATA_'+'WIDTH']+(0x7b6+-0x49*0xd+0x1*-0x3ff)]=_0x55af09[0x235+0x17f7+-0xc5*0x22],_0x57a5a1[_0x1b8a0a+(0x227*0x2+0x228b+-0x26d5)*lt['AREA_DATA_'+'HEIGHT']+(0x1*-0x2561+-0xb6*-0x17+0x1507)]=_0x55af09[0x26dd+-0x1*0x2359+0x1*-0x381],_0x57a5a1[_0x1b8a0a+(-0x1953+0x102d*0x1+0x495*0x2)*lt['AREA_DATA_'+'HEIGHT']+(0x1711+0x3e3*-0x8+-0x404*-0x2)]=_0x55af09[0x1d3*-0x3+-0x760*-0x1+-0x1e3],_0x57a5a1[_0x1b8a0a+(-0x671*0x6+-0x1a8+0x2852)*lt['AREA_DATA_'+'HEIGHT']+(-0x209*0xf+-0xf23*-0x2+0x43)]=_0x55af09[0x4*0x91d+-0x2*-0x22+-0x24b3];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=-0x1039*-0x2+0xad*0xd+0x1*-0x293b+0.000001,n_=-0x1*-0x1b1+-0xaf+0xefe;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x5bb6bb){c(this,'clusterTex'+'ture'),(this['device']=_0x5bb6bb,this['name']='Untitled',this['reportCoun'+'t']=0x722+-0x1*0x23fd+-0x1cdb*-0x1,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(0x248c+0x2*0x40e+-0x2ca7,-0x206d+0x1262*0x1+0xe0c,-0xcf8+0x5ca+0x72f),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x9f3+-0xa01+0x13f8,this['_maxAttenu'+'ation']=-0x545+-0x1*0x11e3+-0x13*-0x138,this['_maxColorV'+'alue']=-0xf0c*0x1+0x24bb+-0x3d*0x5b,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x5bb6bb),this['registerUn'+'iforms'](_0x5bb6bb));}set['maxCellLig'+'htCount'](_0x145682){_0x145682!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x145682,this['_cellsDirt'+'y']=!(0x1e7*-0xe+0x38a*0x3+0x1004));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x202f0f){Ml['copy'](_0x202f0f)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(-0x2267+-0xdd2+-0x3039*-0x1));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x3ebe78){this['_clusterSk'+'ipId']=_0x3ebe78['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x3ebe78['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x3ebe78['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x3ebe78['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x8a*0x20+0x1274+-0x23b1*0x1),this['_clusterBo'+'undsMinId']=_0x3ebe78['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x79*-0x4f+0x1*-0x1037+-0x1*0x151d),this['_clusterBo'+'undsDeltaI'+'d']=_0x3ebe78['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x657*0x3+0x1e86*-0x1+-0x86*-0x16),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x3ebe78['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0xb47+-0x17c5+0x167*0x19),this['_clusterCe'+'llsDotId']=_0x3ebe78['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(-0xee3+-0x46f+-0x31*-0x65),this['_clusterCe'+'llsMaxId']=_0x3ebe78['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0xdcb*0x2+0x1*-0x129a+-0x8f9),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x3ebe78['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x613+0x4*0x836+-0x1ac3);}['updatePara'+'ms'](_0x46a5fd){_0x46a5fd&&(this['cells']=_0x46a5fd['cells'],this['maxCellLig'+'htCount']=_0x46a5fd['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x46a5fd['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x46a5fd['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x46a5fd['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x15e0*0x1+-0x2*0x8b4+0x2749);const _0x1acc06=this['_cells']['x'],_0x55f46d=this['_cells']['y'],_0x558970=this['_cells']['z'],_0xebf1cf=_0x1acc06*_0x55f46d*_0x558970,_0x3e8976=this['maxCellLig'+'htCount']*_0xebf1cf;let _0x6dc53=Math['ceil'](Math['sqrt'](_0x3e8976));_0x6dc53=N['roundUp'](_0x6dc53,this['maxCellLig'+'htCount']);const _0xeccb70=Math['ceil'](_0x3e8976/_0x6dc53);v['assert'](_0x6dc53<=n_&&_0xeccb70<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][0x16f4+0x449+-0x1b3d]=_0x1acc06,this['_clusterCe'+'llsMaxData'][0x1eb9+-0xa8b+-0x142d]=_0x55f46d,this['_clusterCe'+'llsMaxData'][0x87e+-0x96+0x3f3*-0x2]=_0x558970,this['_clusterCe'+'llsDotData'][-0x583+-0xbdb+0x72*0x27]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x619*0x3+-0x62*-0x66+0x4*-0x530]=_0x1acc06*_0x558970*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x172a*-0x1+0x850+0x1*0xedc]=_0x1acc06*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x3e8976),this['counts']=new Int32Array(_0xebf1cf),this['_clusterTe'+'xtureSizeD'+'ata'][-0x25d1+0x1f*0xb2+0x1043*0x1]=_0x6dc53,this['_clusterTe'+'xtureSizeD'+'ata'][-0xcb4+-0x1273+0x1f28]=(-0x3c9*-0x2+-0x1eb*0x6+0x1*0x3f1)/_0x6dc53,this['_clusterTe'+'xtureSizeD'+'ata'][0x16*0x1bd+0x1e51+-0x448d]=(0x1a3*0x3+-0x1*0x1f2b+0x1a43)/_0xeccb70,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x6dc53,_0xeccb70,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0x1534+-0x1ac8+0x595*0x1?0x1*0x1763+0x26c3*-0x1+-0x18*-0xa4:0x1340+0x1*-0x8bb+-0x1*0xa84),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x3b9d7c=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1e4+-0x1a71+0x1c55]=this['_cells']['x']/_0x3b9d7c['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x3e*-0x6d+0x15*-0xa1+-0xd30]=this['_cells']['y']/_0x3b9d7c['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x720+0x4d6+-0xe*-0x2a]=this['_cells']['z']/_0x3b9d7c['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x1169+-0x2d1+-0xe98]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0x14ce*-0x1+0x7*0x551+-0x1068]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0x8*0x29b+-0x185*0x7+0x1f7d*0x1]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0xa8a+-0x18d0+-0x5*-0x712]=_0x3b9d7c['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x15b4+0x9e1*0x1+-0x1*0x1f94]=_0x3b9d7c['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x1*0x713+-0x6de+-0xdf3*-0x1]=_0x3b9d7c['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x11b*-0x13+0x2244+-0xd43]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][0xf1*-0x11+0x54a*0x5+-0x538*0x2]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x108095,_0x96c2e4,_0x1618b7){_0x96c2e4['copy'](_0x108095['min']),_0x96c2e4['sub'](this['boundsMin']),_0x96c2e4['div'](this['boundsDelt'+'a']),_0x96c2e4['mul2'](_0x96c2e4,this['cells']),_0x96c2e4['floor'](),_0x1618b7['copy'](_0x108095['max']),_0x1618b7['sub'](this['boundsMin']),_0x1618b7['div'](this['boundsDelt'+'a']),_0x1618b7['mul2'](_0x1618b7,this['cells']),_0x1618b7['ceil'](),_0x96c2e4['max'](T['ZERO']),_0x1618b7['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x3e9596){const _0x2404a3=this['lightsBuff'+'er']['maxLights'],_0x3f5285=this['_usedLight'+'s'];let _0x4c276=0x121f*-0x2+-0x246f*-0x1+-0x30;_0x3e9596['forEach'](_0x876b74=>{const _0x573282=!!(_0x876b74['mask']&(hs|cr)),_0x41feef=_0x876b74['type']===Re&&_0x876b74['_outerCone'+'Angle']===0x9f*0x7+-0xa9*-0xa+0x1*-0xaf3;if(_0x876b74['enabled']&&_0x876b74['type']!==oe&&_0x876b74['visibleThi'+'sFrame']&&_0x876b74['intensity']>0x12*-0x11+-0xb33+0xc65&&_0x573282&&!_0x41feef){if(_0x4c276<_0x2404a3){let _0x47b20d;_0x4c276<_0x3f5285['length']?_0x47b20d=_0x3f5285[_0x4c276]:(_0x47b20d=new a_(),_0x3f5285['push'](_0x47b20d)),_0x47b20d['light']=_0x876b74,_0x876b74['getBoundin'+'gBox'](bd),_0x47b20d['min']['copy'](bd['getMin']()),_0x47b20d['max']['copy'](bd['getMax']()),_0x4c276++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x2404a3-(0x16*-0xfc+-0xa*-0x346+-0xb13))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x3f5285['length']=_0x4c276;}['evaluateBo'+'unds'](){const _0x296af3=this['_usedLight'+'s'],_0x145437=this['boundsMin'],_0x56e5c3=this['boundsMax'];if(_0x296af3['length']>0x12*0x10b+-0x7*-0x16d+-0x1cc0){_0x145437['copy'](_0x296af3[-0x7e1*0x2+-0x16b1+-0x2*-0x133a]['min']),_0x56e5c3['copy'](_0x296af3[0x1*-0x1730+-0x1f85*-0x1+0x854*-0x1]['max']);for(let _0xd94db7=0x159*-0xf+0x1*0xa43+0x9f6;_0xd94db7<_0x296af3['length'];_0xd94db7++)_0x145437['min'](_0x296af3[_0xd94db7]['min']),_0x56e5c3['max'](_0x296af3[_0xd94db7]['max']);}else _0x145437['set'](0x43*0x49+0x1a84+-0x2d9f,-0x119f+-0x13ca+-0x9d*-0x3d,-0x26d*-0xa+-0x71*0x53+-0xc61*-0x1),_0x56e5c3['set'](0x1488+0xf7c+-0x1*0x2403,0x895+0x18ac+-0x2140,0xfae+-0x3a*0x1c+-0x955);this['boundsDelt'+'a']['sub2'](_0x56e5c3,_0x145437),this['lightsBuff'+'er']['setBounds'](_0x145437,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x3c3916=0x606+0x8ad*-0x2+0xb54,_0x492ec9=0x2*0xb5f+-0x238b+0xccd;const _0x13bcd6=this['_usedLight'+'s'];for(let _0xfb871=-0x7fa+-0x1d99+0x2594;_0xfb871<_0x13bcd6['length'];_0xfb871++){const _0x4546af=_0x13bcd6[_0xfb871]['light'];_0x3c3916=Math['max'](_0x4546af['attenuatio'+'nEnd'],_0x3c3916);const _0x2f42ab=_0x4546af['_colorLine'+'ar'];_0x492ec9=Math['max'](_0x2f42ab[-0x229d*0x1+-0x1a2c+0x3cc9],_0x492ec9),_0x492ec9=Math['max'](_0x2f42ab[0x1184*0x2+0x2078+-0x1*0x437f],_0x492ec9),_0x492ec9=Math['max'](_0x2f42ab[0x2*0xb75+-0x2449*0x1+0xd61],_0x492ec9);}this['_maxAttenu'+'ation']=_0x3c3916+r_,this['_maxColorV'+'alue']=_0x492ec9+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x224c7e){this['counts']['fill'](0xe52+-0x202*0x3+-0x24*0x3b),this['clusters']['fill'](-0x55*0x4+-0x4*0x5c0+0x1854),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x224c7e?_0x224c7e['areaLights'+'Enabled']:!(0x19*0x1b+-0x7b*0x13+0x1*0x67f);const _0x44b9c6=this['_cells']['x'],_0x2d5741=this['_cells']['z'],_0x5cda6a=this['counts'],_0x4085e1=this['_maxCellLi'+'ghtCount'],_0x156c42=this['clusters'],_0xa9de0=this['maxCellLig'+'htCount'];let _0x35bfa9=!(0x5e*-0x8+-0x195d+0x1c4e);const _0x3b2470=this['_usedLight'+'s'];for(let _0x557ac9=0x1935+-0xa1d+-0x1*0xf17;_0x557ac9<_0x3b2470['length'];_0x557ac9++){const _0x4351cf=_0x3b2470[_0x557ac9],_0x2d0ed4=_0x4351cf['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x2d0ed4,_0x557ac9),this['evalLightC'+'ellMinMax'](_0x4351cf,Pl,Rl);const _0x58a92e=Pl['x'],_0x2e59ad=Rl['x'],_0x53eb14=Pl['y'],_0x282373=Rl['y'],_0x567dde=Pl['z'],_0x42ddd2=Rl['z'];for(let _0x3f7816=_0x58a92e;_0x3f7816<=_0x2e59ad;_0x3f7816++)for(let _0x14323e=_0x567dde;_0x14323e<=_0x42ddd2;_0x14323e++)for(let _0x241f97=_0x53eb14;_0x241f97<=_0x282373;_0x241f97++){const _0x2f8dd4=_0x3f7816+_0x44b9c6*(_0x14323e+_0x241f97*_0x2d5741),_0x5195ae=_0x5cda6a[_0x2f8dd4];_0x5195ae<_0x4085e1?(_0x156c42[_0xa9de0*_0x2f8dd4+_0x5195ae]=_0x557ac9,_0x5cda6a[_0x2f8dd4]=_0x5195ae+(0x4dd*0x1+0x2*-0x79d+0xa5e)):_0x35bfa9=!(0x398+0x1*0x220f+-0x25a7);}}_0x35bfa9&&this['reportCoun'+'t']<0x1*0x791+0x1e23+0x1*-0x25af&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0x55b+-0x71*-0x4a+-0x1b4b?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x4bc045,_0x543a0a=null){this['updatePara'+'ms'](_0x543a0a),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x4bc045),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x543a0a),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=0xe57*-0x1+-0x2*0x1276+-0x3*-0x1117+0.39996322972865306,ll={'circlePoint'(_0x119e00){const _0x566af0=Math['sqrt'](Math['random']()),_0x1e5df5=Math['random']()*(-0x1*-0x117b+-0x1fa2+0xe29)*Math['PI'];_0x119e00['x']=_0x566af0*Math['cos'](_0x1e5df5),_0x119e00['y']=_0x566af0*Math['sin'](_0x1e5df5);},'circlePointDeterministic'(_0x2bc015,_0x3ec692,_0x23a604){const _0x503405=_0x3ec692*o_,_0x14b37c=Math['sqrt'](_0x3ec692)/Math['sqrt'](_0x23a604);_0x2bc015['x']=_0x14b37c*Math['cos'](_0x503405),_0x2bc015['y']=_0x14b37c*Math['sin'](_0x503405);},'spherePointDeterministic'(_0x4315fa,_0x205d8f,_0x49611d,_0x3959ed=-0x1*-0x1955+-0xac4+0x1*-0xe91,_0x5be4f0=-0x2521*0x1+0x1b9d+0x1*0x985){_0x3959ed=-0x109a+-0x17b8+0x2853-(-0x2190+-0x3e*-0x26+0xc2f*0x2)*_0x3959ed,_0x5be4f0=0x1*-0x21b+-0xc67+0xe83-(-0x598+0x26ee+0xed*-0x24)*_0x5be4f0;const _0x51046e=N['lerp'](_0x3959ed,_0x5be4f0,_0x205d8f/_0x49611d),_0x39f02f=Math['sqrt'](-0x18d*0x5+-0x70a+0xecc-_0x51046e*_0x51046e),_0xb02909=o_*_0x205d8f;_0x4315fa['x']=Math['cos'](_0xb02909)*_0x39f02f,_0x4315fa['y']=_0x51046e,_0x4315fa['z']=Math['sin'](_0xb02909)*_0x39f02f;},'radicalInverse'(_0x3b6808){let _0x592f2c=(_0x3b6808<<-0x1314+0x8ec+0xa38|_0x3b6808>>>-0x2*0xf1a+0x94*0x3e+-0x594)>>>-0xe8f*0x2+0x1*0x1021+0xcfd;return _0x592f2c=((_0x592f2c&0x3314fd73+0x67636844+0x7a*-0x911305)<<-0x1b9c+-0x250b+-0x815*-0x8|(_0x592f2c&0x24d*-0xe4a3f+-0x2c6fabe3*0x1+0xf7fb2980)>>>0x1c9f+-0x11*0xa7+-0x1*0x1187)>>>-0x1756+-0x120b+0x2961,_0x592f2c=((_0x592f2c&0xcf01f59+-0x448ba9ad+0x6acebd87)<<-0xd74+0x217b+-0x1405|(_0x592f2c&0xca959e7f+0x173b120bc+-0x17179f26f)>>>0x1*0x3b8+0x12c7*-0x1+0xf11)>>>0x4*-0x24d+-0x1*0x17c1+0x20f5,_0x592f2c=((_0x592f2c&0x1650a219*0x1+-0x168a69d2+0xf48d6c8)<<0xce9*-0x2+-0x21f6+0x3bcc|(_0x592f2c&0x5319675f*0x3+0x182210f9d*-0x1+0x2*0xbce2e538)>>>0x1b50+0xe3c+-0x2988)>>>0x193c+0x174c+0x1844*-0x2,_0x592f2c=((_0x592f2c&0x1*-0x1c50676+-0xee2e9e+0x3b23613)<<-0xb*-0x23d+0xa*0x113+-0x87*0x43|(_0x592f2c&-0x16fde0a61+0x11385c98a+-0x33*-0x6cf8dcd)>>>0x463*-0x6+0xab8+0x57*0x2e)>>>-0x63d*-0x2+0x1856+0x2*-0x1268,_0x592f2c*(0x2*0x903+-0x23a6+0x11a0+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x19d82a){return gC[_0x19d82a]||'decodeGamm'+'a';}static['encodeFunc'](_0x5e597){return yC[_0x5e597]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x25e428,_0x564c67){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x564c67['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x25e428['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x307dbe=>{switch(_0x307dbe){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x381e84,_0x538414,_0x194b80)=>{if(_0x381e84<=-0x1*-0x536+0xe*-0x1b0+0x1*0x126a)_0x538414[_0x194b80+(-0xd22+-0x1b23*0x1+-0x2845*-0x1)]=0x335+0x1e8c*-0x1+-0x1*-0x1b57,_0x538414[_0x194b80+(0x2499+0xb74+0x32*-0xf6)]=-0xa49*0x2+0x14bb+-0x29,_0x538414[_0x194b80+(-0x148c+0x1784+-0x2f6)]=-0x1199+0x4c*-0x6a+0x3111,_0x538414[_0x194b80+(0x1914+0xef9*0x1+-0x52*0x7d)]=0x78d+0x17a6+-0x1f33;else{if(_0x381e84>=0xd9*0x5+-0x1e9e+0x1a62)_0x538414[_0x194b80+(-0x4d0+-0x629*0x3+0x174b)]=0x1*-0x11e7+0x8*-0x481+0x36ee,_0x538414[_0x194b80+(0x3*-0x969+0x1cb1+-0x75)]=-0xda+-0xd18*0x1+0x46*0x33,_0x538414[_0x194b80+(-0x43*0x53+0x2222+-0xc67)]=-0x372+-0xbf*0x1d+0x1915,_0x538414[_0x194b80+(0x2*0x11db+-0x14b6*-0x1+-0x3869)]=-0x8ae+0x2374*-0x1+0x2c22;else{let _0x2c795d=(-0x5*-0x2b5+-0x1176+-0x3ee*-0x1)*_0x381e84%(-0x10d*-0xb+0x5b*0x59+-0x1*0x2b31),_0x1c9065=(0xa7*0x11+-0x19dd+0xb*0x16f)*_0x381e84%(-0x7*0x54d+-0x7f*0x33+-0x3e69*-0x1),_0x1c998f=(-0x246b+0x2f09*-0x7+-0x5*-0x7bef)*_0x381e84%(0x496+0x25*0x8f+-0xca*0x20);const _0x67510c=(-0x1e29e0f+-0x1d68090+0x4b6219e)*_0x381e84%(0x16*-0x1b6+0x4*0x508+0x17*0xc3);_0x2c795d-=_0x1c9065/(-0x95*-0x7+0x136d*0x2+-0x29ee),_0x1c9065-=_0x1c998f/(-0xfb2+0x1*0xb65+-0x6*-0xe2),_0x1c998f-=_0x67510c/(0x70f*-0x5+0x9ff+0x1*0x1a4b),_0x538414[_0x194b80+(-0x13d*-0x17+0x1c7c+-0x38f7*0x1)]=Math['min'](0x2f*0x95+-0xea+-0x1972,Math['floor'](_0x2c795d*(-0x2ed+0x3fb*-0x2+0xbe3))),_0x538414[_0x194b80+(-0x1*-0x98f+0x1f1f*-0x1+-0x1591*-0x1)]=Math['min'](-0x17f1*-0x1+0x1*0x3d2+-0x2*0xd62,Math['floor'](_0x1c9065*(-0xd*0x139+-0x1*-0x23b7+-0x12d2))),_0x538414[_0x194b80+(-0x1*-0x1c45+-0x187a+-0x3c9)]=Math['min'](0xf60+-0x17c7+0x966,Math['floor'](_0x1c998f*(-0x109e+0xd*0x16a+-0x1*0xc4))),_0x538414[_0x194b80+(0x1*-0x91b+0x11ba+-0x89c)]=Math['min'](0xf3e*0x1+-0x7*-0x482+-0x2dcd,Math['floor'](_0x67510c*(0x937*0x1+-0x21ab+-0x43e*-0x6)));}}},xC=_0x1f86bd=>{const _0x40d755=_0x1f86bd['length'],_0x4a2e8b=Math['min'](_0x40d755,0x1*-0x829+-0x1221+0x8e*0x33),_0x2c42b9=Math['ceil'](_0x40d755/_0x4a2e8b),_0xa322cc=new Uint8Array(_0x4a2e8b*_0x2c42b9*(-0x15e6*0x1+-0x290+0x187a));let _0x55a7ce=0x935+0x23bc+-0x2cf1;for(let _0x15dcc2=-0x679*-0x2+0x19e8*-0x1+0xcf6;_0x15dcc2<_0x40d755;_0x15dcc2+=0x1*0x269+-0x922+-0x1*-0x6bd)Il(_0x1f86bd[_0x15dcc2+(-0x8b7+-0xae*-0xb+0x13d)]*(0x1eee+-0x20a7*-0x1+-0x3f95+0.5)+(-0x13c+0x17*0x18a+-0x222a+0.5),_0xa322cc,_0x55a7ce+(0x1863+0x7a4+0x1*-0x2007)),Il(_0x1f86bd[_0x15dcc2+(-0x1f9d+-0x1236+0x427*0xc)]*(0x7*0xb0+0x6*0x237+0x14b*-0xe+0.5)+(0xc8d+0x1df+-0xe6c+0.5),_0xa322cc,_0x55a7ce+(0x2208+-0x23f3*-0x1+0x1*-0x45f7)),Il(_0x1f86bd[_0x15dcc2+(0x11e6+-0x12b+-0x3*0x593)]*(-0x16e9+-0x1*-0x1a45+-0x35c+0.5)+(-0x13a1+-0x2537+0x38d8+0.5),_0xa322cc,_0x55a7ce+(0xfe*-0x26+-0x660+0x2c1c)),Il(_0x1f86bd[_0x15dcc2+(0x1921+0xdc1+0x141*-0x1f)]/(-0xb*0x35+0x18*-0x3f+-0x2bd*-0x3),_0xa322cc,_0x55a7ce+(-0xbdf*-0x1+-0x24a+-0x989)),_0x55a7ce+=-0x13c4+-0xf6b+0x233f*0x1;return{'width':_0x4a2e8b,'height':_0x2c42b9,'data':_0xa322cc};},SC=(_0x3f2bbf,_0x46e3b7,_0x51b38c,_0x1a1d59)=>{const _0xf1dff2=_0x51b38c*(0x583+0x2534+-0x2ab5)*Math['PI'],_0x426b8d=Math['pow'](-0x17c*0x13+-0xcf0+0x1*0x2925-_0x46e3b7,(0x1d6d+-0x19ce+0x39e*-0x1)/(_0x1a1d59+(-0x179*-0xd+-0x15*0xf+0x83*-0x23))),_0x1cb826=Math['sqrt'](0xa6c*-0x1+0x1a29+-0xfbc-_0x426b8d*_0x426b8d);_0x3f2bbf['set'](Math['cos'](_0xf1dff2)*_0x1cb826,Math['sin'](_0xf1dff2)*_0x1cb826,_0x426b8d)['normalize']();},vC=(_0x45339b,_0x462f3c,_0x3d0162)=>{const _0x49ed32=_0x3d0162*(0x11b4+0x235b+-0x11af*0x3)*Math['PI'],_0x5666a5=Math['sqrt'](-0x141c+-0x16ba+0x2ad7-_0x462f3c),_0x2ebbf7=Math['sqrt'](_0x462f3c);_0x45339b['set'](Math['cos'](_0x49ed32)*_0x2ebbf7,Math['sin'](_0x49ed32)*_0x2ebbf7,_0x5666a5)['normalize']();},bC=(_0x1bf4a6,_0x549fd2,_0x16e5b7,_0x1d41c8)=>{const _0xe1aa1c=_0x16e5b7*(0x33a+-0x25fc+0x4*0x8b1)*Math['PI'],_0x345325=Math['sqrt']((-0x1*0xbc2+-0x1*-0x506+0x6bd-_0x549fd2)/(-0x1b9a+0x7db+-0x4f*-0x40+(_0x1d41c8*_0x1d41c8-(0x17b8+0x14b5+-0x2c6c))*_0x549fd2)),_0x25605d=Math['sqrt'](-0x1*-0x1a05+0x1*0x646+0x1025*-0x2-_0x345325*_0x345325);_0x1bf4a6['set'](Math['cos'](_0xe1aa1c)*_0x25605d,Math['sin'](_0xe1aa1c)*_0x25605d,_0x345325)['normalize']();},wC=(_0x4cf5bf,_0x16268b)=>{const _0x12f743=_0x4cf5bf*_0x16268b,_0x37aec6=_0x16268b/(0x1d+0x97*0xa+-0x602-_0x4cf5bf*_0x4cf5bf+_0x12f743*_0x12f743);return _0x37aec6*_0x37aec6*((0x4d*0x26+-0x2249+0x16dc)/Math['PI']);},TC=(_0x45b0e7,_0x5ca709)=>{const _0x466f8c=new T(),_0x7d3394=[];for(let _0x23c3a1=0x283+-0x595+0x312;_0x23c3a1<_0x45b0e7;++_0x23c3a1)SC(_0x466f8c,_0x23c3a1/_0x45b0e7,ll['radicalInv'+'erse'](_0x23c3a1),_0x5ca709),_0x7d3394['push'](_0x466f8c['x'],_0x466f8c['y'],_0x466f8c['z'],0x2ad*-0x7+-0x1956+-0x1*-0x2c11);return _0x7d3394;},AC=(_0x133af9,_0x53438d)=>{const _0x515810=_0x53438d/_0x133af9,_0x469582=new T(),_0xe4f789=[];for(let _0xf278e2=-0xbe7*0x3+0xcdd+0x16d8;_0xf278e2<_0x133af9;++_0xf278e2){vC(_0x469582,_0xf278e2/_0x133af9,ll['radicalInv'+'erse'](_0xf278e2));const _0x9136d7=_0x469582['z']/Math['PI'],_0x1e16bc=(-0xe24+-0x46*-0x1+0xdde+0.5)*Math['log2'](_0x515810/_0x9136d7);_0xe4f789['push'](_0x469582['x'],_0x469582['y'],_0x469582['z'],_0x1e16bc);}return _0xe4f789;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x26feed,_0x3418bf)=>{const _0x28cb6c=EC[_0x26feed];return _0x28cb6c&&_0x28cb6c[_0x3418bf]||_0x26feed;},MC=(_0x5277f0,_0x142f3d,_0x1d1216)=>{const _0x2c6640=_0x1d1216/_0x5277f0,_0x428e11=0x1*-0x6e1+-0x112d+0x1*0x180f-Math['log2'](_0x142f3d)/(-0x1*-0x266f+-0x19ba+0x655*-0x2),_0x5180ae=_0x428e11*_0x428e11,_0x449748=new T(),_0x457098=new T(),_0x425ca6=new T(0x76f*-0x1+-0x118e+0x18fd,0x1*0x6df+0x1ed2+-0x25b1*0x1,-0x2674+0xf86*-0x1+-0x1*-0x35fb),_0x3af9d9=[],_0x31512b=CC(_0x5277f0,_0x142f3d);for(let _0x21c35b=-0x613+0x682+-0x6f;_0x21c35b<_0x31512b;++_0x21c35b){bC(_0x449748,_0x21c35b/_0x31512b,ll['radicalInv'+'erse'](_0x21c35b),_0x5180ae);const _0x397c34=_0x449748['z'];if(_0x457098['set'](_0x449748['x'],_0x449748['y'],_0x449748['z'])['mulScalar']((0x2121+-0x69f*-0x2+-0x2e5d)*_0x397c34)['sub'](_0x425ca6),_0x457098['z']>0x1061+0x16b6+-0x2717){const _0x13b64b=wC(Math['min'](-0x68b*0x1+-0x107*-0xb+-0x4c1*0x1,_0x397c34),_0x5180ae)/(-0xb45+0x7*-0x3c5+0x25ac)+(0xe2c+-0x5cc+-0x10c*0x8+0.001),_0x453414=(0x1*0x210d+-0x26a1+0x594+0.5)*Math['log2'](_0x2c6640/_0x13b64b);_0x3af9d9['push'](_0x457098['x'],_0x457098['y'],_0x457098['z'],_0x453414);}}for(;_0x3af9d9['length']<_0x5277f0*(0x1*-0x841+-0x1*0x2113+-0x54*-0x7e);)_0x3af9d9['push'](-0x5*-0x54d+-0x15f9+0x1*-0x488,-0x204+0x694*0x2+0x1*-0xb24,-0x473*0x1+0xf47+-0x2*0x56a,-0x1345+-0xd9f*-0x2+-0x7f9);return _0x3af9d9;},PC=(_0x1bf87b,_0xb10dae,_0x86c4f6)=>{const _0x1a414a=xC(_0x86c4f6);return new he(_0x1bf87b,{'name':_0xb10dae,'width':_0x1a414a['width'],'height':_0x1a414a['height'],'mipmaps':!(-0x1*0xe3+0x3*0x6a1+0x12ff*-0x1),'minFilter':de,'magFilter':de,'levels':[_0x1a414a['data']]});};class C0{constructor(_0x3199f0=!(-0x246b+0xe+-0x141*-0x1d)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x3199f0;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x322578,_0x980aa9)=>{_0x322578['destroy']();});}['get'](_0x19d23e,_0x135a03){if(!this['map']['has'](_0x19d23e)){const _0x76e07e=_0x135a03();return this['map']['set'](_0x19d23e,_0x76e07e),_0x76e07e;}return this['map']['get'](_0x19d23e);}}const RC=new C0(!(0x4*-0x4e4+-0x95*0x1+-0x1*-0x1426)),IC=new Ot(),Lp=(_0x278d20,_0x3775b6,_0x35590a)=>IC['get'](_0x278d20,()=>new C0())['get'](_0x3775b6,()=>PC(_0x278d20,_0x3775b6,RC['get'](_0x3775b6,_0x35590a))),DC=(_0xbeba4d,_0x59c2cc,_0x43999f)=>{const _0x26a1cc='lambert-sa'+'mples-'+_0x59c2cc+'-'+_0x43999f;return Lp(_0xbeba4d,_0x26a1cc,()=>AC(_0x59c2cc,_0x43999f));},LC=(_0x4c9f34,_0x3e2d79,_0x11a2b8)=>{const _0x3dd563='phong-samp'+'les-'+_0x3e2d79+'-'+_0x11a2b8;return Lp(_0x4c9f34,_0x3dd563,()=>TC(_0x3e2d79,_0x11a2b8));},FC=(_0x2c6c7a,_0x4714f0,_0x2a5825,_0x34c37)=>{const _0x1f6a9a='ggx-sample'+'s-'+_0x4714f0+'-'+_0x2a5825+'-'+_0x34c37;return Lp(_0x2c6c7a,_0x1f6a9a,()=>MC(_0x4714f0,_0x2a5825,_0x34c37));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x4682d8,_0x38403f,_0x1e3430={}){var _0x417bbe,_0x446694;v['assert'](_0x4682d8 instanceof he&&_0x38403f instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x321113=_0x1e3430['seamPixels']??-0x165b*-0x1+-0x6*0x532+-0x8d1*-0x1,_0xb4b150=(((_0x417bbe=_0x1e3430['rect'])==null?void(0x327*0x8+-0x25c1+0x1*0xc89):_0x417bbe['z'])??_0x38403f['width'])-_0x321113*(0x11*-0x101+0x115f+-0x4c*0x1),_0x30ca91=(((_0x446694=_0x1e3430['rect'])==null?void(-0x1113*0x1+0x16*-0x39+0x15f9):_0x446694['w'])??_0x38403f['height'])-_0x321113*(0xcb*-0x13+0x36d+0x15*0x8e);if(_0xb4b150<-0x2238+-0x7eb+-0x74*-0x5d||_0x30ca91<0x559+0xd*0x2b9+0x28bd*-0x1)return!(-0x13*0xbb+-0xc82+0x1a64);const _0x5bb863={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x100509=_0x1e3430['hasOwnProp'+'erty']('specularPo'+'wer')?_0x1e3430['specularPo'+'wer']:0x67f+0xb1f+-0x119d,_0x54443b=_0x1e3430['hasOwnProp'+'erty']('face')?_0x1e3430['face']:null,_0x2f160e=_0x1e3430['hasOwnProp'+'erty']('distributi'+'on')?_0x1e3430['distributi'+'on']:_0x100509===0x244f+0x640+-0xd*0x346?'none':'phong',_0x1d4781=_0x5bb863[_0x2f160e]||'reproject',_0x2c2e94=_0x1d4781['startsWith']('prefilterS'+'amples'),_0x545643=Es['decodeFunc'](_0x4682d8['encoding']),_0x35d16a=Es['encodeFunc'](_0x38403f['encoding']),_0x10649b='sample'+l_(_0x4682d8['projection']),_0x2f8ab3='getDirecti'+'on'+l_(_0x38403f['projection']),_0x49d804=_0x1e3430['hasOwnProp'+'erty']('numSamples')?_0x1e3430['numSamples']:-0x1994+-0x1870+0x3604*0x1,_0x504cc0=_0x1d4781+'_'+_0x545643+'_'+_0x35d16a+'_'+_0x10649b+'_'+_0x2f8ab3+'_'+_0x49d804,_0x67cd01=_0x4682d8['device'];let _0xc857fe=ka(_0x67cd01)['getCachedS'+'hader'](_0x504cc0);if(!_0xc857fe){const _0x1824ba='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x1d4781+'\x0a'+(_0x2c2e94?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x4682d8['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x545643+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x35d16a+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x10649b+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x2f8ab3+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x49d804+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x49d804))['toFixed'](-0x5*0x13d+0x2050+0x1*-0x1a1e)+'\x0a';_0xc857fe=Is(_0x67cd01,OC,_0x1824ba+'\x0a'+X['reprojectP'+'S'],_0x504cc0);}G['pushGpuMar'+'ker'](_0x67cd01,'ReprojectT'+'exture'),_0x67cd01['setBlendSt'+'ate'](_t['NOBLEND']);const _0x326a31=_0x67cd01['scope']['resolve'](_0x4682d8['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x326a31),_0x326a31['setValue'](_0x4682d8);const _0x4205c3=_0x67cd01['scope']['resolve']('params'),_0x225719=_0x67cd01['scope']['resolve']('uvMod');_0x321113>0x170f+0x26ac+-0x3dbb?_0x225719['setValue']([(_0xb4b150+_0x321113*(0x80f*0x1+-0x1*0x48c+0x12b*-0x3))/_0xb4b150,(_0x30ca91+_0x321113*(0x1c81+-0x13a*-0xa+0x28c3*-0x1))/_0x30ca91,-_0x321113/_0xb4b150,-_0x321113/_0x30ca91]):_0x225719['setValue']([0x1808+-0x1*0x5eb+0xf4*-0x13,0x1e58+-0xb*-0xb2+-0x25fd,0x6f8+0x3c7*0x1+-0x395*0x3,0x1c*0x109+-0xd8a+0x1*-0xf72]);const _0x483193=[0x4b2+-0x2aa+-0xa*0x34,_0x38403f['width']*_0x38403f['height']*(_0x38403f['cubemap']?0x10e0+-0x1*0xbff+0x4db*-0x1:-0x1*0x260f+0x1fd7+0x639),_0x4682d8['width']*_0x4682d8['height']*(_0x4682d8['cubemap']?0x7c*-0x4+-0x1*-0x215+-0x1f:0x24d7+0x885*-0x3+-0xb47)];if(_0x2c2e94){const _0x2b4d2c=_0x4682d8['width']*_0x4682d8['height']*(_0x4682d8['cubemap']?-0x33*-0x2c+-0xb9a+-0xb7*-0x4:0xadf*0x1+-0xb*0xd1+-0x1e3),_0x3087fb=_0x2f160e==='ggx'?FC(_0x67cd01,_0x49d804,_0x100509,_0x2b4d2c):_0x2f160e==='lambert'?DC(_0x67cd01,_0x49d804,_0x2b4d2c):LC(_0x67cd01,_0x49d804,_0x100509);_0x67cd01['scope']['resolve']('samplesTex')['setValue'](_0x3087fb),_0x67cd01['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x4*-0x253+0x2205+-0x2b50)/_0x3087fb['width'],(0x5*0x34a+0xfc7*0x1+0x101c*-0x2)/_0x3087fb['height']]);}for(let _0x29c464=0x1a*-0x41+-0x11e7+0x82b*0x3;_0x29c464<(_0x38403f['cubemap']?-0x1d80+0x374+0x8e*0x2f:-0x30f+0x2050+-0x1d40);_0x29c464++)if(_0x54443b===null||_0x29c464===_0x54443b){const _0x29ba17=new pt({'colorBuffer':_0x38403f,'face':_0x29c464,'depth':!(0x113a+0x2*0x2dd+-0x16f3*0x1),'flipY':_0x67cd01['isWebGPU']});_0x483193[0x823+0x3*0x5db+-0x2*0xcda]=_0x29c464,_0x4205c3['setValue'](_0x483193),dn(_0x67cd01,_0x29ba17,_0xc857fe,_0x1e3430==null?void(-0x225e+0xc2*-0x1c+-0xb1e*-0x5):_0x1e3430['rect']),_0x29ba17['destroy']();}return G['popGpuMark'+'er'](_0x67cd01),!(0x339*-0x1+0x12db+0x1d*-0x8a);}const wd=(_0x562373,_0x550dc9=-0x1*0xc77+-0x264d+0x2*0x1962)=>0x669*-0x5+0x1*-0xb+0xb*0x2eb+Math['floor'](Math['log2'](Math['max'](_0x562373,_0x550dc9))),kC=_0x4c8c94=>_0x4c8c94['textureHal'+'fFloatRend'+'erable'],BC=_0x365b5f=>_0x365b5f['textureFlo'+'atRenderab'+'le'],NC=_0x2224d3=>kC(_0x2224d3)?Je:BC(_0x2224d3)?Ke:Se,zC=_0x3fa94e=>Se,UC=(_0x43bec0,_0x13e432,_0x1296d6,_0x32e55b)=>new he(_0x43bec0,{'name':'lighting-'+_0x13e432,'cubemap':!(-0xa1*-0x1+-0x3*0x80b+0x5e0*0x4),'width':_0x13e432,'height':_0x13e432,'format':_0x1296d6,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(-0x39d+-0x2021+-0x1*-0x23bf)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x5ea6aa,_0x2bb4f4){const _0x104016=_0x5ea6aa['device'];G['pushGpuMar'+'ker'](_0x104016,'genSkyboxC'+'ubemap');const _0x23e9b4=UC(_0x104016,_0x2bb4f4||(_0x5ea6aa['cubemap']?_0x5ea6aa['width']:_0x5ea6aa['width']/(-0x200c*-0x1+0x716+-0x271e)),Se);return Qs(_0x5ea6aa,_0x23e9b4,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x104016),_0x23e9b4;}static['generateLi'+'ghtingSour'+'ce'](_0x2c60fc,_0x3ec981){const _0x334b5c=_0x2c60fc['device'];G['pushGpuMar'+'ker'](_0x334b5c,'genLightin'+'gSource');const _0x4feed0=NC(_0x334b5c),_0x3443ee=(_0x3ec981==null?void(0x25*-0x7c+0x238c+-0x11a0):_0x3ec981['target'])||new he(_0x334b5c,{'name':'lighting-s'+'ource','cubemap':!(-0x16c1+0x10e0+-0x23*-0x2b),'width':(_0x3ec981==null?void(0x1b6b+0x95*-0x38+0x52d):_0x3ec981['size'])||-0x1a6*-0x4+-0x21c+0x4*-0xff,'height':(_0x3ec981==null?void(-0x7*0x22+-0x1d62+-0x308*-0xa):_0x3ec981['size'])||0xe*0x11c+0x19f6+-0x28fe,'format':_0x4feed0,'type':_0x4feed0===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(0xbdf*-0x1+0x64c+0x1*0x593)});return Qs(_0x2c60fc,_0x3443ee,{'numSamples':_0x2c60fc['mipmaps']?-0x400*-0x4+0x16dc+-0x26db:-0x5a*-0x50+-0x1d15+0x4f5}),G['popGpuMark'+'er'](_0x334b5c),_0x3443ee;}static['generateAt'+'las'](_0xc1b776,_0x524d80){const _0x4538d1=_0xc1b776['device'],_0x3e88d5=zC();G['pushGpuMar'+'ker'](_0x4538d1,'genAtlas');const _0x5ba058=(_0x524d80==null?void(0x7*0x3c9+-0x12b9*-0x1+-0x2d38*0x1):_0x524d80['target'])||new he(_0x4538d1,{'name':'envAtlas','width':(_0x524d80==null?void(-0x65+-0x1d1c+0x1d81):_0x524d80['size'])||-0x2289+-0x3b2*0x1+-0x3*-0xd69,'height':(_0x524d80==null?void(-0x1dd7+-0x648+-0x529*-0x7):_0x524d80['size'])||0x3dd*0x8+0x1c9*-0x2+-0x2*0xcab,'format':_0x3e88d5,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0xb*-0x36f+-0x1*-0x1c9+0x23fd)});G['pushGpuMar'+'ker'](_0x4538d1,'mipmaps');const _0x3a0f82=_0x5ba058['width']/(0x2*-0x445+0xf9d+0x1b1*-0x3),_0x45f2c7=new Q(0x1fe1+0x1ff5+-0x1feb*0x2,-0x25b3+0x2a*-0xb3+0x4311,(-0x2145+-0x16a5+0x39ea)*_0x3a0f82,(0x19*-0xa7+-0x265a+0x1*0x37a9)*_0x3a0f82),_0x728225=wd(-0x1*-0x1716+0x63b*-0x5+0x911)-wd(0x1add+0x242e*0x1+-0x3f07);for(let _0x263db6=-0xb17*0x2+0xa67+0xbc7;_0x263db6<_0x728225;++_0x263db6)Qs(_0xc1b776,_0x5ba058,{'numSamples':0x1,'rect':_0x45f2c7,'seamPixels':_0x3a0f82}),_0x45f2c7['x']+=_0x45f2c7['w'],_0x45f2c7['y']+=_0x45f2c7['w'],_0x45f2c7['z']=Math['max'](0x201d+0x2610+-0x462c,Math['floor'](_0x45f2c7['z']*(0xd+-0x1*0x16f7+-0x1*-0x16ea+0.5))),_0x45f2c7['w']=Math['max'](-0x77f+-0x4fd+0xc7d,Math['floor'](_0x45f2c7['w']*(0xb3a*0x1+0x44*0x1+-0xb7e+0.5)));G['popGpuMark'+'er'](_0x4538d1),G['pushGpuMar'+'ker'](_0x4538d1,'reflection'+'s'),_0x45f2c7['set'](0x25ab+0x8e1*-0x3+0x161*-0x8,(-0x2*0xc35+0x139*-0x1d+-0x3cdf*-0x1)*_0x3a0f82,(0x137d*0x2+-0x1b2a+-0xad0)*_0x3a0f82,(-0x1*-0xaa1+-0x18f5+0x1*0xed4)*_0x3a0f82);for(let _0x384ed3=0xc9+0x12e0+-0x13a8;_0x384ed3<0xc03+0x215e+-0x2b*0x10e;++_0x384ed3)Qs(_0xc1b776,_0x5ba058,{'numSamples':(_0x524d80==null?void(0x167*-0xa+0x6*-0x51a+0x2*0x1651):_0x524d80['numReflect'+'ionSamples'])||-0x1720+0x1*0xfef+0xb31,'distribution':(_0x524d80==null?void(0x1537*0x1+-0x8*-0x1f1+-0x24bf):_0x524d80['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x5a7*0x3+0x1b01+-0xa0b,0x63d+-0x2e9*-0x9+-0x35*0x76>>_0x384ed3*(0x21*0x119+-0x1c10+0x827*-0x1)),'rect':_0x45f2c7,'seamPixels':_0x3a0f82}),_0x45f2c7['y']+=_0x45f2c7['w'],_0x45f2c7['z']=Math['max'](-0x1e85*0x1+0x6c*-0x1+0x1ef2,Math['floor'](_0x45f2c7['z']*(-0x12+-0x462*-0x6+0xd1d*-0x2+0.5))),_0x45f2c7['w']=Math['max'](0x2*-0x46f+-0xa0*0x29+0x227f,Math['floor'](_0x45f2c7['w']*(-0xd6e+-0x47*0x7b+0x2f8b+0.5)));return G['popGpuMark'+'er'](_0x4538d1),G['pushGpuMar'+'ker'](_0x4538d1,'ambient'),_0x45f2c7['set']((0xe*0x20b+0x827+-0x2441*0x1)*_0x3a0f82,(-0x4b7*-0x1+-0x1e3+-0x154)*_0x3a0f82,(-0x638*0x5+0x148a+0xace)*_0x3a0f82,(-0x2*0x10a3+0x313+0x1e53)*_0x3a0f82),Qs(_0xc1b776,_0x5ba058,{'numSamples':(_0x524d80==null?void(0x41*-0x43+0x1e*-0xe8+-0x1*-0x2c33):_0x524d80['numAmbient'+'Samples'])||-0x1e11+0x3*-0x169+0x2a4c,'distribution':'lambert','rect':_0x45f2c7,'seamPixels':_0x3a0f82}),G['popGpuMark'+'er'](_0x4538d1),G['popGpuMark'+'er'](_0x4538d1),_0x5ba058;}static['generatePr'+'efilteredA'+'tlas'](_0x1cf78f,_0x45a7f9){const _0x2718aa=_0x1cf78f[-0xa2*0x2f+0x36*0x9d+-0x360]['device'],_0x3cf985=_0x1cf78f[-0xdcf+0x2ce*-0xa+0x29db]['format'],_0x5f4c42=_0x1cf78f[-0x1*-0x2386+0x23bb*0x1+-0x1d*0x275]['type'];G['pushGpuMar'+'ker'](_0x2718aa,'genPrefilt'+'eredAtlas');const _0x199331=(_0x45a7f9==null?void(-0x794+0x1*-0x227c+0x2a10):_0x45a7f9['target'])||new he(_0x2718aa,{'name':'envPrefilt'+'eredAtlas','width':(_0x45a7f9==null?void(-0x166*-0x11+-0x1*0x11f3+0x1f1*-0x3):_0x45a7f9['size'])||-0x6*0x6d+-0x46*-0x46+0x2*-0x74b,'height':(_0x45a7f9==null?void(0x9*0x16c+0x1e33+-0x1*0x2aff):_0x45a7f9['size'])||-0x1*0xe3b+-0x2602+0x363d*0x1,'format':_0x3cf985,'type':_0x5f4c42,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x255d+0x1c22+-0x417e)});G['pushGpuMar'+'ker'](_0x2718aa,'mipmaps');const _0x57c09b=_0x199331['width']/(0x196f+-0x1*0x1a87+0x318),_0x459087=new Q(0x1b38+0x1caf*-0x1+0x177,0x1250*0x1+0x252e+-0x1*0x377e,(0xe50+0x180e+-0x245e)*_0x57c09b,(-0x2*0xf2b+0xb*-0x1f3+-0x3b*-0xe5)*_0x57c09b),_0x350e24=wd(0x18f1*-0x1+0x2*0xf1b+-0x1b*0x1f);for(let _0x4c5a08=-0x27*0xfb+-0x4b3*0x2+0x2fa3;_0x4c5a08<_0x350e24;++_0x4c5a08)Qs(_0x1cf78f[-0x795*-0x3+-0x1141+0x1*-0x57e],_0x199331,{'numSamples':0x1,'rect':_0x459087,'seamPixels':_0x57c09b}),_0x459087['x']+=_0x459087['w'],_0x459087['y']+=_0x459087['w'],_0x459087['z']=Math['max'](0xace+-0x2b*0x41+0x1e,Math['floor'](_0x459087['z']*(-0x1a95+0x196c+0x129+0.5))),_0x459087['w']=Math['max'](-0x173c+0x9*0x141+0x11*0xb4,Math['floor'](_0x459087['w']*(0x1033+-0x19f5*0x1+0x1*0x9c2+0.5)));G['popGpuMark'+'er'](_0x2718aa),G['pushGpuMar'+'ker'](_0x2718aa,'reflection'+'s'),_0x459087['set'](0x346*-0x1+-0x11de+0x1524,(-0x175e+-0x5bd+0x1e1b)*_0x57c09b,(0x7*0x229+0x1*0x14ab+-0x22ca)*_0x57c09b,(0x2032+-0x522+-0x1a90)*_0x57c09b);for(let _0x670be8=0x1cfe+-0x1382+0x329*-0x3;_0x670be8<_0x1cf78f['length'];++_0x670be8)Qs(_0x1cf78f[_0x670be8],_0x199331,{'numSamples':0x1,'rect':_0x459087,'seamPixels':_0x57c09b}),_0x459087['y']+=_0x459087['w'],_0x459087['z']=Math['max'](0x1a32+0x27*0xf3+-0x3f36,Math['floor'](_0x459087['z']*(0x3*-0x981+-0x456+0x20d9+0.5))),_0x459087['w']=Math['max'](0xf16*0x2+0x1509+-0x2*0x199a,Math['floor'](_0x459087['w']*(-0x26f5+0x1*-0x2123+-0x3*-0x1808+0.5)));return G['popGpuMark'+'er'](_0x2718aa),G['pushGpuMar'+'ker'](_0x2718aa,'ambient'),_0x459087['set']((-0x1bfc*-0x1+-0x14*-0x55+0xb6*-0x30)*_0x57c09b,(-0x3d+0x1e93+-0x1cd6)*_0x57c09b,(-0xc2f*-0x1+-0x1d*-0x36+-0x120d)*_0x57c09b,(0x5*-0x77f+0x15a*0x7+-0x1*-0x1c25)*_0x57c09b),_0x45a7f9!=null&&_0x45a7f9['legacyAmbi'+'ent']?Qs(_0x1cf78f[0x1335*-0x1+-0x1*-0x107+0x1233],_0x199331,{'numSamples':0x1,'rect':_0x459087,'seamPixels':_0x57c09b}):Qs(_0x1cf78f[-0x19b2+-0x2674+-0xa1*-0x66],_0x199331,{'numSamples':(_0x45a7f9==null?void(-0x240d+0x1d69+-0x19*-0x44):_0x45a7f9['numSamples'])||-0x90*0x40+-0x69*-0x22+0x1e0e,'distribution':'lambert','rect':_0x459087,'seamPixels':_0x57c09b}),G['popGpuMark'+'er'](_0x2718aa),G['popGpuMark'+'er'](_0x2718aa),_0x199331;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x3e9abf,_0x282a65)=>{const _0x5dfade=_0x3e9abf['split']('.')['map'](_0xa68f76=>parseInt(_0xa68f76,0x1986+-0x141f+0x1*-0x55d)),_0x4017c7=_0x282a65['split']('.')['map'](_0x50b72c=>parseInt(_0x50b72c,-0x1304*0x1+0x2e1+-0x1*-0x102d));return _0x5dfade[-0x18bc+-0x14b*0x1+0x3*0x8ad]<_0x4017c7[-0x25a+0x916*0x4+-0x21fe]||_0x5dfade[-0x1150+0x1ec7+0xd77*-0x1]===_0x4017c7[-0x2a*0xa7+-0x2c0*0x2+0x20e6]&&_0x5dfade[-0x7e6*0x1+0x26cc+0x1ee5*-0x1]<_0x4017c7[0x1c67+0xe*-0x28d+0x138*0x6];},WC=_0x23c010=>{const _0x131962=_0x23c010['APIVersion'];for(const _0x4229b0 in _0x23c010)if(_0x4229b0!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x4229b0)){const _0x21accd=VC[_0x4229b0];_0x21accd&&(!_0x131962||HC(_0x131962,_0x21accd))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x4229b0+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x21accd+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x131962||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x125d67=GC[_0x4229b0];_0x125d67?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x4229b0+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x125d67+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x4229b0+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x54381e){_0x54381e['forEach'](_0x2123b1=>{_0x2123b1['endsWith']('\x0a')?this['code']+=_0x2123b1:this['code']+=_0x2123b1+'\x0a';});}['prepend'](..._0x2fa9a0){_0x2fa9a0['forEach'](_0x3e35e4=>{_0x3e35e4['endsWith']('\x0a')?this['code']=_0x3e35e4+this['code']:this['code']=_0x3e35e4+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class $C{constructor(_0x297c33,_0x12ea92){if(this['device']=_0x297c33,this['options']=_0x12ea92,this['attributes']={'vertex_position':He},_0x12ea92['userAttrib'+'utes']){for(const [_0x39e1b7,_0x414e43]of Object['entries'](_0x12ea92['userAttrib'+'utes']))this['attributes'][_0x414e43]=_0x39e1b7;}if(_0x12ea92['chunks']){const _0x543da5=_0x12ea92['chunks'];WC(_0x543da5),this['chunks']=Object['create'](X);for(const _0x32cc14 in X)if(_0x543da5['hasOwnProp'+'erty'](_0x32cc14)){const _0x1d5c70=_0x543da5[_0x32cc14];for(const _0x13fc4f in Td)Td['hasOwnProp'+'erty'](_0x13fc4f)&&_0x1d5c70['indexOf'](_0x13fc4f)>=0xe5*0xa+0x1be8+0x24da*-0x1&&(this['attributes'][_0x13fc4f]=Td[_0x13fc4f]);this['chunks'][_0x32cc14]=_0x1d5c70;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x12ea92['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x12ea92['lights']['length']>-0xcda+-0x10f*0x9+0x1661||_0x12ea92['dirLightMa'+'pEnabled']||_0x12ea92['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x12ea92['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x12ea92['useSpecula'+'r']||_0x12ea92['ambientSH']||_0x12ea92['useHeights']||_0x12ea92['enableGGXS'+'pecular']||_0x12ea92['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x12ea92['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x12ea92['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x12ea92['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x12ea92['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x2a6740,_0x529910,_0x4f9669){return _0x2a6740+=_0x529910['baseVS'],(_0x4f9669['nineSliced'+'Mode']===nt||_0x4f9669['nineSliced'+'Mode']===Qe)&&(_0x2a6740+=_0x529910['baseNineSl'+'icedVS']),_0x2a6740;}['_setMapTra'+'nsform'](_0xbaf95d,_0x6107,_0x47253c,_0x26c3e1){const _0x47fa39=_0x47253c+_0x26c3e1*(-0x8fe+-0x610+0xf72);if(!_0xbaf95d[0x26a0+0x1a60+-0x40fd][_0x47fa39]){const _0x39f32b='texture_'+_0x6107+('MapTransfo'+'rm');_0xbaf95d[-0x1*0x1eb5+0x4f+0x1e66]+='uniform\x20ve'+'c3\x20'+_0x39f32b+'0;\x0a',_0xbaf95d[-0x1bf6+-0x476+0x206c]+='uniform\x20ve'+'c3\x20'+_0x39f32b+'1;\x0a',_0xbaf95d[-0x189f+-0xdc+0x197c*0x1]+='varying\x20ve'+'c2\x20vUV'+_0x26c3e1+'_'+_0x47253c+';\x0a',_0xbaf95d[0x1*-0x24b1+-0x13e7+0x389a]+='\x20\x20\x20vUV'+_0x26c3e1+'_'+_0x47253c+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x26c3e1+',\x201),\x20'+_0x39f32b+('0),\x20dot(ve'+'c3(uv')+_0x26c3e1+',\x201),\x20'+_0x39f32b+'1));\x0a',_0xbaf95d[0x1123*-0x1+-0x139*-0x18+-0xc32][_0x47fa39]=!(-0x2*0x1352+0x556*-0x1+0x15fd*0x2);}return _0xbaf95d;}['_fsGetBase'+'Code'](){const _0x280eac=this['options'],_0x2c5a25=this['chunks'];let _0x124e74=this['chunks']['basePS'];return _0x280eac['nineSliced'+'Mode']===nt?_0x124e74+=_0x2c5a25['baseNineSl'+'icedPS']:_0x280eac['nineSliced'+'Mode']===Qe&&(_0x124e74+=_0x2c5a25['baseNineSl'+'icedTiledP'+'S']),_0x124e74;}['_fsGetStar'+'tCode'](_0x3181c2,_0x3b1bf4,_0x2f8670,_0x5ce921){let _0xdfcb46=_0x2f8670['startPS'];return _0x5ce921['nineSliced'+'Mode']===nt?_0xdfcb46+=_0x2f8670['startNineS'+'licedPS']:_0x5ce921['nineSliced'+'Mode']===Qe&&(_0xdfcb46+=_0x2f8670['startNineS'+'licedTiled'+'PS']),_0xdfcb46;}['_getLightS'+'ourceShape'+'String'](_0xf041f5){switch(_0xf041f5){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x58fc71,_0x2ac25c,_0x9762f8){const _0x272c4=this['device'],_0xd13233=this['options'],_0x378b92=this['chunks'];let _0x20d8fc='',_0x573e34='',_0x116dc2='';_0x20d8fc=this['_vsAddBase'+'Code'](_0x20d8fc,_0x378b92,_0xd13233),_0x573e34+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x116dc2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x573e34+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x20d8fc+=_0x378b92['transformV'+'S'],this['needsNorma'+'l']&&(_0x20d8fc+=_0x378b92['normalCore'+'VS'],_0x20d8fc+=_0x378b92['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x573e34+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0xd13233['reflection'+'Source']==='sphereMap'&&_0x272c4['fragmentUn'+'iformsCoun'+'t']<=-0x4cf*-0x5+-0xbd*0x15+-0x87a&&(_0x20d8fc+=_0x378b92['viewNormal'+'VS'],_0x573e34+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0xd13233['hasTangent'+'s']&&(_0xd13233['useHeights']||_0xd13233['useNormals']||_0xd13233['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x20d8fc+=_0x378b92['tangentBin'+'ormalVS'],_0x573e34+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x573e34+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0xd13233['enableGGXS'+'pecular']&&(_0x573e34+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x20d33a=-0x332+-0x1072*0x1+-0x13a6*-0x1;for(let _0x55a736=0x1f24+-0x76d*-0x3+-0x223*0x19;_0x55a736<_0x20d33a;_0x55a736++)_0x58fc71[_0x55a736]&&(this['attributes']['vertex_tex'+'Coord'+_0x55a736]='TEXCOORD'+_0x55a736,_0x20d8fc+=_0x378b92['uv'+_0x55a736+'VS'],_0x573e34+='\x20\x20\x20vec2\x20uv'+_0x55a736+'\x20=\x20getUv'+_0x55a736+'();\x0a'),_0x2ac25c[_0x55a736]&&(_0x573e34+='\x20\x20\x20vUv'+_0x55a736+'\x20=\x20uv'+_0x55a736+';\x0a');const _0x1851f0=[_0x20d8fc,this['varyings'],_0x573e34,[]];_0x9762f8['forEach'](_0x428571=>{this['_setMapTra'+'nsform'](_0x1851f0,_0x428571['name'],_0x428571['id'],_0x428571['uv']);}),_0x20d8fc=_0x1851f0[-0xa1e*0x1+-0xd81+0x1*0x179f],this['varyings']=_0x1851f0[0x24b5+0x36d*-0x7+-0xcb9],_0x573e34=_0x1851f0[0x9c1+0xfc8+-0x1987],_0xd13233['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x573e34+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0xd13233['useMsdf']&&_0xd13233['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x573e34+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x20d8fc+=_0x378b92['msdfVS']),(_0xd13233['useMorphPo'+'sition']||_0xd13233['useMorphNo'+'rmal'])&&(_0x116dc2+='#define\x20MO'+'RPHING\x0a',_0xd13233['useMorphTe'+'xtureBased'+'Int']&&(_0x116dc2+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0xd13233['useMorphPo'+'sition']&&(_0x116dc2+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0xd13233['useMorphNo'+'rmal']&&(_0x116dc2+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0xd13233['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0xd13233['batch']?_0x116dc2+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x116dc2+='#define\x20SK'+'IN\x0a')):_0xd13233['useInstanc'+'ing']&&(_0x116dc2+='#define\x20IN'+'STANCING\x0a'),_0xd13233['screenSpac'+'e']&&(_0x116dc2+='#define\x20SC'+'REENSPACE\x0a'),_0xd13233['pixelSnap']&&(_0x116dc2+='#define\x20PI'+'XELSNAP\x0a'),_0x20d8fc+='\x0a',_0x20d8fc+=_0x378b92['startVS'],_0x20d8fc+=_0x573e34,_0x20d8fc+=_0x378b92['endVS'],_0x20d8fc+='}',Object['keys'](h_)['forEach'](_0x1aeb5e=>{_0x20d8fc['indexOf'](_0x1aeb5e)>=0x3ab*-0x1+0x13b6+-0x100b&&(this['varyings']+='varying\x20'+h_[_0x1aeb5e]+'\x20'+_0x1aeb5e+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x1aeb5e['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x116dc2+this['varyings']+_0x20d8fc;}['_fsGetBegi'+'nCode'](){let _0x39bf78='';for(let _0x1a85d9=0x191*0x11+-0xef0+-0xbb1;_0x1a85d9<this['defines']['length'];_0x1a85d9++)_0x39bf78+='#define\x20'+this['defines'][_0x1a85d9]+'\x0a';return _0x39bf78;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x431339=this['_fsGetBegi'+'nCode']();return _0x431339+=this['varyings'],_0x431339+=this['varyingDef'+'ines'],_0x431339+=this['frontendDe'+'cl'],_0x431339+=this['frontendCo'+'de'],_0x431339+=It['begin'](),_0x431339+=this['frontendFu'+'nc'],_0x431339+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x431339+=It['end'](),_0x431339;}['_fsGetPreP'+'assCode'](){let _0x4d8525=this['_fsGetBegi'+'nCode']();return _0x4d8525+=this['varyings'],_0x4d8525+=this['varyingDef'+'ines'],_0x4d8525+=this['chunks']['floatAsUin'+'tPS'],_0x4d8525+=this['frontendDe'+'cl'],_0x4d8525+=this['frontendCo'+'de'],_0x4d8525+=It['begin'](),_0x4d8525+=this['frontendFu'+'nc'],_0x4d8525+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x4d8525+=It['end'](),_0x4d8525;}['_fsGetShad'+'owPassCode'](){const _0x186849=this['options'],_0x35fc21=this['chunks'],_0x23cd54=this['varyings'],_0xba6da6=this['shaderPass'+'Info']['lightType'];let _0x55aded=this['shaderPass'+'Info']['shadowType'];_0xba6da6!==oe&&_0x186849['clusteredL'+'ightingEna'+'bled']&&(_0x55aded===Hr||_0x55aded===Wr||_0x55aded===Ts)&&(_0x55aded=Dt);const _0xe8e145=ir['get'](_0x55aded);v['assert'](_0xe8e145);const _0x5165d8=(_0xe8e145==null?void(-0xf92+-0x13cc*-0x1+0x21d*-0x2):_0xe8e145['vsm'])??!(-0x195b+0x181+-0xc5*-0x1f),_0x347337=(_0xe8e145==null?void(-0x551+0x654+0x103*-0x1):_0xe8e145['pcss'])??!(-0x1d74+0x18b*-0xb+-0x3*-0xf7a);let _0x13de22=this['_fsGetBegi'+'nCode']();_0x55aded===Wr?_0x13de22+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x55aded===Hr&&(_0x13de22+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0xba6da6!==oe&&(_0x13de22+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x13de22+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x13de22+=_0x23cd54,_0x13de22+=this['varyingDef'+'ines'],_0x13de22+=this['frontendDe'+'cl'],_0x13de22+=this['frontendCo'+'de'],_0x55aded===Ts&&(_0x13de22+=X['linearizeD'+'epthPS']),_0x13de22+=It['begin'](),_0x13de22+=this['frontendFu'+'nc'];const _0x23ef0d=_0xba6da6===oe||!_0x5165d8&&_0xba6da6===Re;let _0x587c77=!(-0x15bd+-0x1*0x853+0x1e11);return _0x23ef0d?(_0x13de22+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x347337&&_0xba6da6!==oe&&(_0x13de22+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x13de22+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x587c77=!(-0x1c1+0x614+-0x9*0x7b)),_0x5165d8?_0x13de22+=_0x35fc21['storeEVSMP'+'S']:_0x347337?_0x13de22+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x587c77&&(_0x13de22+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x13de22+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x13de22+=It['end'](),_0x13de22;}['_fsGetLitP'+'assCode'](){var _0x2efb16;const _0xa11118=this['device'],_0x5df51c=this['options'],_0xb7e6ef=this['chunks'],_0xea0b0f=new sr(),_0x120d2e=new sr(),_0x27e428=new sr(),_0x2bbd84=new sr();_0x5df51c['opacityFad'+'esSpecular']===!(0x1*-0x245f+0x43*-0x8b+0x48c1)&&_0xea0b0f['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x5df51c['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x5df51c['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x5df51c['fresnelMod'+'el']>0xdfd*0x2+-0x6a7*0x4+0x5*-0x46&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x5df51c['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x5df51c['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x39387e=[];let _0x10de5a=0xf*-0x14d+-0x10e+-0x15f*-0xf,_0x1b4975=!(0x258f+-0x1b9f+-0x9ef),_0x6d3fe0=!(-0xa67+-0x773*0x1+0x11db),_0x252aae=!(-0x14ca+-0x25eb+0x3ab6),_0x5e50a2=_0x5df51c['lights']['some'](_0x2d7945=>_0x2d7945['_shape']&&_0x2d7945['_shape']!==yt);_0x5df51c['clusteredL'+'ightingEna'+'bled']&&_0x5df51c['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x5e50a2=!(-0x1*0x886+0x3a4*-0x5+0x1aba)),(_0x5e50a2||_0x5df51c['clusteredL'+'ightingEna'+'bled'])&&(_0xea0b0f['append']('#define\x20AR'+'EA_LIGHTS'),_0xea0b0f['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0xea0b0f['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x4b5843=-0x5a9+0xb6*0x35+-0x2005;_0x4b5843<_0x5df51c['lights']['length'];_0x4b5843++){const _0x18dd60=_0x5df51c['lights'][_0x4b5843],_0x164b32=_0x18dd60['_type'];if(_0x5df51c['clusteredL'+'ightingEna'+'bled']&&_0x164b32!==oe)continue;const _0x498302=_0x5e50a2&&_0x18dd60['_shape']?_0x18dd60['_shape']:yt;_0xea0b0f['append']('uniform\x20ve'+'c3\x20light'+_0x4b5843+'_color;'),_0x18dd60['_shadowTyp'+'e']===Ts&&_0x18dd60['castShadow'+'s']&&!_0x5df51c['noShadow']&&(_0xea0b0f['append']('uniform\x20fl'+'oat\x20light'+_0x4b5843+('_shadowSea'+'rchArea;')),_0xea0b0f['append']('uniform\x20ve'+'c4\x20light'+_0x4b5843+('_cameraPar'+'ams;')),_0x164b32===oe&&_0xea0b0f['append']('uniform\x20ve'+'c4\x20light'+_0x4b5843+('_softShado'+'wParams;'))),_0x164b32===oe?_0xea0b0f['append']('uniform\x20ve'+'c3\x20light'+_0x4b5843+('_direction'+';')):(_0xea0b0f['append']('uniform\x20ve'+'c3\x20light'+_0x4b5843+'_position;'),_0xea0b0f['append']('uniform\x20fl'+'oat\x20light'+_0x4b5843+'_radius;'),_0x164b32===Re&&(_0xea0b0f['append']('uniform\x20ve'+'c3\x20light'+_0x4b5843+('_direction'+';')),_0xea0b0f['append']('uniform\x20fl'+'oat\x20light'+_0x4b5843+('_innerCone'+'Angle;')),_0xea0b0f['append']('uniform\x20fl'+'oat\x20light'+_0x4b5843+('_outerCone'+'Angle;')))),_0x498302!==yt&&(_0x164b32===oe&&_0xea0b0f['append']('uniform\x20ve'+'c3\x20light'+_0x4b5843+'_position;'),_0xea0b0f['append']('uniform\x20ve'+'c3\x20light'+_0x4b5843+('_halfWidth'+';')),_0xea0b0f['append']('uniform\x20ve'+'c3\x20light'+_0x4b5843+('_halfHeigh'+'t;'))),_0x18dd60['castShadow'+'s']&&!_0x5df51c['noShadow']&&(_0xea0b0f['append']('uniform\x20ma'+'t4\x20light'+_0x4b5843+('_shadowMat'+'rix;')),_0xea0b0f['append']('uniform\x20fl'+'oat\x20light'+_0x4b5843+('_shadowInt'+'ensity;')),_0x164b32===oe&&(_0xea0b0f['append']('uniform\x20ma'+'t4\x20light'+_0x4b5843+('_shadowMat'+'rixPalette'+'[4];')),_0xea0b0f['append']('uniform\x20ve'+'c4\x20light'+_0x4b5843+('_shadowCas'+'cadeDistan'+'ces;')),_0xea0b0f['append']('uniform\x20in'+'t\x20light'+_0x4b5843+('_shadowCas'+'cadeCount;')),_0xea0b0f['append']('uniform\x20fl'+'oat\x20light'+_0x4b5843+('_shadowCas'+'cadeBlend;'))),_0xea0b0f['append']('uniform\x20ve'+'c4\x20light'+_0x4b5843+('_shadowPar'+'ams;')),_0x164b32===oe&&(_0x1b4975=!(-0xe7+0x5f2*-0x5+0x1ea1)),_0x164b32===Pe?_0xea0b0f['append']('uniform\x20'+(_0x18dd60['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x4b5843+('_shadowMap'+';')):_0xea0b0f['append']('uniform\x20'+(_0x18dd60['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x4b5843+('_shadowMap'+';')),_0x10de5a++,_0x39387e[_0x18dd60['_shadowTyp'+'e']]=!(0x1f64+0x136b+-0x32cf),_0x18dd60['_isVsm']&&(_0x6d3fe0=!(0x419+0x3*0x71b+-0x196a)),_0x18dd60['_shadowTyp'+'e']===Ts&&(_0x252aae=!(0x1b0e+0xbbd+-0x26cb))),_0x18dd60['_cookie']&&(_0x18dd60['_cookie']['_cubemap']?_0x164b32===Pe&&(_0xea0b0f['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x4b5843+'_cookie;'),_0xea0b0f['append']('uniform\x20fl'+'oat\x20light'+_0x4b5843+('_cookieInt'+'ensity;')),(!_0x18dd60['castShadow'+'s']||_0x5df51c['noShadow'])&&_0xea0b0f['append']('uniform\x20ma'+'t4\x20light'+_0x4b5843+('_shadowMat'+'rix;'))):_0x164b32===Re&&(_0xea0b0f['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x4b5843+'_cookie;'),_0xea0b0f['append']('uniform\x20fl'+'oat\x20light'+_0x4b5843+('_cookieInt'+'ensity;')),(!_0x18dd60['castShadow'+'s']||_0x5df51c['noShadow'])&&_0xea0b0f['append']('uniform\x20ma'+'t4\x20light'+_0x4b5843+('_shadowMat'+'rix;')),_0x18dd60['_cookieTra'+'nsform']&&(_0xea0b0f['append']('uniform\x20ve'+'c4\x20light'+_0x4b5843+('_cookieMat'+'rix;')),_0xea0b0f['append']('uniform\x20ve'+'c2\x20light'+_0x4b5843+('_cookieOff'+'set;')))));}const _0x2d0e82=this['needsNorma'+'l']&&(_0x5df51c['useNormals']||_0x5df51c['useClearCo'+'atNormals']||_0x5df51c['enableGGXS'+'pecular']&&!_0x5df51c['useHeights']);if(_0x2d0e82&&(_0x5df51c['hasTangent'+'s']?_0x120d2e['append'](_0xb7e6ef['TBNPS']):_0x5df51c['useNormals']||_0x5df51c['useClearCo'+'atNormals']?_0x120d2e['append'](_0xb7e6ef['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x120d2e['append'](_0xb7e6ef['TBNObjectS'+'pacePS']),_0x5df51c['twoSidedLi'+'ghting']&&_0x120d2e['append'](_0xb7e6ef['twoSidedLi'+'ghtingPS'])),_0x120d2e['append'](_0xb7e6ef['sphericalP'+'S']),_0x120d2e['append'](_0xb7e6ef['decodePS']),_0x120d2e['append'](_0xb7e6ef['gammaPS']),_0x120d2e['append'](_0xb7e6ef['tonemappin'+'gPS']),_0x120d2e['append'](_0xb7e6ef['fogPS']),_0x120d2e['append'](this['frontendCo'+'de']),_0x5df51c['useCubeMap'+'Rotation']&&_0xea0b0f['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x120d2e['append'](_0xb7e6ef['cubeMapRot'+'atePS']),_0x120d2e['append'](_0x5df51c['cubeMapPro'+'jection']>0x449+0x1f*-0x141+0x2296?_0xb7e6ef['cubeMapPro'+'jectBoxPS']:_0xb7e6ef['cubeMapPro'+'jectNonePS']),_0x120d2e['append'](_0x5df51c['skyboxInte'+'nsity']?_0xb7e6ef['envMultipl'+'yPS']:_0xb7e6ef['envConstPS'])),(this['lighting']&&_0x5df51c['useSpecula'+'r']||this['reflection'+'s'])&&(_0x5df51c['useMetalne'+'ss']&&_0x120d2e['append'](_0xb7e6ef['metalnessM'+'odulatePS']),_0x5df51c['fresnelMod'+'el']===Sp&&_0x120d2e['append'](_0xb7e6ef['fresnelSch'+'lickPS']),_0x5df51c['useIridesc'+'ence']&&_0x120d2e['append'](_0xb7e6ef['iridescenc'+'eDiffracti'+'onPS'])),_0x5df51c['useAo'])switch(_0x120d2e['append'](_0xb7e6ef['aoDiffuseO'+'ccPS']),_0x5df51c['occludeSpe'+'cular']){case Bo:_0x120d2e['append'](_0x5df51c['occludeSpe'+'cularFloat']?_0xb7e6ef['aoSpecOccS'+'implePS']:_0xb7e6ef['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x120d2e['append'](_0x5df51c['occludeSpe'+'cularFloat']?_0xb7e6ef['aoSpecOccP'+'S']:_0xb7e6ef['aoSpecOccC'+'onstPS']);break;}_0x5df51c['reflection'+'Source']==='envAtlasHQ'?(_0x120d2e['append'](_0xb7e6ef['envAtlasPS']),_0x120d2e['append'](_0xb7e6ef['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x5df51c['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5df51c['reflection'+'Encoding'])))):_0x5df51c['reflection'+'Source']==='envAtlas'?(_0x120d2e['append'](_0xb7e6ef['envAtlasPS']),_0x120d2e['append'](_0xb7e6ef['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5df51c['reflection'+'Encoding'])))):_0x5df51c['reflection'+'Source']==='cubeMap'?_0x120d2e['append'](_0xb7e6ef['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5df51c['reflection'+'Encoding']))):_0x5df51c['reflection'+'Source']==='sphereMap'&&_0x120d2e['append'](_0xb7e6ef['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5df51c['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x5df51c['useClearCo'+'at']&&_0x120d2e['append'](_0xb7e6ef['reflection'+'CCPS']),_0x5df51c['useSheen']&&_0x120d2e['append'](_0xb7e6ef['reflection'+'SheenPS'])),_0x5df51c['useRefract'+'ion']&&(_0x5df51c['useDynamic'+'Refraction']?(_0x5df51c['dispersion']&&(_0xea0b0f['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0xea0b0f['append']('#define\x20DI'+'SPERSION\x0a')),_0x120d2e['append'](_0xb7e6ef['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x120d2e['append'](_0xb7e6ef['refraction'+'CubePS'])),_0x5df51c['useSheen']&&_0x120d2e['append'](_0xb7e6ef['lightSheen'+'PS']),_0x5df51c['clusteredL'+'ightingEna'+'bled']&&(_0x120d2e['append'](_0xb7e6ef['clusteredL'+'ightUtilsP'+'S']),_0x5df51c['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x120d2e['append'](_0xb7e6ef['clusteredL'+'ightCookie'+'sPS']),_0x5df51c['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5df51c['noShadow']&&(_0x39387e[Dt]=!(-0xdcf+0x12c3+0x13d*-0x4),_0x39387e[lh]=!(0x3a*-0x2c+-0x3*-0x5cb+-0x769),_0x39387e[Ts]=!(-0x1895+-0x223+0x1ab8))),(_0x10de5a>-0x23ef+-0x25a1*0x1+0x8*0x932||_0x5df51c['clusteredL'+'ightingEna'+'bled'])&&(_0x1b4975&&_0x120d2e['append'](_0xb7e6ef['shadowCasc'+'adesPS']),(_0x39387e[Bh]||_0x39387e[Dt]||_0x39387e[Nh]||_0x39387e[zh])&&_0x120d2e['append'](_0xb7e6ef['shadowStan'+'dardPS']),(_0x39387e[lh]||_0x39387e[Iu])&&_0x120d2e['append'](_0xb7e6ef['shadowStan'+'dardGL2PS']),_0x6d3fe0&&(_0x120d2e['append'](_0xb7e6ef['shadowVSM_'+'commonPS']),_0x39387e[Hr]&&_0x120d2e['append'](_0xb7e6ef['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x39387e[Wr]&&_0x120d2e['append'](_0xa11118['extTexture'+'FloatLinea'+'r']?_0xb7e6ef['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0xb7e6ef['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x252aae&&(_0x120d2e['append'](_0xb7e6ef['linearizeD'+'epthPS']),_0x120d2e['append'](_0xb7e6ef['shadowPCSS'+'PS']),_0x120d2e['append'](_0xb7e6ef['shadowSoft'+'PS']))),_0x5df51c['enableGGXS'+'pecular']&&_0x120d2e['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x120d2e['append'](_0xb7e6ef['lightDiffu'+'seLambertP'+'S']),(_0x5e50a2||_0x5df51c['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x120d2e['append'](_0xb7e6ef['ltcPS']));let _0x5bf26c=!(0x178+0x27f*0x5+-0xdf2);_0x5df51c['useSpecula'+'r']&&(this['lighting']&&_0x120d2e['append'](_0x5df51c['enableGGXS'+'pecular']?_0xb7e6ef['lightSpecu'+'larAnisoGG'+'XPS']:_0xb7e6ef['lightSpecu'+'larBlinnPS']),!_0x5df51c['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x5df51c['diffuseMap'+'Enabled']&&(_0xea0b0f['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0xea0b0f['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x5bf26c=!(0x8bf+-0x20*0xa6+0xc01))),_0x120d2e['append'](_0xb7e6ef['combinePS']),_0x5df51c['lightMapEn'+'abled']&&_0x120d2e['append'](_0x5df51c['useSpecula'+'r']&&_0x5df51c['dirLightMa'+'pEnabled']?_0xb7e6ef['lightmapDi'+'rAddPS']:_0xb7e6ef['lightmapAd'+'dPS']);const _0x404cd6=!_0x5df51c['lightMapEn'+'abled']||_0x5df51c['lightMapWi'+'thoutAmbie'+'nt'];_0x404cd6&&(_0x5df51c['ambientSou'+'rce']==='ambientSH'?_0x120d2e['append'](_0xb7e6ef['ambientSHP'+'S']):_0x5df51c['ambientSou'+'rce']==='envAtlas'?(_0x5df51c['reflection'+'Source']!=='envAtlas'&&_0x5df51c['reflection'+'Source']!=='envAtlasHQ'&&_0x120d2e['append'](_0xb7e6ef['envAtlasPS']),_0x120d2e['append'](_0xb7e6ef['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5df51c['ambientEnc'+'oding'])))):_0x120d2e['append'](_0xb7e6ef['ambientCon'+'stantPS'])),_0x5bf26c||_0xea0b0f['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x5df51c['useMsdf']&&(_0x5df51c['msdfTextAt'+'tribute']||_0xea0b0f['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x120d2e['append'](_0xb7e6ef['msdfPS'])),this['needsNorma'+'l']&&(_0x120d2e['append'](_0xb7e6ef['viewDirPS']),_0x5df51c['useSpecula'+'r']&&_0x120d2e['append'](_0x5df51c['enableGGXS'+'pecular']?_0xb7e6ef['reflDirAni'+'soPS']:_0xb7e6ef['reflDirPS']));let _0x3b8d7a=!(-0x152b+-0xd68+-0x2*-0x114a),_0x1a2e9d=!(0x2252+0xde+-0x232f),_0x19d30c=!(-0x72f*0x4+-0x1b7*0x1+-0x1*-0x1e74),_0x5a112e=!(0xd*0x2ae+0x7c5+0x2a9a*-0x1),_0x4d3e4e=!(0x1b28+-0x210a+0x5e3*0x1),_0xe8114a;if(_0x5df51c['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x5a112e=!(0x13*-0x9c+0xf76+0x1*-0x3e2),_0x3b8d7a=!(0x2*-0x626+0x176e*0x1+-0xb22),_0x1a2e9d=!(0x1*-0xe4b+-0x6e*-0x1d+0x1d5),_0x4d3e4e=!(-0x1a9*-0xd+0x4*-0x432+-0x4cd*0x1),_0x120d2e['append'](_0xb7e6ef['floatUnpac'+'kingPS']),_0x5df51c['lightMaskD'+'ynamic']&&_0xea0b0f['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x5df51c['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0xea0b0f['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x5df51c['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5df51c['noShadow']){const _0x55b2e3=(_0x2efb16=ir['get'](_0x5df51c['clusteredL'+'ightingSha'+'dowType']))==null?void(-0x1595+-0x1*-0x8e9+0xcac):_0x2efb16['name'];v['assert'](_0x55b2e3);const _0x4d2afd=_0x55b2e3['substring'](-0x1b*0x111+0x3b*0x80+-0xb5,-0x8*0x1ea+0x1*-0x2615+0x1*0x3569);_0xea0b0f['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0xea0b0f['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x4d2afd);}_0x5df51c['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0xea0b0f['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0xea0b0f['append'](E0['getShaderD'+'efines']()),_0x5df51c['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5df51c['noShadow']&&_0x120d2e['append'](_0xb7e6ef['clusteredL'+'ightShadow'+'sPS']),_0x120d2e['append'](_0xb7e6ef['clusteredL'+'ightPS']);}if(_0x2bbd84['append'](this['_fsGetStar'+'tCode'](_0x2bbd84,_0xa11118,_0xb7e6ef,_0x5df51c)),this['needsNorma'+'l']&&(_0x2bbd84['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x5df51c['useHeights']||_0x5df51c['useNormals'])&&_0x5df51c['hasTangent'+'s']&&(_0x2bbd84['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x2bbd84['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x2bbd84['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x2d0e82&&(_0x2bbd84['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x5df51c['twoSidedLi'+'ghting']&&_0x2bbd84['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x2bbd84['append'](this['frontendFu'+'nc']),_0x5df51c['ssao']&&(_0x120d2e['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x27e428['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x5df51c['useSpecula'+'r']&&_0x27e428['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x5df51c['useClearCo'+'at']&&_0x27e428['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x5df51c['useSpecula'+'r']||this['reflection'+'s'])&&(_0x5df51c['useMetalne'+'ss']&&(_0x27e428['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x27e428['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x27e428['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x5df51c['useIridesc'+'ence']&&_0x27e428['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x404cd6&&(_0x27e428['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x5df51c['useSpecula'+'r']&&_0x27e428['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x5df51c['separateAm'+'bient']&&_0x27e428['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x5bf26c||_0x27e428['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x5df51c['useAo']&&!_0x5df51c['occludeDir'+'ect']&&_0x27e428['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x5df51c['lightMapEn'+'abled']&&_0x27e428['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x5df51c['useClearCo'+'at']&&(_0x27e428['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x5df51c['fresnelMod'+'el']>0x5e3+-0xfef*0x1+-0x506*-0x2?(_0x27e428['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x27e428['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x27e428['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x5df51c['useSpecula'+'rityFactor']&&_0x27e428['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x5df51c['useSheen']&&_0x27e428['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x27e428['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x5df51c['fresnelMod'+'el']>-0x1e0c*0x1+-0x1ed7*-0x1+0xcb*-0x1?_0x27e428['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x27e428['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x5df51c['useSpecula'+'rityFactor']&&_0x27e428['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x5e50a2&&(_0x27e428['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x5df51c['useSpecula'+'r']&&_0x27e428['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x3ef335=-0x579+-0xaa2*-0x2+-0xfcb;_0x3ef335<_0x5df51c['lights']['length'];_0x3ef335++){const _0x7023c7=_0x5df51c['lights'][_0x3ef335],_0x3ca760=_0x7023c7['_type'];if(_0x5df51c['clusteredL'+'ightingEna'+'bled']&&_0x3ca760!==oe)continue;_0xe8114a=!(-0xb16+-0x527*-0x5+-0xeac);const _0x54d927=_0x5e50a2&&_0x7023c7['_shape']?_0x7023c7['shape']:yt,_0x230db3=_0x5e50a2&&_0x7023c7['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x54d927):'';if(_0x54d927!==yt&&_0x27e428['append']('\x20\x20\x20\x20calc'+_0x230db3+('LightValue'+'s(light')+_0x3ef335+('_position,'+'\x20light')+_0x3ef335+('_halfWidth'+',\x20light')+_0x3ef335+('_halfHeigh'+'t);')),_0x3ca760===oe?(_0x27e428['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x3ef335+('_direction'+';')),_0x27e428['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x7023c7['_cookie']&&(_0x3ca760===Re&&!_0x7023c7['_cookie']['_cubemap']||_0x3ca760===Pe&&_0x7023c7['_cookie']['_cubemap'])&&(_0x4d3e4e=!(-0x88b+0x2*0xbc0+-0xef5),_0xe8114a=!(0x26c1+-0x29a*-0x1+0xdc9*-0x3)),_0x27e428['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x3ef335+('_position)'+';')),_0x3b8d7a=!(0xb0e+-0x1*-0x20f0+-0x2*0x15ff),_0xe8114a&&(_0x3ca760===Re?_0x27e428['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x7023c7['_cookieFal'+'loff']?'':'Clip')+(_0x7023c7['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x3ef335+('_cookie,\x20l'+'ight')+_0x3ef335+('_shadowMat'+'rix,\x20light')+_0x3ef335+('_cookieInt'+'ensity')+(_0x7023c7['_cookieTra'+'nsform']?',\x20light'+_0x3ef335+('_cookieMat'+'rix,\x20light')+_0x3ef335+('_cookieOff'+'set'):'')+').'+_0x7023c7['_cookieCha'+'nnel']+';'):_0x27e428['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x3ef335+('_cookie,\x20l'+'ight')+_0x3ef335+('_shadowMat'+'rix,\x20light')+_0x3ef335+('_cookieInt'+'ensity).')+_0x7023c7['_cookieCha'+'nnel']+';')),_0x54d927===yt?_0x7023c7['_falloffMo'+'de']===wp?(_0x27e428['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x3ef335+('_radius,\x20d'+'LightDirW)'+';')),_0x1a2e9d=!(0x2398+-0x1078*-0x2+-0xcc*0x56)):(_0x27e428['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x3ef335+('_radius,\x20d'+'LightDirW)'+';')),_0x19d30c=!(0x1b*0x21+-0x6fb*0x1+-0x10*-0x38)):(_0x27e428['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x3ef335+('_radius,\x20d'+'LightDirW)'+';')),_0x19d30c=!(-0x16cb*-0x1+-0x1e80+-0x1*-0x7b5)),_0x27e428['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x3ca760===Re&&(_0xe8114a&&!_0x7023c7['_cookieFal'+'loff']||(_0x27e428['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x3ef335+('_direction'+',\x20light')+_0x3ef335+('_innerCone'+'Angle,\x20lig'+'ht')+_0x3ef335+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x5a112e=!(0x195d+0x1*-0x1a93+0x136)))),_0x54d927!==yt?_0x3ca760===oe?_0x27e428['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x27e428['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x230db3+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x27e428['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x7023c7['castShadow'+'s']&&!_0x5df51c['noShadow']){const _0x46f7e7=ir['get'](_0x7023c7['_shadowTyp'+'e']);v['assert'](_0x46f7e7);const _0x4f5d39=_0x7023c7['_shadowTyp'+'e']===Ts,_0x294b30=_0x46f7e7==null?void(-0x28b*-0xd+0x157d+0x1b46*-0x2):_0x46f7e7['vsm'],_0x55f276=_0x46f7e7==null?void(-0x15*-0x97+0x1*-0xed1+0x26e):_0x46f7e7['pcf'];let _0x2a0fdc=null,_0x41a553;switch(_0x7023c7['_shadowTyp'+'e']){case Hr:_0x2a0fdc='VSM16',_0x41a553='5.54';break;case Wr:_0x2a0fdc='VSM32',_0x41a553='15.0';break;case Bh:case Nh:_0x2a0fdc='PCF1x1';break;case lh:case Iu:_0x2a0fdc='PCF5x5';break;case Ts:_0x2a0fdc='PCSS';break;case Dt:case zh:default:_0x2a0fdc='PCF3x3';break;}if(_0x2a0fdc!==null){_0x7023c7['_normalOff'+'setBias']&&!_0x7023c7['_isVsm']&&_0x120d2e['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x3ca760===oe&&_0x120d2e['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x55f276||_0x4f5d39||_0xa11118['isWebGPU'])&&_0x120d2e['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x3ca760===Pe&&_0x120d2e['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x2710ff=_0xb7e6ef['shadowSamp'+'leCoordPS'];_0x120d2e['append'](_0x2710ff['replace']('$LIGHT',_0x3ef335)),_0x120d2e['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x120d2e['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x120d2e['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x120d2e['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x383bcd='light'+_0x3ef335+('_shadowMat'+'rix');_0x3ca760===oe&&_0x7023c7['numCascade'+'s']>0x2b6*-0x2+0x76a*-0x3+0x1bab&&(_0x27e428['append']('int\x20cascad'+'eIndex'+_0x3ef335+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x3ef335+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x3ef335+('_shadowCas'+'cadeCount)'+';')),_0x7023c7['cascadeBle'+'nd']>0x1d7a+-0x2*0xe71+-0x13*0x8&&_0x27e428['append']('cascadeInd'+'ex'+_0x3ef335+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x3ef335+',\x20light'+_0x3ef335+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x3ef335+('_shadowCas'+'cadeCount,'+'\x20light')+_0x3ef335+('_shadowCas'+'cadeBlend)'+';')),_0x27e428['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x3ef335+'\x20=\x20light'+_0x3ef335+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x3ef335+'];'),_0x383bcd='cascadeSha'+'dowMat'+_0x3ef335),_0x27e428['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x3ef335+'('+_0x383bcd+',\x20light'+_0x3ef335+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x3ca760===oe&&_0x27e428['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x3ef335+('_shadowCas'+'cadeDistan'+'ces);'));let _0x3e6f78='SHADOWMAP_'+'PASS(light'+_0x3ef335+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x3ef335+('_shadowPar'+'ams');if(_0x294b30)_0x3e6f78=_0x3e6f78+',\x20'+_0x41a553+(',\x20dLightDi'+'rW');else{if(_0x4f5d39){let _0x3e5936=_0x3ca760===oe?'light'+_0x3ef335+('_softShado'+'wParams'):'vec2(light'+_0x3ef335+('_shadowSea'+'rchArea)');_0x54d927!==yt&&(_0x3e5936='vec2(lengt'+'h(light'+_0x3ef335+('_halfWidth'+'),\x20length('+'light')+_0x3ef335+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x3ef335+('_shadowSea'+'rchArea')),_0x3e6f78=_0x3e6f78+',\x20light'+_0x3ef335+('_cameraPar'+'ams,\x20')+_0x3e5936+(',\x20dLightDi'+'rW');}}_0x3ca760===Pe?(_0x2a0fdc='Point'+_0x2a0fdc,_0x4f5d39||(_0x3e6f78=_0x3e6f78+(',\x20dLightDi'+'rW'))):_0x3ca760===Re&&(_0x2a0fdc='Spot'+_0x2a0fdc),_0x27e428['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x3ef335+('\x20=\x20getShad'+'ow')+_0x2a0fdc+'('+_0x3e6f78+');'),_0x27e428['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x3ef335+',\x20light'+_0x3ef335+('_shadowInt'+'ensity);'));}}if(_0x54d927!==yt?_0x5df51c['useSpecula'+'r']?_0x27e428['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x3ef335+'_color'+(_0xe8114a?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x27e428['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x3ef335+'_color'+(_0xe8114a?'\x20*\x20dAtten3':'')+';'):_0x5e50a2&&_0x5df51c['useSpecula'+'r']?_0x27e428['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x3ef335+'_color'+(_0xe8114a?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x27e428['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x3ef335+'_color'+(_0xe8114a?'\x20*\x20dAtten3':'')+';'),_0x5df51c['useSpecula'+'r']&&_0x27e428['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x7023c7['affectSpec'+'ularity']){if(_0x54d927!==yt)_0x5df51c['useClearCo'+'at']&&_0x27e428['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x230db3+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x3ef335+'_color'+(_0xe8114a?'\x20*\x20dAtten3':'')+';'),_0x5df51c['useSpecula'+'r']&&_0x27e428['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x230db3+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x3ef335+'_color'+(_0xe8114a?'\x20*\x20dAtten3':'')+';');else{let _0x225903=!(-0x3*0x8e7+0x24c4*0x1+0x75*-0x16);_0x3ca760===oe&&_0x5df51c['fresnelMod'+'el']>-0x2ea+0x146+-0x1c*-0xf&&(_0x225903=!(0x1*0xc61+-0x2660+0x19ff)),_0x5df51c['useClearCo'+'at']&&_0x27e428['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x3ef335+'_color'+(_0xe8114a?'\x20*\x20dAtten3':'')+(_0x225903?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x5df51c['useSheen']&&_0x27e428['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x3ef335+'_color'+(_0xe8114a?'\x20*\x20dAtten3'+';':';')),_0x5df51c['useSpecula'+'r']&&_0x27e428['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x3ef335+'_color'+(_0xe8114a?'\x20*\x20dAtten3':'')+(_0x225903?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x3ca760!==oe&&_0x27e428['append']('\x20\x20\x20\x20}');}_0x5df51c['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x1a2e9d=!(-0x1*-0xa5b+-0xaa2*0x1+0x47),_0x19d30c=!(-0x39*-0x42+0x1d7*-0x15+0x17f1),_0x3b8d7a=!(-0x1d*-0x151+0x1001+-0x362e),_0x27e428['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x5e50a2&&(_0x5df51c['useClearCo'+'at']&&_0x27e428['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x5df51c['useSpecula'+'r']&&_0x27e428['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x5df51c['useRefract'+'ion']&&_0x27e428['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x5df51c['useAo']&&(_0x5df51c['occludeDir'+'ect']&&_0x27e428['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x5df51c['occludeSpe'+'cular']===Bo||_0x5df51c['occludeSpe'+'cular']===Lu)&&_0x27e428['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x5df51c['useSpecula'+'rityFactor']&&_0x27e428['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x5df51c['opacityFad'+'esSpecular']===!(-0x26f*0x9+0x2538+-0xf50)&&((_0x5df51c['blendType']===Kt||_0x5df51c['blendType']===hr)&&(_0x27e428['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x27e428['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x27e428['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x27e428['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x27e428['append'](_0xb7e6ef['endPS']),_0x5df51c['blendType']===Kt||_0x5df51c['blendType']===Hc||_0x5df51c['alphaToCov'+'erage']?_0x27e428['append'](_0xb7e6ef['outputAlph'+'aPS']):_0x5df51c['blendType']===hr?_0x27e428['append'](_0xb7e6ef['outputAlph'+'aPremulPS']):_0x27e428['append'](_0xb7e6ef['outputAlph'+'aOpaquePS']),_0x5df51c['useMsdf']&&_0x27e428['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x27e428['append'](_0xb7e6ef['outputPS']),_0x27e428['append'](_0xb7e6ef['debugOutpu'+'tPS']),_0x3b8d7a&&_0x120d2e['prepend'](_0xb7e6ef['lightDirPo'+'intPS']),_0x1a2e9d&&_0x120d2e['prepend'](_0xb7e6ef['falloffLin'+'earPS']),_0x19d30c&&_0x120d2e['prepend'](_0xb7e6ef['falloffInv'+'SquaredPS']),_0x5a112e&&_0x120d2e['prepend'](_0xb7e6ef['spotPS']),_0x4d3e4e&&!_0x5df51c['clusteredL'+'ightingEna'+'bled']&&_0x120d2e['prepend'](_0xb7e6ef['cookiePS']);let _0xad5cbf='';const _0xdedd08='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x27e428['code']+'\x0a}';_0x120d2e['append'](_0xdedd08),_0x2bbd84['append'](_0xb7e6ef['debugProce'+'ssFrontend'+'PS']),_0x2bbd84['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x2bbd84['append'](It['end']());const _0x36cb14=_0xea0b0f['code']+_0x120d2e['code']+_0x2bbd84['code'];return _0x36cb14['includes']('dTBN')&&(_0xad5cbf+='mat3\x20dTBN;'+'\x0a'),_0x36cb14['includes']('dVertexNor'+'malW')&&(_0xad5cbf+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x36cb14['includes']('dTangentW')&&(_0xad5cbf+='vec3\x20dTang'+'entW;\x0a'),_0x36cb14['includes']('dBinormalW')&&(_0xad5cbf+='vec3\x20dBino'+'rmalW;\x0a'),_0x36cb14['includes']('dViewDirW')&&(_0xad5cbf+='vec3\x20dView'+'DirW;\x0a'),_0x36cb14['includes']('dReflDirW')&&(_0xad5cbf+='vec3\x20dRefl'+'DirW;\x0a'),_0x36cb14['includes']('dHalfDirW')&&(_0xad5cbf+='vec3\x20dHalf'+'DirW;\x0a'),_0x36cb14['includes']('ccReflDirW')&&(_0xad5cbf+='vec3\x20ccRef'+'lDirW;\x0a'),_0x36cb14['includes']('dLightDirN'+'ormW')&&(_0xad5cbf+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x36cb14['includes']('dLightDirW')&&(_0xad5cbf+='vec3\x20dLigh'+'tDirW;\x0a'),_0x36cb14['includes']('dLightPosW')&&(_0xad5cbf+='vec3\x20dLigh'+'tPosW;\x0a'),_0x36cb14['includes']('dShadowCoo'+'rd')&&(_0xad5cbf+='vec3\x20dShad'+'owCoord;\x0a'),_0x36cb14['includes']('dReflectio'+'n')&&(_0xad5cbf+='vec4\x20dRefl'+'ection;\x0a'),_0x36cb14['includes']('dDiffuseLi'+'ght')&&(_0xad5cbf+='vec3\x20dDiff'+'useLight;\x0a'),_0x36cb14['includes']('dSpecularL'+'ight')&&(_0xad5cbf+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x36cb14['includes']('dAtten')&&(_0xad5cbf+='float\x20dAtt'+'en;\x0a'),_0x36cb14['includes']('dAttenD')&&(_0xad5cbf+='float\x20dAtt'+'enD;\x0a'),_0x36cb14['includes']('dAtten3')&&(_0xad5cbf+='vec3\x20dAtte'+'n3;\x0a'),_0x36cb14['includes']('dMsdf')&&(_0xad5cbf+='vec4\x20dMsdf'+';\x0a'),_0x36cb14['includes']('ccFresnel')&&(_0xad5cbf+='float\x20ccFr'+'esnel;\x0a'),_0x36cb14['includes']('ccReflecti'+'on')&&(_0xad5cbf+='vec3\x20ccRef'+'lection;\x0a'),_0x36cb14['includes']('ccSpecular'+'Light')&&(_0xad5cbf+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x36cb14['includes']('ccSpecular'+'ityNoFres')&&(_0xad5cbf+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x36cb14['includes']('sSpecularL'+'ight')&&(_0xad5cbf+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x36cb14['includes']('sReflectio'+'n')&&(_0xad5cbf+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0xad5cbf+this['frontendDe'+'cl']+_0x36cb14;}['generateFr'+'agmentShad'+'er'](_0x42ac57,_0x3871c4,_0x3f0638,_0x4c7f15){const _0x1ae3e4=this['options'];this['frontendDe'+'cl']=_0x42ac57,this['frontendCo'+'de']=_0x3871c4,this['frontendFu'+'nc']=_0x3f0638,this['lightingUv']=_0x4c7f15,_0x1ae3e4['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x1ae3e4['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x1ae3e4['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x1ae3e4['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x1ae3e4['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(0x1b5f+-0xedc+-0xc82)),c(this,'chunks',{}),c(this,'pass',0x1f45+0x358*-0x2+0x7*-0x383),c(this,'alphaTest',!(0x1*-0x211+0x14b+0xc7*0x1)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(-0xc83*0x3+-0x186f+0x3df9)),c(this,'screenSpac'+'e',!(0x98d*-0x3+0x1c3c*0x1+0x6c)),c(this,'skin',!(-0x5cd+-0x394+0x4b1*0x2)),c(this,'batch',!(-0x17c5+0x26*-0x1+0x17ec)),c(this,'useInstanc'+'ing',!(-0x1e83+-0x7c4+0xa*0x3d4)),c(this,'useMorphPo'+'sition',!(0x140d+0x156e+0x1*-0x297a)),c(this,'useMorphNo'+'rmal',!(-0xd*0xeb+-0x102b*0x1+-0x59f*-0x5)),c(this,'useMorphTe'+'xtureBased'+'Int',!(0x1b3+-0x138d*-0x1+-0x25*0x93)),c(this,'nineSliced'+'Mode',0x6*-0x62e+-0xb*-0x371+-0xc7),c(this,'clusteredL'+'ightingEna'+'bled',!(0xa*-0x373+0x18bc+0x9c2)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0x243f+0x1e7b+0x5c5)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x1a6b+0x227e+0x3ce8*-0x1)),c(this,'clusteredL'+'ightingSha'+'dowType',0x241e+0xa97*-0x2+-0xef*0x10),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x1488+-0x23*0xc5+0x2f78)),c(this,'vertexColo'+'rs',!(-0x1f8d+-0x10f*-0x1b+-0x1*-0x2f9)),c(this,'lightMapEn'+'abled',!(-0xb9*0x5+-0x6*0x1ef+0x8*0x1e7)),c(this,'dirLightMa'+'pEnabled',!(0x46d*0x4+0x181c+0x4d*-0x8b)),c(this,'useHeights',!(-0x15ed*0x1+0x1b55*-0x1+0x3143)),c(this,'useNormals',!(0x742+-0x29f*-0x3+0x50a*-0x3)),c(this,'useClearCo'+'atNormals',!(0x332+0x1*-0x1e79+0x4*0x6d2)),c(this,'useAo',!(-0xb83*-0x3+0x2*0x1302+-0x488c)),c(this,'diffuseMap'+'Enabled',!(0x4*-0x762+0x1495+-0x1*-0x8f4)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(0x1*-0x2455+-0xd*-0x2ad+0x1*0x18d)),c(this,'ambientSH',!(-0x22af*-0x1+0x2414+-0x46c2)),c(this,'ssao',!(-0x3c+0x3*-0xcfb+-0x127*-0x22)),c(this,'twoSidedLi'+'ghting',!(0x1*0x203+0x2389+-0x258b)),c(this,'occludeDir'+'ect',!(0x15f0*0x1+-0x60e+-0xfe1)),c(this,'occludeSpe'+'cular',0x8*0x236+-0x1c0f*0x1+0xa5f),c(this,'occludeSpe'+'cularFloat',!(0x751*-0x4+0x317+0x8ba*0x3)),c(this,'useMsdf',!(0x1*0x2672+0x265b*-0x1+-0xb*0x2)),c(this,'msdfTextAt'+'tribute',!(0xa7b*-0x3+0x32*0x7f+-0x22*-0x32)),c(this,'alphaToCov'+'erage',!(-0x46a+0x127d*0x1+0x1*-0xe12)),c(this,'opacityFad'+'esSpecular',!(-0x1a2b+0x2619+-0xbed)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',-0x59*-0x34+-0x123e+0x2*0x15),c(this,'useSpecula'+'r',!(-0x1*0xd9a+-0xd*0x2a4+0x2fef)),c(this,'useSpecula'+'rityFactor',!(0x2*0xc4c+0x2216+-0x3aad)),c(this,'enableGGXS'+'pecular',!(0x2704+-0x1*-0x463+-0x457*0xa)),c(this,'fresnelMod'+'el',-0x199d*0x1+-0x1d21+0x36be),c(this,'useRefract'+'ion',!(0x1010*0x1+0xcf7*-0x2+-0x85*-0x13)),c(this,'useClearCo'+'at',!(-0x14b4+-0x42*0xb+0x35d*0x7)),c(this,'useSheen',!(-0x1ef4+-0x184*-0x2+0x1bed)),c(this,'useIridesc'+'ence',!(0x1be1+0x47*-0x72+0x1df*0x2)),c(this,'useMetalne'+'ss',!(-0x13*0x137+0x24a+0xa66*0x2)),c(this,'useDynamic'+'Refraction',!(-0x7*-0x275+0xaba*0x3+-0x3160)),c(this,'dispersion',!(0x17f*-0x2+-0x535*0x4+-0x1*-0x17d3)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(-0x269f+0x4*0x8ad+0x3ec)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',0x1f9+0x2632*0x1+-0x2*0x1415),c(this,'useCubeMap'+'Rotation',!(0x2556+0xb7+-0x5*0x79c)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0x2620+-0x103*0x1c+0x4275)),c(this,'lights',[]),c(this,'noShadow',!(-0xe16+-0x1d6e+-0xd*-0x359)),c(this,'lightMaskD'+'ynamic',-0x23b*-0x9+0x15c9*-0x1+-0xdb*-0x2),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(-0x60a*-0x3+-0x1a60+0x2c1*0x3));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(0x1d5b+0x5c4+-0x231e)),c(this,'specularTi'+'nt',!(0x1061*-0x2+-0x72a*0x1+0x1*0x27ed)),c(this,'metalnessT'+'int',!(0x1*0x528+0x11fb*0x2+-0x291d)),c(this,'glossTint',!(-0x1f15+-0x5*-0x197+0x1723)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(0x21fb*0x1+-0x2*-0x1066+0x16*-0x309)),c(this,'glossInver'+'t',!(0x22ad+0x1145+-0x33f1)),c(this,'sheenGloss'+'Invert',!(-0xf3a+0x23dd+-0x14a2)),c(this,'clearCoatG'+'lossInvert',!(0x2478+0x411+-0x2888)),c(this,'useAO',!(-0x18a9*0x1+-0x3*0xca1+-0x43*-0xef)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x3c5ad1){return'lit'+Object['keys'](_0x3c5ad1)['sort']()['map'](_0x580d1c=>_0x580d1c==='chunks'?Uu['generateCh'+'unksKey'](_0x3c5ad1):_0x580d1c==='lights'?Uu['generateLi'+'ghtsKey'](_0x3c5ad1):_0x580d1c+_0x3c5ad1[_0x580d1c])['join']('\x0a');},'generateLightsKey'(_0x155e96){return'lights:'+_0x155e96['lights']['map'](_0x14eec9=>!_0x155e96['clusteredL'+'ightingEna'+'bled']||_0x14eec9['_type']===oe?_0x14eec9['key']+',':'')['join']('');},'generateChunksKey'(_0x583e75){return'chunks:\x0a'+Object['keys'](_0x583e75['chunks']??{})['sort']()['map'](_0x472a3f=>_0x472a3f+_0x583e75['chunks'][_0x472a3f])['join']('');}},fa=[],Ad=_0x45628e=>Object['keys'](_0x45628e)['filter'](_0x3bf05f=>_0x3bf05f!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x1755ff){let _0x4ba2af;return _0x1755ff===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x1755ff)),_0x4ba2af=this['propsMin']):_0x1755ff===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x1755ff)),_0x4ba2af=this['props']):_0x4ba2af=Ad(_0x1755ff),'standard:\x0a'+It['definesHas'+'h'](_0x1755ff['defines'])+'\x0a'+_0x4ba2af['map'](_0x390009=>_0x390009+_0x1755ff[_0x390009])['join']('\x0a')+Uu['generateKe'+'y'](_0x1755ff['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x2c6470,_0x2b7509,_0x164454){const _0x4ac105=_0x164454[_0x2c6470],_0x58d43f=_0x164454[_0x2b7509],_0x5467f=_0x164454['litOptions']['pass']===gn;let _0x2ed5f0;return _0x5467f&&_0x164454['litOptions']['nineSliced'+'Mode']===nt||_0x5467f&&_0x164454['litOptions']['nineSliced'+'Mode']===Qe?_0x2ed5f0='nineSliced'+'Uv':(_0x4ac105===-0x3*0xa97+0xb91+-0x35e*-0x6?_0x2ed5f0='vUv'+_0x58d43f:_0x2ed5f0='vUV'+_0x58d43f+'_'+_0x4ac105,_0x164454['heightMap']&&_0x2c6470!=='heightMapT'+'ransform'&&(_0x2ed5f0+='\x20+\x20dUvOffs'+'et')),_0x2ed5f0;}['_addMapDef'](_0x1794bc,_0x393cb3){return _0x393cb3?'#define\x20'+_0x1794bc+'\x0a':'#undef\x20'+_0x1794bc+'\x0a';}['_addMapDef'+'s'](_0x31e896,_0x3fba4a,_0x115955,_0x44e179,_0x2486c4){return this['_addMapDef']('MAPFLOAT',_0x31e896)+this['_addMapDef']('MAPCOLOR',_0x3fba4a)+this['_addMapDef']('MAPVERTEX',_0x115955)+this['_addMapDef']('MAPTEXTURE',_0x44e179)+this['_addMapDef']('MAPINVERT',_0x2486c4);}['_addMap'](_0x96420,_0x11e58a,_0x29f959,_0x282405,_0x4f0557,_0x26971d=null){const _0x10b2e5=_0x96420+'Map',_0x57651c=_0x10b2e5+'Uv',_0x28e1bf=_0x10b2e5+'Identifier',_0x5e62d5=_0x10b2e5+'Transform',_0x391070=_0x10b2e5+'Channel',_0x59fc69=_0x96420+('VertexColo'+'rChannel'),_0x2cb858=_0x96420+'Tint',_0x551746=_0x96420+('VertexColo'+'r'),_0x4ede64=_0x96420+'Mode',_0x33ddf2=_0x96420+'Invert',_0x108a79=_0x29f959[_0x2cb858],_0x2e713a=_0x29f959[_0x551746],_0x47e77c=_0x29f959[_0x10b2e5],_0x32857d=_0x29f959[_0x28e1bf],_0x6bfc02=_0x29f959[_0x4ede64];let _0xd658fe=_0x282405[_0x11e58a];if(_0x47e77c){const _0x4f004d=this['_getUvSour'+'ceExpressi'+'on'](_0x5e62d5,_0x57651c,_0x29f959);if(_0xd658fe=_0xd658fe['replace'](/\$UV/g,_0x4f004d)['replace'](/\$CH/g,_0x29f959[_0x391070]),_0x4f0557&&_0xd658fe['search'](/\$SAMPLER/g)!==-(0x2572+0xff3+-0x6*0x8e6)){let _0x5e3a5e='texture_'+_0x10b2e5;const _0x3913bf=_0x4f0557[_0x32857d];_0x3913bf?_0x5e3a5e=_0x3913bf:_0x4f0557[_0x32857d]=_0x5e3a5e,_0xd658fe=_0xd658fe['replace'](/\$SAMPLER/g,_0x5e3a5e);}if(_0x26971d&&(_0x29f959[_0x391070]==='aaa'?_0xd658fe=_0xd658fe['replace'](/\$DECODE/g,'passThroug'+'h'):_0xd658fe=_0xd658fe['replace'](/\$DECODE/g,Es['decodeFunc'](_0x26971d)),_0xd658fe['indexOf']('$texture2D'+'SAMPLE'))){const _0x4f116f={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0xd658fe=_0xd658fe['replace'](/\$texture2DSAMPLE/g,_0x4f116f[_0x26971d]||'texture2D');}}_0x2e713a&&(_0xd658fe=_0xd658fe['replace'](/\$VC/g,_0x29f959[_0x59fc69])),_0x6bfc02&&(_0xd658fe=_0xd658fe['replace'](/\$DETAILMODE/g,_0x6bfc02));const _0x3c15ba=!!(_0x108a79&-0x5*0x335+-0x87*0xe+0x176c),_0x24e7ff=!!(_0x108a79&-0x411*-0x5+0xe85+-0x22d8),_0x17334f=!!_0x29f959[_0x33ddf2];return _0xd658fe=this['_addMapDef'+'s'](_0x3c15ba,_0x24e7ff,_0x2e713a,_0x47e77c,_0x17334f)+_0xd658fe,_0xd658fe['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x2f9d3c,_0x14ecc9,_0x3af524){if(_0x3af524[_0x2f9d3c]>-0x1*-0x8e7+0x2ab*0xe+-0xf6b*0x3){if(_0x3af524[_0x2f9d3c]<_0x14ecc9['length'])return _0x14ecc9['substring'](-0x2*-0x129e+-0x106*0x1f+-0x582,_0x3af524[_0x2f9d3c]);if(_0x3af524[_0x2f9d3c]>_0x14ecc9['length']){let _0x1ff8dd=_0x14ecc9;const _0x3066c2=_0x1ff8dd['charAt'](_0x1ff8dd['length']-(-0x13d+0x1*-0xeeb+0x1029)),_0x195d2d=_0x3af524[_0x2f9d3c]-_0x1ff8dd['length'];for(let _0x214747=0xcb3+0x8ab*0x1+-0x155e;_0x214747<_0x195d2d;_0x214747++)_0x1ff8dd+=_0x3066c2;return _0x1ff8dd;}return _0x14ecc9;}}['createShad'+'erDefiniti'+'on'](_0x18364c,_0x22957d){const _0x30ee09=Ks['get'](_0x18364c)['getByIndex'](_0x22957d['litOptions']['pass'])['isForward'],_0x2677da=new $C(_0x18364c,_0x22957d['litOptions']),_0x423823=[],_0x88a46c=[],_0x2e4cf1=[],_0x47e660=-0xbf5+0x19cb+-0xdd4,_0x928a62={};for(const _0x174e4e in fa){const _0x1e46c2=_0x174e4e+'Map';if(_0x22957d[_0x174e4e+('VertexColo'+'r')]){const _0x4e3198=_0x174e4e+('VertexColo'+'rChannel');_0x22957d[_0x4e3198]=this['_correctCh'+'annel'](_0x174e4e,_0x22957d[_0x4e3198],fa);}if(_0x22957d[_0x1e46c2]){const _0x50e5f2=_0x1e46c2+'Channel',_0x9735b3=_0x1e46c2+'Transform',_0x2a7f6b=_0x1e46c2+'Uv';_0x22957d[_0x2a7f6b]=Math['min'](_0x22957d[_0x2a7f6b],_0x47e660-(0x1682+-0x2*-0xe99+-0x1*0x33b3)),_0x22957d[_0x50e5f2]=this['_correctCh'+'annel'](_0x174e4e,_0x22957d[_0x50e5f2],fa);const _0x2ebb08=_0x22957d[_0x2a7f6b];_0x423823[_0x2ebb08]=!(0x1175+-0x32b+-0x725*0x2),_0x88a46c[_0x2ebb08]=_0x88a46c[_0x2ebb08]||_0x22957d[_0x1e46c2]&&!_0x22957d[_0x9735b3],_0x22957d[_0x9735b3]&&_0x2e4cf1['push']({'name':_0x174e4e,'id':_0x22957d[_0x9735b3],'uv':_0x22957d[_0x2a7f6b]});}}_0x22957d['forceUv1']&&(_0x423823[0x1*0x2242+-0x26a2*0x1+0x1*0x461]=!(-0x62f*-0x3+-0x12*-0x1a5+-0x3027),_0x88a46c[0x2650+0xc36+0x9*-0x59d]=_0x88a46c[-0x1af*-0xe+0x5*0x741+0x353*-0x12]!==void(-0x234e+-0x23e8+0x4736)?_0x88a46c[0x2425+-0x1289+-0x1*0x119b]:!(0x4*0x5b1+-0x376*-0xb+-0x2*0x1e6b)),_0x2677da['generateVe'+'rtexShader'](_0x423823,_0x88a46c,_0x2e4cf1),_0x22957d['litOptions']['fresnelMod'+'el']=_0x22957d['litOptions']['fresnelMod'+'el']===0x8d4+-0xfb7+0x6e3?Sp:_0x22957d['litOptions']['fresnelMod'+'el'];const _0x2276b9=new sr(),_0x1a2335=new sr(),_0xed9148=new sr(),_0x38e618=new sr();let _0x19f480='';if(_0x22957d['litOptions']['nineSliced'+'Mode']===Qe?_0x2276b9['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x2276b9['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x30ee09){if(_0x22957d['heightMap']&&(_0x2276b9['append']('vec2\x20dUvOf'+'fset;'),_0x1a2335['append'](this['_addMap']('height','parallaxPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getParalla'+'x();')),_0x22957d['litOptions']['blendType']!==is||_0x22957d['litOptions']['alphaTest']||_0x22957d['litOptions']['alphaToCov'+'erage']||_0x22957d['litOptions']['opacityDit'+'her']!==Rs){_0x2276b9['append']('float\x20dAlp'+'ha;'),_0x1a2335['append'](this['_addMap']('opacity','opacityPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getOpacity'+'();'),_0x38e618['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x22957d['litOptions']['alphaTest']&&(_0x1a2335['append'](_0x2677da['chunks']['alphaTestP'+'S']),_0xed9148['append']('alphaTest('+'dAlpha);'));const _0x3e051e=_0x22957d['litOptions']['opacityDit'+'her'];_0x3e051e!==Rs&&(_0x3e051e===Nm&&_0x2276b9['append'](_0x2677da['chunks']['bayerPS']),_0x2276b9['append']('#define\x20DI'+'THER_'+_0x3e051e['toUpperCas'+'e']()+'\x0a'),_0x2276b9['append'](_0x2677da['chunks']['opacityDit'+'herPS']),_0xed9148['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x2276b9['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x2677da['needsNorma'+'l']){if((_0x22957d['normalMap']||_0x22957d['clearCoatN'+'ormalMap'])&&(_0x1a2335['append'](_0x22957d['packedNorm'+'al']?_0x2677da['chunks']['normalXYPS']:_0x2677da['chunks']['normalXYZP'+'S']),!_0x22957d['litOptions']['hasTangent'+'s'])){const _0x2c5289=_0x22957d['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x19f480=this['_getUvSour'+'ceExpressi'+'on'](_0x2c5289+'Transform',_0x2c5289+'Uv',_0x22957d);}_0x2276b9['append']('vec3\x20dNorm'+'alW;'),_0x1a2335['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0x1a2335['append'](this['_addMap']('normal','normalMapP'+'S',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getNormal('+');'),_0x38e618['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x2677da['needsScene'+'Color']&&_0x2276b9['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x2677da['needsScree'+'nSize']&&_0x2276b9['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x2677da['needsTrans'+'forms']&&(_0x2276b9['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x2276b9['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x22957d['diffuseDet'+'ail']||_0x22957d['aoDetail'])&&_0x1a2335['append'](_0x2677da['chunks']['detailMode'+'sPS']),_0x2276b9['append']('vec3\x20dAlbe'+'do;'),_0x22957d['diffuseDet'+'ail']&&_0x1a2335['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x22957d,_0x2677da['chunks'],_0x928a62,_0x22957d['diffuseDet'+'ailEncodin'+'g'])),_0x1a2335['append'](this['_addMap']('diffuse','diffusePS',_0x22957d,_0x2677da['chunks'],_0x928a62,_0x22957d['diffuseEnc'+'oding'])),_0xed9148['append']('getAlbedo('+');'),_0x38e618['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x22957d['litOptions']['useRefract'+'ion']&&(_0x2276b9['append']('float\x20dTra'+'nsmission;'),_0x1a2335['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getRefract'+'ion();'),_0x38e618['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x2276b9['append']('float\x20dThi'+'ckness;'),_0x1a2335['append'](this['_addMap']('thickness','thicknessP'+'S',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getThickne'+'ss();'),_0x38e618['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x22957d['litOptions']['dispersion']&&_0x38e618['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x22957d['litOptions']['useIridesc'+'ence']&&(_0x2276b9['append']('float\x20dIri'+'descence;'),_0x1a2335['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getIridesc'+'ence();'),_0x38e618['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x2276b9['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x1a2335['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getIridesc'+'enceThickn'+'ess();'),_0x38e618['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x2677da['lighting']&&_0x22957d['litOptions']['useSpecula'+'r']||_0x2677da['reflection'+'s']?(_0x2276b9['append']('vec3\x20dSpec'+'ularity;'),_0x2276b9['append']('float\x20dGlo'+'ssiness;'),_0x22957d['litOptions']['useSheen']&&(_0x2276b9['append']('vec3\x20sSpec'+'ularity;'),_0x1a2335['append'](this['_addMap']('sheen','sheenPS',_0x22957d,_0x2677da['chunks'],_0x928a62,_0x22957d['sheenEncod'+'ing'])),_0xed9148['append']('getSheen()'+';'),_0x38e618['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x2276b9['append']('float\x20sGlo'+'ssiness;'),_0x1a2335['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getSheenGl'+'ossiness()'+';'),_0x38e618['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x22957d['litOptions']['useMetalne'+'ss']&&(_0x2276b9['append']('float\x20dMet'+'alness;'),_0x1a2335['append'](this['_addMap']('metalness','metalnessP'+'S',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getMetalne'+'ss();'),_0x38e618['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x2276b9['append']('float\x20dIor'+';'),_0x1a2335['append'](this['_addMap']('ior','iorPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getIor();'),_0x38e618['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x22957d['litOptions']['useSpecula'+'rityFactor']&&(_0x2276b9['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x1a2335['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getSpecula'+'rityFactor'+'();'),_0x38e618['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x22957d['useSpecula'+'rColor']?_0x1a2335['append'](this['_addMap']('specular','specularPS',_0x22957d,_0x2677da['chunks'],_0x928a62,_0x22957d['specularEn'+'coding'])):_0x1a2335['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x1a2335['append'](this['_addMap']('gloss','glossPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getGlossin'+'ess();'),_0xed9148['append']('getSpecula'+'rity();'),_0x38e618['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x38e618['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x2276b9['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x2276b9['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x22957d['aoDetail']&&_0x1a2335['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),(_0x22957d['aoMap']||_0x22957d['aoVertexCo'+'lor']||_0x22957d['useAO'])&&(_0x2276b9['append']('float\x20dAo;'),_0x1a2335['append'](this['_addMap']('ao','aoPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getAO();'),_0x38e618['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x2276b9['append']('vec3\x20dEmis'+'sion;'),_0x1a2335['append'](this['_addMap']('emissive','emissivePS',_0x22957d,_0x2677da['chunks'],_0x928a62,_0x22957d['emissiveEn'+'coding'])),_0xed9148['append']('getEmissio'+'n();'),_0x38e618['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x22957d['litOptions']['useClearCo'+'at']&&(_0x2276b9['append']('float\x20ccSp'+'ecularity;'),_0x2276b9['append']('float\x20ccGl'+'ossiness;'),_0x2276b9['append']('vec3\x20ccNor'+'malW;'),_0x1a2335['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0x1a2335['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0x1a2335['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getClearCo'+'at();'),_0xed9148['append']('getClearCo'+'atGlossine'+'ss();'),_0xed9148['append']('getClearCo'+'atNormal()'+';'),_0x38e618['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x38e618['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x38e618['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x22957d['lightMap']||_0x22957d['lightVerte'+'xColor']){const _0x5734d9=_0x22957d['dirLightMa'+'p']&&_0x22957d['litOptions']['useSpecula'+'r'],_0x321841=_0x5734d9?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x2276b9['append']('vec3\x20dLigh'+'tmap;'),_0x5734d9&&_0x2276b9['append']('vec3\x20dLigh'+'tmapDir;'),_0x1a2335['append'](this['_addMap']('light',_0x321841,_0x22957d,_0x2677da['chunks'],_0x928a62,_0x22957d['lightMapEn'+'coding'])),_0xed9148['append']('getLightMa'+'p();'),_0x38e618['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x5734d9&&_0x38e618['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x1a2335['code']['indexOf']('texture2DS'+'RGB')===-(0x8*-0x59+0x31f+-0x56)&&_0x1a2335['code']['indexOf']('texture2DR'+'GBM')===-(-0xbd5+0x15c8+-0x9f2)&&_0x1a2335['code']['indexOf']('texture2DR'+'GBE')===-(0x271+-0x5*-0x75a+-0x2732),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x247cfd=_0x22957d['litOptions']['opacitySha'+'dowDither'];(_0x22957d['litOptions']['alphaTest']||_0x247cfd)&&(_0x2276b9['append']('float\x20dAlp'+'ha;'),_0x1a2335['append'](this['_addMap']('opacity','opacityPS',_0x22957d,_0x2677da['chunks'],_0x928a62)),_0xed9148['append']('getOpacity'+'();'),_0x38e618['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x22957d['litOptions']['alphaTest']&&(_0x1a2335['append'](_0x2677da['chunks']['alphaTestP'+'S']),_0xed9148['append']('alphaTest('+'dAlpha);')),_0x247cfd!==Rs&&(_0x247cfd===Nm&&_0x2276b9['append'](_0x2677da['chunks']['bayerPS']),_0x2276b9['append']('#define\x20DI'+'THER_'+_0x247cfd['toUpperCas'+'e']()+'\x0a'),_0x2276b9['append'](_0x2677da['chunks']['opacityDit'+'herPS']),_0xed9148['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x2276b9['append'](_0x2677da['chunks']['litShaderA'+'rgsPS']),_0x1a2335['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0xed9148['code']+'\x0a'+_0x38e618['code']+'\x0a\x20}\x0a'),_0xed9148['code']='evaluateFr'+'ontend();';for(const _0x3cf2cc in _0x928a62)_0x2276b9['append']('uniform\x20sa'+'mpler2D\x20'+_0x928a62[_0x3cf2cc]+';');_0xed9148['code']='\x0a'+_0xed9148['code']['split']('\x0a')['map'](_0xc598de=>'\x20\x20\x20\x20'+_0xc598de)['join']('\x0a')+'\x0a\x0a',_0x2677da['generateFr'+'agmentShad'+'er'](_0x2276b9['code'],_0x1a2335['code'],_0xed9148['code'],_0x19f480);const _0x1d3fac=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x2677da['chunks']),..._0x2677da['chunks'],..._0x22957d['litOptions']['chunks']})),_0x21d271=new Map(_0x22957d['defines']),_0x51a285=Mt['createDefi'+'nition'](_0x18364c,{'name':'StandardSh'+'ader','attributes':_0x2677da['attributes'],'vertexCode':_0x2677da['vshader'],'fragmentCode':_0x2677da['fshader'],'vertexIncludes':_0x1d3fac,'fragmentIncludes':_0x1d3fac,'fragmentDefines':_0x21d271,'vertexDefines':_0x21d271});return _0x2677da['shaderPass'+'Info']['isForward']&&(_0x51a285['tag']=Ly),_0x51a285;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=0x1*-0x2407+-0x7*0x427+-0x8*-0x823;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(0x1eb5+0xd*0x1bb+0x3533*-0x1)),c(this,'parameters',{}),c(this,'alphaTest',0x2e6*-0x7+-0x151d+0x2967),c(this,'alphaToCov'+'erage',!(0x31*-0x89+0xae5*0x2+0x470)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(-0x2*-0x11e9+-0x10dc*-0x1+-0x34ae)),c(this,'_shaderVer'+'sion',0x19b9+-0x1779+-0x240),c(this,'_scene',null),c(this,'dirty',!(0x18*-0x1a+-0x1e05+-0x2075*-0x1)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x46191b){this['_dirtyShad'+'er']=!(-0x5*-0xcd+-0x97f+0x2bf*0x2),this['_chunks']=_0x46191b;}get['chunks'](){return this['_dirtyShad'+'er']=!(-0x2*-0xaba+0x267f+0x3bf3*-0x1),this['_chunks'];}set['depthBias'](_0x45ddf0){this['_depthStat'+'e']['depthBias']=_0x45ddf0;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x19f33a){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x19f33a;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x558aa3){this['_blendStat'+'e']['redWrite']=_0x558aa3;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x34534f){this['_blendStat'+'e']['greenWrite']=_0x34534f;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x159162){this['_blendStat'+'e']['blueWrite']=_0x159162;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x4d1c7f){this['_blendStat'+'e']['alphaWrite']=_0x4d1c7f;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x432393=this['transparen'+'t'],_0x50b15f=this['meshInstan'+'ces'];for(let _0x59ea00=-0x1e89+-0x21d7*-0x1+-0x34e;_0x59ea00<_0x50b15f['length'];_0x59ea00++)_0x50b15f[_0x59ea00]['transparen'+'t']=_0x432393;}set['blendState'](_0x1c934a){this['_blendStat'+'e']['copy'](_0x1c934a),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x20721e){const _0x8bab5e=Ft[_0x20721e];v['assert'](_0x8bab5e,'Unknown\x20bl'+'end\x20mode\x20'+_0x20721e),this['_blendStat'+'e']['setColorBl'+'end'](_0x8bab5e['op'],_0x8bab5e['src'],_0x8bab5e['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x8bab5e['alphaOp']??_0x8bab5e['op'],_0x8bab5e['alphaSrc']??_0x8bab5e['src'],_0x8bab5e['alphaDst']??_0x8bab5e['dst']);const _0x2f2a74=_0x20721e!==is;this['_blendStat'+'e']['blend']!==_0x2f2a74&&(this['_blendStat'+'e']['blend']=_0x2f2a74,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x5792e0,colorSrcFactor:_0x220239,colorDstFactor:_0x1ba40f,alphaOp:_0x3700d2,alphaSrcFactor:_0x4e4700,alphaDstFactor:_0x454a8c}=this['_blendStat'+'e'];for(let _0x5bd8cc=0x79a+0x430*-0x1+-0x36a;_0x5bd8cc<Ft['length'];_0x5bd8cc++){const _0x43d58a=Ft[_0x5bd8cc];if(_0x43d58a['src']===_0x220239&&_0x43d58a['dst']===_0x1ba40f&&_0x43d58a['op']===_0x5792e0&&_0x43d58a['src']===_0x4e4700&&_0x43d58a['dst']===_0x454a8c&&_0x43d58a['op']===_0x3700d2)return _0x5bd8cc;}return Kt;}set['depthState'](_0x1fb24b){this['_depthStat'+'e']['copy'](_0x1fb24b);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0xfc7b9c){this['_depthStat'+'e']['test']=_0xfc7b9c;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x4a0421){this['_depthStat'+'e']['func']=_0x4a0421;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x5c0851){this['_depthStat'+'e']['write']=_0x5c0851;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x37aa2e){var _0x54efe3;this['name']=_0x37aa2e['name'],this['alphaTest']=_0x37aa2e['alphaTest'],this['alphaToCov'+'erage']=_0x37aa2e['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x37aa2e['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x37aa2e['_depthStat'+'e']),this['cull']=_0x37aa2e['cull'],this['stencilFro'+'nt']=(_0x54efe3=_0x37aa2e['stencilFro'+'nt'])==null?void(-0x150c*-0x1+-0x1f*-0x86+0x2*-0x12a3):_0x54efe3['clone'](),_0x37aa2e['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x37aa2e['stencilFro'+'nt']===_0x37aa2e['stencilBac'+'k']?this['stencilFro'+'nt']:_0x37aa2e['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x5a94f4 in _0x37aa2e['parameters'])_0x37aa2e['parameters']['hasOwnProp'+'erty'](_0x5a94f4)&&this['_setParame'+'terSimple'](_0x5a94f4,_0x37aa2e['parameters'][_0x5a94f4]['data']);this['defines']['clear'](),_0x37aa2e['defines']['forEach']((_0xef6ac2,_0x34afee)=>this['defines']['set'](_0x34afee,_0xef6ac2));const _0x5195f7=_0x37aa2e['_chunks'];for(const _0x5d2eb0 in _0x5195f7)_0x5195f7['hasOwnProp'+'erty'](_0x5d2eb0)&&(this['_chunks'][_0x5d2eb0]=_0x5195f7[_0x5d2eb0]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x24e133=this['meshInstan'+'ces'];for(let _0x6fe8c8=-0x2*0x33f+-0x10*-0x182+-0x11a2;_0x6fe8c8<_0x24e133['length'];_0x6fe8c8++)_0x24e133[_0x6fe8c8]['updateKey']();}['updateUnif'+'orms'](_0x4a6cd0,_0x690607){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x44c512){v['assert'](!(-0x1*-0x301+-0x1*0x1de+-0x122),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x37*0xc+0x338+-0x5cb),this['clearVaria'+'nts']()),this['dirty']=!(0x2170+0xbf*0x21+-0x3a0f);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x3e8375=this['meshInstan'+'ces'],_0xe7808a=_0x3e8375['length'];for(let _0x3b7a5d=0xda0+0x25ba+-0x335a;_0x3b7a5d<_0xe7808a;_0x3b7a5d++)_0x3e8375[_0x3b7a5d]['clearShade'+'rs']();}['getParamet'+'er'](_0x8ed286){return this['parameters'][_0x8ed286];}['_setParame'+'terSimple'](_0x3de9e6,_0x169673){v['call'](()=>{_0x169673===void(0xcba+-0x1cde+-0x1024*-0x1)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x3de9e6+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x20dfd1=this['parameters'][_0x3de9e6];_0x20dfd1?_0x20dfd1['data']=_0x169673:this['parameters'][_0x3de9e6]={'scopeId':null,'data':_0x169673};}['setParamet'+'er'](_0x3336cb,_0x4485c4){if(_0x4485c4===void(0xeda+0x3*-0x3cb+0x7*-0x7f)&&typeof _0x3336cb=='object'){const _0xa4cce8=_0x3336cb;if(_0xa4cce8['length']){for(let _0x1efa47=0x2*0x44f+-0x167e+-0x6*-0x250;_0x1efa47<_0xa4cce8['length'];_0x1efa47++)this['setParamet'+'er'](_0xa4cce8[_0x1efa47]);return;}_0x3336cb=_0xa4cce8['name'],_0x4485c4=_0xa4cce8['value'];}this['_setParame'+'terSimple'](_0x3336cb,_0x4485c4);}['deletePara'+'meter'](_0x189d7c){this['parameters'][_0x189d7c]&&delete this['parameters'][_0x189d7c];}['setParamet'+'ers'](_0x373024,_0x379b7d){const _0x4735e3=this['parameters'];_0x379b7d===void(-0x24c*-0x1+0x2c7*-0xd+-0x3*-0xb45)&&(_0x379b7d=_0x4735e3);for(const _0x52e871 in _0x379b7d){const _0x18ff9e=_0x4735e3[_0x52e871];_0x18ff9e&&(_0x18ff9e['scopeId']||(_0x18ff9e['scopeId']=_0x373024['scope']['resolve'](_0x52e871)),_0x18ff9e['scopeId']['setValue'](_0x18ff9e['data']));}}['setDefine'](_0x282414,_0x420f45){let _0x412c96=!(0x1efa+-0x259c+0x1*0x6a3);const {defines:_0x528a3e}=this;_0x420f45!==void(0x188b+-0x13*-0x1a1+-0x1bbf*0x2)&&_0x420f45!==!(0x65f*-0x3+0x117f+0x19f)?(_0x412c96=!_0x528a3e['has'](_0x282414)||_0x528a3e['get'](_0x282414)!==_0x420f45,_0x528a3e['set'](_0x282414,_0x420f45)):(_0x412c96=_0x528a3e['has'](_0x282414),_0x528a3e['delete'](_0x282414)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x412c96);}['getDefine'](_0x5001d1){return this['defines']['has'](_0x5001d1);}['destroy'](){this['variants']['clear']();for(let _0x2074a6=0x24e*0x6+0x2*0x8ea+-0x1fa8;_0x2074a6<this['meshInstan'+'ces']['length'];_0x2074a6++){const _0x2b4a58=this['meshInstan'+'ces'][_0x2074a6];if(_0x2b4a58['clearShade'+'rs'](),_0x2b4a58['_material']=null,_0x2b4a58['mesh']){const _0x230938=al(_0x2b4a58['mesh']['device']);this!==_0x230938&&(_0x2b4a58['material']=_0x230938);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x2150+-0x8f*-0x1f+0x3*0x555;}['addMeshIns'+'tanceRef'](_0x207a24){this['meshInstan'+'ces']['push'](_0x207a24);}['removeMesh'+'InstanceRe'+'f'](_0x2eccb7){const _0x4bc276=this['meshInstan'+'ces'],_0x5152cb=_0x4bc276['indexOf'](_0x2eccb7);_0x5152cb!==-(-0x2525*0x1+0xc8*0x1+0x26*0xf5)&&_0x4bc276['splice'](_0x5152cb,0x8b3+-0x1497+0xbe5);}}class As{static['update'](_0x5a39c8,_0x2a349e,_0x1a8dd3,_0x16b84e,_0x33cffb,_0x447449,_0x299036){As['updateShar'+'edOptions'](_0x5a39c8,_0x2a349e,_0x1a8dd3,_0x33cffb,_0x447449),As['updateMate'+'rialOption'+'s'](_0x5a39c8,_0x2a349e),As['updateEnvO'+'ptions'](_0x5a39c8,_0x2a349e,_0x1a8dd3,_0x16b84e),As['updateLigh'+'tingOption'+'s'](_0x5a39c8,_0x2a349e,_0x33cffb,_0x299036);}static['updateShar'+'edOptions'](_0x4d4c7e,_0x274823,_0x100923,_0x49f7d6,_0x264f4d){_0x4d4c7e['chunks']=_0x274823['chunks'],_0x4d4c7e['pass']=_0x264f4d,_0x4d4c7e['alphaTest']=_0x274823['alphaTest']>-0x33e*-0x9+-0x4db+-0x1853,_0x4d4c7e['blendType']=_0x274823['blendType'],_0x4d4c7e['screenSpac'+'e']=_0x49f7d6&&(_0x49f7d6&Cp)!==-0x146f+0x2466+-0x3d*0x43,_0x4d4c7e['skin']=_0x49f7d6&&(_0x49f7d6&Wc)!==0xd43+-0x2*-0xac3+-0x22c9,_0x4d4c7e['useInstanc'+'ing']=_0x49f7d6&&(_0x49f7d6&$c)!==0x3*0x1ae+-0x747+0x23d*0x1,_0x4d4c7e['useMorphPo'+'sition']=_0x49f7d6&&(_0x49f7d6&qc)!==0x49*-0x1d+0xb*0xc2+-0x11,_0x4d4c7e['useMorphNo'+'rmal']=_0x49f7d6&&(_0x49f7d6&Xc)!==0xae2*0x2+0x7e8*0x2+0x2*-0x12ca,_0x4d4c7e['useMorphTe'+'xtureBased'+'Int']=_0x49f7d6&&(_0x49f7d6&jc)!==-0x5ea*-0x6+-0x5*0x35f+-0xfb*0x13,_0x4d4c7e['hasTangent'+'s']=_0x49f7d6&&(_0x49f7d6&Mp)!==0x1642+0x16d*-0x5+0x1*-0xf21,_0x4d4c7e['nineSliced'+'Mode']=_0x274823['nineSliced'+'Mode']||Ti,_0x274823['useLightin'+'g']&&_0x100923['clusteredL'+'ightingEna'+'bled']?(_0x4d4c7e['clusteredL'+'ightingEna'+'bled']=!(0x3dc+0x21ba+-0x2596),_0x4d4c7e['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x100923['lighting']['cookiesEna'+'bled'],_0x4d4c7e['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x100923['lighting']['shadowsEna'+'bled'],_0x4d4c7e['clusteredL'+'ightingSha'+'dowType']=_0x100923['lighting']['shadowType'],_0x4d4c7e['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x100923['lighting']['areaLights'+'Enabled']):(_0x4d4c7e['clusteredL'+'ightingEna'+'bled']=!(-0x194+-0x2521*-0x1+0x514*-0x7),_0x4d4c7e['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0xbd6*-0x3+-0x1015+0x9b6*-0x2),_0x4d4c7e['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x4bc+-0xe8b+0x269*0x8),_0x4d4c7e['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x1f3e+-0x234a+0x4289));}static['updateMate'+'rialOption'+'s'](_0x36fc5b,_0x5ae15c){_0x36fc5b['separateAm'+'bient']=!(0x86d*0x4+-0xf6c+-0x1247),_0x36fc5b['customFrag'+'mentShader']=null,_0x36fc5b['pixelSnap']=_0x5ae15c['pixelSnap'],_0x36fc5b['ambientSH']=_0x5ae15c['ambientSH'],_0x36fc5b['twoSidedLi'+'ghting']=_0x5ae15c['twoSidedLi'+'ghting'],_0x36fc5b['occludeDir'+'ect']=_0x5ae15c['occludeDir'+'ect'],_0x36fc5b['occludeSpe'+'cular']=_0x5ae15c['occludeSpe'+'cular'],_0x36fc5b['occludeSpe'+'cularFloat']=_0x5ae15c['occludeSpe'+'cularInten'+'sity']!==-0x4ac*0x3+-0x691+0x1496,_0x36fc5b['useMsdf']=!(-0x1*-0x209+0x7*-0x50d+0x2153),_0x36fc5b['msdfTextAt'+'tribute']=!(0x18d*0x17+-0x17*0x7+0x2309*-0x1),_0x36fc5b['alphaToCov'+'erage']=_0x5ae15c['alphaToCov'+'erage'],_0x36fc5b['opacityFad'+'esSpecular']=_0x5ae15c['opacityFad'+'esSpecular'],_0x36fc5b['opacityDit'+'her']=_0x5ae15c['opacityDit'+'her'],_0x36fc5b['cubeMapPro'+'jection']=u0,_0x36fc5b['useSpecula'+'r']=_0x5ae15c['hasSpecula'+'r'],_0x36fc5b['useSpecula'+'rityFactor']=_0x5ae15c['hasSpecula'+'rityFactor'],_0x36fc5b['enableGGXS'+'pecular']=_0x5ae15c['ggxSpecula'+'r'],_0x36fc5b['fresnelMod'+'el']=_0x5ae15c['fresnelMod'+'el'],_0x36fc5b['useRefract'+'ion']=_0x5ae15c['hasRefract'+'ion'],_0x36fc5b['useClearCo'+'at']=_0x5ae15c['hasClearCo'+'at'],_0x36fc5b['useSheen']=_0x5ae15c['hasSheen'],_0x36fc5b['useIridesc'+'ence']=_0x5ae15c['hasIrrides'+'cence'],_0x36fc5b['useMetalne'+'ss']=_0x5ae15c['hasMetalne'+'ss'],_0x36fc5b['useDynamic'+'Refraction']=_0x5ae15c['dynamicRef'+'raction'],_0x36fc5b['dispersion']=_0x5ae15c['dispersion']>-0xd*0x24b+-0x7dc+0x25ab,_0x36fc5b['vertexColo'+'rs']=!(0x722+-0x1e7b+0x356*0x7),_0x36fc5b['lightMapEn'+'abled']=_0x5ae15c['hasLightin'+'g'],_0x36fc5b['dirLightMa'+'pEnabled']=_0x5ae15c['dirLightMa'+'p'],_0x36fc5b['useHeights']=_0x5ae15c['hasHeights'],_0x36fc5b['useNormals']=_0x5ae15c['hasNormals'],_0x36fc5b['useClearCo'+'atNormals']=_0x5ae15c['hasClearCo'+'atNormals'],_0x36fc5b['useAo']=_0x5ae15c['hasAo'],_0x36fc5b['diffuseMap'+'Enabled']=_0x5ae15c['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x372baa,_0x32d376,_0x4a59d0,_0x426417){_0x372baa['fog']=_0x32d376['useFog']?_0x426417['fog']:Fa,_0x372baa['gamma']=_0x426417['shaderOutp'+'utGamma'],_0x372baa['toneMap']=_0x32d376['useTonemap']?_0x426417['toneMappin'+'g']:f0,_0x32d376['useSkybox']&&_0x4a59d0['envAtlas']&&_0x4a59d0['skybox']?(_0x372baa['reflection'+'Source']='envAtlasHQ',_0x372baa['reflection'+'Encoding']=_0x4a59d0['envAtlas']['encoding'],_0x372baa['reflection'+'CubemapEnc'+'oding']=_0x4a59d0['skybox']['encoding']):_0x32d376['useSkybox']&&_0x4a59d0['envAtlas']?(_0x372baa['reflection'+'Source']='envAtlas',_0x372baa['reflection'+'Encoding']=_0x4a59d0['envAtlas']['encoding']):_0x32d376['useSkybox']&&_0x4a59d0['skybox']?(_0x372baa['reflection'+'Source']='cubeMap',_0x372baa['reflection'+'Encoding']=_0x4a59d0['skybox']['encoding']):(_0x372baa['reflection'+'Source']=null,_0x372baa['reflection'+'Encoding']=null),_0x32d376['ambientSH']?(_0x372baa['ambientSou'+'rce']='ambientSH',_0x372baa['ambientEnc'+'oding']=null):_0x372baa['reflection'+'Source']&&_0x4a59d0['envAtlas']?(_0x372baa['ambientSou'+'rce']='envAtlas',_0x372baa['ambientEnc'+'oding']=_0x4a59d0['envAtlas']['encoding']):(_0x372baa['ambientSou'+'rce']='constant',_0x372baa['ambientEnc'+'oding']=null);const _0x550655=!!_0x372baa['reflection'+'Source'];_0x372baa['skyboxInte'+'nsity']=_0x550655,_0x372baa['useCubeMap'+'Rotation']=_0x550655&&_0x4a59d0['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x561dde,_0x2c4e92,_0x43494e,_0x2a062b){if(_0x561dde['lightMapWi'+'thoutAmbie'+'nt']=!(-0x980+-0x1ce4+0x2665),_0x2c4e92['useLightin'+'g']){const _0x516d86=[],_0x4c9292=_0x43494e?_0x43494e>>0x260+-0x1*0xfa6+0x472*0x3:hs;_0x561dde['lightMaskD'+'ynamic']=!!(_0x4c9292&hs),_0x561dde['lightMapWi'+'thoutAmbie'+'nt']=!(-0x85*0x1f+0x4*0x559+-0x1a*0x34),_0x2a062b&&(As['collectLig'+'hts'](oe,_0x2a062b[oe],_0x516d86,_0x4c9292),As['collectLig'+'hts'](Pe,_0x2a062b[Pe],_0x516d86,_0x4c9292),As['collectLig'+'hts'](Re,_0x2a062b[Re],_0x516d86,_0x4c9292)),_0x561dde['lights']=_0x516d86;}else _0x561dde['lights']=[];(_0x561dde['lights']['length']===-0xb*-0xbf+-0x12*-0xff+-0x1a23||(_0x43494e&Ep)!==-0x1*-0x2402+0x4b1*0x5+-0x3b77)&&(_0x561dde['noShadow']=!(-0x5*-0x27b+-0x120a+0x1e1*0x3));}static['collectLig'+'hts'](_0x1513a0,_0x374279,_0x35383a,_0x52fb8f){for(let _0x1861b4=0x5ac+-0x95*0x7+-0x1*0x199;_0x1861b4<_0x374279['length'];_0x1861b4++){const _0x406dc8=_0x374279[_0x1861b4];_0x406dc8['enabled']&&_0x406dc8['mask']&_0x52fb8f&&_0x35383a['push'](_0x406dc8);}}}const c_=(_0x126f4b,_0x29eea3)=>{if(_0x126f4b['length']!==_0x29eea3['length'])return!(0x1*0x35f+0xc*0x28c+-0x21ee);for(let _0x3bc54a=0x1d8*-0x1+0x34+0x1a4;_0x3bc54a<_0x126f4b['length'];++_0x3bc54a)if(_0x126f4b[_0x3bc54a]!==_0x29eea3[_0x3bc54a])return!(0x5ee+0x1*0x95b+-0xf48);return!(-0x17bd+-0x1e97+0x121c*0x3);},YC=_0x13303a=>_0x13303a['r']!==0x5*0xce+0x1*0x24a3+-0x4*0xa2a||_0x13303a['g']!==-0x751+-0x1df7+0x2549||_0x13303a['b']!==0x10d*-0x2+-0xd*-0xb7+-0x730,KC=_0xadbb61=>_0xadbb61['r']!==0x1ebf+-0x2302*0x1+-0x443*-0x1||_0xadbb61['g']!==-0x1*0x196+-0xefa+0x2*0x848||_0xadbb61['b']!==-0x185+0x11d8*-0x1+0x1*0x135d;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x49cd07,_0x19f603,_0x1a08b4,_0x2aa940,_0x58a119,_0x16a9f0){this['_updateSha'+'redOptions'](_0x49cd07,_0x19f603,_0x1a08b4,_0x2aa940,_0x58a119),this['_updateMin'+'Options'](_0x49cd07,_0x1a08b4,_0x58a119),this['_updateUVO'+'ptions'](_0x49cd07,_0x1a08b4,_0x2aa940,!(-0x13bf+0xaf1+0x8ce));}['updateRef'](_0xf9791e,_0x44d873,_0x2608fd,_0x28dbf9,_0x154005,_0x4e84c2,_0x236411){this['_updateSha'+'redOptions'](_0xf9791e,_0x44d873,_0x28dbf9,_0x154005,_0x4e84c2),this['_updateEnv'+'Options'](_0xf9791e,_0x28dbf9,_0x44d873,_0x2608fd),this['_updateMat'+'erialOptio'+'ns'](_0xf9791e,_0x28dbf9),_0xf9791e['litOptions']['hasTangent'+'s']=_0x154005&&(_0x154005&Mp)!==0x1*-0x1609+0x28e+-0x137b*-0x1,this['_updateLig'+'htOptions'](_0xf9791e,_0x44d873,_0x28dbf9,_0x154005,_0x236411),this['_updateUVO'+'ptions'](_0xf9791e,_0x28dbf9,_0x154005,!(-0x4cd+0xb16+-0x648),_0x2608fd);}['_updateSha'+'redOptions'](_0x5d9509,_0x148028,_0x48d933,_0x16de4b,_0x5ee8b0){_0x5d9509['forceUv1']=_0x48d933['forceUv1'],_0x48d933['userAttrib'+'utes']&&(_0x5d9509['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x48d933['userAttrib'+'utes']['entries']())),_0x5d9509['litOptions']['chunks']=_0x48d933['chunks']||{},_0x5d9509['litOptions']['pass']=_0x5ee8b0,_0x5d9509['litOptions']['alphaTest']=_0x48d933['alphaTest']>0x1*0x1d14+-0x1*0x18cf+-0x445,_0x5d9509['litOptions']['blendType']=_0x48d933['blendType'],_0x5d9509['litOptions']['screenSpac'+'e']=_0x16de4b&&(_0x16de4b&Cp)!==-0x3*0x21e+-0x18c3+0x1f1d,_0x5d9509['litOptions']['skin']=_0x16de4b&&(_0x16de4b&Wc)!==-0x8*-0x34f+0x1*0x1d4b+-0x1*0x37c3,_0x5d9509['litOptions']['batch']=_0x16de4b&&(_0x16de4b&Ou)!==0x677+-0xece+0x3d*0x23,_0x5d9509['litOptions']['useInstanc'+'ing']=_0x16de4b&&(_0x16de4b&$c)!==-0xa*-0x1a6+0x2ef*0x5+0x5*-0x63b,_0x5d9509['litOptions']['useMorphPo'+'sition']=_0x16de4b&&(_0x16de4b&qc)!==0x1e61+-0x138*-0x17+-0x3a69*0x1,_0x5d9509['litOptions']['useMorphNo'+'rmal']=_0x16de4b&&(_0x16de4b&Xc)!==-0x24d6+0x1985+0x1*0xb51,_0x5d9509['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x16de4b&&(_0x16de4b&jc)!==-0x8f8*0x3+0xca8+0xe40,_0x5d9509['litOptions']['nineSliced'+'Mode']=_0x48d933['nineSliced'+'Mode']||-0x22*0x4d+0x119a+-0x760,_0x148028['clusteredL'+'ightingEna'+'bled']&&_0x48d933['useLightin'+'g']?(_0x5d9509['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x25a4+-0x8e1+-0x1cc3),_0x5d9509['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x148028['lighting']['cookiesEna'+'bled'],_0x5d9509['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x148028['lighting']['shadowsEna'+'bled'],_0x5d9509['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x148028['lighting']['shadowType'],_0x5d9509['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x148028['lighting']['areaLights'+'Enabled']):(_0x5d9509['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x1a23+0x2588+-0x3faa),_0x5d9509['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x2375*0x1+-0x6*-0x3f9+0xc*0xf8),_0x5d9509['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x6e7+-0x175a+0x1074),_0x5d9509['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0xb80+0x1fb7+-0x2b36));}['_updateUVO'+'ptions'](_0x12ed44,_0x2f98ef,_0x2bb5ec,_0x108c1a,_0x4a9c0a){let _0x2e3612=!(0x8f5*-0x2+-0x1475+0x2660),_0x5b70b8=!(0x1*-0x167c+0x6*-0x465+-0x1049*-0x3),_0x5759b6=!(-0x135+0xd9a*0x1+-0x3d*0x34);_0x2bb5ec&&(_0x2e3612=(_0x2bb5ec&m0)!==0x8*0xa9+-0x2*0x7cf+-0x15*-0x7e,_0x5b70b8=(_0x2bb5ec&_0)!==0x1ec+0x1*0x2bd+-0x4a9,_0x5759b6=(_0x2bb5ec&g0)!==0x17a4+0xd*-0x196+-0x306),_0x12ed44['litOptions']['vertexColo'+'rs']=!(0x1f20+-0xb9*0x31+0x44a),this['_mapXForms']=[];const _0xefe5fd={};for(const _0x3f310d in fa)this['_updateTex'+'Options'](_0x12ed44,_0x2f98ef,_0x3f310d,_0x2e3612,_0x5b70b8,_0x5759b6,_0x108c1a,_0xefe5fd);this['_mapXForms']=null,_0x12ed44['litOptions']['ssao']=_0x4a9c0a==null?void(-0xaf5+-0x1*0x1fa5+0x154d*0x2):_0x4a9c0a['ssaoEnable'+'d'],_0x12ed44['useAO']=_0x12ed44['litOptions']['ssao'],_0x12ed44['litOptions']['lightMapEn'+'abled']=_0x12ed44['lightMap'],_0x12ed44['litOptions']['dirLightMa'+'pEnabled']=_0x12ed44['dirLightMa'+'p'],_0x12ed44['litOptions']['useHeights']=_0x12ed44['heightMap'],_0x12ed44['litOptions']['useNormals']=_0x12ed44['normalMap'],_0x12ed44['litOptions']['useClearCo'+'atNormals']=_0x12ed44['clearCoatN'+'ormalMap'],_0x12ed44['litOptions']['useAo']=_0x12ed44['aoMap']||_0x12ed44['aoVertexCo'+'lor']||_0x12ed44['litOptions']['ssao'],_0x12ed44['litOptions']['diffuseMap'+'Enabled']=_0x12ed44['diffuseMap'];}['_updateTex'+'Options'](_0x29d293,_0x413b24,_0x2e3e24,_0x5896f1,_0x1af3bc,_0x3d47da,_0x173e81,_0x49eca2){const _0x4faaac=_0x2e3e24==='opacity';if(!_0x173e81||_0x4faaac){const _0x336284=_0x2e3e24+'Map',_0x21b6dc=_0x2e3e24+('VertexColo'+'r'),_0x56eea7=_0x2e3e24+('VertexColo'+'rChannel'),_0xe12621=_0x336284+'Channel',_0x183f55=_0x336284+'Transform',_0x3b5c3d=_0x336284+'Uv',_0x3afc2a=_0x336284+'Identifier';if(_0x2e3e24!=='light'&&(_0x29d293[_0x336284]=!(-0x102e+-0x5*0x292+0x1d09),_0x29d293[_0x3afc2a]=void(0x21e9*0x1+0x1708+0x71*-0x81),_0x29d293[_0xe12621]='',_0x29d293[_0x183f55]=0x2471*0x1+-0x1f11+-0x560*0x1,_0x29d293[_0x3b5c3d]=0x5f8+-0x120d+0xc15),_0x29d293[_0x21b6dc]=!(0x2342+-0x1369+-0xfd8),_0x29d293[_0x56eea7]='',_0x4faaac&&_0x413b24['blendType']===is&&_0x413b24['alphaTest']===-0x12d0+0xef5+-0x2f*-0x15&&!_0x413b24['alphaToCov'+'erage']&&_0x413b24['opacityDit'+'her']===Rs)return;if(_0x2e3e24!=='height'&&_0x413b24[_0x21b6dc]&&_0x3d47da&&(_0x29d293[_0x21b6dc]=_0x413b24[_0x21b6dc],_0x29d293[_0x56eea7]=_0x413b24[_0x56eea7],_0x29d293['litOptions']['vertexColo'+'rs']=!(-0x5d7+0x1f*-0x59+0x109e)),_0x413b24[_0x336284]){let _0x3516cc=!(-0x2628+-0x44*-0x1f+0x5*0x5fc);if(_0x413b24[_0x3b5c3d]===-0xb*0x203+-0x2105+0x3726&&!_0x5896f1&&(_0x3516cc=!(-0x6e5+0x1*0x1706+0x56*-0x30)),_0x413b24[_0x3b5c3d]===-0x22+-0x4d2*-0x2+-0x981*0x1&&!_0x1af3bc&&(_0x3516cc=!(0xa8b+-0xb98*0x1+0x10e)),_0x3516cc){const _0x48c854=_0x413b24[_0x336284]['id'];let _0x49489c=_0x49eca2[_0x48c854];_0x49489c===void(0xabb+-0xc43+0x188)&&(_0x49eca2[_0x48c854]=_0x2e3e24,_0x49489c=_0x2e3e24),_0x29d293[_0x336284]=!!_0x413b24[_0x336284],_0x29d293[_0x3afc2a]=_0x49489c,_0x29d293[_0x183f55]=this['_getMapTra'+'nsformID'](_0x413b24['getUniform'](_0x183f55),_0x413b24[_0x3b5c3d]),_0x29d293[_0xe12621]=_0x413b24[_0xe12621],_0x29d293[_0x3b5c3d]=_0x413b24[_0x3b5c3d];}}}}['_updateMin'+'Options'](_0x37f98d,_0x96b289,_0x25eb7e){const _0x322c9c=_0x25eb7e===il;_0x37f98d['litOptions']['opacitySha'+'dowDither']=_0x322c9c?_0x96b289['opacityDit'+'her']:_0x96b289['opacitySha'+'dowDither'],_0x37f98d['litOptions']['linearDept'+'h']=_0x322c9c,_0x37f98d['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x5da6d6,_0x569a81){var _0x2587fd,_0x581693,_0x524bf2,_0x52d090;const _0x501dde=!!(_0x569a81['useMetalne'+'ss']||_0x569a81['specularMa'+'p']||_0x569a81['sphereMap']||_0x569a81['cubeMap']||KC(_0x569a81['specular'])||_0x569a81['specularit'+'yFactor']>-0x1*-0x823+-0xddd+0x5ba&&_0x569a81['useMetalne'+'ss']||_0x569a81['enableGGXS'+'pecular']||_0x569a81['clearCoat']>0x547+-0x1*-0xe99+0x4*-0x4f8),_0x3b911c=!_0x569a81['useMetalne'+'ss']||_0x569a81['useMetalne'+'ssSpecular'+'Color'],_0x4e95b5=_0x501dde&&(_0x569a81['specularTi'+'nt']||!_0x569a81['specularMa'+'p']&&!_0x569a81['specularVe'+'rtexColor'])&&YC(_0x569a81['specular']),_0xb5c870=_0x501dde&&_0x569a81['useMetalne'+'ssSpecular'+'Color']&&(_0x569a81['specularit'+'yFactorTin'+'t']||_0x569a81['specularit'+'yFactor']<-0x1f0f+-0xe50+-0x5ac*-0x8&&!_0x569a81['specularit'+'yFactorMap']),_0x49f0bb=_0x569a81['normalMap']?_0x569a81['normalMap']['format']===$o||_0x569a81['normalMap']['type']===op:!(-0x13ea*-0x1+0x269c+0x1*-0x3a85),_0xfb5f6a=(_0x5949ee,_0x30bb5d)=>Math['abs'](_0x5949ee-_0x30bb5d)<-0x36b+-0x7cb+0xb36+0.0001;_0x5da6d6['specularTi'+'nt']=_0x4e95b5?0x362*0x4+0x4*-0x81b+0x12e6:0x1c00+-0x7c7*0x3+-0x4ab,_0x5da6d6['specularit'+'yFactorTin'+'t']=_0xb5c870?0x1908+0x1*-0x1721+0x6*-0x51:0x35b*-0xb+0x21f5+0x2f4,_0x5da6d6['metalnessT'+'int']=_0x569a81['useMetalne'+'ss']&&_0x569a81['metalness']<0x773*0x5+0x1f29*0x1+0x4467*-0x1?-0xe1a+-0x8c+-0xea7*-0x1:-0x6*-0xd1+-0x1*-0x138b+-0x1871,_0x5da6d6['glossTint']=0x1*0x12b5+0x10a6+-0x235a,_0x5da6d6['diffuseEnc'+'oding']=(_0x2587fd=_0x569a81['diffuseMap'])==null?void(0x1*-0x26ff+0x5a1*0x5+-0x56d*-0x2):_0x2587fd['encoding'],_0x5da6d6['diffuseDet'+'ailEncodin'+'g']=(_0x581693=_0x569a81['diffuseDet'+'ailMap'])==null?void(0x2c5*-0xe+0x1ae7+0x3f5*0x3):_0x581693['encoding'],_0x5da6d6['emissiveEn'+'coding']=(_0x524bf2=_0x569a81['emissiveMa'+'p'])==null?void(-0x2053+-0xb3*-0xa+0x1955):_0x524bf2['encoding'],_0x5da6d6['lightMapEn'+'coding']=(_0x52d090=_0x569a81['lightMap'])==null?void(-0x4a3*-0x1+0x1501*-0x1+0x346*0x5):_0x52d090['encoding'],_0x5da6d6['packedNorm'+'al']=_0x49f0bb,_0x5da6d6['refraction'+'Tint']=_0xfb5f6a(_0x569a81['refraction'],0x24cd+-0x1*-0x179f+-0x3c6b*0x1)?0x4*0x14c+0xc94+-0x471*0x4:0x807+-0x5*0x96+-0x518,_0x5da6d6['refraction'+'IndexTint']=_0xfb5f6a(_0x569a81['refraction'+'Index'],(-0x24b+0x1681+-0x1435)/(0x12ec+0xf06+0x1*-0x21f1+0.5))?0xec*0x1+0x1eb8+0x144*-0x19:-0x1d*0x9c+-0x4f7+0x54*0x45,_0x5da6d6['thicknessT'+'int']=_0x569a81['useDynamic'+'Refraction']&&_0x569a81['thickness']!==-0x18a4+0x1e0c+0x1*-0x567?-0x1*-0x18a7+-0x1571*-0x1+-0x1*0x2e17:-0x1b1d+-0x157d+0x309a*0x1,_0x5da6d6['specularEn'+'coding']=_0x569a81['specularEn'+'coding']||'linear',_0x5da6d6['sheenEncod'+'ing']=_0x569a81['sheenEncod'+'ing']||'linear',_0x5da6d6['aoMapUv']=_0x569a81['aoUvSet'],_0x5da6d6['aoDetail']=!!_0x569a81['aoMap'],_0x5da6d6['diffuseDet'+'ail']=!!_0x569a81['diffuseMap'],_0x5da6d6['normalDeta'+'il']=!!_0x569a81['normalMap'],_0x5da6d6['diffuseDet'+'ailMode']=_0x569a81['diffuseDet'+'ailMode'],_0x5da6d6['aoDetailMo'+'de']=_0x569a81['aoDetailMo'+'de'],_0x5da6d6['clearCoatT'+'int']=_0xfb5f6a(_0x569a81['clearCoat'],-0x1e*-0x120+-0x1*0x1d47+0x2c*-0x1a)?-0x382*-0x9+0x7d2+-0x2764:0x2118+-0x2d*0x5e+-0x1091,_0x5da6d6['clearCoatG'+'loss']=!!_0x569a81['clearCoatG'+'loss'],_0x5da6d6['clearCoatG'+'lossTint']=_0x569a81['clearCoatG'+'loss']!==-0x1*-0x12b+0x1a75+-0x1b9f*0x1?-0xef*-0x1c+0x126e*-0x2+0xab9:0x217b+-0xe79+-0x1302,_0x5da6d6['iorTint']=_0xfb5f6a(_0x569a81['refraction'+'Index'],(0x1*0x1697+-0x356*-0xb+-0x1*0x3b48)/(0x9b1+0x6*-0x3f1+0xdf6+0.5))?-0x2*-0xaa2+-0x2571+0x1*0x102d:-0x1*-0x1d7b+0x98*0xb+-0x2402,_0x5da6d6['iridescenc'+'eTint']=_0x569a81['iridescenc'+'e']!==0x1245+0x1867*0x1+-0xe39*0x3?0x29*0xd+0x28*-0x4c+0x9cc:0x1728+-0x1*-0x1106+-0x282e,_0x5da6d6['glossInver'+'t']=_0x569a81['glossInver'+'t'],_0x5da6d6['sheenGloss'+'Invert']=_0x569a81['sheenGloss'+'Invert'],_0x5da6d6['clearCoatG'+'lossInvert']=_0x569a81['clearCoatG'+'lossInvert'],_0x5da6d6['useSpecula'+'rColor']=_0x3b911c,_0x5da6d6['litOptions']['separateAm'+'bient']=!(0x533*-0x1+-0x4*-0x8a8+0xe*-0x21a),_0x5da6d6['litOptions']['customFrag'+'mentShader']=_0x569a81['customFrag'+'mentShader'],_0x5da6d6['litOptions']['pixelSnap']=_0x569a81['pixelSnap'],_0x5da6d6['litOptions']['ambientSH']=!!_0x569a81['ambientSH'],_0x5da6d6['litOptions']['twoSidedLi'+'ghting']=_0x569a81['twoSidedLi'+'ghting'],_0x5da6d6['litOptions']['occludeSpe'+'cular']=_0x569a81['occludeSpe'+'cular'],_0x5da6d6['litOptions']['occludeSpe'+'cularFloat']=_0x569a81['occludeSpe'+'cularInten'+'sity']!==0x5b8*-0x4+0xc8b*-0x1+0x236c,_0x5da6d6['litOptions']['useMsdf']=!!_0x569a81['msdfMap'],_0x5da6d6['litOptions']['msdfTextAt'+'tribute']=!!_0x569a81['msdfTextAt'+'tribute'],_0x5da6d6['litOptions']['alphaToCov'+'erage']=_0x569a81['alphaToCov'+'erage'],_0x5da6d6['litOptions']['opacityFad'+'esSpecular']=_0x569a81['opacityFad'+'esSpecular'],_0x5da6d6['litOptions']['opacityDit'+'her']=_0x569a81['opacityDit'+'her'],_0x5da6d6['litOptions']['cubeMapPro'+'jection']=_0x569a81['cubeMapPro'+'jection'],_0x5da6d6['litOptions']['occludeDir'+'ect']=_0x569a81['occludeDir'+'ect'],_0x5da6d6['litOptions']['useSpecula'+'r']=_0x501dde,_0x5da6d6['litOptions']['useSpecula'+'rityFactor']=(_0xb5c870||!!_0x569a81['specularit'+'yFactorMap'])&&_0x569a81['useMetalne'+'ssSpecular'+'Color'],_0x5da6d6['litOptions']['enableGGXS'+'pecular']=_0x569a81['enableGGXS'+'pecular'],_0x5da6d6['litOptions']['fresnelMod'+'el']=_0x569a81['fresnelMod'+'el'],_0x5da6d6['litOptions']['useRefract'+'ion']=(_0x569a81['refraction']||!!_0x569a81['refraction'+'Map'])&&(_0x569a81['useDynamic'+'Refraction']||!!_0x5da6d6['litOptions']['reflection'+'Source']),_0x5da6d6['litOptions']['useClearCo'+'at']=!!_0x569a81['clearCoat'],_0x5da6d6['litOptions']['useSheen']=_0x569a81['useSheen'],_0x5da6d6['litOptions']['useIridesc'+'ence']=_0x569a81['useIridesc'+'ence']&&_0x569a81['iridescenc'+'e']!==-0x241f+0x4f*-0x3+0x2*0x1286,_0x5da6d6['litOptions']['useMetalne'+'ss']=_0x569a81['useMetalne'+'ss'],_0x5da6d6['litOptions']['useDynamic'+'Refraction']=_0x569a81['useDynamic'+'Refraction'],_0x5da6d6['litOptions']['dispersion']=_0x569a81['dispersion']>0x12*0xb1+0x27*0xda+-0x5b5*0x8;}['_updateEnv'+'Options'](_0x1c0e44,_0x3cd741,_0x1b7f17,_0x2ef2c8){_0x1c0e44['litOptions']['fog']=_0x3cd741['useFog']?_0x2ef2c8['fog']:Fa,_0x1c0e44['litOptions']['gamma']=_0x2ef2c8['shaderOutp'+'utGamma'],_0x1c0e44['litOptions']['toneMap']=_0x3cd741['useTonemap']?_0x2ef2c8['toneMappin'+'g']:f0;let _0x1159aa=!(-0x64c+-0x2101+0x274e);if(_0x3cd741['envAtlas']&&_0x3cd741['cubeMap']?(_0x1c0e44['litOptions']['reflection'+'Source']='envAtlasHQ',_0x1c0e44['litOptions']['reflection'+'Encoding']=_0x3cd741['envAtlas']['encoding'],_0x1c0e44['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x3cd741['cubeMap']['encoding']):_0x3cd741['envAtlas']?(_0x1c0e44['litOptions']['reflection'+'Source']='envAtlas',_0x1c0e44['litOptions']['reflection'+'Encoding']=_0x3cd741['envAtlas']['encoding']):_0x3cd741['cubeMap']?(_0x1c0e44['litOptions']['reflection'+'Source']='cubeMap',_0x1c0e44['litOptions']['reflection'+'Encoding']=_0x3cd741['cubeMap']['encoding']):_0x3cd741['sphereMap']?(_0x1c0e44['litOptions']['reflection'+'Source']='sphereMap',_0x1c0e44['litOptions']['reflection'+'Encoding']=_0x3cd741['sphereMap']['encoding']):_0x3cd741['useSkybox']&&_0x1b7f17['envAtlas']&&_0x1b7f17['skybox']?(_0x1c0e44['litOptions']['reflection'+'Source']='envAtlasHQ',_0x1c0e44['litOptions']['reflection'+'Encoding']=_0x1b7f17['envAtlas']['encoding'],_0x1c0e44['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x1b7f17['skybox']['encoding'],_0x1159aa=!(0x23f7+0x17*0xe5+-0x388a)):_0x3cd741['useSkybox']&&_0x1b7f17['envAtlas']?(_0x1c0e44['litOptions']['reflection'+'Source']='envAtlas',_0x1c0e44['litOptions']['reflection'+'Encoding']=_0x1b7f17['envAtlas']['encoding'],_0x1159aa=!(-0x71*-0x3c+0x2*0xeed+-0x3856)):_0x3cd741['useSkybox']&&_0x1b7f17['skybox']?(_0x1c0e44['litOptions']['reflection'+'Source']='cubeMap',_0x1c0e44['litOptions']['reflection'+'Encoding']=_0x1b7f17['skybox']['encoding'],_0x1159aa=!(0x46*-0x7a+0xd*-0x1cd+-0x1*-0x38c5)):(_0x1c0e44['litOptions']['reflection'+'Source']=null,_0x1c0e44['litOptions']['reflection'+'Encoding']=null),_0x3cd741['ambientSH'])_0x1c0e44['litOptions']['ambientSou'+'rce']='ambientSH',_0x1c0e44['litOptions']['ambientEnc'+'oding']=null;else{const _0x2f1aa1=_0x3cd741['envAtlas']||(_0x3cd741['useSkybox']&&_0x1b7f17['envAtlas']?_0x1b7f17['envAtlas']:null);_0x2f1aa1&&!_0x3cd741['sphereMap']?(_0x1c0e44['litOptions']['ambientSou'+'rce']='envAtlas',_0x1c0e44['litOptions']['ambientEnc'+'oding']=_0x2f1aa1['encoding']):(_0x1c0e44['litOptions']['ambientSou'+'rce']='constant',_0x1c0e44['litOptions']['ambientEnc'+'oding']=null);}_0x1c0e44['litOptions']['skyboxInte'+'nsity']=_0x1159aa,_0x1c0e44['litOptions']['useCubeMap'+'Rotation']=_0x1159aa&&_0x1b7f17['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0xd780b2,_0x54eed0,_0x1abad9,_0x20f3dc,_0x427861){if(_0xd780b2['lightMap']=!(0x5c1*0x5+-0x18e9+0x3db*-0x1),_0xd780b2['lightMapCh'+'annel']='',_0xd780b2['lightMapUv']=-0xeb7+0x7*-0x4db+0x6*0x81e,_0xd780b2['lightMapTr'+'ansform']=0xb*0x25f+-0x93d*-0x4+-0x3f09,_0xd780b2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1064+0x78e+-0x17f1),_0xd780b2['dirLightMa'+'p']=!(-0xba0+0x261f+-0xd3f*0x2),_0x20f3dc&&(_0xd780b2['litOptions']['noShadow']=(_0x20f3dc&Ep)!==-0xb45+0x70a+0x43b,(_0x20f3dc&Fu)!==0x276*0x6+0x1071+-0x1f35*0x1&&(_0xd780b2['lightMapEn'+'coding']=_0x54eed0['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0xd780b2['lightMap']=!(0x2337*-0x1+-0x252b+0x4862*0x1),_0xd780b2['lightMapCh'+'annel']='rgb',_0xd780b2['lightMapUv']=-0x897+-0x853+0x10eb,_0xd780b2['lightMapTr'+'ansform']=-0x13*0x119+-0x2557+0x3a32,_0xd780b2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x1abad9['lightMap'],(_0x20f3dc&y0)!==0x2634+-0x1*-0x4bd+-0x1*0x2af1&&(_0xd780b2['dirLightMa'+'p']=!(-0x17aa+-0x3e0+-0xdc5*-0x2)),(_0x20f3dc&x0)!==0x1097+0xe13+-0x1eaa&&(_0xd780b2['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1763+0x86c+-0xef8*-0x1)))),_0x1abad9['useLightin'+'g']){const _0x1bcc04=[],_0x11084c=_0x20f3dc?_0x20f3dc>>0x1*0x1212+0x1b51+-0x2d53:hs;_0xd780b2['litOptions']['lightMaskD'+'ynamic']=!!(_0x11084c&hs),_0x427861&&(As['collectLig'+'hts'](oe,_0x427861[oe],_0x1bcc04,_0x11084c),As['collectLig'+'hts'](Pe,_0x427861[Pe],_0x1bcc04,_0x11084c),As['collectLig'+'hts'](Re,_0x427861[Re],_0x1bcc04,_0x11084c)),_0xd780b2['litOptions']['lights']=_0x1bcc04;}else _0xd780b2['litOptions']['lights']=[];_0xd780b2['litOptions']['lights']['length']===-0xfad+-0x2461*-0x1+0x4*-0x52d&&(_0xd780b2['litOptions']['noShadow']=!(0x3b*-0x79+0xace+0x1115));}['_getMapTra'+'nsformID'](_0x21dd50,_0xb15ea4){if(!_0x21dd50)return-0x22*0x16+-0x15a7+0x1893*0x1;let _0x46216f=this['_mapXForms'][_0xb15ea4];_0x46216f||(_0x46216f=[],this['_mapXForms'][_0xb15ea4]=_0x46216f);for(let _0x33eb97=-0x1*0x13fa+0x1fa7*-0x1+0x33a1;_0x33eb97<_0x46216f['length'];_0x33eb97++)if(c_(_0x46216f[_0x33eb97][-0x10cd+0xf*0x9d+0x79a]['value'],_0x21dd50[0x12cd*-0x1+-0x95*-0x2+0x11a3]['value'])&&c_(_0x46216f[_0x33eb97][-0x5b4+0x2707+-0x1*0x2152]['value'],_0x21dd50[-0x213c+-0xcad+0x2dea]['value']))return _0x33eb97+(0x20e1+0x261e+0x1*-0x46fe);return _0x46216f['push'](_0x21dd50);}}function qe(_0x7eb5f7,_0x1081df=!(-0x2ce+-0x322+0x2f8*0x2),_0x4e31d3=!(-0x15*-0x145+0xdda+-0x2883)){const _0x3bc8a8={};return _0x3bc8a8[_0x7eb5f7+'Map']='texture',_0x3bc8a8[_0x7eb5f7+'MapTiling']='vec2',_0x3bc8a8[_0x7eb5f7+'MapOffset']='vec2',_0x3bc8a8[_0x7eb5f7+('MapRotatio'+'n')]='number',_0x3bc8a8[_0x7eb5f7+'MapUv']='number',_0x1081df&&(_0x3bc8a8[_0x7eb5f7+'MapChannel']='string',_0x4e31d3&&(_0x3bc8a8[_0x7eb5f7+('VertexColo'+'r')]='boolean',_0x3bc8a8[_0x7eb5f7+('VertexColo'+'rChannel')]='string')),_0x3bc8a8;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(0x500+-0x2527*-0x1+-0x2a27),!(0xd96+0x17b*-0xd+0x5aa*0x1)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(0x1faf*0x1+0x2156+-0x4105*0x1),!(0x29*-0x1+-0x490*0x4+-0x126a*-0x1)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(-0x1390+0x239e+-0x7*0x24b)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(0x12d*-0x3+0x223c+-0x7ad*0x4)),'bumpiness':'number',...qe('normalDeta'+'il',!(0x12f*-0x1d+0x203*-0x11+0x4487)),'normalDetailMapBumpiness':'number',...qe('height',!(-0x134*-0x3+-0x25b0+0x2214),!(-0x1e3d*-0x1+-0x409+-0x1a33)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let $a=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x35e798=>{this['_'+_0x35e798]=uh[_0x35e798]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0xebbeaa){return super['copy'](_0xebbeaa),Object['keys'](uh)['forEach'](_0x28da23=>{this[_0x28da23]=_0xebbeaa[_0x28da23];}),this['userAttrib'+'utes']=new Map(_0xebbeaa['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x1b708b,_0x407993){this['userAttrib'+'utes']['set'](_0x407993,_0x1b708b);}['_setParame'+'ter'](_0x38d9eb,_0x4d96b3){$a['add'](_0x38d9eb),this['setParamet'+'er'](_0x38d9eb,_0x4d96b3);}['_setParame'+'ters'](_0x2d0102){_0x2d0102['forEach'](_0x2db402=>{this['_setParame'+'ter'](_0x2db402['name'],_0x2db402['value']);});}['_processPa'+'rameters'](_0x395c4f){const _0x3c8369=this[_0x395c4f];_0x3c8369['forEach'](_0x4a3a30=>{$a['has'](_0x4a3a30)||delete this['parameters'][_0x4a3a30];}),this[_0x395c4f]=$a,$a=_0x3c8369,$a['clear']();}['_updateMap'](_0x549424){const _0x4403b3=_0x549424+'Map',_0x1dc035=this[_0x4403b3];if(_0x1dc035){this['_setParame'+'ter']('texture_'+_0x4403b3,_0x1dc035);const _0x2eea06=_0x4403b3+'Transform',_0x4d9d00=this['getUniform'](_0x2eea06);_0x4d9d00&&this['_setParame'+'ters'](_0x4d9d00);}}['_allocUnif'+'orm'](_0x570128,_0x3803fd){let _0x316fcd=this['_uniformCa'+'che'][_0x570128];return _0x316fcd||(_0x316fcd=_0x3803fd(),this['_uniformCa'+'che'][_0x570128]=_0x316fcd),_0x316fcd;}['getUniform'](_0x191ce9,_0x25f9f7,_0x51a75f){return P0[_0x191ce9](this,_0x25f9f7,_0x51a75f);}['updateUnif'+'orms'](_0xe49359,_0x488f26){const _0x53fb87=_0x3d8752=>this['getUniform'](_0x3d8752,_0xe49359,_0x488f26);this['_setParame'+'ter']('material_a'+'mbient',_0x53fb87('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x53fb87('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0xb61+0xa6d+0x1*-0x15cd)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x53fb87('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x53fb87('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x53fb87('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>-0x3*0x231+-0x21b2+-0x3d*-0xa9&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x82b+0x1c0d+-0x13e2&&this['emissive']['g']===0x59*-0x43+-0x186*0xb+0x280d&&this['emissive']['b']===0x2691+-0x1f09+-0x1*0x788&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x53fb87('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>0x1f6*0x8+-0x1d2d+0xd7d&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x45b*0x5+0x1d69+-0x3330&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x53fb87('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x1fa*0xb+0x961+-0x1f1f?-0x160*0x13+-0x1*0x237+0x1c57:(0x166f+0x1dde*-0x1+-0x44*-0x1c)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0xd21+0x1205+-0x1f25)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x53fb87('cubeMapPro'+'jectionBox'));for(const _0x2f315b in fa)this['_updateMap'](_0x2f315b);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x53fb87('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0xe49359,_0x488f26);}['updateEnvU'+'niforms'](_0x4c692c,_0x36ba7a){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x36ba7a['envAtlas']&&_0x36ba7a['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x36ba7a['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x36ba7a['skybox'])):_0x36ba7a['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x36ba7a['envAtlas']):_0x36ba7a['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x36ba7a['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0xb0ac3f){const {device:_0x57cca0,scene:_0x380e1f,pass:_0x36dcae,objDefs:_0x517238,sortedLights:_0x4941c9,cameraShaderParams:_0xaf5b51}=_0xb0ac3f;this['updateEnvU'+'niforms'](_0x57cca0,_0x380e1f);const _0xff0af2=Ks['get'](_0x57cca0)['getByIndex'](_0x36dcae),_0x22f0f4=_0x36dcae===rl||_0x36dcae===Oa||_0x36dcae===il||_0xff0af2['isShadow'];let _0x3af66b=_0x22f0f4?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x3af66b['defines']=Dp(this,_0xb0ac3f),_0x22f0f4?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x3af66b,_0x380e1f,this,_0x517238,_0x36dcae,_0x4941c9):this['shaderOptB'+'uilder']['updateRef'](_0x3af66b,_0x380e1f,_0xaf5b51,this,_0x517238,_0x36dcae,_0x4941c9),_0x3af66b['defines']['set']('TONEMAP',p0[_0x3af66b['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x3af66b=this['onUpdateSh'+'ader'](_0x3af66b));const _0x2ddcca=new Yc(_0xb0ac3f['viewUnifor'+'mFormat'],_0xb0ac3f['viewBindGr'+'oupFormat'],_0xb0ac3f['vertexForm'+'at']),_0x2bbbf5=ka(_0x57cca0);_0x2bbbf5['register']('standard',Ed);const _0x36e174=_0x2bbbf5['getProgram']('standard',_0x3af66b,_0x2ddcca,this['userId']);return this['_dirtyShad'+'er']=!(0x6b*0x36+0x93*0x3b+-0x3872),_0x36e174;}['destroy'](){for(const _0x114fe9 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x114fe9]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0x1aa81b,_0x46387f)=>{P0[_0x1aa81b]=_0x46387f;},Op=(_0x5342a3,_0x23392e,_0x4394fe,_0x18e124)=>{Object['defineProp'+'erty'](cs['prototype'],_0x5342a3,{'get':_0x18e124||function(){return this['_'+_0x5342a3];},'set':_0x4394fe}),uh[_0x5342a3]={'value':_0x23392e};},JC=_0x1d0390=>{const _0x551259='_'+_0x1d0390['name'],_0xe16278=_0x1d0390['dirtyShade'+'rFunc']||(()=>!(-0x17a7+-0x1175+0x3*0xdb4)),_0x6ccf4e=function(_0x35945e){const _0x4ba2e9=this[_0x551259];_0x4ba2e9!==_0x35945e&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0xe16278(_0x4ba2e9,_0x35945e),this[_0x551259]=_0x35945e);};Op(_0x1d0390['name'],()=>_0x1d0390['defaultVal'+'ue'],_0x6ccf4e,_0x1d0390['getterFunc']);},eM=_0x42bd1e=>{const _0xd9e89a='_'+_0x42bd1e['name'],_0x467469=_0x42bd1e['dirtyShade'+'rFunc']||(()=>!(0xd*-0xb8+-0x266c+0x2fc4)),_0x4b5e48=function(_0x2bdbba){const _0x474eef=this[_0xd9e89a];_0x474eef['equals'](_0x2bdbba)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x467469(_0x474eef,_0x2bdbba),this[_0xd9e89a]=_0x474eef['copy'](_0x2bdbba));};Op(_0x42bd1e['name'],()=>_0x42bd1e['defaultVal'+'ue']['clone'](),_0x4b5e48,_0x42bd1e['getterFunc']);},ts=_0x2d94c1=>_0x2d94c1['defaultVal'+'ue']&&_0x2d94c1['defaultVal'+'ue']['clone']?eM(_0x2d94c1):JC(_0x2d94c1);function Ge(_0x3a09d0,_0x1661db='rgb',_0x46e9eb=!(-0x2020+-0x3*-0x154+0x1*0x1c24),_0x178e51=0x22b3+0x6d6+-0x2989){fa[_0x3a09d0]=_0x1661db['length']||-(-0x1078+0x59e*0x1+0xadb),ts({'name':_0x3a09d0+'Map','defaultValue':null,'dirtyShaderFunc':(_0x45d522,_0x11c1b8)=>!!_0x45d522!=!!_0x11c1b8||_0x45d522&&(_0x45d522['type']!==_0x11c1b8['type']||_0x45d522['format']!==_0x11c1b8['format'])}),ts({'name':_0x3a09d0+'MapTiling','defaultValue':new W(0xa16+0x1c*-0x2+-0x65*0x19,0x2f9*0x4+0x1c3*0x14+-0x1*0x2f1f)}),ts({'name':_0x3a09d0+'MapOffset','defaultValue':new W(0x2*-0xa61+-0x8a3+0x1d65,-0x19f6+-0xaf3*0x3+0x3acf)}),ts({'name':_0x3a09d0+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x3a09d0+'MapUv','defaultValue':_0x178e51}),_0x1661db&&(ts({'name':_0x3a09d0+'MapChannel','defaultValue':_0x1661db}),_0x46e9eb&&(ts({'name':_0x3a09d0+('VertexColo'+'r'),'defaultValue':!(-0x260*0x1+0x1*-0x1ec7+0x2128)}),ts({'name':_0x3a09d0+('VertexColo'+'rChannel'),'defaultValue':_0x1661db})));const _0x41d7d9=_0x3a09d0+'MapTiling',_0x5a8e84=_0x3a09d0+'MapOffset',_0x3c07b0=_0x3a09d0+('MapRotatio'+'n'),_0x5d9774=_0x3a09d0+('MapTransfo'+'rm');Zc(_0x5d9774,(_0x24b023,_0x1a0bc0,_0x14e592)=>{const _0x287fd9=_0x24b023[_0x41d7d9],_0x5ad405=_0x24b023[_0x5a8e84],_0x24ec5a=_0x24b023[_0x3c07b0];if(_0x287fd9['x']===0x21b8+0x986*-0x4+0x13*0x3b&&_0x287fd9['y']===0x24ae+-0x1900+0xbad*-0x1&&_0x5ad405['x']===0xf87+0x1b94+-0x5*0x89f&&_0x5ad405['y']===-0x6df+-0x4*-0x989+-0x5*0x641&&_0x24ec5a===0xf86+-0x14e1+-0x3*-0x1c9)return null;const _0x3b0c3f=_0x24b023['_allocUnif'+'orm'](_0x5d9774,()=>[{'name':'texture_'+_0x5d9774+'0','value':new Float32Array(0x11a5+-0x1*0x1e7+0xfbb*-0x1)},{'name':'texture_'+_0x5d9774+'1','value':new Float32Array(-0xd*-0x272+-0x17f*-0x3+0x911*-0x4)}]),_0x116a54=Math['cos'](_0x24ec5a*N['DEG_TO_RAD']),_0x5f37ce=Math['sin'](_0x24ec5a*N['DEG_TO_RAD']),_0x158cf9=_0x3b0c3f[-0x1*-0xb2d+-0x26b3+-0x1*-0x1b86]['value'];_0x158cf9[-0x176d+-0x1*0x2316+0x3a83]=_0x116a54*_0x287fd9['x'],_0x158cf9[-0x95c*0x1+-0x312*-0x1+0x64b]=-_0x5f37ce*_0x287fd9['y'],_0x158cf9[-0x5d*-0x3f+0x1313+0x219*-0x14]=_0x5ad405['x'];const _0x20ed84=_0x3b0c3f[-0x1*-0x189d+-0x20c2+0x826]['value'];return _0x20ed84[0x205d+0x33*0x84+-0x3aa9*0x1]=_0x5f37ce*_0x287fd9['x'],_0x20ed84[0x49*0x44+0x1b44+-0x2ea7]=_0x116a54*_0x287fd9['y'],_0x20ed84[0x848+-0xf7a*0x2+-0x16ae*-0x1]=0x1*0x326+-0x106c+0xd47-_0x287fd9['y']-_0x5ad405['y'],_0x3b0c3f;});}function Cn(_0x5776aa,_0x4577f1){ts({'name':_0x5776aa,'defaultValue':_0x4577f1,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x3bb*-0x2+0x89f*-0x2+0x6*0x41e),this['_'+_0x5776aa];}}),Zc(_0x5776aa,(_0xfc1776,_0x4e3b6c,_0x1ef43a)=>{const _0x503d67=_0xfc1776['_allocUnif'+'orm'](_0x5776aa,()=>new Float32Array(-0x1194+-0x117+-0x1*-0x12ae)),_0x3e1f67=_0xfc1776[_0x5776aa];return Dl['linear'](_0x3e1f67),_0x503d67[-0x8d2+0x1db9+-0x14e7]=Dl['r'],_0x503d67[0x141a+-0x37f+-0x55*0x32]=Dl['g'],_0x503d67[-0x2352+0xc3*0x11+-0x11*-0x151]=Dl['b'],_0x503d67;});}function Ce(_0x25279f,_0x2577db,_0x385898){ts({'name':_0x25279f,'defaultValue':_0x2577db,'dirtyShaderFunc':(_0x1edb7f,_0x1916b4)=>(_0x1edb7f===-0xfeb+0x1fb0+-0xfc5||_0x1edb7f===-0x50b+-0xc77+0x1183)!=(_0x1916b4===0x313+-0x17b*-0x1+0x2*-0x247||_0x1916b4===0x1805*-0x1+0x293*0x8+-0x2*-0x1b7)}),Zc(_0x25279f,_0x385898);}function qa(_0x59ec82,_0x4d5664){ts({'name':_0x59ec82,'defaultValue':null,'dirtyShaderFunc':(_0x77300c,_0x24041a)=>!!_0x77300c==!!_0x24041a}),Zc(_0x59ec82,_0x4d5664);}function we(_0x570144,_0x4296d7){ts({'name':_0x570144,'defaultValue':_0x4296d7});}function tM(){Cn('ambient',new Y(-0x17ec+-0x1*0xeb+0x18d8,-0x408*0x4+0x5*-0x1df+0x197c,-0x261b+0x151*0xf+0x61f*0x3)),Cn('diffuse',new Y(-0x1*0x1401+0x4f*0x23+0x935,0x133f+-0x17ab+0x46d*0x1,0xa*0x35+-0x30a*-0x6+-0x144d)),Cn('specular',new Y(-0xbe1*-0x2+-0x1b32*0x1+0x370,-0x2213+-0x12dd*-0x2+-0x3a7,-0xfe5*-0x1+0x1*-0x160f+0x107*0x6)),Cn('emissive',new Y(0x1643+0x515*-0x1+-0x112e,-0x20b*0xf+0x709+0x179c,0x1f06+0xa1e+-0x2924)),Cn('sheen',new Y(0x1a6*0x14+-0xf*-0x15+0x2*-0x1119,-0xc0*0x1f+0x79c+0xfa5,0xd39+0x52*-0x4+-0xbf0)),Cn('attenuatio'+'n',new Y(0x1a38*-0x1+-0x1*-0xd4+-0x1965*-0x1,-0x66c*-0x2+0x26da+-0x33b1,0x7*0x16+-0x1b15+0x54c*0x5)),Ce('emissiveIn'+'tensity',-0x28*0x5e+0x1dc7+-0xf16),Ce('specularit'+'yFactor',0x907+-0xaa9+0x1a3),Ce('sheenGloss',0x159f+-0xa5d*0x2+-0xe5),Ce('gloss',-0x230f*-0x1+0x23d6+-0x46e5+0.25),Ce('aoIntensit'+'y',0xf58*-0x2+-0x1acf+0x4*0xe60),Ce('heightMapF'+'actor',-0x3*-0xb15+0x6c7+0x801*-0x5,(_0x2e8d9d,_0x46e592,_0x387bb3)=>_0x2e8d9d['heightMapF'+'actor']*(0x1914+0x1*0xf3d+-0x2851+0.025)),Ce('opacity',-0x3*0x691+0x1*-0xb27+-0x3*-0xa49),Ce('alphaFade',-0x92b+0x1*0xeed+-0x5c1),Ce('alphaTest',0x20bb+0xad*0x37+-0x45e6),Ce('bumpiness',0x1f7c+-0xaed+-0x36d*0x6),Ce('normalDeta'+'ilMapBumpi'+'ness',-0x27*-0x2c+0x5*0x6fd+-0x29a4),Ce('reflectivi'+'ty',0x1*0x70f+-0x5c8+-0x146),Ce('occludeSpe'+'cularInten'+'sity',-0x2*0x7f7+-0xc7*0x1b+0x24ec),Ce('refraction',-0x4d8*-0x4+0xff9*0x1+-0x2359),Ce('refraction'+'Index',(-0x55*0x47+0x51c+0x1278)/(-0x2489+0xb*0x2b+-0x53*-0x6b+0.5)),Ce('dispersion',-0x12b*0x9+0x1c4*0x10+-0x13*0xef),Ce('thickness',0x7bc+0x1e97*0x1+-0x2653),Ce('attenuatio'+'nDistance',0x137a+-0x42+0x29*-0x78),Ce('metalness',-0x541*0x5+0xa21*-0x3+0x38a9),Ce('anisotropy',-0x168+0x635*-0x2+0xdd2),Ce('clearCoat',0x1e86+0xcfb*-0x1+-0x9*0x1f3),Ce('clearCoatG'+'loss',-0x20*0x92+0x5fb*0x6+-0x11a1),Ce('clearCoatB'+'umpiness',0x313*-0xa+-0x2431+-0xcc*-0x54),Ce('aoUvSet',0xf1d+0x1e5a+-0x2d77,null),Ce('iridescenc'+'e',-0x13d3+0x2*0x931+0x171*0x1),Ce('iridescenc'+'eRefractio'+'nIndex',(0x1875+0x373+-0x1be7*0x1)/(-0x462+0x15fd+0x5de*-0x3+0.5)),Ce('iridescenc'+'eThickness'+'Min',0x234+0xfb1+-0x11e5),Ce('iridescenc'+'eThickness'+'Max',-0x3*-0xad+-0x1f7*-0x1+-0x7*0x92),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x2667fd,_0x49c7a3,_0xc7e170)=>{const _0xb91dbf=_0x2667fd['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x19a8+-0x20b4+0x70f)},{'name':'envBoxMax','value':new Float32Array(-0x1e58+0x13a7+-0x5*-0x224)}]),_0x35fa2f=_0x2667fd['cubeMapPro'+'jectionBox']['getMin'](),_0x2c8acd=_0xb91dbf[-0x1971+-0xf9f+-0x1b6*-0x18]['value'];_0x2c8acd[0x506+-0xec8+0x9c2]=_0x35fa2f['x'],_0x2c8acd[0x17*0x7d+-0x1398*0x1+-0x77*-0x12]=_0x35fa2f['y'],_0x2c8acd[0xfe2+0x1c32+-0x2c12]=_0x35fa2f['z'];const _0x174324=_0x2667fd['cubeMapPro'+'jectionBox']['getMax'](),_0x482a35=_0xb91dbf[0xaac+0x6d*0x13+0x31*-0x62]['value'];return _0x482a35[-0x1c*0xb5+0x2461+-0x1095]=_0x174324['x'],_0x482a35[-0x1fbb+-0x1d6d*0x1+0x3d29]=_0x174324['y'],_0x482a35[-0x1174+-0x12*-0xcb+0x330]=_0x174324['z'],_0xb91dbf;}),we('specularTi'+'nt',!(0x2*0x85f+-0x203a+-0x3d*-0x41)),we('specularit'+'yFactorTin'+'t',!(0x1086+-0x2e*-0xb5+-0x87*0x5d)),we('useMetalne'+'ss',!(-0x7c1*0x2+-0x1534+0xc3d*0x3)),we('useMetalne'+'ssSpecular'+'Color',!(-0x1b83+-0x234d+0x3ed1)),we('useSheen',!(-0x1*0x14d1+0x143c+0x3*0x32)),we('enableGGXS'+'pecular',!(0x199+0x2165+-0x2b1*0xd)),we('occludeDir'+'ect',!(0x13*0x17f+0x976+-0x25e2)),we('opacityFad'+'esSpecular',!(-0x98*0x7+0x1992+0x1*-0x156a)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(0x127b*0x1+-0x4*-0x229+-0x1b1e)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(-0x7a1*-0x3+0x19f+-0x1882)),we('useLightin'+'g',!(-0x11f1+-0x114c+0x233d)),we('useTonemap',!(0x1478+0x1*-0x1b01+0x689)),we('useSkybox',!(0x231f+-0xeff+0xa1*-0x20)),we('forceUv1',!(-0x132b+0x1*0x4cf+0xe5d)),we('pixelSnap',!(0x1c2c+-0xeff+-0xd2c)),we('twoSidedLi'+'ghting',!(0x233*0xd+0x26*0x1d+-0x5*0x694)),we('nineSliced'+'Mode',void(0x1*0x1ba7+-0x2146*-0x1+-0x3ced)),we('msdfTextAt'+'tribute',!(-0x1*-0x7be+0xd17+0x4*-0x535)),we('useIridesc'+'ence',!(-0x2482+0x223*-0x7+-0x3378*-0x1)),we('glossInver'+'t',!(0xd*-0x1e6+0x2e8*-0x2+0x1e7f)),we('sheenGloss'+'Invert',!(0xd3*0x14+0x25*-0xd3+0xe04)),we('clearCoatG'+'lossInvert',!(0x4*0x706+0x1*0x1a91+0x1238*-0x3)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(0x20b7+-0x184f+-0x867)),Ge('ao','g'),Ge('light','rgb',!(0x97*-0x39+-0x1b84*-0x1+0x61b),0x1c4a+-0x51*-0x4d+-0x34a6),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(-0x1*-0xa93+0x1*0xa93+0x1*-0x1525)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(0x8f*0x1b+0x98e*0x3+-0x2bbe)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x2b9fcd=function(){return this['_prefilter'+'edCubemaps'];},_0x3ec9af=function(_0x4ddbe7){const _0x38f599=this['_prefilter'+'edCubemaps'];_0x4ddbe7=_0x4ddbe7||[];let _0x493b6a=!(0x293*-0x2+-0x1c98+0x21bf),_0x325710=!(-0x1438+0x2317+-0x9*0x1a7);for(let _0x262820=0x1565*-0x1+-0xb*-0x1b4+0x2a9;_0x262820<-0x5*0x1f3+0x353+0x14a*0x5;++_0x262820){const _0x6bef4d=_0x4ddbe7[_0x262820]||null;_0x38f599[_0x262820]!==_0x6bef4d&&(_0x38f599[_0x262820]=_0x6bef4d,_0x493b6a=!(-0x1f4b+0x191a+0x631)),_0x325710=_0x325710&&!!_0x38f599[_0x262820];}_0x493b6a&&(_0x325710?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x38f599,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(-0x2237*0x1+0x7e5+0x3*0x8c6));},_0x2d5aa2=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x2d5aa2['slice'](),_0x3ec9af,_0x2b9fcd);}tM();const dt=class dt{static['render'](_0x10fdf2,_0x4bd533){const _0x28f3cc=_0x4bd533['device'],_0xceb615=_0x10fdf2['cells'],_0x162518=_0x10fdf2['lightsBuff'+'er'],_0x120410=_0x162518['boundsMin'],_0x655be7=_0x162518['boundsDelt'+'a'],_0x15a21f=_0x120410['clone']()['add'](_0x655be7),_0x39072e=_0x162518['boundsDelt'+'a']['clone']()['div'](_0xceb615),_0x2395ca=dt['gridPositi'+'ons'],_0x9951ff=dt['gridColors'],_0x124f86=new Y(0xb2b*-0x1+-0xe54+0x197f*0x1+0.3,-0x1*0x1708+-0x1*-0x803+0xf05+0.3,-0x609+0x9bc+0x3b3*-0x1+0.3),_0x4456af=(_0x11b073,_0x44cb33,_0x3129d4,_0x459702,_0x43457a,_0x16a53e,_0x504ed0,_0x4ab2cf,_0x73776d)=>{for(let _0x353366=-0x10eb+0x36e+-0x1*-0xd7d;_0x353366<=_0x11b073;_0x353366++)for(let _0x18ffeb=-0xa21+-0xdcc+-0x19*-0xf5;_0x18ffeb<=_0x44cb33;_0x18ffeb++){const _0x139a28=_0x3129d4+_0x353366*_0x459702,_0x20a319=_0x43457a+_0x18ffeb*_0x16a53e;_0x73776d===0x1*-0x19b7+0x38f*0x4+-0x1*-0xb7b?_0x2395ca['push'](_0x139a28,_0x504ed0,_0x20a319,_0x139a28,_0x4ab2cf,_0x20a319):_0x73776d===-0x285*-0x1+0x710+0x4ca*-0x2?_0x2395ca['push'](_0x139a28,_0x20a319,_0x504ed0,_0x139a28,_0x20a319,_0x4ab2cf):_0x73776d===0x12aa+0x271+-0x1519*0x1&&_0x2395ca['push'](_0x504ed0,_0x139a28,_0x20a319,_0x4ab2cf,_0x139a28,_0x20a319);}};if(_0x4456af(_0xceb615['x'],_0xceb615['z'],_0x120410['x'],_0x39072e['x'],_0x120410['z'],_0x39072e['z'],_0x120410['y'],_0x15a21f['y'],0x43*-0x10+0x1*-0xb93+-0x541*-0x3),_0x4456af(_0xceb615['x'],_0xceb615['y'],_0x120410['x'],_0x39072e['x'],_0x120410['y'],_0x39072e['y'],_0x120410['z'],_0x15a21f['z'],0xd99+-0x1fe3*0x1+0x15*0xdf),_0x4456af(_0xceb615['y'],_0xceb615['z'],_0x120410['y'],_0x39072e['y'],_0x120410['z'],_0x39072e['z'],_0x120410['x'],_0x15a21f['x'],0x7c+0xf*0x175+0x1*-0x1655),_0x2395ca['length']){const _0x39bcef=_0x2395ca['length']/(-0x222a+-0x2448+0x4675);if(_0x39bcef!==_0x9951ff['length']/(-0x1f98+-0x1*0x2b3+-0x224f*-0x1)){_0x9951ff['length']=-0x17f*-0x15+-0x2597+0x62c;for(let _0x156d9e=-0x1669*0x1+0xa3c+-0x3*-0x40f;_0x156d9e<_0x39bcef;_0x156d9e++)_0x9951ff['push'](_0x124f86['r'],_0x124f86['g'],_0x124f86['b'],_0x124f86['a']);}_0x4bd533['drawLineAr'+'rays'](_0x2395ca,_0x9951ff),_0x2395ca['length']=0x1871+-0x4e1+0x139*-0x10;}let _0x43dc7b=dt['mesh'];_0x43dc7b||(_0x43dc7b=new Ie(_0x28f3cc),_0x43dc7b['clear'](!(-0xb3+-0xf0b+-0x82*-0x1f),!(0xc02+0x3f1+-0x3*0x551)),dt['mesh']=_0x43dc7b);const _0x389a38=[],_0x56e29a=[],_0x26b57f=[],_0x54b895=_0x10fdf2['_cells']['x'],_0x5cc57a=_0x10fdf2['_cells']['z'],_0x198d04=_0x10fdf2['counts'],_0x1886be=_0x10fdf2['_maxCellLi'+'ghtCount'],_0x53576e=new T(),_0x4ea171=new T(),_0x9cc04=new T(),_0x172a3c=_0x655be7['clone']()['div'](_0xceb615);let _0x2e287f=-0x729+0x2*-0xb29+0x1d7b;for(let _0x2e2922=-0x1*0x8ef+-0x1*-0xafd+-0x20e;_0x2e2922<_0xceb615['x'];_0x2e2922++)for(let _0x2a8d79=-0x11*0x133+0x106+0x135d;_0x2a8d79<_0xceb615['z'];_0x2a8d79++)for(let _0x24a3fb=0xe3a+-0x1*-0x837+-0x47d*0x5;_0x24a3fb<_0xceb615['y'];_0x24a3fb++){const _0x18c28=_0x2e2922+_0x54b895*(_0x2a8d79+_0x24a3fb*_0x5cc57a),_0x3012e0=_0x198d04[_0x18c28];if(_0x3012e0>-0x1ba2+0x2304+0x3b1*-0x2){_0x53576e['x']=_0x120410['x']+_0x172a3c['x']*_0x2e2922,_0x53576e['y']=_0x120410['y']+_0x172a3c['y']*_0x24a3fb,_0x53576e['z']=_0x120410['z']+_0x172a3c['z']*_0x2a8d79,_0x4ea171['add2'](_0x53576e,_0x172a3c),_0x389a38['push'](_0x53576e['x'],_0x53576e['y'],_0x4ea171['z']),_0x389a38['push'](_0x4ea171['x'],_0x53576e['y'],_0x4ea171['z']),_0x389a38['push'](_0x4ea171['x'],_0x4ea171['y'],_0x4ea171['z']),_0x389a38['push'](_0x53576e['x'],_0x4ea171['y'],_0x4ea171['z']),_0x389a38['push'](_0x4ea171['x'],_0x53576e['y'],_0x53576e['z']),_0x389a38['push'](_0x53576e['x'],_0x53576e['y'],_0x53576e['z']),_0x389a38['push'](_0x53576e['x'],_0x4ea171['y'],_0x53576e['z']),_0x389a38['push'](_0x4ea171['x'],_0x4ea171['y'],_0x53576e['z']),_0x9cc04['lerp'](dt['colorLow'],dt['colorHigh'],_0x3012e0/_0x1886be)['round']();for(let _0x2840a3=-0x11*-0xce+0x92c*-0x4+0x5f*0x3e;_0x2840a3<-0x1*0x13a2+-0x3*0x713+0x28e3;_0x2840a3++)_0x56e29a['push'](_0x9cc04['x'],_0x9cc04['y'],_0x9cc04['z'],-0x2*-0x12df+0x6*-0x4be+-0x949);_0x26b57f['push'](_0x2e287f*(-0x234c+0x16fc+0xc58)+(0xeb2+-0x17dc*-0x1+-0x268e),_0x2e287f*(-0x1*0x2417+-0x165c+0x3a7b)+(-0x171d+-0xa*-0x132+0xb2a*0x1),_0x2e287f*(0x20cd*0x1+0x1f*-0x93+-0xef8)+(0x864+-0xeb9+0x658)),_0x26b57f['push'](_0x2e287f*(0x13*-0xf+-0x1fa9+0x20ce)+(-0x1*0x201f+-0xc48+0x8e2*0x5),_0x2e287f*(0x111c+0x15c1+0x26d5*-0x1)+(0x7*0xb5+0x2002+0x16*-0x1ae),_0x2e287f*(0x7eb+-0x1615+0x719*0x2)+(-0x1b7+-0x26*-0x12+-0x1*0xf3)),_0x26b57f['push'](_0x2e287f*(0x1*0x22a3+-0x391+0x1f0a*-0x1)+(0x26f5+-0x10e8+-0x1*0x1609),_0x2e287f*(0x26*0x39+-0x1*-0x1b65+0x9*-0x3fb)+(0xf96+-0x1729+0x798),_0x2e287f*(-0xa6*-0xf+0x5*0x656+0x8*-0x52c)+(-0x24c8*0x1+0x26bd+-0x1ee)),_0x26b57f['push'](_0x2e287f*(0x1c2a+-0x1bc2+-0x60)+(0x534*-0x6+-0x5d*-0x4d+-0x2*-0x1a3),_0x2e287f*(-0x1*0xad+0xe59+-0x12*0xc2)+(0x56*0x22+-0x35*-0x1f+0x2*-0x8e9),_0x2e287f*(0xc11*-0x3+-0xe8c*-0x1+0x15af)+(0x3*0x93f+0x2565*-0x1+0x4d7*0x2)),_0x26b57f['push'](_0x2e287f*(0x1fc7+0x1*0xb6+0x1*-0x2075)+(0x444+-0x2*0x557+0x66d),_0x2e287f*(0x1029+0x1*-0x1714+-0x6f3*-0x1)+(0xc34+-0x1*0x215a+0x1528),_0x2e287f*(-0x50d*0x2+-0x1*-0x238d+0x3*-0x879)+(0xcd9+-0xd34*0x2+-0x1*-0xd95)),_0x26b57f['push'](_0x2e287f*(0x6e2+0xf76*0x1+-0x4*0x594)+(-0x6a0+0x46*0x35+0x3ee*-0x2),_0x2e287f*(-0x4e3*0x2+0xb9*0x2b+-0x1545)+(-0xb*-0x17f+0x3*0x423+-0x1cd7),_0x2e287f*(-0xff0+-0xe42*0x1+0x1e3a)+(0xc07+-0x1*-0x21b7+0x26*-0x134)),_0x26b57f['push'](_0x2e287f*(0x19cf+0x15ff*-0x1+-0x3c8*0x1)+(-0x26da+-0x1*-0x126f+0x1*0x146c),_0x2e287f*(0x1*0x125+0x5d3*0x4+0x823*-0x3)+(-0x1f8b+-0x1381*0x1+-0x2d6*-0x12),_0x2e287f*(0x1181*0x1+0x1348*0x2+0x1*-0x3809)+(0x9d7*0x3+-0x2*0x1d8+0x1*-0x19d1)),_0x26b57f['push'](_0x2e287f*(-0x7*0x1e8+0x32b*0x6+-0x67*0xe)+(0x2*-0x272+-0x2e*0xa7+0x1173*0x2),_0x2e287f*(-0x5da+0x47*-0x53+0x1ce7)+(0x1d9c+0x2699+-0x4430),_0x2e287f*(-0x1*0x201e+0x25+-0x1*-0x2001)+(0x1*0x118d+-0x113*-0x5+-0x5ba*0x4)),_0x26b57f['push'](_0x2e287f*(0x1*-0x148c+-0x1161*-0x2+-0xe2e)+(0x8d*0x2+-0x2*-0x2e3+-0x6df),_0x2e287f*(-0x40*-0x35+0x35*-0x3+-0xc99)+(0xd9*0x16+-0x1f6e+-0x9c*-0x15),_0x2e287f*(-0xe*0x12b+-0x1*0x19fd+-0x2a5f*-0x1)+(-0x3fb*0x1+-0x119*-0x4+-0x1*0x67)),_0x26b57f['push'](_0x2e287f*(0x6e9+0x1e0b+-0x24ec)+(0x949*-0x4+-0x9*0x3d7+0x47b7),_0x2e287f*(-0x11*-0x5+-0x3*0x718+0x14fb*0x1)+(0x6b*0x25+-0xc71+-0x2ff),_0x2e287f*(-0x3*0x115+-0x1a9c+0x1de3)+(0x1db6+-0x1af2+0x2c2*-0x1)),_0x26b57f['push'](_0x2e287f*(0x1*-0x16ca+0x1ad+-0x1*-0x1525)+(-0x1b40+0x894+0x12b1),_0x2e287f*(-0xfb*0x1+0x18db+-0x17d8*0x1)+(0xcbd*0x1+0x18f8+-0xc5*0x31),_0x2e287f*(-0x233e*0x1+0x1*0x85d+0x1ae9)+(-0x1199+-0x1*0x1cc9+0x5*0x948)),_0x26b57f['push'](_0x2e287f*(-0x25a3+-0x20d6+0x4681)+(-0x1d75*-0x1+-0x1*-0x7c6+-0x253b),_0x2e287f*(-0x23a3+0x139*0x1f+-0x23c)+(0x1e5e+-0x161*0x11+-0x6ea),_0x2e287f*(0x14*-0x2f+0x1fdd*0x1+-0x963*0x3)+(0x9d2*0x3+-0x6a5*0x3+-0x981)),_0x2e287f++;}}if(_0x2e287f){if(_0x43dc7b['setPositio'+'ns'](_0x389a38),_0x43dc7b['setColors3'+'2'](_0x56e29a),_0x43dc7b['setIndices'](_0x26b57f),_0x43dc7b['update'](Ms,!(0x475+-0x862+0x3ee*0x1)),!dt['meshInstan'+'ce']){const _0x4e5886=new cs();_0x4e5886['useLightin'+'g']=!(-0x4*0x830+-0x1*-0x23b4+-0x5*0x97),_0x4e5886['emissive']=new Y(0x1*-0xd23+-0x64c*0x1+0x1370,-0x18c8+0x778*-0x3+0x1*0x2f31,-0x1*-0x1862+-0x1608+-0x259),_0x4e5886['emissiveVe'+'rtexColor']=!(0x1*-0x9ad+-0x1aac+-0x1*-0x2459),_0x4e5886['blendType']=Hc,_0x4e5886['depthWrite']=!(0xd91*0x1+0x8d6*0x3+-0x2812),_0x4e5886['update']();const _0x1f3e13=new De('WorldClust'+'ersDebug');_0x1f3e13['worldTrans'+'form']=q['IDENTITY'],_0x1f3e13['_dirtyWorl'+'d']=_0x1f3e13['_dirtyNorm'+'al']=!(0xb72*-0x2+-0x4ed*0x7+0x132*0x30),dt['meshInstan'+'ce']=new Le(_0x43dc7b,_0x4e5886,_0x1f3e13),dt['meshInstan'+'ce']['cull']=!(0x8eb*0x4+0x58*-0x65+-0xf3);}const _0x11327c=dt['meshInstan'+'ce'];_0x4bd533['immediate']['drawMesh'](_0x11327c['material'],_0x11327c['node']['worldTrans'+'form'],null,_0x11327c,_0x4bd533['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(0x1*0x5f8+-0x19df+0x8*0x27d,-0x2615*0x1+-0x211a+-0x1*-0x4730,-0x1557+0x6d*-0x3e+0x2fbe)),c(dt,'colorHigh',new T(-0x4*0x9a7+-0xb*0x24b+0x1*0x3ffd,-0x18d8+0x2239+-0x961,-0x3*-0x93c+-0x1573*0x1+-0x641*0x1));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x1aff73=atob(sM);vi=Uint8Array['from'](_0x1aff73,_0x3a0787=>_0x3a0787['charCodeAt'](-0x13df+-0x1a*-0x17d+0x1*-0x12d3));}},iM=()=>(R0(),vi);class rM{constructor(_0xd0065e=0xc94+0x1*-0x3b+0x6d*-0x1d){c(this,'seed',-0x637+0x2363+-0x1d2c),(this['seed']=_0xd0065e*(-0x73e+-0x2334+0x5*0x87e),R0());}['_next'](){this['seed']=(this['seed']+(0x23ac+-0x21b4+-0x32*0xa))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(-0x7cf+-0x213+-0x5*-0x22d);}['vec4'](_0xb37629=new Q()){return this['_next'](),_0xb37629['set'](vi[this['seed']],vi[this['seed']+(-0x1*0x220c+-0x762+0x296f)],vi[this['seed']+(0x2065+0xd6e+-0x2dd1)],vi[this['seed']+(-0x20c*0x11+0x210b*0x1+0x71*0x4)])['mulScalar']((0x1e21+-0x3*0x955+0x6d*-0x5)/(0xa27+0x4a5*0x1+-0xdcd));}}const nM=[new T(-(-0x380*-0xa+-0x238d*-0x1+0x69*-0xac),-0xf97+-0x1*-0x2524+-0x158d,-0x2481+0x12f5+0x1*0x118c),new T(-0x718+-0x18fa+0x2013,-0x1222+-0x1fed+0x37*0xe9,0x5e2*-0x5+-0x65+0x24b*0xd),new T(-0x3d*-0x85+-0x25c3+0x612,-(-0x1*0x1e2f+-0x15e6+0x3416),-0x5df+-0x4*0x977+-0x5*-0x8bf),new T(0x446+-0x21*-0x11+0x5*-0x14b,-0x1358+-0x99c+0x9a7*0x3,0x10a+-0xe5d*0x1+-0x9*-0x17b),new T(0x8ae+0x526*-0x1+-0xe2*0x4,0x1051*0x2+-0xddd+0x3c1*-0x5,-(0x25f3+-0x477+-0x217b*0x1)),new T(-0xcd3+-0x191*0x1+0xe64,0x24ff+0xf86*0x1+-0x3485,-0x1*-0x74f+-0xfb*0x4+-0x1b1*0x2)];class aM{constructor(){c(this,'colors',new Float32Array((0x1d8c+-0x22e4+-0x3*-0x1ca)*(-0x1*0xb2b+-0xcf1+-0x41*-0x5f)));}['update'](_0x5c1703,_0x50bcc5){const _0x246e17=this['colors'],{r:_0x54b1f4,g:_0x330cec,b:_0x33931d}=_0x5c1703;for(let _0x250adb=0x84*-0x7+0x273+0x129;_0x250adb<-0x1d00+-0xf86*0x1+-0xb23*-0x4;_0x250adb++)_0x246e17[_0x250adb*(0x1*0x18fd+-0xe5a+0x154*-0x8)]=_0x54b1f4,_0x246e17[_0x250adb*(-0x15ea+0xf7+-0x1*-0x14f6)+(0x2535+-0x10*-0x75+0x4*-0xb21)]=_0x330cec,_0x246e17[_0x250adb*(0x6d0*-0x4+0x1f*0x1+0x1b24)+(0x8e5+-0x1*0x1dff+0x151c)]=_0x33931d;for(let _0x54b6b5=0x1ee+0x1c63+0x255*-0xd;_0x54b6b5<_0x50bcc5['length'];_0x54b6b5++){const _0x4f53f3=_0x50bcc5[_0x54b6b5];if(_0x4f53f3['_type']===oe)for(let _0x19daa5=-0x1*-0x725+-0x1a73+-0x134e*-0x1;_0x19daa5<0x23*0x9a+0xdb3+0x22bb*-0x1;_0x19daa5++){const _0x37ac24=Math['max'](nM[_0x19daa5]['dot'](_0x4f53f3['_direction']),0x34*0x6d+-0x1a90+-0x46c*-0x1)*_0x4f53f3['_intensity'],_0x5c5eb1=_0x4f53f3['_color'];_0x246e17[_0x19daa5*(0x2657+0x87*-0x25+-0x12d1)]+=_0x5c5eb1['r']*_0x37ac24,_0x246e17[_0x19daa5*(0x4ba*0x5+0x47b*-0x1+-0x1324)+(-0x1e8d+-0x6f*-0x55+-0x64d)]+=_0x5c5eb1['g']*_0x37ac24,_0x246e17[_0x19daa5*(0x3bf+0x17*0xce+-0xdb*0x1a)+(0x10f*0x5+-0x17e9+0x4a8*0x4)]+=_0x5c5eb1['b']*_0x37ac24;}}}}const oM=(_0x3dab8e,_0x638bd9,_0x20e098,_0x334df0)=>{const _0x565c69=new he(_0x3dab8e,{'name':''+_0x638bd9+_0x20e098,'width':_0x20e098,'height':_0x20e098,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0xc2f*0x2+-0x1d46+0x35a5)});return _0x565c69['lock']()['set'](_0x334df0),_0x565c69['unlock'](),_0x565c69;},lM=new Ot(),hM=_0x118d0a=>lM['get'](_0x118d0a,()=>{const _0x13335e=iM(),_0x579081=Math['sqrt'](_0x13335e['length']/(0x174b+-0x418*-0x6+-0x2fd7));return oM(_0x118d0a,'BlueNoise',_0x579081,_0x13335e);});class un{constructor(_0x30b0ec,_0x4a648f){this['texture']=_0x30b0ec,this['cached']=!(0x1399+0x25dd+0x3*-0x1327),this['renderTarg'+'ets']=_0x4a648f;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x4a5b05=this['renderTarg'+'ets'];for(let _0x42648f=0x1f0c+0x2*0xaa7+-0x345a*0x1;_0x42648f<_0x4a5b05['length'];_0x42648f++)_0x4a5b05[_0x42648f]['destroy']();this['renderTarg'+'ets']['length']=-0x146*0x5+-0xc5e+0x12bc;}static['getShadowF'+'iltering'](_0x44c43c,_0x3d9ba3){return _0x3d9ba3===Wr?_0x44c43c['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x14202d,_0x597027){let _0x24b62a=null;return _0x597027['_type']===Pe?_0x24b62a=this['createCube'+'map'](_0x14202d,_0x597027['_shadowRes'+'olution'],_0x597027['_shadowTyp'+'e']):_0x24b62a=this['create2dMa'+'p'](_0x14202d,_0x597027['_shadowRes'+'olution'],_0x597027['_shadowTyp'+'e']),_0x24b62a;}static['createAtla'+'s'](_0x20a82f,_0x2c64c1,_0x521ee6){const _0x32674c=this['create2dMa'+'p'](_0x20a82f,_0x2c64c1,_0x521ee6),_0x5ce221=_0x32674c['renderTarg'+'ets'],_0x57f65a=_0x5ce221[0x1ec7+0xbb6+-0x95*0x49];for(let _0x4418b5=0x1729+0x11*0x1+-0x173a;_0x4418b5<-0x3*0x5b3+0xb*-0x1a2+-0x2314*-0x1;_0x4418b5++)_0x5ce221['push'](_0x57f65a);return _0x32674c;}static['create2dMa'+'p'](_0x4f4d6c,_0x4bc380,_0x2dd1c0){var _0x4fb94d;const _0x4c4e3e=ir['get'](_0x2dd1c0);v['assert'](_0x4c4e3e);let _0x1efe4d=_0x4c4e3e['format'];_0x1efe4d===Ii&&!_0x4f4d6c['textureFlo'+'atRenderab'+'le']&&_0x4f4d6c['textureHal'+'fFloatRend'+'erable']&&(_0x1efe4d=Ec);const _0x365952=(_0x4fb94d=xt['get'](_0x1efe4d))==null?void(-0xb*0x6b+-0x1636+0x1acf):_0x4fb94d['name'],_0x49ea67=this['getShadowF'+'iltering'](_0x4f4d6c,_0x2dd1c0),_0x172d56=new he(_0x4f4d6c,{'profilerHint':Tu,'format':_0x1efe4d,'width':_0x4bc380,'height':_0x4bc380,'mipmaps':!(0x40*0x4f+-0x281*0x1+-0x113e),'minFilter':_0x49ea67,'magFilter':_0x49ea67,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x365952});let _0xdcd54b=null;return _0x4c4e3e!=null&&_0x4c4e3e['pcf']?(_0x172d56['compareOnR'+'ead']=!(-0x1*0x29+0xf9a+-0x1*0xf71),_0x172d56['compareFun'+'c']=Eh,_0xdcd54b=new pt({'depthBuffer':_0x172d56})):_0xdcd54b=new pt({'colorBuffer':_0x172d56,'depth':!(-0x12a8+-0x803+-0x1aab*-0x1)}),_0x4f4d6c['isWebGPU']&&(_0xdcd54b['flipY']=!(0x1*0x1b8f+0x1*-0x656+-0x1539)),new un(_0x172d56,[_0xdcd54b]);}static['createCube'+'map'](_0x3e8b93,_0xcf12ca,_0x4951d9){var _0x10be1a;const _0x41afbb=ir['get'](_0x4951d9);v['assert'](_0x41afbb);const _0x42be86=(_0x10be1a=xt['get'](_0x41afbb['format']))==null?void(-0x1*-0xeb9+0xb9f+-0x1*0x1a58):_0x10be1a['name'],_0x4245d3=_0x4951d9===Ts,_0x3688b6=_0x4245d3?de:st,_0xdb2f0c=new he(_0x3e8b93,{'profilerHint':Tu,'format':_0x41afbb==null?void(-0x135*-0x1f+-0x16f7+-0xe74):_0x41afbb['format'],'width':_0xcf12ca,'height':_0xcf12ca,'cubemap':!(0x3e+-0x15dc+0x159e*0x1),'mipmaps':!(0x1cc4*0x1+-0x167*0x7+-0x12f2),'minFilter':_0x3688b6,'magFilter':_0x3688b6,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x42be86});_0x4245d3||(_0xdb2f0c['compareOnR'+'ead']=!(-0x1937+-0x10d8+0x2a0f),_0xdb2f0c['compareFun'+'c']=Eh);const _0x5a7bb5=[];for(let _0x28f77d=0x6*-0x381+0x85c*-0x2+0x25be;_0x28f77d<-0x1*0x1a51+-0x219e+0x3bf5;_0x28f77d++)_0x4245d3?_0x5a7bb5['push'](new pt({'colorBuffer':_0xdb2f0c,'face':_0x28f77d,'depth':!(-0x161*-0x19+-0x1f63*0x1+-0x316)})):_0x5a7bb5['push'](new pt({'depthBuffer':_0xdb2f0c,'face':_0x28f77d}));return new un(_0xdb2f0c,_0x5a7bb5);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x48aca2){this['size']=Math['floor'](_0x48aca2['w']*(0x10d7+-0x1472+0x3b*0x21)),this['used']=!(-0x1078+0x16fc+-0x683),this['lightId']=-(-0x1bb5+-0x133*0x7+-0x241b*-0x1),this['rect']=_0x48aca2;}}class uM{constructor(_0x18be0c){this['device']=_0x18be0c,this['version']=-0xb2*0x2e+0xa*-0x47+0xb*0x329,this['shadowAtla'+'sResolutio'+'n']=0x1094*-0x2+-0x9*-0x15e+0x99e*0x3,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x2*0xac3+-0xfa9*0x1+-0x5da,this['cookieAtla'+'sResolutio'+'n']=0x1bf8+-0x1924+-0x2d0,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(-0x36e+-0x1c8a+0x1ff9),'mipmaps':!(-0x2677+-0x37*0x43+0x15b*0x27),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x1*0x782+-0x6fb+0xe7e),'flipY':!(0x7f8+0x148a+0xb2*-0x29)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(0x147*-0x7+0x12e4+0x1*-0x9f3,0x1e85+0x1796+-0x361b),new W(-0x301*-0xb+-0x2*-0x7f6+0x5*-0x9cb,0x20c8+-0x21c1+-0x2*-0x7d),new W(0x1739+0x17e9+-0x2f21,-0xef9*-0x1+0x1*-0xc0d+0xbb*-0x4),new W(-0x26b2+0xca2+-0x1a11*-0x1,0x9b7+-0x308*-0x1+-0xcbe),new W(-0x125f*0x1+0x15d2+-0x371,0xbdb+-0x1aed+0xf12),new W(0x4db+0x90b*-0x1+0xb3*0x6,-0xb*-0x1b7+-0x6*-0x3ed+0x1535*-0x2)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](-0x1be8+-0x2006+0x3bef),this['allocateCo'+'okieAtlas'](-0x1951*-0x1+-0x1ef+0x23*-0xab),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x323d93;(_0x323d93=this['shadowAtla'+'s'])==null||_0x323d93['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x65c12e,_0x2e08e3;(_0x65c12e=this['cookieAtla'+'s'])==null||_0x65c12e['destroy'](),this['cookieAtla'+'s']=null,(_0x2e08e3=this['cookieRend'+'erTarget'])==null||_0x2e08e3['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x1e559a,_0x5d6c4f=Dt){var _0x52644c;const _0x2a3b92=(_0x52644c=this['shadowAtla'+'s'])==null?void(0x1513+0x954*0x2+-0x27bb):_0x52644c['texture']['format'],_0x4a7b3d=ir['get'](_0x5d6c4f)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x1e559a||_0x2a3b92!==_0x4a7b3d){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x1e559a,_0x5d6c4f),this['shadowAtla'+'s']['cached']=!(-0x491+0xcf*-0x2a+0x2687);const _0x2ad83b=(-0x1*-0x579+0x11*-0x9a+0x4c5)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x2ad83b,_0x2ad83b,-(0x1209+0x889+-0x1a90)*_0x2ad83b,-(-0x1588+0x8*0x12+-0x1*-0x14fa)*_0x2ad83b);}}['allocateCo'+'okieAtlas'](_0x36a211){this['cookieAtla'+'s']['width']!==_0x36a211&&(this['cookieRend'+'erTarget']['resize'](_0x36a211,_0x36a211),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x3fa*0x1+-0x3*-0x13a+-0x3*-0x1a),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0xc093eb=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x10e7*0x1+0x40c+-0x3*-0x449]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0xc093eb),this['_shadowAtl'+'asParams'][0x87c*0x2+-0xf*0x17d+0x55b]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0x62*0x12+0x19ab+-0x12c6]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x1f3097,_0x295b60){let _0x43b3d3=_0x295b60['atlasSplit'];if(!_0x43b3d3){const _0x1d893b=Math['ceil'](Math['sqrt'](_0x1f3097));_0x43b3d3=dM,_0x43b3d3[-0x1*-0x1fff+-0x14c3*-0x1+0x6*-0x8cb]=_0x1d893b,_0x43b3d3['length']=-0x68*0x30+-0xd31+0x20b2;}if(!((_0x1183d4,_0x4419a7)=>_0x1183d4['length']===_0x4419a7['length']&&_0x1183d4['every']((_0x108447,_0x54271d)=>_0x108447===_0x4419a7[_0x54271d]))(_0x43b3d3,this['atlasSplit'])){this['version']++,this['slots']['length']=0xfa7+-0x21d8+-0x1*-0x1231,this['atlasSplit']['length']=0x106+-0x146f+0x1369*0x1,this['atlasSplit']['push'](..._0x43b3d3);const _0x2c4f41=this['atlasSplit'][-0x3d*-0x9b+-0x5ae+-0x7*0x477];if(_0x2c4f41>0x268c+0x1*-0x883+0x3e*-0x7c){const _0x5d7eeb=(-0x21ae+-0x25*-0xe3+0xe0)/_0x2c4f41;for(let _0xf59aff=-0x1c5*-0x12+0xf56+-0x2f30;_0xf59aff<_0x2c4f41;_0xf59aff++)for(let _0x2dfcc5=-0x1835*0x1+-0x1*0x99d+0x14d*0x1a;_0x2dfcc5<_0x2c4f41;_0x2dfcc5++){const _0x27e4a8=new Q(_0xf59aff*_0x5d7eeb,_0x2dfcc5*_0x5d7eeb,_0x5d7eeb,_0x5d7eeb),_0x31684d=this['atlasSplit'][0x13bb+-0x3e*0x9a+0x1192+_0xf59aff*_0x2c4f41+_0x2dfcc5];if(_0x31684d>-0x1a84+-0x4a6*0x6+0x1*0x3669){for(let _0x147603=0x87+-0x1b25+0x1a9e*0x1;_0x147603<_0x31684d;_0x147603++)for(let _0x4321f1=0x237a+-0x5af*0x3+0x35*-0x59;_0x4321f1<_0x31684d;_0x4321f1++){const _0x24deb3=_0x5d7eeb/_0x31684d,_0x3ebd6e=new Q(_0x27e4a8['x']+_0x147603*_0x24deb3,_0x27e4a8['y']+_0x4321f1*_0x24deb3,_0x24deb3,_0x24deb3);this['slots']['push'](new Md(_0x3ebd6e));}}else this['slots']['push'](new Md(_0x27e4a8));}}else this['slots']['push'](new Md(new Q(0xb8f+-0xd0*0x7+-0x5df,-0x2409+-0x4*0x81e+-0x39b*-0x13,-0x16f*-0xa+0x1*0x2531+-0x3386,-0x114*0xd+-0x397+0x119c)));this['slots']['sort']((_0x1ac911,_0x15dedd)=>_0x15dedd['size']-_0x1ac911['size']);}}['collectLig'+'hts'](_0x42aabc,_0x125563){const _0x3307bc=_0x125563['cookiesEna'+'bled'],_0x5544ce=_0x125563['shadowsEna'+'bled'];let _0x4d6450=!(0x16ce+-0x45f*0x1+-0x126e),_0x1e93d0=!(0x8eb+-0xfea*-0x1+-0x18d4);const _0x7dd371=cM;return _0x7dd371['length']=0x724+-0xc08*0x2+0x10ec,(_0x3307bc||_0x5544ce)&&(_0x5eb390=>{for(let _0xd69ef3=0x19*-0x17+-0x568+0x7a7;_0xd69ef3<_0x5eb390['length'];_0xd69ef3++){const _0x216c29=_0x5eb390[_0xd69ef3];if(_0x216c29['visibleThi'+'sFrame']){const _0x2f890a=_0x5544ce&&_0x216c29['castShadow'+'s'],_0x15d183=_0x3307bc&&!!_0x216c29['cookie'];_0x4d6450||(_0x4d6450=_0x2f890a),_0x1e93d0||(_0x1e93d0=_0x15d183),(_0x2f890a||_0x15d183)&&_0x7dd371['push'](_0x216c29);}}})(_0x42aabc),_0x7dd371['sort']((_0x139867,_0x32b99d)=>_0x32b99d['maxScreenS'+'ize']-_0x139867['maxScreenS'+'ize']),_0x4d6450&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x125563['shadowType']),_0x1e93d0&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x4d6450||_0x1e93d0)&&this['subdivide'](_0x7dd371['length'],_0x125563),_0x7dd371;}['setupSlot'](_0x214fcb,_0x3f71b2){_0x214fcb['atlasViewp'+'ort']['copy'](_0x3f71b2);const _0x2014ad=_0x214fcb['numShadowF'+'aces'];for(let _0x48d911=-0x1*0xb7+0x1*-0x1117+0x2*0x8e7;_0x48d911<_0x2014ad;_0x48d911++)if(_0x214fcb['castShadow'+'s']||_0x214fcb['_cookie']){if(Js['copy'](_0x3f71b2),Cd['copy'](_0x3f71b2),_0x214fcb['_type']===Re&&Js['add'](this['scissorVec']),_0x214fcb['_type']===Pe){const _0x24febb=Js['z']/(0x16b*-0xd+0x16b0+-0x43e),_0x597f52=this['cubeSlotsO'+'ffsets'][_0x48d911];Js['x']+=_0x24febb*_0x597f52['x'],Js['y']+=_0x24febb*_0x597f52['y'],Js['z']=_0x24febb,Js['w']=_0x24febb,Cd['copy'](Js);}if(_0x214fcb['castShadow'+'s']){const _0xc508bf=_0x214fcb['getRenderD'+'ata'](null,_0x48d911);_0xc508bf['shadowView'+'port']['copy'](Js),_0xc508bf['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x51885b,_0x3ffb0c,_0x515bf6){_0x51885b['atlasViewp'+'ortAllocat'+'ed']=!(0x1*-0x244d+0x714+0x1*0x1d39);const _0x4884a6=this['slots'][_0x3ffb0c];_0x4884a6['lightId']=_0x51885b['id'],_0x4884a6['used']=!(-0xc7*0x29+0x26b9+-0x6da),_0x515bf6&&(_0x51885b['atlasSlotU'+'pdated']=!(-0x1e4f+-0x1*-0x1697+0x7b8),_0x51885b['atlasVersi'+'on']=this['version'],_0x51885b['atlasSlotI'+'ndex']=_0x3ffb0c);}['update'](_0x2670ef,_0x1e70d7){this['shadowAtla'+'sResolutio'+'n']=_0x1e70d7['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x1e70d7['cookieAtla'+'sResolutio'+'n'];const _0x581cff=this['collectLig'+'hts'](_0x2670ef,_0x1e70d7);if(_0x581cff['length']>-0x1196+0x22*0x1c+-0x163*-0xa){const _0x323f88=this['slots'];for(let _0x229779=0x221*0xf+-0x1e9b+-0x154;_0x229779<_0x323f88['length'];_0x229779++)_0x323f88[_0x229779]['used']=!(0xd1e*0x1+0x20cd+-0x2dea);const _0x2852ff=Math['min'](_0x581cff['length'],_0x323f88['length']);for(let _0x528f08=-0x16af*0x1+0x2d5+0x13da*0x1;_0x528f08<_0x2852ff;_0x528f08++){const _0x5cbe36=_0x581cff[_0x528f08];_0x5cbe36['castShadow'+'s']&&(_0x5cbe36['_shadowMap']=this['shadowAtla'+'s']);const _0x5cc176=_0x323f88[_0x5cbe36['atlasSlotI'+'ndex']];if(_0x5cbe36['atlasVersi'+'on']===this['version']&&_0x5cbe36['id']===(_0x5cc176==null?void(-0x243a+-0xc9+0x2503):_0x5cc176['lightId'])){const _0x3e35de=_0x323f88[_0x5cbe36['atlasSlotI'+'ndex']];_0x3e35de['size']===_0x323f88[_0x528f08]['size']&&!_0x3e35de['used']&&this['assignSlot'](_0x5cbe36,_0x5cbe36['atlasSlotI'+'ndex'],!(-0xc75*0x3+-0x15a+0x26ba));}}let _0x2e2c19=0x4*0x3ee+-0x132d+0x5*0xb1;for(let _0x4f9221=0x925+-0x199e+0x1*0x1079;_0x4f9221<_0x2852ff;_0x4f9221++){for(;_0x2e2c19<_0x323f88['length']&&_0x323f88[_0x2e2c19]['used'];)_0x2e2c19++;const _0x39a102=_0x581cff[_0x4f9221];_0x39a102['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x39a102,_0x2e2c19,!(0x7*-0x51b+0xf+-0x1*-0x23ae));const _0x1787ac=_0x323f88[_0x39a102['atlasSlotI'+'ndex']];this['setupSlot'](_0x39a102,_0x1787ac['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x1e3192=>{_0x1e3192['forEach'](_0x2c41b2=>{_0x2c41b2['destroy']();});}),this['cache']['clear']();}['getKey'](_0x5f3781){const _0x18ab63=_0x5f3781['_type']===Pe,_0x2d151e=_0x5f3781['_shadowTyp'+'e'],_0x5f0a44=_0x5f3781['_shadowRes'+'olution'];return _0x18ab63+'-'+_0x2d151e+'-'+_0x5f0a44;}['get'](_0x562f33,_0x5c3453){const _0x3fba80=this['getKey'](_0x5c3453),_0xde6f71=this['cache']['get'](_0x3fba80);if(_0xde6f71&&_0xde6f71['length'])return _0xde6f71['pop']();const _0x247a81=un['create'](_0x562f33,_0x5c3453);return _0x247a81['cached']=!(-0x3*0x82f+0x11b*-0x18+0x3315),_0x247a81;}['add'](_0x5c6e56,_0x54fa1f){const _0x34b591=this['getKey'](_0x5c6e56),_0x855934=this['cache']['get'](_0x34b591);_0x855934?_0x855934['push'](_0x54fa1f):this['cache']['set'](_0x34b591,[_0x54fa1f]);}}class pM extends ds{constructor(_0x235b88,_0x40ec16,_0x191384,_0x38c2de,_0x4023d2){super(_0x235b88),mn['setName'](this,this['name']+'-'+_0x191384['_node']['name']),this['requiresCu'+'bemaps']=!(-0x23b8+0xac8+0x18f1),this['shadowRend'+'erer']=_0x40ec16,this['light']=_0x191384,this['face']=_0x38c2de,this['applyVsm']=_0x4023d2,this['shadowCame'+'ra']=_0x40ec16['prepareFac'+'e'](_0x191384,null,_0x38c2de),_0x40ec16['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0xb*-0x239+0x16*0x109+-0x8f*-0x3));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0xfae+-0x7d8+-0x7d5));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x4d16f2,_0x5215a0){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x4d16f2,this['shadowRend'+'erer']=_0x5215a0,this['device']=_0x4d16f2['device']);}['cull'](_0x5d4577,_0x194f13,_0x41dc3e=null){const _0x39cc5f=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x5d4577['visibleThi'+'sFrame']=!(0x22c6+0x5*0x728+-0x468e),_0x39cc5f||_0x5d4577['_shadowMap']||(_0x5d4577['_shadowMap']=un['create'](this['device'],_0x5d4577));const _0x33e103=_0x5d4577['_type'],_0x1166f0=_0x33e103===Re?-0x1b7e+0x1*-0x21+0x1a*0x110:0x95b+0x142b+-0x760*0x4;for(let _0x4d256c=0x12b2*0x1+-0x81*-0x47+-0x1*0x3679;_0x4d256c<_0x1166f0;_0x4d256c++){const _0x41d74b=_0x5d4577['getRenderD'+'ata'](null,_0x4d256c),_0xfea561=_0x41d74b['shadowCame'+'ra'];_0xfea561['nearClip']=_0x5d4577['attenuatio'+'nEnd']/(0x149*-0x5+0x7*-0x185+0x7a*0x2c),_0xfea561['farClip']=_0x5d4577['attenuatio'+'nEnd'];const _0x4ecac3=_0xfea561['_node'],_0x374f9c=_0x5d4577['_node'];if(_0x4ecac3['setPositio'+'n'](_0x374f9c['getPositio'+'n']()),_0x33e103===Re)_0xfea561['fov']=_0x5d4577['_outerCone'+'Angle']*(-0x1096+-0x19a4+0x27c*0x11),_0x4ecac3['setRotatio'+'n'](_0x374f9c['getRotatio'+'n']()),_0x4ecac3['rotateLoca'+'l'](-(-0xb3e*0x1+-0x182c+0x23c4),-0x38d*-0x1+-0x13*-0xfb+0x11*-0x14e,0x1363+0x1e5*0xd+-0x2c04);else{if(_0x33e103===Pe){if(_0x39cc5f){const _0x2e3df7=(-0x99*0x21+0x50f*0x1+0xc*0x139)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x5d4577['atlasViewp'+'ort']['z']/(-0x1016+-0x827*0x3+-0x288e*-0x1))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0xfea561['fov']=Math['atan'](-0x18e+-0x1*0x961+0xaf0+_0x2e3df7)*N['RAD_TO_DEG']*(-0x7*0x39a+0x1f39+0x601*-0x1);}else _0xfea561['fov']=-0xca7+0x2215+0x1514*-0x1;}}this['renderer']['updateCame'+'raFrustum'](_0xfea561),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x194f13,_0x5d4577,_0x41d74b['visibleCas'+'ters'],_0xfea561,_0x41dc3e);}}['prepareLig'+'hts'](_0x56bc44,_0x3c2650){let _0x38df54;for(let _0x5e3960=-0x21a7+0xf19+0x128e;_0x5e3960<_0x3c2650['length'];_0x5e3960++){const _0x2bfb72=_0x3c2650[_0x5e3960];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x2bfb72)&&_0x2bfb72['atlasViewp'+'ortAllocat'+'ed']){_0x56bc44['push'](_0x2bfb72);for(let _0xb8be2=0x101*0x8+-0x1*-0x5c3+-0xdcb;_0xb8be2<_0x2bfb72['numShadowF'+'aces'];_0xb8be2++)_0x38df54=this['shadowRend'+'erer']['prepareFac'+'e'](_0x2bfb72,null,_0xb8be2);}}return _0x38df54;}['buildNonCl'+'usteredRen'+'derPasses'](_0x35e8fb,_0x15d744){for(let _0x25cbcf=0x156d+0x1951+-0x182*0x1f;_0x25cbcf<_0x15d744['length'];_0x25cbcf++){const _0x616fb8=_0x15d744[_0x25cbcf];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x616fb8)){const _0x474e74=_0x616fb8['_type']===Re,_0x23b201=_0x616fb8['numShadowF'+'aces'];for(let _0x2a68f4=-0x371+0x1*-0x1bad+0x1f1e;_0x2a68f4<_0x23b201;_0x2a68f4++){const _0x455411=new pM(this['device'],this['shadowRend'+'erer'],_0x616fb8,_0x2a68f4,_0x474e74);_0x35e8fb['addRenderP'+'ass'](_0x455411);}}}}}class _M extends ds{constructor(_0x5eb6ce,_0x1e133b,_0x285a28,_0x109e8d,_0x54130b){super(_0x5eb6ce),mn['setName'](this,this['name']+'-'+_0x285a28['_node']['name']),this['shadowRend'+'erer']=_0x1e133b,this['light']=_0x285a28,this['camera']=_0x109e8d,this['allCascade'+'sRendering']=_0x54130b;}['execute'](){const {light:_0x3e748d,camera:_0x458f50,shadowRenderer:_0x448419,allCascadesRendering:_0x36a39c}=this,_0x5ddf10=_0x3e748d['numShadowF'+'aces'],_0x516b42=_0x3e748d['shadowUpda'+'teOverride'+'s'];for(let _0x52ca0e=0x1ca9+0x2*-0xa7b+-0x7b3;_0x52ca0e<_0x5ddf10;_0x52ca0e++)(_0x516b42==null?void(0x11a8+-0x80b+-0x99d):_0x516b42[_0x52ca0e])!==Ps&&_0x448419['renderFace'](_0x3e748d,_0x458f50,_0x52ca0e,!_0x36a39c),(_0x516b42==null?void(0x1a*-0x115+0x15*-0xd5+0x19*0x1d3):_0x516b42[_0x52ca0e])===cn&&(_0x516b42[_0x52ca0e]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0x342d65,_0x5befce,_0x16f2fb){Fe[-0x26d8+0x1f*0xce+0xde6]['x']=Fe[-0x2*0xdcb+-0x584+0x211b]['x']=Fe[-0x2*-0xcbb+-0x201*-0x3+-0x1f77]['x']=Fe[-0x24b9+0x42c*-0x2+0x904*0x5]['x']=_0x5befce['x'],Fe[0xfab*0x2+0x14b*-0xd+-0xe86]['y']=Fe[-0x8d*-0x3+-0x20+-0x1*0x184]['y']=Fe[-0x1*-0x1849+0x1*0xedb+0x24d*-0x11]['y']=Fe[0xeea+-0xc77+-0x26e]['y']=_0x5befce['y'],Fe[-0x49*0x44+-0x1ff5+-0x335b*-0x1]['z']=Fe[0x2*-0x8f3+0x1*0x2342+-0x1159]['z']=Fe[-0x146*0x11+0xa9b+0xb11]['z']=Fe[-0x22b9+0x2426+0x1*-0x166]['z']=_0x5befce['z'],Fe[0xf00+-0x3*0xbc4+0x1450]['x']=Fe[0x3*-0xa58+-0x1*0x403+0x2310]['x']=Fe[-0x1c96*0x1+-0x20b6+-0x2f*-0x14e]['x']=Fe[0x17c2*0x1+-0x25d8+0xe1d*0x1]['x']=_0x16f2fb['x'],Fe[0x2115+0x13e3+-0x54c*0xa]['y']=Fe[-0x154c+0x161f+-0xd1]['y']=Fe[0xe05+-0xab*0x1d+0x55e]['y']=Fe[-0x1d44+-0x1*-0x1b23+0x1d*0x13]['y']=_0x16f2fb['y'],Fe[0xb44+-0x451+0x1*-0x6f3]['z']=Fe[-0x7cf*-0x2+-0x1343*0x2+-0xf*-0x187]['z']=Fe[-0x505*-0x3+-0x1e99+0xf8e]['z']=Fe[-0x2658+-0x4f*0x73+0x49da]['z']=_0x16f2fb['z'];let _0x50cae2=-0x39385a54f+0xacc1c151+0x53acfc7fd,_0x395444=-(0x233c02f*0x32+-0x2a165b668+0x4d*0xf0e6a9d);for(let _0xac30a9=0x784+-0xefa+0x776;_0xac30a9<-0x2*0x1fa+-0x7*-0x533+-0x1*0x2069;++_0xac30a9){_0x342d65['transformP'+'oint'](Fe[_0xac30a9],Fe[_0xac30a9]);const _0x4e122e=Fe[_0xac30a9]['z'];_0x4e122e<_0x50cae2&&(_0x50cae2=_0x4e122e),_0x4e122e>_0x395444&&(_0x395444=_0x4e122e);}return Pd['min']=_0x50cae2,Pd['max']=_0x395444,Pd;}class yM{constructor(_0x1e62d8,_0x2249c4){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x1e62d8,this['shadowRend'+'erer']=_0x2249c4,this['device']=_0x1e62d8['device']);}['cull'](_0x1daf6c,_0x39cc05,_0x4cbced,_0x5da0d3=null){_0x1daf6c['visibleThi'+'sFrame']=!(0x7ee+0x2057+0x3d*-0xa9),_0x1daf6c['_shadowMap']||(_0x1daf6c['_shadowMap']=un['create'](this['device'],_0x1daf6c));const _0x5d3ff4=_0x4cbced['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x1daf6c,_0x5d3ff4,Math['min'](_0x4cbced['_farClip'],_0x1daf6c['shadowDist'+'ance']));const _0x5044d7=_0x1daf6c['shadowUpda'+'teOverride'+'s'];for(let _0x4deb80=-0x1*0x23bf+0xe12+0x15ad;_0x4deb80<_0x1daf6c['numCascade'+'s']&&(_0x5044d7==null?void(-0x6+-0x8b+0x91*0x1):_0x5044d7[_0x4deb80])!==Ps;_0x4deb80++){const _0x831dff=_0x1daf6c['getRenderD'+'ata'](_0x4cbced,_0x4deb80),_0x34e0ef=_0x831dff['shadowCame'+'ra'];_0x34e0ef['renderTarg'+'et']=_0x1daf6c['_shadowMap']['renderTarg'+'ets'][-0x1b3f+-0x5*0x262+0x2729],_0x831dff['shadowView'+'port']['copy'](_0x1daf6c['cascades'][_0x4deb80]),_0x831dff['shadowScis'+'sor']['copy'](_0x1daf6c['cascades'][_0x4deb80]);const _0x4c27e8=_0x34e0ef['_node'],_0xb5ceee=_0x1daf6c['_node'];_0x4c27e8['setPositio'+'n'](_0xb5ceee['getPositio'+'n']()),_0x4c27e8['setRotatio'+'n'](_0xb5ceee['getRotatio'+'n']()),_0x4c27e8['rotateLoca'+'l'](-(0x131d+-0x1*-0x90f+-0x1bd2),-0x57*-0x2d+0x1e5f*0x1+-0x922*0x5,-0x2327+0x6*-0x49e+0x3edb);const _0x4dd615=_0x4deb80===-0x221*-0x1+0x15*-0x15f+0x1aaa?_0x5d3ff4:_0x1daf6c['_shadowCas'+'cadeDistan'+'ces'][_0x4deb80-(0x1*0x17b9+0x451+-0x1c09*0x1)],_0x1f2406=_0x1daf6c['_shadowCas'+'cadeDistan'+'ces'][_0x4deb80],_0x3c4c27=_0x4cbced['getFrustum'+'Corners'](_0x4dd615,_0x1f2406);ei['set'](0x13d8+-0x86f*-0x4+-0x3594,0x17a5+0x18bb+0x3060*-0x1,0x6dc*-0x4+0x3f*-0x79+0x3937);const _0x3e143a=_0x4cbced['node']['getWorldTr'+'ansform']();for(let _0x2e81b0=-0x3*-0x1+0xe75*-0x1+0xe72;_0x2e81b0<-0x2453+0x12b2+0x11a9;_0x2e81b0++)_0x3e143a['transformP'+'oint'](_0x3c4c27[_0x2e81b0],_0x3c4c27[_0x2e81b0]),ei['add'](_0x3c4c27[_0x2e81b0]);ei['mulScalar']((0x163*-0x19+-0x261b+0x48c7)/(-0x14b3+-0x15a2+0x2a5d));let _0x17dc1a=0x1a2f*-0x1+0x23d2+-0x9a3;for(let _0x5d1261=-0x2188+-0xfb*0x22+0x42de;_0x5d1261<0x716+-0x245c+0x1d4e;_0x5d1261++){const _0x2eab5f=_0x3c4c27[_0x5d1261]['sub'](ei)['length']();_0x2eab5f>_0x17dc1a&&(_0x17dc1a=_0x2eab5f);}const _0xe98783=_0x4c27e8['right'],_0x5aff10=_0x4c27e8['up'],_0x21d94c=_0x4c27e8['forward'],_0x106371=(0x65*-0x3+-0x165d+0x178c+0.25)*_0x1daf6c['_shadowRes'+'olution']/_0x17dc1a,_0xec310f=Math['ceil'](ei['dot'](_0x5aff10)*_0x106371)/_0x106371,_0x53e2e2=Math['ceil'](ei['dot'](_0xe98783)*_0x106371)/_0x106371,_0x2e0965=_0x5aff10['mulScalar'](_0xec310f),_0xd2f52d=_0xe98783['mulScalar'](_0x53e2e2),_0x407df5=ei['dot'](_0x21d94c),_0x523751=_0x21d94c['mulScalar'](_0x407df5);ei['add2'](_0x2e0965,_0xd2f52d)['add'](_0x523751),_0x4c27e8['setPositio'+'n'](ei),_0x4c27e8['translateL'+'ocal'](0xda3*0x1+0x15*0xd7+-0x1f46,-0x1b87+0x1eeb+-0x364,-0x9*0x32383+-0x8673*0x8+0x2fb573),_0x34e0ef['nearClip']=0x1*0x8fe+-0x19de+-0x1b*-0xa0+0.01,_0x34e0ef['farClip']=-0xb45bf*-0x1+-0x261590+0x395451,_0x34e0ef['orthoHeigh'+'t']=_0x17dc1a,this['renderer']['updateCame'+'raFrustum'](_0x34e0ef),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x39cc05,_0x1daf6c,_0x831dff['visibleCas'+'ters'],_0x34e0ef,_0x5da0d3);let _0x57f350=!(-0x4*0x247+-0x1db1+0x81*0x4d);const _0x8d3e70=_0x831dff['visibleCas'+'ters'];for(let _0x411544=-0x3*0x427+-0x10a0+0x1d15;_0x411544<_0x8d3e70['length'];_0x411544++){const _0x1af5c5=_0x8d3e70[_0x411544];_0x57f350?(_0x57f350=!(0xe09+0x31*-0x58+-0x2d*-0x10),Ll['copy'](_0x1af5c5['aabb'])):Ll['add'](_0x1af5c5['aabb']);}d_['copy'](_0x4c27e8['getWorldTr'+'ansform']())['invert']();const _0x2509ef=gM(d_,Ll['getMin'](),Ll['getMax']());_0x4c27e8['translateL'+'ocal'](0x1*-0x19a3+-0xa4f+0x23f2,0x15ae+0x19*0xe1+-0x19*0x1bf,_0x2509ef['max']+(-0x1f3+-0x23ce+0x25c1+0.1)),_0x34e0ef['farClip']=_0x2509ef['max']-_0x2509ef['min']+(0x251*0x1+-0x1c45+0x19f4+0.2),_0x831dff['projection'+'Compensati'+'on']=_0x17dc1a;}}['generateSp'+'litDistanc'+'es'](_0xa70cf6,_0x4b1765,_0x166ba6){_0xa70cf6['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x166ba6);for(let _0x5d2ea5=-0x43*-0x2a+0xcb*0x21+0xe8*-0x29;_0x5d2ea5<_0xa70cf6['numCascade'+'s'];_0x5d2ea5++){const _0x50ab5e=_0x5d2ea5/_0xa70cf6['numCascade'+'s'],_0x52b260=_0x4b1765+(_0x166ba6-_0x4b1765)*_0x50ab5e,_0x4af0f7=_0x4b1765*(_0x166ba6/_0x4b1765)**_0x50ab5e,_0x127a6d=N['lerp'](_0x52b260,_0x4af0f7,_0xa70cf6['cascadeDis'+'tribution']);_0xa70cf6['_shadowCas'+'cadeDistan'+'ces'][_0x5d2ea5-(0x1eac+0x23*0xfa+-0xd*0x4fd)]=_0x127a6d;}}['getLightRe'+'nderPass'](_0x113a0c,_0x58814b){v['assert'](_0x113a0c&&_0x113a0c['_type']===oe);let _0x548066=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x113a0c)){const _0x2a3c21=_0x113a0c['numShadowF'+'aces'],_0x5f1305=_0x113a0c['shadowUpda'+'teOverride'+'s'];let _0x153753=!(0x1223*-0x2+-0x1a8d+-0x1*-0x3ed3),_0x193822;for(let _0x322c29=-0xa74*-0x3+-0x73+0x1*-0x1ee9;_0x322c29<_0x2a3c21;_0x322c29++)(_0x5f1305==null?void(0xb*0x15+0x6*0x18d+-0xa35):_0x5f1305[_0x322c29])===Ps&&(_0x153753=!(-0x424+0x5*0x124+0x15*-0x13)),_0x193822=this['shadowRend'+'erer']['prepareFac'+'e'](_0x113a0c,_0x58814b,_0x322c29);_0x548066=new _M(this['device'],this['shadowRend'+'erer'],_0x113a0c,_0x58814b,_0x153753),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x548066,_0x193822,_0x153753);}return _0x548066;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(0x1d94+0x2*0xb35+-0x1*0x33fc),Xa=new Q(0x4*0x119+-0x7c*-0x2+-0x1c9*0x3,-0x8fd+-0x1ae+0xaac,-0x115c+0x46d*0x5+-0x4c5,-0x158f+0x1c2a+-0x59*0x13),p_=new q();function xM(_0x2f4766,_0x3c91b8){return Math['exp'](-(_0x2f4766*_0x2f4766)/((-0x1ee*-0xe+0x2609+-0x1*0x410b)*_0x3c91b8*_0x3c91b8));}function SM(_0x295468){const _0x173987=(_0x295468-(-0x1a0+-0x4cd+0x66e))/(-0x1e88+0x1*-0x24bb+0x4349),_0x15dbb1=(_0x295468-(0x22cd+0x5*-0x729+0x101))*(-0x435*0x2+-0x158a*0x1+0x1df4+0.5),_0x28d96a=new Array(_0x295468);let _0x2e54bc=-0x2e7*-0x5+-0x1d70+-0x1*-0xeed;for(let _0x10b40f=0x1216*0x1+-0x769+-0xaad;_0x10b40f<_0x295468;++_0x10b40f)_0x28d96a[_0x10b40f]=xM(_0x10b40f-_0x15dbb1,_0x173987),_0x2e54bc+=_0x28d96a[_0x10b40f];for(let _0x4336fd=0x1d4b*-0x1+-0x518+-0x2263*-0x1;_0x4336fd<_0x295468;++_0x4336fd)_0x28d96a[_0x4336fd]/=_0x2e54bc;return _0x28d96a;}class I0{constructor(_0x16710f,_0x240a09){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x16710f['device'],this['renderer']=_0x16710f,this['lightTextu'+'reAtlas']=_0x240a09);const _0x127cee=this['device']['scope'];this['sourceId']=_0x127cee['resolve']('source'),this['pixelOffse'+'tId']=_0x127cee['resolve']('pixelOffse'+'t'),this['weightId']=_0x127cee['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x127cee['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0xe75*0x2+-0x1442*-0x1+-0x29*0x133),!(-0x1995+-0x2*-0x90b+0x780),!(0xa*0x355+0x308*-0x4+-0x1531),!(-0xd71+0x321+-0xa51*-0x1));}static['createShad'+'owCamera'](_0x2df1c2,_0x43871d,_0x52f13e){const _0x19f657=Ma['create']('ShadowCame'+'ra',_0x43871d,_0x52f13e),_0x1a8d64=ir['get'](_0x2df1c2);v['assert'](_0x1a8d64);const _0x4f3923=(_0x1a8d64==null?void(-0xf82+-0x1fff*-0x1+-0x1*0x107d):_0x1a8d64['vsm'])??!(-0x2091+0x5d*0x44+-0x7de*-0x1),_0x1ba3ff=(_0x1a8d64==null?void(-0x5*0x283+0x8e*0x16+0x5b):_0x1a8d64['pcf'])??!(-0x5b+-0x5dc+0x1*0x638);return _0x4f3923?_0x19f657['clearColor']=new Y(0x4d*0x29+0x1977+-0x25cc,0x11d0+-0x2004+0xe34,0x2f*0xd1+0xde*-0x2+0x24a3*-0x1,-0x137*0x7+0x112b+-0x8aa):_0x19f657['clearColor']=new Y(-0x11a4*-0x1+0x3*0xb67+-0x33d8,0x16a8+0x1*0xd8d+0xe*-0x296,-0x1956+0x9c5+0xf92,-0xa49+0x1141+0x1*-0x6f7),_0x19f657['clearDepth'+'Buffer']=!(-0x6de+-0x1*-0x2413+-0x1d35*0x1),_0x19f657['clearStenc'+'ilBuffer']=!(-0x2*0x2e6+0xc*0x274+-0x1*0x17a3),_0x19f657['clearColor'+'Buffer']=!_0x1ba3ff,_0x19f657;}['_cullShado'+'wCastersIn'+'ternal'](_0x5a14a9,_0x19415d,_0x291543){const _0x581f45=_0x5a14a9['length'];for(let _0x5ecc54=0xfb*0x26+-0x419*-0x1+0xdc9*-0x3;_0x5ecc54<_0x581f45;_0x5ecc54++){const _0x302105=_0x5a14a9[_0x5ecc54];_0x302105['castShadow']&&(!_0x302105['cull']||_0x302105['_isVisible'](_0x291543))&&(_0x302105['visibleThi'+'sFrame']=!(0x1*-0x13b3+-0xf17+0x22ca),_0x19415d['push'](_0x302105));}}['cullShadow'+'Casters'](_0x443416,_0x2771e1,_0x31d12f,_0x5169dc,_0x5a948c){if(_0x31d12f['length']=0x132+-0x115*0x7+0x661,_0x5a948c)this['_cullShado'+'wCastersIn'+'ternal'](_0x5a948c,_0x31d12f,_0x5169dc);else{const _0x1e585b=_0x443416['layerList'],_0x909502=_0x1e585b['length'];for(let _0x14302a=-0x222a+-0x9*-0x434+0x1*-0x3aa;_0x14302a<_0x909502;_0x14302a++){const _0x1707e1=_0x1e585b[_0x14302a];_0x1707e1['_lightsSet']['has'](_0x2771e1)&&(Rd['has'](_0x1707e1)||(Rd['add'](_0x1707e1),this['_cullShado'+'wCastersIn'+'ternal'](_0x1707e1['shadowCast'+'ers'],_0x31d12f,_0x5169dc)));}Rd['clear']();}_0x31d12f['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x26044f,_0x1b0366){const _0x333a2b=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x1b0366['_isPcf']:_0x1b0366['_isPcf']&&_0x1b0366['_type']!==Pe;_0x26044f['setBlendSt'+'ate'](_0x333a2b?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x26044f['setDepthSt'+'ate'](_0x1b0366['shadowDept'+'hState']),_0x26044f['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x5be0f8,_0x13ee75,_0x371048,_0x212717){const _0x5f1972=_0x13ee75['_node'];_0x5be0f8['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x5f1972['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x5be0f8['attenuatio'+'nEnd'])),u_['setTRS'](_0x5f1972['getPositio'+'n'](),_0x5f1972['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x13ee75['projection'+'Matrix'],u_);const _0x38aaab=_0x371048['shadowView'+'port'];_0x13ee75['rect']=_0x38aaab,_0x13ee75['scissorRec'+'t']=_0x371048['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x38aaab['x'],_0x38aaab['y'],_0x38aaab['z'],_0x38aaab['w']),_0x371048['shadowMatr'+'ix']['mul2'](p_,f_),_0x5be0f8['_type']===oe&&_0x5be0f8['_shadowMat'+'rixPalette']['set'](_0x371048['shadowMatr'+'ix']['data'],_0x212717*(0x2185+0xdd8+-0x2f4d));}['getShadowP'+'ass'](_0x5cd54d){var _0x3be4e9;const _0x17e733=_0x5cd54d['_type'],_0x29b493=_0x5cd54d['_shadowTyp'+'e'];let _0x582a4b=(_0x3be4e9=this['shadowPass'+'Cache'][_0x17e733])==null?void(0xa4e*0x1+-0x9b6+0x4c*-0x2):_0x3be4e9[_0x29b493];if(!_0x582a4b){const _0x3f06d5='ShadowPass'+'_'+_0x17e733+'_'+_0x29b493;_0x582a4b=Ks['get'](this['device'])['allocate'](_0x3f06d5,{'isShadow':!(0x5e*-0x2e+0x62b+0x1*0xab9),'lightType':_0x17e733,'shadowType':_0x29b493}),this['shadowPass'+'Cache'][_0x17e733]||(this['shadowPass'+'Cache'][_0x17e733]=[]),this['shadowPass'+'Cache'][_0x17e733][_0x29b493]=_0x582a4b;}return _0x582a4b['index'];}['submitCast'+'ers'](_0x44145c,_0x56e4f5,_0x2f65ac){const _0x3f61e7=this['device'],_0x281dec=this['renderer'],_0x5c3d40=_0x281dec['scene'],_0x56b2f9=-0x1a92+0x1*0x93e+-0x1ed*-0x9<<Rp,_0x384509=this['getShadowP'+'ass'](_0x56e4f5),_0x5dcf42=_0x2f65ac['shaderPara'+'ms'],_0x219b2c=_0x2f65ac['renderTarg'+'et']['flipY']?-(0x4c0+0x9e8+-0xea7):-0x21e7+-0x25b4+0x11e7*0x4,_0x3b56cc=_0x44145c['length'];for(let _0x5a0ac9=0x4*0x2c3+-0x5*-0xf1+-0xfc1;_0x5a0ac9<_0x3b56cc;_0x5a0ac9++){const _0x42c801=_0x44145c[_0x5a0ac9],_0x753bf4=_0x42c801['mesh'];_0x42c801['ensureMate'+'rial'](_0x3f61e7);const _0x2407d2=_0x42c801['material'];G['pushGpuMar'+'ker'](_0x3f61e7,'Node:\x20'+_0x42c801['node']['name']+(',\x20Material'+':\x20')+_0x2407d2['name']),_0x281dec['setBaseCon'+'stants'](_0x3f61e7,_0x2407d2),_0x281dec['setSkinnin'+'g'](_0x3f61e7,_0x42c801),_0x2407d2['dirty']&&(_0x2407d2['updateUnif'+'orms'](_0x3f61e7,_0x5c3d40),_0x2407d2['dirty']=!(0x269e*-0x1+-0x1f91+0x4630)),_0x281dec['setupCullM'+'ode'](!(-0x58f*-0x5+0x120a*0x1+-0x2dd5),_0x219b2c,_0x42c801),_0x2407d2['setParamet'+'ers'](_0x3f61e7),_0x42c801['setParamet'+'ers'](_0x3f61e7,_0x56b2f9);const _0x4be632=_0x42c801['getShaderI'+'nstance'](_0x384509,0xe98+-0x18c7+0xa2f,_0x5c3d40,_0x5dcf42,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x5d9f1d=_0x4be632['shader'];v['assert'](_0x5d9f1d,'no\x20shader\x20'+'for\x20pass\x20'+_0x384509,_0x2407d2),_0x42c801['_key'][ku]=_0x5d9f1d['id'],_0x3f61e7['setShader'](_0x5d9f1d),_0x281dec['setVertexB'+'uffers'](_0x3f61e7,_0x753bf4),_0x281dec['setMorphin'+'g'](_0x3f61e7,_0x42c801['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x4be632,_0x42c801);const _0x2a4181=_0x42c801['renderStyl'+'e'];_0x3f61e7['setIndexBu'+'ffer'](_0x753bf4['indexBuffe'+'r'][_0x2a4181]),_0x281dec['drawInstan'+'ce'](_0x3f61e7,_0x42c801,_0x753bf4,_0x2a4181),_0x281dec['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x3f61e7);}}['needsShado'+'wRendering'](_0x5219ae){const _0x24b21c=_0x5219ae['enabled']&&_0x5219ae['castShadow'+'s']&&_0x5219ae['shadowUpda'+'teMode']!==Ps&&_0x5219ae['visibleThi'+'sFrame'];return _0x5219ae['shadowUpda'+'teMode']===cn&&(_0x5219ae['shadowUpda'+'teMode']=Ps),_0x24b21c&&(this['renderer']['_shadowMap'+'Updates']+=_0x5219ae['numShadowF'+'aces']),_0x24b21c;}['getLightRe'+'nderData'](_0x1d0679,_0x59b8d1,_0x3d4921){return _0x1d0679['getRenderD'+'ata'](_0x1d0679['_type']===oe?_0x59b8d1:null,_0x3d4921);}['setupRende'+'rPass'](_0x467399,_0x4bb7e4,_0x2dbe7d){const _0x5d0700=_0x4bb7e4['renderTarg'+'et'];_0x467399['init'](_0x5d0700),_0x467399['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x443*0x1+-0xb47*0x1+-0x1*-0xf8b,_0x467399['depthStenc'+'ilOps']['clearDepth']=_0x2dbe7d,_0x5d0700['depthBuffe'+'r']?_0x467399['depthStenc'+'ilOps']['storeDepth']=!(-0x7*-0x2f4+0x1f8d+-0x1d*0x1cd):(_0x467399['colorOps']['clearValue']['copy'](_0x4bb7e4['clearColor']),_0x467399['colorOps']['clear']=_0x2dbe7d,_0x467399['depthStenc'+'ilOps']['storeDepth']=!(0x1ed8+0x12e+-0x1*0x2005)),_0x467399['requiresCu'+'bemaps']=!(-0x22*-0xd7+0x2*0x16a+0x115*-0x1d);}['prepareFac'+'e'](_0x9c137c,_0x4760e5,_0x229cb6){const _0x52fe57=_0x9c137c['_type'],_0x395dea=this['getLightRe'+'nderData'](_0x9c137c,_0x4760e5,_0x229cb6)['shadowCame'+'ra'],_0xf09af6=_0x52fe57===oe?0x2*-0xc31+0x5*-0x5fb+-0x3649*-0x1:_0x229cb6;return _0x395dea['renderTarg'+'et']=_0x9c137c['_shadowMap']['renderTarg'+'ets'][_0xf09af6],_0x395dea;}['renderFace'](_0x3cdf0b,_0xe1e1d8,_0x2aa697,_0x5245fe,_0x157fb4=!(0xbae+-0x6ff+0x1*-0x4af)){const _0x596552=this['device'],_0x4eedae=ne();G['pushGpuMar'+'ker'](_0x596552,'SHADOW\x20'+_0x3cdf0b['_node']['name']+'\x20FACE\x20'+_0x2aa697);const _0x59516e=this['getLightRe'+'nderData'](_0x3cdf0b,_0xe1e1d8,_0x2aa697),_0x19c834=_0x59516e['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x3cdf0b,_0x19c834,_0x59516e,_0x2aa697);const _0x357fd9=_0x19c834['renderTarg'+'et'],_0x230527=this['renderer'];_0x230527['setCameraU'+'niforms'](_0x19c834,_0x357fd9),_0x596552['supportsUn'+'iformBuffe'+'rs']&&_0x230527['setupViewU'+'niformBuff'+'ers'](_0x59516e['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0x7d3+-0x106f+-0x1*-0x89d),_0x157fb4?(_0x230527['setupViewp'+'ort'](_0x19c834,_0x357fd9),_0x5245fe&&_0x230527['clear'](_0x19c834)):_0x230527['clearView'](_0x19c834,_0x357fd9,!(0x21b7+-0x1c4d+-0x56a),!(0x2375+-0x268+-0x34e*0xa)),this['setupRende'+'rState'](_0x596552,_0x3cdf0b),this['submitCast'+'ers'](_0x59516e['visibleCas'+'ters'],_0x3cdf0b,_0x19c834),G['popGpuMark'+'er'](_0x596552),_0x230527['_shadowMap'+'Time']+=ne()-_0x4eedae;}['render'](_0x1c14f3,_0x33eec4,_0x3bc0f4=!(0x2*0xc83+-0x9d+-0x1869)){if(this['needsShado'+'wRendering'](_0x1c14f3)){const _0x3372bd=_0x1c14f3['numShadowF'+'aces'];for(let _0x491164=-0x11a*-0x3+-0x93f+0x5f1;_0x491164<_0x3372bd;_0x491164++)this['prepareFac'+'e'](_0x1c14f3,_0x33eec4,_0x491164),this['renderFace'](_0x1c14f3,_0x33eec4,_0x491164,!(-0x2e*-0xae+-0x1e72+0x1e*-0x7),_0x3bc0f4);this['renderVsm'](_0x1c14f3,_0x33eec4);}}['renderVsm'](_0x1422bf,_0x1eda31){_0x1422bf['_isVsm']&&_0x1422bf['_vsmBlurSi'+'ze']>0x1*-0x285+-0x262*-0x2+-0xe*0x29&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x1422bf['_type']===oe)&&this['applyVsmBl'+'ur'](_0x1422bf,_0x1eda31);}['getVsmBlur'+'Shader'](_0x3e1e81,_0xbcb78e){const _0xa2a755=this['blurVsmSha'+'der'];let _0x573fa5=_0xa2a755[_0x3e1e81][_0xbcb78e];if(!_0x573fa5){this['blurVsmWei'+'ghts'][_0xbcb78e]=SM(_0xbcb78e);const _0x4f3b12=X['fullscreen'+'QuadVS'];let _0x4817a2='#define\x20SA'+'MPLES\x20'+_0xbcb78e+'\x0a';_0x4817a2+=this['blurVsmSha'+'derCode'][_0x3e1e81];const _0x350a52='blurVsm'+_0x3e1e81+_0xbcb78e;_0x573fa5=Is(this['device'],_0x4f3b12,_0x4817a2,_0x350a52),_0xa2a755[_0x3e1e81][_0xbcb78e]=_0x573fa5;}return _0x573fa5;}['applyVsmBl'+'ur'](_0x3dcba2,_0x4ce542){const _0x17716a=this['device'];G['pushGpuMar'+'ker'](_0x17716a,'VSM\x20'+_0x3dcba2['_node']['name']),_0x17716a['setBlendSt'+'ate'](_t['NOBLEND']);const _0x1eeb92=_0x3dcba2['getRenderD'+'ata'](_0x3dcba2['_type']===oe?_0x4ce542:null,0x34b*0x1+0x33b+0x343*-0x2)['shadowCame'+'ra']['renderTarg'+'et'],_0x538b80=this['renderer']['shadowMapC'+'ache']['get'](_0x17716a,_0x3dcba2),_0x2dcb19=_0x538b80['renderTarg'+'ets'][-0x1fa9+0x5*0x64b+0x19*0x2],_0x16a3dd=_0x3dcba2['vsmBlurMod'+'e'],_0x5cdc86=_0x3dcba2['_vsmBlurSi'+'ze'],_0x209a34=this['getVsmBlur'+'Shader'](_0x16a3dd,_0x5cdc86);Xa['z']=_0x3dcba2['_shadowRes'+'olution']-(0x1*-0x579+0x23cd+-0x1e52),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x1eeb92['colorBuffe'+'r']),vr[0xff*0x14+-0x131e+-0xce]=(0xde*-0xb+0x8cd+-0x13*-0xa)/_0x3dcba2['_shadowRes'+'olution'],vr[-0x4*0x726+0x1b9d*0x1+0xfc]=0x137*-0x5+-0x109*-0x7+-0x12c,this['pixelOffse'+'tId']['setValue'](vr),_0x16a3dd===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x5cdc86]),dn(_0x17716a,_0x2dcb19,_0x209a34,null,Xa),this['sourceId']['setValue'](_0x2dcb19['colorBuffe'+'r']),vr[-0xe37+-0xd3*0x1b+0x2479]=vr[0xa3e+0x1*-0x230c+0x18ce],vr[0x1609+0x105f+-0x2668]=-0x1*-0x47a+-0x21a*-0x2+-0x8ae,this['pixelOffse'+'tId']['setValue'](vr),dn(_0x17716a,_0x1eeb92,_0x209a34,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x3dcba2,_0x538b80),G['popGpuMark'+'er'](_0x17716a);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x5b918f){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x5b918f;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x62400b=>{_0x62400b['destroy']();}),this['_allocated']['length']=-0x1*-0x1327+0x24a6*0x1+-0x37cd;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x16caed=new zu(this['device']);_0x16caed['name']='ClusterEmp'+'ty',_0x16caed['update']([]),this['_empty']=_0x16caed;}return this['_empty'];}['assign'](_0x16d5d8){const _0xe00344=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=0x52*-0x16+-0x127*0x1f+0x2ac5,this['_clusters']['clear']();const _0x5099e7=_0x16d5d8['length'];for(let _0x2dbb9e=0x1c9*0x2+-0x2567+0x3*0xb47;_0x2dbb9e<_0x5099e7;_0x2dbb9e++){const _0x483502=_0x16d5d8[_0x2dbb9e]['renderActi'+'ons'];if(_0x483502){const _0x5e5bb8=_0x483502['length'];for(let _0x1a77ef=-0x1f*0x133+-0x28b*-0xd+-0x41e*-0x1;_0x1a77ef<_0x5e5bb8;_0x1a77ef++){const _0x565693=_0x483502[_0x1a77ef];_0x565693['lightClust'+'ers']=null;const _0x15c7d6=_0x565693['layer'];if(_0x15c7d6['hasCluster'+'edLights']&&_0x15c7d6['meshInstan'+'ces']['length']){const _0x4eaaa4=_0x15c7d6['getLightId'+'Hash'](),_0x4488c8=this['_clusters']['get'](_0x4eaaa4);let _0x103fb8=_0x4488c8==null?void(0x39*0x49+-0x430*-0x3+-0x1cd1):_0x4488c8['lightClust'+'ers'];_0x103fb8||(_0x103fb8=Fl['pop']()??new zu(this['device']),mn['setName'](_0x103fb8,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x103fb8),this['_clusters']['set'](_0x4eaaa4,_0x565693)),_0x565693['lightClust'+'ers']=_0x103fb8;}_0x565693['lightClust'+'ers']||(_0x565693['lightClust'+'ers']=_0xe00344);}}}Fl['forEach'](_0x4b0b34=>_0x4b0b34['destroy']()),Fl['length']=-0x1*-0x1122+0x1ad*0x13+-0x30f9;}['update'](_0x3b620d,_0x1a0d29){this['assign'](_0x3b620d),this['_clusters']['forEach'](_0x5220d0=>{const _0x5883ee=_0x5220d0['layer'];_0x5220d0['lightClust'+'ers']['update'](_0x5883ee['clusteredL'+'ightsSet'],_0x1a0d29);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0x457e84,_0x36da7e){super(_0x457e84),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x36da7e,this['requiresCu'+'bemaps']=!(0x1d87*-0x1+0x1*-0x239f+-0x503*-0xd),this['blitTextur'+'eId']=_0x457e84['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x457e84['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x4408d2,_0x1b8116;(_0x4408d2=this['_quadRende'+'rer2D'])==null||_0x4408d2['destroy'](),this['_quadRende'+'rer2D']=null,(_0x1b8116=this['_quadRende'+'rerCube'])==null||_0x1b8116['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x406a74,_0x5a5fcc){v['assert'](_0x406a74);const _0x28ab70=new kp(_0x406a74['device'],_0x5a5fcc);return _0x28ab70['init'](_0x406a74),_0x28ab70['colorOps']['clear']=!(-0x1*0x16ed+0x2673+-0xf85),_0x28ab70['depthStenc'+'ilOps']['clearDepth']=!(0x3*0xccd+0xa6b+0x30d1*-0x1),_0x28ab70;}['update'](_0x19b093){const _0x42f158=this['_filteredL'+'ights'];this['filter'](_0x19b093,_0x42f158),this['executeEna'+'bled']=_0x42f158['length']>-0x368*0x6+-0x1*0x136+0x15a6;}['filter'](_0x3257a9,_0x26c097){for(let _0x4b60e0=-0x2647+0x2f*0x8a+-0xcf1*-0x1;_0x4b60e0<_0x3257a9['length'];_0x4b60e0++){const _0x1c42cc=_0x3257a9[_0x4b60e0];_0x1c42cc['_type']!==oe&&_0x1c42cc['atlasViewp'+'ortAllocat'+'ed']&&_0x1c42cc['atlasSlotU'+'pdated']&&_0x1c42cc['enabled']&&_0x1c42cc['cookie']&&_0x1c42cc['visibleThi'+'sFrame']&&_0x26c097['push'](_0x1c42cc);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x51d312=-0x1053+-0x17*-0x7c+0x52f;_0x51d312<-0x209e+0x2574+-0x4d0;_0x51d312++){const _0xdfdd59=Ma['create'](null,Pe,_0x51d312),_0x2eabaa=_0xdfdd59['projection'+'Matrix'],_0x1ce693=_0xdfdd59['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x51d312]=new q()['mul2'](_0x2eabaa,_0x1ce693)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x336439=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x336439);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x32c4cc=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x32c4cc);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x1dec32=this['device'];_0x1dec32['setBlendSt'+'ate'](_t['NOBLEND']),_0x1dec32['setCullMod'+'e'](mt),_0x1dec32['setDepthSt'+'ate'](as['NODEPTH']),_0x1dec32['setStencil'+'State']();const _0x254676=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x28c70f=this['_cubeSlots'+'Offsets'],_0x188457=this['_filteredL'+'ights'];for(let _0x9d645=-0xe5d*-0x2+0x16d4+0x2*-0x19c7;_0x9d645<_0x188457['length'];_0x9d645++){const _0x3b3863=_0x188457[_0x9d645];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x3b3863['_node']['name']);const _0x61f4ed=_0x3b3863['numShadowF'+'aces'],_0x49cfe3=_0x61f4ed>-0xf4a+0x399+-0x5d9*-0x2?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x61f4ed>-0x13e5*-0x1+-0x1cc7*-0x1+-0x30ab&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x3b3863['cookie']);for(let _0x5735fb=0x1*-0x1b41+0x17*-0x1a3+0x40e6;_0x5735fb<_0x61f4ed;_0x5735fb++){if(Gi['copy'](_0x3b3863['atlasViewp'+'ort']),_0x61f4ed>-0xe20+-0xa38+0x1859*0x1){const _0x28d190=Gi['z']/(0x2406+-0xc69*0x3+0x138),_0x3104c8=_0x28c70f[_0x5735fb];Gi['x']+=_0x28d190*_0x3104c8['x'],Gi['y']+=_0x28d190*_0x3104c8['y'],Gi['z']=_0x28d190,Gi['w']=_0x28d190,this['invViewPro'+'jId']['setValue'](Id[_0x5735fb]['data']);}Gi['mulScalar'](_0x254676),_0x49cfe3['render'](Gi);}G['popGpuMark'+'er'](_0x1dec32);}_0x188457['length']=-0x2588+-0x11ae+0x17e*0x25;}}class TM extends ds{constructor(_0xd69c05,_0xa67703,_0x21cb41){super(_0xd69c05),this['requiresCu'+'bemaps']=!(-0x1*0x1046+-0x43*0x2c+-0x1*-0x1bcb),this['shadowRend'+'erer']=_0xa67703,this['shadowRend'+'ererLocal']=_0x21cb41;}['update'](_0x581f4a){const _0x35a81c=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x50d953=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x35a81c,_0x581f4a),_0x412aa2=_0x35a81c['length'];this['enabled']=_0x412aa2>-0xbec+0xe*0x2a7+-0x1936,_0x412aa2&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x50d953,!(0x265d+0x1*-0x14c6+-0x1196));}['execute'](){const _0x3ef2a4=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x1dd20d=_0x3ef2a4['length'];for(let _0x2339ab=-0x425*-0x1+-0x1153+-0xf1*-0xe;_0x2339ab<_0x1dd20d;_0x2339ab++){const _0x13ee44=_0x3ef2a4[_0x2339ab];for(let _0x1ee73b=0x1363+0xdf1+-0x2154;_0x1ee73b<_0x13ee44['numShadowF'+'aces'];_0x1ee73b++)this['shadowRend'+'erer']['renderFace'](_0x13ee44,null,_0x1ee73b,!(-0xc9f+-0x6*-0xa+0xc63));}_0x3ef2a4['length']=0x1*0x1675+-0xd21+-0x954;}}class AM extends ds{constructor(_0x3ee64c,_0xbdfbdc,_0x24e6eb,_0x29802d,_0x160643){super(_0x3ee64c),this['renderer']=_0xbdfbdc,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x160643['cookieRend'+'erTarget'],_0x160643['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x3ee64c,_0x24e6eb,_0x29802d),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x2a3892,_0x2d974a,_0x3d61ce,_0x4fcb95,_0x4fe44c){this['frameGraph']=_0x2a3892,this['cookiesRen'+'derPass']['enabled']=_0x3d61ce,_0x3d61ce&&this['cookiesRen'+'derPass']['update'](_0x4fcb95),this['shadowRend'+'erPass']['enabled']=_0x2d974a,_0x2d974a&&this['shadowRend'+'erPass']['update'](_0x4fe44c);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x3c6bb5=ne(),{renderer:_0x56264e}=this,{scene:_0x217f72}=_0x56264e;_0x56264e['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x217f72['lighting']),_0x56264e['_lightClus'+'tersTime']+=ne()-_0x3c6bb5,_0x56264e['_lightClus'+'ters']=_0x56264e['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=0x5*0x241+-0x2355+0x1810;const Hi=new q(),Wi=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](-0x23d9+-0x7a3+0x2b7d*0x1,-(0xb7a+-0x57c+-0x5fd),-0x10ad+-0x1d89+0x2e37),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([0x2*0x67+0x1*0x197c+-0x3*0x8c3,-0x2f*0x1a+-0x13c+-0x2*-0x301,-0x9*0xec+0x5*0x115+-0x2e3*-0x1,-0x26ef*0x1+-0xae0+0x31cf,-0x1cce+0xe3*-0x7+-0x1*-0x2303,0x1680+-0x2*0x346+-0xff3,0xfb*-0x1+0x19d6+0x3*-0x849,-0x3fb*-0x4+-0x3*-0x3b3+-0x1b05,0x265e+-0x1*-0x1567+-0x3bc5*0x1,0x1810+0xfba+-0x2*0x13e5,-0xf19*-0x2+-0x1ecd+0x9b+0.5,-0x1*0xbdf+-0x186+-0x17d*-0x9,-0x7cc*0x5+0x11*0xca+0x1992,-0x1cf0+0x1*0x1b77+0x1d*0xd,-0xcee+0x9*-0x19+0xdcf+0.5,0x4c2+0x8d4+0x3d*-0x39]),x_=[new W(0xc9*-0x17+0x133*-0x11+0x13*0x206+0.5,0x1*-0x1c3e+0xca5+0xf99+0.333333),new W(0x945+0x1*0x98f+-0x12d4*0x1+0.25,-0x14e7+0x1*0x229f+-0xdb8+0.666667),new W(-0x1c08+-0x1070+0x2c78*0x1+0.75,0x1e3d+-0x1*0x16f1+-0x74c+0.111111),new W(-0x1*0x19eb+0x157e+0x1*0x46d+0.125,0x224c+0x1dad+-0x3ff9+0.444444),new W(0xce*-0x17+-0x189a+0x2b1c+0.625,0x20ea+-0x1*0xa04+-0x3*0x7a2+0.777778),new W(-0x2317+-0x6*0x44f+0x1*0x3cf1+0.375,-0xe04*0x1+0x1*-0x12d4+-0x41b*-0x8+0.222222),new W(0x56*-0x6c+0x5*-0x4ff+0x1*0x3d43+0.875,0x1*-0x12b2+0xf59+-0x1*-0x359+0.555556),new W(0x159*-0x16+0x258c+-0x7e6+0.0625,0x1*-0x1e0b+-0x26f4+0x44ff+0.888889),new W(-0x157f+0xb*-0x4a+-0x1*-0x18ad+0.5625,0x1*0x12+0x1*-0x175d+0x174b+0.037037),new W(0x5*-0x39d+0xb1*-0x9+0x184a+0.3125,-0x3*-0x96b+0x98*-0xf+-0x1*0x1359+0.37037),new W(0x79f*0x1+0xcfe+-0x149d+0.8125,0x1c5d+0xc3*-0x1f+-0x20*0x26+0.703704),new W(0x3fa*0x3+0x11e4+-0x1dd2+0.1875,0xc3b*-0x2+-0x1d0d+0x3583*0x1+0.148148),new W(-0x1bc0+0x1c0a*-0x1+0x1*0x37ca+0.6875,0x13b8*0x1+-0x2260+0xea8+0.481481),new W(0x1799+-0x1a1e+0x285+0.4375,-0x1438+-0x53*-0x5+0x1299+0.814815),new W(-0x4*0x5ab+-0x1*0x189+0x1*0x1835+0.9375,0x1*-0x1b86+-0x11*-0x211+0x289*-0x3+0.259259),new W(-0x1724+0x1a85+-0x361+0.03125,0x142*0x2+-0x1206+0xf82+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0xd113b6){c(this,'clustersDe'+'bugRendere'+'d',!(0xc68+0x234f+-0x2fb6)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(0xbed+-0x11db+0x669)),(this['device']=_0xd113b6,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0xd113b6),this['lightTextu'+'reAtlas']=new uM(_0xd113b6),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x1*-0x129f+0x13c0+-0x121,this['_morphTime']=0x230d+-0x17*0x13d+-0x349*0x2,this['_cullTime']=-0x1*0x2da+-0x1*-0x1f1+0xe9,this['_shadowMap'+'Time']=-0x24c5+0x227b+0x24a,this['_lightClus'+'tersTime']=-0x87a+0x1*-0x21b5+-0x1*-0x2a2f,this['_layerComp'+'ositionUpd'+'ateTime']=0xcdd*-0x1+-0x1f52+0x2c2f*0x1,this['_shadowDra'+'wCalls']=-0x35*0x9f+0x242+-0xa7*-0x2f,this['_skinDrawC'+'alls']=-0x1*0xae5+0x61*0x25+-0x4*0xc8,this['_instanced'+'DrawCalls']=-0x3*-0xb29+0x2f0*-0x8+0x1ff*-0x5,this['_shadowMap'+'Updates']=0x22f1+0x1cba*-0x1+-0x1*0x637,this['_numDrawCa'+'llsCulled']=0x7ba*-0x1+0xa93+0x51*-0x9,this['_camerasRe'+'ndered']=-0x2591+0x2262+0x1*0x32f,this['_lightClus'+'ters']=0x97*-0x11+-0x1f42+-0x2949*-0x1);const _0x45301b=_0xd113b6['scope'];this['boneTextur'+'eId']=_0x45301b['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x45301b['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x45301b['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x45301b['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x45301b['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x8a0+-0x11b*0x20+-0xdd*-0x1f),this['viewPosId']=_0x45301b['resolve']('view_posit'+'ion'),this['projId']=_0x45301b['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x45301b['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x45301b['resolve']('matrix_vie'+'w'),this['viewId3']=_0x45301b['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x45301b['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x45301b['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x45301b['resolve']('tbnBasis'),this['nearClipId']=_0x45301b['resolve']('camera_nea'+'r'),this['farClipId']=_0x45301b['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x1120+0x32*-0x3e+-0xa0*0x8),this['cameraPara'+'msId']=_0x45301b['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x45301b['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=0x1ccd*-0x1+0xa37+-0x27*-0x7a,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(-0xf0d+-0x57e*0x5+0xe2d*0x3),this['blueNoiseJ'+'itterId']=_0x45301b['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x45301b['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x45301b['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x45301b['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x45301b['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x45301b['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x1f10+0x1ca4+-0x3bb4),this['morphPosit'+'ionTex']=_0x45301b['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x45301b['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x45301b['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x45301b['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x2d572d,_0x218f87){if(_0x2d572d['layer']===_0x218f87['layer']){if(_0x2d572d['drawOrder']&&_0x218f87['drawOrder'])return _0x2d572d['drawOrder']-_0x218f87['drawOrder'];if(_0x2d572d['zdist']&&_0x218f87['zdist'])return _0x218f87['zdist']-_0x2d572d['zdist'];if(_0x2d572d['zdist2']&&_0x218f87['zdist2'])return _0x2d572d['zdist2']-_0x218f87['zdist2'];}return _0x218f87['_key'][Ei]-_0x2d572d['_key'][Ei];}['sortCompar'+'eMesh'](_0x1ee9e8,_0x3d2b1b){if(_0x1ee9e8['layer']===_0x3d2b1b['layer']){if(_0x1ee9e8['drawOrder']&&_0x3d2b1b['drawOrder'])return _0x1ee9e8['drawOrder']-_0x3d2b1b['drawOrder'];if(_0x1ee9e8['zdist']&&_0x3d2b1b['zdist'])return _0x3d2b1b['zdist']-_0x1ee9e8['zdist'];}const _0x58f884=_0x1ee9e8['_key'][Ei],_0x473a43=_0x3d2b1b['_key'][Ei];return _0x58f884===_0x473a43&&_0x1ee9e8['mesh']&&_0x3d2b1b['mesh']?_0x3d2b1b['mesh']['id']-_0x1ee9e8['mesh']['id']:_0x473a43-_0x58f884;}['sortCompar'+'eDepth'](_0x2a951f,_0x429e4b){const _0x5887ba=_0x2a951f['_key'][ku],_0x4d713f=_0x429e4b['_key'][ku];return _0x5887ba===_0x4d713f&&_0x2a951f['mesh']&&_0x429e4b['mesh']?_0x429e4b['mesh']['id']-_0x2a951f['mesh']['id']:_0x4d713f-_0x5887ba;}['setupViewp'+'ort'](_0x2e0916,_0x2001a2){const _0x31b9e3=this['device'],_0x49fa4b=_0x2001a2?_0x2001a2['width']:_0x31b9e3['width'],_0x50f2c7=_0x2001a2?_0x2001a2['height']:_0x31b9e3['height'],_0x59dec0=_0x2e0916['rect'];let _0x5c21b7=Math['floor'](_0x59dec0['x']*_0x49fa4b),_0x2d847f=Math['floor'](_0x59dec0['y']*_0x50f2c7),_0x59e49f=Math['floor'](_0x59dec0['z']*_0x49fa4b),_0x383a82=Math['floor'](_0x59dec0['w']*_0x50f2c7);if(_0x31b9e3['setViewpor'+'t'](_0x5c21b7,_0x2d847f,_0x59e49f,_0x383a82),_0x2e0916['_scissorRe'+'ctClear']){const _0x135c48=_0x2e0916['scissorRec'+'t'];_0x5c21b7=Math['floor'](_0x135c48['x']*_0x49fa4b),_0x2d847f=Math['floor'](_0x135c48['y']*_0x50f2c7),_0x59e49f=Math['floor'](_0x135c48['z']*_0x49fa4b),_0x383a82=Math['floor'](_0x135c48['w']*_0x50f2c7);}_0x31b9e3['setScissor'](_0x5c21b7,_0x2d847f,_0x59e49f,_0x383a82);}['setCameraU'+'niforms'](_0x2e7b38,_0x5b724f){var _0x423ece,_0x2c1489;const _0x28eb95=_0x5b724f==null?void(0x19*-0x73+-0x6c3+0x11fe):_0x5b724f['flipY'];let _0x12d4b3=-0x85*0x1f+0x1535*-0x1+0x29*0xe9;if(_0x2e7b38['xr']&&_0x2e7b38['xr']['session']){const _0xeeba9e=((_0x2c1489=(_0x423ece=_0x2e7b38['_node'])==null?void(-0x1ba2+-0x43*0x54+0x319e):_0x423ece['parent'])==null?void(0x31d+0x2*0x100a+-0x2331):_0x2c1489['getWorldTr'+'ansform']())||null,_0xd3682c=_0x2e7b38['xr']['views'];_0x12d4b3=_0xd3682c['list']['length'];for(let _0x2d430a=-0x1*-0x569+0x1637+0x110*-0x1a;_0x2d430a<_0x12d4b3;_0x2d430a++){const _0x2db433=_0xd3682c['list'][_0x2d430a];_0x2db433['updateTran'+'sforms'](_0xeeba9e),_0x2e7b38['frustum']['setFromMat'+'4'](_0x2db433['projViewOf'+'fMat']);}}else{let _0x1e0e1a=_0x2e7b38['projection'+'Matrix'];_0x2e7b38['calculateP'+'rojection']&&_0x2e7b38['calculateP'+'rojection'](_0x1e0e1a,Al);let _0x3ea178=_0x2e7b38['getProject'+'ionMatrixS'+'kybox']();_0x28eb95&&(_0x1e0e1a=EM['mul2'](g_,_0x1e0e1a),_0x3ea178=CM['mul2'](g_,_0x3ea178)),this['device']['isWebGPU']&&(_0x1e0e1a=MM['mul2'](y_,_0x1e0e1a),_0x3ea178=PM['mul2'](y_,_0x3ea178));const {jitter:_0x2df687}=_0x2e7b38;let _0x3b56d4=-0x19f*0x2+-0xfb*0x6+0x920,_0x32634c=-0x21*-0x71+0x1966+-0x1*0x27f7;if(_0x2df687>0xe2b+0x10*0x1d3+-0x2b5b){const _0x548075=_0x5b724f?_0x5b724f['width']:this['device']['width'],_0x5a1a89=_0x5b724f?_0x5b724f['height']:this['device']['height'],_0x17166b=x_[this['device']['renderVers'+'ion']%x_['length']];_0x3b56d4=_0x2df687*(_0x17166b['x']*(-0x554+0x5a1*0x1+0x19*-0x3)-(-0x1*0xb55+0x1*-0x815+0x136b))/_0x548075,_0x32634c=_0x2df687*(_0x17166b['y']*(0x26e2+-0x8a9*0x4+-0x43c)-(-0xfb8+-0x176d+0x2726))/_0x5a1a89,_0x1e0e1a=RM['copy'](_0x1e0e1a),_0x1e0e1a['data'][-0x15b5+-0x356+-0x83*-0x31]=_0x3b56d4,_0x1e0e1a['data'][0xf57*-0x1+-0x2*-0x6c4+0x1d8]=_0x32634c,_0x3ea178=IM['copy'](_0x3ea178),_0x3ea178['data'][0x7*-0x164+0xa*-0x285+0x22f6]=_0x3b56d4,_0x3ea178['data'][0xaf9+0x2*-0x11f9+0x61*0x42]=_0x32634c,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x2c3eed=_0x2df687>-0xd9*0x1+-0x26e7+-0x4f8*-0x8?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][-0x36*-0x61+-0xa4a*-0x1+0xf6*-0x20]=_0x2c3eed['x'],this['blueNoiseJ'+'itterData'][0xed1*0x1+0x1*-0xb08+-0x4*0xf2]=_0x2c3eed['y'],this['blueNoiseJ'+'itterData'][0x2*0xdfa+-0x14f8+0x6fa*-0x1]=_0x2c3eed['z'],this['blueNoiseJ'+'itterData'][0x2*-0x940+0x18a+0x10f9]=_0x2c3eed['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x1e0e1a['data']),this['projSkybox'+'Id']['setValue'](_0x3ea178['data']),_0x2e7b38['calculateT'+'ransform'])_0x2e7b38['calculateT'+'ransform'](Wi,Al);else{const _0x1aa19b=_0x2e7b38['_node']['getPositio'+'n'](),_0x537df6=_0x2e7b38['_node']['getRotatio'+'n']();Wi['setTRS'](_0x1aa19b,_0x537df6,T['ONE']);}this['viewInvId']['setValue'](Wi['data']),Mn['copy'](Wi)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x1e0e1a,Mn),this['viewProjId']['setValue'](Hi['data']),_0x2e7b38['_storeShad'+'erMatrices'](Hi,_0x3b56d4,_0x32634c,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x28eb95?-(-0x2*0xa8c+0x3f1*0x1+0x225*0x8):0x1490+0x77f+-0x1c0e),this['dispatchVi'+'ewPos'](_0x2e7b38['_node']['getPositio'+'n']()),_0x2e7b38['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0x28eb95?-(-0x1e40+0x5*0x2fa+0xf5f):0x1c8b*0x1+-0x19f3+-0x297);const _0x35bc29=_0x2e7b38['_nearClip'],_0x4afa0f=_0x2e7b38['_farClip'];return this['nearClipId']['setValue'](_0x35bc29),this['farClipId']['setValue'](_0x4afa0f),this['cameraPara'+'ms'][0x1*0xad+-0xfb3+-0x2*-0x783]=(0xc0a+-0x26ad+0x1aa4)/_0x4afa0f,this['cameraPara'+'ms'][-0x1d*-0x2f+0x8*0x185+-0x8bd*0x2]=_0x4afa0f,this['cameraPara'+'ms'][0x350+0x1143+-0x1491]=_0x35bc29,this['cameraPara'+'ms'][-0x1dd7+0x10b4*0x2+-0x38e]=_0x2e7b38['projection']===ua?-0xa5*-0x1f+-0xa0f*0x1+-0x9eb*0x1:0x2496+0x2*0x1085+-0x45a0,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x2e7b38['getExposur'+'e']():this['scene']['exposure']),_0x12d4b3;}['clear'](_0x34ad53,_0x33795e,_0x3a4445,_0x46dfbf){const _0x354ff8=(_0x33795e??_0x34ad53['_clearColo'+'rBuffer']?Co:-0xbc3*0x1+0xed*0x13+-0x1*0x5d4)|(_0x3a4445??_0x34ad53['_clearDept'+'hBuffer']?Mo:0x4*0x5fa+-0x7c*-0x1+0x1*-0x1864)|(_0x46dfbf??_0x34ad53['_clearSten'+'cilBuffer']?Ah:-0x6bc*-0x2+0x1d*0x31+-0x1305);if(_0x354ff8){const _0x3c6eba=this['device'];G['pushGpuMar'+'ker'](_0x3c6eba,'CLEAR'),_0x3c6eba['clear']({'color':[_0x34ad53['_clearColo'+'r']['r'],_0x34ad53['_clearColo'+'r']['g'],_0x34ad53['_clearColo'+'r']['b'],_0x34ad53['_clearColo'+'r']['a']],'depth':_0x34ad53['_clearDept'+'h'],'stencil':_0x34ad53['_clearSten'+'cil'],'flags':_0x354ff8}),G['popGpuMark'+'er'](_0x3c6eba);}}['setCamera'](_0x57baf3,_0x3a3fb6,_0x458cc3,_0x5453c0=null){this['setCameraU'+'niforms'](_0x57baf3,_0x3a3fb6),this['clearView'](_0x57baf3,_0x3a3fb6,_0x458cc3,!(-0x1e12*0x1+-0x139+-0x2*-0xfa6));}['clearView'](_0x3ab5be,_0x41311c,_0x333de8,_0x5cdd3a){const _0x7eae4a=this['device'];if(G['pushGpuMar'+'ker'](_0x7eae4a,'CLEAR-VIEW'),_0x7eae4a['setRenderT'+'arget'](_0x41311c),_0x7eae4a['updateBegi'+'n'](),_0x5cdd3a&&(_0x7eae4a['setColorWr'+'ite'](!(0xe60+0xb75*-0x2+0x88a),!(0x288+0x15b0+-0x1838),!(-0x308*0x1+0x156d+-0x1265),!(0x2279+-0x3*-0x218+-0x1*0x28c1)),_0x7eae4a['setDepthWr'+'ite'](!(0x1807+-0xed5*0x1+-0x16*0x6b))),this['setupViewp'+'ort'](_0x3ab5be,_0x41311c),_0x333de8){const _0x90e0ae=_0x3ab5be['_clearOpti'+'ons'];_0x7eae4a['clear'](_0x90e0ae||{'color':[_0x3ab5be['_clearColo'+'r']['r'],_0x3ab5be['_clearColo'+'r']['g'],_0x3ab5be['_clearColo'+'r']['b'],_0x3ab5be['_clearColo'+'r']['a']],'depth':_0x3ab5be['_clearDept'+'h'],'flags':(_0x3ab5be['_clearColo'+'rBuffer']?Co:0x7*0x50a+-0x13*-0xc7+-0x320b)|(_0x3ab5be['_clearDept'+'hBuffer']?Mo:0x4f1*-0x5+-0x8f*-0xd+-0x1*-0x1172)|(_0x3ab5be['_clearSten'+'cilBuffer']?Ah:0x224b*-0x1+-0x1*0x1661+0x38ac),'stencil':_0x3ab5be['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x7eae4a);}['setupCullM'+'ode'](_0x42fd05,_0x241774,_0x4b23dd){const _0x4d3767=_0x4b23dd['material'];let _0x586cee=mt;if(_0x42fd05){let _0xce45a1=-0xeae+0x17a+-0x7*-0x1e3;(_0x4d3767['cull']===mo||_0x4d3767['cull']===rn)&&(_0xce45a1=_0x241774*_0x4b23dd['flipFacesF'+'actor']*_0x4b23dd['node']['worldScale'+'Sign']),_0xce45a1<0x1*-0x1f7b+0x13*-0x52+-0x3b*-0xa3?_0x586cee=_0x4d3767['cull']===mo?rn:mo:_0x586cee=_0x4d3767['cull'];}this['device']['setCullMod'+'e'](_0x586cee),_0x586cee===mt&&_0x4d3767['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x4b23dd['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0xa34417){if(_0xa34417['xr']&&_0xa34417['xr']['views']['list']['length']){const _0x139802=_0xa34417['xr']['views']['list'][0xe41*-0x1+0x1f*-0x3b+0x1566];Hi['mul2'](_0x139802['projMat'],_0x139802['viewOffMat']),_0xa34417['frustum']['setFromMat'+'4'](Hi);return;}const _0x32fdf0=_0xa34417['projection'+'Matrix'];if(_0xa34417['calculateP'+'rojection']&&_0xa34417['calculateP'+'rojection'](_0x32fdf0,Al),_0xa34417['calculateT'+'ransform'])_0xa34417['calculateT'+'ransform'](Wi,Al);else{const _0x44302a=_0xa34417['_node']['getPositio'+'n'](),_0x4bae02=_0xa34417['_node']['getRotatio'+'n']();Wi['setTRS'](_0x44302a,_0x4bae02,T['ONE']),this['viewInvId']['setValue'](Wi['data']);}Mn['copy'](Wi)['invert'](),Hi['mul2'](_0x32fdf0,Mn),_0xa34417['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0x402dd8,_0x48913b){_0x402dd8['setCullMod'+'e'](_0x48913b['cull']),_0x48913b['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x48913b['opacityMap']),(_0x48913b['opacityMap']||_0x48913b['alphaTest']>-0xfad+-0x204b+0x2*0x17fc)&&this['alphaTestI'+'d']['setValue'](_0x48913b['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x4ed25f){Dd++;const _0x2d0448=_0x4ed25f['length'];if(_0x2d0448===-0x1*-0xcb3+0x29f+0x35*-0x4a)return;const _0x502cca=ne();for(let _0x2b4338=-0x1*-0x1d5d+-0x1f55+-0x8*-0x3f;_0x2b4338<_0x2d0448;_0x2b4338++){const _0x4e484e=_0x4ed25f[_0x2b4338]['skinInstan'+'ce'];_0x4e484e&&(_0x4e484e['updateMatr'+'ices'](_0x4ed25f[_0x2b4338]['node'],Dd),_0x4e484e['_dirty']=!(-0x116b+-0x2b*-0x45+-0x2*-0x2ea));}this['_skinTime']+=ne()-_0x502cca;}['updateGpuS'+'kinMatrice'+'s'](_0x9d8124){const _0x54337f=ne();for(const _0x1a7771 of _0x9d8124){const _0xe94286=_0x1a7771['skinInstan'+'ce'];_0xe94286&&_0xe94286['_dirty']&&(_0xe94286['updateMatr'+'ixPalette'](_0x1a7771['node'],Dd),_0xe94286['_dirty']=!(-0x4*0x453+0x3a9*-0x1+0x14f6));}this['_skinTime']+=ne()-_0x54337f;}['updateMorp'+'hing'](_0x290876){const _0x5cbadc=ne();for(const _0x29f09b of _0x290876){const _0x1c0495=_0x29f09b['morphInsta'+'nce'];_0x1c0495&&_0x1c0495['_dirty']&&_0x1c0495['update']();}this['_morphTime']+=ne()-_0x5cbadc;}['updateGSpl'+'ats'](_0x5ceafa){var _0x5471f6;for(const _0x31b82f of _0x5ceafa)(_0x5471f6=_0x31b82f['gsplatInst'+'ance'])==null||_0x5471f6['update']();}['gpuUpdate'](_0x4aad67){this['updateGpuS'+'kinMatrice'+'s'](_0x4aad67),this['updateMorp'+'hing'](_0x4aad67),this['updateGSpl'+'ats'](_0x4aad67);}['setVertexB'+'uffers'](_0x4dbb5d,_0x4ddf2a){_0x4dbb5d['setVertexB'+'uffer'](_0x4ddf2a['vertexBuff'+'er']);}['setMorphin'+'g'](_0x27631f,_0x964da8){_0x964da8&&(_0x964da8['prepareRen'+'dering'](_0x27631f),_0x27631f['setVertexB'+'uffer'](_0x964da8['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x964da8['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x964da8['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x964da8['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x986bb6,_0x2c66e3){const _0x25658f=_0x2c66e3['skinInstan'+'ce'];if(_0x25658f){this['_skinDrawC'+'alls']++;const _0x2b85a6=_0x25658f['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x2b85a6),this['boneTextur'+'eSizeId']['setValue'](_0x25658f['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x3ddff7){const _0x10f071=this['viewPos'];_0x10f071[-0x9e7+0x8*0x110+-0x167*-0x1]=_0x3ddff7['x'],_0x10f071[0x1*-0x22e7+-0x1*-0x1d1b+-0x5cd*-0x1]=_0x3ddff7['y'],_0x10f071[-0x1f29+0x22*-0x9d+0x3405]=_0x3ddff7['z'],this['viewPosId']['setValue'](_0x10f071);}['initViewBi'+'ndGroupFor'+'mat'](_0x2322ac){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x19a0b2=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',$t),new gt('skyboxInte'+'nsity',$s),new gt('exposure',$s),new gt('textureBia'+'s',$s)];_0x2322ac&&_0x19a0b2['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',$t),new gt('clusterTex'+'tureSize',$t),new gt('clusterBou'+'ndsMin',$t),new gt('clusterBou'+'ndsDelta',$t),new gt('clusterCel'+'lsDot',$t),new gt('clusterCel'+'lsMax',$t),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',$s)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x19a0b2);const _0x11ab6b=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x2322ac&&_0x11ab6b['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0x11ab6b);}}['setupViewU'+'niformBuff'+'ers'](_0x229b94,_0xcaf3ce,_0x28573e,_0x58693e){v['assert'](Array['isArray'](_0x229b94),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x59122c=this['device'];for(v['assert'](_0x58693e===-0xeb5+-0x74a+0x1600,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x229b94['length']<_0x58693e;){const _0x3cfa8c=new gp(_0x59122c,_0xcaf3ce,!(0x1*0x97b+-0x165a+0xce0)),_0x554f60=new mp(_0x59122c,_0x28573e,_0x3cfa8c);mn['setName'](_0x554f60,'ViewBindGr'+'oup_'+_0x554f60['id']),_0x229b94['push'](_0x554f60);}const _0x51e57f=_0x229b94[0x19a0+-0x125b+-0x745];_0x51e57f['defaultUni'+'formBuffer']['update'](),_0x51e57f['update'](),_0x59122c['setBindGro'+'up'](Dh,_0x51e57f);}['setupMeshU'+'niformBuff'+'ers'](_0x2829c7,_0x312e8c){const _0x407e26=this['device'];if(_0x407e26['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x312e8c['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x312e8c['node']['normalMatr'+'ix']['data']);const _0x47b496=_0x2829c7['getBindGro'+'up'](_0x407e26);_0x47b496['update'](),_0x407e26['setBindGro'+'up'](Xy,_0x47b496),_0x2829c7['getUniform'+'Buffer'](_0x407e26)['update'](kd),_0x407e26['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0x43e433,_0x2e862b,_0x47fd2b,_0x58a7a9,_0x3b64bc){const _0x187561=_0x2e862b['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x187561['data']),_0x3b64bc&&this['normalMatr'+'ixId']['setValue'](_0x2e862b['node']['normalMatr'+'ix']['data']);const _0x16a0da=_0x2e862b['instancing'+'Data'];_0x16a0da?_0x16a0da['count']>-0x239*-0x1+0x511*0x1+-0x74a?(this['_instanced'+'DrawCalls']++,_0x43e433['setVertexB'+'uffer'](_0x16a0da['vertexBuff'+'er']),_0x43e433['draw'](_0x47fd2b['primitive'][_0x58a7a9],_0x16a0da['count'])):_0x43e433['clearVerte'+'xBuffer']():_0x43e433['draw'](_0x47fd2b['primitive'][_0x58a7a9]);}['drawInstan'+'ce2'](_0x53b140,_0x3a321e,_0x562b6f,_0x438962){const _0x433269=_0x3a321e['instancing'+'Data'];_0x433269?_0x433269['count']>-0xb30+-0xa67+0x1597*0x1?(this['_instanced'+'DrawCalls']++,_0x53b140['draw'](_0x562b6f['primitive'][_0x438962],_0x433269['count'],!(-0xb25+-0x1*-0x57b+0x5aa))):_0x53b140['clearVerte'+'xBuffer']():_0x53b140['draw'](_0x562b6f['primitive'][_0x438962],void(0x1*-0x67f+-0x86a+0xee9),!(0x72b*-0x5+-0xc8b+-0x466*-0xb));}['cull'](_0x1aafc6,_0xbab8d3,_0x38b5c9){const _0x184ff0=ne(),_0x1dffe7=_0x38b5c9['opaque'];_0x1dffe7['length']=-0x4*-0x8ff+0x24da+-0x48d6;const _0x4d2afb=_0x38b5c9['transparen'+'t'];_0x4d2afb['length']=0x3*0x979+-0x124*-0xa+-0x27d3;const _0x596d54=_0x1aafc6['frustumCul'+'ling'],_0x2a0f82=_0xbab8d3['length'];for(let _0x5ebb38=0xb*-0xef+-0x1f46+0x3*0xdd9;_0x5ebb38<_0x2a0f82;_0x5ebb38++){const _0x106a76=_0xbab8d3[_0x5ebb38];_0x106a76['visible']&&(!_0x596d54||!_0x106a76['cull']||_0x106a76['_isVisible'](_0x1aafc6))&&(_0x106a76['visibleThi'+'sFrame']=!(-0x137*0x4+-0x4f2+-0xa*-0xfb),(_0x106a76['transparen'+'t']?_0x4d2afb:_0x1dffe7)['push'](_0x106a76),(_0x106a76['skinInstan'+'ce']||_0x106a76['morphInsta'+'nce']||_0x106a76['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x106a76),_0x106a76['gsplatInst'+'ance']&&_0x106a76['gsplatInst'+'ance']['cameras']['push'](_0x1aafc6)));}this['_cullTime']+=ne()-_0x184ff0,this['_numDrawCa'+'llsCulled']+=_0x596d54?_0x2a0f82:0x3a9*0x9+0x1883+-0x3974;}['collectLig'+'hts'](_0x735823){this['lights']['length']=-0x6f8+0x61*-0x20+-0x68*-0x2f,this['localLight'+'s']['length']=-0x8a*0x15+-0x5bf*0x2+0x490*0x5;const _0x26b44e=this['scene']['_stats'];_0x26b44e['dynamicLig'+'hts']=-0x1*-0x963+0x65*-0x57+0x18f0,_0x26b44e['bakedLight'+'s']=-0x3*-0x6b2+0x2102+-0x1*0x3518;const _0x19d21f=_0x735823['layerList']['length'];for(let _0x1d418e=-0x57*0x1+0x53*0x1+-0x4*-0x1;_0x1d418e<_0x19d21f;_0x1d418e++){const _0x5793c7=_0x735823['layerList'][_0x1d418e];if(!Od['has'](_0x5793c7)){Od['add'](_0x5793c7);const _0x2969cd=_0x5793c7['_lights'];for(let _0x4aa0f2=0x1f72+-0x1*-0x216b+0x51*-0xcd;_0x4aa0f2<_0x2969cd['length'];_0x4aa0f2++){const _0x245e43=_0x2969cd[_0x4aa0f2];Fd['has'](_0x245e43)||(Fd['add'](_0x245e43),this['lights']['push'](_0x245e43),_0x245e43['_type']!==oe&&this['localLight'+'s']['push'](_0x245e43),(_0x245e43['mask']&hs||_0x245e43['mask']&cr)&&_0x26b44e['dynamicLig'+'hts']++,_0x245e43['mask']&rr&&_0x26b44e['bakedLight'+'s']++);}}}_0x26b44e['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x119699,_0x5f332f){const _0x19ffe5=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x260efe=this['scene']['physicalUn'+'its'];for(let _0x497636=-0x1*0x2bf+-0x166d+-0x9*-0x2cc;_0x497636<_0x5f332f['length'];_0x497636++){const _0x57990a=_0x5f332f[_0x497636];if(_0x57990a['enabled']){if(_0x57990a['_type']!==oe){if(_0x57990a['getBoundin'+'gSphere'](Ld),_0x119699['frustum']['containsSp'+'here'](Ld)){_0x57990a['visibleThi'+'sFrame']=!(-0x1e47*0x1+0x1dd6+-0x1*-0x71),_0x57990a['usePhysica'+'lUnits']=_0x260efe;const _0x37f94c=_0x119699['getScreenS'+'ize'](Ld);_0x57990a['maxScreenS'+'ize']=Math['max'](_0x57990a['maxScreenS'+'ize'],_0x37f94c);}else _0x19ffe5||_0x57990a['castShadow'+'s']&&!_0x57990a['shadowMap']&&(_0x57990a['visibleThi'+'sFrame']=!(-0x80b+-0x3*-0x153+0x412));}else _0x57990a['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x29b592){const _0x27aa78=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x7a0c73=0x9*0x231+0x1*0x101c+0x23d5*-0x1;_0x7a0c73<this['localLight'+'s']['length'];_0x7a0c73++){const _0x1c4bff=this['localLight'+'s'][_0x7a0c73];_0x1c4bff['_type']!==oe&&(_0x27aa78?_0x1c4bff['atlasSlotU'+'pdated']&&_0x1c4bff['shadowUpda'+'teMode']===Ps&&(_0x1c4bff['shadowUpda'+'teMode']=cn):_0x1c4bff['shadowUpda'+'teMode']===Ps&&_0x1c4bff['castShadow'+'s']&&(_0x1c4bff['getRenderD'+'ata'](null,0x2*-0x212+-0x1d05+-0xd*-0x28d)['shadowCame'+'ra']['renderTarg'+'et']||(_0x1c4bff['shadowUpda'+'teMode']=cn)),_0x1c4bff['visibleThi'+'sFrame']&&_0x1c4bff['castShadow'+'s']&&_0x1c4bff['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x1c4bff,_0x29b592));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x441ad6=_0x29b592['cameras'];for(let _0x3b83d8=0xb71+-0x23dd*0x1+0x186c;_0x3b83d8<_0x441ad6['length'];_0x3b83d8++){const _0x564370=_0x441ad6[_0x3b83d8];if(_0x564370['enabled']){const _0x4b3f8c=_0x564370['camera'];let _0xdbcd29;const _0x33afb7=_0x4b3f8c['layers'];for(let _0x44234f=-0x14a1*-0x1+-0x25+-0x36a*0x6;_0x44234f<_0x33afb7['length'];_0x44234f++){const _0x182d7a=_0x29b592['getLayerBy'+'Id'](_0x33afb7[_0x44234f]);if(_0x182d7a){const _0x4f5ec0=_0x182d7a['splitLight'+'s'][oe];for(let _0x49380e=-0x1472+0x266a+-0x11f8;_0x49380e<_0x4f5ec0['length'];_0x49380e++){const _0x2c103a=_0x4f5ec0[_0x49380e];_0x2c103a['castShadow'+'s']&&!Pn['has'](_0x2c103a)&&(Pn['add'](_0x2c103a),_0xdbcd29=_0xdbcd29??[],_0xdbcd29['push'](_0x2c103a),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x2c103a,_0x29b592,_0x4b3f8c));}}}_0xdbcd29&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x4b3f8c,_0xdbcd29),Pn['clear']();}}}['cullCompos'+'ition'](_0x15f51c){const _0x4aef55=ne(),{scene:_0x5c6dd7}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x49890a=_0x15f51c['cameras']['length'];this['_camerasRe'+'ndered']+=_0x49890a;for(let _0x1a0eb9=-0x1e8d+-0x1105*-0x1+0xd88;_0x1a0eb9<_0x49890a;_0x1a0eb9++){const _0x42685b=_0x15f51c['cameras'][_0x1a0eb9];_0x5c6dd7==null||_0x5c6dd7['fire'](ow,_0x42685b);const _0x524d66=_0x42685b['renderTarg'+'et'];_0x42685b['frameUpdat'+'e'](_0x524d66),this['updateCame'+'raFrustum'](_0x42685b['camera']);const _0x143246=_0x42685b['layers'];for(let _0x4c6d0d=0x18db+0x14f9+-0x2dd4;_0x4c6d0d<_0x143246['length'];_0x4c6d0d++){const _0x427dce=_0x15f51c['getLayerBy'+'Id'](_0x143246[_0x4c6d0d]);if(_0x427dce&&_0x427dce['enabled']){this['cullLights'](_0x42685b['camera'],_0x427dce['_lights']);const _0x37ae75=_0x427dce['getCulledI'+'nstances'](_0x42685b['camera']);this['cull'](_0x42685b['camera'],_0x427dce['meshInstan'+'ces'],_0x37ae75);}}_0x5c6dd7==null||_0x5c6dd7['fire'](lw,_0x42685b);}_0x5c6dd7['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x15f51c),this['_cullTime']+=ne()-_0x4aef55;}['updateShad'+'ers'](_0x12f6c4,_0x478619){const _0x3ee1f4=_0x12f6c4['length'];for(let _0x16c471=-0x1f8c+-0x74f*-0x1+0x49*0x55;_0x16c471<_0x3ee1f4;_0x16c471++){const _0xf8cc7f=_0x12f6c4[_0x16c471]['material'];if(_0xf8cc7f&&!Pn['has'](_0xf8cc7f)&&(Pn['add'](_0xf8cc7f),_0xf8cc7f['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x478619&&(!_0xf8cc7f['useLightin'+'g']||_0xf8cc7f['emitter']&&!_0xf8cc7f['emitter']['lighting']))continue;_0xf8cc7f['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x10a289){const _0xd71593=this['scene'],_0x5d9bb2=_0xd71593['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x9d640b=0x144e+-0xdc6+-0x688;const _0x330cf1=_0x10a289['layerList'],_0x2ab9f4=_0x330cf1['length'];for(let _0x444b6a=0x2654+0x265d+-0x4cb1;_0x444b6a<_0x2ab9f4;_0x444b6a++){const _0x1bcf6e=_0x330cf1[_0x444b6a]['meshInstan'+'ces'],_0x54e3cd=_0x1bcf6e['length'];_0x9d640b+=_0x54e3cd;for(let _0x59162e=0x1*-0x1a64+0x172d+0x337;_0x59162e<_0x54e3cd;_0x59162e++){const _0x341cae=_0x1bcf6e[_0x59162e];_0x341cae['visibleThi'+'sFrame']=!(0x4*-0x38e+-0x154d+0x2386),_0x5d9bb2&&Bd['push'](_0x341cae),_0x341cae['skinInstan'+'ce']&&Nd['push'](_0x341cae);}}if(_0xd71593['_stats']['meshInstan'+'ces']=_0x9d640b,_0x5d9bb2){const _0x578fe3=!_0xd71593['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x578fe3),_0xd71593['updateShad'+'ers']=!(-0x1b6e+-0x5a*-0x1+0x1b15),this['device']['_shadersDi'+'rty']=!(0x5*-0x337+-0x21f1+-0x3205*-0x1),_0xd71593['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=0x2499+0x573+0x33c*-0xd,Nd['length']=-0x17d4+-0x1*-0x1ef9+0x725*-0x1;const _0x881171=this['lights'],_0x4e632c=_0x881171['length'];for(let _0x47e328=-0x1e14+0xfff+0x23*0x67;_0x47e328<_0x4e632c;_0x47e328++)_0x881171[_0x47e328]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x2463dc){const _0x4d36db=ne(),_0x40d0db=_0x2463dc['layerList']['length'],_0x153c30=this['scene']['_shaderVer'+'sion'];for(let _0x2121e3=-0xc1*0x27+-0x198+0x1eff;_0x2121e3<_0x40d0db;_0x2121e3++){const _0x53be96=_0x2463dc['layerList'][_0x2121e3];_0x53be96['_shaderVer'+'sion']=_0x153c30,_0x53be96['_skipRende'+'rCounter']=-0xb*-0xf5+-0xf43*0x1+0x4bc,_0x53be96['_forwardDr'+'awCalls']=0x1bcf+0xa1f*0x1+-0x25ee,_0x53be96['_shadowDra'+'wCalls']=-0x1555+-0xbec+-0x2141*-0x1,_0x53be96['_renderTim'+'e']=-0xfde+-0x2e7*-0x5+-0x1*-0x15b;}_0x2463dc['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x4d36db;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x1*-0x2231+-0x104+0x119b*0x2),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0x1f5+0x10f3*0x2+-0x23da),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x1e07+0xbd1*0x2+0x666*0x1),this['clearDepth']=!(0x6*-0x443+-0x3a*0x97+0x3bc9*0x1),this['clearStenc'+'il']=!(0x1a51*0x1+0x2*0xf7d+0x2*-0x1ca5),this['triggerPos'+'tprocess']=!(-0x2023+-0x1*-0xc0+-0x52*-0x62),this['firstCamer'+'aUse']=!(0x3*0x331+-0x8bb+0x1*-0xd7),this['lastCamera'+'Use']=!(0xd2e+-0x15b6+0x889),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x3*0x4cf+-0x3b2+-0xaba));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x49f8a1=>{_0x49f8a1['defaultUni'+'formBuffer']['destroy'](),_0x49f8a1['destroy']();}),this['viewBindGr'+'oups']['length']=0x2*0x1266+-0x1faf*0x1+-0x51d;}['setupClear'+'s'](_0x405eb7,_0x22fbd5){this['clearColor']=(_0x405eb7==null?void(0x1*-0x1272+-0x94d+0x1bbf):_0x405eb7['clearColor'+'Buffer'])||_0x22fbd5['clearColor'+'Buffer'],this['clearDepth']=(_0x405eb7==null?void(0x1bce+0xe7b+-0x2a49):_0x405eb7['clearDepth'+'Buffer'])||_0x22fbd5['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x405eb7==null?void(0x3b4*-0x5+0x14d*0x9+0x6cf):_0x405eb7['clearStenc'+'ilBuffer'])||_0x22fbd5['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0xce6b3e,_0x4db101,_0x28f58a,_0x29285a){super(_0xce6b3e),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(0xfa1+-0x16f*-0x4+-0x155c)),(this['layerCompo'+'sition']=_0x4db101,this['scene']=_0x28f58a,this['renderer']=_0x29285a);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x1291+0x2091+-0xe00;}['addRenderA'+'ction'](_0x236ca4){this['renderActi'+'ons']['push'](_0x236ca4);}['addLayer'](_0x12d172,_0x2569e4,_0x558453,_0x190071=!(-0xbef+-0x112c+0x1d1b)){v['assert'](_0x12d172),v['assert'](this['renderTarg'+'et']!==void(0x2189+-0x95*0x1f+-0xf7e),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x12d172['camera']['layersSet']['has'](_0x2569e4['id']),'Camera\x20'+_0x12d172['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x2569e4['name']+'.');const _0x5ec2f3=new D0();if(_0x5ec2f3['renderTarg'+'et']=this['renderTarg'+'et'],_0x5ec2f3['camera']=_0x12d172,_0x5ec2f3['layer']=_0x2569e4,_0x5ec2f3['transparen'+'t']=_0x558453,_0x190071){const _0x112403=this['renderActi'+'ons']['length']===-0x92*-0x1a+0x1*0xc2f+-0x1b03*0x1;_0x5ec2f3['setupClear'+'s'](_0x112403?_0x12d172:void(0x13*-0xad+0x2319+-0x1642),_0x2569e4);}this['addRenderA'+'ction'](_0x5ec2f3);}['addLayers'](_0x597727,_0x55ebe6,_0x1c5f36,_0x5c4c0f,_0xa424fe,_0x3a4c8=!(0x371*-0x8+-0xba1*0x1+0x2729)){const {layerList:_0x579c82,subLayerList:_0x428d2e}=_0x597727;let _0x168b82=_0x5c4c0f,_0x4f74df=_0x1c5f36;for(;_0x4f74df<_0x579c82['length'];){const _0x11c516=_0x579c82[_0x4f74df],_0x38e525=_0x428d2e[_0x4f74df];if(_0x55ebe6['camera']['layersSet']['has'](_0x11c516['id'])&&(this['addLayer'](_0x55ebe6,_0x11c516,_0x38e525,_0x168b82),_0x168b82=!(-0x1*-0x1ff3+-0x2*-0xc89+-0x3904)),_0x4f74df++,_0x11c516['id']===_0xa424fe&&_0x38e525===_0x3a4c8)break;}return _0x4f74df;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x28529c,renderActions:_0x58ba66}=this;for(let _0x5432a5=-0x3*0x583+-0x1b1*-0x9+-0x1*-0x150;_0x5432a5<_0x58ba66['length'];_0x5432a5++){const _0x136d1f=_0x58ba66[_0x5432a5]['camera']['camera'],_0x47071f=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x136d1f);if(_0x47071f)for(let _0x3f1d66=-0x71f*-0x1+-0x1997+-0x1*-0x1278;_0x3f1d66<_0x47071f['length'];_0x3f1d66++){const _0x4c1b48=_0x47071f[_0x3f1d66];if(_0x28529c['dirLightSh'+'adows']['get'](_0x4c1b48)!==_0x136d1f){_0x28529c['dirLightSh'+'adows']['set'](_0x4c1b48,_0x136d1f);const _0x298c6d=_0x28529c['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x4c1b48,_0x136d1f);_0x298c6d&&this['beforePass'+'es']['push'](_0x298c6d);}}}}['updateClea'+'rs'](){const _0x7d94ce=this['renderActi'+'ons'][0x2*-0xae5+-0xb08+0x20d2];if(_0x7d94ce){const _0x2c8487=_0x7d94ce['camera']['camera'],_0x28d301=_0x2c8487['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x28d301&&_0x7d94ce['clearColor']?_0x2c8487['clearColor']:void(0x225*-0x3+0x396*-0xa+-0x9*-0x4b3)),this['setClearDe'+'pth'](_0x28d301&&_0x7d94ce['clearDepth']&&!this['noDepthCle'+'ar']?_0x2c8487['clearDepth']:void(-0x255e+-0xe16+0x3374)),this['setClearSt'+'encil'](_0x28d301&&_0x7d94ce['clearStenc'+'il']?_0x2c8487['clearStenc'+'il']:void(-0x2331+-0xb*-0x8e+-0x1d17*-0x1));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x7b5642}=this;for(let _0x1d9277=-0xae+0x167*0xd+0x1*-0x118d;_0x1d9277<_0x7b5642['length'];_0x1d9277++){const _0x2e0ba5=_0x7b5642[_0x1d9277];_0x2e0ba5['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x2e0ba5['camera']);}}['execute'](){const {layerComposition:_0x88262a,renderActions:_0x1c3205}=this;for(let _0x1a8828=0x49*-0x16+0x11a3+-0xb5d*0x1;_0x1a8828<_0x1c3205['length'];_0x1a8828++){const _0x2ad444=_0x1c3205[_0x1a8828],_0x2b4467=_0x2ad444['layer'];v['call'](()=>{_0x88262a['getLayerBy'+'Name'](_0x2b4467['name'])||v['warnOnce']('Layer\x20'+_0x2b4467['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x88262a['isEnabled'](_0x2b4467,_0x2ad444['transparen'+'t'])&&this['renderRend'+'erAction'](_0x2ad444,_0x1a8828===0x15a6+0x1c6*-0xf+0x4f4);}}['after'](){for(let _0x34fb7e=-0x1752+0xcb2+0xaa0;_0x34fb7e<this['renderActi'+'ons']['length'];_0x34fb7e++){const _0x75271a=this['renderActi'+'ons'][_0x34fb7e];_0x75271a['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x75271a['camera']);}this['beforePass'+'es']['length']=0x12c6+0x2224+-0x34ea;}['renderRend'+'erAction'](_0x2f5c6a,_0x219f63){var _0x3dcc41;const {renderer:_0x5c40a7,scene:_0x534f17}=this,_0x47fa42=_0x5c40a7['device'],{layer:_0x2fcb5e,transparent:_0x12cccb,camera:_0x4a9ff3}=_0x2f5c6a;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x4a9ff3?_0x4a9ff3['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x2fcb5e['name']+'('+(_0x12cccb?'TRANSP':'OPAQUE')+')');const _0x5c505b=ne();if(_0x4a9ff3){const _0x48605e=_0x4a9ff3['gammaCorre'+'ction'],_0x351c89=_0x4a9ff3['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x18e+-0x242c+0x25ba)&&(_0x4a9ff3['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x1d62+-0x446*-0x6+0x1*-0x3706)&&(_0x4a9ff3['toneMappin'+'g']=this['toneMappin'+'g']),_0x534f17['fire'](nw,_0x4a9ff3,_0x2fcb5e,_0x12cccb);const _0x364d95={'lightClusters':_0x2f5c6a['lightClust'+'ers']},_0x2365dd=((_0x3dcc41=_0x4a9ff3['camera']['shaderPass'+'Info'])==null?void(0x2419+-0x1278+-0x11a1*0x1):_0x3dcc41['index'])??gn;(!_0x219f63||!_0x4a9ff3['camera']['fullSizeCl'+'earRect'])&&(_0x364d95['clearColor']=_0x2f5c6a['clearColor'],_0x364d95['clearDepth']=_0x2f5c6a['clearDepth'],_0x364d95['clearStenc'+'il']=_0x2f5c6a['clearStenc'+'il']);const _0x15f990=_0x2f5c6a['renderTarg'+'et']??_0x47fa42['backBuffer'];_0x5c40a7['renderForw'+'ardLayer'](_0x4a9ff3['camera'],_0x15f990,_0x2fcb5e,_0x12cccb,_0x2365dd,_0x2f5c6a['viewBindGr'+'oups'],_0x364d95),_0x47fa42['setBlendSt'+'ate'](_t['NOBLEND']),_0x47fa42['setStencil'+'State'](null,null),_0x47fa42['setAlphaTo'+'Coverage'](!(0x2555+-0x2489*-0x1+0x21*-0x23d)),_0x534f17['fire'](aw,_0x4a9ff3,_0x2fcb5e,_0x12cccb),this['gammaCorre'+'ction']!==void(0x1d*0x111+0x455*-0x2+0x8b*-0x29)&&(_0x4a9ff3['gammaCorre'+'ction']=_0x48605e),this['toneMappin'+'g']!==void(-0x1*-0xa51+0x8d*0x24+-0x1e25*0x1)&&(_0x4a9ff3['toneMappin'+'g']=_0x351c89);}G['popGpuMark'+'er'](this['device']),_0x2fcb5e['_renderTim'+'e']+=ne()-_0x5c505b;}['log'](_0x386460,_0x1c98f4){if(super['log'](_0x386460,_0x1c98f4),Xs['get'](Jn)){const {layerComposition:_0x153817}=this;this['renderActi'+'ons']['forEach']((_0x2237f4,_0xfe18dd)=>{const _0x320919=_0x2237f4['layer'],_0xdc33c1=_0x320919['enabled']&&_0x153817['isEnabled'](_0x320919,_0x2237f4['transparen'+'t']),_0x304be2=_0x2237f4['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0xfe18dd+':'+('\x20Cam:\x20'+(_0x304be2?_0x304be2['entity']['name']:'-'))['padEnd'](-0x1*0x2342+0xa*-0x241+0x1*0x39e2,'\x20')+('\x20Lay:\x20'+_0x320919['name'])['padEnd'](0x13c0+-0x1be9+0x83f,'\x20')+(_0x2237f4['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0xdc33c1?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x320919['meshInstan'+'ces']['length'])['padEnd'](-0x938+0xce+0x86f*0x1,'\x20'));});}}}class FM extends ds{constructor(_0x20ef67,_0x5b1af5,_0x5bb0ea){super(_0x20ef67),this['renderer']=_0x5b1af5,this['renderActi'+'on']=_0x5bb0ea,this['requiresCu'+'bemaps']=!(-0x1*-0x1fdf+-0xe6c+-0x3a*0x4d);}['execute'](){const _0xdd5d53=this['renderActi'+'on'],_0x11b6ca=_0xdd5d53['camera'];v['assert'](_0xdd5d53['triggerPos'+'tprocess']&&_0x11b6ca['onPostproc'+'essing']),_0x11b6ca['onPostproc'+'essing']();}}const OM=[[],[],[]],$i=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x25f+0x1fbf+-0x18d*0x16,this['shaderInst'+'ances']['length']=-0x2491+-0x136*0xb+-0x1b*-0x1d9,this['isNewMater'+'ial']['length']=0x1*-0x94f+-0x5a*-0x5e+-0x17bd,this['lightMaskC'+'hanged']['length']=-0x184d+-0x661+-0x66*-0x4d;}};function kM(_0xa30e52){const _0x25fc78=[];for(let _0x3077a1=0x7d3+0x1*-0x1baa+0x3*0x69d;_0x3077a1<_0xa30e52;++_0x3077a1){const _0x2fd5ad=Math['sqrt'](_0x3077a1+(0x15eb+-0xbf4+0x9f7*-0x1+0.5))/Math['sqrt'](_0xa30e52);_0x25fc78['push'](_0x2fd5ad);}return _0x25fc78;}function BM(_0x388ef0){const _0x5c6ca2=[];for(let _0x1943a9=0xd*-0x14b+-0x6d7*0x2+0x1e7d;_0x1943a9<_0x388ef0;_0x1943a9++){const _0x54de66=_0x1943a9/_0x388ef0,_0x1a4337=Math['sqrt'](_0x54de66*_0x54de66);_0x5c6ca2['push'](_0x1a4337);}return _0x5c6ca2;}const _i=class _i extends DM{constructor(_0x57041b){super(_0x57041b);const _0x599cd3=this['device'];this['_forwardDr'+'awCalls']=0x1*-0x9e3+0x5*0x221+-0xc2,this['_materialS'+'witches']=-0xd67+-0x1e68+0x2bcf,this['_depthMapT'+'ime']=-0x1ee9*0x1+-0x100*0x1c+-0x13a3*-0x3,this['_forwardTi'+'me']=0x1e21+-0x1fed*0x1+0x1cc,this['_sortTime']=-0x21c0+0x1abe+0x702;const _0xe7cf88=_0x599cd3['scope'];this['fogColorId']=_0xe7cf88['resolve']('fog_color'),this['fogStartId']=_0xe7cf88['resolve']('fog_start'),this['fogEndId']=_0xe7cf88['resolve']('fog_end'),this['fogDensity'+'Id']=_0xe7cf88['resolve']('fog_densit'+'y'),this['ambientId']=_0xe7cf88['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0xe7cf88['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0xe7cf88['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0xe7cf88['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0xe7cf88['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0xe7cf88['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0xc0e+0x3ee+0x824),this['fogColor']=new Float32Array(0x1cfa+-0x427+-0x18d0),this['ambientCol'+'or']=new Float32Array(0x5f5+-0xc0*-0x8+-0xbf2),this['pcssDiskSa'+'mples']=kM(0x1*-0x11b5+-0x1*-0x12b5+0x6*-0x28),this['pcssSphere'+'Samples']=BM(0x1*-0x102d+-0x1*0x1093+0x20d0);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x444291){const _0x334bd6=this['ambientCol'+'or'];if($i['linear'](_0x444291['ambientLig'+'ht']),_0x334bd6[0x25*-0x67+-0x209c+0x2f7f]=$i['r'],_0x334bd6[-0x94*0x1+-0x1b3c+0x1*0x1bd1]=$i['g'],_0x334bd6[-0x1157+-0x13c0+0x2519*0x1]=$i['b'],_0x444291['physicalUn'+'its']){for(let _0x5b6ede=-0x977*-0x2+0xa41+-0x1d2f*0x1;_0x5b6ede<0x9*0x259+0x142d*-0x1+-0xf1;_0x5b6ede++)_0x334bd6[_0x5b6ede]*=_0x444291['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x334bd6),this['skyboxInte'+'nsityId']['setValue'](_0x444291['physicalUn'+'its']?_0x444291['skyboxLumi'+'nance']:_0x444291['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x444291['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x56d515,_0x4edba2){const _0x2a521c='light'+_0x4edba2;this['lightColor'+'Id'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+'_color'),this['lightDir'][_0x4edba2]=new Float32Array(-0x1a57*-0x1+-0x56c+-0xdf*0x18),this['lightDirId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+'_direction'),this['lightShado'+'wMapId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+'_radius'),this['lightPos'][_0x4edba2]=new Float32Array(0x1b7c+0x812*-0x1+-0x1367),this['lightPosId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+'_position'),this['lightWidth'][_0x4edba2]=new Float32Array(-0x3ad*0x1+0x1*-0xaf1+0x5*0x2ed),this['lightWidth'+'Id'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+'_halfWidth'),this['lightHeigh'+'t'][_0x4edba2]=new Float32Array(-0x154f+-0x1*0x1003+0x1f7*0x13),this['lightHeigh'+'tId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+'_cookie'),this['lightCooki'+'eIntId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x4edba2]=_0x56d515['resolve'](_0x2a521c+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x363a2c,_0x105dc8,_0x13075f,_0x5f151b,_0x2a7e81){this['lightPos'][_0x105dc8][-0x24c3+-0xb8b+-0x304e*-0x1]=_0x5f151b['x']-_0x13075f['x']*_0x2a7e81,this['lightPos'][_0x105dc8][0x1147+0x19d4+0x4ca*-0x9]=_0x5f151b['y']-_0x13075f['y']*_0x2a7e81,this['lightPos'][_0x105dc8][-0x7f*-0x2b+-0x474*-0x2+-0x1e3b]=_0x5f151b['z']-_0x13075f['z']*_0x2a7e81,this['lightPosId'][_0x105dc8]['setValue'](this['lightPos'][_0x105dc8]);const _0x10acc2=_0x363a2c['transformV'+'ector'](new T(-(-0x8b4+-0x998+0x124c+0.5),0x13*0x1b1+0xd5b+0x795*-0x6,-0x39f+-0x16e*0x8+-0xf0f*-0x1));this['lightWidth'][_0x105dc8][-0x2*-0xaed+0x1*-0x131f+-0x2bb]=_0x10acc2['x']*_0x2a7e81,this['lightWidth'][_0x105dc8][-0xda*0x20+-0xb90+0x26d1]=_0x10acc2['y']*_0x2a7e81,this['lightWidth'][_0x105dc8][-0x2*-0x269+0xd*0x1bb+-0x1b4f*0x1]=_0x10acc2['z']*_0x2a7e81,this['lightWidth'+'Id'][_0x105dc8]['setValue'](this['lightWidth'][_0x105dc8]);const _0x5e7ee8=_0x363a2c['transformV'+'ector'](new T(-0x12ab*-0x1+-0x1*0x86d+-0xa3e,0xe45*0x1+0x1393*0x1+-0x21d8,0x5b3*-0x6+0x1eb2*-0x1+0x40e4+0.5));this['lightHeigh'+'t'][_0x105dc8][0x2*-0xa67+-0x85f*0x4+0x364a]=_0x5e7ee8['x']*_0x2a7e81,this['lightHeigh'+'t'][_0x105dc8][0xb9b+0x69e+-0x35*0x58]=_0x5e7ee8['y']*_0x2a7e81,this['lightHeigh'+'t'][_0x105dc8][0x21a0+-0x31*-0x91+-0x1*0x3d5f]=_0x5e7ee8['z']*_0x2a7e81,this['lightHeigh'+'tId'][_0x105dc8]['setValue'](this['lightHeigh'+'t'][_0x105dc8]);}['dispatchDi'+'rectLights'](_0x1ddda0,_0x5dd72e,_0x462054){let _0x27b937=0x4a1+0x858+0x1b*-0x7b;const _0x490b14=this['device']['scope'];for(let _0x2a6136=0x1ba9+-0x9*0x335+0x134;_0x2a6136<_0x1ddda0['length'];_0x2a6136++){if(!(_0x1ddda0[_0x2a6136]['mask']&_0x5dd72e))continue;const _0x238fe5=_0x1ddda0[_0x2a6136],_0x2928b7=_0x238fe5['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x27b937]||this['_resolveLi'+'ght'](_0x490b14,_0x27b937),this['lightColor'+'Id'][_0x27b937]['setValue'](_0x238fe5['_colorLine'+'ar']),_0x2928b7['getY'](_0x238fe5['_direction'])['mulScalar'](-(-0x1c*0x112+0x82d*-0x1+0x2626)),_0x238fe5['_direction']['normalize'](),this['lightDir'][_0x27b937][-0x4c*0x59+-0x1b1c+-0x11d8*-0x3]=_0x238fe5['_direction']['x'],this['lightDir'][_0x27b937][-0x9*-0x3c5+0x10ff+-0x32eb]=_0x238fe5['_direction']['y'],this['lightDir'][_0x27b937][-0x1389+0x1*-0x451+0x17dc]=_0x238fe5['_direction']['z'],this['lightDirId'][_0x27b937]['setValue'](this['lightDir'][_0x27b937]),_0x238fe5['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x2928b7,_0x27b937,_0x238fe5['_direction'],_0x462054['_node']['getPositio'+'n'](),_0x462054['farClip']),_0x238fe5['castShadow'+'s']){const _0x4106bf=_0x238fe5['getRenderD'+'ata'](_0x462054,0x134d+-0x101d+-0x330),_0x48b1e8=_0x238fe5['_getUnifor'+'mBiasValue'+'s'](_0x4106bf);this['lightShado'+'wMapId'][_0x27b937]['setValue'](_0x4106bf['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x27b937]['setValue'](_0x4106bf['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x27b937]['setValue'](_0x238fe5['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x27b937]['setValue'](_0x238fe5['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x27b937]['setValue'](_0x238fe5['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x27b937]['setValue'](-0xbb*0x6+0x2*0xa1b+0x1*-0xfd3-_0x238fe5['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x27b937]['setValue'](_0x238fe5['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x27b937]['setValue'](_0x238fe5['_softShado'+'wParams']),_0x4106bf['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x27b937]['setValue'](_0x238fe5['penumbraSi'+'ze']/_0x4106bf['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x4106bf['projection'+'Compensati'+'on']);const _0x4c14be=_0x238fe5['_shadowCam'+'eraParams'];_0x4c14be['length']=0x1a6+-0x26aa+0x2508,_0x4c14be[0x4fd*0x1+0xf1*0x1d+0x1025*-0x2]=-0x11*0x22f+0x2d3+0x224c,_0x4c14be[-0x1152+-0x1*-0xe05+0x34e]=_0x4106bf['shadowCame'+'ra']['_farClip'],_0x4c14be[0x1fe4+0x1d7b*-0x1+0x1*-0x267]=_0x4106bf['shadowCame'+'ra']['_nearClip'],_0x4c14be[-0x1*-0x181+-0xd46+0xbc8]=-0x19*0x8e+0x3*-0x6d+0xf26,this['lightCamer'+'aParamsId'][_0x27b937]['setValue'](_0x4c14be);const _0x31b09e=_0x238fe5['_shadowRen'+'derParams'];_0x31b09e['length']=-0x2635*-0x1+0x1*-0x5cc+-0x1*0x2065,_0x31b09e[0x25b1+0x20ca*-0x1+-0x4e7]=_0x238fe5['_shadowRes'+'olution'],_0x31b09e[0x877+0x1e32+-0x1354*0x2]=_0x48b1e8['normalBias'],_0x31b09e[0x23d5+-0x12c4+-0x110f*0x1]=_0x48b1e8['bias'],_0x31b09e[-0x46*-0x17+0xeb9+-0x70*0x30]=-0x2118+-0xd*0x239+0x3dfd,this['lightShado'+'wParamsId'][_0x27b937]['setValue'](_0x31b09e);}_0x27b937++;}return _0x27b937;}['setLTCPosi'+'tionalLigh'+'t'](_0x51a145,_0x457b85){const _0x5b1bcd=_0x51a145['transformV'+'ector'](new T(-(-0x1*0x14f7+0x239e+0xea7*-0x1+0.5),0xa07+-0x713*-0x1+0x16*-0xc7,-0x1ec*-0xd+-0x1ce*-0x5+-0x2202));this['lightWidth'][_0x457b85][-0x53f+-0x1e89+0x23c8]=_0x5b1bcd['x'],this['lightWidth'][_0x457b85][0x14*-0x145+0x3*-0xb22+0x3acb]=_0x5b1bcd['y'],this['lightWidth'][_0x457b85][0x1193*0x1+-0x251e+0x2cb*0x7]=_0x5b1bcd['z'],this['lightWidth'+'Id'][_0x457b85]['setValue'](this['lightWidth'][_0x457b85]);const _0x2a21b0=_0x51a145['transformV'+'ector'](new T(-0x23d1+-0x59f+0x2970,-0x27e*0x4+0x5*0x68d+-0x1*0x16c9,0x84+0x679+-0x1*0x6fd+0.5));this['lightHeigh'+'t'][_0x457b85][0x2f*0x54+0xaf1+-0x1a5d]=_0x2a21b0['x'],this['lightHeigh'+'t'][_0x457b85][-0x11e*-0xd+-0x364+-0x1*0xb21]=_0x2a21b0['y'],this['lightHeigh'+'t'][_0x457b85][-0x6*-0x2c0+0xacd+-0x3*0x919]=_0x2a21b0['z'],this['lightHeigh'+'tId'][_0x457b85]['setValue'](this['lightHeigh'+'t'][_0x457b85]);}['dispatchOm'+'niLight'](_0x1649be,_0x3fa898,_0x390b98){const _0x200d2e=_0x3fa898['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x390b98]||this['_resolveLi'+'ght'](_0x1649be,_0x390b98),this['lightRadiu'+'sId'][_0x390b98]['setValue'](_0x3fa898['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x390b98]['setValue'](_0x3fa898['_colorLine'+'ar']),_0x200d2e['getTransla'+'tion'](_0x3fa898['_position']),this['lightPos'][_0x390b98][-0x9*-0x17+-0xef*-0x11+-0x10ae]=_0x3fa898['_position']['x'],this['lightPos'][_0x390b98][-0x29*0xb7+0x864+0x19c*0xd]=_0x3fa898['_position']['y'],this['lightPos'][_0x390b98][-0x4*0x1ff+-0x28b+0xa89]=_0x3fa898['_position']['z'],this['lightPosId'][_0x390b98]['setValue'](this['lightPos'][_0x390b98]),_0x3fa898['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x200d2e,_0x390b98),_0x3fa898['castShadow'+'s']){const _0x5d9c83=_0x3fa898['getRenderD'+'ata'](null,-0x1*-0x13b+-0x55e+0x423);this['lightShado'+'wMapId'][_0x390b98]['setValue'](_0x5d9c83['shadowBuff'+'er']);const _0x11fdb4=_0x3fa898['_getUnifor'+'mBiasValue'+'s'](_0x5d9c83),_0x5d75f7=_0x3fa898['_shadowRen'+'derParams'];_0x5d75f7['length']=0xf14+-0x158c+0xa6*0xa,_0x5d75f7[-0x544+-0x229*0x5+0x9*0x1c9]=_0x3fa898['_shadowRes'+'olution'],_0x5d75f7[0x1b*0xe3+0x1528+-0x2d18]=_0x11fdb4['normalBias'],_0x5d75f7[-0xf47*-0x1+0x1*-0x17cd+0x888]=_0x11fdb4['bias'],_0x5d75f7[0x8fc+-0x1841+0xf48]=(-0xbe6+0x1c19*0x1+0x6*-0x2b3)/_0x3fa898['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x390b98]['setValue'](_0x5d75f7),this['lightShado'+'wIntensity'][_0x390b98]['setValue'](_0x3fa898['shadowInte'+'nsity']);const _0x4f2aaf=_0x3fa898['penumbraSi'+'ze']/_0x5d9c83['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x390b98]['setValue'](_0x4f2aaf);const _0x148837=_0x3fa898['_shadowCam'+'eraParams'];_0x148837['length']=-0x99c+-0x1f*0xe7+-0x7*-0x55f,_0x148837[-0x1d20+0x75*0x34+-0x1c*-0x31]=-0x127*0x7+0x3b*0x61+-0xe4a,_0x148837[0x11a0+-0x22*-0xf5+-0x3229]=_0x5d9c83['shadowCame'+'ra']['_farClip'],_0x148837[0x1*0x1c8d+0x552+-0x21dd*0x1]=_0x5d9c83['shadowCame'+'ra']['_nearClip'],_0x148837[0x1*-0x5d5+-0x1a07+0x1fdf]=-0x2031+0x1*0xe3e+0x11f3,this['lightCamer'+'aParamsId'][_0x390b98]['setValue'](_0x148837);}_0x3fa898['_cookie']&&(this['lightCooki'+'eId'][_0x390b98]['setValue'](_0x3fa898['_cookie']),this['lightShado'+'wMatrixId'][_0x390b98]['setValue'](_0x200d2e['data']),this['lightCooki'+'eIntId'][_0x390b98]['setValue'](_0x3fa898['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x25bc2e,_0x522cd6,_0x368557){const _0x10158a=_0x522cd6['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x368557]||this['_resolveLi'+'ght'](_0x25bc2e,_0x368557),this['lightInAng'+'leId'][_0x368557]['setValue'](_0x522cd6['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x368557]['setValue'](_0x522cd6['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x368557]['setValue'](_0x522cd6['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x368557]['setValue'](_0x522cd6['_colorLine'+'ar']),_0x10158a['getTransla'+'tion'](_0x522cd6['_position']),this['lightPos'][_0x368557][-0x2661+-0x1afa+-0x507*-0xd]=_0x522cd6['_position']['x'],this['lightPos'][_0x368557][0x1*-0x602+0x1*0x2491+0x1*-0x1e8e]=_0x522cd6['_position']['y'],this['lightPos'][_0x368557][0xc*-0xdf+0xe92+-0x41c]=_0x522cd6['_position']['z'],this['lightPosId'][_0x368557]['setValue'](this['lightPos'][_0x368557]),_0x522cd6['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x10158a,_0x368557),_0x10158a['getY'](_0x522cd6['_direction'])['mulScalar'](-(0xf2*0x14+-0x249f+0x11b8)),_0x522cd6['_direction']['normalize'](),this['lightDir'][_0x368557][-0x512*-0x7+-0x2*0x1245+-0x43*-0x4]=_0x522cd6['_direction']['x'],this['lightDir'][_0x368557][0x274+-0x1*0x1f09+0x1c96]=_0x522cd6['_direction']['y'],this['lightDir'][_0x368557][-0x19fe+-0x1f9a+0x1*0x399a]=_0x522cd6['_direction']['z'],this['lightDirId'][_0x368557]['setValue'](this['lightDir'][_0x368557]),_0x522cd6['castShadow'+'s']){const _0x5d78c8=_0x522cd6['getRenderD'+'ata'](null,-0x8c5*0x3+0xc25*-0x1+-0x2e*-0xd6);this['lightShado'+'wMapId'][_0x368557]['setValue'](_0x5d78c8['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x368557]['setValue'](_0x5d78c8['shadowMatr'+'ix']['data']);const _0x1d8ead=_0x522cd6['_getUnifor'+'mBiasValue'+'s'](_0x5d78c8),_0x4b8214=_0x522cd6['_shadowRen'+'derParams'];_0x4b8214['length']=0xb8f+-0xb61*0x1+-0x2a,_0x4b8214[0x1b1c+0x135d*-0x1+0x1*-0x7bf]=_0x522cd6['_shadowRes'+'olution'],_0x4b8214[0x15fa+-0x154+0x97*-0x23]=_0x1d8ead['normalBias'],_0x4b8214[-0x1bed*0x1+-0x1*-0x1a35+0x1ba]=_0x1d8ead['bias'],_0x4b8214[0x1*-0x26dd+-0x698+-0x794*-0x6]=(-0x804+0x4ec+0x319)/_0x522cd6['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x368557]['setValue'](_0x4b8214),this['lightShado'+'wIntensity'][_0x368557]['setValue'](_0x522cd6['shadowInte'+'nsity']);const _0x23bc33=_0x522cd6['penumbraSi'+'ze']/_0x5d78c8['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x5117dd=_0x5d78c8['shadowCame'+'ra']['_fov']*Math['PI']/(-0x2*-0xb9b+-0x1026+-0x16*0x4a),_0x400497=(-0x3a6*0xa+0x235f+0x2*0x8f)/Math['tan'](_0x5117dd/(-0x1f37+0xcb0+0x1289));this['lightShado'+'wSearchAre'+'aId'][_0x368557]['setValue'](_0x23bc33*_0x400497);const _0x5c92fc=_0x522cd6['_shadowCam'+'eraParams'];_0x5c92fc['length']=-0x236b+-0x161a*-0x1+0xd55,_0x5c92fc[0xf*-0x17d+0x1f14+-0xf9*0x9]=-0xee1+-0x119*0x7+0x1690,_0x5c92fc[-0x18fd+0x1485*0x1+0x479]=_0x5d78c8['shadowCame'+'ra']['_farClip'],_0x5c92fc[0x21ae+0x1458+0x3604*-0x1]=_0x5d78c8['shadowCame'+'ra']['_nearClip'],_0x5c92fc[-0xb*0xe2+-0x2*-0x239+0x1*0x547]=-0x4*-0xba+0x1afc+0x1*-0x1de4,this['lightCamer'+'aParamsId'][_0x368557]['setValue'](_0x5c92fc);}if(_0x522cd6['_cookie']){if(!_0x522cd6['castShadow'+'s']){const _0x168bcc=Ma['evalSpotCo'+'okieMatrix'](_0x522cd6);this['lightShado'+'wMatrixId'][_0x368557]['setValue'](_0x168bcc['data']);}this['lightCooki'+'eId'][_0x368557]['setValue'](_0x522cd6['_cookie']),this['lightCooki'+'eIntId'][_0x368557]['setValue'](_0x522cd6['cookieInte'+'nsity']),_0x522cd6['_cookieTra'+'nsform']&&(_0x522cd6['_cookieTra'+'nsformUnif'+'orm'][-0x2*-0xbc9+0x1074+-0x1403*0x2]=_0x522cd6['_cookieTra'+'nsform']['x'],_0x522cd6['_cookieTra'+'nsformUnif'+'orm'][-0x5*0x123+-0xb3e+-0xb*-0x18a]=_0x522cd6['_cookieTra'+'nsform']['y'],_0x522cd6['_cookieTra'+'nsformUnif'+'orm'][-0x11e3+0x10d9+0x10c]=_0x522cd6['_cookieTra'+'nsform']['z'],_0x522cd6['_cookieTra'+'nsformUnif'+'orm'][0x92*0x27+-0x43f+0x47f*-0x4]=_0x522cd6['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x368557]['setValue'](_0x522cd6['_cookieTra'+'nsformUnif'+'orm']),_0x522cd6['_cookieOff'+'setUniform'][0x4f0*-0x6+-0x1998+0x3738]=_0x522cd6['_cookieOff'+'set']['x'],_0x522cd6['_cookieOff'+'setUniform'][-0x4*-0x7fa+-0x968+-0x167f]=_0x522cd6['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x368557]['setValue'](_0x522cd6['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x18306e,_0x5a831e,_0x19b56f){let _0x559533=_0x19b56f;const _0xc269ce=this['device']['scope'],_0x465daf=_0x18306e[Pe],_0x23963b=_0x465daf['length'];for(let _0x12f91a=0xbd0+0x5*0x6d3+-0x2def;_0x12f91a<_0x23963b;_0x12f91a++){const _0x52dbd6=_0x465daf[_0x12f91a];_0x52dbd6['mask']&_0x5a831e&&(this['dispatchOm'+'niLight'](_0xc269ce,_0x52dbd6,_0x559533),_0x559533++);}const _0x1e0578=_0x18306e[Re],_0x5b5126=_0x1e0578['length'];for(let _0x40cb22=0x7cc*0x1+-0x1*-0x175+0x1*-0x941;_0x40cb22<_0x5b5126;_0x40cb22++){const _0xd45fed=_0x1e0578[_0x40cb22];_0xd45fed['mask']&_0x5a831e&&(this['dispatchSp'+'otLight'](_0xc269ce,_0xd45fed,_0x559533),_0x559533++);}}['renderForw'+'ardPrepare'+'Materials'](_0x5229fc,_0x12f5e9,_0x1a134e,_0x3aa636,_0x289d33,_0x4e00ca){const _0x5a6836=_0x5229fc['fog']??this['scene']['fog'],_0x5ba133=_0x5229fc['shaderPara'+'ms'];_0x5ba133['fog']=_0x5a6836['type'],_0x5ba133['srgbRender'+'Target']=(_0x12f5e9==null?void(0x24dd*0x1+0xb*0x1a9+-0x31*0x120):_0x12f5e9['isColorBuf'+'ferSrgb'](-0xe0f*-0x1+0x2*0x104b+-0x2ea5))??!(0x1523+-0x19dc+0x5*0xf2);const _0x496842=(_0x27737a,_0x10f027,_0x531e69,_0x17c714)=>{br['drawCalls']['push'](_0x27737a),br['shaderInst'+'ances']['push'](_0x10f027),br['isNewMater'+'ial']['push'](_0x531e69),br['lightMaskC'+'hanged']['push'](_0x17c714);};br['clear']();const _0x5c571a=this['device'],_0x265f19=this['scene'],_0x1bca28=_0x265f19['clusteredL'+'ightingEna'+'bled'],_0x3720d2=(_0x289d33==null?void(-0x1620+0x717*0x5+0xd53*-0x1):_0x289d33['getLightHa'+'sh'](_0x1bca28))??-0x80*-0x2c+0x1817+-0xf5d*0x3;let _0x334339=null,_0x5eb34d,_0x17e7d1;const _0x406685=_0x1a134e['length'];for(let _0x4b226b=-0x16*-0x167+0x1*0x19ce+0x94*-0x62;_0x4b226b<_0x406685;_0x4b226b++){const _0xfb882d=_0x1a134e[_0x4b226b];if(_0x5229fc===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x289d33){if(_0x289d33['_skipRende'+'rCounter']>=_0x289d33['skipRender'+'After'])continue;_0x289d33['_skipRende'+'rCounter']++;}_0xfb882d['ensureMate'+'rial'](_0x5c571a);const _0x1987f3=_0xfb882d['material'],_0x220784=_0xfb882d['_shaderDef'+'s'],_0x37f395=_0xfb882d['mask'];_0x1987f3&&_0x1987f3===_0x334339&&_0x220784!==_0x5eb34d&&(_0x334339=null),_0x1987f3!==_0x334339&&(this['_materialS'+'witches']++,_0x1987f3['_scene']=_0x265f19,_0x1987f3['dirty']&&(G['pushGpuMar'+'ker'](_0x5c571a,'Node:\x20'+_0xfb882d['node']['name']+(',\x20Material'+':\x20')+_0x1987f3['name']),_0x1987f3['updateUnif'+'orms'](_0x5c571a,_0x265f19),_0x1987f3['dirty']=!(-0x2035+0x23f9*-0x1+-0x5*-0xda3),G['popGpuMark'+'er'](_0x5c571a)));const _0x1c5ca9=_0xfb882d['getShaderI'+'nstance'](_0x4e00ca,_0x3720d2,_0x265f19,_0x5ba133,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x3aa636);_0x496842(_0xfb882d,_0x1c5ca9,_0x1987f3!==_0x334339,!_0x334339||_0x37f395!==_0x17e7d1),_0x334339=_0x1987f3,_0x5eb34d=_0x220784,_0x17e7d1=_0x37f395;}return br;}['renderForw'+'ardInterna'+'l'](_0xa7f3df,_0x4d696a,_0x39bd3a,_0x10ed69,_0x2ab990,_0x5f3d7d){const _0x279a8b=this['device'],_0x1b3f3f=this['scene'],_0x444256=-0x97c*-0x4+-0x97e+0x329*-0x9<<_0x10ed69,_0x3728e6=_0x5f3d7d?-(-0x1fee*0x1+0x95*0xd+0x185e):-0x1c84+-0x5cf+0x2254,_0x1191c8=_0x1b3f3f['clusteredL'+'ightingEna'+'bled'],_0x35161e=_0x4d696a['drawCalls']['length'];for(let _0x415750=-0x1e3+-0x66*-0x26+0x46b*-0x3;_0x415750<_0x35161e;_0x415750++){const _0xfb3fa1=_0x4d696a['drawCalls'][_0x415750],_0x57ab35=_0x4d696a['isNewMater'+'ial'][_0x415750],_0x16a2f9=_0x4d696a['lightMaskC'+'hanged'][_0x415750],_0x1e7ca2=_0x4d696a['shaderInst'+'ances'][_0x415750],_0x338e01=_0xfb3fa1['material'],_0x28f294=_0xfb3fa1['mask'];if(_0x57ab35){if(_0x279a8b['setShader'](_0x1e7ca2['shader'],!(0x9*0x53+0x12b*0x5+-0x8c1)),_0x338e01['setParamet'+'ers'](_0x279a8b),_0x16a2f9){const _0x2598c=this['dispatchDi'+'rectLights'](_0x39bd3a[oe],_0x28f294,_0xa7f3df);_0x1191c8||this['dispatchLo'+'calLights'](_0x39bd3a,_0x28f294,_0x2598c);}this['alphaTestI'+'d']['setValue'](_0x338e01['alphaTest']),_0x279a8b['setBlendSt'+'ate'](_0x338e01['blendState']),_0x279a8b['setDepthSt'+'ate'](_0x338e01['depthState']),_0x279a8b['setAlphaTo'+'Coverage'](_0x338e01['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x279a8b,'Node:\x20'+_0xfb3fa1['node']['name']+(',\x20Material'+':\x20')+_0x338e01['name']),this['setupCullM'+'ode'](_0xa7f3df['_cullFaces'],_0x3728e6,_0xfb3fa1);const _0x3f2dd5=_0xfb3fa1['stencilFro'+'nt']??_0x338e01['stencilFro'+'nt'],_0x5015d8=_0xfb3fa1['stencilBac'+'k']??_0x338e01['stencilBac'+'k'];_0x279a8b['setStencil'+'State'](_0x3f2dd5,_0x5015d8),_0xfb3fa1['setParamet'+'ers'](_0x279a8b,_0x444256),_0x279a8b['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0xfb3fa1['id']);const _0x45346d=_0xfb3fa1['mesh'];this['setVertexB'+'uffers'](_0x279a8b,_0x45346d),this['setMorphin'+'g'](_0x279a8b,_0xfb3fa1['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x279a8b,_0xfb3fa1),this['setupMeshU'+'niformBuff'+'ers'](_0x1e7ca2,_0xfb3fa1);const _0x832ca8=_0xfb3fa1['renderStyl'+'e'];if(_0x279a8b['setIndexBu'+'ffer'](_0x45346d['indexBuffe'+'r'][_0x832ca8]),_0x2ab990==null||_0x2ab990(_0xfb3fa1,_0x415750),_0xa7f3df['xr']&&_0xa7f3df['xr']['session']&&_0xa7f3df['xr']['views']['list']['length']){const _0x2a7822=_0xa7f3df['xr']['views'];for(let _0x1ce1c7=0x2434+0x5d1*-0x1+-0x1*0x1e63;_0x1ce1c7<_0x2a7822['list']['length'];_0x1ce1c7++){const _0x2e228b=_0x2a7822['list'][_0x1ce1c7];_0x279a8b['setViewpor'+'t'](_0x2e228b['viewport']['x'],_0x2e228b['viewport']['y'],_0x2e228b['viewport']['z'],_0x2e228b['viewport']['w']),this['projId']['setValue'](_0x2e228b['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x2e228b['projMat']['data']),this['viewId']['setValue'](_0x2e228b['viewOffMat']['data']),this['viewInvId']['setValue'](_0x2e228b['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x2e228b['viewMat3']['data']),this['viewProjId']['setValue'](_0x2e228b['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x2e228b['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x1ce1c7),_0x1ce1c7===-0x142a+0x1*-0x262f+0x27*0x17f?this['drawInstan'+'ce'](_0x279a8b,_0xfb3fa1,_0x45346d,_0x832ca8,!(0xf*0x15+-0x2521+0x23e6)):this['drawInstan'+'ce2'](_0x279a8b,_0xfb3fa1,_0x45346d,_0x832ca8),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x279a8b,_0xfb3fa1,_0x45346d,_0x832ca8,!(-0xca9+-0x240b*-0x1+-0x49*0x52)),this['_forwardDr'+'awCalls']++;_0x415750<_0x35161e-(-0x19dd+-0x2259+0x3c37)&&!_0x4d696a['isNewMater'+'ial'][_0x415750+(0x1*0x1f5b+-0xcc4+0x6*-0x319)]&&_0x338e01['setParamet'+'ers'](_0x279a8b,_0xfb3fa1['parameters']),G['popGpuMark'+'er'](_0x279a8b);}}['renderForw'+'ard'](_0x2d5977,_0x4d796c,_0x2a7519,_0x33394f,_0x373b94,_0x541bf7,_0x2cb428,_0x351309){const _0x241b91=ne(),_0x579272=this['renderForw'+'ardPrepare'+'Materials'](_0x2d5977,_0x4d796c,_0x2a7519,_0x33394f,_0x2cb428,_0x373b94);this['renderForw'+'ardInterna'+'l'](_0x2d5977,_0x579272,_0x33394f,_0x373b94,_0x541bf7,_0x351309),br['clear'](),this['_forwardTi'+'me']+=ne()-_0x241b91;}['renderForw'+'ardLayer'](_0x125231,_0x4288b6,_0x53edd3,_0x379ba1,_0x30299d,_0x46c378,_0x2f85a0={}){const {scene:_0xc6474a,device:_0x38adb8}=this,_0x5bff02=_0xc6474a['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x125231,_0x4288b6);let _0x57234a,_0x12bfc1;if(_0x53edd3){const _0x1eb39f=ne();_0x53edd3['sortVisibl'+'e'](_0x125231,_0x379ba1),this['_sortTime']+=ne()-_0x1eb39f;const _0x477a2d=_0x53edd3['getCulledI'+'nstances'](_0x125231);_0x57234a=_0x379ba1?_0x477a2d['transparen'+'t']:_0x477a2d['opaque'],_0xc6474a['immediate']['onPreRende'+'rLayer'](_0x53edd3,_0x57234a,_0x379ba1),_0x53edd3['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0xc6474a['ambientLig'+'ht'],_0x53edd3['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x12bfc1=_0x53edd3['splitLight'+'s'];}else _0x57234a=_0x2f85a0['meshInstan'+'ces'],_0x12bfc1=_0x2f85a0['splitLight'+'s']??OM;if(v['assert'](_0x57234a,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x5bff02){const _0x7e5a3e=_0x2f85a0['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x7e5a3e['activate'](),_0x53edd3&&!this['clustersDe'+'bugRendere'+'d']&&_0xc6474a['lighting']['debugLayer']===_0x53edd3['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0x96f+0x252a+-0x2e99*0x1),Vu['render'](_0x7e5a3e,this['scene']));}_0xc6474a['_activeCam'+'era']=_0x125231;const _0x121345=_0x125231['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x121345);const _0x29959f=this['setCameraU'+'niforms'](_0x125231,_0x4288b6);_0x38adb8['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x46c378,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x29959f);const _0x4bca36=_0x2f85a0['clearColor']??!(-0xd21+-0x8bd+0x15df),_0x27b745=_0x2f85a0['clearDepth']??!(-0x1119*0x1+0x196a+-0x10*0x85),_0x910943=_0x2f85a0['clearStenc'+'il']??!(-0x27*0xd0+0x1bf*0xc+0xabd);(_0x4bca36||_0x27b745||_0x910943)&&this['clear'](_0x125231,_0x4bca36,_0x27b745,_0x910943);const _0x286768=!!(_0x125231['_flipFaces']^(_0x4288b6==null?void(-0xa9c+0x3*0xc29+-0x19df):_0x4288b6['flipY'])),_0x838457=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x125231,_0x4288b6,_0x57234a,_0x12bfc1,_0x30299d,null,_0x53edd3,_0x286768),_0x53edd3&&(_0x53edd3['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x838457);}['setFogCons'+'tants'](_0x322e53){if(_0x322e53['type']!==Fa){$i['linear'](_0x322e53['color']);const _0x367c05=this['fogColor'];_0x367c05[-0x18c2+0x1ff8+0xd*-0x8e]=$i['r'],_0x367c05[-0x1aa7+-0x37e*0x2+0x21a4]=$i['g'],_0x367c05[-0x58a*0x7+0x1260+0x1468]=$i['b'],this['fogColorId']['setValue'](_0x367c05),_0x322e53['type']===zb?(this['fogStartId']['setValue'](_0x322e53['start']),this['fogEndId']['setValue'](_0x322e53['end'])):this['fogDensity'+'Id']['setValue'](_0x322e53['density']);}}['setSceneCo'+'nstants'](){const _0x2ece76=this['scene'];this['dispatchGl'+'obalLights'](_0x2ece76);const _0x5e7ca5=this['device'];this['_screenSiz'+'e'][0x11b3+0x3*-0x146+-0xde1*0x1]=_0x5e7ca5['width'],this['_screenSiz'+'e'][-0x1a5f+-0x2*-0x6b2+0xcfc]=_0x5e7ca5['height'],this['_screenSiz'+'e'][-0x26cd+0xc9*-0x3+0x292a]=(-0x417+0x3c8*-0x6+-0x1*-0x1ac8)/_0x5e7ca5['width'],this['_screenSiz'+'e'][-0xa80+-0x63b+0x2*0x85f]=(0x1*-0x16f9+0xfa1+-0x39*-0x21)/_0x5e7ca5['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x37a40f,_0x3c4307){const _0x2b8256=this['scene'];if(_0x37a40f['reset'](),_0x2b8256['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x2fdce8,cookiesEnabled:_0x12c68c}=_0x2b8256['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x37a40f,_0x2fdce8,_0x12c68c,this['lights'],this['localLight'+'s']),_0x37a40f['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x37a40f,this['localLight'+'s']);let _0x29491a=0x47*-0x87+0xc3a+0x1937,_0x40873e=!(-0x1*-0x13a9+-0x1785+0x3dc),_0x346d94=null;const _0x2fd83a=_0x3c4307['_renderAct'+'ions'];for(let _0x1207e1=_0x29491a;_0x1207e1<_0x2fd83a['length'];_0x1207e1++){const _0x1d31ad=_0x2fd83a[_0x1207e1],{layer:_0x8bf866,camera:_0x3e8961}=_0x1d31ad;if(_0x1d31ad['useCameraP'+'asses'])v['call'](()=>{_0x3e8961['postEffect'+'s']['effects']['length']>0xac0+-0x10de+-0x1b*-0x3a&&v['warnOnce']('Camera\x20\x27'+_0x3e8961['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x3e8961['camera']['renderPass'+'es']['forEach'](_0x1edd03=>{_0x37a40f['addRenderP'+'ass'](_0x1edd03);});else{const _0x55e583=_0x8bf866['id']===Xt,_0x22adcd=_0x55e583&&(_0x3e8961['renderScen'+'eColorMap']||_0x3e8961['renderScen'+'eDepthMap']);_0x40873e&&(_0x40873e=!(0x1f03*-0x1+-0x338+-0x1*-0x223c),_0x29491a=_0x1207e1,_0x346d94=_0x1d31ad['renderTarg'+'et']);const _0x125fcb=_0x2fd83a[_0x1207e1+(-0x1*0xb32+-0x12aa+0xb*0x2b7)],_0x24096a=(_0x125fcb?!_0x125fcb['useCameraP'+'asses']&&_0x125fcb['layer']['id']===Xt:!(-0x9*0xf8+0x7*0x1b5+-0x2*0x19d))&&(_0x3e8961['renderScen'+'eColorMap']||_0x3e8961['renderScen'+'eDepthMap']),_0x13ace6=_0x125fcb?_0x125fcb['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x125fcb['camera']['camera']):!(-0x216*0x8+-0xd*0x19f+0x25c4);if(!_0x125fcb||_0x125fcb['renderTarg'+'et']!==_0x346d94||_0x13ace6||_0x24096a||_0x22adcd){if(_0x55e583&&_0x29491a===_0x1207e1||this['addMainRen'+'derPass'](_0x37a40f,_0x3c4307,_0x346d94,_0x29491a,_0x1207e1),_0x55e583){if(_0x3e8961['renderScen'+'eColorMap']){const _0x15abd3=_0x3e8961['camera']['renderPass'+'ColorGrab'];_0x15abd3['source']=_0x3e8961['renderTarg'+'et'],_0x37a40f['addRenderP'+'ass'](_0x15abd3);}_0x3e8961['renderScen'+'eDepthMap']&&_0x37a40f['addRenderP'+'ass'](_0x3e8961['camera']['renderPass'+'DepthGrab']);}if(_0x1d31ad['triggerPos'+'tprocess']&&(_0x3e8961!=null&&_0x3e8961['onPostproc'+'essing'])){const _0x4db2ce=new FM(this['device'],this,_0x1d31ad);_0x37a40f['addRenderP'+'ass'](_0x4db2ce);}_0x40873e=!(0xa2c+0x1b3c+0x6*-0x63c);}}}}['addMainRen'+'derPass'](_0x1e5ade,_0x4ea7c7,_0x31008a,_0x5e700a,_0x119bed){const _0x368c5e=new LM(this['device'],_0x4ea7c7,this['scene'],this);_0x368c5e['init'](_0x31008a);const _0x20fc23=_0x4ea7c7['_renderAct'+'ions'];for(let _0x1cbb5d=_0x5e700a;_0x1cbb5d<=_0x119bed;_0x1cbb5d++)_0x368c5e['addRenderA'+'ction'](_0x20fc23[_0x1cbb5d]);_0x1e5ade['addRenderP'+'ass'](_0x368c5e);}['update'](_0x48712a){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x48712a),this['collectLig'+'hts'](_0x48712a),this['beginFrame'](_0x48712a),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x48712a),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',-0x10c6+0x1ffe+-0xf38),c(_i,'skipRender'+'After',-0x2142+-0x1027+-0x1*-0x3169);let Gh=_i,zd=-0xedd+0x1ed0+-0xff3;const ja=[],Ol=new Set();function NM(_0x27ae4e,_0x2c30d4){return _0x27ae4e['drawOrder']-_0x2c30d4['drawOrder'];}function zM(_0x13ac8a,_0x2e0fea){const _0x210915=_0x13ac8a['_key'][Ei],_0x5861ab=_0x2e0fea['_key'][Ei];return _0x210915===_0x5861ab&&_0x13ac8a['mesh']&&_0x2e0fea['mesh']?_0x2e0fea['mesh']['id']-_0x13ac8a['mesh']['id']:_0x5861ab-_0x210915;}function UM(_0x54250a,_0x205dd4){return _0x205dd4['zdist']-_0x54250a['zdist'];}function VM(_0x3d8006,_0x35a0d1){return _0x3d8006['zdist']-_0x35a0d1['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x2a8ece={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(0x1*-0x225+-0x1f*0x2+-0x1*-0x263)),c(this,'requiresLi'+'ghtCube',!(-0x1a1+0x12d3+0x5bb*-0x3)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0xf4*0xa+-0x7c9*-0x5+-0x1d64)),(_0x2a8ece['id']!==void(0x206c+-0x281*0x5+-0x13e7)?(this['id']=_0x2a8ece['id'],zd=Math['max'](this['id']+(0x3*0xc4+-0xa0b+0x7c0),zd)):this['id']=zd++,this['name']=_0x2a8ece['name'],this['_enabled']=_0x2a8ece['enabled']??!(-0x9*0x1bb+-0x1*-0x1e31+-0xe9e),this['_refCounte'+'r']=this['_enabled']?-0x1*0x1084+0x2*0x44b+0x7ef:-0x2404*-0x1+-0x14eb+-0xf19,this['opaqueSort'+'Mode']=_0x2a8ece['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x2a8ece['transparen'+'tSortMode']??Bm,_0x2a8ece['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x2a8ece['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x2a8ece['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x2a8ece['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x2a8ece['clearStenc'+'ilBuffer'],this['onEnable']=_0x2a8ece['onEnable'],this['onDisable']=_0x2a8ece['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x78b+-0x1d66+0x15db,this['_lightHash'+'Dirty']=!(-0x95b*0x2+0x40*0x5c+0x1*-0x449),this['_lightIdHa'+'sh']=0x1035+0x11*0xd7+-0x1e7c,this['_lightIdHa'+'shDirty']=!(-0x1d59+-0x1581+0x2f*0x115),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x99f+-0x1*-0xacf+-0x2*0x98,this['_renderTim'+'e']=0x45*-0x5b+-0x18a5+0xc4b*0x4,this['_forwardDr'+'awCalls']=-0x2175+-0x2*-0x981+0xe73,this['_shadowDra'+'wCalls']=-0x2*-0x1c1+-0x3*0x489+0xa19*0x1,this['_shaderVer'+'sion']=-(-0x1cac*-0x1+-0x2405*-0x1+-0xe6*0x48));}set['enabled'](_0x3fc7ea){_0x3fc7ea!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x91*0x3a+0x6db+-0x27b5),this['_enabled']=_0x3fc7ea,_0x3fc7ea?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x4820be){this['_clearColo'+'rBuffer']=_0x4820be,this['_dirtyComp'+'osition']=!(-0xe5*0x19+-0x2bf*0x1+0x191c);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x2d6649){this['_clearDept'+'hBuffer']=_0x2d6649,this['_dirtyComp'+'osition']=!(-0x1a8a+-0x1539+0x2fc3);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x40f359){this['_clearSten'+'cilBuffer']=_0x40f359,this['_dirtyComp'+'osition']=!(0x1*-0x212f+-0x1d0b*0x1+0x2d*0x162);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x1c35+0xf98+0xc9d*0x1;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x1280+-0x1c9a+-0x2f1a*-0x1&&(this['_enabled']=!(-0x1446+0xe2*0x6+0xefa),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x1*-0x1d4+0x18f0+-0x171b)this['_enabled']=!(0x4*-0x153+-0x1a51+0x1f9e),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x43*0x21+-0x21*-0xf9+-0x28bc){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x17d1ef,_0xae832f){const _0x1c3e78=this['meshInstan'+'ces'],_0x588707=this['meshInstan'+'cesSet'];for(let _0x2ab9ec=0x45d+0xe5*0x29+-0x290a;_0x2ab9ec<_0x17d1ef['length'];_0x2ab9ec++){const _0x20340b=_0x17d1ef[_0x2ab9ec];_0x588707['has'](_0x20340b)||(_0x1c3e78['push'](_0x20340b),_0x588707['add'](_0x20340b),Ol['add'](_0x20340b['material']));}if(_0xae832f||this['addShadowC'+'asters'](_0x17d1ef),Ol['size']>-0x1e2+0xdf+0x103){const _0x4eb716=this['_shaderVer'+'sion'];Ol['forEach'](_0x27430a=>{_0x4eb716>=-0x2159*-0x1+0x146a*0x1+0x35c3*-0x1&&_0x27430a['_shaderVer'+'sion']!==_0x4eb716&&(_0x27430a['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x27430a['clearVaria'+'nts'](),_0x27430a['_shaderVer'+'sion']=_0x4eb716);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x5e964d,_0x4c205){const _0xacced0=this['meshInstan'+'ces'],_0x5624cd=this['meshInstan'+'cesSet'];for(let _0x3aa349=-0x25b9+-0x2*-0xd4b+-0xb23*-0x1;_0x3aa349<_0x5e964d['length'];_0x3aa349++){const _0x43dc69=_0x5e964d[_0x3aa349];if(_0x5624cd['has'](_0x43dc69)){_0x5624cd['delete'](_0x43dc69);const _0x16d87d=_0xacced0['indexOf'](_0x43dc69);_0x16d87d>=0x12a0+0xf54+-0x21f4&&_0xacced0['splice'](_0x16d87d,0x36f*-0xb+-0x1145*0x1+0x370b);}}_0x4c205||this['removeShad'+'owCasters'](_0x5e964d);}['addShadowC'+'asters'](_0x3fb9f4){const _0x2772ec=this['shadowCast'+'ers'],_0x53b2dd=this['shadowCast'+'ersSet'];for(let _0x3dd81f=0x22eb+0x268*-0x3+-0x1bb3;_0x3dd81f<_0x3fb9f4['length'];_0x3dd81f++){const _0x42ec1f=_0x3fb9f4[_0x3dd81f];_0x42ec1f['castShadow']&&!_0x53b2dd['has'](_0x42ec1f)&&(_0x53b2dd['add'](_0x42ec1f),_0x2772ec['push'](_0x42ec1f));}}['removeShad'+'owCasters'](_0x312997){const _0x33abae=this['shadowCast'+'ers'],_0x2ba215=this['shadowCast'+'ersSet'];for(let _0x306744=0x2*-0xee5+0x1f09+-0x13f;_0x306744<_0x312997['length'];_0x306744++){const _0x2d880c=_0x312997[_0x306744];if(_0x2ba215['has'](_0x2d880c)){_0x2ba215['delete'](_0x2d880c);const _0x54e30a=_0x33abae['indexOf'](_0x2d880c);_0x54e30a>=-0x11b*0x1f+-0x1*-0x1c69+0x32*0x1e&&_0x33abae['splice'](_0x54e30a,0x1a05+-0x29b*0xe+0xa76);}}}['clearMeshI'+'nstances'](_0xc1f51c=!(-0x247+-0x101+-0x349*-0x1)){this['meshInstan'+'ces']['length']=-0x1d0f+0x935*-0x2+-0x1*-0x2f79,this['meshInstan'+'cesSet']['clear'](),_0xc1f51c||(this['shadowCast'+'ers']['length']=-0x2552+-0x1*0x1165+0x36b7,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x9bf+-0x44*0x92+0x3087),this['_lightIdHa'+'shDirty']=!(0x61*0x3e+-0x24af+0xd31),this['_splitLigh'+'tsDirty']=!(-0x92*-0x32+0x1b67+-0x37eb);}['hasLight'](_0x50ba7f){return this['_lightsSet']['has'](_0x50ba7f);}['addLight'](_0x553965){const _0x331265=_0x553965['light'];this['_lightsSet']['has'](_0x331265)||(this['_lightsSet']['add'](_0x331265),this['_lights']['push'](_0x331265),this['markLights'+'Dirty']()),_0x331265['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x331265);}['removeLigh'+'t'](_0x2a4fc9){const _0x2ccb7a=_0x2a4fc9['light'];this['_lightsSet']['has'](_0x2ccb7a)&&(this['_lightsSet']['delete'](_0x2ccb7a),this['_lights']['splice'](this['_lights']['indexOf'](_0x2ccb7a),0x19*0x73+-0x1108+0x5ce*0x1),this['markLights'+'Dirty']()),_0x2ccb7a['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x2ccb7a);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x4792dd=>_0x4792dd['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x5*-0x1eb+0x1d05+-0x269c,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x1d*-0x133+0x1*-0xb11+-0x17b5);const _0x126f62=this['_splitLigh'+'ts'];for(let _0x1b1719=0x1*0x1a93+-0x15a6+-0x4ed;_0x1b1719<_0x126f62['length'];_0x1b1719++)_0x126f62[_0x1b1719]['length']=-0x3a*0x95+0x192+0x2030;const _0x3355e1=this['_lights'];for(let _0x4e9d1c=0x1178+-0x1b8e+0x50b*0x2;_0x4e9d1c<_0x3355e1['length'];_0x4e9d1c++){const _0x597224=_0x3355e1[_0x4e9d1c];_0x597224['enabled']&&_0x126f62[_0x597224['_type']]['push'](_0x597224);}for(let _0x7e2675=0x224*-0xd+0x9*0x3a9+-0x7*0xbb;_0x7e2675<_0x126f62['length'];_0x7e2675++)_0x126f62[_0x7e2675]['sort']((_0x4e3c8f,_0xd850a3)=>_0x4e3c8f['key']-_0xd850a3['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x1e4164,_0x3f6923,_0xc57735){let _0x3e8bf6=-0x1cce+0x7*-0x53e+0x4180;const _0x430d21=this['_lights'];for(let _0x58b7f0=-0x100a+-0x2*-0xe48+0x2*-0x643;_0x58b7f0<_0x430d21['length'];_0x58b7f0++){const _0x23cf59=_0x430d21[_0x58b7f0]['type']!==oe;(_0x1e4164&&_0x23cf59||_0x3f6923&&!_0x23cf59)&&ja['push'](_0xc57735?_0x430d21[_0x58b7f0]['id']:_0x430d21[_0x58b7f0]['key']);}return ja['length']>0x265e+-0x1*0x1c10+-0xa4e&&(ja['sort'](),_0x3e8bf6=Zy(ja),ja['length']=0x1e*-0xc1+-0xe1*0x29+0x3aa7),_0x3e8bf6;}['getLightHa'+'sh'](_0x31ed14){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x2b*0xcd+-0x39+-0x13*-0x1d3),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x31ed14,!(0x1*0x2559+0xd0d+-0x3266),!(-0xf6e+-0x1f7a+-0x1*-0x2ee9))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x25*0x4f+-0x19*-0x14f+-0x154b),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x5*0x2a1+0x11d7*0x1+-0x4b2),!(0x2235*0x1+0x148*0x1d+-0x475c),!(0x3ca+0x249f*0x1+-0x2869))),this['_lightIdHa'+'sh'];}['addCamera'](_0x131267){this['camerasSet']['has'](_0x131267['camera'])||(this['camerasSet']['add'](_0x131267['camera']),this['cameras']['push'](_0x131267),this['_dirtyComp'+'osition']=!(0x1e5a+-0x15f9+-0x861));}['removeCame'+'ra'](_0x2808b1){if(this['camerasSet']['has'](_0x2808b1['camera'])){this['camerasSet']['delete'](_0x2808b1['camera']);const _0x59724f=this['cameras']['indexOf'](_0x2808b1);this['cameras']['splice'](_0x59724f,-0x314+-0x790+0xaa5),this['_dirtyComp'+'osition']=!(0x635*0x1+0x1489*0x1+-0x1abe);}}['clearCamer'+'as'](){this['cameras']['length']=-0x119*-0x13+-0x1de3+-0x242*-0x4,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x1*0x1d5+-0x3*0x99e+-0x1b05*-0x1);}['_calculate'+'SortDistan'+'ces'](_0x4b4ae8,_0x179788,_0x5a558c,_0x469042){for(let _0x42dc82=-0x132e+0x25bc+-0x128e;_0x42dc82<_0x179788;_0x42dc82++){const _0x3ac992=_0x4b4ae8[_0x42dc82];if(_0x3ac992['layer']<=Vb)continue;if(_0x3ac992['calculateS'+'ortDistanc'+'e']){_0x3ac992['zdist']=_0x3ac992['calculateS'+'ortDistanc'+'e'](_0x3ac992,_0x5a558c,_0x469042);continue;}const _0x3fa155=_0x3ac992['aabb']['center'],_0x4ef29e=_0x3fa155['x']-_0x5a558c['x'],_0x5b0578=_0x3fa155['y']-_0x5a558c['y'],_0x17bd4e=_0x3fa155['z']-_0x5a558c['z'];_0x3ac992['zdist']=_0x4ef29e*_0x469042['x']+_0x5b0578*_0x469042['y']+_0x17bd4e*_0x469042['z'];}}['getCulledI'+'nstances'](_0x448c5c){let _0x211407=this['_visibleIn'+'stances']['get'](_0x448c5c);return _0x211407||(_0x211407=new HM(),this['_visibleIn'+'stances']['set'](_0x448c5c,_0x211407)),_0x211407;}['sortVisibl'+'e'](_0x3c4b18,_0x570f9d){const _0x351f09=_0x570f9d?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x351f09===dh)return;const _0x21ab7b=this['getCulledI'+'nstances'](_0x3c4b18),_0x522bf7=_0x570f9d?_0x21ab7b['transparen'+'t']:_0x21ab7b['opaque'],_0x575271=_0x3c4b18['node'];if(_0x351f09===ew){const _0x564add=_0x575271['getPositio'+'n'](),_0x22e705=_0x575271['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x522bf7,_0x522bf7['length'],_0x564add,_0x22e705),this['customSort'+'Callback']&&_0x522bf7['sort'](this['customSort'+'Callback']);}else{if(_0x351f09===Bm||_0x351f09===Jb){const _0x5231bc=_0x575271['getPositio'+'n'](),_0x2bbd93=_0x575271['forward'];this['_calculate'+'SortDistan'+'ces'](_0x522bf7,_0x522bf7['length'],_0x5231bc,_0x2bbd93);}_0x522bf7['sort'](GM[_0x351f09]);}}}const WM=(_0x9571a2,_0x4452a0)=>_0x9571a2['priority']-_0x4452a0['priority'],No=_0x586a2c=>_0x586a2c['sort'](WM);class S_ extends ce{constructor(_0xb60f48='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(-0x134b*0x2+0x1a5c+-0x1*-0xc3b)),(this['name']=_0xb60f48,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x457f60=>_0x457f60['destroy']()),this['_renderAct'+'ions']['length']=0x39e*0x3+0x2581*0x1+0x305b*-0x1;}['_update'](){const _0x5a03c3=this['layerList']['length'];if(!this['_dirty']){for(let _0x5c7737=-0x1*-0x1b29+-0x1*-0x2f1+-0x1e1a;_0x5c7737<_0x5a03c3;_0x5c7737++)if(this['layerList'][_0x5c7737]['_dirtyComp'+'osition']){this['_dirty']=!(-0x1762+0x330+0x1432);break;}}if(this['_dirty']){this['_dirty']=!(-0x17e2+0xf48+0x89b),this['cameras']['length']=-0x22f2+-0x4ac+0x279e;for(let _0x844788=0x1e*0x57+-0x1fd0*0x1+-0x2*-0xacf;_0x844788<_0x5a03c3;_0x844788++){const _0x5ee472=this['layerList'][_0x844788];_0x5ee472['_dirtyComp'+'osition']=!(0x7*-0x216+-0x1*-0x14b1+-0x616);for(let _0x406260=0x16b0+-0x2063+-0xbf*-0xd;_0x406260<_0x5ee472['cameras']['length'];_0x406260++){const _0x72aa16=_0x5ee472['cameras'][_0x406260];this['cameras']['indexOf'](_0x72aa16)<0x2b*-0x6a+-0x2026+0x31f4&&this['cameras']['push'](_0x72aa16);}}this['cameras']['length']>-0x1fd*0xb+-0xdd6+0x23b6&&No(this['cameras']);let _0x1ad037=0xf27+-0x224a+0x1323;this['destroyRen'+'derActions']();for(let _0x28ca71=-0x2187+-0x1cef+0x3e76;_0x28ca71<this['cameras']['length'];_0x28ca71++){const _0x5ac0f2=this['cameras'][_0x28ca71];if(_0x5ac0f2['camera']['renderPass'+'es']['length']>0xd2c+0xf19*-0x2+0x883*0x2){this['addDummyRe'+'nderAction'](_0x1ad037,_0x5ac0f2),_0x1ad037++;continue;}let _0x1efd80=!(0x1408+0x3*0x237+-0x1aad);const _0x221263=_0x1ad037;let _0x5e7cee=null,_0x48ca32=!(-0x1f7*-0x8+0x38a*0x3+-0x1a55);for(let _0x306b66=0x6a0+0x16*0x151+-0x2396;_0x306b66<_0x5a03c3;_0x306b66++){const _0x109898=this['layerList'][_0x306b66];if(_0x109898['enabled']&&this['subLayerEn'+'abled'][_0x306b66]&&_0x109898['cameras']['length']>-0x3*-0x46d+-0x1*0xb01+-0x246&&_0x5ac0f2['layers']['indexOf'](_0x109898['id'])>=0x10dc+0x9fc+-0x8*0x35b){!_0x48ca32&&_0x109898['id']===_0x5ac0f2['disablePos'+'tEffectsLa'+'yer']&&(_0x48ca32=!(0x1d8c+-0x1*-0x26ef+-0x447b),_0x5e7cee&&(_0x5e7cee['triggerPos'+'tprocess']=!(0xa2*0x11+0x1e49+-0x13*0x229)));const _0x51ec69=this['subLayerLi'+'st'][_0x306b66];_0x5e7cee=this['addRenderA'+'ction'](_0x1ad037,_0x109898,_0x51ec69,_0x5ac0f2,_0x1efd80,_0x48ca32),_0x1ad037++,_0x1efd80=!(-0x1392+-0x33c*0x1+0x16cf);}}_0x221263<_0x1ad037&&(_0x5e7cee['lastCamera'+'Use']=!(-0x2f1*-0x5+-0xef3+0x1*0x3e)),!_0x48ca32&&_0x5e7cee&&(_0x5e7cee['triggerPos'+'tprocess']=!(-0xa4d+0x150c+-0xabf)),_0x5ac0f2['renderTarg'+'et']&&_0x5ac0f2['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x221263-(-0x148a+-0x2*-0x312+0xe67),_0x5ac0f2);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x41fa43){v['assert'](this['_renderAct'+'ions']['length']===_0x41fa43);const _0x57fd51=new D0();return this['_renderAct'+'ions']['push'](_0x57fd51),_0x57fd51;}['addDummyRe'+'nderAction'](_0x3b5fa0,_0x32726e){const _0x996607=this['getNextRen'+'derAction'](_0x3b5fa0);_0x996607['camera']=_0x32726e,_0x996607['useCameraP'+'asses']=!(-0x46f*0x1+0x1*0x1c4c+-0x95*0x29);}['addRenderA'+'ction'](_0x4ed9ba,_0x248b99,_0x5ddb60,_0x1129ed,_0x21edd8,_0x2df3af){let _0x30ff0f=_0x248b99['id']!==Xt?_0x1129ed['renderTarg'+'et']:null,_0x404aaf=!(-0x1ae3+0x194f+0x1b*0xf);const _0x388c21=this['_renderAct'+'ions'];for(let _0x3c8086=_0x4ed9ba-(0xc27+-0xd*0xa3+-0x3df);_0x3c8086>=-0x2*-0xba3+0xc0a+-0x2350;_0x3c8086--)if(_0x388c21[_0x3c8086]['camera']===_0x1129ed&&_0x388c21[_0x3c8086]['renderTarg'+'et']===_0x30ff0f){_0x404aaf=!(-0xae6+-0x1bd8+-0x3*-0xcea);break;}_0x2df3af&&_0x1129ed['postEffect'+'sEnabled']&&(_0x30ff0f=null);const _0x49479a=this['getNextRen'+'derAction'](_0x4ed9ba);_0x49479a['triggerPos'+'tprocess']=!(-0x72f*0x1+0x1*-0xad2+0x1202),_0x49479a['layer']=_0x248b99,_0x49479a['transparen'+'t']=_0x5ddb60,_0x49479a['camera']=_0x1129ed,_0x49479a['renderTarg'+'et']=_0x30ff0f,_0x49479a['firstCamer'+'aUse']=_0x21edd8,_0x49479a['lastCamera'+'Use']=!(0x22a3+-0xb*-0x19e+-0x346c);const _0x1a1b66=_0x21edd8||!_0x404aaf,_0x72c905=_0x248b99['clearColor'+'Buffer']||_0x248b99['clearDepth'+'Buffer']||_0x248b99['clearStenc'+'ilBuffer'];return(_0x1a1b66||_0x72c905)&&_0x49479a['setupClear'+'s'](_0x1a1b66?_0x1129ed:void(-0x73*-0xd+0x26b7*0x1+-0x2c8e),_0x248b99),_0x49479a;}['propagateR'+'enderTarge'+'t'](_0x90df53,_0x47ab7b){for(let _0x3b0235=_0x90df53;_0x3b0235>=-0x11*0x19+-0x5f6+-0x1*-0x79f;_0x3b0235--){const _0x59a38d=this['_renderAct'+'ions'][_0x3b0235],_0xd16bb2=_0x59a38d['layer'];if(_0x59a38d['renderTarg'+'et']&&_0xd16bb2['id']!==Xt)break;if(_0xd16bb2['id']===Xt)continue;if(_0x59a38d['useCameraP'+'asses'])break;const _0x2a2766=_0x59a38d==null?void(-0xafa*-0x1+0x110a*0x1+0xa3*-0x2c):_0x59a38d['camera']['camera'];if(_0x2a2766&&(!_0x47ab7b['camera']['rect']['equals'](_0x2a2766['rect'])||!_0x47ab7b['camera']['scissorRec'+'t']['equals'](_0x2a2766['scissorRec'+'t'])))break;_0x59a38d['renderTarg'+'et']=_0x47ab7b['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x36eec1=-0x342+0x66a+-0x328;_0x36eec1<this['_renderAct'+'ions']['length'];_0x36eec1++){const _0x1bf9c4=this['_renderAct'+'ions'][_0x36eec1],_0x2e1373=_0x1bf9c4['camera'];if(_0x1bf9c4['useCameraP'+'asses'])v['trace'](pl,_0x36eec1+('CustomPass'+'es\x20Cam:\x20')+(_0x2e1373?_0x2e1373['entity']['name']:'-'));else{const _0x3504de=_0x1bf9c4['layer'],_0x1909c1=_0x3504de['enabled']&&this['isEnabled'](_0x3504de,_0x1bf9c4['transparen'+'t']),_0x5325c4=(_0x1bf9c4['clearColor']?'Color\x20':'.....\x20')+(_0x1bf9c4['clearDepth']?'Depth\x20':'.....\x20')+(_0x1bf9c4['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x36eec1+('\x20Cam:\x20'+(_0x2e1373?_0x2e1373['entity']['name']:'-'))['padEnd'](-0x8d*-0x3+-0x41*0x23+0x3a9*0x2,'\x20')+('\x20Lay:\x20'+_0x3504de['name'])['padEnd'](-0x142*-0x4+0xc6e*0x2+-0x1dce,'\x20')+(_0x1bf9c4['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x1909c1?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x1bf9c4['renderTarg'+'et']?_0x1bf9c4['renderTarg'+'et']['name']:'-'))['padEnd'](0x1211*-0x1+-0x237d+0x35ac,'\x20')+'\x20Clear:\x20'+_0x5325c4+(_0x1bf9c4['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x1bf9c4['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x1bf9c4['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x53a893){const _0x33cce5=this['layerIdMap']['get'](_0x53a893['id'])===_0x53a893;return v['assert'](!_0x33cce5,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x53a893['name']),_0x33cce5;}['_isSublaye'+'rAdded'](_0xe169c8,_0x2495a0){return(_0x2495a0?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0xe169c8)!==void(0x1*0x1b13+-0x21e*-0x5+-0x25a9)?(v['error']('Sublayer\x20'+_0xe169c8['name']+(',\x20transpar'+'ent:\x20')+_0x2495a0+('\x20is\x20alread'+'y\x20added.')),!(0x7e4*0x4+0x1747+-0x1*0x36d7)):!(0xdaf+0x1150+-0x1efe);}['push'](_0x1199c9){this['_isLayerAd'+'ded'](_0x1199c9)||(this['layerList']['push'](_0x1199c9),this['layerList']['push'](_0x1199c9),this['_opaqueOrd'+'er'][_0x1199c9['id']]=this['subLayerLi'+'st']['push'](!(0x1d70*0x1+-0x5*-0x7a5+0x2*-0x21d4))-(0xaef*-0x1+-0x1637+-0x3af*-0x9),this['_transpare'+'ntOrder'][_0x1199c9['id']]=this['subLayerLi'+'st']['push'](!(0x1*-0x815+0x3*-0x17+0x85a*0x1))-(-0xe19+-0x1*-0x1088+0x2*-0x137),this['subLayerEn'+'abled']['push'](!(0x2417+0x4*-0x42b+-0x3*0x679)),this['subLayerEn'+'abled']['push'](!(0xf0d*-0x1+-0x374+0x1281)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1a47+-0x1d8f+0x37d6),this['fire']('add',_0x1199c9));}['insert'](_0x2e5e83,_0x1002db){if(this['_isLayerAd'+'ded'](_0x2e5e83))return;this['layerList']['splice'](_0x1002db,0x837+0xc13*-0x2+0xfef,_0x2e5e83,_0x2e5e83),this['subLayerLi'+'st']['splice'](_0x1002db,0x3*0x16d+-0xdd4*0x1+-0x98d*-0x1,!(-0xcb9*-0x3+0x21e3+0x7*-0xa4b),!(0x207+-0x9c*-0x1f+0x165*-0xf));const _0x5a3a95=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x1002db,_0x5a3a95-(0x167*0x11+0x7*0x269+0x28b5*-0x1)),this['_updateTra'+'nsparentOr'+'der'](_0x1002db,_0x5a3a95-(-0xf91*0x2+-0x2665*-0x1+-0x742)),this['subLayerEn'+'abled']['splice'](_0x1002db,0x223*-0x3+0x1faa+0x86b*-0x3,!(0x1120+0x960+-0x1a80),!(0xb2*-0x7+0x31b+0x1c3)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x3*-0x764+0x2268+-0x3894),this['fire']('add',_0x2e5e83);}['remove'](_0x191894){let _0xf6d447=this['layerList']['indexOf'](_0x191894);for(delete this['_opaqueOrd'+'er'][_0xf6d447],delete this['_transpare'+'ntOrder'][_0xf6d447];_0xf6d447>=-0x698+0x1e8d+-0x17f5;)this['layerList']['splice'](_0xf6d447,-0x1c0e+-0x1205*0x2+0x3d*0x10d),this['subLayerLi'+'st']['splice'](_0xf6d447,-0x2d0+-0x4dd*-0x4+-0x10a3),this['subLayerEn'+'abled']['splice'](_0xf6d447,0x5*-0x427+0x212d+-0xc69),_0xf6d447=this['layerList']['indexOf'](_0x191894),this['_dirty']=!(-0x26fb+0x1dd*-0x7+0x3406*0x1),this['fire']('remove',_0x191894);const _0x15f03b=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x1571+0x1f80+-0x34f1*0x1,_0x15f03b-(0x122b+0x139e+-0x25c8)),this['_updateTra'+'nsparentOr'+'der'](-0x16af+-0xa*-0x36d+-0xb93,_0x15f03b-(-0xc*0xce+-0xeda*0x1+-0x4e7*-0x5)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x4f270c){this['_isSublaye'+'rAdded'](_0x4f270c,!(-0x2*-0xf6a+0x2f2*-0x6+0xd*-0x103))||(this['layerList']['push'](_0x4f270c),this['_opaqueOrd'+'er'][_0x4f270c['id']]=this['subLayerLi'+'st']['push'](!(0x18*0x17e+-0x1*0x1f2b+-0x2c*0x1b))-(-0xba*-0x11+-0x1*-0x1e17+-0x2a7*0x10),this['subLayerEn'+'abled']['push'](!(0x13*0x90+0x5*0x512+-0x7*0x526)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1*-0x187+-0x1283+-0x4*-0x43f),this['fire']('add',_0x4f270c));}['insertOpaq'+'ue'](_0xedd3dc,_0x17a45f){if(this['_isSublaye'+'rAdded'](_0xedd3dc,!(-0x2*-0xf21+0x819+-0x2*0x132d)))return;this['layerList']['splice'](_0x17a45f,0x600+0x1ad8+-0x20d8,_0xedd3dc),this['subLayerLi'+'st']['splice'](_0x17a45f,-0x261c+-0x1deb+-0x1*-0x4407,!(0x25fa+0x97*-0x7+-0x21d8));const _0x173a0e=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x17a45f,_0x173a0e-(0x1c44+0x2016+-0x3c59)),this['subLayerEn'+'abled']['splice'](_0x17a45f,0x19f2+0x186+0x8*-0x36f,!(-0x72*0x2+-0x14a3+0x1587)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x2302+-0xb39*0x1+0x2e3b),this['fire']('add',_0xedd3dc);}['removeOpaq'+'ue'](_0x4bebac){for(let _0x14e5b3=-0x81a+-0x151a+0xc*0x26f,_0x517643=this['layerList']['length'];_0x14e5b3<_0x517643;_0x14e5b3++)if(this['layerList'][_0x14e5b3]===_0x4bebac&&!this['subLayerLi'+'st'][_0x14e5b3]){this['layerList']['splice'](_0x14e5b3,-0x2621+-0xf3d+0x355f),this['subLayerLi'+'st']['splice'](_0x14e5b3,-0xe9a+-0x1*-0x115d+-0x2c2*0x1),_0x517643--,this['_updateOpa'+'queOrder'](_0x14e5b3,_0x517643-(-0x2016+0x1*-0xac0+-0x1*-0x2ad7)),this['subLayerEn'+'abled']['splice'](_0x14e5b3,0x347*0x7+0x235d+-0x3e3*0xf),this['_dirty']=!(-0x9db+-0xa2+0x3*0x37f),this['layerList']['indexOf'](_0x4bebac)<-0x10b7*-0x1+-0xbcd+-0x22*0x25&&this['fire']('remove',_0x4bebac);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x278523){this['_isSublaye'+'rAdded'](_0x278523,!(-0x1add+-0x197e*0x1+-0xd*-0x407))||(this['layerList']['push'](_0x278523),this['_transpare'+'ntOrder'][_0x278523['id']]=this['subLayerLi'+'st']['push'](!(0x637*0x1+0x217c+-0x27b3*0x1))-(0x1*0x1eed+-0x33*0x11+-0x1b89),this['subLayerEn'+'abled']['push'](!(0xd*-0x1ee+0x167+0x17af)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x5*-0x6c2+0x126a+-0xf60*-0x1),this['fire']('add',_0x278523));}['insertTran'+'sparent'](_0x422041,_0x5c3610){if(this['_isSublaye'+'rAdded'](_0x422041,!(0x26*0xb2+-0x3d7+-0x1695*0x1)))return;this['layerList']['splice'](_0x5c3610,-0x38b+0x731*0x4+-0x1*0x1939,_0x422041),this['subLayerLi'+'st']['splice'](_0x5c3610,0x7*-0x2c5+0x2257+-0xef4,!(-0x13*0x1d7+-0x3*0x91d+-0xc*-0x531));const _0x228a16=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x5c3610,_0x228a16-(0x25*-0xcc+0x11e7*0x1+0xb96)),this['subLayerEn'+'abled']['splice'](_0x5c3610,-0x3*0xa7+-0x202*-0x4+0x1*-0x613,!(0x21d3+-0xa3f+-0x3ee*0x6)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1b44+0x1cd*-0x3+-0x1*0x15dd),this['fire']('add',_0x422041);}['removeTran'+'sparent'](_0x9cad71){for(let _0x39fd60=-0xf86+0x1c68+-0x1*0xce2,_0x42a6e3=this['layerList']['length'];_0x39fd60<_0x42a6e3;_0x39fd60++)if(this['layerList'][_0x39fd60]===_0x9cad71&&this['subLayerLi'+'st'][_0x39fd60]){this['layerList']['splice'](_0x39fd60,0x1acc*-0x1+0x3af*-0x6+-0x27*-0x141),this['subLayerLi'+'st']['splice'](_0x39fd60,-0x1983+0x1208+0x2*0x3be),_0x42a6e3--,this['_updateTra'+'nsparentOr'+'der'](_0x39fd60,_0x42a6e3-(0x2*0x908+-0x167a+0x46b)),this['subLayerEn'+'abled']['splice'](_0x39fd60,-0x158f+0x1954+-0x3c4),this['_dirty']=!(-0x1*0x2655+-0x6c3*0x4+-0x3*-0x15cb),this['layerList']['indexOf'](_0x9cad71)<0x18b1*0x1+-0x2*0x137+-0x1643&&this['fire']('remove',_0x9cad71);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x7ce776){return this['layerOpaqu'+'eIndexMap']['get'](_0x7ce776)??-(-0x218d+0x3e*-0x25+0x2a84);}['getTranspa'+'rentIndex'](_0x4f3d20){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x4f3d20)??-(0x14ef+0x4d*0x4f+0x2cb1*-0x1);}['isEnabled'](_0x1ab127,_0x2b7960){if(_0x1ab127['enabled']){const _0xc78c7b=_0x2b7960?this['getTranspa'+'rentIndex'](_0x1ab127):this['getOpaqueI'+'ndex'](_0x1ab127);if(_0xc78c7b>=0x26b5*-0x1+0x57*0x67+0x1*0x3b4)return this['subLayerEn'+'abled'][_0xc78c7b];}return!(-0xe10+-0x1247+-0x3c*-0x8a);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x1809bf=0x339*0x5+-0x3*-0x931+-0x2bb0;_0x1809bf<this['layerList']['length'];_0x1809bf++){const _0x12fbc1=this['layerList'][_0x1809bf];this['layerIdMap']['set'](_0x12fbc1['id'],_0x12fbc1),this['layerNameM'+'ap']['set'](_0x12fbc1['name'],_0x12fbc1),(this['subLayerLi'+'st'][_0x1809bf]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x12fbc1,_0x1809bf);}}['getLayerBy'+'Id'](_0x2d19af){return this['layerIdMap']['get'](_0x2d19af)??null;}['getLayerBy'+'Name'](_0x5678eb){return this['layerNameM'+'ap']['get'](_0x5678eb)??null;}['_updateOpa'+'queOrder'](_0x1a9515,_0x57f34e){for(let _0x53e574=_0x1a9515;_0x53e574<=_0x57f34e;_0x53e574++)this['subLayerLi'+'st'][_0x53e574]===!(-0x2*0x88a+0x88a+0x88b)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x53e574]['id']]=_0x53e574);}['_updateTra'+'nsparentOr'+'der'](_0x12a69e,_0x34588c){for(let _0x5d0978=_0x12a69e;_0x5d0978<=_0x34588c;_0x5d0978++)this['subLayerLi'+'st'][_0x5d0978]===!(-0x358+-0x298*-0x9+0x8*-0x280)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x5d0978]['id']]=_0x5d0978);}['_sortLayer'+'sDescendin'+'g'](_0x1e1c68,_0x10bab0,_0x2bf0f0){let _0xdd189b=-(-0x1*-0x8cd+0xc*0x18+-0x9ec),_0x12d7ff=-(0x824+0xd87+-0x15aa);for(let _0x3d3024=-0xfba*0x2+-0x7*0x274+0x30a0,_0x35311d=_0x1e1c68['length'];_0x3d3024<_0x35311d;_0x3d3024++){const _0x16efd7=_0x1e1c68[_0x3d3024];_0x2bf0f0['hasOwnProp'+'erty'](_0x16efd7)&&(_0xdd189b=Math['max'](_0xdd189b,_0x2bf0f0[_0x16efd7]));}for(let _0x3bacc6=-0xd8c*-0x2+0x11d1+-0x1*0x2ce9,_0x34603a=_0x10bab0['length'];_0x3bacc6<_0x34603a;_0x3bacc6++){const _0x34635a=_0x10bab0[_0x3bacc6];_0x2bf0f0['hasOwnProp'+'erty'](_0x34635a)&&(_0x12d7ff=Math['max'](_0x12d7ff,_0x2bf0f0[_0x34635a]));}return _0xdd189b===-(-0xe6b+-0x5*-0x25f+0x291)&&_0x12d7ff!==-(0x2437+0x5*-0x563+0x5f*-0x19)?-0x12e3+-0x186b+-0x1*-0x2b4f:_0x12d7ff===-(-0x11*-0x1f5+0x5d2*0x1+-0x2716)&&_0xdd189b!==-(-0x1edb+-0x3a*0x7b+-0x3aba*-0x1)?-(0x10e+0x538+0x1*-0x645):_0x12d7ff-_0xdd189b;}['sortTransp'+'arentLayer'+'s'](_0x212746,_0x15f934){return this['_sortLayer'+'sDescendin'+'g'](_0x212746,_0x15f934,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x4d121a,_0x2c4e58){return this['_sortLayer'+'sDescendin'+'g'](_0x4d121a,_0x2c4e58,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},$M=[[new Q(-0x485+-0xe4e+0x12d3,-0x2f*0xc0+-0x221f+0x455f,0x11b7*-0x1+-0x95*0x1d+0x2299,0x1aa4+0xdaa+-0x284d)],[new Q(-0x1*0xa85+0x949*0x4+-0x1a9f,-0x1*-0x6cd+-0x957*-0x1+-0x1024,-0x66a*-0x5+-0x1611+-0xa01+0.5,-0x1a*-0xec+0x1*-0x2205+0xa0d+0.5),new Q(0x29+-0x1b14+0x1*0x1aeb,0x727+0x717+-0x71f*0x2+0.5,0x1535+0x1059+-0x258e+0.5,0x121d*0x2+0x26d8+-0x3*0x1906+0.5)],[new Q(-0xd33+-0x1*-0x99b+0x398,-0x112d+-0x156+0x7*0x2a5,0x26e5+0xa17+-0x30fc+0.5,0x6dd+0xa6f*-0x1+0x2*0x1c9+0.5),new Q(-0x1538+-0x892*-0x1+0xca6*0x1,0x8d3*0x1+0x1e8e+0x2761*-0x1+0.5,-0x35b*-0x4+0x2f*0x63+0x1f99*-0x1+0.5,0xe81*-0x1+-0xeb5+0xe9b*0x2+0.5),new Q(-0x1b57+0x2267*0x1+-0x710+0.5,-0x1*0x21d7+0x654*-0x6+0x47cf*0x1,-0x1387*-0x1+-0x6a1+0x7f*-0x1a+0.5,0xe76+-0x1d8a+0x78a*0x2+0.5)],[new Q(0x694*0x3+0x25c3+-0x397f*0x1,0xd3*-0x25+0x1*0xba1+0x12de,-0x9e*0x12+-0x83*0x26+0x1e8e+0.5,0x4*-0x8fc+0x1006+0x13ea+0.5),new Q(-0x11*0x67+0x2058+-0x1981,-0x1160+0xa15*0x1+-0x1*-0x74b+0.5,0x1*-0xe56+0x413+0xa43*0x1+0.5,0x11b9+-0xbe1+-0x88*0xb+0.5),new Q(0x592*-0x1+0x2*-0xe64+0x225a+0.5,0x25bd+0x1*0x20ae+-0x466b,-0xde5+0x16f*0x5+-0x35d*-0x2+0.5,-0xdb*0x1+-0x1904+0x19df+0.5),new Q(0x1f*-0xe3+-0x1986+0x3503+0.5,-0x1896+0x1baf*0x1+-0x319+0.5,0x1909+-0x11c2*0x1+-0x3*0x26d+0.5,0x1ed+-0x1*-0xc48+0xe35*-0x1+0.5)]];let qM=-0x1d84+-0x2*-0xb9b+-0x3*-0x21a;class XM{constructor(_0x1f5c6a,_0x17042b,_0x4f8ab9){this['light']=_0x4f8ab9,this['camera']=_0x1f5c6a,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x4f8ab9['_shadowTyp'+'e'],_0x4f8ab9['_type'],_0x17042b),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(0x15c3+0x1*0x125+-0x16e8,-0x2d3*-0x4+-0xfdc+0x490,-0x1d3f+-0x1*0x24d7+0x4217,0x94a+0x67d+0x2*-0x7e3),this['shadowScis'+'sor']=new Q(0x17e6+0x18fd+-0x30e3,-0x6ca*0x3+-0x308+-0x5*-0x4ae,0x43*0x39+-0x785+0x3*-0x277,-0xca0+-0x224a+0x2eeb*0x1),this['projection'+'Compensati'+'on']=-0x329+0xf80+-0xc57,this['face']=_0x17042b,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x2ff123=>{_0x2ff123['defaultUni'+'formBuffer']['destroy'](),_0x2ff123['destroy']();}),this['viewBindGr'+'oups']['length']=0x43f*-0x2+0x621*0x6+-0xa*0x2d4;}get['shadowBuff'+'er'](){const _0x1ec09f=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x1ec09f?this['light']['_isPcf']?_0x1ec09f['depthBuffe'+'r']:_0x1ec09f['colorBuffe'+'r']:null;}}class zo{constructor(_0xb8db9d,_0x2f8867){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0xb8db9d,this['clusteredL'+'ighting']=_0x2f8867,this['id']=qM++,this['_type']=oe,this['_color']=new Y(0x163f+0x690+-0x1ccf+0.8,0x2*0xafd+-0x11aa*0x2+-0x1*-0xd5a+0.8,0x4*-0x5de+0x2277+-0xaff+0.8),this['_intensity']=0x1f2e+-0x14d4+-0xa59,this['_affectSpe'+'cularity']=!(-0x283+-0x86+0x309),this['_luminance']=0x1e4+0xa*-0x1+-0x1da,this['_castShado'+'ws']=!(-0x1049*-0x1+0xd*0x31+-0x12c5),this['_enabled']=!(0xc63*0x1+-0x970+-0x2f2),this['_mask']=hs,this['isStatic']=!(0x1*0x13b7+0x2*-0x779+0x2*-0x262),this['key']=-0x1d61+-0x7e0+0x2541,this['bakeDir']=!(-0x20ef+0x4d+0x20a2),this['bakeNumSam'+'ples']=0x1*-0x2135+0xf61+-0x1*-0x11d5,this['bakeArea']=0x9db+-0xfaa+0x1*0x5cf,this['attenuatio'+'nStart']=-0x19de+0xc5f*-0x1+-0xef*-0x29,this['attenuatio'+'nEnd']=-0x17*0x2f+0x1d23+-0x18e0,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=-0x24f9+0xf9d+0x1567,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(0x10e1*-0x1+0x6*0x504+-0xc7*0x11+0.01)*(0xc3a+0xbc+-0xcf6+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x3*0x851+0xad*0x1d+0x1c9*0x3,this['_cookieFal'+'loff']=!(-0x18ff+-0xd5e+-0x3d*-0xa1),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x1ff*0x7+0xf10+-0x1*0x113),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x259e+0xb*0xbf+0x1d6b),this['_cookieTra'+'nsformSet']=!(0x1*-0x259+-0xfb*-0xc+-0x96a),this['_cookieOff'+'setSet']=!(-0x10e7*0x1+0xd54+0x394),this['_innerCone'+'Angle']=0x1969+0x147d+-0x5*0x926,this['_outerCone'+'Angle']=-0x2581+-0x13f9*0x1+-0x1*-0x39a7,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x2539+0x67*-0x5d+-0x61*-0xc5,this['_cascadeBl'+'end']=0x24be+0x13dc+-0x389a,this['cascadeDis'+'tribution']=0x1184+-0xe79*0x1+-0x30b+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(-0xc38+0x1126+0x4eb*-0x1),this['_updateLin'+'earColor'](),this['_position']=new T(-0x7d+0x1*0xca4+-0xc27,0x14f3*0x1+-0x1b*-0xa3+-0x2624,-0x4*0x90a+0x218*-0xb+0x3b30),this['_direction']=new T(0x99*-0x29+0x3*-0x67+0xcdb*0x2,0x1580+-0x6*-0x60d+-0x12e*0x31,-0x195*0xb+0x18eb+-0x1*0x784),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x2370+0x2502+-0x25*0x6)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0x1003+0x249*0x10+0x139*-0x2b),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x2dd*0x4+0xd79*0x1+-0x18c5,this['_shadowRes'+'olution']=0x2*-0xc25+-0x141f*0x1+0x3*0x1023,this['_shadowBia'+'s']=-(-0x478*-0x2+-0x89+0x1*-0x867+0.0005),this['shadowInte'+'nsity']=-0xd2c+-0xc1c+0x1949*0x1,this['_normalOff'+'setBias']=0x1*0x5b3+-0x2*-0x33b+-0xc29*0x1,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0xc49+0x2592*-0x1+0x31dc),this['_isPcf']=!(0x3*-0xcc7+-0x47*-0x27+0x6e1*0x4),this['_softShado'+'wParams']=new Float32Array(0x151f+0x3*-0x7cd+0x24c),this['shadowSamp'+'les']=0xe22+0x23ed+-0x31ff,this['shadowBloc'+'kerSamples']=0xb8a+0x24f9+-0x4f*0x9d,this['penumbraSi'+'ze']=-0x3ee*-0x4+-0x6a1*0x1+0x48b*-0x2,this['penumbraFa'+'lloff']=0x1*-0xc6d+-0xb*-0x2a1+-0xc9*0x15,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x8e9*0x1+-0xb52+0x46*0x4a),this['atlasVersi'+'on']=-0x981*-0x3+0x1*-0x1efd+0x27a,this['atlasSlotI'+'ndex']=-0x26a4+0x1275+0x142f,this['atlasSlotU'+'pdated']=!(0x1513+-0x161b+0x109),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0x1aa8+0x16cd*0x1+0x5*-0x9e4),this['maxScreenS'+'ize']=0x2*0xf+-0xc9f+0xc81,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x3d1c95=0x16e*-0x4+0x19*-0x41+0xc11;_0x3d1c95<this['_renderDat'+'a']['length'];_0x3d1c95++)this['_renderDat'+'a'][_0x3d1c95]['destroy']();this['_renderDat'+'a']['length']=0x1fde+-0xd8d*-0x2+-0x3af8;}}['addLayer'](_0x3d404e){this['layers']['add'](_0x3d404e);}['removeLaye'+'r'](_0x484952){this['layers']['delete'](_0x484952);}set['shadowSamp'+'les'](_0x462004){this['_softShado'+'wParams'][-0x9dd+0x49c+0x541]=_0x462004;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x76a+0xa1*0x23+-0x1d6d];}set['shadowBloc'+'kerSamples'](_0x32c95c){this['_softShado'+'wParams'][-0x1*0x16a2+-0x4fd*-0x6+0x1*-0x74b]=_0x32c95c;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][0x95f*0x4+-0x17da+-0x3*0x48b];}set['shadowBias'](_0x5a7fbc){this['_shadowBia'+'s']!==_0x5a7fbc&&(this['_shadowBia'+'s']=_0x5a7fbc,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0xff1ae6){(!this['cascades']||this['numCascade'+'s']!==_0xff1ae6)&&(this['cascades']=$M[_0xff1ae6-(-0x13*-0xc7+-0x18fb+0xa37)],this['_shadowMat'+'rixPalette']=new Float32Array((0xf3b+0x1*-0x134d+0x416)*(-0x25*0x53+-0xccc+0x18db)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x3b3*-0x7+0x2*-0x2d1+0x1f8b),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0xf1bead){this['_cascadeBl'+'end']!==_0xf1bead&&(this['_cascadeBl'+'end']=_0xf1bead,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x34c501){this['_shadowMap']!==_0x34c501&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x34c501);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x442a61){this['_mask']!==_0x442a61&&(this['_mask']=_0x442a61,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x449008=this['_type'];return _0x449008===oe?this['numCascade'+'s']:_0x449008===Pe?0x1*-0x58f+-0x385+0x91a:0xd70+0x5*-0x727+0x1654*0x1;}set['type'](_0x1bbabd){if(this['_type']===_0x1bbabd)return;this['_type']=_0x1bbabd,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x54224c=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x54224c;}get['type'](){return this['_type'];}set['shape'](_0x289946){if(this['_shape']===_0x289946)return;this['_shape']=_0x289946,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x105560=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x105560;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x55fd89){this['_usePhysic'+'alUnits']!==_0x55fd89&&(this['_usePhysic'+'alUnits']=_0x55fd89,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x453d33){if(this['_shadowTyp'+'e']===_0x453d33)return;const _0x5a0a74=this['device'];_0x453d33===Ts&&!_0x5a0a74['textureFlo'+'atRenderab'+'le']&&!_0x5a0a74['textureHal'+'fFloatRend'+'erable']&&(_0x453d33=Dt),this['_type']===Pe&&_0x453d33!==Bh&&_0x453d33!==Dt&&_0x453d33!==Nh&&_0x453d33!==zh&&_0x453d33!==Ts&&(_0x453d33=Dt),_0x453d33===Wr&&(!_0x5a0a74['textureFlo'+'atRenderab'+'le']||!_0x5a0a74['textureFlo'+'atFilterab'+'le'])&&(_0x453d33=Hr),_0x453d33===Hr&&!_0x5a0a74['textureHal'+'fFloatRend'+'erable']&&(_0x453d33=Dt);const _0x24a2ab=ir['get'](_0x453d33);this['_isVsm']=(_0x24a2ab==null?void(0x21eb+-0x2158+-0x93):_0x24a2ab['vsm'])??!(0xd*0x20f+0xcc1+0x2783*-0x1),this['_isPcf']=(_0x24a2ab==null?void(-0xd60+0x6f5+-0x1*-0x66b):_0x24a2ab['pcf'])??!(0x10*-0x265+0x24a5+0xd6*0x2),this['_shadowTyp'+'e']=_0x453d33,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x52954a){this['_enabled']!==_0x52954a&&(this['_enabled']=_0x52954a,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x3ff58e){this['_castShado'+'ws']!==_0x3ff58e&&(this['_castShado'+'ws']=_0x3ff58e,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==0x1b58+-0x1cdf+0x187*0x1;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x1f7ce2){this['_shadowRes'+'olution']!==_0x1f7ce2&&(this['_type']===Pe?_0x1f7ce2=Math['min'](_0x1f7ce2,this['device']['maxCubeMap'+'Size']):_0x1f7ce2=Math['min'](_0x1f7ce2,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x1f7ce2,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x467ecf){this['_vsmBlurSi'+'ze']!==_0x467ecf&&(_0x467ecf%(-0x213c+-0x195e+0x3a9c)===-0xf50+0x2*-0xf95+-0x52a*-0x9&&_0x467ecf++,this['_vsmBlurSi'+'ze']=_0x467ecf);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x17aeee){if(this['_normalOff'+'setBias']!==_0x17aeee){const _0x40118b=!this['_normalOff'+'setBias']&&_0x17aeee||this['_normalOff'+'setBias']&&!_0x17aeee;this['_normalOff'+'setBias']=_0x17aeee,_0x40118b&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x3becc1){this['_falloffMo'+'de']!==_0x3becc1&&(this['_falloffMo'+'de']=_0x3becc1,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x307625){this['_innerCone'+'Angle']!==_0x307625&&(this['_innerCone'+'Angle']=_0x307625,this['_innerCone'+'AngleCos']=Math['cos'](_0x307625*Math['PI']/(-0xda0+-0x24f3+0x3347)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x351068){this['_outerCone'+'Angle']!==_0x351068&&(this['_outerCone'+'Angle']=_0x351068,this['_updateOut'+'erAngle'](_0x351068),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x4cba66){this['_penumbraS'+'ize']=_0x4cba66,this['_softShado'+'wParams'][-0xb*0xa7+-0x26ac+0x2ddb]=_0x4cba66;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x53fd9b){this['_softShado'+'wParams'][0x1ad8+-0x26dc+0xc07]=_0x53fd9b;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x2bb*0x2+-0x1*-0x761+0x8*-0x3d];}['_updateOut'+'erAngle'](_0x4ba0db){const _0x4706f2=_0x4ba0db*Math['PI']/(-0x73d+0x166b+-0xe7a);this['_outerCone'+'AngleCos']=Math['cos'](_0x4706f2),this['_outerCone'+'AngleSin']=Math['sin'](_0x4706f2);}set['intensity'](_0x1c00c6){this['_intensity']!==_0x1c00c6&&(this['_intensity']=_0x1c00c6,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x5808e0){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0x5808e0,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x5d0e6f){this['_luminance']!==_0x5d0e6f&&(this['_luminance']=_0x5d0e6f,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(0x2660+0x30*-0xb3+-0x4d0,-0xfd*0x2+-0x621+0x81b,0xaf3*-0x1+0x2158+0x4*-0x599,-0xc6f*0x1+-0xa6+0x5*0x29e)),this['_atlasView'+'port'];}set['cookie'](_0x8a1a8e){this['_cookie']!==_0x8a1a8e&&(this['_cookie']=_0x8a1a8e,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x4a9443){this['_cookieFal'+'loff']!==_0x4a9443&&(this['_cookieFal'+'loff']=_0x4a9443,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x27e463){if(this['_cookieCha'+'nnel']!==_0x27e463){if(_0x27e463['length']<-0x33*0x59+-0x138a+-0x952*-0x4){const _0x48d811=_0x27e463['charAt'](_0x27e463['length']-(0x1d23*0x1+0x1910+0x1*-0x3632)),_0x340290=-0x1612+-0x1a55*-0x1+-0x8*0x88-_0x27e463['length'];for(let _0x27ca29=0x1ff8+0x1f3+-0x1*0x21eb;_0x27ca29<_0x340290;_0x27ca29++)_0x27e463+=_0x48d811;}this['_cookieCha'+'nnel']=_0x27e463,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x172f7e){this['_cookieTra'+'nsform']!==_0x172f7e&&(this['_cookieTra'+'nsform']=_0x172f7e,this['_cookieTra'+'nsformSet']=!!_0x172f7e,_0x172f7e&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(-0x1b0f+0xfd0+0x28*0x48)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x62d685){if(this['_cookieOff'+'set']===_0x62d685)return;!!(this['_cookieTra'+'nsformSet']||_0x62d685)&&!_0x62d685&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x4f6*-0x2+-0x1*-0x13a8+0x9dc*-0x3,0x1fa4+-0xcf1+-0x12b3*0x1):this['_cookieOff'+'set']=_0x62d685,this['_cookieOff'+'setSet']=!!_0x62d685,_0x62d685&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(0x641+0xd79*0x2+0x4be*-0x7,-0x1c13+0x2530+-0x91c,-0x1b88+-0x511+-0x685*-0x5,-0x19d0+-0x8a*0x11+-0x197*-0x16),this['_cookieTra'+'nsformSet']=!(-0x155+-0x19e1+0x1b37*0x1)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=0x1213+0x19e*0xb+-0x23dd,this['atlasViewp'+'ortAllocat'+'ed']=!(0x16dc+0x35d*0x3+-0x20f2*0x1),this['atlasSlotU'+'pdated']=!(-0x3*-0x509+0xa*0x339+-0x2f54);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x28e4f7=0xa0*-0x39+0x205c+0x4c*0xb;_0x28e4f7<this['shadowUpda'+'teOverride'+'s']['length'];_0x28e4f7++)this['shadowUpda'+'teOverride'+'s'][_0x28e4f7]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x28e4f7]=cn);}}['getRenderD'+'ata'](_0x5f40e1,_0x33499d){for(let _0xc80d31=0x149*0x1+-0x25e2+0x15b*0x1b;_0xc80d31<this['_renderDat'+'a']['length'];_0xc80d31++){const _0x17b9e1=this['_renderDat'+'a'][_0xc80d31];if(_0x17b9e1['camera']===_0x5f40e1&&_0x17b9e1['face']===_0x33499d)return _0x17b9e1;}const _0x3037bf=new XM(_0x5f40e1,_0x33499d,this);return this['_renderDat'+'a']['push'](_0x3037bf),_0x3037bf;}['clone'](){const _0x127b1d=new zo(this['device'],this['clusteredL'+'ighting']);return _0x127b1d['type']=this['_type'],_0x127b1d['setColor'](this['_color']),_0x127b1d['intensity']=this['_intensity'],_0x127b1d['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x127b1d['luminance']=this['_luminance'],_0x127b1d['castShadow'+'s']=this['castShadow'+'s'],_0x127b1d['_enabled']=this['_enabled'],_0x127b1d['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x127b1d['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x127b1d['falloffMod'+'e']=this['_falloffMo'+'de'],_0x127b1d['shadowType']=this['_shadowTyp'+'e'],_0x127b1d['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x127b1d['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x127b1d['vsmBias']=this['vsmBias'],_0x127b1d['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x127b1d['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x127b1d['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x127b1d['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x127b1d['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x127b1d['numCascade'+'s']=this['numCascade'+'s'],_0x127b1d['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x127b1d['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x127b1d['shape']=this['_shape'],_0x127b1d['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x127b1d['shadowBias']=this['shadowBias'],_0x127b1d['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x127b1d['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x127b1d['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x127b1d['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x127b1d['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x127b1d['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x127b1d['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x127b1d['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x127b1d;}static['getLightUn'+'itConversi'+'on'](_0xed81f9,_0x2bcb8e=Math['PI']/(0x2585+0x12*-0x1+-0x256f),_0x2c3cf2=0x1*-0x2547+0x175*0x15+0x6ae){switch(_0xed81f9){case Re:{const _0x227c51=Math['cos'](_0x2bcb8e),_0x43d1d6=Math['cos'](_0x2c3cf2);return(0x1464+0x108f+-0x24f1)*Math['PI']*(0xf69+-0x1*0x222a+-0x157*-0xe-_0x43d1d6+(_0x43d1d6-_0x227c51)/(-0xe20*0x2+-0x729+0x236b));}case Pe:return(0x164f+-0x1408+-0x243)*Math['PI'];case oe:return 0x15ae+0x19d8+-0x2f85;}}['_getUnifor'+'mBiasValue'+'s'](_0x402f99){const _0x35b213=_0x402f99['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(-0x10a8+0x16cc+-0x83*0xc+0.00001)*(-0xa38+0x1701+0xcb5*-0x1):ti['bias']=this['shadowBias']*(-0x1*0x1d4d+0x1e26+-0xc5),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x1be9+-0x2047*-0x1+-0x457)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(0x2619+0xf*-0x191+-0x4de*0x3+0.00001)*(0x24b1+-0x1d88+-0x715):ti['bias']=this['shadowBias']/_0x35b213*(0x2*-0x85a+-0x5*-0x2af+0x3ad*0x1),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0x35b213/(-0x60b+0x1723*-0x1+0x1d35)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x1a32ec){if(this['_type']===Re){const _0x247500=this['attenuatio'+'nEnd'],_0x119ce2=this['_outerCone'+'Angle'],_0x30638b=this['_outerCone'+'AngleCos'],_0x8a875f=this['_node'];kl['copy'](_0x8a875f['up']),_0x119ce2>-0x8*0x439+0xcfe*0x3+-0x505?(_0x1a32ec['radius']=_0x247500*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x247500*_0x30638b)):(_0x1a32ec['radius']=_0x247500/((-0x113d+-0x1bc*0x15+0x35ab)*_0x30638b),kl['mulScalar'](-_0x1a32ec['radius'])),_0x1a32ec['center']['add2'](_0x8a875f['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x1a32ec['center']=this['_node']['getPositio'+'n'](),_0x1a32ec['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0xb7237f){if(this['_type']===Re){const _0x5502e1=this['attenuatio'+'nEnd'],_0x2a1bf9=this['_outerCone'+'Angle'],_0x3a1aec=this['_node'],_0x92388a=Math['abs'](Math['sin'](_0x2a1bf9*N['DEG_TO_RAD'])*_0x5502e1);_0xb7237f['center']['set'](0x119*0x4+-0x2*-0x216+-0x890,-_0x5502e1*(-0xe09+0x1e03+-0xffa+0.5),-0x1e74+0x123*-0x11+-0x1*-0x31c7),_0xb7237f['halfExtent'+'s']['set'](_0x92388a,_0x5502e1*(-0x695+-0x85*-0x49+-0xfac*0x2+0.5),_0x92388a),_0xb7237f['setFromTra'+'nsformedAa'+'bb'](_0xb7237f,_0x3a1aec['getWorldTr'+'ansform'](),!(0x230a+-0x19*-0xb6+0x10*-0x34d));}else this['_type']===Pe&&(_0xb7237f['center']['copy'](this['_node']['getPositio'+'n']()),_0xb7237f['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x1ed6+-0x26fa*-0x1+-0x45d0,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x92c+-0x2fe+-0x62e;else{const _0x4f1a16=this['shadowBias']*-(0x20cc+-0x466+-0x187e);this['shadowDept'+'hState']['depthBias']=_0x4f1a16,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x4f1a16;}}['_updateLin'+'earColor'](){let _0x2364d0=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x2364d0=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x1de21c=this['_color'],_0x2e33d1=this['_colorLine'+'ar'];_0x2364d0>=-0x1*-0x1b5a+-0x36*0x4d+0x1*-0xb1b?Ya['linear'](_0x1de21c)['mulScalar'](_0x2364d0):Ya['copy'](_0x1de21c)['mulScalar'](_0x2364d0)['linear'](),_0x2e33d1[-0x1*0xa39+-0x1*-0xf39+-0x500]=Ya['r'],_0x2e33d1[-0x9*-0x21d+0x74b*0x1+-0x1a4f]=Ya['g'],_0x2e33d1[-0x1508+0x8b*-0xf+-0x1f*-0xf1]=Ya['b'];}['setColor'](){arguments['length']===-0xf6b+0x665+0x907?this['_color']['set'](arguments[-0x1f*0x53+0x1*-0x21ae+0x2bbb]['r'],arguments[-0x9cd*0x2+0xe49+0x551]['g'],arguments[-0x25*0xcd+0x86*-0x19+0x2ab7]['b']):arguments['length']===-0x3eb+0x2b7*0x7+-0xf13&&this['_color']['set'](arguments[0x95*-0xc+0x1d7c+-0x50*0x48],arguments[0xeb+-0x1017*0x1+0xf2d],arguments[0x1*0xf4f+0x1*0xf85+-0x1ed2]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x2c1014=>{_0x2c1014['hasLight'](this)&&_0x2c1014['markLights'+'Dirty']();});}['updateKey'](){let _0x335bb7=this['_type']<<-0x38d*-0x1+-0x13+-0x1*0x35d|this['_shadowTyp'+'e']<<-0x7*0x36b+-0xd2d*0x1+0x2533|this['_falloffMo'+'de']<<0x1e6b+0x1292+0x472*-0xb|(this['_normalOff'+'setBias']!==-0xc*0x2a7+0x1d73+0x261?-0x1ec1+0x2*0xbb6+0x139*0x6:0x1*0x1672+0x161*0xf+-0x3d*0xb5)<<-0x1d5b+0x2237+-0x1*0x4c6|(this['_cookie']?-0x5a1*0x2+-0x26e3+-0x83*-0x62:-0x87b+-0x228e+0x2b09)<<-0x1*0x1ae1+0x14a1+0x655|(this['_cookieFal'+'loff']?0x13*-0x163+-0x90*-0x27+-0x46a*-0x1:0x1828+0xefa+-0x2722*0x1)<<-0x1*0x1d93+-0x1*-0x1e8b+-0xe4|Ud[this['_cookieCha'+'nnel']['charAt'](-0x4b*0x61+-0x641+0x22ac)]<<0x66b+0x15*-0x43+-0xda*0x1|(this['_cookieTra'+'nsform']?0x2*-0x1060+0x100b+0x10b6:-0x9*0x8d+-0x418+0x90d)<<0x4*0x65e+-0x3*-0x443+-0x2635|this['_shape']<<-0x2456+0x89b*0x3+0xa8f*0x1|(this['numCascade'+'s']>0x703*0x3+0x1*0x1052+0x1*-0x255b?0x165e+-0x4cd*-0x2+-0x1ff7:-0x1*-0x26ae+-0x1e0d+-0x8a1)<<-0x21*0xf3+0x1*-0x1e01+0x3d5d|(this['_cascadeBl'+'end']>0x1537*0x1+0x500+0x3*-0x8bd?-0xb6b*-0x2+0x1826+0x39*-0xd3:-0x1d64+0x4*-0x555+0x32b8)<<-0x1*-0x1c7d+-0x1b*0xa8+0x1*-0xabd|(this['affectSpec'+'ularity']?-0x960+0x2cc*0xa+-0x1297:0x80c+-0x495+-0x1*0x377)<<0xe67+-0x111+0x1*-0xd4f|this['mask']<<-0x3*0xac7+0x4*-0x3bb+0x2f47|(this['_castShado'+'ws']?-0x1*-0x4cb+-0x1b1*-0x2+0x2*-0x416:0x9fe+0x26ff+0x30fd*-0x1)<<-0x1*-0xc3+0x150e+-0x15ce;this['_cookieCha'+'nnel']['length']===-0x1*-0xa07+0xc05+0x1*-0x1609&&(_0x335bb7|=Ud[this['_cookieCha'+'nnel']['charAt'](0x12*0x5d+0x1f73+0x11e*-0x22)]<<0x660+-0x7a2*-0x4+-0x24d8,_0x335bb7|=Ud[this['_cookieCha'+'nnel']['charAt'](0xbfd*-0x1+0x1*-0xae5+0x16e4)]<<-0x4a*-0x80+0x10*0x17b+-0x3ca2),_0x335bb7!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x335bb7;}}class L0{constructor(_0x720c96,_0x25c6ad,_0x24505a){c(this,'_areaLight'+'sEnabled',!(-0xdc1*-0x1+-0x3*0x907+0xd55)),c(this,'_cells',new T(0x1f7e+-0x1f93+0x1f,-0x1ccc+-0xb4*0x34+0x415f,-0x1*0x2159+-0x2*0x1eb+0x2dd*0xd)),c(this,'_maxLights'+'PerCell',0x10d*0x19+-0xb4d+-0x31*0x49),c(this,'_shadowsEn'+'abled',!(0x113a+0xe40+-0x1f7a)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',0x153b+-0x8*0x35f+0x1*0xdbd),c(this,'_cookiesEn'+'abled',!(0x271*-0x6+-0x2564+0x1*0x340b)),c(this,'_cookieAtl'+'asResoluti'+'on',0x1*0x1736+-0x2255+0x131f),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x720c96,this['_maxTextur'+'eSize']=_0x25c6ad,this['_dirtyLigh'+'tsFnc']=_0x24505a);}['applySetti'+'ngs'](_0x5642e9){this['shadowsEna'+'bled']=_0x5642e9['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x5642e9['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x5642e9['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x5642e9['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x5642e9['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x5642e9['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x5642e9['lightingSh'+'adowType']??this['shadowType'],_0x5642e9['lightingCe'+'lls']&&(this['cell']=new T(_0x5642e9['lightingCe'+'lls']));}set['cells'](_0x533a19){this['_cells']['copy'](_0x533a19);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x6db39c){this['_maxLights'+'PerCell']=N['clamp'](_0x6db39c,0x710+0x1*0x5e3+-0x1*0xcf2,-0x4*0x38+-0xe16+0x1*0xff5);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x5ea1fe){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x5ea1fe,0x1*0x205b+0x12+0x204d*-0x1,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x59e4ea){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x59e4ea,-0x1100+0x26ae+-0x158e,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x6d222b){this['_shadowTyp'+'e']!==_0x6d222b&&(this['_shadowTyp'+'e']=_0x6d222b,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x21af9d){this['_cookiesEn'+'abled']!==_0x21af9d&&(this['_cookiesEn'+'abled']=_0x21af9d,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x2d81e1){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x2d81e1&&(this['_areaLight'+'sEnabled']=_0x2d81e1,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x1d80e4){this['_shadowsEn'+'abled']!==_0x1d80e4&&(this['_shadowsEn'+'abled']=_0x1d80e4,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(0x5*-0x552+-0x5a9*-0x1+-0x6fb*-0x3),Lt,at,at);class fn{constructor(_0x340b50){c(this,'shaderCach'+'e',[]),(this['morph']=_0x340b50,_0x340b50['incRefCoun'+'t'](),this['device']=_0x340b50['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x55c958=0x322+-0x1c*-0x49+-0xb1e;_0x55c958<_0x340b50['_targets']['length'];_0x55c958++){const _0x544aba=_0x340b50['_targets'][_0x55c958];_0x544aba['name']&&this['_weightMap']['set'](_0x544aba['name'],_0x55c958),this['setWeight'](_0x55c958,_0x544aba['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x50d237=(_0x3fda32,_0x3db5f6)=>(this[_0x3db5f6]=_0x340b50['_createTex'+'ture'](_0x3fda32,_0x340b50['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x3db5f6],'depth':!(-0x396*0x4+0x5dd*-0x4+0x25cd)}));_0x340b50['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x50d237('MorphRTPos','texturePos'+'itions')),_0x340b50['morphNorma'+'ls']&&(this['rtNormals']=_0x50d237('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x340b50['morphTextu'+'reWidth'],_0x340b50['morphTextu'+'reHeight']]);const _0x1b07a7=_0x340b50['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x1b07a7['x']*(0x165b+-0x4*-0x457+-0x27b3),_0x1b07a7['y']*(0x2*0xa0c+0x1*-0x2145+0x1*0xd31),_0x1b07a7['z']*(-0xa*-0x18c+0x3*-0x9bb+-0xdbd*-0x1)]);const _0x7c2b1a=_0x340b50['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x7c2b1a['x']*(0x3*-0x6ed+0x2*-0x102f+-0x4d5*-0xb),_0x7c2b1a['y']*(-0x3*0x8a7+-0x10*0x125+0x1*0x2c47),_0x7c2b1a['z']*(0x2e0*0xa+0x463+0x21*-0x101)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x7*-0x21d+-0x164b+0x782,-0x17e6+0x9*-0x7d+0x1c4d,0x91b+-0xc5b+0x1a1*0x2]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x122e+0x8b*-0x10+-0x97d),-(0xe91+-0xcfe+-0x192),-(0x1a08+-0xac8+-0xf3f)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x5e8d2f=-0x53b+0x23bc+0x1*-0x1e81;_0x5e8d2f<this['maxSubmitC'+'ount'];_0x5e8d2f++)this['morphBlend'+'Tex'+_0x5e8d2f]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x5e8d2f);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(-0x2027+0x1c05+0x1*0x423);}['destroy'](){this['shader']=null;const _0x29966c=this['morph'];_0x29966c&&(this['morph']=null,_0x29966c['decRefCoun'+'t'](),_0x29966c['refCount']<-0x16e7+0x5*0x53a+-0x33a&&_0x29966c['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x1c3685){if(typeof _0x1c3685=='string'){const _0x5d9751=this['_weightMap']['get'](_0x1c3685);return _0x5d9751===void(0xd0e+-0x15f1+0x8e3)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x1c3685+'.'),_0x5d9751;}return _0x1c3685;}['getWeight'](_0x1f8fbc){const _0x3b768a=this['_getWeight'+'Index'](_0x1f8fbc);return this['_weights'][_0x3b768a];}['setWeight'](_0x12d832,_0x2b213a){const _0x477c01=this['_getWeight'+'Index'](_0x12d832);v['assert'](_0x477c01>=-0x1*0x1f6d+0x6*0x28b+0x1*0x102b&&_0x477c01<this['morph']['_targets']['length']),this['_weights'][_0x477c01]=_0x2b213a,this['_dirty']=!(0x2568+-0x95c*0x3+-0x3*0x31c);}['_getFragme'+'ntShader'](_0x51e41){let _0x1417c4='',_0x191a55='';for(let _0x1034bc=0xb*0x289+0x3d*-0x9+-0x293*0xa;_0x1034bc<_0x51e41;_0x1034bc++)_0x1417c4+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x1034bc+';',_0x191a55+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x1034bc+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x1034bc+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x51e41>-0x1be6+-0x1beb*-0x1+0x5*-0x1?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x51e41+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x1417c4+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x191a55+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x346e4d){let _0x851d66=this['shaderCach'+'e'][_0x346e4d];if(!_0x851d66){const _0x4763f4=this['_getFragme'+'ntShader'](_0x346e4d),_0x27b1c0=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x851d66=Is(this['device'],jM,_0x4763f4,'textureMor'+'ph'+_0x346e4d,void(0x1f95+0x1f54+-0x3ee9),{'fragmentOutputTypes':[_0x27b1c0]}),this['shaderCach'+'e'][_0x346e4d]=_0x851d66;}return _0x851d66;}['_updateTex'+'tureRender'+'Target'](_0x3cb7f6,_0x5f357b,_0x23790f){const _0x2a07f9=this['device'],_0x37ab4f=(_0x2563a8,_0x4984d0)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x2a07f9['setBlendSt'+'ate'](_0x4984d0?YM:_t['NOBLEND']);const _0x33a72a=this['_getShader'](_0x2563a8);dn(_0x2a07f9,_0x3cb7f6,_0x33a72a);};this['setAabbUni'+'forms'](_0x23790f);let _0x1bc2a1=-0x1af3+0x13d*-0x18+0x38ab,_0x343e44=!(0x2*0xceb+0x5*-0x95+-0x16ec);const _0x5041bc=this['_activeTar'+'gets']['length'];for(let _0x58af27=0x98e+0x5*0x225+0xb3*-0x1d;_0x58af27<_0x5041bc;_0x58af27++){const _0x3f8b7a=this['_activeTar'+'gets'][_0x58af27],_0x268e91=_0x3f8b7a['target'][_0x5f357b];_0x268e91&&(this['morphBlend'+'Tex'+_0x1bc2a1]['setValue'](_0x268e91),this['_shaderMor'+'phWeights'][_0x1bc2a1]=_0x3f8b7a['weight'],_0x1bc2a1++,_0x1bc2a1>=this['maxSubmitC'+'ount']&&(_0x37ab4f(_0x1bc2a1,_0x343e44),_0x1bc2a1=-0x257c+0x39b*0x8+0x9e*0xe,_0x343e44=!(0x35f+-0x2*0x46a+0x575)));}(_0x1bc2a1>-0x1*0xacf+-0x1a77+-0x2de*-0xd||_0x5041bc===-0xb84+-0x5*0x2b+0xc5b&&!this['zeroTextur'+'es'])&&_0x37ab4f(_0x1bc2a1,_0x343e44);}['_updateTex'+'tureMorph'](){const _0xb744d7=this['device'];G['pushGpuMar'+'ker'](_0xb744d7,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>0x1208+-0x28*0x26+-0xc18||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(-0x19*-0x31+-0x144e*-0x1+0x1917*-0x1)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(0x2*0xb5f+-0x1*-0x1a9c+0x1073*-0x3)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===-0x1d25+0x2f5+0x8*0x346),G['popGpuMark'+'er'](_0xb744d7);}['setAabbUni'+'forms'](_0xc5a5e1=!(0x1999+0x3d*0x3a+-0x276b)){this['aabbSizeId']['setValue'](_0xc5a5e1?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0xc5a5e1?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x1bc577){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x514+0x4f*-0x2b+0x832);const _0x26956a=this['morph']['_targets'];let _0xbe2de2=0x23db+-0x21e+0x3*-0xb3f;const _0x40afa4=-0x21f0+-0x7*-0x581+0x1*-0x497+0.00001;for(let _0x13feb2=0x18bc+-0x72*0x4f+0xa72;_0x13feb2<_0x26956a['length'];_0x13feb2++){const _0x34a07e=Math['abs'](this['getWeight'](_0x13feb2));if(_0x34a07e>_0x40afa4){this['_activeTar'+'gets']['length']<=_0xbe2de2&&(this['_activeTar'+'gets'][_0xbe2de2]={});const _0x17a11a=this['_activeTar'+'gets'][_0xbe2de2++];_0x17a11a['absWeight']=_0x34a07e,_0x17a11a['weight']=this['getWeight'](_0x13feb2),_0x17a11a['target']=_0x26956a[_0x13feb2];}}this['_activeTar'+'gets']['length']=_0xbe2de2,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x292512,_0x381957)=>_0x292512['absWeight']<_0x381957['absWeight']?-0x4*-0x812+-0x21fe+-0x1*-0x1b7:_0x381957['absWeight']<_0x292512['absWeight']?-(-0x39*0xb+-0x2c9*-0x8+-0x13d4):-0x193+0x50*-0x2+0x233),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x2463+-0x8a3*-0x3+0x1bf*0x6,this['_immutable']=!(-0x1de5+0x1*0x21e7+-0x401));}['getGraph'](){return this['graph'];}['setGraph'](_0x1c05dc){this['graph']=_0x1c05dc;}['getCameras'](){return this['cameras'];}['setCameras'](_0x495285){this['cameras']=_0x495285;}['getLights'](){return this['lights'];}['setLights'](_0x36d576){this['lights']=_0x36d576;}['getMateria'+'ls'](){const _0x4789ba=[];for(let _0x16c99a=0x601+-0x16f4+0x10f3;_0x16c99a<this['meshInstan'+'ces']['length'];_0x16c99a++){const _0x5c2e3e=this['meshInstan'+'ces'][_0x16c99a];_0x4789ba['indexOf'](_0x5c2e3e['material'])===-(-0xb3c+0x11b*-0x2+0xb*0x139)&&_0x4789ba['push'](_0x5c2e3e['material']);}return _0x4789ba;}['clone'](){const _0xa6c49=[],_0x2a0fba=[],_0x2b4a61=function(_0x49fe0e){const _0x19dd0d=_0x49fe0e['clone']();_0xa6c49['push'](_0x49fe0e),_0x2a0fba['push'](_0x19dd0d);for(let _0x4b8a1f=-0x24e4+-0x1*-0x161b+-0x5*-0x2f5;_0x4b8a1f<_0x49fe0e['_children']['length'];_0x4b8a1f++)_0x19dd0d['addChild'](_0x2b4a61(_0x49fe0e['_children'][_0x4b8a1f]));return _0x19dd0d;},_0xd25ab4=_0x2b4a61(this['graph']),_0x13ad98=[],_0x395571=[],_0x14c7af=[];for(let _0x2fd937=0x9d3+0xe6b*0x2+-0x26a9;_0x2fd937<this['skinInstan'+'ces']['length'];_0x2fd937++){const _0x1f2d56=this['skinInstan'+'ces'][_0x2fd937]['skin'],_0x25d929=new nl(_0x1f2d56),_0x42a709=[];for(let _0x53112d=-0x2531+-0xfc9+0x34fa;_0x53112d<_0x1f2d56['boneNames']['length'];_0x53112d++){const _0x22bfc3=_0x1f2d56['boneNames'][_0x53112d],_0x3cdee2=_0xd25ab4['findByName'](_0x22bfc3);_0x42a709['push'](_0x3cdee2);}_0x25d929['bones']=_0x42a709,_0x395571['push'](_0x25d929);}for(let _0x3112c5=0x1b7c+-0x1*-0x419+-0x181*0x15;_0x3112c5<this['morphInsta'+'nces']['length'];_0x3112c5++){const _0x20a44d=this['morphInsta'+'nces'][_0x3112c5]['morph'],_0x346aad=new fn(_0x20a44d);_0x14c7af['push'](_0x346aad);}for(let _0x587d66=0x24e2+0x11f2+-0xb*0x4fc;_0x587d66<this['meshInstan'+'ces']['length'];_0x587d66++){const _0x4d87f9=this['meshInstan'+'ces'][_0x587d66],_0x379e26=_0xa6c49['indexOf'](_0x4d87f9['node']),_0x348a4a=new Le(_0x4d87f9['mesh'],_0x4d87f9['material'],_0x2a0fba[_0x379e26]);if(_0x4d87f9['skinInstan'+'ce']){const _0x3846a0=this['skinInstan'+'ces']['indexOf'](_0x4d87f9['skinInstan'+'ce']);_0x348a4a['skinInstan'+'ce']=_0x395571[_0x3846a0];}if(_0x4d87f9['morphInsta'+'nce']){const _0x10a283=this['morphInsta'+'nces']['indexOf'](_0x4d87f9['morphInsta'+'nce']);_0x348a4a['morphInsta'+'nce']=_0x14c7af[_0x10a283];}_0x13ad98['push'](_0x348a4a);}const _0x9dab59=new Oi();return _0x9dab59['graph']=_0xd25ab4,_0x9dab59['meshInstan'+'ces']=_0x13ad98,_0x9dab59['skinInstan'+'ces']=_0x395571,_0x9dab59['morphInsta'+'nces']=_0x14c7af,_0x9dab59['getGraph']()['syncHierar'+'chy'](),_0x9dab59;}['destroy'](){const _0x2dfcac=this['meshInstan'+'ces'];for(let _0x1f69c7=0xc9*-0x12+0x42*0x79+-0x1110;_0x1f69c7<_0x2dfcac['length'];_0x1f69c7++)_0x2dfcac[_0x1f69c7]['destroy']();this['meshInstan'+'ces']['length']=-0xf3d+-0x7*0x4ff+-0x1*-0x3236;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x580df8,_0x3c3fce,{preferHighPrecision:_0x38f09a=!(-0x35b*-0x2+0x2*-0x13f+0x1*-0x437)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x3c3fce,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x3c3fce,this['preferHigh'+'Precision']=_0x38f09a,v['assert'](_0x580df8['every'](_0x26a991=>!_0x26a991['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x580df8['slice']());const _0x9399e=this['device'],_0x540dd8=_0x9399e['textureHal'+'fFloatRend'+'erable']?Je:void(-0x411+0x77d+0x1b6*-0x2),_0x31ffe5=_0x9399e['textureFlo'+'atRenderab'+'le']?Ke:void(0x1*-0x144f+0x12c2+0x18d);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x31ffe5??_0x540dd8:_0x540dd8??_0x31ffe5,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x41a8ff=new T(),_0x31fa58=new T();for(let _0x55e44f=-0x2*-0x38f+-0x4b7*-0x1+-0xbd5;_0x55e44f<this['_targets']['length'];_0x55e44f++){const _0x38bdf5=this['_targets'][_0x55e44f]['aabb'];_0x41a8ff['min'](_0x38bdf5['getMin']()),_0x31fa58['max'](_0x38bdf5['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x41a8ff,_0x31fa58);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x59b931=-0xca6+0x16ed+-0x36d*0x3;_0x59b931<this['_targets']['length'];_0x59b931++)this['_targets'][_0x59b931]['_postInit']();}['_findSpars'+'eSet'](_0x137567,_0x44f2ef,_0x2f5ab9){let _0x3f61c2=0x2*0x114e+-0x13*0x26+-0x1fc9;const _0x519697=_0x137567[0x8b7+0x1c70+-0x2527]['length'];for(let _0x12888a=0xae3+0x1e99+-0x297c;_0x12888a<_0x519697;_0x12888a+=-0xa*-0x395+0x18e4+-0x3cb3){let _0x19345b=!(-0x23*-0xfe+0x1*0x1e71+-0x412a);for(let _0x4a75df=0x3aa*0x7+0x1f09+0x38af*-0x1;_0x4a75df<_0x137567['length'];_0x4a75df++){const _0x50c312=_0x137567[_0x4a75df];if(_0x50c312[_0x12888a]!==0xc6+-0x2*0x75e+0xdf6||_0x50c312[_0x12888a+(0x11b*-0x4+0x2615*-0x1+0x2a82)]!==0x1588+0x1e4*0x13+-0x3974||_0x50c312[_0x12888a+(0x213b+0x2692+-0x47cb)]!==-0x1*-0x1c95+-0x1fcb+-0x6*-0x89){_0x19345b=!(0x2574+-0x13bc+-0x5e8*0x3);break;}}_0x19345b?(_0x44f2ef['push'](_0x3f61c2),_0x2f5ab9['push'](_0x12888a/(-0x589+-0x392+-0x91e*-0x1)),_0x3f61c2++):_0x44f2ef['push'](-0x1c25+-0x1156+0x2d7b*0x1);}return _0x3f61c2;}['_initTextu'+'reBased'](){const _0x5197a0=[],_0x71a9fa=[];for(let _0x594d28=0x1bdd*0x1+-0xdc0+-0xe1d*0x1;_0x594d28<this['_targets']['length'];_0x594d28++){const _0x3c6623=this['_targets'][_0x594d28];_0x3c6623['options']['deltaPosit'+'ions']&&(_0x5197a0['push'](_0x3c6623['options']['deltaPosit'+'ions']),_0x71a9fa['push']({'target':_0x3c6623,'name':'texturePos'+'itions'})),_0x3c6623['options']['deltaNorma'+'ls']&&(_0x5197a0['push'](_0x3c6623['options']['deltaNorma'+'ls']),_0x71a9fa['push']({'target':_0x3c6623,'name':'textureNor'+'mals'}));}const _0x31d97b=[],_0x5e26e4=[],_0x131c8a=this['_findSpars'+'eSet'](_0x5197a0,_0x31d97b,_0x5e26e4),_0x570224=this['device']['maxTexture'+'Size'];let _0xfa4b80=Math['ceil'](Math['sqrt'](_0x131c8a));_0xfa4b80=Math['min'](_0xfa4b80,_0x570224);const _0x20da56=Math['ceil'](_0x131c8a/_0xfa4b80);if(_0x20da56>_0x570224)return!(0x2*-0xf97+0x1c73+-0x7*-0x64);this['morphTextu'+'reWidth']=_0xfa4b80,this['morphTextu'+'reHeight']=_0x20da56;let _0x3a16fa=!(-0xc6a+-0x1*-0x22db+-0x1670),_0x5821c4=-0x1ddf+0x2c5*0xd+-0x61f;const _0x4b0465=Wt['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x3a16fa=!(0xd*0xe5+-0x2027+-0x25*-0x8e),_0x5821c4=0x197*-0x11+-0x1233+0x2d3e);const _0x537f8b=[];for(let _0x41d1c0=-0x17*0x1b2+0x83c+0x1ec2;_0x41d1c0<_0x5197a0['length'];_0x41d1c0++)_0x537f8b['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x11bcf6=-0x1293+-0x11da+0x175*0x19;_0x11bcf6<_0x5197a0['length'];_0x11bcf6++){const _0x363381=_0x5197a0[_0x11bcf6],_0x2e4031=_0x537f8b[_0x11bcf6],_0x2ca2f3=_0x2e4031['lock']();if(_0x3a16fa)for(let _0x5e4574=-0x2123*0x1+0x9*-0x2af+0x394a;_0x5e4574<_0x5e26e4['length'];_0x5e4574++){const _0xa572cf=_0x5e26e4[_0x5e4574]*(0x24e+-0x1*-0x1043+-0x5f*0x32),_0x67a8cb=_0x5e4574*_0x5821c4+_0x5821c4;_0x2ca2f3[_0x67a8cb]=_0x4b0465(_0x363381[_0xa572cf]),_0x2ca2f3[_0x67a8cb+(0x18bc+-0x67*-0x13+-0x4a*0x70)]=_0x4b0465(_0x363381[_0xa572cf+(0xe6b+-0x523*0x3+0xff)]),_0x2ca2f3[_0x67a8cb+(0x132d+0xdc+-0x3*0x6ad)]=_0x4b0465(_0x363381[_0xa572cf+(-0x40b+0x10e6*0x1+-0xd*0xfd)]);}else for(let _0x1c3529=0x614+0x439*0x3+0x12bf*-0x1;_0x1c3529<_0x5e26e4['length'];_0x1c3529++){const _0x2ef3c9=_0x5e26e4[_0x1c3529]*(-0xac5+-0x2597+-0x1ab*-0x1d),_0x394c7d=_0x1c3529*_0x5821c4+_0x5821c4;_0x2ca2f3[_0x394c7d]=_0x363381[_0x2ef3c9],_0x2ca2f3[_0x394c7d+(0x8bf+-0x1b20+0x1262)]=_0x363381[_0x2ef3c9+(0x79*0x42+0x1fa1*0x1+-0x16*0x2db)],_0x2ca2f3[_0x394c7d+(-0x1e65+0x2f*0x1d+-0x504*-0x5)]=_0x363381[_0x2ef3c9+(-0x1a3+0x783+0x1*-0x5de)];}_0x2e4031['unlock'](),_0x71a9fa[_0x11bcf6]['target']['_setTextur'+'e'](_0x71a9fa[_0x11bcf6]['name'],_0x2e4031);}const _0x5825d4=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(-0x1*-0x1a29+0x20a2+-0x1399*0x3)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x5825d4,_0x31d97b['length']),_0x31d97b['length'],{'data':new Uint32Array(_0x31d97b)}),!(-0x134f+-0x8f*-0x13+0x2e6*0x3);}['destroy'](){var _0x22854e;(_0x22854e=this['vertexBuff'+'erIds'])==null||_0x22854e['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x42c7ba=0x1dcd+0x1*-0x2657+-0x445*-0x2;_0x42c7ba<this['_targets']['length'];_0x42c7ba++)this['_targets'][_0x42c7ba]['destroy']();this['_targets']['length']=0x1*-0x14e7+-0x1*0x241f+0x32b*0x12;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x1f44+-0xc97+0x2bdc),this['_morphNorm'+'als']=!(-0x935*0x3+0x226a+-0x6ca);for(let _0x20996b=0x1*-0x1373+0x1b17+-0x7a4;_0x20996b<this['_targets']['length'];_0x20996b++){const _0x19391d=this['_targets'][_0x20996b];_0x19391d['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x303*-0xb+-0x2cf+0x1*-0x1e52)),_0x19391d['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x1401+0x66*-0x4b+0x31e3));}}['_createTex'+'ture'](_0x42c1fa,_0x17e49a){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x17e49a,'cubemap':!(-0x1*-0x60b+-0x9*-0x197+-0x1459),'mipmaps':!(-0x1675*0x1+-0xae*-0x34+0x671*-0x2),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x42c1fa});}}class Qc{constructor(_0xa11a19){c(this,'used',!(-0x22ea+0x28f*0x1+-0x4c*-0x6d)),(v['assert'](arguments['length']===0x19ca+0x257e+-0x3f47),this['options']=_0xa11a19,this['_name']=_0xa11a19['name'],this['_defaultWe'+'ight']=_0xa11a19['defaultWei'+'ght']||0x445*0x2+0x1*-0x2141+0x18b7,this['_aabb']=_0xa11a19['aabb'],this['deltaPosit'+'ions']=_0xa11a19['deltaPosit'+'ions']);}['destroy'](){var _0x4048b1,_0x133a39;(_0x4048b1=this['texturePos'+'itions'])==null||_0x4048b1['destroy'](),this['texturePos'+'itions']=null,(_0x133a39=this['textureNor'+'mals'])==null||_0x133a39['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x20f0+0x3*0xa49+0xd*0x29);}['_setTextur'+'e'](_0x40d49d,_0x5b6d4c){this[_0x40d49d]=_0x5b6d4c;}}let si,v_=0x1afb*0x1+0x1*0x10df+-0x2bd9;const ie=0x2228+-0x1ef2+-0x332,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x31cbf3){return _0x31cbf3-Math['floor'](_0x31cbf3);}function KM(_0x297b8b){return Math['max'](Math['min'](_0x297b8b,0x1*0x1ace+-0x2*0xd11+-0xab),0x213+0x191d+-0x1b30);}function Hd(_0x461a87,_0x516e4d){return _0x461a87-_0x516e4d*Math['floor'](_0x461a87/_0x516e4d);}function ZM(_0x53d26e){let _0x5efb82=ia(_0x53d26e),_0x151718=ia((0x1698+-0x1f*-0x2f+-0x1b4a)*_0x53d26e),_0x33e132=ia((0x194*-0xdb+-0x1e229*-0x1+0x7574)*_0x53d26e),_0x25cfc1=ia((-0x1044c19b+-0x14f*-0x1b781+-0x149d2f*-0x125)*_0x53d26e);return _0x5efb82-=_0x151718/(-0x8a*0x2b+-0x3b3+0x1be0),_0x151718-=_0x33e132/(-0x11e7*0x2+-0x56*-0x56+0x7e9),_0x33e132-=_0x25cfc1/(0x33*0x33+0xbcd+-0x3*0x6fd),_0x25cfc1-=_0x25cfc1/(0x1b2d+-0x269*-0xc+-0x371a),[_0x5efb82,_0x151718,_0x33e132,_0x25cfc1];}function Nl(_0x492b96){let _0xb8c11b=ia(_0x492b96),_0x536b01=ia((-0x132*0x1d+0x140b+0x1*0xf9e)*_0x492b96);return _0xb8c11b-=_0x536b01/(0x754+0xb5*0x26+0x3*-0xb11),_0x536b01-=_0x536b01/(-0xcbd+-0x3b1*0x7+0x2793),[_0xb8c11b,_0x536b01];}class QM{constructor(_0x2839de){this['_emitter']=_0x2839de;}['calcSpawnP'+'osition'](_0x4af606,_0x455b4a,_0x5bcb82,_0x3da16d,_0x21777d){const _0x5ecd6e=this['_emitter'],_0x3505a4=Math['random'](),_0xf99ceb=Math['random'](),_0x476fde=Math['random'](),_0x45c739=Math['random']();if(_0x5ecd6e['useCpu']&&(_0x4af606[_0x21777d*ie+(0x1ab5+0x97a+-0x242f)+_0x5ecd6e['numParticl'+'esPot']*(-0x1*0x20ed+0xb7+0x2038)*ie]=_0x3505a4,_0x4af606[_0x21777d*ie+(0x18*0x4+-0x3*0x907+0x1ab6)+_0x5ecd6e['numParticl'+'esPot']*(-0x1043*-0x1+0xcb9+-0x1cfa)*ie]=_0xf99ceb,_0x4af606[_0x21777d*ie+(-0x435*-0x7+-0x26b1+0x20*0x4a)+_0x5ecd6e['numParticl'+'esPot']*(0x1*-0x209+0x1*-0x1edf+0x20ea)*ie]=_0x476fde),ze['x']=_0x3505a4-(-0x701+0x102d+-0x24b*0x4+0.5),ze['y']=_0xf99ceb-(0x1*0xfa1+-0x13d2+0x431+0.5),ze['z']=_0x476fde-(0x2360+0x124*0x1+-0x2484+0.5),_0x5ecd6e['emitterSha'+'pe']===Vs){const _0xa1d3ce=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x467ba9=_0xa1d3ce+(0xae2+0x1e86+0x1*-0x2968+0.5-_0xa1d3ce)*_0x5bcb82[0x7*0xf0+-0x23b*0x1+-0x455*0x1],_0x1aba80=_0xa1d3ce+(0x18a6+0x18cb+-0x3*0x107b+0.5-_0xa1d3ce)*_0x5bcb82[0xe3*-0x27+-0x2*-0xf61+0xf5*0x4],_0x1b362f=_0xa1d3ce+(0x1d47+-0x60*0x2b+-0xd27+0.5-_0xa1d3ce)*_0x5bcb82[-0x109b+-0x1282+-0x9*-0x3e7];ze['x']=_0x467ba9*(_0xa1d3ce===Math['abs'](ze['x'])?Math['sign'](ze['x']):(0x1c1f*-0x1+-0x43*0x14+0x215d)*ze['x']),ze['y']=_0x1aba80*(_0xa1d3ce===Math['abs'](ze['y'])?Math['sign'](ze['y']):(-0x10*-0x1f7+-0x81*0x3b+-0x5*0x57)*ze['y']),ze['z']=_0x1b362f*(_0xa1d3ce===Math['abs'](ze['z'])?Math['sign'](ze['z']):(-0x248b+-0x1143+0x2*0x1ae8)*ze['z']),_0x5ecd6e['localSpace']?ks['copy'](_0x455b4a['transformP'+'oint'](ze)):ks['copy'](_0x3da16d)['add'](_0x455b4a['transformP'+'oint'](ze));}else{ze['normalize']();const _0x1819b3=_0x5ecd6e['emitterRad'+'ius']===0x17d2*-0x1+0x41*-0x4a+0x9*0x4bc?0xd*0x139+-0x24cf+0x14ea:_0x5ecd6e['emitterRad'+'iusInner']/_0x5ecd6e['emitterRad'+'ius'],_0x4663ad=_0x45c739*(-0x2e3*-0x1+0x141*0xf+-0x15b1-_0x1819b3)+_0x1819b3;_0x5ecd6e['localSpace']?ks['copy'](ze['mulScalar'](_0x4663ad*_0x5ecd6e['emitterRad'+'ius'])):ks['copy'](_0x3da16d)['add'](ze['mulScalar'](_0x4663ad*_0x5ecd6e['emitterRad'+'ius']));}let _0x77438e=-N['lerp'](_0x5ecd6e['rate'],_0x5ecd6e['rate2'],_0x3505a4)*_0x21777d;if(_0x5ecd6e['pack8']){const _0x98ec7c=(ks['x']-_0x5ecd6e['worldBound'+'s']['center']['x'])/_0x5ecd6e['worldBound'+'sSize']['x']+(-0x1751+-0x2*0x93a+0x29c5+0.5),_0x52507b=(ks['y']-_0x5ecd6e['worldBound'+'s']['center']['y'])/_0x5ecd6e['worldBound'+'sSize']['y']+(0x2262+0x230c+-0x2*0x22b7+0.5),_0x41b16a=(ks['z']-_0x5ecd6e['worldBound'+'s']['center']['z'])/_0x5ecd6e['worldBound'+'sSize']['z']+(-0xc2+0x50e*0x4+-0x6a*0x2f+0.5);let _0x109f04=N['lerp'](_0x5ecd6e['startAngle']*N['DEG_TO_RAD'],_0x5ecd6e['startAngle'+'2']*N['DEG_TO_RAD'],_0x3505a4);_0x109f04=_0x109f04%(Math['PI']*(-0x1d75*-0x1+0x1723*0x1+-0x3496))/(Math['PI']*(-0xae1+0x113e*-0x1+0x1*0x1c21));const _0xd92de4=Nl(_0x98ec7c);_0x4af606[_0x21777d*ie]=_0xd92de4[0xa6a+0x2539+0x3*-0xfe1],_0x4af606[_0x21777d*ie+(0x1446+-0x1*0x23ab+0xf66)]=_0xd92de4[-0x2062+-0x2389+-0x16a4*-0x3];const _0x391d0b=Nl(_0x52507b);_0x4af606[_0x21777d*ie+(0xf89+-0x25df+0x1658)]=_0x391d0b[-0x390+0x2121+0x1d91*-0x1],_0x4af606[_0x21777d*ie+(-0x2529+0x1e21+0x1*0x70b)]=_0x391d0b[-0x70f+0x4*-0x3ec+0x16c0];const _0x1c70f2=Nl(_0x41b16a);_0x4af606[_0x21777d*ie+(-0x2da*-0x1+-0x16da+0x1400)+_0x5ecd6e['numParticl'+'esPot']*ie]=_0x1c70f2[-0x17ce+0x6*0xba+0x1372],_0x4af606[_0x21777d*ie+(0x1*0x385+-0x33*0x6f+0x3*0x633)+_0x5ecd6e['numParticl'+'esPot']*ie]=_0x1c70f2[0x9a8+0x1bf7+-0xa*0x3c3];const _0x2a4844=Nl(_0x109f04);_0x4af606[_0x21777d*ie+(-0x21*-0x96+-0xd43+-0x611)+_0x5ecd6e['numParticl'+'esPot']*ie]=_0x2a4844[0xc5a+-0x7cc+0x1*-0x48e],_0x4af606[_0x21777d*ie+(-0x127*0x1c+0x7c2+0x1885)+_0x5ecd6e['numParticl'+'esPot']*ie]=_0x2a4844[0xb3*0x29+0x2451*0x1+-0x40fb];const _0x4bd3bf=-0x2*0xe5f+-0x127b+0x2f3a;_0x4af606[_0x21777d*ie+(0x12af*-0x1+-0x4*0x2a0+0x1d32)+_0x5ecd6e['numParticl'+'esPot']*ie*(0x144e+0x2*-0x3f7+-0xc5e)]=_0x4bd3bf;const _0x1e2d52=Math['max'](_0x5ecd6e['lifetime'],(_0x5ecd6e['numParticl'+'es']-(-0x8*-0x40c+0x161b+-0x367a))*Math['max'](_0x5ecd6e['rate'],_0x5ecd6e['rate2'])),_0x50263c=_0x5ecd6e['lifetime']+(-0x23db*0x1+-0x2f9*0x9+-0x27*-0x19b);_0x77438e=(_0x77438e+_0x1e2d52)/(_0x1e2d52+_0x50263c);const _0x3334e6=ZM(_0x77438e);_0x4af606[_0x21777d*ie+(-0x4f*0x17+0x1e96+-0x177d)+_0x5ecd6e['numParticl'+'esPot']*ie*(-0x3*-0x7ca+0x21*0x73+-0x262e)]=_0x3334e6[-0x129e+0xe*-0x27+0x40*0x53],_0x4af606[_0x21777d*ie+(-0x231c+-0x4b9+0x1*0x27d6)+_0x5ecd6e['numParticl'+'esPot']*ie*(-0x2159*0x1+-0x1*0x172f+0x388b)]=_0x3334e6[0x11*0xc0+-0x1*-0x4b1+-0x1170],_0x4af606[_0x21777d*ie+(-0x11ff+-0x44f*0x3+0x1eee)+_0x5ecd6e['numParticl'+'esPot']*ie*(-0x246*-0xb+0x11*-0x7c+-0x1*0x10c3)]=_0x3334e6[0xaa2*0x2+-0x1800+0x2be],_0x4af606[_0x21777d*ie+(-0x3*-0x643+0x213d+-0xa67*0x5)+_0x5ecd6e['numParticl'+'esPot']*ie*(0x783+0xb6f*0x1+-0x1*0x12ef)]=_0x3334e6[-0x35*-0x4a+-0x19*0x153+0x11cc];}else _0x4af606[_0x21777d*ie]=ks['x'],_0x4af606[_0x21777d*ie+(0x481*-0x6+0x11dc+0x1*0x92b)]=ks['y'],_0x4af606[_0x21777d*ie+(0x3f4*-0x7+-0x1*-0x18c1+0x6b*0x7)]=ks['z'],_0x4af606[_0x21777d*ie+(0x2174*-0x1+0x8d4+0x18a3)]=N['lerp'](_0x5ecd6e['startAngle']*N['DEG_TO_RAD'],_0x5ecd6e['startAngle'+'2']*N['DEG_TO_RAD'],_0x3505a4),_0x4af606[_0x21777d*ie+(0x9*0x18e+-0x67*0x3+-0xcc6)+_0x5ecd6e['numParticl'+'esPot']*ie]=_0x77438e;}['update'](_0x10c557,_0x307f7d,_0x2dc182,_0x14fe12,_0x1ed08b,_0x229ea5,_0x1f7eba,_0x560609){let _0x1f9ce9,_0x15a4b9,_0x2c7555;const _0xec3b29=this['_emitter'];if(_0xec3b29['meshInstan'+'ce']['node']){const _0x1db156=_0xec3b29['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x1e4c99=0x2099*0x1+-0x16e3+-0x9b6;_0x1e4c99<-0x7*0x4a9+0x2492+0x3e7*-0x1;_0x1e4c99++)Vd['data'][_0x1e4c99]=_0x1db156['data'][_0x1e4c99];Gd['copy'](Vd),Gd['invert'](),si=_0xec3b29['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0x229ea5=_0xec3b29['meshInstan'+'ce']['node']===null||_0xec3b29['localSpace']?T['ZERO']:_0xec3b29['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x57685f=_0xec3b29['camera']?_0xec3b29['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x50349a=_0xec3b29['useMesh']?0x7a*0x1d+-0x32*-0xb1+-0x3053*0x1:0x26f4+-0x1c*0xe+0x1*-0x255d;let _0xaf74fa,_0x33a6e4,_0x4faeab,_0x4503ff,_0x49abe2,_0x179811,_0x3264e6,_0x29864d,_0x38e4ee;const _0x39ce73=_0xec3b29['precision']-(-0x12e3+0x143d+-0x159);for(let _0x5b5350=0xc6a+-0x3af+-0x8bb;_0x5b5350<_0xec3b29['numParticl'+'es'];_0x5b5350++){const _0x3d2267=Math['floor'](_0xec3b29['vbCPU'][_0x5b5350*_0xec3b29['numParticl'+'eVerts']*(_0xec3b29['useMesh']?-0x16ee+0x3*0x5ea+0x536:-0x4*-0x7fd+0x40d*-0x3+-0x5*0x3f5)+(-0x165c+0xb*0x30d+-0xb30)]),_0x4a6d69=_0x2dc182[_0x3d2267*ie+(-0x2198+-0x78b*0x1+0x1*0x2923)+_0xec3b29['numParticl'+'esPot']*(0x11f4+-0xd*0x121+0x1*-0x345)*ie];ps['x']=_0x4a6d69,ps['y']=_0x2dc182[_0x3d2267*ie+(-0x25*-0x103+0x1*-0x251+-0x59*0x65)+_0xec3b29['numParticl'+'esPot']*(-0x14*-0x2+-0x1b43+0x1b1d)*ie],ps['z']=_0x2dc182[_0x3d2267*ie+(-0x3f*0x61+0x2058+-0xb*0xc5)+_0xec3b29['numParticl'+'esPot']*(-0x3*0x153+0x163+0x4*0xa6)*ie];const _0x2b1f20=_0xec3b29['rate']+(_0xec3b29['rate2']-_0xec3b29['rate'])*_0x4a6d69,_0x39405b=_0xec3b29['lifetime'];let _0x4b719d=_0x2dc182[_0x3d2267*ie+(-0x1*-0x1b02+0x9f4+-0x24f3)+_0xec3b29['numParticl'+'esPot']*ie]+_0x1f7eba;const _0x51677b=KM(_0x4b719d/_0x39405b);let _0x99aede=-0x10ab+-0x22*-0xe2+-0xc9*0x11,_0x723dbd=-0x1899+-0x204d+-0x1*-0x38e6;const _0x4067ef=0x12d6+-0x9*-0x3df+-0x35ad;(_0x4b719d-_0x1f7eba<=0x1*-0xdb+0x19a4+-0x18c9||_0x4b719d>=_0x39405b)&&this['calcSpawnP'+'osition'](_0x2dc182,_0x14fe12,_0x1ed08b,_0x229ea5,_0x3d2267);let _0x53be5f=_0x4b719d>0x1*-0x102b+-0x3*-0x459+0x8*0x64&&_0x4b719d<_0x39405b;_0x53be5f&&(_0x2c7555=_0x51677b*_0x39ce73,_0xaf74fa=Math['floor'](_0x2c7555),_0x33a6e4=Math['ceil'](_0x2c7555),_0x2c7555%=-0xa3*-0xd+0x1e3d*-0x1+0x15f7,_0x1f9ce9=_0xec3b29['qRotSpeed'][_0xaf74fa],_0x15a4b9=_0xec3b29['qRotSpeed'][_0x33a6e4],_0x4faeab=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qRotSpeed2'][_0xaf74fa],_0x15a4b9=_0xec3b29['qRotSpeed2'][_0x33a6e4],_0x4503ff=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qScale'][_0xaf74fa],_0x15a4b9=_0xec3b29['qScale'][_0x33a6e4],_0x99aede=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qScale2'][_0xaf74fa],_0x15a4b9=_0xec3b29['qScale2'][_0x33a6e4],_0x49abe2=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qAlpha'][_0xaf74fa],_0x15a4b9=_0xec3b29['qAlpha'][_0x33a6e4],_0x179811=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qAlpha2'][_0xaf74fa],_0x15a4b9=_0xec3b29['qAlpha2'][_0x33a6e4],_0x3264e6=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qRadialSpe'+'ed'][_0xaf74fa],_0x15a4b9=_0xec3b29['qRadialSpe'+'ed'][_0x33a6e4],_0x29864d=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qRadialSpe'+'ed2'][_0xaf74fa],_0x15a4b9=_0xec3b29['qRadialSpe'+'ed2'][_0x33a6e4],_0x38e4ee=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x29864d+=(_0x38e4ee-_0x29864d)*(_0x4a6d69*(0x2665+-0x503*-0x1+0x4*-0xac1)%(0x2588+0x105f+-0x35e6)),Rn['x']=_0x2dc182[_0x3d2267*ie],Rn['y']=_0x2dc182[_0x3d2267*ie+(0x83*0x2e+-0x145+-0x1644)],Rn['z']=_0x2dc182[_0x3d2267*ie+(-0x1448+-0xbe+-0x2a1*-0x8)],_0xec3b29['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0x229ea5),Ka['normalize']()['mulScalar'](_0x29864d),_0xaf74fa*=0x9*0x36f+-0x2ae+-0x2*0xe1b,_0x33a6e4*=-0x1a9*0x8+-0x1d53*-0x1+-0x9*0x1c8,_0x1f9ce9=_0xec3b29['qLocalVelo'+'city'][_0xaf74fa],_0x15a4b9=_0xec3b29['qLocalVelo'+'city'][_0x33a6e4],Ze['x']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qLocalVelo'+'city'][_0xaf74fa+(0x3*-0x16f+-0x61*-0x2e+0x118*-0xc)],_0x15a4b9=_0xec3b29['qLocalVelo'+'city'][_0x33a6e4+(0xb7a*-0x3+0xe87*0x1+-0x8*-0x27d)],Ze['y']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qLocalVelo'+'city'][_0xaf74fa+(0xb5*0xd+0x72+0x55*-0x1d)],_0x15a4b9=_0xec3b29['qLocalVelo'+'city'][_0x33a6e4+(-0xec9+-0xd*0xac+0x1787)],Ze['z']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qLocalVelo'+'city2'][_0xaf74fa],_0x15a4b9=_0xec3b29['qLocalVelo'+'city2'][_0x33a6e4],Dn['x']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qLocalVelo'+'city2'][_0xaf74fa+(0x52*-0x29+0x18a2+-0x147*0x9)],_0x15a4b9=_0xec3b29['qLocalVelo'+'city2'][_0x33a6e4+(0x43f+0x78b*-0x1+-0x41*-0xd)],Dn['y']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qLocalVelo'+'city2'][_0xaf74fa+(-0x210c+-0x5*0x571+0x3c43)],_0x15a4b9=_0xec3b29['qLocalVelo'+'city2'][_0x33a6e4+(-0xafc+-0x1cdc+-0x1*-0x27da)],Dn['z']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qVelocity'][_0xaf74fa],_0x15a4b9=_0xec3b29['qVelocity'][_0x33a6e4],Nt['x']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qVelocity'][_0xaf74fa+(-0x1574+0x85*-0x1f+0x1*0x2590)],_0x15a4b9=_0xec3b29['qVelocity'][_0x33a6e4+(0x6*-0x585+-0x170*0x5+0x284f)],Nt['y']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qVelocity'][_0xaf74fa+(0x5d*-0x65+-0x104b+-0x1*-0x34fe)],_0x15a4b9=_0xec3b29['qVelocity'][_0x33a6e4+(0x1ef1+0x898+-0x2787)],Nt['z']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qVelocity2'][_0xaf74fa],_0x15a4b9=_0xec3b29['qVelocity2'][_0x33a6e4],In['x']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qVelocity2'][_0xaf74fa+(-0x21bd*0x1+0x1c93+0x52b)],_0x15a4b9=_0xec3b29['qVelocity2'][_0x33a6e4+(0x7b*0x13+-0x124a+0x3*0x30e)],In['y']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,_0x1f9ce9=_0xec3b29['qVelocity2'][_0xaf74fa+(0x481*-0x7+-0x1847+0x4*0xdf4)],_0x15a4b9=_0xec3b29['qVelocity2'][_0x33a6e4+(0x1ca6+-0x1*-0x709+0x1*-0x23ad)],In['z']=_0x1f9ce9+(_0x15a4b9-_0x1f9ce9)*_0x2c7555,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0xec3b29['initialVel'+'ocity']>-0xcc8+0x98f+0x339&&(_0xec3b29['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](-0x5*0x655+0x1*0x2080+-0xd5)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0xec3b29['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0xec3b29['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0x4faeab+=(_0x4503ff-_0x4faeab)*ps['y'],_0x99aede=(_0x99aede+(_0x49abe2-_0x99aede)*(_0x4a6d69*(-0x130*0xd+-0xbc*-0x2e+0x14b8)%(0x1819+0x2cc*-0xa+0x3e*0x10)))*v_,_0x723dbd=(_0x3264e6-_0x179811)*(_0x4a6d69*(-0x705*0x3+-0x1*0x12+0x1909*0x1)%(-0x88*0x47+0x16f9*0x1+0x3b0*0x4)),_0xec3b29['meshInstan'+'ce']['node']&&(_0xec3b29['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0xec3b29['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x1f7eba)),vt['copy'](b_),_0x2dc182[_0x3d2267*ie]=vt['x'],_0x2dc182[_0x3d2267*ie+(-0x1081+-0x39b+0x141d)]=vt['y'],_0x2dc182[_0x3d2267*ie+(-0x12aa+0x3d*-0x19+0x18a1)]=vt['z'],_0x2dc182[_0x3d2267*ie+(0x1e9+-0x19c2+-0x1fd*-0xc)]+=_0x4faeab*_0x1f7eba,_0xec3b29['wrap']&&_0xec3b29['wrapBounds']&&(_0xec3b29['localSpace']||vt['sub'](_0x229ea5),vt['x']=Hd(vt['x'],_0xec3b29['wrapBounds']['x'])-_0xec3b29['wrapBounds']['x']*(0x1a31+0x151a+-0x2f4b+0.5),vt['y']=Hd(vt['y'],_0xec3b29['wrapBounds']['y'])-_0xec3b29['wrapBounds']['y']*(0x5e*-0x1d+-0x35*-0x4f+-0x5b5*0x1+0.5),vt['z']=Hd(vt['z'],_0xec3b29['wrapBounds']['z'])-_0xec3b29['wrapBounds']['z']*(-0x18c6+-0x1b1c+0x2*0x19f1+0.5),_0xec3b29['localSpace']||vt['add'](_0x229ea5)),_0xec3b29['sort']>-0x192b+-0x12c3*0x2+0x3eb1&&(_0xec3b29['sort']===-0x1267+-0x1*-0x17ec+0x2c2*-0x2?(wr['copy'](vt)['sub'](_0x57685f),_0xec3b29['particleDi'+'stance'][_0x3d2267]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0xec3b29['sort']===-0xe87*-0x1+0x84e*-0x1+-0x637?_0xec3b29['particleDi'+'stance'][_0x3d2267]=_0x4b719d:_0xec3b29['sort']===-0x3*-0x6c7+0xa5b*-0x2+0x1*0x64&&(_0xec3b29['particleDi'+'stance'][_0x3d2267]=-_0x4b719d))),_0x560609?_0x4b719d<0x14*0x3b+0x1375+-0x1811&&(_0x2dc182[_0x3d2267*ie+(-0xb2d*-0x2+0xb2a*0x2+-0x2cab)+_0xec3b29['numParticl'+'esPot']*(-0xfb0+-0x745+0x16f7*0x1)*ie]=-(0x187*-0xa+0x17c5*0x1+-0x87e)):(_0x4b719d>=_0x39405b&&(_0x4b719d-=Math['max'](_0x39405b,(_0xec3b29['numParticl'+'es']-(-0x876+-0x841*-0x1+0x1b*0x2))*_0x2b1f20),_0x2dc182[_0x3d2267*ie+(0x5*-0x60d+0x15b1+0x893)+_0xec3b29['numParticl'+'esPot']*(-0x6ee+0x24c+0x1b*0x2c)*ie]=_0xec3b29['loop']?0x1*0x11d7+0xc0*-0x2b+0xe6a:-(-0x3d*-0x1+-0x1*0x120b+0x11cf)),_0x4b719d<0x4a7+0x2663+-0x2b0a&&_0xec3b29['loop']&&(_0x2dc182[_0x3d2267*ie+(0x459+-0x13e0+0xf8a)+_0xec3b29['numParticl'+'esPot']*(-0x8dd+-0x47c*-0x2+-0x19*0x1)*ie]=0x2671+0xf52+-0x35c2*0x1)),_0x2dc182[_0x3d2267*ie+(-0xc9*-0x22+-0x1323*0x2+0x3dd*0x3)+_0xec3b29['numParticl'+'esPot']*(-0x1632+-0x122e+0x2862)*ie]<0x1029+0xe7*0x15+-0x231c*0x1&&(_0x53be5f=!(-0xa*-0x107+0x31*-0x3f+-0xe5*-0x2)),_0x2dc182[_0x3d2267*ie+(0x5a1+0x723+-0xcc1)+_0xec3b29['numParticl'+'esPot']*ie]=_0x4b719d;for(let _0x3ca7ca=-0xc*0x1e7+0x4*-0x907+0x3af0;_0x3ca7ca<_0xec3b29['numParticl'+'eVerts'];_0x3ca7ca++){const _0x4bcb4b=(_0x5b5350*_0xec3b29['numParticl'+'eVerts']+_0x3ca7ca)*(_0xec3b29['useMesh']?-0x109e+0x25*-0x16+0x13d2:0x3*-0x5b1+0x5*0x5b1+-0xb5e);let _0x451938=_0xec3b29['vbCPU'][_0x4bcb4b],_0x422b55=_0xec3b29['vbCPU'][_0x4bcb4b+(0x210f+0x1*0x5f6+0x4*-0x9c1)],_0x2ad061=_0xec3b29['vbCPU'][_0x4bcb4b+(0x1c60+0x11b3+0x3*-0xf5b)];_0x53be5f||(_0x451938=_0x422b55=_0x2ad061=-0x34*-0xaa+-0xab2+0x9*-0x2a6);const _0x51615f=_0x5b5350*_0xec3b29['numParticl'+'eVerts']*_0x50349a+_0x3ca7ca*_0x50349a;_0x10c557[_0x51615f]=vt['x'],_0x10c557[_0x51615f+(-0x14d4+-0x18c1*0x1+0x5*0x91e)]=vt['y'],_0x10c557[_0x51615f+(0x7fb*0x1+0x11ef+-0x19e8)]=vt['z'],_0x10c557[_0x51615f+(-0x2609+-0x4*-0x251+0x1cc8)]=_0x51677b,_0x10c557[_0x51615f+(0x9*0x14e+0xeeb+-0x1aa5)]=_0xec3b29['alignToMot'+'ion']?_0x4067ef:_0x2dc182[_0x3d2267*ie+(0x1*-0x1075+-0x2178+0x31f0)],_0x10c557[_0x51615f+(0x1*0x2263+-0x14f3*-0x1+0x7e7*-0x7)]=_0x99aede,_0x10c557[_0x51615f+(0x10c+0x1417+-0x151d)]=_0x723dbd,_0x10c557[_0x51615f+(0xecf+0x2027+0xf*-0x321)]=Bl['x'],_0x10c557[_0x51615f+(-0x15b4+0x1f72+-0x9b6)]=_0x451938,_0x10c557[_0x51615f+(-0x6b7+0xd62+-0x11b*0x6)]=_0x422b55,_0x10c557[_0x51615f+(-0xe5e+0x12e5+-0x47d)]=_0x2ad061,_0x10c557[_0x51615f+(-0x126f+0x1ebe*0x1+-0xc44)]=Bl['y'],_0x10c557[_0x51615f+(0x22c0+-0x832+0x12*-0x179)]=_0x3d2267,_0x10c557[_0x51615f+(-0xcb*0x3+-0x1f16+0x2184)]=Bl['z'],_0x10c557[_0x51615f+(-0xf31*0x1+0x22b9+-0x137a)]=_0xec3b29['vbCPU'][_0x4bcb4b+(0xe6*-0x9+-0xd*-0x17+0x2*0x377)],_0xec3b29['useMesh']&&(_0x10c557[_0x51615f+(0x1eff+-0x17bc+0x39a*-0x2)]=_0xec3b29['vbCPU'][_0x4bcb4b+(-0xec9+-0x181a*-0x1+-0x94d)],_0x10c557[_0x51615f+(0x1*0x10a9+-0x1*-0x1e5+-0x127e)]=_0xec3b29['vbCPU'][_0x4bcb4b+(-0x1595+0x1afb+-0x561)]);}}if(_0xec3b29['sort']>Du&&_0xec3b29['camera']){const _0x25ab9b=_0xec3b29['useMesh']?0x759+-0x1e06+0x1bf*0xd:-0xb58+-0xfdd+0x17*0x12f,_0x46928b=_0xec3b29['particleDi'+'stance'];for(let _0x4dafe6=0x40b+0x21a3*0x1+0x6a*-0x5b;_0x4dafe6<_0xec3b29['numParticl'+'es'];_0x4dafe6++)_0x307f7d[_0x4dafe6][-0x7a5+0x8*0x84+-0x1*-0x385]=_0x4dafe6,_0x307f7d[_0x4dafe6][-0x1448+0x1230+0x219]=_0x46928b[Math['floor'](_0xec3b29['vbCPU'][_0x4dafe6*_0xec3b29['numParticl'+'eVerts']*_0x25ab9b+(0x15c*-0x2+-0x532+0x1*0x7ed)])];_0xec3b29['vbOld']['set'](_0xec3b29['vbCPU']),_0x307f7d['sort']((_0x13156d,_0x546899)=>_0x13156d[-0x1205*0x2+-0x5*-0x29e+0x3*0x7a7]-_0x546899[-0x17ba+-0xbda+0x2395]);for(let _0x500686=0x1*0x16d1+0x124f+-0x2920;_0x500686<_0xec3b29['numParticl'+'es'];_0x500686++){const _0x2984ae=_0x307f7d[_0x500686][0x1ea8+0x755+-0x25fd]*_0xec3b29['numParticl'+'eVerts']*_0x25ab9b,_0x48b0bf=_0x500686*_0xec3b29['numParticl'+'eVerts']*_0x25ab9b;for(let _0xa22e7e=-0x206c+0x1b4+0x1eb8;_0xa22e7e<_0xec3b29['numParticl'+'eVerts']*_0x25ab9b;_0xa22e7e++)_0xec3b29['vbCPU'][_0x48b0bf+_0xa22e7e]=_0xec3b29['vbOld'][_0x2984ae+_0xa22e7e];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x29f016,_0x3ee700){this['_emitter']=_0x29f016,this['frameRando'+'mUniform']=new Float32Array(-0x199b+0x377*-0x7+0x31df),this['emitterPos'+'Uniform']=new Float32Array(-0x175c+0x25b1+-0x5e*0x27),this['emitterSca'+'leUniform']=new Float32Array([-0x2431*-0x1+-0x206f+-0x3c1*0x1,-0x1*-0x2065+0x351*0x7+-0xf*0x3b5,-0x83f*-0x1+-0x1*0x165c+0xe1e]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x4b*0x17+0x6*0x20a+-0x12f6),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x111+-0x11d7*0x2+0x24c2),this['inBoundsSi'+'zeUniform']=new Float32Array(0x1*-0x250d+-0x2539+0x4a49),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x1405+-0x1569*-0x1+-0x296b),this['constantPa'+'rticleTexI'+'N']=_0x3ee700['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x3ee700['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x3ee700['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x3ee700['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x3ee700['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x3ee700['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x3ee700['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x3ee700['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x3ee700['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x3ee700['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x3ee700['scope']['resolve']('delta'),this['constantRa'+'te']=_0x3ee700['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x3ee700['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x3ee700['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x3ee700['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x3ee700['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x3ee700['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x3ee700['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x3ee700['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x3ee700['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x3ee700['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x3ee700['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x3ee700['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x3ee700['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x3ee700['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x3ee700['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x3ee700['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x3ee700['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x3ee700['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x3ee700['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x3ee700['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x3ee700['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x3ee700['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x3ee700['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x3ee700['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x3ee700['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x3ee700['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x1*-0x1024+-0x267e*-0x1+-0x165a]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x8a0+0x2626+0x1*-0x2ec5]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x4*-0x13d+0x1f73+-0x2465]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x1*0x1d3f+-0x27*-0xfb+0x8fe*-0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][0x7*-0x2de+-0x18c+-0x9*-0x267]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x8d9+-0x11ba+0x1a95*0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x1a2e*-0x1+0x1e31+0x1*-0x385f]=Math['random'](),this['frameRando'+'mUniform'][0xf1f+0x13ff+-0x231d]=Math['random'](),this['frameRando'+'mUniform'][0x15*-0x15b+0x1de9*0x1+-0x170]=Math['random']();}['update'](_0x1aba5b,_0x96b301,_0x5beb72,_0x44989c,_0x1b49ba){G['pushGpuMar'+'ker'](_0x1aba5b,'ParticleGP'+'U');const _0x3042da=this['_emitter'];_0x1aba5b['setBlendSt'+'ate'](_t['NOBLEND']),_0x1aba5b['setDepthSt'+'ate'](as['NODEPTH']),_0x1aba5b['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x2518+-0x1*0x5a7+-0x1f70)/_0x3042da['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x3042da['precision']),this['constantNu'+'mParticles']['setValue'](_0x3042da['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x3042da['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x3042da['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x3042da['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x3042da['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x3042da['internalTe'+'x3']);const _0x31ec7e=_0x3042da['meshInstan'+'ce']['node'],_0x470fe1=_0x31ec7e===null?T['ONE']:_0x31ec7e['localScale'];if(_0x3042da['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0xbe*-0x4+0xf2e+-0x1226]=_0x3042da['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x1109+0x11cc*0x1+-0x2*0x116a]=_0x3042da['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x7f*-0x1+-0xa41+-0x6*-0x1cb]=_0x3042da['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x1429+0x1*0x1e66+-0x328f]=_0x3042da['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x90b*-0x1+-0xe9f+-0x1*-0x595]=_0x3042da['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x23d7+-0xf4f+0x25*-0x8e]=_0x3042da['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x2947c1=_0x3042da['maxVel']*Math['max'](Math['max'](_0x470fe1['x'],_0x470fe1['y']),_0x470fe1['z']);_0x2947c1=Math['max'](_0x2947c1,-0x238*-0x3+0xb*-0x1+-0x69c),this['constantMa'+'xVel']['setValue'](_0x2947c1);}const _0x1f3ae9=_0x31ec7e===null||_0x3042da['localSpace']?T['ZERO']:_0x31ec7e['getPositio'+'n'](),_0x2a0004=_0x31ec7e===null?q['IDENTITY']:_0x31ec7e['getWorldTr'+'ansform']();_0x3042da['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x96b301),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x5beb72)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x3042da['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x3042da['emitterRad'+'ius']===-0x477+0x28d*-0x4+0xeab?-0x197*0x1+-0x7e9+-0x80*-0x13:_0x3042da['emitterRad'+'iusInner']/_0x3042da['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x3042da['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x2a0004),A_['invertMat4'](_0x2a0004),this['emitterPos'+'Uniform'][0x125f+-0x17dd+0x57e*0x1]=_0x1f3ae9['x'],this['emitterPos'+'Uniform'][0x1*-0x6e9+-0x1269+0x1953]=_0x1f3ae9['y'],this['emitterPos'+'Uniform'][0x1*0x1532+0xfd5+-0x2505]=_0x1f3ae9['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x44989c),this['constantRa'+'te']['setValue'](_0x3042da['rate']),this['constantRa'+'teDiv']['setValue'](_0x3042da['rate2']-_0x3042da['rate']),this['constantSt'+'artAngle']['setValue'](_0x3042da['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x3042da['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x3042da['seed']),this['constantLi'+'fetime']['setValue'](_0x3042da['lifetime']),this['emitterSca'+'leUniform'][-0x63*-0x5+0x145d+-0x164c*0x1]=_0x470fe1['x'],this['emitterSca'+'leUniform'][0x12f7+-0x15*-0xaf+-0x2151]=_0x470fe1['y'],this['emitterSca'+'leUniform'][0xe89*-0x2+-0x9e1+0x26f5]=_0x470fe1['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x3042da['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x3042da['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x3042da['rotSpeedUM'+'ax'][-0x1*-0xfd7+-0x5*0x1b4+-0x753]);let _0x427856=_0x3042da['swapTex']?_0x3042da['particleTe'+'xOUT']:_0x3042da['particleTe'+'xIN'];_0x427856=_0x3042da['beenReset']?_0x3042da['particleTe'+'xStart']:_0x427856;const _0x4f87e2=_0x3042da['swapTex']?_0x3042da['particleTe'+'xIN']:_0x3042da['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x427856),dn(_0x1aba5b,_0x3042da['swapTex']?_0x3042da['rtParticle'+'TexIN']:_0x3042da['rtParticle'+'TexOUT'],_0x1b49ba?_0x3042da['shaderPart'+'icleUpdate'+'OnStop']:_0x3042da['loop']?_0x3042da['shaderPart'+'icleUpdate'+'Respawn']:_0x3042da['shaderPart'+'icleUpdate'+'NoRespawn']),_0x3042da['material']['setParamet'+'er']('particleTe'+'xOUT',_0x427856),_0x3042da['material']['setParamet'+'er']('particleTe'+'xIN',_0x4f87e2),_0x3042da['beenReset']=!(0x7b1+-0x1a*0xab+0x9ae),_0x3042da['swapTex']=!_0x3042da['swapTex'],_0x3042da['prevWorldB'+'oundsSize']['copy'](_0x3042da['worldBound'+'sSize']),_0x3042da['prevWorldB'+'oundsCente'+'r']['copy'](_0x3042da['worldBound'+'s']['center']),_0x3042da['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x1aba5b);}}class e1 extends It{['generateKe'+'y'](_0x3f160c){let _0xdb696='particle_'+It['definesHas'+'h'](_0x3f160c['defines'])+'_';for(const _0x5413da in _0x3f160c)_0x3f160c['hasOwnProp'+'erty'](_0x5413da)&&(_0xdb696+=_0x3f160c[_0x5413da]);return _0xdb696;}['_animTex'](_0x5c2971){let _0x507136='';return _0x507136+=_0x5c2971['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x507136+=X['particleAn'+'imTexVS'],_0x507136;}['createShad'+'erDefiniti'+'on'](_0x427c26,_0x3f9df1){const _0x4341ed='#define\x20PA'+'RTICLE_'+(_0x3f9df1['useCpu']?'CPU':'GPU')+'\x0a';let _0x3cc1ef='#define\x20PA'+'RTICLE\x0a'+_0x4341ed,_0x386744='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x4341ed;_0x3f9df1['mesh']&&(_0x386744+='#define\x20US'+'E_MESH\x0a'),_0x3f9df1['localSpace']&&(_0x386744+='#define\x20LO'+'CAL_SPACE\x0a'),_0x3f9df1['screenSpac'+'e']&&(_0x386744+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x3f9df1['animTex']&&(_0x386744+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x3f9df1['animTex']&&(_0x386744+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x3f9df1['animTex']&&(_0x386744+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x3f9df1['normal']===-0x2054+0x6*-0x59+-0x89b*-0x4&&(_0x386744+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x3f9df1['normal']===-0x283+0x353+-0xcf&&(_0x386744+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x3f9df1['soft']&&(_0x386744+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x2ef9d3=_0x3f9df1['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x3f9df1['useCpu']?(_0x3f9df1['soft']>-0x1b83*-0x1+0xf*-0x11b+-0xaee&&(_0x386744+=X['screenDept'+'hPS']),_0x386744+=X['particle_c'+'puVS'],_0x3f9df1['localSpace']&&(_0x386744+=X['particle_l'+'ocalShiftV'+'S']),_0x3f9df1['animTex']&&(_0x386744+=this['_animTex'](_0x3f9df1)),_0x3f9df1['alignToMot'+'ion']&&(_0x386744+=X['particle_p'+'ointAlongV'+'S']),_0x386744+=_0x3f9df1['mesh']?X['particle_m'+'eshVS']:_0x2ef9d3,_0x3f9df1['normal']===0x18d9+0x77*0xd+-0x1ee3&&(_0x386744+=X['particle_n'+'ormalVS']),_0x3f9df1['normal']===-0x2641*-0x1+0x2*0xe93+-0x51*0xd5&&(_0x386744+=X['particle_T'+'BNVS']),_0x3f9df1['stretch']>-0x16b2+-0x211d+0x7*0x7f9&&(_0x386744+=X['particle_s'+'tretchVS']),_0x386744+=X['particle_c'+'pu_endVS'],_0x3f9df1['soft']>0xe87*0x1+-0xe6f+0xc*-0x2&&(_0x386744+=X['particle_s'+'oftVS'])):(_0x386744+=X['particle_i'+'nitVS'],_0x386744+=_0x3f9df1['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x3f9df1['soft']>0xf6d*-0x2+-0xea+0x1fc4&&(_0x386744+=X['screenDept'+'hPS']),_0x386744+=X['particleVS'],_0x3f9df1['localSpace']&&(_0x386744+=X['particle_l'+'ocalShiftV'+'S']),_0x3f9df1['animTex']&&(_0x386744+=this['_animTex'](_0x3f9df1)),_0x3f9df1['wrap']&&(_0x386744+=X['particle_w'+'rapVS']),_0x3f9df1['alignToMot'+'ion']&&(_0x386744+=X['particle_p'+'ointAlongV'+'S']),_0x386744+=_0x3f9df1['mesh']?X['particle_m'+'eshVS']:_0x2ef9d3,_0x3f9df1['normal']===0x759+-0x1f09+0x17b1&&(_0x386744+=X['particle_n'+'ormalVS']),_0x3f9df1['normal']===0x1b*0x9d+0x3*-0x12f+-0x340*0x4&&(_0x386744+=X['particle_T'+'BNVS']),_0x3f9df1['stretch']>-0xb60+-0x1*0x985+0x3*0x6f7&&(_0x386744+=X['particle_s'+'tretchVS']),_0x386744+=X['particle_e'+'ndVS'],_0x3f9df1['soft']>0x2554+0x2*0xd62+-0x4018&&(_0x386744+=X['particle_s'+'oftVS'])),_0x386744+='}\x0a',_0x3f9df1['normal']>-0x1bc4+0x2346+-0x782&&(_0x3f9df1['normal']===-0x2482+-0x1444*0x1+0x3c9*0xf?_0x3cc1ef+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x3f9df1['normal']===-0x3*0xa13+0x6*-0x4fd+0x3c29&&(_0x3cc1ef+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x3cc1ef+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x3f9df1['soft']&&(_0x3cc1ef+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x3cc1ef+=X['decodePS'],_0x3cc1ef+='#include\x20\x22'+'gammaPS\x22\x0a',_0x3cc1ef+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x3cc1ef+='#include\x20\x22'+'fogPS\x22\x0a',_0x3f9df1['normal']===-0x198a+0xfb*-0x17+-0x7*-0x6df&&(_0x3cc1ef+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x3f9df1['soft']>0x7*-0x128+0x232b+-0x1b13&&(_0x3cc1ef+=X['screenDept'+'hPS']),_0x3cc1ef+=X['particlePS'],_0x3f9df1['soft']>0x2*0xa12+-0x139*-0x13+-0x3*0xe75&&(_0x3cc1ef+=X['particle_s'+'oftPS']),_0x3f9df1['normal']===-0x1c69+0x1c74+0x2*-0x5&&(_0x3cc1ef+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x3f9df1['normal']===0x204e*-0x1+0x8*0x3e1+0x148&&(_0x3cc1ef+=X['particle_n'+'ormalMapPS']),_0x3f9df1['normal']>0x1*0x1faf+0x5*-0x3af+-0xd44*0x1&&(_0x3cc1ef+=_0x3f9df1['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x3f9df1['normal']>0x13df+0x11*-0x23b+0x120c&&(_0x3cc1ef+=X['particle_l'+'ightingPS']),_0x3f9df1['blend']===Kt?_0x3cc1ef+=X['particle_b'+'lendNormal'+'PS']:_0x3f9df1['blend']===yp?_0x3cc1ef+=X['particle_b'+'lendAddPS']:_0x3f9df1['blend']===xp&&(_0x3cc1ef+=X['particle_b'+'lendMultip'+'lyPS']),_0x3cc1ef+=X['particle_e'+'ndPS'];const _0x1b0429=new Map(Object['entries']({...X,..._0x3f9df1['chunks']}));return Mt['createDefi'+'nition'](_0x427c26,{'name':'ParticleSh'+'ader','vertexCode':_0x386744,'fragmentCode':_0x3cc1ef,'fragmentDefines':_0x3f9df1['defines'],'fragmentIncludes':_0x1b0429,'vertexDefines':_0x3f9df1['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x5c0565){super(),c(this,'emitter',null),(this['emitter']=_0x5c0565,v['assert'](_0x5c0565));}['getShaderV'+'ariant'](_0x3e74c3){const {device:_0x1b878f,scene:_0x3ab278,cameraShaderParams:_0x13074a}=_0x3e74c3,{emitter:_0x29a107}=this,_0x5954b5={'defines':Dp(this,_0x3e74c3),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0x29a107['lighting']?_0x29a107['normalMap']!==null?-0xe5b+0x176d*0x1+-0x10*0x91:-0x2690*-0x1+0x1315+0x1b2*-0x22:-0x1*0x162b+0x107*0x21+-0xbbc,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0x13074a==null?void(0x153*0x14+0xb1e*0x1+-0x1*0x259a):_0x13074a['shaderOutp'+'utGamma'])??sl,'toneMap':(_0x13074a==null?void(-0x17aa+0x1507+-0x5*-0x87):_0x13074a['toneMappin'+'g'])??Ap,'fog':_0x3ab278&&!this['emitter']['noFog']?_0x3ab278['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x29a107['inTools']?!(0x3b*0x76+-0xb27+0x1*-0x100a):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0x3c190b=new Yc(_0x3e74c3['viewUnifor'+'mFormat'],_0x3e74c3['viewBindGr'+'oupFormat'],_0x3e74c3['vertexForm'+'at']),_0x29c35e=ka(_0x1b878f);return _0x29c35e['register']('particle',t1),_0x29c35e['getProgram']('particle',_0x5954b5,_0x3c190b,this['userId']);}}const E_=[[-(0x2410+0x2*0xef3+-0x41f5),-(-0x2e4+0x1*0x526+-0x241*0x1)],[0x236d+-0x2255+0x117*-0x1,-(0x2c8+-0x1*0x2629+0x2362)],[-0x2424+0x6a9+0x44*0x6f,-0x1bfd+0x2644+0x1*-0xa46],[-(-0x1*0x135+0x1*0x7bd+-0x687),0x1e20+-0x1b72+-0x2ad]];function Qt(_0x43a3b8,_0x4cf495,_0x297771,_0x2dced7,_0x6fe16a=Ke,_0x325757,_0x9584a){let _0x24959b=de;_0x9584a&&(_0x6fe16a===Se||_0x6fe16a===rs)&&(_0x24959b=st);const _0x5f34cc=new he(_0x43a3b8,{'width':_0x4cf495,'height':_0x297771,'format':_0x6fe16a,'cubemap':!(0x3bc*0x4+0x5b3*-0x3+0x22a),'mipmaps':!(0x186c+0x7*0x49a+0x13*-0x2fb),'minFilter':_0x24959b,'magFilter':_0x24959b,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0xf21ad4=_0x5f34cc['lock']();if(_0x6fe16a===Se||_0x6fe16a===rs){const _0x2529a0=new Uint8Array(_0x2dced7['length']);for(let _0x5188b1=0x13*0x51+-0x166e+0x3*0x579;_0x5188b1<_0x2dced7['length'];_0x5188b1++)_0x2529a0[_0x5188b1]=_0x2dced7[_0x5188b1]*_0x325757*(0x77*0x3d+0x1b06+0x1b31*-0x2);_0x2dced7=_0x2529a0;}return _0xf21ad4['set'](_0x2dced7),_0x5f34cc['unlock'](),_0x5f34cc;}function C_(_0x34346b){return Math['max'](Math['min'](_0x34346b,0x3*-0x291+-0x44d*-0x9+-0x1f01),0xb2b+0x12fc+-0x3*0xa0d);}const M_=new Cs([-0x1c79+-0x11*0x1e1+0x3c6a,-0x16b5+-0x3a8+-0x18d*-0x11,-0x1929*0x1+0x40f*-0x6+-0x18c2*-0x2,0x1983+-0x1*0x1aac+-0x1b*-0xb]),P_=new Cs([0x18ac+-0x1*0x1e90+-0x74*-0xd,-0xdd6+-0xb0f*-0x3+-0x1356,-0x27*-0xa6+-0x71e+0x1*-0x122b,-0x24ca+0x192b+0xba0]),R_=new jr([-0x17b0+0x5*0x83+0x9*0x259,-0x4f*-0x43+-0x23ea+0xf3d,-0x153*-0xd+0x73b*-0x3+-0x47b*-0x1,-0x4f3*0x1+0x1*-0x169f+0x1b92],[-0x2357+0x383*-0x8+-0x1525*-0x3,-0x1499+0x2329+-0xe90,0x2255+-0x1*-0x1c5d+-0x3eb1,-0x340+0x24ee+-0x21ae*0x1],[-0x36f+-0x3*-0xc27+-0xb02*0x3,-0x125d+-0x167*0x13+-0x1*-0x2d02,-0x1917+-0x1c55+-0x11cf*-0x3,-0x1*-0x542+-0x1e7*0x11+0x1b15]),i1=new jr([-0x2298+-0x2dd*0x7+0x36a3,0x8d9+0x14c5+-0x1d9d,-0x45d*0x7+-0x109*0xb+0x1*0x29ef,0x2031+0x1c*-0xcf+-0x98c],[0x3e2+0x7a9+-0x1*0xb8b,0x1*0xaaf+0x1906+0x8ed*-0x4,0x87b+-0xde8+-0x56e*-0x1,-0x2409+-0x9ef+0x2df9],[-0x3d*0x4f+-0xc85+0x22*0xec,-0x4*-0x133+0x1*-0xfb5+0xaea,-0x2412+0x20*0xfa+0x13*0x41,0x1*-0x1ced+-0xc1e*-0x1+0x10d0]);let ii=-0x94e+0x109c+0x2*-0x3a6;const zl=-0x1acd+-0x235b+0xad*0x5c,ri=new Float32Array(-0x238e+0x218a+0x207),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x3d5317,_0x367451){fh[_0x3d5317]!==void(0x17*0x10d+0xa*0x1f1+0x2b95*-0x1)&&fh[_0x3d5317]!==null?Hu[_0x3d5317]=fh[_0x3d5317]:Hu[_0x3d5317]=_0x367451;}function O0(_0x565383,_0xc7d097,_0x5e151e){return(_0x565383*(0x5f4*-0x1+-0x158+0x84b)<<-0xca4+0xbbf+0xf5|_0xc7d097*(-0x81c+-0xb02+0x141d)<<-0xe49*-0x2+0x11a9*-0x1+-0xae1|_0x5e151e*(0x1429+0x12eb+-0x2615))/(0x1662+-0x1*-0x2165+-0x37c6<<-0x3f9+-0x93*0x6+0x783);}function D_(_0x321df1,_0x22bf45){const _0x59e23b=_0x321df1['length']/(-0x16e2+0x18c4+-0x1*0x1df),_0x2e8b58=new Array(_0x59e23b*(0x3*-0x147+0x689*-0x1+0xa62));for(let _0x2da852=-0x3fd+0xe2a+-0xa2d;_0x2da852<_0x59e23b;_0x2da852++)_0x2e8b58[_0x2da852*(-0xe17*-0x1+-0xe1e+0xb)]=_0x321df1[_0x2da852*(0x5*0x347+0x1f53+0x1*-0x2fb3)],_0x2e8b58[_0x2da852*(0x76*0x4d+0x23e+0x8e*-0x44)+(0x1*-0x11b3+0xd00+0x4b4)]=_0x321df1[_0x2da852*(0x234f+-0xf8e+-0x13be*0x1)+(0x424+-0x707+-0x2e4*-0x1)],_0x2e8b58[_0x2da852*(0x2707+-0x31*-0xd+-0x2980)+(-0xb1a+0x6*-0x1a3+0x14ee*0x1)]=_0x321df1[_0x2da852*(-0x372+0x20db+-0x1d66)+(0x1*0x1e07+0x252a+-0x432f)],_0x2e8b58[_0x2da852*(-0x753+-0x1*-0x155d+-0x2*0x703)+(0x1871*-0x1+0x1*-0x20e3+0x3957)]=O0(_0x22bf45[_0x2da852*(0xd16+0x26c3*-0x1+-0x18*-0x112)],_0x22bf45[_0x2da852*(0x1b5b+0x8*-0xdd+0x28e*-0x8)+(-0x27a+0x153*-0x8+0xd13*0x1)],_0x22bf45[_0x2da852*(-0xb16+-0x4c*0x5+0xc95)+(0x12*0x9d+-0x2*-0x779+-0x19fa)]);return _0x2e8b58;}function r1(_0x5acccf,_0xb6a34c){const _0x5c6000=new Array(_0xb6a34c['length']*(0x59*0x3+-0x6d*0x36+0x1*0x15f7));for(let _0x3a6ebc=-0x2310+0x104d+0x12c3;_0x3a6ebc<_0xb6a34c['length'];_0x3a6ebc++)_0x5c6000[_0x3a6ebc*(0x21b5+-0x3*0xa51+-0x2be)]=_0x5acccf[_0x3a6ebc*(-0x1*-0x22e+0x4cc*-0x2+0x76d)],_0x5c6000[_0x3a6ebc*(-0x1*-0x1417+0x4*-0x1bc+-0x461*0x3)+(-0x1*0x1de1+0x1503+0x8df)]=_0x5acccf[_0x3a6ebc*(0x240a+0x8*0x387+-0x403f*0x1)+(-0xb85+-0x164b+-0xb*-0x313)],_0x5c6000[_0x3a6ebc*(-0x2547+-0xac1+0x300c)+(-0x36b*0x8+0x303+0x1857)]=_0x5acccf[_0x3a6ebc*(-0x25c4+0x1f7f*-0x1+-0x1*-0x4546)+(-0x1442*-0x1+0x42*-0x4f+0x1e)],_0x5c6000[_0x3a6ebc*(0xd2e+0x664+-0x138e)+(-0x37a+-0x48*0x81+-0x27c5*-0x1)]=_0xb6a34c[_0x3a6ebc];return _0x5c6000;}function n1(_0x4ea59e,_0xc02882,_0x51b625,_0x3da574,_0xe24f42){const _0x26e7f9=new Array(_0x4ea59e['length']*(0x1532+-0xc1*-0x1a+0xe8*-0x2d));for(let _0x14ae42=-0x243d+-0x1e01+0x1*0x423e;_0x14ae42<_0x4ea59e['length'];_0x14ae42++)_0x26e7f9[_0x14ae42*(0x1715*0x1+-0xfe+0x1*-0x1613)]=_0x4ea59e[_0x14ae42],_0x26e7f9[_0x14ae42*(-0x16*0x52+-0x771+0x1*0xe81)+(-0x159*-0xe+-0x74c+-0x2f*0x3f)]=_0xc02882[_0x14ae42],_0x26e7f9[_0x14ae42*(0x23*0x95+-0x158*-0x11+0x1*-0x2b33)+(-0x57*-0x2b+0xc*0x112+0x1*-0x1b73)]=-0x1345*0x1+-0x7*0x2fd+0x2830,_0x26e7f9[_0x14ae42*(-0xdca+-0x2*0x5c7+-0x1*-0x195c)+(-0xe*0x1d0+-0x20c*0x8+0x29c3*0x1)]=O0(_0x51b625[_0x14ae42],_0x3da574[_0x14ae42],_0xe24f42[_0x14ae42]);return _0x26e7f9;}function a1(_0x335270,_0x1951bc){const _0x215f09=new Array(_0x335270['length']*(-0x2069*0x1+0xc73*0x1+-0x1*-0x13fa));for(let _0x53fe1c=0x1b75+-0x5ad+0x52*-0x44;_0x53fe1c<_0x335270['length'];_0x53fe1c++)_0x215f09[_0x53fe1c*(-0x44b*0x1+-0x139d+0x17ec)]=_0x335270[_0x53fe1c],_0x215f09[_0x53fe1c*(0x4db*0x2+-0x2*0x1205+-0x464*-0x6)+(-0x255e*-0x1+-0x1*0x3a+-0x2523)]=_0x1951bc[_0x53fe1c],_0x215f09[_0x53fe1c*(0x4*-0x316+0x120c+-0x5b0)+(-0x2f1*-0x9+-0x12c6+-0xb3*0xb)]=-0xfb+-0x97*-0x1e+0x10b7*-0x1,_0x215f09[_0x53fe1c*(0x142d+-0x1252+-0x1d7)+(-0x1f7f+-0xe8a+0x2e0c)]=0x166c+-0xec5*0x1+-0x7a7;return _0x215f09;}function o1(_0x51a7af){const _0x12fcb1=Math['max'](_0x51a7af['rate'],_0x51a7af['rate2'])*_0x51a7af['numParticl'+'es']+_0x51a7af['lifetime'];return Date['now']()+_0x12fcb1*(-0x674+0x20ab+-0x164f*0x1);}function l1(_0x57dcfc,_0x1a87c6){const _0xe46005=new Float32Array(_0x57dcfc['length']);for(let _0x33804e=0x9*-0x456+-0x99d*-0x2+0x13cc;_0x33804e<_0x57dcfc['length'];_0x33804e++)_0xe46005[_0x33804e]=_0x57dcfc[_0x33804e]-_0x1a87c6[_0x33804e];return _0xe46005;}function Fr(_0x28bf0f,_0x4dae09){const _0x3f6de1=_0x4dae09['length'],_0x3528eb=_0x28bf0f['length']/_0x3f6de1;for(let _0x317620=0x8e5+0xf*0xcb+-0x14ca;_0x317620<_0x3528eb;_0x317620++)for(let _0x4616a3=0x11*0x52+-0xa43+0x4d1;_0x4616a3<_0x3f6de1;_0x4616a3++){const _0x3878ce=Math['abs'](_0x28bf0f[_0x317620*_0x3f6de1+_0x4616a3]);_0x4dae09[_0x4616a3]=Math['max'](_0x4dae09[_0x4616a3],_0x3878ce);}}function h1(_0x45d002,_0x26f1d3){const _0xcfb4e9=_0x26f1d3['length'],_0x2e9399=_0x45d002['length']/_0xcfb4e9;for(let _0x2c4131=-0x1eba+-0x156b+0x3425;_0x2c4131<_0x2e9399;_0x2c4131++)for(let _0x554953=0x2003+-0x1a19+-0x5ea;_0x554953<_0xcfb4e9;_0x554953++)_0x45d002[_0x2c4131*_0xcfb4e9+_0x554953]/=_0x26f1d3[_0x554953]===0x1ab0+0x174f+-0x31ff?-0x7*0x566+-0x621+0x2bec:_0x26f1d3[_0x554953],_0x45d002[_0x2c4131*_0xcfb4e9+_0x554953]*=0x4*0x65a+0x2ed+-0x1c55*0x1+0.5,_0x45d002[_0x2c4131*_0xcfb4e9+_0x554953]+=-0x4*-0x7dc+-0x1d1f+-0x251+0.5;}function Ar(_0x3d7f00,_0x7b4872,_0xc5d17a){const _0x5c5337=l1(_0x7b4872,_0x3d7f00);return Fr(_0x5c5337,_0xc5d17a),h1(_0x5c5337,_0xc5d17a),_0x5c5337;}const c1=new Ot();class d1{constructor(_0x43478,_0xd54e49){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x43478;const _0x48abac=_0x43478,_0x3c81eb=0x24fa+-0x1e1+-0x22f9;this['precision']=_0x3c81eb,this['_addTimeTi'+'me']=-0x1b65*0x1+0x1476+-0x19*-0x47,Hu=this,fh=_0xd54e49,re('numParticl'+'es',-0x87*-0x7+0x5f*-0x5b+-0x33*-0x97),this['numParticl'+'es']>_0x43478['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x43478['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x43478['maxTexture'+'Size']),re('rate',-0x1e73+0x863*0x1+0x1611),re('rate2',this['rate']),re('lifetime',-0x10c7+0x1d3*-0x1+-0x322*-0x6),re('emitterExt'+'ents',new T(-0x7*0x82+0x1631+-0x12a3,0xea5+0x11ce+-0x2073,-0x2507+-0x13e3+-0x5*-0xb62)),re('emitterExt'+'entsInner',new T(-0x99f+0xcae+-0x30f*0x1,0x65*-0x49+-0x1214*-0x1+-0x3*-0x393,0x101b+-0x6b*-0x49+-0x2e9e)),re('emitterRad'+'ius',-0x21d4+-0x5f*-0x5d+-0x23*0x5),re('emitterRad'+'iusInner',0x3a7+0x888+-0xc2f),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',-0x6b6+0x1fd5+0x506*-0x5),re('wrap',!(-0x1787*0x1+-0xcc7*-0x1+0xac1)),re('localSpace',!(0x152*-0x6+0x70*0x2e+-0xc33)),re('screenSpac'+'e',!(-0x26f+-0x2*-0x12d6+0x386*-0xa)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(-0x1*0x2443+0x174b*-0x1+0x3b8e*0x1)),re('preWarm',!(0x1695+0x91c+0xfd8*-0x2)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(0x1e01+0x3*-0xc0b+-0x1*-0x621)),re('halfLamber'+'t',!(0x73d+0x18f6+-0x2032)),re('intensity',-0x47*0x4f+0x24cb+-0x125*0xd),re('stretch',-0x1*-0x1dce+-0xac2+-0x130c),re('alignToMot'+'ion',!(-0xf8c+0x58f*0x5+-0xc3e)),re('depthSofte'+'ning',0x1*0x2708+-0xafb+-0x1c0d),re('mesh',null),re('particleNo'+'rmal',new T(-0x5e6*-0x2+-0x10d3+0x507,-0x1*0x19db+-0x9c*-0x17+0xbd8,0x13b4+0x1743*-0x1+-0x1*-0x38f)),re('orientatio'+'n',Uh),re('depthWrite',!(-0x9c2*-0x2+0x1*0x1177+-0x24fa)),re('noFog',!(-0x8*0x358+0x1*0x1d41+-0x280)),re('blendType',Kt),re('node',null),re('startAngle',0x94f+0x1*-0xfe9+0x69a),re('startAngle'+'2',this['startAngle']),re('animTilesX',-0x13fe*0x1+0x1*-0xd61+0x2160),re('animTilesY',0x76*-0x3a+-0x2*0x2a5+0x3*0xaad),re('animStartF'+'rame',0x3*0xc5e+-0x223e+0x1*-0x2dc),re('animNumFra'+'mes',-0x1922+0x3*-0x2e2+-0x117*-0x1f),re('animNumAni'+'mations',0x6*-0x3fb+0x72c+0x10b7),re('animIndex',0x184+0x1*0x1095+0x1219*-0x1),re('randomizeA'+'nimIndex',!(-0x1789+0x257c+-0xdf2)),re('animSpeed',-0xe*-0x17e+-0x1aa0+-0x5bd*-0x1),re('animLoop',!(-0x64d*0x2+0x6d*0x3a+-0xc18)),this['_gpuUpdate'+'r']=new JM(this,_0x48abac),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(-0x2*-0x10bb+-0xc5b*-0x3+-0x4*0x11a1),this['wrapBounds'+'Uniform']=new Float32Array(0xd*-0x193+0xaca*-0x1+-0xa6c*-0x3),this['emitterSca'+'leUniform']=new Float32Array([0xcb+-0x3*0x2a1+0x719,-0x13e+0x2337+-0x21f8,0x1*-0x12df+-0xe5*-0x1+0x11fb]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x13*0x18a+-0xe85+0x2bc5*0x1),this['animParams']=new Float32Array(-0x1*-0x1379+-0xb75*-0x1+-0x1eea),this['animIndexP'+'arams']=new Float32Array(0xe*0x61+-0xab6*-0x3+-0x256e*0x1),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x17f1+0x1269+-0x2a59),this['useMesh']=!(-0x2372+0x2461+0xef*-0x1),this['useCpu']=!_0x43478['supportsGp'+'uParticles'],this['pack8']=!(0x2643+-0xb7f+0x4*-0x6b1),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=0x2413+0x1*-0x1a6+-0x1*0x226d,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x1831+-0x1*0x1bec+-0x3*-0x115f,this['numParticl'+'eIndices']=0x26d9+0x195+-0x286e,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x1acf+0x1*-0x1e49+0x3918,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x1a6a+-0x131+-0x934*-0x3)/(-0x1ec+0xbec+-0x9c4),this['maxSubStep'+'s']=0x1ea8*0x1+-0x21d*-0x3+-0x24f5,this['simTime']=0x947+-0x1*0x59d+0x43*-0xe,this['simTimeTot'+'al']=0x7e8+-0x16*-0x10d+-0xf83*0x2,this['beenReset']=!(-0x1*-0x1e5d+0x3*-0x81+-0x41f*0x7),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x4b0872=new Float32Array(-0x25f9+-0x106+0x2aff);for(let _0x3b9181=-0x25*-0x31+-0x3*-0x2c5+-0xf64;_0x3b9181<0x1*0xa1f+0x632+-0x1041;_0x3b9181++)for(let _0x34472a=-0x6a*0x1c+-0x1ea7+-0x23*-0x135;_0x34472a<-0x1286+0x18e0+-0x325*0x2;_0x34472a++){const _0x3a3c7d=_0x34472a+(0x2*-0x56f+-0x15*0xb3+0x198e*0x1)-(0x142*-0x1f+0x26f6+0x10+0.5),_0x3a5c5c=_0x3b9181+(0x1e5*-0x11+-0x1*-0x39e+0x262*0xc)-(0xead+0x951+0x17f6*-0x1+0.5),_0x6a4815=C_(0x7ce*0x3+0x1b*-0x60+-0xd49-C_(Math['sqrt'](_0x3a3c7d*_0x3a3c7d+_0x3a5c5c*_0x3a5c5c)/(0x2425+0x1be8*0x1+-0x3ffd*0x1))-(0x4f*0xb+-0x9b1*-0x4+-0x2a29+0.5)),_0x525902=_0x3b9181*(-0x7d4*-0x1+0x1*-0x1514+0xd50)+_0x34472a;_0x4b0872[_0x525902*(0xa3*-0x8+-0x1f*0x65+-0x17*-0xc1)]=-0x1a3c+-0x1*-0x1d3f+0x1*-0x302,_0x4b0872[_0x525902*(-0x23ec+0x1*-0x106+0x24f6)+(-0x10be*0x2+0x2b*0x92+-0x1b*-0x55)]=0x2d2+-0x1*-0xdb1+0x1082*-0x1,_0x4b0872[_0x525902*(0x17a9+-0x133*0x10+-0x475)+(0xfff+-0x63*0x6+-0xdab)]=-0xac8+0x1*0xa3e+0x8b,_0x4b0872[_0x525902*(-0x465*-0x7+0x11*0x225+-0x4334)+(0x1074+0x1*-0xa9f+-0x5d2)]=_0x6a4815;}const _0x5aa321=Qt(this['graphicsDe'+'vice'],-0x1907+0x3*0x905+-0x1f8*0x1,-0x5*0x61a+0x3*0x51c+-0x2*-0x79f,_0x4b0872,rs,0x1534+0xd*-0x19f+-0x20,!(0x7df+0x2700+-0x2edf));return _0x5aa321['minFilter']=st,_0x5aa321['magFilter']=st,_0x5aa321;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0xf43+0xc28+0x1*0x31c)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x1211+0x1b99+-0x2da9*0x1)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x1e58+-0x1*0xc77+0x2ad0)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0xf53+0x31c+-0x126e)),this['worldBound'+'sAdd']['x']+=-0x176a+0x183b+-0xd1+0.5,this['worldBound'+'sAdd']['y']+=0x3c9+-0x183b*0x1+-0x1*-0x1472+0.5,this['worldBound'+'sAdd']['z']+=0x20f*0x11+-0x265b+-0x5*-0xac+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x4f2754=!(-0x1*0x12ea+0x19*0xc2+-0x1*0x7);this['emitterSha'+'pe']===Vs?_0x4f2754=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x4f2754=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x4f2754&&this['calculateL'+'ocalBounds']();}const _0x4755bb=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x4755bb),this['worldBound'+'sTrail'][-0x1d*0x35+-0xdc6+0x13c7*0x1]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x7e4+0x1d4b*-0x1+0x28*0xee]['add'](this['worldBound'+'sNoTrail']);const _0x352088=this['simTimeTot'+'al'];_0x352088>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x185e*0x1+-0x18d8+0x1*0x3136]['copy'](this['worldBound'+'sTrail'][0x30d+0xfa6+-0x12b2]),this['worldBound'+'sTrail'][0x1163*0x2+0xad5+0x2*-0x16cd]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x352088+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x1ff8+0x1f*-0x13a+0x41e*0x11]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x13c4+-0x3*0xc99+0x1209),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x4755bb),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x4755bb)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x7+-0x2e*0xa6+0x1dce-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x14*-0x15c+0x2287+0x7*-0x8d1]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x3*0x207+-0x1a*-0xa7+0x3d7*-0x6]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x5*0x304+0x21ed*-0x1+0x12d9]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1*0x219d+0x1559+-0x36f4),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x22fc+-0x11d6+0x34d2,this['timeToSwit'+'chBounds']=0x1*-0x164f+-0x331+0x1980);}['calculateL'+'ocalBounds'](){let _0x443dd6=Number['MAX_VALUE'],_0xaea0ed=Number['MAX_VALUE'],_0x3e0ab9=Number['MAX_VALUE'],_0x5961a0=-Number['MAX_VALUE'],_0x4e4b70=-Number['MAX_VALUE'],_0x1735c3=-Number['MAX_VALUE'],_0x4108be=0x4*-0x761+0x1d31+0x53,_0x3066cd=-0xd*0x2ef+-0x1*-0x2669+-0xe*0x5;const _0xf9c16d=this['lifetime']/this['precision'],_0x4b91d9=[this['qVelocity'],this['qVelocity2']],_0x1960c4=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x93c719=[-0x567*0x3+-0x1*-0x19ab+-0x976,-0xc1c+0x7b1+0x46b],_0x57841f=[-0x61c+-0x15*0x91+0x1201,-0xffd+0x1eb6+-0xeb9],_0xbbb2=[0x1*0x2421+0xc4a+0x25*-0x14f,0x1ce7+-0x1*-0x1577+0x732*-0x7],_0x15e079=[-0x45c+0x1bd9+-0x177d,-0x1d16+-0x89*0x3b+-0x125*-0x35],_0x2f0cc0=[-0x13a2+-0xf16+-0x457*-0x8,-0x1f2+0x5dd+-0x3eb];let _0x1b0851,_0x36adb0,_0x3cdf0a;for(let _0x17868f=0xb9*-0x33+0x4bb*0x4+0x1*0x11ef;_0x17868f<this['precision']+(-0x1*-0x1948+-0x52a*0x1+-0x10f*0x13);_0x17868f++){const _0x5e5d23=Math['min'](_0x17868f,this['precision']-(-0x1e8c+0x1*-0x238+0x1*0x20c5));for(let _0x24c517=-0xe17*-0x2+-0x10df+-0x3*0x3c5;_0x24c517<0xb53+0x22be+-0x2e0f;_0x24c517++)_0x1b0851=_0x1960c4[_0x24c517][_0x5e5d23*(-0x198*-0xa+-0x1*0x2455+-0x8*-0x28d)+(0x189b+0x253c+-0x3dd7)]*_0xf9c16d+_0x93c719[_0x24c517],_0x36adb0=_0x1960c4[_0x24c517][_0x5e5d23*(0x1c08+-0x24ed*0x1+-0x4c*-0x1e)+(0x9d3+-0x3*0x75e+0xc48)]*_0xf9c16d+_0x57841f[_0x24c517],_0x3cdf0a=_0x1960c4[_0x24c517][_0x5e5d23*(0x7ac+0x141a+-0x1bc3)+(0xf*0x199+-0x1*-0xe15+-0x260a)]*_0xf9c16d+_0xbbb2[_0x24c517],_0x443dd6=Math['min'](_0x1b0851,_0x443dd6),_0xaea0ed=Math['min'](_0x36adb0,_0xaea0ed),_0x3e0ab9=Math['min'](_0x3cdf0a,_0x3e0ab9),_0x5961a0=Math['max'](_0x1b0851,_0x5961a0),_0x4e4b70=Math['max'](_0x36adb0,_0x4e4b70),_0x1735c3=Math['max'](_0x3cdf0a,_0x1735c3),_0x93c719[_0x24c517]=_0x1b0851,_0x57841f[_0x24c517]=_0x36adb0,_0xbbb2[_0x24c517]=_0x3cdf0a;for(let _0x104793=-0x18ba+-0xae+0x1968;_0x104793<-0x1f59*0x1+0x2*-0x8db+-0x3111*-0x1;_0x104793++)_0x2f0cc0[_0x104793]+=_0xf9c16d*Math['sqrt'](_0x4b91d9[_0x104793][_0x5e5d23*(-0x210d*-0x1+0xe7+-0x21f1)+(0x1f51*0x1+-0x2467+0xba*0x7)]*_0x4b91d9[_0x104793][_0x5e5d23*(0x1d95+0x7ba+-0x254c)+(-0x29*-0xb3+0x1*-0x1d+-0x1c8e)]+_0x4b91d9[_0x104793][_0x5e5d23*(-0x2*0x744+0x685*-0x5+0x2f24)+(-0x163*0x3+0x1f6e+-0x14*0x15d)]*_0x4b91d9[_0x104793][_0x5e5d23*(0x591+0x3d1*-0x7+0x1529)+(-0x1017+0xb66+-0x2*-0x259)]+_0x4b91d9[_0x104793][_0x5e5d23*(0x671+0x57*-0x6+-0x119*0x4)+(0x3a9*-0x5+-0x3*0x103+0x1558)]*_0x4b91d9[_0x104793][_0x5e5d23*(0x1*0xcab+0x81a+-0x14c2)+(0x12eb+-0x16d5+-0x3ec*-0x1)]);_0x15e079[0x1a2a+0xc58+-0x2682]+=this['qRadialSpe'+'ed'][_0x5e5d23]*_0xf9c16d,_0x15e079[-0xdc7*0x1+-0x1a6d+0x2835]+=this['qRadialSpe'+'ed2'][_0x5e5d23]*_0xf9c16d,_0x4108be=Math['max'](_0x4108be,Math['max'](Math['abs'](_0x15e079[-0xf45+-0x7e8+0x172d]),Math['abs'](_0x15e079[0x2371+0x252c+-0x2*0x244e]))),_0x3066cd=Math['max'](_0x3066cd,this['qScale'][_0x5e5d23]);}this['emitterSha'+'pe']===Vs?(_0x1b0851=this['emitterExt'+'ents']['x']*(0xcef+0x56e+-0x125d+0.5),_0x36adb0=this['emitterExt'+'ents']['y']*(-0x167b*0x1+0xbf+0x15bc+0.5),_0x3cdf0a=this['emitterExt'+'ents']['z']*(0x347+-0x2*-0x1d3+-0x6ed+0.5)):(_0x1b0851=this['emitterRad'+'ius'],_0x36adb0=this['emitterRad'+'ius'],_0x3cdf0a=this['emitterRad'+'ius']);const _0x544f56=Math['max'](_0x2f0cc0[0x1564+0x2*0xab5+-0x2ace*0x1],_0x2f0cc0[0x63*-0xb+0x5c1*0x2+-0x10*0x74]);Ul['x']=_0x443dd6-_0x3066cd-_0x1b0851-_0x4108be-_0x544f56,Ul['y']=_0xaea0ed-_0x3066cd-_0x36adb0-_0x4108be-_0x544f56,Ul['z']=_0x3e0ab9-_0x3066cd-_0x3cdf0a-_0x4108be-_0x544f56,Vl['x']=_0x5961a0+_0x3066cd+_0x1b0851+_0x4108be+_0x544f56,Vl['y']=_0x4e4b70+_0x3066cd+_0x36adb0+_0x4108be+_0x544f56,Vl['z']=_0x1735c3+_0x3066cd+_0x3cdf0a+_0x4108be+_0x544f56,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x5c91db=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x5c91db['maxVertexT'+'extures']<=-0x1610+-0x1d*0x9f+0x2814||_0x5c91db['fragmentUn'+'iformsCoun'+'t']<0x31*-0xe+-0x1cf6+0x1fe4||_0x5c91db['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x5c91db['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?-0x6d*0x52+0x14eb+0xe03:0x1510+-0x19*0x6d+0x5*-0x215,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x364+-0x88*-0x3c+0x94*-0x3d]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0xc9c+-0x27b*-0x1+-0x2*0x78b]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x20d6+-0x22b2*0x1+0x1de),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x3f7c6b=-0x1*0x206a+-0x1*0xfd1+-0x303b*-0x1;_0x3f7c6b<this['numParticl'+'es'];_0x3f7c6b++)this['vbToSort'][_0x3f7c6b]=[-0xc8b*0x2+-0x9a1+0x22b7*0x1,0xa8c+0x150+-0xbdc];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x41ff92=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[-0x1666+-0x1c21+0xd*0x3e3]=this['emitterExt'+'ents']['x']!==-0x2009+0x268*-0xe+0x19*0x2a1?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0xc04*-0x2+-0x2649+-0xe41*-0x1,ri[-0xc1*-0x2b+-0x1a66+-0x16*0x46]=this['emitterExt'+'ents']['y']!==0x6a0+0x10fc+-0xbce*0x2?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x20da+0x1219+0xec1,ri[-0x774+0x1*-0x17eb+0x1f61]=this['emitterExt'+'ents']['z']!==-0x2393+-0x1*-0x6f9+0x1c9a?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x73+0x39f+-0x32c);for(let _0x4b51ce=-0x25+-0x1a19+0x1a3e;_0x4b51ce<this['numParticl'+'es'];_0x4b51ce++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x41ff92,_0x4b51ce),this['useCpu']&&(this['particleTe'+'x'][_0x4b51ce*zl+(-0x2223+0x2*0x819+0x1*0x11f4)+this['numParticl'+'esPot']*(0x748*0x2+0x80*-0x16+-0x38e)*zl]=0x119*-0x20+0x6*0x35e+0xeed);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x1dbbac=-0x1548+-0x915*-0x3+-0x3*0x1fd;_0x1dbbac<this['particleTe'+'xStart']['length'];_0x1dbbac++)this['particleTe'+'xStart'][_0x1dbbac]=this['particleTe'+'x'][_0x1dbbac];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x5c91db,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,-0x159f+-0x1349+0x1*0x28e9,!(-0x158b+-0x17b9+-0xf17*-0x3)),this['particleTe'+'xOUT']=Qt(_0x5c91db,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0xd09*-0x2+0x92e+0x1*0x10e5,!(0x953+-0x5*0xfe+-0x174*0x3)),this['particleTe'+'xStart']=Qt(_0x5c91db,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,0x8*-0x477+-0x203b+0x43f4,!(-0x7f*-0xd+-0x573+-0xff))):(this['particleTe'+'xIN']=Qt(_0x5c91db,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x5c91db,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x5c91db,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x1851+0x3*0xc9c+0x1ee*-0x7)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(0x1*0x1004+0x1a63+-0x2a66)}),this['swapTex']=!(-0x5e2+0x1bcf+-0x15ec));const _0xde066c=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x14f35e=_0xde066c+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x2c06d8=_0xde066c+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x5e8c02=_0xde066c+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x15f8ef='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x5c91db,X['fullscreen'+'QuadVS'],_0x14f35e,'ParticleUp'+'dateRespaw'+'n-'+_0x15f8ef),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x5c91db,X['fullscreen'+'QuadVS'],_0x2c06d8,'ParticleUp'+'dateNoResp'+'awn-'+_0x15f8ef),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x5c91db,X['fullscreen'+'QuadVS'],_0x5e8c02,'ParticleUp'+'dateStop-'+_0x15f8ef),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x3a*0x31+-0x6*-0x7e+-0x5f*-0x16,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x9*0xe3+0x39*-0x89+0xba*0x1f]['numIndices']:-0x11d8+-0x146*0x8+0x13*0x17a,this['_allocate'](this['numParticl'+'es']);const _0x52c95c=new Ie(_0x5c91db);_0x52c95c['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x52c95c['indexBuffe'+'r'][-0x39*0xab+0x1c3*0x1+0x2450]=this['indexBuffe'+'r'],_0x52c95c['primitive'][0xb73*-0x1+0x6d9*0x1+-0x13*-0x3e]['type']=Ms,_0x52c95c['primitive'][0x1260+0x20e9+-0x3349]['base']=-0x13ae+-0x1f03+0x32b1*0x1,_0x52c95c['primitive'][-0x42*-0x4f+-0x1bb*0x16+0x16*0xce]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x52c95c['primitive'][0x11c5+0x1*-0x1e7e+0xcb9]['indexed']=!(0x1538+-0x1d+-0x151b),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x3cd06e=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0xb*0x312+0x794*-0x3+-0xb0a);this['meshInstan'+'ce']=new Le(_0x52c95c,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x131f+0x11a4+-0x4*-0x5f),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0xe88+0x1*0x21b5+-0x132d*0x1),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x2245+0x8*-0x101+0x876*0x5),this['meshInstan'+'ce']['visible']=_0x3cd06e,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x1*0xa79+0xd*-0x263+-0x20*-0x14c,!(0x5a7+-0x1*-0x1af+-0x755)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x10f9+0x1674+0x1*-0x57a&&(this['animTilesX']>-0x1339+-0x950+-0xe45*-0x2||this['animTilesY']>0x2521+0x1b84*0x1+-0x40a4)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x4fc5bf=this['precision'],_0x13d28e=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x4fc5bf),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x4fc5bf),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x4fc5bf,0x1*-0x2329+0x13e9+0xf40,0x79b*0x3+-0x290*0x1+-0x1440),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x4fc5bf),this['qScale']=this['scaleGraph']['quantize'](_0x4fc5bf),this['qAlpha']=this['alphaGraph']['quantize'](_0x4fc5bf),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x4fc5bf),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x4fc5bf),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x4fc5bf),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x4fc5bf,0x1*0x4a8+-0x4c6+0x1e,-0x77a+-0x7*0x549+-0x163d*-0x2),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x4fc5bf),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x4fc5bf),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x4fc5bf),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x4fc5bf);for(let _0x58dda8=-0x14d9+-0xa2*0x19+0x24ab;_0x58dda8<_0x4fc5bf;_0x58dda8++)this['qRotSpeed'][_0x58dda8]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x58dda8]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0xb03*0x3+0x66a*0x2+-0x16ed*0x2),this['velocityUM'+'ax']=new Float32Array(0x1189+0x160b+0x2791*-0x1),this['colorUMax']=new Float32Array(-0x5b5*-0x2+0x1*0xbad+-0x1714),this['rotSpeedUM'+'ax']=[-0x2154+-0xccf+0x1*0x2e23],this['scaleUMax']=[0x1a*0x133+-0x5*0x35+-0x1e25*0x1],this['alphaUMax']=[-0x1d*-0x7a+0xa7d+0x31*-0x7f],this['radialSpee'+'dUMax']=[-0x269*-0x1+0x2*-0x1b+-0x233],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x500518=[-0x2*0x3f4+-0x26ec+0x2ed4,0x2337+0x2c*0x2e+0x629*-0x7,0x2*0x295+-0x307+-0x223];Fr(this['qVelocity'],_0x500518);const _0x34132c=[-0x1*-0x2c5+-0x8ce*0x1+0x609,-0x3f3+-0x5c6+0x1*0x9b9,0x972+-0xcf*0x2f+0x1c8f];Fr(this['qVelocity2'],_0x34132c);const _0x516901=[-0x1149+0x201f+-0xed6,0xe5*0x9+-0x4d2*-0x1+-0xcdf,0xd*0x24f+0x1*0x183e+-0x3641];Fr(this['qLocalVelo'+'city'],_0x516901);const _0x24fa2d=[-0x1*-0xb3f+0x3a*-0x17+-0x609,0x2b*-0x8b+0x1*-0x151+-0x4d*-0x52,0x17a*-0x17+-0xc8+0x2*0x115f];Fr(this['qLocalVelo'+'city2'],_0x24fa2d);const _0x46c01d=[0x1*-0x1e32+0x1*-0x1+0xa11*0x3];Fr(this['qRadialSpe'+'ed'],_0x46c01d);const _0x27ee09=[0xeed+-0x2678+0x178b];Fr(this['qRadialSpe'+'ed2'],_0x27ee09);let _0x2a43cb=Math['max'](_0x500518[-0x1ae7*0x1+-0x2d+0x1b14],_0x34132c[0x1e7+-0x1a0b+0x1824]);_0x2a43cb=Math['max'](_0x2a43cb,_0x500518[-0x76d+0x1*0x67+-0x7*-0x101]),_0x2a43cb=Math['max'](_0x2a43cb,_0x34132c[0x1*-0x245f+0x26eb+0x7*-0x5d]),_0x2a43cb=Math['max'](_0x2a43cb,_0x500518[-0x1c8d+-0x9e*-0x26+0x51b]),_0x2a43cb=Math['max'](_0x2a43cb,_0x34132c[0x1*0xf6a+-0xbe7+-0x381]);let _0x56e675=Math['max'](_0x516901[0x17ca+0x43*-0x45+-0x3*0x1e9],_0x24fa2d[-0xf91*0x1+-0x1*0x1085+0x2016]);_0x56e675=Math['max'](_0x56e675,_0x516901[0xdc7+0xb21+-0x18e7]),_0x56e675=Math['max'](_0x56e675,_0x24fa2d[0x26d7+-0x30c+-0x12*0x1fd]),_0x56e675=Math['max'](_0x56e675,_0x516901[-0x15b*-0x19+0x142+0x505*-0x7]),_0x56e675=Math['max'](_0x56e675,_0x24fa2d[0x702+0xbc6*-0x2+0x423*0x4]);const _0x844a40=Math['max'](_0x46c01d[0x270d+-0x2*-0x241+-0x2b8f],_0x27ee09[-0x1a8*0x5+-0x3*0xeb+0xb09*0x1]);this['maxVel']=_0x2a43cb+_0x56e675+_0x844a40;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x13d28e,_0x4fc5bf,0x1f15+-0x3b*-0x10+0xa*-0x37a,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x13d28e,_0x4fc5bf,-0x16d1+0x7*-0x1f8+0x249a,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x13d28e,_0x4fc5bf,-0x8d4+-0x1b4e+0x2423,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x13d28e,_0x4fc5bf,-0x1b*0x99+-0x121a+0x223e,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x13d28e,_0x4fc5bf,0xac6+-0xb58+0x93,r1(this['qColor'],this['qAlpha']),rs,-0x20*0x2+0x1299+-0x1258,!(-0xd28+0xbe+0xc6a));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x40ede2=new s1(this);return _0x40ede2['name']='EmitterMat'+'erial:'+this['node']['name'],_0x40ede2['cull']=mt,_0x40ede2['alphaWrite']=!(0x919+0x22*0x9d+-0x1df2*0x1),_0x40ede2['blendType']=this['blendType'],_0x40ede2['depthWrite']=this['depthWrite'],_0x40ede2;}['resetMater'+'ial'](){const _0x3f0913=this['material'];_0x3f0913['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x3f0913['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x3f0913['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x3f0913['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x3f0913['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x3f0913['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x3f0913['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x3f0913['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x3f0913['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x3f0913['setParamet'+'er']('colorParam',this['colorParam']),_0x3f0913['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x3f0913['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x3f0913['setParamet'+'er']('lifetime',this['lifetime']),_0x3f0913['setParamet'+'er']('rate',this['rate']),_0x3f0913['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x3f0913['setParamet'+'er']('seed',this['seed']),_0x3f0913['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0xe*0x199+0xd5*0x1e+0x2*-0x14c]),_0x3f0913['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x1c*0xef+0x9a*0x14+0x56*0x2a]),_0x3f0913['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0x5*-0x9+-0x4a*0x38+0x1*0x105d]),_0x3f0913['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x3f0913['setParamet'+'er']('graphSampl'+'eSize',(-0x1*-0x1ecf+0x11aa*0x2+-0x2*0x2111)/this['precision']),_0x3f0913['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x8*-0x459+0x193b+0x98e,0x13*0xd1+0x7ac*0x1+-0x172e,0xa7*-0x1b+-0x20a3+0x1f*0x19f])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x3f0913['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x3f0913['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x3f0913['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x2*-0x647+-0x3d3+0x1061]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x5ab+-0x7a7+-0x1fd*-0x1]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x1ed*-0x7+0x5*0x590+0xdc3*-0x3]=this['wrapBounds']['z'],_0x3f0913['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x1*0x1177+0xed*0x3+0xeb0&&_0x3f0913['setParamet'+'er']('softening',(-0x843+0xee1+-0x69d)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x20b5+-0x4*0x6c2+0x7b*-0xb))),this['stretch']>-0xa75+-0x1*0x743+0x11b8&&(_0x3f0913['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x4aa677,_0x5698d6;if(this['orientatio'+'n']===Uh)_0x4aa677=new Float32Array([0xf8c+0x119*0x1f+0x8d*-0x5a,0x18da+-0x3e3*0x7+-0x3*-0xc9,-0x1117*-0x2+-0x1*-0x160a+0xe*-0x404]),_0x5698d6=new Float32Array([-0x12d6+-0x4f+0x1*0x1325,0x1dcd+-0x1b7e+-0x24f,0x17a9+-0x13b1*0x1+-0x3f7]);else{let _0x2ca46e;this['orientatio'+'n']===Xb?_0x2ca46e=this['particleNo'+'rmal']['normalize']():_0x2ca46e=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x4b5498=new T(0xe8*-0x18+-0x172b+0x2cec,-0x21d6*0x1+0x1659+-0x1*-0xb7d,0x16c0+-0x252*0x6+-0x8d4);Math['abs'](_0x4b5498['dot'](_0x2ca46e))===0x3*0xb15+-0x5*0x356+-0x1090&&_0x4b5498['set'](0xdc4+0xfc6+-0x18e*0x13,0x3fd*0x4+0x22da+-0x32ce*0x1,-0x1d8e+0x1c0d+0x182);const _0x22281a=new T()['cross'](_0x2ca46e,_0x4b5498)['normalize']();_0x4b5498['cross'](_0x22281a,_0x2ca46e)['normalize'](),_0x4aa677=new Float32Array([_0x4b5498['x'],_0x4b5498['y'],_0x4b5498['z']]),_0x5698d6=new Float32Array([_0x22281a['x'],_0x22281a['y'],_0x22281a['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x4aa677),this['material']['setParamet'+'er']('faceBinorm',_0x5698d6);}['_allocate'](_0x4a0d1a){const _0x5f0286=_0x4a0d1a*this['numParticl'+'eVerts'],_0xf52da=_0x4a0d1a*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0xc5b+0xe67+-0x1ac2)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x5f0286){const _0x375da5=[];this['useCpu']?_0x375da5['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?-0x12b9+-0xbb3+0x1e70:-0x20a9+0x496+-0x1*-0x1c15,'type':Ee}):(_0x375da5['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x375da5['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x2bc0b1=new Et(this['graphicsDe'+'vice'],_0x375da5);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x2bc0b1,_0x5f0286,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0xf52da);const _0x18d918=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x423b7e,_0xfdeaf5,_0x20abd5;if(this['useMesh']){_0x423b7e=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0xfdeaf5=_0x423b7e['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x2bc268=0x1dd9*0x1+0x22f7+0x40d*-0x10;_0x2bc268<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x2bc268++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x2bc268]['name']===ns){_0x20abd5=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x2bc268]['offset']/(0x1d7b+0x124e+0x1*-0x2fc5);break;}}for(let _0x22982a=-0xbf*-0xd+-0x512+-0x18b*0x3;_0x22982a<_0x5f0286;_0x22982a++){const _0x11ac0c=Math['floor'](_0x22982a/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x1ceeb9=_0x22982a%this['numParticl'+'eVerts'];_0x18d918[_0x22982a*(0x8d+-0x1638+-0x9*-0x269)]=_0x423b7e[_0x1ceeb9*_0xfdeaf5],_0x18d918[_0x22982a*(0x16ce+-0xa9f*0x1+-0xc29)+(0xb2f+-0x15e5+-0x1*-0xab7)]=_0x423b7e[_0x1ceeb9*_0xfdeaf5+(0x2037+0x5*-0x4+0x6*-0x55b)],_0x18d918[_0x22982a*(0x1*-0x179f+-0x30a*-0x1+0x149b)+(0x1*-0x119c+0x15c5+-0x427)]=_0x423b7e[_0x1ceeb9*_0xfdeaf5+(-0x1a79+-0x1*-0x26a5+-0x2*0x615)],_0x18d918[_0x22982a*(0x14b8+-0xd*-0xd6+-0x1f90)+(-0x1*0x1999+-0x68b+0x1*0x2027)]=_0x11ac0c,_0x18d918[_0x22982a*(-0x212a+0x6a8+0x11b*0x18)+(-0x26ab+-0x121*0x1d+-0x11db*-0x4)]=_0x423b7e[_0x1ceeb9*_0xfdeaf5+_0x20abd5+(0x94f*0x1+0xd*0x179+-0x1c74)],_0x18d918[_0x22982a*(-0x239+-0x2638*-0x1+0x1*-0x23f9)+(0x1c17+0x1471+-0x3083)]=0x119e+0x262*0x8+-0x24ad-_0x423b7e[_0x1ceeb9*_0xfdeaf5+_0x20abd5+(0x263d+-0xde7+-0x1*0x1855)];}else{const _0x3f3661=_0x22982a%(0xc27+0x9*0x13a+-0x172d);_0x18d918[_0x22982a*(0x17bf+0x1f3*-0x1+0x44*-0x52)]=E_[_0x3f3661][-0x1*-0x204e+-0x217c+0x12e],_0x18d918[_0x22982a*(0xb*-0x1a7+-0xe*0x166+0x125*0x21)+(0x17ff+-0x262*-0x1+0xd3*-0x20)]=E_[_0x3f3661][-0xa96+0x15*-0x39+0x7a2*0x2],_0x18d918[_0x22982a*(0x224e+-0x1*-0x86d+-0x2ab7)+(0x1f3f+0x1*-0x1387+-0xbb6)]=-0x1e03+-0x2bf+0x20c2,_0x18d918[_0x22982a*(-0x2*-0xaf9+0x1b*0x10d+-0x1*0x324d)+(-0x2c4*-0xe+-0x985*-0x1+-0x2*0x181d)]=_0x11ac0c;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x18d918),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x302233=0x25e2+0x3*0x7b5+-0x3d01;const _0x2b0d0e=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x4310c1=this['mesh']['indexBuffe'+'r'][0x52d*0x1+0xb*-0x1a5+-0x1*-0xcea];_0x423b7e=new Lh[_0x4310c1['format']](_0x4310c1['lock']());}for(let _0x26d1e3=0x15e+0x3*-0x11f+0x1ff;_0x26d1e3<_0x4a0d1a;_0x26d1e3++)if(this['useMesh']){for(let _0x117062=-0x1dc2*-0x1+-0x874+-0x154e;_0x117062<this['numParticl'+'eIndices'];_0x117062++)_0x2b0d0e[_0x26d1e3*this['numParticl'+'eIndices']+_0x117062]=_0x423b7e[_0x117062]+_0x26d1e3*this['numParticl'+'eVerts'];}else{const _0x32606d=_0x26d1e3*(-0x2299+0xea*-0x1b+-0x161*-0x2b);_0x2b0d0e[_0x302233++]=_0x32606d,_0x2b0d0e[_0x302233++]=_0x32606d+(0x5*-0x71+-0x54*-0x54+-0x195a),_0x2b0d0e[_0x302233++]=_0x32606d+(0xae5*-0x3+-0x41*-0x7f+0x72),_0x2b0d0e[_0x302233++]=_0x32606d,_0x2b0d0e[_0x302233++]=_0x32606d+(-0x1*0x67c+0xe85+0x3*-0x2ad),_0x2b0d0e[_0x302233++]=_0x32606d+(-0xb*-0x1c5+-0x1862*-0x1+0x3e*-0xb5);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x1*-0x251a+0x45b*-0x4+-0x13ae]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x1*0xdd+0x2e7*-0xb+0x20ca),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x176d2c=-0xdc7+-0x1b16+0x28dd;_0x176d2c<this['particleTe'+'xStart']['length'];_0x176d2c++)this['particleTe'+'x'][_0x176d2c]=this['particleTe'+'xStart'][_0x176d2c];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x22cc18=this['loop'];this['loop']=!(-0x2455+0x4f8+0x1f5d*0x1),this['addTime'](-0x42b+0x36*-0x74+0x1ca3,!(0xf*0x259+0x7d9*-0x4+-0x3d2)),this['loop']=_0x22cc18,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x3402c6){const _0x5bad8b=_0x3402c6/this['lifetime'],_0x32d9d7=Math['min'](Math['floor'](_0x5bad8b*this['precision']),this['precision']),_0x2fddea=_0x3402c6/_0x32d9d7;for(let _0x54247c=-0xd41+0x338*0x6+-0x8d*0xb;_0x54247c<_0x32d9d7;_0x54247c++)this['addTime'](_0x2fddea,!(0x1106+-0x25d*-0x8+0x11*-0x21d));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x4c0300,_0x522e5a){const _0x21200d=this['graphicsDe'+'vice'],_0x1ab6ec=ne();if(this['simTimeTot'+'al']+=_0x4c0300,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x35a504=this['animTilesP'+'arams'];_0x35a504[-0x114f*0x2+-0x2*-0x6e8+0xa67*0x2]=(0x227b*0x1+-0x179*0xe+0x4*-0x377)/this['animTilesX'],_0x35a504[-0x1*0x1cc6+-0x1463+0x312a]=(-0x6*0x1de+0x1c2c*-0x1+0x2761)/this['animTilesY'];const _0x1e0278=this['animParams'];_0x1e0278[-0x1894+-0x315*-0x1+0x1*0x157f]=this['animStartF'+'rame'],_0x1e0278[-0xf4d*-0x1+0x39*0x26+0xbe1*-0x2]=this['animNumFra'+'mes']*this['animSpeed'],_0x1e0278[-0xb39+0x3*-0xbb9+0x2e66]=this['animNumFra'+'mes']-(-0x2*0x4fb+-0x188f+0x2286),_0x1e0278[-0x107*-0x1f+-0x41c+-0x1bba]=this['animNumAni'+'mations']-(-0x1124*-0x2+0x5*-0x33+0x3c*-0x8e);const _0x1e5471=this['animIndexP'+'arams'];_0x1e5471[-0x325*0xc+0x173*-0x2+0x28a2]=this['animIndex'],_0x1e5471[-0x145d+-0x199f+-0xc1*-0x3d]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[-0x16ba+-0x2490+0x3b4a]=this['emitterExt'+'ents']['x']!==-0x3*0x669+0x1e64+-0x1*0xb29?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x5*0x2e4+-0x1*0xf4e+0xda,ri[0x715+0x18c2+-0x1fd6]=this['emitterExt'+'ents']['y']!==-0xa4c+0x2301+0xfd*-0x19?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x3*-0x6d0+-0x5*0x1e2+-0x1dda*-0x1,ri[0x1*-0x1eb7+0x1b20+0x399]=this['emitterExt'+'ents']['z']!==-0x4f5+-0x63e+-0x2f*-0x3d?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0xf*0xf9+-0x569+-0x2*-0xa00,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x4980b2;const _0x3201a0=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x10f0+-0xb*-0x2e1+0x1a3*-0x9]=_0x3201a0['x'],this['emitterSca'+'leUniform'][0x121*-0x1+0x1*0x501+-0x1*0x3df]=_0x3201a0['y'],this['emitterSca'+'leUniform'][0x782+-0x1f96+0x1*0x1816]=_0x3201a0['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x4980b2=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0x3df*0x1+0x984+-0xd63]=_0x4980b2['x'],this['emitterPos'+'Uniform'][-0x425*0x9+-0xcaf+-0x31fd*-0x1]=_0x4980b2['y'],this['emitterPos'+'Uniform'][0x139*0x7+-0xd47+0x37*0x16]=_0x4980b2['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x21200d,Tr,ri,_0x4c0300,_0x522e5a);else{const _0x381b82=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x381b82,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x4980b2,_0x4c0300,_0x522e5a);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x1906+-0x1ee1+0x32*0x1e)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0x1ab6ec;}['_destroyRe'+'sources'](){var _0x557642,_0x4cd7bd,_0x1f3bdf,_0x395240,_0x510661,_0x55659e,_0x38d77a,_0xb2eab3,_0x526f76,_0x19202d,_0x1fa4d6,_0x2f8016;(_0x557642=this['particleTe'+'xIN'])==null||_0x557642['destroy'](),this['particleTe'+'xIN']=null,(_0x4cd7bd=this['particleTe'+'xOUT'])==null||_0x4cd7bd['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x1f3bdf=this['rtParticle'+'TexIN'])==null||_0x1f3bdf['destroy'](),this['rtParticle'+'TexIN']=null,(_0x395240=this['rtParticle'+'TexOUT'])==null||_0x395240['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x510661=this['internalTe'+'x0'])==null||_0x510661['destroy'](),this['internalTe'+'x0']=null,(_0x55659e=this['internalTe'+'x1'])==null||_0x55659e['destroy'](),this['internalTe'+'x1']=null,(_0x38d77a=this['internalTe'+'x2'])==null||_0x38d77a['destroy'](),this['internalTe'+'x2']=null,(_0xb2eab3=this['internalTe'+'x3'])==null||_0xb2eab3['destroy'](),this['internalTe'+'x3']=null,(_0x526f76=this['colorParam'])==null||_0x526f76['destroy'](),this['colorParam']=null,(_0x19202d=this['vertexBuff'+'er'])==null||_0x19202d['destroy'](),this['vertexBuff'+'er']=void(0x14c5+-0x1649+-0xc2*-0x2),(_0x1fa4d6=this['indexBuffe'+'r'])==null||_0x1fa4d6['destroy'](),this['indexBuffe'+'r']=void(-0xf1e+0x25*-0x52+0x1af8),(_0x2f8016=this['material'])==null||_0x2f8016['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends It{['generateKe'+'y'](_0x19f6aa){const _0x4d7351=_0x19f6aa['shaderDesc'],_0xae5163=_0x4d7351['vertexCode']?hn(_0x4d7351['vertexCode']):-0xba3+0x1d13+0x22e*-0x8,_0x1e1558=_0x4d7351['fragmentCo'+'de']?hn(_0x4d7351['fragmentCo'+'de']):0xa3e+-0x59*0x6f+-0x3*-0x973,_0x3e69b1=It['definesHas'+'h'](_0x19f6aa['defines']);let _0x10a262=_0x4d7351['uniqueName']+'_'+_0xae5163+'_'+_0x1e1558+'_'+_0x3e69b1;return _0x19f6aa['skin']&&(_0x10a262+='_skin'),_0x19f6aa['useInstanc'+'ing']&&(_0x10a262+='_inst'),_0x19f6aa['useMorphPo'+'sition']&&(_0x10a262+='_morphp'),_0x19f6aa['useMorphNo'+'rmal']&&(_0x10a262+='_morphn'),_0x19f6aa['useMorphTe'+'xtureBased'+'Int']&&(_0x10a262+='_morphi'),_0x10a262;}['createAttr'+'ibutesDefi'+'nition'](_0x156e39,_0x3be77a){const _0xdceb8b=_0x3be77a['shaderDesc']['attributes'],_0x39c8e0=_0xdceb8b?{..._0xdceb8b}:void(0x517*0x1+-0x8*-0x238+0x1*-0x16d7);_0x3be77a['skin']&&(_0x39c8e0['vertex_bon'+'eWeights']=Ys,_0x39c8e0['vertex_bon'+'eIndices']=qt),(_0x3be77a['useMorphPo'+'sition']||_0x3be77a['useMorphNo'+'rmal'])&&(_0x39c8e0['morph_vert'+'ex_id']=ya),_0x156e39['attributes']=_0x39c8e0;}['createVert'+'exDefiniti'+'on'](_0x421ea8,_0x46f99e,_0x828289){const _0x30e4d8=_0x46f99e['shaderDesc'];if(_0x421ea8['shaderLang'+'uage']===Ph)_0x421ea8['vertexCode']=_0x30e4d8['vertexCode'];else{const _0x589fcc=new Map(_0x828289),_0x537422=new Map(_0x46f99e['defines']);_0x589fcc['set']('transformI'+'nstancingV'+'S',''),_0x46f99e['skin']&&_0x537422['set']('SKIN',!(0x19*0x25+-0x1821+0x1484)),_0x46f99e['useInstanc'+'ing']&&_0x537422['set']('INSTANCING',!(0x621+-0x2ab*-0xd+-0x1*0x28d0)),(_0x46f99e['useMorphPo'+'sition']||_0x46f99e['useMorphNo'+'rmal'])&&(_0x537422['set']('MORPHING',!(0x2414+0x461*-0x7+-0x56d)),_0x46f99e['useMorphTe'+'xtureBased'+'Int']&&_0x537422['set']('MORPHING_I'+'NT',!(-0x5d9*-0x1+0x13*0x1b+-0x7da)),_0x46f99e['useMorphPo'+'sition']&&_0x537422['set']('MORPHING_P'+'OSITION',!(0x1c30+-0x18a+0x3*-0x8e2)),_0x46f99e['useMorphNo'+'rmal']&&_0x537422['set']('MORPHING_N'+'ORMAL',!(-0x225d+0xdcc+0xd*0x195))),_0x421ea8['vertexCode']=_0x30e4d8['vertexCode'],_0x421ea8['vertexIncl'+'udes']=_0x589fcc,_0x421ea8['vertexDefi'+'nes']=_0x537422;}}['createFrag'+'mentDefini'+'tion'](_0x1bd4c8,_0x3bf8cf,_0x52b9dc){const _0x32deec=_0x3bf8cf['shaderDesc'];if(_0x1bd4c8['shaderLang'+'uage']===Ph)_0x1bd4c8['fragmentCo'+'de']=_0x32deec['fragmentCo'+'de'];else{const _0x4f51e7=new Map(_0x52b9dc),_0x325c69=new Map(_0x3bf8cf['defines']);_0x1bd4c8['fragmentCo'+'de']=_0x32deec['fragmentCo'+'de'],_0x1bd4c8['fragmentIn'+'cludes']=_0x4f51e7,_0x1bd4c8['fragmentDe'+'fines']=_0x325c69;}}['createShad'+'erDefiniti'+'on'](_0x186f0d,_0x5af4ed){const _0x172a8c=_0x5af4ed['shaderDesc'],_0x16d3d9={'name':'ShaderMate'+'rial-'+_0x172a8c['uniqueName'],'shaderLanguage':_0x172a8c['shaderLang'+'uage'],'fragmentOutputTypes':_0x172a8c['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x172a8c['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x172a8c['meshBindGr'+'oupFormat']},_0x31721d=new Map(Object['entries']({...X,..._0x5af4ed['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x16d3d9,_0x5af4ed),this['createVert'+'exDefiniti'+'on'](_0x16d3d9,_0x5af4ed,_0x31721d),this['createFrag'+'mentDefini'+'tion'](_0x16d3d9,_0x5af4ed,_0x31721d),Mt['createDefi'+'nition'](_0x186f0d,_0x16d3d9);}}const f1=new u1();class Ra extends yn{constructor(_0x132777){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x132777;}set['shaderDesc'](_0x3f5f8f){_0x3f5f8f&&(v['assert'](_0x3f5f8f['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x3f5f8f['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x3f5f8f?{..._0x3f5f8f}:void(0xae*0x9+-0x2650+0x2032),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x170714){return super['copy'](_0x170714),this['shaderDesc']=_0x170714['shaderDesc'],this;}['getShaderV'+'ariant'](_0xd39c85){const {objDefs:_0x48f826}=_0xd39c85,_0x2d11e4={'defines':Dp(this,_0xd39c85),'skin':(_0x48f826&Wc)!==-0x1*0x1f0d+-0x2020*-0x1+-0x113,'useInstancing':(_0x48f826&$c)!==-0xc9*-0xd+0x247*0x1+-0x31f*0x4,'useMorphPosition':(_0x48f826&qc)!==-0x1615+0x1*-0x26af+-0x3cc4*-0x1,'useMorphNormal':(_0x48f826&Xc)!==0x569*0x5+-0xc91*0x2+-0x1eb,'useMorphTextureBasedInt':(_0x48f826&jc)!==0x1e04+0x110+-0x1f14,'pass':_0xd39c85['pass'],'gamma':_0xd39c85['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0xd39c85['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0xd39c85['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x5c38c3=new Yc(_0xd39c85['viewUnifor'+'mFormat'],_0xd39c85['viewBindGr'+'oupFormat'],_0xd39c85['vertexForm'+'at']),_0x50c7d7=ka(_0xd39c85['device']);return _0x50c7d7['register']('shader-mat'+'erial',f1),_0x50c7d7['getProgram']('shader-mat'+'erial',_0x2d11e4,_0x5c38c3,this['userId']);}}const k0=(_0x571ae6,_0x4255c1)=>{const _0x468b39=_0x4255c1['length']/(-0x1bbf*0x1+-0x16a3+0x61*0x85),_0x5082d1=_0x571ae6['length']/(-0x261f*-0x1+-0x383+-0x2299),_0x20bf8e=new T(),_0x5cd6c0=new T(),_0x1084a6=new T(),_0x43d28a=new T(),_0x1cfb7e=new T(),_0x487af8=new T(),_0x356637=[];for(let _0x2dd7a6=0x1ffa+-0x1eef+-0x10b;_0x2dd7a6<_0x571ae6['length'];_0x2dd7a6++)_0x356637[_0x2dd7a6]=0xc91+0x2165*0x1+-0x4a*0x9f;for(let _0x48f24d=0xda8+0x53*-0x67+0x1f*0xa3;_0x48f24d<_0x468b39;_0x48f24d++){const _0x5bbbc2=_0x4255c1[_0x48f24d*(0x263e+0x10d*0x6+0x2c89*-0x1)],_0xfad79e=_0x4255c1[_0x48f24d*(0x2*0xb97+-0x1*-0x12eb+-0x2a16*0x1)+(0x1a1+-0x3*0x14+-0xb2*0x2)],_0x277ced=_0x4255c1[_0x48f24d*(-0x17b*0x19+-0x25f*-0xf+0x175)+(-0x6*-0x571+-0x470+-0x1c34)];_0x20bf8e['set'](_0x571ae6[_0x5bbbc2*(-0x2250+-0x536+-0x1*-0x2789)],_0x571ae6[_0x5bbbc2*(-0x1fe9+-0x973+0x295f)+(0x20e6+0x25ad+-0x4692)],_0x571ae6[_0x5bbbc2*(0x12b9*0x2+-0x14d5*-0x1+0x16*-0x2a6)+(-0x4db+-0xcba+-0x5dd*-0x3)]),_0x5cd6c0['set'](_0x571ae6[_0xfad79e*(-0x476*-0x4+-0x14c2*-0x1+-0x25*0x10b)],_0x571ae6[_0xfad79e*(0x15a5+0x6e3*-0x1+-0xebf)+(-0x3*-0x258+0x1809*0x1+0x10*-0x1f1)],_0x571ae6[_0xfad79e*(-0x14ed+-0x58e+0x1a7e)+(-0x1ba7+-0x15f0+0x3199)]),_0x1084a6['set'](_0x571ae6[_0x277ced*(0x43*0x35+0xb50*0x2+-0x247c)],_0x571ae6[_0x277ced*(0x39*0x31+-0x561*-0x1+-0x1cf*0x9)+(-0x1*-0x1d91+-0x85b+-0x1535)],_0x571ae6[_0x277ced*(-0x141d+-0x1a7b+0x2e9b)+(-0x57c+0x1a70+0xe*-0x17f)]),_0x43d28a['sub2'](_0x5cd6c0,_0x20bf8e),_0x1cfb7e['sub2'](_0x1084a6,_0x20bf8e),_0x487af8['cross'](_0x43d28a,_0x1cfb7e)['normalize'](),_0x356637[_0x5bbbc2*(-0xa4*0x3b+0x1d81+0x84e)]+=_0x487af8['x'],_0x356637[_0x5bbbc2*(-0x234+0x1397+-0x1160)+(-0x5*-0x599+-0xa*0x1ac+-0xb44)]+=_0x487af8['y'],_0x356637[_0x5bbbc2*(0x1b38+-0x514+-0x1621*0x1)+(0x2541+-0x37f+0xb4*-0x30)]+=_0x487af8['z'],_0x356637[_0xfad79e*(-0x8c1*-0x3+0x15ce+-0x300e)]+=_0x487af8['x'],_0x356637[_0xfad79e*(0x1f45+-0xc2f+-0x1313)+(0xf07+-0xa9b+-0x46b*0x1)]+=_0x487af8['y'],_0x356637[_0xfad79e*(-0x1c3b+-0x1*-0x77+0x223*0xd)+(0x1*-0x82f+-0x2*-0x908+-0x9df)]+=_0x487af8['z'],_0x356637[_0x277ced*(-0x3d0+-0xb12*-0x1+-0x73f)]+=_0x487af8['x'],_0x356637[_0x277ced*(-0x1f10+-0x14bc*-0x1+0xa57*0x1)+(-0xd6b+0x78e*-0x2+-0x14c*-0x16)]+=_0x487af8['y'],_0x356637[_0x277ced*(-0x1a3e+0xb34*-0x2+0x30a9)+(0x23e2+-0x1*-0x1732+-0x3b12)]+=_0x487af8['z'];}for(let _0x31a79c=-0x3*0x7ef+0x397+0x2*0xa1b;_0x31a79c<_0x5082d1;_0x31a79c++){const _0x559304=_0x356637[_0x31a79c*(-0x15*-0x1d7+-0xa33*-0x1+-0x1*0x30d3)],_0x5795fb=_0x356637[_0x31a79c*(-0x153c+0x1c80+-0x3*0x26b)+(-0xd0a*0x2+0x92b*-0x4+0x3ec1)],_0x53182e=_0x356637[_0x31a79c*(-0x21d6+0x108b+0x1bb*0xa)+(0xd4*0x2+-0x1109+0x3*0x521)],_0x35ccb9=(0x2ce*0xb+-0x2e*-0x82+-0x3635)/Math['sqrt'](_0x559304*_0x559304+_0x5795fb*_0x5795fb+_0x53182e*_0x53182e);_0x356637[_0x31a79c*(0x37a*-0x2+-0x3*0xaea+0x27b5)]*=_0x35ccb9,_0x356637[_0x31a79c*(0x1da9*-0x1+0x7*0x13a+0x1516)+(0x124*-0x3+-0xc71*-0x1+-0x904*0x1)]*=_0x35ccb9,_0x356637[_0x31a79c*(0x3*-0x838+-0x13b2+0x2c5d)+(0x186b+-0xae4+0x1*-0xd85)]*=_0x35ccb9;}return _0x356637;},fr=(_0x161173,_0x3467af,_0x1f8783,_0x13a638)=>{const _0x1860af=_0x13a638['length']/(-0xb31+-0x1d53*-0x1+-0x121f),_0x9e8ed0=_0x161173['length']/(-0x16e2+0x1a6a+-0x385*0x1),_0x1c0cfe=new T(),_0x372fd9=new T(),_0x2d1a1e=new T(),_0xc7af50=new W(),_0x1ea09f=new W(),_0x2bc787=new W(),_0x6d48d=new T(),_0x1d9b08=new T(),_0x3089d4=new Float32Array(_0x9e8ed0*(0xda9+0x35*-0x59+0x4c7)),_0x29e151=new Float32Array(_0x9e8ed0*(-0x1a36+-0x92a+0x2363)),_0x1f2856=[];for(let _0x5d7b3e=-0x1dac+0xe07+0xfa5;_0x5d7b3e<_0x1860af;_0x5d7b3e++){const _0x149479=_0x13a638[_0x5d7b3e*(-0x1c7d+-0x1291+0x2f11)],_0x56cd60=_0x13a638[_0x5d7b3e*(-0x1*-0xa6f+0x202+-0xc6e)+(0x1a82+0x4*0x3cf+-0x29bd)],_0x467224=_0x13a638[_0x5d7b3e*(-0x1*-0x127b+0xc87*0x2+0x1*-0x2b86)+(0x43*-0x1+0x2087+-0x2042)];_0x1c0cfe['set'](_0x161173[_0x149479*(-0xc8+0x6cd*-0x2+0x1*0xe65)],_0x161173[_0x149479*(0x8c9+0xb*-0xd3+0x4b)+(0x1d23+-0x15e1+-0x741)],_0x161173[_0x149479*(-0x1714+-0x1aec+0x3203)+(-0x14f7+0x2433+-0xf3a)]),_0x372fd9['set'](_0x161173[_0x56cd60*(0xef6+0x14*-0x6d+0xb7*-0x9)],_0x161173[_0x56cd60*(-0x5*-0x78+0xb83+-0xdd8)+(-0x4f9*-0x2+-0x2053+0x1662)],_0x161173[_0x56cd60*(-0x1e1d+-0x1f*-0x97+0x1b1*0x7)+(-0xf42+0x29a*0x9+-0x1*0x826)]),_0x2d1a1e['set'](_0x161173[_0x467224*(0xd*0x232+-0x7*-0x13a+0xc5f*-0x3)],_0x161173[_0x467224*(-0x1*-0x1c4f+0x1*0x403+-0x204f)+(-0x3b1+-0x17e*-0x18+-0x2*0x100f)],_0x161173[_0x467224*(0xd28+-0x226f+-0x2*-0xaa5)+(-0xa*-0x31d+0xb85+-0x2aa5)]),_0xc7af50['set'](_0x1f8783[_0x149479*(-0x3c5*0xa+0x749*0x4+0x890)],_0x1f8783[_0x149479*(-0x6c8+-0x905+-0x13*-0xd5)+(-0x1764*-0x1+0x9ed*0x1+-0x2150)]),_0x1ea09f['set'](_0x1f8783[_0x56cd60*(-0xb6f*0x2+0x26d7+0x43*-0x3d)],_0x1f8783[_0x56cd60*(0xe62+-0x1e8e+0x102e)+(0x1192+0x1d*-0x140+0x12af*0x1)]),_0x2bc787['set'](_0x1f8783[_0x467224*(-0x5*0x454+-0x19a+0x7c0*0x3)],_0x1f8783[_0x467224*(0x3ff*-0x8+0x2*-0x11f+0x3c*0x92)+(0x1dd1*0x1+-0x1b66*-0x1+-0x6*0x989)]);const _0x35bd9b=_0x372fd9['x']-_0x1c0cfe['x'],_0x14c926=_0x2d1a1e['x']-_0x1c0cfe['x'],_0x18fca4=_0x372fd9['y']-_0x1c0cfe['y'],_0x36ec87=_0x2d1a1e['y']-_0x1c0cfe['y'],_0x3c8ddb=_0x372fd9['z']-_0x1c0cfe['z'],_0x28aa1=_0x2d1a1e['z']-_0x1c0cfe['z'],_0x1da2ee=_0x1ea09f['x']-_0xc7af50['x'],_0x1befc5=_0x2bc787['x']-_0xc7af50['x'],_0x11840c=_0x1ea09f['y']-_0xc7af50['y'],_0x1619c4=_0x2bc787['y']-_0xc7af50['y'],_0xba0544=_0x1da2ee*_0x1619c4-_0x1befc5*_0x11840c;if(_0xba0544===-0x172a+-0x5cd+0x1cf7)_0x6d48d['set'](-0x38d+-0x631*-0x5+-0x1b68,-0x1*-0x1815+-0x2195+0x1*0x981,-0x1a55+0x1e41*-0x1+0x2*0x1c4b),_0x1d9b08['set'](-0x4*-0x8e0+-0x5a2+-0x1ddd,-0x65b*0x1+-0x407*-0x2+-0x1b3,-0x97*-0x13+0x7b*-0x2b+0x974);else{const _0x278c49=(-0x242c+-0x458*-0x3+0x18b*0xf)/_0xba0544;_0x6d48d['set']((_0x1619c4*_0x35bd9b-_0x11840c*_0x14c926)*_0x278c49,(_0x1619c4*_0x18fca4-_0x11840c*_0x36ec87)*_0x278c49,(_0x1619c4*_0x3c8ddb-_0x11840c*_0x28aa1)*_0x278c49),_0x1d9b08['set']((_0x1da2ee*_0x14c926-_0x1befc5*_0x35bd9b)*_0x278c49,(_0x1da2ee*_0x36ec87-_0x1befc5*_0x18fca4)*_0x278c49,(_0x1da2ee*_0x28aa1-_0x1befc5*_0x3c8ddb)*_0x278c49);}_0x3089d4[_0x149479*(-0x1ffb+-0x416+0x905*0x4)+(0x6b*-0x59+0x25cf+0x27*-0x4)]+=_0x6d48d['x'],_0x3089d4[_0x149479*(0x1fd*-0xd+-0x1fd+0x1*0x1bd9)+(-0xe*0x152+-0x24a*-0x1+0x1033)]+=_0x6d48d['y'],_0x3089d4[_0x149479*(-0xb93*-0x2+0x1463+-0x2b86)+(-0x2*-0x5ad+0x1566+-0xfe*0x21)]+=_0x6d48d['z'],_0x3089d4[_0x56cd60*(0x1*-0x113b+-0x3e9*0x7+0x2c9d)+(0x248b+-0xa*-0x24f+-0x3ba1)]+=_0x6d48d['x'],_0x3089d4[_0x56cd60*(-0x1*-0x63d+0x1954+0xe*-0x241)+(-0x12d4+-0x6b*-0x45+0x16e*-0x7)]+=_0x6d48d['y'],_0x3089d4[_0x56cd60*(0xe16+-0x122b+0x418)+(-0x2f*-0x19+-0x1141+0xcac)]+=_0x6d48d['z'],_0x3089d4[_0x467224*(0x1690+-0x224d+-0xbc0*-0x1)+(-0x1dc4+0x1*-0x21da+0x22*0x1df)]+=_0x6d48d['x'],_0x3089d4[_0x467224*(0x4*-0x8cd+0x2*-0xb3b+0x39ad)+(0x1*-0xbd7+0x1159+-0x581)]+=_0x6d48d['y'],_0x3089d4[_0x467224*(0x14c+0xb8a+-0xcd3)+(-0xa*0x354+0xa7*-0xb+0x2877)]+=_0x6d48d['z'],_0x29e151[_0x149479*(-0x1ae2+-0x247+-0x1d2c*-0x1)+(-0x3f7+0x3*0xb95+0xa*-0x314)]+=_0x1d9b08['x'],_0x29e151[_0x149479*(0x17*-0x127+-0x2*-0x45a+-0x28*-0x72)+(-0x8fe*-0x3+0x133c+-0x2e35)]+=_0x1d9b08['y'],_0x29e151[_0x149479*(-0x4*-0x593+0xe3e+-0x2487)+(0x1265*0x2+-0x1f5+0x1*-0x22d3)]+=_0x1d9b08['z'],_0x29e151[_0x56cd60*(-0x7c4+-0x1*-0x3a+-0x1*-0x78d)+(0x2456+-0x1*0x41b+0xdf*-0x25)]+=_0x1d9b08['x'],_0x29e151[_0x56cd60*(-0x123c+-0x19db+-0x2*-0x160d)+(0x1db7+0x1c65*-0x1+-0x151)]+=_0x1d9b08['y'],_0x29e151[_0x56cd60*(0x76e+-0x2337+-0x2*-0xde6)+(0x67*-0xf+0x15*0x11b+-0xe*0x13a)]+=_0x1d9b08['z'],_0x29e151[_0x467224*(0x1bfd*0x1+-0xdb9+-0x29*0x59)+(-0x10a0+-0x1822+-0x4a*-0x8d)]+=_0x1d9b08['x'],_0x29e151[_0x467224*(0x1471+0x1120*-0x2+0x3d*0x3a)+(-0xddb*-0x1+0x11*-0xb5+-0x1d5)]+=_0x1d9b08['y'],_0x29e151[_0x467224*(-0x1*0x224f+0x25b*0x1+0x7*0x491)+(0x1d1d*-0x1+-0x19e2+-0x1*-0x3701)]+=_0x1d9b08['z'];}const _0x4fc20d=new T(),_0x557239=new T(),_0x4552f2=new T(),_0x1a5342=new T();for(let _0x2ae968=0x5c*-0x24+-0x1e7c+0x18d*0x1c;_0x2ae968<_0x9e8ed0;_0x2ae968++){_0x4552f2['set'](_0x3467af[_0x2ae968*(-0x1357*0x2+0x39*-0x1f+0x1*0x2d98)],_0x3467af[_0x2ae968*(0x9*-0x298+0x662*-0x4+0x30e3)+(-0x239b*-0x1+-0x75*-0x41+-0x414f)],_0x3467af[_0x2ae968*(0x29b*0x7+0xad5+-0x1d0f*0x1)+(0x5e0*-0x2+0xcbc+-0xfa)]),_0x4fc20d['set'](_0x3089d4[_0x2ae968*(0x2534+-0x2c*0x98+0x1*-0xb11)],_0x3089d4[_0x2ae968*(0x2*-0x4f0+0xac*0x9+0x3d7*0x1)+(-0x17bc+-0x640+0x1dfd)],_0x3089d4[_0x2ae968*(0x13e1+-0x1554+0x176)+(0x1fe8+-0xdbe+-0x7*0x298)]),_0x557239['set'](_0x29e151[_0x2ae968*(-0x1cca+-0x1*0x10b9+0x2d86)],_0x29e151[_0x2ae968*(-0x17ab+0x2228*0x1+-0xa7a)+(-0x1070+0x15b+-0x1*-0xf16)],_0x29e151[_0x2ae968*(0x14d9+-0x2300+-0xe2a*-0x1)+(0x1*0x458+-0x38f+-0xc7)]);const _0x25ff3d=_0x4552f2['dot'](_0x4fc20d);_0x1a5342['copy'](_0x4552f2)['mulScalar'](_0x25ff3d),_0x1a5342['sub2'](_0x4fc20d,_0x1a5342)['normalize'](),_0x1f2856[_0x2ae968*(0x15a3+0x1c2f+-0x31ce)]=_0x1a5342['x'],_0x1f2856[_0x2ae968*(-0xf03+0x670*-0x1+0x1577)+(0x22*-0x3b+-0xe88+-0x17*-0xf9)]=_0x1a5342['y'],_0x1f2856[_0x2ae968*(-0x14db+0x446*-0x6+0x2e83)+(-0x1443+-0x1*-0x1a7c+0x25*-0x2b)]=_0x1a5342['z'],_0x1a5342['cross'](_0x4552f2,_0x4fc20d),_0x1f2856[_0x2ae968*(0x18+-0x2cd+-0x29*-0x11)+(0x11a2+0x1f89+-0x3128)]=_0x1a5342['dot'](_0x557239)<0x11d5+-0x1433*-0x1+-0x4*0x982?-(0x1a0*0x13+0x47e+-0x235d):-0x20dc+0x11d3+0xf0a;}return _0x1f2856;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const Wu=(-0x1792+-0x4d9*-0x5+0x1*-0xa7)/(-0x22*0xf8+0x12*-0xae+0x792*0x6),L_=-0xe82+0x23d*-0x5+0x19b4-Wu*(-0x1ad3+0x19b8+0x39*0x5);class $u extends pn{constructor(_0x42b21b={}){super();const _0x2a19bc=_0x42b21b['halfExtent'+'s']??new T(0x181f+-0x21a*-0x4+-0x2087+0.5,-0x2617+-0x56f+0x741*0x6+0.5,-0x1cdc+-0x16f9+-0x3*-0x1147+0.5),_0x53f63a=_0x42b21b['widthSegme'+'nts']??-0x2*0x892+0x2699+-0x4*0x55d,_0x20f5bb=_0x42b21b['lengthSegm'+'ents']??-0x23aa+-0x1d7d+0x4128,_0x4dcd01=_0x42b21b['heightSegm'+'ents']??0x2478+-0x28e*0x6+-0x1523,_0x4b95ab=_0x42b21b['yOffset']??0x2*-0xcb9+0x1*0x137a+0x5f8,_0x6ccd82=-_0x2a19bc['y']+_0x4b95ab,_0x195394=_0x2a19bc['y']+_0x4b95ab,_0x195a8a=[new T(-_0x2a19bc['x'],_0x6ccd82,_0x2a19bc['z']),new T(_0x2a19bc['x'],_0x6ccd82,_0x2a19bc['z']),new T(_0x2a19bc['x'],_0x195394,_0x2a19bc['z']),new T(-_0x2a19bc['x'],_0x195394,_0x2a19bc['z']),new T(_0x2a19bc['x'],_0x6ccd82,-_0x2a19bc['z']),new T(-_0x2a19bc['x'],_0x6ccd82,-_0x2a19bc['z']),new T(-_0x2a19bc['x'],_0x195394,-_0x2a19bc['z']),new T(_0x2a19bc['x'],_0x195394,-_0x2a19bc['z'])],_0x1a3436=[[0x10d6+-0xf13+0x1c3*-0x1,0x1aff+0x25e*0x3+-0x2218,0x195a+-0x1b7*0x5+-0x10c4],[0x1cae+0x4d*-0x5d+-0xb1,0x256a+0x437+0x2*-0x14ce,-0x1*-0x248e+-0x14aa+-0xfdd],[-0x28f+0x14c2+0x918*-0x2,-0x2572+-0x4*0x46+0x268c,0x5ba*-0x2+-0x25e4+0x18af*0x2],[0x2*0x81e+-0x37*0x8f+-0x173*-0xa,-0x39e*-0x7+0x1e1c+-0x376e,-0x5c*0x64+-0xe7+-0x25*-0xff],[0x417+0x1*-0x1481+0x579*0x3,0x52b+0x32*0x26+-0x3*0x431,0x5*0x24f+0x2209*0x1+-0x2d92],[0x1f*-0x43+-0x186d+-0x5*-0x683,-0x17da+-0x7*-0x4f5+0x1*-0xad9,0x3d8*-0x3+0x1466*-0x1+0x1ff4]],_0x5b7552=[[-0x425*0x7+0x2*-0x719+-0x2b35*-0x1,0x2541+0xe25+0x33*-0x102,-0x17b+0x16a2+-0x1526],[-0x748+-0xf63+0x7*0x33d,-0x924+0xcb2+-0x38e,-(-0x7*-0x395+0x2203+-0x3b15*0x1)],[-0x68*-0x17+-0x7*0x2ef+0xb31,0xc*0x2ce+-0x1b67+0x2*-0x320,-0x35*-0x58+0x1a66*0x1+-0x1*0x2c9e],[0x18c9+-0xcd2+-0xbf7,-(-0x13d*-0x6+-0x1c4b+0x14de),0x432*0x1+-0xc3+-0x36f],[0x5*-0x4b2+-0x24*-0x8b+0x3ef*0x1,0x3*-0xcb9+0x590+0x209b*0x1,-0x313+0xb7b+-0x868],[-(0x6a*-0x38+-0x1bb5+0x32e6),-0xac9*0x2+-0x214c+0x36de,-0x9f4+-0x1*0x16e5+0x1*0x20d9]],_0x375b7c={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x532af2=[],_0x59ac42=[],_0x3316c1=[],_0x44471b=[];let _0x395b2d=-0x6e5*-0x1+0x1a93*0x1+0x38*-0x99;const _0x10f99d=(_0x28e6de,_0x2f3cfc,_0x5e8ddb)=>{const _0x4a578d=new T(),_0x1b9e1a=new T(),_0x431906=new T(),_0x43a856=new T();for(let _0x2ffd58=0xb33*-0x3+-0x1001+-0x319a*-0x1;_0x2ffd58<=_0x2f3cfc;_0x2ffd58++)for(let _0x1b9f16=-0x25b8+-0x1*0x16b5+0x3c6d;_0x1b9f16<=_0x5e8ddb;_0x1b9f16++){_0x4a578d['lerp'](_0x195a8a[_0x1a3436[_0x28e6de][0x4e5+0x1*0x1922+-0x1e07*0x1]],_0x195a8a[_0x1a3436[_0x28e6de][-0xb99+0xba*0x2c+0x16*-0xed]],_0x2ffd58/_0x2f3cfc),_0x1b9e1a['lerp'](_0x195a8a[_0x1a3436[_0x28e6de][-0x1*-0x1606+-0x1e*-0xfd+0x1*-0x33ac]],_0x195a8a[_0x1a3436[_0x28e6de][0x1*-0x446+0xfe9*-0x2+0x241a]],_0x1b9f16/_0x5e8ddb),_0x431906['sub2'](_0x1b9e1a,_0x195a8a[_0x1a3436[_0x28e6de][0x80*0xf+-0x259e+0x1e1e]]),_0x43a856['add2'](_0x4a578d,_0x431906);let _0x149add=_0x2ffd58/_0x2f3cfc,_0x47dea8=_0x1b9f16/_0x5e8ddb;_0x532af2['push'](_0x43a856['x'],_0x43a856['y'],_0x43a856['z']),_0x59ac42['push'](_0x5b7552[_0x28e6de][0x153a+-0x117b+-0x1*0x3bf],_0x5b7552[_0x28e6de][0x10e6+-0x2029+-0x7a2*-0x2],_0x5b7552[_0x28e6de][-0xadd*0x1+0x323*0x1+0x7bc]),_0x3316c1['push'](_0x149add,0x350*-0x2+0x1fc*-0xe+0x2269-_0x47dea8),_0x149add=_0x149add*L_+Wu,_0x47dea8=_0x47dea8*L_+Wu,_0x149add/=0x2d9*-0x1+0x108+0x1d4,_0x47dea8/=0x20c6+0x30*0x82+-0x3923,_0x149add+=_0x28e6de%(0x3*0x359+-0x197e+0x7bb*0x2)/(0xf*0x21+0x76d*-0x3+-0x145b*-0x1),_0x47dea8+=Math['floor'](_0x28e6de/(0x5*0x527+-0xad6+-0x17*0xa6))/(0x9f*0x25+-0x1c2e*0x1+0x536*0x1),_0x2ffd58<_0x2f3cfc&&_0x1b9f16<_0x5e8ddb&&(_0x44471b['push'](_0x395b2d+_0x5e8ddb+(0x322*0x5+0x1187+-0x2130),_0x395b2d+(-0x1*0x595+-0x23ae+-0x14a2*-0x2),_0x395b2d),_0x44471b['push'](_0x395b2d+_0x5e8ddb+(0x1664+0x16*-0x1af+0xea7),_0x395b2d+_0x5e8ddb+(-0x184d*-0x1+-0xc17+-0xc34),_0x395b2d+(0x1f*0x1+0x3e*0x28+-0x9ce))),_0x395b2d++;}};_0x10f99d(_0x375b7c['FRONT'],_0x53f63a,_0x4dcd01),_0x10f99d(_0x375b7c['BACK'],_0x53f63a,_0x4dcd01),_0x10f99d(_0x375b7c['TOP'],_0x53f63a,_0x20f5bb),_0x10f99d(_0x375b7c['BOTTOM'],_0x53f63a,_0x20f5bb),_0x10f99d(_0x375b7c['RIGHT'],_0x20f5bb,_0x4dcd01),_0x10f99d(_0x375b7c['LEFT'],_0x20f5bb,_0x4dcd01),this['positions']=_0x532af2,this['normals']=_0x59ac42,this['uvs']=_0x3316c1,this['uvs1']=_0x3316c1,this['indices']=_0x44471b,_0x42b21b['calculateT'+'angents']&&(this['tangents']=fr(_0x532af2,_0x59ac42,_0x3316c1,_0x44471b));}}class B0 extends pn{constructor(_0x3aa796={}){super();const _0x4ea328=_0x3aa796['radius']??-0xd62+0x1b1c+0x1*-0xdba+0.5,_0x46dd8b=_0x3aa796['latitudeBa'+'nds']??0x2*0xb7+0x303*0x1+0x3b*-0x13,_0x3b9a29=_0x3aa796['longitudeB'+'ands']??-0x223+-0x205a+0x228d,_0x6d55c0=[],_0xbf32ad=[],_0x39f4b1=[],_0x214cfa=[];for(let _0x5e1012=0x1299*0x1+0x218f+0x685*-0x8;_0x5e1012<=_0x46dd8b;_0x5e1012++){const _0x412ffb=_0x5e1012*Math['PI']/_0x46dd8b,_0x3e5eca=Math['sin'](_0x412ffb),_0x4cedff=Math['cos'](_0x412ffb);for(let _0x54ff96=0x411*-0x1+0x1*-0x1269+0x336*0x7;_0x54ff96<=_0x3b9a29;_0x54ff96++){const _0x4c082d=_0x54ff96*(-0xcd8*-0x1+-0x2589*-0x1+-0x325f)*Math['PI']/_0x3b9a29-Math['PI']/(0x21cf+0x1*0xd0f+0x2*-0x176e),_0x23cddc=Math['sin'](_0x4c082d),_0x4f4b64=Math['cos'](_0x4c082d)*_0x3e5eca,_0x2ea88c=_0x4cedff,_0x4d8a47=_0x23cddc*_0x3e5eca,_0x327a1b=0x157b+0x9*0x3c6+-0x3770-_0x54ff96/_0x3b9a29,_0x436a36=0x3*-0x9c7+0xe9*-0x19+-0x15*-0x27b-_0x5e1012/_0x46dd8b;_0x6d55c0['push'](_0x4f4b64*_0x4ea328,_0x2ea88c*_0x4ea328,_0x4d8a47*_0x4ea328),_0xbf32ad['push'](_0x4f4b64,_0x2ea88c,_0x4d8a47),_0x39f4b1['push'](_0x327a1b,-0x1fa5*0x1+0x1*0x1d2d+-0x3*-0xd3-_0x436a36);}}for(let _0x1c77d6=-0x97c+-0xbb*0x11+0x15e7;_0x1c77d6<_0x46dd8b;++_0x1c77d6)for(let _0x525874=0x1ee5+-0x2*0xe87+-0x1d7;_0x525874<_0x3b9a29;++_0x525874){const _0xad5caa=_0x1c77d6*(_0x3b9a29+(0x16c5+-0x1a2*0x14+-0x2*-0x4f2))+_0x525874,_0x1efc3b=_0xad5caa+_0x3b9a29+(-0x1d86+-0x43c+0x21c3);_0x214cfa['push'](_0xad5caa+(-0x13f2+0xa*0x24e+-0x319),_0x1efc3b,_0xad5caa),_0x214cfa['push'](_0xad5caa+(-0x1c9*0x13+-0x1c92+0x26*0x1a5),_0x1efc3b+(-0x2*-0xfbb+-0x1a3*-0x1+-0x6*0x584),_0x1efc3b);}this['positions']=_0x6d55c0,this['normals']=_0xbf32ad,this['uvs']=_0x39f4b1,this['uvs1']=_0x39f4b1,this['indices']=_0x214cfa,_0x3aa796['calculateT'+'angents']&&(this['tangents']=fr(_0x6d55c0,_0xbf32ad,_0x39f4b1,_0x214cfa));}}class p1 extends B0{constructor(_0x379836={}){const _0x345928=_0x379836['latitudeBa'+'nds']??0x4*0x6e4+-0x1*-0x335+0x7*-0x463,_0x17bebf=_0x379836['longitudeB'+'ands']??-0x22ea+0x1*0xa16+0x18e4;super({'radius':0.5,'latitudeBands':_0x345928,'longitudeBands':_0x17bebf});const _0x458b35=0x1822+-0x1648+-0x1da*0x1+0.1,_0x46c0c6=-0x3*0x425+0x1*0x182f+-0xbc0+0.95,_0xf8364c=_0x46c0c6*_0x46c0c6,_0x4531d7=this['positions'];for(let _0x49345d=-0xf58+-0x14d4*-0x1+-0x57c;_0x49345d<_0x4531d7['length'];_0x49345d+=-0x641+-0x1456+0x1a9a){const _0x3e0f9d=_0x4531d7[_0x49345d]/(0x23d+-0xc89*0x1+0xa4c+0.5);let _0x2f7b3d=_0x4531d7[_0x49345d+(-0x2f4+0x1b9d+-0x18a8)]/(-0x1b6c+-0x1*-0x1316+-0x16*-0x61+0.5);const _0x388055=_0x4531d7[_0x49345d+(-0xdf*-0xb+0x2*-0xb75+0x1*0xd57)]/(0x1*-0x103f+0x2245*0x1+-0x1206+0.5);_0x2f7b3d<-0xce3*-0x1+-0x57a+-0x769&&(_0x2f7b3d*=0x4a*-0x24+0x38f*-0x1+0x8f*0x19+0.3,_0x3e0f9d*_0x3e0f9d+_0x388055*_0x388055<_0xf8364c&&(_0x2f7b3d=-(-0xec+0xe*-0x2a9+-0x7a2*-0x5+0.1))),_0x2f7b3d+=_0x458b35,_0x2f7b3d*=-0x1056+-0x2*-0xef7+0xc*-0x122+0.5,_0x4531d7[_0x49345d+(-0x7*-0x301+-0x9*-0x417+-0x39d5)]=_0x2f7b3d;}}}class So{static['create'](_0x44a322,_0x350139){switch(_0x350139){case tw:return So['box'](_0x44a322);case sw:return So['dome'](_0x44a322);}return v['assert'](_0x350139===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x350139),So['infinite'](_0x44a322);}static['infinite'](_0x26b3ce){return Ie['fromGeomet'+'ry'](_0x26b3ce,new $u(_0x26b3ce));}static['box'](_0x2a2165){return Ie['fromGeomet'+'ry'](_0x2a2165,new $u({'yOffset':0.5}));}static['dome'](_0x423a5a){const _0x5dc9f2=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x5dc9f2['normals']=void(-0x43c+0xcf4+-0x2e8*0x3),_0x5dc9f2['uvs']=void(-0x26ae+0x2*0x10b1+0x54c),Ie['fromGeomet'+'ry'](_0x423a5a,_0x5dc9f2);}}class m1{constructor(_0x8e0bec,_0x217eb0,_0x169622,_0xbacfb6,_0x372a33){c(this,'meshInstan'+'ce',null);const _0x5ce304=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x5ce304['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0xbacfb6['encoding'])),_0x372a33!==xo&&_0x5ce304['setDefine']('SKYMESH',''),_0xbacfb6['cubemap']&&_0x5ce304['setDefine']('SKY_CUBEMA'+'P',''),_0x5ce304['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x217eb0['skyboxHigh'+'lightMulti'+'plier']),_0xbacfb6['cubemap']?_0x5ce304['setParamet'+'er']('texture_cu'+'beMap',_0xbacfb6):(_0x5ce304['setParamet'+'er']('texture_en'+'vAtlas',_0xbacfb6),_0x5ce304['setParamet'+'er']('mipLevel',_0x217eb0['skyboxMip'])),_0x5ce304['cull']=mo,_0x5ce304['depthWrite']=!(-0xa14+0x17b1+-0xd9c);const _0x21d325=_0x217eb0['layers']['getLayerBy'+'Id'](vp);if(_0x21d325){const _0x4f68c3=So['create'](_0x8e0bec,_0x372a33),_0x55dcda=new Le(_0x4f68c3,_0x5ce304,_0x169622);this['meshInstan'+'ce']=_0x55dcda,_0x55dcda['cull']=!(-0xa*-0x1b7+-0x90d*-0x1+-0x1a32),_0x55dcda['pick']=!(0x1*-0x1ec7+-0x10*-0x218+-0x2b8),_0x21d325['addMeshIns'+'tances']([_0x55dcda]),this['skyLayer']=_0x21d325;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x827567){c(this,'_type',xo),c(this,'_center',new T(0xc19+-0x8b*0x2f+0xd6c,0x1d11+-0x20e4+-0x7*-0x8c,0x761+0x29d+-0x9fe)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x827567['device'],this['scene']=_0x827567,this['center']=new T(-0x3*-0xc83+-0x15+-0x2574,-0x2ed*0xa+-0x1*-0x200e+0xd*-0x37,-0x362*-0x9+-0x1019+-0x1*0xe59),this['centerArra'+'y']=new Float32Array(0x31*0x4d+0x52d+-0x13e7),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x457fa6){this['type']=_0x457fa6['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0x457fa6['skyMeshPos'+'ition']??[-0x1*0xea9+-0x15e8+0x2491*0x1,-0x19f7+-0x11*-0x139+0x2*0x297,-0x2444+-0x1*-0x1731+0xd13])),this['node']['setLocalEu'+'lerAngles'](new T(_0x457fa6['skyMeshRot'+'ation']??[0xad8+-0x2066+0x158e,-0x1bc2+0x1975+0x24d,0x913+0xebc+0x73*-0x35])),this['node']['setLocalSc'+'ale'](new T(_0x457fa6['skyMeshSca'+'le']??[-0x7db*-0x1+0x561+0x469*-0x3,0x247f*-0x1+-0x113c+-0x16a*-0x26,0x131*-0x14+-0x925*-0x1+-0x28*-0x5e])),_0x457fa6['skyCenter']&&(this['_center']=new T(_0x457fa6['skyCenter']));}set['type'](_0x118304){this['_type']!==_0x118304&&(this['_type']=_0x118304,this['scene']['updateShad'+'ers']=!(0x1*0x253d+0x5*-0x48a+0x33*-0x49),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x3f685d){this['_center']['copy'](_0x3f685d);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x3937da=this['scene']['_getSkybox'+'Tex']();_0x3937da&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x3937da,this['type']),this['scene']['fire']('set:skybox',_0x3937da));}['resetSkyMe'+'sh'](){var _0x283887;(_0x283887=this['skyMesh'])==null||_0x283887['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x385af6,centerArray:_0x4f82b6}=this,_0x4c62bb=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x385af6,_0x4c62bb),_0x4f82b6[-0x17c8*0x1+0x9*-0x84+0x1c6c]=_0x4c62bb['x'],_0x4f82b6[0x977+-0x1*-0x2655+-0x2fcb]=_0x4c62bb['y'],_0x4f82b6[-0x22*-0x22+0x2d*0x6b+-0x7f*0x2f]=_0x4c62bb['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x4f82b6);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(-0x399+-0x1*0x31d+0x9*0xbf);class g1{constructor(_0x32e4c7,_0x435b75,_0x3d533f){this['material']=_0x435b75,this['layer']=_0x3d533f,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x32e4c7),this['meshInstan'+'ce']=null;}['addLines'](_0x5020e6,_0x4ca6b9){const _0xd4eb06=this['positions'],_0x28e136=_0x5020e6['length'];for(let _0x3359dd=-0x1*0x234d+-0x2023+-0x1a*-0x298;_0x3359dd<_0x28e136;_0x3359dd++){const _0x3aec98=_0x5020e6[_0x3359dd];_0xd4eb06['push'](_0x3aec98['x'],_0x3aec98['y'],_0x3aec98['z']);}const _0x54d01d=this['colors'];if(_0x4ca6b9['length'])for(let _0x3bfe53=-0x5c9+-0x2*0xa85+0x1ad3;_0x3bfe53<_0x28e136;_0x3bfe53++){const _0x5d7baf=_0x4ca6b9[_0x3bfe53];_0x54d01d['push'](_0x5d7baf['r'],_0x5d7baf['g'],_0x5d7baf['b'],_0x5d7baf['a']);}else{for(let _0x524895=-0x2d4+-0x1*-0x1693+0x695*-0x3;_0x524895<_0x28e136;_0x524895++)_0x54d01d['push'](_0x4ca6b9['r'],_0x4ca6b9['g'],_0x4ca6b9['b'],_0x4ca6b9['a']);}}['addLinesAr'+'rays'](_0x3d0f3b,_0x5b8f2b){const _0x1ea065=this['positions'];for(let _0x12f6ad=0x2*0xb23+0x59*-0x17+-0xe47;_0x12f6ad<_0x3d0f3b['length'];_0x12f6ad+=-0x5*-0x4f1+0x1*0x10b1+-0x41*0xa3)_0x1ea065['push'](_0x3d0f3b[_0x12f6ad],_0x3d0f3b[_0x12f6ad+(0x1389+-0xb*-0x50+-0x16f8)],_0x3d0f3b[_0x12f6ad+(0x24ae+-0x1234+0x49e*-0x4)]);const _0x533173=this['colors'];if(_0x5b8f2b['length']){for(let _0x40b8d3=-0x24cf+0x23*-0x3+-0x1*-0x2538;_0x40b8d3<_0x5b8f2b['length'];_0x40b8d3+=0x23ec+0xf46*0x1+-0x332e)_0x533173['push'](_0x5b8f2b[_0x40b8d3],_0x5b8f2b[_0x40b8d3+(-0xf4d+0x1fb9+-0x1d3*0x9)],_0x5b8f2b[_0x40b8d3+(-0x1c7c+0x21ac*0x1+0x2*-0x297)],_0x5b8f2b[_0x40b8d3+(0x2*-0xe6b+0x11*-0x215+-0x156a*-0x3)]);}else{const _0x40cd24=_0x3d0f3b['length']/(0x10e7+0xe26+-0x1f0a);for(let _0x5315da=-0xe2e+-0x133a+0x1*0x2168;_0x5315da<_0x40cd24;_0x5315da++)_0x533173['push'](_0x5b8f2b['r'],_0x5b8f2b['g'],_0x5b8f2b['b'],_0x5b8f2b['a']);}}['onPreRende'+'r'](_0xde8996,_0x471aa2){this['positions']['length']>0x1*0xb57+-0x238+-0x1d3*0x5&&this['material']['transparen'+'t']===_0x471aa2&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(0x2*0x1113+0x1dfe*0x1+-0x1561*0x3)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0xde8996['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=0x153d+0x1a21+-0x2f5e,this['colors']['length']=-0x17a1+-0x22c2+0x1*0x3a63;}}class y1{constructor(_0x59b844){this['device']=_0x59b844,this['map']=new Map();}['getBatch'](_0x3f3165,_0x5a5207){let _0xa13505=this['map']['get'](_0x3f3165);return _0xa13505||(_0xa13505=new g1(this['device'],_0x3f3165,_0x5a5207),this['map']['set'](_0x3f3165,_0xa13505)),_0xa13505;}['onPreRende'+'r'](_0x563274,_0x594b3d){this['map']['forEach'](_0xa2b749=>{_0xa2b749['onPreRende'+'r'](_0x563274,_0x594b3d);});}['clear'](){this['map']['forEach'](_0x2dbdf4=>_0x2dbdf4['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x1ae79f){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x1ae79f,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0xd03be5){const _0x449bce=new Ra(x1);return _0x449bce['blendType']=Kt,_0x449bce['depthTest']=_0xd03be5,_0x449bce['update'](),_0x449bce;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x53*0x3d+-0x1599+0x1d2))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x257e+0x1*0x3cd+0x21b2))),this['_materialN'+'oDepth'];}['getBatch'](_0x189807,_0x2ea608){let _0x51ab81=this['batchesMap']['get'](_0x189807);_0x51ab81||(_0x51ab81=new y1(this['device']),this['batchesMap']['set'](_0x189807,_0x51ab81)),this['allBatches']['add'](_0x51ab81);const _0x596a7e=_0x2ea608?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x51ab81['getBatch'](_0x596a7e,_0x189807);}['getShaderD'+'esc'](_0x155a46,_0x1221aa){return this['shaderDesc'+'s']['has'](_0x155a46)||this['shaderDesc'+'s']['set'](_0x155a46,{'uniqueName':'DebugShade'+'r:'+_0x155a46,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x1221aa,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x155a46);}['getTexture'+'ShaderDesc'](_0x2a5142){const _0x27ffc1=Es['decodeFunc'](_0x2a5142);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x2a5142,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x27ffc1+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(0x19cf*-0x1+-0x1b79+0x3548+0.5),-(-0x1*-0x26e+-0xc78+0xa0a+0.5),-0x3*0xb02+0x19*-0x107+0x7*0x863,-0x1*-0x217c+-0x1*-0x228d+-0x1*0x4409+0.5,-(-0x76b*-0x5+-0x1e2+-0x1*0x2335+0.5),-0x2b6*-0xe+0x14c9+-0x3abd*0x1,-(0xf27+-0x23e5+0x14be+0.5),-0x2566+-0x54*-0x50+0x593*0x2+0.5,-0x19f7+0x1b0e+-0x3*0x5d,-0x2c*0x2+0x7b1*0x2+0x15e*-0xb+0.5,0x1e8c+0x1a9b+-0x3927+0.5,0x1*0x22ca+0x4*-0x94+0x207a*-0x1]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0xe0a4ec,_0x4452f2,_0x468daa,_0x29bb38,_0x440667){if(!_0x29bb38){const _0x4978ca=this['getGraphNo'+'de'](_0x4452f2);_0x29bb38=new Le(_0x468daa,_0xe0a4ec,_0x4978ca);}let _0x4af0e0=this['layerMeshI'+'nstances']['get'](_0x440667);_0x4af0e0||(_0x4af0e0=[],this['layerMeshI'+'nstances']['set'](_0x440667,_0x4af0e0)),_0x4af0e0['push'](_0x29bb38);}['drawWireAl'+'ignedBox'](_0x1fdc10,_0xdbc09d,_0x2f62c1,_0x830365,_0x19b62a,_0xf028bd){if(_0xf028bd){const _0x10aa4d=(_0x3516d6,_0x26037f,_0x55b335)=>{Ln['set'](_0x3516d6,_0x26037f,_0x55b335),_0xf028bd['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x10aa4d(_0x1fdc10['x'],_0x1fdc10['y'],_0x1fdc10['z']),_0x10aa4d(_0x1fdc10['x'],_0xdbc09d['y'],_0x1fdc10['z']),_0x10aa4d(_0x1fdc10['x'],_0xdbc09d['y'],_0x1fdc10['z']),_0x10aa4d(_0xdbc09d['x'],_0xdbc09d['y'],_0x1fdc10['z']),_0x10aa4d(_0xdbc09d['x'],_0xdbc09d['y'],_0x1fdc10['z']),_0x10aa4d(_0xdbc09d['x'],_0x1fdc10['y'],_0x1fdc10['z']),_0x10aa4d(_0xdbc09d['x'],_0x1fdc10['y'],_0x1fdc10['z']),_0x10aa4d(_0x1fdc10['x'],_0x1fdc10['y'],_0x1fdc10['z']),_0x10aa4d(_0x1fdc10['x'],_0x1fdc10['y'],_0xdbc09d['z']),_0x10aa4d(_0x1fdc10['x'],_0xdbc09d['y'],_0xdbc09d['z']),_0x10aa4d(_0x1fdc10['x'],_0xdbc09d['y'],_0xdbc09d['z']),_0x10aa4d(_0xdbc09d['x'],_0xdbc09d['y'],_0xdbc09d['z']),_0x10aa4d(_0xdbc09d['x'],_0xdbc09d['y'],_0xdbc09d['z']),_0x10aa4d(_0xdbc09d['x'],_0x1fdc10['y'],_0xdbc09d['z']),_0x10aa4d(_0xdbc09d['x'],_0x1fdc10['y'],_0xdbc09d['z']),_0x10aa4d(_0x1fdc10['x'],_0x1fdc10['y'],_0xdbc09d['z']),_0x10aa4d(_0x1fdc10['x'],_0x1fdc10['y'],_0x1fdc10['z']),_0x10aa4d(_0x1fdc10['x'],_0x1fdc10['y'],_0xdbc09d['z']),_0x10aa4d(_0x1fdc10['x'],_0xdbc09d['y'],_0x1fdc10['z']),_0x10aa4d(_0x1fdc10['x'],_0xdbc09d['y'],_0xdbc09d['z']),_0x10aa4d(_0xdbc09d['x'],_0xdbc09d['y'],_0x1fdc10['z']),_0x10aa4d(_0xdbc09d['x'],_0xdbc09d['y'],_0xdbc09d['z']),_0x10aa4d(_0xdbc09d['x'],_0x1fdc10['y'],_0x1fdc10['z']),_0x10aa4d(_0xdbc09d['x'],_0x1fdc10['y'],_0xdbc09d['z']);}else Jt['push'](_0x1fdc10['x'],_0x1fdc10['y'],_0x1fdc10['z'],_0x1fdc10['x'],_0xdbc09d['y'],_0x1fdc10['z'],_0x1fdc10['x'],_0xdbc09d['y'],_0x1fdc10['z'],_0xdbc09d['x'],_0xdbc09d['y'],_0x1fdc10['z'],_0xdbc09d['x'],_0xdbc09d['y'],_0x1fdc10['z'],_0xdbc09d['x'],_0x1fdc10['y'],_0x1fdc10['z'],_0xdbc09d['x'],_0x1fdc10['y'],_0x1fdc10['z'],_0x1fdc10['x'],_0x1fdc10['y'],_0x1fdc10['z'],_0x1fdc10['x'],_0x1fdc10['y'],_0xdbc09d['z'],_0x1fdc10['x'],_0xdbc09d['y'],_0xdbc09d['z'],_0x1fdc10['x'],_0xdbc09d['y'],_0xdbc09d['z'],_0xdbc09d['x'],_0xdbc09d['y'],_0xdbc09d['z'],_0xdbc09d['x'],_0xdbc09d['y'],_0xdbc09d['z'],_0xdbc09d['x'],_0x1fdc10['y'],_0xdbc09d['z'],_0xdbc09d['x'],_0x1fdc10['y'],_0xdbc09d['z'],_0x1fdc10['x'],_0x1fdc10['y'],_0xdbc09d['z'],_0x1fdc10['x'],_0x1fdc10['y'],_0x1fdc10['z'],_0x1fdc10['x'],_0x1fdc10['y'],_0xdbc09d['z'],_0x1fdc10['x'],_0xdbc09d['y'],_0x1fdc10['z'],_0x1fdc10['x'],_0xdbc09d['y'],_0xdbc09d['z'],_0xdbc09d['x'],_0xdbc09d['y'],_0x1fdc10['z'],_0xdbc09d['x'],_0xdbc09d['y'],_0xdbc09d['z'],_0xdbc09d['x'],_0x1fdc10['y'],_0x1fdc10['z'],_0xdbc09d['x'],_0x1fdc10['y'],_0xdbc09d['z']);this['getBatch'](_0x19b62a,_0x830365)['addLinesAr'+'rays'](Jt,_0x2f62c1),Jt['length']=0x24ea+-0xe56*-0x1+-0x29*0x140;}['drawWireSp'+'here'](_0x509029,_0x24f671,_0x4b11db,_0xf75b74,_0xc78553,_0x41326a){const _0x508a03=(-0x73a+0x132b+-0xbef)*Math['PI']/_0xf75b74;let _0xb35ec9=0x25f*0x1+0x20b*-0x1+-0x15*0x4;for(let _0x19fc43=-0x1*0x1e4a+-0x1e47+0x1*0x3c91;_0x19fc43<_0xf75b74;_0x19fc43++){const _0x23c02c=Math['sin'](_0xb35ec9),_0x129387=Math['cos'](_0xb35ec9);_0xb35ec9+=_0x508a03;const _0x336c67=Math['sin'](_0xb35ec9),_0x8f5cbf=Math['cos'](_0xb35ec9);Jt['push'](_0x509029['x']+_0x24f671*_0x23c02c,_0x509029['y'],_0x509029['z']+_0x24f671*_0x129387),Jt['push'](_0x509029['x']+_0x24f671*_0x336c67,_0x509029['y'],_0x509029['z']+_0x24f671*_0x8f5cbf),Jt['push'](_0x509029['x']+_0x24f671*_0x23c02c,_0x509029['y']+_0x24f671*_0x129387,_0x509029['z']),Jt['push'](_0x509029['x']+_0x24f671*_0x336c67,_0x509029['y']+_0x24f671*_0x8f5cbf,_0x509029['z']),Jt['push'](_0x509029['x'],_0x509029['y']+_0x24f671*_0x23c02c,_0x509029['z']+_0x24f671*_0x129387),Jt['push'](_0x509029['x'],_0x509029['y']+_0x24f671*_0x336c67,_0x509029['z']+_0x24f671*_0x8f5cbf);}this['getBatch'](_0x41326a,_0xc78553)['addLinesAr'+'rays'](Jt,_0x4b11db),Jt['length']=-0x1fd1+-0xe4a+-0x431*-0xb;}['getGraphNo'+'de'](_0x3aa46e){const _0x5c1e6e=new De('ImmediateD'+'ebug');return _0x5c1e6e['worldTrans'+'form']=_0x3aa46e,_0x5c1e6e['_dirtyWorl'+'d']=_0x5c1e6e['_dirtyNorm'+'al']=!(-0x1223*0x1+-0xc1f+0x1e43),_0x5c1e6e;}['onPreRende'+'rLayer'](_0x19ab31,_0x1a75a9,_0x48937f){if(this['batchesMap']['forEach']((_0x4b3097,_0x28d220)=>{_0x28d220===_0x19ab31&&_0x4b3097['onPreRende'+'r'](_0x1a75a9,_0x48937f);}),!this['updatedLay'+'ers']['has'](_0x19ab31)){this['updatedLay'+'ers']['add'](_0x19ab31);const _0x37f647=this['layerMeshI'+'nstances']['get'](_0x19ab31);if(_0x37f647){for(let _0x427b7f=-0x2115+-0x2*0x137b+-0x480b*-0x1;_0x427b7f<_0x37f647['length'];_0x427b7f++)_0x1a75a9['push'](_0x37f647[_0x427b7f]);_0x37f647['length']=0x1*-0x18a0+-0xa9a+-0x2*-0x119d;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0xb5e3f0=>_0xb5e3f0['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(0x3*-0x293+-0x2170+-0x1*-0x2929,0x16*0x166+-0xc9*0x1c+0x8c8*-0x1,-0x1*-0xf45+0x267a+-0x35bf)),c(this,'density',-0x18ec+0x2*-0x94f+0x2b8a),c(this,'start',-0x153c+-0x865*0x3+0x1736*0x2),c(this,'end',-0x127e+0x1d81+-0x71b);}}class ci extends ce{constructor(_0x5aeb6d){super(),c(this,'ambientBak'+'e',!(0x24fc+0x1*-0x92f+-0x1bcc)),c(this,'ambientBak'+'eOcclusion'+'Brightness',-0x40*-0x67+-0xc6d*0x1+-0xd53),c(this,'ambientBak'+'eOcclusion'+'Contrast',0xe*-0x23+0xbad+-0x9c3),c(this,'ambientLig'+'ht',new Y(0xe*0x4f+0x38d+-0x7df,-0x5*-0x283+0xd*-0x1d9+0xb76,-0x161*0x16+-0x12a4+-0x30fa*-0x1)),c(this,'ambientLum'+'inance',-0x1c98+-0x1b63+0x37fb),c(this,'exposure',-0x371*-0x9+-0x143c+0xabc*-0x1),c(this,'lightmapSi'+'zeMultipli'+'er',0x1*0x1c60+-0x16da+-0x1*0x585),c(this,'lightmapMa'+'xResolutio'+'n',-0x2004+0x1f45+0x8bf),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(0x56d*0x2+-0x12*0x3a+-0x6c5)),c(this,'lightmapHD'+'R',!(-0x19eb+-0xe5d+0x1*0x2849)),c(this,'root',null),c(this,'physicalUn'+'its',!(-0x1*-0x481+0x162a*-0x1+0x11aa)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x5aeb6d,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x5aeb6d,this['_gravity']=new T(-0x2328+0x12e8+0x41*0x40,-(0x15f4+-0x1ecb+0x8e*0x10+0.8000000000000007),0x6e1*0x4+-0x1d28+0x1a4),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x4ef+-0x1*-0x252f+-0x203f,this['_skyboxLum'+'inance']=-0x7af*0x2+0x1ce2+-0x1*0xd84,this['_skyboxMip']=0xac1*-0x2+-0x151+0x16d3,this['_skyboxHig'+'hlightMult'+'iplier']=-0x1cba+-0xe06+-0x3e3*-0xb,this['_skyboxRot'+'ationShade'+'rInclude']=!(0x777*-0x1+0xdb4+-0x63c),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=-0x141c+0x1a32+-0x3*0x207,this['_ambientBa'+'keSpherePa'+'rt']=0x1956+-0x13a1+-0x5b5+0.4,this['_lightmapF'+'ilterRange']=-0x164c+-0x6*0x481+-0x75*-0x6c,this['_lightmapF'+'ilterSmoot'+'hness']=0x13d*0x1e+-0xc*-0x1a0+-0x971*0x6+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x1ecc+-0x970+0x5*0x80c),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x6f4*0x1+0x2509+-0x1e15);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x81b*-0x4+-0x1a27+-0x645),this['_shaderVer'+'sion']=-0x18fc+0x1*0x2097+0xb1*-0xb,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0x54b68b){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x54b68b),-0xeee+0x23da+-0x14eb,0x17bb+-0x1845+0x189);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x9212c6){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x9212c6,-0x148+0x1*-0xdf+0x227*0x1+0.001,-0x523*-0x1+-0x9b7+0x495);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x1d304f){if(this['device']['isWebGPU']&&!_0x1d304f){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x1d304f){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x1d304f;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x2fafb3){_0x2fafb3!==this['_envAtlas']&&(this['_envAtlas']=_0x2fafb3,_0x2fafb3&&(_0x2fafb3['addressU']=ae,_0x2fafb3['addressV']=ae,_0x2fafb3['minFilter']=st,_0x2fafb3['magFilter']=st,_0x2fafb3['mipmaps']=!(-0xffc+0xc80+0x37d*0x1)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x291bb3){const _0x176233=this['_layers'];this['_layers']=_0x291bb3,this['fire']('set:layers',_0x176233,_0x291bb3);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x1285a4){this['_lightmapF'+'ilterRange']=Math['max'](_0x1285a4,-0x437+0x1a38+0x2b*-0x83+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x55eb24){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x55eb24,0x3*0x88b+-0x10*0x7b+-0x11f1+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x4309c3){_0x4309c3=_0x4309c3||[];const _0x26a830=this['_prefilter'+'edCubemaps'];(_0x26a830['length']!==_0x4309c3['length']||_0x26a830['some']((_0x1d6fa5,_0x1fc312)=>_0x1d6fa5!==_0x4309c3[_0x1fc312]))&&(_0x4309c3['length']===-0x4*-0x5ff+0x1435+-0x2c2b&&_0x4309c3['every'](_0x4c846b=>!!_0x4c846b)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x4309c3,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x4309c3['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x1b48a4){_0x1b48a4!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x1b48a4,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x4010ef){_0x4010ef!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x4010ef,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x2e4d2f){_0x2e4d2f!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x2e4d2f,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x468c23){_0x468c23!==this['_skyboxMip']&&(this['_skyboxMip']=_0x468c23,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x457183){_0x457183!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x457183,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x32fcbd){if(!this['_skyboxRot'+'ation']['equals'](_0x32fcbd)){const _0x3d796a=_0x32fcbd['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x32fcbd),_0x3d796a?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x32fcbd,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x3d796a&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x603+0x968+-0x1*0xf6b),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x2d602a,_0x3933f4,_0x1d5150=Y['WHITE'],_0x510e7d=!(0x692+-0x207e+0x19ec),_0x4bc504=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x4bc504,_0x510e7d)['addLines']([_0x2d602a,_0x3933f4],[_0x1d5150,_0x1d5150]);}['drawLines'](_0x9394dd,_0x10ff6b,_0x40d272=!(0xba2+-0x9f+0xb03*-0x1),_0x5a07b7=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5a07b7,_0x40d272)['addLines'](_0x9394dd,_0x10ff6b);}['drawLineAr'+'rays'](_0x4afb5d,_0x220e5a,_0x4c6222=!(0x75*-0x27+-0x2f*-0x9e+0xb2f*-0x1),_0x2577fc=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x2577fc,_0x4c6222)['addLinesAr'+'rays'](_0x4afb5d,_0x220e5a);}['applySetti'+'ngs'](_0x3bdf4a){const _0x2f4500=_0x3bdf4a['physics'],_0x1b0788=_0x3bdf4a['render'];this['_gravity']['set'](_0x2f4500['gravity'][0x1*0x3f5+-0x8b5*-0x1+-0xcaa],_0x2f4500['gravity'][0x714*0x4+-0xb*0x67+-0x17e2],_0x2f4500['gravity'][-0x2345+0x18aa+0xf7*0xb]),this['ambientLig'+'ht']['set'](_0x1b0788['global_amb'+'ient'][-0xe6e+0x1*-0x1f83+0x2df1],_0x1b0788['global_amb'+'ient'][-0x1*-0x14e0+-0x5c+-0x1483],_0x1b0788['global_amb'+'ient'][-0x1234*-0x1+-0x21*-0x73+0x2105*-0x1]),this['ambientLum'+'inance']=_0x1b0788['ambientLum'+'inance'],this['fog']['type']=_0x1b0788['fog'],this['fog']['color']['set'](_0x1b0788['fog_color'][-0xbb9*-0x1+0x31c+0x1*-0xed5],_0x1b0788['fog_color'][0x114*0x2+-0x877*-0x2+-0x1315],_0x1b0788['fog_color'][0x23d5+0x1*0x17b7+0x3b8a*-0x1]),this['fog']['start']=_0x1b0788['fog_start'],this['fog']['end']=_0x1b0788['fog_end'],this['fog']['density']=_0x1b0788['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x1b0788['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x1b0788['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x1b0788['lightmapMo'+'de'],this['exposure']=_0x1b0788['exposure'],this['_skyboxInt'+'ensity']=_0x1b0788['skyboxInte'+'nsity']??-0x2f5*0x4+0xce0+0x10b*-0x1,this['_skyboxLum'+'inance']=_0x1b0788['skyboxLumi'+'nance']??-0x6c58+0x25*-0x39b+0x13fdf,this['_skyboxMip']=_0x1b0788['skyboxMip']??-0x11*-0xd9+0x1f06+-0x2d6f,_0x1b0788['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0x1b0788['skyboxRota'+'tion'][0x2*-0xd8d+-0x5*-0x50e+-0x1a*-0x12],_0x1b0788['skyboxRota'+'tion'][0x20dc+0x148b+-0x3566],_0x1b0788['skyboxRota'+'tion'][0x20e1+0x26fd+0x11f7*-0x4])),this['sky']['applySetti'+'ngs'](_0x1b0788),this['clusteredL'+'ightingEna'+'bled']=_0x1b0788['clusteredL'+'ightingEna'+'bled']??!(-0x98*0x28+-0x1f93*-0x1+-0x7d2),this['lighting']['applySetti'+'ngs'](_0x1b0788),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x462f86=>{_0x1b0788['hasOwnProp'+'erty'](_0x462f86)&&(this[_0x462f86]=_0x1b0788[_0x462f86]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x46db6d=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x46db6d[[-0x1*-0x826+0x45*0x1c+-0xfb2,-0xb7*0x21+0x313*0x1+0x1485,-0x1*-0x1339+0x1c51+0x2f87*-0x1,0x281*0x6+0x9*0x432+-0x34c4,0x15a3+-0x4a7+-0x1*0x10f7,0xdf9+0x1c0f+-0x236*0x13][this['_skyboxMip']]]||this['_envAtlas']||_0x46db6d[-0x2528+-0x2040+-0x115a*-0x4]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x46db6d[-0x1*0x11de+-0x2575+0x3753]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x1cc+0x1*-0x23b7+0x63*0x61);}['setSkybox'](_0x24d859){_0x24d859?(this['skybox']=_0x24d859[-0x19ba+0x24d3+-0x3*0x3b3]||null,_0x24d859[-0x2*0x11f1+-0xb89+-0x4*-0xbdb]&&!_0x24d859[0x7*-0x1ff+-0x126a+0x2064]['cubemap']?this['envAtlas']=_0x24d859[0x16f7+0x1*0x1b9+-0x18af]:this['prefiltere'+'dCubemaps']=_0x24d859['slice'](0x14f6+-0x1f9*0x11+0xc94)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0xbff9c2,_0x2336b3,_0x1a3ed4){this['device']=_0xbff9c2,this['inverseBin'+'dPose']=_0x2336b3,this['boneNames']=_0x1a3ed4;}}const b1=[0x8f9*-0x4+-0x179d+0x3b81,-0xa67+0x27*-0x73+0x1bec,0x26b8+0x1af*-0x7+-0x1aee,0x107a+-0x1abc+-0x65*-0x1a,0x19*-0x11a+-0xc19*0x2+0x1d9*0x1c,-0x29e*-0x1+0xa54+-0xcf1,0x37*0xb2+0x1*-0x1af2+0x1e2*-0x6,-0x7a3+-0x187b+0x201e,0xf82*0x2+0x1d85*0x1+0x68*-0x95,0xe17*-0x1+-0x8a1*-0x1+0x576,-0x13a8+-0x1f3f+0x32e7,0x1*0xe8b+0x9ad+-0x1*0x1837],w1=[0x6*0x34f+0x2b5*0x2+-0x1944,0x191d+0x29d*0x2+-0x1e56,0x8*0x22a+0x16b1*0x1+-0x27fe,0x1*0x4ae+0x1b6+-0x662,0x1d50+-0x1*-0x2372+-0x40bf,-0x190+-0x2*-0xefe+-0x1c6b];class T1 extends ce{constructor(_0x259158,_0x112fec){super(),this['_device']=_0x259158,this['_pixelsPer'+'Unit']=_0x112fec&&_0x112fec['pixelsPerU'+'nit']!==void(0xa5c+-0x12cf+0x873)?_0x112fec['pixelsPerU'+'nit']:0x1008*0x2+0xca5+-0xb2d*0x4,this['_renderMod'+'e']=_0x112fec&&_0x112fec['renderMode']!==void(0x581*0x6+-0x2635*0x1+0x52f)?_0x112fec['renderMode']:Ti,this['_atlas']=_0x112fec&&_0x112fec['atlas']!==void(-0x14*0x196+0x1*-0xc11+-0xb*-0x3fb)?_0x112fec['atlas']:null,this['_frameKeys']=_0x112fec&&_0x112fec['frameKeys']!==void(0x2451+0x108a+-0x34db)?_0x112fec['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x14bb*-0x1+0x1*0x90b+0xbb1),this['_meshesDir'+'ty']=!(-0x136+-0xd03*-0x1+-0x5e6*0x2),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x4f60a5){this['_frameKeys']=_0x4f60a5,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x241*-0x4+0x7*0x1c3+-0x1559):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x4f60a5);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x46e7bd){_0x46e7bd!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x46e7bd,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x365+-0x13a*0x4+0x9*0x2b):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x46e7bd));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x5ee8c2){this['_pixelsPer'+'Unit']!==_0x5ee8c2&&(this['_pixelsPer'+'Unit']=_0x5ee8c2,this['fire']('set:pixels'+'PerUnit',_0x5ee8c2),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0xd6*-0x1+-0x1a5a+-0x1b3*-0x10):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x42ff82){if(this['_renderMod'+'e']===_0x42ff82)return;const _0x529366=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x42ff82,this['fire']('set:render'+'Mode',_0x42ff82),(_0x529366===Ti||_0x42ff82===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x2a3+-0x184*0x13+0x1f6f):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x3135be=this['_meshes']['length'];for(let _0x58e4f1=-0x263f+0xd6+0x2569;_0x58e4f1<_0x3135be;_0x58e4f1++){const _0x5cea58=this['_meshes'][_0x58e4f1];_0x5cea58&&_0x5cea58['destroy']();}const _0x5e98b4=this['_frameKeys']['length'];this['_meshes']=new Array(_0x5e98b4);const _0x2ad757=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x151cef=-0xb5*0xe+0x1*-0x44f+0xe35*0x1;_0x151cef<_0x5e98b4;_0x151cef++){const _0x466940=this['_atlas']['frames'][this['_frameKeys'][_0x151cef]];this['_meshes'][_0x151cef]=_0x466940?_0x2ad757['call'](this,_0x466940):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x213901){const _0x20eb4b=_0x213901['rect'],_0x37d2a4=this['_atlas']['texture']['width'],_0x3f4787=this['_atlas']['texture']['height'],_0x4ebe2b=_0x20eb4b['z']/this['_pixelsPer'+'Unit'],_0x4801b3=_0x20eb4b['w']/this['_pixelsPer'+'Unit'],_0x56a20e=_0x213901['pivot']['x'],_0x3746c4=_0x213901['pivot']['y'],_0x2a57cb=[-_0x56a20e*_0x4ebe2b,-_0x3746c4*_0x4801b3,-0x2*-0x109c+-0xe*0x2b8+0x4d8,(0xc77+0x2f*0xbf+-0x2f87-_0x56a20e)*_0x4ebe2b,-_0x3746c4*_0x4801b3,-0x75*0x25+-0x5de+0x31*0x77,(0x1*-0x23be+0xc01+-0xbdf*-0x2-_0x56a20e)*_0x4ebe2b,(0x1586+0x13*0x20e+0x1a3*-0x25-_0x3746c4)*_0x4801b3,-0xf*0x142+0xe4*-0xc+-0x6*-0x4ed,-_0x56a20e*_0x4ebe2b,(-0x1*-0x3d3+-0x1eaa+-0x1ad8*-0x1-_0x3746c4)*_0x4801b3,-0x25ce+-0x3e3*0x8+0x2273*0x2],_0x3dd00a=_0x20eb4b['x']/_0x37d2a4,_0x37e0c3=-0x1e25*0x1+-0x1*0x1375+0x319b-_0x20eb4b['y']/_0x3f4787,_0x347b7c=(_0x20eb4b['x']+_0x20eb4b['z'])/_0x37d2a4,_0x49e123=0x1*-0xe7d+-0x2f6+0x4*0x45d-(_0x20eb4b['y']+_0x20eb4b['w'])/_0x3f4787,_0x49aec9=[_0x3dd00a,_0x37e0c3,_0x347b7c,_0x37e0c3,_0x347b7c,_0x49e123,_0x3dd00a,_0x49e123],_0x214ba0=new pn();return _0x214ba0['positions']=_0x2a57cb,_0x214ba0['normals']=b1,_0x214ba0['uvs']=_0x49aec9,_0x214ba0['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x214ba0);}['_create9Sl'+'iceMesh'](){const _0x4124a3=W['ONE'],_0x4492aa=-0x1*0x1f3+-0x25*0xc3+-0x1*-0x1e25,_0x296c6c=-0xb2+-0x7c1+0x876,_0x539e1a=[],_0x10022f=[],_0x13872e=[],_0x976671=[];let _0x1b4e8c=-0x1*-0x865+-0x6*-0x4+-0x87d;for(let _0x1c6d24=0x4*0x1e7+0x3*-0x481+0x5e7*0x1;_0x1c6d24<=_0x4492aa;_0x1c6d24++){const _0x5d3ebc=_0x1c6d24===0x2573*0x1+0x1845*-0x1+-0xd2e||_0x1c6d24===_0x4492aa?-0x4a9*-0x4+0xbd*0x6+0x1712*-0x1:-0x1567+-0x7c*0x45+0x36d4;for(let _0x2cc821=0x1e33*-0x1+-0x3*-0xcb4+-0x7e9;_0x2cc821<=_0x296c6c;_0x2cc821++){const _0x2d086f=-_0x4124a3['x']+(-0x12ee+-0xdb*0x2+-0x3*-0x6e2)*_0x4124a3['x']*(_0x1c6d24<=0x630+0xd59*-0x1+0x72a?-0x49f+0x270b*0x1+0x2*-0x1136:-0x602+0x1*-0x6f7+0xcfc)/_0x4492aa,_0x27822b=0x1074+-0x1*-0x1f3d+-0x2fb1,_0x484628=-(-_0x4124a3['y']+(0x247e+0x885+0x119*-0x29)*_0x4124a3['y']*(_0x2cc821<=-0x1*-0xcb8+-0x25*-0xcc+0x3*-0xe11?-0x1*0x7a9+-0x14d4+0xbb*0x27:0xc6a+0x3*-0xc41+0x185c)/_0x296c6c),_0x10e7db=_0x2cc821===0xb*0xc4+-0xaf3+0x287||_0x2cc821===_0x296c6c?-0x135c+-0xcb5+0x2011:-0x1c4d+0x149d+0x7b1;_0x539e1a['push'](-_0x2d086f,_0x27822b,_0x484628),_0x10022f['push'](0x613*0x2+-0x1998+0xd72*0x1,-0x1*-0x7e7+-0x124d+0xa67,0x1b82+-0x1f6d*-0x1+-0x6b*0x8d),_0x13872e['push'](_0x5d3ebc,_0x10e7db),_0x1c6d24<_0x4492aa&&_0x2cc821<_0x296c6c&&(_0x976671['push'](_0x1b4e8c+_0x296c6c+(0x74*0x5+-0x9*0xd3+0x3c*0x16),_0x1b4e8c+(-0x2078+-0x16a4+-0x3*-0x125f),_0x1b4e8c),_0x976671['push'](_0x1b4e8c+_0x296c6c+(0x2488+-0x989*0x4+0x19d),_0x1b4e8c+_0x296c6c+(0x4*0x653+0x4*-0x281+-0xf46),_0x1b4e8c+(-0x1815+0x4dd+0x1339))),_0x1b4e8c++;}}const _0x52fb17=new pn();return _0x52fb17['positions']=_0x539e1a,_0x52fb17['normals']=_0x10022f,_0x52fb17['uvs']=_0x13872e,_0x52fb17['indices']=_0x976671,Ie['fromGeomet'+'ry'](this['_device'],_0x52fb17);}['_onSetFram'+'es'](_0x556247){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1fa7+-0xce9+-0x12be):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x32eac0,_0x1fb3a9){const _0x592d3f=this['_frameKeys']['indexOf'](_0x32eac0);_0x592d3f<-0x3*-0x9f5+-0x1*-0x531+-0x2310||(_0x1fb3a9?this['renderMode']===Ti&&(this['_meshes'][_0x592d3f]=this['_createSim'+'pleMesh'](_0x1fb3a9)):this['_meshes'][_0x592d3f]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x535474){const _0x3a2806=this['_frameKeys']['indexOf'](_0x535474);_0x3a2806<-0x15*0x109+0x1ebc+-0x1*0x8ff||(this['_meshes'][_0x3a2806]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x25ff+0x8*-0x209+0x1*0x3647),this['_meshesDir'+'ty']=!(0x1097+-0x2*0x1072+0x104e);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0x9*0x3f+0x1fd7+0x1d9f*-0x1),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x14*0x191+0x1344+-0x3297);}['destroy'](){for(const _0x53bf23 of this['_meshes'])_0x53bf23&&_0x53bf23['destroy']();this['_meshes']['length']=-0xd13*0x2+-0x1*0x261e+0x156c*0x3;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x50d715){this['_texture']=_0x50d715,this['fire']('set:textur'+'e',_0x50d715);}get['texture'](){return this['_texture'];}set['frames'](_0x59f5ff){this['_frames']=_0x59f5ff,this['fire']('set:frames',_0x59f5ff);}get['frames'](){return this['_frames'];}['setFrame'](_0x548c39,_0x1ca022){let _0x581cee=this['_frames'][_0x548c39];_0x581cee?(_0x581cee['rect']['copy'](_0x1ca022['rect']),_0x581cee['pivot']['copy'](_0x1ca022['pivot']),_0x581cee['border']['copy'](_0x1ca022['border'])):(_0x581cee={'rect':_0x1ca022['rect']['clone'](),'pivot':_0x1ca022['pivot']['clone'](),'border':_0x1ca022['border']['clone']()},this['_frames'][_0x548c39]=_0x581cee),this['fire']('set:frame',_0x548c39['toString'](),_0x581cee);}['removeFram'+'e'](_0x3b8e61){const _0x130170=this['_frames'][_0x3b8e61];_0x130170&&(delete this['_frames'][_0x3b8e61],this['fire']('remove:fra'+'me',_0x3b8e61['toString'](),_0x130170));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x3e371c,_0x832d85,_0xbf25ca,_0x265b8c){this['time']=_0x3e371c,this['position']=_0x832d85,this['rotation']=_0xbf25ca,this['scale']=_0x265b8c;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',-0x229d*0x1+-0x2*0x71+-0xe9*-0x27),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x13aa73){return this['_nodeDict'][_0x13aa73];}['addNode'](_0x92cb10){this['_nodes']['push'](_0x92cb10),this['_nodeDict'][_0x92cb10['_name']]=_0x92cb10;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(0x11f1*-0x1+-0x2005+0x1*0x31f7),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x40f5b3){this['_targetNod'+'e']=_0x40f5b3;}}class Wd{constructor(_0x39dee5){c(this,'looping',!(-0x922+-0x2363+0x2c85)),(this['_animation']=null,this['_time']=-0xcd*-0xb+-0x1209+0x93a,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x58b6b5=_0x6d9128=>{const _0x425bd7=new E1();_0x425bd7['_name']=_0x6d9128['name'],this['_interpola'+'tedKeys']['push'](_0x425bd7),this['_interpola'+'tedKeyDict'][_0x6d9128['name']]=_0x425bd7,this['_currKeyIn'+'dices'][_0x6d9128['name']]=-0xf92+-0x1fad*0x1+-0x1*-0x2f3f;for(let _0x4156d8=0x15a*0x5+-0x1*0x2a6+-0x41c;_0x4156d8<_0x6d9128['_children']['length'];_0x4156d8++)_0x58b6b5(_0x6d9128['_children'][_0x4156d8]);};_0x58b6b5(_0x39dee5);}set['animation'](_0x5e724b){this['_animation']=_0x5e724b,this['currentTim'+'e']=-0x2*0xda0+-0x1059+0x2b99;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x265adf){this['_time']=_0x265adf;const _0x207622=this['_interpola'+'tedKeys']['length'];for(let _0xc49a15=-0x6*-0x463+0x703*-0x4+0x1ba;_0xc49a15<_0x207622;_0xc49a15++){const _0x325559=this['_interpola'+'tedKeys'][_0xc49a15]['_name'];this['_currKeyIn'+'dices'][_0x325559]=-0x1*-0xda1+0x9d*-0x22+0x739;}this['addTime'](-0x17*0x14b+0x331*-0xa+0x1*0x3da7),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x2812b9){if(this['_animation']!==null){const _0x3736bf=this['_animation']['_nodes'],_0x10c5b4=this['_animation']['duration'];if(this['_time']===_0x10c5b4&&!this['looping'])return;if(this['_time']+=_0x2812b9,this['_time']>_0x10c5b4){this['_time']=this['looping']?-0x1777+0x6*0xd3+0x1285:_0x10c5b4;for(let _0x5920f9=0x9*0x41a+0x143b+-0x3925*0x1;_0x5920f9<_0x3736bf['length'];_0x5920f9++){const _0x618e54=_0x3736bf[_0x5920f9]['_name'];this['_currKeyIn'+'dices'][_0x618e54]=-0x1d79+-0x1*0xcd2+0xe19*0x3;}}else{if(this['_time']<-0x262a*-0x1+-0x1*0x144b+-0x11df){this['_time']=this['looping']?_0x10c5b4:0x1f1b+-0x1ab7+-0x464*0x1;for(let _0x167e0c=0x2681+0x74e+0x1*-0x2dcf;_0x167e0c<_0x3736bf['length'];_0x167e0c++){const _0x403c25=_0x3736bf[_0x167e0c],_0x92336a=_0x403c25['_name'];this['_currKeyIn'+'dices'][_0x92336a]=_0x403c25['_keys']['length']-(0x1fcb+-0x1833+0x3cb*-0x2);}}}const _0x5658fc=_0x2812b9>=-0x12e2*0x2+-0x2*0x943+0x384a?0x1*0xa3+0x219d+0x223f*-0x1:-(0xd37+-0xb7d+-0x1b9);for(let _0x2d2d2d=0x1e7+-0x1f51+0x3*0x9ce;_0x2d2d2d<_0x3736bf['length'];_0x2d2d2d++){const _0x43fd36=_0x3736bf[_0x2d2d2d],_0x2d9f11=_0x43fd36['_name'],_0x44dc3d=_0x43fd36['_keys'],_0x34269f=this['_interpola'+'tedKeyDict'][_0x2d9f11];if(_0x34269f===void(0x1*0xa92+0x1*-0x1580+0xaee)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x2d9f11);continue;}let _0x54ea1b=!(-0x1b7a+0x15d5+0x5a6);if(_0x44dc3d['length']!==-0x1b29+-0x25ff+0x4129)for(let _0x9ed0dd=this['_currKeyIn'+'dices'][_0x2d9f11];_0x9ed0dd<_0x44dc3d['length']-(0x8b4*-0x2+-0x4f0+0x1659)&&_0x9ed0dd>=-0x12b9*-0x1+0xafb+-0x1db4*0x1;_0x9ed0dd+=_0x5658fc){const _0x5ee60f=_0x44dc3d[_0x9ed0dd],_0x510662=_0x44dc3d[_0x9ed0dd+(0x1498+0x1*-0x6b7+0x18*-0x94)];if(_0x5ee60f['time']<=this['_time']&&_0x510662['time']>=this['_time']){const _0x6dc716=(this['_time']-_0x5ee60f['time'])/(_0x510662['time']-_0x5ee60f['time']);_0x34269f['_pos']['lerp'](_0x5ee60f['position'],_0x510662['position'],_0x6dc716),_0x34269f['_quat']['slerp'](_0x5ee60f['rotation'],_0x510662['rotation'],_0x6dc716),_0x34269f['_scale']['lerp'](_0x5ee60f['scale'],_0x510662['scale'],_0x6dc716),_0x34269f['_written']=!(-0x194c*-0x1+0x8e4+0x88c*-0x4),this['_currKeyIn'+'dices'][_0x2d9f11]=_0x9ed0dd,_0x54ea1b=!(0x2260+0x1*-0xe6d+-0x13f3);break;}}(_0x44dc3d['length']===-0xb*-0x1b+0x1609+0x1*-0x1731||!_0x54ea1b&&this['_time']===0x1*-0x112d+-0xf87+0x20b4&&this['looping'])&&(_0x34269f['_pos']['copy'](_0x44dc3d[-0x3*-0x40f+-0x215c+-0x11*-0x13f]['position']),_0x34269f['_quat']['copy'](_0x44dc3d[-0x17e*-0xb+0x4c5*-0x1+-0xba5]['rotation']),_0x34269f['_scale']['copy'](_0x44dc3d[-0x2e0+-0x5*-0x2c9+-0x3*0x3af]['scale']),_0x34269f['_written']=!(0x2298+0x1f21+-0x19*0x2a1));}}}['blend'](_0x3c4d49,_0x2816f9,_0x50bfe1){const _0x85d05b=this['_interpola'+'tedKeys']['length'];for(let _0x55dae4=0x18*-0x45+0x1*0x15ff+0x9f*-0x19;_0x55dae4<_0x85d05b;_0x55dae4++){const _0x49e8f0=_0x3c4d49['_interpola'+'tedKeys'][_0x55dae4],_0x406fd9=_0x2816f9['_interpola'+'tedKeys'][_0x55dae4],_0x3614a1=this['_interpola'+'tedKeys'][_0x55dae4];_0x49e8f0['_written']&&_0x406fd9['_written']?(_0x3614a1['_quat']['slerp'](_0x49e8f0['_quat'],_0x2816f9['_interpola'+'tedKeys'][_0x55dae4]['_quat'],_0x50bfe1),_0x3614a1['_pos']['lerp'](_0x49e8f0['_pos'],_0x2816f9['_interpola'+'tedKeys'][_0x55dae4]['_pos'],_0x50bfe1),_0x3614a1['_scale']['lerp'](_0x49e8f0['_scale'],_0x406fd9['_scale'],_0x50bfe1),_0x3614a1['_written']=!(-0x29*0x89+0x2*0xd4+0x1449)):_0x49e8f0['_written']?(_0x3614a1['_quat']['copy'](_0x49e8f0['_quat']),_0x3614a1['_pos']['copy'](_0x49e8f0['_pos']),_0x3614a1['_scale']['copy'](_0x49e8f0['_scale']),_0x3614a1['_written']=!(-0xec*0x29+-0xa1f+-0x3*-0xff9)):_0x406fd9['_written']&&(_0x3614a1['_quat']['copy'](_0x406fd9['_quat']),_0x3614a1['_pos']['copy'](_0x406fd9['_pos']),_0x3614a1['_scale']['copy'](_0x406fd9['_scale']),_0x3614a1['_written']=!(-0x2137+-0x7*0x175+-0x2*-0x15b5));}}['setGraph'](_0xf9545d){if(this['graph']=_0xf9545d,_0xf9545d)for(let _0x497158=-0x1ed4+0x1ca6+0x22e;_0x497158<this['_interpola'+'tedKeys']['length'];_0x497158++){const _0x94f1d8=this['_interpola'+'tedKeys'][_0x497158],_0x4fe82e=_0xf9545d['findByName'](_0x94f1d8['_name']);this['_interpola'+'tedKeys'][_0x497158]['setTarget'](_0x4fe82e);}else{for(let _0x6b586=-0x14d7+-0x313*-0x7+-0x2*0x57;_0x6b586<this['_interpola'+'tedKeys']['length'];_0x6b586++)this['_interpola'+'tedKeys'][_0x6b586]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x371e4e=-0xca*0x29+0x103c+-0x80f*-0x2;_0x371e4e<this['_interpola'+'tedKeys']['length'];_0x371e4e++){const _0x48bade=this['_interpola'+'tedKeys'][_0x371e4e];if(_0x48bade['_written']){const _0x3f7ffa=_0x48bade['getTarget']();_0x3f7ffa['localPosit'+'ion']['copy'](_0x48bade['_pos']),_0x3f7ffa['localRotat'+'ion']['copy'](_0x48bade['_quat']),_0x3f7ffa['localScale']['copy'](_0x48bade['_scale']),_0x3f7ffa['_dirtyLoca'+'l']||_0x3f7ffa['_dirtifyLo'+'cal'](),_0x48bade['_written']=!(-0x281*-0xb+-0x1140+-0xa4a);}}}}const ys=(-0x423+0x138+0x2ef)/(0x2*-0x85d+0x225e+-0x1164*0x1),Bs=-0x1242+-0x75f+-0x2*-0xcd1-ys*(0xa5e*-0x1+-0x1d3*0xd+-0x1*-0x2217);class Bp extends pn{constructor(_0x1fa61e,_0x54eb5e,_0xa80da6,_0x1093e6,_0x12b1c0,_0x2937ed){super();const _0x506dbd=new T(),_0x66df41=new T(),_0x3154a1=new T(),_0x9f8b87=new T(),_0x4c1f56=new T(),_0x3f1d4e=new T(),_0x1f6e5f=[],_0x317d4b=[],_0x50fd3e=[],_0x241bd6=[],_0x25aa2a=[];let _0x39f1fb;if(_0xa80da6>0x313*0x2+-0x6a+-0x2de*0x2){for(let _0x4f4872=0x1*-0x257e+-0x1d3b+0x42b9;_0x4f4872<=_0x1093e6;_0x4f4872++)for(let _0x3e8b2e=0xef+0x1799*-0x1+-0x3*-0x78e;_0x3e8b2e<=_0x12b1c0;_0x3e8b2e++){const _0x8aee4=_0x3e8b2e/_0x12b1c0*(0x1b7d*0x1+-0x19db+-0x20*0xd)*Math['PI']-Math['PI'],_0x3e00fa=Math['sin'](_0x8aee4),_0x2ff44c=Math['cos'](_0x8aee4);_0x4c1f56['set'](_0x3e00fa*_0x1fa61e,-_0xa80da6/(-0x1*0x607+0x1*-0x2063+0x266c),_0x2ff44c*_0x1fa61e),_0x9f8b87['set'](_0x3e00fa*_0x54eb5e,_0xa80da6/(0xe5*0x10+0x13*0x1+-0xe61),_0x2ff44c*_0x54eb5e),_0x506dbd['lerp'](_0x4c1f56,_0x9f8b87,_0x4f4872/_0x1093e6),_0x66df41['sub2'](_0x9f8b87,_0x4c1f56)['normalize'](),_0x3f1d4e['set'](_0x2ff44c,0x785+0x2336+-0x2abb*0x1,-_0x3e00fa),_0x3154a1['cross'](_0x3f1d4e,_0x66df41)['normalize'](),_0x1f6e5f['push'](_0x506dbd['x'],_0x506dbd['y'],_0x506dbd['z']),_0x317d4b['push'](_0x3154a1['x'],_0x3154a1['y'],_0x3154a1['z']);let _0x66a81d=_0x3e8b2e/_0x12b1c0,_0x42ca14=_0x4f4872/_0x1093e6;_0x50fd3e['push'](_0x66a81d,0x223*-0x4+0x6c5+0x1c8-_0x42ca14);const _0x4852d3=_0x42ca14;if(_0x42ca14=_0x66a81d,_0x66a81d=_0x4852d3,_0x66a81d=_0x66a81d*Bs+ys,_0x42ca14=_0x42ca14*Bs+ys,_0x66a81d/=-0x166f*0x1+-0x1798+0x2e0a,_0x241bd6['push'](_0x66a81d,-0x2b9+-0x1*-0x2167+-0x1ead-_0x42ca14),_0x4f4872<_0x1093e6&&_0x3e8b2e<_0x12b1c0){const _0xc28bdc=_0x4f4872*(_0x12b1c0+(0x89*-0x16+0x1b98+-0xfd1))+_0x3e8b2e,_0x3ad979=_0x4f4872*(_0x12b1c0+(0x1ccf+-0x1c2d+-0x1*0xa1))+(_0x3e8b2e+(0x3bd+0x1fbf+-0x237b)),_0x9be605=(_0x4f4872+(-0x14*0x115+-0xa2f+0x61*0x54))*(_0x12b1c0+(0x6e1*-0x2+-0x1df*0x2+0x1181*0x1))+_0x3e8b2e,_0x2c59c8=(_0x4f4872+(-0x75*-0x35+-0x257b+0xd43))*(_0x12b1c0+(-0x1a26+-0x1e33+0x385a))+(_0x3e8b2e+(-0x1*-0xd55+0xbe4+0x8*-0x327));_0x25aa2a['push'](_0xc28bdc,_0x3ad979,_0x9be605),_0x25aa2a['push'](_0x3ad979,_0x2c59c8,_0x9be605);}}}if(_0x2937ed){const _0x4405e0=Math['floor'](_0x12b1c0/(-0x482+0x1dd5+-0x1951*0x1)),_0x199dc8=_0x12b1c0,_0x54481d=_0xa80da6/(0x1789+0xbf4+-0x237b);for(let _0x559148=0x1*-0x1bda+-0x94*0x3e+-0x107*-0x3e;_0x559148<=_0x4405e0;_0x559148++){const _0x2bcb4a=_0x559148*Math['PI']*(-0xfdc+-0x7cd+0x17a9+0.5)/_0x4405e0,_0x492d3b=Math['sin'](_0x2bcb4a),_0x5437ee=Math['cos'](_0x2bcb4a);for(let _0x5e8f23=0xe9f+0x1*-0x7c1+-0x1*0x6de;_0x5e8f23<=_0x199dc8;_0x5e8f23++){const _0x45c74c=_0x5e8f23*(-0x24b4+0x2c*0x61+0x140a)*Math['PI']/_0x199dc8-Math['PI']/(-0x9*0x101+0x1*-0x1be+-0x1*-0xac9),_0x387291=Math['sin'](_0x45c74c),_0x539e69=Math['cos'](_0x45c74c)*_0x492d3b,_0x3dc9b4=_0x5437ee,_0x497364=_0x387291*_0x492d3b;let _0x2cdc78=0x1746+-0x5*0x18d+-0xf84-_0x5e8f23/_0x199dc8,_0x204106=-0x9*-0x123+-0x2*0xf47+0x1454-_0x559148/_0x4405e0;_0x1f6e5f['push'](_0x539e69*_0x54eb5e,_0x3dc9b4*_0x54eb5e+_0x54481d,_0x497364*_0x54eb5e),_0x317d4b['push'](_0x539e69,_0x3dc9b4,_0x497364),_0x50fd3e['push'](_0x2cdc78,-0x8f*0x22+0x160b+-0x30c-_0x204106),_0x2cdc78=_0x2cdc78*Bs+ys,_0x204106=_0x204106*Bs+ys,_0x2cdc78/=0x1*-0x1453+-0x3*-0xa0d+0x7*-0x167,_0x204106/=0xb*-0x176+-0x1ddf+0x44*0xad,_0x2cdc78+=(0xa1*-0x1f+0xef1+-0x185*-0x3)/(-0x186d+-0x11*-0x1c6+-0x5b6*0x1),_0x241bd6['push'](_0x2cdc78,0xf4*-0x5+-0x663+0xb28-_0x204106);}}_0x39f1fb=(_0x1093e6+(-0x322+-0x10*0x25d+0x28f3))*(_0x12b1c0+(-0x4*-0x8fe+0x1ac4+-0x3ebb));for(let _0x26e620=0x8bd*-0x2+0x2d9*0xd+0x1*-0x138b;_0x26e620<_0x4405e0;++_0x26e620)for(let _0x271dc0=0x47*-0x5f+-0x26c5+-0xd06*-0x5;_0x271dc0<_0x199dc8;++_0x271dc0){const _0x9f26bf=_0x26e620*(_0x199dc8+(0x23*-0x1b+0x1e5*0x10+-0x1a9e))+_0x271dc0,_0x5c559e=_0x9f26bf+_0x199dc8+(0x20f*-0x2+-0x26ac+0x88f*0x5);_0x25aa2a['push'](_0x39f1fb+_0x9f26bf+(-0xd*0x266+0x246a+-0x53b),_0x39f1fb+_0x5c559e,_0x39f1fb+_0x9f26bf),_0x25aa2a['push'](_0x39f1fb+_0x9f26bf+(-0x1254+0x12*-0x78+-0x59*-0x4d),_0x39f1fb+_0x5c559e+(-0x21d*-0x1+-0x15b*-0x5+-0x8e3),_0x39f1fb+_0x5c559e);}for(let _0x44d9ea=-0x12a1+0x1e88+-0xb*0x115;_0x44d9ea<=_0x4405e0;_0x44d9ea++){const _0x562d70=Math['PI']*(0x90b*-0x1+-0x4d*-0x1+0x2*0x45f+0.5)+_0x44d9ea*Math['PI']*(0xbe3*0x2+0x1*-0x15da+-0x7b*0x4+0.5)/_0x4405e0,_0x55b2ab=Math['sin'](_0x562d70),_0x1718ed=Math['cos'](_0x562d70);for(let _0xec98bd=0x1d6f+0x1*0x1113+0x1741*-0x2;_0xec98bd<=_0x199dc8;_0xec98bd++){const _0x8d622b=_0xec98bd*(0x11d7*0x1+-0x3*-0x8a4+-0x2bc1)*Math['PI']/_0x199dc8-Math['PI']/(0x3fd+0x1c08+-0x2003),_0x4ea72f=Math['sin'](_0x8d622b),_0x3995de=Math['cos'](_0x8d622b)*_0x55b2ab,_0x24881f=_0x1718ed,_0xfb5f55=_0x4ea72f*_0x55b2ab;let _0xe56f26=0x1c9e+0x11d1+-0x2e6e-_0xec98bd/_0x199dc8,_0x3133a2=-0xf35+-0x1*-0x1625+-0x6ef-_0x44d9ea/_0x4405e0;_0x1f6e5f['push'](_0x3995de*_0x54eb5e,_0x24881f*_0x54eb5e-_0x54481d,_0xfb5f55*_0x54eb5e),_0x317d4b['push'](_0x3995de,_0x24881f,_0xfb5f55),_0x50fd3e['push'](_0xe56f26,-0x49d+-0x1a1f+-0x1ebd*-0x1-_0x3133a2),_0xe56f26=_0xe56f26*Bs+ys,_0x3133a2=_0x3133a2*Bs+ys,_0xe56f26/=-0x2000*0x1+0x22*-0x2+0x2047,_0x3133a2/=-0xcf6+0x539+-0x40*-0x1f,_0xe56f26+=(-0x193+0x15ee+0x1459*-0x1)/(-0x775*-0x5+0xe25*0x1+-0x336b*0x1),_0x241bd6['push'](_0xe56f26,-0x3bc+0x2586+-0x21c9-_0x3133a2);}}_0x39f1fb=(_0x1093e6+(-0xfa+-0x1e33+0x1f2e))*(_0x12b1c0+(0x801+0xf45+-0x1745))+(_0x199dc8+(-0x2110+0x2be+-0x7*-0x455))*(_0x4405e0+(0x1*0x224b+-0x153+-0x1d*0x123));for(let _0x120a6a=0x86c+-0x1edb+0x166f;_0x120a6a<_0x4405e0;++_0x120a6a)for(let _0x51c197=-0x60b+-0x9*-0x447+-0x2074;_0x51c197<_0x199dc8;++_0x51c197){const _0x99a27e=_0x120a6a*(_0x199dc8+(0x4a9*0x5+-0x198c+0x240))+_0x51c197,_0x5aab5f=_0x99a27e+_0x199dc8+(0x1af*0x3+-0x1f4a+0x1a3e);_0x25aa2a['push'](_0x39f1fb+_0x99a27e+(0x1d13*0x1+0x4c1+-0x21d3),_0x39f1fb+_0x5aab5f,_0x39f1fb+_0x99a27e),_0x25aa2a['push'](_0x39f1fb+_0x99a27e+(0x12f8+0x1dd0+0x1*-0x30c7),_0x39f1fb+_0x5aab5f+(0x115b*-0x1+-0xa*0x178+0xe*0x24a),_0x39f1fb+_0x5aab5f);}}else{if(_0x39f1fb=(_0x1093e6+(-0x21e*0x11+0x74e+0x1cb1))*(_0x12b1c0+(-0x1797+-0xda2+-0x5*-0x772)),_0x1fa61e>-0x64f+0xe0b*0x1+0xa5*-0xc)for(let _0x41a90e=-0x2482*-0x1+0xef4+-0x3376;_0x41a90e<_0x12b1c0;_0x41a90e++){const _0x2d5597=_0x41a90e/_0x12b1c0*(0x1*-0xaba+0xcc*0x1d+0x420*-0x3)*Math['PI'],_0x281402=Math['sin'](_0x2d5597),_0x2e3f4a=-_0xa80da6/(-0x806+0xb47+-0x33f*0x1),_0x2d1a99=Math['cos'](_0x2d5597);let _0x2072c6=-0xec7+0x4*-0x8f3+0x34*0xf9-(_0x281402+(-0x1253+0x4*0xce+0x78e*0x2))/(0x270d+-0x8ae*-0x1+-0x2fb9),_0x34882b=(_0x2d1a99+(0x1147*-0x1+0x1*-0x1445+0x258d*0x1))/(0x5*-0x2ba+-0x11*-0x1b7+-0xf83);_0x1f6e5f['push'](_0x281402*_0x1fa61e,_0x2e3f4a,_0x2d1a99*_0x1fa61e),_0x317d4b['push'](0x1e17*0x1+-0x203e+-0x227*-0x1,-(-0x12bd+-0x1*-0x107e+-0x3*-0xc0),-0x1cd4+-0x2*-0xe0c+0xbc),_0x50fd3e['push'](_0x2072c6,-0x10cc+0x1*0xe0b+0x2c2-_0x34882b),_0x2072c6=_0x2072c6*Bs+ys,_0x34882b=_0x34882b*Bs+ys,_0x2072c6/=-0xc*-0xc7+-0x678+0x3*-0xf3,_0x34882b/=-0x7ab*0x3+-0x2*0x345+0xd*0x246,_0x2072c6+=(0x2*-0x807+0x112*0x10+-0x111)/(-0x9d7+0x24dd+-0x1b03*0x1),_0x241bd6['push'](_0x2072c6,0x3*-0xb96+0x28d*-0xd+0x43ec-_0x34882b),_0x41a90e>-0x1075+-0x4c7*-0x1+0xbaf&&_0x25aa2a['push'](_0x39f1fb,_0x39f1fb+_0x41a90e,_0x39f1fb+_0x41a90e-(-0x4*-0x86d+0x26cf*-0x1+0x28e*0x2));}if(_0x39f1fb+=_0x12b1c0,_0x54eb5e>0x5dc+-0x7*-0x527+-0x1*0x29ed)for(let _0x14815b=-0x1b1*-0x16+-0x534+0x2002*-0x1;_0x14815b<_0x12b1c0;_0x14815b++){const _0x11ffea=_0x14815b/_0x12b1c0*(-0x96e+0x80d+0x163)*Math['PI'],_0x1c7a88=Math['sin'](_0x11ffea),_0x109d8d=_0xa80da6/(0x5d*-0x5d+-0xae1*0x1+-0x3*-0xee4),_0x47807a=Math['cos'](_0x11ffea);let _0x2ff1f9=0x627+-0xbf*-0x31+-0x1d*0x179-(_0x1c7a88+(0x2*-0xad+-0x140+0x29b))/(-0x1456+-0x1b59+0x2fb1),_0x21064b=(_0x47807a+(-0x1*0x745+0x5f8+0x14e))/(-0x2434+0x4*0x45+0x2322);_0x1f6e5f['push'](_0x1c7a88*_0x54eb5e,_0x109d8d,_0x47807a*_0x54eb5e),_0x317d4b['push'](0x2630+-0x1f43+0x1*-0x6ed,-0x34*-0x66+-0x210f*-0x1+-0x35c6,0x4*-0x7cd+-0x25ca+0x44fe),_0x50fd3e['push'](_0x2ff1f9,0x3*0x4cf+-0x21b6+0x134a-_0x21064b),_0x2ff1f9=_0x2ff1f9*Bs+ys,_0x21064b=_0x21064b*Bs+ys,_0x2ff1f9/=0x2b*0x1c+0x15*0x8b+-0x1018,_0x21064b/=0xa3*-0x3a+0x1505+0xfec,_0x2ff1f9+=(0x3e7+0x11cf*-0x1+0xdea)/(-0x1872+0x15d7+-0x29e*-0x1),_0x241bd6['push'](_0x2ff1f9,-0x5ca+0x24e8+-0x1f1d-_0x21064b),_0x14815b>0x8a0+-0xbf0+0x351&&_0x25aa2a['push'](_0x39f1fb,_0x39f1fb+_0x14815b-(0x20b1+-0x1fa3*-0x1+-0x4053),_0x39f1fb+_0x14815b);}}this['positions']=_0x1f6e5f,this['normals']=_0x317d4b,this['uvs']=_0x50fd3e,this['uvs1']=_0x241bd6,this['indices']=_0x25aa2a;}}class C1 extends Bp{constructor(_0x52f6bd={}){const _0x73f41f=_0x52f6bd['radius']??-0xf1a+0x1a2+0x1*0xd78+0.3,_0x2de2b8=_0x52f6bd['height']??-0x7cc+-0x1f1b*0x1+0x26e8,_0x2b0e5c=_0x52f6bd['heightSegm'+'ents']??0x2*-0x1201+-0x24c0+0x48c3*0x1,_0x5200e7=_0x52f6bd['sides']??-0xc09+0x17*-0x8b+0xc4d*0x2;super(_0x73f41f,_0x73f41f,_0x2de2b8-(0x1*0x1f75+-0x2504+0x591)*_0x73f41f,_0x2b0e5c,_0x5200e7,!(-0x2bc+-0x1*-0x10e5+0x91*-0x19)),_0x52f6bd['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0xfd9d38={}){const _0x46c0c8=_0xfd9d38['baseRadius']??-0x19*0xd3+0x457*-0x2+0x93*0x33+0.5,_0x595805=_0xfd9d38['peakRadius']??-0x16f6+0x1*-0x985+-0x5*-0x67f,_0x5d9ffc=_0xfd9d38['height']??0x4e4+-0x1725+0x1242,_0x29800a=_0xfd9d38['heightSegm'+'ents']??-0x1*-0x2621+0x4b*-0x48+0xc6*-0x16,_0x4a7339=_0xfd9d38['capSegment'+'s']??0x1338+-0x1*-0x26b+-0x1591;super(_0x46c0c8,_0x595805,_0x5d9ffc,_0x29800a,_0x4a7339,!(0xd4d+0x2*-0xa64+-0x4*-0x1df)),_0xfd9d38['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0x4acc2f={}){const _0x4d7047=_0x4acc2f['radius']??-0x17a*-0x9+0x3fa*0x5+-0x84b*0x4+0.5,_0x180a3d=_0x4acc2f['height']??0x1f19+-0x1d6*-0x3+0x5*-0x752,_0x1a30a2=_0x4acc2f['heightSegm'+'ents']??0xaef+-0x20f+-0x1*0x8db,_0x4bd39c=_0x4acc2f['capSegment'+'s']??-0x1*0xc2b+-0x9*-0x3a+-0xc9*-0xd;super(_0x4d7047,_0x4d7047,_0x180a3d,_0x1a30a2,_0x4bd39c,!(-0x805*0x1+-0xca7*-0x3+0x1def*-0x1)),_0x4acc2f['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x45c314={}){super();const _0x41438c=_0x45c314['halfExtent'+'s']??new W(0x5*-0x3b3+-0x71f*-0x2+0x441+0.5,0x1a13+0xbbe+0x1cd*-0x15+0.5),_0x140c7a=_0x45c314['widthSegme'+'nts']??-0x239*0xd+-0x65*0x2+0x1db4,_0x53a4d7=_0x45c314['lengthSegm'+'ents']??-0x4f3+0x47b+-0x1*-0x7d,_0x2171c3=[],_0x5eb5a4=[],_0x5976f5=[],_0x454aa1=[];let _0x36561d=-0xe91+0x21e5+-0x4d5*0x4;for(let _0x536bed=0x1478+0x437*0x1+0x47*-0x59;_0x536bed<=_0x140c7a;_0x536bed++)for(let _0x338f3f=0x1*0x22da+0x1224+-0x34fe;_0x338f3f<=_0x53a4d7;_0x338f3f++){const _0x1c1ecf=-_0x41438c['x']+(0x22ce+-0xbb9+0x1*-0x1713)*_0x41438c['x']*_0x536bed/_0x140c7a,_0x4080e4=0x4*-0x4d5+-0x1e74+0x31c8,_0xe997c9=-(-_0x41438c['y']+(-0x14c1+0x1*0x1d36+-0x873)*_0x41438c['y']*_0x338f3f/_0x53a4d7),_0x3dd5af=_0x536bed/_0x140c7a,_0x5651af=_0x338f3f/_0x53a4d7;_0x2171c3['push'](_0x1c1ecf,_0x4080e4,_0xe997c9),_0x5eb5a4['push'](0x1*0x124f+0x1bec+-0x2e3b,0x1b21+-0x26c8+0xba8,0xc09+0x32c+-0xe5*0x11),_0x5976f5['push'](_0x3dd5af,-0x1*-0x1dd2+0x109f+-0x1738*0x2-_0x5651af),_0x536bed<_0x140c7a&&_0x338f3f<_0x53a4d7&&(_0x454aa1['push'](_0x36561d+_0x53a4d7+(0xda*-0x17+-0x1209+-0x4b4*-0x8),_0x36561d+(-0x43+-0x2*0xf76+0x1f30),_0x36561d),_0x454aa1['push'](_0x36561d+_0x53a4d7+(0x571+-0x3*-0xd7+-0x7f5),_0x36561d+_0x53a4d7+(-0x10be+0x7*-0x3e3+0x2bf5*0x1),_0x36561d+(-0xc4+-0x188*0xf+0x17bd))),_0x36561d++;}this['positions']=_0x2171c3,this['normals']=_0x5eb5a4,this['uvs']=_0x5976f5,this['uvs1']=_0x5976f5,this['indices']=_0x454aa1,_0x45c314['calculateT'+'angents']&&(this['tangents']=fr(_0x2171c3,_0x5eb5a4,_0x5976f5,_0x454aa1));}}class I1 extends pn{constructor(_0x22c118={}){super();const _0x4fccfd=_0x22c118['tubeRadius']??-0x81c+-0x49*-0x53+-0x1*0xf8f+0.2,_0x4bca12=_0x22c118['ringRadius']??0x1*0x1555+0x12*-0x67+-0xe17+0.3,_0x3c6c27=(_0x22c118['sectorAngl'+'e']??-0x26ca+0x1bde+-0x107*-0xc)*N['DEG_TO_RAD'],_0x709aef=_0x22c118['segments']??-0x1d*-0x74+0x1420+-0x2126,_0x51bfd6=_0x22c118['sides']??-0x220+0x2*0x11c5+0x22*-0xfb,_0x132e6a=[],_0x46c6b4=[],_0x2717a4=[],_0x10e7cf=[];for(let _0x45ea49=0x3*-0x643+0x9d8+0x6d*0x15;_0x45ea49<=_0x51bfd6;_0x45ea49++)for(let _0x167b5e=-0xeb1+0x1c82+-0xdd1;_0x167b5e<=_0x709aef;_0x167b5e++){const _0x30edc0=Math['cos'](_0x3c6c27*_0x167b5e/_0x709aef)*(_0x4bca12+_0x4fccfd*Math['cos']((-0x1*-0x502+0x391*-0x8+0x7d8*0x3)*Math['PI']*_0x45ea49/_0x51bfd6)),_0x553a76=Math['sin']((-0x228a*-0x1+-0x4*-0x71e+-0x3f00)*Math['PI']*_0x45ea49/_0x51bfd6)*_0x4fccfd,_0xada044=Math['sin'](_0x3c6c27*_0x167b5e/_0x709aef)*(_0x4bca12+_0x4fccfd*Math['cos']((-0x7*0x33b+0x1c8d+0x1fa*-0x3)*Math['PI']*_0x45ea49/_0x51bfd6)),_0x3814a5=Math['cos'](_0x3c6c27*_0x167b5e/_0x709aef)*Math['cos']((0x12fd+-0x2*0x2b+0x637*-0x3)*Math['PI']*_0x45ea49/_0x51bfd6),_0x5459c8=Math['sin']((0x7*-0x53e+0x17ab+0xd09)*Math['PI']*_0x45ea49/_0x51bfd6),_0x22ab12=Math['sin'](_0x3c6c27*_0x167b5e/_0x709aef)*Math['cos']((-0x989*-0x2+0x1cdf+-0x2fef)*Math['PI']*_0x45ea49/_0x51bfd6),_0x510a2e=_0x45ea49/_0x51bfd6,_0x371f64=0x1cea+-0x559*0x7+-0x2*-0x443-_0x167b5e/_0x709aef;if(_0x132e6a['push'](_0x30edc0,_0x553a76,_0xada044),_0x46c6b4['push'](_0x3814a5,_0x5459c8,_0x22ab12),_0x2717a4['push'](_0x510a2e,0x169a+0x18dc+0x2f75*-0x1-_0x371f64),_0x45ea49<_0x51bfd6&&_0x167b5e<_0x709aef){const _0x3352b9=_0x45ea49*(_0x709aef+(-0x5*0x623+-0x19*0x1+0x1ec9))+_0x167b5e,_0x2acce4=(_0x45ea49+(0x1897+0x5*-0x64d+0x6eb))*(_0x709aef+(-0x7e5*0x4+-0x1*-0xc37+0x135e))+_0x167b5e,_0x519f9a=_0x45ea49*(_0x709aef+(0x233+0x71*-0x33+0x1451))+(_0x167b5e+(0x1263+0x255a+0x7b*-0x74)),_0x1aa9fc=(_0x45ea49+(0x2*-0xe31+0x2ff*0x8+0x46b))*(_0x709aef+(0x227e+0x77e*0x3+0x3*-0x12fd))+(_0x167b5e+(-0x3*0x8f1+-0x19*0x2e+0x1f52));_0x10e7cf['push'](_0x3352b9,_0x2acce4,_0x519f9a),_0x10e7cf['push'](_0x2acce4,_0x1aa9fc,_0x519f9a);}}this['positions']=_0x132e6a,this['normals']=_0x46c6b4,this['uvs']=_0x2717a4,this['uvs1']=_0x2717a4,this['indices']=_0x10e7cf,_0x22c118['calculateT'+'angents']&&(this['tangents']=fr(_0x132e6a,_0x46c6b4,_0x2717a4,_0x10e7cf));}}class D1{constructor(_0x598bd1,_0x1b295e){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x598bd1,this['_isClearin'+'gCache']=!(-0x922+0x8*0xaf+-0x3ab*-0x1),this['_precached']=!(0x515+-0x439+-0xdb),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x4e833d=new A0();_0x1b295e['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x4e833d,_0x1b295e,null,[],gn,null),_0x1b295e['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x1b295e,null,Rp,null),_0x598bd1['on']('destroy:sh'+'ader',_0x57a353=>{this['removeFrom'+'Cache'](_0x57a353);});}['destroy'](){this['clearCache']();}['register'](_0x932726,_0x5939c8){this['_generator'+'s']['has'](_0x932726)||this['_generator'+'s']['set'](_0x932726,_0x5939c8);}['unregister'](_0x50e07d){this['_generator'+'s']['has'](_0x50e07d)&&this['_generator'+'s']['delete'](_0x50e07d);}['isRegister'+'ed'](_0x1c24eb){return this['_generator'+'s']['has'](_0x1c24eb);}['generateSh'+'aderDefini'+'tion'](_0x41bd3c,_0x253a8c,_0x2eb21f,_0x4df0bb){var _0x1448c8,_0x45a86a;let _0x163174=this['definition'+'sCache']['get'](_0x2eb21f);if(!_0x163174){let _0x13520b;(_0x1448c8=_0x4df0bb['litOptions'])!=null&&_0x1448c8['lights']&&(_0x13520b=_0x4df0bb['litOptions']['lights'],_0x4df0bb['litOptions']['lights']=_0x13520b['map'](_0x5cc81e=>{const _0x43f348=_0x5cc81e['clone']?_0x5cc81e['clone']():_0x5cc81e;return _0x43f348['key']=_0x5cc81e['key'],_0x43f348;})),this['storeNewPr'+'ogram'](_0x253a8c,_0x4df0bb),(_0x45a86a=_0x4df0bb['litOptions'])!=null&&_0x45a86a['lights']&&(_0x4df0bb['litOptions']['lights']=_0x13520b),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x253a8c+'\x20key\x20'+_0x2eb21f+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x3b63c7=this['_device'];_0x163174=_0x41bd3c['createShad'+'erDefiniti'+'on'](_0x3b63c7,_0x4df0bb),_0x163174['name']=_0x163174['name']??(_0x4df0bb['pass']?_0x253a8c+'-pass:'+_0x4df0bb['pass']:_0x253a8c),this['definition'+'sCache']['set'](_0x2eb21f,_0x163174);}return _0x163174;}['getCachedS'+'hader'](_0x57be91){return this['processedC'+'ache']['get'](_0x57be91);}['setCachedS'+'hader'](_0x1d5829,_0x582b32){this['processedC'+'ache']['set'](_0x1d5829,_0x582b32);}['getProgram'](_0x50f18f,_0x16da28,_0x447cdd,_0x45c3a9){const _0x29f56f=this['_generator'+'s']['get'](_0x50f18f);if(!_0x29f56f)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x50f18f),null;const _0x4f2306=_0x29f56f['generateKe'+'y'](_0x16da28),_0x3302b1=hn(_0x4f2306),_0x8961d9=_0x447cdd['generateKe'+'y'](this['_device']),_0xc23180=hn(_0x8961d9),_0x10e97b=_0x3302b1+'#'+_0xc23180;let _0x34697a=this['getCachedS'+'hader'](_0x10e97b);if(!_0x34697a){const _0x3dc3f6=this['generateSh'+'aderDefini'+'tion'](_0x29f56f,_0x50f18f,_0x3302b1,_0x16da28);v['assert'](_0x3dc3f6);let _0x538d93='',_0x1ede9c;_0x16da28['pass']!==void(-0x1f9f+-0x1f13*0x1+0xc8a*0x5)&&(_0x1ede9c=Ks['get'](this['_device'])['getByIndex'](_0x16da28['pass']),_0x538d93='-'+_0x1ede9c['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x45c3a9,'shaderPassInfo':_0x1ede9c,'definition':_0x3dc3f6});const _0x38cf08={'name':''+_0x3dc3f6['name']+_0x538d93+'-proc','attributes':_0x3dc3f6['attributes'],'vshader':_0x3dc3f6['vshader'],'vincludes':_0x3dc3f6['vincludes'],'fincludes':_0x3dc3f6['fincludes'],'fshader':_0x3dc3f6['fshader'],'processingOptions':_0x447cdd,'shaderLanguage':_0x3dc3f6['shaderLang'+'uage'],'meshUniformBufferFormat':_0x3dc3f6['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x3dc3f6['meshBindGr'+'oupFormat']};_0x34697a=new i0(this['_device'],_0x38cf08),v['call'](()=>{_0x34697a['_generatio'+'nKey']=_0x4f2306,_0x34697a['_processin'+'gKey']=_0x8961d9;}),this['setCachedS'+'hader'](_0x10e97b,_0x34697a);}return _0x34697a;}['storeNewPr'+'ogram'](_0x57827d,_0x1a64d7){let _0x56a2f7={};if(_0x57827d==='standard'){const _0x1b8b86=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x1a64d7['pass']);for(const _0x3f570b in _0x1a64d7)(_0x1a64d7['hasOwnProp'+'erty'](_0x3f570b)&&_0x1b8b86[_0x3f570b]!==_0x1a64d7[_0x3f570b]||_0x3f570b==='pass')&&(_0x56a2f7[_0x3f570b]=_0x1a64d7[_0x3f570b]);for(const _0x1f738 in _0x1a64d7['litOptions'])_0x56a2f7[_0x1f738]=_0x1a64d7['litOptions'][_0x1f738];}else _0x56a2f7=_0x1a64d7;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x57827d,'options':_0x56a2f7}));}['dumpProgra'+'ms'](){let _0x4b4f0d='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x4b4f0d+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x1979+0x109d*0x1+0x150b*-0x2]&&(_0x4b4f0d+='\x0a\x09'+this['_programsC'+'ollection'][-0x9*-0x1a1+-0xa*0x42+-0x407*0x3]);for(let _0x3454a6=-0x23ad*0x1+-0x270e+0x4abc*0x1;_0x3454a6<this['_programsC'+'ollection']['length'];++_0x3454a6)_0x4b4f0d+=',\x0a\x09'+this['_programsC'+'ollection'][_0x3454a6];_0x4b4f0d+='\x0a];\x0a',_0x4b4f0d+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x4b4f0d+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x4b4f0d+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x457da7=document['createElem'+'ent']('a');_0x457da7['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x4b4f0d)),_0x457da7['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x457da7['style']['display']='none',document['body']['appendChil'+'d'](_0x457da7),_0x457da7['click'](),document['body']['removeChil'+'d'](_0x457da7);}['clearCache'](){this['_isClearin'+'gCache']=!(-0xaf8+0xf1d+-0x425),this['processedC'+'ache']['forEach'](_0x4a50eb=>{_0x4a50eb['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0x3*0x66e+0xfd0+0x257*-0xf);}['removeFrom'+'Cache'](_0x2238b2){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x54cf8b,_0x2732af)=>{_0x2238b2===_0x54cf8b&&this['processedC'+'ache']['delete'](_0x2732af);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x1956b6){const _0x31bb7b=Ks['get'](this['_device'])['getByIndex'](_0x1956b6);return _0x1956b6===rl||_0x1956b6===Oa||_0x1956b6===il||_0x31bb7b['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x25991c){if(_0x25991c){const _0x34cf45=new Array(_0x25991c['length']);for(let _0x4fd526=-0x313+0x16*-0x15+0x4e1;_0x4fd526<_0x25991c['length'];_0x4fd526++){if(_0x25991c[_0x4fd526]['name']==='standard'){const _0x4a1e82=_0x25991c[_0x4fd526]['options'],_0x4a7302=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x4a1e82['pass']);for(const _0x365330 in _0x4a7302)_0x4a7302['hasOwnProp'+'erty'](_0x365330)&&_0x4a1e82[_0x365330]===void(0x732+-0x1*-0x137f+-0x1ab1)&&(_0x4a1e82[_0x365330]=_0x4a7302[_0x365330]);}_0x34cf45[_0x4fd526]=this['getProgram'](_0x25991c[_0x4fd526]['name'],_0x25991c[_0x4fd526]['options']);}}this['_precached']=!(-0x24ad+0x159c*0x1+0xf11);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),$d=new _e(),N_=new _e(),B1=new Y(0xdff*-0x2+-0x1cc9+0x38c8,-0x11eb+-0x1e1e*0x1+0x300a,0x33e+0x2252+0x4b2*-0x8,0xc6*-0x1d+0x17*0x106+-0x11c*0x1+0.4),qd=-0x1*0xf97+0x20b9+-0x6*0x2db+0.28209479177387814;class N1{constructor(_0x948e47,_0x270628,_0xfb9419,_0x30041d,_0x290d6e,_0x199da4){const _0x58c13d=_0x948e47['getProp']('x'),_0x38c9a9=_0x948e47['getProp']('y'),_0x526d7f=_0x948e47['getProp']('z'),_0x576847=_0x948e47['getProp']('rot_1'),_0x519149=_0x948e47['getProp']('rot_2'),_0x377a63=_0x948e47['getProp']('rot_3'),_0xe12cbf=_0x948e47['getProp']('rot_0'),_0x25d8b9=_0x948e47['getProp']('motion_0'),_0x5a740b=_0x948e47['getProp']('motion_1'),_0x270a40=_0x948e47['getProp']('motion_2'),_0x401f76=_0x948e47['getProp']('scale_0'),_0x3835ff=_0x948e47['getProp']('scale_1'),_0x2e15cf=_0x948e47['getProp']('scale_2'),_0x3d1c9c=_0x948e47['getProp']('f_dc_0'),_0x1f4b95=_0x948e47['getProp']('f_dc_1'),_0x8933cd=_0x948e47['getProp']('f_dc_2'),_0x534481=_0x948e47['getProp']('opacity'),_0x5383ab=_0x5950bf=>{if(_0x5950bf>-0x4c9+-0x1c57+0x2120)return(-0x306+0x89c+-0x595*0x1)/(0x22a1+-0xfb*0x6+-0x1*0x1cbe+Math['exp'](-_0x5950bf));const _0x501e82=Math['exp'](_0x5950bf);return _0x501e82/(-0x1926+-0x21db+0x3b02+_0x501e82);};this['read']=_0x8fede9=>{_0x270628&&(_0x270628['x']=_0x58c13d[_0x8fede9],_0x270628['y']=_0x38c9a9[_0x8fede9],_0x270628['z']=_0x526d7f[_0x8fede9]),_0xfb9419&&_0xfb9419['set'](_0x576847[_0x8fede9],_0x519149[_0x8fede9],_0x377a63[_0x8fede9],_0xe12cbf[_0x8fede9]),_0x30041d&&_0x30041d['set'](Math['exp'](_0x401f76[_0x8fede9]),Math['exp'](_0x3835ff[_0x8fede9]),Math['exp'](_0x2e15cf[_0x8fede9])),_0x199da4&&_0x25d8b9&&_0x199da4['set'](_0x25d8b9[_0x8fede9],_0x5a740b[_0x8fede9],_0x270a40[_0x8fede9]),_0x290d6e&&_0x290d6e['set'](0x1c56+0x17d*0x5+-0x23c7+0.5+_0x3d1c9c[_0x8fede9]*qd,-0xd2c*-0x1+-0x179b+0xa6f*0x1+0.5+_0x1f4b95[_0x8fede9]*qd,0x1e4+0x1*0x270d+0xdf*-0x2f+0.5+_0x8933cd[_0x8fede9]*qd,_0x5383ab(_0x534481[_0x8fede9]));};}}const z_=(_0x580ffd,_0x5af0cf,_0x12aa14)=>{B_['set'](_0x12aa14['x'],_0x12aa14['y'],_0x12aa14['z'],_0x12aa14['w'])['normalize'](),_0x580ffd['setTRS'](_0x5af0cf,B_,T['ONE']);};class Ia{constructor(_0x43b456){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x58cef7,_0x1b8af0,_0x14dc52;this['elements']=_0x43b456,this['numSplats']=(_0x58cef7=this['getElement']('vertex'))==null?void(-0x2*0x685+-0xb*-0x280+-0x1*0xe76):_0x58cef7['count'],this['is4D']=!!((_0x14dc52=(_0x1b8af0=this['getElement']('vertex'))==null?void(-0x2061+0x1*-0xc61+0x2cc2):_0x1b8af0['properties']['find'](_0x260422=>_0x260422['name']==='t'))!=null&&_0x14dc52['storage']);}['appendGSpl'+'atData'](_0x504e20,_0x322f10,_0x10c8ef){const _0x5037cd=this['getElement']('vertex')['properties'];_0x5037cd['find'](_0x5cd1e7=>_0x5cd1e7['name']==='time_index')||_0x5037cd['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x504e20['numSplats'];for(let _0x2a2fbc=0x679+0x57*-0x2+-0x5cb;_0x2a2fbc<_0x5037cd['length'];_0x2a2fbc++){const _0x438e05=_0x5037cd[_0x2a2fbc],_0x5330ad=_0x504e20['getElement']('vertex')['properties']['find'](_0x2df918=>_0x2df918['name']===_0x438e05['name']);if(_0x438e05['name']==='time_index'){const _0x26f1ff=new Float32Array(this['numSplats']);_0x26f1ff['fill'](_0x322f10),_0x26f1ff['set'](_0x438e05['storage'],-0x203c*-0x1+-0xea9+-0x1193),_0x438e05['storage']=_0x26f1ff;}else{if(_0x5330ad&&_0x438e05['name']==='t'){const _0x29efd2=new Float32Array(this['numSplats']);if(_0x29efd2['set'](_0x438e05['storage'],0x2663+0x7*-0x568+0x1*-0x8b),_0x10c8ef){for(let _0x38e230=_0x438e05['storage']['length'];_0x38e230<this['numSplats'];_0x38e230++)_0x29efd2[_0x38e230]=_0x5330ad['storage'][_0x38e230-_0x438e05['storage']['length']]+_0x10c8ef[(0x1bb1+0x1308+0x1*-0x2eb7)*_0x322f10];}else _0x29efd2['set'](_0x5330ad['storage'],_0x438e05['storage']['length']);_0x438e05['storage']=_0x29efd2;}else{if(_0x5330ad){const _0x28b18e=new Float32Array(this['numSplats']);_0x28b18e['set'](_0x438e05['storage'],0x1*0x1225+0x2309+-0x352e),_0x28b18e['set'](_0x5330ad['storage'],_0x438e05['storage']['length']),_0x438e05['storage']=_0x28b18e;}}}}}static['calcSplatA'+'abb'](_0x1b0206,_0x5ca1e1,_0x3bca38,_0x45c384){z_(Fn,_0x5ca1e1,_0x3bca38),$d['center']['set'](0x21f*0x7+0x40a+0x3c7*-0x5,0x8f2*0x2+-0x2c5*-0x7+-0x2547,-0x1eb*0x11+0x61*0x4e+0x47*0xb),$d['halfExtent'+'s']['set'](_0x45c384['x']*(0x8*0x1b3+-0x11c*-0xc+-0x1ae6),_0x45c384['y']*(0x74a+-0x17e+0xd*-0x72),_0x45c384['z']*(0x1*0x45a+0x6*-0x18d+0x4f6)),_0x1b0206['setFromTra'+'nsformedAa'+'bb']($d,Fn);}['getProp'](_0x5f3b3a,_0x331013='vertex'){var _0x1ead03,_0x1e9871;return(_0x1e9871=(_0x1ead03=this['getElement'](_0x331013))==null?void(-0x3*0xfe+-0x15c7+0x18c1):_0x1ead03['properties']['find'](_0x4488f1=>_0x4488f1['name']===_0x5f3b3a))==null?void(-0xb61*-0x1+0x1364+0x1ec5*-0x1):_0x1e9871['storage'];}['getElement'](_0x26b172){return this['elements']['find'](_0xa6c99e=>_0xa6c99e['name']===_0x26b172);}['addProp'](_0x3b0ec9,_0x557112){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x3b0ec9,'storage':_0x557112,'byteSize':0x4});}['createIter'](_0x29c0b1,_0x464a66,_0x17c460,_0x24ba6a,_0x5afebb){return new N1(this,_0x29c0b1,_0x464a66,_0x17c460,_0x24ba6a,_0x5afebb);}['calcAabb'](_0x8d940b,_0x5dd3ba){let _0x3e613e,_0x11567f,_0x570ec1,_0xc94faf,_0x49abf6,_0x45a658,_0x61775a=!(0x526*-0x3+-0x1*-0x1723+-0x7b1);const _0x212aaf=this['getProp']('x'),_0x5b68af=this['getProp']('y'),_0x3a90ad=this['getProp']('z'),_0xd8f67c=this['getProp']('scale_0'),_0x565cf9=this['getProp']('scale_1'),_0x27fdc4=this['getProp']('scale_2');for(let _0x417c20=-0x74a*-0x1+-0x25d5+-0x45d*-0x7;_0x417c20<this['numSplats'];++_0x417c20){if(_0x5dd3ba&&!_0x5dd3ba(_0x417c20))continue;const _0x2fd9a6=(0xe89+-0x5a5+-0x8e2)*Math['exp'](Math['max'](_0xd8f67c[_0x417c20],_0x565cf9[_0x417c20],_0x27fdc4[_0x417c20])),_0x33eaee=_0x212aaf[_0x417c20],_0xcf0b66=_0x5b68af[_0x417c20],_0x2167f4=_0x3a90ad[_0x417c20];_0x61775a?(_0x61775a=!(0xc41*0x1+-0x8*0x1c0+0x1c0),_0x3e613e=_0x33eaee-_0x2fd9a6,_0x11567f=_0xcf0b66-_0x2fd9a6,_0x570ec1=_0x2167f4-_0x2fd9a6,_0xc94faf=_0x33eaee+_0x2fd9a6,_0x49abf6=_0xcf0b66+_0x2fd9a6,_0x45a658=_0x2167f4+_0x2fd9a6):(_0x3e613e=Math['min'](_0x3e613e,_0x33eaee-_0x2fd9a6),_0x11567f=Math['min'](_0x11567f,_0xcf0b66-_0x2fd9a6),_0x570ec1=Math['min'](_0x570ec1,_0x2167f4-_0x2fd9a6),_0xc94faf=Math['max'](_0xc94faf,_0x33eaee+_0x2fd9a6),_0x49abf6=Math['max'](_0x49abf6,_0xcf0b66+_0x2fd9a6),_0x45a658=Math['max'](_0x45a658,_0x2167f4+_0x2fd9a6));}return _0x61775a||(_0x8d940b['center']['set']((_0x3e613e+_0xc94faf)*(-0x1445*-0x1+0x1137+-0x257c+0.5),(_0x11567f+_0x49abf6)*(-0x1*-0xb49+0x2405+-0x2f4e+0.5),(_0x570ec1+_0x45a658)*(-0x1580+0xb*-0x163+0x24c1*0x1+0.5)),_0x8d940b['halfExtent'+'s']['set']((_0xc94faf-_0x3e613e)*(0x4d*0x2b+0xf40+-0xf*0x1e1+0.5),(_0x49abf6-_0x11567f)*(-0x2035+-0x9af+0x29e4+0.5),(_0x45a658-_0x570ec1)*(0x1*0x25cd+-0x1*0x208b+0x2a1*-0x2+0.5))),!_0x61775a;}['calcAabbEx'+'act'](_0x13a4a,_0x55a84a){const _0x31c32c=new T(),_0xa5c7a4=new se(),_0x3adbc0=new T(),_0x8d4e55=this['createIter'](_0x31c32c,_0xa5c7a4,_0x3adbc0);let _0x2e5269=!(0x108c+-0x4*-0xdf+-0xa04*0x2);for(let _0xfc1c1f=0x263f*-0x1+0x2*0xca+0x24ab;_0xfc1c1f<this['numSplats'];++_0xfc1c1f)_0x55a84a&&!_0x55a84a(_0xfc1c1f)||(_0x8d4e55['read'](_0xfc1c1f),_0x2e5269?(_0x2e5269=!(0x1037+-0x1b02+0x1*0xacc),Ia['calcSplatA'+'abb'](_0x13a4a,_0x31c32c,_0xa5c7a4,_0x3adbc0)):(Ia['calcSplatA'+'abb'](N_,_0x31c32c,_0xa5c7a4,_0x3adbc0),_0x13a4a['add'](N_)));return!_0x2e5269;}['getCenters'](_0x4ad81c){const _0x4b9f05=this['getProp']('x'),_0x33a8a1=this['getProp']('y'),_0x3acd7b=this['getProp']('z');for(let _0x99faf=-0x1*-0x14e5+-0xf35+-0x5b0;_0x99faf<this['numSplats'];++_0x99faf)_0x4ad81c[_0x99faf*(-0x1808+0x1ea9*0x1+-0x69e)+(-0xa1e+0x4*0x51e+-0xa5a)]=_0x4b9f05[_0x99faf],_0x4ad81c[_0x99faf*(-0x1a49*-0x1+-0x1763+-0x1*0x2e3)+(-0x1df0+0x15*0x112+0x777)]=_0x33a8a1[_0x99faf],_0x4ad81c[_0x99faf*(0x25e*0x5+-0xc54+0x81)+(0xc49+-0xb71+-0xd6)]=_0x3acd7b[_0x99faf];}['getMuT'](){const _0x56f48e=this['getProp']('t');if(!_0x56f48e)return;const _0x465854=new Float32Array(this['numSplats']);for(let _0x38bf2e=0x1168*-0x1+0x1*-0x65f+0x17c7;_0x38bf2e<this['numSplats'];++_0x38bf2e)_0x465854[_0x38bf2e]=_0x56f48e[_0x38bf2e];return _0x465854;}['getTScale'](){const _0x4bb960=this['getProp']('t_scale');if(!_0x4bb960)return;const _0x44cdc5=new Float32Array(this['numSplats']);for(let _0x33dd1a=0x6f9+0x13*0x133+0x24a*-0xd;_0x33dd1a<this['numSplats'];++_0x33dd1a)_0x44cdc5[_0x33dd1a]=Math['exp'](_0x4bb960[_0x33dd1a]);return _0x44cdc5;}['getMotion'](_0x22b916){const _0x2b0e4e=this['getProp']('motion_0'),_0x2175a9=this['getProp']('motion_1'),_0xd17d91=this['getProp']('motion_2');if(!(!_0x2b0e4e||!_0x2175a9||!_0xd17d91)){for(let _0x120f71=0x10b*-0x2+-0x1bba+0x1dd0;_0x120f71<this['numSplats'];++_0x120f71)_0x22b916[_0x120f71*(0x1*-0x1139+-0x138d+0xc43*0x3)+(0xef9+0x22a3+-0xa*0x4f6)]=_0x2b0e4e[_0x120f71],_0x22b916[_0x120f71*(-0x23*0xc2+0x7e1+-0x18e*-0xc)+(0x1*-0x22f3+0x131c+0xfd8)]=_0x2175a9[_0x120f71],_0x22b916[_0x120f71*(0x1*-0x130d+-0x1ab2+0x2dc2)+(-0xdb1+-0xac0+0x1873)]=_0xd17d91[_0x120f71];}}['getTimeInd'+'ex'](_0x469138){const _0x1b31c6=this['getProp']('time_index');_0x1b31c6&&_0x469138['set'](_0x1b31c6,0x29*-0x8+-0x15cc+0x4*0x5c5);}['calcFocalP'+'oint'](_0x2d497e,_0x250423){const _0x570756=this['getProp']('x'),_0x39a7bc=this['getProp']('y'),_0x211a15=this['getProp']('z'),_0x3f6606=this['getProp']('scale_0'),_0x2c2bc7=this['getProp']('scale_1'),_0x58fcaf=this['getProp']('scale_2');_0x2d497e['x']=0x8f5+-0x11ca+0x1*0x8d5,_0x2d497e['y']=-0x940+-0x51f*-0x6+0x1*-0x157a,_0x2d497e['z']=0xbfd+0x154c+0x2149*-0x1;let _0x473c3f=-0x1*-0x10e8+-0x1*0x1f81+0x25*0x65;for(let _0x518ba5=0x1*0xf5d+0x84a*-0x1+-0x713;_0x518ba5<this['numSplats'];++_0x518ba5){if(_0x250423&&!_0x250423(_0x518ba5))continue;const _0x50b1b0=(-0x3*-0x8f3+-0x142f+-0x6a9)/(-0x1*-0x22fc+-0x1*0x4d5+0x1*-0x1e26+Math['exp'](Math['max'](_0x3f6606[_0x518ba5],_0x2c2bc7[_0x518ba5],_0x58fcaf[_0x518ba5])));_0x2d497e['x']+=_0x570756[_0x518ba5]*_0x50b1b0,_0x2d497e['y']+=_0x39a7bc[_0x518ba5]*_0x50b1b0,_0x2d497e['z']+=_0x211a15[_0x518ba5]*_0x50b1b0,_0x473c3f+=_0x50b1b0;}_0x2d497e['mulScalar']((-0x1dde+0x468+-0x35*-0x7b)/_0x473c3f);}['renderWire'+'frameBound'+'s'](_0x39ae5b,_0xde3648){const _0x73ad6a=new T(),_0x6d60a3=new se(),_0x4d442f=new T(),_0x4bf7e0=new T(),_0x2520ad=new T(),_0x37f923=this['createIter'](_0x73ad6a,_0x6d60a3,_0x4d442f);for(let _0x4ed6ce=0x1*0x20f9+0x1d*-0xa3+0x3*-0x4d6;_0x4ed6ce<this['numSplats'];++_0x4ed6ce)_0x37f923['read'](_0x4ed6ce),z_(Fn,_0x73ad6a,_0x6d60a3),Fn['mul2'](_0xde3648,Fn),_0x4bf7e0['set'](_0x4d442f['x']*-(-0xada*0x3+0x17bf+0x8d1),_0x4d442f['y']*-(0x2b*0x56+-0x1af3+-0x1*-0xc83),_0x4d442f['z']*-(-0x1c7b+-0x1d*-0x8f+0xc4a)),_0x2520ad['set'](_0x4d442f['x']*(-0x1bf6+0x7a5*-0x1+0x9*0x3f5),_0x4d442f['y']*(-0x13*0x1b3+0x256c+-0x521),_0x4d442f['z']*(-0xcc5*0x1+0x2*-0x1f3+0x10ad)),_0x39ae5b['immediate']['drawWireAl'+'ignedBox'](_0x4bf7e0,_0x2520ad,B1,!(0xcc*0x1a+0x15d0+0x2a88*-0x1),_0x39ae5b['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(-0x36f*-0x1+-0xf2a+0xbbc);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x39af80=-0x11c9+-0x1e59+0x3022*0x1;_0x39af80<0xedd+-0x284+-0xc2c;++_0x39af80)if(!this['getProp']('f_rest_'+_0x39af80))return _0x39af80;return 0x1f81+-0x1*0xe8a+-0x865*0x2;})())]??-0x4da+-0x26ba+0x2*0x15ca;}['calcMorton'+'Order'](){const _0x4a7f3d=_0x477093=>{let _0x2081de=_0x477093[-0x14e6+-0x2516*-0x1+-0x1030],_0x36f9a4=_0x477093[0xf5*0x21+0x5*-0x773+-0x122*-0x5];for(let _0x14aa3d=-0x8a0+0x183c+0xeb*-0x11;_0x14aa3d<_0x477093['length'];_0x14aa3d++)_0x477093[_0x14aa3d]<_0x2081de&&(_0x2081de=_0x477093[_0x14aa3d]),_0x477093[_0x14aa3d]>_0x36f9a4&&(_0x36f9a4=_0x477093[_0x14aa3d]);return{'min':_0x2081de,'max':_0x36f9a4};},_0x37c294=(_0x129c66,_0x58a522,_0x216cde)=>{const _0x323f3f=_0x23471c=>(_0x23471c&=-0x182b+0x184*-0xb+0x2cd6,_0x23471c=(_0x23471c^_0x23471c<<0x1d20+0x914+-0x2624)&0x1514ed0c5+-0x1*0x428c374d+-0xef3*0x10de3,_0x23471c=(_0x23471c^_0x23471c<<0x1*0xffd+-0x2608+-0x1*-0x1613)&-0x1*-0x57e9825+-0xe67269*-0x2+-0x94*0x76c32,_0x23471c=(_0x23471c^_0x23471c<<0x22d*-0xb+0x1aee+-0x2fb)&-0x7*0x6635c7+-0x47c1034+0x407b28*0x29,_0x23471c=(_0x23471c^_0x23471c<<0x1*0xcd1+-0x135a*0x2+0x1*0x19e5)&0xec320d4+0x119af61+-0x6b83dec,_0x23471c);return(_0x323f3f(_0x216cde)<<-0x131+-0x1815*-0x1+-0x16e2)+(_0x323f3f(_0x58a522)<<-0x2a5+0x1*0x251f+-0x2279)+_0x323f3f(_0x129c66);},_0x3ea438=this['getProp']('x'),_0x303d4c=this['getProp']('y'),_0x90312c=this['getProp']('z'),{min:_0x278cf6,max:_0x137b10}=_0x4a7f3d(_0x3ea438),{min:_0x11af46,max:_0x5764f8}=_0x4a7f3d(_0x303d4c),{min:_0xfbbd11,max:_0xd1a0fe}=_0x4a7f3d(_0x90312c),_0x2e9ae9=_0x278cf6===_0x137b10?-0x45*0x1d+-0x1*0x1ae1+0x1159*0x2:(0x1bc2*0x1+-0xe35*0x1+0x1e9*-0x5)/(_0x137b10-_0x278cf6),_0x4ed778=_0x11af46===_0x5764f8?0x2394+-0xb7b*0x1+-0x1819:(-0x123*0x4+-0x3*0x2c7+0x1d*0x95)/(_0x5764f8-_0x11af46),_0x4d0835=_0xfbbd11===_0xd1a0fe?-0x2393+-0x1612+0x1*0x39a5:(-0xb7e+0xf61+0x1d*0x1)/(_0xd1a0fe-_0xfbbd11),_0x5aff3e=new Map();for(let _0x185b4a=-0x8f*-0x5+0x76e*0x5+-0x27f1;_0x185b4a<this['numSplats'];_0x185b4a++){const _0x265298=Math['floor']((_0x3ea438[_0x185b4a]-_0x278cf6)*_0x2e9ae9),_0x50b895=Math['floor']((_0x303d4c[_0x185b4a]-_0x11af46)*_0x4ed778),_0x4f0ee3=Math['floor']((_0x90312c[_0x185b4a]-_0xfbbd11)*_0x4d0835),_0x328a90=_0x37c294(_0x265298,_0x50b895,_0x4f0ee3),_0x4a6047=_0x5aff3e['get'](_0x328a90);_0x4a6047?_0x4a6047['push'](_0x185b4a):_0x5aff3e['set'](_0x328a90,[_0x185b4a]);}const _0x4baf41=Array['from'](_0x5aff3e['keys']())['sort']((_0x1dfc8e,_0x290aa2)=>_0x1dfc8e-_0x290aa2),_0x4a8be7=new Uint32Array(this['numSplats']);let _0x4d30a4=0x18d4*-0x1+0x1*0x1c1f+-0x34b;for(let _0x3a677e=-0x509+0x2270+-0x27*0xc1;_0x3a677e<_0x4baf41['length'];++_0x3a677e){const _0xddd8b0=_0x5aff3e['get'](_0x4baf41[_0x3a677e]);for(let _0x19f818=-0x1*0x2021+0x1600+0xa21;_0x19f818<_0xddd8b0['length'];++_0x19f818)_0x4a8be7[_0x4d30a4++]=_0xddd8b0[_0x19f818];}return _0x4a8be7;}['reorder'](_0x36e6b2){const _0x148883=new Map(),_0x4c0cfc=_0x275611=>{if(_0x148883['has'](_0x275611)){const _0x55af1e=_0x148883['get'](_0x275611);return _0x148883['delete'](_0x275611),_0x55af1e;}return new ArrayBuffer(_0x275611);},_0x3b02e6=_0x3ef31e=>{_0x148883['set'](_0x3ef31e['byteLength'],_0x3ef31e);},_0x372ffc=_0x9ae1fe=>{const _0x4448c8=new _0x9ae1fe['constructo'+'r'](_0x4c0cfc(_0x9ae1fe['byteLength']));for(let _0x405d81=-0x82d*0x4+-0x35+-0x1*-0x20e9;_0x405d81<_0x36e6b2['length'];_0x405d81++)_0x4448c8[_0x405d81]=_0x9ae1fe[_0x36e6b2[_0x405d81]];return _0x3b02e6(_0x9ae1fe['buffer']),_0x4448c8;};this['elements']['forEach'](_0x13ad5e=>{_0x13ad5e['properties']['forEach'](_0x5439f9=>{_0x5439f9['storage']&&(_0x5439f9['storage']=_0x372ffc(_0x5439f9['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x5ae47a={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0xa9ddb=_0x5ae47a['dither']??Rs,_0x5580dc=_0xa9ddb!==Rs,_0x427a6b=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x5ae47a['vertex']??X['gsplatVS'],'fragmentCode':_0x5ae47a['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x427a6b['setDefine']('DITHER_'+_0xa9ddb['toUpperCas'+'e'](),''),_0x427a6b['cull']=mt,_0x427a6b['blendType']=_0x5580dc?is:hr,_0x427a6b['depthWrite']=_0x5580dc,_0x427a6b['update'](),_0x427a6b;};async function z1(){self['onmessage']=async _0x1ee727=>{const {data:_0x8c3d85}=_0x1ee727;switch(_0x8c3d85['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x362511(_0x8c3d85['numSplats'],_0x8c3d85['shBands'],_0x8c3d85['SHData']);break;}};const _0x362511=(_0x6f5eab,_0x24ce0f,_0x27f700)=>{const _0x20fa4e=new Uint32Array(_0x6f5eab*(0x1a76+-0x4*0x14f+-0x1536)),_0x4456ce=new Uint32Array(_0x6f5eab*(0xe9*-0x11+0x6*-0x650+-0x1*-0x355d)),_0xfbb239=new Uint32Array(_0x6f5eab*(-0x204f*-0x1+-0x1294+-0x1*0xdb7)),_0x4c5f70=new Uint32Array(_0x6f5eab*(-0x395*0x2+0x193f+-0x1211)),_0x503d36={0x1:0x3,0x2:0x8,0x3:0xf}[_0x24ce0f],_0x13d2a7=_0x27f700,_0x1d1a3c=0xa09*-0x3+-0x10a3+0x1b*0x207,_0x163191=-0x18d7*0x1+-0xf*-0x49+0x188f,_0x5c553d=new Float32Array(-0x51*-0x16+-0x1346+-0x3*-0x41b),_0x30299b=new Uint32Array(_0x5c553d['buffer']),_0x494c82=new Array(_0x503d36*(-0x233a+0x236e*-0x1+0x46ab*0x1))['fill'](0x12b6*0x1+-0x10*0x1e6+0xbaa);for(let _0x5b86ad=0xa57+-0x1863+0xe0c;_0x5b86ad<_0x6f5eab;++_0x5b86ad){for(let _0x34cd07=0xee*0x4+0x1*-0x24e0+0x2128;_0x34cd07<_0x503d36;++_0x34cd07)_0x494c82[_0x34cd07*(-0xc75+-0x3*-0x931+-0xf1b)]=_0x13d2a7[_0x34cd07][_0x5b86ad],_0x494c82[_0x34cd07*(-0x63e*-0x5+0xe67+-0xd*0x382)+(-0x1518+0x16d9+-0x40*0x7)]=_0x13d2a7[_0x34cd07+_0x503d36][_0x5b86ad],_0x494c82[_0x34cd07*(-0x87b+-0x520*-0x1+0x35e)+(-0x103*-0x15+-0x394+-0x11a9)]=_0x13d2a7[_0x34cd07+_0x503d36*(0x112*-0x8+0xb8e+-0x2fc)][_0x5b86ad];let _0x49a3d6=_0x494c82[-0x2fa+-0xf4*0x1+0x3ee*0x1];for(let _0xf06357=-0x11*-0xc7+0x2405+-0x313b;_0xf06357<_0x503d36*(-0x2359*0x1+-0x26f2+0x4a4e);++_0xf06357)_0x49a3d6=Math['max'](_0x49a3d6,Math['abs'](_0x494c82[_0xf06357]));if(_0x49a3d6!==-0x2*0x15d+-0x1ffd+0x22b7*0x1){for(let _0x535fe4=-0x577*-0x1+-0x84e+-0x1*-0x2d7;_0x535fe4<_0x503d36;++_0x535fe4)_0x494c82[_0x535fe4*(-0x11b2+-0x7e7*-0x3+-0x2*0x300)+(0x14*0x1df+0x3e2+-0x294e)]=Math['max'](0x935*0x1+0x66*0x30+-0x1c55,Math['min'](_0x1d1a3c,Math['floor']((_0x494c82[_0x535fe4*(-0x8ee+0x18f+0x9*0xd2)+(0xb10+0x19f+-0xcaf)]/_0x49a3d6*(0x20c9+0x23a4+-0x446d*0x1+0.5)+(-0x1ece+0x1*0xddb+-0x10f3*-0x1+0.5))*_0x1d1a3c+(0xcf0+0x1ca6+-0x2*0x14cb+0.5)))),_0x494c82[_0x535fe4*(0x7a2*0x3+-0x1c38+0x555)+(0xde7+-0x1*0x16bd+0x8d7*0x1)]=Math['max'](-0x4*0x133+0x1104+-0xc38,Math['min'](_0x163191,Math['floor']((_0x494c82[_0x535fe4*(0x4fb+-0x1bb0+-0x1*-0x16b8)+(0x363+0x2fd*-0x6+0x4*0x3a3)]/_0x49a3d6*(-0x1*0x2269+0x253*0x1+0x2016+0.5)+(0xa5d+0xcbc+0x1*-0x1719+0.5))*_0x163191+(-0x107b+0x16*-0x163+-0x2efd*-0x1+0.5)))),_0x494c82[_0x535fe4*(-0x13f1+-0x10b2*0x1+0x24a6)+(0x11b*-0x17+0x1bee+-0x27f)]=Math['max'](-0x7be*0x1+0xe38+-0x1*0x67a,Math['min'](_0x1d1a3c,Math['floor']((_0x494c82[_0x535fe4*(-0x59+-0x22f7+0x2353)+(0x1*0x77d+-0x22*0x17+-0x46d)]/_0x49a3d6*(0x1349+0x1520+-0x1*0x2869+0.5)+(-0x2ba*0x1+-0x2540+0x27fa+0.5))*_0x1d1a3c+(0x4fd*0x2+-0x35*0x33+-0x1*-0x95+0.5))));_0x5c553d[0x5*0x601+0xf74+-0x2d79]=_0x49a3d6,_0x20fa4e[_0x5b86ad*(0x22e8+-0x6*0x4e3+-0x592)+(-0x799+0x2512+-0xf*0x1f7)]=_0x30299b[0x14ad*0x1+0xa11+-0x313*0xa],_0x20fa4e[_0x5b86ad*(-0x23d*-0x1+0xe65+-0x6*0x2c5)+(-0xd11+0xa39*-0x3+0x2bbd)]=_0x494c82[0x1648+0x1*0x2466+-0x2*0x1d57]<<0xfac+-0x10e2+0x14b|_0x494c82[0x7*0xad+-0x2383*0x1+0x1*0x1ec9]<<0x2f*-0x78+0x2382+-0x1*0xd6f|_0x494c82[0xb57*-0x2+0x212f+-0xa7f],_0x20fa4e[_0x5b86ad*(0x26*0x2b+0x3cc+-0x515*0x2)+(-0x1fd8+-0x1*-0x2434+-0x45a)]=_0x494c82[0x2609+-0x45+-0x25c1]<<-0x622*-0x3+-0x1399+-0xa4*-0x2|_0x494c82[0x1c5e+0x5*-0x518+-0x3*0xf6]<<0x7b2+0x2622+-0x2dc9|_0x494c82[-0x1c58+-0x8*-0x26b+0x905],_0x20fa4e[_0x5b86ad*(0x478+0x1*0x162d+0x11*-0x191)+(-0x71*0x21+-0x1*0x17a3+0x2637)]=_0x494c82[0x2680+-0xdde+-0x189c]<<-0x7bf+-0x1*-0xede+-0x70a|_0x494c82[-0x8e3*0x4+0xf*-0x270+0x4823]<<-0x7*0x257+0x13b9+-0xd*0x41|_0x494c82[-0x1195+-0x929+-0x1*-0x1ac6],_0x24ce0f>0x1*0x1675+-0x410+-0x1264&&(_0x4456ce[_0x5b86ad*(0x1f53+-0x6ce*0x4+-0x15d*0x3)+(-0x7*0xbb+0x13f7*0x1+-0xeda)]=_0x494c82[-0x100c+-0x11*-0xc5+-0x8*-0x60]<<0x2*-0x29d+-0x253*0xb+0x1ee0|_0x494c82[0x2*-0xa42+0x1*-0xbac+0x203a]<<-0x2190+-0xe24+-0x1*-0x2fbf|_0x494c82[-0x106*-0x1d+-0x1f25+-0xc1*-0x2],_0x4456ce[_0x5b86ad*(-0x1d38+-0x80c+-0x4*-0x952)+(0x5*0x5a1+-0x1c*0xfd+-0x78)]=_0x494c82[-0x2a8+0x8f*-0x26+0x17ee]<<-0x149a+-0x1168+0x2617|_0x494c82[-0x1f91+0x427*0x1+0x1b77]<<0x1*-0x1535+0x1ff5+-0xab5*0x1|_0x494c82[0x4*-0x962+-0x1*0x19cf+-0x3f65*-0x1],_0x4456ce[_0x5b86ad*(0x63*-0x1d+0x4*0x6e+0x1e7*0x5)+(0x10*0x89+0x1151*-0x2+-0x2*-0xd0a)]=_0x494c82[0x6e1*0x2+-0x1e97+0x10e4]<<0x1b7*-0x1+0x18*-0x199+0x2824|_0x494c82[0x1*0x905+-0x3*-0xb85+0xae1*-0x4]<<-0x277*0x4+-0x21a0+0x2b87|_0x494c82[0x2177+0x7*-0x47f+-0x1ed],_0x4456ce[_0x5b86ad*(0x194c+0x67*0xb+-0xc3*0x27)+(-0x426*-0x2+0x11ac+0x8a7*-0x3)]=_0x494c82[0x1e8f+-0x1d3*-0x4+0x1*-0x25c9]<<-0x171a+-0x2123*0x1+0x3852|_0x494c82[-0xd*0x97+0x1dd5+-0x5*0x46b]<<-0x6*-0x371+-0x4*0xba+-0x11b3|_0x494c82[-0x1ab6+-0x21c3+-0x142f*-0x3],_0x24ce0f>0x49d*0x7+0x1d2*-0x3+-0x1ad3?(_0xfbb239[_0x5b86ad*(-0x587+0x1*0xfc9+0x26*-0x45)+(-0x6fc+0x1*0xd22+0x313*-0x2)]=_0x494c82[0x1f*0xc+0x2301+-0xc2*0x30]<<0x1565+0xccc+0x94*-0x3b|_0x494c82[-0x1e81+-0x1380+0x3217]<<0x622+0xcf9+-0x14*0xf4|_0x494c82[0x1c3a+-0x84*0x7+-0x1887],_0xfbb239[_0x5b86ad*(0x9*-0x121+-0x4*0x2cd+0x1a5*0xd)+(0x1*-0x1e62+-0x97c+0x27df)]=_0x494c82[-0x1c0b*0x1+-0x53e+0x2161]<<-0x1*-0xda9+0x1f55+-0x2ce9|_0x494c82[-0x2*0xb1f+0xf85+0x6d2]<<0x157a+-0x1279*-0x2+-0x3a61|_0x494c82[-0x16e4+0x358*-0xa+0x386e],_0xfbb239[_0x5b86ad*(0x25d9+0x11ff+0x4a7*-0xc)+(0x14e8+0xb34+0xe*-0x24b)]=_0x494c82[0x977*-0x1+-0xf67+0x18f9]<<0xb5*0x7+-0x232a+0x1e4c|_0x494c82[0x3*0x727+-0xca2+0x1*-0x8b7]<<0xa2c+-0x1da9+0x1388|_0x494c82[-0x3d1+-0x25f7*0x1+0x5*0x861],_0xfbb239[_0x5b86ad*(-0x23cd*0x1+-0x1633+0x1*0x3a04)+(-0x1*0x1a42+-0x7c9*-0x4+-0x2b*0x1d)]=_0x494c82[0x15e6+-0x1525+-0xa3]<<-0x1f14+0x1cb2*-0x1+0x1*0x3bdb|_0x494c82[0xea3+0x1041*0x1+-0x1ec5*0x1]<<-0xceb*0x1+-0x8a5+0x159b|_0x494c82[0x2148+0x13f8+-0xaa0*0x5],_0x4c5f70[_0x5b86ad*(0x936*0x3+0x1a22+-0x35c0)+(0x2077+-0xdb1+-0x12c6)]=_0x494c82[0x9e7+-0x1395+0x9cf]<<-0x373*0xa+-0x2119+0x47*0xf4|_0x494c82[0x1391+-0x2258+-0x15b*-0xb]<<0x1033+-0x1*0x171d+0x1*0x6f5|_0x494c82[-0x2061+-0x1*-0x10b6+0xfce],_0x4c5f70[_0x5b86ad*(0x26cb+-0x5d1*0x2+-0x1*0x1b25)+(0x1*-0x1664+0x1aa*-0x1+0x180f)]=_0x494c82[0x3f*-0x4d+-0x17f*0x4+0x7*0x395]<<-0x1bf*0x5+0x18b*-0x13+0x2621|_0x494c82[-0x22d6+-0x2257*0x1+0x3a6*0x13]<<0x1*0xfa1+-0x17fd+0x867|_0x494c82[0x2*-0x51a+-0x13cd*-0x1+-0x973],_0x4c5f70[_0x5b86ad*(0x182a+-0xe5*-0x1+-0x190b)+(-0x2669+-0x19b5+0x30*0x156)]=_0x494c82[-0x6a*-0x3b+0x449*-0x1+-0x13fe]<<-0xf6c*0x2+0x116a+0x481*0x3|_0x494c82[0x251d+-0xe9c+-0x1659]<<0x181a+0x39*0x87+-0x361e|_0x494c82[-0xb05+-0x1623+0x2151],_0x4c5f70[_0x5b86ad*(-0x4*-0x665+-0xae7*-0x1+0x74b*-0x5)+(0x1*0x1e36+-0x1f78+0xd*0x19)]=_0x494c82[0x92a+-0x17b*-0x15+-0x2817]<<-0x918*-0x4+-0x192*0x2+0x2127*-0x1|_0x494c82[0x2*-0xae5+-0x1739+0x2d2e*0x1]<<-0x2335+-0x1*0x1cae+0x3fee|_0x494c82[-0xd0*-0x1c+-0x1037+-0x9*0xb5]):_0xfbb239[_0x5b86ad]=_0x494c82[0x25*-0x2a+-0x44*0x5f+0x1f63]<<0x2f3+-0x1560+0x1282|_0x494c82[0x2*0x94d+-0x16f+0x1115*-0x1]<<-0x1a69+0x1d5b+0x2e7*-0x1|_0x494c82[-0x1d39+-0x1187+0x2ed7]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x20fa4e,'sh4to7Data':_0x4456ce,'sh8to11Data':_0xfbb239,'sh12to15Data':_0x4c5f70},[_0x20fa4e['buffer'],_0x4456ce['buffer'],_0xfbb239['buffer'],_0x4c5f70['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x3e8532=>{if(!this['worker'])return;const {data:_0x431784}=_0x3e8532;switch(_0x431784['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x431784['sh1to3Data'],_0x431784['sh4to7Data'],_0x431784['sh8to11Dat'+'a'],_0x431784['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x415b74,_0x2fb5da,_0x258ffb){var _0x4a09c2;(_0x4a09c2=this['worker'])==null||_0x4a09c2['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x415b74,'shBands':_0x2fb5da,'SHData':_0x258ffb});}['destroy'](){var _0x5a6cb8;this['worker']&&((_0x5a6cb8=this['worker'])==null||_0x5a6cb8['terminate'](),this['worker']=null);}}const U_=(_0x52cbee,_0x2d1cf5)=>{const _0x378d3b=[];for(let _0x5e0eab=-0xfa7*-0x2+0x11*0x21b+0xc1*-0x59;_0x5e0eab<_0x2d1cf5;++_0x5e0eab)_0x378d3b['push'](_0x52cbee['getProp']('f_rest_'+_0x5e0eab));return _0x378d3b;};class V1{constructor(_0x3bcb4f,_0x4ecd22){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0xcc8ab5=_0x4ecd22['numSplats'];this['device']=_0x3bcb4f,this['numSplats']=_0xcc8ab5,this['numSplatsV'+'isible']=_0xcc8ab5,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x4ecd22['numSplats']*(0x3c7*0x1+-0x1*0x39+-0x38b)),this['motion']=new Float32Array(_0x4ecd22['numSplats']*(-0x24ba+0x954+0x1*0x1b69)),this['timeIndex']=new Float32Array(_0x4ecd22['numSplats']),_0x4ecd22['getCenters'](this['centers']),_0x4ecd22['getMotion'](this['motion']),_0x4ecd22['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x4ecd22['getMuT'](this['timeOption']),this['tScale']=_0x4ecd22['getTScale'](),this['is4D']=_0x4ecd22['is4D'],this['aabb']=new _e(),_0x4ecd22['calcAabb'](this['aabb']);const _0x3817e7=this['evalTextur'+'eSize'](_0xcc8ab5);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x3817e7),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x3817e7),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x3817e7),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x3817e7),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x3817e7),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x3817e7)),this['updateColo'+'rData'](_0x4ecd22),this['updateTran'+'sformData'](_0x4ecd22),this['shBands']=_0x4ecd22['shBands'],this['shBands']>0x5*-0x234+-0x16f*-0x2+0xe*0x95&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x3817e7),this['shBands']>0x22d0+0xeb4+0xf*-0x34d&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x3817e7),this['shBands']>-0x1047+-0x2497*-0x1+0x17*-0xe2?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x3817e7),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x3817e7)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x3817e7)),this['updateSHDa'+'ta'](_0x4ecd22));}['updateData'](_0x8366d1){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x258eda=_0x8366d1['numSplats'];this['numSplats']=_0x258eda,this['numSplatsV'+'isible']=_0x258eda,this['centers']=new Float32Array(_0x8366d1['numSplats']*(-0x1*-0x64d+0xc19+0x621*-0x3)),this['motion']=new Float32Array(_0x8366d1['numSplats']*(-0x213a*-0x1+0x19a+-0x1*0x22d1)),this['timeIndex']=new Float32Array(_0x8366d1['numSplats']),_0x8366d1['getCenters'](this['centers']),_0x8366d1['getMotion'](this['motion']),_0x8366d1['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x8366d1['getMuT'](this['timeOption']),this['tScale']=_0x8366d1['getTScale'](),this['is4D']=_0x8366d1['is4D'],this['aabb']=new _e(),_0x8366d1['calcAabb'](this['aabb']);const _0x1013b7=this['evalTextur'+'eSize'](_0x258eda);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x1013b7),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x1013b7),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x1013b7),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x1013b7),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x1013b7),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x1013b7)),this['updateColo'+'rData'](_0x8366d1),this['updateTran'+'sformData'](_0x8366d1),this['shBands']=_0x8366d1['shBands'],this['shBands']>-0x57f+0x11f5+0x5*-0x27e&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x1013b7),this['shBands']>-0x1*-0x1bdf+-0x26+0x1*-0x1bb8&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x1013b7),this['shBands']>0x153+0x26a2+-0x27f3?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x1013b7),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x1013b7)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x1013b7)),this['updateSHDa'+'ta'](_0x8366d1));}['destroy'](){var _0x207d9c,_0x17dab6,_0x7a5449,_0x24ec24,_0xbca631,_0x169564,_0x3f0677,_0x36cc66,_0x88cbbb,_0x3d3b0b;(_0x207d9c=this['colorTextu'+'re'])==null||_0x207d9c['destroy'](),(_0x17dab6=this['transformA'+'Texture'])==null||_0x17dab6['destroy'](),(_0x7a5449=this['transformB'+'Texture'])==null||_0x7a5449['destroy'](),(_0x24ec24=this['transformR'+'Texture'])==null||_0x24ec24['destroy'](),(_0xbca631=this['transformT'+'SpeedTextu'+'re'])==null||_0xbca631['destroy'](),(_0x169564=this['transformT'+'Texture'])==null||_0x169564['destroy'](),(_0x3f0677=this['sh1to3Text'+'ure'])==null||_0x3f0677['destroy'](),(_0x36cc66=this['sh4to7Text'+'ure'])==null||_0x36cc66['destroy'](),(_0x88cbbb=this['sh8to11Tex'+'ture'])==null||_0x88cbbb['destroy'](),(_0x3d3b0b=this['sh12to15Te'+'xture'])==null||_0x3d3b0b['destroy']();}['createMate'+'rial'](_0x306bd4){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x10a834=z0(_0x306bd4);return _0x10a834['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x10a834['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x10a834['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x10a834['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x10a834['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x10a834['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x10a834['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x10a834['setDefine']('SH_BANDS',this['shBands']),_0x10a834['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x10a834['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x10a834['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x10a834['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x10a834['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x10a834;}['evalTextur'+'eSize'](_0x164316){const _0x5bd52f=Math['ceil'](Math['sqrt'](_0x164316)),_0x422ee6=Math['ceil'](_0x164316/_0x5bd52f);return new W(_0x5bd52f,_0x422ee6);}['createText'+'ure'](_0x564f01,_0x2efd05,_0x4583f6){return new he(this['device'],{'name':_0x564f01,'width':_0x4583f6['x'],'height':_0x4583f6['y'],'format':_0x2efd05,'cubemap':!(0x2414+-0x2*-0x3fb+0x1*-0x2c09),'mipmaps':!(0x3*-0xb55+0x14*0x169+0x7*0xd4),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x131f00){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x35654e=this['colorTextu'+'re'];if(!_0x35654e)return;const _0x39cf46=Wt['float2Half'],_0x2f21ce=_0x35654e['lock'](),_0xbeceb3=_0x131f00['getProp']('f_dc_0'),_0x53c500=_0x131f00['getProp']('f_dc_1'),_0x9f8cfb=_0x131f00['getProp']('f_dc_2'),_0x138b28=_0x131f00['getProp']('opacity'),_0x375dd0=-0x8*-0x2f3+0x1*0x21b8+-0x3950+0.28209479177387814;for(let _0x27723f=0x987+-0x29*-0x95+-0x2164;_0x27723f<this['numSplats'];++_0x27723f){const _0x519ae6=_0xbeceb3[_0x27723f]*_0x375dd0+(-0xc30+0xa*-0x1b7+0xeab*0x2+0.5),_0x1cf97c=_0x53c500[_0x27723f]*_0x375dd0+(0x2506*0x1+0x49e*0x1+0x334*-0xd+0.5),_0x2c5d5d=_0x9f8cfb[_0x27723f]*_0x375dd0+(0xfa8+-0x15e3+0x13f*0x5+0.5),_0x4f652b=(-0x1558+0x1f*0x28+-0x1081*-0x1)/(0x189a+-0x981*-0x2+0x3*-0xe89+Math['exp'](-_0x138b28[_0x27723f]));_0x2f21ce[_0x27723f*(0x1d9c+-0xc4c*0x1+-0x24*0x7b)+(0x23da+0x1e7f+-0x4259)]=_0x39cf46(_0x519ae6),_0x2f21ce[_0x27723f*(0xa85+-0x17*-0x2d+-0xe8c)+(-0xff*0x23+0x1*0x176e+0xb70)]=_0x39cf46(_0x1cf97c),_0x2f21ce[_0x27723f*(0x1*-0x1759+-0x7d4*0x1+0x1f31*0x1)+(0x1*-0x1921+0x222a+0x1*-0x907)]=_0x39cf46(_0x2c5d5d),_0x2f21ce[_0x27723f*(-0x1a05*-0x1+-0x18c0+-0x141)+(-0x167f*0x1+0x2*-0x826+0x26ce)]=_0x39cf46(_0x4f652b);}_0x35654e['unlock']();}['updateTran'+'sformData'](_0x1c0f13){var _0x55f03e,_0x30fc42,_0xd62c42,_0x32de39;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0xb1215a=Wt['float2Half'];if(!this['transformA'+'Texture'])return;const _0x2fe9c3=this['transformA'+'Texture']['lock'](),_0x412b24=new Float32Array(_0x2fe9c3['buffer']),_0x3abd26=this['transformR'+'Texture']['lock'](),_0x3106a6=new Float32Array(_0x3abd26['buffer']),_0x1d1caa=this['transformB'+'Texture']['lock'](),_0x8cf9dd=(_0x55f03e=this['transformT'+'SpeedTextu'+'re'])==null?void(-0x1051+-0x8d5+0x1926):_0x55f03e['lock']();let _0x4c752a;_0x8cf9dd&&(_0x4c752a=new Float32Array(_0x8cf9dd['buffer']));const _0x3421cc=(_0x30fc42=this['transformT'+'Texture'])==null?void(0x209b+0x523+0x25be*-0x1):_0x30fc42['lock']();let _0x3eaa8f;_0x3421cc&&(_0x3eaa8f=new Float32Array(_0x3421cc['buffer']));const _0x4c1469=new T(),_0xecadd=new se(),_0x306614=new T(),_0x4716c9=new T(),_0x1aab7d=_0x1c0f13['createIter'](_0x4c1469,_0xecadd,_0x306614,null,_0x4716c9),_0x30907f=_0x1c0f13['getProp']('t'),_0x42f091=_0x1c0f13['getProp']('t_scale');for(let _0x473ac0=0x20fa+0x7b4+-0x28ae;_0x473ac0<this['numSplats'];_0x473ac0++)_0x1aab7d['read'](_0x473ac0),_0xecadd['normalize'](),_0xecadd['w']<0x6*-0x277+-0x1991+0x285b&&_0xecadd['mulScalar'](-(-0x2*-0xf86+0x2*-0x7+-0x1efd*0x1)),_0x412b24[_0x473ac0*(-0x164b+-0xa*0x1ca+-0x2833*-0x1)+(0x105c+0x8db*0x1+-0x5*0x50b)]=_0x4c1469['x'],_0x412b24[_0x473ac0*(0x638+0x16b+0x79f*-0x1)+(0xf*0x9d+0x61b+-0xf4d)]=_0x4c1469['y'],_0x412b24[_0x473ac0*(-0x3d7*0x8+-0x1c3a+0x3af6)+(0x236c+0x1758+-0x3ac2)]=_0x4c1469['z'],_0x1d1caa[_0x473ac0*(0xebf+0x2644+-0x34ff)+(-0x1662+-0x1668+0x2cca)]=_0xb1215a(_0x306614['x']),_0x1d1caa[_0x473ac0*(-0x14bf+0x2*-0x67e+-0x1*-0x21bf)+(-0x2139+0x5f3+0x1b47)]=_0xb1215a(_0x306614['y']),_0x1d1caa[_0x473ac0*(-0x299+-0x2ee*0x1+0x58b)+(-0x56b*-0x6+-0x4*0x53e+-0x48*0x29)]=_0xb1215a(_0x306614['z']),_0x3106a6[_0x473ac0*(0x1122+0x111c+-0x223a)+(0x4b*0x4f+-0x20cf+-0x2*-0x4d5)]=_0xecadd['x'],_0x3106a6[_0x473ac0*(-0x9*-0x39+-0xa68+-0x1af*-0x5)+(0x1*0x1c85+0xb81+-0x2805)]=_0xecadd['y'],_0x3106a6[_0x473ac0*(0x530+-0x5b*0x22+-0xf*-0x76)+(-0x116f+0xb40+-0x13d*-0x5)]=_0xecadd['z'],this['is4D']&&_0x4c752a&&_0x3eaa8f&&(_0x4c752a[_0x473ac0*(-0x18e8+-0x12ec+-0x2bd8*-0x1)+(0xac4+-0x1*-0x20d9+0x37*-0xcb)]=_0x4716c9['x'],_0x4c752a[_0x473ac0*(-0x29*-0x40+-0x264a+0x15*0x156)+(-0x162e*-0x1+-0x1*-0xedb+-0x2508)]=_0x4716c9['y'],_0x4c752a[_0x473ac0*(-0x1*-0xe6f+-0x1896+0xa2b)+(-0x11f8+-0x16bc+0x28b6)]=_0x4716c9['z'],_0x3eaa8f[_0x473ac0*(0x1*0x9f4+0x1*-0x21ff+-0x1*-0x180f)+(-0x1393+0xf82*0x1+-0x3*-0x15b)]=_0x30907f?_0x30907f[_0x473ac0]:-0x418+0x12*-0x61+-0xb*-0xfe,_0x3eaa8f[_0x473ac0*(0x1871+0x255e+-0x3dcb)+(-0x274*-0xa+-0xf66+-0x921)]=_0x42f091?Math['exp'](_0x42f091[_0x473ac0]):-0x91d+-0x5cd+-0x2*-0x775);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0xd62c42=this['transformT'+'SpeedTextu'+'re'])==null||_0xd62c42['unlock'](),(_0x32de39=this['transformT'+'Texture'])==null||_0x32de39['unlock']();}['updateSHDa'+'ta'](_0x29f162){var _0x16bbdb,_0x895e8b,_0x31e2b9,_0x4303ab,_0x254ca1,_0x5968b6,_0x1902f5;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x5b1f63=(_0x16bbdb=this['sh1to3Text'+'ure'])==null?void(-0x2689+0x22c8+0x3c1):_0x16bbdb['lock'](),_0x331a77=(_0x895e8b=this['sh4to7Text'+'ure'])==null?void(0x259+-0x28*0xd+-0x51):_0x895e8b['lock'](),_0x12af6a=(_0x31e2b9=this['sh8to11Tex'+'ture'])==null?void(0x64b+-0x1*0x247c+0x1e31):_0x31e2b9['lock'](),_0x39c2dd=(_0x4303ab=this['sh12to15Te'+'xture'])==null?void(0xa9e+0x1c78+-0x2716):_0x4303ab['lock'](),_0x5e4cf5={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x1ad0d3=U_(_0x29f162,_0x5e4cf5*(0x49*-0x80+0x20e2+0x3a1*0x1)),_0x27653c=-0x2*0x1375+0x8a+-0x9*-0x527,_0x5386e7=-0x2056+-0xee7+0x333c,_0x1473ec=new Float32Array(-0x8*-0x282+-0xe48+-0x5c7),_0x817424=new Uint32Array(_0x1473ec['buffer']),_0x5317ac=new Array(_0x5e4cf5*(-0x1617+0x80a+0xe10))['fill'](-0x1dfa+-0x4c7*-0x3+0xfa5);for(let _0x1df55e=0x196a+0x4c1*0x3+0x7*-0x5ab;_0x1df55e<_0x29f162['numSplats'];++_0x1df55e){for(let _0x57e699=0x10*-0xd9+0x1235*0x2+0x79e*-0x3;_0x57e699<_0x5e4cf5;++_0x57e699)_0x5317ac[_0x57e699*(-0xfb0*0x1+-0x7b1+0x1764)]=_0x1ad0d3[_0x57e699][_0x1df55e],_0x5317ac[_0x57e699*(0xc*-0xe5+-0x165a+0x2119)+(0x1c99*0x1+0x3*-0x1e2+-0x16f2)]=_0x1ad0d3[_0x57e699+_0x5e4cf5][_0x1df55e],_0x5317ac[_0x57e699*(-0x1413+-0x2*0xa09+0x2*0x1414)+(0x22a8*-0x1+0x4d*0x5e+-0x199*-0x4)]=_0x1ad0d3[_0x57e699+_0x5e4cf5*(-0x1ce4+-0x59*0x10+0x2276)][_0x1df55e];let _0x51d474=_0x5317ac[-0x1*-0x8f5+0x23c9*0x1+-0x2cbe];for(let _0x179deb=-0x1301+-0x22df+-0x1*-0x35e1;_0x179deb<_0x5e4cf5*(0x65f*-0x1+0x89c+-0x23a);++_0x179deb)_0x51d474=Math['max'](_0x51d474,Math['abs'](_0x5317ac[_0x179deb]));if(_0x51d474!==0x82b+0xa58*0x1+-0x1283){for(let _0x803425=0x1471*-0x1+-0x3+0x2ec*0x7;_0x803425<_0x5e4cf5;++_0x803425)_0x5317ac[_0x803425*(0xc5*-0x16+0x2ff*0x7+-0x408)+(0xeb7*-0x2+-0x1b12+0x3880)]=Math['max'](0x147e+0x1*0x167b+-0x243*0x13,Math['min'](_0x27653c,Math['floor']((_0x5317ac[_0x803425*(-0x185*-0x8+-0x20*0x12e+0x13*0x159)+(0x114b*-0x2+0x215a+0x4*0x4f)]/_0x51d474*(0x1*-0x9f7+-0x21b5+0x35c*0xd+0.5)+(-0x8d*0xb+-0x17*-0xec+0x1*-0xf25+0.5))*_0x27653c+(-0x16b4+0x12d1*-0x1+0x2985+0.5)))),_0x5317ac[_0x803425*(0x29*0xb8+0x12fa+-0x306f)+(0x14*0x136+0x150c+-0x1*0x2d43)]=Math['max'](0x2356+0x9b2*-0x3+-0x640,Math['min'](_0x5386e7,Math['floor']((_0x5317ac[_0x803425*(0x16e9+0xb*-0x293+0x56b)+(0xa2f+0x4e*-0x65+0x1498)]/_0x51d474*(0x128b+-0x1ced*0x1+0xa62*0x1+0.5)+(-0x1664+-0x19df+0x3043+0.5))*_0x5386e7+(-0x293*0x4+0x1*-0x1246+0x1c92+0.5)))),_0x5317ac[_0x803425*(-0x7a3+0x3*0x407+-0x46f)+(-0x1caa+-0x521+0x21cd)]=Math['max'](-0x1508+0x1259+-0x1*-0x2af,Math['min'](_0x27653c,Math['floor']((_0x5317ac[_0x803425*(-0x4f*0x79+-0x1f*-0xef+0x1*0x869)+(0x1*0x15dd+-0x3*0x4a7+0x1*-0x7e6)]/_0x51d474*(0x5f8+0xf6+-0x6ee+0.5)+(-0x18de+0x12*0x75+0x10a4+0.5))*_0x27653c+(-0x5*-0x191+-0x1a*-0xaf+0x5f*-0x45+0.5))));_0x1473ec[-0xa26+-0x3a5+0xdcb]=_0x51d474,_0x5b1f63[_0x1df55e*(0xa4c+-0x1908+0xec0)+(0x35*-0x9d+0x10f1*-0x1+0x3172)]=_0x817424[0xe*-0x1c1+0x13ad+0x1*0x4e1],_0x5b1f63[_0x1df55e*(-0x2*0x266+-0x14*0x1de+0x2a28*0x1)+(-0xb*-0x25b+-0xcf5*-0x1+-0x26dd*0x1)]=_0x5317ac[-0x985+0x10d0+-0x74b*0x1]<<0x21f2+-0xe51+0x1*-0x138c|_0x5317ac[0xbcb*-0x3+-0x105a+-0x25a*-0x16]<<-0xbd6+0x1aa0+-0xebf|_0x5317ac[-0x10d7*-0x1+0x1d3c+-0x2e11*0x1],_0x5b1f63[_0x1df55e*(0x5e4+-0x12*0xf7+0xb7e)+(0x3*-0x774+-0x197d+0x2fdb*0x1)]=_0x5317ac[0x1*-0x1d6b+0x924*0x1+-0x173*-0xe]<<0x785*0x5+0x20c6+-0x464a|_0x5317ac[-0x37*0x32+-0x1c10+0x1*0x26d2]<<0x10*0x86+-0x614+-0x241|_0x5317ac[0xe9*0x1+-0x3*0x416+0xb5e],_0x5b1f63[_0x1df55e*(-0x101b+-0xb5a+0x1b79*0x1)+(-0x14b0+-0x42*-0x36+-0x1*-0x6c7)]=_0x5317ac[0x101d+0x1*0x17c7+-0x27de]<<-0xd*0x187+-0x2297+0x3687|_0x5317ac[-0x4db*0x1+-0x672+0xb54]<<-0x240b*0x1+-0x8e9+-0x2cff*-0x1|_0x5317ac[0x1f6f+-0x9a5*0x1+-0x15c2],this['shBands']>-0xe66+-0x4ab*-0x5+-0xb0*0xd&&(_0x331a77[_0x1df55e*(-0x25*0x76+0x5*-0xac+0x146e)+(-0xdfb+0x15ce+-0x7d3)]=_0x5317ac[-0x842*-0x1+0x1*0x219b+0xa75*-0x4]<<0x164+0x5*-0x719+-0x222e*-0x1|_0x5317ac[0x1911+-0xce7+-0xc20]<<0xb1b*0x2+-0x38*0x16+-0x115b|_0x5317ac[-0xf9*0x1f+-0x23cc*0x1+-0x41fe*-0x1],_0x331a77[_0x1df55e*(0x153b+-0x829+-0x6*0x22d)+(-0x20*0x11f+-0x5*0x40d+0x3822)]=_0x5317ac[-0x431*0x5+0x1de0+-0x8df]<<0x16fe*-0x1+0x2393+-0xc80|_0x5317ac[0x1277+0x216f+-0x33d9]<<-0x1005+0x1aae+-0xa9e|_0x5317ac[0x1*0xe4e+-0x1*0x449+-0x9f7],_0x331a77[_0x1df55e*(-0x22d2+0xe59+-0x1*-0x147d)+(-0x7c4+0x3c1+0x7*0x93)]=_0x5317ac[0x1a60+-0x205*-0x9+0x11*-0x29e]<<-0x2*0x4cd+0x525*0x3+0xb8*-0x8|_0x5317ac[-0x941+0x2b*-0x6a+0x35*0x83]<<0x1595+-0xdba+-0x64*0x14|_0x5317ac[-0x2b4+0x1091*0x1+0x6e6*-0x2],_0x331a77[_0x1df55e*(-0x1*-0x238d+-0x1*0x1ad5+-0x8b4)+(-0x10b1+0x1*-0xee7+-0x3*-0xa89)]=_0x5317ac[0x14e1+0x20c6+-0x2b*0x13f]<<-0x148e+0xe*-0x208+0x3113|_0x5317ac[-0x1ca+0x1f74+0x5eb*-0x5]<<0x1*0x26d9+0x197d+-0x1*0x404b|_0x5317ac[0x1*0x1777+0x2362+0x11*-0x375],this['shBands']>0x1*0x1123+-0x265*-0x4+-0x1ab5?(_0x12af6a[_0x1df55e*(-0x1b50+-0x651+-0x63*-0x57)+(0x223*-0x1+0x11*-0xd+-0x10*-0x30)]=_0x5317ac[0x1*0xc46+-0x1f30+0x12ff]<<0xe23+-0x1*-0x907+-0x137*0x13|_0x5317ac[0x1*0xa21+0xbbe+-0x15c9]<<0x1*-0x210c+-0x589+-0x30*-0xce|_0x5317ac[-0x2e*-0x44+-0x1c1c*-0x1+-0x283d],_0x12af6a[_0x1df55e*(0x874+0x1413+-0x1c83)+(-0x26e9+-0x925*-0x4+0x256)]=_0x5317ac[-0x16e5+0x1825+-0x128]<<-0x10*0x121+-0x133*0x2+0x148b|_0x5317ac[-0xd*0x264+-0x1*0x1f71+0xe*0x479]<<0x1554+0xbec+0x2135*-0x1|_0x5317ac[0xf7c+-0x1*0xd2b+-0x1*0x237],_0x12af6a[_0x1df55e*(0x51+-0x7d+0x30*0x1)+(-0x28*-0x5+-0x13e9+0x1323)]=_0x5317ac[-0x1*-0x527+0x1501+-0x1a0d]<<0x1ee5+0x7*-0x149+-0x15d1|_0x5317ac[-0x7*-0x2cd+-0x7d3+0x12*-0xa6]<<0xd8b+-0x984+-0x3fc|_0x5317ac[0x8a*-0xf+0x1e*0x75+0x11*-0x53],_0x12af6a[_0x1df55e*(0x3c*-0xb+-0xd*-0x1a5+-0x12c9*0x1)+(0x19ca+-0x1*0x1949+0x15*-0x6)]=_0x5317ac[0x123*-0x11+0x1453+-0xe2]<<-0x1f0b*-0x1+-0xaf3*-0x3+0x717*-0x9|_0x5317ac[-0x22*0xd6+0x1*0x124c+0x3d*0x2b]<<0xfa3*-0x1+0x14d1+-0x1*0x523|_0x5317ac[0x1*0x1ff3+-0x1863+-0x770],_0x39c2dd[_0x1df55e*(-0x22f2+0xf26+0x13d0)+(-0xd7+-0x1b99+-0x1c*-0x104)]=_0x5317ac[-0x115c+-0x118b+-0xec*-0x26]<<-0xae6+-0x1d*-0x16+0x87d|_0x5317ac[-0xb2*0x5+-0x7a*0xb+-0x2*-0x46d]<<-0x1885*-0x1+0x5d5+0x1e4f*-0x1|_0x5317ac[-0x1c86+0x1*-0x1bb6+0x1*0x385f],_0x39c2dd[_0x1df55e*(0x1865*0x1+0x2*0xab5+-0x2dcb)+(0x58b+-0x371+-0x219)]=_0x5317ac[0x13b2+-0x1c80+-0x8f2*-0x1]<<-0x1*-0x1dcd+-0x1*-0x23bf+-0x4177|_0x5317ac[-0x174e+0x1cd+0x15a6]<<-0x244e+0x1422+0x1037|_0x5317ac[-0x13f+-0x177b+0x18e0],_0x39c2dd[_0x1df55e*(0x1*0x1829+0x1*-0x19c3+-0x19e*-0x1)+(-0x68f*-0x5+0x4b4+-0x257d)]=_0x5317ac[-0x1d21+0x2348+0x1*-0x600]<<0x75d*-0x2+-0xddf+-0x2*-0xe57|_0x5317ac[-0x756+-0x1bd1+-0x234f*-0x1]<<0xbaa*-0x2+0x3be+0x19*0xc9|_0x5317ac[0x1ba*0x2+-0x1e93+0x1b48],_0x39c2dd[_0x1df55e*(0x1*0x9d0+-0x135d+0x4f*0x1f)+(0x2*-0x1279+-0x6fc*-0x1+0x1*0x1df9)]=_0x5317ac[-0x1424+-0x38b*0xa+0x29*0x15c]<<0x23c+-0x24c9+0x11e*0x1f|_0x5317ac[0x233b+0xc7e+-0x7ed*0x6]<<-0x379+-0x94*0x5+0x668|_0x5317ac[0x7d9+-0xcbb+0x50e]):_0x12af6a[_0x1df55e]=_0x5317ac[-0x18f2+0x20e6+-0x41*0x1f]<<0x1c8a*0x1+-0x20*0x58+-0x1175|_0x5317ac[-0x7fb*-0x4+0x1*0x147f+-0x3455]<<-0x1bb*-0x2+0x152d+-0x1898|_0x5317ac[-0x2246+0x2068+0xa7*0x3]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x254ca1=this['sh4to7Text'+'ure'])==null||_0x254ca1['unlock'](),(_0x5968b6=this['sh8to11Tex'+'ture'])==null||_0x5968b6['unlock'](),(_0x1902f5=this['sh12to15Te'+'xture'])==null||_0x1902f5['unlock']();}['updateSHDa'+'taByWorker'](_0x4e0cde){const _0x24247c={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x1d1c62=U_(_0x4e0cde,_0x24247c*(0x1ead*-0x1+0x1c51+0x25f));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x4e0cde['numSplats'],this['shBands'],_0x1d1c62),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x36f2a2,_0x26e736,_0x37fa69,_0x1640d1)=>{var _0x234101,_0x4b6240,_0x304780,_0x3463cc,_0x55539a,_0x3bcf2c,_0x57cdd0,_0x13e12a,_0x28825b,_0x16bf2f;const _0x559b24=(_0x234101=this['sh1to3Text'+'ure'])==null?void(-0x71a+-0x812+0xf2c):_0x234101['lock']();if(new Uint32Array(_0x559b24['buffer'])['set'](_0x36f2a2),(_0x4b6240=this['sh1to3Text'+'ure'])==null||_0x4b6240['unlock'](),this['shBands']>0x1b69+-0x1d45*-0x1+-0x38ad){const _0x3568d4=(_0x304780=this['sh4to7Text'+'ure'])==null?void(0x1*-0x18b1+-0x20e8+0x3999):_0x304780['lock']();if(new Uint32Array(_0x3568d4['buffer'])['set'](_0x26e736),(_0x3463cc=this['sh4to7Text'+'ure'])==null||_0x3463cc['unlock'](),this['shBands']>0x25b1+0x3d6*0x4+-0x4b*0xb5){const _0x362c7e=(_0x55539a=this['sh8to11Tex'+'ture'])==null?void(-0x1*0x20f2+-0x1f49+0x237*0x1d):_0x55539a['lock']();new Uint32Array(_0x362c7e['buffer'])['set'](_0x37fa69),(_0x3bcf2c=this['sh8to11Tex'+'ture'])==null||_0x3bcf2c['unlock']();const _0x577b4f=(_0x57cdd0=this['sh12to15Te'+'xture'])==null?void(-0x10f6+0x484*0x8+-0x132a):_0x57cdd0['lock']();new Uint32Array(_0x577b4f['buffer'])['set'](_0x1640d1),(_0x13e12a=this['sh12to15Te'+'xture'])==null||_0x13e12a['unlock']();}else{const _0x328638=(_0x28825b=this['sh8to11Tex'+'ture'])==null?void(0x201f*-0x1+0xb0e+0x1511):_0x28825b['lock']();new Uint32Array(_0x328638['buffer'])['set'](_0x37fa69),(_0x16bf2f=this['sh8to11Tex'+'ture'])==null||_0x16bf2f['unlock']();}}});}}async function G1(){let _0x53688f=null,_0x29eae5=null,_0x3c41c4=null,_0xc9b845=null,_0x47172e=null,_0x5efed5=null,_0x179635=null,_0x49f950=null,_0xc7d07b=null,_0x31184c=null,_0x3f03a1=null,_0x2e894d=null,_0x2d4403=null,_0x58e189=null,_0x1c3714=null,_0x3ad466=null,_0x467cf=null,_0x601d49=null,_0x3c24c9=null,_0x2d95ad=null,_0x53c3e8=null,_0x10c888=null,_0x14800d=null,_0x4e33bd=null,_0x4fe20d=null,_0x14c286=Float32Array['BYTES_PER_'+'ELEMENT'],_0x11679b=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x1153ea=-0x1e61+0x246d+-0x60c,_0x3cb946=!(-0x7*-0xdf+-0x1*0x255d+0x1f44),_0x4efdf8,_0x1cf964,_0x215cc0={'x':0x0,'y':0x0,'z':0x0},_0x24f42b={'x':0x0,'y':0x0,'z':0x0},_0x32ab45=!(0x143d+-0x7a7+-0x1*0xc96),_0x147506=!(0x22d*0x4+0x169*0x6+-0x17*0xbf),_0x217a00=!(0x898+0x1*0xe09+-0x16a0),_0x2316b9=0x1c1*-0x6+0x102+0x984,_0x5e17ab=0x1*-0x91e+0x4*-0x757+0x267a,_0x10a7a4=!(0x77*0x11+-0xd*-0x4c+-0xbc2),_0x265329=null;self['onmessage']=async _0x29cf66=>{const {data:_0x57da13}=_0x29cf66;switch(_0x57da13['type']){case'initWorker':_0x1153ea=_0x57da13['numSplats'],_0x492fe6(),_0x3cb946=_0x57da13['is4d'],await _0x2fbb46(_0x57da13['sortWasmUr'+'l']),_0x255f67(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x57da13['dataReady']){if(_0x5efed5&&_0x57da13['centers']&&_0x5efed5['length']===_0x57da13['centers']['length']){const _0x49087f=new Float32Array(_0x57da13['centers']);_0x5efed5['set'](_0x49087f);}if(_0xc7d07b&&_0x57da13['timeIndex']&&_0xc7d07b['length']===_0x57da13['timeIndex']['length']){const _0x3a151d=new Uint32Array(_0x57da13['timeIndex']);_0xc7d07b['set'](_0x3a151d);}if(_0x2e894d&&_0x57da13['motion']&&_0x2e894d['length']===_0x57da13['motion']['length']){const _0x36a4a4=new Float32Array(_0x57da13['motion']);_0x2e894d['set'](_0x36a4a4);}if(_0x3cb946&&_0x31184c&&_0x3f03a1&&_0x57da13['muT']&&_0x57da13['tScale']&&_0x31184c['length']===_0x57da13['muT']['length']&&_0x3f03a1['length']===_0x57da13['tScale']['length']&&(_0x31184c['set'](_0x57da13['muT']),_0x3f03a1['set'](_0x57da13['tScale'])),_0x179635){for(let _0x435e25=-0x8ea+-0x117f+0x1a69;_0x435e25<_0x179635['length'];++_0x435e25)_0x179635[_0x435e25]=_0x435e25;}_0x47172e&&_0x57da13['timeOption']&&_0x47172e['set'](_0x57da13['timeOption']),setTimeout(()=>{_0xe84e4d();},0x8d3+0x577+-0xe4a);}break;case'setTime':_0x4efdf8=_0x57da13['time'],_0x318646();break;case'setUseTemp'+'oralSort':_0x32ab45=_0x57da13['useTempora'+'lSort'];break;case'sort':if(!_0x3c41c4)return;_0x3c41c4[-0xd3*0x25+0x2512+-0x693]=_0x57da13['cameraPosi'+'tion']['x'],_0x3c41c4[-0xc70+-0xe68+0x57*0x4f]=_0x57da13['cameraPosi'+'tion']['y'],_0x3c41c4[-0x28f+-0x244+0x4d5]=_0x57da13['cameraPosi'+'tion']['z'],_0xc9b845[-0xe56+0x1*0x34e+-0x2*-0x584]=_0x57da13['cameraDire'+'ction']['x'],_0xc9b845[0x1c83*-0x1+-0x45*-0x20+-0x43*-0x4c]=_0x57da13['cameraDire'+'ction']['y'],_0xc9b845[0xc42+0x3*-0xa97+-0x13*-0x107]=_0x57da13['cameraDire'+'ction']['z'],_0x318646();break;}};const _0x318646=()=>{_0x265329&&clearTimeout(_0x265329),_0x265329=setTimeout(()=>{_0x265329=null,_0x16b211();},-0x22a3*-0x1+-0x592*0x1+-0x1d11);},_0x492fe6=()=>{_0x5e17ab=Math['max'](0x23b4+0x128f+-0x3639,Math['min'](-0x7d7+-0x14ea+0x1cd5,Math['round'](Math['log2'](_0x1153ea/(-0x89*0x27+0x195b+-0x478))))),_0x2316b9=(-0x1448+0x1b98*-0x1+0xff6*0x3)**_0x5e17ab+(0x866+0xc*0x281+-0x2f5*0xd);},_0x255f67=()=>(_0x2d4403=0x1*0x167d+-0xf*0x1d5+-0x4fe*-0x1,_0x58e189=_0x2d4403+_0x1153ea*_0x14c286*(-0xa2c+-0x1ef1+0x10*0x292),_0x3c24c9=_0x58e189+(0x1248+0xa84*-0x1+0x760*-0x1)*_0x14c286*(-0xb11+-0x1b45+0x2658),_0x2d95ad=_0x3c24c9+_0x1153ea*_0x11679b,_0x53c3e8=_0x2d95ad+(0x2402+0x26e3+-0x4ae2)*_0x14c286,_0x10c888=_0x53c3e8+(-0x884+-0x3*0x101+-0xd3*-0xe)*_0x14c286,_0x14800d=_0x10c888+(-0x8aa*0x3+0x1*-0x1717+0x3118)*_0x14c286,_0x4e33bd=_0x14800d+(-0x626+0x1*0x1551+-0xf28*0x1)*_0x14c286,_0x4fe20d=_0x4e33bd+_0x1153ea*_0x11679b,_0x5efed5=new Float32Array(_0x29eae5,_0x2d4403,_0x1153ea*(-0x8c1*0x1+0x43*0x43+-0x8c5*0x1)),_0x47172e=new Float32Array(_0x29eae5,_0x58e189,(-0x25a4+0x1582+-0x9*-0x1d6)*(0x1d1e+-0x257d+0x861)),_0x179635=new Uint32Array(_0x29eae5,_0x3c24c9,_0x1153ea),_0x49f950=new Uint32Array(_0x179635),_0x3c41c4=new Float32Array(_0x29eae5,_0x2d95ad,0x55*0x3d+0xe23+0x2a5*-0xd),_0xc9b845=new Float32Array(_0x29eae5,_0x53c3e8,-0x259f*-0x1+-0x5a7+-0x1ff5),_0x3cb946&&(_0x467cf=_0x4fe20d+_0x2316b9*_0x11679b,_0x601d49=_0x467cf+_0x1153ea*_0x14c286,_0x3ad466=_0x601d49+_0x1153ea*_0x14c286,_0x1c3714=_0x3ad466+_0x1153ea*(-0x1bf*-0x3+0x1*0x1ce1+-0x221b)*_0x14c286,_0x31184c=new Float32Array(_0x29eae5,_0x467cf,_0x1153ea),_0x3f03a1=new Float32Array(_0x29eae5,_0x601d49,_0x1153ea),_0x2e894d=new Float32Array(_0x29eae5,_0x3ad466,_0x1153ea*(0x33+0x1*-0x81+0x51)),_0xc7d07b=new Uint32Array(_0x29eae5,_0x1c3714,_0x1153ea)),{'sharedMemory':_0x29eae5,'layout':{'timeOptionPtr':_0x58e189,'timeIndexPtr':_0x1c3714,'centersPtr':_0x2d4403,'motionPtr':_0x3ad466,'muTPtr':_0x467cf,'tScalePtr':_0x601d49,'orderPtr':_0x3c24c9,'cameraPositionPtr':_0x2d95ad,'cameraDirectionPtr':_0x53c3e8,'boundMinPtr':_0x10c888,'boundMaxPtr':_0x14800d,'distancesPtr':_0x4e33bd,'countBufferPtr':_0x4fe20d}}),_0x2fbb46=async _0x4e7eef=>{let _0x582776=_0x1153ea*_0x14c286*(-0x994*-0x4+-0x2*-0x10fd+-0x1*0x4847);_0x582776+=_0x1153ea*_0x11679b,_0x582776+=(-0x1598+-0x1db0+-0x1119*-0x3)*_0x14c286,_0x582776+=(-0xfc1+-0x44d+0x1411)*_0x14c286,_0x582776+=(-0x88e+-0x1*-0x16a7+-0x2*0x70b)*_0x14c286,_0x582776+=(0xb*0x101+0x2*-0x1a6+-0x7bc)*_0x14c286,_0x582776+=_0x1153ea*_0x14c286,_0x582776+=_0x2316b9*_0x11679b,_0x582776+=(-0xd5*-0xa+-0x1c35+-0x1*-0x1447)*_0x14c286*(-0x10a8+-0x1*0x463+-0x13d*-0x11),_0x582776+=_0x1153ea*_0x11679b,_0x3cb946&&(_0x582776+=_0x1153ea*_0x14c286,_0x582776+=_0x1153ea*_0x14c286,_0x582776+=_0x1153ea*_0x14c286*(-0x209a+-0x15ae+0x364b*0x1));const _0x5a8d03=(-0x1a02+-0x8*-0x260+-0x1*-0x742)*(0x44c*0x7+-0x4d+-0x19c7),_0x187fbc=Math['ceil'](_0x582776/_0x5a8d03),_0x5cac63={'env':{'memory':new WebAssembly['Memory']({'initial':_0x187fbc,'maximum':_0x187fbc,'shared':!(-0x1*-0x1bd+0x299*-0x2+-0x3b*-0xf)}),'pthread_self':function(){return-0x2283+-0x240d+-0x4*-0x11a4;},'emscripten_builtin_memalign':function(){return-0xdac+0x4e6*-0x2+0x1778;},'loggerVec3':(_0x13c0dc,_0x1c99fb,_0x296221,_0x117026)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x13c0dc+']\x200:'+_0x1c99fb+'\x201:'+_0x296221+'\x202:'+_0x117026);},'loggerFloat':(_0x46c816,_0xf43b57)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x46c816+']\x20a:'+_0xf43b57);},'loggerValue':(_0x50fc5d,_0x5506c2,_0x453ec2,_0x18eed4,_0x271520)=>{console['log']('C++\x20logger'+'Value\x20['+_0x50fc5d+']\x20minDist:'+_0x5506c2+'\x20maxDist:'+_0x453ec2+'\x20range:'+_0x18eed4+'\x20divider:'+_0x271520);},'loggerCamera':(_0x39c0d0,_0x3a883a,_0x39ee18,_0x3f1616,_0x505644,_0x34ea76,_0x428952)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x39c0d0+']\x20x:'+_0x3a883a+'\x20y:'+_0x39ee18+'\x20z:'+_0x3f1616+'\x20dx:'+_0x505644+'\x20dy:'+_0x34ea76+'\x20dz:'+_0x428952);},'loggerBound':(_0x35aaaa,_0x1dfb00,_0x1979af,_0x54f9be,_0x14dd10,_0x4eca33)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x35aaaa+'\x20minY:'+_0x1dfb00+'\x20minZ:'+_0x1979af+'\x20maxX:'+_0x54f9be+'\x20maxY:'+_0x14dd10+'\x20maxZ:'+_0x4eca33);},'loggerDebug':_0x1264f6=>{console['log']('C++\x20logger'+'Debug\x20['+_0x1264f6+']');}}};try{const _0x195953=await(await fetch(_0x4e7eef))['arrayBuffe'+'r']();return _0x53688f=(await WebAssembly['instantiat'+'e'](_0x195953,_0x5cac63))['instance'],_0x29eae5=_0x5cac63['env']['memory']['buffer'],_0x53688f;}catch(_0x3cc99f){throw console['error']('加载WASM模块失败'+':',_0x3cc99f),_0x3cc99f;}},_0xe84e4d=()=>{if(!_0x53688f)return;const {calcAABB:_0x262ab5}=_0x53688f['exports'];_0x262ab5(_0x2d4403,_0x10c888,_0x14800d,_0x1153ea);},_0x16b211=()=>{if(!_0x53688f||_0x3c24c9===null||_0x2d4403===null||_0x2d95ad===null||_0x53c3e8===null||_0x10c888===null||_0x14800d===null)return;const _0x435f37=_0x3c41c4[-0x1bce+-0x1604+0x1*0x31d2],_0x5a531b=_0x3c41c4[0xbb3+-0xdd5+0x223],_0x37370f=_0x3c41c4[-0x5fe+-0x521+0x4d*0x25],_0x31fdac=_0xc9b845[-0x99a+-0x4*0x5f3+-0xf*-0x23a],_0x35a1d9=_0xc9b845[-0xca8+0x1105+-0x45c],_0x1cff09=_0xc9b845[-0x1*0x1565+-0x873+-0x2*-0xeed],_0x63acb2=-0x32*-0x2+-0x22d3+0x226f+0.001;if(!_0x147506&&Math['abs'](_0x435f37-_0x215cc0['x'])<_0x63acb2&&Math['abs'](_0x5a531b-_0x215cc0['y'])<_0x63acb2&&Math['abs'](_0x37370f-_0x215cc0['z'])<_0x63acb2&&Math['abs'](_0x31fdac-_0x24f42b['x'])<_0x63acb2&&Math['abs'](_0x35a1d9-_0x24f42b['y'])<_0x63acb2&&Math['abs'](_0x1cff09-_0x24f42b['z'])<_0x63acb2&&Math['abs'](_0x4efdf8-_0x1cf964)<-0x1*-0x1e61+-0x1722+-0x73f+0.01)return;if(_0x217a00){_0x10a7a4=!(-0x172c+-0xab7+0x6c7*0x5);return;}_0x217a00=!(-0x2b*-0x25+-0xeeb*0x1+0x8b4),_0x147506=!(-0x1ad7*0x1+0x2b0+0x1828),_0x1cf964=_0x4efdf8,_0x215cc0['x']=_0x435f37,_0x215cc0['y']=_0x5a531b,_0x215cc0['z']=_0x37370f,_0x24f42b['x']=_0x31fdac,_0x24f42b['y']=_0x35a1d9,_0x24f42b['z']=_0x1cff09,_0x10a7a4=!(0x1*-0x87e+-0x1*-0x8b+0x7f4);const {sortIndexes:_0x147d24}=_0x53688f['exports'];try{const _0x2db6ef=_0x147d24(_0x3c24c9,_0x2d4403,_0x3ad466,_0x467cf,_0x601d49,_0x2d95ad,_0x53c3e8,_0x10c888,_0x14800d,_0x4e33bd,_0x4fe20d,_0x4efdf8,_0x32ab45,_0x3cb946,_0x1153ea,_0x2316b9,_0x5e17ab,_0x58e189,_0x1c3714);_0x49f950['set'](_0x179635),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x2db6ef,'order':_0x49f950});}catch(_0x2c3d97){console['error']('排序操作失败:',_0x2c3d97),self['postMessag'+'e']({'type':'error','error':_0x2c3d97['message']});}_0x217a00=!(-0x6d5+-0x285*-0xf+-0x19*0x13d),_0x10a7a4&&_0x318646();};}class H1 extends ce{constructor(_0xf6c310,_0x81ccad=!(0x1ed*0x6+-0x3*0x70+-0xa3e)){super(),c(this,'worker',null),c(this,'numSplats',0xb*-0x27b+-0x39*-0x3d+0xdb4),c(this,'is4d',!(-0x1*-0xa99+-0xedc+0x443)),c(this,'sortStartT'+'ime',-0xf27+0x1*-0x630+0x1557),c(this,'orderTextu'+'re'),(this['numSplats']=_0xf6c310,this['is4d']=_0x81ccad,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x31064a=>{if(!this['worker'])return;const {data:_0x239ee7}=_0x31064a;switch(_0x239ee7['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x239ee7['order']){const _0xe53af=this['orderTextu'+'re']['lock']();new Uint32Array(_0xe53af['buffer'])['set'](_0x239ee7['order']),this['orderTextu'+'re']['unlock']();}let _0x89c736=-0x16b6+-0x1*-0x18fb+-0x245;this['sortStartT'+'ime']!==-0x9*0x185+-0x5ad+-0x135a*-0x1&&(_0x89c736=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x31064a['data']['count'],_0x89c736),this['sortStartT'+'ime']=-0x123f+0x1137+0x108;break;case'error':console['error']('Worker错误:',_0x239ee7['error']),this['fire']('error',_0x239ee7['error']);break;}};const _0xcf2ba0=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0xcf2ba0,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x2827b1,_0x124eb2,_0x4ea532,_0x526411,_0x219c98,_0x3ea819,_0x59454a){var _0x4b9525;(!_0x59454a||_0x59454a['length']===-0xf*0xd3+0x466+-0x1*-0x7f7)&&(_0x59454a=[0x1*0x1769+-0x17b*0x17+0x552*0x2,-0x1d12+-0x1*-0x1ed6+-0x188]),this['orderTextu'+'re']=_0x2827b1,(_0x4b9525=this['worker'])==null||_0x4b9525['postMessag'+'e']({'type':'initData','centers':_0x124eb2,'muT':_0x4ea532,'tScale':_0x526411,'motion':_0x219c98,'timeIndex':_0x3ea819,'timeOption':_0x59454a,'dataReady':!(0x1188+-0x5*-0x54f+-0x1*0x2c13)});}['resize'](_0x48d790){this['destroy'](),this['numSplats']=_0x48d790,this['_initWorke'+'r']();}['setCamera'](_0x361e7f,_0x3b0a26){this['worker']&&(this['sortStartT'+'ime']===0x5b5+0x1*-0x3e5+-0x1d0&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x361e7f['x'],'y':_0x361e7f['y'],'z':_0x361e7f['z']},'cameraDirection':{'x':_0x3b0a26['x'],'y':_0x3b0a26['y'],'z':_0x3b0a26['z']}}));}['setCurrent'+'Time'](_0x1e2436){this['worker']&&(this['sortStartT'+'ime']===-0x13c1*-0x1+-0x77*0x43+-0x4*-0x2d9&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x1e2436}));}['setUseTemp'+'oralSort'](_0x453c09){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x453c09});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const W1=new q(),On=new T(),kn=new T(),Gl=[0x4*0x99c+-0x2c*-0x52+-0x3488,0x1*0x5b9+-0x2e3*-0x6+0x15b*-0x11];class Np{constructor(_0x273e36,_0x2caf77){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',0xff6+0x1704+-0xcfe*0x3),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x273e36['numSplats']),this['splat']=_0x273e36,this['options']=Object['assign'](this['options'],_0x2caf77));const _0x32b048=_0x273e36['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x1ba168=0x239b+0x153b+-0x3856,_0x1ddaad=Math['ceil'](_0x273e36['numSplats']/_0x1ba168)*_0x1ba168/_0x1ba168,_0x8b5933=new Uint32Array(_0x1ddaad);for(let _0x81930f=-0x1f67+-0x20c4+0x402b;_0x81930f<_0x1ddaad;++_0x81930f)_0x8b5933[_0x81930f]=_0x81930f*_0x1ba168;const _0x3b1dab=new Et(_0x32b048,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0xd23+0x1b0b+-0x282e)}]),_0x54edde=new os(_0x32b048,_0x3b1dab,_0x1ddaad,{'usage':jt,'data':_0x8b5933['buffer']}),_0x3783fd=new Float32Array((0x5*0x60d+0x1b4*-0x7+-0x1f*0x97)*_0x1ba168),_0x20015d=new Uint32Array((0x2350+0x262c+-0x1*0x4976)*_0x1ba168);for(let _0x461438=-0x3*-0x3+-0x731+0x728;_0x461438<_0x1ba168;++_0x461438){_0x3783fd['set']([-(0xf4d+-0x248b+0x153f),-(-0x251c+-0xe7d*-0x1+0x2*0xb50),_0x461438,-0x8aa+-0x1*0x427+0xcd2,-(0x86*-0x30+-0x1fa4+-0x1*-0x38c5),_0x461438,-0x2*0x103b+-0x1d00+0x3d77,-0x569+0x1bcf+0x31*-0x75,_0x461438,-(-0x13*-0x112+0x307+-0x175c),-0x1*0x253f+-0x2267*-0x1+0x2d9,_0x461438],_0x461438*(-0x24a3+-0x81*0x25+0x3754));const _0x58184d=_0x461438*(0x1*0x159d+-0x6*0x51+-0x13b3);_0x20015d['set']([-0x2221+-0x15*-0x35+0x2*0xee4+_0x58184d,-0x1fb2+0x722+-0x1891*-0x1+_0x58184d,-0x8c1*0x1+0xaa0+-0x1dd+_0x58184d,-0xe66+-0x81*-0x21+-0x23b+_0x58184d,0x9*-0x4+0x478+0x9e*-0x7+_0x58184d,-0x1219+0x13ac+-0x190+_0x58184d],_0x461438*(0x1bdc+-0xe*0x14f+-0x984));}const _0x56049b=new Ie(_0x32b048);_0x56049b['setPositio'+'ns'](_0x3783fd,0x1*0x2155+0xc34+-0x2d86),_0x56049b['setIndices'](_0x20015d),_0x56049b['update'](),this['mesh']=_0x56049b,this['mesh']['aabb']['copy'](_0x273e36['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x54edde,!(0x5*-0x388+0x4*-0x12e+-0x10*-0x166)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0x3a3+0x11*0x14+0x24f,(!_0x2caf77['dither']||_0x2caf77['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0xcef85a;(_0xcef85a=this['sorter'])==null||_0xcef85a['initData'](this['orderTextu'+'re'],_0x273e36['centers'],_0x273e36['muT'],_0x273e36['tScale'],_0x273e36['motion'],_0x273e36['timeIndex'],_0x273e36['timeOption']);}),this['sorter']['on']('updated',_0x5bf4d3=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x5bf4d3/_0x1ba168),this['material']['setParamet'+'er']('numSplats',_0x5bf4d3);}));}['updateData'](_0x310491){var _0x446906;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x310491['numSplats']),this['splat']=_0x310491;const _0x1a3267=_0x310491['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x1abd69=-0x120a+0x60b+0xc7f,_0x1d5564=Math['ceil'](_0x310491['numSplats']/_0x1abd69)*_0x1abd69/_0x1abd69,_0x4ea8b2=new Uint32Array(_0x1d5564);for(let _0x4f9e15=-0x1*-0x1f25+0x1*-0x183b+-0x6ea;_0x4f9e15<_0x1d5564;++_0x4f9e15)_0x4ea8b2[_0x4f9e15]=_0x4f9e15*_0x1abd69;const _0x2ca83f=new Et(_0x1a3267,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(-0x2a*0x8b+-0x14e*0xb+0x94a*0x4)}]),_0x1939b2=new os(_0x1a3267,_0x2ca83f,_0x1d5564,{'usage':jt,'data':_0x4ea8b2['buffer']});this['mesh']['aabb']['copy'](_0x310491['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x1939b2,!(0x1a4+-0xd9c+0xbf8)),this['meshInstan'+'ce']['instancing'+'Count']=0xa17+0x4d2+-0x15b*0xb,(_0x446906=this['sorter'])==null||_0x446906['resize'](_0x310491['numSplats']);}['releaseSeq'](_0x216ea0){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x216ea0);}['destroy'](){var _0x2ea3b3,_0x3e3698,_0x532722;(_0x2ea3b3=this['material'])==null||_0x2ea3b3['destroy'](),(_0x3e3698=this['meshInstan'+'ce'])==null||_0x3e3698['destroy'](),(_0x532722=this['sorter'])==null||_0x532722['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x50479a){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x50479a),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x1cfa96=this['splat']['device'];if(Gl[0xd64+0x7cb+-0x152f]=_0x1cfa96['width'],Gl[0x5*-0x5c8+-0x24*0x40+0x5*0x795]=_0x1cfa96['height'],this['cameras']['length']>0x1d*-0xad+0xac*0x20+-0x1*0x1e7){const _0x56fd62=this['cameras'][0x19c4+0x57e+-0x1f42]['xr'];_0x56fd62&&_0x56fd62['active']&&_0x56fd62['views']['list']['length']===-0x3b*0x36+0x16b3+0xa3f*-0x1&&(Gl[0x222f+-0x1097+-0x1198]/=-0x1e5*0x3+0x21db*-0x1+-0x278c*-0x1);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x5b0e0c){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x375587=_0x5b0e0c['getWorldTr'+'ansform']();_0x375587['getTransla'+'tion'](On),_0x375587['getZ'](kn);const _0x3037a4=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x409aec=W1['invert'](_0x3037a4);_0x409aec['transformP'+'oint'](On,On),_0x409aec['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>0x12af*-0x2+0x1847+0xd17){const _0x133540=this['cameras'][-0x7f*0x4a+0xceb*0x2+0x2*0x570];this['sort'](_0x133540['_node']),this['cameras']['length']=0x5*0x53+-0x5bc+0x41d;}}['updateTime'](_0x22b5c7){this['time']=_0x22b5c7;}}const $1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0x56a818){U0=_0x56a818;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0xae05c){v['assert'](_0xae05c),_0xae05c['frameUpdat'+'e']();const _0x1d527e=_0xae05c['beforePass'+'es'];for(let _0x269d04=0x2151+-0x1b6a+-0x5e7;_0x269d04<_0x1d527e['length'];_0x269d04++){const _0x17e1fc=_0x1d527e[_0x269d04];_0x17e1fc['enabled']&&this['addRenderP'+'ass'](_0x17e1fc);}_0xae05c['enabled']&&this['renderPass'+'es']['push'](_0xae05c);const _0x12cdc2=_0xae05c['afterPasse'+'s'];for(let _0x578a23=-0x8fa+0x244d+-0x1b53;_0x578a23<_0x12cdc2['length'];_0x578a23++){const _0x5c4912=_0x12cdc2[_0x578a23];_0x5c4912['enabled']&&this['addRenderP'+'ass'](_0x5c4912);}}['reset'](){this['renderPass'+'es']['length']=-0x22b4+0xb6c+0x1748;}['compile'](){const _0x5a0722=this['renderTarg'+'etMap'],_0x36329f=this['renderPass'+'es'];for(let _0xf5815b=0x119*0x9+-0x24c+-0x795;_0xf5815b<_0x36329f['length'];_0xf5815b++){const _0x4f2cd5=_0x36329f[_0xf5815b],_0x189484=_0x4f2cd5['renderTarg'+'et'];if(_0x189484!==void(-0xc07+-0x21df+-0x5*-0x92e)){const _0x4bff45=_0x5a0722['get'](_0x189484);if(_0x4bff45){const _0x8b15ef=_0x4f2cd5['colorArray'+'Ops']['length'];for(let _0x11abaa=0x1*0xca9+0x25d*0x1+-0x6*0x281;_0x11abaa<_0x8b15ef;_0x11abaa++)_0x4f2cd5['colorArray'+'Ops'][_0x11abaa]['clear']||(_0x4bff45['colorArray'+'Ops'][_0x11abaa]['store']=!(-0x1*0xf29+0x1*-0x2632+0x355b));_0x4f2cd5['depthStenc'+'ilOps']['clearDepth']||(_0x4bff45['depthStenc'+'ilOps']['storeDepth']=!(0xe83*-0x1+0x12*-0x14b+-0x25c9*-0x1)),_0x4f2cd5['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x4bff45['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x2*-0x8c9+-0x22*0x9+0x12c4));}_0x5a0722['set'](_0x189484,_0x4f2cd5);}}for(let _0x221a21=0x1*0x150+0x486+-0x5d6;_0x221a21<_0x36329f['length']-(0x39*-0x55+-0x1*0xa06+0x1cf4);_0x221a21++){const _0x432e72=_0x36329f[_0x221a21],_0x34bd68=_0x432e72['renderTarg'+'et'],_0x5091b2=_0x36329f[_0x221a21+(-0xef*-0x29+0x1*0x105d+-0xc5*0x47)],_0x58f119=_0x5091b2['renderTarg'+'et'];_0x34bd68!==_0x58f119||_0x34bd68===void(-0x2*0x1187+-0x17*0x8d+0x2fb9)||_0x5091b2['depthStenc'+'ilOps']['clearDepth']||_0x5091b2['depthStenc'+'ilOps']['clearStenc'+'il']||_0x5091b2['colorArray'+'Ops']['some'](_0x43ba8=>_0x43ba8['clear'])||_0x432e72['afterPasse'+'s']['length']>0x207*-0x9+-0x1*0x2515+-0x3754*-0x1||_0x5091b2['beforePass'+'es']['length']>0x1687*-0x1+-0x242*-0xd+-0x1*0x6d3||(_0x432e72['_skipEnd']=!(-0x3*-0x9f1+-0x18b3+-0x52*0x10),_0x5091b2['_skipStart']=!(0x1*0x2d9+0x1de7+-0x20c0));}let _0xe81cdc=null,_0x177996=null;for(let _0x54a913=-0x1571*-0x1+0x1364+-0x28d5*0x1;_0x54a913<_0x36329f['length'];_0x54a913++){const _0x41612c=_0x36329f[_0x54a913],_0x32888f=_0x41612c['renderTarg'+'et'],_0x530590=_0x32888f==null?void(0x1fff*0x1+-0x760+-0x189f):_0x32888f['colorBuffe'+'r'];if(_0x530590!=null&&_0x530590['cubemap']){if(_0xe81cdc===_0x530590){const _0x8a4500=_0x177996['colorArray'+'Ops']['length'];for(let _0x8bb43=-0x1774+0x1abb+-0x347;_0x8bb43<_0x8a4500;_0x8bb43++)_0x177996['colorArray'+'Ops'][_0x8bb43]['mipmaps']=!(-0x22e0+0xa7+0x223a);}_0xe81cdc=_0x32888f['colorBuffe'+'r'],_0x177996=_0x41612c;}else _0x41612c['requiresCu'+'bemaps']&&(_0xe81cdc=null,_0x177996=null);}_0x5a0722['clear']();}['render'](_0x4cefaf){this['compile']();const _0x41c606=this['renderPass'+'es'];for(let _0x5df9c5=0x5*-0x382+-0x1*0x208c+0x190b*0x2;_0x5df9c5<_0x41c606['length'];_0x5df9c5++)_0x41c606[_0x5df9c5]['render']();}}class j1{constructor(_0x340f0e,_0x5f17a5){this['texture0']=_0x340f0e,this['texture1']=_0x5f17a5;}['destroy'](){var _0x300479,_0x2e6fc1;(_0x300479=this['texture0'])==null||_0x300479['destroy'](),(_0x2e6fc1=this['texture1'])==null||_0x2e6fc1['destroy']();}}const H_=new Ot();class $r{static['createText'+'ure'](_0x284b07,_0x4c0ce3,_0xcbc825,_0x2b71b1=''){return new he(_0x284b07,{'name':'AreaLightL'+'UT'+_0x2b71b1,'width':_0xcbc825,'height':_0xcbc825,'format':_0x4c0ce3,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(0x8cf+-0x18dc+0x100e)});}static['applyTextu'+'res'](_0x4d5e52,_0x57595d,_0x451a1f){H_['remove'](_0x4d5e52),H_['get'](_0x4d5e52,()=>new j1(_0x57595d,_0x57595d===_0x451a1f?null:_0x451a1f)),_0x4d5e52['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x57595d),_0x4d5e52['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x451a1f);}static['createPlac'+'eholder'](_0xf54daf){const _0x20e870=$r['createText'+'ure'](_0xf54daf,Je,0x4ae*-0x3+-0x8*0x43f+0x3004,'placeholde'+'r');_0x20e870['lock']()['fill'](-0x1dd7*-0x1+0x22da*0x1+-0x40b1),_0x20e870['unlock'](),$r['applyTextu'+'res'](_0xf54daf,_0x20e870,_0x20e870);}static['set'](_0x251bc4,_0x500dae,_0x3ecd60){function _0x6e035(_0x4d7377,_0x48830f,_0x2174f0){const _0x4c6c91=$r['createText'+'ure'](_0x4d7377,_0x2174f0,0x2317*0x1+-0xd29+0xa*-0x22b);return _0x4c6c91['lock']()['set'](_0x48830f),_0x4c6c91['unlock'](),_0x4c6c91;}function _0x2c779a(_0x3f4e95){const _0x2da787=_0x3f4e95['length'],_0xfaf4a8=new Uint16Array(_0x2da787),_0x38673b=Wt['float2Half'];for(let _0x23b70f=0x4a*-0x20+-0x1689*-0x1+-0x1*0xd49;_0x23b70f<_0x2da787;_0x23b70f++)_0xfaf4a8[_0x23b70f]=_0x38673b(_0x3f4e95[_0x23b70f]);return _0xfaf4a8;}const _0x2e117a=_0x500dae,_0x523d08=_0x3ecd60,_0x45caae=_0x2c779a(_0x2e117a),_0x2271bd=_0x2c779a(_0x523d08),_0x3956a6=_0x6e035(_0x251bc4,_0x45caae,Je),_0x1649bd=_0x6e035(_0x251bc4,_0x2271bd,Je);$r['applyTextu'+'res'](_0x251bc4,_0x3956a6,_0x1649bd);}}const Wh='en-US',$h={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x402a7d,_0x103030){for(let _0x5b8e6a=-0x21*-0xef+0x981+-0x2850,_0x2b3f6b=_0x402a7d['length'];_0x5b8e6a<_0x2b3f6b;_0x5b8e6a++)zp[_0x402a7d[_0x5b8e6a]]=_0x103030;}function pi(_0x25f9ee){const _0x2f05f1=_0x25f9ee['indexOf']('-');return _0x2f05f1!==-(-0xb8*0x1f+0x1e59*-0x1+-0x1a51*-0x2)?_0x25f9ee['substring'](0x2*-0xe8f+0xdcd+0xf51,_0x2f05f1):_0x25f9ee;}function Y1(_0x53a069,_0x31ea51){const _0x343102=_0x53a069['indexOf']('-');return _0x343102!==-(0x72c+-0x264e+-0x1*-0x1f23)?_0x31ea51+_0x53a069['substring'](_0x343102):_0x31ea51;}function V0(_0x559086,_0x4c4ac2){if(_0x4c4ac2[_0x559086])return _0x559086;let _0x4d7520=$h[_0x559086];if(_0x4d7520&&_0x4c4ac2[_0x4d7520])return _0x4d7520;const _0x241682=pi(_0x559086);return _0x4d7520=$h[_0x241682],_0x4c4ac2[_0x4d7520]?_0x4d7520:_0x4c4ac2[_0x241682]?_0x241682:Wh;}pr(['ja','ko','th','vi','zh','id'],_0xfb2543=>-0xc4f+-0x6bd*-0x1+0x2c9*0x2),pr(['fa','hi'],_0x4bd7f9=>_0x4bd7f9>=-0x2536+-0x2173*0x1+0x46a9&&_0x4bd7f9<=-0x1*-0x13c9+0x1043*-0x1+-0x385?0xf96+-0x22*0xa1+0x5cc:0x2*-0xb6b+-0x261d*0x1+0x3cf4),pr(['fr','pt'],_0x295f63=>_0x295f63>=0x19*0x1d+-0x4eb*0x3+0x2fb*0x4&&_0x295f63<-0xd50*-0x2+-0xfd7+0x1f*-0x59?0x91*0x13+-0xa3*0x1f+0x17f*0x6:0x120f+-0x1ad3+0x1*0x8c5),pr(['da'],_0x156fdf=>_0x156fdf===0x1a56+-0x517*-0x1+-0x1f6c*0x1||!Number['isInteger'](_0x156fdf)&&_0x156fdf>=-0x123d+0x25a6+-0x1369&&_0x156fdf<=-0x4*0x552+-0x51e*-0x4+-0x13*-0xb?0x5f6*-0x4+-0x1*-0x1fea+0x2*-0x409:-0x1461+-0x2*-0x1381+-0x4a8*0x4),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x1b1a96=>_0x1b1a96===-0x71a+0x56b*-0x7+0x2d08?0x11*0x17d+-0x1ed3+-0x2*-0x2c3:-0x1*0x184d+0x7e3*0x4+-0x73e),pr(['ru','uk'],_0x38b7c0=>{if(Number['isInteger'](_0x38b7c0)){const _0x318127=_0x38b7c0%(0x9*0x3b1+-0x1*-0x23cf+-0x44fe),_0x1f0a46=_0x38b7c0%(-0x9d4+0x279*-0x1+0x13*0xab);if(_0x318127===-0x1*-0x6a1+0x2f*-0xcd+0x1f03&&_0x1f0a46!==0x12d7+0x1565+-0x2831*0x1)return 0x222+-0x1c1f*0x1+0x19fd;if(_0x318127>=0x11c4+-0x13a4*0x1+0x1e2&&_0x318127<=0x338*-0x4+0x2a9*-0x5+-0x1bf*-0xf&&(_0x1f0a46<-0x1*0x907+-0x1*0x24b+0x5af*0x2||_0x1f0a46>-0x654+-0xd5c+0x13be))return 0x1979*0x1+-0xdcd*-0x1+-0x2745;if(_0x318127===0x5*0x46a+0x2dd*0x1+-0x18ef||_0x318127>=-0xd3*0x1d+0x55f+0x128d&&_0x318127<=0x1af9+-0x7b*0x33+-0x26f||_0x1f0a46>=-0x568+0x2093+-0x1b20&&_0x1f0a46<=0xf2*0xb+-0x17a7+0xd4f)return 0xee*-0x3+0x1f96+-0x1cca;}return 0x2*0x5ad+0xb*0x20b+0x874*-0x4;}),pr(['pl'],_0x2532f=>{if(Number['isInteger'](_0x2532f)){if(_0x2532f===0x90*-0x1+0x6bb*-0x1+-0x2*-0x3a6)return 0xa*0x3be+0x24*0x9+-0x9ac*0x4;const _0x18693a=_0x2532f%(0x21c5+0x1dec+-0x5*0xcbb),_0x2aae79=_0x2532f%(-0x1*0x233+0xc*0x9d+-0xb*0x6f);if(_0x18693a>=0x2*-0x989+-0xb*-0x139+0x5a1&&_0x18693a<=-0x1e25*0x1+0x1*-0x134c+0x3175&&(_0x2aae79<-0x71b*-0x1+0x1b22+-0x1*0x2231||_0x2aae79>-0xa5d+0x18b1+-0xe*0x105))return 0x1ede+-0x726*-0x3+0x7*-0x779;if(_0x18693a>=0x187b+-0x692*-0x2+-0x1*0x259f&&_0x18693a<=0x17df+0x13e1+-0x2bbf||_0x18693a>=0xc22+0x13*-0x1ab+0xb3*0x1c&&_0x18693a<=-0xea0+0x1*-0x17cb+0x4*0x99d||_0x2aae79>=0x1*-0x1366+0x250d+-0x119b&&_0x2aae79<=-0x1*-0x54a+-0x158b+0x104f)return 0x90e+0x72*-0x4f+0x1a22;}return 0x1e51+0x1*-0x1b05+0x349*-0x1;}),pr(['ar'],_0x33cd22=>{if(_0x33cd22===-0xf95*0x1+0xbc*0xf+0x491)return-0x1f*0x116+0x1c57+0x553;if(_0x33cd22===0x1b1*-0x17+-0x1f*-0xf8+0x10*0x8e)return 0x4fc+-0x3d2+-0x129;if(_0x33cd22===-0x3*0x551+-0x24f5+0x34ea)return-0x13c5+-0x16bf+-0x2*-0x1543;if(Number['isInteger'](_0x33cd22)){const _0x33bc5c=_0x33cd22%(0x1b4e+0x1bb4+-0x369e);if(_0x33bc5c>=0x7f*0x3+0x17f*0xd+-0x14ed&&_0x33bc5c<=0x1ff6+-0x1*-0x8f+0x207b*-0x1)return-0x9e0+0x511*0x7+-0x1994;if(_0x33bc5c>=0x80f+-0x6d*-0x4f+0x29a7*-0x1&&_0x33bc5c<=0x22fe+0x34a*-0xa+-0x1b7)return 0x126b+0x4f*-0x1f+-0x8d6;}return 0xa7e+0x368+0xb*-0x143;});const K1=zp[pi(Wh)];function Xd(_0x13a2c0){return zp[_0x13a2c0]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x42af8c='',_0x36c551='',_0x2859f8=null,_0x3a5ee1=null,_0x52c768=null,_0x4884f5=null){this['url']=_0x42af8c,this['filename']=_0x36c551,this['hash']=_0x2859f8,this['size']=_0x3a5ee1,this['opt']=_0x52c768,this['contents']=_0x4884f5;}['equals'](_0x5980c5){return this['url']===_0x5980c5['url']&&this['filename']===_0x5980c5['filename']&&this['hash']===_0x5980c5['hash']&&this['size']===_0x5980c5['size']&&this['opt']===_0x5980c5['opt']&&this['contents']===_0x5980c5['contents'];}}let Q1=-(0x6a7+-0x3*-0xa11+-0x24d9*0x1);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},W_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x5eb9b2,_0x39b2b8,_0x4f6077,_0x151ada,_0x4cb4b3){super(),this['_id']=Q1--,this['_name']=_0x5eb9b2||'',this['type']=_0x39b2b8,this['tags']=new po(this),this['_preload']=!(-0x13f1+0x13d3+0x1f),this['_file']=null,this['_data']=_0x151ada||{},this['options']=_0x4cb4b3||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(-0x18e*-0x3+-0x210c+0x1c63),this['loading']=!(0x1130+-0x2667+0x1538),this['registry']=null,_0x4f6077&&(this['file']=_0x4f6077);}set['id'](_0x7ec3b1){this['_id']=_0x7ec3b1;}get['id'](){return this['_id'];}set['name'](_0x5e68fa){if(this['_name']===_0x5e68fa)return;const _0x35af1d=this['_name'];this['_name']=_0x5e68fa,this['fire']('name',this,this['_name'],_0x35af1d);}get['name'](){return this['_name'];}set['file'](_0x4e28b3){var _0x324c7c,_0x211467;if(_0x4e28b3&&_0x4e28b3['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x17*-0x178+0x14d*-0x5+0x6b7*0x6)){const _0x556672=((_0x211467=(_0x324c7c=this['registry'])==null?void(0x75*-0x1+-0x35*-0x7a+-0x18cd):_0x324c7c['_loader'])==null?void(0x889+0x15d5+-0x1e5e):_0x211467['_app'])||tn(),_0x39662f=_0x556672==null?void(0x74*0x1+-0x1db4*-0x1+0x2*-0xf14):_0x556672['graphicsDe'+'vice'];if(_0x39662f)for(let _0x89d596=-0x1393*0x1+-0x22b3+0x3646*0x1,_0x45e51c=W_['length'];_0x89d596<_0x45e51c;_0x89d596++){const _0x1dc3d6=W_[_0x89d596];if(_0x4e28b3['variants'][_0x1dc3d6]&&_0x39662f[J1[_0x1dc3d6]]){_0x4e28b3=_0x4e28b3['variants'][_0x1dc3d6];break;}if(_0x556672['enableBund'+'les']){const _0x48d8a9=_0x556672['bundles']['listBundle'+'sForAsset'](this);if(_0x48d8a9&&_0x48d8a9['find'](_0x3ad17a=>{var _0x41825b;return(_0x41825b=_0x3ad17a==null?void(-0x5cc*-0x3+0x2f9+0x1*-0x145d):_0x3ad17a['file'])==null?void(0x16a6+0x1*-0x24a3+0x1*0xdfd):_0x41825b['variants'][_0x1dc3d6];}))break;}}}const _0x3cdf20=this['_file'],_0x48f58f=_0x4e28b3?new Z1(_0x4e28b3['url'],_0x4e28b3['filename'],_0x4e28b3['hash'],_0x4e28b3['size'],_0x4e28b3['opt'],_0x4e28b3['contents']):null;(!!_0x48f58f!=!!_0x3cdf20||_0x48f58f&&!_0x48f58f['equals'](_0x3cdf20))&&(this['_file']=_0x48f58f,this['fire']('change',this,'file',_0x48f58f,_0x3cdf20),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x2c6633){const _0x432775=this['_data'];this['_data']=_0x2c6633,_0x2c6633!==_0x432775&&(this['fire']('change',this,'data',_0x2c6633,_0x432775),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x2a28ec){const _0x403d01=this['_resources'][-0x1ff4+0x5*-0x256+0x2ba2];this['_resources'][-0xbe3*0x2+0x1*-0x26dd+0x42d*0xf]=_0x2a28ec,this['fire']('change',this,'resource',_0x2a28ec,_0x403d01);}get['resource'](){return this['_resources'][-0x1bf1+0x393+0x185e];}set['resources'](_0x6edcda){const _0x16fc8d=this['_resources'];this['_resources']=_0x6edcda,this['fire']('change',this,'resources',_0x6edcda,_0x16fc8d);}get['resources'](){return this['_resources'];}set['preload'](_0x5d46e6){_0x5d46e6=!!_0x5d46e6,this['_preload']!==_0x5d46e6&&(this['_preload']=_0x5d46e6,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x5cc58d){_0x5cc58d=!!_0x5cc58d,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x5cc58d!==this['_loadFaces'])&&(this['_loadFaces']=_0x5cc58d,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x5419f2=this['file'];if(!_0x5419f2||!_0x5419f2['url'])return null;let _0xae0fb3=_0x5419f2['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0xae0fb3)&&(_0xae0fb3=this['registry']['prefix']+_0xae0fb3),this['type']!=='script'&&_0x5419f2['hash']){const _0x856e72=_0xae0fb3['indexOf']('?')!==-(-0x5db+0x156+0x486)?'&':'?';_0xae0fb3+=_0x856e72+'t='+_0x5419f2['hash'];}return _0xae0fb3;}['getAbsolut'+'eUrl'](_0x3b549f){if(_0x3b549f['startsWith']('blob:')||_0x3b549f['startsWith']('data:'))return _0x3b549f;const _0x4556ee=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x4556ee,_0x3b549f);}['getLocaliz'+'edAssetId'](_0x2adfca){return _0x2adfca=V0(_0x2adfca,this['_i18n']),this['_i18n'][_0x2adfca]||null;}['addLocaliz'+'edAssetId'](_0xd6b470,_0x3d8497){this['_i18n'][_0xd6b470]=_0x3d8497,this['fire']('add:locali'+'zed',_0xd6b470,_0x3d8497);}['removeLoca'+'lizedAsset'+'Id'](_0x465b8a){const _0x4c6e81=this['_i18n'][_0x465b8a];_0x4c6e81&&(delete this['_i18n'][_0x465b8a],this['fire']('remove:loc'+'alized',_0x465b8a,_0x4c6e81));}['ready'](_0x54dbd1,_0x2011a7){_0x2011a7=_0x2011a7||this,this['loaded']?_0x54dbd1['call'](_0x2011a7,this):this['once']('load',_0x463a01=>{_0x54dbd1['call'](_0x2011a7,_0x463a01);});}['reload'](){this['loaded']&&(this['loaded']=!(0x1193*-0x1+0x8a9*0x2+-0x6*-0xb),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x16d*-0xb+0x1*0x3f5+-0x13a4)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x328724=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x1*0x136f+-0x406*0x5+0x7a*0x53),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x570981=0x1*-0xac5+0x20f7+-0x1632;_0x570981<_0x328724['length'];++_0x570981){const _0x3f3cac=_0x328724[_0x570981];_0x3f3cac&&_0x3f3cac['destroy']&&_0x3f3cac['destroy']();}}static['fetchArray'+'Buffer'](_0x5a6bda,_0xa3739a,_0x7fe159,_0x45cb9a=-0x13c6*0x1+-0x2301+0x36c7){var _0x44972c;(_0x44972c=_0x7fe159==null?void(-0xbcd+-0x2057+0x5*0x8d4):_0x7fe159['file'])!=null&&_0x44972c['contents']?setTimeout(()=>{_0xa3739a(null,_0x7fe159['file']['contents']);}):$e['get'](_0x5a6bda,{'cache':!(-0x35*0x86+0x32*-0x6a+0x3072),'responseType':'arraybuffe'+'r','retry':_0x45cb9a>0xc*0x42+-0x174+-0x1a4,'maxRetries':_0x45cb9a},_0xa3739a);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x35ef62=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x35ef62;}['addItem'](_0x3e4618){const _0x51325d=_0x3e4618['tags']['_list'];for(const _0x47142f of _0x51325d)this['add'](_0x47142f,_0x3e4618);}['removeItem'](_0x2ac4ce){const _0x1b77e4=_0x2ac4ce['tags']['_list'];for(const _0x452ee2 of _0x1b77e4)this['remove'](_0x452ee2,_0x2ac4ce);}['add'](_0x33d590,_0x85733f){this['_index'][_0x33d590]&&this['_index'][_0x33d590]['list']['indexOf'](_0x85733f)!==-(0x1*0x1724+-0x67f*0x3+-0x1d3*0x2)||(this['_index'][_0x33d590]||(this['_index'][_0x33d590]={'list':[]},this['_key']&&(this['_index'][_0x33d590]['keys']={})),this['_index'][_0x33d590]['list']['push'](_0x85733f),this['_key']&&(this['_index'][_0x33d590]['keys'][_0x85733f[this['_key']]]=_0x85733f));}['remove'](_0x4df71a,_0xe33b57){if(!this['_index'][_0x4df71a]||this['_key']&&!this['_index'][_0x4df71a]['keys'][_0xe33b57[this['_key']]])return;const _0x534768=this['_index'][_0x4df71a]['list']['indexOf'](_0xe33b57);_0x534768!==-(0x19be+0x20e5+-0x3aa2)&&(this['_index'][_0x4df71a]['list']['splice'](_0x534768,-0x501+0x1230+-0xd2e),this['_key']&&delete this['_index'][_0x4df71a]['keys'][_0xe33b57[this['_key']]],this['_index'][_0x4df71a]['list']['length']===-0x1*-0x255a+-0x10*-0x1e7+-0x43ca*0x1&&delete this['_index'][_0x4df71a]);}['find'](_0x265d6e){const _0x37fba4={},_0x51ab4d=[];let _0x437b7c,_0x2d1303,_0x2445ec,_0x3770ea,_0x493d14;const _0x347a5a=(_0x168200,_0x45462e)=>this['_index'][_0x168200]['list']['length']-this['_index'][_0x45462e]['list']['length'];for(let _0x2805d8=0xc0c+0x1f5d+-0x1*0x2b69;_0x2805d8<_0x265d6e['length'];_0x2805d8++){if(_0x2d1303=_0x265d6e[_0x2805d8],_0x2d1303 instanceof Array){if(_0x2d1303['length']===0xc5e+-0x9f*-0x2a+-0x5c*0x6b)continue;if(_0x2d1303['length']===-0x1fd0+0x174d+0x4*0x221)_0x2d1303=_0x2d1303[-0xa11+-0x258e+0x2f9f];else{_0x493d14=!(-0xa90+-0x2*-0x7ff+0x1cf*-0x3);for(let _0x5aaa89=0x1421+-0x1*-0x197f+-0x2da0;_0x5aaa89<_0x2d1303['length'];_0x5aaa89++)if(!this['_index'][_0x2d1303[_0x5aaa89]]){_0x493d14=!(-0x25b+-0x2501*0x1+0x275c);break;}if(_0x493d14)continue;_0x2445ec=_0x2d1303['slice'](0x232a+-0x6*-0x3ef+0x1*-0x3ac4)['sort'](_0x347a5a),_0x3770ea=_0x2445ec['slice'](-0x1*-0xf97+-0x1954*-0x1+-0x1475*0x2),_0x3770ea['length']===-0x1b8+0x545*-0x3+0x1188&&(_0x3770ea=_0x3770ea[-0x10b*-0x25+0xad5+-0x316c]);for(let _0x2980a6=0x3d*-0xd+0x25fe+0x22e5*-0x1;_0x2980a6<this['_index'][_0x2445ec[-0x4c*0x25+-0x26fd+0xb*0x48b]]['list']['length'];_0x2980a6++)_0x437b7c=this['_index'][_0x2445ec[0x2448+-0x81f+-0x3*0x963]]['list'][_0x2980a6],(this['_key']?!_0x37fba4[_0x437b7c[this['_key']]]:_0x51ab4d['indexOf'](_0x437b7c)===-(-0x1*0x1249+0x1*-0x95d+0x1ba7))&&_0x437b7c['tags']['has'](_0x3770ea)&&(this['_key']&&(_0x37fba4[_0x437b7c[this['_key']]]=!(-0x68b+-0x926*0x1+0xfb1)),_0x51ab4d['push'](_0x437b7c));continue;}}if(_0x2d1303&&typeof _0x2d1303=='string'&&this['_index'][_0x2d1303]){for(let _0x542177=0x4c*0x4c+-0xcd1*0x1+-0x5*0x1f3;_0x542177<this['_index'][_0x2d1303]['list']['length'];_0x542177++)_0x437b7c=this['_index'][_0x2d1303]['list'][_0x542177],this['_key']?_0x37fba4[_0x437b7c[this['_key']]]||(_0x37fba4[_0x437b7c[this['_key']]]=!(0x1*-0x4bc+-0x1f13*0x1+-0x1*-0x23cf),_0x51ab4d['push'](_0x437b7c)):_0x51ab4d['indexOf'](_0x437b7c)===-(-0x14c3*-0x1+-0x22dd+0x1*0xe1b)&&_0x51ab4d['push'](_0x437b7c);}}return _0x51ab4d;}}class ao extends ce{constructor(_0x19f65a){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x19f65a;}['list'](_0x4cdbc6={}){const _0x1c4720=Array['from'](this['_assets']);return _0x4cdbc6['preload']!==void(-0x25cf*0x1+0x2*0x1257+0x121)?_0x1c4720['filter'](_0x516d57=>_0x516d57['preload']===_0x4cdbc6['preload']):_0x1c4720;}['add'](_0x28cbd6){var _0x4b68ad,_0x5ed96b;this['_assets']['has'](_0x28cbd6)||(this['_assets']['add'](_0x28cbd6),this['_idToAsset']['set'](_0x28cbd6['id'],_0x28cbd6),(_0x4b68ad=_0x28cbd6['file'])!=null&&_0x4b68ad['url']&&this['_urlToAsse'+'t']['set'](_0x28cbd6['file']['url'],_0x28cbd6),this['_nameToAss'+'et']['has'](_0x28cbd6['name'])||this['_nameToAss'+'et']['set'](_0x28cbd6['name'],new Set()),this['_nameToAss'+'et']['get'](_0x28cbd6['name'])['add'](_0x28cbd6),_0x28cbd6['on']('name',this['_onNameCha'+'nge'],this),_0x28cbd6['registry']=this,this['_tags']['addItem'](_0x28cbd6),_0x28cbd6['tags']['on']('add',this['_onTagAdd'],this),_0x28cbd6['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x28cbd6),this['fire']('add:'+_0x28cbd6['id'],_0x28cbd6),(_0x5ed96b=_0x28cbd6['file'])!=null&&_0x5ed96b['url']&&this['fire']('add:url:'+_0x28cbd6['file']['url'],_0x28cbd6),_0x28cbd6['preload']&&this['load'](_0x28cbd6));}['remove'](_0x20873f){var _0x37d6c4,_0x8a078c;if(!this['_assets']['has'](_0x20873f))return!(0x261d+0x1a8*0x2+-0x296c);if(this['_assets']['delete'](_0x20873f),this['_idToAsset']['delete'](_0x20873f['id']),(_0x37d6c4=_0x20873f['file'])!=null&&_0x37d6c4['url']&&this['_urlToAsse'+'t']['delete'](_0x20873f['file']['url']),_0x20873f['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x20873f['name'])){const _0x3e2431=this['_nameToAss'+'et']['get'](_0x20873f['name']);_0x3e2431['delete'](_0x20873f),_0x3e2431['size']===-0x515+-0x2472+0x2987*0x1&&this['_nameToAss'+'et']['delete'](_0x20873f['name']);}return this['_tags']['removeItem'](_0x20873f),_0x20873f['tags']['off']('add',this['_onTagAdd'],this),_0x20873f['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x20873f['fire']('remove',_0x20873f),this['fire']('remove',_0x20873f),this['fire']('remove:'+_0x20873f['id'],_0x20873f),(_0x8a078c=_0x20873f['file'])!=null&&_0x8a078c['url']&&this['fire']('remove:url'+':'+_0x20873f['file']['url'],_0x20873f),!(-0x72*0x1+-0x2*-0x387+-0x69c);}['get'](_0x5afb89){return this['_idToAsset']['get'](Number(_0x5afb89));}['getByUrl'](_0x3e28f2){return this['_urlToAsse'+'t']['get'](_0x3e28f2);}['load'](_0x49f722,_0x4db9a9){if((_0x49f722['loading']||_0x49f722['loaded'])&&!(_0x4db9a9!=null&&_0x4db9a9['force']))return;const _0x113156=_0x49f722['file'],_0x4ee55c=()=>{this['fire']('load',_0x49f722),this['fire']('load:'+_0x49f722['id'],_0x49f722),_0x113156&&_0x113156['url']&&this['fire']('load:url:'+_0x113156['url'],_0x49f722),_0x49f722['fire']('load',_0x49f722);},_0x4ac4d1=_0x1cee12=>{if(_0x1cee12 instanceof Array?_0x49f722['resources']=_0x1cee12:_0x49f722['resource']=_0x1cee12,this['_loader']['patch'](_0x49f722,this),_0x49f722['type']==='bundle'){const _0x5dd74a=_0x49f722['data']['assets'];for(let _0x250f59=0xc0e*0x2+0x23bd+-0x3bd9;_0x250f59<_0x5dd74a['length'];_0x250f59++){const _0x1d5d57=this['_idToAsset']['get'](_0x5dd74a[_0x250f59]);_0x1d5d57&&!_0x1d5d57['loaded']&&this['load'](_0x1d5d57,{'force':!(-0x1ba9+0xb*0x79+0x2e*0x7d)});}_0x49f722['resource']['loaded']?_0x4ee55c():(this['fire']('load:start',_0x49f722),this['fire']('load:start'+':'+_0x49f722['id'],_0x49f722),_0x113156&&_0x113156['url']&&this['fire']('load:start'+':url:'+_0x113156['url'],_0x49f722),_0x49f722['fire']('load:start',_0x49f722),_0x49f722['resource']['on']('load',_0x4ee55c));}else _0x4ee55c();},_0xc426bb=(_0x3dc891,_0x155694,_0x4d80ce)=>{if(_0x49f722['loaded']=!(0x5b2+0x609+0xe7*-0xd),_0x49f722['loading']=!(-0x1085+-0x1492+-0x8*-0x4a3),_0x3dc891)this['fire']('error',_0x3dc891,_0x49f722),this['fire']('error:'+_0x49f722['id'],_0x3dc891,_0x49f722),_0x49f722['fire']('error',_0x3dc891,_0x49f722);else{if(_0x49f722['type']==='script'){const _0x4a4582=this['_loader']['getHandler']('script');_0x4a4582['_cache'][_0x49f722['id']]&&_0x4a4582['_cache'][_0x49f722['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x4a4582['_cache'][_0x49f722['id']]),_0x4a4582['_cache'][_0x49f722['id']]=_0x4d80ce;}_0x4ac4d1(_0x155694);}};if(_0x113156||_0x49f722['type']==='cubemap'){this['fire']('load:start',_0x49f722),this['fire']('load:'+_0x49f722['id']+':start',_0x49f722),_0x49f722['loading']=!(0xc00*0x2+-0x197d+-0x7f*-0x3);const _0x16f1c2=_0x49f722['getFileUrl']();if(_0x49f722['type']==='bundle'){const _0x506990=_0x49f722['data']['assets'];for(let _0xf1cf3c=0x4b1*-0x3+-0xbf*-0x31+-0x167c;_0xf1cf3c<_0x506990['length'];_0xf1cf3c++){const _0x4ec8bd=this['_idToAsset']['get'](_0x506990[_0xf1cf3c]);_0x4ec8bd&&(_0x4ec8bd['loaded']||_0x4ec8bd['resource']||_0x4ec8bd['loading']||(_0x4ec8bd['loading']=!(0x63a+-0x20fb+-0x2f9*-0x9)));}}this['_loader']['load'](_0x16f1c2,_0x49f722['type'],_0xc426bb,_0x49f722,_0x4db9a9);}else{const _0x509e8a=this['_loader']['open'](_0x49f722['type'],_0x49f722['data']);_0x49f722['loaded']=!(0x19b1+-0x15a4+-0x40d*0x1),_0x4ac4d1(_0x509e8a);}}['loadFromUr'+'l'](_0x567101,_0x421197,_0x5bd350){this['loadFromUr'+'lAndFilena'+'me'](_0x567101,null,_0x421197,_0x5bd350);}['loadFromUr'+'lAndFilena'+'me'](_0x2fadc5,_0x1544ef,_0x1ed949,_0x52090a){const _0x4bd2ff=fe['getBasenam'+'e'](_0x1544ef||_0x2fadc5),_0x354050={'filename':_0x1544ef||_0x4bd2ff,'url':_0x2fadc5};let _0x13330d=this['getByUrl'](_0x2fadc5);if(!_0x13330d)_0x13330d=new le(_0x4bd2ff,_0x1ed949,_0x354050),this['add'](_0x13330d);else{if(_0x13330d['loaded']){_0x52090a(_0x13330d['loadFromUr'+'lError']||null,_0x13330d);return;}}const _0x434818=_0x159678=>{_0x159678['once']('load',_0x40b16c=>{_0x1ed949==='material'?this['_loadTextu'+'res'](_0x40b16c,(_0x24b84b,_0x47a045)=>{_0x52090a(_0x24b84b,_0x40b16c);}):_0x52090a(null,_0x40b16c);}),_0x159678['once']('error',_0x33e943=>{_0x33e943&&(this['loadFromUr'+'lError']=_0x33e943),_0x52090a(_0x33e943,_0x159678);}),this['load'](_0x159678);};_0x13330d['resource']?_0x52090a(null,_0x13330d):_0x1ed949==='model'?this['_loadModel'](_0x13330d,_0x434818):_0x434818(_0x13330d);}['_loadModel'](_0x35f727,_0x24d925){const _0x5ed3f7=_0x35f727['getFileUrl'](),_0x382859=fe['getExtensi'+'on'](_0x5ed3f7);if(_0x382859==='.json'||_0x382859==='.glb'){const _0x43de12=fe['getDirecto'+'ry'](_0x5ed3f7),_0x45f0b3=fe['getBasenam'+'e'](_0x5ed3f7),_0x5ef1c1=fe['join'](_0x43de12,_0x45f0b3['replace'](_0x382859,'.mapping.j'+'son'));this['_loader']['load'](_0x5ef1c1,'json',(_0x533f77,_0x50dd5b)=>{_0x533f77?(_0x35f727['data']={'mapping':[]},_0x24d925(_0x35f727)):this['_loadMater'+'ials'](_0x35f727,_0x50dd5b,(_0x12b94c,_0x3998b7)=>{_0x35f727['data']=_0x50dd5b,_0x24d925(_0x35f727);});});}else _0x24d925(_0x35f727);}['_loadMater'+'ials'](_0x5eb027,_0x411ae5,_0x36fe5c){const _0x4de462=[];let _0x765d28=0x1bca*0x1+0x17bf+0x3389*-0x1;const _0x44df6d=(_0x2386d0,_0x1fff82)=>{this['_loadTextu'+'res'](_0x1fff82,(_0x3c0de0,_0x241dc4)=>{_0x4de462['push'](_0x1fff82),_0x4de462['length']===_0x765d28&&_0x36fe5c(null,_0x4de462);});};for(let _0x159fd6=0xf83+-0x25ea+0x9b*0x25;_0x159fd6<_0x411ae5['mapping']['length'];_0x159fd6++){const _0x505fb6=_0x411ae5['mapping'][_0x159fd6]['path'];if(_0x505fb6){_0x765d28++;const _0x118098=_0x5eb027['getAbsolut'+'eUrl'](_0x505fb6);this['loadFromUr'+'l'](_0x118098,'material',_0x44df6d);}}_0x765d28===0x1888+0x12e3+0x2b6b*-0x1&&_0x36fe5c(null,_0x4de462);}['_loadTextu'+'res'](_0xe0292e,_0xb66201){const _0x114e7f=[];let _0x2b6ef9=-0x26*-0xdf+0x1*-0x188c+0x49*-0x1e;const _0x246cf9=_0xe0292e['data'];if(_0x246cf9['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0xe0292e['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0xb66201(null,_0x114e7f);return;}const _0x165790=(_0x24d23f,_0x252109)=>{_0x24d23f&&console['error'](_0x24d23f),_0x114e7f['push'](_0x252109),_0x114e7f['length']===_0x2b6ef9&&_0xb66201(null,_0x114e7f);},_0x12f449=Kc;for(let _0x44ce03=0x533+0x9c5*0x1+-0xef8;_0x44ce03<_0x12f449['length'];_0x44ce03++){const _0x11de95=_0x246cf9[_0x12f449[_0x44ce03]];if(_0x11de95&&typeof _0x11de95=='string'){_0x2b6ef9++;const _0x23a932=_0xe0292e['getAbsolut'+'eUrl'](_0x11de95);this['loadFromUr'+'l'](_0x23a932,'texture',_0x165790);}}_0x2b6ef9===0x16aa+0x1a0a+0xc2d*-0x4&&_0xb66201(null,_0x114e7f);}['_onTagAdd'](_0x1cbc74,_0x17188f){this['_tags']['add'](_0x1cbc74,_0x17188f);}['_onTagRemo'+'ve'](_0x30a8a8,_0x37c3e3){this['_tags']['remove'](_0x30a8a8,_0x37c3e3);}['_onNameCha'+'nge'](_0x59ac0a,_0x410aa4,_0x255caa){if(this['_nameToAss'+'et']['has'](_0x255caa)){const _0x4a9c74=this['_nameToAss'+'et']['get'](_0x255caa);_0x4a9c74['delete'](_0x59ac0a),_0x4a9c74['size']===0x7*-0x62+-0x46a+0x8*0xe3&&this['_nameToAss'+'et']['delete'](_0x255caa);}this['_nameToAss'+'et']['has'](_0x59ac0a['name'])||this['_nameToAss'+'et']['set'](_0x59ac0a['name'],new Set()),this['_nameToAss'+'et']['get'](_0x59ac0a['name'])['add'](_0x59ac0a);}['findByTag'](..._0x5b2d76){return this['_tags']['find'](_0x5b2d76);}['filter'](_0x392228){return Array['from'](this['_assets'])['filter'](_0x288762=>_0x392228(_0x288762));}['find'](_0x1402f0,_0x437778){const _0x1e1389=this['_nameToAss'+'et']['get'](_0x1402f0);if(!_0x1e1389)return null;for(const _0x475d5f of _0x1e1389)if(!_0x437778||_0x475d5f['type']===_0x437778)return _0x475d5f;return null;}['findAll'](_0x1f0a1a,_0x3c9c49){const _0xae60f7=this['_nameToAss'+'et']['get'](_0x1f0a1a);if(!_0xae60f7)return[];const _0x3cf675=Array['from'](_0xae60f7);return _0x3c9c49?_0x3cf675['filter'](_0x19137e=>_0x19137e['type']===_0x3c9c49):_0x3cf675;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x4847ea){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x4847ea,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x4b71a4){if(_0x4b71a4['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x4b71a4['id'],_0x4b71a4),this['_assets']['on']('load:start'+':'+_0x4b71a4['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x4b71a4['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x4b71a4['id'],this['_onBundleE'+'rror'],this);const _0x13c056=_0x4b71a4['data']['assets'];for(let _0x301af6=-0x11*-0x23d+0x11f+-0x272c;_0x301af6<_0x13c056['length'];_0x301af6++)this['_indexAsse'+'tInBundle'](_0x13c056[_0x301af6],_0x4b71a4);}else this['_assetToBu'+'ndles']['has'](_0x4b71a4['id'])&&this['_indexAsse'+'tFileUrls'](_0x4b71a4);}['_unbindAss'+'etEvents'](_0x420a33){this['_assets']['off']('load:start'+':'+_0x420a33,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x420a33,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x420a33,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x1c3ab2,_0x133435){let _0x6f44b7=this['_assetToBu'+'ndles']['get'](_0x1c3ab2);_0x6f44b7||(_0x6f44b7=new Set(),this['_assetToBu'+'ndles']['set'](_0x1c3ab2,_0x6f44b7)),_0x6f44b7['add'](_0x133435);const _0x5847d9=this['_assets']['get'](_0x1c3ab2);_0x5847d9&&this['_indexAsse'+'tFileUrls'](_0x5847d9);}['_indexAsse'+'tFileUrls'](_0xa1d1d3){const _0x1fa29b=this['_getAssetF'+'ileUrls'](_0xa1d1d3);if(_0x1fa29b)for(let _0x59e6ef=0x102f+-0x1eb2+0x1*0xe83;_0x59e6ef<_0x1fa29b['length'];_0x59e6ef++){const _0x3231ec=this['_assetToBu'+'ndles']['get'](_0xa1d1d3['id']);_0x3231ec&&this['_urlsToBun'+'dles']['set'](_0x1fa29b[_0x59e6ef],_0x3231ec);}}['_getAssetF'+'ileUrls'](_0x26e512){let _0xbfec84=_0x26e512['getFileUrl']();if(!_0xbfec84)return null;_0xbfec84=_0xbfec84['split']('?')[-0x16d3*0x1+0x1*-0x2a8+0x197b];const _0x1137c1=[_0xbfec84];if(_0x26e512['type']==='font'){const _0x2c4b0d=_0x26e512['data']['info']['maps']['length'];for(let _0x56047d=-0x3*-0x412+-0x5f3*-0x5+0x166*-0x1e;_0x56047d<_0x2c4b0d;_0x56047d++)_0x1137c1['push'](_0xbfec84['replace']('.png',_0x56047d+'.png'));}return _0x1137c1;}['_onAssetRe'+'move'](_0x5b607e){if(_0x5b607e['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x5b607e['id']),this['_unbindAss'+'etEvents'](_0x5b607e['id']);const _0x293b66=_0x5b607e['data']['assets'];for(let _0xff076d=0xa7*-0x1f+0x612+-0x1*-0xe27;_0xff076d<_0x293b66['length'];_0xff076d++){const _0x439f41=this['_assetToBu'+'ndles']['get'](_0x293b66[_0xff076d]);if(_0x439f41&&(_0x439f41['delete'](_0x5b607e),_0x439f41['size']===0x1*-0x1855+0x17*-0x13f+0x792*0x7)){this['_assetToBu'+'ndles']['delete'](_0x293b66[_0xff076d]);for(const [_0x3acc87,_0x24b4b1]of this['_urlsToBun'+'dles'])_0x24b4b1===_0x439f41&&this['_urlsToBun'+'dles']['delete'](_0x3acc87);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x5b607e['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x5b607e['id']))return;this['_assetToBu'+'ndles']['delete'](_0x5b607e['id']);const _0x290742=this['_getAssetF'+'ileUrls'](_0x5b607e);if(!_0x290742)return;for(let _0xe22f24=-0x1013+0x1*-0x11d6+0x21e9;_0xe22f24<_0x290742['length'];_0xe22f24++)this['_urlsToBun'+'dles']['delete'](_0x290742[_0xe22f24]);}}['_onBundleL'+'oadStart'](_0x1d64dc){_0x1d64dc['resource']['on']('add',(_0x29725d,_0xc3ecb6)=>{const _0x1cabfe=this['_fileReque'+'sts']['get'](_0x29725d);if(_0x1cabfe){for(let _0x31d68f=0x836+-0x207c+0x1846;_0x31d68f<_0x1cabfe['length'];_0x31d68f++)_0x1cabfe[_0x31d68f](null,_0xc3ecb6);this['_fileReque'+'sts']['delete'](_0x29725d);}});}['_onBundleL'+'oad'](_0x142a1d){if(!_0x142a1d['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x142a1d['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x1a8c62,_0xc7ad69]of this['_fileReque'+'sts']){const _0x41b48e=this['_urlsToBun'+'dles']['get'](_0x1a8c62);if(!_0x41b48e||!_0x41b48e['has'](_0x142a1d))continue;const _0x1e6258=decodeURIComponent(_0x1a8c62);let _0x454092,_0x5f0cf5;if(_0x142a1d['resource']['has'](_0x1e6258))_0x5f0cf5=_0x142a1d['resource']['get'](_0x1e6258);else{if(_0x142a1d['resource']['loaded'])_0x454092='Bundle\x20'+_0x142a1d['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x1a8c62;else continue;}for(let _0x95bf84=0x15e4+0x24c1+-0x3aa5;_0x95bf84<_0xc7ad69['length'];_0x95bf84++)_0xc7ad69[_0x95bf84](_0x454092,_0x454092||_0x5f0cf5);this['_fileReque'+'sts']['delete'](_0x1a8c62);}}['_onBundleE'+'rror'](_0xa623e6){for(const [_0x1de3fd,_0x3ab63c]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1de3fd)){for(let _0xb46d5b=-0xfe*-0x22+0x861+-0x1*0x2a1d;_0xb46d5b<_0x3ab63c['length'];_0xb46d5b++)_0x3ab63c[_0xb46d5b](_0xa623e6);this['_fileReque'+'sts']['delete'](_0x1de3fd);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4c8179){const _0xaade3c=this['_urlsToBun'+'dles']['get'](_0x4c8179);if(!_0xaade3c)return null;let _0x572374=null;for(const _0x1f25e1 of _0xaade3c){if(_0x1f25e1['loaded']&&_0x1f25e1['resource'])return _0x1f25e1;_0x1f25e1['loading']&&(_0x572374=_0x1f25e1);}return _0x572374;}['listBundle'+'sForAsset'](_0x2977df){const _0x2e16e9=this['_assetToBu'+'ndles']['get'](_0x2977df['id']);return _0x2e16e9?Array['from'](_0x2e16e9):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x5613e3){return this['_urlsToBun'+'dles']['has'](_0x5613e3);}['urlIsLoade'+'dOrLoading'](_0x2b518f){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x2b518f);}['loadUrl'](_0x2be89b,_0x3aac9c){const _0xe8a9ff=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x2be89b);if(!_0xe8a9ff){_0x3aac9c('URL\x20'+_0x2be89b+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0xe8a9ff['loaded']){const _0x19a78c=decodeURIComponent(_0x2be89b);if(_0xe8a9ff['resource']['has'](_0x19a78c)){_0x3aac9c(null,_0xe8a9ff['resource']['get'](_0x19a78c));return;}else{if(_0xe8a9ff['resource']['loaded']){_0x3aac9c('Bundle\x20'+_0xe8a9ff['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x2be89b);return;}}}let _0x4f7f17=this['_fileReque'+'sts']['get'](_0x2be89b);_0x4f7f17||(_0x4f7f17=[],this['_fileReque'+'sts']['set'](_0x2be89b,_0x4f7f17)),_0x4f7f17['push'](_0x3aac9c);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x1905a7 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x1905a7);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x882ee){const _0x4a1101=_0x882ee['id'];if(this[_0x4a1101])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x4a1101+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x4a1101]=_0x882ee,this['list']['push'](_0x882ee);}['remove'](_0x531e8c){const _0x83f9fb=_0x531e8c['id'];if(!this[_0x83f9fb])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x83f9fb+('\x27\x20register'+'ed'));delete this[_0x83f9fb];const _0x2dda08=this['list']['indexOf'](this[_0x83f9fb]);_0x2dda08!==-(-0x2*0x1346+-0x170a+0x3d97)&&this['list']['splice'](_0x2dda08,-0x614*-0x2+0xc00+-0x1827);}['destroy'](){this['off']();for(let _0x45861c=-0x1*-0x7fc+-0x1fdc*0x1+0x17e0;_0x45861c<this['list']['length'];_0x45861c++)this['list'][_0x45861c]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(-0x1bba+-0x3*0x30d+-0x1271*-0x2));}['addFile'](_0x5a6cad,_0x9f5d92){this['_index']['has'](_0x5a6cad)||(this['_index']['set'](_0x5a6cad,_0x9f5d92),this['fire']('add',_0x5a6cad,_0x9f5d92));}['has'](_0x242065){return this['_index']['has'](_0x242065);}['get'](_0x35d78b){return this['_index']['get'](_0x35d78b)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x86b122){!_0x86b122||this['_loaded']||(this['_loaded']=!(0x111*0x21+0x106c+-0x339d*0x1),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x400197,_0x34c3b9=''){super(),c(this,'headerSize',0x1d*0xd3+0x3*-0x24f+-0xefa),c(this,'paddingSiz'+'e',0x55d*-0x5+0x18*0x172+-0x3*0x1f5),c(this,'bytesRead',-0x1f*-0x65+0x1*-0x2523+0x18e8),c(this,'bytesRecei'+'ved',-0x1f44+-0xf*-0x26+-0x1d0a*-0x1),c(this,'headerRead',!(0x31a+0xf7*-0x26+0x2191)),c(this,'reader',null),c(this,'data',new Uint8Array(0x82*0x26+0x10e+-0x145a)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0x958+-0x1*0x86f+-0xe9),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x34c3b9||'',this['reader']=_0x400197['body']['getReader'](),this['reader']['read']()['then'](_0x1e9d2f=>{this['pump'](_0x1e9d2f['done'],_0x1e9d2f['value']);})['catch'](_0x3449a3=>{this['fire']('error',_0x3449a3);}));}['pump'](_0x3fcab,_0x474915){if(_0x3fcab)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x474915['byteLength'];const _0x49b2de=new Uint8Array(this['data']['length']+_0x474915['length']);for(_0x49b2de['set'](this['data']),_0x49b2de['set'](_0x474915,this['data']['length']),this['data']=_0x49b2de;this['readFile'](););return this['reader']['read']()['then'](_0x4cd06b=>{this['pump'](_0x4cd06b['done'],_0x4cd06b['value']);})['catch'](_0x353f78=>{this['fire']('error',_0x353f78);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x19a4+-0xf5e+0x2902);const _0x59daf6=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x4964dd=this['decoder']['decode'](_0x59daf6);if(this['fileName']=_0x4964dd['substring'](-0x93d+-0x5f2+0xf2f*0x1,-0x4*0x8a5+-0x10*0xc3+-0xc*-0x3ee)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x4964dd['substring'](0x99b*-0x3+0x3*-0x5ea+-0x1*-0x2f0b,-0x297*0x6+-0x1dc0+0xe6*0x33),0x1754+-0x39a+-0x1*0x13b2),this['fileType']=_0x4964dd['substring'](-0x973*0x3+-0x5*0x31f+0x2c90,0x2333+-0xde9*-0x1+-0x307f),this['ustarForma'+'t']=_0x4964dd['substring'](0x15f3+-0x2111+0x1d*0x6b,-0x24b0+-0x2e*0x9b+0x4191),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x1dc6+-0x1129+0x2ef0)){const _0x2c794e=_0x4964dd['substring'](-0x2386+0xa0a+-0x1*-0x1ad5,-0x1557+0x1*-0x2ba+-0x1*-0x1a05)['replace'](/\0/g,'');_0x2c794e['length']>0xf44+-0x24f8+-0x3*-0x73c&&(this['fileName']=_0x2c794e['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x50e+-0x148+-0x1c6*0x1;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x1e87+0x26c3+-0x4549);if(this['fileType']===''||this['fileType']==='0'){const _0x261bc5=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x3562a4={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x261bc5};this['fire']('file',_0x3562a4);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x2*0x2b1+-0xc5b+-0x11be*-0x1);const _0x5b9881=this['bytesRead']%this['paddingSiz'+'e'];return _0x5b9881!==0x2578+-0x202f+-0x549&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x5b9881),!(-0x10eb+0x2366+-0x3*0x629);}return!(0xf82+0x1132+-0x20b3);}}class Ne{constructor(_0x1b68c6,_0x4c5d95){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',-0x5*0x21a+-0xa14+0xa*0x20f),(this['_app']=_0x1b68c6,this['handlerTyp'+'e']=_0x4c5d95);}set['maxRetries'](_0x342477){this['_maxRetrie'+'s']=_0x342477;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x6d7fbc,_0x233566,_0x59e840){}['open'](_0x312d31,_0x57c6a6,_0x431aa5){return _0x57c6a6;}['patch'](_0x4b3657,_0x418530){}}class rP extends Ne{constructor(_0x27c0be){super(_0x27c0be,'bundle'),this['_assets']=_0x27c0be['assets'];}['_fetchRetr'+'ies'](_0x10e7d3,_0xdd8013,_0xa54f44=0xa3*0x7+0x29d*0x8+-0x195d){return new Promise((_0x114624,_0x3fe361)=>{const _0x95c780=()=>{fetch(_0x10e7d3,_0xdd8013)['then'](_0x114624)['catch'](_0x481e5a=>{_0xa54f44++,_0xa54f44<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0xa54f44),_0x95c780()):_0x3fe361(_0x481e5a);});};_0x95c780();});}['load'](_0x12bad1,_0x1971c5){typeof _0x12bad1=='string'&&(_0x12bad1={'load':_0x12bad1,'original':_0x12bad1}),this['_fetchRetr'+'ies'](_0x12bad1['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x38e477=>{const _0x514819=new Xu();_0x1971c5(null,_0x514819);const _0x1c6c04=new iP(_0x38e477,this['_assets']['prefix']);_0x1c6c04['on']('file',_0x333d8c=>{_0x514819['addFile'](_0x333d8c['name'],_0x333d8c['data']);}),_0x1c6c04['on']('done',()=>{_0x514819['loaded']=!(-0x24aa+0x34f+0x215b*0x1);}),_0x1c6c04['on']('error',_0x17053f=>{v['error'](_0x17053f),_0x1971c5(_0x17053f);});})['catch'](_0x5b88d8=>{v['error'](_0x5b88d8),_0x1971c5(_0x5b88d8);});}['open'](_0x3c1516,_0x4d95d9){return _0x4d95d9;}}class pa{constructor(_0x13e54c){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x13e54c;}['addHandler'](_0x2131fa,_0xae321e){this['_handlers'][_0x2131fa]=_0xae321e,_0xae321e['_loader']=this;}['removeHand'+'ler'](_0x429165){delete this['_handlers'][_0x429165];}['getHandler'](_0x4e95fb){return this['_handlers'][_0x4e95fb];}static['makeKey'](_0x5adb3a,_0x147fef){return _0x5adb3a+'-'+_0x147fef;}['load'](_0x3a9e7b,_0x2a4969,_0x3e5e99,_0x47e4db,_0x40db79){var _0x54a445;const _0x56b9d0=this['_handlers'][_0x2a4969];if(!_0x56b9d0){const _0x5dd3eb='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x2a4969+('\x27\x20when\x20loa'+'ding\x20[')+_0x3a9e7b+']';v['errorOnce'](_0x5dd3eb),_0x3e5e99(_0x5dd3eb);return;}if(!_0x3a9e7b){this['_loadNull'](_0x56b9d0,_0x3e5e99,_0x47e4db);return;}const _0x313197=pa['makeKey'](_0x3a9e7b,_0x2a4969);if(this['_cache'][_0x313197]!==void(0xe9*-0x1f+0x1c3e+-0x1*0x7))_0x3e5e99(null,this['_cache'][_0x313197]);else{if(this['_requests'][_0x313197])this['_requests'][_0x313197]['push'](_0x3e5e99);else{this['_requests'][_0x313197]=[_0x3e5e99];const _0x18bb35=this,_0x3d9aad=function(_0x53490f,_0x36fe97){if(_0x53490f){_0x18bb35['_onFailure'](_0x313197,_0x53490f);return;}if(_0x36fe97['load']instanceof DataView){if(_0x56b9d0['openBinary']){if(!_0x18bb35['_requests'][_0x313197])return;try{const _0x16ea38=_0x56b9d0['openBinary'](_0x36fe97['load']);_0x18bb35['_onSuccess'](_0x313197,_0x16ea38);}catch(_0x286d0c){_0x18bb35['_onFailure'](_0x313197,_0x286d0c);}return;}_0x36fe97['load']=URL['createObje'+'ctURL'](new Blob([_0x36fe97['load']])),_0x47e4db&&(_0x47e4db['urlObject']&&URL['revokeObje'+'ctURL'](_0x47e4db['urlObject']),_0x47e4db['urlObject']=_0x36fe97['load']);}_0x56b9d0['load'](_0x36fe97,(_0x2ee35d,_0x58a027,_0x2c7ab2)=>{if(_0x18bb35['_requests'][_0x313197]){if(_0x2ee35d){_0x18bb35['_onFailure'](_0x313197,_0x2ee35d);return;}try{_0x18bb35['_onSuccess'](_0x313197,_0x56b9d0['open'](_0x36fe97['original'],_0x58a027,_0x47e4db),_0x2c7ab2);}catch(_0x1354dc){_0x18bb35['_onFailure'](_0x313197,_0x1354dc);}}},_0x47e4db);},_0x191641=_0x3a9e7b['split']('?')[0x679+0x1b36+-0x1*0x21af];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x191641)&&!(_0x40db79&&_0x40db79['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x191641)){const _0x3586af=this['_app']['bundles']['listBundle'+'sForAsset'](_0x47e4db);let _0x3447de;_0x40db79&&_0x40db79['bundlesFil'+'ter']&&(_0x3447de=_0x40db79['bundlesFil'+'ter'](_0x3586af)),_0x3447de||(_0x3586af==null||_0x3586af['sort']((_0x15310a,_0x440f70)=>_0x15310a['file']['size']-_0x440f70['file']['size']),_0x3447de=_0x3586af==null?void(-0x22ef+0x10+-0x4f*-0x71):_0x3586af[0xc*0x2d6+-0xa*-0x4f+-0x251e]),_0x3447de&&((_0x54a445=this['_app']['assets'])==null||_0x54a445['load'](_0x3447de));}this['_app']['bundles']['loadUrl'](_0x191641,(_0x53a0cc,_0x1b2aea)=>{_0x3d9aad(_0x53a0cc,{'load':_0x1b2aea,'original':_0x191641});});}else _0x3d9aad(null,{'load':_0x3a9e7b,'original':_0x47e4db&&_0x47e4db['file']['filename']||_0x3a9e7b});}}}['_loadNull'](_0x367f36,_0x4c1cd4,_0x55d7c6){const _0xff62ab=function(_0x3518bf,_0x3d9817,_0x44f6bb){if(_0x3518bf)_0x4c1cd4(_0x3518bf);else try{_0x4c1cd4(null,_0x367f36['open'](null,_0x3d9817,_0x55d7c6),_0x44f6bb);}catch(_0x56942e){_0x4c1cd4(_0x56942e);}};_0x367f36['load'](null,_0xff62ab,_0x55d7c6);}['_onSuccess'](_0x4b9574,_0x3223e3,_0x592039){_0x3223e3!==null?this['_cache'][_0x4b9574]=_0x3223e3:delete this['_cache'][_0x4b9574];for(let _0x5e0358=-0x1561+0x107d+-0x1*-0x4e4;_0x5e0358<this['_requests'][_0x4b9574]['length'];_0x5e0358++)this['_requests'][_0x4b9574][_0x5e0358](null,_0x3223e3,_0x592039);delete this['_requests'][_0x4b9574];}['_onFailure'](_0xf7f823,_0x2be55f){if(console['error'](_0x2be55f),this['_requests'][_0xf7f823]){for(let _0x599c61=-0x6c*-0x39+-0x130e+-0x3*0x1aa;_0x599c61<this['_requests'][_0xf7f823]['length'];_0x599c61++)this['_requests'][_0xf7f823][_0x599c61](_0x2be55f);delete this['_requests'][_0xf7f823];}}['open'](_0x4d0e98,_0x52c381){const _0x55b629=this['_handlers'][_0x4d0e98];return _0x55b629?_0x55b629['open'](null,_0x52c381):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x4d0e98),_0x52c381);}['patch'](_0x1dd64b,_0x35c27c){const _0x32be06=this['_handlers'][_0x1dd64b['type']];if(!_0x32be06){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x1dd64b['type']);return;}_0x32be06['patch']&&_0x32be06['patch'](_0x1dd64b,_0x35c27c);}['clearCache'](_0x40defe,_0x4aae82){const _0x2a6dba=pa['makeKey'](_0x40defe,_0x4aae82);delete this['_cache'][_0x2a6dba];}['getFromCac'+'he'](_0x3d8f03,_0x16607d){const _0x24eb0c=pa['makeKey'](_0x3d8f03,_0x16607d);if(this['_cache'][_0x24eb0c])return this['_cache'][_0x24eb0c];}['enableRetr'+'y'](_0x1c9514=0x1*-0x363+-0x9a*-0x11+-0xc2*0x9){_0x1c9514=Math['max'](0x486+-0x6d*-0x47+-0x29*0xd9,_0x1c9514)||-0xf8*0x1d+-0x644+-0x1*-0x225c;for(const _0x2e22c9 in this['_handlers'])this['_handlers'][_0x2e22c9]['maxRetries']=_0x1c9514;}['disableRet'+'ry'](){for(const _0x5c8a91 in this['_handlers'])this['_handlers'][_0x5c8a91]['maxRetries']=0x15ae+-0x66e+-0xf40;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0x1e0648){if(!_0x1e0648['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x1e0648['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1e0648['header']['version']!==-0xbcb*0x3+-0x116+0x2478)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1e0648['data']){if(!Array['isArray'](_0x1e0648['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x5e7361=-0x63b+0x3*-0x449+0x1316,_0xfd699d=_0x1e0648['data']['length'];_0x5e7361<_0xfd699d;_0x5e7361++){const _0x2f82a5=_0x1e0648['data'][_0x5e7361];if(!_0x2f82a5['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5e7361+('].info\x22\x20fi'+'eld'));if(!_0x2f82a5['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5e7361+('].info.loc'+'ale\x22\x20field'));if(typeof _0x2f82a5['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x5e7361+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x2f82a5['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x5e7361+('].messages'+'\x22\x20field'));}}['parse'](_0x198635){return this['_validate'](_0x198635),_0x198635['data'];}}class aP extends ce{constructor(_0xd83ba6){super(),this['locale']=Wh,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0xd83ba6,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x524ff5){const _0x2b9fc3={};for(let _0x3f4c0d=-0xaa*0x11+0x90d*-0x1+-0x29*-0x7f,_0xaacb4d=_0x524ff5['length'];_0x3f4c0d<_0xaacb4d;_0x3f4c0d++){const _0x3b5a95=_0x524ff5[_0x3f4c0d]instanceof le?_0x524ff5[_0x3f4c0d]['id']:_0x524ff5[_0x3f4c0d];_0x2b9fc3[_0x3b5a95]=!(-0x1d*-0x17+-0x7f*-0x49+-0x26d2*0x1);}let _0x43cb98=this['_assets']['length'];for(;_0x43cb98--;){const _0x46f7aa=this['_assets'][_0x43cb98];if(!_0x2b9fc3[_0x46f7aa]){this['_app']['assets']['off']('add:'+_0x46f7aa,this['_onAssetAd'+'d'],this);const _0x3a89b6=this['_app']['assets']['get'](_0x46f7aa);_0x3a89b6&&this['_onAssetRe'+'move'](_0x3a89b6),this['_assets']['splice'](_0x43cb98,0xa28+-0x2160+0x1739);}}for(const _0x5a13f1 in _0x2b9fc3){const _0x37b324=parseInt(_0x5a13f1,0x25c*0xa+-0x26bd+-0xa9*-0x17);if(this['_assets']['indexOf'](_0x37b324)!==-(-0x3a8+0x1*0x138b+-0xfe2))continue;this['_assets']['push'](_0x37b324);const _0x27654c=this['_app']['assets']['get'](_0x37b324);_0x27654c?this['_onAssetAd'+'d'](_0x27654c):this['_app']['assets']['once']('add:'+_0x37b324,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0xcb65cd){if(this['_locale']===_0xcb65cd)return;let _0x293830=pi(_0xcb65cd);if(_0x293830==='in'&&(_0x293830='id',_0xcb65cd=Y1(_0xcb65cd,_0x293830),this['_locale']===_0xcb65cd))return;const _0x5d5e2e=this['_locale'];this['_locale']=_0xcb65cd,this['_lang']=_0x293830,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0xcb65cd,_0x5d5e2e);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x18b0aa,_0x5b1ebc){return V0(_0x18b0aa,_0x5b1ebc);}['findAvaila'+'bleLocale'](_0x554708){if(this['_translati'+'ons'][_0x554708])return _0x554708;const _0x2bb1f0=pi(_0x554708);return this['_findFallb'+'ackLocale'](_0x554708,_0x2bb1f0);}['getText'](_0x2f0e3d,_0x57f1e2){let _0x2c9980=_0x2f0e3d,_0x32f9a6;_0x57f1e2||(_0x57f1e2=this['_locale'],_0x32f9a6=this['_lang']);let _0x3dbd33=this['_translati'+'ons'][_0x57f1e2];return _0x3dbd33||(_0x32f9a6||(_0x32f9a6=pi(_0x57f1e2)),_0x57f1e2=this['_findFallb'+'ackLocale'](_0x57f1e2,_0x32f9a6),_0x3dbd33=this['_translati'+'ons'][_0x57f1e2]),_0x3dbd33&&_0x3dbd33['hasOwnProp'+'erty'](_0x2f0e3d)&&(_0x2c9980=_0x3dbd33[_0x2f0e3d],Array['isArray'](_0x2c9980)&&(_0x2c9980=_0x2c9980[-0x1dec+0x24b8+0x3a*-0x1e]),_0x2c9980==null&&(_0x2c9980=_0x2f0e3d)),_0x2c9980;}['getPluralT'+'ext'](_0x42e1fd,_0x54b0ca,_0x1fa2ef){let _0x1dad7a=_0x42e1fd,_0xd5edf3,_0x1d5ecb;_0x1fa2ef?(_0xd5edf3=pi(_0x1fa2ef),_0x1d5ecb=Xd(_0xd5edf3)):(_0x1fa2ef=this['_locale'],_0xd5edf3=this['_lang'],_0x1d5ecb=this['_pluralFn']);let _0x5caa5f=this['_translati'+'ons'][_0x1fa2ef];if(_0x5caa5f||(_0x1fa2ef=this['_findFallb'+'ackLocale'](_0x1fa2ef,_0xd5edf3),_0xd5edf3=pi(_0x1fa2ef),_0x1d5ecb=Xd(_0xd5edf3),_0x5caa5f=this['_translati'+'ons'][_0x1fa2ef]),_0x5caa5f&&_0x5caa5f[_0x42e1fd]&&_0x1d5ecb){const _0x18099f=_0x1d5ecb(_0x54b0ca);_0x1dad7a=_0x5caa5f[_0x42e1fd][_0x18099f],_0x1dad7a==null&&(_0x1dad7a=_0x42e1fd);}return _0x1dad7a;}['addData'](_0x5e1e87){let _0xc35a2f;try{_0xc35a2f=this['_parser']['parse'](_0x5e1e87);}catch(_0x184397){console['error'](_0x184397);return;}for(let _0x131327=0x17*-0x17+-0x439*0x2+-0xa83*-0x1,_0x25c5b1=_0xc35a2f['length'];_0x131327<_0x25c5b1;_0x131327++){const _0x2b2825=_0xc35a2f[_0x131327],_0x593c65=_0x2b2825['info']['locale'],_0x199760=_0x2b2825['messages'];if(!this['_translati'+'ons'][_0x593c65]){this['_translati'+'ons'][_0x593c65]={};const _0x200993=pi(_0x593c65);this['_available'+'Langs'][_0x200993]||(this['_available'+'Langs'][_0x200993]=_0x593c65);}Object['assign'](this['_translati'+'ons'][_0x593c65],_0x199760),this['fire']('data:add',_0x593c65,_0x199760);}}['removeData'](_0x644722){let _0x2868be;try{_0x2868be=this['_parser']['parse'](_0x644722);}catch(_0x1d27fb){console['error'](_0x1d27fb);return;}for(let _0x4cc84f=-0xc8*0x16+0x11fb+-0xcb,_0xf7a5e8=_0x2868be['length'];_0x4cc84f<_0xf7a5e8;_0x4cc84f++){const _0x19f67e=_0x2868be[_0x4cc84f],_0x40254c=_0x19f67e['info']['locale'],_0x339c40=this['_translati'+'ons'][_0x40254c];if(!_0x339c40)continue;const _0x59192e=_0x19f67e['messages'];for(const _0x3de453 in _0x59192e)delete _0x339c40[_0x3de453];Object['keys'](_0x339c40)['length']===-0x110d+-0xeb*-0x29+-0x136*0x11&&(delete this['_translati'+'ons'][_0x40254c],delete this['_available'+'Langs'][pi(_0x40254c)]),this['fire']('data:remov'+'e',_0x40254c,_0x59192e);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0xbafa37,_0x26586e){let _0x35ee84=$h[_0xbafa37];return _0x35ee84&&this['_translati'+'ons'][_0x35ee84]||(_0x35ee84=$h[_0x26586e],_0x35ee84&&this['_translati'+'ons'][_0x35ee84])||(_0x35ee84=this['_available'+'Langs'][_0x26586e],_0x35ee84&&this['_translati'+'ons'][_0x35ee84])?_0x35ee84:Wh;}['_onAssetAd'+'d'](_0x592c0d){_0x592c0d['on']('load',this['_onAssetLo'+'ad'],this),_0x592c0d['on']('change',this['_onAssetCh'+'ange'],this),_0x592c0d['on']('remove',this['_onAssetRe'+'move'],this),_0x592c0d['on']('unload',this['_onAssetUn'+'load'],this),_0x592c0d['resource']&&this['_onAssetLo'+'ad'](_0x592c0d);}['_onAssetLo'+'ad'](_0x497522){this['addData'](_0x497522['resource']);}['_onAssetCh'+'ange'](_0x577e6d){_0x577e6d['resource']&&this['addData'](_0x577e6d['resource']);}['_onAssetRe'+'move'](_0x34f6a6){_0x34f6a6['off']('load',this['_onAssetLo'+'ad'],this),_0x34f6a6['off']('change',this['_onAssetCh'+'ange'],this),_0x34f6a6['off']('remove',this['_onAssetRe'+'move'],this),_0x34f6a6['off']('unload',this['_onAssetUn'+'load'],this),_0x34f6a6['resource']&&this['removeData'](_0x34f6a6['resource']),this['_app']['assets']['once']('add:'+_0x34f6a6['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x4ce5dd){_0x4ce5dd['resource']&&this['removeData'](_0x4ce5dd['resource']);}}class oP extends ce{constructor(_0x476344){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x476344;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x3bdc8c,_0x1d7dec){_0x1d7dec&&this['_scriptSch'+'emas']['set'](_0x3bdc8c,_0x1d7dec);}['getSchema'](_0x56d3f9){return this['_scriptSch'+'emas']['get'](_0x56d3f9);}['add'](_0x538ea1){const _0x598716=_0x538ea1['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x598716)?(setTimeout(()=>{if(_0x538ea1['prototype']['swap']){const _0x50b823=this['_scripts'][_0x598716],_0x4c6847=this['_list']['indexOf'](_0x50b823);this['_list'][_0x4c6847]=_0x538ea1,this['_scripts'][_0x598716]=_0x538ea1,this['fire']('swap',_0x598716,_0x538ea1),this['fire']('swap:'+_0x598716,_0x538ea1);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x598716+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x2471+-0x23e*0xb+0x3d1c)):(this['_scripts'][_0x598716]=_0x538ea1,this['_list']['push'](_0x538ea1),this['fire']('add',_0x598716,_0x538ea1),this['fire']('add:'+_0x598716,_0x538ea1),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x598716)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x4c417f=this['app']['systems']['script']['_component'+'s'];let _0x1f9f31;const _0x38b481=[],_0x5af69b=[];for(_0x4c417f['loopIndex']=-0x3*0x923+-0x860+0x23c9;_0x4c417f['loopIndex']<_0x4c417f['length'];_0x4c417f['loopIndex']++){const _0x3df899=_0x4c417f['items'][_0x4c417f['loopIndex']];if(_0x3df899['_scriptsIn'+'dex'][_0x598716]&&_0x3df899['_scriptsIn'+'dex'][_0x598716]['awaiting']){_0x3df899['_scriptsDa'+'ta']&&_0x3df899['_scriptsDa'+'ta'][_0x598716]&&(_0x1f9f31=_0x3df899['_scriptsDa'+'ta'][_0x598716]['attributes']);const _0x225104=_0x3df899['create'](_0x598716,{'preloading':!(0x7df+0x5*0x2d7+-0x1612),'ind':_0x3df899['_scriptsIn'+'dex'][_0x598716]['ind'],'attributes':_0x1f9f31});_0x225104&&_0x38b481['push'](_0x225104);for(const _0x575d91 of _0x3df899['scripts'])_0x3df899['initialize'+'Attributes'](_0x575d91);}}for(let _0x54baba=-0x1450+0x2*-0xbb1+-0x77*-0x5e;_0x54baba<_0x38b481['length'];_0x54baba++)_0x38b481[_0x54baba]['enabled']&&(_0x38b481[_0x54baba]['_initializ'+'ed']=!(-0x79e+-0x10be+0x185c*0x1),_0x5af69b['push'](_0x38b481[_0x54baba]),_0x38b481[_0x54baba]['initialize']&&_0x38b481[_0x54baba]['initialize']());for(let _0x2bb016=0x1c86+-0x895+-0x13f1;_0x2bb016<_0x5af69b['length'];_0x2bb016++)!_0x5af69b[_0x2bb016]['enabled']||_0x5af69b[_0x2bb016]['_postIniti'+'alized']||(_0x5af69b[_0x2bb016]['_postIniti'+'alized']=!(-0x976+0x16a*0x1a+-0x1b4e),_0x5af69b[_0x2bb016]['postInitia'+'lize']&&_0x5af69b[_0x2bb016]['postInitia'+'lize']());}),!(-0xdb9+0xf*0x1f1+-0xf66));}['remove'](_0x1af24e){let _0x24237c=_0x1af24e,_0x270908=_0x1af24e;if(typeof _0x270908!='string'?_0x270908=_0x24237c['__name']:_0x24237c=this['get'](_0x270908),this['get'](_0x270908)!==_0x24237c)return!(-0x2*-0xeb8+0x4*-0x3e+0x1*-0x1c77);delete this['_scripts'][_0x270908];const _0x10215b=this['_list']['indexOf'](_0x24237c);return this['_list']['splice'](_0x10215b,-0x2497*-0x1+0x10a7+-0x3*0x11bf),this['fire']('remove',_0x270908,_0x24237c),this['fire']('remove:'+_0x270908,_0x24237c),!(0xd36+0x5e9*-0x4+0xf*0xb2);}['get'](_0x4e59cd){return this['_scripts'][_0x4e59cd]||null;}['has'](_0x5ba38e){if(typeof _0x5ba38e=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x5ba38e);if(!_0x5ba38e)return!(0x824*0x3+-0x2212+0x9a7);const _0x16b09a=_0x5ba38e['__name'];return this['_scripts'][_0x16b09a]===_0x5ba38e;}['list'](){return this['_list'];}}const lP=(_0x32822d,_0x3abd4c)=>_0x32822d['constructo'+'r']['order']-_0x3abd4c['constructo'+'r']['order'],hP=_0x4b0b2e=>_0x4b0b2e['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],$_=_0x3f4196=>{_0x3f4196['length']=0x1a3f+-0x1d8e+0x4d*0xb,G0['push'](_0x3f4196);},ac=class ac extends De{constructor(_0x1629de,_0x36f28b=tn()){super(_0x1629de),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(0x1*0x2702+-0x102*-0x8+0x1*-0x2f11)),c(this,'_guid',null),c(this,'_template',!(-0xd63+-0xc37+-0x1b5*-0xf)),(v['assert'](_0x36f28b,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x36f28b);}['addCompone'+'nt'](_0x255bdd,_0xbfa229){const _0x29d0b2=this['_app']['systems'][_0x255bdd];return _0x29d0b2?this['c'][_0x255bdd]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x255bdd+('\x27\x20componen'+'t')),null):_0x29d0b2['addCompone'+'nt'](this,_0xbfa229):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x255bdd+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x17a78e){const _0x48068f=this['_app']['systems'][_0x17a78e];if(!_0x48068f){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x17a78e+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x17a78e]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x17a78e+('\x27\x20componen'+'t'));return;}_0x48068f['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x280911){const _0xb82184=this['findOne'](_0x52406c=>{var _0x1401c8;return(_0x1401c8=_0x52406c['c'])==null?void(0x18da+0x1de4+0x7*-0x7d2):_0x1401c8[_0x280911];});return _0xb82184&&_0xb82184['c'][_0x280911];}['findCompon'+'ents'](_0x46c796){return this['find'](_0x4c348b=>{var _0x1d0075;return(_0x1d0075=_0x4c348b['c'])==null?void(0x141a+0x1bd*0xc+-0x28f6):_0x1d0075[_0x46c796];})['map'](_0x55f83f=>_0x55f83f['c'][_0x46c796]);}['findScript'](_0x1ec8d6){const _0x1e2247=this['findOne'](_0xb953b2=>{var _0x57df66,_0x5dccc6;return(_0x5dccc6=(_0x57df66=_0xb953b2['c'])==null?void(-0x1*0x254f+0x1e89+0x242*0x3):_0x57df66['script'])==null?void(0x1d2f+-0x2221+0x4f2):_0x5dccc6['has'](_0x1ec8d6);});return _0x1e2247==null?void(-0x2*-0x13d+-0x553+-0x3*-0xf3):_0x1e2247['c']['script']['get'](_0x1ec8d6);}['findScript'+'s'](_0x563778){return this['find'](_0xa5cc63=>{var _0xc1a912,_0x3f0655;return(_0x3f0655=(_0xc1a912=_0xa5cc63['c'])==null?void(-0x330+-0x29*-0x6b+-0xdf3):_0xc1a912['script'])==null?void(-0x1*-0x1485+-0x14a3*-0x1+0x2*-0x1494):_0x3f0655['has'](_0x563778);})['map'](_0x32d55b=>_0x32d55b['c']['script']['get'](_0x563778));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x2eb9a3){const _0x1155be=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x1155be[this['_guid']],this['_guid']=_0x2eb9a3,_0x1155be[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x3c04a7,_0x332415){let _0x115f71=!(0x3*-0x6ef+-0xb*-0xc9+0x23*0x59);_0x3c04a7===this&&Za['length']===-0x1ff9+-0x1ef3+0x4*0xfbb&&(_0x115f71=!(-0x20a0+0x1d76+-0x5*-0xa2)),_0x3c04a7['_beingEnab'+'led']=!(-0x762+-0x25*-0xcb+0x49*-0x4d),_0x3c04a7['_onHierarc'+'hyStateCha'+'nged'](_0x332415),_0x3c04a7['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x3c04a7);const _0x275c59=_0x3c04a7['_children'];for(let _0x2eb653=-0x1cb0+0x1e99+-0x1e9,_0x4c3ee9=_0x275c59['length'];_0x2eb653<_0x4c3ee9;_0x2eb653++)_0x275c59[_0x2eb653]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x275c59[_0x2eb653],_0x332415);if(_0x3c04a7['_beingEnab'+'led']=!(0x200*0x2+-0x376*0x4+0x9d9),_0x115f71){for(let _0x265bd7=0x2133+0x1790+-0x38c3;_0x265bd7<Za['length'];_0x265bd7++)Za[_0x265bd7]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=-0x8a*-0x14+0x2503+-0x2fcb;}}['_onHierarc'+'hyStateCha'+'nged'](_0x36674a){super['_onHierarc'+'hyStateCha'+'nged'](_0x36674a);const _0x3ff67e=this['_getSorted'+'Components']();for(let _0x2e1056=-0x1c38+0x322*-0x6+0x3b*0xcc;_0x2e1056<_0x3ff67e['length'];_0x2e1056++){const _0x3b24de=_0x3ff67e[_0x2e1056];_0x3b24de['enabled']&&(_0x36674a?_0x3b24de['onEnable']():_0x3b24de['onDisable']());}$_(_0x3ff67e);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x3d128c=this['_getSorted'+'Components']();for(let _0x37c2ab=-0xe7b+-0x1dc0+0x2c3b;_0x37c2ab<_0x3d128c['length'];_0x37c2ab++)_0x3d128c[_0x37c2ab]['onPostStat'+'eChange']();$_(_0x3d128c);}['findByGuid'](_0xc5fcdf){if(this['_guid']===_0xc5fcdf)return this;const _0x1fa80a=this['_app']['_entityInd'+'ex'][_0xc5fcdf];return _0x1fa80a&&(_0x1fa80a===this||_0x1fa80a['isDescenda'+'ntOf'](this))?_0x1fa80a:null;}['destroy'](){this['_destroyin'+'g']=!(0x1b4b+0x20cd*0x1+0x3*-0x1408);for(const _0xd50a45 in this['c'])this['c'][_0xd50a45]['enabled']=!(0xb*0x2ad+-0xacc+-0x109*0x12);for(const _0x293dd8 in this['c'])this['c'][_0x293dd8]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x2*0xf53+-0x14*-0xde+0xd4f);}['clone'](){const _0x389a35={},_0x2124b0=this['_cloneRecu'+'rsively'](_0x389a35);return _0x389a35[this['getGuid']()]=_0x2124b0,H0(this,this,_0x2124b0,_0x389a35),_0x2124b0;}['_getSorted'+'Components'](){const _0x1d3710=this['c'],_0x3175c6=cP();let _0x49194b=0x47c+-0x2*0xfee+-0x1b60*-0x1;for(const _0x3b5c63 in _0x1d3710)if(_0x1d3710['hasOwnProp'+'erty'](_0x3b5c63)){const _0x5963df=_0x1d3710[_0x3b5c63];_0x49194b|=_0x5963df['constructo'+'r']['order']!==-0x42d*0x9+-0x1c0e+0x41a3,_0x3175c6['push'](_0x5963df);}return _0x49194b&&_0x3175c6['length']>0x1*0x21a+-0x3*-0xb12+-0x234f&&hP(_0x3175c6),_0x3175c6;}['_cloneRecu'+'rsively'](_0x12331b){const _0x2b8fa0=new this['constructo'+'r'](void(-0x15df+0x8*-0x9b+0x1ab7),this['_app']);super['_cloneInte'+'rnal'](_0x2b8fa0);for(const _0x2685e3 in this['c'])this['c'][_0x2685e3]['system']['cloneCompo'+'nent'](this,_0x2b8fa0);for(let _0x4d7d89=-0x1ae0+0x35c*0x5+-0x35c*-0x3;_0x4d7d89<this['_children']['length'];_0x4d7d89++){const _0x1f0d19=this['_children'][_0x4d7d89];if(_0x1f0d19 instanceof ac){const _0x397ed9=_0x1f0d19['_cloneRecu'+'rsively'](_0x12331b);_0x2b8fa0['addChild'](_0x397ed9),_0x12331b[_0x1f0d19['getGuid']()]=_0x397ed9;}}return _0x2b8fa0;}};c(ac,'EVENT_DEST'+'ROY','destroy');let We=ac;function H0(_0x363404,_0x4af50f,_0x3011bc,_0x293c8d){if(_0x4af50f instanceof We){const _0x40b322=_0x4af50f['c'];for(const _0x5af2b6 in _0x40b322){const _0x289c68=_0x40b322[_0x5af2b6],_0x34900e=_0x289c68['system']['getPropert'+'iesOfType']('entity');for(let _0x3a98aa=0x1821+-0x17f*0x9+0x3*-0x38e,_0x34f0a5=_0x34900e['length'];_0x3a98aa<_0x34f0a5;_0x3a98aa++){const _0x4cc26d=_0x34900e[_0x3a98aa]['name'],_0x522316=_0x289c68[_0x4cc26d];if(!!_0x363404['findByGuid'](_0x522316)){const _0xb549dc=_0x293c8d[_0x522316]['getGuid']();_0xb549dc?_0x3011bc['c'][_0x5af2b6][_0x4cc26d]=_0xb549dc:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x40b322['script']&&_0x3011bc['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x40b322['script'],_0x293c8d),_0x40b322['render']&&_0x3011bc['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x40b322['render'],_0x293c8d),_0x40b322['button']&&_0x3011bc['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x40b322['button'],_0x293c8d),_0x40b322['scrollview']&&_0x3011bc['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x40b322['scrollview'],_0x293c8d),_0x40b322['scrollbar']&&_0x3011bc['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x40b322['scrollbar'],_0x293c8d),_0x40b322['anim']&&_0x3011bc['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x40b322['anim'],_0x293c8d);const _0x161f2d=_0x4af50f['children']['filter'](_0x3c2535=>_0x3c2535 instanceof We),_0x58797f=_0x3011bc['children']['filter'](_0x486bf8=>_0x486bf8 instanceof We);for(let _0x4d1963=-0xff0+0xd65+0x3*0xd9,_0x20be69=_0x161f2d['length'];_0x4d1963<_0x20be69;_0x4d1963++)H0(_0x363404,_0x161f2d[_0x4d1963],_0x58797f[_0x4d1963],_0x293c8d);}}class q_{constructor(_0x114949,_0x394b32){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(0x19*-0x140+-0x2d*-0x3b+-0x9*-0x252)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x114949,this['url']=_0x394b32);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x3b533e){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x3b533e;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x4f94ca,_0x241741){if(this['_index']['hasOwnProp'+'erty'](_0x4f94ca))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x4f94ca),!(-0x10f1*0x1+-0x2505+0x35f7);const _0x207ad6=new q_(_0x4f94ca,_0x241741),_0x5727ff=this['_list']['push'](_0x207ad6);return this['_index'][_0x207ad6['name']]=_0x5727ff-(-0x11c+0x75b+-0x63e),this['_urlIndex'][_0x207ad6['url']]=_0x5727ff-(-0x83f+0x248b*0x1+0x1c4b*-0x1),!(-0x1*-0x1d53+0x1141*0x1+-0x2e94);}['find'](_0x4476d4){return this['_index']['hasOwnProp'+'erty'](_0x4476d4)?this['_list'][this['_index'][_0x4476d4]]:null;}['findByUrl'](_0x329caa){return this['_urlIndex']['hasOwnProp'+'erty'](_0x329caa)?this['_list'][this['_urlIndex'][_0x329caa]]:null;}['remove'](_0x3990b0){if(this['_index']['hasOwnProp'+'erty'](_0x3990b0)){const _0x3ace2a=this['_index'][_0x3990b0];let _0x14ea13=this['_list'][_0x3ace2a];delete this['_urlIndex'][_0x14ea13['url']],delete this['_index'][_0x3990b0],this['_list']['splice'](_0x3ace2a,0x9*-0x1dc+0x1*-0xc22+0x1cdf);for(let _0x248506=0x267e+-0xdc9+-0x18b5;_0x248506<this['_list']['length'];_0x248506++)_0x14ea13=this['_list'][_0x248506],this['_index'][_0x14ea13['name']]=_0x248506,this['_urlIndex'][_0x14ea13['url']]=_0x248506;}}['_loadScene'+'Data'](_0x36ce12,_0x4053dd,_0x4a39c9){const _0x4d52ea=this['_app'];let _0x3899bd=_0x36ce12;if(typeof _0x36ce12=='string'&&(_0x36ce12=this['findByUrl'](_0x3899bd)||this['find'](_0x3899bd)||new q_('Untitled',_0x3899bd)),_0x3899bd=_0x36ce12['url'],!_0x3899bd){_0x4a39c9('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x36ce12['loaded']){_0x4a39c9(null,_0x36ce12);return;}_0x4d52ea['assets']&&_0x4d52ea['assets']['prefix']&&!Da['test'](_0x3899bd)&&(_0x3899bd=fe['join'](_0x4d52ea['assets']['prefix'],_0x3899bd)),_0x36ce12['_onLoadedC'+'allbacks']['push'](_0x4a39c9),_0x36ce12['_loading']||_0x4d52ea['loader']['getHandler']('hierarchy')['load'](_0x3899bd,(_0x1be44e,_0x15f945)=>{_0x36ce12['data']=_0x15f945,_0x36ce12['_loading']=!(0xe35+-0x2220+-0x12c*-0x11);for(let _0x2a4945=0x1*0x3a9+0x6*-0x3bc+0x12bf;_0x2a4945<_0x36ce12['_onLoadedC'+'allbacks']['length'];_0x2a4945++)_0x36ce12['_onLoadedC'+'allbacks'][_0x2a4945](_0x1be44e,_0x36ce12);_0x4053dd||(_0x36ce12['data']=null),_0x36ce12['_onLoadedC'+'allbacks']['length']=0x1*-0x245b+0x1aed+0x8e*0x11;}),_0x36ce12['_loading']=!(-0x1cca+-0x22f2+0x2*0x1fde);}['loadSceneD'+'ata'](_0x5361b3,_0x10c1f4){this['_loadScene'+'Data'](_0x5361b3,!(-0x1ed5+-0x1d09+-0xc2*-0x4f),_0x10c1f4);}['unloadScen'+'eData'](_0x3f0620){typeof _0x3f0620=='string'&&(_0x3f0620=this['findByUrl'](_0x3f0620)),_0x3f0620&&(_0x3f0620['data']=null);}['_loadScene'+'Hierarchy'](_0x18fee6,_0x365f37,_0x198104){this['_loadScene'+'Data'](_0x18fee6,!(0x16f*0x19+0xf*-0x1f2+-0x4*0x1aa),(_0xad75f9,_0x30c290)=>{if(_0xad75f9){_0x198104&&_0x198104(_0xad75f9);return;}_0x365f37&&_0x365f37(_0x30c290);const _0x2dd8cd=this['_app'],_0xd232f=()=>{const _0x820d90=_0x2dd8cd['loader']['getHandler']('hierarchy');_0x2dd8cd['systems']['script']['preloading']=!(0x1336+0x3*-0x85d+0x2b*0x23);const _0x38c511=_0x820d90['open'](_0x30c290['url'],_0x30c290['data']);_0x2dd8cd['systems']['script']['preloading']=!(0xf*0x9b+0x26b8+0x17*-0x214),_0x2dd8cd['loader']['clearCache'](_0x30c290['url'],'hierarchy'),_0x2dd8cd['root']['addChild'](_0x38c511),_0x2dd8cd['systems']['fire']('initialize',_0x38c511),_0x2dd8cd['systems']['fire']('postInitia'+'lize',_0x38c511),_0x2dd8cd['systems']['fire']('postPostIn'+'itialize',_0x38c511),_0x198104&&_0x198104(null,_0x38c511);};_0x2dd8cd['_preloadSc'+'ripts'](_0x30c290['data'],_0xd232f);});}['loadSceneH'+'ierarchy'](_0x279dc1,_0x1c7a49){this['_loadScene'+'Hierarchy'](_0x279dc1,null,_0x1c7a49);}['loadSceneS'+'ettings'](_0x1caeee,_0x5354c6){this['_loadScene'+'Data'](_0x1caeee,!(0x245*-0x10+0x1faf+0x4a2*0x1),(_0x53b4b6,_0x27808f)=>{_0x53b4b6?_0x5354c6&&_0x5354c6(_0x53b4b6):(this['_app']['applyScene'+'Settings'](_0x27808f['data']['settings']),_0x5354c6&&_0x5354c6(null));});}['changeScen'+'e'](_0x4ce7af,_0x44435c){const _0x1240db=this['_app'],_0x25ccd1=_0xe4f9fd=>{const {children:_0x31fef6}=_0x1240db['root'];for(;_0x31fef6['length'];)_0x31fef6[0xa5f+0x1fcc+-0x2a2b*0x1]['destroy']();_0x1240db['applyScene'+'Settings'](_0xe4f9fd['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x4ce7af,_0x25ccd1,_0x44435c);}['loadScene'](_0x3ee037,_0x27819a){const _0x3c9ac3=this['_app'],_0x11f761=_0x3c9ac3['loader']['getHandler']('scene');_0x3c9ac3['assets']&&_0x3c9ac3['assets']['prefix']&&!Da['test'](_0x3ee037)&&(_0x3ee037=fe['join'](_0x3c9ac3['assets']['prefix'],_0x3ee037)),_0x11f761['load'](_0x3ee037,(_0x97cc07,_0x2e72ec)=>{if(_0x97cc07)_0x27819a&&_0x27819a(_0x97cc07);else{const _0x4815f8=()=>{_0x3c9ac3['systems']['script']['preloading']=!(0x8b*0x35+0x8c8+-0x258f);const _0x17b1a3=_0x11f761['open'](_0x3ee037,_0x2e72ec),_0x4a1074=this['findByUrl'](_0x3ee037);_0x4a1074&&!_0x4a1074['loaded']&&(_0x4a1074['data']=_0x2e72ec),_0x3c9ac3['systems']['script']['preloading']=!(-0x6fb*-0x4+-0x290+0x1*-0x195b),_0x3c9ac3['loader']['clearCache'](_0x3ee037,'scene'),_0x3c9ac3['loader']['patch']({'resource':_0x17b1a3,'type':'scene'},_0x3c9ac3['assets']),_0x3c9ac3['root']['addChild'](_0x17b1a3['root']),_0x3c9ac3['systems']['rigidbody']&&typeof Ammo<'u'&&_0x3c9ac3['systems']['rigidbody']['gravity']['set'](_0x17b1a3['_gravity']['x'],_0x17b1a3['_gravity']['y'],_0x17b1a3['_gravity']['z']),_0x27819a&&_0x27819a(null,_0x17b1a3);};_0x3c9ac3['_preloadSc'+'ripts'](_0x2e72ec,_0x4815f8);}});}}class uP{constructor(_0x3a09cf){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x3a09cf['_shaderSta'+'ts'],this['vram']=_0x3a09cf['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x3a1b2b;return(_0x3a1b2b=tn()['lightmappe'+'r'])==null?void(-0x1c9a*-0x1+-0x15d4+-0x363*0x2):_0x3a1b2b['stats'];}get['batcher'](){const _0x25f1da=tn()['_batcher'];return _0x25f1da?_0x25f1da['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x17835c){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(-0x1df+0x12cc+-0x10ec)),c(this,'_inFrameUp'+'date',!(0x22d9+-0x1703+-0xbd5)),c(this,'_libraries'+'Loaded',!(-0x2052+-0x24b7+0x450a)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(0x16*-0xa6+0x17e8+-0x9a4)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(-0x1aca+-0x1231*-0x1+0x2*0x44d)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0x1*-0xbb7+-0x1*-0xed5+0x85*-0x6),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',0x1c81+0x1f*-0xea+-0x2a),c(this,'maxDeltaTi'+'me',-0x169+0x43f*-0x7+0x2*0xf91+0.1),c(this,'frame',0x596+-0x6*-0x13f+-0xb*0x130),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(0x26c0+-0x3*-0x4b1+-0x34d3*0x1)),c(this,'renderNext'+'Frame',!(0x26f5*-0x1+0x23*0xb5+-0x3*-0x4bd)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(0x6d*-0x36+-0x566*-0x2+0xc32):no['indexOf']('$'))<0x268d+0x4c*-0x14+-0x209d&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x17835c['id']]=this,qu(this),this['root']=new We(),this['root']['_enabledIn'+'Hierarchy']=!(-0x114+0x1cad+0x2d*-0x9d));}['init'](_0x2aaff3){const {assetPrefix:_0x2816b0,batchManager:_0x14fe29,componentSystems:_0x419bf9,elementInput:_0x2e9b9e,gamepads:_0x30a0de,graphicsDevice:_0x37cae1,keyboard:_0x56e8d3,lightmapper:_0x4d8b83,mouse:_0x423152,resourceHandlers:_0xdfdd5e,scriptsOrder:_0x37c320,scriptPrefix:_0x124262,soundManager:_0x599345,touch:_0x2ab862,xr:_0x35a3d2}=_0x2aaff3;v['assert'](_0x37cae1,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x37cae1,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x37cae1),this['_soundMana'+'ger']=_0x599345,this['scene']=new ci(_0x37cae1),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x2816b0&&(this['assets']['prefix']=_0x2816b0),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x37c320||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(-0xb*-0xd4+0x4*-0x83+-0x70f),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0x391ee3=new S_('default');_0x391ee3['pushOpaque'](this['defaultLay'+'erWorld']),_0x391ee3['pushOpaque'](this['defaultLay'+'erDepth']),_0x391ee3['pushOpaque'](this['defaultLay'+'erSkybox']),_0x391ee3['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x391ee3['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x391ee3['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x391ee3['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x391ee3,$r['createPlac'+'eholder'](_0x37cae1),this['renderer']=new Gh(_0x37cae1),this['renderer']['scene']=this['scene'],_0x4d8b83&&(this['lightmappe'+'r']=new _0x4d8b83(_0x37cae1,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x14fe29&&(this['_batcher']=new _0x14fe29(_0x37cae1,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x56e8d3||null,this['mouse']=_0x423152||null,this['touch']=_0x2ab862||null,this['gamepads']=_0x30a0de||null,_0x2e9b9e&&(this['elementInp'+'ut']=_0x2e9b9e,this['elementInp'+'ut']['app']=this),this['xr']=_0x35a3d2?new _0x35a3d2(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x124262||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0xdfdd5e['forEach'](_0x5e6349=>{const _0x3b6d3a=new _0x5e6349(this);this['loader']['addHandler'](_0x3b6d3a['handlerTyp'+'e'],_0x3b6d3a);}),_0x419bf9['forEach'](_0x57b4e3=>{this['systems']['add'](new _0x57b4e3(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x1d85*0x1+0x1258+-0x2fdd*0x1)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0xcbf+0x5c5+0x6fb))):document['mozHidden']!==void(-0x2*0x13c+0x11*0x1df+-0x1d57)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x7*-0x533+-0x12df*0x1+0x3745))):document['msHidden']!==void(-0x232b+-0xdc4+0x30ef)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1*-0x26a9+0x3*0x8be+0xc70))):document['webkitHidd'+'en']!==void(-0x3*0x293+-0x2391+0x2b4a)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x16*-0xba+0x14bb+0xfe*-0x25)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x59675c){return _0x59675c?Gr['_applicati'+'ons'][_0x59675c]:tn();}['_initDefau'+'ltMaterial'](){const _0x1d5e8f=new cs();_0x1d5e8f['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x1d5e8f);}['_initProgr'+'amLibrary'](){const _0xa4a91e=new D1(this['graphicsDe'+'vice'],new cs());WE(this['graphicsDe'+'vice'],_0xa4a91e);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x154c66,_0x1544b7){$e['get'](_0x154c66,(_0x2379c4,_0x3a0ce9)=>{if(_0x2379c4){_0x1544b7(_0x2379c4);return;}const _0x53dfb2=_0x3a0ce9['applicatio'+'n_properti'+'es'],_0x2f844c=_0x3a0ce9['scenes'],_0xfef0de=_0x3a0ce9['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x53dfb2,_0x574c1d=>{this['_parseScen'+'es'](_0x2f844c),this['_parseAsse'+'ts'](_0xfef0de),_0x1544b7(_0x574c1d||null);});});}['preload'](_0xf4c1c){this['fire']('preload:st'+'art');const _0x1a1d6a=this['assets']['list']({'preload':!(0x7*0x4c7+-0x11db*-0x1+0x3aa*-0xe)});if(_0x1a1d6a['length']===-0x5*0x5b4+-0xe2*-0x26+-0x508){this['fire']('preload:en'+'d'),_0xf4c1c();return;}let _0x3d76e8=0x134+-0x1*-0x224+-0x358;const _0xcbfd03=()=>{_0x3d76e8++,this['fire']('preload:pr'+'ogress',_0x3d76e8/_0x1a1d6a['length']),_0x3d76e8===_0x1a1d6a['length']&&(this['fire']('preload:en'+'d'),_0xf4c1c());};_0x1a1d6a['forEach'](_0x196406=>{_0x196406['loaded']?_0xcbfd03():(_0x196406['once']('load',_0xcbfd03),_0x196406['once']('error',_0xcbfd03),this['assets']['load'](_0x196406));});}['_preloadSc'+'ripts'](_0x4e9a82,_0x12c7e8){_0x12c7e8();}['_parseAppl'+'icationPro'+'perties'](_0x5ec5b6,_0x2b2b65){if(typeof _0x5ec5b6['maxAssetRe'+'tries']=='number'&&_0x5ec5b6['maxAssetRe'+'tries']>0x7*-0x11+0xf*-0x1f3+-0x4*-0x76d&&this['loader']['enableRetr'+'y'](_0x5ec5b6['maxAssetRe'+'tries']),_0x5ec5b6['useDeviceP'+'ixelRatio']||(_0x5ec5b6['useDeviceP'+'ixelRatio']=_0x5ec5b6['use_device'+'_pixel_rat'+'io']),_0x5ec5b6['resolution'+'Mode']||(_0x5ec5b6['resolution'+'Mode']=_0x5ec5b6['resolution'+'_mode']),_0x5ec5b6['fillMode']||(_0x5ec5b6['fillMode']=_0x5ec5b6['fill_mode']),this['_width']=_0x5ec5b6['width'],this['_height']=_0x5ec5b6['height'],_0x5ec5b6['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x5ec5b6['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x5ec5b6['fillMode'],this['_width'],this['_height']),_0x5ec5b6['layers']&&_0x5ec5b6['layerOrder']){const _0x3eb0df=new S_('applicatio'+'n'),_0x3bcac3={};for(const _0x449004 in _0x5ec5b6['layers']){const _0x426114=_0x5ec5b6['layers'][_0x449004];_0x426114['id']=parseInt(_0x449004,-0x1e95+-0xf86+-0x1*-0x2e25),_0x426114['enabled']=_0x426114['id']!==Xt,_0x3bcac3[_0x449004]=new Lr(_0x426114);}for(let _0x3edf65=-0x62f*-0x1+-0x1137+0xb08,_0x501cd1=_0x5ec5b6['layerOrder']['length'];_0x3edf65<_0x501cd1;_0x3edf65++){const _0x1c482f=_0x5ec5b6['layerOrder'][_0x3edf65],_0x373b53=_0x3bcac3[_0x1c482f['layer']];_0x373b53&&(_0x1c482f['transparen'+'t']?_0x3eb0df['pushTransp'+'arent'](_0x373b53):_0x3eb0df['pushOpaque'](_0x373b53),_0x3eb0df['subLayerEn'+'abled'][_0x3edf65]=_0x1c482f['enabled']);}this['scene']['layers']=_0x3eb0df;}if(_0x5ec5b6['batchGroup'+'s']){const _0x150790=this['batcher'];if(_0x150790)for(let _0x284fd6=0x1321+-0xef2+-0x42f,_0x1535e2=_0x5ec5b6['batchGroup'+'s']['length'];_0x284fd6<_0x1535e2;_0x284fd6++){const _0xfe9c52=_0x5ec5b6['batchGroup'+'s'][_0x284fd6];_0x150790['addGroup'](_0xfe9c52['name'],_0xfe9c52['dynamic'],_0xfe9c52['maxAabbSiz'+'e'],_0xfe9c52['id'],_0xfe9c52['layers']);}}_0x5ec5b6['i18nAssets']&&(this['i18n']['assets']=_0x5ec5b6['i18nAssets']),this['_loadLibra'+'ries'](_0x5ec5b6['libraries'],_0x2b2b65);}['_loadLibra'+'ries'](_0x192851,_0x56620a){const _0x3cddc6=_0x192851['length'];let _0x6f3d31=_0x3cddc6;const _0x1d64d6=/^https?:\/\//;if(_0x3cddc6){const _0x558cf6=(_0x5cc1b9,_0x35da1f)=>{_0x6f3d31--,_0x5cc1b9?_0x56620a(_0x5cc1b9):_0x6f3d31===0x1c82+0x1cfa+-0x397c&&(this['onLibrarie'+'sLoaded'](),_0x56620a(null));};for(let _0x3c8db8=-0x84a+-0xdf*0x20+-0x1*-0x242a;_0x3c8db8<_0x3cddc6;++_0x3c8db8){let _0x3282b0=_0x192851[_0x3c8db8];!_0x1d64d6['test'](_0x3282b0['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x3282b0=fe['join'](this['_scriptPre'+'fix'],_0x3282b0)),this['loader']['load'](_0x3282b0,'script',_0x558cf6);}}else this['onLibrarie'+'sLoaded'](),_0x56620a(null);}['_parseScen'+'es'](_0x5bc636){if(_0x5bc636){for(let _0x409942=-0x255*-0xb+-0x1*0x11ad+-0x7fa;_0x409942<_0x5bc636['length'];_0x409942++)this['scenes']['add'](_0x5bc636[_0x409942]['name'],_0x5bc636[_0x409942]['url']);}}['_parseAsse'+'ts'](_0x1f02e0){const _0x5b911f=[],_0x40f47f={},_0x16b749={};for(let _0x403b39=-0x21*-0x11d+0x42c+-0x28e9;_0x403b39<this['scriptsOrd'+'er']['length'];_0x403b39++){const _0xecab79=this['scriptsOrd'+'er'][_0x403b39];_0x1f02e0[_0xecab79]&&(_0x40f47f[_0xecab79]=!(0x1*0x89b+-0x1c3*0x7+-0x1dd*-0x2),_0x5b911f['push'](_0x1f02e0[_0xecab79]));}if(this['enableBund'+'les']){for(const _0x389621 in _0x1f02e0)_0x1f02e0[_0x389621]['type']==='bundle'&&(_0x16b749[_0x389621]=!(-0x1*-0x2051+0x26e7+-0x35*0x158),_0x5b911f['push'](_0x1f02e0[_0x389621]));}for(const _0x2db6a9 in _0x1f02e0)_0x40f47f[_0x2db6a9]||_0x16b749[_0x2db6a9]||_0x5b911f['push'](_0x1f02e0[_0x2db6a9]);for(let _0x1f7e9f=0x3fe*0x3+-0x13*-0x1af+-0x2bf7;_0x1f7e9f<_0x5b911f['length'];_0x1f7e9f++){const _0x177409=_0x5b911f[_0x1f7e9f],_0x569bb1=new le(_0x177409['name'],_0x177409['type'],_0x177409['file'],_0x177409['data']);if(_0x569bb1['id']=parseInt(_0x177409['id'],0x1560+-0x22bf+0xd69),_0x569bb1['preload']=_0x177409['preload']?_0x177409['preload']:!(0xd45+-0x754+0x13*-0x50),_0x569bb1['loaded']=_0x177409['type']==='script'&&_0x177409['data']&&_0x177409['data']['loadingTyp'+'e']>0x139f*0x1+0xea+-0x1489,_0x569bb1['tags']['add'](_0x177409['tags']),_0x177409['i18n']){for(const _0x1a8fb5 in _0x177409['i18n'])_0x569bb1['addLocaliz'+'edAssetId'](_0x1a8fb5,_0x177409['i18n'][_0x1a8fb5]);}this['assets']['add'](_0x569bb1);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x1*0x22a2+0x18a*0x14+-0x416a);}),this['frame']=-0xc41*-0x2+-0x107e+-0x804,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x3bb206){this['controller']&&this['controller']['update'](_0x3bb206),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x499a74){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x499a74),this['systems']['fire']('animationU'+'pdate',_0x499a74),this['systems']['fire']('postUpdate',_0x499a74),this['fire']('update',_0x499a74),this['inputUpdat'+'e'](_0x499a74),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=0x2*0x59e+0x23e7*-0x1+0x18ab,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x3a54ad){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x3a54ad),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x3a54ad),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x327ac5,_0x3431c3,_0x3d3ac5){const _0x2e26e3=this['stats']['frame'];_0x2e26e3['dt']=_0x3431c3,_0x2e26e3['ms']=_0x3d3ac5,_0x327ac5>_0x2e26e3['_timeToCou'+'ntFrames']?(_0x2e26e3['fps']=_0x2e26e3['_fpsAccum'],_0x2e26e3['_fpsAccum']=0x1*-0x1819+-0xa6e+-0x1*-0x2287,_0x2e26e3['_timeToCou'+'ntFrames']=_0x327ac5+(-0x1*0x2366+-0x86d+-0xfe9*-0x3)):_0x2e26e3['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x18c4+0x818+0x2bd*-0xc;}['_fillFrame'+'Stats'](){let _0x44284b=this['stats']['frame'];_0x44284b['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x44284b['materials']=this['renderer']['_materialS'+'witches'],_0x44284b['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x44284b['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x44284b['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x44284b['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x44284b['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x52303e=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x44284b['triangles']=_0x52303e[Ms]/(-0x1eb*0x2+0x11f2+0x4b3*-0x3)+Math['max'](_0x52303e[ar]-(-0xb29*-0x1+-0x307+-0x820),0x5*-0x26c+0x25a7+0x198b*-0x1)+Math['max'](_0x52303e[Yr]-(-0x3fa+-0x2087+0x2483),0x1*0x8fc+0x3*-0xb23+0x186d),_0x44284b['cullTime']=this['renderer']['_cullTime'],_0x44284b['sortTime']=this['renderer']['_sortTime'],_0x44284b['skinTime']=this['renderer']['_skinTime'],_0x44284b['morphTime']=this['renderer']['_morphTime'],_0x44284b['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x44284b['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x44284b['otherPrimi'+'tives']=0x1ef*-0xb+0x313*-0xb+0x1b8b*0x2;for(let _0x4afbd3=0x52e+-0x2*0x749+-0x4b2*-0x2;_0x4afbd3<_0x52303e['length'];_0x4afbd3++)_0x4afbd3<Ms&&(_0x44284b['otherPrimi'+'tives']+=_0x52303e[_0x4afbd3]),_0x52303e[_0x4afbd3]=0x1427+0x1*0x1a3+-0x1*0x15ca;this['renderer']['_camerasRe'+'ndered']=0x204b+0x1b66+-0x3bb1,this['renderer']['_materialS'+'witches']=0x109e+-0x1a*-0x179+-0x36e8,this['renderer']['_shadowMap'+'Updates']=-0x35d+0x14e7*-0x1+-0x1844*-0x1,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x120d*0x1+0x2*-0x128f+-0x372b*-0x1,this['renderer']['_cullTime']=-0x249b*0x1+0x12f1+-0xe*-0x143,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x1e35+0x1eef*0x1+-0x3e*0x3,this['renderer']['_lightClus'+'tersTime']=0x1984+0x1a7+-0x1b2b,this['renderer']['_sortTime']=0x1e6a*-0x1+0x1*0x20b9+-0x24f,this['renderer']['_skinTime']=-0x26f3+-0xe39+0x352c,this['renderer']['_morphTime']=-0x2007+-0x1e2+0x21e9*0x1,this['renderer']['_shadowMap'+'Time']=-0x295+0x52*-0x28+-0xf65*-0x1,this['renderer']['_depthMapT'+'ime']=-0x1*-0x174d+0x1ab*-0x15+0x26*0x4f,this['renderer']['_forwardTi'+'me']=0x1bac+-0x1*0x397+-0x1815,_0x44284b=this['stats']['drawCalls'],_0x44284b['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x44284b['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x44284b['depth']=0x169*0x1+0x10*-0xd7+0xc07*0x1,_0x44284b['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x44284b['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x44284b['immediate']=0x26*-0x63+0x9a3*-0x4+0x353e,_0x44284b['instanced']=0x2265+0x412+-0x2677,_0x44284b['removedByI'+'nstancing']=-0xeef+-0x1*-0x13d3+-0x139*0x4,_0x44284b['misc']=_0x44284b['total']-(_0x44284b['forward']+_0x44284b['shadow']),this['renderer']['_depthDraw'+'Calls']=0x4e*0x2d+-0x22ba+-0x541*-0x4,this['renderer']['_shadowDra'+'wCalls']=0x6cb*-0x1+-0xa3*-0x1+-0xc5*-0x8,this['renderer']['_forwardDr'+'awCalls']=0x277*-0x1+-0x26d3+0x294a,this['renderer']['_numDrawCa'+'llsCulled']=0x5dc+0x3*-0x6ad+0xe2b,this['renderer']['_skinDrawC'+'alls']=-0x3f1*0x6+-0x357*0x1+-0x93*-0x2f,this['renderer']['_immediate'+'Rendered']=0x9da+-0x1*-0x13f1+-0x1dcb,this['renderer']['_instanced'+'DrawCalls']=0x179f*0x1+-0xac9+-0xcd6,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x44284b=this['stats']['particles'],_0x44284b['updatesPer'+'Frame']=_0x44284b['_updatesPe'+'rFrame'],_0x44284b['frameTime']=_0x44284b['_frameTime'],_0x44284b['_updatesPe'+'rFrame']=0x20cc*-0x1+-0x28a+0x11ab*0x2,_0x44284b['_frameTime']=-0x17*0xe+-0x95*0x17+0xa3*0x17;}['setCanvasF'+'illMode'](_0x950091,_0x2cffc0,_0x599c35){this['_fillMode']=_0x950091,this['resizeCanv'+'as'](_0x2cffc0,_0x599c35);}['setCanvasR'+'esolution'](_0x4c49f5,_0x86e33a,_0x4d41b0){this['_resolutio'+'nMode']=_0x4c49f5,_0x4c49f5===G_&&_0x86e33a===void(0x2*-0x81d+-0x825+0x11*0x16f)&&(_0x86e33a=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x4d41b0=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x86e33a,_0x4d41b0);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x164b25,_0x2bbaa7){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0xc864d0=window['innerWidth'],_0x50bf88=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x59f5ee=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x3febfd=_0xc864d0/_0x50bf88;_0x59f5ee>_0x3febfd?(_0x164b25=_0xc864d0,_0x2bbaa7=_0x164b25/_0x59f5ee):(_0x2bbaa7=_0x50bf88,_0x164b25=_0x2bbaa7*_0x59f5ee);}else this['_fillMode']===$1&&(_0x164b25=_0xc864d0,_0x2bbaa7=_0x50bf88);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x164b25+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x2bbaa7+'px',this['updateCanv'+'asSize'](),{'width':_0x164b25,'height':_0x2bbaa7};}['updateCanv'+'asSize'](){var _0x21305f;if(!(!this['_allowResi'+'ze']||(_0x21305f=this['xr'])!=null&&_0x21305f['active'])&&this['_resolutio'+'nMode']===G_){const _0x251ebf=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x251ebf['clientWidt'+'h'],_0x251ebf['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0x13*0x1f5+-0x19db*-0x1+-0x3f0a),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x4c5a1e){let _0xdbbcc1;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x2a6fc2,_0x57dd78,_0x5730b2]=_0x4c5a1e['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x2a6fc2,_0x57dd78,_0x5730b2);}this['scene']['applySetti'+'ngs'](_0x4c5a1e),_0x4c5a1e['render']['hasOwnProp'+'erty']('skybox')&&(_0x4c5a1e['render']['skybox']?(_0xdbbcc1=this['assets']['get'](_0x4c5a1e['render']['skybox']),_0xdbbcc1?this['setSkybox'](_0xdbbcc1):this['assets']['once']('add:'+_0x4c5a1e['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x21a3e2,_0x4ccf4d){_0x21a3e2&&_0x4ccf4d?$r['set'](this['graphicsDe'+'vice'],_0x21a3e2,_0x4ccf4d):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x229790){if(_0x229790!==this['_skyboxAss'+'et']){const _0x2baa77=()=>{this['setSkybox'](null);},_0x528875=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x528875,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x2baa77,this),this['_skyboxAss'+'et']['off']('change',_0x528875,this)),this['_skyboxAss'+'et']=_0x229790,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x528875,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x2baa77,this),this['_skyboxAss'+'et']['on']('change',_0x528875,this),this['scene']['skyboxMip']===-0x36*0x2f+0x125b+-0x871&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x2*-0x134f+-0x8*0x2e9+0x7ab*-0x2)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x528875();}}['_firstBake'](){var _0x257d2a;(_0x257d2a=this['lightmappe'+'r'])==null||_0x257d2a['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x4f2e87;(_0x4f2e87=this['batcher'])==null||_0x4f2e87['generate']();}['_processTi'+'mestamp'](_0x179e63){return _0x179e63;}['drawLine'](_0x17f41a,_0x1a5562,_0x466c95,_0x5a9700,_0xec7290){this['scene']['drawLine'](_0x17f41a,_0x1a5562,_0x466c95,_0x5a9700,_0xec7290);}['drawLines'](_0x128e69,_0x24c095,_0x13ecfd=!(0x19f0+-0x38c*0x5+-0x834),_0x10cc9c=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x128e69,_0x24c095,_0x13ecfd,_0x10cc9c);}['drawLineAr'+'rays'](_0x3affff,_0x8f0a19,_0x1bb4f3=!(0x1*-0x14fe+-0x1403+0x3*0xdab),_0x4ccf08=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x3affff,_0x8f0a19,_0x1bb4f3,_0x4ccf08);}['drawWireSp'+'here'](_0x2ce2ce,_0x32ef67,_0x13c2b7=Y['WHITE'],_0x44d209=-0x4*0x8ec+0x3a5+0x201f,_0x57ee2c=!(-0x1bb*-0x1+0x21d9+-0x2394),_0x50cfd4=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x2ce2ce,_0x32ef67,_0x13c2b7,_0x44d209,_0x57ee2c,_0x50cfd4);}['drawWireAl'+'ignedBox'](_0x3cd1b5,_0x2a91f6,_0x12917b=Y['WHITE'],_0x1aba57=!(-0x14*-0xa0+-0x1*0xa5e+-0x222),_0x347ee8=this['scene']['defaultDra'+'wLayer'],_0x32961d){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x3cd1b5,_0x2a91f6,_0x12917b,_0x1aba57,_0x347ee8,_0x32961d);}['drawMeshIn'+'stance'](_0x344ce9,_0x198719=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x344ce9,_0x198719);}['drawMesh'](_0x301d99,_0x14f88d,_0x5822bc,_0x5dcc60=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x14f88d,_0x5822bc,_0x301d99,null,_0x5dcc60);}['drawQuad'](_0x160f2b,_0x2989a9,_0xcac578=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x2989a9,_0x160f2b,this['scene']['immediate']['getQuadMes'+'h'](),null,_0xcac578);}['drawTextur'+'e'](_0x5ec88a,_0x351684,_0x794149,_0x5748d9,_0x501855,_0x468e16,_0x96e1de=this['scene']['defaultDra'+'wLayer'],_0xf956ab=!(0x1*0x11ce+-0xd*0x11a+-0x1*0x37c)){if(_0xf956ab===!(-0x7*-0x255+0x4*0x802+0x1*-0x305a)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0xe7bfbb=new q();_0xe7bfbb['setTRS'](new T(_0x5ec88a,_0x351684,0x1*0x1186+0x3b*-0x57+-0x287*-0x1),se['IDENTITY'],new T(_0x794149,-_0x5748d9,0x19dd+-0x1f92+0x1*0x5b5)),_0x468e16||(_0x468e16=new Ra(),_0x468e16['cull']=mt,_0x468e16['setParamet'+'er']('colorMap',_0x501855),_0x468e16['shaderDesc']=_0xf956ab?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x501855['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x468e16['update']()),this['drawQuad'](_0xe7bfbb,_0x468e16,_0x96e1de);}['drawDepthT'+'exture'](_0x10c393,_0x164a54,_0xa0f229,_0x21e8c3,_0x585ff0=this['scene']['defaultDra'+'wLayer']){const _0x503c9e=new Ra();_0x503c9e['cull']=mt,_0x503c9e['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x503c9e['update'](),this['drawTextur'+'e'](_0x10c393,_0x164a54,_0xa0f229,_0x21e8c3,null,_0x503c9e,_0x585ff0);}['destroy'](){var _0x542621,_0xf036a1,_0x277e14,_0x3404bd;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0xca*0x16+-0xd22+-0x21d*0x2);return;}const _0x25f357=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0xad8*0x3+-0x1*0x142b+-0xc5c)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x125f*-0x1+-0x2f5*0x3+0x3*0x915)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*-0x1945+-0x2*-0x831+-0x29a6*0x1)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x2b1*0x1+0x1b*-0xf9+0x1793))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x224fdc=this['assets']['list']();for(let _0x46dd3e=0x35*0x35+-0xf94+-0x9*-0x83;_0x46dd3e<_0x224fdc['length'];_0x46dd3e++)_0x224fdc[_0x46dd3e]['unload'](),_0x224fdc[_0x46dd3e]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x280f79=this['loader']['getHandler']('script');_0x280f79==null||_0x280f79['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x542621=this['lightmappe'+'r'])==null||_0x542621['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0xf036a1=this['xr'])==null||_0xf036a1['end'](),(_0x277e14=this['xr'])==null||_0x277e14['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x3404bd=this['_soundMana'+'ger'])==null||_0x3404bd['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x25f357]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x57abd9){_0x57abd9['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x57abd9['frameReque'+'stId']),_0x57abd9['frameReque'+'stId']=void(-0x55d*-0x2+0x13b4+-0x1e6e));}['getEntityF'+'romIndex'](_0x1dcb38){return this['_entityInd'+'ex'][_0x1dcb38];}['_registerS'+'ceneImmedi'+'ate'](_0x5a7dd9){this['on']('postrender',_0x5a7dd9['immediate']['onPostRend'+'er'],_0x5a7dd9['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x8c212d){const _0x4602f6=_0x8c212d;return function(_0x1b8e95,_0x1177ed){var _0x2e9e8a,_0x1d959a,_0x5c4f53,_0xf09f37;if(!_0x4602f6['graphicsDe'+'vice'])return;_0x4602f6['frameReque'+'stId']&&((_0x1d959a=(_0x2e9e8a=_0x4602f6['xr'])==null?void(0x2321+0xa34+0x911*-0x5):_0x2e9e8a['session'])==null||_0x1d959a['cancelAnim'+'ationFrame'](_0x4602f6['frameReque'+'stId']),cancelAnimationFrame(_0x4602f6['frameReque'+'stId']),_0x4602f6['frameReque'+'stId']=null),_0x4602f6['_inFrameUp'+'date']=!(0x93*-0x1d+-0x169f*-0x1+-0xbf*0x8),qu(_0x4602f6);const _0x358926=_0x4602f6['_processTi'+'mestamp'](_0x1b8e95)||ne(),_0x1f8b9c=_0x358926-(_0x4602f6['_time']||_0x358926);let _0x3cba81=_0x1f8b9c/(0x789+0x1fb8+0x1*-0x2359);if(_0x3cba81=N['clamp'](_0x3cba81,-0x5*0x599+0xd3a+-0x1*-0xec3,_0x4602f6['maxDeltaTi'+'me']),_0x3cba81*=_0x4602f6['timeScale'],_0x4602f6['_time']=_0x358926,(_0x5c4f53=_0x4602f6['xr'])!=null&&_0x5c4f53['session']?_0x4602f6['frameReque'+'stId']=_0x4602f6['xr']['session']['requestAni'+'mationFram'+'e'](_0x4602f6['tick']):_0x4602f6['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x4602f6['tick']):null,_0x4602f6['graphicsDe'+'vice']['contextLos'+'t'])return;_0x4602f6['_fillFrame'+'StatsBasic'](_0x358926,_0x3cba81,_0x1f8b9c),_0x4602f6['_fillFrame'+'Stats'](),_0x4602f6['fire']('frameupdat'+'e',_0x1f8b9c);let _0xe5eb9d=!(0x21f1+0x181+-0x2*0x11b9);_0x1177ed?(_0xe5eb9d=(_0xf09f37=_0x4602f6['xr'])==null?void(-0x7*-0x4a9+-0x19c9+-0x6d6):_0xf09f37['update'](_0x1177ed),_0x4602f6['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x1177ed['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x4602f6['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0xe5eb9d&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x4602f6['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](-0x1933*0x1+0x200f+-0x6da*0x1)+'ms'),_0x4602f6['update'](_0x3cba81),_0x4602f6['fire']('framerende'+'r'),(_0x4602f6['autoRender']||_0x4602f6['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](-0xbd9*-0x2+-0xa99+0x45d*-0x3)+'ms'),_0x4602f6['updateCanv'+'asSize'](),_0x4602f6['frameStart'](),_0x4602f6['render'](),_0x4602f6['frameEnd'](),_0x4602f6['renderNext'+'Frame']=!(-0x1e3a*0x1+-0x2626+-0x1*-0x4461),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](-0xa*-0x250+0x5*-0x35e+-0x648)+'ms')),jd['timestamp']=ne(),jd['target']=_0x4602f6,_0x4602f6['fire']('frameend',jd)),_0x4602f6['_inFrameUp'+'date']=!(-0x10*0x3+-0x24f7+0x2528),_0x4602f6['_destroyRe'+'quested']&&_0x4602f6['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class W0{constructor(_0xb82a11,_0x355e15,_0x2e2752){this['scene']=_0xb82a11,this['light']=_0x355e15,this['store'](),_0x355e15['numCascade'+'s']=-0x150b+0x1c4*-0x1+0x28*0x92,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x355e15['castShadow'+'s']=_0x355e15['bakeShadow'+'s']&&_0x2e2752['shadowsEna'+'bled']),_0x355e15['type']!==oe&&(_0x355e15['_node']['getWorldTr'+'ansform'](),_0x355e15['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0xa43ab9=this['light'];_0xa43ab9['mask']=this['mask'],_0xa43ab9['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0xa43ab9['enabled']=this['enabled'],_0xa43ab9['intensity']=this['intensity'],_0xa43ab9['_node']['setLocalRo'+'tation'](this['rotation']),_0xa43ab9['numCascade'+'s']=this['numCascade'+'s'],_0xa43ab9['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x1cb*-0x6+0xd*-0x2b1+0x183b),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x51e54e){const _0x2c172d=this['light'];_0x2c172d['enabled']=!(-0x1b4c+0x170b+0x221*0x2),_0x2c172d['shadowMap']&&(_0x2c172d['shadowMap']['cached']&&_0x51e54e['add'](_0x2c172d,_0x2c172d['shadowMap']),_0x2c172d['shadowMap']=null);}}const Hl=new W();class mP extends W0{constructor(_0x3304fb,_0x435811){super(_0x3304fb['scene'],_0x435811,_0x3304fb['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:0x2*0x86a+0x1058+-0x212b;}['prepareVir'+'tualLight'](_0x4dbcc7,_0x387b1b){const _0x58b37e=this['light'];if(_0x58b37e['_node']['setLocalRo'+'tation'](this['rotation']),_0x4dbcc7>0xe0c+0xc9a*-0x1+0xb9*-0x2){const _0x291dd5=_0x58b37e['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x4dbcc7,_0x387b1b),Hl['mulScalar'](_0x291dd5*(-0x16*-0x4e+0x86b*0x1+-0xf1f+0.5)),_0x58b37e['_node']['rotateLoca'+'l'](Hl['x'],0x1*0x2ab+0x18d2+-0x1b7d,Hl['y']);}_0x58b37e['_node']['getWorldTr'+'ansform']();const _0x532726=0x1c12*0x1+-0x1646*0x1+0x2e5*-0x2+0.20000000000000018,_0x3f15dd=Math['pow'](this['intensity'],_0x532726);_0x58b37e['intensity']=Math['pow'](_0x3f15dd/_0x387b1b,(0x925*0x1+-0x1b0e+-0x8f5*-0x2)/_0x532726);}}const X_=new T();class j_ extends W0{constructor(_0x581358){const _0x5afb28=_0x581358['scene'],_0x12005d=new We('AmbientLig'+'ht');_0x12005d['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0x6*0xba+-0x17f8+0x139c),'affectLightmapped':!(0x1a51+-0x1*0xfb7+-0xa99),'bake':!(0x194f+0x1*0x28d+-0x1bdc),'bakeNumSamples':_0x5afb28['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x1*-0x18de+-0x2b1*0x5+-0xb69),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(0x2be+0x1*-0x763+0x4a6)}),super(_0x5afb28,_0x12005d['light']['light'],_0x581358['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x61cce1,_0x1654c5){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x61cce1,_0x1654c5,0x4c0+0x1066*0x1+0x1526*-0x1,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(0xb8d*-0x1+-0x7*0x1dd+0x1899))),this['light']['_node']['rotateLoca'+'l'](0x11f8+0x1e77+-0x3015,-0xd7d+-0x15fa+0x2377,-0x4*0x26f+-0x1e4a+-0x2*-0x1403);const _0xe76c36=-0x1e68+-0x16b*-0xb+0xed1*0x1+0.20000000000000018,_0x3f89b8=(0x1592+-0xd86+-0x80a)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x31161a=Math['pow'](_0x3f89b8,_0xe76c36);this['light']['intensity']=Math['pow'](_0x31161a/_0x1654c5,(-0x26a3+-0x151*-0x13+-0xda1*-0x1)/_0xe76c36);}}class Wl{constructor(_0xdeb3a5,_0x5982fc=null){this['node']=_0xdeb3a5,this['component']=_0xdeb3a5['render']||_0xdeb3a5['model'],_0x5982fc=_0x5982fc||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x5982fc,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=0x36b+0x615*-0x5+0x1b0d;class _P{constructor(_0xa30bd3){this['device']=_0xa30bd3,this['shaderDila'+'te']=Is(_0xa30bd3,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0xa30bd3['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0xa30bd3['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x45*-0x1f+0x1*-0x1cf1+0x19*0x17e),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x470ad0){this['constantTe'+'xSource']['setValue'](_0x470ad0);}['prepare'](_0x57cd93,_0x6e626b){this['pixelOffse'+'t'][0x143e+-0x10c8+0x2*-0x1bb]=(-0x13ea+0x1e67+-0xa7c)/_0x57cd93,this['pixelOffse'+'t'][-0x1bb7+-0x1c8b*-0x1+0x1*-0xd3]=(-0x3e4*0x3+-0x14e4+0x2091)/_0x6e626b,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x3bc13c,_0x3ecb34,_0x2f0130){const _0x1c18e6=_0x2f0130?0x24ac+0x22ef+-0x1*0x479b:0x7*0x496+-0x3ab+0x97a*-0x3;if(!this['shaderDeno'+'ise'][_0x1c18e6]){const _0x43a5fe='lmBilatera'+'lDeNoise-'+(_0x2f0130?'hdr':'rgbm'),_0x4fb0a5=_0x2f0130?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x1c18e6]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x4fb0a5+vo['bilateralD'+'eNoisePS'],_0x43a5fe),this['sigmas']=new Float32Array(0x1*-0x21dc+-0x1241+0x341f),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0x1edb+-0x1*0x153b+-0x9a0]=_0x3bc13c,this['sigmas'][0x1*-0x19f9+0x1*-0x5ba+0x1fb4]=_0x3ecb34,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x3bc13c,_0x3ecb34);}['getDenoise'](_0x48a168){const _0x1d2cb4=_0x48a168?0x3*0x65+-0x1*-0x26b3+-0x7fa*0x5:-0x14f5+-0x1718+0x2c0e;return this['shaderDeno'+'ise'][_0x1d2cb4];}['getDilate'](_0x414277,_0xc66f88){const _0x134c96=_0xc66f88?-0x241*0x5+0x81b+0x32a:-0xd33+0x3*0x1a9+-0x839*-0x1;if(!this['shaderDila'+'te'][_0x134c96]){const _0x378644='lmDilate-'+(_0xc66f88?'hdr':'rgbm'),_0x35f437=_0xc66f88?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x134c96]=Is(_0x414277,X['fullscreen'+'QuadVS'],_0x35f437+vo['dilatePS'],_0x378644);}return this['shaderDila'+'te'][_0x134c96];}['evaluateDe'+'noiseUnifo'+'rms'](_0x4b72f7,_0x569503){function _0xeb3b59(_0x4bdf47,_0x41cbb8){return(-0x13*0x7e+0x1*-0x78b+0x10e5+0.39894)*Math['exp'](-(-0x175a+-0xfd3+0x272d+0.5)*_0x4bdf47*_0x4bdf47/(_0x41cbb8*_0x41cbb8))/_0x41cbb8;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x2ae599=this['kernel'],_0x385c1f=Math['floor']((Y_-(-0x18*-0x81+0x3*-0x1c4+-0x6cb*0x1))/(-0x2142+0x3*0x245+0x1a75));for(let _0x216c87=0x1a*-0x19+0x1225*-0x1+-0x161*-0xf;_0x216c87<=_0x385c1f;++_0x216c87){const _0x417262=_0xeb3b59(_0x216c87,_0x4b72f7);_0x2ae599[_0x385c1f+_0x216c87]=_0x417262,_0x2ae599[_0x385c1f-_0x216c87]=_0x417262;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x1e67e0=(-0x4*0x11+-0x206e*0x1+0x20b3)/_0xeb3b59(0x98f*-0x1+0x161*-0x19+0x2*0x1604,_0x569503);this['bZnorm']['setValue'](_0x1e67e0);}}class gP extends ds{constructor(_0x25f41b,_0x112f5a,_0x151420,_0x119b07,_0x3f905e,_0x330cfe){super(_0x25f41b),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x112f5a,this['camera']=_0x151420,this['worldClust'+'ers']=_0x119b07,this['receivers']=_0x3f905e,this['lightArray']=_0x330cfe);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x7a59b=>{_0x7a59b['defaultUni'+'formBuffer']['destroy'](),_0x7a59b['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1ff+-0x2*0x1287+0x270d;}['execute'](){const _0x403811=this['device'];G['pushGpuMar'+'ker'](_0x403811,'Lightmappe'+'r');const {renderer:_0x6518c2,camera:_0x5016aa,receivers:_0x2cd9c7,renderTarget:_0x5615f9,worldClusters:_0xcd3f27,lightArray:_0x54ff6b}=this;_0x6518c2['renderForw'+'ardLayer'](_0x5016aa,_0x5615f9,null,void(-0xe25+0x2*0x692+0x101*0x1),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x2cd9c7,'splitLights':_0x54ff6b,'lightClusters':_0xcd3f27}),G['popGpuMark'+'er'](_0x403811);}}const yP=-0x1c0f+-0x3*-0x80+-0x3d7*-0x9,xP=-0x1*-0x144d+-0xd1c+-0x1*0x731,SP=0x23ae*-0x1+-0x370+0x271f,$l=new T();class vP{constructor(_0x29bf96,_0x466ea7,_0x160924,_0x56d55a,_0x211db7){this['device']=_0x29bf96,this['root']=_0x466ea7,this['scene']=_0x160924,this['renderer']=_0x56d55a,this['assets']=_0x211db7,this['shadowMapC'+'ache']=_0x56d55a['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x21cb+0x2cf*0x1+-0x2499),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x3694da;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x3694da=this['camera'])==null||_0x3694da['destroy'](),this['camera']=null;}['initBake'](_0x3b4b02){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0xc48*-0x2+0x1b50+-0x2c0),this['lightmapFi'+'lters']=new _P(_0x3b4b02),this['constantBa'+'keDir']=_0x3b4b02['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x1798ab=new ol();_0x1798ab['clearColor']['set'](-0x1cd*-0x2+0xe*0x22d+-0x2210,-0x1789+-0x172a+0x2eb3,0x1617+0x133c+0x2953*-0x1,0x2262+0x9d*-0x1+-0x21c5),_0x1798ab['clearColor'+'Buffer']=!(0x2632+0x1841*-0x1+0x2b*-0x53),_0x1798ab['clearDepth'+'Buffer']=!(0xa0*-0x1d+0x6*-0x12+0x128d),_0x1798ab['clearStenc'+'ilBuffer']=!(-0x513*0x1+0xe13+-0x2f*0x31),_0x1798ab['frustumCul'+'ling']=!(0x118c+-0xec*0x3+-0xec7),_0x1798ab['projection']=ua,_0x1798ab['aspectRati'+'o']=0xf*0x234+0xd*0x1fe+0x4f*-0xbf,_0x1798ab['node']=new De(),this['camera']=_0x1798ab,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x102541=new L0(_0x3b4b02['supportsAr'+'eaLights'],_0x3b4b02['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x102541;const _0x4b1e4a=this['scene']['lighting'];_0x102541['shadowsEna'+'bled']=_0x4b1e4a['shadowsEna'+'bled'],_0x102541['shadowAtla'+'sResolutio'+'n']=_0x4b1e4a['shadowAtla'+'sResolutio'+'n'],_0x102541['cookiesEna'+'bled']=_0x4b1e4a['cookiesEna'+'bled'],_0x102541['cookieAtla'+'sResolutio'+'n']=_0x4b1e4a['cookieAtla'+'sResolutio'+'n'],_0x102541['areaLights'+'Enabled']=_0x4b1e4a['areaLights'+'Enabled'],_0x102541['cells']=new T(0x1726*0x1+0x1480+-0x2ba3,0xce7+0x1*-0x7d3+-0x511,0x9*-0x2b7+-0x1edb+0x374d),_0x102541['maxLightsP'+'erCell']=-0x2c*-0xa4+0x183a+-0x1*0x3466,this['worldClust'+'ers']=new zu(_0x3b4b02),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x31821b){this['materials']=[];function _0x430143(_0x44e40b){Si['decRef'](_0x44e40b['colorBuffe'+'r']),_0x44e40b['destroy']();}this['renderTarg'+'ets']['forEach'](_0x44f12b=>{_0x430143(_0x44f12b);}),this['renderTarg'+'ets']['clear'](),_0x31821b['forEach'](_0x137627=>{_0x137627['renderTarg'+'ets']['forEach'](_0x7cce50=>{_0x430143(_0x7cce50);}),_0x137627['renderTarg'+'ets']['length']=-0xe2*0x24+0x6*-0x202+0x2bd4;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x26d99b,_0x113262,_0xa4309a,_0x1e88c0){const _0x26dd1c=new cs();_0x26dd1c['name']='lmMaterial'+'-pass:'+_0xa4309a+'-ambient:'+_0x1e88c0,_0x26dd1c['chunks']['APIVersion']=hi;const _0x2a75e6='#define\x20UV'+'1LAYOUT\x0a';if(_0x26dd1c['chunks']['transformV'+'S']=_0x2a75e6+X['transformV'+'S'],_0xa4309a===xP){let _0x46e9d0=vo['bakeLmEndP'+'S'];_0x1e88c0?_0x46e9d0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x113262['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](0x1*-0x833+-0x1cf8+0x1a*0x16e)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x113262['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0x2f9*0xd+-0x13f8+-0x12ac)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x46e9d0:_0x26dd1c['ambient']=new Y(0xd56+-0x580+-0x2*0x3eb,0x1*-0x204d+0x1fbc+0x91,-0x204d+0xfe5+0x1068),_0x26dd1c['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x26dd1c['chunks']['endPS']=_0x46e9d0,_0x26dd1c['lightMap']=this['blackTex'];}else _0x26dd1c['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x26dd1c['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x26dd1c['chunks']['outputAlph'+'aPS']='\x0a',_0x26dd1c['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x26dd1c['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x26dd1c['cull']=mt,_0x26dd1c['forceUv1']=!(0xb1b*0x1+0x1ccb+-0x27e6),_0x26dd1c['update'](),_0x26dd1c;}['createMate'+'rials'](_0x735a21,_0x51738a,_0x435f81){for(let _0x4a0fd6=0x112*0x2+-0xc59+0xa35;_0x4a0fd6<_0x435f81;_0x4a0fd6++)this['passMateri'+'als'][_0x4a0fd6]||(this['passMateri'+'als'][_0x4a0fd6]=this['createMate'+'rialForPas'+'s'](_0x735a21,_0x51738a,_0x4a0fd6,!(-0x2*0xb48+-0x18f4*-0x1+-0x1*0x263)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x735a21,_0x51738a,0x236c+0x2*-0x102d+-0x312,!(0x4f*-0x2+0x2631*0x1+0x2593*-0x1)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x45ad66){return _0x45ad66['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x24*-0xe0+0x1*-0x1a61+0x39e1),_0x45ad66['litOptions']['separateAm'+'bient']=!(0x2531+0x1f42+0x16d1*-0x3),_0x45ad66;});}['createText'+'ure'](_0x185407,_0x2190a6){return new he(this['device'],{'profilerHint':Oy,'width':_0x185407,'height':_0x185407,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x3*-0x3be+0xd24+-0x185d),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x2190a6});}['collectMod'+'els'](_0x1d4430,_0x5df3ae,_0x16764f){var _0x430ec2,_0x2eadce,_0x45a9ba;if(!_0x1d4430['enabled'])return;let _0x88b7ac;if((_0x430ec2=_0x1d4430['model'])!=null&&_0x430ec2['model']&&((_0x2eadce=_0x1d4430['model'])!=null&&_0x2eadce['enabled'])&&(_0x16764f&&_0x16764f['push'](new Wl(_0x1d4430)),_0x1d4430['model']['lightmappe'+'d']&&_0x5df3ae&&(_0x88b7ac=_0x1d4430['model']['model']['meshInstan'+'ces'])),(_0x45a9ba=_0x1d4430['render'])!=null&&_0x45a9ba['enabled']&&(_0x16764f&&_0x16764f['push'](new Wl(_0x1d4430)),_0x1d4430['render']['lightmappe'+'d']&&_0x5df3ae&&(_0x88b7ac=_0x1d4430['render']['meshInstan'+'ces'])),_0x88b7ac){let _0x5ac8b8=!(0xc49*-0x3+-0x1*0x25d6+0x4ab1);for(let _0x329369=-0x5*0x409+-0x263d+0x3a6a;_0x329369<_0x88b7ac['length'];_0x329369++)if(!_0x88b7ac[_0x329369]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x1d4430['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x5ac8b8=!(-0xd3a*0x1+0x15a0+-0x865);break;}if(_0x5ac8b8){const _0x516457=[];for(let _0x1b356d=0x145*-0xd+-0x119*-0x16+-0x7a5;_0x1b356d<_0x88b7ac['length'];_0x1b356d++){const _0x352827=_0x88b7ac[_0x1b356d]['mesh'];this['_tempSet']['has'](_0x352827)?_0x5df3ae['push'](new Wl(_0x1d4430,[_0x88b7ac[_0x1b356d]])):_0x516457['push'](_0x88b7ac[_0x1b356d]),this['_tempSet']['add'](_0x352827);}this['_tempSet']['clear'](),_0x516457['length']>-0x1*-0x1204+0x1*0x533+0x7*-0x351&&_0x5df3ae['push'](new Wl(_0x1d4430,_0x516457));}}for(let _0xbcd582=0x114*-0x3+-0x8bd*0x1+0xbf9;_0xbcd582<_0x1d4430['_children']['length'];_0xbcd582++)this['collectMod'+'els'](_0x1d4430['_children'][_0xbcd582],_0x5df3ae,_0x16764f);}['prepareSha'+'dowCasters'](_0x4fa790){const _0x41ffe7=[];for(let _0x5af478=0x532+0x6b*0x33+-0x1a83;_0x5af478<_0x4fa790['length'];_0x5af478++){const _0x193936=_0x4fa790[_0x5af478]['component'];if(_0x193936['castShadow'+'s']=_0x193936['castShadow'+'sLightmap'],_0x193936['castShadow'+'sLightmap']){const _0x4d9acc=_0x4fa790[_0x5af478]['meshInstan'+'ces'];for(let _0x5ccbfb=0x1d9b*0x1+0xbb9+-0x2954;_0x5ccbfb<_0x4d9acc['length'];_0x5ccbfb++)_0x4d9acc[_0x5ccbfb]['visibleThi'+'sFrame']=!(0x29f+0x3*0x1f3+0x878*-0x1),_0x41ffe7['push'](_0x4d9acc[_0x5ccbfb]);}}return _0x41ffe7;}['updateTran'+'sforms'](_0x11a746){for(let _0x52e51a=-0x2*0x1169+-0x23df+-0x1*-0x46b1;_0x52e51a<_0x11a746['length'];_0x52e51a++){const _0x660a02=_0x11a746[_0x52e51a]['meshInstan'+'ces'];for(let _0x3706ce=-0x804+0x2501+0x1*-0x1cfd;_0x3706ce<_0x660a02['length'];_0x3706ce++)_0x660a02[_0x3706ce]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x4f4a84){let _0x23644b;const _0x4b5e62=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0x11*-0x1d+-0x3*-0xc29+-0x2658,_0x202021=$l;let _0x512d96,_0x4d5c09;_0x4f4a84['model']?(_0x4d5c09=_0x4f4a84['model']['lightmapSi'+'zeMultipli'+'er'],_0x4f4a84['model']['asset']?(_0x23644b=this['assets']['get'](_0x4f4a84['model']['asset'])['data'],_0x23644b['area']&&(_0x512d96=_0x23644b['area'])):_0x4f4a84['model']['_area']&&(_0x23644b=_0x4f4a84['model'],_0x23644b['_area']&&(_0x512d96=_0x23644b['_area']))):_0x4f4a84['render']&&(_0x4d5c09=_0x4f4a84['render']['lightmapSi'+'zeMultipli'+'er'],_0x4f4a84['render']['type']!=='asset'&&_0x4f4a84['render']['_area']&&(_0x23644b=_0x4f4a84['render'],_0x23644b['_area']&&(_0x512d96=_0x23644b['_area'])));const _0x2b1e27={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x512d96&&(_0x2b1e27['x']=_0x512d96['x'],_0x2b1e27['y']=_0x512d96['y'],_0x2b1e27['z']=_0x512d96['z'],_0x2b1e27['uv']=_0x512d96['uv']);const _0x525996=_0x4d5c09||0x1497+-0xb8d*-0x3+0x373d*-0x1;_0x2b1e27['x']*=_0x525996,_0x2b1e27['y']*=_0x525996,_0x2b1e27['z']*=_0x525996;const _0x592fcd=_0x4f4a84['render']||_0x4f4a84['model'],_0x516a9f=this['computeNod'+'eBounds'](_0x592fcd['meshInstan'+'ces']);_0x202021['copy'](_0x516a9f['halfExtent'+'s']);let _0x380965=_0x2b1e27['x']*_0x202021['y']*_0x202021['z']+_0x2b1e27['y']*_0x202021['x']*_0x202021['z']+_0x2b1e27['z']*_0x202021['x']*_0x202021['y'];return _0x380965/=_0x2b1e27['uv'],_0x380965=Math['sqrt'](_0x380965),Math['min'](N['nextPowerO'+'fTwo'](_0x380965*_0x4b5e62),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x2ef351,_0x31f9e2,_0x9badd1,_0x3dbf22){for(let _0x2dacc1=0x5*0x625+0x2*0x20e+-0x22d5;_0x2dacc1<_0x2ef351['length'];_0x2dacc1++){const _0x2c8ae1=_0x2ef351[_0x2dacc1],_0x5d6e3e=_0x2c8ae1['meshInstan'+'ces'];for(let _0x1f14fd=-0x1c48+-0x1*-0x2562+-0x91a;_0x1f14fd<_0x5d6e3e['length'];_0x1f14fd++){const _0x7408a0=_0x5d6e3e[_0x1f14fd];if(_0x7408a0['setLightma'+'pped'](_0x31f9e2),_0x31f9e2){_0x3dbf22&&(_0x7408a0['_shaderDef'+'s']|=_0x3dbf22),_0x7408a0['mask']=cr;for(let _0x16f957=-0x1e7*-0x10+0x1*0xfe6+-0x2e56;_0x16f957<_0x9badd1;_0x16f957++){const _0x4430fb=_0x2c8ae1['renderTarg'+'ets'][_0x16f957]['colorBuffe'+'r'];_0x4430fb['minFilter']=st,_0x4430fb['magFilter']=st,_0x7408a0['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x16f957],_0x4430fb);}}}}}['bake'](_0x400d8c,_0x5e6aff=ch){const _0x510733=this['device'],_0x232d56=ne();this['scene']['_updateSky'+'Mesh'](),_0x510733['fire']('lightmappe'+'r:start',{'timestamp':_0x232d56,'target':this}),this['stats']['renderPass'+'es']=0x53*-0x52+-0x14*-0x57+-0x12a*-0x11,this['stats']['shadowMapT'+'ime']=-0x9*-0x180+0x14c5+-0x11b*0x1f,this['stats']['forwardTim'+'e']=0x422+0x1818+0x1*-0x1c3a;const _0x54521e=_0x510733['_shaderSta'+'ts']['linked'],_0xd541fa=_0x510733['_renderTar'+'getCreatio'+'nTime'],_0x15d2ae=_0x510733['_shaderSta'+'ts']['compileTim'+'e'],_0x59301e=[],_0x2b89bc=[];if(_0x400d8c){for(let _0x347630=0x79*-0x49+0x33*0x89+0x736;_0x347630<_0x400d8c['length'];_0x347630++)this['collectMod'+'els'](_0x400d8c[_0x347630],_0x59301e,null);this['collectMod'+'els'](this['root'],null,_0x2b89bc);}else this['collectMod'+'els'](this['root'],_0x59301e,_0x2b89bc);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x59301e['length']>0x147a+-0x1e14+-0x1*-0x99a){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0xcf1d75=_0x5e6aff===ch?-0x2*-0x2a2+-0x62+-0x4e0:0x1*0x9c4+-0xd*0x2cd+0x1aa6;this['setLightma'+'pping'](_0x59301e,!(0x4*-0x139+-0x660*-0x4+-0x19*0xd3),_0xcf1d75),this['initBake'](_0x510733),this['bakeIntern'+'al'](_0xcf1d75,_0x59301e,_0x2b89bc);let _0x3aee87=Fu;_0x5e6aff===ch&&(_0x3aee87|=y0),this['scene']['ambientBak'+'e']&&(_0x3aee87|=x0),this['setLightma'+'pping'](_0x59301e,!(0x2002+-0x1c3e+0x3c4*-0x1),_0xcf1d75,_0x3aee87),this['finishBake'](_0x59301e);}G['popGpuMark'+'er'](this['device']);const _0x4bcd56=ne();this['stats']['totalRende'+'rTime']=_0x4bcd56-_0x232d56,this['stats']['shadersLin'+'ked']=_0x510733['_shaderSta'+'ts']['linked']-_0x54521e,this['stats']['compileTim'+'e']=_0x510733['_shaderSta'+'ts']['compileTim'+'e']-_0x15d2ae,this['stats']['fboTime']=_0x510733['_renderTar'+'getCreatio'+'nTime']-_0xd541fa,this['stats']['lightmapCo'+'unt']=_0x59301e['length'],_0x510733['fire']('lightmappe'+'r:end',{'timestamp':_0x4bcd56,'target':this});}['allocateTe'+'xtures'](_0x4adb4b,_0x25c1b0){for(let _0x56941b=0x1d02+0xb*-0x29+-0x9b*0x2d;_0x56941b<_0x4adb4b['length'];_0x56941b++){const _0x2531fa=_0x4adb4b[_0x56941b],_0x344d47=this['calculateL'+'ightmapSiz'+'e'](_0x2531fa['node']);for(let _0x1a6060=-0x21ab+-0x958+0x2b03;_0x1a6060<_0x25c1b0;_0x1a6060++){const _0x4e894e=this['createText'+'ure'](_0x344d47,'lightmappe'+'r_lightmap'+'_'+_0x56941b);Si['incRef'](_0x4e894e),_0x2531fa['renderTarg'+'ets'][_0x1a6060]=new pt({'colorBuffer':_0x4e894e,'depth':!(0x4a2*-0x1+0x25e9+-0x10a3*0x2)});}if(!this['renderTarg'+'ets']['has'](_0x344d47)){const _0x4628c7=this['createText'+'ure'](_0x344d47,'lightmappe'+'r_temp_lig'+'htmap_'+_0x344d47);Si['incRef'](_0x4628c7),this['renderTarg'+'ets']['set'](_0x344d47,new pt({'colorBuffer':_0x4628c7,'depth':!(-0x15*0x1b+0x16a9*0x1+-0x1471*0x1)}));}}}['prepareLig'+'htsToBake'](_0x4bad03,_0x549c78){if(this['scene']['ambientBak'+'e']){const _0x4bf2f8=new j_(this);_0x549c78['push'](_0x4bf2f8);}const _0x240a14=this['renderer']['lights'];for(let _0x292dbd=-0x7c+-0x37*-0x29+-0x853;_0x292dbd<_0x240a14['length'];_0x292dbd++){const _0x2f8d5a=_0x240a14[_0x292dbd],_0x490429=new mP(this,_0x2f8d5a);_0x4bad03['push'](_0x490429),_0x2f8d5a['enabled']&&(_0x2f8d5a['mask']&rr)!==0x3ff+0x4*-0x2b1+0x6c5&&(_0x2f8d5a['mask']=rr|cr|hs,_0x2f8d5a['shadowUpda'+'teMode']=_0x2f8d5a['type']===oe?Pp:cn,_0x549c78['push'](_0x490429));}_0x549c78['sort']();}['restoreLig'+'hts'](_0x4afd71){for(let _0x5e2407=0x15fa+-0x10f7+-0x1*0x503;_0x5e2407<_0x4afd71['length'];_0x5e2407++)_0x4afd71[_0x5e2407]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x87d+-0x45*0x36+-0x11*-0x15b,-0x1f16+0x1a*0x49+-0x17ac*-0x1,-0x3*-0xbcb+0x2cb*0x4+-0x2e8d),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x6db1ce){const _0x5e3dcd=new _e();if(_0x6db1ce['length']>-0x1*0x10db+-0xeaa+-0x1f85*-0x1){_0x5e3dcd['copy'](_0x6db1ce[-0x13ff+-0x1a98+0x1*0x2e97]['aabb']);for(let _0x300a79=0x2*0x34a+0xfe*0x2+0x1*-0x88f;_0x300a79<_0x6db1ce['length'];_0x300a79++)_0x5e3dcd['add'](_0x6db1ce[_0x300a79]['aabb']);}return _0x5e3dcd;}['computeNod'+'esBounds'](_0x3e745f){for(let _0x3f9844=0x79*0x22+0x18be+-0x28d*0x10;_0x3f9844<_0x3e745f['length'];_0x3f9844++){const _0x594046=_0x3e745f[_0x3f9844]['meshInstan'+'ces'];_0x3e745f[_0x3f9844]['bounds']=this['computeNod'+'eBounds'](_0x594046);}}['computeBou'+'nds'](_0x3fa92b){const _0x52d9fa=new _e();for(let _0x227cb9=0x254b+0x422+-0x1*0x296d;_0x227cb9<_0x3fa92b['length'];_0x227cb9++){_0x52d9fa['copy'](_0x3fa92b[-0x1*0x1aab+-0x226+0x1cd1*0x1]['aabb']);for(let _0x107e7b=0x1*-0x1f4b+0x2c7*0x3+0x1*0x16f7;_0x107e7b<_0x3fa92b['length'];_0x107e7b++)_0x52d9fa['add'](_0x3fa92b[_0x107e7b]['aabb']);}return _0x52d9fa;}['backupMate'+'rials'](_0x3823b1){for(let _0x327cf7=-0xcb*-0x4+0x3*-0x4cf+0x1*0xb41;_0x327cf7<_0x3823b1['length'];_0x327cf7++)this['materials'][_0x327cf7]=_0x3823b1[_0x327cf7]['material'];}['restoreMat'+'erials'](_0x5b857d){for(let _0x74e13d=-0x19*0x4f+0x40f+0x138*0x3;_0x74e13d<_0x5b857d['length'];_0x74e13d++)_0x5b857d[_0x74e13d]['material']=this['materials'][_0x74e13d];}['lightCamer'+'aPrepare'](_0x55e656,_0x7206a6){const _0x4a8a24=_0x7206a6['light'];let _0x18095a;return _0x4a8a24['type']===Re&&(_0x18095a=_0x4a8a24['getRenderD'+'ata'](null,0x1*-0x24bb+0x3*-0x8b6+0x3edd)['shadowCame'+'ra'],_0x18095a['_node']['setPositio'+'n'](_0x4a8a24['_node']['getPositio'+'n']()),_0x18095a['_node']['setRotatio'+'n'](_0x4a8a24['_node']['getRotatio'+'n']()),_0x18095a['_node']['rotateLoca'+'l'](-(0x5bf+-0x422+0x13*-0x11),-0x1*-0xd3b+0xb13+-0x184e,0xde0+0x42*0x7+0xfae*-0x1),_0x18095a['projection']=Gs,_0x18095a['nearClip']=_0x4a8a24['attenuatio'+'nEnd']/(0xe1*0xe+-0x26b8+-0x1*-0x1e52),_0x18095a['farClip']=_0x4a8a24['attenuatio'+'nEnd'],_0x18095a['aspectRati'+'o']=0x87d*0x2+0x12e1+-0x23da,_0x18095a['fov']=_0x4a8a24['_outerCone'+'Angle']*(0x1697+0x3*-0x1f9+0x2c7*-0x6),this['renderer']['updateCame'+'raFrustum'](_0x18095a)),_0x18095a;}['lightCamer'+'aPrepareAn'+'dCull'](_0x37460c,_0x28a836,_0x222b73,_0x4f7571){const _0x3567be=_0x37460c['light'];let _0x2d2bc5=!(-0x1*-0x589+-0x820+0x11*0x27);if(_0x3567be['type']===oe){$l['copy'](_0x4f7571['center']),$l['y']+=_0x4f7571['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n']($l),this['camera']['node']['setEulerAn'+'gles'](-(0x161*0x2+-0xc*-0x20f+-0x1b1c),0x28d*-0xd+0x27c*0x1+0x1ead,-0xa20+0x3d2+0x1*0x64e),this['camera']['nearClip']=-0x2*-0x7d4+0x185*-0x7+-0x505,this['camera']['farClip']=_0x4f7571['halfExtent'+'s']['y']*(-0x1bf0+-0x1*0x2eb+0x1edd);const _0x83f71d=Math['max'](_0x4f7571['halfExtent'+'s']['x'],_0x4f7571['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x83f71d;}else _0x37460c['lightBound'+'s']['intersects'](_0x28a836['bounds'])||(_0x2d2bc5=!(0x207a+-0xc4+-0x1fb5));if(_0x3567be['type']===Re){let _0x2e6aec=!(-0x1f85+0x28*-0x7+0x209e);const _0x261dc7=_0x28a836['meshInstan'+'ces'];for(let _0x53ec8f=-0x13*0x47+-0x1cac+-0x1*-0x21f1;_0x53ec8f<_0x261dc7['length'];_0x53ec8f++)if(_0x261dc7[_0x53ec8f]['_isVisible'](_0x222b73)){_0x2e6aec=!(-0x67*-0x3b+0x9+0xb3*-0x22);break;}_0x2e6aec||(_0x2d2bc5=!(-0x14e5+-0x2152+0xad8*0x5));}return _0x2d2bc5;}['setupLight'+'Array'](_0x43dae0,_0x150de3){_0x43dae0[oe]['length']=0x2*0xf34+0x538*-0x2+-0x13f8,_0x43dae0[Pe]['length']=-0x17*-0x6d+0x1*0x183e+-0x2209,_0x43dae0[Re]['length']=-0x2077*-0x1+-0x148*-0x1c+-0x4457,_0x43dae0[_0x150de3['type']][-0x21b0+0x835+-0x1*-0x197b]=_0x150de3,_0x150de3['visibleThi'+'sFrame']=!(-0x158f+0x2*0xaed+-0x4b);}['renderShad'+'owMap'](_0x1ecb37,_0x31ec60,_0x5905c0,_0x2754fa){const _0x5c7219=_0x2754fa['light'],_0x13f68e=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x52f037=_0x5c7219['castShadow'+'s']&&(!_0x13f68e||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x31ec60&&_0x52f037){if(!_0x5c7219['shadowMap']&&!_0x13f68e&&(_0x5c7219['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x5c7219)),_0x5c7219['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x5c7219,_0x1ecb37,this['camera'],_0x5905c0);const _0x2e737a=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x5c7219,this['camera']);_0x2e737a==null||_0x2e737a['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0x677*0x4+0x11f2+-0x2bce);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x5c7219,_0x1ecb37,_0x5905c0),this['renderer']['shadowRend'+'erer']['render'](_0x5c7219,this['camera'],!(0x160f+0x24e2+-0x3af0));}}return!(-0x4a*0x74+-0x43f*0x4+0x3284);}['postproces'+'sTextures'](_0x1a403c,_0x5ddb63,_0x2bf470){const _0x4d1d90=this['lightmapFi'+'lters']['getDilate'](_0x1a403c,this['bakeHDR']);let _0x4fe77c;const _0x3fb082=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x3fb082&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x4fe77c=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x1a403c['setBlendSt'+'ate'](_t['NOBLEND']),_0x1a403c['setDepthSt'+'ate'](as['NODEPTH']),_0x1a403c['setStencil'+'State'](null,null);for(let _0x5c55c0=0x2588+0x1aba+-0x4042;_0x5c55c0<_0x5ddb63['length'];_0x5c55c0++){const _0xd94985=_0x5ddb63[_0x5c55c0];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x5c55c0);for(let _0x2af798=0x12fa+-0x1fa6+-0x1*-0xcac;_0x2af798<_0x2bf470;_0x2af798++){const _0x13993e=_0xd94985['renderTarg'+'ets'][_0x2af798],_0x441447=_0x13993e['colorBuffe'+'r'],_0x7e22cf=this['renderTarg'+'ets']['get'](_0x441447['width']),_0x5521fe=_0x7e22cf['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x441447['width'],_0x441447['height']);for(let _0x329d84=0x2bd*-0x1+0x103c+-0xd7f;_0x329d84<-0xa11+-0x95*-0x36+-0x155c;_0x329d84++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x441447),dn(_0x1a403c,_0x7e22cf,_0x3fb082&&_0x2af798===0x3*0x187+-0x381*-0x6+-0x199b&&_0x329d84===0x1b19*-0x1+0x5*0x537+0x2*0x83?_0x4fe77c:_0x4d1d90),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x5521fe),dn(_0x1a403c,_0x13993e,_0x4d1d90);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0xb2c381,_0x525173,_0x1f0801){const _0x195e4e=this['scene'],_0x97ab23=_0x195e4e['layers'],_0x1a8f3f=this['device'],_0x15aec8=_0x195e4e['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x1a8f3f,_0x195e4e,_0xb2c381),this['setupScene'](),_0x97ab23['_update'](),this['computeNod'+'esBounds'](_0x525173),this['allocateTe'+'xtures'](_0x525173,_0xb2c381),this['renderer']['collectLig'+'hts'](_0x97ab23);const _0x102b08=[],_0x9257e3=[];this['prepareLig'+'htsToBake'](_0x102b08,_0x9257e3),this['updateTran'+'sforms'](_0x1f0801);const _0x4d6d2d=this['prepareSha'+'dowCasters'](_0x1f0801);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x4d6d2d),this['renderer']['gpuUpdate'](_0x4d6d2d);const _0x5a5fba=this['computeBou'+'nds'](_0x4d6d2d);let _0x36c86d,_0x64321c,_0x515437,_0x9b15aa;for(_0x36c86d=0x16fd+0x19f2+-0x30ef;_0x36c86d<_0x525173['length'];_0x36c86d++)for(_0x515437=_0x525173[_0x36c86d]['meshInstan'+'ces'],_0x64321c=-0x2*0x943+0x48*-0x6d+0x5*0x9d6;_0x64321c<_0x515437['length'];_0x64321c++)_0x9b15aa=_0x515437[_0x64321c],_0x9b15aa['setLightma'+'pped'](!(0x1a3*0xb+-0xa18+-0x7e8)),_0x9b15aa['mask']=rr,_0x9b15aa['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0x20cb*-0x1+0x4f*0x31+-0xc*-0x179],this['blackTex']),_0x9b15aa['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0x1748+0x1*-0x14db+0x2c24],this['blackTex']);for(_0x64321c=-0x1df1+-0x9*-0x199+-0x298*-0x6;_0x64321c<_0x9257e3['length'];_0x64321c++)_0x9257e3[_0x64321c]['light']['enabled']=!(0x979*-0x2+0x8a7+0x1*0xa4c);const _0x3bdf6f=[[],[],[]];let _0x23956b,_0x22c46c,_0x2994dc=!(0x91a+-0xb42+0x229);for(_0x36c86d=-0xe2f+-0xf32+0x6d*0x45;_0x36c86d<_0x9257e3['length'];_0x36c86d++){const _0x32d7f6=_0x9257e3[_0x36c86d],_0xa7256f=_0x32d7f6 instanceof j_,_0x5a4835=_0x32d7f6['light']['type']===oe;let _0x30bb4c=_0x32d7f6['numVirtual'+'Lights'];_0xb2c381>0x9a2+-0x471*0x2+-0xbf&&_0x30bb4c>-0xb4f+0x1508+-0x9b8&&_0x32d7f6['light']['bakeDir']&&(_0x30bb4c=-0x21b4+-0x1ee+0x23a3,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x58e5ea=0x205e*0x1+0x9e3*0x1+-0x2a41;_0x58e5ea<_0x30bb4c;_0x58e5ea++){G['pushGpuMar'+'ker'](_0x1a8f3f,'Light:'+_0x32d7f6['light']['_node']['name']+':'+_0x58e5ea),_0x30bb4c>-0x1*-0xffb+0xc7b+-0x1c75&&_0x32d7f6['prepareVir'+'tualLight'](_0x58e5ea,_0x30bb4c),_0x32d7f6['startBake']();let _0x59c825=!(-0x25*0x6e+0x3*-0x16e+0x1431);const _0x279fda=this['lightCamer'+'aPrepare'](_0x1a8f3f,_0x32d7f6);for(_0x22c46c=-0x41b*-0x1+-0x13a*0x1c+0x1e3d;_0x22c46c<_0x525173['length'];_0x22c46c++){const _0x1d8d79=_0x525173[_0x22c46c];if(_0x515437=_0x1d8d79['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x32d7f6,_0x1d8d79,_0x279fda,_0x5a5fba))continue;this['setupLight'+'Array'](_0x3bdf6f,_0x32d7f6['light']);const _0x438efe=_0x5a4835?[]:[_0x32d7f6['light']];for(_0x15aec8&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x438efe,this['lightingPa'+'rams']),_0x59c825=this['renderShad'+'owMap'](_0x97ab23,_0x59c825,_0x4d6d2d,_0x32d7f6),_0x15aec8&&this['worldClust'+'ers']['update'](_0x438efe,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x515437),_0x23956b=0x3f*-0x3a+0x1eb0+-0x106a;_0x23956b<_0xb2c381&&!(_0x23956b>-0xe8a+0x252+0xc38&&_0x58e5ea>-0xcd4+-0x1*-0x21af+0x14db*-0x1||_0xa7256f&&_0x23956b>0x236f+-0x1962+-0xa0d);_0x23956b++){G['pushGpuMar'+'ker'](_0x1a8f3f,'LMPass:'+_0x23956b);const _0x54f172=_0x1d8d79['renderTarg'+'ets'][_0x23956b],_0x495d52=_0x1d8d79['renderTarg'+'ets'][_0x23956b]['colorBuffe'+'r']['width'],_0x18d97a=this['renderTarg'+'ets']['get'](_0x495d52),_0x417b25=_0x18d97a['colorBuffe'+'r'];_0x23956b===0x1*-0x51e+-0x5*-0x4d3+-0x23*0x8b?_0x2994dc=_0x195e4e['updateShad'+'ers']:_0x2994dc&&(_0x195e4e['updateShad'+'ers']=!(-0x11cc*-0x1+0x6d*-0x14+0x108*-0x9));let _0x4ba30c=this['passMateri'+'als'][_0x23956b];for(_0xa7256f&&_0x58e5ea+(0x473+-0x90f+0x49d*0x1)===_0x30bb4c&&_0x23956b===-0xf7*0x26+-0xc*0x195+0x37a6&&(_0x4ba30c=this['ambientAOM'+'aterial']),_0x64321c=0x24*0x94+-0x22f8*-0x1+-0x37c8;_0x64321c<_0x515437['length'];_0x64321c++)_0x515437[_0x64321c]['material']=_0x4ba30c;if(this['renderer']['updateShad'+'ers'](_0x515437),_0x23956b===SP&&this['constantBa'+'keDir']['setValue'](_0x32d7f6['light']['bakeDir']?-0x1a50+0x2568+-0xb17:-0x3*-0x394+0x1a88+-0x2544),_0x1a8f3f['isWebGPU']){const _0x5a5370=new gP(_0x1a8f3f,this['renderer'],this['camera'],_0x15aec8?this['worldClust'+'ers']:null,_0x515437,_0x3bdf6f);_0x5a5370['init'](_0x18d97a),_0x5a5370['render'](),_0x5a5370['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x18d97a,!(0x1*0x416+-0x5*0x268+0x6*0x153)),_0x15aec8&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0xc*0x67+0x39*0x4b+0x3*-0x3f5,this['renderer']['_shadowMap'+'Time']=-0x1d3c+0x1e6e+-0x132,this['renderer']['renderForw'+'ard'](this['camera'],_0x18d97a,_0x515437,_0x3bdf6f,gn),_0x1a8f3f['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x1d8d79['renderTarg'+'ets'][_0x23956b]=_0x18d97a,this['renderTarg'+'ets']['set'](_0x495d52,_0x54f172),_0x64321c=-0x17a6+-0x269e+0x3e44;_0x64321c<_0x515437['length'];_0x64321c++)_0x9b15aa=_0x515437[_0x64321c],_0x9b15aa['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x23956b],_0x417b25),_0x9b15aa['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x1a8f3f);}this['restoreMat'+'erials'](_0x515437);}_0x32d7f6['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x1a8f3f);}}for(this['postproces'+'sTextures'](_0x1a8f3f,_0x525173,_0xb2c381),_0x22c46c=0x2e*0x72+-0x1a1f+0x1*0x5a3;_0x22c46c<_0x1f0801['length'];_0x22c46c++)_0x1f0801[_0x22c46c]['restore']();this['restoreLig'+'hts'](_0x102b08),this['restoreSce'+'ne'](),_0x15aec8||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x18b6c9,_0x535143){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x18b6c9,this['entity']=_0x535143,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x37c994,_0x3e4c65,_0x33309a){this['fire']('set_'+_0x37c994,_0x37c994,_0x3e4c65,_0x33309a);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x1442dc,_0x3b0f12){_0x3b0f12['forEach'](_0x204d48=>{const _0xe43edf=typeof _0x204d48=='object'?_0x204d48['name']:_0x204d48;Object['defineProp'+'erty'](_0x1442dc,_0xe43edf,{'get':function(){return this['data'][_0xe43edf];},'set':function(_0x268486){const _0x69ae0=this['data'],_0x283f06=_0x69ae0[_0xe43edf];_0x69ae0[_0xe43edf]=_0x268486,this['fire']('set',_0xe43edf,_0x283f06,_0x268486);},'configurable':!(0x228c+0x2f6+-0x12c1*0x2)});}),_0x1442dc['_accessors'+'Built']=!(0x774+-0x11fd+0x5d*0x1d);}['buildAcces'+'sors'](_0x2fdbc2){oc['_buildAcce'+'ssors'](this,_0x2fdbc2);}['onSetEnabl'+'ed'](_0x5ae0e9,_0x23947f,_0x52d37a){_0x23947f!==_0x52d37a&&this['entity']['enabled']&&(_0x52d37a?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x43685c=this['system']['store'][this['entity']['getGuid']()];return _0x43685c?_0x43685c['data']:null;}set['enabled'](_0x997b4c){}get['enabled'](){return!(0x6*0x366+0x15*-0xcf+-0x369);}};c(oc,'order',-0x1ead+0x1*-0x1045+0x2ef2*0x1);let ue=oc;class Xe extends ce{constructor(_0x574ef5){super(),this['app']=_0x574ef5,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x1bb7dc,_0x35271e={}){const _0x379c24=new this['ComponentT'+'ype'](this,_0x1bb7dc),_0x3d68f9=new this['DataType']();return this['store'][_0x1bb7dc['getGuid']()]={'entity':_0x1bb7dc,'data':_0x3d68f9},_0x1bb7dc[this['id']]=_0x379c24,_0x1bb7dc['c'][this['id']]=_0x379c24,this['initialize'+'ComponentD'+'ata'](_0x379c24,_0x35271e,[]),this['fire']('add',_0x1bb7dc,_0x379c24),_0x379c24;}['removeComp'+'onent'](_0x3584e4){const _0x5084c5=this['id'],_0x192d05=this['store'][_0x3584e4['getGuid']()],_0x95f9eb=_0x3584e4['c'][_0x5084c5];_0x95f9eb['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x3584e4,_0x95f9eb),delete this['store'][_0x3584e4['getGuid']()],_0x3584e4[_0x5084c5]=void(-0x1f5b+-0x2699+0x16*0x32e),delete _0x3584e4['c'][_0x5084c5],this['fire']('remove',_0x3584e4,_0x192d05['data']);}['cloneCompo'+'nent'](_0x294e0d,_0x2d7f5f){const _0x59ae4c=this['store'][_0x294e0d['getGuid']()];return this['addCompone'+'nt'](_0x2d7f5f,_0x59ae4c['data']);}['initialize'+'ComponentD'+'ata'](_0x23a084,_0x229971={},_0x1df795){for(let _0x5a253d=-0x1b7e*0x1+-0x2650+0x41ce,_0x190eb6=_0x1df795['length'];_0x5a253d<_0x190eb6;_0x5a253d++){const _0x530953=_0x1df795[_0x5a253d];let _0x3d8c27,_0x4176dd;typeof _0x530953=='object'?(_0x3d8c27=_0x530953['name'],_0x4176dd=_0x530953['type']):(_0x3d8c27=_0x530953,_0x4176dd=void(-0x2405+0x6*0xd+0x23b7));let _0x9d49c0=_0x229971[_0x3d8c27];_0x9d49c0!==void(0x443*-0x9+-0x23d5+0x2*0x2518)?(_0x4176dd!==void(0xd*0xb8+-0x8*0xa5+0x43*-0x10)&&(_0x9d49c0=bP(_0x9d49c0,_0x4176dd)),_0x23a084[_0x3d8c27]=_0x9d49c0):_0x23a084[_0x3d8c27]=_0x23a084['data'][_0x3d8c27];}_0x23a084['enabled']&&_0x23a084['entity']['enabled']&&_0x23a084['onEnable']();}['getPropert'+'iesOfType'](_0x197246){const _0x104d85=[];return(this['schema']||[])['forEach'](_0x253630=>{_0x253630&&typeof _0x253630=='object'&&_0x253630['type']===_0x197246&&_0x104d85['push'](_0x253630);}),_0x104d85;}['destroy'](){this['off']();}}function bP(_0x5bccd2,_0x1625bb){if(!_0x5bccd2)return _0x5bccd2;switch(_0x1625bb){case'rgb':return _0x5bccd2 instanceof Y?_0x5bccd2['clone']():new Y(_0x5bccd2[-0x95*-0x24+0xad*-0x35+0xedd*0x1],_0x5bccd2[-0x4b4+-0x1c55+0x2*0x1085],_0x5bccd2[0x2042*-0x1+0x30d*0x3+0x171d]);case'rgba':return _0x5bccd2 instanceof Y?_0x5bccd2['clone']():new Y(_0x5bccd2[0xa3*0x1d+0x1245+-0x24bc],_0x5bccd2[-0x24d5+-0x73e+0x1c*0x193],_0x5bccd2[0x1*-0x249b+-0x1*0x327+0x27c4],_0x5bccd2[-0x2087+0x1*-0x1697+-0x3721*-0x1]);case'vec2':return _0x5bccd2 instanceof W?_0x5bccd2['clone']():new W(_0x5bccd2[0x106e+0xfe3+0x1*-0x2051],_0x5bccd2[-0x18e8+-0x1769+-0x1829*-0x2]);case'vec3':return _0x5bccd2 instanceof T?_0x5bccd2['clone']():new T(_0x5bccd2[0x11e8+0xeec+-0x20d4],_0x5bccd2[-0x1e5f+0xeb8+0x6*0x29c],_0x5bccd2[0x8*-0x47+0x126c*-0x1+0x14a6]);case'vec4':return _0x5bccd2 instanceof Q?_0x5bccd2['clone']():new Q(_0x5bccd2[0xc83+-0x3*-0x445+0xe*-0x1cf],_0x5bccd2[-0x169e+0x1626+0x79],_0x5bccd2[-0x1*-0x2168+-0xaff*0x2+-0xb68],_0x5bccd2[-0xfed*0x1+-0x4ed+0x14dd]);case'boolean':case'number':case'string':return _0x5bccd2;case'entity':return _0x5bccd2;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x1625bb);}}const $0=-0x1ca0+0x19d*0xd+-0x7a7*-0x1,ju=-0x6b4+-0x7ca+0xe7f,Yu=0xe9d*-0x2+-0x1d90+0x6a*0x8e;class wP{constructor(){this['_left']=(0x1c0+-0x2340+0x3*0xb2b)/(0x114*0x15+0x1*0x1aa7+-0x314b),this['_right']=-(0x7e6+-0x1f1c+-0x351*-0x7)/(0x1*0x1539+-0x235a+-0xe21*-0x1),this['_len']=-0x1408+0x1912+-0x50a,this['_recip']=0xdcc+0xd*-0xf3+-0x1*0x175,this['_p0']=0x1*0x15bf+0xf3*-0x14+0x1*-0x2c3,this['_p1']=0x9c6+-0x3*0x5bd+0x771,this['_t']=0x1*0x981+-0x1432+0xab1,this['_hermite']={'valid':!(-0x2198+0x1*-0xbfb+0x2d94),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x2ff27d,_0x6fcb30){if(_0x2ff27d<this['_left']||_0x2ff27d>=this['_right']){const _0x109751=_0x6fcb30['length'];if(!_0x109751)this['_left']=-(0x1819*0x1+-0x2102+-0xe*-0xa3)/(0x243b+-0xc4d+-0x17ee),this['_right']=(-0x8*0x115+0x56*-0x56+0x258d)/(0x35*0x7d+-0x3b+0x3aa*-0x7),this['_len']=0x165f+-0x12*0x7b+-0xdb9,this['_recip']=0x2182+-0x9cf*0x1+0x17b3*-0x1,this['_p0']=this['_p1']=-0x96c+0x20c3+0xef*-0x19;else{if(_0x2ff27d<_0x6fcb30[0x2322+-0x26e7*-0x1+0xb*-0x6bb])this['_left']=-(-0x2ea+-0x1900+0x1beb)/(-0xf3d*0x1+0x2e7+-0x62b*-0x2),this['_right']=_0x6fcb30[0x1173+0x2a*0x83+0x26f1*-0x1],this['_len']=0x15*0x10d+-0xb*-0xf7+-0x20ae,this['_recip']=-0x216c+-0x1*-0x6cb+0x1*0x1aa1,this['_p0']=this['_p1']=-0x3be+0x1*0x3e+0x8*0x70;else{if(_0x2ff27d>=_0x6fcb30[_0x109751-(-0x1*-0x6b+0x86f+-0x8d9)])this['_left']=_0x6fcb30[_0x109751-(0x21*0x6a+0x40+0x1*-0xde9)],this['_right']=(0xc1*0xe+-0xe9*-0x2+-0x1*0xc5f)/(-0x1a3*0x17+-0x5*0x78d+0x1922*0x3),this['_len']=-0x674+0xeed*-0x1+0x1561,this['_recip']=-0xd*-0x11+0x146b*0x1+-0x1548,this['_p0']=this['_p1']=_0x109751-(0x67f*-0x1+-0x2532+0x2bb2);else{const _0x79145d=this['_findKey'](_0x2ff27d,_0x6fcb30);this['_left']=_0x6fcb30[_0x79145d],this['_right']=_0x6fcb30[_0x79145d+(0x1135+-0x1237+0x103)],this['_len']=this['_right']-this['_left'];const _0x5eee8c=(0xb45+-0x4b3*-0x1+-0x1*0xff7)/this['_len'];this['_recip']=isFinite(_0x5eee8c)?_0x5eee8c:-0x18b9+-0x1*0x1c67+0x55*0xa0,this['_p0']=_0x79145d,this['_p1']=_0x79145d+(-0xdfb*0x1+-0x1*0x6ab+-0x137*-0x11);}}}}this['_t']=this['_recip']===-0x6d+0x23f2+-0x2385?-0xa78+0x2477+-0x19ff:(_0x2ff27d-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x2*0xc54+-0x1dd5+0x52e);}['_findKey'](_0x5a20c0,_0x5a4ca2){let _0x45ad8b=0x23f3+-0x3b*0x37+-0x1746;for(;_0x5a20c0>=_0x5a4ca2[_0x45ad8b+(0x8*-0x47f+-0x1f26+0x431f)];)_0x45ad8b++;return _0x45ad8b;}['eval'](_0x1ef2d6,_0x31f190,_0x395142){const _0x27d608=_0x395142['_data'],_0x26fb8b=_0x395142['_component'+'s'],_0x2df4bf=this['_p0']*_0x26fb8b;if(_0x31f190===$0){for(let _0x524c2a=0x7b0+0x71*0xd+-0x1eb*0x7;_0x524c2a<_0x26fb8b;++_0x524c2a)_0x1ef2d6[_0x524c2a]=_0x27d608[_0x2df4bf+_0x524c2a];}else{const _0xf16710=this['_t'],_0x54ed13=this['_p1']*_0x26fb8b;switch(_0x31f190){case ju:for(let _0x569630=-0x642+-0x25cc+0x1*0x2c0e;_0x569630<_0x26fb8b;++_0x569630)_0x1ef2d6[_0x569630]=N['lerp'](_0x27d608[_0x2df4bf+_0x569630],_0x27d608[_0x54ed13+_0x569630],_0xf16710);break;case Yu:{const _0x671319=this['_hermite'];if(!_0x671319['valid']){const _0x3a35ec=_0xf16710*_0xf16710,_0x513849=_0xf16710+_0xf16710,_0x38aa98=-0xc26+0x730+0x4f7-_0xf16710,_0x1417e3=_0x38aa98*_0x38aa98;_0x671319['valid']=!(0x40f+0x1*0xad9+-0x4*0x3ba),_0x671319['p0']=(0xc41*0x2+-0x307+-0x157a+_0x513849)*_0x1417e3,_0x671319['m0']=_0xf16710*_0x1417e3,_0x671319['p1']=_0x3a35ec*(-0x512+0x22*-0xc2+0x1ed9*0x1-_0x513849),_0x671319['m1']=_0x3a35ec*(_0xf16710-(0x1187+-0x3b*-0x4e+-0x1*0x2380));}const _0x462df4=(this['_p0']*(-0x1f38+0x21*0xe9+0x132)+(0x2*0x10bd+0x5b7*0x3+0x2*-0x194f))*_0x26fb8b,_0x88623a=(this['_p0']*(0x1*0x1d53+-0x126*0x1f+0x64a)+(0x4*0x6f2+0x2619+-0xe7*0x49))*_0x26fb8b,_0x1a3daa=(this['_p1']*(-0x7*-0x14d+-0x4*-0x7cd+0x2*-0x1426)+(-0x102f+-0x1*0x148b+0x24bb))*_0x26fb8b,_0x2f9f8d=(this['_p1']*(-0x45d*0x5+-0xa07*0x1+0x1fdb)+(0x1921+0x1418+-0xe3*0x33))*_0x26fb8b;for(let _0x3c49aa=0xde8+-0x360+-0xa88;_0x3c49aa<_0x26fb8b;++_0x3c49aa)_0x1ef2d6[_0x3c49aa]=_0x671319['p0']*_0x27d608[_0x462df4+_0x3c49aa]+_0x671319['m0']*_0x27d608[_0x88623a+_0x3c49aa]*this['_len']+_0x671319['p1']*_0x27d608[_0x1a3daa+_0x3c49aa]+_0x671319['m1']*_0x27d608[_0x2f9f8d+_0x3c49aa]*this['_len'];break;}}}}}class K_{constructor(_0x1dbc2f){this['_name']=_0x1dbc2f['name']+'Snapshot',this['_time']=-(0x1*-0x450+0x1*-0x9b+-0x54*-0xf),this['_cache']=[],this['_results']=[];for(let _0x1d8c2e=0x7dc+0x5*-0x45d+0xdf5;_0x1d8c2e<_0x1dbc2f['_inputs']['length'];++_0x1d8c2e)this['_cache'][_0x1d8c2e]=new wP();const _0x17575d=_0x1dbc2f['_curves'],_0x1c6c76=_0x1dbc2f['_outputs'];for(let _0x568e80=0x12b3*-0x1+0x1*-0x1a65+0x4*0xb46;_0x568e80<_0x17575d['length'];++_0x568e80){const _0x170881=_0x17575d[_0x568e80],_0x56b1a9=_0x1c6c76[_0x170881['_output']],_0x272816=[];for(let _0x1324ba=-0x13df+-0x283*0x8+0x27f7;_0x1324ba<_0x56b1a9['_component'+'s'];++_0x1324ba)_0x272816[_0x1324ba]=-0x2*-0x1241+0x5b*-0x3+-0x2371;this['_results'][_0x568e80]=_0x272816;}}}const Eo=class Eo{constructor(_0x43eade,_0x3b439e,_0x361020,_0x32e6d3,_0x522552,_0x397741){this['_name']=_0x43eade['name'],this['_track']=_0x43eade,this['_snapshot']=new K_(_0x43eade),this['_playing']=_0x32e6d3,this['_time']=_0x3b439e,this['_speed']=_0x361020,this['_loop']=_0x522552,this['_blendWeig'+'ht']=-0x2*0x696+0xd*0x160+0x191*-0x3,this['_blendOrde'+'r']=0x1f9+0x1dac+-0x1fa5,this['_eventHand'+'ler']=_0x397741,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x4b6e7c){this['_name']=_0x4b6e7c;}get['name'](){return this['_name'];}set['track'](_0x5d3d2e){this['_track']=_0x5d3d2e,this['_snapshot']=new K_(_0x5d3d2e);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x4f9090){this['_time']=_0x4f9090,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x5f33fc){const _0x13f139=Math['sign'](_0x5f33fc)!==Math['sign'](this['_speed']);this['_speed']=_0x5f33fc,_0x13f139&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x2ad084){this['_loop']=_0x2ad084;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x350d6b){this['_blendWeig'+'ht']=_0x350d6b;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x2dc4b5){this['_blendOrde'+'r']=_0x2dc4b5;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x2d4c8e){this['_eventCurs'+'or']=_0x2d4c8e;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x241c*0x1+-0x52f+0x294b:this['_track']['events']['length']-(0x3*-0x3b+-0x2254+0x2306);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0xc4d+-0x1cf2+0x1*0x293f;}['nextEventA'+'headOfTime'](_0x83e28e){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x83e28e:this['nextEvent']['time']>=_0x83e28e:!(0x17c1+0x3*-0xa0b+0x661*0x1);}['nextEventB'+'ehindTime'](_0x1c1299){return this['nextEvent']?_0x1c1299===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x1c1299:this['nextEvent']['time']<=_0x1c1299:this['isReverse']?this['nextEvent']['time']>_0x1c1299:this['nextEvent']['time']<_0x1c1299:!(-0x1*0x2137+-0xe9a+-0x1*-0x2fd2);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x1b*-0xeb+-0x165a+0x2f24):-0x167f*-0x1+-0x2414+0xd95;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x37*0x5c+0xe3*0x10+-0x21f3):-0x5dc+-0x3*-0x4db+-0x8b4,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0x1e5c+-0x1*-0x2dd+0xf3*-0x23:this['_eventCurs'+'or']<-0x1e4+0xd*-0x269+-0x3f*-0x87&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x8*0x26f+-0x117f+-0x7e*0x4));}['clipFrameT'+'ime'](_0x53cd31){const _0x46fe24=Eo['eventFrame'];_0x46fe24['start']=-0x2*-0x10a6+0x5*-0x1d3+-0x182d,_0x46fe24['end']=_0x53cd31,_0x46fe24['residual']=0x23b4+-0x1ed6+-0xe*0x59,this['isReverse']?_0x53cd31<0x2e3*-0xb+-0x2*-0x130d+-0x659&&(_0x46fe24['start']=this['track']['duration'],_0x46fe24['end']=-0x3d*0x4d+-0x102*-0x1d+-0xae1,_0x46fe24['residual']=_0x53cd31+this['track']['duration']):_0x53cd31>this['track']['duration']&&(_0x46fe24['start']=0x32*0x23+0x1*0x22a3+-0x2979*0x1,_0x46fe24['end']=this['track']['duration'],_0x46fe24['residual']=_0x53cd31-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x4e3c95,_0x4eef3f){return this['nextEventA'+'headOfTime'](_0x4e3c95)&&this['nextEventB'+'ehindTime'](_0x4eef3f)?(this['fireNextEv'+'ent'](),!(-0x1ccb+-0x10f+0x1*0x1dda)):!(-0x53e*-0x7+-0x25*-0xce+-0x4277);}['activeEven'+'tsForFrame'](_0x2f4a6a,_0x590a2b){const _0x178e46=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x590a2b);const _0x15b91f=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x2f4a6a,_0x178e46['end'])&&_0x15b91f!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x178e46['residual'])>-0x35f*0x3+0x11e3*-0x2+0x11*0x2b3&&this['activeEven'+'tsForFrame'](_0x178e46['start'],_0x178e46['residual']);}['progressFo'+'rTime'](_0x362a17){return _0x362a17*this['_speed']/this['_track']['duration'];}['_update'](_0x10391a){if(this['_playing']){let _0x1ab8cc=this['_time'];const _0x21f178=this['_track']['duration'],_0x4ce68a=this['_speed'],_0x14a750=this['_loop'];this['_track']['events']['length']>0x15d*-0x1c+0x3e6+0x2246&&_0x21f178>-0x1*-0xceb+-0x2330+-0x1645*-0x1&&this['activeEven'+'tsForFrame'](_0x1ab8cc,_0x1ab8cc+_0x4ce68a*_0x10391a),_0x1ab8cc+=_0x4ce68a*_0x10391a,_0x4ce68a>=0x7*-0x363+-0xcdc+0x2491?_0x1ab8cc>_0x21f178&&(_0x14a750?_0x1ab8cc=_0x1ab8cc%_0x21f178||0x2011+0x13f1+0x3402*-0x1:(_0x1ab8cc=this['_track']['duration'],this['pause']())):_0x1ab8cc<-0x155d+0x1*0xb09+0xa54&&(_0x14a750?_0x1ab8cc=_0x21f178+(_0x1ab8cc%_0x21f178||-0x70b+0x16c5+0x3d*-0x42):(_0x1ab8cc=-0x1dbe+0x1851*0x1+0x56d,this['pause']())),this['_time']=_0x1ab8cc;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x4b1+-0x37a+0x137*-0x1),this['_time']=0x3*0x472+0xa88+-0x17de;}['stop'](){this['_playing']=!(0xc5f+0x1b2f*0x1+-0x278d),this['_time']=0x1d02+-0x1560+-0x7a2;}['pause'](){this['_playing']=!(0x9*-0x1d7+0xd15+0x37b);}['resume'](){this['_playing']=!(0x1f72+-0xf63+-0x100f);}['reset'](){this['_time']=0x4b*0x83+0x1499*-0x1+-0x11c8;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x3cbefd,_0xc199eb){const _0x255b8e=_0x3cbefd['length'];let _0x27a615=-0x1*0x202b+0xd*0x40+0xb*0x2a1;for(let _0x1fe167=-0xd31+-0x80f*0x3+0x255e*0x1;_0x1fe167<_0x255b8e;++_0x1fe167)_0x27a615+=_0x3cbefd[_0x1fe167]*_0xc199eb[_0x1fe167];return _0x27a615;}static['normalize'](_0x53c064){let _0x546a44=Tt['dot'](_0x53c064,_0x53c064);if(_0x546a44>-0x1b93+0x5*0xf1+0x16de){_0x546a44=(0x9ef*0x3+-0x1387*-0x1+-0xb7*0x45)/Math['sqrt'](_0x546a44);const _0x32dedb=_0x53c064['length'];for(let _0x1b1aa7=0x12a6+0x2*-0xedb+-0xec*-0xc;_0x1b1aa7<_0x32dedb;++_0x1b1aa7)_0x53c064[_0x1b1aa7]*=_0x546a44;}}static['set'](_0x32ec2c,_0x4f1d7d,_0x5c37a8){const _0x412967=_0x32ec2c['length'];if(_0x5c37a8==='quaternion'){let _0x40c683=Tt['dot'](_0x4f1d7d,_0x4f1d7d);_0x40c683>0x20fa+0x5*0x779+-0x1*0x4657&&(_0x40c683=(-0x15*-0x18c+0x19*-0x56+-0x1815)/Math['sqrt'](_0x40c683));for(let _0x43faf8=0x1*-0xd7c+0x2182+0x2*-0xa03;_0x43faf8<_0x412967;++_0x43faf8)_0x32ec2c[_0x43faf8]=_0x4f1d7d[_0x43faf8]*_0x40c683;}else{for(let _0x3f287c=-0x1*0x21cd+0x68e*-0x1+0x285b;_0x3f287c<_0x412967;++_0x3f287c)_0x32ec2c[_0x3f287c]=_0x4f1d7d[_0x3f287c];}}static['blendVec'](_0x186a15,_0x4949e7,_0x167792,_0x455d42){const _0x3c6a60=_0x455d42?-0x149f+-0x30d*-0x9+-0x6d5:0x24df+-0x1*-0x8e7+-0x2dc5-_0x167792,_0x4aef0d=_0x186a15['length'];for(let _0x3a808b=-0xab2+-0xe*-0x2b7+-0x170*0x13;_0x3a808b<_0x4aef0d;++_0x3a808b)_0x186a15[_0x3a808b]=_0x186a15[_0x3a808b]*_0x3c6a60+_0x4949e7[_0x3a808b]*_0x167792;}static['blendQuat'](_0x21ad69,_0x1b0311,_0xac4f31,_0x46a02e){const _0xf608cc=_0x21ad69['length'],_0x498911=_0x46a02e?0x10*-0xc8+-0x1b22+0x27a3:0x7d1+0x71*0x1+-0x841-_0xac4f31;Tt['dot'](_0x21ad69,_0x1b0311)<-0x1aa4+0x79*-0x3b+-0x2f*-0x129&&(_0xac4f31=-_0xac4f31);for(let _0x44864c=0x199*-0xa+-0x1c57+-0x1*-0x2c51;_0x44864c<_0xf608cc;++_0x44864c)_0x21ad69[_0x44864c]=_0x21ad69[_0x44864c]*_0x498911+_0x1b0311[_0x44864c]*_0xac4f31;_0x46a02e||Tt['normalize'](_0x21ad69);}static['blend'](_0x6aa3d0,_0x11b806,_0x3c4a5a,_0x496999,_0x36d3da){_0x496999==='quaternion'?Tt['blendQuat'](_0x6aa3d0,_0x11b806,_0x3c4a5a,_0x36d3da):Tt['blendVec'](_0x6aa3d0,_0x11b806,_0x3c4a5a,_0x36d3da);}static['stableSort'](_0x1296d0,_0x2e4db9){const _0x5e4b16=_0x1296d0['length'];for(let _0x5e5d35=-0x108*0x8+0x1*0xc9+0x777;_0x5e5d35<_0x5e4b16-(0x6de+-0x1ba0+0x14c3);++_0x5e5d35)for(let _0x26ddf9=_0x5e5d35+(-0x1*0x24d3+-0xf5c+-0x8*-0x686);_0x26ddf9<_0x5e4b16;++_0x26ddf9)if(_0x2e4db9(_0x1296d0[_0x26ddf9],_0x1296d0[_0x5e5d35])){const _0xb80e43=_0x1296d0[_0x5e5d35];_0x1296d0[_0x5e5d35]=_0x1296d0[_0x26ddf9],_0x1296d0[_0x26ddf9]=_0xb80e43;}}}const Ue=class Ue{constructor(_0x3fbb46,_0x300f84){this['_component']=_0x3fbb46,this['mask']=new Int8Array(_0x3fbb46['layers']['length']),this['weights']=new Float32Array(_0x3fbb46['layers']['length']),this['totalWeigh'+'t']=-0x141f+0x1b35+0x38b*-0x2,this['counter']=0x1057+0x39f+-0x13f6,this['layerCount'+'er']=0x5d*-0x2d+0x152e+-0x4d5*0x1,this['valueType']=_0x300f84,this['dirty']=!(0x214c+0xe*0x292+-0x4548),this['value']=_0x300f84===Ue['TYPE_QUAT']?[0x4d*-0x5f+-0x11a7*0x2+-0xed*-0x45,-0x18c+0x2630+-0xa*0x3aa,-0x8*-0x304+-0x1ca7+0x1*0x487,0x13+-0xf32+0xf20]:[0x498+-0x1eef+0x1a57,0x5*-0x238+-0x66e+0x1186,-0x269f+-0x1*-0x52b+0x10ba*0x2],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x52c142){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x8b0*-0x4+-0x151c+0x37dc||!this['mask'][_0x52c142]?-0x82*-0x5+-0x71*0x3d+0x1863:this['_normalize'+'Weights']?this['weights'][_0x52c142]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x52c142],-0x988+0x7eb+0x19d*0x1,-0x1*-0x23b9+0x1c27+-0x3fdf);}['_layerBlen'+'dType'](_0x4aab9f){return this['_component']['layers'][_0x4aab9f]['blendType'];}['setMask'](_0x372d6f,_0x25b1c0){this['mask'][_0x372d6f]=_0x25b1c0,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x372d6f]['blendType']===X0&&(this['mask']=this['mask']['fill'](0x1fb4*-0x1+-0x101f+0x9f*0x4d,0x2698+0x336+-0x29ce,_0x372d6f)),this['dirty']=!(-0x17a6+-0x256b+0x3*0x145b));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x1*0x1619+-0x1f5b+-0x2c*-0x137;for(let _0x3564ea=-0x1206+0x2*-0x37f+0x2*0xc82;_0x3564ea<this['weights']['length'];_0x3564ea++)this['weights'][_0x3564ea]=this['_component']['layers'][_0x3564ea]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x3564ea]*this['weights'][_0x3564ea];this['dirty']=!(-0xc23+0x271+0x9b3);}['updateValu'+'e'](_0x3ce0e7,_0x417981){if(this['counter']===0xf22+0x2404+0x3326*-0x1&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],0x45*0x7b+-0x57a+0x7*-0x3f4,this['valueType'])),!(!this['mask'][_0x3ce0e7]||this['getWeight'](_0x3ce0e7)===0x12d9+-0x4*0x54d+0x9*0x43)){if(this['_layerBlen'+'dType'](_0x3ce0e7)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x4343ee=Ue['q1']['set'](this['value'][0x1*-0x108c+0x10fe+-0x72],this['value'][0x1656+-0x1*-0x2186+-0x37db],this['value'][0x3c*0x6e+-0x22c3+0x8fd],this['value'][-0x1ad3*0x1+-0x265b+-0x4131*-0x1]),_0x17fc65=Ue['q2']['set'](this['baseValue'][0x170f*0x1+-0x1d1*-0x10+-0x341f*0x1],this['baseValue'][-0x2663+0x9ec+0x1c78],this['baseValue'][-0xfcd+0x1*0x773+0x5*0x1ac],this['baseValue'][0x145b+-0x1*-0x106d+-0x24c5]),_0x312215=Ue['q3']['set'](_0x417981[0x140+0x1fd3+-0x1*0x2113],_0x417981[-0x1*-0x1d63+0x9ce+-0x2730],_0x417981[0x96e*-0x4+0x2b*0x49+0x1977],_0x417981[0xc13*0x1+0x989*-0x1+-0x287]),_0x3dbe99=_0x17fc65['invert']()['mul'](_0x312215);_0x3dbe99['slerp'](se['IDENTITY'],_0x3dbe99,this['getWeight'](_0x3ce0e7)),_0x4343ee['mul'](_0x3dbe99),Ue['quatArr'][0x1f08+-0x149+-0x1dbf]=_0x4343ee['x'],Ue['quatArr'][-0x1*0x761+0x42d*0x6+-0x11ac]=_0x4343ee['y'],Ue['quatArr'][0xb*-0x100+0x13b5+-0x8b3]=_0x4343ee['z'],Ue['quatArr'][-0x52*0x5f+0x100f*0x2+-0x8f*0x3]=_0x4343ee['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][-0x17f4+0x10b+0x1*0x16e9]=_0x417981[0xc7*-0x1+-0x469+0x530]-this['baseValue'][0x26af+0x149e+-0x3b4d],Ue['vecArr'][0x1fba+-0x904+-0x1*0x16b5]=_0x417981[-0x6e2+-0x24b*0x4+-0x1*-0x100f]-this['baseValue'][0x2385+0x13*-0x6f+-0x1b47],Ue['vecArr'][-0x240+-0x5d*-0x47+-0x19*0xf1]=_0x417981[-0x2*0x1307+0x579*0x5+-0x21*-0x53]-this['baseValue'][-0x4*-0x432+0x18f7*0x1+-0x29bd],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x3ce0e7),this['valueType'],!(0x1321+0x1*0x949+-0x1c6a));}else Tt['blend'](this['value'],_0x417981,this['getWeight'](_0x3ce0e7),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[0xd50+0x1*-0x3c2+0x4c7*-0x2,0x807+0x117d*-0x2+-0x1*-0x1af3,0x4f*0x68+-0x2403+0x3eb,0x15e+-0xad1+0x974]),c(Ue,'vecArr',[0x1b22+-0x23d2+-0x116*-0x8,0xb83+-0x103a+0x4b7,-0x1*0x173f+0x2*0x1ff+0x1f*0x9f]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[0x18f3+-0x9a6+0x1*-0xf4d,0x1e7d+-0x2*-0x1231+0x42df*-0x1,-0x6e5*-0x1+-0x687+-0x5e,-0xfca+0x26a7*0x1+-0x2c*0x85]);let bo=Ue;class j0{constructor(_0x23d11c){this['_binder']=_0x23d11c,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x5123a3){const _0x32abe9=this['_targets'],_0x2d8b56=this['_binder'],_0x57c241=_0x5123a3['track']['curves'],_0x42d3f8=_0x5123a3['snapshot'],_0xb023af=[],_0xcf164b=[];for(let _0xfd6c40=-0x47*0x74+-0x20*0xfa+0x3f6c;_0xfd6c40<_0x57c241['length'];++_0xfd6c40){const _0x593fd8=_0x57c241[_0xfd6c40]['paths'];for(let _0x24851c=-0x260a+0x1ceb+0x91f;_0x24851c<_0x593fd8['length'];++_0x24851c){const _0x407c55=_0x593fd8[_0x24851c],_0x201cdf=_0x2d8b56['resolve'](_0x407c55);let _0x1030ce=_0x32abe9[_0x201cdf&&_0x201cdf['targetPath']||null];if(!_0x1030ce&&_0x201cdf){_0x1030ce={'target':_0x201cdf,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x29ddc1=0x20f6+0x2*-0xe02+-0x4f2;_0x29ddc1<_0x1030ce['target']['components'];++_0x29ddc1)_0x1030ce['value']['push'](-0xed9+0xd3*0x23+0x80*-0x1c);if(_0x32abe9[_0x201cdf['targetPath']]=_0x1030ce,_0x2d8b56['animCompon'+'ent']){if(!_0x2d8b56['animCompon'+'ent']['targets'][_0x201cdf['targetPath']]){let _0x5795e3;_0x201cdf['targetPath']['substring'](_0x201cdf['targetPath']['length']-(-0x1*-0x276+0x242b+0x337*-0xc))==='localRotat'+'ion'?_0x5795e3=bo['TYPE_QUAT']:_0x5795e3=bo['TYPE_VEC3'],_0x2d8b56['animCompon'+'ent']['targets'][_0x201cdf['targetPath']]=new bo(_0x2d8b56['animCompon'+'ent'],_0x5795e3);}_0x2d8b56['animCompon'+'ent']['targets'][_0x201cdf['targetPath']]['layerCount'+'er']++,_0x2d8b56['animCompon'+'ent']['targets'][_0x201cdf['targetPath']]['setMask'](_0x2d8b56['layerIndex'],0x2131+-0x466*0x3+0x6aa*-0x3);}}_0x1030ce&&(_0x1030ce['curves']++,_0xb023af['push'](_0x42d3f8['_results'][_0xfd6c40]),_0xcf164b['push'](_0x1030ce));}}this['_clips']['push'](_0x5123a3),this['_inputs']['push'](_0xb023af),this['_outputs']['push'](_0xcf164b);}['removeClip'](_0x27e438){const _0x149a3a=this['_targets'],_0x29b06f=this['_binder'],_0x2c1ceb=this['_clips'],_0x331279=_0x2c1ceb[_0x27e438]['track']['curves'];for(let _0x15de47=0x100e+0x1d66+-0x2d74;_0x15de47<_0x331279['length'];++_0x15de47){const _0x45072c=_0x331279[_0x15de47]['paths'];for(let _0x4d8e0a=-0x154*0x13+-0x2*0xdcc+0x34d4;_0x4d8e0a<_0x45072c['length'];++_0x4d8e0a){const _0x478202=_0x45072c[_0x4d8e0a],_0x13ea57=this['_binder']['resolve'](_0x478202);_0x13ea57&&(_0x13ea57['curves']--,_0x13ea57['curves']===0xed5+0x5*-0x5b9+0xdc8&&(_0x29b06f['unresolve'](_0x478202),delete _0x149a3a[_0x13ea57['targetPath']],_0x29b06f['animCompon'+'ent']&&_0x29b06f['animCompon'+'ent']['targets'][_0x13ea57['targetPath']]['layerCount'+'er']--));}}_0x2c1ceb['splice'](_0x27e438,-0x53*0x59+0x1df8+0x47*-0x4),this['_inputs']['splice'](_0x27e438,-0x1*0x142f+0x19ed*0x1+-0x71*0xd),this['_outputs']['splice'](_0x27e438,-0x735*-0x5+-0xb72+-0x832*0x3);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x1*-0xa17+0xe4f+0x3*-0x822;)this['removeClip'](0x4*-0xe3+0xba5*-0x3+0x267b);}['updateClip'+'Track'](_0x45cfb3,_0x214da1){this['_clips']['forEach'](_0x26d7ea=>{_0x26d7ea['name']['includes'](_0x45cfb3)&&(_0x26d7ea['track']=_0x214da1);}),this['rebind']();}['findClip'](_0x57929e){const _0x1e9b39=this['_clips'];for(let _0x2a0e05=0x6*0x3e3+0x1a15*0x1+0x3167*-0x1;_0x2a0e05<_0x1e9b39['length'];++_0x2a0e05){const _0x119744=_0x1e9b39[_0x2a0e05];if(_0x119744['name']===_0x57929e)return _0x119744;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x20c778=[...this['clips']];this['removeClip'+'s'](),_0x20c778['forEach'](_0xa5631b=>{this['addClip'](_0xa5631b);});}['assignMask'](_0x2c81b5){return this['_binder']['assignMask'](_0x2c81b5);}['update'](_0x3db0b9,_0x20445c=!(-0x1*-0x257+0x1bdf+-0x1e36)){const _0x39fad0=this['_clips'],_0x3e005c=_0x39fad0['map']((_0x573699,_0x3cf0d9)=>_0x3cf0d9);Tt['stableSort'](_0x3e005c,(_0x3ea0f6,_0x28c972)=>_0x39fad0[_0x3ea0f6]['blendOrder']<_0x39fad0[_0x28c972]['blendOrder']);for(let _0x138352=0x17f7+0x1*0x1bca+0x33c1*-0x1;_0x138352<_0x3e005c['length'];++_0x138352){const _0x233bd9=_0x3e005c[_0x138352],_0x300b66=_0x39fad0[_0x233bd9],_0x5d4ec6=this['_inputs'][_0x233bd9],_0x34875d=this['_outputs'][_0x233bd9],_0x4e624f=_0x300b66['blendWeigh'+'t'];if(_0x4e624f>0x21d4+0x7*-0x426+-0x1*0x4ca&&_0x300b66['_update'](_0x3db0b9),!_0x20445c)break;let _0xd2964,_0x5b10a9,_0x2f4d3a;if(_0x4e624f>=0x127+-0xf19*-0x2+0x3b*-0x88){for(let _0x999140=0x2*0x65b+-0x5c1*0x1+-0x6f5;_0x999140<_0x5d4ec6['length'];++_0x999140)_0xd2964=_0x5d4ec6[_0x999140],_0x5b10a9=_0x34875d[_0x999140],_0x2f4d3a=_0x5b10a9['value'],Tt['set'](_0x2f4d3a,_0xd2964,_0x5b10a9['target']['type']),_0x5b10a9['blendCount'+'er']++;}else{if(_0x4e624f>-0x107+0xc0e+0x1*-0xb07){for(let _0x44ece5=-0x4b*0x2f+0xb74+-0x1*-0x251;_0x44ece5<_0x5d4ec6['length'];++_0x44ece5)_0xd2964=_0x5d4ec6[_0x44ece5],_0x5b10a9=_0x34875d[_0x44ece5],_0x2f4d3a=_0x5b10a9['value'],_0x5b10a9['blendCount'+'er']===0x2e*-0xcc+-0x94b+0x2df3?Tt['set'](_0x2f4d3a,_0xd2964,_0x5b10a9['target']['type']):Tt['blend'](_0x2f4d3a,_0xd2964,_0x4e624f,_0x5b10a9['target']['type']),_0x5b10a9['blendCount'+'er']++;}}}const _0x500938=this['_targets'],_0x161ca3=this['_binder'];for(const _0x153c06 in _0x500938)if(_0x500938['hasOwnProp'+'erty'](_0x153c06)){const _0x1e10ef=_0x500938[_0x153c06];if(_0x161ca3['animCompon'+'ent']&&_0x1e10ef['target']['isTransfor'+'m']){const _0x3f85d8=_0x161ca3['animCompon'+'ent']['targets'][_0x153c06];_0x3f85d8['counter']===_0x3f85d8['layerCount'+'er']&&(_0x3f85d8['counter']=-0x7af+0x18f+0xc4*0x8),_0x3f85d8['path']||(_0x3f85d8['path']=_0x153c06,_0x3f85d8['baseValue']=_0x1e10ef['target']['get'](),_0x3f85d8['setter']=_0x1e10ef['target']['set']),_0x3f85d8['updateValu'+'e'](_0x161ca3['layerIndex'],_0x1e10ef['value']),_0x3f85d8['counter']++;}else _0x1e10ef['target']['set'](_0x1e10ef['value']);_0x1e10ef['blendCount'+'er']=0x1628*0x1+0x1*-0xe27+-0x801;}this['_binder']['update'](_0x3db0b9);}}class Y0{constructor(_0x45b8be){this['_events']=[..._0x45b8be],this['_events']['sort']((_0x52d16c,_0x5735e0)=>_0x52d16c['time']-_0x5735e0['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x3f7099,_0x31e48c,_0x4a7f0d,_0x25296b,_0x17603f,_0xb5e618=new Y0([])){this['_name']=_0x3f7099,this['_duration']=_0x31e48c,this['_inputs']=_0x4a7f0d,this['_outputs']=_0x25296b,this['_curves']=_0x17603f,this['_animEvent'+'s']=_0xb5e618;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x1a4425){this['_animEvent'+'s']=_0x1a4425;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x2add09,_0x47d9ee){_0x47d9ee['_time']=_0x2add09;const _0x871e2b=this['_inputs'],_0x36b4b6=this['_outputs'],_0x8629f7=this['_curves'],_0x45e743=_0x47d9ee['_cache'],_0x140e17=_0x47d9ee['_results'];for(let _0x4e876a=0x26e7+0x1*-0x6fd+-0x1fea;_0x4e876a<_0x871e2b['length'];++_0x4e876a)_0x45e743[_0x4e876a]['update'](_0x2add09,_0x871e2b[_0x4e876a]['_data']);for(let _0x5cfa7d=-0x131b+0x12*-0x1f3+-0x1*-0x3631;_0x5cfa7d<_0x8629f7['length'];++_0x5cfa7d){const _0x587705=_0x8629f7[_0x5cfa7d],_0x3ad36b=_0x36b4b6[_0x587705['_output']],_0x40e044=_0x140e17[_0x5cfa7d];_0x45e743[_0x587705['_input']]['eval'](_0x40e044,_0x587705['_interpola'+'tion'],_0x3ad36b);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x4605cd,_0x5c6839){_0x5c6839=_0x5c6839||'.';const _0x232f76=function(_0x361c34){return _0x361c34['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x5c6839,'g'),'\x5c'+_0x5c6839);};return _0x4605cd['map'](_0x232f76)['join'](_0x5c6839);}static['splitPath'](_0xafaa4b,_0x49e30c){_0x49e30c=_0x49e30c||'.';const _0xdc6c0=[];let _0x4f2ce6='',_0x1f013e=0xb57+-0x13*0x1ed+0x1940;for(;_0x1f013e<_0xafaa4b['length'];){let _0x33ad97=_0xafaa4b[_0x1f013e++];_0x33ad97==='\x5c'&&_0x1f013e<_0xafaa4b['length']?(_0x33ad97=_0xafaa4b[_0x1f013e++],_0x33ad97==='\x5c'||_0x33ad97===_0x49e30c?_0x4f2ce6+=_0x33ad97:_0x4f2ce6+='\x5c'+_0x33ad97):_0x33ad97===_0x49e30c?(_0xdc6c0['push'](_0x4f2ce6),_0x4f2ce6=''):_0x4f2ce6+=_0x33ad97;}return _0x4f2ce6['length']>-0x1091+-0x1*-0x1043+0x4e&&_0xdc6c0['push'](_0x4f2ce6),_0xdc6c0;}static['encode'](_0x35fdee,_0x22c49e,_0x3eab4b){return(Array['isArray'](_0x35fdee)?_0x35fdee['join']('/'):_0x35fdee)+'/'+_0x22c49e+'/'+(Array['isArray'](_0x3eab4b)?_0x3eab4b['join']('/'):_0x3eab4b);}['resolve'](_0x335ecf){return null;}['unresolve'](_0x1332b3){}['update'](_0x5340bc){}}class Zu{constructor(_0x2ac0b6,_0x31ba26,_0x3d75db,_0x274fd5){_0x2ac0b6['set']?(this['_set']=_0x2ac0b6['set'],this['_get']=_0x2ac0b6['get']):this['_set']=_0x2ac0b6,this['_type']=_0x31ba26,this['_component'+'s']=_0x3d75db,this['_targetPat'+'h']=_0x274fd5,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x307*0x1+-0x135c+-0x167*-0x10))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x6a9+0x2*0xf94+-0x25c4*0x1))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1f3*0x12+0x17a+-0x3b*-0x92))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0x5b717a){c(this,'_isPathInM'+'ask',(_0xa9b86a,_0x24d7f9)=>{const _0x11da2f=this['_mask'][_0xa9b86a];if(_0x11da2f){if(_0x11da2f['children']||_0x24d7f9&&_0x11da2f['value']!==!(0x1f07+0x46c+-0x2372))return!(-0x1*0x1a65+-0x92*0x1f+0x2c13);}else return!(-0x266d*0x1+-0x1943+0x3fb1);return!(-0x21dd*-0x1+-0x121+-0x85*0x3f);});if(this['graph']=_0x5b717a,!_0x5b717a)return;this['_mask']=null;const _0x14821d={},_0x43e201=function(_0xdc2054){_0x14821d[_0xdc2054['name']]=_0xdc2054;for(let _0x2f2aec=-0x1*0x171a+0x125*-0x18+-0x1949*-0x2;_0x2f2aec<_0xdc2054['children']['length'];++_0x2f2aec)_0x43e201(_0xdc2054['children'][_0x2f2aec]);};_0x43e201(_0x5b717a),this['nodes']=_0x14821d,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x146d1d=function(_0x239b5c){let _0x469820=_0x239b5c;for(;_0x469820&&!(_0x469820 instanceof We);)_0x469820=_0x469820['parent'];let _0x458b96;return _0x469820&&(_0x469820['render']?_0x458b96=_0x469820['render']['meshInstan'+'ces']:_0x469820['model']&&(_0x458b96=_0x469820['model']['meshInstan'+'ces'])),_0x458b96;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x4a2756){const _0x3c5509=_0x4a2756['localPosit'+'ion'],_0x595bc9=function(_0x572dd9){_0x3c5509['set'](..._0x572dd9);};return Ji['createAnim'+'Target'](_0x595bc9,'vector',0x1bbf+-0x3*0x293+0x1*-0x1403,_0x4a2756,'localPosit'+'ion');},'localRotation':function(_0x14d25c){const _0x1c30d1=_0x14d25c['localRotat'+'ion'],_0x24970c=function(_0x3ce047){_0x1c30d1['set'](..._0x3ce047);};return Ji['createAnim'+'Target'](_0x24970c,'quaternion',-0x1431*-0x1+-0x3*0x7cd+0x33a,_0x14d25c,'localRotat'+'ion');},'localScale':function(_0x542486){const _0x304042=_0x542486['localScale'],_0x4b0bcd=function(_0x2f419f){_0x304042['set'](..._0x2f419f);};return Ji['createAnim'+'Target'](_0x4b0bcd,'vector',0x126a+-0x2055+0xdee,_0x542486,'localScale');},'weight':function(_0x4fb61a,_0x50170a){_0x50170a['indexOf']('name.')===0x1cde+-0x29*0x73+-0xa73?_0x50170a=_0x50170a['replace']('name.',''):_0x50170a=Number(_0x50170a);const _0x16a288=_0x146d1d(_0x4fb61a);let _0x48e182;if(_0x16a288){for(let _0x411617=0x6*-0x32b+-0xb*0x1f4+0x287e;_0x411617<_0x16a288['length'];++_0x411617)if(_0x16a288[_0x411617]['node']['name']===_0x4fb61a['name']&&_0x16a288[_0x411617]['morphInsta'+'nce']){const _0x3cc36b=_0x16a288[_0x411617]['morphInsta'+'nce'],_0xc78be8=_0x27ea06=>{_0x3cc36b['setWeight'](_0x50170a,_0x27ea06[0x1*-0x7fe+0x10a*0x12+0x392*-0x3]);};_0x48e182||(_0x48e182=[]),_0x48e182['push'](_0xc78be8);}}if(_0x48e182){const _0x274a76=_0x1efe9f=>{for(let _0x378800=0x13*-0x5+0x2a*-0x85+0x1b5*0xd;_0x378800<_0x48e182['length'];++_0x378800)_0x48e182[_0x378800](_0x1efe9f);};return Ji['createAnim'+'Target'](_0x274a76,'number',-0x1*-0x156d+-0x1295*0x1+-0x2d7,_0x4fb61a,'weight.'+_0x50170a);}return null;},'materialTexture':(_0xbaaad,_0x4a4425)=>{const _0xb20499=_0x146d1d(_0xbaaad);if(_0xb20499){let _0x404b90;for(let _0x18d6cc=0x2*0x1b5+0xf6c+-0x96b*0x2;_0x18d6cc<_0xb20499['length'];++_0x18d6cc)if(_0xb20499[_0x18d6cc]['node']['name']===_0xbaaad['name']){_0x404b90=_0xb20499[_0x18d6cc];break;}if(_0x404b90){const _0xb6f6c9=_0x1f16b5=>{const _0x82cfac=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x1f16b5[-0x1be*0x9+0x471*0x1+0xb3d]);_0x82cfac&&_0x82cfac['resource']&&_0x82cfac['type']==='texture'&&(_0x404b90['material'][_0x4a4425]=_0x82cfac['resource'],_0x404b90['material']['update']());};return Ji['createAnim'+'Target'](_0xb6f6c9,'vector',0x3*0xcf7+-0x124a*-0x2+0x28*-0x1e3,_0xbaaad,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x4b075d){if(!this['_mask'])return!(-0x24cc+0xb14+0x19b8);const _0x3ef377=[_0x4b075d['entityPath'][0x10*0x4d+-0x3d*0x37+-0x1*-0x84b],this['graph']['name']];for(let _0x158ae7=-0x4ff*-0x2+-0x3*0x7c3+0xd4b;_0x158ae7<_0x3ef377['length'];++_0x158ae7){let _0x3de554=_0x3ef377[_0x158ae7];if(this['_isPathInM'+'ask'](_0x3de554,_0x4b075d['entityPath']['length']===0x1371+-0xd*0x13+-0x1*0x1279))return!(-0x65c*0x1+-0x1ec0+0x251c);for(let _0x1ebd2b=0x1*0x1201+-0x1f4d+0xd4d;_0x1ebd2b<_0x4b075d['entityPath']['length'];_0x1ebd2b++)if(_0x3de554+='/'+_0x4b075d['entityPath'][_0x1ebd2b],this['_isPathInM'+'ask'](_0x3de554,_0x1ebd2b===_0x4b075d['entityPath']['length']-(0x24fc+0x2502*-0x1+0x1*0x7)))return!(0x5d*0x1c+0x52a+0xf56*-0x1);}return!(0xbc1+-0xa56+0xb5*-0x2);}['findNode'](_0x22ca14){if(!this['_isPathAct'+'ive'](_0x22ca14))return null;let _0x1dbee8;if(this['graph']&&(_0x1dbee8=this['graph']['findByPath'](_0x22ca14['entityPath']),_0x1dbee8||(_0x1dbee8=this['graph']['findByPath'](_0x22ca14['entityPath']['slice'](-0x1*0xe4b+0x1a30*0x1+-0xbe4)))),!_0x1dbee8){_0x1dbee8=this['nodes'][_0x22ca14['entityPath'][_0x22ca14['entityPath']['length']-(0x22f6*0x1+0xf8f*0x1+-0x3284)]||''];const _0x1fb5dc=qr['encode'](_0x22ca14['entityPath'][_0x22ca14['entityPath']['length']-(0x97c+0x1be7+-0x2562)]||'','graph',_0x22ca14['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x1fb5dc]===0x373+-0x25b0+0x223e&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x1fb5dc+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x1fb5dc])?this['visitedFal'+'lbackGraph'+'Paths'][_0x1fb5dc]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x1fb5dc]=-0x18ff+0xaf6*-0x2+0x1*0x2eeb;}return _0x1dbee8;}static['createAnim'+'Target'](_0x4462d5,_0x20f75c,_0x41a50a,_0x1fe6b4,_0x4775bc,_0x3a9ed2){const _0x16110a=qr['encode'](_0x1fe6b4['path'],_0x3a9ed2||'entity',_0x4775bc);return new Zu(_0x4462d5,_0x20f75c,_0x41a50a,_0x16110a);}['resolve'](_0x582f54){const _0x2a7d21=qr['encode'](_0x582f54['entityPath'],_0x582f54['component'],_0x582f54['propertyPa'+'th']);let _0x5caea2=this['targetCach'+'e'][_0x2a7d21];if(_0x5caea2)return _0x5caea2;const _0x106745=this['findNode'](_0x582f54);if(!_0x106745)return null;const _0x3671f8=this['handlers'][_0x582f54['propertyPa'+'th']];return!_0x3671f8||(_0x5caea2=_0x3671f8(_0x106745),!_0x5caea2)?null:(this['targetCach'+'e'][_0x2a7d21]=_0x5caea2,this['nodeCounts'][_0x106745['path']]?this['nodeCounts'][_0x106745['path']]++:(this['activeNode'+'s']['push'](_0x106745),this['nodeCounts'][_0x106745['path']]=0x1fb2+-0x1*0x20f1+-0x5*-0x40),_0x5caea2);}['unresolve'](_0x17704a){if(_0x17704a['component']!=='graph')return;const _0x36510a=this['nodes'][_0x17704a['entityPath'][_0x17704a['entityPath']['length']-(-0x1ffd*0x1+-0x1*0xfad+0x2fab*0x1)]||''];if(this['nodeCounts'][_0x36510a['path']]--,this['nodeCounts'][_0x36510a['path']]===0x1*0x2221+-0xe91*-0x1+-0x30b2){const _0xcccc86=this['activeNode'+'s'],_0x2033d8=_0xcccc86['indexOf'](_0x36510a['node']),_0x38ef43=_0xcccc86['length'];_0x2033d8<_0x38ef43-(0x1*-0x2659+-0x5d*0xa+-0x1*-0x29fc)&&(_0xcccc86[_0x2033d8]=_0xcccc86[_0x38ef43-(0x3d*0x28+0x486+0xb*-0x147)]),_0xcccc86['pop']();}}['update'](_0x2f7284){const _0x55aa15=this['activeNode'+'s'];for(let _0x4945b1=0x432+-0x90+-0x1f*0x1e;_0x4945b1<_0x55aa15['length'];++_0x4945b1)_0x55aa15[_0x4945b1]['_dirtifyLo'+'cal']();}['assignMask'](_0x117bf6){return _0x117bf6!==this['_mask']?(this['_mask']=_0x117bf6,!(-0xa29+0xf51+-0x1e*0x2c)):!(-0xfa9+-0x2d7+-0x62b*-0x3);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(-0x2*-0x29a+-0x9aa+0x476)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',-0x1de7+0x29*-0xb1+0x20*0x1d2),c(this,'blending',!(-0x1107+0x14e3*0x1+-0x3db)),c(this,'blendSpeed',-0x42a*0x9+0x1527*-0x1+0x3aa1*0x1),c(this,'activate',!(0x9*0x31c+-0x16f*0xa+-0xda6)),c(this,'speed',-0x969+-0x12c0+0x1c2a);}set['animations'](_0x5957d6){this['_animation'+'s']=_0x5957d6,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x1a39ef){const _0x263a6d=this['_assets'];if(_0x263a6d&&_0x263a6d['length']){for(let _0x1b8fdb=-0x213f+0x110+-0x7*-0x499;_0x1b8fdb<_0x263a6d['length'];_0x1b8fdb++)if(_0x263a6d[_0x1b8fdb]){const _0x2d8452=this['system']['app']['assets']['get'](_0x263a6d[_0x1b8fdb]);if(_0x2d8452){_0x2d8452['off']('change',this['onAssetCha'+'nged'],this),_0x2d8452['off']('remove',this['onAssetRem'+'oved'],this);const _0x1a4945=this['animations'+'Index'][_0x2d8452['id']];this['currAnim']===_0x1a4945&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x1a4945],delete this['animations'+'Index'][_0x2d8452['id']];}}}this['_assets']=_0x1a39ef;const _0x2be34c=_0x1a39ef['map'](_0x1e0e33=>_0x1e0e33 instanceof le?_0x1e0e33['id']:_0x1e0e33);this['loadAnimat'+'ionAssets'](_0x2be34c);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x3d4d66){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x3d4d66,this['skeleton']['addTime'](0x2a7+-0x18f1*-0x1+-0x2*0xdcc),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0xec7e17=this['animEvalua'+'tor']['clips'];for(let _0x3ac645=0x4*-0x209+-0xcac+0x14d0;_0x3ac645<_0xec7e17['length'];++_0x3ac645)_0xec7e17[_0x3ac645]['time']=_0x3d4d66;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x4c1de7=this['animEvalua'+'tor']['clips'];if(_0x4c1de7['length']>0x270e+0x1272+-0x3980)return _0x4c1de7[_0x4c1de7['length']-(0x18c5+0x1*0x184d+-0x1*0x3111)]['time'];}return 0xeb6*-0x1+0x9e8+0x1e*0x29;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),0x2351*0x1+0xb*-0x2fe+-0x267);}set['loop'](_0x2343b1){if(this['_loop']=_0x2343b1,this['skeleton']&&(this['skeleton']['looping']=_0x2343b1),this['animEvalua'+'tor']){for(let _0x3e07c8=-0x9*0xb7+0x15c2+-0xf53;_0x3e07c8<this['animEvalua'+'tor']['clips']['length'];++_0x3e07c8)this['animEvalua'+'tor']['clips'][_0x3e07c8]['loop']=_0x2343b1;}}get['loop'](){return this['_loop'];}['play'](_0x512eb6,_0x421dd1=0x11b6+0x1649+0xd55*-0x3){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x512eb6]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x512eb6+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x512eb6,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x41552d=this['animations'][this['prevAnim']],_0x3ab67c=this['animations'][this['currAnim']];if(this['blending']=_0x421dd1>-0x213*0x7+-0x42b*-0x9+0x3d5*-0x6&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x180a+-0x1*0x1180+0x298a,this['blendSpeed']=(-0x1e2a+0xb5*-0x1f+0x3416)/_0x421dd1),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x41552d,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x3ab67c):this['skeleton']['animation']=_0x3ab67c),this['animEvalua'+'tor']){const _0x8c6d7f=this['animEvalua'+'tor'];if(this['blending']){for(;_0x8c6d7f['clips']['length']>-0x18ee+0xa03+0xeec;)_0x8c6d7f['removeClip'](0x953*0x1+0x3*-0x44d+0x394);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x3f998f=new Xh(this['animations'][this['currAnim']],0xa84+0xe1f+-0x18a3,-0x175d*-0x1+0x1353+-0x1*0x2aaf,!(0x2*-0x66b+-0xf05+0x1bdb),this['loop']);_0x3f998f['name']=this['currAnim'],_0x3f998f['blendWeigh'+'t']=this['blending']?0x7e4+0x25f5+-0x79*0x61:0x9d7*-0x3+0x2091+-0x30b,_0x3f998f['reset'](),this['animEvalua'+'tor']['addClip'](_0x3f998f);}}this['playing']=!(-0x527*-0x1+0x2c5*-0x7+0xe3c);}}['getAnimati'+'on'](_0x4158ce){return this['animations'][_0x4158ce];}['setModel'](_0x5d593c){_0x5d593c!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x5d593c,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x39577e=this['entity']['model'];if(_0x39577e){const _0x2b5c90=_0x39577e['model'];_0x2b5c90&&_0x2b5c90!==this['model']&&this['setModel'](_0x2b5c90);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x331b53=Object['keys'](this['_animation'+'s']);_0x331b53['length']>-0x44f*0x2+0x1063+-0x7c5*0x1&&this['play'](_0x331b53[0x1*-0x12eb+0x1e2a+-0xb3f]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x18f414=this['model'],_0xd52704=this['animations'];let _0x430c4a=!(-0x7*0x15b+-0x1e62+0x27e0),_0x196d3a=!(0x39*0x14+-0x1ab7+0x5f*0x3c);for(const _0x22887c in _0xd52704)_0xd52704['hasOwnProp'+'erty'](_0x22887c)&&(_0xd52704[_0x22887c]['constructo'+'r']===Ri?_0x196d3a=!(0xa46+0xda*0x1+-0xb20*0x1):_0x430c4a=!(0x2237+-0x24b8+0x281*0x1));const _0x4b4e51=_0x18f414['getGraph']();_0x430c4a?(this['fromSkel']=new Wd(_0x4b4e51),this['toSkel']=new Wd(_0x4b4e51),this['skeleton']=new Wd(_0x4b4e51),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x4b4e51)):_0x196d3a&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0x4110c5){if(!_0x4110c5||!_0x4110c5['length'])return;const _0x395cf5=this['system']['app']['assets'],_0x29614d=_0x29e16f=>{if(_0x29e16f['resources']['length']>0x1d2e+-0x1*-0x737+0x1*-0x2464){for(let _0x544948=0x19bd+0x647*0x1+0x1002*-0x2;_0x544948<_0x29e16f['resources']['length'];_0x544948++)this['animations'][_0x29e16f['resources'][_0x544948]['name']]=_0x29e16f['resources'][_0x544948],this['animations'+'Index'][_0x29e16f['id']]=_0x29e16f['resources'][_0x544948]['name'];}else this['animations'][_0x29e16f['name']]=_0x29e16f['resource'],this['animations'+'Index'][_0x29e16f['id']]=_0x29e16f['name'];this['animations']=this['animations'];},_0x37264e=_0x2208ee=>{_0x2208ee['off']('change',this['onAssetCha'+'nged'],this),_0x2208ee['on']('change',this['onAssetCha'+'nged'],this),_0x2208ee['off']('remove',this['onAssetRem'+'oved'],this),_0x2208ee['on']('remove',this['onAssetRem'+'oved'],this),_0x2208ee['resource']?_0x29614d(_0x2208ee):(_0x2208ee['once']('load',_0x29614d,this),this['enabled']&&this['entity']['enabled']&&_0x395cf5['load'](_0x2208ee));};for(let _0x7dcc95=-0xb3b+0x8ef*0x1+-0x126*-0x2,_0x4d9c12=_0x4110c5['length'];_0x7dcc95<_0x4d9c12;_0x7dcc95++){const _0xc69e8e=_0x395cf5['get'](_0x4110c5[_0x7dcc95]);_0xc69e8e?_0x37264e(_0xc69e8e):_0x395cf5['on']('add:'+_0x4110c5[_0x7dcc95],_0x37264e);}}['onAssetCha'+'nged'](_0x34a96c,_0x5039a5,_0x4eb695,_0x263af3){if(_0x5039a5==='resource'||_0x5039a5==='resources'){if(_0x5039a5==='resources'&&_0x4eb695&&_0x4eb695['length']===0x1ff8+0x1ca6+-0x1e4f*0x2&&(_0x4eb695=null),_0x4eb695){let _0x4c0022=!(0x2*0x17b+0x224f+0x636*-0x6);if(_0x4eb695['length']>-0x6dc*0x4+-0xa3*-0x2+0x1a2b){if(_0x263af3&&_0x263af3['length']>-0x2425+-0x1a6f+-0x1*-0x3e95){for(let _0x2d1f56=0x26*0xd5+0x2*-0xcdd+-0x74*0xd;_0x2d1f56<_0x263af3['length'];_0x2d1f56++)delete this['animations'][_0x263af3[_0x2d1f56]['name']];}else delete this['animations'][_0x34a96c['name']];_0x4c0022=!(0x2c9+-0x1*0x10e5+0xe1d);for(let _0x3c2a4c=-0x1*-0x1cbf+0x1*-0x1bfe+-0xc1;_0x3c2a4c<_0x4eb695['length'];_0x3c2a4c++)this['animations'][_0x4eb695[_0x3c2a4c]['name']]=_0x4eb695[_0x3c2a4c],!_0x4c0022&&this['currAnim']===_0x4eb695[_0x3c2a4c]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4c0022=!(0x35d*-0xb+-0x26e4+0x4be3),this['play'](_0x4eb695[_0x3c2a4c]['name']));_0x4c0022||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x263af3&&_0x263af3['length']>0x10f5*0x1+0x1375+-0x2cd*0xd){for(let _0x30ccde=-0x22c+0x1*-0x15ff+0x182b;_0x30ccde<_0x263af3['length'];_0x30ccde++)delete this['animations'][_0x263af3[_0x30ccde]['name']];}this['animations'][_0x34a96c['name']]=_0x4eb695[0x2*-0x125d+0x1813+0xca7]||_0x4eb695,_0x4c0022=!(-0x1*0x1173+-0x12d3*-0x2+-0x1432),this['currAnim']===_0x34a96c['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4c0022=!(0x1*-0x95c+0x1ad2*-0x1+0x1a5*0x16),this['play'](_0x34a96c['name'])),_0x4c0022||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x34a96c['id']]=_0x34a96c['name'];}else{if(_0x263af3['length']>-0x2*0x9ad+-0x1*0x5c5+0x20*0xc9){for(let _0x5bc473=0x1942+-0x7cc+-0x37e*0x5;_0x5bc473<_0x263af3['length'];_0x5bc473++)delete this['animations'][_0x263af3[_0x5bc473]['name']],this['currAnim']===_0x263af3[_0x5bc473]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x34a96c['name']],this['currAnim']===_0x34a96c['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x34a96c['id']];}}}['onAssetRem'+'oved'](_0x2a5828){if(_0x2a5828['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x2a5828['resources']['length']>0x22bc+0x116f*-0x1+0x114c*-0x1){for(let _0x4d2426=-0x1f8b+0x201*0x3+0x1988;_0x4d2426<_0x2a5828['resources']['length'];_0x4d2426++)delete this['animations'][_0x2a5828['resources'][_0x4d2426]['name']],this['currAnim']===_0x2a5828['resources'][_0x4d2426]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x2a5828['name']],this['currAnim']===_0x2a5828['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x2a5828['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x238b+-0x6d6+0x1*-0x1cb4),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x25cb+-0x1*0x15cb+0x3b96,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x2a343f=-0x26*0x81+-0xd6d+0x2093*0x1;_0x2a343f<this['animEvalua'+'tor']['clips']['length'];++_0x2a343f)this['animEvalua'+'tor']['clips'][_0x2a343f]['stop']();this['animEvalua'+'tor']['update'](0x26da+0x2224+-0x48fe),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x54af28=this['assets'],_0x110d35=this['system']['app']['assets'];if(_0x54af28)for(let _0x7a1166=-0x125*0x8+-0xbb3*0x1+-0x119*-0x13,_0x54e96e=_0x54af28['length'];_0x7a1166<_0x54e96e;_0x7a1166++){let _0x1d1213=_0x54af28[_0x7a1166];_0x1d1213 instanceof le||(_0x1d1213=_0x110d35['get'](_0x1d1213)),_0x1d1213&&!_0x1d1213['resource']&&_0x110d35['load'](_0x1d1213);}if(this['activate']&&!this['currAnim']){const _0x1160a6=Object['keys'](this['animations']);_0x1160a6['length']>0x1f6e+0x1b56+-0x3ac4&&this['play'](_0x1160a6[0x1*-0x1f61+-0x234e+0x42af]);}}['onBeforeRe'+'move'](){for(let _0x2d029e=0x1bb*-0x4+-0x6f9+-0x1*-0xde5;_0x2d029e<this['assets']['length'];_0x2d029e++){let _0x19e600=this['assets'][_0x2d029e];typeof _0x19e600=='number'&&(_0x19e600=this['system']['app']['assets']['get'](_0x19e600)),_0x19e600&&(_0x19e600['off']('change',this['onAssetCha'+'nged'],this),_0x19e600['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x2931d3){if(this['blending']&&(this['blend']+=_0x2931d3*this['blendSpeed'],this['blend']>=0xa66+-0x1fdd+0x1*0x1578&&(this['blend']=-0x4*0x43b+-0x29a*0x2+0x1621)),this['playing']){const _0x54fafc=this['skeleton'];if(_0x54fafc!==null&&this['model']!==null){if(this['blending'])_0x54fafc['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x352394=_0x2931d3*this['speed'];_0x54fafc['addTime'](_0x352394),this['speed']>-0x425*-0x2+0x10a2+-0x13f*0x14&&_0x54fafc['_time']===_0x54fafc['animation']['duration']&&!this['loop']?this['playing']=!(0x4*-0x1b6+-0x51*-0x1+0x2*0x344):this['speed']<-0xb*-0x76+0x3*0x115+-0x851&&_0x54fafc['_time']===-0x36*-0xa6+0x2d7*0x5+-0x1*0x3137&&!this['loop']&&(this['playing']=!(-0x1d1*-0x15+-0x185f+-0xf*0xeb));}this['blending']&&this['blend']===-0x1cf7+0x735+-0x741*-0x3&&(_0x54fafc['animation']=this['toSkel']['animation']),_0x54fafc['updateGrap'+'h']();}}const _0x4256ff=this['animEvalua'+'tor'];if(_0x4256ff){for(let _0x40cdc3=-0x29+-0xa00+0x11*0x99;_0x40cdc3<_0x4256ff['clips']['length'];++_0x40cdc3){const _0x3f13cb=_0x4256ff['clips'][_0x40cdc3];_0x3f13cb['speed']=this['speed'],this['playing']?_0x3f13cb['resume']():_0x3f13cb['pause']();}this['blending']&&_0x4256ff['clips']['length']>0x7f*0x2+0x1228+0x1325*-0x1&&(_0x4256ff['clips'][-0xc0*-0x11+-0x1*0x8fb+-0x3c4]['blendWeigh'+'t']=this['blend']),_0x4256ff['update'](_0x2931d3);}this['blending']&&this['blend']===-0x141d+0xf53*0x2+-0xa88&&(this['blending']=!(0x21d3+-0x1*0x10af+0x29*-0x6b));}}class zP{constructor(){this['enabled']=!(-0xc58+0x29*0x1d+0x3*0x291);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x8e706d){super(_0x8e706d),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2e1e92,_0x64d11f,_0x25800d){_0x25800d=['activate','enabled','loop','speed','assets'];for(const _0x22aee7 of _0x25800d)_0x64d11f['hasOwnProp'+'erty'](_0x22aee7)&&(_0x2e1e92[_0x22aee7]=_0x64d11f[_0x22aee7]);super['initialize'+'ComponentD'+'ata'](_0x2e1e92,_0x64d11f,Qu);}['cloneCompo'+'nent'](_0x32caac,_0xdf9f21){this['addCompone'+'nt'](_0xdf9f21,{}),_0xdf9f21['animation']['assets']=_0x32caac['animation']['assets']['slice'](),_0xdf9f21['animation']['speed']=_0x32caac['animation']['speed'],_0xdf9f21['animation']['loop']=_0x32caac['animation']['loop'],_0xdf9f21['animation']['activate']=_0x32caac['animation']['activate'],_0xdf9f21['animation']['enabled']=_0x32caac['animation']['enabled'];const _0x30d8eb={},_0xda1456=_0x32caac['animation']['animations'];for(const _0xf7f4d1 in _0xda1456)_0xda1456['hasOwnProp'+'erty'](_0xf7f4d1)&&(_0x30d8eb[_0xf7f4d1]=_0xda1456[_0xf7f4d1]);_0xdf9f21['animation']['animations']=_0x30d8eb;const _0x5d7eab={},_0x237395=_0x32caac['animation']['animations'+'Index'];for(const _0x36245e in _0x237395)_0x237395['hasOwnProp'+'erty'](_0x36245e)&&(_0x5d7eab[_0x36245e]=_0x237395[_0x36245e]);return _0xdf9f21['animation']['animations'+'Index']=_0x5d7eab,_0xdf9f21['animation'];}['onBeforeRe'+'move'](_0x187b69,_0x1b2159){_0x1b2159['onBeforeRe'+'move']();}['onUpdate'](_0x49bba3){const _0x37324f=this['store'];for(const _0x2d80c0 in _0x37324f)if(_0x37324f['hasOwnProp'+'erty'](_0x2d80c0)){const _0x51c91b=_0x37324f[_0x2d80c0];_0x51c91b['data']['enabled']&&_0x51c91b['entity']['enabled']&&_0x51c91b['entity']['animation']['update'](_0x49bba3);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x537004,_0x3a95fd,_0x3e7a25,_0x2066ff,_0x3b6a0d=-0x67*-0x46+-0xa3d+0x8f6*-0x2){this['_state']=_0x537004,this['_parent']=_0x3a95fd,this['_name']=_0x3e7a25,Array['isArray'](_0x2066ff)?(this['_point']=new W(_0x2066ff[0x17*-0x18b+-0x980+0x2cfd*0x1],_0x2066ff[0xb*-0xeb+0x2d0*-0x8+0x209a]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x2066ff,this['_pointLeng'+'th']=_0x2066ff),this['_speed']=_0x3b6a0d,this['_weightedS'+'peed']=-0xb3b*0x2+0x2182+-0xb0b,this['_weight']=-0x99e*0x1+-0x1*0x111b+-0xd5d*-0x2,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x54de3b){this['_weight']=_0x54de3b;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x91a5f5=this['_state']['totalWeigh'+'t'];return _0x91a5f5===-0x14c7+-0x1197+0x265e?-0x1a3d+-0x1*-0x242e+-0x9f1:this['weight']/_0x91a5f5;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x374ff9){this['_weightedS'+'peed']=_0x374ff9;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x25857b){this['_animTrack']=_0x25857b;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x63125f,_0x9c4954,_0x2a5ab2,_0x1643d9,_0x4cd653,_0x1bbe44,_0x36559a,_0x3ab466,_0x108d02){super(_0x63125f,_0x9c4954,_0x2a5ab2,_0x1643d9),this['_parameter'+'s']=_0x4cd653,this['_parameter'+'Values']=new Array(_0x4cd653['length']),this['_children']=[],this['_findParam'+'eter']=_0x108d02,this['_syncAnima'+'tions']=_0x36559a!==!(0x1*-0x781+0x1*0x59d+0x5*0x61),this['_pointCach'+'e']={};for(let _0x123c0d=0xf5f+0x1e16+0x50d*-0x9;_0x123c0d<_0x1bbe44['length'];_0x123c0d++){const _0x30f5aa=_0x1bbe44[_0x123c0d];_0x30f5aa['children']?this['_children']['push'](_0x3ab466(_0x30f5aa['type'],_0x63125f,this,_0x30f5aa['name'],0x1*0x256f+-0x51b*0x2+-0x4*0x6ce,_0x30f5aa['parameter']?[_0x30f5aa['parameter']]:_0x30f5aa['parameters'],_0x30f5aa['children'],_0x30f5aa['syncAnimat'+'ions'],_0x3ab466,_0x108d02)):this['_children']['push'](new Uo(_0x63125f,this,_0x30f5aa['name'],_0x30f5aa['point'],_0x30f5aa['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x47ca57){for(let _0x58b9a8=-0x14*0x119+-0x1*-0x18f8+-0x304;_0x58b9a8<this['_children']['length'];_0x58b9a8++)if(this['_children'][_0x58b9a8]['name']===_0x47ca57)return this['_children'][_0x58b9a8];return null;}['updatePara'+'meterValue'+'s'](){let _0x53f26d=!(-0x19a7+-0x1891+-0x4*-0xc8e);for(let _0x33e058=0x3d0+-0x239*0xd+0x1*0x1915;_0x33e058<this['_parameter'+'Values']['length'];_0x33e058++){const _0x4f306a=this['_findParam'+'eter'](this['_parameter'+'s'][_0x33e058])['value'];this['_parameter'+'Values'][_0x33e058]!==_0x4f306a&&(this['_parameter'+'Values'][_0x33e058]=_0x4f306a,_0x53f26d=!(-0x1fb2+0x48b*0x4+-0x1*-0xd87));}return _0x53f26d;}['getNodeWei'+'ghtedDurat'+'ion'](_0x1fec87){return this['_children'][_0x1fec87]['animTrack']['duration']/this['_children'][_0x1fec87]['speedMulti'+'plier']*this['_children'][_0x1fec87]['weight'];}['getNodeCou'+'nt'](){let _0x106198=0x56e+0x16*0x67+-0xe48;for(let _0x1f10f7=0x1428+-0x3*0x92a+0x756;_0x1f10f7<this['_children']['length'];_0x1f10f7++)this['_children'][_0x1f10f7]['constructo'+'r']===Ba?_0x106198+=this['_children'][_0x1f10f7]['getNodeCou'+'nt']():_0x106198++;return _0x106198;}}class VP extends Ba{constructor(_0x180b0a,_0x5f0f52,_0x1fb9eb,_0x3b7b03,_0x45d089,_0x2f2622,_0x3c60fe,_0x31c6e0,_0x394f70){_0x2f2622['sort']((_0x251330,_0x113965)=>_0x251330['point']-_0x113965['point']),super(_0x180b0a,_0x5f0f52,_0x1fb9eb,_0x3b7b03,_0x45d089,_0x2f2622,_0x3c60fe,_0x31c6e0,_0x394f70);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x35066f=0x1*0x2662+0x1*0x925+-0x211*0x17;this['_children'][0x26d7*-0x1+0x1001+-0x16d6*-0x1]['weight']=0x259*0x7+0x1*0x1f8e+-0x2ffd;for(let _0x5c44bf=0x21c6+0xd0b+-0x2ed1;_0x5c44bf<this['_children']['length'];_0x5c44bf++){const _0x25189a=this['_children'][_0x5c44bf];if(_0x5c44bf!==this['_children']['length']-(-0x1*-0x1142+-0x1c77+0xb36)){const _0x5a8f97=this['_children'][_0x5c44bf+(0x1373+-0x1562+0x1f0)];if(_0x25189a['point']===_0x5a8f97['point'])_0x25189a['weight']=0x8*-0xfd+-0x817+0x9*0x1c7+0.5,_0x5a8f97['weight']=-0x132f+-0x19a6+-0x1f3*-0x17+0.5;else{if(N['between'](this['_parameter'+'Values'][-0x1cdd+0x896+0x1d*0xb3],_0x25189a['point'],_0x5a8f97['point'],!(0x9*-0x1e8+0x21c6+-0x109e))){const _0x49dc90=Math['abs'](_0x25189a['point']-_0x5a8f97['point']),_0x20ad32=Math['abs'](_0x25189a['point']-this['_parameter'+'Values'][0x81c*-0x2+-0x3*-0xb02+-0x3*0x59a]),_0x4c6ad2=(_0x49dc90-_0x20ad32)/_0x49dc90;_0x25189a['weight']=_0x4c6ad2,_0x5a8f97['weight']=-0x22a4+0x34c+-0xa73*-0x3-_0x4c6ad2;}else _0x5a8f97['weight']=0x1e73+0x1dcc*-0x1+0x1*-0xa7;}}this['_syncAnima'+'tions']&&(_0x35066f+=_0x25189a['animTrack']['duration']/_0x25189a['absoluteSp'+'eed']*_0x25189a['weight']);}if(this['_syncAnima'+'tions'])for(let _0x2fefbc=-0x1*0x11c3+-0x4*-0x667+-0x7d9;_0x2fefbc<this['_children']['length'];_0x2fefbc++){const _0x3ee3fe=this['_children'][_0x2fefbc];_0x3ee3fe['weightedSp'+'eed']=_0x3ee3fe['animTrack']['duration']/_0x3ee3fe['absoluteSp'+'eed']/_0x35066f;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0x108293,_0x4bc986){const _0xec9558=''+_0x108293+_0x4bc986;return this['_pointCach'+'e'][_0xec9558]||(this['_pointCach'+'e'][_0xec9558]=this['_children'][_0x4bc986]['point']['clone']()['sub'](this['_children'][_0x108293]['point'])),this['_pointCach'+'e'][_0xec9558];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x379835,_0x223ea5;gi['_p']['set'](...this['_parameter'+'Values']),_0x379835=0x1*-0x41b+0x8d4+-0x5d*0xd,_0x223ea5=-0x10b9*-0x1+-0x1ff6+0x53*0x2f;for(let _0x2a7127=0x1*0x8c1+0x1754+0x1*-0x2015;_0x2a7127<this['_children']['length'];_0x2a7127++){const _0x3fbaff=this['_children'][_0x2a7127],_0x284373=_0x3fbaff['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x284373);let _0x2ac604=Number['MAX_VALUE'];for(let _0x4f2fed=0x373*0x7+-0x2b0+-0x1575;_0x4f2fed<this['_children']['length'];_0x4f2fed++){if(_0x2a7127===_0x4f2fed)continue;const _0x195de2=this['pointDista'+'nceCache'](_0x2a7127,_0x4f2fed),_0x751d7c=N['clamp'](-0x24db+-0x2f*-0xc7+0x53-gi['_pip']['dot'](_0x195de2)/_0x195de2['lengthSq'](),0x2656+0x247c+-0x9d*0x7a,-0x1ebe+-0xa*0x2e+0x208b);_0x751d7c<_0x2ac604&&(_0x2ac604=_0x751d7c);}_0x3fbaff['weight']=_0x2ac604,_0x379835+=_0x2ac604,this['_syncAnima'+'tions']&&(_0x223ea5+=_0x3fbaff['animTrack']['duration']/_0x3fbaff['absoluteSp'+'eed']*_0x3fbaff['weight']);}for(let _0xfd55da=0x21cf+-0x1052+-0x117d;_0xfd55da<this['_children']['length'];_0xfd55da++){const _0x16b27f=this['_children'][_0xfd55da];_0x16b27f['weight']=_0x16b27f['_weight']/_0x379835,this['_syncAnima'+'tions']&&(_0x16b27f['weightedSp'+'eed']=_0x16b27f['animTrack']['duration']/_0x16b27f['absoluteSp'+'eed']/_0x223ea5);}}};c(gi,'_p',new W()),c(gi,'_pip',new W());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0xc77708,_0x2ffd20){const _0x462e5d=''+_0xc77708+_0x2ffd20;return this['_pointCach'+'e'][_0x462e5d]||(this['_pointCach'+'e'][_0x462e5d]=new W((this['_children'][_0x2ffd20]['pointLengt'+'h']-this['_children'][_0xc77708]['pointLengt'+'h'])/((this['_children'][_0x2ffd20]['pointLengt'+'h']+this['_children'][_0xc77708]['pointLengt'+'h'])/(-0x20aa*-0x1+-0x39b*0x3+0x1*-0x15d7)),W['angleRad'](this['_children'][_0xc77708]['point'],this['_children'][_0x2ffd20]['point'])*(-0x22f6+-0x9fa+0x16*0x20b))),this['_pointCach'+'e'][_0x462e5d];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x426ff8,_0x5200ac;yi['_p']['set'](...this['_parameter'+'Values']);const _0x3e27c1=yi['_p']['length']();_0x426ff8=0x5cd+-0xa0*-0x20+-0x19cd,_0x5200ac=0x73e+0xb96*-0x2+0xfee;for(let _0x5108f4=0xc2*-0x4+0x2*-0x157+-0x2*-0x2db;_0x5108f4<this['_children']['length'];_0x5108f4++){const _0x2827c0=this['_children'][_0x5108f4],_0x329e00=_0x2827c0['point'],_0x46c65f=_0x2827c0['pointLengt'+'h'];let _0x305930=Number['MAX_VALUE'];for(let _0x1e6f57=-0x5*-0x2ce+0x1bc+0x7e1*-0x2;_0x1e6f57<this['_children']['length'];_0x1e6f57++){if(_0x5108f4===_0x1e6f57)continue;const _0x95f329=this['pointCache'](_0x5108f4,_0x1e6f57),_0x32d4a3=this['_children'][_0x1e6f57]['pointLengt'+'h'];yi['_pip']['set']((_0x3e27c1-_0x46c65f)/((_0x32d4a3+_0x46c65f)/(-0x2055*0x1+0x12b7+0x10*0xda)),W['angleRad'](_0x329e00,yi['_p'])*(0x13ec+0x1*0xed1+-0x20b*0x11));const _0x43bbe8=N['clamp'](-0x9e1*-0x2+0x10cb+0x4*-0x923-Math['abs'](yi['_pip']['dot'](_0x95f329)/_0x95f329['lengthSq']()),0x5e1*-0x5+-0xac2+0x2827*0x1,0x8*0x65+-0x2291*0x1+0x1f6a*0x1);_0x43bbe8<_0x305930&&(_0x305930=_0x43bbe8);}_0x2827c0['weight']=_0x305930,_0x426ff8+=_0x305930,this['_syncAnima'+'tions']&&(_0x5200ac+=_0x2827c0['animTrack']['duration']/_0x2827c0['absoluteSp'+'eed']*_0x2827c0['weight']);}for(let _0x5a73ea=-0x1f42*0x1+-0x73*-0x43+0x129;_0x5a73ea<this['_children']['length'];_0x5a73ea++){const _0x46441d=this['_children'][_0x5a73ea];if(_0x46441d['weight']=_0x46441d['_weight']/_0x426ff8,this['_syncAnima'+'tions']){const _0x4914c6=_0x46441d['animTrack']['duration']/_0x5200ac*_0x426ff8;_0x46441d['weightedSp'+'eed']=_0x46441d['absoluteSp'+'eed']*_0x4914c6;}}}};c(yi,'_p',new W()),c(yi,'_pip',new W());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5156d4=0x5f2*-0x4+0x4*0x34c+-0x8*-0x153,_0x313e96=0x1*-0x7b2+0x13*0x175+-0x13fd*0x1;for(let _0xcf47a9=-0xc09+0x2*0x710+-0x6b*0x5;_0xcf47a9<this['_children']['length'];_0xcf47a9++)if(_0x5156d4+=Math['max'](this['_parameter'+'Values'][_0xcf47a9],-0x2*-0x132d+-0x11b*-0x3+-0x29ab),this['_syncAnima'+'tions']){const _0x1cef8d=this['_children'][_0xcf47a9];_0x313e96+=_0x1cef8d['animTrack']['duration']/_0x1cef8d['absoluteSp'+'eed']*_0x1cef8d['weight'];}for(let _0x5bff3f=0x2493+0x4*-0xc5+-0x217f*0x1;_0x5bff3f<this['_children']['length'];_0x5bff3f++){const _0x3c6f81=this['_children'][_0x5bff3f],_0x3b5b53=Math['max'](this['_parameter'+'Values'][_0x5bff3f],0x89*0xd+0xf*0x20+-0x8d5);_0x5156d4?(_0x3c6f81['weight']=_0x3b5b53/_0x5156d4,this['_syncAnima'+'tions']&&(_0x3c6f81['weightedSp'+'eed']=_0x3c6f81['animTrack']['duration']/_0x3c6f81['absoluteSp'+'eed']/_0x313e96)):(_0x3c6f81['weight']=0x7*0x71+0x8*-0x71+-0x1*-0x71,this['_syncAnima'+'tions']&&(_0x3c6f81['weightedSp'+'eed']=0x37*0x96+0x1*-0xd77+-0x641*0x3));}}}class eg{constructor(_0x573b84,_0xbf45e5,_0xcdd631=0xb4e+-0x3*0x5db+0x322*0x2,_0x1ace1f=!(-0x9*0x38d+-0x1*-0x1801+-0x2*-0x3fa),_0x3cfcca){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x573b84,this['_name']=_0xbf45e5,this['_speed']=_0xcdd631,this['_loop']=_0x1ace1f,this['_hasAnimat'+'ions']=!(-0x2*-0xd+0x1*0x161+-0x17a),_0x3cfcca?this['_blendTree']=this['_createTre'+'e'](_0x3cfcca['type'],this,null,_0xbf45e5,-0x75c*0x1+-0x3*0x89f+0x1*0x213a,_0x3cfcca['parameter']?[_0x3cfcca['parameter']]:_0x3cfcca['parameters'],_0x3cfcca['children'],_0x3cfcca['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0xbf45e5,0x3*-0x22+0x977*0x4+0xdf*-0x2b,_0xcdd631));}['_createTre'+'e'](_0x5b40b4,_0x1221ff,_0x4dc589,_0x10e068,_0x3855a8,_0x28db1e,_0x2e5823,_0x266aa5,_0x3e187,_0x5c7963){switch(_0x5b40b4){case FP:return new VP(_0x1221ff,_0x4dc589,_0x10e068,_0x3855a8,_0x28db1e,_0x2e5823,_0x266aa5,_0x3e187,_0x5c7963);case kP:return new Ju(_0x1221ff,_0x4dc589,_0x10e068,_0x3855a8,_0x28db1e,_0x2e5823,_0x266aa5,_0x3e187,_0x5c7963);case OP:return new ef(_0x1221ff,_0x4dc589,_0x10e068,_0x3855a8,_0x28db1e,_0x2e5823,_0x266aa5,_0x3e187,_0x5c7963);case BP:return new GP(_0x1221ff,_0x4dc589,_0x10e068,_0x3855a8,_0x28db1e,_0x2e5823,_0x266aa5,_0x3e187,_0x5c7963);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x5b40b4);}['_getNodeFr'+'omPath'](_0xc15004){let _0x215d80=this['_blendTree'];for(let _0x5077ac=-0xf6a+-0x3*-0x10c+0xc47;_0x5077ac<_0xc15004['length'];_0x5077ac++)_0x215d80=_0x215d80['getChild'](_0xc15004[_0x5077ac]);return _0x215d80;}['addAnimati'+'on'](_0x20a5a1,_0x4ba31c){const _0x1ce09c=_0x20a5a1['join']('.'),_0x2a0195=this['_animation'+'List']['findIndex'](_0x47a2a2=>_0x47a2a2['path']===_0x1ce09c);if(_0x2a0195>=-0xc2f*0x1+0x1*0x89b+-0x394*-0x1)this['_animation'+'List'][_0x2a0195]['animTrack']=_0x4ba31c;else{const _0x7bac52=this['_getNodeFr'+'omPath'](_0x20a5a1);_0x7bac52['animTrack']=_0x4ba31c,this['_animation'+'List']['push'](_0x7bac52);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x2473+-0x1*0x1cfa+0x416d&&this['_animation'+'List']['every'](_0x34fdc9=>_0x34fdc9['animTrack']&&_0x34fdc9['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x35caa6){this['_animation'+'List']=_0x35caa6,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x51f732){this['_speed']=_0x51f732;}get['speed'](){return this['_speed'];}set['loop'](_0x37b9e0){this['_loop']=_0x37b9e0;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?0x6*-0x18+0x275*-0xf+-0x4*-0x95b:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(0xc2b+0x726+-0x8*0x26a)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x83*-0x5+0x3a9*0x7+-0x1c2e*0x1){const _0x3bb061=this['name']+'.'+this['animations'][-0x1df1+-0x958+0x2749]['animTrack']['name'],_0x22644e=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x3bb061);if(_0x22644e)return _0x22644e['loop'];}return!(-0x917*-0x1+-0x78f+-0x187);}get['totalWeigh'+'t'](){let _0x475a00=0x15*-0x11c+0x198+0x15b4;for(let _0x3a4581=0x2393+0x4*-0x9c1+-0x1*-0x371;_0x3a4581<this['animations']['length'];_0x3a4581++)_0x475a00+=this['animations'][_0x3a4581]['weight'];return _0x475a00;}get['timelineDu'+'ration'](){let _0x3c187d=-0xf*-0x1f3+-0x24c7+0x1*0x78a;for(let _0x45ba6c=0x3*-0x25+0x23ae+-0x233f;_0x45ba6c<this['animations']['length'];_0x45ba6c++){const _0x52948a=this['animations'][_0x45ba6c];_0x52948a['animTrack']['duration']>_0x3c187d&&(_0x3c187d=_0x52948a['animTrack']['duration']);}return _0x3c187d;}}class Yh{constructor({from:_0x546dfe,to:_0x21e8cc,time:_0x4f3800=-0x238*-0x1+-0x1cc7+0x20b*0xd,priority:_0x2fd362=0x1d28+0xde8+-0xac4*0x4,conditions:_0x2c21ae=[],exitTime:_0x295042=null,transitionOffset:_0x186eb2=null,interruptionSource:_0x565559=q0}){this['_from']=_0x546dfe,this['_to']=_0x21e8cc,this['_time']=_0x4f3800,this['_priority']=_0x2fd362,this['_condition'+'s']=_0x2c21ae,this['_exitTime']=_0x295042,this['_transitio'+'nOffset']=_0x186eb2,this['_interrupt'+'ionSource']=_0x565559;}get['from'](){return this['_from'];}set['to'](_0x4ab710){this['_to']=_0x4ab710;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x2dc876,_0x3e343d,_0x1b3281,_0x20d92d,_0x3e829a,_0x1ca652,_0x387f15){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',-0x1af6+-0x1b51+0x5*0xadb),c(this,'_activeSta'+'teDuration'+'Dirty',!(-0x1089*-0x1+0x13f*0xd+-0x20bc)),c(this,'_playing',!(-0x9ed+0x2*-0x8d1+-0x30*-0x93)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',0x24ae+-0x1ea9+-0x604),c(this,'_totalTran'+'sitionTime',0x2597+0x19b2+-0x3f48),c(this,'_isTransit'+'ioning',!(0x7f9+0x202c+-0x2824)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0x2b0+0x1*-0x67f+0x5*0xc3),c(this,'_timeInSta'+'teBefore',-0x5*-0x74b+-0x3*0x653+-0x1*0x117e),c(this,'findParame'+'ter',_0x162e9=>this['_findParam'+'eter'](_0x162e9)),(this['_animEvalu'+'ator']=_0x2dc876,this['_eventHand'+'ler']=_0x3e829a,this['_findParam'+'eter']=_0x1ca652,this['_consumeTr'+'igger']=_0x387f15);for(let _0x3f0486=-0xd07+0x1c94+-0xf8d;_0x3f0486<_0x3e343d['length'];_0x3f0486++)this['_states'][_0x3e343d[_0x3f0486]['name']]=new eg(this,_0x3e343d[_0x3f0486]['name'],_0x3e343d[_0x3f0486]['speed'],_0x3e343d[_0x3f0486]['loop'],_0x3e343d[_0x3f0486]['blendTree']),this['_stateName'+'s']['push'](_0x3e343d[_0x3f0486]['name']);this['_transitio'+'ns']=_0x1b3281['map'](_0x1d1c07=>new Yh({..._0x1d1c07})),this['_activate']=_0x20d92d;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x5d6285){this['_activeSta'+'teName']=_0x5d6285;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0xd0d5eb){this['_previousS'+'tateName']=_0xd0d5eb;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x659d25=!(-0x21af*-0x1+0x1f04+-0x40b3);for(let _0x1e4ba4=-0xd1b+-0x2*0x10a2+-0x3*-0xf75;_0x1e4ba4<this['_stateName'+'s']['length'];_0x1e4ba4++)this['_states'][this['_stateName'+'s'][_0x1e4ba4]]['playable']||(_0x659d25=!(0x1b94+-0x24c4+0x931));return _0x659d25;}set['playing'](_0x3cc973){this['_playing']=_0x3cc973;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x8b8ba3=0x186f+-0xc36+-0xc39;for(let _0x3d26b1=0xb89*0x2+0x178b+0x2e9d*-0x1;_0x3d26b1<this['activeStat'+'eAnimation'+'s']['length'];_0x3d26b1++){const _0x4350ad=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x3d26b1]['name']);_0x4350ad&&(_0x8b8ba3=Math['max'](_0x8b8ba3,_0x4350ad['track']['duration']));}this['_activeSta'+'teDuration']=_0x8b8ba3,this['_activeSta'+'teDuration'+'Dirty']=!(0x1fcd+0x5*0x6e3+0x423b*-0x1);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x2a1644){this['_timeInSta'+'teBefore']=_0x2a1644,this['_timeInSta'+'te']=_0x2a1644;for(let _0x1b814a=-0x799+-0x1eab*-0x1+0x1*-0x1712;_0x1b814a<this['activeStat'+'eAnimation'+'s']['length'];_0x1b814a++){const _0xd3912f=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x1b814a]['name']);_0xd3912f&&(_0xd3912f['time']=_0x2a1644);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x1d2828){return this['_animEvalu'+'ator']['assignMask'](_0x1d2828);}['_findState'](_0x827b7b){return this['_states'][_0x827b7b];}['_getActive'+'StateProgr'+'essForTime'](_0x2e005f){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return-0x146c+-0x76e+0x1*0x1bdb;const _0x1be5fd=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0x338+-0xe63+0xb2b]['name']);return _0x1be5fd?_0x1be5fd['progressFo'+'rTime'](_0x2e005f):null;}['_findTrans'+'itionsFrom'+'State'](_0x378a08){let _0x1311aa=this['_findTrans'+'itionsFrom'+'StateCache'][_0x378a08];return _0x1311aa||(_0x1311aa=this['_transitio'+'ns']['filter'](_0x1491e9=>_0x1491e9['from']===_0x378a08),No(_0x1311aa),this['_findTrans'+'itionsFrom'+'StateCache'][_0x378a08]=_0x1311aa),_0x1311aa;}['_findTrans'+'itionsBetw'+'eenStates'](_0x14f3bd,_0x195e5e){let _0x3938b4=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x14f3bd+'->'+_0x195e5e];return _0x3938b4||(_0x3938b4=this['_transitio'+'ns']['filter'](_0x2f49db=>_0x2f49db['from']===_0x14f3bd&&_0x2f49db['to']===_0x195e5e),No(_0x3938b4),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x14f3bd+'->'+_0x195e5e]=_0x3938b4),_0x3938b4;}['_transitio'+'nHasCondit'+'ionsMet'](_0x27cb91){const _0xfb7634=_0x27cb91['conditions'];for(let _0x5153ab=0x1*0x144a+0x438+0x1*-0x1882;_0x5153ab<_0xfb7634['length'];_0x5153ab++){const _0x3d2f98=_0xfb7634[_0x5153ab],_0x330d01=this['_findParam'+'eter'](_0x3d2f98['parameterN'+'ame']);switch(_0x3d2f98['predicate']){case MP:if(!(_0x330d01['value']>_0x3d2f98['value']))return!(-0x14*-0x1d+-0x185*0x18+0x2235);break;case PP:if(!(_0x330d01['value']<_0x3d2f98['value']))return!(-0x6d*0x29+0x1abf+-0x1*0x949);break;case RP:if(!(_0x330d01['value']>=_0x3d2f98['value']))return!(0x2526+-0x2288*0x1+-0x29d*0x1);break;case IP:if(!(_0x330d01['value']<=_0x3d2f98['value']))return!(-0x287*-0x6+0x26e8+0x3611*-0x1);break;case DP:if(_0x330d01['value']!==_0x3d2f98['value'])return!(-0xdab*-0x1+0x5*-0x3f3+0x1*0x615);break;case LP:if(_0x330d01['value']===_0x3d2f98['value'])return!(-0x5e8+0x61*0x10+0x1*-0x27);break;}}return!(-0x8e7+-0x575*0x4+-0x1ebb*-0x1);}['_findTrans'+'ition'](_0xc4104a,_0x524b36){let _0x199e9c=[];if(_0xc4104a&&_0x524b36)_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0xc4104a,_0x524b36));else{if(!this['_isTransit'+'ioning'])_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x199e9c=_0x199e9c['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x199e9c=_0x199e9c['filter'](_0x8a2b60=>{if(_0x8a2b60['to']===this['activeStat'+'eName'])return!(-0x1f25+-0x1d6c+0x3c92*0x1);if(_0x8a2b60['hasExitTim'+'e']){let _0x3b1b02=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x5d86e1=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x8a2b60['exitTime']<-0x1*0x3b3+-0xd*-0x2e1+-0x21b9&&this['activeStat'+'e']['loop']&&(_0x3b1b02-=Math['floor'](_0x3b1b02),_0x5d86e1-=Math['floor'](_0x5d86e1)),_0x5d86e1===_0x3b1b02){if(_0x5d86e1!==_0x8a2b60['exitTime'])return null;}else{if(!(_0x8a2b60['exitTime']>_0x3b1b02&&_0x8a2b60['exitTime']<=_0x5d86e1))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x8a2b60);}),_0x199e9c['length']>-0xd75+-0x101*0x25+0xfe*0x33){const _0x3c876a=_0x199e9c[0x17e4+0x1d9f+-0x3583];if(_0x3c876a['to']===Ku){const _0x4a66b1=this['_findTrans'+'itionsFrom'+'State'](oo)[-0x264b+0x1f57+0x6f4];_0x3c876a['to']=_0x4a66b1['to'];}return _0x3c876a;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x3cef5a){let _0x68d78d,_0x4fe988,_0x282029;this['previousSt'+'ate']=_0x3cef5a['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x3cef5a['to'],this['_activeSta'+'teDuration'+'Dirty']=!(-0x274+0x550*-0x2+0x1b*0x7c);for(let _0x341f5a=0xc7c+-0x77a*0x2+0x278;_0x341f5a<_0x3cef5a['conditions']['length'];_0x341f5a++){const _0x32cee9=_0x3cef5a['conditions'][_0x341f5a];this['_findParam'+'eter'](_0x32cee9['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x32cee9['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x370112=Math['min'](this['_totalTran'+'sitionTime']!==-0x166*-0x1b+-0x2622+0x18*0x4?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x16ab*-0x1+0x9c1+-0x206b,-0x1*0x18d2+-0x53*-0x35+-0x146*-0x6);for(let _0x4c6b3b=0x174*0x6+-0x1b*0xb0+0xa*0xfc;_0x4c6b3b<this['_transitio'+'nPreviousS'+'tates']['length'];_0x4c6b3b++){this['_isTransit'+'ioning']?_0x4c6b3b!==this['_transitio'+'nPreviousS'+'tates']['length']-(0xc91*-0x3+-0x5ba+0x22*0x147)?this['_transitio'+'nPreviousS'+'tates'][_0x4c6b3b]['weight']*=-0x1*-0x1de6+0x205d+-0x3e42-_0x370112:this['_transitio'+'nPreviousS'+'tates'][_0x4c6b3b]['weight']=_0x370112:this['_transitio'+'nPreviousS'+'tates'][_0x4c6b3b]['weight']=0xd5b+-0x6f*-0x31+-0x209*0x11,_0x68d78d=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x4c6b3b]['name']);for(let _0x1c38e2=0x1*0x17+0x4*-0x8e1+0x1*0x236d;_0x1c38e2<_0x68d78d['animations']['length'];_0x1c38e2++)_0x4fe988=_0x68d78d['animations'][_0x1c38e2],_0x282029=this['_animEvalu'+'ator']['findClip'](_0x4fe988['name']+'.previous.'+_0x4c6b3b),_0x282029||(_0x282029=this['_animEvalu'+'ator']['findClip'](_0x4fe988['name']),_0x282029['name']=_0x4fe988['name']+'.previous.'+_0x4c6b3b),_0x4c6b3b!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x1b*0xf9+-0xf*0x219+0x535)&&_0x282029['pause']();}}this['_isTransit'+'ioning']=!(0x3d*0x5a+-0x809+-0x1*0xd69),this['_totalTran'+'sitionTime']=_0x3cef5a['time'],this['_currTrans'+'itionTime']=-0x2*0x724+0x67*-0x3+-0x131*-0xd,this['_transitio'+'nInterrupt'+'ionSource']=_0x3cef5a['interrupti'+'onSource'];const _0x242e54=this['activeStat'+'e'],_0x349b55=_0x3cef5a['transition'+'Offset']&&_0x3cef5a['transition'+'Offset']>-0xd99+-0x1785+-0x128f*-0x2&&_0x3cef5a['transition'+'Offset']<0x76*-0x10+-0x919*-0x1+0x8*-0x37;let _0x23e924=0x2388+0x1b72*-0x1+0x816*-0x1,_0x2d7927=0x65*-0x2b+0x2*-0xceb+0x2acd;if(_0x349b55){const _0x4f355d=_0x242e54['timelineDu'+'ration']*_0x3cef5a['transition'+'Offset'];_0x23e924=_0x4f355d,_0x2d7927=_0x4f355d;}this['_timeInSta'+'te']=_0x23e924,this['_timeInSta'+'teBefore']=_0x2d7927;for(let _0x29cd96=0x3*0xc33+0x1d04+-0x419d;_0x29cd96<_0x242e54['animations']['length'];_0x29cd96++){if(_0x282029=this['_animEvalu'+'ator']['findClip'](_0x242e54['animations'][_0x29cd96]['name']),_0x282029)_0x282029['reset']();else{const _0x50cf74=Number['isFinite'](_0x242e54['animations'][_0x29cd96]['speed'])?_0x242e54['animations'][_0x29cd96]['speed']:_0x242e54['speed'];_0x282029=new Xh(_0x242e54['animations'][_0x29cd96]['animTrack'],this['_timeInSta'+'te'],_0x50cf74,!(-0x1d5*0x1+0x20b7+-0xf71*0x2),_0x242e54['loop'],this['_eventHand'+'ler']),_0x282029['name']=_0x242e54['animations'][_0x29cd96]['name'],this['_animEvalu'+'ator']['addClip'](_0x282029);}if(_0x3cef5a['time']>-0x251b+0x23ed*-0x1+0x4908?_0x282029['blendWeigh'+'t']=-0x19c7*-0x1+-0x122b+-0x79c:_0x282029['blendWeigh'+'t']=_0x242e54['animations'][_0x29cd96]['normalized'+'Weight'],_0x282029['play'](),_0x349b55)_0x282029['time']=_0x242e54['timelineDu'+'ration']*_0x3cef5a['transition'+'Offset'];else{const _0x1aad51=_0x242e54['speed']>=-0x17*-0x16f+-0x1c18+-0x4e1*0x1?0x1286+0x1*0x21b5+-0x1*0x343b:this['activeStat'+'eDuration'];_0x282029['time']=_0x1aad51;}}}['_transitio'+'nToState'](_0x6ad49a){if(!this['_findState'](_0x6ad49a))return;let _0x9d8f02=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x6ad49a);_0x9d8f02||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x9d8f02=new Yh({'from':null,'to':_0x6ad49a})),this['updateStat'+'eFromTrans'+'ition'](_0x9d8f02);}['assignAnim'+'ation'](_0x937c45,_0x47ca00,_0x5366a2,_0x4a93db){const _0x4921db=_0x937c45['split']('.');let _0x38703a=this['_findState'](_0x4921db[-0x32d*-0x2+0x17*-0x41+-0x83]);_0x38703a||(_0x38703a=new eg(this,_0x4921db[0x326+0x5*-0x3da+0x101c],_0x5366a2),this['_states'][_0x4921db[0x2314+0x184c+-0x130*0x32]]=_0x38703a,this['_stateName'+'s']['push'](_0x4921db[-0xa2*0x4+-0xa*0x3b5+0x89*0x4a])),_0x38703a['addAnimati'+'on'](_0x4921db,_0x47ca00),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x38703a['name'],_0x47ca00),_0x5366a2!==void(-0x1b92+-0x112e+0x2cc0)&&(_0x38703a['speed']=_0x5366a2),_0x4a93db!==void(0x1e1a+-0x2*0x1063+-0x9*-0x4c)&&(_0x38703a['loop']=_0x4a93db),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x20b*-0x7+0x2*-0x2d5+0x13f7*0x1);}['removeNode'+'Animations'](_0x168589){if(jh['indexOf'](_0x168589)!==-(0x727*-0x5+-0x25f+0x2623))return!(0x1*-0x424+0x4*-0x5a6+-0x5*-0x559);const _0x54469d=this['_findState'](_0x168589);return _0x54469d?(_0x54469d['animations']=[],!(-0x7e5+-0x1e69+0x264e)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x168589),!(-0x1*0x26d5+0x120b+0x14cb));}['play'](_0x2c2028){_0x2c2028&&this['_transitio'+'nToState'](_0x2c2028),this['_playing']=!(-0x1*-0x136d+0x2304+-0xb*0x4f3);}['pause'](){this['_playing']=!(-0x1a34+0x577*-0x2+0x2523);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(-0x2a0+0xb22+-0x137*0x7),this['_currTrans'+'itionTime']=-0x1*0x132b+0x3e4*0x4+-0x1ce*-0x2,this['_totalTran'+'sitionTime']=-0x7*-0x21b+0x26c8+0x1ac2*-0x2,this['_isTransit'+'ioning']=!(-0x1c5+0x15be+0x1*-0x13f8),this['_timeInSta'+'te']=0x1cc9+-0x1c25+0x4*-0x29,this['_timeInSta'+'teBefore']=-0x224b*0x1+-0x395+0x25e0,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x5a8c21){if(!this['_playing'])return;let _0x195b1e,_0x4486a9,_0x40a637;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x5a8c21*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x5a8c21=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x360d12=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x360d12&&this['updateStat'+'eFromTrans'+'ition'](_0x360d12),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x5a8c21,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x411385=this['_totalTran'+'sitionTime']!==-0xb7d*-0x1+-0xa74+-0x109?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x1*-0x14c8+-0x1b57+0x690;for(let _0x54e933=-0x302+0x1e9b+0x585*-0x5;_0x54e933<this['_transitio'+'nPreviousS'+'tates']['length'];_0x54e933++){_0x195b1e=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x54e933]['name']);const _0x124150=this['_transitio'+'nPreviousS'+'tates'][_0x54e933]['weight'];for(let _0x1c3c8f=0x37f+0x1c*-0x94+0x1*0xcb1;_0x1c3c8f<_0x195b1e['animations']['length'];_0x1c3c8f++)_0x4486a9=_0x195b1e['animations'][_0x1c3c8f],_0x40a637=this['_animEvalu'+'ator']['findClip'](_0x4486a9['name']+'.previous.'+_0x54e933),_0x40a637&&(_0x40a637['blendWeigh'+'t']=(0x35*-0x3+-0x3*0xb2d+0x2227-_0x411385)*_0x4486a9['normalized'+'Weight']*_0x124150);}_0x195b1e=this['activeStat'+'e'];for(let _0x822d95=0x184e+0xac+-0x18fa;_0x822d95<_0x195b1e['animations']['length'];_0x822d95++)_0x4486a9=_0x195b1e['animations'][_0x822d95],this['_animEvalu'+'ator']['findClip'](_0x4486a9['name'])['blendWeigh'+'t']=_0x411385*_0x4486a9['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x1bc4+0x1bbb+-0x1bbf*0x2);const _0x1d3521=this['activeStat'+'eAnimation'+'s']['length'],_0x5e926d=this['_animEvalu'+'ator']['clips']['length'];for(let _0x52edfd=0x50e+0x1bd7+-0x20e5;_0x52edfd<_0x5e926d-_0x1d3521;_0x52edfd++)this['_animEvalu'+'ator']['removeClip'](0x17*0x17e+0x392+-0x25e4);this['_transitio'+'nPreviousS'+'tates']=[],_0x195b1e=this['activeStat'+'e'];for(let _0x26e8e1=0x20e+-0x23f*0x11+0x2421;_0x26e8e1<_0x195b1e['animations']['length'];_0x26e8e1++)_0x4486a9=_0x195b1e['animations'][_0x26e8e1],_0x40a637=this['_animEvalu'+'ator']['findClip'](_0x4486a9['name']),_0x40a637&&(_0x40a637['blendWeigh'+'t']=_0x4486a9['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x195b1e=this['activeStat'+'e'];for(let _0x18bd0e=-0x1283+0x11*-0x12e+0x449*0x9;_0x18bd0e<_0x195b1e['animations']['length'];_0x18bd0e++)_0x4486a9=_0x195b1e['animations'][_0x18bd0e],_0x40a637=this['_animEvalu'+'ator']['findClip'](_0x4486a9['name']),_0x40a637&&(_0x40a637['blendWeigh'+'t']=_0x4486a9['normalized'+'Weight'],_0x4486a9['parent']['syncAnimat'+'ions']&&(_0x40a637['speed']=_0x4486a9['speed']));}}this['_animEvalu'+'ator']['update'](_0x5a8c21,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new W(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0x443bec,_0x178559,_0x2911f5,_0x5c45b0,_0x2873c2){super(_0x178559),this['animCompon'+'ent']=_0x443bec,this['_mask']=_0x5c45b0,this['layerName']=_0x2911f5,this['layerIndex']=_0x2873c2;}static['_packFloat'](_0x168847){return _0x168847[0x248a+0x5*0x703+0x4799*-0x1];}static['_packBoole'+'an'](_0xefebdd){return!!_0xefebdd[-0x1*-0x1b3c+0x15bb+-0x6d*0x73];}static['_packVec2'](_0x463fa9){return Yd['x']=_0x463fa9[0x1dba+-0x1ec8+0xf*0x12],Yd['y']=_0x463fa9[0x21b5+0xb5*-0x4+-0x1ee0],Yd;}static['_packVec3'](_0x12af5d){return ql['x']=_0x12af5d[-0x474+-0x1*0xcd1+0x1145*0x1],ql['y']=_0x12af5d[-0x38e+-0x2f*-0x86+-0x150b],ql['z']=_0x12af5d[0x254f*0x1+-0x15b6+0xd*-0x133],ql;}static['_packVec4'](_0x253b22){return Ja['x']=_0x253b22[0x7b4*-0x5+0xfb9+0x799*0x3],Ja['y']=_0x253b22[-0xa1c+0xab*-0xf+0x3*0x6b6],Ja['z']=_0x253b22[-0x1381+-0x23f5+0x3778],Ja['w']=_0x253b22[-0xb*0x78+-0x88*-0x25+-0x1*0xe7d],Ja;}static['_packColor'](_0x272034){return eo['r']=_0x272034[0x2652+0x1533+0x9*-0x69d],eo['g']=_0x272034[0xf44+-0x1d25*0x1+0xde2],eo['b']=_0x272034[0x18*0x189+0x2*-0xbd2+0x2*-0x699],eo['a']=_0x272034[0x379+-0x1aaa*-0x1+-0x1e20],eo;}static['_packQuat'](_0x133213){return to['x']=_0x133213[0x2*0x4b1+0x1367+-0x1cc9],to['y']=_0x133213[0x3c3*-0x9+-0x3c8+0x25a4],to['z']=_0x133213[0xeb4+0x1*-0x1e36+0xf84],to['w']=_0x133213[0xef4+0xfd1*-0x1+0x10*0xe],to;}['resolve'](_0x499796){const _0x3a4d42=qr['encode'](_0x499796['entityPath'],_0x499796['component'],_0x499796['propertyPa'+'th']);let _0x344797=this['targetCach'+'e'][_0x3a4d42];if(_0x344797)return _0x344797;let _0x2c5a96,_0x28aa88,_0x2bc66f;switch(_0x499796['component']){case'entity':_0x2c5a96=this['_getEntity'+'FromHierar'+'chy'](_0x499796['entityPath']),_0x2bc66f=qr['encode'](_0x2c5a96['path'],'entity',_0x499796['propertyPa'+'th']),_0x28aa88=_0x2c5a96;break;case'graph':if(_0x28aa88=this['findNode'](_0x499796),!_0x28aa88)return null;_0x2bc66f=qr['encode'](_0x28aa88['path'],'graph',_0x499796['propertyPa'+'th']);break;default:if(_0x2c5a96=this['_getEntity'+'FromHierar'+'chy'](_0x499796['entityPath']),_0x28aa88=_0x2c5a96['findCompon'+'ent'](_0x499796['component']),!_0x28aa88)return null;_0x2bc66f=qr['encode'](_0x2c5a96['path'],_0x499796['component'],_0x499796['propertyPa'+'th']);break;}return _0x344797=this['_createAni'+'mTargetFor'+'Property'](_0x28aa88,_0x499796['propertyPa'+'th'],_0x2bc66f),this['targetCach'+'e'][_0x3a4d42]=_0x344797,_0x344797;}['update'](_0x30b51c){const _0x36848e=this['activeNode'+'s'];if(_0x36848e){for(let _0x57b049=0x2008+0x130c+-0x3314;_0x57b049<_0x36848e['length'];_0x57b049++)_0x36848e[_0x57b049]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x412647){if(!this['animCompon'+'ent']['entity']['name']===_0x412647[0x52a*0x5+-0x1a79+0xa7*0x1])return null;const _0x56664f=this['animCompon'+'ent']['entity'];return _0x412647['length']===0x42d+0x979+0xda5*-0x1?_0x56664f:_0x56664f['_parent']['findByPath'](_0x412647);}['_resolvePa'+'th'](_0x40edcc,_0xa619e,_0x3a3dd8){const _0x56e261=_0xa619e['length']-(_0x3a3dd8?-0x1c23+0x1216+0xa0d:0x14*0x101+-0x12f6+0x13*-0xf);for(let _0x18ba7f=0x1f9a+-0xd*0xba+-0x1628;_0x18ba7f<_0x56e261;_0x18ba7f++)_0x40edcc=_0x40edcc[_0xa619e[_0x18ba7f]];return _0x40edcc;}['_setter'](_0x5f1f57,_0x2254fd,_0x390791){const _0x364885=this['_resolvePa'+'th'](_0x5f1f57,_0x2254fd),_0x2ac9c4=_0x2254fd[_0x2254fd['length']-(0xe48+-0x36a+-0xadd)],_0x296072='set'+_0x2ac9c4['substring'](0x152*-0x6+-0x3f5*-0x9+-0x1a1*0x11,-0x3f*-0x25+-0x24e*-0x3+-0x1004)['toUpperCas'+'e']()+_0x2ac9c4['substring'](0x8*0x14b+-0x1d1f+0x964*0x2);if(_0x364885[_0x296072]){let _0x31b332=_0x364885['get'+_0x2ac9c4['substring'](0x290+-0xdc*-0x13+-0x12e4,-0x83*-0x6+-0x1*0x12c3+0xfb2)['toUpperCas'+'e']()+_0x2ac9c4['substring'](-0x100a+-0x245c+0x3467)]['bind'](_0x364885)();_0x31b332=[_0x31b332['x'],_0x31b332['y'],_0x31b332['z'],_0x31b332['w']];const _0x9fe6d7=_0x364885[_0x296072]['bind'](_0x364885);return{'set':_0x115333=>{_0x9fe6d7(_0x390791(_0x115333));},'get':()=>_0x31b332};}const _0x4b2ab1=_0x364885[_0x2ac9c4];if(typeof _0x4b2ab1=='object'&&_0x4b2ab1['hasOwnProp'+'erty']('copy'))return function(_0x5265fb){_0x4b2ab1['copy'](_0x390791(_0x5265fb));};if([W,T,Q,Y,se]['indexOf'](_0x364885['constructo'+'r'])!==-(-0x1d49+-0x680+-0x12*-0x1fd)&&_0x2254fd['length']>-0x7*0x173+0x1*0xa44+-0x1e){const _0x1fa875=_0x2254fd['length']>0x1a5b+-0xc7*-0xf+-0x2602?this['_resolvePa'+'th'](_0x5f1f57,_0x2254fd['slice'](-0x1*0xb1b+-0x18c2+-0x1*-0x23dd,-(-0x26ba+-0x1*0xc91+0x334c))):_0x5f1f57,_0x4ebaf4=_0x2254fd[_0x2254fd['length']-(-0x4b*-0x29+0x12f9+0x82*-0x3d)];return function(_0x461789){_0x364885[_0x2ac9c4]=_0x390791(_0x461789),_0x1fa875[_0x4ebaf4]=_0x364885;};}return function(_0xac02ed){_0x364885[_0x2ac9c4]=_0x390791(_0xac02ed);};}['_createAni'+'mTargetFor'+'Property'](_0x3e9967,_0x48252f,_0x325f41){if(this['handlers']&&_0x48252f[-0x563*0x2+0x1f*0x8d+-0x64d]['startsWith']('weight.'))return this['handlers']['weight'](_0x3e9967,_0x48252f[0x214+-0x1*-0x63d+-0x851]['replace']('weight.',''));if(this['handlers']&&_0x48252f[-0x3b*0x6+-0x1b6d*0x1+-0x1ccf*-0x1]==='material'&&_0x48252f['length']===-0x143e+0x99+0x2b*0x75){const _0x56c291=_0x48252f[0x25*0x41+-0x77d+-0x1*0x1e7];if(_0x56c291['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x3e9967,_0x56c291);}const _0x3a16ce=this['_resolvePa'+'th'](_0x3e9967,_0x48252f,!(-0x3*0x46b+0xf97+-0x2*0x12b));if(typeof _0x3a16ce>'u')return null;let _0x255625,_0x26c77b,_0x1c2e33;if(typeof _0x3a16ce=='number')_0x255625=this['_setter'](_0x3e9967,_0x48252f,mi['_packFloat']),_0x26c77b='vector',_0x1c2e33=0x9d*0x33+-0xb3d+0x1409*-0x1;else{if(typeof _0x3a16ce=='boolean')_0x255625=this['_setter'](_0x3e9967,_0x48252f,mi['_packBoole'+'an']),_0x26c77b='vector',_0x1c2e33=-0x1*0x24f5+-0x1*-0x23d8+0xb*0x1a;else{if(typeof _0x3a16ce=='object')switch(_0x3a16ce['constructo'+'r']){case W:_0x255625=this['_setter'](_0x3e9967,_0x48252f,mi['_packVec2']),_0x26c77b='vector',_0x1c2e33=-0x1503+-0x1130+0x2635;break;case T:_0x255625=this['_setter'](_0x3e9967,_0x48252f,mi['_packVec3']),_0x26c77b='vector',_0x1c2e33=-0x21d*0x12+0x821*-0x1+0x17*0x202;break;case Q:_0x255625=this['_setter'](_0x3e9967,_0x48252f,mi['_packVec4']),_0x26c77b='vector',_0x1c2e33=0x1434+0x1c21+-0x15*0x24d;break;case Y:_0x255625=this['_setter'](_0x3e9967,_0x48252f,mi['_packColor']),_0x26c77b='vector',_0x1c2e33=0x2*0xc11+0xb31*-0x3+0x975;break;case se:_0x255625=this['_setter'](_0x3e9967,_0x48252f,mi['_packQuat']),_0x26c77b='quaternion',_0x1c2e33=0x2392+-0x8*-0x408+0xb*-0x62a;break;default:return null;}}}return _0x48252f['indexOf']('material')!==-(0x1*-0xd9+0x17b*-0x17+0x5*0x6fb)?new Zu(_0x2e4961=>{_0x255625(_0x2e4961),_0x3e9967['material']['update']();},_0x26c77b,_0x1c2e33,_0x325f41):new Zu(_0x255625,_0x26c77b,_0x1c2e33,_0x325f41);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x14bd4a={},_0x5e0271=function(_0x5cb1cd){_0x14bd4a[_0x5cb1cd['name']]=_0x5cb1cd;for(let _0x10b8fa=0x2*-0xf0b+0x67d+0x1799;_0x10b8fa<_0x5cb1cd['children']['length'];++_0x10b8fa)_0x5e0271(_0x5cb1cd['children'][_0x10b8fa]);};_0x5e0271(this['graph']),this['nodes']=_0x14bd4a;}}class WP{constructor(_0x4299df,_0x1e82a1,_0x595b93,_0x231821=-0x1a9+-0x73f+0x8e9,_0x4964fe=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',0x1e6c*0x1+0xd69+-0x2bd5*0x1),c(this,'_blendTime'+'Elapsed',-0x659+0x1*0x252d+-0x4*0x7b5),c(this,'_startingW'+'eight',-0xd5f*0x1+-0x1626+0x2385),c(this,'_targetWei'+'ght',-0x77e+-0x98e+0x1*0x110c),(this['_name']=_0x4299df,this['_controlle'+'r']=_0x1e82a1,this['_component']=_0x595b93,this['_weight']=_0x231821,this['_blendType']=_0x4964fe);}get['name'](){return this['_name'];}set['playing'](_0x4c54ac){this['_controlle'+'r']['playing']=_0x4c54ac;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x2ef436){const _0x3988bb=this['_controlle'+'r'],_0x5796b7=_0x3988bb['playing'];_0x3988bb['playing']=!(-0x1f44+-0x22cb*0x1+-0x1*-0x420f),_0x3988bb['activeStat'+'eCurrentTi'+'me']=_0x2ef436,_0x5796b7||_0x3988bb['update'](-0x1ef+-0x9ad*-0x1+-0x7be),_0x3988bb['playing']=_0x5796b7;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x23714c){this['_weight']=_0x23714c,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x234bea){_0x234bea!==this['_blendType']&&(this['_blendType']=_0x234bea,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x1aef31){this['_controlle'+'r']['assignMask'](_0x1aef31)&&this['_component']['rebind'](),this['_mask']=_0x1aef31;}get['mask'](){return this['_mask'];}['play'](_0xe9cdfa){this['_controlle'+'r']['play'](_0xe9cdfa);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x29d30c){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x29d30c):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0xac3+0x9c0+0x103,this['_blendTime'+'Elapsed']=-0x4*0x133+-0x743*0x3+0x1a95,this['_startingW'+'eight']=-0xea7*-0x1+0x33*0x7e+-0x27c1,this['_targetWei'+'ght']=-0x2167+0x1370+0xdf7)),this['_controlle'+'r']['update'](_0x29d30c);}['blendToWei'+'ght'](_0x533cec,_0x20554d){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x533cec,this['_blendTime']=Math['max'](-0x194*-0x2+0x1393*0x1+-0x16bb,_0x20554d),this['_blendTime'+'Elapsed']=-0xad8+0x35*0x25+0x32f;}['assignAnim'+'ation'](_0x516530,_0x1c6070,_0x18d10a,_0x1d2493){if(!(_0x1c6070 instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x516530,_0x1c6070,_0x18d10a,_0x1d2493),this['_controlle'+'r']['_transitio'+'ns']['length']===0x1*0x1457+0xf3*-0xe+-0x5*0x169&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x516530})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0x1a25+0x1*-0x18f3+-0x132));}['removeNode'+'Animations'](_0x4ea6ec){this['_controlle'+'r']['removeNode'+'Animations'](_0x4ea6ec)&&(this['_component']['playing']=!(0x2284+-0x5*0x2f9+-0x13a6));}['getAnimati'+'onAsset'](_0x2ac1c4){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x2ac1c4];}['transition'](_0x498e54,_0x4e5309=0x22be+-0x20*-0x29+-0x27de,_0x18b134=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x498e54,'time':_0x4e5309,'transitionOffset':_0x18b134}));}}class mh{constructor(_0x98034e){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x98034e['layers']))this['_layers']=_0x98034e['layers'];else for(const _0x4c7d76 in _0x98034e['layers']){const _0x425a2e=_0x98034e['layers'][_0x4c7d76],_0x5a2a2c={'name':_0x425a2e['name'],'blendType':_0x425a2e['blendType'],'weight':_0x425a2e['weight'],'states':[],'transitions':[]};for(let _0x5e6156=0x2071*-0x1+-0x589+0x25fa;_0x5e6156<_0x425a2e['states']['length'];_0x5e6156++)_0x5a2a2c['states']['push'](_0x98034e['states'][_0x425a2e['states'][_0x5e6156]]);for(let _0x4d4292=-0x1*0x14db+0x1e7*-0x1+0x16c2;_0x4d4292<_0x425a2e['transition'+'s']['length'];_0x4d4292++){const _0x12c51b=_0x98034e['transition'+'s'][_0x425a2e['transition'+'s'][_0x4d4292]];if(_0x12c51b['conditions']&&!Array['isArray'](_0x12c51b['conditions'])){const _0x138992=Object['keys'](_0x12c51b['conditions']),_0x14cb40=[];for(let _0x564070=-0xd55*-0x1+-0xa86+-0x2cf;_0x564070<_0x138992['length'];_0x564070++){const _0x2c8b56=_0x12c51b['conditions'][_0x138992[_0x564070]];_0x2c8b56['parameterN'+'ame']&&_0x14cb40['push'](_0x2c8b56);}_0x12c51b['conditions']=_0x14cb40;}Number['isInteger'](_0x12c51b['from'])&&(_0x12c51b['from']=_0x98034e['states'][_0x12c51b['from']]['name']),Number['isInteger'](_0x12c51b['to'])&&(_0x12c51b['to']=_0x98034e['states'][_0x12c51b['to']]['name']),_0x5a2a2c['transition'+'s']['push'](_0x12c51b);}this['_layers']['push'](_0x5a2a2c);}for(const _0x257cf2 in _0x98034e['parameters']){const _0x5b59a2=_0x98034e['parameters'][_0x257cf2];this['_parameter'+'s'][_0x5b59a2['name']]={'type':_0x5b59a2['type'],'value':_0x5b59a2['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',0x16*-0x24+-0x1804+0x1b1d),c(this,'_activate',!(-0xeee+-0x91*-0x13+0x42b)),c(this,'_playing',!(0x121e+-0x595+0x322*-0x4)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(-0x6*-0x434+-0xfc3+-0x974)),c(this,'findParame'+'ter',_0x4de191=>this['_parameter'+'s'][_0x4de191]),c(this,'consumeTri'+'gger',_0x120e26=>{this['_consumedT'+'riggers']['add'](_0x120e26);});}set['stateGraph'+'Asset'](_0xd070c){if(_0xd070c===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x174d49,_0x3398af;_0xd070c instanceof le?(_0x174d49=_0xd070c['id'],_0x3398af=this['system']['app']['assets']['get'](_0x174d49),_0x3398af||(this['system']['app']['assets']['add'](_0xd070c),_0x3398af=this['system']['app']['assets']['get'](_0x174d49))):(_0x174d49=_0xd070c,_0x3398af=this['system']['app']['assets']['get'](_0x174d49)),!(!_0x3398af||this['_stateGrap'+'hAsset']===_0x174d49)&&(_0x3398af['resource']?(this['_stateGrap'+'h']=_0x3398af['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x3398af['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x3398af['once']('load',_0x3fbd6e=>{this['_stateGrap'+'h']=_0x3fbd6e['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x3398af['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x3398af)),this['_stateGrap'+'hAsset']=_0x174d49);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x76df86){this['_normalize'+'Weights']=_0x76df86,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x18909a){this['_animation'+'Assets']=_0x18909a,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x1c92f5){this['_speed']=_0x1c92f5;}get['speed'](){return this['_speed'];}set['activate'](_0x4d0d4a){this['_activate']=_0x4d0d4a;}get['activate'](){return this['_activate'];}set['playing'](_0x319a11){this['_playing']=_0x319a11;}get['playing'](){return this['_playing'];}set['rootBone'](_0x38c7a2){if(typeof _0x38c7a2=='string'){const _0x416523=this['entity']['root']['findByGuid'](_0x38c7a2);v['assert'](_0x416523,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x38c7a2+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x416523;}else _0x38c7a2 instanceof We?this['_rootBone']=_0x38c7a2:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0xe96e10){this['_stateGrap'+'h']=_0xe96e10;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x3462d8){this['_layerIndi'+'ces']=_0x3462d8;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x21f0c7){this['_parameter'+'s']=_0x21f0c7;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x17466b){this['_targets']=_0x17466b;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x5732fd=0xac*-0x23+0xe7b*-0x1+0x25ff;_0x5732fd<this['_layers']['length'];_0x5732fd++)if(!this['_layers'][_0x5732fd]['playable'])return!(0x2*0xdd3+-0x1af9+-0xac);return!(-0xf7c*-0x1+-0x47+0xe5*-0x11);}get['baseLayer'](){return this['_layers']['length']>-0x2*-0x4c+0xf4*-0x1c+0xa*0x29c?this['_layers'][0x1509+-0xb*-0x16b+-0x24a2]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x4ab63a){const _0x1a30e9=this['animationA'+'ssets'],_0xedfadd=this['layers']['map'](_0x16ed7f=>_0x16ed7f['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x4ab63a['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x1a30e9,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x300785,_0x378b8f)=>{_0x300785['mask']=_0xedfadd[_0x378b8f];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x426ccf=Object['values'](this['_targets']);for(let _0x1c33f5=0x1c9*-0x1+-0x1*-0x17cb+-0xb01*0x2;_0x1c33f5<_0x426ccf['length'];_0x1c33f5++)_0x426ccf[_0x1c33f5]['dirty']=!(-0x1*-0x193e+0x1c33+-0x1*0x3571);}['_addLayer']({name:_0x2a9e25,states:_0x285e62,transitions:_0xeac5b8,weight:_0xad0f99,mask:_0x392cbc,blendType:_0x1bb248}){let _0x2302fc;this['rootBone']?_0x2302fc=this['rootBone']:_0x2302fc=this['entity'];const _0x2b0ed1=this['_layers']['length'],_0x5b713a=new mi(this,_0x2302fc,_0x2a9e25,_0x392cbc,_0x2b0ed1),_0x4cd2dd=new j0(_0x5b713a),_0x4cc60f=new HP(_0x4cd2dd,_0x285e62,_0xeac5b8,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new WP(_0x2a9e25,_0x4cc60f,this,_0xad0f99,_0x1bb248)),this['_layerIndi'+'ces'][_0x2a9e25]=_0x2b0ed1,this['_layers'][_0x2b0ed1];}['addLayer'](_0x38ffb7,_0x27f304,_0x3ce449,_0x3b6d60){const _0x383a7b=this['findAnimat'+'ionLayer'](_0x38ffb7);if(_0x383a7b)return _0x383a7b;const _0x43c75a=[{'name':'START','speed':0x1}],_0x3cc591=[];return this['_addLayer']({'name':_0x38ffb7,'states':_0x43c75a,'transitions':_0x3cc591,'weight':_0x27f304,'mask':_0x3ce449,'blendType':_0x3b6d60});}['_assignPar'+'ameters'](_0x3845dc){this['_parameter'+'s']={};const _0x2b2b87=Object['keys'](_0x3845dc['parameters']);for(let _0x5714ef=-0xf60+0x5*-0x5d2+0x2c7a;_0x5714ef<_0x2b2b87['length'];_0x5714ef++){const _0x333101=_0x2b2b87[_0x5714ef];this['_parameter'+'s'][_0x333101]={'type':_0x3845dc['parameters'][_0x333101]['type'],'value':_0x3845dc['parameters'][_0x333101]['value']};}}['loadStateG'+'raph'](_0x35e46b){this['_stateGrap'+'h']=_0x35e46b,this['_assignPar'+'ameters'](_0x35e46b),this['_layers']=[];let _0xd583c6=!(0x260c+-0x1a*-0x89+-0x33f5);for(let _0x317f86=-0x1*0xe1c+-0x1*0xa8d+-0x18a9*-0x1;_0x317f86<_0x35e46b['layers']['length'];_0x317f86++){const _0x240df2=_0x35e46b['layers'][_0x317f86];this['_addLayer']({..._0x240df2}),_0x240df2['states']['some'](_0x51cf22=>_0x51cf22['blendTree'])&&(_0xd583c6=!(-0x2b*0x53+0xccd+0x124*0x1));}_0xd583c6||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x4c7aa1=-0x20ce*0x1+0x988*0x4+-0x552;_0x4c7aa1<this['_layers']['length'];_0x4c7aa1++){const _0x888725=this['_layers'][_0x4c7aa1],_0x4e3a70=_0x888725['name'];for(let _0x4c12da=0xced*-0x3+0x32e+-0x2399*-0x1;_0x4c12da<_0x888725['states']['length'];_0x4c12da++){const _0x57650d=_0x888725['states'][_0x4c12da];if(jh['indexOf'](_0x57650d)===-(-0x56b+0x3*-0x1b1+0xa7f)){const _0x5c05fe=_0x4e3a70+':'+_0x57650d;this['_animation'+'Assets'][_0x5c05fe]||(this['_animation'+'Assets'][_0x5c05fe]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x23d995=0x23b+-0x233a+0x20ff;_0x23d995<this['_layers']['length'];_0x23d995++){const _0x1f16e1=this['_layers'][_0x23d995];for(let _0x487a1a=0x185*0xd+0x1*-0x16bc+0x2fb;_0x487a1a<_0x1f16e1['states']['length'];_0x487a1a++){const _0x46aaf9=_0x1f16e1['states'][_0x487a1a];if(jh['indexOf'](_0x46aaf9)!==-(0x53a*-0x1+-0xfa5+0x4*0x538))continue;const _0x281db5=this['_animation'+'Assets'][_0x1f16e1['name']+':'+_0x46aaf9];if(!_0x281db5||!_0x281db5['asset']){this['findAnimat'+'ionLayer'](_0x1f16e1['name'])['assignAnim'+'ation'](_0x46aaf9,Ri['EMPTY']);continue;}const _0x18baf5=_0x281db5['asset'],_0x5d9605=this['system']['app']['assets']['get'](_0x18baf5);_0x5d9605&&(_0x5d9605['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x1f16e1['name'],_0x46aaf9,_0x5d9605):(_0x5d9605['once']('load',function(_0x186fa6,_0x2a4d85){return function(_0x235382){this['onAnimatio'+'nAssetLoad'+'ed'](_0x186fa6,_0x2a4d85,_0x235382);}['bind'](this);}['bind'](this)(_0x1f16e1['name'],_0x46aaf9)),this['system']['app']['assets']['load'](_0x5d9605)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0xa26a8f,_0x450140,_0x434c8b){this['findAnimat'+'ionLayer'](_0xa26a8f)['assignAnim'+'ation'](_0x450140,_0x434c8b['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x645*-0x4+0x6a0+-0x657*0x5),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x416c8a=-0x4*-0x7eb+0x8c8+-0x6*0x6be;_0x416c8a<this['_layers']['length'];_0x416c8a++){const _0x308bec=this['_layers'][_0x416c8a]['playing'];this['_layers'][_0x416c8a]['reset'](),this['_layers'][_0x416c8a]['playing']=_0x308bec;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x377f57=>{this['_targets'][_0x377f57]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x4f74d2=-0x14*-0x1d3+-0x1470+-0x100c;_0x4f74d2<this['_layers']['length'];_0x4f74d2++)this['_layers'][_0x4f74d2]['rebind']();}['findAnimat'+'ionLayer'](_0x54dcf1){const _0x5272a0=this['_layerIndi'+'ces'][_0x54dcf1];return this['_layers'][_0x5272a0]||null;}['addAnimati'+'onState'](_0x537cd5,_0x50ed31,_0x345b8b=-0x1607+-0xed*-0x12+0x55e,_0x4d9de0=!(-0x70*-0x43+0x9b*0x2e+0x9*-0x65a),_0x92ad8d='Base'){var _0x4ebc92;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x92ad8d,'states':[{'name':'START','speed':0x1},{'name':_0x537cd5,'speed':_0x345b8b,'loop':_0x4d9de0,'defaultState':!(0x773*-0x5+-0x199c+-0x1*-0x3edb)}],'transitions':[{'from':'START','to':_0x537cd5}]}],'parameters':{}}));const _0x577bc1=this['findAnimat'+'ionLayer'](_0x92ad8d);_0x577bc1?_0x577bc1['assignAnim'+'ation'](_0x537cd5,_0x50ed31,_0x345b8b,_0x4d9de0):(_0x4ebc92=this['addLayer'](_0x92ad8d))==null||_0x4ebc92['assignAnim'+'ation'](_0x537cd5,_0x50ed31,_0x345b8b,_0x4d9de0);}['assignAnim'+'ation'](_0xe5ab8,_0x57efd5,_0x5c98f5,_0x4c9d53=-0x15*-0x17b+-0x79d+-0x1779,_0x103703=!(0x31*-0x74+0x1*0x15c7+-0x6d*-0x1)){if(!this['_stateGrap'+'h']&&_0xe5ab8['indexOf']('.')===-(0xc*0x97+-0x16da+0xfc7)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0xe5ab8,'speed':_0x4c9d53,'loop':_0x103703,'defaultState':!(-0x18d4+0x18d9*-0x1+0x3*0x108f)}],'transitions':[{'from':'START','to':_0xe5ab8}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0xe5ab8,_0x57efd5);return;}const _0x154792=_0x5c98f5?this['findAnimat'+'ionLayer'](_0x5c98f5):this['baseLayer'];if(!_0x154792){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x154792['assignAnim'+'ation'](_0xe5ab8,_0x57efd5,_0x4c9d53,_0x103703);}['removeNode'+'Animations'](_0x3f6b49,_0x4498f2){const _0xdd702c=_0x4498f2?this['findAnimat'+'ionLayer'](_0x4498f2):this['baseLayer'];if(!_0xdd702c){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0xdd702c['removeNode'+'Animations'](_0x3f6b49);}['getParamet'+'erValue'](_0x30279d,_0x503b1e){const _0x4fbb75=this['_parameter'+'s'][_0x30279d];if(_0x4fbb75&&_0x4fbb75['type']===_0x503b1e)return _0x4fbb75['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x30279d+('\x22\x20of\x20type\x20'+'\x22')+_0x503b1e+'\x22');}['setParamet'+'erValue'](_0x53d895,_0x1c6305,_0x28d48c){const _0x53ffb6=this['_parameter'+'s'][_0x53d895];if(_0x53ffb6&&_0x53ffb6['type']===_0x1c6305){_0x53ffb6['value']=_0x28d48c;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x53d895+('\x22\x20of\x20type\x20'+'\x22')+_0x1c6305+'\x22');}['getFloat'](_0x21c9aa){return this['getParamet'+'erValue'](_0x21c9aa,Q_);}['setFloat'](_0x200e80,_0x489a6b){this['setParamet'+'erValue'](_0x200e80,Q_,_0x489a6b);}['getInteger'](_0x1ff8ac){return this['getParamet'+'erValue'](_0x1ff8ac,Z_);}['setInteger'](_0x15d0b9,_0x1aa2ec){typeof _0x1aa2ec=='number'&&_0x1aa2ec%(-0x1866+-0x156f+0x2dd6)===0x1*-0x1519+-0x1*0x308+-0x80b*-0x3?this['setParamet'+'erValue'](_0x15d0b9,Z_,_0x1aa2ec):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x15d0b9,_0x1aa2ec);}['getBoolean'](_0x503669){return this['getParamet'+'erValue'](_0x503669,J_);}['setBoolean'](_0x5065b2,_0x3d0e80){this['setParamet'+'erValue'](_0x5065b2,J_,!!_0x3d0e80);}['getTrigger'](_0x1ebb10){return this['getParamet'+'erValue'](_0x1ebb10,ph);}['setTrigger'](_0x35988d,_0x11159e=!(-0x16*0xd0+-0x2412+0x7*0x7b5)){this['setParamet'+'erValue'](_0x35988d,ph,!(-0x24de+0x57b+-0x5*-0x647)),_0x11159e&&this['_consumedT'+'riggers']['add'](_0x35988d);}['resetTrigg'+'er'](_0x211bc2){this['setParamet'+'erValue'](_0x211bc2,ph,!(0x1*0x7eb+0x2294+-0x2a7e));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x3b8a12){for(let _0x267788=0x7db+0xba*0x11+-0x1435;_0x267788<this['layers']['length'];_0x267788++)this['layers'][_0x267788]['update'](_0x3b8a12*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x1c6da9=>{this['parameters'][_0x1c6da9]['value']=!(-0x2*-0xc68+0xba3*0x1+0x613*-0x6);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x205d48,_0x152116){_0x205d48['rootBone']&&_0x152116[_0x205d48['rootBone']['getGuid']()]?this['rootBone']=_0x152116[_0x205d48['rootBone']['getGuid']()]:this['rebind']();}}class $P{constructor(){this['enabled']=!(-0x642+-0x2393*0x1+0x29d5);}}const tf=['enabled'];class qP extends Xe{constructor(_0x4aa3a9){super(_0x4aa3a9),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=$P,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x429949,_0x50adc8,_0xe1f76d){super['initialize'+'ComponentD'+'ata'](_0x429949,_0x50adc8,tf);const _0x266657=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x50adc8)['forEach'](_0x27128d=>{_0x266657['includes'](_0x27128d)||(_0x429949[_0x27128d]=_0x50adc8[_0x27128d]);}),_0x50adc8['stateGraph']&&(_0x429949['stateGraph']=_0x50adc8['stateGraph'],_0x429949['loadStateG'+'raph'](_0x429949['stateGraph'])),_0x50adc8['layers']&&_0x50adc8['layers']['forEach']((_0x5d47ca,_0x1dcae0)=>{_0x5d47ca['_controlle'+'r']['states']['forEach'](_0x4407c8=>{_0x5d47ca['_controlle'+'r']['_states'][_0x4407c8]['_animation'+'List']['forEach'](_0x3db7e1=>{if(!_0x3db7e1['animTrack']||_0x3db7e1['animTrack']===Ri['EMPTY']){const _0x502dc3=this['app']['assets']['get'](_0x5d47ca['_component']['_animation'+'Assets'][_0x5d47ca['name']+':'+_0x3db7e1['name']]['asset']);_0x502dc3&&!_0x502dc3['loaded']&&_0x502dc3['once']('load',()=>{_0x429949['layers'][_0x1dcae0]['assignAnim'+'ation'](_0x3db7e1['name'],_0x502dc3['resource']);});}else _0x429949['layers'][_0x1dcae0]['assignAnim'+'ation'](_0x3db7e1['name'],_0x3db7e1['animTrack']);});});}),_0x50adc8['animationA'+'ssets']&&(_0x429949['animationA'+'ssets']=Object['assign'](_0x429949['animationA'+'ssets'],_0x50adc8['animationA'+'ssets'])),_0x50adc8['masks']&&Object['keys'](_0x50adc8['masks'])['forEach'](_0x525b03=>{if(_0x429949['layers'][_0x525b03]){const _0x19f0c1=_0x50adc8['masks'][_0x525b03]['mask'],_0x4f4639={};Object['keys'](_0x19f0c1)['forEach'](_0x742d10=>{_0x4f4639[decodeURI(_0x742d10)]=_0x19f0c1[_0x742d10];}),_0x429949['layers'][_0x525b03]['mask']=_0x4f4639;}});}['onAnimatio'+'nUpdate'](_0x5e7737){const _0x1e7094=this['store'];for(const _0x304111 in _0x1e7094)if(_0x1e7094['hasOwnProp'+'erty'](_0x304111)){const _0x35751c=_0x1e7094[_0x304111]['entity']['anim'];_0x35751c['data']['enabled']&&_0x35751c['entity']['enabled']&&_0x35751c['playing']&&_0x35751c['update'](_0x5e7737);}}['cloneCompo'+'nent'](_0x4d7477,_0x1c581d){let _0x138429;(!_0x4d7477['anim']['rootBone']||_0x4d7477['anim']['rootBone']===_0x4d7477)&&(_0x138429={},_0x4d7477['anim']['layers']['forEach']((_0x55ba72,_0x3548ba)=>{if(_0x55ba72['mask']){const _0x23a222={};Object['keys'](_0x55ba72['mask'])['forEach'](_0x55483c=>{const _0x3bf2ea=_0x55483c['split']('/');_0x3bf2ea['shift']();const _0x367103=[_0x1c581d['name'],..._0x3bf2ea]['join']('/');_0x23a222[_0x367103]=_0x55ba72['mask'][_0x55483c];}),_0x138429[_0x3548ba]={'mask':_0x23a222};}}));const _0x7ad68a={'enabled':_0x4d7477['anim']['enabled'],'stateGraphAsset':_0x4d7477['anim']['stateGraph'+'Asset'],'animationAssets':_0x4d7477['anim']['animationA'+'ssets'],'speed':_0x4d7477['anim']['speed'],'activate':_0x4d7477['anim']['activate'],'playing':_0x4d7477['anim']['playing'],'rootBone':_0x4d7477['anim']['rootBone'],'stateGraph':_0x4d7477['anim']['stateGraph'],'layers':_0x4d7477['anim']['layers'],'layerIndices':_0x4d7477['anim']['layerIndic'+'es'],'parameters':_0x4d7477['anim']['parameters'],'normalizeWeights':_0x4d7477['anim']['normalizeW'+'eights'],'masks':_0x138429};return this['addCompone'+'nt'](_0x1c581d,_0x7ad68a);}['onBeforeRe'+'move'](_0x49d3cb,_0x4205f3){_0x4205f3['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x399d0a=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x399d0a);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(-0x69*-0xd+-0xca7*-0x3+0x737*-0x6);}}const J0=['enabled'];class jP extends Xe{constructor(_0x2f34ea){super(_0x2f34ea),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x2f34ea['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x221c1a,_0x25da70,_0x18b8fc){_0x18b8fc=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x221c1a,_0x25da70,_0x18b8fc);}['onUpdate'](_0x11a366){if(this['current']){const _0x4e7209=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x4e7209);const _0x4f9b91=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x4f9b91);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=-0x20c5+0x23be+-0x2f9*0x1,tg=-0xa16*0x3+0xafd*0x1+0x1346,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x1cc8b1,_0x5a695f){super(_0x1cc8b1,_0x5a695f),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(0x1*-0xec3+0x13*0x8d+0x44d)),c(this,'_hoveringC'+'ounter',-0x1a4e+-0x7*0x107+0x5*0x6b3),c(this,'_isPressed',!(0x1*0x153e+-0xd3*-0x12+-0x2413)),c(this,'_defaultTi'+'nt',new Y(0x647*-0x1+0x143e*-0x1+-0x2*-0xd43,0x75*-0x9+0x1b5d+0x21d*-0xb,-0x6ad*-0x1+0x1*-0x47+-0x665,0x1f*0x2f+0x1*-0x1865+-0x1*-0x12b5)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',-0x1666+-0x49*-0x54+-0x18e),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(-0xdb9*-0x1+0x1d16+0x1*-0x2ace),this['_hoveringC'+'ounter']=0x3e6*0x8+0x2633*-0x1+-0x167*-0x5,this['_isPressed']=!(0x6a5+0x62f*0x6+0x1*-0x2bbe),this['_defaultTi'+'nt']=new Y(0x37*0x31+0x1*-0xa3+-0x9e3,0x98b+0x20bd+-0x2a47,-0x95*0x27+-0xe94+0x2548,-0x2481+-0xae0+-0x4bd*-0xa),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x8e*0x32+0x1*0x2529+0x7f*-0x13,this['_toggleLif'+'ecycleList'+'eners']('on',_0x1cc8b1));}get['data'](){const _0xc2a5cd=this['system']['store'][this['entity']['getGuid']()];return _0xc2a5cd?_0xc2a5cd['data']:null;}set['enabled'](_0x5bcd1e){this['_setValue']('enabled',_0x5bcd1e);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x34a9b1){this['_setValue']('active',_0x34a9b1);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x331a8a){if(this['_imageEnti'+'ty']!==_0x331a8a){const _0x3f4768=typeof _0x331a8a=='string';if(this['_imageEnti'+'ty']&&_0x3f4768&&this['_imageEnti'+'ty']['getGuid']()===_0x331a8a)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x331a8a instanceof De?this['_imageEnti'+'ty']=_0x331a8a:_0x3f4768?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x331a8a)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x3f4768&&_0x331a8a&&(this['data']['imageEntit'+'y']=_0x331a8a);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x2c5caa){this['_setValue']('hitPadding',_0x2c5caa);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x545188){this['_setValue']('transition'+'Mode',_0x545188);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x1ae443){this['_setValue']('hoverTint',_0x1ae443);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x2d6aee){this['_setValue']('pressedTin'+'t',_0x2d6aee);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x3f9504){this['_setValue']('inactiveTi'+'nt',_0x3f9504);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x216959){this['_setValue']('fadeDurati'+'on',_0x216959);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x166dd7){this['_setValue']('hoverSprit'+'eAsset',_0x166dd7);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x30792f){this['_setValue']('hoverSprit'+'eFrame',_0x30792f);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x3c3a30){this['_setValue']('pressedSpr'+'iteAsset',_0x3c3a30);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x547f63){this['_setValue']('pressedSpr'+'iteFrame',_0x547f63);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x16cf99){this['_setValue']('inactiveSp'+'riteAsset',_0x16cf99);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x51adb3){this['_setValue']('inactiveSp'+'riteFrame',_0x51adb3);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x47b2aa,_0x5ae45c){const _0x536681=this['data'],_0x5e7400=_0x536681[_0x47b2aa];_0x536681[_0x47b2aa]=_0x5ae45c,this['fire']('set',_0x47b2aa,_0x5e7400,_0x5ae45c);}['_toggleLif'+'ecycleList'+'eners'](_0x599eba,_0x425a76){var _0x245965;this[_0x599eba]('set_active',this['_onSetActi'+'ve'],this),this[_0x599eba]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x599eba]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x599eba]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x599eba]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x599eba]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x599eba]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x599eba]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x599eba]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x599eba]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x599eba]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x599eba==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x245965=this['_evtElemen'+'tAdd'])==null||_0x245965['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x1a8736,_0x4cb218,_0xe4f392){_0x4cb218!==_0xe4f392&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x27f3af,_0x2aee81,_0x491b81){_0x2aee81!==_0x491b81&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x2aee81),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x188dd6,_0x2e078c,_0x528961){_0x2e078c!==_0x528961&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x3d8953,_0x15c187;(_0x3d8953=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x3d8953['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x15c187=this['_imageEnti'+'ty'])!=null&&_0x15c187['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x289356=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x289356['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x289356['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x289356['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x289356['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x289356['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x472f08,_0x229f01,_0x243a56,_0x17cd3b,_0x4ac799;(_0x472f08=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x472f08['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x229f01=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x229f01['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x243a56=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x243a56['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x17cd3b=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x17cd3b['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x4ac799=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x4ac799['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x50d5ad){if(this['entity']['element']){const _0x101549=_0x50d5ad==='on';if(_0x101549&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x50d5ad]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x50d5ad]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x50d5ad]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x50d5ad]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x50d5ad]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x50d5ad]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x50d5ad]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x50d5ad]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x50d5ad]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x50d5ad]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x50d5ad]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x50d5ad]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x50d5ad]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x50d5ad]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x101549;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x857616;const _0x49605a=(_0x857616=this['_imageEnti'+'ty'])==null?void(-0x2e4+0x4*0x121+-0x1a0):_0x857616['element'];!_0x49605a||_0x49605a['type']===_h||(this['_storeDefa'+'ultColor'](_0x49605a['color']),this['_storeDefa'+'ultOpacity'](_0x49605a['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x49605a['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x49605a['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x505265){this['_defaultTi'+'nt']['r']=_0x505265['r'],this['_defaultTi'+'nt']['g']=_0x505265['g'],this['_defaultTi'+'nt']['b']=_0x505265['b'];}['_storeDefa'+'ultOpacity'](_0x3c5137){this['_defaultTi'+'nt']['a']=_0x3c5137;}['_storeDefa'+'ultSpriteA'+'sset'](_0x16d61b){this['_defaultSp'+'riteAsset']=_0x16d61b;}['_storeDefa'+'ultSpriteF'+'rame'](_0xca58b9){this['_defaultSp'+'riteFrame']=_0xca58b9;}['_onSetColo'+'r'](_0x204b9c){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x204b9c),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0xcd41d4){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0xcd41d4),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x14316b){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x14316b),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0xeb5c8a){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0xeb5c8a),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x2a023e){this['_isHoverin'+'g']=!(-0x15c5+-0x1b*0x63+0x2036),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x2a023e);}['_onMouseLe'+'ave'](_0x5bb54a){this['_isHoverin'+'g']=!(-0x8*-0x4d4+0x1*0x17+-0x26b6),this['_isPressed']=!(0x1*0x17e1+-0x455*0x3+-0x1*0xae1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x5bb54a);}['_onMouseDo'+'wn'](_0x5d412f){this['_isPressed']=!(-0x16c8+0xf94+0x4*0x1cd),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x5d412f);}['_onMouseUp'](_0x87bb32){this['_isPressed']=!(0x6b7*-0x5+-0x208f+0x4223),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x87bb32);}['_onTouchSt'+'art'](_0xe8d1b8){this['_isPressed']=!(-0xef3+0x149d+-0x5aa),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0xe8d1b8);}['_onTouchEn'+'d'](_0x159ccd){_0x159ccd['event']['preventDef'+'ault'](),this['_isPressed']=!(0xe9*0x29+0x347*0xb+-0x1*0x495d),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x159ccd);}['_onTouchLe'+'ave'](_0x347026){this['_isPressed']=!(-0x16fb*-0x1+0x3*-0x34b+-0x7*0x1df),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x347026);}['_onTouchCa'+'ncel'](_0x521253){this['_isPressed']=!(-0xb83+0x1f*-0x8b+0x1c59),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x521253);}['_onSelectS'+'tart'](_0x1bf38f){this['_isPressed']=!(-0x4*0xe9+-0xc23*-0x2+-0x14a2*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x1bf38f);}['_onSelectE'+'nd'](_0x4e2395){this['_isPressed']=!(0x82d+-0xd48+0x51c),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x4e2395);}['_onSelectE'+'nter'](_0xe81cf){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x25c1+-0x130f+0x21*-0x91&&(this['_isHoverin'+'g']=!(-0x630+-0x3f*-0x84+0x24*-0xbb),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0xe81cf);}['_onSelectL'+'eave'](_0x1080b9){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0xe03+-0x24c2+0x9*0x287&&(this['_isHoverin'+'g']=!(-0x4ff+-0x2*-0xee6+0x633*-0x4),this['_isPressed']=!(0xd1f+0xb13+-0x1831),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x1080b9);}['_onClick'](_0xcb9e08){this['_fireIfAct'+'ive']('click',_0xcb9e08);}['_fireIfAct'+'ive'](_0x5ba01e,_0xb34715){this['data']['active']&&this['fire'](_0x5ba01e,_0xb34715);}['_updateVis'+'ualState'](_0x4f7e1e){const _0x237a03=this['_visualSta'+'te'],_0x5b4aaf=this['_determine'+'VisualStat'+'e']();if((_0x237a03!==_0x5b4aaf||_0x4f7e1e)&&this['enabled'])switch(this['_visualSta'+'te']=_0x5b4aaf,_0x237a03===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x237a03===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x5b4aaf===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x5b4aaf===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x34ec83=hl[this['_visualSta'+'te']],_0x1b1290=this[_0x34ec83];this['_applyTint'](_0x1b1290);break;}case tg:{const _0x5759d1=cl[this['_visualSta'+'te']],_0x3056f0=dl[this['_visualSta'+'te']],_0x57c12b=this[_0x5759d1],_0x204356=this[_0x3056f0];this['_applySpri'+'te'](_0x57c12b,_0x204356);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x5*-0x6e5+0x23ac+-0x4625));}['_resetToDe'+'faultVisua'+'lState'](_0x426a94){var _0xb7a8dc;if((_0xb7a8dc=this['_imageEnti'+'ty'])!=null&&_0xb7a8dc['element'])switch(_0x426a94){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x43c1b9,_0x4f29c6){var _0x1f772b;const _0x5b4c7f=(_0x1f772b=this['_imageEnti'+'ty'])==null?void(-0xee7+0x1*0x13bd+0x1*-0x4d6):_0x1f772b['element'];_0x5b4c7f&&(_0x4f29c6=_0x4f29c6||0x2151*0x1+0x15ed+-0x373e,this['_isApplyin'+'gSprite']=!(-0x1200+0x1f70+-0xd70),_0x5b4c7f['spriteAsse'+'t']!==_0x43c1b9&&(_0x5b4c7f['spriteAsse'+'t']=_0x43c1b9),_0x5b4c7f['spriteFram'+'e']!==_0x4f29c6&&(_0x5b4c7f['spriteFram'+'e']=_0x4f29c6),this['_isApplyin'+'gSprite']=!(0x717+0xa05+-0x111b));}['_applyTint'](_0x155d53){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x29*-0x4e+-0x1852+-0x2*-0x5ea?this['_applyTint'+'Immediatel'+'y'](_0x155d53):this['_applyTint'+'WithTween'](_0x155d53);}['_applyTint'+'Immediatel'+'y'](_0x4edbf3){var _0x470ef2;const _0x3510cd=(_0x470ef2=this['_imageEnti'+'ty'])==null?void(-0xb*-0x207+-0x159b+-0xb2*0x1):_0x470ef2['element'];if(!_0x4edbf3||!_0x3510cd||_0x3510cd['type']===_h)return;const _0x333173=sg(_0x4edbf3);this['_isApplyin'+'gTint']=!(0x1284+0xe7*-0xc+-0x7b0),_0x333173['equals'](_0x3510cd['color'])||(_0x3510cd['color']=_0x333173),_0x3510cd['opacity']!==_0x4edbf3['a']&&(_0x3510cd['opacity']=_0x4edbf3['a']),this['_isApplyin'+'gTint']=!(-0x11b*0x3+-0x1958+0x1caa);}['_applyTint'+'WithTween'](_0x167807){var _0x3fedd1;const _0x292640=(_0x3fedd1=this['_imageEnti'+'ty'])==null?void(0x1a5a+-0x1fd3+0x579):_0x3fedd1['element'];if(!_0x167807||!_0x292640||_0x292640['type']===_h)return;const _0x887064=sg(_0x167807),_0x291b96=_0x292640['color'],_0xcefd0=_0x292640['opacity'];_0x887064['equals'](_0x291b96)&&_0x167807['a']===_0xcefd0||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x291b96['r'],_0x291b96['g'],_0x291b96['b'],_0xcefd0),'to':_0x167807['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0xe1c059=ne()-this['_tweenInfo']['startTime'];let _0x1a4aae=this['fadeDurati'+'on']===-0x1406+-0x1*-0x17bf+-0x3b9?0x2518+-0xbe3+-0x2*0xc9a:_0xe1c059/this['fadeDurati'+'on'];if(_0x1a4aae=N['clamp'](_0x1a4aae,0x17da+-0x2c5*-0x1+-0x1a9f*0x1,-0x5de*0x6+0x23db+-0xa6),Math['abs'](_0x1a4aae-(-0x1e71+0x1e98*-0x1+0x3d0a*0x1))>0x1*0x829+0xa3*-0x28+-0x3*-0x5c5+0.00001){const _0x4b1df1=this['_tweenInfo']['lerpColor'];_0x4b1df1['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x1a4aae),this['_applyTint'+'Immediatel'+'y'](new Y(_0x4b1df1['r'],_0x4b1df1['g'],_0x4b1df1['b'],_0x4b1df1['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0xa*-0x3b4+0xc5*0x31+-0x4abc),this['_hoveringC'+'ounter']=-0x1da3+0x2296+-0x4f3,this['_isPressed']=!(0x1b48+0x5*-0x32b+-0xb70),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xc9799a,_0x357c38){_0xc9799a['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x357c38[_0xc9799a['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x257cf1){return new Y(_0x257cf1['r'],_0x257cf1['g'],_0x257cf1['b']);}class ZP{constructor(){this['enabled']=!(-0x2245+-0x2*-0x8ea+-0xb7*-0x17),this['active']=!(0x21*0x25+-0x1d68*0x1+-0x11*-0x173),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(-0x1949+0x2662+-0xd19*0x1+0.75,0x1406+-0x9*0x1f+-0x83*0x25+0.75,-0x960+0x3ad+0x1*0x5b3+0.75),this['pressedTin'+'t']=new Y(-0xed*0x1a+-0x1543*0x1+0x2d55+0.5,0x22c1+-0x2f5*-0x8+-0x3a69+0.5,0x1678+0x4*0xbb+0x41*-0x64+0.5),this['inactiveTi'+'nt']=new Y(-0x175d*-0x1+0x1*0x5cb+-0x8*0x3a5+0.25,0x1a75+-0x6*-0x217+-0x26ff+0.25,-0x1ad1*0x1+-0xe1f+-0xa3c*-0x4+0.25),this['fadeDurati'+'on']=0xf14+-0x1*0xd1+-0xe43,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x1241*0x2+-0xef9+-0x1589,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x3*0x1cf+-0x762+0x1*0x1f5,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x1f11+-0x24de+0x5cd;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x455beb){super(_0x455beb),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3d9af5,_0x59ff55,_0x597d54){_0x3d9af5['imageEntit'+'y']=_0x59ff55['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x3d9af5,_0x59ff55,ig);}['onUpdate'](_0x4e93e2){const _0x16cbd6=this['store'];for(const _0x46298d in _0x16cbd6){const _0x3409ea=_0x16cbd6[_0x46298d]['entity'],_0x378ef6=_0x3409ea['button'];_0x378ef6['enabled']&&_0x3409ea['enabled']&&_0x378ef6['onUpdate']();}}['_onRemoveC'+'omponent'](_0x529893,_0x6ae371){_0x6ae371['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0x361a67,_0x162b8c){super(_0x361a67,_0x162b8c),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(-0x24a3+-0x127+0x25cb)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x32f031=this['system']['store'][this['entity']['getGuid']()];return _0x32f031?_0x32f031['data']:null;}set['enabled'](_0x32cc85){this['_setValue']('enabled',_0x32cc85);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x4093e4){this['_setValue']('type',_0x4093e4);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x36d720){this['_setValue']('halfExtent'+'s',_0x36d720);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x593157){this['_setValue']('linearOffs'+'et',_0x593157);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x441d39){this['_setValue']('angularOff'+'set',_0x441d39);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x870268){this['_setValue']('radius',_0x870268);}get['radius'](){return this['data']['radius'];}set['axis'](_0x3b85de){this['_setValue']('axis',_0x3b85de);}get['axis'](){return this['data']['axis'];}set['height'](_0x5f2e9c){this['_setValue']('height',_0x5f2e9c);}get['height'](){return this['data']['height'];}set['asset'](_0x834dcd){this['_setValue']('asset',_0x834dcd);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x8ded4f){this['_setValue']('renderAsse'+'t',_0x8ded4f);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x39078d){this['_setValue']('convexHull',_0x39078d);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x3f9a07){this['_setValue']('shape',_0x3f9a07);}get['shape'](){return this['data']['shape'];}set['model'](_0x2c6c30){this['_setValue']('model',_0x2c6c30);}get['model'](){return this['data']['model'];}set['render'](_0x4240eb){this['_setValue']('render',_0x4240eb);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x3db397){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x3db397);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x17b805,_0x1a0365){const _0x34cd2c=this['data'],_0xf38245=_0x34cd2c[_0x17b805];_0x34cd2c[_0x17b805]=_0x1a0365,this['fire']('set',_0x17b805,_0xf38245,_0x1a0365);}['onSetType'](_0x5cf308,_0x2261cf,_0x3f8203){_0x2261cf!==_0x3f8203&&this['system']['changeType'](this,_0x2261cf,_0x3f8203);}['onSetHalfE'+'xtents'](_0x2e17c9,_0x4a5c90,_0x77ff89){const _0x5450a7=this['data']['type'];this['data']['initialize'+'d']&&_0x5450a7==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x575b8c,_0x56d4bd,_0x201209){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0xc88e53,_0x24911c,_0x3b247f){const _0x1eeb00=this['data']['type'];this['data']['initialize'+'d']&&(_0x1eeb00==='sphere'||_0x1eeb00==='capsule'||_0x1eeb00==='cylinder'||_0x1eeb00==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x12c0bc,_0x5b2f1a,_0x105d6f){const _0x52fec0=this['data']['type'];this['data']['initialize'+'d']&&(_0x52fec0==='capsule'||_0x52fec0==='cylinder'||_0x52fec0==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x2b5755,_0x22fb62,_0x2764ca){const _0x239d7e=this['data']['type'];this['data']['initialize'+'d']&&(_0x239d7e==='capsule'||_0x239d7e==='cylinder'||_0x239d7e==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x1e7b8b,_0x3bcdba,_0x250f4d){const _0x5633c4=this['system']['app']['assets'];if(_0x3bcdba){const _0x304fce=_0x5633c4['get'](_0x3bcdba);_0x304fce&&_0x304fce['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x250f4d){_0x250f4d instanceof le&&(this['data']['asset']=_0x250f4d['id']);const _0x335c82=_0x5633c4['get'](this['data']['asset']);_0x335c82&&(_0x335c82['off']('remove',this['onAssetRem'+'oved'],this),_0x335c82['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x250f4d||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x47501d,_0x11fda4,_0x59c5ee){const _0x20c838=this['system']['app']['assets'];if(_0x11fda4){const _0x23cd19=_0x20c838['get'](_0x11fda4);_0x23cd19&&_0x23cd19['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x59c5ee){_0x59c5ee instanceof le&&(this['data']['renderAsse'+'t']=_0x59c5ee['id']);const _0x49ae8f=_0x20c838['get'](this['data']['renderAsse'+'t']);_0x49ae8f&&(_0x49ae8f['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x49ae8f['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x59c5ee||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x25a8f2,_0x5eef22,_0x3c87cb){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x1260ee,_0x4b3b49,_0x559aea){this['onSetModel'](_0x1260ee,_0x4b3b49,_0x559aea);}['onAssetRem'+'oved'](_0x367081){_0x367081['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x367081['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x19eafe){_0x19eafe['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x19eafe['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x181a10){const _0xfac557=this['data']['shape'],_0x53df67=_0xfac557['getNumChil'+'dShapes']();for(let _0x5ccd2d=0x1565*0x1+0xa8a+-0x1fef;_0x5ccd2d<_0x53df67;_0x5ccd2d++){const _0x3db6eb=_0xfac557['getChildSh'+'ape'](_0x5ccd2d);if(Ammo['getPointer'](_0x3db6eb)===Ammo['getPointer'](_0x181a10))return _0x5ccd2d;}return null;}['_onInsert'](_0x33fe7c){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0xedb718=this['entity']['parent'];for(;_0xedb718;){if(_0xedb718['collision']&&_0xedb718['collision']['type']==='compound'){_0xedb718['collision']['shape']['getNumChil'+'dShapes']()===-0x1*0xf07+0x15e+0xda9?this['system']['recreatePh'+'ysicalShap'+'es'](_0xedb718['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0xedb718=_0xedb718['parent'];}}}}}['_updateCom'+'pound'](){const _0xf6514=this['entity'];if(_0xf6514['_dirtyWorl'+'d']){let _0xdf9cf8=_0xf6514['_dirtyLoca'+'l'],_0x136e97=_0xf6514;for(;_0x136e97&&!_0xdf9cf8&&!(_0x136e97['collision']&&_0x136e97['collision']===this['_compoundP'+'arent']);)_0x136e97['_dirtyLoca'+'l']&&(_0xdf9cf8=!(-0x1a21+0xd1a+0x1d*0x73)),_0x136e97=_0x136e97['parent'];if(_0xdf9cf8){_0xf6514['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0xf6514);const _0x279862=this['_compoundP'+'arent']['entity']['rigidbody'];_0x279862&&_0x279862['activate']();}}}['getShapePo'+'sition'](){const _0x464219=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x235ff0=this['entity']['getRotatio'+'n'](),_0x166e73=this['data']['linearOffs'+'et'];return ng['copy'](_0x235ff0)['transformV'+'ector'](_0x166e73,rg),rg['add'](_0x464219);}return _0x464219;}['getShapeRo'+'tation'](){const _0x2658d4=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x2658d4)['mul'](this['data']['angularOff'+'set']):_0x2658d4;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x51aaeb=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x51aaeb&&(!_0x51aaeb['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x2ab+0xf6f+-0x121a)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x3f8373=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x3f8373,this['data']['shape']),Ammo['destroy'](_0x3f8373),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(-0x1781*0x1+-0x4a*-0x84+-0xea7),this['type']='box',this['halfExtent'+'s']=new T(0x391*-0x5+-0xe33+-0x28*-0xcd+0.5,-0x77*0x41+0x116*-0x1+0x1f4d+0.5,-0x1979+0x5b9+-0x2*-0x9e0+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=0x23d0+0x9f6+-0x2dc6+0.5,this['axis']=0x19fc+-0x191*0x17+0xa0c,this['height']=-0x248d+0xb48+0x1947,this['convexHull']=!(0x10e8+-0xd*-0x17e+-0x244d),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x12d4+-0x12a2+0x55a*0x7),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x18f3+0x1*0x1475+0x3b*-0xc5);}}const so='static',ms='dynamic',Bn='kinematic',eR=0x241d+0x16f7+-0x3b12,lo=-0x1817+-0xad+0x18c8,nf=-0x3df*0x7+0x1a16+-0x14*-0xd,ag=-0x16b4+0xcf7*-0x2+0x30a6,tx=0x71*-0x26+-0x1b*-0x11e+-0xd5f,tR=0x1*-0x163+0x1ad9+0x31*-0x85,og=0x21b1+-0x1a39+0x776*-0x1,sR=0xb7c+-0x1a7c+-0x1f*-0x7c,lg=-0x24ad*0x1+-0x1f33+0x4*0x10fc,hg=0xa945+-0x38*0x3f3+0x2*0x99f1,af=0x6bdc+-0x659e*-0x1+0xf81*0x3;let _s,Er,Nn;class sx{constructor(_0x525aaa,_0x3745b7,_0x4a8544){this['entity']=_0x3745b7['entity'],this['component']=_0x3745b7,this['app']=_0x525aaa,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x4a8544);}['initialize'](_0x2d3e3f){const _0x3027c5=this['entity'],_0x8fa90b=_0x2d3e3f['shape'];if(_0x8fa90b&&typeof Ammo<'u'){_0x3027c5['trigger']&&_0x3027c5['trigger']['destroy']();const _0x32531d=0x88b*-0x3+-0x1af6+-0xd26*-0x4,_0x2c465a=this['component'];if(_0x2c465a){const _0x2fc8c7=_0x2c465a['getShapePo'+'sition'](),_0x2148dc=_0x2c465a['getShapeRo'+'tation']();_s['setValue'](_0x2fc8c7['x'],_0x2fc8c7['y'],_0x2fc8c7['z']),Er['setValue'](_0x2148dc['x'],_0x2148dc['y'],_0x2148dc['z'],_0x2148dc['w']);}else{const _0x40cb7f=_0x3027c5['getPositio'+'n'](),_0x50f119=_0x3027c5['getRotatio'+'n']();_s['setValue'](_0x40cb7f['x'],_0x40cb7f['y'],_0x40cb7f['z']),Er['setValue'](_0x50f119['x'],_0x50f119['y'],_0x50f119['z'],_0x50f119['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0x2c6cc9=this['app']['systems']['rigidbody']['createBody'](_0x32531d,_0x8fa90b,Nn);_0x2c6cc9['setRestitu'+'tion'](0x1*-0xe8f+-0x2145+0x2*0x17ea),_0x2c6cc9['setFrictio'+'n'](0x6e+0x14dc+-0x154a),_0x2c6cc9['setDamping'](0x14a*0x2+-0x11f5+-0xf61*-0x1,-0x2546+-0x59a*0x5+0x2*0x20a4),_s['setValue'](0x193*0xb+0x1fa2+-0x30f3,0x1141*0x2+-0x8c5+-0x19bd,0x1d42+-0x66c*-0x6+-0x43ca),_0x2c6cc9['setLinearF'+'actor'](_s),_0x2c6cc9['setAngular'+'Factor'](_s),_0x2c6cc9['setCollisi'+'onFlags'](_0x2c6cc9['getCollisi'+'onFlags']()|lo),_0x2c6cc9['entity']=_0x3027c5,this['body']=_0x2c6cc9,this['component']['enabled']&&_0x3027c5['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0xe17540){const _0x37b81f=this['component'];if(_0x37b81f){const _0xf06b27=_0x37b81f['getShapePo'+'sition'](),_0x28784e=_0x37b81f['getShapeRo'+'tation']();_s['setValue'](_0xf06b27['x'],_0xf06b27['y'],_0xf06b27['z']),Er['setValue'](_0x28784e['x'],_0x28784e['y'],_0x28784e['z'],_0x28784e['w']);}else{const _0x436511=this['entity']['getPositio'+'n'](),_0x47e336=this['entity']['getRotatio'+'n']();_s['setValue'](_0x436511['x'],_0x436511['y'],_0x436511['z']),Er['setValue'](_0x47e336['x'],_0x47e336['y'],_0x47e336['z'],_0x47e336['w']);}_0xe17540['setOrigin'](_s),_0xe17540['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x1a4ee0=this['body'];_0x1a4ee0['setWorldTr'+'ansform'](Nn),_0x1a4ee0['activate']();}['enable'](){const _0x49d47f=this['body'];if(!_0x49d47f)return;const _0x403f59=this['app']['systems']['rigidbody'];_0x403f59['_triggers']['indexOf'](this)<-0x1*0x1edd+0x4f6+0x19e7&&(_0x403f59['addBody'](_0x49d47f,lg,af^lg),_0x403f59['_triggers']['push'](this)),_0x49d47f['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0x1f38c7=this['body'];if(!_0x1f38c7)return;const _0xa3292a=this['app']['systems']['rigidbody'],_0x46d3c2=_0xa3292a['_triggers']['indexOf'](this);_0x46d3c2>-(0x21a5+0x241c+-0x20*0x22e)&&(_0xa3292a['removeBody'](_0x1f38c7),_0xa3292a['_triggers']['splice'](_0x46d3c2,-0x17*0x8+-0x6*0x109+0x6ef)),_0x1f38c7['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0x28a15f){this['system']=_0x28a15f;}['beforeInit'+'ialize'](_0x1b6f70,_0x3cf7e3){_0x3cf7e3['shape']=null,_0x3cf7e3['model']=new Oi(),_0x3cf7e3['model']['graph']=new De();}['afterIniti'+'alize'](_0x5b254e,_0x3d7732){this['recreatePh'+'ysicalShap'+'es'](_0x5b254e),_0x5b254e['data']['initialize'+'d']=!(0x1315+0x26bf+0x4*-0xe75);}['reset'](_0x14599a,_0x20d26b){this['beforeInit'+'ialize'](_0x14599a,_0x20d26b),this['afterIniti'+'alize'](_0x14599a,_0x20d26b);}['recreatePh'+'ysicalShap'+'es'](_0x1064fa){const _0x3d8c38=_0x1064fa['entity'],_0x486187=_0x1064fa['data'];if(typeof Ammo<'u'){_0x3d8c38['trigger']&&(_0x3d8c38['trigger']['destroy'](),delete _0x3d8c38['trigger']),_0x486187['shape']&&(_0x1064fa['_compoundP'+'arent']&&(_0x1064fa!==_0x1064fa['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x1064fa['_compoundP'+'arent'],_0x486187['shape']),_0x1064fa['_compoundP'+'arent']['entity']['rigidbody']&&_0x1064fa['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x486187)),_0x486187['shape']=this['createPhys'+'icalShape'](_0x1064fa['entity'],_0x486187);const _0x1cbd06=!_0x1064fa['_compoundP'+'arent'];if(_0x486187['type']==='compound'&&(!_0x1064fa['_compoundP'+'arent']||_0x1064fa===_0x1064fa['_compoundP'+'arent']))_0x1064fa['_compoundP'+'arent']=_0x1064fa,_0x3d8c38['forEach'](this['_addEachDe'+'scendant'],_0x1064fa);else{if(_0x486187['type']!=='compound'&&!_0x1064fa['rigidbody']){_0x1064fa['_compoundP'+'arent']=null;let _0x3f282b=_0x3d8c38['parent'];for(;_0x3f282b;){if(_0x3f282b['collision']&&_0x3f282b['collision']['type']==='compound'){_0x1064fa['_compoundP'+'arent']=_0x3f282b['collision'];break;}_0x3f282b=_0x3f282b['parent'];}}}_0x1064fa['_compoundP'+'arent']&&_0x1064fa!==_0x1064fa['_compoundP'+'arent']&&(_0x1cbd06&&_0x1064fa['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x1caa+-0x1cfd*-0x1+0x1*-0x39a7?this['system']['recreatePh'+'ysicalShap'+'es'](_0x1064fa['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x3d8c38,!(0x11*0x229+-0x7*0x404+0x7*-0x13b)),_0x1064fa['_compoundP'+'arent']['entity']['rigidbody']&&_0x1064fa['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x3d8c38['rigidbody']?(_0x3d8c38['rigidbody']['disableSim'+'ulation'](),_0x3d8c38['rigidbody']['createBody'](),_0x3d8c38['enabled']&&_0x3d8c38['rigidbody']['enabled']&&_0x3d8c38['rigidbody']['enableSimu'+'lation']()):_0x1064fa['_compoundP'+'arent']||(_0x3d8c38['trigger']?_0x3d8c38['trigger']['initialize'](_0x486187):_0x3d8c38['trigger']=new sx(this['system']['app'],_0x1064fa,_0x486187));}}['createPhys'+'icalShape'](_0xb0662f,_0x189972){}['updateTran'+'sform'](_0x391484,_0x91c56e,_0x5ef520,_0x1875ad){_0x391484['entity']['trigger']&&_0x391484['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x3451b6){_0x3451b6['shape']&&(Ammo['destroy'](_0x3451b6['shape']),_0x3451b6['shape']=null);}['beforeRemo'+'ve'](_0x13ad4e,_0x5ee1e0){_0x5ee1e0['data']['shape']&&(_0x5ee1e0['_compoundP'+'arent']&&!_0x5ee1e0['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x5ee1e0['_compoundP'+'arent'],_0x5ee1e0['data']['shape']),_0x5ee1e0['_compoundP'+'arent']['entity']['rigidbody']&&_0x5ee1e0['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x5ee1e0['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x5ee1e0['data']));}['remove'](_0x5c994a,_0x183324){_0x5c994a['rigidbody']&&_0x5c994a['rigidbody']['body']&&_0x5c994a['rigidbody']['disableSim'+'ulation'](),_0x5c994a['trigger']&&(_0x5c994a['trigger']['destroy'](),delete _0x5c994a['trigger']);}['clone'](_0x59186e,_0x242776){const _0x3c6774=this['system']['store'][_0x59186e['getGuid']()],_0x25d851={'enabled':_0x3c6774['data']['enabled'],'type':_0x3c6774['data']['type'],'halfExtents':[_0x3c6774['data']['halfExtent'+'s']['x'],_0x3c6774['data']['halfExtent'+'s']['y'],_0x3c6774['data']['halfExtent'+'s']['z']],'linearOffset':[_0x3c6774['data']['linearOffs'+'et']['x'],_0x3c6774['data']['linearOffs'+'et']['y'],_0x3c6774['data']['linearOffs'+'et']['z']],'angularOffset':[_0x3c6774['data']['angularOff'+'set']['x'],_0x3c6774['data']['angularOff'+'set']['y'],_0x3c6774['data']['angularOff'+'set']['z'],_0x3c6774['data']['angularOff'+'set']['w']],'radius':_0x3c6774['data']['radius'],'axis':_0x3c6774['data']['axis'],'height':_0x3c6774['data']['height'],'convexHull':_0x3c6774['data']['convexHull'],'asset':_0x3c6774['data']['asset'],'renderAsset':_0x3c6774['data']['renderAsse'+'t'],'model':_0x3c6774['data']['model'],'render':_0x3c6774['data']['render'],'checkVertexDuplicates':_0x3c6774['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x242776,_0x25d851);}}class aR extends xn{['createPhys'+'icalShape'](_0x54987e,_0x3c838a){if(typeof Ammo<'u'){const _0x413207=_0x3c838a['halfExtent'+'s'],_0x1de369=new Ammo['btVector3'](_0x413207?_0x413207['x']:0xa1e+0x12c3*-0x1+0x8a5*0x1+0.5,_0x413207?_0x413207['y']:0xba7*0x3+-0x15d1+0x2*-0x692+0.5,_0x413207?_0x413207['z']:-0x234b+0x238d+0x42*-0x1+0.5),_0x103681=new Ammo['btBoxShape'](_0x1de369);return Ammo['destroy'](_0x1de369),_0x103681;}}}class oR extends xn{['createPhys'+'icalShape'](_0x1aa015,_0x570680){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x570680['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x510fa4,_0x5a3603){const _0x1e5cc0=_0x5a3603['axis']??0x8a+0x16e3*-0x1+0x165a*0x1,_0x589c83=_0x5a3603['radius']??0x183b*-0x1+-0x2081+0x38bc+0.5,_0x2014c2=Math['max']((_0x5a3603['height']??-0x2610+0x26f*-0x7+0x371b)-(-0x2*0x9b3+0x1*-0x6a3+0x3b*0x71)*_0x589c83,0x590+-0xc1a*0x1+0x68a);let _0x519a5d=null;if(typeof Ammo<'u')switch(_0x1e5cc0){case-0xaa+-0x2*0x45b+-0x28*-0x3c:_0x519a5d=new Ammo['btCapsuleS'+'hapeX'](_0x589c83,_0x2014c2);break;case-0x367*-0x1+-0x1212+0xeac:_0x519a5d=new Ammo['btCapsuleS'+'hape'](_0x589c83,_0x2014c2);break;case 0x1*-0xf67+0xd58*0x1+0x211:_0x519a5d=new Ammo['btCapsuleS'+'hapeZ'](_0x589c83,_0x2014c2);break;}return _0x519a5d;}}class hR extends xn{['createPhys'+'icalShape'](_0xef208d,_0x467dec){const _0xe8a5a9=_0x467dec['axis']??0x6*0x599+0x2565+0x5*-0xe32,_0x57ff27=_0x467dec['radius']??0x3*-0xb41+0x65*0x11+-0xd87*-0x2+0.5,_0xee2dee=_0x467dec['height']??-0x1d*0x14e+0x3ab*0x6+0x547*0x3;let _0x92d51e=null,_0x2a167f=null;if(typeof Ammo<'u')switch(_0xe8a5a9){case 0xe6b*-0x1+-0x4d*-0x44+-0x609:_0x92d51e=new Ammo['btVector3'](_0xee2dee*(0xfca+0xbda+-0x1ba4+0.5),_0x57ff27,_0x57ff27),_0x2a167f=new Ammo['btCylinder'+'ShapeX'](_0x92d51e);break;case-0x1*-0xaa0+-0x1*0xdd+0x4e1*-0x2:_0x92d51e=new Ammo['btVector3'](_0x57ff27,_0xee2dee*(0x4*0x17+0x261a+-0x2676+0.5),_0x57ff27),_0x2a167f=new Ammo['btCylinder'+'Shape'](_0x92d51e);break;case-0x5f5+0x1*-0x1f77+-0x6*-0x63d:_0x92d51e=new Ammo['btVector3'](_0x57ff27,_0x57ff27,_0xee2dee*(-0x13fd+-0x1c8f+-0x2*-0x1846+0.5)),_0x2a167f=new Ammo['btCylinder'+'ShapeZ'](_0x92d51e);break;}return _0x92d51e&&Ammo['destroy'](_0x92d51e),_0x2a167f;}}class cR extends xn{['createPhys'+'icalShape'](_0x432297,_0x20529c){const _0xb0493=_0x20529c['axis']??-0x1*-0x813+0x21c8+-0x1e7*0x16,_0x523ed1=_0x20529c['radius']??-0x10c5+-0x35*-0x44+0x2b1+0.5,_0x34e9ed=_0x20529c['height']??-0x2e*-0x65+0x1b47+0x3c9*-0xc;let _0x277f7b=null;if(typeof Ammo<'u')switch(_0xb0493){case-0x1b2f*0x1+0x1e71*-0x1+0x39a0:_0x277f7b=new Ammo['btConeShap'+'eX'](_0x523ed1,_0x34e9ed);break;case-0x169d+0x1a7d+-0x3df:_0x277f7b=new Ammo['btConeShap'+'e'](_0x523ed1,_0x34e9ed);break;case-0xe75+-0xd*-0x2d2+-0x1633*0x1:_0x277f7b=new Ammo['btConeShap'+'eZ'](_0x523ed1,_0x34e9ed);break;}return _0x277f7b;}}class dR extends xn{['beforeInit'+'ialize'](_0x580a3c,_0x38b88a){}['createAmmo'+'Hull'](_0x328d7b,_0x478bf0,_0xbdcfdb,_0x4da2e4){const _0xbc5c89=new Ammo['btConvexHu'+'llShape'](),_0x31dccd=new Ammo['btVector3'](),_0x3612f3=[];_0x328d7b['getPositio'+'ns'](_0x3612f3);for(let _0x480d72=0x1ba4+-0x207e*-0x1+-0x3c22;_0x480d72<_0x3612f3['length'];_0x480d72+=-0x18b3+0x1b5c+-0x2a6)_0x31dccd['setValue'](_0x3612f3[_0x480d72]*_0x4da2e4['x'],_0x3612f3[_0x480d72+(-0x2515+0x2091+0x485)]*_0x4da2e4['y'],_0x3612f3[_0x480d72+(0x10*0x9a+-0x691*-0x1+0x102f*-0x1)]*_0x4da2e4['z']),_0xbc5c89['addPoint'](_0x31dccd,!(0x1408+0x20fd+-0x3504));Ammo['destroy'](_0x31dccd),_0xbc5c89['recalcLoca'+'lAabb'](),_0xbc5c89['setMargin'](0x4*0x974+0x1bb*-0x4+-0x1ee4+0.01);const _0x98b63a=this['system']['_getNodeTr'+'ansform'](_0x478bf0);_0xbdcfdb['addChildSh'+'ape'](_0x98b63a,_0xbc5c89),Ammo['destroy'](_0x98b63a);}['createAmmo'+'Mesh'](_0x17f5d8,_0x2d975d,_0x27e644,_0x1f2d69,_0x1018ec=!(-0x1a5f+-0x18fb+0x19ad*0x2)){const _0x5add11=this['system'];let _0x1376d0;if(_0x5add11['_triMeshCa'+'che'][_0x17f5d8['id']])_0x1376d0=_0x5add11['_triMeshCa'+'che'][_0x17f5d8['id']];else{const _0x291e12=_0x17f5d8['vertexBuff'+'er'],_0x2a4aa4=_0x291e12['getFormat']();let _0x4cf0f,_0x453ad5;for(let _0x3cb871=0x2362+-0x25c+-0x2106;_0x3cb871<_0x2a4aa4['elements']['length'];_0x3cb871++){const _0x218557=_0x2a4aa4['elements'][_0x3cb871];if(_0x218557['name']===He){_0x453ad5=new Float32Array(_0x291e12['lock'](),_0x218557['offset']),_0x4cf0f=_0x218557['stride']/(-0x1d79+0x8bc+0x14c1);break;}}const _0x553af2=[];_0x17f5d8['getIndices'](_0x553af2);const _0xb12919=_0x17f5d8['primitive'][-0x13d*0x5+-0xd*0x2f9+0x2*0x166b]['count']/(-0x1*-0x5dd+-0x384+-0xd*0x2e),_0x6fcfc0=new Ammo['btVector3']();let _0x594dc7,_0x5ae2be,_0x120588;const _0x52cb4c=_0x17f5d8['primitive'][0xd2d*0x1+0x26b+-0xf98]['base'];_0x1376d0=new Ammo['btTriangle'+'Mesh'](),_0x5add11['_triMeshCa'+'che'][_0x17f5d8['id']]=_0x1376d0;const _0x554023=new Map();v['assert'](typeof _0x1376d0['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0xe7124e=_0x1376d0['getIndexed'+'MeshArray']();_0xe7124e['at'](-0x2448+0x1cae+-0x7*-0x116)['m_numTrian'+'gles']=_0xb12919;const _0x498289=_0x1f2d69?_0x1f2d69['x']:0x307*0x7+-0x141c*-0x1+-0x6e2*0x6,_0x4bb62e=_0x1f2d69?_0x1f2d69['y']:0x1876+0x4bf+-0x1d34,_0x243e64=_0x1f2d69?_0x1f2d69['z']:-0x9e6*0x1+-0x1ff7+0x29de*0x1,_0x4a5a0d=_0x3b70ef=>{const _0x29e0ac=_0x453ad5[_0x3b70ef*_0x4cf0f]*_0x498289,_0x240c2c=_0x453ad5[_0x3b70ef*_0x4cf0f+(0x17*-0xb9+0xf7d+0x123)]*_0x4bb62e,_0x38aacf=_0x453ad5[_0x3b70ef*_0x4cf0f+(0x24e5+0x16*0xb5+-0x3471)]*_0x243e64;let _0x30723a;if(_0x1018ec){const _0x147ecc=_0x29e0ac+':'+_0x240c2c+':'+_0x38aacf;if(_0x30723a=_0x554023['get'](_0x147ecc),_0x30723a!==void(-0x227f+-0x49b+-0x1a*-0x181))return _0x30723a;_0x6fcfc0['setValue'](_0x29e0ac,_0x240c2c,_0x38aacf),_0x30723a=_0x1376d0['findOrAddV'+'ertex'](_0x6fcfc0,!(0x5e*0x35+0x463*-0x1+-0xf12)),_0x554023['set'](_0x147ecc,_0x30723a);}else _0x6fcfc0['setValue'](_0x29e0ac,_0x240c2c,_0x38aacf),_0x30723a=_0x1376d0['findOrAddV'+'ertex'](_0x6fcfc0,!(0x1d9d+-0xbc3+-0x5f3*0x3));return _0x30723a;};for(let _0x528c2e=-0xf1b+0x2133+-0x1218;_0x528c2e<_0xb12919;_0x528c2e++)_0x594dc7=_0x4a5a0d(_0x553af2[_0x52cb4c+_0x528c2e*(-0x7*0x65+-0x5*-0x42a+-0x84*0x23)]),_0x5ae2be=_0x4a5a0d(_0x553af2[_0x52cb4c+_0x528c2e*(-0xb32+-0x1d*-0x113+-0x13f2)+(-0x1*0x1cef+-0x1*0x13b9+0x1*0x30a9)]),_0x120588=_0x4a5a0d(_0x553af2[_0x52cb4c+_0x528c2e*(-0x9d9*0x3+0x20e6+0x8*-0x6b)+(0xa9*0xc+-0x2396+0x1bac)]),_0x1376d0['addIndex'](_0x594dc7),_0x1376d0['addIndex'](_0x5ae2be),_0x1376d0['addIndex'](_0x120588);Ammo['destroy'](_0x6fcfc0);}const _0x13990f=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x1376d0,!(-0x9ba+0x1*0x144b+-0xa91));if(!_0x1f2d69){const _0x5526dd=_0x5add11['_getNodeSc'+'aling'](_0x2d975d);_0x13990f['setLocalSc'+'aling'](_0x5526dd),Ammo['destroy'](_0x5526dd);}const _0x11d583=_0x5add11['_getNodeTr'+'ansform'](_0x2d975d);_0x27e644['addChildSh'+'ape'](_0x11d583,_0x13990f),Ammo['destroy'](_0x11d583);}['createPhys'+'icalShape'](_0x526402,_0x535d43){if(!(typeof Ammo>'u')&&(_0x535d43['model']||_0x535d43['render'])){const _0x8e80be=new Ammo['btCompound'+'Shape'](),_0x23d5b1=_0x526402['getWorldTr'+'ansform']()['getScale']();if(_0x535d43['render']){const _0xf15c6d=_0x535d43['render']['meshes'];for(let _0x34cfee=0x1*-0x742+0x175b+0x1019*-0x1;_0x34cfee<_0xf15c6d['length'];_0x34cfee++)_0x535d43['convexHull']?this['createAmmo'+'Hull'](_0xf15c6d[_0x34cfee],cg,_0x8e80be,_0x23d5b1):this['createAmmo'+'Mesh'](_0xf15c6d[_0x34cfee],cg,_0x8e80be,_0x23d5b1,_0x535d43['checkVerte'+'xDuplicate'+'s']);}else{if(_0x535d43['model']){const _0xb5dccb=_0x535d43['model']['meshInstan'+'ces'];for(let _0x4d627b=-0x969+-0x19bd+0x2326;_0x4d627b<_0xb5dccb['length'];_0x4d627b++)this['createAmmo'+'Mesh'](_0xb5dccb[_0x4d627b]['mesh'],_0xb5dccb[_0x4d627b]['node'],_0x8e80be,null,_0x535d43['checkVerte'+'xDuplicate'+'s']);const _0x532a7a=new Ammo['btVector3'](_0x23d5b1['x'],_0x23d5b1['y'],_0x23d5b1['z']);_0x8e80be['setLocalSc'+'aling'](_0x532a7a),Ammo['destroy'](_0x532a7a);}}return _0x8e80be;}}['recreatePh'+'ysicalShap'+'es'](_0x317fb9){const _0x51311a=_0x317fb9['data'];if((_0x51311a['renderAsse'+'t']||_0x51311a['asset'])&&_0x317fb9['enabled']&&_0x317fb9['entity']['enabled']){this['loadAsset'](_0x317fb9,_0x51311a['renderAsse'+'t']||_0x51311a['asset'],_0x51311a['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x317fb9);}['loadAsset'](_0xc4cb3,_0x19aca1,_0x13427f){const _0x5677d1=_0xc4cb3['data'],_0x141a5c=this['system']['app']['assets'],_0x1d0144=_0x5677d1[_0x13427f],_0x588bf2=_0x3cb5d5=>{_0x5677d1[_0x13427f]===_0x1d0144&&(_0x5677d1[_0x13427f]=_0x3cb5d5['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0xc4cb3));},_0x619a21=_0x301703=>{_0x301703['ready'](_0x5c1076=>{if(_0x5c1076['data']['containerA'+'sset']){const _0x24fbba=_0x141a5c['get'](_0x5c1076['data']['containerA'+'sset']);_0x24fbba['loaded']?_0x588bf2(_0x5c1076):(_0x24fbba['ready'](()=>{_0x588bf2(_0x5c1076);}),_0x141a5c['load'](_0x24fbba));}else _0x588bf2(_0x5c1076);}),_0x141a5c['load'](_0x301703);},_0x5e22d6=_0x141a5c['get'](_0x19aca1);_0x5e22d6?_0x619a21(_0x5e22d6):_0x141a5c['once']('add:'+_0x19aca1,_0x619a21);}['doRecreate'+'PhysicalSh'+'ape'](_0x163eff){const _0x36ae47=_0x163eff['entity'],_0x148263=_0x163eff['data'];_0x148263['model']||_0x148263['render']?(this['destroySha'+'pe'](_0x148263),_0x148263['shape']=this['createPhys'+'icalShape'](_0x36ae47,_0x148263),_0x36ae47['rigidbody']?(_0x36ae47['rigidbody']['disableSim'+'ulation'](),_0x36ae47['rigidbody']['createBody'](),_0x36ae47['enabled']&&_0x36ae47['rigidbody']['enabled']&&_0x36ae47['rigidbody']['enableSimu'+'lation']()):_0x36ae47['trigger']?_0x36ae47['trigger']['initialize'](_0x148263):_0x36ae47['trigger']=new sx(this['system']['app'],_0x163eff,_0x148263)):(this['beforeRemo'+'ve'](_0x36ae47,_0x163eff),this['remove'](_0x36ae47,_0x148263));}['updateTran'+'sform'](_0x47d0d7,_0x586ec2,_0xd15aa8,_0x4ca220){if(_0x47d0d7['shape']){const _0x4352bd=_0x47d0d7['entity']['getWorldTr'+'ansform']()['getScale'](),_0x523e2b=_0x47d0d7['shape']['getLocalSc'+'aling']();(_0x4352bd['x']!==_0x523e2b['x']()||_0x4352bd['y']!==_0x523e2b['y']()||_0x4352bd['z']!==_0x523e2b['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x47d0d7);}super['updateTran'+'sform'](_0x47d0d7,_0x586ec2,_0xd15aa8,_0x4ca220);}['destroySha'+'pe'](_0x2de6ac){if(!_0x2de6ac['shape'])return;const _0x4d5217=_0x2de6ac['shape']['getNumChil'+'dShapes']();for(let _0x39c4a7=-0x2039+-0x67+0x20a0;_0x39c4a7<_0x4d5217;_0x39c4a7++){const _0x193d17=_0x2de6ac['shape']['getChildSh'+'ape'](_0x39c4a7);Ammo['destroy'](_0x193d17);}Ammo['destroy'](_0x2de6ac['shape']),_0x2de6ac['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x579a75,_0x2b97aa){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x208871){!_0x208871['collision']||_0x208871['rigidbody']||(_0x208871['collision']['_compoundP'+'arent']=this,_0x208871!==this['entity']&&_0x208871['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x208871['collision']));}['_updateEac'+'hDescendan'+'t'](_0x573b09){_0x573b09['collision']&&_0x573b09['collision']['_compoundP'+'arent']===this&&(_0x573b09['collision']['_compoundP'+'arent']=null,_0x573b09!==this['entity']&&!_0x573b09['rigidbody']&&_0x573b09['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x573b09['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x1c972a){!_0x1c972a['collision']||_0x1c972a['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x1c972a,!(-0x120f+0x11bb+0x55));}}class fR extends Xe{constructor(_0x42d820){super(_0x42d820),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x43b6a5,_0x132cdb,_0x14121c){_0x14121c=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x2c6a55={};for(let _0x579753=0x8ea*-0x1+0x16eb*-0x1+0x1fd5,_0x219744=_0x14121c['length'];_0x579753<_0x219744;_0x579753++){const _0x512bcf=_0x14121c[_0x579753];_0x2c6a55[_0x512bcf]=_0x132cdb[_0x512bcf];}let _0x511fbe;if(_0x132cdb['hasOwnProp'+'erty']('asset')?(_0x511fbe=_0x14121c['indexOf']('model'),_0x511fbe!==-(0x1*0x1562+-0x20cb+-0xb6a*-0x1)&&_0x14121c['splice'](_0x511fbe,0xfcc*-0x2+0x110a+0xe8f),_0x511fbe=_0x14121c['indexOf']('render'),_0x511fbe!==-(-0x10a1+0xd25+0x37d)&&_0x14121c['splice'](_0x511fbe,-0x1*0x1b13+-0x2401+0x3f15*0x1)):_0x132cdb['hasOwnProp'+'erty']('model')&&(_0x511fbe=_0x14121c['indexOf']('asset'),_0x511fbe!==-(0x1*0x17c9+-0x429*-0x1+-0x1*0x1bf1)&&_0x14121c['splice'](_0x511fbe,0x5a8*-0x4+0x1985+-0x2e4)),_0x2c6a55['type']||(_0x2c6a55['type']=_0x43b6a5['data']['type']),_0x43b6a5['data']['type']=_0x2c6a55['type'],Array['isArray'](_0x2c6a55['halfExtent'+'s'])&&(_0x2c6a55['halfExtent'+'s']=new T(_0x2c6a55['halfExtent'+'s'])),Array['isArray'](_0x2c6a55['linearOffs'+'et'])&&(_0x2c6a55['linearOffs'+'et']=new T(_0x2c6a55['linearOffs'+'et'])),Array['isArray'](_0x2c6a55['angularOff'+'set'])){const _0x239018=_0x2c6a55['angularOff'+'set'];_0x239018['length']===0x1aaa+0x1b63*-0x1+0xbc?_0x2c6a55['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x239018[0x99+-0x793+-0x37d*-0x2],_0x239018[0x15*0x125+0x209*-0x7+0x9c9*-0x1],_0x239018[-0x251*0xb+-0x17e2+-0x1075*-0x3]):_0x2c6a55['angularOff'+'set']=new se(_0x2c6a55['angularOff'+'set']);}const _0x5adeed=this['_createImp'+'lementatio'+'n'](_0x2c6a55['type']);_0x5adeed['beforeInit'+'ialize'](_0x43b6a5,_0x2c6a55),super['initialize'+'ComponentD'+'ata'](_0x43b6a5,_0x2c6a55,_0x14121c),_0x5adeed['afterIniti'+'alize'](_0x43b6a5,_0x2c6a55);}['_createImp'+'lementatio'+'n'](_0x4fc7d7){if(this['implementa'+'tions'][_0x4fc7d7]===void(0x865*-0x2+0x1*0x1b55+0x1*-0xa8b)){let _0x4b75bf;switch(_0x4fc7d7){case'box':_0x4b75bf=new aR(this);break;case'sphere':_0x4b75bf=new oR(this);break;case'capsule':_0x4b75bf=new lR(this);break;case'cylinder':_0x4b75bf=new hR(this);break;case'cone':_0x4b75bf=new cR(this);break;case'mesh':_0x4b75bf=new dR(this);break;case'compound':_0x4b75bf=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x4fc7d7);}this['implementa'+'tions'][_0x4fc7d7]=_0x4b75bf;}return this['implementa'+'tions'][_0x4fc7d7];}['_getImplem'+'entation'](_0x17be17){return this['implementa'+'tions'][_0x17be17['collision']['data']['type']];}['cloneCompo'+'nent'](_0x22a623,_0x5ed2bb){return this['_getImplem'+'entation'](_0x22a623)['clone'](_0x22a623,_0x5ed2bb);}['onBeforeRe'+'move'](_0x22ff07,_0x220c62){this['implementa'+'tions'][_0x220c62['data']['type']]['beforeRemo'+'ve'](_0x22ff07,_0x220c62),_0x220c62['onBeforeRe'+'move']();}['onRemove'](_0x4f070d,_0x48bd7b){this['implementa'+'tions'][_0x48bd7b['type']]['remove'](_0x4f070d,_0x48bd7b);}['updateComp'+'oundChildT'+'ransform'](_0x58b453,_0x3fca1d){const _0x36c027=_0x58b453['collision']['_compoundP'+'arent'];if(_0x36c027!==_0x58b453['collision']&&_0x58b453['enabled']&&_0x58b453['collision']['enabled']&&(_0x58b453['_dirtyLoca'+'l']||_0x3fca1d)){const _0x3896d6=this['_getNodeTr'+'ansform'](_0x58b453,_0x36c027['entity']),_0x4379f7=_0x36c027['getCompoun'+'dChildShap'+'eIndex'](_0x58b453['collision']['shape']);_0x4379f7===null?_0x36c027['shape']['addChildSh'+'ape'](_0x3896d6,_0x58b453['collision']['data']['shape']):_0x36c027['shape']['updateChil'+'dTransform'](_0x4379f7,_0x3896d6,!(-0x1a17*0x1+-0x1*-0x217b+0x1d9*-0x4)),Ammo['destroy'](_0x3896d6);}}['_removeCom'+'poundChild'](_0x31186a,_0x7507d9){if(_0x31186a['shape']['getNumChil'+'dShapes']()!==0x3f7+0x114*-0x16+-0x185*-0xd){if(_0x31186a['shape']['removeChil'+'dShape'])_0x31186a['shape']['removeChil'+'dShape'](_0x7507d9);else{const _0x17a0b8=_0x31186a['getCompoun'+'dChildShap'+'eIndex'](_0x7507d9);_0x17a0b8!==null&&_0x31186a['shape']['removeChil'+'dShapeByIn'+'dex'](_0x17a0b8);}}}['onTransfor'+'mChanged'](_0x11575a,_0x574404,_0x5ae052,_0x4f30bf){this['implementa'+'tions'][_0x11575a['data']['type']]['updateTran'+'sform'](_0x11575a,_0x574404,_0x5ae052,_0x4f30bf);}['changeType'](_0x59b89e,_0x5abe24,_0x2059a0){this['implementa'+'tions'][_0x5abe24]['beforeRemo'+'ve'](_0x59b89e['entity'],_0x59b89e),this['implementa'+'tions'][_0x5abe24]['remove'](_0x59b89e['entity'],_0x59b89e['data']),this['_createImp'+'lementatio'+'n'](_0x2059a0)['reset'](_0x59b89e,_0x59b89e['data']);}['recreatePh'+'ysicalShap'+'es'](_0x2a319a){this['implementa'+'tions'][_0x2a319a['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x2a319a);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x18de99,_0x1759bc){if(_0x18de99===_0x1759bc){const _0x171155=_0x18de99['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0x171155['x'],_0x171155['y'],_0x171155['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x18de99['parent'],_0x1759bc),Xl['mul'](_0x18de99['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x21de6d){const _0x417b0f=_0x21de6d['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x417b0f['x'],_0x417b0f['y'],_0x417b0f['z']);}['_getNodeTr'+'ansform'](_0x1dc754,_0x56f147){let _0x2cba7d,_0x11f406;_0x56f147?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1dc754,_0x56f147),_0x2cba7d=iR,_0x11f406=Cr,Xl['getTransla'+'tion'](_0x2cba7d),_0x11f406['setFromMat'+'4'](Xl)):(_0x2cba7d=_0x1dc754['getPositio'+'n'](),_0x11f406=_0x1dc754['getRotatio'+'n']());const _0x264b6b=new Ammo['btQuaterni'+'on'](),_0x5127e0=new Ammo['btTransfor'+'m']();_0x5127e0['setIdentit'+'y']();const _0x39c4b5=_0x5127e0['getOrigin'](),_0x5b9411=_0x1dc754['collision'];if(_0x5b9411&&_0x5b9411['_hasOffset']){const _0x4ae45c=_0x5b9411['data']['linearOffs'+'et'],_0x45d94f=_0x5b9411['data']['angularOff'+'set'],_0x8d783e=rR;Cr['copy'](_0x11f406)['transformV'+'ector'](_0x4ae45c,_0x8d783e),_0x8d783e['add'](_0x2cba7d),Cr['copy'](_0x11f406)['mul'](_0x45d94f),_0x39c4b5['setValue'](_0x8d783e['x'],_0x8d783e['y'],_0x8d783e['z']),_0x264b6b['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x39c4b5['setValue'](_0x2cba7d['x'],_0x2cba7d['y'],_0x2cba7d['z']),_0x264b6b['setValue'](_0x11f406['x'],_0x11f406['y'],_0x11f406['z'],_0x11f406['w']);return _0x5127e0['setRotatio'+'n'](_0x264b6b),Ammo['destroy'](_0x264b6b),_0x5127e0;}['destroy'](){for(const _0x1247b8 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x1247b8]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x404a9c,_0x41f5c2,_0x4a2453){this['_entity']=_0x404a9c,this['_element']=_0x404a9c['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x41f5c2,this['meshInstan'+'ce']=new Le(this['mesh'],_0x4a2453,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x404a9c['name'],this['meshInstan'+'ce']['castShadow']=!(-0x2469+-0x17*-0xeb+0x1*0xf4d),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x25*0x10b+0x109f+-0x3735),this['_meshDirty']=!(0x36+0x1f7b+-0x1fb0),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x1cd397,_0x2ef59b;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x1cd397=this['meshInstan'+'ce'])==null||_0x1cd397['destroy'](),this['meshInstan'+'ce']=null,(_0x2ef59b=this['unmaskMesh'+'Instance'])==null||_0x2ef59b['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x4b94b1){this['meshInstan'+'ce']&&(this['mesh']=_0x4b94b1,this['meshInstan'+'ce']['mesh']=_0x4b94b1,this['meshInstan'+'ce']['visible']=!!_0x4b94b1,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x4b94b1),this['forceUpdat'+'eAabb']());}['setMask'](_0xe3bf53){var _0x56482a;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0xe3bf53){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x10e2+0x1f61*0x1+0x6*-0x80b),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x358*0x5+-0x1b92+-0x17*-0x1ed),this['unmaskMesh'+'Instance']['pick']=!(-0x1437+-0x1*-0x5d1+0xe67),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x540861 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x540861,this['meshInstan'+'ce']['parameters'][_0x540861]['data']);}else{const _0x479a01=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x479a01>=0x1933+0x148f+0x1*-0x2dc2&&this['model']['meshInstan'+'ces']['splice'](_0x479a01,-0x1208+0x1aee*0x1+-0x3*0x2f7);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0xe3bf53||((_0x56482a=this['unmaskMesh'+'Instance'])==null||_0x56482a['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x31835e){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x31835e,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x31835e));}['setParamet'+'er'](_0x2ec374,_0x159a24){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x2ec374,_0x159a24),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x2ec374,_0x159a24));}['deletePara'+'meter'](_0x1cf107){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x1cf107),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x1cf107));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x5a073b=function(_0x231df6){let _0x116d54;const _0x22449d=_0x231df6['children'],_0x3ca748=_0x22449d['length'];if(_0x3ca748){for(let _0x1dce5c=-0x1*0x253b+-0x12b3+-0x1bf7*-0x2;_0x1dce5c<_0x3ca748;_0x1dce5c++)_0x22449d[_0x1dce5c]['element']&&(_0x116d54=_0x22449d[_0x1dce5c]);if(!_0x116d54)return null;const _0x77577=_0x5a073b(_0x116d54);return _0x77577||_0x116d54;}return null;};if(this['unmaskMesh'+'Instance']){const _0xf9bbd4=_0x5a073b(this['_entity']);_0xf9bbd4&&_0xf9bbd4['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0xf9bbd4['element']['drawOrder']+_0xf9bbd4['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x3100f6){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x3100f6),this['meshInstan'+'ce']['drawOrder']=_0x3100f6);}['setCull'](_0x3f4a8e){if(!this['meshInstan'+'ce'])return;const _0x2ecf9d=this['_element'];let _0x31d0ee=null;_0x3f4a8e&&_0x2ecf9d['_isScreenS'+'pace']()&&(_0x31d0ee=function(_0x167954){return _0x2ecf9d['isVisibleF'+'orCamera'](_0x167954);}),this['meshInstan'+'ce']['cull']=_0x3f4a8e,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x31d0ee,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x3f4a8e,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x31d0ee);}['setScreenS'+'pace'](_0x392ea2){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x392ea2,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x392ea2));}['setLayer'](_0x2dbca2){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x2dbca2,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x2dbca2));}['forceUpdat'+'eAabb'](_0x1b848d){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x21b0+-0x1a2d+0x3bde),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x1*0xb32+-0x1b2*-0x13+-0x3*0x701)));}['setAabbFun'+'c'](_0x57faac){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x57faac,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x57faac));}}class _R{constructor(_0x1f78a7){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x1f78a7,this['_entity']=_0x1f78a7['entity'],this['_system']=_0x1f78a7['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x108a+0x263*-0x1+0x12ed,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0x1304+-0x241f+0x3724),this['_rect']=new Q(0x3b*-0x9b+0x20e7+0x2d2,0x1*-0xab5+0xf1*-0x8+0x17*0xcb,0xa2b+0x2026+-0x2a50,-0x19e*-0x15+-0x4e1*0x1+0x1d14*-0x1),this['_mask']=!(0x118d*0x1+0x1*-0x245b+0x12cf),this['_maskRef']=-0x2093*-0x1+0x1*-0x22d7+0x244,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(0x4*0x97+0x165f+0x1*-0x18b9),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x4*0x72d+0x22aa+-0x1*0x5f2),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0x147e+0x2479+-0x43*0x3d),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(0x2e*0x5e+0x1*0x787+-0x186a,-0x18b6+-0x35*0x20+0x1f57,-0x7*-0x25f+0x5*-0x47c+0x5d4,0x24f4+-0x1738+-0xdbb),this['_colorUnif'+'orm']=new Float32Array([0x16d9+-0x17b3+0xdb,-0x8*0x185+0xb57*-0x2+0x22d7*0x1,-0x10a2+0xe*-0x67+0x1645]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0x4cc*-0x1+-0x240b*-0x1+-0x1f3e),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x444cca){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x4a324e){this['_updateMat'+'erial'](_0x4a324e);}['_onScreenC'+'hange'](_0x292457,_0x407f79){_0x292457?this['_updateMat'+'erial'](_0x292457['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x2ad*-0xb+-0x236b+0x5fd));}['_onDrawOrd'+'erChange'](_0x4c1a1b){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x4c1a1b),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0x629+0x23a5+-0x1d7b);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x3ecc71){const _0x35fac7=!!this['_mask'],_0x8b4fb7=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0x456ed2=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x3ecc71,_0x35fac7,_0x8b4fb7,_0x456ed2)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x3ecc71),this['_renderabl'+'e']['setLayer'](_0x3ecc71?Ub:c0));}['_createMes'+'h'](){const _0x287c1c=this['_element'],_0x32c936=_0x287c1c['calculated'+'Width'],_0x3b4f7c=_0x287c1c['calculated'+'Height'],_0x20aff5=this['_rect'],_0x4dfb3f=this['_system']['app']['graphicsDe'+'vice'],_0x49209e=new Float32Array([_0x32c936,0x13dd+0x1*-0x22df+-0x11*-0xe2,0x12e4+0x2584+-0x3868,-0xf57+-0x3*0x579+0x2*0xfe1,-0x68+0x1b8d+-0x1*0x1b25,-0x85a+0x170f+0x75a*-0x2,_0x20aff5['x']+_0x20aff5['z'],0x2472+-0x82*0x41+-0x36f-_0x20aff5['y'],_0x32c936,_0x3b4f7c,-0x1*-0x20b1+0x1093+0x1*-0x3144,-0x8db+0x1186+-0x8ab*0x1,0x106d+0x2098+-0x59*0x8d,-0x2*-0xacf+0x2269+-0x8e*0x65,_0x20aff5['x']+_0x20aff5['z'],0x1*-0x1e2b+0x9a+0x1d92-(_0x20aff5['y']+_0x20aff5['w']),0x2269+-0x1a19+-0x850,-0x20e*0x9+-0xcf9+-0x9*-0x37f,-0xd8f+0x1*0xd9c+0x1*-0xd,0x19e*0x6+-0x2689*-0x1+-0x303d,-0x159b*0x1+-0x659+0x1*0x1bf4,0x1*0x2051+-0x2*-0x1286+-0x455c,_0x20aff5['x'],0x1c*0x61+-0xc33+-0x18*-0x11-_0x20aff5['y'],0x105+0x7cf+-0xe2*0xa,_0x3b4f7c,-0xe28+0x1076+0x1*-0x24e,0x1454+-0x1*-0x18eb+-0x2d3f,0x1*-0x989+0x21c3+-0x7*0x376,0x15db+-0x252f+0xf55,_0x20aff5['x'],-0x134b+-0xd63*-0x1+0x11*0x59-(_0x20aff5['y']+_0x20aff5['w'])]),_0x4f16c3=pR['get'](_0x4dfb3f,()=>new Et(_0x4dfb3f,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x9c8bd9=new os(_0x4dfb3f,_0x4f16c3,-0xce4+0x15a*-0x4+0x1250,{'data':_0x49209e['buffer']}),_0x5f2b68=new Ie(_0x4dfb3f);return _0x5f2b68['vertexBuff'+'er']=_0x9c8bd9,_0x5f2b68['primitive'][-0x1123+0x3*0x9eb+0x1*-0xc9e]['type']=ar,_0x5f2b68['primitive'][0xce*-0x7+0x2101*0x1+-0x1b5f]['base']=0x12a9+-0x19a+-0xb*0x18d,_0x5f2b68['primitive'][0xa*-0x1fa+0x10d4+0x2f0]['count']=0x16d9*-0x1+-0x19a3+0x3080,_0x5f2b68['primitive'][-0x2020+-0x9f8+0x2a18]['indexed']=!(-0x5c3+-0x1343+0x1907),_0x5f2b68['aabb']['setMinMax'](T['ZERO'],new T(_0x32c936,_0x3b4f7c,0x16e4+-0xd4b+-0x999)),this['_updateMes'+'h'](_0x5f2b68),_0x5f2b68;}['_updateMes'+'h'](_0xe6297b){const _0x542afa=this['_element'];let _0x22d834=_0x542afa['calculated'+'Width'],_0x30495a=_0x542afa['calculated'+'Height'];if(_0x542afa['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>0x13a4+0xa61+0x109*-0x1d){const _0x515b1e=_0x542afa['calculated'+'Width']/_0x542afa['calculated'+'Height'];_0x542afa['fitMode']===YP&&_0x515b1e>this['_targetAsp'+'ectRatio']||_0x542afa['fitMode']===KP&&_0x515b1e<this['_targetAsp'+'ectRatio']?_0x22d834=_0x542afa['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x30495a=_0x542afa['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x3de400=_0x542afa['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x3de400),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0x318351=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x1addc2=(0xdd4+0x212e+0x8*-0x5e0)/_0x318351['rect']['z'],_0x43b8c3=(0x1b2d+-0x1*-0x1433+-0x2b*0x11a)/_0x318351['rect']['w'];this['_innerOffs'+'et']['set'](_0x318351['border']['x']*_0x1addc2,_0x318351['border']['y']*_0x43b8c3,_0x318351['border']['z']*_0x1addc2,_0x318351['border']['w']*_0x43b8c3);const _0x442026=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x318351['rect']['x']/_0x442026['width'],_0x318351['rect']['y']/_0x442026['height'],_0x318351['rect']['z']/_0x442026['width'],_0x318351['rect']['w']/_0x442026['height']);const _0x203865=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x5342c6=_0x318351['rect']['z']/_0x203865,_0x2d9062=_0x318351['rect']['w']/_0x203865;this['_outerScal'+'e']['set'](Math['max'](_0x22d834,this['_innerOffs'+'et']['x']*_0x5342c6),Math['max'](_0x30495a,this['_innerOffs'+'et']['y']*_0x2d9062));let _0x9d0e20=_0x5342c6,_0x12d89a=_0x2d9062;this['_outerScal'+'e']['x']/=_0x5342c6,this['_outerScal'+'e']['y']/=_0x2d9062,_0x9d0e20*=N['clamp'](_0x22d834/(this['_innerOffs'+'et']['x']*_0x5342c6),0x10a1+-0x1*0x1fd+0x752*-0x2+0.0001,-0x813+-0x5*-0x721+-0x1b91),_0x12d89a*=N['clamp'](_0x30495a/(this['_innerOffs'+'et']['y']*_0x2d9062),-0xd3d*-0x2+-0x296+-0x2*0xbf2+0.0001,-0x8e+-0x1e4b+0x1eda),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x21d*0xe+-0xf2b+0x43*0xab]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x1*-0x1145+-0x183d+0x55*0x15]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x2504+-0x248+-0x22ba]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x5a7+-0x2650+0x82b*0x4]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x4*-0x4b6+0xf03+0x3d5]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x1eb9+-0xae3+-0x9f*-0x43]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x22c4*0x1+0x1a2f+0x897*0x1]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x6e*0x56+0x6b6*0x4+0x1543*-0x3]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x98b+0x4d*-0x1d+0xd2*-0x1]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0xfa9+-0xae6+0x1a90]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x9d0e20,_0x12d89a,0xefb+0x1*-0x90b+0x31*-0x1f),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0xa9*-0x17+-0x65*0xd+0x1*0x1450+0.5-_0x542afa['pivot']['x'])*_0x22d834,(0x4b*0x38+0x53*-0x25+-0x469+0.5-_0x542afa['pivot']['y'])*_0x30495a,-0x1*0xcb5+0x1*-0xf92+-0x1*-0x1c47));}else{const _0x4d7ead=_0xe6297b['vertexBuff'+'er'],_0x8079f0=new Float32Array(_0x4d7ead['lock']()),_0x349e79=_0x542afa['pivot']['x'],_0x49f64f=_0x542afa['pivot']['y'];_0x8079f0[-0x2437+0x11*0x233+0x6*-0x32]=_0x22d834-_0x349e79*_0x22d834,_0x8079f0[-0x2395+0x529*-0x5+0x3d63]=0x22b5+-0x20dc+-0x2b*0xb-_0x49f64f*_0x30495a,_0x8079f0[0xc9+-0x1*0x14e9+-0xac*-0x1e]=_0x22d834-_0x349e79*_0x22d834,_0x8079f0[-0xd56+-0x1e55+0x2bb4]=_0x30495a-_0x49f64f*_0x30495a,_0x8079f0[-0x66b*-0x1+-0x755+-0x32*-0x5]=0x1*-0x50d+0x6bb*0x2+-0x869*0x1-_0x349e79*_0x22d834,_0x8079f0[0x1cc5+0x66c*-0x1+0x3e*-0x5c]=-0x1dc1*-0x1+0x4*0x698+0x1*-0x3821-_0x49f64f*_0x30495a,_0x8079f0[-0x2c8+-0x1*0xed1+0x11b1]=0x3ce*-0xa+-0xad1*-0x1+0x1b3b-_0x349e79*_0x22d834,_0x8079f0[-0x9*-0x347+-0x22a7+0x541*0x1]=_0x30495a-_0x49f64f*_0x30495a;let _0x50089a=-0xba8+0x31*0x8b+-0xef2,_0x5a4578=0x5b*-0x3d+-0x25+0xcf*0x1b,_0x568463=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x3020a9=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x3020a9&&(_0x568463=_0x3020a9['rect'],_0x50089a=this['_sprite']['atlas']['texture']['width'],_0x5a4578=this['_sprite']['atlas']['texture']['height']);}_0x8079f0[0x26c7+0x22*-0x49+0x1*-0x1d0f]=(_0x568463['x']+_0x568463['z'])/_0x50089a,_0x8079f0[0x4c7*0x8+0x1f95+-0x1*0x45c6]=-0x11ee+-0x11*-0x23b+-0x9fe*0x2-_0x568463['y']/_0x5a4578,_0x8079f0[-0x1105+-0x2*-0xb59+-0x59f]=(_0x568463['x']+_0x568463['z'])/_0x50089a,_0x8079f0[-0x1cc9+0x20ed+-0x415]=-0x1118*0x1+0x159a+0x481*-0x1-(_0x568463['y']+_0x568463['w'])/_0x5a4578,_0x8079f0[0x1aff+-0x19b+-0x194e]=_0x568463['x']/_0x50089a,_0x8079f0[0x28*0x9+0x213d+-0x228e]=-0x4b*-0x1b+0xce*0x2+-0x984-_0x568463['y']/_0x5a4578,_0x8079f0[-0x1302+-0x1e99+0x31b9]=_0x568463['x']/_0x50089a,_0x8079f0[0x1*-0x1c2e+0x2f*0x80+0x4cd]=0x20e7+0x1*0x397+0x1*-0x247d-(_0x568463['y']+_0x568463['w'])/_0x5a4578,_0x4d7ead['unlock']();const _0x596602=new T(0x9*0x3a5+0x1e8d+-0x3f5a-_0x349e79*_0x22d834,-0x1975+0x667*0x3+-0xa0*-0xa-_0x49f64f*_0x30495a,0x32c*-0xc+-0x1*-0xa5d+0x1bb3*0x1),_0x236305=new T(_0x22d834-_0x349e79*_0x22d834,_0x30495a-_0x49f64f*_0x30495a,0x18d9+0x1487*-0x1+-0x452);_0xe6297b['aabb']['setMinMax'](_0x596602,_0x236305),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x5fb*-0x2+-0x3*0x99a+0x5d3*0x7,0xd2+-0x1639+0x224*0xa,-0x1*0x71e+0x1*0x10c1+-0x9a2),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x1c5+0x4*0x4a8+-0x35f*0x5,-0x919+0x24da+-0x1bc1,0x149e+0x3*0x12b+0x41*-0x5f),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x52*0x3+-0xaf4*-0x3+-0x1fe5);}['_updateSpr'+'ite'](){let _0x135596=!(-0x6f1+-0x1432+0x1b24),_0x341d17=null;if(this['_targetAsp'+'ectRatio']=-(0x10*-0x1ed+0x11aa+0xd27),this['_sprite']&&this['_sprite']['atlas']){_0x341d17=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x135596=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0xf00c38=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0xf00c38==null?void(-0xd*-0x45+0x1c67+-0x1*0x1fe8):_0xf00c38['rect']['w'])>0x1ee+0x7*0x35f+-0x1987&&(this['_targetAsp'+'ectRatio']=_0xf00c38['rect']['z']/_0xf00c38['rect']['w']);}this['mesh']=_0x135596?_0x341d17:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x8*-0xd+0x4*0x6ca+-0x6e4*0x4):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x27f30b){return _0x27f30b['center']['set'](0xfda+-0xfe*-0x17+-0x26ac,0x138c+-0x157c+0x1f0,0x10*0x259+-0x18e*0x17+0x7*-0x42),_0x27f30b['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x3a1*0x3+-0xcb*0x7+0x556*-0x1+0.5),this['_outerScal'+'e']['y']*(0x38b+-0x7ca*0x1+-0x43f*-0x1+0.5),-0x3e3+0x7*0x453+-0x1a62+0.001),_0x27f30b['setFromTra'+'nsformedAa'+'bb'](_0x27f30b,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x27f30b;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x21161d=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x21161d),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x12d331){this['material']=_0x12d331['resource'];}['_onMateria'+'lAdded'](_0x554053){this['_system']['app']['assets']['off']('add:'+_0x554053['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x554053['id']&&this['_bindMater'+'ialAsset'](_0x554053);}['_bindMater'+'ialAsset'](_0x16d842){this['_entity']['enabled']&&(_0x16d842['on']('load',this['_onMateria'+'lLoad'],this),_0x16d842['on']('change',this['_onMateria'+'lChange'],this),_0x16d842['on']('remove',this['_onMateria'+'lRemove'],this),_0x16d842['resource']?this['_onMateria'+'lLoad'](_0x16d842):this['_system']['app']['assets']['load'](_0x16d842));}['_unbindMat'+'erialAsset'](_0xc16a4a){_0xc16a4a['off']('load',this['_onMateria'+'lLoad'],this),_0xc16a4a['off']('change',this['_onMateria'+'lChange'],this),_0xc16a4a['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x3e8e03){this['_system']['app']['assets']['off']('add:'+_0x3e8e03['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x3e8e03['id']&&this['_bindTextu'+'reAsset'](_0x3e8e03);}['_bindTextu'+'reAsset'](_0x32a0a1){this['_entity']['enabled']&&(_0x32a0a1['on']('load',this['_onTexture'+'Load'],this),_0x32a0a1['on']('change',this['_onTexture'+'Change'],this),_0x32a0a1['on']('remove',this['_onTexture'+'Remove'],this),_0x32a0a1['resource']?this['_onTexture'+'Load'](_0x32a0a1):this['_system']['app']['assets']['load'](_0x32a0a1));}['_unbindTex'+'tureAsset'](_0xc489a0){_0xc489a0['off']('load',this['_onTexture'+'Load'],this),_0xc489a0['off']('change',this['_onTexture'+'Change'],this),_0xc489a0['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x3ffee9){this['texture']=_0x3ffee9['resource'];}['_onTexture'+'Change'](_0x214ec6){}['_onTexture'+'Remove'](_0x1da7d4){}['_onSpriteA'+'ssetAdded'](_0x103ec7){this['_system']['app']['assets']['off']('add:'+_0x103ec7['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x103ec7['id']&&this['_bindSprit'+'eAsset'](_0x103ec7);}['_bindSprit'+'eAsset'](_0x57868f){this['_entity']['enabled']&&(_0x57868f['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x57868f['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x57868f['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x57868f['resource']?this['_onSpriteA'+'ssetLoad'](_0x57868f):this['_system']['app']['assets']['load'](_0x57868f));}['_unbindSpr'+'iteAsset'](_0xad09e2){_0xad09e2['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0xad09e2['off']('change',this['_onSpriteA'+'ssetChange'],this),_0xad09e2['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0xad09e2['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0xad09e2['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x1f839d){if(!_0x1f839d||!_0x1f839d['resource'])this['sprite']=null;else{if(_0x1f839d['resource']['atlas'])this['sprite']=_0x1f839d['resource'];else{const _0x3a45ee=_0x1f839d['data']['textureAtl'+'asAsset'];if(_0x3a45ee){const _0x2e281e=this['_system']['app']['assets'];_0x2e281e['off']('load:'+_0x3a45ee,this['_onTexture'+'AtlasLoad'],this),_0x2e281e['once']('load:'+_0x3a45ee,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x3b19c2){this['_onSpriteA'+'ssetLoad'](_0x3b19c2);}['_onSpriteA'+'ssetRemove'](_0x35489b){}['_bindSprit'+'e'](_0x782f06){this['_evtSetMes'+'hes']=_0x782f06['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x782f06['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x782f06['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x782f06['atlas']&&_0x782f06['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x6bd94c){var _0x84ef8a;(_0x84ef8a=this['_evtSetMes'+'hes'])==null||_0x84ef8a['off'](),this['_evtSetMes'+'hes']=null,_0x6bd94c['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x6bd94c['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x6bd94c['atlas']&&_0x6bd94c['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],0x54e*0x5+0x91a+-0x23a0,this['_sprite']['frameKeys']['length']-(-0x1*-0x1cb2+-0x2cf*-0xc+0x1*-0x3e65))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x311f03){const _0x554246=this['_spriteAss'+'et'];_0x554246 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x554246):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x554246));}['onEnable'](){if(this['_materialA'+'sset']){const _0x43c464=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x43c464&&_0x43c464['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x43c464);}if(this['_textureAs'+'set']){const _0xddf53a=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0xddf53a&&_0xddf53a['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0xddf53a);}if(this['_spriteAss'+'et']){const _0x2d2d6c=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x2d2d6c&&_0x2d2d6c['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x2d2d6c);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x57f1b2){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x57f1b2,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x57f1b2;let _0x10f40b=-0xfc0+-0xa04+-0x44*-0x61;if(this['_element']['maskedBy']&&(_0x10f40b=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x2a433e=new qs({'ref':_0x10f40b+(-0x7a4+-0x16a2+0x1*0x1e47),'func':Ch,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x2a433e,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x2a433e;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][-0x1d30+0x16de+0x652]=jl['r'],this['_colorUnif'+'orm'][-0x1*-0xb11+0x4*0x512+0x1d8*-0x11]=jl['g'],this['_colorUnif'+'orm'][0x16a3+0x727*-0x5+0xd22]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x4cab49){this['_color']===_0x4cab49&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x2738cd,g:_0x17d0ca,b:_0x3b0e91}=_0x4cab49;(this['_color']['r']!==_0x2738cd||this['_color']['g']!==_0x17d0ca||this['_color']['b']!==_0x3b0e91)&&(this['_color']['r']=_0x2738cd,this['_color']['g']=_0x17d0ca,this['_color']['b']=_0x3b0e91,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x4469d4){_0x4469d4!==this['_color']['a']&&(this['_color']['a']=_0x4469d4,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x4469d4)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x4469d4);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x3ddecb){this['_rect']===_0x3ddecb&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x283c3b,_0x38f34d,_0x54e5f0,_0xf0caca;_0x3ddecb instanceof Q?(_0x283c3b=_0x3ddecb['x'],_0x38f34d=_0x3ddecb['y'],_0x54e5f0=_0x3ddecb['z'],_0xf0caca=_0x3ddecb['w']):(_0x283c3b=_0x3ddecb[-0x766+0x10f3*0x2+0xd4*-0x20],_0x38f34d=_0x3ddecb[-0x2290+-0xf1a+0x31ab],_0x54e5f0=_0x3ddecb[0x25af+0xb5*0x6+-0x29eb],_0xf0caca=_0x3ddecb[0xef2+-0x1b7+-0xd38]),!(_0x283c3b===this['_rect']['x']&&_0x38f34d===this['_rect']['y']&&_0x54e5f0===this['_rect']['z']&&_0xf0caca===this['_rect']['w'])&&(this['_rect']['set'](_0x283c3b,_0x38f34d,_0x54e5f0,_0xf0caca),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x164c+0x2*0x3ad+0xef2):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x4a0095=this['_system']['app']['assets'];_0x4a0095['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x2b81f1=_0x4a0095['get'](this['_materialA'+'sset']);_0x2b81f1&&(_0x2b81f1['off']('load',this['_onMateria'+'lLoad'],this),_0x2b81f1['off']('change',this['_onMateria'+'lChange'],this),_0x2b81f1['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x50f29d){if(this['_material']!==_0x50f29d){if(!_0x50f29d){const _0xd71aa5=this['_element']['_isScreenS'+'pace']();this['mask']?_0x50f29d=_0xd71aa5?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x50f29d=_0xd71aa5?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x50f29d,this['_materialA'+'sset']){const _0x5bb7de=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x5bb7de||_0x5bb7de['resource']!==_0x50f29d)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x50f29d&&(this['_renderabl'+'e']['setMateria'+'l'](_0x50f29d),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x2cf1f0){const _0xbce505=this['_system']['app']['assets'];let _0x26cbd0=_0x2cf1f0;if(_0x2cf1f0 instanceof le&&(_0x26cbd0=_0x2cf1f0['id']),this['_materialA'+'sset']!==_0x26cbd0){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x26cbd0,this['_materialA'+'sset']){const _0x31af73=_0xbce505['get'](this['_materialA'+'sset']);_0x31af73?this['_bindMater'+'ialAsset'](_0x31af73):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x26cbd0,_0xbce505['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x26cbd0;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x1c0968){if(this['_texture']!==_0x1c0968){if(this['_textureAs'+'set']){const _0x25f8b4=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x25f8b4&&_0x25f8b4['resource']!==_0x1c0968&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x1c0968,_0x1c0968){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x507ecb=this['_texture']['width']/this['_texture']['height'];_0x507ecb!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x507ecb,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x4*0x18d+0x2*-0x2d7+0xbe3),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x1d05b2){const _0x59f85b=this['_system']['app']['assets'];let _0x3a8aca=_0x1d05b2;if(_0x1d05b2 instanceof le&&(_0x3a8aca=_0x1d05b2['id']),this['_textureAs'+'set']!==_0x3a8aca){if(this['_textureAs'+'set']){_0x59f85b['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x3462ae=_0x59f85b['get'](this['_textureAs'+'set']);_0x3462ae&&(_0x3462ae['off']('load',this['_onTexture'+'Load'],this),_0x3462ae['off']('change',this['_onTexture'+'Change'],this),_0x3462ae['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x3a8aca,this['_textureAs'+'set']){const _0x3b9fc4=_0x59f85b['get'](this['_textureAs'+'set']);_0x3b9fc4?this['_bindTextu'+'reAsset'](_0x3b9fc4):(this['texture']=null,_0x59f85b['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x8c9a62){const _0x58f6d9=this['_system']['app']['assets'];let _0x471665=_0x8c9a62;if(_0x8c9a62 instanceof le&&(_0x471665=_0x8c9a62['id']),this['_spriteAss'+'et']!==_0x471665){if(this['_spriteAss'+'et']){_0x58f6d9['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x5eed55=_0x58f6d9['get'](this['_spriteAss'+'et']);_0x5eed55&&this['_unbindSpr'+'iteAsset'](_0x5eed55);}if(this['_spriteAss'+'et']=_0x471665,this['_spriteAss'+'et']){const _0x147dc2=_0x58f6d9['get'](this['_spriteAss'+'et']);_0x147dc2?this['_bindSprit'+'eAsset'](_0x147dc2):(this['sprite']=null,_0x58f6d9['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x471665);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x219420){if(this['_sprite']!==_0x219420){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x2c044d=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x2c044d&&_0x2c044d['resource']!==_0x219420&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x219420,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x1010+-0x72c*-0x1+0x8e4,this['_sprite']['frameKeys']['length']-(0x7f+0x607+-0x685*0x1))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x5cf842){const _0x55a4f5=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x5cf842,-0x3a1+-0x49*0x65+0x206e,this['_sprite']['frameKeys']['length']-(0x2f*-0xa2+-0x1*-0xee9+-0x1*-0xed6)):this['_spriteFra'+'me']=_0x5cf842,this['_spriteFra'+'me']!==_0x55a4f5&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x5cf842);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x5c98b6){this['_renderabl'+'e']['setMesh'](_0x5c98b6),this['_defaultMe'+'sh']===_0x5c98b6?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x44b9e4){this['_mask']!==_0x44b9e4&&(this['_mask']=_0x44b9e4,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x583d66){this['_pixelsPer'+'Unit']!==_0x583d66&&(this['_pixelsPer'+'Unit']=_0x583d66,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x2a38cf){super(),this['_app']=_0x2a38cf,_0x2a38cf['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0x107*-0x21+0x7*-0x434+0x3f54),this['_disableLo'+'calization']=!(-0x21f9+-0x23ac+0x45a6),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x1fbe4d){const _0x25f5d6=_0x1fbe4d instanceof le?_0x1fbe4d['id']:_0x1fbe4d;this['_defaultAs'+'set']!==_0x25f5d6&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x25f5d6,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x4c4177){const _0x3b6178=_0x4c4177 instanceof le?_0x4c4177['id']:_0x4c4177;this['_localized'+'Asset']!==_0x3b6178&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x3b6178,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x4ef627){this['_autoLoad']!==_0x4ef627&&(this['_autoLoad']=_0x4ef627,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x2acb37){this['_disableLo'+'calization']!==_0x2acb37&&(this['_disableLo'+'calization']=_0x2acb37,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x43038b=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x43038b?this['_onDefault'+'AssetAdd'](_0x43038b):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x21985d=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x21985d&&(_0x21985d['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x21985d['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x21985d['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x564a3a){this['_defaultAs'+'set']===_0x564a3a['id']&&(_0x564a3a['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x564a3a['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x564a3a['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x20edbc){this['_defaultAs'+'set']===_0x20edbc['id']&&(_0x20edbc['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x20edbc['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x1e92fe=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x1e92fe&&(_0x1e92fe['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x1e92fe['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x1e92fe['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x1e92fe['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x1e92fe):this['_app']['assets']['load'](_0x1e92fe));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x29e6af=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x29e6af&&(_0x29e6af['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x29e6af['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x29e6af['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x4773c7){this['_localized'+'Asset']===_0x4773c7['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x8a2aa0){this['fire']('load',_0x8a2aa0);}['_onLocaliz'+'edAssetCha'+'nge'](_0x147b73,_0x119def,_0x39f6d9,_0x215123){this['fire']('change',_0x147b73,_0x119def,_0x39f6d9,_0x215123);}['_onLocaliz'+'edAssetRem'+'ove'](_0x4bfe36){this['_localized'+'Asset']===_0x4bfe36['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x4bfe36);}['_onLocaleA'+'dd'](_0x4a7f67,_0x3a97f7){this['_app']['i18n']['locale']===_0x4a7f67&&this['_onSetLoca'+'le'](_0x4a7f67);}['_onLocaleR'+'emove'](_0x2c4362,_0x505ae0){this['_app']['i18n']['locale']===_0x2c4362&&this['_onSetLoca'+'le'](_0x2c4362);}['_onSetLoca'+'le'](_0x379ee1){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x4b1b39=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x4b1b39||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x247096=_0x4b1b39['getLocaliz'+'edAssetId'](_0x379ee1);if(!_0x247096){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x247096;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=0x2651+-0x14b6*0x1+-0x119b*0x1,Kn=-0x22fa+0x1505*0x1+0xdf6,of=0x19*-0xfa+0x10f5+0x777,ix=0x1*0x1147+-0xbb*0x1+-0x1089,lf=0x59*-0x26+0x13fe+-0x6c4,hf=0x7a+-0xf68+0xef3,cf=0x18a5*0x1+-0xa89+0x6*-0x259,df=-0x4*0x6c4+-0x1ea5*-0x1+-0x38e,dg=0xe5d*0x1+-0x1*0x1a82+-0xc2d*-0x1,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x588b03){this['_symbols']=_0x588b03,this['_index']=0x23b2+0x1*-0x163+-0x224f,this['_last']=0x6a*0x2b+0x4*-0x7+0x3*-0x5e6,this['_cur']=this['_symbols']['length']>-0xa2f+-0x17de+0x220d?this['_symbols'][-0x5*0xf1+-0x26f1+0x2ba6]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x33e414=this['_read']();for(;_0x33e414===dg;)_0x33e414=this['_read']();return _0x33e414!==ho&&_0x33e414!==Kn&&(this['_last']=this['_index']),_0x33e414;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x3ba2ec=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x17a598=this['read'](),_0x53ee23='';for(;_0x53ee23+=(_0x53ee23['length']>-0x1a8a+-0x2392+-0x1*-0x3e1c?'\x0a':'')+_0x3ba2ec[_0x17a598]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x17a598===ho||_0x17a598===Kn);)_0x17a598=this['read']();return _0x53ee23;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x170f*-0x1+0x1403+-0x2b12?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>0x1236+0x2627+-0x385d?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(-0x1072+0x186f+-0x7fc);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x47fb65){return _0x47fb65['length']===0x52*0x6b+0x1e44+-0x4089&&_0x47fb65['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x133d08){this['_buf']['push'](_0x133d08);}}class bR{constructor(_0x4a7243){this['_scanner']=new vR(_0x4a7243),this['_error']=null;}['parse'](_0x357a68,_0x216ee4){for(;;)switch(this['_scanner']['read']()){case ho:return!(0x745+-0x6a3+-0x6*0x1b);case Kn:return!(0xc8a+0x77*0x3a+0x277f*-0x1);case of:Array['prototype']['push']['apply'](_0x357a68,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x357a68,_0x216ee4))return!(-0x234+-0x251c+0x2751);break;default:return!(-0x2*0x482+-0xe7+0x9ec);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x5b6e7b,_0x3b2d45){let _0x2d0111=this['_scanner']['read']();if(_0x2d0111!==df)return this['_error']='expected\x20i'+'dentifier',!(-0x455+-0xb*0x340+0x2816);const _0x3474fa=this['_scanner']['buf']()['join']('');if(_0x3474fa[0x3*0xb65+0x14fd+-0x372c]==='/'){for(let _0x33aaa7=_0x3b2d45['length']-(-0x1*-0x12+0x1*-0x97b+0x4b5*0x2);_0x33aaa7>=-0x1ad1+-0x9*0xb+0x1b34;--_0x33aaa7)if(_0x3474fa==='/'+_0x3b2d45[_0x33aaa7]['name']&&_0x3b2d45[_0x33aaa7]['end']===null)return _0x3b2d45[_0x33aaa7]['end']=_0x5b6e7b['length'],_0x2d0111=this['_scanner']['read'](),_0x2d0111!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x1*0x1e13+-0x2*-0x1350+-0x446*0x2)):!(-0x305*0x2+-0x1937+0x1f41);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0x262d+-0x83*0x26+-0x3*0x63e);}const _0x1dc1d8={'name':_0x3474fa,'value':null,'attributes':{},'start':_0x5b6e7b['length'],'end':null};if(_0x2d0111=this['_scanner']['read'](),_0x2d0111===hf){if(_0x2d0111=this['_scanner']['read'](),_0x2d0111!==cf)return this['_error']='expected\x20s'+'tring',!(0x1040+-0x13*-0x27+-0x1324);_0x1dc1d8['value']=this['_scanner']['buf']()['join'](''),_0x2d0111=this['_scanner']['read']();}for(;;){switch(_0x2d0111){case lf:return _0x3b2d45['push'](_0x1dc1d8),!(-0x2344+-0x2072+0x1692*0x3);case df:{const _0x541594=this['_scanner']['buf']()['join']('');if(_0x2d0111=this['_scanner']['read'](),_0x2d0111!==hf)return this['_error']='expected\x20e'+'quals',!(0x961+0x1341+0x417*-0x7);if(_0x2d0111=this['_scanner']['read'](),_0x2d0111!==cf)return this['_error']='expected\x20s'+'tring',!(0x2*0xdd5+0x5d*-0x2f+-0x21e*0x5);const _0x328fec=this['_scanner']['buf']()['join']('');_0x1dc1d8['attributes'][_0x541594]=_0x328fec;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x122f+0xa5*-0x3+0x103f*-0x1);}_0x2d0111=this['_scanner']['read']();}}}function rx(_0x25297c,_0x400cf2){for(const _0x1d3002 in _0x400cf2){if(!_0x400cf2['hasOwnProp'+'erty'](_0x1d3002))continue;const _0x1f93bb=_0x400cf2[_0x1d3002];_0x1f93bb instanceof Object?(_0x25297c['hasOwnProp'+'erty'](_0x1d3002)||(_0x25297c[_0x1d3002]={}),rx(_0x25297c[_0x1d3002],_0x400cf2[_0x1d3002])):_0x25297c[_0x1d3002]=_0x1f93bb;}}function wR(_0x4c2bd2){if(_0x4c2bd2['length']===0x91*0x17+-0x41+-0xcc6)return null;const _0x289bde={};for(let _0x4f1499=0xee*-0x9+0x2659+-0x1dfb;_0x4f1499<_0x4c2bd2['length'];++_0x4f1499){const _0x3e93da=_0x4c2bd2[_0x4f1499],_0x564562={};_0x564562[_0x3e93da['name']]={'value':_0x3e93da['value'],'attributes':_0x3e93da['attributes']},rx(_0x289bde,_0x564562);}return _0x289bde;}function TR(_0x3d8550,_0x34ece8){if(_0x3d8550['length']===-0x226c+-0x451+0x26bd)return null;const _0x51e4f3={};for(let _0x5a39a2=-0x3*0xb83+-0x13e*0xd+-0xf*-0x361;_0x5a39a2<_0x3d8550['length'];++_0x5a39a2){const _0x2650e3=_0x3d8550[_0x5a39a2];_0x51e4f3['hasOwnProp'+'erty'](_0x2650e3['start'])?_0x51e4f3[_0x2650e3['start']]['open']===null?_0x51e4f3[_0x2650e3['start']]['open']=[_0x2650e3]:_0x51e4f3[_0x2650e3['start']]['open']['push'](_0x2650e3):_0x51e4f3[_0x2650e3['start']]={'open':[_0x2650e3],'close':null},_0x51e4f3['hasOwnProp'+'erty'](_0x2650e3['end'])?_0x51e4f3[_0x2650e3['end']]['close']===null?_0x51e4f3[_0x2650e3['end']]['close']=[_0x2650e3]:_0x51e4f3[_0x2650e3['end']]['close']['push'](_0x2650e3):_0x51e4f3[_0x2650e3['end']]={'open':null,'close':[_0x2650e3]};}let _0x4760ac=[];function _0x2c5ef2(_0x2468f7){_0x4760ac=_0x4760ac['filter'](_0x987dc6=>_0x2468f7['find'](_0x3cb6e7=>_0x3cb6e7===_0x987dc6)===void(0x2647+-0xa9c+-0x1bab));}function _0x5ffee4(_0x2f585d){for(let _0x3248e3=0x3*0x54a+-0xd*0x2fb+0x16e1;_0x3248e3<_0x2f585d['length'];++_0x3248e3)_0x4760ac['push'](_0x2f585d[_0x3248e3]);}const _0x290e1e=Object['keys'](_0x51e4f3)['sort']((_0x33bc62,_0x7a3c37)=>_0x33bc62-_0x7a3c37),_0x3f9666=[];for(let _0x2ac506=-0xb*0x37+0x227f+-0x2022;_0x2ac506<_0x290e1e['length'];++_0x2ac506){const _0x28fb6b=_0x51e4f3[_0x290e1e[_0x2ac506]];_0x28fb6b['close']!==null&&_0x2c5ef2(_0x28fb6b['close']),_0x28fb6b['open']!==null&&_0x5ffee4(_0x28fb6b['open']),_0x3f9666['push']({'start':_0x290e1e[_0x2ac506],'tags':wR(_0x4760ac)});}const _0x193f4b=[];let _0x313667=null;for(let _0xed60e3=0x1034+-0x1*0x1255+-0x221*-0x1;_0xed60e3<_0x3f9666['length'];++_0xed60e3){const _0x1de448=_0x3f9666[_0xed60e3];for(;_0x193f4b['length']<_0x1de448['start'];)_0x193f4b['push'](_0x313667?_0x313667['tags']:null);_0x313667=_0x1de448;}for(;_0x193f4b['length']<_0x34ece8;)_0x193f4b['push'](null);return _0x193f4b;}function AR(_0x4234ac){const _0x3aa64d=new bR(_0x4234ac),_0x236d09=[],_0x535056=[];if(!_0x3aa64d['parse'](_0x236d09,_0x535056))return console['warn'](_0x3aa64d['error']()),{'symbols':_0x4234ac,'tags':null};const _0x38ac4e=_0x535056['find'](_0x1f0bd4=>_0x1f0bd4['end']===null);if(_0x38ac4e)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x38ac4e['name']+'\x27'),{'symbols':_0x4234ac,'tags':null};const _0x39abe9=TR(_0x535056,_0x236d09['length']);return{'symbols':_0x236d09,'tags':_0x39abe9};}class ER{static['evaluate'](_0x58b840){return AR(_0x58b840);}}class CR{constructor(){this['count']=0x10*0xf2+-0x2399+0x1479,this['quad']=0x24e5+-0x115e+-0x1387*0x1,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x1baf08,_0x3c468f){const _0x4c6481=new Ie(_0x1baf08);return _0x4c6481['setPositio'+'ns'](_0x3c468f['positions']),_0x4c6481['setNormals'](_0x3c468f['normals']),_0x4c6481['setColors3'+'2'](_0x3c468f['colors']),_0x4c6481['setUvs'](-0xf07+0x6f*0x17+0x50e,_0x3c468f['uvs']),_0x4c6481['setIndices'](_0x3c468f['indices']),_0x4c6481['setVertexS'+'tream'](Po,_0x3c468f['outlines'],-0xc9*0x7+-0x8*0x1e2+-0x1492*-0x1,void(-0x1*-0x142f+-0x2*-0x2bd+-0x1*0x19a9),Ee,!(-0x1*-0x1733+-0xe89*0x1+0x3*-0x2e3)),_0x4c6481['setVertexS'+'tream'](Ro,_0x3c468f['shadows'],0xa*-0x2ac+-0x1a*0x127+0x38b1,void(-0x179d+-0x2a*0x7f+-0x2c73*-0x1),Ee,!(0x7f0*-0x2+-0x1*-0x2168+-0x1187)),_0x4c6481['update'](),_0x4c6481;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[〕〉》」』】〙〗〟ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻]$/,DR=['​','؜','‎','‏','‪','‫','‬','‭','‮','⁦','⁧','⁨','⁩'],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new W(),Me=new Y();class OR{constructor(_0x363378){this['_element']=_0x363378,this['_system']=_0x363378['system'],this['_entity']=_0x363378['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x13*0x1cd+-0xead*0x1+-0x3*-0x104c),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(-0x1*0x221b+0x2127+0xf5,-0x2*0x8e0+-0x227b+0x343c,-0x13d7+-0x1a28+0x2e*0x100,0xab7+-0x20f9+0x8b*0x29),this['_colorUnif'+'orm']=new Float32Array(-0x4b7*-0x7+0x1090+-0x318e),this['_spacing']=0x12c1*0x1+0x2*0x1343+0x2*-0x1ca3,this['_fontSize']=-0x37f*-0xb+-0xe1b+0xc1d*-0x2,this['_fontMinY']=-0xa27+0x1b39+-0x1*0x1112,this['_fontMaxY']=0x35*0x5b+0x3*-0xbb9+0x1054,this['_originalF'+'ontSize']=0x1242+-0xea5*-0x1+-0x20c7,this['_maxFontSi'+'ze']=-0x1204+-0xd15+0x1f39,this['_minFontSi'+'ze']=0x1*-0x7d5+0xd4f+0x22*-0x29,this['_autoFitWi'+'dth']=!(0xc85+-0x61*-0x4d+0x29b1*-0x1),this['_autoFitHe'+'ight']=!(0xd86+-0x232f*0x1+0x15aa),this['_maxLines']=-(-0x1*0x12b7+0x4b6+0x1*0xe02),this['_lineHeigh'+'t']=-0x1*0x8d2+-0x1*0x219+0xb*0x101,this['_scaledLin'+'eHeight']=-0x16e5*-0x1+-0x68d+-0x2b4*0x6,this['_wrapLines']=!(0x1*0x1bf2+0x1a40+0x3631*-0x1),this['_drawOrder']=-0x1399+0x84*-0x36+0x2f71,this['_alignment']=new W(-0x1879+0x17*0x122+-0x195+0.5,-0x7b1+-0x15d*-0x13+-0x1236+0.5),this['_autoWidth']=!(-0xa*0x2a1+0x324+0x1726),this['_autoHeigh'+'t']=!(0x94f+0x1*-0x216e+-0x41*-0x5f),this['width']=-0x170*-0x5+-0x13d3+-0x287*-0x5,this['height']=0x13*-0x13d+0x4e*0xc+0x1*0x13df,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x1b4b+0x27*0x57+0xe0a),this['_aabb']=new _e(),this['_noResize']=!(-0x1b5*-0x1+0x7f*0xc+0x14*-0x62),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x13a2+0x1f82+-0x3323),this['_unicodeCo'+'nverter']=!(0x7*0x388+0x1449*-0x1+-0x46e),this['_rtl']=!(-0x1c12+-0x8ce+0x24e1),this['_outlineCo'+'lor']=new Y(0x1d08+-0xefb+-0xe0d,0x20d0+-0x21*0x10b+0x19b,0x462+-0x343*0x7+0x1273*0x1,-0x13f4+0x18a5+-0x4b0),this['_outlineCo'+'lorUniform']=new Float32Array(0x266*0x7+0x35*0x13+-0x14b5),this['_outlineTh'+'icknessSca'+'le']=0x17a6+0x47*0x32+-0x2584+0.2,this['_outlineTh'+'ickness']=-0x1a7d*0x1+0x1418+0x1*0x665,this['_shadowCol'+'or']=new Y(-0x381+-0x12d*-0x6+0x9*-0x65,-0x10*-0x108+0x643*0x5+0x2fcf*-0x1,0x1dfb+0x1*-0x1af5+-0x306,-0x1*0xebb+0x200e+0x1*-0x1152),this['_shadowCol'+'orUniform']=new Float32Array(0x3d9+-0x4f0+-0x11b*-0x1),this['_shadowOff'+'setScale']=-0x1*0x222b+-0x216d+-0x2a*-0x19c+0.005,this['_shadowOff'+'set']=new W(-0x1131+0x1c8f*0x1+0x3ca*-0x3,-0x103b*0x1+-0x17cc+0x2807),this['_shadowOff'+'setUniform']=new Float32Array(-0x1e*-0x4e+0x192e+-0x3*0xb70),this['_enableMar'+'kup']=!(-0x1af9*0x1+-0x1c0e+0x3708),this['_onScreenC'+'hange'](this['_element']['screen']),_0x363378['on']('resize',this['_onParentR'+'esize'],this),_0x363378['on']('set:screen',this['_onScreenC'+'hange'],this),_0x363378['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x363378['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x363378['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x6d*-0x6+0x1796+0x1508*-0x1,this['_rangeEnd']=0x1e28+0x13*0x33+-0x21f1;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x59c12b,_0x673af3){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x3fcf61){_0x3fcf61?this['_updateMat'+'erial'](_0x3fcf61['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x3*0x741+0x1*0x1f0a+-0x946*0x1));}['_onScreenS'+'paceChange'](_0x58ca3c){this['_updateMat'+'erial'](_0x58ca3c);}['_onDrawOrd'+'erChange'](_0x46765a){if(this['_drawOrder']=_0x46765a,this['_model']){for(let _0x2a890f=-0x5c9+-0xb53+0x111c,_0x191f1c=this['_model']['meshInstan'+'ces']['length'];_0x2a890f<_0x191f1c;_0x2a890f++)this['_model']['meshInstan'+'ces'][_0x2a890f]['drawOrder']=_0x46765a;}}['_onPivotCh'+'ange'](_0x29aa34){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x13faa4){if(this['_i18nKey']){if(this['fontAsset']){const _0x37c3ea=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x37c3ea||!_0x37c3ea['resource']||_0x37c3ea['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x477431,_0x100434){this['_i18nKey']&&_0x100434[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x49d0a4){if(this['unicodeCon'+'verter']){const _0x35214e=this['_system']['getUnicode'+'Converter']();_0x35214e?_0x49d0a4=_0x35214e(_0x49d0a4):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x49d0a4&&(this['_font']&&this['_updateTex'+'t'](_0x49d0a4),this['_text']=_0x49d0a4);}['_updateTex'+'t'](_0x1931e3){let _0x527fda;if(_0x1931e3===void(0x56*-0xd+-0x33*-0x1d+-0x169)&&(_0x1931e3=this['_text']),this['_symbols']=ah['getSymbols'](_0x1931e3['normalize']?_0x1931e3['normalize']('NFC'):_0x1931e3),this['_symbols']['length']===-0x2536*0x1+-0x86e+-0x2*-0x16d2&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x5124a1=ER['evaluate'](this['_symbols']);this['_symbols']=_0x5124a1['symbols'],_0x527fda=_0x5124a1['tags']||[];}if(this['_rtlReorde'+'r']){const _0x22ddcd=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x22ddcd){const _0x4bfb03=_0x22ddcd(this['_symbols']);this['_rtl']=_0x4bfb03['rtl'],this['_symbols']=_0x4bfb03['mapping']['map'](function(_0x496902){return this['_symbols'][_0x496902];},this),_0x527fda&&(_0x527fda=_0x4bfb03['mapping']['map'](_0x546ce3=>_0x527fda[_0x546ce3]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x1205+0x17fd*0x1+-0x2a01);const _0x1a7e99=(_0x50d90b,_0x2279df)=>_0x50d90b['toString'](!(0x208f+-0x1b5*0x16+0x4ff))['toLowerCas'+'e']()+':'+_0x2279df['toFixed'](-0x2d3*0xb+0x5*-0x689+0x3fc0),_0x5ced18=(_0x1fcbba,_0x386dbe)=>_0x1fcbba['toString'](!(-0x2e*-0x35+0xdab+-0x1731))['toLowerCas'+'e']()+':'+_0x386dbe['x']['toFixed'](-0x24a4+0x1*-0x855+0x2cfb)+':'+_0x386dbe['y']['toFixed'](0x1*0x2351+0x125*0xa+-0x2ec1);if(_0x527fda){const _0x242d15={},_0xbf7be8={},_0x13d0cd={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x1494+-0x6*0x22d+0x9*0x3d9)),Math['round'](this['_color']['g']*(-0x1*0xf59+0x526+-0x1*-0xb32)),Math['round'](this['_color']['b']*(0x1c37+-0x1517+-0x3*0x20b))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x1f*-0x93+-0x2625+0x1557)),Math['round'](this['_outlineCo'+'lor']['g']*(-0xe63*0x1+0x39*-0x33+0x1abd)),Math['round'](this['_outlineCo'+'lor']['b']*(0x2*0xf99+0x1*0x1966+0x3799*-0x1)),Math['round'](this['_outlineCo'+'lor']['a']*(-0xb18+-0x14bc+0x20d3)),Math['round'](this['_outlineTh'+'ickness']*(-0x12f*0x11+-0x234d+0x386b))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x2f*0x40+-0x35f*-0xb+-0x7*0x37a)),Math['round'](this['_shadowCol'+'or']['g']*(-0x2696+0xc*0xad+-0x1f79*-0x1)),Math['round'](this['_shadowCol'+'or']['b']*(-0x33b+0x511*-0x6+0x22a0)),Math['round'](this['_shadowCol'+'or']['a']*(0xe28+-0x2087+0x86*0x25)),Math['round'](this['_shadowOff'+'set']['x']*(0xe3*-0x3+0x1*0x2d9+0x4f)),Math['round'](this['_shadowOff'+'set']['y']*(0x664+-0x1*0x201b+0x1a36))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x242d15[this['_color']['toString'](!(-0x1e0b*-0x1+0x1783+-0x358d))['toLowerCas'+'e']()]=0x5e4*0x2+-0x1d4e+0x1186,_0xbf7be8[_0x1a7e99(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=-0x3e5*-0x9+0x215f*-0x1+-0x1ae,_0x13d0cd[_0x5ced18(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x1*-0x1025+-0xf9d+0x1fc2;for(let _0xd946b8=0x1*-0xbd8+0x1b0b+0x1*-0xf33,_0x46d34d=this['_symbols']['length'];_0xd946b8<_0x46d34d;++_0xd946b8){const _0xdd7e96=_0x527fda[_0xd946b8];let _0x57ff57=-0x151*0x17+-0xcd*0x26+-0x3cb5*-0x1;if(_0xdd7e96&&_0xdd7e96['color']&&_0xdd7e96['color']['value']){const _0x2f25d6=_0xdd7e96['color']['value'];if(_0x2f25d6['length']===-0x2062+-0xfd6+-0x3*-0x1015&&_0x2f25d6[0x21cb+0x1*-0x129b+0xf3*-0x10]==='#'){const _0x532036=_0x2f25d6['substring'](0xa5b*-0x1+-0x5*0x30a+0x198e)['toLowerCas'+'e']();_0x242d15['hasOwnProp'+'erty'](_0x532036)?_0x57ff57=_0x242d15[_0x532036]:/^[0-9a-f]{6}$/['test'](_0x532036)&&(_0x57ff57=this['_colorPale'+'tte']['length']/(0x9bd*0x2+-0x9d9*-0x1+0x10*-0x1d5),_0x242d15[_0x532036]=_0x57ff57,this['_colorPale'+'tte']['push'](parseInt(_0x532036['substring'](-0x8af+0x1ea2+-0x15f3,0x1bd0+0xca8+-0x143b*0x2),0x45*0x4f+-0x7*0x240+-0x57b)),this['_colorPale'+'tte']['push'](parseInt(_0x532036['substring'](0xa7*0x14+0x24*-0x35+-0x596,0x263d+0x1a2*0x11+-0x85*0x7f),-0xf4*-0x3+0x13d4+-0x5a8*0x4)),this['_colorPale'+'tte']['push'](parseInt(_0x532036['substring'](-0xfe9*-0x2+0x854+-0x2822,-0x108a+-0xf26*0x2+0x2edc),-0xb*-0x1af+-0x1a08+-0x793*-0x1)));}}this['_symbolCol'+'ors']['push'](_0x57ff57);let _0x7ea62a=-0x12a3+0x2359*0x1+0x10b6*-0x1;if(_0xdd7e96&&_0xdd7e96['outline']&&(_0xdd7e96['outline']['attributes']['color']||_0xdd7e96['outline']['attributes']['thickness'])){let _0x383057=_0xdd7e96['outline']['attributes']['color']?mg['fromString'](_0xdd7e96['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x33ced9=Number(_0xdd7e96['outline']['attributes']['thickness']);(Number['isNaN'](_0x383057['r'])||Number['isNaN'](_0x383057['g'])||Number['isNaN'](_0x383057['b'])||Number['isNaN'](_0x383057['a']))&&(_0x383057=this['_outlineCo'+'lor']),Number['isNaN'](_0x33ced9)&&(_0x33ced9=this['_outlineTh'+'ickness']);const _0x156abf=_0x1a7e99(_0x383057,_0x33ced9);_0xbf7be8['hasOwnProp'+'erty'](_0x156abf)?_0x7ea62a=_0xbf7be8[_0x156abf]:(_0x7ea62a=this['_outlinePa'+'lette']['length']/(0x2f9+-0x2226+0xf2*0x21),_0xbf7be8[_0x156abf]=_0x7ea62a,this['_outlinePa'+'lette']['push'](Math['round'](_0x383057['r']*(0x171a+0x6e8*0x1+-0x1d03)),Math['round'](_0x383057['g']*(0x339+0x18bf+-0x1af9)),Math['round'](_0x383057['b']*(-0x18e3+0x5*0xc3+-0x1*-0x1613)),Math['round'](_0x383057['a']*(0x1*-0x24f8+0x1ad9+0xb1e)),Math['round'](_0x33ced9*(-0x265+0xb37+-0x7d3))));}this['_symbolOut'+'lineParams']['push'](_0x7ea62a);let _0x5c6085=-0x500+0x1563*0x1+-0x1063;if(_0xdd7e96&&_0xdd7e96['shadow']&&(_0xdd7e96['shadow']['attributes']['color']||_0xdd7e96['shadow']['attributes']['offset']||_0xdd7e96['shadow']['attributes']['offsetX']||_0xdd7e96['shadow']['attributes']['offsetY'])){let _0x115a1e=_0xdd7e96['shadow']['attributes']['color']?mg['fromString'](_0xdd7e96['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x154384=Number(_0xdd7e96['shadow']['attributes']['offset']),_0x3fd66b=Number(_0xdd7e96['shadow']['attributes']['offsetX']),_0x2717b8=Number(_0xdd7e96['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x115a1e['r'])||Number['isNaN'](_0x115a1e['g'])||Number['isNaN'](_0x115a1e['b'])||Number['isNaN'](_0x115a1e['a']))&&(_0x115a1e=this['_shadowCol'+'or']);const _0x5f49ea=FR['set'](Number['isNaN'](_0x3fd66b)?Number['isNaN'](_0x154384)?this['_shadowOff'+'set']['x']:_0x154384:_0x3fd66b,Number['isNaN'](_0x2717b8)?Number['isNaN'](_0x154384)?this['_shadowOff'+'set']['y']:_0x154384:_0x2717b8),_0x131b92=_0x5ced18(_0x115a1e,_0x5f49ea);_0x13d0cd['hasOwnProp'+'erty'](_0x131b92)?_0x5c6085=_0x13d0cd[_0x131b92]:(_0x5c6085=this['_shadowPal'+'ette']['length']/(-0xf81+0x7a7+-0x1f8*-0x4),_0x13d0cd[_0x131b92]=_0x5c6085,this['_shadowPal'+'ette']['push'](Math['round'](_0x115a1e['r']*(-0x631*-0x5+-0x1764+-0x692)),Math['round'](_0x115a1e['g']*(0xf*-0x1ef+-0x2*-0xb35+0x796)),Math['round'](_0x115a1e['b']*(0x1adb*-0x1+-0x2*-0x11e7+-0x7f4)),Math['round'](_0x115a1e['a']*(0x1137*-0x2+-0x987+0x336*0xe)),Math['round'](_0x5f49ea['x']*(0x617+0x13f*0xb+0x51*-0x3d)),Math['round'](_0x5f49ea['y']*(-0x7a*-0x4c+0x1a93*0x1+-0x3e4c))));}this['_symbolSha'+'dowParams']['push'](_0x5c6085);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x3d1fa0=this['_calculate'+'CharsPerTe'+'xture']();let _0x55818b=!(-0x1c24+0xf4d*-0x2+0x3abf);const _0x773630=this['_element'],_0x199b60=_0x773630['_isScreenS'+'pace'](),_0x4e8ff1=_0x773630['_isScreenC'+'ulled'](),_0x292d3b=function(_0x2df5f4){return _0x773630['isVisibleF'+'orCamera'](_0x2df5f4);};for(let _0x4920d8=0x1c50+0x3*-0x65d+-0x939,_0x3ef5c7=this['_meshInfo']['length'];_0x4920d8<_0x3ef5c7;_0x4920d8++){const _0x4a1920=_0x3d1fa0[_0x4920d8]||-0x59f*-0x3+0x1dc0+-0x1*0x2e9d,_0x59d6cb=this['_meshInfo'][_0x4920d8];if(_0x59d6cb['count']!==_0x4a1920){if(_0x55818b||(_0x773630['removeMode'+'lFromLayer'+'s'](this['_model']),_0x55818b=!(-0x15*0x16f+0x1*0x4b1+0x196a)),_0x59d6cb['count']=_0x4a1920,_0x59d6cb['positions']['length']=_0x59d6cb['normals']['length']=_0x4a1920*(0x1*-0x157+-0x31d*0x2+0x794)*(0x1db*0xf+0xe*-0x7a+-0x1525),_0x59d6cb['indices']['length']=_0x4a1920*(0x769+0x156+0x8bc*-0x1)*(-0xfe3+0x6ee+0x8f7),_0x59d6cb['uvs']['length']=_0x4a1920*(0x3*0x3ed+-0x89*-0x30+-0x2575)*(-0x12dc*-0x2+-0x89*-0x2f+0x3edb*-0x1),_0x59d6cb['colors']['length']=_0x4a1920*(-0x3*0xc7c+0x61*0x45+0xb53)*(-0x1c36+0xfee+0xc4c),_0x59d6cb['outlines']['length']=_0x4a1920*(0x149*0x2+0xf*0xab+-0xc93)*(0x5ef*0x1+0xd77*0x1+-0x1363),_0x59d6cb['shadows']['length']=_0x4a1920*(0x1c1*-0xb+0xb*-0x1bf+0x2684)*(-0xc9c+0x5*-0x185+-0x50e*-0x4),_0x59d6cb['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x59d6cb['meshInstan'+'ce']),_0x4a1920===0x1903+0x6af*-0x1+-0x1254){_0x59d6cb['meshInstan'+'ce']=null;continue;}for(let _0x5ce324=0x1f88+-0xeff+0x1*-0x1089;_0x5ce324<_0x4a1920;_0x5ce324++)_0x59d6cb['indices'][_0x5ce324*(0x1*-0xab5+-0x435+0x1*0xeed)*(0x1*-0x10f+0x3bd+-0x13*0x24)+(-0x22c1+-0x151e+0x37df)]=_0x5ce324*(0x6a6*0x1+-0x56*-0x8+-0x4a9*0x2),_0x59d6cb['indices'][_0x5ce324*(-0x2*0x7a7+0xb3*-0x9+0x4*0x567)*(-0x4b*0x13+0x691*-0x1+-0x94*-0x15)+(0x136d*0x1+0x20f7+-0x3463*0x1)]=_0x5ce324*(-0x69d*0x1+-0x5cb*-0x1+0xd6)+(0x91b*0x2+0x5d1+-0x1806),_0x59d6cb['indices'][_0x5ce324*(-0x773+0x5*0x663+0x37f*-0x7)*(0x7e6+0x25e0+-0x2dc4)+(-0x8b9+-0x1d1e+-0x1*-0x25d9)]=_0x5ce324*(-0x3b*0x36+-0xbc4+0x183a)+(-0x2cf*0x1+0xde0+-0x5*0x236),_0x59d6cb['indices'][_0x5ce324*(-0x1*0xda1+-0x18fd+0x26a1)*(0x32*-0x4a+-0x21a5+0xf*0x335)+(-0xe81+0x1*0x12ff+0x47b*-0x1)]=_0x5ce324*(-0x7*-0x509+0x1*0xcbb+-0x2ff6)+(0xa2e+-0x5e2+-0x12*0x3d),_0x59d6cb['indices'][_0x5ce324*(0x3fd*-0x9+0x81c+0x944*0x3)*(-0x93b+-0x19c7+0x2304)+(0x24fe+0xa5f+0x20f*-0x17)]=_0x5ce324*(-0x102d+0xf*0x5b+0x22c*0x5)+(0x26*0x7f+0x21d8+-0x34af),_0x59d6cb['indices'][_0x5ce324*(0x7bb*-0x1+-0x12b8*0x1+0x1a76)*(0x1512+0x243b+-0x1319*0x3)+(-0x369+-0x22d0+-0xb*-0x37a)]=_0x5ce324*(-0x30b+-0x23bd+0x26cc)+(0xd7f*0x1+0xd22+0x470*-0x6),_0x59d6cb['normals'][_0x5ce324*(0x1*0x5a2+0x621+-0xbbf)*(0x74*-0x2c+0x2b*0x1d+0xf14)+(-0xc11+-0x1a*0x7+0xcc7)]=-0x2*0x2ce+0x686+0x4e*-0x3,_0x59d6cb['normals'][_0x5ce324*(-0x9f*0x2d+0x162b*-0x1+-0x2*-0x1911)*(0xb18+0x1fc6+-0x2adb)+(0x1639+0x6ee*-0x2+0xd6*-0xa)]=-0x2236+-0x33*-0x98+0x3ee,_0x59d6cb['normals'][_0x5ce324*(0x17*0x19+-0x189*0x17+0x2114)*(-0x2f*0x2d+0xc15+-0x3cf)+(-0x18f2*-0x1+-0x17e1+-0x10f)]=-(-0x1*-0xfbb+-0x20df+0x1125),_0x59d6cb['normals'][_0x5ce324*(-0x1d32+0x2170+0x43a*-0x1)*(0x1*0x23b3+-0xd*-0xe9+-0x2f85)+(0x1d*-0x112+-0x188e+-0xd*-0x447)]=-0xae1*-0x3+0x1*-0x176e+0x1*-0x935,_0x59d6cb['normals'][_0x5ce324*(-0x1*-0x1c29+0x13*-0xf5+-0x9f6)*(0x3c3*-0x3+0x1f6c+-0x2e*0x70)+(-0x1fea+0x1f*-0xb8+-0x101*-0x36)]=0x93f+-0x1f86+0x3*0x76d,_0x59d6cb['normals'][_0x5ce324*(-0x9*0x169+-0x1adc+0x7*0x5a7)*(-0x1209+0xb88+0x684)+(0x182a+-0x1*0x26b4+0x1*0xe8f)]=-(-0xfb2*0x1+-0x1eda+0x1*0x2e8d),_0x59d6cb['normals'][_0x5ce324*(0x577*-0x1+0x6*0x1c4+0x1*-0x51d)*(-0xa29+0x66e*0x3+-0x91e*0x1)+(-0x4ce+-0x1d*0x76+0x1232)]=0x1256+-0x10*-0x2a+-0x1*0x14f6,_0x59d6cb['normals'][_0x5ce324*(0x1c4a+0x695+-0x1*0x22db)*(0x2b*0x7f+0x1*-0x317+-0x123b)+(-0x14b7+-0x2328+0x37e6)]=-0x691+-0x53*-0x1d+-0x2d6,_0x59d6cb['normals'][_0x5ce324*(-0x617*0x1+0x1*-0x1651+0x1c6c)*(0xe28+-0xf11+0xec)+(-0x2622+-0x1512+0x3b3c)]=-(-0x1910+0x1b*-0x105+-0x21*-0x198),_0x59d6cb['normals'][_0x5ce324*(-0x10a3*0x2+0x1ec5+0x5*0x81)*(0x1dc8+-0x13*0x47+0x8*-0x310)+(-0x43*0x65+-0x1*0x19c1+-0x1cd*-0x1d)]=0x4*0x1c4+-0x473+-0xdf*0x3,_0x59d6cb['normals'][_0x5ce324*(-0x190f+-0x180*-0x18+-0xaed)*(-0x1225+-0x2*0x356+-0x38c*-0x7)+(-0x6*0x2d7+-0x15d*-0xe+-0x202)]=-0x2065*-0x1+0x115*-0x3+0x23e*-0xd,_0x59d6cb['normals'][_0x5ce324*(-0x1*-0x1f0f+0x1af6+-0x3a01)*(-0x890*-0x1+-0x182*0xc+0x98b)+(0x13*0x1f3+-0x162+-0x239c)]=-(0x3*-0x947+-0x3ec+0x1fc2);const _0x413e43=MR(this['_system']['app']['graphicsDe'+'vice'],_0x59d6cb),_0x12ce4d=new Le(_0x413e43,this['_material'],this['_node']);if(_0x12ce4d['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x12ce4d['castShadow']=!(-0x5ef+0x922*0x2+0x20e*-0x6),_0x12ce4d['receiveSha'+'dow']=!(0x16da+-0x1*-0x2263+-0x393c),_0x12ce4d['cull']=!_0x199b60,_0x12ce4d['screenSpac'+'e']=_0x199b60,_0x12ce4d['drawOrder']=this['_drawOrder'],_0x4e8ff1&&(_0x12ce4d['cull']=!(0x15c0+0x108c+-0x264c),_0x12ce4d['isVisibleF'+'unc']=_0x292d3b),this['_setTextur'+'eParams'](_0x12ce4d,this['_font']['textures'][_0x4920d8]),_0x12ce4d['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x12ce4d['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x12ce4d['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x12ce4d['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x12ce4d['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x4920d8]['width']),_0x12ce4d['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x12ce4d['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x12ce4d['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0xa21*0x2+-0xcb0+-0x792]=-0x2096+0x606*-0x6+-0x225d*-0x2,this['_shadowOff'+'setUniform'][0x5d1+-0x1*-0x942+0x2*-0x789]=-0xd2+-0x1542+0x3ae*0x6;else{const _0x1bd685=-this['_font']['data']['info']['maps'][_0x4920d8]['width']/this['_font']['data']['info']['maps'][_0x4920d8]['height'];this['_shadowOff'+'setUniform'][-0x79*-0x2+-0x12*0xe1+0xee0]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x2f*0xb+0xc2c+-0xe30]=_0x1bd685*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x12ce4d['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x59d6cb['meshInstan'+'ce']=_0x12ce4d,this['_model']['meshInstan'+'ces']['push'](_0x12ce4d);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x55818b&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x1ad1+0x108*0x3+0x17b9,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x2688aa){_0x2688aa['destroy']();const _0x4f8586=this['_model']['meshInstan'+'ces']['indexOf'](_0x2688aa);_0x4f8586!==-(-0xb8f*-0x1+-0x1cca+0x113c)&&this['_model']['meshInstan'+'ces']['splice'](_0x4f8586,0x8*-0x4e0+0xb5a+0x1ba7*0x1);}['_setMateri'+'al'](_0x4bf5b5){if(this['_material']=_0x4bf5b5,this['_model'])for(let _0xea65a1=0xb84+0xfad+0x1*-0x1b31,_0x7a43a2=this['_model']['meshInstan'+'ces']['length'];_0xea65a1<_0x7a43a2;_0xea65a1++){const _0x2c3f9d=this['_model']['meshInstan'+'ces'][_0xea65a1];_0x2c3f9d['material']=_0x4bf5b5;}}['_updateMat'+'erial'](_0x5cd8ca){const _0x28acf3=this['_element'],_0xaff34b=_0x28acf3['_isScreenC'+'ulled'](),_0x50b3ce=function(_0x164076){return _0x28acf3['isVisibleF'+'orCamera'](_0x164076);},_0x42cd14=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x5cd8ca,_0x42cd14,this['_enableMar'+'kup']),this['_model'])for(let _0x1b5c3c=-0xf*0x1af+0xec9+-0x28*-0x43,_0x1b6d2a=this['_model']['meshInstan'+'ces']['length'];_0x1b5c3c<_0x1b6d2a;_0x1b5c3c++){const _0x4d3e60=this['_model']['meshInstan'+'ces'][_0x1b5c3c];_0x4d3e60['cull']=!_0x5cd8ca,_0x4d3e60['material']=this['_material'],_0x4d3e60['screenSpac'+'e']=_0x5cd8ca,_0xaff34b?(_0x4d3e60['cull']=!(0x8cd+0x509*0x2+-0x12df),_0x4d3e60['isVisibleF'+'unc']=_0x50b3ce):_0x4d3e60['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x962+-0x1390+0xa2e]=-0xe9*-0x1a+0x3*-0xc7+-0xc3*0x1c,this['_colorUnif'+'orm'][-0x2666+0x26e0+0xb*-0xb]=0x5*0x4c1+0x4*0x7b0+-0x3684,this['_colorUnif'+'orm'][0x3f0+0x13a0+0x7da*-0x3]=-0x1fae+0x429+0x1b86):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x1*0x1885+-0x2*0x29e+0x1dc1]=Me['r'],this['_colorUnif'+'orm'][-0xd*0x2d6+0xb04+0x19db]=Me['g'],this['_colorUnif'+'orm'][0x77e+-0x373*0x5+-0x77*-0x15]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0x1cd*-0x3+-0xf50*-0x1+-0x9e9]=0x1f2e+-0x1*0x488+0x1aa6*-0x1,this['_outlineCo'+'lorUniform'][-0x1663+-0x28*-0xdc+-0xbfc]=-0x65*-0x5d+-0x8aa+-0x11f*0x19,this['_outlineCo'+'lorUniform'][-0x34a*-0x5+-0x2191+0x1121]=-0xb0e+-0x2496+0x2fa4,this['_outlineCo'+'lorUniform'][0x1def+0x1941+-0x372d]=0x95*0xe+0x1ff8+-0x281d):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x22ff+0xd78+-0x3077]=Me['r'],this['_outlineCo'+'lorUniform'][0x157+-0x76f*-0x3+-0x17a3]=Me['g'],this['_outlineCo'+'lorUniform'][-0x13ce+0xbfa*-0x3+0x37be]=Me['b'],this['_outlineCo'+'lorUniform'][0x216d+0xdc*0x13+0x31be*-0x1]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0xa34*-0x1+-0x56d+-0x4c7*0x1]=0x1*-0x1fc6+0x9bd+-0x1609*-0x1,this['_shadowCol'+'orUniform'][0x1*0x1b53+-0x18b*0x11+-0x117]=-0xcb*-0xa+0x1*-0x175d+0xf6f,this['_shadowCol'+'orUniform'][0x2299*-0x1+-0x60*-0x27+0x13fb]=-0x23f2+-0x2330+-0x4722*-0x1,this['_shadowCol'+'orUniform'][-0x1eaf+-0x2048+0x3efa]=-0x1712+-0xf*-0x25d+-0xc61*0x1):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x266c*-0x1+-0x554*-0x5+-0x179*-0x8]=Me['r'],this['_shadowCol'+'orUniform'][0x33*0x49+0xa9e*0x2+0x1e2*-0x13]=Me['g'],this['_shadowCol'+'orUniform'][0x3*-0x99a+0x23dc*0x1+-0x2c*0x29]=Me['b'],this['_shadowCol'+'orUniform'][0x515*-0x5+-0x469+-0x1*-0x1dd5]=Me['a']);}['_isWordBou'+'ndary'](_0x424945){return fg['test'](_0x424945);}['_isValidNe'+'xtChar'](_0x3700aa){return _0x3700aa!==null&&!IR['test'](_0x3700aa);}['_isNextCJK'+'Boundary'](_0x4e194,_0x38da9e){return pg['test'](_0x4e194)&&(fg['test'](_0x38da9e)||RR['test'](_0x38da9e));}['_isNextCJK'+'WholeWord'](_0xe84b35){return pg['test'](_0xe84b35);}['_updateMes'+'hes'](){const _0x57698f=this['_font']['data'],_0x3b4a53=this,_0x38d088=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x291b78=this['_maxFontSi'+'ze'],_0x359c7f=this['_shouldAut'+'oFit']();_0x359c7f&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x27eb1a=0x1b84+-0x623+-0x1541,_0x2956e9=this['_symbols']['length'];let _0x40e204=-0x1d26+-0x33*-0x6+0x1bf4,_0x3ba566=0x1*-0xc52+-0x630+0xce*0x17,_0x16a6d1=-0x1da*0xb+-0x45*-0x4f+-0x4f*0x3,_0x5e6786=0x172d+0x1*-0x3e5+-0x9a4*0x2,_0x3e0bc9=0x10be+-0xc75+-0x224*0x2,_0x598da9=0x2*0xc95+0x842+-0xb24*0x3,_0xf2541b=0x9b3*-0x1+0x2258+0x837*-0x3,_0x54bf5c=-0x535+0x2c*0xad+-0x1887,_0x55a7eb=-0x214b+0x1234+0xf17*0x1,_0x328d89=-0x8*-0x3b3+-0x209f+0x307,_0x4741fa=-0x1327*0x1+-0x3*-0xc1d+-0xdc*0x14;const _0x2594a0=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0xb*0x1aa+-0x506*0x5+-0xda*-0x8+0.0001;let _0x36ce5f=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x2594a0||!this['_wrapLines'])&&(_0x36ce5f=Number['POSITIVE_I'+'NFINITY']);let _0x36558e=-0x5*0x725+0x5*-0x3f9+-0x5*-0xb1e,_0xcc47aa=0x1d7e+0x1*-0x14c8+-0x45b*0x2,_0x2d8de5,_0x5951a9,_0x368858,_0x228b8c;function _0x2480d5(_0x523217,_0x2e3464,_0x4dfaf8){_0x3b4a53['_lineWidth'+'s']['push'](Math['abs'](_0x4dfaf8));const _0x4c7ed8=_0x54bf5c>_0x2e3464?_0x2e3464+(0x866+0x1b0f+-0x2374):_0x54bf5c,_0xcafa88=_0x54bf5c>_0x2e3464?_0x54bf5c+(0x29*0x79+-0x1e5d+0x1d*0x61):_0x2e3464,_0x4fd84a=_0x523217['slice'](_0x4c7ed8,_0xcafa88);if(_0x4741fa){let _0x1a3a0c=_0x4fd84a['length'];for(;_0x1a3a0c--&&_0x4741fa>0x1d9a+-0x43f*0x2+-0xc1*0x1c;)ug['test'](_0x4fd84a[_0x1a3a0c])&&(_0x4fd84a['splice'](_0x1a3a0c,-0x1*0x79f+-0x5*0x9a+0xaa2),_0x4741fa--);}_0x3b4a53['_lineConte'+'nts']['push'](_0x4fd84a['join']('')),_0x40e204=0x17f4+0x281+-0x1*0x1a75,_0x3ba566-=_0x3b4a53['_scaledLin'+'eHeight'],_0x3e0bc9++,_0x55a7eb=0x9*0x4d+-0xe49+-0x4c*-0x27,_0x328d89=0x85b+0x1e52+-0x26ad*0x1,_0x4741fa=-0x46d*-0x5+0x15fb+0xeb4*-0x3,_0x598da9=0x4c3+-0x756*-0x4+-0x221b,_0x54bf5c=_0x2e3464;}let _0x2aae2e=!(-0x98a*0x1+-0x14a6+0x2e*0xa8);for(;_0x2aae2e;){_0x2aae2e=!(-0x2531*-0x1+0x1*0x1e05+-0x4335),_0x359c7f?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x677*0x1+-0x11c9+0x1840+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=-0xcb*-0x1d+0x1*0x10f+0x2*-0xc07,this['height']=-0x455*-0x4+-0xb60+0xc*-0x7f,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x40e204=0x12a0+0x118d+-0x242d,_0x3ba566=0x1b45+-0x3*-0x92b+-0x36c6,_0x16a6d1=-0x1c71+-0x10*-0x116+-0x1*-0xb11,_0x5e6786=-0x1232+-0x2f*-0x5d+0x1*0x11f,_0x3e0bc9=-0x1796+-0x1*0x260f+0xd*0x4be,_0x598da9=-0xc20+0x3*0x551+-0x3d3,_0xf2541b=0x16a8+-0x1bbd+-0x515*-0x1,_0x54bf5c=0x23c0+-0xf9*-0x9+-0x1*0x2c81,_0x55a7eb=0x40*0x53+0x2196+0x42e*-0xd,_0x328d89=0x1*0x25d5+-0xb*-0x6f+0x30b*-0xe,_0x4741fa=0x339*0xa+0x5*0x175+0x2783*-0x1;const _0x373577=this['_fontSize']/_0x27eb1a;_0x36558e=this['_fontMinY']*_0x373577,_0xcc47aa=this['_fontMaxY']*_0x373577;for(let _0x48930f=-0x2209*-0x1+0xab0+-0x2cb9;_0x48930f<this['_meshInfo']['length'];_0x48930f++)this['_meshInfo'][_0x48930f]['quad']=0x38*-0x8+-0x1b*-0x63+-0x8b1,this['_meshInfo'][_0x48930f]['lines']={};let _0x30239d=0x1b6+0x1dea*-0x1+-0x73*-0x41,_0x34069d=-0x882+-0x178b*-0x1+-0xe0a,_0x4dc54a=0x4*0x82f+0x218a+-0x4147,_0x42f146=-0xf*-0xde+-0x1cf7+-0x3e*-0x46+(-0x1941+0x2*-0x10c1+0x3bc2)*(0x702+0x1a1c+0x100f*-0x2),_0xf45a21=0x13b2+-0x260b*-0x1+-0x12*0x327+(0xe4b*-0x1+-0x1*0x755+-0x169f*-0x1)*(-0x1354+0x224f*-0x1+-0x47*-0xc5),_0x2d84b3=-0x1582+-0x61f+-0xb*-0x283,_0x508422=0x9d*0xc+-0x1eb6+-0x17*-0x10f+(-0x180c+-0x61*-0x46+-0x17b*0x1)*(-0x3*0x442+-0x1*-0x246c+-0x16a6),_0xd3570c=0x85b*-0x1+-0x121*0x7+0x1141+(-0x34a*-0x5+0x16de*-0x1+0x76b)*(-0x1101+-0x1dde*0x1+-0x5*-0x993),_0x3aa7bd=-0x3bb*-0xa+0x1*-0x2619+0xa*0x21+(0x246a+0x103+0x24ee*-0x1)*(0xffc+0xfd7+-0x1ed3);for(let _0x130f7a=-0x28b*0x1+-0x459+-0x1b9*-0x4;_0x130f7a<_0x2956e9;_0x130f7a++){if(_0x2d8de5=this['_symbols'][_0x130f7a],_0x228b8c=_0x130f7a+(0x24dc+0x2*-0x5b4+-0x1973)>=_0x2956e9?null:this['_symbols'][_0x130f7a+(0x8b3*0x2+0x1*-0xb51+0x614*-0x1)],ug['test'](_0x2d8de5)){_0x4741fa++,(!this['_wrapLines']||this['_maxLines']<-0x2f6*-0xb+0x3a0+-0x29*0xe2||_0x3e0bc9<this['_maxLines'])&&(_0x2480d5(this['_symbols'],_0x130f7a,_0x5e6786),_0xf2541b=_0x130f7a+(0x12a7+-0x38*-0x62+0x5ba*-0x7),_0x54bf5c=_0x130f7a+(-0x33d*0x4+-0x1*-0x12d1+-0x5dc));continue;}let _0x52b252=0x2595+0x9b1+-0x2f46,_0x287c12=0x3*0x3a6+-0xf8d+0x49b,_0x52d18c=-0x1820+-0x1*-0x1993+-0x173,_0xb51344=0x6cd*-0x3+0x119*-0x1+0x1581,_0x2d39ac,_0x213e6d;if(_0x5951a9=_0x57698f['chars'][_0x2d8de5],!_0x5951a9){if(DR['indexOf'](_0x2d8de5)!==-(-0x16a8+-0x2f9+0x19a2))_0x5951a9=LR;else{if(_0x57698f['chars']['\x20'])_0x5951a9=_0x57698f['chars']['\x20'];else for(const _0x4fab74 in _0x57698f['chars']){_0x5951a9=_0x57698f['chars'][_0x4fab74];break;}_0x57698f['missingCha'+'rs']||(_0x57698f['missingCha'+'rs']=new Set()),_0x57698f['missingCha'+'rs']['has'](_0x2d8de5)||(console['warn']('Character\x20'+'\x27'+_0x2d8de5+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x57698f['info']['face']),_0x57698f['missingCha'+'rs']['add'](_0x2d8de5));}}if(_0x5951a9){let _0x1a057a=0x1e4c+-0x120+-0x1d2c;if(_0x328d89>-0x171d+0x1814+0xd*-0x13){const _0x4cb321=this['_font']['data']['kerning'];if(_0x4cb321){const _0x25d08f=_0x4cb321[ah['getCodePoi'+'nt'](this['_symbols'][_0x130f7a-(-0xa43+-0x18ce+0x2312)])||-0x32*-0x59+0x181+0x5*-0x3c7];_0x25d08f&&(_0x1a057a=_0x25d08f[ah['getCodePoi'+'nt'](this['_symbols'][_0x130f7a])||-0xeb*0x6+-0x33f*0xa+0x4bf*0x8]||0x750+-0xcf0+-0x20*-0x2d);}}_0x2d39ac=_0x5951a9['scale']||-0x2e8+0x6e9+-0x400,_0x213e6d=(_0x5951a9['width']+_0x5951a9['height'])/(-0x137b+-0x2469+0x37e6),_0xb51344=_0x373577*_0x213e6d/_0x2d39ac,_0x52d18c=(_0x5951a9['xadvance']+_0x1a057a)*_0x373577,_0x52b252=(_0x5951a9['xoffset']-_0x1a057a)*_0x373577,_0x287c12=_0x5951a9['yoffset']*_0x373577;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x2d8de5+'\x27');const _0x586a57=PR['test'](_0x2d8de5),_0x4fbbca=_0x5951a9&&_0x5951a9['map']||0xe23+-0x2377+0x34*0x69,_0x3cc325=-this['_font']['data']['info']['maps'][_0x4fbbca]['width']/this['_font']['data']['info']['maps'][_0x4fbbca]['height'],_0x507571=this['_meshInfo'][_0x4fbbca],_0x221a90=_0x40e204+this['_spacing']*_0x52d18c;if(_0x221a90>_0x36ce5f&&_0x328d89>-0x1*0x137b+-0x15e6+-0x2961*-0x1&&!_0x586a57&&(this['_maxLines']<0x2*-0xdca+-0x221b*-0x1+0x22d*-0x3||_0x3e0bc9<this['_maxLines'])){if(_0x55a7eb===-0x1*0x1d5f+0xf92*-0x2+0x3c83)_0xf2541b=_0x130f7a,_0x2480d5(this['_symbols'],_0x130f7a,_0x5e6786);else{const _0x4de486=Math['max'](_0x130f7a-_0xf2541b,-0x1221+-0xa9e*0x1+-0x995*-0x3);if(this['_meshInfo']['length']<=-0x18d5+-0xae4+0x23ba)_0x507571['lines'][_0x3e0bc9-(0x2*0x541+-0x1f03+0x2ee*0x7)]-=_0x4de486,_0x507571['quad']-=_0x4de486;else{const _0x267e7e=_0xf2541b,_0x26e070=_0x130f7a;for(let _0x239f13=_0x267e7e;_0x239f13<_0x26e070;_0x239f13++){const _0x26ce00=this['_symbols'][_0x239f13],_0x4b7741=_0x57698f['chars'][_0x26ce00],_0x49fa6c=this['_meshInfo'][_0x4b7741&&_0x4b7741['map']||-0x1aa6+-0xa90*-0x1+0x1016];_0x49fa6c['lines'][_0x3e0bc9-(0x2f*-0x63+-0x1*-0x7f5+-0x1*-0xa39)]-=-0x5f*0x2f+0x1694+-0x522,_0x49fa6c['quad']-=0x18d6*-0x1+-0x152a*0x1+-0x2e01*-0x1;}}_0x130f7a-=_0x4de486+(-0x940+-0xb26+0x1467),_0x2480d5(this['_symbols'],_0xf2541b,_0x598da9);continue;}}_0x368858=_0x507571['quad'],_0x507571['lines'][_0x3e0bc9-(0x29*-0x6a+0x1c85+-0xb8a)]=_0x368858;let _0x9d7379=_0x40e204-_0x52b252,_0x1ef877=_0x9d7379+_0xb51344;const _0x42d891=_0x3ba566-_0x287c12,_0x3cf425=_0x42d891+_0xb51344;if(this['_rtl']){const _0xdbb0c=_0xb51344-_0x52b252-this['_spacing']*_0x52d18c-_0x52b252;_0x9d7379-=_0xdbb0c,_0x1ef877-=_0xdbb0c;}_0x507571['positions'][_0x368858*(-0x1*-0x1c33+0x19*0x86+0x2945*-0x1)*(0x3a7+-0x224a*-0x1+0x3cb*-0xa)+(-0x89d+0x4ca+0x3d3)]=_0x9d7379,_0x507571['positions'][_0x368858*(0x233b+-0x1312+0x1025*-0x1)*(0x238b+0xc7*0x3+-0x25dd)+(-0x162+-0x1515+-0x8*-0x2cf)]=_0x42d891,_0x507571['positions'][_0x368858*(-0xf4c+0x19ec+-0xa9c)*(0xc62*-0x1+0x3b*0x82+-0x1*0x1191)+(0x311*-0x5+0xffe*0x1+-0xa7)]=_0x16a6d1,_0x507571['positions'][_0x368858*(0xa46+0x270*-0x9+0xbae)*(-0x2043+0x2139+-0x9*0x1b)+(0x1530+-0x2016+0x13*0x93)]=_0x1ef877,_0x507571['positions'][_0x368858*(-0xc33+0x24*-0x55+0x182b)*(0x6b*-0x3+-0xc9b+0xddf)+(-0xb89*-0x1+-0xf9*-0x19+-0x23d6)]=_0x42d891,_0x507571['positions'][_0x368858*(-0x2597*0x1+0x125*-0x1a+0x435d)*(0x18f8+0x36e*0x9+-0x37d3)+(-0x12*0xff+-0x9a5*-0x3+-0x26*0x4a)]=_0x16a6d1,_0x507571['positions'][_0x368858*(0x8f3+0x13f7+-0x1ce6)*(0x19c6+0x2e*0x22+-0x1fdf)+(0xa*0x163+0x3*-0x4e3+0xd1)]=_0x1ef877,_0x507571['positions'][_0x368858*(-0x18d7+-0xc79+0x2554)*(0x40f*0x1+-0xbc6+-0x17*-0x56)+(-0xc87+0x360+0x92e*0x1)]=_0x3cf425,_0x507571['positions'][_0x368858*(-0xb*0x205+-0x13a7+0x29e2)*(0x10b2+-0x13f9+0x34a)+(0x2ff*-0x1+-0x37*-0x9b+-0x1e46)]=_0x16a6d1,_0x507571['positions'][_0x368858*(-0x23db+-0x1*0x1050+-0xb7*-0x49)*(0xd54+-0x13fa*-0x1+-0x214b)+(0x26e+0x7*-0x27+0x4*-0x55)]=_0x9d7379,_0x507571['positions'][_0x368858*(0x5*0x578+-0x23fb+0x8a7)*(0x26c9*0x1+-0x20c5+-0x1*0x601)+(-0x755+-0x14cb+-0x1c2a*-0x1)]=_0x3cf425,_0x507571['positions'][_0x368858*(0x7d5*0x4+0x2e*-0x2f+-0x16de)*(-0x18c0+0x1*-0x13c7+-0x1645*-0x2)+(-0xf01+0x68e+-0x1*-0x87e)]=_0x16a6d1,this['width']=Math['max'](this['width'],_0x221a90);let _0x4a4999;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x4a4999=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0xa06+-0x1cf8+0x26fe+0.0001)),_0x4a4999=N['clamp'](_0x4a4999,_0x38d088,_0x291b78),_0x4a4999!==this['_element']['fontSize'])){this['_fontSize']=_0x4a4999,_0x2aae2e=!(-0x3d1+-0x12e8+0x16b9);break;}if(this['height']=Math['max'](this['height'],_0xcc47aa-(_0x3ba566+_0x36558e)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x4a4999=N['clamp'](this['_fontSize']-(-0x4f6+0x17f*0x9+-0x880),_0x38d088,_0x291b78),_0x4a4999!==this['_element']['fontSize'])){this['_fontSize']=_0x4a4999,_0x2aae2e=!(0x583*0x7+-0xf0c+-0x1789);break;}_0x40e204+=this['_spacing']*_0x52d18c,_0x586a57||(_0x5e6786=_0x40e204),(this['_isWordBou'+'ndary'](_0x2d8de5)||this['_isValidNe'+'xtChar'](_0x228b8c)&&(this['_isNextCJK'+'Boundary'](_0x2d8de5,_0x228b8c)||this['_isNextCJK'+'WholeWord'](_0x228b8c)))&&(_0x55a7eb++,_0x598da9=_0x5e6786,_0xf2541b=_0x130f7a+(0x2e*0xa3+-0xb22+0x1227*-0x1)),_0x328d89++;const _0x451d18=this['_getUv'](_0x2d8de5);if(_0x507571['uvs'][_0x368858*(-0x29*0x89+-0xd8e+0x2383)*(-0x24ad*0x1+0x670*-0x2+0x318f)+(0xc57+-0x1a84+0xe2d)]=_0x451d18[0x1*-0x14f6+-0xa*0x1+0x1500],_0x507571['uvs'][_0x368858*(-0x11ff*0x1+0x25f7+-0x13f4)*(-0x212f+0x797+0x199a*0x1)+(0x1a*0x14d+0x1*0x59f+-0x2770*0x1)]=0x12d7+0x1*-0x1d88+0xab2-_0x451d18[-0xcf4*0x1+-0x6d+0xd62],_0x507571['uvs'][_0x368858*(0x1*-0x967+0x1ea*0x14+-0x1cdd)*(-0x9ec+-0x2*0x6e9+0x17c0)+(-0x16ec*0x1+0x21e+0x6*0x378)]=_0x451d18[0x60d+0x5a8+0x257*-0x5],_0x507571['uvs'][_0x368858*(0x1*0x1a7b+-0x1c56+0x1df)*(-0x126a*-0x1+0x1faa+-0x3212)+(0x1*0x3e3+-0x3dd*0x9+-0x1*-0x1ee5)]=-0xab2+0x2522+-0x1a6f-_0x451d18[0x18d4+-0x155d+-0x376],_0x507571['uvs'][_0x368858*(0x16f*0x13+-0x24f+-0x18ea)*(-0x1*0x26a4+0x58*0x2f+-0x167e*-0x1)+(0xf42+-0x192f+0x1*0x9f1)]=_0x451d18[-0x1*-0xf67+0x39*-0x56+0x3c1],_0x507571['uvs'][_0x368858*(0x204+-0x243e*0x1+0x223e)*(-0x1*0x631+0x8a+0x1*0x5a9)+(0x1*0x452+0x9a3*-0x2+-0xef9*-0x1)]=0x2a*0x31+0x764+-0x167*0xb-_0x451d18[0x1cf9*-0x1+0x2*0xd69+0x1*0x22a],_0x507571['uvs'][_0x368858*(-0x1583+0x41f+0x1168)*(0x2cf*0xb+0x1769+-0x364c)+(-0x74a+0x1b4b+-0x13fb)]=_0x451d18[0xa76+0x12ab+0x1d21*-0x1],_0x507571['uvs'][_0x368858*(0x4f*-0x75+-0x13*0x70+-0x19*-0x1c7)*(-0x1*-0x201f+-0x1143+-0xeda)+(0x1f9e+-0x11a6+-0xdf1)]=-0xf3e*0x1+0x1edb+0x12*-0xde-_0x451d18[0x7*0x1bf+0x3b*-0x7b+-0x9*-0x1cb],this['_symbolCol'+'ors']){const _0x251972=this['_symbolCol'+'ors'][_0x130f7a]*(0x2634+0x1e9*-0x11+-0x5b8);_0x30239d=this['_colorPale'+'tte'][_0x251972],_0x34069d=this['_colorPale'+'tte'][_0x251972+(0x2644+-0x3*-0x40d+-0x326a)],_0x4dc54a=this['_colorPale'+'tte'][_0x251972+(0x1*-0x13a8+-0x143d+0x5*0x7fb)];}if(_0x507571['colors'][_0x368858*(0xbfe*0x1+-0x10c+-0xaee)*(-0x599*-0x6+-0x1*-0x1fab+-0x413d)+(-0x43*-0x1f+0x2003+-0x1ac*0x18)]=_0x30239d,_0x507571['colors'][_0x368858*(0x37d+0x1965+-0x1cde)*(0x4*-0x10e+0x5d5*0x6+-0x1ec2)+(-0x1*0x25ec+-0x36c*0xa+-0x17*-0x323)]=_0x34069d,_0x507571['colors'][_0x368858*(0xdd5*0x1+0xbe4+-0x1*0x19b5)*(0x81d+0xb3b+0x1*-0x1354)+(-0x15b*-0x16+0xd65+0x1*-0x2b35)]=_0x4dc54a,_0x507571['colors'][_0x368858*(-0x2e6+0xffd+-0xd13*0x1)*(-0x1*-0x19c9+-0x198a+-0x1*0x3b)+(0x10ce+0x11da+0x7*-0x4f3)]=0x2a1*-0xc+0x1d57+0x334,_0x507571['colors'][_0x368858*(0x9dd+0x2533*-0x1+-0x1b5a*-0x1)*(0x17fe+0xdc4+0x2*-0x12df)+(-0x129d+0x65*0xb+0xe4a)]=_0x30239d,_0x507571['colors'][_0x368858*(0x191e+0x1bc5*0x1+-0x34df)*(0x36*0xa1+0x17df+-0x1*0x39d1)+(0x9e5*-0x1+-0x1ccb+0x26b5)]=_0x34069d,_0x507571['colors'][_0x368858*(0x1ec3+-0x7*0x2fe+0xc1*-0xd)*(0x227*-0x3+-0x1*0x8e9+0x7b1*0x2)+(-0x61d+0x1589+-0xf66)]=_0x4dc54a,_0x507571['colors'][_0x368858*(-0x1748+-0x1cf9+0x3445)*(0x961+-0x19d3+0x1076)+(0x632+0x2d3*0xb+-0x253c)]=0x3*-0x8ef+0x164*0x4+0x58f*0x4,_0x507571['colors'][_0x368858*(-0x6f5+-0xc42*0x1+0x133b)*(-0x5*-0x6a2+-0x159*0x17+-0x227)+(-0xe80+-0x1*0x37f+0x1207)]=_0x30239d,_0x507571['colors'][_0x368858*(-0x1689+0x1b25*-0x1+0x18d9*0x2)*(-0xbf+-0x194*0xd+-0x1a3*-0xd)+(0xcfe*-0x2+0x18*0x8c+0xce5)]=_0x34069d,_0x507571['colors'][_0x368858*(0x379*0x5+-0x1b79+0xa20)*(0xf4f*0x1+0x4*0x45a+-0x20b3)+(-0x1*0x1726+-0xeb9*0x1+0x25e9)]=_0x4dc54a,_0x507571['colors'][_0x368858*(0xa77+-0x1a3f*-0x1+-0x9a*0x3d)*(-0x64*-0xa+0x37*-0x5f+0x1085)+(-0x26ae+-0xa97+-0x1*-0x3150)]=0x2567+-0x1*0x16f9+-0x13*0xb5,_0x507571['colors'][_0x368858*(0xe9*-0x3+-0x831*-0x2+-0xda3)*(-0x2a9+-0x24ed+-0x4a*-0x89)+(0x7*-0x4e6+0x1952+-0x482*-0x2)]=_0x30239d,_0x507571['colors'][_0x368858*(-0x3*0x8dd+-0x1100+0x2b9b*0x1)*(-0x1891+0x431+0x57*0x3c)+(0x15cc+0x775+-0x1c*0x10b)]=_0x34069d,_0x507571['colors'][_0x368858*(-0x1499*0x1+-0x8*-0x470+0x67*-0x25)*(-0x4c9*-0x1+0x1*-0x2334+0x1e6f)+(-0x385*0x2+0x5*0x3d4+-0xc*0x101)]=_0x4dc54a,_0x507571['colors'][_0x368858*(0x8*-0x3c2+0x1f61+-0x1*0x14d)*(0xa1b+-0x2688+-0x1c71*-0x1)+(0x6d5+0x2a*-0x59+0x7d4)]=0x109c+-0x26d1*0x1+-0x5a*-0x42,this['_symbolOut'+'lineParams']){const _0x1bbaf2=this['_symbolOut'+'lineParams'][_0x130f7a]*(0x3*0x47d+0x209e+-0x5c2*0x8);_0x42f146=this['_outlinePa'+'lette'][_0x1bbaf2]+this['_outlinePa'+'lette'][_0x1bbaf2+(0x1eb4+-0x2f*-0x29+-0x263a*0x1)]*(0x17d9+-0x1181*0x2+0xc29),_0xf45a21=this['_outlinePa'+'lette'][_0x1bbaf2+(-0x2*0xb16+0x481+0x389*0x5)]+this['_outlinePa'+'lette'][_0x1bbaf2+(0xa08+-0x1925*-0x1+0x1*-0x232a)]*(-0x376*-0x6+0x161*-0x1+-0x1263*0x1),_0x2d84b3=this['_outlinePa'+'lette'][_0x1bbaf2+(-0x8b0+0x5*-0x373+-0x1ff*-0xd)];}if(_0x507571['outlines'][_0x368858*(0x63c*-0x2+-0x15b+0xdd7*0x1)*(-0x2e*0x51+0x6*0x2ab+-0x171)+(0x221b+0x20f+-0x242a)]=_0x42f146,_0x507571['outlines'][_0x368858*(-0x49*0x6f+-0x7e6+0x2791)*(0x3*0x7a7+-0xec6+-0x82c)+(0x745*-0x3+-0x14a7+0x2a77)]=_0xf45a21,_0x507571['outlines'][_0x368858*(0x244d+-0x3*0x82+0xb*-0x329)*(-0x13d5+0x10*0x91+0xac8)+(0x428*0x1+0x4ec+-0x12*0x81)]=_0x2d84b3,_0x507571['outlines'][_0x368858*(-0xcc2*0x1+-0xa0d+-0x1*-0x16d3)*(0x2cc+0x1faa+-0x2273)+(-0x1bdd+-0x66*-0x51+-0x466)]=_0x42f146,_0x507571['outlines'][_0x368858*(0x31c+0x1*0x1929+-0x1c41)*(0x104+-0x2500+0x733*0x5)+(-0x1ed9*0x1+-0x93d*0x3+-0x1d4a*-0x2)]=_0xf45a21,_0x507571['outlines'][_0x368858*(-0xfd4+-0x1539+-0x1*-0x2511)*(-0x20cf+-0x1*0xa75+0x2b47)+(-0x254b+-0x13e7+0x1*0x3937)]=_0x2d84b3,_0x507571['outlines'][_0x368858*(0x228c+0x1*0x174d+-0x39d5)*(0x54a+-0x6*-0x2d4+0x14f*-0x11)+(0x2342*0x1+-0x1b6b*0x1+0x7d1*-0x1)]=_0x42f146,_0x507571['outlines'][_0x368858*(0xe4d+0x1*-0x241f+0x15d6)*(-0x2228+-0x10f*-0xd+0x4*0x51a)+(-0x1*-0x5ad+-0x1b3+-0x3f3)]=_0xf45a21,_0x507571['outlines'][_0x368858*(0xd03*0x1+0x807+0x8a*-0x27)*(-0xa0b+0x1*0x1962+-0xda*0x12)+(-0x2181+-0x773+0x28fc)]=_0x2d84b3,_0x507571['outlines'][_0x368858*(-0x1c3d+0x1f17*-0x1+0x4f2*0xc)*(0xf2*-0x20+-0x223e+0x4081)+(-0x861*-0x4+-0x107f*-0x1+-0x31fa)]=_0x42f146,_0x507571['outlines'][_0x368858*(0x784+0x17bc+-0x1f3c)*(-0x1*0x1417+0x259b+0x1181*-0x1)+(0xa7*0x7+0x371*0x3+0x76d*-0x2)]=_0xf45a21,_0x507571['outlines'][_0x368858*(-0x1*0x1968+-0xc1*-0x18+0x3aa*0x2)*(-0x1*-0xfdf+-0x1ca4+-0x4*-0x332)+(-0x12ce*-0x1+0x22fd+-0x35c0)]=_0x2d84b3,this['_symbolSha'+'dowParams']){const _0x45a1eb=this['_symbolSha'+'dowParams'][_0x130f7a]*(0x1e39*-0x1+-0x1466+-0x32a5*-0x1);_0x508422=this['_shadowPal'+'ette'][_0x45a1eb]+this['_shadowPal'+'ette'][_0x45a1eb+(0x3*-0x2f1+-0x2279+-0x2b4d*-0x1)]*(-0x2190+-0x1885+0x3b15),_0xd3570c=this['_shadowPal'+'ette'][_0x45a1eb+(0xea9+-0x1*0xde2+-0xc5)]+this['_shadowPal'+'ette'][_0x45a1eb+(0x106b+0x1*-0xf5c+-0x10c)]*(-0x605+-0x2a9+0x9ae),_0x3aa7bd=this['_shadowPal'+'ette'][_0x45a1eb+(-0x7f3+0x216a+-0x1973)]+(-0x5*0x6d5+0x220b+0x9d)+Math['round'](_0x3cc325*this['_shadowPal'+'ette'][_0x45a1eb+(0x1eb5+-0x1925+-0x58b)]+(0x10ca+-0x21*-0xe2+-0x2d6d))*(0x1935+-0x2355+0xb20);}_0x507571['shadows'][_0x368858*(0x11f2+0x2e*-0xc2+0x10ee*0x1)*(0xbd8+-0x83*-0x27+-0x1fca)+(-0x129+0x2de+-0x1b5)]=_0x508422,_0x507571['shadows'][_0x368858*(0xa65+0x1d74+-0x27d5)*(-0x1fdc+0x1261+-0xd7e*-0x1)+(-0x1f*0xa6+0x5*0x41c+-0x71*0x1)]=_0xd3570c,_0x507571['shadows'][_0x368858*(-0x1b65+-0x219f*0x1+0x3d08)*(0xf5a+-0x1*-0x77f+-0x16d6)+(-0x17*0x67+0x154d+-0x17*0x86)]=_0x3aa7bd,_0x507571['shadows'][_0x368858*(0x1*0x10c7+-0x3*0xc4b+0x141e)*(0x2bb+-0x1*0x13ed+0x371*0x5)+(-0x1ae0+0xd83+0x6b*0x20)]=_0x508422,_0x507571['shadows'][_0x368858*(0xa36+-0x4*-0x2eb+-0x15de)*(-0x9*-0x443+0x1*-0x167b+-0xfdd)+(-0x124e+0xb*0xa1+0xb67)]=_0xd3570c,_0x507571['shadows'][_0x368858*(-0x11f+-0x103*0x15+0x1662)*(-0x1d54+-0x15fe+-0x1*-0x3355)+(-0x1ea1*-0x1+0x19*0xc2+-0x318e)]=_0x3aa7bd,_0x507571['shadows'][_0x368858*(0x1a11+0x2c2*-0x1+-0x174b)*(0x5*-0x9e+0x1c3e+0x29*-0x9d)+(-0x2105*0x1+0x1*-0x1c6+-0x3*-0xb9b)]=_0x508422,_0x507571['shadows'][_0x368858*(0x2*-0x422+0xe6a+-0xa*0x9d)*(-0x1205+0x159d+-0x395)+(0xef9*0x1+-0x2*0x3cb+-0x1d7*0x4)]=_0xd3570c,_0x507571['shadows'][_0x368858*(-0x1dfe+0xbcb*0x3+-0x55f)*(-0x99*-0xd+-0x5*0x365+0x151*0x7)+(-0x112*-0x8+0x6a*0x43+0x2446*-0x1)]=_0x3aa7bd,_0x507571['shadows'][_0x368858*(-0xe4a+0x1d3a*0x1+-0x1*0xeec)*(-0x9*0x32b+-0x247e+0x92*0x72)+(-0x18*-0x88+0x1825+0x4*-0x937)]=_0x508422,_0x507571['shadows'][_0x368858*(0xc33+0xa7*-0x6+0x1*-0x845)*(0x382*0x1+-0x251d+0x219e)+(0xb*0x386+0x8ea+-0x2fa2)]=_0xd3570c,_0x507571['shadows'][_0x368858*(-0xc81*0x1+0x1c04+-0x1*0xf7f)*(-0xd0f+0x1*0x21f7+-0x14e5)+(0x114d*-0x1+-0x1*-0x14bd+-0x365)]=_0x3aa7bd,_0x507571['quad']++;}_0x2aae2e||_0x54bf5c<_0x2956e9&&_0x2480d5(this['_symbols'],_0x2956e9,_0x40e204);}this['_noResize']=!(-0x2*0xe63+0xd*0x99+0x13*0x11b),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0x3*-0x801+0x22ff+-0xf*0x3ef);const _0x497616=this['_element']['pivot']['x'],_0x979b5f=this['_element']['pivot']['y'],_0x125eae=this['_alignment']['x'],_0x462e61=this['_alignment']['y'];for(let _0x43bc73=-0x11c4+-0x1a*0x14+0x13cc;_0x43bc73<this['_meshInfo']['length'];_0x43bc73++){if(this['_meshInfo'][_0x43bc73]['count']===-0x116+-0x2509+0x261f)continue;let _0xa97366=0xda*-0x6+-0x21f5+0x2711*0x1;for(const _0x17b6a9 in this['_meshInfo'][_0x43bc73]['lines']){const _0x4cc02f=this['_meshInfo'][_0x43bc73]['lines'][_0x17b6a9],_0x3230a6=this['_lineWidth'+'s'][parseInt(_0x17b6a9,-0x23f*-0x5+0x1e1*0x11+-0x2b22*0x1)],_0x42e4fa=-_0x497616*this['_element']['calculated'+'Width']+_0x125eae*(this['_element']['calculated'+'Width']-_0x3230a6)*(this['_rtl']?-(0x1d4d+0x1336*0x2+-0x43b8):0x20b*0x2+-0x169c+0x1287),_0x377bbb=(-0xb35*0x2+-0x1d72+0x33dd-_0x979b5f)*this['_element']['calculated'+'Height']-_0xcc47aa-(0x1529+-0x59c+-0xf8c-_0x462e61)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x81edb9=_0xa97366;_0x81edb9<=_0x4cc02f;_0x81edb9++)this['_meshInfo'][_0x43bc73]['positions'][_0x81edb9*(-0x2493+0xe30+0x1667)*(0x8*-0x34c+-0x1d7d+0x37e0)]+=_0x42e4fa,this['_meshInfo'][_0x43bc73]['positions'][_0x81edb9*(-0x14f3+-0x61+0x1558*0x1)*(-0x1*0xd1f+0x2f*-0x19+0x11b9*0x1)+(0x1573*0x1+0xf55+-0x24c5*0x1)]+=_0x42e4fa,this['_meshInfo'][_0x43bc73]['positions'][_0x81edb9*(-0xddd+0x47f+0x962)*(-0x1f2d+0xa4*0x17+0x9*0x1d4)+(0x1fc6+0x1d99+-0x3d59)]+=_0x42e4fa,this['_meshInfo'][_0x43bc73]['positions'][_0x81edb9*(0x1*0x54a+-0x128e+0xd48)*(0x6e*-0x1f+-0xac*0x2+-0x11*-0xdd)+(-0x1*-0x18e6+0x2*-0xf+-0x5*0x4f3)]+=_0x42e4fa,this['_meshInfo'][_0x43bc73]['positions'][_0x81edb9*(0x13+0xb73*-0x3+-0x1*-0x224a)*(-0x2f8*0x4+0x1533+0x12a*-0x8)+(0x24a9*0x1+-0x1805*0x1+-0xca3)]+=_0x377bbb,this['_meshInfo'][_0x43bc73]['positions'][_0x81edb9*(-0x1*-0x1f91+0xe2a+-0x2db7)*(-0x2178+-0x45d*-0x1+0x2*0xe8f)+(-0x6*0x43a+0x14b7+0x4a9)]+=_0x377bbb,this['_meshInfo'][_0x43bc73]['positions'][_0x81edb9*(-0x1*-0xe26+0x1383*-0x1+0x561)*(-0x2220+0xf06*0x2+0x3*0x15d)+(0x1906+0x1a8c+-0x338b)]+=_0x377bbb,this['_meshInfo'][_0x43bc73]['positions'][_0x81edb9*(-0x2168+0x13f9+-0xb*-0x139)*(0xb37+0x1d1e+-0x2852*0x1)+(-0x1163+-0x1*-0x1c9f+-0xb32)]+=_0x377bbb;if(this['_rtl'])for(let _0x5bbe33=_0xa97366;_0x5bbe33<=_0x4cc02f;_0x5bbe33++){const _0x43770c=_0x5bbe33*(0x4*-0x332+0xee9*0x2+-0x1106)*(0xbee+0x1ebd+-0x2aa8);for(let _0x4a2138=-0x4f6+0x1e9d+-0x19a7;_0x4a2138<0x1667*0x1+0x1b09+-0x1*0x316c;++_0x4a2138)this['_meshInfo'][_0x43bc73]['positions'][_0x43770c+_0x4a2138*(0x52*0x73+-0x1ca7+-0x82c)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x43bc73]['positions'][_0x43770c+_0x4a2138*(0x19fe+0xcfe*-0x2+0x1*0x1)]+_0x42e4fa*(0x1d76+0x9*-0x305+0xb*-0x35);const _0x4fd785=this['_meshInfo'][_0x43bc73]['positions'][_0x43770c+(-0x1*-0x5cb+0xa9f*-0x1+0x4d7*0x1)],_0x54649d=this['_meshInfo'][_0x43bc73]['positions'][_0x43770c+(0x7*-0x21b+-0x809+0x16cc*0x1)];this['_meshInfo'][_0x43bc73]['positions'][_0x43770c+(0x1a30+0x1533+-0x2f6*0x10)]=this['_meshInfo'][_0x43bc73]['positions'][_0x43770c+(-0x1684+-0x5*-0xd3+0x1265)],this['_meshInfo'][_0x43bc73]['positions'][_0x43770c+(-0x5*-0x75b+0x1152+-0x6d*0x7f)]=this['_meshInfo'][_0x43bc73]['positions'][_0x43770c+(0x1*0xfd0+-0x67b+-0x94c)],this['_meshInfo'][_0x43bc73]['positions'][_0x43770c+(0x20fe+-0xd*0x13b+0x1*-0x10ff)]=_0x4fd785,this['_meshInfo'][_0x43bc73]['positions'][_0x43770c+(-0x1156+0x22bf+-0x8*0x22c)]=_0x54649d;}_0xa97366=_0x4cc02f+(0x28f*-0x7+0x1e33+-0xc49*0x1);}const _0x25b3d6=this['_meshInfo'][_0x43bc73]['count']*(0x746+0x2*-0x1325+-0x14b*-0x18),_0x3d94c9=this['_meshInfo'][_0x43bc73]['quad']*(-0xa8a+0x1ec+0x8a2),_0x41d646=new go(this['_meshInfo'][_0x43bc73]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0xcc54c=0x1d05+0x213f*0x1+0x4*-0xf91;_0xcc54c<_0x25b3d6;_0xcc54c++)_0xcc54c>=_0x3d94c9?(_0x41d646['element'][He]['set'](-0x137*-0x17+-0x2456+0x865,-0x23f+-0xe54+0x1093,0x1cea+-0x2429*-0x1+-0x15b1*0x3),_0x41d646['element'][ns]['set'](-0x5c9*0x4+0x473+0x12b1,-0x29*0x71+0x2*-0xd39+0x2c8b),_0x41d646['element'][At]['set'](0x1*-0x1e59+-0x142*-0x1+0x1*0x1d17,0x594+0x1*0xb23+-0x10b7,0x51*-0x6d+-0xdd*-0x13+0x1216,0x2*-0x4f7+-0x32b*0x1+0xd19),_0x41d646['element'][Po]['set'](-0x8e0+-0x32*-0x2+0x4*0x21f,-0x758+-0x1*0x268f+0x3*0xf4d,-0x196e+0xb58+0x3*0x4b2,0x1869+-0x3a6*-0x1+0xb*-0x28d),_0x41d646['element'][Ro]['set'](-0xdf8+0x1d*0x3b+0x749,0xa4d*-0x1+-0x1291+0x5*0x5c6,-0x49*-0x53+-0xced+-0xabe,0x11d*-0x1d+0x15b4+0x183*0x7)):(_0x41d646['element'][He]['set'](this['_meshInfo'][_0x43bc73]['positions'][_0xcc54c*(0x1a2c+-0x1e3a+-0x3*-0x15b)+(-0x74a+0x279*-0xf+0x2c61)],this['_meshInfo'][_0x43bc73]['positions'][_0xcc54c*(0x1ee4+-0x16a9*0x1+-0x838)+(0x3*-0xa9a+-0x952+0x1*0x2921)],this['_meshInfo'][_0x43bc73]['positions'][_0xcc54c*(-0x257+-0x1c89+0x1*0x1ee3)+(0x25e+0x647*0x5+-0x21bf)]),_0x41d646['element'][ns]['set'](this['_meshInfo'][_0x43bc73]['uvs'][_0xcc54c*(0x1*0x1922+0x2379*-0x1+0xa59)+(0x13f5+-0x2071+0xc7c)],this['_meshInfo'][_0x43bc73]['uvs'][_0xcc54c*(0x1*-0x1c9f+0x5ad*-0x1+-0x2*-0x1127)+(0x18d9+-0x14e3+-0x3f5)]),_0x41d646['element'][At]['set'](this['_meshInfo'][_0x43bc73]['colors'][_0xcc54c*(-0x109e+0x1*-0xfd3+-0x2075*-0x1)+(-0x6*0x1ec+0x65b*-0x3+-0x45f*-0x7)],this['_meshInfo'][_0x43bc73]['colors'][_0xcc54c*(-0x7c7*0x5+-0x47*-0x4d+0x118c)+(-0x60*0x14+-0x84f*-0x3+-0x116c*0x1)],this['_meshInfo'][_0x43bc73]['colors'][_0xcc54c*(0x1*0x8d2+0x1*0x26bf+-0x2f8d*0x1)+(-0x21e2+0x766*-0x1+0x5*0x842)],this['_meshInfo'][_0x43bc73]['colors'][_0xcc54c*(-0x4*-0x838+-0x154f+0xb8d*-0x1)+(0x1675*0x1+-0xdc6+-0x8ac)]),_0x41d646['element'][Po]['set'](this['_meshInfo'][_0x43bc73]['outlines'][_0xcc54c*(0x17*0x61+0x1*0x41f+-0xcd3)+(0xf4b+0x161b+-0x2566)],this['_meshInfo'][_0x43bc73]['outlines'][_0xcc54c*(-0x3*-0x6c5+-0x1*-0x152d+-0x2979)+(0x1a*-0x3+-0xa7*0x18+0xff7*0x1)],this['_meshInfo'][_0x43bc73]['outlines'][_0xcc54c*(0x1703+0x17*-0xdb+-0x353)+(0x1388+0x1*-0x33b+-0x104b)]),_0x41d646['element'][Ro]['set'](this['_meshInfo'][_0x43bc73]['shadows'][_0xcc54c*(0xe7+0x148b+-0x156f)+(-0x1f41+-0x1e*0xc5+0x3*0x121d)],this['_meshInfo'][_0x43bc73]['shadows'][_0xcc54c*(0xca*-0x13+0x3a*-0x82+-0x2c75*-0x1)+(0xa3e+0x2ee*-0xb+0x15fd)],this['_meshInfo'][_0x43bc73]['shadows'][_0xcc54c*(-0x700+0x53*-0x31+0x2*0xb73)+(-0x5*0x20b+-0x1*-0x2bb+0x3bf*0x2)])),_0x41d646['next']();_0x41d646['end'](),this['_meshInfo'][_0x43bc73]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x43bc73]['positions']),this['_meshInfo'][_0x43bc73]['meshInstan'+'ce']['_aabbVer']=-(-0xe1b*0x1+-0xde9*0x2+-0x1*-0x29ee);}this['_aabbDirty']=!(0x3*-0x1+-0xfeb+0xfee*0x1);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x1fc6ed){this['font']!==_0x1fc6ed['resource']&&(this['font']=_0x1fc6ed['resource']);}['_onFontCha'+'nge'](_0x262ef2,_0x5d4887,_0x442217,_0x284e86){if(_0x5d4887==='data'){this['_font']['data']=_0x442217;const _0x72bf6a=this['_font']['data']['info']['maps']['length'];for(let _0x4423a6=-0x6f1*0x5+-0x1599+0x384e;_0x4423a6<_0x72bf6a;_0x4423a6++){if(!this['_meshInfo'][_0x4423a6])continue;const _0x30c357=this['_meshInfo'][_0x4423a6]['meshInstan'+'ce'];_0x30c357&&(_0x30c357['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x30c357['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x30c357['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x4423a6]['width']));}}}['_onFontRem'+'ove'](_0x3814b0){}['_setTextur'+'eParams'](_0x7b93c2,_0x1c079f){this['_font']&&(this['_font']['type']===Kh?(_0x7b93c2['deletePara'+'meter']('texture_em'+'issiveMap'),_0x7b93c2['deletePara'+'meter']('texture_op'+'acityMap'),_0x7b93c2['setParamet'+'er']('texture_ms'+'dfMap',_0x1c079f)):this['_font']['type']===yR&&(_0x7b93c2['deletePara'+'meter']('texture_ms'+'dfMap'),_0x7b93c2['setParamet'+'er']('texture_em'+'issiveMap',_0x1c079f),_0x7b93c2['setParamet'+'er']('texture_op'+'acityMap',_0x1c079f)));}['_getPxRang'+'e'](_0x401167){const _0x263fa1=Object['keys'](this['_font']['data']['chars']);for(let _0x24d43b=-0x3*-0xc47+0x79*-0x21+-0x153c;_0x24d43b<_0x263fa1['length'];_0x24d43b++){const _0x3c1ad1=this['_font']['data']['chars'][_0x263fa1[_0x24d43b]];if(_0x3c1ad1['range'])return(_0x3c1ad1['scale']||-0x2*-0x262+-0x3b*0x53+0xe5e)*_0x3c1ad1['range'];}return-0xbd2+0x316+-0x8be*-0x1;}['_getUv'](_0x3d73f5){const _0x1c267c=this['_font']['data'];if(!_0x1c267c['chars'][_0x3d73f5]){const _0x292951='\x20';return _0x1c267c['chars'][_0x292951]?this['_getUv'](_0x292951):[-0x12b9+0x5*0x4f3+-0x202*0x3,-0x186*-0x18+-0x47*0x71+0x1*-0x539,0x6c*-0x1+0x1*-0x1f9d+-0x2009*-0x1,-0x2324+-0x1*-0xf69+0x13bb*0x1];}const _0x59bc97=_0x1c267c['chars'][_0x3d73f5]['map'],_0x57c630=_0x1c267c['info']['maps'][_0x59bc97]['width'],_0x91496a=_0x1c267c['info']['maps'][_0x59bc97]['height'],_0xeb4287=_0x1c267c['chars'][_0x3d73f5]['x'],_0x231e73=_0x1c267c['chars'][_0x3d73f5]['y'],_0x24d2c7=_0xeb4287,_0x3ac00f=_0x231e73,_0x346ea3=_0xeb4287+_0x1c267c['chars'][_0x3d73f5]['width'],_0x164280=_0x231e73-_0x1c267c['chars'][_0x3d73f5]['height'],_0x53b5fa=-0x1aae+-0x59a+0xac3*0x3-_0x1c267c['chars'][_0x3d73f5]['height']/_0x91496a;return[_0x24d2c7/_0x57c630,_0x53b5fa-_0x3ac00f/_0x91496a,_0x346ea3/_0x57c630,_0x53b5fa-_0x164280/_0x91496a];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x2373+0x1635+0x18*-0x267),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0x97d*0x2+0x2da*-0xb+0x3259),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x1f0c6e){if(this['_model']){const _0x4c8de0=this['_model']['meshInstan'+'ces'];for(let _0xafe595=-0x1c8c+-0x22a*-0x3+0x6*0x3ad;_0xafe595<_0x4c8de0['length'];_0xafe595++)_0x4c8de0[_0xafe595]['stencilFro'+'nt']=_0x1f0c6e,_0x4c8de0[_0xafe595]['stencilBac'+'k']=_0x1f0c6e;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x4703de){const _0x532a86={};_0x4703de===void(-0x4*0x765+0x1*0xd87+-0x1*-0x100d)&&(_0x4703de=this['_symbols']['length']);for(let _0x1cc58f=0x956+-0xcd7+0x3*0x12b,_0x5cda80=_0x4703de;_0x1cc58f<_0x5cda80;_0x1cc58f++){const _0x4d802c=this['_symbols'][_0x1cc58f];let _0x3aea53=this['_font']['data']['chars'][_0x4d802c];_0x3aea53||(_0x3aea53=this['_font']['data']['chars']['\x20'],_0x3aea53||(_0x3aea53=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0x1e4f*-0x1+0x6c4+-0x7d9*-0x3]]));const _0xaca9fe=_0x3aea53['map'];_0x532a86[_0xaca9fe]?_0x532a86[_0xaca9fe]++:_0x532a86[_0xaca9fe]=-0x651+0x2484+0xa*-0x305;}return _0x532a86;}['_updateRen'+'derRange'](){const _0x3fa9e7=this['_rangeStar'+'t']===-0x1e4c+0x3*-0x583+-0x277*-0x13?0x2b*0x59+0x46e+-0x1361:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x4e5fed=this['_rangeEnd']===0x1*-0x19f7+-0x2458+0x3e4f?-0x10bb+-0x5f3*-0x1+0xac8:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x4f8177=0x456+0x2082+0x6*-0x624,_0x28d072=this['_meshInfo']['length'];_0x4f8177<_0x28d072;_0x4f8177++){const _0x93da3=_0x3fa9e7[_0x4f8177]||0x139*0x15+0x2*0x10f7+-0x3b9b,_0xb2de32=_0x4e5fed[_0x4f8177]||0x18b6+-0x3*-0xce5+0x3f65*-0x1,_0x170bae=this['_meshInfo'][_0x4f8177]['meshInstan'+'ce'];if(_0x170bae){const _0x510533=_0x170bae['mesh'];_0x510533&&(_0x510533['primitive'][0x11*0x175+0xd63+-0x2628]['base']=_0x93da3*(0x179c+-0x24aa+0x45b*0x3)*(0x5c*-0x5e+0xad5+0x16f5),_0x510533['primitive'][-0x3f5+-0x12f*-0x5+-0x1f6]['count']=(_0xb2de32-_0x93da3)*(0x28b+-0x2*0x2a5+0x161*0x2)*(-0x7f7*0x1+-0x2*-0xab9+-0xd79));}}}set['text'](_0x12585d){this['_i18nKey']=null;const _0x4e9f3c=_0x12585d!=null&&_0x12585d['toString']()||'';this['_setText'](_0x4e9f3c);}get['text'](){return this['_text'];}set['key'](_0x560020){const _0x25b92e=_0x560020!==null?_0x560020['toString']():null;this['_i18nKey']!==_0x25b92e&&(this['_i18nKey']=_0x25b92e,_0x25b92e?(this['_fontAsset']['disableLoc'+'alization']=!(0x1907+-0xe13*0x1+-0xaf3),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x1eeb+-0x1*0x121d+0xcce*-0x1));}get['key'](){return this['_i18nKey'];}set['color'](_0xcef852){const _0x62edd5=_0xcef852['r'],_0x110955=_0xcef852['g'],_0x5c33d1=_0xcef852['b'];if(this['_color']===_0xcef852&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x62edd5&&this['_color']['g']===_0x110955&&this['_color']['b']===_0x5c33d1)&&(this['_color']['r']=_0x62edd5,this['_color']['g']=_0x110955,this['_color']['b']=_0x5c33d1,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x1*0x6dd+0x11bd*-0x1+-0x189a*-0x1]=Me['r'],this['_colorUnif'+'orm'][0x178a+-0x1*-0x2518+-0x3ca1]=Me['g'],this['_colorUnif'+'orm'][-0xdca+-0x26ec+0x34b8]=Me['b'];for(let _0x2edaa7=-0x3*-0x666+0x55*0x9+-0x9*0x277,_0x43a717=this['_model']['meshInstan'+'ces']['length'];_0x2edaa7<_0x43a717;_0x2edaa7++)this['_model']['meshInstan'+'ces'][_0x2edaa7]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x41971b){if(this['_color']['a']!==_0x41971b&&(this['_color']['a']=_0x41971b,this['_model'])){for(let _0x25b240=-0x51*-0x1+0x1d*-0x68+0xb77,_0xc194d=this['_model']['meshInstan'+'ces']['length'];_0x25b240<_0xc194d;_0x25b240++)this['_model']['meshInstan'+'ces'][_0x25b240]['setParamet'+'er']('material_o'+'pacity',_0x41971b);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x41971b);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x273bfb){const _0x411466=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x273bfb,this['_scaledLin'+'eHeight']=_0x273bfb,_0x411466!==_0x273bfb&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x2cecae){const _0x25af24=this['_wrapLines'];this['_wrapLines']=_0x2cecae,_0x25af24!==_0x2cecae&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x589a87){const _0x53bf01=this['_spacing'];this['_spacing']=_0x589a87,_0x53bf01!==_0x589a87&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x33783e){const _0x2f1276=this['_fontSize'];this['_fontSize']=_0x33783e,this['_originalF'+'ontSize']=_0x33783e,_0x2f1276!==_0x33783e&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x16acbd){this['_fontAsset']['defaultAss'+'et']=_0x16acbd;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x2d3c11){let _0x152bc5;if(this['_font']&&(_0x152bc5=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x2d3c11,this['_fontMinY']=-0x1b6*0x16+-0xe4b+0x5*0xa63,this['_fontMaxY']=-0x9ea+-0x86d+0x5*0x3ab,!_0x2d3c11)return;const _0x391782=this['_font']['data'];for(const _0x1b88b4 in _0x391782['chars']){const _0xa1dc53=_0x391782['chars'][_0x1b88b4];_0xa1dc53['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0xa1dc53['bounds'][0x238a*-0x1+-0x24ec+0x4877]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0xa1dc53['bounds'][-0x2286*-0x1+-0xf5b+-0x2*0x994]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x2d3c11['type']!==_0x152bc5){const _0x4345b8=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x4345b8);}for(let _0xda2d1a=0x8*0x2f4+0x168c+-0xf*0x314,_0x197d99=this['_font']['textures']['length'];_0xda2d1a<_0x197d99;_0xda2d1a++)if(!this['_meshInfo'][_0xda2d1a])this['_meshInfo'][_0xda2d1a]=new CR();else{const _0x22c9d4=this['_meshInfo'][_0xda2d1a]['meshInstan'+'ce'];_0x22c9d4&&(_0x22c9d4['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x22c9d4['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x22c9d4['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0xda2d1a]['width']),this['_setTextur'+'eParams'](_0x22c9d4,this['_font']['textures'][_0xda2d1a]));}let _0x47f89c=!(-0x1*0x1f2d+-0x1223*-0x1+0xd0b);for(let _0x36e18d=this['_font']['textures']['length'];_0x36e18d<this['_meshInfo']['length'];_0x36e18d++)this['_meshInfo'][_0x36e18d]['meshInstan'+'ce']&&(_0x47f89c||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x47f89c=!(0x23d1*0x1+0xfaf+-0x3380)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x36e18d]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x4210bd){_0x4210bd instanceof W?this['_alignment']['set'](_0x4210bd['x'],_0x4210bd['y']):this['_alignment']['set'](_0x4210bd[0x1*-0xa27+0x415*0x7+-0x126c],_0x4210bd[-0x1e43+-0x1347+0x318b]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x2eb4ec){const _0x3cb1e8=this['_autoWidth'];if(this['_autoWidth']=_0x2eb4ec,_0x2eb4ec&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x1*0x1ddb+-0xc53+-0x198*0xb+0.0001&&(this['_element']['width']=this['width']),_0x3cb1e8!==_0x2eb4ec){const _0x436a07=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x436a07!==this['_fontSize']&&(this['_fontSize']=_0x436a07,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x106b3b){const _0xcdcd7d=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x106b3b,_0x106b3b&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x269*-0x5+0x183f+0x619*-0x2+0.0001&&(this['_element']['height']=this['height']),_0xcdcd7d!==_0x106b3b){const _0x3e8553=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x3e8553!==this['_fontSize']&&(this['_fontSize']=_0x3e8553,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x5ed213){this['_rtlReorde'+'r']!==_0x5ed213&&(this['_rtlReorde'+'r']=_0x5ed213,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x20956b){this['_unicodeCo'+'nverter']!==_0x20956b&&(this['_unicodeCo'+'nverter']=_0x20956b,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x9c85f0=!(0x2671+-0x3ab*0x1+-0x22c5);for(let _0x36a84b=-0x112f*0x2+0x1da7+-0x47*-0x11;_0x36a84b<this['_meshInfo']['length'];_0x36a84b++)this['_meshInfo'][_0x36a84b]['meshInstan'+'ce']&&(_0x9c85f0?this['_aabb']['add'](this['_meshInfo'][_0x36a84b]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x36a84b]['meshInstan'+'ce']['aabb']),_0x9c85f0=!(-0x25dc+-0x35e*0x8+0x27e*0x1a)));this['_aabbDirty']=!(-0x29f+-0x236f+-0x260f*-0x1);}return this['_aabb'];}set['outlineCol'+'or'](_0x49fcc){const _0x13b9cb=_0x49fcc instanceof Y?_0x49fcc['r']:_0x49fcc[-0xda1+-0x8f+0xe30],_0x44fc56=_0x49fcc instanceof Y?_0x49fcc['g']:_0x49fcc[0x1*-0x1dad+0x1f9c+-0x1ee],_0x1885b6=_0x49fcc instanceof Y?_0x49fcc['b']:_0x49fcc[0x1396+0x1*0x1805+-0x1*0x2b99],_0x3a53cb=_0x49fcc instanceof Y?_0x49fcc['a']:_0x49fcc[0x109f+0x30*-0xa8+0x772*0x2];if(this['_outlineCo'+'lor']===_0x49fcc&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x13b9cb&&this['_outlineCo'+'lor']['g']===_0x44fc56&&this['_outlineCo'+'lor']['b']===_0x1885b6&&this['_outlineCo'+'lor']['a']===_0x3a53cb)&&(this['_outlineCo'+'lor']['r']=_0x13b9cb,this['_outlineCo'+'lor']['g']=_0x44fc56,this['_outlineCo'+'lor']['b']=_0x1885b6,this['_outlineCo'+'lor']['a']=_0x3a53cb,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0xb9d+0x25+0xe*-0xd7]=Me['r'],this['_outlineCo'+'lorUniform'][-0x33c+0x1fa5+-0x3*0x978]=Me['g'],this['_outlineCo'+'lorUniform'][0x1*0x1dff+0x1795+0x1*-0x3592]=Me['b'],this['_outlineCo'+'lorUniform'][0x16e0+-0x8*0x17d+-0xaf5]=Me['a'];for(let _0x488257=-0xe62+-0x1*0xb6f+0x19d1,_0x5ee391=this['_model']['meshInstan'+'ces']['length'];_0x488257<_0x5ee391;_0x488257++)this['_model']['meshInstan'+'ces'][_0x488257]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x2108d4){const _0x42ced2=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x2108d4,_0x42ced2!==_0x2108d4&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x2271cc=0x2191+0x839+-0x29ca,_0x1f964e=this['_model']['meshInstan'+'ces']['length'];_0x2271cc<_0x1f964e;_0x2271cc++)this['_model']['meshInstan'+'ces'][_0x2271cc]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x344bbb){const _0x39dea7=_0x344bbb instanceof Y?_0x344bbb['r']:_0x344bbb[-0x1663*-0x1+0x1*-0x5d+0x1*-0x1606],_0x54782b=_0x344bbb instanceof Y?_0x344bbb['g']:_0x344bbb[0x22d5*0x1+0x286*-0x7+-0x112a*0x1],_0x636773=_0x344bbb instanceof Y?_0x344bbb['b']:_0x344bbb[0xf1*-0x17+0x1*0x24df+-0xf36],_0x1abd8b=_0x344bbb instanceof Y?_0x344bbb['a']:_0x344bbb[0x47*-0x65+0x1*-0x2671+-0x53*-0xcd];if(this['_shadowCol'+'or']===_0x344bbb&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x39dea7&&this['_shadowCol'+'or']['g']===_0x54782b&&this['_shadowCol'+'or']['b']===_0x636773&&this['_shadowCol'+'or']['a']===_0x1abd8b)&&(this['_shadowCol'+'or']['r']=_0x39dea7,this['_shadowCol'+'or']['g']=_0x54782b,this['_shadowCol'+'or']['b']=_0x636773,this['_shadowCol'+'or']['a']=_0x1abd8b,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0xb*0xd2+-0x1ef2+0x15ec]=Me['r'],this['_shadowCol'+'orUniform'][0x1*-0x1ded+-0x26c9+-0x9d1*-0x7]=Me['g'],this['_shadowCol'+'orUniform'][0x580+-0xbc8+0x7*0xe6]=Me['b'],this['_shadowCol'+'orUniform'][0x888+-0x4ce*-0x7+-0x3d5*0xb]=Me['a'];for(let _0x522cc9=-0x1d32+-0x1efc+0x3c2e,_0x59e7ad=this['_model']['meshInstan'+'ces']['length'];_0x522cc9<_0x59e7ad;_0x522cc9++)this['_model']['meshInstan'+'ces'][_0x522cc9]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x508f20){const _0x1d0526=_0x508f20 instanceof W?_0x508f20['x']:_0x508f20[-0x181c*-0x1+-0xb*-0x2cf+0x3701*-0x1],_0x1c67eb=_0x508f20 instanceof W?_0x508f20['y']:_0x508f20[-0x468+-0x2e6*0x1+0x74f];if(!(this['_shadowOff'+'set']['x']===_0x1d0526&&this['_shadowOff'+'set']['y']===_0x1c67eb)&&(this['_shadowOff'+'set']['set'](_0x1d0526,_0x1c67eb),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x8d9af0=-0x1847+-0x2*0x35b+0x1efd,_0x2f98d7=this['_model']['meshInstan'+'ces']['length'];_0x8d9af0<_0x2f98d7;_0x8d9af0++){const _0xe96c07=-this['_font']['data']['info']['maps'][_0x8d9af0]['width']/this['_font']['data']['info']['maps'][_0x8d9af0]['height'];this['_shadowOff'+'setUniform'][-0x107*-0x1d+0x1546+0x1*-0x3311]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x23ac+0x4b0+-0x1efd*-0x1]=_0xe96c07*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x8d9af0]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0xa324cb){this['_minFontSi'+'ze']!==_0xa324cb&&(this['_minFontSi'+'ze']=_0xa324cb,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x40b218){this['_maxFontSi'+'ze']!==_0x40b218&&(this['_maxFontSi'+'ze']=_0x40b218,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x5ad5d7){this['_autoFitWi'+'dth']!==_0x5ad5d7&&(this['_autoFitWi'+'dth']=_0x5ad5d7,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x39d267){this['_autoFitHe'+'ight']!==_0x39d267&&(this['_autoFitHe'+'ight']=_0x39d267,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x359b49){this['_maxLines']!==_0x359b49&&(_0x359b49===null&&this['_maxLines']===-(-0x1*-0x1741+-0x28*0x80+-0x340)||(this['_maxLines']=_0x359b49===null?-(0xae9*-0x1+0x1*0x1348+0xee*-0x9):_0x359b49,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x4bdb28){if(_0x4bdb28=!!_0x4bdb28,this['_enableMar'+'kup']===_0x4bdb28)return;this['_enableMar'+'kup']=_0x4bdb28,this['font']&&this['_updateTex'+'t']();const _0x3ae1c4=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3ae1c4);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x58b511){return this['_colorPale'+'tte']['slice'](_0x58b511*(-0x1a16+0x2535*0x1+0x3*-0x3b4),_0x58b511*(0x18e9+-0xca0+-0xc46)+(-0x204c+0x20c3+-0x74));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x2864b4){return this['_outlinePa'+'lette']['slice'](_0x2864b4*(-0x165*0x1+0x505+-0x39b*0x1),_0x2864b4*(-0x2308+-0x1d*-0xc2+0xd13)+(0x3f4+-0x1d01+0xc89*0x2));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x2fbf9a){return this['_shadowPal'+'ette']['slice'](_0x2fbf9a*(0x2*-0x6fb+-0x3*-0x571+-0x257*0x1),_0x2fbf9a*(-0x19d5+-0x3f1+-0x773*-0x4)+(-0x1e5*-0x9+0x3a1*0xa+-0x3551));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x47ef5a){_0x47ef5a=Math['max'](-0x1d6*-0xb+0x6ca+-0x1afc,Math['min'](_0x47ef5a,this['_symbols']['length'])),_0x47ef5a!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x47ef5a,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x1e46ce){_0x1e46ce=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x1e46ce,this['_symbols']['length'])),_0x1e46ce!==this['_rangeEnd']&&(this['_rangeEnd']=_0x1e46ce,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0x6d1d7b,_0xeeb928){super(_0x6d1d7b,_0xeeb928),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0x5ab*-0x4+-0x16*-0x12b+-0x305d),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=-0x7a9+0x1*0x1853+-0x108a,this['_height']=this['_calculate'+'dHeight']=-0x216d+-0x1290+0x341d,this['_margin']=new Q(0x939+-0x151*0xa+0x3f1,0x4f5+-0x37*-0x40+-0x12b5*0x1,-(-0x1*-0x3aa+-0x1d24+0x199a),-(-0xbc3*0x3+0x2*0x114+-0x2141*-0x1)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(-0x1268+-0x242d+0x3695),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(0xb*0xcb+0x1009+-0x18c2),this['_canvasCor'+'nersDirty']=!(-0x61*0x20+0x1be4+0x2*-0x7e2),this['_worldCorn'+'ersDirty']=!(-0x1be9+0xe2d+0xdbc),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x8c9+0xa8b+-0x1354,this['_fitMode']=gh,this['_useInput']=!(-0x20b0+-0x1b8+0x2269),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0x227*-0x10+0xde1+-0x3050*0x1),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x2476+-0x16df*0x1+-0xd97,this['_maskOffse'+'t']=0x137*-0x1+-0x346*-0x5+-0xf27+0.5,this['_maskedBy']=null);}get['data'](){const _0x502aaa=this['system']['store'][this['entity']['getGuid']()];return _0x502aaa?_0x502aaa['data']:null;}set['enabled'](_0x232f83){const _0x925499=this['data'],_0x1751b2=_0x925499['enabled'];_0x925499['enabled']=_0x232f83,this['fire']('set','enabled',_0x1751b2,_0x232f83);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x1b93+0x18c+0x1a07+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x7f6+0x12ab+0x1aa1*-0x1+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x28f1b1){_0x28f1b1 instanceof Q?this['_anchor']['copy'](_0x28f1b1):this['_anchor']['set'](..._0x28f1b1),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0x1286+0x1e48+-0x30ce*0x1),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x522e18){var _0x2f7562,_0x5c8f84;this['_batchGrou'+'pId']!==_0x522e18&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x14ad+-0x2055+0xba8*0x1&&((_0x2f7562=this['system']['app']['batcher'])==null||_0x2f7562['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x522e18>=0xa4*-0x19+-0x1a*-0x18+0xd94&&((_0x5c8f84=this['system']['app']['batcher'])==null||_0x5c8f84['insert'](et['ELEMENT'],_0x522e18,this['entity'])),_0x522e18<-0xe83+0x5*0x541+-0x7*0x1ae&&this['_batchGrou'+'pId']>=0x1a6d+0x1014+-0x3*0xe2b&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x522e18);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x471273){this['_margin']['y']=_0x471273;const _0x1e70ff=this['entity']['getLocalPo'+'sition'](),_0x4a1c0b=this['_absTop'],_0x919b42=this['_localAnch'+'or']['y']+_0x471273;this['_setHeight'](_0x4a1c0b-_0x919b42),_0x1e70ff['y']=_0x471273+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x1e70ff);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x248a06){this['_setCalcul'+'atedWidth'](_0x248a06,!(-0x1c4b+0x1d54+-0x1*0x109));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x5d4fe6){this['_setCalcul'+'atedHeight'](_0x5d4fe6,!(0x1*0x17c2+-0xfd4+-0x7ee));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x532eec=this['system']['app']['graphicsDe'+'vice'],_0x390352=this['screenCorn'+'ers'],_0x56c998=_0x532eec['canvas']['clientWidt'+'h']/_0x532eec['width'],_0x59acda=_0x532eec['canvas']['clientHeig'+'ht']/_0x532eec['height'];for(let _0xfcea6b=0x1*-0x14b1+0x12dc+0x1*0x1d5;_0xfcea6b<-0x1d*-0x41+-0x1*0x19e3+0x128a;_0xfcea6b++)this['_canvasCor'+'ners'][_0xfcea6b]['set'](_0x390352[_0xfcea6b]['x']*_0x56c998,(_0x532eec['height']-_0x390352[_0xfcea6b]['y'])*_0x59acda);return this['_canvasCor'+'nersDirty']=!(-0x589*-0x5+0x7d0*-0x4+0x394),this['_canvasCor'+'ners'];}set['drawOrder'](_0x1d6fa3){let _0x5eb77c=0x1*-0x56e+-0x5bf*0x4+0x1c6a;this['screen']&&(_0x5eb77c=this['screen']['screen']['priority']),_0x1d6fa3>0x2d*-0x4273f+0x1f0a660+-0x35c04e&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x1d6fa3=-0x1f8dab5+0x135*0x138d6+0x17f4066),this['_drawOrder']=(_0x5eb77c<<0x206b+-0x159+-0x1efa)+_0x1d6fa3,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x448a2c){this['_height']=_0x448a2c,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x448a2c,!(-0xcda+-0x1*-0x255d+0x4e7*-0x5)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x4199b0){if(this['_addedMode'+'ls']['length'])for(let _0x3bd173=0x1a0e+-0x1fea+0x5dc;_0x3bd173<this['_layers']['length'];_0x3bd173++){const _0x2bb8cc=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3bd173]);if(_0x2bb8cc){for(let _0x300074=-0x26a4+-0xf98+-0x34*-0x10b;_0x300074<this['_addedMode'+'ls']['length'];_0x300074++)_0x2bb8cc['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x300074]['meshInstan'+'ces']);}}if(this['_layers']=_0x4199b0,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x56c775=0x1421+0x59*0xb+-0x17f4;_0x56c775<this['_layers']['length'];_0x56c775++){const _0x3dfdc2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x56c775]);if(_0x3dfdc2){for(let _0x3b532c=0x6ea+-0x1*-0x98b+-0x1075;_0x3b532c<this['_addedMode'+'ls']['length'];_0x3b532c++)_0x3dfdc2['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x3b532c]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x53cd6a){this['_margin']['x']=_0x53cd6a;const _0x2d4d7e=this['entity']['getLocalPo'+'sition'](),_0x572d03=this['_absRight'],_0x5410ab=this['_localAnch'+'or']['x']+_0x53cd6a;this['_setWidth'](_0x572d03-_0x5410ab),_0x2d4d7e['x']=_0x53cd6a+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x2d4d7e);}get['left'](){return this['_margin']['x'];}set['margin'](_0x524303){this['_margin']['copy'](_0x524303),this['_calculate'+'Size'](!(0xa60+0x203e*0x1+-0x886*0x5),!(-0x4db+0xf1f+-0xa44)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x162bcf){const {pivot:_0x4f10e0,margin:_0x5f47ce}=this,_0x56b748=_0x4f10e0['x'],_0x1bfc80=_0x4f10e0['y'];_0x162bcf instanceof W?_0x4f10e0['copy'](_0x162bcf):_0x4f10e0['set'](..._0x162bcf);const _0x5a31de=_0x5f47ce['x']+_0x5f47ce['z'],_0x55a733=_0x4f10e0['x']-_0x56b748;_0x5f47ce['x']+=_0x5a31de*_0x55a733,_0x5f47ce['z']-=_0x5a31de*_0x55a733;const _0x53b65f=_0x5f47ce['y']+_0x5f47ce['w'],_0x4e89b4=_0x4f10e0['y']-_0x1bfc80;_0x5f47ce['y']+=_0x53b65f*_0x4e89b4,_0x5f47ce['w']-=_0x53b65f*_0x4e89b4,this['_anchorDir'+'ty']=!(0xfd*0x2+0x1*0x1271+0x146b*-0x1),this['_cornersDi'+'rty']=!(0x1b*0x3d+-0x1d0c+-0x1*-0x169d),this['_worldCorn'+'ersDirty']=!(-0x623*-0x1+-0x347*-0x8+0x1*-0x205b),this['_calculate'+'Size'](!(0x2ab*0xd+0x1223*0x1+-0x34d1),!(-0x977+0x16*-0xa6+0x17bc)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x4f10e0);}get['pivot'](){return this['_pivot'];}set['right'](_0x399902){this['_margin']['z']=_0x399902;const _0x11acce=this['entity']['getLocalPo'+'sition'](),_0xf97599=this['_absLeft'],_0x133393=this['_localAnch'+'or']['z']-_0x399902;this['_setWidth'](_0x133393-_0xf97599),_0x11acce['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x399902-this['_calculate'+'dWidth']*(-0xe21+-0x1*-0x1c7b+0xe59*-0x1-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x11acce);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x18c7c7=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0xc62+0x1772+0x4*-0x2c4];this['_screenCor'+'ners'][-0x123f+0x1914+0x6d5*-0x1]['set'](this['_absLeft'],this['_absBottom'],-0x1b8d+0xcb+0x1ac2),this['_screenCor'+'ners'][0x1a24+0x9*-0x283+-0x1c4*0x2]['set'](this['_absRight'],this['_absBottom'],-0xac0+0x1*-0xc07+0x16c7*0x1),this['_screenCor'+'ners'][0xf16*0x1+0xfc6+-0xf6d*0x2]['set'](this['_absRight'],this['_absTop'],-0x25d2+-0x361*-0x2+0x238*0xe),this['_screenCor'+'ners'][-0x5e5+0x582+0x3*0x22]['set'](this['_absLeft'],this['_absTop'],-0x1721+-0x1*-0xa85+0x10d*0xc);const _0x33d986=this['screen']['screen']['screenSpac'+'e'];for(let _0x1472ea=0x2f*0x89+0x1*0x105f+0x5*-0x84e;_0x1472ea<0x17ce+-0x2464+-0xc9a*-0x1;_0x1472ea++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x1472ea],this['_screenCor'+'ners'][_0x1472ea]),_0x33d986&&this['_screenCor'+'ners'][_0x1472ea]['mulScalar'](this['screen']['screen']['scale']),_0x18c7c7&&this['_screenCor'+'ners'][_0x1472ea]['add'](_0x18c7c7);return this['_cornersDi'+'rty']=!(-0x21*0x59+0x24a6+-0x192c),this['_canvasCor'+'nersDirty']=!(-0x80d+0x47*0x47+-0xba4),this['_worldCorn'+'ersDirty']=!(-0x1369+-0x11*0x97+-0x10*-0x1d7),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x2173+-0x8f3+-0x1880;}get['textHeight'](){return this['_text']?this['_text']['height']:-0x11a1*-0x1+-0x2f0+-0xeb1;}set['top'](_0xe45ece){this['_margin']['w']=_0xe45ece;const _0xadbb59=this['entity']['getLocalPo'+'sition'](),_0x50d6c2=this['_absBottom'],_0x326a62=this['_localAnch'+'or']['w']-_0xe45ece;this['_setHeight'](_0x326a62-_0x50d6c2),_0xadbb59['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0xe45ece-this['_calculate'+'dHeight']*(-0x1*0x74b+-0x26+0x2*0x3b9-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0xadbb59);}get['top'](){return this['_margin']['w'];}set['type'](_0x263304){_0x263304!==this['_type']&&(this['_type']=_0x263304,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x263304===rf?this['_image']=new _R(this):_0x263304===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x716da3){this['_useInput']!==_0x716da3&&(this['_useInput']=_0x716da3,this['system']['app']['elementInp'+'ut']?_0x716da3?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x82d+0x4*0x7b5+-0x1*0x16a7)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x716da3));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x4e42d8){this['_fitMode']=_0x4e42d8,this['_calculate'+'Size'](!(-0x801*0x1+0x80e+-0xd),!(-0x31*-0x62+-0x24af+-0xd*-0x161)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x3a253c){this['_width']=_0x3a253c,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x3a253c,!(-0x1baa+-0x5b3+0x49*0x75)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x3406c0=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][-0x6d*0x56+-0x1*-0xf59+0x1552]=-es['data'][-0x15e2+-0x124b+0x13*0x21e],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x3926d0=-0x227*-0xa+-0x13*-0x63+-0x1cdf;_0x3926d0<0xc71+0x14d5+-0x2142;_0x3926d0++)es['transformP'+'oint'](_0x3406c0[_0x3926d0],this['_worldCorn'+'ers'][_0x3926d0]);}}else{const _0x52e11d=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0x52e11d['x'],-_0x52e11d['y'],-_0x52e11d['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x52e11d['x'],_0x52e11d['y'],_0x52e11d['z']);const _0x44a972=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0x44a972['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0x52e11d['x']-this['pivot']['x']*this['calculated'+'Width'],_0x52e11d['y']-this['pivot']['y']*this['calculated'+'Height'],_0x52e11d['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x11*0x27+-0x37d+0x185*0x4]),ni['set'](_0x52e11d['x']+(0x108*0x13+0xffd*-0x2+0xc63-this['pivot']['x'])*this['calculated'+'Width'],_0x52e11d['y']-this['pivot']['y']*this['calculated'+'Height'],_0x52e11d['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x5ad*0x1+0x25f0+-0x2b9c*0x1]),ni['set'](_0x52e11d['x']+(0xb*-0x1ad+0x1*-0x6e8+0x1958-this['pivot']['x'])*this['calculated'+'Width'],_0x52e11d['y']+(0x1a4*-0x12+0x1424+0x965-this['pivot']['y'])*this['calculated'+'Height'],_0x52e11d['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x1*0x1bfe+-0x1*0x746+0x2346]),ni['set'](_0x52e11d['x']-this['pivot']['x']*this['calculated'+'Width'],_0x52e11d['y']+(-0x1*-0x74c+0x55a+0x1*-0xca5-this['pivot']['y'])*this['calculated'+'Height'],_0x52e11d['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x903+0x7*0x251+-0x107*0x7]);}return this['_worldCorn'+'ersDirty']=!(0xa8f+-0xa5e+-0x30),this['_worldCorn'+'ers'];}set['fontSize'](_0x269205){this['_setValue']('fontSize',_0x269205);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x2c7ec0){this['_setValue']('minFontSiz'+'e',_0x2c7ec0);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x1c4813){this['_setValue']('maxFontSiz'+'e',_0x1c4813);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x3802){this['_setValue']('maxLines',_0x3802);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x285ed6){this['_setValue']('autoFitWid'+'th',_0x285ed6);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x4bacd0){this['_setValue']('autoFitHei'+'ght',_0x4bacd0);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x47c147){this['_setValue']('color',_0x47c147);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x30c254){this['_setValue']('font',_0x30c254);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x168f0b){this['_setValue']('fontAsset',_0x168f0b);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x14f640){this['_setValue']('spacing',_0x14f640);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0xb52d08){this['_setValue']('lineHeight',_0xb52d08);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x1ea822){this['_setValue']('wrapLines',_0x1ea822);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x120b32){this['_setValue']('lines',_0x120b32);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x671ad){this['_setValue']('alignment',_0x671ad);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x391951){this['_setValue']('autoWidth',_0x391951);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x1228b2){this['_setValue']('autoHeight',_0x1228b2);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x534729){this['_setValue']('rtlReorder',_0x534729);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x40af02){this['_setValue']('unicodeCon'+'verter',_0x40af02);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x98497){this['_setValue']('text',_0x98497);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x5ecbbc){this['_setValue']('key',_0x5ecbbc);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x16fab0){this['_setValue']('texture',_0x16fab0);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x5ea71b){this['_setValue']('textureAss'+'et',_0x5ea71b);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x1c905d){this['_setValue']('material',_0x1c905d);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x5dd833){this['_setValue']('materialAs'+'set',_0x5dd833);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x29e843){this['_setValue']('sprite',_0x29e843);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x1b7adb){this['_setValue']('spriteAsse'+'t',_0x1b7adb);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0xb75a4f){this['_setValue']('spriteFram'+'e',_0xb75a4f);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x1de155){this['_setValue']('pixelsPerU'+'nit',_0x1de155);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x27398a){this['_setValue']('opacity',_0x27398a);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x3e6b00){this['_setValue']('rect',_0x3e6b00);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x1f2a8c){this['_setValue']('mask',_0x1f2a8c);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x527429){this['_setValue']('outlineCol'+'or',_0x527429);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x310e58){this['_setValue']('outlineThi'+'ckness',_0x310e58);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x1dfbab){this['_setValue']('shadowColo'+'r',_0x1dfbab);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x50947c){this['_setValue']('shadowOffs'+'et',_0x50947c);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x57507d){this['_setValue']('enableMark'+'up',_0x57507d);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x5b6ef0){this['_setValue']('rangeStart',_0x5b6ef0);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x25ab6a){this['_setValue']('rangeEnd',_0x25ab6a);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x4fbb21,_0x1f8a75){this['_text']?(this['_text'][_0x4fbb21]!==_0x1f8a75&&this['_dirtyBatc'+'h'](),this['_text'][_0x4fbb21]=_0x1f8a75):this['_image']&&(this['_image'][_0x4fbb21]!==_0x1f8a75&&this['_dirtyBatc'+'h'](),this['_image'][_0x4fbb21]=_0x1f8a75);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=We['prototype']['_sync'],this['entity']['setPositio'+'n']=We['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=We['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x5be0e8,_0x15c103,_0x2d9346){if(!this['element']['screen']){We['prototype']['setPositio'+'n']['call'](this,_0x5be0e8,_0x15c103,_0x2d9346);return;}_0x5be0e8 instanceof T?Kd['copy'](_0x5be0e8):Kd['set'](_0x5be0e8,_0x15c103,_0x2d9346),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x4b0eb7,_0x10b473,_0x4cfc6c){_0x4b0eb7 instanceof T?this['localPosit'+'ion']['copy'](_0x4b0eb7):this['localPosit'+'ion']['set'](_0x4b0eb7,_0x10b473,_0x4cfc6c);const _0x2fb7da=this['element'],_0x3f6ea4=this['localPosit'+'ion'],_0x4a4ee8=_0x2fb7da['_pivot'];_0x2fb7da['_margin']['x']=_0x3f6ea4['x']-_0x2fb7da['_calculate'+'dWidth']*_0x4a4ee8['x'],_0x2fb7da['_margin']['z']=_0x2fb7da['_localAnch'+'or']['z']-_0x2fb7da['_localAnch'+'or']['x']-_0x2fb7da['_calculate'+'dWidth']-_0x2fb7da['_margin']['x'],_0x2fb7da['_margin']['y']=_0x3f6ea4['y']-_0x2fb7da['_calculate'+'dHeight']*_0x4a4ee8['y'],_0x2fb7da['_margin']['w']=_0x2fb7da['_localAnch'+'or']['w']-_0x2fb7da['_localAnch'+'or']['y']-_0x2fb7da['_calculate'+'dHeight']-_0x2fb7da['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x5f5aef=this['element'],_0x4a9876=_0x5f5aef['screen'];if(_0x4a9876){if(_0x5f5aef['_anchorDir'+'ty']){let _0x4eec70=0xf*-0x199+-0xcf*0x7+0x1da0,_0x5ed47b=-0x2*0x81+-0x1*0x925+0x17*0x71,_0x1202d6=-0x2489+0x2*0xd74+0x9a1,_0x2de835=-0x1d6f+-0xe21+-0x2b91*-0x1;if(this['_parent']&&this['_parent']['element'])_0x4eec70=this['_parent']['element']['calculated'+'Width'],_0x5ed47b=this['_parent']['element']['calculated'+'Height'],_0x1202d6=this['_parent']['element']['pivot']['x'],_0x2de835=this['_parent']['element']['pivot']['y'];else{const _0x7fb790=_0x4a9876['screen']['resolution'];_0x4eec70=_0x7fb790['x']/_0x4a9876['screen']['scale'],_0x5ed47b=_0x7fb790['y']/_0x4a9876['screen']['scale'];}_0x5f5aef['_anchorTra'+'nsform']['setTransla'+'te'](_0x4eec70*(_0x5f5aef['anchor']['x']-_0x1202d6),-(_0x5ed47b*(_0x2de835-_0x5f5aef['anchor']['y'])),0x1*-0x17c8+0x59*0x3+0x16bd),_0x5f5aef['_anchorDir'+'ty']=!(0x6*0x475+0x8c7*0x1+-0x2384),_0x5f5aef['_calculate'+'LocalAncho'+'rs']();}_0x5f5aef['_sizeDirty']&&_0x5f5aef['_calculate'+'Size'](!(0x16*0xd5+0x22bf+-0x350c),!(0x1*0x2692+0x2fb*0x3+-0x2f82));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0xac5529=this['localPosit'+'ion'],_0x17cc3b=_0x5f5aef['_pivot'];_0x5f5aef['_margin']['x']=_0xac5529['x']-_0x5f5aef['_calculate'+'dWidth']*_0x17cc3b['x'],_0x5f5aef['_margin']['z']=_0x5f5aef['_localAnch'+'or']['z']-_0x5f5aef['_localAnch'+'or']['x']-_0x5f5aef['_calculate'+'dWidth']-_0x5f5aef['_margin']['x'],_0x5f5aef['_margin']['y']=_0xac5529['y']-_0x5f5aef['_calculate'+'dHeight']*_0x17cc3b['y'],_0x5f5aef['_margin']['w']=_0x5f5aef['_localAnch'+'or']['w']-_0x5f5aef['_localAnch'+'or']['y']-_0x5f5aef['_calculate'+'dHeight']-_0x5f5aef['_margin']['y'],this['_dirtyLoca'+'l']=!(0x1a43+-0x2311+0x1c3*0x5);}if(!_0x4a9876){this['_dirtyWorl'+'d']&&(_0x5f5aef['_cornersDi'+'rty']=!(0x16d5+-0x4*0x97d+0xf1f),_0x5f5aef['_canvasCor'+'nersDirty']=!(0x57*-0x52+-0xfd4+0x7*0x63e),_0x5f5aef['_worldCorn'+'ersDirty']=!(-0x9*-0x143+-0x1990+0xe35*0x1)),We['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x5f5aef['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x5f5aef['_anchorTra'+'nsform']):_0x5f5aef['_screenToW'+'orld']['copy'](_0x5f5aef['_anchorTra'+'nsform']),_0x5f5aef['_modelTran'+'sform']['mul2'](_0x5f5aef['_screenToW'+'orld'],this['localTrans'+'form']),_0x4a9876){_0x5f5aef['_screenToW'+'orld']['mul2'](_0x4a9876['screen']['_screenMat'+'rix'],_0x5f5aef['_screenToW'+'orld']),_0x4a9876['screen']['screenSpac'+'e']||_0x5f5aef['_screenToW'+'orld']['mul2'](_0x4a9876['worldTrans'+'form'],_0x5f5aef['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x5f5aef['_screenToW'+'orld'],this['localTrans'+'form']);const _0x1214c6=_0x5f5aef['_parentWor'+'ldTransfor'+'m'];_0x1214c6['setIdentit'+'y']();const _0x46cefd=this['_parent'];_0x46cefd&&_0x46cefd['element']&&_0x46cefd!==_0x4a9876&&(es['setTRS'](T['ZERO'],_0x46cefd['getLocalRo'+'tation'](),_0x46cefd['getLocalSc'+'ale']()),_0x1214c6['mul2'](_0x46cefd['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x2318e8=ni;_0x2318e8['set'](0x100f*-0x2+-0x12a*-0x1d+-0x1a4,-0x26f0+0x1e05+0x8eb,this['localPosit'+'ion']['z']);const _0x54928c=kR;_0x54928c['set'](_0x5f5aef['_absLeft']+_0x5f5aef['_pivot']['x']*_0x5f5aef['calculated'+'Width'],_0x5f5aef['_absBottom']+_0x5f5aef['_pivot']['y']*_0x5f5aef['calculated'+'Height'],-0x1639+0xa*0x67+-0x611*-0x3),es['setTransla'+'te'](-_0x54928c['x'],-_0x54928c['y'],-_0x54928c['z']),Yl['setTRS'](_0x2318e8,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x54928c['x'],_0x54928c['y'],_0x54928c['z']),_0x5f5aef['_screenTra'+'nsform']['mul2'](_0x5f5aef['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x5f5aef['_cornersDi'+'rty']=!(0xc8+-0x155*0x14+0x19dc),_0x5f5aef['_canvasCor'+'nersDirty']=!(-0x171b+-0x1875+0x2f90),_0x5f5aef['_worldCorn'+'ersDirty']=!(0x76e*0x5+0x66d*-0x2+-0x613*0x4);}else this['worldTrans'+'form']['copy'](_0x5f5aef['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x2f*-0x9e+-0x4*-0x6c3+-0x380d);}}['_onInsert'](_0x2b881d){const _0x31f1ed=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x31f1ed['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x3fa6ca=this['entity'];for(;_0x3fa6ca;){const _0x233be1=_0x3fa6ca['parent'];if((_0x233be1===null||_0x233be1['screen'])&&_0x3fa6ca['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0x2606ca=this['system']['_prerender']['indexOf'](this['entity']);_0x2606ca>=-0x1276+-0xcc0+-0x22*-0xeb&&this['system']['_prerender']['splice'](_0x2606ca,0x88d*0x1+-0x13fa+0xb6e),this['system']['_prerender']['indexOf'](_0x3fa6ca)<0x1752+-0x1d26+0x5d4&&this['system']['_prerender']['push'](_0x3fa6ca),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x3fa6ca['name']);}_0x3fa6ca=_0x233be1;}}['_onPrerend'+'er'](){for(let _0x100d38=-0x4*0x2d9+-0x3*0xcbb+0x3195;_0x100d38<this['system']['_prerender']['length'];_0x100d38++){const _0x2d8680=this['system']['_prerender'][_0x100d38];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0x2d8680['name']),_0x2d8680['element']&&_0x2d8680['element']['syncMask'](-0x8*-0x9e+0xd40+-0x122f);}this['system']['_prerender']['length']=0x850+0x20cb+-0x291b;}['_bindScree'+'n'](_0xd0382b){_0xd0382b['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x2e96e9){_0x2e96e9['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x3f5891){this['screen']&&this['screen']!==_0x3f5891&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x429013=this['screen'];this['screen']=_0x3f5891,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x429013),this['_anchorDir'+'ty']=!(0x5*0x2af+-0x44+-0xd27);const _0x85e682=this['entity']['children'];for(let _0x9e0cd0=-0x1b5e+0x2*-0xfc3+0x3ae4,_0x9581b4=_0x85e682['length'];_0x9e0cd0<_0x9581b4;_0x9e0cd0++)_0x85e682[_0x9e0cd0]['element']&&_0x85e682[_0x9e0cd0]['element']['_updateScr'+'een'](_0x3f5891);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x2b69af){const _0x2f03c6=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x2f03c6['mask'],_0x2b69af);}['_setMasked'+'By'](_0x485a43){const _0x131cbf=this['_image']||this['_text'];if(_0x485a43){const _0x1b9c6f=_0x485a43['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x1b9c6f),_0x131cbf==null||_0x131cbf['_setStenci'+'l'](new qs({'ref':_0x1b9c6f,'func':Ch})),this['_maskedBy']=_0x485a43;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x131cbf==null||_0x131cbf['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x1b5451,_0x56bd86){var _0x44af3a,_0x460430;if(_0x1b5451){if(this['_setMasked'+'By'](_0x1b5451),this['mask']){const _0x20744b=_0x1b5451['element']['_image']['_maskRef'],_0x23ab36=new qs({'ref':_0x20744b,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x23ab36),this['_image']['_maskRef']=_0x56bd86,_0x56bd86++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x23ab36['ref']+(-0x4ae*-0x8+-0x17*-0x2+-0x1*0x259d))),v['trace'](Ss,'depth++\x20to'+':\x20',_0x56bd86),_0x1b5451=this['entity'];}const _0x3bc5f2=this['entity']['children'];for(let _0x2d9271=0x1657+0x1b*0x89+-0x24ca,_0x5d7076=_0x3bc5f2['length'];_0x2d9271<_0x5d7076;_0x2d9271++)(_0x44af3a=_0x3bc5f2[_0x2d9271]['element'])==null||_0x44af3a['_updateMas'+'k'](_0x1b5451,_0x56bd86);this['mask']&&_0x56bd86--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0xc7faf=new qs({'ref':_0x56bd86,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0xc7faf),this['_image']['_maskRef']=_0x56bd86,_0x56bd86++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0xc7faf['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0x56bd86),_0x1b5451=this['entity'];}const _0x513241=this['entity']['children'];for(let _0x357487=-0x1*0x5f9+-0x207e+0x1*0x2677,_0x5d9626=_0x513241['length'];_0x357487<_0x5d9626;_0x357487++)(_0x460430=_0x513241[_0x357487]['element'])==null||_0x460430['_updateMas'+'k'](_0x1b5451,_0x56bd86);this['mask']&&_0x56bd86--;}}['_parseUpTo'+'Screen'](){const _0x30f38f={'screen':null,'mask':null};let _0xe16ffe=this['entity']['_parent'];for(;_0xe16ffe&&!_0xe16ffe['screen'];)_0xe16ffe['element']&&_0xe16ffe['element']['mask']&&(_0x30f38f['mask']||(_0x30f38f['mask']=_0xe16ffe)),_0xe16ffe=_0xe16ffe['parent'];return _0xe16ffe&&_0xe16ffe['screen']&&(_0x30f38f['screen']=_0xe16ffe),_0x30f38f;}['_onScreenR'+'esize'](_0x377151){this['_anchorDir'+'ty']=!(-0x6*0x11e+-0x4*-0x6b2+-0x1414),this['_cornersDi'+'rty']=!(-0x2*-0xa2c+-0x1e0a+-0x2*-0x4d9),this['_worldCorn'+'ersDirty']=!(0xf38+0x2*-0x611+-0x5*0x9e),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x377151);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x5619ca=-0x737+-0x1*0x133d+0x3a*0x86,_0x401bb2=-0x574*-0x3+-0x115*-0x13+-0x2103;const _0x2ce297=this['entity']['_parent'];if(_0x2ce297&&_0x2ce297['element'])_0x5619ca=_0x2ce297['element']['calculated'+'Width'],_0x401bb2=_0x2ce297['element']['calculated'+'Height'];else{if(this['screen']){const _0x1f806f=this['screen']['screen']['resolution'],_0x46af5f=this['screen']['screen']['scale'];_0x5619ca=_0x1f806f['x']/_0x46af5f,_0x401bb2=_0x1f806f['y']/_0x46af5f;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x5619ca,this['_anchor']['y']*_0x401bb2,this['_anchor']['z']*_0x5619ca,this['_anchor']['w']*_0x401bb2);}['getOffsetP'+'osition'](_0x4855f5,_0x11e11a){const _0x1e311e=this['entity']['getLocalPo'+'sition']()['clone']();return _0x1e311e['x']+=_0x4855f5,_0x1e311e['y']+=_0x11e11a,this['_screenToW'+'orld']['transformP'+'oint'](_0x1e311e,_0x1e311e),_0x1e311e;}['onLayersCh'+'anged'](_0x2e099e,_0x40d785){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x2e099e['off']('add',this['onLayerAdd'+'ed'],this),_0x2e099e['off']('remove',this['onLayerRem'+'oved'],this),_0x40d785['on']('add',this['onLayerAdd'+'ed'],this),_0x40d785['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4082ec){this['layers']['indexOf'](_0x4082ec['id'])<0xa39*-0x2+0x5cf*0x6+0x1*-0xe68||(this['_image']?_0x4082ec['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x4082ec['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x4d6f5d){this['layers']['indexOf'](_0x4d6f5d['id'])<-0x157c+-0x15a7*-0x1+-0x2b||(this['_image']?_0x4d6f5d['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x4d6f5d['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x3a2c07;const _0x27316e=this['system']['app']['scene'],_0x420111=_0x27316e['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x27316e['on']('set:layers',this['onLayersCh'+'anged'],this),_0x420111&&(this['_evtLayerA'+'dded']=_0x420111['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x420111['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x1e7a+0x1*-0x1c1+0x203b&&((_0x3a2c07=this['system']['app']['batcher'])==null||_0x3a2c07['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x566b74,_0xeb123c,_0x5aebce,_0x301fee;const _0x52dade=this['system']['app']['scene']['layers'];(_0x566b74=this['_evtLayers'+'Changed'])==null||_0x566b74['off'](),this['_evtLayers'+'Changed']=null,_0x52dade&&((_0xeb123c=this['_evtLayerA'+'dded'])==null||_0xeb123c['off'](),this['_evtLayerA'+'dded']=null,(_0x5aebce=this['_evtLayerR'+'emoved'])==null||_0x5aebce['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x256b+0x51*-0x9+-0x2292&&((_0x301fee=this['system']['app']['batcher'])==null||_0x301fee['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x357504,_0x4d89bd){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x3dac8c=this['_absRight']-this['_absLeft'],_0x1f7e40=this['_absTop']-this['_absBottom'];_0x357504?this['_setWidth'](_0x3dac8c):this['_setCalcul'+'atedWidth'](_0x3dac8c,!(-0x527*-0x5+-0x1*-0xd2b+0x1*-0x26ed)),_0x4d89bd?this['_setHeight'](_0x1f7e40):this['_setCalcul'+'atedHeight'](_0x1f7e40,!(0x1*0x235+-0x10af*-0x2+-0x2392));const _0x230931=this['entity']['getLocalPo'+'sition']();_0x230931['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x230931['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x230931),this['_sizeDirty']=!(0x2*-0x307+0x9db*-0x3+0x1c8*0x14);}['_setWidth'](_0x32eef3){this['_width']=_0x32eef3,this['_setCalcul'+'atedWidth'](_0x32eef3,!(0x25f+0xd75+0xfd3*-0x1)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x39afb5){this['_height']=_0x39afb5,this['_setCalcul'+'atedHeight'](_0x39afb5,!(-0x1*-0xe3+-0x231b+0x2239)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x3d9b2c,_0x584d9c){if(!(Math['abs'](_0x3d9b2c-this['_calculate'+'dWidth'])<=-0x4cb+0x17*0x154+-0x15b*0x13+0.0001)){if(this['_calculate'+'dWidth']=_0x3d9b2c,this['entity']['_dirtifyLo'+'cal'](),_0x584d9c){const _0xdb6126=this['entity']['getLocalPo'+'sition'](),_0x3899f6=this['_pivot'];this['_margin']['x']=_0xdb6126['x']-this['_calculate'+'dWidth']*_0x3899f6['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x308d39,_0x3139d3){if(!(Math['abs'](_0x308d39-this['_calculate'+'dHeight'])<=-0x1efd*-0x1+0x3b3*-0x1+-0x1f3*0xe+0.0001)){if(this['_calculate'+'dHeight']=_0x308d39,this['entity']['_dirtifyLo'+'cal'](),_0x3139d3){const _0x52e39c=this['entity']['getLocalPo'+'sition'](),_0x28fd48=this['_pivot'];this['_margin']['y']=_0x52e39c['y']-this['_calculate'+'dHeight']*_0x28fd48['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x121203=this['entity']['_children'];for(let _0x45135b=-0x2*-0x12b8+0x1889+0x343*-0x13,_0x28338c=_0x121203['length'];_0x45135b<_0x28338c;_0x45135b++)_0x121203[_0x45135b]['element']&&(_0x121203[_0x45135b]['element']['_anchorDir'+'ty']=!(-0x1c93+-0x21cf+0x1f31*0x2),_0x121203[_0x45135b]['element']['_sizeDirty']=!(0x2288+-0x18d*-0x14+-0x418c));}['addModelTo'+'Layers'](_0x33c9ae){this['_addedMode'+'ls']['push'](_0x33c9ae);for(let _0x1b59ad=0x4a9*0x6+0x1*-0x7eb+-0x140b*0x1;_0x1b59ad<this['layers']['length'];_0x1b59ad++){const _0x119a74=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1b59ad]);_0x119a74&&_0x119a74['addMeshIns'+'tances'](_0x33c9ae['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x3f6462){const _0x50bb3f=this['_addedMode'+'ls']['indexOf'](_0x3f6462);_0x50bb3f>=-0x22e8+0x25*0x94+0x15a*0xa&&this['_addedMode'+'ls']['splice'](_0x50bb3f,0xa*0x71+0x1ec7*0x1+-0x233*0x10);for(let _0x1db1ca=-0x2601+-0x169b+0x3c9c;_0x1db1ca<this['layers']['length'];_0x1db1ca++){const _0x454b1e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1db1ca]);_0x454b1e&&_0x454b1e['removeMesh'+'Instances'](_0x3f6462['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x2a3b9a=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x2a3b9a&&(this['_maskOffse'+'t']=0x1ec*0xa+0x1dbe+-0x829*0x6+0.5,this['_offsetRea'+'dAt']=_0x2a3b9a);const _0x1df50c=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0x22ed+-0x15b5+-0xd38+0.001,_0x1df50c;}['isVisibleF'+'orCamera'](_0xb09707){let _0x1c798c,_0x2a50d4,_0x16e7a7,_0x22c5c4;if(this['maskedBy']){const _0x5b6f45=this['maskedBy']['element']['screenCorn'+'ers'];_0x1c798c=Math['min'](Math['min'](_0x5b6f45[-0x9bc+-0xf1*-0x25+-0x1*0x1919]['x'],_0x5b6f45[-0x4c*-0xc+-0xbb2*0x2+0x13d5]['x']),Math['min'](_0x5b6f45[-0x31*0x6a+-0x12be*-0x2+-0x1130]['x'],_0x5b6f45[-0x1*-0x26b3+0x5*-0x382+0x2*-0xa93]['x'])),_0x2a50d4=Math['max'](Math['max'](_0x5b6f45[0x127d*0x2+-0x4*0x6a8+-0xa5a]['x'],_0x5b6f45[0x1bb3+0x435+-0x1fe7]['x']),Math['max'](_0x5b6f45[0x717+-0x8e7*-0x1+-0xffc]['x'],_0x5b6f45[0x736+-0x97*-0x5+-0x1*0xa26]['x'])),_0x22c5c4=Math['min'](Math['min'](_0x5b6f45[-0x11e4+0x1495+-0x2b1]['y'],_0x5b6f45[0x1*0x619+-0x39*0x25+0x225]['y']),Math['min'](_0x5b6f45[0x202b+-0xa54+0xf3*-0x17]['y'],_0x5b6f45[-0x7c*-0x48+-0x148b+-0xe52]['y'])),_0x16e7a7=Math['max'](Math['max'](_0x5b6f45[0x19*0x67+0xefd+-0x190c]['y'],_0x5b6f45[0x5*-0x411+0x205c+0x402*-0x3]['y']),Math['max'](_0x5b6f45[0x61*0x35+0x1687+0xe*-0x30b]['y'],_0x5b6f45[0x1c07+0x423+-0x2027]['y']));}else{const _0x142aab=this['system']['app']['graphicsDe'+'vice']['width'],_0x470b7c=this['system']['app']['graphicsDe'+'vice']['height'],_0x3f89b9=_0xb09707['_rect']['z']*_0x142aab,_0x2a716d=_0xb09707['_rect']['w']*_0x470b7c;_0x1c798c=_0xb09707['_rect']['x']*_0x142aab,_0x2a50d4=_0x1c798c+_0x3f89b9,_0x16e7a7=(-0x516+-0x149*0x3+0xe5*0xa-_0xb09707['_rect']['y'])*_0x470b7c,_0x22c5c4=_0x16e7a7-_0x2a716d;}const _0x2a4cdd=this['screenCorn'+'ers'],_0x183ec8=Math['min'](Math['min'](_0x2a4cdd[0x24cc*0x1+-0x117f+-0x134d]['x'],_0x2a4cdd[0x1f4c+0x20e6+-0x4031]['x']),Math['min'](_0x2a4cdd[0x1448+-0x10f1*-0x1+-0x2537]['x'],_0x2a4cdd[-0x1ae7*-0x1+-0x26b0+0x4*0x2f3]['x'])),_0xbef039=Math['max'](Math['max'](_0x2a4cdd[-0x1eb1+0x1b*0xbd+0xac2]['x'],_0x2a4cdd[0x26e3+0x6f3*0x1+-0x2dd5]['x']),Math['max'](_0x2a4cdd[0x13ed*0x1+-0x2*0xf4e+-0x7*-0x187]['x'],_0x2a4cdd[0x17e6+0x21d+-0x1a00]['x'])),_0x160e92=Math['min'](Math['min'](_0x2a4cdd[0x167f+0xf68+-0x25e7]['y'],_0x2a4cdd[0x373*-0x4+-0x312*-0x6+-0x5b*0xd]['y']),Math['min'](_0x2a4cdd[0x238f*-0x1+-0x1165+0x34f6]['y'],_0x2a4cdd[0x25c6+0x1*0x11e5+-0x37a8]['y'])),_0x1fe3d5=Math['max'](Math['max'](_0x2a4cdd[0x1315+-0xac8+-0x1*0x84d]['y'],_0x2a4cdd[0x1f94+0x76d*0x1+0x30*-0xd0]['y']),Math['max'](_0x2a4cdd[-0x2f5*0x1+-0x1fc9+0x22c0]['y'],_0x2a4cdd[-0x141*-0x2+-0x1*-0x125a+-0x14d9]['y']));return!(_0xbef039<_0x1c798c||_0x183ec8>_0x2a50d4||_0x160e92>_0x16e7a7||_0x1fe3d5<_0x22c5c4);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x1*-0x14f2+0x1d61+-0x86e);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0x5*0x126+-0x749+0xd08);}['_dirtyBatc'+'h'](){var _0x13cd99;this['batchGroup'+'Id']!==-(0x1f93+0x161*0x1+-0x697*0x5)&&((_0x13cd99=this['system']['app']['batcher'])==null||_0x13cd99['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(-0xd56+-0x2f9+0x343*0x5);}}const NR=['enabled'];class zR extends Xe{constructor(_0x1af7d9){super(_0x1af7d9),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x1af7d9['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x27e065=this['_defaultTe'+'xture']['lock'](),_0x1f21ab=new Uint8Array(-0x49+0xe9*-0x14+0x1281);_0x1f21ab[0x20bd+-0xaa4+-0x1*0x1619]=-0x2*0xb31+0x6b*0x1d+0xb42,_0x1f21ab[0xf*-0x20c+0x358*0x4+0x1155]=-0x135*0x1+0x1208+-0x7ea*0x2,_0x1f21ab[-0x262+0x1281*0x1+-0x21*0x7d]=0x1ded+0x4c*-0x69+0x23e,_0x1f21ab[-0x96d+-0x26+0x996]=0x1*-0x2425+-0xa7b+0x2f9f,_0x27e065['set'](_0x1f21ab),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x155cc5,_0x2a5711,_0x2aa3ec){_0x155cc5['_beingInit'+'ialized']=!(0x1467+0x2000+-0x3467),_0x2a5711['anchor']!==void(0x25ce+0x399*0x1+-0x2967)&&(_0x2a5711['anchor']instanceof Q?_0x155cc5['anchor']['copy'](_0x2a5711['anchor']):_0x155cc5['anchor']['set'](_0x2a5711['anchor'][-0x1000+-0x6b9+0x16b9],_0x2a5711['anchor'][-0x224*-0x5+-0xdbd+0x30a],_0x2a5711['anchor'][-0x2535*0x1+-0x1800+-0x1*-0x3d37],_0x2a5711['anchor'][0x2418+0x15e2+-0xb*0x545])),_0x2a5711['pivot']!==void(-0xcca+0x1*-0x2231+0x2efb)&&(_0x2a5711['pivot']instanceof W?_0x155cc5['pivot']['copy'](_0x2a5711['pivot']):_0x155cc5['pivot']['set'](_0x2a5711['pivot'][-0x114b*0x2+0x7b*0x1e+0x2*0xa16],_0x2a5711['pivot'][0x1*-0x13af+0x179e+0x1*-0x3ee]));const _0x187290=Math['abs'](_0x155cc5['anchor']['x']-_0x155cc5['anchor']['z'])>0xd03+0x1*0x69a+-0x139d*0x1+0.001,_0x281600=Math['abs'](_0x155cc5['anchor']['y']-_0x155cc5['anchor']['w'])>-0x18b8+0x7*-0x4c1+0x15*0x2c3+0.001;let _0x49ed21=!(0x2*-0xced+0xd45*-0x1+0x2*0x1390),_0x50ca92;_0x2a5711['margin']!==void(0x6d*-0x13+0x1*0xd17+-0x500)&&(_0x2a5711['margin']instanceof Q?_0x155cc5['margin']['copy'](_0x2a5711['margin']):_0x155cc5['_margin']['set'](_0x2a5711['margin'][0x2*0xe81+-0x1*0x19d+-0x1b65],_0x2a5711['margin'][0x1092+0x13*0x200+-0x3691],_0x2a5711['margin'][0x1bd7+0x256a*0x1+-0x413f*0x1],_0x2a5711['margin'][-0x1d26+-0x155c+0x3285]),_0x49ed21=!(-0x203+-0x4c*-0x59+-0x1869)),_0x2a5711['left']!==void(0x1444+-0x25a1+0x115d)&&(_0x155cc5['_margin']['x']=_0x2a5711['left'],_0x49ed21=!(0x3*0x39b+0x9cb+-0x149c)),_0x2a5711['bottom']!==void(-0x1c*-0x137+-0x1*0x1b86+-0x67e)&&(_0x155cc5['_margin']['y']=_0x2a5711['bottom'],_0x49ed21=!(-0x2498+-0x205f+0x44f7)),_0x2a5711['right']!==void(-0x29*-0x65+-0x26a+-0xdc3)&&(_0x155cc5['_margin']['z']=_0x2a5711['right'],_0x49ed21=!(0x7*0x422+0xb9e*-0x2+-0x5b2)),_0x2a5711['top']!==void(-0x2*0x94d+0x2f*-0xe+0x152c)&&(_0x155cc5['_margin']['w']=_0x2a5711['top'],_0x49ed21=!(-0x3c*0x14+-0x1*-0xbed+-0x6d*0x11)),_0x49ed21&&(_0x155cc5['margin']=_0x155cc5['_margin']);let _0x115f29=!(-0x42a*0x5+-0x7a2+0x1c75);_0x2a5711['width']!==void(0xbdd*0x1+-0xc9c+0xbf*0x1)&&!_0x187290?_0x155cc5['width']=_0x2a5711['width']:_0x187290&&(_0x115f29=!(0x3*-0x6cd+-0x18e*-0x12+0x3*-0x287)),_0x2a5711['height']!==void(0x7*0x3ae+0x1*-0x61+-0x1961)&&!_0x281600?_0x155cc5['height']=_0x2a5711['height']:_0x281600&&(_0x115f29=!(-0x865+-0xb39+0x117*0x12)),_0x115f29&&(_0x155cc5['anchor']=_0x155cc5['anchor']),_0x2a5711['enabled']!==void(0x23e3+-0x2183+-0x260)&&(_0x155cc5['enabled']=_0x2a5711['enabled']),_0x2a5711['useInput']!==void(0x9f4+0x158e+0xda*-0x25)&&(_0x155cc5['useInput']=_0x2a5711['useInput']),_0x2a5711['fitMode']!==void(-0x94+-0x5*0x5b8+0x1d2c)&&(_0x155cc5['fitMode']=_0x2a5711['fitMode']),_0x155cc5['batchGroup'+'Id']=_0x2a5711['batchGroup'+'Id']===void(-0x1123*-0x1+-0x11*0x79+-0x91a)||_0x2a5711['batchGroup'+'Id']===null?-(-0x179c+-0x1a7+0x1944):_0x2a5711['batchGroup'+'Id'],_0x2a5711['layers']&&Array['isArray'](_0x2a5711['layers'])&&(_0x155cc5['layers']=_0x2a5711['layers']['slice'](0x557*-0x7+0x1e50+0x711)),_0x2a5711['type']!==void(-0xff9+0x1*-0x923+-0x647*-0x4)&&(_0x155cc5['type']=_0x2a5711['type']),_0x155cc5['type']===rf?(_0x2a5711['rect']!==void(0xca4*-0x1+0x1270+-0x5cc)&&(_0x155cc5['rect']=_0x2a5711['rect']),_0x2a5711['color']!==void(-0xb9f+-0x1*0xaaf+0x5*0x476)&&(_0x50ca92=_0x2a5711['color'],_0x50ca92 instanceof Y||(_0x50ca92=new Y(_0x2a5711['color'][-0x1eae+0x1fff+-0x1*0x151],_0x2a5711['color'][0x272*0x6+0x15b*0x15+0x2*-0x1591],_0x2a5711['color'][0x3*0x8d2+0x199a+0x1a07*-0x2])),_0x155cc5['color']=_0x50ca92),_0x2a5711['opacity']!==void(0x270b+-0x2167+-0x5a4)&&(_0x155cc5['opacity']=_0x2a5711['opacity']),_0x2a5711['textureAss'+'et']!==void(-0x17b*-0x8+-0xe*0xa9+-0x29a)&&(_0x155cc5['textureAss'+'et']=_0x2a5711['textureAss'+'et']),_0x2a5711['texture']&&(_0x155cc5['texture']=_0x2a5711['texture']),_0x2a5711['spriteAsse'+'t']!==void(0xb1*0x2d+-0x79*-0x1+-0x1f96)&&(_0x155cc5['spriteAsse'+'t']=_0x2a5711['spriteAsse'+'t']),_0x2a5711['sprite']&&(_0x155cc5['sprite']=_0x2a5711['sprite']),_0x2a5711['spriteFram'+'e']!==void(-0xd8*0x17+-0x3d*-0x5d+-0x5*0x8d)&&(_0x155cc5['spriteFram'+'e']=_0x2a5711['spriteFram'+'e']),_0x2a5711['pixelsPerU'+'nit']!==void(-0x1c1d+-0x3*0xa3+0x2a*0xb7)&&_0x2a5711['pixelsPerU'+'nit']!==null&&(_0x155cc5['pixelsPerU'+'nit']=_0x2a5711['pixelsPerU'+'nit']),_0x2a5711['materialAs'+'set']!==void(-0x1672+-0x3*-0xc9b+-0x313*0x5)&&(_0x155cc5['materialAs'+'set']=_0x2a5711['materialAs'+'set']),_0x2a5711['material']&&(_0x155cc5['material']=_0x2a5711['material']),_0x2a5711['mask']!==void(-0x18c2+0x1cdf+0x15f*-0x3)&&(_0x155cc5['mask']=_0x2a5711['mask'])):_0x155cc5['type']===ex&&(_0x2a5711['autoWidth']!==void(0x1*0x25a5+-0x18b4+-0xcf1*0x1)&&(_0x155cc5['autoWidth']=_0x2a5711['autoWidth']),_0x2a5711['autoHeight']!==void(0x656*0x2+0x1*0xab3+-0x175f)&&(_0x155cc5['autoHeight']=_0x2a5711['autoHeight']),_0x2a5711['rtlReorder']!==void(0x1*-0xdc3+0x26fa+-0x1937)&&(_0x155cc5['rtlReorder']=_0x2a5711['rtlReorder']),_0x2a5711['unicodeCon'+'verter']!==void(0x4*0x1c6+0x1*0xe8f+-0x15a7)&&(_0x155cc5['unicodeCon'+'verter']=_0x2a5711['unicodeCon'+'verter']),_0x2a5711['text']!==null&&_0x2a5711['text']!==void(-0x255*0x7+-0x1f67*0x1+0x2fba*0x1)?_0x155cc5['text']=_0x2a5711['text']:_0x2a5711['key']!==null&&_0x2a5711['key']!==void(0xeeb+0x1215+-0x2100)&&(_0x155cc5['key']=_0x2a5711['key']),_0x2a5711['color']!==void(0x10a3*0x2+0x21fb+-0x779*0x9)&&(_0x50ca92=_0x2a5711['color'],_0x50ca92 instanceof Y||(_0x50ca92=new Y(_0x50ca92[-0x924*0x2+0x19a3+-0x75b],_0x50ca92[0x18f5+0xf57+-0x284b],_0x50ca92[-0x131*0x1+0x686*-0x1+0x7b9])),_0x155cc5['color']=_0x50ca92),_0x2a5711['opacity']!==void(0x1d92+0x649*-0x3+-0x1*0xab7)&&(_0x155cc5['opacity']=_0x2a5711['opacity']),_0x2a5711['spacing']!==void(-0x739*0x4+-0x1c5a+0x22*0x1af)&&(_0x155cc5['spacing']=_0x2a5711['spacing']),_0x2a5711['fontSize']!==void(0x37*-0x1b+-0x10+-0x5dd*-0x1)&&(_0x155cc5['fontSize']=_0x2a5711['fontSize'],_0x2a5711['lineHeight']||(_0x155cc5['lineHeight']=_0x2a5711['fontSize'])),_0x2a5711['lineHeight']!==void(0xf*0xbe+-0x122e*-0x2+0x2f7e*-0x1)&&(_0x155cc5['lineHeight']=_0x2a5711['lineHeight']),_0x2a5711['maxLines']!==void(0x5*-0x42d+-0x22d2+0x37b3)&&(_0x155cc5['maxLines']=_0x2a5711['maxLines']),_0x2a5711['wrapLines']!==void(-0xb19+0x1d5*-0xf+0x2694)&&(_0x155cc5['wrapLines']=_0x2a5711['wrapLines']),_0x2a5711['minFontSiz'+'e']!==void(0xcdd+-0x25da+-0x18fd*-0x1)&&(_0x155cc5['minFontSiz'+'e']=_0x2a5711['minFontSiz'+'e']),_0x2a5711['maxFontSiz'+'e']!==void(-0x39*0x1d+-0x256c+-0x2be1*-0x1)&&(_0x155cc5['maxFontSiz'+'e']=_0x2a5711['maxFontSiz'+'e']),_0x2a5711['autoFitWid'+'th']&&(_0x155cc5['autoFitWid'+'th']=_0x2a5711['autoFitWid'+'th']),_0x2a5711['autoFitHei'+'ght']&&(_0x155cc5['autoFitHei'+'ght']=_0x2a5711['autoFitHei'+'ght']),_0x2a5711['fontAsset']!==void(0x1d5f+0x1310+0x1025*-0x3)&&(_0x155cc5['fontAsset']=_0x2a5711['fontAsset']),_0x2a5711['font']!==void(0x516+-0xb*-0x1cd+-0x18e5*0x1)&&(_0x155cc5['font']=_0x2a5711['font']),_0x2a5711['alignment']!==void(-0x17*-0x45+0x1dd7+-0xe*0x293)&&(_0x155cc5['alignment']=_0x2a5711['alignment']),_0x2a5711['outlineCol'+'or']!==void(-0x171+-0x18af+0x160*0x13)&&(_0x155cc5['outlineCol'+'or']=_0x2a5711['outlineCol'+'or']),_0x2a5711['outlineThi'+'ckness']!==void(0x2219+0x1622+-0x383b)&&(_0x155cc5['outlineThi'+'ckness']=_0x2a5711['outlineThi'+'ckness']),_0x2a5711['shadowColo'+'r']!==void(-0x1*0xac0+-0x40e+0xece)&&(_0x155cc5['shadowColo'+'r']=_0x2a5711['shadowColo'+'r']),_0x2a5711['shadowOffs'+'et']!==void(-0x1574+0x239f+-0xe2b)&&(_0x155cc5['shadowOffs'+'et']=_0x2a5711['shadowOffs'+'et']),_0x2a5711['enableMark'+'up']!==void(0x185e*0x1+0x646+-0x1ea4)&&(_0x155cc5['enableMark'+'up']=_0x2a5711['enableMark'+'up']));const _0x321858=_0x155cc5['_parseUpTo'+'Screen']();_0x321858['screen']&&_0x155cc5['_updateScr'+'een'](_0x321858['screen']),super['initialize'+'ComponentD'+'ata'](_0x155cc5,_0x2a5711,_0x2aa3ec),_0x155cc5['_beingInit'+'ialized']=!(-0xd9+-0x25c0+-0x3d*-0xa2),_0x155cc5['type']===rf&&_0x155cc5['_image']['_meshDirty']&&_0x155cc5['_image']['_updateMes'+'h'](_0x155cc5['_image']['mesh']);}['onAddCompo'+'nent'](_0x3f6f3e,_0x139360){_0x3f6f3e['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x35dfbf,_0x4f153b){_0x4f153b['onRemove']();}['cloneCompo'+'nent'](_0x48ca42,_0x590b94){const _0x34d039=_0x48ca42['element'],_0x48a500={'enabled':_0x34d039['enabled'],'width':_0x34d039['width'],'height':_0x34d039['height'],'anchor':_0x34d039['anchor']['clone'](),'pivot':_0x34d039['pivot']['clone'](),'margin':_0x34d039['margin']['clone'](),'alignment':_0x34d039['alignment']&&_0x34d039['alignment']['clone']()||_0x34d039['alignment'],'autoWidth':_0x34d039['autoWidth'],'autoHeight':_0x34d039['autoHeight'],'type':_0x34d039['type'],'rect':_0x34d039['rect']&&_0x34d039['rect']['clone']()||_0x34d039['rect'],'rtlReorder':_0x34d039['rtlReorder'],'unicodeConverter':_0x34d039['unicodeCon'+'verter'],'materialAsset':_0x34d039['materialAs'+'set'],'material':_0x34d039['material'],'color':_0x34d039['color']&&_0x34d039['color']['clone']()||_0x34d039['color'],'opacity':_0x34d039['opacity'],'textureAsset':_0x34d039['textureAss'+'et'],'texture':_0x34d039['texture'],'spriteAsset':_0x34d039['spriteAsse'+'t'],'sprite':_0x34d039['sprite'],'spriteFrame':_0x34d039['spriteFram'+'e'],'pixelsPerUnit':_0x34d039['pixelsPerU'+'nit'],'spacing':_0x34d039['spacing'],'lineHeight':_0x34d039['lineHeight'],'wrapLines':_0x34d039['wrapLines'],'layers':_0x34d039['layers'],'fontSize':_0x34d039['fontSize'],'minFontSize':_0x34d039['minFontSiz'+'e'],'maxFontSize':_0x34d039['maxFontSiz'+'e'],'autoFitWidth':_0x34d039['autoFitWid'+'th'],'autoFitHeight':_0x34d039['autoFitHei'+'ght'],'maxLines':_0x34d039['maxLines'],'fontAsset':_0x34d039['fontAsset'],'font':_0x34d039['font'],'useInput':_0x34d039['useInput'],'fitMode':_0x34d039['fitMode'],'batchGroupId':_0x34d039['batchGroup'+'Id'],'mask':_0x34d039['mask'],'outlineColor':_0x34d039['outlineCol'+'or']&&_0x34d039['outlineCol'+'or']['clone']()||_0x34d039['outlineCol'+'or'],'outlineThickness':_0x34d039['outlineThi'+'ckness'],'shadowColor':_0x34d039['shadowColo'+'r']&&_0x34d039['shadowColo'+'r']['clone']()||_0x34d039['shadowColo'+'r'],'shadowOffset':_0x34d039['shadowOffs'+'et']&&_0x34d039['shadowOffs'+'et']['clone']()||_0x34d039['shadowOffs'+'et'],'enableMarkup':_0x34d039['enableMark'+'up']};return _0x34d039['key']!==void(-0x25dd+-0x12b3*-0x1+0x132a)&&_0x34d039['key']!==null?_0x48a500['key']=_0x34d039['key']:_0x48a500['text']=_0x34d039['text'],this['addCompone'+'nt'](_0x590b94,_0x48a500);}['getTextEle'+'mentMateri'+'al'](_0x2ad700,_0x11858f,_0x401b3e){const _0x1e6513=(_0x2ad700&&-0x9a6+-0x1577+0xf8f*0x2)|(_0x11858f&&0x1e32+0x23c8+0x2*-0x20fc)|(_0x401b3e&&-0x1fa6+-0x25*-0x70+-0x1*-0xf7a);let _0x1f6766=this['_defaultTe'+'xtMaterial'+'s'][_0x1e6513];if(_0x1f6766)return _0x1f6766;let _0x33c3c3='TextMateri'+'al';return _0x1f6766=new cs(),_0x11858f?(_0x1f6766['msdfMap']=this['_defaultTe'+'xture'],_0x1f6766['msdfTextAt'+'tribute']=_0x401b3e,_0x1f6766['emissive']['set'](0x2c*-0x2f+-0x18e7+0x1*0x20fc,-0x92c*-0x1+0x1*-0x1c39+0x3*0x65a,0x82*-0x1d+-0xf4f+0x1e0a)):(_0x33c3c3='Bitmap'+_0x33c3c3,_0x1f6766['emissive']['set'](-0x1fc1+-0x1*0x1b37+0x3af9,-0x8c6*-0x1+0x64e+-0xf13,-0xa90+0x1146+-0x6b5),_0x1f6766['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x1f6766['opacityMap']=this['_defaultTe'+'xture'],_0x1f6766['opacityMap'+'Channel']='a'),_0x2ad700&&(_0x33c3c3='ScreenSpac'+'e'+_0x33c3c3,_0x1f6766['depthTest']=!(0x9d*-0x5+-0x144f+0x1761)),_0x1f6766['name']='default'+_0x33c3c3,_0x1f6766['useLightin'+'g']=!(0x209*0x13+-0x7*-0x3f7+-0x97d*0x7),_0x1f6766['useTonemap']=!(0x1*-0x29f+-0x826+-0x563*-0x2),_0x1f6766['useFog']=!(-0xcc6+0x163c+-0x975*0x1),_0x1f6766['useSkybox']=!(-0x20ba+-0x551+0x1*0x260c),_0x1f6766['diffuse']['set'](-0x1*-0x110a+0x1b*0x25+-0x14f1,0x56*-0x48+-0xcc*0x2d+0x3c0c,-0x2035+-0x1d75*-0x1+-0x16*-0x20),_0x1f6766['opacity']=0xced+0x1c4f*-0x1+0xf62+0.5,_0x1f6766['blendType']=hr,_0x1f6766['depthWrite']=!(0x27*0x91+-0x1*-0x26f5+-0x3d0b),_0x1f6766['emissiveVe'+'rtexColor']=!(0x1dae+-0x3*0x132+0x8*-0x343),_0x1f6766['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x1e6513]=_0x1f6766,_0x1f6766;}['_createBas'+'eImageMate'+'rial'](){const _0x2375e0=new cs();return _0x2375e0['diffuse']['set'](0x1*0xf1+-0xfbe+0xecd,0x14e8+0x6*-0x5f5+0x279*0x6,-0x5c1*0x1+-0x135f+0x3*0x860),_0x2375e0['emissive']['set'](0x48a*-0x5+-0x82*-0x4+0x14ab,-0x16*0xb3+-0xef7*-0x1+-0x12*-0x6,-0xb*0xda+0x9d3+-0x2*0x3a),_0x2375e0['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x2375e0['opacityMap']=this['_defaultTe'+'xture'],_0x2375e0['opacityMap'+'Channel']='a',_0x2375e0['useLightin'+'g']=!(0xbec+-0xaf3*-0x2+-0x21d1),_0x2375e0['useTonemap']=!(0xd8*-0x24+0x1*-0x2692+0x44f3),_0x2375e0['useFog']=!(0x26de+-0x20b3+-0x62a),_0x2375e0['useSkybox']=!(-0x118*-0x12+0x216e+-0x351d),_0x2375e0['blendType']=hr,_0x2375e0['depthWrite']=!(-0x1b85+-0x5*-0x43+0x1a37),_0x2375e0;}['getImageEl'+'ementMater'+'ial'](_0x5a030e,_0x23856f,_0x5e9862,_0x21d25d){return _0x5a030e?_0x23856f?_0x5e9862?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0xe7f+0x1cf4+-0x2e4*0x5),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0x1d8c+-0x1dc1+0x3b4e,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x125*0xa+-0x2*-0x75+-0x1d*-0x5d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0x5b6*-0x1+0x25c2*-0x1+0x200d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x2482+0xe98+-0x3319),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0x11*-0x1b+0x440*0x2+-0xa4a),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x21d25d?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0x5a7*0x5+0x1eaa+-0x266),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x2131+-0x1*0x195b+-0x3a8d*-0x1,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x1143+-0x261b*-0x1+0x61*-0x37),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x1*0x18b2+-0x3*0x185+-0x35b*0x6),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x26eb+-0xfb*-0x16+0x115a),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x9c3+0x1*0xd06+-0x16c8),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x8f1+-0x236c+0x12*0x277),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x140d+-0x1*-0x1b7f+0x2f8b*-0x1,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0xa6f+0x18c*0xd+-0x9ac),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x1*-0x2466+-0x2230+0x4697*0x1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x1baa+-0xa5d*0x3+0x36e),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x2bd+0x2d5*-0xa+0x1996),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x5e9862?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x1*-0x19c5+0x219d+0xdf*-0x9),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x21d25d?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x3d*0x71+0x3db+-0x1ec7),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x1c8a+0x2*-0xab3+0x9fd*0x5),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x23856f?_0x5e9862?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x15bf+0x2031+-0xa71,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x18f5+0x10*-0xdd+0x1*-0xb24),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x137d+-0x16b7+0x2a35),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x1ef7+0x1d93*-0x1+0x3c8b),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0x7*-0x147+0xe71+-0x7*0xc9),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x21d25d?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x106*0x2+-0x1a95+0x188a,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x2250+-0x7*0x411+0x7d9*0x8),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x21f2+-0x1df6+0x1*-0x3fb),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0xe2*0x1+-0x24d+0x330),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x1d58+-0xf72*0x2+0x3c3d),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x1ea2+-0x23f*0xd+0x25*0x19e,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0x1b8a+-0x1714+0x329f),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0x11f9*-0x1+-0x1dba+0xbc2),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0x869*-0x1+-0xc60+0x3f8),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0x267f+0x18e+0x2*0x1279),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x5e9862?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x21d25d?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x37599b){this['_unicodeCo'+'nverter']=_0x37599b;}['registerRt'+'lReorder'](_0x1cdea8){this['_rtlReorde'+'r']=_0x1cdea8;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x59fdc4,_0x19ddf6){super(_0x59fdc4,_0x19ddf6),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x1604+-0x14b6+-0x2aba*-0x1),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new W(0x6ce+0x1*0x10a9+0x1*-0x1777,-0x18d5+-0x2c*-0xd9+-0xc77),this['_linearSpr'+'ingX']=!(0x1*-0x144d+-0x10*-0xf7+0x4de),this['_linearSti'+'ffnessX']=-0x2*-0x834+0x1cb6+-0x2d1e,this['_linearDam'+'pingX']=-0x5f3*0x1+0x3*0xaa8+-0x1a04,this['_linearEqu'+'ilibriumX']=-0x840+-0x9bd*0x1+0x11fd,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new W(0x6ea+-0x1*-0x1723+-0x1e0d,-0x1451+-0x1*0x1f8e+0x33df),this['_linearSpr'+'ingY']=!(-0xd6+0x53e+-0xa1*0x7),this['_linearSti'+'ffnessY']=-0x914+0xd89+-0xa3*0x7,this['_linearDam'+'pingY']=-0x79f*0x5+0x1*0x11b9+0x1463,this['_linearEqu'+'ilibriumY']=0xc04+-0x170d+0xb09,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new W(-0x26b6+0x24f2*0x1+0x1c4,-0x1036+0x1*0x3d3+0xc63),this['_linearSpr'+'ingZ']=!(-0x57*-0x2c+-0x1*-0x212e+-0x1*0x3021),this['_linearSti'+'ffnessZ']=-0x24*-0x37+0x1e35+-0x25f1,this['_linearDam'+'pingZ']=-0x1682+0x118f*0x1+0x4f4,this['_linearEqu'+'ilibriumZ']=-0x129*-0x6+0x1*0x437+-0x1*0xb2d,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new W(0x219c+-0x9fb+0x17a1*-0x1,-0x1248+-0x3d*-0x12+0x2*0x6ff),this['_angularSp'+'ringX']=!(-0x1205+0xc4f+-0xd1*-0x7),this['_angularSt'+'iffnessX']=0x5e5+-0x256a+-0x1f85*-0x1,this['_angularDa'+'mpingX']=-0x23c6+0x17f2+0xd*0xe9,this['_angularEq'+'uilibriumX']=-0x95*0x41+-0x2333*0x1+0x4908,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new W(-0xf+-0x1*-0x845+-0x836,-0x156d+0x925+0x20c*0x6),this['_angularSp'+'ringY']=!(0x260e+0x9f6+-0x1001*0x3),this['_angularSt'+'iffnessY']=0x3*-0x275+-0xddc+0x5*0x43f,this['_angularDa'+'mpingY']=-0x1316+-0x1*-0x16e1+-0x3ca,this['_angularEq'+'uilibriumY']=0xd2b*-0x2+-0x30*0x95+-0x3646*-0x1,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new W(-0x1883+0x1*-0x2109+0xfe*0x3a,-0x1f*-0xc0+-0x263c+0xefc),this['_angularSp'+'ringZ']=!(-0x161f+0x7cd*-0x5+0x3d21*0x1),this['_angularEq'+'uilibriumZ']=0x7*-0x1bb+-0x1*-0xf7b+-0x35e,this['_angularDa'+'mpingZ']=0xe9b*0x1+0x30b*0x5+-0x11*0x1c1,this['_angularSt'+'iffnessZ']=0x17e9*0x1+0xf56+-0x24f*0x11,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x40d463){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x40d463,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x3077b5){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x3077b5,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x3e1e1f){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x3e1e1f&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x3e1e1f),this['_breakForc'+'e']=_0x3e1e1f);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x56743e){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x56743e,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x46ebc5){this['_angularLi'+'mitsX']['equals'](_0x46ebc5)||(this['_angularLi'+'mitsX']['copy'](_0x46ebc5),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x199338){this['_angularMo'+'tionX']!==_0x199338&&(this['_angularMo'+'tionX']=_0x199338,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x5c5390){this['_angularLi'+'mitsY']['equals'](_0x5c5390)||(this['_angularLi'+'mitsY']['copy'](_0x5c5390),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x4acfcc){this['_angularMo'+'tionY']!==_0x4acfcc&&(this['_angularMo'+'tionY']=_0x4acfcc,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x5627c0){this['_angularLi'+'mitsZ']['equals'](_0x5627c0)||(this['_angularLi'+'mitsZ']['copy'](_0x5627c0),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x37eec8){this['_angularMo'+'tionZ']!==_0x37eec8&&(this['_angularMo'+'tionZ']=_0x37eec8,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x3b4032){this['_linearLim'+'itsX']['equals'](_0x3b4032)||(this['_linearLim'+'itsX']['copy'](_0x3b4032),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0xbdba72){this['_linearMot'+'ionX']!==_0xbdba72&&(this['_linearMot'+'ionX']=_0xbdba72,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x6b3c20){this['_linearLim'+'itsY']['equals'](_0x6b3c20)||(this['_linearLim'+'itsY']['copy'](_0x6b3c20),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x3dcde6){this['_linearMot'+'ionY']!==_0x3dcde6&&(this['_linearMot'+'ionY']=_0x3dcde6,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x468a2b){this['_linearLim'+'itsZ']['equals'](_0x468a2b)||(this['_linearLim'+'itsZ']['copy'](_0x468a2b),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x1754b6){this['_linearMot'+'ionZ']!==_0x1754b6&&(this['_linearMot'+'ionZ']=_0x1754b6,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x4cadc0,_0x594c37){const _0x57c106=_0x4cadc0['getTransla'+'tion'](),_0x1a4af2=new se();_0x1a4af2['setFromMat'+'4'](_0x4cadc0);const _0x5d6006=new Ammo['btVector3'](_0x57c106['x'],_0x57c106['y'],_0x57c106['z']),_0x3a1ce=new Ammo['btQuaterni'+'on'](_0x1a4af2['x'],_0x1a4af2['y'],_0x1a4af2['z'],_0x1a4af2['w']);_0x594c37['setOrigin'](_0x5d6006),_0x594c37['setRotatio'+'n'](_0x3a1ce),Ammo['destroy'](_0x5d6006),Ammo['destroy'](_0x3a1ce);}['_updateAng'+'ularLimits'](){const _0x4b8380=this['_constrain'+'t'];if(_0x4b8380){let _0x2dab9e,_0x3229d6,_0x6685ec,_0x36bc7e,_0xe68df6,_0x170d26;this['_angularMo'+'tionX']===Vn?(_0x2dab9e=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0x36bc7e=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x2dab9e=0x15*-0x67+0x18f5+-0x1081,_0x36bc7e=0x1e70+-0x5f*-0x1+-0xef*0x21):_0x2dab9e=_0x36bc7e=-0x88+0x1be1+-0x1b59,this['_angularMo'+'tionY']===Vn?(_0x3229d6=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0xe68df6=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x3229d6=-0x3a3+0x2e7*-0x1+0x68b,_0xe68df6=-0x183+-0x1bf2+-0x1*-0x1d75):_0x3229d6=_0xe68df6=-0x111c+-0x1537+0x2653*0x1,this['_angularMo'+'tionZ']===Vn?(_0x6685ec=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x170d26=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x6685ec=-0x2*-0x439+-0x84f*0x2+0xd*0xa1,_0x170d26=-0x205c+-0x100a*0x1+-0x1833*-0x2):_0x6685ec=_0x170d26=0x1b6c+-0xad*-0x36+0xaa7*-0x6;const _0x37e403=new Ammo['btVector3'](_0x2dab9e,_0x3229d6,_0x6685ec);_0x4b8380['setAngular'+'LowerLimit'](_0x37e403),_0x37e403['setValue'](_0x36bc7e,_0xe68df6,_0x170d26),_0x4b8380['setAngular'+'UpperLimit'](_0x37e403),Ammo['destroy'](_0x37e403);}}['_updateLin'+'earLimits'](){const _0x3b14d9=this['_constrain'+'t'];if(_0x3b14d9){let _0x502ef5,_0x1edee1,_0x2f3de2,_0x196a30,_0x53b5ab,_0x44f7a2;this['_linearMot'+'ionX']===Vn?(_0x502ef5=this['_linearLim'+'itsX']['x'],_0x196a30=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0x502ef5=0x655+0x1f39*-0x1+0x18e5,_0x196a30=-0x46a+-0x7c7+-0xc31*-0x1):_0x502ef5=_0x196a30=0x594*-0x7+0x1c72+0xa9a,this['_linearMot'+'ionY']===Vn?(_0x1edee1=this['_linearLim'+'itsY']['x'],_0x53b5ab=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x1edee1=-0x9d2+0x2440+-0x1a6d,_0x53b5ab=0xb0*0x23+-0xb*0xbc+-0xffc):_0x1edee1=_0x53b5ab=-0x26c7+-0x2*-0xbcd+0xf2d,this['_linearMot'+'ionZ']===Vn?(_0x2f3de2=this['_linearLim'+'itsZ']['x'],_0x44f7a2=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x2f3de2=-0xf3f+-0x1df9*-0x1+-0xeb9,_0x44f7a2=0x1*0xb51+-0x253+0x8fe*-0x1):_0x2f3de2=_0x44f7a2=0x1e81+-0x80*0x1a+-0x1181;const _0xeedc43=new Ammo['btVector3'](_0x502ef5,_0x1edee1,_0x2f3de2);_0x3b14d9['setLinearL'+'owerLimit'](_0xeedc43),_0xeedc43['setValue'](_0x196a30,_0x53b5ab,_0x44f7a2),_0x3b14d9['setLinearU'+'pperLimit'](_0xeedc43),Ammo['destroy'](_0xeedc43);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0xdc2b60=new q(),_0x314d6e=this['_entityA']['rigidbody']['body'];_0x314d6e['activate']();const _0xf9a1a1=this['entity']['getWorldTr'+'ansform'](),_0x424db8=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0xdc2b60['mul2'](_0x424db8,_0xf9a1a1);const _0x57b825=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0xdc2b60,_0x57b825),this['_entityB']&&this['_entityB']['rigidbody']){const _0x3157dc=this['_entityB']['rigidbody']['body'];_0x3157dc['activate']();const _0x2e6f13=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0xdc2b60['mul2'](_0x2e6f13,_0xf9a1a1);const _0x5c4764=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0xdc2b60,_0x5c4764),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x314d6e,_0x3157dc,_0x57b825,_0x5c4764,!this['_enableCol'+'lision']),Ammo['destroy'](_0x5c4764);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x314d6e,_0x57b825,!this['_enableCol'+'lision']);Ammo['destroy'](_0x57b825);const _0xc9b989=['X','Y','Z','X','Y','Z'];for(let _0xd2c3ed=-0x1f*-0xc5+-0x15b*-0x1+-0x1936;_0xd2c3ed<-0x5f5*-0x4+-0x26f3+0xf25;_0xd2c3ed++){const _0x5b21bc=_0xd2c3ed<-0x1d4d+-0x1*0x19bb+0x370b?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0xd2c3ed,this[_0x5b21bc+'Spring'+_0xc9b989[_0xd2c3ed]]),this['_constrain'+'t']['setDamping'](_0xd2c3ed,this[_0x5b21bc+'Damping'+_0xc9b989[_0xd2c3ed]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0xd2c3ed,this[_0x5b21bc+('Equilibriu'+'m')+_0xc9b989[_0xd2c3ed]]),this['_constrain'+'t']['setStiffne'+'ss'](_0xd2c3ed,this[_0x5b21bc+'Stiffness'+_0xc9b989[_0xd2c3ed]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x1060c7){for(const _0x1bb279 of UR)_0x1060c7['hasOwnProp'+'erty'](_0x1bb279)&&(_0x1060c7[_0x1bb279]instanceof W?this['_'+_0x1bb279]['copy'](_0x1060c7[_0x1bb279]):this['_'+_0x1bb279]=_0x1060c7[_0x1bb279]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x151ca3,_0x4e93f6,_0x1d9549){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x57fc93=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x11acf1=>{['X','Y','Z']['forEach'](_0x37d6e9=>{const _0x27363e=_0x57fc93+_0x11acf1+_0x37d6e9,_0x4e7425='_'+_0x27363e;let _0x110e83=_0x57fc93==='linear'?-0x1*-0x3b5+0x16c1+0x3*-0x8d2:-0x24d+0x1071+-0xe21;_0x37d6e9==='Y'&&(_0x110e83+=0x167f+-0x1*-0x563+-0x1be1),_0x37d6e9==='Z'&&(_0x110e83+=0x3d6+0x4*-0x89e+0x1ea4),Object['defineProp'+'erty'](Up['prototype'],_0x27363e,{'get':function(){return this[_0x4e7425];},'set':function(_0x15ade4){this[_0x4e7425]!==_0x15ade4&&(this[_0x4e7425]=_0x15ade4,this['_constrain'+'t'][VR[_0x11acf1]](_0x110e83,_0x15ade4));}});});});});class GR{constructor(){this['enabled']=!(0x115c+-0x8*0x354+0x944);}}const uf=['enabled'];class HR extends Xe{constructor(_0x1e9bf6){super(_0x1e9bf6),this['id']='joint',this['app']=_0x1e9bf6,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0x53d857,_0x50f377,_0x31fcb4){_0x53d857['initFromDa'+'ta'](_0x50f377),super['initialize'+'ComponentD'+'ata'](_0x53d857,_0x50f377,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',0xd*-0x1af+0x1*-0x754+-0x1d37*-0x1),c(this,'_minHeight',-0x18b9*-0x1+0x226f*-0x1+-0x71*-0x16),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',0x2*-0x10fb+-0x141d+-0x7f*-0x6d),c(this,'_fitHeight'+'Proportion',0x286*-0xc+-0x1*-0x166f+0x7d9),c(this,'_excludeFr'+'omLayout',!(0x1*0xa57+-0x1f14+0x14be));}set['minWidth'](_0x1d6e06){_0x1d6e06!==this['_minWidth']&&(this['_minWidth']=_0x1d6e06,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0xe76b78){_0xe76b78!==this['_minHeight']&&(this['_minHeight']=_0xe76b78,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x667b5a){_0x667b5a!==this['_maxWidth']&&(this['_maxWidth']=_0x667b5a,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x3119cb){_0x3119cb!==this['_maxHeight']&&(this['_maxHeight']=_0x3119cb,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x4367c7){_0x4367c7!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x4367c7,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x2a6b6d){_0x2a6b6d!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x2a6b6d,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x3c523e){_0x3c523e!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x3c523e,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class WR{constructor(){this['enabled']=!(-0x261b+0x3*-0x9c7+0x4370);}}const ax=['enabled'];class $R extends Xe{constructor(_0x4fdad3){super(_0x4fdad3),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=WR,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x3b1047,_0x2a43c4,_0x541f8d){_0x2a43c4['enabled']!==void(0x1be*0xb+-0x407*-0x7+-0x2f5b)&&(_0x3b1047['enabled']=_0x2a43c4['enabled']),_0x2a43c4['minWidth']!==void(-0x2279+-0xa4a+-0x1*-0x2cc3)&&(_0x3b1047['minWidth']=_0x2a43c4['minWidth']),_0x2a43c4['minHeight']!==void(0x367+-0x523*0x5+0x1648)&&(_0x3b1047['minHeight']=_0x2a43c4['minHeight']),_0x2a43c4['maxWidth']!==void(-0x1*-0x141d+0x1*-0x26ba+-0x1*-0x129d)&&(_0x3b1047['maxWidth']=_0x2a43c4['maxWidth']),_0x2a43c4['maxHeight']!==void(0x66c*0x2+-0x5d1*-0x1+-0x12a9)&&(_0x3b1047['maxHeight']=_0x2a43c4['maxHeight']),_0x2a43c4['fitWidthPr'+'oportion']!==void(0x4df*-0x1+0x7d5+-0x2f6)&&(_0x3b1047['fitWidthPr'+'oportion']=_0x2a43c4['fitWidthPr'+'oportion']),_0x2a43c4['fitHeightP'+'roportion']!==void(-0x39*-0x98+-0x1120+-0x1ac*0xa)&&(_0x3b1047['fitHeightP'+'roportion']=_0x2a43c4['fitHeightP'+'roportion']),_0x2a43c4['excludeFro'+'mLayout']!==void(0x2138*0x1+-0x943*0x1+-0x17f5)&&(_0x3b1047['excludeFro'+'mLayout']=_0x2a43c4['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x3b1047,_0x2a43c4,_0x541f8d);}['cloneCompo'+'nent'](_0x165d47,_0x35050d){const _0x1e812e=_0x165d47['layoutchil'+'d'];return this['addCompone'+'nt'](_0x35050d,{'enabled':_0x1e812e['enabled'],'minWidth':_0x1e812e['minWidth'],'minHeight':_0x1e812e['minHeight'],'maxWidth':_0x1e812e['maxWidth'],'maxHeight':_0x1e812e['maxHeight'],'fitWidthProportion':_0x1e812e['fitWidthPr'+'oportion'],'fitHeightProportion':_0x1e812e['fitHeightP'+'roportion'],'excludeFromLayout':_0x1e812e['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=-0xbc3*-0x1+-0x23c*0x11+0x1a39,qR=-0x1*0x18d1+-0x136e*0x1+0x40*0xb1,gg=0x400+0x1da2+0x1*-0x21a0,XR=0x11*0xee+0x229*-0x7+0x2b*-0x4,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new W();function ox(_0x23b09c){let _0x3983bb;const _0x3c0f6c=Zh[_0x23b09c],_0x5d5874=Zh[Vp[_0x23b09c]];function _0x3e8dd8(_0x45e6d6,_0x561ef1){return-_0x561ef1[_0x3c0f6c['size']]*_0x45e6d6['pivot'][_0x3c0f6c['axis']];}function _0x30ea09(_0xadfc50,_0x7750d7){return-_0x7750d7[_0x5d5874['size']]*_0xadfc50['pivot'][_0x5d5874['axis']];}function _0x375daa(_0x214785,_0x261ade){return _0x261ade[_0x3c0f6c['size']]*(0x2664+0x1326+0x3989*-0x1-_0x214785['pivot'][_0x3c0f6c['axis']]);}function _0x32a9ba(_0x2521db,_0x24e867){_0x2521db=_0x2521db['filter'](_0x1703ca),_0x3983bb=_0x24e867,Ut['x']=_0x3983bb['containerS'+'ize']['x']-_0x3983bb['padding']['x']-_0x3983bb['padding']['z'],Ut['y']=_0x3983bb['containerS'+'ize']['y']-_0x3983bb['padding']['y']-_0x3983bb['padding']['w'],_0x38fbf8(_0x2521db);const _0x3a2d38=_0x1ba3f6(_0x5a8219(_0x2521db)),_0x12def0=_0x22f87d(_0x3a2d38,_0x710e89(_0x3a2d38)),_0x249562=_0x44c5c5(_0x3a2d38,_0x12def0);return _0x241602(_0x3a2d38,_0x12def0,_0x249562),_0x41e47f(_0x3a2d38,_0x12def0,_0x249562),_0xaa297a(_0x3a2d38);}function _0x1703ca(_0x4ec479){const _0x37dabe=_0x4ec479['entity']['layoutchil'+'d'];return!_0x37dabe||!_0x37dabe['enabled']||!_0x37dabe['excludeFro'+'mLayout'];}function _0x38fbf8(_0x345576){for(let _0x34761d=0x2211+0xd*0xd3+-0x2cc8;_0x34761d<_0x345576['length'];++_0x34761d){const _0x5b9c5b=_0x345576[_0x34761d],_0x4395e4=_0x5b9c5b['anchor'];(_0x4395e4['x']!==0x53*-0x67+0xc30+0x1535||_0x4395e4['y']!==-0x4ab*0x3+-0x465+0xa*0x1d7||_0x4395e4['z']!==-0x49*-0x51+0x1*-0x3fd+0x98e*-0x2||_0x4395e4['w']!==0x1261+-0x1464+0x203)&&(_0x5b9c5b['anchor']=Q['ZERO']);}}function _0x5a8219(_0x5a1990){if(!_0x3983bb['wrap'])return[_0x5a1990];const _0x1652fe=[[]],_0x5cf243=_0x31c2da(_0x5a1990);let _0x77c559=-0x6a*-0x50+0x11c2+-0x32e2*0x1;const _0xafd525=_0x3983bb[_0x3c0f6c['fitting']]===gg;for(let _0xbac01=-0x6da*-0x1+-0x1*0x2629+0x1f4f;_0xbac01<_0x5a1990['length'];++_0xbac01){_0x1652fe[_0x1652fe['length']-(-0x1*-0x1e58+-0x4c*-0x20+0x1f*-0x149)]['length']>-0x755+-0x1cc9*-0x1+-0x55d*0x4&&(_0x77c559+=_0x3983bb['spacing'][_0x3c0f6c['axis']]);const _0x27f398=_0x5cf243[_0xbac01][_0x3c0f6c['size']];_0x77c559+=_0x27f398,!_0xafd525&&_0x77c559>Ut[_0x3c0f6c['axis']]&&_0x1652fe[_0x1652fe['length']-(0x39*-0x3b+0x525+-0x7ff*-0x1)]['length']!==-0x26b*-0x2+0x8*-0x281+0x1*0xf32&&(_0x77c559=_0x27f398,_0x1652fe['push']([])),_0x1652fe[_0x1652fe['length']-(0x52*-0x8+-0x220c+0xd*0x2d1)]['push'](_0x5a1990[_0xbac01]),_0xafd525&&_0x77c559>Ut[_0x3c0f6c['axis']]&&_0xbac01!==_0x5a1990['length']-(-0xad+-0x3cc+0x47a)&&(_0x77c559=-0x565*-0x1+-0x102b*0x2+0xd1*0x21,_0x1652fe['push']([]));}return _0x1652fe;}function _0x1ba3f6(_0x34822e){const _0x596fd6=_0x3983bb['orientatio'+'n']===pe&&_0x3983bb['reverseX']||_0x3983bb['orientatio'+'n']===ke&&_0x3983bb['reverseY'],_0x253ac7=_0x3983bb['orientatio'+'n']===pe&&_0x3983bb['reverseY']||_0x3983bb['orientatio'+'n']===ke&&_0x3983bb['reverseX'];if(_0x596fd6){for(let _0x22c82d=0x6f*0xb+-0x235*0x11+0x20c0;_0x22c82d<_0x34822e['length'];++_0x22c82d)_0x596fd6&&_0x34822e[_0x22c82d]['reverse']();}return _0x253ac7&&_0x34822e['reverse'](),_0x34822e;}function _0x710e89(_0x4a2a14){const _0x563753=[];for(let _0x359b87=-0x926*0x2+0xb1d+0x72f;_0x359b87<_0x4a2a14['length'];++_0x359b87){const _0x1369b8=_0x4a2a14[_0x359b87],_0x43fe35=_0x31c2da(_0x1369b8),_0x181a7e=_0x60fb04(_0x43fe35,_0x3c0f6c),_0x368507=_0x1aa4a9(_0x3983bb[_0x3c0f6c['fitting']],_0x181a7e,Ut[_0x3c0f6c['axis']]);_0x368507===zt['APPLY_STRE'+'TCHING']?_0x598eb7(_0x43fe35,_0x181a7e,_0x3c0f6c):_0x368507===zt['APPLY_SHRI'+'NKING']&&_0x361e0d(_0x43fe35,_0x181a7e,_0x3c0f6c),_0x563753['push'](_0x43fe35);}return _0x563753;}function _0x22f87d(_0x219637,_0x303ee8){const _0x3872bb=[],_0xa6f764=[];for(let _0xfedb0b=0x212f+-0x39a*0x5+-0xf2d;_0xfedb0b<_0x219637['length'];++_0xfedb0b){const _0xe8c0f8=_0x219637[_0xfedb0b];_0xe8c0f8['largestEle'+'ment']=null,_0xe8c0f8['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x4d8d8a=0x5*-0x5ad+-0xd*-0x2a9+0x1*-0x634;_0x4d8d8a<_0xe8c0f8['length'];++_0x4d8d8a){const _0x9980ca=_0x303ee8[_0xfedb0b][_0x4d8d8a];_0x9980ca[_0x5d5874['size']]>_0xe8c0f8['largestSiz'+'e'][_0x5d5874['size']]&&(_0xe8c0f8['largestEle'+'ment']=_0xe8c0f8[_0x4d8d8a],_0xe8c0f8['largestSiz'+'e']=_0x9980ca);}_0x3872bb['push'](_0xe8c0f8['largestEle'+'ment']),_0xa6f764['push'](_0xe8c0f8['largestSiz'+'e']);}const _0x4aff0c=_0x60fb04(_0xa6f764,_0x5d5874),_0x16bcd1=_0x1aa4a9(_0x3983bb[_0x5d5874['fitting']],_0x4aff0c,Ut[_0x5d5874['axis']]);_0x16bcd1===zt['APPLY_STRE'+'TCHING']?_0x598eb7(_0xa6f764,_0x4aff0c,_0x5d5874):_0x16bcd1===zt['APPLY_SHRI'+'NKING']&&_0x361e0d(_0xa6f764,_0x4aff0c,_0x5d5874);for(let _0xfccc39=0x15*0x9+0x1093+-0x22a*0x8;_0xfccc39<_0x219637['length'];++_0xfccc39){const _0x4150d0=_0x219637[_0xfccc39];for(let _0x4ecbf7=0x17*0x41+-0x63e+0x67*0x1;_0x4ecbf7<_0x4150d0['length'];++_0x4ecbf7){const _0x1f1dc3=_0x303ee8[_0xfccc39][_0x4ecbf7],_0x4fcaa3=_0x1f1dc3[_0x5d5874['size']],_0x57f535=_0x219637['length']===-0x172c+-0x25bb+0x1*0x3ce8?Ut[_0x5d5874['axis']]:_0x4150d0['largestSiz'+'e'][_0x5d5874['size']],_0x1558ea=_0x1aa4a9(_0x3983bb[_0x5d5874['fitting']],_0x4fcaa3,_0x57f535);_0x1558ea===zt['APPLY_STRE'+'TCHING']?_0x1f1dc3[_0x5d5874['size']]=Math['min'](_0x57f535,_0x1f1dc3[_0x5d5874['maxSize']]):_0x1558ea===zt['APPLY_SHRI'+'NKING']&&(_0x1f1dc3[_0x5d5874['size']]=Math['max'](_0x57f535,_0x1f1dc3[_0x5d5874['minSize']]));}}return _0x303ee8;}function _0x1aa4a9(_0xa1e4f9,_0x9d7bdb,_0x16e387){switch(_0xa1e4f9){case ff:return zt['NONE'];case qR:return _0x9d7bdb<_0x16e387?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x9d7bdb>=_0x16e387?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x9d7bdb<_0x16e387?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0xa1e4f9);}}function _0x60fb04(_0x359d47,_0x20162a){const _0x2857fb=_0x4d15a8(_0x359d47,_0x20162a['size']),_0xc1a6af=(_0x359d47['length']-(0x42a*0x4+-0xc5f+-0x1*0x448))*_0x3983bb['spacing'][_0x20162a['axis']];return _0x2857fb+_0xc1a6af;}function _0x598eb7(_0x534e40,_0x4e8fd4,_0xe61d1b){const _0x3a4c6e=_0x2ef77b(_0x534e40,_0xe61d1b['maxSize']),_0x585c5d=_0x3e3e03(_0x534e40,_0xe61d1b['fittingPro'+'portion']),_0x4d49d7=_0x5142f5(_0x585c5d,_0x3a4c6e);let _0x4d3267=Ut[_0xe61d1b['axis']]-_0x4e8fd4;for(let _0x2afdf2=-0x105c+-0xeb9+0x1f15;_0x2afdf2<_0x534e40['length'];++_0x2afdf2){const _0x4308a8=_0x3a4c6e[_0x2afdf2],_0x5ccaa9=_0x5db66e(_0x4308a8,_0x4d3267,_0x585c5d,_0x4d49d7),_0x113649=_0x534e40[_0x4308a8][_0xe61d1b['size']]+_0x5ccaa9,_0x3c9d89=_0x534e40[_0x4308a8][_0xe61d1b['maxSize']],_0x1086fa=Math['min'](_0x113649,_0x3c9d89);_0x534e40[_0x4308a8][_0xe61d1b['size']]=_0x1086fa;const _0x2b927a=Math['max'](_0x113649-_0x1086fa,0x26f2+-0x1090+-0x17e*0xf),_0x227569=_0x5ccaa9-_0x2b927a;_0x4d3267-=_0x227569;}}function _0x361e0d(_0x34a16c,_0x39e2d7,_0x1137b1){const _0x158158=_0x2ef77b(_0x34a16c,_0x1137b1['minSize'],!(-0x1*-0x793+0x1e9e+-0xcbb*0x3)),_0x57a747=_0x3e3e03(_0x34a16c,_0x1137b1['fittingPro'+'portion']),_0x489bbd=_0x2e283e(_0x57a747),_0x27776f=_0x5142f5(_0x489bbd,_0x158158);let _0x4dd777=_0x39e2d7-Ut[_0x1137b1['axis']];for(let _0x33101a=-0x8*-0x15b+-0xa36*-0x2+0xc*-0x29b;_0x33101a<_0x34a16c['length'];++_0x33101a){const _0x1fd12a=_0x158158[_0x33101a],_0x38236c=_0x5db66e(_0x1fd12a,_0x4dd777,_0x489bbd,_0x27776f),_0x3816be=_0x34a16c[_0x1fd12a][_0x1137b1['size']]-_0x38236c,_0x5125e0=_0x34a16c[_0x1fd12a][_0x1137b1['minSize']],_0x9a3c62=Math['max'](_0x3816be,_0x5125e0);_0x34a16c[_0x1fd12a][_0x1137b1['size']]=_0x9a3c62;const _0x2ac22e=Math['max'](_0x9a3c62-_0x3816be,0x1*-0x14e5+0x36e*0x5+0x3bf),_0x129980=_0x38236c-_0x2ac22e;_0x4dd777-=_0x129980;}}function _0x5db66e(_0x50afac,_0x5117a0,_0x5b91b3,_0x1fadbf){const _0x175e07=_0x5b91b3[_0x50afac],_0x2c0d8b=_0x1fadbf[_0x50afac];return Math['abs'](_0x175e07)<-0x7b*-0xb+-0x10d*0xb+0xb*0x92+0.00001&&Math['abs'](_0x2c0d8b)<-0x9d5+0x1*-0x973+0x1348+0.00001?_0x5117a0:_0x5117a0*_0x175e07/_0x2c0d8b;}function _0x44c5c5(_0x8a00a2,_0x2f6c5d){const _0x5a2d46={};_0x5a2d46[_0x3c0f6c['axis']]=-0x69*0x46+-0x265c+0x4312,_0x5a2d46[_0x5d5874['axis']]=-0xeb6+0x14*-0x18d+0x79f*0x6,_0x8a00a2[_0x3c0f6c['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x11c2f4=[];for(let _0x107826=0x4fd*-0x1+-0x1b46+-0x1*-0x2043;_0x107826<_0x8a00a2['length'];++_0x107826){const _0x36c385=_0x8a00a2[_0x107826];if(_0x36c385['length']===0x628+-0x258a+0x6*0x53b){_0x11c2f4['push']([]);continue;}const _0x16c406=[],_0x17e5bb=_0x2f6c5d[_0x107826];for(let _0x31edf2=0x9da*0x1+-0x2*-0xd3+-0xb80;_0x31edf2<_0x36c385['length'];++_0x31edf2){const _0xefcb24=_0x36c385[_0x31edf2],_0x5cd914=_0x17e5bb[_0x31edf2];_0x5a2d46[_0x5d5874['axis']]-=_0x30ea09(_0xefcb24,_0x5cd914),_0x5a2d46[_0x3c0f6c['axis']]-=_0x3e8dd8(_0xefcb24,_0x5cd914),_0x16c406[_0x31edf2]={},_0x16c406[_0x31edf2][_0x3c0f6c['axis']]=_0x5a2d46[_0x3c0f6c['axis']],_0x16c406[_0x31edf2][_0x5d5874['axis']]=_0x5a2d46[_0x5d5874['axis']],_0x5a2d46[_0x5d5874['axis']]+=_0x30ea09(_0xefcb24,_0x5cd914),_0x5a2d46[_0x3c0f6c['axis']]+=_0x375daa(_0xefcb24,_0x5cd914)+_0x3983bb['spacing'][_0x3c0f6c['axis']];}_0x36c385[_0x3c0f6c['size']]=_0x5a2d46[_0x3c0f6c['axis']]-_0x3983bb['spacing'][_0x3c0f6c['axis']],_0x36c385[_0x5d5874['size']]=_0x36c385['largestSiz'+'e'][_0x5d5874['size']],_0x8a00a2[_0x3c0f6c['size']]=Math['max'](_0x8a00a2[_0x3c0f6c['size']],_0x36c385[_0x3c0f6c['size']]),_0x5a2d46[_0x3c0f6c['axis']]=-0x6bf+-0x1a2+-0x27*-0x37,_0x5a2d46[_0x5d5874['axis']]+=_0x36c385[_0x5d5874['size']]+_0x3983bb['spacing'][_0x5d5874['axis']],_0x11c2f4['push'](_0x16c406);}return _0x8a00a2[_0x5d5874['size']]=_0x5a2d46[_0x5d5874['axis']]-_0x3983bb['spacing'][_0x5d5874['axis']],_0x11c2f4;}function _0x241602(_0x2dfb91,_0x314e1d,_0x28f247){const _0x58c538=_0x3983bb['alignment'][_0x3c0f6c['axis']],_0x1cf3fb=_0x3983bb['alignment'][_0x5d5874['axis']],_0x3ae901=_0x3983bb['padding'][_0x3c0f6c['axis']],_0x8162a7=_0x3983bb['padding'][_0x5d5874['axis']];for(let _0x17f8e7=-0xe60*-0x2+0x24a2+0x2*-0x20b1;_0x17f8e7<_0x2dfb91['length'];++_0x17f8e7){const _0x3ca314=_0x2dfb91[_0x17f8e7],_0x222f82=_0x314e1d[_0x17f8e7],_0x31f2f2=_0x28f247[_0x17f8e7],_0x19f53f=(Ut[_0x3c0f6c['axis']]-_0x3ca314[_0x3c0f6c['size']])*_0x58c538+_0x3ae901,_0x5daeb7=(Ut[_0x5d5874['axis']]-_0x2dfb91[_0x5d5874['size']])*_0x1cf3fb+_0x8162a7;for(let _0x3e4d57=0x25*0xec+0x2*-0x1378+0x4d4;_0x3e4d57<_0x3ca314['length'];++_0x3e4d57){const _0x52e905=(_0x3ca314[_0x5d5874['size']]-_0x222f82[_0x3e4d57][_0x5d5874['size']])*_0x3983bb['alignment'][_0x5d5874['axis']];_0x31f2f2[_0x3e4d57][_0x3c0f6c['axis']]+=_0x19f53f,_0x31f2f2[_0x3e4d57][_0x5d5874['axis']]+=_0x5daeb7+_0x52e905;}}}function _0x41e47f(_0x8946a9,_0x116b48,_0x2fb433){for(let _0x5cdfe7=-0x410+-0x1b59*-0x1+0x7c3*-0x3;_0x5cdfe7<_0x8946a9['length'];++_0x5cdfe7){const _0x374c11=_0x8946a9[_0x5cdfe7],_0xbb7ff3=_0x116b48[_0x5cdfe7],_0x18458e=_0x2fb433[_0x5cdfe7];for(let _0x26d798=0xa7*-0x38+-0x1789+0x3c11*0x1;_0x26d798<_0x374c11['length'];++_0x26d798){const _0x2ff474=_0x374c11[_0x26d798];_0x2ff474[_0x3c0f6c['calculated'+'Size']]=_0xbb7ff3[_0x26d798][_0x3c0f6c['size']],_0x2ff474[_0x5d5874['calculated'+'Size']]=_0xbb7ff3[_0x26d798][_0x5d5874['size']],_0x3983bb['orientatio'+'n']===pe?_0x2ff474['entity']['setLocalPo'+'sition'](_0x18458e[_0x26d798][_0x3c0f6c['axis']],_0x18458e[_0x26d798][_0x5d5874['axis']],_0x2ff474['entity']['getLocalPo'+'sition']()['z']):_0x2ff474['entity']['setLocalPo'+'sition'](_0x18458e[_0x26d798][_0x5d5874['axis']],_0x18458e[_0x26d798][_0x3c0f6c['axis']],_0x2ff474['entity']['getLocalPo'+'sition']()['z']);}}}function _0xaa297a(_0x10cd05){const _0x1e3ade=_0x10cd05['width'],_0x375f6b=_0x10cd05['height'],_0x11b346=(Ut['x']-_0x1e3ade)*_0x3983bb['alignment']['x']+_0x3983bb['padding']['x'],_0x516478=(Ut['y']-_0x375f6b)*_0x3983bb['alignment']['y']+_0x3983bb['padding']['y'];return{'bounds':new Q(_0x11b346,_0x516478,_0x1e3ade,_0x375f6b)};}function _0x31c2da(_0x38f560){const _0x2daeb8=[];for(let _0x38f331=-0x1d7f+0x2293+-0x34*0x19;_0x38f331<_0x38f560['length'];++_0x38f331){const _0x566dd8=_0x38f560[_0x38f331],_0x281708=Math['max'](_0x362f29(_0x566dd8,'minWidth'),0xcc7*0x1+-0x9e*-0x12+-0x17e3*0x1),_0x372568=Math['max'](_0x362f29(_0x566dd8,'minHeight'),0x1*0x1628+-0x11df+-0x449),_0x3ea806=Math['max'](_0x362f29(_0x566dd8,'maxWidth'),_0x281708),_0x45db30=Math['max'](_0x362f29(_0x566dd8,'maxHeight'),_0x372568),_0x542cbc=_0x38ae3e(_0x362f29(_0x566dd8,'width'),_0x281708,_0x3ea806),_0x50efa1=_0x38ae3e(_0x362f29(_0x566dd8,'height'),_0x372568,_0x45db30),_0x56f5a1=_0x362f29(_0x566dd8,'fitWidthPr'+'oportion'),_0x1fa2a7=_0x362f29(_0x566dd8,'fitHeightP'+'roportion');_0x2daeb8['push']({'minWidth':_0x281708,'minHeight':_0x372568,'maxWidth':_0x3ea806,'maxHeight':_0x45db30,'width':_0x542cbc,'height':_0x50efa1,'fitWidthProportion':_0x56f5a1,'fitHeightProportion':_0x1fa2a7});}return _0x2daeb8;}function _0x362f29(_0x567c8b,_0x207f7d){const _0x1604dd=_0x567c8b['entity']['layoutchil'+'d'];return _0x1604dd&&_0x1604dd['enabled']&&_0x1604dd[_0x207f7d]!==void(0x1fdf*-0x1+-0x1955*0x1+0x3934)&&_0x1604dd[_0x207f7d]!==null?_0x1604dd[_0x207f7d]:_0x567c8b[_0x207f7d]!==void(-0x128f*-0x2+0x3*-0xa13+-0x6e5)?_0x567c8b[_0x207f7d]:jR[_0x207f7d];}function _0x38ae3e(_0x5766c7,_0xfdbfc4,_0x75f4bd){return Math['min'](Math['max'](_0x5766c7,_0xfdbfc4),_0x75f4bd);}function _0x4d15a8(_0x4c62b8,_0x4092a5){return _0x4c62b8['reduce']((_0x4d0548,_0x2d540f)=>_0x4d0548+_0x2d540f[_0x4092a5],0x1849*-0x1+-0x2*0xb51+-0x2eeb*-0x1);}function _0x3e3e03(_0x91b8ef,_0x5694a8){const _0x37cfff=_0x4d15a8(_0x91b8ef,_0x5694a8),_0x3bac0b=[],_0x1d41f8=_0x91b8ef['length'];if(_0x37cfff===0x1e7*0x6+0xcdd*-0x3+0x1b2d){for(let _0xef01fe=-0x1ff4+-0xb5*-0x26+0x516;_0xef01fe<_0x1d41f8;++_0xef01fe)_0x3bac0b['push']((-0x1*0x1315+0x2e3*-0xb+0x5*0xa2b)/_0x1d41f8);}else{for(let _0x3d77dc=0xbf*-0x17+-0xa8*0x39+0x3691*0x1;_0x3d77dc<_0x1d41f8;++_0x3d77dc)_0x3bac0b['push'](_0x91b8ef[_0x3d77dc][_0x5694a8]/_0x37cfff);}return _0x3bac0b;}function _0x2e283e(_0x38e4dd){if(_0x38e4dd['length']===0xfd7+0x2*0x3c7+-0x1764)return[-0x5*-0x19a+0x3f*-0x3f+0x28*0x30];const _0xacf48b=[],_0x521486=_0x38e4dd['length'];for(let _0x3cd4df=-0x1a83+0x1*0x1f37+-0x4b4;_0x3cd4df<_0x521486;++_0x3cd4df)_0xacf48b['push']((-0x1f9a+0x11fa*0x1+-0xda1*-0x1-_0x38e4dd[_0x3cd4df])/(_0x521486-(0x4a4+-0x12e+-0xf*0x3b)));return _0xacf48b;}function _0x2ef77b(_0x450b20,_0x5f1028,_0x252eda){return _0x450b20['forEach'](_0x200e49),_0x450b20['slice']()['sort']((_0x3fbac7,_0x153ce7)=>_0x252eda?_0x153ce7[_0x5f1028]-_0x3fbac7[_0x5f1028]:_0x3fbac7[_0x5f1028]-_0x153ce7[_0x5f1028])['map'](_0x5c9772);}function _0x200e49(_0x354659,_0x96643a){_0x354659['index']=_0x96643a;}function _0x5c9772(_0x449013){return _0x449013['index'];}function _0x5142f5(_0x529216,_0x32bc0f){const _0x444dbe=[];_0x444dbe[_0x32bc0f[_0x529216['length']-(0x91*-0xd+-0x1e55+0xc91*0x3)]]=_0x529216[_0x32bc0f[_0x529216['length']-(0x14b*0x1d+0x1c90+0x13*-0x37a)]];for(let _0x18f61a=_0x529216['length']-(-0xbbe+0x3c9+0x7f7);_0x18f61a>=0x1*0x2575+-0x8bd+-0x1cb8;--_0x18f61a)_0x444dbe[_0x32bc0f[_0x18f61a]]=_0x444dbe[_0x32bc0f[_0x18f61a+(0x1*0x2201+0x1d35*-0x1+-0x4cb)]]+_0x529216[_0x32bc0f[_0x18f61a]];return _0x444dbe;}return _0x32a9ba;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0x439487,_0x3d57ea){const _0x317014=Gp[_0x3d57ea['orientatio'+'n']];if(_0x317014)return _0x317014(_0x439487,_0x3d57ea);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x3d57ea['orientatio'+'n']);}}function yg(_0x3b910e){return _0x3b910e['element'];}function KR(_0x16c669){return _0x16c669['enabled']&&_0x16c669['element']&&_0x16c669['element']['enabled'];}class lx extends ue{constructor(_0x22179c,_0x81b295){super(_0x22179c,_0x81b295),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(0x241c+-0x877+-0x1ba4)),c(this,'_reverseY',!(-0x1bab+-0x7e1+-0x46*-0x82)),c(this,'_alignment',new W(0x17*0x7d+-0x1e1d+-0x2*-0x971,-0x21f6+-0x1*0xfd9+0x63a*0x8)),c(this,'_padding',new Q()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(-0x1d82+-0x209*-0x1+0x1b7a)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x414911=>{this['_listenFor'+'ReflowEven'+'ts'](_0x414911,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x22179c['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x22179c['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x22179c['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x22179c['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x22179c['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x22179c['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x39985a){_0x39985a!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x39985a,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x3dc279){_0x3dc279!==this['_reverseX']&&(this['_reverseX']=_0x3dc279,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x45a98c){_0x45a98c!==this['_reverseY']&&(this['_reverseY']=_0x45a98c,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x293153){_0x293153['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x293153),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x5baf2e){_0x5baf2e['equals'](this['_padding'])||(this['_padding']['copy'](_0x5baf2e),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x18aa29){_0x18aa29['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x18aa29),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0xbe76e6){_0xbe76e6!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0xbe76e6,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x1df604){_0x1df604!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x1df604,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x3cb183){_0x3cb183!==this['_wrap']&&(this['_wrap']=_0x3cb183,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x298dd3){return _0x298dd3===this['entity']||this['entity']['children']['indexOf'](_0x298dd3)!==-(0x1db8+-0x1c*-0x9e+-0xe3*0x35);}['_listenFor'+'ReflowEven'+'ts'](_0x2a0d19,_0x3fa741){_0x2a0d19['element']&&(_0x2a0d19['element'][_0x3fa741]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x2a0d19['element'][_0x3fa741]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x2a0d19['element'][_0x3fa741]('resize',this['_scheduleR'+'eflow'],this),_0x2a0d19['element'][_0x3fa741]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x2a0d19['layoutchil'+'d']&&(_0x2a0d19['layoutchil'+'d'][_0x3fa741]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x2a0d19['layoutchil'+'d'][_0x3fa741]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x476453){this['_isSelfOrC'+'hild'](_0x476453)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x476453,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x483dee){this['_isSelfOrC'+'hild'](_0x483dee)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x483dee,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x34fa06){this['_listenFor'+'ReflowEven'+'ts'](_0x34fa06,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x52f36d){this['_listenFor'+'ReflowEven'+'ts'](_0x52f36d,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x4dfb1a=yg(this['entity']),_0x2233fb=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x4dfb1a||_0x2233fb['length']===0x2*0xa99+-0x1*0x239f+0xe6d)return;const _0x425e8c=Math['max'](_0x4dfb1a['calculated'+'Width'],-0x157c+-0x1619+0x2b95),_0x2dee9a=Math['max'](_0x4dfb1a['calculated'+'Height'],0x183b+-0x33*-0xa+-0x1a39),_0x5e7670={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0x425e8c,_0x2dee9a)};this['_isPerform'+'ingReflow']=!(0x1*0x1497+0x349*-0x1+-0x114e);const _0x4d1c8b=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x2233fb,_0x5e7670);this['_isPerform'+'ingReflow']=!(0x22c7+0x1db9+-0x5dd*0xb),this['fire']('reflow',_0x4d1c8b);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0xee9fb9=>{this['_listenFor'+'ReflowEven'+'ts'](_0xee9fb9,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(0xccb*-0x2+0x1*0x3ee+0x15a8*0x1);}}const hx=['enabled'],QR=0x23b3+-0x142+-0x220d;class JR extends Xe{constructor(_0x4350b6){super(_0x4350b6),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x3af0dc,_0x582d4d,_0x3276bb){_0x582d4d['enabled']!==void(0x157d*-0x1+-0x1e2a*0x1+0x33a7)&&(_0x3af0dc['enabled']=_0x582d4d['enabled']),_0x582d4d['orientatio'+'n']!==void(-0x1*0x1cfd+0x1*0xb53+0x11aa)&&(_0x3af0dc['orientatio'+'n']=_0x582d4d['orientatio'+'n']),_0x582d4d['reverseX']!==void(-0x1*-0x257f+-0x249b*0x1+-0xe4*0x1)&&(_0x3af0dc['reverseX']=_0x582d4d['reverseX']),_0x582d4d['reverseY']!==void(0x184c+0x2c*0x5b+-0x27f0)&&(_0x3af0dc['reverseY']=_0x582d4d['reverseY']),_0x582d4d['alignment']!==void(-0xb4f+0x17*0x103+-0xbf6)&&(_0x3af0dc['alignment']=Array['isArray'](_0x582d4d['alignment'])?new W(_0x582d4d['alignment']):_0x582d4d['alignment']),_0x582d4d['padding']!==void(-0x9+-0x9*0x101+0x9*0x102)&&(_0x3af0dc['padding']=Array['isArray'](_0x582d4d['padding'])?new Q(_0x582d4d['padding']):_0x582d4d['padding']),_0x582d4d['spacing']!==void(-0x117c+0x1*0x1f6e+-0xdf2)&&(_0x3af0dc['spacing']=Array['isArray'](_0x582d4d['spacing'])?new W(_0x582d4d['spacing']):_0x582d4d['spacing']),_0x582d4d['widthFitti'+'ng']!==void(-0x1d*-0xd3+0x1*-0x1795+-0x1*0x52)&&(_0x3af0dc['widthFitti'+'ng']=_0x582d4d['widthFitti'+'ng']),_0x582d4d['heightFitt'+'ing']!==void(0x125*-0x2+-0x2068+0x22b2)&&(_0x3af0dc['heightFitt'+'ing']=_0x582d4d['heightFitt'+'ing']),_0x582d4d['wrap']!==void(-0x1c1c+0x2*0xa97+0x377*0x2)&&(_0x3af0dc['wrap']=_0x582d4d['wrap']),super['initialize'+'ComponentD'+'ata'](_0x3af0dc,_0x582d4d,_0x3276bb);}['cloneCompo'+'nent'](_0x6a8fa0,_0x5331e5){const _0x499e5=_0x6a8fa0['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x5331e5,{'enabled':_0x499e5['enabled'],'orientation':_0x499e5['orientatio'+'n'],'reverseX':_0x499e5['reverseX'],'reverseY':_0x499e5['reverseY'],'alignment':_0x499e5['alignment'],'padding':_0x499e5['padding'],'spacing':_0x499e5['spacing'],'widthFitting':_0x499e5['widthFitti'+'ng'],'heightFitting':_0x499e5['heightFitt'+'ing'],'wrap':_0x499e5['wrap']});}['scheduleRe'+'flow'](_0x2ee905){this['_reflowQue'+'ue']['indexOf'](_0x2ee905)===-(-0x220f*0x1+0x4f4*0x4+-0x72*-0x20)&&this['_reflowQue'+'ue']['push'](_0x2ee905);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0x192+-0x3ff*0x8+0x1e66)return;let _0x3b51f8=-0x7*0x34a+-0x1*-0x7e7+0x31*0x4f;for(;this['_reflowQue'+'ue']['length']>0xe21+0x1c*0x74+-0x1ad1;){const _0x346f81=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x44c+-0x635*-0x5+-0x1*0x1abd,_0x346f81['sort']((_0x28270b,_0x4d4d35)=>_0x28270b['entity']['graphDepth']-_0x4d4d35['entity']['graphDepth']);for(let _0xc750d8=-0x17c3+0x25c2*0x1+-0xdff*0x1;_0xc750d8<_0x346f81['length'];++_0xc750d8)_0x346f81[_0xc750d8]['reflow']();if(++_0x3b51f8>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x439f5e,_0x5f1e05){_0x5f1e05['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0x49afd7){this['map']['forEach'](_0x6edfcc=>_0x6edfcc['mesh']['destroy']());}}const tI=new Ot(),cx=(_0x58fc16,_0x5df0a9)=>{const _0x59e14b=tI['get'](_0x58fc16,()=>new eI());let _0x3e00a0=_0x59e14b['map']['get'](_0x5df0a9);if(!_0x3e00a0){let _0x58aaa1,_0x5747d4;switch(_0x5df0a9){case'box':_0x58aaa1=Ie['fromGeomet'+'ry'](_0x58fc16,new $u()),_0x5747d4={'x':0x2,'y':0x2,'z':0x2,'uv':(-0xa0+-0x171*0x7+-0x393*-0x3)/(0x4ba+-0x1b6+0x301*-0x1)};break;case'capsule':_0x58aaa1=Ie['fromGeomet'+'ry'](_0x58fc16,new C1({'radius':0.5,'height':0x2})),_0x5747d4={'x':Math['PI']*(0x22ac*0x1+0x16fe+0xa*-0x5c4),'y':Math['PI'],'z':Math['PI']*(-0x2f*0x32+-0x13b3+-0x1ed*-0xf),'uv':(-0x2*-0xe1d+-0x11df+-0xa5a)/(-0xb*0x219+-0x11e5+0x28fb)+(0x17a+-0x1*0x295+0x11c)/(-0x1ffc+0x1a66+0x599*0x1)/(0x751+-0x2*0xf85+0x17bc)*(0x2316+-0x28*-0xdf+-0x45ec)};break;case'cone':_0x58aaa1=Ie['fromGeomet'+'ry'](_0x58fc16,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x5747d4={'x':2.54,'y':2.54,'z':2.54,'uv':(0x424*-0x8+0x1f8c+0x195*0x1)/(-0x2606+0x66+-0x787*-0x5)+(0x26d7+-0x199*-0x7+-0x3205)/(0x173f+-0x6*0x1c1+-0xcb6)/(-0x21f+-0x834+0xa56)};break;case'cylinder':_0x58aaa1=Ie['fromGeomet'+'ry'](_0x58fc16,new P1({'radius':0.5,'height':0x1})),_0x5747d4={'x':Math['PI'],'y':(0x18c0+-0x2*-0xe36+-0x352c+0.79)*(-0x22a*-0x3+-0x1a3*-0x11+-0x224f),'z':Math['PI'],'uv':(-0x1f37*-0x1+-0x9fa+-0x6*0x38a)/(0x474*0x8+-0x3fd*0x1+-0x1fa0)+(-0xfbf+-0x1*-0x1711+-0x751)/(0x1*-0x14c3+0x13f7*0x1+0xcf)/(-0x838+-0xf49+-0x23*-0xac)*(0x14bd+-0x14*-0xf+0x15e7*-0x1)};break;case'plane':_0x58aaa1=Ie['fromGeomet'+'ry'](_0x58fc16,new R1({'halfExtents':new W(0x1*-0x144a+0x2*-0x5a4+0x1f92+0.5,-0x92*0x3+-0x1*0x109f+0x1255*0x1+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x5747d4={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x58aaa1=Ie['fromGeomet'+'ry'](_0x58fc16,new B0({'radius':0.5})),_0x5747d4={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x58aaa1=Ie['fromGeomet'+'ry'](_0x58fc16,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x5747d4={'x':Math['PI']*(-0x1*0x22b2+-0x24dc+0x478e+0.5)*(-0x219*-0x3+0x25a+0x8a5*-0x1+0.5)-Math['PI']*(-0x16b4+0x7*0x1e2+0x2e*0x35+0.1)*(-0x76*-0x1b+0x1a8a+0x5*-0x7cc+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x5df0a9);}_0x58aaa1['incRefCoun'+'t'](),_0x3e00a0={'mesh':_0x58aaa1,'area':_0x5747d4},_0x59e14b['map']['set'](_0x5df0a9,_0x3e00a0);}return _0x3e00a0;};class dx extends ue{constructor(_0x3782db,_0x32f237){super(_0x3782db,_0x32f237),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(0x2383*-0x1+-0x1156+0x1*0x34d9)),c(this,'_receiveSh'+'adows',!(-0x16*-0xe5+0x151*-0x1+0x1*-0x125d)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(0x1fbb+-0x5c5+0x2*-0xcfb)),c(this,'_lightmapp'+'ed',!(-0x3*-0x40+-0x1*-0x1aec+0x313*-0x9)),c(this,'_lightmapS'+'izeMultipl'+'ier',0xc02+0x1*0x122b+-0x1e2c),c(this,'isStatic',!(-0xd9f+0x4cd+0x1*0x8d3)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(0xce4+0x8*0xe8+-0x1423)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(-0x13d9+0x8cf+0xb0b)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x3782db['defaultMat'+'erial'],_0x32f237['on']('remove',this['onRemoveCh'+'ild'],this),_0x32f237['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x32f237['on']('insert',this['onInsertCh'+'ild'],this),_0x32f237['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x19e981){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x19e981);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x422252){if(this['_customAab'+'b']=_0x422252,this['_model']){const _0x563ad9=this['_model']['meshInstan'+'ces'];if(_0x563ad9){for(let _0x2e0e7f=-0x23f2+-0x4*0x9bf+0x4aee;_0x2e0e7f<_0x563ad9['length'];_0x2e0e7f++)_0x563ad9[_0x2e0e7f]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x27aaa1){if(this['_type']!==_0x27aaa1){if(this['_area']=null,this['_type']=_0x27aaa1,_0x27aaa1==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x20d31d=cx(this['system']['app']['graphicsDe'+'vice'],_0x27aaa1);this['_area']=_0x20d31d['area'];const _0x1c6f46=_0x20d31d['mesh'],_0x21b8f9=new De(),_0x433f5c=new Oi();_0x433f5c['graph']=_0x21b8f9,_0x433f5c['meshInstan'+'ces']=[new Le(_0x1c6f46,this['_material'],_0x21b8f9)],this['model']=_0x433f5c,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x5db26e){const _0x5d3952=this['system']['app']['assets'];let _0x1a8b28=_0x5db26e;if(_0x5db26e instanceof le&&(_0x1a8b28=_0x5db26e['id']),this['_asset']!==_0x1a8b28){if(this['_asset']){_0x5d3952['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x445b55=_0x5d3952['get'](this['_asset']);_0x445b55&&this['_unbindMod'+'elAsset'](_0x445b55);}if(this['_asset']=_0x1a8b28,this['_asset']){const _0x4bdddb=_0x5d3952['get'](this['_asset']);_0x4bdddb?this['_bindModel'+'Asset'](_0x4bdddb):(this['model']=null,_0x5d3952['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x41686d){if(this['_model']!==_0x41686d){if(_0x41686d&&_0x41686d['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0x13*0x57+-0x2152+0x27c8),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x1*0x80b+0x65*0x31+0x6b*-0x1b))),this['_model']=_0x41686d,this['_model']){this['_model']['_immutable']=!(-0x11ad+-0x3b5+0x1562);const _0x210285=this['_model']['meshInstan'+'ces'];for(let _0x4459da=-0x15c7*-0x1+-0x202b+-0x14*-0x85;_0x4459da<_0x210285['length'];_0x4459da++)_0x210285[_0x4459da]['castShadow']=this['_castShado'+'ws'],_0x210285[_0x4459da]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x210285[_0x4459da]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x36f845){if(_0x36f845!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x36f845,this['_model'])){const _0x4e7253=this['_model']['meshInstan'+'ces'];for(let _0x168452=-0x2f2*0x1+0x17cb*-0x1+0x559*0x5;_0x168452<_0x4e7253['length'];_0x168452++)_0x4e7253[_0x168452]['setLightma'+'pped'](_0x36f845);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x599339){if(this['_castShado'+'ws']===_0x599339)return;const _0x28d4aa=this['_model'];if(_0x28d4aa){const _0xe6940a=this['layers'],_0x2a4108=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x599339)for(let _0x202401=0x1*-0xfc4+0x11*-0x151+-0x573*-0x7;_0x202401<_0xe6940a['length'];_0x202401++){const _0x3b279e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x202401]);_0x3b279e&&_0x3b279e['removeShad'+'owCasters'](_0x28d4aa['meshInstan'+'ces']);}const _0x3293f5=_0x28d4aa['meshInstan'+'ces'];for(let _0x312155=-0x1*0x2329+-0x1cba*-0x1+0x66f;_0x312155<_0x3293f5['length'];_0x312155++)_0x3293f5[_0x312155]['castShadow']=_0x599339;if(!this['_castShado'+'ws']&&_0x599339)for(let _0x1a78c6=0xc21+-0x2*0x962+0x6a3;_0x1a78c6<_0xe6940a['length'];_0x1a78c6++){const _0x863c62=_0x2a4108['layers']['getLayerBy'+'Id'](_0xe6940a[_0x1a78c6]);_0x863c62&&_0x863c62['addShadowC'+'asters'](_0x28d4aa['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x599339;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x2f36b4){if(this['_receiveSh'+'adows']!==_0x2f36b4&&(this['_receiveSh'+'adows']=_0x2f36b4,this['_model'])){const _0x26df38=this['_model']['meshInstan'+'ces'];for(let _0x3a1b15=0xa*0x3c7+-0x15a9*-0x1+-0x3b6f,_0x2db453=_0x26df38['length'];_0x3a1b15<_0x2db453;_0x3a1b15++)_0x26df38[_0x3a1b15]['receiveSha'+'dow']=_0x2f36b4;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x13a953){this['_castShado'+'wsLightmap']=_0x13a953;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x446fb1){this['_lightmapS'+'izeMultipl'+'ier']=_0x446fb1;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x23f76a){const _0x2d407a=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x1f1373=0xdaf+0x3e3*-0x2+-0x5e9;_0x1f1373<this['_layers']['length'];_0x1f1373++){const _0x31f246=_0x2d407a['getLayerBy'+'Id'](this['_layers'][_0x1f1373]);_0x31f246&&_0x31f246['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x6d*-0x2b+-0x2348+-0x11*-0x327;for(let _0x5d41ce=0x32b*-0xa+0x1976*0x1+-0x2*-0x31c;_0x5d41ce<_0x23f76a['length'];_0x5d41ce++)this['_layers'][_0x5d41ce]=_0x23f76a[_0x5d41ce];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0xbbce8d=-0x247e+0x54b+0x1f33;_0xbbce8d<this['_layers']['length'];_0xbbce8d++){const _0x59085d=_0x2d407a['getLayerBy'+'Id'](this['_layers'][_0xbbce8d]);_0x59085d&&_0x59085d['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x393ca0){var _0x521e89,_0x5157be;this['_batchGrou'+'pId']!==_0x393ca0&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x2093+-0xe34+-0x1*0x125f&&((_0x521e89=this['system']['app']['batcher'])==null||_0x521e89['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x393ca0>=-0xd5c+0x153f+-0x7e3&&((_0x5157be=this['system']['app']['batcher'])==null||_0x5157be['insert'](et['MODEL'],_0x393ca0,this['entity'])),_0x393ca0<0x1d2e+0xf*0x235+-0x3e49&&this['_batchGrou'+'pId']>=0xa85+0x53e+-0xfc3&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x393ca0);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x321a09){let _0x4b8b71=_0x321a09;_0x321a09 instanceof le&&(_0x4b8b71=_0x321a09['id']);const _0x5033a9=this['system']['app']['assets'];if(_0x4b8b71!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x5033a9['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x3e2043=_0x5033a9['get'](this['_materialA'+'sset']);_0x3e2043&&this['_unbindMat'+'erialAsset'](_0x3e2043);}if(this['_materialA'+'sset']=_0x4b8b71,this['_materialA'+'sset']){const _0x3eef87=_0x5033a9['get'](this['_materialA'+'sset']);_0x3eef87?this['_bindMater'+'ialAsset'](_0x3eef87):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x5033a9['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x33ed4f){this['_material']!==_0x33ed4f&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x33ed4f));}get['material'](){return this['_material'];}set['mapping'](_0x58efa6){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x58efa6||(_0x58efa6={}),this['_mapping']=_0x58efa6,!this['_model']))return;const _0x34fdfc=this['_model']['meshInstan'+'ces'],_0x3cef03=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x3a45b5=_0x3cef03?_0x3cef03['data']['mapping']:null;let _0x5dff58=null;for(let _0x5244b8=0x20c9+-0x26d7+0x60e,_0x54d1c6=_0x34fdfc['length'];_0x5244b8<_0x54d1c6;_0x5244b8++)if(_0x58efa6[_0x5244b8]!==void(-0x1*0x46c+-0x192*-0x2+0x2*0xa4))_0x58efa6[_0x5244b8]?(_0x5dff58=this['system']['app']['assets']['get'](_0x58efa6[_0x5244b8]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x5dff58,_0x34fdfc[_0x5244b8],_0x5244b8)):_0x34fdfc[_0x5244b8]['material']=this['system']['defaultMat'+'erial'];else{if(_0x3a45b5){if(_0x3a45b5[_0x5244b8]&&(_0x3a45b5[_0x5244b8]['material']||_0x3a45b5[_0x5244b8]['path'])){if(_0x3a45b5[_0x5244b8]['material']!==void(0x1e5e+-0x1*0x1c0a+0x95*-0x4))_0x5dff58=this['system']['app']['assets']['get'](_0x3a45b5[_0x5244b8]['material']);else{if(_0x3a45b5[_0x5244b8]['path']!==void(0x783+-0x609*0x5+0x1*0x16aa)){const _0x131ed5=this['_getMateri'+'alAssetUrl'](_0x3a45b5[_0x5244b8]['path']);_0x131ed5&&(_0x5dff58=this['system']['app']['assets']['getByUrl'](_0x131ed5));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x5dff58,_0x34fdfc[_0x5244b8],_0x5244b8);}else _0x34fdfc[_0x5244b8]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x2f79dc=this['system']['app']['scene']['layers'];for(let _0x237998=0x86f+0x1*0x1da7+-0xa*0x3cf;_0x237998<this['_layers']['length'];_0x237998++){const _0x44befa=_0x2f79dc['getLayerBy'+'Id'](this['_layers'][_0x237998]);_0x44befa&&_0x44befa['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x1546a8=this['system']['app']['scene']['layers'];for(let _0x2fa602=-0x496+-0x63*-0x1+0x433;_0x2fa602<this['_layers']['length'];_0x2fa602++){const _0x3b5d36=_0x1546a8['getLayerBy'+'Id'](this['_layers'][_0x2fa602]);_0x3b5d36&&_0x3b5d36['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x11bc5b,_0x1ccb5c){this['addModelTo'+'Layers'](),_0x11bc5b['off']('add',this['onLayerAdd'+'ed'],this),_0x11bc5b['off']('remove',this['onLayerRem'+'oved'],this),_0x1ccb5c['on']('add',this['onLayerAdd'+'ed'],this),_0x1ccb5c['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x48b41a){this['layers']['indexOf'](_0x48b41a['id'])<0x1055+0x1c79*-0x1+0xc24||_0x48b41a['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x5c87a5){this['layers']['indexOf'](_0x5c87a5['id'])<0x252+-0x1*-0x10c+-0x35e||_0x5c87a5['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x119f80,_0xf9f86e,_0x17fce5,_0x506f0e){const _0x2aa8ff=_0xf9f86e+':'+_0x17fce5;this['system']['app']['assets']['on'](_0x2aa8ff,_0x506f0e,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x119f80]||(this['_materialE'+'vents'][_0x119f80]={}),this['_materialE'+'vents'][_0x119f80][_0x2aa8ff]={'id':_0x17fce5,'handler':_0x506f0e};}['_unsetMate'+'rialEvents'](){const _0x5d0237=this['system']['app']['assets'],_0xa2ad04=this['_materialE'+'vents'];if(_0xa2ad04){for(let _0x519d1f=-0x5d2+0x5d0+0x1*0x2,_0xb4408e=_0xa2ad04['length'];_0x519d1f<_0xb4408e;_0x519d1f++){if(!_0xa2ad04[_0x519d1f])continue;const _0x18f4c4=_0xa2ad04[_0x519d1f];for(const _0x30d793 in _0x18f4c4)_0x5d0237['off'](_0x30d793,_0x18f4c4[_0x30d793]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0xe7bc1c){let _0x47df91=null;if(!isNaN(parseInt(_0xe7bc1c,-0x236*-0x5+0x1897+-0x239b)))_0x47df91=this['system']['app']['assets']['get'](_0xe7bc1c);else{if(this['asset']){const _0xc97fbe=this['_getMateri'+'alAssetUrl'](_0xe7bc1c);_0xc97fbe&&(_0x47df91=this['system']['app']['assets']['getByUrl'](_0xc97fbe));}}return _0x47df91;}['_getMateri'+'alAssetUrl'](_0x39caf9){if(!this['asset'])return null;const _0x38a43d=this['system']['app']['assets']['get'](this['asset']);return _0x38a43d?_0x38a43d['getAbsolut'+'eUrl'](_0x39caf9):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x56dcdc,_0x4ad341,_0x15add1){const _0x1dc1d4=this['system']['app']['assets'];_0x56dcdc&&(_0x56dcdc['resource']?(_0x4ad341['material']=_0x56dcdc['resource'],this['_setMateri'+'alEvent'](_0x15add1,'remove',_0x56dcdc['id'],function(){_0x4ad341['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x15add1,'load',_0x56dcdc['id'],function(_0x13b269){_0x4ad341['material']=_0x13b269['resource'],this['_setMateri'+'alEvent'](_0x15add1,'remove',_0x56dcdc['id'],function(){_0x4ad341['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x1dc1d4['load'](_0x56dcdc)));}['onEnable'](){var _0x3a5edd;const _0x4c4406=this['system']['app'],_0x1082d0=_0x4c4406['scene'],_0x3f5e06=_0x1082d0==null?void(0x1*-0x1cb7+-0x16ed*0x1+0x33a4):_0x1082d0['layers'];this['_evtLayers'+'Changed']=_0x1082d0['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3f5e06&&(this['_evtLayerA'+'dded']=_0x3f5e06['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3f5e06['on']('remove',this['onLayerRem'+'oved'],this));const _0x5dbac6=this['_type']==='asset';let _0x4d4a33;if(this['_model']?this['addModelTo'+'Layers']():_0x5dbac6&&this['_asset']&&(_0x4d4a33=_0x4c4406['assets']['get'](this['_asset']),_0x4d4a33&&_0x4d4a33['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x4d4a33)),this['_materialA'+'sset']&&(_0x4d4a33=_0x4c4406['assets']['get'](this['_materialA'+'sset']),_0x4d4a33&&_0x4d4a33['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x4d4a33)),_0x5dbac6&&this['_mapping']){for(const _0x525222 in this['_mapping'])this['_mapping'][_0x525222]&&(_0x4d4a33=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x525222]),_0x4d4a33&&!_0x4d4a33['resource']&&_0x4c4406['assets']['load'](_0x4d4a33));}this['_batchGrou'+'pId']>=-0x244+0x5*-0x2ed+-0x19*-0xad&&((_0x3a5edd=_0x4c4406['batcher'])==null||_0x3a5edd['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x15fa78,_0x19e79f,_0x3e79e4,_0x291186;const _0x491c1e=this['system']['app'],_0x25f251=_0x491c1e['scene']['layers'];(_0x15fa78=this['_evtLayers'+'Changed'])==null||_0x15fa78['off'](),this['_evtLayers'+'Changed']=null,_0x25f251&&((_0x19e79f=this['_evtLayerA'+'dded'])==null||_0x19e79f['off'](),this['_evtLayerA'+'dded']=null,(_0x3e79e4=this['_evtLayerR'+'emoved'])==null||_0x3e79e4['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x1*-0xe3+0x4*-0x944+0x25f3&&((_0x291186=_0x491c1e['batcher'])==null||_0x291186['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x2c0eef=this['_model']['meshInstan'+'ces'];for(let _0x5d1854=0x2421+-0x24e9*-0x1+-0x490a,_0x10f24b=_0x2c0eef['length'];_0x5d1854<_0x10f24b;_0x5d1854++)_0x2c0eef[_0x5d1854]['visible']=!(0xe4+0x2*0xca+-0x1*0x277);}}['show'](){if(this['_model']){const _0x12a797=this['_model']['meshInstan'+'ces'];for(let _0x2ad59f=-0xe5d+-0x250e+0x336b,_0x42e00c=_0x12a797['length'];_0x2ad59f<_0x42e00c;_0x2ad59f++)_0x12a797[_0x2ad59f]['visible']=!(0xf33+0x3*0x128+-0x12ab);}}['_bindMater'+'ialAsset'](_0x4b032f){if(_0x4b032f['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x4b032f['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x4b032f['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x4b032f['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x4b032f['resource'])this['_onMateria'+'lAssetLoad'](_0x4b032f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4b032f);}}['_unbindMat'+'erialAsset'](_0x4b5888){_0x4b5888['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x4b5888['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x4b5888['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x4b5888['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x6c329a){this['system']['app']['assets']['off']('add:'+_0x6c329a['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x6c329a['id']&&this['_bindMater'+'ialAsset'](_0x6c329a);}['_onMateria'+'lAssetLoad'](_0x16c913){this['_setMateri'+'al'](_0x16c913['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x1d50bb){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x437b51){this['_onMateria'+'lAssetUnlo'+'ad'](_0x437b51);}['_onMateria'+'lAssetChan'+'ge'](_0x19eb94){}['_bindModel'+'Asset'](_0x383759){if(this['_unbindMod'+'elAsset'](_0x383759),_0x383759['on']('load',this['_onModelAs'+'setLoad'],this),_0x383759['on']('unload',this['_onModelAs'+'setUnload'],this),_0x383759['on']('change',this['_onModelAs'+'setChange'],this),_0x383759['on']('remove',this['_onModelAs'+'setRemove'],this),_0x383759['resource'])this['_onModelAs'+'setLoad'](_0x383759);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x383759);}}['_unbindMod'+'elAsset'](_0xe241e0){_0xe241e0['off']('load',this['_onModelAs'+'setLoad'],this),_0xe241e0['off']('unload',this['_onModelAs'+'setUnload'],this),_0xe241e0['off']('change',this['_onModelAs'+'setChange'],this),_0xe241e0['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x21fb80){this['system']['app']['assets']['off']('add:'+_0x21fb80['id'],this['_onModelAs'+'setAdded'],this),_0x21fb80['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x21fb80);}['_onModelAs'+'setLoad'](_0x21659c){this['model']=_0x21659c['resource']['clone'](),this['_clonedMod'+'el']=!(0x1238+0x124*0x4+-0x16c8);}['_onModelAs'+'setUnload'](_0x11e380){this['model']=null;}['_onModelAs'+'setChange'](_0x4c96e8,_0x31cd50,_0xa1c8d2,_0x35871f){_0x31cd50==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x2eb829){this['model']=null;}['_setMateri'+'al'](_0x2461be){if(this['_material']===_0x2461be)return;this['_material']=_0x2461be;const _0x2576be=this['_model'];if(_0x2576be&&this['_type']!=='asset'){const _0x182a64=_0x2576be['meshInstan'+'ces'];for(let _0x22bd0b=0xba7*0x1+-0x66e*0x2+0x135,_0x4d3254=_0x182a64['length'];_0x22bd0b<_0x4d3254;_0x22bd0b++)_0x182a64[_0x22bd0b]['material']=_0x2461be;}}}class sI{constructor(){this['enabled']=!(0xc2b+-0x9*0x251+0x8ae);}}const ux=['enabled'];class iI extends Xe{constructor(_0x463c3f){super(_0x463c3f),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x463c3f['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x454c5a,_0x3b2d7a,_0x11cfd6){_0x11cfd6=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x3b2d7a['batchGroup'+'Id']===null||_0x3b2d7a['batchGroup'+'Id']===void(-0x1171+0xe94+0x2dd))&&(_0x3b2d7a['batchGroup'+'Id']=-(-0x14aa*0x1+-0x1*-0x22ed+-0xe42)),_0x3b2d7a['layers']&&_0x3b2d7a['layers']['length']&&(_0x3b2d7a['layers']=_0x3b2d7a['layers']['slice'](-0x82d+0x25ed+-0x1dc0));for(let _0x52f33b=0x3*-0xce3+-0x12dd+0x1*0x3986;_0x52f33b<_0x11cfd6['length'];_0x52f33b++)_0x3b2d7a['hasOwnProp'+'erty'](_0x11cfd6[_0x52f33b])&&(_0x454c5a[_0x11cfd6[_0x52f33b]]=_0x3b2d7a[_0x11cfd6[_0x52f33b]]);_0x3b2d7a['aabbCenter']&&_0x3b2d7a['aabbHalfEx'+'tents']&&(_0x454c5a['customAabb']=new _e(new T(_0x3b2d7a['aabbCenter']),new T(_0x3b2d7a['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x454c5a,_0x3b2d7a,['enabled']);}['cloneCompo'+'nent'](_0x7369a3,_0x52add4){const _0x2f32fe={'type':_0x7369a3['model']['type'],'asset':_0x7369a3['model']['asset'],'castShadows':_0x7369a3['model']['castShadow'+'s'],'receiveShadows':_0x7369a3['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x7369a3['model']['castShadow'+'sLightmap'],'lightmapped':_0x7369a3['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x7369a3['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x7369a3['model']['isStatic'],'enabled':_0x7369a3['model']['enabled'],'layers':_0x7369a3['model']['layers'],'batchGroupId':_0x7369a3['model']['batchGroup'+'Id'],'mapping':vh({},_0x7369a3['model']['mapping'])};let _0x1309c6=_0x7369a3['model']['materialAs'+'set'];!(_0x1309c6 instanceof le)&&_0x1309c6!=null&&(_0x1309c6=this['app']['assets']['get'](_0x1309c6));const _0x9422af=_0x7369a3['model']['material'];(!_0x9422af||_0x9422af===this['defaultMat'+'erial']||!_0x1309c6||_0x9422af===_0x1309c6['resource'])&&(_0x2f32fe['materialAs'+'set']=_0x1309c6);const _0x4e0b47=this['addCompone'+'nt'](_0x52add4,_0x2f32fe);if(_0x7369a3['model']['model']&&_0x7369a3['model']['type']==='asset'&&!_0x7369a3['model']['asset']&&(_0x4e0b47['model']=_0x7369a3['model']['model']['clone'](),_0x4e0b47['_clonedMod'+'el']=!(0x589+0x1*0x3a9+-0x932)),_0x2f32fe['materialAs'+'set']||(_0x4e0b47['material']=_0x9422af),_0x7369a3['model']['model']){const _0x5b6203=_0x7369a3['model']['model']['meshInstan'+'ces'],_0x2b8cad=_0x4e0b47['model']['meshInstan'+'ces'];for(let _0x1646e4=-0x1b45*-0x1+0x1909+0xce*-0x41;_0x1646e4<_0x5b6203['length'];_0x1646e4++)_0x2b8cad[_0x1646e4]['mask']=_0x5b6203[_0x1646e4]['mask'],_0x2b8cad[_0x1646e4]['material']=_0x5b6203[_0x1646e4]['material'],_0x2b8cad[_0x1646e4]['layer']=_0x5b6203[_0x1646e4]['layer'],_0x2b8cad[_0x1646e4]['receiveSha'+'dow']=_0x5b6203[_0x1646e4]['receiveSha'+'dow'];}return _0x7369a3['model']['customAabb']&&(_0x4e0b47['customAabb']=_0x7369a3['model']['customAabb']['clone']()),_0x4e0b47;}['onRemove'](_0x3001ec,_0x24a333){_0x24a333['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0x363c62,_0x17b61c){super(_0x363c62,_0x17b61c),c(this,'_requested'+'Depth',!(-0x1*-0x169b+0x817+-0x1eb1*0x1)),c(this,'_drawOrder',-0x1a05*0x1+0x1605+0x40*0x10),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0x4ca135=>{this['on']('set_'+_0x4ca135,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0xe12dc5=>{this['on']('set_'+_0xe12dc5,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x54d11c=>{this['on']('set_'+_0x54d11c,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x2ef7a1=this['system']['store'][this['entity']['getGuid']()];return _0x2ef7a1?_0x2ef7a1['data']:null;}set['enabled'](_0x5d79e7){this['_setValue']('enabled',_0x5d79e7);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x5d302a){this['_setValue']('autoPlay',_0x5d302a);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x156937){this['_setValue']('numParticl'+'es',_0x156937);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x4c2635){this['_setValue']('lifetime',_0x4c2635);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x4f9062){this['_setValue']('rate',_0x4f9062);}get['rate'](){return this['data']['rate'];}set['rate2'](_0xd14aa4){this['_setValue']('rate2',_0xd14aa4);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x3664e3){this['_setValue']('startAngle',_0x3664e3);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x1c2c91){this['_setValue']('startAngle'+'2',_0x1c2c91);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x6f283c){this['_setValue']('loop',_0x6f283c);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0xd6cd8c){this['_setValue']('preWarm',_0xd6cd8c);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x4ca4b2){this['_setValue']('lighting',_0x4ca4b2);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x2b46d8){this['_setValue']('halfLamber'+'t',_0x2b46d8);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x2a8236){this['_setValue']('intensity',_0x2a8236);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x55f7d5){this['_setValue']('depthWrite',_0x55f7d5);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x214c47){this['_setValue']('noFog',_0x214c47);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x51807f){this['_setValue']('depthSofte'+'ning',_0x51807f);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x4a5cbc){this['_setValue']('sort',_0x4a5cbc);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x3f5394){this['_setValue']('blendType',_0x3f5394);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x5d3256){this['_setValue']('stretch',_0x5d3256);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x31ff6d){this['_setValue']('alignToMot'+'ion',_0x31ff6d);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x32e60c){this['_setValue']('emitterSha'+'pe',_0x32e60c);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x33cb13){this['_setValue']('emitterExt'+'ents',_0x33cb13);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x1acc21){this['_setValue']('emitterExt'+'entsInner',_0x1acc21);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0xb6e4ca){this['_setValue']('emitterRad'+'ius',_0xb6e4ca);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x568e3e){this['_setValue']('emitterRad'+'iusInner',_0x568e3e);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x3f4920){this['_setValue']('initialVel'+'ocity',_0x3f4920);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x2081c5){this['_setValue']('wrap',_0x2081c5);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x52efc6){this['_setValue']('wrapBounds',_0x52efc6);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x1eaa28){this['_setValue']('localSpace',_0x1eaa28);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x5d1558){this['_setValue']('screenSpac'+'e',_0x5d1558);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x1f1c9b){this['_setValue']('colorMapAs'+'set',_0x1f1c9b);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x359eff){this['_setValue']('normalMapA'+'sset',_0x359eff);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x41223d){this['_setValue']('mesh',_0x41223d);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x3ef81a){this['_setValue']('meshAsset',_0x3ef81a);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x58c082){this['_setValue']('renderAsse'+'t',_0x58c082);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x322250){this['_setValue']('orientatio'+'n',_0x322250);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x311bdd){this['_setValue']('particleNo'+'rmal',_0x311bdd);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x2b293f){this['_setValue']('localVeloc'+'ityGraph',_0x2b293f);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x1d4b26){this['_setValue']('localVeloc'+'ityGraph2',_0x1d4b26);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x230b43){this['_setValue']('velocityGr'+'aph',_0x230b43);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x11a4e0){this['_setValue']('velocityGr'+'aph2',_0x11a4e0);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x40952d){this['_setValue']('rotationSp'+'eedGraph',_0x40952d);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x2ab151){this['_setValue']('rotationSp'+'eedGraph2',_0x2ab151);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x9c1813){this['_setValue']('radialSpee'+'dGraph',_0x9c1813);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x5c435d){this['_setValue']('radialSpee'+'dGraph2',_0x5c435d);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x35c75e){this['_setValue']('scaleGraph',_0x35c75e);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x1653dc){this['_setValue']('scaleGraph'+'2',_0x1653dc);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x1ec75b){this['_setValue']('colorGraph',_0x1ec75b);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x51bb8a){this['_setValue']('colorGraph'+'2',_0x51bb8a);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x36d59c){this['_setValue']('alphaGraph',_0x36d59c);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x51ee57){this['_setValue']('alphaGraph'+'2',_0x51ee57);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x44025f){this['_setValue']('colorMap',_0x44025f);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x4d47e7){this['_setValue']('normalMap',_0x4d47e7);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x57a16a){this['_setValue']('animTilesX',_0x57a16a);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x87a040){this['_setValue']('animTilesY',_0x87a040);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x5f3508){this['_setValue']('animStartF'+'rame',_0x5f3508);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0xf2f4d8){this['_setValue']('animNumFra'+'mes',_0xf2f4d8);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x16f77d){this['_setValue']('animNumAni'+'mations',_0x16f77d);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x59f7eb){this['_setValue']('animIndex',_0x59f7eb);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x26d3b7){this['_setValue']('randomizeA'+'nimIndex',_0x26d3b7);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x20619a){this['_setValue']('animSpeed',_0x20619a);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x950f64){this['_setValue']('animLoop',_0x950f64);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x41095e){this['_setValue']('layers',_0x41095e);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x2c7fac){this['_drawOrder']=_0x2c7fac,this['emitter']&&(this['emitter']['drawOrder']=_0x2c7fac);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x241b7c,_0x568930){const _0x55fac1=this['data'],_0x2b7b2f=_0x55fac1[_0x241b7c];_0x55fac1[_0x241b7c]=_0x568930,this['fire']('set',_0x241b7c,_0x2b7b2f,_0x568930);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x1153d2=0xaa2*0x1+-0x27*0x81+0x905;_0x1153d2<this['layers']['length'];_0x1153d2++){const _0x5969fb=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1153d2]);_0x5969fb&&(_0x5969fb['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x5969fb);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x52d5fb=0x247+-0x1d52+0x1b0b;_0x52d5fb<this['layers']['length'];_0x52d5fb++){const _0x29e1e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x52d5fb]);_0x29e1e&&_0x29e1e['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x62b40a,_0x5bb82a,_0x1de9cc){if(this['emitter']){for(let _0xf3d17a=-0x96e+-0x1*-0x1ab4+-0x8a3*0x2;_0xf3d17a<_0x5bb82a['length'];_0xf3d17a++){const _0x1a01ae=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5bb82a[_0xf3d17a]);_0x1a01ae&&_0x1a01ae['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x2cb01e=-0x1*-0x13af+0x32f+0x16de*-0x1;_0x2cb01e<_0x1de9cc['length'];_0x2cb01e++){const _0x53b8b2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x1de9cc[_0x2cb01e]);_0x53b8b2&&_0x53b8b2['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x4ba46f,_0x2078fd){this['addMeshIns'+'tanceToLay'+'ers'](),_0x4ba46f['off']('add',this['onLayerAdd'+'ed'],this),_0x4ba46f['off']('remove',this['onLayerRem'+'oved'],this),_0x2078fd['on']('add',this['onLayerAdd'+'ed'],this),_0x2078fd['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4faebc){!this['emitter']||this['layers']['indexOf'](_0x4faebc['id'])<0x25bd+0x17dc+0xd*-0x4bd||_0x4faebc['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x3c6957){!this['emitter']||this['layers']['indexOf'](_0x3c6957['id'])<0x36a+-0x156a+-0x300*-0x6||_0x3c6957['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x575fd5){if(_0x575fd5['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x575fd5['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x575fd5['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x575fd5['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x575fd5['resource'])this['_onColorMa'+'pAssetLoad'](_0x575fd5);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x575fd5);}}['_unbindCol'+'orMapAsset'](_0x59f5c7){_0x59f5c7['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x59f5c7['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x59f5c7['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x59f5c7['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x3e4a21){this['colorMap']=_0x3e4a21['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x3706ff){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x1c000d){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x1c000d);}['_onColorMa'+'pAssetChan'+'ge'](_0xe99257){}['onSetColor'+'MapAsset'](_0x20d521,_0xfd989f,_0x8b111f){const _0x18cc83=this['system']['app']['assets'];if(_0xfd989f){const _0x1880c1=_0x18cc83['get'](_0xfd989f);_0x1880c1&&this['_unbindCol'+'orMapAsset'](_0x1880c1);}if(_0x8b111f){_0x8b111f instanceof le&&(this['data']['colorMapAs'+'set']=_0x8b111f['id'],_0x8b111f=_0x8b111f['id']);const _0x5999b4=_0x18cc83['get'](_0x8b111f);_0x5999b4?this['_bindColor'+'MapAsset'](_0x5999b4):_0x18cc83['once']('add:'+_0x8b111f,_0x3a459c=>{this['_bindColor'+'MapAsset'](_0x3a459c);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x38dc76){if(_0x38dc76['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x38dc76['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x38dc76['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x38dc76['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x38dc76['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x38dc76);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x38dc76);}}['_unbindNor'+'malMapAsse'+'t'](_0x52a985){_0x52a985['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x52a985['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x52a985['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x52a985['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x658421){this['normalMap']=_0x658421['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x36b67a){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x122389){this['_onNormalM'+'apAssetUnl'+'oad'](_0x122389);}['_onNormalM'+'apAssetCha'+'nge'](_0x2670bc){}['onSetNorma'+'lMapAsset'](_0x377351,_0x2fe50c,_0x1f502c){const _0x436638=this['system']['app']['assets'];if(_0x2fe50c){const _0x580a79=_0x436638['get'](_0x2fe50c);_0x580a79&&this['_unbindNor'+'malMapAsse'+'t'](_0x580a79);}if(_0x1f502c){_0x1f502c instanceof le&&(this['data']['normalMapA'+'sset']=_0x1f502c['id'],_0x1f502c=_0x1f502c['id']);const _0x2723ec=_0x436638['get'](_0x1f502c);_0x2723ec?this['_bindNorma'+'lMapAsset'](_0x2723ec):_0x436638['once']('add:'+_0x1f502c,_0x438b3a=>{this['_bindNorma'+'lMapAsset'](_0x438b3a);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x43da8d){if(_0x43da8d['on']('load',this['_onMeshAss'+'etLoad'],this),_0x43da8d['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x43da8d['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x43da8d['on']('change',this['_onMeshAss'+'etChange'],this),_0x43da8d['resource'])this['_onMeshAss'+'etLoad'](_0x43da8d);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x43da8d);}}['_unbindMes'+'hAsset'](_0xcc861f){_0xcc861f['off']('load',this['_onMeshAss'+'etLoad'],this),_0xcc861f['off']('unload',this['_onMeshAss'+'etUnload'],this),_0xcc861f['off']('remove',this['_onMeshAss'+'etRemove'],this),_0xcc861f['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x28a591){this['_onMeshCha'+'nged'](_0x28a591['resource']);}['_onMeshAss'+'etUnload'](_0x396281){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x270331){this['_onMeshAss'+'etUnload'](_0x270331);}['_onMeshAss'+'etChange'](_0x5bd0a1){}['onSetMeshA'+'sset'](_0x5c0aba,_0x1e52c7,_0x1f1e49){const _0x25da72=this['system']['app']['assets'];if(_0x1e52c7){const _0x24b8f5=_0x25da72['get'](_0x1e52c7);_0x24b8f5&&this['_unbindMes'+'hAsset'](_0x24b8f5);}if(_0x1f1e49){_0x1f1e49 instanceof le&&(this['data']['meshAsset']=_0x1f1e49['id'],_0x1f1e49=_0x1f1e49['id']);const _0x350fe5=_0x25da72['get'](_0x1f1e49);_0x350fe5&&this['_bindMeshA'+'sset'](_0x350fe5);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0xd1b3e,_0x19e7ab,_0x5207b6){!_0x5207b6||_0x5207b6 instanceof le||typeof _0x5207b6=='number'?this['meshAsset']=_0x5207b6:this['_onMeshCha'+'nged'](_0x5207b6);}['_onMeshCha'+'nged'](_0x59bd95){_0x59bd95&&!(_0x59bd95 instanceof Ie)&&(_0x59bd95['meshInstan'+'ces'][0x5ec+-0x21af*0x1+0x1bc3]?_0x59bd95=_0x59bd95['meshInstan'+'ces'][0x1*-0xa3d+-0x179f+0xc5*0x2c]['mesh']:_0x59bd95=null),this['data']['mesh']=_0x59bd95,this['emitter']&&(this['emitter']['mesh']=_0x59bd95,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x8f3ecc,_0x2028a6,_0xedb732){const _0xf736c2=this['system']['app']['assets'];if(_0x2028a6){const _0x3f4e8e=_0xf736c2['get'](_0x2028a6);_0x3f4e8e&&this['_unbindRen'+'derAsset'](_0x3f4e8e);}if(_0xedb732){_0xedb732 instanceof le&&(this['data']['renderAsse'+'t']=_0xedb732['id'],_0xedb732=_0xedb732['id']);const _0x2c1e20=_0xf736c2['get'](_0xedb732);_0x2c1e20&&this['_bindRende'+'rAsset'](_0x2c1e20);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x1be131){if(_0x1be131['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x1be131['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x1be131['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x1be131['resource'])this['_onRenderA'+'ssetLoad'](_0x1be131);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1be131);}}['_unbindRen'+'derAsset'](_0x121622){var _0x2e5e76;_0x121622['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x121622['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x121622['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x2e5e76=this['_evtSetMes'+'hes'])==null||_0x2e5e76['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x4ae602){this['_onRenderC'+'hanged'](_0x4ae602['resource']);}['_onRenderA'+'ssetUnload'](_0xac3796){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x2d4188){this['_onRenderA'+'ssetUnload'](_0x2d4188);}['_onRenderC'+'hanged'](_0x5f27c6){var _0x5a8662;if(!_0x5f27c6){this['_onMeshCha'+'nged'](null);return;}(_0x5a8662=this['_evtSetMes'+'hes'])==null||_0x5a8662['off'](),this['_evtSetMes'+'hes']=_0x5f27c6['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x5f27c6['meshes']&&this['_onRenderS'+'etMeshes'](_0x5f27c6['meshes']);}['_onRenderS'+'etMeshes'](_0x4fa685){this['_onMeshCha'+'nged'](_0x4fa685&&_0x4fa685[0x1*-0x13aa+-0x23fc+0x37a6]);}['onSetLoop'](_0x4b34b4,_0x140d78,_0x4aca3e){this['emitter']&&(this['emitter'][_0x4b34b4]=_0x4aca3e,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x2e46bf,_0x5c1e00,_0x111ff8){this['emitter']&&(this['emitter'][_0x2e46bf]=_0x111ff8,this['emitter']['material']['blendType']=_0x111ff8,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x2599+0x1d69+0x830)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x1f74+0x1*-0x5c9+0x253e));}['onSetDepth'+'Softening'](_0x2c61a0,_0x51fad8,_0x2c5a76){_0x51fad8!==_0x2c5a76&&(_0x2c5a76?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x2c61a0]=_0x2c5a76)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x2c61a0]=_0x2c5a76)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x3f20fa,_0x2e89f2,_0x5894f8){this['emitter']&&(this['emitter'][_0x3f20fa]=_0x5894f8,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x5e3447,_0x1a730c,_0x326d35){this['emitter']&&(this['emitter'][_0x5e3447]=_0x326d35,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0xf6723e,_0x2a71df,_0x8f8d14){this['emitter']&&(this['emitter'][_0xf6723e]=_0x8f8d14,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x34c28b=this['system']['app']['scene'],_0x4af7a4=_0x34c28b['layers'],_0xd24e22=this['data'];for(let _0x24fbe9=-0x2e5+-0x1b23+0x8*0x3c1,_0x2ab716=Zl['length'];_0x24fbe9<_0x2ab716;_0x24fbe9++){let _0x1a6c8d=_0xd24e22[Zl[_0x24fbe9]];if(_0x1a6c8d){if(!(_0x1a6c8d instanceof le)){if(parseInt(_0x1a6c8d,0x9e3+0x4bd+-0xe96)>=-0x10*-0x19a+-0xe16+-0x5c5*0x2)_0x1a6c8d=this['system']['app']['assets']['get'](_0x1a6c8d);else continue;}_0x1a6c8d&&!_0x1a6c8d['resource']&&this['system']['app']['assets']['load'](_0x1a6c8d);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x1695d0=_0xd24e22['mesh'];_0x1695d0 instanceof Ie||(_0x1695d0=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0xd24e22['numParticl'+'es'],'emitterExtents':_0xd24e22['emitterExt'+'ents'],'emitterExtentsInner':_0xd24e22['emitterExt'+'entsInner'],'emitterRadius':_0xd24e22['emitterRad'+'ius'],'emitterRadiusInner':_0xd24e22['emitterRad'+'iusInner'],'emitterShape':_0xd24e22['emitterSha'+'pe'],'initialVelocity':_0xd24e22['initialVel'+'ocity'],'wrap':_0xd24e22['wrap'],'localSpace':_0xd24e22['localSpace'],'screenSpace':_0xd24e22['screenSpac'+'e'],'wrapBounds':_0xd24e22['wrapBounds'],'lifetime':_0xd24e22['lifetime'],'rate':_0xd24e22['rate'],'rate2':_0xd24e22['rate2'],'orientation':_0xd24e22['orientatio'+'n'],'particleNormal':_0xd24e22['particleNo'+'rmal'],'animTilesX':_0xd24e22['animTilesX'],'animTilesY':_0xd24e22['animTilesY'],'animStartFrame':_0xd24e22['animStartF'+'rame'],'animNumFrames':_0xd24e22['animNumFra'+'mes'],'animNumAnimations':_0xd24e22['animNumAni'+'mations'],'animIndex':_0xd24e22['animIndex'],'randomizeAnimIndex':_0xd24e22['randomizeA'+'nimIndex'],'animSpeed':_0xd24e22['animSpeed'],'animLoop':_0xd24e22['animLoop'],'startAngle':_0xd24e22['startAngle'],'startAngle2':_0xd24e22['startAngle'+'2'],'scaleGraph':_0xd24e22['scaleGraph'],'scaleGraph2':_0xd24e22['scaleGraph'+'2'],'colorGraph':_0xd24e22['colorGraph'],'colorGraph2':_0xd24e22['colorGraph'+'2'],'alphaGraph':_0xd24e22['alphaGraph'],'alphaGraph2':_0xd24e22['alphaGraph'+'2'],'localVelocityGraph':_0xd24e22['localVeloc'+'ityGraph'],'localVelocityGraph2':_0xd24e22['localVeloc'+'ityGraph2'],'velocityGraph':_0xd24e22['velocityGr'+'aph'],'velocityGraph2':_0xd24e22['velocityGr'+'aph2'],'rotationSpeedGraph':_0xd24e22['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0xd24e22['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0xd24e22['radialSpee'+'dGraph'],'radialSpeedGraph2':_0xd24e22['radialSpee'+'dGraph2'],'colorMap':_0xd24e22['colorMap'],'normalMap':_0xd24e22['normalMap'],'loop':_0xd24e22['loop'],'preWarm':_0xd24e22['preWarm'],'sort':_0xd24e22['sort'],'stretch':_0xd24e22['stretch'],'alignToMotion':_0xd24e22['alignToMot'+'ion'],'lighting':_0xd24e22['lighting'],'halfLambert':_0xd24e22['halfLamber'+'t'],'intensity':_0xd24e22['intensity'],'depthSoftening':_0xd24e22['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x1695d0,'depthWrite':_0xd24e22['depthWrite'],'noFog':_0xd24e22['noFog'],'node':this['entity'],'blendType':_0xd24e22['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0xd24e22['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x208+0x9*-0x1c6+0xdef));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x34c28b['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4af7a4&&(this['_evtLayerA'+'dded']=_0x4af7a4['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4af7a4['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0xd24e22['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x5cbc9e,_0x5cfc7c,_0x50f78d;const _0x4e563f=this['system']['app']['scene']['layers'];(_0x5cbc9e=this['_evtLayers'+'Changed'])==null||_0x5cbc9e['off'](),this['_evtLayers'+'Changed']=null,_0x4e563f&&((_0x5cfc7c=this['_evtLayerA'+'dded'])==null||_0x5cfc7c['off'](),this['_evtLayerA'+'dded']=null,(_0x50f78d=this['_evtLayerR'+'emoved'])==null||_0x50f78d['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x2*-0xc32+-0xe9*-0x1f+-0x3d2)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x567226=-0x545+0x2469+-0x1f24;_0x567226<Zl['length'];_0x567226++){const _0x3ce77d=Zl[_0x567226];this['data'][_0x3ce77d]&&(this[_0x3ce77d]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x94d+0x22d3+-0x2c1f),this['emitter']['resetTime'](),this['emitter']['addTime'](-0xeb+0xd*-0x6f+0x347*0x2,!(0x55*0x1a+-0xc*-0x182+0x26e*-0xb)));}['pause'](){this['data']['paused']=!(-0x22b6+-0x4f*-0x4a+0xbe0);}['unpause'](){this['data']['paused']=!(-0x2*-0x31a+-0x9f2*-0x2+-0x1a17);}['play'](){this['data']['paused']=!(0x4b8+-0xa62*-0x1+0x5*-0x305),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0xbf*0x2+0x5*-0x496+-0x61b*-0x4),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x26a6+-0x1196+-0x150f*0x1):this['emitter']&&this['emitter']['loop']?!(0x1a12+-0x3c2*0x8+0x3fe):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x4f607f}=this;_0x4f607f&&!_0x4f607f['inTools']&&(_0x4f607f['inTools']=!(0x2f9*0x1+-0x24ef+0x21f6),this['rebuild']());}['rebuild'](){const _0x36f4ff=this['enabled'];this['enabled']=!(-0x1cd*-0xc+-0x155*0x4+0x1cf*-0x9),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x36f4ff;}}class lI{constructor(){this['numParticl'+'es']=0xf0a+0xf09*-0x2+0x503*0x3,this['rate']=-0xa*0x161+0x2*-0xb65+-0x1*-0x2495,this['rate2']=null,this['startAngle']=-0x2b*-0xb5+-0x11*-0x91+-0x2808,this['startAngle'+'2']=null,this['lifetime']=0x949*-0x3+-0x3bc+0x1fc9*0x1,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=-0x12a+-0x20aa+-0x10ea*-0x2,this['emitterRad'+'iusInner']=-0x1f35+0xb7b+0x13ba,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=-0xe06+0x1*0x83+0xd83,this['wrap']=!(-0x1588+-0xc5+0x164e),this['wrapBounds']=new T(),this['localSpace']=!(-0x51b*0x7+-0x3*-0x86e+0xa74),this['screenSpac'+'e']=!(-0x1eb6+-0x1058+0x6b9*0x7),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x6*0xa2+-0xaa9+-0x1*-0xe75),this['preWarm']=!(0x1*-0x1499+-0x1008+0x1*0x24a2),this['sort']=0x142e+-0x22c*0x3+0x6a*-0x21,this['mode']=d0,this['scene']=null,this['lighting']=!(-0xccc+-0x1fb5+0x1641*0x2),this['halfLamber'+'t']=!(-0x72e+-0x5fb+0x151*0xa),this['intensity']=0x2646*-0x1+0x12a*-0x4+0x2aef,this['stretch']=0x11f+0x78f+-0x8ae,this['alignToMot'+'ion']=!(-0x2*-0x11b+0x21ee+-0x13f*0x1d),this['depthSofte'+'ning']=0x223*0x1+-0x43*0x95+-0x7*-0x544,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x91e+0x23ca*0x1+-0x1aab),this['noFog']=!(0x1061*0x2+-0x1*0x1c2d+-0x494),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(-0x1208+0x2b*0x6d+-0x47,0xc71+-0x14a7+-0x1*-0x837,-0x1*0x967+0x219c+0x1*-0x1835),this['animTilesX']=0x2565+-0x3ed*-0x4+-0xd46*0x4,this['animTilesY']=0x11*0x43+-0xd8+-0x39a,this['animStartF'+'rame']=0x2c*0x48+0xf1*0xc+-0x17ac,this['animNumFra'+'mes']=-0x83*-0x31+-0x184+-0x178e,this['animNumAni'+'mations']=0x2180+-0x1*0x2362+0x1e3*0x1,this['animIndex']=0x5*-0x18e+0xa95*0x2+-0x2*0x6b2,this['randomizeA'+'nimIndex']=!(-0x4*0x290+-0x8a5+0x52*0x3b),this['animSpeed']=-0x26f6+0xe98+0x185f,this['animLoop']=!(-0x2038+-0x1*-0x1327+0x45b*0x3),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(-0x43c*-0x6+-0x1*-0x13c5+-0x2d2d),this['paused']=!(-0x1*-0x15ef+0xd44+0x385*-0xa),this['autoPlay']=!(-0x5c0+-0x3*-0x95f+-0x479*0x5),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x3c3927){super(_0x3c3927),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x5836b7,_0x16a761,_0x2532e6){const _0x20db2d={};_0x2532e6=[];const _0x204605=this['propertyTy'+'pes'];(_0x16a761['mesh']instanceof le||typeof _0x16a761['mesh']=='number')&&(_0x16a761['meshAsset']=_0x16a761['mesh'],delete _0x16a761['mesh']);for(const _0x3e773f in _0x16a761){if(_0x16a761['hasOwnProp'+'erty'](_0x3e773f)&&(_0x2532e6['push'](_0x3e773f),_0x20db2d[_0x3e773f]=_0x16a761[_0x3e773f]),_0x204605[_0x3e773f]==='vec3')Array['isArray'](_0x20db2d[_0x3e773f])&&(_0x20db2d[_0x3e773f]=new T(_0x20db2d[_0x3e773f][0x4d*-0x61+0x1fea+-0x2bd*0x1],_0x20db2d[_0x3e773f][0x2139+0x641+0x7e5*-0x5],_0x20db2d[_0x3e773f][-0x1bc5*-0x1+0x1cb2+-0x95*0x61]));else{if(_0x204605[_0x3e773f]==='curve'){if(!(_0x20db2d[_0x3e773f]instanceof Cs)){const _0x4bf5c4=_0x20db2d[_0x3e773f]['type'];_0x20db2d[_0x3e773f]=new Cs(_0x20db2d[_0x3e773f]['keys']),_0x20db2d[_0x3e773f]['type']=_0x4bf5c4;}}else{if(_0x204605[_0x3e773f]==='curveset'&&!(_0x20db2d[_0x3e773f]instanceof jr)){const _0x3fe031=_0x20db2d[_0x3e773f]['type'];_0x20db2d[_0x3e773f]=new jr(_0x20db2d[_0x3e773f]['keys']),_0x20db2d[_0x3e773f]['type']=_0x3fe031;}}}_0x20db2d['layers']&&Array['isArray'](_0x20db2d['layers'])&&(_0x20db2d['layers']=_0x20db2d['layers']['slice'](0x1*0x684+0x1*-0x128c+-0x23*-0x58));}super['initialize'+'ComponentD'+'ata'](_0x5836b7,_0x20db2d,_0x2532e6);}['cloneCompo'+'nent'](_0x58d545,_0x5d7c36){const _0x5b3ef8=_0x58d545['particlesy'+'stem']['data'],_0x46e2a0=this['schema'],_0x4bd108={};for(let _0x2e892d=0x2af*0x9+0x2518+-0x3d3f,_0x2989b4=_0x46e2a0['length'];_0x2e892d<_0x2989b4;_0x2e892d++){const _0x17c6c9=_0x46e2a0[_0x2e892d];let _0x2a619c=_0x5b3ef8[_0x17c6c9];_0x2a619c instanceof T||_0x2a619c instanceof Cs||_0x2a619c instanceof jr?(_0x2a619c=_0x2a619c['clone'](),_0x4bd108[_0x17c6c9]=_0x2a619c):_0x17c6c9==='layers'?_0x4bd108['layers']=_0x5b3ef8['layers']['slice'](0x424*0x2+-0x1629+0xde1):_0x2a619c!=null&&(_0x4bd108[_0x17c6c9]=_0x2a619c);}return this['addCompone'+'nt'](_0x5d7c36,_0x4bd108);}['onUpdate'](_0xcc72b){const _0x1b81da=this['store'];let _0x146a71;const _0x2791a1=this['app']['stats']['particles'],_0x1b3be7=this['app']['scene']['layers'];for(let _0x165b6e=-0x1*0x1e8f+0x7bb*-0x1+0x152*0x1d;_0x165b6e<_0x1b3be7['layerList']['length'];_0x165b6e++)_0x1b3be7['layerList'][_0x165b6e]['requiresLi'+'ghtCube']=!(0x1cc8+0x3b0+-0x2077);for(const _0xfd588e in _0x1b81da)if(_0x1b81da['hasOwnProp'+'erty'](_0xfd588e)){const _0x1d9dc8=_0x1b81da[_0xfd588e],_0x51cd92=_0x1d9dc8['entity'],_0xca2642=_0x1d9dc8['data'];if(_0xca2642['enabled']&&_0x51cd92['enabled']){const _0xbd98b=_0x51cd92['particlesy'+'stem']['emitter'];if(!(_0xbd98b!=null&&_0xbd98b['meshInstan'+'ce']['visible']))continue;if(_0xbd98b['lighting']){const _0xca4194=_0xca2642['layers'];for(let _0x24be07=-0x136b+0x5*0x111+0xe16;_0x24be07<_0xca4194['length'];_0x24be07++){const _0x239a79=_0x1b3be7['getLayerBy'+'Id'](_0xca4194[_0x24be07]);_0x239a79&&(_0x239a79['requiresLi'+'ghtCube']=!(-0x2*0x872+0x3*0x8e0+-0x9bc));}}if(!_0xca2642['paused']){if(_0xbd98b['simTime']+=_0xcc72b,_0xbd98b['simTime']>_0xbd98b['fixedTimeS'+'tep']&&(_0x146a71=Math['floor'](_0xbd98b['simTime']/_0xbd98b['fixedTimeS'+'tep']),_0xbd98b['simTime']-=_0x146a71*_0xbd98b['fixedTimeS'+'tep']),_0x146a71){_0x146a71=Math['min'](_0x146a71,_0xbd98b['maxSubStep'+'s']);for(let _0x550e75=-0x10f5*-0x1+0x51b+-0x1610;_0x550e75<_0x146a71;_0x550e75++)_0xbd98b['addTime'](_0xbd98b['fixedTimeS'+'tep'],!(-0x25f8+-0x5f*0x41+0x3e18));_0x2791a1['_updatesPe'+'rFrame']+=_0x146a71,_0x2791a1['_frameTime']+=_0xbd98b['_addTimeTi'+'me'],_0xbd98b['_addTimeTi'+'me']=0x1b94+-0x21d1+0x63d;}_0xbd98b['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x3e86ae,_0x3d0c8d){_0x3d0c8d['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0xf5f9d6,_0x465259){super(),this['skin']=_0xf5f9d6,this['skinInstan'+'ce']=_0x465259;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x1b5055,_0x29401e)=>{console['log'](_0x29401e['name']+':\x20Array('+_0x1b5055['length']+')');for(let _0x4c4b28=-0xe9*-0xb+0x303*0xb+0x2c*-0xfb;_0x4c4b28<_0x1b5055['length'];_0x4c4b28++)console['log']('\x20\x20'+_0x4c4b28+(':\x20RefCount'+'\x20')+_0x1b5055[_0x4c4b28]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x273a67,_0x586da5,_0x2d0346){let _0x29261b=bs['getCachedS'+'kinInstanc'+'e'](_0x273a67,_0x586da5);return _0x29261b||(_0x29261b=new nl(_0x273a67),_0x29261b['resolve'](_0x586da5,_0x2d0346),bs['addCachedS'+'kinInstanc'+'e'](_0x273a67,_0x586da5,_0x29261b)),_0x29261b;}static['getCachedS'+'kinInstanc'+'e'](_0xcb3d4,_0x3ddca8){let _0x360e53=null;const _0x18f718=bs['_skinInsta'+'nceCache']['get'](_0x3ddca8);if(_0x18f718){const _0x3b0a46=_0x18f718['find'](_0xbaba0e=>_0xbaba0e['skin']===_0xcb3d4);_0x3b0a46&&(_0x3b0a46['incRefCoun'+'t'](),_0x360e53=_0x3b0a46['skinInstan'+'ce']);}return _0x360e53;}static['addCachedS'+'kinInstanc'+'e'](_0x2980c8,_0x579530,_0x27bc81){let _0x3a04a6=bs['_skinInsta'+'nceCache']['get'](_0x579530);_0x3a04a6||(_0x3a04a6=[],bs['_skinInsta'+'nceCache']['set'](_0x579530,_0x3a04a6));let _0x1d5a40=_0x3a04a6['find'](_0x3c4092=>_0x3c4092['skin']===_0x2980c8);_0x1d5a40||(_0x1d5a40=new dI(_0x2980c8,_0x27bc81),_0x3a04a6['push'](_0x1d5a40)),_0x1d5a40['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0xacd002){if(_0xacd002){const _0x1d4c07=_0xacd002['rootBone'];if(_0x1d4c07){const _0x8a1f7f=bs['_skinInsta'+'nceCache']['get'](_0x1d4c07);if(_0x8a1f7f){const _0xd039ff=_0x8a1f7f['findIndex'](_0x349782=>_0x349782['skinInstan'+'ce']===_0xacd002);if(_0xd039ff>=-0x1a3*0x1+-0xc25+0x15*0xa8){const _0x2ebb74=_0x8a1f7f[_0xd039ff];_0x2ebb74['decRefCoun'+'t'](),_0x2ebb74['refCount']===-0x10c8+-0x15*0x103+0x2607&&(_0x8a1f7f['splice'](_0xd039ff,-0x14bb+0x193a+-0x2e*0x19),_0x8a1f7f['length']||bs['_skinInsta'+'nceCache']['delete'](_0x1d4c07),_0xacd002&&(_0xacd002['destroy'](),_0x2ebb74['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x485100,_0xf6a3fe,_0x385863,_0x4a5a7b,_0xa52a33){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x485100,this['parent']=_0xf6a3fe,this['_scope']=_0xa52a33,this['_registry']=_0x385863,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x4a5a7b['load'],this['_onAssetAd'+'d']=_0x4a5a7b['add'],this['_onAssetRe'+'move']=_0x4a5a7b['remove'],this['_onAssetUn'+'load']=_0x4a5a7b['unload']);}set['id'](_0x17f3e0){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x17f3e0,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x6624c4){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x6624c4,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x513dce,_0x24af65,_0x13be9f,_0x5645c4,_0x551086,_0x14fa04,_0x4c32ed;this['id']&&((_0x513dce=this['_evtLoadBy'+'Id'])==null||_0x513dce['off'](),this['_evtLoadBy'+'Id']=null,(_0x24af65=this['_evtAddByI'+'d'])==null||_0x24af65['off'](),this['_evtAddByI'+'d']=null,(_0x13be9f=this['_evtRemove'+'ById'])==null||_0x13be9f['off'](),this['_evtRemove'+'ById']=null,(_0x5645c4=this['_evtUnload'+'ById'])==null||_0x5645c4['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x551086=this['_evtLoadBy'+'Url'])==null||_0x551086['off'](),this['_evtLoadBy'+'Url']=null,(_0x14fa04=this['_evtAddByU'+'rl'])==null||_0x14fa04['off'](),this['_evtAddByU'+'rl']=null,(_0x4c32ed=this['_evtRemove'+'ByUrl'])==null||_0x4c32ed['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x567311){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x567311);}['_onAdd'](_0x1b0a20){this['asset']=_0x1b0a20,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1b0a20);}['_onRemove'](_0x517c5d){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x517c5d),this['asset']=null;}['_onUnload'](_0x491b83){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x491b83);}}class fx extends ue{constructor(_0x158d77,_0x3dc7ab){super(_0x158d77,_0x3dc7ab),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0xb*0x326+-0x1a6c+0x1*0x3d0e)),c(this,'_receiveSh'+'adows',!(0x1428+-0x2e2+-0x1*0x1146)),c(this,'_castShado'+'wsLightmap',!(-0x1*-0x2629+0x1a67+-0x4090)),c(this,'_lightmapp'+'ed',!(-0x25a8+0x51+0x2558)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0xf6*-0xe+0xd*-0x22f+0x4*0x3bc),c(this,'isStatic',!(-0x2*-0xa3e+-0x11b1+0x22*-0x15)),c(this,'_batchGrou'+'pId',-(-0x147f+0x166*-0x7+0xf25*0x2)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x158d77['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x158d77['defaultMat'+'erial'],_0x3dc7ab['on']('remove',this['onRemoveCh'+'ild'],this),_0x3dc7ab['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x3dc7ab['on']('insert',this['onInsertCh'+'ild'],this),_0x3dc7ab['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x40ef77){this['_renderSty'+'le']!==_0x40ef77&&(this['_renderSty'+'le']=_0x40ef77,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x40ef77));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x3c668e){this['_customAab'+'b']=_0x3c668e;const _0x2f0f76=this['_meshInsta'+'nces'];if(_0x2f0f76){for(let _0x3abfb1=-0x7*-0xef+-0x247d*0x1+-0x24*-0xd5;_0x3abfb1<_0x2f0f76['length'];_0x3abfb1++)_0x2f0f76[_0x3abfb1]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x6fe74f){if(this['_type']!==_0x6fe74f&&(this['_area']=null,this['_type']=_0x6fe74f,this['destroyMes'+'hInstances'](),_0x6fe74f!=='asset')){let _0x97fb7f=this['_material'];(!_0x97fb7f||_0x97fb7f===this['system']['defaultMat'+'erial'])&&(_0x97fb7f=this['_materialR'+'eferences'][-0x2218+0x446+-0xb*-0x2b6]&&this['_materialR'+'eferences'][-0xc6f+-0x16dd*-0x1+-0x10b*0xa]['asset']&&this['_materialR'+'eferences'][-0x65a+-0x240e+0x2a68]['asset']['resource']);const _0x2f52fc=cx(this['system']['app']['graphicsDe'+'vice'],_0x6fe74f);this['_area']=_0x2f52fc['area'],this['meshInstan'+'ces']=[new Le(_0x2f52fc['mesh'],_0x97fb7f||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x2039d1){if(v['assert'](Array['isArray'](_0x2039d1),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x2039d1,this['_meshInsta'+'nces']){const _0x4ac97a=this['_meshInsta'+'nces'];for(let _0x41ec63=0x517*0x1+0x82f+-0x1*0xd46;_0x41ec63<_0x4ac97a['length'];_0x41ec63++)_0x4ac97a[_0x41ec63]['node']||(_0x4ac97a[_0x41ec63]['node']=this['entity']),_0x4ac97a[_0x41ec63]['castShadow']=this['_castShado'+'ws'],_0x4ac97a[_0x41ec63]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x4ac97a[_0x41ec63]['renderStyl'+'e']=this['_renderSty'+'le'],_0x4ac97a[_0x41ec63]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x4ac97a[_0x41ec63]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x493db6){if(_0x493db6!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x493db6;const _0x39e8d7=this['_meshInsta'+'nces'];if(_0x39e8d7){for(let _0x2f07df=-0x216f+0x5c0+0x1baf;_0x2f07df<_0x39e8d7['length'];_0x2f07df++)_0x39e8d7[_0x2f07df]['setLightma'+'pped'](_0x493db6);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x282e89){if(this['_castShado'+'ws']!==_0x282e89){const _0x2975ff=this['_meshInsta'+'nces'];if(_0x2975ff){const _0x1d6211=this['layers'],_0x3c7042=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x282e89)for(let _0x20ad63=-0x1b1a+-0x13a0+-0x175d*-0x2;_0x20ad63<_0x1d6211['length'];_0x20ad63++){const _0x6ad24=_0x3c7042['layers']['getLayerBy'+'Id'](this['layers'][_0x20ad63]);_0x6ad24&&_0x6ad24['removeShad'+'owCasters'](_0x2975ff);}for(let _0x1580e2=0xfc0+-0x291+-0xd2f;_0x1580e2<_0x2975ff['length'];_0x1580e2++)_0x2975ff[_0x1580e2]['castShadow']=_0x282e89;if(!this['_castShado'+'ws']&&_0x282e89)for(let _0x131730=-0x5*-0x31+0x8fb+-0x9f0;_0x131730<_0x1d6211['length'];_0x131730++){const _0x53c012=_0x3c7042['layers']['getLayerBy'+'Id'](_0x1d6211[_0x131730]);_0x53c012&&_0x53c012['addShadowC'+'asters'](_0x2975ff);}}this['_castShado'+'ws']=_0x282e89;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x2e1002){if(this['_receiveSh'+'adows']!==_0x2e1002){this['_receiveSh'+'adows']=_0x2e1002;const _0x5b006e=this['_meshInsta'+'nces'];if(_0x5b006e){for(let _0x97e4de=-0x1c6a+0x7*0x2ff+0x771;_0x97e4de<_0x5b006e['length'];_0x97e4de++)_0x5b006e[_0x97e4de]['receiveSha'+'dow']=_0x2e1002;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0xb361a4){this['_castShado'+'wsLightmap']=_0xb361a4;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x426799){this['_lightmapS'+'izeMultipl'+'ier']=_0x426799;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x5d40a9){const _0x4f0465=this['system']['app']['scene']['layers'];let _0x1329bd;if(this['_meshInsta'+'nces']){for(let _0xc6d0c1=0xcd8+0x1*-0xfef+0x317*0x1;_0xc6d0c1<this['_layers']['length'];_0xc6d0c1++)_0x1329bd=_0x4f0465['getLayerBy'+'Id'](this['_layers'][_0xc6d0c1]),_0x1329bd&&_0x1329bd['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x1e3e+0x1c5*0x3+-0x238d;for(let _0x34cf92=0xee9+0x768+-0x1651;_0x34cf92<_0x5d40a9['length'];_0x34cf92++)this['_layers'][_0x34cf92]=_0x5d40a9[_0x34cf92];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x5b1b96=0x26cb+-0x331+0x239a*-0x1;_0x5b1b96<this['_layers']['length'];_0x5b1b96++)_0x1329bd=_0x4f0465['getLayerBy'+'Id'](this['_layers'][_0x5b1b96]),_0x1329bd&&_0x1329bd['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x4ff2de){var _0x3db7bb,_0x57b8d2;this['_batchGrou'+'pId']!==_0x4ff2de&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1*-0x1ca3+-0x6df+0x2382&&((_0x3db7bb=this['system']['app']['batcher'])==null||_0x3db7bb['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x4ff2de>=-0x22b8*0x1+0x8*-0x3d+0x24a0&&((_0x57b8d2=this['system']['app']['batcher'])==null||_0x57b8d2['insert'](et['RENDER'],_0x4ff2de,this['entity'])),_0x4ff2de<-0x91*-0x26+-0x1c64+0x6de&&this['_batchGrou'+'pId']>=-0x1c8e+-0x2*0x4f7+0x133e*0x2&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x4ff2de);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x1b1e09){if(this['_material']!==_0x1b1e09&&(this['_material']=_0x1b1e09,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x3191da=-0x2*0x92a+0xb*-0x3d+0x14f3;_0x3191da<this['_meshInsta'+'nces']['length'];_0x3191da++)this['_meshInsta'+'nces'][_0x3191da]['material']=_0x1b1e09;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x46d8d1=[]){if(this['_materialR'+'eferences']['length']>_0x46d8d1['length']){for(let _0x3ddccf=_0x46d8d1['length'];_0x3ddccf<this['_materialR'+'eferences']['length'];_0x3ddccf++)this['_materialR'+'eferences'][_0x3ddccf]['id']=null;this['_materialR'+'eferences']['length']=_0x46d8d1['length'];}for(let _0x5c9ef3=-0x1b76+-0x58b*-0x5+-0x41*0x1;_0x5c9ef3<_0x46d8d1['length'];_0x5c9ef3++)if(this['_materialR'+'eferences'][_0x5c9ef3]||this['_materialR'+'eferences']['push'](new Go(_0x5c9ef3,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x46d8d1[_0x5c9ef3]){const _0xee977b=_0x46d8d1[_0x5c9ef3]instanceof le?_0x46d8d1[_0x5c9ef3]['id']:_0x46d8d1[_0x5c9ef3];this['_materialR'+'eferences'][_0x5c9ef3]['id']!==_0xee977b&&(this['_materialR'+'eferences'][_0x5c9ef3]['id']=_0xee977b),this['_materialR'+'eferences'][_0x5c9ef3]['asset']&&this['_onMateria'+'lAdded'](_0x5c9ef3,this,this['_materialR'+'eferences'][_0x5c9ef3]['asset']);}else this['_materialR'+'eferences'][_0x5c9ef3]['id']=null,this['_meshInsta'+'nces'][_0x5c9ef3]&&(this['_meshInsta'+'nces'][_0x5c9ef3]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x9086c5=>_0x9086c5['id']);}set['asset'](_0x5213d8){const _0x1dde35=_0x5213d8 instanceof le?_0x5213d8['id']:_0x5213d8;this['_assetRefe'+'rence']['id']!==_0x1dde35&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x1dde35,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x2f45f5){const _0xf66a86=_0x2f45f5 instanceof le?_0x2f45f5['id']:_0x2f45f5;this['_assetRefe'+'rence']['id']=_0xf66a86;}set['rootBone'](_0x1afdc6){if(this['_rootBone']!==_0x1afdc6){const _0xfd5cc4=typeof _0x1afdc6=='string';if(this['_rootBone']&&_0xfd5cc4&&this['_rootBone']['getGuid']()===_0x1afdc6)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x1afdc6 instanceof De?this['_rootBone']=_0x1afdc6:_0xfd5cc4?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x1afdc6)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x171208=this['_meshInsta'+'nces'];if(_0x171208){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x391d5a=-0x1f*-0xbf+0xd19+-0x243a*0x1;_0x391d5a<_0x171208['length'];_0x391d5a++)_0x171208[_0x391d5a]['destroy']();this['_meshInsta'+'nces']['length']=-0x12fc+0x159e+-0x1*0x2a2;}}['addToLayer'+'s'](){const _0x3c785a=this['system']['app']['scene']['layers'];for(let _0x3a5b43=-0x2543*0x1+0x2139+-0x5e*-0xb;_0x3a5b43<this['_layers']['length'];_0x3a5b43++){const _0x3f3b3f=_0x3c785a['getLayerBy'+'Id'](this['_layers'][_0x3a5b43]);_0x3f3b3f&&_0x3f3b3f['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x1a633c=this['system']['app']['scene']['layers'];for(let _0x2709cb=-0x2549+0x1c2a+0x1d3*0x5;_0x2709cb<this['_layers']['length'];_0x2709cb++){const _0x3fddf0=_0x1a633c['getLayerBy'+'Id'](this['_layers'][_0x2709cb]);_0x3fddf0&&_0x3fddf0['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x382e3e=0x476+-0xd81*0x1+0x5*0x1cf;_0x382e3e<this['_materialR'+'eferences']['length'];_0x382e3e++)this['_materialR'+'eferences'][_0x382e3e]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x5c05ad,_0x4015ff){this['addToLayer'+'s'](),_0x5c05ad['off']('add',this['onLayerAdd'+'ed'],this),_0x5c05ad['off']('remove',this['onLayerRem'+'oved'],this),_0x4015ff['on']('add',this['onLayerAdd'+'ed'],this),_0x4015ff['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1e9727){this['layers']['indexOf'](_0x1e9727['id'])<-0x2388+0xbb3+0x17d5*0x1||_0x1e9727['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x2e0405){this['layers']['indexOf'](_0x2e0405['id'])<-0x199*0x9+-0x8f2*0x1+0x1753||_0x2e0405['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x86249e;const _0x4963ad=this['system']['app'],_0xeb6e85=_0x4963ad['scene'],_0x4c8012=_0xeb6e85['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0xeb6e85['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4c8012&&(this['_evtLayerA'+'dded']=_0x4c8012['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4c8012['on']('remove',this['onLayerRem'+'oved'],this));const _0x45c4c0=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x45c4c0&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x5898e3=-0x2b7*-0x1+0x24bb+-0x2*0x13b9;_0x5898e3<this['_materialR'+'eferences']['length'];_0x5898e3++)this['_materialR'+'eferences'][_0x5898e3]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x5898e3]['asset']);this['_batchGrou'+'pId']>=0x2f*-0x16+0x5b9+-0x1af*0x1&&((_0x86249e=_0x4963ad['batcher'])==null||_0x86249e['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x25e287,_0x174a5b,_0x135360,_0x217690;const _0x27a04b=this['system']['app'],_0x22f4f1=_0x27a04b['scene']['layers'];(_0x25e287=this['_evtLayers'+'Changed'])==null||_0x25e287['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x22f4f1&&((_0x174a5b=this['_evtLayerA'+'dded'])==null||_0x174a5b['off'](),this['_evtLayerA'+'dded']=null,(_0x135360=this['_evtLayerR'+'emoved'])==null||_0x135360['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0xa4*0x1+-0x99*0x25+0x16c1&&((_0x217690=_0x27a04b['batcher'])==null||_0x217690['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x12c87f=-0x87*0x3+0x41e*-0x1+0x5b3;_0x12c87f<this['_meshInsta'+'nces']['length'];_0x12c87f++)this['_meshInsta'+'nces'][_0x12c87f]['visible']=!(0x1fda+0x32*0x3b+-0xe75*0x3);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x34e7d3=-0x1a7d+0x2ba*0x3+0x124f;_0x34e7d3<this['_meshInsta'+'nces']['length'];_0x34e7d3++)this['_meshInsta'+'nces'][_0x34e7d3]['visible']=!(-0x76d*0x1+0x2*-0x7c3+0x16f3);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x248340;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x1ca11d=this['_assetRefe'+'rence']['asset']['resource'];(_0x248340=this['_evtSetMes'+'hes'])==null||_0x248340['off'](),this['_evtSetMes'+'hes']=_0x1ca11d['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x1ca11d['meshes']&&this['_onSetMesh'+'es'](_0x1ca11d['meshes']);}}['_onSetMesh'+'es'](_0x13d20e){this['_cloneMesh'+'es'](_0x13d20e);}['_clearSkin'+'Instances'](){for(let _0x53ee41=0x1546+-0x1*0x1a4b+-0x505*-0x1;_0x53ee41<this['_meshInsta'+'nces']['length'];_0x53ee41++){const _0x384c1e=this['_meshInsta'+'nces'][_0x53ee41];Vo['removeCach'+'edSkinInst'+'ance'](_0x384c1e['skinInstan'+'ce']),_0x384c1e['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x1275e8=-0x2d5+-0x6c1*0x4+-0x351*-0x9;_0x1275e8<this['_meshInsta'+'nces']['length'];_0x1275e8++){const _0xe02e01=this['_meshInsta'+'nces'][_0x1275e8],_0x97e336=_0xe02e01['mesh'];_0x97e336['skin']&&!_0xe02e01['skinInstan'+'ce']&&(_0xe02e01['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x97e336['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x13c702){if(_0x13c702&&_0x13c702['length']){const _0x53374e=[];for(let _0x24027f=0x243f+0x1*-0x2691+0x2*0x129;_0x24027f<_0x13c702['length'];_0x24027f++){const _0x31c5b4=_0x13c702[_0x24027f],_0x131e5b=this['_materialR'+'eferences'][_0x24027f]&&this['_materialR'+'eferences'][_0x24027f]['asset']&&this['_materialR'+'eferences'][_0x24027f]['asset']['resource'],_0x1a6a2b=new Le(_0x31c5b4,_0x131e5b||this['system']['defaultMat'+'erial'],this['entity']);_0x53374e['push'](_0x1a6a2b),_0x31c5b4['morph']&&(_0x1a6a2b['morphInsta'+'nce']=new fn(_0x31c5b4['morph']));}this['meshInstan'+'ces']=_0x53374e,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x4d9182;(_0x4d9182=this['_evtSetMes'+'hes'])==null||_0x4d9182['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x5b2beb,_0x57d68a,_0x474f37){_0x474f37['resource']?this['_onMateria'+'lLoad'](_0x5b2beb,_0x57d68a,_0x474f37):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x474f37);}['_updateMai'+'nMaterial'](_0x39a2e2,_0x27a33d){_0x39a2e2===-0x25d2+0xc2b+0x19a7&&(this['material']=_0x27a33d);}['_onMateria'+'lLoad'](_0x3e0b08,_0x37049b,_0x25f9b8){this['_meshInsta'+'nces'][_0x3e0b08]&&(this['_meshInsta'+'nces'][_0x3e0b08]['material']=_0x25f9b8['resource']),this['_updateMai'+'nMaterial'](_0x3e0b08,_0x25f9b8['resource']);}['_onMateria'+'lRemove'](_0x2efed0,_0x1b65a9,_0x2a9318){this['_meshInsta'+'nces'][_0x2efed0]&&(this['_meshInsta'+'nces'][_0x2efed0]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x2efed0,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x12b0f8,_0x36d77c,_0x2b7c54){this['_meshInsta'+'nces'][_0x12b0f8]&&(this['_meshInsta'+'nces'][_0x12b0f8]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x12b0f8,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5826ca,_0x5edca4){_0x5826ca['rootBone']&&(this['rootBone']=_0x5edca4[_0x5826ca['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(-0xf95*-0x1+-0x1475+-0x30*-0x1a);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x258978){super(_0x258978),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x258978['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x800fa3,_0x2e56e5,_0x59763d){(_0x2e56e5['batchGroup'+'Id']===null||_0x2e56e5['batchGroup'+'Id']===void(-0x1*0x1a48+0x9a*-0x12+0x7d*0x4c))&&(_0x2e56e5['batchGroup'+'Id']=-(0x4b8+0x1932+-0x1de9)),_0x2e56e5['layers']&&_0x2e56e5['layers']['length']&&(_0x2e56e5['layers']=_0x2e56e5['layers']['slice'](0x9f3+-0x1594+0xba1));for(let _0x247c83=0xfe1+0x1824+0x2805*-0x1;_0x247c83<Mr['length'];_0x247c83++)_0x2e56e5['hasOwnProp'+'erty'](Mr[_0x247c83])&&(_0x800fa3[Mr[_0x247c83]]=_0x2e56e5[Mr[_0x247c83]]);_0x2e56e5['aabbCenter']&&_0x2e56e5['aabbHalfEx'+'tents']&&(_0x800fa3['customAabb']=new _e(new T(_0x2e56e5['aabbCenter']),new T(_0x2e56e5['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x800fa3,_0x2e56e5,pf);}['cloneCompo'+'nent'](_0x2d5d64,_0x2e84cc){const _0x577c52={};for(let _0x17bea1=-0x24ca+0x1dd7+-0x3*-0x251;_0x17bea1<Mr['length'];_0x17bea1++)_0x577c52[Mr[_0x17bea1]]=_0x2d5d64['render'][Mr[_0x17bea1]];_0x577c52['enabled']=_0x2d5d64['render']['enabled'],delete _0x577c52['meshInstan'+'ces'];const _0x24345c=this['addCompone'+'nt'](_0x2e84cc,_0x577c52),_0x500452=_0x2d5d64['render']['meshInstan'+'ces'],_0x58f85e=_0x500452['map'](_0xbf8abb=>_0xbf8abb['mesh']);_0x24345c['_onSetMesh'+'es'](_0x58f85e);for(let _0x54b5b3=0xb12+-0x23b+-0x1f*0x49;_0x54b5b3<_0x500452['length'];_0x54b5b3++)_0x24345c['meshInstan'+'ces'][_0x54b5b3]['material']=_0x500452[_0x54b5b3]['material'];return _0x2d5d64['render']['customAabb']&&(_0x24345c['customAabb']=_0x2d5d64['render']['customAabb']['clone']()),_0x24345c;}['onRemove'](_0x53f1e0,_0x449c1a){_0x449c1a['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x7b22db,_0x2d73bb){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',0x1781+0x2bf+-0x1a40),(this['_construct'+'or']=_0x7b22db,this['_resize'](_0x2d73bb));}['_resize'](_0x3f1d70){if(_0x3f1d70>this['_pool']['length']){for(let _0x4b5e23=this['_pool']['length'];_0x4b5e23<_0x3f1d70;_0x4b5e23++)this['_pool'][_0x4b5e23]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x1dd0+0xe65+-0x2c33)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0xd2e+-0x1f3*-0x5+0x36f*0x1;}}let Vt,xe,gs,Wn;const pI=new se(),mI=new se(),Ql=new T();class Ws extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',0x17*-0x49+0x16ce+0x103f*-0x1),c(this,'_angularFa'+'ctor',new T(0x4*-0x4a9+0x14dc+-0x237,0x2545+0x8f9+-0x2e3d,-0x2279+-0x128*-0x14+0xb5a)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',0x207a+-0x72*-0xd+-0x2644+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',0x16*0x95+-0x9ef*0x1+-0x69*0x7),c(this,'_linearFac'+'tor',new T(0x15e9+-0x93*-0x1b+0x9d*-0x3d,-0x25a2+-0xcf8+0x1*0x329b,-0x2*-0x1c7+-0x191f+0x1592)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',0x7*0x1e+0x29e*0xe+0x1*-0x2575),c(this,'_restituti'+'on',0xb49*-0x1+0x1169*-0x2+0x1*0x2e1b),c(this,'_rollingFr'+'iction',-0x2690+0x13c3+-0x1*-0x12cd),c(this,'_simulatio'+'nEnabled',!(-0x1d6f+0x4f4+0x187c)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),Wn=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy'](Wn),Vt=null,xe=null,gs=null,Wn=null;}set['angularDam'+'ping'](_0x3758db){this['_angularDa'+'mping']!==_0x3758db&&(this['_angularDa'+'mping']=_0x3758db,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x3758db));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x7517c8){this['_angularFa'+'ctor']['equals'](_0x7517c8)||(this['_angularFa'+'ctor']['copy'](_0x7517c8),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x7517c8['x'],_0x7517c8['y'],_0x7517c8['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0xda7f8b){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0xda7f8b['x'],_0xda7f8b['y'],_0xda7f8b['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0xda7f8b));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x4add72=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x4add72['x'](),_0x4add72['y'](),_0x4add72['z']());}return this['_angularVe'+'locity'];}set['body'](_0x189f37){this['_body']!==_0x189f37&&(this['_body']=_0x189f37,_0x189f37&&this['_simulatio'+'nEnabled']&&_0x189f37['activate']());}get['body'](){return this['_body'];}set['friction'](_0x44879d){this['_friction']!==_0x44879d&&(this['_friction']=_0x44879d,this['_body']&&this['_body']['setFrictio'+'n'](_0x44879d));}get['friction'](){return this['_friction'];}set['group'](_0x45d17d){this['_group']!==_0x45d17d&&(this['_group']=_0x45d17d,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x2611a8){this['_linearDam'+'ping']!==_0x2611a8&&(this['_linearDam'+'ping']=_0x2611a8,this['_body']&&this['_body']['setDamping'](_0x2611a8,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x2767ff){this['_linearFac'+'tor']['equals'](_0x2767ff)||(this['_linearFac'+'tor']['copy'](_0x2767ff),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x2767ff['x'],_0x2767ff['y'],_0x2767ff['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x4cf6fb){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x4cf6fb['x'],_0x4cf6fb['y'],_0x4cf6fb['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x4cf6fb));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x52ba78=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x52ba78['x'](),_0x52ba78['y'](),_0x52ba78['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x1f1caa){this['_mask']!==_0x1f1caa&&(this['_mask']=_0x1f1caa,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x33398f){if(this['_mass']!==_0x33398f&&(this['_mass']=_0x33398f,this['_body']&&this['_type']===ms)){const _0x647c92=this['enabled']&&this['entity']['enabled'];_0x647c92&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x33398f,xe),this['_body']['setMassPro'+'ps'](_0x33398f,xe),this['_body']['updateIner'+'tiaTensor'](),_0x647c92&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x5b69b9){this['_restituti'+'on']!==_0x5b69b9&&(this['_restituti'+'on']=_0x5b69b9,this['_body']&&this['_body']['setRestitu'+'tion'](_0x5b69b9));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x12239d){this['_rollingFr'+'iction']!==_0x12239d&&(this['_rollingFr'+'iction']=_0x12239d,this['_body']&&this['_body']['setRolling'+'Friction'](_0x12239d));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x46e369){if(this['_type']!==_0x46e369){switch(this['_type']=_0x46e369,this['disableSim'+'ulation'](),_0x46e369){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0xf39866=this['entity'];let _0x2f1545;if(_0xf39866['collision']&&(_0x2f1545=_0xf39866['collision']['shape'],_0xf39866['trigger']&&(_0xf39866['trigger']['destroy'](),delete _0xf39866['trigger'])),_0x2f1545){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x1dab91=this['_type']===ms?this['_mass']:-0xffb+0xed+0xf0e;this['_getEntity'+'Transform'](Vt);const _0xa2ca68=this['system']['createBody'](_0x1dab91,_0x2f1545,Vt);if(_0xa2ca68['setRestitu'+'tion'](this['_restituti'+'on']),_0xa2ca68['setFrictio'+'n'](this['_friction']),_0xa2ca68['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0xa2ca68['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0x13138b=this['_linearFac'+'tor'];xe['setValue'](_0x13138b['x'],_0x13138b['y'],_0x13138b['z']),_0xa2ca68['setLinearF'+'actor'](xe);const _0x11c999=this['_angularFa'+'ctor'];xe['setValue'](_0x11c999['x'],_0x11c999['y'],_0x11c999['z']),_0xa2ca68['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0xa2ca68['setCollisi'+'onFlags'](_0xa2ca68['getCollisi'+'onFlags']()|eR),_0xa2ca68['setActivat'+'ionState'](ag));_0xa2ca68['entity']=_0xf39866,this['body']=_0xa2ca68,this['enabled']&&_0xf39866['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x15b3+-0x18a3+-0x1*-0x2e57);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x376b37=this['entity'];if(_0x376b37['collision']&&_0x376b37['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x13545f=this['_body'];if(_0x13545f){switch(this['system']['addBody'](_0x13545f,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0x13545f['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0x13545f['forceActiv'+'ationState'](ag);break;case so:_0x13545f['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0x376b37['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x376b37['collision']),_0x13545f['activate'](),this['_simulatio'+'nEnabled']=!(-0x1*0x1fea+0xb03*0x2+0x9e4);}}}['disableSim'+'ulation'](){const _0x193bd2=this['_body'];if(_0x193bd2&&this['_simulatio'+'nEnabled']){const _0x3c5476=this['system'];let _0x4cc17c=_0x3c5476['_compounds']['indexOf'](this['entity']['collision']);_0x4cc17c>-(0x299+-0x14b3+0x121b)&&_0x3c5476['_compounds']['splice'](_0x4cc17c,0x944+0x245*-0x3+-0x274),_0x4cc17c=_0x3c5476['_dynamic']['indexOf'](this),_0x4cc17c>-(-0x29*0x1f+-0x13*0x7b+0xe19)&&_0x3c5476['_dynamic']['splice'](_0x4cc17c,-0x1*0x12f7+-0x94b+0x1c43),_0x4cc17c=_0x3c5476['_kinematic']['indexOf'](this),_0x4cc17c>-(-0xf11+-0x1*-0x1e36+-0xf24)&&_0x3c5476['_kinematic']['splice'](_0x4cc17c,0x36*0x4c+-0x2569+0x1562),_0x3c5476['removeBody'](_0x193bd2),_0x193bd2['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(-0x233*0x7+-0x103*0x1+0x1069*0x1);}}['applyForce'](_0x256c6e,_0x1432a3,_0x35d76e,_0x519580,_0x249bb2,_0x21b61d){const _0x284eba=this['_body'];_0x284eba&&(_0x284eba['activate'](),_0x256c6e instanceof T?xe['setValue'](_0x256c6e['x'],_0x256c6e['y'],_0x256c6e['z']):xe['setValue'](_0x256c6e,_0x1432a3,_0x35d76e),_0x1432a3 instanceof T?gs['setValue'](_0x1432a3['x'],_0x1432a3['y'],_0x1432a3['z']):_0x519580!==void(-0x212e+-0x1101*-0x1+0x102d)?gs['setValue'](_0x519580,_0x249bb2,_0x21b61d):gs['setValue'](0x13*-0x5e+-0x2489+0x2b83,0x1*-0xa11+-0x1aa9+0x2*0x125d,0x6b1+-0x12cb*-0x2+0x2c47*-0x1),_0x284eba['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x11620a,_0x53c9d5,_0x341dec){const _0x8888be=this['_body'];_0x8888be&&(_0x8888be['activate'](),_0x11620a instanceof T?xe['setValue'](_0x11620a['x'],_0x11620a['y'],_0x11620a['z']):xe['setValue'](_0x11620a,_0x53c9d5,_0x341dec),_0x8888be['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x2cb1a2,_0x493513,_0x586ce8,_0x23667c,_0x466b38,_0x2d592b){const _0x2a195b=this['_body'];_0x2a195b&&(_0x2a195b['activate'](),_0x2cb1a2 instanceof T?xe['setValue'](_0x2cb1a2['x'],_0x2cb1a2['y'],_0x2cb1a2['z']):xe['setValue'](_0x2cb1a2,_0x493513,_0x586ce8),_0x493513 instanceof T?gs['setValue'](_0x493513['x'],_0x493513['y'],_0x493513['z']):_0x23667c!==void(0x1*0x1bb9+-0x6a5+-0x1514)?gs['setValue'](_0x23667c,_0x466b38,_0x2d592b):gs['setValue'](0x6f3+0xe5+0x1f6*-0x4,0x1*-0x6e0+-0x14a3+0x1b83,0x1039*-0x1+0x1*-0x1bb4+-0x8c9*-0x5),_0x2a195b['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x307b55,_0x352687,_0xc236e8){const _0x603b01=this['_body'];_0x603b01&&(_0x603b01['activate'](),_0x307b55 instanceof T?xe['setValue'](_0x307b55['x'],_0x307b55['y'],_0x307b55['z']):xe['setValue'](_0x307b55,_0x352687,_0xc236e8),_0x603b01['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x1d1b7c){const _0x50acae=this['entity'],_0x5a0737=_0x50acae['collision'];if(_0x5a0737){const _0x979cf=_0x5a0737['getShapePo'+'sition'](),_0x4baa3c=_0x5a0737['getShapeRo'+'tation']();xe['setValue'](_0x979cf['x'],_0x979cf['y'],_0x979cf['z']),Wn['setValue'](_0x4baa3c['x'],_0x4baa3c['y'],_0x4baa3c['z'],_0x4baa3c['w']);}else{const _0x24e634=_0x50acae['getPositio'+'n'](),_0x19c70a=_0x50acae['getRotatio'+'n']();xe['setValue'](_0x24e634['x'],_0x24e634['y'],_0x24e634['z']),Wn['setValue'](_0x19c70a['x'],_0x19c70a['y'],_0x19c70a['z'],_0x19c70a['w']);}_0x1d1b7c['setOrigin'](xe),_0x1d1b7c['setRotatio'+'n'](Wn);}['syncEntity'+'ToBody'](){const _0xe98069=this['_body'];if(_0xe98069){if(this['_getEntity'+'Transform'](Vt),_0xe98069['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0x5a43b5=_0xe98069['getMotionS'+'tate']();_0x5a43b5&&_0x5a43b5['setWorldTr'+'ansform'](Vt);}_0xe98069['activate']();}}['_updateDyn'+'amic'](){const _0x47b4b2=this['_body'];if(_0x47b4b2['isActive']()){const _0x31bfae=_0x47b4b2['getMotionS'+'tate']();if(_0x31bfae){const _0x3df7d4=this['entity'];_0x31bfae['getWorldTr'+'ansform'](Vt);const _0x494f1e=Vt['getOrigin'](),_0x1201da=Vt['getRotatio'+'n'](),_0xbd6dfb=_0x3df7d4['collision'];if(_0xbd6dfb&&_0xbd6dfb['_hasOffset']){const _0x1f46a4=_0xbd6dfb['data']['linearOffs'+'et'],_0x2c94c3=_0xbd6dfb['data']['angularOff'+'set'],_0x588f22=mI['copy'](_0x2c94c3)['invert'](),_0x173906=pI['set'](_0x1201da['x'](),_0x1201da['y'](),_0x1201da['z'](),_0x1201da['w']())['mul'](_0x588f22);_0x173906['transformV'+'ector'](_0x1f46a4,Ql),_0x3df7d4['setPositio'+'n'](_0x494f1e['x']()-Ql['x'],_0x494f1e['y']()-Ql['y'],_0x494f1e['z']()-Ql['z']),_0x3df7d4['setRotatio'+'n'](_0x173906);}else _0x3df7d4['setPositio'+'n'](_0x494f1e['x'](),_0x494f1e['y'](),_0x494f1e['z']()),_0x3df7d4['setRotatio'+'n'](_0x1201da['x'](),_0x1201da['y'](),_0x1201da['z'](),_0x1201da['w']());}}}['_updateKin'+'ematic'](){const _0x592c4e=this['_body']['getMotionS'+'tate']();_0x592c4e&&(this['_getEntity'+'Transform'](Vt),_0x592c4e['setWorldTr'+'ansform'](Vt));}['teleport'](_0x58b0ac,_0x551d47,_0x11292f,_0x489152,_0x185867,_0x572f8d){_0x58b0ac instanceof T?this['entity']['setPositio'+'n'](_0x58b0ac):this['entity']['setPositio'+'n'](_0x58b0ac,_0x551d47,_0x11292f),_0x551d47 instanceof se?this['entity']['setRotatio'+'n'](_0x551d47):_0x551d47 instanceof T?this['entity']['setEulerAn'+'gles'](_0x551d47):_0x489152!==void(0xf*0x269+0x1431+-0x4b2*0xc)&&this['entity']['setEulerAn'+'gles'](_0x489152,_0x185867,_0x572f8d),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ws,'EVENT_CONT'+'ACT','contact'),c(Ws,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ws,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ws,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ws,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ws,'order',-(-0xb73+0x1*-0x594+0x1108));class _I{constructor(){this['enabled']=!(-0xce6+0xa89+0x25d);}}let ai,oi;class xg{constructor(_0x2180f0,_0x5d3e01,_0x4acec7,_0x43a054){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x2180f0,this['point']=_0x5d3e01,this['normal']=_0x4acec7,this['hitFractio'+'n']=_0x43a054);}}class gI{constructor(_0x12e3bb,_0x467bc5,_0x4af101){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==-0x25*0xc+0x8f*-0x1d+0x1*0x11ef?(this['a']=_0x12e3bb,this['b']=_0x467bc5,this['impulse']=_0x4af101['impulse'],this['localPoint'+'A']=_0x4af101['localPoint'],this['localPoint'+'B']=_0x4af101['localPoint'+'Other'],this['pointA']=_0x4af101['point'],this['pointB']=_0x4af101['pointOther'],this['normal']=_0x4af101['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x2*0x3ff+0x19ad+0x9*-0x1f7,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x3a0568=new T(),_0x306e55=new T(),_0x55759c=new T(),_0xb45d7a=new T(),_0x31191f=new T(),_0x11fbe8=0x1*0x475+0x1*0x164d+-0x1ac2){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x3a0568,this['localPoint'+'Other']=_0x306e55,this['point']=_0x55759c,this['pointOther']=_0xb45d7a,this['normal']=_0x31191f,this['impulse']=_0x11fbe8);}}class xI{constructor(_0x43aed1,_0x4521f6){c(this,'other'),c(this,'contacts'),(this['other']=_0x43aed1,this['contacts']=_0x4521f6);}}const px=['enabled'];class mx extends Xe{constructor(_0xa0ff39){super(_0xa0ff39),c(this,'maxSubStep'+'s',0x182e+-0x3*0x53+-0x172b*0x1),c(this,'fixedTimeS'+'tep',(-0x809+-0x188a+-0x342*-0xa)/(0x400+-0x1cd+-0x1f7)),c(this,'gravity',new T(-0xb6d+-0x303*-0x3+0xc*0x33,-(0x1990+0x985*-0x3+0x308+0.8100000000000005),-0x196*0x7+0x1*0x19a2+-0xe88)),c(this,'_gravityFl'+'oat32',new Float32Array(-0x74*0x55+0x264b+0x6*0xa)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0xa0ff39['stats']['frame'],this['ComponentT'+'ype']=Ws,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x47f547=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x47f547);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),Ws['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,-0x5f6+-0x134e+0x1945),this['contactRes'+'ultPool']=new Zd(xI,0x1b9b*-0x1+-0x169b*-0x1+0x7*0xb7),this['singleCont'+'actResultP'+'ool']=new Zd(gI,-0x55*-0xb+-0xfeb+0xc45),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1219f9,_0x462166,_0x24bd88){const _0x358e29=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x38887b of _0x358e29)if(_0x462166['hasOwnProp'+'erty'](_0x38887b)){const _0x429699=_0x462166[_0x38887b];Array['isArray'](_0x429699)?_0x1219f9[_0x38887b]=new T(_0x429699[0x1baa+0x110*0xe+-0x3*0xe2e],_0x429699[0x2671*0x1+0x158+-0x27c8],_0x429699[-0x261e+-0x13ed*-0x1+-0x1233*-0x1]):_0x1219f9[_0x38887b]=_0x429699;}super['initialize'+'ComponentD'+'ata'](_0x1219f9,_0x462166,['enabled']);}['cloneCompo'+'nent'](_0x3b719c,_0x26f79a){const _0x3c9665=_0x3b719c['rigidbody'],_0xe20bfb={'enabled':_0x3c9665['enabled'],'mass':_0x3c9665['mass'],'linearDamping':_0x3c9665['linearDamp'+'ing'],'angularDamping':_0x3c9665['angularDam'+'ping'],'linearFactor':[_0x3c9665['linearFact'+'or']['x'],_0x3c9665['linearFact'+'or']['y'],_0x3c9665['linearFact'+'or']['z']],'angularFactor':[_0x3c9665['angularFac'+'tor']['x'],_0x3c9665['angularFac'+'tor']['y'],_0x3c9665['angularFac'+'tor']['z']],'friction':_0x3c9665['friction'],'rollingFriction':_0x3c9665['rollingFri'+'ction'],'restitution':_0x3c9665['restitutio'+'n'],'type':_0x3c9665['type'],'group':_0x3c9665['group'],'mask':_0x3c9665['mask']};return this['addCompone'+'nt'](_0x26f79a,_0xe20bfb);}['onBeforeRe'+'move'](_0x5c3327,_0x49377f){_0x49377f['enabled']&&(_0x49377f['enabled']=!(-0x16*-0x11d+-0xff0+-0xb*0xc7)),_0x49377f['body']&&(this['destroyBod'+'y'](_0x49377f['body']),_0x49377f['body']=null);}['addBody'](_0x1cee1f,_0x3e7b09,_0x471c3c){_0x3e7b09!==void(-0xe0*0x7+-0x1*0x866+0xe86)&&_0x471c3c!==void(0x97d*-0x4+-0xb*-0x35+0x23ad*0x1)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1cee1f,_0x3e7b09,_0x471c3c):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1cee1f);}['removeBody'](_0x325725){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x325725);}['createBody'](_0x4d494b,_0x2a54dd,_0x46def6){const _0x321cd3=new Ammo['btVector3'](0x3*-0x247+0x1a*-0x3e+-0x1*-0xd21,0x1*0x163d+-0x1*-0x1643+-0x590*0x8,0x3e*0x9d+0x1570+-0x3b76);_0x4d494b!==0x7c1+-0x1724+-0x65*-0x27&&_0x2a54dd['calculateL'+'ocalInerti'+'a'](_0x4d494b,_0x321cd3);const _0x149c99=new Ammo['btDefaultM'+'otionState'](_0x46def6),_0x481296=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x4d494b,_0x149c99,_0x2a54dd,_0x321cd3),_0x3a6478=new Ammo['btRigidBod'+'y'](_0x481296);return Ammo['destroy'](_0x481296),Ammo['destroy'](_0x321cd3),_0x3a6478;}['destroyBod'+'y'](_0x48ba04){const _0xd3b4ea=_0x48ba04['getMotionS'+'tate']();_0xd3b4ea&&Ammo['destroy'](_0xd3b4ea),Ammo['destroy'](_0x48ba04);}['raycastFir'+'st'](_0x28955f,_0x374b28,_0x1673b1={}){if(_0x1673b1['filterTags']||_0x1673b1['filterCall'+'back'])return _0x1673b1['sort']=!(0xb15*0x1+-0x1168+0x653),this['raycastAll'](_0x28955f,_0x374b28,_0x1673b1)[-0x5*0x3db+0x4*-0x275+0x1d1b]||null;let _0x245ebe=null;ai['setValue'](_0x28955f['x'],_0x28955f['y'],_0x28955f['z']),oi['setValue'](_0x374b28['x'],_0x374b28['y'],_0x374b28['z']);const _0x3c0498=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x1673b1['filterColl'+'isionGroup']=='number'&&_0x3c0498['set_m_coll'+'isionFilte'+'rGroup'](_0x1673b1['filterColl'+'isionGroup']),typeof _0x1673b1['filterColl'+'isionMask']=='number'&&_0x3c0498['set_m_coll'+'isionFilte'+'rMask'](_0x1673b1['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x3c0498),_0x3c0498['hasHit']()){const _0x1bc67b=_0x3c0498['get_m_coll'+'isionObjec'+'t'](),_0x487387=Ammo['castObject'](_0x1bc67b,Ammo['btRigidBod'+'y']);if(_0x487387){const _0x5bd21c=_0x3c0498['get_m_hitP'+'ointWorld'](),_0x30dcd6=_0x3c0498['get_m_hitN'+'ormalWorld']();_0x245ebe=new xg(_0x487387['entity'],new T(_0x5bd21c['x'](),_0x5bd21c['y'](),_0x5bd21c['z']()),new T(_0x30dcd6['x'](),_0x30dcd6['y'](),_0x30dcd6['z']()),_0x3c0498['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x3c0498),_0x245ebe;}['raycastAll'](_0x460ba8,_0x33f499,_0x2ed585={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x30182e=[];ai['setValue'](_0x460ba8['x'],_0x460ba8['y'],_0x460ba8['z']),oi['setValue'](_0x33f499['x'],_0x33f499['y'],_0x33f499['z']);const _0x74858f=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x2ed585['filterColl'+'isionGroup']=='number'&&_0x74858f['set_m_coll'+'isionFilte'+'rGroup'](_0x2ed585['filterColl'+'isionGroup']),typeof _0x2ed585['filterColl'+'isionMask']=='number'&&_0x74858f['set_m_coll'+'isionFilte'+'rMask'](_0x2ed585['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x74858f),_0x74858f['hasHit']()){const _0x17952f=_0x74858f['get_m_coll'+'isionObjec'+'ts'](),_0x14b6a0=_0x74858f['get_m_hitP'+'ointWorld'](),_0x391cf5=_0x74858f['get_m_hitN'+'ormalWorld'](),_0x2bc2cf=_0x74858f['get_m_hitF'+'ractions'](),_0x33ea66=_0x17952f['size']();for(let _0x140a20=-0x5*0x709+-0xaa8+-0x1*-0x2dd5;_0x140a20<_0x33ea66;_0x140a20++){const _0x485431=Ammo['castObject'](_0x17952f['at'](_0x140a20),Ammo['btRigidBod'+'y']);if(_0x485431&&_0x485431['entity']){if(_0x2ed585['filterTags']&&!_0x485431['entity']['tags']['has'](..._0x2ed585['filterTags'])||_0x2ed585['filterCall'+'back']&&!_0x2ed585['filterCall'+'back'](_0x485431['entity']))continue;const _0x3ae4c2=_0x14b6a0['at'](_0x140a20),_0x491b58=_0x391cf5['at'](_0x140a20),_0x273653=new xg(_0x485431['entity'],new T(_0x3ae4c2['x'](),_0x3ae4c2['y'](),_0x3ae4c2['z']()),new T(_0x491b58['x'](),_0x491b58['y'](),_0x491b58['z']()),_0x2bc2cf['at'](_0x140a20));_0x30182e['push'](_0x273653);}}_0x2ed585['sort']&&_0x30182e['sort']((_0x2e5bb2,_0xb1abc4)=>_0x2e5bb2['hitFractio'+'n']-_0xb1abc4['hitFractio'+'n']);}return Ammo['destroy'](_0x74858f),_0x30182e;}['_storeColl'+'ision'](_0x3eca53,_0x1e9915){let _0x5c5a5c=!(0x1*0x6fc+0x2*-0x763+0x23*0x39);const _0x46c71f=_0x3eca53['getGuid']();return this['collisions'][_0x46c71f]=this['collisions'][_0x46c71f]||{'others':[],'entity':_0x3eca53},this['collisions'][_0x46c71f]['others']['indexOf'](_0x1e9915)<-0x8ca*0x1+-0x10a2+0x196c&&(this['collisions'][_0x46c71f]['others']['push'](_0x1e9915),_0x5c5a5c=!(0x1*-0x21b2+0x1*0xfa3+0x605*0x3)),this['frameColli'+'sions'][_0x46c71f]=this['frameColli'+'sions'][_0x46c71f]||{'others':[],'entity':_0x3eca53},this['frameColli'+'sions'][_0x46c71f]['others']['push'](_0x1e9915),_0x5c5a5c;}['_createCon'+'tactPointF'+'romAmmo'](_0x2b57b0){const _0x414fff=_0x2b57b0['get_m_loca'+'lPointA'](),_0x2948a4=_0x2b57b0['get_m_loca'+'lPointB'](),_0x3bc9d6=_0x2b57b0['getPositio'+'nWorldOnA'](),_0x2f85f7=_0x2b57b0['getPositio'+'nWorldOnB'](),_0x242fa8=_0x2b57b0['get_m_norm'+'alWorldOnB'](),_0x4d474f=this['contactPoi'+'ntPool']['allocate']();return _0x4d474f['localPoint']['set'](_0x414fff['x'](),_0x414fff['y'](),_0x414fff['z']()),_0x4d474f['localPoint'+'Other']['set'](_0x2948a4['x'](),_0x2948a4['y'](),_0x2948a4['z']()),_0x4d474f['point']['set'](_0x3bc9d6['x'](),_0x3bc9d6['y'](),_0x3bc9d6['z']()),_0x4d474f['pointOther']['set'](_0x2f85f7['x'](),_0x2f85f7['y'](),_0x2f85f7['z']()),_0x4d474f['normal']['set'](_0x242fa8['x'](),_0x242fa8['y'](),_0x242fa8['z']()),_0x4d474f['impulse']=_0x2b57b0['getApplied'+'Impulse'](),_0x4d474f;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0xe0edce){const _0x193c28=_0xe0edce['get_m_loca'+'lPointA'](),_0x1a198e=_0xe0edce['get_m_loca'+'lPointB'](),_0x1072b9=_0xe0edce['getPositio'+'nWorldOnA'](),_0x2833a5=_0xe0edce['getPositio'+'nWorldOnB'](),_0x2a6e9d=_0xe0edce['get_m_norm'+'alWorldOnB'](),_0x4bb787=this['contactPoi'+'ntPool']['allocate']();return _0x4bb787['localPoint'+'Other']['set'](_0x193c28['x'](),_0x193c28['y'](),_0x193c28['z']()),_0x4bb787['localPoint']['set'](_0x1a198e['x'](),_0x1a198e['y'](),_0x1a198e['z']()),_0x4bb787['pointOther']['set'](_0x1072b9['x'](),_0x1072b9['y'](),_0x1072b9['z']()),_0x4bb787['point']['set'](_0x2833a5['x'](),_0x2833a5['y'](),_0x2833a5['z']()),_0x4bb787['normal']['set'](_0x2a6e9d['x'](),_0x2a6e9d['y'](),_0x2a6e9d['z']()),_0x4bb787['impulse']=_0xe0edce['getApplied'+'Impulse'](),_0x4bb787;}['_createSin'+'gleContact'+'Result'](_0x3ec73d,_0x5461c9,_0x46771c){const _0x110dc9=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x110dc9['a']=_0x3ec73d,_0x110dc9['b']=_0x5461c9,_0x110dc9['localPoint'+'A']=_0x46771c['localPoint'],_0x110dc9['localPoint'+'B']=_0x46771c['localPoint'+'Other'],_0x110dc9['pointA']=_0x46771c['point'],_0x110dc9['pointB']=_0x46771c['pointOther'],_0x110dc9['normal']=_0x46771c['normal'],_0x110dc9['impulse']=_0x46771c['impulse'],_0x110dc9;}['_createCon'+'tactResult'](_0x5bbfac,_0x28f4bb){const _0x5b8c13=this['contactRes'+'ultPool']['allocate']();return _0x5b8c13['other']=_0x5bbfac,_0x5b8c13['contacts']=_0x28f4bb,_0x5b8c13;}['_cleanOldC'+'ollisions'](){for(const _0x3220f7 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x3220f7)){const _0x2360ee=this['frameColli'+'sions'][_0x3220f7],_0xfe6b25=this['collisions'][_0x3220f7],_0x4d4ab2=_0xfe6b25['entity'],_0x1bff88=_0x4d4ab2['collision'],_0x1dc16b=_0x4d4ab2['rigidbody'],_0x155593=_0xfe6b25['others'];let _0x42463d=_0x155593['length'];for(;_0x42463d--;){const _0x58c3cf=_0x155593[_0x42463d];(!_0x2360ee||_0x2360ee['others']['indexOf'](_0x58c3cf)<0x20f0*-0x1+-0x21*0x36+0x27e6)&&(_0x155593['splice'](_0x42463d,-0x5*0x5cb+-0x3*0xcfb+0x43e9),_0x4d4ab2['trigger']?(_0x1bff88&&_0x1bff88['fire']('triggerlea'+'ve',_0x58c3cf),_0x58c3cf['rigidbody']&&_0x58c3cf['rigidbody']['fire']('triggerlea'+'ve',_0x4d4ab2)):_0x58c3cf['trigger']||(_0x1dc16b&&_0x1dc16b['fire']('collisione'+'nd',_0x58c3cf),_0x1bff88&&_0x1bff88['fire']('collisione'+'nd',_0x58c3cf)));}_0x155593['length']===0x11b*-0x7+0x10c9*0x1+-0x90c&&delete this['collisions'][_0x3220f7];}}['_hasContac'+'tEvent'](_0x1d0dee){const _0x2ddfa0=_0x1d0dee['collision'];if(_0x2ddfa0&&(_0x2ddfa0['hasEvent']('collisions'+'tart')||_0x2ddfa0['hasEvent']('collisione'+'nd')||_0x2ddfa0['hasEvent']('contact')))return!(0x1b81+-0x1*0x39f+-0x17e2);const _0x22ea10=_0x1d0dee['rigidbody'];return _0x22ea10&&(_0x22ea10['hasEvent']('collisions'+'tart')||_0x22ea10['hasEvent']('collisione'+'nd')||_0x22ea10['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x1ea742,_0x1d1cbe){const _0x58ca81=Ammo['wrapPointe'+'r'](_0x1ea742,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x44007b=_0x58ca81['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x34d55a=-0x1c12+0x1288+0x98a;_0x34d55a<_0x44007b;_0x34d55a++){const _0x55d573=_0x58ca81['getManifol'+'dByIndexIn'+'ternal'](_0x34d55a),_0x575e12=_0x55d573['getBody0'](),_0x35250d=_0x55d573['getBody1'](),_0x5edb76=Ammo['castObject'](_0x575e12,Ammo['btRigidBod'+'y']),_0x417ab8=Ammo['castObject'](_0x35250d,Ammo['btRigidBod'+'y']),_0x50b2e7=_0x5edb76['entity'],_0xa74eaf=_0x417ab8['entity'];if(!_0x50b2e7||!_0xa74eaf)continue;const _0x4f35c2=_0x5edb76['getCollisi'+'onFlags'](),_0x63a30b=_0x417ab8['getCollisi'+'onFlags'](),_0x1beea7=_0x55d573['getNumCont'+'acts'](),_0xe13133=[],_0x2d8fdf=[];let _0x67517b;if(_0x1beea7>-0x2073+0x1b11+0x562){if(_0x4f35c2&lo||_0x63a30b&lo){const _0xa37498=_0x50b2e7['collision']&&(_0x50b2e7['collision']['hasEvent']('triggerent'+'er')||_0x50b2e7['collision']['hasEvent']('triggerlea'+'ve')),_0x47be18=_0xa74eaf['collision']&&(_0xa74eaf['collision']['hasEvent']('triggerent'+'er')||_0xa74eaf['collision']['hasEvent']('triggerlea'+'ve')),_0x491329=_0x50b2e7['rigidbody']&&(_0x50b2e7['rigidbody']['hasEvent']('triggerent'+'er')||_0x50b2e7['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x447375=_0xa74eaf['rigidbody']&&(_0xa74eaf['rigidbody']['hasEvent']('triggerent'+'er')||_0xa74eaf['rigidbody']['hasEvent']('triggerlea'+'ve'));_0xa37498&&(_0x67517b=this['_storeColl'+'ision'](_0x50b2e7,_0xa74eaf),_0x67517b&&!(_0x63a30b&lo)&&_0x50b2e7['collision']['fire']('triggerent'+'er',_0xa74eaf)),_0x47be18&&(_0x67517b=this['_storeColl'+'ision'](_0xa74eaf,_0x50b2e7),_0x67517b&&!(_0x4f35c2&lo)&&_0xa74eaf['collision']['fire']('triggerent'+'er',_0x50b2e7)),_0x491329&&(_0x67517b||(_0x67517b=this['_storeColl'+'ision'](_0xa74eaf,_0x50b2e7)),_0x67517b&&_0x50b2e7['rigidbody']['fire']('triggerent'+'er',_0xa74eaf)),_0x447375&&(_0x67517b||(_0x67517b=this['_storeColl'+'ision'](_0x50b2e7,_0xa74eaf)),_0x67517b&&_0xa74eaf['rigidbody']['fire']('triggerent'+'er',_0x50b2e7));}else{const _0x5958b5=this['_hasContac'+'tEvent'](_0x50b2e7),_0x172294=this['_hasContac'+'tEvent'](_0xa74eaf),_0x2776b7=this['hasEvent']('contact');if(_0x2776b7||_0x5958b5||_0x172294){for(let _0x1c8460=0x7*-0x181+-0x432+0xeb9;_0x1c8460<_0x1beea7;_0x1c8460++){const _0x4d29c1=_0x55d573['getContact'+'Point'](_0x1c8460),_0x354d4d=this['_createCon'+'tactPointF'+'romAmmo'](_0x4d29c1);if(_0x5958b5||_0x172294){_0xe13133['push'](_0x354d4d);const _0x178346=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x4d29c1);_0x2d8fdf['push'](_0x178346);}if(_0x2776b7){const _0x1c4aae=this['_createSin'+'gleContact'+'Result'](_0x50b2e7,_0xa74eaf,_0x354d4d);this['fire']('contact',_0x1c4aae);}}if(_0x5958b5){const _0xb397cd=this['_createCon'+'tactResult'](_0xa74eaf,_0xe13133);_0x67517b=this['_storeColl'+'ision'](_0x50b2e7,_0xa74eaf),_0x50b2e7['collision']&&(_0x50b2e7['collision']['fire']('contact',_0xb397cd),_0x67517b&&_0x50b2e7['collision']['fire']('collisions'+'tart',_0xb397cd)),_0x50b2e7['rigidbody']&&(_0x50b2e7['rigidbody']['fire']('contact',_0xb397cd),_0x67517b&&_0x50b2e7['rigidbody']['fire']('collisions'+'tart',_0xb397cd));}if(_0x172294){const _0x1c39e9=this['_createCon'+'tactResult'](_0x50b2e7,_0x2d8fdf);_0x67517b=this['_storeColl'+'ision'](_0xa74eaf,_0x50b2e7),_0xa74eaf['collision']&&(_0xa74eaf['collision']['fire']('contact',_0x1c39e9),_0x67517b&&_0xa74eaf['collision']['fire']('collisions'+'tart',_0x1c39e9)),_0xa74eaf['rigidbody']&&(_0xa74eaf['rigidbody']['fire']('contact',_0x1c39e9),_0x67517b&&_0xa74eaf['rigidbody']['fire']('collisions'+'tart',_0x1c39e9));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x12b10e){let _0x230227,_0x5808ef;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][0x127d*0x1+-0x194f*-0x1+-0xaf3*0x4]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x1b91+-0x86*0x46+0x4036]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x7fc+-0x1*0x7e5+-0x7*0x3]=this['gravity']['z'];const _0x32f146=this['dynamicsWo'+'rld']['getGravity']();(_0x32f146['x']()!==this['_gravityFl'+'oat32'][0x18ca+0x7*0x446+0x2*-0x1b5a]||_0x32f146['y']()!==this['_gravityFl'+'oat32'][-0x206+-0x2538+0x273f]||_0x32f146['z']()!==this['_gravityFl'+'oat32'][-0x25cd+-0x1db1+0x10*0x438])&&(_0x32f146['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x32f146));const _0x581107=this['_triggers'];for(_0x230227=0x1*-0x1b40+-0x1041+0x1*0x2b81,_0x5808ef=_0x581107['length'];_0x230227<_0x5808ef;_0x230227++)_0x581107[_0x230227]['updateTran'+'sform']();const _0x19fe37=this['_compounds'];for(_0x230227=-0x6*0x137+-0x1fd0+0x271a,_0x5808ef=_0x19fe37['length'];_0x230227<_0x5808ef;_0x230227++)_0x19fe37[_0x230227]['_updateCom'+'pound']();const _0x5c1f97=this['_kinematic'];for(_0x230227=0x1*0x1f94+0x27*-0xe3+0x301,_0x5808ef=_0x5c1f97['length'];_0x230227<_0x5808ef;_0x230227++)_0x5c1f97[_0x230227]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x12b10e,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x1208eb=this['_dynamic'];for(_0x230227=-0x7e*-0x3+-0x148a+-0x1e8*-0xa,_0x5808ef=_0x1208eb['length'];_0x230227<_0x5808ef;_0x230227++)_0x1208eb[_0x230227]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x12b10e),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,Ws['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors'](Ws['prototype'],px);const $n='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0x3c96d0,_0x4d6f73){super(_0x3c96d0,_0x4d6f73),this['_resolutio'+'n']=new W(-0x2552*-0x1+-0x228c+0x46*-0x1,0x3a0*-0x9+0x272*0x3+-0x56*-0x4f),this['_reference'+'Resolution']=new W(0xd1a*-0x2+-0x4f6+0x116*0x1f,-0x608+-0x92*0x29+0x1eaa),this['_scaleMode']=$n,this['scale']=-0x1ab0+0x1479*-0x1+0x2f2a,this['_scaleBlen'+'d']=-0x14a3+-0x102f+0x24d2+0.5,this['_priority']=0xff5+-0x23fa+-0x401*-0x5,this['_screenSpa'+'ce']=!(-0x872+0x1db7+-0x1*0x1544),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x3c96d0['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x24882d,_0x4cec21){var _0x37b265;if(!(_0x24882d instanceof We))return _0x4cec21;if(_0x24882d['element']){const _0x12fbd6=_0x24882d['element']['drawOrder'];_0x24882d['element']['drawOrder']=_0x4cec21++,_0x24882d['element']['_batchGrou'+'pId']>=-0x6a0*-0x5+-0x1*0x2123+-0x3*-0x1&&_0x12fbd6!==_0x24882d['element']['drawOrder']&&((_0x37b265=this['system']['app']['batcher'])==null||_0x37b265['markGroupD'+'irty'](_0x24882d['element']['_batchGrou'+'pId']));}_0x24882d['particlesy'+'stem']&&(_0x24882d['particlesy'+'stem']['drawOrder']=_0x4cec21++);const _0x468c52=_0x24882d['children'];for(let _0x28ee87=-0x2564+0x2a2+0x6*0x5cb;_0x28ee87<_0x468c52['length'];_0x28ee87++)_0x4cec21=this['_recurseDr'+'awOrderSyn'+'c'](_0x468c52[_0x28ee87],_0x4cec21);return _0x4cec21;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x15e8*-0x1+0x1*0x8+0x15e1),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x355b35=this['_resolutio'+'n']['x']/this['scale'],_0x4307d8=this['_resolutio'+'n']['y']/this['scale'],_0x4fa06a=0xd8+0x2d*0xa9+-0x2c7*0xb,_0x26b070=_0x355b35,_0x1b875d=-_0x4307d8;this['_screenMat'+'rix']['setOrtho'](_0x4fa06a,_0x26b070,_0x1b875d,0x203d+0x115d+0x38b*-0xe,-0xddf*0x1+0x136*0x4+0x908,-(0x24a1+0x667*-0x6+0xe5*0x2)),this['_screenSpa'+'ce']||(Sg['setScale']((-0x19*-0xf9+-0x2420+-0x1*-0xbcf+0.5)*_0x355b35,(0x185c+-0x223a+-0x1*-0x9de+0.5)*_0x4307d8,0x12c9+-0x238a+0x10c2),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x3716b4,_0x2d9163){const _0x4fcaf9=Math['log2']((_0x3716b4['x']||-0x157d*-0x1+-0xf29*0x1+0x1*-0x653)/_0x2d9163['x']),_0x5053cc=Math['log2']((_0x3716b4['y']||-0x56*0x4d+0x1e36+-0x457)/_0x2d9163['y']);return Math['pow'](-0x1ac4+-0x1273+-0xf13*-0x3,_0x4fcaf9*(-0xfae*0x2+-0x299*0x6+-0x2ef3*-0x1-this['_scaleBlen'+'d'])+_0x5053cc*this['_scaleBlen'+'d']);}['_onResize'](_0x1272b4,_0x13c583){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x1272b4,_0x13c583),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x3671d4){this['_elements']['add'](_0x3671d4);}['_unbindEle'+'ment'](_0x519e80){this['_elements']['delete'](_0x519e80);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x2896f3=>_0x2896f3['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x27d223){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x27d223['x'],_0x27d223['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x338f33=>_0x338f33['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x2c36e3){this['_reference'+'Resolution']['set'](_0x2c36e3['x'],_0x2c36e3['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x17fabf=>_0x17fabf['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===$n?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x6c78c9){this['_screenSpa'+'ce']=_0x6c78c9,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x5ad0c3=>_0x5ad0c3['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x47e9da){_0x47e9da!==$n&&_0x47e9da!==SI&&(_0x47e9da=$n),!this['_screenSpa'+'ce']&&_0x47e9da!==$n&&(_0x47e9da=$n),this['_scaleMode']=_0x47e9da,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x353873){this['_scaleBlen'+'d']=_0x353873,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x40a436=>_0x40a436['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x402e35){_0x402e35>0x1050+-0x1d1f+0xdce&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x402e35+'\x20to\x20255'),_0x402e35=-0x1b82+-0x1*0xe21+0x2aa2),this['_priority']!==_0x402e35&&(this['_priority']=_0x402e35,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(0x49f+0xb65+-0x29*0x64);}}const mf=['enabled'];class bI extends Xe{constructor(_0x4b719b){super(_0x4b719b),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x4e46ff,_0x8deca6,_0x33964f){_0x8deca6['priority']!==void(-0x16a7+-0x3f3*0x5+-0x192*-0x1b)&&(_0x4e46ff['priority']=_0x8deca6['priority']),_0x8deca6['screenSpac'+'e']!==void(0x982+0xc*0x2ba+-0x5e*0x73)&&(_0x4e46ff['screenSpac'+'e']=_0x8deca6['screenSpac'+'e']),_0x4e46ff['cull']=_0x4e46ff['screenSpac'+'e'],_0x8deca6['scaleMode']!==void(-0x1f67+0x1*-0x1f63+-0x1a7*-0x26)&&(_0x4e46ff['scaleMode']=_0x8deca6['scaleMode']),_0x8deca6['scaleBlend']!==void(0x19e4+-0xee0+0x11a*-0xa)&&(_0x4e46ff['scaleBlend']=_0x8deca6['scaleBlend']),_0x8deca6['resolution']!==void(0x105*0x7+0x2*-0x512+0x301)&&(_0x8deca6['resolution']instanceof W?_0x4e46ff['_resolutio'+'n']['copy'](_0x8deca6['resolution']):_0x4e46ff['_resolutio'+'n']['set'](_0x8deca6['resolution'][0x231d+-0x1882+-0xa9b],_0x8deca6['resolution'][0x904+0x373*0xa+0x7*-0x637]),_0x4e46ff['resolution']=_0x4e46ff['_resolutio'+'n']),_0x8deca6['referenceR'+'esolution']!==void(0x10*0x247+-0x21c4+-0x2ac)&&(_0x8deca6['referenceR'+'esolution']instanceof W?_0x4e46ff['_reference'+'Resolution']['copy'](_0x8deca6['referenceR'+'esolution']):_0x4e46ff['_reference'+'Resolution']['set'](_0x8deca6['referenceR'+'esolution'][-0xd*0xe5+0xd*0x17+0xa76],_0x8deca6['referenceR'+'esolution'][0x1e2a+0x156d+-0x3396]),_0x4e46ff['referenceR'+'esolution']=_0x4e46ff['_reference'+'Resolution']),_0x4e46ff['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x4e46ff,_0x8deca6,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x45b6ec){const _0x4ff71f=this['store'];for(const _0x534fb2 in _0x4ff71f)_0x4ff71f[_0x534fb2]['entity']['screen']['update']&&_0x4ff71f[_0x534fb2]['entity']['screen']['update'](_0x45b6ec);}['_onResize'](_0x41633b,_0x56d140){this['windowReso'+'lution']['x']=_0x41633b,this['windowReso'+'lution']['y']=_0x56d140;}['cloneCompo'+'nent'](_0x333bc8,_0x20cb47){const _0x2c95fb=_0x333bc8['screen'];return this['addCompone'+'nt'](_0x20cb47,{'enabled':_0x2c95fb['enabled'],'screenSpace':_0x2c95fb['screenSpac'+'e'],'scaleMode':_0x2c95fb['scaleMode'],'resolution':_0x2c95fb['resolution']['clone'](),'referenceResolution':_0x2c95fb['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x206f52,_0x404adf){_0x404adf['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x560713=this['_drawOrder'+'SyncQueue']['list']();for(let _0x35f4e3=0x167*-0x5+-0x2623+0x1693*0x2;_0x35f4e3<_0x560713['length'];_0x35f4e3++){const _0xc1f3b8=_0x560713[_0x35f4e3];_0xc1f3b8['callback']['call'](_0xc1f3b8['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x175ee4,_0x30f0c9,_0x5834dd){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x175ee4)||this['_drawOrder'+'SyncQueue']['push'](_0x175ee4,{'callback':_0x30f0c9,'scope':_0x5834dd});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new W(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x230887,_0xf4ef2c){if(super(),!_0x230887||!(_0x230887 instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0xf4ef2c&&_0xf4ef2c!=='x'&&_0xf4ef2c!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0xf4ef2c);this['_element']=_0x230887,this['_app']=_0x230887['system']['app'],this['_axis']=_0xf4ef2c||null,this['_enabled']=!(-0x214f+-0x10da+0x3229),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(-0x18f3+0x46c+0x1488),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x2e53ea){this['_element'][_0x2e53ea]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2e53ea]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x2e53ea]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x45d352){const _0xb73524=_0x45d352==='on';this['_hasDragLi'+'steners']&&_0xb73524||(this['_app']['mouse']&&(this['_element'][_0x45d352]('mousemove',this['_onMove'],this),this['_element'][_0x45d352]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x45d352]('touchmove',this['_onMove'],this),this['_element'][_0x45d352]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x45d352]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x45d352]('selectmove',this['_onMove'],this),this['_element'][_0x45d352]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0xb73524);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x2bd8cf){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x2bd8cf['camera'],this['_calculate'+'DragScale']();const _0x2e7a49=this['_screenToL'+'ocal'](_0x2bd8cf);_0x2e7a49&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x3fb*0x5+0x11*-0x1da+0x3361),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x2e7a49),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x23b1*0x1+-0x4*0x170+-0x1df0),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x206e1b){return _0x206e1b['inputSourc'+'e']?Pr['set'](_0x206e1b['inputSourc'+'e']['getOrigin'](),_0x206e1b['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x206e1b),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x1f*-0x19+0x445+0x74b*-0x1)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x2720c8){const _0x5dd5e4=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x2720c8['x']<'u'&&typeof _0x2720c8['y']<'u'?(qi['x']=_0x2720c8['x']*_0x5dd5e4,qi['y']=_0x2720c8['y']*_0x5dd5e4):_0x2720c8['changedTou'+'ches']?(qi['x']=_0x2720c8['changedTou'+'ches'][-0x698+0x83*-0x7+0x209*0x5]['x']*_0x5dd5e4,qi['y']=_0x2720c8['changedTou'+'ches'][0x1476+-0x2307+0x4db*0x3]['y']*_0x5dd5e4):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],-0x1f*0x121+-0x1de2+-0x3d1*-0x11),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],-0x1139+0x59*-0x11+0x1723*0x1)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x3ba06b=this['_element']['entity']['parent'];const _0x40e8fc=this['_element']['screen']&&this['_element']['screen']['screen'],_0x42aeda=_0x40e8fc&&_0x40e8fc['screenSpac'+'e'],_0x5a4ee3=_0x42aeda?_0x40e8fc['scale']:0x21c4+0xdd7*-0x1+-0x13ec,_0x4751e8=this['_dragScale'];for(_0x4751e8['set'](_0x5a4ee3,_0x5a4ee3,_0x5a4ee3);_0x3ba06b&&(_0x4751e8['mul'](_0x3ba06b['getLocalSc'+'ale']()),_0x3ba06b=_0x3ba06b['parent'],!(_0x42aeda&&_0x3ba06b['screen'])););_0x4751e8['x']=(0xf8b+0x2705+-0x368f*0x1)/_0x4751e8['x'],_0x4751e8['y']=(0x169d+0x694+-0x1d30)/_0x4751e8['y'],_0x4751e8['z']=0x179+-0x644*0x2+-0x13*-0x95;}['_onMove'](_0x50d1ae){const {_element:_0x2f51e7,_deltaMousePosition:_0x1c122a,_deltaHandlePosition:_0x67a3bd,_axis:_0x2a8a25}=this;if(_0x2f51e7&&this['_isDraggin'+'g']&&this['enabled']&&_0x2f51e7['enabled']&&_0x2f51e7['entity']['enabled']){const _0x48e93f=this['_screenToL'+'ocal'](_0x50d1ae);if(_0x48e93f){if(_0x1c122a['sub2'](_0x48e93f,this['_dragStart'+'MousePosit'+'ion']),_0x67a3bd['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x1c122a),_0x2a8a25){const _0x500ab6=_0x2f51e7['entity']['getLocalPo'+'sition'](),_0x2d9d0b=TI[_0x2a8a25];_0x67a3bd[_0x2d9d0b]=_0x500ab6[_0x2d9d0b];}_0x2f51e7['entity']['setLocalPo'+'sition'](_0x67a3bd),this['fire']('drag:move',_0x67a3bd);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x2b23d5){this['_enabled']=_0x2b23d5;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=0x5*0x4c5+0x6b1+-0x1e8a,Tg=-0x69*0x19+-0x15*0x3e+0xf58,EI=-0x21b6+-0x5*0x4a3+0x38e7,CI=-0x1815+0x1*0x22a7+-0xa92,MI=0x82f+-0x108d+0x85f,ro=new W();class gx extends ue{constructor(_0x473479,_0x1e96df){super(_0x473479,_0x1e96df),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new W(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0x1*-0x1ca4+0x2*0xf42+0x1df*-0x1),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x5bdfd0=this['system']['store'][this['entity']['getGuid']()];return _0x5bdfd0?_0x5bdfd0['data']:null;}set['enabled'](_0x46ade9){this['_setValue']('enabled',_0x46ade9);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x3ef56a){this['_setValue']('horizontal',_0x3ef56a);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x4b59c0){this['_setValue']('vertical',_0x4b59c0);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x3b66b1){this['_setValue']('scrollMode',_0x3b66b1);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x24f8c7){this['_setValue']('bounceAmou'+'nt',_0x24f8c7);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x456b09){this['_setValue']('friction',_0x456b09);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0xb691a){this['_setValue']('dragThresh'+'old',_0xb691a);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x51d14b){this['_setValue']('useMouseWh'+'eel',_0x51d14b);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x4c00f9){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x4c00f9);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x56edf3){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x56edf3);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x26631a){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x26631a);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x262eef){if(this['_viewportE'+'ntity']===_0x262eef)return;const _0x59b71f=typeof _0x262eef=='string';this['_viewportE'+'ntity']&&_0x59b71f&&this['_viewportE'+'ntity']['getGuid']()===_0x262eef||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x262eef instanceof De?this['_viewportE'+'ntity']=_0x262eef:_0x59b71f?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x262eef)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x59b71f&&_0x262eef&&(this['data']['viewportEn'+'tity']=_0x262eef));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x2ca53b){if(this['_contentEn'+'tity']===_0x2ca53b)return;const _0x381adb=typeof _0x2ca53b=='string';this['_contentEn'+'tity']&&_0x381adb&&this['_contentEn'+'tity']['getGuid']()===_0x2ca53b||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x2ca53b instanceof De?this['_contentEn'+'tity']=_0x2ca53b:_0x381adb?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x2ca53b)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x381adb&&_0x2ca53b&&(this['data']['contentEnt'+'ity']=_0x2ca53b));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0xbdd054){if(this['_horizonta'+'lScrollbar'+'Entity']===_0xbdd054)return;const _0x50490e=typeof _0xbdd054=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x50490e&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0xbdd054||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0xbdd054 instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0xbdd054:_0x50490e?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0xbdd054)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x50490e&&_0xbdd054&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0xbdd054));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x4d6af8){if(this['_verticalS'+'crollbarEn'+'tity']===_0x4d6af8)return;const _0x3426c7=typeof _0x4d6af8=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x3426c7&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x4d6af8||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x4d6af8 instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x4d6af8:_0x3426c7?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x4d6af8)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x3426c7&&_0x4d6af8&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x4d6af8));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x402b74){this['_onSetScro'+'ll'](_0x402b74['x'],_0x402b74['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x35e753,_0x41d48b){const _0x1a349c=this['data'],_0xe07906=_0x1a349c[_0x35e753];_0x1a349c[_0x35e753]=_0x41d48b,this['fire']('set',_0x35e753,_0xe07906,_0x41d48b);}['_toggleLif'+'ecycleList'+'eners'](_0x2995e9){this[_0x2995e9]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x2995e9]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x2995e9]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x2a126d){if(this['entity']['element']){if(_0x2a126d==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x2a126d]('resize',this['_syncAll'],this),this['entity']['element'][_0x2a126d](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x2a126d==='on';}}['_onElement'+'ComponentA'+'dd'](_0x359a6c){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x581e23){var _0x86bea0;(_0x86bea0=this['_evtElemen'+'tRemove'])==null||_0x86bea0['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x4d4fe0,_0x4cc576;(_0x4d4fe0=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x4d4fe0['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x4cc576=this['_viewportE'+'ntity'])!=null&&_0x4cc576['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x1abb0d=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x1abb0d['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x1abb0d['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x2097ef,_0x18ce05;(_0x2097ef=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x2097ef['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x18ce05=this['_evtViewpo'+'rtResize'])==null||_0x18ce05['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x326a21,_0x162595;(_0x326a21=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x326a21['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x162595=this['_contentEn'+'tity'])!=null&&_0x162595['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x46f697=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x46f697['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x46f697['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x4e37fc,_0x34e5df;(_0x4e37fc=this['_evtConten'+'tElementRe'+'move'])==null||_0x4e37fc['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x34e5df=this['_evtConten'+'tResize'])==null||_0x34e5df['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x1f8b55){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x511+0x118*-0x19+0x2069),this['_setScroll'+'FromConten'+'tPosition'](_0x1f8b55),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x1f8b55),!this['_disabledC'+'ontentInpu'+'t'])){const _0x2d3a20=_0x1f8b55['x']-this['_dragStart'+'Position']['x'],_0x2768bc=_0x1f8b55['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x2d3a20)>this['dragThresh'+'old']||Math['abs'](_0x2768bc)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x38f7e5;(_0x38f7e5=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x38f7e5['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x3f338c;(_0x3f338c=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x3f338c['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x3266d3){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x3266d3,null);}['_onSetVert'+'icalScroll'+'barValue'](_0xd237cb){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0xd237cb);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x337836;const _0x4c2ebf=(_0x337836=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x524*-0x2+-0x1*0x499+-0x5af):_0x337836['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x4c2ebf['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x4c2ebf['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x50abf1;const _0x2d1cc0=(_0x50abf1=this['_verticalS'+'crollbarEn'+'tity'])==null?void(-0x771+-0x1*0x6cd+0xe3e*0x1):_0x50abf1['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x2d1cc0['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x2d1cc0['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x5a7111,_0xe4bf7a;(_0x5a7111=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x5a7111['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0xe4bf7a=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0xe4bf7a['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x45d169,_0x487a77;(_0x45d169=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x45d169['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x487a77=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x487a77['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x4cc254,_0x54b9b9,_0x5ab215){_0x5ab215!==!(0x6be*-0x2+0xfdf+-0x262)&&this['_velocity']['set'](-0x2*0x21d+-0x1267+0x16a1,-0x14c+-0x12*0x164+-0x1*-0x1a54,0x2641+-0x6*0x479+-0xb6b);const _0x51a72b=this['_updateAxi'+'s'](_0x4cc254,'x',pe),_0x5bde3c=this['_updateAxi'+'s'](_0x54b9b9,'y',ke);(_0x51a72b||_0x5bde3c)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x2a100f,_0x5b0084,_0x52b5a6){const _0x3b5cf5=_0x2a100f!==null&&Math['abs'](_0x2a100f-this['_scroll'][_0x5b0084])>0xb8f*0x3+0x6*0x674+0x1877*-0x3+0.00001;return(_0x3b5cf5||this['_isDraggin'+'g']()||_0x2a100f===0x1ead+-0xa5+-0xf04*0x2)&&(this['_scroll'][_0x5b0084]=this['_determine'+'NewScrollV'+'alue'](_0x2a100f,_0x5b0084,_0x52b5a6),this['_syncConte'+'ntPosition'](_0x52b5a6),this['_syncScrol'+'lbarPositi'+'on'](_0x52b5a6)),_0x3b5cf5;}['_determine'+'NewScrollV'+'alue'](_0x5c112c,_0x3d2403,_0x454ebf){if(!this['_getScroll'+'ingEnabled'](_0x454ebf))return this['_scroll'][_0x3d2403];switch(this['scrollMode']){case AI:return N['clamp'](_0x5c112c,0xe9*0x1+0x1cb7*0x1+-0x1da0,this['_getMaxScr'+'ollValue'](_0x454ebf));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x5c112c,_0x3d2403,_0x454ebf),_0x5c112c;case EI:return _0x5c112c;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x5c112c;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x90394c){if(!this['_contentEn'+'tity'])return;const _0x2afc5e=this['_getAxis'](_0x90394c),_0x38210f=this['_getSign'](_0x90394c),_0x24fe55=this['_prevConte'+'ntSizes'][_0x90394c],_0x3fd2ba=this['_getConten'+'tSize'](_0x90394c);if(_0x24fe55!==null&&Math['abs'](_0x24fe55-_0x3fd2ba)>-0x6*-0x16+-0x1f05+0x1e81+0.0001){const _0x56b4d8=this['_getMaxOff'+'set'](_0x90394c,_0x24fe55),_0x2c5039=this['_getMaxOff'+'set'](_0x90394c,_0x3fd2ba);_0x2c5039===0x24da+0x10eb+-0x35c5?this['_scroll'][_0x2afc5e]=-0x1b49+-0x1db8+0x1c81*0x2:this['_scroll'][_0x2afc5e]=N['clamp'](this['_scroll'][_0x2afc5e]*_0x56b4d8/_0x2c5039,-0x2464+0xbd9+0x188b,0x113*0x1+0x11d4+0x2*-0x973);}const _0x1f22d4=this['_scroll'][_0x2afc5e]*this['_getMaxOff'+'set'](_0x90394c),_0x3d8522=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x3d8522[_0x2afc5e]=_0x1f22d4*_0x38210f,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x3d8522),this['_prevConte'+'ntSizes'][_0x90394c]=_0x3fd2ba;}['_syncScrol'+'lbarPositi'+'on'](_0x3b7875){const _0x5598a7=this['_scrollbar'+'Entities'][_0x3b7875];if(!(_0x5598a7!=null&&_0x5598a7['scrollbar']))return;const _0x3ae767=this['_getAxis'](_0x3b7875);this['_scrollbar'+'UpdateFlag'+'s'][_0x3b7875]=!(-0x3d*-0x51+-0x2*-0x6d9+-0x20ff),_0x5598a7['scrollbar']['value']=this['_scroll'][_0x3ae767],_0x5598a7['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x3ae767,_0x3b7875),this['_scrollbar'+'UpdateFlag'+'s'][_0x3b7875]=!(-0x31*0xaa+0x40e+-0x231*-0xd);}['_syncScrol'+'lbarEnable'+'dState'](_0x3f4e54){const _0x5c8984=this['_scrollbar'+'Entities'][_0x3f4e54];if(!_0x5c8984)return;const _0x457f02=this['_getScroll'+'ingEnabled'](_0x3f4e54),_0x2d8c3f=this['_getScroll'+'barVisibil'+'ity'](_0x3f4e54);switch(_0x2d8c3f){case CI:_0x5c8984['enabled']=_0x457f02;return;case MI:_0x5c8984['enabled']=_0x457f02&&this['_contentIs'+'LargerThan'+'Viewport'](_0x3f4e54);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x2d8c3f),_0x5c8984['enabled']=_0x457f02;}}['_contentIs'+'LargerThan'+'Viewport'](_0x3b69ff){return this['_getConten'+'tSize'](_0x3b69ff)>this['_getViewpo'+'rtSize'](_0x3b69ff);}['_contentPo'+'sitionToSc'+'rollValue'](_0x1eb60d){const _0x53426f=this['_getMaxOff'+'set'](pe),_0x50cec8=this['_getMaxOff'+'set'](ke);return _0x53426f===0x14d9+-0x9af*-0x1+-0x1e88?ro['x']=0x1*0x1dd2+0xb3f*-0x1+0x1*-0x1293:ro['x']=_0x1eb60d['x']/_0x53426f,_0x50cec8===0x39b+0xeec+-0x1287?ro['y']=0x5*0x131+0x7*-0x23d+0x9b6:ro['y']=_0x1eb60d['y']/-_0x50cec8,ro;}['_getMaxOff'+'set'](_0x17c8c8,_0x2d8a70){_0x2d8a70=_0x2d8a70===void(0xa*0x8+-0x2*-0xb92+-0x26*0x9e)?this['_getConten'+'tSize'](_0x17c8c8):_0x2d8a70;const _0x33cc1e=this['_getViewpo'+'rtSize'](_0x17c8c8);return _0x2d8a70<_0x33cc1e?-this['_getViewpo'+'rtSize'](_0x17c8c8):_0x33cc1e-_0x2d8a70;}['_getMaxScr'+'ollValue'](_0x795a3c){return this['_contentIs'+'LargerThan'+'Viewport'](_0x795a3c)?-0x1*-0x1d84+0x4a*0x6+-0x1f3f:0x12e7*-0x1+0x2*0x3ab+0x9*0x149;}['_getScroll'+'barHandleS'+'ize'](_0x5dbd7c,_0x1e6179){const _0x587873=this['_getViewpo'+'rtSize'](_0x1e6179),_0x56831e=this['_getConten'+'tSize'](_0x1e6179);if(Math['abs'](_0x56831e)<0xd38+0xfb8+-0x1cf0+0.001)return-0xf24+-0xe5c+0x1d81;const _0x3b6fef=Math['min'](_0x587873/_0x56831e,0x2*-0x5e6+-0x266d*0x1+0x191d*0x2),_0x7b2f2e=this['_toOversho'+'ot'](this['_scroll'][_0x5dbd7c],_0x1e6179);return _0x7b2f2e===-0x14f7+0x1dcd*-0x1+0x32c4?_0x3b6fef:_0x3b6fef/(-0x1*-0x1087+-0x113*-0x22+-0x350c+Math['abs'](_0x7b2f2e));}['_getViewpo'+'rtSize'](_0x11afc2){return this['_getSize'](_0x11afc2,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x2f0506){return this['_getSize'](_0x2f0506,this['_contentEn'+'tity']);}['_getSize'](_0x3cf26f,_0x5ea392){return _0x5ea392!=null&&_0x5ea392['element']?_0x5ea392['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x3cf26f)]:0x118a+-0x1df6+0xc6c;}['_getScroll'+'ingEnabled'](_0x5cf2bb){if(_0x5cf2bb===pe)return this['horizontal'];if(_0x5cf2bb===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x5cf2bb);}['_getScroll'+'barVisibil'+'ity'](_0x334596){if(_0x334596===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x334596===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x334596);}['_getSign'](_0x19b024){return _0x19b024===pe?0x2302+-0x497+-0x1e6a:-(-0x1bec+-0x1b30+0x371d);}['_getAxis'](_0x3c2f52){return _0x3c2f52===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x170feb){return _0x170feb===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>0x1*-0x1c9+0x16b*0x3+0x4f*-0x8+0.0001||Math['abs'](this['_velocity']['y'])>0x10*-0xe8+0x1f68+-0x10e8*0x1+0.0001){const _0x51371c=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x51371c['x']+=this['_velocity']['x'],_0x51371c['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x51371c),this['_setScroll'+'FromConten'+'tPosition'](_0x51371c);}this['_velocity']['x']*=0xd*0x2a3+-0x7fc+-0x1a4a-this['friction'],this['_velocity']['y']*=-0x1aa*0x4+-0x286*0xd+0x2777*0x1-this['friction'];}}['_hasOversh'+'oot'](_0x543dde,_0x5d5fe8){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x543dde],_0x5d5fe8))>-0x270+-0x1*-0x403+-0x193+0.001;}['_toOversho'+'ot'](_0x875143,_0x5e5497){const _0x191307=this['_getMaxScr'+'ollValue'](_0x5e5497);return _0x875143<-0x3*-0x5c6+-0x21*-0xa7+-0xff*0x27?_0x875143:_0x875143>_0x191307?_0x875143-_0x191307:0x1b81+-0x1a24+-0x15d;}['_setVeloci'+'tyFromOver'+'shoot'](_0x18f5d2,_0x3ed87c,_0x28bed1){const _0x17e521=this['_toOversho'+'ot'](_0x18f5d2,_0x28bed1)*this['_getMaxOff'+'set'](_0x28bed1)*this['_getSign'](_0x28bed1);Math['abs'](_0x17e521)>0x22a*0x10+-0x19*-0xda+-0x1*0x37ea&&(this['_velocity'][_0x3ed87c]=-_0x17e521/(this['bounceAmou'+'nt']*(0xb4a+0xd07+-0x181f)+(-0x104f+0x3*0x15d+0xc39)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x36afe0){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x36afe0,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x36afe0)):(this['_velocity']['set'](-0x9f2*0x1+0xde3+-0x3f1,-0x39*-0x7f+-0x1ab2+0x2d*-0x9,0x9da*0x2+-0x1fd0+0x7c*0x19),this['_prevConte'+'ntDragPosi'+'tion']=_0x36afe0['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x3df52c){let _0x5723c4=this['_contentPo'+'sitionToSc'+'rollValue'](_0x3df52c);this['_isDraggin'+'g']()&&(_0x5723c4=this['_applyScro'+'llValueTen'+'sion'](_0x5723c4)),this['_onSetScro'+'ll'](_0x5723c4['x'],_0x5723c4['y'],!(0x1121+0x5*0x6+0x1*-0x113e));}['_applyScro'+'llValueTen'+'sion'](_0x2a0fa7){let _0x2cf816=this['_getMaxScr'+'ollValue'](pe),_0x464c74=this['_toOversho'+'ot'](_0x2a0fa7['x'],pe);return _0x464c74>0xe89+0x962*-0x1+-0x527?_0x2a0fa7['x']=_0x2cf816+(-0x91*0x9+0x10*-0x218+0x269a)*Math['log10'](0x2403+-0x1cc*0x1+-0x2236+_0x464c74):_0x464c74<-0x23b5+0xd3*0x25+-0x536*-0x1&&(_0x2a0fa7['x']=-(-0x1*-0x1ce9+-0x4e*-0x3c+0x4b8*-0xa)*Math['log10'](0x1*-0x1642+-0x22ee+0x533*0xb-_0x464c74)),_0x2cf816=this['_getMaxScr'+'ollValue'](ke),_0x464c74=this['_toOversho'+'ot'](_0x2a0fa7['y'],ke),_0x464c74>-0xaf3+0x1*-0x190b+0x23fe?_0x2a0fa7['y']=_0x2cf816+(0x2103+-0x117e+-0xf84)*Math['log10'](-0x1e90+0x1d73+0x16*0xd+_0x464c74):_0x464c74<0x2fd+0x4*-0x9d+-0x89&&(_0x2a0fa7['y']=-(0xc9*0x2+0x2570+-0x2701)*Math['log10'](0x2592+-0x2*0x9fd+-0x3*0x5dd-_0x464c74)),_0x2a0fa7;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x19f31d){var _0x37f3d0,_0x276323;(_0x37f3d0=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x37f3d0['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x19f31d),(_0x276323=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x276323['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x19f31d);}['_setConten'+'tDraggingE'+'nabled'](_0x17a48c){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x17a48c);}['_onMouseWh'+'eel'](_0x563fa4){var _0x3b894f;if(!this['useMouseWh'+'eel']||!((_0x3b894f=this['_contentEn'+'tity'])!=null&&_0x3b894f['element']))return;const _0x438b0b=_0x563fa4['event'],_0x4a7411=_0x438b0b['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x313335=_0x438b0b['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x3544d3=N['clamp'](this['_scroll']['x']+_0x4a7411,-0x23*0x1+0x1eb6+-0x1e93,this['_getMaxScr'+'ollValue'](pe)),_0x57c77a=N['clamp'](this['_scroll']['y']+_0x313335,0x14f*-0x7+-0x1f2a*0x1+0x25*0x117,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new W(_0x3544d3,_0x57c77a);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x1b414c=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x1b414c['element']&&(_0x1b414c['element']['useInput']=!(0x952*0x4+0x6ed+0x2c35*-0x1));}this['_disabledC'+'ontentInpu'+'t']=!(-0x2ad+-0x1*-0xc0a+-0x95c);}['_disableCo'+'ntentInput'](){const _0x24948d=_0x45265a=>{_0x45265a['element']&&_0x45265a['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x45265a),_0x45265a['element']['useInput']=!(-0x1076+-0x4fa+0x1571));const _0x4fa4a7=_0x45265a['children'];for(let _0x27c070=-0x120+0x131*0x16+-0x1916,_0x297ab9=_0x4fa4a7['length'];_0x27c070<_0x297ab9;_0x27c070++)_0x24948d(_0x4fa4a7[_0x27c070]);};if(this['_contentEn'+'tity']){const _0x201ec4=this['_contentEn'+'tity']['children'];for(let _0x32c9a0=-0x12c9*-0x2+-0x707+-0x1e8b,_0x4b7ed7=_0x201ec4['length'];_0x32c9a0<_0x4b7ed7;_0x32c9a0++)_0x24948d(_0x201ec4[_0x32c9a0]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x1c7f+-0x6c4+0x2343);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x1951+0x5d*-0x21+0x19*0x17e)),this['_setConten'+'tDraggingE'+'nabled'](!(0x1653+0x1f96+0x25*-0x175)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x2*0xbf9+0x2ce+0x1abf*-0x1)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x61*0xd+-0xec7+0x5*0x3f1));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1da160,_0x558cee){_0x1da160['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x558cee[_0x1da160['viewportEn'+'tity']['getGuid']()]),_0x1da160['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x558cee[_0x1da160['contentEnt'+'ity']['getGuid']()]),_0x1da160['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x558cee[_0x1da160['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x1da160['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x558cee[_0x1da160['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=-0x1*-0x46+-0xbd7*-0x1+-0x119*0xb;class RI{constructor(){c(this,'enabled',!(-0x1*-0x1fd9+-0x20c*-0x4+0x2809*-0x1)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(-0x1fe+-0x23e5+0x25e3)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(-0x2*0x9d6+-0x1f9*0x8+-0x139*-0x1d,-0xf5a+0x16cf+0x24*-0x35)),c(this,'horizontal'+'ScrollbarV'+'isibility',-0x1*0x11f6+0x9a*0x1a+-0x16*-0x1b),c(this,'verticalSc'+'rollbarVis'+'ibility',-0x17ad+-0x5*0x1cd+0x20ae),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=0x26d7+0x1*0xce9+-0x33b6;class DI extends Xe{constructor(_0x2e4a85){super(_0x2e4a85),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x57aae3,_0x500fcb,_0x416434){_0x500fcb['dragThresh'+'old']===void(-0x52f+-0x5*0x5ee+0x22d5*0x1)&&(_0x500fcb['dragThresh'+'old']=II),_0x500fcb['useMouseWh'+'eel']===void(0x1871+-0x220e+-0x17*-0x6b)&&(_0x500fcb['useMouseWh'+'eel']=!(-0x1115+0x78e+-0x987*-0x1)),_0x500fcb['mouseWheel'+'Sensitivit'+'y']===void(0xb1b*-0x1+-0x2*-0xbd8+-0xc95)&&(_0x500fcb['mouseWheel'+'Sensitivit'+'y']=new W(0x476+-0x1cb*0x1+0x1f*-0x16,0xb1a+0x1fb3+-0x2acc)),super['initialize'+'ComponentD'+'ata'](_0x57aae3,_0x500fcb,Ag),_0x57aae3['viewportEn'+'tity']=_0x500fcb['viewportEn'+'tity'],_0x57aae3['contentEnt'+'ity']=_0x500fcb['contentEnt'+'ity'],_0x57aae3['horizontal'+'ScrollbarE'+'ntity']=_0x500fcb['horizontal'+'ScrollbarE'+'ntity'],_0x57aae3['verticalSc'+'rollbarEnt'+'ity']=_0x500fcb['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x44a45d){const _0x5f2a2a=this['store'];for(const _0x209ada in _0x5f2a2a){const _0x28df0b=_0x5f2a2a[_0x209ada]['entity'],_0x4bb0c2=_0x28df0b['scrollview'];_0x4bb0c2['enabled']&&_0x28df0b['enabled']&&_0x4bb0c2['onUpdate']();}}['_onRemoveC'+'omponent'](_0x2a8f28,_0x1673b0){_0x1673b0['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x4d6460,_0x3a79c7){super(_0x4d6460,_0x3a79c7),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x2e7323=this['system']['store'][this['entity']['getGuid']()];return _0x2e7323?_0x2e7323['data']:null;}set['enabled'](_0x3ab5cd){this['_setValue']('enabled',_0x3ab5cd);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x597d8a){this['_setValue']('orientatio'+'n',_0x597d8a);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x5e60a4){this['_setValue']('value',_0x5e60a4);}get['value'](){return this['data']['value'];}set['handleSize'](_0x13fd19){this['_setValue']('handleSize',_0x13fd19);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x48580d){if(this['_handleEnt'+'ity']===_0x48580d)return;const _0x5e03aa=typeof _0x48580d=='string';this['_handleEnt'+'ity']&&_0x5e03aa&&this['_handleEnt'+'ity']['getGuid']()===_0x48580d||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x48580d instanceof De?this['_handleEnt'+'ity']=_0x48580d:_0x5e03aa?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x48580d)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x5e03aa&&_0x48580d&&(this['data']['handleEnti'+'ty']=_0x48580d));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x1e6411,_0x5ce8c2){const _0x5ca32a=this['data'],_0x5eefe4=_0x5ca32a[_0x1e6411];_0x5ca32a[_0x1e6411]=_0x5ce8c2,this['fire']('set',_0x1e6411,_0x5eefe4,_0x5ce8c2);}['_toggleLif'+'ecycleList'+'eners'](_0x2bbb03){this[_0x2bbb03]('set_value',this['_onSetValu'+'e'],this),this[_0x2bbb03]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x2bbb03]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x55507c,_0x2c5627;(_0x55507c=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x55507c['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x2c5627=this['_handleEnt'+'ity'])!=null&&_0x2c5627['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x5dfee6=this['_handleEnt'+'ity']['element'],_0x44fb3e=this['_evtHandle'+'EntityChan'+'ges'];_0x44fb3e['push'](_0x5dfee6['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x44fb3e['push'](_0x5dfee6['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x44fb3e['push'](_0x5dfee6['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x44fb3e['push'](_0x5dfee6['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x1001de=0x14b*0x8+0x20f5+-0x5*0x8a9;_0x1001de<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x1001de++)this['_evtHandle'+'EntityChan'+'ges'][_0x1001de]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0x1557+0x41*-0x29+0x577*-0x2;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x5891dc){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x5891dc[this['_getAxis']()]));}['_onSetValu'+'e'](_0x27aa5d,_0x3c9873,_0x257a3c){Math['abs'](_0x257a3c-_0x3c9873)>-0xc13+-0x75d*-0x2+-0x2a7+0.00001&&(this['data']['value']=N['clamp'](_0x257a3c,0x5e*0x5e+-0xd*-0x1a3+-0x37cb,0x2e8+0x1b04+-0x1deb),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x2bd373,_0xad2d37,_0x11ee7b){Math['abs'](_0x11ee7b-_0xad2d37)>0x49f*0x6+-0x2c9*-0x4+-0x26de+0.00001&&(this['data']['handleSize']=N['clamp'](_0x11ee7b,0x1*0xc59+0x1d*-0x3b+-0x2*0x2d5,0x1*0x1d9f+-0x17d7*-0x1+-0x3575),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x21da5f,_0x3c0a91,_0x5c9f5d){var _0x3eb150;_0x5c9f5d!==_0x3c0a91&&((_0x3eb150=this['_handleEnt'+'ity'])!=null&&_0x3eb150['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x32b*-0x3+-0x233e+-0xb*-0x257);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x94dcd4=this['_handleEnt'+'ity'],_0xc29f9f=_0x94dcd4==null?void(0x3*-0x3a9+0x1f66+0x1*-0x146b):_0x94dcd4['element'];if(_0x94dcd4){const _0x5eff80=_0x94dcd4['getLocalPo'+'sition']();_0x5eff80[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x94dcd4['setLocalPo'+'sition'](_0x5eff80);}_0xc29f9f&&(_0xc29f9f[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x303f9d){return _0x303f9d*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x1a18dc){return _0x1a18dc*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x3*-0x7c9+-0x1b75+0x41a+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0xef+0x1e6e+-0x1d7f;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?-0x56*0x35+0xb1*-0x35+0x3674:-(-0x7ca+-0x607+0xdd2);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x18c50a){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x18c50a);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x218f*0x1+-0x1*-0x605+-0xeb*-0x1e));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x2682+-0x1*0x257f+0x4c02));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1b8d4a,_0x368019){_0x1b8d4a['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x368019[_0x1b8d4a['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(-0x8*0x301+-0x351*-0xa+-0x7*0x14e)),c(this,'orientatio'+'n',pe),c(this,'value',0x1*0xa45+-0xeb+-0x95a),c(this,'handleSize',0x3*-0xaec+-0x7*-0xd3+0x1aff),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x6c4ca){super(_0x6c4ca),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0xbc6756,_0x519a8d,_0x260f1a){super['initialize'+'ComponentD'+'ata'](_0xbc6756,_0x519a8d,Eg),_0xbc6756['handleEnti'+'ty']=_0x519a8d['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x3d0cdc){_0x3d0cdc['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x1b58c,_0xd22673){_0xd22673['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(-0x29d*-0x1+-0x1*-0x542+0x7de*-0x1),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x2241cd,_0x16e9d8='Untitled',_0x52a44d={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x2241cd,this['_assets']=_0x2241cd['system']['app']['assets'],this['_manager']=_0x2241cd['system']['manager'],this['name']=_0x16e9d8,this['_volume']=_0x52a44d['volume']!==void(-0x9e0+-0x262a+0x300a)?N['clamp'](Number(_0x52a44d['volume'])||0xb3d+-0x13d8+0x1*0x89b,-0xbfe+-0x21ca+0x16e4*0x2,0x101b+0x18d*0xb+-0x2129):0x1*-0xa3d+-0x167e*-0x1+-0xe0*0xe,this['_pitch']=_0x52a44d['pitch']!==void(0xb*0x323+-0x19a4*0x1+-0x8dd*0x1)?Math['max'](0x125d+-0xb*0x19f+0x4*-0x22+0.01,Number(_0x52a44d['pitch'])||0x1c0+0x12d8*-0x1+0x1118):0x31*-0x3b+0x2b6*0x1+0x13a*0x7,this['_loop']=!!(_0x52a44d['loop']!==void(-0xf*-0xc3+0x2*0x91+-0xc8f)&&_0x52a44d['loop']),this['_duration']=_0x52a44d['duration']>-0x244f*0x1+0x10e8+-0x1*-0x1367?_0x52a44d['duration']:null,this['_startTime']=Math['max'](0x2364+-0x2643+0x2df,Number(_0x52a44d['startTime'])||-0x1bd4+-0x29*-0x93+0x1*0x449),this['_overlap']=!!_0x52a44d['overlap'],this['_autoPlay']=!!_0x52a44d['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x52a44d['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x330a66){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x381076=_0x330a66;if(_0x381076||(_0x381076=this['_createIns'+'tance'](),this['instances']['push'](_0x381076)),this['isLoaded'])_0x381076['play']();else{const _0x4ff305=function(_0x570ed8){const _0x59c2f6=_0x381076['_playWhenL'+'oaded'];_0x381076['sound']=_0x570ed8,_0x59c2f6&&_0x381076['play']();};this['off']('load',_0x4ff305),this['once']('load',_0x4ff305),this['load']();}return _0x381076;}['pause'](){let _0x5d1245=!(-0x563+-0x162*0xb+-0x24a*-0x9);const _0x2c4f35=this['instances'];for(let _0x2a3e31=-0x68*-0x8+0x40*-0x4a+0x40*0x3d,_0x1963c5=_0x2c4f35['length'];_0x2a3e31<_0x1963c5;_0x2a3e31++)_0x2c4f35[_0x2a3e31]['pause']()&&(_0x5d1245=!(-0x25a9+0x5*-0x290+-0xb1*-0x49));return _0x5d1245;}['resume'](){let _0x18ff01=!(0xacd+-0xc6b+0x19f*0x1);const _0x50f576=this['instances'];for(let _0x275272=0x89e+0x250a+-0x2*0x16d4,_0x2129f9=_0x50f576['length'];_0x275272<_0x2129f9;_0x275272++)_0x50f576[_0x275272]['resume']()&&(_0x18ff01=!(-0x78*-0x49+0x2*-0x383+-0x1b32));return _0x18ff01;}['stop'](){let _0x172f7c=!(-0x17dd+-0x4de+0x265*0xc);const _0x4c2e55=this['instances'];let _0x3b6b2d=_0x4c2e55['length'];for(;_0x3b6b2d--;)_0x4c2e55[_0x3b6b2d]['stop'](),_0x172f7c=!(-0x19b9+-0x1bd+0x1b76);return _0x4c2e55['length']=0x509+-0x6*0x387+0x1*0x1021,_0x172f7c;}['load'](){if(!this['_hasAsset']())return;const _0x80cb73=this['_assets']['get'](this['_asset']);if(!_0x80cb73){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x80cb73['off']('remove',this['_onAssetRe'+'moved'],this),_0x80cb73['on']('remove',this['_onAssetRe'+'moved'],this),!_0x80cb73['resource']){_0x80cb73['off']('load',this['_onAssetLo'+'ad'],this),_0x80cb73['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x80cb73);return;}this['fire']('load',_0x80cb73['resource']);}['setExterna'+'lNodes'](_0x17fd6a,_0xa46da0){if(!_0x17fd6a){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0xa46da0||(_0xa46da0=_0x17fd6a),this['_firstNode']=_0x17fd6a,this['_lastNode']=_0xa46da0,!this['_overlap']){const _0xa22b0a=this['instances'];for(let _0x48980f=0x41c+0x4*-0x4cd+-0x3c6*-0x4,_0x1a01a9=_0xa22b0a['length'];_0x48980f<_0x1a01a9;_0x48980f++)_0xa22b0a[_0x48980f]['setExterna'+'lNodes'](_0x17fd6a,_0xa46da0);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x3e351e=this['instances'];for(let _0x2f9f63=0x36*0x1+0x5e0+-0x616,_0x112b9c=_0x3e351e['length'];_0x2f9f63<_0x112b9c;_0x2f9f63++)_0x3e351e[_0x2f9f63]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x9ef23d=null;const _0x2b0044=this['_component'];let _0x4c671b=null;if(this['_hasAsset']()){const _0x341ec8=this['_assets']['get'](this['_asset']);_0x341ec8&&(_0x4c671b=_0x341ec8['resource']);}const _0x4f60fc=OI;return _0x4f60fc['volume']=this['_volume']*_0x2b0044['volume'],_0x4f60fc['pitch']=this['_pitch']*_0x2b0044['pitch'],_0x4f60fc['loop']=this['_loop'],_0x4f60fc['startTime']=this['_startTime'],_0x4f60fc['duration']=this['_duration'],_0x4f60fc['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x4f60fc['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x4f60fc['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x4f60fc['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x4f60fc['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x2b0044['positional']?(_0x4f60fc['position']['copy'](_0x2b0044['entity']['getPositio'+'n']()),_0x4f60fc['maxDistanc'+'e']=_0x2b0044['maxDistanc'+'e'],_0x4f60fc['refDistanc'+'e']=_0x2b0044['refDistanc'+'e'],_0x4f60fc['rollOffFac'+'tor']=_0x2b0044['rollOffFac'+'tor'],_0x4f60fc['distanceMo'+'del']=_0x2b0044['distanceMo'+'del'],_0x9ef23d=new jn(this['_manager'],_0x4c671b,_0x4f60fc)):_0x9ef23d=new ss(this['_manager'],_0x4c671b,_0x4f60fc),this['_firstNode']&&_0x9ef23d['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x9ef23d;}['_onInstanc'+'ePlay'](_0x26a513){this['fire']('play',_0x26a513),this['_component']['fire']('play',this,_0x26a513);}['_onInstanc'+'ePause'](_0x158c54){this['fire']('pause',_0x158c54),this['_component']['fire']('pause',this,_0x158c54);}['_onInstanc'+'eResume'](_0x46fb97){this['fire']('resume',_0x46fb97),this['_component']['fire']('resume',this,_0x46fb97);}['_onInstanc'+'eStop'](_0x2397b1){const _0x4d86fa=this['instances']['indexOf'](_0x2397b1);_0x4d86fa!==-(0x5ac*0x1+-0x1*0x2de+-0x2cd*0x1)&&this['instances']['splice'](_0x4d86fa,-0x6*0xd3+0xa*0x1cd+-0x1*0xd0f),this['fire']('stop',_0x2397b1),this['_component']['fire']('stop',this,_0x2397b1);}['_onInstanc'+'eEnd'](_0x1c295f){const _0x4dd8fe=this['instances']['indexOf'](_0x1c295f);_0x4dd8fe!==-(-0xff+0x22a9+-0x21a9)&&this['instances']['splice'](_0x4dd8fe,-0x25d0+-0x4*0xad+0x2885),this['fire']('end',_0x1c295f),this['_component']['fire']('end',this,_0x1c295f);}['_onAssetAd'+'d'](_0x151ff1){this['load']();}['_onAssetLo'+'ad'](_0x577542){this['load']();}['_onAssetRe'+'moved'](_0x45c72c){_0x45c72c['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x45c72c['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0xe3d1c){const _0x1e7de6=this['instances'];for(let _0x32bf7b=-0x1*-0x3b7+0x553*-0x3+-0x2*-0x621,_0x33814a=_0x1e7de6['length'];_0x32bf7b<_0x33814a;_0x32bf7b++)_0x1e7de6[_0x32bf7b]['position']=_0xe3d1c;}set['asset'](_0x4ffd9d){const _0x27a6f6=this['_asset'];if(_0x27a6f6){this['_assets']['off']('add:'+_0x27a6f6,this['_onAssetAd'+'d'],this);const _0x342148=this['_assets']['get'](_0x27a6f6);_0x342148&&_0x342148['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x4ffd9d,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x14243b){this['_autoPlay']=!!_0x14243b;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x353f53){if(this['_duration']=Math['max'](-0x6b*-0x50+-0x929+0x1*-0x1847,Number(_0x353f53)||0x126b+0x2661+0xb5c*-0x5)||null,!this['_overlap']){const _0x2486f9=this['instances'];for(let _0x1f8670=0x14d6+0x1a23*0x1+-0xb9*0x41,_0x1adb46=_0x2486f9['length'];_0x1f8670<_0x1adb46;_0x1f8670++)_0x2486f9[_0x1f8670]['duration']=this['_duration'];}}get['duration'](){let _0x119844=-0x4e*0x76+0xd2d+-0x341*-0x7;if(this['_hasAsset']()){const _0x393613=this['_assets']['get'](this['_asset']);_0x119844=_0x393613!=null&&_0x393613['resource']?_0x393613['resource']['duration']:0x486+0xe*0x4a+0x449*-0x2;}return this['_duration']!=null?this['_duration']%(_0x119844||-0x1a8+-0x2362+0x250b):_0x119844;}get['isLoaded'](){if(this['_hasAsset']()){const _0x30bed1=this['_assets']['get'](this['_asset']);if(_0x30bed1)return!!_0x30bed1['resource'];}return!(-0x250d+-0x11fb+-0x49*-0xc1);}get['isPaused'](){const _0x2ec84c=this['instances'],_0x174dcb=_0x2ec84c['length'];if(_0x174dcb===0x1*0x25f9+-0x60b+0x86*-0x3d)return!(0x11e6+-0xcb4+-0x531);for(let _0x52f95a=-0x122f+0x238c+0x1*-0x115d;_0x52f95a<_0x174dcb;_0x52f95a++)if(!_0x2ec84c[_0x52f95a]['isPaused'])return!(0x792+-0x10e*-0x9+0xb*-0x18d);return!(0x5d2+-0x1*-0x14cb+-0x3*0x8df);}get['isPlaying'](){const _0xd40658=this['instances'];for(let _0x1ce493=0x1027*0x1+0x1793+0x3f9*-0xa,_0x5381cd=_0xd40658['length'];_0x1ce493<_0x5381cd;_0x1ce493++)if(_0xd40658[_0x1ce493]['isPlaying'])return!(-0x934+-0x101*-0x9+0x2b);return!(0x8ae*0x1+-0x1a6b+0x8df*0x2);}get['isStopped'](){const _0x59b2d7=this['instances'];for(let _0x5000b9=-0x512+0x57a*-0x7+-0x3*-0xe78,_0x54977a=_0x59b2d7['length'];_0x5000b9<_0x54977a;_0x5000b9++)if(!_0x59b2d7[_0x5000b9]['isStopped'])return!(0x3*0x9af+-0x1cd0+-0x3c);return!(0x368+0x3f*0x69+-0x1d3f);}set['loop'](_0x2d028f){this['_loop']=!!_0x2d028f;const _0x145a23=this['instances'];for(let _0x5c3e9c=0x1b2+0x7*0x24b+-0x11bf,_0xd49ee8=_0x145a23['length'];_0x5c3e9c<_0xd49ee8;_0x5c3e9c++)_0x145a23[_0x5c3e9c]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x30a25d){this['_overlap']=!!_0x30a25d;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x54259e){if(this['_pitch']=Math['max'](Number(_0x54259e)||0xc43*-0x1+-0x122f*-0x1+0x4*-0x17b,-0x39e+0x1776+-0x13d8+0.01),!this['_overlap']){const _0x5bb2ac=this['instances'];for(let _0x39003f=0x1*0x119+0xc31*-0x3+0xef*0x26,_0x457d29=_0x5bb2ac['length'];_0x39003f<_0x457d29;_0x39003f++)_0x5bb2ac[_0x39003f]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x1dfbec){if(this['_startTime']=Math['max'](-0x5de+-0x113b+-0xdb*-0x1b,Number(_0x1dfbec)||0xc02+-0x83f*-0x2+0x39*-0x80),!this['_overlap']){const _0x461e7b=this['instances'];for(let _0x3f6c31=0x15d6+-0x17*0x25+0x1*-0x1283,_0x49804c=_0x461e7b['length'];_0x3f6c31<_0x49804c;_0x3f6c31++)_0x461e7b[_0x3f6c31]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x2ed7dd){if(this['_volume']=N['clamp'](Number(_0x2ed7dd)||-0x5*-0x458+0x231e+-0x38d6*0x1,-0x1*-0xcee+-0x25e9*-0x1+0x2ad*-0x13,-0x1*-0xcb5+-0x18d1*0x1+0xc1d),!this['_overlap']){const _0x322a1a=this['instances'];for(let _0x277682=-0x7*0x17+0x177*0x18+-0x2287,_0x120802=_0x322a1a['length'];_0x277682<_0x120802;_0x277682++)_0x322a1a[_0x277682]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',0x1f*-0x133+0x3*0xb2a+0x3b0),c(this,'_pitch',0x15ab+0xe5e+-0x2408),c(this,'_positiona'+'l',!(-0xb28+-0x28b*0x5+0x17df)),c(this,'_refDistan'+'ce',-0x17e2+-0x5e5*-0x4+0x4f),c(this,'_maxDistan'+'ce',0x44f*-0x1+0x31d*-0x1+0x22*0x15e),c(this,'_rollOffFa'+'ctor',-0x25d0+0xf22+0x16af*0x1),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x17a03d,_0x35681a,_0x440888){const _0x2771af=this['_slots'];for(const _0x3cc588 in _0x2771af){const _0x5352ab=_0x2771af[_0x3cc588];if(!_0x5352ab['overlap']){const _0x5cd56b=_0x5352ab['instances'];for(let _0x3176ef=0x1*-0x24d3+-0x1*0x48+0x7*0x54d,_0x3c06e1=_0x5cd56b['length'];_0x3176ef<_0x3c06e1;_0x3176ef++)_0x5cd56b[_0x3176ef][_0x17a03d]=_0x440888?_0x5352ab[_0x17a03d]*_0x35681a:_0x35681a;}}}set['distanceMo'+'del'](_0x2d328c){this['_distanceM'+'odel']=_0x2d328c,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x2d328c,!(0x18da+0x12*-0x1e6+0x953));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x2e144d){this['_maxDistan'+'ce']=_0x2e144d,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x2e144d,!(-0x3a2+0xf33+-0xb90));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x5774a4){this['_refDistan'+'ce']=_0x5774a4,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x5774a4,!(-0x621*0x1+0x2cd*-0x6+0x16f0));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0xb17ea2){this['_rollOffFa'+'ctor']=_0xb17ea2,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0xb17ea2,!(0x8*0x2eb+0x44a*-0x1+-0x1*0x130d));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x143171){this['_pitch']=_0x143171,this['_updateSou'+'ndInstance'+'s']('pitch',_0x143171,!(-0xd*-0x15+-0x1306+-0x11f5*-0x1));}get['pitch'](){return this['_pitch'];}set['volume'](_0x8d9575){this['_volume']=_0x8d9575,this['_updateSou'+'ndInstance'+'s']('volume',_0x8d9575,!(-0xe*-0x16e+-0x2682+0x127e));}get['volume'](){return this['_volume'];}set['positional'](_0x430a00){this['_positiona'+'l']=_0x430a00;const _0x22b11a=this['_slots'];for(const _0x38a4b6 in _0x22b11a){const _0x3b3136=_0x22b11a[_0x38a4b6];if(!_0x3b3136['overlap']){const _0x35ff67=_0x3b3136['instances'],_0x5b8b69=_0x35ff67['length'];for(let _0xffe507=_0x5b8b69-(0x199*0xb+-0x31a*0x8+0x73e);_0xffe507>=0x1*0xac1+0x1df5*-0x1+-0x1334*-0x1;_0xffe507--){const _0x17095f=_0x35ff67[_0xffe507]['isPlaying']||_0x35ff67[_0xffe507]['isSuspende'+'d'],_0x5b4300=_0x35ff67[_0xffe507]['currentTim'+'e'];_0x17095f&&_0x35ff67[_0xffe507]['stop']();const _0x4a32e9=_0x3b3136['_createIns'+'tance']();_0x17095f&&(_0x4a32e9['play'](),_0x4a32e9['currentTim'+'e']=_0x5b4300),_0x35ff67['push'](_0x4a32e9);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0xcafcc8){const _0xb02f4c=this['_slots'];if(_0xb02f4c){for(const _0x22416b in _0xb02f4c)_0xb02f4c[_0x22416b]['stop']();}const _0x56d2b7={};for(const _0x55b8dc in _0xcafcc8)_0xcafcc8[_0x55b8dc]instanceof er?_0x56d2b7[_0xcafcc8[_0x55b8dc]['name']]=_0xcafcc8[_0x55b8dc]:_0xcafcc8[_0x55b8dc]['name']&&(_0x56d2b7[_0xcafcc8[_0x55b8dc]['name']]=new er(this,_0xcafcc8[_0x55b8dc]['name'],_0xcafcc8[_0x55b8dc]));this['_slots']=_0x56d2b7,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x5a0dcb=this['_slots'],_0x2f5598=this['_playingBe'+'foreDisabl'+'e'];for(const _0x30c652 in _0x5a0dcb){const _0x480108=_0x5a0dcb[_0x30c652];_0x480108['autoPlay']&&_0x480108['isStopped']?_0x480108['play']():_0x2f5598[_0x30c652]?_0x480108['resume']():_0x480108['isLoaded']||_0x480108['load']();}}['onDisable'](){const _0x57b8a3=this['_slots'],_0x41e4b1={};for(const _0x44b3c6 in _0x57b8a3)_0x57b8a3[_0x44b3c6]['overlap']||_0x57b8a3[_0x44b3c6]['isPlaying']&&(_0x57b8a3[_0x44b3c6]['pause'](),_0x41e4b1[_0x44b3c6]=!(-0x5*0x53e+0x1806+0x23*0x10));this['_playingBe'+'foreDisabl'+'e']=_0x41e4b1;}['onRemove'](){this['off']();}['addSlot'](_0xbb2740,_0x55bf99){const _0x9b4d0d=this['_slots'];if(_0x9b4d0d[_0xbb2740])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0xbb2740+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0xa52839=new er(this,_0xbb2740,_0x55bf99);return _0x9b4d0d[_0xbb2740]=_0xa52839,_0xa52839['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0xa52839['play'](),_0xa52839;}['removeSlot'](_0x565429){const _0x2a181b=this['_slots'];_0x2a181b[_0x565429]&&(_0x2a181b[_0x565429]['stop'](),delete _0x2a181b[_0x565429]);}['slot'](_0x2ac1bf){return this['_slots'][_0x2ac1bf];}['_getSlotPr'+'operty'](_0x5a0421,_0x44a922){if(!this['enabled']||!this['entity']['enabled'])return;const _0x53a72e=this['_slots'][_0x5a0421];if(!_0x53a72e){v['warn']('Trying\x20to\x20'+'get\x20'+_0x44a922+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x5a0421+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x53a72e[_0x44a922];}['isPlaying'](_0x22349f){return this['_getSlotPr'+'operty'](_0x22349f,'isPlaying')||!(-0xe7e+0x1*-0x1a89+0x2908);}['isLoaded'](_0x5ad1b0){return this['_getSlotPr'+'operty'](_0x5ad1b0,'isLoaded')||!(0xa9c+-0x1f73+0x14d8);}['isPaused'](_0x56cc0d){return this['_getSlotPr'+'operty'](_0x56cc0d,'isPaused')||!(-0x2662+-0x857+-0x1*-0x2eba);}['isStopped'](_0x251eb2){return this['_getSlotPr'+'operty'](_0x251eb2,'isStopped')||!(0x1*-0x1d81+0x16*0x19f+0x8*-0xc5);}['play'](_0x2f0116){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x7a5ab6=this['_slots'][_0x2f0116];return _0x7a5ab6?_0x7a5ab6['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x2f0116+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x533e9f){const _0x183258=this['_slots'];if(_0x533e9f){const _0x1a36a8=_0x183258[_0x533e9f];if(!_0x1a36a8){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x533e9f+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x1a36a8['pause']();}else{for(const _0x571727 in _0x183258)_0x183258[_0x571727]['pause']();}}['resume'](_0x52c8c8){const _0x4e2693=this['_slots'];if(_0x52c8c8){const _0x555bd0=_0x4e2693[_0x52c8c8];if(!_0x555bd0){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x52c8c8+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x555bd0['isPaused']&&_0x555bd0['resume']();}else{for(const _0x4f7664 in _0x4e2693)_0x4e2693[_0x4f7664]['resume']();}}['stop'](_0x4706c6){const _0x468528=this['_slots'];if(_0x4706c6){const _0x503525=_0x468528[_0x4706c6];if(!_0x503525){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x4706c6+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x503525['stop']();}else{for(const _0x2bc0b9 in _0x468528)_0x468528[_0x2bc0b9]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(0x622+-0x1b95+0x1573*0x1);}}const xx=['enabled'];class BI extends Xe{constructor(_0x38d74d){super(_0x38d74d),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x38d74d['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x6545f){this['manager']['volume']=_0x6545f;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x1230c0,_0x5c046f,_0x4cf53b){_0x4cf53b=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x505564=-0x9*-0x112+-0x2144+-0x17a2*-0x1;_0x505564<_0x4cf53b['length'];_0x505564++)_0x5c046f['hasOwnProp'+'erty'](_0x4cf53b[_0x505564])&&(_0x1230c0[_0x4cf53b[_0x505564]]=_0x5c046f[_0x4cf53b[_0x505564]]);super['initialize'+'ComponentD'+'ata'](_0x1230c0,_0x5c046f,['enabled']);}['cloneCompo'+'nent'](_0x47a20c,_0x29733e){const _0x397f74=_0x47a20c['sound'],_0x1d5f07=_0x397f74['slots'],_0x461759={};for(const _0x5088ff in _0x1d5f07){const _0xec6b40=_0x1d5f07[_0x5088ff];_0x461759[_0x5088ff]={'name':_0xec6b40['name'],'volume':_0xec6b40['volume'],'pitch':_0xec6b40['pitch'],'loop':_0xec6b40['loop'],'duration':_0xec6b40['duration'],'startTime':_0xec6b40['startTime'],'overlap':_0xec6b40['overlap'],'autoPlay':_0xec6b40['autoPlay'],'asset':_0xec6b40['asset']};}const _0xda8a03={'distanceModel':_0x397f74['distanceMo'+'del'],'enabled':_0x397f74['enabled'],'maxDistance':_0x397f74['maxDistanc'+'e'],'pitch':_0x397f74['pitch'],'positional':_0x397f74['positional'],'refDistance':_0x397f74['refDistanc'+'e'],'rollOffFactor':_0x397f74['rollOffFac'+'tor'],'slots':_0x461759,'volume':_0x397f74['volume']};return this['addCompone'+'nt'](_0x29733e,_0xda8a03);}['onUpdate'](_0x13ca39){const _0x17b24b=this['store'];for(const _0x2a0b63 in _0x17b24b)if(_0x17b24b['hasOwnProp'+'erty'](_0x2a0b63)){const _0x713253=_0x17b24b[_0x2a0b63]['entity'];if(_0x713253['enabled']){const _0x2f1eaa=_0x713253['sound'];if(_0x2f1eaa['enabled']&&_0x2f1eaa['positional']){const _0xb514a1=_0x713253['getPositio'+'n'](),_0x1a4fe2=_0x2f1eaa['slots'];for(const _0x237ab8 in _0x1a4fe2)_0x1a4fe2[_0x237ab8]['updatePosi'+'tion'](_0xb514a1);}}}}['onBeforeRe'+'move'](_0x4006bd,_0x88e1c0){const _0x48ddf7=_0x88e1c0['slots'];for(const _0x274138 in _0x48ddf7)_0x48ddf7[_0x274138]['overlap']||_0x48ddf7[_0x274138]['stop']();_0x88e1c0['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x175fea,_0x508cb4){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x175fea,this['_frame']=-0x1298+-0x1e2b+0x30c3,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x508cb4['spriteAsse'+'t'],this['name']=_0x508cb4['name'],this['fps']=_0x508cb4['fps']||-0x281*0x3+-0x37d*0x6+0x1c71,this['loop']=_0x508cb4['loop']||!(-0x3b*-0x29+-0x2*-0xbfd+0x174*-0x17),this['_playing']=!(0xc27*0x3+0x492+0x76*-0x59),this['_paused']=!(-0x24e*0x1+-0x8c5*-0x1+-0x676),this['_time']=0xdd5*-0x1+-0xd*0x15b+-0x7dd*-0x4);}get['duration'](){if(this['_sprite']){const _0x15196a=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x15196a);}return 0x145d+0x1*0x6c7+-0x24*0xc1;}set['frame'](_0x5958a0){this['_setFrame'](_0x5958a0);const _0x125ce5=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x125ce5);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x4c6472){var _0x58d412;if(this['_sprite']&&((_0x58d412=this['_evtSetMes'+'hes'])==null||_0x58d412['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x4c6472,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x47a162;!_0x4c6472||!_0x4c6472['atlas']?(_0x47a162=this['_component']['_meshInsta'+'nce'],_0x47a162&&(_0x47a162['deletePara'+'meter']('texture_em'+'issiveMap'),_0x47a162['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x4c6472['atlas']['texture']&&(_0x47a162=this['_component']['_meshInsta'+'nce'],_0x47a162&&(_0x47a162['setParamet'+'er']('texture_em'+'issiveMap',_0x4c6472['atlas']['texture']),_0x47a162['setParamet'+'er']('texture_op'+'acityMap',_0x4c6472['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x5137cd){const _0x99c9a1=this['_component']['system']['app']['assets'];let _0x21d2a1=_0x5137cd;if(_0x5137cd instanceof le&&(_0x21d2a1=_0x5137cd['id']),this['_spriteAss'+'et']!==_0x21d2a1){if(this['_spriteAss'+'et']){const _0x41f2c0=_0x99c9a1['get'](this['_spriteAss'+'et']);_0x41f2c0&&this['_unbindSpr'+'iteAsset'](_0x41f2c0);}if(this['_spriteAss'+'et']=_0x21d2a1,this['_spriteAss'+'et']){const _0x181041=_0x99c9a1['get'](this['_spriteAss'+'et']);_0x181041?this['_bindSprit'+'eAsset'](_0x181041):(this['sprite']=null,_0x99c9a1['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x192298){this['_setTime'](_0x192298),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0xcc0+-0x873+0x1534),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x74c*0x1+0xa*0x1a9+-0x142*0x13;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x4faa69){this['_component']['system']['app']['assets']['off']('add:'+_0x4faa69['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x4faa69['id']&&this['_bindSprit'+'eAsset'](_0x4faa69);}['_bindSprit'+'eAsset'](_0x227c48){_0x227c48['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x227c48['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x227c48['resource']?this['_onSpriteA'+'ssetLoad'](_0x227c48):this['_component']['system']['app']['assets']['load'](_0x227c48);}['_unbindSpr'+'iteAsset'](_0x577026){_0x577026&&(_0x577026['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x577026['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x577026['resource']&&!_0x577026['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x577026['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x576354){if(!_0x576354['resource'])this['sprite']=null;else{if(_0x576354['resource']['atlas'])this['sprite']=_0x576354['resource'];else{const _0x343bd7=_0x576354['data']['textureAtl'+'asAsset'],_0xc0c32c=this['_component']['system']['app']['assets'];_0xc0c32c['off']('load:'+_0x343bd7,this['_onTexture'+'AtlasLoad'],this),_0xc0c32c['once']('load:'+_0x343bd7,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x251fc4){const _0xa45d12=this['_spriteAss'+'et'];_0xa45d12 instanceof le?this['_onSpriteA'+'ssetLoad'](_0xa45d12):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0xa45d12));}['_onSpriteA'+'ssetRemove'](_0x144453){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x188f4e){if(this['fps']===-0x1*0x1168+-0x20e3+-0x7d*-0x67||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x1e323f=this['fps']<-0xf66+-0x13d*-0x1+0xe29?-(-0x1b6e*0x1+0x1a*0x160+-0x851):0xe7d+-0x13b1+-0x1f*-0x2b,_0xe77cfd=this['_time']+_0x188f4e*this['_component']['speed']*_0x1e323f,_0x100306=this['duration'],_0x1f2d6e=_0xe77cfd>_0x100306||_0xe77cfd<-0xd74+-0xa*-0x3e3+-0x1*0x196a;this['_setTime'](_0xe77cfd);let _0x4ca986=this['frame'];this['_sprite']?_0x4ca986=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x100306):_0x4ca986=0x1*0x1f13+0x2*-0xd29+-0x4c1,_0x4ca986!==this['_frame']&&this['_setFrame'](_0x4ca986),_0x1f2d6e&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x16*0x9d+0xd*0x216+0x3f*-0xa5),this['_paused']=!(-0x146*0x2+0x294+-0x7),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x1d4e38){this['_time']=_0x1d4e38;const _0x3300d1=this['duration'];this['_time']<0xc0e*0x3+0x1dfd+-0x4227?this['loop']?this['_time']=this['_time']%_0x3300d1+_0x3300d1:this['_time']=0x2*-0x656+0x2113*-0x1+0x2dbf*0x1:this['_time']>_0x3300d1&&(this['loop']?this['_time']%=_0x3300d1:this['_time']=_0x3300d1);}['_setFrame'](_0xe23511){this['_sprite']?this['_frame']=N['clamp'](_0xe23511,0x1ed+0x22bd*0x1+0x1255*-0x2,this['_sprite']['frameKeys']['length']-(-0x161*0xb+0x22bf+0x1*-0x1393)):this['_frame']=_0xe23511,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x3d81db=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x3d81db['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0xf*0x161+-0x1f6*0x1+-0x12b9),this['_paused']=!(0x11a6+0xe*-0x1d5+0x3*0x2ab),this['frame']=0x24e5+0x1414+0x1*-0x38f9,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0x2526+-0x121f*-0x2+-0x3a*-0x4),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x865+0x729*-0x1+0x9*-0x23),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x547*0x2+0x13ed+-0x95e),this['_paused']=!(-0x19ca+0xd7*0x1b+0x31e),this['_time']=-0x6c*0x2a+-0x61f*-0x3+-0xa5,this['frame']=0x97d*-0x4+-0x194*-0x1+-0xc2*-0x30,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0x332604,_0x158044){super(_0x332604,_0x158044),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0x332604['defaultMat'+'erial'],this['_color']=new Y(0x39e*0x6+0xa1*-0x2e+0x73b,0x1d3*0x3+0x82c+-0x246*0x6,0x149a+0x173d+-0x2bd6,0x54*-0x1+-0x96f+0x9c4),this['_colorUnif'+'orm']=new Float32Array(0x1983+0x3fe+-0x2*0xebf),this['_speed']=0x12*-0x111+0x1f3d+-0x86*0x17,this['_flipX']=!(-0x1db4+0x1e2c+0x1*-0x77),this['_flipY']=!(-0x763+0x2*-0x1147+0x29f2),this['_width']=0x51*-0x6f+0x1a*0x16a+0x4*-0x69,this['_height']=0xf59+-0xb*0x8f+-0x933,this['_drawOrder']=0x1fc*-0xe+0x25b9+-0x9f1,this['_layers']=[Fi],this['_outerScal'+'e']=new W(0x1*0xb20+0x15c4+0x1*-0x20e3,0x6a1+-0x805*-0x1+-0xea5*0x1),this['_outerScal'+'eUniform']=new Float32Array(-0x15be+0x1*0xbb1+-0x5*-0x203),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x11*0x125+0x1*0x151f+-0x1a6),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0x836+-0x246b+0x2ca5),this['_batchGrou'+'pId']=-(-0x59f+0xbe3+-0x643*0x1),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x158044['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x158044,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x2502+-0x1192+-0x9d*-0x59),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x1dbd+-0x1a4d+0x380b),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x4f4b30){this['_type']!==_0x4f4b30&&(this['_type']=_0x4f4b30,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x4036e1){this['_currentCl'+'ip']['frame']=_0x4036e1;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x2b66a4){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x2b66a4;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x4205df){this['_currentCl'+'ip']['sprite']=_0x4205df;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x3bea9e){this['_material']=_0x3bea9e,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x3bea9e);}get['material'](){return this['_material'];}set['color'](_0x47cb21){this['_color']['r']=_0x47cb21['r'],this['_color']['g']=_0x47cb21['g'],this['_color']['b']=_0x47cb21['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x3f*0x42+-0x20f6+-0x1ac*-0xa]=this['_color']['r'],this['_colorUnif'+'orm'][0x48e+-0x1534+0xcb*0x15]=this['_color']['g'],this['_colorUnif'+'orm'][0x1780+-0x2*-0x1043+-0x3804]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x3862ef){this['_color']['a']=_0x3862ef,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x3862ef);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x3cf822){if(!_0x3cf822){for(const _0x4c177a in this['_clips'])this['removeClip'](_0x4c177a);return;}for(const _0x46ecb8 in this['_clips']){let _0x507e38=!(0x1c2c+0x1d5f+0x132e*-0x3);for(const _0x5bebfe in _0x3cf822)if(_0x3cf822[_0x5bebfe]['name']===_0x46ecb8){_0x507e38=!(0x9b2+-0x14cb+0x3*0x3b3),this['_clips'][_0x46ecb8]['fps']=_0x3cf822[_0x5bebfe]['fps'],this['_clips'][_0x46ecb8]['loop']=_0x3cf822[_0x5bebfe]['loop'],_0x3cf822[_0x5bebfe]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x46ecb8]['sprite']=_0x3cf822[_0x5bebfe]['sprite']:_0x3cf822[_0x5bebfe]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x46ecb8]['spriteAsse'+'t']=_0x3cf822[_0x5bebfe]['spriteAsse'+'t']);break;}_0x507e38||this['removeClip'](_0x46ecb8);}for(const _0x5138ab in _0x3cf822)this['_clips'][_0x3cf822[_0x5138ab]['name']]||this['addClip'](_0x3cf822[_0x5138ab]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x2d0138){this['_speed']=_0x2d0138;}get['speed'](){return this['_speed'];}set['flipX'](_0xf081db){this['_flipX']!==_0xf081db&&(this['_flipX']=_0xf081db,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0xe72e5e){this['_flipY']!==_0xe72e5e&&(this['_flipY']=_0xe72e5e,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x4a8412){_0x4a8412!==this['_width']&&(this['_width']=_0x4a8412,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x46fad8){_0x46fad8!==this['_height']&&(this['_height']=_0x46fad8,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x1b1dfd){var _0x409d70,_0x53364a;if(this['_batchGrou'+'pId']===_0x1b1dfd)return;const _0xe54fcc=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x1b1dfd,this['entity']['enabled']&&_0xe54fcc>=0x1*0x162c+-0x9*0x1b7+-0x6bd&&((_0x409d70=this['system']['app']['batcher'])==null||_0x409d70['remove'](et['SPRITE'],_0xe54fcc,this['entity'])),this['entity']['enabled']&&_0x1b1dfd>=-0x1609+-0x1d97+-0x674*-0x8?(_0x53364a=this['system']['app']['batcher'])==null||_0x53364a['insert'](et['SPRITE'],_0x1b1dfd,this['entity']):_0xe54fcc>=0xa6d+0x1f03+-0x2970&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x12ddde){this['_autoPlayC'+'lip']=_0x12ddde instanceof bi?_0x12ddde['name']:_0x12ddde,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x58b577){this['_drawOrder']=_0x58b577,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x58b577);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x2a1c0f){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x2a1c0f,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x208c46;const _0x4773cc=this['system']['app'],_0x45ca71=_0x4773cc['scene'],_0x4fa3ec=_0x45ca71['layers'];this['_evtLayers'+'Changed']=_0x45ca71['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x4fa3ec&&(this['_evtLayerA'+'dded']=_0x4fa3ec['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x4fa3ec['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x15af+0x65d*0x4+-0x3c5&&((_0x208c46=_0x4773cc['batcher'])==null||_0x208c46['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x1e0424,_0x40c7e9,_0x265f33,_0x486a72;const _0x509bdd=this['system']['app'],_0x1e9b70=_0x509bdd['scene']['layers'];(_0x1e0424=this['_evtLayers'+'Changed'])==null||_0x1e0424['off'](),this['_evtLayers'+'Changed']=null,_0x1e9b70&&((_0x40c7e9=this['_evtLayerA'+'dded'])==null||_0x40c7e9['off'](),this['_evtLayerA'+'dded']=null,(_0x265f33=this['_evtLayerR'+'emoved'])==null||_0x265f33['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x2*0x115+-0x1533+0x1309&&((_0x486a72=_0x509bdd['batcher'])==null||_0x486a72['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x3e4edd;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0xc1e30c in this['_clips'])this['_clips'][_0xc1e30c]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x3e4edd=this['_node'])==null||_0x3e4edd['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x4ed2e5=[this['_meshInsta'+'nce']];for(let _0x4b5bb7=0x178d+0xe96*0x2+0x1*-0x34b9,_0x4d6163=this['_layers']['length'];_0x4b5bb7<_0x4d6163;_0x4b5bb7++){const _0x3fa45b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4b5bb7]);_0x3fa45b&&_0x3fa45b['addMeshIns'+'tances'](_0x4ed2e5);}this['_addedMode'+'l']=!(0x709*-0x4+-0x972+0x2596);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x2ce0c6=[this['_meshInsta'+'nce']];for(let _0x5b34c1=-0x83+0x1d46+-0xc7*0x25,_0x1ceb3c=this['_layers']['length'];_0x5b34c1<_0x1ceb3c;_0x5b34c1++){const _0x20607c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x5b34c1]);_0x20607c&&_0x20607c['removeMesh'+'Instances'](_0x2ce0c6);}this['_addedMode'+'l']=!(0xe61+-0x60*-0x26+-0x4*0x728);}['_showFrame'](_0x5855a7){if(!this['sprite'])return;const _0x32552a=this['sprite']['meshes'][_0x5855a7];if(!_0x32552a){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x18*-0x54+-0x15d1+0x1fe*0x7));return;}let _0x40fff6;if(this['sprite']['renderMode']===nt?_0x40fff6=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x40fff6=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x40fff6=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x32552a,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(-0x1ff8+0x139e+0xc5b),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x1*-0x61d+-0x1c57*0x1+0x2275),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x14c*0x15+0x10*0x102+0x456*-0xa]=this['_color']['r'],this['_colorUnif'+'orm'][0x94b+0x17ab*0x1+-0x20f5]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1ffc+0x1479*0x1+0x1*0xb85]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x40fff6&&(this['_meshInsta'+'nce']['material']=_0x40fff6),this['_meshInsta'+'nce']['mesh']!==_0x32552a&&(this['_meshInsta'+'nce']['mesh']=_0x32552a,this['_meshInsta'+'nce']['visible']=!(0x5*0x29+-0x2706+0x2639),this['_meshInsta'+'nce']['_aabbVer']=-(0x25ca+-0x7e4*0x1+-0x9f7*0x3)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0xc96db8=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x5855a7]];if(_0xc96db8){const _0x584f3a=(-0x467+-0x1c85+0x20ee)/_0xc96db8['rect']['z'],_0x2dc74f=(-0x6eb*-0x1+0x46e+-0xb57)/_0xc96db8['rect']['w'];this['_innerOffs'+'et']['set'](_0xc96db8['border']['x']*_0x584f3a,_0xc96db8['border']['y']*_0x2dc74f,_0xc96db8['border']['z']*_0x584f3a,_0xc96db8['border']['w']*_0x2dc74f);const _0x554677=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0xc96db8['rect']['x']/_0x554677['width'],_0xc96db8['rect']['y']/_0x554677['height'],_0xc96db8['rect']['z']/_0x554677['width'],_0xc96db8['rect']['w']/_0x554677['height']);}else this['_innerOffs'+'et']['set'](-0xb8*0x1f+-0x1a9d+0x30e5,-0x269c+-0x152*0x13+0x2*0x1fd9,0x1*0x1027+-0x1*-0x26b3+-0x36da,0x1a6a*-0x1+0x1*-0x25fd+0x1*0x4067);this['_innerOffs'+'etUniform'][-0x19e1+0x98e+0x1053]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x16bc+0x1*0x22bb+-0x3976]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x17*-0x8b+0x44*0x47+-0x1f57]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0xa*0x133+-0x9ba+0x241*-0x1]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x8f3+0x25e6+-0x1*0x2ed9]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x3*0xace+0x1*-0x5d7+-0x1a92]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x5*-0x335+0x1*0x5e7+-0x1*0x15ee]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x22e1*0x1+-0xc2+0x2*0x11d3]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x2ca888=this['flipX']?-(0x9*-0x36f+0x43*0x3d+-0x1a9*-0x9):-0x964+0x2630+0x41d*-0x7,_0x5df2ad=this['flipY']?-(0x16*0x160+-0x1be0+-0x25f):-0xe*0x11e+0xfc3+-0x6*0x5,_0x58768e=0x926+-0x1*0x1ee5+0x125*0x13,_0x29615e=-0x1bb*0x10+-0x18d9+0x1183*0x3;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x11ce84=0x244f+0x47f*-0x7+-0x4d5,_0x163fe6=-0x1bad+0x200a+-0x45c;if(this['sprite']['atlas']){const _0x54ff37=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x54ff37&&(_0x11ce84=_0x54ff37['rect']['z'],_0x163fe6=_0x54ff37['rect']['w'],_0x58768e=(0x9*-0x2d1+-0x1b69+-0x8cb*-0x6+0.5-_0x54ff37['pivot']['x'])*this['_width'],_0x29615e=(0x32*0x7b+0x43*0xd+-0x19d*0x11+0.5-_0x54ff37['pivot']['y'])*this['_height']);}const _0x54888b=_0x11ce84/this['sprite']['pixelsPerU'+'nit'],_0x268b6c=_0x163fe6/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x54888b),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x268b6c)),_0x2ca888*=_0x54888b,_0x5df2ad*=_0x268b6c,this['_outerScal'+'e']['x']/=_0x54888b,this['_outerScal'+'e']['y']/=_0x268b6c,_0x2ca888*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x54888b),0xf6d+0x3eb*0x7+-0x2ada+0.0001,0x1310+-0x1942+-0x45*-0x17),_0x5df2ad*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x268b6c),0x1675*-0x1+0x80e*0x3+-0x1b5*0x1+0.0001,-0x109d*-0x1+0x1*0x23b1+0x3*-0x116f),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x1d4c+-0x1148+0x2e94]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1f09+0x1*0x851+0x1*0x16b9]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x2ca888,_0x5df2ad,0x1cd6+-0x1867*-0x1+-0x353c),this['_node']['setLocalPo'+'sition'](_0x58768e,_0x29615e,-0xf*-0x1b9+-0x3*-0xa3d+-0x388e);}['_updateAab'+'b'](_0x6e0467){return _0x6e0467['center']['set'](-0x1ce9*0x1+-0xd87*-0x1+-0x7b1*-0x2,-0x1*0x1f6c+-0x1*0x1bd7+0x48f*0xd,0x1814+0x10c+-0x18*0x10c),_0x6e0467['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x1a*0xb1+0xc*-0x19d+0x162+0.5),this['_outerScal'+'e']['y']*(0x2528+0x24fa+0x3*-0x18b6+0.5),-0x19dc+0xb7e+0xe5e+0.001),_0x6e0467['setFromTra'+'nsformedAa'+'bb'](_0x6e0467,this['_node']['getWorldTr'+'ansform']()),_0x6e0467;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x23733b=this['_clips'][this['_autoPlayC'+'lip']];_0x23733b&&!_0x23733b['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x23733b['name']);}['_onLayersC'+'hanged'](_0x3e0b4f,_0x959666){_0x3e0b4f['off']('add',this['onLayerAdd'+'ed'],this),_0x3e0b4f['off']('remove',this['onLayerRem'+'oved'],this),_0x959666['on']('add',this['onLayerAdd'+'ed'],this),_0x959666['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x1ca300){this['layers']['indexOf'](_0x1ca300['id'])<0x2260+-0x5*0x397+0x106d*-0x1||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x1ca300['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0xa711c){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0xa711c['id'])<0x1c7+0x116f*0x1+-0x1336||_0xa711c['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x579d75=0x64*0x2+-0x5*0x55a+0x19fa;_0x579d75<this['layers']['length'];_0x579d75++){const _0x2e3f0c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x579d75]);_0x2e3f0c&&_0x2e3f0c['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x499c34){const _0x53ee03=new bi(this,{'name':_0x499c34['name'],'fps':_0x499c34['fps'],'loop':_0x499c34['loop'],'spriteAsset':_0x499c34['spriteAsse'+'t']});return this['_clips'][_0x499c34['name']]=_0x53ee03,_0x53ee03['name']&&_0x53ee03['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x53ee03;}['removeClip'](_0x5e5b5e){delete this['_clips'][_0x5e5b5e];}['clip'](_0x226f2d){return this['_clips'][_0x226f2d];}['play'](_0xbfa06d){const _0x49777e=this['_clips'][_0xbfa06d],_0x1c8e55=this['_currentCl'+'ip'];return _0x1c8e55&&_0x1c8e55!==_0x49777e&&(_0x1c8e55['_playing']=!(-0x23c+-0x14ec+0x1729)),this['_currentCl'+'ip']=_0x49777e,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x49777e,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0xbfa06d+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x49777e;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(0x4a*-0x65+0xb1c+-0x1216*-0x1);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x1be8a9){super(_0x1be8a9),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x1c27e0){this['_defaultMa'+'terial']=_0x1c27e0;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x4f59b1=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0x3ce881=new Uint8Array(_0x4f59b1['lock']());_0x3ce881[0x2316+0x1a6f+-0x3d85]=_0x3ce881[-0x5*-0x66e+-0x138a+0x7*-0x1cd]=_0x3ce881[-0x20ba+-0x76f*0x1+0x282b]=_0x3ce881[-0x443*0x4+0x743*-0x5+0x5ee*0x9]=0x1f9b+-0x2*0x6f0+0x22*-0x7e,_0x4f59b1['unlock']();const _0xffbc75=new cs();_0xffbc75['diffuse']['set'](0x1c98+0xdbd*-0x1+-0xedb*0x1,0x1*0x23f9+0x27*0x1+-0x2420,0x655+-0x1560+-0xf0b*-0x1),_0xffbc75['emissive']['set'](-0x1*-0x242e+-0x2023*0x1+-0x40a,0x14b*-0x9+-0xb*-0x19e+-0x626,0x1e1b+0x1c26+-0x3a40),_0xffbc75['emissiveMa'+'p']=_0x4f59b1,_0xffbc75['opacityMap']=_0x4f59b1,_0xffbc75['opacityMap'+'Channel']='a',_0xffbc75['useLightin'+'g']=!(-0x241*0x4+-0x25be+0x1*0x2ec3),_0xffbc75['useTonemap']=!(-0x19f9+-0x250+-0x33*-0x8e),_0xffbc75['useFog']=!(0x188f+0x241a+0x1e54*-0x2),_0xffbc75['useSkybox']=!(0x1*-0xf8d+0xbf*-0x11+-0x1c3d*-0x1),_0xffbc75['blendType']=hr,_0xffbc75['depthWrite']=!(0x58*-0x15+-0x3c7*0x7+0x1f*0x116),_0xffbc75['pixelSnap']=!(0xc92*0x2+-0x289+-0x169a),_0xffbc75['cull']=mt,_0xffbc75['update'](),this['_defaultTe'+'xture']=_0x4f59b1,this['_defaultMa'+'terial']=_0xffbc75;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0xd75658){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0xd75658;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x234794=this['defaultMat'+'erial']['clone']();_0x234794['nineSliced'+'Mode']=nt,_0x234794['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x234794;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x3b8e23){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x3b8e23;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x2336bc=this['defaultMat'+'erial']['clone']();_0x2336bc['nineSliced'+'Mode']=Qe,_0x2336bc['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x2336bc;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x3590b,_0x4cf0d2,_0x5ccbca){if(_0x4cf0d2['enabled']!==void(-0x134+0x1425+0x175*-0xd)&&(_0x3590b['enabled']=_0x4cf0d2['enabled']),_0x3590b['type']=_0x4cf0d2['type'],_0x4cf0d2['layers']&&Array['isArray'](_0x4cf0d2['layers'])&&(_0x3590b['layers']=_0x4cf0d2['layers']['slice'](0x1dbb+-0x15a*-0x7+0x7f*-0x4f)),_0x4cf0d2['drawOrder']!==void(0x463*-0x3+-0x9b+0xdc4)&&(_0x3590b['drawOrder']=_0x4cf0d2['drawOrder']),_0x4cf0d2['color']!==void(0xa47+-0x1*-0x2533+-0x2f7a)&&(_0x4cf0d2['color']instanceof Y?_0x3590b['color']['set'](_0x4cf0d2['color']['r'],_0x4cf0d2['color']['g'],_0x4cf0d2['color']['b'],_0x4cf0d2['opacity']??0x548+0x1c3c+0x17*-0x175):_0x3590b['color']['set'](_0x4cf0d2['color'][0x120*0x7+0x652*0x3+0x2af*-0xa],_0x4cf0d2['color'][-0x476+0x1c58+0x1*-0x17e1],_0x4cf0d2['color'][-0xb49+-0x21df+0x3*0xf0e],_0x4cf0d2['opacity']??0x258b+-0x11*-0xeb+-0x5*0xaa1),_0x3590b['color']=_0x3590b['color']),_0x4cf0d2['opacity']!==void(-0x76*-0xd+-0x1e1f*-0x1+0x739*-0x5)&&(_0x3590b['opacity']=_0x4cf0d2['opacity']),_0x4cf0d2['flipX']!==void(0xfef+0x1339+-0x465*0x8)&&(_0x3590b['flipX']=_0x4cf0d2['flipX']),_0x4cf0d2['flipY']!==void(0xf67*-0x1+0x29*0x86+-0x1*0x60f)&&(_0x3590b['flipY']=_0x4cf0d2['flipY']),_0x4cf0d2['width']!==void(0x5*-0x6d+0x19b*0x3+-0x2b0)&&(_0x3590b['width']=_0x4cf0d2['width']),_0x4cf0d2['height']!==void(0x65*0xd+0x1021+0x3*-0x716)&&(_0x3590b['height']=_0x4cf0d2['height']),_0x4cf0d2['spriteAsse'+'t']!==void(0x19dd+0x1155*-0x1+0x3*-0x2d8)&&(_0x3590b['spriteAsse'+'t']=_0x4cf0d2['spriteAsse'+'t']),_0x4cf0d2['sprite']&&(_0x3590b['sprite']=_0x4cf0d2['sprite']),_0x4cf0d2['frame']!==void(-0x16ad+0x4*-0x793+0x34f9)&&(_0x3590b['frame']=_0x4cf0d2['frame']),_0x4cf0d2['clips']){for(const _0x54dddc in _0x4cf0d2['clips'])_0x3590b['addClip'](_0x4cf0d2['clips'][_0x54dddc]);}_0x4cf0d2['speed']!==void(-0x13df+-0x9*0x437+0x39ce)&&(_0x3590b['speed']=_0x4cf0d2['speed']),_0x4cf0d2['autoPlayCl'+'ip']&&(_0x3590b['autoPlayCl'+'ip']=_0x4cf0d2['autoPlayCl'+'ip']),_0x3590b['batchGroup'+'Id']=_0x4cf0d2['batchGroup'+'Id']===void(0x137d*0x1+-0xf66*-0x2+-0x3249)||_0x4cf0d2['batchGroup'+'Id']===null?-(-0xb87*-0x2+-0x1694+-0x79*0x1):_0x4cf0d2['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x3590b,_0x4cf0d2,_0x5ccbca);}['cloneCompo'+'nent'](_0x5ad9fc,_0x57afc5){const _0x6349e3=_0x5ad9fc['sprite'];return this['addCompone'+'nt'](_0x57afc5,{'enabled':_0x6349e3['enabled'],'type':_0x6349e3['type'],'spriteAsset':_0x6349e3['spriteAsse'+'t'],'sprite':_0x6349e3['sprite'],'width':_0x6349e3['width'],'height':_0x6349e3['height'],'frame':_0x6349e3['frame'],'color':_0x6349e3['color']['clone'](),'opacity':_0x6349e3['opacity'],'flipX':_0x6349e3['flipX'],'flipY':_0x6349e3['flipY'],'speed':_0x6349e3['speed'],'clips':_0x6349e3['clips'],'autoPlayClip':_0x6349e3['autoPlayCl'+'ip'],'batchGroupId':_0x6349e3['batchGroup'+'Id'],'drawOrder':_0x6349e3['drawOrder'],'layers':_0x6349e3['layers']['slice'](0x371*-0x5+0x629+0xb0c)});}['onUpdate'](_0xc5f5e7){const _0x53aaf8=this['store'];for(const _0x30ca61 in _0x53aaf8)if(_0x53aaf8['hasOwnProp'+'erty'](_0x30ca61)){const _0x2e599c=_0x53aaf8[_0x30ca61];if(_0x2e599c['data']['enabled']&&_0x2e599c['entity']['enabled']){const _0x3a8082=_0x2e599c['entity']['sprite'];_0x3a8082['_currentCl'+'ip']&&_0x3a8082['_currentCl'+'ip']['_update'](_0xc5f5e7);}}}['onBeforeRe'+'move'](_0x38f04d,_0x417275){_0x417275['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x32c2b9,_0x16075d){super(_0x32c2b9,_0x16075d),this['_oldState']=!(0x1924+0x16d7+-0xad*0x47),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x2d469f){_0x2d469f instanceof T?this['_size']['copy'](_0x2d469f):_0x2d469f instanceof Array&&_0x2d469f['length']>=-0x1c64+0x1*0x1ef1+-0x28a&&this['size']['set'](_0x2d469f[-0xfb5*0x2+-0x1*0xc3e+0x2ba8],_0x2d469f[0xb4e+-0xb3b+-0x12],_0x2d469f[0x3ab*-0x2+0x191*-0x7+0x2b*0x6d]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x34b3f2,_0x476fcc,_0x58baaf){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x4e3212=this['enabled']&&this['entity']['enabled'];_0x4e3212!==this['_oldState']&&(this['_oldState']=_0x4e3212,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(0x1*-0x55a+-0x5a*0x63+0x2828);}}const vx=['enabled'];class WI extends Xe{constructor(_0x24e945){super(_0x24e945),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x5abd8a,_0x38b42a,_0x4cc23e){_0x5abd8a['enabled']=_0x38b42a['hasOwnProp'+'erty']('enabled')?!!_0x38b42a['enabled']:!(-0x47f*0x1+0x8*-0x174+-0x1*-0x101f),_0x38b42a['size']&&(_0x38b42a['size']instanceof T?_0x5abd8a['size']['copy'](_0x38b42a['size']):_0x38b42a['size']instanceof Array&&_0x38b42a['size']['length']>=-0x3*0x8ad+0x63f+0x13cb&&_0x5abd8a['size']['set'](_0x38b42a['size'][-0x6ac+-0x25b2+0x2c5e],_0x38b42a['size'][-0x265c*0x1+0x2164+0x4f9*0x1],_0x38b42a['size'][0xcff+0x8e8*-0x2+0x5f*0xd]));}['cloneCompo'+'nent'](_0x17065a,_0x2547f7){const _0x26c06e={'enabled':_0x17065a['zone']['enabled'],'size':_0x17065a['zone']['size']};return this['addCompone'+'nt'](_0x2547f7,_0x26c06e);}['_onBeforeR'+'emove'](_0x1c21b6,_0x1b14b8){_0x1b14b8['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class $I{constructor(_0x3fd21d,_0x23bd47){this['effect']=_0x3fd21d,this['inputTarge'+'t']=_0x23bd47,this['outputTarg'+'et']=null,this['name']=_0x3fd21d['constructo'+'r']['name'];}}class qI{constructor(_0x4a5bac,_0xbcc8bc){this['app']=_0x4a5bac,this['camera']=_0xbcc8bc,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x9c1+0x29*-0x29+0x1053),this['depthTarge'+'t']=null,_0xbcc8bc['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x3bde50,_0x3eb1e1){const _0xa64139=this['camera']['rect'],_0x438047=this['destinatio'+'nRenderTar'+'get'],_0x3b9286=this['app']['graphicsDe'+'vice'],_0x4e81ec=Math['floor'](_0xa64139['z']*((_0x438047==null?void(0x1517+-0x365*-0x1+0x4*-0x61f):_0x438047['width'])??_0x3b9286['width'])),_0x49acf7=Math['floor'](_0xa64139['w']*((_0x438047==null?void(-0x25d9+0x4*-0x859+0x473d*0x1):_0x438047['height'])??_0x3b9286['height']));return new he(_0x3b9286,{'name':_0x3eb1e1,'format':_0x3bde50,'width':_0x4e81ec,'height':_0x49acf7,'mipmaps':!(0x77*0x4a+0x2f5*0x4+-0x1*0x2e39),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0x5ef04a,_0x53b747){const _0x19729c=this['app']['graphicsDe'+'vice'],_0x22fd30=(this['destinatio'+'nRenderTar'+'get']??_0x19729c['backBuffer'])['isColorBuf'+'ferSrgb'](0x261c+0xa0a+-0x3026*0x1),_0x17fdd7=(_0x53b747&&_0x19729c['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(-0x19e*0x2+-0x1b54+0x1e90)))??(_0x22fd30?rs:Se),_0x57fca8=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x1092fb=this['_allocateC'+'olorBuffer'](_0x17fdd7,_0x57fca8);return new pt({'colorBuffer':_0x1092fb,'depth':_0x5ef04a,'stencil':_0x5ef04a&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x5ef04a?_0x19729c['samples']:0x112b+-0x1ade+-0xc*-0xcf});}['_resizeOff'+'screenTarg'+'et'](_0x154faa){const _0x4deb41=_0x154faa['colorBuffe'+'r']['format'],_0x2404ba=_0x154faa['colorBuffe'+'r']['name'];_0x154faa['destroyFra'+'meBuffers'](),_0x154faa['destroyTex'+'tureBuffer'+'s'](),_0x154faa['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x4deb41,_0x2404ba),_0x154faa['_colorBuff'+'ers']=[_0x154faa['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x4aa5b0){_0x4aa5b0['destroyTex'+'tureBuffer'+'s'](),_0x4aa5b0['destroy']();}['addEffect'](_0x1efc44){const _0xad6f6c=this['effects'],_0x33da5f=_0xad6f6c['length']===0x18dc+0x1*-0x1426+-0x86*0x9,_0x1fbb71=this['_createOff'+'screenTarg'+'et'](_0x33da5f,_0x1efc44['hdr']),_0x3a63e6=new $I(_0x1efc44,_0x1fbb71);_0xad6f6c['push'](_0x3a63e6),this['_sourceTar'+'get']=_0x3a63e6['inputTarge'+'t'],_0xad6f6c['length']>-0xc12+-0xc5*-0x1+0xb4e&&(_0xad6f6c[_0xad6f6c['length']-(-0x248+0x5*0x5b9+-0x1a53)]['outputTarg'+'et']=_0x3a63e6['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x1efc44,_0x1efc44['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x61*0x50+-0xed+-0x1d63*0x1);}['removeEffe'+'ct'](_0x2351ca){let _0x337f92=-(0x205e+0xf0*0x1+-0x214d*0x1);for(let _0x4fdecb=0x1*-0x1019+0x714+0x905*0x1,_0x3fb050=this['effects']['length'];_0x4fdecb<_0x3fb050;_0x4fdecb++)if(this['effects'][_0x4fdecb]['effect']===_0x2351ca){_0x337f92=_0x4fdecb;break;}_0x337f92>=0x19fc+-0x220d+0x811&&(_0x337f92>0x1efb+-0x103d*0x1+-0xebe?this['effects'][_0x337f92-(-0x204f+-0x1*0x1c09+0x7*0x89f)]['outputTarg'+'et']=_0x337f92+(0x21e6+-0xeff+-0x12e6)<this['effects']['length']?this['effects'][_0x337f92+(-0x3d*0x13+-0x4*-0x926+0x1c8*-0x12)]['inputTarge'+'t']:null:this['effects']['length']>-0x1ceb+-0x1*-0x1fb5+-0x17*0x1f&&(this['effects'][0x1712+-0x24ce+0xdbd*0x1]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x1*0x1db3+0x469*0x5+0x7a7]['inputTarge'+'t']),this['effects'][-0x22d*0x1+-0x14b*0x9+-0x49b*-0x3]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x5ba+0x3ef*-0x4+0xa02),this['effects'][0x1*-0x1fe6+-0x4*0xec+0x2397]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x22bd+0x2536+-0x278]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x5ac+0x8cc+-0x11*0x2f]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x337f92]['inputTarge'+'t']),this['effects']['splice'](_0x337f92,-0xd2c+0x1d*0xa7+-0x5be)),this['enabled']&&_0x2351ca['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x12bb+-0x15b*-0x8+-0x1d93&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x902e58=-0x1*-0x379+0xa05+-0xd7e,_0x1721a2=this['effects']['length'];_0x902e58<_0x1721a2;_0x902e58++){const _0x136fee=this['effects'][_0x902e58]['effect'];this['_newPostEf'+'fect']!==_0x136fee&&_0x136fee['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x3bedba=0x260f+-0x12a7+0x8*-0x26d,_0x2fbbbb=this['effects']['length'];_0x3bedba<_0x2fbbbb;_0x3bedba++)this['effects'][_0x3bedba]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x1cea2c=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x1cea2c&&(_0x1cea2c['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x16fa+0x1*-0x1777+0x2e71)));}['_releaseDe'+'pthMap'](){const _0x38d2cd=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x38d2cd&&(_0x38d2cd['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x2669+-0x1f3+0x285d)));}['destroy'](){for(let _0x3c49c6=0x255d+-0x19d3+-0xb8a,_0x512b61=this['effects']['length'];_0x3c49c6<_0x512b61;_0x3c49c6++)this['effects'][_0x3c49c6]['inputTarge'+'t']['destroy']();this['effects']['length']=0x2041+0x25c9+0x65e*-0xb,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0xe4d*-0x1+-0xa*0x14b+-0x15f),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x1*-0x25f+-0x6b*0x1+-0x22*-0x15]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x38dee0=null;const _0x5cd836=this['effects']['length'];if(_0x5cd836)for(let _0x1a6c9=0x20a7*0x1+0x4*0x5d5+0x37fb*-0x1;_0x1a6c9<_0x5cd836;_0x1a6c9++){const _0x2046e1=this['effects'][_0x1a6c9];let _0x29ff07=_0x2046e1['outputTarg'+'et'];_0x1a6c9===_0x5cd836-(-0xed*-0x29+-0x788*-0x2+-0x3504)&&(_0x38dee0=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x29ff07=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x2046e1['name']),_0x2046e1['effect']['render'](_0x2046e1['inputTarge'+'t'],_0x29ff07,_0x38dee0),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x1706+-0x2*0x33a+-0x1091),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x1606e7,_0x2bc248){const _0x22e6e4=this['camera']['rect'],_0xe0b1af=this['destinatio'+'nRenderTar'+'get'];_0x1606e7=(_0xe0b1af==null?void(0xa36+0x1*-0x16d6+0xca0):_0xe0b1af['width'])??_0x1606e7,_0x2bc248=(_0xe0b1af==null?void(0x213*0x4+0x8dd*-0x1+0x91):_0xe0b1af['height'])??_0x2bc248,this['camera']['camera']['aspectRati'+'o']=_0x1606e7*_0x22e6e4['z']/(_0x2bc248*_0x22e6e4['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x3415a6=this['app']['graphicsDe'+'vice'],_0x42ab6b=this['destinatio'+'nRenderTar'+'get'],_0x1de6da=(_0x42ab6b==null?void(-0x213+0x1f13+-0x8*0x3a0):_0x42ab6b['width'])??_0x3415a6['width'],_0x382be4=(_0x42ab6b==null?void(0x32*0x31+-0xa33+0xa1):_0x42ab6b['height'])??_0x3415a6['height'],_0x4efb61=this['camera']['rect'],_0x3b1690=Math['floor'](_0x4efb61['z']*_0x1de6da),_0x52181c=Math['floor'](_0x4efb61['w']*_0x382be4),_0x4acb05=this['effects'];for(let _0xfb21a=-0x7*0x85+-0xc04+-0x1*-0xfa7,_0x1e9d1f=_0x4acb05['length'];_0xfb21a<_0x1e9d1f;_0xfb21a++){const _0x54fc1a=_0x4acb05[_0xfb21a];(_0x54fc1a['inputTarge'+'t']['width']!==_0x3b1690||_0x54fc1a['inputTarge'+'t']['height']!==_0x52181c)&&this['_resizeOff'+'screenTarg'+'et'](_0x54fc1a['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x505069,_0x59fee7,_0x31d2d7){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x2afb4e,_0x33896c){super(_0x2afb4e,_0x33896c),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',-0xb*0xda+-0x1865+0x21c3),c(this,'_renderSce'+'neColorMap',0x2*-0x6f8+0x5d0+-0x1*-0x820),c(this,'_sceneDept'+'hMapReques'+'ted',!(0x199c+0x1b1f*-0x1+0x184)),c(this,'_sceneColo'+'rMapReques'+'ted',!(-0x859+0x1e74+-0x17*0xf6)),c(this,'_priority',0x447*0x4+0x22a0+-0x33bc),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x33896c,this['_postEffec'+'ts']=new qI(_0x2afb4e['app'],this));}['setShaderP'+'ass'](_0x180cd3){const _0x33eb65=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x42d895=_0x180cd3?_0x33eb65['allocate'](_0x180cd3,{'isForward':!(0x2a+0x463*0x3+-0xd53)}):null;return this['_camera']['shaderPass'+'Info']=_0x42d895,_0x42d895['index'];}['getShaderP'+'ass'](){var _0xedf8bb;return(_0xedf8bb=this['_camera']['shaderPass'+'Info'])==null?void(-0x1*0x1655+-0x1*0x1645+0x40e*0xb):_0xedf8bb['name'];}set['renderPass'+'es'](_0x5ec45c){this['_camera']['renderPass'+'es']=_0x5ec45c||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0xa0b*-0x2+0xb7*0x17+0xc2d*-0x3);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x2209d0){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x2209d0;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x3ff14e){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x3ff14e;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x3dd3e5){this['_camera']['fogParams']=_0x3dd3e5;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x5de9c2){this['_camera']['aperture']=_0x5de9c2;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x20bd2c){this['_camera']['aspectRati'+'o']=_0x20bd2c;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x23d1f8){this['_camera']['aspectRati'+'oMode']=_0x23d1f8;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x3bd3a4){this['_camera']['calculateP'+'rojection']=_0x3bd3a4;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x5deb3a){this['_camera']['calculateT'+'ransform']=_0x5deb3a;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x4ea407){this['_camera']['clearColor']=_0x4ea407;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0xc5f947){this['_camera']['clearColor'+'Buffer']=_0xc5f947,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x1880a4){this['_camera']['clearDepth'+'Buffer']=_0x1880a4,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x52c46d){this['_camera']['clearStenc'+'ilBuffer']=_0x52c46d,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x53d128){this['_camera']['cullFaces']=_0x53d128;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x316962){this['_disablePo'+'stEffectsL'+'ayer']=_0x316962,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x2fa888){this['_camera']['farClip']=_0x2fa888;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x2a9043){this['_camera']['flipFaces']=_0x2a9043;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x15476b){this['_camera']['fov']=_0x15476b;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x4de776){this['_camera']['frustumCul'+'ling']=_0x4de776;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x2d3a42){this['_camera']['horizontal'+'Fov']=_0x2d3a42;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x1ebb2e){const _0x308fb4=this['_camera']['layers'],_0x41562e=this['system']['app']['scene'];_0x308fb4['forEach'](_0x5c0ff9=>{const _0xc06245=_0x41562e['layers']['getLayerBy'+'Id'](_0x5c0ff9);_0xc06245==null||_0xc06245['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x1ebb2e,this['enabled']&&this['entity']['enabled']&&_0x1ebb2e['forEach'](_0x11b12f=>{const _0x444ef1=_0x41562e['layers']['getLayerBy'+'Id'](_0x11b12f);_0x444ef1==null||_0x444ef1['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x589a0f){this['_camera']['jitter']=_0x589a0f;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x47b33b){this['_camera']['nearClip']=_0x47b33b;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x2d66df){this['_camera']['orthoHeigh'+'t']=_0x2d66df;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x4b5778){this['_priority']=_0x4b5778,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x2b684e){this['_camera']['projection']=_0x2b684e;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x2cb986){this['_camera']['rect']=_0x2cb986,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x17d892){_0x17d892&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x14be+-0x44f+0x1*-0x106f)),this['_sceneColo'+'rMapReques'+'ted']=!(-0xb*0x293+0x2*-0x941+0x2ed3)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x14f0+0x1ae9+-0x5f8)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x6*0x2a9+-0xa82*-0x3+0x7*-0x239));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0xef*-0x11+0x1363+0x2342*-0x1;}set['renderScen'+'eDepthMap'](_0x39f279){_0x39f279&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0xdf9*-0x1+-0x1*0x165f+0x2*0x122c)),this['_sceneDept'+'hMapReques'+'ted']=!(0x194+-0xda3+0xc0f)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0xee1+0x1b7a+-0x70f*0x6)),this['_sceneDept'+'hMapReques'+'ted']=!(0x2663+0xe3*0x10+-0x3492));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x47c*-0x1+-0x8ae*0x1+0x5*0x2a2;}set['renderTarg'+'et'](_0x3547a9){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x635+0x685*-0x2+0x133f&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x3547a9,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x26ec79){this['_camera']['scissorRec'+'t']=_0x26ec79;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x4c18bc){this['_camera']['sensitivit'+'y']=_0x4c18bc;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x1ab45f){this['_camera']['shutter']=_0x1ab45f;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x117c78){if(this['layers']['find'](_0x24c33e=>_0x24c33e===Xt)){const _0x5d1561=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x117c78?_0x5d1561==null||_0x5d1561['incrementC'+'ounter']():_0x5d1561==null||_0x5d1561['decrementC'+'ounter']();}else{if(_0x117c78)return!(-0xf1*-0x1c+0x1*-0x1504+-0x557);}return!(0x24bb+-0x6b6*0x4+-0x9e3*0x1);}['requestSce'+'neColorMap'](_0x175eb9){this['_renderSce'+'neColorMap']+=_0x175eb9?0x7b6+0x12*-0x12b+0xd51:-(-0xceb*-0x3+-0x3*-0x397+-0x3185),v['assert'](this['_renderSce'+'neColorMap']>=0xa*0x378+0x59+-0x2309),this['_enableDep'+'thLayer'](_0x175eb9)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x3982aa){this['_renderSce'+'neDepthMap']+=_0x3982aa?0x2081*-0x1+0x1195+0xeed*0x1:-(-0x34b+-0x12b6*-0x2+0x18*-0x16c),v['assert'](this['_renderSce'+'neDepthMap']>=0x2*-0xe05+-0x2b9*-0xb+0x1e9*-0x1),this['_enableDep'+'thLayer'](_0x3982aa)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x3fc20d=this['system']['app']['scene']['layers'];_0x3fc20d['_dirty']=!(0x21*-0x9b+0x2bf+0x4*0x44f);}['screenToWo'+'rld'](_0x4614c2,_0xbff068,_0x593a04,_0x180b27){const _0x482b6e=this['system']['app']['graphicsDe'+'vice'],{width:_0x19da67,height:_0x33cc2d}=_0x482b6e['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x4614c2,_0xbff068,_0x593a04,_0x19da67,_0x33cc2d,_0x180b27);}['worldToScr'+'een'](_0xeaf96f,_0x4592e6){const _0x1c0724=this['system']['app']['graphicsDe'+'vice'],{width:_0x1764c4,height:_0x4036d5}=_0x1c0724['clientRect'];return this['_camera']['worldToScr'+'een'](_0xeaf96f,_0x1764c4,_0x4036d5,_0x4592e6);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x1493+0x60*-0x3e+-0x5*-0x89),this['_camera']['_viewProjM'+'atDirty']=!(0x2490+-0x24e6+0x56);}['addCameraT'+'oLayers'](){const _0x4f0d4d=this['layers'];for(let _0x53b87d=-0xb*0x21e+0x1360+0x3*0x14e;_0x53b87d<_0x4f0d4d['length'];_0x53b87d++){const _0x51c769=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4f0d4d[_0x53b87d]);_0x51c769&&_0x51c769['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0xdd9aad=this['layers'];for(let _0x13cd6c=0x2*-0x1f2+-0x40d*0x5+0x1825;_0x13cd6c<_0xdd9aad['length'];_0x13cd6c++){const _0x1138d1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xdd9aad[_0x13cd6c]);_0x1138d1&&_0x1138d1['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x4c7366,_0x46238e){this['addCameraT'+'oLayers'](),_0x4c7366['off']('add',this['onLayerAdd'+'ed'],this),_0x4c7366['off']('remove',this['onLayerRem'+'oved'],this),_0x46238e['on']('add',this['onLayerAdd'+'ed'],this),_0x46238e['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x52474a){this['layers']['indexOf'](_0x52474a['id'])<0x4*-0x21d+0x1*0xac9+-0x255||_0x52474a['addCamera'](this);}['onLayerRem'+'oved'](_0x289e95){this['layers']['indexOf'](_0x289e95['id'])<0x1825*0x1+-0xbf*0x33+0xde8*0x1||_0x289e95['removeCame'+'ra'](this);}['onEnable'](){var _0xe37454,_0x23f721,_0x3f718e;const _0x181b74=this['system']['app']['scene'],_0x40843b=_0x181b74['layers'];this['system']['addCamera'](this),(_0xe37454=this['_evtLayers'+'Changed'])==null||_0xe37454['off'](),this['_evtLayers'+'Changed']=_0x181b74['on']('set:layers',this['onLayersCh'+'anged'],this),_0x40843b&&((_0x23f721=this['_evtLayerA'+'dded'])==null||_0x23f721['off'](),this['_evtLayerA'+'dded']=_0x40843b['on']('add',this['onLayerAdd'+'ed'],this),(_0x3f718e=this['_evtLayerR'+'emoved'])==null||_0x3f718e['off'](),this['_evtLayerR'+'emoved']=_0x40843b['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x47d102,_0x4a056d,_0x3087be;const _0x17a36e=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x47d102=this['_evtLayers'+'Changed'])==null||_0x47d102['off'](),this['_evtLayers'+'Changed']=null,_0x17a36e&&((_0x4a056d=this['_evtLayerA'+'dded'])==null||_0x4a056d['off'](),this['_evtLayerA'+'dded']=null,(_0x3087be=this['_evtLayerR'+'emoved'])==null||_0x3087be['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x25f500){const _0xd98c06=this['system']['app']['graphicsDe'+'vice'],_0x4fb08d=_0x25f500?_0x25f500['width']:_0xd98c06['width'],_0x4a9a8b=_0x25f500?_0x25f500['height']:_0xd98c06['height'];return _0x4fb08d*this['rect']['z']/(_0x4a9a8b*this['rect']['w']);}['frameUpdat'+'e'](_0x24441a){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x24441a));}['startXr'](_0x3ae927,_0x393a49,_0x416e10){this['system']['app']['xr']['start'](this,_0x3ae927,_0x393a49,_0x416e10);}['endXr'](_0x22af0b){if(!this['_camera']['xr']){_0x22af0b&&_0x22af0b(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x22af0b);}['copy'](_0x5acc82){this['aperture']=_0x5acc82['aperture'],this['aspectRati'+'o']=_0x5acc82['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x5acc82['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x5acc82['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x5acc82['calculateT'+'ransform'],this['clearColor']=_0x5acc82['clearColor'],this['clearColor'+'Buffer']=_0x5acc82['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x5acc82['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x5acc82['clearStenc'+'ilBuffer'],this['cullFaces']=_0x5acc82['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x5acc82['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x5acc82['farClip'],this['flipFaces']=_0x5acc82['flipFaces'],this['fov']=_0x5acc82['fov'],this['frustumCul'+'ling']=_0x5acc82['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x5acc82['horizontal'+'Fov'],this['layers']=_0x5acc82['layers'],this['nearClip']=_0x5acc82['nearClip'],this['orthoHeigh'+'t']=_0x5acc82['orthoHeigh'+'t'],this['priority']=_0x5acc82['priority'],this['projection']=_0x5acc82['projection'],this['rect']=_0x5acc82['rect'],this['renderTarg'+'et']=_0x5acc82['renderTarg'+'et'],this['scissorRec'+'t']=_0x5acc82['scissorRec'+'t'],this['sensitivit'+'y']=_0x5acc82['sensitivit'+'y'],this['shutter']=_0x5acc82['shutter'];}}class XI{constructor(){this['enabled']=!(-0x1934*0x1+-0x2001+-0x1*-0x3935);}}const wx=['enabled'];class jI extends Xe{constructor(_0x1d86d0){super(_0x1d86d0),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x265653,_0x1ad815,_0x178006){_0x178006=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x37f7d2=0x1b5f+-0x22d*-0x5+-0x30*0xcc;_0x37f7d2<_0x178006['length'];_0x37f7d2++){const _0x4b1ee7=_0x178006[_0x37f7d2];if(_0x1ad815['hasOwnProp'+'erty'](_0x4b1ee7)){const _0x2ed325=_0x1ad815[_0x4b1ee7];switch(_0x4b1ee7){case'rect':case'scissorRec'+'t':Array['isArray'](_0x2ed325)?_0x265653[_0x4b1ee7]=new Q(_0x2ed325[0x195+0x6*-0x3b+-0x33*0x1],_0x2ed325[0x23e6+0x810+-0x2bf5],_0x2ed325[-0x266a+0xea8+-0x1*-0x17c4],_0x2ed325[0x1c45+-0xf*-0x249+-0x3e89]):_0x265653[_0x4b1ee7]=_0x2ed325;break;case'clearColor':Array['isArray'](_0x2ed325)?_0x265653[_0x4b1ee7]=new Y(_0x2ed325[0x2362+-0x56*-0x13+-0x29c4],_0x2ed325[-0x22e9+-0x17*0x147+0x404b],_0x2ed325[-0x23cf+0x3d*0x9e+0x43*-0x7],_0x2ed325[-0x242c+-0x50e+0x293d]):_0x265653[_0x4b1ee7]=_0x2ed325;break;default:_0x265653[_0x4b1ee7]=_0x2ed325;break;}}}super['initialize'+'ComponentD'+'ata'](_0x265653,_0x1ad815,['enabled']);}['cloneCompo'+'nent'](_0x2e11f5,_0x3a8ca9){const _0x595519=_0x2e11f5['camera'];return this['addCompone'+'nt'](_0x3a8ca9,{'aspectRatio':_0x595519['aspectRati'+'o'],'aspectRatioMode':_0x595519['aspectRati'+'oMode'],'calculateProjection':_0x595519['calculateP'+'rojection'],'calculateTransform':_0x595519['calculateT'+'ransform'],'clearColor':_0x595519['clearColor'],'clearColorBuffer':_0x595519['clearColor'+'Buffer'],'clearDepthBuffer':_0x595519['clearDepth'+'Buffer'],'clearStencilBuffer':_0x595519['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x595519['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x595519['renderScen'+'eColorMap'],'cullFaces':_0x595519['cullFaces'],'enabled':_0x595519['enabled'],'farClip':_0x595519['farClip'],'flipFaces':_0x595519['flipFaces'],'fov':_0x595519['fov'],'frustumCulling':_0x595519['frustumCul'+'ling'],'horizontalFov':_0x595519['horizontal'+'Fov'],'layers':_0x595519['layers'],'renderTarget':_0x595519['renderTarg'+'et'],'nearClip':_0x595519['nearClip'],'orthoHeight':_0x595519['orthoHeigh'+'t'],'projection':_0x595519['projection'],'priority':_0x595519['priority'],'rect':_0x595519['rect'],'scissorRect':_0x595519['scissorRec'+'t'],'aperture':_0x595519['aperture'],'sensitivity':_0x595519['sensitivit'+'y'],'shutter':_0x595519['shutter'],'gammaCorrection':_0x595519['gammaCorre'+'ction'],'toneMapping':_0x595519['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x24ea2d,_0x4ffafd){this['removeCame'+'ra'](_0x4ffafd),_0x4ffafd['onRemove']();}['onAppPrere'+'nder'](){for(let _0x192c11=0x73+-0x5f8*0x3+0x1175*0x1,_0x44d05c=this['cameras']['length'];_0x192c11<_0x44d05c;_0x192c11++)this['cameras'][_0x192c11]['onAppPrere'+'nder']();}['addCamera'](_0x3b8881){this['cameras']['push'](_0x3b8881),No(this['cameras']);}['removeCame'+'ra'](_0x4532f1){const _0x13f098=this['cameras']['indexOf'](_0x4532f1);_0x13f098>=0x748*0x1+0x104*-0x13+0xc04&&(this['cameras']['splice'](_0x13f098,0x1937+-0x2211+0x8db*0x1),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(0x1*-0x9e9+-0x1*0x1efe+0x28e7)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(0x1*0x449+0x13e8+-0x24*0xac,0x130e+0x14e5*-0x1+0x1d8,0x11*-0x6f+-0x5*0x641+-0x1*-0x26a5)),c(this,'intensity',-0xb4f+0x40c+-0x26c*-0x3),c(this,'luminance',-0xd4d+0x76*-0x2f+0x22f7),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(-0x2639+-0xced+0x3326)),c(this,'castShadow'+'s',!(-0x1fd8+-0x4a+0x2023)),c(this,'shadowDist'+'ance',-0x8d*-0x9+-0xde+-0x3ef),c(this,'shadowInte'+'nsity',-0x1d21+0x1da3+0x3*-0x2b),c(this,'shadowReso'+'lution',-0x321+0xf5+0x62c),c(this,'shadowBias',-0x476*0x2+0xb*0x120+-0x374+0.05),c(this,'numCascade'+'s',-0x45*0x40+-0x1fbe+0x25*0x153),c(this,'cascadeBle'+'nd',-0x4*0x110+0x1307+0x3*-0x4ed),c(this,'bakeNumSam'+'ples',-0x1*-0x21e5+0x1*0x1efd+-0x1*0x40e1),c(this,'bakeArea',-0x48*-0x20+0x193*0x16+-0x45d*0xa),c(this,'cascadeDis'+'tribution',-0x2*-0x17f+-0x1*0x1e6c+0x1b6e+0.5),c(this,'normalOffs'+'etBias',-0x11d8+-0x1f09+0x81*0x61),c(this,'range',0xa5f+0x4d0+0x1*-0xf25),c(this,'innerConeA'+'ngle',-0xb30+0x7*-0x17e+0x2*0xae5),c(this,'outerConeA'+'ngle',-0xa57*-0x3+-0x589+-0x194f*0x1),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',0xc2e*0x1+0x1e43*-0x1+-0x4*-0x488),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(0x108a*-0x2+-0x4f*0x11+0x1*0x2653+0.01)*(-0x1888+0x18f+0x16f9+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',0x1a14*0x1+0x89+-0x20c*0xd),c(this,'cookieFall'+'off',!(-0xfc3*-0x1+-0x215e+0x119b*0x1)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',0x686+0x1e74+-0x1*0x24fa),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',-0x1425+0x264e+-0x2*0x914),c(this,'affectDyna'+'mic',!(-0x9c9+-0xa3*-0x2f+-0x1424)),c(this,'affectLigh'+'tmapped',!(0x1*0x1bdc+-0x9bc+0x1*-0x121f)),c(this,'bake',!(-0x9db+-0x340+-0x2*-0x68e)),c(this,'bakeDir',!(-0xecb+-0x60f+-0x1*-0x14da)),c(this,'isStatic',!(-0x2309*0x1+0x1493+0xe77)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',0x1*-0x1421+0x3*0xa15+-0xa1d),c(this,'penumbraFa'+'lloff',-0x1*0x20e5+0xc3d+0x14a9),c(this,'shadowSamp'+'les',0x70+-0x1646*-0x1+-0x16a6),c(this,'shadowBloc'+'kerSamples',0x1*0x2703+-0x1d9c+-0x957);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(0x1f63+-0x2*-0x2f9+-0x2554)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x4234b8=this['system']['store'][this['entity']['getGuid']()];return _0x4234b8?_0x4234b8['data']:null;}set['enabled'](_0xd017f5){this['_setValue']('enabled',_0xd017f5,function(_0x36e398,_0x2f1f59){this['onSetEnabl'+'ed'](null,_0x2f1f59,_0x36e398);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x27e5c1){this['_setValue']('light',_0x27e5c1);}get['light'](){return this['data']['light'];}set['type'](_0x2fe879){this['_setValue']('type',_0x2fe879,function(_0x2eecfe,_0x5c4e8f){this['system']['changeType'](this,_0x5c4e8f,_0x2eecfe),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x3a6173){this['_setValue']('color',_0x3a6173,function(_0x35a9a9,_0x77c5e7){this['light']['setColor'](_0x35a9a9);},!(0x3d*0x6c+-0x36*-0xa2+-0x3be8));}get['color'](){return this['data']['color'];}set['intensity'](_0x2f614e){this['_setValue']('intensity',_0x2f614e,function(_0x25c03b,_0x4977a1){this['light']['intensity']=_0x25c03b;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x146712){this['_setValue']('luminance',_0x146712,function(_0x1dc293,_0xf7c094){this['light']['luminance']=_0x1dc293;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x542e41){this['_setValue']('shape',_0x542e41,function(_0x167e37,_0x206d27){this['light']['shape']=_0x167e37;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x564268){this['_setValue']('affectSpec'+'ularity',_0x564268,function(_0x403cc2,_0x4f9850){this['light']['affectSpec'+'ularity']=_0x403cc2;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x20d8f4){this['_setValue']('castShadow'+'s',_0x20d8f4,function(_0x1472d4,_0x43fc03){this['light']['castShadow'+'s']=_0x1472d4;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x2171cd){this['_setValue']('shadowDist'+'ance',_0x2171cd,function(_0x2645e2,_0x2cb119){this['light']['shadowDist'+'ance']=_0x2645e2;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x112c1d){this['_setValue']('shadowInte'+'nsity',_0x112c1d,function(_0x49a3d0,_0xb5a1e4){this['light']['shadowInte'+'nsity']=_0x49a3d0;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x123c79){this['_setValue']('shadowReso'+'lution',_0x123c79,function(_0x114617,_0x50484f){this['light']['shadowReso'+'lution']=_0x114617;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x45bc39){this['_setValue']('shadowBias',_0x45bc39,function(_0x2945a1,_0x26e0a3){this['light']['shadowBias']=-(0x2cf*-0xa+-0x8+0x1c1e+0.01)*N['clamp'](_0x2945a1,-0x821*-0x1+0x2c3*-0x9+0x10ba,-0x204b+0x467*-0x7+-0x1*-0x3f1d);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x5a8642){this['_setValue']('numCascade'+'s',_0x5a8642,function(_0xdaad47,_0x2d02c8){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0xdaad47),0x1*-0x1421+-0x1*0xfeb+0x240d,-0x1f95+-0x11f0+0x9*0x581);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x5f499b){this['_setValue']('cascadeBle'+'nd',_0x5f499b,function(_0x3bfdeb,_0x48d9db){this['light']['cascadeBle'+'nd']=N['clamp'](_0x3bfdeb,-0xa8+0x2*0x12d0+-0x24f8,0x15ff+-0x1261+-0x39d);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x52ce39){this['_setValue']('bakeNumSam'+'ples',_0x52ce39,function(_0x5e0280,_0x2fa428){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x5e0280),0x6a0+0x17e5+0xc*-0x28b,0x69*0x1+-0xb81+0xc17);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x8af5f2){this['_setValue']('bakeArea',_0x8af5f2,function(_0x236821,_0xf31068){this['light']['bakeArea']=N['clamp'](_0x236821,0x1c1a+0x912+-0x632*0x6,-0x17*-0x70+-0x91a+0x2*-0x21);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x598c29){this['_setValue']('cascadeDis'+'tribution',_0x598c29,function(_0x54e7f5,_0x1d353f){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x54e7f5,-0x1b5f+-0x3a*-0x5d+0x64d,0xf89*0x2+-0xb*0x47+-0x1c04);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x44f985){this['_setValue']('normalOffs'+'etBias',_0x44f985,function(_0x1e0ff4,_0x28b43b){this['light']['normalOffs'+'etBias']=N['clamp'](_0x1e0ff4,-0x40*0x18+0x2161+-0x1b61,0x33b*0x8+-0x1*0x192b+-0xac);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x1dabb1){this['_setValue']('range',_0x1dabb1,function(_0x282889,_0x5c1af7){this['light']['attenuatio'+'nEnd']=_0x282889;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x252374){this['_setValue']('innerConeA'+'ngle',_0x252374,function(_0x2639c3,_0xffbe68){this['light']['innerConeA'+'ngle']=_0x2639c3;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x14b589){this['_setValue']('outerConeA'+'ngle',_0x14b589,function(_0x324480,_0x16d97d){this['light']['outerConeA'+'ngle']=_0x324480;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0xf8e20c){this['_setValue']('falloffMod'+'e',_0xf8e20c,function(_0x5d54f6,_0x3a6717){this['light']['falloffMod'+'e']=_0x5d54f6;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x2d410f){this['_setValue']('shadowType',_0x2d410f,function(_0x5de4df,_0x121f77){this['light']['shadowType']=_0x5de4df;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x579ada){this['_setValue']('vsmBlurSiz'+'e',_0x579ada,function(_0x18db98,_0x3c9c95){this['light']['vsmBlurSiz'+'e']=_0x18db98;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x2e69cb){this['_setValue']('vsmBlurMod'+'e',_0x2e69cb,function(_0x4d68ec,_0x2aadbd){this['light']['vsmBlurMod'+'e']=_0x4d68ec;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x206d09){this['_setValue']('vsmBias',_0x206d09,function(_0x4b1717,_0x58a6bd){this['light']['vsmBias']=N['clamp'](_0x4b1717,0xf2a+0xd58+-0x1c82,0x1f97*0x1+0x1705+0x369b*-0x1);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x3d3b00){this['_setValue']('cookieAsse'+'t',_0x3d3b00,function(_0x42a291,_0x331d1c){if(!(this['_cookieAss'+'etId']&&(_0x42a291 instanceof le&&_0x42a291['id']===this['_cookieAss'+'etId']||_0x42a291===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x42a291 instanceof le)this['data']['cookieAsse'+'t']=_0x42a291['id'],this['_cookieAss'+'etId']=_0x42a291['id'],this['onCookieAs'+'setAdd'](_0x42a291);else{if(typeof _0x42a291=='number'){this['_cookieAss'+'etId']=_0x42a291;const _0x2e8a8e=this['system']['app']['assets']['get'](_0x42a291);_0x2e8a8e?this['onCookieAs'+'setAdd'](_0x2e8a8e):(this['_cookieAss'+'etAdd']=!(0x866+-0x18b5+0x104f),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x3ca8fe){this['_setValue']('cookie',_0x3ca8fe,function(_0xc39ec9,_0x52f520){this['light']['cookie']=_0xc39ec9;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x47cf57){this['_setValue']('cookieInte'+'nsity',_0x47cf57,function(_0x4f637a,_0x54309d){this['light']['cookieInte'+'nsity']=N['clamp'](_0x4f637a,0x48*-0x49+0x168b*-0x1+0x2b13*0x1,0x1b2a+0x1cfa+-0x3823);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x4f6649){this['_setValue']('cookieFall'+'off',_0x4f6649,function(_0x56e250,_0x4e8773){this['light']['cookieFall'+'off']=_0x56e250;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x20219f){this['_setValue']('cookieChan'+'nel',_0x20219f,function(_0x4152dd,_0x467726){this['light']['cookieChan'+'nel']=_0x4152dd;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x4d898c){this['_setValue']('cookieAngl'+'e',_0x4d898c,function(_0x5ded02,_0x2e5f75){if(_0x5ded02!==-0x523+0x1a15+-0x14f2||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0xa676f7=0xd8b+0x224+0x1*-0xfae,_0x286fc6=-0x4d3*0x8+0x21*-0x39+0x2df2*0x1;this['cookieScal'+'e']&&(_0xa676f7=this['cookieScal'+'e']['x'],_0x286fc6=this['cookieScal'+'e']['y']);const _0x3acd3e=Math['cos'](_0x5ded02*N['DEG_TO_RAD']),_0x250dcb=Math['sin'](_0x5ded02*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x3acd3e/_0xa676f7,-_0x250dcb/_0xa676f7,_0x250dcb/_0x286fc6,_0x3acd3e/_0x286fc6),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x246296){this['_setValue']('cookieScal'+'e',_0x246296,function(_0xf4385f,_0x5eedbc){if(_0xf4385f!==null||this['cookieAngl'+'e']!==-0x89*0x3e+0x56c*0x3+0x10ea){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x28b3cb=_0xf4385f['x'],_0xd7924c=_0xf4385f['y'],_0x533265=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x16b33a=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x533265/_0x28b3cb,-_0x16b33a/_0x28b3cb,_0x16b33a/_0xd7924c,_0x533265/_0xd7924c),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x25*0xe8+-0x949*0x3+-0x5ad));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x2f6ace){this['_setValue']('cookieOffs'+'et',_0x2f6ace,function(_0x478c7a,_0x1487f8){this['light']['cookieOffs'+'et']=_0x478c7a;},!(0x1*-0x5ab+0x1e*0x105+-0x18eb*0x1));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x2d1eb5){this['_setValue']('shadowUpda'+'teMode',_0x2d1eb5,function(_0x7fa925,_0xa93a5c){this['light']['shadowUpda'+'teMode']=_0x7fa925;},!(0x177d+-0x1*0x124d+0x8*-0xa6));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x21a087){this['_setValue']('mask',_0x21a087,function(_0x465971,_0x3a920f){this['light']['mask']=_0x465971;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x3abeb1){this['_setValue']('affectDyna'+'mic',_0x3abeb1,function(_0x2dc672,_0x167b3d){_0x2dc672?this['light']['mask']|=hs:this['light']['mask']&=-(-0x1*0x2c5+0x1655*-0x1+-0x1*-0x191c),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x43ebc3){this['_setValue']('affectLigh'+'tmapped',_0x43ebc3,function(_0x2160ce,_0x11db29){_0x2160ce?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(-0x59c+0x1ea7+-0x1906))):(this['light']['mask']&=-(0x1cd*0xd+-0x2c9+-0x149d),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x51d031){this['_setValue']('bake',_0x51d031,function(_0x275b70,_0x12342c){_0x275b70?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(0xd6d+0x7d*-0x4+-0x6*0x1e9))):(this['light']['mask']&=-(-0x737+-0x7*0x12+0x7ba),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0xfb7faa){this['_setValue']('bakeDir',_0xfb7faa,function(_0x35c4fc,_0x501c60){this['light']['bakeDir']=_0x35c4fc;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x28844a){this['_setValue']('isStatic',_0x28844a,function(_0x2c2ed6,_0x399c14){this['light']['isStatic']=_0x2c2ed6;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0xe88ad4){this['_setValue']('layers',_0xe88ad4,function(_0x2d2de6,_0x3c1aea){for(let _0x356863=-0x401*-0x1+-0xe48+0xa47*0x1;_0x356863<_0x3c1aea['length'];_0x356863++){const _0x80c9c8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3c1aea[_0x356863]);_0x80c9c8&&(_0x80c9c8['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x80c9c8));}for(let _0x267042=-0x1a46+-0xc5*-0x21+-0x2d*-0x5;_0x267042<_0x2d2de6['length'];_0x267042++){const _0x46105a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2d2de6[_0x267042]);_0x46105a&&this['enabled']&&this['entity']['enabled']&&(_0x46105a['addLight'](this),this['light']['addLayer'](_0x46105a));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0xed8811){this['light']['shadowUpda'+'teOverride'+'s']=_0xed8811;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x580ba7){this['light']['shadowSamp'+'les']=_0x580ba7;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x271e69){this['light']['shadowBloc'+'kerSamples']=_0x271e69;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0xfe3864){this['light']['penumbraSi'+'ze']=_0xfe3864;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x3a1e46){this['light']['penumbraFa'+'lloff']=_0x3a1e46;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x60c764,_0xcfaae2,_0x1d5ebd,_0x178d56){const _0x3ad4e9=this['data'],_0x38bd16=_0x3ad4e9[_0x60c764];!_0x178d56&&_0x38bd16===_0xcfaae2||(_0x3ad4e9[_0x60c764]=_0xcfaae2,_0x1d5ebd&&_0x1d5ebd['call'](this,_0xcfaae2,_0x38bd16));}['addLightTo'+'Layers'](){for(let _0xccf1e7=-0x143*0x7+0xad8+-0x203;_0xccf1e7<this['layers']['length'];_0xccf1e7++){const _0x4e5685=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xccf1e7]);_0x4e5685&&(_0x4e5685['addLight'](this),this['light']['addLayer'](_0x4e5685));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0xda379f=-0x16bf+-0x1*-0x49+0x1676;_0xda379f<this['layers']['length'];_0xda379f++){const _0x3636fa=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xda379f]);_0x3636fa&&(_0x3636fa['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x3636fa));}}['onLayersCh'+'anged'](_0x33156e,_0x523b82){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x33156e['off']('add',this['onLayerAdd'+'ed'],this),_0x33156e['off']('remove',this['onLayerRem'+'oved'],this),_0x523b82['on']('add',this['onLayerAdd'+'ed'],this),_0x523b82['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x36f48b){this['layers']['indexOf'](_0x36f48b['id'])>=0x16a3+-0x6*0x100+0x1*-0x10a3&&this['enabled']&&this['entity']['enabled']&&(_0x36f48b['addLight'](this),this['light']['addLayer'](_0x36f48b));}['onLayerRem'+'oved'](_0x56e32b){this['layers']['indexOf'](_0x56e32b['id'])>=-0x2*-0x10d5+-0x2*0xc37+-0x93c&&(_0x56e32b['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x56e32b));}['refreshPro'+'perties'](){for(let _0xe82065=-0x20e3*-0x1+-0x160f+-0xad4;_0xe82065<To['length'];_0xe82065++){const _0x3bb997=To[_0xe82065];this[_0x3bb997]=this[_0x3bb997];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x3d7ffe=!(-0xc15*0x3+0x53*0x73+0x35*-0x5);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x3*0x55d+-0x10f+0x1126),_0x3d7ffe=!(0x3fa+-0x25b8+0x21be)),(!this['_cookieAss'+'et']['resource']||_0x3d7ffe)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x1705d7){this['_cookieAss'+'etId']===_0x1705d7['id']&&(this['_cookieAss'+'et']=_0x1705d7,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x481*0x4+-0x1fcb*0x1+0x8*0x63a)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x501c0b=this['system']['app']['scene'],_0x4a3b67=_0x501c0b['layers'];this['light']['enabled']=!(-0x14bd*-0x1+0xf36+-0x23f3*0x1),this['_evtLayers'+'Changed']=_0x501c0b['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4a3b67&&(this['_evtLayerA'+'dded']=_0x4a3b67['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4a3b67['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x33c9b0,_0x573cca,_0x1b5fad;const _0x59bc61=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0x210a+-0x2*0xc6d+-0x5*0x1a3),(_0x33c9b0=this['_evtLayers'+'Changed'])==null||_0x33c9b0['off'](),this['_evtLayers'+'Changed']=null,_0x59bc61&&((_0x573cca=this['_evtLayerA'+'dded'])==null||_0x573cca['off'](),this['_evtLayerA'+'dded']=null,(_0x1b5fad=this['_evtLayerR'+'emoved'])==null||_0x1b5fad['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x367790){super(_0x367790),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0xe518c,_0x44ab80){const _0x2fa63f={..._0x44ab80};_0x2fa63f['type']||(_0x2fa63f['type']=_0xe518c['data']['type']),_0xe518c['data']['type']=_0x2fa63f['type'],_0x2fa63f['layers']&&Array['isArray'](_0x2fa63f['layers'])&&(_0x2fa63f['layers']=_0x2fa63f['layers']['slice'](0x1893+-0x1*-0x6aa+-0x1f3d)),_0x2fa63f['color']&&Array['isArray'](_0x2fa63f['color'])&&(_0x2fa63f['color']=new Y(_0x2fa63f['color'][0x18cf+-0x471+-0x145e],_0x2fa63f['color'][0x39d+-0x583*-0x7+-0x2a31],_0x2fa63f['color'][-0xc5*0x13+-0xa4e+-0x18ef*-0x1])),_0x2fa63f['cookieOffs'+'et']&&_0x2fa63f['cookieOffs'+'et']instanceof Array&&(_0x2fa63f['cookieOffs'+'et']=new W(_0x2fa63f['cookieOffs'+'et'][-0x1cb1+-0x1d88+0x3a39],_0x2fa63f['cookieOffs'+'et'][0x18a0+0x3f3*0x1+-0xe49*0x2])),_0x2fa63f['cookieScal'+'e']&&_0x2fa63f['cookieScal'+'e']instanceof Array&&(_0x2fa63f['cookieScal'+'e']=new W(_0x2fa63f['cookieScal'+'e'][0x4*-0x7ee+0x1*-0x215b+0x4113],_0x2fa63f['cookieScal'+'e'][-0x7e*0xd+-0x5*0x722+-0x2a11*-0x1])),_0x2fa63f['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x2fa63f['enabled']=_0x2fa63f['enable']),_0x2fa63f['shape']||(_0x2fa63f['shape']=yt);const _0x807c3=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x807c3['type']=Gu[_0x2fa63f['type']],_0x807c3['_node']=_0xe518c['entity'],_0xe518c['data']['light']=_0x807c3,super['initialize'+'ComponentD'+'ata'](_0xe518c,_0x2fa63f,To);}['_onRemoveC'+'omponent'](_0x5e890b,_0x4b9d97){_0x4b9d97['onRemove']();}['cloneCompo'+'nent'](_0x56a090,_0x39b407){const _0x539f3c=_0x56a090['light'],_0x233fa8=[];let _0x3813c4;for(let _0x5a3033=0x2559+0x11a6*-0x1+-0x29*0x7b;_0x5a3033<To['length'];_0x5a3033++)_0x3813c4=To[_0x5a3033],_0x3813c4!=='light'&&(_0x539f3c[_0x3813c4]&&_0x539f3c[_0x3813c4]['clone']?_0x233fa8[_0x3813c4]=_0x539f3c[_0x3813c4]['clone']():_0x233fa8[_0x3813c4]=_0x539f3c[_0x3813c4]);return this['addCompone'+'nt'](_0x39b407,_0x233fa8);}['changeType'](_0x89ce5a,_0x445954,_0x175dc0){_0x445954!==_0x175dc0&&(_0x89ce5a['light']['type']=Gu[_0x175dc0]);}}const ZI=['x','y','z','w'],QI=[void(0x1d2*-0x13+-0x10f*0x13+0x36b3),void(-0x6b*0x1+0x1*0xafe+-0x1*0xa93),W,T,Q];function La(_0x5af60,_0x4334a5,_0x1dd5ae,_0x2d55aa){switch(_0x4334a5['type']){case'boolean':return!!_0x1dd5ae;case'number':if(typeof _0x1dd5ae=='number')return _0x1dd5ae;if(typeof _0x1dd5ae=='string'){const _0x48269f=parseInt(_0x1dd5ae,-0x2521+0x178a+0x48b*0x3);return isNaN(_0x48269f)?null:_0x48269f;}else{if(typeof _0x1dd5ae=='boolean')return 0x1*-0x426+0x6cf+-0x3*0xe3+_0x1dd5ae;}return null;case'json':{const _0x36235c={};if(Array['isArray'](_0x4334a5['schema'])){(!_0x1dd5ae||typeof _0x1dd5ae!='object')&&(_0x1dd5ae={});for(let _0x2562e7=-0x1*0xb22+0x1*-0x151b+-0x83*-0x3f;_0x2562e7<_0x4334a5['schema']['length'];_0x2562e7++){const _0x1c9410=_0x4334a5['schema'][_0x2562e7];if(_0x1c9410['name']){if(_0x1c9410['array']){_0x36235c[_0x1c9410['name']]=[];const _0x2eead2=Array['isArray'](_0x1dd5ae[_0x1c9410['name']])?_0x1dd5ae[_0x1c9410['name']]:[];for(let _0x4d4574=-0x33*-0x90+-0x53e*-0x1+-0x21ee;_0x4d4574<_0x2eead2['length'];_0x4d4574++)_0x36235c[_0x1c9410['name']]['push'](La(_0x5af60,_0x1c9410,_0x2eead2[_0x4d4574]));}else{const _0x3e5400=_0x1dd5ae['hasOwnProp'+'erty'](_0x1c9410['name'])?_0x1dd5ae[_0x1c9410['name']]:_0x1c9410['default'];_0x36235c[_0x1c9410['name']]=La(_0x5af60,_0x1c9410,_0x3e5400);}}}}return _0x36235c;}case'asset':return _0x1dd5ae instanceof le?_0x1dd5ae:typeof _0x1dd5ae=='number'?_0x5af60['assets']['get'](_0x1dd5ae)||null:typeof _0x1dd5ae=='string'&&_0x5af60['assets']['get'](parseInt(_0x1dd5ae,-0x2610+0x1b*-0x109+0x420d))||null;case'entity':return _0x1dd5ae instanceof De?_0x1dd5ae:typeof _0x1dd5ae=='string'?_0x5af60['getEntityF'+'romIndex'](_0x1dd5ae):null;case'rgb':case'rgba':if(_0x1dd5ae instanceof Y)return _0x2d55aa instanceof Y?(_0x2d55aa['copy'](_0x1dd5ae),_0x2d55aa):_0x1dd5ae['clone']();if(_0x1dd5ae instanceof Array&&_0x1dd5ae['length']>=0x1c93+-0x3*-0x5b5+-0x2daf&&_0x1dd5ae['length']<=0xb5*0x35+0x1*-0x1cf8+-0x87d){for(let _0xae5e65=0x93*0x3+-0x23d+-0x6*-0x16;_0xae5e65<_0x1dd5ae['length'];_0xae5e65++)if(typeof _0x1dd5ae[_0xae5e65]!='number')return null;return _0x2d55aa||(_0x2d55aa=new Y()),_0x2d55aa['r']=_0x1dd5ae[-0x26d0+0x909+0x1dc7],_0x2d55aa['g']=_0x1dd5ae[-0x135*-0x15+-0x8c3*0x1+-0x1095*0x1],_0x2d55aa['b']=_0x1dd5ae[-0x634+-0x2501+-0x2b37*-0x1],_0x2d55aa['a']=_0x1dd5ae['length']===-0x53a+0x68*0x4+0xb9*0x5?-0x105d+-0x323*-0x9+-0xbdd:_0x1dd5ae[-0x1*-0x1c53+-0xfa8+0x5*-0x288],_0x2d55aa;}else{if(typeof _0x1dd5ae=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x1dd5ae))return _0x2d55aa||(_0x2d55aa=new Y()),_0x2d55aa['fromString'](_0x1dd5ae),_0x2d55aa;}return null;case'vec2':case'vec3':case'vec4':{const _0x269258=parseInt(_0x4334a5['type']['slice'](-0x1*0x1a3b+0x958+0x10e6),-0x9*0x9d+0x3*0x16f+0x142),_0x1c0d05=QI[_0x269258];if(_0x1dd5ae instanceof _0x1c0d05)return _0x2d55aa instanceof _0x1c0d05?(_0x2d55aa['copy'](_0x1dd5ae),_0x2d55aa):_0x1dd5ae['clone']();if(_0x1dd5ae instanceof Array&&_0x1dd5ae['length']===_0x269258){for(let _0x58e219=0x6*0x4be+-0x5*-0x3e6+-0x2ff2;_0x58e219<_0x1dd5ae['length'];_0x58e219++)if(typeof _0x1dd5ae[_0x58e219]!='number')return null;_0x2d55aa||(_0x2d55aa=new _0x1c0d05());for(let _0x4a7da7=-0x28*0x29+0x1*0x183+0x4e5*0x1;_0x4a7da7<_0x269258;_0x4a7da7++)_0x2d55aa[ZI[_0x4a7da7]]=_0x1dd5ae[_0x4a7da7];return _0x2d55aa;}return null;}case'curve':if(_0x1dd5ae){let _0x4b144c;if(_0x1dd5ae instanceof Cs||_0x1dd5ae instanceof jr)_0x4b144c=_0x1dd5ae['clone']();else{const _0x5973e6=_0x1dd5ae['keys'][0x1199+-0x2291*-0x1+0x2*-0x1a15]instanceof Array?jr:Cs;_0x4b144c=new _0x5973e6(_0x1dd5ae['keys']),_0x4b144c['type']=_0x1dd5ae['type'];}return _0x4b144c;}break;}return _0x1dd5ae;}function Ax(_0x1458ae,_0x43741b,_0x4a2f3e,_0xad79c){return _0x43741b['array']?_0x4a2f3e['map']((_0x59e2c2,_0x3ea2dc)=>La(_0x1458ae,_0x43741b,_0x59e2c2,_0xad79c?_0xad79c[_0x3ea2dc]:null)):La(_0x1458ae,_0x43741b,_0x4a2f3e,_0xad79c);}function Ex(_0x25df34,_0x163159,_0x5cce64,_0x2a2403){if(_0x5cce64)for(const _0x2b6b84 in _0x163159){const _0x1c6fd3=_0x163159[_0x2b6b84],_0x5c7d77=_0x5cce64[_0x2b6b84];_0x5c7d77!==void(-0x2615+-0x1*-0x332+0x22e3)&&(_0x2a2403[_0x2b6b84]=Ax(_0x25df34,_0x1c6fd3,_0x5c7d77,_0x2a2403[_0x2b6b84]));}}const oa=class oa{constructor(_0x558c36){this['scriptType']=_0x558c36,this['index']={};}['add'](_0x310e89,_0x2675fd){if(this['index'][_0x310e89]){v['warn']('attribute\x20'+'\x27'+_0x310e89+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x310e89)){v['warn']('attribute\x20'+'\x27'+_0x310e89+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x310e89]=_0x2675fd,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x310e89,{'get':function(){return this['__attribut'+'es'][_0x310e89];},'set':function(_0x117444){const _0x121bf3='attr',_0x5d8b38='attr:'+_0x310e89,_0x379f59=this['__attribut'+'es'][_0x310e89];let _0x126627=_0x379f59;if(_0x379f59&&_0x2675fd['type']!=='json'&&_0x2675fd['type']!=='entity'&&_0x379f59['clone']&&(this['hasEvent'](_0x121bf3)||this['hasEvent'](_0x5d8b38))&&(_0x126627=_0x379f59['clone']()),_0x2675fd['array']){if(this['__attribut'+'es'][_0x310e89]=[],_0x117444){for(let _0x5851d0=0x67b+0x1*0x26bb+0x283*-0x12,_0x4c634d=_0x117444['length'];_0x5851d0<_0x4c634d;_0x5851d0++)this['__attribut'+'es'][_0x310e89]['push'](La(this['app'],_0x2675fd,_0x117444[_0x5851d0],_0x379f59?_0x379f59[_0x5851d0]:null));}}else this['__attribut'+'es'][_0x310e89]=La(this['app'],_0x2675fd,_0x117444,_0x379f59);this['fire'](_0x121bf3,_0x310e89,this['__attribut'+'es'][_0x310e89],_0x126627),this['fire'](_0x5d8b38,this['__attribut'+'es'][_0x310e89],_0x126627);}});}['remove'](_0x2e656b){return this['index'][_0x2e656b]?(delete this['index'][_0x2e656b],delete this['scriptType']['prototype'][_0x2e656b],!(0x1f8c+0x290+-0x94*0x3b)):!(-0x1*-0xc7c+-0x20e1+0x1466);}['has'](_0x41bded){return!!this['index'][_0x41bded];}['get'](_0x153fdb){return this['index'][_0x153fdb]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x2e33df){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x2e33df);}set['enabled'](_0x5cf25a){this['_enabled']=!!_0x5cf25a,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x1b32+0x1cae+-0x37e0),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x1a81+0x1208+-0x9*-0xf1),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x4ec0ce){const _0x1cf1b0=this['constructo'+'r'];v['assert'](_0x4ec0ce&&_0x4ec0ce['app']&&_0x4ec0ce['entity'],'script\x20['+_0x1cf1b0['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x4ec0ce['app'],this['entity']=_0x4ec0ce['entity'],this['_enabled']=typeof _0x4ec0ce['enabled']=='boolean'?_0x4ec0ce['enabled']:!(0x2*-0x81a+-0xd5d*0x2+0x2aee),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0xb*0x15d+-0xbe5+-0x319),this['__scriptTy'+'pe']=_0x1cf1b0,this['__executio'+'nOrder']=-(0x2693+0x2185*-0x1+-0x50d);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x4fd133){if(typeof _0x4fd133!='function')return;if('name'in Function['prototype'])return _0x4fd133['name'];if(_0x4fd133===Function||_0x4fd133===Function['prototype']['constructo'+'r'])return'Function';const _0x346ef1=(''+_0x4fd133)['match'](sD);return _0x346ef1?_0x346ef1[-0x92f*0x4+0x45*-0x5f+0x46*0xe4]:void(0x301*0x1+0x261a+-0x291b);}class Qh extends Ht{constructor(_0x2c85c6){super(_0x2c85c6),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x2c85c6);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x55c7d0){Ht['prototype']['initScript']['call'](this,_0x55c7d0),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x55c7d0['attributes']||{};}['initScript'+'Type'](_0x4539e6){this['initScript'](_0x4539e6);}['__initiali'+'zeAttribut'+'es'](_0x19b43d){if(!(!_0x19b43d&&!this['__attribut'+'esRaw'])){for(const _0x574358 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x574358)?this[_0x574358]=this['__attribut'+'esRaw'][_0x574358]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x574358)||(this['__scriptTy'+'pe']['attributes']['index'][_0x574358]['hasOwnProp'+'erty']('default')?this[_0x574358]=this['__scriptTy'+'pe']['attributes']['index'][_0x574358]['default']:this[_0x574358]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x37629e){for(const _0x5f4e5e in _0x37629e)_0x37629e['hasOwnProp'+'erty'](_0x5f4e5e)&&(this['prototype'][_0x5f4e5e]=_0x37629e[_0x5f4e5e]);}}const iD=_0x328690=>_0x328690[-0x5*-0x51b+0x1c78+0x259*-0x17]['toLowerCas'+'e']()+_0x328690['substring'](-0x1ac3+-0x732+0x21f6);class di extends ue{constructor(_0x4402f9,_0x24b547){super(_0x4402f9,_0x24b547),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x1*-0x204a+0x17ab+-0x37f4),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0xf44*-0x2+0x2a*0xb3+0x12a),this['_enabled']=!(0x52d+-0x1323+-0x6fb*-0x2),this['_beingEnab'+'led']=!(0x1*-0x21b9+-0xf*-0x255+-0x141),this['_isLooping'+'ThroughScr'+'ipts']=!(-0xe15+0x47*-0x2+0xea4),this['_execution'+'Order']=-(0xd*0x1fd+0x1b32+-0x350a),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x37f484){this['_scriptsDa'+'ta']=_0x37f484;for(const _0x564719 in _0x37f484){if(!_0x37f484['hasOwnProp'+'erty'](_0x564719))continue;const _0x360e35=this['_scriptsIn'+'dex'][_0x564719];if(_0x360e35){if(typeof _0x37f484[_0x564719]['enabled']=='boolean'&&(_0x360e35['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x360e35);}),_0x360e35['enabled']=!!_0x37f484[_0x564719]['enabled']),typeof _0x37f484[_0x564719]['attributes']=='object'){for(const _0x3d784e in _0x37f484[_0x564719]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x3d784e)){if(!_0x360e35['__attribut'+'es']['hasOwnProp'+'erty'](_0x3d784e)){const _0x902099=this['system']['app']['scripts']['get'](_0x564719);_0x902099&&_0x902099['attributes']['add'](_0x3d784e,{});}_0x360e35[_0x3d784e]=_0x37f484[_0x564719]['attributes'][_0x3d784e];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x4a0f94){const _0x8a9c63=this['_enabled'];this['_enabled']=_0x4a0f94,this['fire']('set','enabled',_0x8a9c63,_0x4a0f94);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x2*-0xddc+0x2162+-0x5aa),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x1fa6+-0x775*0x5+0x5a4);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x49cc5b=this['_beginLoop'+'ing']();for(let _0x1c5289=-0xab*0x22+-0xf3f*0x1+0x4f*0x7b,_0x189609=this['scripts']['length'];_0x1c5289<_0x189609;_0x1c5289++){const _0x4e206c=this['scripts'][_0x1c5289];_0x4e206c['_initializ'+'ed']&&!_0x4e206c['_postIniti'+'alized']&&_0x4e206c['enabled']&&(_0x4e206c['_postIniti'+'alized']=!(-0x5f+0x4a+-0x15*-0x1),_0x4e206c['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x4e206c,gf));}this['_endLoopin'+'g'](_0x49cc5b);}['_beginLoop'+'ing'](){const _0x3d4b16=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x19cf*0x1+0x1b57+-0x3526),_0x3d4b16;}['_endLoopin'+'g'](_0x5afa26){this['_isLooping'+'ThroughScr'+'ipts']=_0x5afa26,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0xfd792f,_0x2600c1,_0x51c0c0){this['_beingEnab'+'led']=!(-0x1715+-0x1*0x24fd+0x3c12),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x2595*-0x1+-0x7*0x257+-0x1533);}['_checkStat'+'e'](){const _0x422521=this['enabled']&&this['entity']['enabled'];if(_0x422521===this['_oldState'])return;this['_oldState']=_0x422521,this['fire'](_0x422521?'enable':'disable'),this['fire']('state',_0x422521),_0x422521?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x4dcc14=this['_beginLoop'+'ing']();for(let _0x3117da=-0x5a1*0x5+0x247a+-0x855,_0x422ba7=this['scripts']['length'];_0x3117da<_0x422ba7;_0x3117da++){const _0x383ada=this['scripts'][_0x3117da];_0x383ada['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x383ada);}),_0x383ada['enabled']=_0x383ada['_enabled'];}this['_endLoopin'+'g'](_0x4dcc14);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x3d6848=this['_beginLoop'+'ing']();for(let _0x5811f7=0x240a*0x1+-0x7*0x84+-0x206e;_0x5811f7<this['scripts']['length'];_0x5811f7++){const _0x30ae08=this['scripts'][_0x5811f7];_0x30ae08&&this['destroy'](_0x30ae08['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x3d6848);}['_removeDes'+'troyedScri'+'pts'](){const _0xb4b236=this['_destroyed'+'Scripts']['length'];if(_0xb4b236){for(let _0x45380d=-0x2413+-0x44*-0x9+0x21af;_0x45380d<_0xb4b236;_0x45380d++){const _0x3c889a=this['_destroyed'+'Scripts'][_0x45380d];this['_removeScr'+'iptInstanc'+'e'](_0x3c889a);}this['_destroyed'+'Scripts']['length']=-0x3*-0xbf1+0x1fac+0x437f*-0x1,this['_resetExec'+'utionOrder'](0x1efd+-0x1ed4+-0x29,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x2a278c=0x1b72+0x76+-0x1be8,_0x59133b=this['scripts']['length'];_0x2a278c<_0x59133b;_0x2a278c++){const _0x5a9f45=this['scripts'][_0x2a278c];this['initialize'+'Attributes'](_0x5a9f45);}}['initialize'+'Attributes'](_0x200e01){var _0x2d339b;if(_0x200e01 instanceof Qh)_0x200e01['__initiali'+'zeAttribut'+'es']();else{const _0x518d54=_0x200e01['__scriptTy'+'pe']['__name'],_0x7878a1=this['_attribute'+'DataMap']['get'](_0x518d54);if(!_0x7878a1)return;const _0x5e4d87=(_0x2d339b=this['system']['app']['scripts'])==null?void(0x2503+0x193f+-0x1a*0x265):_0x2d339b['getSchema'](_0x518d54);_0x5e4d87||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x518d54+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x5e4d87['attributes'],_0x7878a1,_0x200e01);}}['_scriptMet'+'hod'](_0x59f865,_0x5a44a8,_0xc7d8af){try{_0x59f865[_0x5a44a8](_0xc7d8af);}catch(_0x4eed1d){_0x59f865['enabled']=!(-0x5b*0x32+0x20a3+-0x4*0x3b7),_0x59f865['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x5a44a8+'\x22\x20for\x20\x22'+_0x59f865['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x4eed1d),console['error'](_0x4eed1d)),_0x59f865['fire']('error',_0x4eed1d,_0x5a44a8),this['fire']('error',_0x59f865,_0x4eed1d,_0x5a44a8);}}['_onInitial'+'ize'](){const _0x4bf5b1=this['_scripts'],_0x4b4014=this['_beginLoop'+'ing']();for(let _0x3af07c=0x2036+0x44b*-0x8+0x222,_0x530dfe=_0x4bf5b1['length'];_0x3af07c<_0x530dfe;_0x3af07c++){const _0x43901c=_0x4bf5b1[_0x3af07c];!_0x43901c['_initializ'+'ed']&&_0x43901c['enabled']&&(_0x43901c['_initializ'+'ed']=!(-0x21e2+-0x60d*0x2+0x2dfc),_0x43901c['initialize']&&this['_scriptMet'+'hod'](_0x43901c,_f));}this['_endLoopin'+'g'](_0x4b4014);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x47e8e8){const _0x12a067=this['_updateLis'+'t'];if(!_0x12a067['length'])return;const _0x58abf2=this['_beginLoop'+'ing']();for(_0x12a067['loopIndex']=0x569+0x1*-0x14f6+0x52f*0x3;_0x12a067['loopIndex']<_0x12a067['length'];_0x12a067['loopIndex']++){const _0x3bb9b6=_0x12a067['items'][_0x12a067['loopIndex']];_0x3bb9b6['enabled']&&this['_scriptMet'+'hod'](_0x3bb9b6,JI,_0x47e8e8);}this['_endLoopin'+'g'](_0x58abf2);}['_onPostUpd'+'ate'](_0x280a01){const _0x4f3748=this['_postUpdat'+'eList'];if(!_0x4f3748['length'])return;const _0xcdde91=this['_beginLoop'+'ing']();for(_0x4f3748['loopIndex']=0x3*0x351+0xfe5*0x2+-0x29bd;_0x4f3748['loopIndex']<_0x4f3748['length'];_0x4f3748['loopIndex']++){const _0x567dca=_0x4f3748['items'][_0x4f3748['loopIndex']];_0x567dca['enabled']&&this['_scriptMet'+'hod'](_0x567dca,eD,_0x280a01);}this['_endLoopin'+'g'](_0xcdde91);}['_insertScr'+'iptInstanc'+'e'](_0x15b185,_0x2f1deb,_0x1156e7){_0x2f1deb===-(0x1e7c+0xe64+-0x2cdf)?(this['_scripts']['push'](_0x15b185),_0x15b185['__executio'+'nOrder']=_0x1156e7,_0x15b185['update']&&this['_updateLis'+'t']['append'](_0x15b185),_0x15b185['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x15b185)):(this['_scripts']['splice'](_0x2f1deb,0x1512+0x1*-0x1f5e+-0x526*-0x2,_0x15b185),_0x15b185['__executio'+'nOrder']=_0x2f1deb,this['_resetExec'+'utionOrder'](_0x2f1deb+(-0x24bf+-0xcc9*-0x1+0x17f7),_0x1156e7+(0x1*-0xc07+-0x6b0+0x257*0x8)),_0x15b185['update']&&this['_updateLis'+'t']['insert'](_0x15b185),_0x15b185['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x15b185));}['_removeScr'+'iptInstanc'+'e'](_0x1f7e2a){const _0x54537f=this['_scripts']['indexOf'](_0x1f7e2a);return _0x54537f===-(-0x8b*-0x2b+0x2104*-0x1+0x1*0x9ac)||(this['_scripts']['splice'](_0x54537f,-0xb2e*-0x3+-0x1*0x1df5+-0xe5*0x4),_0x1f7e2a['update']&&this['_updateLis'+'t']['remove'](_0x1f7e2a),_0x1f7e2a['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x1f7e2a)),_0x54537f;}['_resetExec'+'utionOrder'](_0x2146dd,_0x333d13){for(let _0x3b76f2=_0x2146dd;_0x3b76f2<_0x333d13;_0x3b76f2++)this['_scripts'][_0x3b76f2]['__executio'+'nOrder']=_0x3b76f2;}['_resolveEn'+'tityScript'+'Attribute'](_0x1805b9,_0x57d15d,_0x5912d7,_0xb74e87,_0x1bf387,_0x449250){if(_0x1805b9['array']){const _0x230693=_0x5912d7['length'];if(!_0x230693)return;const _0x584ed5=_0x5912d7['slice']();for(let _0x12b8fb=-0x2496+0xd*0x13f+0x1463;_0x12b8fb<_0x230693;_0x12b8fb++){const _0x50493b=_0x584ed5[_0x12b8fb]instanceof We?_0x584ed5[_0x12b8fb]['getGuid']():_0x584ed5[_0x12b8fb];_0x449250[_0x50493b]&&(_0x584ed5[_0x12b8fb]=_0xb74e87?_0x449250[_0x50493b]['getGuid']():_0x449250[_0x50493b]);}_0x1bf387[_0x57d15d]=_0x584ed5;}else{if(_0x5912d7 instanceof We)_0x5912d7=_0x5912d7['getGuid']();else{if(typeof _0x5912d7!='string')return;}_0x449250[_0x5912d7]&&(_0x1bf387[_0x57d15d]=_0x449250[_0x5912d7]);}}['has'](_0x4043ab){if(typeof _0x4043ab=='string')return!!this['_scriptsIn'+'dex'][_0x4043ab];if(!_0x4043ab)return!(0xcef+-0xc*0xbb+-0x42a);const _0x2bfd4f=_0x4043ab,_0xa92de2=_0x2bfd4f['__name'],_0x489ea2=this['_scriptsIn'+'dex'][_0xa92de2];return(_0x489ea2&&_0x489ea2['instance'])instanceof _0x2bfd4f;}['get'](_0x1e5e68){if(typeof _0x1e5e68=='string'){const _0x1f0812=this['_scriptsIn'+'dex'][_0x1e5e68];return _0x1f0812?_0x1f0812['instance']:null;}if(!_0x1e5e68)return null;const _0x11d253=_0x1e5e68,_0x21d19c=_0x11d253['__name'],_0x46ab3f=this['_scriptsIn'+'dex'][_0x21d19c],_0x17b70b=_0x46ab3f&&_0x46ab3f['instance'];return _0x17b70b instanceof _0x11d253?_0x17b70b:null;}['create'](_0xc3daa5,_0x4686e9={}){const _0x2a9567=this;let _0x2f868d=_0xc3daa5,_0x22cea1=_0xc3daa5;if(typeof _0x2f868d=='string'?_0x2f868d=this['system']['app']['scripts']['get'](_0x2f868d):_0x2f868d&&(_0x22cea1=_0x2f868d['__name']??(_0x2f868d['__name']=iD(Cx(_0x2f868d)))),_0x2f868d){if(!this['_scriptsIn'+'dex'][_0x22cea1]||!this['_scriptsIn'+'dex'][_0x22cea1]['instance']){const _0x2da9a2=new _0x2f868d({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x4686e9['hasOwnProp'+'erty']('enabled')?_0x4686e9['enabled']:!(-0x1f23+-0x1f*0x7+0x1ffc),'attributes':_0x4686e9['attributes']||{}});_0x4686e9['properties']&&typeof _0x4686e9['properties']=='object'&&Object['assign'](_0x2da9a2,_0x4686e9['properties']),_0x2da9a2 instanceof Qh||this['_attribute'+'DataMap']['set'](_0x22cea1,_0x4686e9['attributes']);const _0x40021f=this['_scripts']['length'];let _0x23f71a=-(-0x3be*-0x1+-0x1f10+0x1b53);return typeof _0x4686e9['ind']=='number'&&_0x4686e9['ind']!==-(-0x37e+-0x1d67+0x20e6)&&_0x40021f>_0x4686e9['ind']&&(_0x23f71a=_0x4686e9['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x2da9a2,_0x23f71a,_0x40021f),this['_scriptsIn'+'dex'][_0x22cea1]={'instance':_0x2da9a2,'onSwap':function(){_0x2a9567['swap'](_0x22cea1);}},this[_0x22cea1]=_0x2da9a2,_0x4686e9['preloading']||this['initialize'+'Attributes'](_0x2da9a2),this['fire']('create',_0x22cea1,_0x2da9a2),this['fire']('create:'+_0x22cea1,_0x2da9a2),this['system']['app']['scripts']['on']('swap:'+_0x22cea1,this['_scriptsIn'+'dex'][_0x22cea1]['onSwap']),_0x4686e9['preloading']||(_0x2da9a2['enabled']&&!_0x2da9a2['_initializ'+'ed']&&(_0x2da9a2['_initializ'+'ed']=!(0x1718+-0x2*-0x5f3+0x22fe*-0x1),_0x2da9a2['initialize']&&this['_scriptMet'+'hod'](_0x2da9a2,_f)),_0x2da9a2['enabled']&&!_0x2da9a2['_postIniti'+'alized']&&(_0x2da9a2['_postIniti'+'alized']=!(-0x1*0x15d1+-0x11*-0x37+0x122a),_0x2da9a2['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x2da9a2,gf))),_0x2da9a2;}v['warn']('script\x20\x27'+_0x22cea1+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x22cea1]={'awaiting':!(0x19cc*0x1+-0x769+-0x1263),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x22cea1+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x37a012){let _0x3f6d25=_0x37a012,_0x5a6651=_0x37a012;typeof _0x5a6651=='string'?_0x5a6651=this['system']['app']['scripts']['get'](_0x5a6651):_0x5a6651&&(_0x3f6d25=_0x5a6651['__name']);const _0xf08f83=this['_scriptsIn'+'dex'][_0x3f6d25];if(delete this['_scriptsIn'+'dex'][_0x3f6d25],!_0xf08f83)return!(0x1d9*0xc+-0x1*0x6d7+-0xf54);this['_attribute'+'DataMap']['delete'](_0x3f6d25);const _0x51bb26=_0xf08f83['instance'];if(_0x51bb26&&!_0x51bb26['_destroyed']){if(_0x51bb26['enabled']=!(-0x1ab*-0x11+0xd9*-0x2d+0x9cb),_0x51bb26['_destroyed']=!(-0x1*0xe3e+-0x2*0xa03+0x2244),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x51bb26);else{const _0xeb0419=this['_removeScr'+'iptInstanc'+'e'](_0x51bb26);_0xeb0419>=-0x1137+-0x71f+0x1856&&this['_resetExec'+'utionOrder'](_0xeb0419,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x3f6d25,_0xf08f83['onSwap']),delete this[_0x3f6d25],this['fire']('destroy',_0x3f6d25,_0x51bb26||null),this['fire']('destroy:'+_0x3f6d25,_0x51bb26||null),_0x51bb26&&_0x51bb26['fire']('destroy'),!(0x8*0x3bd+-0x1bbc+0x116*-0x2);}['swap'](_0x38af35){let _0x146ae7=_0x38af35,_0x2eedf4=_0x38af35;typeof _0x2eedf4=='string'?_0x2eedf4=this['system']['app']['scripts']['get'](_0x2eedf4):_0x2eedf4&&(_0x146ae7=_0x2eedf4['__name']);const _0x2359e7=this['_scriptsIn'+'dex'][_0x146ae7];if(!_0x2359e7||!_0x2359e7['instance'])return!(-0xc2+0x5*0x4cd+-0xaf*0x22);const _0x5e39fb=_0x2359e7['instance'],_0x72e139=this['_scripts']['indexOf'](_0x5e39fb),_0x59a835=new _0x2eedf4({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x5e39fb['enabled'],'attributes':_0x5e39fb['__attribut'+'es']});return _0x59a835['swap']?(this['initialize'+'Attributes'](_0x59a835),this['_scripts'][_0x72e139]=_0x59a835,this['_scriptsIn'+'dex'][_0x146ae7]['instance']=_0x59a835,this[_0x146ae7]=_0x59a835,_0x59a835['__executio'+'nOrder']=_0x72e139,_0x5e39fb['update']&&this['_updateLis'+'t']['remove'](_0x5e39fb),_0x5e39fb['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x5e39fb),_0x59a835['update']&&this['_updateLis'+'t']['insert'](_0x59a835),_0x59a835['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x59a835),this['_scriptMet'+'hod'](_0x59a835,tD,_0x5e39fb),this['fire']('swap',_0x146ae7,_0x59a835),this['fire']('swap:'+_0x146ae7,_0x59a835),!(-0x2210+-0x2061+0x4271)):!(-0x665*0x2+0x18c1*0x1+-0xbf6);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x173da1,_0x330cd5){const _0x2fd173=this['entity']['script'];for(const _0x270e8c in _0x173da1['_scriptsIn'+'dex']){const _0x377a93=this['system']['app']['scripts']['get'](_0x270e8c);if(!_0x377a93)continue;const _0x3ae27d=_0x173da1['_scriptsIn'+'dex'][_0x270e8c];if(!_0x3ae27d||!_0x3ae27d['instance'])continue;const _0x28e2c8=_0x2fd173[_0x270e8c]['__attribut'+'esRaw'],_0x1ad32f=_0x2fd173[_0x270e8c]['__attribut'+'es'];if(!_0x28e2c8&&!_0x1ad32f)continue;const _0xd06b1e=!!_0x28e2c8,_0x5e034a=_0x3ae27d['instance']['__attribut'+'es'];for(const _0xa94142 in _0x5e034a){if(!_0x5e034a[_0xa94142])continue;const _0x3bb1b5=_0x377a93['attributes']['get'](_0xa94142);if(_0x3bb1b5){if(_0x3bb1b5['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x3bb1b5,_0xa94142,_0x5e034a[_0xa94142],_0xd06b1e,_0x28e2c8||_0x1ad32f,_0x330cd5);else{if(_0x3bb1b5['type']==='json'&&Array['isArray'](_0x3bb1b5['schema'])){const _0x71cb6a=_0x5e034a[_0xa94142],_0x472dc8=_0x28e2c8?_0x28e2c8[_0xa94142]:_0x1ad32f[_0xa94142];for(let _0x4dd4e6=0x6*-0x227+0x51d+0x1*0x7cd;_0x4dd4e6<_0x3bb1b5['schema']['length'];_0x4dd4e6++){const _0x28b647=_0x3bb1b5['schema'][_0x4dd4e6];if(_0x28b647['type']==='entity'){if(_0x3bb1b5['array']){for(let _0xfe7162=0x1368+0x4b4+-0x181c;_0xfe7162<_0x71cb6a['length'];_0xfe7162++)this['_resolveEn'+'tityScript'+'Attribute'](_0x28b647,_0x28b647['name'],_0x71cb6a[_0xfe7162][_0x28b647['name']],_0xd06b1e,_0x472dc8[_0xfe7162],_0x330cd5);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x28b647,_0x28b647['name'],_0x71cb6a[_0x28b647['name']],_0xd06b1e,_0x472dc8,_0x330cd5);}}}}}}}}['move'](_0xb249f4,_0x3f6aa7){const _0x4ad7fc=this['_scripts']['length'];if(_0x3f6aa7>=_0x4ad7fc||_0x3f6aa7<0x3a*-0x1d+0x29*0xd5+0x1b8b*-0x1)return!(0x1f83+-0xaef*0x1+0xe5*-0x17);let _0x202ed2=_0xb249f4,_0x2fee27=_0xb249f4;typeof _0x2fee27!='string'?_0x2fee27=_0xb249f4['__name']:_0x202ed2=null;const _0xfec9ae=this['_scriptsIn'+'dex'][_0x2fee27];if(!_0xfec9ae||!_0xfec9ae['instance'])return!(-0x113c+0x462*0x4+-0x4b);const _0x113168=_0xfec9ae['instance'];if(_0x202ed2&&!(_0x113168 instanceof _0x202ed2))return!(0x2*-0x1e6+-0x2*0xab5+0x5*0x50b);const _0x2f8146=this['_scripts']['indexOf'](_0x113168);return _0x2f8146===-(0x1fb9+0x152e*0x1+-0x34e6)||_0x2f8146===_0x3f6aa7?!(0xc59+-0xabc+-0x67*0x4):(this['_scripts']['splice'](_0x3f6aa7,-0x1d77*-0x1+-0x1*0x1ca9+-0x2*0x67,this['_scripts']['splice'](_0x2f8146,0x48*0x4e+0x1*0x138b+-0x297a*0x1)[0xcce+-0x2251+0x1583]),this['_resetExec'+'utionOrder'](-0xeb+0x11ee+-0x1103,_0x4ad7fc),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x2fee27,_0x113168,_0x3f6aa7,_0x2f8146),this['fire']('move:'+_0x2fee27,_0x113168,_0x3f6aa7,_0x2f8146),!(0x1306+0x1*0xbd7+0x1edd*-0x1));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(0x16c0+-0xa*0xd4+-0xe78);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=0x7e9+0xcee*-0x3+0x1ee1*0x1;class cD extends Xe{constructor(_0x218ec5){super(_0x218ec5),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x191*0x4+0x1b0*-0xf+-0xac*-0x2f),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x18a3ff,_0x3e61d9){if(_0x18a3ff['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x18a3ff),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x18a3ff['enabled']=_0x3e61d9['hasOwnProp'+'erty']('enabled')?!!_0x3e61d9['enabled']:!(0x914+0x1*0x466+-0xd7a),_0x18a3ff['enabled']&&_0x18a3ff['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x18a3ff),_0x3e61d9['hasOwnProp'+'erty']('order')&&_0x3e61d9['hasOwnProp'+'erty']('scripts')){_0x18a3ff['_scriptsDa'+'ta']=_0x3e61d9['scripts'];for(let _0x582090=0x1*0x21aa+-0x8ec+-0x18be*0x1;_0x582090<_0x3e61d9['order']['length'];_0x582090++)_0x18a3ff['create'](_0x3e61d9['order'][_0x582090],{'enabled':_0x3e61d9['scripts'][_0x3e61d9['order'][_0x582090]]['enabled'],'attributes':_0x3e61d9['scripts'][_0x3e61d9['order'][_0x582090]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x504dcd,_0x1bd661){var _0x5a8339;const _0x163009=[],_0x432e98={};for(let _0x5e9220=-0x1d22+-0x35f*0x8+0x381a;_0x5e9220<_0x504dcd['script']['_scripts']['length'];_0x5e9220++){const _0x4e7884=_0x504dcd['script']['_scripts'][_0x5e9220],_0x56d34b=_0x4e7884['__scriptTy'+'pe']['__name'];_0x163009['push'](_0x56d34b);const _0x2fde00=((_0x5a8339=_0x504dcd['script']['_attribute'+'DataMap'])==null?void(0xd70+0x1c97+-0x2a07):_0x5a8339['get'](_0x56d34b))||{};for(const _0xd4863b in _0x4e7884['__attribut'+'es'])_0x2fde00[_0xd4863b]=_0x4e7884['__attribut'+'es'][_0xd4863b];_0x432e98[_0x56d34b]={'enabled':_0x4e7884['_enabled'],'attributes':_0x2fde00};}for(const _0x9f0bd6 in _0x504dcd['script']['_scriptsIn'+'dex'])_0x9f0bd6['awaiting']&&_0x163009['splice'](_0x9f0bd6['ind'],-0x1e87*-0x1+0x90*0x30+-0x3987*0x1,_0x9f0bd6);const _0x1d2737={'enabled':_0x504dcd['script']['enabled'],'order':_0x163009,'scripts':_0x432e98};return this['addCompone'+'nt'](_0x1bd661,_0x1d2737);}['_resetExec'+'utionOrder'](){Jl=0x5f2*-0x3+-0x3*-0x2f5+0x8f7;for(let _0x26fb96=-0x4*-0x860+-0x8*0x201+0xac*-0x1a,_0x3dffe8=this['_component'+'s']['length'];_0x26fb96<_0x3dffe8;_0x26fb96++)this['_component'+'s']['items'][_0x26fb96]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x8c46a7,_0x18c4e5,_0x25a77b){for(_0x8c46a7['loopIndex']=-0x293+-0x1d*0x71+-0x148*-0xc;_0x8c46a7['loopIndex']<_0x8c46a7['length'];_0x8c46a7['loopIndex']++)_0x8c46a7['items'][_0x8c46a7['loopIndex']][_0x18c4e5](_0x25a77b);}['_onInitial'+'ize'](){this['preloading']=!(-0x24*0xa0+0x1*0xd3f+-0x4a1*-0x2),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x4e2f57){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x4e2f57);}['_onPostUpd'+'ate'](_0x47de3a){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x47de3a);}['_addCompon'+'entToEnabl'+'ed'](_0x338ff5){this['_enabledCo'+'mponents']['insert'](_0x338ff5);}['_removeCom'+'ponentFrom'+'Enabled'](_0x3cff45){this['_enabledCo'+'mponents']['remove'](_0x3cff45);}['_onBeforeR'+'emove'](_0x247028,_0x5587b6){this['_component'+'s']['items']['indexOf'](_0x5587b6)>=0x2115+-0xe*-0x56+-0x25c9*0x1&&_0x5587b6['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x5587b6),this['_component'+'s']['remove'](_0x5587b6);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x286a3a,_0x30474f){super(_0x286a3a,_0x30474f),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x286a3a['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x30474f['on']('remove',this['onRemoveCh'+'ild'],this),_0x30474f['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x30474f['on']('insert',this['onInsertCh'+'ild'],this),_0x30474f['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x426f8c){var _0x469c1b,_0x52401f;this['_customAab'+'b']=_0x426f8c,(_0x52401f=(_0x469c1b=this['_instance'])==null?void(0x12a5+0xe0e+-0x20b3):_0x469c1b['meshInstan'+'ce'])==null||_0x52401f['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x51ff4b){var _0x192845;if(this['destroyIns'+'tance'](),this['_instance']=_0x51ff4b,(_0x192845=this['_instance'])!=null&&_0x192845['meshInstan'+'ce']){const _0x3cc251=this['_instance']['meshInstan'+'ce'];_0x3cc251['node']||(_0x3cc251['node']=this['entity']),_0x3cc251['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x4f17a3){this['_materialO'+'ptions']=Object['assign']({},_0x4f17a3),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x1bea1a;return(_0x1bea1a=this['_instance'])==null?void(-0xc2d+0x162e+0xc5*-0xd):_0x1bea1a['material'];}set['layers'](_0x19a1e4){this['removeFrom'+'Layers'](),this['_layers']['length']=-0x203e+-0x103*-0x11+-0x1*-0xf0b;for(let _0x5b5aa3=-0x12d1+-0x3*0x983+0x2f5a;_0x5b5aa3<_0x19a1e4['length'];_0x5b5aa3++)this['_layers'][_0x5b5aa3]=_0x19a1e4[_0x5b5aa3];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x3f3e5d){const _0x40a706=_0x3f3e5d instanceof le?_0x3f3e5d['id']:_0x3f3e5d;this['_assetRefe'+'rence']['id']!==_0x40a706&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x40a706,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x36e735){const _0x4df665=_0x36e735 instanceof le?_0x36e735['id']:_0x36e735;this['_assetRefe'+'rence']['id']=_0x4df665;}['destroyIns'+'tance'](){var _0x1e0a83;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x1e0a83=this['_instance'])==null||_0x1e0a83['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x395587,_0x42a418;const _0xf29d5e=(_0x395587=this['instance'])==null?void(0x2*0x3fa+-0xe21+0x62d*0x1):_0x395587['meshInstan'+'ce'];if(_0xf29d5e){const _0x3582ee=this['system']['app']['scene']['layers'];for(let _0x5b1df3=-0x124f+-0x97*0x7+0x1670;_0x5b1df3<this['_layers']['length'];_0x5b1df3++)(_0x42a418=_0x3582ee['getLayerBy'+'Id'](this['_layers'][_0x5b1df3]))==null||_0x42a418['addMeshIns'+'tances']([_0xf29d5e]);}}['removeFrom'+'Layers'](){var _0x45badf,_0x3627d9;const _0x231645=(_0x45badf=this['instance'])==null?void(-0xe04+0x746+-0x2*-0x35f):_0x45badf['meshInstan'+'ce'];if(_0x231645){const _0x26e83a=this['system']['app']['scene']['layers'];for(let _0x46bcf9=0x3af+0x351*-0x1+-0x5e;_0x46bcf9<this['_layers']['length'];_0x46bcf9++)(_0x3627d9=_0x26e83a['getLayerBy'+'Id'](this['_layers'][_0x46bcf9]))==null||_0x3627d9['removeMesh'+'Instances']([_0x231645]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x458441,_0x1ce675){this['addToLayer'+'s'](),_0x458441['off']('add',this['onLayerAdd'+'ed'],this),_0x458441['off']('remove',this['onLayerRem'+'oved'],this),_0x1ce675['on']('add',this['onLayerAdd'+'ed'],this),_0x1ce675['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x20835e){this['layers']['indexOf'](_0x20835e['id'])<-0x16de+0xf24+0x7ba||this['_instance']&&_0x20835e['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x511f06){this['layers']['indexOf'](_0x511f06['id'])<0x4d*-0x3b+-0x83*0xc+0x17e3||this['_instance']&&_0x511f06['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x1f955b=this['system']['app']['scene'],_0x588c53=_0x1f955b['layers'];this['_evtLayers'+'Changed']=_0x1f955b['on']('set:layers',this['onLayersCh'+'anged'],this),_0x588c53&&(this['_evtLayerA'+'dded']=_0x588c53['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x588c53['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x3028f7,_0x4e1d4e,_0x3efe02;const _0x497fe4=this['system']['app']['scene']['layers'];(_0x3028f7=this['_evtLayers'+'Changed'])==null||_0x3028f7['off'](),this['_evtLayers'+'Changed']=null,_0x497fe4&&((_0x4e1d4e=this['_evtLayerA'+'dded'])==null||_0x4e1d4e['off'](),this['_evtLayerA'+'dded']=null,(_0x3efe02=this['_evtLayerR'+'emoved'])==null||_0x3efe02['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0xa6d+0x13ff+-0x1e6b));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1f*-0x6d+0x16be+0x1*-0x98b));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x530af7=this['_assetRefe'+'rence']['asset'];_0x530af7&&(this['instance']=_0x530af7['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(0x1b4b+0x219a+-0x3ce5);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x5b7cb8){super(_0x5b7cb8),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x4b7183,_0x2de960,_0x8cb12f){_0x2de960['layers']&&_0x2de960['layers']['length']&&(_0x2de960['layers']=_0x2de960['layers']['slice'](-0x33f*-0x3+-0x1605*0x1+0xc48));for(let _0xf9b92f=-0x1553+0x1*-0x821+-0x14*-0x179;_0xf9b92f<Rr['length'];_0xf9b92f++)_0x2de960['hasOwnProp'+'erty'](Rr[_0xf9b92f])&&(_0x4b7183[Rr[_0xf9b92f]]=_0x2de960[Rr[_0xf9b92f]]);_0x2de960['aabbCenter']&&_0x2de960['aabbHalfEx'+'tents']&&(_0x4b7183['customAabb']=new _e(new T(_0x2de960['aabbCenter']),new T(_0x2de960['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x4b7183,_0x2de960,yf);}['cloneCompo'+'nent'](_0x5e7133,_0x3dcd3b){const _0x3d37ce=_0x5e7133['gsplat'],_0x46bcfd={};for(let _0x562d9b=0x67*-0xc+-0x16a1*-0x1+-0x11cd;_0x562d9b<Rr['length'];_0x562d9b++)_0x46bcfd[Rr[_0x562d9b]]=_0x3d37ce[Rr[_0x562d9b]];_0x46bcfd['enabled']=_0x3d37ce['enabled'],delete _0x46bcfd['instance'];const _0x5a60ba=this['addCompone'+'nt'](_0x3dcd3b,_0x46bcfd);return _0x5a60ba['instance']=_0x3d37ce['instance']['clone'](),_0x3d37ce['customAabb']&&(_0x5a60ba['customAabb']=_0x3d37ce['customAabb']['clone']()),_0x5a60ba;}['onRemove'](_0x18a69b,_0x332e48){_0x332e48['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x53ea55){this['decRefMesh'+'es'](),this['_meshes']=_0x53ea55,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x53ea55);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x43d566;(_0x43d566=this['_meshes'])==null||_0x43d566['forEach']((_0xb6c356,_0x18aed8)=>{_0xb6c356&&(_0xb6c356['decRefCoun'+'t'](),_0xb6c356['refCount']<0x4c0+0x1a*-0xc8+0xf91&&(_0xb6c356['destroy'](),this['_meshes'][_0x18aed8]=null));});}['incRefMesh'+'es'](){var _0xae6d6c;(_0xae6d6c=this['_meshes'])==null||_0xae6d6c['forEach'](_0x50ffef=>{_0x50ffef==null||_0x50ffef['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x2d61ad){const _0x4f064f=this;if(!_0x4f064f['resource'])return;const _0x2143cd=_0x2d61ad['resource'],_0x1bf074=_0x2143cd['renders']&&_0x2143cd['renders'][_0x4f064f['data']['renderInde'+'x']];_0x1bf074&&(_0x4f064f['resource']['meshes']=_0x1bf074['resource']['meshes']);}function Lg(_0x2a997e){const _0x4ef2b9=this;_0x4ef2b9['registry']['off']('load:'+_0x2a997e['id'],yh,_0x4ef2b9),_0x4ef2b9['registry']['on']('load:'+_0x2a997e['id'],yh,_0x4ef2b9),_0x4ef2b9['registry']['off']('remove:'+_0x2a997e['id'],Fg,_0x4ef2b9),_0x4ef2b9['registry']['once']('remove:'+_0x2a997e['id'],Fg,_0x4ef2b9),_0x2a997e['resource']?yh['call'](_0x4ef2b9,_0x2a997e):_0x4ef2b9['registry']['load'](_0x2a997e);}function Fg(_0xd4ee6e){const _0x42a760=this;_0x42a760['registry']['off']('load:'+_0xd4ee6e['id'],yh,_0x42a760),_0x42a760['resource']&&_0x42a760['resource']['destroy']();}class fD extends Ne{constructor(_0x48c567){super(_0x48c567,'render'),this['_registry']=_0x48c567['assets'];}['open'](_0x54c336,_0x3ae311){return new Hp();}['patch'](_0x45f5a4,_0x57c911){if(!_0x45f5a4['data']['containerA'+'sset'])return;const _0x1912be=_0x57c911['get'](_0x45f5a4['data']['containerA'+'sset']);if(!_0x1912be){_0x57c911['once']('add:'+_0x45f5a4['data']['containerA'+'sset'],Lg,_0x45f5a4);return;}Lg['call'](_0x45f5a4,_0x1912be);}}class Px{constructor(_0x8292b4,_0x386a93,_0x59006e,_0x25eba9){this['_paths']=_0x8292b4,this['_input']=_0x386a93,this['_output']=_0x59006e,this['_interpola'+'tion']=_0x25eba9;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x1c7a01,_0x286259){this['_component'+'s']=_0x1c7a01,this['_data']=_0x286259;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x1fac4e,_0x3bae8d){let _0x2e6a55;const _0x494a86=(_0x86a6c2,_0x56c968)=>{switch(_0x56c968){case _0x2e6a55['DT_INT8']:return new Int8Array(_0x86a6c2['buffer'],_0x86a6c2['byteOffset'],_0x86a6c2['byteLength']);case _0x2e6a55['DT_INT16']:return new Int16Array(_0x86a6c2['buffer'],_0x86a6c2['byteOffset'],_0x86a6c2['byteLength']/(-0x2011+0x25e2+-0x5cf));case _0x2e6a55['DT_INT32']:return new Int32Array(_0x86a6c2['buffer'],_0x86a6c2['byteOffset'],_0x86a6c2['byteLength']/(0x18+0x33d+-0x351));case _0x2e6a55['DT_UINT8']:return new Uint8Array(_0x86a6c2['buffer'],_0x86a6c2['byteOffset'],_0x86a6c2['byteLength']);case _0x2e6a55['DT_UINT16']:return new Uint16Array(_0x86a6c2['buffer'],_0x86a6c2['byteOffset'],_0x86a6c2['byteLength']/(0x15*-0x143+-0x62f+-0x2*-0x1058));case _0x2e6a55['DT_UINT32']:return new Uint32Array(_0x86a6c2['buffer'],_0x86a6c2['byteOffset'],_0x86a6c2['byteLength']/(-0x1df5+0x23ed+-0x5f4));case _0x2e6a55['DT_FLOAT32']:return new Float32Array(_0x86a6c2['buffer'],_0x86a6c2['byteOffset'],_0x86a6c2['byteLength']/(0x3*0x89b+-0x1cd*-0x5+0x3de*-0x9));}return null;},_0x302e0a=_0x74e484=>{switch(_0x74e484){case _0x2e6a55['DT_INT8']:return 0xa*-0xc5+0x62f*-0x1+-0x2*-0x6f1;case _0x2e6a55['DT_INT16']:return 0x2*-0x841+0x164c+-0x5c8;case _0x2e6a55['DT_INT32']:return-0x1e34+0x65b*-0x3+0x3149;case _0x2e6a55['DT_UINT8']:return 0x2187+0x14ef+0x9*-0x60d;case _0x2e6a55['DT_UINT16']:return 0x1c76+-0x251*-0x1+0x1ec5*-0x1;case _0x2e6a55['DT_UINT32']:return-0x217a+-0xe*-0x156+0xeca*0x1;case _0x2e6a55['DT_FLOAT32']:return 0x1*-0x7e1+0x113a+-0x955*0x1;}return 0x20e6+-0x17*-0xf3+-0x3*0x123e;},_0x26d8de=_0x1b7355=>_0x1b7355['num_compon'+'ents']()*_0x302e0a(_0x1b7355['data_type']()),_0x19fe29={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x314a57=(_0x2a0042,_0x41056b)=>{const _0x3c2585=(_0xf4a5cd,_0x572066,_0x123e00)=>{_0xf4a5cd[-0x26d*-0x7+-0x25*0x6f+-0x2*0x78]=_0x572066[-0x24e3+-0x15f*-0x3+0x20c6]-_0x123e00[-0xf79+0x17fa+0x7*-0x137],_0xf4a5cd[-0xcf2*-0x1+-0x1bf5+0xf04]=_0x572066[0x425*0x3+-0x2af+0x5*-0x1f3]-_0x123e00[-0x1ea0+0x69c+0x1805],_0xf4a5cd[-0x1481+0x102f+0x454*0x1]=_0x572066[-0x2*-0x9c7+-0x2*0x8cb+-0x1f6]-_0x123e00[0x20c+-0xb9*0x2+-0x98];},_0x4cd73d=(_0x132e8e,_0x23b486,_0x198990)=>{_0x132e8e[-0x14be+0x5*-0x6fd+-0x5*-0xb23]=_0x23b486[-0x723+0x6d6+0x4e]*_0x198990[0x2392+0x252d+0x183f*-0x3]-_0x198990[-0x9*0x2ab+-0x11f5*-0x2+-0xbe6*0x1]*_0x23b486[0x12a*0x1+-0x1235*-0x1+-0x135d*0x1],_0x132e8e[0x1bf4+0x7c1*-0x1+-0x1432]=_0x23b486[0x23f4+0x23fc+0x17fa*-0x3]*_0x198990[0x247b+0x1d86+0x115*-0x3d]-_0x198990[0xa7b*0x1+-0x5*-0x10b+-0xfb0]*_0x23b486[0x1fb7+0x2*-0x8e0+-0xdf7*0x1],_0x132e8e[-0x5bc*-0x3+-0x417+0x37*-0x3d]=_0x23b486[-0x24c9+0x4*-0x581+0x3acd]*_0x198990[0x1*-0x24ba+-0x91+0x254c]-_0x198990[0x1445+0xd*-0x116+-0x627]*_0x23b486[-0x231d+0x1d4d+0x5d1*0x1];},_0x51c4d8=(_0x76198d,_0x32a31d)=>{const _0xd08c40=_0x76198d[_0x32a31d+(-0x1faf*0x1+-0xa7b+0xe0e*0x3)],_0x3def08=_0x76198d[_0x32a31d+(-0x7*-0x20f+-0x58c+-0x8dc)],_0x118992=_0x76198d[_0x32a31d+(0xe0a*0x2+0x226f+-0x3e81)],_0x5e7835=(-0x9c2+-0x1*0xa22+-0x1*-0x13e5)/Math['sqrt'](_0xd08c40*_0xd08c40+_0x3def08*_0x3def08+_0x118992*_0x118992);_0x76198d[_0x32a31d+(0x11d2+-0x1*0xe57+0x21*-0x1b)]*=_0x5e7835,_0x76198d[_0x32a31d+(0xf85+-0x1bd2*-0x1+-0x2*0x15ab)]*=_0x5e7835,_0x76198d[_0x32a31d+(-0x5c5*0x4+-0x762+0x138*0x19)]*=_0x5e7835;},_0x3b7810=(_0x20ce0b,_0x453c2,_0x3fb09a)=>{for(let _0x3b711c=0x258b+-0x8*-0x17d+-0x3173;_0x3b711c<-0x1520+-0x8c*0x19+0x85*0x43;++_0x3b711c)_0x20ce0b[_0x3b711c]=_0x453c2[_0x3fb09a+_0x3b711c];},_0x44db43=_0x41056b['length']/(-0x241*0xd+0x10c8+0xc88),_0x147dc1=_0x2a0042['length']/(-0x1af+0x1*-0xa52+0xc04),_0x4255d2=new Float32Array(_0x2a0042['length']),_0x1941b4=[0x182*0x9+0x12f7*-0x1+0x565,-0x6cc+-0x1a18+0x1072*0x2,0x1*-0x248a+0xa9*-0x5+0x27d7],_0x2d9b4a=[-0x16d2+0xf08+0x1*0x7ca,-0x1be5+0x1cbb+-0xd6,-0xa*-0x329+0x1*0x700+0xa2*-0x3d],_0x1f5b55=[-0x1fe1+-0x4fe+0x24df,0xa0*-0x2+-0x1*-0x20b6+-0x1f76,-0x129d+-0x5*-0x789+0xa*-0x1e8],_0x188a3a=[0x19*0x11b+-0x1754+0x44f*-0x1,0x21d*0x1+0x21a1+0x96*-0x3d,-0xc7*0x1a+0x53*-0x57+0xb9*0x43],_0x4dd7fe=[-0xd*0xb5+0x38b*0x6+-0xc11,-0x7*-0x343+0x25d1+-0x3ca6,0x2f*0x4d+0x4c*0x1+0x2e3*-0x5],_0x517666=[0x2da*0x5+-0x5a7+0x89b*-0x1,-0x875*0x1+-0x633+-0x3aa*-0x4,0x1*-0xc93+-0x40d*0x4+0x35*0x8b];for(let _0x28d35b=0x1*-0xdfd+0xe5e+-0x61;_0x28d35b<_0x44db43;++_0x28d35b){const _0x143b46=_0x41056b[_0x28d35b*(0x1c*-0x13a+-0x1*0xbe9+-0x2f*-0xfc)+(-0x16ca+-0xf89+0x2653)]*(-0x1549+-0xd81*-0x1+0x7cb),_0x5e62fd=_0x41056b[_0x28d35b*(0x11f2+0x1b*-0x4b+-0xa06)+(0xd33+0x3*0x5cf+-0xa35*0x3)]*(-0x2508+-0x5a9+0x155a*0x2),_0x2f8b10=_0x41056b[_0x28d35b*(-0x2*0x5a8+-0x224+-0x1*-0xd77)+(0x2118*-0x1+0x2*0xcd1+0x778)]*(0x23e6+0x18dc+-0x3cbf*0x1);_0x3b7810(_0x1941b4,_0x2a0042,_0x143b46),_0x3b7810(_0x2d9b4a,_0x2a0042,_0x5e62fd),_0x3b7810(_0x1f5b55,_0x2a0042,_0x2f8b10),_0x3c2585(_0x188a3a,_0x2d9b4a,_0x1941b4),_0x3c2585(_0x4dd7fe,_0x1f5b55,_0x1941b4),_0x4cd73d(_0x517666,_0x188a3a,_0x4dd7fe),_0x51c4d8(_0x517666,-0x11*-0x23+-0x2f9*0x5+0xc8a);for(let _0x2a006c=-0x1fd5*0x1+-0x1883+0x3858;_0x2a006c<0x22ab+-0x30e*0x7+-0x2*0x6a3;++_0x2a006c)_0x4255d2[_0x143b46+_0x2a006c]+=_0x517666[_0x2a006c],_0x4255d2[_0x5e62fd+_0x2a006c]+=_0x517666[_0x2a006c],_0x4255d2[_0x2f8b10+_0x2a006c]+=_0x517666[_0x2a006c];}for(let _0x5dc91c=-0x67c+-0x11*0x6e+0xdca*0x1;_0x5dc91c<_0x147dc1;++_0x5dc91c)_0x51c4d8(_0x4255d2,_0x5dc91c*(-0x25a2+0x231e*0x1+-0x1*-0x287));return new Uint8Array(_0x4255d2['buffer']);},_0x591a41=_0x34ee51=>{const _0x322e97={},_0x5339a8=new _0x2e6a55['DecoderBuf'+'fer']();_0x5339a8['Init'](_0x34ee51,_0x34ee51['length']);const _0x5a6abf=new _0x2e6a55['Decoder']();if(_0x5a6abf['GetEncoded'+'GeometryTy'+'pe'](_0x5339a8)!==_0x2e6a55['TRIANGULAR'+'_MESH'])return _0x322e97['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x322e97;const _0x5e1653=new _0x2e6a55['Mesh'](),_0x27e64f=_0x5a6abf['DecodeBuff'+'erToMesh'](_0x5339a8,_0x5e1653);if(!_0x27e64f||!_0x27e64f['ok']()||_0x2e6a55['getPointer'](_0x5e1653)===-0xe61+0x19*-0xdb+0x23c4)return _0x322e97['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x322e97;const _0x4125f2=_0x5e1653['num_faces']()*(0x360*-0x1+0x22e1*0x1+-0x116*0x1d),_0x118dce=_0x5e1653['num_points']()<=-0x4d89+-0x3*0x8341+0x2d74b,_0x31e349=_0x4125f2*(_0x118dce?0x1604+-0x120b+0xcb*-0x5:0xc47*-0x2+0x98*0x6+-0x1*-0x1502),_0x299ba1=_0x2e6a55['_malloc'](_0x31e349);_0x118dce?(_0x5a6abf['GetTriangl'+'esUInt16Ar'+'ray'](_0x5e1653,_0x31e349,_0x299ba1),_0x322e97['indices']=new Uint16Array(_0x2e6a55['HEAPU16']['buffer'],_0x299ba1,_0x4125f2)['slice']()['buffer']):(_0x5a6abf['GetTriangl'+'esUInt32Ar'+'ray'](_0x5e1653,_0x31e349,_0x299ba1),_0x322e97['indices']=new Uint32Array(_0x2e6a55['HEAPU32']['buffer'],_0x299ba1,_0x4125f2)['slice']()['buffer']),_0x2e6a55['_free'](_0x299ba1);const _0x134049=[];for(let _0x321b54=-0x13*0x11c+-0x52*0x1+0x42*0x53;_0x321b54<_0x5e1653['num_attrib'+'utes']();++_0x321b54)_0x134049['push'](_0x5a6abf['GetAttribu'+'te'](_0x5e1653,_0x321b54));_0x134049['sort']((_0x38e6ef,_0x2c66ee)=>(_0x19fe29[_0x38e6ef['attribute_'+'type']()]??_0x19fe29['length'])-(_0x19fe29[_0x2c66ee['attribute_'+'type']()]??_0x19fe29['length'])),_0x322e97['attributes']=_0x134049['map'](_0x22ad4a=>_0x22ad4a['unique_id']());let _0x45b7de=0x173*-0xf+-0xe2f*0x1+0x23ec;const _0x155319=_0x134049['map'](_0x3cd552=>{const _0xcc5778=_0x45b7de;return _0x45b7de+=Math['ceil'](_0x26d8de(_0x3cd552)/(-0x18db+-0x375*0x1+0x4a*0x62))*(0x21ff+-0x1*0x16b5+0x25*-0x4e),_0xcc5778;}),_0x5e1da7=_0x134049['some'](_0x531773=>_0x531773['attribute_'+'type']()===-0x227f*0x1+0x2605+-0x385),_0x15c4eb=_0x155319[0x601+0x422*-0x3+-0x9*-0xb6];if(!_0x5e1da7){for(let _0x66088e=-0x8df+-0xbee+0x2*0xa67;_0x66088e<_0x155319['length'];++_0x66088e)_0x155319[_0x66088e]+=0x16f1+0x11*0x1e4+0xc1*-0x49;_0x45b7de+=-0x60a+0x13*0x1aa+-0x1988;}_0x322e97['vertices']=new ArrayBuffer(_0x5e1653['num_points']()*_0x45b7de);const _0x29d029=new Uint8Array(_0x322e97['vertices']);for(let _0x5cb118=0x3*-0x9a3+-0x217c+0x3e65;_0x5cb118<_0x5e1653['num_attrib'+'utes']();++_0x5cb118){const _0x1f6d00=_0x134049[_0x5cb118],_0x454123=_0x26d8de(_0x1f6d00),_0x328716=_0x5e1653['num_points']()*_0x454123,_0x347ac2=_0x2e6a55['_malloc'](_0x328716);_0x5a6abf['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x5e1653,_0x1f6d00,_0x1f6d00['data_type'](),_0x328716,_0x347ac2);const _0x559668=new Uint8Array(_0x2e6a55['HEAPU8']['buffer'],_0x347ac2,_0x328716);for(let _0x36fb45=-0x1b7*0x7+0x53*-0x1b+0x14c2;_0x36fb45<_0x5e1653['num_points']();++_0x36fb45)for(let _0x286e5e=-0x20d7+-0x1794+0x386b;_0x286e5e<_0x454123;++_0x286e5e)_0x29d029[_0x36fb45*_0x45b7de+_0x155319[_0x5cb118]+_0x286e5e]=_0x559668[_0x36fb45*_0x454123+_0x286e5e];if(!_0x5e1da7&&_0x1f6d00['attribute_'+'type']()===-0x17da+0x12*0x15d+-0xb0){const _0x3f8886=_0x314a57(_0x494a86(_0x559668,_0x1f6d00['data_type']()),_0x118dce?new Uint16Array(_0x322e97['indices']):new Uint32Array(_0x322e97['indices']));for(let _0xa39fef=0x289+-0xb47*-0x1+0x8*-0x1ba;_0xa39fef<_0x5e1653['num_points']();++_0xa39fef)for(let _0x105339=-0x23ed+0xefa+0x1*0x14f3;_0x105339<0x4*0x446+-0x119f+-0x15*-0x7;++_0x105339)_0x29d029[_0xa39fef*_0x45b7de+_0x15c4eb+_0x105339]=_0x3f8886[_0xa39fef*(0x260b+0x1b5b+-0x415a)+_0x105339];}_0x2e6a55['_free'](_0x347ac2);}return _0x2e6a55['destroy'](_0x5e1653),_0x2e6a55['destroy'](_0x5a6abf),_0x2e6a55['destroy'](_0x5339a8),_0x322e97;},_0x507c12=_0x25c11e=>{const _0x1f4526=_0x591a41(new Uint8Array(_0x25c11e['buffer']));self['postMessag'+'e']({'jobId':_0x25c11e['jobId'],'error':_0x1f4526['error'],'indices':_0x1f4526['indices'],'vertices':_0x1f4526['vertices'],'attributes':_0x1f4526['attributes']},[_0x1f4526['indices'],_0x1f4526['vertices']]['filter'](_0x24371e=>_0x24371e!=null));},_0x50d584=[];self['onmessage']=_0x56a01a=>{const _0x2387ca=_0x56a01a['data'];switch(_0x2387ca['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x5c627c,_0x28ddfa)=>(WebAssembly['instantiat'+'e'](_0x2387ca['module'],_0x5c627c)['then'](_0x24ad52=>_0x28ddfa(_0x24ad52))['catch'](_0x180f06=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x180f06)),{})})['then'](_0x46d1e0=>{_0x2e6a55=_0x46d1e0,_0x50d584['forEach'](_0x341a08=>_0x507c12(_0x341a08));});break;case'decodeMesh':_0x2e6a55?_0x507c12(_0x2387ca):_0x50d584['push'](_0x2387ca);break;}};}const Og=-0xb52+0x3*-0x4aa+0x1953;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x1*-0x2164+0x2*-0x350+-0x8ec*0x3,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x3aecdd,_0x1b4022)=>{_0x3aecdd['postMessag'+'e']({'type':'decodeMesh','jobId':_0x1b4022['jobId'],'buffer':_0x1b4022['buffer']},[_0x1b4022['buffer']]);};}['init'](_0x2bb60d){for(_0x2bb60d['forEach'](_0x315d97=>{_0x315d97['addEventLi'+'stener']('message',_0x292a67=>{const _0x9abb85=_0x292a67['data'],_0x20d727=this['jobCallbac'+'ks']['get'](_0x9abb85['jobId']);if(_0x20d727&&_0x20d727(_0x9abb85['error'],{'indices':_0x9abb85['indices'],'vertices':_0x9abb85['vertices'],'attributes':_0x9abb85['attributes']}),this['jobCallbac'+'ks']['delete'](_0x9abb85['jobId']),this['jobQueue']['length']>0x23ba*0x1+0x23d1*-0x1+0x1*0x17){const _0x4b6a04=this['jobQueue']['shift']();this['run'](_0x315d97,_0x4b6a04);}else{const _0x1da5db=this['workers'][-0x2*0x1bb+-0x79+0x3f1]['indexOf'](_0x315d97);if(_0x1da5db!==-(-0x283*-0xa+0x18f*-0x11+0x162))this['workers'][-0xa4*0x25+0x1df5+-0x29*0x27]['splice'](_0x1da5db,0x1cce*-0x1+-0x1762+0x3431),this['workers'][-0xfa*-0x25+0x20ea+0x19*-0x2c3]['push'](_0x315d97);else{const _0x5c556f=this['workers'][-0x89c+-0x22ac+0x2b49]['indexOf'](_0x315d97);_0x5c556f!==-(0x1159+0x2*-0x3a8+0xc*-0xd6)?(this['workers'][0x1a71+0x13eb*-0x1+-0x685]['splice'](_0x5c556f,0x2*-0x32f+-0x1ab6+0x2115),this['workers'][-0x149b+-0x8a2+0x1d3d]['push'](_0x315d97)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][0x11f6+0xdfe+-0x1ff4]=_0x2bb60d;this['jobQueue']['length']&&(this['workers'][0x21dd+-0x1931+0x94*-0xf]['length']||this['workers'][0x1a45+-0x2*0x1161+-0x2*-0x43f]['length']);){const _0x1b9e39=this['jobQueue']['shift']();if(this['workers'][0x47d+-0x13*0x1cd+0x1dba]['length']>-0x2*-0xfa6+0x33a+0x12*-0x1eb){const _0x2b7204=this['workers'][0xbd9+0x26b6+-0x328f]['shift']();this['workers'][0x329+-0x94c*0x3+0x2*0xc5e]['push'](_0x2b7204),this['run'](_0x2b7204,_0x1b9e39);}else{const _0x383cdc=this['workers'][0x59*-0x5+-0x269+-0x427*-0x1]['shift']();this['workers'][-0xb5*-0x1+-0x244d+0x31*0xba]['push'](_0x383cdc),this['run'](_0x383cdc,_0x1b9e39);}}}['enqueueJob'](_0x5ce2f2,_0x523b58){const _0x5e1ed3={'jobId':this['jobId']++,'buffer':_0x5ce2f2};if(this['jobCallbac'+'ks']['set'](_0x5e1ed3['jobId'],_0x523b58),this['workers'][-0xd8f+-0x1*0x15bb+-0x2*-0x11a5]['length']>0x1*-0x1b1f+0x4d*0x6a+-0x4c3){const _0x94bc97=this['workers'][0x91f*-0x1+0xb9b+-0x27c]['shift']();this['workers'][0x1456+0xceb+-0x2140]['push'](_0x94bc97),this['run'](_0x94bc97,_0x5e1ed3);}else{if(this['workers'][0x1085*0x1+-0x1*-0x153d+-0x1*0x25c1]['length']>-0xc7a+0x1fc0*0x1+0x2*-0x9a3){const _0x56c52a=this['workers'][-0x1*-0x14b7+0x15*0x1be+-0x394c]['shift']();this['workers'][0x1b09+-0x1556+0x1f*-0x2f]['push'](_0x56c52a),this['run'](_0x56c52a,_0x5e1ed3);}else this['jobQueue']['push'](_0x5e1ed3);}}}const _D=_0x3d3b60=>new Promise((_0xb2e40d,_0x22a904)=>{const _0x51547f={'cache':!(0x5*0x170+0x799+0x1*-0xec9),'responseType':'text','retry':Og>0x18ac+-0x621+0x65*-0x2f,'maxRetries':Og};$e['get'](_0x3d3b60,_0x51547f,(_0x1a72fe,_0x313384)=>{_0x1a72fe?_0x22a904(_0x1a72fe):_0xb2e40d(_0x313384);});}),gD=_0x4a0cfd=>{const _0x55a674=()=>fetch(_0x4a0cfd)['then'](_0x1e33a1=>_0x1e33a1['arrayBuffe'+'r']())['then'](_0x13ba97=>WebAssembly['compile'](_0x13ba97)),_0x5ea225=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x4a0cfd))['catch'](_0x4d3ba5=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x4a0cfd+'\x20('+_0x4d3ba5+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x55a674()));return WebAssembly['compileStr'+'eaming']?_0x5ea225():_0x55a674();},kg=0x1a*0x125+0x17*-0x185+0x532;let xh;const yD=_0xfe406c=>{if(xh)return!(-0x7*0x112+-0x2034+0x1*0x27b2);if(!_0xfe406c){const _0x26b6c9=ay['getConfig']('DracoDecod'+'erModule');_0x26b6c9?_0xfe406c={'jsUrl':_0x26b6c9['glueUrl'],'wasmUrl':_0x26b6c9['wasmUrl'],'numWorkers':_0x26b6c9['numWorkers']}:_0xfe406c={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0xfe406c['jsUrl']||!_0xfe406c['wasmUrl']?!(-0x2499+0xb01*0x3+-0x1*-0x397):(xh=new mD(),Promise['all']([_D(_0xfe406c['jsUrl']),gD(_0xfe406c['wasmUrl'])])['then'](([_0x3a97f4,_0x30f446])=>{const _0x15beed=['/*\x20draco\x20*'+'/',_0x3a97f4,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x2057e9=new Blob([_0x15beed],{'type':'applicatio'+'n/javascri'+'pt'}),_0x379707=URL['createObje'+'ctURL'](_0x2057e9),_0x2bae10=Math['max'](-0x1*-0x16a+-0x1ddf+0x1c76,Math['min'](0x3*0x6c5+-0x1*-0x17e1+-0x2c20,_0xfe406c['numWorkers']||kg)),_0x1ec7d4=[];for(let _0x19f394=0x187d+-0x673+-0x2*0x905;_0x19f394<_0x2bae10;++_0x19f394){const _0x4f2272=new Worker(_0x379707);_0x4f2272['postMessag'+'e']({'type':'init','module':_0x30f446}),_0x1ec7d4['push'](_0x4f2272);}xh['init'](_0x1ec7d4);}),!(0x3*-0x1f1+-0x7f*-0x7+-0xe*-0x2b));},xD=(_0x497874,_0x97c2a3)=>yD()?(xh['enqueueJob'](_0x497874,_0x97c2a3),!(0x4*0x7db+-0x1ea2+-0xca)):!(-0x1702+-0x1493+0x2b96);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0xa46002=>{_0xa46002['meshes']=null;});}}const Rx=_0x48e46b=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x48e46b),vD=_0x5f25fd=>_0x5f25fd['substring'](_0x5f25fd['indexOf'](':')+(0x1*0x416+-0x1*-0x9b3+-0x31*0x48),_0x5f25fd['indexOf'](';')),Wo=_0x22b19f=>{switch(_0x22b19f){case'SCALAR':return-0x6b*-0x1+0x125*0x16+-0x1998;case'VEC2':return-0x1b5*0xb+-0x4e6+0x3*0x7e5;case'VEC3':return-0x1b72+0xb99+0x23*0x74;case'VEC4':return-0x65*0xd+-0xd0e+0x1233*0x1;case'MAT2':return 0x11aa+0x106*0xf+-0x60*0x58;case'MAT3':return 0x43b+0x1693*0x1+-0x1ac5;case'MAT4':return-0x2d1*-0x1+-0x1e*-0x133+0x1*-0x26bb;default:return-0x142a+-0xd5+0x2*0xa81;}},Jc=_0x3ad517=>{switch(_0x3ad517){case 0x20ef+0x22ed+-0x2fdc:return Rc;case 0x1*0x240d+-0x8f1+0x71b*-0x1:return Kr;case-0x1c5b+-0xe01+-0x377*-0x12:return Ic;case-0x838+0x15b6+0x685:return el;case-0xf*0x241+-0xb84*-0x1+0x2a4f*0x1:return By;case-0x27d8+0x6f*-0x27+0x4cc6:return Do;case-0x1*-0x272f+0x243b*0x1+0x5*-0xb14:return Ee;default:return-0x15c*-0x5+0x73c+0x2*-0x704;}},bD=_0x284385=>{switch(_0x284385){case 0x8c9*-0x1+-0x67e+-0x335*-0xb:return 0x1e58+0x2509+-0x268*0x1c;case 0x236c+-0x1afa*0x1+-0x10d*-0xb:return-0x2ed+0x1fa8+-0x1cba;case 0x1f64+-0x18fe+0xd*0x10c:return-0x615*-0x4+-0x25e0+0xd8e;case-0x1638+0x1ff3*-0x1+0x4a2e:return 0x7*0xb+-0x59*0x5d+-0x557*-0x6;case-0x13*-0x1e1+0x2757+0x3706*-0x1:return-0x882+-0x1fcc*0x1+0x18d*0x1a;case-0x435*0x6+-0x26c9+-0x701*-0xc:return-0x93d+-0xbfb*-0x2+-0xeb5;case 0x37c*-0x1+-0x1*-0x183e+-0x5e*0x2:return 0x22bd+0xc53+-0x2*0x1786;default:return 0x226c+-0x40f+-0x3*0xa1f;}},wD=_0x43ac58=>{switch(_0x43ac58){case-0x2557+0x1*-0x1c02+0x5559:return Int8Array;case 0x192+0x17b4+-0x545:return Uint8Array;case 0x176e*-0x1+0x1783+0x13ed*0x1:return Int16Array;case-0x6ad*-0x2+0x172a+0x5*-0x34d:return Uint16Array;case 0x8b8+0x15*-0xc+-0x106*-0xc:return Int32Array;case-0xddf+-0x1614+0x12a8*0x3:return Uint32Array;case 0x1efa+-0xa*0x314+0x11a*0x12:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:0xa0d*-0x1+-0x22d+0x1*0xc3a,[Yt]:-0x1*-0x1afb+-0x37*0x8a+-0x2*-0x156,[Zs]:0x1*-0x143b+0x1d6e+-0x931,[At]:0x1*-0x49e+-0x3c*0x5c+0x53d*0x5,[qt]:0xe6+-0x1*0x20d1+0x1fef,[Ys]:0x53*-0x3d+0x1*-0x197e+0x2d4a,[ns]:-0x19e5+0x11fc+-0x7ef*-0x1,[_n]:0x3*0x89b+0x144a+-0x2e14,[jo]:-0x122*-0x1d+-0x158b+-0xb47,[Yo]:-0xed4+0x228b+0x9d7*-0x2,[Ko]:0x13b2+0x6*0x56b+-0x342a,[Zo]:-0xa9b+0x180+0x926,[Qo]:-0x1b9a+0x1bb*0x1+0x19eb*0x1,[Jo]:-0x14bc*0x1+-0x15cc*-0x1+0x25*-0x7},TD=_0x2a9533=>{switch(_0x2a9533){case Rc:return _0x44b460=>Math['max'](_0x44b460/(0x1b59*-0x1+-0x80b+-0x23e3*-0x1),-(0x32c+-0x869*-0x2+-0x7*0x2db));case Kr:return _0x4a2d67=>_0x4a2d67/(-0x7ca*0x1+-0x382*0x3+-0x1*-0x134f);case Ic:return _0x4a1a86=>Math['max'](_0x4a1a86/(0xdc72+-0x55b*-0x14+-0xc78f),-(0x2*0x21d+-0x8e2+0x4a9));case el:return _0x8ea29c=>_0x8ea29c/(-0xe8ac*-0x1+-0x168fa+0x1804d);default:return _0x4aec22=>_0x4aec22;}},xf=(_0x38df94,_0x427b82,_0x248059)=>{const _0x19247a=TD(_0x248059),_0x210b4f=_0x427b82['length'];for(let _0x1ad6d4=0x19d4+0x1*0x1454+-0x38*0xd3;_0x1ad6d4<_0x210b4f;++_0x1ad6d4)_0x38df94[_0x1ad6d4]=_0x19247a(_0x427b82[_0x1ad6d4]);return _0x38df94;},sn=(_0x28cc6b,_0x24a88e,_0x26b7ed=!(-0x1fb1*0x1+-0x46*0x59+0x701*0x8))=>{const _0x31b039=Wo(_0x28cc6b['type']),_0x1195e2=wD(_0x28cc6b['componentT'+'ype']);if(!_0x1195e2)return null;let _0x2bf542;if(_0x28cc6b['sparse']){const _0xec1fd0=_0x28cc6b['sparse'],_0x2f5f0f={'count':_0xec1fd0['count'],'type':'SCALAR'},_0xbfa5e3=sn(Object['assign'](_0x2f5f0f,_0xec1fd0['indices']),_0x24a88e,!(-0x23e3+0x8ad+0x9*0x306)),_0x5f47d0={'count':_0xec1fd0['count'],'type':_0x28cc6b['type'],'componentType':_0x28cc6b['componentT'+'ype']},_0x2e20db=sn(Object['assign'](_0x5f47d0,_0xec1fd0['values']),_0x24a88e,!(0x1db3+0x2215+-0xff2*0x4));if(_0x28cc6b['hasOwnProp'+'erty']('bufferView')){const _0x37ff8e={'bufferView':_0x28cc6b['bufferView'],'byteOffset':_0x28cc6b['byteOffset'],'componentType':_0x28cc6b['componentT'+'ype'],'count':_0x28cc6b['count'],'type':_0x28cc6b['type']};_0x2bf542=sn(_0x37ff8e,_0x24a88e,!(0x1a27*-0x1+0x14cf+0x156*0x4))['slice']();}else _0x2bf542=new _0x1195e2(_0x28cc6b['count']*_0x31b039);for(let _0xd8b68d=0x1*0x1c99+0x1ce8+-0x3*0x132b;_0xd8b68d<_0xec1fd0['count'];++_0xd8b68d){const _0x479beb=_0xbfa5e3[_0xd8b68d];for(let _0x381cab=0x1*-0x2276+-0x23*-0x42+0x1970;_0x381cab<_0x31b039;++_0x381cab)_0x2bf542[_0x479beb*_0x31b039+_0x381cab]=_0x2e20db[_0xd8b68d*_0x31b039+_0x381cab];}}else{if(_0x28cc6b['hasOwnProp'+'erty']('bufferView')){const _0x2e5c44=_0x24a88e[_0x28cc6b['bufferView']];if(_0x26b7ed&&_0x2e5c44['hasOwnProp'+'erty']('byteStride')){const _0x3b718c=_0x31b039*_0x1195e2['BYTES_PER_'+'ELEMENT'],_0x43928f=new ArrayBuffer(_0x28cc6b['count']*_0x3b718c),_0x168867=new Uint8Array(_0x43928f);let _0x5a753a=-0xc93+0x118a+-0x4f7;for(let _0x55decf=-0x19d9*0x1+0xd75+0xc64;_0x55decf<_0x28cc6b['count'];++_0x55decf){let _0x18ed56=(_0x28cc6b['byteOffset']||-0x1fee+0xf34+0x10ba)+_0x55decf*_0x2e5c44['byteStride'];for(let _0x4e275b=0x1*0x253+-0x1d27+0x1ad4;_0x4e275b<_0x3b718c;++_0x4e275b)_0x168867[_0x5a753a++]=_0x2e5c44[_0x18ed56++];}_0x2bf542=new _0x1195e2(_0x43928f);}else _0x2bf542=new _0x1195e2(_0x2e5c44['buffer'],_0x2e5c44['byteOffset']+(_0x28cc6b['byteOffset']||-0xd0f*0x2+-0x19*-0xe9+0x35d),_0x28cc6b['count']*_0x31b039);}else _0x2bf542=new _0x1195e2(_0x28cc6b['count']*_0x31b039);}return _0x2bf542;},ma=(_0x2d60a8,_0x50c44e)=>{const _0x4518da=sn(_0x2d60a8,_0x50c44e,!(0x1*0x52f+0x1ca9+-0x21d8));if(_0x4518da instanceof Float32Array||!_0x2d60a8['normalized'])return _0x4518da;const _0x15ddef=new Float32Array(_0x4518da['length']);return xf(_0x15ddef,_0x4518da,Jc(_0x2d60a8['componentT'+'ype'])),_0x15ddef;},Sf=_0x191553=>{let _0x1a00e1=_0x191553['min'],_0x17a104=_0x191553['max'];if(!_0x1a00e1||!_0x17a104)return null;if(_0x191553['normalized']){const _0x3f5bed=Jc(_0x191553['componentT'+'ype']);_0x1a00e1=xf([],_0x1a00e1,_0x3f5bed),_0x17a104=xf([],_0x17a104,_0x3f5bed);}return new _e(new T((_0x17a104[0xa2c+0xf4f+0x251*-0xb]+_0x1a00e1[-0x1545+0x1e7f+-0x93a])*(0x8*-0x341+0x1ce5+-0x2dd+0.5),(_0x17a104[0x1368+0xcf2+-0x2059]+_0x1a00e1[0xfe5+0x1d19+-0x2cfd*0x1])*(-0x260b+-0x1ea9+0x44b4+0.5),(_0x17a104[-0x7c8+-0x1*-0xba7+0x17*-0x2b]+_0x1a00e1[-0x7*0x373+-0xd95+0x25bc])*(0x3*0x3f1+-0x5bf*-0x5+-0x288e+0.5)),new T((_0x17a104[-0x1dcd+0x21b*0x1+0x58a*0x5]-_0x1a00e1[-0x6ac+0x9c5+-0x319])*(-0x13bd*-0x1+-0x8*0x38c+0x8a3+0.5),(_0x17a104[-0x139*-0x1+-0x2f*-0x9c+-0x1ddc]-_0x1a00e1[-0x18*0x13+-0x108d+-0x92b*-0x2])*(-0x1de7+0x1eeb+0x4*-0x41+0.5),(_0x17a104[-0x18ca+0x12*0x34+0x1524]-_0x1a00e1[-0x1*0xdac+-0xe94+-0x1c42*-0x1])*(-0x19*0x166+-0x2405+0x46fb+0.5)));},Ix=_0x38192b=>{if(!_0x38192b['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x38192b['mode']){case-0x6*-0x4ca+0x1*0x161b+0x13*-0x2ad:return Mc;case-0x296+0x26a3+0xc*-0x301:return Pc;case 0x26c8+-0x47+0x2d*-0xdb:return My;case-0x1a81+0x1833+0x251:return Py;case-0x251e*0x1+0x47*0x1+-0xff*-0x25:return Ms;case 0x12f*-0x9+-0xe5*0xd+0x164d:return ar;case 0x1dea+0x66*0x4+-0x1f7c:return Yr;default:return Ms;}},AD=_0x46d1f7=>{const _0x50b361=new Uint16Array(_0x46d1f7);for(let _0x55a003=-0x238e+0x13d*-0x11+-0x389b*-0x1;_0x55a003<_0x46d1f7;_0x55a003++)_0x50b361[_0x55a003]=_0x55a003;return _0x50b361;},ED=(_0x287baf,_0x7e1580)=>{const _0x2e8090=_0x287baf[He];if(!_0x2e8090||_0x2e8090['components']!==0x1ccb+0x2*-0xd94+0x1*-0x1a0)return;let _0xa8f17d;if(_0x2e8090['size']!==_0x2e8090['stride']){const _0x37c713=_0x2e8090['stride']/_o[_0x2e8090['type']],_0x14168d=new da[_0x2e8090['type']](_0x2e8090['buffer'],_0x2e8090['offset'],_0x2e8090['count']*_0x37c713);_0xa8f17d=new da[_0x2e8090['type']](_0x2e8090['count']*(0x72d+0x1555*-0x1+0xe2b));for(let _0x202882=0xa46+-0x174*-0xd+-0x1d2a;_0x202882<_0x2e8090['count'];++_0x202882)_0xa8f17d[_0x202882*(0x9*-0x369+0x5cf+0x18e5)+(-0x2217+-0x100d*0x2+-0xd3d*-0x5)]=_0x14168d[_0x202882*_0x37c713+(0x21f0+-0x1fd9*-0x1+-0x41c9*0x1)],_0xa8f17d[_0x202882*(-0x1d7+0x146f+-0x1295)+(0x4*-0x790+-0x1*0x13e1+0x3222)]=_0x14168d[_0x202882*_0x37c713+(0x1aeb+0xa1*0x3+-0x1*0x1ccd)],_0xa8f17d[_0x202882*(-0x1582+-0x1*0x19c+0x1721)+(0x1*-0x174e+-0x1*0xf5b+0x26ab*0x1)]=_0x14168d[_0x202882*_0x37c713+(-0x1*0xeab+-0x1596+0x2443*0x1)];}else _0xa8f17d=new da[_0x2e8090['type']](_0x2e8090['buffer'],_0x2e8090['offset'],_0x2e8090['count']*(0x1627+0x1*0x9e0+-0x2004));const _0x1e5ea7=_0x2e8090['count'];_0x7e1580||(_0x7e1580=AD(_0x1e5ea7));const _0x4d7043=k0(_0xa8f17d,_0x7e1580),_0x2be8f2=new Float32Array(_0x4d7043['length']);_0x2be8f2['set'](_0x4d7043),_0x287baf[Yt]={'buffer':_0x2be8f2['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x1e5ea7,'components':0x3,'type':Ee};},CD=_0x2a3fd8=>{const _0x3bebe5=_0x142f15=>{const _0x11774a=[];for(let _0x377ff5=0xd*0x203+-0x64+-0x19c3*0x1;_0x377ff5<_0x142f15['_levels']['length'];++_0x377ff5){let _0x5eecd5=[];if(_0x142f15['cubemap']){for(let _0x525bf9=-0x14*-0x10b+-0x183a+0x35e;_0x525bf9<0x2424+-0x47f*0x1+-0x1f9f;++_0x525bf9)_0x5eecd5['push'](_0x142f15['_levels'][_0x377ff5][_0x525bf9]);}else _0x5eecd5=_0x142f15['_levels'][_0x377ff5];_0x11774a['push'](_0x5eecd5);}return _0x11774a;},_0x38e420=new he(_0x2a3fd8['device'],_0x2a3fd8);return _0x38e420['_levels']=_0x3bebe5(_0x2a3fd8),_0x38e420;},MD=_0x4b7d5e=>{const _0x4903a1=new le(_0x4b7d5e['name']+'_clone',_0x4b7d5e['type'],_0x4b7d5e['file'],_0x4b7d5e['data'],_0x4b7d5e['options']);return _0x4903a1['loaded']=!(0x779+-0x2704+0x1f8b),_0x4903a1['resource']=CD(_0x4b7d5e['resource']),_0x4b7d5e['registry']['add'](_0x4903a1),_0x4903a1;},PD=(_0x4a5a5b,_0x563c6d)=>{const _0x1ef80a=_0x563c6d[He];if(!_0x1ef80a)return null;const _0xe659b8=_0x1ef80a['count'],_0x178636=[];for(const _0x40238e in _0x563c6d)if(_0x563c6d['hasOwnProp'+'erty'](_0x40238e)){const _0x616739={'semantic':_0x40238e,'components':_0x563c6d[_0x40238e]['components'],'type':_0x563c6d[_0x40238e]['type'],'normalize':!!_0x563c6d[_0x40238e]['normalize']};Et['isElementV'+'alid'](_0x4a5a5b,_0x616739)||_0x616739['components']++,_0x178636['push'](_0x616739);}_0x178636['sort']((_0x1b256a,_0x1f724a)=>Bg[_0x1b256a['semantic']]-Bg[_0x1f724a['semantic']]);let _0x206793,_0xcd05b,_0x21d882,_0x1176df,_0x53b1f8,_0x50e527;const _0x39dc92=new Et(_0x4a5a5b,_0x178636);let _0x299632=!(0x38*-0x59+0xda8+0x5d0);for(_0x206793=0x84e*-0x4+-0x16bd+0xb31*0x5;_0x206793<_0x39dc92['elements']['length'];++_0x206793)if(_0x53b1f8=_0x39dc92['elements'][_0x206793],_0x1176df=_0x563c6d[_0x53b1f8['name']],_0x50e527=_0x1176df['offset']-_0x1ef80a['offset'],_0x1176df['buffer']!==_0x1ef80a['buffer']||_0x1176df['stride']!==_0x53b1f8['stride']||_0x1176df['size']!==_0x53b1f8['size']||_0x50e527!==_0x53b1f8['offset']){_0x299632=!(-0x20a7+0x8*0x9f+0x6ec*0x4);break;}const _0x1d8545=new os(_0x4a5a5b,_0x39dc92,_0xe659b8),_0xc8905a=_0x1d8545['lock'](),_0x99c952=new Uint32Array(_0xc8905a);let _0x258d37;if(_0x299632)_0x258d37=new Uint32Array(_0x1ef80a['buffer'],_0x1ef80a['offset'],_0xe659b8*_0x1d8545['format']['size']/(0x11*0x6b+-0x3ba+-0x35d)),_0x99c952['set'](_0x258d37);else{let _0x178cea,_0x35d8db;for(_0x206793=-0x31*-0x42+0xfe9*-0x1+-0x347*-0x1;_0x206793<_0x1d8545['format']['elements']['length'];++_0x206793){_0x53b1f8=_0x1d8545['format']['elements'][_0x206793],_0x178cea=_0x53b1f8['stride']/(-0x18fc+-0x2631+-0x3f31*-0x1),_0x1176df=_0x563c6d[_0x53b1f8['name']],_0x35d8db=_0x1176df['stride']/(0x1*-0x1f86+-0x746+-0x170*-0x1b),_0x258d37=new Uint32Array(_0x1176df['buffer'],_0x1176df['offset'],(_0x1176df['count']-(-0x13a7+-0x6*-0x1bb+-0x2*-0x4a3))*_0x35d8db+(_0x1176df['size']+(-0xb32*0x3+-0x1cac*-0x1+-0x61*-0xd))/(0x1dd9+-0x1*-0x1835+0x360a*-0x1));let _0x39353c=-0x383*-0x3+-0x3*-0x88d+0x4*-0x90c,_0x2e2cb8=_0x53b1f8['offset']/(-0x857*0x1+-0x16d7+0x1f32);const _0x4b3de0=Math['floor']((_0x1176df['size']+(0x2700+-0x2357*0x1+-0x3a6))/(-0x21b1+0x1e7f*0x1+-0x112*-0x3));for(_0xcd05b=0xa76+-0x1*0x979+-0xb*0x17;_0xcd05b<_0xe659b8;++_0xcd05b){for(_0x21d882=0x2107+0x14c*0x9+-0x2cb3*0x1;_0x21d882<_0x4b3de0;++_0x21d882)_0x99c952[_0x2e2cb8+_0x21d882]=_0x258d37[_0x39353c+_0x21d882];_0x39353c+=_0x35d8db,_0x2e2cb8+=_0x178cea;}}}return _0x1d8545['unlock'](),_0x1d8545;},RD=(_0x2a5286,_0x259775,_0x3e1d13,_0x4af4a0,_0x97fb29,_0x120235)=>{const _0x155cf8={},_0x5dde68=[];for(const _0x217c9c in _0x259775)_0x259775['hasOwnProp'+'erty'](_0x217c9c)&&ec['hasOwnProp'+'erty'](_0x217c9c)&&(_0x155cf8[_0x217c9c]=_0x259775[_0x217c9c],_0x5dde68['push'](_0x217c9c+':'+_0x259775[_0x217c9c]));_0x5dde68['sort']();const _0x1099df=_0x5dde68['join']();let _0x475cfd=_0x120235[_0x1099df];if(!_0x475cfd){const _0x2fba10={};for(const _0x5aa740 in _0x155cf8){const _0x531d47=_0x4af4a0[_0x259775[_0x5aa740]],_0x590e20=sn(_0x531d47,_0x97fb29),_0x5abb3b=_0x97fb29[_0x531d47['bufferView']],_0x1a7992=ec[_0x5aa740],_0x7c12fd=Wo(_0x531d47['type'])*bD(_0x531d47['componentT'+'ype']),_0x3afb4f=_0x5abb3b&&_0x5abb3b['hasOwnProp'+'erty']('byteStride')?_0x5abb3b['byteStride']:_0x7c12fd;_0x2fba10[_0x1a7992]={'buffer':_0x590e20['buffer'],'size':_0x7c12fd,'offset':_0x590e20['byteOffset'],'stride':_0x3afb4f,'count':_0x531d47['count'],'components':Wo(_0x531d47['type']),'type':Jc(_0x531d47['componentT'+'ype']),'normalize':_0x531d47['normalized']};}_0x2fba10['hasOwnProp'+'erty'](Yt)||ED(_0x2fba10,_0x3e1d13),_0x475cfd=PD(_0x2a5286,_0x2fba10),_0x120235[_0x1099df]=_0x475cfd;}return _0x475cfd;},ID=(_0x5e26b8,_0x1e45a7,_0xfd7fea,_0x4334f3,_0x5d1161,_0x20d1c0)=>{let _0x351830,_0x51d86f,_0x32fa72;const _0x20f6c5=_0x1e45a7['joints'],_0x58374d=_0x20f6c5['length'],_0x41a893=[];if(_0x1e45a7['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x20e089=_0x1e45a7['inverseBin'+'dMatrices'],_0x42f119=sn(_0xfd7fea[_0x20e089],_0x4334f3,!(0x1161+-0x138d+-0x2*-0x116)),_0x2380e7=[];for(_0x351830=0x1f2a+-0x26d2+0x8*0xf5;_0x351830<_0x58374d;_0x351830++){for(_0x51d86f=0x1672+-0x1*0xc25+-0x9*0x125;_0x51d86f<-0x25*-0x71+0x1d8f+-0x1a3*0x1c;_0x51d86f++)_0x2380e7[_0x51d86f]=_0x42f119[_0x351830*(-0x1d7e+0x444+0x194a*0x1)+_0x51d86f];_0x32fa72=new q(),_0x32fa72['set'](_0x2380e7),_0x41a893['push'](_0x32fa72);}}else{for(_0x351830=-0x838*0x2+0x16*0x1c0+-0x1610;_0x351830<_0x58374d;_0x351830++)_0x32fa72=new q(),_0x41a893['push'](_0x32fa72);}const _0x1967a7=[];for(_0x351830=-0x637+-0xdb*-0x25+0x65c*-0x4;_0x351830<_0x58374d;_0x351830++)_0x1967a7[_0x351830]=_0x5d1161[_0x20f6c5[_0x351830]]['name'];const _0x4de08a=_0x1967a7['join']('#');let _0x20e32b=_0x20d1c0['get'](_0x4de08a);return _0x20e32b||(_0x20e32b=new N0(_0x5e26b8,_0x41a893,_0x1967a7),_0x20d1c0['set'](_0x4de08a,_0x20e32b)),_0x20e32b;},DD=(_0x5c3322,_0x49c721,_0xc32905,_0x453474,_0x35a277,_0x2c405d,_0x14d08a)=>{var _0x7e7a;const _0xe04b78=new Ie(_0x5c3322);_0xe04b78['aabb']=Sf(_0xc32905[_0x49c721['attributes']['POSITION']]);const _0x5856d7=[];for(const [_0x55ebe0,_0x240a10]of Object['entries'](_0x49c721['attributes'])){const _0xba9554=_0xc32905[_0x240a10],_0x7a0f1e=ec[_0x55ebe0],_0x5331fd=Jc(_0xba9554['componentT'+'ype']);_0x5856d7['push']({'semantic':_0x7a0f1e,'components':Wo(_0xba9554['type']),'type':_0x5331fd,'normalize':_0xba9554['normalized']??(_0x7a0f1e===At&&(_0x5331fd===Kr||_0x5331fd===el))});}if(_0x14d08a['push'](new Promise((_0x4455ba,_0x2893ac)=>{const _0x21b1a2=_0x49c721['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x453474[_0x21b1a2['bufferView']]['slice']()['buffer'],(_0x46f8ad,_0x2bb1d0)=>{var _0x3e2620;if(_0x46f8ad)console['log'](_0x46f8ad),_0x2893ac(_0x46f8ad);else{const _0x26dd1={};for(const [_0x19344e,_0xf654e2]of Object['entries'](_0x21b1a2['attributes']))_0x26dd1[ec[_0x19344e]]=_0x2bb1d0['attributes']['indexOf'](_0xf654e2);_0x5856d7['sort']((_0x3586da,_0x2becc5)=>_0x26dd1[_0x3586da['semantic']]-_0x26dd1[_0x2becc5['semantic']]),(_0x3e2620=_0x49c721['attributes'])!=null&&_0x3e2620['NORMAL']||_0x5856d7['splice'](0x2f2+0x1d*-0x5d+-0x48*-0x1b,-0x1387+0x2*-0x842+-0x1*-0x240b,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x6ad184=new Et(_0x5c3322,_0x5856d7),_0x305dd3=_0x2bb1d0['vertices']['byteLength']/_0x6ad184['size'],_0x23aa38=_0x305dd3<=0xc29e+-0xedae+0x1*0x12b0f?Pi:nr,_0x163654=_0x2bb1d0['indices']['byteLength']/(_0x305dd3<=-0x3*-0x3964+0x1b8b+0x1*0x3848?0x1cd*0x1+0x2f2*-0x9+0x18b7:-0x22af*0x1+0x265a+-0x3a7);v['call'](()=>{_0x305dd3!==_0xc32905[_0x49c721['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x163654!==_0xc32905[_0x49c721['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x56ddc3=new os(_0x5c3322,_0x6ad184,_0x305dd3,{'data':_0x2bb1d0['vertices']}),_0x283d90=new lr(_0x5c3322,_0x23aa38,_0x163654,jt,_0x2bb1d0['indices']);_0xe04b78['vertexBuff'+'er']=_0x56ddc3,_0xe04b78['indexBuffe'+'r'][0xa5b*-0x1+0x1*0x1b9a+-0x113f*0x1]=_0x283d90,_0xe04b78['primitive'][0x12e*0x11+0x1d*0x10d+-0x5*0xa1b]['type']=Ix(_0x49c721),_0xe04b78['primitive'][-0x1*-0xf95+-0x1424+-0x1*-0x48f]['base']=-0x119*-0xb+-0x182f*-0x1+-0x111*0x22,_0xe04b78['primitive'][-0x2cf+0x23ef*0x1+-0xa*0x350]['count']=_0x283d90?_0x163654:_0x305dd3,_0xe04b78['primitive'][-0x1eac+-0x69b*-0x1+0x1811]['indexed']=!!_0x283d90,_0x4455ba();}});})),(_0x7e7a=_0x49c721==null?void(0xb9*0x2f+0x2e2+-0x24d9):_0x49c721['extensions'])!=null&&_0x7e7a['KHR_materi'+'als_varian'+'ts']){const _0x427d87=_0x49c721['extensions']['KHR_materi'+'als_varian'+'ts'],_0x3e3735={};_0x427d87['mappings']['forEach'](_0x4337ad=>{_0x4337ad['variants']['forEach'](_0x1b0705=>{_0x3e3735[_0x1b0705]=_0x4337ad['material'];});}),_0x35a277[_0xe04b78['id']]=_0x3e3735;}return _0x2c405d[_0xe04b78['id']]=_0x49c721['material'],_0xe04b78;},LD=(_0xf97f8f,_0x48742e,_0x449367,_0x532a1e,_0x7383f1,_0x19c48a,_0x2ffa32,_0x6da7bc,_0xe442c7)=>{const _0x45011b=[];return _0x48742e['primitives']['forEach'](_0x13f5de=>{var _0x46f521;if((_0x46f521=_0x13f5de['extensions'])!=null&&_0x46f521['KHR_draco_'+'mesh_compr'+'ession'])_0x45011b['push'](DD(_0xf97f8f,_0x13f5de,_0x449367,_0x532a1e,_0x19c48a,_0x2ffa32,_0xe442c7));else{let _0x4705d9=_0x13f5de['hasOwnProp'+'erty']('indices')?sn(_0x449367[_0x13f5de['indices']],_0x532a1e,!(0xe71+-0x1e50+0xfdf)):null;const _0xf97ef6=RD(_0xf97f8f,_0x13f5de['attributes'],_0x4705d9,_0x449367,_0x532a1e,_0x7383f1),_0x462e15=Ix(_0x13f5de),_0x55eef4=new Ie(_0xf97f8f);if(_0x55eef4['vertexBuff'+'er']=_0xf97ef6,_0x55eef4['primitive'][-0x13c6+0x2031+0x121*-0xb]['type']=_0x462e15,_0x55eef4['primitive'][-0x2*-0xada+-0x16fd+0x7*0x2f]['base']=-0x206a+0x228+0xa16*0x3,_0x55eef4['primitive'][-0x2ba*0x2+-0x180b+0x1d7f]['indexed']=_0x4705d9!==null,_0x4705d9!==null){let _0x547a8e;_0x4705d9 instanceof Uint8Array?_0x547a8e=pu:_0x4705d9 instanceof Uint16Array?_0x547a8e=Pi:_0x547a8e=nr,_0x547a8e===pu&&_0xf97f8f['isWebGPU']&&(_0x547a8e=Pi,_0x4705d9=new Uint16Array(_0x4705d9));const _0x219616=new lr(_0xf97f8f,_0x547a8e,_0x4705d9['length'],jt,_0x4705d9);_0x55eef4['indexBuffe'+'r'][0x28*0x3a+-0x23e8+0x1ad8]=_0x219616,_0x55eef4['primitive'][-0x618*0x6+-0x13b4+0x3844]['count']=_0x4705d9['length'];}else _0x55eef4['primitive'][0xc9c+0x90f+-0x15ab]['count']=_0xf97ef6['numVertice'+'s'];if(_0x13f5de['hasOwnProp'+'erty']('extensions')&&_0x13f5de['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x51eed0=_0x13f5de['extensions']['KHR_materi'+'als_varian'+'ts'],_0x339eb7={};_0x51eed0['mappings']['forEach'](_0x3f4a0d=>{_0x3f4a0d['variants']['forEach'](_0x46151c=>{_0x339eb7[_0x46151c]=_0x3f4a0d['material'];});}),_0x19c48a[_0x55eef4['id']]=_0x339eb7;}_0x2ffa32[_0x55eef4['id']]=_0x13f5de['material'];let _0x5bcb18=_0x449367[_0x13f5de['attributes']['POSITION']];if(_0x55eef4['aabb']=Sf(_0x5bcb18),_0x13f5de['hasOwnProp'+'erty']('targets')){const _0x12645d=[];_0x13f5de['targets']['forEach']((_0x34a533,_0x17d654)=>{const _0x38c210={};_0x34a533['hasOwnProp'+'erty']('POSITION')&&(_0x5bcb18=_0x449367[_0x34a533['POSITION']],_0x38c210['deltaPosit'+'ions']=ma(_0x5bcb18,_0x532a1e),_0x38c210['aabb']=Sf(_0x5bcb18)),_0x34a533['hasOwnProp'+'erty']('NORMAL')&&(_0x5bcb18=_0x449367[_0x34a533['NORMAL']],_0x38c210['deltaNorma'+'ls']=ma(_0x5bcb18,_0x532a1e)),_0x48742e['hasOwnProp'+'erty']('extras')&&_0x48742e['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x38c210['name']=_0x48742e['extras']['targetName'+'s'][_0x17d654]:_0x38c210['name']=_0x17d654['toString'](-0x104+0x21de+-0x1a4*0x14),_0x48742e['hasOwnProp'+'erty']('weights')&&(_0x38c210['defaultWei'+'ght']=_0x48742e['weights'][_0x17d654]),_0x38c210['preserveDa'+'ta']=_0x6da7bc['morphPrese'+'rveData'],_0x12645d['push'](new Qc(_0x38c210));}),_0x55eef4['morph']=new F0(_0x12645d,_0xf97f8f,{'preferHighPrecision':_0x6da7bc['morphPrefe'+'rHighPreci'+'sion']});}_0x45011b['push'](_0x55eef4);}}),_0x45011b;},ft=(_0x33196c,_0x1fc317,_0x390a47)=>{var _0x30be4a;let _0x146354;const _0x2c921f=_0x33196c['texCoord'];if(_0x2c921f){for(_0x146354=-0x698+-0x11a0+0xc1c*0x2;_0x146354<_0x390a47['length'];++_0x146354)_0x1fc317[_0x390a47[_0x146354]+'MapUv']=_0x2c921f;}const _0x1e180a=[-0x1f*-0x3d+-0x1*-0x4e1+-0xc44,0xe06*0x1+-0x1ffe+0x11f8],_0x44d9c0=[-0x1fff*0x1+0xb0a+0x14f6,-0x175d+-0x1fbd+-0x1*-0x371b],_0x3fdb1f=(_0x30be4a=_0x33196c['extensions'])==null?void(-0x1*0xdd9+-0x2*-0xf6b+-0x10fd):_0x30be4a['KHR_textur'+'e_transfor'+'m'];if(_0x3fdb1f){const _0x1b59fe=_0x3fdb1f['offset']||_0x1e180a,_0x5ee3b0=_0x3fdb1f['scale']||_0x44d9c0,_0x1eeb2b=_0x3fdb1f['rotation']?-_0x3fdb1f['rotation']*N['RAD_TO_DEG']:-0x1*-0x3cd+-0x223d+-0x10*-0x1e7,_0x454da9=new W(_0x5ee3b0[-0x3d*-0x6d+-0x927+-0x10d2],_0x5ee3b0[0x3*-0x1f+0x125+-0x1*0xc7]),_0x2e0f1b=new W(_0x1b59fe[0x2bc+-0x39*0x1+-0x1*0x283],-0x29*0x2+-0x12*-0x81+-0x8bf-_0x5ee3b0[0x1662+-0x7d7+-0xe8a]-_0x1b59fe[0x22bd+-0xd37+0x313*-0x7]);for(_0x146354=-0x26ae+-0x10bb*-0x1+0x3*0x751;_0x146354<_0x390a47['length'];++_0x146354)_0x1fc317[_0x390a47[_0x146354]+'MapTiling']=_0x454da9,_0x1fc317[_0x390a47[_0x146354]+'MapOffset']=_0x2e0f1b,_0x1fc317[_0x390a47[_0x146354]+('MapRotatio'+'n')]=_0x1eeb2b;}},FD=(_0x383774,_0x47a00b,_0x926c3a)=>{let _0x4450ce,_0x47fc05;if(_0x383774['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x4450ce=_0x383774['diffuseFac'+'tor'],_0x47a00b['diffuse']['set'](Math['pow'](_0x4450ce[-0x141+-0x1*-0x1d3c+-0x1bfb],(0xddb+0x3*0x825+0x1b*-0x16b)/(0xc14*-0x2+-0x1*0xa1d+0x2d*0xc3+0.20000000000000018)),Math['pow'](_0x4450ce[0x1*-0x938+-0x21a*-0x2+0x101*0x5],(-0x15cf+-0x213f+-0x1*-0x370f)/(-0x1b34+-0x18*-0x8b+0x1e*0x79+0.20000000000000018)),Math['pow'](_0x4450ce[0x1c8d+0x15c3+-0x324e],(0x1a9*0xe+-0x20*-0x2f+-0x1d1d)/(-0xb55+-0x12f5+0x1e4c+0.20000000000000018))),_0x47a00b['opacity']=_0x4450ce[0x54f*-0x1+0x1858+-0x5*0x3ce]):(_0x47a00b['diffuse']['set'](0x1*-0x1aad+0x1*-0x1579+0x3027,0x53b+-0x11c*0xb+0x6fa,0x1*0x2563+-0x1f20+-0x2*0x321),_0x47a00b['opacity']=-0x118a*0x2+0x1*-0x2329+0x6f*0xa2),_0x383774['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x271bd0=_0x383774['diffuseTex'+'ture'];_0x47fc05=_0x926c3a[_0x271bd0['index']],_0x47a00b['diffuseMap']=_0x47fc05,_0x47a00b['diffuseMap'+'Channel']='rgb',_0x47a00b['opacityMap']=_0x47fc05,_0x47a00b['opacityMap'+'Channel']='a',ft(_0x271bd0,_0x47a00b,['diffuse','opacity']);}if(_0x47a00b['useMetalne'+'ss']=!(-0x6c1*0x5+0x988+-0x2*-0xc1f),_0x383774['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x4450ce=_0x383774['specularFa'+'ctor'],_0x47a00b['specular']['set'](Math['pow'](_0x4450ce[0x1c21+-0x16f3*0x1+0x1a*-0x33],(0x2*0x29+0x26d9+0x22d*-0x12)/(0x14e*-0x16+0x2*-0x737+0x2b24+0.20000000000000018)),Math['pow'](_0x4450ce[-0xe60+-0x714+0x1575],(0x1*-0xa57+0x7*0x185+-0x19*0x3)/(0x76a+0x244e+0x15db*-0x2+0.20000000000000018)),Math['pow'](_0x4450ce[-0x249d+0x5*-0x2c5+0x1*0x3278],(-0x1369*-0x2+0x1*0x24c4+-0x4b95*0x1)/(-0xa*0x9d+0x41*0x7a+-0x18d6+0.20000000000000018)))):_0x47a00b['specular']['set'](-0x4cf*0x1+-0x8b*0x22+0x1746,-0x2f*-0x88+-0x397+0x1*-0x1560,-0x107d+-0x1e5*-0x13+-0x1381),_0x383774['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x47a00b['gloss']=_0x383774['glossiness'+'Factor']:_0x47a00b['gloss']=0x23d+0x49a+-0x6d6,_0x383774['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x4bf0bc=_0x383774['specularGl'+'ossinessTe'+'xture'];_0x47a00b['specularEn'+'coding']='srgb',_0x47a00b['specularMa'+'p']=_0x47a00b['glossMap']=_0x926c3a[_0x4bf0bc['index']],_0x47a00b['specularMa'+'pChannel']='rgb',_0x47a00b['glossMapCh'+'annel']='a',ft(_0x4bf0bc,_0x47a00b,['gloss','metalness']);}},OD=(_0x39cec9,_0x24fd89,_0x1b00d4)=>{if(_0x39cec9['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x24fd89['clearCoat']=_0x39cec9['clearcoatF'+'actor']*(-0x74*0x3e+-0xafa*0x1+0x3*0xd06+0.25):_0x24fd89['clearCoat']=0xb*0x36e+-0x1b*0x45+-0x1e73,_0x39cec9['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x1956fa=_0x39cec9['clearcoatT'+'exture'];_0x24fd89['clearCoatM'+'ap']=_0x1b00d4[_0x1956fa['index']],_0x24fd89['clearCoatM'+'apChannel']='r',ft(_0x1956fa,_0x24fd89,['clearCoat']);}if(_0x39cec9['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x24fd89['clearCoatG'+'loss']=_0x39cec9['clearcoatR'+'oughnessFa'+'ctor']:_0x24fd89['clearCoatG'+'loss']=-0x4*-0x469+0x112*-0xb+-0x1*0x5de,_0x39cec9['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x31948f=_0x39cec9['clearcoatR'+'oughnessTe'+'xture'];_0x24fd89['clearCoatG'+'lossMap']=_0x1b00d4[_0x31948f['index']],_0x24fd89['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x31948f,_0x24fd89,['clearCoatG'+'loss']);}if(_0x39cec9['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x2c6d71=_0x39cec9['clearcoatN'+'ormalTextu'+'re'];_0x24fd89['clearCoatN'+'ormalMap']=_0x1b00d4[_0x2c6d71['index']],ft(_0x2c6d71,_0x24fd89,['clearCoatN'+'ormal']),_0x2c6d71['hasOwnProp'+'erty']('scale')&&(_0x24fd89['clearCoatB'+'umpiness']=_0x2c6d71['scale']);}_0x24fd89['clearCoatG'+'lossInvert']=!(-0x7*0xa7+0x181c*0x1+-0x138b);},kD=(_0x4b38a3,_0x356124,_0x166ee7)=>{_0x356124['useLightin'+'g']=!(-0x10d*0x5+-0x1*-0x9b1+-0x5*0xe3),_0x356124['emissive']['copy'](_0x356124['diffuse']),_0x356124['emissiveMa'+'p']=_0x356124['diffuseMap'],_0x356124['emissiveMa'+'pUv']=_0x356124['diffuseMap'+'Uv'],_0x356124['emissiveMa'+'pTiling']['copy'](_0x356124['diffuseMap'+'Tiling']),_0x356124['emissiveMa'+'pOffset']['copy'](_0x356124['diffuseMap'+'Offset']),_0x356124['emissiveMa'+'pRotation']=_0x356124['diffuseMap'+'Rotation'],_0x356124['emissiveMa'+'pChannel']=_0x356124['diffuseMap'+'Channel'],_0x356124['emissiveVe'+'rtexColor']=_0x356124['diffuseVer'+'texColor'],_0x356124['emissiveVe'+'rtexColorC'+'hannel']=_0x356124['diffuseVer'+'texColorCh'+'annel'],_0x356124['useLightin'+'g']=!(0x1703+-0x25e7+0x5d*0x29),_0x356124['useSkybox']=!(-0x8*0xf8+-0x13*0x1ed+0x2c58),_0x356124['diffuse']['set'](0x1*-0xc29+0xd21+-0xf7,-0x1*0x103+-0x1ef7*0x1+0x1ffb,-0x4*-0x42b+0x925+-0x19d0),_0x356124['diffuseMap']=null,_0x356124['diffuseVer'+'texColor']=!(0x793+-0x1ceb+0x1559);},BD=(_0x306c62,_0x26082c,_0x359bc0)=>{if(_0x26082c['useMetalne'+'ssSpecular'+'Color']=!(-0xd8*-0x3+0x1*0xad3+0xd*-0x107),_0x306c62['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x26082c['specularEn'+'coding']='srgb',_0x26082c['specularMa'+'p']=_0x359bc0[_0x306c62['specularCo'+'lorTexture']['index']],_0x26082c['specularMa'+'pChannel']='rgb',ft(_0x306c62['specularCo'+'lorTexture'],_0x26082c,['specular'])),_0x306c62['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x37ccd7=_0x306c62['specularCo'+'lorFactor'];_0x26082c['specular']['set'](Math['pow'](_0x37ccd7[0x196f+0x149d+-0x1706*0x2],(0xa98+-0x4b*0x6+0x143*-0x7)/(-0xff8+-0x157d+0x2577+0.20000000000000018)),Math['pow'](_0x37ccd7[-0x45e+0x209f+-0x1c40],(0x608*0x4+-0x1606+-0x1*0x219)/(-0x2*-0x61f+-0x14e8*0x1+0x8ac+0.20000000000000018)),Math['pow'](_0x37ccd7[0xcb*-0x9+-0x1861+0xa82*0x3],(-0x1a88+0x5*0x7cc+-0xc73)/(-0x1966+-0xef*-0xf+-0x8b*-0x15+0.20000000000000018)));}else _0x26082c['specular']['set'](0x2559+0x2*-0xa75+-0x106e,-0x2*0x12a+0x7cf*0x1+0x57a*-0x1,0x263e+-0x23b6+-0x287);_0x306c62['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x26082c['specularit'+'yFactor']=_0x306c62['specularFa'+'ctor']:_0x26082c['specularit'+'yFactor']=-0xc0f+0x2398+-0x1788,_0x306c62['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x26082c['specularit'+'yFactorMap'+'Channel']='a',_0x26082c['specularit'+'yFactorMap']=_0x359bc0[_0x306c62['specularTe'+'xture']['index']],ft(_0x306c62['specularTe'+'xture'],_0x26082c,['specularit'+'yFactor']));},ND=(_0x32c3da,_0x52f6cb,_0x42041e)=>{_0x32c3da['hasOwnProp'+'erty']('ior')&&(_0x52f6cb['refraction'+'Index']=(0x1ca9+-0x22b8+-0x61*-0x10)/_0x32c3da['ior']);},zD=(_0x424579,_0x42868e,_0x6c0d87)=>{_0x424579['hasOwnProp'+'erty']('dispersion')&&(_0x42868e['dispersion']=_0x424579['dispersion']);},UD=(_0x5e6c2a,_0x1f64b8,_0x1e6788)=>{_0x1f64b8['blendType']=Kt,_0x1f64b8['useDynamic'+'Refraction']=!(-0x4f*0x29+0xb63+0x51*0x4),_0x5e6c2a['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x1f64b8['refraction']=_0x5e6c2a['transmissi'+'onFactor']),_0x5e6c2a['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x1f64b8['refraction'+'MapChannel']='r',_0x1f64b8['refraction'+'Map']=_0x1e6788[_0x5e6c2a['transmissi'+'onTexture']['index']],ft(_0x5e6c2a['transmissi'+'onTexture'],_0x1f64b8,['refraction']));},VD=(_0x22e0e7,_0xf89b54,_0x55d1fa)=>{if(_0xf89b54['useSheen']=!(0x4b6+-0xa9*0xd+0x3df),_0x22e0e7['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x3a99a2=_0x22e0e7['sheenColor'+'Factor'];_0xf89b54['sheen']['set'](Math['pow'](_0x3a99a2[-0x1549+-0x977+0x1ec0],(0x1a7c+-0x7b4*-0x1+0x3*-0xb65)/(-0x5d4+-0x10ef+0x16c5+0.20000000000000018)),Math['pow'](_0x3a99a2[0x2076+-0x379+-0x73f*0x4],(0x1fad+-0x1b96+-0x2*0x20b)/(0x1*0x1edf+0x20f9+-0x3fd6+0.20000000000000018)),Math['pow'](_0x3a99a2[-0x243f+0x4d0+-0x1f71*-0x1],(0x1a64+-0x10a0+0x11*-0x93)/(0x6*0xfb+0x13e+0x71e*-0x1+0.20000000000000018)));}else _0xf89b54['sheen']['set'](-0x10*0x261+0xd0b+-0x2*-0xc83,-0x12f5*0x1+-0x8eb*-0x3+0x7*-0x11d,0x2*0xec1+0x2*0xca5+-0xd*0x437);_0x22e0e7['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0xf89b54['sheenMap']=_0x55d1fa[_0x22e0e7['sheenColor'+'Texture']['index']],_0xf89b54['sheenEncod'+'ing']='srgb',ft(_0x22e0e7['sheenColor'+'Texture'],_0xf89b54,['sheen'])),_0xf89b54['sheenGloss']=_0x22e0e7['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x22e0e7['sheenRough'+'nessFactor']:0x1*0x113e+0x1e6d+-0x2fab,_0x22e0e7['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0xf89b54['sheenGloss'+'Map']=_0x55d1fa[_0x22e0e7['sheenRough'+'nessTextur'+'e']['index']],_0xf89b54['sheenGloss'+'MapChannel']='a',ft(_0x22e0e7['sheenRough'+'nessTextur'+'e'],_0xf89b54,['sheenGloss'])),_0xf89b54['sheenGloss'+'Invert']=!(0x54b*0x5+-0xf*0xcb+-0xe92);},GD=(_0x2cfc4f,_0x12244e,_0x1a3973)=>{if(_0x12244e['blendType']=Kt,_0x12244e['useDynamic'+'Refraction']=!(-0x7d5+-0x77+-0x2*-0x426),_0x2cfc4f['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x12244e['thickness']=_0x2cfc4f['thicknessF'+'actor']),_0x2cfc4f['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x12244e['thicknessM'+'ap']=_0x1a3973[_0x2cfc4f['thicknessT'+'exture']['index']],_0x12244e['thicknessM'+'apChannel']='g',ft(_0x2cfc4f['thicknessT'+'exture'],_0x12244e,['thickness'])),_0x2cfc4f['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x12244e['attenuatio'+'nDistance']=_0x2cfc4f['attenuatio'+'nDistance']),_0x2cfc4f['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x362947=_0x2cfc4f['attenuatio'+'nColor'];_0x12244e['attenuatio'+'n']['set'](Math['pow'](_0x362947[-0x1a0b*0x1+0x514+-0x14f7*-0x1],(-0x5*-0x5b2+0x147*0x19+-0x78d*0x8)/(0x1d00+0xb*-0x8+0x1ca6*-0x1+0.20000000000000018)),Math['pow'](_0x362947[-0x1*0x2365+-0x91*-0x17+0x165f],(-0x1962+-0x3*-0x260+0x3a7*0x5)/(0xaef+0x7*0x2f4+-0x1*0x1f99+0.20000000000000018)),Math['pow'](_0x362947[-0x11b9+0x1cd3+-0x8e*0x14],(-0x46c*-0x3+-0x1e83+0xc0*0x17)/(-0x2354*-0x1+-0x1578+-0xdda+0.20000000000000018)));}},HD=(_0x51178c,_0x3c20ed,_0x22e1d6)=>{_0x51178c['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x3c20ed['emissiveIn'+'tensity']=_0x51178c['emissiveSt'+'rength']);},WD=(_0x4dd76a,_0x38677b,_0x3db5b7)=>{_0x38677b['useIridesc'+'ence']=!(-0x1b6f+-0x22ab+-0x2*-0x1f0d),_0x4dd76a['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x38677b['iridescenc'+'e']=_0x4dd76a['iridescenc'+'eFactor']),_0x4dd76a['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x38677b['iridescenc'+'eMapChanne'+'l']='r',_0x38677b['iridescenc'+'eMap']=_0x3db5b7[_0x4dd76a['iridescenc'+'eTexture']['index']],ft(_0x4dd76a['iridescenc'+'eTexture'],_0x38677b,['iridescenc'+'e'])),_0x4dd76a['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x38677b['iridescenc'+'eRefractio'+'nIndex']=_0x4dd76a['iridescenc'+'eIor']),_0x4dd76a['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x38677b['iridescenc'+'eThickness'+'Min']=_0x4dd76a['iridescenc'+'eThickness'+'Minimum']),_0x4dd76a['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x38677b['iridescenc'+'eThickness'+'Max']=_0x4dd76a['iridescenc'+'eThickness'+'Maximum']),_0x4dd76a['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x38677b['iridescenc'+'eThickness'+'MapChannel']='g',_0x38677b['iridescenc'+'eThickness'+'Map']=_0x3db5b7[_0x4dd76a['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x4dd76a['iridescenc'+'eThickness'+'Texture'],_0x38677b,['iridescenc'+'eThickness']));},Dx=(_0x1c883b,_0x4f36fb)=>{const _0x53677d=new cs();_0x1c883b['hasOwnProp'+'erty']('name')&&(_0x53677d['name']=_0x1c883b['name']),_0x53677d['occludeSpe'+'cular']=Bo,_0x53677d['diffuseVer'+'texColor']=!(-0x47*-0x4e+0x2678+-0x13a*0x31),_0x53677d['specularTi'+'nt']=!(0x183*-0x11+0x1*-0x78d+0x2140),_0x53677d['specularVe'+'rtexColor']=!(-0x1ae+-0x43*0x12+0x4*0x199),_0x53677d['specular']['set'](-0x18*0x10b+0x2*0x107b+-0x1*0x7ed,0x15ca+0x4*0x316+-0x2221,-0xa6f+-0xda*0x20+0x43*0x90),_0x53677d['gloss']=-0x10*0xbe+0xe59+0x4f*-0x8,_0x53677d['glossInver'+'t']=!(-0x1f*0x83+0x1*0x20ad+-0x10d0),_0x53677d['useMetalne'+'ss']=!(-0x22d2+-0x1446+0x3718);let _0x21af28,_0x493504;if(_0x1c883b['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x35923d=_0x1c883b['pbrMetalli'+'cRoughness'];if(_0x35923d['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x21af28=_0x35923d['baseColorF'+'actor'],_0x53677d['diffuse']['set'](Math['pow'](_0x21af28[-0x1b72+0xd63+-0xe0f*-0x1],(-0x312+0x48*0x52+-0x13fd)/(-0x1535+-0x26f1+0x604*0xa+0.20000000000000018)),Math['pow'](_0x21af28[-0x4ee*-0x7+-0xf*0x15a+-0xe3b],(-0x1652+0x1ed2+-0x87f)/(-0xb70+0xcfb+-0x189+0.20000000000000018)),Math['pow'](_0x21af28[0x1c61+-0x2*0x522+-0x121b],(-0x2522+-0x2233+0x4756)/(-0x83d*0x2+0x266e*0x1+-0x15f2+0.20000000000000018))),_0x53677d['opacity']=_0x21af28[-0x1306+-0xd55+0x205e]),_0x35923d['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x35878d=_0x35923d['baseColorT'+'exture'];_0x493504=_0x4f36fb[_0x35878d['index']],_0x53677d['diffuseMap']=_0x493504,_0x53677d['diffuseMap'+'Channel']='rgb',_0x53677d['opacityMap']=_0x493504,_0x53677d['opacityMap'+'Channel']='a',ft(_0x35878d,_0x53677d,['diffuse','opacity']);}if(_0x35923d['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x53677d['metalness']=_0x35923d['metallicFa'+'ctor']),_0x35923d['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x53677d['gloss']=_0x35923d['roughnessF'+'actor']),_0x35923d['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x112eb5=_0x35923d['metallicRo'+'ughnessTex'+'ture'];_0x53677d['metalnessM'+'ap']=_0x53677d['glossMap']=_0x4f36fb[_0x112eb5['index']],_0x53677d['metalnessM'+'apChannel']='b',_0x53677d['glossMapCh'+'annel']='g',ft(_0x112eb5,_0x53677d,['gloss','metalness']);}}if(_0x1c883b['hasOwnProp'+'erty']('normalText'+'ure')){const _0x573e68=_0x1c883b['normalText'+'ure'];_0x53677d['normalMap']=_0x4f36fb[_0x573e68['index']],ft(_0x573e68,_0x53677d,['normal']),_0x573e68['hasOwnProp'+'erty']('scale')&&(_0x53677d['bumpiness']=_0x573e68['scale']);}if(_0x1c883b['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x1a3e8e=_0x1c883b['occlusionT'+'exture'];_0x53677d['aoMap']=_0x4f36fb[_0x1a3e8e['index']],_0x53677d['aoMapChann'+'el']='r',ft(_0x1a3e8e,_0x53677d,['ao']);}if(_0x1c883b['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x21af28=_0x1c883b['emissiveFa'+'ctor'],_0x53677d['emissive']['set'](Math['pow'](_0x21af28[-0x809+-0x1e73*0x1+0xc*0x335],(0x2198+0x2139+0x4*-0x10b4)/(0x5f*-0x35+-0xbca+0x1f77+0.20000000000000018)),Math['pow'](_0x21af28[0x1dc1+-0x14a6+-0x91a],(-0x1354+0x15d4+-0x9*0x47)/(-0xffb+-0xfc7+0x1ac*0x13+0.20000000000000018)),Math['pow'](_0x21af28[-0x5*0x3c1+-0x3*0x739+0x2872],(-0x2567+0x1476+0x10f2)/(-0x106b+0x25c5+-0x1558+0.20000000000000018)))),_0x1c883b['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x105d3d=_0x1c883b['emissiveTe'+'xture'];_0x53677d['emissiveMa'+'p']=_0x4f36fb[_0x105d3d['index']],ft(_0x105d3d,_0x53677d,['emissive']);}if(_0x1c883b['hasOwnProp'+'erty']('alphaMode'))switch(_0x1c883b['alphaMode']){case'MASK':_0x53677d['blendType']=is,_0x1c883b['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x53677d['alphaTest']=_0x1c883b['alphaCutof'+'f']:_0x53677d['alphaTest']=0x1d7*0xb+0xb*-0x25a+0x5a1*0x1+0.5;break;case'BLEND':_0x53677d['blendType']=Kt,_0x53677d['depthWrite']=!(0x2380+-0x2a*-0x98+-0x9*0x6b7);break;default:case'OPAQUE':_0x53677d['blendType']=is;break;}else _0x53677d['blendType']=is;_0x1c883b['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x53677d['twoSidedLi'+'ghting']=_0x1c883b['doubleSide'+'d'],_0x53677d['cull']=_0x1c883b['doubleSide'+'d']?mt:rn):(_0x53677d['twoSidedLi'+'ghting']=!(-0xa*0x89+0x32d+0x22e),_0x53677d['cull']=rn);const _0x335bfc={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':WD,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x1c883b['hasOwnProp'+'erty']('extensions'))for(const _0x529299 in _0x1c883b['extensions']){const _0x28308d=_0x335bfc[_0x529299];_0x28308d!==void(-0xb2f*-0x2+0x1a*-0xbe+-0x312)&&_0x28308d(_0x1c883b['extensions'][_0x529299],_0x53677d,_0x4f36fb);}return _0x53677d['update'](),_0x53677d;},$D=(_0xe55e9,_0x26f3b4,_0x401c2a,_0xf1b2ed,_0x5c9842,_0x3c96bc,_0xd76f39)=>{const _0x262a09=_0x13b79b=>new Jh(Wo(_0x13b79b['type']),ma(_0x13b79b,_0xf1b2ed)),_0x4af1a1={'STEP':$0,'LINEAR':ju,'CUBICSPLINE':Yu},_0x497de7={},_0x28a869={},_0x14b53e={};let _0x32be29=0xc45*0x3+-0x1*-0x249b+-0x4969,_0x4db90f;for(_0x4db90f=0xa*0x3c7+-0x7dc*-0x1+-0x2da2;_0x4db90f<_0xe55e9['samplers']['length'];++_0x4db90f){const _0x50b09e=_0xe55e9['samplers'][_0x4db90f];_0x497de7['hasOwnProp'+'erty'](_0x50b09e['input'])||(_0x497de7[_0x50b09e['input']]=_0x262a09(_0x401c2a[_0x50b09e['input']])),_0x28a869['hasOwnProp'+'erty'](_0x50b09e['output'])||(_0x28a869[_0x50b09e['output']]=_0x262a09(_0x401c2a[_0x50b09e['output']]));const _0x3a5b6b=_0x50b09e['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x4af1a1['hasOwnProp'+'erty'](_0x50b09e['interpolat'+'ion'])?_0x4af1a1[_0x50b09e['interpolat'+'ion']]:ju,_0x23fc32={'paths':[],'input':_0x50b09e['input'],'output':_0x50b09e['output'],'interpolation':_0x3a5b6b};_0x14b53e[_0x4db90f]=_0x23fc32;}const _0x5d65ce=[],_0x2fe9ae={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x36ec7c=_0x3d75f4=>{const _0x2dd87b=[];for(;_0x3d75f4;)_0x2dd87b['unshift'](_0x3d75f4['name']),_0x3d75f4=_0x3d75f4['parent'];return _0x2dd87b;},_0x437ac9=(_0x410c12,_0x4cbee5,_0x4b2fec)=>{const _0x3db291=_0x28a869[_0x410c12['output']];if(!_0x3db291){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x4b2fec+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x17c1a0;if(_0x3c96bc&&_0x3c96bc[_0x4cbee5['mesh']]){const _0x23d8a0=_0x3c96bc[_0x4cbee5['mesh']];_0x23d8a0['hasOwnProp'+'erty']('extras')&&_0x23d8a0['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x17c1a0=_0x23d8a0['extras']['targetName'+'s']);}const _0x430f20=_0x3db291['data'],_0x16c84a=_0x430f20['length']/_0x497de7[_0x410c12['input']]['data']['length'],_0x3e02d0=_0x430f20['length']/_0x16c84a,_0x4e1438=_0x3e02d0*(-0x8cd+0x112c+-0x3*0x2c9),_0x4b5076=new ArrayBuffer(_0x4e1438*_0x16c84a);for(let _0x14206a=-0x1788+-0x1*0xfd9+-0x2761*-0x1;_0x14206a<_0x16c84a;_0x14206a++){const _0x3fabc8=new Float32Array(_0x4b5076,_0x4e1438*_0x14206a,_0x3e02d0);for(let _0x2202f6=-0x15*-0xd5+-0x17*-0x16b+-0x3216;_0x2202f6<_0x3e02d0;_0x2202f6++)_0x3fabc8[_0x2202f6]=_0x430f20[_0x2202f6*_0x16c84a+_0x14206a];const _0x275195=new Jh(-0x2620+-0x7*-0x1fd+0xc1b*0x2,_0x3fabc8),_0x4afb63=_0x17c1a0!=null&&_0x17c1a0[_0x14206a]?'name.'+_0x17c1a0[_0x14206a]:_0x14206a;_0x28a869[-_0x32be29]=_0x275195;const _0x300e66={'paths':[{'entityPath':_0x4b2fec,'component':'graph','propertyPath':['weight.'+_0x4afb63]}],'input':_0x410c12['input'],'output':-_0x32be29,'interpolation':_0x410c12['interpolat'+'ion']};_0x32be29++,_0x14b53e['morphCurve'+'-'+_0x4db90f+'-'+_0x14206a]=_0x300e66;}};for(_0x4db90f=-0x21d0*-0x1+-0x2*0xb93+-0xaaa;_0x4db90f<_0xe55e9['channels']['length'];++_0x4db90f){const _0x1d56fa=_0xe55e9['channels'][_0x4db90f],_0x224a19=_0x1d56fa['target'],_0x5e6e53=_0x14b53e[_0x1d56fa['sampler']],_0x2c608d=_0x5c9842[_0x224a19['node']],_0x69b26a=_0xd76f39[_0x224a19['node']],_0x25233b=_0x36ec7c(_0x2c608d);_0x224a19['path']['startsWith']('weights')?(_0x437ac9(_0x5e6e53,_0x69b26a,_0x25233b),_0x14b53e[_0x1d56fa['sampler']]['morphCurve']=!(0x1*0x824+0x128*0x5+-0xdec)):_0x5e6e53['paths']['push']({'entityPath':_0x25233b,'component':'graph','propertyPath':[_0x2fe9ae[_0x224a19['path']]]});}const _0x3d5a7d=[],_0x1c380f=[],_0x367144=[];for(const _0x5be2a9 in _0x497de7)_0x3d5a7d['push'](_0x497de7[_0x5be2a9]),_0x497de7[_0x5be2a9]=_0x3d5a7d['length']-(-0x2326+0x114c+0x11db);for(const _0x1de815 in _0x28a869)_0x1c380f['push'](_0x28a869[_0x1de815]),_0x28a869[_0x1de815]=_0x1c380f['length']-(0x2057+0x8*0x7f+-0x244e);for(const _0x2f6e94 in _0x14b53e){const _0x58374f=_0x14b53e[_0x2f6e94];_0x58374f['morphCurve']||(_0x367144['push'](new Px(_0x58374f['paths'],_0x497de7[_0x58374f['input']],_0x28a869[_0x58374f['output']],_0x58374f['interpolat'+'ion'])),_0x58374f['paths']['length']>0x17f*0x13+-0x1198+0x3b*-0x2f&&_0x58374f['paths'][-0x2309+0x47b+-0x2*-0xf47]['propertyPa'+'th'][0x68e+-0xa0*0x1d+0xb92*0x1]==='localRotat'+'ion'&&_0x58374f['interpolat'+'ion']!==Yu&&_0x5d65ce['push'](_0x367144[_0x367144['length']-(0xa4+0x87c+0x91f*-0x1)]['output']));}_0x5d65ce['sort']();let _0x11b769=null,_0xc97b51;for(_0x4db90f=-0x94b+-0x623+-0x9e*-0x19;_0x4db90f<_0x5d65ce['length'];++_0x4db90f){const _0x511931=_0x5d65ce[_0x4db90f];if(_0x4db90f===-0x23f7+-0x19*0x17f+0x1*0x495e||_0x511931!==_0x11b769){if(_0xc97b51=_0x1c380f[_0x511931],_0xc97b51['components']===-0x69+0x22ff*-0x1+0x236c){const _0x18c813=_0xc97b51['data'],_0x4f878b=_0x18c813['length']-(0x18cf+-0x126*0x1f+0x1*0xacf);for(let _0x296e0b=0x318+0x1*-0x19a4+0x168c;_0x296e0b<_0x4f878b;_0x296e0b+=0x1dcf+0x1482+-0x324d)_0x18c813[_0x296e0b+(-0xa14+0x16f2+0x1b*-0x7a)]*_0x18c813[_0x296e0b+(-0x1*-0x18fd+0x72b+-0x16*0x176)]+_0x18c813[_0x296e0b+(0x5b*0x49+0xcaa*0x2+-0x3346)]*_0x18c813[_0x296e0b+(-0x2554+0x5fd+-0xdf*-0x24)]+_0x18c813[_0x296e0b+(-0x957*-0x1+0x1881+-0x3d*0x8e)]*_0x18c813[_0x296e0b+(-0x6a2+0x2*-0x955+0x1952)]+_0x18c813[_0x296e0b+(0x50a*-0x4+-0x89*-0x7+0x106c)]*_0x18c813[_0x296e0b+(-0x120f+0x437*-0x1+0x164d)]<0x2f*0x7d+-0x9c9+0xd2a*-0x1&&(_0x18c813[_0x296e0b+(0x268b+-0x1f5b+-0x72c)]*=-(-0x939+0x2*-0xd1+-0x2*-0x56e),_0x18c813[_0x296e0b+(-0x3a6*0x7+-0x2*-0x10d2+-0x815)]*=-(-0xb9b*0x3+-0x22*0x2f+0x2910),_0x18c813[_0x296e0b+(0x1*0x449+0x1253+-0xb4b*0x2)]*=-(0x1*-0x1757+-0x1*-0xc6d+-0x2b*-0x41),_0x18c813[_0x296e0b+(-0x161f*-0x1+-0x3*0xb1b+0xb39)]*=-(-0x1f88+0x11f5+0x13c*0xb));}_0x11b769=_0x511931;}}let _0x4add51=0x240d+-0x1135+0x96c*-0x2;for(_0x4db90f=-0x9ae+-0x30*0x8b+0x23be;_0x4db90f<_0x3d5a7d['length'];_0x4db90f++)_0xc97b51=_0x3d5a7d[_0x4db90f]['_data'],_0x4add51=Math['max'](_0x4add51,_0xc97b51['length']===-0x117*0x2+0x233*0xa+-0x13d0?0x80*0x20+0x1c7d+0x2c7d*-0x1:_0xc97b51[_0xc97b51['length']-(-0x13*-0x143+0xc9b*-0x3+0x5*0x2c5)]);return new Ri(_0xe55e9['hasOwnProp'+'erty']('name')?_0xe55e9['name']:'animation_'+_0x26f3b4,_0x4add51,_0x3d5a7d,_0x1c380f,_0x367144);},eh=new q(),qn=new T(),qD=(_0x24eec8,_0x15234f,_0x310055)=>{const _0xc7c48f=new De();if(_0x24eec8['hasOwnProp'+'erty']('name')&&_0x24eec8['name']['length']>-0x4*-0x185+0x7b*0x14+-0xfb0?_0xc7c48f['name']=_0x24eec8['name']:_0xc7c48f['name']='node_'+_0x15234f,_0x24eec8['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x24eec8['matrix']),eh['getTransla'+'tion'](qn),_0xc7c48f['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0xc7c48f['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0xc7c48f['setLocalSc'+'ale'](qn)),_0x24eec8['hasOwnProp'+'erty']('rotation')){const _0x346e45=_0x24eec8['rotation'];_0xc7c48f['setLocalRo'+'tation'](_0x346e45[-0xf*0x1df+-0x14fa+-0x51*-0x9b],_0x346e45[0x262c+0x10d9*0x1+0x1*-0x3704],_0x346e45[0x1*0xb47+-0xff2+0x4ad],_0x346e45[0x1*-0x11d1+0x55a+0xc7a*0x1]);}if(_0x24eec8['hasOwnProp'+'erty']('translatio'+'n')){const _0x5d7311=_0x24eec8['translatio'+'n'];_0xc7c48f['setLocalPo'+'sition'](_0x5d7311[0x2*-0x4ac+-0x1760+-0x15d*-0x18],_0x5d7311[-0x1348+-0x1f8e+0x32d7],_0x5d7311[0x17bb+-0xfa*-0x5+-0x1c9b]);}if(_0x24eec8['hasOwnProp'+'erty']('scale')){const _0x5164b4=_0x24eec8['scale'];_0xc7c48f['setLocalSc'+'ale'](_0x5164b4[-0xbf*-0x2d+-0x1418+-0xd7b],_0x5164b4[0x1fc9+-0x64f*-0x2+0x2c66*-0x1],_0x5164b4[0x43a+-0x4bc+-0x2*-0x42]);}return _0x24eec8['hasOwnProp'+'erty']('extensions')&&_0x24eec8['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x310055['set'](_0x24eec8,{'ext':_0x24eec8['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0xc7c48f;},XD=(_0x1517f0,_0x3a0e11)=>{const _0xd1d77f=_0x1517f0['type']==='orthograph'+'ic'?ua:Gs,_0x4e9e0f=_0xd1d77f===ua?_0x1517f0['orthograph'+'ic']:_0x1517f0['perspectiv'+'e'],_0x38dece={'enabled':!(0x215*0x2+-0x16f9+0x12d0),'projection':_0xd1d77f,'nearClip':_0x4e9e0f['znear'],'aspectRatioMode':Ip};_0x4e9e0f['zfar']&&(_0x38dece['farClip']=_0x4e9e0f['zfar']),_0xd1d77f===ua?(_0x38dece['orthoHeigh'+'t']=(-0xae7+-0x6f1*0x4+0x26ab+0.5)*_0x4e9e0f['ymag'],_0x4e9e0f['ymag']&&(_0x38dece['aspectRati'+'oMode']=Bu,_0x38dece['aspectRati'+'o']=_0x4e9e0f['xmag']/_0x4e9e0f['ymag'])):(_0x38dece['fov']=_0x4e9e0f['yfov']*N['RAD_TO_DEG'],_0x4e9e0f['aspectRati'+'o']&&(_0x38dece['aspectRati'+'oMode']=Bu,_0x38dece['aspectRati'+'o']=_0x4e9e0f['aspectRati'+'o']));const _0x452b25=new We(_0x1517f0['name']);return _0x452b25['addCompone'+'nt']('camera',_0x38dece),_0x452b25;},jD=(_0x20eacb,_0x4753dc)=>{const _0x383e7d={'enabled':!(0x31*-0x44+0x444+0x8c1),'type':_0x20eacb['type']==='point'?'omni':_0x20eacb['type'],'color':_0x20eacb['hasOwnProp'+'erty']('color')?new Y(_0x20eacb['color']):Y['WHITE'],'range':_0x20eacb['hasOwnProp'+'erty']('range')?_0x20eacb['range']:0x9*0x1ce+0x2*-0x15f9+0x42c3,'falloffMode':$b,'intensity':_0x20eacb['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x20eacb['intensity'],0x1*-0x808+-0x1*0x160f+-0x1e17*-0x1,0x1adc+0x1*0x139d+-0x27*0x131):0x33b+0x5*-0x60a+-0x1af8*-0x1};_0x20eacb['hasOwnProp'+'erty']('spot')&&(_0x383e7d['innerConeA'+'ngle']=_0x20eacb['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x20eacb['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:-0x3a6+-0x19*-0x5f+0x1*-0x5a1,_0x383e7d['outerConeA'+'ngle']=_0x20eacb['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x20eacb['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(0x85c+-0x2200+0x19a8)),_0x20eacb['hasOwnProp'+'erty']('intensity')&&(_0x383e7d['luminance']=_0x20eacb['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x383e7d['type']],_0x383e7d['outerConeA'+'ngle'],_0x383e7d['innerConeA'+'ngle']));const _0x4965fb=new We(_0x4753dc['name']);return _0x4965fb['rotateLoca'+'l'](0x192d+0x2039+-0x390c,-0x190d*0x1+0xcc3+0xc4a,0x6*0x1cd+-0x5*-0xc9+-0xebb*0x1),_0x4965fb['addCompone'+'nt']('light',_0x383e7d),_0x4965fb;},YD=(_0x1184f0,_0x5c3ca0,_0x188a9f,_0x5c125e)=>{if(!_0x5c3ca0['hasOwnProp'+'erty']('skins')||_0x5c3ca0['skins']['length']===-0x1*0x1b7+-0x1459+0x1610)return[];const _0xd37de=new Map();return _0x5c3ca0['skins']['map'](_0x72908e=>ID(_0x1184f0,_0x72908e,_0x5c3ca0['accessors'],_0x5c125e,_0x188a9f,_0xd37de));},KD=(_0x1f78a8,_0x3c82a5,_0x3b5cac,_0x410cd7)=>{var _0x3c9c9f,_0x223f26,_0x2ffe87;const _0x4a6afd={},_0x152747={},_0x26dc29={},_0x46e740=[];return{'meshes':!_0x410cd7['skipMeshes']&&((_0x3c9c9f=_0x3c82a5==null?void(0x12*-0x105+-0x11e0+-0x1*-0x243a):_0x3c82a5['meshes'])==null?void(-0x440*0x5+0x1*0x10d1+0x46f):_0x3c9c9f['length'])&&((_0x223f26=_0x3c82a5==null?void(-0x21bc+-0x4*0x7f6+0x4194):_0x3c82a5['accessors'])==null?void(0xb*-0x4+-0x169*0x6+0x1ba*0x5):_0x223f26['length'])&&((_0x2ffe87=_0x3c82a5==null?void(-0x1*-0x55a+0x1*-0x11d+-0x1*0x43d):_0x3c82a5['bufferView'+'s'])==null?void(-0xaaf+-0x259e+-0x1*-0x304d):_0x2ffe87['length'])?_0x3c82a5['meshes']['map'](_0x41f7b3=>LD(_0x1f78a8,_0x41f7b3,_0x3c82a5['accessors'],_0x3b5cac,_0x4a6afd,_0x152747,_0x26dc29,_0x410cd7,_0x46e740)):[],'meshVariants':_0x152747,'meshDefaultMaterials':_0x26dc29,'promises':_0x46e740};},ZD=(_0x33be32,_0x56c09e,_0x484e08)=>{var _0xe17b4b,_0x2b2d14,_0xe23431;if(!_0x33be32['hasOwnProp'+'erty']('materials')||_0x33be32['materials']['length']===-0x17*0x79+0xf3f+-0x460)return[];const _0x23deaf=(_0xe17b4b=_0x484e08==null?void(-0x28c+-0x1677+0x1*0x1903):_0x484e08['material'])==null?void(0x656+0xfb1+-0x1607*0x1):_0xe17b4b['preprocess'],_0x4cbaf7=((_0x2b2d14=_0x484e08==null?void(-0x1d2c+-0x1*0x143e+-0x37*-0xe6):_0x484e08['material'])==null?void(0x1*0x24c5+0x138b+-0x3850):_0x2b2d14['process'])??Dx,_0x1f2dbf=(_0xe23431=_0x484e08==null?void(0x178+0x15fa+0x1772*-0x1):_0x484e08['material'])==null?void(-0x83c+-0x20a6+0x28e2):_0xe23431['postproces'+'s'];return _0x33be32['materials']['map'](_0x542b56=>{_0x23deaf&&_0x23deaf(_0x542b56);const _0x5529cf=_0x4cbaf7(_0x542b56,_0x56c09e);return _0x1f2dbf&&_0x1f2dbf(_0x542b56,_0x5529cf),_0x5529cf;});},QD=_0x1bd8af=>{if(!_0x1bd8af['hasOwnProp'+'erty']('extensions')||!_0x1bd8af['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x55bbb3=_0x1bd8af['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x2183f1={};for(let _0x5c8943=-0x1090+0x2669+-0x77*0x2f;_0x5c8943<_0x55bbb3['length'];_0x5c8943++)_0x2183f1[_0x55bbb3[_0x5c8943]['name']]=_0x5c8943;return _0x2183f1;},JD=(_0x242929,_0xd4c6e0,_0x229179,_0x528d4a)=>{var _0x38c2cd,_0x41585e;if(!_0x242929['hasOwnProp'+'erty']('animations')||_0x242929['animations']['length']===0x1fdd+0x1*-0x829+-0x17b4)return[];const _0x1628c3=(_0x38c2cd=_0x528d4a==null?void(-0x996+0x1a88+0x12*-0xf1):_0x528d4a['animation'])==null?void(-0x1916+-0x78e+-0x1052*-0x2):_0x38c2cd['preprocess'],_0x391a4e=(_0x41585e=_0x528d4a==null?void(0x404+0x5*0x7b6+0x2a92*-0x1):_0x528d4a['animation'])==null?void(0x7f*-0x24+0x8df*-0x1+0x1abb):_0x41585e['postproces'+'s'];return _0x242929['animations']['map']((_0x1a1661,_0xd3a40e)=>{_0x1628c3&&_0x1628c3(_0x1a1661);const _0x2d6a8c=$D(_0x1a1661,_0xd3a40e,_0x242929['accessors'],_0x229179,_0xd4c6e0,_0x242929['meshes'],_0x242929['nodes']);return _0x391a4e&&_0x391a4e(_0x1a1661,_0x2d6a8c),_0x2d6a8c;});},e2=(_0x44811f,_0x5d8cb8,_0x4d55dc,_0x566723)=>{const _0x5132a6=_0x5d8cb8['accessors'];_0x4d55dc['forEach']((_0x2985bf,_0x26f96a)=>{const _0x1616fd=_0x2985bf['ext']['attributes'];let _0x208437;if(_0x1616fd['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x5581e8=_0x5132a6[_0x1616fd['TRANSLATIO'+'N']];_0x208437=ma(_0x5581e8,_0x566723);}let _0x252416;if(_0x1616fd['hasOwnProp'+'erty']('ROTATION')){const _0x2dce1c=_0x5132a6[_0x1616fd['ROTATION']];_0x252416=ma(_0x2dce1c,_0x566723);}let _0x2a396a;if(_0x1616fd['hasOwnProp'+'erty']('SCALE')){const _0x2c730b=_0x5132a6[_0x1616fd['SCALE']];_0x2a396a=ma(_0x2c730b,_0x566723);}const _0x2d31ef=(_0x208437?_0x208437['length']/(0x6d1*0x2+-0x9*-0x356+-0x2ba5):0xb1b+-0x1004*0x2+-0x1*-0x14ed)||(_0x252416?_0x252416['length']/(0xf63+-0x2033*0x1+0x435*0x4):0x160+-0xe7f+0x1*0xd1f)||(_0x2a396a?_0x2a396a['length']/(-0x1bf6+0x5*-0x76a+0x1*0x410b):-0x2*-0x12e6+0x1bbb*0x1+-0xb*0x5f5);if(_0x2d31ef){const _0x338361=new Float32Array(_0x2d31ef*(0xbc3+-0xe35*-0x1+-0x2*0xcf4)),_0x2b78cb=new T(),_0x26f1b6=new se(),_0x2f2299=new T(-0x1*-0x1ae9+-0x327*0x1+0x3*-0x7eb,0x240f+0x62a+0x1*-0x2a38,-0x18b7+-0x423+0x1cdb),_0x31e003=new q();let _0x419e62=-0x8f*0x33+-0x11c7+0x2e44;for(let _0x5df266=-0x1045+0x1480+-0x43b;_0x5df266<_0x2d31ef;_0x5df266++){const _0xc3de71=_0x5df266*(0x29*0x21+-0x1bb0+0x2*0xb35);if(_0x208437&&_0x2b78cb['set'](_0x208437[_0xc3de71],_0x208437[_0xc3de71+(-0xddc+-0x8d*-0x29+-0x8b8)],_0x208437[_0xc3de71+(0x1f*0xd1+0xea3+-0x27f0)]),_0x252416){const _0x44a869=_0x5df266*(0x8fc+0x25bf+-0x2eb7);_0x26f1b6['set'](_0x252416[_0x44a869],_0x252416[_0x44a869+(-0xea1+0x14ba+-0x618)],_0x252416[_0x44a869+(0x221b+0x1*-0x2669+0x114*0x4)],_0x252416[_0x44a869+(0x2*0x314+-0xc5*-0x17+0xda*-0x1c)]);}_0x2a396a&&_0x2f2299['set'](_0x2a396a[_0xc3de71],_0x2a396a[_0xc3de71+(0x12*-0x184+0xafc+-0x6b*-0x27)],_0x2a396a[_0xc3de71+(0x519+0x265*0x1+0x1*-0x77c)]),_0x31e003['setTRS'](_0x2b78cb,_0x26f1b6,_0x2f2299);for(let _0x1e97db=-0x776+-0x1fc+0x972;_0x1e97db<-0xa99*0x3+-0x1*-0x18b3+0x728;_0x1e97db++)_0x338361[_0x419e62++]=_0x31e003['data'][_0x1e97db];}_0x2985bf['matrices']=_0x338361;}});},t2=(_0x50101b,_0x52cf8d,_0x2f6c89)=>{var _0x1f25fa,_0x4492b7,_0x126c4d;if(!_0x50101b['hasOwnProp'+'erty']('nodes')||_0x50101b['nodes']['length']===-0xe18+-0x3*-0x58e+-0x292)return[];const _0x2b2bd1=(_0x1f25fa=_0x52cf8d==null?void(-0x1*0x208e+-0x42d*0x4+0x3142):_0x52cf8d['node'])==null?void(0xbeb*-0x2+-0x239*0x1+0x1a0f):_0x1f25fa['preprocess'],_0x412572=((_0x4492b7=_0x52cf8d==null?void(-0x1089+-0xac+-0x1*-0x1135):_0x52cf8d['node'])==null?void(-0x149a*-0x1+-0x266a+0x4c*0x3c):_0x4492b7['process'])??qD,_0xfc5c0d=(_0x126c4d=_0x52cf8d==null?void(0x37b*0x9+-0x1f*0x141+0x78c):_0x52cf8d['node'])==null?void(0xb9*0x2b+-0x1df9+0x11a*-0x1):_0x126c4d['postproces'+'s'],_0x52808f=_0x50101b['nodes']['map']((_0x3e57ff,_0x24b967)=>{_0x2b2bd1&&_0x2b2bd1(_0x3e57ff);const _0x3fb820=_0x412572(_0x3e57ff,_0x24b967,_0x2f6c89);return _0xfc5c0d&&_0xfc5c0d(_0x3e57ff,_0x3fb820),_0x3fb820;});for(let _0x379be0=0x853+0x1c*-0x3+-0x7ff;_0x379be0<_0x50101b['nodes']['length'];++_0x379be0){const _0x34cf29=_0x50101b['nodes'][_0x379be0];if(_0x34cf29['hasOwnProp'+'erty']('children')){const _0x132301=_0x52808f[_0x379be0],_0xb42d07={};for(let _0x5d7b12=0x1*0x10a2+0xbf6*-0x2+0x74a;_0x5d7b12<_0x34cf29['children']['length'];++_0x5d7b12){const _0x567c42=_0x52808f[_0x34cf29['children'][_0x5d7b12]];_0x567c42['parent']||(_0xb42d07['hasOwnProp'+'erty'](_0x567c42['name'])?_0x567c42['name']+=_0xb42d07[_0x567c42['name']]++:_0xb42d07[_0x567c42['name']]=-0x3ad*0x1+0x177*-0x2+0x69c,_0x132301['addChild'](_0x567c42));}}}return _0x52808f;},s2=(_0x2024d1,_0x32d756)=>{var _0x94e3fa;const _0x60647c=[],_0x1599b0=_0x2024d1['scenes']['length'];if(_0x1599b0===-0x2571+-0x2236+-0x4*-0x11ea&&((_0x94e3fa=_0x2024d1['scenes'][0x1*-0x230d+0x2148+0x1c5]['nodes'])==null?void(0x2*-0xde5+0xb66+-0x419*-0x4):_0x94e3fa['length'])===0x1*-0x1664+-0x1562+0x2bc7){const _0x2172f1=_0x2024d1['scenes'][0xb1*-0x13+-0xe*-0x131+-0x38b]['nodes'][-0x242b+-0x56e+0x2999];_0x60647c['push'](_0x32d756[_0x2172f1]);}else for(let _0x106396=0x3*-0x3f1+-0x36*0xd+0xe91;_0x106396<_0x1599b0;_0x106396++){const _0x316500=_0x2024d1['scenes'][_0x106396];if(_0x316500['nodes']){const _0x399abf=new De(_0x316500['name']);for(let _0x5eb9d3=-0x1fe+0x3*-0x9c1+-0xa6b*-0x3;_0x5eb9d3<_0x316500['nodes']['length'];_0x5eb9d3++){const _0x2d81ad=_0x32d756[_0x316500['nodes'][_0x5eb9d3]];_0x399abf['addChild'](_0x2d81ad);}_0x60647c['push'](_0x399abf);}}return _0x60647c;},i2=(_0x2e3546,_0x7cf4d1,_0x20a75a)=>{var _0x4cf774,_0x1dd98a,_0x393edb;let _0x1e34ea=null;if(_0x2e3546['hasOwnProp'+'erty']('nodes')&&_0x2e3546['hasOwnProp'+'erty']('cameras')&&_0x2e3546['cameras']['length']>0x9*0x1a2+0x1*-0x1119+-0x7b*-0x5){const _0x582459=(_0x4cf774=_0x20a75a==null?void(-0x1b0e+0xd1e+-0x1be*-0x8):_0x20a75a['camera'])==null?void(-0x4*0x503+0x2*0x365+-0x2*-0x6a1):_0x4cf774['preprocess'],_0x55cecf=((_0x1dd98a=_0x20a75a==null?void(0x2*-0xe4b+0x5*0x34f+0xc0b):_0x20a75a['camera'])==null?void(0x4*-0x73a+-0x15*-0x1+-0x1*-0x1cd3):_0x1dd98a['process'])??XD,_0x40497d=(_0x393edb=_0x20a75a==null?void(-0x1*-0xf17+0x27*0x41+-0x392*0x7):_0x20a75a['camera'])==null?void(-0x3ae*0x6+-0xd*0x7b+0x1c53):_0x393edb['postproces'+'s'];_0x2e3546['nodes']['forEach']((_0x5af7c4,_0x5b6d61)=>{if(_0x5af7c4['hasOwnProp'+'erty']('camera')){const _0x2220e1=_0x2e3546['cameras'][_0x5af7c4['camera']];if(_0x2220e1){_0x582459&&_0x582459(_0x2220e1);const _0x4e21a6=_0x55cecf(_0x2220e1,_0x7cf4d1[_0x5b6d61]);_0x40497d&&_0x40497d(_0x2220e1,_0x4e21a6),_0x4e21a6&&(_0x1e34ea||(_0x1e34ea=new Map()),_0x1e34ea['set'](_0x5af7c4,_0x4e21a6));}}});}return _0x1e34ea;},r2=(_0x38fff4,_0x538cce,_0x333280)=>{var _0x16d249,_0x5bdb89,_0x44923c;let _0x2f0acf=null;if(_0x38fff4['hasOwnProp'+'erty']('nodes')&&_0x38fff4['hasOwnProp'+'erty']('extensions')&&_0x38fff4['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x38fff4['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x562a2c=_0x38fff4['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x562a2c['length']){const _0x24f13b=(_0x16d249=_0x333280==null?void(-0x638+-0xf0b*-0x1+-0x2f1*0x3):_0x333280['light'])==null?void(-0x1efa+-0x5*-0x3bc+-0x46*-0x2d):_0x16d249['preprocess'],_0x225222=((_0x5bdb89=_0x333280==null?void(0x1d2b+-0x26ff+0x2*0x4ea):_0x333280['light'])==null?void(-0x24a0+-0x1e31+-0x37*-0x137):_0x5bdb89['process'])??jD,_0x51a11f=(_0x44923c=_0x333280==null?void(0x11e6*-0x1+0xb*0x1f3+0x38b*-0x1):_0x333280['light'])==null?void(-0x1ec7+-0x14cb+0x3392):_0x44923c['postproces'+'s'];_0x38fff4['nodes']['forEach']((_0x5e5b0e,_0x3556bd)=>{if(_0x5e5b0e['hasOwnProp'+'erty']('extensions')&&_0x5e5b0e['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x5e5b0e['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x2a2f8d=_0x5e5b0e['extensions']['KHR_lights'+'_punctual']['light'],_0x3f6477=_0x562a2c[_0x2a2f8d];if(_0x3f6477){_0x24f13b&&_0x24f13b(_0x3f6477);const _0x3b867f=_0x225222(_0x3f6477,_0x538cce[_0x3556bd]);_0x51a11f&&_0x51a11f(_0x3f6477,_0x3b867f),_0x3b867f&&(_0x2f0acf||(_0x2f0acf=new Map()),_0x2f0acf['set'](_0x5e5b0e,_0x3b867f));}}});}}return _0x2f0acf;},n2=(_0x9c2680,_0x4fd282,_0x7e9ca3)=>{_0x9c2680['nodes']['forEach'](_0x30fcd9=>{_0x30fcd9['hasOwnProp'+'erty']('mesh')&&_0x30fcd9['hasOwnProp'+'erty']('skin')&&_0x4fd282[_0x30fcd9['mesh']]['meshes']['forEach'](_0x2be166=>{_0x2be166['skin']=_0x7e9ca3[_0x30fcd9['skin']];});});},a2=async(_0x52c862,_0x37ddd8,_0x47546e,_0x3dcac6,_0x23c7c1)=>{var _0xc14bc3,_0x5e2664;const _0x25c17c=(_0xc14bc3=_0x23c7c1==null?void(0x10af*-0x1+-0xfdb*-0x1+-0x1*-0xd4):_0x23c7c1['global'])==null?void(0x1605+0xc1b+-0x2220):_0xc14bc3['preprocess'],_0x2d9182=(_0x5e2664=_0x23c7c1==null?void(0x31*0x86+0x3*0x3b3+-0x24bf):_0x23c7c1['global'])==null?void(0x1b0f*0x1+-0x12f7+-0x818):_0x5e2664['postproces'+'s'];_0x25c17c&&_0x25c17c(_0x37ddd8),_0x37ddd8['asset']&&_0x37ddd8['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x9353bf=new Map(),_0x57e7dc=t2(_0x37ddd8,_0x23c7c1,_0x9353bf),_0x967eea=s2(_0x37ddd8,_0x57e7dc),_0x1c27e1=r2(_0x37ddd8,_0x57e7dc,_0x23c7c1),_0x592776=i2(_0x37ddd8,_0x57e7dc,_0x23c7c1),_0x1e97f1=QD(_0x37ddd8),_0x5884c0=await Promise['all'](_0x47546e),{meshes:_0x45f2ac,meshVariants:_0x51ec83,meshDefaultMaterials:_0xbb6b7c,promises:_0x5169b7}=KD(_0x52c862,_0x37ddd8,_0x5884c0,_0x23c7c1),_0x36b3f2=JD(_0x37ddd8,_0x57e7dc,_0x5884c0,_0x23c7c1);e2(_0x52c862,_0x37ddd8,_0x9353bf,_0x5884c0);const _0x2c2f4b=await Promise['all'](_0x3dcac6),_0x1ea43b=_0x2c2f4b['map'](_0x55af49=>_0x55af49['resource']),_0x2c5e96=ZD(_0x37ddd8,_0x1ea43b,_0x23c7c1),_0x27362f=YD(_0x52c862,_0x37ddd8,_0x57e7dc,_0x5884c0),_0xdfbfde=[];for(let _0xcc89b5=0x1e7+0x201+-0x3e8;_0xcc89b5<_0x45f2ac['length'];_0xcc89b5++)_0xdfbfde[_0xcc89b5]=new Hp(),_0xdfbfde[_0xcc89b5]['meshes']=_0x45f2ac[_0xcc89b5];n2(_0x37ddd8,_0xdfbfde,_0x27362f);const _0x2c3294=new SD();return _0x2c3294['gltf']=_0x37ddd8,_0x2c3294['nodes']=_0x57e7dc,_0x2c3294['scenes']=_0x967eea,_0x2c3294['animations']=_0x36b3f2,_0x2c3294['textures']=_0x2c2f4b,_0x2c3294['materials']=_0x2c5e96,_0x2c3294['variants']=_0x1e97f1,_0x2c3294['meshVarian'+'ts']=_0x51ec83,_0x2c3294['meshDefaul'+'tMaterials']=_0xbb6b7c,_0x2c3294['renders']=_0xdfbfde,_0x2c3294['skins']=_0x27362f,_0x2c3294['lights']=_0x1c27e1,_0x2c3294['cameras']=_0x592776,_0x2c3294['nodeInstan'+'cingMap']=_0x9353bf,_0x2d9182&&_0x2d9182(_0x37ddd8,_0x2c3294),await Promise['all'](_0x5169b7),_0x2c3294;},o2=(_0xe08cb9,_0x175c1a)=>{const _0x14afd9=(_0x16f872,_0x276bcb)=>{switch(_0x16f872){case 0x1*0x3dee+-0x3c62+0x4*0x91d:return de;case 0x2*0x418+-0x1ea3+0x6a*0x92:return st;case-0x35*0x74+0x44ec+-0x5e8:return fc;case 0x3f99+-0x1*-0x336b+-0x4c03:return mc;case-0x462f+0x16cd+0x13*0x48c:return pc;case-0x47dd*-0x1+0x1*0xd4d+-0x2e27:return nn;default:return _0x276bcb;}},_0x27722d=(_0x4402a1,_0x14fca3)=>{switch(_0x4402a1){case 0xda9b+0x5b8a*0x2+-0x11080:return ae;case-0x1*-0x53+-0x4*0x40ba+-0x4e01*-0x5:return Of;case-0x1*-0x18ac+0x2ef*-0x6+0x49*0x77:return tt;default:return _0x14fca3;}};_0xe08cb9&&(_0x175c1a=_0x175c1a??{},_0xe08cb9['minFilter']=_0x14afd9(_0x175c1a['minFilter'],nn),_0xe08cb9['magFilter']=_0x14afd9(_0x175c1a['magFilter'],st),_0xe08cb9['addressU']=_0x27722d(_0x175c1a['wrapS'],tt),_0xe08cb9['addressV']=_0x27722d(_0x175c1a['wrapT'],tt));};let l2=-0x168*-0x6+0x31*0x3b+0x1*-0x13bb;const vf=_0x8d78da=>{var _0x285b2d,_0x3f6255,_0x3667e7,_0x210249;return((_0x3f6255=(_0x285b2d=_0x8d78da['extensions'])==null?void(-0x1d92+0x2669+0x1f*-0x49):_0x285b2d['KHR_textur'+'e_basisu'])==null?void(0x3da+0x1cd4+-0x20ae):_0x3f6255['source'])??((_0x210249=(_0x3667e7=_0x8d78da['extensions'])==null?void(-0x16bf+0xb5*0x28+0x1*-0x589):_0x3667e7['EXT_textur'+'e_webp'])==null?void(-0x1*-0x757+-0x3*0x412+0x2b*0x1d):_0x210249['source'])??_0x8d78da['source'];},h2=(_0x5d973f,_0x2ad128,_0x1fe614,_0x158e61,_0x1d3c2e)=>{var _0x48b00a,_0x27d34b,_0x3087ff;if(!_0x5d973f['images']||_0x5d973f['images']['length']===0x2624+0x1e49+-0x446d)return[];const _0x34b5d8=(_0x48b00a=_0x1d3c2e==null?void(-0x14e5+-0x206e+0x4d9*0xb):_0x1d3c2e['image'])==null?void(0x506+-0x229a+0x1d94):_0x48b00a['preprocess'],_0x1fa30f=(_0x27d34b=_0x1d3c2e==null?void(-0x266a+0x379+0x6fd*0x5):_0x1d3c2e['image'])==null?void(-0x233*0x7+-0x19*0x161+0x31de):_0x27d34b['processAsy'+'nc'],_0x160e19=(_0x3087ff=_0x1d3c2e==null?void(0x4*0x52+0x1*-0x523+0x3db):_0x1d3c2e['image'])==null?void(-0x8*0x1c1+-0x765*0x1+0x156d):_0x3087ff['postproces'+'s'],_0x5482c7={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x322bb9=_0x2e26b6=>{const _0x50d3e5=new Set();return _0x2e26b6['hasOwnProp'+'erty']('materials')&&_0x2e26b6['materials']['forEach'](_0x42bd20=>{if(_0x42bd20['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x37c6b8=_0x42bd20['pbrMetalli'+'cRoughness'];if(_0x37c6b8['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x403785=_0x2e26b6['textures'][_0x37c6b8['baseColorT'+'exture']['index']];_0x50d3e5['add'](vf(_0x403785));}}if(_0x42bd20['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x43784b=_0x2e26b6['textures'][_0x42bd20['emissiveTe'+'xture']['index']];_0x50d3e5['add'](vf(_0x43784b));}}),_0x50d3e5;},_0x13522f=(_0x2d267e,_0x758b16,_0x1461c2,_0x1f817,_0x3ed50c,_0x5e94d4)=>new Promise((_0x5b27d8,_0x3d7690)=>{const _0x2bc92f=_0x2fbf7e=>{const _0x4f72f1=(_0x2d267e['name']||'gltf-textu'+'re')+'-'+l2++,_0x300c4d={'url':_0x758b16||_0x4f72f1};if(_0x2fbf7e&&(_0x300c4d['contents']=_0x2fbf7e['slice'](0x19a7+-0x24b5+0xa*0x11b)['buffer']),_0x1f817){const _0x1a7ecb=_0x5482c7[_0x1f817];_0x1a7ecb&&(_0x300c4d['filename']=_0x300c4d['url']+'.'+_0x1a7ecb);}const _0x794e76={'srgb':_0x5e94d4},_0x49648f=new le(_0x4f72f1,'texture',_0x300c4d,_0x794e76,_0x3ed50c);_0x49648f['on']('load',_0x392224=>_0x5b27d8(_0x392224)),_0x49648f['on']('error',_0x37daf4=>_0x3d7690(_0x37daf4)),_0x158e61['add'](_0x49648f),_0x158e61['load'](_0x49648f);};_0x1461c2?_0x1461c2['then'](_0x3250b9=>_0x2bc92f(_0x3250b9)):_0x2bc92f(null);}),_0x1f9b46=_0x322bb9(_0x5d973f);return _0x5d973f['images']['map']((_0x216033,_0x14d6c7)=>{_0x34b5d8&&_0x34b5d8(_0x216033);let _0x5e54fc;return _0x1fa30f?_0x5e54fc=new Promise((_0x16caa6,_0x18ac02)=>{_0x1fa30f(_0x216033,(_0x4eae51,_0x2d7a68)=>{_0x4eae51?_0x18ac02(_0x4eae51):_0x16caa6(_0x2d7a68);});}):_0x5e54fc=new Promise(_0x176fc6=>{_0x176fc6(null);}),_0x5e54fc=_0x5e54fc['then'](_0x2717f2=>{const _0x58cdd9=_0x1f9b46['has'](_0x14d6c7);return _0x2717f2||(_0x216033['hasOwnProp'+'erty']('uri')?Rx(_0x216033['uri'])?_0x13522f(_0x216033,_0x216033['uri'],null,vD(_0x216033['uri']),null,_0x58cdd9):_0x13522f(_0x216033,Da['test'](_0x216033['uri'])?_0x216033['uri']:fe['join'](_0x1fe614,_0x216033['uri']),null,null,{'crossOrigin':'anonymous'},_0x58cdd9):_0x216033['hasOwnProp'+'erty']('bufferView')&&_0x216033['hasOwnProp'+'erty']('mimeType')?_0x13522f(_0x216033,null,_0x2ad128[_0x216033['bufferView']],_0x216033['mimeType'],null,_0x58cdd9):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x14d6c7)));}),_0x160e19&&(_0x5e54fc=_0x5e54fc['then'](_0x24c815=>(_0x160e19(_0x216033,_0x24c815),_0x24c815))),_0x5e54fc;});},c2=(_0x941743,_0x3a71aa,_0x44bda1)=>{var _0x2a5f76,_0x10008f,_0x58428c,_0x3c2d6d,_0xb9196e;if(!((_0x2a5f76=_0x941743==null?void(-0x14c1+-0x4*-0x9be+-0x1237):_0x941743['images'])!=null&&_0x2a5f76['length'])||!((_0x10008f=_0x941743==null?void(-0x1*0x182a+0x47*-0x6b+0x35d7):_0x941743['textures'])!=null&&_0x10008f['length']))return[];const _0x5858b2=(_0x58428c=_0x44bda1==null?void(0x237d+-0x4b9+0x1ec4*-0x1):_0x44bda1['texture'])==null?void(-0xe70+0x5*0x88+0xbc8):_0x58428c['preprocess'],_0x50cb50=(_0x3c2d6d=_0x44bda1==null?void(0x290*-0x3+-0x37f*0x5+0x192b):_0x44bda1['texture'])==null?void(-0x5*-0x1+-0xe*0x73+-0x1*-0x645):_0x3c2d6d['processAsy'+'nc'],_0x4a9097=(_0xb9196e=_0x44bda1==null?void(-0x6a8+0x20b*-0xd+0x2137):_0x44bda1['texture'])==null?void(0x2616+-0xb72+-0x1aa4):_0xb9196e['postproces'+'s'],_0x3a5259=new Set();return _0x941743['textures']['map'](_0x165743=>{_0x5858b2&&_0x5858b2(_0x165743);let _0x1cafee;return _0x50cb50?_0x1cafee=new Promise((_0x50c3c4,_0x5b5558)=>{_0x50cb50(_0x165743,_0x941743['images'],(_0x451e75,_0xfa78a9)=>{_0x451e75?_0x5b5558(_0x451e75):_0x50c3c4(_0xfa78a9);});}):_0x1cafee=new Promise(_0x5c0743=>{_0x5c0743(null);}),_0x1cafee=_0x1cafee['then'](_0x4c28a7=>{_0x4c28a7=_0x4c28a7??vf(_0x165743);const _0x8842d=_0x3a5259['has'](_0x4c28a7);return _0x3a5259['add'](_0x4c28a7),_0x3a71aa[_0x4c28a7]['then'](_0x135610=>{const _0x14caf5=_0x8842d?MD(_0x135610):_0x135610;return o2(_0x14caf5['resource'],(_0x941743['samplers']??[])[_0x165743['sampler']]),_0x14caf5;});}),_0x4a9097&&(_0x1cafee=_0x1cafee['then'](_0x3c85cc=>(_0x4a9097(_0x165743,_0x3c85cc),_0x3c85cc))),_0x1cafee;});},d2=(_0x3081f,_0xc184ef,_0x42d8cb,_0x19951d)=>{var _0x14d416,_0x229566,_0x321c08;if(!_0x3081f['buffers']||_0x3081f['buffers']['length']===0x1d5*-0xf+-0xccf*-0x1+0x4e4*0x3)return[];const _0x63cda7=(_0x14d416=_0x19951d==null?void(0x9b*0xd+-0x29*0x71+0x11*0x9a):_0x19951d['buffer'])==null?void(-0xa3*0x3b+0x691*-0x5+0x4666):_0x14d416['preprocess'],_0x2635e1=(_0x229566=_0x19951d==null?void(0x3b*-0x2+0x25eb+-0x1*0x2575):_0x19951d['buffer'])==null?void(-0x1382+0xd2d+-0x655*-0x1):_0x229566['processAsy'+'nc'],_0x4c5857=(_0x321c08=_0x19951d==null?void(-0x1*0x192d+-0x2*0xc11+0x314f):_0x19951d['buffer'])==null?void(0x25fe+-0x5*0x533+-0xbff):_0x321c08['postproces'+'s'];return _0x3081f['buffers']['map']((_0x4a3084,_0x1c618e)=>{_0x63cda7&&_0x63cda7(_0x4a3084);let _0xa8a8eb;return _0x2635e1?_0xa8a8eb=new Promise((_0x40a539,_0xa816e3)=>{_0x2635e1(_0x4a3084,(_0x172eba,_0xe717fe)=>{_0x172eba?_0xa816e3(_0x172eba):_0x40a539(_0xe717fe);});}):_0xa8a8eb=new Promise(_0x1ae434=>{_0x1ae434(null);}),_0xa8a8eb=_0xa8a8eb['then'](_0x480c26=>{if(_0x480c26)return _0x480c26;if(_0x4a3084['hasOwnProp'+'erty']('uri')){if(Rx(_0x4a3084['uri'])){const _0x4af1f0=atob(_0x4a3084['uri']['split'](',')[-0x1c72+-0x163c*0x1+-0xa23*-0x5]),_0x12d427=new Uint8Array(_0x4af1f0['length']);for(let _0x3b5a82=0xc*-0x3d+-0x1d6d+-0xac3*-0x3;_0x3b5a82<_0x4af1f0['length'];_0x3b5a82++)_0x12d427[_0x3b5a82]=_0x4af1f0['charCodeAt'](_0x3b5a82);return _0x12d427;}return new Promise((_0x3f0765,_0x52b463)=>{$e['get'](Da['test'](_0x4a3084['uri'])?_0x4a3084['uri']:fe['join'](_0x42d8cb,_0x4a3084['uri']),{'cache':!(0x209*0x3+-0x2710+0x20f5),'responseType':'arraybuffe'+'r','retry':!(0x47*0x65+-0x19f*0x3+-0x18b*0xf)},(_0x4a0b05,_0xcc3047)=>{_0x4a0b05?_0x52b463(_0x4a0b05):_0x3f0765(new Uint8Array(_0xcc3047));});});}return _0xc184ef;}),_0x4c5857&&(_0xa8a8eb=_0xa8a8eb['then'](_0x7b4a92=>(_0x4c5857(_0x3081f['buffers'][_0x1c618e],_0x7b4a92),_0x7b4a92))),_0xa8a8eb;});},u2=(_0x479f54,_0xe7568f)=>{const _0x49742b=JSON['parse']((_0x5a1092=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x5a1092);let _0x342dbc='';for(let _0x3e354=0xdc*-0x2+0x139*-0x1a+0x2182;_0x3e354<_0x5a1092['length'];_0x3e354++)_0x342dbc+=String['fromCharCo'+'de'](_0x5a1092[_0x3e354]);return decodeURIComponent(escape(_0x342dbc));})(_0x479f54));if(_0x49742b['asset']&&_0x49742b['asset']['version']&&parseFloat(_0x49742b['asset']['version'])<-0x25fe+0x8be+0xa*0x2ed){_0xe7568f('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x49742b['asset']['version']+'\x27.');return;}_0xe7568f(null,_0x49742b);},f2=(_0x2536c1,_0x38ee67)=>{const _0x342421=_0x2536c1 instanceof ArrayBuffer?new DataView(_0x2536c1):new DataView(_0x2536c1['buffer'],_0x2536c1['byteOffset'],_0x2536c1['byteLength']),_0x59f476=_0x342421['getUint32'](0xef*0x5+0xd08+0x17*-0xc5,!(-0x2*-0x53f+-0x1f1b+0x149d)),_0x50ca49=_0x342421['getUint32'](0x25f7+-0x2d7*0x1+-0x231c,!(-0xa75+-0x1c8+0xc3d)),_0x980be7=_0x342421['getUint32'](-0x14e7+0x37d*-0xa+0x37d1,!(-0x38+0xec1+0x1*-0xe89));if(_0x59f476!==0x813b4325+0xa2c55f5*-0x8+-0x2*-0xb3dec75){_0x38ee67('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x59f476['toString'](-0x15ff*-0x1+0x9*0x3e+-0x181d));return;}if(_0x50ca49!==-0xe47*0x1+0x617*-0x5+-0x664*-0x7){_0x38ee67('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x50ca49);return;}if(_0x980be7<=-0x33c+0x96b*0x1+-0x1*0x62f||_0x980be7>_0x342421['byteLength']){_0x38ee67('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x980be7);return;}const _0x3aa7c1=[];let _0x74aa13=-0xbc4+-0x47*0x1+0x5*0x26b;for(;_0x74aa13<_0x980be7;){const _0x3fddf5=_0x342421['getUint32'](_0x74aa13,!(0x152b+-0x73*0x3e+0x1d*0x3b));_0x74aa13+_0x3fddf5+(0x1*-0x1df+-0x25da+0x27c1)>_0x342421['byteLength']&&_0x38ee67('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x3fddf5);const _0x144a0e=_0x342421['getUint32'](_0x74aa13+(0x1*-0xd06+0x1*-0x2197+-0x3*-0xf8b),!(-0xe95*-0x1+-0x3*-0x1ea+-0x1453)),_0x5bb096=new Uint8Array(_0x342421['buffer'],_0x342421['byteOffset']+_0x74aa13+(0xb75+0x19f8+-0xc77*0x3),_0x3fddf5);_0x3aa7c1['push']({'length':_0x3fddf5,'type':_0x144a0e,'data':_0x5bb096}),_0x74aa13+=_0x3fddf5+(0xf0f+-0x8e+0x5*-0x2e5);}if(_0x3aa7c1['length']!==-0x1139*0x1+0x1*-0x20f7+-0x1*-0x3231&&_0x3aa7c1['length']!==-0x3cf+0x2ac+0x125){_0x38ee67('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x3aa7c1[0x652*0x2+0x1f27+-0x2bcb]['type']!==0x1*-0xe03a54d+-0x2*0x9040682+0x5cee559*0x13){_0x38ee67('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x3aa7c1[-0x1*-0x1dcb+-0xd9*0x7+-0x17dc]['type']['toString'](-0x1e5c+-0x2389+0x41f5));return;}if(_0x3aa7c1['length']>-0x1*0x8db+0x62f*0x2+-0x1c1*0x2&&_0x3aa7c1[0xbd2+-0x9*-0x78+-0x1009*0x1]['type']!==-0x53eb20+0x8dee44+0x14461e){_0x38ee67('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x3aa7c1[-0x191*-0x12+0x698+0x22c9*-0x1]['type']['toString'](-0x19d+0x1cce*-0x1+0x1e7b));return;}_0x38ee67(null,{'gltfChunk':_0x3aa7c1[0x1*0x221b+0x1d35*0x1+-0x3f50]['data'],'binaryChunk':_0x3aa7c1['length']===0x26ab+0x1e33*-0x1+-0x876?_0x3aa7c1[-0x1*0xe56+0x93c+-0x1*-0x51b]['data']:null});},p2=(_0x551d0a,_0x21cf6d,_0x533da7)=>{const _0x56d342=()=>{const _0x4a6440=new Uint8Array(_0x21cf6d);return _0x4a6440[-0x18*0xf+-0x111b+0x1283*0x1]===-0x1fa*0x7+-0x1404+0x2241*0x1&&_0x4a6440[0xe4b+0x8e0*-0x4+0x3*0x712]===0x302+-0xcb1+0xa1b&&_0x4a6440[0x25bc+0x1dcc+0x86*-0x81]===0x1e1a+0x16ce+-0x3494&&_0x4a6440[0x21ae+-0x1d6b+-0x44*0x10]===-0x1269*0x2+0x7f*-0x47+-0x441*-0x11;};_0x551d0a&&_0x551d0a['toLowerCas'+'e']()['endsWith']('.glb')||_0x56d342()?f2(_0x21cf6d,_0x533da7):_0x533da7(null,{'gltfChunk':_0x21cf6d,'binaryChunk':null});},m2=(_0x3c5a86,_0x427055,_0x1e23b6)=>{var _0x2ed5cc,_0x239170,_0x3442da,_0x2ea311;const _0x4aa627=[],_0x4e2056=(_0x2ed5cc=_0x1e23b6==null?void(0x1b6b*0x1+-0x1150+-0xa1b):_0x1e23b6['bufferView'])==null?void(-0x13*-0xad+-0x79*0x4d+0x178e):_0x2ed5cc['preprocess'],_0x3c022e=(_0x239170=_0x1e23b6==null?void(0x1a9e+0x2c*-0xb+-0x18ba):_0x1e23b6['bufferView'])==null?void(-0x24d2+0x1*0x2109+-0x1*-0x3c9):_0x239170['processAsy'+'nc'],_0x13d643=(_0x3442da=_0x1e23b6==null?void(0x11e4+0x3a9*-0x9+0xf0d):_0x1e23b6['bufferView'])==null?void(-0xcc9+-0x1dce+0x2a97):_0x3442da['postproces'+'s'];if(!((_0x2ea311=_0x3c5a86['bufferView'+'s'])!=null&&_0x2ea311['length']))return _0x4aa627;for(let _0x43dc5c=0xb5*-0xc+0x94f+-0xd3;_0x43dc5c<_0x3c5a86['bufferView'+'s']['length'];++_0x43dc5c){const _0x5160ce=_0x3c5a86['bufferView'+'s'][_0x43dc5c];_0x4e2056&&_0x4e2056(_0x5160ce);let _0x5b81a6;_0x3c022e?_0x5b81a6=new Promise((_0x9e18e,_0xa333ed)=>{_0x3c022e(_0x5160ce,_0x427055,(_0x1e61d9,_0x2da300)=>{_0x1e61d9?_0xa333ed(_0x1e61d9):_0x9e18e(_0x2da300);});}):_0x5b81a6=new Promise(_0xd6add0=>{_0xd6add0(null);}),_0x5b81a6=_0x5b81a6['then'](_0x2f963e=>_0x2f963e||_0x427055[_0x5160ce['buffer']]['then'](_0x2855e2=>new Uint8Array(_0x2855e2['buffer'],_0x2855e2['byteOffset']+(_0x5160ce['byteOffset']||0x789+0x437+-0xbc0),_0x5160ce['byteLength']))),_0x5160ce['hasOwnProp'+'erty']('byteStride')&&(_0x5b81a6=_0x5b81a6['then'](_0x1ed224=>(_0x1ed224['byteStride']=_0x5160ce['byteStride'],_0x1ed224))),_0x13d643&&(_0x5b81a6=_0x5b81a6['then'](_0x193717=>(_0x13d643(_0x5160ce,_0x193717),_0x193717))),_0x4aa627['push'](_0x5b81a6);}return _0x4aa627;};class tc{static['parse'](_0x25385b,_0x420bc2,_0x5c9047,_0x417306,_0x194acd,_0x3d3df7,_0x405a18){p2(_0x25385b,_0x5c9047,(_0x27a5e3,_0x55f7d8)=>{if(_0x27a5e3){_0x405a18(_0x27a5e3);return;}u2(_0x55f7d8['gltfChunk'],(_0x31956f,_0x29e683)=>{if(_0x31956f){_0x405a18(_0x31956f);return;}const _0xe463d1=d2(_0x29e683,_0x55f7d8['binaryChun'+'k'],_0x420bc2,_0x3d3df7),_0x529bd0=m2(_0x29e683,_0xe463d1,_0x3d3df7),_0xea5d4a=h2(_0x29e683,_0x529bd0,_0x420bc2,_0x194acd,_0x3d3df7),_0x2f90d5=c2(_0x29e683,_0xea5d4a,_0x3d3df7);a2(_0x417306,_0x29e683,_0x529bd0,_0x2f90d5,_0x3d3df7)['then'](_0x5441c8=>_0x405a18(null,_0x5441c8))['catch'](_0x3e1645=>_0x405a18(_0x3e1645));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x514810){super(_0x514810,'animation'),this['device']=_0x514810['graphicsDe'+'vice'],this['assets']=_0x514810['assets'];}['load'](_0xc606b9,_0x42015a,_0x1df7c2){typeof _0xc606b9=='string'&&(_0xc606b9={'load':_0xc606b9,'original':_0xc606b9});const _0x293616={'retry':this['maxRetries']>0x25c5+-0x1*0xb5d+-0x1a68,'maxRetries':this['maxRetries']};(_0xc606b9['load']['startsWith']('blob:')||_0xc606b9['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0xc606b9['original'])['toLowerCas'+'e']()==='.glb'?_0x293616['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x293616['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0xc606b9['load'],_0x293616,(_0x417abc,_0x541e19)=>{_0x417abc?_0x42015a('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0xc606b9['original']+'\x20['+_0x417abc+']'):fe['getExtensi'+'on'](_0xc606b9['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x541e19,this['device'],this['assets'],(_0x1df7c2==null?void(-0x1b64+-0x1b17+0x1229*0x3):_0x1df7c2['options'])??{},(_0x2e2923,_0x13143b)=>{var _0x1193e7;if(_0x2e2923)_0x42015a(_0x2e2923);else{const _0x3459c1=_0x13143b['animations'];if((_0x1193e7=_0x1df7c2==null?void(0x1022+0xc90*-0x1+-0x392):_0x1df7c2['data'])!=null&&_0x1193e7['events']){for(let _0x28fe43=-0x248c*-0x1+0x1*-0x1867+-0xc25;_0x28fe43<_0x3459c1['length'];_0x28fe43++)_0x3459c1[_0x28fe43]['events']=new Y0(Object['values'](_0x1df7c2['data']['events']));}_0x13143b['destroy'](),_0x42015a(null,_0x3459c1);}}):_0x42015a(null,this['_parseAnim'+'ationV'+_0x541e19['animation']['version']](_0x541e19));});}['open'](_0x220ac4,_0x19b4bc,_0x5f50c6){return _0x19b4bc;}['_parseAnim'+'ationV3'](_0x8cc961){const _0x2c8186=_0x8cc961['animation'],_0x468f10=new k_();_0x468f10['name']=_0x2c8186['name'],_0x468f10['duration']=_0x2c8186['duration'];for(let _0x12172c=-0x1e7b+-0x259*0x1+0x17e*0x16;_0x12172c<_0x2c8186['nodes']['length'];_0x12172c++){const _0x2b7fe2=new O_(),_0x43cd01=_0x2c8186['nodes'][_0x12172c];_0x2b7fe2['_name']=_0x43cd01['name'];for(let _0x36dbbc=-0x191*-0x5+-0xfa8+0x7d3;_0x36dbbc<_0x43cd01['keys']['length'];_0x36dbbc++){const _0x505ee9=_0x43cd01['keys'][_0x36dbbc],_0x29a580=_0x505ee9['time'],_0xd40163=_0x505ee9['pos'],_0x1f61ca=_0x505ee9['rot'],_0x11e170=_0x505ee9['scale'],_0x52da9e=new T(_0xd40163[0x1446*0x1+0x9ee+0xf1a*-0x2],_0xd40163[-0x1ecd+-0x1*-0x16a1+0x82d],_0xd40163[-0xb8*-0x11+0xa3*-0x16+0x1cc]),_0x3c6ac5=new se()['setFromEul'+'erAngles'](_0x1f61ca[0x21bf+-0x1a5*-0xb+0x52f*-0xa],_0x1f61ca[-0x265c+0x1fc5+0x698],_0x1f61ca[0x1bd5+0x1*-0x1e09+0x236]),_0x56c936=new T(_0x11e170[0x796*0x4+0x157a+-0x33d2],_0x11e170[-0x6fa+-0xfa*0xa+0x10bf],_0x11e170[0x2fe+0xbcd+-0xec9]),_0x283b47=new F_(_0x29a580,_0x52da9e,_0x3c6ac5,_0x56c936);_0x2b7fe2['_keys']['push'](_0x283b47);}_0x468f10['addNode'](_0x2b7fe2);}return _0x468f10;}['_parseAnim'+'ationV4'](_0x5bcc8a){const _0x79963e=_0x5bcc8a['animation'],_0x146efa=new k_();_0x146efa['name']=_0x79963e['name'],_0x146efa['duration']=_0x79963e['duration'];for(let _0x1b0730=-0x5*0x2e3+0x2516+-0x3*0x78d;_0x1b0730<_0x79963e['nodes']['length'];_0x1b0730++){const _0x8e67eb=new O_(),_0x2b5b00=_0x79963e['nodes'][_0x1b0730];_0x8e67eb['_name']=_0x2b5b00['name'];const _0x2a2e63=_0x2b5b00['defaults']['p'],_0x5de26e=_0x2b5b00['defaults']['r'],_0x21934b=_0x2b5b00['defaults']['s'];for(let _0x3fd0c8=-0x13bf+-0x1f2*0x1+0x269*0x9;_0x3fd0c8<_0x2b5b00['keys']['length'];_0x3fd0c8++){const _0x47d127=_0x2b5b00['keys'][_0x3fd0c8],_0x37e15a=_0x47d127['t'],_0x178f17=_0x2a2e63||_0x47d127['p'],_0x4bd5bb=_0x5de26e||_0x47d127['r'],_0x6b4f0e=_0x21934b||_0x47d127['s'],_0x361ef0=new T(_0x178f17[0x5*0x5d1+-0xed9+0x1*-0xe3c],_0x178f17[0x13ee*0x1+0x11f+-0x150c*0x1],_0x178f17[0x1c6a*0x1+0x1*-0x17d7+0x7*-0xa7]),_0x43d8e2=new se()['setFromEul'+'erAngles'](_0x4bd5bb[0x2*-0x117e+-0x263d+0x32f*0x17],_0x4bd5bb[-0x6*-0x5f2+0x195d+-0x3d08],_0x4bd5bb[-0x565*0x5+0x4b3+0x1648]),_0x29a03e=new T(_0x6b4f0e[0x21*-0xf3+0x11*0x1+0x2*0xfa1],_0x6b4f0e[0x1fe1*-0x1+-0x3a*-0x61+0x9e8],_0x6b4f0e[0x1*0x23ad+-0x26*0xc2+-0x6df]),_0x37df38=new F_(_0x37e15a,_0x361ef0,_0x43d8e2,_0x29a03e);_0x8e67eb['_keys']['push'](_0x37df38);}_0x146efa['addNode'](_0x8e67eb);}return _0x146efa;}}class g2 extends Ne{constructor(_0x3e6a9e){super(_0x3e6a9e,'animclip');}['load'](_0x4d6442,_0x1905ae){typeof _0x4d6442=='string'&&(_0x4d6442={'load':_0x4d6442,'original':_0x4d6442});const _0x5830d3={'retry':this['maxRetries']>0xba5+0x77b*-0x4+0x1247,'maxRetries':this['maxRetries']};_0x4d6442['load']['startsWith']('blob:')&&(_0x5830d3['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x4d6442['load'],_0x5830d3,(_0x27ed68,_0x1100ac)=>{_0x27ed68?_0x1905ae('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x4d6442['original']+'\x20['+_0x27ed68+']'):_0x1905ae(null,_0x1100ac);});}['open'](_0x1b33d2,_0x2bf854){const _0x2c1831=_0x2bf854['name'],_0x429c23=_0x2bf854['duration'],_0x373438=_0x2bf854['inputs']['map'](_0x307dab=>new Jh(0x4*0x4aa+0xc14*0x2+0xd*-0x34b,_0x307dab)),_0x4bbecf=_0x2bf854['outputs']['map'](_0x233ead=>new Jh(_0x233ead['components'],_0x233ead['data'])),_0x8cc999=_0x2bf854['curves']['map'](_0x1e4456=>new Px([_0x1e4456['path']],_0x1e4456['inputIndex'],_0x1e4456['outputInde'+'x'],_0x1e4456['interpolat'+'ion']));return new Ri(_0x2c1831,_0x429c23,_0x373438,_0x4bbecf,_0x8cc999);}}class y2 extends Ne{constructor(_0xc3d42b){super(_0xc3d42b,'animstateg'+'raph');}['load'](_0x55be8b,_0xdb0f0a){typeof _0x55be8b=='string'&&(_0x55be8b={'load':_0x55be8b,'original':_0x55be8b});const _0x4006e6={'retry':this['maxRetries']>0x42*0x4+0x272+-0x1*0x37a,'maxRetries':this['maxRetries']};_0x55be8b['load']['startsWith']('blob:')&&(_0x4006e6['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x55be8b['load'],_0x4006e6,(_0x6c6175,_0x5e99f6)=>{_0x6c6175?_0xdb0f0a('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x55be8b['original']+'\x20['+_0x6c6175+']'):_0xdb0f0a(null,_0x5e99f6);});}['open'](_0x5e4a82,_0x192c86){return new mh(_0x192c86);}}const Qd=(function(){if(typeof window>'u')return!(0x1*-0x1223+0x2e*0x3e+-0x1c*-0x40);const _0x451df7=window['navigator']['userAgent'],_0x4c3cad=_0x451df7['indexOf']('MSIE\x20');if(_0x4c3cad>0x2166+-0x7cd*0x1+-0x1999)return parseInt(_0x451df7['substring'](_0x4c3cad+(0x1f23+-0x173*-0x16+-0x3f00),_0x451df7['indexOf']('.',_0x4c3cad)),0x2414+0x1f67+-0x4371);if(_0x451df7['indexOf']('Trident/')>-0x4*-0x9c2+-0x705*0x2+-0xc7f*0x2){const _0x9281fe=_0x451df7['indexOf']('rv:');return parseInt(_0x451df7['substring'](_0x9281fe+(-0x2*0x1357+-0x1398+0x15b*0x2b),_0x451df7['indexOf']('.',_0x9281fe)),-0x1e01+-0xd+0x1e18);}return!(0x1488+0x767*0x3+0x14*-0x223);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x4a46d5){super(_0x4a46d5,'audio'),this['manager']=_0x4a46d5['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x24fb0e){const _0x1cd1f8=fe['getExtensi'+'on'](_0x24fb0e);return x2['indexOf'](_0x1cd1f8)>-(0x19da+-0x1c71+0x1*0x298)||_0x24fb0e['startsWith']('blob:');}['load'](_0x349d9d,_0x2d5b77){typeof _0x349d9d=='string'&&(_0x349d9d={'load':_0x349d9d,'original':_0x349d9d});const _0x167d8d=function(_0x18149f){_0x2d5b77(null,new Bb(_0x18149f));},_0x20f1ee=function(_0x5c6389){let _0x4701bb='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x349d9d['original'];_0x5c6389&&(_0x4701bb+=':\x20'+(_0x5c6389['message']||_0x5c6389)),console['warn'](_0x4701bb),_0x2d5b77(_0x4701bb);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x349d9d['original'])){_0x20f1ee('Audio\x20form'+'at\x20for\x20'+_0x349d9d['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x349d9d['load'],_0x167d8d,_0x20f1ee);}else _0x20f1ee(null);}['_createSou'+'nd'](_0x32ecb8,_0x2b9806,_0x46a8f5){if(Li()){const _0x5dfabd=this['manager'];if(!_0x5dfabd['context']){_0x46a8f5('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x6eb557={'retry':this['maxRetries']>-0x1ba3+0x6*-0x35a+0x2fbf,'maxRetries':this['maxRetries']};(_0x32ecb8['startsWith']('blob:')||_0x32ecb8['startsWith']('data:'))&&(_0x6eb557['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),$e['get'](_0x32ecb8,_0x6eb557,(_0x1b5e87,_0x7f9427)=>{if(_0x1b5e87){_0x46a8f5(_0x1b5e87);return;}_0x5dfabd['context']['decodeAudi'+'oData'](_0x7f9427,_0x2b9806,_0x46a8f5);});}else{let _0x22cce7=null;try{_0x22cce7=new Audio();}catch{_0x46a8f5('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0x22cce7);const _0x54b6e1=function(){_0x22cce7['removeEven'+'tListener']('canplaythr'+'ough',_0x54b6e1),Qd&&document['body']['removeChil'+'d'](_0x22cce7),_0x2b9806(_0x22cce7);};_0x22cce7['onerror']=function(){_0x22cce7['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0x22cce7),_0x46a8f5();},_0x22cce7['addEventLi'+'stener']('canplaythr'+'ough',_0x54b6e1),_0x22cce7['src']=_0x32ecb8;}}}class v2 extends Ne{constructor(_0x284fe9){super(_0x284fe9,'binary');}['load'](_0x275306,_0x2c6a21){typeof _0x275306=='string'&&(_0x275306={'load':_0x275306,'original':_0x275306}),$e['get'](_0x275306['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0x1964+0x6b0+-0x2014,'maxRetries':this['maxRetries']},(_0x11e3ec,_0x5209d0)=>{_0x11e3ec?_0x2c6a21('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x275306['original']+'\x20['+_0x11e3ec+']'):_0x2c6a21(null,_0x5209d0);});}['openBinary'](_0x1fc983){return _0x1fc983['buffer'];}}class tr{constructor(_0x2aad26,_0x3afe41,_0x269680,_0x4b00b1){const _0x5264ea=function(_0x410e87,_0x5c5628,_0x1345b5){const _0xc5337a=tr['createAsse'+'t'](_0x3afe41['name'],_0x410e87,_0x5c5628,_0x1345b5);return _0x269680['add'](_0xc5337a),_0xc5337a;},_0x45719f=[];for(let _0xf960=-0x3e3+-0x9d+0x480;_0xf960<_0x2aad26['renders']['length'];++_0xf960)_0x45719f['push'](_0x5264ea('render',_0x2aad26['renders'][_0xf960],_0xf960));const _0x245d91=[];for(let _0x2796e0=-0xba3+0x1*-0x2109+0x2cac;_0x2796e0<_0x2aad26['materials']['length'];++_0x2796e0)_0x245d91['push'](_0x5264ea('material',_0x2aad26['materials'][_0x2796e0],_0x2796e0));const _0x5623c8=[];for(let _0x492379=-0x1290+0x18af+-0x61f;_0x492379<_0x2aad26['animations']['length'];++_0x492379)_0x5623c8['push'](_0x5264ea('animation',_0x2aad26['animations'][_0x492379],_0x492379));this['data']=_0x2aad26,this['_model']=null,this['_assetName']=_0x3afe41['name'],this['_assets']=_0x269680,this['_defaultMa'+'terial']=_0x4b00b1,this['renders']=_0x45719f,this['materials']=_0x245d91,this['textures']=_0x2aad26['textures'],this['animations']=_0x5623c8;}get['model'](){if(!this['_model']){const _0x25c325=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0xab87f2=tr['createAsse'+'t'](this['_assetName'],'model',_0x25c325,-0x2*0x599+0x549+-0x5e9*-0x1);this['_assets']['add'](_0xab87f2),this['_model']=_0xab87f2;}return this['_model'];}static['createAsse'+'t'](_0x279ac4,_0x5e0ef4,_0x1d14e6,_0x495632){const _0x37c515=new le(_0x279ac4+'/'+_0x5e0ef4+'/'+_0x495632,_0x5e0ef4,{'url':''});return _0x37c515['resource']=_0x1d14e6,_0x37c515['loaded']=!(0x1*0x2e9+-0xbe0+0x8f7),_0x37c515;}['instantiat'+'eModelEnti'+'ty'](_0x245432){const _0x4717df=new We();return _0x4717df['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x245432)),_0x4717df;}['instantiat'+'eRenderEnt'+'ity'](_0x1d9917){const _0x32f589=this['_defaultMa'+'terial'],_0x4b510a=[],_0x507408=function(_0x221f3c,_0x43f9b9,_0x5940ec,_0x5e34c7,_0x37e2e9,_0x41fcb9,_0x3a3362,_0x2a9209){const _0x5a7897=_0x37e2e9[_0x5940ec['id']],_0x448f1f=_0x5a7897===void(0x46e+-0x1ef4+-0x2*-0xd43)?_0x32f589:_0x5e34c7[_0x5a7897],_0x377429=new Le(_0x5940ec,_0x448f1f);_0x5940ec['morph']&&(_0x377429['morphInsta'+'nce']=new fn(_0x5940ec['morph'])),_0x3a3362['hasOwnProp'+'erty']('skin')&&_0x4b510a['push']({'meshInstance':_0x377429,'rootBone':_0x221f3c,'entity':_0x43f9b9});const _0x445208=_0x2a9209['get'](_0x3a3362);if(_0x445208){const _0x51fbae=_0x445208['matrices'],_0x404026=Et['getDefault'+'Instancing'+'Format'](_0x5940ec['device']),_0x10175f=new os(_0x5940ec['device'],_0x404026,_0x51fbae['length']/(0x1*-0x2414+-0x1afd+0x1*0x3f21),{'data':_0x51fbae});_0x377429['setInstanc'+'ing'](_0x10175f),_0x377429['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x8b*-0x19+-0x1ab8+-0x5*-0x2a1);}return _0x377429;},_0x5d75e9=(_0x53220b,_0x2b6abe,_0x4e12fc)=>{const _0x17e2ee=new We();_0x2b6abe['_cloneInte'+'rnal'](_0x17e2ee),_0x53220b||(_0x53220b=_0x17e2ee);let _0x2c78fd=null,_0x1d41b2=null;for(let _0x22a590=0x1*-0xb66+0x2d9*-0xb+0x2ab9;_0x22a590<_0x4e12fc['nodes']['length'];_0x22a590++)if(_0x4e12fc['nodes'][_0x22a590]===_0x2b6abe){const _0x13c13d=_0x4e12fc['gltf']['nodes'][_0x22a590];if(_0x13c13d['hasOwnProp'+'erty']('mesh')){const _0x2aaab4=_0x4e12fc['renders'][_0x13c13d['mesh']]['meshes'];_0x1d41b2=this['renders'][_0x13c13d['mesh']];for(let _0x334ddc=0x9b0+0x160c+-0x7ef*0x4;_0x334ddc<_0x2aaab4['length'];_0x334ddc++){const _0x377e10=_0x2aaab4[_0x334ddc];if(_0x377e10){const _0x3c7aab=_0x507408(_0x53220b,_0x17e2ee,_0x377e10,_0x4e12fc['materials'],_0x4e12fc['meshDefaul'+'tMaterials'],_0x4e12fc['skins'],_0x13c13d,_0x4e12fc['nodeInstan'+'cingMap']);_0x2c78fd||(_0x2c78fd=[]),_0x2c78fd['push'](_0x3c7aab);}}}if(_0x4e12fc['lights']){const _0x157861=_0x4e12fc['lights']['get'](_0x13c13d);_0x157861&&_0x17e2ee['addChild'](_0x157861['clone']());}if(_0x4e12fc['cameras']){const _0x360de5=_0x4e12fc['cameras']['get'](_0x13c13d);_0x360de5&&_0x360de5['camera']['system']['cloneCompo'+'nent'](_0x360de5,_0x17e2ee);}}_0x2c78fd&&(_0x17e2ee['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x2c78fd},_0x1d9917)),_0x17e2ee['render']['assignAsse'+'t'](_0x1d41b2));const _0x27bfc1=_0x2b6abe['children'];for(let _0x46bf2a=-0x1*0x2f9+-0x1b20+0x1e19;_0x46bf2a<_0x27bfc1['length'];_0x46bf2a++){const _0x52a5b5=_0x5d75e9(_0x53220b,_0x27bfc1[_0x46bf2a],_0x4e12fc);_0x17e2ee['addChild'](_0x52a5b5);}return _0x17e2ee;},_0x1c4cf0=[];for(const _0x45be65 of this['data']['scenes'])_0x1c4cf0['push'](_0x5d75e9(null,_0x45be65,this['data']));return _0x4b510a['forEach'](_0x11a2f5=>{_0x11a2f5['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x11a2f5['meshInstan'+'ce']['mesh']['skin'],_0x11a2f5['rootBone'],_0x11a2f5['entity']),_0x11a2f5['meshInstan'+'ce']['node']['render']['rootBone']=_0x11a2f5['rootBone'];}),tr['createScen'+'eHierarchy'](_0x1c4cf0,We);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x320f4e,_0x321743){const _0x55cb7a=_0x321743?this['data']['variants'][_0x321743]:null;if(_0x55cb7a===void(-0xff2+-0x5e7*-0x4+0x3*-0x28e)){v['warn']('No\x20variant'+'\x20named\x20'+_0x321743+('\x20exists\x20in'+'\x20resource'));return;}const _0x129e32=_0x320f4e['findCompon'+'ents']('render');for(let _0x33d489=0x113d+-0x1c17*-0x1+-0x2d54;_0x33d489<_0x129e32['length'];_0x33d489++){const _0x22754d=_0x129e32[_0x33d489];this['_applyMate'+'rialVarian'+'t'](_0x55cb7a,_0x22754d['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0xd629d8,_0x1578df){const _0x110379=_0x1578df?this['data']['variants'][_0x1578df]:null;if(_0x110379===void(0x24b*-0x1+0x23b8+-0x216d)){v['warn']('No\x20variant'+'\x20named\x20'+_0x1578df+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x110379,_0xd629d8);}['_applyMate'+'rialVarian'+'t'](_0x4c462f,_0x4c476a){_0x4c476a['forEach'](_0x1d7943=>{if(_0x4c462f===null)_0x1d7943['material']=this['_defaultMa'+'terial'];else{const _0x10dcf6=this['data']['meshVarian'+'ts'][_0x1d7943['mesh']['id']];_0x10dcf6&&(_0x1d7943['material']=this['data']['materials'][_0x10dcf6[_0x4c462f]]);}v['assert'](_0x1d7943['material']);});}static['createScen'+'eHierarchy'](_0x3659b8,_0xbaa8a0){let _0x546f37=null;if(_0x3659b8['length']===0x2085+0x55b*-0x7+0x13*0x43)_0x546f37=_0x3659b8[0x1*-0x20ff+-0x165+0x2264];else{_0x546f37=new _0xbaa8a0('SceneGroup');for(const _0x3cd608 of _0x3659b8)_0x546f37['addChild'](_0x3cd608);}return _0x546f37;}static['createMode'+'l'](_0xfd2d65,_0x35e3d2){const _0x5cb6d3=function(_0x104258,_0x5d0f93,_0x42ca28,_0x2049d8,_0x247c21,_0x214e65,_0x5d8029){const _0x9d10a8=_0xfd2d65['meshDefaul'+'tMaterials'][_0x5d0f93['id']],_0x2e57ea=_0x9d10a8===void(-0x8*0x377+0x128e+0x92a)?_0x35e3d2:_0x247c21[_0x9d10a8],_0x1fcbd5=new Le(_0x5d0f93,_0x2e57ea,_0x214e65);if(_0x5d0f93['morph']){const _0x3a97d4=new fn(_0x5d0f93['morph']);_0x1fcbd5['morphInsta'+'nce']=_0x3a97d4,_0x104258['morphInsta'+'nces']['push'](_0x3a97d4);}if(_0x5d8029['hasOwnProp'+'erty']('skin')){const _0x7d499d=_0x5d8029['skin'],_0x5c1989=_0x42ca28[_0x7d499d];_0x5d0f93['skin']=_0x5c1989;const _0x31ba58=_0x2049d8[_0x7d499d];_0x1fcbd5['skinInstan'+'ce']=_0x31ba58,_0x104258['skinInstan'+'ces']['push'](_0x31ba58);}_0x104258['meshInstan'+'ces']['push'](_0x1fcbd5);},_0x292756=new Oi(),_0x103ef0=[];for(const _0x5845e3 of _0xfd2d65['skins']){const _0x100ffa=new nl(_0x5845e3);_0x100ffa['bones']=_0x5845e3['bones'],_0x103ef0['push'](_0x100ffa);}_0x292756['graph']=tr['createScen'+'eHierarchy'](_0xfd2d65['scenes'],De);for(let _0xd08f23=-0x1ec8+-0x6ce+0x11b*0x22;_0xd08f23<_0xfd2d65['nodes']['length'];_0xd08f23++){const _0x524b18=_0xfd2d65['nodes'][_0xd08f23];if(_0x524b18['root']===_0x292756['graph']){const _0x5c33e1=_0xfd2d65['gltf']['nodes'][_0xd08f23];if(_0x5c33e1['hasOwnProp'+'erty']('mesh')){const _0x1ed45c=_0xfd2d65['renders'][_0x5c33e1['mesh']]['meshes'];for(let _0x59f5c9=-0x1cb5+0x20b+-0x1*-0x1aaa;_0x59f5c9<_0x1ed45c['length'];_0x59f5c9++){const _0x481bd7=_0x1ed45c[_0x59f5c9];_0x481bd7&&_0x5cb6d3(_0x292756,_0x481bd7,_0xfd2d65['skins'],_0x103ef0,_0xfd2d65['materials'],_0x524b18,_0x5c33e1);}}}}return _0x292756;}['destroy'](){const _0xcaa848=this['_assets'],_0x11c9f3=function(_0x46f220){_0xcaa848['remove'](_0x46f220),_0x46f220['unload']();},_0x48177f=function(_0x2a0e23){_0x2a0e23['forEach'](_0x530523=>{_0x11c9f3(_0x530523);});};this['animations']&&(_0x48177f(this['animations']),this['animations']=null),this['textures']&&(_0x48177f(this['textures']),this['textures']=null),this['materials']&&(_0x48177f(this['materials']),this['materials']=null),this['renders']&&(_0x48177f(this['renders']),this['renders']=null),this['_model']&&(_0x11c9f3(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x3d33a0,_0x253716,_0x477651){this['_device']=_0x3d33a0,this['_assets']=_0x253716,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x477651;}['_getUrlWit'+'houtParams'](_0x5457d2){return _0x5457d2['indexOf']('?')>=-0xe74+-0x1154+0x1fc8?_0x5457d2['split']('?')[-0x115e+0x1e4e+0x45*-0x30]:_0x5457d2;}['load'](_0x4bffab,_0x31b87e,_0xb636fb){le['fetchArray'+'Buffer'](_0x4bffab['load'],(_0x456609,_0x562a56)=>{_0x456609?_0x31b87e(_0x456609):tc['parse'](this['_getUrlWit'+'houtParams'](_0x4bffab['original']),fe['extractPat'+'h'](_0x4bffab['load']),_0x562a56,this['_device'],_0xb636fb['registry'],_0xb636fb['options'],(_0x37cec1,_0x2f5044)=>{_0x37cec1?_0x31b87e(_0x37cec1):_0x31b87e(null,new tr(_0x2f5044,_0xb636fb,this['_assets'],this['_defaultMa'+'terial']));});},_0xb636fb,this['maxRetries']);}['open'](_0x15b1ae,_0x20f781,_0x38fa84){return _0x20f781;}['patch'](_0x2715b3,_0xa2f180){}}class w2 extends Ne{constructor(_0x4b40d7){super(_0x4b40d7,'container'),this['glbContain'+'erParser']=new b2(_0x4b40d7['graphicsDe'+'vice'],_0x4b40d7['assets'],0x2437+0x1c5a+-0x1*0x4091),this['parsers']={};}set['maxRetries'](_0x5e32a0){this['glbContain'+'erParser']['maxRetries']=_0x5e32a0;for(const _0x3cc4bc in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x3cc4bc)&&(this['parsers'][_0x3cc4bc]['maxRetries']=_0x5e32a0);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x449b50){return _0x449b50['indexOf']('?')>=-0x512+0x14*0x159+-0x15e2?_0x449b50['split']('?')[0x1b7f*-0x1+0x1c9f+-0x6*0x30]:_0x449b50;}['_getParser'](_0x4dd9ac){const _0x3aacaf=_0x4dd9ac?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x4dd9ac))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x3aacaf]||this['glbContain'+'erParser'];}['load'](_0x41fae8,_0x22f957,_0x1bb8dd){typeof _0x41fae8=='string'&&(_0x41fae8={'load':_0x41fae8,'original':_0x41fae8}),this['_getParser'](_0x41fae8['original'])['load'](_0x41fae8,_0x22f957,_0x1bb8dd);}['open'](_0x562113,_0x3a5e28,_0x47d5ad){return this['_getParser'](_0x562113)['open'](_0x562113,_0x3a5e28,_0x47d5ad);}}class T2 extends Ne{constructor(_0x2c613f){super(_0x2c613f,'css'),c(this,'decoder',null);}['load'](_0x6e9859,_0x50dacc){typeof _0x6e9859=='string'&&(_0x6e9859={'load':_0x6e9859,'original':_0x6e9859}),$e['get'](_0x6e9859['load'],{'retry':this['maxRetries']>0xa2+0x1*-0x277+0x1d5,'maxRetries':this['maxRetries']},(_0x46e774,_0x4c2519)=>{_0x46e774?_0x50dacc('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x6e9859['original']+'\x20['+_0x46e774+']'):_0x50dacc(null,_0x4c2519);});}['openBinary'](_0x4bd264){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4bd264);}}class A2 extends Ne{constructor(_0x5296ea){super(_0x5296ea,'cubemap'),this['_device']=_0x5296ea['graphicsDe'+'vice'],this['_registry']=_0x5296ea['assets'],this['_loader']=_0x5296ea['loader'];}['load'](_0x176483,_0x19661c,_0x4355ef){this['loadAssets'](_0x4355ef,_0x19661c);}['open'](_0x50b4b6,_0xf1ab9a,_0x1562e1){return _0x1562e1?_0x1562e1['resource']:null;}['patch'](_0x16889f,_0x57053a){this['loadAssets'](_0x16889f,(_0x2c4219,_0xbcfc00)=>{_0x2c4219&&(_0x57053a['fire']('error',_0x16889f),_0x57053a['fire']('error:'+_0x16889f['id'],_0x2c4219,_0x16889f),_0x16889f['fire']('error',_0x16889f));});}['getAssetId'+'s'](_0x49d600){const _0x473752=[];if(_0x473752[-0x2*-0x71e+0x1ebf+-0xf5*0x2f]=_0x49d600['file'],(_0x49d600['loadFaces']||!_0x49d600['file'])&&_0x49d600['data']&&_0x49d600['data']['textures']){for(let _0xc18b68=0x9*-0x38d+0x69d*0x1+0x32b*0x8;_0xc18b68<0x130b*-0x2+-0x33*-0x2+-0x649*-0x6;++_0xc18b68)_0x473752[_0xc18b68+(-0x1*-0x2b4+-0xade*-0x1+0x1*-0xd91)]=_0x49d600['data']['textures'][_0xc18b68];}else _0x473752[-0x1aff*0x1+0x1*-0x160f+0x295*0x13]=_0x473752[0x212d+-0xab9+-0x1672]=_0x473752[-0x17*-0xdf+-0x1*-0x10ab+-0x24b1]=_0x473752[0x1f23+-0x1a*0x11d+-0x1*0x22d]=_0x473752[0x1808+0x3*-0xcb3+-0x4b2*-0x3]=_0x473752[-0x391*-0x8+-0x66d*0x6+0xa0c]=null;return _0x473752;}['compareAss'+'etIds'](_0x62b8e6,_0x459926){return _0x62b8e6&&_0x459926?parseInt(_0x62b8e6,0x2429+0xa7*-0x11+-0x1908)===_0x62b8e6||typeof _0x62b8e6=='string'?_0x62b8e6===_0x459926:_0x62b8e6['url']===_0x459926['url']:_0x62b8e6!==null==(_0x459926!==null);}['update'](_0x6c84c5,_0x2b3627,_0x2685a7){const _0x5aaf15=_0x6c84c5['data']||{},_0x5efb3c=_0x6c84c5['_handlerSt'+'ate']['assets'],_0x4038ad=_0x6c84c5['_resources'];let _0x56489a,_0x5680e5,_0x6e237f;const _0x2a4283=[null,null,null,null,null,null,null],_0x391d32=function(){return _0x5aaf15['hasOwnProp'+'erty']('type')?_0x5aaf15['type']:_0x5aaf15['hasOwnProp'+'erty']('rgbm')?_0x5aaf15['rgbm']?on:Di:null;};if(!_0x6c84c5['loaded']||_0x2685a7[-0x36*0x11+-0x927+-0xcbd*-0x1]!==_0x5efb3c[0x1*0x1149+-0x26*0xc4+0xbcf]){if(_0x2685a7[-0xfa0+-0x9ad*0x1+-0x194d*-0x1]){if(_0x56489a=_0x2685a7[-0xb*0x2ce+0xad1*-0x2+-0x2*-0x1a3e]['resource'],_0x56489a['cubemap']){for(_0x6e237f=-0x139a*0x1+-0xf28+-0x1*-0x22c2;_0x6e237f<-0x9b+-0x67e+0x1*0x71f;++_0x6e237f)_0x2a4283[_0x6e237f+(-0xfc1+0x1*-0x17a7+0x3*0xd23)]=new he(this['_device'],{'name':_0x6c84c5['name']+('_prelitCub'+'emap')+(_0x56489a['width']>>_0x6e237f),'cubemap':!(-0x1f9*0x6+-0x709+0x1*0x12df),'type':_0x391d32()||_0x56489a['type'],'width':_0x56489a['width']>>_0x6e237f,'height':_0x56489a['height']>>_0x6e237f,'format':_0x56489a['format'],'levels':[_0x56489a['_levels'][_0x6e237f]],'addressU':ae,'addressV':ae,'mipmaps':_0x6e237f===-0xfea+-0x2*0xcd8+-0x1aa*-0x19});}else _0x2a4283[-0x675+-0x10c1+0x1737]=_0x56489a;}}else _0x2a4283[0x2d*0x3a+-0xbc5*0x2+0xd59]=_0x4038ad[0x2362*0x1+-0x19b9+-0x9a8]||null,_0x2a4283[0x174b+-0x24b*0xc+0x43b]=_0x4038ad[0x20a3+0xc86+-0x1*0x2d27]||null,_0x2a4283[-0x56*-0x72+-0x73*0x17+-0x1bf4]=_0x4038ad[-0x11c5+-0x1a6e*-0x1+0x52*-0x1b]||null,_0x2a4283[0xf28+-0x18*0x16d+0x2*0x98a]=_0x4038ad[-0x2*0x160+-0x2450+0x2714]||null,_0x2a4283[-0x5*-0x63d+0x1*-0x21c9+-0x3*-0xdf]=_0x4038ad[0x1875*-0x1+0x69f+-0x7*-0x28d]||null,_0x2a4283[-0x6dd+-0x2676+-0x37d*-0xd]=_0x4038ad[-0x1ec1+0xeb4+0x1*0x1013]||null;const _0x5274ee=_0x2685a7['slice'](-0x4*0x21d+-0x8aa+0x111f);if(!_0x6c84c5['loaded']||!this['cmpArrays'](_0x5274ee,_0x5efb3c['slice'](-0x137*0x1b+-0xde2+-0x1f2*-0x18))){if(_0x5274ee['indexOf'](null)===-(-0x22e1+-0x11*-0x6b+0x1bc7)){const _0x3874bd=_0x5274ee['map'](_0x3dee50=>_0x3dee50['resource']),_0x3d44c4=[];for(_0x5680e5=0x7ce+-0x15c*0xe+-0x1*-0xb3a;_0x5680e5<_0x3874bd[0x21f+-0xf3b+0xd1c]['_levels']['length'];++_0x5680e5)_0x3d44c4['push'](_0x3874bd['map'](_0x52b765=>_0x52b765['_levels'][_0x5680e5]));const _0x5673d7=_0x3874bd[-0x239d+0x18*0xde+0xecd*0x1]['format'],_0x14d51b=new he(this['_device'],{'name':_0x6c84c5['name']+'_faces','cubemap':!(-0x3*-0x275+-0x2cf*0x4+-0x17*-0x2b),'type':_0x391d32()||_0x3874bd[0x77*0x18+-0x5*-0x3ee+-0xf67*0x2]['type'],'width':_0x3874bd[0x1*0x1904+-0x242+-0xb61*0x2]['width'],'height':_0x3874bd[0x4bd+0x8b*-0x3+-0x31c]['height'],'format':_0x5673d7===dr?Se:_0x5673d7,'mipmaps':_0x5aaf15['mipmaps']??!(0x51*0x56+0x2b*0x7f+0x121*-0x2b),'levels':_0x3d44c4,'minFilter':_0x5aaf15['hasOwnProp'+'erty']('minFilter')?_0x5aaf15['minFilter']:_0x3874bd[0xd2b+0x6ee*0x5+-0x2fd1]['minFilter'],'magFilter':_0x5aaf15['hasOwnProp'+'erty']('magFilter')?_0x5aaf15['magFilter']:_0x3874bd[-0xcde+-0x1497+0x2175]['magFilter'],'anisotropy':_0x5aaf15['hasOwnProp'+'erty']('anisotropy')?_0x5aaf15['anisotropy']:-0x5c7+-0x85f*-0x1+-0x297,'addressU':ae,'addressV':ae});_0x2a4283[-0xd1e*0x1+-0x4b9+0x11d7]=_0x14d51b;}}else _0x2a4283[-0x12ce+0x3dd+-0x33*-0x4b]=_0x4038ad[-0x4*-0x251+0x9*-0x26f+-0x287*-0x5]||null;if(!this['cmpArrays'](_0x2a4283,_0x4038ad)){for(_0x6c84c5['resources']=_0x2a4283,_0x6c84c5['_handlerSt'+'ate']['assetIds']=_0x2b3627,_0x6c84c5['_handlerSt'+'ate']['assets']=_0x2685a7,_0x6e237f=-0xfda+-0x1a8c+0x2a66;_0x6e237f<_0x4038ad['length'];++_0x6e237f)_0x4038ad[_0x6e237f]!==null&&_0x2a4283['indexOf'](_0x4038ad[_0x6e237f])===-(-0x4c*-0x69+-0x10*0x8b+-0x167b)&&_0x4038ad[_0x6e237f]['destroy']();}for(_0x6e237f=0x2398+0x2e4+-0x133e*0x2;_0x6e237f<_0x5efb3c['length'];++_0x6e237f)_0x5efb3c[_0x6e237f]!==null&&_0x2685a7['indexOf'](_0x5efb3c[_0x6e237f])===-(0x1*0x1961+0xbe0+-0x2540)&&_0x5efb3c[_0x6e237f]['unload']();}['cmpArrays'](_0x46d51a,_0x1e07a9){if(_0x46d51a['length']!==_0x1e07a9['length'])return!(0x500+-0x11eb+0xcec);for(let _0x12fa2b=0x1704+0x1*-0x1a8c+0x1c4*0x2;_0x12fa2b<_0x46d51a['length'];++_0x12fa2b)if(_0x46d51a[_0x12fa2b]!==_0x1e07a9[_0x12fa2b])return!(0x1845+0x141e+0x2c62*-0x1);return!(0x3d7+-0x34f+-0x88);}['resolveId'](_0x3bcf75){const _0x3efee2=parseInt(_0x3bcf75,0x22*0x61+-0x20fd+0x1425);return _0x3efee2===_0x3bcf75||_0x3efee2['toString']()===_0x3bcf75?_0x3efee2:_0x3bcf75;}['loadAssets'](_0x42f876,_0x1a8c07){_0x42f876['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x42f876['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x44952e=this,_0x9e025=_0x44952e['getAssetId'+'s'](_0x42f876),_0x2da673=[null,null,null,null,null,null,null],_0x3b0a50=_0x42f876['_handlerSt'+'ate']['assetIds'],_0x56cbe7=_0x42f876['_handlerSt'+'ate']['assets'],_0xc6d190=_0x44952e['_registry'];let _0x5ec836=-0xc8b*0x3+0x1db3+0x7f5;const _0xb5d3ad=function(_0x43389f,_0x448a49){_0x2da673[_0x43389f]=_0x448a49,_0x5ec836--,_0x5ec836===0xb*-0x24b+0xb*0x54+0x159d&&(_0x44952e['update'](_0x42f876,_0x9e025,_0x2da673),_0x1a8c07(null,_0x42f876['resources']));},_0x20957b=function(_0x12dae6,_0x59894f,_0xc93e35){_0x1a8c07(_0x59894f);},_0x5c0606=function(_0x4f6e0a,_0x182374){_0x182374['loaded']?_0xb5d3ad(_0x4f6e0a,_0x182374):(_0xc6d190['once']('load:'+_0x182374['id'],_0xb5d3ad['bind'](_0x44952e,_0x4f6e0a)),_0xc6d190['once']('error:'+_0x182374['id'],_0x20957b['bind'](_0x44952e,_0x4f6e0a)),_0x182374['loading']||_0xc6d190['load'](_0x182374));};let _0x4078e1;for(let _0x18b4ef=0x225b+0xb40+0x19*-0x1d3;_0x18b4ef<-0x1ec3+-0xa8a+-0xa55*-0x4;++_0x18b4ef){const _0x6a9bec=this['resolveId'](_0x9e025[_0x18b4ef]);if(!_0x6a9bec)_0xb5d3ad(_0x18b4ef,null);else{if(_0x44952e['compareAss'+'etIds'](_0x6a9bec,_0x3b0a50[_0x18b4ef]))_0x5c0606(_0x18b4ef,_0x56cbe7[_0x18b4ef]);else{if(parseInt(_0x6a9bec,-0x67e+-0x2ab+0x933)===_0x6a9bec)_0x4078e1=_0xc6d190['get'](_0x6a9bec),_0x4078e1?_0x5c0606(_0x18b4ef,_0x4078e1):setTimeout(((_0x149a36,_0x219ead)=>{const _0x1489cc=_0xc6d190['get'](_0x219ead);_0x1489cc?_0x5c0606(_0x149a36,_0x1489cc):_0x20957b(_0x149a36,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x219ead);})['bind'](null,_0x18b4ef,_0x6a9bec));else{const _0x40b9a6=typeof _0x6a9bec=='string'?{'url':_0x6a9bec,'filename':_0x6a9bec}:_0x6a9bec,_0x2484d3=_0x40b9a6['url']['search']('.dds')===-(-0x1843+0x2580+0x4d*-0x2c)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x1ced+0x2576*0x1+-0x4262)}:null;_0x4078e1=new le(_0x42f876['name']+'_part_'+_0x18b4ef,'texture',_0x40b9a6,_0x2484d3),_0xc6d190['add'](_0x4078e1),_0x5c0606(_0x18b4ef,_0x4078e1);}}}}}}class E2 extends Ne{constructor(_0x4a136c){super(_0x4a136c,'folder');}['load'](_0xcc6e3d,_0x3f3676){_0x3f3676(null,null);}}class Ng{constructor(_0x556fc9,_0x525808){this['type']=_0x525808&&_0x525808['type']||Kh,this['em']=-0x252c+0x1*-0x2a9+-0x27d6*-0x1,this['textures']=_0x556fc9,this['intensity']=-0x34*0x10+0x1*-0x1072+0x13b2,this['_data']=null,this['data']=_0x525808;}set['data'](_0x4d0768){if(this['_data']=_0x4d0768,!!_0x4d0768&&(this['_data']['intensity']!==void(-0x1134+0xcf2+0x442)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0xfe2+0x259*-0x10+0x2*0xad8)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x296a59 in this['_data']['chars'])this['_data']['chars'][_0x296a59]['map']=0x2cf*-0x1+-0x90e+0xbdd*0x1;}}get['data'](){return this['_data'];}}function Jd(_0x48ee04){return _0x48ee04['version']<-0x24a2+0x2553+-0xae&&(_0x48ee04['version']<0x19b*-0x2+0x9a+0x29e&&(_0x48ee04['info']['maps']=_0x48ee04['info']['maps']||[{'width':_0x48ee04['info']['width'],'height':_0x48ee04['info']['height']}]),_0x48ee04['chars']=Object['keys'](_0x48ee04['chars']||{})['reduce']((_0x40dfb0,_0x10fe7a)=>{const _0x34d22e=_0x48ee04['chars'][_0x10fe7a],_0x252b5f=_0x34d22e['letter']!==void(0x1c0e+-0x1*0x1873+0x47*-0xd)?_0x34d22e['letter']:ah['fromCodePo'+'int'](_0x10fe7a);return _0x48ee04['version']<-0x7*0x36f+-0xd09+0x2514&&(_0x34d22e['map']=_0x34d22e['map']||0x3*-0x2d9+0x1*0xce5+-0x45a),_0x40dfb0[_0x252b5f]=_0x34d22e,_0x40dfb0;},{}),_0x48ee04['version']=-0xdab+0xcdb+0xd3*0x1),_0x48ee04;}class C2 extends Ne{constructor(_0x3719c1){super(_0x3719c1,'font'),this['_loader']=_0x3719c1['loader'],this['maxRetries']=-0x2225+-0x1b94+0x3db9;}['load'](_0x59f180,_0x4f4709,_0x3cd564){typeof _0x59f180=='string'&&(_0x59f180={'load':_0x59f180,'original':_0x59f180});const _0x6cb1d6=this;fe['getExtensi'+'on'](_0x59f180['original'])==='.json'?$e['get'](_0x59f180['load'],{'retry':this['maxRetries']>0x686+0x1*-0x2af+-0x3d7,'maxRetries':this['maxRetries']},(_0xaab017,_0x2f9768)=>{if(_0xaab017)_0x4f4709('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x59f180['original']+'\x20['+_0xaab017+']');else{const _0x3d00c4=Jd(_0x2f9768);_0x6cb1d6['_loadTextu'+'res'](_0x59f180['load']['replace']('.json','.png'),_0x3d00c4,(_0x5c9900,_0x2e37eb)=>{_0x5c9900?_0x4f4709(_0x5c9900):_0x4f4709(null,{'data':_0x3d00c4,'textures':_0x2e37eb});});}}):(_0x3cd564&&_0x3cd564['data']&&(_0x3cd564['data']=Jd(_0x3cd564['data'])),this['_loadTextu'+'res'](_0x59f180['load'],_0x3cd564&&_0x3cd564['data'],_0x4f4709));}['_loadTextu'+'res'](_0x211a56,_0xab51da,_0x342cfe){const _0xbb0e75=_0xab51da['info']['maps']['length'];let _0xb6a4ae=-0x1*-0x5fd+-0x226d+0x2d8*0xa,_0x4d4eb5=null;const _0x3437c4=new Array(_0xbb0e75),_0x58869a=this['_loader'],_0x38688c=function(_0x31b604){const _0x1dbe3c=function(_0x3df892,_0x4ba1b4){if(!_0x4d4eb5){if(_0x3df892){_0x4d4eb5=_0x3df892,_0x342cfe(_0x3df892);return;}_0x4ba1b4['upload'](),_0x3437c4[_0x31b604]=_0x4ba1b4,_0xb6a4ae++,_0xb6a4ae===_0xbb0e75&&_0x342cfe(null,_0x3437c4);}};_0x31b604===-0x21e*-0xd+0xdf*-0x17+0x77d*-0x1?_0x58869a['load'](_0x211a56,'texture',_0x1dbe3c):_0x58869a['load'](_0x211a56['replace']('.png',_0x31b604+'.png'),'texture',_0x1dbe3c);};for(let _0x41a3d5=-0x21b6+-0x347*0x5+0x10b3*0x3;_0x41a3d5<_0xbb0e75;_0x41a3d5++)_0x38688c(_0x41a3d5);}['open'](_0x14096e,_0x4009e0,_0x59c81e){let _0x3959c1;return _0x4009e0['textures']?_0x3959c1=new Ng(_0x4009e0['textures'],_0x4009e0['data']):_0x3959c1=new Ng(_0x4009e0,null),_0x3959c1;}['patch'](_0x352496,_0x100310){const _0x4e03da=_0x352496['resource'];!_0x4e03da['data']&&_0x352496['data']?_0x4e03da['data']=_0x352496['data']:!_0x352496['data']&&_0x4e03da['data']&&(_0x352496['data']=_0x4e03da['data']),_0x352496['data']&&(_0x352496['data']=Jd(_0x352496['data']));}}async function M2(){const _0x3e3fc7=0x247d+-0x121a+-0x1263+0.28209479177387814;class _0x25d8e2{constructor(_0x5beae0,_0xaefe58,_0x7c43ad){this['x']=_0x5beae0,this['y']=_0xaefe58,this['z']=_0x7c43ad;}}class _0x15f509{constructor(_0x2bd393,_0x43ab05,_0x229b7f,_0x425a54){this['x']=_0x2bd393,this['y']=_0x43ab05,this['z']=_0x229b7f,this['w']=_0x425a54;}}class _0x1e8e37{constructor(_0x5e4831,_0x504c28,_0x3f5dae,_0x57c82b){this['x']=_0x5e4831,this['y']=_0x504c28,this['z']=_0x3f5dae,this['w']=_0x57c82b;}['set'](_0x58a305,_0x3e9515,_0x422662,_0x22774f){this['x']=_0x58a305,this['y']=_0x3e9515,this['z']=_0x422662,this['w']=_0x22774f;}}class _0x35ad28{constructor(_0x7b0326,_0x52688f,_0x4a678d,_0x326b4c,_0x52ae22,_0x7e647f,_0x2bec15,_0x4b3631,_0x4748c0,_0x4c1a19,_0x36e167,_0x3733e9){const _0x390ffb=(_0xfff8a0,_0x2c7f9b)=>{const _0x9e9f46=(0x9d4+0x1327+-0x1cfa<<_0x2c7f9b)-(-0x325*-0x1+-0x1f72+-0x1c4e*-0x1);return(_0xfff8a0&_0x9e9f46)/_0x9e9f46;},_0x1dd1f0=(_0x18c3c1,_0x8bce49)=>{_0x18c3c1['x']=_0x390ffb(_0x8bce49>>>-0x5*0x69d+0xa6c+0x16ba,0x1342+0x2046*-0x1+0xd0f),_0x18c3c1['y']=_0x390ffb(_0x8bce49>>>0xce+-0x2e5+0x222,0x79b+0x15ef+0x40*-0x76),_0x18c3c1['z']=_0x390ffb(_0x8bce49,0x32d+0x587*-0x1+0x265);},_0x2c7272=(_0x3ca804,_0x538a81)=>{_0x3ca804['x']=_0x390ffb(_0x538a81>>>-0x2179*-0x1+-0x5d9+-0x1*0x1b88,0x20a8+0x1c31+-0x3cd1),_0x3ca804['y']=_0x390ffb(_0x538a81>>>0xa82+-0x6f1*0x2+0x370,-0x1*0x18d1+-0x1a15+0x32ee),_0x3ca804['z']=_0x390ffb(_0x538a81>>>-0x1b*0x15d+0x15c7+0xf10,-0x13*0x110+0xe07+0x631),_0x3ca804['w']=_0x390ffb(_0x538a81,-0x1*-0xc77+0x2321+-0x2*0x17c8);},_0x4045e0=(_0xdb0b5b,_0x54581e)=>{const _0x55e94f=(0x1da3+0x1efa+0x24*-0x1af)/(Math['sqrt'](-0x1d5e*-0x1+0x1a22+-0x377e)*(-0x16c9+-0x21a3+0x386c+0.5)),_0x4cfd7c=(_0x390ffb(_0x54581e>>>-0x4bd*0x8+0x529+0x20d3,0x27*0x3+-0x23f*-0x6+-0xde5)-(0x1*0x1727+-0x2170+-0xa49*-0x1+0.5))*_0x55e94f,_0x2c3a64=(_0x390ffb(_0x54581e>>>-0x380+-0x1d12*0x1+0x827*0x4,-0x25*-0x14+-0x2*-0x6e7+0x8*-0x215)-(0xd46*-0x2+0x1d63*-0x1+0x37ef+0.5))*_0x55e94f,_0x25bdab=(_0x390ffb(_0x54581e,-0x113d*-0x2+-0x219c+-0xd4)-(0x1510+-0x1844+0x52*0xa+0.5))*_0x55e94f,_0x5e1941=Math['sqrt'](0xe*0xb7+0x17ff+-0x2200-(_0x4cfd7c*_0x4cfd7c+_0x2c3a64*_0x2c3a64+_0x25bdab*_0x25bdab));switch(_0x54581e>>>0x2*-0x9cb+0x1*-0x16af+0x2a63){case-0x1a63+-0xac6*0x2+0x6d9*0x7:_0xdb0b5b['set'](_0x4cfd7c,_0x2c3a64,_0x25bdab,_0x5e1941);break;case 0x257*0xf+-0x38*0x2+-0x4*0x8aa:_0xdb0b5b['set'](_0x5e1941,_0x2c3a64,_0x25bdab,_0x4cfd7c);break;case-0x1*0x11a1+-0x1*0x135f+0xc56*0x3:_0xdb0b5b['set'](_0x2c3a64,_0x5e1941,_0x25bdab,_0x4cfd7c);break;case-0x9a1*0x1+-0x508+0xeac:_0xdb0b5b['set'](_0x2c3a64,_0x25bdab,_0x5e1941,_0x4cfd7c);break;}},_0x237ef6=(_0x55fa7e,_0x7c2e04,_0xf5e9ff)=>_0x55fa7e*(0x1365+-0xb5*0x32+0xff6-_0xf5e9ff)+_0x7c2e04*_0xf5e9ff,_0xe8f4f=[-0x3*-0x9bb+0x139c+-0x30ca*0x1,0xb*0x1a0+0x212f+-0x3307,0x1*0x1fc4+0x39e*-0x9+0x7*0x1f][_0x52ae22-(-0xc7f+0x825*0x1+0x5*0xdf)],_0x1f599e=0x802+-0x856+0x1*0x5a;this['read']=_0x459d6f=>{const _0x5ae803=Math['floor'](_0x459d6f/(-0x116e+0x1b9f+-0x931))*_0x52688f;if(_0x7e647f&&(_0x1dd1f0(_0x7e647f,_0x4a678d[_0x459d6f*_0x1f599e+(-0x971*0x1+-0x399+0xd0a)]),_0x7e647f['x']=_0x237ef6(_0x7b0326[_0x5ae803+(0x14f3+0x2294+-0x3787)],_0x7b0326[_0x5ae803+(-0x198+0x2a*-0xba+0x201f*0x1)],_0x7e647f['x']),_0x7e647f['y']=_0x237ef6(_0x7b0326[_0x5ae803+(0x8e1+-0x1*0xd79+0x499)],_0x7b0326[_0x5ae803+(0x25ff+0x701+-0x2cfc)],_0x7e647f['y']),_0x7e647f['z']=_0x237ef6(_0x7b0326[_0x5ae803+(0x11*0xc1+-0x256f+0x18a0)],_0x7b0326[_0x5ae803+(0x1*0x11b6+0x5*-0x448+-0x3b7*-0x1)],_0x7e647f['z'])),_0x2bec15&&_0x4045e0(_0x2bec15,_0x4a678d[_0x459d6f*_0x1f599e+(0xed1*0x1+-0x3*-0xcc5+0x9*-0x5e7)]),_0x4b3631&&(_0x1dd1f0(_0x4b3631,_0x4a678d[_0x459d6f*_0x1f599e+(-0x1*-0x19a3+-0x1*-0x1ae9+0x10d*-0x32)]),_0x4b3631['x']=_0x237ef6(_0x7b0326[_0x5ae803+(0xfc6+0x12d9+-0x2299)],_0x7b0326[_0x5ae803+(0x169*0xe+0x2*0x821+-0x23f7)],_0x4b3631['x']),_0x4b3631['y']=_0x237ef6(_0x7b0326[_0x5ae803+(-0x10b1*-0x1+-0x13bc+-0x312*-0x1)],_0x7b0326[_0x5ae803+(0x4*-0xa9+0x65b+0x3ad*-0x1)],_0x4b3631['y']),_0x4b3631['z']=_0x237ef6(_0x7b0326[_0x5ae803+(0x137*-0x1f+0x2389+-0x18*-0x17)],_0x7b0326[_0x5ae803+(0xe05*0x1+-0x1*0x581+-0x879)],_0x4b3631['z'])),_0x4748c0&&(_0x2c7272(_0x4748c0,_0x4a678d[_0x459d6f*_0x1f599e+(0x209b*0x1+-0x1165*-0x2+-0xfa*0x45)]),_0x52688f>-0x1b1d+-0xfed+-0x158b*-0x2&&(_0x4748c0['x']=_0x237ef6(_0x7b0326[_0x5ae803+(-0x55*-0x74+0x915+-0x2f8d)],_0x7b0326[_0x5ae803+(-0x23f8*-0x1+0x1afc*0x1+-0x3ee5)],_0x4748c0['x']),_0x4748c0['y']=_0x237ef6(_0x7b0326[_0x5ae803+(-0x31c*0x5+0x23d4+-0x143b)],_0x7b0326[_0x5ae803+(-0x142f*0x1+-0xed6+0x503*0x7)],_0x4748c0['y']),_0x4748c0['z']=_0x237ef6(_0x7b0326[_0x5ae803+(-0x170f+0x28a+-0x1493*-0x1)],_0x7b0326[_0x5ae803+(0x15*-0x10f+0x3*-0x4e+0x1736)],_0x4748c0['z']))),_0x4c1a19&&(_0x1dd1f0(_0x4c1a19,_0x4a678d[_0x459d6f*_0x1f599e+(-0x1ea7+0xe51+0x105a)]),_0x4c1a19['x']=_0x237ef6(_0x7b0326[_0x5ae803+(0x1925*-0x1+-0x170a+0x3041)],_0x7b0326[_0x5ae803+(-0xd8a+-0xf28+0x1cc7)],_0x4c1a19['x']),_0x4c1a19['y']=_0x237ef6(_0x7b0326[_0x5ae803+(-0x15e2+-0x610+0x1c05)],_0x7b0326[_0x5ae803+(-0xd9*0x17+-0x1b68+-0x17*-0x20b)],_0x4c1a19['y']),_0x4c1a19['z']=_0x237ef6(_0x7b0326[_0x5ae803+(-0x62b+-0x4a0+-0x1*-0xadf)],_0x7b0326[_0x5ae803+(-0x3a*-0x3a+-0x563+-0x7aa)],_0x4c1a19['z'])),_0x36e167&&(_0x1dd1f0(_0x36e167,_0x4a678d[_0x459d6f*_0x1f599e+(0x3e2+-0x1793+0x57*0x3a)]),_0x36e167['x']=_0x237ef6(_0x7b0326[_0x5ae803+(0x1*-0xd70+0x1d0a+-0xf82)],_0x7b0326[_0x5ae803+(0x14e7+0x47b+-0x1949)],_0x36e167['x']),_0x36e167['y']=_0x237ef6(_0x7b0326[_0x5ae803+(0xba1+-0x1*-0xfd3+-0x1b5a)],_0x7b0326[_0x5ae803+(0x1*0x1579+-0x301*-0xc+0x2*-0x1cb5)],_0x36e167['y'])),_0x3733e9&&_0x52ae22>-0x4b7+0x1fd3+-0x1b1c){for(let _0x5a0702=-0x8f1+0x1c73+-0x1382;_0x5a0702<0x10a0+0x1*0x3fb+-0x1498;++_0x5a0702)for(let _0x5db69d=0x1*0x210c+0xd3+0x1*-0x21df;_0x5db69d<0x1535*0x1+0x16df+-0x2c05;++_0x5db69d)_0x3733e9[_0x5a0702*(0x67*-0x2f+0x12e2*-0x1+0x25da)+_0x5db69d]=_0x5db69d<_0xe8f4f?_0x326b4c[(_0x459d6f*(-0x127d*0x1+-0xaea*-0x1+0x796)+_0x5a0702)*_0xe8f4f+_0x5db69d]*((0x287*0xd+-0x3*-0x963+-0x3cfc)/(0x472+0x1*0xe5f+-0x8e9*0x2))-(-0x1910+-0x1*-0x14a5+0x46f):0x1a8*-0x5+-0x658+0x27*0x60;}};}}self['onmessage']=async _0x542225=>{const {data:_0x34b559}=_0x542225;switch(_0x34b559['type']){case'initWorker':break;case'decompress':_0x1b6371(_0x34b559['numSplats'],_0x34b559['chunkData'],_0x34b559['chunkSize'],_0x34b559['vertexData'],_0x34b559['shData'],_0x34b559['shBands']);break;}};const _0x1b6371=(_0x2051a5,_0x3d7593,_0x2f3440,_0x29f364,_0x5d05ac,_0x40cd26)=>{const _0xa7f718=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x40cd26>0x2600+-0x237e+-0x6*0x6b){const _0xf28fca=[];for(let _0x405d24=-0x174a+0x1*0x24e6+-0x4*0x367;_0x405d24<0x158+-0x1*-0xb79+0x2*-0x652;++_0x405d24)_0xf28fca['push']('f_rest_'+_0x405d24);_0xa7f718['splice'](_0xa7f718['indexOf']('f_dc_0')+(-0x4dd+0x1bd0+-0x16f2),-0x2008+-0x1*-0x1529+0x17*0x79,..._0xf28fca);}const _0x2d9814={};_0xa7f718['forEach'](_0x348ad4=>{_0x2d9814[_0x348ad4]=new Float32Array(_0x2051a5);}),console['log']('decompress');const _0x1b9725=new _0x25d8e2(),_0x3af563=new _0x1e8e37(),_0x594245=new _0x25d8e2(),_0x4c28ac=new _0x15f509(),_0x57ac74=new _0x25d8e2(),_0x49a797=new _0x25d8e2(),_0x240849=_0x40cd26>-0x15b*-0x3+-0x268d+0x227c*0x1?new Float32Array(-0xc1*-0x2+-0x1a*0xe5+-0x1*-0x15ed):null,_0x24954d=new _0x35ad28(_0x3d7593,_0x2f3440,_0x29f364,_0x5d05ac,_0x40cd26,_0x1b9725,_0x3af563,_0x594245,_0x4c28ac,_0x57ac74,_0x49a797,_0x240849);for(let _0x42324a=-0xc*-0x151+-0x11*-0x1a3+-0x2b9f;_0x42324a<_0x2051a5;++_0x42324a)if(_0x24954d['read'](_0x42324a),_0x2d9814['x'][_0x42324a]=_0x1b9725['x'],_0x2d9814['y'][_0x42324a]=_0x1b9725['y'],_0x2d9814['z'][_0x42324a]=_0x1b9725['z'],_0x2d9814['rot_1'][_0x42324a]=_0x3af563['x'],_0x2d9814['rot_2'][_0x42324a]=_0x3af563['y'],_0x2d9814['rot_3'][_0x42324a]=_0x3af563['z'],_0x2d9814['rot_0'][_0x42324a]=_0x3af563['w'],_0x2d9814['scale_0'][_0x42324a]=_0x594245['x'],_0x2d9814['scale_1'][_0x42324a]=_0x594245['y'],_0x2d9814['scale_2'][_0x42324a]=_0x594245['z'],_0x2d9814['motion_0'][_0x42324a]=_0x57ac74['x'],_0x2d9814['motion_1'][_0x42324a]=_0x57ac74['y'],_0x2d9814['motion_2'][_0x42324a]=_0x57ac74['z'],_0x2d9814['t_scale'][_0x42324a]=_0x49a797['x'],_0x2d9814['t'][_0x42324a]=_0x49a797['y'],_0x2d9814['f_dc_0'][_0x42324a]=(_0x4c28ac['x']-(0x1442*-0x1+-0x12f7*0x2+0x3a30+0.5))/_0x3e3fc7,_0x2d9814['f_dc_1'][_0x42324a]=(_0x4c28ac['y']-(-0x1*0x541+0x4f*-0x17+-0x66*-0x1f+0.5))/_0x3e3fc7,_0x2d9814['f_dc_2'][_0x42324a]=(_0x4c28ac['z']-(0x178*0x4+0x1ab7*-0x1+0x14d7+0.5))/_0x3e3fc7,_0x2d9814['opacity'][_0x42324a]=_0x4c28ac['w']<=0x3*0x72c+0x2f9*-0x3+0x3*-0x433?-(-0x1*-0x10ba+0x12d5*-0x2+-0x546*-0x4):_0x4c28ac['w']>=-0x7f5+-0x42a+0xc20?-0xc96+-0x1*0x679+0x1*0x1337:-Math['log']((-0x1bfa+-0x1e7c+0x3a77)/_0x4c28ac['w']-(0x8e0*0x1+-0xb73*-0x1+-0x1452)),_0x240849){for(let _0x108fff=-0x24fd+0x1*0x16+0x3*0xc4d;_0x108fff<0x1*-0x88a+-0x7*-0x3d1+-0x18*0xc0;++_0x108fff)_0x2d9814['f_rest_'+_0x108fff][_0x42324a]=_0x240849[_0x108fff];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x2d9814});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x26ca92=>{if(!this['worker'])return;const {data:_0x33e232}=_0x26ca92;switch(_0x33e232['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x33e232['data']);break;}};}['decompress'](_0x35227b,_0x1d8e8b,_0x31aa0c,_0x164409,_0x16dd91,_0x550406,_0x448b9e){this['chunkData']=new Float32Array(_0x1d8e8b)['slice'](),this['vertexData']=new Uint32Array(_0x164409)['slice'](),this['shData']=new Uint8Array(_0x16dd91)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x35227b,'chunkData':this['chunkData'],'chunkSize':_0x31aa0c,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x550406});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x335e6b,_0x1bd90b,_0x3a4990,_0x4f1416,_0x280a1c,_0x211e46,_0xba7f9c,_0x518d57){const _0x5d393a=(_0x2db9ee,_0xcc3964)=>{const _0x416a28=(0xe1*-0x23+-0x18bb+0x1*0x377f<<_0xcc3964)-(-0x1*0xfbb+0xd9b+0x221);return(_0x2db9ee&_0x416a28)/_0x416a28;},_0x3311c0=(_0x241b78,_0x1453a7)=>{_0x241b78['x']=_0x5d393a(_0x1453a7>>>-0x1*-0x21f1+-0x2a*0x63+-0x119e,-0x1ff3*-0x1+-0x11d6+-0xe12),_0x241b78['y']=_0x5d393a(_0x1453a7>>>0x5*0x127+0x3*0x7cd+-0x1d1f,-0x1f5a+-0x236c+0x42d0*0x1),_0x241b78['z']=_0x5d393a(_0x1453a7,-0x1684+-0x1948+0x2fd7);},_0x52c925=(_0x1b1e02,_0x2daae4)=>{_0x1b1e02['x']=_0x5d393a(_0x2daae4>>>-0x254f+-0xe37+0x19cf*0x2,0xcf0*-0x2+-0x5c7+0x1faf*0x1),_0x1b1e02['y']=_0x5d393a(_0x2daae4>>>0x254d+0x7bc+-0x2cf9,-0x5*-0x2a4+0x2195*-0x1+-0x1*-0x1469),_0x1b1e02['z']=_0x5d393a(_0x2daae4>>>0x4a3*0x6+-0x97*0x3d+-0x3*-0x2bb,0x2*0x10f+-0x35f*-0xb+0x25*-0x10f),_0x1b1e02['w']=_0x5d393a(_0x2daae4,0x1196*-0x2+0x1bb4+0x780);},_0x46d24d=(_0x47d9e5,_0x4e5f68)=>{const _0x3f38d0=(0x11*-0xb9+0x2aa*0xa+0xa7*-0x16)/(Math['sqrt'](-0xb*0x2bd+-0xd09*-0x2+0x40f*0x1)*(-0x4*-0xda+0x607*0x5+-0x218b+0.5)),_0x33f8b9=(_0x5d393a(_0x4e5f68>>>-0x139+-0x2482+0x1*0x25cf,0x1*0x1d6e+0x53*0x11+-0x22e7*0x1)-(-0x355*0x1+0x1*-0x7d4+-0x1*-0xb29+0.5))*_0x3f38d0,_0x409bb3=(_0x5d393a(_0x4e5f68>>>0xf4f*0x2+-0x1*0x1b6d+-0x327,-0x1*0x10c3+-0x1a7+-0x1*-0x1274)-(0x21e3+0x15e3*-0x1+0xc*-0x100+0.5))*_0x3f38d0,_0x585300=(_0x5d393a(_0x4e5f68,-0x1*0x1c47+-0x1e0e+0x3a5f)-(-0x1096+0x7*0x4c1+-0x10b1*0x1+0.5))*_0x3f38d0,_0x4e7363=Math['sqrt'](0xbc*-0x18+0x162*-0x12+-0x5*-0x881-(_0x33f8b9*_0x33f8b9+_0x409bb3*_0x409bb3+_0x585300*_0x585300));switch(_0x4e5f68>>>-0x23c3+-0x9b7+0x1*0x2d98){case 0x1edd+-0x803*0x4+0x12f:_0x47d9e5['set'](_0x33f8b9,_0x409bb3,_0x585300,_0x4e7363);break;case-0x1*-0xa6f+-0xf*-0x228+-0x2ac6:_0x47d9e5['set'](_0x4e7363,_0x409bb3,_0x585300,_0x33f8b9);break;case-0x1bf7*0x1+0x3ce*0x8+-0x1*0x277:_0x47d9e5['set'](_0x409bb3,_0x4e7363,_0x585300,_0x33f8b9);break;case 0x1aa1+-0x8*-0x1a+-0x2*0xdb7:_0x47d9e5['set'](_0x409bb3,_0x585300,_0x4e7363,_0x33f8b9);break;}},_0x27b440=(_0x21051d,_0x389dc1,_0x348d46)=>_0x21051d*(0x4ab*-0x4+-0x119*0x2+0x14df-_0x348d46)+_0x389dc1*_0x348d46,{chunkData:_0xeb9d3b,chunkSize:_0x1e9cca,vertexData:_0x3a484f,shData:_0x19145c,shBands:_0x1d4f7b}=_0x335e6b,_0x1230bd=[0x5d9*-0x3+-0x49e*-0x8+-0x676*0x3,-0x1c16+-0x15d9+0x31f7*0x1,0x1e03*0x1+-0xa*-0x143+-0x2a92][_0x1d4f7b-(0x1c8f+0x4*-0x2f0+-0x10ce)],_0x107fc8=-0x190d+-0x1840+0x3153;this['read']=_0x530f63=>{const _0x16f100=Math['floor'](_0x530f63/(0x6df*-0x5+-0x1826+-0x3b81*-0x1))*_0x1e9cca;if(_0x1bd90b&&(_0x3311c0(_0x1bd90b,_0x3a484f[_0x530f63*_0x107fc8+(-0x1f9a+0x2285+0x53*-0x9)]),_0x1bd90b['x']=_0x27b440(_0xeb9d3b[_0x16f100+(0x9*0x161+0x2*0xab5+-0x21d3)],_0xeb9d3b[_0x16f100+(-0x520+-0x823*-0x1+-0x10*0x30)],_0x1bd90b['x']),_0x1bd90b['y']=_0x27b440(_0xeb9d3b[_0x16f100+(-0x676+-0x1082+0x16f9)],_0xeb9d3b[_0x16f100+(0x1*0x427+0x17c5+-0x178*0x13)],_0x1bd90b['y']),_0x1bd90b['z']=_0x27b440(_0xeb9d3b[_0x16f100+(-0x14c+0x1392+-0xe*0x14e)],_0xeb9d3b[_0x16f100+(0x2c1+0xb*-0x43+0x25)],_0x1bd90b['z'])),_0x3a4990&&_0x46d24d(_0x3a4990,_0x3a484f[_0x530f63*_0x107fc8+(-0xb*-0x245+-0x785*-0x5+-0x3e8f)]),_0x4f1416&&(_0x3311c0(_0x4f1416,_0x3a484f[_0x530f63*_0x107fc8+(-0xf25+-0x449*0x5+-0x124a*-0x2)]),_0x4f1416['x']=_0x27b440(_0xeb9d3b[_0x16f100+(0x6dd*0x5+-0x1ae7+-0x764)],_0xeb9d3b[_0x16f100+(0x3e3*0x6+0x94*0x32+0x1af*-0x1f)],_0x4f1416['x']),_0x4f1416['y']=_0x27b440(_0xeb9d3b[_0x16f100+(-0x49*0x55+-0x1666+0x43e*0xb)],_0xeb9d3b[_0x16f100+(0x779+0x6a0*-0x1+-0xcf)],_0x4f1416['y']),_0x4f1416['z']=_0x27b440(_0xeb9d3b[_0x16f100+(0x2614+0xbd6*-0x2+0x2e*-0x50)],_0xeb9d3b[_0x16f100+(-0x203c*-0x1+0x1f1+-0x2222*0x1)],_0x4f1416['z'])),_0x280a1c&&(_0x52c925(_0x280a1c,_0x3a484f[_0x530f63*_0x107fc8+(-0x35*-0xa8+-0xc49+-0x167c)]),_0x1e9cca>0x3e7+-0x166*-0xc+-0x14a3*0x1&&(_0x280a1c['x']=_0x27b440(_0xeb9d3b[_0x16f100+(0xb72+0x6*0xa7+-0xf50)],_0xeb9d3b[_0x16f100+(-0x1d92*0x1+0x1*0x16a+0xe9*0x1f)],_0x280a1c['x']),_0x280a1c['y']=_0x27b440(_0xeb9d3b[_0x16f100+(0x1312+0x32*-0xad+0xec5)],_0xeb9d3b[_0x16f100+(-0x1030+0x26e7+-0x78d*0x3)],_0x280a1c['y']),_0x280a1c['z']=_0x27b440(_0xeb9d3b[_0x16f100+(0xaa+-0x2*0x1031+0x1fc6)],_0xeb9d3b[_0x16f100+(0x1*0x23ad+-0xd47+-0x1655*0x1)],_0x280a1c['z']))),_0x211e46&&(_0x3311c0(_0x211e46,_0x3a484f[_0x530f63*_0x107fc8+(-0x2689+-0x10f2+0x377f)]),_0x211e46['x']=_0x27b440(_0xeb9d3b[_0x16f100+(-0x4*0x886+0x1eb3*0x1+0x377)],_0xeb9d3b[_0x16f100+(0x6*0x9e+0x150d*-0x1+-0x8b7*-0x2)],_0x211e46['x']),_0x211e46['y']=_0x27b440(_0xeb9d3b[_0x16f100+(-0x4ae*0x8+0x34b*0x1+0x2238)],_0xeb9d3b[_0x16f100+(0xbf*0x1+-0x269+0x1c0)],_0x211e46['y']),_0x211e46['z']=_0x27b440(_0xeb9d3b[_0x16f100+(0x7e*0xd+0x6fb*0x3+-0x1b43*0x1)],_0xeb9d3b[_0x16f100+(0x2464+0x1f92+0x7d*-0x8b)],_0x211e46['z'])),_0xba7f9c&&(_0x3311c0(_0xba7f9c,_0x3a484f[_0x530f63*_0x107fc8+(-0x897+0x1*-0x58+0x8f4*0x1)]),_0xba7f9c['x']=_0x27b440(_0xeb9d3b[_0x16f100+(0x13*-0xf8+-0x1*-0x1425+-0x1a5*0x1)],_0xeb9d3b[_0x16f100+(-0x14ff*-0x1+-0x1*-0x1442+-0x6*0x6dc)],_0xba7f9c['x']),_0xba7f9c['y']=_0x27b440(_0xeb9d3b[_0x16f100+(0x20+-0x3*-0x4c4+0x8d*-0x1a)],_0xeb9d3b[_0x16f100+(0x1*-0x172e+0xbda+0xb6f*0x1)],_0xba7f9c['y'])),_0x518d57&&_0x1d4f7b>0x2*-0xd6f+-0xb5a*-0x3+0x17*-0x50){for(let _0x504fbf=-0x1d76+-0xe9*0x5+-0x2203*-0x1;_0x504fbf<0x217+-0x137d*0x2+0x24e6;++_0x504fbf)for(let _0x1817ad=0x171*0x3+0x41*-0x7+-0x28c;_0x1817ad<0x1bd7+0x463*-0x2+-0x1302;++_0x1817ad)_0x518d57[_0x504fbf*(0x303+-0x12a4+0xfb0)+_0x1817ad]=_0x1817ad<_0x1230bd?_0x19145c[(_0x530f63*(-0x48f+0xc95*0x3+0xb0f*-0x3)+_0x504fbf)*_0x1230bd+_0x1817ad]*((-0x2*0x443+-0x90c+0x6*0x2ef)/(-0x1c37+0x1d07+0x1*0x2f))-(-0x441+0x197+-0x157*-0x2):0x1*0xe56+-0xb*-0x65+-0x7*0x2ab;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x20353d,_0x23b8ef,_0x2acb4b,_0xb8f145,_0x5b98f0,_0x4272ce,_0x20823f){return new R2(this,_0x20353d,_0x23b8ef,_0x2acb4b,_0xb8f145,_0x5b98f0,_0x4272ce,_0x20823f);}['calcAabb'](_0x4dbe6e){const {chunkData:_0x561ebc,numChunks:_0x56be6f,chunkSize:_0x4b1eff}=this;let _0x9a4bb5=Math['exp'](Math['max'](_0x561ebc[0x2b*-0x2d+-0x1*-0x48e+-0x185*-0x2],_0x561ebc[0x2*-0xbda+0x1df2*0x1+0x31a*-0x2],_0x561ebc[-0x5*0x94+-0x1*-0x1d7b+-0x1a8c])),_0x56f41b=_0x561ebc[-0x75f+0xb34+-0x147*0x3]-_0x9a4bb5,_0x356f6c=_0x561ebc[0x16ef+0x1ca6+0x3394*-0x1]-_0x9a4bb5,_0x49d525=_0x561ebc[-0x99d+0x144a+-0xaab]-_0x9a4bb5,_0x9a5126=_0x561ebc[-0xb*-0x1de+0x21ea+-0x3671]+_0x9a4bb5,_0x3785f9=_0x561ebc[0x6*-0x615+-0x59*-0x6d+-0x1*0x163]+_0x9a4bb5,_0x5e4331=_0x561ebc[-0x7e1*0x1+0x89*0xf+0x3*-0xb]+_0x9a4bb5;for(let _0x479224=0x241d+-0x159b+-0xe81;_0x479224<_0x56be6f;++_0x479224){const _0xa44be7=_0x479224*_0x4b1eff;_0x9a4bb5=Math['exp'](Math['max'](_0x561ebc[_0xa44be7+(0x5b9+-0x1fe1*0x1+0x1a31)],_0x561ebc[_0xa44be7+(0x52a*-0x1+0xeb0+-0x97c)],_0x561ebc[_0xa44be7+(-0x10e9+-0x11b1*-0x1+-0xbd)])),_0x56f41b=Math['min'](_0x56f41b,_0x561ebc[_0xa44be7+(0x1693*0x1+0xf7d+-0x74*0x54)]-_0x9a4bb5),_0x356f6c=Math['min'](_0x356f6c,_0x561ebc[_0xa44be7+(0x1c86+-0xa6d+0x90c*-0x2)]-_0x9a4bb5),_0x49d525=Math['min'](_0x49d525,_0x561ebc[_0xa44be7+(0x1*0x218a+0x21c2+-0x434a)]-_0x9a4bb5),_0x9a5126=Math['max'](_0x9a5126,_0x561ebc[_0xa44be7+(-0x27f+0x13f0+-0x116e)]+_0x9a4bb5),_0x3785f9=Math['max'](_0x3785f9,_0x561ebc[_0xa44be7+(0x2096+0xa9*-0x9+-0x191*0x11)]+_0x9a4bb5),_0x5e4331=Math['max'](_0x5e4331,_0x561ebc[_0xa44be7+(0x201c+0x4f*-0x1+-0x1fc8)]+_0x9a4bb5);}return _0x4dbe6e['center']['set']((_0x56f41b+_0x9a5126)*(0x571*0x6+-0x20ae+0x8+0.5),(_0x356f6c+_0x3785f9)*(0x11*0x22+0x21bb+-0x23fd+0.5),(_0x49d525+_0x5e4331)*(-0x6b2*-0x1+-0x1a0e+0x135c+0.5)),_0x4dbe6e['halfExtent'+'s']['set']((_0x9a5126-_0x56f41b)*(0xae+0xa1+0x14f*-0x1+0.5),(_0x3785f9-_0x356f6c)*(-0x1733*-0x1+0x511*-0x1+0x1222*-0x1+0.5),(_0x5e4331-_0x49d525)*(-0x2ad*-0x8+0xb*0x127+-0x2215+0.5)),!(0x1490+-0xfc4*0x1+-0x4cc);}['getCenters'](_0x2bd6eb){const {vertexData:_0x26ab84,chunkData:_0x3125f0,numChunks:_0x407199,chunkSize:_0x5b1a25}=this;let _0x114a38,_0xfb76e7,_0x18d18b,_0x58a18e,_0x17f88d,_0x4c6911;for(let _0x5f486d=0x1082+0x2f*0x73+-0x259f*0x1;_0x5f486d<_0x407199;++_0x5f486d){const _0x2eca8f=_0x5f486d*_0x5b1a25;_0x114a38=_0x3125f0[_0x2eca8f+(0x1*-0xbf9+-0xdb5+0x19ae)],_0xfb76e7=_0x3125f0[_0x2eca8f+(-0xc72+-0x168d*0x1+0x2300)],_0x18d18b=_0x3125f0[_0x2eca8f+(0x15b5*-0x1+-0x1245+0x27fc)],_0x58a18e=_0x3125f0[_0x2eca8f+(0x6*0x171+-0x9d3+-0x98*-0x2)],_0x17f88d=_0x3125f0[_0x2eca8f+(-0x24c6+0x74a+-0x3b0*-0x8)],_0x4c6911=_0x3125f0[_0x2eca8f+(-0x1ec2*-0x1+0x171d+-0x35da)];const _0x902329=Math['min'](this['numSplats'],(_0x5f486d+(-0x3*0x4ed+-0x1*0x1237+0x20ff))*(-0x7fb+0x1*0xc13+0xb*-0x48));for(let _0x2a3019=_0x5f486d*(0x13e*0x1e+0x2579+-0x49bd);_0x2a3019<_0x902329;++_0x2a3019){const _0x4e2853=_0x26ab84[_0x2a3019*(0xa*-0x1bb+0x14b7+-0x365)],_0x382b43=(_0x4e2853>>>-0x39a*-0x9+0xd85*0x2+-0x3b5f)/(0x4*-0x3b+0x1e37+-0x1d*0xbc),_0xe09d6a=(_0x4e2853>>>-0x16*-0x3+-0x828+-0x6b*-0x13&-0xa80+-0x9*0x167+0x90a*0x3)/(0x199b+-0x1*-0x1d58+-0x1*0x32f4),_0x51ee94=(_0x4e2853&0x2b8+-0x2367+0x28ae)/(0xc1d+-0x1c81+0x1863);_0x2bd6eb[_0x2a3019*(0x187c+0x2421+-0x3c9a)+(0x48b*0x1+-0x1f*-0xb1+-0x19fa)]=(-0x242d+-0x3*-0xaca+-0x1e8*-0x2-_0x382b43)*_0x114a38+_0x382b43*_0x58a18e,_0x2bd6eb[_0x2a3019*(0x4*0x54d+-0x4*0x2b9+-0xa4d)+(0x1c72+0x1043*-0x1+-0xc2e)]=(-0x9*-0x3a1+-0xb5e+-0x154a-_0xe09d6a)*_0xfb76e7+_0xe09d6a*_0x17f88d,_0x2bd6eb[_0x2a3019*(-0x2*0xd97+-0x1*0x1b82+0x1*0x36b3)+(-0xb1*0xb+0x23d3*-0x1+-0x1*-0x2b70)]=(0xd50+0x632+-0x1381-_0x51ee94)*_0x18d18b+_0x51ee94*_0x4c6911;}}}['calcFocalP'+'oint'](_0x968897){const {chunkData:_0x17dc4b,numChunks:_0x116abe,chunkSize:_0xbd51b0}=this;_0x968897['x']=-0x1*-0x9a8+0x278*0x4+-0x271*0x8,_0x968897['y']=0x2359+-0x17d3+-0x19*0x76,_0x968897['z']=0x58+-0x2*-0x3b6+-0x7c4;for(let _0x13d0e4=0x1b29+-0x26b1+0xb88;_0x13d0e4<_0x116abe;++_0x13d0e4){const _0xf13a20=_0x13d0e4*_0xbd51b0;_0x968897['x']+=_0x17dc4b[_0xf13a20+(0x1fb0+-0x91d+-0x1*0x1693)]+_0x17dc4b[_0xf13a20+(0x3*0xcf7+-0x4*0x599+-0x107e*0x1)],_0x968897['y']+=_0x17dc4b[_0xf13a20+(-0x1*0x121d+-0xf94*0x2+0x11*0x2e6)]+_0x17dc4b[_0xf13a20+(0x8*0x396+0x76*-0x13+-0x2*0x9f5)],_0x968897['z']+=_0x17dc4b[_0xf13a20+(0x1*-0x119a+-0x1be5+-0xf2b*-0x3)]+_0x17dc4b[_0xf13a20+(-0x632*-0x1+0x2567+-0x2b94)];}_0x968897['mulScalar']((-0x4d0+0x10df+-0xc0f+0.5)/_0x116abe);}get['isCompress'+'ed'](){return!(0x14*-0xb2+-0x18f*0xb+0x1*0x1f0d);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0xd0c+0x55*0x73+-0x1823));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x5e80d4;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x5e80d4=this['shData'])==null?void(-0x6*0xed+-0x2433+0x7*0x5f7):_0x5e80d4['length'])/this['numSplats']/(-0x14f9+-0x65a+0xdab*0x2)]??-0x1ae+0x5f3*-0x3+0x1387;}async['decompress'](){const _0x576a22=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x3b39a8}=this;if(_0x3b39a8>-0x3d*-0x7b+-0x2534*0x1+0x7e5){const _0xc9e2d0=[];for(let _0x1a6da6=-0xb72+0xcf*0x6+0x698;_0x1a6da6<0x994*0x2+0x1*-0x9b2+-0x949*0x1;++_0x1a6da6)_0xc9e2d0['push']('f_rest_'+_0x1a6da6);_0x576a22['splice'](_0x576a22['indexOf']('f_dc_0')+(-0x528+-0x14fa+0x1*0x1a23),0x887+-0x23+-0x864,..._0xc9e2d0);}const _0x57251b={};_0x576a22['forEach'](_0x54a2ab=>{_0x57251b[_0x54a2ab]=new Float32Array(this['numSplats']);});const _0x3b42c0=new P2();return _0x3b42c0['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x57251b),new Promise((_0x42e17c,_0x291501)=>{_0x3b42c0['on']('decompress'+'ed',_0x1956be=>{_0x3b42c0['destroy'](),_0x42e17c(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x576a22['map'](_0x23c1e7=>({'name':_0x23c1e7,'type':'float','byteSize':0x4,'storage':_0x1956be[_0x23c1e7]}))}]));});});}}const D2=(_0x3c78b9,_0x1d87a6,_0x2b2eef,_0x243183,_0x1b3a01)=>{for(let _0x2e9969=-0x1e*-0x60+-0x569+-0x5d7;_0x2e9969<_0x1b3a01;++_0x2e9969)for(let _0x389ae9=-0x1e8a+-0xf17*-0x2+0x5c;_0x389ae9<_0x243183;++_0x389ae9)_0x3c78b9[_0x2e9969*_0x1d87a6+_0x389ae9]=_0x2b2eef[_0x2e9969*_0x243183+_0x389ae9];},zg=(_0x454b77,_0x210d4c,_0xcbd1aa,_0xfbd6fc,_0x131948,_0x45ed54)=>{for(let _0x357823=0x1033+0x7bd*-0x5+-0xb3f*-0x2;_0x357823<_0x131948;++_0x357823)for(let _0x3e7b8c=0x7a6+-0x3e*0x8b+0x8ac*0x3;_0x3e7b8c<_0xfbd6fc;++_0x3e7b8c)_0x454b77[_0x357823*_0x210d4c+_0x3e7b8c]=_0xcbd1aa[_0x357823*_0xfbd6fc+_0x3e7b8c+_0x45ed54];};class L2{constructor(_0x1de377,_0x12d084){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x58156f,chunkSize:_0x44da0d,numChunks:_0x4cb623,numSplats:_0x23ae2,vertexData:_0x597038,shBands:_0x3c33f7,is4D:_0x9281d6}=_0x12d084;this['device']=_0x1de377,this['numSplats']=_0x23ae2,this['numVisible'+'Splats']=_0x23ae2,this['is4D']=_0x9281d6,this['aabb']=new _e(),_0x12d084['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x23ae2*(0x7c*-0x4f+0xd18*0x1+0x192f)),_0x12d084['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x23ae2));const _0x285c73=this['packedText'+'ure']['lock']();zg(_0x285c73,0x1180+-0x1731+-0x1e7*-0x3,_0x597038,-0x92*-0x43+0x157f+-0x3baf,_0x23ae2,0x1*0x17e0+0xa*-0x18e+-0x854),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x23ae2));const _0x25cb48=this['packedTime'+'Texture']['lock']();zg(_0x25cb48,0xc43+0xf+0x10*-0xc5,_0x597038,-0x2c2*0x2+0xd03*-0x3+0x2c93,_0x23ae2,0x1439+0x1cd6+-0x310b);const _0x19fcb8=this['evalTextur'+'eSize'](_0x4cb623);_0x19fcb8['x']*=0x14f6+0x1c7a+-0x3169,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x19fcb8);const _0x42b8dc=this['chunkTextu'+'re']['lock']();if(D2(_0x42b8dc,(0xd*0x26d+-0x53*-0x8+-0x3*0xb5f)*(0x56e+0x13*0x63+0x66*-0x20),_0x58156f,_0x44da0d,_0x4cb623),_0x44da0d===0xa05+0x4b4+-0xead){for(let _0x23ed45=0x167c+-0x30f*0x4+-0xa40;_0x23ed45<_0x4cb623;++_0x23ed45)_0x42b8dc[_0x23ed45*(0xf19+0x7*-0x3fb+0xcd8)+(0x1753+-0x7cb*0x4+0x7e8)]=0x1973+-0x1142*-0x2+-0x1dfb*0x2,_0x42b8dc[_0x23ed45*(-0x11d3+-0x83*0x4c+0x38cb)+(-0xd*-0x23b+0x123*0x2+-0x1f35)]=0x182b+0x10*-0xe2+0x5*-0x202,_0x42b8dc[_0x23ed45*(-0xea9+0xc*-0x254+0x2aad)+(-0x11*0x6b+-0x16f6+0x1e22)]=-0x39a+0x7a*0x4d+0x2b*-0xc5;}if(this['chunkTextu'+'re']['unlock'](),_0x3c33f7>0x4*0x4cc+0x1e63+0x1*-0x3193){const {shData:_0x39b9d0}=_0x12d084,_0x56371e=this['evalTextur'+'eSize'](_0x23ae2),_0x4cc577=this['createText'+'ure']('shTexture0',ut,_0x56371e),_0x4934bf=this['createText'+'ure']('shTexture1',ut,_0x56371e),_0x65d527=this['createText'+'ure']('shTexture2',ut,_0x56371e),_0x18bcbb=_0x4cc577['lock'](),_0x43f10e=_0x4934bf['lock'](),_0x2f82c1=_0x65d527['lock'](),_0x1c2dcf=new Uint8Array(_0x18bcbb['buffer']),_0x403593=new Uint8Array(_0x43f10e['buffer']),_0x5b882a=new Uint8Array(_0x2f82c1['buffer']),_0x16f88e=[0xb74+0x258a+-0x1*0x30fb,0x23b3*0x1+-0xade+-0x7*0x38b,-0xd11+0x2615*-0x1+0x3335*0x1][_0x3c33f7-(-0x708+0x13dc+-0x1*0xcd3)];for(let _0x4bdbc2=-0x3*0x823+-0x12*-0x60+-0x21*-0x89;_0x4bdbc2<_0x23ae2;++_0x4bdbc2)for(let _0x2e9659=0x1969+-0x4b8+-0x14b1;_0x2e9659<0x1*-0x13ff+-0x1b*0x157+0x383b;++_0x2e9659)_0x1c2dcf[_0x4bdbc2*(-0x91c+0x25d1+-0x1ca5)+_0x2e9659]=_0x2e9659<_0x16f88e?_0x39b9d0[(_0x4bdbc2*(0x45c+0x1*-0x527+-0x1*-0xce)+(0x25e*0x6+0xa*-0x83+-0x916))*_0x16f88e+_0x2e9659]:-0x1eb5+0x283*0x5+0x12a5,_0x403593[_0x4bdbc2*(-0x1963+0x85*-0xb+0x1f2a)+_0x2e9659]=_0x2e9659<_0x16f88e?_0x39b9d0[(_0x4bdbc2*(-0x109a+-0x711+0x2*0xbd7)+(-0xcd*-0xd+-0xb5+0x9b3*-0x1))*_0x16f88e+_0x2e9659]:0x1ab+-0x25df+-0x757*-0x5,_0x5b882a[_0x4bdbc2*(0x8a7*-0x3+0xef3+0xb12)+_0x2e9659]=_0x2e9659<_0x16f88e?_0x39b9d0[(_0x4bdbc2*(-0x14*-0x1cc+-0x191*0x3+-0x1*0x1f3a)+(0x2105*0x1+0x891+0xc*-0x377))*_0x16f88e+_0x2e9659]:0x2175+-0xc8*-0xf+-0x2cae;_0x4cc577['unlock'](),_0x4934bf['unlock'](),_0x65d527['unlock'](),this['shTexture0']=_0x4cc577,this['shTexture1']=_0x4934bf,this['shTexture2']=_0x65d527;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x30c2c3,_0x3fffde,_0x45b729,_0x10c2bb,_0x4aedd6,_0x1c71fe;(_0x30c2c3=this['packedText'+'ure'])==null||_0x30c2c3['destroy'](),(_0x3fffde=this['packedTime'+'Texture'])==null||_0x3fffde['destroy'](),(_0x45b729=this['chunkTextu'+'re'])==null||_0x45b729['destroy'](),(_0x10c2bb=this['shTexture0'])==null||_0x10c2bb['destroy'](),(_0x4aedd6=this['shTexture1'])==null||_0x4aedd6['destroy'](),(_0x1c71fe=this['shTexture2'])==null||_0x1c71fe['destroy']();}['createMate'+'rial'](_0x56dc43){const _0x149b07=z0(_0x56dc43);return _0x149b07['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(-0xdbe+0x242b+-0x166d*0x1)),_0x149b07['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x149b07['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x149b07['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x149b07['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x149b07['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x149b07['setDefine']('SH_BANDS',0x1ed6+-0x6eb+0xb4*-0x22),_0x149b07['setParamet'+'er']('shTexture0',this['shTexture0']),_0x149b07['setParamet'+'er']('shTexture1',this['shTexture1']),_0x149b07['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x149b07['setDefine']('SH_BANDS',-0x1aa2+-0x1cd8+0x377a),_0x149b07;}['evalTextur'+'eSize'](_0x343d53){const _0x45e3e3=Math['ceil'](Math['sqrt'](_0x343d53)),_0x164843=Math['ceil'](_0x343d53/_0x45e3e3);return new W(_0x45e3e3,_0x164843);}['createText'+'ure'](_0x462c71,_0x563acf,_0x1796d3,_0x27241a){return new he(this['device'],{'name':_0x462c71,'width':_0x1796d3['x'],'height':_0x1796d3['y'],'format':_0x563acf,'cubemap':!(-0xbff+0x25f+0x11*0x91),'mipmaps':!(0x202d+0x1*-0x22fc+0x24*0x14),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x27241a?{'levels':[_0x27241a]}:{}});}}class F2{constructor(_0x3730ca,_0x2acb12,_0x44bfe2){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x3730ca,this['splatData']=_0x2acb12,this['comments']=_0x44bfe2);}['destroy'](){var _0x301967;this['device']=null,this['splatData']=null,(_0x301967=this['splat'])==null||_0x301967['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x29e050,_0x431da2,_0x28ae38){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x431da2,this['splatData']['appendGSpl'+'atData'](_0x29e050,_0x28ae38,_0x431da2),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x379d2d={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x379d2d);const _0x3c3d5d=new We(),_0x18cdd3=_0x3c3d5d['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x3c3d5d['setLocalEu'+'lerAngles'](-0x5ed+-0x17cc+0x1db9,-0x1066+0x1*0x1fa5+0x3*-0x515,0x1*0x1ee1+-0x123*0xd+-0x3*0x55e),_0x18cdd3['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x3c3d5d;}['createInst'+'ance'](_0x24e30f={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x17f9b1=this['createSpla'+'t']();return new Np(_0x17f9b1,_0x24e30f);}}const Ug=new Uint8Array([0x96c+-0x14b6+0xbba,-0xe10+-0x2e*0x8b+-0x13bb*-0x2,0x1f*-0xc5+-0x67b+-0x1*-0x1ecf,0x2139+0x6b3+-0x27e2]),Vg=new Uint8Array([0x3ab+-0x5e4+-0x243*-0x1,-0x248c+0x483+0x206e,-0x291*0x6+-0x16b4*0x1+-0x112*-0x24,0x1241+0x463*-0x5+0x2*0x209,-0x1747+0x304+-0x2*-0xa51,0x1dee*0x1+0x6*-0x1bf+-0x2*0x986,-0x1*0x2581+0x5*-0x528+-0xd1*-0x4e,-0x1eca+0x1690+0x89b,0xb50+0x1*0xc2d+-0x1719,0x797+0xda6+-0x14d8,-0x745+0x213c+-0x1985,0x2545+0x2*-0xcb0+0xbdb*-0x1]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x2398d3,_0x48ca3e){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',0xd85*-0x1+-0xf4d*0x1+0x1cd2),c(this,'tail',0x694*-0x4+-0x2e*0x35+0x23d6),(this['reader']=_0x2398d3,this['progressFu'+'nc']=_0x48ca3e);}async['read'](){var _0x58d8b7;const {value:_0x1b9722,done:_0x40de78}=await this['reader']['read']();if(_0x40de78)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x1b9722),(_0x58d8b7=this['progressFu'+'nc'])==null||_0x58d8b7['call'](this,_0x1b9722['byteLength']);}['push'](_0x55c797){if(!this['data'])this['data']=_0x55c797,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x55c797['length'];else{const _0x2deccc=this['tail']-this['head'],_0x3c8d93=_0x2deccc+_0x55c797['length'];if(this['data']['length']>=_0x3c8d93)this['head']>-0x269f*0x1+0x43c*0x1+0x2263?(this['data']['copyWithin'](-0x2c*-0x9+0x4a*-0x38+-0x752*-0x2,this['head'],this['tail']),this['data']['set'](_0x55c797,_0x2deccc),this['head']=-0x721*-0x1+0x4c5+-0xbe6,this['tail']=_0x3c8d93):(this['data']['set'](_0x55c797,this['tail']),this['tail']+=_0x55c797['length']);else{const _0x1fd303=new Uint8Array(_0x3c8d93);this['head']>0xcb3+0xa93*-0x3+0x1306||this['tail']<this['data']['length']?_0x1fd303['set'](this['data']['subarray'](this['head'],this['tail']),0x251*0x5+0x2269+-0x2dfe):_0x1fd303['set'](this['data'],0x36*0x6a+0x13*0x97+-0x2191),_0x1fd303['set'](_0x55c797,_0x2deccc),this['data']=_0x1fd303,this['view']=new DataView(this['data']['buffer']),this['head']=0x1d75*0x1+-0x634*0x3+-0xad9*0x1,this['tail']=_0x3c8d93;}}}['compact'](){this['head']>0x14dd+0x1*-0x124a+-0x293&&(this['data']['copyWithin'](-0x24ae+0x653+0x13*0x199,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x5*-0x227+-0x17ac+0xce9);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x46a395=this['view']['getInt8'](this['head']);return this['head']++,_0x46a395;}['getUint8'](){const _0x28d5b5=this['view']['getUint8'](this['head']);return this['head']++,_0x28d5b5;}['getInt16'](){const _0x488885=this['view']['getInt16'](this['head'],!(-0x1*0x765+0x666+0xff));return this['head']+=0x1e0e+0x1*0xc47+0x1*-0x2a53,_0x488885;}['getUint16'](){const _0x5dd56a=this['view']['getUint16'](this['head'],!(-0x1*0x1bb3+-0x2*0xc78+0x34a3));return this['head']+=-0x2f3+0x1*-0xe4+-0x1*-0x3d9,_0x5dd56a;}['getInt32'](){const _0x16950e=this['view']['getInt32'](this['head'],!(-0x2b6+-0x16ae+-0x28a*-0xa));return this['head']+=0x2326*0x1+-0x11*0x193+-0x85f*0x1,_0x16950e;}['getUint32'](){const _0xe944b=this['view']['getUint32'](this['head'],!(0x164*-0x7+0x25a9*-0x1+0x2f65));return this['head']+=0x1e9d+0xd*0xdd+0x14e9*-0x2,_0xe944b;}['getFloat32'](){const _0x2bb576=this['view']['getFloat32'](this['head'],!(0x2*-0xaad+-0x1a57+0x2fb1));return this['head']+=0x11fc*0x2+-0x2f9*-0xd+0xd*-0x5bd,_0x2bb576;}['getFloat64'](){const _0x560833=this['view']['getFloat64'](this['head'],!(-0xad*0x35+0x1386+0x104b));return this['head']+=0xf0d+0x1246+-0x214b,_0x560833;}}const k2=_0x2e63ba=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x572b8f=[],_0x52c03a=[];let _0x5d3586;for(let _0x394791=0x1d6+0x17*0x13a+-0x1e0b*0x1;_0x394791<_0x2e63ba['length'];++_0x394791){const _0x558303=_0x2e63ba[_0x394791]['split']('\x20');switch(_0x558303[-0x21*-0xe3+-0x2*-0x1fe+-0x213f]){case'comment':_0x52c03a['push'](_0x558303['slice'](0x748+0x10a8+-0x17ef)['join']('\x20'));break;case'format':_0x5d3586=_0x558303[0x26d+0x114e+-0xa*0x1f9];break;case'element':_0x572b8f['push']({'name':_0x558303[0x224f+-0x98*0x3b+0xba],'count':parseInt(_0x558303[0x18aa+0xb*-0xe+0x2*-0xc07],-0x11*-0xe7+0x2224+0x3*-0x107b),'properties':[]});break;case'property':{if(!bf['has'](_0x558303[-0x13*0x12f+-0x1*0x1094+0x2712]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x558303[0x2587+-0x2*0x1088+-0x476]+('\x27\x20in\x20ply\x20h'+'eader'));_0x572b8f[_0x572b8f['length']-(0xc34*-0x3+0x7ec+0x1cb1)]['properties']['push']({'type':_0x558303[-0x1f31+-0x1249+0x317b],'name':_0x558303[-0x10e0+-0x1*-0x1334+0xb*-0x36],'storage':null,'byteSize':bf['get'](_0x558303[-0x1*-0x1d83+-0x1ab6+-0x1*0x2cc])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x558303[-0x8*0x24a+-0x148d+0x26dd*0x1]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x572b8f,'format':_0x5d3586,'comments':_0x52c03a};},B2=_0x116fb6=>{const _0x67701d=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x551e62=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x2e779a=new Array(-0x4*0x17f+0x6f*0x1+0x5ba)['fill']('')['map']((_0x1dc690,_0x58278f)=>'f_rest_'+_0x58278f),_0x178e06=()=>_0x116fb6[0xc1b*0x3+0x1*-0x13cf+0x2*-0x841]['name']==='chunk'&&_0x116fb6[0x1*0xf9a+0xf47*-0x1+0x1*-0x53]['properties']['every']((_0x5d62de,_0x2fb935)=>_0x5d62de['name']===_0x67701d[_0x2fb935]&&_0x5d62de['type']==='float')&&_0x116fb6[0x7d2*-0x3+-0x9ca+0x2141]['name']==='vertex'&&_0x116fb6[0x363*-0x9+-0xbc8+0x2a44]['properties']['every']((_0x578a7b,_0x215a68)=>_0x578a7b['name']===_0x551e62[_0x215a68]&&_0x578a7b['type']==='uint'),_0x1ebd85=()=>_0x116fb6[-0x1743+0x1889*-0x1+0x2fce]['name']==='sh'&&[0x1117*0x1+0x1c1+-0x12cf,0x2ab*-0x7+-0xb83*-0x1+0x742,0x1022+0x5d*-0x7+-0xd6a]['indexOf'](_0x116fb6[0x1e53*-0x1+0x118d*-0x1+0x2fe2*0x1]['properties']['length'])!==-(0x124b*-0x1+0x53*-0x17+0x15b*0x13)&&_0x116fb6[-0x10e7*0x2+0x24d4+-0x1*0x304]['properties']['every']((_0x28f058,_0x4e35ff)=>_0x28f058['name']===_0x2e779a[_0x4e35ff]&&_0x28f058['type']==='uchar');return _0x116fb6['length']===-0x10af*-0x2+0x10b7*0x2+0xce*-0x53&&_0x178e06()||_0x116fb6['length']===-0x1*-0x1e62+-0x107b+-0xde4&&_0x178e06()&&_0x1ebd85();},N2=_0x40f95f=>_0x40f95f['length']===0x1ecb*0x1+0x7*0x1fe+-0x2cbc&&_0x40f95f[-0x1ef*0x5+0x3aa*-0x1+0xd55]['name']==='vertex'&&_0x40f95f[0x2344+-0x1*0x96a+-0x19da]['properties']['every'](_0x1d28dd=>_0x1d28dd['type']==='float'),z2=async(_0x279b7c,_0x460898)=>{const _0x348dd0=new I2(),_0x3cbdf5=_0x460898[-0x13ca+0x25*-0x8d+0x5bd*0x7]['count'],_0xa1a52=_0x460898[0x2582+-0x56*-0x3b+-0x3954]['properties']['length'],_0x1a8204=_0x460898[0x2691*0x1+-0x2*-0x11e7+-0x4a5e]['count'],_0x3d9ea4=_0x460898[-0x26a4+-0xcb9+0x335e]['properties']['some'](_0x10a288=>_0x10a288['name']==='packed_tim'+'e'),_0x722c24=_0x206c3c=>{const _0x659383=Math['ceil'](Math['sqrt'](_0x206c3c)),_0x41d985=Math['ceil'](_0x206c3c/_0x659383);return _0x659383*_0x41d985;};_0x348dd0['numSplats']=_0x1a8204,_0x348dd0['is4D']=_0x3d9ea4,_0x348dd0['chunkData']=new Float32Array(_0x3cbdf5*_0xa1a52),_0x348dd0['vertexData']=new Uint32Array(_0x722c24(_0x1a8204)*(0x26a+0x1edf+-0x2143*0x1));const _0x16996b=async(_0x1760be,_0x4fa083)=>{const _0x5cd4fd=new Uint8Array(_0x1760be);let _0x108843=-0x1*0x1cf+0xc59+-0xa8a;for(;_0x108843<_0x4fa083;){for(;_0x279b7c['remaining']===-0x11a7+-0x1a02+0x2ba9;)await _0x279b7c['read']();const _0x4a38e0=Math['min'](_0x4fa083-_0x108843,_0x279b7c['remaining']),_0x10b8c4=_0x279b7c['data'];for(let _0x3ef307=-0x639+-0xd57+-0x1*-0x1390;_0x3ef307<_0x4a38e0;++_0x3ef307)_0x5cd4fd[_0x108843++]=_0x10b8c4[_0x279b7c['head']++];}};return await _0x16996b(_0x348dd0['chunkData']['buffer'],_0x3cbdf5*_0xa1a52*(0x52f+0x39c+-0x8c7)),await _0x16996b(_0x348dd0['vertexData']['buffer'],_0x1a8204*(-0x371+0x1*0x971+-0x11*0x5a)*(0xc*0x14e+0x16*-0x17e+0x1130)),_0x460898['length']===-0x3b*-0x18+0x2a1*0x3+-0x9c*0x16&&(_0x348dd0['shData']=new Uint8Array(_0x460898[-0x1f9+0xfd5+-0xdda]['count']*_0x460898[0x1*-0x1857+0x55d+-0x6c*-0x2d]['properties']['length']),await _0x16996b(_0x348dd0['shData']['buffer'],_0x348dd0['shData']['byteLength'])),_0x348dd0;},U2=async(_0x1782b1,_0x52f9e3)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x4aae3e=_0x52f9e3[0x12e5+-0x141e+0x139],_0x3eb53c=_0x4aae3e['properties'],_0x19c155=_0x3eb53c['length'],_0x5f537c=_0x3eb53c['map'](_0x258ba3=>_0x258ba3['storage']),_0x253a97=_0x3eb53c['reduce']((_0x12201f,_0x539b8a)=>_0x12201f+_0x539b8a['byteSize'],0x4a8+-0xe4d*0x1+0x9a5);let _0x41ca6e=-0x13b5+0x1b7b+0x1*-0x7c6,_0x47d6bc;const _0x4fadfe=()=>{const _0x57b671=_0x1782b1['data']['buffer'];(_0x47d6bc==null?void(-0x15b9+-0x1*0x1f57+0x2*0x1a88):_0x47d6bc['buffer'])!==_0x57b671&&(_0x47d6bc=new Float32Array(_0x57b671,-0x1aec*-0x1+-0x9*0xaf+0x1*-0x14c5,_0x57b671['byteLength']/(-0xd1e+-0x13c0+-0x16e*-0x17)));};for(_0x4fadfe();_0x41ca6e<_0x4aae3e['count'];){for(;_0x1782b1['remaining']<_0x253a97;)await _0x1782b1['read'](),_0x4fadfe();const _0x27a128=Math['min'](_0x4aae3e['count']-_0x41ca6e,Math['floor'](_0x1782b1['remaining']/_0x253a97));for(let _0x46a837=0x17*0xdd+-0x30a*0x2+-0xdc7;_0x46a837<_0x19c155;++_0x46a837){const _0x3b23c0=_0x5f537c[_0x46a837];for(let _0x567e5c=0x22*0x8c+-0x1*-0x1241+0x1*-0x24d9;_0x567e5c<_0x27a128;++_0x567e5c)_0x3b23c0[_0x567e5c+_0x41ca6e]=_0x47d6bc[_0x567e5c*_0x19c155+_0x46a837];}_0x41ca6e+=_0x27a128,_0x1782b1['head']+=_0x27a128*_0x253a97;}return new Ia(_0x52f9e3);},V2=async(_0x57d113,_0x3e4fa7)=>{for(let _0x1eadf1=0xaa*-0x1f+-0x17*0x103+0x2bdb;_0x1eadf1<_0x3e4fa7['length'];++_0x1eadf1){const _0x4ff997=_0x3e4fa7[_0x1eadf1],_0x44f208=_0x4ff997['properties']['reduce']((_0x25f924,_0x3a4856)=>_0x25f924+_0x3a4856['byteSize'],0x165+0x1ae9+-0x1c4e),_0x8425e6=_0x4ff997['properties']['map'](_0x58e52c=>{if(_0x58e52c['storage'])switch(_0x58e52c['type']){case'char':return(_0x4e6a12,_0x208720)=>{_0x58e52c['storage'][_0x208720]=_0x4e6a12['getInt8']();};case'uchar':return(_0x440fd8,_0xe70893)=>{_0x58e52c['storage'][_0xe70893]=_0x440fd8['getUint8']();};case'short':return(_0x2aea6a,_0x21a38d)=>{_0x58e52c['storage'][_0x21a38d]=_0x2aea6a['getInt16']();};case'ushort':return(_0x1d8cc0,_0x5bb7e1)=>{_0x58e52c['storage'][_0x5bb7e1]=_0x1d8cc0['getUint16']();};case'int':return(_0x100298,_0x43b05f)=>{_0x58e52c['storage'][_0x43b05f]=_0x100298['getInt32']();};case'uint':return(_0x2064b5,_0x2930eb)=>{_0x58e52c['storage'][_0x2930eb]=_0x2064b5['getUint32']();};case'float':return(_0x19d0ef,_0x283a27)=>{_0x58e52c['storage'][_0x283a27]=_0x19d0ef['getFloat32']();};case'double':return(_0x41e3d0,_0x4c7bd1)=>{_0x58e52c['storage'][_0x4c7bd1]=_0x41e3d0['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x58e52c['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x4d9968=>{_0x4d9968['head']+=_0x58e52c['byteSize'];};});let _0x20fcd0=0xa*-0x1a1+0x21*-0x16+0x660*0x3;for(;_0x20fcd0<_0x4ff997['count'];){for(;_0x57d113['remaining']<_0x44f208;)await _0x57d113['read']();const _0x45e5a6=Math['min'](_0x4ff997['count']-_0x20fcd0,Math['floor'](_0x57d113['remaining']/_0x44f208));for(let _0x54b8de=-0x5d7+-0x1b15+0x83b*0x4;_0x54b8de<_0x45e5a6;++_0x54b8de){for(let _0x4cbc5e=-0x2c*0x83+-0xa9e+0x2122;_0x4cbc5e<_0x4ff997['properties']['length'];++_0x4cbc5e)_0x8425e6[_0x4cbc5e](_0x57d113,_0x20fcd0);_0x20fcd0++;}}}return new Ia(_0x3e4fa7);},G2=async(_0x3abeb4,_0x5ed858=null,_0x148214=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x41aeb6=(_0xf90430,_0xa59c6c)=>{const _0x3aa3c4=_0xf90430['length']-_0xa59c6c['length'];let _0x4e6662,_0x467d72;for(_0x4e6662=0xa7*0x25+0x1*0xe32+-0x2655;_0x4e6662<=_0x3aa3c4;++_0x4e6662){for(_0x467d72=-0x17*0x60+0x11e+0x1*0x782;_0x467d72<_0xa59c6c['length']&&_0xf90430[_0x4e6662+_0x467d72]===_0xa59c6c[_0x467d72];++_0x467d72);if(_0x467d72===_0xa59c6c['length'])return _0x4e6662;}return-(0x1a80+0x20ce+-0x3b4d);},_0x51f66a=(_0xce3523,_0x1927d3)=>{if(_0xce3523['length']<_0x1927d3['length'])return!(0x5b5+-0x250b+0x47*0x71);for(let _0x5446b9=-0x1262+-0x1*-0x987+0x1*0x8db;_0x5446b9<_0x1927d3['length'];++_0x5446b9)if(_0xce3523[_0x5446b9]!==_0x1927d3[_0x5446b9])return!(-0xe*-0x23+0x1b86*-0x1+0x199d);return!(0x10*0x265+0x11a+-0x276a);},_0x54553f=new O2(_0x3abeb4,_0x148214);let _0x110092;for(;;){if(await _0x54553f['read'](),_0x54553f['tail']>=Ug['length']&&!_0x51f66a(_0x54553f['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x110092=_0x41aeb6(_0x54553f['data'],Vg),_0x110092!==-(-0x5bd+-0x6*-0x304+-0x1f*0x66))break;}const _0x310d05=new TextDecoder('ascii')['decode'](_0x54553f['data']['subarray'](-0x176b+0x803+0x1d*0x88,_0x110092))['split']('\x0a'),{elements:_0x5d04fb,format:_0xa5eee6,comments:_0x11e3cf}=k2(_0x310d05);if(_0xa5eee6!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x54553f['head']=_0x110092+Vg['length'],_0x54553f['compact'](),{'data':await((async()=>B2(_0x5d04fb)?await z2(_0x54553f,_0x5d04fb):(_0x5d04fb['forEach'](_0xe4f57b=>{_0xe4f57b['properties']['forEach'](_0x2f812b=>{const _0x2c7007=bf['get'](_0x2f812b['type']);if(_0x2c7007){const _0x1738cb=!_0x5ed858||_0x5ed858(_0x2f812b['name'])?new _0x2c7007(_0xe4f57b['count']):null;_0x2f812b['storage']=_0x1738cb;}});}),N2(_0x5d04fb)?await U2(_0x54553f,_0x5d04fb):await V2(_0x54553f,_0x5d04fb)))()),'comments':_0x11e3cf};},H2=_0x45fced=>!(0x1bfe+0x717+-0x2315);class W2{constructor(_0x4fdd91,_0x15bb73,_0x39d015){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x4fdd91,this['assets']=_0x15bb73,this['maxRetries']=_0x39d015,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0xcc31c7,_0xc1bb4f,_0x18c5d7){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0xcc31c7['load']['includes'](',')?this['urlList']=_0xcc31c7['load']['split'](','):this['urlList']['push'](_0xcc31c7['load']);const _0x57d345=_0x18c5d7['data']['loadAllSeq']?this['urlList']['length']:-0x1fd+-0x97*-0x3+0x39,_0x447a14=_0x18c5d7['data']['timeOption'],_0x1b7f3f=_0x18c5d7['data']['events'];for(let _0x3db235=-0x7*0x48e+0x1e85+0x15d*0x1;_0x3db235<_0x57d345;_0x3db235++)await this['loadGsplat'+'Data'](this['urlList'][_0x3db235]['trim'](),_0xc1bb4f,_0x18c5d7,_0x3db235,_0x447a14,_0x1b7f3f);}async['loadGsplat'+'Data'](_0x591a93,_0x2944cb,_0x56fdfa,_0x5e68df,_0x3daf23,_0x4b8948){var _0x583f55;try{const _0x215c65=await fetch(_0x591a93);if(!_0x215c65||!_0x215c65['body'])_0x2944cb('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x3cecd7=parseInt(_0x215c65['headers']['get']('content-le'+'ngth')??'0',-0xee+0x1*-0x569+-0x1*-0x661);let _0x336ce2=-0x10b2*-0x1+-0x182c+-0xb*-0xae;const {data:_0x48c2e9,comments:_0x1106cc}=await G2(_0x215c65['body']['getReader'](),_0x56fdfa['data']['elementFil'+'ter']??H2,_0x39a4df=>{_0x336ce2+=_0x39a4df,_0x56fdfa&&_0x4b8948['fire']('progress',_0x336ce2,_0x3cecd7);});_0x48c2e9['isCompress'+'ed']||_0x56fdfa['data']['reorder'],this['gsplatReso'+'urce']&&((_0x583f55=this['gsplatReso'+'urce'])!=null&&_0x583f55['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x48c2e9['isCompress'+'ed']&&_0x56fdfa['data']['decompress']?await _0x48c2e9['decompress']():_0x48c2e9,_0x3daf23,_0x5e68df):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x48c2e9['isCompress'+'ed']&&_0x56fdfa['data']['decompress']?await _0x48c2e9['decompress']():_0x48c2e9,_0x1106cc),this['gsplatReso'+'urce']['timeOption']=_0x3daf23,_0x4b8948['fire']('progressEn'+'d')),_0x2944cb(null,this['gsplatReso'+'urce']);}}catch(_0x30058){_0x2944cb(_0x30058,null);}}['open'](_0x2c4fdd,_0x3c6f60){return _0x3c6f60;}}class $2 extends Ne{constructor(_0x58751f){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x58751f,'gsplat'),this['parser']=new W2(_0x58751f['graphicsDe'+'vice'],_0x58751f['assets'],-0xae8+0x136*0x9+0x5);}['load'](_0x3d7293,_0x5ac518,_0x59ab91){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x3d7293=='string'&&(_0x3d7293={'load':_0x3d7293,'original':_0x3d7293}),this['parser']['load'](_0x3d7293,_0x5ac518,_0x59ab91);}['open'](_0x1806cb,_0x4a5854,_0x51a2cd){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x1806cb,_0x4a5854,_0x51a2cd);}}class wf{static['setCompres'+'sedPRS'](_0x923685,_0xcb72e9,_0x27ac8a){const _0x245bd3=_0x27ac8a['singleVecs'];let _0x34f101,_0x35bcef;const _0x3df9c5=_0xcb72e9['___1'];_0x3df9c5||(_0x34f101=_0x27ac8a['tripleVecs'],_0x35bcef=_0xcb72e9['___2']);let _0x2d6bef=_0x3df9c5?_0x3df9c5[-0x6*-0x22+-0x3bc+0x2f0]:_0x34f101[_0x35bcef];_0x923685['setLocalPo'+'sition'](_0x245bd3[_0x2d6bef],_0x245bd3[_0x2d6bef+(0x1a25+-0x11*0x1cf+0x49b)],_0x245bd3[_0x2d6bef+(-0x18*0x62+0x4d5*0x5+-0xef7)]),_0x2d6bef=_0x3df9c5?_0x3df9c5[0x17ac+0x720+0x1*-0x1ecb]:_0x34f101[_0x35bcef+(-0xa86+-0x202+0xc89)],_0x923685['setLocalEu'+'lerAngles'](_0x245bd3[_0x2d6bef],_0x245bd3[_0x2d6bef+(-0x1cd4+-0x22f5+0x3fca)],_0x245bd3[_0x2d6bef+(-0x72c+-0x189e+0x32e*0xa)]),_0x2d6bef=_0x3df9c5?_0x3df9c5[-0x1*-0x565+0x2172+-0x26d5]:_0x34f101[_0x35bcef+(0x1a4a+-0x7b5*-0x2+-0x1*0x29b2)],_0x923685['setLocalSc'+'ale'](_0x245bd3[_0x2d6bef],_0x245bd3[_0x2d6bef+(0x18bf+-0x59e*0x6+0x8f6)],_0x245bd3[_0x2d6bef+(0x1fee+-0x6c7+0x29*-0x9d)]);}static['oneCharToK'+'ey'](_0x543375,_0x4d84df){const _0x4758c8=_0x543375['charCodeAt'](-0x1d42+0xb02*-0x2+0x3346)-_0x4d84df['fieldFirst'+'Code'];return _0x4d84df['fieldArray'][_0x4758c8];}static['multCharTo'+'Key'](_0xfb282b,_0x1dcb3d){let _0x2968f2=0x1fe2+-0x1703*0x1+-0x8df;for(let _0x1d03e4=0x2536+-0xe54+0x3a*-0x65;_0x1d03e4<_0xfb282b['length'];_0x1d03e4++)_0x2968f2=_0x2968f2*_0x1dcb3d['fieldCodeB'+'ase']+_0xfb282b['charCodeAt'](_0x1d03e4)-_0x1dcb3d['fieldFirst'+'Code'];return _0x1dcb3d['fieldArray'][_0x2968f2];}}class sc{constructor(_0x22fc64,_0xd2bfb){this['_node']=_0x22fc64,this['_data']=_0xd2bfb;}['run'](){const _0xa06285=Object['prototype']['toString']['call'](this['_node']);return _0xa06285==='[object\x20Ob'+'ject]'?this['_handleMap']():_0xa06285==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x1085f8){let _0xc4a082=_0x1085f8;const _0x1d0d2e=_0x1085f8['length'];_0x1d0d2e===0x1465+0x13c4+-0x2828?_0xc4a082=wf['oneCharToK'+'ey'](_0x1085f8,this['_data']):_0x1d0d2e===-0x8*-0x296+-0xbce+-0x2*0x470&&(_0xc4a082=wf['multCharTo'+'Key'](_0x1085f8,this['_data'])),this['_result'][_0xc4a082]=new sc(this['_node'][_0x1085f8],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x1accb4){const _0x52b98b=new sc(_0x1accb4,this['_data'])['run']();this['_result']['push'](_0x52b98b);}}class Wp{constructor(_0x2641d1,_0x1d5e3d){this['_app']=_0x2641d1,this['_isTemplat'+'e']=_0x1d5e3d;}['parse'](_0x2f626c){const _0x19b084={};let _0x377926=null;const _0x118748=_0x2f626c['compressed'+'Format'];_0x118748&&!_0x2f626c['entDecompr'+'essed']&&(_0x2f626c['entDecompr'+'essed']=!(0x183c+-0x723+-0x1119),_0x2f626c['entities']=new sc(_0x2f626c['entities'],_0x118748)['run']());for(const _0x1ae4cd in _0x2f626c['entities']){const _0x290ae9=_0x2f626c['entities'][_0x1ae4cd],_0x236741=this['_createEnt'+'ity'](_0x290ae9,_0x118748);_0x19b084[_0x1ae4cd]=_0x236741,_0x290ae9['parent']===null&&(_0x377926=_0x236741);}for(const _0x53ff20 in _0x2f626c['entities']){const _0x36e756=_0x19b084[_0x53ff20],_0x9610d9=_0x2f626c['entities'][_0x53ff20]['children'],_0x22e3b9=_0x9610d9['length'];for(let _0x35a274=-0x346+-0x195c+0x1ca2;_0x35a274<_0x22e3b9;_0x35a274++){const _0x5792ce=_0x19b084[_0x9610d9[_0x35a274]];_0x5792ce&&_0x36e756['addChild'](_0x5792ce);}}return this['_openCompo'+'nentData'](_0x377926,_0x2f626c['entities']),_0x377926;}['_createEnt'+'ity'](_0x22cf4e,_0x1a03eb){const _0x421596=new We(_0x22cf4e['name'],this['_app']);if(_0x421596['setGuid'](_0x22cf4e['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x421596,_0x22cf4e,_0x1a03eb),_0x421596['_enabled']=_0x22cf4e['enabled']??!(0x67c*-0x6+0x1344+0xc*0x1a3),this['_isTemplat'+'e']?_0x421596['_template']=!(-0x32*0x9f+-0x1356+0x3264):_0x421596['_enabledIn'+'Hierarchy']=_0x421596['_enabled'],_0x421596['template']=_0x22cf4e['template'],_0x22cf4e['tags']){for(let _0x40b741=-0x247*-0x4+0x486+-0xda2;_0x40b741<_0x22cf4e['tags']['length'];_0x40b741++)_0x421596['tags']['add'](_0x22cf4e['tags'][_0x40b741]);}return _0x421596;}['_setPosRot'+'Scale'](_0x4b730f,_0xf583d6,_0x3eb48a){if(_0x3eb48a)wf['setCompres'+'sedPRS'](_0x4b730f,_0xf583d6,_0x3eb48a);else{const _0x46bc18=_0xf583d6['position'],_0x1d54ba=_0xf583d6['rotation'],_0x36048e=_0xf583d6['scale'];_0x4b730f['setLocalPo'+'sition'](_0x46bc18[0x1*0xe07+0x2684+-0x348b],_0x46bc18[0x1f29+0x1f83*0x1+-0x107*0x3d],_0x46bc18[-0x34c*0x1+-0x609*-0x1+-0x2bb*0x1]),_0x4b730f['setLocalEu'+'lerAngles'](_0x1d54ba[0x1*0xbd7+-0x9d4+-0x203],_0x1d54ba[0x2d0+0xdeb+-0x10ba*0x1],_0x1d54ba[0x213b+0xdf*-0x1d+-0x2*0x3fb]),_0x4b730f['setLocalSc'+'ale'](_0x36048e[0x2021+-0x19ce+-0x1*0x653],_0x36048e[0x959*0x3+-0x6*0xd1+0x5c9*-0x4],_0x36048e[-0x233*-0x7+0x16*0x81+-0x1a79]);}}['_openCompo'+'nentData'](_0x5c8ee3,_0x2d3987){const _0x173027=this['_app']['systems']['list'];let _0x2de841=_0x173027['length'];const _0x9f88ad=_0x2d3987[_0x5c8ee3['getGuid']()];for(let _0x897130=0x2c7*-0xa+0x1*-0x2397+0x3*0x151f;_0x897130<_0x2de841;_0x897130++){const _0x44e0b7=_0x173027[_0x897130],_0x1cfedd=_0x9f88ad['components'][_0x44e0b7['id']];_0x1cfedd&&_0x44e0b7['addCompone'+'nt'](_0x5c8ee3,_0x1cfedd);}_0x2de841=_0x9f88ad['children']['length'];const _0xfea04a=_0x5c8ee3['_children'];for(let _0x437e73=-0x1*-0x10c5+0x5c5*0x3+-0x2214;_0x437e73<_0x2de841;_0x437e73++)_0xfea04a[_0x437e73]?_0xfea04a[_0x437e73]=this['_openCompo'+'nentData'](_0xfea04a[_0x437e73],_0x2d3987):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x5c8ee3['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x5c8ee3;}}class Lx{static['load'](_0x5afee7,_0x89d67a,_0x53bd33){typeof _0x5afee7=='string'&&(_0x5afee7={'load':_0x5afee7,'original':_0x5afee7}),$e['get'](_0x5afee7['load'],{'retry':_0x89d67a>-0x30*0xcf+-0x1c5*-0x13+0x531,'maxRetries':_0x89d67a},(_0x48db92,_0x33493f)=>{if(!_0x48db92)_0x53bd33(_0x48db92,_0x33493f);else{let _0x1cfe2a='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x5afee7['original'];_0x48db92['message']?(_0x1cfe2a+=':\x20'+_0x48db92['message'],_0x48db92['stack']&&(_0x1cfe2a+='\x0a'+_0x48db92['stack'])):_0x1cfe2a+=':\x20'+_0x48db92,_0x53bd33(_0x1cfe2a);}});}}class q2 extends Ne{constructor(_0x270aaa){super(_0x270aaa,'hierarchy');}['load'](_0x1c45a6,_0x577c39){Lx['load'](_0x1c45a6,this['maxRetries'],_0x577c39);}['open'](_0x1ac8a1,_0x4b00b9){this['_app']['systems']['script']['preloading']=!(0x1*-0x264b+0x65c+-0x221*-0xf);const _0x8ceba6=new Wp(this['_app'],!(-0x1*-0x1cfa+0x1*0x1b65+-0xde*0x41))['parse'](_0x4b00b9);return this['_app']['systems']['script']['preloading']=!(0x63e+0x134a+0x51b*-0x5),_0x8ceba6;}}class X2 extends Ne{constructor(_0x45f4e7){super(_0x45f4e7,'html'),c(this,'decoder',null);}['load'](_0x5ee54c,_0x2c04ac){typeof _0x5ee54c=='string'&&(_0x5ee54c={'load':_0x5ee54c,'original':_0x5ee54c}),$e['get'](_0x5ee54c['load'],{'retry':this['maxRetries']>-0x14a3+0x1211+0x292,'maxRetries':this['maxRetries']},(_0x34f580,_0xb33121)=>{_0x34f580?_0x2c04ac('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x5ee54c['original']+'\x20['+_0x34f580+']'):_0x2c04ac(null,_0xb33121);});}['openBinary'](_0x4dac9c){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4dac9c);}}class j2 extends Ne{constructor(_0xa65601){super(_0xa65601,'json'),c(this,'decoder',null);}['load'](_0xdfc309,_0x4e7031){typeof _0xdfc309=='string'&&(_0xdfc309={'load':_0xdfc309,'original':_0xdfc309});const _0x4b897b={'retry':this['maxRetries']>-0x2b+-0x1514+0x153f,'maxRetries':this['maxRetries']};_0xdfc309['load']['startsWith']('blob:')&&(_0x4b897b['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0xdfc309['load'],_0x4b897b,(_0x2f6f35,_0x553f6d)=>{_0x2f6f35?_0x4e7031('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0xdfc309['original']+'\x20['+_0x2f6f35+']'):_0x4e7031(null,_0x553f6d);});}['openBinary'](_0xe65195){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0xe65195));}}class Y2{constructor(){this['removeInva'+'lid']=!(0x1868+0x1d*0xe9+-0x32cd),this['valid']=!(0x661+0x1*-0x1cea+0x1689),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x59937e,_0x32b001){this['valid']=!(0x1a+-0x1947*-0x1+-0x1960),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x59937e,_0x32b001[_0x59937e]),this['removeInva'+'lid']&&delete _0x32b001[_0x59937e];}['validate'](_0x3dfca2){const _0x14bb79=Pa,_0x2434bb=QC,_0x2c2418=_0x3dfca2['mappingFor'+'mat']==='path';for(const _0x3f3e8b in _0x3dfca2){const _0xdc90fc=_0x14bb79[_0x3f3e8b];if(!_0xdc90fc){_0x2434bb[_0x3f3e8b]?delete _0x3dfca2[_0x3f3e8b]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x3f3e8b),this['valid']=!(0xe80*-0x1+-0x1970+0x199*0x19));continue;}if(_0xdc90fc['startsWith']('enum')){const _0x24fc27=_0xdc90fc['split'](':')[-0xbfa+-0x1b8b*0x1+0x2786];this['enumValida'+'tors'][_0x24fc27]&&(this['enumValida'+'tors'][_0x24fc27](_0x3dfca2[_0x3f3e8b])||this['setInvalid'](_0x3f3e8b,_0x3dfca2));}else{if(_0xdc90fc==='number')typeof _0x3dfca2[_0x3f3e8b]!='number'&&this['setInvalid'](_0x3f3e8b,_0x3dfca2);else{if(_0xdc90fc==='boolean')typeof _0x3dfca2[_0x3f3e8b]!='boolean'&&this['setInvalid'](_0x3f3e8b,_0x3dfca2);else{if(_0xdc90fc==='string')typeof _0x3dfca2[_0x3f3e8b]!='string'&&this['setInvalid'](_0x3f3e8b,_0x3dfca2);else{if(_0xdc90fc==='vec2')_0x3dfca2[_0x3f3e8b]instanceof Array&&_0x3dfca2[_0x3f3e8b]['length']===-0x115*-0xc+0x2335+-0x302f||this['setInvalid'](_0x3f3e8b,_0x3dfca2);else{if(_0xdc90fc==='rgb')_0x3dfca2[_0x3f3e8b]instanceof Array&&_0x3dfca2[_0x3f3e8b]['length']===-0x8b*0x19+-0x2d5*0x3+0x1615||this['setInvalid'](_0x3f3e8b,_0x3dfca2);else{if(_0xdc90fc==='texture')_0x2c2418?typeof _0x3dfca2[_0x3f3e8b]=='string'||_0x3dfca2[_0x3f3e8b]===null||_0x3dfca2[_0x3f3e8b]instanceof he||this['setInvalid'](_0x3f3e8b,_0x3dfca2):typeof _0x3dfca2[_0x3f3e8b]=='number'||_0x3dfca2[_0x3f3e8b]===null||_0x3dfca2[_0x3f3e8b]instanceof he||this['setInvalid'](_0x3f3e8b,_0x3dfca2);else{if(_0xdc90fc==='boundingbo'+'x')_0x3dfca2[_0x3f3e8b]['center']&&_0x3dfca2[_0x3f3e8b]['center']instanceof Array&&_0x3dfca2[_0x3f3e8b]['center']['length']===-0x1*0x9b1+0x23f6*-0x1+0x7*0x686||this['setInvalid'](_0x3f3e8b,_0x3dfca2),_0x3dfca2[_0x3f3e8b]['halfExtent'+'s']&&_0x3dfca2[_0x3f3e8b]['halfExtent'+'s']instanceof Array&&_0x3dfca2[_0x3f3e8b]['halfExtent'+'s']['length']===-0xfca+-0x1a65+-0xb*-0x3d6||this['setInvalid'](_0x3f3e8b,_0x3dfca2);else{if(_0xdc90fc==='cubemap')typeof _0x3dfca2[_0x3f3e8b]=='number'||_0x3dfca2[_0x3f3e8b]===null||_0x3dfca2[_0x3f3e8b]===void(0xbef+-0x565*0x1+0x3*-0x22e)||_0x3dfca2[_0x3f3e8b]instanceof he&&_0x3dfca2[_0x3f3e8b]['cubemap']||this['setInvalid'](_0x3f3e8b,_0x3dfca2);else{if(_0xdc90fc==='chunks'){const _0x19534f=Object['keys'](_0x3dfca2[_0x3f3e8b]);for(let _0x3aed39=0x2687+-0x16d7+0x8*-0x1f6;_0x3aed39<_0x19534f['length'];_0x3aed39++)typeof _0x3dfca2[_0x3f3e8b][_0x19534f[_0x3aed39]]!='string'&&this['setInvalid'](_0x19534f[_0x3aed39],_0x3dfca2[_0x3f3e8b]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0xdc90fc);}}}}}}}}}}return _0x3dfca2['validated']=!(-0x127c+0x2*-0x2bd+0x17f6),this['valid'];}['_createEnu'+'mValidator'](_0x1c1165){return function(_0x1ddd9d){return _0x1c1165['indexOf'](_0x1ddd9d)>=-0x16d6+0x2e*0x28+-0x2*-0x7d3;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x148713){const _0x1745ba=this['migrate'](_0x148713),_0x263c15=this['_validate'](_0x1745ba),_0x4189e7=new cs();return this['initialize'](_0x4189e7,_0x263c15),_0x4189e7;}['initialize'](_0x44cd7c,_0x4ee96c){_0x4ee96c['validated']||(_0x4ee96c=this['_validate'](_0x4ee96c)),_0x4ee96c['chunks']&&(_0x44cd7c['chunks']={..._0x4ee96c['chunks']});for(const _0x353879 in _0x4ee96c){const _0x30cb83=Pa[_0x353879],_0x4b2afb=_0x4ee96c[_0x353879];if(_0x30cb83==='vec2')_0x44cd7c[_0x353879]=new W(_0x4b2afb[-0x8*-0x23a+0x1e63+-0x3*0x1011],_0x4b2afb[0x21a1+0x9b2+-0x2b52]);else{if(_0x30cb83==='rgb')_0x44cd7c[_0x353879]=new Y(_0x4b2afb[-0x3aa+0x6*0x24a+-0xa12],_0x4b2afb[-0x16e7+0x5*0x6c+0x14cc],_0x4b2afb[-0x63e+0x904*-0x2+0xa8*0x25]);else{if(_0x30cb83==='texture')_0x4b2afb instanceof he?_0x44cd7c[_0x353879]=_0x4b2afb:_0x44cd7c[_0x353879]instanceof he&&typeof _0x4b2afb=='number'&&_0x4b2afb>-0x13ee*0x1+-0x248c*0x1+0x1*0x387a||(_0x44cd7c[_0x353879]=null);else{if(_0x30cb83==='cubemap')_0x4b2afb instanceof he?_0x44cd7c[_0x353879]=_0x4b2afb:_0x44cd7c[_0x353879]instanceof he&&typeof _0x4b2afb=='number'&&_0x4b2afb>0x1652*-0x1+0x4ae+0x11a4||(_0x44cd7c[_0x353879]=null),_0x353879==='cubeMap'&&!_0x4b2afb&&(_0x44cd7c['prefiltere'+'dCubemaps']=null);else{if(_0x30cb83==='boundingbo'+'x'){const _0x32946f=new T(_0x4b2afb['center'][0x1dd4+-0x26ca+0x8f6],_0x4b2afb['center'][-0x15e+0x428*-0x2+-0x43*-0x25],_0x4b2afb['center'][-0x1319+0x2*-0x7cf+0x22b9*0x1]),_0x5c9d7b=new T(_0x4b2afb['halfExtent'+'s'][-0x18b*-0x13+-0xb1e+-0x1233],_0x4b2afb['halfExtent'+'s'][-0x23de+-0x2688+0x4a67],_0x4b2afb['halfExtent'+'s'][0x1a0c+0x82+0xd46*-0x2]);_0x44cd7c[_0x353879]=new _e(_0x32946f,_0x5c9d7b);}else _0x44cd7c[_0x353879]=_0x4ee96c[_0x353879];}}}}}_0x44cd7c['update']();}['migrate'](_0x1a197f){_0x1a197f['shader']&&delete _0x1a197f['shader'],_0x1a197f['mapping_fo'+'rmat']&&(_0x1a197f['mappingFor'+'mat']=_0x1a197f['mapping_fo'+'rmat'],delete _0x1a197f['mapping_fo'+'rmat']);let _0x2da3ee;const _0x453c1d=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x2da3ee=0xa3*0x2e+-0x1242+-0x8*0x161;_0x2da3ee<_0x453c1d['length'];_0x2da3ee++){const _0x25d7a0=_0x453c1d[_0x2da3ee][0x1*0x1311+0x4*-0x294+-0x8c1],_0x1b032f=_0x453c1d[_0x2da3ee][0xb4f+0x254e+-0x309c*0x1];_0x1a197f[_0x25d7a0]!==void(0x19ed*-0x1+0x325*0x7+0x2*0x1f5)&&(_0x1a197f[_0x1b032f]===void(-0x198d+0x15e3+-0xe*-0x43)&&(_0x1a197f[_0x1b032f]=_0x1a197f[_0x25d7a0]),delete _0x1a197f[_0x25d7a0]);}const _0x2bbd9f=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x2da3ee=0x4d0+0x9*0x1b7+0x47*-0x49;_0x2da3ee<_0x2bbd9f['length'];_0x2da3ee++){const _0xc4b08f=_0x2bbd9f[_0x2da3ee];_0x1a197f['hasOwnProp'+'erty'](_0xc4b08f)&&delete _0x1a197f[_0xc4b08f];}return _0x1a197f;}['_validate'](_0x1f9f1c){return _0x1f9f1c['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x1f9f1c)),_0x1f9f1c;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x149b84){super(_0x149b84,'material'),this['_assets']=_0x149b84['assets'],this['_device']=_0x149b84['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x2e589e,_0x11fe54){typeof _0x2e589e=='string'&&(_0x2e589e={'load':_0x2e589e,'original':_0x2e589e}),$e['get'](_0x2e589e['load'],{'retry':this['maxRetries']>-0x1*-0x349+0x1fe5+-0x1197*0x2,'maxRetries':this['maxRetries']},(_0xad99ce,_0x5331a6)=>{_0xad99ce?_0x11fe54&&_0x11fe54('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x2e589e['original']+'\x20['+_0xad99ce+']'):_0x11fe54&&(_0x5331a6['_engine']=!(0xdb4*-0x2+0x1*0xcd8+0xe9*0x10),_0x11fe54(null,_0x5331a6));});}['open'](_0x2f5e61,_0x4933f3){const _0x544f38=this['_parser']['parse'](_0x4933f3);return _0x4933f3['_engine']&&(_0x544f38['_data']=_0x4933f3,delete _0x4933f3['_engine']),_0x544f38;}['patch'](_0x47f4b7,_0x224394){_0x47f4b7['resource']['_data']&&(_0x47f4b7['_data']=_0x47f4b7['resource']['_data'],delete _0x47f4b7['resource']['_data']),_0x47f4b7['data']['name']=_0x47f4b7['name'],_0x47f4b7['resource']['name']=_0x47f4b7['name'],this['_bindAndAs'+'signAssets'](_0x47f4b7,_0x224394),_0x47f4b7['off']('unload',this['_onAssetUn'+'load'],this),_0x47f4b7['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x116a5e){delete _0x116a5e['data']['parameters'],delete _0x116a5e['data']['chunks'],delete _0x116a5e['data']['name'];}['_assignTex'+'ture'](_0x585d21,_0x2e4e31,_0x3c4644){_0x2e4e31['resource'][_0x585d21]=_0x3c4644;}['_getPlaceh'+'olderTextu'+'re'](_0x4c5829){const _0xf1340e=Z2[_0x4c5829];return v['assert'](_0xf1340e,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x4c5829),en(this['_device'],_0xf1340e);}['_assignPla'+'ceholderTe'+'xture'](_0x27196c,_0x3f3d35){_0x3f3d35['resource'][_0x27196c]=this['_getPlaceh'+'olderTextu'+'re'](_0x27196c);}['_onTexture'+'Load'](_0x2915db,_0x559dee,_0x5ee54f){this['_assignTex'+'ture'](_0x2915db,_0x559dee,_0x5ee54f['resource']),_0x559dee['resource']['update']();}['_onTexture'+'Add'](_0x3f4064,_0x531a8c,_0x56ee76){this['_assets']['load'](_0x56ee76);}['_onTexture'+'RemoveOrUn'+'load'](_0x4013b8,_0x5a41d6,_0x2ca462){const _0x186d88=_0x5a41d6['resource'];_0x186d88&&_0x5a41d6['resource'][_0x4013b8]===_0x2ca462['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x4013b8,_0x5a41d6),_0x186d88['update']());}['_assignCub'+'emap'](_0x4b954e,_0x573702,_0x1244f9){if(_0x573702['resource'][_0x4b954e]=_0x1244f9[0x5*0x47+-0x671*-0x6+-0x2809],_0x4b954e==='cubeMap'){const _0x5dfecb=_0x1244f9['slice'](0x1d41+0x1*0xb03+0xb*-0x3a9);_0x5dfecb['every'](_0x40ed56=>_0x40ed56)?_0x573702['resource']['prefiltere'+'dCubemaps']=_0x5dfecb:_0x5dfecb[-0x1537+-0x7f+0x15b6]&&(_0x573702['resource']['envAtlas']=_0x5dfecb[-0x5a*0x27+-0x2*-0x11ab+0x2*-0xad0]);}}['_onCubemap'+'Load'](_0x2ef441,_0x104724,_0x32b3cd){this['_assignCub'+'emap'](_0x2ef441,_0x104724,_0x32b3cd['resources']),this['_parser']['initialize'](_0x104724['resource'],_0x104724['data']);}['_onCubemap'+'Add'](_0x3b0555,_0x2b44cc,_0x453f2c){this['_assets']['load'](_0x453f2c);}['_onCubemap'+'RemoveOrUn'+'load'](_0x2ae2b2,_0x39163e,_0x551cf9){const _0x58ea0d=_0x39163e['resource'];_0x39163e['data']['prefiltere'+'dCubeMap12'+'8']===_0x551cf9['resources'][-0x1add+0x563+0x157b]&&(this['_assignCub'+'emap'](_0x2ae2b2,_0x39163e,[null,null,null,null,null,null,null]),_0x58ea0d['update']());}['_bindAndAs'+'signAssets'](_0x816df6,_0x2bf809){const _0x54d2d4=this['_parser']['migrate'](_0x816df6['data']),_0x47e028=_0x816df6['resource'],_0x598edf=_0x54d2d4['mappingFor'+'mat']==='path',_0x4eca7=Kc;let _0x38f3b4,_0x142ffa,_0x3c81f1;for(_0x38f3b4=-0x21bf+0x1*0x1f7+0x1fc8;_0x38f3b4<_0x4eca7['length'];_0x38f3b4++){_0x142ffa=_0x4eca7[_0x38f3b4],_0x3c81f1=_0x47e028['_assetRefe'+'rences'][_0x142ffa];const _0x2e08e8=_0x54d2d4[_0x142ffa],_0x5a181f=_0x47e028[_0x142ffa],_0x4a3428=_0x5a181f===this['_getPlaceh'+'olderTextu'+'re'](_0x142ffa),_0x7815dd=_0x54d2d4['validated'];_0x2e08e8&&(!_0x5a181f||!_0x7815dd||_0x4a3428)?(_0x3c81f1||(_0x3c81f1=new Go(_0x142ffa,_0x816df6,_0x2bf809,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x47e028['_assetRefe'+'rences'][_0x142ffa]=_0x3c81f1),_0x598edf?_0x3c81f1['url']=_0x816df6['getAbsolut'+'eUrl'](_0x2e08e8):_0x3c81f1['id']=_0x2e08e8,_0x3c81f1['asset']&&(_0x3c81f1['asset']['resource']?this['_assignTex'+'ture'](_0x142ffa,_0x816df6,_0x3c81f1['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x142ffa,_0x816df6),_0x2bf809['load'](_0x3c81f1['asset']))):_0x3c81f1&&(_0x598edf?_0x3c81f1['url']=null:_0x3c81f1['id']=null);}const _0x1a7857=Fp;for(_0x38f3b4=0x1ef3+-0x1*-0x1829+-0x371c;_0x38f3b4<_0x1a7857['length'];_0x38f3b4++)_0x142ffa=_0x1a7857[_0x38f3b4],_0x3c81f1=_0x47e028['_assetRefe'+'rences'][_0x142ffa],_0x54d2d4[_0x142ffa]&&!_0x816df6['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x3c81f1||(_0x3c81f1=new Go(_0x142ffa,_0x816df6,_0x2bf809,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x47e028['_assetRefe'+'rences'][_0x142ffa]=_0x3c81f1),_0x598edf?_0x3c81f1['url']=_0x54d2d4[_0x142ffa]:_0x3c81f1['id']=_0x54d2d4[_0x142ffa],_0x3c81f1['asset']&&(_0x3c81f1['asset']['loaded']&&this['_assignCub'+'emap'](_0x142ffa,_0x816df6,_0x3c81f1['asset']['resources']),_0x2bf809['load'](_0x3c81f1['asset'])));this['_parser']['initialize'](_0x47e028,_0x54d2d4);}}class J2{constructor(_0x3f40d7){this['_device']=_0x3f40d7['device'],this['_defaultMa'+'terial']=_0x3f40d7['defaultMat'+'erial'],this['_assets']=_0x3f40d7['assets'];}['parse'](_0x2e73c0,_0x32fa33,_0x354438){tc['parse']('filename.g'+'lb','',_0x2e73c0,this['_device'],this['_assets'],(_0x354438==null?void(-0x10*-0x10c+-0x1d2d*-0x1+-0xf4f*0x3):_0x354438['options'])??{},(_0x347f5a,_0x56fe87)=>{if(_0x347f5a)_0x32fa33(_0x347f5a);else{const _0x30a895=tr['createMode'+'l'](_0x56fe87,this['_defaultMa'+'terial']);_0x56fe87['destroy'](),_0x32fa33(null,_0x30a895);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x268ac8){this['_device']=_0x268ac8['device'],this['_defaultMa'+'terial']=_0x268ac8['defaultMat'+'erial'];}['parse'](_0x2693fd,_0x58ef68){const _0x23e814=_0x2693fd['model'];if(!_0x23e814){_0x58ef68(null,null);return;}if(_0x23e814['version']<=-0xdd1+0x25c5+-0x17f3){_0x58ef68('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x41b8a2=this['_parseNode'+'s'](_0x2693fd),_0x32f809=this['_parseSkin'+'s'](_0x2693fd,_0x41b8a2),_0x265e72=this['_parseVert'+'exBuffers'](_0x2693fd),_0x465de3=this['_parseInde'+'xBuffers'](_0x2693fd,_0x265e72),_0x16a1f0=this['_parseMorp'+'hs'](_0x2693fd,_0x41b8a2,_0x265e72),_0x1660fa=this['_parseMesh'+'es'](_0x2693fd,_0x32f809['skins'],_0x16a1f0['morphs'],_0x265e72,_0x465de3['buffer'],_0x465de3['data']),_0x1c2340=this['_parseMesh'+'Instances'](_0x2693fd,_0x41b8a2,_0x1660fa,_0x32f809['skins'],_0x32f809['instances'],_0x16a1f0['morphs'],_0x16a1f0['instances']),_0x502d2f=new Oi();_0x502d2f['graph']=_0x41b8a2[-0x4f7+0x22c0+-0x1dc9],_0x502d2f['meshInstan'+'ces']=_0x1c2340,_0x502d2f['skinInstan'+'ces']=_0x32f809['instances'],_0x502d2f['morphInsta'+'nces']=_0x16a1f0['instances'],_0x502d2f['getGraph']()['syncHierar'+'chy'](),_0x58ef68(null,_0x502d2f);}['_parseNode'+'s'](_0x42692d){const _0x377c99=_0x42692d['model'],_0xe91d60=[];let _0x24f7ce;for(_0x24f7ce=0x115e+0x1b63+0xab*-0x43;_0x24f7ce<_0x377c99['nodes']['length'];_0x24f7ce++){const _0x5849fd=_0x377c99['nodes'][_0x24f7ce],_0x198c01=new De(_0x5849fd['name']);_0x198c01['setLocalPo'+'sition'](_0x5849fd['position'][-0x1b58+-0x1f0d*0x1+0x3a65],_0x5849fd['position'][-0x7db+-0xfff+-0x17db*-0x1],_0x5849fd['position'][0xfb9+0x1e1a+-0x2dd1]),_0x198c01['setLocalEu'+'lerAngles'](_0x5849fd['rotation'][0x227a+0x23dc+-0x4656],_0x5849fd['rotation'][-0x394*-0x5+-0x5*-0x32d+-0x2*0x10e2],_0x5849fd['rotation'][-0x23*0x3f+0x1902+-0x1063]),_0x198c01['setLocalSc'+'ale'](_0x5849fd['scale'][0x1a4f+0x2e*-0x32+-0x1153],_0x5849fd['scale'][-0x1837+-0x192*-0x2+0x1514],_0x5849fd['scale'][0x28f*0x9+0x3e+-0x1743]),_0x198c01['scaleCompe'+'nsation']=!!_0x5849fd['scaleCompe'+'nsation'],_0xe91d60['push'](_0x198c01);}for(_0x24f7ce=0xd1+0x5ce*0x1+-0x69e*0x1;_0x24f7ce<_0x377c99['parents']['length'];_0x24f7ce++)_0xe91d60[_0x377c99['parents'][_0x24f7ce]]['addChild'](_0xe91d60[_0x24f7ce]);return _0xe91d60;}['_parseSkin'+'s'](_0x1daf76,_0x589021){const _0x1b09df=_0x1daf76['model'],_0x4d5b39=[],_0x2ff541=[];let _0x2687f8,_0x5d940a;for(_0x2687f8=-0x549+-0x53*-0xc+0x165;_0x2687f8<_0x1b09df['skins']['length'];_0x2687f8++){const _0x17cf2e=_0x1b09df['skins'][_0x2687f8],_0x407a38=[];for(_0x5d940a=-0x16a3*0x1+0x11*0xe9+0x395*0x2;_0x5d940a<_0x17cf2e['inverseBin'+'dMatrices']['length'];_0x5d940a++){const _0x556028=_0x17cf2e['inverseBin'+'dMatrices'][_0x5d940a];_0x407a38[_0x5d940a]=new q()['set'](_0x556028);}const _0x47f8d9=new N0(this['_device'],_0x407a38,_0x17cf2e['boneNames']);_0x4d5b39['push'](_0x47f8d9);const _0x1fbd93=new nl(_0x47f8d9),_0x5b3f93=[];for(_0x5d940a=0xd5f+0x10e4+0x3d*-0x7f;_0x5d940a<_0x47f8d9['boneNames']['length'];_0x5d940a++){const _0x5ad746=_0x47f8d9['boneNames'][_0x5d940a],_0xc47124=_0x589021[-0x1e84+-0x10*0x161+0x3494]['findByName'](_0x5ad746);_0x5b3f93['push'](_0xc47124);}_0x1fbd93['bones']=_0x5b3f93,_0x2ff541['push'](_0x1fbd93);}return{'skins':_0x4d5b39,'instances':_0x2ff541};}['_getMorphV'+'ertexCount'](_0x29ca53,_0x5eb2db,_0x39370c){for(let _0x4576fa=0xfa7+-0x26e+-0xd39*0x1;_0x4576fa<_0x29ca53['meshes']['length'];_0x4576fa++){const _0x266941=_0x29ca53['meshes'][_0x4576fa];if(_0x266941['morph']===_0x5eb2db)return _0x39370c[_0x266941['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x163275,_0x5b8f29,_0x92c998){const _0x54b02c=_0x163275['model'],_0x21c29b=[],_0x2440e5=[];let _0x203bc2,_0x4ef3a6,_0x1e15a6,_0x57d9a5,_0x2fdcd5,_0x4c5869;if(_0x54b02c['morphs']){const _0x14ebdc=function(_0x345ab9,_0x4d7c02,_0x1a4c2d){const _0x3603e8=new Float32Array(_0x1a4c2d*(0x1*-0x104c+-0x26d+-0xda*-0x16));for(let _0x33759c=0x940+-0x6*-0x44d+-0x230e;_0x33759c<_0x4d7c02['length'];_0x33759c++){const _0x57d892=_0x4d7c02[_0x33759c]*(-0x2411+-0x4fe+0x2912);_0x3603e8[_0x57d892]=_0x345ab9[_0x33759c*(-0x1*-0x1fff+-0x5*-0x479+0x1*-0x3659)],_0x3603e8[_0x57d892+(0x1*0x1d70+-0x1d69+0x1*-0x6)]=_0x345ab9[_0x33759c*(0xf49+0xb11*-0x3+0x11ed)+(-0x1387+0x1*0x69e+0x13*0xae)],_0x3603e8[_0x57d892+(-0x3d*0x49+0x1c+0x13*0xe9)]=_0x345ab9[_0x33759c*(-0x6*-0x1d5+0x270f+0xe*-0x393)+(0x11*-0x143+-0xb6b+0x20e0)];}return _0x3603e8;};for(_0x203bc2=0x1*0x1c33+-0x1832+-0x401;_0x203bc2<_0x54b02c['morphs']['length'];_0x203bc2++){for(_0x57d9a5=_0x54b02c['morphs'][_0x203bc2]['targets'],_0x4c5869=[],_0x1e15a6=this['_getMorphV'+'ertexCount'](_0x54b02c,_0x203bc2,_0x92c998),_0x4ef3a6=0x163a+0x7*0x2c7+-0x29ab;_0x4ef3a6<_0x57d9a5['length'];_0x4ef3a6++){const _0x2f28e9=_0x57d9a5[_0x4ef3a6]['aabb'],_0x1246b7=_0x2f28e9['min'],_0x3c1658=_0x2f28e9['max'],_0x18d92a=new _e(new T((_0x3c1658[-0x22c5+-0x3a3*-0x5+0x1096]+_0x1246b7[-0x3*-0x337+-0x16ab+0xd06])*(0x1a7d+0x2421+-0x3e9e+0.5),(_0x3c1658[0x3b*-0x4a+-0x1*-0xc2f+0x4e0]+_0x1246b7[0x220e+0x231a+-0x4527])*(-0x2*0xca0+0x5fe+0x9a1*0x2+0.5),(_0x3c1658[0x1340+-0x1029*0x1+-0x315]+_0x1246b7[-0x7f*-0x3a+0x3*0xcc5+-0x4313])*(0x1*0x12e9+0x20a8+-0x3391*0x1+0.5)),new T((_0x3c1658[0x925*-0x2+0x839+0xa11]-_0x1246b7[0x68d+-0xb7*0x13+0x708])*(-0x1229+-0x2290*0x1+0x34b9+0.5),(_0x3c1658[-0x1f54+-0x3*-0x32d+0x15ce]-_0x1246b7[-0xffd+-0x1*-0x16bb+-0x6bd])*(-0x1715*0x1+0x43d+0x9*0x218+0.5),(_0x3c1658[0x6b1+-0x24d2+-0x1*-0x1e23]-_0x1246b7[-0x9*-0xa3+-0xfb*-0xd+0x314*-0x6])*(0x1*-0x1d89+0x7*0x3f1+-0xf9*-0x2+0.5))),_0x4a397c=_0x57d9a5[_0x4ef3a6]['indices'];let _0x301493=_0x57d9a5[_0x4ef3a6]['deltaPosit'+'ions'],_0x6834b4=_0x57d9a5[_0x4ef3a6]['deltaNorma'+'ls'];_0x4a397c&&(_0x301493=_0x14ebdc(_0x301493,_0x4a397c,_0x1e15a6),_0x6834b4=_0x14ebdc(_0x6834b4,_0x4a397c,_0x1e15a6)),_0x2fdcd5=new Qc({'deltaPositions':_0x301493,'deltaNormals':_0x6834b4,'name':_0x57d9a5[_0x4ef3a6]['name'],'aabb':_0x18d92a}),_0x4c5869['push'](_0x2fdcd5);}const _0x326fd0=new F0(_0x4c5869,this['_device']);_0x21c29b['push'](_0x326fd0);const _0x3d1544=new fn(_0x326fd0);_0x2440e5['push'](_0x3d1544);}}return{'morphs':_0x21c29b,'instances':_0x2440e5};}['_parseVert'+'exBuffers'](_0x3471de){const _0x76f415=_0x3471de['model'],_0x109a28=[],_0x252d6f={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0xd7a288=0xadd+-0xde0+0x303;_0xd7a288<_0x76f415['vertices']['length'];_0xd7a288++){const _0x270443=_0x76f415['vertices'][_0xd7a288],_0x3169d3=[];for(const _0x19cadd in _0x270443){const _0x3f18ad=_0x270443[_0x19cadd];_0x3169d3['push']({'semantic':_0x252d6f[_0x19cadd],'components':_0x3f18ad['components'],'type':tL[_0x3f18ad['type']],'normalize':_0x252d6f[_0x19cadd]===At});}const _0x1f7303=new Et(this['_device'],_0x3169d3),_0x47fdef=_0x270443['position']['data']['length']/_0x270443['position']['components'],_0x4ebc2c=new os(this['_device'],_0x1f7303,_0x47fdef),_0x1ccdf5=new go(_0x4ebc2c);for(let _0xd2c8a7=-0x1c3f+-0xa68+0x26a7;_0xd2c8a7<_0x47fdef;_0xd2c8a7++){for(const _0x511a20 in _0x270443){const _0x5441cc=_0x270443[_0x511a20];switch(_0x5441cc['components']){case-0x18fa*-0x1+-0x3ba+-0x15*0x103:_0x1ccdf5['element'][_0x252d6f[_0x511a20]]['set'](_0x5441cc['data'][_0xd2c8a7]);break;case 0x115c*0x2+-0x11*0x121+0x89*-0x1d:_0x1ccdf5['element'][_0x252d6f[_0x511a20]]['set'](_0x5441cc['data'][_0xd2c8a7*(-0x53*0x70+0x1b5+-0x229d*-0x1)],-0x99*0x12+-0x2679+0x4*0xc4f-_0x5441cc['data'][_0xd2c8a7*(-0x1e5a+-0x109c+0x2ef8)+(-0x14*0x125+-0x214+0x18f9)]);break;case 0x20da+-0x67f*-0x1+-0x2*0x13ab:_0x1ccdf5['element'][_0x252d6f[_0x511a20]]['set'](_0x5441cc['data'][_0xd2c8a7*(0x1*0x1b4+0xe7b*-0x1+0x2*0x665)],_0x5441cc['data'][_0xd2c8a7*(-0x2455+0x1497+0xfc1)+(-0x399+0x1*-0xeab+0x1245)],_0x5441cc['data'][_0xd2c8a7*(0x1b*-0xea+-0x6d*-0x3+-0x4a*-0x51)+(0x1*0x268f+-0x22d+0x60*-0x61)]);break;case-0xabd+0x119b*0x1+-0x6da*0x1:_0x1ccdf5['element'][_0x252d6f[_0x511a20]]['set'](_0x5441cc['data'][_0xd2c8a7*(-0xd3c+0x19e0+-0xca0)],_0x5441cc['data'][_0xd2c8a7*(0x1f06+0x442+0xf4*-0x25)+(-0x1*0x74f+0x53c+-0xe*-0x26)],_0x5441cc['data'][_0xd2c8a7*(-0x6*-0x54c+0x1b*-0x97+-0xfd7)+(0x1*0x8f5+-0x2*-0x109b+-0x2a29)],_0x5441cc['data'][_0xd2c8a7*(0x11d5*-0x1+-0x2*-0x644+0x551*0x1)+(-0x9fd+0x2e7*0x7+-0xa51)]);break;}}_0x1ccdf5['next']();}_0x1ccdf5['end'](),_0x109a28['push'](_0x4ebc2c);}return _0x109a28;}['_parseInde'+'xBuffers'](_0x42ee55,_0x14638b){const _0x1c3e92=_0x42ee55['model'];let _0x30cfbb=null,_0xa98a7b=null,_0xcecb58,_0x3a0f0c=0x26cf+0x18e5+0x1b*-0x25c;for(_0xcecb58=-0x5*0x6dd+-0x1*-0x351+0x8*0x3e0;_0xcecb58<_0x1c3e92['meshes']['length'];_0xcecb58++){const _0x2b0696=_0x1c3e92['meshes'][_0xcecb58];_0x2b0696['indices']!==void(-0x2*0xd2b+-0x855+0x22ab)&&(_0x3a0f0c+=_0x2b0696['indices']['length']);}let _0x43f5b1=0x1*0x1769+-0x1a*0x36+0xd*-0x161;for(_0xcecb58=-0xb18+-0x1*-0x709+0x40f;_0xcecb58<_0x14638b['length'];_0xcecb58++)_0x43f5b1=Math['max'](_0x43f5b1,_0x14638b[_0xcecb58]['numVertice'+'s']);return _0x3a0f0c>0x5d*-0x4+0xf6*-0x8+0x924&&(_0x43f5b1>-0x443*-0x49+0x2*-0xff04+0x1c6ec?(_0x30cfbb=new lr(this['_device'],nr,_0x3a0f0c),_0xa98a7b=new Uint32Array(_0x30cfbb['lock']())):(_0x30cfbb=new lr(this['_device'],Pi,_0x3a0f0c),_0xa98a7b=new Uint16Array(_0x30cfbb['lock']()))),{'buffer':_0x30cfbb,'data':_0xa98a7b};}['_parseMesh'+'es'](_0x4c86b4,_0x5d3737,_0x3f0d9e,_0x265e02,_0x2c6728,_0x14463b){const _0x51cad6=_0x4c86b4['model'],_0x5df814=[];let _0x78a39c=0x1*-0x1355+0x3b*-0x65+-0x65*-0x6c;for(let _0x44db7b=0xbc*0x2+-0x155a+0x13e2;_0x44db7b<_0x51cad6['meshes']['length'];_0x44db7b++){const _0x4d1139=_0x51cad6['meshes'][_0x44db7b],_0x418291=_0x4d1139['aabb'],_0x388743=_0x418291['min'],_0x329330=_0x418291['max'],_0x5410fc=new _e(new T((_0x329330[-0x1ad+0x1bf1+-0x1a44]+_0x388743[0x797+-0x1*0x262d+0x57*0x5a])*(0x1*-0x160e+0x5c5+0x1049+0.5),(_0x329330[0xaad+0x49*-0x1+0xa63*-0x1]+_0x388743[0xd*0xeb+0x5*-0x301+0x317])*(0x1*-0xb33+-0xd*-0xe5+-0x1*0x6e+0.5),(_0x329330[-0xee+-0xb82+0xc72]+_0x388743[-0x1*0x2109+0xd*0x3f+0x1dd8])*(-0xaf7+0x1880+-0xd89+0.5)),new T((_0x329330[0x126e*0x2+-0x1d07+-0x7d5]-_0x388743[-0x1701*0x1+0x149e+0x263])*(0x1734+0x3*0x9c2+-0x117e*0x3+0.5),(_0x329330[-0xcb2+-0x132e+0x1fe1]-_0x388743[-0x13af+-0xf*-0x65+-0xf*-0xeb])*(-0x1*-0x11b5+-0x208c+0x1d*0x83+0.5),(_0x329330[-0x1246+-0x1157*0x1+0x33d*0xb]-_0x388743[-0x2*-0x70e+-0xdda+-0x4*0x10])*(0x1*-0x7db+-0x504+0xcdf+0.5))),_0x48a34e=_0x4d1139['indices']!==void(0xb*-0x1+0x6ba+-0x6af),_0x552bb1=new Ie(this['_device']);_0x552bb1['vertexBuff'+'er']=_0x265e02[_0x4d1139['vertices']],_0x552bb1['indexBuffe'+'r'][0xd73+-0x131*-0x1+-0xea4]=_0x48a34e?_0x2c6728:null,_0x552bb1['primitive'][0x15*0x7+0x4*0x4d9+0x13*-0x10d]['type']=eL[_0x4d1139['type']],_0x552bb1['primitive'][-0x1*0xb11+0x469+0x6a8]['base']=_0x48a34e?_0x4d1139['base']+_0x78a39c:_0x4d1139['base'],_0x552bb1['primitive'][0x1661+-0x36a+0x3cb*-0x5]['count']=_0x4d1139['count'],_0x552bb1['primitive'][-0x99a+0x1*0x76a+0x118*0x2]['indexed']=_0x48a34e,_0x552bb1['skin']=_0x4d1139['skin']!==void(-0x13b5+-0x65*-0x5+0x11bc)?_0x5d3737[_0x4d1139['skin']]:null,_0x552bb1['morph']=_0x4d1139['morph']!==void(0x12b0+0x163*-0x1+-0x114d)?_0x3f0d9e[_0x4d1139['morph']]:null,_0x552bb1['aabb']=_0x5410fc,_0x48a34e&&(_0x14463b['set'](_0x4d1139['indices'],_0x78a39c),_0x78a39c+=_0x4d1139['indices']['length']),_0x5df814['push'](_0x552bb1);}return _0x2c6728!==null&&_0x2c6728['unlock'](),_0x5df814;}['_parseMesh'+'Instances'](_0x4426f1,_0x7f8aab,_0x4ff8fd,_0x31538e,_0x29fb05,_0x487bcd,_0x38986b){const _0x974798=_0x4426f1['model'],_0x46f5c2=[];let _0x361712;for(_0x361712=-0x43f*0x4+-0x42*0x8a+0x3490;_0x361712<_0x974798['meshInstan'+'ces']['length'];_0x361712++){const _0x265ce7=_0x974798['meshInstan'+'ces'][_0x361712],_0xa3f1d1=_0x7f8aab[_0x265ce7['node']],_0x4fbfc3=_0x4ff8fd[_0x265ce7['mesh']],_0x4d67d1=new Le(_0x4fbfc3,this['_defaultMa'+'terial'],_0xa3f1d1);if(_0x4fbfc3['skin']){const _0x2c47e2=_0x31538e['indexOf'](_0x4fbfc3['skin']);if(_0x2c47e2===-(0x1345+-0x1408+0x62*0x2))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x4d67d1['skinInstan'+'ce']=_0x29fb05[_0x2c47e2];}if(_0x4fbfc3['morph']){const _0x510de5=_0x487bcd['indexOf'](_0x4fbfc3['morph']);if(_0x510de5===-(0x11bc+0x1*-0x2507+0x134c))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x4d67d1['morphInsta'+'nce']=_0x38986b[_0x510de5];}_0x46f5c2['push'](_0x4d67d1);}return _0x46f5c2;}}class iL extends Ne{constructor(_0x52244e){super(_0x52244e,'model'),this['_parsers']=[],this['device']=_0x52244e['graphicsDe'+'vice'],this['assets']=_0x52244e['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0x2b5500,_0x359f62)=>fe['getExtensi'+'on'](_0x2b5500)==='.json'),this['addParser'](new J2(this),(_0x34f069,_0x3acef8)=>fe['getExtensi'+'on'](_0x34f069)==='.glb');}['load'](_0xebc854,_0x296f0d,_0x3d4d50){typeof _0xebc854=='string'&&(_0xebc854={'load':_0xebc854,'original':_0xebc854});const _0x506951={'retry':this['maxRetries']>-0x1*-0xe1d+-0xa17+-0x406,'maxRetries':this['maxRetries']};(_0xebc854['load']['startsWith']('blob:')||_0xebc854['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0xebc854['original'])['toLowerCas'+'e']()==='.glb'?_0x506951['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x506951['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0xebc854['load'],_0x506951,(_0x335876,_0x2caaaa)=>{if(_0x296f0d){if(_0x335876)_0x296f0d('Error\x20load'+'ing\x20model:'+'\x20'+_0xebc854['original']+'\x20['+_0x335876+']');else{for(let _0x197720=-0x1c6*-0x1+0x2*0x7cd+0x20*-0x8b;_0x197720<this['_parsers']['length'];_0x197720++){const _0x383b1d=this['_parsers'][_0x197720];if(_0x383b1d['decider'](_0xebc854['original'],_0x2caaaa)){_0x383b1d['parser']['parse'](_0x2caaaa,(_0x21684b,_0x411c98)=>{_0x21684b?_0x296f0d(_0x21684b):_0x296f0d(null,_0x411c98);},_0x3d4d50);return;}}_0x296f0d('No\x20parsers'+'\x20found');}}});}['open'](_0x35b76b,_0x50ed5e){return _0x50ed5e;}['patch'](_0x6bdbbe,_0x4eda2f){if(!_0x6bdbbe['resource'])return;const _0x1e01e2=_0x6bdbbe['data'],_0x175955=this;_0x6bdbbe['resource']['meshInstan'+'ces']['forEach']((_0x908582,_0x56f016)=>{if(_0x1e01e2['mapping']){const _0x40fb19=function(_0x4637d4){_0x4637d4['resource']?_0x908582['material']=_0x4637d4['resource']:(_0x4637d4['once']('load',_0x40fb19),_0x4eda2f['load'](_0x4637d4)),_0x4637d4['once']('remove',_0x50e17d=>{_0x908582['material']===_0x50e17d['resource']&&(_0x908582['material']=_0x175955['defaultMat'+'erial']);});};if(!_0x1e01e2['mapping'][_0x56f016]){_0x908582['material']=_0x175955['defaultMat'+'erial'];return;}const _0x4c1c78=_0x1e01e2['mapping'][_0x56f016]['material'],_0x283fbb=_0x1e01e2['mapping'][_0x56f016]['path'];let _0x50b568;if(_0x4c1c78!==void(0x5*0x4db+-0x207f+0x8*0x107))_0x4c1c78?(_0x50b568=_0x4eda2f['get'](_0x4c1c78),_0x50b568?_0x40fb19(_0x50b568):_0x4eda2f['once']('add:'+_0x4c1c78,_0x40fb19)):_0x908582['material']=_0x175955['defaultMat'+'erial'];else{if(_0x283fbb){const _0x4a3b6b=_0x6bdbbe['getAbsolut'+'eUrl'](_0x1e01e2['mapping'][_0x56f016]['path']);_0x50b568=_0x4eda2f['getByUrl'](_0x4a3b6b),_0x50b568?_0x40fb19(_0x50b568):_0x4eda2f['once']('add:url:'+_0x4a3b6b,_0x40fb19);}}}});}['addParser'](_0x2f8c22,_0x15b12a){this['_parsers']['push']({'parser':_0x2f8c22,'decider':_0x15b12a});}}class rL extends Ne{constructor(_0x28970f){super(_0x28970f,'scene');}['load'](_0x3b93dd,_0x6345b1){Lx['load'](_0x3b93dd,this['maxRetries'],_0x6345b1);}['open'](_0x210013,_0x1f37a7){this['_app']['systems']['script']['preloading']=!(-0x1a17*0x1+0x54b*-0x2+-0xe5*-0x29);const _0x231b03=new Wp(this['_app'],!(-0x8a*0x17+0x3*0x9e7+0x1bb*-0xa))['parse'](_0x1f37a7),_0x5c712a=this['_app']['scene'];return _0x5c712a['root']=_0x231b03,this['_app']['applyScene'+'Settings'](_0x1f37a7['settings']),this['_app']['systems']['script']['preloading']=!(-0x9d7+0x11a+0x8be),_0x5c712a;}}const hc=class hc{static['push'](_0x1831a1){hc['_types']['push'](_0x1831a1);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0x44316e,_0x3d8f96,_0x193ace)=>{aL[_0x44316e]=0x3cf+0xdeb+-0x11b9;});function oL(_0x59b465,_0x4b841e,_0x449ff9){if(typeof _0x59b465!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x59b465+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x59b465['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0x59b465)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x4b841e=_0x4b841e||_0x59b465['__name']||Qh['__getScrip'+'tName'](_0x59b465),nL['has'](_0x4b841e))throw new Error('script\x20nam'+'e:\x20\x27'+_0x4b841e+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x59b465['__name']=_0x4b841e,qh['getApplica'+'tion']()['scripts']['add'](_0x59b465),Xr['push'](_0x59b465);}const lL=_0x2bde18=>_0x2bde18[-0x1*0x154b+0x8b*0x2f+-0x43a]['toLowerCas'+'e']()+_0x2bde18['substring'](0x2678+0x1*0x18be+-0x1*0x3f35);class hL extends Ne{constructor(_0xa447e6){super(_0xa447e6,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x4d76e4 in this['_cache']){const _0x367900=this['_cache'][_0x4d76e4],_0x75ced7=_0x367900['parentNode'];_0x75ced7&&_0x75ced7['removeChil'+'d'](_0x367900);}this['_cache']={};}['load'](_0x38344d,_0x46bdfb){typeof _0x38344d=='string'&&(_0x38344d={'load':_0x38344d,'original':_0x38344d});const _0x512f06=this;this['_app'];const _0x4bd1b1=(_0x38344d['load'],(_0x5f1bda,_0x43aec1,_0x7c078c)=>{if(_0x5f1bda)_0x46bdfb(_0x5f1bda);else{const _0x4e44f0={};for(let _0x7c0346=-0x1f78+0x157d+-0x1ff*-0x5;_0x7c0346<Xr['_types']['length'];_0x7c0346++)_0x4e44f0[Xr['_types'][_0x7c0346]['name']]=Xr['_types'][_0x7c0346];Xr['_types']['length']=0x17*-0x14b+0x2677+-0x8ba,_0x46bdfb(null,_0x4e44f0,_0x7c078c);const _0x2013b9=_0x43aec1['split']('&hash=')[0x22f+0x1e07*0x1+-0x2036];delete _0x512f06['_loader']['_cache'][pa['makeKey'](_0x2013b9,'script')];}}),[_0x443a9f]=_0x38344d['load']['split']('?');_0x443a9f['endsWith']('.mjs')?this['_loadModul'+'e'](_0x443a9f,_0x4bd1b1):this['_loadScrip'+'t'](_0x38344d['load'],_0x4bd1b1);}['open'](_0x438372,_0x1d0eca){return _0x1d0eca;}['patch'](_0x14d741,_0x3cdd60){}['_loadScrip'+'t'](_0x8adfce,_0x525671){const _0x39b9a4=document['head'],_0x978c6a=document['createElem'+'ent']('script');this['_cache'][_0x8adfce]=_0x978c6a,_0x978c6a['async']=!(-0x9*0x7c+0x9*0xbd+-0x248),_0x978c6a['addEventLi'+'stener']('error',_0x330968=>{_0x525671('Script:\x20'+_0x330968['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x34b*-0x2+-0x80*0x48+0x2a97));let _0x41806d=!(0xbe3+0x4*-0x774+0x11ee);_0x978c6a['onload']=_0x978c6a['onreadysta'+'techange']=function(){!_0x41806d&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x41806d=!(0x30*0xa7+0x12b*0xf+0x56d*-0x9),_0x525671(null,_0x8adfce,_0x978c6a));},_0x978c6a['src']=_0x8adfce,_0x39b9a4['appendChil'+'d'](_0x978c6a);}['_loadModul'+'e'](_0x21447c,_0x3176f2){const _0xe01ebf=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x2f3859=new URL(_0x21447c,_0xe01ebf);import(_0x2f3859['toString']())['then'](_0x392c6b=>{var _0x40afb6,_0x724e28;const _0x2d76d8=_0x2f3859['pathname']['split']('/')['pop'](),_0x140e3e=(_0x724e28=(_0x40afb6=this['_app']['assets']['find'](_0x2d76d8,'script'))==null?void(-0x121d+0x1159*-0x1+0xb2*0x33):_0x40afb6['data'])==null?void(0x35*-0xbc+0x1140+0x124*0x13):_0x724e28['scripts'];for(const _0x3837a7 in _0x392c6b){const _0x340e10=_0x392c6b[_0x3837a7];if(_0x340e10['prototype']instanceof Ht){const _0x3c2183=lL(_0x340e10['name']);oL(_0x340e10,_0x3c2183),_0x140e3e&&this['_app']['scripts']['addSchema'](_0x3c2183,_0x140e3e[_0x3c2183]);}}_0x3176f2(null,_0x21447c,null);})['catch'](_0x381e2c=>{_0x3176f2(_0x381e2c);});}}class cL extends Ne{constructor(_0x4e49b3){super(_0x4e49b3,'shader'),c(this,'decoder',null);}['load'](_0x1e3e10,_0xb415f9){typeof _0x1e3e10=='string'&&(_0x1e3e10={'load':_0x1e3e10,'original':_0x1e3e10}),$e['get'](_0x1e3e10['load'],{'retry':this['maxRetries']>-0x1cc+0x666+0x13*-0x3e,'maxRetries':this['maxRetries']},(_0x4b355d,_0x5e8925)=>{_0x4b355d?_0xb415f9('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x1e3e10['original']+'\x20['+_0x4b355d+']'):_0xb415f9(null,_0x5e8925);});}['openBinary'](_0x4f78da){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4f78da);}}function eu(_0x4dfa01){const _0x59a7fc=this;_0x59a7fc['resource']&&(_0x59a7fc['resource']['atlas']=_0x4dfa01['resource']);}function tu(_0x406888){this['registry']['load'](_0x406888);}class dL extends Ne{constructor(_0x591bd6){super(_0x591bd6,'sprite'),this['_assets']=_0x591bd6['assets'],this['_device']=_0x591bd6['graphicsDe'+'vice'];}['load'](_0x1f413d,_0x3a0aee){typeof _0x1f413d=='string'&&(_0x1f413d={'load':_0x1f413d,'original':_0x1f413d}),fe['getExtensi'+'on'](_0x1f413d['original'])==='.json'&&$e['get'](_0x1f413d['load'],{'retry':this['maxRetries']>-0x188f+-0x12*0xdb+0x27f5,'maxRetries':this['maxRetries']},(_0xa01021,_0x2601d1)=>{_0xa01021?_0x3a0aee(_0xa01021):_0x3a0aee(null,_0x2601d1);});}['open'](_0x318482,_0x4ff658){const _0x4ef9ad=new T1(this['_device']);return _0x318482&&(_0x4ef9ad['__data']=_0x4ff658),_0x4ef9ad;}['patch'](_0x291323,_0x4f5f48){const _0x18f27d=_0x291323['resource'];if(_0x18f27d['__data']&&(_0x291323['data']['pixelsPerU'+'nit']=_0x18f27d['__data']['pixelsPerU'+'nit'],_0x291323['data']['renderMode']=_0x18f27d['__data']['renderMode'],_0x291323['data']['frameKeys']=_0x18f27d['__data']['frameKeys'],_0x18f27d['__data']['textureAtl'+'asAsset'])){const _0x4385dc=_0x4f5f48['getByUrl'](_0x18f27d['__data']['textureAtl'+'asAsset']);_0x4385dc?_0x291323['data']['textureAtl'+'asAsset']=_0x4385dc['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x18f27d['__data']['textureAtl'+'asAsset']);}_0x18f27d['startUpdat'+'e'](),_0x18f27d['renderMode']=_0x291323['data']['renderMode'],_0x18f27d['pixelsPerU'+'nit']=_0x291323['data']['pixelsPerU'+'nit'],_0x18f27d['frameKeys']=_0x291323['data']['frameKeys'],this['_updateAtl'+'as'](_0x291323),_0x18f27d['endUpdate'](),_0x291323['off']('change',this['_onAssetCh'+'ange'],this),_0x291323['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x389d65){const _0x234fdc=_0x389d65['resource'];if(!_0x389d65['data']['textureAtl'+'asAsset']){_0x234fdc['atlas']=null;return;}this['_assets']['off']('load:'+_0x389d65['data']['textureAtl'+'asAsset'],eu,_0x389d65),this['_assets']['on']('load:'+_0x389d65['data']['textureAtl'+'asAsset'],eu,_0x389d65);const _0x56a2cf=this['_assets']['get'](_0x389d65['data']['textureAtl'+'asAsset']);_0x56a2cf&&_0x56a2cf['resource']?_0x234fdc['atlas']=_0x56a2cf['resource']:_0x56a2cf?this['_assets']['load'](_0x56a2cf):(this['_assets']['off']('add:'+_0x389d65['data']['textureAtl'+'asAsset'],tu,_0x389d65),this['_assets']['on']('add:'+_0x389d65['data']['textureAtl'+'asAsset'],tu,_0x389d65));}['_onAssetCh'+'ange'](_0x4ace6a,_0x5e31fe,_0x5de1c2,_0x53fa06){_0x5e31fe==='data'&&_0x5de1c2&&_0x5de1c2['textureAtl'+'asAsset']&&_0x53fa06&&_0x5de1c2['textureAtl'+'asAsset']!==_0x53fa06['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x53fa06['textureAtl'+'asAsset'],eu,_0x4ace6a),this['_assets']['off']('add:'+_0x53fa06['textureAtl'+'asAsset'],tu,_0x4ace6a));}}class Gg{constructor(_0x4650e4,_0x1fd6d8){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x4650e4,this['_data']=_0x1fd6d8);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x242df0=new Wp(this['_app'],!(0x270+0x17d5+-0x1a45));this['_templateR'+'oot']=_0x242df0['parse'](this['_data']);}}class uL extends Ne{constructor(_0xf5d99a){super(_0xf5d99a,'template'),c(this,'decoder',null);}['load'](_0x19ecbd,_0x58e7f6){typeof _0x19ecbd=='string'&&(_0x19ecbd={'load':_0x19ecbd,'original':_0x19ecbd});const _0x3190dd={'retry':this['maxRetries']>-0x3c3*-0x2+-0x127*0xd+0x775,'maxRetries':this['maxRetries']};$e['get'](_0x19ecbd['load'],_0x3190dd,(_0xf5a697,_0x4eec2e)=>{_0xf5a697?_0x58e7f6('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x19ecbd['original']):_0x58e7f6(_0xf5a697,_0x4eec2e);});}['open'](_0x19bde0,_0xb8daea){return new Gg(this['_app'],_0xb8daea);}['openBinary'](_0x4c4ae5){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x4c4ae5)));}}class fL extends Ne{constructor(_0xfd14e4){super(_0xfd14e4,'text'),c(this,'decoder',null);}['load'](_0x1fba5e,_0x35a6ab){typeof _0x1fba5e=='string'&&(_0x1fba5e={'load':_0x1fba5e,'original':_0x1fba5e}),$e['get'](_0x1fba5e['load'],{'retry':this['maxRetries']>0x55*0x60+0x2f*-0x8e+-0x5ce,'maxRetries':this['maxRetries']},(_0x1b6de8,_0x463145)=>{_0x1b6de8?_0x35a6ab('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x1fba5e['original']+'\x20['+_0x1b6de8+']'):_0x35a6ab(null,_0x463145);});}['openBinary'](_0x21941b){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x21941b);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x21238d){super(_0x21238d,'textureatl'+'as'),this['_loader']=_0x21238d['loader'];}['load'](_0x2bffe1,_0x562cec){typeof _0x2bffe1=='string'&&(_0x2bffe1={'load':_0x2bffe1,'original':_0x2bffe1});const _0x43c5f1=this,_0x4252fe=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x2bffe1['original'])==='.json'?$e['get'](_0x2bffe1['load'],{'retry':this['maxRetries']>0x12a5+0x2221+-0xc1*0x46,'maxRetries':this['maxRetries']},(_0x52cfee,_0x37ff48)=>{if(_0x52cfee)_0x562cec(_0x52cfee);else{const _0x4f1ec1=_0x2bffe1['original']['replace']('.json','.png');_0x43c5f1['_loader']['load'](_0x4f1ec1,'texture',(_0x4eb8ba,_0x323abb)=>{_0x4eb8ba?_0x562cec(_0x4eb8ba):_0x562cec(null,{'data':_0x37ff48,'texture':_0x323abb});});}}):_0x4252fe['load'](_0x2bffe1,_0x562cec);}['open'](_0x4f15df,_0x532cf8,_0x256a3a){const _0x43e5c3=new A1();if(_0x532cf8['texture']&&_0x532cf8['data'])_0x43e5c3['texture']=_0x532cf8['texture'],_0x43e5c3['__data']=_0x532cf8['data'];else{const _0x5ea577=this['_loader']['getHandler']('texture')['open'](_0x4f15df,_0x532cf8,_0x256a3a);if(!_0x5ea577)return null;_0x43e5c3['texture']=_0x5ea577;}return _0x43e5c3;}['patch'](_0x1f1586,_0x18cad4){if(!_0x1f1586['resource'])return;_0x1f1586['resource']['__data']&&(_0x1f1586['resource']['__data']['minfilter']!==void(-0x142c*0x1+0x1afd+-0x15d*0x5)&&(_0x1f1586['data']['minfilter']=_0x1f1586['resource']['__data']['minfilter']),_0x1f1586['resource']['__data']['magfilter']!==void(0xda+0x1d1d+0x9fd*-0x3)&&(_0x1f1586['data']['magfilter']=_0x1f1586['resource']['__data']['magfilter']),_0x1f1586['resource']['__data']['addressu']!==void(0x6ae+-0x149d+0xdef)&&(_0x1f1586['data']['addressu']=_0x1f1586['resource']['__data']['addressu']),_0x1f1586['resource']['__data']['addressv']!==void(-0x2372+-0x325*-0x1+0x204d*0x1)&&(_0x1f1586['data']['addressv']=_0x1f1586['resource']['__data']['addressv']),_0x1f1586['resource']['__data']['mipmaps']!==void(0x2583+-0x2*-0x10a+0x7eb*-0x5)&&(_0x1f1586['data']['mipmaps']=_0x1f1586['resource']['__data']['mipmaps']),_0x1f1586['resource']['__data']['anisotropy']!==void(-0x1f51*-0x1+0x1*0x2225+-0x31e*0x15)&&(_0x1f1586['data']['anisotropy']=_0x1f1586['resource']['__data']['anisotropy']),_0x1f1586['resource']['__data']['rgbm']!==void(0x117f+0x3*-0x493+-0x3c6)&&(_0x1f1586['data']['rgbm']=!!_0x1f1586['resource']['__data']['rgbm']),_0x1f1586['data']['frames']=_0x1f1586['resource']['__data']['frames'],delete _0x1f1586['resource']['__data']);const _0x1ee3c1=_0x1f1586['resource']['texture'];if(_0x1ee3c1&&(_0x1ee3c1['name']=_0x1f1586['name'],_0x1f1586['data']['hasOwnProp'+'erty']('minfilter')&&_0x1ee3c1['minFilter']!==sh[_0x1f1586['data']['minfilter']]&&(_0x1ee3c1['minFilter']=sh[_0x1f1586['data']['minfilter']]),_0x1f1586['data']['hasOwnProp'+'erty']('magfilter')&&_0x1ee3c1['magFilter']!==sh[_0x1f1586['data']['magfilter']]&&(_0x1ee3c1['magFilter']=sh[_0x1f1586['data']['magfilter']]),_0x1f1586['data']['hasOwnProp'+'erty']('addressu')&&_0x1ee3c1['addressU']!==th[_0x1f1586['data']['addressu']]&&(_0x1ee3c1['addressU']=th[_0x1f1586['data']['addressu']]),_0x1f1586['data']['hasOwnProp'+'erty']('addressv')&&_0x1ee3c1['addressV']!==th[_0x1f1586['data']['addressv']]&&(_0x1ee3c1['addressV']=th[_0x1f1586['data']['addressv']]),_0x1f1586['data']['hasOwnProp'+'erty']('mipmaps')&&_0x1ee3c1['mipmaps']!==_0x1f1586['data']['mipmaps']&&(_0x1ee3c1['mipmaps']=_0x1f1586['data']['mipmaps']),_0x1f1586['data']['hasOwnProp'+'erty']('anisotropy')&&_0x1ee3c1['anisotropy']!==_0x1f1586['data']['anisotropy']&&(_0x1ee3c1['anisotropy']=_0x1f1586['data']['anisotropy']),_0x1f1586['data']['hasOwnProp'+'erty']('rgbm'))){const _0x4acff8=_0x1f1586['data']['rgbm']?on:Di;_0x1ee3c1['type']!==_0x4acff8&&(_0x1ee3c1['type']=_0x4acff8);}_0x1f1586['resource']['texture']=_0x1ee3c1;const _0x23e0b1={};for(const _0x26598d in _0x1f1586['data']['frames']){const _0x475c9b=_0x1f1586['data']['frames'][_0x26598d];_0x23e0b1[_0x26598d]={'rect':new Q(_0x475c9b['rect']),'pivot':new W(_0x475c9b['pivot']),'border':new Q(_0x475c9b['border'])};}_0x1f1586['resource']['frames']=_0x23e0b1,_0x1f1586['off']('change',this['_onAssetCh'+'ange'],this),_0x1f1586['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x1e7081,_0xac1b39,_0x53e4f3){let _0xc09827;if(_0xac1b39==='data'||_0xac1b39==='data.frame'+'s'){const _0x548bb0={};for(const _0x41fe89 in _0x53e4f3['frames'])_0xc09827=_0x53e4f3['frames'][_0x41fe89],_0x548bb0[_0x41fe89]={'rect':new Q(_0xc09827['rect']),'pivot':new W(_0xc09827['pivot']),'border':new Q(_0xc09827['border'])};_0x1e7081['resource']['frames']=_0x548bb0;}else{const _0x1b6921=_0xac1b39['match'](pL);if(_0x1b6921){const _0x1e1b80=_0x1b6921[0x215d+0xbbe+0x1*-0x2d1a];_0x53e4f3?(_0x1e7081['resource']['frames'][_0x1e1b80]?(_0xc09827=_0x1e7081['resource']['frames'][_0x1e1b80],_0xc09827['rect']['set'](_0x53e4f3['rect'][0x1*-0x21a6+0x362+-0x95*-0x34],_0x53e4f3['rect'][-0x517*0x2+0x1621*0x1+-0xbf2],_0x53e4f3['rect'][0x1*0x922+-0x1a*-0xe3+-0x202e],_0x53e4f3['rect'][0x213*0x7+-0x151a*-0x1+-0x239c]),_0xc09827['pivot']['set'](_0x53e4f3['pivot'][0x2*-0xead+-0x10a4+0x2dfe],_0x53e4f3['pivot'][0x901*-0x2+-0x13d7*0x1+0xaa*0x39]),_0xc09827['border']['set'](_0x53e4f3['border'][-0x2*0xd13+0xf0e*0x2+-0x3f6],_0x53e4f3['border'][-0x22ed+-0x8*-0x364+0x3*0x29a],_0x53e4f3['border'][-0x1d3f*-0x1+0x102c+-0x2d69],_0x53e4f3['border'][0x1a6f+-0x9cd+0x1*-0x109f])):_0x1e7081['resource']['frames'][_0x1e1b80]={'rect':new Q(_0x53e4f3['rect']),'pivot':new W(_0x53e4f3['pivot']),'border':new Q(_0x53e4f3['border'])},_0x1e7081['resource']['fire']('set:frame',_0x1e1b80,_0x1e7081['resource']['frames'][_0x1e1b80])):_0x1e7081['resource']['frames'][_0x1e1b80]&&(delete _0x1e7081['resource']['frames'][_0x1e1b80],_0x1e7081['resource']['fire']('remove:fra'+'me',_0x1e1b80));}}}}function _L(){const _0x552077={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x56163a={'astc':_0x552077['cTFASTC_4x'+'4'],'dxt':_0x552077['cTFBC1'],'etc1':_0x552077['cTFETC1'],'etc2':_0x552077['cTFETC1'],'pvr':_0x552077['cTFPVRTC1_'+'4_RGB'],'atc':_0x552077['cTFATC_RGB'],'none':_0x552077['cTFRGB565']},_0x30bab1={'astc':_0x552077['cTFASTC_4x'+'4'],'dxt':_0x552077['cTFBC3'],'etc1':_0x552077['cTFRGBA444'+'4'],'etc2':_0x552077['cTFETC2'],'pvr':_0x552077['cTFPVRTC1_'+'4_RGBA'],'atc':_0x552077['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x552077['cTFRGBA444'+'4']},_0x27a8a1={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x2edc2b=(_0x502705,_0x48c3d7)=>{switch(_0x502705){case _0x552077['cTFETC1']:return _0x48c3d7['formats']['etc2']?_0x27a8a1['ETC2_RGB']:_0x27a8a1['ETC1'];case _0x552077['cTFETC2']:return _0x27a8a1['ETC2_RGBA'];case _0x552077['cTFBC1']:return _0x27a8a1['DXT1'];case _0x552077['cTFBC3']:return _0x27a8a1['DXT5'];case _0x552077['cTFPVRTC1_'+'4_RGB']:return _0x27a8a1['PVRTC_4BPP'+'_RGB_1'];case _0x552077['cTFPVRTC1_'+'4_RGBA']:return _0x27a8a1['PVRTC_4BPP'+'_RGBA_1'];case _0x552077['cTFASTC_4x'+'4']:return _0x27a8a1['ASTC_4x4'];case _0x552077['cTFATC_RGB']:return _0x27a8a1['ATC_RGB'];case _0x552077['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x27a8a1['ATC_RGBA'];case _0x552077['cTFRGBA32']:return _0x27a8a1['R8_G8_B8_A'+'8'];case _0x552077['cTFRGB565']:return _0x27a8a1['R5_G6_B5'];case _0x552077['cTFRGBA444'+'4']:return _0x27a8a1['R4_G4_B4_A'+'4'];}},_0x33f8a8=_0x1930fc=>{const _0x33fbaa=function(_0x4d4652,_0x1fff4f){const _0x3c32f9=_0x4d4652*(-0x24de+0x2258+0x13*0x22+0.00784313725490196)-(0x1003+-0x1*-0xed+-0x10ef),_0x15f680=_0x1fff4f*((0x2*0x449+-0xa00+0x170)/(-0x1eb+0x1f56+-0x1c6c))-(-0x2031+0x730+0x246*0xb),_0x192668=Math['sqrt'](-0x1fc6+0xdc9*-0x1+0x2d90-Math['min'](-0x11*-0x2f+0x1*0x76b+0x3*-0x383,_0x3c32f9*_0x3c32f9+_0x15f680*_0x15f680));return Math['max'](-0x1*-0xef9+0x1*0x127d+0x1*-0x2176,Math['min'](0x1fa*-0x5+-0x210e+-0xa3*-0x45,Math['floor']((_0x192668+(-0x173+0x4*-0x47d+0x26d*0x8))*(-0x1f7c+0x1f38+-0x22*-0x2+0.5)*(0x11fd+-0x2197*0x1+-0x1*-0x1099))));};for(let _0x304c4c=0x20bd+0x129+0x1*-0x21e6;_0x304c4c<_0x1930fc['length'];_0x304c4c+=0xa7+-0x26e0+0x27*0xfb){const _0x116af0=_0x1930fc[_0x304c4c+(0x1a93+0xd9+-0x1b69)],_0x213260=_0x1930fc[_0x304c4c+(0x4d4*0x6+-0x849+-0x1*0x14ae)];_0x1930fc[_0x304c4c+(-0x7+-0x353+0x42*0xd)]=_0x116af0,_0x1930fc[_0x304c4c+(0x1*-0x260+-0xdd+0x33f)]=_0x33fbaa(_0x116af0,_0x213260),_0x1930fc[_0x304c4c+(-0x4*0x3f1+0x2*-0xc43+0x284d)]=0x1784+-0x1185+0x20*-0x28;}return _0x1930fc;},_0x51198a=_0x331505=>{const _0x3aa026=new Uint16Array(_0x331505['length']/(0x2*0x113e+-0x1*0x247d+0x205));for(let _0xc1141b=0x14d3+-0x3*-0xc8b+-0x2*0x1d3a;_0xc1141b<_0x331505['length'];_0xc1141b+=-0x14*-0x2d+0x150b+-0x188b){const _0x52aef3=_0x331505[_0xc1141b+(-0x1732+0x6d*-0x19+0x21d7)],_0x3d9a95=_0x331505[_0xc1141b+(0x1*0x1571+-0x1c87+0x21*0x37)],_0x33ed5c=_0x331505[_0xc1141b+(0x8c6+-0x13f3+0xb2f)];_0x3aa026[_0xc1141b/(-0xdc9+-0x1*0x261b+-0x2*-0x19f4)]=(_0x52aef3&0x1*0x1e0b+-0x1778+-0x59b)<<-0x1*0x115f+0x1*0x13c3+-0x25c*0x1|(_0x3d9a95&-0x137e+0xb*-0x49+-0xd*-0x1d1)<<0xb8*0x29+0x3*-0x805+-0x1*0x566|_0x33ed5c>>-0xa45+0xa31*0x1+0x1*0x17;}return _0x3aa026;},_0x3ab8dd=(_0x1aa78a,_0x15001c)=>(_0x1aa78a&_0x1aa78a-(0xc09+-0x1fc7+-0x3*-0x695))===-0x1482+-0x11ad+-0x262f*-0x1&&(_0x15001c&_0x15001c-(-0xb*-0x51+0x20*0x77+0x1*-0x125a))===0x4c*-0x61+-0x4c*-0x1+0x1c8*0x10,_0x24cdb1=()=>typeof performance<'u'?performance['now']():0xa1*-0xb+-0x312*-0xc+-0x1ded;let _0x31dbe6,_0x236054,_0x261e58;const _0x48414=(_0x2b25db,_0x9a2007,_0x442644)=>{if(_0x442644){if(_0x2b25db['formats']['astc'])return'astc';}else{if(_0x9a2007){if(_0x2b25db['formats']['etc2'])return'etc2';}else{if(_0x2b25db['formats']['etc2'])return'etc2';if(_0x2b25db['formats']['etc1'])return'etc1';}}return(_0x2557b5=>{for(let _0x1c23b8=0x2ad*-0x2+-0x1e76+-0x4*-0x8f4;_0x1c23b8<_0x2557b5['length'];++_0x1c23b8){const _0x39d7f1=_0x2557b5[_0x1c23b8];if(_0x2b25db['formats'][_0x39d7f1])return _0x39d7f1;}return'none';})(_0x9a2007?_0x261e58:_0x236054);},_0x5bdf24=(_0x9feda7,_0x21e463,_0x10c575)=>{switch(_0x10c575){case _0x552077['cTFETC1']:case _0x552077['cTFETC2']:return!(0x2*-0x1001+-0x7*0x186+0x2aac);case _0x552077['cTFBC1']:case _0x552077['cTFBC3']:return(_0x9feda7&-0x4*-0x892+0x9*-0xe9+-0x1a14)===-0x4a*-0x75+0x349*-0x1+-0x1e89&&(_0x21e463&0xc51+-0x18d*0x17+0x175d)===-0x68*0x44+-0x1309+-0x955*-0x5;case _0x552077['cTFPVRTC1_'+'4_RGB']:case _0x552077['cTFPVRTC1_'+'4_RGBA']:return _0x3ab8dd(_0x9feda7,_0x21e463);case _0x552077['cTFASTC_4x'+'4']:return!(0x1*0x12ff+0xcc2+-0x1fc1);case _0x552077['cTFATC_RGB']:case _0x552077['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x41*-0x3+-0x14a7+-0x156a*-0x1);}return!(0x2510+-0xefb*-0x1+-0x340a);},_0x1023a2=(_0x1ecd23,_0xffcc0a,_0x5bedae)=>{if(!_0x31dbe6['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x1da4b6=_0x24cdb1(),_0x5f24a0=new _0x31dbe6['KTX2File'](new Uint8Array(_0xffcc0a)),_0x5801a4=_0x5f24a0['getWidth'](),_0xa034dc=_0x5f24a0['getHeight'](),_0x464e1f=_0x5f24a0['getLevels'](),_0x59b200=!!_0x5f24a0['getHasAlph'+'a'](),_0x604b77=_0x5f24a0['isUASTC']&&_0x5f24a0['isUASTC']();if(!_0x5801a4||!_0xa034dc||!_0x464e1f)throw _0x5f24a0['close'](),_0x5f24a0['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x1ecd23+'\x20width='+_0x5801a4+'\x20height='+_0xa034dc+'\x20levels='+_0x464e1f);const _0x1d2ad2=_0x48414(_0x5bedae['deviceDeta'+'ils'],_0x59b200,_0x604b77),_0x2859a1=!!_0x5bedae['isGGGR']&&_0x1d2ad2==='pvr';let _0xce22a8;if(_0x2859a1?_0xce22a8=_0x552077['cTFRGBA32']:(_0xce22a8=_0x59b200?_0x30bab1[_0x1d2ad2]:_0x56163a[_0x1d2ad2],_0x5bdf24(_0x5801a4,_0xa034dc,_0xce22a8)||(_0xce22a8=_0x59b200?_0x552077['cTFRGBA32']:_0x552077['cTFRGB565'])),!_0x5f24a0['startTrans'+'coding']())throw _0x5f24a0['close'](),_0x5f24a0['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x1ecd23);let _0x9635d9;const _0xcc6f98=[];for(let _0x2183a8=-0xf3*-0xd+0x1cc+-0xe23;_0x2183a8<_0x464e1f;++_0x2183a8){const _0x430b0e=_0x5f24a0['getImageTr'+'anscodedSi'+'zeInBytes'](_0x2183a8,-0x1011+-0x21dc+-0x31ed*-0x1,-0x1c35+-0x2b0+0x1*0x1ee5,_0xce22a8),_0x497822=new Uint8Array(_0x430b0e);if(!_0x5f24a0['transcodeI'+'mage'](_0x497822,_0x2183a8,-0x2057+-0x193*0xd+0x1*0x34ce,-0x7e9+0x11f*-0x2+0xa27,_0xce22a8,0x11a4+0x1*0x16fd+-0x28a1,-(-0x11d3+-0x2405+0x35d9),-(0x2ee*-0x4+-0x302+0x1*0xebb)))throw _0x5f24a0['close'](),_0x5f24a0['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x1ecd23);const _0x330b06=_0xce22a8===_0x552077['cTFRGB565']||_0xce22a8===_0x552077['cTFRGBA444'+'4'];_0xcc6f98['push'](_0x330b06?new Uint16Array(_0x497822['buffer']):_0x497822);}if(_0x5f24a0['close'](),_0x5f24a0['delete'](),_0x2859a1){for(_0xce22a8=_0x552077['cTFRGB565'],_0x9635d9=0x13d5+-0xd0e+-0x6c7;_0x9635d9<_0xcc6f98['length'];++_0x9635d9)_0xcc6f98[_0x9635d9]=_0x51198a(_0x33f8a8(_0xcc6f98[_0x9635d9]));}return{'format':_0x2edc2b(_0xce22a8,_0x5bedae['deviceDeta'+'ils']),'width':_0x5801a4,'height':_0xa034dc,'levels':_0xcc6f98,'cubemap':!(0xde*0x25+-0xb55*0x3+0x1ea),'transcodeTime':_0x24cdb1()-_0x1da4b6,'url':_0x1ecd23,'unswizzledGGGR':_0x2859a1};},_0x4c5f07=(_0x10c6c2,_0x144202,_0x52e8ff)=>{const _0x160d49=_0x24cdb1(),_0x27f86e=new _0x31dbe6['BasisFile'](new Uint8Array(_0x144202)),_0x311524=_0x27f86e['getImageWi'+'dth'](-0x1a6e*0x1+0x32*-0x64+0x3*0xf52,0xda*-0x1f+0xc97+-0xdcf*-0x1),_0x3c5c66=_0x27f86e['getImageHe'+'ight'](0x10d8+0x1c38+-0xce*0x38,0x1b02+-0x22e9+-0x121*-0x7),_0x5848c3=_0x27f86e['getNumImag'+'es'](),_0x119656=_0x27f86e['getNumLeve'+'ls'](0x1*-0xd13+0x2*-0x22f+0x1171),_0x563c08=!!_0x27f86e['getHasAlph'+'a'](),_0x13e79d=_0x27f86e['isUASTC']&&_0x27f86e['isUASTC']();if(!_0x311524||!_0x3c5c66||!_0x5848c3||!_0x119656)throw _0x27f86e['close'](),_0x27f86e['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x10c6c2+'\x20width='+_0x311524+'\x20height='+_0x3c5c66+'\x20images='+_0x5848c3+'\x20levels='+_0x119656);const _0x57803f=_0x48414(_0x52e8ff['deviceDeta'+'ils'],_0x563c08,_0x13e79d),_0x2f0c42=!!_0x52e8ff['isGGGR']&&_0x57803f==='pvr';let _0x168de3;if(_0x2f0c42?_0x168de3=_0x552077['cTFRGBA32']:(_0x168de3=_0x563c08?_0x30bab1[_0x57803f]:_0x56163a[_0x57803f],_0x5bdf24(_0x311524,_0x3c5c66,_0x168de3)||(_0x168de3=_0x563c08?_0x552077['cTFRGBA32']:_0x552077['cTFRGB565'])),!_0x27f86e['startTrans'+'coding']())throw _0x27f86e['close'](),_0x27f86e['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x10c6c2);let _0x3e525e;const _0x5b3749=[];for(let _0x19d4a7=0x1*0xa6f+-0x2*0x941+0x813;_0x19d4a7<_0x119656;++_0x19d4a7){const _0x203aa0=_0x27f86e['getImageTr'+'anscodedSi'+'zeInBytes'](0x1ea9+-0x1551*-0x1+-0x33fa,_0x19d4a7,_0x168de3),_0xb68606=new Uint8Array(_0x203aa0);if(!_0x27f86e['transcodeI'+'mage'](_0xb68606,0x13*0x1f7+-0x1a05*0x1+-0x16a*0x8,_0x19d4a7,_0x168de3,0x121d+-0x153+-0xe*0x133,-0x8d4+-0x1*0x988+0x125c)){if(_0x19d4a7===_0x119656-(0x5*-0x73b+-0x6*-0xcc+0x1f60)&&_0x203aa0===_0x5b3749[_0x19d4a7-(0x403+-0x9c9+0x57*0x11)]['buffer']['byteLength'])_0xb68606['set'](new Uint8Array(_0x5b3749[_0x19d4a7-(0x1766*0x1+0xbac+-0x2311)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x10c6c2);else throw _0x27f86e['close'](),_0x27f86e['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x10c6c2);}const _0x18f784=_0x168de3===_0x552077['cTFRGB565']||_0x168de3===_0x552077['cTFRGBA444'+'4'];_0x5b3749['push'](_0x18f784?new Uint16Array(_0xb68606['buffer']):_0xb68606);}if(_0x27f86e['close'](),_0x27f86e['delete'](),_0x2f0c42){for(_0x168de3=_0x552077['cTFRGB565'],_0x3e525e=-0x164e*0x1+-0xda*0x1+0x1728;_0x3e525e<_0x5b3749['length'];++_0x3e525e)_0x5b3749[_0x3e525e]=_0x51198a(_0x33f8a8(_0x5b3749[_0x3e525e]));}return{'format':_0x2edc2b(_0x168de3,_0x52e8ff['deviceDeta'+'ils']),'width':_0x311524,'height':_0x3c5c66,'levels':_0x5b3749,'cubemap':!(0x1d*-0xbc+-0x1783+-0x6*-0x778),'transcodeTime':_0x24cdb1()-_0x160d49,'url':_0x10c6c2,'unswizzledGGGR':_0x2f0c42};},_0x52debb=(_0x19a8d7,_0x461a26,_0x18a01a)=>_0x18a01a['isKTX2']?_0x1023a2(_0x19a8d7,_0x461a26,_0x18a01a):_0x4c5f07(_0x19a8d7,_0x461a26,_0x18a01a),_0x4f14c5=(_0x3b5d87,_0x3217c9,_0x1c87d4)=>{try{const _0x3d046b=_0x52debb(_0x3b5d87,_0x3217c9,_0x1c87d4);_0x3d046b['levels']=_0x3d046b['levels']['map'](_0x9795ad=>_0x9795ad['buffer']),self['postMessag'+'e']({'url':_0x3b5d87,'data':_0x3d046b},_0x3d046b['levels']);}catch(_0x2af2b1){self['postMessag'+'e']({'url':_0x3b5d87,'err':_0x2af2b1},null);}},_0x545d85=(_0x483005,_0x4481b8)=>{const _0x4cb974=(_0x4ca00a,_0x1bea51)=>(WebAssembly['instantiat'+'e'](_0x483005['module'],_0x4ca00a)['then'](_0x552465=>{_0x1bea51(_0x552465);})['catch'](_0x547d52=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x547d52);}),{});self['BASIS'](_0x483005['module']?{'instantiateWasm':_0x4cb974}:null)['then'](_0x22ea43=>{_0x22ea43['initialize'+'Basis'](),_0x31dbe6=_0x22ea43,_0x236054=_0x483005['rgbPriorit'+'y'],_0x261e58=_0x483005['rgbaPriori'+'ty'],_0x4481b8(null);});},_0x64f415=[];self['onmessage']=_0x5ae3c7=>{const _0x2d6fea=_0x5ae3c7['data'];switch(_0x2d6fea['type']){case'init':_0x545d85(_0x2d6fea['config'],()=>{for(let _0x5c5d4d=-0x139f+0x4cb*-0x7+-0x4*-0xd4b;_0x5c5d4d<_0x64f415['length'];++_0x5c5d4d)_0x4f14c5(_0x64f415[_0x5c5d4d]['url'],_0x64f415[_0x5c5d4d]['data'],_0x64f415[_0x5c5d4d]['options']);_0x64f415['length']=0x1450*-0x1+-0x2*-0xaf1+-0x2*0xc9;});break;case'transcode':_0x31dbe6?_0x4f14c5(_0x2d6fea['url'],_0x2d6fea['data'],_0x2d6fea['options']):_0x64f415['push'](_0x2d6fea);break;}};}const gL=_0x14b864=>({'astc':!!_0x14b864['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x14b864['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x14b864['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x14b864['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x14b864['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x14b864['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x147256,_0xe24035)=>{const _0x5bbfae=_0x26e840=>{const _0x2a6761=['/*\x20basis\x20*'+'/',_0x26e840,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x2a6761],{'type':'applicatio'+'n/javascri'+'pt'});},_0x2e3736=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x594702=new WebAssembly['Module'](Uint8Array['of'](-0x2579+0x1145*0x2+0x2ef,0xa7f*-0x2+-0x1*0xacf+-0x6*-0x55d,0x56*-0x13+0x31a+0x3bb,-0x2239*0x1+-0x2*0x795+0x63a*0x8,-0xe27+-0x1*0xa0b+0x1833*0x1,0x383*-0xa+0xe*-0x191+-0x390c*-0x1,0x1f*-0x24+0x1*-0x775+0xbd1,-0x13*0x5e+-0x751+0x1*0xe4b));if(_0x594702 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x594702)instanceof WebAssembly['Instance'];}}catch{}return!(0x128f*0x1+0x23a9*-0x1+0x1*0x111b);},_0x3c11f1=(_0x4869fb,_0x5a559a)=>{_0xe24035(null,{'workerUrl':URL['createObje'+'ctURL'](_0x5bbfae(_0x4869fb)),'module':_0x5a559a,'rgbPriority':_0x147256['rgbPriorit'+'y'],'rgbaPriority':_0x147256['rgbaPriori'+'ty']});},_0x35d636={'cache':!(-0xfd9*0x2+-0x18f6+0x38a8),'responseType':'text','retry':_0x147256['maxRetries']>-0x1*-0x1009+-0xb3d+-0x4cc,'maxRetries':_0x147256['maxRetries']};if(_0x147256['glueUrl']&&_0x147256['wasmUrl']&&_0x2e3736()){let _0x1a43db=null,_0x4c972e=null;$e['get'](_0x147256['glueUrl'],_0x35d636,(_0x2f2f07,_0x3f53fd)=>{_0x2f2f07?_0xe24035(_0x2f2f07):_0x4c972e?_0x3c11f1(_0x3f53fd,_0x4c972e):_0x1a43db=_0x3f53fd;});const _0x3d194f=fetch(_0x147256['wasmUrl']),_0x17cd8a=()=>{_0x3d194f['then'](_0xaabee9=>_0xaabee9['arrayBuffe'+'r']())['then'](_0x5c0555=>WebAssembly['compile'](_0x5c0555))['then'](_0x463838=>{_0x1a43db?_0x3c11f1(_0x1a43db,_0x463838):_0x4c972e=_0x463838;})['catch'](_0x551383=>{_0xe24035(_0x551383,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x3d194f)['then'](_0x1865f8=>{_0x1a43db?_0x3c11f1(_0x1a43db,_0x1865f8):_0x4c972e=_0x1865f8;})['catch'](_0xfade29=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x147256['wasmUrl']+'\x20('+_0xfade29+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x17cd8a();}):_0x17cd8a();}else $e['get'](_0x147256['fallbackUr'+'l'],_0x35d636,(_0x58c963,_0x475df1)=>{_0x58c963?_0xe24035(_0x58c963,null):_0x3c11f1(_0x475df1,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x44f376,_0x3957a8,_0x5f1711,_0x340be1){if(this['callbacks']['hasOwnProp'+'erty'](_0x44f376))this['callbacks'][_0x44f376]['push'](_0x5f1711);else{this['callbacks'][_0x44f376]=[_0x5f1711];const _0x1c8da8={'url':_0x44f376,'data':_0x3957a8,'options':_0x340be1};this['clients']['length']>-0x2*-0xc83+-0x873+-0x1093?this['clients']['shift']()['run'](_0x1c8da8):this['queue']['push'](_0x1c8da8);}}['enqueueCli'+'ent'](_0x454a5a){this['queue']['length']>-0x1315*-0x2+0x2465+0x4a8f*-0x1?_0x454a5a['run'](this['queue']['shift']()):this['clients']['push'](_0x454a5a);}['handleResp'+'onse'](_0x1b0710,_0x45a66c,_0x4a9c49){const _0x3435ce=this['callbacks'][_0x1b0710];if(_0x45a66c){for(let _0x100df3=0x3*-0x7d6+-0x871*0x3+0x30d5;_0x100df3<_0x3435ce['length'];++_0x100df3)_0x3435ce[_0x100df3](_0x45a66c);}else{_0x4a9c49['format']===_c||_0x4a9c49['format']===gc?_0x4a9c49['levels']=_0x4a9c49['levels']['map'](_0x59bf6b=>new Uint16Array(_0x59bf6b)):_0x4a9c49['levels']=_0x4a9c49['levels']['map'](_0x1a4b2f=>new Uint8Array(_0x1a4b2f));for(let _0x2f0955=0x4*0x8fb+0x1944+-0x3d30;_0x2f0955<_0x3435ce['length'];++_0x2f0955)_0x3435ce[_0x2f0955](null,_0x4a9c49);}delete this['callbacks'][_0x1b0710];}}class SL{constructor(_0x584dc7,_0x40f778,_0x15e9f7){this['queue']=_0x584dc7,this['worker']=new Worker(_0x40f778['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x306c25=>{const _0x1e94f4=_0x306c25['data'];this['queue']['handleResp'+'onse'](_0x1e94f4['url'],_0x1e94f4['err'],_0x1e94f4['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x40f778}),this['eager']=_0x15e9f7;}['run'](_0x5d1e42){const _0x413d94=[];_0x5d1e42['data']instanceof ArrayBuffer&&_0x413d94['push'](_0x5d1e42['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x5d1e42['url'],'format':_0x5d1e42['format'],'data':_0x5d1e42['data'],'options':_0x5d1e42['options']},_0x413d94),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=-0x3*-0x9bd+0x11b6*0x2+-0x40a2,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=-0x17b7+0x1176+-0x16*-0x49,Tf=new xL();let Hg=null,Af=!(-0x26cf+0x11*0x14+-0x2*-0x12be);function AL(_0x2d6072){if(!Af){if(!_0x2d6072)_0x2d6072=Hg||{};else{if(_0x2d6072['lazyInit']){Hg=_0x2d6072;return;}}if(!_0x2d6072['glueUrl']||!_0x2d6072['wasmUrl']||!_0x2d6072['fallbackUr'+'l']){const _0x2b2b90=ay['getConfig']('BASIS');_0x2b2b90&&(_0x2d6072={'glueUrl':_0x2b2b90['glueUrl'],'wasmUrl':_0x2b2b90['wasmUrl'],'fallbackUrl':_0x2b2b90['fallbackUr'+'l'],'numWorkers':_0x2b2b90['numWorkers']});}if(_0x2d6072['glueUrl']||_0x2d6072['wasmUrl']||_0x2d6072['fallbackUr'+'l']){Af=!(0xbb6*-0x1+0x184*-0x11+-0xea*-0x29);const _0x5acfb6=Math['max'](0x3*0x75b+-0x1f4c+0x93c,Math['min'](0x1*0x170e+0x88*0x41+-0x3986,_0x2d6072['numWorkers']||vL)),_0x5e26f8=_0x2d6072['numWorkers']===-0x1991+0xb06+0x85*0x1c||(_0x2d6072['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x2d6072['eagerWorke'+'rs']:!(0x1*-0x1c2a+-0xb3c*-0x2+0x5b2));_0x2d6072['rgbPriorit'+'y']=_0x2d6072['rgbPriorit'+'y']||bL,_0x2d6072['rgbaPriori'+'ty']=_0x2d6072['rgbaPriori'+'ty']||wL,_0x2d6072['maxRetries']=_0x2d6072['hasOwnProp'+'erty']('maxRetries')?_0x2d6072['maxRetries']:TL,yL(_0x2d6072,(_0x2d9abc,_0x4a87c6)=>{if(_0x2d9abc)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x2d9abc);else{for(let _0x3a83bf=0x2bf*0x5+0x2*-0x265+0x3*-0x2fb;_0x3a83bf<_0x5acfb6;++_0x3a83bf)Tf['enqueueCli'+'ent'](new SL(Tf,_0x4a87c6,_0x5e26f8));}});}}}let su=null;function Fx(_0x39b72b,_0x14a8e3,_0x30a6f7,_0x1841d7,_0x4e759f){return AL(),su||(su={'formats':gL(_0x39b72b)}),Tf['enqueueJob'](_0x14a8e3,_0x30a6f7,_0x1841d7,{'deviceDetails':su,'isGGGR':!!(_0x4e759f!=null&&_0x4e759f['isGGGR']),'isKTX2':!!(_0x4e759f!=null&&_0x4e759f['isKTX2'])}),Af;}class Na{['load'](_0x5ff01a,_0x2729b0,_0x46e6d8){throw new Error('not\x20implem'+'ented');}['open'](_0x1bf2df,_0x4583c5,_0x3c0d43){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0x2adbed,_0x376e72){super(),this['device']=_0x376e72,this['maxRetries']=0x96a+-0x10*0xd1+0x3a6;}['load'](_0x56c348,_0x2f74ae,_0xe6435f){const _0x590666=this['device'],_0x4b9d0d=_0x4ee9a7=>{var _0x5e6544,_0x3e9b56,_0x3cde29;Fx(_0x590666,_0x56c348['load'],_0x4ee9a7,_0x2f74ae,{'isGGGR':(((_0x3cde29=(_0x3e9b56=(_0x5e6544=_0xe6435f==null?void(0x23b1*-0x1+-0xa02+0x2db3):_0xe6435f['file'])==null?void(0x265*0x1+-0x1de5+0x1b80):_0x5e6544['variants'])==null?void(0x1779*-0x1+0x54*0x34+0x3*0x223):_0x3e9b56['basis'])==null?void(-0x53*0x16+0x42d*-0x1+0xb4f):_0x3cde29['opt'])&0xada+-0x4*-0x526+-0x1*0x1f6a)!==-0x3*-0x6e6+-0x14c3+0x11})||_0x2f74ae('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0xe6435f['name']+']('+_0xe6435f['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x56c348['load'],(_0x21ac26,_0x5f0f25)=>{_0x21ac26?_0x2f74ae(_0x21ac26):_0x4b9d0d(_0x5f0f25);},_0xe6435f,this['maxRetries']);}['open'](_0x5c9474,_0x625b2c,_0x3086a6,_0x3be6db={}){const _0x146a62=_0x3be6db['srgb']?Cc(_0x625b2c['format']):_0x625b2c['format'],_0x2008f5=new he(_0x3086a6,{'name':_0x5c9474,'profilerHint':ur,'addressU':_0x625b2c['cubemap']?ae:tt,'addressV':_0x625b2c['cubemap']?ae:tt,'width':_0x625b2c['width'],'height':_0x625b2c['height'],'format':_0x146a62,'cubemap':_0x625b2c['cubemap'],'levels':_0x625b2c['levels'],..._0x3be6db});return _0x2008f5['upload'](),_0x2008f5;}}const Ox=new Uint8Array([0x1*0x168d+-0x25*0xc1+0x5e1,0x1d*0xc3+-0x855*-0x1+-0x1e1c,-0x429+0x1a23+-0x15ac,0xc78+0x8f9*-0x2+-0x1eb*-0x3,0x1*-0x22b6+0x40*0x56+0x61*0x23,-0x9*0x3c9+-0x1ebc*-0x1+0x35f*0x1,-0x37*-0x47+-0x1*0x157d+-0x2*-0x32b,-0x19ed+0x91b+0x10dc*0x1,0x410+-0x203+-0x19*0x15,0x1f1e+-0x2311+0x1*0x3f3,-0x4a*0x2b+-0x3*-0x3bd+0x137,0x1833+0x24f8+-0x3d1e,-0x1f5c+0x11cd+-0x2*-0x6ec,0x1b9+0x27*0x24+0x9*-0xc5,0x119d+-0x2227+0x867*0x2,-0x1792+0x4ae+0x1336,-0x2a*-0x68+-0x1*0xf0d+-0x5*0x67,0x73f*-0x4+0x1d04+-0x8,0x18a8+0x6bf+-0x1*0x1f67,0x1*0xbce+0x1b24+-0x1*0x26f1,0xad2*0x2+0xc*0x2ea+-0x389c,0x1cb9+-0x5b3*-0x3+-0x2dd2,-0x2ee+0x107*-0x1b+-0x1*-0x1eab,0x1e16*0x1+0x2d*-0x39+-0x6*0x358,-0x1*-0xb5b+-0x25*0xa9+0xd1a,-0xd*0x290+0x13df+0xd77,-0x1*0x959+-0x4*0x8e+0xb91,-0xb98*-0x2+-0x1a9*-0xf+-0x3b3*0xd,-0x81e+0x1*0x1245+-0xa27,-0x1021+-0x5*0x7a5+0x5*0xae5,-0x14cd+-0x149*0x1d+-0x1*-0x3a27,0x2629*0x1+-0xd*0x1f3+0x607*-0x2,0x1d8a+-0x39c+0x1*-0x1965,-0x22*-0x3d+0x56b+0xd85*-0x1,0x31*0x3+0x125a+-0x12ed,-0x373*0x4+-0x15a*0x1+0xf26,-0xac0+-0xd*-0x8c+0x3b1,0x2412+0x25b3+-0x1*0x497c,-0x1*-0x17bf+0x23d3+-0x3b4e,-0x7cc*0x3+-0xf45*-0x1+0x10c*0x8,0x1067+0x15b*0xb+0x1efc*-0x1,0xdd+-0x1f76+0x1*0x1f11,-0x1*-0xd19+-0x62*-0x32+0x1*-0x1f63,0x2dc*-0x9+0x2d3*0xd+-0xa98,0x243e+0x1*-0x3b5+-0x279*0xd,0x1f64+-0x9cc+-0x1534,0xc6a+-0x29e+-0x96a,-0xf6b+0x1b3*0xf+0x4*-0x257,-0x1*-0x252e+-0xb0c+-0x29*0xa3,0x22d1+0x1767*0x1+-0x3a38,-0x1f6c+0x1a1*-0x1+-0x210d*-0x1,0x141+-0x1*0x4c+-0x9c,0x184a*0x1+0x128f+-0x7*0x61f,-0x1*-0x1b98+0x2*-0xc4f+0x1*-0x2b3,0x481*0x2+0x1303*-0x1+0x124*0x9,-0x7c0+-0x371*-0x1+-0x4*-0x135,-0x1a99+0x1a46+0xe7,0x1b00+-0x9ff*0x2+-0x615,-0x1037+0x1*0x2575+-0x153e,-0xee8*-0x1+0xe0a+0x1*-0x1cf2,0x11*-0x8b+0x29*0x7+-0x207*-0x4,-0x23f2+0x2*0x1e3+0x1*0x202c,0x247+-0x2511+0x2313,-0x6a9+0x2193+-0x13*0x167,0x43f+0x247*0x9+-0x1870,-0x878+0xe82+-0x5c6,-0x41+0x8b7*0x2+-0x107f*0x1,0xf04+0xa37+-0x3*0x853,-0x84d+-0xf*-0x1a1+-0xfc2,-0x1250*0x1+0x11*0x22d+0x1*-0x122b]),kx=(_0x17134a,_0x4c7e92)=>{const _0x49f26d=new he(_0x17134a,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(-0x7*0x293+-0x1*-0x20af+-0xea9*0x1),'levels':[_0x4c7e92]}),_0x1093b9=new pt({'colorBuffer':_0x49f26d,'depth':!(0xd*0x2bd+0xc52+-0x17f5*0x2)});_0x17134a['setFramebu'+'ffer'](_0x1093b9['impl']['_glFrameBu'+'ffer']),_0x17134a['initRender'+'Target'](_0x1093b9);const _0x54c298=new Uint8ClampedArray(-0x2*0x2f5+0x1cfb+0x15*-0x119);return _0x17134a['gl']['readPixels'](-0x1942+0x41*0xf+-0x143*-0x11,-0x16*0x13+-0x2515*-0x1+-0x2373,0x1d*-0x35+0x18*0x121+-0x1516,0x2*-0x8a4+-0xf4d+-0x2*-0x104b,_0x17134a['gl']['RGBA'],_0x17134a['gl']['UNSIGNED_B'+'YTE'],_0x54c298),_0x1093b9['destroy'](),_0x49f26d['destroy'](),_0x54c298[0x6d1*0x5+-0xad*-0x8+-0x277d]===0x1*0xdfb+0x7*-0x359+0x975*0x1&&_0x54c298[-0x1fac+-0xc7*0x2+0x213b]===-0x1*0x1fd8+0x7*-0x4a1+-0x3*-0x156b&&_0x54c298[-0x892+-0x24ff+0x2d93]===0x25*-0x3d+0x12ad+-0x9d9&&_0x54c298[0x16ec+0x39*0x53+-0x14b2*0x2]===-0x17*-0x117+0x18*-0x95+-0xada;},CL=_0x364cdd=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x23e08a=>kx(_0x364cdd,_0x23e08a))['catch'](_0x1b03f7=>!(-0x13*0x12b+-0x1000+0x1319*0x2)),ML=_0x1cdb30=>new Promise((_0x26df9d,_0x10d568)=>{const _0x2a0e8f=new Image();_0x2a0e8f['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x2a0e8f['onload']=()=>{_0x26df9d(kx(_0x1cdb30,_0x2a0e8f));};});class PL{static['run'](_0x5e3b04){CL(_0x5e3b04)['then'](_0x428ce2=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x428ce2);}),ML(_0x5e3b04)['then'](_0x5895c7=>{console['log']('imgElement'+'IsCorrect='+_0x5895c7);});}}class RL extends Na{constructor(_0x4a71d4,_0x4e91da){super(),this['crossOrigi'+'n']=_0x4a71d4['prefix']?'anonymous':null,this['maxRetries']=0x360+0x1d4+0x14d*-0x4,this['device']=_0x4e91da,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x570872,_0x595b4e,_0x2ec16e){var _0x120ee2;const _0x4b42f0=!!((_0x120ee2=_0x2ec16e==null?void(-0x2b4+-0x18d8+0x6e3*0x4):_0x2ec16e['file'])!=null&&_0x120ee2['contents']);if(_0x4b42f0){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x2ec16e['file']['contents']]),_0x595b4e);return;}_0x570872={'load':URL['createObje'+'ctURL'](new Blob([_0x2ec16e['file']['contents']])),'original':_0x570872['original']};}const _0xd2e850=(_0x33f469,_0x48b4d5)=>{_0x4b42f0&&URL['revokeObje'+'ctURL'](_0x570872['load']),_0x595b4e(_0x33f469,_0x48b4d5);};let _0x3c2e23;_0x2ec16e&&_0x2ec16e['options']&&_0x2ec16e['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x3c2e23=_0x2ec16e['options']['crossOrigi'+'n']:Da['test'](_0x570872['load'])&&(_0x3c2e23=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x570872['load'],_0x570872['original'],_0x3c2e23,_0xd2e850):this['_loadImage'](_0x570872['load'],_0x570872['original'],_0x3c2e23,_0xd2e850);}['open'](_0x32e8ce,_0xc82a3c,_0xe376cd,_0x55d469={}){const _0x43a169=new he(_0xe376cd,{'name':_0x32e8ce,'profilerHint':ur,'width':_0xc82a3c['width'],'height':_0xc82a3c['height'],'format':_0x55d469['srgb']?rs:Se,..._0x55d469});return _0x43a169['setSource'](_0xc82a3c),_0x43a169;}['_loadImage'](_0x2298a0,_0x5cd903,_0x5c64ed,_0x130707){const _0x478d8d=new Image();_0x5c64ed&&(_0x478d8d['crossOrigi'+'n']=_0x5c64ed);let _0x546525=0x2*-0x840+-0x26dc+0x375c;const _0x208ab5=this['maxRetries'];let _0x257b24;_0x478d8d['onload']=function(){_0x130707(null,_0x478d8d);},_0x478d8d['onerror']=function(){if(!_0x257b24){if(_0x208ab5>-0x4c*-0x47+0x531+-0x1a45&&++_0x546525<=_0x208ab5){const _0x5d7203=Math['pow'](0x127c+0x18ec+-0x2b66,_0x546525)*(0xe*-0x95+0xba2+0x42*-0xc);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x5cd903+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x5d7203+'ms...');const _0x8e6e89=_0x2298a0['indexOf']('?')>=-0x1475*-0x1+-0x1f25+0xab0?'&':'?';_0x257b24=setTimeout(()=>{_0x478d8d['src']=_0x2298a0+_0x8e6e89+'retry='+Date['now'](),_0x257b24=null;},_0x5d7203);}else _0x130707('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x5cd903+'\x27');}},_0x478d8d['src']=_0x2298a0;}['_loadImage'+'Bitmap'](_0xd5894f,_0x2e6195,_0x380160,_0x5141ff){const _0x9bcf8b={'cache':!(-0x1523+0x1f*0x6+0x1469),'responseType':'blob','retry':this['maxRetries']>-0x186c+0x353*0x3+0x1b*0x89,'maxRetries':this['maxRetries']};$e['get'](_0xd5894f,_0x9bcf8b,(_0x5a7e8e,_0x637f1b)=>{_0x5a7e8e?_0x5141ff(_0x5a7e8e):this['_loadImage'+'BitmapFrom'+'Blob'](_0x637f1b,_0x5141ff);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x410657,_0x5b5eac){createImageBitmap(_0x410657,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x4b1cda=>_0x5b5eac(null,_0x4b1cda))['catch'](_0x4703d4=>_0x5b5eac(_0x4703d4));}}const iu=[-0x32ca9a00+0xbcd97aa+0x6fb15*0x123d,-0x197*0xe6cfa2+0x5d0655*0x35+0x4eb*0x6cc2ff,0x1*0xc6d8955+-0x78186a8+0xa5c0ec*0x8],IL={0x83f0:yc,0x83f2:zf,0x83f3:$o,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0x288681,_0x14931f,_0x26dc99,_0x157d3d){return _0x288681===_a?new Uint32Array(_0x14931f,_0x26dc99,_0x157d3d/(-0xc*0x1d5+0x23d0+-0xdd0)):new Uint8Array(_0x14931f,_0x26dc99,_0x157d3d);}class LL extends Na{constructor(_0x57f6dd){super(),this['maxRetries']=0x2d*0x5f+-0x229c*-0x1+-0x334f;}['load'](_0x5d558c,_0x18edc9,_0x3cad75){le['fetchArray'+'Buffer'](_0x5d558c['load'],_0x18edc9,_0x3cad75,this['maxRetries']);}['open'](_0x44ce9f,_0x31a504,_0x5900b7,_0x85a5f7={}){const _0x46280e=this['parse'](_0x31a504);if(!_0x46280e)return null;const _0x5d939b=_0x85a5f7['srgb']?Cc(_0x46280e['format']):_0x46280e['format'],_0x2d9b30=new he(_0x5900b7,{'name':_0x44ce9f,'profilerHint':ur,'addressU':_0x46280e['cubemap']?ae:tt,'addressV':_0x46280e['cubemap']?ae:tt,'width':_0x46280e['width'],'height':_0x46280e['height'],'format':_0x5d939b,'cubemap':_0x46280e['cubemap'],'levels':_0x46280e['levels'],..._0x85a5f7});return _0x2d9b30['upload'](),_0x2d9b30;}['parse'](_0x2134a8){const _0x1378cc=new Uint32Array(_0x2134a8);if(iu[0x1*0x1003+0x43*0x73+-0x2e1c]!==_0x1378cc[-0x77*0xa+0x9bf*-0x3+0x19*0x15b]||iu[-0xf7b*-0x1+-0x9e*-0x12+0xd4b*-0x2]!==_0x1378cc[0xcbf+0x1*-0x21e3+0x1*0x1525]||iu[0xf9e+0x1276+-0x2212]!==_0x1378cc[0x1a19+-0xb*0xca+0x1169*-0x1])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x3b3e3e={'endianness':_0x1378cc[0x1e7b+-0x922+-0x1556],'glType':_0x1378cc[0x200+-0xbf6+0x9fa],'glTypeSize':_0x1378cc[0x1504+0x99b+-0xf4d*0x2],'glFormat':_0x1378cc[0x5*-0x1ac+-0x2335+0x2b97],'glInternalFormat':_0x1378cc[-0x41b+-0x160c+0x45d*0x6],'glBaseInternalFormat':_0x1378cc[0x37*-0x3+0x10a2+-0xff5],'pixelWidth':_0x1378cc[-0x2*0x2db+-0xc0+0x67f],'pixelHeight':_0x1378cc[0xcd5+0x2*0x2bf+-0x1249],'pixelDepth':_0x1378cc[0x3be*0x6+-0x11b0+-0xd*0x5d],'numberOfArrayElements':_0x1378cc[0x1aa5*0x1+0x2377+-0x2*0x1f08],'numberOfFaces':_0x1378cc[0x2*0xb78+0x2596+-0x71*0x89],'numberOfMipmapLevels':_0x1378cc[0xb*-0xf+0x331+-0x27e],'bytesOfKeyValueData':_0x1378cc[0x3eb+0xe1e*0x2+-0x68*0x4f]};if(_0x3b3e3e['pixelDepth']>0x1755+0x59a+0x2e*-0xa1)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x3b3e3e['numberOfAr'+'rayElement'+'s']!==0x1a6b*0x1+-0x10*0x151+0x3*-0x1c9)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x1e620a=IL[_0x3b3e3e['glInternal'+'Format']];if(_0x1e620a===void(0x169+0x7fb+-0x964))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x3b3e3e['glInternal'+'Format']),null;let _0x331426=-0x1db+0xd00+-0xb15+_0x3b3e3e['bytesOfKey'+'ValueData']/(0x79*0x3+-0x1a17+0x18b0);const _0xfcf529=_0x3b3e3e['numberOfFa'+'ces']>0x1104+0x19c7+-0x2aca*0x1,_0x34750d=[];for(let _0x18b376=0x65*-0x14+0x45*-0x60+-0x10e2*-0x2;_0x18b376<(_0x3b3e3e['numberOfMi'+'pmapLevels']||-0x1a01+0x13*-0x4b+-0x1f93*-0x1);_0x18b376++){const _0x455cc6=_0x1378cc[_0x331426++];_0xfcf529&&_0x34750d['push']([]);const _0x346a86=_0xfcf529?_0x34750d[_0x18b376]:_0x34750d;for(let _0x240968=-0x4*0x4aa+-0x176d+0x2a15;_0x240968<(_0xfcf529?0x282*-0x4+-0x107a*-0x1+-0x4*0x19b:0xc62+0x8f8+-0x1559);++_0x240968)_0x346a86['push'](DL(_0x1e620a,_0x2134a8,_0x331426*(-0x1302+0x1973*-0x1+0x2c79),_0x455cc6)),_0x331426+=_0x455cc6+(0x1a*0x13+-0x1923+0x1*0x1738)>>-0x2101+-0x1*0x1b2f+-0x2e*-0x14f;}return{'format':_0x1e620a,'width':_0x3b3e3e['pixelWidth'],'height':_0x3b3e3e['pixelHeigh'+'t'],'levels':_0x34750d,'cubemap':_0xfcf529};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x552398,_0x490cb5){super(),this['maxRetries']=0x7d1+0x5*-0x60f+-0x167a*-0x1,this['device']=_0x490cb5;}['load'](_0x3fd8c4,_0x595d22,_0xea60ad){le['fetchArray'+'Buffer'](_0x3fd8c4['load'],(_0x50273d,_0x5d9132)=>{_0x50273d?_0x595d22(_0x50273d,_0x5d9132):this['parse'](_0x5d9132,_0x3fd8c4,_0x595d22,_0xea60ad);},_0xea60ad,this['maxRetries']);}['open'](_0x3ad201,_0x75f8a3,_0x3eba0a,_0x34393e={}){const _0x420984=_0x34393e['srgb']?Cc(_0x75f8a3['format']):_0x75f8a3['format'],_0x18b22c=new he(_0x3eba0a,{'name':_0x3ad201,'profilerHint':ur,'addressU':_0x75f8a3['cubemap']?ae:tt,'addressV':_0x75f8a3['cubemap']?ae:tt,'width':_0x75f8a3['width'],'height':_0x75f8a3['height'],'format':_0x420984,'cubemap':_0x75f8a3['cubemap'],'levels':_0x75f8a3['levels'],..._0x34393e});return _0x18b22c['upload'](),_0x18b22c;}['parse'](_0xeeda94,_0x165f8c,_0x325668,_0x1e77f7){var _0x5b7b9c,_0x3bb41e,_0x11a6b2;const _0x48f617=new oy(_0xeeda94),_0x48ecda=[_0x48f617['readU32be'](),_0x48f617['readU32be'](),_0x48f617['readU32be']()];if(_0x48ecda[0x1*0x1e61+-0x8d*-0x3d+-0x3ffa]!==-0x1*0xe65f0907+0x23351*0x348b+-0x1c9ace0a*-0xa||_0x48ecda[-0x1d31*-0x1+-0x11b6+0x1a*-0x71]!==-0x27b2c48+-0x212*-0xbec1e+0x1*0x9fe86e7||_0x48ecda[0x16*0x9b+-0x2373+0x1623]!==-0x13fbc4f4+0x53e93+-0x25c51*-0xdfb)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x181bbc={'vkFormat':_0x48f617['readU32'](),'typeSize':_0x48f617['readU32'](),'pixelWidth':_0x48f617['readU32'](),'pixelHeight':_0x48f617['readU32'](),'pixelDepth':_0x48f617['readU32'](),'layerCount':_0x48f617['readU32'](),'faceCount':_0x48f617['readU32'](),'levelCount':_0x48f617['readU32'](),'supercompressionScheme':_0x48f617['readU32']()},_0x28da93={'dfdByteOffset':_0x48f617['readU32'](),'dfdByteLength':_0x48f617['readU32'](),'kvdByteOffset':_0x48f617['readU32'](),'kvdByteLength':_0x48f617['readU32'](),'sgdByteOffset':_0x48f617['readU64'](),'sgdByteLength':_0x48f617['readU64']()},_0x3ef5cb=[];for(let _0x32aa42=-0x2*-0x850+0x1*0xa8f+-0x1b2f;_0x32aa42<Math['max'](-0x43*0x56+0x2632+0x16d*-0xb,_0x181bbc['levelCount']);++_0x32aa42)_0x3ef5cb['push']({'byteOffset':_0x48f617['readU64'](),'byteLength':_0x48f617['readU64'](),'uncompressedByteLength':_0x48f617['readU64']()});if(_0x48f617['readU32']()!==_0x28da93['kvdByteOff'+'set']-_0x28da93['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x48f617['skip'](0x1af2+-0x1241+-0x1*0x8a9);const _0x109708=_0x48f617['readU8']();_0x48f617['skip'](_0x28da93['dfdByteLen'+'gth']-(-0x22a*0xb+-0xdc*-0x12+0x85f)),_0x48f617['skip'](_0x28da93['kvdByteLen'+'gth']),_0x181bbc['supercompr'+'essionSche'+'me']===-0xff+-0x934+0xa34||_0x109708===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x165f8c['load'],_0xeeda94,_0x325668,{'isGGGR':(((_0x11a6b2=(_0x3bb41e=(_0x5b7b9c=_0x1e77f7==null?void(0x169c+0x1b*-0x135+-0x1*-0x9fb):_0x1e77f7['file'])==null?void(0xfb5+0x2268+-0x321d):_0x5b7b9c['variants'])==null?void(-0xba5*-0x1+0x1e45+-0x29ea):_0x3bb41e['basis'])==null?void(-0x1f2d+-0x576*-0x1+0x19b7):_0x11a6b2['opt'])&-0xd+-0x2e*0x4f+0xe47)!==-0x255f*0x1+-0x584*-0x3+0x14d3,'isKTX2':!(0x1*0x25ff+0x1*0xdf3+-0x7a*0x6d)})||_0x325668('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x1e77f7['name']+']('+_0x1e77f7['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x325668('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x168486){super(),this['maxRetries']=0x69*0x43+-0x2*-0xc85+-0x3485;}['load'](_0x355140,_0x357856,_0xe4866d){le['fetchArray'+'Buffer'](_0x355140['load'],_0x357856,_0xe4866d,this['maxRetries']);}['open'](_0x2e9310,_0x3b3f7a,_0x4e24f3,_0x17412d={}){const _0x379b17=new Uint32Array(_0x3b3f7a,0x1*-0x304+-0x1*0x13ee+-0x16f2*-0x1,-0xc7c+-0x57e*0x1+0x121a),_0x3b551d=_0x379b17[0x1f23+-0x1*-0x1567+-0x3486],_0x336455=_0x379b17[0x7*-0x287+0xa36*0x1+-0x112*-0x7],_0x1f454b=Math['max'](_0x379b17[-0x79d+0x14c9+-0x5*0x2a1],-0x1a02+-0x403*-0x9+-0xa18),_0x43f7a5=_0x379b17[0x1*-0x3b3+-0x1318+0x16df]===-0x1*-0xd24+-0x358+-0x9c8,_0x55d4e6=_0x379b17[0x17*0x174+-0xa4f*0x2+-0xcb9],_0x268af0=_0x379b17[-0xb62*0x1+-0x756+0x12ce*0x1],_0x1b32f9=_0x379b17[-0x1f7c+0x6c8+-0x634*-0x4]===0xccd9+-0x1f57+-0x1*-0x507e,_0x10d8d1=0x33*-0xf048f4+0x17*-0x17e1725+0x8386f533,_0x45bc16=0x2184d*0x1c0f+-0xf*-0x5597f7f+0x2*-0x2ad8fc58,_0x96c16f=-0x1*0xac6+-0x126a+0x1*0x1da1,_0x30d12a=0xf24+-0x10*-0x18+-0x70*0x25,_0x1eeadf=0x15822abb*0x2+0x12c9d0cf+-0xc8ad200,_0xf46f59=-0x1fb0b8cc+0x43299abc+-0x7524d*-0x1e0,_0x1a59a2=-0x1929d*0x27a+0xa815251*0x9+-0x7aeeb*0x565,_0x1088b1=-0xe69*-0x71fb+-0x1b8e9*0x367b+0x8*0x1113b70a,_0x1fac82=0x5*0xddaafc7+-0x29df8001*0x1+0x15ce456e;let _0x3f3d29=!(-0x1b0f+-0x1199+-0x25*-0x135),_0x42b630=!(-0xd0e+-0xc11+0x1*0x1920),_0x1329dc=!(0x6*-0x4+-0xd7*0x17+0x136a),_0x4bb018=!(0x1656+-0x1d66+0x1*0x711),_0x5bcedc=null,_0x554e8a=0x1409+0x40d*-0x2+-0xbee,_0x42ed1f;if(_0x43f7a5?_0x55d4e6===_0x10d8d1?(_0x5bcedc=yc,_0x3f3d29=!(0x21e3*0x1+-0x16cc+-0xb17)):_0x55d4e6===_0x45bc16?(_0x5bcedc=$o,_0x3f3d29=!(-0x2147+0xcc+0x207b)):_0x55d4e6===_0x96c16f?(_0x5bcedc=Je,_0x554e8a=-0x24da+0x23f0+-0x4*-0x3b):_0x55d4e6===_0x30d12a?(_0x5bcedc=Ke,_0x554e8a=0x1022+-0x2d2*0x2+-0xa7a):_0x55d4e6===_0x1eeadf?(_0x5bcedc=bc,_0x3f3d29=!(0x25d0+-0xc3*0x25+-0x5*0x1ed),_0x42b630=!(-0x2*0x1091+0x1*0xec3+-0x1*-0x125f)):_0x55d4e6===_0xf46f59||_0x55d4e6===_0x1a59a2?(_0x5bcedc=_0x55d4e6===_0xf46f59?qo:Xo,_0x3f3d29=!(-0xf35+-0x25de+-0x1*-0x3513),_0x1329dc=!(0x1*-0x20d+-0x2*-0x137f+-0xc1*0x31)):(_0x55d4e6===_0x1088b1||_0x55d4e6===_0x1fac82)&&(_0x5bcedc=_0x55d4e6===_0x1088b1?wc:Tc,_0x3f3d29=!(0x2*0x5f7+-0x14f*0x1d+-0x1a05*-0x1),_0x4bb018=!(0x150c+0xffb+-0x2507)):_0x268af0===0x1*-0x1b16+0x3*0xc1b+-0x91b&&(_0x5bcedc=Se),!_0x5bcedc)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x2e9310+'.'),_0x42ed1f=new he(_0x4e24f3,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x42ed1f;_0x42ed1f=new he(_0x4e24f3,{'name':_0x2e9310,'profilerHint':ur,'addressU':_0x1b32f9?ae:tt,'addressV':_0x1b32f9?ae:tt,'width':_0x3b551d,'height':_0x336455,'format':_0x5bcedc,'cubemap':_0x1b32f9,'mipmaps':_0x1f454b>-0x542+0x86f*-0x1+0x2*0x6d9,..._0x17412d});let _0x482f1d=-0x3c8+0x2438+0x38*-0x92;const _0x56f616=_0x1b32f9?-0x28a*-0x2+0x11d5+-0x16e3:-0x130*0x1d+-0x303+0x2574;let _0x613531;const _0x195d5e=0x1e43+0xabb+-0x28fa,_0x35f64f=0x1*-0x1527+0x5ee+0xf3d,_0xaf400d=_0x55d4e6===_0x10d8d1?-0x2148+-0x7e8+0x2938:0x5d5+-0x1638+0x1073;let _0x117dff,_0x15547a,_0x52480d;for(let _0x25e31e=-0x18cb+0xe6c*-0x1+-0x2737*-0x1;_0x25e31e<_0x56f616;_0x25e31e++){let _0x156ff0=_0x3b551d,_0x377425=_0x336455;for(let _0x5aefd4=0xfd5+0x1*0x1be6+-0x2bbb;_0x5aefd4<_0x1f454b;_0x5aefd4++){_0x3f3d29?_0x42b630?_0x613531=Math['floor']((_0x156ff0+(-0xbf4+0x1b03+0xc*-0x141))/(-0x158c+-0x793+-0x1d23*-0x1))*Math['floor']((_0x377425+(-0x157d+-0xcf0+0x2270))/(-0x1*0x815+0x1b*0x102+-0x131d))*(-0x1465+0x47*0xe+0x4d*0x37):_0x1329dc?_0x613531=Math['max'](_0x156ff0,0x12c2+-0x1*0x2284+0xfd2)*Math['max'](_0x377425,0x3fd*0x9+0x1096+0x1cf*-0x1d)/(0x885+-0x149*0x4+-0x35d):_0x4bb018?_0x613531=Math['max'](_0x156ff0,0x96f*-0x1+0x1436+0x15*-0x83)*Math['max'](_0x377425,-0x1426+0x1d2a+-0x8fc)/(0x22a7+0x167*-0x2+0xd1*-0x27):(_0x117dff=Math['floor']((_0x156ff0+_0x195d5e-(-0x3*-0x686+0x263a+-0x39cb))/_0x195d5e),_0x15547a=Math['floor']((_0x377425+_0x35f64f-(-0x7a8+0x2043+-0x189a))/_0x35f64f),_0x52480d=_0x117dff*_0x15547a,_0x613531=_0x52480d*_0xaf400d):_0x613531=_0x156ff0*_0x377425*(-0x238f*0x1+0x6b9*-0x1+-0x1526*-0x2);const _0x136d12=_0x5bcedc===Ke?new Float32Array(_0x3b3f7a,_0x482f1d,_0x613531):_0x5bcedc===Je?new Uint16Array(_0x3b3f7a,_0x482f1d,_0x613531):new Uint8Array(_0x3b3f7a,_0x482f1d,_0x613531);_0x1b32f9?(_0x42ed1f['_levels'][_0x5aefd4]||(_0x42ed1f['_levels'][_0x5aefd4]=[]),_0x42ed1f['_levels'][_0x5aefd4][_0x25e31e]=_0x136d12):_0x42ed1f['_levels'][_0x5aefd4]=_0x136d12,_0x482f1d+=_0x613531*_0x554e8a,_0x156ff0=Math['max'](_0x156ff0*(0x1d14+0x4bd*-0x2+-0x139a+0.5),-0x2*0x808+0x639*-0x2+-0x1c83*-0x1),_0x377425=Math['max'](_0x377425*(0x1*-0x1122+0x2500+-0x13de+0.5),-0x14d6+-0x14e7+0x29be);}}return _0x42ed1f['upload'](),_0x42ed1f;}}class BL extends Na{constructor(_0x3a4622){super(),this['maxRetries']=0xfef+-0x1*-0x1141+-0x2130;}['load'](_0x250254,_0x91c142,_0x38cea0){le['fetchArray'+'Buffer'](_0x250254['load'],_0x91c142,_0x38cea0,this['maxRetries']);}['open'](_0x1d3753,_0x4b970f,_0x53d363,_0x5df9eb={}){const _0x3da393=this['parse'](_0x4b970f);if(!_0x3da393)return null;const _0x5c7000=new he(_0x53d363,{'name':_0x1d3753,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x3da393['width'],'height':_0x3da393['height'],'levels':_0x3da393['levels'],'format':Se,'type':ap,'mipmaps':!(0x8d*-0x17+0x1996+-0xcea),..._0x5df9eb});return _0x5c7000['upload'](),_0x5c7000;}['parse'](_0x42e946){const _0x3f101a=new oy(_0x42e946);if(!_0x3f101a['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x270cb1={};for(;;){const _0x367043=_0x3f101a['readLine']();if(_0x367043['length']===-0xa3*-0x2e+-0x1*-0x2118+-0x3e62)break;{const _0x4e5846=_0x367043['split']('=');_0x4e5846['length']===0x20d+-0x22cb+-0x1*-0x20c0&&(_0x270cb1[_0x4e5846[0x13*0x71+0x105a*0x1+-0x1*0x18bd]]=_0x4e5846[0x1*0x2695+0x2d*0x85+-0x33*0x137]);}}if(!_0x270cb1['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x978fb2=_0x3f101a['readLine']()['split']('\x20');if(_0x978fb2['length']!==-0x24dc+-0x1ab3+0x3f93)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x5a8246=parseInt(_0x978fb2[-0x1204*-0x1+-0x3*-0x5fd+-0x23fa],-0xcb1+-0x1*-0x1b7b+-0x10*0xec),_0x21b10d=parseInt(_0x978fb2[-0x171a+-0x1*-0xfb5+-0xed*-0x8],-0x17df+0x197c+0x1f*-0xd),_0x23dea1=this['_readPixel'+'s'](_0x3f101a,_0x21b10d,_0x5a8246,_0x978fb2[0x555+0x1905+-0x1e5a]==='-Y');return _0x23dea1?{'width':_0x21b10d,'height':_0x5a8246,'levels':[_0x23dea1]}:null;}['_readPixel'+'s'](_0x513528,_0x46eb5d,_0x25dfe8,_0x9b98ce){if(_0x46eb5d<-0x6*0x491+-0x15b*0xb+-0x3*-0xe1d||_0x46eb5d>0xf448+0x1*-0x8ab5+0x166c)return this['_readPixel'+'sFlat'](_0x513528,_0x46eb5d,_0x25dfe8);const _0x17fa97=[0xb*0x2cf+0x14ba*-0x1+-0xa2b,-0x3f*0x3e+0x1c8*-0x6+0x453*0x6,-0x1169*-0x1+-0x161*0x2+-0xea7,-0x3*-0x883+0x72*-0xa+-0x1515];if(_0x513528['readArray'](_0x17fa97),_0x17fa97[-0x13*0x1f7+-0x15d*0x17+0x44b0]!==0xa69+-0x3*-0x4a7+-0x185c||_0x17fa97[0x1*0x253b+-0x1*-0x1e1d+-0x4357]!==-0x165a+-0x1754+0x2db0||(_0x17fa97[-0x3b2+0x53*0x47+-0x3dd*0x5]&0x105c+0x474*0x8+-0xa*0x526)!==-0x1f*0xf+0x237f+0x21ae*-0x1)return _0x513528['skip'](-(-0x271*-0xe+0x23b*0x1+-0x2465*0x1)),this['_readPixel'+'sFlat'](_0x513528,_0x46eb5d,_0x25dfe8);const _0x509d05=new ArrayBuffer(_0x46eb5d*_0x25dfe8*(0x1*-0x128d+-0x42b+-0x4*-0x5af)),_0x487058=new Uint8Array(_0x509d05);let _0xb53f7a=_0x9b98ce?-0x233b*-0x1+-0x1*-0xda3+-0x30de:_0x46eb5d*(0x25c4+0x13dd+-0x157*0x2b)*(_0x25dfe8-(-0xbcb*-0x1+0x11e0+0xed5*-0x2)),_0x55cf84,_0x129eca,_0x3b9968,_0x54f3e2,_0x1cd2fa,_0x20e76e;for(_0x129eca=0xe19+0x40d+0x2e*-0x65;_0x129eca<_0x25dfe8;++_0x129eca){if(_0x129eca&&_0x513528['readArray'](_0x17fa97),(_0x17fa97[0x1279+0x1cc2+-0x2f39]<<0xe2*-0x2b+-0x2*-0xffe+0x602)+_0x17fa97[0x1e*-0xf1+0x1*0xfad+0x7*0x1cc]!==_0x46eb5d)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x54f3e2=0x186b*-0x1+-0xf71+0x4*0x9f7;_0x54f3e2<0x1*-0x10ed+-0x23*-0xa1+-0x512;++_0x54f3e2)for(_0x55cf84=-0xb5c+-0x87b+0x13d7*0x1;_0x55cf84<_0x46eb5d;)if(_0x1cd2fa=_0x513528['readU8'](),_0x1cd2fa>-0x1940+-0x1794+0x4d*0xa4){if(_0x1cd2fa-=-0x24c+0xf3c+-0x1*0xc70,_0x55cf84+_0x1cd2fa>_0x46eb5d)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x20e76e=_0x513528['readU8'](),_0x3b9968=-0x8db+-0x1*0x17ee+0x1*0x20c9;_0x3b9968<_0x1cd2fa;++_0x3b9968)_0x487058[_0xb53f7a+_0x54f3e2+(0x1858+0x1b*-0xbd+0x3*-0x177)*_0x55cf84++]=_0x20e76e;}else{if(_0x1cd2fa===-0x1705*0x1+0x22d5*-0x1+-0x2*-0x1ced||_0x55cf84+_0x1cd2fa>_0x46eb5d)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x3b9968=0x17*0xdf+0x19d2+-0x2ddb;_0x3b9968<_0x1cd2fa;++_0x3b9968)_0x487058[_0xb53f7a+_0x54f3e2+(0x106+0x1*-0x6d1+0x5cf)*_0x55cf84++]=_0x513528['readU8']();}_0xb53f7a+=_0x46eb5d*(-0x55f+0x8bd*-0x1+0xe20)*(_0x9b98ce?-0x245d+0x2a6+0x21b8:-(0x14e7*0x1+-0x2001*0x1+0x1*0xb1b));}return _0x487058;}['_readPixel'+'sFlat'](_0x38f301,_0x345711,_0x1f3834){return _0x38f301['remainingB'+'ytes']===_0x345711*_0x1f3834*(0x1b36+0x14a9+-0x2fdb)?new Uint8Array(_0x38f301['arraybuffe'+'r'],_0x38f301['offset']):null;}}const Wg={'repeat':tt,'clamp':ae,'mirror':Of},$g={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x3c980a){const _0x396ec1=Mi['calcMipLev'+'elsCount'](_0x3c980a['_width'],_0x3c980a['_height']),_0x40b910=function(_0x187a22){return _0x187a22 instanceof HTMLCanvasElement||_0x187a22 instanceof HTMLImageElement||_0x187a22 instanceof HTMLVideoElement;};if(!(_0x3c980a['_format']===Se||_0x3c980a['_format']===Ke)||_0x3c980a['_volume']||_0x3c980a['_compresse'+'d']||_0x3c980a['_levels']['length']===0xaaa+0x85e+-0x1307*0x1||_0x3c980a['_levels']['length']===_0x396ec1||_0x40b910(_0x3c980a['_cubemap']?_0x3c980a['_levels'][-0x1*0x61f+-0x11b*0x20+-0xdd5*-0x3][0x2686+0x16bc+-0x3d42*0x1]:_0x3c980a['_levels'][0x1*-0x1a8f+0x1bf4*-0x1+0x3683]))return;const _0x2cc470=function(_0x3f6889,_0x46faa7,_0x76ffd6){const _0x2fc952=Math['max'](0x25*-0x86+0x2404+-0x10a5,_0x3f6889>>-0x1f0a*-0x1+-0xe4c+-0x10bd),_0x1b5e0c=Math['max'](-0x1b7c+0x1728*0x1+0x1*0x455,_0x46faa7>>-0x141+-0xf2e+0x20e*0x8),_0x1b7c87=new _0x76ffd6['constructo'+'r'](_0x2fc952*_0x1b5e0c*(-0x1b90+0x38b*0x9+-0x44f)),_0x59cd1d=Math['floor'](_0x3f6889/_0x2fc952),_0xd50590=Math['floor'](_0x46faa7/_0x1b5e0c),_0x58ae6e=_0x59cd1d*_0xd50590;for(let _0x25b334=0x19*0x3b+0x8*0x235+-0xb*0x221;_0x25b334<_0x1b5e0c;++_0x25b334)for(let _0x11f8e0=-0x9be+0x2b*0x1c+0x50a;_0x11f8e0<_0x2fc952;++_0x11f8e0)for(let _0x634eed=-0x24d6+-0x1e40+-0x3e*-0x115;_0x634eed<0x23c7+0xd4*0x25+0x4267*-0x1;++_0x634eed){let _0x252552=0xdd*0x29+0xb25+0x2e8a*-0x1;for(let _0x3e2e5f=0x1d94+0xbd7*0x3+0x5*-0xd05;_0x3e2e5f<_0xd50590;++_0x3e2e5f)for(let _0x303c24=0x2394+0x1f7+-0x7*0x55d;_0x303c24<_0x59cd1d;++_0x303c24)_0x252552+=_0x76ffd6[(_0x11f8e0*_0x59cd1d+_0x303c24+(_0x25b334*_0xd50590+_0x3e2e5f)*_0x3f6889)*(0x640+-0xd83+0x747)+_0x634eed];_0x1b7c87[(_0x11f8e0+_0x25b334*_0x2fc952)*(0x1e3f+-0x212c+0x1*0x2f1)+_0x634eed]=_0x252552/_0x58ae6e;}return _0x1b7c87;};for(let _0x5235b4=_0x3c980a['_levels']['length'];_0x5235b4<_0x396ec1;++_0x5235b4){const _0x6316fb=Math['max'](0x394*0x1+0x4d9+0xc4*-0xb,_0x3c980a['_width']>>_0x5235b4-(0x84b+0xbf8+-0x1442)),_0x55eddd=Math['max'](0x2*0x743+0x75+-0xefa,_0x3c980a['_height']>>_0x5235b4-(-0x13e5*-0x1+0x292*0x2+-0x1908));if(_0x3c980a['_cubemap']){const _0x10c1f9=[];for(let _0x50e312=-0x246e*0x1+-0x1d75*0x1+0x41e3;_0x50e312<-0x1127*-0x1+0x1c*-0x8+0x13*-0xdb;++_0x50e312)_0x10c1f9['push'](_0x2cc470(_0x6316fb,_0x55eddd,_0x3c980a['_levels'][_0x5235b4-(-0x11c*0x3+-0x5ab*-0x3+-0x1f4*0x7)][_0x50e312]));_0x3c980a['_levels']['push'](_0x10c1f9);}else _0x3c980a['_levels']['push'](_0x2cc470(_0x6316fb,_0x55eddd,_0x3c980a['_levels'][_0x5235b4-(0x77f*0x4+0x1be*0x16+0x16c5*-0x3)]));}_0x3c980a['_levelsUpd'+'ated']=_0x3c980a['_cubemap']?[[!(0xac0*-0x2+0x1d1b+-0x79b),!(-0x9*0x349+0xcf2+0x109f),!(0x139*-0xf+0x9*-0x64+0x15db),!(-0x43d+0x1222+0x1*-0xde5),!(0x45*0x17+0xb2*0xa+-0xd27),!(-0x3d5*0x6+0x1*0xc0b+0xaf3*0x1)]]:[!(0x1b1c+0x1*-0x589+-0x1*0x1593)];};class UL extends Ne{constructor(_0x37a061){super(_0x37a061,'texture');const _0x1dadf8=_0x37a061['assets'],_0x24a893=_0x37a061['graphicsDe'+'vice'];this['_device']=_0x24a893,this['_assets']=_0x1dadf8,this['imgParser']=new RL(_0x1dadf8,_0x24a893),this['parsers']={'dds':new kL(_0x1dadf8),'ktx':new LL(_0x1dadf8),'ktx2':new OL(_0x1dadf8,_0x24a893),'basis':new EL(_0x1dadf8,_0x24a893),'hdr':new BL(_0x1dadf8)};}set['crossOrigi'+'n'](_0x1f5e04){this['imgParser']['crossOrigi'+'n']=_0x1f5e04;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x21a027){this['imgParser']['maxRetries']=_0x21a027;for(const _0x5aed6c in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x5aed6c)&&(this['parsers'][_0x5aed6c]['maxRetries']=_0x21a027);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x3db812){return _0x3db812['indexOf']('?')>=0x11ca+-0x19a3*-0x1+-0x2b6d?_0x3db812['split']('?')[-0xa85+0x2457+-0x19d2]:_0x3db812;}['_getParser'](_0x396527){const _0x1ccd19=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x396527))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x1ccd19]||this['imgParser'];}['_getTextur'+'eOptions'](_0x56f32b){var _0x2f8800;const _0x5af1c8={'profilerHint':ur};if(_0x56f32b){((_0x2f8800=_0x56f32b['name'])==null?void(-0x138*-0xa+0x17a3+-0x23d3):_0x2f8800['length'])>-0x1*0x16d+0x13e1*0x1+-0x1274&&(_0x5af1c8['name']=_0x56f32b['name']);const _0x1080d0=_0x56f32b['data'];_0x1080d0['hasOwnProp'+'erty']('minfilter')&&(_0x5af1c8['minFilter']=$g[_0x1080d0['minfilter']]),_0x1080d0['hasOwnProp'+'erty']('magfilter')&&(_0x5af1c8['magFilter']=$g[_0x1080d0['magfilter']]),_0x1080d0['hasOwnProp'+'erty']('addressu')&&(_0x5af1c8['addressU']=Wg[_0x1080d0['addressu']]),_0x1080d0['hasOwnProp'+'erty']('addressv')&&(_0x5af1c8['addressV']=Wg[_0x1080d0['addressv']]),_0x1080d0['hasOwnProp'+'erty']('mipmaps')&&(_0x5af1c8['mipmaps']=_0x1080d0['mipmaps']),_0x1080d0['hasOwnProp'+'erty']('anisotropy')&&(_0x5af1c8['anisotropy']=_0x1080d0['anisotropy']),_0x1080d0['hasOwnProp'+'erty']('flipY')&&(_0x5af1c8['flipY']=!!_0x1080d0['flipY']),_0x1080d0['hasOwnProp'+'erty']('srgb')&&(_0x5af1c8['srgb']=!!_0x1080d0['srgb']),_0x1080d0['hasOwnProp'+'erty']('type')?_0x5af1c8['type']=NL[_0x1080d0['type']]:_0x1080d0['hasOwnProp'+'erty']('rgbm')&&_0x1080d0['rgbm']?_0x5af1c8['type']=on:_0x56f32b['file']&&(_0x56f32b['file']['opt']&0x3*-0x47d+0x1f5*0x2+-0xdf*-0xb)!==-0x5f8+0x1ce7+-0x67*0x39&&(_0x5af1c8['type']=op);}return _0x5af1c8;}['load'](_0x2d080f,_0x4d81b6,_0x4739e1){typeof _0x2d080f=='string'&&(_0x2d080f={'load':_0x2d080f,'original':_0x2d080f}),this['_getParser'](_0x2d080f['original'])['load'](_0x2d080f,_0x4d81b6,_0x4739e1);}['open'](_0x57d62e,_0x296070,_0x31b35b){if(!_0x57d62e)return;const _0x55d9da=this['_getTextur'+'eOptions'](_0x31b35b);let _0x4dd72c=this['_getParser'](_0x57d62e)['open'](_0x57d62e,_0x296070,this['_device'],_0x55d9da);return _0x4dd72c===null?_0x4dd72c=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0x4dd72c),_0x296070['unswizzled'+'GGGR']&&(_0x31b35b['file']['variants']['basis']['opt']&=-(0x2*-0x8b0+0x1375+-0x20c*0x1))),_0x4dd72c;}['patch'](_0x44cb91,_0x2e38ef){const _0x130fa5=_0x44cb91['resource'];if(!_0x130fa5)return;const _0x169340=this['_getTextur'+'eOptions'](_0x44cb91);for(const _0x3ae4e3 of Object['keys'](_0x169340))_0x130fa5[_0x3ae4e3]=_0x169340[_0x3ae4e3];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',WL='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class $L{constructor(_0x4d6106){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),(this['_manager']=_0x4d6106,this['init']());}async['init'](){const _0x362345=await navigator['xr']['isSessionS'+'upported']('immersive-'+'ar',{'features':['dom-overla'+'y']});this['_supported']=_0x362345;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x22ccdf){!this['_supported']||this['_manager']['active']||(this['_root']=_0x22ccdf);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x22653a,_0x1294e6,_0x34a693,_0x2fb7d2=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x22653a,this['_xrHitTest'+'Source']=_0x1294e6,this['_transient']=_0x34a693,this['_inputSour'+'ce']=_0x2fb7d2);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x4a2371=this['manager']['hitTest']['sources'],_0x156537=_0x4a2371['indexOf'](this);_0x156537!==-(0x4a2+0x22c6+-0x5a1*0x7)&&_0x4a2371['splice'](_0x156537,0x253c+-0x2d*-0xb3+-0x44b2),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x41f4b4){if(this['_transient']){const _0x4f8749=_0x41f4b4['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x15fafb=-0x1fa8+0x2*0x1118+0xa2*-0x4;_0x15fafb<_0x4f8749['length'];_0x15fafb++){const _0x2a72d4=_0x4f8749[_0x15fafb];if(!_0x2a72d4['results']['length'])continue;let _0x3d8895;_0x2a72d4['inputSourc'+'e']&&(_0x3d8895=this['manager']['input']['_getByInpu'+'tSource'](_0x2a72d4['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x2a72d4['results'],_0x3d8895);}}else{const _0x91dcef=_0x41f4b4['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x91dcef['length'])return;this['updateHitR'+'esults'](_0x91dcef);}}['updateHitR'+'esults'](_0x383825,_0x1761d9){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x1761d9)return;const _0x317e74=ih['pop']()??new T();_0x1761d9?_0x317e74['copy'](_0x1761d9['getOrigin']()):_0x317e74['copy'](this['manager']['camera']['getPositio'+'n']());let _0x5d880d=(0x1a3*0xa+-0x2*0x90e+0x1bf)/(-0x203e*-0x1+-0x1469+0xd*-0xe9),_0x1721cb=null;const _0x2f4de=ih['pop']()??new T(),_0x106387=Xg['pop']()??new se();for(let _0x831797=-0xc53+0x1eff+0xa*-0x1de;_0x831797<_0x383825['length'];_0x831797++){const _0xd8a7b5=_0x383825[_0x831797]['getPose'](this['manager']['_reference'+'Space']),_0x221211=_0x317e74['distance'](_0xd8a7b5['transform']['position']);_0x221211>=_0x5d880d||(_0x5d880d=_0x221211,_0x1721cb=_0x383825[_0x831797],_0x2f4de['copy'](_0xd8a7b5['transform']['position']),_0x106387['copy'](_0xd8a7b5['transform']['orientatio'+'n']));}this['fire']('result',_0x2f4de,_0x106387,_0x1761d9||this['_inputSour'+'ce'],_0x1721cb),this['manager']['hitTest']['fire']('result',this,_0x2f4de,_0x106387,_0x1761d9||this['_inputSour'+'ce'],_0x1721cb),ih['push'](_0x317e74),ih['push'](_0x2f4de),Xg['push'](_0x106387);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x1c562e){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(0x1c57+-0x10ba*-0x1+-0x38*0xce)),c(this,'_checkingA'+'vailabilit'+'y',!(0x37*-0x11+-0xbdf+0xf87)),c(this,'sources',[]),(this['manager']=_0x1c562e,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0xacb213=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x234b+-0x16f8+0x3a44);if(!_0xacb213)return;this['_available']=_0xacb213,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0x131b+-0x51b*0x5+-0x1*-0x66c),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x37b20b=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x37b20b})['then'](_0x90ba46=>{_0x90ba46['cancel'](),this['manager']['active']&&(this['_available']=!(0x67f*-0x5+0x1*0x20e3+-0x68),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x24de*0x1+0x21d4+0x1*0x30b);for(let _0x349af8=-0x192b*-0x1+-0x6aa+0x3*-0x62b;_0x349af8<this['sources']['length'];_0x349af8++)this['sources'][_0x349af8]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x236aec={}){var _0x3e59a5,_0x435104;if(!this['_supported']){(_0x3e59a5=_0x236aec['callback'])==null||_0x3e59a5['call'](_0x236aec,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x435104=_0x236aec['callback'])==null||_0x435104['call'](_0x236aec,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x236aec['profile']&&!_0x236aec['spaceType']&&(_0x236aec['spaceType']=qg);let _0xd2e400;const _0x11c984=_0x236aec['offsetRay'];if(_0x11c984){const _0x2037d1=new DOMPoint(_0x11c984['origin']['x'],_0x11c984['origin']['y'],_0x11c984['origin']['z'],0x14e3+-0x2*0x1311+0x1140),_0x47b8b0=new DOMPoint(_0x11c984['direction']['x'],_0x11c984['direction']['y'],_0x11c984['direction']['z'],0x192b+0x1bd1+-0x34fc*0x1);_0xd2e400=new XRRay(_0x2037d1,_0x47b8b0);}const _0x401f39=_0x236aec['callback'];_0x236aec['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x236aec['spaceType'])['then'](_0x233d46=>{if(!this['manager']['session']){const _0x55f027=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x401f39&&_0x401f39(_0x55f027),this['fire']('error',_0x55f027);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x233d46,'entityTypes':_0x236aec['entityType'+'s']||void(-0x20fd+-0x1919*0x1+0x3a16),'offsetRay':_0xd2e400})['then'](_0xe4da72=>{this['_onHitTest'+'Source'](_0xe4da72,!(0x1525+0x219e+-0x2*0x1b61),_0x236aec['inputSourc'+'e'],_0x401f39);})['catch'](_0x3120cf=>{_0x401f39&&_0x401f39(_0x3120cf),this['fire']('error',_0x3120cf);});})['catch'](_0x190422=>{_0x401f39&&_0x401f39(_0x190422),this['fire']('error',_0x190422);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x236aec['profile'],'entityTypes':_0x236aec['entityType'+'s']||void(0x125e+0x1*0x1475+-0x26d3*0x1),'offsetRay':_0xd2e400})['then'](_0x5d3ea7=>{this['_onHitTest'+'Source'](_0x5d3ea7,!(-0x21*0x11c+0x17aa+0xcf2),_0x236aec['inputSourc'+'e'],_0x401f39);})['catch'](_0x3f7628=>{_0x401f39&&_0x401f39(_0x3f7628),this['fire']('error',_0x3f7628);});}['_onHitTest'+'Source'](_0x1f7b7b,_0x5c271c,_0x28859a,_0x3e65c2){if(!this['manager']['session']){_0x1f7b7b['cancel']();const _0xea5c15=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x3e65c2&&_0x3e65c2(_0xea5c15),this['fire']('error',_0xea5c15);return;}const _0x494cc7=new Ef(this['manager'],_0x1f7b7b,_0x5c271c,_0x28859a??null);this['sources']['push'](_0x494cc7),_0x3e65c2&&_0x3e65c2(null,_0x494cc7),this['fire']('add',_0x494cc7);}['update'](_0x13ba50){if(this['_available']){for(let _0x1f8374=-0x1c10+0x16a1+0xd*0x6b;_0x1f8374<this['sources']['length'];_0x1f8374++)this['sources'][_0x1f8374]['update'](_0x13ba50);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0x5e03ed,_0x4d7977){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',-0x127a+0x1bec*0x1+0x3e*-0x27),c(this,'_trackable',!(-0x7*-0x86+0x2*-0x52c+-0x3b*-0x1d)),c(this,'_tracking',!(0x982*-0x1+0x5f*0x5d+-0x1900)),c(this,'_emulated',!(-0x85+0x12f5+0xb*-0x1ad)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0x5e03ed,this['_width']=_0x4d7977);}get['image'](){return this['_image'];}set['width'](_0x58b09c){this['_width']=_0x58b09c;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x41ea09=>(this['_bitmap']=_0x41ea09,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x4298cc){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(0xf59*0x1+-0x22f2+0x182*0xd)),c(this,'_images',[]),(this['_manager']=_0x4298cc,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x26d830,_0x3288cf){if(!this['_supported']||this['_manager']['active'])return null;const _0x16504e=new Cf(_0x26d830,_0x3288cf);return this['_images']['push'](_0x16504e),_0x16504e;}['remove'](_0x20f1c1){if(this['_manager']['active'])return;const _0x152a0c=this['_images']['indexOf'](_0x20f1c1);_0x152a0c!==-(-0x2669+-0x1381*-0x1+0x12e9)&&(_0x20f1c1['destroy'](),this['_images']['splice'](_0x152a0c,-0x19*0xf6+0x8f*-0x1+0x1896));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x10899a=>{this['_available']=!(0x20f2+-0x129f+0x13*-0xc1);for(let _0xa9aac6=0x2e5*-0xa+-0x1f7+0x29*0xc1;_0xa9aac6<_0x10899a['length'];_0xa9aac6++)this['_images'][_0xa9aac6]['_trackable']=_0x10899a[_0xa9aac6]==='trackable';})['catch'](_0x3f6e18=>{this['_available']=!(-0x527*0x1+-0x1031+0x1559),this['fire']('error',_0x3f6e18);});}['_onSession'+'End'](){this['_available']=!(-0x6b5+0x1*-0x1a1b+0x20d1*0x1);for(let _0x149951=0x24e2+-0x1a32+0x10*-0xab;_0x149951<this['_images']['length'];_0x149951++){const _0x40b291=this['_images'][_0x149951];_0x40b291['_pose']=null,_0x40b291['_measuredW'+'idth']=-0x1*0x943+0x1441+0x15*-0x86,_0x40b291['_tracking']&&(_0x40b291['_tracking']=!(0x1*0x26d+-0x2275+0x2009),_0x40b291['fire']('untracked'));}}['prepareIma'+'ges'](_0x42a3e9){this['_images']['length']?Promise['all'](this['_images']['map'](_0xe73175=>_0xe73175['prepare']()))['then'](_0x3bf49f=>{_0x42a3e9(null,_0x3bf49f);})['catch'](_0x3ea9d5=>{_0x42a3e9(_0x3ea9d5,null);}):_0x42a3e9(null,null);}['update'](_0x25feea){if(!this['_available'])return;const _0x35f0e0=_0x25feea['getImageTr'+'ackingResu'+'lts'](),_0x2389cb={};for(let _0x4dd08e=-0x1af8+0x9f2+-0x2*-0x883;_0x4dd08e<_0x35f0e0['length'];_0x4dd08e++){_0x2389cb[_0x35f0e0[_0x4dd08e]['index']]=_0x35f0e0[_0x4dd08e];const _0x1a95cb=this['_images'][_0x35f0e0[_0x4dd08e]['index']];_0x1a95cb['_emulated']=_0x35f0e0[_0x4dd08e]['trackingSt'+'ate']==='emulated',_0x1a95cb['_measuredW'+'idth']=_0x35f0e0[_0x4dd08e]['measuredWi'+'dthInMeter'+'s'],_0x1a95cb['_pose']=_0x25feea['getPose'](_0x35f0e0[_0x4dd08e]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x572b9e=-0x99a+-0x7*-0x223+-0x55b;_0x572b9e<this['_images']['length'];_0x572b9e++)this['_images'][_0x572b9e]['_tracking']&&!_0x2389cb[_0x572b9e]?(this['_images'][_0x572b9e]['_tracking']=!(0x107f+-0x1*-0xf4a+-0x1fc8),this['_images'][_0x572b9e]['fire']('untracked')):!this['_images'][_0x572b9e]['_tracking']&&_0x2389cb[_0x572b9e]&&(this['_images'][_0x572b9e]['_tracking']=!(0x26f1*-0x1+0x1b38+0xbb9),this['_images'][_0x572b9e]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x3671de,_0x3453e7){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x3671de,this['_hand']=_0x3453e7,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=-0x11f8+-0x1*0x2033+-0x10b9*-0x3;l<jg['length'];l++)Gx[jg[l]]=!(0x42a*0x6+-0x97a+0x7c1*-0x2);class Yg{constructor(_0x5219a9,_0x19ee50,_0x172552,_0x4a2ff5=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(-0x265b+0x2*-0xd42+0x40df)),(this['_index']=_0x5219a9,this['_id']=_0x19ee50,this['_hand']=_0x172552,this['_finger']=_0x4a2ff5,this['_wrist']=_0x19ee50==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x19ee50]);}['update'](_0x4951a4){this['_dirtyLoca'+'l']=!(0xd89+-0x2095+0x130c*0x1),this['_radius']=_0x4951a4['radius'],this['_localPosi'+'tion']['copy'](_0x4951a4['transform']['position']),this['_localRota'+'tion']['copy'](_0x4951a4['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0xccd+-0x35*-0x8e+-0x8*0x213),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x5a8ec4=this['_hand']['_manager']['camera']['parent'];_0x5a8ec4?this['_worldTran'+'sform']['mul2'](_0x5a8ec4['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0x3*0x805+-0x16c7+-0x29*0x8+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x2af1a6){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(0x2af*-0x9+0x1d9f+-0x577*0x1)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x41dab3=_0x2af1a6['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x2af1a6['_manager'],this['_inputSour'+'ce']=_0x2af1a6,_0x41dab3['get']('wrist')){const _0x3e87d0=new Yg(0x6*-0x5fa+-0x451*-0x6+0x9f6,'wrist',this,null);this['_wrist']=_0x3e87d0,this['_joints']['push'](_0x3e87d0),this['_jointsByI'+'d']['wrist']=_0x3e87d0;}for(let _0x1654f2=0x1b02*0x1+0x49c+0xd5*-0x26;_0x1654f2<Sh['length'];_0x1654f2++){const _0x5c3bd1=new qL(_0x1654f2,this);for(let _0x568d6b=0x19a5+0x550*0x5+-0x3435;_0x568d6b<Sh[_0x1654f2]['length'];_0x568d6b++){const _0x112c65=Sh[_0x1654f2][_0x568d6b];if(!_0x41dab3['get'](_0x112c65))continue;const _0x1542d0=new Yg(_0x568d6b,_0x112c65,this,_0x5c3bd1);this['_joints']['push'](_0x1542d0),this['_jointsByI'+'d'][_0x112c65]=_0x1542d0,_0x1542d0['tip']&&(this['_tips']['push'](_0x1542d0),_0x5c3bd1['_tip']=_0x1542d0),_0x5c3bd1['_joints']['push'](_0x1542d0);}}}['update'](_0x302b6c){const _0x4378d4=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0xda039a=-0x10c8+-0x20*-0x8a+0x28*-0x3;_0xda039a<this['_joints']['length'];_0xda039a++){const _0x20879a=this['_joints'][_0xda039a],_0x3d6e4a=_0x4378d4['hand']['get'](_0x20879a['_id']);if(_0x3d6e4a){let _0x4aeeda;if(_0x302b6c['session']['visibility'+'State']!=='hidden'&&(_0x4aeeda=_0x302b6c['getJointPo'+'se'](_0x3d6e4a,this['_manager']['_reference'+'Space'])),_0x4aeeda)_0x20879a['update'](_0x4aeeda),_0x20879a['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x1801+-0x1042*-0x2+0x15*-0x2b1),this['fire']('tracking'));else{if(_0x20879a['wrist']){this['_tracking']&&(this['_tracking']=!(0x926+0xb81*-0x3+0x195e),this['fire']('trackinglo'+'st'));break;}}}}const _0x1aefd8=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0xb38b69=this['_jointsByI'+'d']['thumb-tip'],_0x14f23b=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x33709b=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x1d1b1d=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x4093ad=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x1aefd8&&_0xb38b69&&_0x14f23b&&_0x33709b&&_0x1d1b1d&&_0x4093ad){this['_inputSour'+'ce']['_dirtyRay']=!(-0x427*-0x9+0x1330+-0x388f),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0xb38b69['_localPosi'+'tion'],_0x33709b['_localPosi'+'tion'],-0x1a23+0x848+-0x7*-0x28d+0.5);let _0x4e7fba=_0x1aefd8,_0x15e4a3=_0x4093ad;if(this['_inputSour'+'ce']['handedness']===HL){const _0xec0e89=_0x4e7fba;_0x4e7fba=_0x15e4a3,_0x15e4a3=_0xec0e89;}Ir['sub2'](_0x4e7fba['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x15e4a3['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x14f23b['_localPosi'+'tion'],_0x1d1b1d['_localPosi'+'tion'],-0x125e*-0x1+-0x319*-0x1+-0x1577+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,0x47*0x4d+-0x1f3*0x1+-0x1368+0.5)['normalize']();}const _0x1849a5=this['_fingerIsC'+'losed'](-0x2582+0xb47+0x1a3d)&&this['_fingerIsC'+'losed'](0xe47+0x175f*0x1+-0x25a3)&&this['_fingerIsC'+'losed'](0xda*0x1+0x12bc*0x1+-0x1392);this['_fingersTi'+'pDistance'](-0x9fb+-0x19c1+-0x8ef*-0x4,0xd0f*0x1+0x474+-0x3*0x5d6)?this['_inputSour'+'ce']['_pinching']?(this['_inputSour'+'ce']['fire']('pinching'),this['_manager']['input']['fire']('pinching',this['_inputSour'+'ce'])):(this['_inputSour'+'ce']['fire']('pinchstart'),this['_manager']['input']['fire']('pinchstart',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(-0x72d+-0xb47*0x1+-0x1274*-0x1),console['log']('===>>>xr\x20p'+'inch','pinchstart',new Date()['getTime']())):this['_inputSour'+'ce']['_pinching']&&(this['_inputSour'+'ce']['fire']('pinchend'),this['_manager']['input']['fire']('pinchend',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0x13*-0x194+-0x1c*-0xc8+0x81d),console['log']('===>>>xr\x20p'+'inch','pinchend',new Date()['getTime']())),_0x1849a5?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x1*0x15ff+-0x8*-0x239+0x437),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x1154+-0x1b9*-0x6+-0x1ba9),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0x271352,_0x57fe35){const _0x3a6134=this['_fingers'][_0x271352],_0xbafb7=this['_fingers'][_0x57fe35];return _0x3a6134['tip']['_localPosi'+'tion']['distance'](_0xbafb7['tip']['_localPosi'+'tion'])<=-0xbdc+-0x40+0x7c*0x19+0.01;}['_fingerIsC'+'losed'](_0x534ca4){const _0x529bc3=this['_fingers'][_0x534ca4];return Ir['sub2'](_0x529bc3['joints'][0x32a+-0xcab+0x981]['_localPosi'+'tion'],_0x529bc3['joints'][0x425+-0x4*0xf1+-0x60*0x1]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x529bc3['joints'][-0x166f*-0x1+0x2501+0x2*-0x1db7]['_localPosi'+'tion'],_0x529bc3['joints'][0x3*0x8cd+-0x18ff*-0x1+-0x3363]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(0x645+-0x1886*-0x1+-0x1ecb+0.8);}['getJointBy'+'Id'](_0x4a86d5){return this['_jointsByI'+'d'][_0x4a86d5]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=0x4fb*-0x5+0x6ea+0x11fd;class xs extends ce{constructor(_0x3aed7f,_0xa18ddd){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(0x106*-0x6+0x1f*0xe+0x1*0x473)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(0x324*-0x8+0x15ad+0x22*0x1a)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(-0xf99*0x2+-0x5*-0x677+-0x1*0x121)),c(this,'_dirtyRay',!(0x1*-0xc2c+-0x196*-0x3+0x1*0x76b)),c(this,'_selecting',!(0x22a*0x2+0x185c+-0x1caf)),c(this,'_squeezing',!(0x1*-0x1b8+0xa1c+-0x863)),c(this,'_pinching',!(-0x1*-0x1b46+0x255d+-0x40a2)),c(this,'_elementIn'+'put',!(0x11cc+0x1387+-0x777*0x5)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0x3aed7f,this['_xrInputSo'+'urce']=_0xa18ddd,_0xa18ddd['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x23c8de){this['_elementIn'+'put']!==_0x23c8de&&(this['_elementIn'+'put']=_0x23c8de,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x1a93a7){if(this['_hand'])this['_hand']['update'](_0x1a93a7);else{const _0x3ee681=this['_xrInputSo'+'urce']['gripSpace'];if(_0x3ee681){const _0x4d279a=_0x1a93a7['getPose'](_0x3ee681,this['_manager']['_reference'+'Space']);if(_0x4d279a){this['_grip']||(this['_grip']=!(0x91c+0x1263+-0x1b7f),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x58c800=ne(),_0x4140a2=(_0x58c800-this['_velocitie'+'sTimestamp'])/(-0x938+-0x23ee+-0x17*-0x222);this['_velocitie'+'sTimestamp']=_0x58c800,this['_dirtyLoca'+'l']=!(-0x1410+0x1f06+-0xaf6),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x4d279a['transform']['position']),this['_localRota'+'tion']['copy'](_0x4d279a['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x9ac+0x1*0x35b+-0xd07),this['_manager']['input']['velocities'+'Supported']&&_0x4d279a['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x4d279a['linearVelo'+'city']):_0x4140a2>0xc33+-0x14*0x154+0xe5d*0x1&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x4140a2),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,0x2285+0x85*0x4+-0x2499+0.15));}else this['_velocitie'+'sAvailable']=!(0x25f8+-0x10*-0x184+-0x3e37);}const _0x49e1fc=_0x1a93a7['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x49e1fc&&(this['_dirtyRay']=!(-0x1ea1+-0x40e*-0x1+0x1*0x1a93),this['_rayLocal']['origin']['copy'](_0x49e1fc['transform']['position']),this['_rayLocal']['direction']['set'](-0x832*0x3+-0x262d+0x3ec3,-0x140+0x631+-0x4f1,-(-0x380+0xd33+-0x9b2)),Qg['copy'](_0x49e1fc['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x226f+-0xf93+0x3203),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x5232f1=this['_manager']['camera']['parent'];_0x5232f1?this['_worldTran'+'sform']['mul2'](_0x5232f1['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x20d4d=this['_dirtyRay'];if(this['_dirtyRay']=!(0x34c+-0x7db*-0x1+-0xb26),this['_manager']['camera']['parent']){const _0x21fe88=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x21fe88['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x21fe88),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x20d4d&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x4e113f={}){_0x4e113f['inputSourc'+'e']=this,_0x4e113f['profile']=this['_xrInputSo'+'urce']['profiles'][0x1a3+-0x2267*0x1+-0x3*-0xaec];const _0xb124cb=_0x4e113f['callback'];_0x4e113f['callback']=(_0x2883a0,_0x50cc15)=>{_0x50cc15&&this['onHitTestS'+'ourceAdd'](_0x50cc15),_0xb124cb&&_0xb124cb(_0x2883a0,_0x50cc15);},this['_manager']['hitTest']['start'](_0x4e113f);}['onHitTestS'+'ourceAdd'](_0x504cdd){this['_hitTestSo'+'urces']['push'](_0x504cdd),this['fire']('hittest:ad'+'d',_0x504cdd),_0x504cdd['on']('result',(_0x4e3955,_0x33cda7,_0x2c5063,_0x4466c3)=>{_0x2c5063===this&&this['fire']('hittest:re'+'sult',_0x504cdd,_0x4e3955,_0x33cda7,_0x4466c3);}),_0x504cdd['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x504cdd),this['fire']('hittest:re'+'move',_0x504cdd);});}['onHitTestS'+'ourceRemov'+'e'](_0x346762){const _0x403fd2=this['_hitTestSo'+'urces']['indexOf'](_0x346762);_0x403fd2!==-(-0x106*-0x1+0x7ae+0x1*-0x8b3)&&this['_hitTestSo'+'urces']['splice'](_0x403fd2,0x72*0xf+-0x1236+-0xb89*-0x1);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0xb5f934){var _0x1877d4,_0xb87fae;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(0x16e8+-0x26cd+0xfe6)),(this['manager']=_0xb5f934,this['velocities'+'Supported']=!!(ye['browser']&&((_0xb87fae=(_0x1877d4=window['XRPose'])==null?void(0x1a43+0x1*0x2d1+0x745*-0x4):_0x1877d4['prototype'])!=null&&_0xb87fae['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x57ed79=>{this['_onInputSo'+'urcesChang'+'e'](_0x57ed79);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x4eff2b=this['manager']['session'];_0x4eff2b['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x4eff2b['addEventLi'+'stener']('select',_0x51dc92=>{const _0x385b28=this['_getByInpu'+'tSource'](_0x51dc92['inputSourc'+'e']);_0x385b28['update'](_0x51dc92['frame']),_0x385b28['fire']('select',_0x51dc92),this['fire']('select',_0x385b28,_0x51dc92);}),_0x4eff2b['addEventLi'+'stener']('selectstar'+'t',_0x3428c3=>{const _0x191ef4=this['_getByInpu'+'tSource'](_0x3428c3['inputSourc'+'e']);_0x191ef4['_selecting']||(_0x191ef4['update'](_0x3428c3['frame']),_0x191ef4['_selecting']=!(-0x1*0x1e63+0x234a+-0x4e7*0x1),_0x191ef4['fire']('selectstar'+'t',_0x3428c3),this['fire']('selectstar'+'t',_0x191ef4,_0x3428c3));}),_0x4eff2b['addEventLi'+'stener']('selectend',_0x1ba508=>{const _0x2949a8=this['_getByInpu'+'tSource'](_0x1ba508['inputSourc'+'e']);_0x2949a8['update'](_0x1ba508['frame']),_0x2949a8['_selecting']=!(0x3c1*-0x7+0x392*0x3+0xf92),_0x2949a8['fire']('selectend',_0x1ba508),this['fire']('selectend',_0x2949a8,_0x1ba508);}),_0x4eff2b['addEventLi'+'stener']('squeeze',_0x81a1e1=>{const _0x25fa4b=this['_getByInpu'+'tSource'](_0x81a1e1['inputSourc'+'e']);_0x25fa4b['update'](_0x81a1e1['frame']),_0x25fa4b['fire']('squeeze',_0x81a1e1),this['fire']('squeeze',_0x25fa4b,_0x81a1e1);}),_0x4eff2b['addEventLi'+'stener']('squeezesta'+'rt',_0x162164=>{const _0x4742d1=this['_getByInpu'+'tSource'](_0x162164['inputSourc'+'e']);_0x4742d1['update'](_0x162164['frame']),_0x4742d1['_squeezing']=!(0x184b*-0x1+-0x1a4a+0x3295),_0x4742d1['fire']('squeezesta'+'rt',_0x162164),this['fire']('squeezesta'+'rt',_0x4742d1,_0x162164);}),_0x4eff2b['addEventLi'+'stener']('squeezeend',_0x4e6290=>{const _0x4045e7=this['_getByInpu'+'tSource'](_0x4e6290['inputSourc'+'e']);_0x4045e7['update'](_0x4e6290['frame']),_0x4045e7['_squeezing']=!(-0x1f*0x59+-0x20cf+-0x1*-0x2b97),_0x4045e7['fire']('squeezeend',_0x4e6290),this['fire']('squeezeend',_0x4045e7,_0x4e6290);});const _0x1e6b1c=_0x4eff2b['inputSourc'+'es'];for(let _0x5b3c9f=-0xd47+0x643+0x704;_0x5b3c9f<_0x1e6b1c['length'];_0x5b3c9f++)this['_addInputS'+'ource'](_0x1e6b1c[_0x5b3c9f]);}['_onSession'+'End'](){let _0x4180b1=this['_inputSour'+'ces']['length'];for(;_0x4180b1--;){const _0x53fdb4=this['_inputSour'+'ces'][_0x4180b1];this['_inputSour'+'ces']['splice'](_0x4180b1,0x10c7+-0xb11+-0x5b5),_0x53fdb4['fire']('remove'),this['fire']('remove',_0x53fdb4);}this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x4d13b4){for(let _0x199616=0x26c3*0x1+-0xdf5+-0x4f6*0x5;_0x199616<_0x4d13b4['removed']['length'];_0x199616++)this['_removeInp'+'utSource'](_0x4d13b4['removed'][_0x199616]),console['log']('_removeInp'+'utSource',_0x4d13b4['removed']);for(let _0x41850b=-0x1*0x218+0x305+0xed*-0x1;_0x41850b<_0x4d13b4['added']['length'];_0x41850b++)this['_addInputS'+'ource'](_0x4d13b4['added'][_0x41850b]),console['log']('_addInputS'+'ource',_0x4d13b4['added']);}['_getByInpu'+'tSource'](_0x3b053f){for(let _0x4b0e19=-0xe63*-0x2+0x2c2*0x9+-0x3598;_0x4b0e19<this['_inputSour'+'ces']['length'];_0x4b0e19++)if(this['_inputSour'+'ces'][_0x4b0e19]['inputSourc'+'e']===_0x3b053f)return this['_inputSour'+'ces'][_0x4b0e19];return null;}['_addInputS'+'ource'](_0x5ab346){if(this['_getByInpu'+'tSource'](_0x5ab346))return;const _0x829527=new xs(this['manager'],_0x5ab346);this['_inputSour'+'ces']['push'](_0x829527),this['fire']('add',_0x829527);}['_removeInp'+'utSource'](_0x48b82e){for(let _0x1657d6=0x1835+-0x1*-0x173a+-0x2f6f;_0x1657d6<this['_inputSour'+'ces']['length'];_0x1657d6++){if(this['_inputSour'+'ces'][_0x1657d6]['inputSourc'+'e']!==_0x48b82e)continue;const _0x5cf1cc=this['_inputSour'+'ces'][_0x1657d6];this['_inputSour'+'ces']['splice'](_0x1657d6,-0x4*-0x703+-0xf58+-0xcb3*0x1);let _0x4d37b9=_0x5cf1cc['hitTestSou'+'rces']['length'];for(;_0x4d37b9--;)_0x5cf1cc['hitTestSou'+'rces'][_0x4d37b9]['remove']();_0x5cf1cc['fire']('remove'),this['fire']('remove',_0x5cf1cc);return;}}['update'](_0x521748){for(let _0x267879=0x969+-0x1f77+-0x6*-0x3ad;_0x267879<this['_inputSour'+'ces']['length'];_0x267879++)this['_inputSour'+'ces'][_0x267879]['update'](_0x521748);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x21d627){super(),c(this,'_manager'),c(this,'_supported',!(-0x1*-0x22de+-0xb*-0x2c9+-0x20c*0x20)),c(this,'_available',!(-0x1*0x240+0x1*-0x406+0x647)),c(this,'_lightProb'+'eRequested',!(0x565*-0x1+0x501+0x65*0x1)),c(this,'_lightProb'+'e',null),c(this,'_intensity',-0x25*0x1a+0xab1+-0x6ef*0x1),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(-0x1507+0x1dda*0x1+0x8b8*-0x1)),(this['_manager']=_0x21d627,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x1db7*-0x1+0x322+0x3*-0xaf3));}['_onSession'+'End'](){this['_supported']=!(-0x1466*0x1+0x20fc+-0xc95*0x1),this['_available']=!(0x20e*0xb+-0x1*0x1163+-0x536),this['_lightProb'+'eRequested']=!(-0x256e+-0x74*0x13+0x2e0b),this['_lightProb'+'e']=null;}['start'](){let _0x11ffa3;if(this['_manager']['session']||(_0x11ffa3=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x11ffa3&&this['_manager']['type']!==Ao&&(_0x11ffa3=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x11ffa3&&!this['_supported']&&(_0x11ffa3=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x11ffa3&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x11ffa3=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x11ffa3){this['fire']('error',_0x11ffa3);return;}this['_lightProb'+'eRequested']=!(-0x448*-0x6+0x1fd*0x7+-0x279b),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x234529=>{const _0x290c28=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x1641+-0x19c0+0x380),this['_manager']['active']?_0x290c28&&(this['_lightProb'+'e']=_0x234529):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0xa5bdb3=>{this['_lightProb'+'eRequested']=!(-0x17d5+-0x5*-0x17+0x1763*0x1),this['fire']('error',_0xa5bdb3);});}['end'](){this['_lightProb'+'eRequested']=!(-0x5b4+-0x1*0x1444+0x19f9),this['_lightProb'+'e']=null,this['_available']=!(0x7*-0x3db+-0xa4*-0x3+0x1912);}['update'](_0x159fe1){if(!this['_lightProb'+'e'])return;const _0x31d612=_0x159fe1['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x31d612)return;this['_available']||(this['_available']=!(0x1f8f+0x17c5*0x1+-0x3754*0x1),this['fire']('available'));const _0x177f3d=_0x31d612['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x103e+0x15f2+-0x262f,Math['max'](_0x177f3d['x'],Math['max'](_0x177f3d['y'],_0x177f3d['z']))),Xn['copy'](_0x177f3d)['mulScalar']((-0x1543+-0x29*0xac+0x30d0)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](0x137*0x1+-0x29*0x41+0x499*0x2,0xbe9*0x1+0x3a1*-0x5+0x10a*0x6,0xbb+-0x1*-0xda5+-0xe60),Jg['copy'](_0x31d612['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],0x10ae+0x3e*-0x55+0x442),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x31d612['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=-0xd*-0x1eb+-0x5fa+-0x12f5;class Rf extends ce{constructor(_0x515085,_0x62e4c3){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x515085,this['_xrPlane']=_0x62e4c3,this['_lastChang'+'edTime']=_0x62e4c3['lastChange'+'dTime'],this['_orientati'+'on']=_0x62e4c3['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x2294c0){const _0x27f301=this['_planeDete'+'ction']['_manager'],_0xc4d828=_0x2294c0['getPose'](this['_xrPlane']['planeSpace'],_0x27f301['_reference'+'Space']);_0xc4d828&&(this['_position']['copy'](_0xc4d828['transform']['position']),this['_rotation']['copy'](_0xc4d828['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x824ca7){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(-0x1*-0x979+-0x120+0x10b*-0x8)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x824ca7,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0x1*-0x411+-0x23a8+0x27ba)&&(this['_available']=!(0x19fd+-0x539*-0x5+-0x341a),this['fire']('available'));}['_onSession'+'End'](){for(let _0x309199=0x92d+-0x3ce*0x7+0x1175;_0x309199<this['_planes']['length'];_0x309199++)this['_planes'][_0x309199]['destroy'](),this['fire']('remove',this['_planes'][_0x309199]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0x13*-0x1d8+0x17c3+-0x1*-0xb45,this['_available']&&(this['_available']=!(-0x1d*-0x103+0x26c8+-0x441e*0x1),this['fire']('unavailabl'+'e'));}['update'](_0x2b9445){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x2b9445['detectedPl'+'anes']['size'])this['_available']=!(0x5*0x1eb+-0x4b3*-0x5+-0x69e*0x5),this['fire']('available');else return;}const _0x311651=_0x2b9445['detectedPl'+'anes'];for(const [_0x5ab060,_0x4d2b1a]of this['_planesInd'+'ex'])_0x311651['has'](_0x5ab060)||(this['_planesInd'+'ex']['delete'](_0x5ab060),this['_planes']['splice'](this['_planes']['indexOf'](_0x4d2b1a),-0x15b1+-0x1*0x1b5+0x1767*0x1),_0x4d2b1a['destroy'](),this['fire']('remove',_0x4d2b1a));for(const _0x32e99c of _0x311651){let _0xba45a0=this['_planesInd'+'ex']['get'](_0x32e99c);_0xba45a0?_0xba45a0['update'](_0x2b9445):(_0xba45a0=new Rf(this,_0x32e99c),this['_planesInd'+'ex']['set'](_0x32e99c,_0xba45a0),this['_planes']['push'](_0xba45a0),_0xba45a0['update'](_0x2b9445),this['fire']('add',_0xba45a0));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x9aa550,_0x3276b9,_0x2f911f=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x9aa550,this['_xrAnchor']=_0x3276b9,this['_uuid']=_0x2f911f);}['destroy'](){if(!this['_xrAnchor'])return;const _0x5c1cf5=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x5c1cf5,this);}['update'](_0x296868){if(!this['_xrAnchor'])return;const _0x1e6188=_0x296868['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x1e6188){if(this['_position']['equals'](_0x1e6188['transform']['position'])&&this['_rotation']['equals'](_0x1e6188['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x1e6188['transform']['position']),this['_rotation']['copy'](_0x1e6188['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x64fdae){if(!this['_anchors']['persistenc'+'e']){_0x64fdae==null||_0x64fdae(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x64fdae==null||_0x64fdae(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x64fdae&&this['_uuidReque'+'sts']['push'](_0x64fdae);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x33a270=>{this['_uuid']=_0x33a270,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x64fdae==null||_0x64fdae(null,_0x33a270);for(const _0x3fdd83 of this['_uuidReque'+'sts'])_0x3fdd83(null,_0x33a270);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x33a270);})['catch'](_0x1a8f8a=>{_0x64fdae==null||_0x64fdae(_0x1a8f8a,null);for(const _0x14a843 of this['_uuidReque'+'sts'])_0x14a843(_0x1a8f8a,null);this['_uuidReque'+'sts']=null;});}['forget'](_0xcdcfcd){if(!this['_uuid']){_0xcdcfcd==null||_0xcdcfcd(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x335b4a=>{this['_uuid']=null,_0xcdcfcd==null||_0xcdcfcd(_0x335b4a),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x30fe2b){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(0x27*0xdf+-0x362+-0x87*0x3a)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x25c1+-0xce8+0x32aa)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(0x1dac+0x7*0x183+-0x2841):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x30fe2b,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x4aed54=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(-0x1*-0x3c7+0x242b+-0x27f1);_0x4aed54&&(this['_available']=_0x4aed54,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x7df+-0x13+0x13*-0x69);for(let _0x7b6149=0x1*-0x13a4+-0x24a5+0x3849;_0x7b6149<this['_creationQ'+'ueue']['length'];_0x7b6149++)this['_creationQ'+'ueue'][_0x7b6149]['callback']&&this['_creationQ'+'ueue'][_0x7b6149]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x101c+0x1690+-0x26ac,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x22f63d=this['_list']['length'];for(;_0x22f63d--;)this['_list'][_0x22f63d]['destroy']();this['_list']['length']=0xa7*0x10+0x16c+-0x4*0x2f7,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x469255,_0x2886ec=null){const _0xa9f22b=new uo(this,_0x469255,_0x2886ec);return this['_index']['set'](_0x469255,_0xa9f22b),_0x2886ec&&this['_indexByUu'+'id']['set'](_0x2886ec,_0xa9f22b),this['_list']['push'](_0xa9f22b),_0xa9f22b['once']('destroy',this['_onAnchorD'+'estroy'],this),_0xa9f22b;}['_onAnchorD'+'estroy'](_0x5e3304,_0x3c32ed){this['_index']['delete'](_0x5e3304),_0x3c32ed['uuid']&&this['_indexByUu'+'id']['delete'](_0x3c32ed['uuid']);const _0x183a28=this['_list']['indexOf'](_0x3c32ed);_0x183a28!==-(0xec3*0x2+-0xb*-0x94+-0xb*0x343)&&this['_list']['splice'](_0x183a28,0x3*-0x922+0x9ed+-0x1*-0x117a),this['fire']('destroy',_0x3c32ed);}['create'](_0x2575bd,_0x2233c3,_0x463603){if(!this['_available']){_0x463603==null||_0x463603(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x2575bd instanceof XRHitTestResult){const _0x2b1aac=_0x2575bd;if(_0x463603=_0x2233c3,!this['_supported']){_0x463603==null||_0x463603(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x2b1aac['createAnch'+'or']){_0x463603==null||_0x463603(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x2b1aac['createAnch'+'or']()['then'](_0x237058=>{const _0x17b3b7=this['_createAnc'+'hor'](_0x237058);_0x463603==null||_0x463603(null,_0x17b3b7),this['fire']('add',_0x17b3b7);})['catch'](_0x592993=>{_0x463603==null||_0x463603(_0x592993,null),this['fire']('error',_0x592993);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x2575bd,_0x2233c3),'callback':_0x463603});}['restore'](_0x1068ad,_0x19e0f2){if(!this['_available']){_0x19e0f2==null||_0x19e0f2(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x19e0f2==null||_0x19e0f2(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x19e0f2==null||_0x19e0f2(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x1068ad)['then'](_0xe32a55=>{const _0x53edf2=this['_createAnc'+'hor'](_0xe32a55,_0x1068ad);_0x19e0f2==null||_0x19e0f2(null,_0x53edf2),this['fire']('add',_0x53edf2);})['catch'](_0x13ab48=>{_0x19e0f2==null||_0x19e0f2(_0x13ab48,null),this['fire']('error',_0x13ab48);});}['forget'](_0x106acb,_0x25cfab){if(!this['_available']){_0x25cfab==null||_0x25cfab(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x25cfab==null||_0x25cfab(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x25cfab==null||_0x25cfab(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x106acb)['then'](()=>{_0x25cfab==null||_0x25cfab(null);})['catch'](_0x37e32e=>{_0x25cfab==null||_0x25cfab(_0x37e32e),this['fire']('error',_0x37e32e);});}['update'](_0x3c98b9){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x1*0x1a08+-0x17b8+0x4*-0x94),_0x3c98b9['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x4105=>{_0x4105['delete'](),this['manager']['active']&&(this['_available']=!(-0xf1e+0xd0b+0x213*0x1),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x4b96c3=-0xabc+-0x2635+0x30f1;_0x4b96c3<this['_creationQ'+'ueue']['length'];_0x4b96c3++){const _0x107dbb=this['_creationQ'+'ueue'][_0x4b96c3];_0x3c98b9['createAnch'+'or'](_0x107dbb['transform'],this['manager']['_reference'+'Space'])['then'](_0x377288=>{_0x107dbb['callback']&&this['_callbacks'+'Anchors']['set'](_0x377288,_0x107dbb['callback']);})['catch'](_0x50c78b=>{_0x107dbb['callback']&&_0x107dbb['callback'](_0x50c78b,null),this['fire']('error',_0x50c78b);});}this['_creationQ'+'ueue']['length']=0x8e3+0x1799+-0x4d*0x6c;}for(const [_0x5053e4,_0x3a5f7d]of this['_index'])_0x3c98b9['trackedAnc'+'hors']['has'](_0x5053e4)||(this['_index']['delete'](_0x5053e4),_0x3a5f7d['destroy']());for(let _0x43a513=0x1*-0x20db+0x36f*-0x3+0x2b28;_0x43a513<this['_list']['length'];_0x43a513++)this['_list'][_0x43a513]['update'](_0x3c98b9);for(const _0x2dc51e of _0x3c98b9['trackedAnc'+'hors']){if(this['_index']['has'](_0x2dc51e))continue;try{const _0x5948a9=_0x2dc51e['anchorSpac'+'e'];}catch{continue;}const _0x4a7ec0=this['_createAnc'+'hor'](_0x2dc51e);_0x4a7ec0['update'](_0x3c98b9);const _0x38a7ba=this['_callbacks'+'Anchors']['get'](_0x2dc51e);_0x38a7ba&&(this['_callbacks'+'Anchors']['delete'](_0x2dc51e),_0x38a7ba(null,_0x4a7ec0)),this['fire']('add',_0x4a7ec0);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x165cac,_0x3b4e0f){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',0x1*0x45b+-0x1a09+-0x96*-0x25),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x165cac,this['_xrMesh']=_0x3b4e0f,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x531e6b){const _0x51c75c=this['_meshDetec'+'tion']['_manager'],_0x4b4def=_0x531e6b['getPose'](this['_xrMesh']['meshSpace'],_0x51c75c['_reference'+'Space']);_0x4b4def&&(this['_position']['copy'](_0x4b4def['transform']['position']),this['_rotation']['copy'](_0x4b4def['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x405e14){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(0x1aaf+0x20*0x43+-0x1187*0x2)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x405e14,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x1b5a11){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x1b5a11['detectedMe'+'shes']['size'])this['_available']=!(-0x1788+-0x38d*-0x9+-0x86d*0x1),this['fire']('available');else return;}for(const _0x1ecdf3 of _0x1b5a11['detectedMe'+'shes']){let _0x287fe1=this['_index']['get'](_0x1ecdf3);_0x287fe1?_0x287fe1['update'](_0x1b5a11):(_0x287fe1=new If(this,_0x1ecdf3),this['_index']['set'](_0x1ecdf3,_0x287fe1),this['_list']['push'](_0x287fe1),_0x287fe1['update'](_0x1b5a11),this['fire']('add',_0x287fe1));}for(const _0x202d47 of this['_index']['values']())_0x1b5a11['detectedMe'+'shes']['has'](_0x202d47['xrMesh'])||this['_removeMes'+'h'](_0x202d47);}['_removeMes'+'h'](_0x153437){this['_index']['delete'](_0x153437['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x153437),0xa9*-0xd+-0x21c2+0x2a58),_0x153437['destroy'](),this['fire']('remove',_0x153437);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x49e152=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x28*-0x8a+-0x8*-0x37a+-0x315f);if(!_0x49e152)return;this['_available']=_0x49e152,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x1a5f+-0x10*-0x23+0x1830);for(const _0x58a02f of this['_index']['values']())this['_removeMes'+'h'](_0x58a02f);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x193fec,_0x253d39,_0xdca79f){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(-0xb58+-0x119a+0x1cf5)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x161b+-0x4cf*-0x7+-0xb6e)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x193fec,this['_xrView']=_0x253d39);const _0x887357=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x887357,{'format':dr,'mipmaps':!(0x19*0x97+-0x1*-0x224f+-0x1b1*0x1d),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x213f4c=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x887357,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0xdca79f===0x1355+-0x244a+0x10f6?0x26f4+-0x212c*-0x1+-0x20*0x241:_0xdca79f,'mipmaps':!(0x63*0x45+-0x955*-0x3+0x36ad*-0x1),'addressU':ae,'addressV':ae,'minFilter':_0x213f4c,'magFilter':_0x213f4c,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x57d4bc=0x1*0x8ab+0x7*-0x245+0x738;_0x57d4bc<this['_textureDe'+'pth']['_levels']['length'];_0x57d4bc++)this['_textureDe'+'pth']['_levels'][_0x57d4bc]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x887357['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x641027;return((_0x641027=this['_depthInfo'])==null?void(-0x1782+0x15*-0x22+0x1a4c):_0x641027['rawValueTo'+'Meters'])||0x1e8f+0x23+-0x1eb2;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x4d35d6,_0x4665f6){this['_xrView']=_0x4665f6,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x15b839=_0x4d35d6['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x15b839['x'],this['_viewport']['y']=_0x15b839['y'],this['_viewport']['z']=_0x15b839['width'],this['_viewport']['w']=_0x15b839['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x4d35d6);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0xdcbb3e=this['_manager']['webglBindi'+'ng'];if(!_0xdcbb3e)return;const _0x3ec6c9=_0xdcbb3e['getCameraI'+'mage'](this['_xrCamera']);if(!_0x3ec6c9)return;const _0x5c54a9=this['_manager']['app']['graphicsDe'+'vice'],_0x5ecb99=_0x5c54a9['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x5ecb99['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x5ecb99['createFram'+'ebuffer']();else{const _0x1b4c73=_0x5ecb99['COLOR_ATTA'+'CHMENT0'],_0x23f3ef=this['_xrCamera']['width'],_0x5b658b=this['_xrCamera']['height'];_0x5c54a9['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x5ecb99['framebuffe'+'rTexture2D'](_0x5ecb99['FRAMEBUFFE'+'R'],_0x1b4c73,_0x5ecb99['TEXTURE_2D'],_0x3ec6c9,0xefa+-0x1af*0x13+0x1103),_0x5c54a9['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x5ecb99['framebuffe'+'rTexture2D'](_0x5ecb99['FRAMEBUFFE'+'R'],_0x1b4c73,_0x5ecb99['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x20*0xf7+-0x1e2f+-0x13f*-0x31),_0x5ecb99['bindFrameb'+'uffer'](_0x5ecb99['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x5ecb99['bindFrameb'+'uffer'](_0x5ecb99['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x5ecb99['blitFrameb'+'uffer'](-0x1*0x2ee+0x25ff+-0x2311,_0x5b658b,_0x23f3ef,-0x1372+-0x57*0x66+0x361c,0x1f98+0x86d+-0x1*0x2805,0x127+-0x7d*-0x3+-0x29e,_0x23f3ef,_0x5b658b,_0x5ecb99['COLOR_BUFF'+'ER_BIT'],_0x5ecb99['NEAREST']);}}['_updateDep'+'th'](_0x240ef4){var _0x51527,_0x4af81f;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x3b5727=this['_manager']['views']['depthGpuOp'+'timized'],_0x5c40d2=_0x3b5727?this['_manager']['webglBindi'+'ng']:_0x240ef4;if(!_0x5c40d2){this['_depthInfo']=null;return;}const _0x3416dc=_0x5c40d2['getDepthIn'+'formation'](this['_xrView']);if(!_0x3416dc){this['_depthInfo']=null;return;}let _0x4df4a8=!this['_depthInfo']!=!_0x3416dc;this['_depthInfo']=_0x3416dc;const _0x5e4e0d=((_0x51527=this['_depthInfo'])==null?void(0x1b1f+0x1*0xd3b+-0x285a):_0x51527['width'])||0x1c98+-0x18b*-0xf+-0x33b9*0x1,_0x56bc78=((_0x4af81f=this['_depthInfo'])==null?void(0x2146*0x1+-0x6*0x162+0x116*-0x17):_0x4af81f['height'])||0x1*0x1fd5+-0x199f+-0x3d*0x1a;let _0x38babc=!(-0x35*0x3a+-0x3*-0x608+-0x615);if((this['_textureDe'+'pth']['width']!==_0x5e4e0d||this['_textureDe'+'pth']['height']!==_0x56bc78)&&(this['_textureDe'+'pth']['_width']=_0x5e4e0d,this['_textureDe'+'pth']['_height']=_0x56bc78,_0x4df4a8=!(0xde*0x15+0x1*0x205+-0x143b),_0x38babc=!(0x31f*-0x1+0x3d*0x61+-0x3*0x6aa)),_0x4df4a8&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x3b5727){if(this['_depthInfo']['texture']){const _0x494f7e=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x494f7e['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x494f7e['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x494f7e['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x494f7e['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x494f7e['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x494f7e['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x494f7e['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x494f7e['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x1be*-0xe+-0x5*-0x64f+0x1*-0x727);}}else this['_textureDe'+'pth']['_levels'][-0x264c+-0x2035+0x4681]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x76d*-0x1+0x1*0x1583+-0xe16]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x38babc&&this['fire']('depth:resi'+'ze',_0x5e4e0d,_0x56bc78);}['updateTran'+'sforms'](_0x3976dd){_0x3976dd?(this['_viewInvOf'+'fMat']['mul2'](_0x3976dd,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0xe7a+-0x33*-0x2b+0x5e9]=this['_viewInvOf'+'fMat']['data'][0xc78+-0x2*0xc95+0xcbe],this['_positionD'+'ata'][-0xd35+-0x2329*-0x1+-0x15f3]=this['_viewInvOf'+'fMat']['data'][0x1*0x24bc+-0x22c+-0x5*0x6e7],this['_positionD'+'ata'][0x210c+0x1f88+0x4092*-0x1]=this['_viewInvOf'+'fMat']['data'][-0x21c9+-0x764*0x4+0x1*0x3f67];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x45d2ea,_0x2131fd){var _0x52c863;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x52c863=this['_depthInfo'])==null?void(0x2*0x12d6+0x3ea+0x1*-0x2996):_0x52c863['getDepthIn'+'Meters'](_0x45d2ea,_0x2131fd))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0xd15463=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0xd15463['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0xd15463['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x5a69f2){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(0x4f*-0x2b+0xd*-0x191+0x21a3*0x1)),c(this,'_available'+'Depth',!(0xe0e+-0x1102+0x2f5)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x5a69f2,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x59bd50,_0xa83688){for(let _0x4ca92d=0x1ee1+-0x2*-0x1d5+0x1*-0x228b;_0x4ca92d<_0xa83688['length'];_0x4ca92d++)this['_indexTmp']['set'](_0xa83688[_0x4ca92d]['eye'],_0xa83688[_0x4ca92d]);for(const [_0x3bf2ac,_0x9c919d]of this['_indexTmp']){let _0x13ba7d=this['_index']['get'](_0x3bf2ac);_0x13ba7d?_0x13ba7d['update'](_0x59bd50,_0x9c919d):(_0x13ba7d=new Hx(this['_manager'],_0x9c919d,_0xa83688['length']),this['_index']['set'](_0x3bf2ac,_0x13ba7d),this['_list']['push'](_0x13ba7d),_0x13ba7d['update'](_0x59bd50,_0x9c919d),this['fire']('add',_0x13ba7d));}for(const [_0x225ab2,_0xcc5f0d]of this['_index']){if(this['_indexTmp']['has'](_0x225ab2))continue;_0xcc5f0d['destroy'](),this['_index']['delete'](_0x225ab2);const _0x486f8b=this['_list']['indexOf'](_0xcc5f0d);_0x486f8b!==-(-0x35e+0xcd*0x1+-0x1*-0x292)&&this['_list']['splice'](_0x486f8b,-0x13fc+0x563*0x1+0xe9a),this['fire']('remove',_0xcc5f0d);}this['_indexTmp']['clear']();}['get'](_0x32c2d5){return this['_index']['get'](_0x32c2d5)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x2*0x874+-0x1b68+0x2c51),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0x6*-0x463+-0xb78+0x4f3*-0x3),this['_available'+'Depth'])){const _0xd99cd7=this['_manager']['session'];this['_depthUsag'+'e']=_0xd99cd7['depthUsage'],this['_depthForm'+'at']=_0xd99cd7['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x3cf481 of this['_index']['values']())_0x3cf481['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x14ff+-0x4bd+-0x1041),this['_available'+'Depth']=!(-0x79c+0x296*0xb+-0x14d5),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x17f9+0xec1+-0x2*0x135d;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x1a1efa){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',0xb30*-0x2+-0x2fa+0x5*0x512+0.1),c(this,'_depthFar',-0x584*-0x5+0x1593+-0x63*0x75),c(this,'_supported'+'FrameRates',null),c(this,'_width',0x3*0xc57+0x3ac*-0x3+-0x1a01),c(this,'_height',-0x1f26+-0x1*-0x131+0x1*0x1df5),c(this,'_framebuff'+'erScaleFac'+'tor',0x213f*-0x1+0x1*-0xd29+-0x6d*-0x6d),(this['app']=_0x1a1efa,this['_available'][VL]=!(-0x1*0x19c0+-0x2*0x123+0x1c07),this['_available'][GL]=!(0x1e55+0x3*0x23f+-0x2511),this['_available'][Ao]=!(0x559+-0x902+0x43*0xe),this['views']=new ic(this),this['domOverlay']=new $L(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x5653fa,_0x2769c4,_0x400a34,_0x33b377){var _0x1a27f8;let _0x3117aa=_0x33b377;if(typeof _0x33b377=='object'&&(_0x3117aa=_0x33b377['callback']),!this['_available'][_0x2769c4]){_0x3117aa&&_0x3117aa(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x3117aa&&_0x3117aa(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x5653fa,this['_camera']['camera']['xr']=this,this['_type']=_0x2769c4,this['_spaceType']=_0x400a34,this['_framebuff'+'erScaleFac'+'tor']=(_0x33b377==null?void(-0x416*0x4+-0x1b7b+0xd*0x35f):_0x33b377['framebuffe'+'rScaleFact'+'or'])??0x1aa2+0x175+-0x1c16,this['_setClipPl'+'anes'](_0x5653fa['nearClip'],_0x5653fa['farClip']);const _0x4845f4={'requiredFeatures':[_0x400a34],'optionalFeatures':[]},_0x52256c=(_0x1a27f8=this['app']['graphicsDe'+'vice'])==null?void(0x16ce+-0xb20+0x2e*-0x41):_0x1a27f8['isWebGL2'];if(_0x2769c4===Ao){if(_0x4845f4['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x4845f4['optionalFe'+'atures']['push']('hit-test'),_0x33b377&&(_0x33b377['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x4845f4['optionalFe'+'atures']['push']('image-trac'+'king'),_0x33b377['planeDetec'+'tion']&&_0x4845f4['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x33b377['meshDetect'+'ion']&&_0x4845f4['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x4845f4['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x4845f4['domOverlay']={'root':this['domOverlay']['root']}),_0x33b377&&_0x33b377['anchors']&&this['anchors']['supported']&&_0x4845f4['optionalFe'+'atures']['push']('anchors'),_0x33b377&&_0x33b377['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x4845f4['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0xab7492=[],_0x591a71=[];if(_0xab7492['push'](Bx,WL),_0x591a71['push'](Ux,Nx,zx),_0x33b377['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x46dddb=_0xab7492['indexOf'](_0x33b377['depthSensi'+'ng']['usagePrefe'+'rence']);_0x46dddb!==-(-0x1*-0x233b+0x1*0xe57+-0x1*0x3191)&&_0xab7492['splice'](_0x46dddb,-0x5*0x76+-0x1bc4+0x1e13),_0xab7492['unshift'](_0x33b377['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x33b377['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x2f5b62=_0x591a71['indexOf'](_0x33b377['depthSensi'+'ng']['dataFormat'+'Preference']);_0x2f5b62!==-(-0x1579+-0x701+-0x1*-0x1c7b)&&_0x591a71['splice'](_0x2f5b62,0x15*0xc9+-0x1ffb*-0x1+-0x3077),_0x591a71['unshift'](_0x33b377['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x4845f4['depthSensi'+'ng']={'usagePreference':_0xab7492,'dataFormatPreference':_0x591a71};}_0x52256c&&_0x33b377&&_0x33b377['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x4845f4['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x4845f4['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x33b377&&_0x33b377['optionalFe'+'atures']&&(_0x4845f4['optionalFe'+'atures']=_0x4845f4['optionalFe'+'atures']['concat'](_0x33b377['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x4f1d15,_0x36f126)=>{if(_0x4f1d15){_0x3117aa&&_0x3117aa(_0x4f1d15),this['fire']('error',_0x4f1d15);return;}_0x36f126!==null&&(_0x4845f4['trackedIma'+'ges']=_0x36f126),this['_onStartOp'+'tionsReady'](_0x2769c4,_0x400a34,_0x4845f4,_0x3117aa);}):this['_onStartOp'+'tionsReady'](_0x2769c4,_0x400a34,_0x4845f4,_0x3117aa);}['_onStartOp'+'tionsReady'](_0x4101e5,_0x5d6271,_0x350794,_0x4ec036){navigator['xr']['requestSes'+'sion'](_0x4101e5,_0x350794)['then'](_0x4cd9bf=>{this['_onSession'+'Start'](_0x4cd9bf,_0x5d6271,_0x4ec036);})['catch'](_0x532afe=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x4ec036&&_0x4ec036(_0x532afe),this['fire']('error',_0x532afe);});}['end'](_0x18bbd6){if(!this['_session']){_0x18bbd6&&_0x18bbd6(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x18bbd6&&this['once']('end',_0x18bbd6),this['_session']['end']();}['isAvailabl'+'e'](_0x4aed03){return this['_available'][_0x4aed03];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x37f415 in this['_available'])this['_sessionSu'+'pportCheck'](_0x37f415);}['initiateRo'+'omCapture'](_0x11d08e){if(!this['_session']){_0x11d08e(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x11d08e(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x11d08e&&_0x11d08e(null);})['catch'](_0x506c26=>{_0x11d08e&&_0x11d08e(_0x506c26);});}['updateTarg'+'etFrameRat'+'e'](_0x20756e,_0x36a1bd){var _0x3b218e;if(!((_0x3b218e=this['_session'])!=null&&_0x3b218e['updateTarg'+'etFrameRat'+'e'])){_0x36a1bd==null||_0x36a1bd(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x20756e)['then'](()=>{_0x36a1bd==null||_0x36a1bd();})['catch'](_0x4fb041=>{_0x36a1bd==null||_0x36a1bd(_0x4fb041);});}['_sessionSu'+'pportCheck'](_0x1a9717){navigator['xr']['isSessionS'+'upported'](_0x1a9717)['then'](_0x44af19=>{this['_available'][_0x1a9717]!==_0x44af19&&(this['_available'][_0x1a9717]=_0x44af19,this['fire']('available',_0x1a9717,_0x44af19),this['fire']('available:'+_0x1a9717,_0x44af19));})['catch'](_0x391971=>{this['fire']('error',_0x391971);});}['_onSession'+'Start'](_0x39cb9a,_0x5b2cc6,_0x3935fe){let _0x3d978a=!(-0x2*-0x184+0x1*-0x1bd9+-0x846*-0x3);this['_session']=_0x39cb9a;const _0x17304d=()=>{this['fire']('visibility'+':change',_0x39cb9a['visibility'+'State']);},_0x53670c=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x1ad906=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x53670c),this['_camera']['off']('set_farCli'+'p',_0x53670c),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x39cb9a['removeEven'+'tListener']('end',_0x1ad906),_0x39cb9a['removeEven'+'tListener']('visibility'+'change',_0x17304d),_0x3d978a||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x132d+0x1*0x1f6a+-0x3297,this['_height']=0x41+-0xa5+0x64,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x39cb9a['addEventLi'+'stener']('end',_0x1ad906),_0x39cb9a['addEventLi'+'stener']('visibility'+'change',_0x17304d),this['_camera']['on']('set_nearCl'+'ip',_0x53670c),this['_camera']['on']('set_farCli'+'p',_0x53670c),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x15d120;this['fire']('frameratec'+'hange',(_0x15d120=this['_session'])==null?void(0xf7b+-0x1c2a+0x11*0xbf):_0x15d120['frameRate']);}),_0x39cb9a['requestRef'+'erenceSpac'+'e'](_0x5b2cc6)['then'](_0x272b25=>{this['_reference'+'Space']=_0x272b25,this['app']['tick'](),_0x3935fe&&_0x3935fe(null),this['fire']('start');})['catch'](_0x5c6d75=>{_0x3d978a=!(-0xb*0x4f+-0x7*-0x3a1+-0x3*0x756),_0x39cb9a['end'](),_0x3935fe&&_0x3935fe(_0x5c6d75),this['fire']('error',_0x5c6d75);});}['_setClipPl'+'anes'](_0x4c3c40,_0x15619e){this['_depthNear']===_0x4c3c40&&this['_depthFar']===_0x15619e||(this['_depthNear']=_0x4c3c40,this['_depthFar']=_0x15619e,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x242f9d=this['app']['graphicsDe'+'vice'],_0x2f5125=_0x242f9d['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x242f9d['gl'],{'alpha':!(0x612+0x236*-0x11+0x1f84),'depth':!(-0x15e6+-0x1506+0xa4*0x43),'stencil':!(0xb85*0x1+-0xe2c*-0x2+-0x27dd*0x1),'framebufferScaleFactor':_0x2f5125,'antialias':!(0x22b8+-0x107*-0x4+-0x26d3)}),_0x242f9d!=null&&_0x242f9d['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x242f9d['gl']);}catch(_0x584544){this['fire']('error',_0x584544);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x4963a2=>{this['fire']('error',_0x4963a2);});},0x560+0x3*-0x821+0x1303);}['update'](_0x576ed4){if(!this['_session'])return!(-0xb27+-0x1ef8+0x20*0x151);const _0x291358=_0x576ed4['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0xf7c3bc=_0x576ed4['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x291358||this['_height']!==_0xf7c3bc)&&(this['_width']=_0x291358,this['_height']=_0xf7c3bc,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x291358,_0xf7c3bc));const _0x5850e3=_0x576ed4['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x5850e3)return!(0x46+-0xb*0x311+0x2176);const _0x3b77c5=this['views']['list']['length'];this['views']['update'](_0x576ed4,_0x5850e3['views']);const _0x50a460=_0x5850e3['transform']['position'],_0x336ded=_0x5850e3['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x50a460['x'],_0x50a460['y'],_0x50a460['z']),this['_localRota'+'tion']['set'](_0x336ded['x'],_0x336ded['y'],_0x336ded['z'],_0x336ded['w']),_0x3b77c5===-0x160d*0x1+-0x1*0x2c9+-0xbb*-0x22&&this['views']['list']['length']>0x24d2+0x2389+-0x485b){const _0x435a2d=new q(),_0x28b469=this['views']['list'][-0x29*0x89+0x1770+0x1*-0x17f];_0x435a2d['copy'](_0x28b469['projMat']);const _0x3e5c5e=_0x435a2d['data'],_0x53ddbe=(0x47*-0x2b+0xec4+-0x91*0x5)*Math['atan']((0x1*0x214f+-0xca1*-0x1+-0x1*0x2def)/_0x3e5c5e[0x14c5+-0x1*0x940+-0xb80])*(-0x1c*0xfd+0x1351+-0x90f*-0x1)/Math['PI'],_0x146c83=_0x3e5c5e[-0x4*0x62c+-0xcbc+0x2571]/_0x3e5c5e[0x13*0x147+-0x1028+0x81d*-0x1],_0x194127=_0x3e5c5e[-0x2*0xdaf+0xf*-0x1de+0x376e]/(_0x3e5c5e[-0x1b26+-0x1*0x1543+-0x3073*-0x1]+(-0x1f15+0xfd6*-0x2+0x3ec2)),_0x4025c7=_0x3e5c5e[0x1d*0x25+0x5*0x5ba+-0x20c5]/(_0x3e5c5e[-0x2*-0x3a5+-0x2*0xa0d+0xa*0x149]-(-0x1*0x16f9+-0x1*-0x8fe+0xdfc));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x146c83,'farClip':_0x194127,'fov':_0x53ddbe,'horizontalFov':!(0x1*-0x21dd+-0x1bf9+0x149d*0x3),'nearClip':_0x4025c7});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x576ed4),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x576ed4),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x576ed4),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x576ed4),this['anchors']['supported']&&this['anchors']['update'](_0x576ed4),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x576ed4),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x576ed4)),this['fire']('update',_0x576ed4),!(-0x1574+-0x16a0+0x326*0xe);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x43160a;return((_0x43160a=this['_session'])==null?void(-0x1d44+0x4f3+0x1851):_0x43160a['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x3d6c8c){var _0x171ded;(((_0x171ded=this['_baseLayer'])==null?void(0xf89*0x2+-0x1b9e+-0x374*0x1):_0x171ded['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x1*0xf95+0x19ca*0x1+-0x295e&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x3d6c8c);}get['fixedFovea'+'tion'](){var _0x590791;return((_0x590791=this['_baseLayer'])==null?void(0x158f*-0x1+0x13df*-0x1+0x1*0x296e):_0x590791['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x4acc64,_0x35a491={}){super(_0x4acc64);const _0x4a3848=new pP();_0x4a3848['graphicsDe'+'vice']=_0x35a491['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x4acc64,_0x35a491),this['addCompone'+'ntSystems'](_0x4a3848),this['addResourc'+'eHandles'](_0x4a3848),_0x4a3848['elementInp'+'ut']=_0x35a491['elementInp'+'ut'],_0x4a3848['keyboard']=_0x35a491['keyboard'],_0x4a3848['mouse']=_0x35a491['mouse'],_0x4a3848['touch']=_0x35a491['touch'],_0x4a3848['gamepads']=_0x35a491['gamepads'],_0x4a3848['scriptPref'+'ix']=_0x35a491['scriptPref'+'ix'],_0x4a3848['assetPrefi'+'x']=_0x35a491['assetPrefi'+'x'],_0x4a3848['scriptsOrd'+'er']=_0x35a491['scriptsOrd'+'er'],_0x4a3848['soundManag'+'er']=new kb(),_0x4a3848['lightmappe'+'r']=vP,_0x4a3848['batchManag'+'er']=dC,_0x4a3848['xr']=Qn,this['init'](_0x4a3848);}['createDevi'+'ce'](_0x4e22c5,_0x5f245a){return _0x5f245a['graphicsDe'+'viceOption'+'s']||(_0x5f245a['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x5f245a['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x1ffd+0x3d*0x35+0x135c)),_0x5f245a['graphicsDe'+'viceOption'+'s']['alpha']=_0x5f245a['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x1521+0x20eb+-0xbc9),new pb(_0x4e22c5,_0x5f245a['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x1e86e5){_0x1e86e5['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,$R,WI,uD];}['addResourc'+'eHandles'](_0x31b777){_0x31b777['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,$2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0x4322b1,_0x163f73){super(_0x4322b1),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x163f73;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1c4f2f=>{_0x1c4f2f['defaultUni'+'formBuffer']['destroy'](),_0x1c4f2f['destroy']();}),this['viewBindGr'+'oups']['length']=0x312+0xb93+-0xa3*0x17;}['update'](_0x597f97,_0x239d08,_0x5a9685,_0x58907d){this['camera']=_0x597f97,this['scene']=_0x239d08,this['layers']=_0x5a9685,this['mapping']=_0x58907d;}['execute'](){const _0x9bcca1=this['device'],{renderer:_0xf5aa8a,camera:_0x5a41ce,scene:_0x5a394d,layers:_0x3233aa,mapping:_0x4c869e,renderTarget:_0x56a480}=this,_0x1ab122=_0x5a394d['layers']['layerList'],_0x2d9d1b=_0x5a394d['layers']['subLayerEn'+'abled'],_0x2125a0=_0x5a394d['layers']['subLayerLi'+'st'];for(let _0x2feb06=0xec1+-0x1fb7+0x10f6;_0x2feb06<_0x1ab122['length'];_0x2feb06++){const _0x44e09e=_0x1ab122[_0x2feb06];if(!(_0x3233aa&&_0x3233aa['indexOf'](_0x44e09e)<-0x4ff+0xef3+0xb6*-0xe)&&_0x44e09e['enabled']&&_0x2d9d1b[_0x2feb06]&&_0x44e09e['camerasSet']['has'](_0x5a41ce['camera'])){const _0x5a1e16=_0x2125a0[_0x2feb06];G['pushGpuMar'+'ker'](_0x9bcca1,_0x44e09e['name']+'('+(_0x5a1e16?'TRANSP':'OPAQUE')+')'),_0x44e09e['_clearDept'+'hBuffer']&&_0xf5aa8a['clear'](_0x5a41ce['camera'],!(0x1dd8+-0x539*0x5+-0x2*0x1dd),!(0x1b94+0x2138+0x1*-0x3ccc),!(0x157*-0x2+0xce8+-0xa39));const _0xf31fb3=_0x44e09e['meshInstan'+'ces'];for(let _0x17aa60=0x5*0x58f+-0x189*-0x9+-0x299c;_0x17aa60<_0xf31fb3['length'];_0x17aa60++){const _0xaa44a7=_0xf31fb3[_0x17aa60];_0xaa44a7['pick']&&_0xaa44a7['transparen'+'t']===_0x5a1e16&&(nh['push'](_0xaa44a7),_0x4c869e['set'](_0xaa44a7['id'],_0xaa44a7));}nh['length']>-0x13de+0x24e6*-0x1+0x38c4&&(_0x5a394d['clusteredL'+'ightingEna'+'bled']&&_0xf5aa8a['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0xf5aa8a['setCameraU'+'niforms'](_0x5a41ce['camera'],_0x56a480),_0x9bcca1['supportsUn'+'iformBuffe'+'rs']&&_0xf5aa8a['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0xf5aa8a['viewUnifor'+'mFormat'],_0xf5aa8a['viewBindGr'+'oupFormat'],0x1d0d+0x1cbf+-0x39cb),_0xf5aa8a['renderForw'+'ard'](_0x5a41ce['camera'],_0x56a480,nh,YL,Oa,_0x1f327e=>{_0x9bcca1['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=0x244a+-0x61*-0x2c+-0x34f6),G['popGpuMark'+'er'](_0x9bcca1);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x25d99a,_0xba5235,_0x429556){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(-0x2167+0x52*0x17+0x5*0x535)),(v['assert'](_0x25d99a),this['renderer']=_0x25d99a['renderer'],this['device']=_0x25d99a['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x25d99a['renderer']),this['width']=-0x146+0x486*-0x3+-0x98*-0x19,this['height']=0x2057+-0x49*0x53+-0x94*0xf,this['resize'](_0xba5235,_0x429556),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x1505*0x1+-0x828*0x2+-0x4b4);}));}['getSelecti'+'on'](_0x52576e,_0x302383,_0x211cef=-0x4*0x9a2+0x1*0x19df+0xcaa,_0x3a1db2=0x20f*-0x1+-0x9cb+-0xbdb*-0x1){const _0x2b3dcc=this['device'];if(_0x2b3dcc['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x52576e!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x302383=this['renderTarg'+'et']['height']-(_0x302383+_0x3a1db2);const _0x196307=this['sanitizeRe'+'ct'](_0x52576e,_0x302383,_0x211cef,_0x3a1db2);_0x2b3dcc['setRenderT'+'arget'](this['renderTarg'+'et']),_0x2b3dcc['updateBegi'+'n']();const _0x734b98=new Uint8Array((0xedd+-0x92b*0x4+0x15d3)*_0x196307['z']*_0x196307['w']);return _0x2b3dcc['readPixels'](_0x196307['x'],_0x196307['y'],_0x196307['z'],_0x196307['w'],_0x734b98),_0x2b3dcc['updateEnd'](),this['decodePixe'+'ls'](_0x734b98,this['mapping']);}['getSelecti'+'onAsync'](_0xa5a1da,_0x5a04bf,_0x5f02ab=0x2ec*0xb+-0x8f*0x6+-0x1cc9,_0x2c8618=0x7*-0x433+-0xba2*-0x3+-0x580){var _0x70204f;(_0x70204f=this['device'])!=null&&_0x70204f['isWebGL2']&&(_0x5a04bf=this['renderTarg'+'et']['height']-(_0x5a04bf+_0x2c8618));const _0x1973d0=this['sanitizeRe'+'ct'](_0xa5a1da,_0x5a04bf,_0x5f02ab,_0x2c8618);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x1973d0['x'],_0x1973d0['y'],_0x1973d0['z'],_0x1973d0['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0xd7b+0x24cd+-0xc92*0x4)})['then'](_0x42b289=>this['decodePixe'+'ls'](_0x42b289,this['mapping']));}['sanitizeRe'+'ct'](_0x72aa18,_0x4526f6,_0x2440b7,_0x13aa55){const _0xd329eb=this['renderTarg'+'et']['width'],_0x72437a=this['renderTarg'+'et']['height'];return _0x72aa18=N['clamp'](Math['floor'](_0x72aa18),0x1*-0x1643+0xa0d+0xc36,_0xd329eb-(-0x7b+0x1dae+-0x1d32)),_0x4526f6=N['clamp'](Math['floor'](_0x4526f6),-0x235b*-0x1+-0x14b4+-0xea7,_0x72437a-(-0x21b3*0x1+-0x1181*-0x1+0x1033)),_0x2440b7=Math['floor'](Math['max'](_0x2440b7,-0x2163+-0x1833+0x3997)),_0x2440b7=Math['min'](_0x2440b7,_0xd329eb-_0x72aa18),_0x13aa55=Math['floor'](Math['max'](_0x13aa55,0x14f9+-0x98f*0x1+0xb69*-0x1)),_0x13aa55=Math['min'](_0x13aa55,_0x72437a-_0x4526f6),ZL['set'](_0x72aa18,_0x4526f6,_0x2440b7,_0x13aa55);}['decodePixe'+'ls'](_0x157586,_0x23996b){const _0x543734=[];if(this['deviceVali'+'d']){const _0x29668e=_0x157586['length'];for(let _0x5b184a=-0x3*-0x8fb+0x752+-0x2243;_0x5b184a<_0x29668e;_0x5b184a+=-0x1a56+-0x1*-0xedb+-0x1b*-0x6d){const _0xfb268b=_0x157586[_0x5b184a+(0x1*0x23dd+-0x86*-0x12+-0x2d49)],_0x54bf68=_0x157586[_0x5b184a+(0x26a7+-0x1*-0x223d+-0x48e3)],_0x41b8ba=_0x157586[_0x5b184a+(-0xe26*-0x2+-0x1*-0x2b7+-0x1f01)],_0x506b30=_0x157586[_0x5b184a+(-0x3df*-0x8+-0x20b0+0x1bb)]<<-0x66c*0x4+-0x1b3e+0x4d2*0xb|_0xfb268b<<-0xb*0x26b+0x1328+-0x11*-0x71|_0x54bf68<<0x221a+0x876+-0x2a88*0x1|_0x41b8ba;_0x506b30!==-(-0xd6*-0xa+0x1*-0x2581+0x1d26)&&nu['add'](_0x23996b['get'](_0x506b30));}nu['forEach'](_0x2e6c52=>{_0x2e6c52&&_0x543734['push'](_0x2e6c52);}),nu['clear']();}return _0x543734;}['allocateRe'+'nderTarget'](){const _0x2edbe8=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(0x10d3*0x2+0x1af5+-0x3c9a),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x2edbe8,'depth':!(0x236e+0x1*-0x1f4e+-0x420)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x32f92c,_0x3ca0d4,_0x3cb9a5){_0x3cb9a5 instanceof Lr&&(_0x3cb9a5=[_0x3cb9a5]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x3c39b5=this['renderPass'];_0x3c39b5['init'](this['renderTarg'+'et']),_0x3c39b5['colorOps']['clearValue']=Y['WHITE'],_0x3c39b5['colorOps']['clear']=!(-0x35f*0x1+-0x10ff+-0x16*-0xed),_0x3c39b5['depthStenc'+'ilOps']['clearDepth']=!(0x1aff+0x150a+-0x3009),_0x3c39b5['update'](_0x32f92c,_0x3ca0d4,_0x3cb9a5,this['mapping']),_0x3c39b5['render']();}['resize'](_0x2cb5e1,_0x5be6ff){this['width']=Math['floor'](_0x2cb5e1),this['height']=Math['floor'](_0x5be6ff);}};class QL{constructor(_0x3cfe67){this['_frameInde'+'x']=0x971*0x1+-0x5ea+-0x387,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0x1*-0x1f42+0x7ad+0xb*-0x38a,this['enabled']=!(-0xad2*-0x1+-0x151a*-0x1+0x24*-0xe3),_0x3cfe67['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x3cfe67['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x3cfe67['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x2255ef){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x3fe56c=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x3fe56c,this['_frameInde'+'x']=-0x1*0x156d+-0x1943+0x6*0x7c8,this['mark'](_0x2255ef);}['mark'](_0x2cf078){if(!this['enabled'])return;const _0x8ee07e=ne();if(this['_frameInde'+'x']>-0x3*0x3fb+0x1813*0x1+-0xc22){const _0x4f8d5a=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0xdf1+0x10b6+-0x1ea6)];_0x4f8d5a[0x103+0xd*0x203+-0x1*0x1b29]=_0x8ee07e-_0x4f8d5a[-0x1c91*0x1+-0x1303+-0xd*-0x3a9];}else{if(this['_timings']['length']>0x20e2+0x1*-0x482+-0xe30*0x2){const _0x57b9ff=this['_timings'][this['_timings']['length']-(-0xe57*-0x1+-0x77f*-0x5+-0x33d1)];_0x57b9ff[-0x4eb*-0x7+0x2238+-0x17e*0x2e]=_0x8ee07e-_0x57b9ff[-0x1*0x1eb+0x2*-0x1037+0x225a];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x2cf078,_0x8ee07e]);else{const _0x2443d7=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x2443d7[-0x1*-0x13af+0x1e52*-0x1+0xaa3]=_0x2cf078,_0x2443d7[0x11*-0x184+-0x630*-0x5+-0x52b*0x1]=_0x8ee07e;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](0x2*0x4ae+-0xc*-0x32d+0x1*-0x2f78,-(-0x1e1c+0x1ba6+0x1*0x277))['map'](_0x1111ee=>_0x1111ee[-0x2703+0x1*-0x16e2+0x3de6]);}}class JL{constructor(_0x3211f0){this['device']=_0x3211f0,_0x3211f0['gpuProfile'+'r']['enabled']=!(0x1055+0x1c8f+-0x1672*0x2),this['enabled']=!(0x2153*0x1+-0x484+-0x1ccf),this['unitsName']='ms',this['decimalPla'+'ces']=-0x1*-0x2049+0x2177+-0x41bf*0x1,this['_timings']=[];}get['timings'](){return this['_timings'][0x7d5*0x1+0x28*-0x59+-0x1*-0x613]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x5a6800,_0x16562e,_0x6542b2,_0x349430,_0x5e6f21){this['app']=_0x5a6800,this['values']=[],this['statNames']=_0x16562e,this['statNames']['length']>-0x12ea+-0x107d+0x5e7*0x6&&(this['statNames']['length']=-0x20a2*0x1+-0x962+0x2a07),this['unitsName']=_0x349430,this['decimalPla'+'ces']=_0x6542b2,this['multiplier']=_0x5e6f21||0xca1*-0x3+-0xe5*0x29+-0x15*-0x38d;const _0x585337=(_0x5b7749,_0x55e1ce)=>_0x5b7749['split']('.')['reduce']((_0x17f4e5,_0x38454a)=>_0x17f4e5?_0x17f4e5[_0x38454a]:null,_0x55e1ce||this);_0x5a6800['on']('frameupdat'+'e',_0x24c9b6=>{for(let _0x375b3e=0x1c46+-0x1c05+0x1*-0x41;_0x375b3e<this['statNames']['length'];_0x375b3e++)this['values'][_0x375b3e]=_0x585337(this['statNames'][_0x375b3e],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x38853b,_0x3cb003,_0x577bba,_0xf60714,_0x10be46){this['app']=_0x3cb003,this['name']=_0x38853b,this['device']=_0x3cb003['graphicsDe'+'vice'],this['timer']=_0x10be46,this['watermark']=_0x577bba,this['enabled']=!(-0x21c9+0xb3*-0x1f+0x3777),this['textRefres'+'hRate']=_0xf60714,this['avgTotal']=0xd83+0x20a6+-0x2e29,this['avgTimer']=-0x17ce+-0x4*-0x358+-0x1bd*-0x6,this['avgCount']=-0x1*-0x553+-0x1ba1+0x476*0x5,this['timingText']='',this['texture']=null,this['yOffset']=-0x13cc+-0x1*-0x121f+-0x3*-0x8f,this['cursor']=-0x1*0x281+-0x11*-0x5+-0x2*-0x116,this['sample']=new Uint8ClampedArray(0x79f*-0x3+0x7e*0x2b+0x1b7*0x1),this['sample']['set']([0x21e5+0x2a5+-0x248a,-0x20e1*0x1+-0x202d*0x1+-0x16*-0x2f5,0xf29+0x1a*-0xb5+0x113*0x3,-0x1e4f+-0xc4f+-0x1d*-0x181]),this['counter']=0x1*-0x161+0xc40+-0xadf,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x341a80){const _0x252784=this['timer']['timings'],_0x239d8b=_0x252784['reduce']((_0x30973d,_0x5e76d9)=>_0x30973d+_0x5e76d9,-0x1b8f+0xd49+0x1*0xe46);if(this['avgTotal']+=_0x239d8b,this['avgTimer']+=_0x341a80,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0x1*0x1711+0x161e+-0x1*0x2d2f,this['avgTotal']=0x1*0x1a0b+-0x13*0xe7+-0x8e6,this['avgCount']=0x22da+-0x1cde+-0x4*0x17f),this['enabled']){let _0x15d4fd=-0x92*-0x2a+0x59b*0x1+-0x149*0x17;const _0x44f0ef=(0xa15*0x2+0x1eac+-0x32d5+0.5)*this['watermark'];for(let _0x1acdf4=-0x43*-0x17+-0x2241+0x1c3c;_0x1acdf4<_0x252784['length'];++_0x1acdf4)_0x15d4fd+=Math['floor'](_0x252784[_0x1acdf4]/_0x44f0ef*(-0xfff+-0x6c4+-0x17c2*-0x1)),this['sample'][_0x1acdf4]=_0x15d4fd;this['sample'][0x1c98+-0x1dc*-0xc+0x81*-0x65]=this['watermark']/_0x44f0ef*(-0x3*-0x38d+-0x1e69+-0x15*-0xfd),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0x2048+-0x1aa6+-0x59e)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x25*-0x97+0x1*-0xd21+0x22f4);}}['render'](_0x3d0c2c,_0x32e512,_0x2cf4cf,_0x509d87,_0xe6ae33){_0x3d0c2c['quad'](_0x32e512+_0x509d87,_0x2cf4cf,-_0x509d87,_0xe6ae33,this['enabled']?this['cursor']:-0x1*0x5f2+0x918+-0x326,this['enabled']?-0xecb+0x1*-0x183f+-0x26*-0x107+0.5+this['yOffset']:this['texture']['height']-(0x239e+0x1*0x20ef+-0x448c),-_0x509d87,0x3*0xc25+0x6fb+-0x2b6a,this['texture'],0x143+-0x210f+0x94*0x37);}}class tF{constructor(_0x4e8a97,_0x496ad6){const _0x47f71f=_0x3f2b74=>{_0x3f2b74['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x3f2b74['textAlign']='left',_0x3f2b74['textBaseli'+'ne']='alphabetic';},_0x28bac1=_0x2c8d94=>_0x2c8d94==='.'||_0x2c8d94['length']===0x22cd*-0x1+-0xd62+0x3030&&_0x2c8d94['charCodeAt'](0x1957+-0x32*0x25+-0x121d)>=0x1416+0x19*-0x11c+0x7d6&&_0x2c8d94['charCodeAt'](-0x600+-0x93*0x1b+-0x72b*-0x3)<=-0x139b+-0xc22+0xffb*0x2,_0xc3a977=document['createElem'+'ent']('canvas'),_0xaf7241=_0xc3a977['getContext']('2d',{'alpha':!(0x220d+0x1058+-0x3265)});_0x47f71f(_0xaf7241);const _0x50a370=new Map(),_0x5c5bdf=0x2419*-0x1+0x1b7*0xb+0x1141*0x1,_0x2cf3a0=0xd67*0x2+0xd1d+-0x25eb;let _0x495b98=_0x5c5bdf,_0x3bee3f=_0x5c5bdf;_0x496ad6['forEach'](_0x39178a=>{const _0x1704f0=_0xaf7241['measureTex'+'t'](_0x39178a),_0x2ae917=Math['ceil'](-_0x1704f0['actualBoun'+'dingBoxLef'+'t']),_0x17d6c8=Math['ceil'](_0x1704f0['actualBoun'+'dingBoxRig'+'ht']),_0x467457=Math['ceil'](_0x1704f0['actualBoun'+'dingBoxAsc'+'ent']),_0x535c7f=Math['ceil'](_0x1704f0['actualBoun'+'dingBoxDes'+'cent']),_0x497c93=_0x2ae917+_0x17d6c8,_0xce76b1=_0x467457+_0x535c7f;_0x495b98+_0x497c93+_0x5c5bdf>=_0x2cf3a0&&(_0x495b98=_0x5c5bdf,_0x3bee3f+=0x2081+-0x1917*0x1+-0x75a),_0x50a370['set'](_0x39178a,{'l':_0x2ae917,'r':_0x17d6c8,'a':_0x467457,'d':_0x535c7f,'w':_0x497c93,'h':_0xce76b1,'x':_0x495b98,'y':_0x3bee3f}),_0x495b98+=_0x497c93+_0x5c5bdf;}),_0xc3a977['width']=0xca3+-0x3a5+-0x6fe,_0xc3a977['height']=N['nextPowerO'+'fTwo'](_0x3bee3f+(-0x1d*0x56+0x4*-0x296+0x1*0x1426)+_0x5c5bdf),_0x47f71f(_0xaf7241),_0xaf7241['fillStyle']='rgb(0,\x200,\x20'+'0)',_0xaf7241['fillRect'](-0x147*-0xd+-0x1916+0xa7*0xd,0x1e0b+-0x3*0xa0+-0x1c2b*0x1,_0xc3a977['width'],_0xc3a977['height']),_0x50a370['forEach']((_0x1df0f0,_0x10f1ff)=>{_0xaf7241['fillStyle']=_0x28bac1(_0x10f1ff)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0xaf7241['fillText'](_0x10f1ff,_0x1df0f0['x']-_0x1df0f0['l'],_0x1df0f0['y']+_0x1df0f0['a']);}),this['placements']=_0x50a370;const _0x37897c=_0xaf7241['getImageDa'+'ta'](-0x14b*0x17+0x29*-0xa5+0x382a,-0x1dde+0xbaa+0x3a4*0x5,_0xc3a977['width'],_0xc3a977['height'])['data'];for(let _0x19a394=-0x3*0x611+-0x1*0x214f+0x15b*0x26;_0x19a394<_0x37897c['length'];_0x19a394+=0x45e*-0x4+0x1*0xe15+0x367)_0x37897c[_0x19a394+(0x6c5*0x3+-0x5d3+-0xe79)]=_0x37897c[_0x19a394+(-0x14d*0x1b+-0xec7+0x31e6)],_0x37897c[_0x19a394+(-0x22d6+-0x13dd+0x36b3)]=0x18*-0x9c+-0xa75+0x685*0x4,_0x37897c[_0x19a394+(-0x10a3*-0x1+0x88+0x1a*-0xa9)]=0x1ed3+-0x1e67+0x93,_0x37897c[_0x19a394+(-0x690+0x1*-0x1b8f+0x2221)]=-0xecd+-0xd*0x107+-0x1*-0x1d27;this['texture']=new he(_0x4e8a97,{'name':'mini-stats'+'-word-atla'+'s','width':_0xc3a977['width'],'height':_0xc3a977['height'],'mipmaps':!(-0xc*0x1f9+0x1*0x6fe+0x10af*0x1),'minFilter':de,'magFilter':de,'levels':[_0x37897c]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x586550,_0x98e8ef,_0x4c0571,_0x1c2f6a){const _0x2940b3=this['placements']['get'](_0x98e8ef);return _0x2940b3?(_0x586550['quad'](_0x4c0571+_0x2940b3['l']-(-0xab2+0x1dc6*-0x1+0x2879),_0x1c2f6a-_0x2940b3['d']+(-0x1cf5+0xb5a*0x2+0x9*0xb2),_0x2940b3['w']+(-0xe48+0x83*-0x47+0x329e)*(-0x310+-0xd2b*-0x1+-0xa19),_0x2940b3['h']+(-0x7*-0x4ef+0x15e6+-0x386e)*(-0x20*-0xea+0x2*0xc14+-0x3566),_0x2940b3['x']-(0xa*-0x89+-0x3*-0x556+0x12f*-0x9),this['texture']['height']-_0x2940b3['y']-_0x2940b3['h']-(0x221b+-0x260f+0x3f5*0x1),void(0x86*0x42+-0x216+-0x2076),void(0x108f+-0x1686+-0x1fd*-0x3),this['texture'],0x837*-0x4+-0x133*0x10+0x41*0xcd),_0x2940b3['w']):0x1906+0x449+0x9c5*-0x3;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0x186d09,_0x3909df=0x3*-0x232+-0x21db+0xcd*0x35){const _0x4b5162=new Et(_0x186d09,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0xb47095=new Uint16Array(_0x3909df*(-0x28*0xb2+-0xce*-0x2f+0x9fc*-0x1));for(let _0x1841d8=0x3e*0x7b+0x1ad5*-0x1+-0x2f5;_0x1841d8<_0x3909df;++_0x1841d8)_0xb47095[_0x1841d8*(0xb5*0x35+0xd79+-0x32ec)+(-0x7*0x1dd+0x172c*-0x1+-0x49*-0x7f)]=_0x1841d8*(-0x166+-0x10d3*0x1+0x123d),_0xb47095[_0x1841d8*(0xd5*0x2d+0x266*0x1+-0x27d1)+(-0x1*0x141b+0x1*-0x1d75+0x3191)]=_0x1841d8*(0x51e*-0x5+-0x3fa*-0x3+0xdac)+(0x23e5+-0x1*-0x1e36+-0x421a),_0xb47095[_0x1841d8*(0x1be2+-0xf21*-0x1+-0x2afd)+(-0x1061+0x5c1*-0x1+0x1624)]=_0x1841d8*(0x1cb5+-0x13b4*0x1+-0x8fd)+(0x1a35+-0x802+-0x1231),_0xb47095[_0x1841d8*(0x1766+-0x11cb+0x595*-0x1)+(0x2214+-0x857+0xb2*-0x25)]=_0x1841d8*(-0x1*0x2513+0x645+0x523*0x6),_0xb47095[_0x1841d8*(0x203a+0x2042+-0x4076)+(-0x1aa4+0x4f+0x1a59)]=_0x1841d8*(0x4*-0x4c7+-0x1313*0x2+0x3946)+(0x2366+-0x1637+-0xd2d),_0xb47095[_0x1841d8*(0x18e*-0xb+-0x10fd*-0x1+-0x7*-0x5)+(0x2541+0x2*0x11ec+0x6*-0xc2e)]=_0x1841d8*(0xc9c+-0x89*-0xd+-0x1c7*0xb)+(-0x7d*0x1f+-0x1*-0x14b7+0x4b*-0x13);this['device']=_0x186d09,this['buffer']=new os(_0x186d09,_0x4b5162,_0x3909df*(-0x1*-0x2232+0x175*-0x13+-0x1*0x67f),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0xb89*-0x3+-0xd9d+-0x14fa)),this['indexBuffe'+'r']=new lr(_0x186d09,Pi,_0x3909df*(-0x1*0x2329+-0x2*0xb15+0x115*0x35),jt,_0xb47095),this['prim']={'type':Ms,'indexed':!(-0x1*0x131d+-0xc69+0x3*0xa82),'base':0x0,'count':0x0},this['quads']=-0x191*-0x11+0x8f1+-0x13a*0x1d,this['mesh']=new Ie(_0x186d09),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x18a8+0x2*0xc49+-0x313a]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x55a218=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0x55a218,_0x55a218['cull']=mt,_0x55a218['depthState']=as['NODEPTH'],_0x55a218['blendState']=new _t(!(0x2370+0x2*0x1af+-0x26ce),Lt,dc,uc,Lt,at,at),_0x55a218['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x55a218,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x2077+-0x1fcc+0x4047)},this['targetSize']={'width':_0x186d09['width'],'height':_0x186d09['height']};}['quad'](_0x9bea53,_0x24b9ba,_0x517c9f,_0x19c57d,_0x41e561,_0x522fd8,_0x35f8a8,_0x2c6b2b,_0x307d4a,_0x5d7748=-0x1528*-0x1+-0xbb*0x18+-0x3a0){const _0x13a3d2=this['targetSize']['width'],_0xb31860=this['targetSize']['height'],_0x53db29=_0x9bea53/_0x13a3d2,_0x213aed=_0x24b9ba/_0xb31860,_0x2aeaf9=(_0x9bea53+_0x517c9f)/_0x13a3d2,_0x224389=(_0x24b9ba+_0x19c57d)/_0xb31860,_0x1b7929=_0x307d4a['width'],_0x388e75=_0x307d4a['height'],_0x3fba50=_0x41e561/_0x1b7929,_0x465328=_0x522fd8/_0x388e75,_0x4e7ce2=(_0x41e561+(_0x35f8a8??_0x517c9f))/_0x1b7929,_0x3bca6c=(_0x522fd8+(_0x2c6b2b??_0x19c57d))/_0x388e75;this['data']['set']([_0x53db29,_0x213aed,_0x5d7748,_0x3fba50,_0x465328,0x573+0x1e70+-0x23e3*0x1,0x3*0x4c7+0xab8+-0x190d,_0x2aeaf9,_0x213aed,_0x5d7748,_0x4e7ce2,_0x465328,0x1*0xedc+-0x16f*0x1a+-0x779*-0x3,-0x84c+-0x199d*-0x1+0x193*-0xb,_0x2aeaf9,_0x224389,_0x5d7748,_0x4e7ce2,_0x3bca6c,-0x31c*0x1+0x5*-0x67+-0xa4*-0x8,-0x3*0x5b5+-0x125a+0x237a,_0x53db29,_0x224389,_0x5d7748,_0x3fba50,_0x3bca6c,-0x2627+0x8d0+0x1d57,-0x1e69+-0x216e+0x3fd8],(-0xa92+-0x1a*0x59+0x13a0)*(-0x78a+0x1a5f+-0x967*0x2)*this['quads']),this['quads']++,this['prim']['count']+=-0x1*-0x19b9+0xf8+-0x1aab;}['startFrame'](){this['quads']=0x3b3*-0x1+-0x2519+0xa33*0x4,this['prim']['count']=-0x2568+-0x791*0x1+0x2cf9,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x59a5f5,_0x523f1f,_0x3012ab,_0x546cad,_0x41c918,_0x4954c0){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x41c918,0x1de*0x8+-0x1e*-0x78+-0x1d00),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x3012ab),this['material']['setParamet'+'er']('wordsTex',_0x546cad),_0x59a5f5['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x523f1f);}}class Wx{constructor(_0x2a587b,_0x18808e){const _0x2dd45a=_0x2a587b['graphicsDe'+'vice'];_0x18808e=_0x18808e||Wx['getDefault'+'Options'](),this['initGraphs'](_0x2a587b,_0x2dd45a,_0x18808e);const _0x5aa049=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x9a26f1=>_0x9a26f1['name']))['concat'](_0x18808e['stats']?_0x18808e['stats']['map'](_0x508a6d=>_0x508a6d['unitsName']):[])['filter'](_0x568b00=>!!_0x568b00));this['wordAtlas']=new tF(_0x2dd45a,_0x5aa049),this['sizes']=_0x18808e['sizes'],this['_activeSiz'+'eIndex']=_0x18808e['startSizeI'+'ndex'];const _0x5220b7=document['createElem'+'ent']('div');_0x5220b7['setAttribu'+'te']('id','mini-stats'),_0x5220b7['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x5220b7),_0x5220b7['addEventLi'+'stener']('mouseenter',_0xc354ca=>{this['opacity']=-0x17b*0x4+0x584+0x69;}),_0x5220b7['addEventLi'+'stener']('mouseleave',_0x518cad=>{this['opacity']=0x22*-0x55+0x1*0x1de7+0x129d*-0x1+0.7;}),_0x5220b7['addEventLi'+'stener']('click',_0x16b334=>{_0x16b334['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x2*0x4de+-0x99e*-0x3+-0x15*0xe9))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x2dd45a['on']('resizecanv'+'as',this['updateDiv'],this),_0x2dd45a['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x2a587b['on']('postrender',this['postRender'],this),this['app']=_0x2a587b,this['drawLayer']=_0x2a587b['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x2dd45a,this['render2d']=new rF(_0x2dd45a),this['div']=_0x5220b7,this['width']=0x254b*-0x1+0xa26+-0x1b25*-0x1,this['height']=-0x3*-0x977+0x78f+-0x5fe*0x6,this['gspacing']=0x91c+0x1dec+-0x2706,this['clr']=[-0x51f+0x1d94+-0x1874,0xdd9+-0x2090+0x12b8,-0x1634+-0x1*-0x2349+-0xd14,-0xc*-0x6d+-0xead+0x991+0.5],this['_enabled']=!(-0x86c+0x1f38+-0x16cc),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x488db4=>_0x488db4['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x1*0x225c+0xd98+-0x2ff3)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x9*-0x17+0x14f9+-0x15c8)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x4*0x18d+0x8*-0xc8+0xc)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0x5*-0x301+-0x102*0x11+0x2027),'watermark':0x21},'gpu':{'enabled':!(0x650+-0xacf*0x1+0x47f),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x2a6540){this['_activeSiz'+'eIndex']=_0x2a6540,this['gspacing']=this['sizes'][_0x2a6540]['spacing'],this['resize'](this['sizes'][_0x2a6540]['width'],this['sizes'][_0x2a6540]['height'],this['sizes'][_0x2a6540]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x416a60){this['clr'][-0x3*-0x1d7+-0x365+-0x21d]=_0x416a60;}get['opacity'](){return this['clr'][-0x1292*0x1+0xda*-0x2a+-0x3659*-0x1];}get['overallHei'+'ght'](){const _0x5025d5=this['graphs'],_0x5f16b4=this['gspacing'];return this['height']*_0x5025d5['length']+_0x5f16b4*(_0x5025d5['length']-(-0x258*0x6+0xd*0x2b6+-0x152d));}set['enabled'](_0x2c93fb){if(_0x2c93fb!==this['_enabled']){this['_enabled']=_0x2c93fb;for(let _0x5822d4=0x1d9a+0x1*0x1ebb+-0x3c55;_0x5822d4<this['graphs']['length'];++_0x5822d4)this['graphs'][_0x5822d4]['enabled']=_0x2c93fb,this['graphs'][_0x5822d4]['timer']['enabled']=_0x2c93fb;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x5a0f08,_0x344698,_0x4926e1){if(this['graphs']=[],_0x4926e1['cpu']['enabled']){const _0x15f519=new QL(_0x5a0f08),_0x188fbd=new au('CPU',_0x5a0f08,_0x4926e1['cpu']['watermark'],_0x4926e1['textRefres'+'hRate'],_0x15f519);this['graphs']['push'](_0x188fbd);}if(_0x4926e1['gpu']['enabled']){const _0x2a68dc=new JL(_0x344698),_0x40ee5f=new au('GPU',_0x5a0f08,_0x4926e1['gpu']['watermark'],_0x4926e1['textRefres'+'hRate'],_0x2a68dc);this['graphs']['push'](_0x40ee5f);}_0x4926e1['stats']&&_0x4926e1['stats']['forEach'](_0x1605e6=>{const _0x453d72=new eF(_0x5a0f08,_0x1605e6['stats'],_0x1605e6['decimalPla'+'ces'],_0x1605e6['unitsName'],_0x1605e6['multiplier']),_0x3fbbf2=new au(_0x1605e6['name'],_0x5a0f08,_0x1605e6['watermark'],_0x4926e1['textRefres'+'hRate'],_0x453d72);this['graphs']['push'](_0x3fbbf2);});const _0x4dbfde=_0x4926e1['sizes']['reduce']((_0x356f82,_0x5ddab3)=>_0x5ddab3['width']>_0x356f82?_0x5ddab3['width']:_0x356f82,0x11f1*-0x2+0x172*-0x1+-0x12aa*-0x2);this['texture']=new he(_0x344698,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x4dbfde),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x10*0x6b+-0x14a2+0xdf3),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0x12e9cd,_0xf12770)=>{_0x12e9cd['texture']=this['texture'],_0x12e9cd['yOffset']=_0xf12770;});}['render'](){const _0x4d13eb=this['graphs'],_0x120a0e=this['wordAtlas'],_0x404b35=this['render2d'],_0x373f05=this['width'],_0x553cf5=this['height'],_0x1e0e37=this['gspacing'];_0x404b35['startFrame']();for(let _0x146e58=0x3*0x4dd+0x1931*0x1+-0x27c8;_0x146e58<_0x4d13eb['length'];++_0x146e58){const _0x3ea754=_0x4d13eb[_0x146e58];let _0x14c0bf=_0x146e58*(_0x553cf5+_0x1e0e37);_0x3ea754['render'](_0x404b35,0x1cee+-0x296*0xf+0x9dc,_0x14c0bf,_0x373f05,_0x553cf5);let _0x163270=0xf*0x215+0xf*-0x166+0x29*-0x40;_0x14c0bf+=_0x553cf5-(-0x3*0x269+-0x1d6*0xd+0x1f26),_0x163270+=_0x120a0e['render'](_0x404b35,_0x3ea754['name'],_0x163270,_0x14c0bf)+(0xe87*-0x1+0x9bb+-0x1*-0x4d6);const _0x3b44f1=_0x3ea754['timingText'];for(let _0x8d1579=-0x317*-0x7+0x7f*-0x35+0x4aa;_0x8d1579<_0x3b44f1['length'];++_0x8d1579)_0x163270+=_0x120a0e['render'](_0x404b35,_0x3b44f1[_0x8d1579],_0x163270,_0x14c0bf);_0x3ea754['timer']['unitsName']&&(_0x163270+=0x137*-0xa+-0x803+0x2*0xa16,_0x120a0e['render'](_0x404b35,_0x3ea754['timer']['unitsName'],_0x163270,_0x14c0bf));}_0x404b35['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x553cf5);}['resize'](_0x11f188,_0x3fbddf,_0x58d134){const _0x122cc5=this['graphs'];for(let _0x455c61=-0x2166+-0x1383+0x34e9;_0x455c61<_0x122cc5['length'];++_0x455c61)_0x122cc5[_0x455c61]['enabled']=_0x58d134;this['width']=_0x11f188,this['height']=_0x3fbddf,this['updateDiv']();}['updateDiv'](){const _0x562fa4=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x562fa4['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x562fa4['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x2c43b2=>_0x2c43b2['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map());}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation\x20===>'+'>>xr');return;}this['app']['xr']['input']['on']('add',async _0x91148e=>{var _0x2984ba;if(!((_0x2984ba=_0x91148e['profiles'])!=null&&_0x2984ba['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x49cddc=_0x91148e['profiles']['map'](async _0x5df41f=>{var _0x246141;const _0x87c65c=this['basePath']+'/'+_0x5df41f+('/profile.j'+'son');try{const _0x15f5b8=await fetch(_0x87c65c);if(!_0x15f5b8['ok'])return null;const _0x5e9207=await _0x15f5b8['json'](),_0x3fd033=((_0x246141=_0x5e9207['layouts'][_0x91148e['handedness']])==null?void(-0x157d+-0x7*0x125+0x40*0x76):_0x246141['assetPath'])||'',_0x28b415=this['basePath']+'/'+_0x5e9207['profileId']+'/'+_0x91148e['handedness']+_0x3fd033['replace'](/^\/?(left|right)/,''),_0x3a9b16=await new Promise((_0x2e379f,_0xf35f5e)=>{this['app']['assets']['loadFromUr'+'l'](_0x28b415,'container',(_0x244316,_0x3148d1)=>{_0x244316?_0xf35f5e(_0x244316):_0x2e379f(_0x3148d1);});});return{'profileId':_0x5df41f,'asset':_0x3a9b16};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x5df41f),null;}}),_0x34018c=(await Promise['all'](_0x49cddc))['find'](_0x472062=>_0x472062!==null);if(_0x34018c){const {asset:_0x19c583}=_0x34018c,_0x386ad7=_0x19c583['resource']['instantiat'+'eRenderEnt'+'ity']();this['app']['root']['addChild'](_0x386ad7);const _0x25a751=new Map();if(_0x91148e['hand'])for(const _0x2692f3 of _0x91148e['hand']['joints']){const _0x22a6b5=_0x386ad7['findByName'](_0x2692f3['id']);_0x22a6b5&&_0x25a751['set'](_0x2692f3,_0x22a6b5);}this['controller'+'s']['set'](_0x91148e,{'entity':_0x386ad7,'jointMap':_0x25a751});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x41079e=>{const _0x3223bd=this['controller'+'s']['get'](_0x41079e);_0x3223bd&&(_0x3223bd['entity']['destroy'](),this['controller'+'s']['delete'](_0x41079e));});}['update'](_0x217579){var _0x4895dd;if((_0x4895dd=this['app']['xr'])!=null&&_0x4895dd['active']){for(const [_0x26f6bb,{entity:_0x333f9a,jointMap:_0x3fe755}]of this['controller'+'s'])if(_0x26f6bb['hand']){for(const [_0x3fa761,_0x2173d1]of _0x3fe755)_0x2173d1['setPositio'+'n'](_0x3fa761['getPositio'+'n']()),_0x2173d1['setRotatio'+'n'](_0x3fa761['getRotatio'+'n']());}else _0x333f9a['setPositio'+'n'](_0x26f6bb['getPositio'+'n']()),_0x333f9a['setRotatio'+'n'](_0x26f6bb['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,We as E,$1 as F,hh as G,ex as H,Wx as I,ce as J,Fm as K,vp as L,bl as M,X as N,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,W as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,Wr as t,Ts as u,cs as v,SI as w,$n as x,M0 as y,q as z};function _0x502b94(_0x2943bd){function _0x2a366c(_0xa26f70){if(typeof _0xa26f70==='string')return function(_0xff6658){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0xa26f70/_0xa26f70)['length']!==-0x1*0x12cd+-0xbec*-0x1+-0x1*-0x6e2||_0xa26f70%(0x25cd+0x364+0x5*-0x839)===-0x224e+0x88*-0xc+0x28ae?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x2a366c(++_0xa26f70);}try{if(_0x2943bd)return _0x2a366c;else _0x2a366c(-0x2*-0xcf8+-0xacb+-0xf25*0x1);}catch(_0x248d40){}}
