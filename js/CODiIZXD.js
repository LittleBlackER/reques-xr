const _0x44226d=(function(){let _0x2eb986=!![];return function(_0x12e8d0,_0x225fa1){const _0x532809=_0x2eb986?function(){if(_0x225fa1){const _0x511d12=_0x225fa1['apply'](_0x12e8d0,arguments);return _0x225fa1=null,_0x511d12;}}:function(){};return _0x2eb986=![],_0x532809;};}()),_0x2a910f=_0x44226d(this,function(){return _0x2a910f['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x2a910f)['search']('(((.+)+)+)'+'+$');});_0x2a910f();const _0x32fe6d=(function(){let _0x185190=!![];return function(_0x104f27,_0x1706ae){const _0x5f0bee=_0x185190?function(){if(_0x1706ae){const _0xcd13c3=_0x1706ae['apply'](_0x104f27,arguments);return _0x1706ae=null,_0xcd13c3;}}:function(){};return _0x185190=![],_0x5f0bee;};}());(function(){_0x32fe6d(this,function(){const _0x1a0169=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x1ca283=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x37c8dc=_0x153485('init');!_0x1a0169['test'](_0x37c8dc+'chain')||!_0x1ca283['test'](_0x37c8dc+'input')?_0x37c8dc('0'):_0x153485();})();}());const _0x3a58fc=(function(){let _0x53d136=!![];return function(_0x47166a,_0x54c187){const _0x20c834=_0x53d136?function(){if(_0x54c187){const _0x22098e=_0x54c187['apply'](_0x47166a,arguments);return _0x54c187=null,_0x22098e;}}:function(){};return _0x53d136=![],_0x20c834;};}()),_0x256e1d=_0x3a58fc(this,function(){let _0x30d81a;try{const _0x59e9c1=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x30d81a=_0x59e9c1();}catch(_0x30e2fc){_0x30d81a=window;}const _0x13e308=_0x30d81a['console']=_0x30d81a['console']||{},_0xfbc0fa=['log','warn','info','error','exception','table','trace'];for(let _0x32b6b9=-0x7ea*-0x2+0x181d+-0x5*0x7fd;_0x32b6b9<_0xfbc0fa['length'];_0x32b6b9++){const _0x294fa2=_0x3a58fc['constructo'+'r']['prototype']['bind'](_0x3a58fc),_0xf08241=_0xfbc0fa[_0x32b6b9],_0x56f774=_0x13e308[_0xf08241]||_0x294fa2;_0x294fa2['__proto__']=_0x3a58fc['bind'](_0x3a58fc),_0x294fa2['toString']=_0x56f774['toString']['bind'](_0x56f774),_0x13e308[_0xf08241]=_0x294fa2;}});_0x256e1d();var qx=Object['defineProp'+'erty'],Xx=(_0xc70229,_0x23c01b,_0x168dda)=>_0x23c01b in _0xc70229?qx(_0xc70229,_0x23c01b,{'enumerable':!(0x1*0xad6+-0x2084+0xb9*0x1e),'configurable':!(-0x19*0x53+-0x12f5+0x1*0x1b10),'writable':!(0x23c6+0x1*-0x2009+-0x1d*0x21),'value':_0x168dda}):_0xc70229[_0x23c01b]=_0x168dda,c=(_0x311637,_0x179d1d,_0x8007dd)=>Xx(_0x311637,typeof _0x179d1d!='symbol'?_0x179d1d+'':_0x179d1d,_0x8007dd);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x1cb975,_0x3dcf83){for(const _0x8326e4 in _0x3dcf83){const _0x52d12c=_0x3dcf83[_0x8326e4];Array['isArray'](_0x52d12c)?_0x1cb975[_0x8326e4]=vh([],_0x52d12c):_0x52d12c&&typeof _0x52d12c=='object'?_0x1cb975[_0x8326e4]=vh({},_0x52d12c):_0x1cb975[_0x8326e4]=_0x52d12c;}return _0x1cb975;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x1f5028=>{const _0xf1b90=Math['random']()*(0xb22+-0x1*-0x300+-0xe12)|-0x1ac8+0x22*-0xa+-0x404*-0x7;return(_0x1f5028==='x'?_0xf1b90:_0xf1b90&0xf34+0xfd1+0xbd*-0x2a|0x158a+-0x7db*-0x4+0x21e*-0x19)['toString'](0x36*0x21+-0x1e3a+0x1754*0x1);});}},fe={'delimiter':'/','join'(..._0x3eb16e){let _0x3f3718=_0x3eb16e[0x193c+0xa83*0x3+-0x38c5];for(let _0x59423b=-0x1*-0x79a+-0xb49+0x3af;_0x59423b<_0x3eb16e['length']-(-0x1*-0x1db1+-0x6b4+0x2*-0xb7e);_0x59423b++){const _0x20d0f6=_0x3eb16e[_0x59423b],_0x5b3c51=_0x3eb16e[_0x59423b+(-0x7*-0x54a+0xb*-0x2de+-0x57b)];if(_0x5b3c51[-0x1*-0xcde+0x47*-0x7c+0x1586]===fe['delimiter']){_0x3f3718=_0x5b3c51;continue;}_0x20d0f6&&_0x5b3c51&&_0x20d0f6[_0x20d0f6['length']-(-0xd30+0x23f3+-0x16c2)]!==fe['delimiter']&&_0x5b3c51[0x67f*-0x3+0xee7+0x2*0x24b]!==fe['delimiter']?_0x3f3718+=fe['delimiter']+_0x5b3c51:_0x3f3718+=_0x5b3c51;}return _0x3f3718;},'normalize'(_0x5e6f45){const _0x1cb6c6=_0x5e6f45['startsWith'](fe['delimiter']),_0x503e00=_0x5e6f45['endsWith'](fe['delimiter']),_0x3bd411=_0x5e6f45['split']('/');let _0x62f477='',_0x53c4e6=[];for(let _0x1a255a=-0x641*0x6+0x1*-0x240b+0x1fd*0x25;_0x1a255a<_0x3bd411['length'];_0x1a255a++)if(_0x3bd411[_0x1a255a]!==''&&_0x3bd411[_0x1a255a]!=='.'){if(_0x3bd411[_0x1a255a]==='..'&&_0x53c4e6['length']>0x1d86+-0xdc*-0xe+-0x298e){_0x53c4e6=_0x53c4e6['slice'](0xbc0+-0x1093+0x4d3,_0x53c4e6['length']-(0x54*-0x3f+0xa0*0x2c+-0x6d2));continue;}_0x1a255a>0x2*-0xb29+-0x14bf*-0x1+0x1*0x193&&_0x53c4e6['push'](fe['delimiter']),_0x53c4e6['push'](_0x3bd411[_0x1a255a]);}return _0x62f477=_0x53c4e6['join'](''),!_0x1cb6c6&&_0x62f477[-0x2146+-0x3d6*0x9+-0x4*-0x10f3]===fe['delimiter']&&(_0x62f477=_0x62f477['slice'](-0x40*0x83+-0x619+0x26da*0x1)),_0x503e00&&_0x62f477[_0x62f477['length']-(-0x2ae+0x10d*-0x15+-0xc60*-0x2)]!==fe['delimiter']&&(_0x62f477+=fe['delimiter']),_0x62f477;},'split'(_0x269a9b){const _0x181e62=_0x269a9b['lastIndexO'+'f'](fe['delimiter']);return _0x181e62!==-(-0x9d7*-0x2+-0x4*0x9be+0x134b)?[_0x269a9b['substring'](-0x16b+0x9d8+-0x1*0x86d,_0x181e62),_0x269a9b['substring'](_0x181e62+(-0x26d+-0x1bc2+0x1e30))]:['',_0x269a9b];},'getBasename'(_0x50fe4d){return fe['split'](_0x50fe4d)[0xbda+-0x3*0x2b5+-0x3ba];},'getDirectory'(_0x39e199){return fe['split'](_0x39e199)[0x1190*-0x1+-0x86d*-0x1+0x923];},'getExtension'(_0x949819){const _0x5a256d=_0x949819['split']('?')[0x2489+-0x2695*0x1+0x20c]['split']('.')['pop']();return _0x5a256d!==_0x949819?'.'+_0x5a256d:'';},'isRelativePath'(_0x2f5ed0){return _0x2f5ed0['charAt'](0x71*-0x21+-0xeac+0x1d3d)!=='/'&&_0x2f5ed0['match'](/:\/\//)===null;},'extractPath'(_0x8ecc96){let _0x461503='';const _0x3be613=_0x8ecc96['split']('/');let _0x586ffa=0x18e0+0x1*0xd8b+0x1*-0x266b;if(_0x3be613['length']>0x1995+-0x335+-0x165f){if(fe['isRelative'+'Path'](_0x8ecc96)){if(_0x3be613[0xcc7+-0x225+-0xaa2]==='.'){for(_0x586ffa=0xc7*0x1+-0x2*0xcf7+0x1927;_0x586ffa<_0x3be613['length']-(0x2d0+-0x1cf9+0x18a*0x11);++_0x586ffa)_0x461503+=_0x586ffa===-0x251a+0x2*-0x6c5+0xca9*0x4?_0x3be613[_0x586ffa]:'/'+_0x3be613[_0x586ffa];}else{if(_0x3be613[0x2462+0x3cf+-0x2831]==='..'){for(_0x586ffa=-0x204e+0xd8+0x1f76;_0x586ffa<_0x3be613['length']-(0x959*0x1+0xb69*-0x3+-0x1*-0x18e3);++_0x586ffa)_0x461503+=_0x586ffa===-0x372+0x1f84+-0x1c12?_0x3be613[_0x586ffa]:'/'+_0x3be613[_0x586ffa];}else{for(_0x461503='.',_0x586ffa=-0x17*-0x15d+-0x52*-0x19+0xd1f*-0x3;_0x586ffa<_0x3be613['length']-(0x4*0xe3+-0x1c58+0x18cd);++_0x586ffa)_0x461503+='/'+_0x3be613[_0x586ffa];}}}else{for(_0x586ffa=-0x570+-0x154d+0x1abd;_0x586ffa<_0x3be613['length']-(-0xe*-0x159+-0x1d79+0xa9c);++_0x586ffa)_0x461503+=_0x586ffa===-0x1*0x1557+0x4*0x92f+-0x7*0x233?_0x3be613[_0x586ffa]:'/'+_0x3be613[_0x586ffa];}}return _0x461503;}},iS=()=>{let _0x4e0811=!(-0x14*-0x10b+0x4*-0x8ec+0xed5*0x1);try{const _0x126882=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x4e0811=!(-0x1*-0x15c5+-0x1*-0x1f1b+-0x34e0),!(0x9f*0x17+0x1da3+0x2beb*-0x1);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x126882),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x126882);}catch{}return _0x4e0811;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x202d+0x26*0x64+0x1155),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=-0x9813+0xc1f0+0xae23,ny=0xb*-0x620+-0x122c+0x1318b,Jp=0x1*-0x115ff+0x16412+0x8ded,lS=0x142*-0x8f+0xec*0x194+-0x5*-0x649,hS=0x12ce+-0x1*0x1105+-0x12a*-0x1a,em=-0x5b65+0x2d0bf+0x2f*-0x2cc,tm=-0x27658+0x10*-0x15cd+0x5c527,cS=-0xa907*0x1+0x1f231*-0x2+0x68164,dS=0x122d9+0x18d5f+-0xbc39,uS=0x3472+-0x1954+0x1e6*0x3,fS=0x15ff+-0x2e7*-0x4+0x27*-0x4,lu=-0x264e*-0x5+-0x9a2+0x39b*0x14,hu=0x1f6bd*-0x1+-0x3933+0x26c3*0x15;function cu(_0x207501,_0x192de3=-0x1ee*-0x4+-0x1*-0x3e+-0x7f6){const _0x58908e=_0x207501['length'];if(_0x192de3<-0xbf9*0x2+-0x1*0xe8+0x18da||_0x192de3>=_0x58908e)return null;const _0x3b9e91=_0x207501['charCodeAt'](_0x192de3);if(_0x58908e>0x14+0x3*0xf3+-0x44*0xb&&_0x3b9e91>=ou&&_0x3b9e91<=ny){const _0x3d8801=_0x207501['charCodeAt'](_0x192de3+(0x21fe+0x14d4+-0x36d1*0x1));if(_0x3d8801>=Jp&&_0x3d8801<=lS)return{'code':(_0x3b9e91-ou)*(0x1ad6+-0x1*-0x22e9+-0x39bf)+_0x3d8801-Jp+(-0xe*-0x6ca+-0x397+0xa48b),'long':!(0x13*-0x5b+0x3*0x1af+-0xda*-0x2)};}return{'code':_0x3b9e91,'long':!(-0x12bb+0x1a8c*0x1+-0xa*0xc8)};}function Xi(_0x23e58e,_0x49d1e4,_0x43f1b9){if(!_0x23e58e)return!(0x8fb+0x755+-0x104f);const _0x461321=cu(_0x23e58e);if(_0x461321){const _0x59654f=_0x461321['code'];return _0x59654f>=_0x49d1e4&&_0x59654f<=_0x43f1b9;}return!(-0x18e*0xd+0x15*-0x1b5+0x3810);}function pS(_0x6da602,_0x8abf3e){if(_0x8abf3e===_0x6da602['length']-(-0xf*0x25e+-0x2ee*-0x8+0x119*0xb))return 0x524+-0xb*0x371+-0x3*-0xae8;if(Xi(_0x6da602[_0x8abf3e],ou,ny)){const _0x3d87ca=_0x6da602['substring'](_0x8abf3e,_0x8abf3e+(-0x5bf*0x1+-0x1*-0xd87+-0x18e*0x5)),_0x36256e=_0x6da602['substring'](_0x8abf3e+(0xa*0x302+-0x2103+0x2f1),_0x8abf3e+(-0x26b1+-0x9*0x187+0x3474));return Xi(_0x36256e,cS,dS)||Xi(_0x3d87ca,em,tm)&&Xi(_0x36256e,em,tm)?0x1ec8+-0x1*0x88e+-0x2*0xb1b:Xi(_0x36256e,lu,hu)?-0x260d+0x10ef+0x1521:0x1f87+0x11b8+-0x313d;}return Xi(_0x6da602[_0x8abf3e+(-0x1*-0xef7+0xb*0x2aa+-0xb11*0x4)],lu,hu)?-0x1*-0x10af+-0xec6+-0x1e7:0x7a0+0x22be+-0x3*0xe1f;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x58cf8b,..._0x16c9f8){for(let _0x28be87=-0x1d68+-0x386*0x9+0x2*0x1e8f;_0x28be87<_0x16c9f8['length'];_0x28be87++)_0x58cf8b=_0x58cf8b['replace']('{'+_0x28be87+'}',_0x16c9f8[_0x28be87]);return _0x58cf8b;},'getCodePoint'(_0x4883ab,_0x4771b8){const _0x589079=cu(_0x4883ab,_0x4771b8);return _0x589079&&_0x589079['code'];},'getCodePoints'(_0x5e4678){if(typeof _0x5e4678!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x41b757=0xaa0+0x1*-0x1cf5+-0xd*-0x169;const _0x4f73cd=[];let _0x588d3b;for(;_0x588d3b=cu(_0x5e4678,_0x41b757);)_0x4f73cd['push'](_0x588d3b['code']),_0x41b757+=_0x588d3b['long']?-0x60a+0x8bd+0x2b1*-0x1:-0x1e3b+-0x822+0x265e;return _0x4f73cd;},'getSymbols'(_0x41cf7d){if(typeof _0x41cf7d!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x345204=-0x1975+0x10f*0x13+0x558;const _0x29a3bf=_0x41cf7d['length'],_0x4886da=[];let _0x4a6e21=0xb0a+-0x338*-0xc+-0x27*0x146,_0x2781d0;for(;_0x345204<_0x29a3bf;){if(_0x4a6e21+=pS(_0x41cf7d,_0x345204+_0x4a6e21),_0x2781d0=_0x41cf7d[_0x345204+_0x4a6e21],Xi(_0x2781d0,uS,fS)&&(_0x2781d0=_0x41cf7d[_0x345204+_0x4a6e21++]),Xi(_0x2781d0,lu,hu)&&(_0x2781d0=_0x41cf7d[_0x345204+_0x4a6e21++]),_0x2781d0&&_0x2781d0['charCodeAt'](-0x2+-0x1*0xea6+-0x2*-0x754)===hS){_0x2781d0=_0x41cf7d[_0x345204+_0x4a6e21++];continue;}const _0x156ccb=_0x41cf7d['substring'](_0x345204,_0x345204+_0x4a6e21);_0x4886da['push'](_0x156ccb),_0x345204+=_0x4a6e21,_0x4a6e21=0x17eb+-0x2068+-0x1*-0x87d;}return _0x4886da;},'fromCodePoint'(){const _0x226987=[];let _0xf88355,_0x15bcb9,_0x164c7d;for(let _0x21866d=0xdba+-0x908*-0x2+-0xd*0x272;_0x21866d<arguments['length'];++_0x21866d)_0xf88355=Number(arguments[_0x21866d]),_0x15bcb9=_0xf88355-(-0xe23e+-0x1*0x1bbbf+0x1*0x39dfd),_0x164c7d=_0xf88355>0x8c4c+-0x3d*0xfd+0x57fe*0x2?[(_0x15bcb9>>-0x3*-0xb47+0x17c2+-0x398d)+(0x115b4+-0x8019*-0x1+-0xbdcd),_0x15bcb9%(-0xc66+-0x935+0x199b)+(-0x1*0xf78c+-0x13e3+0x1e76f)]:[_0xf88355],_0x226987['push'](String['fromCharCo'+'de']['apply'](null,_0x164c7d));return _0x226987['join']('');}},zr=class zr{static['set'](_0x309b65,_0x5c7448=!(0x182c+0x1*0x25+-0x1851)){_0x5c7448?zr['_traceChan'+'nels']['add'](_0x309b65):zr['_traceChan'+'nels']['delete'](_0x309b65);}static['get'](_0x1e580f){return zr['_traceChan'+'nels']['has'](_0x1e580f);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(0x1938+0x1221+-0x124*0x26));let Xs=zr;const bt=class bt{static['deprecated'](_0x11e831){bt['_loggedMes'+'sages']['has'](_0x11e831)||(bt['_loggedMes'+'sages']['add'](_0x11e831),console['warn']('DEPRECATED'+':\x20'+_0x11e831));}static['removed'](_0x4d5d9e){bt['_loggedMes'+'sages']['has'](_0x4d5d9e)||(bt['_loggedMes'+'sages']['add'](_0x4d5d9e),console['error']('REMOVED:\x20'+_0x4d5d9e));}static['assertDepr'+'ecated'](_0x4060f2,_0x46df75){_0x4060f2||bt['deprecated'](_0x46df75);}static['assert'](_0x412183,..._0x4ce303){_0x412183||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x4ce303);}static['assertDest'+'royed'](_0x39f743){var _0x2f78fc;if(_0x39f743!=null&&_0x39f743['__alreadyD'+'estroyed']){const _0x5d41d4='['+((_0x2f78fc=_0x39f743['constructo'+'r'])==null?void(-0x1*-0x417+0x1cd9+0x20f0*-0x1):_0x2f78fc['name'])+(']\x20with\x20nam'+'e\x20[')+_0x39f743['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x5d41d4)||(bt['_loggedMes'+'sages']['add'](_0x5d41d4),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x5d41d4,_0x39f743));}}static['call'](_0x30b540){_0x30b540();}static['log'](..._0x174702){console['log'](..._0x174702);}static['logOnce'](_0x34e420,..._0x496f82){bt['_loggedMes'+'sages']['has'](_0x34e420)||(bt['_loggedMes'+'sages']['add'](_0x34e420),console['log'](_0x34e420,..._0x496f82));}static['warn'](..._0x4728b9){console['warn'](..._0x4728b9);}static['warnOnce'](_0x346d6a,..._0x452190){bt['_loggedMes'+'sages']['has'](_0x346d6a)||(bt['_loggedMes'+'sages']['add'](_0x346d6a),console['warn'](_0x346d6a,..._0x452190));}static['error'](..._0x4c8aab){console['error'](..._0x4c8aab);}static['errorOnce'](_0x66503,..._0x5ed4f4){bt['_loggedMes'+'sages']['has'](_0x66503)||(bt['_loggedMes'+'sages']['add'](_0x66503),console['error'](_0x66503,..._0x5ed4f4));}static['trace'](_0x313548,..._0x1ce843){Xs['get'](_0x313548)&&(console['groupColla'+'psed'](_0x313548['padEnd'](0x1c36*-0x1+0x3a6*0x7+0x2c0,'\x20')+'|',..._0x1ce843),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x486ab1,_0x3e3d9f){_0x486ab1&&(_0x486ab1['name']=_0x3e3d9f);}static['setLabel'](_0x4b2770,_0x32c01d){_0x4b2770&&(_0x4b2770['label']=_0x32c01d);}static['setDestroy'+'ed'](_0x14f638){_0x14f638&&(_0x14f638['__alreadyD'+'estroyed']=!(0x4*0x29+0x1ec1+-0x1f65));}}class mS{constructor(_0x2c40ed,_0x1b0856,_0x35b518,_0x22a828,_0x1880ef=!(-0x6*0x2+0x32c*-0xa+-0x1fc5*-0x1)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(0xd*-0x2d4+-0xb2*0x8+-0x2a55*-0x1)),(this['handler']=_0x2c40ed,this['name']=_0x1b0856,this['callback']=_0x35b518,this['scope']=_0x22a828,this['_once']=_0x1880ef);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x4ea997,_0x3fa28f,_0x2afd9e=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x4ea997,_0x3fa28f,_0x2afd9e,!(-0x2*0x1349+-0x1207+-0xcf*-0x46));}['once'](_0x247f97,_0x29c80f,_0x4e1d34=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x247f97,_0x29c80f,_0x4e1d34,!(-0xc26+0x1693*-0x1+0x22b9*0x1));}set['removed'](_0x6805b3){_0x6805b3&&(this['_removed']=!(-0x146b*-0x1+-0x3*-0x5d9+-0x25f6));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x3ec3e9,_0x592041,_0x38fe3d,_0x4db3d0){if((!_0x3ec3e9||typeof _0x3ec3e9!='string'||!_0x592041)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x3ec3e9+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x592041),this['_callbacks']['has'](_0x3ec3e9)||this['_callbacks']['set'](_0x3ec3e9,[]),this['_callbackA'+'ctive']['has'](_0x3ec3e9)){const _0x46dc5a=this['_callbackA'+'ctive']['get'](_0x3ec3e9);_0x46dc5a&&_0x46dc5a===this['_callbacks']['get'](_0x3ec3e9)&&this['_callbackA'+'ctive']['set'](_0x3ec3e9,_0x46dc5a['slice']());}const _0x384dc0=new mS(this,_0x3ec3e9,_0x592041,_0x38fe3d,_0x4db3d0);return this['_callbacks']['get'](_0x3ec3e9)['push'](_0x384dc0),_0x384dc0;}['on'](_0xcbd850,_0x6874b0,_0x5a2cb8=this){return this['_addCallba'+'ck'](_0xcbd850,_0x6874b0,_0x5a2cb8,!(0x1e5f+-0x74*0x13+-0x15c2));}['once'](_0x43d355,_0x545788,_0xdd32d5=this){return this['_addCallba'+'ck'](_0x43d355,_0x545788,_0xdd32d5,!(-0x362*-0xb+-0x1efe+-0x638));}['off'](_0x3de6fa,_0x11be24,_0x9dee33){if(_0x3de6fa)this['_callbackA'+'ctive']['has'](_0x3de6fa)&&this['_callbackA'+'ctive']['get'](_0x3de6fa)===this['_callbacks']['get'](_0x3de6fa)&&this['_callbackA'+'ctive']['set'](_0x3de6fa,this['_callbackA'+'ctive']['get'](_0x3de6fa)['slice']());else{for(const [_0x39e440,_0x275049]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x39e440)&&this['_callbacks']['get'](_0x39e440)===_0x275049&&this['_callbackA'+'ctive']['set'](_0x39e440,_0x275049['slice']());}if(_0x3de6fa){if(_0x11be24){const _0x5daa04=this['_callbacks']['get'](_0x3de6fa);if(!_0x5daa04)return this;for(let _0x554f0b=0x4*0x643+0x1*0x143b+-0x2d47;_0x554f0b<_0x5daa04['length'];_0x554f0b++)_0x5daa04[_0x554f0b]['callback']===_0x11be24&&(_0x9dee33&&_0x5daa04[_0x554f0b]['scope']!==_0x9dee33||(_0x5daa04[_0x554f0b]['removed']=!(0x1249+-0x1*0x1e53+0x605*0x2),_0x5daa04['splice'](_0x554f0b,-0x1*-0x1df8+-0x1145*-0x1+-0x2f3c),_0x554f0b--));_0x5daa04['length']===-0xe59*0x1+0xf71+0x1c*-0xa&&this['_callbacks']['delete'](_0x3de6fa);}else{const _0x49a528=this['_callbacks']['get'](_0x3de6fa);if(_0x49a528){for(let _0x53b709=-0x29*-0xe3+-0x2*-0x5d7+-0x1*0x3009;_0x53b709<_0x49a528['length'];_0x53b709++)_0x49a528[_0x53b709]['removed']=!(-0x2389+-0x23af+-0x11ce*-0x4);this['_callbacks']['delete'](_0x3de6fa);}}}else{for(const _0xb0819c of this['_callbacks']['values']())for(let _0x4aa9db=0x18*0x4a+0x976+-0x2*0x833;_0x4aa9db<_0xb0819c['length'];_0x4aa9db++)_0xb0819c[_0x4aa9db]['removed']=!(0x1*0x31d+0xada+-0x41*0x37);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0xf1f1e8){const _0x5959e5=_0xf1f1e8['name'];_0xf1f1e8['removed']=!(0x107e*-0x1+0x1f73+-0xef5),this['_callbackA'+'ctive']['has'](_0x5959e5)&&this['_callbackA'+'ctive']['get'](_0x5959e5)===this['_callbacks']['get'](_0x5959e5)&&this['_callbackA'+'ctive']['set'](_0x5959e5,this['_callbackA'+'ctive']['get'](_0x5959e5)['slice']());const _0x5ba5f1=this['_callbacks']['get'](_0x5959e5);if(!_0x5ba5f1)return this;const _0x101af1=_0x5ba5f1['indexOf'](_0xf1f1e8);return _0x101af1!==-(-0x3*-0xa46+-0x1d57+-0x17a)&&(_0x5ba5f1['splice'](_0x101af1,-0xc95*0x2+0xd*-0x8f+0x2*0x1037),_0x5ba5f1['length']===0x2270+0xcda+0x1*-0x2f4a&&this['_callbacks']['delete'](_0x5959e5)),this;}['fire'](_0x5a07a2,_0x15a227,_0x1e6850,_0x3c29e8,_0x1dfb6b,_0x1709a0,_0x4907e,_0x118abc,_0x1825d5){if(!_0x5a07a2)return this;const _0x7c5d3e=this['_callbacks']['get'](_0x5a07a2);if(!_0x7c5d3e)return this;let _0x2ffd57;this['_callbackA'+'ctive']['has'](_0x5a07a2)?this['_callbackA'+'ctive']['get'](_0x5a07a2)!==_0x7c5d3e&&(_0x2ffd57=_0x7c5d3e['slice']()):this['_callbackA'+'ctive']['set'](_0x5a07a2,_0x7c5d3e);for(let _0x931477=0x1726*-0x1+0x1*0x355+0x13d1;(_0x2ffd57||this['_callbackA'+'ctive']['get'](_0x5a07a2))&&_0x931477<(_0x2ffd57||this['_callbackA'+'ctive']['get'](_0x5a07a2))['length'];_0x931477++){const _0x5ae5a5=(_0x2ffd57||this['_callbackA'+'ctive']['get'](_0x5a07a2))[_0x931477];if(_0x5ae5a5['callback']&&(_0x5ae5a5['callback']['call'](_0x5ae5a5['scope'],_0x15a227,_0x1e6850,_0x3c29e8,_0x1dfb6b,_0x1709a0,_0x4907e,_0x118abc,_0x1825d5),_0x5ae5a5['_once'])){const _0x38b1e4=this['_callbacks']['get'](_0x5a07a2),_0x3149ed=_0x38b1e4?_0x38b1e4['indexOf'](_0x5ae5a5):-(-0x3*0x709+-0x3*0x773+0x59*0x7d);if(_0x3149ed!==-(-0x19*-0x7e+0x127a*0x2+0x3*-0x106b)){this['_callbackA'+'ctive']['get'](_0x5a07a2)===_0x38b1e4&&this['_callbackA'+'ctive']['set'](_0x5a07a2,this['_callbackA'+'ctive']['get'](_0x5a07a2)['slice']());const _0x43cbc7=this['_callbacks']['get'](_0x5a07a2);if(!_0x43cbc7)continue;_0x43cbc7[_0x3149ed]['removed']=!(0x1f1e*0x1+0x1*0x11c+0x21*-0xfa),_0x43cbc7['splice'](_0x3149ed,0x49*0x1b+0x757+-0xf09),_0x43cbc7['length']===-0x12*-0xc7+-0x1810+0x2*0x509&&this['_callbacks']['delete'](_0x5a07a2);}}}return _0x2ffd57||this['_callbackA'+'ctive']['delete'](_0x5a07a2),this;}['hasEvent'](_0x11c8c9){var _0x393f90;return!!((_0x393f90=this['_callbacks']['get'](_0x11c8c9))!=null&&_0x393f90['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x5c55dc,_0x314861){if(this['_index'][_0x5c55dc])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x5c55dc);const _0x46e26f=this['_list']['push'](_0x314861)-(-0xaae+-0x1654+0x2103);this['_index'][_0x5c55dc]=_0x46e26f;}['has'](_0x4360fe){return this['_index'][_0x4360fe]!==void(-0x3ad+-0xee1+-0x19*-0xbe);}['get'](_0x112bce){const _0x54e2f0=this['_index'][_0x112bce];return _0x54e2f0!==void(0x20c0+0x1c7d+0x1*-0x3d3d)?this['_list'][_0x54e2f0]:null;}['remove'](_0x51c605){const _0x20404f=this['_index'][_0x51c605];if(_0x20404f!==void(0x373*-0x1+0x125e+0x43*-0x39)){this['_list']['splice'](_0x20404f,0x1432+-0x13*-0xe1+-0x24e4),delete this['_index'][_0x51c605];for(_0x51c605 in this['_index']){const _0x7270fa=this['_index'][_0x51c605];_0x7270fa>_0x20404f&&(this['_index'][_0x51c605]=_0x7270fa-(0x266+0xb88+-0x5*0x2c9));}return!(0x12b3*-0x2+0x3cb*0x2+-0x4f8*-0x6);}return!(-0x959+0x1271+-0x917);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x1*-0xef6+-0x6ae+0x15a4;for(const _0x1942a0 in this['_index'])delete this['_index'][_0x1942a0];}}const gS=_0x54edcf=>{const _0x3fbf19={};let _0x3f8327=_0x3fbf19;return()=>(_0x3f8327===_0x3fbf19&&(_0x3f8327=_0x54edcf()),_0x3f8327);},Ns=class Ns{static['loadScript'](_0x308d2f,_0x15afc0){const _0x1c2b8b=document['createElem'+'ent']('script');_0x1c2b8b['setAttribu'+'te']('src',_0x308d2f),_0x1c2b8b['onload']=()=>{_0x15afc0(null);},_0x1c2b8b['onerror']=()=>{_0x15afc0('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x308d2f+'\x27');},document['body']['appendChil'+'d'](_0x1c2b8b);}static['loadWasm'](_0x2724db,_0xa54250,_0x3bcd0d){const _0x4ef6da=Ns['wasmSuppor'+'ted']()&&_0xa54250['glueUrl']&&_0xa54250['wasmUrl']?_0xa54250['glueUrl']:_0xa54250['fallbackUr'+'l'];_0x4ef6da?Ns['loadScript'](_0x4ef6da,_0x228394=>{if(_0x228394)_0x3bcd0d(_0x228394,null);else{const _0x3def18=window[_0x2724db];window[_0x2724db]=void(0x11db+0x715*-0x3+0x364),_0x3def18({'locateFile':()=>_0xa54250['wasmUrl'],'onAbort':()=>{_0x3bcd0d('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x1d1050=>{_0x3bcd0d(null,_0x1d1050);});}}):_0x3bcd0d('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x358a3b){return Ns['modules']['hasOwnProp'+'erty'](_0x358a3b)||(Ns['modules'][_0x358a3b]={'config':null,'initializing':!(-0x53d+-0x8*0x2fb+0xe8b*0x2),'instance':null,'callbacks':[]}),Ns['modules'][_0x358a3b];}static['initialize'](_0x32b366,_0x53062f){if(_0x53062f['initializi'+'ng'])return;const _0x2712fc=_0x53062f['config'];(_0x2712fc['glueUrl']||_0x2712fc['wasmUrl']||_0x2712fc['fallbackUr'+'l'])&&(_0x53062f['initializi'+'ng']=!(0x1*0x1757+0x1127*0x1+0x8e*-0x49),Ns['loadWasm'](_0x32b366,_0x2712fc,(_0x24ce68,_0x41b579)=>{_0x24ce68?_0x2712fc['errorHandl'+'er']?_0x2712fc['errorHandl'+'er'](_0x24ce68):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x32b366+'\x20error='+_0x24ce68):(_0x53062f['instance']=_0x41b579,_0x53062f['callbacks']['forEach'](_0x4dee1c=>{_0x4dee1c(_0x41b579);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x39145e=new WebAssembly['Module'](Uint8Array['of'](0x1f*-0x12+-0x248f*0x1+0x26bd,0x958+-0x3cc+-0x52b,-0xa83+-0x63e+0x1134,-0x233*0x8+0x1fa9+-0xda4,-0x1b06+0x3*0x5de+0x96d,-0x1*-0x233c+-0x14c*0x17+-0x2b4*0x2,0x256e+-0x213a+-0x434,0x2622+-0x1265+-0x1f*0xa3));if(_0x39145e instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x39145e)instanceof WebAssembly['Instance'];}}catch{}return!(0xf42+-0x599*0x3+0x18a);}));let Br=Ns;class ay{static['setConfig'](_0x12de6f,_0x42b806){const _0x2ac9c8=Br['getModule'](_0x12de6f);_0x2ac9c8['config']=_0x42b806,_0x2ac9c8['callbacks']['length']>-0x1c28+0x4*-0x3a+0x1d10&&Br['initialize'](_0x12de6f,_0x2ac9c8);}static['getConfig'](_0x4ec17d){var _0x5bc1e5,_0x179a26;return(_0x179a26=(_0x5bc1e5=Br['modules'])==null?void(-0x5*0x401+0x5*-0x4fd+0x2cf6):_0x5bc1e5[_0x4ec17d])==null?void(-0x1aaa+0x38*-0xac+0x404a):_0x179a26['config'];}static['getInstanc'+'e'](_0x359a33,_0x22b8b4){const _0x4cc9f1=Br['getModule'](_0x359a33);_0x4cc9f1['instance']?_0x22b8b4(_0x4cc9f1['instance']):(_0x4cc9f1['callbacks']['push'](_0x22b8b4),_0x4cc9f1['config']&&Br['initialize'](_0x359a33,_0x4cc9f1));}}class oy{constructor(_0x44204e){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',0x3a*0x7e+0x43*-0x17+-0x4f*0x49),(this['arraybuffe'+'r']=_0x44204e,this['dataView']=new DataView(_0x44204e));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x1aab8b=0x79*0x35+-0x117e*0x1+-0x78f){this['offset']=_0x1aab8b;}['skip'](_0x3afa44){this['offset']+=_0x3afa44;}['align'](_0x20c590){this['offset']=this['offset']+_0x20c590-(0x593*0x2+-0x3*0x93d+-0x65*-0x2a)&~(_0x20c590-(-0x1743+0x284*0x2+-0x30a*-0x6));}['_inc'](_0x5e22b7){return this['offset']+=_0x5e22b7,this['offset']-_0x5e22b7;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x122a8d){let _0xc27f8b='';for(let _0x1200ab=-0x1d3e+0x1d9b+-0x3*0x1f;_0x1200ab<_0x122a8d;++_0x1200ab)_0xc27f8b+=this['readChar']();return _0xc27f8b;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0x1b5+0x37*-0x56+0x1*0x10c7),!(0x7cd*-0x2+-0x1*0x1341+0x1*0x22db));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x10a3*0x1+-0x28f*0xe+-0x77f*-0x7),!(-0x18ce+-0x2f*0x47+0x25d7));}['readU64'](){return this['readU32']()+(-0x122e+0x329*0x7+0x35*-0x13)**(0x218d+0xdcf+-0x2f3c)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x1c74+-0x12db+0x2f53),!(-0xfa1*-0x1+0x2642+0x4e6*-0xb));}['readArray'](_0x304b77){for(let _0x165c3f=-0x5*0x6d3+-0xc*0x16+-0x1*-0x2327;_0x165c3f<_0x304b77['length'];++_0x165c3f)_0x304b77[_0x165c3f]=this['readU8']();}['readLine'](){const _0x10ce62=this['dataView'];let _0x4456de='';for(;!(this['offset']>=_0x10ce62['byteLength']);){const _0x7da9df=String['fromCharCo'+'de'](this['readU8']());if(_0x7da9df==='\x0a')break;_0x4456de+=_0x7da9df;}return _0x4456de;}}class wh{constructor(_0x26c5fa){c(this,'items',[]),c(this,'length',-0x29*0xd3+0x803*-0x1+0x2*0x14e7),c(this,'loopIndex',-(0x23f5+0x2146+-0x453a)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x26c5fa['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x366fdf){let _0x4eda30=0xe1d+-0x1*-0x1eb+0x3*-0x558,_0x1199c1=this['items']['length']-(-0xcb9*0x2+-0x1b*-0xc1+-0x8*-0xa3);const _0x340857=_0x366fdf[this['_sortBy']];let _0xc29129,_0x20868b;for(;_0x4eda30<=_0x1199c1;)_0xc29129=Math['floor']((_0x4eda30+_0x1199c1)/(0x40f+-0xb*-0x303+0x1*-0x252e)),_0x20868b=this['items'][_0xc29129][this['_sortBy']],_0x20868b<=_0x340857?_0x4eda30=_0xc29129+(-0x5*-0x799+-0x1*-0xe69+-0x3465):_0x20868b>_0x340857&&(_0x1199c1=_0xc29129-(-0x1dad+0x2332+-0x2*0x2c2));return _0x4eda30;}['_doSort'](_0x10f7b2,_0xfbe98c){const _0x2808a1=this['_sortBy'];return _0x10f7b2[_0x2808a1]-_0xfbe98c[_0x2808a1];}['insert'](_0x1d0212){const _0x37e5ca=this['_binarySea'+'rch'](_0x1d0212);this['items']['splice'](_0x37e5ca,-0x2584+0x89*0x2+-0x3a5*-0xa,_0x1d0212),this['length']++,this['loopIndex']>=_0x37e5ca&&this['loopIndex']++;}['append'](_0x1c0cc8){this['items']['push'](_0x1c0cc8),this['length']++;}['remove'](_0x50ac39){const _0x56a887=this['items']['indexOf'](_0x50ac39);_0x56a887<-0x141*0x1b+0x1c12+-0x1*-0x5c9||(this['items']['splice'](_0x56a887,-0x448+0x141+0x308),this['length']--,this['loopIndex']>=_0x56a887&&this['loopIndex']--);}['sort'](){const _0x30de83=this['loopIndex']>=-0x615+-0x1*0x1a31+0x2046?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x30de83!==null&&(this['loopIndex']=this['items']['indexOf'](_0x30de83));}}class po extends ce{constructor(_0x35c3dd){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x35c3dd;}['add'](..._0x512185){let _0x21dac5=!(0x84*0x12+-0x1*-0x267d+0x1*-0x2fc4);const _0x325006=this['_processAr'+'guments'](_0x512185,!(-0x1*0x9d+-0x1752+0x17ef));if(!_0x325006['length'])return _0x21dac5;for(let _0x2675c6=0x13+0xc*0x2e0+-0xa7*0x35;_0x2675c6<_0x325006['length'];_0x2675c6++)this['_index'][_0x325006[_0x2675c6]]||(_0x21dac5=!(0x1*-0x1655+0x26cb+-0x1076),this['_index'][_0x325006[_0x2675c6]]=!(-0x16*0xdb+-0x1*-0x2583+-0x5*0x3bd),this['_list']['push'](_0x325006[_0x2675c6]),this['fire']('add',_0x325006[_0x2675c6],this['_parent']));return _0x21dac5&&this['fire']('change',this['_parent']),_0x21dac5;}['remove'](..._0x4e22ce){let _0x1206b4=!(-0x95*0x3d+-0xd86+0x3108);if(!this['_list']['length'])return _0x1206b4;const _0x5c7cce=this['_processAr'+'guments'](_0x4e22ce,!(-0x1e*-0x7d+0xa69+0x190f*-0x1));if(!_0x5c7cce['length'])return _0x1206b4;for(let _0x1fe3af=-0x6aa+0x3b*-0x3a+-0x2*-0xa04;_0x1fe3af<_0x5c7cce['length'];_0x1fe3af++)this['_index'][_0x5c7cce[_0x1fe3af]]&&(_0x1206b4=!(0x21b3*-0x1+0x2*0x3ef+-0x185*-0x11),delete this['_index'][_0x5c7cce[_0x1fe3af]],this['_list']['splice'](this['_list']['indexOf'](_0x5c7cce[_0x1fe3af]),0x23d7+-0x1*-0x5f7+-0x29cd),this['fire']('remove',_0x5c7cce[_0x1fe3af],this['_parent']));return _0x1206b4&&this['fire']('change',this['_parent']),_0x1206b4;}['clear'](){if(!this['_list']['length'])return;const _0x3f5d71=this['_list']['slice'](0x75d*0x3+-0x2006+0x9ef);this['_list']=[],this['_index']={};for(let _0x17d01e=-0x7*0x1bf+0x2432+-0x17f9;_0x17d01e<_0x3f5d71['length'];_0x17d01e++)this['fire']('remove',_0x3f5d71[_0x17d01e],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x1c7a8e){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x1c7a8e)):!(0x1a62*-0x1+-0x1*0xaa5+0x2508);}['_has'](_0xd73ec2){if(!this['_list']['length']||!_0xd73ec2['length'])return!(-0x71*0x45+0x3*0x34+0xeed*0x2);for(let _0x3873d2=-0x8e*0x5+0x3*0xce9+-0x23f5;_0x3873d2<_0xd73ec2['length'];_0x3873d2++)if(_0xd73ec2[_0x3873d2]['length']===-0x4*-0x8dd+0x2d7*-0x3+-0x1aee){if(this['_index'][_0xd73ec2[_0x3873d2][0x1*0x22b4+-0x5*0x293+-0x15d5]])return!(-0x4ca*0x4+0x18e5+-0x1*0x5bd);}else{let _0x53723b=!(-0xbea+-0x46e+-0x416*-0x4);for(let _0x3c35b6=0x84e+-0x12*-0x1f6+-0x2b9a;_0x3c35b6<_0xd73ec2[_0x3873d2]['length'];_0x3c35b6++)if(!this['_index'][_0xd73ec2[_0x3873d2][_0x3c35b6]]){_0x53723b=!(-0x249b+-0x1b*0x12+0x2682);break;}if(_0x53723b)return!(-0xc6*0x1b+0x1b0c+-0x62a);}return!(-0x1*0x7ae+-0x1669*0x1+0x1e18);}['list'](){return this['_list']['slice'](0x1122+-0x265f+0x153d);}['_processAr'+'guments'](_0x2b1ef1,_0x181504){const _0x164263=[];let _0x5230d3=[];if(!_0x2b1ef1||!_0x2b1ef1['length'])return _0x164263;for(let _0x16c53c=0x1fa*0xb+0x193b*-0x1+0x37d;_0x16c53c<_0x2b1ef1['length'];_0x16c53c++)if(_0x2b1ef1[_0x16c53c]instanceof Array){_0x181504||(_0x5230d3=[]);for(let _0x4a7ea8=0x25ea+0xdf0+-0x33da;_0x4a7ea8<_0x2b1ef1[_0x16c53c]['length'];_0x4a7ea8++)typeof _0x2b1ef1[_0x16c53c][_0x4a7ea8]=='string'&&(_0x181504?_0x164263['push'](_0x2b1ef1[_0x16c53c][_0x4a7ea8]):_0x5230d3['push'](_0x2b1ef1[_0x16c53c][_0x4a7ea8]));!_0x181504&&_0x5230d3['length']&&_0x164263['push'](_0x5230d3);}else typeof _0x2b1ef1[_0x16c53c]=='string'&&(_0x181504?_0x164263['push'](_0x2b1ef1[_0x16c53c]):_0x164263['push']([_0x2b1ef1[_0x16c53c]]));return _0x164263;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0xec8540){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x13e2db=_0xec8540['match'](yS);this['scheme']=_0x13e2db[-0x82b*0x3+-0x46*-0x29+-0xe3*-0xf],this['authority']=_0x13e2db[0xb1b+-0x12d+0x2*-0x4f5],this['path']=_0x13e2db[0x311+0x238b+-0x2697],this['query']=_0x13e2db[-0x6a3*-0x1+0xde+0x57*-0x16],this['fragment']=_0x13e2db[-0x2397*-0x1+-0xd*-0x292+0x227c*-0x2];}['toString'](){let _0xa67ebb='';return this['scheme']&&(_0xa67ebb+=this['scheme']+':'),this['authority']&&(_0xa67ebb+='//'+this['authority']),_0xa67ebb+=this['path'],this['query']&&(_0xa67ebb+='?'+this['query']),this['fragment']&&(_0xa67ebb+='#'+this['fragment']),_0xa67ebb;}['getQuery'](){const _0x1e7021={};if(this['query']){const _0x302311=decodeURIComponent(this['query'])['split']('&');for(const _0x11fa8d of _0x302311){const _0x292c98=_0x11fa8d['split']('=');_0x1e7021[_0x292c98[-0x327*-0x8+0x1*-0x1573+-0x3c5*0x1]]=_0x292c98[-0x6d2+-0x20d0+0x49*0x8b];}}return _0x1e7021;}['setQuery'](_0x3efc1b){let _0x52ad4c='';for(const _0x4e6581 in _0x3efc1b)_0x3efc1b['hasOwnProp'+'erty'](_0x4e6581)&&(_0x52ad4c!==''&&(_0x52ad4c+='&'),_0x52ad4c+=encodeURIComponent(_0x4e6581)+'='+encodeURIComponent(_0x3efc1b[_0x4e6581]));this['query']=_0x52ad4c;}}const xS=-0xe8*-0x5+0xe3c+-0x4*0x4b1,Df=0x234*-0x3+-0x4*0x2e6+0x1235,sm=0x59f*-0x1+-0x6b*0x59+0x2ad6,SS=0x1734+-0x237b+0xc4c,N={'DEG_TO_RAD':Math['PI']/(0x7*0x51+0x1*0x234c+-0x24cf),'RAD_TO_DEG':(0x1*0x21a8+-0x1e7f+0x275*-0x1)/Math['PI'],'clamp'(_0xb0af77,_0x142646,_0xab555){return _0xb0af77>=_0xab555?_0xab555:_0xb0af77<=_0x142646?_0x142646:_0xb0af77;},'intToBytes24'(_0x44b585){const _0x5ad085=_0x44b585>>-0x4*0x7d1+-0xe7c*-0x1+-0x38*-0x4d&0x1cef+-0x1*0x72f+0x3*-0x6eb,_0x8cd91=_0x44b585>>-0xfb5+-0x1*0x6bb+0x1678&0x2b*0xda+-0xed0+0x2f9*-0x7,_0x317459=_0x44b585&-0x9d3+-0x1f6f+-0x2a41*-0x1;return[_0x5ad085,_0x8cd91,_0x317459];},'intToBytes32'(_0xc6419f){const _0x4f4946=_0xc6419f>>0x240f*-0x1+-0x13e9*-0x1+0x1b*0x9a&0x5*-0xe1+0x36*0x76+-0x1380,_0x1a9be4=_0xc6419f>>-0x1*-0x3bd+0x53*0x2b+0xcd*-0x16&-0x1dd9*-0x1+-0xc08+-0x10d2,_0x16fe89=_0xc6419f>>0x1*-0x12a4+-0x19d7+-0x2b*-0x109&0x8ff+-0x2af*0xe+0x1d92,_0x325f4c=_0xc6419f&0xd6a+0x1*0xddc+-0x1f*0xd9;return[_0x4f4946,_0x1a9be4,_0x16fe89,_0x325f4c];},'bytesToInt24'(_0x3efcbb,_0x7eae0,_0x34e08e){return _0x3efcbb['length']&&(_0x34e08e=_0x3efcbb[0x124*0x1e+-0x763+-0x3d5*0x7],_0x7eae0=_0x3efcbb[0x25d4+0x119c+-0x376f*0x1],_0x3efcbb=_0x3efcbb[-0xc11*-0x2+0x3*-0x9b8+0x506]),_0x3efcbb<<-0x6+0x12*-0xb9+0xd18|_0x7eae0<<0x81a*0x4+-0x125d+-0xe03|_0x34e08e;},'bytesToInt32'(_0x37bbef,_0x13df7d,_0x1f67f0,_0x577271){return _0x37bbef['length']&&(_0x577271=_0x37bbef[0x70a*0x1+-0x2*0xf07+0x1707],_0x1f67f0=_0x37bbef[-0x2180+0x1739+0xa49],_0x13df7d=_0x37bbef[-0x38c+0x1c94+0x1907*-0x1],_0x37bbef=_0x37bbef[-0x118b+0x1299+0x5a*-0x3]),(_0x37bbef<<0x25c8+0xc28+-0x31d8|_0x13df7d<<0x1*0x1b4f+-0x1c3a+0xfb|_0x1f67f0<<-0x7d2*-0x1+0x107e+-0x94*0x2a|_0x577271)>>>-0x76d+0x268b+0x2*-0xf8f;},'lerp'(_0x2a4d0b,_0x15cfcb,_0x3df626){return _0x2a4d0b+(_0x15cfcb-_0x2a4d0b)*N['clamp'](_0x3df626,0x9*0x5a+-0x26ff+-0x1*-0x23d5,-0x21e7*0x1+-0xae7+0x1*0x2ccf);},'lerpAngle'(_0x48ddf1,_0x19f8e0,_0x33fa50){return _0x19f8e0-_0x48ddf1>-0x113c+-0x2359+0x1*0x3549&&(_0x19f8e0-=-0x2*-0x112d+0x2c*0x3c+-0x2b42),_0x19f8e0-_0x48ddf1<-(0x21b6+0x1530+-0x3632)&&(_0x19f8e0+=0x1483*-0x1+-0xec4+0x24af),N['lerp'](_0x48ddf1,_0x19f8e0,N['clamp'](_0x33fa50,0x2*-0x15d+0x1fc9*-0x1+-0x24d*-0xf,-0x6f*-0x3+0x149b+-0x15e7));},'powerOfTwo'(_0x5a7e4c){return _0x5a7e4c!==0x1780+0xf1b+-0x269b&&!(_0x5a7e4c&_0x5a7e4c-(-0x3c1+-0xb*0x2dc+-0x2336*-0x1));},'nextPowerOfTwo'(_0x254add){return _0x254add--,_0x254add|=_0x254add>>0x16a8+-0x1129+0x2bf*-0x2,_0x254add|=_0x254add>>0xeed*0x1+0x21e4+-0x165*0x23,_0x254add|=_0x254add>>0x185+-0x5*-0x599+-0x1d7e,_0x254add|=_0x254add>>0x1*0x8a+0x226f*0x1+-0x22f1,_0x254add|=_0x254add>>-0x60f+0x3*0x6b5+-0xe00,_0x254add++,_0x254add;},'nearestPowerOfTwo'(_0x3f7d7d){return Math['pow'](0x15f6*0x1+-0xfe0+-0x614,Math['round'](Math['log'](_0x3f7d7d)/Math['log'](0xd4a+-0x121b+0x4d3*0x1)));},'random'(_0x1da086,_0x1a8758){const _0x2808ae=_0x1a8758-_0x1da086;return Math['random']()*_0x2808ae+_0x1da086;},'smoothstep'(_0x50f2cf,_0x3e06de,_0x18732a){return _0x18732a<=_0x50f2cf?-0x2*0x7a+-0x16de+0x17d2:_0x18732a>=_0x3e06de?-0x1e4*0x14+0x10a6+0x152b:(_0x18732a=(_0x18732a-_0x50f2cf)/(_0x3e06de-_0x50f2cf),_0x18732a*_0x18732a*(0x1c2d+-0x7e5*0x2+-0x120*0xb-(0x2*-0x359+-0x3*-0x1f6+0xd2)*_0x18732a));},'smootherstep'(_0x1ac9a7,_0x1a5bc6,_0x54e5a0){return _0x54e5a0<=_0x1ac9a7?0x3fe+0x58+-0x456:_0x54e5a0>=_0x1a5bc6?0x29*0xc7+-0x1*0x1493+-0x31*0x3b:(_0x54e5a0=(_0x54e5a0-_0x1ac9a7)/(_0x1a5bc6-_0x1ac9a7),_0x54e5a0*_0x54e5a0*_0x54e5a0*(_0x54e5a0*(_0x54e5a0*(0x199*-0x1+-0x3*0x2d+0x226)-(-0xafd+-0x1da+-0x1*-0xce6))+(0x5*-0x30d+-0x1*0x1309+0x2254)));},'roundUp'(_0x476ccd,_0x57d1df){return _0x57d1df===-0x15c3+-0x5bf*0x5+0x327e?_0x476ccd:Math['ceil'](_0x476ccd/_0x57d1df)*_0x57d1df;},'between'(_0x3fb741,_0x25e171,_0x28fe90,_0x413d83){const _0x1a44ab=Math['min'](_0x25e171,_0x28fe90),_0x56d7df=Math['max'](_0x25e171,_0x28fe90);return _0x413d83?_0x3fb741>=_0x1a44ab&&_0x3fb741<=_0x56d7df:_0x3fb741>_0x1a44ab&&_0x3fb741<_0x56d7df;}},it=class it{constructor(_0x501e3b=-0x1*-0x1ebd+0x244e+0x3*-0x1659,_0x257898=0x790+-0x237e+0x226*0xd,_0x57e1b6=-0xdbb+-0xa0d+0x17c8,_0x568c69=-0x23bd+0x1de2+0x5dc){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x19f447=_0x501e3b['length'];_0x19f447===-0x18*0xa3+0x2496+-0x154b||_0x19f447===0x1495+0x135*0xd+-0x2442?(this['r']=_0x501e3b[-0x2390+-0x15d7+0x3967],this['g']=_0x501e3b[-0x1*0x977+-0x4*0xf2+0xd40],this['b']=_0x501e3b[0x3*-0x822+0xbfa+0x4a*0x2b],this['a']=_0x501e3b[-0x782+-0x3*-0x2d2+-0xf1]??0x5c*0x30+-0xab6*0x2+-0x1*-0x42d):(this['r']=_0x501e3b,this['g']=_0x257898,this['b']=_0x57e1b6,this['a']=_0x568c69);}['clone'](){const _0x4d4af6=this['constructo'+'r'];return new _0x4d4af6(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x4d8a34){return this['r']=_0x4d8a34['r'],this['g']=_0x4d8a34['g'],this['b']=_0x4d8a34['b'],this['a']=_0x4d8a34['a'],this;}['equals'](_0x33de4e){return this['r']===_0x33de4e['r']&&this['g']===_0x33de4e['g']&&this['b']===_0x33de4e['b']&&this['a']===_0x33de4e['a'];}['set'](_0x14b258,_0x1c4909,_0x59b8e1,_0x3c356a=-0x1*0xceb+-0x1f91*-0x1+0x3*-0x637){return this['r']=_0x14b258,this['g']=_0x1c4909,this['b']=_0x59b8e1,this['a']=_0x3c356a,this;}['lerp'](_0x366862,_0x4fdf44,_0x194c68){return this['r']=_0x366862['r']+_0x194c68*(_0x4fdf44['r']-_0x366862['r']),this['g']=_0x366862['g']+_0x194c68*(_0x4fdf44['g']-_0x366862['g']),this['b']=_0x366862['b']+_0x194c68*(_0x4fdf44['b']-_0x366862['b']),this['a']=_0x366862['a']+_0x194c68*(_0x4fdf44['a']-_0x366862['a']),this;}['linear'](_0x1d9d21=this){return this['r']=Math['pow'](_0x1d9d21['r'],-0x65*-0x17+-0xe27*-0x2+-0x1*0x255f+0.20000000000000018),this['g']=Math['pow'](_0x1d9d21['g'],-0x169b+0xfe3*0x2+0x43*-0x23+0.20000000000000018),this['b']=Math['pow'](_0x1d9d21['b'],0xb17+-0x1*-0xe16+-0x192b+0.20000000000000018),this['a']=_0x1d9d21['a'],this;}['gamma'](_0x438ef3=this){return this['r']=Math['pow'](_0x438ef3['r'],(-0x1*0x20ab+0x449+-0xd*-0x22f)/(0x20f5+-0x391*0x1+-0x1d62+0.20000000000000018)),this['g']=Math['pow'](_0x438ef3['g'],(0x1710+0x2fe*-0x3+-0xe15)/(-0x44c+0x6df*-0x1+0xb2d+0.20000000000000018)),this['b']=Math['pow'](_0x438ef3['b'],(0x4cf*-0x3+0x4*-0x6d9+0x29d2)/(-0x178f+-0x2*0x98f+0x2aaf*0x1+0.20000000000000018)),this['a']=_0x438ef3['a'],this;}['mulScalar'](_0x16d7fa){return this['r']*=_0x16d7fa,this['g']*=_0x16d7fa,this['b']*=_0x16d7fa,this;}['fromString'](_0x29d55e){const _0x3a215e=parseInt(_0x29d55e['replace']('#','0x'),0x92b+0x12f2+-0x1c0d);let _0x49767c;return _0x29d55e['length']>0x1*-0x2267+0x2*-0x111b+0x2e*0x17e?_0x49767c=N['intToBytes'+'32'](_0x3a215e):(_0x49767c=N['intToBytes'+'24'](_0x3a215e),_0x49767c[-0x9*0x12d+0x1940+0x4*-0x3aa]=-0x10f1+0x931+-0x1*-0x8bf),this['set'](_0x49767c[0x153*-0x2+-0x3ef*0x5+0x1*0x1651]/(0xffe*0x1+-0x6b2+0x1a9*-0x5),_0x49767c[-0xaff*0x1+-0x3*0x673+0x1e59]/(-0x1d73+0x10c4+0xdae),_0x49767c[-0x1*0xe78+-0x134e+0x21c8]/(0x6*0x2f1+0x7*0x425+-0x2daa),_0x49767c[-0x11f1+0x1453+-0x25f]/(0x1*-0x264+-0x13*0x1bd+0x246a)),this;}['fromArray'](_0x1278f6,_0x4f488e=-0x7*0x6b+0x5d2+-0x2e5){return this['r']=_0x1278f6[_0x4f488e]??this['r'],this['g']=_0x1278f6[_0x4f488e+(0xeca*0x1+0x1bc1+0x441*-0xa)]??this['g'],this['b']=_0x1278f6[_0x4f488e+(-0xd12*-0x1+0x61*0x52+-0x2c22)]??this['b'],this['a']=_0x1278f6[_0x4f488e+(-0x2f*0x53+0x157c+0x18f*-0x4)]??this['a'],this;}['toString'](_0x4121c9,_0x5e4d5f){const {r:_0x208ce4,g:_0x5dd1ab,b:_0x54a46d,a:_0x3136d1}=this;if(_0x5e4d5f||_0x208ce4>0x2*-0x1267+0x11*0xcd+-0xb99*-0x2||_0x5dd1ab>0x22df+-0x1*0xa13+0x1*-0x18cb||_0x54a46d>-0xd6*-0x22+-0xb0+-0x1bbb)return _0x208ce4['toFixed'](0x25*-0xed+0x22f3+-0xaf)+',\x20'+_0x5dd1ab['toFixed'](0x988+-0x1cd2+0x134d)+',\x20'+_0x54a46d['toFixed'](-0x563+-0x17*0xdd+-0xf*-0x1af)+',\x20'+_0x3136d1['toFixed'](-0x2cf*-0x4+0x65e+-0x39*0x4f);let _0x449977='#'+((-0x1*0x464+-0x2*0xbe5+-0x1c2f*-0x1<<-0xb67+0x2*-0x1ca+0xf13)+(Math['round'](_0x208ce4*(0x1*0x1e1b+0x1a*-0xd3+-0x7ae*0x1))<<0x1*-0x131+-0x3d*-0x73+-0x2*0xd13)+(Math['round'](_0x5dd1ab*(0x1*0x2da+0x152b+0x34a*-0x7))<<0xdc7*-0x2+-0x1*-0x1641+-0x3*-0x1c7)+Math['round'](_0x54a46d*(-0x976+-0x28e*-0x8+0x1ff*-0x5)))['toString'](0x1740+-0x5d1+-0x115f*0x1)['slice'](-0x8cb*0x3+-0x229d+-0xc33*-0x5);if(_0x4121c9===!(0x26ea+0x1*-0x2074+-0x676)){const _0x39305e=Math['round'](_0x3136d1*(-0x65*0x49+0x1*0x1909+0x35*0x17))['toString'](0x14cc+-0xb6e*-0x2+0x14*-0x22e);this['a']<(-0x854+-0x1*-0x1279+-0xa15)/(0x708+0x8db*-0x1+0x2d2)?_0x449977+='0'+_0x39305e:_0x449977+=_0x39305e;}return _0x449977;}['toArray'](_0x158966=[],_0x3a8277=0x18*-0xa4+0x204a+-0x1*0x10ea,_0x397983=!(-0xc59+0x23dd*-0x1+0x3036)){return _0x158966[_0x3a8277]=this['r'],_0x158966[_0x3a8277+(-0x11b*-0xd+-0x76f+0x6ef*-0x1)]=this['g'],_0x158966[_0x3a8277+(0x208e+0x1d1e+-0x3daa)]=this['b'],_0x397983&&(_0x158966[_0x3a8277+(0x3*0x439+0x1ebd+0x1*-0x2b65)]=this['a']),_0x158966;}};c(it,'BLACK',Object['freeze'](new it(-0x1737+0xfb3*0x1+0x784,0x86f+-0x258+-0x617,-0x20c*-0xc+0x1f28+-0x37b8,0x77c+-0x124f+0x56a*0x2))),c(it,'BLUE',Object['freeze'](new it(0x10e9+0x1eb9*-0x1+0xdd0,-0x5*-0x36d+0x1*0x2395+0x3*-0x1192,-0x1d14+-0x13a8*-0x1+0x1*0x96d,-0x3e0+-0x1749*-0x1+0xb8*-0x1b))),c(it,'CYAN',Object['freeze'](new it(-0x1b2a+-0x88*0x2b+-0x15a*-0x25,0x1b0*-0x4+-0x16*0x86+0x1245,0x1ade+-0x153b+-0x5a2,0x213*-0xb+0x3*0x303+-0xdc9*-0x1))),c(it,'GRAY',Object['freeze'](new it(-0x247c+-0x5*0x5af+0x40e7+0.5,-0x117+0x89*0x29+-0x22*0x9d+0.5,-0x10*0xeb+0x7*-0x571+0xe5*0x3b+0.5,0x9*-0x3f+0x1f8e+0xa*-0x2ef))),c(it,'GREEN',Object['freeze'](new it(-0x1806+0x18d6+0xd*-0x10,-0x3fe*-0x7+-0x563*-0x5+-0x36e0,0x6*-0x5e7+-0x15ad+0x3917,-0x1*-0x2121+0x39*-0x16+-0x1c3a*0x1))),c(it,'MAGENTA',Object['freeze'](new it(0x65b+-0x1f16+0x18bc,0x228e+0x105*0x1a+-0x3d10,-0x1*0x1dba+-0x26*-0x1b+-0x525*-0x5,-0x250b+-0x3*0x611+0x373f))),c(it,'RED',Object['freeze'](new it(0x89*0x5+0xe5e*0x2+-0x10c*0x1e,0xd*0x18d+0x44d*-0x1+-0xfdc,-0xe73*0x1+0x1ea6+-0x1033,-0x168c+0x6b5+-0x152*-0xc))),c(it,'WHITE',Object['freeze'](new it(-0x18c8+-0x1cbd+0x3586,0x24c9+-0x7cd*-0x2+0x1176*-0x3,0x1b3*0xa+0x1b6*-0xe+-0x6f7*-0x1,0x10*0x100+0x21ad+-0x31ac))),c(it,'YELLOW',Object['freeze'](new it(0xe99+-0x1a*-0x6a+-0x195c,0x35*-0x2e+0x9*-0x1cd+-0x36*-0x7a,0x1385*0x2+0x1abe+0x8*-0x839,0x82c+0x301*0x1+-0xb2c)));let Y=it;class ly{constructor(_0x48e3b2,_0x32db56=0x239f+0x916+-0x2cb5){c(this,'_curve'),c(this,'_left',-(0xf3b+0x232a+-0x1*0x3264)/(-0x8d6+0xda1*0x1+0x3*-0x199)),c(this,'_right',(-0x104e+-0x1cf9*0x1+0x2d48)/(0x7f*0x26+-0x1971+0x697)),c(this,'_recip',0xbf0+-0x2562+0x1972),c(this,'_p0',-0x36*-0x9a+0x1f*-0xc2+0x2*-0x47f),c(this,'_p1',-0x1*0xd0d+-0x1*-0xaab+0x262),c(this,'_m0',-0x1*0x1241+0x18d*-0x6+-0x1*-0x1b8f),c(this,'_m1',0x90a+-0x653+-0x5*0x8b),(this['_curve']=_0x48e3b2,this['_reset'](_0x32db56));}['evaluate'](_0x42aa41,_0x3caf52=!(-0x4fc+0x1943*0x1+0x2*-0xa23)){(_0x3caf52||_0x42aa41<this['_left']||_0x42aa41>=this['_right'])&&this['_reset'](_0x42aa41);let _0x15acbc;const _0x4b6e6a=this['_curve']['type'];if(_0x4b6e6a===SS)_0x15acbc=this['_p0'];else{const _0x3fe1a6=this['_recip']===-0x1425+0x1*-0x12e2+0x2707?0x3*0x890+-0x25*0xa3+0x221*-0x1:(_0x42aa41-this['_left'])*this['_recip'];_0x4b6e6a===xS?_0x15acbc=N['lerp'](this['_p0'],this['_p1'],_0x3fe1a6):_0x4b6e6a===Df?_0x15acbc=N['lerp'](this['_p0'],this['_p1'],_0x3fe1a6*_0x3fe1a6*(0x112+0x78e*-0x4+-0x5*-0x5d5-(0x2*-0x6f7+-0x4*0x676+0x10c*0x26)*_0x3fe1a6)):_0x15acbc=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x3fe1a6);}return _0x15acbc;}['_reset'](_0x48a27d){const _0x431b3b=this['_curve']['keys'],_0x429645=_0x431b3b['length'];if(!_0x429645)this['_left']=-(-0x855+0x22a2+0x21*-0xcc)/(0xaa*-0x29+0x8b0+0x153*0xe),this['_right']=(0x1be+-0x6a*-0xe+-0x1*0x789)/(-0x1398+0x4cf*-0x2+0x1d36),this['_recip']=0x1ac7+-0x6e0+-0x13e7,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x1b25*0x1+0x4*0x196+0x14cd;else{if(_0x48a27d<_0x431b3b[-0x1*-0x2e7+-0x18d7+-0x138*-0x12][-0x29*0x1d+-0x10*-0x66+-0x1bb])this['_left']=-(0x899*0x1+-0x19bc+0x449*0x4)/(0x121*0x3+-0x2349+-0x551*-0x6),this['_right']=_0x431b3b[-0x17*-0x128+0x2f*0x98+-0x3680][0x13be+-0x51*-0x76+0x2*-0x1c8a],this['_recip']=-0x11a5*0x1+-0xbf3+0x1d98,this['_p0']=this['_p1']=_0x431b3b[0x23*0x2e+-0xe*0xb2+0x2a*0x15][-0x868+-0x2158+-0x1*-0x29c1],this['_m0']=this['_m1']=0x227e+-0x5*-0x5c1+0x4f*-0xcd;else{if(_0x48a27d>=_0x431b3b[_0x429645-(0x61*-0x19+-0x3*-0x50f+-0x5b3)][0x2511+0x13e2*0x1+0x38f3*-0x1])this['_left']=_0x431b3b[_0x429645-(-0x1*-0x137d+0x5c6+-0x3d*0x6a)][-0x3d*0x1d+-0x125d+0x1946],this['_right']=(-0x4*0x9c+-0x6f1*-0x3+-0x1262)/(0x2*0x1354+-0x1424+-0x1284),this['_recip']=0xf*-0x27+-0x95a*0x2+0x6ff*0x3,this['_p0']=this['_p1']=_0x431b3b[_0x429645-(0x1*0x2348+-0x3*-0x698+-0x370f)][0x2*-0x46a+-0x2020+0x28f5],this['_m0']=this['_m1']=-0x1f*0x9c+-0x29*0xe9+-0x1*-0x3835;else{let _0x2d58db=0x5cb*-0x3+-0x7b7+-0x2*-0xc8c;for(;_0x48a27d>=_0x431b3b[_0x2d58db+(0x18e3+-0x885+0x47*-0x3b)][-0xc+0x1*-0xf53+0x1*0xf5f];)_0x2d58db++;this['_left']=_0x431b3b[_0x2d58db][0x241b+0x5*-0x1b3+-0x26*0xba],this['_right']=_0x431b3b[_0x2d58db+(0x9f0+-0xdf8+0x409)][0x33*-0x44+0x22f+0xb5d];const _0x1a86b5=(-0x1872+-0x11f6+0xe7*0x2f)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x1a86b5)?_0x1a86b5:0x1e04+0xdf*-0x9+-0x162d,this['_p0']=_0x431b3b[_0x2d58db][0x2*0x12d1+0xe1*-0x9+-0xc*0x27a],this['_p1']=_0x431b3b[_0x2d58db+(-0x1*0x1d7d+0x3*0x458+0x2*0x83b)][0x23dd*0x1+0x85f+-0x2c3b],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x431b3b,_0x2d58db);}}}}['_calcTange'+'nts'](_0x33767a,_0x5bd9ab){let _0x552dbc;const _0x20ae27=_0x33767a[_0x5bd9ab],_0x1cbb2e=_0x33767a[_0x5bd9ab+(-0x955+-0x42d*-0x7+-0x13e5*0x1)];let _0x2f3730;if(_0x5bd9ab===0x16*0x12+-0x3*0xcfb+-0xc77*-0x3?_0x552dbc=[_0x33767a[0x1bb0+-0x1c12+0x62][-0x2575+-0x1*-0x1c21+0x3*0x31c]+(_0x33767a[0x1ae6+0x5e8+-0x1*0x20ce][-0x1b7*0xf+0x11*-0x97+0x23c0]-_0x33767a[0x3d8*-0xa+0x1563+0x25*0x76][-0x10e5*0x2+-0xb36+0x2d00]),_0x33767a[0x7a7+0x7c*0x22+0x4d3*-0x5][0x12*-0xc1+0x954+0x43f]+(_0x33767a[-0x14*0x4+-0x5*0x139+0x149*0x5][0x16b4+-0x1f50+0x13b*0x7]-_0x33767a[0x2*0xdbf+0x2025+0x22*-0x1c1][-0x1099+-0x97*0x2b+0x1*0x29f7])]:_0x552dbc=_0x33767a[_0x5bd9ab-(-0x2df+-0x1d67+-0x1*-0x2047)],_0x5bd9ab===_0x33767a['length']-(-0x209d*-0x1+0xeab+-0x2f46)?_0x2f3730=[_0x33767a[_0x5bd9ab+(-0x2235+0x22f7+-0x1*0xc1)][-0x2676+-0x18c+0x1401*0x2]+(_0x33767a[_0x5bd9ab+(0x13d*0x9+-0x590+-0x594)][-0x120b+-0x2266+-0x3471*-0x1]-_0x33767a[_0x5bd9ab][0x7*0x55d+-0xa*-0xb+-0x25f9]),_0x33767a[_0x5bd9ab+(-0x1c46*-0x1+-0x1*0x1a8a+-0x1bb)][-0x1a1f*0x1+0x134*0x1d+0x462*-0x2]+(_0x33767a[_0x5bd9ab+(0x3*0xaf2+0x162d+-0x3702)][-0x634+0xc31*0x3+0xf2f*-0x2]-_0x33767a[_0x5bd9ab][0x1825+0x9*0x3b5+-0x3981])]:_0x2f3730=_0x33767a[_0x5bd9ab+(-0x1d51+-0x1c2+0x1f15)],this['_curve']['type']===sm){const _0xa9d22f=(0x1ecd+-0xbca+0x8b*-0x23)*(_0x1cbb2e[0x6c7+0x11e3+-0xb*0x23e]-_0x20ae27[0xa*0x314+-0x1*0x148+-0x1d80])/(_0x1cbb2e[-0x17*-0x14d+-0x1157+-0xc94]-_0x552dbc[0x23d2+0x24fb+0x1*-0x48cd]),_0x2dc8c7=(0x607*0x4+-0xa10+-0xe0a)*(_0x1cbb2e[-0x4*-0x344+-0x1b20+0xe10]-_0x20ae27[0x1*-0xe3b+-0xba+0xef5])/(_0x2f3730[-0x7d6+0x23*0x13+0x53d]-_0x20ae27[0xa31+0x24ad*0x1+0x2*-0x176f]);this['_m0']=this['_curve']['tension']*(isFinite(_0xa9d22f)?_0xa9d22f:-0x1777+0x5*-0x6da+0x39b9)*(_0x1cbb2e[0x18f5+0x1d86+-0x16f*0x26]-_0x552dbc[-0x2*0xab+-0x1d4b+0x1ea2]),this['_m1']=this['_curve']['tension']*(isFinite(_0x2dc8c7)?_0x2dc8c7:-0x9e2+0x1f3b+0x445*-0x5)*(_0x2f3730[0x10cb+0x1*0x244e+0x6a3*-0x8]-_0x20ae27[-0xfc4+0x1*-0xd0+0x1095]);}else{const _0x5bf62c=(_0x1cbb2e[-0xc2*-0x30+0xa96+0x2*-0x177b]-_0x20ae27[0x217f+-0xd*0x5+-0x213e])/(_0x20ae27[0x1722+0x9e6*0x2+-0x2aee]-_0x552dbc[0x25*0x49+-0x1*0x2c2+-0x7cb]),_0x45c387=(_0x1cbb2e[0x20e1*-0x1+0xb51+0x170*0xf]-_0x20ae27[-0x6d1+0x1*0x1d71+-0x16a0])/(_0x2f3730[-0x1a0+-0xa4+0x91*0x4]-_0x1cbb2e[0x63a+-0xefb*0x2+0x17bc]),_0x4841bc=_0x20ae27[-0x43*-0x4a+-0x2*-0x1003+-0x3363]+(_0x552dbc[-0x2*0x629+0x14bf*-0x1+-0x66*-0x53]-_0x20ae27[-0xf90+0x1af*0x1+-0x6f1*-0x2])*(isFinite(_0x5bf62c)?_0x5bf62c:0x25f2+-0xc1c+-0x19d6),_0x7ab5a4=_0x1cbb2e[0x1e05+0x2b*0xb1+-0x3bbf]+(_0x2f3730[0x2*-0x53+-0x488+0x52f]-_0x1cbb2e[0x151*-0x11+0x2352+-0xcf0])*(isFinite(_0x45c387)?_0x45c387:-0x237c+0xe45+-0x1537*-0x1),_0x22d833=this['_curve']['tension'];this['_m0']=_0x22d833*(_0x1cbb2e[0xedc+0x2*-0x58+-0xe2b]-_0x4841bc),this['_m1']=_0x22d833*(_0x7ab5a4-_0x20ae27[0x9a3*-0x2+-0x778+-0x1abf*-0x1]);}}['_evaluateH'+'ermite'](_0x37fb94,_0x2988d8,_0x3a0369,_0x1d0af1,_0x19f3a8){const _0x380dcc=_0x19f3a8*_0x19f3a8,_0x1e3982=_0x19f3a8+_0x19f3a8,_0x40c11f=0x1*0x12ad+0x9c+-0x1348-_0x19f3a8,_0x1e868b=_0x40c11f*_0x40c11f;return _0x37fb94*((-0x1cf*-0x3+-0x23b3+0x1*0x1e47+_0x1e3982)*_0x1e868b)+_0x3a0369*(_0x19f3a8*_0x1e868b)+_0x2988d8*(_0x380dcc*(0x84d+0x191f*0x1+0x3*-0xb23-_0x1e3982))+_0x1d0af1*(_0x380dcc*(_0x19f3a8-(-0x2301+-0x1670+0x3972)));}}class Cs{constructor(_0xc6d4d2){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',-0x643*0x6+0x1737+0xe5b+0.5),c(this,'_eval',new ly(this));if(_0xc6d4d2){for(let _0x2910fc=0x1*-0x2173+0x1f2a+0x249;_0x2910fc<_0xc6d4d2['length']-(-0x21a3+-0x261f*-0x1+-0x47b);_0x2910fc+=-0x13c2+-0xd*-0x222+-0x7f6*0x1)this['keys']['push']([_0xc6d4d2[_0x2910fc],_0xc6d4d2[_0x2910fc+(-0xac7+-0x18d3+-0x71f*-0x5)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x131e9f,_0x500487){const _0x269d54=this['keys'],_0x2fe6ad=_0x269d54['length'];let _0xb227d=0x1*-0x413+-0x6cd*-0x2+-0x987;for(;_0xb227d<_0x2fe6ad&&!(_0x269d54[_0xb227d][-0x1843*0x1+0x445*-0x2+0x1b*0x137]>_0x131e9f);_0xb227d++);const _0x28f325=[_0x131e9f,_0x500487];return this['keys']['splice'](_0xb227d,0x3b6+0x893+-0xc49,_0x28f325),_0x28f325;}['get'](_0x2bab14){return this['keys'][_0x2bab14];}['sort'](){this['keys']['sort']((_0x49bc3a,_0x284de8)=>_0x49bc3a[0xef0+0x1*0x22c7+-0x31b7]-_0x284de8[0x1763+-0x100a*-0x1+0x1*-0x276d]);}['value'](_0xbb450e){return this['_eval']['evaluate'](_0xbb450e,!(0x1d2e+-0x52*0x5+-0x1b94));}['closest'](_0x17a7d6){const _0x1b48c8=this['keys'],_0x5102d9=_0x1b48c8['length'];let _0x21ffff=-0x1*-0x39b+-0x2*-0xeca+-0x212d,_0xc00b98=null;for(let _0x144787=-0xb60+-0x11dc+0x1d3c;_0x144787<_0x5102d9;_0x144787++){const _0xfa4c77=Math['abs'](_0x17a7d6-_0x1b48c8[_0x144787][0x11b*0x1+-0x1949*0x1+0x2*0xc17]);if(_0x21ffff>=_0xfa4c77)_0x21ffff=_0xfa4c77,_0xc00b98=_0x1b48c8[_0x144787];else break;}return _0xc00b98;}['clone'](){const _0x1e8071=new this['constructo'+'r']();return _0x1e8071['keys']=this['keys']['map'](_0x4e2214=>[..._0x4e2214]),_0x1e8071['type']=this['type'],_0x1e8071['tension']=this['tension'],_0x1e8071;}['quantize'](_0x5e47f0){_0x5e47f0=Math['max'](_0x5e47f0,0x132a*0x1+-0x114*0x1+-0x1214);const _0x2a8ad6=new Float32Array(_0x5e47f0),_0x35565a=(-0x71*0x4c+0x2*0xb65+0xac3*0x1)/(_0x5e47f0-(0x8c3+0x1d75*0x1+-0x2637));_0x2a8ad6[0xc2f+-0x6fc+-0x533]=this['_eval']['evaluate'](0x1d7a+-0x1cb2+0x4*-0x32,!(-0x1*-0x19ab+-0x1c81+0x2d6));for(let _0x35576a=0x1*-0x21bd+-0x65*-0x53+0xff;_0x35576a<_0x5e47f0;_0x35576a++)_0x2a8ad6[_0x35576a]=this['_eval']['evaluate'](_0x35565a*_0x35576a);return _0x2a8ad6;}['quantizeCl'+'amped'](_0x43c278,_0x253004,_0x4dc80e){const _0x8ce7da=this['quantize'](_0x43c278);for(let _0x2f97b9=0x2033+0xd*-0x11b+-0x11d4;_0x2f97b9<_0x8ce7da['length'];++_0x2f97b9)_0x8ce7da[_0x2f97b9]=Math['min'](_0x4dc80e,Math['max'](_0x253004,_0x8ce7da[_0x2f97b9]));return _0x8ce7da;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>-0x1*-0x829+-0x1ddb*0x1+0x15b3){for(let _0x3701b9=-0x8*-0x3c7+-0x22*0x62+-0x1134;_0x3701b9<arguments['length'];_0x3701b9++)this['curves']['push'](new Cs(arguments[_0x3701b9]));}else{if(arguments['length']===0x5cd*0x2+-0x1ec3+0x1329)this['curves']['push'](new Cs());else{const _0xb69f75=arguments[0x185*0x5+0x78d*0x5+-0x2d5a];if(typeof _0xb69f75=='number'){for(let _0x45fd10=-0xc03+-0x1*-0x1493+-0x224*0x4;_0x45fd10<_0xb69f75;_0x45fd10++)this['curves']['push'](new Cs());}else{for(let _0x748029=-0x2654+0x3a*-0x62+0x95*0x68;_0x748029<_0xb69f75['length'];_0x748029++)this['curves']['push'](new Cs(_0xb69f75[_0x748029]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x3ed2be){this['_type']=_0x3ed2be;for(let _0x3cd71e=0x1369+-0xd*-0x10d+-0x2112;_0x3cd71e<this['curves']['length'];_0x3cd71e++)this['curves'][_0x3cd71e]['type']=_0x3ed2be;}get['type'](){return this['_type'];}['get'](_0x4af0f3){return this['curves'][_0x4af0f3];}['value'](_0x19bae9,_0x5e0954=[]){const _0x5f322a=this['curves']['length'];_0x5e0954['length']=_0x5f322a;for(let _0x184796=-0x1b4b+0x1ffa+-0x4af;_0x184796<_0x5f322a;_0x184796++)_0x5e0954[_0x184796]=this['curves'][_0x184796]['value'](_0x19bae9);return _0x5e0954;}['clone'](){const _0xfb3017=new this['constructo'+'r']();_0xfb3017['curves']=[];for(let _0x4e8838=0xcc0+-0x1*0x17b1+-0x1*-0xaf1;_0x4e8838<this['curves']['length'];_0x4e8838++)_0xfb3017['curves']['push'](this['curves'][_0x4e8838]['clone']());return _0xfb3017['_type']=this['_type'],_0xfb3017;}['quantize'](_0x26d1d9){_0x26d1d9=Math['max'](_0x26d1d9,-0x2b*0x68+0x14e*-0x14+0x2b92);const _0x1a1eac=this['curves']['length'],_0x34acc9=new Float32Array(_0x26d1d9*_0x1a1eac),_0x519d7d=(0x797+0x13c9+0x1b5f*-0x1)/(_0x26d1d9-(0x1864+0x3*0x6dd+-0x2cfa));for(let _0x1e7238=-0x1f06+-0x18a8+-0x37ae*-0x1;_0x1e7238<_0x1a1eac;_0x1e7238++){const _0x99416c=new ly(this['curves'][_0x1e7238]);for(let _0x185bb1=0x1fc*0xc+-0x23d+-0x1593;_0x185bb1<_0x26d1d9;_0x185bb1++)_0x34acc9[_0x185bb1*_0x1a1eac+_0x1e7238]=_0x99416c['evaluate'](_0x519d7d*_0x185bb1);}return _0x34acc9;}['quantizeCl'+'amped'](_0x20c3b0,_0x2d49a3,_0x5bb89f){const _0x6eb92b=this['quantize'](_0x20c3b0);for(let _0x5a1161=-0x2*0x6bf+0x7*0x548+0xbbd*-0x2;_0x5a1161<_0x6eb92b['length'];++_0x5a1161)_0x6eb92b[_0x5a1161]=Math['min'](_0x5bb89f,Math['max'](_0x2d49a3,_0x6eb92b[_0x5a1161]));return _0x6eb92b;}}let im=-0x1*0xc5b+0x13ef+-0x78f;const id=(-0x3a0*0xa+0x1ecb*-0x1+0x430c)/(-0xf2*0x18+-0x9d9*0x3+0x353a*0x1),du=new Float32Array(-0x1*0x1591+-0x218c+-0xaa*-0x53),rm=new Int32Array(du['buffer']);class $t{static['float2Half'](_0x4c55d0){du[0x7b2+0x2*0x10bf+-0x2930]=_0x4c55d0;const _0x12ee1a=rm[-0x160a+-0x74b+0x1*0x1d55];let _0x1f7106=_0x12ee1a>>-0x19c*0x6+0x786+0x232&0x28d4+-0x5ad5*0x2+-0x1a*-0xa57,_0x3e9ea7=_0x12ee1a>>-0x3*0xa57+-0x1*-0x2539+0x4*-0x18a&0x9*-0x1+-0x6fe*-0x2+-0x5f4;const _0x47a76a=_0x12ee1a>>0xb7a+-0x1091+-0x1ba*-0x3&-0x989+0x3d8*-0x2+0x1238;return _0x47a76a<-0x1ab*-0x15+-0x1ff3*0x1+-0x1*0x2ad?_0x1f7106:_0x47a76a>-0x3*-0x69b+0x23cf+-0x3712?(_0x1f7106|=0x684b+-0x7f27*0x1+0x92dc,_0x1f7106|=(_0x47a76a===0x1a94+0xd32*0x1+-0x26c7?-0x18d2*0x1+-0x12df+0x2bb1:0x7d0+-0x201f*0x1+0x1850)&&_0x12ee1a&0xa39f4b+0x595ea*0x1+0x2*-0x149a9b,_0x1f7106):_0x47a76a<-0x3*0x263+0x9e*-0x1e+0x1a1e?(_0x3e9ea7|=-0x47d+0xdb4+-0x137,_0x1f7106|=(_0x3e9ea7>>0x2223+0x22a9*-0x1+0xf8-_0x47a76a)+(_0x3e9ea7>>0x1add+0x26e1+-0x414d-_0x47a76a&-0x1*0xbce+0x1186*0x2+0x1*-0x173d),_0x1f7106):(_0x1f7106|=_0x47a76a-(0x1f91*-0x1+0x23bf*0x1+0x1df*-0x2)<<-0x17*0x167+-0x10d*-0x2+-0x83*-0x3b|_0x3e9ea7>>-0xb*0x52+-0x238a+0x2711,_0x1f7106+=_0x3e9ea7&0xcec+-0x1e03+-0x4*-0x446,_0x1f7106);}static['float2Byte'+'s'](_0x3ac205,_0x251448,_0x4b3156,_0x48d93a){const _0x75ac1a=(-0xcb*-0x30+0x10db+-0x35ec)*_0x3ac205%(-0x266*0x4+-0x133a+0x1cd3);if(_0x251448[_0x4b3156+(0x5*0x271+-0x117*0x1d+0x1366)]=Math['round']((_0x3ac205%(0x373+-0xa50+-0x6de*-0x1)-id*_0x75ac1a)*(-0x24ed+0x2*-0xcaa+0x1fa0*0x2)),_0x48d93a>-0x3eb*0x5+-0x1673*0x1+0x2a0b){const _0x30cac4=(-0x12f7a+0x1*-0x1a714+0xad*0x5ab)*_0x3ac205%(-0x211*-0xb+-0x1*0x1b05+-0x44b*-0x1);if(_0x251448[_0x4b3156+(0x1*0x1caf+0x25cf*-0x1+-0x39*-0x29)]=Math['round']((_0x75ac1a-id*_0x30cac4)*(0x15d9+-0x1*0xc81+0x859*-0x1)),_0x48d93a>-0x176c+0x3*0x2a2+0x4*0x3e2){const _0x5c8535=(-0x259f*-0x683+-0xacec9a+0xb4f53c)*_0x3ac205%(-0x1cd5+-0x1f3f+0x3*0x1407);_0x251448[_0x4b3156+(0x10f3+0x10c1+0xe3*-0x26)]=Math['round']((_0x30cac4-id*_0x5c8535)*(0x2ec*-0x3+-0xb33+-0x14f6*-0x1)),_0x48d93a>-0x3bb*-0x5+-0x1ee4+0xc40&&(_0x251448[_0x4b3156+(0x45c+-0x20*0xe0+-0x361*-0x7)]=Math['round'](_0x5c8535*(0x21e7+0x4bf*0x7+-0x63*0xab)));}}}static['float2Byte'+'sRange'](_0x384528,_0x328d71,_0x5b4425,_0x306628,_0x511d78,_0x53995b){(_0x384528<_0x306628||_0x384528>_0x511d78)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x384528=N['clamp']((_0x384528-_0x306628)/(_0x511d78-_0x306628),-0x6d4+0x7b7*0x2+-0x89a,-0x807+0x1*-0x7c5+0xfcd),$t['float2Byte'+'s'](_0x384528,_0x328d71,_0x5b4425,_0x53995b);}static['float2RGBA'+'8'](_0xf9c64,_0x23df44){du[0x2331+-0x33d+-0x1ff4]=_0xf9c64;const _0x2f19de=rm[0x54d*0x5+-0x133*0x7+-0x121c];_0x23df44['r']=(_0x2f19de>>0x6c6+0x23c6+-0x2a74&-0x22d2*-0x1+-0x10be+-0x1115)/(-0x1b0+-0x35*0x71+0x1a14),_0x23df44['g']=(_0x2f19de>>-0x4*-0x8f4+0xed4+-0x3294&-0x6e1+0x76d*-0x1+0xf4d)/(0x16ac*-0x1+-0x8e1+0x208c),_0x23df44['b']=(_0x2f19de>>0x53c+-0x721*0x3+-0x102f*-0x1&0xba8+-0x1*-0xf5c+-0x1a05*0x1)/(-0x1*0x3f5+-0x13c5+-0x18b9*-0x1),_0x23df44['a']=(_0x2f19de&0x1*-0x260b+-0x6a*-0x23+0x188c)/(-0x1b22+-0x77b+0x239c);}}const rt=class rt{constructor(_0x4c7cf1=-0x21*-0x8f+0x8*-0x1ab+-0x517,_0x1ad531=0x369*-0xb+-0xec*-0x4+0x21d3,_0x388ac7=0x8a9+-0x3*-0x746+-0x1e7b){c(this,'x'),c(this,'y'),c(this,'z'),_0x4c7cf1['length']===-0x96b*0x1+-0x7*0x205+-0x7db*-0x3?(this['x']=_0x4c7cf1[0x1*-0x20fd+0x61*0x4f+0x30e],this['y']=_0x4c7cf1[0x1d8d+-0x1e1*-0x1+-0x1f6d],this['z']=_0x4c7cf1[-0x1b8a+0x11*0xb3+-0x1*-0xfa9]):(this['x']=_0x4c7cf1,this['y']=_0x1ad531,this['z']=_0x388ac7);}['add'](_0x1447e9){return this['x']+=_0x1447e9['x'],this['y']+=_0x1447e9['y'],this['z']+=_0x1447e9['z'],this;}['add2'](_0x147cd3,_0x487875){return this['x']=_0x147cd3['x']+_0x487875['x'],this['y']=_0x147cd3['y']+_0x487875['y'],this['z']=_0x147cd3['z']+_0x487875['z'],this;}['addScalar'](_0xb275b6){return this['x']+=_0xb275b6,this['y']+=_0xb275b6,this['z']+=_0xb275b6,this;}['addScaled'](_0x403cea,_0x4484c3){return this['x']+=_0x403cea['x']*_0x4484c3,this['y']+=_0x403cea['y']*_0x4484c3,this['z']+=_0x403cea['z']*_0x4484c3,this;}['clone'](){const _0x18da45=this['constructo'+'r'];return new _0x18da45(this['x'],this['y'],this['z']);}['copy'](_0xa4333b){return this['x']=_0xa4333b['x'],this['y']=_0xa4333b['y'],this['z']=_0xa4333b['z'],this;}['cross'](_0x6fcc1a,_0x196d0b){const _0x5192c5=_0x6fcc1a['x'],_0x56c0c4=_0x6fcc1a['y'],_0x4c3ada=_0x6fcc1a['z'],_0x3ae48f=_0x196d0b['x'],_0x2c828a=_0x196d0b['y'],_0x3b1df9=_0x196d0b['z'];return this['x']=_0x56c0c4*_0x3b1df9-_0x2c828a*_0x4c3ada,this['y']=_0x4c3ada*_0x3ae48f-_0x3b1df9*_0x5192c5,this['z']=_0x5192c5*_0x2c828a-_0x3ae48f*_0x56c0c4,this;}['distance'](_0x2d3165){const _0x4ce3ae=this['x']-_0x2d3165['x'],_0x56b132=this['y']-_0x2d3165['y'],_0x524b41=this['z']-_0x2d3165['z'];return Math['sqrt'](_0x4ce3ae*_0x4ce3ae+_0x56b132*_0x56b132+_0x524b41*_0x524b41);}['div'](_0x148e1f){return this['x']/=_0x148e1f['x'],this['y']/=_0x148e1f['y'],this['z']/=_0x148e1f['z'],this;}['div2'](_0x55f55c,_0x485b22){return this['x']=_0x55f55c['x']/_0x485b22['x'],this['y']=_0x55f55c['y']/_0x485b22['y'],this['z']=_0x55f55c['z']/_0x485b22['z'],this;}['divScalar'](_0x269ee1){return this['x']/=_0x269ee1,this['y']/=_0x269ee1,this['z']/=_0x269ee1,this;}['dot'](_0x156df3){return this['x']*_0x156df3['x']+this['y']*_0x156df3['y']+this['z']*_0x156df3['z'];}['equals'](_0x56a63c){return this['x']===_0x56a63c['x']&&this['y']===_0x56a63c['y']&&this['z']===_0x56a63c['z'];}['equalsAppr'+'ox'](_0x55ffa2,_0xaac84=0x1*-0xa81+-0x2*0x7c0+-0x3*-0x8ab+0.000001){return Math['abs'](this['x']-_0x55ffa2['x'])<_0xaac84&&Math['abs'](this['y']-_0x55ffa2['y'])<_0xaac84&&Math['abs'](this['z']-_0x55ffa2['z'])<_0xaac84;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x4d6ce9,_0x20749e,_0x7d244f){return this['x']=_0x4d6ce9['x']+_0x7d244f*(_0x20749e['x']-_0x4d6ce9['x']),this['y']=_0x4d6ce9['y']+_0x7d244f*(_0x20749e['y']-_0x4d6ce9['y']),this['z']=_0x4d6ce9['z']+_0x7d244f*(_0x20749e['z']-_0x4d6ce9['z']),this;}['mul'](_0x3be598){return this['x']*=_0x3be598['x'],this['y']*=_0x3be598['y'],this['z']*=_0x3be598['z'],this;}['mul2'](_0x4dae72,_0x260e53){return this['x']=_0x4dae72['x']*_0x260e53['x'],this['y']=_0x4dae72['y']*_0x260e53['y'],this['z']=_0x4dae72['z']*_0x260e53['z'],this;}['mulScalar'](_0x594b16){return this['x']*=_0x594b16,this['y']*=_0x594b16,this['z']*=_0x594b16,this;}['normalize'](_0x46b4f5=this){const _0x434437=_0x46b4f5['x']*_0x46b4f5['x']+_0x46b4f5['y']*_0x46b4f5['y']+_0x46b4f5['z']*_0x46b4f5['z'];if(_0x434437>0xe*-0x22a+-0x1*0x1693+-0x34df*-0x1){const _0x4e034a=(-0x2185+-0x2aa*0x9+-0xb8*-0x50)/Math['sqrt'](_0x434437);this['x']=_0x46b4f5['x']*_0x4e034a,this['y']=_0x46b4f5['y']*_0x4e034a,this['z']=_0x46b4f5['z']*_0x4e034a;}return this;}['floor'](_0x1eb736=this){return this['x']=Math['floor'](_0x1eb736['x']),this['y']=Math['floor'](_0x1eb736['y']),this['z']=Math['floor'](_0x1eb736['z']),this;}['ceil'](_0x4766cf=this){return this['x']=Math['ceil'](_0x4766cf['x']),this['y']=Math['ceil'](_0x4766cf['y']),this['z']=Math['ceil'](_0x4766cf['z']),this;}['round'](_0x556878=this){return this['x']=Math['round'](_0x556878['x']),this['y']=Math['round'](_0x556878['y']),this['z']=Math['round'](_0x556878['z']),this;}['min'](_0x3a6ec1){return _0x3a6ec1['x']<this['x']&&(this['x']=_0x3a6ec1['x']),_0x3a6ec1['y']<this['y']&&(this['y']=_0x3a6ec1['y']),_0x3a6ec1['z']<this['z']&&(this['z']=_0x3a6ec1['z']),this;}['max'](_0x1c9847){return _0x1c9847['x']>this['x']&&(this['x']=_0x1c9847['x']),_0x1c9847['y']>this['y']&&(this['y']=_0x1c9847['y']),_0x1c9847['z']>this['z']&&(this['z']=_0x1c9847['z']),this;}['project'](_0x419878){const _0x4f0dba=this['x']*_0x419878['x']+this['y']*_0x419878['y']+this['z']*_0x419878['z'],_0x1b99ff=_0x419878['x']*_0x419878['x']+_0x419878['y']*_0x419878['y']+_0x419878['z']*_0x419878['z'],_0x59a3b9=_0x4f0dba/_0x1b99ff;return this['x']=_0x419878['x']*_0x59a3b9,this['y']=_0x419878['y']*_0x59a3b9,this['z']=_0x419878['z']*_0x59a3b9,this;}['set'](_0x4ef80a,_0x15ed3a,_0x11d4cf){return this['x']=_0x4ef80a,this['y']=_0x15ed3a,this['z']=_0x11d4cf,this;}['sub'](_0xc00a6d){return this['x']-=_0xc00a6d['x'],this['y']-=_0xc00a6d['y'],this['z']-=_0xc00a6d['z'],this;}['sub2'](_0x58f877,_0x3b6fb5){return this['x']=_0x58f877['x']-_0x3b6fb5['x'],this['y']=_0x58f877['y']-_0x3b6fb5['y'],this['z']=_0x58f877['z']-_0x3b6fb5['z'],this;}['subScalar'](_0x2a10d4){return this['x']-=_0x2a10d4,this['y']-=_0x2a10d4,this['z']-=_0x2a10d4,this;}['fromArray'](_0x3af813,_0x4143d7=-0x1a59+-0xf5*0x2+0x1c43){return this['x']=_0x3af813[_0x4143d7]??this['x'],this['y']=_0x3af813[_0x4143d7+(-0x294+0x232b+-0x2096)]??this['y'],this['z']=_0x3af813[_0x4143d7+(0xa60+-0x2f5*-0x2+-0x1048)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x36e315=[],_0x168c25=-0x7ca+-0x1*-0x216d+-0x19a3){return _0x36e315[_0x168c25]=this['x'],_0x36e315[_0x168c25+(-0x19f3+-0x5cc+0x8*0x3f8)]=this['y'],_0x36e315[_0x168c25+(-0x17a6+-0x37b+0x1*0x1b23)]=this['z'],_0x36e315;}};c(rt,'ZERO',Object['freeze'](new rt(-0xc7c+-0x1*-0xca1+-0x25,0x15e9+-0x95b*-0x1+0x2*-0xfa2,0x1*0xe67+-0xdc*0x13+0x1ed))),c(rt,'HALF',Object['freeze'](new rt(0x1*-0x4c3+0x1f9d+0x1ada*-0x1+0.5,-0xb5*0x33+-0x178c+0x3b9b+0.5,0x2*-0xa+-0x1*-0x261a+-0x2606+0.5))),c(rt,'ONE',Object['freeze'](new rt(0x1*0x304+-0x1061+0xd5e,0x1a73+0x138d+0xf55*-0x3,0x1b17+0x11f3*0x1+-0x2d09))),c(rt,'UP',Object['freeze'](new rt(-0x39d+0x10*-0x80+0xb9d,0x19ee*-0x1+0x20e3+-0x6f4,-0x2*-0xe5+-0x3*0x97c+0x1aaa))),c(rt,'DOWN',Object['freeze'](new rt(0x23ef*-0x1+-0x98d*-0x3+0x748,-(-0x5de+0x171f+-0x1140),0x81c+0x11*-0xa4+-0xb2*-0x4))),c(rt,'RIGHT',Object['freeze'](new rt(0x3e3+-0x4*0x940+0x12*0x1d7,-0x1309+0x2136+-0xe2d,0x263c+0x2*-0x128c+-0x124))),c(rt,'LEFT',Object['freeze'](new rt(-(-0x1*0x20f1+0x33*0x13+0x1d29),0xa86+0x2173+-0x2bf9,0x11*0x2a+0xfbd*0x1+0x3*-0x62d))),c(rt,'FORWARD',Object['freeze'](new rt(0x1e95+0x1*-0xa39+-0x145c,0x8d2*-0x2+-0xdf6+0x329*0xa,-(0x1295+-0xc5d+-0x637*0x1)))),c(rt,'BACK',Object['freeze'](new rt(-0xc*-0xb7+-0x22cd*0x1+0x1a39,0x3*0x2b+0x11bb+-0x6*0x30a,0xd44+0x4d7+0x7*-0x296)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(0xf40+0xf*0x269+-0x335e)),this['data'][-0x1*-0x1c8b+-0x1*0x1d55+-0x2*-0x65]=this['data'][-0x1d*0x2d+0x14cb+-0xfae]=this['data'][0x21d2+0x16dc+0x1c53*-0x2]=0xd*-0x283+-0xf3c+0x2fe4;}['clone'](){const _0xdb9443=this['constructo'+'r'];return new _0xdb9443()['copy'](this);}['copy'](_0x5746f6){const _0xf34179=_0x5746f6['data'],_0x35e081=this['data'];return _0x35e081[0xd*-0x2ae+0x1*-0x119+0x23ef]=_0xf34179[0x1*-0x100f+-0xd*0x18f+0x2452],_0x35e081[-0x25ca+-0x236a+0x4935]=_0xf34179[-0x47c+-0x17db+-0x8*-0x38b],_0x35e081[-0x11bd+0x347*-0x9+0x179f*0x2]=_0xf34179[-0x1d7e+0x6cd+-0x1*-0x16b3],_0x35e081[-0x5be+-0x56*0x43+-0x1c43*-0x1]=_0xf34179[-0x33f+0x77b+-0x439],_0x35e081[0x1d65+0x1c85*-0x1+-0x2*0x6e]=_0xf34179[-0x1373+-0x1*0x2cc+0x1643],_0x35e081[0x1*0x20d3+0x1*-0x2509+0x43b]=_0xf34179[0x1*-0xc55+0x8e9*-0x1+-0x1*-0x1543],_0x35e081[-0x8a*-0x3b+-0x1*-0x156b+-0x3533]=_0xf34179[0x96e*0x2+-0x11bf+-0x117*0x1],_0x35e081[0x178d+-0x2104+0x97e]=_0xf34179[-0x70c+0x5*0x27b+0xb*-0x7c],_0x35e081[0x6b*0x3e+0x1*0x6b9+-0x209b]=_0xf34179[0x1512+-0x26ea+-0x8*-0x23c],this;}['set'](_0x1aecfc){const _0x476bf4=this['data'];return _0x476bf4[-0x1*0xe+-0x82b+0x839]=_0x1aecfc[0x57*0x21+-0x17f5+0x2*0x65f],_0x476bf4[0x8*0x497+0x4*-0x548+-0xd*0x133]=_0x1aecfc[0xc3e+-0x24d*-0x2+-0x10d7],_0x476bf4[0xaaf+0xd*-0x155+0x6a4]=_0x1aecfc[0x4d*0x81+-0x1*-0x769+-0xb8d*0x4],_0x476bf4[0x43*-0x4+-0x1c6*0x3+0x661]=_0x1aecfc[-0x152a+0x2039+-0xe*0xca],_0x476bf4[-0x1*0xbf7+-0x1*0x11df+0x1dda]=_0x1aecfc[-0xd*0x100+0x3c1+0x943],_0x476bf4[0x593*-0x2+-0xda0+0x18cb]=_0x1aecfc[0x525*0x3+0x2570+-0x34da],_0x476bf4[0x1*0x4d5+-0x20*0x5d+0x6d1]=_0x1aecfc[0x2111+-0x5*0xda+0x1*-0x1cc9],_0x476bf4[-0xa59+0x50b*-0x4+-0x55*-0x5c]=_0x1aecfc[-0x1334+0x8b+0x12b0],_0x476bf4[-0xda2+-0x26b9+0x1*0x3463]=_0x1aecfc[-0x15a6+0x1ca3+-0x6f5],this;}['getX'](_0x4491e8=new T()){return _0x4491e8['set'](this['data'][-0x1469+0x5*0x1af+0xbfe],this['data'][-0xc1f+0x1ec+-0x1*-0xa34],this['data'][0x3*-0x3c5+0xc9*-0x6+0x1007*0x1]);}['getY'](_0x236f9e=new T()){return _0x236f9e['set'](this['data'][0x1d97+0x893*0x2+-0x2eba],this['data'][-0x183d*-0x1+0x10d*-0x1c+0x533],this['data'][0x59d+-0xaf1+0x559]);}['getZ'](_0x1acb92=new T()){return _0x1acb92['set'](this['data'][-0x1b*0x7a+-0x24a+0xf2e],this['data'][-0xe58+0x45*-0x7+-0x1042*-0x1],this['data'][-0xe2b+0x1261+0xa*-0x6b]);}['equals'](_0x4fc20f){const _0x2e4d69=this['data'],_0x10246e=_0x4fc20f['data'];return _0x2e4d69[0x7b7*0x3+-0x60c+-0x1119*0x1]===_0x10246e[0x6db+0x20b0+-0x278b]&&_0x2e4d69[0x14f3+0xf3f+0x5*-0x73d]===_0x10246e[0x1098+-0xcc9+-0x3ce]&&_0x2e4d69[-0x1f11+0x1ae9+0x42a]===_0x10246e[0x13*-0x3f+0x1*-0x3af+0x85e*0x1]&&_0x2e4d69[-0x1*-0x249b+-0x6c+0x39e*-0xa]===_0x10246e[-0x5*0x121+-0x67*-0x47+-0x16e9]&&_0x2e4d69[-0x599*0x6+-0x1e*0xbf+0x37fc]===_0x10246e[-0x8d*-0x9+0x1*-0x1ee3+0xcf9*0x2]&&_0x2e4d69[0x2*-0xdfa+-0x11*0x8+0x1c81]===_0x10246e[-0x258d*0x1+-0x1d79*0x1+0x773*0x9]&&_0x2e4d69[0x192f*0x1+0x1204+-0x1*0x2b2d]===_0x10246e[-0xfde+0x11e+0x1*0xec6]&&_0x2e4d69[0x13a7*-0x1+0x1b43+-0x1*0x795]===_0x10246e[0x1096+0x18e*-0xa+-0x103]&&_0x2e4d69[-0x1a*0xf9+0x2564*-0x1+-0x1f5b*-0x2]===_0x10246e[0x25bb+-0x2185+0x217*-0x2];}['isIdentity'](){const _0x180e32=this['data'];return _0x180e32[-0x205b+0xbde+0x147d]===0x139c+-0x58*0x25+-0x29*0x2b&&_0x180e32[-0x112+0x36+0xdd]===-0x41d*0x7+0x8*0x41b+-0x40d&&_0x180e32[0x1*-0x82c+0x1c06+-0x14*0xfe]===-0xf89+-0x1336+0x22bf&&_0x180e32[0x1bbe+-0x2e*0x5c+-0xb33]===-0x7a9*0x3+0x67*-0x3a+-0x47*-0xa7&&_0x180e32[0xfec+0x211b+0x3103*-0x1]===0x4bb+-0x18d*0x13+0x18bd&&_0x180e32[-0x19f5+-0x1195+0x15*0x213]===0x6f*-0x49+-0x1529+0x8*0x69a&&_0x180e32[0x1a39+-0x1d3*0xb+0x1*-0x622]===0x25*0xd3+-0x6c7+-0x5ee*0x4&&_0x180e32[0x732+0x6e*0x55+-0x2bb1*0x1]===-0x821*0x4+-0x24bd+0x4541&&_0x180e32[-0xc27+-0x26e1+0x331*0x10]===-0xbc0*0x1+0x17e7+-0x26e*0x5;}['setIdentit'+'y'](){const _0x4f4c25=this['data'];return _0x4f4c25[-0x18f9+-0x12e9+0x2be2]=0x1858+0x195c+-0x3*0x1091,_0x4f4c25[-0x5*-0x1c5+0x6da+-0xfb2]=0x6*-0x30a+0x8fa+-0x942*-0x1,_0x4f4c25[0x2ff+0x266d+-0x296a]=0x1*-0x59d+0x202b+0x1*-0x1a8e,_0x4f4c25[-0x192a*0x1+0xb*0x173+0x93c]=0x1d53*0x1+-0x120f*-0x1+-0x5*0x97a,_0x4f4c25[0x22b0+-0x13c6+-0x1*0xee6]=-0x1*-0x15c5+-0x869*-0x3+-0xe3*0x35,_0x4f4c25[0x789*-0x3+0x2185*0x1+-0xae5]=-0x1908+-0x2*-0xfe5+-0x6c2,_0x4f4c25[0x35b*-0x5+0xc1*-0x31+0x1adf*0x2]=0x2*-0xe5e+-0x1623+-0x5a7*-0x9,_0x4f4c25[-0x3*-0x45d+-0x2a*-0xde+-0x4*0xc5f]=0xed5+-0x198b*0x1+0xab6,_0x4f4c25[-0xacb+0x61c+0x4b7]=0xd66+-0x115b+0x3f6,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x1d40de=this){const _0x5f264d=_0x1d40de['data'],_0xc9909b=this['data'];if(_0x5f264d===_0xc9909b){let _0x543927;_0x543927=_0x5f264d[-0x2*0x1a1+0x1688+-0x1345],_0xc9909b[-0xca9+-0x1b21+-0x3d*-0xa7]=_0x5f264d[-0xc6*-0x9+-0x1171+0x2*0x53f],_0xc9909b[-0x35+0x308+-0x2d0]=_0x543927,_0x543927=_0x5f264d[-0x59e+0x1*-0x21b5+0x2755],_0xc9909b[0x172d+-0x1*-0x1517+-0x46d*0xa]=_0x5f264d[-0xb39*0x1+0x269d+-0x2*0xdaf],_0xc9909b[0x8b*0x2+0x10*0xf2+0x40c*-0x4]=_0x543927,_0x543927=_0x5f264d[0xdd*0x12+0x8b+-0x1010],_0xc9909b[0x14de+-0x111b+-0x1df*0x2]=_0x5f264d[-0x1*-0x159b+0x2155+0x36e9*-0x1],_0xc9909b[-0x187+-0x141a+-0x1c*-0xc6]=_0x543927;}else _0xc9909b[-0x985*-0x1+-0xdb9+0x434]=_0x5f264d[0xab*-0x2e+0x1*-0xf6f+-0xf63*-0x3],_0xc9909b[-0x1066*-0x2+0xe8e*-0x2+-0x3af*0x1]=_0x5f264d[0x377*0xa+-0x729+-0x1b7a],_0xc9909b[0x1fa9+-0x2326+-0x37f*-0x1]=_0x5f264d[-0x1*-0xe7d+-0x4ed*0x1+-0x98a],_0xc9909b[-0x255a*-0x1+0x9f2+-0x9*0x541]=_0x5f264d[0xf1*0x16+-0x2f3+-0x11c2],_0xc9909b[0x14b2+0x13ed*-0x1+-0xc1*0x1]=_0x5f264d[0x6b9*0x1+-0x2*0x49+-0x623],_0xc9909b[0x26d3+-0x202*-0x1+0x1*-0x28d0]=_0x5f264d[0x105*-0x25+-0x236*-0x1+-0x238a*-0x1],_0xc9909b[-0x7*-0x361+-0x2*0x7a2+-0x85d]=_0x5f264d[-0x3dd+0x778+-0x1*0x399],_0xc9909b[-0x548*-0x2+0xd27+-0x17b0*0x1]=_0x5f264d[0x1cd1*-0x1+-0xc38+0x1*0x290e],_0xc9909b[-0x6a7*0x2+-0x143+-0x1*-0xe99]=_0x5f264d[-0x6*-0x433+0x465+0x2f*-0xa1];return this;}['setFromMat'+'4'](_0x473c6a){const _0x4664e3=_0x473c6a['data'],_0x3edf5a=this['data'];return _0x3edf5a[-0x487*0x7+0x12c*0xb+0x12cd]=_0x4664e3[-0x169c+-0x30d*-0x3+0xd75],_0x3edf5a[0x16ee+0x173*0xe+-0xd*0x353]=_0x4664e3[0x29*0xee+0x1297+0x17e*-0x26],_0x3edf5a[-0x193+-0x2314+0x5*0x755]=_0x4664e3[0x1681+0x235d+-0x39dc],_0x3edf5a[0x3e1*0x9+0x19de+-0x3cc4]=_0x4664e3[0x1*0x2573+0xbaf+-0x311e],_0x3edf5a[0x2570+-0x2593+0x27]=_0x4664e3[0x11c9+-0x19c4+0x800],_0x3edf5a[0x1195+0x1459*-0x1+0x2c9]=_0x4664e3[-0x1*-0xa77+-0xc1*0x1+0x26c*-0x4],_0x3edf5a[0x75a+-0x1023+0x8cf]=_0x4664e3[-0x3*0x54a+0x71f+0x6b*0x15],_0x3edf5a[-0x67*-0x2e+-0x1d60+0xae5]=_0x4664e3[-0x12e1+0x248d+0x69*-0x2b],_0x3edf5a[-0x2406+-0x3*-0xfe+0x2114]=_0x4664e3[0x2304+0x202f+-0x4329],this;}['setFromQua'+'t'](_0x2fa380){const _0x1e72d2=_0x2fa380['x'],_0x1d9c3c=_0x2fa380['y'],_0x3742d9=_0x2fa380['z'],_0x583733=_0x2fa380['w'],_0xe160f6=_0x1e72d2+_0x1e72d2,_0x25f917=_0x1d9c3c+_0x1d9c3c,_0x4c752f=_0x3742d9+_0x3742d9,_0x5e5357=_0x1e72d2*_0xe160f6,_0xa7080a=_0x1e72d2*_0x25f917,_0x2d757f=_0x1e72d2*_0x4c752f,_0x23b81e=_0x1d9c3c*_0x25f917,_0x5e721b=_0x1d9c3c*_0x4c752f,_0x51d1b9=_0x3742d9*_0x4c752f,_0x219001=_0x583733*_0xe160f6,_0x3ec0ae=_0x583733*_0x25f917,_0x4e56bf=_0x583733*_0x4c752f,_0x24707e=this['data'];return _0x24707e[0x2*-0xf44+0x3d*0x83+-0x5*0x23]=-0xa2a*-0x1+0x2*0x51d+-0x11*0x133-(_0x23b81e+_0x51d1b9),_0x24707e[0x914*-0x2+0x2*-0x48b+0x1d1*0xf]=_0xa7080a+_0x4e56bf,_0x24707e[-0x1f2c+-0x2482+0x43b0]=_0x2d757f-_0x3ec0ae,_0x24707e[0x1b83+-0x2020+0x4a0]=_0xa7080a-_0x4e56bf,_0x24707e[0x48*0x4e+-0x35*0x46+-0x76e]=-0x437*-0x1+0x14ed+-0x1923-(_0x5e5357+_0x51d1b9),_0x24707e[-0x3*-0x95b+-0x1*0xb4c+0x4*-0x430]=_0x5e721b+_0x219001,_0x24707e[0x14c*0x1+0x8c0+-0x2*0x503]=_0x2d757f+_0x3ec0ae,_0x24707e[0x121a+-0x3*0x59d+-0x1*0x13c]=_0x5e721b-_0x219001,_0x24707e[-0xe6a+-0x5ae*-0x1+0x8c4]=0x2f*-0x3d+0x91f*0x2+-0x70a-(_0x5e5357+_0x23b81e),this;}['invertMat4'](_0x57b039){const _0x379cf3=_0x57b039['data'],_0xbfbfa1=_0x379cf3[0x254d+0x8*0x20b+0x1bb*-0x1f],_0x1b67c4=_0x379cf3[-0x66*0x12+0x80*0x23+-0xa53*0x1],_0x332368=_0x379cf3[-0x22c5+0x1b65+-0x10e*-0x7],_0x514c7a=_0x379cf3[0x821*0x1+0x23a7+0x4*-0xaf1],_0x13b2f2=_0x379cf3[0x197c+0x2401+-0x3d78],_0x271433=_0x379cf3[-0x992+-0x14bf+0x1e57],_0x464a52=_0x379cf3[-0x1*-0x17e6+-0x1*0xaa9+-0xd35],_0x481009=_0x379cf3[-0x151f*0x1+-0x11c2+0x26ea],_0x4ecb1d=_0x379cf3[-0x1523*-0x1+-0x7a2*-0x1+-0x1cbb],_0x1afc92=_0x4ecb1d*_0x13b2f2-_0x271433*_0x481009,_0x219476=-_0x4ecb1d*_0x1b67c4+_0x332368*_0x481009,_0x48c899=_0x271433*_0x1b67c4-_0x332368*_0x13b2f2,_0x272a63=-_0x4ecb1d*_0x514c7a+_0x271433*_0x464a52,_0x4d03b7=_0x4ecb1d*_0xbfbfa1-_0x332368*_0x464a52,_0x117c25=-_0x271433*_0xbfbfa1+_0x332368*_0x514c7a,_0x57e777=_0x481009*_0x514c7a-_0x13b2f2*_0x464a52,_0x5d3a8e=-_0x481009*_0xbfbfa1+_0x1b67c4*_0x464a52,_0x2697d7=_0x13b2f2*_0xbfbfa1-_0x1b67c4*_0x514c7a,_0x617b28=_0xbfbfa1*_0x1afc92+_0x1b67c4*_0x272a63+_0x332368*_0x57e777;if(_0x617b28===-0x697*0x1+0x776+-0xdf)this['setIdentit'+'y']();else{const _0x7b3877=(0xac5*0x1+-0xbbb+0xf7)/_0x617b28,_0x5b8ae4=this['data'];_0x5b8ae4[-0x1b97+0x4a*-0x12+-0x17*-0x16d]=_0x1afc92*_0x7b3877,_0x5b8ae4[-0xb68+-0x22c1*-0x1+-0x24*0xa6]=_0x219476*_0x7b3877,_0x5b8ae4[-0x1*-0x159b+-0x86+-0x1*0x1513]=_0x48c899*_0x7b3877,_0x5b8ae4[-0x2*-0x2e5+-0x5ca+0x3]=_0x272a63*_0x7b3877,_0x5b8ae4[0x238e+-0x852+-0x2*0xd9c]=_0x4d03b7*_0x7b3877,_0x5b8ae4[0x710+-0x2664+0x5*0x645]=_0x117c25*_0x7b3877,_0x5b8ae4[-0x18b8+0xa04+0xeba]=_0x57e777*_0x7b3877,_0x5b8ae4[0xb89*0x2+-0x11db*-0x1+-0x28e6]=_0x5d3a8e*_0x7b3877,_0x5b8ae4[-0xf40+0x1*0x16af+-0x1*0x767]=_0x2697d7*_0x7b3877;}return this;}['transformV'+'ector'](_0x1ef72c,_0x19acc1=new T()){const _0x13ca34=this['data'],{x:_0x1b7df4,y:_0x1f1498,z:_0x53f083}=_0x1ef72c;return _0x19acc1['x']=_0x1b7df4*_0x13ca34[-0x551*-0x2+-0x25*-0xf5+-0x2e0b*0x1]+_0x1f1498*_0x13ca34[-0x495+-0x15bc+0x1a54]+_0x53f083*_0x13ca34[-0x1433*0x1+0x2240+0x3*-0x4ad],_0x19acc1['y']=_0x1b7df4*_0x13ca34[0xa5e+0x1585*-0x1+0xb28]+_0x1f1498*_0x13ca34[-0x937+-0xe41+0x177c]+_0x53f083*_0x13ca34[0x1c9e+0xb7f+0x2dd*-0xe],_0x19acc1['z']=_0x1b7df4*_0x13ca34[-0x2692*-0x1+0xca*-0x1+-0x25c6]+_0x1f1498*_0x13ca34[0x2*-0x1065+0x1105*0x1+0xfca]+_0x53f083*_0x13ca34[-0x1d*0x17+0x2*-0x39d+-0x65*-0x19],_0x19acc1;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([-0x5e9+0x936+-0x34d,-0x1*-0xbcf+-0x1198*0x1+0x5c9,0x1ece*-0x1+-0x2095+0x3f63,-0xa34+0x1835*-0x1+-0x1*-0x2269,0x1b68+0x2619+-0x4181,-0x2*0x1343+-0x9d6+0x2*0x182e,0x63*-0x2f+-0x1*0x31+0x125e,-0x229d+0x12e+0x216f,0x189d*-0x1+0x1*-0x5c1+0x1a*0x12b])));let js=na;const wt=class wt{constructor(_0xf22fd=-0x113e+0x146*-0x19+0x3114,_0x59fe1a=-0x145d+-0x115f+0x25bc){c(this,'x'),c(this,'y'),_0xf22fd['length']===0x17*0x19b+0x18a8+-0x3d93?(this['x']=_0xf22fd[0x2*0x10d2+0x9*-0x252+0x17*-0x8e],this['y']=_0xf22fd[0x1359+0xd51+-0x20a9]):(this['x']=_0xf22fd,this['y']=_0x59fe1a);}['add'](_0x57346d){return this['x']+=_0x57346d['x'],this['y']+=_0x57346d['y'],this;}['add2'](_0x13ee8f,_0x22ff52){return this['x']=_0x13ee8f['x']+_0x22ff52['x'],this['y']=_0x13ee8f['y']+_0x22ff52['y'],this;}['addScalar'](_0x1c5c9f){return this['x']+=_0x1c5c9f,this['y']+=_0x1c5c9f,this;}['addScaled'](_0x2a60c0,_0x590406){return this['x']+=_0x2a60c0['x']*_0x590406,this['y']+=_0x2a60c0['y']*_0x590406,this;}['clone'](){const _0x439ee4=this['constructo'+'r'];return new _0x439ee4(this['x'],this['y']);}['copy'](_0x2c24f4){return this['x']=_0x2c24f4['x'],this['y']=_0x2c24f4['y'],this;}['cross'](_0x3d0f87){return this['x']*_0x3d0f87['y']-this['y']*_0x3d0f87['x'];}['distance'](_0x5676d2){const _0x330861=this['x']-_0x5676d2['x'],_0x34f97d=this['y']-_0x5676d2['y'];return Math['sqrt'](_0x330861*_0x330861+_0x34f97d*_0x34f97d);}['div'](_0x523fc9){return this['x']/=_0x523fc9['x'],this['y']/=_0x523fc9['y'],this;}['div2'](_0x1969e2,_0x51f6cd){return this['x']=_0x1969e2['x']/_0x51f6cd['x'],this['y']=_0x1969e2['y']/_0x51f6cd['y'],this;}['divScalar'](_0x30f7bb){return this['x']/=_0x30f7bb,this['y']/=_0x30f7bb,this;}['dot'](_0x4f36ea){return this['x']*_0x4f36ea['x']+this['y']*_0x4f36ea['y'];}['equals'](_0x2cc8e1){return this['x']===_0x2cc8e1['x']&&this['y']===_0x2cc8e1['y'];}['equalsAppr'+'ox'](_0x437105,_0x450efb=0x17*0x10f+-0x281*-0xb+0x9*-0x5c4+0.000001){return Math['abs'](this['x']-_0x437105['x'])<_0x450efb&&Math['abs'](this['y']-_0x437105['y'])<_0x450efb;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x37f9e9,_0x1ebbcb,_0x1eb7d4){return this['x']=_0x37f9e9['x']+_0x1eb7d4*(_0x1ebbcb['x']-_0x37f9e9['x']),this['y']=_0x37f9e9['y']+_0x1eb7d4*(_0x1ebbcb['y']-_0x37f9e9['y']),this;}['mul'](_0x227353){return this['x']*=_0x227353['x'],this['y']*=_0x227353['y'],this;}['mul2'](_0xa1e552,_0x2059af){return this['x']=_0xa1e552['x']*_0x2059af['x'],this['y']=_0xa1e552['y']*_0x2059af['y'],this;}['mulScalar'](_0x28ba5b){return this['x']*=_0x28ba5b,this['y']*=_0x28ba5b,this;}['normalize'](_0x12c9c4=this){const _0x2816d0=_0x12c9c4['x']*_0x12c9c4['x']+_0x12c9c4['y']*_0x12c9c4['y'];if(_0x2816d0>0x1f*-0x1f+0x1ce8+-0x1927){const _0xd5c0a6=(-0x632+0x1b56*0x1+-0x1523)/Math['sqrt'](_0x2816d0);this['x']=_0x12c9c4['x']*_0xd5c0a6,this['y']=_0x12c9c4['y']*_0xd5c0a6;}return this;}['rotate'](_0x45b32c){const _0x41025a=Math['atan2'](this['x'],this['y'])+_0x45b32c*N['DEG_TO_RAD'],_0x23a9ca=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x41025a)*_0x23a9ca,this['y']=Math['cos'](_0x41025a)*_0x23a9ca,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x38a7c1){return Math['atan2'](this['x']*_0x38a7c1['y']+this['y']*_0x38a7c1['x'],this['x']*_0x38a7c1['x']+this['y']*_0x38a7c1['y'])*N['RAD_TO_DEG'];}['floor'](_0x59c13f=this){return this['x']=Math['floor'](_0x59c13f['x']),this['y']=Math['floor'](_0x59c13f['y']),this;}['ceil'](_0x3f6b2b=this){return this['x']=Math['ceil'](_0x3f6b2b['x']),this['y']=Math['ceil'](_0x3f6b2b['y']),this;}['round'](_0x2d9c94=this){return this['x']=Math['round'](_0x2d9c94['x']),this['y']=Math['round'](_0x2d9c94['y']),this;}['min'](_0x5dcfcb){return _0x5dcfcb['x']<this['x']&&(this['x']=_0x5dcfcb['x']),_0x5dcfcb['y']<this['y']&&(this['y']=_0x5dcfcb['y']),this;}['max'](_0x236b9d){return _0x236b9d['x']>this['x']&&(this['x']=_0x236b9d['x']),_0x236b9d['y']>this['y']&&(this['y']=_0x236b9d['y']),this;}['set'](_0x4ab379,_0x2d5740){return this['x']=_0x4ab379,this['y']=_0x2d5740,this;}['sub'](_0x4ca7a8){return this['x']-=_0x4ca7a8['x'],this['y']-=_0x4ca7a8['y'],this;}['sub2'](_0x4b004e,_0x342c06){return this['x']=_0x4b004e['x']-_0x342c06['x'],this['y']=_0x4b004e['y']-_0x342c06['y'],this;}['subScalar'](_0x465499){return this['x']-=_0x465499,this['y']-=_0x465499,this;}['fromArray'](_0x31a1a5,_0x507f35=-0x1fe5+-0x1*-0x10fd+0xee8){return this['x']=_0x31a1a5[_0x507f35]??this['x'],this['y']=_0x31a1a5[_0x507f35+(-0x201d+-0x179*-0xd+0xcf9)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x59d6ad=[],_0x2098c0=0x1*0x20ca+0x519*-0x5+-0x74d*0x1){return _0x59d6ad[_0x2098c0]=this['x'],_0x59d6ad[_0x2098c0+(-0x1754+0x3a1*0x1+-0x61*-0x34)]=this['y'],_0x59d6ad;}static['angleRad'](_0x144dc6,_0x4a852f){return Math['atan2'](_0x144dc6['x']*_0x4a852f['y']-_0x144dc6['y']*_0x4a852f['x'],_0x144dc6['x']*_0x4a852f['x']+_0x144dc6['y']*_0x4a852f['y']);}};c(wt,'ZERO',Object['freeze'](new wt(-0x1d5b+-0x1b*-0xf2+0x3d5,-0x2210+-0xb9c+0x4*0xb6b))),c(wt,'HALF',Object['freeze'](new wt(0x1649+-0x1f1f+0x8d6+0.5,-0x2117+-0x150f+0x3626+0.5))),c(wt,'ONE',Object['freeze'](new wt(0x1bb2*-0x1+0x10fd*0x2+-0x647,-0x4*0x24+-0x237c+-0xb*-0x347))),c(wt,'UP',Object['freeze'](new wt(-0xc95+0x2172+-0x14dd*0x1,0x1*0xbf5+0x7*0x36e+-0x23f6))),c(wt,'DOWN',Object['freeze'](new wt(-0x1*-0x6d3+-0x140d*0x1+0x2*0x69d,-(-0x1bd+-0x2429*-0x1+-0x226b)))),c(wt,'RIGHT',Object['freeze'](new wt(0xf9b+-0x3d*0x19+-0x9a5,0x1c71+0x1ce3+-0x3954))),c(wt,'LEFT',Object['freeze'](new wt(-(0x1*-0x1a4a+0x3*0x886+0xb9),-0x179c+0x1acf+-0x7*0x75)));let $=wt;const Yi=class Yi{constructor(_0x1f593b=0x457*-0x6+0x7b3+0x1257,_0x1d98d7=0x1541*0x1+0x2*-0x443+-0xcbb,_0x1450a8=-0xa4c+0x1*-0x2383+0x2dcf,_0x4c699a=-0x12c4+-0x155+0xf*0x157){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x1f593b['length']===0x553*0x2+0x21b8+-0x2c5a?(this['x']=_0x1f593b[0x1b42+-0x1cf*0x1+-0x1973],this['y']=_0x1f593b[0x1c3c+-0x2*0x45+0x8b*-0x33],this['z']=_0x1f593b[0x1*-0x2638+0x1*-0xc1+0x26fb],this['w']=_0x1f593b[0x1*-0x22d3+0x4*0x1fd+0x1ae2]):(this['x']=_0x1f593b,this['y']=_0x1d98d7,this['z']=_0x1450a8,this['w']=_0x4c699a);}['add'](_0x31dae9){return this['x']+=_0x31dae9['x'],this['y']+=_0x31dae9['y'],this['z']+=_0x31dae9['z'],this['w']+=_0x31dae9['w'],this;}['add2'](_0x2a093d,_0xebfd6f){return this['x']=_0x2a093d['x']+_0xebfd6f['x'],this['y']=_0x2a093d['y']+_0xebfd6f['y'],this['z']=_0x2a093d['z']+_0xebfd6f['z'],this['w']=_0x2a093d['w']+_0xebfd6f['w'],this;}['addScalar'](_0x5f565c){return this['x']+=_0x5f565c,this['y']+=_0x5f565c,this['z']+=_0x5f565c,this['w']+=_0x5f565c,this;}['addScaled'](_0x24a322,_0x5c4d3c){return this['x']+=_0x24a322['x']*_0x5c4d3c,this['y']+=_0x24a322['y']*_0x5c4d3c,this['z']+=_0x24a322['z']*_0x5c4d3c,this['w']+=_0x24a322['w']*_0x5c4d3c,this;}['clone'](){const _0x17d5f1=this['constructo'+'r'];return new _0x17d5f1(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x577163){return this['x']=_0x577163['x'],this['y']=_0x577163['y'],this['z']=_0x577163['z'],this['w']=_0x577163['w'],this;}['div'](_0x27ffa1){return this['x']/=_0x27ffa1['x'],this['y']/=_0x27ffa1['y'],this['z']/=_0x27ffa1['z'],this['w']/=_0x27ffa1['w'],this;}['div2'](_0x1e0f44,_0x3cf9d3){return this['x']=_0x1e0f44['x']/_0x3cf9d3['x'],this['y']=_0x1e0f44['y']/_0x3cf9d3['y'],this['z']=_0x1e0f44['z']/_0x3cf9d3['z'],this['w']=_0x1e0f44['w']/_0x3cf9d3['w'],this;}['divScalar'](_0xf799c3){return this['x']/=_0xf799c3,this['y']/=_0xf799c3,this['z']/=_0xf799c3,this['w']/=_0xf799c3,this;}['dot'](_0x240492){return this['x']*_0x240492['x']+this['y']*_0x240492['y']+this['z']*_0x240492['z']+this['w']*_0x240492['w'];}['equals'](_0x690bc0){return this['x']===_0x690bc0['x']&&this['y']===_0x690bc0['y']&&this['z']===_0x690bc0['z']&&this['w']===_0x690bc0['w'];}['equalsAppr'+'ox'](_0x5e98bc,_0x104b5e=-0x9b2*0x1+0x1409+-0xa57+0.000001){return Math['abs'](this['x']-_0x5e98bc['x'])<_0x104b5e&&Math['abs'](this['y']-_0x5e98bc['y'])<_0x104b5e&&Math['abs'](this['z']-_0x5e98bc['z'])<_0x104b5e&&Math['abs'](this['w']-_0x5e98bc['w'])<_0x104b5e;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x473613,_0x3a89da,_0x1423cb){return this['x']=_0x473613['x']+_0x1423cb*(_0x3a89da['x']-_0x473613['x']),this['y']=_0x473613['y']+_0x1423cb*(_0x3a89da['y']-_0x473613['y']),this['z']=_0x473613['z']+_0x1423cb*(_0x3a89da['z']-_0x473613['z']),this['w']=_0x473613['w']+_0x1423cb*(_0x3a89da['w']-_0x473613['w']),this;}['mul'](_0x1cacfb){return this['x']*=_0x1cacfb['x'],this['y']*=_0x1cacfb['y'],this['z']*=_0x1cacfb['z'],this['w']*=_0x1cacfb['w'],this;}['mul2'](_0x2d773e,_0xfbb715){return this['x']=_0x2d773e['x']*_0xfbb715['x'],this['y']=_0x2d773e['y']*_0xfbb715['y'],this['z']=_0x2d773e['z']*_0xfbb715['z'],this['w']=_0x2d773e['w']*_0xfbb715['w'],this;}['mulScalar'](_0x56d31c){return this['x']*=_0x56d31c,this['y']*=_0x56d31c,this['z']*=_0x56d31c,this['w']*=_0x56d31c,this;}['normalize'](_0x184548=this){const _0x424799=_0x184548['x']*_0x184548['x']+_0x184548['y']*_0x184548['y']+_0x184548['z']*_0x184548['z']+_0x184548['w']*_0x184548['w'];if(_0x424799>-0x5*-0x2af+0xb*0x89+-0x2c2*0x7){const _0x44e749=(-0x1aec+0x1cc9*-0x1+0x37b6)/Math['sqrt'](_0x424799);this['x']=_0x184548['x']*_0x44e749,this['y']=_0x184548['y']*_0x44e749,this['z']=_0x184548['z']*_0x44e749,this['w']=_0x184548['w']*_0x44e749;}return this;}['floor'](_0x43547f=this){return this['x']=Math['floor'](_0x43547f['x']),this['y']=Math['floor'](_0x43547f['y']),this['z']=Math['floor'](_0x43547f['z']),this['w']=Math['floor'](_0x43547f['w']),this;}['ceil'](_0x4e011c=this){return this['x']=Math['ceil'](_0x4e011c['x']),this['y']=Math['ceil'](_0x4e011c['y']),this['z']=Math['ceil'](_0x4e011c['z']),this['w']=Math['ceil'](_0x4e011c['w']),this;}['round'](_0x2881dd=this){return this['x']=Math['round'](_0x2881dd['x']),this['y']=Math['round'](_0x2881dd['y']),this['z']=Math['round'](_0x2881dd['z']),this['w']=Math['round'](_0x2881dd['w']),this;}['min'](_0x502db3){return _0x502db3['x']<this['x']&&(this['x']=_0x502db3['x']),_0x502db3['y']<this['y']&&(this['y']=_0x502db3['y']),_0x502db3['z']<this['z']&&(this['z']=_0x502db3['z']),_0x502db3['w']<this['w']&&(this['w']=_0x502db3['w']),this;}['max'](_0x29b082){return _0x29b082['x']>this['x']&&(this['x']=_0x29b082['x']),_0x29b082['y']>this['y']&&(this['y']=_0x29b082['y']),_0x29b082['z']>this['z']&&(this['z']=_0x29b082['z']),_0x29b082['w']>this['w']&&(this['w']=_0x29b082['w']),this;}['set'](_0x24ed80,_0x53014a,_0x25f131,_0x3fd653){return this['x']=_0x24ed80,this['y']=_0x53014a,this['z']=_0x25f131,this['w']=_0x3fd653,this;}['sub'](_0x3ef23e){return this['x']-=_0x3ef23e['x'],this['y']-=_0x3ef23e['y'],this['z']-=_0x3ef23e['z'],this['w']-=_0x3ef23e['w'],this;}['sub2'](_0x5bb79e,_0x4083c0){return this['x']=_0x5bb79e['x']-_0x4083c0['x'],this['y']=_0x5bb79e['y']-_0x4083c0['y'],this['z']=_0x5bb79e['z']-_0x4083c0['z'],this['w']=_0x5bb79e['w']-_0x4083c0['w'],this;}['subScalar'](_0x3acbac){return this['x']-=_0x3acbac,this['y']-=_0x3acbac,this['z']-=_0x3acbac,this['w']-=_0x3acbac,this;}['fromArray'](_0x27ec28,_0x4e15fb=-0x4*0x794+0x577*-0x1+0x23c7){return this['x']=_0x27ec28[_0x4e15fb]??this['x'],this['y']=_0x27ec28[_0x4e15fb+(0x6e6*0x2+0x1598+0x1*-0x2363)]??this['y'],this['z']=_0x27ec28[_0x4e15fb+(0x1e89+0x8*-0x10f+-0x160f)]??this['z'],this['w']=_0x27ec28[_0x4e15fb+(0x26d+0x89*-0xa+0x8*0x5e)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x54faa7=[],_0x2e6511=-0x1e0f+-0x32c+0x213b*0x1){return _0x54faa7[_0x2e6511]=this['x'],_0x54faa7[_0x2e6511+(-0x6d8+-0x12b5+-0x2*-0xcc7)]=this['y'],_0x54faa7[_0x2e6511+(-0x158*0x11+0x1251+0x3*0x183)]=this['z'],_0x54faa7[_0x2e6511+(0x1e7e+-0x2072+-0x1*-0x1f7)]=this['w'],_0x54faa7;}};c(Yi,'ZERO',Object['freeze'](new Yi(0xfdd+0x4*-0x5cc+0x753,0x32d*-0x3+0x15f3+-0xc6c*0x1,0x1*0x22fd+-0x1*-0x9f5+-0x2cf2,0x2*-0x8f5+0xcf*-0x5+0x15f5))),c(Yi,'HALF',Object['freeze'](new Yi(0x102*-0x9+0x1*0x18d+0x19*0x4d+0.5,-0x453*0x2+-0x1d6c+-0x1*-0x2612+0.5,0x24b2+-0x1*-0xcab+-0x315d+0.5,0x623+0x107*0x1+-0x72a+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(-0x17*0x102+0x156b*-0x1+0x6*0x76f,0x1b2e+0x15af+-0x30dc*0x1,0x1*0x1d32+0x10*0xcd+-0x2a01,-0x16*0x170+0x76d+0x1834)));let Q=Yi;const Ua=new $(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(-0x1d40+0x100e+0x1*0xd42)),this['data'][-0x1df7+-0x1caf+0x3aa6]=this['data'][-0xd81*-0x1+0x1144+0x6*-0x520]=this['data'][0x25f5+-0xba5+0x1a46*-0x1]=this['data'][-0x1573*-0x1+-0x1a76+-0x512*-0x1]=-0x2*0xf6a+0x1*0x229f+-0x3ca;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x4e52cd,_0x3d2ab4,_0x12da13,_0x306810,_0x31070c){_0x31070c?(_0x4e52cd['x']=_0x306810*Math['tan'](_0x3d2ab4*Math['PI']/(-0x1665+0x1c80+-0x4b3)),_0x4e52cd['y']=_0x4e52cd['x']/_0x12da13):(_0x4e52cd['y']=_0x306810*Math['tan'](_0x3d2ab4*Math['PI']/(-0x1556+0x2*-0xbf3+0x3c*0xc7)),_0x4e52cd['x']=_0x4e52cd['y']*_0x12da13);}['add2'](_0x2a86c9,_0x5ecac5){const _0x42ad4b=_0x2a86c9['data'],_0x12bf39=_0x5ecac5['data'],_0x212730=this['data'];return _0x212730[-0x24f*0x5+0x1594+-0x16f*0x7]=_0x42ad4b[0x42d+-0x245e+-0x43*-0x7b]+_0x12bf39[-0x1*0x8cd+0x1*0x505+0x3c8],_0x212730[-0xc10+0xfe*-0x24+0x2fc9]=_0x42ad4b[-0x153+0x1*-0x4c6+0x61a]+_0x12bf39[-0x73e+0x18d*-0xf+0x47*0x6e],_0x212730[0x1120+0x2*0xff2+-0x3102]=_0x42ad4b[0x14e4+-0x237e+0xdc*0x11]+_0x12bf39[-0x2*0x1017+-0x18be+0x38ee],_0x212730[0x11*0x11c+0x2481+-0x2*0x1bad]=_0x42ad4b[0x6d9*-0x2+-0x1184+0x1f39]+_0x12bf39[-0x106e*-0x2+0x2603+-0x46dc],_0x212730[-0x5de+0x136e*0x2+-0x20fa]=_0x42ad4b[0x18*-0xfd+0x26ac+0x1*-0xef0]+_0x12bf39[-0x27*-0x13+-0x25f9+0x2318],_0x212730[-0x555+0x2350+-0x1df6]=_0x42ad4b[0x1cba+-0x130e+-0x7*0x161]+_0x12bf39[0x9*0x32d+0x7e1+-0x2471*0x1],_0x212730[0x1*-0x234d+0x2c9*-0x1+0x261c]=_0x42ad4b[0x1959+-0x22f1+0x99e]+_0x12bf39[-0x83e+-0x1202+-0x6*-0x461],_0x212730[-0x2433*-0x1+-0xb8*0x19+0xe9*-0x14]=_0x42ad4b[0x63a*0x6+-0x1e09*-0x1+0x21af*-0x2]+_0x12bf39[0x383*-0xb+0x29d*-0x1+0x2945],_0x212730[-0x2*-0xde2+-0x144d*0x1+0x1*-0x76f]=_0x42ad4b[0x1251*0x1+0x102c+-0x2275*0x1]+_0x12bf39[0x2*0xdcd+-0xe6+-0x2*0xd56],_0x212730[-0x1a14*-0x1+-0x189*-0x8+-0x2653]=_0x42ad4b[0x1317+0xd24+-0x2032]+_0x12bf39[0x1f1*0x12+0x137b+-0x3664],_0x212730[0x125*-0xb+0x5*-0x14f+-0x199*-0xc]=_0x42ad4b[0x167f+0xfe7+-0x265c]+_0x12bf39[0x1f67+0x5cf*-0x5+0x21*-0x12],_0x212730[0xea6+-0x143f+0x5a4]=_0x42ad4b[-0x241c+-0x1*-0x1e4d+0x5da]+_0x12bf39[0x1dd6+0x89*-0xb+-0x17e8],_0x212730[-0xd*0x167+-0x15*-0xf5+-0x1d2]=_0x42ad4b[-0xe81+0x1*0x1+0x2*0x746]+_0x12bf39[0x561+-0x83f*0x1+0x2*0x175],_0x212730[0x267e+0x1911+-0xb*0x5c6]=_0x42ad4b[-0x5*0x3+-0x1594+-0x10*-0x15b]+_0x12bf39[0x205f+0x253*0x3+-0x274b],_0x212730[-0xbf6+-0x33f*0x3+0x15c1]=_0x42ad4b[-0x1*0x1c75+0x6eb+-0x4*-0x566]+_0x12bf39[-0xb9c+0x4b4+0x37b*0x2],_0x212730[-0x1c4b+-0x1e3c+-0x1d4b*-0x2]=_0x42ad4b[-0xfc1*0x2+0xbf6+0x139b]+_0x12bf39[0x3d3*-0x7+-0x188b+0x335f],this;}['add'](_0x248b27){return this['add2'](this,_0x248b27);}['clone'](){const _0x411526=this['constructo'+'r'];return new _0x411526()['copy'](this);}['copy'](_0x59dc3a){const _0x376280=_0x59dc3a['data'],_0x21e287=this['data'];return _0x21e287[-0x175f+0x66*0x41+-0x287]=_0x376280[-0x23b+-0x2369+0x969*0x4],_0x21e287[0x1a39+0xba0+-0x25d8]=_0x376280[-0xc31+0x2a9*-0x7+-0x1ed1*-0x1],_0x21e287[0x9a5+-0xa*-0x22f+0x1*-0x1f79]=_0x376280[-0x8a7+0x5b3*0x1+0x2*0x17b],_0x21e287[-0x949*0x1+-0x1*0x1f01+0x284d]=_0x376280[-0x3*0xafa+0xe39+0x1*0x12b8],_0x21e287[-0x2119+-0x26d1+0x47ee]=_0x376280[0x1*0x5de+-0x1a18*-0x1+-0x1ff2],_0x21e287[0x2002+-0x227*-0xa+-0x1*0x3583]=_0x376280[-0xe0*-0x19+0x11*-0xdd+0x72e*-0x1],_0x21e287[0x62c*-0x1+-0x1*0x1103+-0xd*-0x1c9]=_0x376280[-0x222f+-0x2*-0x119b+-0x101*0x1],_0x21e287[-0x555*0x5+0x162a+-0x182*-0x3]=_0x376280[0x2*0x12ff+-0x3*0xd7+-0x2372],_0x21e287[-0x1da7*0x1+0x1*0x106d+0xd42]=_0x376280[0x49*0x29+-0x153+-0x9*0x126],_0x21e287[0xf56+0x6d3*-0x3+0x52c]=_0x376280[-0x1a02+0x13a4+0x667],_0x21e287[-0x17*-0x187+-0x1f5d+0x13e*-0x3]=_0x376280[-0x1*0x2007+0x1de0+-0x11*-0x21],_0x21e287[-0x1*-0x392+0x200e+-0x2395]=_0x376280[0x17*0x87+0x1b5*0x1+0xdcb*-0x1],_0x21e287[0x141*-0xb+0x1*0x33f+0xa98]=_0x376280[0x29*-0x8a+-0x2475+0x9*0x683],_0x21e287[0x1552*-0x1+0x191d+0x1df*-0x2]=_0x376280[0x1550+-0x641+-0xf02],_0x21e287[0x8b*-0x11+-0x519+-0x2*-0x731]=_0x376280[0xe45+-0x1ba6*-0x1+0x1*-0x29dd],_0x21e287[-0x41b*0x3+0x248b+0x1*-0x182b]=_0x376280[0x389+0x1*-0x83+-0x2f7],this;}['equals'](_0x4576fb){const _0x1f2982=this['data'],_0x4e30e8=_0x4576fb['data'];return _0x1f2982[0xd*0x1bb+0x718*0x3+-0x2bc7]===_0x4e30e8[0x26e9+0x1*-0x202b+0x35f*-0x2]&&_0x1f2982[0x2187+-0x199c+-0x2*0x3f5]===_0x4e30e8[0x12b3*0x1+0x782+-0x1a34]&&_0x1f2982[0x1128+0xc7e+-0x1da4]===_0x4e30e8[0xa*-0x211+0xe66+0x646]&&_0x1f2982[-0xfd2+0x1e06+0x7*-0x207]===_0x4e30e8[-0x1dff+0x1ff+0x1c03]&&_0x1f2982[-0x6*-0x8+0x104e+-0x107a]===_0x4e30e8[-0x1228+0x1*-0x761+-0xd3*-0x1f]&&_0x1f2982[0x267*0xf+0xcc6*-0x1+-0x32*0x77]===_0x4e30e8[0x147e+0x1bb*-0x16+-0x5*-0x385]&&_0x1f2982[0x1*-0xad+-0x9*-0x131+-0xa06]===_0x4e30e8[0x1a5b+0xd86+-0x27db]&&_0x1f2982[-0x2223*-0x1+-0x19d0+0x84c*-0x1]===_0x4e30e8[0x20*-0xb0+-0x1*-0x1dcd+-0x3e3*0x2]&&_0x1f2982[0x598*-0x2+-0x1*0x1498+-0x3fa*-0x8]===_0x4e30e8[0xc47+0x2205+-0x7e*0x5e]&&_0x1f2982[-0x19fe+0x2*-0x80e+0x2a23]===_0x4e30e8[0x1eac+0x1625+0x6*-0x8cc]&&_0x1f2982[-0x1bca+0x1514+0x6c0]===_0x4e30e8[-0x1*0x2638+-0x2161+0x47a3*0x1]&&_0x1f2982[-0xfa7*0x1+0x65b*0x1+0x31d*0x3]===_0x4e30e8[0xf3*0x24+0x19a8+-0x3bc9]&&_0x1f2982[0xfba*0x2+0x22da+-0x4242]===_0x4e30e8[-0x1674+-0x1b13+0x3193]&&_0x1f2982[-0xb*0x171+0x59b+0xa4d]===_0x4e30e8[-0x2166+-0x2700+-0x11*-0x443]&&_0x1f2982[0x7*-0x337+-0x6e9+0x1d78]===_0x4e30e8[0x1*0x2299+-0x8b*0x2+-0x23b*0xf]&&_0x1f2982[0x9a7+0x85*0xf+-0x1163]===_0x4e30e8[-0x149*-0x1a+-0x1b80+-0x1*0x5db];}['isIdentity'](){const _0x5de00f=this['data'];return _0x5de00f[-0x683*0x1+0x7*0x14e+-0x29f]===0x205b+-0x1683+-0x9d7&&_0x5de00f[-0x1a43+-0x8b0*-0x3+0x34]===-0x203e+0x5*0x4a2+0x914&&_0x5de00f[-0x1cd8+-0x1056+0x10*0x2d3]===0xabf+0x1*0x13d5+-0xce*0x26&&_0x5de00f[0x2b0*0xd+-0x17ae+-0xb3f]===-0x21b4*-0x1+0x1*0x367+-0xa1*0x3b&&_0x5de00f[0xa7+-0x12d*0x7+0x798]===-0x925*0x4+-0xd5d+0x5*0x9fd&&_0x5de00f[0x1e26+-0x1*0x2f6+-0x1b2b]===0x1056+0x2687+-0x2*0x1b6e&&_0x5de00f[-0x1*0x1834+0x2438+-0xbfe]===-0x1a77+0x1801*0x1+0x276&&_0x5de00f[-0x1145+-0x20d9+0x185*0x21]===-0x4f*0x2c+0x9*-0x175+0x1ab1*0x1&&_0x5de00f[-0x1c*0x41+-0x2376+-0x10a*-0x29]===-0x7*0x23d+-0x16*0x48+0x15db&&_0x5de00f[0x23c3+0x9ed+-0x2da7]===-0x911+0x1401+-0xaf0&&_0x5de00f[0x4*0x27e+-0xf11*0x1+0x523*0x1]===0x24b9*-0x1+-0xa3*0x25+0x3c49&&_0x5de00f[0x2707+-0x1f0d+-0x7ef]===0x2*-0xb02+-0xc4d*0x3+0x3aeb&&_0x5de00f[0x2db*0x1+-0xe54+0xb85]===-0x1d2c+-0x12f5+0x3021&&_0x5de00f[0x629+-0x13c1+0x1f3*0x7]===-0x6b*0x47+-0x1*0x81a+-0x25c7*-0x1&&_0x5de00f[-0x2f*0x95+0x2554+0x1*-0x9eb]===-0x45*-0x76+0x1*-0x2579+0x1*0x5ab&&_0x5de00f[0x3f1+0xdd4+0x8db*-0x2]===0x200e+0xa32+-0x2a3f;}['mul2'](_0x4d4c47,_0xa6f9d5){const _0x4342f5=_0x4d4c47['data'],_0x34b53b=_0xa6f9d5['data'],_0x162bb8=this['data'],_0x3de932=_0x4342f5[-0x1d9*-0x5+-0x77a+-0x1*0x1c3],_0x27689e=_0x4342f5[0x2*0x2f6+-0x2693+0x20a8],_0x23cbaf=_0x4342f5[-0xb0*0x36+-0xfc6+-0x1a74*-0x2],_0x120fe7=_0x4342f5[-0x75*-0x41+0x93e+-0x26f0],_0xb515ef=_0x4342f5[-0x143*-0x3+0x18b6+-0x1c7b],_0x11d1ae=_0x4342f5[-0x7f*-0x25+-0x1d4c+0xaf6],_0x1169a0=_0x4342f5[-0x949+0x1aa5+-0x1156],_0x307c8c=_0x4342f5[0x2c2+0x90e+0x1*-0xbc9],_0x1ed896=_0x4342f5[-0x1eb*0x1+-0x66e*-0x3+0xc1*-0x17],_0x5a4284=_0x4342f5[0x75e+0xd6*-0x17+0xbe5],_0xedb816=_0x4342f5[0x1626+0x46d+-0x1a89],_0x2de947=_0x4342f5[0x6d*-0x33+0x2*-0x1132+0x1c13*0x2],_0x4425fb=_0x4342f5[-0x297+-0x650+0x8f3],_0x3999c2=_0x4342f5[0x2e*-0x20+-0x113+0x50*0x16],_0x56f929=_0x4342f5[0x21e9+-0x25b2+0x3d7*0x1],_0x11836e=_0x4342f5[-0x24ad+-0x19*0x16d+-0xa57*-0x7];let _0x46bbc8,_0x1a7703,_0x19afc0,_0x497b65;return _0x46bbc8=_0x34b53b[0x61b+-0x919*-0x2+-0x184d],_0x1a7703=_0x34b53b[-0x12c8+0x3*0xb33+-0x18*0x9e],_0x19afc0=_0x34b53b[-0x217f+-0x61f*-0x1+0x1*0x1b62],_0x497b65=_0x34b53b[0x21b4+-0x9*0x41+-0x1f68],_0x162bb8[0x13ee+-0x1fa5+0x1*0xbb7]=_0x3de932*_0x46bbc8+_0xb515ef*_0x1a7703+_0x1ed896*_0x19afc0+_0x4425fb*_0x497b65,_0x162bb8[0x8da*-0x1+0x901+-0x26]=_0x27689e*_0x46bbc8+_0x11d1ae*_0x1a7703+_0x5a4284*_0x19afc0+_0x3999c2*_0x497b65,_0x162bb8[0x1cc2+-0x1*0x129+-0x1b97]=_0x23cbaf*_0x46bbc8+_0x1169a0*_0x1a7703+_0xedb816*_0x19afc0+_0x56f929*_0x497b65,_0x162bb8[-0x73*0x56+0x146b+-0x1*-0x123a]=_0x120fe7*_0x46bbc8+_0x307c8c*_0x1a7703+_0x2de947*_0x19afc0+_0x11836e*_0x497b65,_0x46bbc8=_0x34b53b[-0x1601*-0x1+0xb53+0x42a*-0x8],_0x1a7703=_0x34b53b[-0x8*0x1fc+-0x1adc+-0x88d*-0x5],_0x19afc0=_0x34b53b[0x1*-0x6fd+0x1b59*0x1+-0x1456],_0x497b65=_0x34b53b[-0x1f52+-0x943+-0x144e*-0x2],_0x162bb8[-0x34*-0x55+-0xb*-0x173+-0x2131*0x1]=_0x3de932*_0x46bbc8+_0xb515ef*_0x1a7703+_0x1ed896*_0x19afc0+_0x4425fb*_0x497b65,_0x162bb8[-0xdb*0x1+-0xcb3+-0x1*-0xd93]=_0x27689e*_0x46bbc8+_0x11d1ae*_0x1a7703+_0x5a4284*_0x19afc0+_0x3999c2*_0x497b65,_0x162bb8[-0x1*0xb17+0x1868+-0xd4b]=_0x23cbaf*_0x46bbc8+_0x1169a0*_0x1a7703+_0xedb816*_0x19afc0+_0x56f929*_0x497b65,_0x162bb8[-0x1055+-0xe*0xdd+0x2*0xe39]=_0x120fe7*_0x46bbc8+_0x307c8c*_0x1a7703+_0x2de947*_0x19afc0+_0x11836e*_0x497b65,_0x46bbc8=_0x34b53b[-0x13e7+-0x7*0x359+0x2b5e],_0x1a7703=_0x34b53b[-0x26f*-0x1+0x1479+-0x1*0x16df],_0x19afc0=_0x34b53b[-0xd12+0x1*-0x705+0x1421],_0x497b65=_0x34b53b[-0xfe7+-0x14b*-0x17+-0x6b*0x21],_0x162bb8[-0x21d1+0x7e9*-0x1+0x29c2]=_0x3de932*_0x46bbc8+_0xb515ef*_0x1a7703+_0x1ed896*_0x19afc0+_0x4425fb*_0x497b65,_0x162bb8[0x2eb*0x3+0x19e+0x372*-0x3]=_0x27689e*_0x46bbc8+_0x11d1ae*_0x1a7703+_0x5a4284*_0x19afc0+_0x3999c2*_0x497b65,_0x162bb8[-0x3*0xbb+0x92*0x3b+-0x1f6b]=_0x23cbaf*_0x46bbc8+_0x1169a0*_0x1a7703+_0xedb816*_0x19afc0+_0x56f929*_0x497b65,_0x162bb8[0x5*-0x32b+-0xa9+0x108b]=_0x120fe7*_0x46bbc8+_0x307c8c*_0x1a7703+_0x2de947*_0x19afc0+_0x11836e*_0x497b65,_0x46bbc8=_0x34b53b[-0x4*-0x4bd+-0xf3+0x1*-0x11f5],_0x1a7703=_0x34b53b[0x211*-0xb+-0x1aa3+0x316b],_0x19afc0=_0x34b53b[-0x14f1+0xcf2*0x2+-0x7*0xb3],_0x497b65=_0x34b53b[0xf3+-0xf52+0xe6e],_0x162bb8[0x1*0x1bf7+-0x1fff*0x1+-0x3a*-0x12]=_0x3de932*_0x46bbc8+_0xb515ef*_0x1a7703+_0x1ed896*_0x19afc0+_0x4425fb*_0x497b65,_0x162bb8[-0x1019+-0x634+0xb2d*0x2]=_0x27689e*_0x46bbc8+_0x11d1ae*_0x1a7703+_0x5a4284*_0x19afc0+_0x3999c2*_0x497b65,_0x162bb8[0x1c6b+-0x3a+-0x1c23]=_0x23cbaf*_0x46bbc8+_0x1169a0*_0x1a7703+_0xedb816*_0x19afc0+_0x56f929*_0x497b65,_0x162bb8[-0x2391+0x4f0*0x2+0x19c0]=_0x120fe7*_0x46bbc8+_0x307c8c*_0x1a7703+_0x2de947*_0x19afc0+_0x11836e*_0x497b65,this;}['mulAffine2'](_0x390d5d,_0x444ae2){const _0x5d9c15=_0x390d5d['data'],_0x3d77d=_0x444ae2['data'],_0x21be58=this['data'],_0x21e62e=_0x5d9c15[0x1c43+-0x1*0x166d+0x1f2*-0x3],_0x6f2cca=_0x5d9c15[-0x219+0x42*0x7a+0x242*-0xd],_0x20b6cf=_0x5d9c15[-0x71*0x1+-0x7*-0x3c7+-0x6*0x455],_0x5a4b7b=_0x5d9c15[-0x2e8*0x8+0x191e+-0x1da],_0x1739f9=_0x5d9c15[0x25b6+-0x1c2b+-0x4c3*0x2],_0x103b75=_0x5d9c15[-0x45*-0x71+0x126e*0x2+-0xa1*0x6b],_0x408e11=_0x5d9c15[0x6*0x2ab+0x6ee+-0x16e8],_0x3abb04=_0x5d9c15[0x6d7*0x1+0x2*0x264+-0x2*0x5cb],_0x10c84d=_0x5d9c15[0xa7+0x2*0x335+-0x707*0x1],_0x15d870=_0x5d9c15[-0x2037+0x13e0+0xc63],_0x40acaf=_0x5d9c15[0x383+-0x5e4+0x137*0x2],_0x193561=_0x5d9c15[0x7*0x25d+0x23c4+-0x3441];let _0x450e65,_0x2117e3,_0x1d9518;return _0x450e65=_0x3d77d[0x258e+-0xee2+-0x1*0x16ac],_0x2117e3=_0x3d77d[0x1fa3+-0x28d*-0x5+-0x2c63],_0x1d9518=_0x3d77d[-0x1204+-0x1ebb+0x30c1],_0x21be58[-0x2*-0x4c1+-0x1cba*-0x1+0x131e*-0x2]=_0x21e62e*_0x450e65+_0x5a4b7b*_0x2117e3+_0x408e11*_0x1d9518,_0x21be58[-0x22ae+-0x1bab+0x3e5a]=_0x6f2cca*_0x450e65+_0x1739f9*_0x2117e3+_0x3abb04*_0x1d9518,_0x21be58[-0x22d+-0x10db*-0x1+-0xeac]=_0x20b6cf*_0x450e65+_0x103b75*_0x2117e3+_0x10c84d*_0x1d9518,_0x21be58[0x6*0x45d+0x11f2+0x1eb*-0x17]=0x1eae+-0x1*-0x23dd+-0x428b*0x1,_0x450e65=_0x3d77d[0xfc2+0xf05*0x2+-0x2dc8],_0x2117e3=_0x3d77d[0x1c67*0x1+0x1*-0x143c+-0x826],_0x1d9518=_0x3d77d[0x25b8*0x1+-0x1feb+0x3*-0x1ed],_0x21be58[-0x25bf+-0x321*0x7+-0x1dd5*-0x2]=_0x21e62e*_0x450e65+_0x5a4b7b*_0x2117e3+_0x408e11*_0x1d9518,_0x21be58[-0x9*0x32b+-0xeda*-0x1+0xdae]=_0x6f2cca*_0x450e65+_0x1739f9*_0x2117e3+_0x3abb04*_0x1d9518,_0x21be58[-0x99+0x46a*0x4+0x59*-0x31]=_0x20b6cf*_0x450e65+_0x103b75*_0x2117e3+_0x10c84d*_0x1d9518,_0x21be58[-0x89f+0x1038+-0x792]=0x2605*-0x1+-0x243f+-0x2522*-0x2,_0x450e65=_0x3d77d[0x1*-0x4f9+-0x77*0x35+0x1da4],_0x2117e3=_0x3d77d[-0x99f+0x1c7+0x7e1],_0x1d9518=_0x3d77d[0x4*0x1df+0x3c1*0x5+0x1*-0x1a37],_0x21be58[-0x7*0x297+0x4*-0x842+0xa3d*0x5]=_0x21e62e*_0x450e65+_0x5a4b7b*_0x2117e3+_0x408e11*_0x1d9518,_0x21be58[0x959+0xf21*-0x1+0x1*0x5d1]=_0x6f2cca*_0x450e65+_0x1739f9*_0x2117e3+_0x3abb04*_0x1d9518,_0x21be58[0x1e72*0x1+0x1631+0x1*-0x3499]=_0x20b6cf*_0x450e65+_0x103b75*_0x2117e3+_0x10c84d*_0x1d9518,_0x21be58[-0x99*-0x1+0x281*0x1+-0x30f]=0x23b0+-0x4d9+-0x1ed7,_0x450e65=_0x3d77d[0x25d*-0xb+-0x14a6+0x2eb1*0x1],_0x2117e3=_0x3d77d[-0x10b1+-0x30f+0x1*0x13cd],_0x1d9518=_0x3d77d[-0xa40+-0x1fdd+0x2a2b],_0x21be58[0x2207+-0xfd5+0x1*-0x1226]=_0x21e62e*_0x450e65+_0x5a4b7b*_0x2117e3+_0x408e11*_0x1d9518+_0x15d870,_0x21be58[-0x56a*-0x6+-0x112f+-0xf40]=_0x6f2cca*_0x450e65+_0x1739f9*_0x2117e3+_0x3abb04*_0x1d9518+_0x40acaf,_0x21be58[0x6*-0x48+-0x27a+0x438]=_0x20b6cf*_0x450e65+_0x103b75*_0x2117e3+_0x10c84d*_0x1d9518+_0x193561,_0x21be58[-0x1246+-0x9f3+0x1c48]=0x59*0x65+0x3*-0xd+-0x22f5,this;}['mul'](_0x224920){return this['mul2'](this,_0x224920);}['transformP'+'oint'](_0x1def79,_0x7f657d=new T()){const _0x1cb1c9=this['data'],{x:_0x528205,y:_0x4b87e3,z:_0x408a27}=_0x1def79;return _0x7f657d['x']=_0x528205*_0x1cb1c9[0x149f+0x14cb+-0x296a]+_0x4b87e3*_0x1cb1c9[0xa1*-0x1+-0x11eb+0x58*0x36]+_0x408a27*_0x1cb1c9[-0x1b15+0x1f7*-0x5+0x24f0]+_0x1cb1c9[0xa7b*-0x1+0xcc6+0x19*-0x17],_0x7f657d['y']=_0x528205*_0x1cb1c9[-0x724+0x17*-0xe6+-0x1*-0x1bcf]+_0x4b87e3*_0x1cb1c9[0x293*-0x4+-0x1*0x1ed9+0x292a]+_0x408a27*_0x1cb1c9[0x2156+0x1632+-0x1*0x377f]+_0x1cb1c9[-0x287+-0x1*-0x1039+-0x1*0xda5],_0x7f657d['z']=_0x528205*_0x1cb1c9[-0x213c+0x2398+-0x25a]+_0x4b87e3*_0x1cb1c9[0x58a*-0x6+0x783+0x19bf]+_0x408a27*_0x1cb1c9[-0x1d*0x6d+-0x1*0x24b3+0x3116]+_0x1cb1c9[-0x1*0x96d+0x7fa+0x181],_0x7f657d;}['transformV'+'ector'](_0x1b5c5d,_0x3152c3=new T()){const _0xed7dc=this['data'],{x:_0x5817f5,y:_0x3e188f,z:_0x24bc73}=_0x1b5c5d;return _0x3152c3['x']=_0x5817f5*_0xed7dc[-0x10d6+-0x28*-0x77+0xf*-0x1e]+_0x3e188f*_0xed7dc[0x1e43+0x4*0xca+-0x2167]+_0x24bc73*_0xed7dc[-0x679+0x4ca+0x1b7],_0x3152c3['y']=_0x5817f5*_0xed7dc[-0x5b7+0x4f*-0x1+0x607]+_0x3e188f*_0xed7dc[-0x3*0x175+-0x103e+0x14a2]+_0x24bc73*_0xed7dc[0x1*-0x1c63+-0x1a8*-0x16+-0x804],_0x3152c3['z']=_0x5817f5*_0xed7dc[-0xe49+-0xb89*0x3+0x472*0xb]+_0x3e188f*_0xed7dc[-0x90b+-0x1d54+0x2665]+_0x24bc73*_0xed7dc[0x14af+0x1*-0xc45+0x218*-0x4],_0x3152c3;}['transformV'+'ec4'](_0xdec434,_0x5350e7=new Q()){const _0x1bf346=this['data'],{x:_0x2be8ff,y:_0x1af1d6,z:_0x242d82,w:_0x216701}=_0xdec434;return _0x5350e7['x']=_0x2be8ff*_0x1bf346[0x426+0x19a2+-0x1dc8]+_0x1af1d6*_0x1bf346[0x8*-0x170+0x1f*0x115+-0x1607]+_0x242d82*_0x1bf346[-0x7*-0xb3+0x55f+-0x2*0x51e]+_0x216701*_0x1bf346[-0x26*0x8b+0x1609+0x15b*-0x1],_0x5350e7['y']=_0x2be8ff*_0x1bf346[-0x2112+0x24f*-0xf+0x43b4]+_0x1af1d6*_0x1bf346[-0x1c72*-0x1+0x14bd+0x312a*-0x1]+_0x242d82*_0x1bf346[-0x48b*-0x7+0xd*-0x274+0x1*0x20]+_0x216701*_0x1bf346[0xb2+0xda+-0x17f],_0x5350e7['z']=_0x2be8ff*_0x1bf346[0x19b5+-0x101*0x1e+0x46b]+_0x1af1d6*_0x1bf346[0x9d2+0x1a6*0x3+-0xebe]+_0x242d82*_0x1bf346[0x29e+0x295*0xb+-0x1efb]+_0x216701*_0x1bf346[0x112c+0x1384*-0x2+0x15ea],_0x5350e7['w']=_0x2be8ff*_0x1bf346[-0x12eb+-0x50*-0x34+0x2*0x157]+_0x1af1d6*_0x1bf346[0x14b*-0x16+-0x1aee+0x3767*0x1]+_0x242d82*_0x1bf346[-0xd53*-0x1+0x8c3+-0x160b]+_0x216701*_0x1bf346[0x2081+-0x4a2*0x7+-0x4],_0x5350e7;}['setLookAt'](_0x2ed76d,_0x333e64,_0x15291e){Os['sub2'](_0x2ed76d,_0x333e64)['normalize'](),Fs['copy'](_0x15291e)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x2c7213=this['data'];return _0x2c7213[0x121b+0xe5c+-0x1*0x2077]=us['x'],_0x2c7213[0xb97+-0xe96+0x300]=us['y'],_0x2c7213[0x9cd*-0x1+-0x7*-0x40d+-0x128c]=us['z'],_0x2c7213[0x58e+-0x7e+0x1*-0x50d]=-0x250c+-0xeaa+0x33b6,_0x2c7213[-0x249c+0xd9c+0xb82*0x2]=Fs['x'],_0x2c7213[-0x1f7*0x2+-0x1fcd*-0x1+0x1bda*-0x1]=Fs['y'],_0x2c7213[0xd96+-0x167*-0x9+0x1a2f*-0x1]=Fs['z'],_0x2c7213[-0x2089+-0xae*-0x2+-0x2*-0xf9a]=0x10ee+0x13d4+-0x24c2,_0x2c7213[-0x3*-0x573+-0x8da+-0x777]=Os['x'],_0x2c7213[0x1*-0x264b+-0x1e03*0x1+0x4457]=Os['y'],_0x2c7213[-0x5*-0xb9+0xd7a+-0x1*0x110d]=Os['z'],_0x2c7213[0x26c8+-0x55b*-0x6+-0x46df*0x1]=0x1*-0x392+0x1cd5+-0xdf*0x1d,_0x2c7213[-0x1563+0x213*-0x9+0x281a]=_0x2ed76d['x'],_0x2c7213[0x90f+-0x1*-0x1a92+-0x63*0x5c]=_0x2ed76d['y'],_0x2c7213[0x694+0xa8a+-0x1110]=_0x2ed76d['z'],_0x2c7213[-0x2*0xaca+-0x697+0x1c3a]=-0x35c*-0x5+0x248f+0x1*-0x355a,this;}['setFrustum'](_0x5524d5,_0x2b9997,_0x27c5aa,_0x744734,_0x142b99,_0x747b6c){const _0xbc9ae0=(0x1285+0x1ec6+-0x3149)*_0x142b99,_0x4b32e1=_0x2b9997-_0x5524d5,_0x1e3ac9=_0x744734-_0x27c5aa,_0x1d6646=_0x747b6c-_0x142b99,_0x2af545=this['data'];return _0x2af545[-0xf61+0xa0*-0xb+0x9*0x279]=_0xbc9ae0/_0x4b32e1,_0x2af545[-0xd9b+-0x1f84+0x2d20]=-0x1*0x19ba+0x2*-0xe12+0x35de,_0x2af545[0x7a2+0x13e5+-0x5*0x581]=0x1*-0x121f+-0x10c9*0x2+0x4b3*0xb,_0x2af545[0x8c5*-0x4+-0x1*0x211c+0x4433]=-0x746*0x2+0x329*-0x6+-0x10c1*-0x2,_0x2af545[0x9d*0xe+-0x5f0*0x2+0x8d*0x6]=0x679*-0x5+-0xa*-0x35d+-0x5*0x41,_0x2af545[0xdd7*0x2+0x545+-0x20ee]=_0xbc9ae0/_0x1e3ac9,_0x2af545[0xa3d*0x1+-0x7*-0xe+-0xa99*0x1]=0x36f*-0x1+0x11fa+-0xe8b*0x1,_0x2af545[0x11c*0x14+-0xfe7+-0x642]=0x2*-0x25c+0x1abb+-0x1603,_0x2af545[-0x352+0x79*0x3a+0x1c*-0xdc]=(_0x2b9997+_0x5524d5)/_0x4b32e1,_0x2af545[0xa9*-0x1a+-0x1*-0x944+0x7ef]=(_0x744734+_0x27c5aa)/_0x1e3ac9,_0x2af545[0x1*0x869+0x4*-0x2c3+0x1*0x2ad]=(-_0x747b6c-_0x142b99)/_0x1d6646,_0x2af545[-0x1b5b*0x1+-0xc1*-0x7+0x161f]=-(-0x103b+0x637*0x6+0x16*-0xf5),_0x2af545[-0xc91+-0x1a3d+0x26da]=-0x1e65*-0x1+-0xe*-0x168+0x1*-0x3215,_0x2af545[-0x2315+-0x405*-0x5+0xf09]=-0xcae+0x26b2+-0x1a04,_0x2af545[0x5*0x21a+0x12ba+-0xa6*0x2d]=-_0xbc9ae0*_0x747b6c/_0x1d6646,_0x2af545[-0x196+-0x18dd+0x1a*0x105]=0x3*-0x3b3+0x15de+-0xac5,this;}['setPerspec'+'tive'](_0x41ae19,_0x52dbab,_0x12b405,_0x400145,_0x23314c){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0x41ae19,_0x52dbab,_0x12b405,_0x23314c),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x12b405,_0x400145);}['setOrtho'](_0x2516a9,_0x243e47,_0x2391de,_0x298bdd,_0x2e8c93,_0x7351a6){const _0x43ea78=this['data'];return _0x43ea78[-0x187a+0x21ff+0x985*-0x1]=(0x38*-0x7f+-0x4ed+0x20b7)/(_0x243e47-_0x2516a9),_0x43ea78[0x2393+0x1dd+-0x256f]=-0x2588+-0x6*0xf9+0x2b5e,_0x43ea78[-0x83*-0x5+0x1466+-0x1*0x16f3]=-0x1d*-0xb+-0x24ef+0x23b0,_0x43ea78[-0x1*0xea1+-0x10e7*0x1+0x1f8b]=-0xda6+0xe43+0x9d*-0x1,_0x43ea78[0x2530+-0x923+-0x1c09*0x1]=0x6*-0x51f+0xa*0x3b5+-0x658,_0x43ea78[-0xefc+0x1be0+-0xcdf]=(0x24a*-0x2+0x1*0x1c5+0x2d1*0x1)/(_0x298bdd-_0x2391de),_0x43ea78[-0x23f0+0xaa+0x1*0x234c]=0x6a5*-0x2+0x1359+0x21*-0x2f,_0x43ea78[-0x1086+-0x4*0x430+0x1f*0x113]=0x1*0x1bc2+-0x3*-0x1cd+-0x2129*0x1,_0x43ea78[-0x5d1*0x3+0x1aa1+0x2*-0x493]=-0x211e+-0x4b2*-0x5+0x2*0x4d2,_0x43ea78[-0x18a*-0x4+-0x2505+0x1ee6]=0x20fa+0x529*-0x1+-0x1*0x1bd1,_0x43ea78[0xc71+0x1f21+-0x2b88]=-(0x90f+-0x851*-0x3+-0x440*0x8)/(_0x7351a6-_0x2e8c93),_0x43ea78[-0x1*-0x111b+-0x1f91+0xe81]=-0x3e*-0x2b+0x12b3*-0x1+0x12f*0x7,_0x43ea78[0xd9*0x1f+-0x25dc+-0xd*-0xe5]=-(_0x243e47+_0x2516a9)/(_0x243e47-_0x2516a9),_0x43ea78[-0x580+-0xc2f+0x11bc]=-(_0x298bdd+_0x2391de)/(_0x298bdd-_0x2391de),_0x43ea78[-0x3*0x5d+-0x1b90+-0x1cb5*-0x1]=-(_0x7351a6+_0x2e8c93)/(_0x7351a6-_0x2e8c93),_0x43ea78[-0x1*0x9a7+0x25*0xa9+-0xeb7]=0x1852*0x1+-0xb3e+-0xd13,this;}['setFromAxi'+'sAngle'](_0x6a84f2,_0x1883ad){_0x1883ad*=N['DEG_TO_RAD'];const {x:_0x2a14a1,y:_0x4fc17d,z:_0x2f3aaf}=_0x6a84f2,_0x1b6b5e=Math['cos'](_0x1883ad),_0x53e6dd=Math['sin'](_0x1883ad),_0x32cc0e=-0x2*-0xae5+-0x2*-0x11bf+0x155*-0x2b-_0x1b6b5e,_0x35adb5=_0x32cc0e*_0x2a14a1,_0x303a85=_0x32cc0e*_0x4fc17d,_0x3d4a45=this['data'];return _0x3d4a45[-0x8*-0x47d+0x34*0x16+-0x2860]=_0x35adb5*_0x2a14a1+_0x1b6b5e,_0x3d4a45[0x1f57*-0x1+0xe3d+0x111b*0x1]=_0x35adb5*_0x4fc17d+_0x53e6dd*_0x2f3aaf,_0x3d4a45[-0x1073*0x1+-0x1b1*-0x6+0x5*0x143]=_0x35adb5*_0x2f3aaf-_0x53e6dd*_0x4fc17d,_0x3d4a45[-0x1*0x1c63+0x5a5+0x16c1]=-0x3*-0x241+-0x5c5+0x2*-0x7f,_0x3d4a45[-0x2033+-0x2*-0x1135+0x1*-0x233]=_0x35adb5*_0x4fc17d-_0x53e6dd*_0x2f3aaf,_0x3d4a45[0x3fb*-0x1+-0x1*-0xfa0+-0xba0]=_0x303a85*_0x4fc17d+_0x1b6b5e,_0x3d4a45[0xe47+0x90+0x1*-0xed1]=_0x303a85*_0x2f3aaf+_0x53e6dd*_0x2a14a1,_0x3d4a45[-0x28e+0x2*0x75b+-0x40b*0x3]=-0x1def*0x1+-0x17ea+0x35d9,_0x3d4a45[-0x1a90+0xe3b*0x1+0xc5d]=_0x35adb5*_0x2f3aaf+_0x53e6dd*_0x4fc17d,_0x3d4a45[0x650+0xe10+-0x29*0x7f]=_0x303a85*_0x2f3aaf-_0x2a14a1*_0x53e6dd,_0x3d4a45[0x19a8+0x7f7*-0x1+-0x11a7]=_0x32cc0e*_0x2f3aaf*_0x2f3aaf+_0x1b6b5e,_0x3d4a45[0xe7*-0x17+-0x20b7+0x85*0x67]=0x2*-0xc29+-0x1ed1+0x3723*0x1,_0x3d4a45[-0x2*-0x7f0+-0xf7e+-0x56]=-0x7*-0x26+-0xd45+0xc3b,_0x3d4a45[-0xa3*0x2+0x143a+-0x12e7]=0x2b2+-0x1*-0x113e+0x3a*-0x58,_0x3d4a45[-0x476+0x59a+-0x116]=0x56f*-0x7+-0x889+0x2e92,_0x3d4a45[0x5*0x65a+-0xe43+-0x1170]=0x4b*0x66+0x1c0*0x14+0x3d1*-0x11,this;}['setTransla'+'te'](_0x4dce07,_0x1f76a5,_0x469625){const _0x2bb63c=this['data'];return _0x2bb63c[-0x6ed*0x5+0x27a*0x8+0xed1]=0x1e21+0x10ed+-0x2f0d,_0x2bb63c[-0x255+-0x12ce+0x1524]=0x1841+0x1215*-0x1+-0x62c,_0x2bb63c[-0x3*-0x4d+-0x803+-0x38f*-0x2]=0xbe6*0x1+0x722+-0x1308,_0x2bb63c[-0x3c0+-0x4d*-0x41+0x2f*-0x56]=0x3*0x8d6+-0x1*0x1746+0x24*-0x17,_0x2bb63c[-0x1102+0xca4+0x462]=-0x8*0x187+-0x1*-0x13eb+0x9*-0xdb,_0x2bb63c[0x3d3*0x8+-0x9b*-0x40+0x4553*-0x1]=0x1b33+-0xd89+-0xda9,_0x2bb63c[-0x21a8+0x5*0x251+-0x1*-0x1619]=-0x1d75+-0x3*0xb6b+0x3fb6,_0x2bb63c[0x377*-0x4+0x55b+0x888]=0x1da3+0x682*-0x1+-0x1721*0x1,_0x2bb63c[-0x17b9*0x1+0x1*0xecf+0x8f2]=0x1260+-0x1cff+0x1*0xa9f,_0x2bb63c[0x971+-0x87c+-0xec]=0x1349*-0x2+-0x269f*0x1+0x4d31,_0x2bb63c[-0x12ff+-0x26c6+0x39cf]=-0x1*0x26ea+0xeed*0x1+-0x1*-0x17fe,_0x2bb63c[0x867+-0xf4*-0x3+-0x167*0x8]=0x5*-0x46a+0x4*0x79d+-0x2*0x431,_0x2bb63c[0x719*0x1+0xb76+-0x1283]=_0x4dce07,_0x2bb63c[0xb4f+-0x6*0x637+-0xd04*-0x2]=_0x1f76a5,_0x2bb63c[-0xb89+0xcad+-0x116]=_0x469625,_0x2bb63c[0x2419*0x1+-0x137*0x2+-0x219c]=0x1*0x9bb+-0xcb2*-0x3+0x198*-0x1e,this;}['setScale'](_0x39158e,_0x1b2316,_0x55df08){const _0x20940e=this['data'];return _0x20940e[0x16a3+-0xbf2*-0x1+-0x2295]=_0x39158e,_0x20940e[-0x121f+-0x4b*-0x1f+0x90b]=-0x34*0xb+-0x431+0x66d,_0x20940e[0x1*0x17c2+0x151+0x5d*-0x45]=-0x1144+0x10d*0x12+0xd3*-0x2,_0x20940e[0x11*-0x61+0x25*0xff+-0x1e67]=-0x1e11+-0x613*-0x3+0xbd8,_0x20940e[-0x5bd*0x2+-0x10bf+-0x1*-0x1c3d]=0x111e+0x110*-0xa+-0x2*0x33f,_0x20940e[-0x26f4+-0x1*0xd81+0x8bf*0x6]=_0x1b2316,_0x20940e[-0x24*-0xa0+0x22*-0x6d+0x8*-0x100]=-0x13d*0x12+-0x9b5+-0x1*-0x1fff,_0x20940e[0xa71*0x1+-0x2*-0x38b+-0x4*0x460]=-0x329*0x3+0x4*-0x655+0x22cf,_0x20940e[0x12c4*-0x1+-0xbb2+0x1e7e]=-0x1cd6+0x3*-0x52+0x1*0x1dcc,_0x20940e[0x1*0x1738+-0x6b3+-0x107c]=-0x22c7+0x167*-0xb+0x3234,_0x20940e[0xedb+-0xbb8+-0xd*0x3d]=_0x55df08,_0x20940e[-0xc8e+0x1*-0x23c5+0x52*0x97]=-0x1864+-0x1f4c+0x510*0xb,_0x20940e[-0x3f*0x93+-0x2*0x107e+0x7*0x9e3]=-0xc66+-0xc58+-0xc5f*-0x2,_0x20940e[0x47f+0x2*-0x1039+0x1c00]=-0x690+-0x14c*-0x1b+0x4*-0x71d,_0x20940e[-0xc71+-0x1*-0xd5d+-0xde]=-0x2*0x39b+0x54a+0x7b*0x4,_0x20940e[-0x83*0x9+0x55*0x1+0x455]=0x1adb+0x1*-0x1ecb+0x3f1,this;}['setViewpor'+'t'](_0x1e72aa,_0x7a521f,_0x270ed2,_0x52abf0){const _0x52c3a5=this['data'];return _0x52c3a5[-0x2*0xce3+-0x1*-0xa49+-0x1*-0xf7d]=_0x270ed2*(-0x1133+0x203b+-0xf08+0.5),_0x52c3a5[0x1913+0x13fe+-0x2d10]=-0xf67*0x1+0x2534+-0x1*0x15cd,_0x52c3a5[0x45a*0x2+0x19f4+-0x22a6]=-0x124c*-0x1+-0x26*-0x71+-0x2312,_0x52c3a5[0xf06+0x1ac+0x10af*-0x1]=-0x236d+0x62*0x1+-0x230b*-0x1,_0x52c3a5[-0x1*-0x44f+-0x1670+-0x3a1*-0x5]=0x58*-0x68+-0x120e+0xc2*0x47,_0x52c3a5[0x29a*0x4+0x1be3*0x1+-0x8e*0x45]=_0x52abf0*(-0x3*0x606+-0x1c4e+0xe*0x350+0.5),_0x52c3a5[-0x1c1a+-0x1052*-0x2+0x2*-0x242]=-0x34b*-0x3+-0x3*-0x351+-0x4*0x4f5,_0x52c3a5[0x88c+-0x7a4+-0xe1]=-0x1edd+0x2d9*-0xb+0x18e*0x28,_0x52c3a5[-0x3e6*0x2+0x16dc+-0xf08]=0x2321+-0x65b*0x5+0xb*-0x4e,_0x52c3a5[0xe*0x2ab+-0x473*-0x5+-0x8*0x772]=0x1*-0x338+-0x12f7+0x162f,_0x52c3a5[0x16e+0x257c+-0x26e0]=0x129d+0x1*-0x254b+0x12ae+0.5,_0x52c3a5[0x7*0x56d+-0x64*0x32+-0x1268]=0xe05*0x1+-0x243e+0x1639,_0x52c3a5[-0x1*0x2629+-0x17e1+0x3e16]=_0x1e72aa+_0x270ed2*(-0x53*0x7+0x60c*-0x6+0x268d+0.5),_0x52c3a5[0x445+0x25f9+-0x2a31]=_0x7a521f+_0x52abf0*(-0x58*-0x35+-0x819*0x1+0xa1f*-0x1+0.5),_0x52c3a5[0x101*0x3+-0x234e*-0x1+-0x2643]=0x244c+-0x2b*-0xd9+-0x48bf+0.5,_0x52c3a5[-0x2*-0xdf6+-0x1480*-0x1+-0x305d]=0x27*0x62+-0x2*0x289+-0x9db,this;}['setReflect'+'ion'](_0x691c45,_0x54a77b){const _0x52f633=_0x691c45['x'],_0x15da6b=_0x691c45['y'],_0x8459aa=_0x691c45['z'],_0x3fee9b=this['data'];return _0x3fee9b[-0x1*-0x1b7d+-0xc8+-0x1ab5]=-0x175+-0x25fd*-0x1+-0x2487-(-0x1*0x1f16+0x52*0x2+-0xf3a*-0x2)*_0x52f633*_0x52f633,_0x3fee9b[0x10d*0x3+0x8ac+-0xbd2]=-(0x1ab2+0x13*-0xc2+-0xc4a)*_0x52f633*_0x15da6b,_0x3fee9b[0x2e*0x7f+-0x40b+-0x12c5]=-(0x7cf+-0x157e*-0x1+-0x1*0x1d4b)*_0x52f633*_0x8459aa,_0x3fee9b[0x24fe+-0xda5+0x1d*-0xce]=0xc*-0x2c7+0xc*0x190+0xe94,_0x3fee9b[-0x13eb+0x126b*-0x1+0x265a]=-(-0x3b*0x8b+-0xd10+0x2d1b)*_0x52f633*_0x15da6b,_0x3fee9b[-0x1a*0x23+0x1687*-0x1+0x1a1a]=-0x2342+0x49*-0x10+-0x7f7*-0x5-(-0x1*-0x9c1+0x13f*-0x19+0x1568)*_0x15da6b*_0x15da6b,_0x3fee9b[0x1cf8+0x65a+-0x234c]=-(-0x270d+-0x1789*0x1+0xfa6*0x4)*_0x15da6b*_0x8459aa,_0x3fee9b[0x156d+-0x2*-0xde6+-0x3132]=0x2706+-0x25a5+-0x161,_0x3fee9b[-0x1da7+0x50e*-0x1+0x22bd]=-(0x4*0x191+0x6ef+-0xd31)*_0x52f633*_0x8459aa,_0x3fee9b[0x5*0x54+0xf9+-0x294]=-(-0x1741+-0x1*-0x1e8a+-0x3*0x26d)*_0x15da6b*_0x8459aa,_0x3fee9b[-0x124*-0x2+-0x1b*0xa3+0xef3]=0x43e*-0x4+-0x1*-0x1be6+-0xaed*0x1-(0x1056+0x1b*0x86+-0x1e76)*_0x8459aa*_0x8459aa,_0x3fee9b[-0x455*0x7+0x1*-0xc01+0x2a5f]=0x7e1*0x4+-0x10a5+0x4f5*-0x3,_0x3fee9b[0x1fd5+0x1421*0x1+0x3*-0x114e]=-(0x553+0x242*0x1+-0x7*0x115)*_0x52f633*_0x54a77b,_0x3fee9b[-0x2*0x477+0x1379*-0x1+-0x4*-0x71d]=-(0x34*0x8c+0x67d*0x4+-0x3662)*_0x15da6b*_0x54a77b,_0x3fee9b[-0x2405+-0x8*-0x252+-0x1*-0x1183]=-(-0x805+0x2594+-0x1*0x1d8d)*_0x8459aa*_0x54a77b,_0x3fee9b[-0x23a5+-0x233*-0x7+0x144f]=-0x1*0x1777+-0x72*0x3+0x18ce,this;}['invert'](_0x3853d7=this){const _0x1ff317=_0x3853d7['data'],_0x25d0f4=_0x1ff317[0x19cb*0x1+0x1556+0x13*-0x27b],_0x5194bb=_0x1ff317[0x821+-0x6d6+0xb*-0x1e],_0xa6be06=_0x1ff317[0x802+0x418+-0xc18],_0xba1839=_0x1ff317[-0x1*0x12a3+0x5*0x4e5+-0xd5*0x7],_0x4e7db8=_0x1ff317[0xdc*0x5+0xaee+-0xf36],_0x305f45=_0x1ff317[0x2060+0x412+-0x246d],_0x123d35=_0x1ff317[-0x43d*0x5+-0x208c+-0x35c3*-0x1],_0x1be928=_0x1ff317[0x13e*0x10+-0x25aa+0x11d1],_0x28d570=_0x1ff317[-0x1f04+-0x2*0xa08+-0x1*-0x331c],_0x5183b9=_0x1ff317[-0xe20+-0x2363+0x318c],_0x2d762b=_0x1ff317[0x2b8+-0x1bfd+0x194f],_0x1c7378=_0x1ff317[-0x3*0x2a7+0x173e+-0xf3e],_0x5ab25b=_0x1ff317[-0x3f2+0x99b+-0x59d*0x1],_0x544a72=_0x1ff317[-0x26cb+-0x102f*0x1+0x3707],_0xa9bf53=_0x1ff317[-0xf7+-0x2*-0xb99+-0x162d],_0x4013cb=_0x1ff317[-0x14*-0x160+-0x1*-0x75b+-0x8b3*0x4],_0x3a3559=_0x25d0f4*_0x305f45-_0x5194bb*_0x4e7db8,_0x36f1dd=_0x25d0f4*_0x123d35-_0xa6be06*_0x4e7db8,_0x5f45f9=_0x25d0f4*_0x1be928-_0xba1839*_0x4e7db8,_0x1356d2=_0x5194bb*_0x123d35-_0xa6be06*_0x305f45,_0x597f31=_0x5194bb*_0x1be928-_0xba1839*_0x305f45,_0x9a65a2=_0xa6be06*_0x1be928-_0xba1839*_0x123d35,_0x4a2565=_0x28d570*_0x544a72-_0x5183b9*_0x5ab25b,_0x3fc30d=_0x28d570*_0xa9bf53-_0x2d762b*_0x5ab25b,_0x2f487f=_0x28d570*_0x4013cb-_0x1c7378*_0x5ab25b,_0x517a99=_0x5183b9*_0xa9bf53-_0x2d762b*_0x544a72,_0x313d91=_0x5183b9*_0x4013cb-_0x1c7378*_0x544a72,_0x536c61=_0x2d762b*_0x4013cb-_0x1c7378*_0xa9bf53,_0x17790b=_0x3a3559*_0x536c61-_0x36f1dd*_0x313d91+_0x5f45f9*_0x517a99+_0x1356d2*_0x2f487f-_0x597f31*_0x3fc30d+_0x9a65a2*_0x4a2565;if(_0x17790b===0x3*0x95f+0x20bd+-0x3cda)this['setIdentit'+'y']();else{const _0x5de141=(-0x4ed+-0x1*-0x4bc+0x1*0x32)/_0x17790b,_0x4cb496=this['data'];_0x4cb496[-0xa*-0x279+0xbe4+-0x249e]=(_0x305f45*_0x536c61-_0x123d35*_0x313d91+_0x1be928*_0x517a99)*_0x5de141,_0x4cb496[0xe17*0x2+0xdb6+-0x29e3]=(-_0x5194bb*_0x536c61+_0xa6be06*_0x313d91-_0xba1839*_0x517a99)*_0x5de141,_0x4cb496[-0xa*0x1ed+-0x17a5+0x2ae9]=(_0x544a72*_0x9a65a2-_0xa9bf53*_0x597f31+_0x4013cb*_0x1356d2)*_0x5de141,_0x4cb496[0x153+-0x63a*0x3+0xab*0x1a]=(-_0x5183b9*_0x9a65a2+_0x2d762b*_0x597f31-_0x1c7378*_0x1356d2)*_0x5de141,_0x4cb496[-0x1f70+0xd0d+0x1267]=(-_0x4e7db8*_0x536c61+_0x123d35*_0x2f487f-_0x1be928*_0x3fc30d)*_0x5de141,_0x4cb496[-0x31*0x1c+0x2*-0x7bf+0x6f5*0x3]=(_0x25d0f4*_0x536c61-_0xa6be06*_0x2f487f+_0xba1839*_0x3fc30d)*_0x5de141,_0x4cb496[-0xa89*0x1+0x1da*-0x6+-0x2b*-0x81]=(-_0x5ab25b*_0x9a65a2+_0xa9bf53*_0x5f45f9-_0x4013cb*_0x36f1dd)*_0x5de141,_0x4cb496[-0xe2b+0x1*-0x74b+0x157d]=(_0x28d570*_0x9a65a2-_0x2d762b*_0x5f45f9+_0x1c7378*_0x36f1dd)*_0x5de141,_0x4cb496[-0x2*0xdc3+-0x95*0x18+-0x84e*-0x5]=(_0x4e7db8*_0x313d91-_0x305f45*_0x2f487f+_0x1be928*_0x4a2565)*_0x5de141,_0x4cb496[-0x1b8b*0x1+0x2472+-0x8de]=(-_0x25d0f4*_0x313d91+_0x5194bb*_0x2f487f-_0xba1839*_0x4a2565)*_0x5de141,_0x4cb496[-0x6b2+-0xfc+0x13*0x68]=(_0x5ab25b*_0x597f31-_0x544a72*_0x5f45f9+_0x4013cb*_0x3a3559)*_0x5de141,_0x4cb496[-0x775*-0x3+0x48*-0x25+-0xbec]=(-_0x28d570*_0x597f31+_0x5183b9*_0x5f45f9-_0x1c7378*_0x3a3559)*_0x5de141,_0x4cb496[0x232f+0x1d94+-0x40b7*0x1]=(-_0x4e7db8*_0x517a99+_0x305f45*_0x3fc30d-_0x123d35*_0x4a2565)*_0x5de141,_0x4cb496[0x8*0x30d+0xc1f+-0x142*0x1d]=(_0x25d0f4*_0x517a99-_0x5194bb*_0x3fc30d+_0xa6be06*_0x4a2565)*_0x5de141,_0x4cb496[0x1363*0x1+0x44e+-0x17a3*0x1]=(-_0x5ab25b*_0x1356d2+_0x544a72*_0x36f1dd-_0xa9bf53*_0x3a3559)*_0x5de141,_0x4cb496[-0x887+-0x1*-0x473+0x423]=(_0x28d570*_0x1356d2-_0x5183b9*_0x36f1dd+_0x2d762b*_0x3a3559)*_0x5de141;}return this;}['set'](_0x4a0af1){const _0x5d3671=this['data'];return _0x5d3671[-0xec9+-0x6dc+0x15a5*0x1]=_0x4a0af1[-0x555+0x1a*-0x4e+0xd41],_0x5d3671[-0x175*-0x17+0x1273*-0x1+-0xf*0x101]=_0x4a0af1[0x9*0x2f1+0x5a*0x7+-0x1cee],_0x5d3671[0x186d+-0x1d3c+0x4d1]=_0x4a0af1[-0x1ac+0x3*0x79c+-0x1526],_0x5d3671[-0x3*0x952+0x125b*0x1+0x99e*0x1]=_0x4a0af1[-0x1*0x1097+-0x1644+0x26de],_0x5d3671[-0x1a6a+0x4*0x3c8+0xb4e]=_0x4a0af1[-0x100f+-0x1bd3+0x1*0x2be6],_0x5d3671[0x6a+0x9eb*0x2+-0x143b]=_0x4a0af1[-0x2085+0x38c*0x5+0x1*0xece],_0x5d3671[0x3*0x8fe+0x12db+0x1*-0x2dcf]=_0x4a0af1[-0xb8*0xc+-0xe39+0x16df],_0x5d3671[-0x19a0+-0xc52*0x1+0x1*0x25f9]=_0x4a0af1[0x104c+-0xc65+-0x3e0],_0x5d3671[-0x1*-0x1c0d+0x1371+0x7e9*-0x6]=_0x4a0af1[-0x384+0x1f43*0x1+-0x81*0x37],_0x5d3671[-0x9e0+-0x133c+-0x3*-0x9b7]=_0x4a0af1[-0xa94+-0x60+-0x1d*-0x61],_0x5d3671[-0x7aa+0xc7*0xa+0x1*-0x12]=_0x4a0af1[0x16c3*-0x1+0x2dd+0x13f0],_0x5d3671[0xc41*0x1+0x16*-0x1d+-0x9b8]=_0x4a0af1[-0x21ec+0xb5*0xb+0x1a30],_0x5d3671[0x3fb*-0x3+0x784*0x4+-0x1*0x1213]=_0x4a0af1[-0x39*-0x39+-0x2ab*-0x4+-0x1751],_0x5d3671[0x235f+0x14*0x12a+-0x3a9a]=_0x4a0af1[0x1dda+-0x18b8+-0x1*0x515],_0x5d3671[0xc94+0xce+0x4*-0x355]=_0x4a0af1[0x1a9e+0x18ae+-0x333e],_0x5d3671[-0x11*-0x59+-0x154+-0x486]=_0x4a0af1[-0xd55+0x25c2+0x185e*-0x1],this;}['setIdentit'+'y'](){const _0x142955=this['data'];return _0x142955[-0x17*-0x16f+-0x18c7*0x1+-0x832*0x1]=-0x5*0x18a+-0x15a9+0x1d5c,_0x142955[-0xce*-0x1a+-0x625*-0x1+0x2*-0xd88]=-0x2158*0x1+0x1aa3+-0x1*-0x6b5,_0x142955[0x9ce+0x2194+-0xad8*0x4]=0x12c6+-0x1bb6+0xb0*0xd,_0x142955[-0xcb9*-0x2+-0x93c+0xb*-0x179]=-0xe6c+0x91f+0x54d,_0x142955[-0x1e33+0xcd4*0x1+0x1163]=-0x1771*0x1+-0x140d+0x2b7e,_0x142955[-0xbc+-0x10e3+-0x2*-0x8d2]=-0x251a+-0x1*-0x1adf+-0x2*-0x51e,_0x142955[0x2145+-0xda5+-0x139a]=0x1*-0x1c92+0x14+0x1c7e,_0x142955[0xb80+-0x11*-0xb5+-0x177e]=-0x6*-0x355+0x2703+-0x3b01,_0x142955[0x283+-0x382*0x4+-0xb8d*-0x1]=0x1df2+-0x1*-0x1855+-0x5*0xadb,_0x142955[0xa67+0x826+-0x1284]=0x3*0xa0d+0xd*-0x247+-0x8c,_0x142955[0x5*0x1a+0x1b*-0x14e+0x22c2]=-0xa8d*0x2+-0x1c3f*0x1+0x2*0x18ad,_0x142955[-0x448*0x3+-0x100a+-0x1*-0x1ced]=0x115b*-0x1+-0xc*-0x139+0x2af,_0x142955[0xb*-0x35+-0x260d+0x13*0x220]=0x17af+0x1089+0x4*-0xa0e,_0x142955[0x47*0x19+0x1328+0x3*-0x8ae]=-0x10*-0xcb+-0x181+-0xb2f,_0x142955[-0x244a+0x3e1+0x1*0x2077]=-0x1*-0x1e9b+-0x1a61+-0x43a,_0x142955[0x213b*-0x1+-0x8bd+0xcb*0x35]=-0x1*0x122b+0xf1+0x113b,this;}['setTRS'](_0x217977,_0x2edaf1,_0x3fd247){const _0x4e4f6e=_0x2edaf1['x'],_0x56f87f=_0x2edaf1['y'],_0xf3bb9=_0x2edaf1['z'],_0x3fc74f=_0x2edaf1['w'],_0x431200=_0x3fd247['x'],_0x145406=_0x3fd247['y'],_0x1b5e2b=_0x3fd247['z'],_0x4bac36=_0x4e4f6e+_0x4e4f6e,_0x54fa05=_0x56f87f+_0x56f87f,_0x246302=_0xf3bb9+_0xf3bb9,_0x286f32=_0x4e4f6e*_0x4bac36,_0x39aef2=_0x4e4f6e*_0x54fa05,_0x380869=_0x4e4f6e*_0x246302,_0x4a2755=_0x56f87f*_0x54fa05,_0x1fe787=_0x56f87f*_0x246302,_0x2f4cd3=_0xf3bb9*_0x246302,_0x34944a=_0x3fc74f*_0x4bac36,_0xb768ac=_0x3fc74f*_0x54fa05,_0x1157cd=_0x3fc74f*_0x246302,_0x4a7318=this['data'];return _0x4a7318[0x1*-0x51b+-0x25c1+0x2adc]=(0x1834+0x1489+0x199*-0x1c-(_0x4a2755+_0x2f4cd3))*_0x431200,_0x4a7318[-0x155+-0x14b*0xc+-0x10da*-0x1]=(_0x39aef2+_0x1157cd)*_0x431200,_0x4a7318[-0xd0f*0x1+-0x1760+0x13*0x1eb]=(_0x380869-_0xb768ac)*_0x431200,_0x4a7318[-0x2*0xf4d+0x1*-0x20a1+0x3f3e]=-0x187c+-0x2ec*-0x7+-0x8*-0x81,_0x4a7318[-0x1*0xac1+-0xd*0x1ba+0x305*0xb]=(_0x39aef2-_0x1157cd)*_0x145406,_0x4a7318[0xca2+0x1d*0xa1+-0x1eda]=(0xdfc+0x1*0x2470+0x1*-0x326b-(_0x286f32+_0x2f4cd3))*_0x145406,_0x4a7318[-0x13c7+0x13ab+-0x11*-0x2]=(_0x1fe787+_0x34944a)*_0x145406,_0x4a7318[0x21cd+-0x2342+0x5f*0x4]=-0x655+0x1829+-0x11d4,_0x4a7318[-0x1a*0x9e+-0xafd*-0x2+-0x97*0xa]=(_0x380869+_0xb768ac)*_0x1b5e2b,_0x4a7318[0x6*-0x2b3+-0x91e+0x873*0x3]=(_0x1fe787-_0x34944a)*_0x1b5e2b,_0x4a7318[-0x2282+-0x2f3*0x2+0x1f*0x14e]=(0x33*0xc+-0x10a*0x10+0xe3d-(_0x286f32+_0x4a2755))*_0x1b5e2b,_0x4a7318[0x2bd*-0x3+-0x1*0x2cb+0x45*0x29]=0xe1*-0x11+0x64*0x1a+0x4c9,_0x4a7318[-0x6*0x89+0x3*0x783+-0x1347]=_0x217977['x'],_0x4a7318[-0x151b*0x1+0x90e+0x2*0x60d]=_0x217977['y'],_0x4a7318[0x89*-0x3e+-0x175c+0x3898]=_0x217977['z'],_0x4a7318[0xc72+-0xf1*0x8+-0x4db*0x1]=-0x5*-0x259+0x1f88*0x1+-0x2b44,this;}['transpose'](_0x4feda9=this){const _0x363346=_0x4feda9['data'],_0x45b9ae=this['data'];if(_0x363346===_0x45b9ae){let _0x36470b;_0x36470b=_0x363346[0x3d1*-0x6+0x24b9*-0x1+0x3ba0],_0x45b9ae[-0x417*-0x4+-0x1ec6+0x1*0xe6b]=_0x363346[0xd7*-0x1c+-0x635+0x17*0x14b],_0x45b9ae[-0xdb*-0x9+0x5*0x19f+-0xfca]=_0x36470b,_0x36470b=_0x363346[0x20e*0x13+0x1c44+-0x434c],_0x45b9ae[-0x1a51+-0x21a7+0x3bfa]=_0x363346[-0x2*-0x8d9+-0x11*-0x248+-0x3872],_0x45b9ae[-0x194+0x227c+-0x20e0]=_0x36470b,_0x36470b=_0x363346[0x3*0x32b+0x2139+-0xf*0x2d9],_0x45b9ae[-0x20fc+0x20da+-0x1*-0x25]=_0x363346[0x2e2+0x190f*-0x1+0x1639],_0x45b9ae[-0x5*0x4f+-0xa*-0x2e3+0x1*-0x1b47]=_0x36470b,_0x36470b=_0x363346[-0x11*0x1+0x11bb+-0x11a4],_0x45b9ae[-0x5*0x4c1+-0x9ff+0x21ca]=_0x363346[0x1ece*0x1+-0x639+-0x188c],_0x45b9ae[0x2335+-0x714+0x74*-0x3e]=_0x36470b,_0x36470b=_0x363346[0x1*0xd57+0x10d9+-0x44f*0x7],_0x45b9ae[0x2*0x10a6+-0x1d28+0x3*-0x15f]=_0x363346[-0x1790+0x135b+0x442],_0x45b9ae[0x22c5+0x406*-0x1+-0x1eb2]=_0x36470b,_0x36470b=_0x363346[0x1*0xe05+-0x6*0x1c3+-0x368],_0x45b9ae[0x287+-0x2036+0x1dba]=_0x363346[0x1fce+0x1c2f+-0x3bef],_0x45b9ae[0x16*0x121+-0x19e9+-0x11*-0x11]=_0x36470b;}else _0x45b9ae[-0x10e4+0x1368+-0x284]=_0x363346[0x67*-0x45+-0x20f4+0x3cb7],_0x45b9ae[-0x1bed*0x1+-0x5*0x217+0x2661]=_0x363346[0x9ac+-0xc84+0xf4*0x3],_0x45b9ae[-0x1*0x782+0x20d3+-0x194f]=_0x363346[-0xf08+-0xef*0x1d+0x2a23],_0x45b9ae[0x21de+-0x7e*0x12+-0x18ff]=_0x363346[-0x17f3*0x1+0xfb*0xb+-0xb2*-0x13],_0x45b9ae[0x5*0x4e7+-0xa*0x1c9+-0x6a5]=_0x363346[0x1c03+0x1*0xe53+-0x1*0x2a55],_0x45b9ae[0x1055*0x1+0x193*0x5+-0x182f]=_0x363346[0x21*-0x1+-0x103e+0x1064],_0x45b9ae[0x29*-0x6e+-0x2536*-0x1+0xf*-0x14e]=_0x363346[0xbc0+0x1*0x5a3+-0x115a],_0x45b9ae[0xb3*-0x5+-0x219a+-0x1290*-0x2]=_0x363346[-0x1*0x10f7+0xd19*-0x1+-0x251*-0xd],_0x45b9ae[-0x2a+-0x7d8+0x80a]=_0x363346[-0xe*0xa6+0x238b+-0x1a75],_0x45b9ae[-0x640+0x1b98+0x154f*-0x1]=_0x363346[0x1f25+-0xa0*-0x4+-0x219f],_0x45b9ae[0x216*-0xb+0x1ebd+-0x7c1]=_0x363346[0x30*0x2+-0x1053+0xffd],_0x45b9ae[0x17*0x1ad+-0x1839+0x1*-0xe47]=_0x363346[0x2e6*-0x5+0x1*0x104d+-0x1c1*0x1],_0x45b9ae[0x785+-0x24d8+0x1d5f]=_0x363346[-0x101f*0x2+0x1227+0x2d2*0x5],_0x45b9ae[-0x1cf7+0xbaa+0x115a]=_0x363346[0x2025+0x13a5*0x1+-0x33c3],_0x45b9ae[-0x1450+-0xe*-0xd6+0x455*0x2]=_0x363346[0x1d38+0x11d2+-0x2eff],_0x45b9ae[-0x18e*-0x8+0x1362+0x1*-0x1fc3]=_0x363346[-0x2*0x257+-0x1*0x26d6+0x1e5*0x17];return this;}['getTransla'+'tion'](_0x52671b=new T()){return _0x52671b['set'](this['data'][-0xb0+0x19b5+-0x18f9],this['data'][-0x1*0x2695+-0x9*0x12e+0x3140*0x1],this['data'][-0x4ac+-0x9*0x6b+0x35*0x29]);}['getX'](_0x1cfa9b=new T()){return _0x1cfa9b['set'](this['data'][0xe4b*0x2+-0x24cf+-0x839*-0x1],this['data'][-0x8*-0x9e+-0x3bb*-0xa+-0x3d7*0xb],this['data'][0x1f58+0x12ef+0x1*-0x3245]);}['getY'](_0x23a957=new T()){return _0x23a957['set'](this['data'][-0x1f78+-0x1*-0x89f+-0x79f*-0x3],this['data'][-0x10de+-0x2f*-0x23+-0xa76*-0x1],this['data'][-0x1462+-0x1*0x1697+0x9*0x4c7]);}['getZ'](_0x3d5b86=new T()){return _0x3d5b86['set'](this['data'][0x9b6+0x3*-0x32b+-0x2d],this['data'][0x6d0+0xd6+-0x79d],this['data'][-0x249a*-0x1+-0x1eda+-0x56*0x11]);}['getScale'](_0x438faa=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x438faa['set'](us['length'](),Fs['length'](),Os['length']()),_0x438faa;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<-0x23*0xdd+0x5f7*-0x3+0x301c?-(-0x1f69*0x1+-0x1*-0x1654+-0x48b*-0x2):-0x2699+0x2710+-0x76;}['setFromEul'+'erAngles'](_0x59e4b5,_0x500759,_0x2cb087){_0x59e4b5*=N['DEG_TO_RAD'],_0x500759*=N['DEG_TO_RAD'],_0x2cb087*=N['DEG_TO_RAD'];const _0xf92790=Math['sin'](-_0x59e4b5),_0xf70d46=Math['cos'](-_0x59e4b5),_0x3ceb35=Math['sin'](-_0x500759),_0x2e155e=Math['cos'](-_0x500759),_0x2ae4bc=Math['sin'](-_0x2cb087),_0x47460b=Math['cos'](-_0x2cb087),_0x31aafa=this['data'];return _0x31aafa[0xacc+-0x8b4+0x10c*-0x2]=_0x2e155e*_0x47460b,_0x31aafa[0x68c*-0x1+-0x355*-0x6+0x1f*-0x6f]=-_0x2e155e*_0x2ae4bc,_0x31aafa[0x1c77+0x8cb*-0x2+-0xb*0xfd]=_0x3ceb35,_0x31aafa[0x308+0x4*-0x236+0x5d3]=0x15fb+0x23ae+-0x39a9,_0x31aafa[0x1f*-0x2b+-0x2261+0x279a]=_0xf70d46*_0x2ae4bc+_0x47460b*_0xf92790*_0x3ceb35,_0x31aafa[-0xb47*0x1+-0x254*-0xd+-0x12f8]=_0xf70d46*_0x47460b-_0xf92790*_0x3ceb35*_0x2ae4bc,_0x31aafa[0x15bb+-0x703*0x2+0x7*-0x119]=-_0x2e155e*_0xf92790,_0x31aafa[0x846+0x2*-0x12a1+-0x1*-0x1d03]=-0x7*0x2a5+-0xbb7*-0x3+-0x10a2*0x1,_0x31aafa[-0x5*-0x729+-0x1*-0x13f9+-0x37be]=_0xf92790*_0x2ae4bc-_0xf70d46*_0x47460b*_0x3ceb35,_0x31aafa[0x1b63+-0x1a4d+0x1*-0x10d]=_0x47460b*_0xf92790+_0xf70d46*_0x3ceb35*_0x2ae4bc,_0x31aafa[0x211f+0x73f+-0x74*0x59]=_0xf70d46*_0x2e155e,_0x31aafa[0xf0d+-0xc*-0x239+-0x16*0x1e5]=0x2b*-0x6d+-0x7e*0x3b+0x2c9*0x11,_0x31aafa[0xb22+0xcd*0x2b+-0x2d85]=-0x121e+0x126b+-0x4d,_0x31aafa[-0x128e*0x1+-0x2*-0x455+0x9f1]=0x2*0xdbf+-0x10eb+-0xa93*0x1,_0x31aafa[0x20c3+0x2*-0x146+-0x1e29]=-0x1*-0x362+-0x22ea+-0x8*-0x3f1,_0x31aafa[-0xa*-0x262+-0x2*-0xbdc+-0x2f7d]=0x1a35*0x1+0x3d*0x37+-0x274f,this;}['getEulerAn'+'gles'](_0x4478ce=new T()){this['getScale'](_l);const _0x482b3e=_l['x'],_0x1a035c=_l['y'],_0xfe553d=_l['z'];if(_0x482b3e===-0x117*-0xa+-0x26ec+0x22*0xd3||_0x1a035c===-0x1977+-0x1b7a+0x34f1||_0xfe553d===0x1633+-0x4c1*0x2+-0xcb1)return _0x4478ce['set'](0x639+-0x1d27+0x16ee,-0xe6a+-0x2*0xc9a+-0x39a*-0xb,-0x7*0x331+-0xe21*-0x1+0x836);const _0x40ab48=this['data'],_0x442f6c=Math['asin'](-_0x40ab48[-0x1*0x18b9+-0x2e*0xcd+0x3d91*0x1]/_0x482b3e),_0x2c8d5a=Math['PI']*(0x2435+-0x25c*0x10+0x18b+0.5);let _0x55543b,_0x324582;return _0x442f6c<_0x2c8d5a?_0x442f6c>-_0x2c8d5a?(_0x55543b=Math['atan2'](_0x40ab48[-0x1522+0x5*0x5e5+0x1*-0x851]/_0x1a035c,_0x40ab48[0xb73+-0x3*0x1cd+-0x602*0x1]/_0xfe553d),_0x324582=Math['atan2'](_0x40ab48[0xaa*0x20+0x280+0x1*-0x17bf]/_0x482b3e,_0x40ab48[-0x200b+-0x21e2*0x1+0x41ed]/_0x482b3e)):(_0x324582=-0x11d1+-0x17b7*0x1+-0x8*-0x531,_0x55543b=-Math['atan2'](_0x40ab48[0x4e*-0x13+0x731*-0x1+0x455*0x3]/_0x1a035c,_0x40ab48[-0xa9a*0x3+0x1542+0xa91]/_0x1a035c)):(_0x324582=-0x1a2f+0x1*0x207+0x1828,_0x55543b=Math['atan2'](_0x40ab48[-0x246b+-0x79*-0xd+-0x1*-0x1e4a]/_0x1a035c,_0x40ab48[0x1a07+-0x1*0x1dcb+0x3c9]/_0x1a035c)),_0x4478ce['set'](_0x55543b,_0x442f6c,_0x324582)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([-0x44*-0x49+-0xc37+-0x72d,-0x8*-0x33d+-0xa5e+0x132*-0xd,-0x5*-0x7d0+-0x11*0x90+-0x1d80,-0x101c+0x21be+-0x11a2,0x1f0f+-0x3*-0xcab+-0x4510,-0x6*0x4ff+0x9d*0x33+-0x14d,0x2f9*-0x7+0x3d*-0x47+0x36e*0xb,-0x7f+-0x192c*-0x1+0x18ad*-0x1,0x88*-0x2e+-0xc7f+-0x3d*-0x9b,0x212a+0xce0+-0x2e0a,0xe2*0x3+-0x14b8+0x606*0x3,-0x1eb+-0x6*-0x304+-0x102d,-0x3*0xba9+0xa4a+0x18b1,-0x1ed0+0x29*0x1d+0x1a2b,0x14*0x1e1+0x1*-0x11cf+-0x13c5,0x5*0x61+0xb*-0x20b+-0x4*-0x525])));let q=Ur;const aa=class aa{constructor(_0x31fb7f=0x12d7+-0x1b3d*-0x1+-0x2e14,_0x2c03b5=0x1fcd*-0x1+-0x1fa5+-0x2*-0x1fb9,_0x15d267=-0x1*-0x1628+-0xb*-0xdf+-0x145*0x19,_0x343ebd=0x1690+0x1*-0xe3b+-0x854){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x31fb7f['length']===0x1*-0x1f51+-0x69d*0x4+0x39c9?(this['x']=_0x31fb7f[0x5*0x66b+-0x1*0x16d3+-0x944],this['y']=_0x31fb7f[0xcf*-0x19+-0xe3f*-0x1+0x5f9],this['z']=_0x31fb7f[0x9b9+0x4e4+-0xe9b],this['w']=_0x31fb7f[-0x2179+0x2512+0x3*-0x132]):(this['x']=_0x31fb7f,this['y']=_0x2c03b5,this['z']=_0x15d267,this['w']=_0x343ebd);}['clone'](){const _0x1fdffd=this['constructo'+'r'];return new _0x1fdffd(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x3d3540=this){return this['x']=_0x3d3540['x']*-(-0xa9f*-0x1+0x672+0x8*-0x222),this['y']=_0x3d3540['y']*-(-0x15c8+0x2360+-0x1f1*0x7),this['z']=_0x3d3540['z']*-(-0x158f+-0x393*-0x2+0xe6a),this['w']=_0x3d3540['w'],this;}['copy'](_0xd00ce){return this['x']=_0xd00ce['x'],this['y']=_0xd00ce['y'],this['z']=_0xd00ce['z'],this['w']=_0xd00ce['w'],this;}['equals'](_0xc2678c){return this['x']===_0xc2678c['x']&&this['y']===_0xc2678c['y']&&this['z']===_0xc2678c['z']&&this['w']===_0xc2678c['w'];}['equalsAppr'+'ox'](_0x1c3972,_0x16bc1f=-0x58e+0x2d*0xc+0x372+0.000001){return Math['abs'](this['x']-_0x1c3972['x'])<_0x16bc1f&&Math['abs'](this['y']-_0x1c3972['y'])<_0x16bc1f&&Math['abs'](this['z']-_0x1c3972['z'])<_0x16bc1f&&Math['abs'](this['w']-_0x1c3972['w'])<_0x16bc1f;}['getAxisAng'+'le'](_0x1fc598){let _0x3162bd=Math['acos'](this['w'])*(-0x2115*0x1+0x11bf+0x7ac*0x2);const _0x85a9bf=Math['sin'](_0x3162bd/(0x7+-0x143a+0x1435));return _0x85a9bf!==0xe64+0xf2d+-0x1d91?(_0x1fc598['x']=this['x']/_0x85a9bf,_0x1fc598['y']=this['y']/_0x85a9bf,_0x1fc598['z']=this['z']/_0x85a9bf,(_0x1fc598['x']<0x1*-0x1b71+-0x18d8+0x3449||_0x1fc598['y']<-0xd4*-0x1a+0x618+0x1ba0*-0x1||_0x1fc598['z']<0x26fa+-0x107d+-0x3*0x77f)&&(_0x1fc598['x']*=-(-0xf03+-0x9c6+0x18ca*0x1),_0x1fc598['y']*=-(0x1d5a+0x2b9+-0x2012),_0x1fc598['z']*=-(0x3*-0x90d+-0xb80+0x1*0x26a8),_0x3162bd*=-(0x17*-0x13b+0x2387+-0x1*0x739))):(_0x1fc598['x']=-0x764+-0x1d64+0x24c9,_0x1fc598['y']=-0x1f63*0x1+-0x1*-0x896+0x1*0x16cd,_0x1fc598['z']=-0x16bd+-0xe51+0x250e),_0x3162bd*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x59e83a=new T()){let _0x92317,_0x13d86d,_0x36dae7;const _0x5b2a23=this['x'],_0x295546=this['y'],_0x357558=this['z'],_0x3250e0=this['w'],_0x4bf869=(-0x47c+0x2b*0x36+0x4*-0x125)*(_0x3250e0*_0x295546-_0x5b2a23*_0x357558);return _0x4bf869<=-(-0x1904+0x139c+0xad*0x8+0.99999)?(_0x92317=(0x1c63+-0x1f3+-0x1a6e)*Math['atan2'](_0x5b2a23,_0x3250e0),_0x13d86d=-Math['PI']/(0x2aa+-0xa1f+0x7*0x111),_0x36dae7=0x1*0x1247+0x8*0x1c9+-0x208f):_0x4bf869>=-0x17cf+-0x185d+0x302c+0.99999?(_0x92317=(0x30a+0x25c+-0x564)*Math['atan2'](_0x5b2a23,_0x3250e0),_0x13d86d=Math['PI']/(-0x328+-0xa*-0x1b7+-0x166*0xa),_0x36dae7=-0x1fb7+-0x254*0x2+-0x1*-0x245f):(_0x92317=Math['atan2']((0x5d*0x67+-0x19fe*0x1+-0xb6b*0x1)*(_0x3250e0*_0x5b2a23+_0x295546*_0x357558),0x13cd+0x13*-0x1cc+0x9*0x198-(-0x1558+0x96b+0xbef)*(_0x5b2a23*_0x5b2a23+_0x295546*_0x295546)),_0x13d86d=Math['asin'](_0x4bf869),_0x36dae7=Math['atan2']((-0x2700+-0x14f+0x2851*0x1)*(_0x3250e0*_0x357558+_0x5b2a23*_0x295546),0x2678+-0x2*0x7a9+0xf*-0x18b-(-0x1dbe+-0x1862+0x3622)*(_0x295546*_0x295546+_0x357558*_0x357558))),_0x59e83a['set'](_0x92317,_0x13d86d,_0x36dae7)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x4fa11a=this){return this['conjugate'](_0x4fa11a)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x979a65){const _0x238841=this['x'],_0x419ed9=this['y'],_0x31cdd1=this['z'],_0x183347=this['w'],_0x3d0d93=_0x979a65['x'],_0x1ec35f=_0x979a65['y'],_0x2ff5bd=_0x979a65['z'],_0x274bf2=_0x979a65['w'];return this['x']=_0x183347*_0x3d0d93+_0x238841*_0x274bf2+_0x419ed9*_0x2ff5bd-_0x31cdd1*_0x1ec35f,this['y']=_0x183347*_0x1ec35f+_0x419ed9*_0x274bf2+_0x31cdd1*_0x3d0d93-_0x238841*_0x2ff5bd,this['z']=_0x183347*_0x2ff5bd+_0x31cdd1*_0x274bf2+_0x238841*_0x1ec35f-_0x419ed9*_0x3d0d93,this['w']=_0x183347*_0x274bf2-_0x238841*_0x3d0d93-_0x419ed9*_0x1ec35f-_0x31cdd1*_0x2ff5bd,this;}['mulScalar'](_0x39fc92,_0x4fcda4=this){return this['x']=_0x4fcda4['x']*_0x39fc92,this['y']=_0x4fcda4['y']*_0x39fc92,this['z']=_0x4fcda4['z']*_0x39fc92,this['w']=_0x4fcda4['w']*_0x39fc92,this;}['mul2'](_0x375a5a,_0x1aa6a6){const _0x5d3a3e=_0x375a5a['x'],_0xfaea1e=_0x375a5a['y'],_0x3c925c=_0x375a5a['z'],_0x340b4b=_0x375a5a['w'],_0x20aabb=_0x1aa6a6['x'],_0x55df0d=_0x1aa6a6['y'],_0x162fa1=_0x1aa6a6['z'],_0x50c66c=_0x1aa6a6['w'];return this['x']=_0x340b4b*_0x20aabb+_0x5d3a3e*_0x50c66c+_0xfaea1e*_0x162fa1-_0x3c925c*_0x55df0d,this['y']=_0x340b4b*_0x55df0d+_0xfaea1e*_0x50c66c+_0x3c925c*_0x20aabb-_0x5d3a3e*_0x162fa1,this['z']=_0x340b4b*_0x162fa1+_0x3c925c*_0x50c66c+_0x5d3a3e*_0x55df0d-_0xfaea1e*_0x20aabb,this['w']=_0x340b4b*_0x50c66c-_0x5d3a3e*_0x20aabb-_0xfaea1e*_0x55df0d-_0x3c925c*_0x162fa1,this;}['normalize'](_0x3fbfa2=this){let _0x5d4420=_0x3fbfa2['length']();return _0x5d4420===-0x1e7+0xf7*0x17+-0x144a?(this['x']=this['y']=this['z']=0x1*-0x201d+0x112+-0x1f0b*-0x1,this['w']=-0x2b9+0x6ec+-0x432):(_0x5d4420=(0x6*-0x1f7+0x1fba+0x51*-0x3f)/_0x5d4420,this['x']=_0x3fbfa2['x']*_0x5d4420,this['y']=_0x3fbfa2['y']*_0x5d4420,this['z']=_0x3fbfa2['z']*_0x5d4420,this['w']=_0x3fbfa2['w']*_0x5d4420),this;}['set'](_0x520a83,_0x226500,_0x58e99d,_0x2bec2b){return this['x']=_0x520a83,this['y']=_0x226500,this['z']=_0x58e99d,this['w']=_0x2bec2b,this;}['setFromAxi'+'sAngle'](_0x1fb012,_0x32d1b3){_0x32d1b3*=(-0x5d4+0x11a1*-0x2+0x2916+0.5)*N['DEG_TO_RAD'];const _0x56ab4b=Math['sin'](_0x32d1b3),_0x45f6d0=Math['cos'](_0x32d1b3);return this['x']=_0x56ab4b*_0x1fb012['x'],this['y']=_0x56ab4b*_0x1fb012['y'],this['z']=_0x56ab4b*_0x1fb012['z'],this['w']=_0x45f6d0,this;}['setFromEul'+'erAngles'](_0x2cd1e0,_0x452181,_0x222ecf){if(_0x2cd1e0 instanceof T){const _0x19c0a9=_0x2cd1e0;_0x2cd1e0=_0x19c0a9['x'],_0x452181=_0x19c0a9['y'],_0x222ecf=_0x19c0a9['z'];}const _0x124305=(0x5*0x6b9+0xd*-0x278+-0x1*0x185+0.5)*N['DEG_TO_RAD'];_0x2cd1e0*=_0x124305,_0x452181*=_0x124305,_0x222ecf*=_0x124305;const _0x18b3fd=Math['sin'](_0x2cd1e0),_0x38b41a=Math['cos'](_0x2cd1e0),_0x12f6a5=Math['sin'](_0x452181),_0x52ef74=Math['cos'](_0x452181),_0x4f5bc7=Math['sin'](_0x222ecf),_0x6ddd92=Math['cos'](_0x222ecf);return this['x']=_0x18b3fd*_0x52ef74*_0x6ddd92-_0x38b41a*_0x12f6a5*_0x4f5bc7,this['y']=_0x38b41a*_0x12f6a5*_0x6ddd92+_0x18b3fd*_0x52ef74*_0x4f5bc7,this['z']=_0x38b41a*_0x52ef74*_0x4f5bc7-_0x18b3fd*_0x12f6a5*_0x6ddd92,this['w']=_0x38b41a*_0x52ef74*_0x6ddd92+_0x18b3fd*_0x12f6a5*_0x4f5bc7,this;}['setFromMat'+'4'](_0x9b3d98){const _0x4a5359=_0x9b3d98['data'];let _0x2f42e7=_0x4a5359[0x113c+-0xf7e+-0x1*0x1be],_0x28df55=_0x4a5359[-0x1721+0x4*0x8a7+-0xb7a],_0x17b665=_0x4a5359[-0xc*0x23a+-0x67*-0x48+-0x23e],_0xd706d=_0x4a5359[0x1b9b+0xe7e+-0x3f*0xab],_0xd6711b=_0x4a5359[-0x186a+0x25f8+-0xd89],_0x4e6d53=_0x4a5359[-0x44*-0x62+-0x11b*-0xd+-0x2861],_0x2eeee6=_0x4a5359[0x1a50+-0xdaa+-0x13*0xaa],_0x230a9b=_0x4a5359[-0x12ea+0xf*0xfb+0x43e],_0x4223ba=_0x4a5359[0x409*-0x6+-0x1019+-0x21*-0x139],_0x569a59;return _0x569a59=_0x2f42e7*_0x2f42e7+_0x28df55*_0x28df55+_0x17b665*_0x17b665,_0x569a59===-0x22b3+-0xe1*-0x8+0x1bab?this['set'](0x4*-0x7af+0x13*0x161+0x489,0x694*0x3+0xa8*0x1f+-0x2814,0xc8b+-0xd5f+0x6a*0x2,0x1b65+-0x484+0xb7*-0x20):(_0x569a59=(0x21ba+-0x1d6e+-0x44b)/Math['sqrt'](_0x569a59),_0x2f42e7*=_0x569a59,_0x28df55*=_0x569a59,_0x17b665*=_0x569a59,_0x569a59=_0xd706d*_0xd706d+_0xd6711b*_0xd6711b+_0x4e6d53*_0x4e6d53,_0x569a59===-0x19*-0x178+-0x5ea+0xf67*-0x2?this['set'](0x238c+-0x160*-0x17+-0x432c,0x1813+-0x4dc+-0x1337,-0x1b72*0x1+0x5*-0x539+0x358f,0x9dd+-0x325+-0x6b7):(_0x569a59=(-0x9*0x1df+0x5e6+-0xaf2*-0x1)/Math['sqrt'](_0x569a59),_0xd706d*=_0x569a59,_0xd6711b*=_0x569a59,_0x4e6d53*=_0x569a59,_0x569a59=_0x2eeee6*_0x2eeee6+_0x230a9b*_0x230a9b+_0x4223ba*_0x4223ba,_0x569a59===0x2a9+0x1*0x23d5+-0x267e?this['set'](-0x10a6*0x2+-0x738+0x4*0xa21,-0xa89*-0x1+0x1dc6+-0x284f,0xbce+-0x13*-0x164+-0x263a,0x1bbe+0x2065+-0x3c22):(_0x569a59=(0xf36+-0x1761+-0x416*-0x2)/Math['sqrt'](_0x569a59),_0x2eeee6*=_0x569a59,_0x230a9b*=_0x569a59,_0x4223ba*=_0x569a59,_0x4223ba<-0x1e*-0xad+-0x399+-0x3*0x58f?_0x2f42e7>_0xd6711b?this['set'](-0xbc6*0x2+-0x1548+0x2cd5+_0x2f42e7-_0xd6711b-_0x4223ba,_0x28df55+_0xd706d,_0x2eeee6+_0x17b665,_0x4e6d53-_0x230a9b):this['set'](_0x28df55+_0xd706d,-0x1*-0x215b+-0x1318+-0xe42-_0x2f42e7+_0xd6711b-_0x4223ba,_0x4e6d53+_0x230a9b,_0x2eeee6-_0x17b665):_0x2f42e7<-_0xd6711b?this['set'](_0x2eeee6+_0x17b665,_0x4e6d53+_0x230a9b,0xf7*0x24+0x1408+-0x36c3-_0x2f42e7-_0xd6711b+_0x4223ba,_0x28df55-_0xd706d):this['set'](_0x4e6d53-_0x230a9b,_0x2eeee6-_0x17b665,_0x28df55-_0xd706d,0x11*-0x17+-0x2e*-0x6b+-0x11b2+_0x2f42e7+_0xd6711b+_0x4223ba),this['mulScalar']((-0xa6*0x11+-0x179*0x2+0xdf9)/this['length']()))));}['setFromDir'+'ections'](_0x56be63,_0x37dcbb){const _0x4dd65e=-0x1f1d+-0x11b9+-0x1*-0x30d7+_0x56be63['dot'](_0x37dcbb);return _0x4dd65e<Number['EPSILON']?Math['abs'](_0x56be63['x'])>Math['abs'](_0x56be63['y'])?(this['x']=-_0x56be63['z'],this['y']=0x5*-0x3a9+-0x188f+0x2adc,this['z']=_0x56be63['x'],this['w']=0x234e+-0x1*0xf71+-0x13dd*0x1):(this['x']=0xdbc+0x1271*-0x1+0xf1*0x5,this['y']=-_0x56be63['z'],this['z']=_0x56be63['y'],this['w']=-0x7*-0x35e+0xf8b+-0x20f*0x13):(this['x']=_0x56be63['y']*_0x37dcbb['z']-_0x56be63['z']*_0x37dcbb['y'],this['y']=_0x56be63['z']*_0x37dcbb['x']-_0x56be63['x']*_0x37dcbb['z'],this['z']=_0x56be63['x']*_0x37dcbb['y']-_0x56be63['y']*_0x37dcbb['x'],this['w']=_0x4dd65e),this['normalize']();}['slerp'](_0x5660b7,_0x3c3445,_0x233936){const _0x313fdf=_0x5660b7['x'],_0x251c05=_0x5660b7['y'],_0x50cdf1=_0x5660b7['z'],_0x4747fd=_0x5660b7['w'];let _0x1ae7be=_0x3c3445['x'],_0x525190=_0x3c3445['y'],_0x264032=_0x3c3445['z'],_0x3f2950=_0x3c3445['w'],_0x5a7693=_0x4747fd*_0x3f2950+_0x313fdf*_0x1ae7be+_0x251c05*_0x525190+_0x50cdf1*_0x264032;if(_0x5a7693<0x2*0xdc5+0x902+-0x248c&&(_0x3f2950=-_0x3f2950,_0x1ae7be=-_0x1ae7be,_0x525190=-_0x525190,_0x264032=-_0x264032,_0x5a7693=-_0x5a7693),Math['abs'](_0x5a7693)>=0x6b*0x9+0x3*-0xa7b+0x1baf)return this['w']=_0x4747fd,this['x']=_0x313fdf,this['y']=_0x251c05,this['z']=_0x50cdf1,this;const _0x5038d3=Math['acos'](_0x5a7693),_0x37bdb8=Math['sqrt'](-0x3ee*-0x1+-0x126d*0x2+0x20ed-_0x5a7693*_0x5a7693);if(Math['abs'](_0x37bdb8)<0x18c9+-0x1849*-0x1+0x476*-0xb+0.001)return this['w']=_0x4747fd*(-0xae3+0x1bf1*-0x1+-0x14*-0x1f1+0.5)+_0x3f2950*(-0x23dc+-0x1*0x1bae+-0x2*-0x1fc5+0.5),this['x']=_0x313fdf*(0x1*0x1198+0xb5c+-0x22*0xda+0.5)+_0x1ae7be*(-0x3*0xaca+0x1ab1*-0x1+0x3b0f+0.5),this['y']=_0x251c05*(-0x622+-0x16b1+0x1cd3+0.5)+_0x525190*(-0x448*0x1+0x243+0x205+0.5),this['z']=_0x50cdf1*(-0x1*-0x103+-0x5*-0x395+0x7*-0x2b4+0.5)+_0x264032*(0x366+-0x266d+0x15*0x1ab+0.5),this;const _0x55eac1=Math['sin']((-0xe9b+-0xbc7+0x1a63-_0x233936)*_0x5038d3)/_0x37bdb8,_0xd808bb=Math['sin'](_0x233936*_0x5038d3)/_0x37bdb8;return this['w']=_0x4747fd*_0x55eac1+_0x3f2950*_0xd808bb,this['x']=_0x313fdf*_0x55eac1+_0x1ae7be*_0xd808bb,this['y']=_0x251c05*_0x55eac1+_0x525190*_0xd808bb,this['z']=_0x50cdf1*_0x55eac1+_0x264032*_0xd808bb,this;}['transformV'+'ector'](_0x9b20ec,_0x185339=new T()){const _0x22486a=_0x9b20ec['x'],_0x4d0a38=_0x9b20ec['y'],_0x5e5936=_0x9b20ec['z'],_0x47ab06=this['x'],_0x3ac81f=this['y'],_0x5bf116=this['z'],_0x2da7cc=this['w'],_0x4e0807=_0x2da7cc*_0x22486a+_0x3ac81f*_0x5e5936-_0x5bf116*_0x4d0a38,_0x4b4c24=_0x2da7cc*_0x4d0a38+_0x5bf116*_0x22486a-_0x47ab06*_0x5e5936,_0x23e7a7=_0x2da7cc*_0x5e5936+_0x47ab06*_0x4d0a38-_0x3ac81f*_0x22486a,_0x3adbb4=-_0x47ab06*_0x22486a-_0x3ac81f*_0x4d0a38-_0x5bf116*_0x5e5936;return _0x185339['x']=_0x4e0807*_0x2da7cc+_0x3adbb4*-_0x47ab06+_0x4b4c24*-_0x5bf116-_0x23e7a7*-_0x3ac81f,_0x185339['y']=_0x4b4c24*_0x2da7cc+_0x3adbb4*-_0x3ac81f+_0x23e7a7*-_0x47ab06-_0x4e0807*-_0x5bf116,_0x185339['z']=_0x23e7a7*_0x2da7cc+_0x3adbb4*-_0x5bf116+_0x4e0807*-_0x3ac81f-_0x4b4c24*-_0x47ab06,_0x185339;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(0x1c80+0x13*0xee+-0x13*0x26e,0x44*-0x22+0x221+0x6e7,-0x22e3+0xa1*0x3+0x2100,-0xe9*0x1+-0x1d92+0x2*0xf3e))),c(aa,'ZERO',Object['freeze'](new aa(0xa70*0x2+-0x1421+-0xbf,0x3*-0xc72+-0xbf*-0x17+0x409*0x5,0xeab+0xa9*-0x2a+-0xd0f*-0x1,-0x2ca+0x2687+0x7*-0x51b)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x1105f1,_0xaa9523){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(-0x41b*-0x2+-0x25f*0x6+-0x1*-0x604+0.5,-0x48e+-0x71d*-0x5+-0x1f03+0.5,0x175*-0x1+0x64d+-0x4d8+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x1105f1&&this['center']['copy'](_0x1105f1),_0xaa9523&&this['halfExtent'+'s']['copy'](_0xaa9523));}['add'](_0x57eb3b){const _0x56fd1f=this['center'],_0x6c06f2=_0x56fd1f['x'],_0x113962=_0x56fd1f['y'],_0x4a42db=_0x56fd1f['z'],_0x16a518=this['halfExtent'+'s'],_0x201a1d=_0x16a518['x'],_0x106688=_0x16a518['y'],_0x18f3a3=_0x16a518['z'];let _0x33a25d=_0x6c06f2-_0x201a1d,_0x26405d=_0x6c06f2+_0x201a1d,_0x13019e=_0x113962-_0x106688,_0xf9d199=_0x113962+_0x106688,_0x19ff31=_0x4a42db-_0x18f3a3,_0x422f47=_0x4a42db+_0x18f3a3;const _0x32e823=_0x57eb3b['center'],_0x1471c8=_0x32e823['x'],_0x6a20eb=_0x32e823['y'],_0x5887cd=_0x32e823['z'],_0x5220cd=_0x57eb3b['halfExtent'+'s'],_0x4b0d34=_0x5220cd['x'],_0x31f68d=_0x5220cd['y'],_0x1a0805=_0x5220cd['z'],_0x470a6f=_0x1471c8-_0x4b0d34,_0x123fa2=_0x1471c8+_0x4b0d34,_0x14835c=_0x6a20eb-_0x31f68d,_0x4d8f5f=_0x6a20eb+_0x31f68d,_0x3e1742=_0x5887cd-_0x1a0805,_0xdaa84d=_0x5887cd+_0x1a0805;_0x470a6f<_0x33a25d&&(_0x33a25d=_0x470a6f),_0x123fa2>_0x26405d&&(_0x26405d=_0x123fa2),_0x14835c<_0x13019e&&(_0x13019e=_0x14835c),_0x4d8f5f>_0xf9d199&&(_0xf9d199=_0x4d8f5f),_0x3e1742<_0x19ff31&&(_0x19ff31=_0x3e1742),_0xdaa84d>_0x422f47&&(_0x422f47=_0xdaa84d),_0x56fd1f['x']=(_0x33a25d+_0x26405d)*(0x1a9e*-0x1+-0x3*0x6a7+-0x2e93*-0x1+0.5),_0x56fd1f['y']=(_0x13019e+_0xf9d199)*(0x1e8f+0x25*-0x20+0x19ef*-0x1+0.5),_0x56fd1f['z']=(_0x19ff31+_0x422f47)*(0x1*0xc11+-0x1*-0x10ff+-0x1d10+0.5),_0x16a518['x']=(_0x26405d-_0x33a25d)*(-0x1ce1+-0xb*-0x2ed+-0x3*0x11a+0.5),_0x16a518['y']=(_0xf9d199-_0x13019e)*(0xc*-0x281+0x9*-0x13a+0x2916+0.5),_0x16a518['z']=(_0x422f47-_0x19ff31)*(-0x269d+-0xf64+0x3601+0.5);}['copy'](_0x1f6af2){this['center']['copy'](_0x1f6af2['center']),this['halfExtent'+'s']['copy'](_0x1f6af2['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x1297b6){const _0x40c33d=this['getMax'](),_0x201739=this['getMin'](),_0x43aefa=_0x1297b6['getMax'](),_0x2c53d3=_0x1297b6['getMin']();return _0x201739['x']<=_0x43aefa['x']&&_0x40c33d['x']>=_0x2c53d3['x']&&_0x201739['y']<=_0x43aefa['y']&&_0x40c33d['y']>=_0x2c53d3['y']&&_0x201739['z']<=_0x43aefa['z']&&_0x40c33d['z']>=_0x2c53d3['z'];}['_intersect'+'sRay'](_0x4c9f11,_0x4c3e18){const _0x1d356c=vn['copy'](this['getMin']())['sub'](_0x4c9f11['origin']),_0x578b13=bn['copy'](this['getMax']())['sub'](_0x4c9f11['origin']),_0x344a62=_0x4c9f11['direction'];_0x344a62['x']===-0x10*0x1eb+0x7ed+0x16c3?(_0x1d356c['x']=_0x1d356c['x']<0x3b3*-0x4+-0x1*-0x22eb+0x3*-0x6b5?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x578b13['x']=_0x578b13['x']<0x11d1+-0x1*0x615+-0xbbc?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x1d356c['x']/=_0x344a62['x'],_0x578b13['x']/=_0x344a62['x']),_0x344a62['y']===0x1a2a+0x5*0x1f+-0x1ac5?(_0x1d356c['y']=_0x1d356c['y']<-0xfbb*-0x1+0x1*0x989+-0x1944?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x578b13['y']=_0x578b13['y']<-0x217a+-0x2e*-0x15+0x4*0x76d?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x1d356c['y']/=_0x344a62['y'],_0x578b13['y']/=_0x344a62['y']),_0x344a62['z']===-0xf23+0xc9*-0x17+0x1*0x2132?(_0x1d356c['z']=_0x1d356c['z']<-0x867*-0x3+-0x229e+0x969?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x578b13['z']=_0x578b13['z']<-0x1150*0x1+-0x453*-0x6+-0x8a2?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x1d356c['z']/=_0x344a62['z'],_0x578b13['z']/=_0x344a62['z']);const _0x7e0484=nm['set'](Math['min'](_0x1d356c['x'],_0x578b13['x']),Math['min'](_0x1d356c['y'],_0x578b13['y']),Math['min'](_0x1d356c['z'],_0x578b13['z'])),_0x45f5a3=am['set'](Math['max'](_0x1d356c['x'],_0x578b13['x']),Math['max'](_0x1d356c['y'],_0x578b13['y']),Math['max'](_0x1d356c['z'],_0x578b13['z'])),_0x14b1e3=Math['min'](Math['min'](_0x45f5a3['x'],_0x45f5a3['y']),_0x45f5a3['z']),_0x2edb17=Math['max'](Math['max'](_0x7e0484['x'],_0x7e0484['y']),_0x7e0484['z']),_0x397564=_0x14b1e3>=_0x2edb17&&_0x2edb17>=-0x865*-0x4+0x9*0x2ed+0x3be9*-0x1;return _0x397564&&_0x4c3e18['copy'](_0x4c9f11['direction'])['mulScalar'](_0x2edb17)['add'](_0x4c9f11['origin']),_0x397564;}['_fastInter'+'sectsRay'](_0x14744d){const _0x13e049=vn,_0x3cc26a=bn,_0x12db40=nm,_0x432eb5=am,_0x4894bb=vS,_0x4d66e1=_0x14744d['direction'];return _0x13e049['sub2'](_0x14744d['origin'],this['center']),_0x432eb5['set'](Math['abs'](_0x13e049['x']),Math['abs'](_0x13e049['y']),Math['abs'](_0x13e049['z'])),_0x12db40['mul2'](_0x13e049,_0x4d66e1),!(_0x432eb5['x']>this['halfExtent'+'s']['x']&&_0x12db40['x']>=-0x11f2+-0x2023+0x3215||_0x432eb5['y']>this['halfExtent'+'s']['y']&&_0x12db40['y']>=-0xa7*-0x2+-0x26e*0x2+0x38e||_0x432eb5['z']>this['halfExtent'+'s']['z']&&_0x12db40['z']>=0x1624+-0x1ea0+-0x21f*-0x4||(_0x4894bb['set'](Math['abs'](_0x4d66e1['x']),Math['abs'](_0x4d66e1['y']),Math['abs'](_0x4d66e1['z'])),_0x3cc26a['cross'](_0x4d66e1,_0x13e049),_0x3cc26a['set'](Math['abs'](_0x3cc26a['x']),Math['abs'](_0x3cc26a['y']),Math['abs'](_0x3cc26a['z'])),_0x3cc26a['x']>this['halfExtent'+'s']['y']*_0x4894bb['z']+this['halfExtent'+'s']['z']*_0x4894bb['y'])||_0x3cc26a['y']>this['halfExtent'+'s']['x']*_0x4894bb['z']+this['halfExtent'+'s']['z']*_0x4894bb['x']||_0x3cc26a['z']>this['halfExtent'+'s']['x']*_0x4894bb['y']+this['halfExtent'+'s']['y']*_0x4894bb['x']);}['intersects'+'Ray'](_0x120b16,_0x164c36){return _0x164c36?this['_intersect'+'sRay'](_0x120b16,_0x164c36):this['_fastInter'+'sectsRay'](_0x120b16);}['setMinMax'](_0x125d69,_0x370fee){this['center']['add2'](_0x370fee,_0x125d69)['mulScalar'](0x3b3+-0xec*0x2+-0x5*0x5f+0.5),this['halfExtent'+'s']['sub2'](_0x370fee,_0x125d69)['mulScalar'](-0x3*-0x3a9+0xc5*0x2b+-0x2c12+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x4b79d2){const _0x1f37ed=this['getMin'](),_0x521fa5=this['getMax']();return!(_0x4b79d2['x']<_0x1f37ed['x']||_0x4b79d2['x']>_0x521fa5['x']||_0x4b79d2['y']<_0x1f37ed['y']||_0x4b79d2['y']>_0x521fa5['y']||_0x4b79d2['z']<_0x1f37ed['z']||_0x4b79d2['z']>_0x521fa5['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x2a8d08,_0x47c4cb,_0x208ffa=!(-0x142c+-0x16c2+-0x1*-0x2aef)){const _0x3fb13b=_0x2a8d08['center'],_0x175958=_0x2a8d08['halfExtent'+'s'],_0x208dce=_0x47c4cb['data'];let _0x20b16d=_0x208dce[0x22a8+0xae5*-0x1+0x229*-0xb],_0x2ec95b=_0x208dce[-0x1*-0x22c+0x17*-0x35+0x29b],_0x393cb7=_0x208dce[-0x24b2+0x2c1+0x21f9],_0x4f5564=_0x208dce[-0x77b*0x5+-0x2705+0x4c6d],_0x27d4b0=_0x208dce[0xf9d+0x1*-0x131b+0x1*0x383],_0x21e47e=_0x208dce[0x1b2*0x2+-0x6e*0x1+-0x2ed],_0x9763eb=_0x208dce[-0xff7*-0x1+-0x4b8*-0x4+0x22d5*-0x1],_0x20ea46=_0x208dce[0xa9e+-0x9*0x2a7+-0x3*-0x46d],_0x353af1=_0x208dce[0x1*-0x1ab9+-0x7d+0x6d0*0x4];if(_0x208ffa){let _0x210d73=_0x20b16d*_0x20b16d+_0x2ec95b*_0x2ec95b+_0x393cb7*_0x393cb7;if(_0x210d73>0x1755+0x26*0x77+-0x28ff){const _0x2c26e4=(0x1fc2+-0x2560+-0x59f*-0x1)/Math['sqrt'](_0x210d73);_0x20b16d*=_0x2c26e4,_0x2ec95b*=_0x2c26e4,_0x393cb7*=_0x2c26e4;}if(_0x210d73=_0x4f5564*_0x4f5564+_0x27d4b0*_0x27d4b0+_0x21e47e*_0x21e47e,_0x210d73>-0x1a*-0xe+-0x1*0x12eb+0x5d5*0x3){const _0x172c3c=(-0x1eac+0x2*0x208+0x1a9d)/Math['sqrt'](_0x210d73);_0x4f5564*=_0x172c3c,_0x27d4b0*=_0x172c3c,_0x21e47e*=_0x172c3c;}if(_0x210d73=_0x9763eb*_0x9763eb+_0x20ea46*_0x20ea46+_0x353af1*_0x353af1,_0x210d73>0x5*-0x615+-0x153c+0x27*0x153){const _0x1684c3=(0x1bdd+0x34c+-0x1f28)/Math['sqrt'](_0x210d73);_0x9763eb*=_0x1684c3,_0x20ea46*=_0x1684c3,_0x353af1*=_0x1684c3;}}this['center']['set'](_0x208dce[0x12b+-0xa2a*-0x2+-0x13*0x121]+_0x20b16d*_0x3fb13b['x']+_0x2ec95b*_0x3fb13b['y']+_0x393cb7*_0x3fb13b['z'],_0x208dce[-0x1ecb+-0x1ce9*-0x1+-0x9*-0x37]+_0x4f5564*_0x3fb13b['x']+_0x27d4b0*_0x3fb13b['y']+_0x21e47e*_0x3fb13b['z'],_0x208dce[0xdd9*-0x1+0x22db+-0x14f4]+_0x9763eb*_0x3fb13b['x']+_0x20ea46*_0x3fb13b['y']+_0x353af1*_0x3fb13b['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x20b16d)*_0x175958['x']+Math['abs'](_0x2ec95b)*_0x175958['y']+Math['abs'](_0x393cb7)*_0x175958['z'],Math['abs'](_0x4f5564)*_0x175958['x']+Math['abs'](_0x27d4b0)*_0x175958['y']+Math['abs'](_0x21e47e)*_0x175958['z'],Math['abs'](_0x9763eb)*_0x175958['x']+Math['abs'](_0x20ea46)*_0x175958['y']+Math['abs'](_0x353af1)*_0x175958['z']);}static['computeMin'+'Max'](_0x2dac0e,_0x471582,_0x1768cb,_0x19d0f9=_0x2dac0e['length']/(-0x9*0x89+0x135e+-0xe8a)){if(_0x19d0f9>0xd*-0x219+-0x2*-0xd6+0x1*0x1999){let _0x53e84d=_0x2dac0e[-0x5*0x563+0x1*0x15+0x1ada],_0x3a02c5=_0x2dac0e[0x2d9+-0x94f+0x5*0x14b],_0x58ec5c=_0x2dac0e[-0x17f2+-0x12e2+0x2ad6],_0x2b99c2=_0x53e84d,_0x33820c=_0x3a02c5,_0x38a45b=_0x58ec5c;const _0x237375=_0x19d0f9*(-0x1cf0+0x1*0x1239+0xaba);for(let _0x4613a9=0x9ef+0x6bf+-0x1*0x10ab;_0x4613a9<_0x237375;_0x4613a9+=-0xf91+-0x72*0x3d+0x2abe){const _0x1fd0fd=_0x2dac0e[_0x4613a9],_0x34d829=_0x2dac0e[_0x4613a9+(-0x1*-0x187f+-0x1*-0x151a+-0x2d98)],_0x54face=_0x2dac0e[_0x4613a9+(-0x9*0xfb+-0x168b+0x1f60)];_0x1fd0fd<_0x53e84d&&(_0x53e84d=_0x1fd0fd),_0x34d829<_0x3a02c5&&(_0x3a02c5=_0x34d829),_0x54face<_0x58ec5c&&(_0x58ec5c=_0x54face),_0x1fd0fd>_0x2b99c2&&(_0x2b99c2=_0x1fd0fd),_0x34d829>_0x33820c&&(_0x33820c=_0x34d829),_0x54face>_0x38a45b&&(_0x38a45b=_0x54face);}_0x471582['set'](_0x53e84d,_0x3a02c5,_0x58ec5c),_0x1768cb['set'](_0x2b99c2,_0x33820c,_0x38a45b);}}['compute'](_0x1bbf5a,_0x1d9cbd){_e['computeMin'+'Max'](_0x1bbf5a,vn,bn,_0x1d9cbd),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x86c75){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x86c75)<=_0x86c75['radius']*_0x86c75['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x2846ad){const _0x8035e8=this['getMin'](),_0x52cab1=this['getMax']();let _0x2d9cae=0x1d7b+-0x1979+-0x402;const _0x550ed0=['x','y','z'];for(let _0x1a7554=-0x391+0x2e9*-0x1+0x2*0x33d;_0x1a7554<0x455*-0x9+0x17*0x191+0x2f9;++_0x1a7554){let _0x4d8230=-0x260b*0x1+-0x3f*0x9c+0x4c6f;const _0x398d96=_0x2846ad['center'][_0x550ed0[_0x1a7554]],_0x5a8771=_0x8035e8[_0x550ed0[_0x1a7554]],_0x291658=_0x52cab1[_0x550ed0[_0x1a7554]];let _0x3e2092=0x29c*0x5+0x101e+-0x1*0x1d2a;_0x398d96<_0x5a8771&&(_0x3e2092=_0x5a8771-_0x398d96,_0x4d8230+=_0x3e2092*_0x3e2092),_0x398d96>_0x291658&&(_0x3e2092=_0x398d96-_0x291658,_0x4d8230+=_0x3e2092*_0x3e2092),_0x2d9cae+=_0x4d8230;}return _0x2d9cae;}['_expand'](_0x525674,_0x8dae41){vn['add2'](this['getMin'](),_0x525674),bn['add2'](this['getMax'](),_0x8dae41),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x23c15c=new T(),_0x1e97bb=-0x148*0x1d+-0x2337+0x485f+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x23c15c),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x23c15c,this['radius']=_0x1e97bb);}['containsPo'+'int'](_0x269bfa){const _0x35ca01=gl['sub2'](_0x269bfa,this['center'])['lengthSq'](),_0x12f1db=this['radius'];return _0x35ca01<_0x12f1db*_0x12f1db;}['intersects'+'Ray'](_0x45b18f,_0x17b0b9){const _0x8492f3=gl['copy'](_0x45b18f['origin'])['sub'](this['center']),_0x500bd1=_0x8492f3['dot'](bS['copy'](_0x45b18f['direction'])['normalize']()),_0x4f4c56=_0x8492f3['dot'](_0x8492f3)-this['radius']*this['radius'];if(_0x4f4c56>-0x1*-0x1979+0x5*0x6ab+-0x3ad0&&_0x500bd1>0x246a+0x253f*0x1+-0x49a9)return!(-0x203b+-0xfb8+0x2ff4);const _0x1072f7=_0x500bd1*_0x500bd1-_0x4f4c56;if(_0x1072f7<0x26ec+0x1c4c+0x219c*-0x2)return!(0x97*-0x1+-0x5a6+0x63e);const _0x48ae26=Math['abs'](-_0x500bd1-Math['sqrt'](_0x1072f7));return _0x17b0b9&&_0x17b0b9['copy'](_0x45b18f['direction'])['mulScalar'](_0x48ae26)['add'](_0x45b18f['origin']),!(0x2678+0x5e5+-0x2c5d);}['intersects'+'BoundingSp'+'here'](_0x292b1e){gl['sub2'](_0x292b1e['center'],this['center']);const _0x4197f3=_0x292b1e['radius']+this['radius'];return gl['lengthSq']()<=_0x4197f3*_0x4197f3;}}class hy{constructor(_0x3a54d6=T['UP'],_0x5a5847=0xbdb*0x1+0x1466+-0x17*0x167){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x3a54d6),this['distance']=_0x5a5847);}['clone'](){const _0x1be34c=this['constructo'+'r'];return new _0x1be34c()['copy'](this);}['copy'](_0x4d1cb8){return this['normal']['copy'](_0x4d1cb8['normal']),this['distance']=_0x4d1cb8['distance'],this;}['intersects'+'Line'](_0x2a3b13,_0x3b77ef,_0x2be482){const _0x535104=this['distance'],_0x42d1c7=this['normal']['dot'](_0x2a3b13)+_0x535104,_0x549624=this['normal']['dot'](_0x3b77ef)+_0x535104,_0x2a0463=_0x42d1c7/(_0x42d1c7-_0x549624),_0x3fbc79=_0x2a0463>=0x1049+0xe5*-0x5+0x15*-0x90&&_0x2a0463<=-0x1d8a+0x2*0x466+0x14bf;return _0x3fbc79&&_0x2be482&&_0x2be482['lerp'](_0x2a3b13,_0x3b77ef,_0x2a0463),_0x3fbc79;}['intersects'+'Ray'](_0x4a3a25,_0x47f3ee){const _0x424395=this['normal']['dot'](_0x4a3a25['direction']);if(_0x424395===0x7*-0x1aa+0x3b*0x34+-0x56)return!(0x324+0x13b9+-0x16dc);const _0x2259f5=-(this['normal']['dot'](_0x4a3a25['origin'])+this['distance'])/_0x424395;return _0x2259f5>=-0x1a4a+-0x211+0x1c5b&&_0x47f3ee&&_0x47f3ee['copy'](_0x4a3a25['direction'])['mulScalar'](_0x2259f5)['add'](_0x4a3a25['origin']),_0x2259f5>=-0x1*-0x152b+0xa*-0x62+-0x1157;}['normalize'](){const _0x3e7ec4=(0x1647*-0x1+-0x15*0x31+0x1a4d)/this['normal']['length']();return this['normal']['mulScalar'](_0x3e7ec4),this['distance']*=_0x3e7ec4,this;}['set'](_0x3878f4,_0x3a692f,_0x2c6741,_0x32cff2){return this['normal']['set'](_0x3878f4,_0x3a692f,_0x2c6741),this['distance']=_0x32cff2,this;}['setFromPoi'+'ntNormal'](_0x4b264d,_0x456e3b){return this['normal']['copy'](_0x456e3b),this['distance']=-this['normal']['dot'](_0x4b264d),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x2d80ef=-0x16*-0x1c3+0x5*0x56b+-0x41d9;_0x2d80ef<-0x219f+-0x21b+-0x478*-0x8;_0x2d80ef++)this['planes'][_0x2d80ef]=new hy();}['clone'](){const _0x2bcd5d=this['constructo'+'r'];return new _0x2bcd5d()['copy'](this);}['copy'](_0x3e31a9){for(let _0x558e58=-0x1063*-0x1+-0x4f+-0x1014;_0x558e58<-0xc58*0x1+0x207e+-0x1420;_0x558e58++)this['planes'][_0x558e58]['copy'](_0x3e31a9['planes'][_0x558e58]);return this;}['setFromMat'+'4'](_0x126353){const [_0x5818e6,_0x178690,_0x18f21e,_0x5423c5,_0x1af3b1,_0x2d035f,_0x440297,_0x279361,_0x35a148,_0xc83bd1,_0x1715e1,_0x1a1362,_0x357c23,_0x3210d1,_0x4f97d4,_0x18ef0a]=_0x126353['data'],_0x29227b=this['planes'];_0x29227b[0x19*-0x12e+-0x13*0x56+0x29*0xe0]['set'](_0x5423c5-_0x5818e6,_0x279361-_0x1af3b1,_0x1a1362-_0x35a148,_0x18ef0a-_0x357c23)['normalize'](),_0x29227b[0x1327+0x1aad+0x1*-0x2dd3]['set'](_0x5423c5+_0x5818e6,_0x279361+_0x1af3b1,_0x1a1362+_0x35a148,_0x18ef0a+_0x357c23)['normalize'](),_0x29227b[-0x1490+0xded*0x1+-0x3*-0x237]['set'](_0x5423c5+_0x178690,_0x279361+_0x2d035f,_0x1a1362+_0xc83bd1,_0x18ef0a+_0x3210d1)['normalize'](),_0x29227b[0x267e+-0x412+0x17f*-0x17]['set'](_0x5423c5-_0x178690,_0x279361-_0x2d035f,_0x1a1362-_0xc83bd1,_0x18ef0a-_0x3210d1)['normalize'](),_0x29227b[0x15e8+0x696+0x2*-0xe3d]['set'](_0x5423c5-_0x18f21e,_0x279361-_0x440297,_0x1a1362-_0x1715e1,_0x18ef0a-_0x4f97d4)['normalize'](),_0x29227b[-0x2014+0x17+0x2002]['set'](_0x5423c5+_0x18f21e,_0x279361+_0x440297,_0x1a1362+_0x1715e1,_0x18ef0a+_0x4f97d4)['normalize']();}['containsPo'+'int'](_0x1cc94b){for(let _0x7c5185=0x11de+0x2bd+0x149b*-0x1;_0x7c5185<-0x206b*0x1+0x1*0x19d8+0x233*0x3;_0x7c5185++){const {normal:_0x30e494,distance:_0x475a87}=this['planes'][_0x7c5185];if(_0x30e494['dot'](_0x1cc94b)+_0x475a87<=0x443*0x6+-0x1*0x1399+-0x5f9)return!(0x394*-0x9+0x14ff+0xb36);}return!(0x1*0x1c3f+-0x1d7+-0x1a68);}['containsSp'+'here'](_0x3cfc95){const {center:_0x586e52,radius:_0x4bbd66}=_0x3cfc95;let _0x365b8e=0xa89+0x11c+-0xba5;for(let _0x1afcde=0x7d8+-0x1d2d*0x1+0x1*0x1555;_0x1afcde<0x75+-0x8dd+0x437*0x2;_0x1afcde++){const {normal:_0x3246f0,distance:_0x4ed875}=this['planes'][_0x1afcde],_0xad8d22=_0x3246f0['dot'](_0x586e52)+_0x4ed875;if(_0xad8d22<=-_0x4bbd66)return 0x7a*-0x48+-0xdde+0x302e;_0xad8d22>_0x4bbd66&&_0x365b8e++;}return _0x365b8e===0x1c76+0x317+-0x1f87?0x92*-0x37+-0x1ebd+0x3e1d*0x1:-0x78b*-0x1+0x815+0x81*-0x1f;}}class uu{constructor(_0x29b466,_0x29e9ef){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x29b466&&this['origin']['copy'](_0x29b466),_0x29e9ef&&this['direction']['copy'](_0x29e9ef));}['set'](_0x3bffaa,_0x58796f){return this['origin']['copy'](_0x3bffaa),this['direction']['copy'](_0x58796f),this;}['copy'](_0x16897d){return this['set'](_0x16897d['origin'],_0x16897d['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=-0x15*-0x9f+-0x1*0x1b7d+0x2*0x739,ae=-0x1b46*0x1+0x1337+-0x102*-0x8,Of=-0x6*0x4d1+-0x190c*-0x1+0xf7*0x4,kf=0x331*-0x6+-0xc18+0x1f3e,at=-0x724+-0xd*0x171+0x19e2*0x1,TS=0x2f*-0xcc+-0x1*-0x1bb+0x23bb*0x1,dy=0x12b9+-0x115e+-0x157,AS=-0x158d+-0x294*-0x5+-0x2*-0x457,dc=0x1a4+0xb8d+-0xd2b,uc=0xcc*-0x2e+0xa85*0x2+0x7d3*0x2,Lt=-0xfe+-0xdd4+0xed2,ES=-0x20d1+-0x1ebe+-0x1*-0x3f91,CS=-0x13d4+0x16e6+-0x9*0x57,MS=0xe0a+-0x14c7+0x6c1,jt=0x2f*-0x10+-0x16f1+-0x7d*-0x35,Th=-0x14bb*0x1+-0x8c*0xb+-0x1*-0x1ac0,uy=0x964*0x1+-0x79*-0x26+-0x1c*0xfa,PS=0x9eb*0x3+-0x944+0x1*-0x147a,Co=-0xe1d+0x19e6+-0xbc8,Mo=-0x1348*0x1+-0x1a8*0xa+-0x11ed*-0x2,Ah=-0x1*0x3db+-0x2*0x710+0x10f*0x11,mt=-0x86e+0xe68+-0x5fa,rn=0x2b*-0xa7+-0x7*-0x2d7+-0x1*-0x82d,mo=0x10be+0x26*-0x89+-0x2*-0x1cd,RS=-0x1b09+-0x9*-0x2c4+-0x228*-0x1,de=-0x8d1+-0x2545+0x2e16,st=-0x1709*-0x1+-0xd*-0x1f+-0x189b,fc=0x9a*-0xb+-0x442*0x2+0x66*0x26,pc=0x2*-0x345+0x1*0x699+-0xc,mc=-0x11fb*0x1+0x193a+-0x73b,nn=-0x1e8*0x5+0x12f*0xc+-0x4a7,IS=-0x62d*0x3+0x79f*0x1+0x15d*0x8,Eh=-0x21f1+0xf33*-0x1+0x17*0x223,Ch=0x89e+-0x2133+-0x1*-0x1897,fu=0x2*0x1019+-0x2705+0x6d6,DS=0x4e8+0x1869*0x1+-0x1d4d,LS=0xa93*-0x1+0x5e3*-0x6+0x2dea,FS=0x1fc5+0x3*0x614+-0x31fb,Ai=-0x10*-0x66+0x10c3+-0x171c,pu=0x11dc+-0x2c*0x20+-0xc5c,Pi=-0x2*-0x796+0xb90+-0x1abb*0x1,nr=-0x1df3+0x15*-0x86+0xb*0x3b9,fy=-0x14ff+-0x1*-0x194d+-0x44e*0x1,py=-0x969*0x2+-0x1f8e+0x3261,Bf=0x16cd+-0x1*0xd0d+-0x9be,_c=0xd75+-0x1232+0x40*0x13,Nf=-0x1ea1*-0x1+0x545+0x2*-0x11f1,gc=-0x1cce+-0x4*-0x5be+0x5db,dr=-0x2e1+0x1*0x33+0x2b4,Se=0x21f*0xf+-0x23cb+0x401,yc=0x36f*-0xb+0x1eab+0x722,zf=0x4*-0x952+-0x13f2+-0x3943*-0x1,Wo=-0x14bd+-0x1*-0x1b65+-0x69e,xc=0x4*0xc9+0x244b+-0x2764,Je=0x1a60+-0x6ae+0xa*-0x1f7,Sc=-0x1*0xb5d+0x1a1a+-0xeb0,Ke=0x6d*0x38+-0x156*-0x13+-0xc*0x419,Ii=-0x6*0x192+0x41b+0x560,Ci=-0x570+-0x1*-0x1229+-0xca9,vc=0x1*0x2453+-0x1914+0x6*-0x1dd,_a=-0x1511*-0x1+-0x1742+0x243*0x1,Uf=0x3cc*0x1+-0x763+0x3aa,rs=0x1043*0x1+0x1*0x2561+-0x3590*0x1,bc=-0xb7*-0xf+0x11fc*0x1+-0x728*0x4,Vf=0x693+0x1493+-0x8*0x362,Gf=0x1fc4+0x2601*-0x1+0x654,qo=-0xb81+-0x216e+0x2d07,Xo=0x1*0x1a65+-0xa4+-0x19a8,wc=-0x61d+0x22d1+-0x1c9a,Tc=0x3e*0x40+0x7b5*0x2+-0xef*0x21,my=0x5*-0x30a+0x109*-0x3+0x623*0x3,_y=-0x1*-0x76d+0x617*-0x5+0x1723,gy=-0x215+0xa87+0x2*-0x42a,yy=-0x280+0x62*-0x13+-0x1*-0x9e5,Hf=0xf59*-0x2+0x5f*-0x61+0x42d1,xy=0x10b*-0x13+0x15a+-0x4a6*-0x4,$f=-0x73c+0x25*0x45+-0x29b,Wf=0x499+-0xa1f*0x2+0xfc8,qf=-0x1194+-0x21cb+0x3383,an=-0x73b*0x5+-0x1c07+0x4053,Xf=0x2619+-0x283*-0x5+-0x3282,Sy=0x3*-0xac5+-0x66c+-0x26e2*-0x1,jf=-0x122f+0x34*0x56+0xdf,Yf=0x3*-0x102+-0xec3+0x11f2,Kf=-0x5b3*0x6+-0x126*0xf+0x5d*0x8e,Zf=0xfec+0xf31+0x1ef2*-0x1,Qf=-0x61d*0x1+0x1339+-0xcf0,vy=0x1af6+-0x1ddd+0x314,Jf=-0x1*0xcfe+-0x1706+0x2432,Ac=-0x5*-0x53+0x1*-0x21ed+0x1*0x207d,ep=0x2332+-0x21dc+-0x126,ut=-0x10df*0x2+-0xb97*-0x3+-0x2*0x6b,Ec=0x1*0xa6d+0x20*-0x44+-0x1bb,tp=-0x1*0xf4d+0x3*-0xc05+-0xc5*-0x43,sp=0x2580+-0xd1f+-0x182d,ip=-0xe19+-0x164f+0x249d,mu=-0x1*-0x11f9+0x1b40+-0x2d03,_u=-0x65b*-0x4+-0x1536+-0x3ff,gu=0x5*-0x199+0x17ab+-0xf76,yu=-0x1a*-0x146+0x1*-0x1868+0x877*-0x1,xu=0x3*0x379+0x2631*0x1+-0x2*0x182f,Su=-0x4*0x8d0+-0x12a*0xc+0x3177,by=-0x9d*0x29+-0x1*0x125b+-0x28*-0x118,wy=-0x10ab+-0x1*-0x734+0x9b8,Ty=-0x606*-0x6+0x9f2+-0x2dd4,Ay=0x1931+0x3fb*0x8+-0x38c6,vu=0x1*-0x725+0x12ce+-0xb65*0x1,la=0xa8+-0xe42+0xddf,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(-0x72f+0x5*0x44+0x5db)}],[sp,{'name':'R8','size':0x1,'ldr':!(-0x86d+-0x23e+-0xaab*-0x1)}],[py,{'name':'L8','size':0x1,'ldr':!(0x1dc9+0x4b+-0x1e14)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(-0x2*-0x50b+-0x1dcd+-0x67*-0x31)}],[ip,{'name':'RG8','size':0x2,'ldr':!(-0x242b+0x186e+0x259*0x5)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(-0x22a7+0x2279*0x1+0x2e)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(0xb*-0xd+-0x242f+0x24be)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(-0xcf*-0x17+-0x59d+-0xcfc)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(-0x7d4+0x4b*-0x35+0x175b)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(0x1a04+-0x2*0x1299+0x13e*0x9),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(-0x12ab+-0x1eb0+0x1*0x315b),'srgb':!(-0x1e0b+0x27*0x70+0xcfb)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(-0x1d4d+-0x1008+0x2d55),'srgb':!(0x1bcd+-0x463*-0x3+-0x6b*0x62)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(0x1*-0x1ebb+0x6*0x494+0x343)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(-0x6d*-0x12+0x2b*-0x1+-0x77f),'srgb':!(-0xd*-0x95+-0xa*-0x9d+0x1f5*-0x7)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(0x1d23+0x26da*0x1+-0x3b*0x127),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x9d5*0x1+0x3f*-0x63+0x2232),'srgbFormat':_u}],[Wo,{'name':'DXT5','blockSize':0x10,'ldr':!(0x2*-0xa62+0x54b+0xf79),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(0x56+-0x41e*-0x2+-0x892)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x6a6+-0x211c+0x1*0x27c2),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x1*-0x559+0x34*0xa+-0x351*-0x1),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x2*0x1333+-0x2*-0x432+-0x2eca),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0x4de+-0x164b+0x1b29),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x316*-0x9+-0x789*-0x4+-0x846*0x7),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x102d+0x16fa+-0x2727),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x274+0x931*0x1+-0x6bd*0x1),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0xc*-0x336+-0x18f+-0x765*0x5)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x22d5+0x1bd6+0x6ff)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x16c3+0x2fd+-0x20*0xce),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0x68c+0x1315+-0x19a1),'srgb':!(-0x1*0x162+-0x1837+0x1999*0x1)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x2d*-0x86+-0x16a4+0x6*-0x27),'srgb':!(0xa50+-0xdc0+-0xb*-0x50)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0x663*-0x5+-0xbff+0x4*-0x4fc),'srgb':!(-0x74*-0x2f+-0x2699+0x2b*0x67)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x11*-0x18+0x19*-0x11e+0x1d86),'srgb':!(0x3*0x409+0x2672+-0x328d)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x5*-0x66+0x7b8*0x4+-0x1ce2),'srgb':!(-0x5*0x1f1+-0xbd2+-0xb*-0x1f5)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x1*-0xc10+0x255b*-0x1+0x316b),'srgb':!(-0x3*0x1bd+-0x132f*-0x1+0x2*-0x6fc)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0xc9e+0x23f1+-0x308f),'srgb':!(-0x7be+0x14dd+-0x1*0xd1f)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(0x69a*-0x1+-0x20ed*-0x1+0x125*-0x17)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x12e4+0x11da+-0x2*-0x85)}],[$f,{'name':'R16I','size':0x2,'isInt':!(0x4f*-0x1d+0x265a+-0x1d67)}],[Wf,{'name':'R16U','size':0x2,'isInt':!(0xf5+0x2238+-0x232d*0x1)}],[qf,{'name':'R32I','size':0x4,'isInt':!(-0x1*-0x20c7+0xb*-0x62+-0x1c91)}],[an,{'name':'R32U','size':0x4,'isInt':!(-0x275+0xc5d*-0x1+0xed2)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(-0x106*-0x11+-0xcb*-0x17+-0x23a3)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(-0x6*-0x5ed+-0x1b69+-0x825)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(0x7a7*0x3+0x14fe+-0x2bf3)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(-0x1*-0x15+-0x1168+0x1153)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(-0x17aa+-0x1*-0xf25+0x885)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(-0x1130+-0x157*0x1b+0x355d*0x1)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(-0x30*0x5e+-0x23*0x1+0x11c3)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(0xd*0xe3+-0x689*-0x1+-0x1210)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(0x4*-0x923+-0xd66+0x31f2)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(-0x52*0x51+-0x252+-0x10c*-0x1b)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(0x3+0x3*-0x2dd+-0x16e*-0x6)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(-0x23be+-0x2213+0x45d1)}]]),OS=_0x285c56=>{var _0x879348;return((_0x879348=xt['get'](_0x285c56))==null?void(0x22d1*0x1+-0x12aa*0x1+-0x1027):_0x879348['blockSize'])!==void(0x6fb*0x2+-0x1*0xfd+-0xcf9);},Mh=_0x4ffeba=>{var _0x260d7a;return((_0x260d7a=xt['get'](_0x4ffeba))==null?void(0x9*-0x107+-0x2*-0x2e5+0x375):_0x260d7a['srgb'])===!(0x121c+0x2*-0x11ab+-0x46*-0x3f);},ea=_0x4a4b65=>{var _0x390641;return((_0x390641=xt['get'](_0x4a4b65))==null?void(-0x958*-0x2+0x2284+0x11bc*-0x3):_0x390641['isInt'])===!(-0xef2+-0x8f8+-0xbf5*-0x2);},Cc=_0x2b7518=>{var _0x58b014;return((_0x58b014=xt['get'](_0x2b7518))==null?void(0x62c+-0x1b24+0x3d*0x58):_0x58b014['srgbFormat'])||_0x2b7518;},kS=_0xb37998=>{for(const [_0x27a70b,_0x50ee4d]of xt)if(_0x50ee4d['srgbFormat']===_0xb37998)return _0x27a70b;return _0xb37998;},Ey=_0x373ed4=>{const _0x58d19d=xt['get'](_0x373ed4);return!!(_0x58d19d!=null&&_0x58d19d['ldr']&&!(_0x58d19d!=null&&_0x58d19d['srgb']));},Cy=_0xa32173=>{switch(_0xa32173){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case $f:case jf:case Jf:return Int16Array;case ip:case Wf:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=0x207e+0x22b4*-0x1+0x236,Pc=0x1*0xf26+-0x3*-0x59f+-0x1001*0x2,My=-0x65e+0x1c60+0x20*-0xb0,Py=-0x22*-0xf5+0x1c50+-0x3cd7,Ms=0x67*0x2+-0xe66+0x367*0x4,ar=-0x1*-0x1549+-0x2196+-0x629*-0x2,Yr=0x55e+-0x8ce+0x376,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=0x1247+-0x7*-0x93+0x164b*-0x1,ha=-0x15b3+0x696+0xf1d,GS=-0x6d*-0x3b+0xeed*-0x1+0x8*-0x146,HS=-0x44*-0x43+-0x1e1*-0xe+-0x2c17,$S=0x529+0x1f*-0x1f+-0x163,yl=0x9be*-0x4+0x1801*0x1+0xef7,Fy=-0x5*0x580+0xbed+0xf94,rd=-0x65*0x29+-0x6e*-0x2c+-0x29*0x11,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=0xde9+-0x6*0xde+-0x8b4,ur=0x97*-0x9+-0x535+0xa86*0x1,Oy=-0x1909+-0x623+-0xa65*-0x3,Us='2d',WS='2d-array',qS='cube',XS='3d',oh=0x1545+0xa70+-0x1fb5*0x1,nd=0xb04+0x128c+-0x1d8f,jS=-0xe1b+-0x188f*-0x1+0xe*-0xbf,YS=0x8b0+0xf69+-0x1816,KS=-0x232e+0x13e*0x4+0x1e3a,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=0x10f6+-0x1839+-0x1*-0x743,Kr=0x1*-0x989+-0x196*0x16+0x2c6e,Ic=0x22*0x9d+0x37*0x79+-0x2ed7,el=-0x412*0x2+0x21e5+0x2*-0xcdf,By=0x16*0x92+-0x2266*-0x1+-0x2eee,Do=0x1409+0xcef+-0x697*0x5,Ee=-0x1*-0xc34+-0xa75+-0x1b9,ca=-0x509+-0x1a52+0x1f5b,ln=-0x13*-0x6b+0x1*0x1d89+-0x2579,Ws=0x27a*-0x3+0x113b*-0x2+0x29e6,or=0x1a5*0x8+-0x3*-0x29d+-0x14fc,Wt=0x88b+-0x1f0a+0x3*0x781,xa=0x1b18+-0x1cf5+0x1e2,Zr=0x210d+0x1113+-0x321a,Qr=-0x2317+0x2*-0x20b+0x2734,Jr=0x1a12+-0xefb+-0xb0f,Lo=0x1*-0x2077+0x1ad9+-0x5a7*-0x1,Fo=0x1ba0+-0x1*-0x1a2a+-0xa0*0x56,Oo=-0x2164+-0x11ce+0xd*0x3f1,Rh=0x21ba+0x3*-0x4e3+-0x1305,ko=0x412*-0x2+-0x239d+0x7e*0x59,Sa=0x623*0x1+0x4*0x471+-0x17d9,JS=0x1*-0x4b5+0x248c+-0x1*0x1fc8,ev=-0x20bf+-0x1bdc+0x3cab,Dc=0x31*0x60+0x3*-0x71e+0x30b,tv=-0x2*-0x10c9+0x10c8+-0x649*0x8,sv=0x72f+-0x3*0x5ce+-0x2*-0x527,iv=0xf1*-0x3+-0x1a99+0x1d80,Lc=-0x3*0x44a+0x3ed+-0x9a*-0xf,Fc=-0xd61+0x2d+0xd4a,lp=-0x218c+0x2ef+-0x51e*-0x6,Ny=-0x532*-0x6+0x55d*0x1+-0x2471,rv=0xf45*0x1+0x23bc+0x5a8*-0x9,va=-0x164b+0xb81+0xae4,ba=-0x857+-0x264c+0x2ebe,wa=-0x150b*-0x1+0x16b9+0x16*-0x1fc,Ta=0x1*-0x12ad+0x175*-0x3+0x1729,Aa=-0x23*-0x8c+-0x708+-0xbfe,Oc=-0x13c9+0x1229*0x1+0x1bf,kc=0x6b1+0x74f+-0xde0*0x1,Ea=-0x1fb4+-0x2277+0x2126*0x2,Bc=0x1*0x644+0xff6*0x1+-0x328*0x7,Nc=0x1*-0x21af+-0x22d5+0x44a7,Ca=0x2146+0x1abe+-0x3be*0x10,zc=-0x2056+-0x56c*-0x5+0x55f,Uc=0xac8*0x2+-0x168b+0x121,Ih=-0x1*-0x178d+-0x19d*-0x10+-0x3136,hp=-0x4*0x53a+-0x1*-0xce5+0x82b,cp=0x4a3*-0x6+-0x2d*0xcd+0x4004,nv=0x1*0x1294+-0x226d+0x1003,av=0x1bb6+-0x5*0x2cc+-0x10b*0xd,ov=0x13f1+0xcd3+0x4*-0x826,lv=0xbf*0x1+-0xdee+0xd5c,hv=0x5*0x2a2+-0x1e34+0x1138,cv=0x9a6+-0xa53+0xdc,dv=-0x270+-0x90b+0xbab,uv=-0xe*-0x18d+0x6e4+-0x7*0x40f,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x3e67c3,_0x3b672c)=>{_0x3e67c3['forEach'](_0x26d672=>pv['set'](_0x26d672,_0x3b672c));});const mv='webgl2',up=-0x13da+-0x1dd5*0x1+-0x2*-0x18d8,li=-0x251*-0x4+0x19e5+-0x1*0x2327,_v=-0x8b*-0x3d+-0x6*-0x583+-0x422d,gv='ldr',zy=0x15*0x1d+-0xd31+-0x3*-0x39b,Uy=0x72f*-0x2+-0x1351+-0x4b*-0x73,Vy=-0xe11*-0x1+-0x1*-0x2563+-0x1*0x3370,Gy=0xedc+-0x1*-0x1fee+0xa*-0x4ad,Hy=-0x1c7e+-0x20c0*-0x1+-0x432,$y=-0x204f+0x1329+0xd46,Wy=-0x1a2*0x11+0x1e90+-0x28e,qy=-0xdef*0x1+0xf92+-0x123*0x1,yv=-0x1f6*-0x3+0xaff*-0x1+0x61c,Dh=-0x9*0x2e1+-0x1*-0x8aa+0x373*0x5,Xy=-0x322*-0x7+-0x40a+-0x11e3,Eu=-0x2266+0x1ec3+-0x3a5*-0x1,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[-0x25e1*0x1+-0x1a06*0x1+0x3fe8,0x1*-0x24af+0x1*0xb7b+0x1935,-0x657*-0x3+-0x1c57+0x2*0x4aa,-0x4e*-0x39+0x2479+-0x1*0x35d5,0x403*0x9+-0x70c*0x1+-0x1d0b,-0x228b+-0x46*-0x17+0x1c45,-0xf15+-0x1494+-0x23ad*-0x1,0x3*-0x779+-0x5*-0x4e1+0x4*-0x7e],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0x1*0x53+-0x121*0x13+0x15c7,0x577*0x1+-0x2560+0x1feb,-0x7a5*0x2+0x22*-0x5c+0xd*0x21e],ve={};ve[He]=0xe50+0x1525*-0x1+0x6d5,ve[Yt]=0x1910+0xfb*0xa+-0x22dd,ve[Ys]=0x14f1+-0x2*-0xd58+-0x2f9f,ve[qt]=-0x1dd7+0x155f+-0x1*-0x87b,ve[At]=-0x2*-0x12f3+-0x1de8+0x3fd*-0x2,ve[ns]=0x1*0x407+-0x1*-0x1669+-0x1a6b,ve[_n]=-0x2b*-0x41+0x3*-0x821+0xd7e,ve[jo]=0xd*-0x1cf+-0x1503+0x2c8d,ve[Yo]=-0xc2b*0x3+-0x7e7+0x1638*0x2,ve[Ko]=-0x6*-0x647+-0x1068+-0x1539,ve[Zo]=-0x4a4+-0xcd7*0x3+0x2b33,ve[Qo]=-0x229d+0x22d*-0x8+0x3410,ve[Jo]=0x934+0x26fb*-0x1+0x1dd3,ve[Zs]=-0x203d*0x1+0x1*-0xb8c+-0x2bd6*-0x1,ve[bu]=0x14*-0x8c+0x1a5c+0x7b6*-0x2,ve[wu]=-0x5ba+0x21e9+-0x1c2e,ve[Ry]=0x25bd+0xab2*-0x2+-0x1057,ve[Iy]=-0xd6*-0x2a+0x1*-0x7+-0x2312,ve[Dy]=0x9c1*-0x4+-0x419*-0x7+0xa59,ve[BS]=0x1*-0x425+-0x1*-0x1327+-0xefd*0x1,ve[NS]=-0x1acf+-0x1615*0x1+0x827*0x6,ve[zS]=0x1fd+-0x1cc+-0x1*0x2a,ve[Po]=0xb06+0x155c+-0x205a,ve[Ro]=0xb7*0x6+-0x154a+0x1109,ve[US]=-0x152d+-0x71c+0x1c53,ve[VS]=-0x3*0x5bf+0x1f8+0xf50,ve[rp]=0x11fc*0x1+-0x164e+0x45e,ve[ga]=0xed7*-0x1+0xa52*0x2+-0x2e0*0x2,ve[np]=0x1e7d+-0x1*0xced+-0x1182,ve[ya]=-0x1fe1+0x2e9*-0x9+0x3a21;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=0x7db*0x2+0xc9f*-0x1+-0x317;}static['pushGpuMar'+'ker'](_0x3f79bd,_0x2d6937){Ki['markers']['push'](_0x2d6937),_0x3f79bd['pushMarker'](_0x2d6937);}static['popGpuMark'+'er'](_0x2e626a){Ki['markers']['length']&&Ki['markers']['pop'](),_0x2e626a['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=-0xd44+0x5cf+0x775;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[WS]:'texture2DA'+'rray'};class Vc{constructor(_0x246f9c,_0x324bb1){c(this,'slot',-(0x1*-0xda5+-0x105f+0x1e05)),c(this,'scopeId',null),(this['name']=_0x246f9c,this['visibility']=_0x324bb1);}}class pp extends Vc{}class Av extends Vc{constructor(_0xd74a08,_0x4f01d4,_0x24b1d0=!(0x31*-0x8b+-0x9f7+0x3*0xc31)){super(_0xd74a08,_0x4f01d4),c(this,'format',''),(this['readOnly']=_0x24b1d0,v['assert'](_0x24b1d0||!(_0x4f01d4&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x538a39,_0x10d2c4,_0x1ddfdd=Us,_0x28b2b0=oh,_0x814aa9=!(-0x1f88+-0x10c7+0x95*0x53),_0x21fccc=null){super(_0x538a39,_0x10d2c4),this['textureDim'+'ension']=_0x1ddfdd,this['sampleType']=_0x28b2b0,this['hasSampler']=_0x814aa9,this['samplerNam'+'e']=_0x21fccc??_0x538a39+'_sampler';}}class Ev extends Vc{constructor(_0xd23934,_0xd40cfb=Se,_0x275a61=Us,_0x35ce72=!(0xab1+-0x1e6a+0x13b9),_0x50d2ab=!(0x1b03*-0x1+-0x2333+0x1*0x3e37)){super(_0xd23934,_v),this['format']=_0xd40cfb,this['textureDim'+'ension']=_0x275a61,this['write']=_0x35ce72,this['read']=_0x50d2ab;}}class jy{constructor(_0x5f33d4,_0x287feb){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x287feb));let _0x5a0d5e=-0x5e*0x1f+0x62a*-0x2+0x17b6;_0x287feb['forEach'](_0x24a976=>{_0x24a976['slot']=_0x5a0d5e++,_0x24a976 instanceof fi&&_0x24a976['hasSampler']&&_0x5a0d5e++,_0x24a976 instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x24a976):_0x24a976 instanceof fi?this['textureFor'+'mats']['push'](_0x24a976):_0x24a976 instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x24a976):_0x24a976 instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x24a976):v['assert']('Invalid\x20bi'+'nd\x20format',_0x24a976);}),this['device']=_0x5f33d4;const _0x15747c=_0x5f33d4['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x325106,_0x1ee889)=>this['bufferForm'+'atsMap']['set'](_0x325106['name'],_0x1ee889)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x2e1708,_0x4a6115)=>{this['textureFor'+'matsMap']['set'](_0x2e1708['name'],_0x4a6115),_0x2e1708['scopeId']=_0x15747c['resolve'](_0x2e1708['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0xcb4993,_0x253473)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0xcb4993['name'],_0x253473),_0xcb4993['scopeId']=_0x15747c['resolve'](_0xcb4993['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x253e26,_0x2034f2)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x253e26['name'],_0x2034f2),_0x253e26['scopeId']=_0x15747c['resolve'](_0x253e26['name']);}),this['impl']=_0x5f33d4['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x24a184){const _0x1cf927=this['textureFor'+'matsMap']['get'](_0x24a184);return _0x1cf927!==void(0x10a6+-0x26+-0x108*0x10)?this['textureFor'+'mats'][_0x1cf927]:null;}['getStorage'+'Texture'](_0x1f2368){const _0x22fb93=this['storageTex'+'tureFormat'+'sMap']['get'](_0x1f2368);return _0x22fb93!==void(0x2311+0x1fd7+-0x2*0x2174)?this['storageTex'+'tureFormat'+'s'][_0x22fb93]:null;}['getShaderD'+'eclaration'+'Textures'](_0x2eeb69){let _0x5b0072='';return this['textureFor'+'mats']['forEach'](_0x38d1df=>{let _0x3796ad=Tv[_0x38d1df['textureDim'+'ension']];v['assert'](_0x3796ad,'Unsupporte'+'d\x20texture\x20'+'type',_0x38d1df['textureDim'+'ension']);const _0x2d4fb1=_0x3796ad==='texture2DA'+'rray',_0x4cac10=_0x38d1df['sampleType']===KS?'u':_0x38d1df['sampleType']===YS?'i':'';_0x3796ad=''+_0x4cac10+_0x3796ad;let _0x435aab='',_0x2cfa62='';_0x2d4fb1&&(_0x435aab='_texture',_0x2cfa62='#define\x20'+_0x38d1df['name']+'\x20'+_0x4cac10+('sampler2DA'+'rray(')+_0x38d1df['name']+_0x435aab+',\x20'+_0x38d1df['name']+'_sampler)\x0a'),_0x5b0072+='layout(set'+'\x20=\x20'+_0x2eeb69+(',\x20binding\x20'+'=\x20')+_0x38d1df['slot']+')\x20uniform\x20'+_0x3796ad+'\x20'+_0x38d1df['name']+_0x435aab+';\x0a',_0x38d1df['hasSampler']&&(_0x5b0072+='layout(set'+'\x20=\x20'+_0x2eeb69+(',\x20binding\x20'+'=\x20')+(_0x38d1df['slot']+(0x1*0x371+0xe8d+0xf*-0x133))+(')\x20uniform\x20'+'sampler\x20')+_0x38d1df['name']+'_sampler;\x0a'),_0x5b0072+=_0x2cfa62;}),_0x5b0072;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x425f6e,_0x29ef1d){return this['_cache']['has'](_0x425f6e)||(this['_cache']['set'](_0x425f6e,_0x29ef1d()),_0x425f6e['on']('destroy',()=>{this['remove'](_0x425f6e);}),_0x425f6e['on']('devicelost',()=>{var _0x4caa94,_0x5c798f;(_0x5c798f=(_0x4caa94=this['_cache']['get'](_0x425f6e))==null?void(-0x21c3+-0x2*-0x829+-0x13*-0xeb):_0x4caa94['loseContex'+'t'])==null||_0x5c798f['call'](_0x4caa94,_0x425f6e);})),this['_cache']['get'](_0x425f6e);}['remove'](_0x2c2d3d){var _0x17dd25,_0x12df17;(_0x12df17=(_0x17dd25=this['_cache']['get'](_0x2c2d3d))==null?void(0x6b5+-0x1d33+0x1*0x167e):_0x17dd25['destroy'])==null||_0x12df17['call'](_0x17dd25,_0x2c2d3d),this['_cache']['delete'](_0x2c2d3d);}}class Mi{static['calcLevelD'+'imension'](_0x9a2a29,_0x2ca28f){return Math['max'](_0x9a2a29>>_0x2ca28f,0x13ed+0x74a*-0x2+-0x2ac*0x2);}static['calcMipLev'+'elsCount'](_0x5af2e8,_0x35e3b0,_0x24138f=-0x259b+-0x1a7*0x7+0x312d){return-0x1*-0x1969+-0x1b7f*0x1+0x6b*0x5+Math['floor'](Math['log2'](Math['max'](_0x5af2e8,_0x35e3b0,_0x24138f)));}static['calcLevelG'+'puSize'](_0x443beb,_0x3d3966,_0x13054f,_0x58fdd3){var _0x178f72;const _0x322134=xt['get'](_0x58fdd3);v['assert'](_0x322134!==void(-0x16*-0x3d+0x830*0x1+0x6*-0x23d),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x58fdd3);const _0x1e67f5=((_0x178f72=xt['get'](_0x58fdd3))==null?void(-0x44*0x33+0x1*-0xc6b+-0x1*-0x19f7):_0x178f72['size'])??-0x21e4+-0x83*-0xa+0x1cc6;if(_0x1e67f5>0x9*-0x1ef+0x479+0x677*0x2)return _0x443beb*_0x3d3966*_0x13054f*_0x1e67f5;const _0x2ba5ad=_0x322134['blockSize']??-0x1eeb*-0x1+0x1669*0x1+-0x2*0x1aaa;let _0x2520b6=Math['floor']((_0x443beb+(0x14c7+-0x1*0x1ecb+0xa07))/(0x48d+-0x1*0x1e8a+0x1a01));const _0x39c45f=Math['floor']((_0x3d3966+(-0x4*0x982+0x123*0x8+-0x1cf3*-0x1))/(-0xcce+-0x7*-0x2af+-0x1fd*0x3)),_0x58ac74=Math['floor']((_0x13054f+(0x1514+0xd*0x23f+-0x3244))/(-0xf71*-0x1+0x1*0x2516+-0x3483));return(_0x58fdd3===qo||_0x58fdd3===Xo)&&(_0x2520b6=Math['max'](Math['floor'](_0x2520b6/(-0x8e7*0x1+-0x2379*-0x1+-0x1a90)),-0xb66+-0x2*0x2f0+0x1147)),_0x2520b6*_0x39c45f*_0x58ac74*_0x2ba5ad;}static['calcGpuSiz'+'e'](_0x1dd52f,_0x26f9f9,_0x788f15,_0x363755,_0x378eb6,_0x5ae0d2){let _0x4bbf04=0x43*0x2d+0x109*-0x18+0xd11;for(;_0x4bbf04+=Mi['calcLevelG'+'puSize'](_0x1dd52f,_0x26f9f9,_0x788f15,_0x363755),!(!_0x378eb6||_0x1dd52f===0xe42+0xa*-0x163+0xb*-0x9&&_0x26f9f9===-0x169c+0x1133*0x2+0x1af*-0x7&&_0x788f15===-0x2323+0x2707+-0x3e3);)_0x1dd52f=Math['max'](_0x1dd52f>>0x1*-0x1c14+-0x1547+0x12*0x2be,0x7d*0x1+0x1951+-0x529*0x5),_0x26f9f9=Math['max'](_0x26f9f9>>-0x392*0x1+-0xa4e+0xde1,0xb8d+-0x719+-0x473),_0x788f15=Math['max'](_0x788f15>>0x1879+-0x925+-0xf53,-0x1ca*-0x5+-0x7*-0x3bd+-0x231c);return _0x4bbf04*(_0x5ae0d2?-0x171e+-0x1ebb+0x35df:0x2578+0x10b3+-0x362a);}}let Cv=0xc6*0x1b+-0x4e8*0x6+0x3*0x2da;class he{constructor(_0x3ac16f,_0x594dc8={}){c(this,'name'),c(this,'_gpuSize',-0x7b5*0x3+-0xaff+-0x16*-0x18d),c(this,'id',Cv++),c(this,'_invalid',!(-0x29*0x4e+-0x178+0xdf7)),c(this,'_lockedLev'+'el',-(-0x9ec+-0x1b4c+0x2539)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',0x1*0x2417+0x929+-0x1*0x2d40),c(this,'_storage',!(-0x1*-0xd99+-0x57a*0x7+0x18be)),c(this,'_numLevels',-0x13ff+-0x11fa+0x25f9),c(this,'_numLevels'+'Requested');var _0x42c908;this['device']=_0x3ac16f,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x594dc8['width']||Number['isInteger'](_0x594dc8['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x594dc8),v['assert'](!_0x594dc8['height']||Number['isInteger'](_0x594dc8['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x594dc8),v['assert'](!_0x594dc8['depth']||Number['isInteger'](_0x594dc8['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x594dc8),this['name']=_0x594dc8['name']??'',this['_width']=Math['floor'](_0x594dc8['width']??-0x4*-0x8d3+0xf6*0xa+-0x2ce4),this['_height']=Math['floor'](_0x594dc8['height']??-0x105b+-0x22df*-0x1+-0x1280),this['_format']=_0x594dc8['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x594dc8['minFilter']=de,_0x594dc8['magFilter']=de),this['_volume']=_0x594dc8['volume']??!(0x1*-0x74c+-0x1c2c*-0x1+-0x1*0x14df),this['_depth']=Math['floor'](_0x594dc8['depth']??0x1*-0x14e9+0x1594+-0x11*0xa),this['_arrayLeng'+'th']=Math['floor'](_0x594dc8['arrayLengt'+'h']??-0x49*0x65+0x18a9+0x109*0x4),this['_storage']=_0x594dc8['storage']??!(0x1*0x15a5+-0x1*-0x1e5d+-0x1*0x3401),this['_cubemap']=_0x594dc8['cubemap']??!(0x1a8+-0x1f80+-0x11b*-0x1b),this['_flipY']=_0x594dc8['flipY']??!(0x1a7e*-0x1+-0x591+0x2010),this['_premultip'+'lyAlpha']=_0x594dc8['premultipl'+'yAlpha']??!(0x1*-0x3ae+-0x4*-0x684+-0x1661*0x1),this['_mipmaps']=_0x594dc8['mipmaps']??!(-0x82f*0x1+-0x1ce7+0x2516),this['_numLevels'+'Requested']=_0x594dc8['numLevels'],_0x594dc8['numLevels']!==void(-0x20f*-0x11+-0x18fe+-0xa01)&&(this['_numLevels']=_0x594dc8['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x594dc8['minFilter']??nn,this['_magFilter']=_0x594dc8['magFilter']??st,this['_anisotrop'+'y']=_0x594dc8['anisotropy']??0x1408+-0x59*0x9+-0x10e6*0x1,this['_addressU']=_0x594dc8['addressU']??tt,this['_addressV']=_0x594dc8['addressV']??tt,this['_addressW']=_0x594dc8['addressW']??tt,this['_compareOn'+'Read']=_0x594dc8['compareOnR'+'ead']??!(-0x2cc*-0x2+0x428+-0x1f3*0x5),this['_compareFu'+'nc']=_0x594dc8['compareFun'+'c']??Eh,this['type']=_0x594dc8['hasOwnProp'+'erty']('type')?_0x594dc8['type']:Di,v['assert'](!_0x594dc8['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x594dc8['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x594dc8['projection']&&_0x594dc8['projection']!==Au&&(this['projection']=_0x594dc8['projection']),this['profilerHi'+'nt']=_0x594dc8['profilerHi'+'nt']??-0x89f+-0x8*0x35f+0xbdd*0x3,this['_levels']=_0x594dc8['levels'];const _0x39e82f=!!_0x594dc8['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x39e82f),_0x3ac16f['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x42c908=xt['get'](this['format']))==null?void(0xbb*-0x1+-0x2*0x355+0x1*0x765):_0x42c908['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x38ee37=this['device'];if(_0x38ee37){const _0x446c21=_0x38ee37['textures']['indexOf'](this);_0x446c21!==-(0x15c7+-0x20e0+0xb1a)&&_0x38ee37['textures']['splice'](_0x446c21,-0x1*-0x8e0+-0x1d3c+0x145d),_0x38ee37['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x38ee37),this['adjustVram'+'SizeTracki'+'ng'](_0x38ee37['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x2d4b06=!(0x17d9+-0x1*0x21ab+0x9d2)){var _0x349d3c;const {device:_0x4a4298}=this;(_0x349d3c=this['impl'])==null||_0x349d3c['destroy'](_0x4a4298),this['impl']=null,this['impl']=_0x4a4298['createText'+'ureImpl'](this),this['dirtyAll'](),_0x2d4b06&&this['upload']();}['resize'](_0x3aecb6,_0x58e78c,_0x320fbf=0x16a*-0x15+0x9*-0x38b+0x3d96){const _0x2563ff=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x2563ff['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x2563ff),this['_width']=Math['floor'](_0x3aecb6),this['_height']=Math['floor'](_0x58e78c),this['_depth']=Math['floor'](_0x320fbf),this['_updateNum'+'Level'](),this['impl']=_0x2563ff['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x17d37b,_0x1a0878){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x1a0878+('\x20vram.text'+'ure:\x20')+_0x17d37b['tex']+'\x20=>\x20'+(_0x17d37b['tex']+_0x1a0878)),_0x17d37b['tex']+=_0x1a0878,this['profilerHi'+'nt']===Tu?_0x17d37b['texShadow']+=_0x1a0878:this['profilerHi'+'nt']===ur?_0x17d37b['texAsset']+=_0x1a0878:this['profilerHi'+'nt']===Oy&&(_0x17d37b['texLightma'+'p']+=_0x1a0878);}['propertyCh'+'anged'](_0x236646){this['impl']['propertyCh'+'anged'](_0x236646),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x45a030=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):-0x1*-0x1b59+-0x1f*0x11+-0x1949,_0x31f32f=this['_numLevels'+'Requested'];_0x31f32f!==void(-0x1225+0x1c27*0x1+-0x7*0x16e)&&_0x31f32f>_0x45a030&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x45a030,this),this['_numLevels']=Math['min'](_0x31f32f??_0x45a030,_0x45a030),this['_mipmaps']=this['_numLevels']>0x46*0x8b+0xb9*-0xb+0x2*-0xf07;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x551a68){this['_minFilter']!==_0x551a68&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x551a68,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x108447){this['_magFilter']!==_0x108447&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x108447,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x308650){this['_addressU']!==_0x308650&&(this['_addressU']=_0x308650,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x98c2dd){this['_addressV']!==_0x98c2dd&&(this['_addressV']=_0x98c2dd,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0xad0d3d){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0xad0d3d!==this['_addressW']&&(this['_addressW']=_0xad0d3d,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x2592f2){this['_compareOn'+'Read']!==_0x2592f2&&(this['_compareOn'+'Read']=_0x2592f2,this['propertyCh'+'anged']($y));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x4cb81f){this['_compareFu'+'nc']!==_0x4cb81f&&(this['_compareFu'+'nc']=_0x4cb81f,this['propertyCh'+'anged'](Wy));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x27fea6){this['_anisotrop'+'y']!==_0x27fea6&&(this['_anisotrop'+'y']=_0x27fea6,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x1ab7ae){this['_mipmaps']!==_0x1ab7ae&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x1ab7ae,_0x1ab7ae&&(this['_needsMipm'+'apsUpload']=!(0x2*0x63+0x8df*-0x3+-0x1b9*-0xf)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x16ebaa=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x1*-0x2489+0x1*-0x1a3e+0x38*0x11f);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x16ebaa,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x12f*-0x3+0x71*0x47+-0xe*0x27e;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x39002f){var _0x1a8f85,_0x5cd661,_0x2a2bc7,_0x5ba9f2;const _0x4fac44=Mh(this['format']);if(_0x39002f!==_0x4fac44){if(_0x39002f){const _0x7a910=Cc(this['format']);this['_format']!==_0x7a910&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x1a8f85=xt['get'](this['format']))==null?void(-0xa2f+0x22*0xcd+-0x110b):_0x1a8f85['name'])+'\x20->\x20'+((_0x5cd661=xt['get'](_0x7a910))==null?void(0x254f+0xe3*-0x1+-0x246c):_0x5cd661['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x7a910,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x11*-0x12d+0x1520+-0x3*0x61));}else{const _0xb18e1e=kS(this['format']);this['_format']!==_0xb18e1e&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x2a2bc7=xt['get'](this['format']))==null?void(0x621+-0x16e5+-0x4*-0x431):_0x2a2bc7['name'])+'\x20->\x20'+((_0x5ba9f2=xt['get'](_0xb18e1e))==null?void(-0x107b+0x1ea*-0x4+0x1823*0x1):_0x5ba9f2['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0xb18e1e,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x14b0+0x16*-0x1a+0xa3*0x24));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x3e34bc){this['_flipY']!==_0x3e34bc&&(this['_flipY']=_0x3e34bc,this['_needsUplo'+'ad']=!(-0x23d5*0x1+-0x146d+-0x3842*-0x1));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x4cd0ca){this['_premultip'+'lyAlpha']!==_0x4cd0ca&&(this['_premultip'+'lyAlpha']=_0x4cd0ca,this['_needsUplo'+'ad']=!(0xe9a+-0xe8*0x1f+0xd7e*0x1));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x396+0x1*-0x17b9+0x1b4f*0x1),!(0xb61+0x31f*-0xa+0x1*0x13d5),!(-0x1*-0x1e31+0xc18+-0x2a49),!(-0xf1d+-0x1966*0x1+0x3*0xd81),!(-0x16e1+-0xd97+0x3*0xc28),!(0x2c*0x10+-0x12c7+0xb*0x175)]]:[!(0x1*0x645+0xd67+-0x13ac)],this['_needsUplo'+'ad']=!(0x2698+0xab6*-0x1+-0x1be2),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x1*0x2388+-0x2*-0xb56+-0x3a33),this['propertyCh'+'anged'](yv);}['lock'](_0x45663f={}){_0x45663f['level']??(_0x45663f['level']=-0x84*0x47+-0x4*0x819+0x2e0*0x18),_0x45663f['face']??(_0x45663f['face']=-0x12e1+-0x1b03+0x2de4),_0x45663f['mode']??(_0x45663f['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x45663f['mode']===Fy||_0x45663f['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x45663f['mode'],this['_lockedLev'+'el']=_0x45663f['level'];const _0x399fa6=this['cubemap']?this['_levels'][_0x45663f['face']]:this['_levels'];if(_0x399fa6[_0x45663f['level']]===null){const _0x34ba5f=Math['max'](-0x24be+-0x1105*0x2+0x46c9,this['_width']>>_0x45663f['level']),_0x370adb=Math['max'](-0x2*0xaa8+-0x6*0x33b+-0x1c5*-0x17,this['_height']>>_0x45663f['level']),_0x2ea889=Math['max'](-0x2b8+0x337+-0x9*0xe,this['_depth']>>_0x45663f['level']),_0xbae699=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x34ba5f,_0x370adb,_0x2ea889,this['_format']));_0x399fa6[_0x45663f['level']]=new(Cy(this['_format']))(_0xbae699);}return _0x399fa6[_0x45663f['level']];}['setSource'](_0x2ed6bf,_0x543429=-0x3a0+0x145e+0x85f*-0x2){let _0x3ba795=!(0x1aae+0x6ff*0x4+-0x36a9),_0x9720da,_0x1a076c;if(this['_cubemap']){if(_0x2ed6bf[-0x196+0x4*-0x7bb+-0x56b*-0x6]){_0x9720da=_0x2ed6bf[-0x92b*0x4+0x2300+0x1ac]['width']||0x1ff5+0x1*-0xd5b+-0x129a,_0x1a076c=_0x2ed6bf[0xbe*0xa+-0x873*0x2+0x4bd*0x2]['height']||0x942+0x1d*0xee+0x487*-0x8;for(let _0x49d7cf=-0x1d3*-0x13+0x85+-0x232e*0x1;_0x49d7cf<-0x24e7+0x2*0x7c7+0x155f;_0x49d7cf++){const _0x333a6d=_0x2ed6bf[_0x49d7cf];if(!_0x333a6d||_0x333a6d['width']!==_0x9720da||_0x333a6d['height']!==_0x1a076c||!this['device']['_isBrowser'+'Interface'](_0x333a6d)){_0x3ba795=!(0x7a1*-0x5+-0x16fc+0x3d21);break;}}}else _0x3ba795=!(0x237b+-0xaa*0x32+-0x35*0xb);if(!_0x3ba795){for(let _0x12daa1=-0xc*0x2a5+-0x160+0x211c;_0x12daa1<-0x1f07+0x3*-0x45+0x1fdc;_0x12daa1++)this['_levels'][_0x543429][_0x12daa1]!==_0x2ed6bf[_0x12daa1]&&(this['_levelsUpd'+'ated'][_0x543429][_0x12daa1]=!(0x94b*0x3+0x9*-0x39a+0x489));}}else this['device']['_isBrowser'+'Interface'](_0x2ed6bf)||(_0x3ba795=!(0x53*0x43+0x622+0x3*-0x949)),_0x3ba795||(_0x2ed6bf!==this['_levels'][_0x543429]&&(this['_levelsUpd'+'ated'][_0x543429]=!(-0x1f3c+0x242*-0x11+0x459e)),_0x2ed6bf instanceof HTMLVideoElement?(_0x9720da=_0x2ed6bf['videoWidth'],_0x1a076c=_0x2ed6bf['videoHeigh'+'t']):(_0x9720da=_0x2ed6bf['width'],_0x1a076c=_0x2ed6bf['height']));if(_0x3ba795){if(this['_width']=0xe53*-0x1+0x1c82+-0xe2b,this['_height']=-0x12*-0x111+-0x17f3+0x4c5*0x1,this['_cubemap']){for(let _0x5b355b=0x59f+0x2514+-0x2ab3;_0x5b355b<0xfae+-0x91c+-0x68c;_0x5b355b++)this['_levels'][_0x543429][_0x5b355b]=null,this['_levelsUpd'+'ated'][_0x543429][_0x5b355b]=!(0xe17*0x2+0x47*0x27+-0x26ff);}else this['_levels'][_0x543429]=null,this['_levelsUpd'+'ated'][_0x543429]=!(0x3c0*-0x5+-0x38c+-0x164c*-0x1);}else _0x543429===0x1*-0x1fb7+-0x20e4+-0x1*-0x409b&&(this['_width']=_0x9720da,this['_height']=_0x1a076c),this['_levels'][_0x543429]=_0x2ed6bf;(this['_invalid']!==_0x3ba795||!_0x3ba795)&&(this['_invalid']=_0x3ba795,this['upload']());}['getSource'](_0x5f138b=-0x1052+0x3fd*0x5+-0x39f){return this['_levels'][_0x5f138b];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(-0x156b+-0x21d*-0xb+-0x1d3),this['_lockedMod'+'e']=yl;}['upload'](){var _0x23ac72,_0x436bf9;this['_needsUplo'+'ad']=!(-0x1091*0x2+-0x1f56+0x4078),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x436bf9=(_0x23ac72=this['impl'])['uploadImme'+'diate'])==null||_0x436bf9['call'](_0x23ac72,this['device'],this);}['read'](_0x5d38c2,_0x2d5e3e,_0x404bb4,_0x3e4498,_0xd3d5cc={}){var _0x2dc68d,_0x1f10d6;return(_0x1f10d6=(_0x2dc68d=this['impl'])['read'])==null?void(0x259*0xe+0x34d*0x1+-0x242b):_0x1f10d6['call'](_0x2dc68d,_0x5d38c2,_0x2d5e3e,_0x404bb4,_0x3e4498,_0xd3d5cc);}}const Mv={'white':[0x47*0x5+-0x10c9+-0x1*-0x1065,0x7*-0x139+0x1*0x1ed9+-0x719*0x3,-0xb96*-0x1+-0x1*-0x355+-0xdec,0x2148+-0x2375*0x1+0x196*0x2],'gray':[0xd5*0x2b+-0x51b*-0x6+-0x41e9,0x21c0+0x47e+0x12df*-0x2,0x8*-0x77+-0x166b*0x1+0x1aa3,-0x1b5+0x1e25+-0x1b71],'black':[0x1ab1*0x1+-0x17c6+-0x2eb,0xcff+-0x5a4+-0x75b,0x20e2+0x1dc1+-0x3ea3,-0xcf7+0x6df*-0x3+0x2293],'normal':[-0xd47+-0x4d4*0x1+0xb*0x1b1,-0x6a1*-0x3+-0x16c7+-0xe*-0x3e,-0x2*0x101b+-0xf12+0x3047,-0xf43+-0xb4b+0x1b8d],'pink':[-0x162f+-0x2e*-0x4c+0x986*0x1,-0x1e64+0x10df+0x25*0x61,-0xdd7*-0x2+-0xec7+-0x18*0x7f,0xb17+-0x4f8+-0x520]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x26c2ad=>{_0x26c2ad['destroy']();});}}const Rv=new Ot(),en=(_0x5032e4,_0x2e31d6)=>{const _0x3c386c=Rv['get'](_0x5032e4,()=>new Pv());if(!_0x3c386c['map']['has'](_0x2e31d6)){const _0x4df704=new he(_0x5032e4,{'name':'built-in-t'+'exture-'+_0x2e31d6,'width':0x1,'height':0x1,'format':Se}),_0x146638=_0x4df704['lock'](),_0x5811f2=Mv[_0x2e31d6];v['assert'](_0x5811f2,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x2e31d6+('\x27\x20not\x20foun'+'d')),_0x146638['set'](_0x5811f2),_0x4df704['unlock'](),_0x3c386c['map']['set'](_0x2e31d6,_0x4df704);}return _0x3c386c['map']['get'](_0x2e31d6);};let Iv=0x349+0x5*-0x18a+0x469;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x5b79ad,_0x28007b,_0x3a0a22){c(this,'renderVers'+'ionUpdated',-(0x1d5+0x1*0xd13+0x5*-0x2fb)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x5b79ad,this['format']=_0x28007b,this['dirty']=!(0x1b39+0x369+-0x1*0x1ea2),this['impl']=_0x5b79ad['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x3a0a22,_0x3a0a22&&this['setUniform'+'Buffer'](fp,_0x3a0a22),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x28007b));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x39e385,_0x44b177){const _0x63e1f8=this['format']['bufferForm'+'atsMap']['get'](_0x39e385);v['assert'](_0x63e1f8!==void(0x35*-0x7a+-0x19de+0x3320*0x1),'Setting\x20a\x20'+'uniform\x20['+_0x39e385+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x63e1f8]!==_0x44b177&&(this['uniformBuf'+'fers'][_0x63e1f8]=_0x44b177,this['dirty']=!(-0x1ca6+-0x1*0x1717+-0xf*-0x373));}['setStorage'+'Buffer'](_0x505439,_0x3a97b9){const _0x4837aa=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x505439);v['assert'](_0x4837aa!==void(0x3c2*-0x7+0x47*0x76+-0x66c),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x505439+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x4837aa]!==_0x3a97b9&&(this['storageBuf'+'fers'][_0x4837aa]=_0x3a97b9,this['dirty']=!(0xfa1*-0x1+0x216a+-0x11c9));}['setTexture'](_0x54a78b,_0x10861f){const _0x51355e=this['format']['textureFor'+'matsMap']['get'](_0x54a78b);v['assert'](_0x51355e!==void(0x34*0xb5+0x96b*0x2+-0x16*0x287),'Setting\x20a\x20'+'texture\x20['+_0x54a78b+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x51355e]!==_0x10861f?(this['textures'][_0x51355e]=_0x10861f,this['dirty']=!(0x4*-0x8a7+-0x2a4*0xa+0x11c*0x37)):this['renderVers'+'ionUpdated']<_0x10861f['renderVers'+'ionDirty']&&(this['dirty']=!(0x257e+0x5*0x317+0x1*-0x34f1));}['setStorage'+'Texture'](_0x989e1f,_0x2b5cfd){const _0x52f639=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x989e1f);v['assert'](_0x52f639!==void(0x1b7*0x13+0xc8b+-0x2d20),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x989e1f+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x52f639]!==_0x2b5cfd?(this['storageTex'+'tures'][_0x52f639]=_0x2b5cfd,this['dirty']=!(0x1b83+-0xb06+0x15*-0xc9)):this['renderVers'+'ionUpdated']<_0x2b5cfd['renderVers'+'ionDirty']&&(this['dirty']=!(0x147+-0x31*0x35+-0xe3*-0xa));}['updateUnif'+'ormBuffers'](){for(let _0x5c0d8a=0xf18*-0x2+0x1d53*0x1+0xdd;_0x5c0d8a<this['uniformBuf'+'fers']['length'];_0x5c0d8a++)this['uniformBuf'+'fers'][_0x5c0d8a]['update']();}['update'](){const {textureFormats:_0xcde1e5,storageTextureFormats:_0xdad3d6,storageBufferFormats:_0xa7727}=this['format'];for(let _0x55b5bc=-0xedf+0xb4f+0x390;_0x55b5bc<_0xcde1e5['length'];_0x55b5bc++){const _0x3d64eb=_0xcde1e5[_0x55b5bc];let _0x1e5cc3=_0x3d64eb['scopeId']['value'];_0x1e5cc3||(_0x3d64eb['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x1e5cc3=en(this['device'],'white')),_0x3d64eb['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x1e5cc3=en(this['device'],'pink')),_0x1e5cc3||(v['errorOnce']('Texture\x20'+_0x3d64eb['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x1e5cc3=en(this['device'],'pink'))),this['setTexture'](_0x3d64eb['name'],_0x1e5cc3);}for(let _0x1c6a12=-0x3*0x596+0xdc2+-0x1*-0x300;_0x1c6a12<_0xdad3d6['length'];_0x1c6a12++){const _0x43b327=_0xdad3d6[_0x1c6a12],_0x206c03=_0x43b327['scopeId']['value'];v['assert'](_0x206c03,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x43b327['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x43b327['name'],_0x206c03);}for(let _0x1080ed=-0x1136+-0x9be*0x4+0x3*0x12ba;_0x1080ed<_0xa7727['length'];_0x1080ed++){const _0x2d131a=_0xa7727[_0x1080ed],_0x1ee6c3=_0x2d131a['scopeId']['value'];v['assert'](_0x1ee6c3,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x2d131a['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x2d131a['name'],_0x1ee6c3);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0xe993b=0x11e0+-0x1*0x1a57+0x877;_0xe993b<this['uniformBuf'+'fers']['length'];_0xe993b++){const _0x4fbaa6=this['uniformBuf'+'fers'][_0xe993b];this['uniformBuf'+'ferOffsets'][_0xe993b]=_0x4fbaa6['offset'],this['renderVers'+'ionUpdated']<_0x4fbaa6['renderVers'+'ionDirty']&&(this['dirty']=!(-0x6f*-0x59+0x4*0x27+0x2d*-0xdf));}this['dirty']&&(this['dirty']=!(0x27*-0x12+-0x1e9e+0x215d),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x14a9af,_0x55470f,_0x250b8b,_0x2bad43=0x1cf9+0x16e*-0x7+0x97b*-0x2){return _0x14a9af&~(_0x2bad43<<_0x250b8b)|_0x55470f<<_0x250b8b;},'get'(_0x224378,_0x5c9eda,_0x244399=-0x134+-0x196b+-0x238*-0xc){return _0x224378>>_0x5c9eda&_0x244399;},'all'(_0x307d72,_0x19ff07,_0x5910ed=-0x1*0x1baa+0x1ce4+-0x139){const _0x422ecd=_0x5910ed<<_0x19ff07;return(_0x307d72&_0x422ecd)===_0x422ecd;},'any'(_0xb14df8,_0x16cd48,_0x1c8b01=-0x5*0x240+0x3ad*-0x1+-0x1*-0xeee){return(_0xb14df8&_0x1c8b01<<_0x16cd48)!==-0x1*0x1bbb+-0x194b+-0x1*-0x3506;}},xl=-0xca7+-0xd1b+-0x1*-0x19c9,Vi=-0xab3+-0x8b+0xb4d,dm=0x135*0x3+-0x19b+-0x204,um=0x793+0xf62+-0x42*0x59,fm=0x231d+0x1*0x1ce9+-0x17d*0x2b,pm=-0x1072+-0x1ed0+0x2f4d,mm=-0xaea*0x1+-0xb2+0x1*0xbaa,_m=-0x41d*0x4+-0x2*0xb1b+0x26bc,Cu=-0x1c93+-0xc7b+0x2924,gm=-0x25a1+-0x3*-0x20a+0x1f9a,ym=-0x7de+0x16bb+-0xec5,xm=-0x6*-0x427+-0x1a4f+0xbf*0x2,Sm=-0xbfb*0x3+0x4*0x977+-0x1d1,Dv=0xf1f+-0x8f0+0x310*-0x2,Lv=Cu,zs=class zs{constructor(_0x592ab0=!(-0x1*-0x1127+-0x665*-0x2+-0x1df0),_0xd30572=Lt,_0x567139=at,_0x1e7d64=kf,_0xd81baf,_0x30263f,_0x37d2eb,_0x8265b4=!(0x19d1+0x463*0x7+-0x2*0x1c43),_0x2832eb=!(-0xa67*-0x1+0xbe0+-0x3*0x76d),_0x33be8d=!(-0x5*-0x33e+0x1a3*0xd+-0x257d),_0x4f2e3a=!(0x11f1+-0x1658+0xa1*0x7)){c(this,'target0',0x11*0x1e2+0x5d*0x1b+-0x85d*0x5),(this['setColorBl'+'end'](_0xd30572,_0x567139,_0x1e7d64),this['setAlphaBl'+'end'](_0xd81baf??_0xd30572,_0x30263f??_0x567139,_0x37d2eb??_0x1e7d64),this['setColorWr'+'ite'](_0x8265b4,_0x2832eb,_0x33be8d,_0x4f2e3a),this['blend']=_0x592ab0);}set['blend'](_0x3a929f){this['target0']=Oe['set'](this['target0'],_0x3a929f?0x457*0x5+0x1bf+0x161*-0x11:0x241*0x3+-0x35e+0x1*-0x365,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x14b6b6,_0x27566c,_0x14ac62){this['target0']=Oe['set'](this['target0'],_0x14b6b6,dm,xl),this['target0']=Oe['set'](this['target0'],_0x27566c,um,Vi),this['target0']=Oe['set'](this['target0'],_0x14ac62,fm,Vi);}['setAlphaBl'+'end'](_0x2d571c,_0x2d1625,_0x4c9d0b){this['target0']=Oe['set'](this['target0'],_0x2d571c,pm,xl),this['target0']=Oe['set'](this['target0'],_0x2d1625,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x4c9d0b,_m,Vi);}['setColorWr'+'ite'](_0x2116c4,_0x5f3abb,_0x2fae98,_0x567b6e){this['redWrite']=_0x2116c4,this['greenWrite']=_0x5f3abb,this['blueWrite']=_0x2fae98,this['alphaWrite']=_0x567b6e;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x5b748d){this['target0']=Oe['set'](this['target0'],_0x5b748d?-0xe8d*0x1+-0x7d1+-0x775*-0x3:-0x59+-0xda3+0xdfc,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0x12f16b){this['target0']=Oe['set'](this['target0'],_0x12f16b?-0xae9+-0xab7+0x1*0x15a1:0x155d+0x32e*-0xb+0xd9d,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0x448218){this['target0']=Oe['set'](this['target0'],_0x448218?0x245e+0x71*-0x3a+-0x91*0x13:0x183c+-0x5*-0x222+-0x22e6,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0xddf762){this['target0']=Oe['set'](this['target0'],_0xddf762?-0x25ce*-0x1+0x9*0x2bb+-0x3e60:-0x313+-0x125*-0x17+0x1f0*-0xc,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x41083e){return this['target0']=_0x41083e['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x5a50dc){return this['target0']===_0x5a50dc['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(0x15c1*-0x1+-0x1a27+0xc*0x3fe),void(0x200d+0x1055+-0x3062),void(-0x2*0x143+-0x15da+0x138*0x14),void(-0x1506+-0xf7e*-0x2+-0x55*0x1e),void(0x1ea6*-0x1+-0x1841+0x36e7),void(0x248f+0x24b2+-0x4941),void(0xaa9+-0xcd0+0x227),!(-0x1*-0x9bf+-0x26bd+0x1cff),!(0x9a2+0x1d8b+-0x17*0x1b4),!(0x1420+0x1593+-0x29b2),!(-0x4b0*0x3+-0x533*0x7+0x3276)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(-0x130f+-0x2*-0xd3b+-0x767),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(-0x47f+-0x7e8+0xc67),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',-0x1b3a+-0x1fe+0x22*0xdc);}['get'](_0x416181){let _0xb43ea=this['map']['get'](_0x416181);return _0xb43ea===void(-0xa*0x2f9+-0x2392+-0xe*-0x4aa)&&(_0xb43ea=this['id']++,this['map']['set'](_0x416181,_0xb43ea)),_0xb43ea;}}const Fv=new _p(),vm=-0x6d1*-0x3+0x2*-0xc73+-0x17e*-0x3,bm=-0x1511*0x1+0x136+0x13db,wm=-0x4f6+-0x3d*0x9e+0x1*0x2a9f,Zi=class Zi{constructor(_0x47d9f9=fu,_0x3b5c4e=!(0x6b1+-0x3*-0x38+0xab*-0xb)){c(this,'data',0x13ea+-0x122d+-0x1bd),c(this,'_depthBias',-0x17f6*-0x1+0x1ea3+-0x3699),c(this,'_depthBias'+'Slope',-0x3*0x727+-0x1319+0x288e),c(this,'key',-0x21fa+-0x25d2+0x47cc),(this['func']=_0x47d9f9,this['write']=_0x3b5c4e);}set['test'](_0x2b05af){this['func']=_0x2b05af?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x4aae69){this['data']=Oe['set'](this['data'],_0x4aae69?0x846+-0x1be+-0x687:-0x166*-0x1+-0x24fb*-0x1+-0x2661,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0xd1d5e5){this['data']=Oe['set'](this['data'],_0xd1d5e5,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x22245a){this['_depthBias']=_0x22245a,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x232288){this['_depthBias'+'Slope']=_0x232288,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x389ed9){return this['data']=_0x389ed9['data'],this['_depthBias']=_0x389ed9['_depthBias'],this['_depthBias'+'Slope']=_0x389ed9['_depthBias'+'Slope'],this['key']=_0x389ed9['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x5c8514,_depthBias:_0x1f9698,_depthBiasSlope:_0x5a8855}=this,_0x26cb75=_0x5c8514+'-'+_0x1f9698+'-'+_0x5a8855;this['key']=Fv['get'](_0x26cb75);}['equals'](_0x25fbac){return this['key']===_0x25fbac['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(0x1c4*0x13+-0x33f+-0x1e4c)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(0x41f*0x3+-0x2530+0x18d3))));let as=Zi;class Ky{constructor(){c(this,'globalId',-0xca*0x1+0x4*0x3dd+-0x755*0x2),c(this,'revision',-0x136+0x14e1+0x35*-0x5f);}['equals'](_0xea6efe){return this['globalId']===_0xea6efe['globalId']&&this['revision']===_0xea6efe['revision'];}['copy'](_0x3dae8b){this['globalId']=_0x3dae8b['globalId'],this['revision']=_0x3dae8b['revision'];}['reset'](){this['globalId']=-0x3d*-0x19+-0x702+-0x10d*-0x1,this['revision']=-0x2003+-0x1c0a+0x3c0d;}}let Tm=0x5d*-0x6a+0x2*0x927+0x6bc*0x3;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x11fe03){this['name']=_0x11fe03,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x4d2f2d){}['setValue'](_0x42584f){this['value']=_0x42584f,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x7d319){this['name']=_0x7d319,this['variables']=new Map();}['resolve'](_0x437c7e){return this['variables']['has'](_0x437c7e)||this['variables']['set'](_0x437c7e,new kv(_0x437c7e)),this['variables']['get'](_0x437c7e);}['removeValu'+'e'](_0x148da2){for(const _0x2384b9 in this['variables']){const _0x2a4fbb=this['variables'][_0x2384b9];_0x2a4fbb['value']===_0x148da2&&(_0x2a4fbb['value']=null);}}}let Nv=-0xe02+-0x157c+0x237e;class os{constructor(_0x49fa2b,_0x5bcb3e,_0xef63d6,_0x3edf05){c(this,'usage',jt),(v['assert'](arguments['length']<=0x22bc+-0x13ed+-0x7*0x21d&&(!_0x3edf05||typeof _0x3edf05=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x3edf05==null?void(0x2459+-0xb99+-0x8*0x318):_0x3edf05['usage'])??jt,this['device']=_0x49fa2b,this['format']=_0x5bcb3e,this['numVertice'+'s']=_0xef63d6,this['id']=Nv++,this['impl']=_0x49fa2b['createVert'+'exBufferIm'+'pl'](this,_0x5bcb3e,_0x3edf05),this['numBytes']=_0x5bcb3e['verticesBy'+'teSize']?_0x5bcb3e['verticesBy'+'teSize']:_0x5bcb3e['size']*_0xef63d6,this['adjustVram'+'SizeTracki'+'ng'](_0x49fa2b['_vram'],this['numBytes']));const _0x4257fc=_0x3edf05==null?void(-0x1*0x19a3+0x708+0xb*0x1b1):_0x3edf05['data'];_0x4257fc?this['setData'](_0x4257fc):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x4e62e5=this['device'],_0x298493=_0x4e62e5['buffers']['indexOf'](this);_0x298493!==-(-0x1ea3*0x1+0x1a3e+0x2*0x233)&&_0x4e62e5['buffers']['splice'](_0x298493,0x1e65+0xb7b*0x1+-0x3*0xdf5),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x4e62e5),this['adjustVram'+'SizeTracki'+'ng'](_0x4e62e5['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x4d56f9,_0x34b2e3){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x34b2e3+'\x20vram.vb:\x20'+_0x4d56f9['vb']+'\x20=>\x20'+(_0x4d56f9['vb']+_0x34b2e3)),_0x4d56f9['vb']+=_0x34b2e3;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x484fa2){return _0x484fa2['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x484fa2['byteLength']),!(0x2061+0xe60+0x2ec0*-0x1)):(this['storage']=_0x484fa2,this['unlock'](),!(0x1f*-0x2b+-0x1*-0x18a7+0x83*-0x26));}}function hn(_0x398cee){if(_0x398cee==null)return-0x6a3+0x1*-0x9f6+-0x1099*-0x1;let _0x361c57=0x15aa+-0x3c1+0x11e9*-0x1;for(let _0x4f9636=0x51c+-0x3df*0x2+0x151*0x2,_0x5e8a3f=_0x398cee['length'];_0x4f9636<_0x5e8a3f;_0x4f9636++)_0x361c57=(_0x361c57<<-0x1fd2+-0xb3*-0x6+0x1ba5)-_0x361c57+_0x398cee['charCodeAt'](_0x4f9636),_0x361c57|=-0x2173+0x10c8+0x10ab;return _0x361c57;}function Zy(_0x4df54b){let _0x79f98f=0x1*-0xf0576c29+0xad*0xdc07a7+0xdcc2de13;for(let _0x1dafd7=-0xad+0x7*0x3fd+-0x1b3e;_0x1dafd7<_0x4df54b['length'];_0x1dafd7++)_0x79f98f^=_0x4df54b[_0x1dafd7],_0x79f98f*=0x1ec5584+-0x1d3c301+-0x7d86*-0x1d8;return _0x79f98f>>>0xec2+0x1*0x11cd+-0x208f;}const zv=new _p(),Uv=[0x8*-0x3+0x2e5*-0xa+0x11e*0x1a,-0x126b*0x1+-0x23a0+0x360f,0xc1*0xf+0xb02+0x5*-0x475,-0x172a+0x773*-0x3+0x2d8f,-0x1477+-0x1f0f*0x1+-0x3*-0x1132],Vv=new Ot();class Et{constructor(_0x175175,_0x586b30,_0x22aabf){this['device']=_0x175175,this['_elements']=[],this['hasUv0']=!(0x23a3+-0x8e7+-0x1abb),this['hasUv1']=!(0xec*0x15+0x1ab9*0x1+0x2*-0x170a),this['hasColor']=!(-0x1aad+-0x1*-0x198e+-0x12*-0x10),this['hasTangent'+'s']=!(-0x59*-0x23+-0x18a2*-0x1+0x75c*-0x5),this['verticesBy'+'teSize']=0x13*-0x161+-0x1*0x870+-0x22a3*-0x1,this['vertexCoun'+'t']=_0x22aabf,this['interleave'+'d']=_0x22aabf===void(-0x5*0x76d+-0x204a*-0x1+0x4d7),this['instancing']=!(-0x34c*0x5+0xce8+0x395),this['size']=_0x586b30['reduce']((_0x58133e,_0x3ef082)=>_0x58133e+Math['ceil'](_0x3ef082['components']*_o[_0x3ef082['type']]/(-0x535*-0x4+-0x5*-0x55d+-0x1*0x2fa1))*(0x1c8f+0x9*-0x311+-0xf2),-0x2336*0x1+-0xa3*0x15+-0x1*-0x3095);let _0x53cc65=0x5c3+-0x23*0x73+0x9f6,_0x3ffedf;for(let _0x4a37ea=0x16*-0xeb+-0x9ca+-0x26*-0xca,_0x1c14f5=_0x586b30['length'];_0x4a37ea<_0x1c14f5;_0x4a37ea++){const _0x43eaba=_0x586b30[_0x4a37ea];_0x3ffedf=_0x43eaba['components']*_o[_0x43eaba['type']],v['assert'](Et['isElementV'+'alid'](_0x175175,_0x43eaba),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x43eaba['semantic']+'\x20:\x20'+Sv[_0x43eaba['type']]+'\x20x\x20'+_0x43eaba['components']),_0x22aabf&&(_0x53cc65=N['roundUp'](_0x53cc65,_0x3ffedf),v['assert'](_0x3ffedf%(0x11*-0x23b+-0x137f*0x1+0x396e*0x1)===-0x16a5+-0xafb+0x10*0x21a,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x3ffedf));const _0x4d5aa0=_0x43eaba['asInt']??!(0xbfc+0xe3*0x5+0xb*-0x17e),_0x156b8c=_0x4d5aa0?!(0xbf*-0x10+-0x131*-0xd+-0x4*0xe3):_0x43eaba['normalize']??!(0x499*0x3+-0x1ce2*0x1+0xf18),_0x214878={'name':_0x43eaba['semantic'],'offset':_0x22aabf?_0x53cc65:_0x43eaba['hasOwnProp'+'erty']('offset')?_0x43eaba['offset']:_0x53cc65,'stride':_0x22aabf?_0x3ffedf:_0x43eaba['hasOwnProp'+'erty']('stride')?_0x43eaba['stride']:this['size'],'dataType':_0x43eaba['type'],'numComponents':_0x43eaba['components'],'normalize':_0x156b8c,'size':_0x3ffedf,'asInt':_0x4d5aa0};this['_elements']['push'](_0x214878),_0x22aabf?_0x53cc65+=_0x3ffedf*_0x22aabf:_0x53cc65+=Math['ceil'](_0x3ffedf/(0x12e1+-0x205c+0xd7f))*(-0x4fb+0x1941+0x2*-0xa21),_0x43eaba['semantic']===ns?this['hasUv0']=!(-0x1*-0x116d+-0x1408+-0x17*-0x1d):_0x43eaba['semantic']===_n?this['hasUv1']=!(-0x20cd+-0x129c+0x3369):_0x43eaba['semantic']===At?this['hasColor']=!(-0x1*-0x6df+-0x13*-0xb6+-0x1461):_0x43eaba['semantic']===Zs&&(this['hasTangent'+'s']=!(0x702+0x2417+-0x2b19*0x1));}_0x22aabf&&(this['verticesBy'+'teSize']=_0x53cc65),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x262c02){return Vv['get'](_0x262c02,()=>new Et(_0x262c02,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x1d9b6b,_0x50d1d7){const _0x1c1643=_0x50d1d7['components']*_o[_0x50d1d7['type']];return!(_0x1d9b6b['isWebGPU']&&!Uv['includes'](_0x1c1643));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x484098=[],_0x21c5df=[],_0x379507=this['_elements']['length'];for(let _0x330689=-0x22ce+-0x9*0x3e+-0x1*-0x24fc;_0x330689<_0x379507;_0x330689++){const {name:_0x1c51a2,dataType:_0x1f82f5,numComponents:_0x4f0dd7,normalize:_0x23fe9b,offset:_0x2316c5,stride:_0x3c6a11,size:_0x431686,asInt:_0x585817}=this['_elements'][_0x330689],_0xfae49a=_0x1c51a2+_0x1f82f5+_0x4f0dd7+_0x23fe9b+_0x585817;_0x484098['push'](_0xfae49a);const _0x228f2e=_0xfae49a+_0x2316c5+_0x3c6a11+_0x431686;_0x21c5df['push'](_0x228f2e);}_0x484098['sort']();const _0x350a9e=_0x484098['join']();this['batchingHa'+'sh']=hn(_0x350a9e),this['shaderProc'+'essingHash'+'String']=_0x350a9e,this['renderingH'+'ashString']=_0x21c5df['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0xea1f0a={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(0x14*0xf8+0x1f54+-0x32b4)),c(this,'_key'),(this['_func']=_0xea1f0a['func']??Ai,this['_ref']=_0xea1f0a['ref']??-0x10*-0x163+-0x662+-0xfce,this['_readMask']=_0xea1f0a['readMask']??-0x1f9e+0xa1f+0x167e,this['_writeMask']=_0xea1f0a['writeMask']??-0xd*0x28d+-0xad6+0x2cfe,this['_fail']=_0xea1f0a['fail']??ha,this['_zfail']=_0xea1f0a['zfail']??ha,this['_zpass']=_0xea1f0a['zpass']??ha,this['_evalKey']());}set['func'](_0x196937){this['_func']=_0x196937,this['_dirty']=!(-0x7e*0x2c+0x1d34+-0x78c);}get['func'](){return this['_func'];}set['ref'](_0x1112df){this['_ref']=_0x1112df,this['_dirty']=!(-0x2b*0x37+-0x11f8+0x1b35);}get['ref'](){return this['_ref'];}set['fail'](_0x4d419e){this['_fail']=_0x4d419e,this['_dirty']=!(-0x1273*-0x1+-0x2303+0xd4*0x14);}get['fail'](){return this['_fail'];}set['zfail'](_0x4388a9){this['_zfail']=_0x4388a9,this['_dirty']=!(0x1cd4+0x1564+-0x3238);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x8e6929){this['_zpass']=_0x8e6929,this['_dirty']=!(0x81a+-0x664+-0x1b6);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x180ed3){this['_readMask']=_0x180ed3,this['_dirty']=!(-0x40d+-0x23dd*0x1+-0xd*-0x312);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x2335f8){this['_writeMask']=_0x2335f8,this['_dirty']=!(-0x69d+-0x5e+0x1*0x6fb);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x593267,_ref:_0x3afc6b,_fail:_0x297474,_zfail:_0x78a727,_zpass:_0x2d99f3,_readMask:_0x5a706a,_writeMask:_0xfc6674}=this,_0x29067c=_0x593267+','+_0x3afc6b+','+_0x297474+','+_0x78a727+','+_0x2d99f3+','+_0x5a706a+','+_0xfc6674;this['_key']=Gv['get'](_0x29067c),this['_dirty']=!(0x2610+0x219c+-0x47ab);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x450692){return this['_func']=_0x450692['_func'],this['_ref']=_0x450692['_ref'],this['_readMask']=_0x450692['_readMask'],this['_writeMask']=_0x450692['_writeMask'],this['_fail']=_0x450692['_fail'],this['_zfail']=_0x450692['_zfail'],this['_zpass']=_0x450692['_zpass'],this['_dirty']=_0x450692['_dirty'],this['_key']=_0x450692['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x28290a,_0x3fc41c){var _0x1822c4,_0x5518ac,_0x2f5f2f,_0x1e7cd9,_0x33aaa8,_0x172ae1;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new $()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(-0x1*-0x26df+0x120+-0x27fe)),c(this,'isWebGPU',!(-0x203*0x5+0x455*-0x1+0xe65)),c(this,'isWebGL2',!(0x503+0x213*-0xf+0x1a1b)),c(this,'isHdr',!(-0xa80+0x2158+0x79d*-0x3)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',-0x34d+0x15df+-0x7*0x2a7),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',0xab9+0x2422+-0x2eda),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(-0x369*0x7+0x1fb5*0x1+-0x7d5)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0x26cf+0xb7b*0x2+-0xfda*-0x1)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',0x17*-0xc1+-0x731+0x1888),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x409+0x5b5*-0x1+0x1ad*0x1)),c(this,'supportsUn'+'iformBuffe'+'rs',!(0x1328+-0x1064*-0x2+-0x33ef)),c(this,'supportsCl'+'ipDistance'+'s',!(-0x1*0x11a7+0x1bce+-0x1*0xa26)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(-0x80e+0x21c8+-0x19b9)),c(this,'textureFlo'+'atFilterab'+'le',!(0x8fe+-0x1*-0x4b3+-0xdb0*0x1)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(0x18ea*0x1+-0x5e*0x20+-0x3*0x463)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[0x1df8+0x1433*-0x1+-0x9c5,-0x1fa0+0x2208+-0x268,0x1*-0xb9e+-0x16a*-0x5+-0x246*-0x2,0x26ef*-0x1+0x2*0x1001+-0x377*-0x2],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(0x243+-0x22da+-0x8*-0x413)),(this['canvas']=_0x28290a,this['initOption'+'s']={..._0x3fc41c},(_0x1822c4=this['initOption'+'s'])['alpha']??(_0x1822c4['alpha']=!(0x1281*0x1+0x1ab6+-0x90b*0x5)),(_0x5518ac=this['initOption'+'s'])['depth']??(_0x5518ac['depth']=!(-0x19b*-0x8+0x1041+-0x1d19)),(_0x2f5f2f=this['initOption'+'s'])['stencil']??(_0x2f5f2f['stencil']=!(0x115d+0xa1f+-0x1b7c)),(_0x1e7cd9=this['initOption'+'s'])['antialias']??(_0x1e7cd9['antialias']=!(0x1088+-0xd12*-0x1+-0x1d9a)),(_0x33aaa8=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x33aaa8['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x172ae1=this['initOption'+'s'])['displayFor'+'mat']??(_0x172ae1['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](-0x1e91+0x25ae+-0xa*0xb6,window['devicePixe'+'lRatio']):0x1*0xef6+-0x2294+-0x1*-0x139f,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x12*0x11b+0xb34*-0x1+-0x35*0x2a,this['_shaderSwi'+'tchesPerFr'+'ame']=-0xfeb+0x40a+0xbe1,this['_primsPerF'+'rame']=[]);for(let _0x1961c5=Mc;_0x1961c5<=Yr;_0x1961c5++)this['_primsPerF'+'rame'][_0x1961c5]=0xae1+-0x1e45+0x1364;this['_renderTar'+'getCreatio'+'nTime']=-0xa7b+-0x4d4*0x5+0x1*0x229f,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x1*-0xe75+0x25f6+-0x1b*0x1f1);}['postInit'](){const _0x566873=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0x129961=new Float32Array([-(0x1*-0x1021+-0x851+0x1873),-(0x1c61+0x4*-0x258+0x100*-0x13),0x3*-0xafe+-0x1508+0x1201*0x3,-(-0x240d+0xfc5+0x1449),-(0x988+0x200a+-0x3*0xddb),0x804+0x251c+0x2d1f*-0x1,0x2356+0x1*-0xecd+0x8*-0x291,0x1853+0x31c*-0x7+-0x28e]);this['quadVertex'+'Buffer']=new os(this,_0x566873,-0x123a*-0x1+0x1*-0x989+0x1*-0x8ad,{'data':_0x129961});}['destroy'](){var _0x237bc9,_0xe643a8,_0x225f81;this['fire']('destroy'),(_0x237bc9=this['quadVertex'+'Buffer'])==null||_0x237bc9['destroy'](),this['quadVertex'+'Buffer']=null,(_0xe643a8=this['dynamicBuf'+'fers'])==null||_0xe643a8['destroy'](),this['dynamicBuf'+'fers']=null,(_0x225f81=this['gpuProfile'+'r'])==null||_0x225f81['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x4e3b7f){this['fire']('destroy:sh'+'ader',_0x4e3b7f);const _0x3b8016=this['shaders']['indexOf'](_0x4e3b7f);_0x3b8016!==-(-0xff3*0x2+-0x158e+0x3575)&&this['shaders']['splice'](_0x3b8016,0x382+-0x1e27+-0x12*-0x17b);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x2cbd9d;this['contextLos'+'t']=!(-0x67f*0x1+-0x2*-0x144+0x5*0xcb),this['backBuffer'+'Size']['set'](-(-0x114a+0x247a+-0x132f),-(-0x107*-0x17+-0xb5*0x35+0xdd9));for(const _0x566cb5 of this['textures'])_0x566cb5['loseContex'+'t']();for(const _0x71ab58 of this['buffers'])_0x71ab58['loseContex'+'t']();for(const _0x99b9cf of this['targets'])_0x99b9cf['loseContex'+'t']();(_0x2cbd9d=this['gpuProfile'+'r'])==null||_0x2cbd9d['loseContex'+'t']();}['restoreCon'+'text'](){var _0x58b5be,_0x1825fc;this['contextLos'+'t']=!(-0x1aff+0xdb3+0xe3*0xf),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x2e940a of this['buffers'])_0x2e940a['unlock']();(_0x1825fc=(_0x58b5be=this['gpuProfile'+'r'])==null?void(-0x23*-0x49+-0x1*-0x1e85+-0x288*0x10):_0x58b5be['restoreCon'+'text'])==null||_0x1825fc['call'](_0x58b5be);}['toJSON'](_0x2961b3){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x1e17+0x7*0x18a+0x1351),this['shaderAsyn'+'cCompile']=!(-0x21de+-0x7*-0x277+0x109e),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=0x19*0x4+0x1467+-0x14cb,this['sx']=this['sy']=this['sw']=this['sh']=0xe*0x61+0x1862+-0x1db0,this['blendColor']=new Y(-0xd*-0x2e2+-0x6c1+-0x1eb9,0xea9+0x13e3+0x3*-0xb84,0x1a63*-0x1+0x1a8d+-0x2a,0x72+0x4*-0x613+0x17da);}['setStencil'+'State'](_0x29c042,_0x4635e6){v['assert'](!(-0x3d7*-0x6+-0x5*-0x21+-0x1*0x17ae));}['setBlendSt'+'ate'](_0x2072c2){v['assert'](!(0x1*-0xe9f+0x2535+-0x7b*0x2f));}['setBlendCo'+'lor'](_0x354efa,_0x4b5267,_0x5d5f0a,_0x5332ad){v['assert'](!(-0x94d*0x1+0x1758+-0x1*0xe0a));}['setDepthSt'+'ate'](_0x4bd481){v['assert'](!(0x16c3+0x219f+-0x3861));}['setCullMod'+'e'](_0x405323){v['assert'](!(0x3*-0x301+-0x13a7+0x1cab));}['setRenderT'+'arget'](_0x23ecb2){this['renderTarg'+'et']=_0x23ecb2;}['setIndexBu'+'ffer'](_0x1fd269){this['indexBuffe'+'r']=_0x1fd269;}['setVertexB'+'uffer'](_0x4c0c07){_0x4c0c07&&this['vertexBuff'+'ers']['push'](_0x4c0c07);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x6c0+0x2f*-0x6+0xf1*-0x6;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x36b61c){if(_0x36b61c['initialize'+'d'])return;const _0x224482=ne();this['fire']('fbo:create',{'timestamp':_0x224482,'target':this}),_0x36b61c['init'](),this['targets']['add'](_0x36b61c),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x224482;}['_isBrowser'+'Interface'](_0x4603c5){return this['_isImageBr'+'owserInter'+'face'](_0x4603c5)||this['_isImageCa'+'nvasInterf'+'ace'](_0x4603c5)||this['_isImageVi'+'deoInterfa'+'ce'](_0x4603c5);}['_isImageBr'+'owserInter'+'face'](_0x58cc70){return typeof ImageBitmap<'u'&&_0x58cc70 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x58cc70 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x219f9c){return typeof HTMLCanvasElement<'u'&&_0x219f9c instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x2b1cdc){return typeof HTMLVideoElement<'u'&&_0x2b1cdc instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x109571,_0x365593){const _0x45abca=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:-0x3c3+-0x203a+0x23fe),_0x513c05=Math['floor'](_0x109571*_0x45abca),_0x1ddaa7=Math['floor'](_0x365593*_0x45abca);(_0x513c05!==this['canvas']['width']||_0x1ddaa7!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x513c05,_0x1ddaa7);}['setResolut'+'ion'](_0x12bf3a,_0x489571){this['canvas']['width']=_0x12bf3a,this['canvas']['height']=_0x489571,this['fire'](nc['EVENT_RESI'+'ZE'],_0x12bf3a,_0x489571);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x24ecc8=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x24ecc8['width'],this['clientRect']['height']=_0x24ecc8['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x49c0ea){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x208a+-0x10e+-0x1f7b*0x1);}set['maxPixelRa'+'tio'](_0x26c1db){this['_maxPixelR'+'atio']=_0x26c1db;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x727a91){}['endRenderP'+'ass'](_0x16809f){}['startCompu'+'tePass'](_0x7cc997){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x11ad+-0xa9*-0x20+-0x373,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x5a2d29=this['textures']['slice']();_0x5a2d29['sort']((_0x567da,_0xeacfdd)=>_0xeacfdd['gpuSize']-_0x567da['gpuSize']),v['log']('Textures:\x20'+_0x5a2d29['length']);let _0xb486d5=0x226*0xd+0x1ca1+0x1*-0x388f;_0x5a2d29['forEach']((_0x31c217,_0x152f20)=>{const _0x577ca7=_0x31c217['gpuSize'];_0xb486d5+=_0x577ca7,v['log'](_0x152f20+'.\x20'+_0x31c217['name']+'\x20'+_0x31c217['width']+'x'+_0x31c217['height']+'\x20VRAM:\x20'+(_0x577ca7/(0x2058+0x2*0xd18+0xda2*-0x4)/(-0x39b+-0x177e+0x13*0x1a3))['toFixed'](-0x189+0x20a9+-0x1f1e*0x1)+'\x20MB');}),v['log']('Total:\x20'+(_0xb486d5/(0x3cb*0x8+-0x1b02+0xa*0x11)/(0x9fc+-0x7ff+0x1*0x203))['toFixed'](-0x1c*-0x14b+0x959*-0x4+0x132)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x4e9fa2,_0x414e5a='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x3d51c7=[_a,Je,Ke],_0x1b9ad3=!(-0x757*-0x2+-0x6a*-0x1+-0xf18),_0x32b952=-0x14*-0x1be+0x47*0x41+-0x34de){for(let _0x468077=-0xa35+-0x3*0x28b+0x6*0x2f9;_0x468077<_0x3d51c7['length'];_0x468077++){const _0x2cf549=_0x3d51c7[_0x468077];switch(_0x2cf549){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x2cf549;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x2cf549;break;case Ke:if(this['isWebGPU']&&_0x32b952>-0x1662+0x22*0x85+0x4b9)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x1b9ad3||this['textureFlo'+'atFilterab'+'le']))return _0x2cf549;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=0x21*-0x4+0x1f80+-0x1efc;class pt{constructor(_0x162b33={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x455f59,_0x2fad67,_0x121807,_0x5c9f2f,_0x25d499,_0x4be374;v['assert'](!(_0x162b33 instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x20b5ea=((_0x455f59=_0x162b33['colorBuffe'+'r'])==null?void(-0x1746+-0x22f2*-0x1+-0xbac):_0x455f59['device'])??((_0x2fad67=_0x162b33['colorBuffe'+'rs'])==null?void(-0x42a*-0x5+-0x1*-0x200f+-0x34e1):_0x2fad67[-0x5*0x497+-0x1f5*-0xb+0x16c]['device'])??((_0x121807=_0x162b33['depthBuffe'+'r'])==null?void(0x155f+0x3d7*-0xa+-0x1*-0x1107):_0x121807['device'])??_0x162b33['graphicsDe'+'vice'];v['assert'](_0x20b5ea,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x20b5ea;const {maxSamples:_0xd9251}=this['_device'];if(this['_samples']=Math['min'](_0x162b33['samples']??-0x14*-0xe4+0xf+0x8ef*-0x2,_0xd9251),_0x20b5ea['isWebGPU']&&(this['_samples']=this['_samples']>0x22*0xa9+-0x180e+-0x1*-0x19d?_0xd9251:0x1b55+0x43*-0xe+0xe9*-0x1a),this['_colorBuff'+'er']=_0x162b33['colorBuffe'+'r'],_0x162b33['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x162b33['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x162b33['depthBuffe'+'r'],this['_face']=_0x162b33['face']??-0x17d6+-0x443+0x1*0x1c19,this['_depthBuff'+'er']){const _0x5eeac4=this['_depthBuff'+'er']['_format'];_0x5eeac4===Ci||_0x5eeac4===la?(this['_depth']=!(0x4a*-0x85+0x1*-0x21ff+-0x4871*-0x1),this['_stencil']=!(0x1ba9+-0x67*0x55+0x68b)):_0x5eeac4===vc?(this['_depth']=!(0x2*0xb57+0x8*-0x2ff+-0x6*-0x37),this['_stencil']=!(0x138b+0x94+0x65*-0x33)):_0x5eeac4===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x3*-0x879+0x1*0x2295+-0x3bff?(this['_depth']=!(-0x22d7+-0xbac*-0x2+0xb7f),this['_stencil']=!(0x1f4d+0x1238+0x4*-0xc61)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x18ee+-0x177e+-0x16f),this['_stencil']=!(-0xddd+0x5d*-0x3b+-0x1*-0x234d));}else this['_depth']=_0x162b33['depth']??!(-0x2086+0x200a*0x1+-0x1*-0x7c),this['_stencil']=_0x162b33['stencil']??!(-0x6*-0x3cd+-0xad*-0xf+0x4*-0x83c);_0x162b33['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x162b33['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x162b33['colorBuffe'+'rs'][-0x1e5e+0x2*0x102b+0xe*-0x24])),this['autoResolv'+'e']=_0x162b33['autoResolv'+'e']??!(0x5*0x25d+-0x1be+0x1*-0xa13),this['name']=_0x162b33['name'],this['name']||(this['name']=(_0x5c9f2f=this['_colorBuff'+'er'])==null?void(-0x1*0x190b+0x1b5b+-0x250):_0x5c9f2f['name']),this['name']||(this['name']=(_0x25d499=this['_depthBuff'+'er'])==null?void(-0x13e4+0x309*0x7+-0x15b):_0x25d499['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x162b33['flipY']??!(-0x118b+0x580*-0x4+0x13c6*0x2),this['_mipLevel']=_0x162b33['mipLevel']??0x2460+0x1a27*0x1+-0x3e87,this['_mipLevel']>0x521*0x7+0x2*0x314+-0x2a0f&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x162b33}),this['_mipLevel']=-0x1*-0x27d+0x20c0+-0x233d),this['_mipmaps']=_0x162b33['mipLevel']===void(-0x28f*0xe+-0x525+0x28f7),this['validateMr'+'t'](),this['impl']=_0x20b5ea['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x4be374=this['_colorBuff'+'ers'])!=null&&_0x4be374['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x3f0431=this['_device'];_0x3f0431&&(_0x3f0431['targets']['delete'](this),_0x3f0431['renderTarg'+'et']===this&&_0x3f0431['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x3ef06c=this['_device'];_0x3ef06c&&this['impl']['destroy'](_0x3ef06c);}['destroyTex'+'tureBuffer'+'s'](){var _0x5269e9,_0x5ed427;(_0x5269e9=this['_depthBuff'+'er'])==null||_0x5269e9['destroy'](),this['_depthBuff'+'er']=null,(_0x5ed427=this['_colorBuff'+'ers'])==null||_0x5ed427['forEach'](_0x24faed=>{_0x24faed['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x1af439,_0x11b53a){var _0x353bf7,_0x297aa9;if(this['width']!==_0x1af439||this['height']!==_0x11b53a){if(this['mipLevel']>-0x2fe*0x7+-0x7*0x1c6+-0x262*-0xe){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x123d86=this['_device'];this['destroyFra'+'meBuffers'](),_0x123d86['renderTarg'+'et']===this&&_0x123d86['setRenderT'+'arget'](null),(_0x353bf7=this['_depthBuff'+'er'])==null||_0x353bf7['resize'](_0x1af439,_0x11b53a),(_0x297aa9=this['_colorBuff'+'ers'])==null||_0x297aa9['forEach'](_0x2c869f=>{_0x2c869f['resize'](_0x1af439,_0x11b53a);}),this['validateMr'+'t'](),this['impl']=_0x123d86['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x5cf02c,height:_0x49e8fb,cubemap:_0x1b4e73,volume:_0xad4ab}=this['_colorBuff'+'ers'][0x1*-0x1069+-0x12fd+0x2366];for(let _0x138b5e=0x1*-0x69a+-0x2443+0x2ade;_0x138b5e<this['_colorBuff'+'ers']['length'];_0x138b5e++){const _0x516360=this['_colorBuff'+'ers'][_0x138b5e];v['assert'](_0x516360['width']===_0x5cf02c,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x516360['height']===_0x49e8fb,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x516360['cubemap']===_0x1b4e73,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x516360['volume']===_0xad4ab,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x3543ef=!(0x6*0x49c+0x1*0x11f+-0x1cc7),_0x5e2326=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x4f*-0x48+-0x1*0x62a+0x1c63&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x3543ef?'[color]':'')+':'+(_0x5e2326?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x3543ef,_0x5e2326),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x1bd10b,_0x12a95d,_0x57800b){if(!this['_device']){if(_0x1bd10b['_device'])this['_device']=_0x1bd10b['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0xa3*-0x1+0x2b*0x11+-0x237);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x1bd10b['name']+'->'+this['name']);const _0x287947=this['_device']['copyRender'+'Target'](_0x1bd10b,this,_0x12a95d,_0x57800b);return G['popGpuMark'+'er'](this['_device']),_0x287947;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x129c40){var _0x7291c2;return(_0x7291c2=this['_colorBuff'+'ers'])==null?void(-0x4cf*0x3+0x4ee+0x97f):_0x7291c2[_0x129c40];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x2bbf5c,_0x3a81c5;let _0x591249=((_0x2bbf5c=this['_colorBuff'+'er'])==null?void(0x226e+0x1ccb+-0x5*0xca5):_0x2bbf5c['width'])||((_0x3a81c5=this['_depthBuff'+'er'])==null?void(-0x2*0xb2b+0x1*-0xc89+-0x22df*-0x1):_0x3a81c5['width'])||this['_device']['width'];return this['_mipLevel']>-0x1544+-0x12*0x1a1+0x3296&&(_0x591249=Mi['calcLevelD'+'imension'](_0x591249,this['_mipLevel'])),_0x591249;}get['height'](){var _0x19521a,_0xaf8b81;let _0x541fb9=((_0x19521a=this['_colorBuff'+'er'])==null?void(0x9*0x76+-0xb34+-0x387*-0x2):_0x19521a['height'])||((_0xaf8b81=this['_depthBuff'+'er'])==null?void(0x181e+-0x3*-0x706+-0x2d30):_0xaf8b81['height'])||this['_device']['height'];return this['_mipLevel']>0x8d*0x9+-0x1*0x23b0+0x1ebb&&(_0x541fb9=Mi['calcLevelD'+'imension'](_0x541fb9,this['_mipLevel'])),_0x541fb9;}['isColorBuf'+'ferSrgb'](_0x10be7d=0x93f+-0x3fb*-0x9+0x3*-0xf06){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x278159=this['getColorBu'+'ffer'](_0x10be7d);return _0x278159?Mh(_0x278159['format']):!(0x13f*0x19+0x1250+-0x1e7*0x1a);}}const $v={'equals'(_0x57b0c3,_0x199977){if(_0x57b0c3['length']!==_0x199977['length'])return!(-0x63e*-0x3+0xf3*-0x3+-0xfe0);for(let _0xf776b7=0x3b6+-0x1b44+-0x6*-0x3ed;_0xf776b7<_0x57b0c3['length'];_0xf776b7++)if(_0x57b0c3[_0xf776b7]!==_0x199977[_0xf776b7])return!(0xd4*-0x5+0x2ba*-0x3+0xc53*0x1);return!(0xf0a+-0x230c+0xa01*0x2);}};class Gc{constructor(){c(this,'_refCount',0xcc2*0x2+0xa76+-0x23fa);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class Wv extends Gc{constructor(_0x36a148){super(),c(this,'object'),(this['object']=_0x36a148,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x4490bf=>{var _0x34a2c0;(_0x34a2c0=_0x4490bf['object'])==null||_0x34a2c0['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x2f14ca){const _0x4de84e=this['cache']['get'](_0x2f14ca);return _0x4de84e?(_0x4de84e['incRefCoun'+'t'](),_0x4de84e['object']):null;}['set'](_0x437345,_0x3ab088){v['assert'](!this['cache']['has'](_0x437345),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x437345,'object':_0x3ab088}),this['cache']['set'](_0x437345,new Wv(_0x3ab088));}['release'](_0x1c34aa){var _0x17f2e7;const _0x40cee0=this['cache']['get'](_0x1c34aa);_0x40cee0?(_0x40cee0['decRefCoun'+'t'](),_0x40cee0['refCount']===-0x1b74+-0x16dc+0x3250&&(this['cache']['delete'](_0x1c34aa),(_0x17f2e7=_0x40cee0['object'])==null||_0x17f2e7['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x1c34aa});}}class Xv extends qv{['loseContex'+'t'](_0x335169){this['clear']();}}const jv=new Ot(),od=_0x1ab8a3=>jv['get'](_0x1ab8a3,()=>new Xv()),ot=[];ot[Ws]=0x1053*0x2+0x2694+-0x4739,ot[or]=0x924+-0x1efe+-0x1*-0x15dc,ot[Wt]=0xd2f+-0x5c3*0x2+0x1a6*-0x1,ot[xa]=-0x1*-0x2501+0xd*0x26f+-0x44a0,ot[ln]=-0x2336+-0x1d6d+0x1029*0x4,ot[Zr]=0x2*-0x909+0x1fbc+-0xda8,ot[Qr]=0x170e+-0x5*0x51f+0x290,ot[Jr]=-0xc0f*-0x1+-0x4*-0x7e3+-0x2b97*0x1,ot[ca]=0x2*0x412+0x72*-0x19+0xd*0x3b,ot[Lo]=0x1943+0x84*0x3+0x1acd*-0x1,ot[Fo]=-0x1*0x2605+-0x9*0x267+0x3ba7,ot[Oo]=0x1*0x1b+0x339+-0x350,ot[Rh]=0x1f21+-0x40*-0x8+-0x2119*0x1,ot[ko]=-0x14c0+0x512+0xfba*0x1,ot[Sa]=-0x51*-0x33+-0xef4+-0x11f,ot[va]=0x1*0xea7+0x15*-0x1ab+0x1461*0x1,ot[ba]=0x1fa2*-0x1+-0x356+0x22fa,ot[wa]=0xf78+0xb66+0x19*-0x113,ot[Ta]=0x108a*-0x1+0x1c89+-0xbfb*0x1;class gt{constructor(_0x5608e3,_0x5eaef0,_0x532ad2=-0x1*-0x1bd2+-0x1327+0x8ab*-0x1){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x5608e3,this['name']=_0x532ad2?_0x5608e3+'[0]':_0x5608e3,this['type']=_0x5eaef0,this['numCompone'+'nts']=ot[_0x5eaef0],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x5eaef0+'\x20used\x20for\x20'+_0x5608e3),this['updateType']=_0x5eaef0,_0x532ad2>0xdd1+0xdc9*-0x1+-0x8)switch(_0x5eaef0){case Ws:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case Wt:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x5eaef0]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x5608e3+'\x27.'),v['call'](()=>{this['invalid']=!(-0x1*0x8b7+0x131*0x19+-0x1512);});break;}this['count']=_0x532ad2,v['assert'](!isNaN(_0x532ad2),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x5608e3+'['+_0x532ad2+']'),v['call'](()=>{isNaN(_0x532ad2)&&(this['invalid']=!(-0x1*-0xc3f+0x1*0xf60+-0x1*0x1b9f));});let _0x53fa5a=this['numCompone'+'nts'];_0x532ad2&&(_0x53fa5a=N['roundUp'](_0x53fa5a,0x18a6+0x81e*-0x1+-0x4*0x421)),this['byteSize']=_0x53fa5a*(0x1*0x2531+-0x3fb+-0x2132*0x1),_0x532ad2&&(this['byteSize']*=_0x532ad2),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x5eaef0+'\x20used\x20for\x20'+_0x5608e3);}get['isArrayTyp'+'e'](){return this['count']>0x1f1+0x161c+-0x83*0x2f;}['calculateO'+'ffset'](_0x3036bf){let _0x489035=this['byteSize']<=-0x255*-0x2+-0x8ce+0x164*0x3?this['byteSize']:-0x1786+0x4a*-0x3f+0x29cc;this['count']&&(_0x489035=0x21d6+0x763*0x2+-0x1de*0x1a),_0x3036bf=N['roundUp'](_0x3036bf,_0x489035),this['offset']=_0x3036bf/(0x122f+-0xd9*0x1c+-0x3*-0x1db);}}class Qy{constructor(_0x315554,_0x1f57ce){c(this,'byteSize',-0x1bb9+0x948+0x1271),c(this,'map',new Map()),(this['scope']=_0x315554['scope'],this['uniforms']=_0x1f57ce);let _0x2fb47f=-0xe9*0x1d+-0x12f+0x1b94;for(let _0x3e2758=0x53e+-0x3*-0x219+-0xb89;_0x3e2758<_0x1f57ce['length'];_0x3e2758++){const _0x1f1d85=_0x1f57ce[_0x3e2758];_0x1f1d85['calculateO'+'ffset'](_0x2fb47f),_0x2fb47f=_0x1f1d85['offset']*(0xc90*-0x1+0x1050+-0x3bc)+_0x1f1d85['byteSize'],_0x1f1d85['scopeId']=this['scope']['resolve'](_0x1f1d85['name']),this['map']['set'](_0x1f1d85['name'],_0x1f1d85);}this['byteSize']=N['roundUp'](_0x2fb47f,0x57*-0x38+-0x12e3+0x15*0x1cf);}['get'](_0x20c2f8){return this['map']['get'](_0x20c2f8);}['getShaderD'+'eclaration'](_0x3c6ae0,_0xcba34e){const _0x13c29e=xv[_0x3c6ae0];let _0x1b42dd='layout(set'+'\x20=\x20'+_0x3c6ae0+(',\x20binding\x20'+'=\x20')+_0xcba34e+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x13c29e+'\x20{\x0a';return this['uniforms']['forEach'](_0xd11bc7=>{const _0x188a5f=dp[_0xd11bc7['type']];v['assert'](_0x188a5f['length']>0x6ac+0x1bad+-0x2259,'Uniform\x20ty'+'pe\x20'+_0xd11bc7['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x1b42dd+='\x20\x20\x20\x20'+_0x188a5f+'\x20'+_0xd11bc7['shortName']+(_0xd11bc7['count']?'['+_0xd11bc7['count']+']':'')+';\x0a';}),_0x1b42dd+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0x448cd8,_0xf161ba=new Map(),_0x666ce6={}){vs['sourceName']=_0x666ce6['sourceName'],_0x448cd8=this['stripComme'+'nts'](_0x448cd8),_0x448cd8=_0x448cd8['split'](/\r?\n/)['map'](_0x6c44e6=>_0x6c44e6['trimEnd']())['join']('\x0a');const _0xcd70a4=new Map();if(_0x666ce6['stripUnuse'+'dColorAtta'+'chments']){const _0x125738=new Map(),_0x4a7cba=/(pcFragColor[1-8])\b/g,_0x3a487a=_0x448cd8['match'](_0x4a7cba);_0x3a487a==null||_0x3a487a['forEach'](_0x26a67d=>{const _0x1c9c88=parseInt(_0x26a67d['charAt'](_0x26a67d['length']-(-0xe80+0x879+-0x2*-0x304)),0x940*-0x1+-0x26de+0x3028);_0x125738['set'](_0x1c9c88,(_0x125738['get'](_0x1c9c88)??-0x79a*0x1+-0x193+0x92d)+(-0xbe7+0x1616*0x1+0x1*-0xa2e));}),_0x125738['forEach']((_0x3855d8,_0x2b008a)=>{_0x3855d8===-0x24ed+0x19*0x71+0x19e5&&_0xcd70a4['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x2b008a,'');});}_0x448cd8=this['_preproces'+'s'](_0x448cd8,_0xcd70a4,_0xf161ba,_0x666ce6['stripDefin'+'es']);const _0x590b47=new Map();_0xcd70a4['forEach']((_0x26ef20,_0x5ebbec)=>{Number['isInteger'](parseFloat(_0x26ef20))&&!_0x26ef20['includes']('.')&&_0x590b47['set'](_0x5ebbec,_0x26ef20);});const _0x2d299f=new Map();return _0xcd70a4['forEach']((_0x548b48,_0x2a5565)=>{_0x2a5565['startsWith']('__INJECT_')&&_0x2d299f['set'](_0x2a5565,_0x548b48);}),_0x448cd8=this['stripComme'+'nts'](_0x448cd8),_0x448cd8=this['RemoveEmpt'+'yLines'](_0x448cd8),_0x448cd8=this['processArr'+'aySize'](_0x448cd8,_0x590b47),_0x448cd8=this['injectDefi'+'nes'](_0x448cd8,_0x2d299f),_0x448cd8;}static['stripComme'+'nts'](_0x123a10){return _0x123a10['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x40d2fe,_0x2d21a6){return _0x40d2fe!==null&&_0x2d21a6['forEach']((_0x51d1e1,_0x3f8540)=>{_0x40d2fe=_0x40d2fe['replace'](new RegExp('\x5c['+_0x3f8540+'\x5c]','g'),'['+_0x51d1e1+']');}),_0x40d2fe;}static['injectDefi'+'nes'](_0x5c35cc,_0x4c19ba){if(_0x5c35cc!==null&&_0x4c19ba['size']>0xc05*-0x3+-0x1*0xdf+0x24ee){const _0x186b80=_0x5c35cc['split']('\x0a');_0x4c19ba['forEach']((_0x3a7858,_0x44af67)=>{const _0x28dc2b=new RegExp('\x5cb'+_0x44af67+'\x5cb','g');for(let _0x4a976f=0x1b19+-0x4b5+-0x1664;_0x4a976f<_0x186b80['length'];_0x4a976f++)_0x186b80[_0x4a976f]['includes']('#')||(_0x186b80[_0x4a976f]=_0x186b80[_0x4a976f]['replace'](_0x28dc2b,_0x3a7858));}),_0x5c35cc=_0x186b80['join']('\x0a');}return _0x5c35cc;}static['RemoveEmpt'+'yLines'](_0x3d6b30){return _0x3d6b30!==null&&(_0x3d6b30=_0x3d6b30['split'](/\r?\n/)['map'](_0x500490=>_0x500490['trim']()===''?'':_0x500490)['join']('\x0a'),_0x3d6b30=_0x3d6b30['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x3d6b30;}static['_preproces'+'s'](_0x6deff0,_0x2ef467=new Map(),_0x44b2b6,_0x71f994){const _0x5b4119=_0x6deff0,_0x27e3aa=[];let _0x5cb3f1=!(0x97b*-0x2+-0x25*-0x2+-0x1*-0x12ad),_0x24c20d;for(;(_0x24c20d=fs['exec'](_0x6deff0))!==null;){const _0x585bba=_0x24c20d[0x3ee+-0x1a2b+0x3*0x76a];switch(_0x585bba){case'define':{ld['lastIndex']=_0x24c20d['index'];const _0x4c72c1=ld['exec'](_0x6deff0);v['assert'](_0x4c72c1,'Invalid\x20['+_0x585bba+']:\x20'+_0x6deff0['substring'](_0x24c20d['index'],_0x24c20d['index']+(-0x202d+-0xad*-0x11+0x11c*0x13))+'...'),_0x5cb3f1||(_0x5cb3f1=_0x4c72c1===null);const _0x1511ca=_0x4c72c1[-0x836+0x1*0x1863+-0x40b*0x4];Em['lastIndex']=_0x4c72c1['index'];const _0x3d9ca7=Em['exec'](_0x1511ca)[0x2447+0x1*-0x1c9c+-0x7aa];let _0x4522bf=_0x1511ca['substring'](_0x3d9ca7['length'])['trim']();_0x4522bf===''&&(_0x4522bf='true');const _0x5c19cd=vs['_keep'](_0x27e3aa);_0x5c19cd&&(_0x2ef467['set'](_0x3d9ca7,_0x4522bf),_0x71f994&&(_0x6deff0=_0x6deff0['substring'](0x56*-0x15+0x131d*-0x1+-0xe7*-0x1d,_0x4c72c1['index']-(0x3*-0x7a9+-0xadc+0x21d8))+_0x6deff0['substring'](ld['lastIndex']),fs['lastIndex']=_0x4c72c1['index']-(0x135a+0x16b7+0x542*-0x8))),v['trace'](gr,_0x585bba+':\x20['+_0x3d9ca7+']\x20'+_0x4522bf+'\x20'+(_0x5c19cd?'':'IGNORED')),_0x71f994||(fs['lastIndex']=_0x4c72c1['index']+_0x4c72c1[0x180d+-0xbf*-0xb+-0x2042]['length']);break;}case'undef':{hd['lastIndex']=_0x24c20d['index'];const _0x20a78e=hd['exec'](_0x6deff0),_0x32f783=_0x20a78e[-0x1*-0x2257+0x2384+0x2*-0x22ed]['trim'](),_0xc812e7=vs['_keep'](_0x27e3aa);_0xc812e7&&(_0x2ef467['delete'](_0x32f783),_0x71f994&&(_0x6deff0=_0x6deff0['substring'](-0xef2+0x1877+-0x985,_0x20a78e['index']-(-0x22f3+0x22c7+0x2d))+_0x6deff0['substring'](hd['lastIndex']),fs['lastIndex']=_0x20a78e['index']-(-0xa*-0xa7+0xb0a+0x383*-0x5))),v['trace'](gr,_0x585bba+':\x20['+_0x32f783+']\x20'+(_0xc812e7?'':'IGNORED')),_0x71f994||(fs['lastIndex']=_0x20a78e['index']+_0x20a78e[0x19b2+0x26a8+-0x202d*0x2]['length']);break;}case'extension':{Am['lastIndex']=_0x24c20d['index'];const _0x26e020=Am['exec'](_0x6deff0);if(v['assert'](_0x26e020,'Invalid\x20['+_0x585bba+']:\x20'+_0x6deff0['substring'](_0x24c20d['index'],_0x24c20d['index']+(-0x2*0x6+0x7ed+-0x77d))+'...'),_0x5cb3f1||(_0x5cb3f1=_0x26e020===null),_0x26e020){const _0xbe977d=_0x26e020[-0x172*0x19+0x1a*0x16f+-0x123],_0x1f61e6=vs['_keep'](_0x27e3aa);_0x1f61e6&&_0x2ef467['set'](_0xbe977d,'true'),v['trace'](gr,_0x585bba+':\x20['+_0xbe977d+']\x20'+(_0x1f61e6?'':'IGNORED'));}fs['lastIndex']=_0x26e020['index']+_0x26e020[0x237+0x202b+-0x2262]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x24c20d['index'];const _0x1fd6f6=cd['exec'](_0x6deff0),_0x28912c=_0x1fd6f6[-0xff0+0x3aa+0xc*0x106],_0x2c7c9e=vs['evaluate'](_0x28912c,_0x2ef467);_0x5cb3f1||(_0x5cb3f1=_0x2c7c9e['error']);let _0x4f68dd=_0x2c7c9e['result'];_0x585bba==='ifndef'&&(_0x4f68dd=!_0x4f68dd),_0x27e3aa['push']({'anyKeep':_0x4f68dd,'keep':_0x4f68dd,'start':_0x24c20d['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x585bba+':\x20['+_0x28912c+']\x20=>\x20'+_0x4f68dd),fs['lastIndex']=_0x1fd6f6['index']+_0x1fd6f6[0x173e*0x1+-0x79d*-0x5+0xd7*-0x49]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x24c20d['index'];const _0x52499f=dd['exec'](_0x6deff0),_0x4c5576=_0x27e3aa['pop'](),_0x32a6e7=_0x4c5576['keep']?_0x6deff0['substring'](_0x4c5576['end'],_0x24c20d['index']):'';v['trace'](gr,_0x585bba+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x32a6e7!=='')),_0x6deff0=_0x6deff0['substring'](0x11a+-0xa1a*0x1+-0xc*-0xc0,_0x4c5576['start'])+_0x32a6e7+_0x6deff0['substring'](dd['lastIndex']),fs['lastIndex']=_0x4c5576['start']+_0x32a6e7['length'];const _0x182ba4=_0x52499f[0x1166+0x1334+-0x2499];if(_0x182ba4==='else'||_0x182ba4==='elif'){let _0x5f48e1=!(0x1613+0x1b5+-0x17c7);if(!_0x4c5576['anyKeep']){if(_0x182ba4==='else')_0x5f48e1=!_0x4c5576['keep'];else{const _0x22acf6=vs['evaluate'](_0x52499f[-0x1cfc+-0x2578+-0x4276*-0x1],_0x2ef467);_0x5f48e1=_0x22acf6['result'],_0x5cb3f1||(_0x5cb3f1=_0x22acf6['error']);}}_0x27e3aa['push']({'anyKeep':_0x4c5576['anyKeep']||_0x5f48e1,'keep':_0x5f48e1,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x585bba+':\x20['+_0x52499f[-0x94f+0x5f6+-0x35b*-0x1]+']\x20=>\x20'+_0x5f48e1);}break;}case'include':{ud['lastIndex']=_0x24c20d['index'];const _0x1f2a91=ud['exec'](_0x6deff0);_0x5cb3f1||(_0x5cb3f1=_0x1f2a91===null),v['assert'](_0x1f2a91,'Invalid\x20['+_0x585bba+']:\x20'+_0x6deff0['substring'](_0x24c20d['index'],_0x24c20d['index']+(-0xcda+-0x1359*0x2+0x30*0x115))+'...');const _0x97834=_0x1f2a91[0x1f*-0xd6+-0xebe+0x28a9]['trim'](),_0x49fa9c=vs['_keep'](_0x27e3aa);if(_0x49fa9c){const _0x2583bc=_0x44b2b6==null?void(-0x191*0x17+0x1a4a+0x9bd):_0x44b2b6['get'](_0x97834);_0x2583bc!==void(0x1*-0xc2e+-0x57c+0x85*0x22)?(_0x6deff0=_0x6deff0['substring'](-0xb1b*0x3+-0xdbe+0x2f0f,_0x1f2a91['index']-(0x1495+0x862+-0x1cf6))+_0x2583bc+_0x6deff0['substring'](ud['lastIndex']),fs['lastIndex']=_0x1f2a91['index']-(0x217f+-0x7ea+-0x1994)):(console['error']('Include\x20\x22'+_0x97834+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x5b4119}),_0x5cb3f1=!(0x359+0x2568+-0x28c1));}v['trace'](gr,_0x585bba+':\x20['+_0x97834+']\x20'+(_0x49fa9c?'':'IGNORED'));break;}}}return _0x5cb3f1?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x5b4119}),_0x5b4119):_0x6deff0;}static['_keep'](_0x536765){for(let _0x3fec4d=0xd*0x11f+-0xb57+-0x19e*0x2;_0x3fec4d<_0x536765['length'];_0x3fec4d++)if(!_0x536765[_0x3fec4d]['keep'])return!(0x2f*0x35+0x1*-0xd2d+0x373);return!(0x227b+0x2673+-0x5*0xe96);}static['evaluate'](_0x2ca807,_0x445731){const _0x2baf00=Zv['exec'](_0x2ca807)===null;v['assert'](_0x2baf00,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x2ca807);let _0x1f01fa=!(0x1a7c+0x3*-0x94d+0xe*0x1a);const _0x562ad0=Yv['exec'](_0x2ca807);_0x562ad0&&(_0x1f01fa=_0x562ad0[0x1*-0x1396+0x2*-0x1282+0x389b]==='!',_0x2ca807=_0x562ad0[0x17a+0x1379+-0x14f1]);const _0x1df7cd=Kv['exec'](_0x2ca807);if(_0x1df7cd){const _0x2390e6=_0x445731['get'](_0x1df7cd[0x820+-0x1a80*0x1+0x1261])??_0x1df7cd[-0x20*-0x63+0x13ab+-0x200a],_0x1931f9=_0x445731['get'](_0x1df7cd[0x21ef+-0x1d67+-0x485*0x1])??_0x1df7cd[-0x2548+0x1df*-0xd+0x3d9e],_0x29e9e0=_0x1df7cd[-0x143a+0x236b+0xa9*-0x17];let _0x421f7e=!(-0x238a+0x2389+0x2);switch(_0x29e9e0){case'==':_0x421f7e=_0x2390e6===_0x1931f9;break;case'!=':_0x421f7e=_0x2390e6!==_0x1931f9;break;case'<':_0x421f7e=_0x2390e6<_0x1931f9;break;case'<=':_0x421f7e=_0x2390e6<=_0x1931f9;break;case'>':_0x421f7e=_0x2390e6>_0x1931f9;break;case'>=':_0x421f7e=_0x2390e6>=_0x1931f9;break;}return{'result':_0x421f7e,'error':!_0x2baf00};}_0x2ca807=_0x2ca807['trim']();let _0x38db56=_0x445731['has'](_0x2ca807);return _0x1f01fa&&(_0x38db56=!_0x38db56),{'result':_0x38db56,'error':!_0x2baf00};}};(function(){let _0x381a28;try{const _0x2fab76=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x381a28=_0x2fab76();}catch(_0xfafbdc){_0x381a28=window;}_0x381a28['setInterva'+'l'](_0x153485,0xe82+-0x5*0x797+-0x1*-0x1f41);}()),c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x42b7d3,_0x4cf951){v['assert'](_0x4cf951),v['assert'](!_0x4cf951['vertexDefi'+'nes']||_0x4cf951['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x4cf951['vertexIncl'+'udes']||_0x4cf951['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x4cf951['fragmentDe'+'fines']||_0x4cf951['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x4cf951['fragmentIn'+'cludes']||_0x4cf951['fragmentIn'+'cludes']instanceof Map);const _0x31cb0b=(_0x3abb4d,_0x55d16d,_0x443a30,_0x121829)=>{const _0x21433b=_0x42b7d3['isWebGPU']?_0x3abb4d:_0x55d16d;let _0x422a2d='';if(!_0x443a30){let _0xd4f0cd=_0x121829['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0xd4f0cd)||(_0xd4f0cd=[_0xd4f0cd]);for(let _0x13e36e=0xd06+0x57a*0x6+-0x2de2;_0x13e36e<_0x42b7d3['maxColorAt'+'tachments'];_0x13e36e++){_0x422a2d+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x13e36e+'\x0a';const _0x6f5c71=_0xd4f0cd[_0x13e36e]??'vec4';_0x422a2d+='#define\x20ou'+'tType_'+_0x13e36e+'\x20'+_0x6f5c71+'\x0a';}}return _0x422a2d+_0x21433b;},_0x2f9842=_0x4cf951['name']??'Untitled';let _0x19e711,_0x5629c4;return _0x4cf951['shaderLang'+'uage']===Ph?(_0x19e711=_0x4cf951['vertexCode'],_0x5629c4=_0x4cf951['fragmentCo'+'de']):(_0x19e711=Mt['versionCod'+'e'](_0x42b7d3)+_0x31cb0b(s0,e0,!(0xb1b*-0x2+-0x1daf+0x33e5),_0x4cf951)+Mt['getDefines'+'Code'](_0x4cf951['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x42b7d3)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x2f9842)+_0x4cf951['vertexCode'],_0x5629c4=(_0x4cf951['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x42b7d3)+_0x31cb0b(t0,Jy,!(0xbc+0x1*0x89f+0xe*-0xab),_0x4cf951)+Mt['getDefines'+'Code'](_0x4cf951['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x42b7d3)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x2f9842)+(_0x4cf951['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x2f9842,'shaderLanguage':_0x4cf951['shaderLang'+'uage']??ky,'attributes':_0x4cf951['attributes'],'vshader':_0x19e711,'vincludes':_0x4cf951['vertexIncl'+'udes'],'fincludes':_0x4cf951['fragmentIn'+'cludes'],'fshader':_0x5629c4,'useTransformFeedback':_0x4cf951['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x4cf951['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4cf951['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x32d631){let _0x4d1efc='';return _0x32d631==null||_0x32d631['forEach']((_0x292c5f,_0x3c8e02)=>{_0x4d1efc+='#define\x20'+_0x3c8e02+'\x20'+_0x292c5f+'\x0a';}),_0x4d1efc;}static['getShaderN'+'ameCode'](_0x599651){return'#define\x20SH'+'ADER_NAME\x20'+_0x599651+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0xca34b7){return _0xca34b7['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x42eead,_0x50f3f9){_0x50f3f9&&_0x50f3f9!=='highp'&&_0x50f3f9!=='mediump'&&_0x50f3f9!=='lowp'&&(_0x50f3f9=null),_0x50f3f9&&(_0x50f3f9==='highp'&&_0x42eead['maxPrecisi'+'on']!=='highp'&&(_0x50f3f9='mediump'),_0x50f3f9==='mediump'&&_0x42eead['maxPrecisi'+'on']==='lowp'&&(_0x50f3f9='lowp'));const _0x2b16bd=_0x50f3f9||_0x42eead['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x2b16bd+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x2b16bd+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x2b16bd+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x2b16bd+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x2b16bd+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x2b16bd+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x2b16bd+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x2a5f27){const _0xfbf5ea={};let _0x24f414=-0x1ff8+-0x1f34+0x3f2c*0x1,_0x2638f3=_0x2a5f27['indexOf']('attribute');for(;_0x2638f3>=0x2429*-0x1+-0x31*-0x70+0xeb9*0x1&&!(_0x2638f3>-0x1231*0x1+0x7*0x58d+-0x422*0x5&&_0x2a5f27[_0x2638f3-(-0x1*0x94f+0x1548+0x2*-0x5fc)]==='/');){let _0x42b49d=!(-0x3*-0x362+0x3*0xafe+-0x85*0x53);if(_0x2638f3>-0x1f67+0x1dcd+-0xcd*-0x2){let _0x164c71=_0x2a5f27['lastIndexO'+'f']('\x0a',_0x2638f3);_0x164c71=_0x164c71!==-(0x1e3d*0x1+-0x1797+-0x9*0xbd)?_0x164c71+(-0x1f6a*-0x1+-0x3b*-0x9b+-0x1a*0x295):0x266e+-0x21c8+0x7*-0xaa,_0x2a5f27['substring'](_0x164c71,_0x2638f3)['includes']('#')&&(_0x42b49d=!(-0x751+0x13fc+-0xcab));}if(!_0x42b49d){const _0x3809dd=_0x2a5f27['indexOf'](';',_0x2638f3),_0x1ab255=_0x2a5f27['lastIndexO'+'f']('\x20',_0x3809dd),_0x3fe3ed=_0x2a5f27['substring'](_0x1ab255+(-0x191d+0x7*0x27a+0x7c8),_0x3809dd);if(_0xfbf5ea[_0x3fe3ed])v['warn']('Attribute\x20'+'['+_0x3fe3ed+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x2a5f27});else{const _0x3252b0=Qv[_0x3fe3ed];_0x3252b0!==void(-0x22ca+0x1*-0x25e+0x74*0x52)?_0xfbf5ea[_0x3fe3ed]=_0x3252b0:(_0xfbf5ea[_0x3fe3ed]='ATTR'+_0x24f414,_0x24f414++);}}_0x2638f3=_0x2a5f27['indexOf']('attribute',_0x2638f3+(-0x55c+0x1163+-0xc06));}return _0xfbf5ea;}}let Jv=0x2*0xa11+0x1503+0x1*-0x2925;class i0{constructor(_0x134d4d,_0x4f270a){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x134d4d,this['definition']=_0x4f270a,this['name']=_0x4f270a['name']||'Untitled',this['init'](),_0x4f270a['cshader'])v['assert'](_0x134d4d['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x4f270a['vshader']&&!_0x4f270a['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x4f270a['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x4f270a['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x4f270a['vshader']=Oh['run'](_0x4f270a['vshader'],_0x4f270a['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x4f270a['shaderLang'+'uage']===ky&&(_0x4f270a['attributes']??(_0x4f270a['attributes']=Mt['collectAtt'+'ributes'](_0x4f270a['vshader'])));const _0x4a9150=_0x134d4d['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x4f270a['fshader']=Oh['run'](_0x4f270a['fshader'],_0x4f270a['fincludes'],{'stripUnusedColorAttachments':_0x4a9150,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x134d4d['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x225+-0x98f*-0x1+0x769*-0x1),this['failed']=!(-0x1*-0xcaf+-0x2*0x835+-0x2*-0x1de);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[Ws]=function(_0x5546f5,_0xc4c69,_0x449b99){const _0x579021=_0x5546f5['storageFlo'+'at32'];_0x579021[_0x449b99]=_0xc4c69;},Te[or]=(_0x3f4352,_0x2aa0b8,_0x18941e)=>{const _0x3245a5=_0x3f4352['storageFlo'+'at32'];_0x3245a5[_0x18941e]=_0x2aa0b8[0x722+0x5*-0x43b+-0x61*-0x25],_0x3245a5[_0x18941e+(0x779+0x56f+0x1*-0xce7)]=_0x2aa0b8[-0xe43*0x1+0x257*0x1+-0xbed*-0x1];},Te[Wt]=(_0x830a56,_0x150eb6,_0x53fb90)=>{const _0x59df72=_0x830a56['storageFlo'+'at32'];_0x59df72[_0x53fb90]=_0x150eb6[0x19a*0x14+-0x3*0x127+-0x1c93],_0x59df72[_0x53fb90+(-0x23ec+-0x29*-0xe5+0x30*-0x4)]=_0x150eb6[0x1*-0x25f9+-0xae5*-0x1+-0x1b15*-0x1],_0x59df72[_0x53fb90+(-0xd*0x89+0x1e7f+-0x1788)]=_0x150eb6[0x17e2*-0x1+0x87b+0xf69];},Te[xa]=(_0x5a62c5,_0xfb46a6,_0x18dc8c)=>{const _0x393ac8=_0x5a62c5['storageFlo'+'at32'];_0x393ac8[_0x18dc8c]=_0xfb46a6[-0x87*-0x27+0xbfb*0x1+0x2*-0x1046],_0x393ac8[_0x18dc8c+(-0x1*-0x1da5+-0x1*0x2e4+-0x1*0x1ac0)]=_0xfb46a6[-0x56*-0x4c+0x1819*-0x1+0x7a*-0x3],_0x393ac8[_0x18dc8c+(0x1807*-0x1+-0x2350+-0x1*-0x3b59)]=_0xfb46a6[0x4*0x821+0x11f*0x1+-0x21a1*0x1],_0x393ac8[_0x18dc8c+(0x115e+0x7*-0xf3+-0xab6)]=_0xfb46a6[-0x10e4+0x1a7+0xf40];},Te[ln]=function(_0x105366,_0x3bac99,_0x4019f7){const _0x56760f=_0x105366['storageInt'+'32'];_0x56760f[_0x4019f7]=_0x3bac99;},Te[Zr]=function(_0x382a54,_0x16e1a7,_0x79925e){const _0x3a2a3c=_0x382a54['storageInt'+'32'];_0x3a2a3c[_0x79925e]=_0x16e1a7[-0x17cb*-0x1+-0x32c*0x5+-0x7ef],_0x3a2a3c[_0x79925e+(0x1*0x231d+-0x5*-0x515+-0x3c85)]=_0x16e1a7[-0x493*-0x3+-0x1*-0x24c2+-0x736*0x7];},Te[Qr]=function(_0x4693d2,_0x5cceff,_0x58297c){const _0x560ac8=_0x4693d2['storageInt'+'32'];_0x560ac8[_0x58297c]=_0x5cceff[0x211+0x1c49+-0x22b*0xe],_0x560ac8[_0x58297c+(-0x5d*-0x56+0xf*-0x275+0x59e)]=_0x5cceff[0x1e4a*-0x1+-0x4*0x38+0x65*0x4f],_0x560ac8[_0x58297c+(-0x3*-0xba7+-0x6*-0xf9+-0x28c9)]=_0x5cceff[0xae9+0x522*-0x3+0x47f];},Te[Jr]=function(_0x5684f1,_0x29175d,_0x158fc0){const _0x27bda4=_0x5684f1['storageInt'+'32'];_0x27bda4[_0x158fc0]=_0x29175d[-0x2*-0x422+0x793*-0x3+-0xe75*-0x1],_0x27bda4[_0x158fc0+(0x4d*0x7+-0x1224+0x100a)]=_0x29175d[-0x20f+-0x1*-0x8ae+-0x69e],_0x27bda4[_0x158fc0+(-0xec6+-0x580*0x1+-0x2c*-0x76)]=_0x29175d[-0xeaa*0x1+-0x1dbb+-0x1b*-0x1a5],_0x27bda4[_0x158fc0+(-0x1280+-0x2399*0x1+0x361c)]=_0x29175d[0xb5b+-0x1*-0x8ee+-0x1446];},Te[Rh]=(_0x44a45b,_0x3f1618,_0x1bf722)=>{const _0x22f78c=_0x44a45b['storageFlo'+'at32'];_0x22f78c[_0x1bf722]=_0x3f1618[0x7*0xd3+0x4ae+-0xa73],_0x22f78c[_0x1bf722+(-0x2139+0x2e*0x75+0xc34)]=_0x3f1618[0x1b28+-0x10d9+-0xa4e],_0x22f78c[_0x1bf722+(0x3*0x501+-0x1*0x3b3+-0xb4c)]=_0x3f1618[0x1*-0x1d0f+0x7*-0x287+0x72*0x69],_0x22f78c[_0x1bf722+(0x231c+-0x172b*0x1+0x1b4*-0x7)]=_0x3f1618[0xc15+0x3b*-0x7f+0x1133],_0x22f78c[_0x1bf722+(0x162c+0x469*-0x1+-0x11bb)]=_0x3f1618[0x541+0x1*0x1fdd+-0x62f*0x6],_0x22f78c[_0x1bf722+(0xd02+0xb4c+0x147*-0x13)]=_0x3f1618[0xa4c+0x12*0x15f+-0x22f5];},Te[ko]=(_0x4f5aff,_0x1d8b68,_0x294000)=>{const _0x5606d1=_0x4f5aff['storageFlo'+'at32'];_0x5606d1[_0x294000]=_0x1d8b68[0xfc8+0x1670+-0x2638*0x1],_0x5606d1[_0x294000+(-0x2269+0x1a31+0x839)]=_0x1d8b68[0x17b3+0x2083+-0x1*0x3835],_0x5606d1[_0x294000+(-0x2005+-0x1444+0xb*0x4c1)]=_0x1d8b68[0x91b+0x24e7+0x5c0*-0x8],_0x5606d1[_0x294000+(0x1785+-0x802+0x1*-0xf7f)]=_0x1d8b68[0x150c+-0xc70+-0x1f*0x47],_0x5606d1[_0x294000+(0x2443*0x1+0xe2*0xb+0x11*-0x2b4)]=_0x1d8b68[0x19b9+-0x1c2a+0x11*0x25],_0x5606d1[_0x294000+(0x2361+0x102a+-0x3385)]=_0x1d8b68[-0x79a+-0x2488+0x2c27],_0x5606d1[_0x294000+(0x1eee+-0x3e*-0x6d+-0x4c*0xc1)]=_0x1d8b68[-0x214f+-0x203a+0x418f],_0x5606d1[_0x294000+(0xa86+0x19*0x116+-0x25a3*0x1)]=_0x1d8b68[-0xb*-0x1f7+-0x29*-0x60+-0x24f6],_0x5606d1[_0x294000+(-0x15*-0x125+-0x1c75+0x476)]=_0x1d8b68[-0x83f*0x2+0x13f3+-0x36d];},Te[Dc]=function(_0x78d6d2,_0x38a48c,_0xd87d8c,_0xf601a0){const _0x8f9d30=_0x78d6d2['storageFlo'+'at32'];for(let _0x54a174=-0x6d3*-0x4+-0x1*0xaf+-0x1a9d*0x1;_0x54a174<_0xf601a0;_0x54a174++)_0x8f9d30[_0xd87d8c+_0x54a174*(-0x94d+-0xd1*0xc+-0x1*-0x131d)]=_0x38a48c[_0x54a174];},Te[Lc]=(_0x2e3531,_0x129b6c,_0x3f023c,_0x36ef9e)=>{const _0x52dbb0=_0x2e3531['storageFlo'+'at32'];for(let _0x70150f=0x1849+-0x4*0x94+-0x15f9;_0x70150f<_0x36ef9e;_0x70150f++)_0x52dbb0[_0x3f023c+_0x70150f*(0x1b6e+-0xc04*-0x3+-0x3f76)]=_0x129b6c[_0x70150f*(0x108+-0x6f*-0x39+-0x19bd)],_0x52dbb0[_0x3f023c+_0x70150f*(0xaf*-0x12+-0x4+0x2*0x62b)+(0x24dc+-0x79*-0x4+-0x26bf)]=_0x129b6c[_0x70150f*(0x13f4+-0x11b*-0x23+0x373*-0x11)+(-0x2d*-0x5e+0x24fb*0x1+-0x3580)];},Te[Fc]=(_0x18ced0,_0x6b6b4b,_0x5921f8,_0x5daab7)=>{const _0x45e3fd=_0x18ced0['storageFlo'+'at32'];for(let _0x4e6a17=0x43b+0x722+-0xb5d;_0x4e6a17<_0x5daab7;_0x4e6a17++)_0x45e3fd[_0x5921f8+_0x4e6a17*(0x24c6+-0x87+-0x7*0x52d)]=_0x6b6b4b[_0x4e6a17*(0x116*0x1f+-0xe84+-0x1323)],_0x45e3fd[_0x5921f8+_0x4e6a17*(-0xa*0x6d+0x23e9+0x485*-0x7)+(0x4*-0x2c6+0x4*0x62b+-0xd93*0x1)]=_0x6b6b4b[_0x4e6a17*(-0x1*0x1021+0xb91+0x493)+(-0x5*-0x27+-0x4*-0x368+-0xe62)],_0x45e3fd[_0x5921f8+_0x4e6a17*(0x1*-0x1920+-0x31f*0x9+0x353b)+(0x2cd+-0x9*-0x445+-0x2938)]=_0x6b6b4b[_0x4e6a17*(0x21ed+0x86b+0x2a55*-0x1)+(0x25b3+0x14dc+-0x3a8d*0x1)];},Te[va]=(_0x254275,_0x300685,_0x21d1e2,_0x49440a)=>{const _0x16efd7=_0x254275['storageUin'+'t32'];_0x16efd7[_0x21d1e2]=_0x300685;},Te[ba]=(_0x134ea7,_0x3ef80d,_0x498fdc,_0x27183e)=>{const _0x29b696=_0x134ea7['storageUin'+'t32'];_0x29b696[_0x498fdc]=_0x3ef80d[0x26a2+-0x5*-0x523+-0x4051],_0x29b696[_0x498fdc+(-0x17*0x196+0x1bb5+0x1*0x8c6)]=_0x3ef80d[0x1a*0x17+-0x477+0x222];},Te[wa]=(_0x16b621,_0x5e5eba,_0xb6be2c,_0x14efd7)=>{const _0x5cd2b9=_0x16b621['storageUin'+'t32'];_0x5cd2b9[_0xb6be2c]=_0x5e5eba[0x13d8+-0x1*-0x1354+0x17*-0x1b4],_0x5cd2b9[_0xb6be2c+(0x1c5c+-0x114+-0x1b47)]=_0x5e5eba[0xc7b+-0x194+-0xae6],_0x5cd2b9[_0xb6be2c+(0x24e6+-0x76f+-0x1d75)]=_0x5e5eba[0x6*0xf2+-0x64*0x5f+-0x23*-0xe6];},Te[Ta]=(_0x282cfb,_0x359ec3,_0x56e704,_0x1bee3b)=>{const _0x270ab5=_0x282cfb['storageUin'+'t32'];_0x270ab5[_0x56e704]=_0x359ec3[0x1a1c*-0x1+0x4*0x7a7+-0x9*0x80],_0x270ab5[_0x56e704+(-0x476+-0x10*0x17a+-0x3*-0x95d)]=_0x359ec3[0xa*-0x56+0x2606*0x1+-0x22a9],_0x270ab5[_0x56e704+(-0x8da*0x1+-0xfeb+0x18c7)]=_0x359ec3[-0x4bd*-0x1+-0x1a05*-0x1+-0x1ec0],_0x270ab5[_0x56e704+(-0x232c+-0x26a6+0x49d5)]=_0x359ec3[0xc37+-0x3*0x7c3+-0xb15*-0x1];},Te[Aa]=function(_0x307638,_0x1f9c7d,_0x24c2f6,_0x43c141){const _0x128bfc=_0x307638['storageInt'+'32'];for(let _0x8163bd=-0x1*-0xd32+-0x486+0x456*-0x2;_0x8163bd<_0x43c141;_0x8163bd++)_0x128bfc[_0x24c2f6+_0x8163bd*(-0x2ef*-0xb+0x1*0x25d0+0x1*-0x4611)]=_0x1f9c7d[_0x8163bd];},Te[kc]=Te[Aa],Te[Oc]=function(_0x20f5ed,_0xdd52d,_0xbc9cfd,_0x55d144){const _0x3c62b4=_0x20f5ed['storageUin'+'t32'];for(let _0x1ef2d6=0x100d+-0x1cd*0xb+0x3c2;_0x1ef2d6<_0x55d144;_0x1ef2d6++)_0x3c62b4[_0xbc9cfd+_0x1ef2d6*(-0xc0b*-0x1+-0x526*0x1+-0x6e1)]=_0xdd52d[_0x1ef2d6];},Te[Ea]=(_0x86b6e0,_0x27b661,_0x348a14,_0x560b9)=>{const _0x32093e=_0x86b6e0['storageInt'+'32'];for(let _0x2fce65=-0x23bd+0x14cc+-0x33*-0x4b;_0x2fce65<_0x560b9;_0x2fce65++)_0x32093e[_0x348a14+_0x2fce65*(0x1e3d+0x1f39+-0x8f*0x6e)]=_0x27b661[_0x2fce65*(0x96e+-0x2*0xe2c+0x12ec)],_0x32093e[_0x348a14+_0x2fce65*(-0x1b6f+0x1b71+0x1*0x2)+(-0x11*0x11b+0x1*0x1915+-0x649)]=_0x27b661[_0x2fce65*(-0x23*-0x95+-0x1084+-0x3d9)+(-0x16a1+0x235a+0x2*-0x65c)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x16e655,_0x395344,_0x2eb1d0,_0x14a9cc)=>{const _0x263a6b=_0x16e655['storageUin'+'t32'];for(let _0x5bca40=-0x268b+-0xe*0x23b+0x151*0x35;_0x5bca40<_0x14a9cc;_0x5bca40++)_0x263a6b[_0x2eb1d0+_0x5bca40*(-0x14*0x58+-0xa61*-0x1+-0x37d)]=_0x395344[_0x5bca40*(0x129b+-0x4db*-0x6+-0x2fbb*0x1)],_0x263a6b[_0x2eb1d0+_0x5bca40*(0x368*0x5+-0x1490*-0x1+0x1e1*-0x14)+(-0x8fe+0x136*0x11+0x81*-0x17)]=_0x395344[_0x5bca40*(-0x2*-0x1cf+-0x1bee+0x1852)+(-0xd*-0x25f+-0x1*0x1005+-0x4ef*0x3)];},Te[Ca]=(_0x5b89ea,_0x394f24,_0x3b0999,_0x4cb5e4)=>{const _0x2861ea=_0x5b89ea['storageInt'+'32'];for(let _0xd0cb25=0x9*0x189+0x10*-0x221+0x143f;_0xd0cb25<_0x4cb5e4;_0xd0cb25++)_0x2861ea[_0x3b0999+_0xd0cb25*(0x16b6+0x73d+-0x61*0x4f)]=_0x394f24[_0xd0cb25*(0x11a6+-0x7*0x540+0x131d)],_0x2861ea[_0x3b0999+_0xd0cb25*(-0x679+0x229*-0x1+0x1b*0x52)+(0x4*-0x44f+0xd3*-0x23+-0x11*-0x2b6)]=_0x394f24[_0xd0cb25*(-0xfee+-0x103a+0x202b)+(-0x10fe+0x18b9+0x17*-0x56)],_0x2861ea[_0x3b0999+_0xd0cb25*(-0x2*0x5ba+0x1*0x235e+-0x17e6)+(-0x26ec+0x17b8+0xf36)]=_0x394f24[_0xd0cb25*(0x8d7+-0x1a4+0x2*-0x398)+(-0x1*0x9f5+0x2f8*0x3+0x1*0x10f)];},Te[Uc]=Te[Ca],Te[zc]=(_0x1f2207,_0x45d19c,_0x3a7914,_0x2fadd6)=>{const _0x565e28=_0x1f2207['storageUin'+'t32'];for(let _0x32af10=-0xc23*-0x1+0x40*0x7f+-0x2be3;_0x32af10<_0x2fadd6;_0x32af10++)_0x565e28[_0x3a7914+_0x32af10*(-0xb*0x347+0x1b6+-0x6df*-0x5)]=_0x45d19c[_0x32af10*(0xd03*-0x1+-0x215+0xf1b)],_0x565e28[_0x3a7914+_0x32af10*(-0x12*-0xdb+-0xb7*-0xb+0x173f*-0x1)+(-0x26b*0xd+-0x5*0xa+0x2*0xfd1)]=_0x45d19c[_0x32af10*(-0x1714+-0x1*0x442+-0x1b59*-0x1)+(-0x3d*0x74+-0x6c7+0x226c)],_0x565e28[_0x3a7914+_0x32af10*(0x59*0x39+-0x1*0x1ceb+-0x48f*-0x2)+(-0x4*-0x38d+-0x1f4c+0x111a*0x1)]=_0x45d19c[_0x32af10*(0x3ad*0x6+0x3d7*-0x1+-0x1234)+(0x2b*0x53+-0x22ed+0xa7f*0x2)];};class gp{constructor(_0x273159,_0x3bf08d,_0xc9e077=!(0x39*0xa2+-0x6b2+-0x1d60)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',0x1f93*0x1+-0x5*0x1a1+0x176e*-0x1);if(this['device']=_0x273159,this['format']=_0x3bf08d,this['persistent']=_0xc9e077,v['assert'](_0x3bf08d),_0xc9e077){this['impl']=_0x273159['createUnif'+'ormBufferI'+'mpl'](this);const _0x4672e3=new ArrayBuffer(_0x3bf08d['byteSize']);this['assignStor'+'age'](new Int32Array(_0x4672e3)),_0x273159['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x19c902=this['device'];this['impl']['destroy'](_0x19c902),_0x19c902['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0xf9*0x1b+0x224b+-0x4*0x202:this['allocation']['offset'];}['assignStor'+'age'](_0x1b503c){this['storageInt'+'32']=_0x1b503c,this['storageUin'+'t32']=new Uint32Array(_0x1b503c['buffer'],_0x1b503c['byteOffset'],_0x1b503c['byteLength']/(-0x14f3+0x1272+-0x81*-0x5)),this['storageFlo'+'at32']=new Float32Array(_0x1b503c['buffer'],_0x1b503c['byteOffset'],_0x1b503c['byteLength']/(0x57*-0x9+-0xa9+-0x3bc*-0x1));}['loseContex'+'t'](){var _0x28bd7a;(_0x28bd7a=this['impl'])==null||_0x28bd7a['loseContex'+'t']();}['setUniform'](_0x1a4d3c,_0x5f02fb){v['assert'](_0x1a4d3c);const _0x46cc5b=_0x1a4d3c['offset'];if(_0x5f02fb!=null){const _0x58300f=Te[_0x1a4d3c['updateType']];_0x58300f?_0x58300f(this,_0x5f02fb,_0x46cc5b,_0x1a4d3c['count']):this['storageFlo'+'at32']['set'](_0x5f02fb,_0x46cc5b);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x1a4d3c['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0x1a4d3c['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x261ad9,_0x3ec0e4){const _0x1c3760=this['format']['map']['get'](_0x261ad9);v['assert'](_0x1c3760,'Uniform\x20na'+'me\x20['+_0x261ad9+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x1c3760&&this['setUniform'](_0x1c3760,_0x3ec0e4);}['startUpdat'+'e'](_0x4aace5){if(!this['persistent']){const _0x5a1e87=this['allocation'],_0x8d04ff=_0x5a1e87['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x5a1e87,this['format']['byteSize']),this['assignStor'+'age'](_0x5a1e87['storage']),_0x4aace5&&(_0x4aace5['bindGroup']=_0x5a1e87['gpuBuffer']['getBindGro'+'up'](this),_0x4aace5['offsets'][-0x3*-0x1a+-0x14*-0x137+-0x2*0xc4d]=_0x5a1e87['offset']),_0x8d04ff!==_0x5a1e87['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x319c97){this['startUpdat'+'e'](_0x319c97);const _0x501066=this['format']['uniforms'];for(let _0x44301b=0xd8+0x4*-0x1c1+0x62c;_0x44301b<_0x501066['length'];_0x44301b++){const _0x5c6aae=_0x501066[_0x44301b]['scopeId']['value'];this['setUniform'](_0x501066[_0x44301b],_0x5c6aae);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(-0x2ef*0x9+-0x1f*0x5b+-0x256d*-0x1)),c(this,'_enableReq'+'uest',!(-0x1d97+-0x14*0x18a+0x3c60)),c(this,'_frameTime',0x2005*-0x1+-0x2b*-0xb9+0xb*0x16);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x504ab8){this['_enableReq'+'uest']=_0x504ab8;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=-0x4*-0x248+0xa6*0x38+-0x2d7*0x10));}['request'](_0x1924e3){this['pastFrameA'+'llocations']['set'](_0x1924e3,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x47a584,_0x688903){if(_0x688903){const _0x76c5eb=this['pastFrameA'+'llocations']['get'](_0x47a584);if(v['assert'](_0x76c5eb['length']===_0x688903['length']),_0x688903['length']>-0xa4+-0x1*-0xda+0x6*-0x9&&(this['_frameTime']=_0x688903[-0x22f8+-0x2095+0x438d]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x47a584+'\x20--');let _0x3e5b3b=-0x127f+0x3b*0x34+0x683*0x1;for(let _0x376a92=0x74*-0x2c+0x244c+-0x105c;_0x376a92<_0x76c5eb['length'];++_0x376a92){const _0x49427b=_0x76c5eb[_0x376a92];_0x3e5b3b+=_0x688903[_0x376a92],v['trace'](ml,_0x688903[_0x376a92]['toFixed'](0x10e8+-0x22d7+0x11f1)+'\x20ms\x20'+_0x49427b);}v['trace'](ml,_0x3e5b3b['toFixed'](-0x2394+0x3*-0x4bc+-0x31ca*-0x1)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x47a584);}['getSlot'](_0x50e3aa){const _0x285017=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x50e3aa),_0x285017;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x7efbbe){this['bufferId']&&(_0x7efbbe['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x50c78e,_0x41fd09,_0x5db279,_0x2ad440){const _0x46b7b5=_0x50c78e['gl'];if(this['bufferId'])_0x46b7b5['bindBuffer'](_0x5db279,this['bufferId']),_0x46b7b5['bufferSubD'+'ata'](_0x5db279,-0x15e0+0x2481+-0xea1,_0x2ad440);else{let _0x4ac102;switch(_0x41fd09){case jt:_0x4ac102=_0x46b7b5['STATIC_DRA'+'W'];break;case Th:_0x4ac102=_0x46b7b5['DYNAMIC_DR'+'AW'];break;case uy:_0x4ac102=_0x46b7b5['STREAM_DRA'+'W'];break;case PS:_0x4ac102=_0x46b7b5['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x46b7b5['createBuff'+'er'](),_0x46b7b5['bindBuffer'](_0x5db279,this['bufferId']),_0x46b7b5['bufferData'](_0x5db279,_0x2ad440,_0x4ac102);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x5c6724){super['destroy'](_0x5c6724),_0x5c6724['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x41da19){const _0x43fa50=_0x41da19['device'];super['unlock'](_0x43fa50,_0x41da19['usage'],_0x43fa50['gl']['ARRAY_BUFF'+'ER'],_0x41da19['storage']);}}class ib extends r0{constructor(_0x31965f){super();const _0x2c12cc=_0x31965f['device']['gl'],_0x3e2f81=_0x31965f['format'];_0x3e2f81===pu?this['glFormat']=_0x2c12cc['UNSIGNED_B'+'YTE']:_0x3e2f81===Pi?this['glFormat']=_0x2c12cc['UNSIGNED_S'+'HORT']:_0x3e2f81===nr&&(this['glFormat']=_0x2c12cc['UNSIGNED_I'+'NT']);}['unlock'](_0x4cdea7){const _0x11f99e=_0x4cdea7['device'];super['unlock'](_0x11f99e,_0x4cdea7['usage'],_0x11f99e['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x4cdea7['storage']);}}class Mm{constructor(_0x425163,_0x32da67,_0x452658,_0x482ce3){if(this['locationId']=_0x482ce3,this['scopeId']=_0x425163['scope']['resolve'](_0x32da67),this['version']=new Ky(),_0x32da67['substring'](_0x32da67['length']-(-0x1*0x183+0x2*0xbf9+-0x166c))==='[0]')switch(_0x452658){case Ws:_0x452658=Dc;break;case ln:_0x452658=Aa;break;case va:_0x452658=Oc;break;case ca:_0x452658=kc;break;case or:_0x452658=Lc;break;case Zr:_0x452658=Ea;break;case ba:_0x452658=Bc;break;case Lo:_0x452658=Nc;break;case Wt:_0x452658=Fc;break;case Qr:_0x452658=Ca;break;case wa:_0x452658=zc;break;case Fo:_0x452658=Uc;break;case xa:_0x452658=lp;break;case Jr:_0x452658=Ih;break;case Ta:_0x452658=hp;break;case Oo:_0x452658=cp;break;}this['dataType']=_0x452658,this['value']=[null,null,null,null],this['array']=[];}}let Pm=-0x41*0x8d+0x14ae+0xf1f;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x50b2fd){this['map']['forEach'](_0x1de6be=>{_0x50b2fd['gl']['deleteShad'+'er'](_0x1de6be);});}['loseContex'+'t'](_0x442787){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0x5914f3){c(this,'compileDur'+'ation',-0x1*0x2ba+-0x1c4a+0x1f04),(this['init'](),this['compile'](_0x5914f3['device'],_0x5914f3),this['link'](_0x5914f3['device'],_0x5914f3),_0x5914f3['device']['shaders']['push'](_0x5914f3));}['destroy'](_0x23144f){this['glProgram']&&(_0x23144f['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x5010c0,_0x577f54){this['compile'](_0x5010c0,_0x577f54),this['link'](_0x5010c0,_0x577f54);}['compile'](_0x50ca27,_0x4af855){const _0x442ceb=_0x4af855['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x50ca27,_0x442ceb['vshader'],!(-0x15*-0xe5+-0x51*0x4f+-0x212*-0x3)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x50ca27,_0x442ceb['fshader'],!(0x1120+0x2b7*-0xa+0x1*0xa07));}['link'](_0x25ea2b,_0x537923){if(this['glProgram'])return;const _0x9f9dfa=_0x25ea2b['gl'];if(_0x9f9dfa['isContextL'+'ost']())return;let _0x5a9a2=0x2*-0x1019+0x93a+-0x1e*-0xc4;v['call'](()=>{this['compileDur'+'ation']=0x4*0x26b+0x3fb*0x7+-0x2589,_0x5a9a2=ne();});const _0x5c973c=_0x9f9dfa['createProg'+'ram']();this['glProgram']=_0x5c973c,_0x9f9dfa['attachShad'+'er'](_0x5c973c,this['glVertexSh'+'ader']),_0x9f9dfa['attachShad'+'er'](_0x5c973c,this['glFragment'+'Shader']);const _0x16f8f1=_0x537923['definition'],_0x310204=_0x16f8f1['attributes'];if(_0x16f8f1['useTransfo'+'rmFeedback']){const _0x17bf5c=[];for(const _0x37e1de in _0x310204)_0x310204['hasOwnProp'+'erty'](_0x37e1de)&&_0x17bf5c['push']('out_'+_0x37e1de);_0x9f9dfa['transformF'+'eedbackVar'+'yings'](_0x5c973c,_0x17bf5c,_0x9f9dfa['INTERLEAVE'+'D_ATTRIBS']);}const _0x2b3e36={};for(const _0x3c6e35 in _0x310204)if(_0x310204['hasOwnProp'+'erty'](_0x3c6e35)){const _0x354175=_0x310204[_0x3c6e35],_0x55647b=ve[_0x354175];v['assert'](!_0x2b3e36['hasOwnProp'+'erty'](_0x55647b),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x2b3e36[_0x55647b]+'\x20and\x20'+_0x3c6e35),_0x2b3e36[_0x55647b]=_0x3c6e35,_0x9f9dfa['bindAttrib'+'Location'](_0x5c973c,_0x55647b,_0x3c6e35);}_0x9f9dfa['linkProgra'+'m'](_0x5c973c),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x5a9a2;}),_0x25ea2b['_shaderSta'+'ts']['linked']++,_0x16f8f1['tag']===Ly&&_0x25ea2b['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x24c5bd,_0x2f4d12,_0x4c38b1){const _0x124dbd=_0x24c5bd['gl'];if(_0x124dbd['isContextL'+'ost']())return null;const _0x48c06f=(_0x4c38b1?ab:ob)['get'](_0x24c5bd,()=>new nb());let _0x354338=_0x48c06f['map']['get'](_0x2f4d12);if(!_0x354338){const _0x3d00d2=ne();_0x24c5bd['fire']('shader:com'+'pile:start',{'timestamp':_0x3d00d2,'target':_0x24c5bd}),_0x354338=_0x124dbd['createShad'+'er'](_0x4c38b1?_0x124dbd['VERTEX_SHA'+'DER']:_0x124dbd['FRAGMENT_S'+'HADER']),_0x124dbd['shaderSour'+'ce'](_0x354338,_0x2f4d12),_0x124dbd['compileSha'+'der'](_0x354338),_0x48c06f['map']['set'](_0x2f4d12,_0x354338);const _0x4da31d=ne();_0x24c5bd['fire']('shader:com'+'pile:end',{'timestamp':_0x4da31d,'target':_0x24c5bd}),_0x24c5bd['_shaderSta'+'ts']['compileTim'+'e']+=_0x4da31d-_0x3d00d2,_0x4c38b1?_0x24c5bd['_shaderSta'+'ts']['vsCompiled']++:_0x24c5bd['_shaderSta'+'ts']['fsCompiled']++;}return _0x354338;}['finalize'](_0x4818ca,_0x1ac669){var _0x5d19ae,_0x12ab3e;const _0x4e2255=_0x4818ca['gl'];if(_0x4e2255['isContextL'+'ost']())return!(-0x7cb+-0xb*-0x25+-0x1*-0x634);const _0x274e2e=this['glProgram'],_0x4e3eca=_0x1ac669['definition'],_0x45ceb7=ne();_0x4818ca['fire']('shader:lin'+'k:start',{'timestamp':_0x45ceb7,'target':_0x4818ca});let _0xc64635=-0x61a+0x398+0x282;if(v['call'](()=>{_0xc64635=ne();}),!_0x4e2255['getProgram'+'Parameter'](_0x274e2e,_0x4e2255['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x4818ca,_0x1ac669,this['glVertexSh'+'ader'],_0x4e3eca['vshader'],'vertex')||!this['_isCompile'+'d'](_0x4818ca,_0x1ac669,this['glFragment'+'Shader'],_0x4e3eca['fshader'],'fragment'))return!(-0x172d+0x189*0x2+0x141c);const _0x393347='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x4e2255['getProgram'+'InfoLog'](_0x274e2e);return _0x4e3eca['translated'+'Frag']=(_0x5d19ae=_0x4e2255['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0xc44+-0x557*-0x1+-0x119b):_0x5d19ae['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x4e3eca['translated'+'Vert']=(_0x12ab3e=_0x4e2255['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x142f*0x1+-0x70*0x58+0x3aaf):_0x12ab3e['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x393347,_0x4e3eca),console['error'](_0x393347),!(-0x1522*0x1+0x2cf*-0x7+-0x7*-0x5d4);}const _0x571082=_0x4e2255['getProgram'+'Parameter'](_0x274e2e,_0x4e2255['ACTIVE_ATT'+'RIBUTES']);for(let _0x775c36=-0x305*0x6+-0xd07+0x77*0x43;_0x775c36<_0x571082;_0x775c36++){const _0xfdea58=_0x4e2255['getActiveA'+'ttrib'](_0x274e2e,_0x775c36),_0x414e2c=_0x4e2255['getAttribL'+'ocation'](_0x274e2e,_0xfdea58['name']);if(!rb['has'](_0xfdea58['name'])){if(_0x4e3eca['attributes'][_0xfdea58['name']]===void(0x2438+-0x1c14+0x412*-0x2))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0xfdea58['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x1ac669['label']+']',_0x1ac669),_0x1ac669['failed']=!(0x2618+-0x9d1+-0x1c47);else{const _0x4db71d=new Mm(_0x4818ca,_0x4e3eca['attributes'][_0xfdea58['name']],_0x4818ca['pcUniformT'+'ype'][_0xfdea58['type']],_0x414e2c);this['attributes']['push'](_0x4db71d);}}}const _0x907705=_0x4818ca['_samplerTy'+'pes'],_0x544c03=_0x4e2255['getProgram'+'Parameter'](_0x274e2e,_0x4e2255['ACTIVE_UNI'+'FORMS']);for(let _0x114565=0x221c+-0x118*-0x1e+0x1*-0x42ec;_0x114565<_0x544c03;_0x114565++){const _0x589434=_0x4e2255['getActiveU'+'niform'](_0x274e2e,_0x114565),_0x1243ef=_0x4e2255['getUniform'+'Location'](_0x274e2e,_0x589434['name']),_0x26cb42=new Mm(_0x4818ca,_0x589434['name'],_0x4818ca['pcUniformT'+'ype'][_0x589434['type']],_0x1243ef);_0x907705['has'](_0x589434['type'])?this['samplers']['push'](_0x26cb42):this['uniforms']['push'](_0x26cb42);}_0x1ac669['ready']=!(0x3d*-0x7c+0xc6*0x6+0xc74*0x2);const _0x4e1561=ne();return _0x4818ca['fire']('shader:lin'+'k:end',{'timestamp':_0x4e1561,'target':_0x4818ca}),_0x4818ca['_shaderSta'+'ts']['compileTim'+'e']+=_0x4e1561-_0x45ceb7,v['call'](()=>{const _0x8ea12b=ne()-_0xc64635;this['compileDur'+'ation']+=_0x8ea12b,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x1ac669['id']+']\x20'+_0x1ac669['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x22*-0x2f+0x25cb+-0x2c08)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](-0x1d2+-0x24f6+0x26c9)+'ms');}),!(-0x5*-0x4ef+-0x201f+0x35*0x24);}['_isCompile'+'d'](_0x1bb142,_0x38af91,_0x1c9314,_0x111ae7,_0x364e6c){const _0x5be782=_0x1bb142['gl'];if(!_0x5be782['getShaderP'+'arameter'](_0x1c9314,_0x5be782['COMPILE_ST'+'ATUS'])){const _0x3fc151=_0x5be782['getShaderI'+'nfoLog'](_0x1c9314),[_0x28713c,_0x2af5c7]=this['_processEr'+'ror'](_0x111ae7,_0x3fc151),_0xd846f3='Failed\x20to\x20'+'compile\x20'+_0x364e6c+'\x20shader:\x0a\x0a'+_0x3fc151+'\x0a'+_0x28713c+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x2af5c7['shader']=_0x38af91,console['error'](_0xd846f3,_0x2af5c7),console['error'](_0xd846f3),!(0x1*-0x6d+-0x26f0+0x275e);}return!(-0x156b*-0x1+-0x259*-0x5+-0x2128);}['isLinked'](_0x5674d0){const {extParallelShaderCompile:_0xd57d92}=_0x5674d0;return _0xd57d92?_0x5674d0['gl']['getProgram'+'Parameter'](this['glProgram'],_0xd57d92['COMPLETION'+'_STATUS_KH'+'R']):!(0x1f01+-0x13*-0xb2+-0x2c37);}['_processEr'+'ror'](_0x1c4dcd,_0x46eed5){const _0x2d5333={};let _0xf5d392='';if(_0x1c4dcd){const _0xdbb27f=_0x1c4dcd['split']('\x0a');let _0x35ce8d=-0x2274+-0x9*-0x441+0x1*-0x3d5,_0x4fc586=_0xdbb27f['length'];if(_0x46eed5&&_0x46eed5['startsWith']('ERROR:')){const _0x1fb105=_0x46eed5['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x1fb105&&(_0x2d5333['message']=_0x1fb105[-0x1869+0xad8*-0x3+0x38f4],_0x2d5333['line']=parseInt(_0x1fb105[0x2*0x7dc+0x1aa*-0x2+-0xc62],-0x1*0x4d3+0x1352+-0xe75),_0x35ce8d=Math['max'](0xbf4+-0x1ff8+0x4*0x501,_0x2d5333['line']-(-0x23*-0x1+-0x437+0x41a)),_0x4fc586=Math['min'](_0xdbb27f['length'],_0x2d5333['line']+(0x322*0x4+0x1b66+-0x27e9)));}for(let _0x4458b6=_0x35ce8d;_0x4458b6<_0x4fc586;_0x4458b6++)_0xf5d392+=_0x4458b6+(-0xdff+0x2620+-0x1820)+':\x09'+_0xdbb27f[_0x4458b6]+'\x0a';_0x2d5333['source']=_0x1c4dcd;}return[_0xf5d392,_0x2d5333];}}function Rm(_0x176dc9,_0x532b63){const _0x5577ce=_0x176dc9['width'],_0x162c93=_0x176dc9['height'];if(_0x5577ce>_0x532b63||_0x162c93>_0x532b63){const _0x35ebba=_0x532b63/Math['max'](_0x5577ce,_0x162c93),_0x9e5c61=Math['floor'](_0x5577ce*_0x35ebba),_0x3141a4=Math['floor'](_0x162c93*_0x35ebba);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x532b63+('.\x20Resizing'+'\x20from\x20')+_0x5577ce+',\x20'+_0x162c93+'\x20to\x20'+_0x9e5c61+',\x20'+_0x3141a4+'.');const _0x223e4b=document['createElem'+'ent']('canvas');return _0x223e4b['width']=_0x9e5c61,_0x223e4b['height']=_0x3141a4,_0x223e4b['getContext']('2d')['drawImage'](_0x176dc9,-0x4b3*0x5+0x73+0xb86*0x2,-0x3*-0x6a9+0xe16+-0x2211,_0x5577ce,_0x162c93,-0x2033*-0x1+0xb57*-0x3+0x1*0x1d2,-0x2595+-0x595*0x1+0x41*0xaa,_0x9e5c61,_0x3141a4),_0x223e4b;}return _0x176dc9;}class hb{constructor(_0x23cceb){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',0x19ab+-0x15dd+-0x3ce),this['texture']=_0x23cceb;}['destroy'](_0x5579b0){if(this['_glTexture']){for(let _0x278bcc=-0xaf9+0x3b3*0x5+-0x786;_0x278bcc<_0x5579b0['textureUni'+'ts']['length'];_0x278bcc++){const _0x14e94f=_0x5579b0['textureUni'+'ts'][_0x278bcc];for(let _0x449c50=0x25*-0x70+-0x206b+-0x309b*-0x1;_0x449c50<_0x14e94f['length'];_0x449c50++)_0x14e94f[_0x449c50]===this['_glTexture']&&(_0x14e94f[_0x449c50]=null);}_0x5579b0['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x597636){this['dirtyParam'+'eterFlags']|=_0x597636;}['initialize'](_0x20cdd1,_0x16799e){const _0x4d14dc=_0x20cdd1['gl'];switch(this['_glTexture']=_0x4d14dc['createText'+'ure'](),this['_glTarget']=_0x16799e['_cubemap']?_0x4d14dc['TEXTURE_CU'+'BE_MAP']:_0x16799e['_volume']?_0x4d14dc['TEXTURE_3D']:_0x16799e['array']?_0x4d14dc['TEXTURE_2D'+'_ARRAY']:_0x4d14dc['TEXTURE_2D'],_0x16799e['_format']){case fy:this['_glFormat']=_0x4d14dc['ALPHA'],this['_glInterna'+'lFormat']=_0x4d14dc['ALPHA'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x4d14dc['LUMINANCE'],this['_glInterna'+'lFormat']=_0x4d14dc['LUMINANCE'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0x4d14dc['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x4d14dc['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0x4d14dc['RED'],this['_glInterna'+'lFormat']=_0x4d14dc['R8'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x4d14dc['RG'],this['_glInterna'+'lFormat']=_0x4d14dc['RG8'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x4d14dc['RGB'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x4d14dc['RGBA'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x4d14dc['RGBA'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x4d14dc['RGB8'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x4d14dc['RGBA8'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case Wo:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x20cdd1['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x20cdd1['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x20cdd1['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0x4d14dc['SRGB'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0x4d14dc['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0x4d14dc['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0x4d14dc['SRGB'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0x4d14dc['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0x4d14dc['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x20cdd1['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x20cdd1['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x4d14dc['RED'],this['_glInterna'+'lFormat']=_0x4d14dc['R16F'],this['_glPixelTy'+'pe']=_0x4d14dc['HALF_FLOAT'];break;case tp:this['_glFormat']=_0x4d14dc['RG'],this['_glInterna'+'lFormat']=_0x4d14dc['RG16F'],this['_glPixelTy'+'pe']=_0x4d14dc['HALF_FLOAT'];break;case xc:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x4d14dc['RGB16F'],this['_glPixelTy'+'pe']=_0x4d14dc['HALF_FLOAT'];break;case Je:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x4d14dc['RGBA16F'],this['_glPixelTy'+'pe']=_0x4d14dc['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x4d14dc['RGB32F'],this['_glPixelTy'+'pe']=_0x4d14dc['FLOAT'];break;case Ke:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x4d14dc['RGBA32F'],this['_glPixelTy'+'pe']=_0x4d14dc['FLOAT'];break;case Ii:this['_glFormat']=_0x4d14dc['RED'],this['_glInterna'+'lFormat']=_0x4d14dc['R32F'],this['_glPixelTy'+'pe']=_0x4d14dc['FLOAT'];break;case Ci:this['_glFormat']=_0x4d14dc['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x4d14dc['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x4d14dc['FLOAT'];break;case la:this['_glFormat']=_0x4d14dc['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x4d14dc['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0x4d14dc['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x4d14dc['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x4d14dc['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0x4d14dc['RGB'],this['_glInterna'+'lFormat']=_0x4d14dc['SRGB8'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0x4d14dc['RGBA'],this['_glInterna'+'lFormat']=_0x4d14dc['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0x4d14dc['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4d14dc['R8I'],this['_glPixelTy'+'pe']=_0x4d14dc['BYTE'];break;case xy:this['_glFormat']=_0x4d14dc['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4d14dc['R8UI'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case $f:this['_glFormat']=_0x4d14dc['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4d14dc['R16I'],this['_glPixelTy'+'pe']=_0x4d14dc['SHORT'];break;case Wf:this['_glFormat']=_0x4d14dc['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4d14dc['R16UI'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0x4d14dc['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4d14dc['R32I'],this['_glPixelTy'+'pe']=_0x4d14dc['INT'];break;case an:this['_glFormat']=_0x4d14dc['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x4d14dc['R32UI'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0x4d14dc['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4d14dc['RG8I'],this['_glPixelTy'+'pe']=_0x4d14dc['BYTE'];break;case Sy:this['_glFormat']=_0x4d14dc['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4d14dc['RG8UI'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x4d14dc['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4d14dc['RG16I'],this['_glPixelTy'+'pe']=_0x4d14dc['SHORT'];break;case Yf:this['_glFormat']=_0x4d14dc['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4d14dc['RG16UI'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x4d14dc['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4d14dc['RG32I'],this['_glPixelTy'+'pe']=_0x4d14dc['INT'];break;case Zf:this['_glFormat']=_0x4d14dc['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x4d14dc['RG32UI'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0x4d14dc['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4d14dc['RGBA8I'],this['_glPixelTy'+'pe']=_0x4d14dc['BYTE'];break;case vy:this['_glFormat']=_0x4d14dc['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4d14dc['RGBA8UI'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0x4d14dc['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4d14dc['RGBA16I'],this['_glPixelTy'+'pe']=_0x4d14dc['SHORT'];break;case Ac:this['_glFormat']=_0x4d14dc['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4d14dc['RGBA16UI'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x4d14dc['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4d14dc['RGBA32I'],this['_glPixelTy'+'pe']=_0x4d14dc['INT'];break;case ut:this['_glFormat']=_0x4d14dc['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x4d14dc['RGBA32UI'],this['_glPixelTy'+'pe']=_0x4d14dc['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x11*0x15b+-0xd1*0x2b+0xc11);}['upload'](_0x8cf764,_0x599868){v['assert'](_0x599868['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x599868);const _0x375390=_0x8cf764['gl'];if(!_0x599868['_needsUplo'+'ad']&&(_0x599868['_needsMipm'+'apsUpload']&&_0x599868['_mipmapsUp'+'loaded']||!_0x599868['pot']))return;let _0x28c38a=-0xff*-0x13+0x1*-0x2551+0x1264*0x1,_0x3f4fcf,_0x42769e;const _0xe6d92a=_0x599868['numLevels'];for(_0x599868['array']&&_0x375390['texStorage'+'3D'](_0x375390['TEXTURE_2D'+'_ARRAY'],_0xe6d92a,this['_glInterna'+'lFormat'],_0x599868['_width'],_0x599868['_height'],_0x599868['_arrayLeng'+'th']);_0x599868['_levels'][_0x28c38a]||_0x28c38a===0x221c+-0x2*-0x148+-0x24ac;){if(!_0x599868['_needsUplo'+'ad']&&_0x28c38a===-0x21cf+0x1b99+0x3*0x212){_0x28c38a++;continue;}else{if(_0x28c38a&&(!_0x599868['_needsMipm'+'apsUpload']||!_0x599868['_mipmaps']))break;}if(_0x3f4fcf=_0x599868['_levels'][_0x28c38a],_0x42769e=(0x23b9+-0x1fde+0x1*-0x3da)/Math['pow'](-0x1b33+-0x22b*0x12+-0x423b*-0x1,_0x28c38a),_0x28c38a===0xb7e*-0x2+-0x2*-0x4fa+0xd09&&!_0x599868['_compresse'+'d']&&!_0x599868['_integerFo'+'rmat']&&_0x599868['_levels']['length']<_0xe6d92a&&(_0x375390['generateMi'+'pmap'](this['_glTarget']),_0x599868['_mipmapsUp'+'loaded']=!(0x2*-0x691+0x1*-0xe0b+-0x1*-0x1b2d)),_0x599868['_cubemap']){let _0x16181e;if(_0x8cf764['_isBrowser'+'Interface'](_0x3f4fcf[-0x3e*-0x58+-0x109*-0xe+-0x23ce]))for(_0x16181e=0x1*-0x1859+-0x14a1*0x1+0x2cfa;_0x16181e<0x8*-0x43c+0x48*-0x2e+0x2ed6;_0x16181e++){if(!_0x599868['_levelsUpd'+'ated'][0x10bf+0x2570+-0x362f][_0x16181e])continue;let _0x26eb0f=_0x3f4fcf[_0x16181e];_0x8cf764['_isImageBr'+'owserInter'+'face'](_0x26eb0f)&&(_0x26eb0f['width']>_0x8cf764['maxCubeMap'+'Size']||_0x26eb0f['height']>_0x8cf764['maxCubeMap'+'Size'])&&(_0x26eb0f=Rm(_0x26eb0f,_0x8cf764['maxCubeMap'+'Size']),_0x28c38a===0x7f8+-0xea7+0x6af&&(_0x599868['_width']=_0x26eb0f['width'],_0x599868['_height']=_0x26eb0f['height'])),_0x8cf764['setUnpackF'+'lipY'](!(-0xcbd+-0xef0+0x1bae)),_0x8cf764['setUnpackP'+'remultiply'+'Alpha'](_0x599868['_premultip'+'lyAlpha']),this['_glCreated']?_0x375390['texSubImag'+'e2D'](_0x375390['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x16181e,_0x28c38a,-0x1*-0x12b5+-0x2a1*0x1+-0x1014,-0x1ec1+-0x1acd+-0x8b*-0x6a,this['_glFormat'],this['_glPixelTy'+'pe'],_0x26eb0f):_0x375390['texImage2D'](_0x375390['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x16181e,_0x28c38a,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x26eb0f);}else for(_0x42769e=(-0xa05+0x884*0x1+0x182*0x1)/Math['pow'](0x96b*0x1+-0x11ce+-0x865*-0x1,_0x28c38a),_0x16181e=-0x1*-0x2bd+0x4*-0xc0+-0x43*-0x1;_0x16181e<0x1a7b*-0x1+0x1a4+0x18dd;_0x16181e++){if(!_0x599868['_levelsUpd'+'ated'][-0xe3*0x25+-0x126*0x5+0x268d][_0x16181e])continue;const _0x15a759=_0x3f4fcf[_0x16181e];_0x599868['_compresse'+'d']?this['_glCreated']&&_0x15a759?_0x375390['compressed'+'TexSubImag'+'e2D'](_0x375390['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x16181e,_0x28c38a,0x33d*-0x1+0x11ae+0xe71*-0x1,0x5fc+-0x9b4*-0x3+-0x2318,Math['max'](_0x599868['_width']*_0x42769e,0x94a*0x2+-0x18f7+-0x664*-0x1),Math['max'](_0x599868['_height']*_0x42769e,0x1*0x23df+0x126a+-0x3648),this['_glInterna'+'lFormat'],_0x15a759):_0x375390['compressed'+'TexImage2D'](_0x375390['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x16181e,_0x28c38a,this['_glInterna'+'lFormat'],Math['max'](_0x599868['_width']*_0x42769e,0xfd8+-0x22*0x2+-0x1*0xf93),Math['max'](_0x599868['_height']*_0x42769e,-0x7*0x241+0x16a0+-0x6d8),-0x5*0x5c9+0x1*0x1749+0x5a4,_0x15a759):(_0x8cf764['setUnpackF'+'lipY'](!(0x290*0x2+-0x1*-0xfe+0x1*-0x61d)),_0x8cf764['setUnpackP'+'remultiply'+'Alpha'](_0x599868['_premultip'+'lyAlpha']),this['_glCreated']&&_0x15a759?_0x375390['texSubImag'+'e2D'](_0x375390['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x16181e,_0x28c38a,-0x3*0x727+-0xc6a+-0xd*-0x29b,0x23e1+-0x9a1+-0x1a40,Math['max'](_0x599868['_width']*_0x42769e,-0xe0*-0x1e+0x7cd+0x2*-0x1106),Math['max'](_0x599868['_height']*_0x42769e,0x4d*-0x74+-0x1*0x259b+0x4880),this['_glFormat'],this['_glPixelTy'+'pe'],_0x15a759):_0x375390['texImage2D'](_0x375390['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x16181e,_0x28c38a,this['_glInterna'+'lFormat'],Math['max'](_0x599868['_width']*_0x42769e,0x112f+0x3*-0xc9f+0x14af),Math['max'](_0x599868['_height']*_0x42769e,-0x2*0x92b+-0x11ea*-0x2+-0x117d),0x101e+0x2*-0x377+-0x150*0x7,this['_glFormat'],this['_glPixelTy'+'pe'],_0x15a759));}}else{if(_0x599868['_volume'])_0x599868['_compresse'+'d']?_0x375390['compressed'+'TexImage3D'](_0x375390['TEXTURE_3D'],_0x28c38a,this['_glInterna'+'lFormat'],Math['max'](_0x599868['_width']*_0x42769e,0x207e+0x1*-0x14d9+-0xba4),Math['max'](_0x599868['_height']*_0x42769e,0x1f*-0xa3+-0x2485+-0x3*-0x12c1),Math['max'](_0x599868['_depth']*_0x42769e,-0x8e2+-0x1802+0x3*0xaf7),0x55d+0x1d2b+-0x2288,_0x3f4fcf):(_0x8cf764['setUnpackF'+'lipY'](!(0x2*0xd6f+0x25f6+0x1*-0x40d3)),_0x8cf764['setUnpackP'+'remultiply'+'Alpha'](_0x599868['_premultip'+'lyAlpha']),_0x375390['texImage3D'](_0x375390['TEXTURE_3D'],_0x28c38a,this['_glInterna'+'lFormat'],Math['max'](_0x599868['_width']*_0x42769e,0x97c+-0x14*-0xe6+-0x1b73),Math['max'](_0x599868['_height']*_0x42769e,-0x44a+0x928+0xf*-0x53),Math['max'](_0x599868['_depth']*_0x42769e,-0x1631+0x1523+0x10f),0x8*-0x139+-0x23*0xda+0x2796,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3f4fcf));else{if(_0x599868['array']&&typeof _0x3f4fcf=='object'){if(_0x599868['_arrayLeng'+'th']===_0x3f4fcf['length']){if(_0x599868['_compresse'+'d']){for(let _0x19e093=0x15e3+0xc4e+-0x2231;_0x19e093<_0x599868['_arrayLeng'+'th'];_0x19e093++)_0x375390['compressed'+'TexSubImag'+'e3D'](_0x375390['TEXTURE_2D'+'_ARRAY'],_0x28c38a,0xe53*-0x2+-0x268c+0x4332,0x1921+0x13d4+-0x2cf5,_0x19e093,Math['max'](Math['floor'](_0x599868['_width']*_0x42769e),0xe76+-0x79b+-0x6da),Math['max'](Math['floor'](_0x599868['_height']*_0x42769e),0x23c2*0x1+-0x1507+-0xeba),0x1ca4*-0x1+0xa0e+0x1297,this['_glInterna'+'lFormat'],_0x3f4fcf[_0x19e093]);}else{for(let _0x54c4ac=0x65*-0x1e+0x1*0x1633+-0xa5d;_0x54c4ac<_0x599868['_arrayLeng'+'th'];_0x54c4ac++)_0x375390['texSubImag'+'e3D'](_0x375390['TEXTURE_2D'+'_ARRAY'],_0x28c38a,0x223a+-0x3a5+0x1e95*-0x1,0x101*0x1f+-0x16b+-0x1db4,_0x54c4ac,Math['max'](Math['floor'](_0x599868['_width']*_0x42769e),0x8*-0x38c+0x9*0x54+0x196d*0x1),Math['max'](Math['floor'](_0x599868['_height']*_0x42769e),-0x1*-0x1f99+0x9d4+-0x296c),0x255b+0x2209+-0x4763,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3f4fcf[_0x54c4ac]);}}}else{if(_0x8cf764['_isBrowser'+'Interface'](_0x3f4fcf)){_0x8cf764['_isImageBr'+'owserInter'+'face'](_0x3f4fcf)&&(_0x3f4fcf['width']>_0x8cf764['maxTexture'+'Size']||_0x3f4fcf['height']>_0x8cf764['maxTexture'+'Size'])&&(_0x3f4fcf=Rm(_0x3f4fcf,_0x8cf764['maxTexture'+'Size']),_0x28c38a===0x1414+0x78+0x107*-0x14&&(_0x599868['_width']=_0x3f4fcf['width'],_0x599868['_height']=_0x3f4fcf['height']));const _0x16987a=_0x3f4fcf['width']||_0x3f4fcf['videoWidth'],_0x590930=_0x3f4fcf['height']||_0x3f4fcf['videoHeigh'+'t'];_0x8cf764['setUnpackF'+'lipY'](_0x599868['_flipY']),_0x8cf764['setUnpackP'+'remultiply'+'Alpha'](_0x599868['_premultip'+'lyAlpha']),this['_glCreated']&&_0x599868['_width']===_0x16987a&&_0x599868['_height']===_0x590930&&!_0x8cf764['_isImageVi'+'deoInterfa'+'ce'](_0x3f4fcf)?_0x375390['texSubImag'+'e2D'](_0x375390['TEXTURE_2D'],_0x28c38a,-0x1806+-0x1*-0x74c+-0x1*-0x10ba,-0x262d+0x13b*-0xe+0x3767,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3f4fcf):(_0x375390['texImage2D'](_0x375390['TEXTURE_2D'],_0x28c38a,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x3f4fcf),_0x28c38a===-0x232d+-0x1*0x11b9+0x34e6&&(_0x599868['_width']=_0x16987a,_0x599868['_height']=_0x590930));}else _0x42769e=(0x2660+0x5f9*-0x4+-0xe7b)/Math['pow'](-0x50*0x2d+0x2237*0x1+-0x1425,_0x28c38a),_0x599868['_compresse'+'d']?this['_glCreated']&&_0x3f4fcf?_0x375390['compressed'+'TexSubImag'+'e2D'](_0x375390['TEXTURE_2D'],_0x28c38a,0x1974+0x66a+-0x1fde,-0x41f*-0x8+0x2043*-0x1+-0x1*0xb5,Math['max'](Math['floor'](_0x599868['_width']*_0x42769e),-0x22b2*-0x1+0x69e+0xdc5*-0x3),Math['max'](Math['floor'](_0x599868['_height']*_0x42769e),0x2198+0x1*0x1fe7+0xa6*-0x65),this['_glInterna'+'lFormat'],_0x3f4fcf):_0x375390['compressed'+'TexImage2D'](_0x375390['TEXTURE_2D'],_0x28c38a,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x599868['_width']*_0x42769e),0x184*-0xc+0x1660+-0x42f),Math['max'](Math['floor'](_0x599868['_height']*_0x42769e),-0x1d69+-0xf29+-0x2c93*-0x1),0xd3*0x29+-0x1835+-0x199*0x6,_0x3f4fcf):(_0x8cf764['setUnpackF'+'lipY'](!(-0x9c1+0x1*0x20ff+-0x173d)),_0x8cf764['setUnpackP'+'remultiply'+'Alpha'](_0x599868['_premultip'+'lyAlpha']),this['_glCreated']&&_0x3f4fcf?_0x375390['texSubImag'+'e2D'](_0x375390['TEXTURE_2D'],_0x28c38a,-0xfac+0xb93*0x1+0x419*0x1,0x18aa+0x1abd+0x3367*-0x1,Math['max'](_0x599868['_width']*_0x42769e,-0xc43+-0xbf8*0x2+0x2434),Math['max'](_0x599868['_height']*_0x42769e,-0x25c3+0x1*0x2216+0x6*0x9d),this['_glFormat'],this['_glPixelTy'+'pe'],_0x3f4fcf):_0x375390['texImage2D'](_0x375390['TEXTURE_2D'],_0x28c38a,this['_glInterna'+'lFormat'],Math['max'](_0x599868['_width']*_0x42769e,0xb79*0x1+0xa95+0x5*-0x469),Math['max'](_0x599868['_height']*_0x42769e,-0x8ed+0x62*0x5+-0x704*-0x1),0x328*-0x9+0x2366+-0x1*0x6fe,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3f4fcf));_0x28c38a===0x1ab7+-0x8a4+-0x1213?_0x599868['_mipmapsUp'+'loaded']=!(0x1a11*0x1+0x2d*-0x9e+0x1b6):_0x599868['_mipmapsUp'+'loaded']=!(-0x641*-0x1+-0x1625*-0x1+-0x1c66);}}}_0x28c38a++;}if(_0x599868['_needsUplo'+'ad']){if(_0x599868['_cubemap']){for(let _0x96074b=0x1*0x1257+0x1*-0x251+-0x24a*0x7;_0x96074b<-0x1021*-0x1+-0x4e*0x3b+-0x1df*-0x1;_0x96074b++)_0x599868['_levelsUpd'+'ated'][-0x17c+-0x1871+0x19ed][_0x96074b]=!(-0x97*-0x5+-0xa33+0x741);}else _0x599868['_levelsUpd'+'ated'][0x1d3*-0x6+0x1*0x174d+0x1*-0xc5b]=!(0x1981+-0x1b78+0x1f8);}!_0x599868['_compresse'+'d']&&!_0x599868['_integerFo'+'rmat']&&_0x599868['_mipmaps']&&_0x599868['_needsMipm'+'apsUpload']&&_0x599868['_levels']['length']===0x45f*0x1+0x1205+-0x1663&&(_0x375390['generateMi'+'pmap'](this['_glTarget']),_0x599868['_mipmapsUp'+'loaded']=!(-0x1b04+-0x1*-0x207a+-0x576)),_0x599868['_gpuSize']&&_0x599868['adjustVram'+'SizeTracki'+'ng'](_0x8cf764['_vram'],-_0x599868['_gpuSize']),_0x599868['_gpuSize']=_0x599868['gpuSize'],_0x599868['adjustVram'+'SizeTracki'+'ng'](_0x8cf764['_vram'],_0x599868['_gpuSize']),this['_glCreated']=!(0x1f*0x60+-0x430+-0x770);}['read'](_0x235985,_0x125bb3,_0x518984,_0x270c0d,_0x1aca09){const _0x48bb17=this['texture'];return _0x48bb17['device']['readTextur'+'eAsync'](_0x48bb17,_0x235985,_0x125bb3,_0x518984,_0x270c0d,_0x1aca09);}}class cb{constructor(_0x2e718d,_0x2ab007){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x2e718d,this['resolveFB']=_0x2ab007);}['destroy'](_0x4ac7dc){this['msaaFB']&&(_0x4ac7dc['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x4ac7dc['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(-0x2*-0x1b1+0xb35*0x2+-0x19cb));}['destroy'](_0x5e9d52){var _0x5c57da;const _0x2e1ba2=_0x5e9d52['gl'];this['_isInitial'+'ized']=!(-0xcd3+-0x196d*-0x1+-0x19*0x81),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2e1ba2['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x2e1ba2['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2e1ba2['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x8275f1=>{_0x2e1ba2['deleteRend'+'erbuffer'](_0x8275f1);}),this['_glMsaaCol'+'orBuffers']['length']=0x7d3*-0x2+0x118f+-0x1e9,(_0x5c57da=this['colorMrtFr'+'amebuffers'])==null||_0x5c57da['forEach'](_0x1a704b=>{_0x1a704b['destroy'](_0x2e1ba2);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0x5e9d52)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x297+0x1d65+-0x1ffc);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x457da2,_0x549d8c){var _0x320378,_0x2d8237;const _0x354128=_0x457da2['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x2275*0x1+-0x1784+0x39f9);const _0x585c3c=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x22d3*0x1+-0x2*0x2ec+0x9a9*-0x3))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x549d8c['width']<=0x5e7+0x2b3*0x3+-0xe00||_0x549d8c['height']<=-0xede*0x2+0x657*0x1+0x1765)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x549d8c['width']+'\x20x\x20'+_0x549d8c['height'],_0x549d8c);}),this['_glFrameBu'+'ffer']=_0x354128['createFram'+'ebuffer'](),_0x457da2['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x4eae0c=((_0x320378=_0x549d8c['_colorBuff'+'ers'])==null?void(-0xb*-0x19f+-0x1bab+0x9d6*0x1):_0x320378['length'])??-0x38f*0x1+0x10e2+0x17b*-0x9,_0x51e2d9=_0x354128['COLOR_ATTA'+'CHMENT0'];for(let _0x158ea4=0x1830+-0x2*0x685+-0xb26;_0x158ea4<_0x4eae0c;++_0x158ea4){const _0x9679ed=_0x549d8c['getColorBu'+'ffer'](_0x158ea4);_0x9679ed&&(_0x9679ed['impl']['_glTexture']||(_0x9679ed['_width']=Math['min'](_0x9679ed['width'],_0x457da2['maxRenderB'+'ufferSize']),_0x9679ed['_height']=Math['min'](_0x9679ed['height'],_0x457da2['maxRenderB'+'ufferSize']),_0x457da2['setTexture'](_0x9679ed,-0x18f*-0x15+-0x39f+-0x1d1c)),_0x354128['framebuffe'+'rTexture2D'](_0x354128['FRAMEBUFFE'+'R'],_0x51e2d9+_0x158ea4,_0x9679ed['_cubemap']?_0x354128['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x549d8c['_face']:_0x354128['TEXTURE_2D'],_0x9679ed['impl']['_glTexture'],_0x549d8c['mipLevel']),_0x585c3c['push'](_0x51e2d9+_0x158ea4));}_0x354128['drawBuffer'+'s'](_0x585c3c);const _0x3a2cfb=_0x549d8c['_depthBuff'+'er'];if(_0x3a2cfb||_0x549d8c['_depth']){const _0x441eb4=_0x549d8c['_stencil']?_0x354128['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x354128['DEPTH_ATTA'+'CHMENT'];if(_0x3a2cfb)_0x3a2cfb['impl']['_glTexture']||(_0x3a2cfb['_width']=Math['min'](_0x3a2cfb['width'],_0x457da2['maxRenderB'+'ufferSize']),_0x3a2cfb['_height']=Math['min'](_0x3a2cfb['height'],_0x457da2['maxRenderB'+'ufferSize']),_0x457da2['setTexture'](_0x3a2cfb,0x1b21+0x21e7+0x2a*-0x174)),_0x354128['framebuffe'+'rTexture2D'](_0x354128['FRAMEBUFFE'+'R'],_0x441eb4,_0x3a2cfb['_cubemap']?_0x354128['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x549d8c['_face']:_0x354128['TEXTURE_2D'],_0x549d8c['_depthBuff'+'er']['impl']['_glTexture'],_0x549d8c['mipLevel']);else{if(!(_0x549d8c['_samples']>-0x241*-0x4+-0x80e*-0x1+-0x1111)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x354128['createRend'+'erbuffer']());const _0x56286f=_0x549d8c['_stencil']?_0x354128['DEPTH24_ST'+'ENCIL8']:_0x354128['DEPTH_COMP'+'ONENT32F'];_0x354128['bindRender'+'buffer'](_0x354128['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x354128['renderbuff'+'erStorage'](_0x354128['RENDERBUFF'+'ER'],_0x56286f,_0x549d8c['width'],_0x549d8c['height']),_0x354128['framebuffe'+'rRenderbuf'+'fer'](_0x354128['FRAMEBUFFE'+'R'],_0x441eb4,_0x354128['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x354128['bindRender'+'buffer'](_0x354128['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x457da2,_0x549d8c));}if(_0x549d8c['_samples']>0x195d+0x12ba+-0x16*0x201){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x354128['createFram'+'ebuffer'](),_0x457da2['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x288a85=((_0x2d8237=_0x549d8c['_colorBuff'+'ers'])==null?void(-0x1f50+0x2080+-0x130):_0x2d8237['length'])??-0x1843+-0x10f7+0x149d*0x2;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x5*0x5ff+0xbb0+0x124b)){const _0x3fe6a4=_0x354128['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x3fe6a4);const _0x30bbfc=_0x457da2['backBuffer'+'Format']===Se?_0x354128['RGBA8']:_0x354128['RGB8'];_0x354128['bindRender'+'buffer'](_0x354128['RENDERBUFF'+'ER'],_0x3fe6a4),_0x354128['renderbuff'+'erStorageM'+'ultisample'](_0x354128['RENDERBUFF'+'ER'],_0x549d8c['_samples'],_0x30bbfc,_0x549d8c['width'],_0x549d8c['height']),_0x354128['framebuffe'+'rRenderbuf'+'fer'](_0x354128['FRAMEBUFFE'+'R'],_0x354128['COLOR_ATTA'+'CHMENT0'],_0x354128['RENDERBUFF'+'ER'],_0x3fe6a4);}else for(let _0x4a99b2=0x5*-0x3f8+-0xc*-0x1a5+-0xe*-0x2;_0x4a99b2<_0x288a85;++_0x4a99b2){const _0x575e7b=_0x549d8c['getColorBu'+'ffer'](_0x4a99b2);if(_0x575e7b){const _0x474dd2=_0x354128['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x474dd2),_0x354128['bindRender'+'buffer'](_0x354128['RENDERBUFF'+'ER'],_0x474dd2),_0x354128['renderbuff'+'erStorageM'+'ultisample'](_0x354128['RENDERBUFF'+'ER'],_0x549d8c['_samples'],_0x575e7b['impl']['_glInterna'+'lFormat'],_0x549d8c['width'],_0x549d8c['height']),_0x354128['framebuffe'+'rRenderbuf'+'fer'](_0x354128['FRAMEBUFFE'+'R'],_0x354128['COLOR_ATTA'+'CHMENT0']+_0x4a99b2,_0x354128['RENDERBUFF'+'ER'],_0x474dd2);}}if(_0x549d8c['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x490a88=_0x549d8c['_stencil']?_0x354128['DEPTH24_ST'+'ENCIL8']:_0x354128['DEPTH_COMP'+'ONENT32F'],_0x51b1e8=_0x549d8c['_stencil']?_0x354128['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x354128['DEPTH_ATTA'+'CHMENT'];let _0x571165;const _0x427d48=_0x549d8c['_depthBuff'+'er'];_0x427d48&&(_0x571165=_0x427d48['id']+':'+_0x549d8c['width']+':'+_0x549d8c['height']+':'+_0x549d8c['_samples']+':'+_0x490a88+':'+_0x51b1e8,this['_glMsaaDep'+'thBuffer']=od(_0x457da2)['get'](_0x571165)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x354128['createRend'+'erbuffer'](),_0x354128['bindRender'+'buffer'](_0x354128['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x354128['renderbuff'+'erStorageM'+'ultisample'](_0x354128['RENDERBUFF'+'ER'],_0x549d8c['_samples'],_0x490a88,_0x549d8c['width'],_0x549d8c['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x354128['deleteRend'+'erbuffer'](this);},_0x427d48&&od(_0x457da2)['set'](_0x571165,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x571165,_0x354128['framebuffe'+'rRenderbuf'+'fer'](_0x354128['FRAMEBUFFE'+'R'],_0x51b1e8,_0x354128['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x457da2,_0x549d8c,'MSAA')),_0x288a85>0x857+-0xd*0x5d+-0xb9*0x5&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x457da2,_0x549d8c,_0x288a85),_0x457da2['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x354128['drawBuffer'+'s'](_0x585c3c));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x130b57,_0x16f3c2,_0x4f7938){const _0x27441b=_0x130b57['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x21baa1=0x716*0x4+-0x649*0x2+-0xfc6;_0x21baa1<_0x4f7938;++_0x21baa1){const _0x2ba0b2=_0x16f3c2['getColorBu'+'ffer'](_0x21baa1),_0x429d24=_0x27441b['createFram'+'ebuffer']();_0x130b57['setFramebu'+'ffer'](_0x429d24);const _0x3b4850=this['_glMsaaCol'+'orBuffers'][_0x21baa1];_0x27441b['bindRender'+'buffer'](_0x27441b['RENDERBUFF'+'ER'],_0x3b4850),_0x27441b['renderbuff'+'erStorageM'+'ultisample'](_0x27441b['RENDERBUFF'+'ER'],_0x16f3c2['_samples'],_0x2ba0b2['impl']['_glInterna'+'lFormat'],_0x16f3c2['width'],_0x16f3c2['height']),_0x27441b['framebuffe'+'rRenderbuf'+'fer'](_0x27441b['FRAMEBUFFE'+'R'],_0x27441b['COLOR_ATTA'+'CHMENT0'],_0x27441b['RENDERBUFF'+'ER'],_0x3b4850),_0x27441b['drawBuffer'+'s']([_0x27441b['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x130b57,_0x16f3c2,'MSAA-MRT-s'+'rc'+_0x21baa1));const _0x38df33=_0x27441b['createFram'+'ebuffer']();_0x130b57['setFramebu'+'ffer'](_0x38df33),_0x27441b['framebuffe'+'rTexture2D'](_0x27441b['FRAMEBUFFE'+'R'],_0x27441b['COLOR_ATTA'+'CHMENT0'],_0x2ba0b2['_cubemap']?_0x27441b['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x16f3c2['_face']:_0x27441b['TEXTURE_2D'],_0x2ba0b2['impl']['_glTexture'],0x219c+0x2b*0x3d+-0x1*0x2bdb),this['colorMrtFr'+'amebuffers'][_0x21baa1]=new cb(_0x429d24,_0x38df33),v['call'](()=>this['_checkFbo'](_0x130b57,_0x16f3c2,'MSAA-MRT-d'+'st'+_0x21baa1));}}['_checkFbo'](_0x48ff90,_0x37eeb9,_0xd0956f=''){const _0x731756=_0x48ff90['gl'],_0x37b387=_0x731756['checkFrame'+'bufferStat'+'us'](_0x731756['FRAMEBUFFE'+'R']);let _0x409556;switch(_0x37b387){case _0x731756['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x409556='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x731756['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x409556='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x731756['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x409556='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x731756['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x409556='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x409556,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x409556+(',\x20render\x20t'+'arget:\x20')+_0x37eeb9['name']+'\x20'+_0xd0956f,_0x37eeb9);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x270f+0x1*-0x14a8+0x3bb7,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x2149+0x27+-0x6b*0x50),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0xb3*0x1b+0x75+0x126c),this['_isInitial'+'ized']=!(-0x22c8+0x15b1+0x1a3*0x8);}['internalRe'+'solve'](_0x5b8c51,_0x2ba37c,_0x46156d,_0x47e4f1,_0x188c92){v['assert'](_0x2ba37c!==_0x46156d,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x5b8c51['setScissor'](0x1*-0x243c+0x20aa+-0x392*-0x1,0x1*0x65b+0x59*0x15+-0xda8,_0x47e4f1['width'],_0x47e4f1['height']);const _0x3fc9f6=_0x5b8c51['gl'];_0x3fc9f6['bindFrameb'+'uffer'](_0x3fc9f6['READ_FRAME'+'BUFFER'],_0x2ba37c),_0x3fc9f6['bindFrameb'+'uffer'](_0x3fc9f6['DRAW_FRAME'+'BUFFER'],_0x46156d),_0x3fc9f6['blitFrameb'+'uffer'](-0x19b6+0x1*-0x11dd+-0x1e5*-0x17,-0x407+-0x1340+0x1747,_0x47e4f1['width'],_0x47e4f1['height'],0x46*-0x60+0x1*0x1807+0x239,0x18fb+-0x17f0+-0x10b*0x1,_0x47e4f1['width'],_0x47e4f1['height'],_0x188c92,_0x3fc9f6['NEAREST']);}['resolve'](_0xb9c730,_0xc7d6f2,_0x29712b,_0x2b46c1){const _0x176dbd=_0xb9c730['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x29712b)for(let _0xce3028=-0x3*0xde+-0x19*-0x16f+0x43*-0x7f;_0xce3028<this['colorMrtFr'+'amebuffers']['length'];_0xce3028++){const _0x2d51df=this['colorMrtFr'+'amebuffers'][_0xce3028];G['pushGpuMar'+'ker'](_0xb9c730,'RESOLVE-MR'+'T'+_0xce3028),this['internalRe'+'solve'](_0xb9c730,_0x2d51df['msaaFB'],_0x2d51df['resolveFB'],_0xc7d6f2,_0x176dbd['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0xb9c730);}_0x2b46c1&&(G['pushGpuMar'+'ker'](_0xb9c730,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0xb9c730,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0xc7d6f2,_0x176dbd['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0xb9c730));}else G['pushGpuMar'+'ker'](_0xb9c730,'RESOLVE'),this['internalRe'+'solve'](_0xb9c730,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0xc7d6f2,(_0x29712b?_0x176dbd['COLOR_BUFF'+'ER_BIT']:0x1f6e+-0x1*0xd93+0x7*-0x28d)|(_0x2b46c1?_0x176dbd['DEPTH_BUFF'+'ER_BIT']:0xe67+0x23c4+-0x322b)),G['popGpuMark'+'er'](_0xb9c730);_0x176dbd['bindFrameb'+'uffer'](_0x176dbd['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x361a39){this['queries']['forEach'](_0x160610=>_0x361a39['deleteQuer'+'y'](_0x160610)),this['queries']=null;}}class fb extends tb{constructor(_0x309fdb){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x309fdb,this['ext']=_0x309fdb['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x3884e2=>this['device']['gl']['deleteQuer'+'y'](_0x3884e2)),this['frameQueri'+'es']['forEach'](_0x2758aa=>this['device']['gl']['deleteQuer'+'y'](_0x2758aa)),this['previousFr'+'ameQueries']['forEach'](_0x22a793=>_0x22a793['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x1754a3){if(this['ext']){const _0x2e7d71=this['getSlot'](_0x1754a3),_0x25d573=this['getQuery']();return this['frameQueri'+'es'][_0x2e7d71]=_0x25d573,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x25d573),_0x2e7d71;}}['end'](_0x48a5aa){_0x48a5aa!==void(0x2d7*-0x7+0x1*0x1915+0x24*-0x25)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x3c0cdc=this['ext'],_0x4c99bd=this['device']['gl'],_0x23fb1b=this['device']['renderVers'+'ion'],_0xecddd2=this['frameQueri'+'es'];if(_0xecddd2['length']>-0x7*0x1cf+-0xb*-0x32c+-0x769*0x3){this['frameQueri'+'es']=[];const _0x5bdeeb=new ub();_0x5bdeeb['queries']=_0xecddd2,_0x5bdeeb['renderVers'+'ion']=_0x23fb1b,this['previousFr'+'ameQueries']['push'](_0x5bdeeb);}if(this['previousFr'+'ameQueries']['length']>-0x2076+0x1310+0xd66){const _0x285206=this['previousFr'+'ameQueries'][0x4*0x341+-0x1*0xd50+-0x4*-0x13],_0x2c54bb=_0x285206['queries'],_0x3a4d07=_0x2c54bb[_0x2c54bb['length']-(-0xc89+-0x116b+0x1df5*0x1)],_0x2357f4=_0x4c99bd['getQueryPa'+'rameter'](_0x3a4d07,_0x4c99bd['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x5d0bde=_0x4c99bd['getParamet'+'er'](_0x3c0cdc['GPU_DISJOI'+'NT_EXT']);if(_0x2357f4&&!_0x5d0bde){this['previousFr'+'ameQueries']['shift']();const _0x4c2980=this['timings'];_0x4c2980['length']=-0x67e*-0x1+0x31*-0xb5+-0x1c27*-0x1;for(let _0x32d8f8=0x1*0x177a+-0xd6*0xe+-0x1*0xbc6;_0x32d8f8<_0x2c54bb['length'];_0x32d8f8++){const _0x54f68b=_0x2c54bb[_0x32d8f8],_0x5f517d=_0x4c99bd['getQueryPa'+'rameter'](_0x54f68b,_0x4c99bd['QUERY_RESU'+'LT']);_0x4c2980[_0x32d8f8]=_0x5f517d*(-0xbc*-0x2a+0x101b+-0x2ef3+0.000001),this['freeQuerie'+'s']['push'](_0x54f68b);}this['report'](_0x285206['renderVers'+'ion'],_0x4c2980);}_0x5d0bde&&(this['previousFr'+'ameQueries']['forEach'](_0x37d09e=>{this['report'](_0x37d09e['renderVers'+'ion'],null),_0x37d09e['destroy'](_0x4c99bd);}),this['previousFr'+'ameQueries']['length']=-0x1ecc+-0x97c*-0x1+0x1550);}super['request'](_0x23fb1b);}}}const Tn=[];class pb extends Fh{constructor(_0x1b0011,_0x33dcb9={}){super(_0x1b0011,_0x33dcb9),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x2647*0x1+-0x9*-0x73+0x1*0x223d)),(_0x33dcb9=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x14e+-0x1979+-0x1ac8*-0x1),this['_contextLo'+'stHandler']=_0x6f5153=>{_0x6f5153['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x2e3ab7=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x2e3ab7&&_0x2e3ab7['includes']('AppleWebKi'+'t')&&(_0x2e3ab7['includes']('15.4')||_0x2e3ab7['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x33dcb9['antialias']=!(-0x1e5c+0x10c8+0xd95),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x937abe=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x580a5b=_0x937abe?_0x937abe[0x2*-0xbdf+0x2b6*-0x8+0x3*0xf25]:null;if(_0x580a5b){const _0x9373bf=parseFloat(_0x580a5b);(ye['name']==='windows'&&(_0x9373bf>=-0x62c*-0x5+0x24ef+0x5*-0xd77||_0x9373bf===0x3d8+0x11*0x18a+-0x1d8f)||ye['name']==='android'&&_0x9373bf>=-0x1245+0x2*0x1307+0x1345*-0x1)&&(_0x33dcb9['antialias']=!(0x2553+0x73*0x1+-0x125*0x21),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x580a5b));}}this['backBuffer'+'Antialias']=_0x33dcb9['antialias']??!(-0x2419+0x2*0xdb9+0x8a8),_0x33dcb9['antialias']=!(0x117f+-0x22b4+0x2*0x89b);const _0x4cf1f5=_0x33dcb9['gl']??_0x1b0011['getContext']('webgl2',_0x33dcb9);if(!_0x4cf1f5)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x4cf1f5,this['isWebGL2']=!(0xcfb+-0xd2e+0x1*0x33),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x532c76=ye['browserNam'+'e']==='chrome',_0x176ca0=ye['browserNam'+'e']==='safari',_0x234df5=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x1d86+-0x13f6+-0x98f);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x176ca0,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x234df5&&_0x532c76&&!_0x33dcb9['alpha'],_0x1b0011['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x25d+0x1365+-0x1*0x1107)),_0x1b0011['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x1ff0+-0x1030+0x14d*0x25)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x176ca0&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x4cf1f5['SAMPLER_2D'],_0x4cf1f5['SAMPLER_CU'+'BE'],_0x4cf1f5['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x4cf1f5['INT_SAMPLE'+'R_2D'],_0x4cf1f5['SAMPLER_2D'+'_SHADOW'],_0x4cf1f5['SAMPLER_CU'+'BE_SHADOW'],_0x4cf1f5['SAMPLER_3D'],_0x4cf1f5['INT_SAMPLE'+'R_3D'],_0x4cf1f5['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x4cf1f5['SAMPLER_2D'+'_ARRAY'],_0x4cf1f5['INT_SAMPLE'+'R_2D_ARRAY'],_0x4cf1f5['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x4cf1f5['REPEAT'],_0x4cf1f5['CLAMP_TO_E'+'DGE'],_0x4cf1f5['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x4cf1f5['FUNC_ADD'],_0x4cf1f5['FUNC_SUBTR'+'ACT'],_0x4cf1f5['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x4cf1f5['MIN'],_0x4cf1f5['MAX']],this['glBlendFun'+'ctionColor']=[_0x4cf1f5['ZERO'],_0x4cf1f5['ONE'],_0x4cf1f5['SRC_COLOR'],_0x4cf1f5['ONE_MINUS_'+'SRC_COLOR'],_0x4cf1f5['DST_COLOR'],_0x4cf1f5['ONE_MINUS_'+'DST_COLOR'],_0x4cf1f5['SRC_ALPHA'],_0x4cf1f5['SRC_ALPHA_'+'SATURATE'],_0x4cf1f5['ONE_MINUS_'+'SRC_ALPHA'],_0x4cf1f5['DST_ALPHA'],_0x4cf1f5['ONE_MINUS_'+'DST_ALPHA'],_0x4cf1f5['CONSTANT_C'+'OLOR'],_0x4cf1f5['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x4cf1f5['ZERO'],_0x4cf1f5['ONE'],_0x4cf1f5['SRC_COLOR'],_0x4cf1f5['ONE_MINUS_'+'SRC_COLOR'],_0x4cf1f5['DST_COLOR'],_0x4cf1f5['ONE_MINUS_'+'DST_COLOR'],_0x4cf1f5['SRC_ALPHA'],_0x4cf1f5['SRC_ALPHA_'+'SATURATE'],_0x4cf1f5['ONE_MINUS_'+'SRC_ALPHA'],_0x4cf1f5['DST_ALPHA'],_0x4cf1f5['ONE_MINUS_'+'DST_ALPHA'],_0x4cf1f5['CONSTANT_A'+'LPHA'],_0x4cf1f5['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x4cf1f5['NEVER'],_0x4cf1f5['LESS'],_0x4cf1f5['EQUAL'],_0x4cf1f5['LEQUAL'],_0x4cf1f5['GREATER'],_0x4cf1f5['NOTEQUAL'],_0x4cf1f5['GEQUAL'],_0x4cf1f5['ALWAYS']],this['glStencilO'+'p']=[_0x4cf1f5['KEEP'],_0x4cf1f5['ZERO'],_0x4cf1f5['REPLACE'],_0x4cf1f5['INCR'],_0x4cf1f5['INCR_WRAP'],_0x4cf1f5['DECR'],_0x4cf1f5['DECR_WRAP'],_0x4cf1f5['INVERT']],this['glClearFla'+'g']=[-0x13a0+0x2518+-0x1178,_0x4cf1f5['COLOR_BUFF'+'ER_BIT'],_0x4cf1f5['DEPTH_BUFF'+'ER_BIT'],_0x4cf1f5['COLOR_BUFF'+'ER_BIT']|_0x4cf1f5['DEPTH_BUFF'+'ER_BIT'],_0x4cf1f5['STENCIL_BU'+'FFER_BIT'],_0x4cf1f5['STENCIL_BU'+'FFER_BIT']|_0x4cf1f5['COLOR_BUFF'+'ER_BIT'],_0x4cf1f5['STENCIL_BU'+'FFER_BIT']|_0x4cf1f5['DEPTH_BUFF'+'ER_BIT'],_0x4cf1f5['STENCIL_BU'+'FFER_BIT']|_0x4cf1f5['COLOR_BUFF'+'ER_BIT']|_0x4cf1f5['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x7aa*0x1+0x12cd+0x1*-0xb23,_0x4cf1f5['BACK'],_0x4cf1f5['FRONT'],_0x4cf1f5['FRONT_AND_'+'BACK']],this['glFilter']=[_0x4cf1f5['NEAREST'],_0x4cf1f5['LINEAR'],_0x4cf1f5['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x4cf1f5['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x4cf1f5['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x4cf1f5['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x4cf1f5['POINTS'],_0x4cf1f5['LINES'],_0x4cf1f5['LINE_LOOP'],_0x4cf1f5['LINE_STRIP'],_0x4cf1f5['TRIANGLES'],_0x4cf1f5['TRIANGLE_S'+'TRIP'],_0x4cf1f5['TRIANGLE_F'+'AN']],this['glType']=[_0x4cf1f5['BYTE'],_0x4cf1f5['UNSIGNED_B'+'YTE'],_0x4cf1f5['SHORT'],_0x4cf1f5['UNSIGNED_S'+'HORT'],_0x4cf1f5['INT'],_0x4cf1f5['UNSIGNED_I'+'NT'],_0x4cf1f5['FLOAT'],_0x4cf1f5['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x4cf1f5['BOOL']]=ca,this['pcUniformT'+'ype'][_0x4cf1f5['INT']]=ln,this['pcUniformT'+'ype'][_0x4cf1f5['FLOAT']]=Ws,this['pcUniformT'+'ype'][_0x4cf1f5['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x4cf1f5['FLOAT_VEC3']]=Wt,this['pcUniformT'+'ype'][_0x4cf1f5['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x4cf1f5['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x4cf1f5['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x4cf1f5['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x4cf1f5['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x4cf1f5['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x4cf1f5['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x4cf1f5['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x4cf1f5['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x4cf1f5['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x4cf1f5['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x4cf1f5['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x4cf1f5['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x4cf1f5['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x4cf1f5['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x4cf1f5['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x4cf1f5['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x4cf1f5['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x4cf1f5['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x4cf1f5['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x4cf1f5['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x4cf1f5['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x4cf1f5['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x4cf1f5['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x4cf1f5['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x4cf1f5['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x4cf1f5['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x4cf1f5['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x4cf1f5['TEXTURE_2D']]=0x24c8+-0x1086+-0x2*0xa21,this['targetToSl'+'ot'][_0x4cf1f5['TEXTURE_CU'+'BE_MAP']]=0x1213+0x2507*-0x1+0x12f5,this['targetToSl'+'ot'][_0x4cf1f5['TEXTURE_3D']]=-0xfe3+0x15ce+-0x5e9;let _0x2d7820,_0x122188,_0x597f9a,_0x30c43a,_0x2b9405;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x2e8106,_0x57136f){_0x2e8106['value']!==_0x57136f&&(_0x4cf1f5['uniform1i'](_0x2e8106['locationId'],_0x57136f),_0x2e8106['value']=_0x57136f);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][Ws]=function(_0x37471c,_0x3d7b2f){_0x37471c['value']!==_0x3d7b2f&&(_0x4cf1f5['uniform1f'](_0x37471c['locationId'],_0x3d7b2f),_0x37471c['value']=_0x3d7b2f);},this['commitFunc'+'tion'][or]=function(_0x126a9f,_0x66195d){_0x2b9405=_0x126a9f['value'],_0x2d7820=_0x66195d[0x23d2+-0x101f*-0x1+-0x33f1],_0x122188=_0x66195d[-0x9a8+-0x23ec+-0x1*-0x2d95],(_0x2b9405[0x1b59+-0x1*0x1413+0x2*-0x3a3]!==_0x2d7820||_0x2b9405[-0x305*0xa+0x96*-0x2b+0x3765]!==_0x122188)&&(_0x4cf1f5['uniform2fv'](_0x126a9f['locationId'],_0x66195d),_0x2b9405[-0x5*0x671+0x17de+0x23*0x3d]=_0x2d7820,_0x2b9405[0x19f3+-0x14e*0x5+-0x4db*0x4]=_0x122188);},this['commitFunc'+'tion'][Wt]=function(_0x79cf23,_0x3257d1){_0x2b9405=_0x79cf23['value'],_0x2d7820=_0x3257d1[0x143+0x15*0xa+-0x215],_0x122188=_0x3257d1[-0x2f9*0xb+-0x4c4+0x1*0x2578],_0x597f9a=_0x3257d1[-0x191e+-0x21d1+0x3af1],(_0x2b9405[-0x245a+0x589+0x1ed1]!==_0x2d7820||_0x2b9405[0x3b7+-0xbcb+0x815]!==_0x122188||_0x2b9405[0x11b*-0x10+-0x1*-0x1d83+-0x5*0x25d]!==_0x597f9a)&&(_0x4cf1f5['uniform3fv'](_0x79cf23['locationId'],_0x3257d1),_0x2b9405[-0x1*0x21a7+0x240b+-0x264]=_0x2d7820,_0x2b9405[0x317*0x8+-0x50a+-0xdb*0x17]=_0x122188,_0x2b9405[-0x1b62+0x1c4+-0x148*-0x14]=_0x597f9a);},this['commitFunc'+'tion'][xa]=function(_0xea86c,_0x4dc03d){_0x2b9405=_0xea86c['value'],_0x2d7820=_0x4dc03d[0x11ed+0x5b7*-0x5+-0x1d*-0x5e],_0x122188=_0x4dc03d[0xce9+-0x1ac7+0xddf],_0x597f9a=_0x4dc03d[0x357+0xaec+-0xe41],_0x30c43a=_0x4dc03d[0xae0+0x1599+-0x2076],(_0x2b9405[0x1*-0x1dae+-0x1ee5+-0x6bb*-0x9]!==_0x2d7820||_0x2b9405[0x24f0+-0x24f4+0x5]!==_0x122188||_0x2b9405[-0x25f4+-0x331*0x8+0x3f7e]!==_0x597f9a||_0x2b9405[0x5e3+-0x1be6+-0xb03*-0x2]!==_0x30c43a)&&(_0x4cf1f5['uniform4fv'](_0xea86c['locationId'],_0x4dc03d),_0x2b9405[-0x14dc+0xc1*0x12+-0x2*-0x3a5]=_0x2d7820,_0x2b9405[0x2625+0xdc5*0x1+0x89*-0x61]=_0x122188,_0x2b9405[-0x79*0x22+0x3*-0xc2d+0x349b]=_0x597f9a,_0x2b9405[0x1*0x5a7+0x1*0x29d+-0x841]=_0x30c43a);},this['commitFunc'+'tion'][Zr]=function(_0x396907,_0x2840c0){_0x2b9405=_0x396907['value'],_0x2d7820=_0x2840c0[0x1149+0xb15*0x2+-0x2773],_0x122188=_0x2840c0[-0x20f7+0x4cf*0x3+-0x1*-0x128b],(_0x2b9405[-0x7*-0x2c8+-0x1*-0x2485+-0x37fd]!==_0x2d7820||_0x2b9405[0x2708+0x1ff6+-0x46fd]!==_0x122188)&&(_0x4cf1f5['uniform2iv'](_0x396907['locationId'],_0x2840c0),_0x2b9405[-0x1*-0x107+-0xb3*0x1+0x3*-0x1c]=_0x2d7820,_0x2b9405[0x51d+0x7da+-0xcf6]=_0x122188);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x425dea,_0x31f6d3){_0x2b9405=_0x425dea['value'],_0x2d7820=_0x31f6d3[0x24cd+0x2*-0xb45+-0xe43],_0x122188=_0x31f6d3[-0x49*-0x77+-0x166b+-0xb83],_0x597f9a=_0x31f6d3[-0xaec+0x3*-0x6a5+0x1edd],(_0x2b9405[-0x12b*-0x4+-0x5*-0xdf+-0x1*0x907]!==_0x2d7820||_0x2b9405[0x635+0x239*0x4+-0xf18]!==_0x122188||_0x2b9405[-0x1cae+0x4a3+0x180d]!==_0x597f9a)&&(_0x4cf1f5['uniform3iv'](_0x425dea['locationId'],_0x31f6d3),_0x2b9405[0x1416+0x360+-0x7*0x35a]=_0x2d7820,_0x2b9405[-0x17c5+-0x1639+0x933*0x5]=_0x122188,_0x2b9405[0x2*0x38c+0x817+-0xf2d]=_0x597f9a);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x2bca41,_0x367b15){_0x2b9405=_0x2bca41['value'],_0x2d7820=_0x367b15[0x34*0x22+0x2593+-0x2c7b],_0x122188=_0x367b15[0x3*0xc11+0x2258+-0x1*0x468a],_0x597f9a=_0x367b15[0x2235+-0x43*0x50+-0xd43],_0x30c43a=_0x367b15[0x1*-0x1737+0x227*0xd+-0x4c1],(_0x2b9405[0x1d20+0xcb*0x2d+-0x40cf]!==_0x2d7820||_0x2b9405[0x65*-0x39+-0x1d20+0x339e]!==_0x122188||_0x2b9405[-0xab9+0xd4e+-0x293*0x1]!==_0x597f9a||_0x2b9405[-0x3*-0x7f9+-0x10*0x1e7+0x688]!==_0x30c43a)&&(_0x4cf1f5['uniform4iv'](_0x2bca41['locationId'],_0x367b15),_0x2b9405[0xa41+-0x1780+0x1*0xd3f]=_0x2d7820,_0x2b9405[0x27*0xf1+0x12*-0x196+0xbe*-0xb]=_0x122188,_0x2b9405[-0x5d7+-0x1*0x19dd+0x12*0x1c3]=_0x597f9a,_0x2b9405[0xa70+-0x1386+0x919*0x1]=_0x30c43a);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0xb69a5c,_0x463c49){_0x4cf1f5['uniformMat'+'rix2fv'](_0xb69a5c['locationId'],!(-0x1640+0xf98+-0x6a9*-0x1),_0x463c49);},this['commitFunc'+'tion'][ko]=function(_0x55acfc,_0x44a436){_0x4cf1f5['uniformMat'+'rix3fv'](_0x55acfc['locationId'],!(-0x11*0x8f+-0x29c*-0x1+0x6e4),_0x44a436);},this['commitFunc'+'tion'][Sa]=function(_0x29660b,_0x2485da){_0x4cf1f5['uniformMat'+'rix4fv'](_0x29660b['locationId'],!(0x1*0x1b09+-0x206d+0x565),_0x2485da);},this['commitFunc'+'tion'][Dc]=function(_0x5e1ee5,_0x2c0035){_0x4cf1f5['uniform1fv'](_0x5e1ee5['locationId'],_0x2c0035);},this['commitFunc'+'tion'][Lc]=function(_0x131e61,_0x37e570){_0x4cf1f5['uniform2fv'](_0x131e61['locationId'],_0x37e570);},this['commitFunc'+'tion'][Fc]=function(_0x5dd5a1,_0x1bffb7){_0x4cf1f5['uniform3fv'](_0x5dd5a1['locationId'],_0x1bffb7);},this['commitFunc'+'tion'][lp]=function(_0x4bdda,_0x4b4110){_0x4cf1f5['uniform4fv'](_0x4bdda['locationId'],_0x4b4110);},this['commitFunc'+'tion'][va]=function(_0x2852a6,_0x544732){_0x2852a6['value']!==_0x544732&&(_0x4cf1f5['uniform1ui'](_0x2852a6['locationId'],_0x544732),_0x2852a6['value']=_0x544732);},this['commitFunc'+'tion'][ba]=function(_0x2bf39d,_0x410a8c){_0x2b9405=_0x2bf39d['value'],_0x2d7820=_0x410a8c[0x16ba+0x3*0x4cb+0x1*-0x251b],_0x122188=_0x410a8c[-0x71d+-0x7*0x4b7+0x281f],(_0x2b9405[-0x1b01+-0x9f*-0x11+0x1072*0x1]!==_0x2d7820||_0x2b9405[0xba7*0x1+0x21d1+0x67*-0x71]!==_0x122188)&&(_0x4cf1f5['uniform2ui'+'v'](_0x2bf39d['locationId'],_0x410a8c),_0x2b9405[-0xec2*-0x2+0x63*-0x3+-0x3d*0x77]=_0x2d7820,_0x2b9405[0x125f+-0xd*-0x5e+-0x5c9*0x4]=_0x122188);},this['commitFunc'+'tion'][wa]=function(_0x5f0091,_0x55f334){_0x2b9405=_0x5f0091['value'],_0x2d7820=_0x55f334[0x1*-0x23dd+0x8*-0x197+0x3095],_0x122188=_0x55f334[-0x7f*-0x7+-0x2*-0x28f+-0x7*0x13a],_0x597f9a=_0x55f334[0x1*0x254b+-0xf*0x71+-0x1eaa],(_0x2b9405[0x1c10+0x1418+-0x10c*0x2e]!==_0x2d7820||_0x2b9405[0x7b+-0x62*-0x5+-0x22*0x12]!==_0x122188||_0x2b9405[-0x2e0+0xaff+0x1f*-0x43]!==_0x597f9a)&&(_0x4cf1f5['uniform3ui'+'v'](_0x5f0091['locationId'],_0x55f334),_0x2b9405[-0x41b*-0x9+-0x5e*0x1d+-0x1a4d]=_0x2d7820,_0x2b9405[-0x2*-0x72e+-0x2289+-0x15*-0xf6]=_0x122188,_0x2b9405[-0x1b07+-0x2405+0x3f0e]=_0x597f9a);},this['commitFunc'+'tion'][Ta]=function(_0x2f7aac,_0x281d06){_0x2b9405=_0x2f7aac['value'],_0x2d7820=_0x281d06[-0x13*-0x182+0x68+-0x1d0e*0x1],_0x122188=_0x281d06[0x5*-0x17b+-0x1d10+0x2478],_0x597f9a=_0x281d06[-0x557+-0x8c1+0x2*0x70d],_0x30c43a=_0x281d06[0xc*0x2a5+0x12ec+-0x32a5],(_0x2b9405[-0x1*-0x150b+-0x3*-0x4b1+0x9b*-0x3a]!==_0x2d7820||_0x2b9405[-0x601*-0x5+-0x172*0xc+-0xcac]!==_0x122188||_0x2b9405[-0x1ae5+-0x12f2*0x2+0x733*0x9]!==_0x597f9a||_0x2b9405[0xe68+0xcb*-0x19+0x56e]!==_0x30c43a)&&(_0x4cf1f5['uniform4ui'+'v'](_0x2f7aac['locationId'],_0x281d06),_0x2b9405[-0x20e*0x2+0x776+-0xb*0x4e]=_0x2d7820,_0x2b9405[0xed1+0x7*0x9f+-0x6d*0x2d]=_0x122188,_0x2b9405[-0xf3*0x1b+-0xbda+-0x3*-0xc7f]=_0x597f9a,_0x2b9405[0x1*-0x1ed+-0x3df*0x6+0x192a]=_0x30c43a);},this['commitFunc'+'tion'][Aa]=function(_0x4eed0a,_0x365aec){_0x4cf1f5['uniform1iv'](_0x4eed0a['locationId'],_0x365aec);},this['commitFunc'+'tion'][Oc]=function(_0x266fb9,_0x38ea05){_0x4cf1f5['uniform1ui'+'v'](_0x266fb9['locationId'],_0x38ea05);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0x349d83,_0x23b66c){_0x4cf1f5['uniform2iv'](_0x349d83['locationId'],_0x23b66c);},this['commitFunc'+'tion'][Bc]=function(_0x137fe3,_0x3b26ba){_0x4cf1f5['uniform2ui'+'v'](_0x137fe3['locationId'],_0x3b26ba);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x3b793c,_0x14d429){_0x4cf1f5['uniform3iv'](_0x3b793c['locationId'],_0x14d429);},this['commitFunc'+'tion'][zc]=function(_0x255fef,_0x57258c){_0x4cf1f5['uniform3ui'+'v'](_0x255fef['locationId'],_0x57258c);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0x22fccb,_0x4cf919){_0x4cf1f5['uniform4iv'](_0x22fccb['locationId'],_0x4cf919);},this['commitFunc'+'tion'][hp]=function(_0x18f92b,_0x46198b){_0x4cf1f5['uniform4ui'+'v'](_0x18f92b['locationId'],_0x46198b);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x88b5b9,_0x297b71){_0x4cf1f5['uniformMat'+'rix4fv'](_0x88b5b9['locationId'],!(0x8fd+0x9c3+-0x12bf),_0x297b71);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x1982e3=this['gl'];this['feedback']&&_0x1982e3['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x27*-0xdb+0x113e+-0x204*-0x8)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x1f58+0x23c2+-0x4319)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x1cf8a0){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x1cf8a0;}['updateBack'+'bufferForm'+'at'](_0x1d4e7e){const _0x3ab496=this['gl'];_0x3ab496['bindFrameb'+'uffer'](_0x3ab496['FRAMEBUFFE'+'R'],_0x1d4e7e);const _0x584a5f=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x584a5f?Se:dr;}['updateBack'+'buffer'](){const _0x3744c8=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x3744c8)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0xc1*0x7+-0x3*0x12f+0x8d5),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x32b5ec,_0x1762f5){return new sb();}['createInde'+'xBufferImp'+'l'](_0x18d573){return new ib(_0x18d573);}['createShad'+'erImpl'](_0x3653b3){return new lb(_0x3653b3);}['createText'+'ureImpl'](_0x391920){return new hb(_0x391920);}['createRend'+'erTargetIm'+'pl'](_0x4dafd4){return new db();}['pushMarker'](_0x472d4d){if(ye['browser']&&window['spector']){const _0x522284=G['toString']();window['spector']['setMarker'](_0x522284+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x39cb17=G['toString']();_0x39cb17['length']?window['spector']['setMarker'](_0x39cb17+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x19b9d0=this['gl'];let _0x311dc6='highp';if(_0x19b9d0['getShaderP'+'recisionFo'+'rmat']){const _0x5ec732=_0x19b9d0['getShaderP'+'recisionFo'+'rmat'](_0x19b9d0['VERTEX_SHA'+'DER'],_0x19b9d0['HIGH_FLOAT']),_0x1e604f=_0x19b9d0['getShaderP'+'recisionFo'+'rmat'](_0x19b9d0['VERTEX_SHA'+'DER'],_0x19b9d0['MEDIUM_FLO'+'AT']),_0x85219a=_0x19b9d0['getShaderP'+'recisionFo'+'rmat'](_0x19b9d0['FRAGMENT_S'+'HADER'],_0x19b9d0['HIGH_FLOAT']),_0x2e9183=_0x19b9d0['getShaderP'+'recisionFo'+'rmat'](_0x19b9d0['FRAGMENT_S'+'HADER'],_0x19b9d0['MEDIUM_FLO'+'AT']);if(_0x5ec732&&_0x1e604f&&_0x85219a&&_0x2e9183){const _0x4ba7c1=_0x5ec732['precision']>-0xe*0x155+0x1975+-0x6cf&&_0x85219a['precision']>0x19c*0x15+0x9*-0x5+0xb35*-0x3,_0x4e0fc7=_0x1e604f['precision']>-0x25d3+-0x1*0x10d5+0x36a8&&_0x2e9183['precision']>-0x763+-0x1e21+0x62*0x62;_0x4ba7c1||(_0x4e0fc7?(_0x311dc6='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x311dc6='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x311dc6;}['getExtensi'+'on'](){for(let _0x2d3871=0x1433+0x20+-0x1453;_0x2d3871<arguments['length'];_0x2d3871++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x2d3871])!==-(-0x12b8+-0x1da+-0xe5*-0x17))return this['gl']['getExtensi'+'on'](arguments[_0x2d3871]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x4e2d83=this['gl'];this['supportedE'+'xtensions']=_0x4e2d83['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x397*0x3+0xfd9+-0x514),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x4393c3=this['gl'];let _0x1def35;const _0x34da2c=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x2df312=_0x4393c3['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x2df312==null?void(0x2315+-0x180d+-0xb08):_0x2df312['antialias'])??!(0x9*0x3e5+0x21ed+-0x44f9),this['supportsSt'+'encil']=(_0x2df312==null?void(-0x6*-0x641+-0x70+-0xca*0x2f):_0x2df312['stencil'])??!(0x175c+0x255b+-0x3cb6),this['maxTexture'+'Size']=_0x4393c3['getParamet'+'er'](_0x4393c3['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x4393c3['getParamet'+'er'](_0x4393c3['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x4393c3['getParamet'+'er'](_0x4393c3['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x4393c3['getParamet'+'er'](_0x4393c3['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x4393c3['getParamet'+'er'](_0x4393c3['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x4393c3['getParamet'+'er'](_0x4393c3['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x4393c3['getParamet'+'er'](_0x4393c3['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x4393c3['getParamet'+'er'](_0x4393c3['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x4393c3['getParamet'+'er'](_0x4393c3['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x4393c3['getParamet'+'er'](_0x4393c3['MAX_3D_TEX'+'TURE_SIZE']),_0x1def35=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x1def35?_0x4393c3['getParamet'+'er'](_0x1def35['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x1def35?_0x4393c3['getParamet'+'er'](_0x1def35['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x132fa9=/\bMali-G52+/,_0x28502a=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x34da2c['match'](_0x28502a))&&!this['unmaskedRe'+'nderer']['match'](_0x132fa9),_0x1def35=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x1def35?_0x4393c3['getParamet'+'er'](_0x1def35['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x42e*0x8+-0x1315+-0x36*-0xf9;const _0x1aa4f2=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x1aa4f2?_0x4393c3['getParamet'+'er'](_0x4393c3['MAX_SAMPLE'+'S']):-0x2*-0x3db+0x1858+0x5*-0x669,this['maxSamples']=Math['min'](this['maxSamples'],-0x17f1+0x1424*-0x1+0x2c19),this['samples']=_0x1aa4f2&&this['backBuffer'+'Antialias']?this['maxSamples']:0x22*0xda+-0x23f3*0x1+-0x10*-0x70,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=0x1*0x1ba3+0x15*-0x10d+-0x58a*0x1&&(this['supportsAr'+'eaLights']=!(-0x423+0x1c65+-0x1841));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x54eae7=this['gl'];_0x54eae7['disable'](_0x54eae7['BLEND']),_0x54eae7['blendFunc'](_0x54eae7['ONE'],_0x54eae7['ZERO']),_0x54eae7['blendEquat'+'ion'](_0x54eae7['FUNC_ADD']),_0x54eae7['colorMask'](!(0x16b6+0x1b9b+-0x3251),!(0x103*0x17+-0x19f9*-0x1+-0x42*0xbf),!(0x206e+-0xcdc*-0x3+-0x4702),!(0x689*-0x1+-0x39d*-0x6+-0xf25)),_0x54eae7['blendColor'](-0x2*0x761+0x1*0x76e+0x1d5*0x4,-0x7e4+0xb2c+-0x348,0x25b0+-0x25*-0xb3+-0x3f8f,-0xb2c+-0x5*0x56b+0x1*0x2643),_0x54eae7['enable'](_0x54eae7['CULL_FACE']),this['cullFace']=_0x54eae7['BACK'],_0x54eae7['cullFace'](_0x54eae7['BACK']),_0x54eae7['enable'](_0x54eae7['DEPTH_TEST']),_0x54eae7['depthFunc'](_0x54eae7['LEQUAL']),_0x54eae7['depthMask'](!(-0x9e*0x1+0x448+0xe*-0x43)),this['stencil']=!(0x661*-0x4+0x1034+-0x5*-0x1dd),_0x54eae7['disable'](_0x54eae7['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0xffc+-0x921+-0x6db,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x2*0x1285+0x2ad*-0x3+0x2e10,_0x54eae7['stencilFun'+'c'](_0x54eae7['ALWAYS'],0x1f59+-0xbd8*-0x1+-0x2b31,0x1*0x1e39+0xa08+-0x2742),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=-0xe2a+-0x1ff6+0x2f1f,this['stencilWri'+'teMaskBack']=0x1*0x715+-0x45*-0x25+-0x100f,_0x54eae7['stencilOp'](_0x54eae7['KEEP'],_0x54eae7['KEEP'],_0x54eae7['KEEP']),_0x54eae7['stencilMas'+'k'](-0x691+0x89*0x2f+0x5dd*-0x3),this['alphaToCov'+'erage']=!(-0x10a*0xc+0x1358+-0x6df),this['raster']=!(-0x28*0x7c+0xaab+0x8b5),_0x54eae7['disable'](_0x54eae7['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x54eae7['disable'](_0x54eae7['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x2*0x11ab+-0xa52+-0x1903*0x1),_0x54eae7['disable'](_0x54eae7['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0x153b+-0x1148+-0x3da*-0xa,_0x54eae7['clearDepth'](0x20d2*-0x1+-0x1*-0x234e+-0x27b),this['clearColor']=new Y(0x5*0x9e+-0x2e*0xd5+0x2330,-0x611+-0x2e*0x19+-0x9f*-0x11,-0x1481*-0x1+0x20*0x94+-0x2701,-0x1*-0x2156+-0x1829+-0x92d),_0x54eae7['clearColor'](0x2048*-0x1+0x17ab+0x89d,0x1e99*-0x1+-0x41f+0x1*0x22b8,-0x19ad+-0xb52+0x7*0x549,-0x69b+-0x15*0x13d+0x209c*0x1),this['clearStenc'+'il']=0x6e*-0x24+-0xe*0xeb+0xfa*0x1d,_0x54eae7['clearStenc'+'il'](0x1b7*0x1+0xa49+0x8*-0x180),_0x54eae7['hint'](_0x54eae7['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x54eae7['NICEST']),_0x54eae7['enable'](_0x54eae7['SCISSOR_TE'+'ST']),_0x54eae7['pixelStore'+'i'](_0x54eae7['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x54eae7['NONE']),this['unpackFlip'+'Y']=!(-0x1b89+0x8ae*0x4+-0x72e),_0x54eae7['pixelStore'+'i'](_0x54eae7['UNPACK_FLI'+'P_Y_WEBGL'],!(0x5*0xdd+0xda5+-0x11f5)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x20*-0x65+0x1c9*-0xd+-0x42*-0x8b),_0x54eae7['pixelStore'+'i'](_0x54eae7['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0x5e7*0x5+-0x3*0xa6f+-0x3cd1*-0x1)),_0x54eae7['pixelStore'+'i'](_0x54eae7['UNPACK_ALI'+'GNMENT'],-0xe3*0x16+-0x2e*0x48+0x27f*0xd);}['initTextur'+'eUnits'](_0x2d4967=-0x83*-0xf+0x8c2+-0x105f){this['textureUni'+'ts']=[];for(let _0x1f3dac=0x6d2*0x4+0x19d4+-0x351c;_0x1f3dac<_0x2d4967;_0x1f3dac++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x7aa*0x1+-0x1*-0x915+0x3*-0x595,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x527391 of this['shaders'])_0x527391['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x332bee of this['shaders'])_0x332bee['restoreCon'+'text']();}['setViewpor'+'t'](_0x502072,_0x362eac,_0x3a9c95,_0x331511){(this['vx']!==_0x502072||this['vy']!==_0x362eac||this['vw']!==_0x3a9c95||this['vh']!==_0x331511)&&(this['gl']['viewport'](_0x502072,_0x362eac,_0x3a9c95,_0x331511),this['vx']=_0x502072,this['vy']=_0x362eac,this['vw']=_0x3a9c95,this['vh']=_0x331511);}['setScissor'](_0x558ac1,_0x3493ce,_0x4da805,_0x50c071){(this['sx']!==_0x558ac1||this['sy']!==_0x3493ce||this['sw']!==_0x4da805||this['sh']!==_0x50c071)&&(this['gl']['scissor'](_0x558ac1,_0x3493ce,_0x4da805,_0x50c071),this['sx']=_0x558ac1,this['sy']=_0x3493ce,this['sw']=_0x4da805,this['sh']=_0x50c071);}['setFramebu'+'ffer'](_0x47085c){if(this['activeFram'+'ebuffer']!==_0x47085c){const _0x372705=this['gl'];_0x372705['bindFrameb'+'uffer'](_0x372705['FRAMEBUFFE'+'R'],_0x47085c),this['activeFram'+'ebuffer']=_0x47085c;}}['copyRender'+'Target'](_0x4e81b8,_0x4a5412,_0x23b57b,_0x4cf09e){var _0x1b0e0e,_0x2a8d40;const _0x310493=this['gl'];if(_0x4e81b8===this['backBuffer']&&(_0x4e81b8=null),_0x23b57b){if(_0x4a5412){if(_0x4e81b8){if(!_0x4e81b8['_colorBuff'+'er']||!_0x4a5412['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x2298+0xf05+-0xfe*0x32);if(_0x4e81b8['_colorBuff'+'er']['_format']!==_0x4a5412['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x1*0x7cc+0x96c+-0x19f);}}else{if(!_0x4e81b8['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0xa3*0x16+-0x904+0x1707);}}if(_0x4cf09e&&_0x4e81b8&&!_0x4e81b8['_depth']){if(!_0x4e81b8['_depthBuff'+'er']||!_0x4a5412['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x18ae+0x1*-0xed1+0x2780);if(_0x4e81b8['_depthBuff'+'er']['_format']!==_0x4a5412['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x1797+-0x7*-0x71+-0x1aad);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x359373=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x4a5412,this['updateBegi'+'n']();const _0x46a4e9=_0x4e81b8?_0x4e81b8['impl']['_glFrameBu'+'ffer']:(_0x1b0e0e=this['backBuffer'])==null?void(0x6b8+-0x1727+-0x259*-0x7):_0x1b0e0e['impl']['_glFrameBu'+'ffer'],_0x266344=_0x4a5412?_0x4a5412['impl']['_glFrameBu'+'ffer']:(_0x2a8d40=this['backBuffer'])==null?void(-0x12f6*0x2+0x1bfa+0x9f2):_0x2a8d40['impl']['_glFrameBu'+'ffer'];v['assert'](_0x46a4e9!==_0x266344,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x310493['bindFrameb'+'uffer'](_0x310493['READ_FRAME'+'BUFFER'],_0x46a4e9),_0x310493['bindFrameb'+'uffer'](_0x310493['DRAW_FRAME'+'BUFFER'],_0x266344);const _0x24cc49=_0x4e81b8?_0x4e81b8['width']:_0x4a5412?_0x4a5412['width']:this['width'],_0x1ca089=_0x4e81b8?_0x4e81b8['height']:_0x4a5412?_0x4a5412['height']:this['height'];return _0x310493['blitFrameb'+'uffer'](0x383+0x2*0xc56+-0x3*0x965,-0x2543*-0x1+0x1*-0x6ed+-0x2*0xf2b,_0x24cc49,_0x1ca089,0xcf*-0x3+0xb92+-0x925,0x8*0x4d8+-0x29*0x13+-0x23b5,_0x24cc49,_0x1ca089,(_0x23b57b?_0x310493['COLOR_BUFF'+'ER_BIT']:0xa31+-0xc8+-0x969)|(_0x4cf09e?_0x310493['DEPTH_BUFF'+'ER_BIT']:-0x6*-0x2e4+-0x2*0xda5+-0x86*-0x13),_0x310493['NEAREST']),this['renderTarg'+'et']=_0x359373,_0x310493['bindFrameb'+'uffer'](_0x310493['FRAMEBUFFE'+'R'],_0x359373?_0x359373['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(0x4*-0x3f1+-0x813+0x17d7);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x29d2ec){const _0x2dcbcd=_0x29d2ec['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x2dcbcd,v['assert'](_0x2dcbcd),G['pushGpuMar'+'ker'](this,'Pass:'+_0x29d2ec['name']+'\x20RT:'+_0x2dcbcd['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x1d3593,height:_0x521234}=_0x2dcbcd;this['setViewpor'+'t'](-0x6*-0xfb+-0x64d*-0x5+0x2563*-0x1,0x2*-0x90c+-0xa8b+0x1*0x1ca3,_0x1d3593,_0x521234),this['setScissor'](-0x160f+-0x227a+-0x29*-0x161,0x19dd+0x249c+0x9*-0x6f1,_0x1d3593,_0x521234);const _0x363860=_0x29d2ec['colorOps'],_0x20156f=_0x29d2ec['depthStenc'+'ilOps'];if(_0x363860!=null&&_0x363860['clear']||_0x20156f['clearDepth']||_0x20156f['clearStenc'+'il']){let _0x24a9e9=0x8f9*0x2+0x15f6+-0x27e8;const _0x36985a={};_0x363860!=null&&_0x363860['clear']&&(_0x24a9e9|=Co,_0x36985a['color']=[_0x363860['clearValue']['r'],_0x363860['clearValue']['g'],_0x363860['clearValue']['b'],_0x363860['clearValue']['a']]),_0x20156f['clearDepth']&&(_0x24a9e9|=Mo,_0x36985a['depth']=_0x20156f['clearDepth'+'Value']),_0x20156f['clearStenc'+'il']&&(_0x24a9e9|=Ah,_0x36985a['stencil']=_0x20156f['clearStenc'+'ilValue']),_0x36985a['flags']=_0x24a9e9,this['clear'](_0x36985a);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x22dc+-0x1b29*0x1+0x3e05),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0xbf92){var _0x220245;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x46f2fd=this['renderTarg'+'et'],_0x57b622=_0xbf92['colorArray'+'Ops']['length'];if(_0x46f2fd){Tn['length']=-0x14ee+0x5ba+0xf34;const _0x178bfd=this['gl'];for(let _0x2b9cc0=0x24e5+-0xcfe*0x1+-0x17e7;_0x2b9cc0<_0x57b622;_0x2b9cc0++){const _0x859cbf=_0xbf92['colorArray'+'Ops'][_0x2b9cc0];_0x859cbf['store']||_0x859cbf['resolve']||Tn['push'](_0x178bfd['COLOR_ATTA'+'CHMENT0']+_0x2b9cc0);}_0x46f2fd!==this['backBuffer']&&(_0xbf92['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0x178bfd['DEPTH_ATTA'+'CHMENT']),_0xbf92['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0x178bfd['STENCIL_AT'+'TACHMENT'])),Tn['length']>-0xa1c+0x2dd*-0x1+-0x3*-0x453&&_0xbf92['fullSizeCl'+'earRect']&&_0x178bfd['invalidate'+'Framebuffe'+'r'](_0x178bfd['DRAW_FRAME'+'BUFFER'],Tn),_0x57b622&&((_0x220245=_0xbf92['colorOps'])!=null&&_0x220245['resolve'])&&_0xbf92['samples']>-0x58f*-0x3+0x15ce+-0x32*0xc5&&_0x46f2fd['autoResolv'+'e']&&_0x46f2fd['resolve'](!(-0x1*-0x21b+-0x24+-0x1f7),!(0x5c0+-0x223*-0x11+-0x2a12)),_0x46f2fd['depthBuffe'+'r']&&_0xbf92['depthStenc'+'ilOps']['resolveDep'+'th']&&_0xbf92['samples']>0x4*-0x11b+0x1aee+-0x1681&&_0x46f2fd['autoResolv'+'e']&&_0x46f2fd['resolve'](!(-0x652+-0x9b9+0x1*0x100c),!(0x97*0x23+-0x157d*0x1+-0xd8*-0x1));for(let _0x434b5f=0x51e*0x5+-0x5*0x216+-0x8*0x1e5;_0x434b5f<_0x57b622;_0x434b5f++)if(_0xbf92['colorArray'+'Ops'][_0x434b5f]['genMipmaps']){const _0x311598=_0x46f2fd['_colorBuff'+'ers'][_0x434b5f];_0x311598&&_0x311598['impl']['_glTexture']&&_0x311598['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x434b5f),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x116+-0x163f+-0x3a*-0x67)),this['bindTextur'+'e'](_0x311598),this['gl']['generateMi'+'pmap'](_0x311598['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x1128+-0x1ca2+0x2dcb),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x10c47d){this['_defaultFr'+'amebuffer']!==_0x10c47d&&(this['_defaultFr'+'amebuffer']=_0x10c47d,this['_defaultFr'+'amebufferC'+'hanged']=!(0x132d+0x1f76+-0x57*0x95));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x3cf7d0=-0x5c*-0x3f+0x24e9+-0x3b8d;_0x3cf7d0<this['textureUni'+'ts']['length'];++_0x3cf7d0)for(let _0x451767=0x63*0x9+0x2*0x6e5+-0x1145;_0x451767<0x9ec+0x1*0x2349+-0x2*0x1699;++_0x451767)this['textureUni'+'ts'][_0x3cf7d0][_0x451767]=null;}const _0xd720a2=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0xd720a2);const _0x3c1f51=_0xd720a2['impl'];_0x3c1f51['initialize'+'d']||this['initRender'+'Target'](_0xd720a2),this['setFramebu'+'ffer'](_0x3c1f51['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x427982=this['renderTarg'+'et'];if(_0x427982&&_0x427982!==this['backBuffer']){_0x427982['_samples']>-0x111b+-0x295*-0xd+-0x1075&&_0x427982['autoResolv'+'e']&&_0x427982['resolve']();const _0x4b9027=_0x427982['_colorBuff'+'er'];_0x4b9027&&_0x4b9027['impl']['_glTexture']&&_0x4b9027['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1b53+0x13*0x83+0x3*-0xc59)),this['bindTextur'+'e'](_0x4b9027),this['gl']['generateMi'+'pmap'](_0x4b9027['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x51cc52){if(this['unpackFlip'+'Y']!==_0x51cc52){this['unpackFlip'+'Y']=_0x51cc52;const _0x4993d3=this['gl'];_0x4993d3['pixelStore'+'i'](_0x4993d3['UNPACK_FLI'+'P_Y_WEBGL'],_0x51cc52);}}['setUnpackP'+'remultiply'+'Alpha'](_0x1b4b18){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x1b4b18){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x1b4b18;const _0x46dc14=this['gl'];_0x46dc14['pixelStore'+'i'](_0x46dc14['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x1b4b18);}}['activeText'+'ure'](_0x4a99bc){this['textureUni'+'t']!==_0x4a99bc&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x4a99bc),this['textureUni'+'t']=_0x4a99bc);}['bindTextur'+'e'](_0x44a98c){const _0x3493cf=_0x44a98c['impl'],_0x33d1ed=_0x3493cf['_glTarget'],_0x30d1c7=_0x3493cf['_glTexture'],_0x1ddddf=this['textureUni'+'t'],_0x27ba58=this['targetToSl'+'ot'][_0x33d1ed];this['textureUni'+'ts'][_0x1ddddf][_0x27ba58]!==_0x30d1c7&&(this['gl']['bindTextur'+'e'](_0x33d1ed,_0x30d1c7),this['textureUni'+'ts'][_0x1ddddf][_0x27ba58]=_0x30d1c7);}['bindTextur'+'eOnUnit'](_0x832b76,_0x1c7751){const _0x310db0=_0x832b76['impl'],_0xc84443=_0x310db0['_glTarget'],_0x46348d=_0x310db0['_glTexture'],_0x1cfdfe=this['targetToSl'+'ot'][_0xc84443];this['textureUni'+'ts'][_0x1c7751][_0x1cfdfe]!==_0x46348d&&(this['activeText'+'ure'](_0x1c7751),this['gl']['bindTextur'+'e'](_0xc84443,_0x46348d),this['textureUni'+'ts'][_0x1c7751][_0x1cfdfe]=_0x46348d);}['setTexture'+'Parameters'](_0x4ff7f2){const _0x26b60c=this['gl'],_0x18aa9=_0x4ff7f2['impl']['dirtyParam'+'eterFlags'],_0x2fc91a=_0x4ff7f2['impl']['_glTarget'];if(_0x18aa9&zy){let _0x395c60=_0x4ff7f2['_minFilter'];(!_0x4ff7f2['_mipmaps']||_0x4ff7f2['_compresse'+'d']&&_0x4ff7f2['_levels']['length']===-0x3cb+0x13*0x1+0x1*0x3b9)&&(_0x395c60===fc||_0x395c60===pc?_0x395c60=de:(_0x395c60===mc||_0x395c60===nn)&&(_0x395c60=st)),_0x26b60c['texParamet'+'eri'](_0x2fc91a,_0x26b60c['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x395c60]);}if(_0x18aa9&Uy&&_0x26b60c['texParamet'+'eri'](_0x2fc91a,_0x26b60c['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x4ff7f2['_magFilter']]),_0x18aa9&Vy&&_0x26b60c['texParamet'+'eri'](_0x2fc91a,_0x26b60c['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x4ff7f2['_addressU']]),_0x18aa9&Gy&&_0x26b60c['texParamet'+'eri'](_0x2fc91a,_0x26b60c['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x4ff7f2['_addressV']]),_0x18aa9&Hy&&_0x26b60c['texParamet'+'eri'](_0x2fc91a,_0x26b60c['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x4ff7f2['_addressW']]),_0x18aa9&$y&&_0x26b60c['texParamet'+'eri'](_0x2fc91a,_0x26b60c['TEXTURE_CO'+'MPARE_MODE'],_0x4ff7f2['_compareOn'+'Read']?_0x26b60c['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x26b60c['NONE']),_0x18aa9&Wy&&_0x26b60c['texParamet'+'eri'](_0x2fc91a,_0x26b60c['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x4ff7f2['_compareFu'+'nc']]),_0x18aa9&qy){const _0x7f6556=this['extTexture'+'FilterAnis'+'otropic'];_0x7f6556&&_0x26b60c['texParamet'+'erf'](_0x2fc91a,_0x7f6556['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x4ff7f2['_anisotrop'+'y']),0x1f*-0xf4+0x26af+-0x2*0x491,this['maxAnisotr'+'opy']));}}['setTexture'](_0x6dddbb,_0x311d6e){const _0x273229=_0x6dddbb['impl'];_0x273229['_glTexture']||_0x273229['initialize'](this,_0x6dddbb),_0x273229['dirtyParam'+'eterFlags']>-0x15ac+-0x18f3+0x2e9f||_0x6dddbb['_needsUplo'+'ad']||_0x6dddbb['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x311d6e),this['bindTextur'+'e'](_0x6dddbb),_0x273229['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x6dddbb),_0x273229['dirtyParam'+'eterFlags']=0x19ce+0x2ba*0x9+0xc96*-0x4),(_0x6dddbb['_needsUplo'+'ad']||_0x6dddbb['_needsMipm'+'apsUpload'])&&(_0x273229['upload'](this,_0x6dddbb),_0x6dddbb['_needsUplo'+'ad']=!(-0x1748+0xacf+0x1*0xc7a),_0x6dddbb['_needsMipm'+'apsUpload']=!(-0x6db*-0x3+0x1ef0+-0x19c0*0x2))):this['bindTextur'+'eOnUnit'](_0x6dddbb,_0x311d6e);}['createVert'+'exArray'](_0x4cf450){let _0x1c30c4,_0x5af59e;const _0x143711=_0x4cf450['length']>0x1ff7+0x11*-0x149+0x1*-0xa1d;if(_0x143711){_0x1c30c4='';for(let _0x1d81ad=-0x2198+0x25e9+-0x1*0x451;_0x1d81ad<_0x4cf450['length'];_0x1d81ad++){const _0x5e7ba5=_0x4cf450[_0x1d81ad];_0x1c30c4+=_0x5e7ba5['id']+_0x5e7ba5['format']['renderingH'+'ash'];}_0x5af59e=this['_vaoMap']['get'](_0x1c30c4);}if(!_0x5af59e){const _0x130395=this['gl'];_0x5af59e=_0x130395['createVert'+'exArray'](),_0x130395['bindVertex'+'Array'](_0x5af59e),_0x130395['bindBuffer'](_0x130395['ELEMENT_AR'+'RAY_BUFFER'],null);let _0xc8bb81=!(-0x1355+0x24*0x65+0x92*0x9);for(let _0x332745=0x1b2f+0x76*-0xb+-0x161d;_0x332745<_0x4cf450['length'];_0x332745++){const _0x110d2a=_0x4cf450[_0x332745];_0x130395['bindBuffer'](_0x130395['ARRAY_BUFF'+'ER'],_0x110d2a['impl']['bufferId']);const _0x355052=_0x110d2a['format']['elements'];for(let _0x388762=-0x1d13+0x1*-0xd12+0x2a25;_0x388762<_0x355052['length'];_0x388762++){const _0x41281f=_0x355052[_0x388762],_0x1f1048=ve[_0x41281f['name']];_0x1f1048===0x5*-0x4eb+-0x115*0x1b+-0x1*-0x35ce&&(_0xc8bb81=!(0x1ae*0x1+0x5c5+-0x773*0x1)),_0x41281f['asInt']?_0x130395['vertexAttr'+'ibIPointer'](_0x1f1048,_0x41281f['numCompone'+'nts'],this['glType'][_0x41281f['dataType']],_0x41281f['stride'],_0x41281f['offset']):_0x130395['vertexAttr'+'ibPointer'](_0x1f1048,_0x41281f['numCompone'+'nts'],this['glType'][_0x41281f['dataType']],_0x41281f['normalize'],_0x41281f['stride'],_0x41281f['offset']),_0x130395['enableVert'+'exAttribAr'+'ray'](_0x1f1048),_0x110d2a['format']['instancing']&&_0x130395['vertexAttr'+'ibDivisor'](_0x1f1048,0x1*0x356+0x426*0x2+-0xe5*0xd);}}_0x130395['bindVertex'+'Array'](null),_0x130395['bindBuffer'](_0x130395['ARRAY_BUFF'+'ER'],null),_0x143711&&this['_vaoMap']['set'](_0x1c30c4,_0x5af59e),_0xc8bb81||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x5af59e;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x24f2fe=this['gl'];let _0x4d2f5f;if(this['vertexBuff'+'ers']['length']===-0x3*0x265+0x1*0xb15+-0x3e5){const _0x2d5fa9=this['vertexBuff'+'ers'][0xd*-0x10d+-0xde5+0x1b8e];v['assert'](_0x2d5fa9['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x2d5fa9['impl']['vao']||(_0x2d5fa9['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x4d2f5f=_0x2d5fa9['impl']['vao'];}else _0x4d2f5f=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x4d2f5f&&(this['boundVao']=_0x4d2f5f,_0x24f2fe['bindVertex'+'Array'](_0x4d2f5f)),this['clearVerte'+'xBuffer']();const _0xc2548f=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x24f2fe['bindBuffer'](_0x24f2fe['ELEMENT_AR'+'RAY_BUFFER'],_0xc2548f);}['draw'](_0x1a324c,_0xe73bef,_0x231681){const _0x4d1cfa=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x5cc189,_0x54d30e,_0x197886,_0x382e51,_0x5ab1b3,_0x31c669,_0x98acfc,_0x3c3a10;const _0x48e141=this['shader'];if(!_0x48e141)return;const _0x22b00c=_0x48e141['impl']['samplers'],_0x1195c4=_0x48e141['impl']['uniforms'];_0x231681||this['setBuffers']();let _0x2736ea=0x1deb+-0xb84+-0x1267;for(let _0x1ae1ea=0x2395+0x368+-0x26fd,_0x17027b=_0x22b00c['length'];_0x1ae1ea<_0x17027b;_0x1ae1ea++){if(_0x5cc189=_0x22b00c[_0x1ae1ea],_0x54d30e=_0x5cc189['scopeId']['value'],!_0x54d30e){const _0x5cec6a=_0x5cc189['scopeId']['name'];v['assert'](_0x5cec6a!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x5cec6a!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x5cec6a==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x54d30e=en(this,'white')),_0x5cec6a==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x54d30e=en(this,'pink')),_0x54d30e||(v['errorOnce']('Shader\x20'+_0x48e141['name']+'\x20requires\x20'+_0x5cec6a+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x54d30e=en(this,'pink'));}if(_0x54d30e instanceof he)_0x197886=_0x54d30e,this['setTexture'](_0x197886,_0x2736ea),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<-0x1*0x1331+-0x18e+0x3*0x6eb&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x197886?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x197886}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x197886&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x197886})),_0x5cc189['slot']!==_0x2736ea&&(_0x4d1cfa['uniform1i'](_0x5cc189['locationId'],_0x2736ea),_0x5cc189['slot']=_0x2736ea),_0x2736ea++;else{_0x5cc189['array']['length']=0x503*0x5+0xa*-0x2bb+0x5*0x73,_0x382e51=_0x54d30e['length'];for(let _0x12fb59=-0x2b*0xd3+-0x192e+0x7*0x8a9;_0x12fb59<_0x382e51;_0x12fb59++)_0x197886=_0x54d30e[_0x12fb59],this['setTexture'](_0x197886,_0x2736ea),_0x5cc189['array'][_0x12fb59]=_0x2736ea,_0x2736ea++;_0x4d1cfa['uniform1iv'](_0x5cc189['locationId'],_0x5cc189['array']);}}for(let _0xa576f4=0x93a+0x23e1+-0x2d1b,_0x524218=_0x1195c4['length'];_0xa576f4<_0x524218;_0xa576f4++)_0x5ab1b3=_0x1195c4[_0xa576f4],_0x31c669=_0x5ab1b3['scopeId'],_0x98acfc=_0x5ab1b3['version'],_0x3c3a10=_0x31c669['versionObj'+'ect']['version'],(_0x98acfc['globalId']!==_0x3c3a10['globalId']||_0x98acfc['revision']!==_0x3c3a10['revision'])&&(_0x98acfc['globalId']=_0x3c3a10['globalId'],_0x98acfc['revision']=_0x3c3a10['revision'],_0x31c669['value']!==null&&this['commitFunc'+'tion'][_0x5ab1b3['dataType']](_0x5ab1b3,_0x31c669['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x4d1cfa['bindBuffer'+'Base'](_0x4d1cfa['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x26d9+-0x4*-0x34b+-0x3405,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x4d1cfa['beginTrans'+'formFeedba'+'ck'](_0x4d1cfa['POINTS']));const _0x182692=this['glPrimitiv'+'e'][_0x1a324c['type']],_0x226f14=_0x1a324c['count'];if(_0x1a324c['indexed']){const _0xced332=this['indexBuffe'+'r'];v['assert'](_0xced332['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x236ffe=_0xced332['impl']['glFormat'],_0x366c89=_0x1a324c['base']*_0xced332['bytesPerIn'+'dex'];_0xe73bef>-0xef*-0x11+-0x4fc*-0x1+0x1*-0x14db?_0x4d1cfa['drawElemen'+'tsInstance'+'d'](_0x182692,_0x226f14,_0x236ffe,_0x366c89,_0xe73bef):_0x4d1cfa['drawElemen'+'ts'](_0x182692,_0x226f14,_0x236ffe,_0x366c89);}else{const _0x2baeb4=_0x1a324c['base'];_0xe73bef>-0x1c11+-0x2296+-0x2b*-0x175?_0x4d1cfa['drawArrays'+'Instanced'](_0x182692,_0x2baeb4,_0x226f14,_0xe73bef):_0x4d1cfa['drawArrays'](_0x182692,_0x2baeb4,_0x226f14);}this['transformF'+'eedbackBuf'+'fer']&&(_0x4d1cfa['endTransfo'+'rmFeedback'](),_0x4d1cfa['bindBuffer'+'Base'](_0x4d1cfa['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x1dfc+-0x2f*0x87+-0x533,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x1a324c['type']]+=_0x1a324c['count']*(_0xe73bef>-0x5b6*-0x6+-0x95b*-0x2+0xbf*-0x47?_0xe73bef:0x227e+-0x523+-0x1a*0x121);}['clear'](_0x3b45f1){const _0x869fb1=this['defaultCle'+'arOptions'];_0x3b45f1=_0x3b45f1||_0x869fb1;const _0x2c2225=_0x3b45f1['flags']??_0x869fb1['flags'];if(_0x2c2225!==-0x1716+-0x2*0x3f5+0x1f00){const _0x35317f=this['gl'];if(_0x2c2225&Co){const _0x4591c4=_0x3b45f1['color']??_0x869fb1['color'],_0x5cae98=_0x4591c4[-0x2322+-0x10*0x3e+0x2702],_0x577007=_0x4591c4[0x3*-0x10b+-0x30d*-0x2+-0x26*0x14],_0x55a21d=_0x4591c4[0x1e0b*-0x1+0x1*-0x1305+0x2*0x1889],_0x2870d2=_0x4591c4[0x1*0xfce+0x250e+-0x34d9],_0x26060f=this['clearColor'];(_0x5cae98!==_0x26060f['r']||_0x577007!==_0x26060f['g']||_0x55a21d!==_0x26060f['b']||_0x2870d2!==_0x26060f['a'])&&(this['gl']['clearColor'](_0x5cae98,_0x577007,_0x55a21d,_0x2870d2),this['clearColor']['set'](_0x5cae98,_0x577007,_0x55a21d,_0x2870d2)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x2c2225&Mo){const _0x1c701c=_0x3b45f1['depth']??_0x869fb1['depth'];_0x1c701c!==this['clearDepth']&&(this['gl']['clearDepth'](_0x1c701c),this['clearDepth']=_0x1c701c),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x2c2225&Ah){const _0x28dcec=_0x3b45f1['stencil']??_0x869fb1['stencil'];_0x28dcec!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x28dcec),this['clearStenc'+'il']=_0x28dcec),_0x35317f['stencilMas'+'k'](0xf2d+0x1ab0+-0x1*0x28de),this['stencilWri'+'teMaskFron'+'t']=0x376*0xa+0xb7b*-0x1+-0x1622,this['stencilWri'+'teMaskBack']=0x221e*-0x1+-0xe2b+0x8*0x629;}_0x35317f['clear'](this['glClearFla'+'g'][_0x2c2225]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x26ed18,_0x4d996a,_0x314c04,_0x229f73,_0x2911eb){const _0x63f0b=this['gl'];_0x63f0b['readPixels'](_0x26ed18,_0x4d996a,_0x314c04,_0x229f73,_0x63f0b['RGBA'],_0x63f0b['UNSIGNED_B'+'YTE'],_0x2911eb);}async['readPixels'+'Async'](_0x13c684,_0x254deb,_0x26fbff,_0xfe6257,_0x2aa123){var _0x3a0729;const _0x4bf566=this['gl'],_0x14f08a=(_0x55bcf8,_0x27ad72)=>{const _0x50bd2d=_0x4bf566['fenceSync'](_0x4bf566['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x225a+-0x54b*-0x3+-0x323b);return this['submit'](),new Promise((_0x5e643b,_0x2b55fd)=>{function _0x4558c7(){const _0x2c38af=_0x4bf566['clientWait'+'Sync'](_0x50bd2d,_0x55bcf8,-0x1cf8+0x11a1+-0x1*-0xb57);_0x2c38af===_0x4bf566['WAIT_FAILE'+'D']?(_0x4bf566['deleteSync'](_0x50bd2d),_0x2b55fd(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x2c38af===_0x4bf566['TIMEOUT_EX'+'PIRED']?setTimeout(_0x4558c7,_0x27ad72):(_0x4bf566['deleteSync'](_0x50bd2d),_0x5e643b());}_0x4558c7();});},_0x4ff15e=(_0x3a0729=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x22*0x2f+-0x1d0*0x10+0x233e):_0x3a0729['impl'],_0x54f0de=(_0x4ff15e==null?void(-0x3*-0x17+-0xe98*-0x2+-0x1d75):_0x4ff15e['_glFormat'])??_0x4bf566['RGBA'],_0x3216c0=(_0x4ff15e==null?void(-0x1*-0x13c1+-0xf*0xd7+-0x728):_0x4ff15e['_glPixelTy'+'pe'])??_0x4bf566['UNSIGNED_B'+'YTE'],_0x5bc630=_0x4bf566['createBuff'+'er']();return _0x4bf566['bindBuffer'](_0x4bf566['PIXEL_PACK'+'_BUFFER'],_0x5bc630),_0x4bf566['bufferData'](_0x4bf566['PIXEL_PACK'+'_BUFFER'],_0x2aa123['byteLength'],_0x4bf566['STREAM_REA'+'D']),_0x4bf566['readPixels'](_0x13c684,_0x254deb,_0x26fbff,_0xfe6257,_0x54f0de,_0x3216c0,0xced*0x1+-0x48*-0x41+0xa67*-0x3),_0x4bf566['bindBuffer'](_0x4bf566['PIXEL_PACK'+'_BUFFER'],null),await _0x14f08a(-0x5*-0x35b+-0x1*0xb3c+-0x21*0x2b,-0x13f4+0x18b*-0x7+0x1ed5),_0x4bf566['bindBuffer'](_0x4bf566['PIXEL_PACK'+'_BUFFER'],_0x5bc630),_0x4bf566['getBufferS'+'ubData'](_0x4bf566['PIXEL_PACK'+'_BUFFER'],0x107b*0x2+0x2*0x1091+-0x4218,_0x2aa123),_0x4bf566['bindBuffer'](_0x4bf566['PIXEL_PACK'+'_BUFFER'],null),_0x4bf566['deleteBuff'+'er'](_0x5bc630),_0x2aa123;}['readTextur'+'eAsync'](_0x5f5b7d,_0x1a78a8,_0x546e3d,_0x3701fd,_0x53355a,_0x4be920){const _0x5a8456=_0x4be920['face']??-0xcb4*0x3+0x1208+0x1414,_0x13dd36=_0x4be920['renderTarg'+'et']??new pt({'colorBuffer':_0x5f5b7d,'depth':!(-0xab6+-0x5bb+0x1072),'face':_0x5a8456});v['assert'](_0x13dd36['colorBuffe'+'r']===_0x5f5b7d);const _0x12fcc1=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x3701fd,_0x53355a,-0x230d+0xd12+-0x2a*-0x86,_0x5f5b7d['_format'])),_0x4563db=_0x4be920['data']??new(Cy(_0x5f5b7d['_format']))(_0x12fcc1);return this['setRenderT'+'arget'](_0x13dd36),this['initRender'+'Target'](_0x13dd36),new Promise((_0x12758c,_0x45a1ae)=>{this['readPixels'+'Async'](_0x1a78a8,_0x546e3d,_0x3701fd,_0x53355a,_0x4563db)['then'](_0x4aee6e=>{_0x4be920['renderTarg'+'et']||_0x13dd36['destroy'](),_0x12758c(_0x4aee6e);})['catch'](_0x45a1ae);});}['setAlphaTo'+'Coverage'](_0x4850a3){this['alphaToCov'+'erage']!==_0x4850a3&&(this['alphaToCov'+'erage']=_0x4850a3,_0x4850a3?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x5e7a46){if(this['transformF'+'eedbackBuf'+'fer']!==_0x5e7a46){this['transformF'+'eedbackBuf'+'fer']=_0x5e7a46;const _0x441ded=this['gl'];_0x5e7a46?(this['feedback']||(this['feedback']=_0x441ded['createTran'+'sformFeedb'+'ack']()),_0x441ded['bindTransf'+'ormFeedbac'+'k'](_0x441ded['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x441ded['bindTransf'+'ormFeedbac'+'k'](_0x441ded['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x1a32ba){this['raster']!==_0x1a32ba&&(this['raster']=_0x1a32ba,_0x1a32ba?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x153aab){if(this['stencil']!==_0x153aab){const _0x4ec07e=this['gl'];_0x153aab?_0x4ec07e['enable'](_0x4ec07e['STENCIL_TE'+'ST']):_0x4ec07e['disable'](_0x4ec07e['STENCIL_TE'+'ST']),this['stencil']=_0x153aab;}}['setStencil'+'Func'](_0x8b59e6,_0x1938c1,_0x3becba){(this['stencilFun'+'cFront']!==_0x8b59e6||this['stencilRef'+'Front']!==_0x1938c1||this['stencilMas'+'kFront']!==_0x3becba||this['stencilFun'+'cBack']!==_0x8b59e6||this['stencilRef'+'Back']!==_0x1938c1||this['stencilMas'+'kBack']!==_0x3becba)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x8b59e6],_0x1938c1,_0x3becba),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x8b59e6,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x1938c1,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x3becba);}['setStencil'+'FuncFront'](_0x2db1b1,_0x3351c9,_0xf4a866){if(this['stencilFun'+'cFront']!==_0x2db1b1||this['stencilRef'+'Front']!==_0x3351c9||this['stencilMas'+'kFront']!==_0xf4a866){const _0x222818=this['gl'];_0x222818['stencilFun'+'cSeparate'](_0x222818['FRONT'],this['glComparis'+'on'][_0x2db1b1],_0x3351c9,_0xf4a866),this['stencilFun'+'cFront']=_0x2db1b1,this['stencilRef'+'Front']=_0x3351c9,this['stencilMas'+'kFront']=_0xf4a866;}}['setStencil'+'FuncBack'](_0x3b4c03,_0x4cf7be,_0x1300c5){if(this['stencilFun'+'cBack']!==_0x3b4c03||this['stencilRef'+'Back']!==_0x4cf7be||this['stencilMas'+'kBack']!==_0x1300c5){const _0x18ce9c=this['gl'];_0x18ce9c['stencilFun'+'cSeparate'](_0x18ce9c['BACK'],this['glComparis'+'on'][_0x3b4c03],_0x4cf7be,_0x1300c5),this['stencilFun'+'cBack']=_0x3b4c03,this['stencilRef'+'Back']=_0x4cf7be,this['stencilMas'+'kBack']=_0x1300c5;}}['setStencil'+'Operation'](_0x639c23,_0x2b5006,_0xd43432,_0x231a1a){(this['stencilFai'+'lFront']!==_0x639c23||this['stencilZfa'+'ilFront']!==_0x2b5006||this['stencilZpa'+'ssFront']!==_0xd43432||this['stencilFai'+'lBack']!==_0x639c23||this['stencilZfa'+'ilBack']!==_0x2b5006||this['stencilZpa'+'ssBack']!==_0xd43432)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x639c23],this['glStencilO'+'p'][_0x2b5006],this['glStencilO'+'p'][_0xd43432]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x639c23,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x2b5006,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0xd43432),(this['stencilWri'+'teMaskFron'+'t']!==_0x231a1a||this['stencilWri'+'teMaskBack']!==_0x231a1a)&&(this['gl']['stencilMas'+'k'](_0x231a1a),this['stencilWri'+'teMaskFron'+'t']=_0x231a1a,this['stencilWri'+'teMaskBack']=_0x231a1a);}['setStencil'+'OperationF'+'ront'](_0x43d0e5,_0x4b6bfc,_0x436928,_0x206da3){(this['stencilFai'+'lFront']!==_0x43d0e5||this['stencilZfa'+'ilFront']!==_0x4b6bfc||this['stencilZpa'+'ssFront']!==_0x436928)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x43d0e5],this['glStencilO'+'p'][_0x4b6bfc],this['glStencilO'+'p'][_0x436928]),this['stencilFai'+'lFront']=_0x43d0e5,this['stencilZfa'+'ilFront']=_0x4b6bfc,this['stencilZpa'+'ssFront']=_0x436928),this['stencilWri'+'teMaskFron'+'t']!==_0x206da3&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x206da3),this['stencilWri'+'teMaskFron'+'t']=_0x206da3);}['setStencil'+'OperationB'+'ack'](_0x2774b6,_0x5f23f5,_0x476fc6,_0x8144bd){(this['stencilFai'+'lBack']!==_0x2774b6||this['stencilZfa'+'ilBack']!==_0x5f23f5||this['stencilZpa'+'ssBack']!==_0x476fc6)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x2774b6],this['glStencilO'+'p'][_0x5f23f5],this['glStencilO'+'p'][_0x476fc6]),this['stencilFai'+'lBack']=_0x2774b6,this['stencilZfa'+'ilBack']=_0x5f23f5,this['stencilZpa'+'ssBack']=_0x476fc6),this['stencilWri'+'teMaskBack']!==_0x8144bd&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x8144bd),this['stencilWri'+'teMaskBack']=_0x8144bd);}['setBlendSt'+'ate'](_0x3f95d1){const _0x58012d=this['blendState'];if(!_0x58012d['equals'](_0x3f95d1)){const _0x156cb=this['gl'],{blend:_0x5e24e2,colorOp:_0x26ac8c,alphaOp:_0x35b848,colorSrcFactor:_0x3a27e4,colorDstFactor:_0x4fb295,alphaSrcFactor:_0x3ebe25,alphaDstFactor:_0x285930}=_0x3f95d1;if(_0x58012d['blend']!==_0x5e24e2&&(_0x5e24e2?_0x156cb['enable'](_0x156cb['BLEND']):_0x156cb['disable'](_0x156cb['BLEND'])),_0x58012d['colorOp']!==_0x26ac8c||_0x58012d['alphaOp']!==_0x35b848){const _0x445fd8=this['glBlendEqu'+'ation'];_0x156cb['blendEquat'+'ionSeparat'+'e'](_0x445fd8[_0x26ac8c],_0x445fd8[_0x35b848]);}(_0x58012d['colorSrcFa'+'ctor']!==_0x3a27e4||_0x58012d['colorDstFa'+'ctor']!==_0x4fb295||_0x58012d['alphaSrcFa'+'ctor']!==_0x3ebe25||_0x58012d['alphaDstFa'+'ctor']!==_0x285930)&&_0x156cb['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x3a27e4],this['glBlendFun'+'ctionColor'][_0x4fb295],this['glBlendFun'+'ctionAlpha'][_0x3ebe25],this['glBlendFun'+'ctionAlpha'][_0x285930]),_0x58012d['allWrite']!==_0x3f95d1['allWrite']&&this['gl']['colorMask'](_0x3f95d1['redWrite'],_0x3f95d1['greenWrite'],_0x3f95d1['blueWrite'],_0x3f95d1['alphaWrite']),_0x58012d['copy'](_0x3f95d1);}}['setBlendCo'+'lor'](_0x24c801,_0x4d423d,_0x5598b3,_0x227107){const _0x2fa587=this['blendColor'];(_0x24c801!==_0x2fa587['r']||_0x4d423d!==_0x2fa587['g']||_0x5598b3!==_0x2fa587['b']||_0x227107!==_0x2fa587['a'])&&(this['gl']['blendColor'](_0x24c801,_0x4d423d,_0x5598b3,_0x227107),_0x2fa587['set'](_0x24c801,_0x4d423d,_0x5598b3,_0x227107));}['setStencil'+'State'](_0x5f00f8,_0x17acc5){_0x5f00f8||_0x17acc5?(this['setStencil'+'Test'](!(0x511+0x2547+-0x2a58)),_0x5f00f8===_0x17acc5?(this['setStencil'+'Func'](_0x5f00f8['func'],_0x5f00f8['ref'],_0x5f00f8['readMask']),this['setStencil'+'Operation'](_0x5f00f8['fail'],_0x5f00f8['zfail'],_0x5f00f8['zpass'],_0x5f00f8['writeMask'])):(_0x5f00f8??(_0x5f00f8=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x5f00f8['func'],_0x5f00f8['ref'],_0x5f00f8['readMask']),this['setStencil'+'OperationF'+'ront'](_0x5f00f8['fail'],_0x5f00f8['zfail'],_0x5f00f8['zpass'],_0x5f00f8['writeMask']),_0x17acc5??(_0x17acc5=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x17acc5['func'],_0x17acc5['ref'],_0x17acc5['readMask']),this['setStencil'+'OperationB'+'ack'](_0x17acc5['fail'],_0x17acc5['zfail'],_0x17acc5['zpass'],_0x17acc5['writeMask']))):this['setStencil'+'Test'](!(-0x22*-0xd9+-0xea*0x1f+-0x7b));}['setDepthSt'+'ate'](_0x46dd2a){const _0x3d6da0=this['depthState'];if(!_0x3d6da0['equals'](_0x46dd2a)){const _0x5deecc=this['gl'],_0x15c528=_0x46dd2a['write'];_0x3d6da0['write']!==_0x15c528&&_0x5deecc['depthMask'](_0x15c528);let {func:_0x3cdc00,test:_0x2d7986}=_0x46dd2a;!_0x2d7986&&_0x15c528&&(_0x2d7986=!(-0x23a7+-0x1218+0x35bf),_0x3cdc00=Ai),_0x3d6da0['func']!==_0x3cdc00&&_0x5deecc['depthFunc'](this['glComparis'+'on'][_0x3cdc00]),_0x3d6da0['test']!==_0x2d7986&&(_0x2d7986?_0x5deecc['enable'](_0x5deecc['DEPTH_TEST']):_0x5deecc['disable'](_0x5deecc['DEPTH_TEST']));const {depthBias:_0x1ee25a,depthBiasSlope:_0x48b5af}=_0x46dd2a;_0x1ee25a||_0x48b5af?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(-0x1545+-0x1c83+0xc72*0x4),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x5deecc['polygonOff'+'set'](_0x48b5af,_0x1ee25a)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x1*0x8c7+0xe40+-0x2bc*0x2),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x3d6da0['copy'](_0x46dd2a);}}['setCullMod'+'e'](_0x1b629a){if(this['cullMode']!==_0x1b629a){if(_0x1b629a===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x4cc035=this['glCull'][_0x1b629a];this['cullFace']!==_0x4cc035&&(this['gl']['cullFace'](_0x4cc035),this['cullFace']=_0x4cc035);}this['cullMode']=_0x1b629a;}}['setShader'](_0x56850f,_0x1bc812=!(-0x8*-0x3ce+-0x245*0x2+-0x7*0x3b3)){_0x56850f!==this['shader']&&(this['shader']=_0x56850f,this['shaderAsyn'+'cCompile']=_0x1bc812,this['shaderVali'+'d']=void(0x14b0+0x1c4f*-0x1+0x79f*0x1),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x5276ca){const {shader:_0x3dd236}=this,{impl:_0x18e75d}=_0x3dd236;this['shaderVali'+'d']===void(-0x19ce+0xf*0x96+0x1104)&&(_0x3dd236['failed']?this['shaderVali'+'d']=!(0x8d*-0x3a+0x1*-0x823+0x5ba*0x7):_0x3dd236['ready']||(this['shaderAsyn'+'cCompile']?_0x18e75d['isLinked'](_0x5276ca)?_0x18e75d['finalize'](this,_0x3dd236)||(_0x3dd236['failed']=!(0x5eb+0x19b5+-0x2c*0xb8),this['shaderVali'+'d']=!(0x286*-0x2+0x1e29+0x4*-0x647)):this['shaderVali'+'d']=!(-0x6d*-0x41+0xa*-0x1c6+-0x9f0):_0x18e75d['finalize'](this,_0x3dd236)||(_0x3dd236['failed']=!(-0x338*-0x7+0x7*-0x14b+-0xd7b),this['shaderVali'+'d']=!(0x5*0x1cd+0xab*-0x2f+0x9*0x27d)))),this['shaderVali'+'d']===void(-0x1c1*-0x1+-0x2*0x3d7+0x5ed)&&(this['gl']['useProgram'](_0x18e75d['glProgram']),this['shaderVali'+'d']=!(-0x26c4+0x1df+0x761*0x5));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x58f102=this['gl'];this['_vaoMap']['forEach']((_0x5c608d,_0x204a03,_0x20c63e)=>{_0x58f102['deleteVert'+'exArray'](_0x5c608d);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x47968b){_0x47968b?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0xc5c6d1=-0x23*-0x3+0x1*0x1b83+-0x1b88){const _0x570ea3=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x570ea3['loseContex'+'t'](),setTimeout(()=>_0x570ea3['restoreCon'+'text'](),_0xc5c6d1);}}let mb=0x79*-0x47+0x169b+-0x1*-0xaf4;class lr{constructor(_0x244f35,_0x2d8fa3,_0x3b1888,_0x3977ec=jt,_0x4ae58f,_0x57d6a9){this['device']=_0x244f35,this['format']=_0x2d8fa3,this['numIndices']=_0x3b1888,this['usage']=_0x3977ec,this['id']=mb++,this['impl']=_0x244f35['createInde'+'xBufferImp'+'l'](this,_0x57d6a9);const _0x2ee36e=vv[_0x2d8fa3];this['bytesPerIn'+'dex']=_0x2ee36e,this['numBytes']=this['numIndices']*_0x2ee36e,_0x4ae58f?this['setData'](_0x4ae58f):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x244f35['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x5545f4=this['device'],_0x2a4937=_0x5545f4['buffers']['indexOf'](this);_0x2a4937!==-(-0x24d7+0x133e+0x119a)&&_0x5545f4['buffers']['splice'](_0x2a4937,0xa27+-0x16*-0xdd+-0x1d24),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x5545f4),this['adjustVram'+'SizeTracki'+'ng'](_0x5545f4['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x44ab04,_0x5b4111){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x5b4111+'\x20vram.ib:\x20'+_0x44ab04['ib']+'\x20=>\x20'+(_0x44ab04['ib']+_0x5b4111)),_0x44ab04['ib']+=_0x5b4111;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x2d2f96){return _0x2d2f96['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x2d2f96['byteLength']),!(0x44*-0x67+-0x1445+-0x367*-0xe)):(this['storage']=_0x2d2f96,this['unlock'](),!(-0x1e5+-0x478+0x65d));}['_lockTyped'+'Array'](){const _0x404b98=this['lock']();return this['format']===nr?new Uint32Array(_0x404b98):this['format']===Pi?new Uint16Array(_0x404b98):new Uint8Array(_0x404b98);}['writeData'](_0x5c44fe,_0x4c50be){const _0x35455b=this['_lockTyped'+'Array']();if(_0x5c44fe['length']>_0x4c50be){if(ArrayBuffer['isView'](_0x5c44fe))_0x5c44fe=_0x5c44fe['subarray'](0x671+-0x9ac+-0x1*-0x33b,_0x4c50be),_0x35455b['set'](_0x5c44fe);else{for(let _0x26fe75=0xb*0x386+0x1a2d*0x1+-0x40ef;_0x26fe75<_0x4c50be;_0x26fe75++)_0x35455b[_0x26fe75]=_0x5c44fe[_0x26fe75];}}else _0x35455b['set'](_0x5c44fe);this['unlock']();}['readData'](_0x1505cf){const _0x569781=this['_lockTyped'+'Array'](),_0x29c07f=this['numIndices'];if(ArrayBuffer['isView'](_0x1505cf))_0x1505cf['set'](_0x569781);else{_0x1505cf['length']=0xad0+0xa*-0x176+-0x1*-0x3cc;for(let _0x5da26a=0x20bf*0x1+-0x2528+0x469;_0x5da26a<_0x29c07f;_0x5da26a++)_0x1505cf[_0x5da26a]=_0x569781[_0x5da26a];}return _0x29c07f;}}class _b{constructor(){c(this,'clearValue',new Y(-0x1*0x1669+-0x6*-0x2d5+0x56b,-0x8c*0xf+-0xfcc+0x1800,0xcfd+0x1397+0xf*-0x22c,-0x242*-0xe+0x8ec+0x2887*-0x1)),c(this,'clearValue'+'Linear',new Y(0xb0*0x1f+-0xf81+-0x5cf,0x1750+-0x1a97+0x347*0x1,-0x13d*-0x12+0x1a98+-0x30e2,-0xb*0x35e+-0x1*0x1349+0x3854)),c(this,'clear',!(-0x9*-0x36c+0x1*0x799+-0x2664)),c(this,'store',!(0x22b2+-0x1*0x16c3+0x1fd*-0x6)),c(this,'resolve',!(0x1f*-0x10f+-0x2075+0xf*0x45a)),c(this,'genMipmaps',!(-0x1b66+-0x24b6+0x3*0x155f));}}class gb{constructor(){c(this,'clearDepth'+'Value',-0x1*-0x12d9+0x743+-0x1a1b),c(this,'clearStenc'+'ilValue',0x13fd+0x1*0x3b3+-0x17b0),c(this,'clearDepth',!(-0x14a3+-0x12*-0x1e7+0xd9a*-0x1)),c(this,'clearStenc'+'il',!(0xb1*-0x12+-0x1066+-0x7*-0x41f)),c(this,'storeDepth',!(0x1*-0x213f+0x245a+-0x31a)),c(this,'resolveDep'+'th',!(-0x9b+0x1c9*-0xb+-0x49*-0x47)),c(this,'storeStenc'+'il',!(-0x1*-0x228b+-0x2063+-0x1d*0x13));}}class ds{constructor(_0x31bb9d){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(0x1353+-0x1*0x2f5+-0x105e)),c(this,'_skipStart',!(0x2425+0x149b+-0x38bf)),c(this,'_skipEnd',!(0x130f*-0x1+-0x942*-0x1+0x9ce)),c(this,'executeEna'+'bled',!(-0x267e+-0x85b+0x2ed9*0x1)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',0xc*0x4+0x90+-0xc0),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(-0x9*-0x1d3+-0x2d+-0x103e)),c(this,'fullSizeCl'+'earRect',!(0x25*0xee+-0x6*0x445+0x2*-0x464)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x31bb9d),this['device']=_0x31bb9d);}get['colorOps'](){return this['colorArray'+'Ops'][0x10d3+0x221b+0x35*-0xf6];}set['name'](_0x334c4c){this['_name']=_0x334c4c;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x15157a){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x15157a;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x41f67f){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x41f67f;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x1916f2){this['_options']=_0x1916f2,_0x1916f2&&(this['scaleX']=this['scaleX']??-0xe95*0x2+0x1beb+-0xa*-0x20,this['scaleY']=this['scaleY']??0x259a+0x14*0x13+0x7d1*-0x5);}get['options'](){return this['_options'];}['init'](_0x545cda=null,_0x54ca62){this['options']=_0x54ca62,this['renderTarg'+'et']=_0x545cda,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0x1*0x1249+-0x1*0x1ef9+0x3143),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x595f59,_0x2099b5,_0x308baa,_0x538163;const _0xd6d99e=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0xd6d99e!=null&&_0xd6d99e['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x7a*-0x14+0x2497+-0x1*0x2e1f));const _0x5ea985=_0xd6d99e?((_0x595f59=_0xd6d99e['_colorBuff'+'ers'])==null?void(0x9*-0x5a+0x1beb+-0x18c1):_0x595f59['length'])??-0x1a1d+-0x126f+0x1646*0x2:0x1500+-0x585+-0xf7a*0x1;this['colorArray'+'Ops']['length']=0x18d1*-0x1+0x1915+-0x44;for(let _0xf91923=-0x1e21+-0x62f*-0x4+0x565;_0xf91923<_0x5ea985;_0xf91923++){const _0x6451f1=new _b();this['colorArray'+'Ops'][_0xf91923]=_0x6451f1,this['samples']===0x224*0x2+0x3*-0xb36+-0x5*-0x5df&&(_0x6451f1['store']=!(-0x1089*0x1+0x247+0xa*0x16d),_0x6451f1['resolve']=!(0x17ea+-0x1*0x72f+-0x10ba));const _0x101b55=(_0x308baa=(_0x2099b5=this['renderTarg'+'et'])==null?void(0x2263+0x46*0xd+-0x25f1):_0x2099b5['_colorBuff'+'ers'])==null?void(-0x131a+0x1*-0x216e+0x3488):_0x308baa[_0xf91923];if((_0x538163=this['renderTarg'+'et'])!=null&&_0x538163['mipmaps']&&(_0x101b55!=null&&_0x101b55['mipmaps'])){const _0x617698=ea(_0x101b55['_format']);_0x6451f1['genMipmaps']=!_0x617698;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x475ae3=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x57584=Math['floor'](_0x475ae3['width']*this['scaleX']),_0x4e9df6=Math['floor'](_0x475ae3['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x57584,_0x4e9df6);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x24b7ff){this['_enabled']!==_0x24b7ff&&(this['_enabled']=_0x24b7ff,_0x24b7ff?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x43420b){const _0x1f4c35=this['colorArray'+'Ops']['length'];for(let _0x5e5021=0x2af*0x7+-0x243b+0x1*0x1172;_0x5e5021<_0x1f4c35;_0x5e5021++){const _0x1ea1e0=this['colorArray'+'Ops'][_0x5e5021];_0x43420b&&(_0x1ea1e0['clearValue']['copy'](_0x43420b),_0x1ea1e0['clearValue'+'Linear']['linear'](_0x43420b)),_0x1ea1e0['clear']=!!_0x43420b;}}['setClearDe'+'pth'](_0x1625ec){_0x1625ec&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x1625ec),this['depthStenc'+'ilOps']['clearDepth']=_0x1625ec!==void(0x1668+-0x1*-0x593+-0x1*0x1bfb);}['setClearSt'+'encil'](_0x1e521a){_0x1e521a&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x1e521a),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x1e521a!==void(0x704+0x1*-0x14de+0xdda);}['render'](){if(this['enabled']){const _0x1974e8=this['device'],_0x3d080f=this['renderTarg'+'et']!==void(0xe1d*0x2+0x1072*-0x2+0x4aa);v['call'](()=>{this['log'](_0x1974e8,_0x1974e8['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x3d080f&&!this['_skipStart']&&_0x1974e8['startRende'+'rPass'](this),this['execute'](),_0x3d080f&&!this['_skipEnd']&&_0x1974e8['endRenderP'+'ass'](this)),this['after'](),_0x1974e8['renderPass'+'Index']++;}}['log'](_0x42a65a,_0x4b82d2=-0xa32+0x6*0x51c+-0x2*0xa3b){var _0x282325,_0x5606d6,_0x4ba991;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x4bbbd2=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x42a65a['backBuffer']:null),_0x3962cb=!!(_0x4bbbd2!=null&&_0x4bbbd2['impl']['assignedCo'+'lorTexture'])||(_0x4bbbd2==null?void(-0x1ccd*-0x1+0x8e4+0x25b1*-0x1):_0x4bbbd2['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x71*0x13+-0x2242+0x9*0x4bd),_0x10d98d=((_0x282325=_0x4bbbd2==null?void(0x1631+-0xe*0x2a2+-0xeab*-0x1):_0x4bbbd2['_colorBuff'+'ers'])==null?void(0xb89+0x323+-0x2*0x756):_0x282325['length'])??(_0x3962cb?0x5fb*-0x1+-0x20f9+0x26f5:0x20a4+-0x57*-0x57+0x5*-0xc71),_0x1870a7=_0x4bbbd2==null?void(-0x15cd*0x1+-0x1901+0x7cd*0x6):_0x4bbbd2['depth'],_0x13351b=_0x4bbbd2==null?void(-0x190c+0x1e3*-0xb+0x2dcd):_0x4bbbd2['stencil'],_0x218083=_0x4bbbd2==null?void(-0xebf+-0x6cd*0x5+0x30c0):_0x4bbbd2['mipLevel'],_0xab120b=_0x4bbbd2?'\x20RT:\x20'+(_0x4bbbd2?_0x4bbbd2['name']:'NULL')+'\x20'+(_0x10d98d>-0x1902*0x1+0x17a+0x1788?'[Color'+(_0x10d98d>0xe9d+-0x1f81*0x1+0x19*0xad?'\x20x\x20'+_0x10d98d:'')+']':'')+(_0x1870a7?'[Depth]':'')+(_0x13351b?'[Stencil]':'')+'\x20'+_0x4bbbd2['width']+'\x20x\x20'+_0x4bbbd2['height']+(this['samples']>-0x1a4*0x1+0x250f+0x1*-0x236b?'\x20samples:\x20'+this['samples']:'')+(_0x218083>-0x130a+0x3d0*-0x6+-0x25*-0x122?'\x20mipLevel:'+'\x20'+_0x218083:''):'',_0x1c4bd4=this['_skipStart']?'++':_0x4b82d2['toString']()['padEnd'](0x2*-0x5ad+-0x2fa+0xe56,'\x20');v['trace'](jp,_0x1c4bd4+':\x20'+this['name']['padEnd'](-0x1*0x572+-0x5*-0x248+-0x5e2,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0xab120b['padEnd'](0x17*0x1c+-0x121f+0xfb9));for(let _0x574995=-0x1e7*0x12+-0x2d2*0x2+0x27e2;_0x574995<_0x10d98d;_0x574995++){const _0x43d69c=this['colorArray'+'Ops'][_0x574995],_0x1f567a=(_0x5606d6=xt['get'](_0x3962cb?_0x42a65a['backBuffer'+'Format']:_0x4bbbd2['getColorBu'+'ffer'](_0x574995)['format']))==null?void(-0x14f1+-0x2*-0x446+0xa7*0x13):_0x5606d6['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x574995+']:\x20'+(_0x43d69c['clear']?'clear':'load')+'->'+(_0x43d69c['store']?'store':'discard')+'\x20'+(_0x43d69c['resolve']?'resolve\x20':'')+(_0x43d69c['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x1f567a+']\x20'+(_0x43d69c['clear']?'[clear:\x20'+_0x43d69c['clearValue']['toString'](!(-0x1a57+-0xf75+0x29cc),!(-0x247d+0x1d12+0x1*0x76b))+']':''));}if(this['depthStenc'+'ilOps']){const _0x295a45=''+(_0x4bbbd2['depthBuffe'+'r']?'\x20[format:\x20'+((_0x4ba991=xt['get'](_0x4bbbd2['depthBuffe'+'r']['format']))==null?void(-0x1b96+0x1a68+0x97*0x2):_0x4ba991['name'])+']':'');_0x1870a7&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x295a45+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x13351b&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x295a45+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x2e4b14){this['array'][this['index']]=_0x2e4b14;}function xb(_0x3ee099,_0x2eece8){this['array'][this['index']]=_0x3ee099,this['array'][this['index']+(-0xd*0x1d2+-0x1789+0x2*0x179a)]=_0x2eece8;}function Sb(_0x3f7312,_0x95aa24,_0x3aaeca){this['array'][this['index']]=_0x3f7312,this['array'][this['index']+(0x744+0xacb+0x907*-0x2)]=_0x95aa24,this['array'][this['index']+(0xdad+-0x1e6d*0x1+0x10c2)]=_0x3aaeca;}function vb(_0x5daea2,_0x6a8aa1,_0x16f0e9,_0x385521){this['array'][this['index']]=_0x5daea2,this['array'][this['index']+(-0x1*0x49b+0x18cb+0x1*-0x142f)]=_0x6a8aa1,this['array'][this['index']+(-0x1fab*-0x1+-0x1fbe*-0x1+-0x3f67)]=_0x16f0e9,this['array'][this['index']+(-0x11*-0x95+-0x1*-0x185d+-0xb*0x31d)]=_0x385521;}function bb(_0x49ffce,_0x3db202,_0x1e5c78){this['array'][_0x49ffce]=_0x3db202[_0x1e5c78];}function wb(_0x25d8db,_0x341dd6,_0x3fe81a){this['array'][_0x25d8db]=_0x341dd6[_0x3fe81a],this['array'][_0x25d8db+(0xbbb+-0x5*-0x1ac+0x1*-0x1416)]=_0x341dd6[_0x3fe81a+(0x1*0x166c+0x524*0x1+-0x1b8f)];}function Tb(_0x15832e,_0x4e574d,_0x4e8dd7){this['array'][_0x15832e]=_0x4e574d[_0x4e8dd7],this['array'][_0x15832e+(0x6d4+-0x1bda+0x1*0x1507)]=_0x4e574d[_0x4e8dd7+(-0xc49+-0x5+0xc4f)],this['array'][_0x15832e+(0x2b*0xd3+-0x1ab5+-0x8ba)]=_0x4e574d[_0x4e8dd7+(0x60e+0x1d75+-0x2381)];}function Ab(_0x4638ca,_0x1005ad,_0x5bce93){this['array'][_0x4638ca]=_0x1005ad[_0x5bce93],this['array'][_0x4638ca+(-0x3ba+-0x1577+0x1932)]=_0x1005ad[_0x5bce93+(-0x35*-0xb+-0x1*0x1a33+0x1*0x17ed)],this['array'][_0x4638ca+(0x175a+-0x1fd*-0x3+-0x1d4f)]=_0x1005ad[_0x5bce93+(0x4e2*0x7+-0xc5f+0x15cd*-0x1)],this['array'][_0x4638ca+(-0x4c4*-0x1+-0x7de+0x1*0x31d)]=_0x1005ad[_0x5bce93+(0x1269+-0x836+-0xa30)];}function Eb(_0x5491d4,_0x3ece5e,_0x4d9d35){_0x3ece5e[_0x4d9d35]=this['array'][_0x5491d4];}function Cb(_0x40b4d4,_0x12675e,_0x29f144){_0x12675e[_0x29f144]=this['array'][_0x40b4d4],_0x12675e[_0x29f144+(-0x1a2f*0x1+0x657+0x13d9)]=this['array'][_0x40b4d4+(0xe8e+-0x1dee*0x1+0xf61)];}function Mb(_0x4cbd8e,_0x48f43a,_0x3eb823){_0x48f43a[_0x3eb823]=this['array'][_0x4cbd8e],_0x48f43a[_0x3eb823+(0x85a*0x2+-0x2*-0x58a+-0x1bc7)]=this['array'][_0x4cbd8e+(0x1e9b+-0x7c8+0x7f*-0x2e)],_0x48f43a[_0x3eb823+(0x7fe+-0x26c3+0x1ec7)]=this['array'][_0x4cbd8e+(0x2*0xbf1+-0xcf8+-0xae8)];}function Pb(_0x3658c1,_0x508de5,_0x1caf8d){_0x508de5[_0x1caf8d]=this['array'][_0x3658c1],_0x508de5[_0x1caf8d+(0xe96+-0x52b*-0x1+-0x13c0)]=this['array'][_0x3658c1+(0x1f7+0x57*-0xb+0x1c7)],_0x508de5[_0x1caf8d+(-0x711+0x21c1*0x1+-0x1aae)]=this['array'][_0x3658c1+(0x9af+0xd*-0x263+0x2*0xaad)],_0x508de5[_0x1caf8d+(0x1fe9+-0x3b*-0x53+-0x3307)]=this['array'][_0x3658c1+(0x15df+-0x18f1+0x1*0x315)];}class Rb{constructor(_0x367aa6,_0x43df23,_0x35373c){switch(this['index']=-0x6aa+0x43a+0x270,this['numCompone'+'nts']=_0x43df23['numCompone'+'nts'],_0x35373c['interleave'+'d']?this['array']=new da[_0x43df23['dataType']](_0x367aa6,_0x43df23['offset']):this['array']=new da[_0x43df23['dataType']](_0x367aa6,_0x43df23['offset'],_0x35373c['vertexCoun'+'t']*_0x43df23['numCompone'+'nts']),this['stride']=_0x43df23['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x43df23['numCompone'+'nts']){case-0xa03+-0x7*0x92+-0xb*-0x146:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case 0x759*-0x1+0x1*-0x7c1+0xf1c:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case 0x1*-0x1d31+-0x18f5*-0x1+0x43f*0x1:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case 0x128a+0x1efe+-0x3184:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x45453b){return this['array'][this['index']+_0x45453b];}['set'](_0x14a6ac,_0x408736,_0x14bb3b,_0x4a9e5e){}['getToArray'](_0x16f4ab,_0x3d4201,_0x316572){}['setFromArr'+'ay'](_0x440408,_0x231640,_0x1e2a17){}}class go{constructor(_0x3fb81c){this['vertexBuff'+'er']=_0x3fb81c,this['vertexForm'+'atSize']=_0x3fb81c['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x6a421f=this['vertexBuff'+'er']['getFormat']();for(let _0x45e95c=0x2*-0xa4b+0x1697+-0x201;_0x45e95c<_0x6a421f['elements']['length'];_0x45e95c++){const _0x2e44cc=_0x6a421f['elements'][_0x45e95c];this['accessors'][_0x45e95c]=new Rb(this['buffer'],_0x2e44cc,_0x6a421f),this['element'][_0x2e44cc['name']]=this['accessors'][_0x45e95c];}}['next'](_0x5df0b6=-0x2*0xc53+-0x1dd*0xf+-0x2*-0x1a4d){let _0xd9a0ad=0x3cd*-0x3+0x2*0xc9d+-0xdd3;const _0x1efb51=this['accessors'],_0x1e1ad3=this['accessors']['length'];for(;_0xd9a0ad<_0x1e1ad3;){const _0x1c6d41=_0x1efb51[_0xd9a0ad++];_0x1c6d41['index']+=_0x5df0b6*_0x1c6d41['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x50f462,_0x409b34,_0x2f5265){const _0x33c6c4=this['element'][_0x50f462];if(_0x33c6c4){_0x2f5265>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x2f5265+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x2f5265=this['vertexBuff'+'er']['numVertice'+'s']);const _0x441a1c=_0x33c6c4['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x3d1f95=0x2663+0x50*-0x1+-0x9*0x43b;for(let _0x322f50=-0x269*-0x7+-0x9b4*0x1+-0x1*0x72b;_0x322f50<_0x2f5265;_0x322f50++)_0x33c6c4['setFromArr'+'ay'](_0x3d1f95,_0x409b34,_0x322f50*_0x441a1c),_0x3d1f95+=_0x33c6c4['stride'];}else{if(_0x409b34['length']>_0x2f5265*_0x441a1c){const _0x305414=_0x2f5265*_0x441a1c;if(ArrayBuffer['isView'](_0x409b34))_0x409b34=_0x409b34['subarray'](-0x10ba*-0x1+0x179d+-0x2857,_0x305414),_0x33c6c4['array']['set'](_0x409b34);else{for(let _0x3cea46=-0x1*-0x19f5+0x15ea+-0x2fdf;_0x3cea46<_0x305414;_0x3cea46++)_0x33c6c4['array'][_0x3cea46]=_0x409b34[_0x3cea46];}}else _0x33c6c4['array']['set'](_0x409b34);}}}['readData'](_0x411455,_0x2feebf){const _0x59c8bb=this['element'][_0x411455];let _0x1d19f=-0x7*-0x239+-0x52*0x3b+0x13*0x2d;if(_0x59c8bb){_0x1d19f=this['vertexBuff'+'er']['numVertice'+'s'];let _0x565d59;const _0x183b55=_0x59c8bb['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x2feebf)&&(_0x2feebf['length']=0x1bac+-0x14*-0x71+-0x124*0x20),_0x59c8bb['index']=0x10b8+-0x1*-0x2437+-0x34ef;let _0x2946b2=-0x1f54+0x1e9d+-0x3d*-0x3;for(_0x565d59=-0x6a7*0x3+-0x95b*0x3+0x3006;_0x565d59<_0x1d19f;_0x565d59++)_0x59c8bb['getToArray'](_0x2946b2,_0x2feebf,_0x565d59*_0x183b55),_0x2946b2+=_0x59c8bb['stride'];}else{if(ArrayBuffer['isView'](_0x2feebf))_0x2feebf['set'](_0x59c8bb['array']);else{_0x2feebf['length']=-0xd67*-0x2+-0x1*-0x1ca+-0x1c98;const _0x3f16c4=_0x1d19f*_0x183b55;for(_0x565d59=-0x52*0x67+0xbdc+0x1522;_0x565d59<_0x3f16c4;_0x565d59++)_0x2feebf[_0x565d59]=_0x59c8bb['array'][_0x565d59];}}}return _0x1d19f;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(0x97d+-0x208a+0x170e);class Db{constructor(_0x312cae,_0x41462c){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x41462c&&(this['key']=_0x41462c['keyCode'],this['element']=_0x41462c['target'],this['event']=_0x41462c);}}const Sl=new Db();function fd(_0xc7a6d3){return Sl['key']=_0xc7a6d3['keyCode'],Sl['element']=_0xc7a6d3['target'],Sl['event']=_0xc7a6d3,Sl;}function vl(_0x4049a5){return typeof _0x4049a5=='string'?_0x4049a5['toUpperCas'+'e']()['charCodeAt'](0x14f0+-0x23fa+0xf0a):_0x4049a5;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x5d3752,_0x4693cf={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x5d3752&&this['attach'](_0x5d3752),this['preventDef'+'ault']=_0x4693cf['preventDef'+'ault']||!(-0x8f5*0x2+-0x1*-0x13ed+0x202*-0x1),this['stopPropag'+'ation']=_0x4693cf['stopPropag'+'ation']||!(0x1fba+0x212d*0x1+-0x40e6));}['attach'](_0xae2e4a){this['_element']&&this['detach'](),this['_element']=_0xae2e4a,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x143*-0xe+-0x10*-0x49+-0x1639)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x1f*0x11a+0xe36+-0x305b)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x6d*-0x1e+-0x1b6a+0x2831)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x19e5+0x1bfe+0x35e2*-0x1)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x3*-0x63+-0x1*0xdb9+-0x25*-0x67));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1906+-0x1513+-0x232*-0x15)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x12c5+-0x1d58+-0x180f*-0x2));}['toKeyIdent'+'ifier'](_0x29f7f8){_0x29f7f8=vl(_0x29f7f8);const _0x4ff4c6=Lb[_0x29f7f8['toString']()];if(_0x4ff4c6)return _0x4ff4c6;let _0x2f8050=_0x29f7f8['toString'](-0x2656+-0x18e7+0xca9*0x5)['toUpperCas'+'e']();const _0x30acad=_0x2f8050['length'];for(let _0x521fd3=0x1*-0x25dc+0x7a8+0x1e34;_0x521fd3<-0xc69+0x1194+-0x1*0x527-_0x30acad;_0x521fd3++)_0x2f8050='0'+_0x2f8050;return'U+'+_0x2f8050;}['_handleKey'+'Down'](_0x329386){const _0x3393bd=_0x329386['keyCode']||_0x329386['charCode'];if(_0x3393bd===void(-0x24fb+-0x29*-0x11+0x2242))return;const _0x3acc9e=this['toKeyIdent'+'ifier'](_0x3393bd);this['_keymap'][_0x3acc9e]=!(0x5ac*0x2+-0x19c3+0xe6b),this['fire']('keydown',fd(_0x329386)),this['preventDef'+'ault']&&_0x329386['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x329386['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x241307){const _0x205bda=_0x241307['keyCode']||_0x241307['charCode'];if(_0x205bda===void(0x2a2*0x4+0x1*0xedb+-0x1963))return;const _0x242824=this['toKeyIdent'+'ifier'](_0x205bda);delete this['_keymap'][_0x242824],this['fire']('keyup',fd(_0x241307)),this['preventDef'+'ault']&&_0x241307['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x241307['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x586a45){this['fire']('keypress',fd(_0x586a45)),this['preventDef'+'ault']&&_0x586a45['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x586a45['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x41324a in this['_lastmap'])delete this['_lastmap'][_0x41324a];for(const _0x2396d1 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x2396d1)&&(this['_lastmap'][_0x2396d1]=this['_keymap'][_0x2396d1]);}['isPressed'](_0x3201fb){const _0xea4490=vl(_0x3201fb),_0x47b458=this['toKeyIdent'+'ifier'](_0xea4490);return!!this['_keymap'][_0x47b458];}['wasPressed'](_0x5e8344){const _0x124b3a=vl(_0x5e8344),_0x1c9733=this['toKeyIdent'+'ifier'](_0x124b3a);return!!this['_keymap'][_0x1c9733]&&!this['_lastmap'][_0x1c9733];}['wasRelease'+'d'](_0xab6c85){const _0x44c636=vl(_0xab6c85),_0x2b2a39=this['toKeyIdent'+'ifier'](_0x44c636);return!this['_keymap'][_0x2b2a39]&&!!this['_lastmap'][_0x2b2a39];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x2764b9,_0x32c881){c(this,'x',0xb03+0x14e7*0x1+-0x56*0x5f),c(this,'y',-0x39*0xad+0xea7+0xd*0x1d6),c(this,'dx',-0x1f7f+-0x44d*-0x3+-0x8c*-0x22),c(this,'dy',0x3d0*0x2+0x445*0x1+-0x69*0x1d),c(this,'button',Ib),c(this,'wheelDelta',-0x409*-0x3+0x7dd+-0x12*0x11c),c(this,'element'),c(this,'ctrlKey',!(-0x6e1*0x1+-0x18b3*0x1+-0x15*-0x181)),c(this,'altKey',!(0xa93*-0x3+-0x7*-0x7b+0x1c5d)),c(this,'shiftKey',!(-0x1*-0x27a+-0x2*0x99a+0x10bb)),c(this,'metaKey',!(-0x8a6+-0x29*-0x7f+-0xbb0)),c(this,'event');let _0x17209f={'x':0x0,'y':0x0};if(_0x32c881){if(_0x32c881 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x17209f=_0x2764b9['_getTarget'+'Coords'](_0x32c881);}else _0x32c881={};if(_0x17209f)this['x']=_0x17209f['x'],this['y']=_0x17209f['y'];else{if(Pu())this['x']=-0xb*-0x332+-0x1e1+-0x33*0xa7,this['y']=0x3e0+0xd2*0x2c+-0x9fe*0x4;else return;}_0x32c881['type']==='wheel'&&(_0x32c881['deltaY']>0x1669+0x72b+0x3*-0x9dc?this['wheelDelta']=0xc95*0x2+-0x1c9*-0x4+-0x204d:_0x32c881['deltaY']<-0x1*-0xea2+-0x2648+0x17a6&&(this['wheelDelta']=-(-0x1241+-0x437*0x5+0x2755))),Pu()?(this['dx']=_0x32c881['movementX']||_0x32c881['webkitMove'+'mentX']||_0x32c881['mozMovemen'+'tX']||0x17b4+-0x1*0x1253+-0x1*0x561,this['dy']=_0x32c881['movementY']||_0x32c881['webkitMove'+'mentY']||_0x32c881['mozMovemen'+'tY']||0xe*-0x163+-0x17df+-0x2b49*-0x1):(this['dx']=this['x']-_0x2764b9['_lastX'],this['dy']=this['y']-_0x2764b9['_lastY']),(_0x32c881['type']==='mousedown'||_0x32c881['type']==='mouseup')&&(this['button']=_0x32c881['button']),this['buttons']=_0x2764b9['_buttons']['slice'](-0x26c2+-0x14e7+-0x3ba9*-0x1),this['element']=_0x32c881['target'],this['ctrlKey']=_0x32c881['ctrlKey']??!(0x14c+-0x1*0x695+-0x54a*-0x1),this['altKey']=_0x32c881['altKey']??!(0x26e9+0x9*-0x431+-0x12f),this['shiftKey']=_0x32c881['shiftKey']??!(-0x1*0x5ab+0x1*0x215f+-0x1bb3*0x1),this['metaKey']=_0x32c881['metaKey']??!(-0x24*0x104+0x1e8a+-0x1*-0x607),this['event']=_0x32c881;}}class bl extends ce{constructor(_0x39deae){super(),c(this,'_lastX',0xe66+-0x5c0+-0x8a6),c(this,'_lastY',-0x149f+-0x259*-0xf+0x1*-0xe98),c(this,'_buttons',[!(0x25a4+0x1*0x10d2+-0x3675),!(-0x1*0x1e41+0xd75+0x17*0xbb),!(0x1819*0x1+-0xa77+-0x48b*0x3)]),c(this,'_lastbutto'+'ns',[!(-0xd*-0x255+0x1fc0+-0x6*0xa58),!(-0x11*0x46+-0xeaa+0x1351),!(-0x14*-0xc8+-0x2283+0x12e4)]),c(this,'_target',null),c(this,'_attached',!(-0x62*-0x52+0x1*-0x215f+0x1fc)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x19f3c0=>{_0x19f3c0['preventDef'+'ault']();},this['attach'](_0x39deae));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0x29923c){if(this['_target']=_0x29923c,this['_attached'])return;this['_attached']=!(0x47*0x12+-0x380+0x1*-0x17e);const _0x560d07={'passive':!(-0x1a5d+-0x9ac+-0x2*-0x1205)},_0x114bc5=ye['passiveEve'+'nts']?_0x560d07:!(0x2fb+0x4f*-0x1a+0x50c);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x114bc5),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x114bc5),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x114bc5),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x114bc5);}['detach'](){if(!this['_attached'])return;this['_attached']=!(0x5c9+-0x1d12+0x174a),this['_target']=null;const _0x1d19ad={'passive':!(-0x797+-0xc4c*-0x3+0x271*-0xc)},_0x2d8ac7=ye['passiveEve'+'nts']?_0x1d19ad:!(0x20*0xe2+-0x474*0x2+0x1*-0x1357);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x2d8ac7),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x2d8ac7),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x2d8ac7),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x2d8ac7);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x2388bd,_0x50dbfd){if(!document['body']['requestPoi'+'nterLock']){_0x50dbfd&&_0x50dbfd();return;}const _0x5b67fc=()=>{_0x2388bd(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x5b67fc);},_0x36dcd9=()=>{_0x50dbfd(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x36dcd9);};_0x2388bd&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x5b67fc,!(-0x21eb+0x15d*0xb+-0x55*-0x39)),_0x50dbfd&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x36dcd9,!(0x1f*-0x65+-0x51e+0x115a)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x248f76){if(!document['exitPointe'+'rLock'])return;const _0x4aa300=()=>{_0x248f76(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x4aa300);};_0x248f76&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x4aa300,!(-0x2260+-0xb3*-0x7+-0x4a*-0x66)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x887+0x8*0x40b+-0x1*0x28df]=this['_buttons'][-0x2448+0x1*0xb2f+0x1*0x1919],this['_lastbutto'+'ns'][-0x1*0x5d7+0x7*-0x3e+0x78a]=this['_buttons'][-0x1a3f+0x2435+-0x9f5*0x1],this['_lastbutto'+'ns'][-0x25*0xc5+-0x1*-0x6e6+0x1595]=this['_buttons'][0x69*-0x4f+0x7a*0x3+0x1efb];}['isPressed'](_0x864f82){return this['_buttons'][_0x864f82];}['wasPressed'](_0x401f45){return this['_buttons'][_0x401f45]&&!this['_lastbutto'+'ns'][_0x401f45];}['wasRelease'+'d'](_0x90aee){return!this['_buttons'][_0x90aee]&&this['_lastbutto'+'ns'][_0x90aee];}['_handleUp'](_0x1efd6e){this['_buttons'][_0x1efd6e['button']]=!(0x892*0x1+0x1cb5+-0x2546);const _0x4240c7=new ta(this,_0x1efd6e);_0x4240c7['event']&&this['fire'](Lm,_0x4240c7);}['_handleDow'+'n'](_0x403987){this['_buttons'][_0x403987['button']]=!(0x595*-0x4+0x16c*-0x16+0x359c);const _0x1e2e0a=new ta(this,_0x403987);_0x1e2e0a['event']&&this['fire'](Im,_0x1e2e0a);}['_handleMov'+'e'](_0x12e66b){const _0x317aac=new ta(this,_0x12e66b);_0x317aac['event']&&(this['fire'](Dm,_0x317aac),this['_lastX']=_0x317aac['x'],this['_lastY']=_0x317aac['y']);}['_handleWhe'+'el'](_0xfae9d5){const _0x5bdd04=new ta(this,_0xfae9d5);_0x5bdd04['event']&&this['fire'](Mu,_0x5bdd04);}['_getTarget'+'Coords'](_0xfc8e8c){const _0x2a84d1=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x3edcf9=Math['floor'](_0x2a84d1['left']),_0x2095ab=Math['floor'](_0x2a84d1['top']);return _0xfc8e8c['clientX']<_0x3edcf9||_0xfc8e8c['clientX']>=_0x3edcf9+this['_target']['clientWidt'+'h']||_0xfc8e8c['clientY']<_0x2095ab||_0xfc8e8c['clientY']>=_0x2095ab+this['_target']['clientHeig'+'ht']?null:{'x':_0xfc8e8c['clientX']-_0x3edcf9,'y':_0xfc8e8c['clientY']-_0x2095ab};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x33e98b,_0xbd04f7,_0x16fa26){return typeof _0xbd04f7=='function'&&(_0x16fa26=_0xbd04f7,_0xbd04f7={}),this['request']('GET',_0x33e98b,_0xbd04f7,_0x16fa26);}['post'](_0x573cc6,_0x54b3c0,_0x22962a,_0xe484b1){return typeof _0x22962a=='function'&&(_0xe484b1=_0x22962a,_0x22962a={}),_0x22962a['postdata']=_0x54b3c0,this['request']('POST',_0x573cc6,_0x22962a,_0xe484b1);}['put'](_0x3ddf0e,_0x162540,_0x177451,_0x182bfb){return typeof _0x177451=='function'&&(_0x182bfb=_0x177451,_0x177451={}),_0x177451['postdata']=_0x162540,this['request']('PUT',_0x3ddf0e,_0x177451,_0x182bfb);}['del'](_0x47d36d,_0x38547a,_0xe9b709){return typeof _0x38547a=='function'&&(_0xe9b709=_0x38547a,_0x38547a={}),this['request']('DELETE',_0x47d36d,_0x38547a,_0xe9b709);}['request'](_0x561df6,_0x871a69,_0x452001,_0x52d36a){let _0x156177,_0x5861e1,_0x151055,_0x33a831=!(-0x76c*0x1+-0x1f*0x141+0x2e4c);if(typeof _0x452001=='function'&&(_0x52d36a=_0x452001,_0x452001={}),_0x452001['retry']&&(_0x452001=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x452001)),_0x452001['callback']=_0x52d36a,_0x452001['async']==null&&(_0x452001['async']=!(-0x1372+-0x1*0xe0e+0x2180)),_0x452001['headers']==null&&(_0x452001['headers']={}),_0x452001['postdata']!=null){if(_0x452001['postdata']instanceof Document)_0x151055=_0x452001['postdata'];else{if(_0x452001['postdata']instanceof FormData)_0x151055=_0x452001['postdata'];else{if(_0x452001['postdata']instanceof Object){let _0x2ec774=_0x452001['headers']['Content-Ty'+'pe'];switch(_0x2ec774===void(-0x2552+-0x1c33+0x1*0x4185)&&(_0x452001['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x2ec774=_0x452001['headers']['Content-Ty'+'pe']),_0x2ec774){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x151055='';let _0x5cf529=!(0x75*-0x38+-0x4cf*0x7+0x3b41);for(const _0x165d3d in _0x452001['postdata'])if(_0x452001['postdata']['hasOwnProp'+'erty'](_0x165d3d)){_0x5cf529?_0x5cf529=!(0x2656+0x25b*0x1+-0x2*0x1458):_0x151055+='&';const _0x378e27=encodeURIComponent(_0x165d3d),_0xb05970=encodeURIComponent(_0x452001['postdata'][_0x165d3d]);_0x151055+=_0x378e27+'='+_0xb05970;}break;}default:case be['ContentTyp'+'e']['JSON']:_0x2ec774==null&&(_0x452001['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x151055=JSON['stringify'](_0x452001['postdata']);break;}}else _0x151055=_0x452001['postdata'];}}}if(_0x452001['cache']===!(0x128*-0x13+-0x1f6f+-0xd5a*-0x4)){const _0x3818be=ne();_0x156177=new sd(_0x871a69),_0x156177['query']?_0x156177['query']=_0x156177['query']+'&ts='+_0x3818be:_0x156177['query']='ts='+_0x3818be,_0x871a69=_0x156177['toString']();}_0x452001['query']&&(_0x156177=new sd(_0x871a69),_0x5861e1=vh(_0x156177['getQuery'](),_0x452001['query']),_0x156177['setQuery'](_0x5861e1),_0x871a69=_0x156177['toString']());const _0x3fdfdf=new XMLHttpRequest();_0x3fdfdf['open'](_0x561df6,_0x871a69,_0x452001['async']),_0x3fdfdf['withCreden'+'tials']=_0x452001['withCreden'+'tials']!==void(-0xc1c+-0xb8d+0x7e3*0x3)?_0x452001['withCreden'+'tials']:!(-0x35*0x2c+0x1*0x44e+0x4cf),_0x3fdfdf['responseTy'+'pe']=_0x452001['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x871a69);for(const _0x36e63e in _0x452001['headers'])_0x452001['headers']['hasOwnProp'+'erty'](_0x36e63e)&&_0x3fdfdf['setRequest'+'Header'](_0x36e63e,_0x452001['headers'][_0x36e63e]);_0x3fdfdf['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x561df6,_0x871a69,_0x452001,_0x3fdfdf);},_0x3fdfdf['onerror']=()=>{this['_onError'](_0x561df6,_0x871a69,_0x452001,_0x3fdfdf),_0x33a831=!(-0x22e3+0x11a+0x21c9);};try{_0x3fdfdf['send'](_0x151055);}catch(_0x3dbb8a){_0x33a831||_0x452001['error'](_0x3fdfdf['status'],_0x3fdfdf,_0x3dbb8a);}return _0x3fdfdf;}['_guessResp'+'onseType'](_0x4e333a){const _0x210883=new sd(_0x4e333a),_0x384bf6=fe['getExtensi'+'on'](_0x210883['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x384bf6)>=-0xd*0x56+-0x1*0xa00+-0x265*-0x6?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x384bf6==='.json'?be['ResponseTy'+'pe']['JSON']:_0x384bf6==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x1165e9){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x1165e9)>=-0xffe+-0x19de+0x11a*0x26;}['_isBinaryR'+'esponseTyp'+'e'](_0x147066){return _0x147066===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x147066===be['ResponseTy'+'pe']['BLOB']||_0x147066===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x5bcbb9,_0x12da7f,_0x2d9d62,_0x15b7b9){if(_0x15b7b9['readyState']===0x1625*-0x1+-0x1*0xcc3+0x22ec)switch(_0x15b7b9['status']){case 0x61c*0x1+0x203+-0x81f:{_0x15b7b9['responseUR'+'L']&&_0x15b7b9['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x5bcbb9,_0x12da7f,_0x2d9d62,_0x15b7b9):this['_onError'](_0x5bcbb9,_0x12da7f,_0x2d9d62,_0x15b7b9);break;}case 0x1928+-0x238f+0x1*0xb2f:case 0x1*0xe24+0x1e6a+0x8c1*-0x5:case-0x10*0x15d+0x14f*0x3+-0x91*-0x21:case 0xc5e*-0x3+0x1*-0x229+0x2873:{this['_onSuccess'](_0x5bcbb9,_0x12da7f,_0x2d9d62,_0x15b7b9);break;}default:{this['_onError'](_0x5bcbb9,_0x12da7f,_0x2d9d62,_0x15b7b9);break;}}}['_onSuccess'](_0xaaba55,_0xd72aca,_0x3d3386,_0x335091){let _0x107e66,_0x13727f;const _0x27283d=_0x335091['getRespons'+'eHeader']('Content-Ty'+'pe');_0x27283d&&(_0x13727f=_0x27283d['split'](';')[0x1a*-0xcd+0x65f+-0x1*-0xe73]['trim']());try{this['_isBinaryC'+'ontentType'](_0x13727f)||this['_isBinaryR'+'esponseTyp'+'e'](_0x335091['responseTy'+'pe'])?_0x107e66=_0x335091['response']:_0x13727f===be['ContentTyp'+'e']['JSON']||_0xd72aca['split']('?')[-0x11a0+-0x247+-0x1*-0x13e7]['endsWith']('.json')?_0x107e66=JSON['parse'](_0x335091['responseTe'+'xt']):_0x335091['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x13727f===be['ContentTyp'+'e']['XML']?_0x107e66=_0x335091['responseXM'+'L']:_0x107e66=_0x335091['responseTe'+'xt'],_0x3d3386['callback'](null,_0x107e66);}catch(_0x5f261d){_0x3d3386['callback'](_0x5f261d);}}['_onError'](_0x35a3c9,_0xb6c084,_0x19bdad,_0x1c95eb){if(!_0x19bdad['retrying']){if(_0x19bdad['retry']&&_0x19bdad['retries']<_0x19bdad['maxRetries']){_0x19bdad['retries']++,_0x19bdad['retrying']=!(0x502*-0x7+0xf*-0x61+0x28bd);const _0xc7d4ad=N['clamp'](Math['pow'](0xb83*-0x1+0xf*-0x125+0x18*0x132,_0x19bdad['retries'])*be['retryDelay'],0xbd7*0x1+-0x7*-0x184+-0x1673*0x1,_0x19bdad['maxRetryDe'+'lay']||-0x2f*-0xbf+-0x3f+-0xf4a);console['log'](_0x35a3c9+':\x20'+_0xb6c084+'\x20-\x20Error\x20'+_0x1c95eb['status']+('.\x20Retrying'+'\x20in\x20')+_0xc7d4ad+'\x20ms'),setTimeout(()=>{_0x19bdad['retrying']=!(-0x5*-0x557+-0x27*-0x15+0x1de5*-0x1),this['request'](_0x35a3c9,_0xb6c084,_0x19bdad,_0x19bdad['callback']);},_0xc7d4ad);}else _0x19bdad['callback'](_0x1c95eb['status']===0x1020+0x118c+-0x21ac?'Network\x20er'+'ror':_0x1c95eb['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',0x66b*-0x1+0x1*0x20a2+0x259*-0xb);let ls=be;const We=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x211fc1,_0x5c57d8,_0x23603f={}){if(this['volume']=_0x23603f['volume']??-0x5d*0xe+-0x1f58*-0x1+-0x1a41,this['loop']=_0x23603f['loop']??!(0x2e7*0x4+-0x602+-0x599),this['pitch']=_0x23603f['pitch']??0x1*0x218b+0x165+0xb*-0x32d,this['sound']=_0x5c57d8,this['paused']=!(-0x2092+-0x6*0x60a+0x44cf),this['suspended']=!(0x239e+-0x121e+-0x117f),this['manager']=_0x211fc1,this['source']=null,Li()){this['startTime']=0x1ca*0x1+-0x84b+0x681,this['startOffse'+'t']=-0x1bfd+-0x1ec2+-0x1395*-0x3;const _0x5a5ac6=_0x211fc1['context'];this['gain']=_0x5a5ac6['createGain']();}else _0x5c57d8['audio']&&(this['source']=_0x5c57d8['audio']['cloneNode'](!(0x45e+0x1*0x1d26+-0x175*0x17)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x47a159){this['loop']=_0x47a159,this['source']&&(this['source']['loop']=_0x47a159);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(-0x84a*0x1+0x118d*-0x1+0x3b1*0x7),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(-0x10eb*0x2+-0x1*-0x964+0x239*0xb),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x1997+-0x3e+0x135*-0x15,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(0x1026+-0xf76*0x2+0xec6),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](-0x47f*0x1+0x6*0x611+-0x1fe7),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x246e+0xc*-0x19b+-0x2*0x895,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(0x11*-0x1b4+0x2443+0x176*-0x5));}['stop'](){this['source']&&(this['source']['stop'](-0x456*0x8+-0x2189+0x4439),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x25c045){_0x25c045=N['clamp'](_0x25c045,-0x33a+-0x76+0x3b0,-0x541+-0x1*0xf77+0x14b9),this['volume']=_0x25c045,this['gain']&&(this['gain']['gain']['value']=_0x25c045*this['manager']['volume']);}['setPitch'](_0x25a43f){this['pitch']=_0x25a43f,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x25a43f);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0x849+0x26f3+-0x1eaa;}['_createSou'+'rce'](){const _0x44600a=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x44600a['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x44600a['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(-0x6cb+0x1b*-0xc2+0x1b42*0x1),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(-0xab1+0x1976+-0xec5),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(0x9*-0x153+0xf4+0xaf8),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x1b3e5e){_0x1b3e5e=N['clamp'](_0x1b3e5e,0x1968+0x26d1*0x1+-0x4039,-0x192a+0x51*-0x16+0x2021),this['volume']=_0x1b3e5e,this['source']&&(this['source']['volume']=_0x1b3e5e*this['manager']['volume']);},'setPitch':function(_0x1afc07){this['pitch']=_0x1afc07,this['source']&&(this['source']['playbackRa'+'te']=_0x1afc07);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:-0x2b5+0x136+0x17f;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=0x3d91+0x162d+-0x12d*0x26;class Ru extends kh{constructor(_0x1e86f1,_0x1909bd,_0x93e652){super(_0x1e86f1,_0x1909bd,_0x93e652),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x1e86f1['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=-0x12a2+-0x59*0x7+-0x1512*-0x1,this['rollOffFac'+'tor']=-0x526*-0x7+0x10db+0xd39*-0x4,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x50241f){this['position']['copy'](_0x50241f);const _0xa3251c=this['panner'];'positionX'in _0xa3251c?(_0xa3251c['positionX']['value']=_0x50241f['x'],_0xa3251c['positionY']['value']=_0x50241f['y'],_0xa3251c['positionZ']['value']=_0x50241f['z']):_0xa3251c['setPositio'+'n']&&_0xa3251c['setPositio'+'n'](_0x50241f['x'],_0x50241f['y'],_0x50241f['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x18574c){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x18574c);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x53981a){this['panner']['maxDistanc'+'e']=_0x53981a;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x388a26){this['panner']['refDistanc'+'e']=_0x388a26;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x56104c){this['panner']['rolloffFac'+'tor']=_0x56104c;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x1296cb){this['panner']['distanceMo'+'del']=_0x1296cb;}['_createSou'+'rce'](){const _0x4396d2=this['manager']['context'];this['source']=_0x4396d2['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x4396d2['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x5b618f,_0x350bd3,_0x40a84e,_0x3dae1d,_0x157d03,_0x2ffa2f){l=l['sub2'](_0x5b618f,_0x350bd3);const _0x4f55c4=l['length']();if(_0x4f55c4<_0x40a84e)return 0x1a88+0xb57*-0x3+0x89*0xe;if(_0x4f55c4>_0x3dae1d)return-0x1fc3*0x1+-0x1*0x104a+0x300d;let _0x5b4bd8=-0x38f*0x1+-0x214d+-0x7*-0x544;return _0x2ffa2f===cc?_0x5b4bd8=0x12bb+0x2*-0xb71+-0x2*-0x214-_0x157d03*(_0x4f55c4-_0x40a84e)/(_0x3dae1d-_0x40a84e):_0x2ffa2f===Ff?_0x5b4bd8=_0x40a84e/(_0x40a84e+_0x157d03*(_0x4f55c4-_0x40a84e)):_0x2ffa2f===cy&&(_0x5b4bd8=Math['pow'](_0x4f55c4/_0x40a84e,-_0x157d03)),N['clamp'](_0x5b4bd8,0x4*0x53b+-0x61d+-0xecf,0xbe2+0x2703+-0x32e4);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x44b5a7){if(this['position']['copy'](_0x44b5a7),this['source']){const _0x42c744=this['manager']['listener']['getPositio'+'n'](),_0x411dd7=t(_0x42c744,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x1f9500=this['getVolume']();this['source']['volume']=_0x1f9500*_0x411dd7;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x2c7f7d){this['maxDistanc'+'e']=_0x2c7f7d;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x157642){this['minDistanc'+'e']=_0x157642;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x567b9d){this['rollOffFac'+'tor']=_0x567b9d;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x1c0b37){this['distanceMo'+'del']=_0x1c0b37;}});}class Ob{constructor(_0x53c61c){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x53c61c;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x859be){this['position']['copy'](_0x859be);const _0x4f66a4=this['listener'];_0x4f66a4&&('positionX'in _0x4f66a4?(_0x4f66a4['positionX']['value']=_0x859be['x'],_0x4f66a4['positionY']['value']=_0x859be['y'],_0x4f66a4['positionZ']['value']=_0x859be['z']):_0x4f66a4['setPositio'+'n']&&_0x4f66a4['setPositio'+'n'](_0x859be['x'],_0x859be['y'],_0x859be['z']));}['setOrienta'+'tion'](_0x3d475c){this['orientatio'+'n']['copy'](_0x3d475c);const _0x4c37d7=this['listener'];if(_0x4c37d7){const _0x383a65=_0x3d475c['data'];'forwardX'in _0x4c37d7?(_0x4c37d7['forwardX']['value']=-_0x383a65[-0x1*-0x260b+0x2a7+-0x28aa],_0x4c37d7['forwardY']['value']=-_0x383a65[0xa2a+-0xca5+-0xe*-0x2e],_0x4c37d7['forwardZ']['value']=-_0x383a65[-0x5*-0x7bf+0x1*0x1f57+0x6*-0xbac],_0x4c37d7['upX']['value']=_0x383a65[-0x94e+0xb3*-0x2f+0x2a2f],_0x4c37d7['upY']['value']=_0x383a65[-0x1a51+-0x613*0x1+0x2069],_0x4c37d7['upZ']['value']=_0x383a65[0x1*-0xffd+-0x1*0x79d+-0x6c*-0x38]):_0x4c37d7['setOrienta'+'tion']&&_0x4c37d7['setOrienta'+'tion'](-_0x383a65[-0x1d53+-0x1fa3+0x3cfe],-_0x383a65[-0x836+-0x1f*-0xc1+-0xf20],-_0x383a65[-0x8b1+-0x17bb+-0xad2*-0x3],_0x383a65[-0x205+-0xcf1+0xefa],_0x383a65[0x4*0x187+-0x109*-0x14+-0x1acb],_0x383a65[-0xf3+0x25e5+0x4*-0x93b]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x4f577e=this['_manager']['context'];return _0x4f577e?_0x4f577e['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0x23c+-0x6d*-0x49+-0x1cd8),this['listener']=new Ob(this),this['_volume']=0x1*0xd39+0x18ed+-0x2625;}set['volume'](_0x378074){_0x378074=N['clamp'](_0x378074,0xfd1+-0x1ec2+0xef1,-0x14ec*-0x1+-0x1*-0x259a+-0x3a85),this['_volume']=_0x378074,this['fire']('volumechan'+'ge',_0x378074);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0x160c+0x1b7+0x1455),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0xb*0x21+0x45e+-0x2f2),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x2b8a0c;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x2b8a0c=this['_context'])==null||_0x2b8a0c['close'](),this['_context']=null);}['playSound'](_0x13bfac,_0x25951d={}){let _0x20ceaf=null;return kh&&(_0x20ceaf=new kh(this,_0x13bfac,_0x25951d),_0x20ceaf['play']()),_0x20ceaf;}['playSound3'+'d'](_0xa710b0,_0x5400b0,_0x37bcf4={}){let _0x2fd8d8=null;return Ru&&(_0x2fd8d8=new Ru(this,_0xa710b0,_0x37bcf4),_0x2fd8d8['setPositio'+'n'](_0x5400b0),_0x37bcf4['volume']&&_0x2fd8d8['setVolume'](_0x37bcf4['volume']),_0x37bcf4['loop']&&_0x2fd8d8['setLoop'](_0x37bcf4['loop']),_0x37bcf4['maxDistanc'+'e']&&_0x2fd8d8['setMaxDist'+'ance'](_0x37bcf4['maxDistanc'+'e']),_0x37bcf4['minDistanc'+'e']&&_0x2fd8d8['setMinDist'+'ance'](_0x37bcf4['minDistanc'+'e']),_0x37bcf4['rollOffFac'+'tor']&&_0x2fd8d8['setRollOff'+'Factor'](_0x37bcf4['rollOffFac'+'tor']),_0x37bcf4['distanceMo'+'del']&&_0x2fd8d8['setDistanc'+'eModel'](_0x37bcf4['distanceMo'+'del']),_0x2fd8d8['play']()),_0x2fd8d8;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x4b13ca=this['_context']['createBuff'+'erSource']();_0x4b13ca['buffer']=this['_context']['createBuff'+'er'](0x1680+-0x56a+-0x1*0x1115,0x6*-0x30a+0x179a+0x55d*-0x1,this['_context']['sampleRate']),_0x4b13ca['connect'](this['_context']['destinatio'+'n']),_0x4b13ca['start'](0x21*0x75+0x1*0x17a1+-0x1*0x26b6),_0x4b13ca['onended']=_0x29c80b=>{_0x4b13ca['disconnect'](0x6f6+0x1b6*-0x2+-0x97*0x6),this['fire']('resume');};},_0x27cca6=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x27cca6);})['catch'](_0x396aa0=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x396aa0);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x12cab2=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x12cab2);})['catch'](_0x1cc800=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x1cc800);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x36f888=>{window['addEventLi'+'stener'](_0x36f888,this['_unlockHan'+'dlerFunc'],!(0x413+-0x87+-0x38b));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x33e887=>{window['removeEven'+'tListener'](_0x33e887,this['_unlockHan'+'dlerFunc'],!(-0xcb*-0x13+-0x1692+0x782));});}}class Bb{constructor(_0x4dc74f){c(this,'audio'),c(this,'buffer'),_0x4dc74f instanceof Audio?this['audio']=_0x4dc74f:this['buffer']=_0x4dc74f;}get['duration'](){let _0x466e55=0x14*0xe5+0x5*-0xc1+-0xe1f;return this['buffer']?_0x466e55=this['buffer']['duration']:this['audio']&&(_0x466e55=this['audio']['duration']),_0x466e55||0x47e+-0xb*-0x3a+-0x6fc;}}const Pt=-0x241*0xa+-0x1*0x1957+0x2fe1,sa=-0x1b1c+-0xf5e+0x2a7b,ws=-0x43f*-0x1+0x12db+-0x1718;function Rt(_0x15834b,_0x26867f){return _0x15834b%_0x26867f||0x1c9b+-0x8d3+-0x13c8;}class ss extends ce{constructor(_0xcec283,_0x335eec,_0x3c26b0){super(),c(this,'source',null),(this['_manager']=_0xcec283,this['_volume']=_0x3c26b0['volume']!==void(0x4*0x908+0x2408+-0x905*0x8)?N['clamp'](Number(_0x3c26b0['volume'])||0x11f*-0x1a+-0x3*0x2d1+0x2599,-0x1071+-0xc1*0x13+0x1ec4,0x1783*-0x1+0x177c+0x8*0x1):-0xebf+0x1b*-0xa3+0x1ff1,this['_pitch']=_0x3c26b0['pitch']!==void(-0x1*-0x1ab1+-0xf55+-0xb5c)?Math['max'](-0x7d3*-0x2+0xdbb+-0x1d61+0.01,Number(_0x3c26b0['pitch'])||-0xc9*-0x1+-0xa41+0x6*0x194):0x62*-0x20+-0x1f1f+0x2b60*0x1,this['_loop']=!!(_0x3c26b0['loop']!==void(0x1*0xf25+-0x3d3*-0x1+-0x12f8)&&_0x3c26b0['loop']),this['_sound']=_0x335eec,this['_state']=ws,this['_suspended']=!(0x1b17+-0xa26+-0x10f0),this['_suspendEn'+'dEvent']=0x22a+-0x1*-0x2263+-0x248d,this['_suspendIn'+'stanceEven'+'ts']=!(-0x70*-0x2c+-0x1*-0x1d63+-0x30a2),this['_playWhenL'+'oaded']=!(-0x600+-0x2*-0x755+0x8aa*-0x1),this['_startTime']=Math['max'](0x1ff1+-0xe29+-0x4*0x472,Number(_0x3c26b0['startTime'])||0x163*0x13+-0x127a+-0x7df),this['_duration']=Math['max'](-0x1812*-0x1+0x3b*-0xa5+0xdf5,Number(_0x3c26b0['duration'])||-0x2*0xb8d+0x7*0x133+-0x5*-0x2f1),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x3c26b0['onPlay'],this['_onPauseCa'+'llback']=_0x3c26b0['onPause'],this['_onResumeC'+'allback']=_0x3c26b0['onResume'],this['_onStopCal'+'lback']=_0x3c26b0['onStop'],this['_onEndCall'+'back']=_0x3c26b0['onEnd'],Li()?(this['_startedAt']=0x1c24*-0x1+0x1b9b+0x1*0x89,this['_currentTi'+'me']=-0x12*-0xec+0x8b2+-0x194a,this['_currentOf'+'fset']=-0x2467+-0x1a3*0x7+0x2fdc,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x21ad+0x3d*-0xd+-0x1*-0x24c7),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0xa39+0x1956+-0xf1c),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x1ec58c){if(!(_0x1ec58c<0x1a*-0x79+0x560+0x6ea)){if(this['_state']===Pt){const _0x3913af=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x2351+0x1536+0x9d*0x17),this['stop'](),this['_startOffs'+'et']=_0x1ec58c,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x3913af;}else this['_startOffs'+'et']=_0x1ec58c,this['_currentTi'+'me']=_0x1ec58c;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?0x1cf0+0x7*-0x55d+-0x89b*-0x1:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x5e3fc7){this['_duration']=Math['max'](-0xad5*0x2+0xac8+-0x2*-0x571,Number(_0x5e3fc7)||-0x949+-0xcad+0x15f6);const _0x4c7937=this['_state']===Pt;this['stop'](),_0x4c7937&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0xa71*-0x3+0x73*0x10+0x2683*-0x1;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x125116){this['_loop']=!!_0x125116,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x7ffb0){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x7ffb0)||0x1*0x1df5+-0x1*-0xa7d+-0x2872,-0x14f7+-0x36e*0x1+0x1865+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x56c35a){this['_sound']=_0x56c35a,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x2bee1f){this['_startTime']=Math['max'](-0x1*-0x1597+0xf*-0x1a5+0x314,Number(_0x2bee1f)||-0x1434+0x24a1*-0x1+-0x1*-0x38d5);const _0x2e0691=this['_state']===Pt;this['stop'](),_0x2e0691&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x54a53){_0x54a53=N['clamp'](_0x54a53,0x1*-0x14fd+0x1e8e*0x1+0x1*-0x991,-0x1*0x242+-0xfa3+-0x3a*-0x4f),this['_volume']=_0x54a53,this['gain']&&(this['gain']['gain']['value']=_0x54a53*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x27*0xc7+-0xf07+0x2d58){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(-0x302+0x6*-0x22d+0x1010),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x7*0x4b+0x2687+0x2479*-0x1),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x1d9+0xcf2+-0x6*0x277),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0xc*-0xef+-0x811*0x2+0x1b57):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x11f7+-0x1*-0x185b+-0x2*0x332),!(0x1b7c+0x1*0xd87+0x16a*-0x1d)):(this['_playAudio'+'Immediate'](),!(-0x1*-0x1daf+0x4e0+-0x228f));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0xf24+0x2560+0x3483*-0x1),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x5dd3ec=Rt(this['_startOffs'+'et'],this['duration']);_0x5dd3ec=Rt(this['_startTime']+_0x5dd3ec,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x5aa+-0x2*0xe12+0x2a*0x89,_0x5dd3ec,this['_duration']):this['source']['start'](-0x20ef+-0x16ac+0x379b,_0x5dd3ec),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0xa*-0xad+-0xf4*0x25+0x2a06,this['_currentOf'+'fset']=_0x5dd3ec,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0xf7a+0x22a*-0x2+0x13cf),this['_state']!==Pt?!(0xced+-0x2254+0x1568):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x13b3*0x1+0x6ff+0x2*-0xd59),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x41b+-0x9f*0x33+0x23c8));}['resume'](){if(this['_state']!==sa)return!(0x752+0x1ca*-0x7+0x535);let _0x3cd190=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x3cd190=Rt(this['_startOffs'+'et'],this['duration']),_0x3cd190=Rt(this['_startTime']+_0x3cd190,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0xd3d*-0x1+-0x1a7a+-0x3*-0xd3d,_0x3cd190,this['_duration']):this['source']['start'](0x9de+-0x2644+0x5ae*0x5,_0x3cd190),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x3cd190,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x6d9*-0x1+-0x907*0x2+0x18e8),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x645*-0x6+-0x457*0x7+-0x1*0x73d);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0x4*-0x2d2+0x152d+0x4*-0x81d),this['_state']===ws)return!(0xbf6*-0x3+-0xb6a*0x1+-0x2f4d*-0x1);const _0x5b5a03=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x658+-0x113f*-0x1+-0xae7*0x1,this['_currentTi'+'me']=-0x46*-0x81+0x17f*-0x15+0x149*-0x3,this['_currentOf'+'fset']=0x280*0x6+0x53*-0x74+0x169c,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x5b5a03&&this['source']&&this['source']['stop'](-0x17+0x1b29*0x1+-0x1b12),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x121f*-0x1+0x1*-0x7e6+0xa39*-0x1);}['setExterna'+'lNodes'](_0x12d047,_0x4e198b){if(!_0x12d047){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x4e198b||(_0x4e198b=_0x12d047);const _0x34f2b2=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x12d047&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x34f2b2),this['_firstNode']=_0x12d047,this['_connector'+'Node']['connect'](_0x12d047)),this['_lastNode']!==_0x4e198b&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x34f2b2),this['_lastNode']=_0x4e198b,this['_lastNode']['connect'](_0x34f2b2));}['clearExter'+'nalNodes'](){const _0x21e87a=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x21e87a),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x21e87a);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0xeeb834=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0xeeb834['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](-0x241c+-0x1*0x1c98+-0x194*-0x29),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x92*-0x28+0x1a03*0x1+-0x332*0x1):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x8*0x4c3+-0xbde+0x31f7*0x1),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x1a1c+0x2d2+0xa1*-0x2e));},'pause':function(){return!this['source']||this['_state']!==Pt?!(0xcf5+-0x783+0xc7*-0x7):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x1*0x2117+-0xd9*0x2+-0x1f64),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(0x718+0x131b*0x1+-0x1a33));},'resume':function(){return!this['source']||this['_state']!==sa?!(0x179e+-0x2703+0x92*0x1b):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x298+0xe39+-0xba0),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x21*0xfb+-0x238b+0x88*0x6));},'stop':function(){return!this['source']||this['_state']===ws?!(0x11ce+0xe42+-0x200f*0x1):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x51*-0x17+-0x1a39+-0x3*-0x651),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0x1b50+-0x194f+-0x201));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x1*-0x2125+0x74*0x2e+0xc4d);let _0x5c9218=Rt(this['_startOffs'+'et'],this['duration']);_0x5c9218=Rt(this['_startTime']+_0x5c9218,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x5c9218;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x2602+0x1a1a+-0x401b),this['source']=this['_sound']['audio']['cloneNode'](!(-0x9db+0x1*0x1e95+-0x14ba)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x1e9c9b){_0x1e9c9b=N['clamp'](_0x1e9c9b,-0x2*0x42b+0x2f2+0x564,0x2a*-0x46+0x22bb+-0x46*0x55),this['_volume']=_0x1e9c9b,this['source']&&(this['source']['volume']=_0x1e9c9b*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x411a52){this['_pitch']=Math['max'](Number(_0x411a52)||0x5f*-0x23+-0xbb6*-0x1+0x147,-0xea3+0x590*-0x5+-0x1*-0x2a73+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x169999){this['stop'](),this['_sound']=_0x169999;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?-0xdf*-0x8+-0x525+-0x1*0x1d3:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x2854df){_0x2854df<0x243a+-0x1d95+-0x6a5||(this['_startOffs'+'et']=_0x2854df,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0x2854df,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=-0xaa1+-0x184a+-0x1*-0x49fb;class jn extends ss{constructor(_0x4a5c08,_0x41d58c,_0x51dfb3={}){super(_0x4a5c08,_0x41d58c,_0x51dfb3),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x51dfb3['position']&&(this['position']=_0x51dfb3['position']),this['maxDistanc'+'e']=_0x51dfb3['maxDistanc'+'e']!==void(-0x8ef+0x30f+-0xbc*-0x8)?Number(_0x51dfb3['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x51dfb3['refDistanc'+'e']!==void(0x2d*0xab+0x1acb+-0x38da)?Number(_0x51dfb3['refDistanc'+'e']):0x148e+-0x2*0x1010+0xb93,this['rollOffFac'+'tor']=_0x51dfb3['rollOffFac'+'tor']!==void(0x1db3*-0x1+-0xd6+-0x1*-0x1e89)?Number(_0x51dfb3['rollOffFac'+'tor']):0x11*-0x232+-0x1*-0x11fc+0x1357,this['distanceMo'+'del']=_0x51dfb3['distanceMo'+'del']!==void(-0x3*0x4a7+-0x13*0x9d+-0x4*-0x667)?_0x51dfb3['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x4fe740){this['_position']['copy'](_0x4fe740);const _0x1f2c21=this['panner'];'positionX'in _0x1f2c21?(_0x1f2c21['positionX']['value']=_0x4fe740['x'],_0x1f2c21['positionY']['value']=_0x4fe740['y'],_0x1f2c21['positionZ']['value']=_0x4fe740['z']):_0x1f2c21['setPositio'+'n']&&_0x1f2c21['setPositio'+'n'](_0x4fe740['x'],_0x4fe740['y'],_0x4fe740['z']);}get['position'](){return this['_position'];}set['velocity'](_0x554f40){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x554f40);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x3b730b){this['panner']['maxDistanc'+'e']=_0x3b730b;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0xd8488e){this['panner']['refDistanc'+'e']=_0xd8488e;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x205b5f){this['panner']['rolloffFac'+'tor']=_0x205b5f;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x28a292){this['panner']['distanceMo'+'del']=_0x28a292;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x51a51e,_0x261359,_0x3868f9,_0x5a1be5,_0x4f58a4,_0x357793){l=l['sub2'](_0x51a51e,_0x261359);const _0x15bfe2=l['length']();if(_0x15bfe2<_0x3868f9)return-0x2b*-0x35+0x1352+-0x1c38;if(_0x15bfe2>_0x5a1be5)return 0x7f8+-0x2*-0xb9e+-0x1f34;let _0x123ba6=0xe5*-0x4+0x1c7d+-0x7*0x38f;return _0x357793===cc?_0x123ba6=0x20ee+0x24af+-0x459c-_0x4f58a4*(_0x15bfe2-_0x3868f9)/(_0x5a1be5-_0x3868f9):_0x357793===Ff?_0x123ba6=_0x3868f9/(_0x3868f9+_0x4f58a4*(_0x15bfe2-_0x3868f9)):_0x357793===cy&&(_0x123ba6=Math['pow'](_0x15bfe2/_0x3868f9,-_0x4f58a4)),N['clamp'](_0x123ba6,-0x1*-0x215d+-0x20a9+-0x1e*0x6,-0x5*-0x12b+-0x3*0x6b7+-0x9*-0x197);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x552299){if(this['_position']['copy'](_0x552299),this['source']){const _0x22e196=this['_manager']['listener']['getPositio'+'n'](),_0x3004f0=t(_0x22e196,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x9f73dd=this['volume'];this['source']['volume']=_0x9f73dd*_0x3004f0*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x7683be){this['_maxDistan'+'ce']=_0x7683be;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x30f80b){this['_refDistan'+'ce']=_0x30f80b;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x1b5712){this['_rollOffFa'+'ctor']=_0x1b5712;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x20b5c1){this['_distanceM'+'odel']=_0x20b5c1;}});}const n0=0x1263+0x3b3*0x7+-0x1b4*0x1a,yp=-0x4*0x980+0x194b+0xcb6,Kt=0x1aeb+-0x1*-0x103f+0x1*-0x2b28,is=0x64d*-0x1+-0x2*-0x1201+-0x9e6*0x3,hr=-0x26a4*0x1+-0x1a67+-0x1*-0x410f,xp=-0xd7a+-0x114d+0x49*0x6c,Hc=-0x1*0x7ec+-0x842+0x1034,a0=0x43*0x4+-0x1150+0x104b,o0=-0x3*-0x9fd+0x1938+0x7*-0x7e1,l0=-0xdb5+-0x198f+0x274d*0x1,h0=0x1c5*0xd+0x267b*-0x1+0xf84,Fa='none',zb='linear',Sp=-0x225e+-0x59+0xb93*0x3,Ub=0x1c7b*-0x1+0x248*-0x4+0x259b,Vb=-0x3c*0x33+-0x15*0x95+-0x97*-0x29,c0=0x6*0x328+0x1452+0xd11*-0x3,Fi=0x2*0x83+0x10c2+-0x472*0x4,Xt=-0x12a*0x11+-0x177*0x5+0x1b1e,vp=-0x1*0x1082+-0xb24*-0x2+-0x3*0x1ec,bp=-0x1*0x9c5+-0x737*0x5+0x387*0xd,tl=-0x24b9+-0x1d16+0x89*0x7b,oe=-0x634+0x1799+0x3d*-0x49,Pe=0x3*0xc95+-0x1*-0x157d+-0x3b3b*0x1,Re=0xcd0+0xb2*0x3+0x1*-0xee4,yt=0x1216*0x1+-0x6c3+-0xb53*0x1,Gb=-0x9df+-0x107b*0x1+0x1a5b,Hb=0x58*-0x25+-0xac*-0x2e+-0x122e,$b=-0xafd+-0x1a77+0x2577,wp=0xc1*0x1a+0x6a*-0x16+0x22*-0x4f,Wb=-0x2620+0x1*0x96a+0x1cb7,Dt=-0x711*0x1+0x1121*0x1+-0x38*0x2e,Hr=-0x44*-0x44+0x235f+-0x356d,$r=0x44f*0x2+-0x1*0x13b5+0xb1a,lh=0xf*0x167+-0x118*0x17+-0x423*-0x1,Bh=-0x1d43+-0xa6*0x38+-0x2*-0x20cc,Ts=-0x145c+-0x1345+-0x27a7*-0x1,Nh=0xf75+0x2f6*-0x2+-0x982,zh=-0x33b*-0x2+0x312*-0x5+0x8ec*0x1,Iu=-0x2449*-0x1+0x3*-0xc97+0x185,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(-0x5a6+0x25ca*0x1+0x1*-0x2024)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(0x3*-0x85f+0x1e10+-0x4f3)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(0x1*-0x4fd+-0x1f1b+-0x78*-0x4d)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(0x24bf*0x1+0x1f42+-0x4401)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(-0xbc4+0x1*0x17ef+0x59*-0x23)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(0x4d1+0x6dc*0x1+-0xbad)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(-0x17a*-0x7+0x1c25+-0x1*0x267b)}],[$r,{'name':'VSM_32F','format':Ke,'vsm':!(0x59*-0x2+0x1091*0x1+0xef*-0x11)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(0xb*-0xaf+-0x1*-0x15fd+-0xe78)}]]),Tp=-0x1*-0x1363+0x10ec+0x2*-0x1227,Du=0x49c+0x25e3+-0x2a7f,d0=-0x8f3+0x2*0x601+-0x30f,Vs=0x1f15+0xb02+-0x2a17,qb=-0x1083+-0x15*-0x35+0x26f*0x5,Uh=0x7*0x3b9+0x2563*-0x1+0xb54,Xb=0x16bd+0x3*-0xa93+-0x3b*-0x27,Gs=0x1bbd+0x9*0x5+0x2*-0xdf5,ua=-0x1af3+0x1b*-0xf7+0x3501*0x1,yo=0x914+0xd8c+-0x16a0,Dr=0x1eec*-0x1+-0x1aff+0x39ec,Tl=-0x1210+-0x239*-0x2+0xda0,u0=-0x2108+0xd09+0x13ff,jb=0x2034+0x10a3*0x1+-0x30d6,km='mul',sl=0x4*-0x56e+0x2413+-0xe5b,hh=0x3*0x6d3+-0xf7c+-0x4*0x13f,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=0x740+-0x21b6*0x1+0x1a76,aF=0x36f*0x2+-0x1ac2*-0x1+0x13*-0x1c5,oF=-0x12f5+0x224+0x10d3,lF=0x889+-0x1695+0xe0f,hF=0x58f*0x4+0xa69+-0x20a1,cF=-0x1*0x1958+0x775+0x11e8,f0=-0xbef+-0x15b*0x15+0x286c,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=0x10dc+-0x9*0x26b+0x4e7,Bo=-0x2c1+0x2*-0x38f+-0x4f*-0x20,Lu=-0x1*-0xbb+-0x596+0xf9*0x5,Ep=0x3*-0xc9f+-0x14c4+0x3aa2,$c=-0x187f+-0x2562+0x3de3*0x1,m0=0x12da+-0x3b7+-0xf1f,_0=-0x17f0+0x6ff+0x10f9,g0=0x2057+0x110*0x15+-0x2b*0x145,Wc=-0x22*-0x2e+0x2ff*0x6+-0x17f6,Fu=-0x2275*-0x1+-0x1*-0x2035+0x1*-0x426a,y0=-0xa*0x33b+-0x1097+0x3165,Cp=-0x1*-0x244d+0x523+-0x2870,Mp=-0x1*-0xe87+-0x3*0x261+-0x159*0x4,qc=0x2400+0x2337*-0x1+0x337,Xc=-0x19c6*-0x1+-0x160f+0x449*0x1,x0=0xf63*-0x2+0x1c88+0x123e*0x1,jc=-0xb*-0x259+0x1*0x15b6+-0xf89,Ou=0x23eb*-0x1+0x1*0x35+0x63b6,Ps=-0x1bf1+0x316+0x18db,cn=0x50*-0x33+0x433+-0x5df*-0x2,Pp=-0x5*-0x1a9+-0xbe7+0x39c,Ei=-0x6*-0x3c3+-0x8f3+-0xd9f,ku=0x5bf+-0x772+0x1b4,hs=-0x5*-0x22b+0xaed+-0x741*0x3,cr=-0xd5b*-0x1+0x1*0x24ec+0x3245*-0x1,rr=0xd68+-0x4*0x6be+0x2*0x6ca,gn=-0x1a5a*0x1+-0x3*-0x32d+0x49*0x3b,il=0x94d*0x4+0x24ba+-0x49ed,rl=-0x65f*-0x4+-0x21e3+0x869,Oa=0x26*0x81+0xa2a+-0x1d4d,Rp=0x173*0x11+0x4e4+-0x5e7*0x5,Ti=-0x1*0x1abf+0x3a6+0x1719*0x1,nt=-0x1835*0x1+-0x1938+0x316e*0x1,Qe=0x1eca*0x1+-0x63c+-0x2*0xc46,ch=-0x169f+0x1a0a+-0x36a,Al=0x138e*0x1+-0xe03+0xb*-0x81,dh=-0xc18+0x15e6*-0x1+-0xe5*-0x26,Zb=-0x1*-0x1dc9+0x10da+0x2*-0x1751,Qb=0x20f1+-0x1334+-0xb9*0x13,Bm=0x1c64+-0x2b4*0xa+-0x1*0x159,Jb=-0x1603+-0x26ce+0x3*0x1447,ew=0x2639+0xa97+-0x30cb,Ip=-0x1*-0xf8+-0x1*0x1493+-0x1*-0x139b,Bu=-0x5*-0x633+-0x496*0x6+-0x37a,pe=0x16a3+-0xa*-0x97+-0x1c89,ke=0x3*0x4f+0x1*0x107b+-0x1167,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0x4fe880,_0x40300b,_0x36d885){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0x4fe880,this['bindGroupF'+'ormats'][Dh]=_0x40300b,this['vertexForm'+'at']=_0x36d885);}['hasUniform'](_0x122590){for(let _0x27302d=0x27*0x58+0x5c5*-0x3+0x3e7;_0x27302d<this['uniformFor'+'mats']['length'];_0x27302d++){const _0x203cd0=this['uniformFor'+'mats'][_0x27302d];if(_0x203cd0!=null&&_0x203cd0['get'](_0x122590))return!(0x1b84+-0x35*0x55+0x1*-0x9eb);}return!(0x3*-0xbcc+-0x21c7*-0x1+0x19e);}['hasTexture'](_0x599ba4){for(let _0x5ae6aa=0x54*0x5c+-0x18d2+-0x55e;_0x5ae6aa<this['bindGroupF'+'ormats']['length'];_0x5ae6aa++){const _0x14b90e=this['bindGroupF'+'ormats'][_0x5ae6aa];if(_0x14b90e!=null&&_0x14b90e['getTexture'](_0x599ba4))return!(-0x241*-0xb+0x1a*-0xa7+-0x7d5);}return!(0x2bd*-0x7+-0x2612+0x393e);}['getVertexE'+'lement'](_0x2fb388){var _0x30434c;return(_0x30434c=this['vertexForm'+'at'])==null?void(-0x44e+-0x1*0xbe6+0x81a*0x2):_0x30434c['elements']['find'](_0x521794=>_0x521794['name']===_0x2fb388);}['generateKe'+'y'](_0x1cba46){var _0x4595e4;let _0x4e73a0=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x1cba46['isWebGPU']&&(_0x4e73a0+=(_0x4595e4=this['vertexForm'+'at'])==null?void(0x4*-0x19d+-0x4*0x277+0x1050):_0x4595e4['shaderProc'+'essingHash'+'String']),_0x4e73a0;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',$w='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),Ww='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',$T='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',WT='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',$A='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',WA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':$w,'encodePS':v0,'endPS':Ww,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':$T,'opacityDitherPS':WT,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':$A,'reflectionEnvHQPS':WA,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0x23531b){const _0x3f9bdb=b0['get'](_0x23531b);return v['assert'](_0x3f9bdb),_0x3f9bdb;}function $E(_0xf92ea5,_0x3e9531){v['assert'](_0x3e9531),b0['get'](_0xf92ea5,()=>_0x3e9531);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x24074e){const _0xe355d0=Array['from'](_0x24074e)['sort']((_0x81d7fe,_0xf836b0)=>_0x81d7fe[-0xc27+-0x1b51*-0x1+0x795*-0x2]>_0xf836b0[0x29b*0x3+0x3f*0x3e+-0x1713]?-0x7*0x571+-0xfed+0x3605:-(-0x1*0xc73+0x2*0x310+-0x32a*-0x2));return hn(JSON['stringify'](_0xe355d0));}}const WE=new Ot();class qE{constructor(_0x4232a5,_0x1e05bb,_0x5101e8={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0x4232a5),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x4232a5),this['name']=_0x4232a5,this['index']=_0x1e05bb,Object['assign'](this,_0x5101e8),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x5b3185;this['isShadow']?_0x5b3185='SHADOW':this['isForward']?_0x5b3185='FORWARD':this['index']===rl?_0x5b3185='DEPTH':this['index']===Oa&&(_0x5b3185='PICK'),this['defines']['set'](_0x5b3185+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',0xcb*0x13+0x185e+0x7e3*-0x5);const _0x40763f=(_0x524598,_0x2547af,_0x486cf1)=>{const _0x187654=this['allocate'](_0x524598,_0x486cf1);v['assert'](_0x187654['index']===_0x2547af);};_0x40763f('forward',gn,{'isForward':!(0x18aa+-0xc*0x4d+0xa87*-0x2)}),_0x40763f('prepass',il),_0x40763f('depth',rl),_0x40763f('pick',Oa),_0x40763f('shadow',Rp);}static['get'](_0x353511){return v['assert'](_0x353511),WE['get'](_0x353511,()=>new Ks());}['allocate'](_0x3b9cd3,_0x4830dc){let _0x495f72=this['passesName'+'d']['get'](_0x3b9cd3);return _0x495f72===void(-0x29*0x6+0x1c0f+-0x1b19)&&(_0x495f72=new qE(_0x3b9cd3,this['nextIndex'],_0x4830dc),this['passesName'+'d']['set'](_0x495f72['name'],_0x495f72),this['passesInde'+'xed'][_0x495f72['index']]=_0x495f72,this['nextIndex']++),_0x495f72;}['getByIndex'](_0x544af2){const _0x428269=this['passesInde'+'xed'][_0x544af2];return v['assert'](_0x428269),_0x428269;}['getByName'](_0x325a13){return this['passesName'+'d']['get'](_0x325a13);}}function Is(_0x901062,_0x5dbdfb,_0x14a8ab,_0x70a0bd,_0x2c16f4,_0x2cfec5=!(-0x9*0x38d+0x8*0x83+0x1bde),_0x5d8d52={}){v['assert'](!(0x1827+-0x13*0x45+-0x1308)),typeof _0x2cfec5=='boolean'?_0x5d8d52['useTransfo'+'rmFeedback']=_0x2cfec5:typeof _0x2cfec5=='object'&&(_0x5d8d52={..._0x5d8d52,..._0x2cfec5});const _0x5420a3=ka(_0x901062);let _0x803850=_0x5420a3['getCachedS'+'hader'](_0x70a0bd);return _0x803850||(_0x803850=new i0(_0x901062,Mt['createDefi'+'nition'](_0x901062,{..._0x5d8d52,'name':_0x70a0bd,'vertexCode':_0x5dbdfb,'fragmentCode':_0x14a8ab,'attributes':_0x2c16f4})),_0x5420a3['setCachedS'+'hader'](_0x70a0bd,_0x803850)),_0x803850;}class XE extends It{constructor(_0x28ca4f,_0x542664){super(),this['key']=_0x28ca4f,this['shaderDefi'+'nition']=_0x542664;}['generateKe'+'y'](_0x4b609f){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x208d83,_0x198c6a){return this['shaderDefi'+'nition'];}}function jE(_0x20b791,_0x50ea42){v['assert'](_0x20b791);const _0x580497=_0x20b791['definition'],_0x221fbf=(_0x580497['name']??'shader')+'-id-'+_0x20b791['id'],_0x2c6dbd=new XE(_0x221fbf,_0x580497),_0x3f3e97='shader',_0x244733=ka(_0x20b791['device']);v['assert'](!_0x244733['isRegister'+'ed'](_0x3f3e97)),_0x244733['register'](_0x3f3e97,_0x2c6dbd);const _0x319f05=_0x244733['getProgram'](_0x3f3e97,{},_0x50ea42);return _0x20b791['definition']['shaderLang'+'uage']===Ph&&(_0x319f05['meshUnifor'+'mBufferFor'+'mat']=_0x580497['meshUnifor'+'mBufferFor'+'mat'],_0x319f05['meshBindGr'+'oupFormat']=_0x580497['meshBindGr'+'oupFormat']),_0x244733['unregister'](_0x3f3e97),_0x319f05;}const Dp=(_0x20413d,_0x2c083f)=>{const _0x1cd310=new Map(_0x20413d['defines']);return _0x2c083f['cameraShad'+'erParams']['defines']['forEach']((_0x493769,_0x23539d)=>_0x1cd310['set'](_0x23539d,_0x493769)),Ks['get'](_0x2c083f['device'])['getByIndex'](_0x2c083f['pass'])['defines']['forEach']((_0x3c6fc6,_0x2b77e2)=>_0x1cd310['set'](_0x2b77e2,_0x3c6fc6)),_0x1cd310;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(0x17cb*0x1+-0x2148+0x97e)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x4b0bc){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x2a99e5=_0x4b0bc['device'];if(this['shader']=_0x4b0bc,v['assert'](_0x4b0bc),_0x2a99e5['supportsUn'+'iformBuffe'+'rs']){const _0x5afb41=new Yc();this['shader']=jE(_0x4b0bc,_0x5afb41);const _0x2b789b=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x2b789b&&(this['uniformBuf'+'fer']=new gp(_0x2a99e5,_0x2b789b,!(0xe82+-0x6*-0x4e+-0x1055)));const _0x1112fa=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x1112fa),this['bindGroup']=new mp(_0x2a99e5,_0x1112fa),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x174984,_0x489054;(_0x174984=this['uniformBuf'+'fer'])==null||_0x174984['destroy'](),this['uniformBuf'+'fer']=null,(_0x489054=this['bindGroup'])==null||_0x489054['destroy'](),this['bindGroup']=null;}['render'](_0x2974b5,_0x265391){const _0x136acb=this['shader']['device'];G['pushGpuMar'+'ker'](_0x136acb,'QuadRender'),_0x2974b5&&(Va['set'](_0x136acb['vx'],_0x136acb['vy'],_0x136acb['vw'],_0x136acb['vh']),Ga['set'](_0x136acb['sx'],_0x136acb['sy'],_0x136acb['sw'],_0x136acb['sh']),_0x265391=_0x265391??_0x2974b5,_0x136acb['setViewpor'+'t'](_0x2974b5['x'],_0x2974b5['y'],_0x2974b5['z'],_0x2974b5['w']),_0x136acb['setScissor'](_0x265391['x'],_0x265391['y'],_0x265391['z'],_0x265391['w'])),_0x136acb['setVertexB'+'uffer'](_0x136acb['quadVertex'+'Buffer'],0x697*-0x1+-0xe58+0x14ef);const _0x59fa23=this['shader'];if(_0x136acb['setShader'](_0x59fa23),_0x136acb['supportsUn'+'iformBuffe'+'rs']){_0x136acb['setBindGro'+'up'](Dh,_0x136acb['emptyBindG'+'roup']);const _0x22e6cd=this['bindGroup'];_0x22e6cd['update'](),_0x136acb['setBindGro'+'up'](Xy,_0x22e6cd);const _0x429378=this['uniformBuf'+'fer'];_0x429378?(_0x429378['update'](pd),_0x136acb['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x136acb['setBindGro'+'up'](Eu,_0x136acb['emptyBindG'+'roup']);}_0x136acb['draw'](YE),_0x2974b5&&(_0x136acb['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x136acb['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x136acb);}}class KE extends ds{constructor(_0x5d0c8b,_0x18fa49,_0x9ab9bb,_0x37902e){super(_0x5d0c8b),this['quad']=_0x18fa49,this['rect']=_0x9ab9bb,this['scissorRec'+'t']=_0x37902e;}['execute'](){const {device:_0x3f681e}=this;G['pushGpuMar'+'ker'](_0x3f681e,this['name']+':'+this['quad']['shader']['name']),_0x3f681e['setCullMod'+'e'](mt),_0x3f681e['setDepthSt'+'ate'](as['NODEPTH']),_0x3f681e['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x3f681e);}}const ZE=new Q();function dn(_0x405a9e,_0x492cb7,_0x6e689e,_0x23dfe6,_0x2a003a){v['assert'](_0x492cb7!==void(0x287+-0x731+0x4aa));const _0x5cf997=arguments[-0xfd8+0x54*0x9+0xce9];v['call'](()=>{_0x5cf997!==void(-0x238f+0x173c+0xc53)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x597b57=new Nu(_0x6e689e);_0x23dfe6||(_0x23dfe6=ZE,_0x23dfe6['x']=-0x2*-0xdd9+0x1609*-0x1+-0x5a9,_0x23dfe6['y']=-0xa62*-0x3+-0x1*-0x1c12+0x3b38*-0x1,_0x23dfe6['z']=_0x492cb7?_0x492cb7['width']:_0x405a9e['width'],_0x23dfe6['w']=_0x492cb7?_0x492cb7['height']:_0x405a9e['height']);const _0x4635d0=new KE(_0x405a9e,_0x597b57,_0x23dfe6,_0x2a003a);_0x4635d0['init'](_0x492cb7),_0x4635d0['colorOps']['clear']=!(-0xb*0x2b1+0x7*-0x6a+0x49*0x72),_0x4635d0['depthStenc'+'ilOps']['clearDepth']=!(-0x249+0x9b8+-0x3b7*0x2),_0x405a9e['isWebGPU']&&_0x492cb7===null&&_0x405a9e['samples']>-0x2377+-0x472*0x6+0x3e24&&(_0x4635d0['colorOps']['store']=!(-0x773+-0x96d*0x3+0x23ba)),_0x4635d0['render'](),_0x597b57['destroy']();}class zm{constructor(_0x45eb5c,_0x369ca3,_0x1fdcb4){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x45eb5c,this['dynamic']=_0x369ca3,this['batchGroup'+'Id']=_0x1fdcb4);}['destroy'](_0x3b4c56,_0x329b84){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x3b4c56,_0x329b84),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x1cc9b7,_0x41b66f){for(let _0x342375=-0x1233+0x1df5*0x1+-0xbc2;_0x342375<_0x41b66f['length'];_0x342375++){const _0x526dc5=_0x1cc9b7['layers']['getLayerBy'+'Id'](_0x41b66f[_0x342375]);_0x526dc5&&_0x526dc5['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x4b3103,_0x43ad6d){for(let _0x319001=-0x1adf*0x1+0x8*0x18b+-0xe87*-0x1;_0x319001<_0x43ad6d['length'];_0x319001++){const _0x1c4199=_0x4b3103['layers']['getLayerBy'+'Id'](_0x43ad6d[_0x319001]);_0x1c4199&&_0x1c4199['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x18d1+-0x16ed+0x2fbe]['aabb']);for(let _0x6270c4=-0x8*-0x47f+0x3b*0xa+-0x2645;_0x6270c4<this['origMeshIn'+'stances']['length'];_0x6270c4++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x6270c4]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x1*0x863+-0x21c8+0x7f*0x55;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x460038,_0x4e9fc9,_0x341fa8,_0x5a8acf,_0x2989af=[Fi]){c(this,'_ui',!(0x229b+0x1bb*0x8+-0x3072)),c(this,'_sprite',!(0x1c81*-0x1+-0x240e+0x4090)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x460038,this['name']=_0x4e9fc9,this['dynamic']=_0x341fa8,this['maxAabbSiz'+'e']=_0x5a8acf,this['layers']=_0x2989af);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x5cebae){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(0x19d*0xd+-0x1c45+-0x1*-0x74c),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0x184*-0x4+-0x10f8*-0x1+0xae7*-0x1),this['_updateBef'+'oreCull']=!(-0x1*0x2485+0x6ca+0x81*0x3b),_0x5cebae&&this['initSkin'](_0x5cebae));}set['rootBone'](_0x44b0d3){this['_rootBone']=_0x44b0d3;}get['rootBone'](){return this['_rootBone'];}['init'](_0x148227,_0x3352f7){const _0x5a63e1=_0x3352f7*(-0x1da9+0x2*-0x1028+0x3dfc);let _0x4d4078=Math['ceil'](Math['sqrt'](_0x5a63e1));_0x4d4078=N['roundUp'](_0x4d4078,-0xeec+0x110b*0x1+-0x1e*0x12);const _0x5752e7=Math['ceil'](_0x5a63e1/_0x4d4078);this['boneTextur'+'e']=new he(_0x148227,{'width':_0x4d4078,'height':_0x5752e7,'format':Ke,'mipmaps':!(-0x3*-0x32b+-0x3a*0x6c+0xef8),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x4d4078,_0x5752e7,(-0x13ae+0xc24+0x78b)/_0x4d4078,(-0x16f3+-0x4*-0x466+-0x157*-0x4)/_0x5752e7],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x46cfdc,_0x3d633f){this['rootBone']=_0x46cfdc;const _0x161e85=this['skin'],_0x468ec7=[];for(let _0x15a429=-0x2*0xd05+-0x6*0x373+0x2ebc*0x1;_0x15a429<_0x161e85['boneNames']['length'];_0x15a429++){const _0x11b521=_0x161e85['boneNames'][_0x15a429];let _0x58254b=_0x46cfdc['findByName'](_0x11b521);_0x58254b||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x11b521+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x3d633f['name']+(',\x20rootBone'+':\x20')+_0x46cfdc['name']),_0x58254b=_0x3d633f),_0x468ec7['push'](_0x58254b);}this['bones']=_0x468ec7;}['initSkin'](_0x2d9f6f){this['skin']=_0x2d9f6f,this['bones']=[];const _0x4e7431=_0x2d9f6f['inverseBin'+'dPose']['length'];this['init'](_0x2d9f6f['device'],_0x4e7431),this['matrices']=[];for(let _0x5aa9d9=-0x1d92+-0x1f84+0x3d16;_0x5aa9d9<_0x4e7431;_0x5aa9d9++)this['matrices'][_0x5aa9d9]=new q();}['uploadBone'+'s'](_0x3a39fd){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x855c2,_0x254f68){if(this['_skinUpdat'+'eIndex']!==_0x254f68){this['_skinUpdat'+'eIndex']=_0x254f68,Um['copy'](_0x855c2['getWorldTr'+'ansform']())['invert']();for(let _0x35e8cf=this['bones']['length']-(0x6b7*0x4+-0x1e7b+0x3a0);_0x35e8cf>=-0x9a7+0xc10+-0x269;_0x35e8cf--)this['matrices'][_0x35e8cf]['mulAffine2'](Um,this['bones'][_0x35e8cf]['getWorldTr'+'ansform']()),this['matrices'][_0x35e8cf]['mulAffine2'](this['matrices'][_0x35e8cf],this['skin']['inverseBin'+'dPose'][_0x35e8cf]);}}['updateMatr'+'ices'](_0x314d33,_0x4eebd9){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x314d33,_0x4eebd9);}['updateMatr'+'ixPalette'](_0x372517,_0x247749){this['_updateMat'+'rices'](_0x372517,_0x247749);const _0x1c50be=this['matrixPale'+'tte'],_0x51041b=this['bones']['length'];for(let _0x80ee4f=0x36f*-0x5+0x2b7+0xe74;_0x80ee4f<_0x51041b;_0x80ee4f++){const _0x410a9b=this['matrices'][_0x80ee4f]['data'],_0x15dcbc=_0x80ee4f*(0x1c27+-0x14ef*-0x1+-0x310a);_0x1c50be[_0x15dcbc]=_0x410a9b[-0x5*-0x8a+0x1*0xde2+-0x1094],_0x1c50be[_0x15dcbc+(0x24c2+-0x11*-0x1f+0x45*-0x90)]=_0x410a9b[-0x497+0x434+-0x1*-0x67],_0x1c50be[_0x15dcbc+(0x1d9+-0x1a89+0x18b2)]=_0x410a9b[0x153+-0x1ed9+-0x1a*-0x123],_0x1c50be[_0x15dcbc+(-0x483+-0x11b*-0x13+0x1*-0x107b)]=_0x410a9b[0x1a21+-0x25*-0x4b+0x11*-0x22c],_0x1c50be[_0x15dcbc+(0x1c12+-0x36*0x3a+-0xfd2)]=_0x410a9b[0xe57+0x6*-0x259+-0x40],_0x1c50be[_0x15dcbc+(0xb*0xd0+-0x98*0x18+0x555)]=_0x410a9b[0x7e0+0x8*-0x3a5+-0x29*-0x85],_0x1c50be[_0x15dcbc+(-0x257*0x10+0xd75+-0x5*-0x4cd)]=_0x410a9b[0x53*0x4d+-0x2422+0xb34],_0x1c50be[_0x15dcbc+(-0x20b*0x13+-0x1a*0x139+0x2*0x2351)]=_0x410a9b[-0x7ce+-0x96c+-0x1147*-0x1],_0x1c50be[_0x15dcbc+(0x23c+-0x1cf9+0x3d3*0x7)]=_0x410a9b[-0xa6f+0x1*0x1750+-0xcdf],_0x1c50be[_0x15dcbc+(-0x17c2+0x14f+0x167c*0x1)]=_0x410a9b[-0x22c7*-0x1+-0x2488+0x1c7],_0x1c50be[_0x15dcbc+(-0x3*0xbf1+-0x1d*-0x65+0xc*0x209)]=_0x410a9b[-0x2*0x9a5+-0x1272+0x25c6],_0x1c50be[_0x15dcbc+(-0x119c+0x1b64+-0x9bd)]=_0x410a9b[0xf2f+0x1cc2+0xea1*-0x3];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x2b935c,_0x513622,_0x152c9d){super();const _0x2d9541=_0x513622['length'];this['init'](_0x2b935c,_0x2d9541),this['device']=_0x2b935c,this['rootNode']=_0x152c9d,this['bones']=_0x513622;}['updateMatr'+'ices'](_0x180e3f,_0x77cd1a){}['updateMatr'+'ixPalette'](_0x5a4428,_0x2a0bb1){const _0x80d2a2=this['matrixPale'+'tte'],_0x3a9ee6=this['bones']['length'];for(let _0x4a4d73=-0x1eba+-0x2151+0xccf*0x5;_0x4a4d73<_0x3a9ee6;_0x4a4d73++){const _0x3367d9=this['bones'][_0x4a4d73]['getWorldTr'+'ansform']()['data'],_0x5b2758=_0x4a4d73*(0x1acd*-0x1+0x34a+0x178f);_0x80d2a2[_0x5b2758]=_0x3367d9[-0xb*-0x16d+-0x1e9a+0xeeb],_0x80d2a2[_0x5b2758+(0xe43+-0xfbe+0x17c)]=_0x3367d9[0x8*0x17f+0x3*0xcda+0x86b*-0x6],_0x80d2a2[_0x5b2758+(-0x1*0xfad+-0x1*0x1391+0x2340)]=_0x3367d9[-0x28*0xea+0x1e99+-0x1*-0x5ff],_0x80d2a2[_0x5b2758+(0x2c7+0x259e+-0x1431*0x2)]=_0x3367d9[-0x262d+-0xb*0x1e2+0x3aef*0x1],_0x80d2a2[_0x5b2758+(-0xc21+0x1*-0x1bbf+0x27e4)]=_0x3367d9[0x12f2+0x1dd7*-0x1+0x12*0x9b],_0x80d2a2[_0x5b2758+(0x2*-0x1124+-0x34*0x7b+0x3b49*0x1)]=_0x3367d9[0x21cd*-0x1+-0xac6*0x1+0xb26*0x4],_0x80d2a2[_0x5b2758+(0x1969*0x1+0x2392+0xc31*-0x5)]=_0x3367d9[-0xec+-0x1e19+0xa5a*0x3],_0x80d2a2[_0x5b2758+(0x80e*0x4+-0x1ae2+-0x54f)]=_0x3367d9[0x60*-0x2+-0x8a6+0x973],_0x80d2a2[_0x5b2758+(0xa8a+-0x1272+-0x1*-0x7f0)]=_0x3367d9[-0x1940+0x1481+0x4c1],_0x80d2a2[_0x5b2758+(-0x349+-0x215c+0x61d*0x6)]=_0x3367d9[-0x197a+-0x124+0x1aa4],_0x80d2a2[_0x5b2758+(-0x2*-0x345+-0x264b+-0x3*-0xa99)]=_0x3367d9[0x4b*0x77+0x19bd+0x3*-0x1430],_0x80d2a2[_0x5b2758+(-0x1*-0x8a1+0x573+0xe09*-0x1)]=_0x3367d9[-0x19f2+0xc3a+0xdc6];}this['uploadBone'+'s'](this['device']);}}let QE=-0x2d*-0x39+-0x1f4b*0x1+0x1546;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x1294+0x1*-0x2287+0xff4),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=-0x1e37+-0x3*0xc3b+0x42e8,this['maxIndices']=-0x1fa4+0xbdd+-0x1*-0x13c7,this['vertexCoun'+'t']=0xbab+-0x148f+0x239*0x4,this['indexCount']=-0xe0*-0x7+0x208a+-0x26aa,this['vertexStre'+'amsUpdated']=!(0x202f+-0x1*0xec+-0x1f42),this['indexStrea'+'mUpdated']=!(0x247d*0x1+0x9*0x25f+-0x39d3),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0xf38e48,_0x17674b){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0xf38e48,'Vertex\x20str'+'eam\x20'+_0x17674b+'\x20has\x20'+_0xf38e48+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0xf38e48;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0xf28+-0x1548+0x623*0x1),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x2f*0xb7+-0x127*0x6+-0x1*0x1aac),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x150d+-0x530*-0x6+-0x35b*0x3),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0x18c1+0x1141+0x784);class JE{constructor(_0x3ea3bb,_0x5b8e03,_0x177920,_0x233a96,_0x4c1d47){this['data']=_0x3ea3bb,this['componentC'+'ount']=_0x5b8e03,this['dataType']=_0x177920,this['dataTypeNo'+'rmalize']=_0x233a96,this['asInt']=_0x4c1d47;}}class Ie extends Gc{constructor(_0xfdbf97,_0xe62d9d){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',-0x10f*0x1d+0x2603*0x1+-0x750),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(0xb8e+-0x2be*-0x9+-0x52d*0x7)),c(this,'_storageVe'+'rtex',!(-0x8*-0x11+0x1fa8+-0x202f)),(this['id']=QE++,v['assert'](_0xfdbf97,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0xfdbf97,this['_storageIn'+'dex']=(_0xe62d9d==null?void(0x905*0x4+0xd12+-0x3126):_0xe62d9d['storageInd'+'ex'])||!(0x268d+-0x22b2+-0x3da*0x1),this['_storageVe'+'rtex']=(_0xe62d9d==null?void(-0x165+0x1*0x1df9+0xe4a*-0x2):_0xe62d9d['storageVer'+'tex'])||!(-0x1871+0x2ed*0x5+-0x7*-0x167));}static['fromGeomet'+'ry'](_0x517823,_0x4a6396,_0x3b3920={}){const _0x1828c0=new Ie(_0x517823,_0x3b3920),{positions:_0x15e9df,normals:_0x4988d4,tangents:_0x149b1d,colors:_0x6420b6,uvs:_0x5379b7,uvs1:_0x4a8c78,blendIndices:_0x552652,blendWeights:_0x2a6d54,indices:_0x32910d}=_0x4a6396;return _0x15e9df&&_0x1828c0['setPositio'+'ns'](_0x15e9df),_0x4988d4&&_0x1828c0['setNormals'](_0x4988d4),_0x149b1d&&_0x1828c0['setVertexS'+'tream'](Zs,_0x149b1d,-0x333*0x3+-0x543*0x1+0xee0),_0x6420b6&&_0x1828c0['setColors3'+'2'](_0x6420b6),_0x5379b7&&_0x1828c0['setUvs'](-0x1*0x18f3+0x7c9*-0x1+0x20bc,_0x5379b7),_0x4a8c78&&_0x1828c0['setUvs'](0x1328*-0x2+0x1caa+0x9a7,_0x4a8c78),_0x552652&&_0x1828c0['setVertexS'+'tream'](qt,_0x552652,0x2108+-0x1*0xa12+-0x7a6*0x3,_0x552652['length']/(-0x12fe+-0x10*-0x228+0xf7e*-0x1),Kr),_0x2a6d54&&_0x1828c0['setVertexS'+'tream'](Ys,_0x2a6d54,-0x4ca*-0x2+0x1b0c+-0x249c),_0x32910d&&_0x1828c0['setIndices'](_0x32910d),_0x1828c0['update'](),_0x1828c0;}set['morph'](_0x461524){_0x461524!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x461524,_0x461524&&_0x461524['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x2daad3){this['_aabb']=_0x2daad3,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x267649=this['morph'];_0x267649&&(this['morph']=null,_0x267649['refCount']<0x1a93+-0x2*-0x848+-0x2b22&&_0x267649['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0xdec137=0x83*-0x16+-0xa9*-0x13+-0x149;_0xdec137<this['indexBuffe'+'r']['length'];_0xdec137++)this['_destroyIn'+'dexBuffer'](_0xdec137);this['indexBuffe'+'r']['length']=-0x11d8+-0x443+0x161b,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x720c42){this['indexBuffe'+'r'][_0x720c42]&&(this['indexBuffe'+'r'][_0x720c42]['destroy'](),this['indexBuffe'+'r'][_0x720c42]=null);}['_initBoneA'+'abbs'](_0x615ccf){this['boneAabb']=[],this['boneUsed']=[];let _0x54b411,_0x5cb3ad,_0x3ca882,_0xeae45a,_0x5e3b26;const _0x372df9=[],_0x3ff94b=[],_0x2a199d=this['boneUsed'],_0x4e2346=this['skin']['boneNames']['length'];let _0x5c8410,_0xa571c0,_0x3065af;for(let _0x48ac67=0x173*0xa+0xa51+-0x18cf;_0x48ac67<_0x4e2346;_0x48ac67++)_0x372df9[_0x48ac67]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x3ff94b[_0x48ac67]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x50491b=new go(this['vertexBuff'+'er']),_0x350876=_0x50491b['element'][He],_0x781812=_0x50491b['element'][Ys],_0x26b15e=_0x50491b['element'][qt],_0x4518d4=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x3d22cf=0x1*-0x1ba1+0x11e1+0x9c0;_0x3d22cf<_0x4518d4;_0x3d22cf++){for(let _0x1bbc1f=0x1*-0x6f5+0x22b6+-0x7*0x3f7;_0x1bbc1f<0x1b2*0x10+-0x6f*-0x1d+0x27af*-0x1;_0x1bbc1f++)if(_0x781812['array'][_0x781812['index']+_0x1bbc1f]>0x198d+0x9b2+-0x233f){const _0x53378f=_0x26b15e['array'][_0x26b15e['index']+_0x1bbc1f];if(_0x2a199d[_0x53378f]=!(0xae0+0x1*-0x2549+-0x1a69*-0x1),_0x54b411=_0x350876['array'][_0x350876['index']],_0x5cb3ad=_0x350876['array'][_0x350876['index']+(-0x215d+-0x8*-0x35e+0x66e)],_0x3ca882=_0x350876['array'][_0x350876['index']+(-0x476*-0x3+0x102*0xf+0x412*-0x7)],_0xeae45a=_0x3ff94b[_0x53378f],_0x5e3b26=_0x372df9[_0x53378f],_0x5e3b26['x']>_0x54b411&&(_0x5e3b26['x']=_0x54b411),_0x5e3b26['y']>_0x5cb3ad&&(_0x5e3b26['y']=_0x5cb3ad),_0x5e3b26['z']>_0x3ca882&&(_0x5e3b26['z']=_0x3ca882),_0xeae45a['x']<_0x54b411&&(_0xeae45a['x']=_0x54b411),_0xeae45a['y']<_0x5cb3ad&&(_0xeae45a['y']=_0x5cb3ad),_0xeae45a['z']<_0x3ca882&&(_0xeae45a['z']=_0x3ca882),_0x615ccf){let _0x1871ec=_0x5c8410=_0x54b411,_0x4336aa=_0xa571c0=_0x5cb3ad,_0x4adc58=_0x3065af=_0x3ca882;for(let _0x3a9553=-0x227f*-0x1+0x1*0xdc7+-0x3046;_0x3a9553<_0x615ccf['length'];_0x3a9553++){const _0x3a681e=_0x615ccf[_0x3a9553],_0x17f678=_0x3a681e['deltaPosit'+'ions'][_0x3d22cf*(0x1197+-0x1e2a+-0x2*-0x64b)],_0x5729a7=_0x3a681e['deltaPosit'+'ions'][_0x3d22cf*(0xfad*0x1+-0x2563*-0x1+-0x350d)+(0x57*-0x5f+-0xcee+-0x5a7*-0x8)],_0x3440df=_0x3a681e['deltaPosit'+'ions'][_0x3d22cf*(-0x29*0x8a+0x1403+0x21a)+(0x13e1*0x1+0x9*0xc6+-0x1ad5*0x1)];_0x17f678<-0xae*0x14+-0x1*-0x1471+-0x6d9?_0x1871ec+=_0x17f678:_0x5c8410+=_0x17f678,_0x5729a7<0x4*-0x829+0x7b*-0x1b+0x2d9d?_0x4336aa+=_0x5729a7:_0xa571c0+=_0x5729a7,_0x3440df<-0x1d76+-0x279+0x663*0x5?_0x4adc58+=_0x3440df:_0x3065af+=_0x3440df;}_0x5e3b26['x']>_0x1871ec&&(_0x5e3b26['x']=_0x1871ec),_0x5e3b26['y']>_0x4336aa&&(_0x5e3b26['y']=_0x4336aa),_0x5e3b26['z']>_0x4adc58&&(_0x5e3b26['z']=_0x4adc58),_0xeae45a['x']<_0x5c8410&&(_0xeae45a['x']=_0x5c8410),_0xeae45a['y']<_0xa571c0&&(_0xeae45a['y']=_0xa571c0),_0xeae45a['z']<_0x3065af&&(_0xeae45a['z']=_0x3065af);}}_0x50491b['next']();}const _0x1f7947=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x250b94=>_0x250b94['name']===He);if(_0x1f7947&&_0x1f7947['normalize']){const _0x14991c=((()=>{switch(_0x1f7947['dataType']){case Rc:return _0x54fd84=>Math['max'](_0x54fd84/(0x241*-0xb+-0x1*0x256f+0x3eb9),-(-0x3a*-0x71+0x2*-0x12ec+0x21*0x5f));case Kr:return _0x4585ba=>_0x4585ba/(0x2561+-0x541+0x1*-0x1f21);case Ic:return _0x2c7f29=>Math['max'](_0x2c7f29/(-0x31ef*-0x3+-0x2c35+-0x1667*-0x1),-(0x959+0x2560+-0x17*0x208));case el:return _0x4439bf=>_0x4439bf/(0x12e11+-0x12706+0x3*0x52fc);default:return _0x3800da=>_0x3800da;}})());for(let _0x445dc6=0x2b*0x9f+-0x1*-0x232f+0x1d2*-0x22;_0x445dc6<_0x4e2346;_0x445dc6++)if(_0x2a199d[_0x445dc6]){const _0x4d7958=_0x372df9[_0x445dc6],_0x213bf1=_0x3ff94b[_0x445dc6];_0x4d7958['set'](_0x14991c(_0x4d7958['x']),_0x14991c(_0x4d7958['y']),_0x14991c(_0x4d7958['z'])),_0x213bf1['set'](_0x14991c(_0x213bf1['x']),_0x14991c(_0x213bf1['y']),_0x14991c(_0x213bf1['z']));}}for(let _0x5daf36=0x1*0x143b+-0x20ff*0x1+0x13*0xac;_0x5daf36<_0x4e2346;_0x5daf36++){const _0x36caf4=new _e();_0x36caf4['setMinMax'](_0x372df9[_0x5daf36],_0x3ff94b[_0x5daf36]),this['boneAabb']['push'](_0x36caf4);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x135*-0xc+0x2237+-0x13bb&&this['indexBuffe'+'r'][0x21d*-0x3+0x8dd+-0x286]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x1*-0x1b63+-0x1*-0xdd5+0xd8e]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x2*-0xd4c+-0x5*-0x52a+0x1*-0x346a]['numIndices']));}['clear'](_0x56c01a,_0x3d66af,_0x462492=0x1201+0x10ad*-0x1+-0x154,_0x85f2df=-0x1*0x9d9+0x25cd*-0x1+0x2fa6){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x41*-0x83+0x3*-0x866+-0xbb1*-0x5),this['_geometryD'+'ata']['maxVertice'+'s']=_0x462492,this['_geometryD'+'ata']['maxIndices']=_0x85f2df,this['_geometryD'+'ata']['verticesUs'+'age']=_0x56c01a?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x3d66af?jt:Th;}['setVertexS'+'tream'](_0x3155a1,_0x16a886,_0x3b9734,_0x167989,_0x239aab=Ee,_0x16dd8a=!(-0x3e*-0x59+0x1af*-0xd+-0x56*-0x1),_0x25dbd5=!(-0x45a*-0x7+-0x21b3+0x19f*0x2)){this['_initGeome'+'tryData']();const _0x46b653=_0x167989||_0x16a886['length']/_0x3b9734;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x46b653,_0x3155a1),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1f*-0x2c+0xd8c+-0x12e0),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3155a1]=new JE(_0x16a886,_0x3b9734,_0x239aab,_0x16dd8a,_0x25dbd5);}['getVertexS'+'tream'](_0x18d744,_0x4ce7c1){let _0x40fd14=0x1120*-0x2+-0x1*0xa6b+0x2cab*0x1,_0xdcc2f=!(-0x1102+-0x5b7*-0x3+0x2*-0x11);if(this['_geometryD'+'ata']){const _0x4336bc=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x18d744];_0x4336bc&&(_0xdcc2f=!(0x42*-0x23+0x1dbd+-0x14b7),_0x40fd14=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x4ce7c1)?_0x4ce7c1['set'](_0x4336bc['data']):(_0x4ce7c1['length']=0xc1*0x13+-0x42+-0xe11,_0x4ce7c1['push'](_0x4336bc['data'])));}return _0xdcc2f||this['vertexBuff'+'er']&&(_0x40fd14=new go(this['vertexBuff'+'er'])['readData'](_0x18d744,_0x4ce7c1)),_0x40fd14;}['setPositio'+'ns'](_0xe1a804,_0x3e4245=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x587ee9){this['setVertexS'+'tream'](He,_0xe1a804,_0x3e4245,_0x587ee9,Ee,!(0x1374+-0x8*-0x18d+-0x1fdb));}['setNormals'](_0x56ee81,_0x536a8f=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x3789c9){this['setVertexS'+'tream'](Yt,_0x56ee81,_0x536a8f,_0x3789c9,Ee,!(0x1*-0x2365+-0x719+0x2a7f));}['setUvs'](_0x2b6160,_0x1fa53f,_0x1b4a21=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x45ecd0){this['setVertexS'+'tream'](om+_0x2b6160,_0x1fa53f,_0x1b4a21,_0x45ecd0,Ee,!(0x1d*0x12b+0x9e8+-0x2bc6));}['setColors'](_0x18adbb,_0x24ed50=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x17eb06){this['setVertexS'+'tream'](At,_0x18adbb,_0x24ed50,_0x17eb06,Ee,!(-0x1c29+0x97*0x3+0x1a65));}['setColors3'+'2'](_0x2a36ee,_0x46de6c){this['setVertexS'+'tream'](At,_0x2a36ee,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x46de6c,Kr,!(0xf80+-0x1*0xe0d+-0x173));}['setIndices'](_0x2927e1,_0x48abdd){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x7a7+-0x16*-0x16a+-0x26c3),this['_geometryD'+'ata']['indices']=_0x2927e1,this['_geometryD'+'ata']['indexCount']=_0x48abdd||_0x2927e1['length'];}['getPositio'+'ns'](_0x46c05b){return this['getVertexS'+'tream'](He,_0x46c05b);}['getNormals'](_0x257969){return this['getVertexS'+'tream'](Yt,_0x257969);}['getUvs'](_0x3b075f,_0x5dd4d2){return this['getVertexS'+'tream'](om+_0x3b075f,_0x5dd4d2);}['getColors'](_0x4e40c5){return this['getVertexS'+'tream'](At,_0x4e40c5);}['getIndices'](_0x3ab615){let _0x38b28f=-0xb*-0x28d+0x108a+-0x2c99*0x1;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x12c41c=this['_geometryD'+'ata']['indices'];if(_0x38b28f=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x3ab615))_0x3ab615['set'](_0x12c41c);else{_0x3ab615['length']=-0xeb*-0x8+-0x1*-0x1eab+-0x2603;for(let _0x188119=-0x1457+-0x9a*-0x28+-0x1*0x3b9,_0x48192e=_0x12c41c['length'];_0x188119<_0x48192e;_0x188119++)_0x3ab615['push'](_0x12c41c[_0x188119]);}}else this['indexBuffe'+'r']['length']>0x1*0x616+-0x2625+0x200f&&this['indexBuffe'+'r'][-0x568*0x3+-0x2515+0x354d*0x1]&&(_0x38b28f=this['indexBuffe'+'r'][-0x1*-0x197e+-0xc5f+-0xd1f*0x1]['readData'](_0x3ab615));return _0x38b28f;}['update'](_0x4611a0=Ms,_0x596e26=!(0x1289+-0x15f6*0x1+0x36d)){if(this['_geometryD'+'ata']){if(_0x596e26){const _0x15ed0d=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x15ed0d&&_0x15ed0d['componentC'+'ount']===-0xc*-0xdd+-0xdae+0x1*0x355&&(this['_aabb']['compute'](_0x15ed0d['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x58a005=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x58a005=!(-0x181*-0x11+-0x17f7+-0x19a),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x58a005&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x34a052=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x34a052=!(0x15a6+-0x4bb+-0x10eb),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x34a052&&this['indexBuffe'+'r']['length']>0x11*-0x15b+0x1bc5*0x1+-0x6e*0xb&&this['indexBuffe'+'r'][0x1154*0x2+-0x1*-0x1de1+-0x4089]&&(this['indexBuffe'+'r'][0xe*-0x2b3+0xb66+0x1a64]['destroy'](),this['indexBuffe'+'r'][0x254c+-0x1071*0x2+-0x46a]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x1111+0x1*0x1b6e+-0x3*0xed5]['type']=_0x4611a0,this['indexBuffe'+'r']['length']>0xba4+0x4b2*0x7+-0x2c82&&this['indexBuffe'+'r'][-0x1e5b+0x185*0xa+0xf29]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x1063+-0x1708+0x276b]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0x40+-0x3f*0x3+-0x1*-0x7d]['indexed']=!(0x827*-0x1+-0xf7f*-0x1+-0x1d6*0x4)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0x1*0x779+-0xc4a+0x9*0x89]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0xca4*-0x1+-0x27*-0xdf+-0x2e9d*0x1]['indexed']=!(-0x240+0x1b5*-0x1+-0xd*-0x4e)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x115d+-0x2cf+0x142c,this['_geometryD'+'ata']['indexCount']=-0xda5+-0x1d42+0x2ae7,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x3*0x711+-0x19fb*-0x1+0x2f2d*-0x1),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x5f6+0x165c+-0x1065*0x1),this['_geometryD'+'ata']['recreate']=!(-0x5ad*-0x3+0x12e7*0x1+-0x21d*0x11),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x16d768){const _0x34537f=[];for(const _0xaad3f2 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x59d768=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0xaad3f2];_0x34537f['push']({'semantic':_0xaad3f2,'components':_0x59d768['componentC'+'ount'],'type':_0x59d768['dataType'],'normalize':_0x59d768['dataTypeNo'+'rmalize'],'asInt':_0x59d768['asInt']});}return new Et(this['device'],_0x34537f,_0x16d768);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0xd91c1c=this['_geometryD'+'ata']['maxVertice'+'s'],_0x226b96=this['_buildVert'+'exFormat'](_0xd91c1c);this['vertexBuff'+'er']=new os(this['device'],_0x226b96,_0xd91c1c,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x41a041=new go(this['vertexBuff'+'er']),_0x5946ed=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x333b92 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x166fda=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x333b92];_0x41a041['writeData'](_0x333b92,_0x166fda['data'],_0x5946ed),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x333b92];}_0x41a041['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x1*-0x7af+-0x1*-0x1a13+-0x1264||!this['indexBuffe'+'r'][-0x13bb*0x1+0x3*-0x397+0x1e80]){const _0x477d82=this['_geometryD'+'ata']['maxVertice'+'s'],_0x11684a=_0x477d82>0x14d81+0x503*0x2e+0xa*-0x1ece||_0x477d82===-0xf1*0x5+-0x332*-0x4+-0x27*0x35?nr:Pi,_0x4d553f=this['_storageIn'+'dex']?{'storage':!(-0x1*0x1b4f+0x1086+0xac9)}:void(0x1*-0x99e+-0x2419*-0x1+-0x1*0x1a7b);this['indexBuffe'+'r'][-0xa6f*0x1+-0x117e+0x3*0x94f]=new lr(this['device'],_0x11684a,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x67*0x4e+-0x73a+-0x1828),_0x4d553f);}const _0xe02eb9=this['_geometryD'+'ata']['indices'];_0xe02eb9&&(this['indexBuffe'+'r'][0xa62+-0xf2e+-0x2*-0x266]['writeData'](_0xe02eb9,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0xad39a7){_0xad39a7===Dr?this['generateWi'+'reframe']():_0xad39a7===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x1d26+0x65e*-0x1+0x16c8*-0x1,'indexed':!(-0x34*0xba+0x116e+0x145b)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x15a6d3=this['vertexBuff'+'er']['numVertice'+'s'],_0x30adb3=[];let _0xe11d15;if(this['indexBuffe'+'r']['length']>-0x13a+0x1b7*-0x3+0x65f&&this['indexBuffe'+'r'][-0xa9*-0x31+-0x727+-0x1932]){const _0x1c2cce=[[-0xc*-0x9e+-0x1*0x134b+0xbe3,0x5*0x4a9+-0x68*0x6+0x1bd*-0xc],[0x1a0*-0x7+0x40f*0x2+-0x1*-0x343,-0x259e+0xfdd+0x15c3],[-0x19*-0x32+0xe85+-0x1365,-0xb*0x37b+-0x22f+0x14*0x206]],_0x373aa5=this['primitive'][yo]['base'],_0x6335e6=this['primitive'][yo]['count'],_0x7a323c=this['indexBuffe'+'r'][yo],_0x56371b=new Lh[_0x7a323c['format']](_0x7a323c['storage']),_0x166d9a=new Set();for(let _0x536c4a=_0x373aa5;_0x536c4a<_0x373aa5+_0x6335e6;_0x536c4a+=-0x2301+-0x7d0*-0x3+0xb94)for(let _0x46ba6b=-0x611+-0x98a+0xeb*0x11;_0x46ba6b<-0x1*-0x78d+0x15b7+-0x1d41;_0x46ba6b++){const _0x3d6efe=_0x56371b[_0x536c4a+_0x1c2cce[_0x46ba6b][-0x1*-0x2605+0xf8*-0x22+0x515*-0x1]],_0x3fa76d=_0x56371b[_0x536c4a+_0x1c2cce[_0x46ba6b][-0x1*-0x313+0x1*0x2089+-0x239b]],_0x3b7d6f=_0x3d6efe>_0x3fa76d?_0x3fa76d*_0x15a6d3+_0x3d6efe:_0x3d6efe*_0x15a6d3+_0x3fa76d;_0x166d9a['has'](_0x3b7d6f)||(_0x166d9a['add'](_0x3b7d6f),_0x30adb3['push'](_0x3d6efe,_0x3fa76d));}_0xe11d15=_0x7a323c['format'];}else{for(let _0x5d0605=0x231e+0x1515+-0x3833*0x1;_0x5d0605<_0x15a6d3;_0x5d0605+=0x252f+-0x15*0x1a5+-0x2a3)_0x30adb3['push'](_0x5d0605,_0x5d0605+(0x1*-0x1837+-0x1*0xca+0x1902),_0x5d0605+(-0x10eb+0x1*0xa84+0xcd*0x8),_0x5d0605+(0x12cf+0x157+-0x1*0x1424),_0x5d0605+(-0xd6f+0x98b*0x1+-0x1*-0x3e6),_0x5d0605);_0xe11d15=_0x30adb3['length']>0x1cbe+-0x1*-0x1cb50+-0xe80f?nr:Pi;}const _0x3fe258=new lr(this['vertexBuff'+'er']['device'],_0xe11d15,_0x30adb3['length']);new Lh[_0x3fe258['format']](_0x3fe258['storage'])['set'](_0x30adb3),_0x3fe258['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0x30adb3['length'],'indexed':!(0x4d2+-0x7*-0x443+-0x22a7)},this['indexBuffe'+'r'][Dr]=_0x3fe258;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),$m=new T(),Wm=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0x1327f2,_0x53b59d){return _0x1327f2 instanceof Function?_0x1327f2:_0x168bea=>{let _0x10dab4=_0x168bea[_0x1327f2];return _0x10dab4 instanceof Function&&(_0x10dab4=_0x10dab4()),_0x10dab4===_0x53b59d;};}function w0(_0x4bbc16,_0x2bbb66){if(_0x2bbb66(_0x4bbc16))return _0x4bbc16;const _0x45fcf9=_0x4bbc16['_children'],_0x18b02c=_0x45fcf9['length'];for(let _0x4ff4e3=0xf26+-0x265b+0x1735;_0x4ff4e3<_0x18b02c;++_0x4ff4e3){const _0x53e9a1=w0(_0x45fcf9[_0x4ff4e3],_0x2bbb66);if(_0x53e9a1)return _0x53e9a1;}return null;}class De extends ce{constructor(_0x269ac6='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(-0x16df*0x1+0x371*0x2+0xffe,0x2137+0xad*0x1f+-0xeb*0x3b,0x16f0+-0x9*-0x2d3+0x305a*-0x1)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(-0x411*0x2+-0x17*-0xd3+-0xad2)),c(this,'_aabbVer',-0x1f*-0x43+-0x15cc+0x1f*0x71),c(this,'_frozen',!(0x61*-0xb+0x34a+0x1*0xe2)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(0x1*0x233f+0xcd*-0x19+-0xf39)),c(this,'_worldScal'+'eSign',-0x586*0x1+-0xe2f+-0x5*-0x3f1),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(0x26eb+-0x2241+0x6*-0xc7)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',0x10b5+-0x1061+-0x54),c(this,'_enabled',!(-0x26de+0x2450+0x28e)),c(this,'_enabledIn'+'Hierarchy',!(0x9e5+0x65*-0x18+-0x1b*0x4)),c(this,'scaleCompe'+'nsation',!(-0x1249+0x2d7*0xb+-0xcf3)),this['name']=_0x269ac6;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(0x24b*0xf+-0x1b70+0x2*-0x37a));}get['normalMatr'+'ix'](){const _0x4fb11e=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x4fb11e['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0x194f+0x7f6+-0x2*-0x8ad)),_0x4fb11e;}set['enabled'](_0x6b5c6a){var _0x35a9ee;this['_enabled']!==_0x6b5c6a&&(this['_enabled']=_0x6b5c6a,(_0x6b5c6a&&((_0x35a9ee=this['_parent'])!=null&&_0x35a9ee['enabled'])||!_0x6b5c6a)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x6b5c6a));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x443c26=this['_parent'];if(!_0x443c26)return'';let _0x26a8a4=this['name'];for(;_0x443c26&&_0x443c26['_parent'];)_0x26a8a4=_0x443c26['name']+'/'+_0x26a8a4,_0x443c26=_0x443c26['_parent'];return _0x26a8a4;}get['root'](){let _0x3365d2=this;for(;_0x3365d2['_parent'];)_0x3365d2=_0x3365d2['_parent'];return _0x3365d2;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x99eba1,_0x33c0d0){_0x99eba1['_onHierarc'+'hyStateCha'+'nged'](_0x33c0d0);const _0x1d0c11=_0x99eba1['_children'];for(let _0x4273aa=0x1e9a+0x778+0xb*-0x376,_0x2cc664=_0x1d0c11['length'];_0x4273aa<_0x2cc664;_0x4273aa++)_0x1d0c11[_0x4273aa]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x1d0c11[_0x4273aa],_0x33c0d0);}['_onHierarc'+'hyStateCha'+'nged'](_0x4b7f30){this['_enabledIn'+'Hierarchy']=_0x4b7f30,_0x4b7f30&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x323a56){_0x323a56['name']=this['name'];const _0x599d3d=this['tags']['_list'];_0x323a56['tags']['clear']();for(let _0x52c6b7=0x37e+-0x263b*0x1+0x22bd;_0x52c6b7<_0x599d3d['length'];_0x52c6b7++)_0x323a56['tags']['add'](_0x599d3d[_0x52c6b7]);_0x323a56['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x323a56['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x323a56['localScale']['copy'](this['localScale']),_0x323a56['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x323a56['position']['copy'](this['position']),_0x323a56['rotation']['copy'](this['rotation']),_0x323a56['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x323a56['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x323a56['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x323a56['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x323a56['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x323a56['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x323a56['_aabbVer']=this['_aabbVer']+(-0x2*-0x11fd+-0x8b+-0x236e),_0x323a56['_enabled']=this['_enabled'],_0x323a56['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x323a56['_enabledIn'+'Hierarchy']=!(0x9*0x6+-0x2275+-0x8*-0x448);}['clone'](){const _0x559d10=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x559d10),_0x559d10;}['copy'](_0x576d9d){return _0x576d9d['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x48adb4=this['_children'];for(;_0x48adb4['length'];){const _0x32e9e1=_0x48adb4['pop']();_0x32e9e1['_parent']=null,_0x32e9e1['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x222b1d,_0x3b3b72){const _0x5ef5c2=[],_0x35d472=Xm(_0x222b1d,_0x3b3b72);return this['forEach'](_0x2e3ddb=>{_0x35d472(_0x2e3ddb)&&_0x5ef5c2['push'](_0x2e3ddb);}),_0x5ef5c2;}['findOne'](_0x5ce409,_0x594a33){const _0x184373=Xm(_0x5ce409,_0x594a33);return w0(this,_0x184373);}['findByTag'](){const _0x53d9a4=arguments,_0x59045e=[],_0x5ab68d=(_0x34ea05,_0x4c36b3)=>{_0x4c36b3&&_0x34ea05['tags']['has'](..._0x53d9a4)&&_0x59045e['push'](_0x34ea05);for(let _0x40aa58=-0xf2a+0x9*0x223+-0x411;_0x40aa58<_0x34ea05['_children']['length'];_0x40aa58++)_0x5ab68d(_0x34ea05['_children'][_0x40aa58],!(-0x4c4+0x2*0x376+-0x228));};return _0x5ab68d(this,!(-0x5d3+0xb*-0x2ec+-0x8*-0x4bf)),_0x59045e;}['findByName'](_0x317656){return this['findOne']('name',_0x317656);}['findByPath'](_0x34b7ac){const _0x1444c3=Array['isArray'](_0x34b7ac)?_0x34b7ac:_0x34b7ac['split']('/');let _0x3706f0=this;for(let _0x3cbee5=0x2*0x1255+-0x1c94+-0x2*0x40b,_0x586f61=_0x1444c3['length'];_0x3cbee5<_0x586f61;++_0x3cbee5)if(_0x3706f0=_0x3706f0['children']['find'](_0x5e8f31=>_0x5e8f31['name']===_0x1444c3[_0x3cbee5]),!_0x3706f0)return null;return _0x3706f0;}['forEach'](_0x30ae3d,_0x3bd2b5){_0x30ae3d['call'](_0x3bd2b5,this);const _0x4a91d0=this['_children'],_0x16a679=_0x4a91d0['length'];for(let _0x4a47d4=0xa23+0xce8+-0x170b;_0x4a47d4<_0x16a679;++_0x4a47d4)_0x4a91d0[_0x4a47d4]['forEach'](_0x30ae3d,_0x3bd2b5);}['isDescenda'+'ntOf'](_0x404114){let _0x4cd48b=this['_parent'];for(;_0x4cd48b;){if(_0x4cd48b===_0x404114)return!(0x26b5+-0x61*-0x57+-0x47ac);_0x4cd48b=_0x4cd48b['_parent'];}return!(-0x1122+-0x94e+0x3c7*0x7);}['isAncestor'+'Of'](_0x5c9d9c){return _0x5c9d9c['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x17d0+0xf8b+0x3*-0xd1e)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x1*0x1723+-0x2039+0x916&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x44acc9;(_0x44acc9=this['_parent'])==null||_0x44acc9['removeChil'+'d'](this);}['reparent'](_0x2a2306,_0x3df9d6){this['remove'](),_0x2a2306&&(_0x3df9d6>=-0xff0+0x1*-0x11ab+0x219b?_0x2a2306['insertChil'+'d'](this,_0x3df9d6):_0x2a2306['addChild'](this));}['setLocalEu'+'lerAngles'](_0x8d25c0,_0x207335,_0x31b179){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x8d25c0,_0x207335,_0x31b179),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x43c6d1,_0x18a23c,_0x179515){_0x43c6d1 instanceof T?this['localPosit'+'ion']['copy'](_0x43c6d1):this['localPosit'+'ion']['set'](_0x43c6d1,_0x18a23c,_0x179515),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x22e128,_0xe91ae1,_0x20ba29,_0x2c6dc3){_0x22e128 instanceof se?this['localRotat'+'ion']['copy'](_0x22e128):this['localRotat'+'ion']['set'](_0x22e128,_0xe91ae1,_0x20ba29,_0x2c6dc3),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x1870fb,_0x3a7295,_0x5683d7){_0x1870fb instanceof T?this['localScale']['copy'](_0x1870fb):this['localScale']['set'](_0x1870fb,_0x3a7295,_0x5683d7),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x4f6+0x1223+0xd2d*-0x1),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x3c538d=this['_parent'];for(;_0x3c538d;)_0x3c538d['_frozen']=!(-0xb*0x12e+0x1a84+-0xd89),_0x3c538d=_0x3c538d['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x29*0x96+0x8b*0x37+0x2*-0x2eb),this['_dirtyWorl'+'d']=!(0x1*0x23df+0x30f+0x6*-0x67d);for(let _0x564950=-0x1*0x7dd+-0x34*0x4+0x8ad;_0x564950<this['_children']['length'];_0x564950++)this['_children'][_0x564950]['_dirtyWorl'+'d']||this['_children'][_0x564950]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0x6fb*-0x3+0x409+-0x18fa),this['_worldScal'+'eSign']=0x1ef9+-0xdb4+-0x1145,this['_aabbVer']++;}['setPositio'+'n'](_0x3ae240,_0x384895,_0x4bbbc4){_0x3ae240 instanceof T?kt['copy'](_0x3ae240):kt['set'](_0x3ae240,_0x384895,_0x4bbbc4),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x1c079e,_0x186d78,_0x2fc153,_0x32c3a9){if(_0x1c079e instanceof se?Bt['copy'](_0x1c079e):Bt['set'](_0x1c079e,_0x186d78,_0x2fc153,_0x32c3a9),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0x5d1078=this['_parent']['getRotatio'+'n']();An['copy'](_0x5d1078)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x11b931,_0x3ade64){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x11b931),this['localRotat'+'ion']['copy'](_0x3ade64);else{const _0x314f6b=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x314f6b)['invert'](),Ha['transformP'+'oint'](_0x11b931,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x3ade64);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x2525a2,_0x3cbd74,_0x436204){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x2525a2,_0x3cbd74,_0x436204),this['_parent']!==null){const _0x48cf70=this['_parent']['getRotatio'+'n']();An['copy'](_0x48cf70)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x241427){this['_prepareIn'+'sertChild'](_0x241427),this['_children']['push'](_0x241427),this['_onInsertC'+'hild'](_0x241427);}['addChildAn'+'dSaveTrans'+'form'](_0x3f2362){const _0x1b4b13=_0x3f2362['getPositio'+'n'](),_0x1e3fe6=_0x3f2362['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x3f2362),_0x3f2362['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x1b4b13)),_0x3f2362['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x1e3fe6)),this['_children']['push'](_0x3f2362),this['_onInsertC'+'hild'](_0x3f2362);}['insertChil'+'d'](_0x3a6bc7,_0x46a865){this['_prepareIn'+'sertChild'](_0x3a6bc7),this['_children']['splice'](_0x46a865,0x4f8+0x9b*0x3a+-0x2816,_0x3a6bc7),this['_onInsertC'+'hild'](_0x3a6bc7);}['_prepareIn'+'sertChild'](_0x20a4a2){_0x20a4a2['remove'](),v['assert'](_0x20a4a2!==this,'GraphNode\x20'+(_0x20a4a2==null?void(0x2fa+-0x1a4d*0x1+-0x1*-0x1753):_0x20a4a2['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x20a4a2),'GraphNode\x20'+(_0x20a4a2==null?void(0x1669+0x3b*-0x1+-0xa7*0x22):_0x20a4a2['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x5b2066,_0x49f150,_0x545df3){this['fire'](_0x5b2066,_0x545df3);for(let _0x532f15=0xd0b+0xb*-0x342+-0x185*-0xf;_0x532f15<this['_children']['length'];_0x532f15++)this['_children'][_0x532f15]['_fireOnHie'+'rarchy'](_0x49f150,_0x49f150,_0x545df3);}['_onInsertC'+'hild'](_0x49729c){_0x49729c['_parent']=this;const _0x20e5bf=_0x49729c['_enabled']&&this['enabled'];_0x49729c['_enabledIn'+'Hierarchy']!==_0x20e5bf&&(_0x49729c['_enabledIn'+'Hierarchy']=_0x20e5bf,_0x49729c['_notifyHie'+'rarchyStat'+'eChanged'](_0x49729c,_0x20e5bf)),_0x49729c['_updateGra'+'phDepth'](),_0x49729c['_dirtifyWo'+'rld'](),this['_frozen']&&_0x49729c['_unfreezeP'+'arentToRoo'+'t'](),_0x49729c['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x49729c);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(-0x8af+0x1892+-0xfe2):-0x18d*-0x1+-0x1a*0x1+-0x35*0x7;for(let _0x51d630=-0x3bc*-0x5+0x1a71+0x1*-0x2d1d,_0x2218c9=this['_children']['length'];_0x51d630<_0x2218c9;_0x51d630++)this['_children'][_0x51d630]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0xad71eb){const _0x3ae651=this['_children']['indexOf'](_0xad71eb);_0x3ae651!==-(0xfca+0x204a+0x1*-0x3013)&&(this['_children']['splice'](_0x3ae651,0x25d+0x1*-0x26b+-0x1*-0xf),_0xad71eb['_parent']=null,_0xad71eb['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0xad71eb));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x35*0x7d+-0x1145+0x2b27)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x156633;const _0x140d95=this['_parent'];let _0x53f9c1=this['localScale'],_0x3d503f=_0x140d95;if(_0x3d503f){for(;_0x3d503f&&_0x3d503f['scaleCompe'+'nsation'];)_0x3d503f=_0x3d503f['_parent'];_0x3d503f&&(_0x3d503f=_0x3d503f['_parent'],_0x3d503f&&(_0x156633=_0x3d503f['worldTrans'+'form']['getScale'](),$m['mul2'](_0x156633,this['localScale']),_0x53f9c1=$m));}_d['setFromMat'+'4'](_0x140d95['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x4767bc=_0x140d95['worldTrans'+'form'];_0x140d95['scaleCompe'+'nsation']&&(Wm['mul2'](_0x156633,_0x140d95['getLocalSc'+'ale']()),Gm['setTRS'](_0x140d95['worldTrans'+'form']['getTransla'+'tion'](md),_d,Wm),_0x4767bc=Gm),_0x4767bc['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x53f9c1);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0x24ca+0x1dc0+-0x4289);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x5*0x3a+0x13+0x10f),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x176263=this['_children'];for(let _0x1e0824=-0x2*0x4eb+0x1*0x588+-0x26*-0x1d,_0x37fb33=_0x176263['length'];_0x1e0824<_0x37fb33;_0x1e0824++)_0x176263[_0x1e0824]['syncHierar'+'chy']();}['lookAt'](_0x236fb8,_0x58cfb9,_0x468c8a,_0x5c59d9=0xfd6+-0x482+-0x4*0x2d5,_0x88f3d6=-0x2069+0x1c67+-0x403*-0x1,_0x553bbb=0x10*0x19c+0x208*0xd+0x3428*-0x1){if(_0x236fb8 instanceof T)gd['copy'](_0x236fb8),_0x58cfb9 instanceof T?El['copy'](_0x58cfb9):El['copy'](T['UP']);else{if(_0x468c8a===void(-0x78f+0x11*0x1+-0x112*-0x7))return;gd['set'](_0x236fb8,_0x58cfb9,_0x468c8a),El['set'](_0x5c59d9,_0x88f3d6,_0x553bbb);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0x5165ac,_0x11c84a,_0x5a3ee0){_0x5165ac instanceof T?kt['copy'](_0x5165ac):kt['set'](_0x5165ac,_0x11c84a,_0x5a3ee0),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0xe06844,_0x3050c6,_0x113184){_0xe06844 instanceof T?kt['copy'](_0xe06844):kt['set'](_0xe06844,_0x3050c6,_0x113184),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x598208,_0x3024cc,_0x1ae478){if(Bt['setFromEul'+'erAngles'](_0x598208,_0x3024cc,_0x1ae478),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x13b06a=this['getRotatio'+'n'](),_0x15e13d=this['_parent']['getRotatio'+'n']();An['copy'](_0x15e13d)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x13b06a);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x4d6dd3,_0x128c76,_0x2130d9){Bt['setFromEul'+'erAngles'](_0x4d6dd3,_0x128c76,_0x2130d9),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0x465b92){const _0x3c22ca=T0['get'](_0x465b92);return v['assert'](_0x3c22ca),_0x3c22ca;}function sC(_0xa211c8,_0x4db2a7){v['assert'](_0x4db2a7),T0['get'](_0xa211c8,()=>_0x4db2a7);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x25b6e1,_0x29c7d5)=>{_0x29c7d5['destroy']();}),this['cache']['clear']();}['incRef'](_0x191f46){const _0x4222e5=(this['cache']['get'](_0x191f46)||-0x3*0x7ca+0x1c38+0x8a*-0x9)+(0xa11*0x1+0x17c8+0x876*-0x4);this['cache']['set'](_0x191f46,_0x4222e5);}['decRef'](_0x273550){if(_0x273550){let _0x274021=this['cache']['get'](_0x273550);_0x274021&&(_0x274021--,_0x274021===-0x3*-0x539+-0x19c2+0xa17*0x1?(this['cache']['delete'](_0x273550),_0x273550['destroy']()):this['cache']['set'](_0x273550,_0x274021));}}}class Si{static['incRef'](_0x4d4585){this['cache']['incRef'](_0x4d4585);}static['decRef'](_0x21ffdf){this['cache']['decRef'](_0x21ffdf);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=-0x1611+0x2e*0xcf+-0xf21;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(0x60f+0x1*0x14e7+-0x1af2);class aC{constructor(_0x47ad5b){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(-0x26b*-0x3+-0x1e62+-0xb91*-0x2)),this['count']=_0x47ad5b;}['destroy'](){var _0x300e60;this['_destroyVe'+'rtexBuffer']&&((_0x300e60=this['vertexBuff'+'er'])==null||_0x300e60['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0xf9ec70){if(!this['bindGroup']){const _0x3ed2d0=this['shader'];v['assert'](_0x3ed2d0);const _0x4a7c94=_0x3ed2d0['meshBindGr'+'oupFormat'];v['assert'](_0x4a7c94),this['bindGroup']=new mp(_0xf9ec70,_0x4a7c94),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0xc59ac){if(!this['uniformBuf'+'fer']){const _0x4c9e70=this['shader'];v['assert'](_0x4c9e70);const _0x3acdd2=_0x4c9e70['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0x3acdd2),this['uniformBuf'+'fer']=new gp(_0xc59ac,_0x3acdd2,!(0xe88+-0x1*-0x515+-0x2*0x9ce));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x40f941,_0x1c326b;(_0x40f941=this['bindGroup'])==null||_0x40f941['destroy'](),this['bindGroup']=null,(_0x1c326b=this['uniformBuf'+'fer'])==null||_0x1c326b['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0xfaef46,_0x1f2e18,_0xd1b618=null){c(this,'castShadow',!(-0x26d1+0x7a1+0x1f31)),c(this,'cull',!(0x24b6+-0x1*0x1d6+-0x22e0)),c(this,'drawOrder',0x1b1*0x17+-0x19f7*0x1+-0xcf0),c(this,'node'),c(this,'visible',!(0x2167+0x634*0x5+-0x406b)),c(this,'visibleThi'+'sFrame',!(-0x1d33*-0x1+0x2218+-0x3f4a)),c(this,'flipFacesF'+'actor',-0x9d*-0x3a+-0x1*-0x1d38+-0x217*0x1f),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(-0x1801+-0x5*-0x7ca+0x3*-0x4fb)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(-0x7ac*-0x4+0x3e5*-0x9+-0x22f*-0x2)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(0x2b0+0x1497+-0x1746)),c(this,'_aabbMeshV'+'er',-(0x5*-0x38f+0x3c7*0x6+-0xe*0x59)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(0x1783+0xed1+-0x2654)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[-0x2287+-0x1dd8+0x405f,0x132a+0x15e1+-0x290b]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(-0x1f5c+0x18d5+0x687)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(-0x17ca+-0x17c3+0x6*0x7ed)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<-0x1*-0x543+-0x15e6+0x10b3),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0xfaef46 instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0xd1b618,this['_mesh']=_0xfaef46,_0xfaef46['incRefCoun'+'t'](),this['material']=_0x1f2e18,_0xfaef46['vertexBuff'+'er']){const _0x5a7b21=_0xfaef46['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x5a7b21['hasUv0']?m0:0x1*-0x11d2+0x4*0x80f+0x1*-0xe6a,this['_shaderDef'+'s']|=_0x5a7b21['hasUv1']?_0:0x6a*-0x2+0x5*0x20f+-0x977,this['_shaderDef'+'s']|=_0x5a7b21['hasColor']?g0:-0x15e8+-0x1101+0x1*0x26e9,this['_shaderDef'+'s']|=_0x5a7b21['hasTangent'+'s']?Mp:0x81*-0x21+0x3e+0x1063;}this['updateKey']();}set['renderStyl'+'e'](_0x38f922){this['_renderSty'+'le']=_0x38f922,this['mesh']['prepareRen'+'derState'](_0x38f922);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x5349b5){_0x5349b5!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x5349b5,_0x5349b5&&_0x5349b5['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x4a6f5d){this['_aabb']=_0x4a6f5d;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x350b80=this['_customAab'+'b'],_0x24fa88=!!_0x350b80;if(!_0x350b80){if(_0x350b80=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x840167=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x840167);}const _0xe1cb1e=this['mesh']['boneUsed'];let _0xc5daf2=!(0xad+-0x4*-0x58+-0x20d);for(let _0x4f0e73=-0x211c+-0x2058+0x4174;_0x4f0e73<this['mesh']['boneAabb']['length'];_0x4f0e73++)_0xe1cb1e[_0x4f0e73]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x4f0e73],this['skinInstan'+'ce']['matrices'][_0x4f0e73]),_0xc5daf2?(_0xc5daf2=!(0x1632+0x23d0+-0x3a01),_0x350b80['center']['copy'](Cl['center']),_0x350b80['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x350b80['add'](Cl));_0x24fa88=!(-0x17d*-0xa+0x1d19+-0x2bfb);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x350b80['center']['copy'](this['mesh']['aabb']['center']),_0x350b80['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x350b80['center']['set'](0x3*-0x7e6+0x14b*-0x1+0x18fd,-0x238+0x309+-0xd1,0x1*0x1548+0x1ec7+0x340f*-0x1),_0x350b80['halfExtent'+'s']['set'](-0x13d5+-0x26d7+0x3aac,0x970+0x16fd+0xacf*-0x3,0x17b*-0x15+0x4*0x269+0x143*0x11)),this['mesh']&&this['mesh']['morph']){const _0x4b5ff3=this['mesh']['morph']['aabb'];_0x350b80['_expand'](_0x4b5ff3['getMin'](),_0x4b5ff3['getMax']());}_0x24fa88=!(0x6*0x47+0x337*0x1+-0x4e1*0x1),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x24fa88&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x350b80,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x3de398=>{_0x3de398['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x4cadc9,_0x3d9aae,_0x5e01c4,_0x4e0386,_0x137478,_0x4f1ff6,_0x3b80d4){var _0x274684;const _0x819a69=this['_shaderDef'+'s'];yr[-0x55e*0x2+0x26c3+-0x401*0x7]=_0x4cadc9,yr[-0x147e*-0x1+0x83a*-0x4+0x1*0xc6b]=_0x3d9aae,yr[0x24ea+0xf99+0x1*-0x3481]=_0x819a69,yr[-0x2*-0x3a7+-0xa98+0x34d*0x1]=_0x4e0386['hash'];const _0x1a1590=Zy(yr);let _0x32cf5b=this['_shaderCac'+'he']['get'](_0x1a1590);if(!_0x32cf5b){const _0x23f4c0=this['_material'];if(_0x32cf5b=new oC(),_0x32cf5b['shader']=_0x23f4c0['variants']['get'](_0x1a1590),_0x32cf5b['hashes']=new Uint32Array(yr),!_0x32cf5b['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x554b49=_0x23f4c0['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x5e01c4,'objDefs':_0x819a69,'cameraShaderParams':_0x4e0386,'pass':_0x4cadc9,'sortedLights':_0x3b80d4,'viewUniformFormat':_0x137478,'viewBindGroupFormat':_0x4f1ff6,'vertexFormat':(_0x274684=this['mesh']['vertexBuff'+'er'])==null?void(-0x2691+-0x2665+0x4cf6):_0x274684['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x23f4c0['variants']['set'](_0x1a1590,_0x554b49),_0x32cf5b['shader']=_0x554b49;}this['_shaderCac'+'he']['set'](_0x1a1590,_0x32cf5b);}return v['call'](()=>{$v['equals'](_0x32cf5b['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x32cf5b;}set['material'](_0x153ceb){this['clearShade'+'rs']();const _0xc0d780=this['_material'];_0xc0d780&&_0xc0d780['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x153ceb,_0x153ceb&&(_0x153ceb['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x153ceb['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x402078){this['_layer']=_0x402078,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x20797d){_0x20797d!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x20797d,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x28bc38){this['_calculate'+'SortDistan'+'ce']=_0x28bc38;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x5b344b){this['_receiveSh'+'adow']!==_0x5b344b&&(this['_receiveSh'+'adow']=_0x5b344b,this['_updateSha'+'derDefs'](_0x5b344b?this['_shaderDef'+'s']&-(0x1*-0x118d+0xd6d+-0x211*-0x2):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x3e73c7){this['_updateSha'+'derDefs'](_0x3e73c7?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(0x5d63+-0x39*0x1f5+0x522b));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==0x19c1+-0x2*-0x97b+-0x1*0x2cb7;}set['skinInstan'+'ce'](_0x560091){this['_skinInsta'+'nce']=_0x560091,this['_updateSha'+'derDefs'](_0x560091?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(-0x96*0x3f+0x282+0x226b)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x4d36c1){var _0x421460;(_0x421460=this['_morphInst'+'ance'])==null||_0x421460['destroy'](),this['_morphInst'+'ance']=_0x4d36c1;let _0x140c29=this['_shaderDef'+'s'];_0x140c29=_0x4d36c1&&_0x4d36c1['morph']['morphPosit'+'ions']?_0x140c29|qc:_0x140c29&-(-0x1*0x1ab5+0x15bd+0x8f9),_0x140c29=_0x4d36c1&&_0x4d36c1['morph']['morphNorma'+'ls']?_0x140c29|Xc:_0x140c29&-(0x243c+0x2ce*-0x5+-0xe35),_0x140c29=_0x4d36c1&&_0x4d36c1['morph']['intRenderF'+'ormat']?_0x140c29|jc:_0x140c29&-(0x26b3+0x37f7*-0x1+-0x3145*-0x1),this['_updateSha'+'derDefs'](_0x140c29);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x1b21cf){this['_screenSpa'+'ce']!==_0x1b21cf&&(this['_screenSpa'+'ce']=_0x1b21cf,this['_updateSha'+'derDefs'](_0x1b21cf?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(-0x4c*-0x13+-0x19*0x137+0x225*0xc)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x2e223a){this['_key'][Ei]=_0x2e223a;}get['key'](){return this['_key'][Ei];}set['mask'](_0xdc73e5){const _0x5b4078=this['_shaderDef'+'s']&0xc24c+0x3be*-0x33+-0xfc8d*-0x1;this['_updateSha'+'derDefs'](_0x5b4078|_0xdc73e5<<-0x2594+-0x1*-0x1604+0x5*0x320);}get['mask'](){return this['_shaderDef'+'s']>>0x573+0x9c5*0x1+-0xf28*0x1;}set['instancing'+'Count'](_0x25ed52){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x25ed52);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x1c*0x123+-0x8b*-0x29+-0x991*-0x1;}['destroy'](){var _0x2addd5,_0x1962f3,_0x331587;const _0xaf743f=this['mesh'];_0xaf743f&&(this['mesh']=null,_0xaf743f['refCount']<-0x19e2+0x568+-0x1*-0x147b&&_0xaf743f['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x3*-0xcac+-0xf8b+-0x1679],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x2d6*-0xa+-0x26f9+0xa9e],null),(_0x2addd5=this['_skinInsta'+'nce'])==null||_0x2addd5['destroy'](),this['_skinInsta'+'nce']=null,(_0x1962f3=this['morphInsta'+'nce'])==null||_0x1962f3['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x331587=this['instancing'+'Data'])==null||_0x331587['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x177535,_0x46c31b){if(_0x177535){for(let _0x55d3c0=0x1*-0x923+0x2*0x136d+-0x1db7;_0x55d3c0<_0x177535['length'];_0x55d3c0++){_0x177535[_0x55d3c0]['_renderSty'+'le']=_0x46c31b;const _0x540d80=_0x177535[_0x55d3c0]['mesh'];xd['has'](_0x540d80)||(xd['add'](_0x540d80),_0x540d80['prepareRen'+'derState'](_0x46c31b));}xd['clear']();}}['_isVisible'](_0x30d61b){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x30d61b):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x30d61b['frustum']['containsSp'+'here'](yd)>-0x1709+-0x3*0x44f+0x11fb*0x2):!(-0x2*0x1a5+-0xb21+0xd*0x11c);}['updateKey'](){const _0x36f52a=this['material'],_0x4689dc=_0x36f52a['alphaToCov'+'erage']||_0x36f52a['alphaTest']?Kt:_0x36f52a['blendType'];this['_key'][Ei]=(this['layer']&-0x196+-0xdf*0x5+0x600)<<-0x2*-0x579+0x2228+-0x2cff|(_0x4689dc===is?0x14e1*-0x1+0x116e+-0x44*-0xd:0x13*0x9a+0x3*-0x976+0x4*0x43d)<<0x2274+0x12d2+0x4*-0xd4b|(_0x36f52a['id']&-0x43*0xd39ee+-0x597a3*0x11+0x4*0x1754ec7)<<-0x22*-0x3e+0xc3f+-0x31*0x6b;}['setInstanc'+'ing'](_0x3b981f,_0x82a6ca=!(0x4fc+0x11*-0x136+0xf9b)){_0x3b981f?(this['instancing'+'Data']=new aC(_0x3b981f['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x3b981f,_0x3b981f['format']['instancing']=!(0x1dfa+-0x24db+-0x6e1*-0x1),this['cull']=_0x82a6ca):(this['instancing'+'Data']=null,this['cull']=!(-0x1*-0x1db4+0x37*-0xa4+0x588)),this['_updateSha'+'derDefs'](_0x3b981f?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(-0x152f+0xb73*-0x3+0x37a9));}['ensureMate'+'rial'](_0x45b5bc){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x45b5bc));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x374a77){return this['parameters'][_0x374a77];}['setParamet'+'er'](_0x544a5e,_0x473190,_0x440625=-0x1d8d35aff+-0x1f2e8cf0b*-0x1+-0xe5ea8bf3*-0x1){const _0x1cafe0=this['parameters'][_0x544a5e];_0x1cafe0?(_0x1cafe0['data']=_0x473190,_0x1cafe0['passFlags']=_0x440625):this['parameters'][_0x544a5e]={'scopeId':null,'data':_0x473190,'passFlags':_0x440625};}['setRealtim'+'eLightmap'](_0x3fe0c4,_0x1ae4a9){const _0x1ff9c4=this['getParamet'+'er'](_0x3fe0c4);_0x1ff9c4!==_0x1ae4a9&&(_0x1ff9c4&&Si['decRef'](_0x1ff9c4['data']),_0x1ae4a9?(Si['incRef'](_0x1ae4a9),this['setParamet'+'er'](_0x3fe0c4,_0x1ae4a9)):this['deletePara'+'meter'](_0x3fe0c4));}['deletePara'+'meter'](_0x5ed891){this['parameters'][_0x5ed891]&&delete this['parameters'][_0x5ed891];}['setParamet'+'ers'](_0x186bb6,_0x16df46){const _0x34d975=this['parameters'];for(const _0x3754db in _0x34d975){const _0x1cafcf=_0x34d975[_0x3754db];_0x1cafcf['passFlags']&_0x16df46&&(_0x1cafcf['scopeId']||(_0x1cafcf['scopeId']=_0x186bb6['scope']['resolve'](_0x3754db)),_0x1cafcf['scopeId']['setValue'](_0x1cafcf['data']));}}['setLightma'+'pped'](_0x3b1626){_0x3b1626?this['mask']=(this['mask']|cr)&-(0x2d1*-0xd+-0xd05*0x1+0x31a8*0x1):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x11*-0xe3+-0x69e+0x15b1],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0xce*0xd+-0x162f*-0x1+-0xbb8],null),this['_shaderDef'+'s']&=-(0x8*0x287+-0x180e*-0x1+-0x1*0x1b85),this['mask']=(this['mask']|hs)&-(-0x2400+-0x4*-0x997+-0x255));}['setCustomA'+'abb'](_0x8c44fb){_0x8c44fb?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x8c44fb):this['_customAab'+'b']=_0x8c44fb['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x19df*0x1+-0x587*0x2+0x24ee)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[-0x1f72+-0x2177+0xbf*0x57,-0x1*0x377+-0x1ec5+0x6d9*0x5,-0xaab*-0x1+0x111*0x11+0x1cc9*-0x1,0x15*0x119+0xe*0x105+-0x2551,-0x763+-0x1a*-0xd4+0x3*-0x4b6,0x1f14+0xc*-0xba+-0x165b],hC=[-0x1d4c+-0xc9+0x3*0xa07,-0x138a+-0x2230+-0x7*-0x7ad,-0x530+0x20e9+-0x1bb6,0x1*0x230b+-0x1045+-0x12c6,0x1*0x35b+-0x1d+0x1*-0x33b,0xe4c+-0x1b8c+0xd42],jm=new js();function Ym(_0xe07772,_0x44b203){if(_0xe07772&&!_0x44b203||!_0xe07772&&_0x44b203)return!(-0xbd*0x22+-0x1b*0xfd+0x33ca*0x1);if(_0xe07772=_0xe07772['data'],_0x44b203=_0x44b203['data'],_0xe07772===_0x44b203)return!(0x2*0x7d8+0x1*-0x14bf+0x50f);if(_0xe07772 instanceof Float32Array&&_0x44b203 instanceof Float32Array){if(_0xe07772['length']!==_0x44b203['length'])return!(-0x1456+-0x1*0x1421+0x2878);for(let _0xf2bf1e=0x5*0x38f+0x3+-0x11ce;_0xf2bf1e<_0xe07772['length'];_0xf2bf1e++)if(_0xe07772[_0xf2bf1e]!==_0x44b203[_0xf2bf1e])return!(0x1032+-0xd8+-0xf59);return!(0x4*0x94a+-0xc1a+0x42d*-0x6);}return!(-0x5*-0x363+-0x1885*0x1+0x797);}function cC(_0x2685c1,_0xd1498c){for(const _0x39e839 in _0x2685c1)if(_0x2685c1['hasOwnProp'+'erty'](_0x39e839)&&!Ym(_0x2685c1[_0x39e839],_0xd1498c[_0x39e839]))return!(-0x11ae*0x2+0xc52+0x170b);for(const _0x5bad65 in _0xd1498c)if(_0xd1498c['hasOwnProp'+'erty'](_0x5bad65)&&!Ym(_0xd1498c[_0x5bad65],_0x2685c1[_0x5bad65]))return!(-0x5*0x59+0xa7*-0x2f+0x2067);return!(0x232a+0x245b+0x11*-0x435);}function Sd(_0x542ab7){return _0x542ab7['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x44a2d8,_0x4bc471,_0x3000b0){this['device']=_0x44a2d8,this['rootNode']=_0x4bc471,this['scene']=_0x3000b0,this['_init']=!(0x92*-0x40+-0x2*-0x12a7+-0x29*0x5),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x1006+-0x3*-0x6c7+-0x245b,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x12b1f7,_0x203ac6,_0xbc23fe,_0x2f1140,_0x1ebb88){if(_0x2f1140===void(0x3b0+-0x390+-0x8*0x4)&&(_0x2f1140=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x2f1140]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x2f1140+('\x20already\x20e'+'xists.'));return;}const _0x5ccb62=new et(_0x2f1140,_0x12b1f7,_0x203ac6,_0xbc23fe,_0x1ebb88);return this['_batchGrou'+'ps'][_0x2f1140]=_0x5ccb62,_0x5ccb62;}['removeGrou'+'p'](_0x19b0d8){if(!this['_batchGrou'+'ps'][_0x19b0d8]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x19b0d8+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x2c57f7=[];for(let _0x11c647=-0x1712+0xbf*-0x31+-0x163*-0x2b;_0x11c647<this['_batchList']['length'];_0x11c647++)this['_batchList'][_0x11c647]['batchGroup'+'Id']===_0x19b0d8?this['destroyBat'+'ch'](this['_batchList'][_0x11c647]):_0x2c57f7['push'](this['_batchList'][_0x11c647]);this['_batchList']=_0x2c57f7,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x19b0d8),delete this['_batchGrou'+'ps'][_0x19b0d8];}['markGroupD'+'irty'](_0x3d7258){this['_dirtyGrou'+'ps']['indexOf'](_0x3d7258)<0x79*0x2b+0x7*0x4df+0x6c*-0x81&&this['_dirtyGrou'+'ps']['push'](_0x3d7258);}['getGroupBy'+'Name'](_0x56addd){const _0x32cb97=this['_batchGrou'+'ps'];for(const _0x3fc76c in _0x32cb97)if(_0x32cb97['hasOwnProp'+'erty'](_0x3fc76c)&&_0x32cb97[_0x3fc76c]['name']===_0x56addd)return _0x32cb97[_0x3fc76c];return null;}['getBatches'](_0x1ac026){const _0xae577d=[],_0x228c1e=this['_batchList']['length'];for(let _0x1cfcf4=0xcb9+0x7*0x45f+-0x2*0x15a9;_0x1cfcf4<_0x228c1e;_0x1cfcf4++){const _0x49a42b=this['_batchList'][_0x1cfcf4];_0x49a42b['batchGroup'+'Id']===_0x1ac026&&_0xae577d['push'](_0x49a42b);}return _0xae577d;}['_removeMod'+'elsFromBat'+'chGroup'](_0x3f9db1,_0x554cd5){if(_0x3f9db1['enabled']){_0x3f9db1['model']&&_0x3f9db1['model']['batchGroup'+'Id']===_0x554cd5&&(_0x3f9db1['model']['batchGroup'+'Id']=-(0x7*-0x3b3+0x2297+-0x59*0x19)),_0x3f9db1['render']&&_0x3f9db1['render']['batchGroup'+'Id']===_0x554cd5&&(_0x3f9db1['render']['batchGroup'+'Id']=-(0x2489+-0xecc*-0x1+-0xa44*0x5)),_0x3f9db1['element']&&_0x3f9db1['element']['batchGroup'+'Id']===_0x554cd5&&(_0x3f9db1['element']['batchGroup'+'Id']=-(-0x1*0xedb+-0x3f*-0x37+-0x1*-0x153)),_0x3f9db1['sprite']&&_0x3f9db1['sprite']['batchGroup'+'Id']===_0x554cd5&&(_0x3f9db1['sprite']['batchGroup'+'Id']=-(0x15c8+-0x1780+0x1b9));for(let _0x59f25f=-0xb*0x2c3+-0xd*0x1ba+-0x1*-0x34d3;_0x59f25f<_0x3f9db1['_children']['length'];_0x59f25f++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x3f9db1['_children'][_0x59f25f],_0x554cd5);}}['insert'](_0x36ba32,_0x2084aa,_0x195b3d){const _0x9a6c07=this['_batchGrou'+'ps'][_0x2084aa];v['assert'](_0x9a6c07,'Invalid\x20ba'+'tch\x20'+_0x2084aa+'\x20insertion'),_0x9a6c07&&_0x9a6c07['_obj'][_0x36ba32]['indexOf'](_0x195b3d)<-0x1ce9+-0x1e7f+0x3b68&&(_0x9a6c07['_obj'][_0x36ba32]['push'](_0x195b3d),this['markGroupD'+'irty'](_0x2084aa));}['remove'](_0x1c2cf4,_0x560a14,_0x4ee369){const _0x33539f=this['_batchGrou'+'ps'][_0x560a14];if(v['assert'](_0x33539f,'Invalid\x20ba'+'tch\x20'+_0x560a14+'\x20insertion'),_0x33539f){const _0x2f372b=_0x33539f['_obj'][_0x1c2cf4]['indexOf'](_0x4ee369);_0x2f372b>=0x182f+0xcac+-0x24db&&(_0x33539f['_obj'][_0x1c2cf4]['splice'](_0x2f372b,-0x2227+-0xc24+0x2e4c),this['markGroupD'+'irty'](_0x560a14));}}['_extractRe'+'nder'](_0x420782,_0x2fc976,_0x49fa73,_0x228c19){return _0x420782['render']&&(_0x2fc976=_0x228c19[_0x420782['render']['batchGroup'+'Id']]=_0x2fc976['concat'](_0x420782['render']['meshInstan'+'ces']),_0x420782['render']['removeFrom'+'Layers']()),_0x2fc976;}['_extractMo'+'del'](_0x369367,_0x4db587,_0x563650,_0x2befad){return _0x369367['model']&&_0x369367['model']['model']&&(_0x4db587=_0x2befad[_0x369367['model']['batchGroup'+'Id']]=_0x4db587['concat'](_0x369367['model']['meshInstan'+'ces']),_0x369367['model']['removeMode'+'lFromLayer'+'s'](),_0x369367['model']['_batchGrou'+'p']=_0x563650),_0x4db587;}['_extractEl'+'ement'](_0x156140,_0x1df06b,_0x4669dd){if(!_0x156140['element'])return;let _0x21f85c=!(0x3*0x869+0x20bb+-0x39f5);_0x156140['element']['_text']&&_0x156140['element']['_text']['_model']['meshInstan'+'ces']['length']>0xd61*0x1+-0x1548+-0x77*-0x11?(_0x1df06b['push'](_0x156140['element']['_text']['_model']['meshInstan'+'ces'][-0xc0d*-0x1+-0x188f+0xc82]),_0x156140['element']['removeMode'+'lFromLayer'+'s'](_0x156140['element']['_text']['_model']),_0x21f85c=!(0x16e1*-0x1+0x1*-0x25fa+-0x9*-0x6c3)):_0x156140['element']['_image']&&(_0x1df06b['push'](_0x156140['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x156140['element']['removeMode'+'lFromLayer'+'s'](_0x156140['element']['_image']['_renderabl'+'e']['model']),_0x156140['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x1df06b['push'](_0x156140['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x156140['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x156140['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x156140['element']['_dirtifyMa'+'sk'](),_0x156140['element']['_onPrerend'+'er']())),_0x21f85c=!(-0x22f6+0x141*0x6+0x1b70)),_0x21f85c&&(_0x4669dd['_ui']=!(-0x19*0x36+-0x1fe3*-0x1+-0x2f5*0x9),_0x156140['element']['_batchGrou'+'p']=_0x4669dd);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x647414,_0x42c136){for(let _0x45a38a=0xce3+-0x1d61+0x1*0x107e;_0x45a38a<_0x42c136['length'];_0x45a38a++){const _0x454a9c=_0x42c136[_0x45a38a],_0x3036ca=this['_batchGrou'+'ps'][_0x454a9c];if(!_0x3036ca)continue;let _0x4103ad=_0x647414[_0x454a9c];_0x4103ad||(_0x4103ad=_0x647414[_0x454a9c]=[]);for(let _0x323c44=-0x56e*-0x7+0xc7*-0x13+-0x173d;_0x323c44<_0x3036ca['_obj']['model']['length'];_0x323c44++)_0x4103ad=this['_extractMo'+'del'](_0x3036ca['_obj']['model'][_0x323c44],_0x4103ad,_0x3036ca,_0x647414);for(let _0x10f0de=0x9a4*-0x1+-0x1d60+0x2704;_0x10f0de<_0x3036ca['_obj']['render']['length'];_0x10f0de++)_0x4103ad=this['_extractRe'+'nder'](_0x3036ca['_obj']['render'][_0x10f0de],_0x4103ad,_0x3036ca,_0x647414);for(let _0x2ffac7=-0x1*0x25f7+0x1ef1*0x1+0x706;_0x2ffac7<_0x3036ca['_obj']['element']['length'];_0x2ffac7++)this['_extractEl'+'ement'](_0x3036ca['_obj']['element'][_0x2ffac7],_0x4103ad,_0x3036ca);for(let _0x3d03d4=0xaa8+0x2*-0xc35+-0x3*-0x496;_0x3d03d4<_0x3036ca['_obj']['sprite']['length'];_0x3d03d4++){const _0x5b88cb=_0x3036ca['_obj']['sprite'][_0x3d03d4];_0x5b88cb['sprite']&&_0x5b88cb['sprite']['_meshInsta'+'nce']&&(_0x3036ca['dynamic']||_0x5b88cb['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x4103ad['push'](_0x5b88cb['sprite']['_meshInsta'+'nce']),_0x5b88cb['sprite']['removeMode'+'lFromLayer'+'s'](),_0x3036ca['_sprite']=!(-0xd04+-0x173d+0x1*0x2441),_0x5b88cb['sprite']['_batchGrou'+'p']=_0x3036ca);}}}['generate'](_0x5343a1){const _0x4b6513={};_0x5343a1||(_0x5343a1=Object['keys'](this['_batchGrou'+'ps']));const _0x56500d=[];for(let _0xe0b522=-0x56*-0x52+0x41*-0x6c+-0x10*0x2;_0xe0b522<this['_batchList']['length'];_0xe0b522++){if(_0x5343a1['indexOf'](this['_batchList'][_0xe0b522]['batchGroup'+'Id'])<0x1*-0x3ce+0x1*0x406+-0xe*0x4){_0x56500d['push'](this['_batchList'][_0xe0b522]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0xe0b522]);}if(this['_batchList']=_0x56500d,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x4b6513,_0x5343a1),_0x5343a1===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x1*-0x25cd+0x39e+0x1*0x222f;else{const _0x26856d=[];for(let _0x46a9fc=0x98*0x29+0x6a+-0x18c2;_0x46a9fc<this['_dirtyGrou'+'ps']['length'];_0x46a9fc++)_0x5343a1['indexOf'](this['_dirtyGrou'+'ps'][_0x46a9fc])<-0x242*0x10+-0xe4*0x14+0x8*0x6be&&_0x26856d['push'](this['_dirtyGrou'+'ps'][_0x46a9fc]);this['_dirtyGrou'+'ps']=_0x26856d;}let _0x565358,_0x3789ed,_0x541230,_0x76ada;for(const _0x550da8 in _0x4b6513)if(_0x4b6513['hasOwnProp'+'erty'](_0x550da8)){if(_0x565358=_0x4b6513[_0x550da8],_0x541230=this['_batchGrou'+'ps'][_0x550da8],!_0x541230){v['error']('batch\x20grou'+'p\x20'+_0x550da8+'\x20not\x20found');continue;}_0x3789ed=this['prepare'](_0x565358,_0x541230['dynamic'],_0x541230['maxAabbSiz'+'e'],_0x541230['_ui']||_0x541230['_sprite']);for(let _0x494c5e=-0x111e+0x230e+-0x10*0x11f;_0x494c5e<_0x3789ed['length'];_0x494c5e++)_0x76ada=this['create'](_0x3789ed[_0x494c5e],_0x541230['dynamic'],parseInt(_0x550da8,-0xb8f+-0x35f*0xb+0x30ae)),_0x76ada&&_0x76ada['addToLayer'+'s'](this['scene'],_0x541230['layers']);}}['prepare'](_0x38d4b8,_0x5eacba,_0x2b89f0=Number['POSITIVE_I'+'NFINITY'],_0x24bafd){if(_0x38d4b8['length']===0xb48+0x1b29+0x1*-0x2671)return[];const _0x29c858=_0x2b89f0*(0x6*-0xed+0x24ca+0x4*-0x7cf+0.5),_0x23489e=0x243*-0xd+-0xda*0x4+0x1b*0x15d,_0x404e6c=0x53160fc8+-0x10*0x936c4a5+0x140563a87,_0x2056e0=new _e(),_0x461ad6=new _e();let _0x2aa837=null,_0x21cb60;const _0x302d56=[];let _0x497dcf=-0x26a9*0x1+-0x1a46+0x40ef;_0x24bafd&&_0x38d4b8['sort']((_0x209d4a,_0x49c137)=>_0x209d4a['drawOrder']-_0x49c137['drawOrder']);let _0x57a3dc=_0x38d4b8,_0x219d2a;const _0x346f76=_0x24bafd?function(_0x489258){_0x2aa837?_0x2aa837['add'](_0x489258['aabb']):_0x2aa837=_0x489258['aabb']['clone'](),_0x219d2a['push'](_0x489258);}:function(_0x58c2d2){_0x219d2a['push'](_0x58c2d2);};for(;_0x57a3dc['length']>-0x1*-0x15cf+-0x133e+-0x49*0x9;){_0x302d56[_0x497dcf]=[_0x57a3dc[0x1a49+-0xb3f+-0xf0a]],_0x219d2a=[];const _0x2c453d=_0x57a3dc[-0x4*-0x3ab+-0x1b00+-0x3*-0x41c]['material'],_0x57ee1b=_0x57a3dc[-0x249c+0x117+0x2385]['layer'],_0x76ac7b=_0x57a3dc[-0x11d4+-0x110e*0x1+0xbe*0x2f]['_shaderDef'+'s'],_0x57c797=_0x57a3dc[-0xc8a+-0xe6d+0x1af7]['parameters'],_0x34254d=_0x57a3dc[-0x1*-0xc0b+-0xac8+-0x143]['stencilFro'+'nt'];let _0x294eb3=_0x57a3dc[-0xeb1+0xd12+0x1*0x19f]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x54367e=_0x57a3dc[-0x405*-0x1+0x3*0x967+-0x2*0x101d]['drawOrder'];_0x2056e0['copy'](_0x57a3dc[-0x2377+0xab*0x2b+-0x35f*-0x2]['aabb']);const _0x404b4f=Sd(_0x57a3dc[0x1fca+-0x1ed5*0x1+-0xf5]),_0xfb7916=_0x57a3dc[0x1ffa+-0xafb+-0x14ff]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x9256e9=_0x57a3dc[-0x3*-0xa01+0x37*-0x4e+-0xd41]['mesh']['primitive'][-0x82*-0x37+-0x1e1b+0x22d]['indexed'];_0x2aa837=null;for(let _0x281f16=-0x9*0x403+-0x827+0xec1*0x3;_0x281f16<_0x57a3dc['length'];_0x281f16++){const _0x333a99=_0x57a3dc[_0x281f16];if(_0x5eacba&&_0x302d56[_0x497dcf]['length']>=_0x23489e){_0x219d2a=_0x219d2a['concat'](_0x57a3dc['slice'](_0x281f16));break;}if(_0x2c453d!==_0x333a99['material']||_0x57ee1b!==_0x333a99['layer']||_0xfb7916!==_0x333a99['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x9256e9!==_0x333a99['mesh']['primitive'][-0xdc*-0x27+-0x1172+-0x79*0x22]['indexed']||_0x76ac7b!==_0x333a99['_shaderDef'+'s']||_0x294eb3+_0x333a99['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x404e6c){_0x346f76(_0x333a99);continue;}if(_0x461ad6['copy'](_0x2056e0),_0x461ad6['add'](_0x333a99['aabb']),_0x461ad6['halfExtent'+'s']['x']>_0x29c858||_0x461ad6['halfExtent'+'s']['y']>_0x29c858||_0x461ad6['halfExtent'+'s']['z']>_0x29c858){_0x346f76(_0x333a99);continue;}if(_0x34254d&&(!(_0x21cb60=_0x333a99['stencilFro'+'nt'])||_0x34254d['func']!==_0x21cb60['func']||_0x34254d['zpass']!==_0x21cb60['zpass'])){_0x346f76(_0x333a99);continue;}if(_0x404b4f!==Sd(_0x333a99)){_0x346f76(_0x333a99);continue;}if(!cC(_0x57c797,_0x333a99['parameters'])){_0x346f76(_0x333a99);continue;}if(_0x24bafd&&_0x2aa837&&_0x2aa837['intersects'](_0x333a99['aabb'])&&_0x333a99['drawOrder']!==_0x54367e){_0x346f76(_0x333a99);continue;}_0x2056e0['add'](_0x333a99['aabb']),_0x294eb3+=_0x333a99['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x302d56[_0x497dcf]['push'](_0x333a99);}_0x497dcf++,_0x57a3dc=_0x219d2a;}return _0x302d56;}['collectBat'+'chedMeshDa'+'ta'](_0x29b7ff,_0x46ff57){let _0x41ded2=null,_0xac31be=0x1*-0x199+0x1ead*0x1+0x745*-0x4,_0x1911e1=-0x1*-0x247d+0xbc3*0x1+-0x3040,_0x38b011=null;for(let _0x2f398=-0x1084+0x25ef+-0x156b;_0x2f398<_0x29b7ff['length'];_0x2f398++)if(_0x29b7ff[_0x2f398]['visible']){const _0x20af37=_0x29b7ff[_0x2f398]['mesh'],_0x5215d7=_0x20af37['vertexBuff'+'er']['numVertice'+'s'];if(_0xac31be+=_0x5215d7,_0x20af37['primitive'][-0x1*-0x11aa+0x1*-0x10c1+-0xe9]['indexed'])_0x1911e1+=_0x20af37['primitive'][-0x14dd+-0x1*0x10d5+0xa*0x3c5]['count'];else{const _0x5e6bf8=_0x20af37['primitive'][-0x251d+-0x1*0x3d9+-0x5da*-0x7]['type'];(_0x5e6bf8===Yr||_0x5e6bf8===ar)&&_0x20af37['primitive'][-0x1*0x8e9+-0xcfd*0x3+0x20*0x17f]['count']===-0x7a1+0x1*0x164f+-0xeaa&&(_0x1911e1+=-0xfe7*-0x1+-0x39d+-0xc44);}if(!_0x41ded2){_0x38b011=_0x29b7ff[_0x2f398]['material'],_0x41ded2={};const _0x29c22d=_0x20af37['vertexBuff'+'er']['format']['elements'];for(let _0x2e9da2=0x11be+0x26a4+-0x80e*0x7;_0x2e9da2<_0x29c22d['length'];_0x2e9da2++){const _0x3bbf82=_0x29c22d[_0x2e9da2]['name'];_0x41ded2[_0x3bbf82]={'numComponents':_0x29c22d[_0x2e9da2]['numCompone'+'nts'],'dataType':_0x29c22d[_0x2e9da2]['dataType'],'normalize':_0x29c22d[_0x2e9da2]['normalize'],'count':0x0};}_0x46ff57&&(_0x41ded2[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(-0xfac+0x37f+0xc2e),'count':0x0});}}return{'streams':_0x41ded2,'batchNumVerts':_0xac31be,'batchNumIndices':_0x1911e1,'material':_0x38b011};}['create'](_0x27d552,_0x401f8a,_0x52e066){const _0x5d953c=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0x13a4+-0x6*-0x8f+0x147*-0x12));let _0x5e86aa=null,_0x5c7796,_0x4417b4,_0x46f6e8,_0x27b260=null;const _0x400ba9=this['collectBat'+'chedMeshDa'+'ta'](_0x27d552,_0x401f8a);if(_0x400ba9['streams']){const _0xec35bc=_0x400ba9['streams'];let _0x3fb763=_0x400ba9['material'];const _0x4190c7=_0x400ba9['batchNumVe'+'rts'],_0x42fa18=_0x400ba9['batchNumIn'+'dices'];_0x27b260=new zm(_0x27d552,_0x401f8a,_0x52e066),this['_batchList']['push'](_0x27b260);let _0x293af5,_0x2d9dc8,_0x578c85,_0xcdc3de=-0xe09*-0x1+0x1*0x20ec+-0x2ef5,_0x1705dd=-0x1*-0x1071+-0x1*0x3b3+0x2*-0x65f,_0x348315;const _0xf783f0=_0x4190c7<=-0x1b840+0x19a+0x2b6a5?Uint16Array:Uint32Array,_0x3e9c82=new _0xf783f0(_0x42fa18);for(_0x5c7796 in _0xec35bc)_0x5e86aa=_0xec35bc[_0x5c7796],_0x5e86aa['typeArrayT'+'ype']=da[_0x5e86aa['dataType']],_0x5e86aa['elementByt'+'eSize']=_o[_0x5e86aa['dataType']],_0x5e86aa['buffer']=new _0x5e86aa['typeArrayT'+'ype'](_0x4190c7*_0x5e86aa['numCompone'+'nts']);for(let _0xd89088=0x35b*-0x2+-0x1488+-0x27a*-0xb;_0xd89088<_0x27d552['length'];_0xd89088++)if(_0x27d552[_0xd89088]['visible']){_0x4417b4=_0x27d552[_0xd89088]['mesh'],_0x46f6e8=_0x4417b4['vertexBuff'+'er']['numVertice'+'s'],_0x401f8a||(_0x348315=_0x27d552[_0xd89088]['node']['getWorldTr'+'ansform']());for(_0x5c7796 in _0xec35bc)if(_0x5c7796!==qt){_0x5e86aa=_0xec35bc[_0x5c7796];const _0x457a16=new _0x5e86aa['typeArrayT'+'ype'](_0x5e86aa['buffer']['buffer'],_0x5e86aa['elementByt'+'eSize']*_0x5e86aa['count']),_0x462861=_0x4417b4['getVertexS'+'tream'](_0x5c7796,_0x457a16)*_0x5e86aa['numCompone'+'nts'];if(_0x5e86aa['count']+=_0x462861,!_0x401f8a&&_0x5e86aa['numCompone'+'nts']>=-0x1783+0x20b3+-0x30f*0x3){if(_0x5c7796===He){const _0x164023=_0x348315['data'],_0x4db6e5=_0x164023[0x7*0x1e2+-0x9*-0x18a+-0x1b08],_0x1f80fd=_0x164023[-0x17a+-0x5*0x355+-0x60c*-0x3],_0x44805e=_0x164023[-0x40*-0x77+-0x1dae+-0x10],_0x1df237=_0x164023[0x26fd+0x5e6+0x3*-0xef5],_0x5cdf53=_0x164023[0x24e1+0x1*0x1823+-0x3cff],_0x55dbd4=_0x164023[0x1*-0x1295+-0x22ad+0x3548],_0x36cdf2=_0x164023[0x1*0x18ef+-0xb*0x14f+-0x21a*0x5],_0x1ff782=_0x164023[0x2*-0xa36+-0xc1*-0x22+-0x35*0x19],_0x57833a=_0x164023[-0x199*0x2+0x19d5*-0x1+0x427*0x7],_0x429978=_0x164023[0x2017+0x2199+-0x41a4],_0x5ec35e=_0x164023[0xee2+-0xdde*-0x2+0x11*-0x281],_0x21591b=_0x164023[-0x4a1+-0x2*-0x3a6+-0x29d];let _0xbaa9c2,_0x108e91,_0x32917a;for(let _0x5bfa8e=-0x735+-0x3*-0xace+-0x1935;_0x5bfa8e<_0x462861;_0x5bfa8e+=_0x5e86aa['numCompone'+'nts'])_0xbaa9c2=_0x457a16[_0x5bfa8e],_0x108e91=_0x457a16[_0x5bfa8e+(0x4f*-0x60+0x4f1+0x18b0)],_0x32917a=_0x457a16[_0x5bfa8e+(0x80e+0x11c4+0x1d8*-0xe)],_0x457a16[_0x5bfa8e]=_0xbaa9c2*_0x4db6e5+_0x108e91*_0x1df237+_0x32917a*_0x36cdf2+_0x429978,_0x457a16[_0x5bfa8e+(-0x4*0x94d+0x13b9+0x117c)]=_0xbaa9c2*_0x1f80fd+_0x108e91*_0x5cdf53+_0x32917a*_0x1ff782+_0x5ec35e,_0x457a16[_0x5bfa8e+(0x1d4e+-0x176e+-0x5de)]=_0xbaa9c2*_0x44805e+_0x108e91*_0x55dbd4+_0x32917a*_0x57833a+_0x21591b;}else{if(_0x5c7796===Yt||_0x5c7796===Zs){jm['invertMat4'](_0x348315)['transpose']();const [_0x39b223,_0x21f179,_0xa1710c,_0x503d48,_0x2579f6,_0x52b263,_0x1411ce,_0x505a33,_0x1c8095]=jm['data'];let _0x2e1af5,_0x50d647,_0x5de810;for(let _0x4cd7f3=0x1e87+0x1*-0x21b3+-0x2*-0x196;_0x4cd7f3<_0x462861;_0x4cd7f3+=_0x5e86aa['numCompone'+'nts'])_0x2e1af5=_0x457a16[_0x4cd7f3],_0x50d647=_0x457a16[_0x4cd7f3+(0x6a1*0x5+-0x2118+0x2*-0x6)],_0x5de810=_0x457a16[_0x4cd7f3+(-0x96b*0x2+-0xc52+0x1f2a*0x1)],_0x457a16[_0x4cd7f3]=_0x2e1af5*_0x39b223+_0x50d647*_0x503d48+_0x5de810*_0x1411ce,_0x457a16[_0x4cd7f3+(-0xda9+-0xebc*0x2+-0x2b22*-0x1)]=_0x2e1af5*_0x21f179+_0x50d647*_0x2579f6+_0x5de810*_0x505a33,_0x457a16[_0x4cd7f3+(-0x4db+0x11*0x5f+-0x172)]=_0x2e1af5*_0xa1710c+_0x50d647*_0x52b263+_0x5de810*_0x1c8095;}}}}if(_0x401f8a){_0x5e86aa=_0xec35bc[qt];for(let _0x487ab7=-0x1f*0x32+0x20*0x58+-0x4f2;_0x487ab7<_0x46f6e8;_0x487ab7++)_0x5e86aa['buffer'][_0x5e86aa['count']++]=_0xd89088;}if(_0x4417b4['primitive'][-0xa00+-0xdc*-0x29+-0xbe*0x22]['indexed']){_0x293af5=_0x4417b4['primitive'][0xe3b+-0x2673*0x1+0x1838]['base'],_0x2d9dc8=_0x4417b4['primitive'][0x16e6+0x23e1+-0x1*0x3ac7]['count'];const _0x2595ae=_0x4417b4['indexBuffe'+'r'][0xd83+-0x3*0xa13+-0x5d*-0x2e]['getFormat']();_0x578c85=new Lh[_0x2595ae](_0x4417b4['indexBuffe'+'r'][0x1846+0x487+0x65*-0x49]['storage']);}else{const _0x3ef1e5=_0x4417b4['primitive'][-0x57f*0x1+0x216+-0x61*-0x9]['type'];if(_0x3ef1e5===Yr||_0x3ef1e5===ar){if(_0x4417b4['primitive'][0x13a*-0x1b+-0xef5+0x1*0x3013]['count']===-0x3*-0xa3d+-0x2*0x801+0xeb1*-0x1)_0x293af5=-0x1325+-0x79c+0x1ac1*0x1,_0x2d9dc8=0x1*-0x1f7f+-0x1f*-0x97+0xd3c,_0x578c85=_0x3ef1e5===Yr?lC:hC;else{_0x2d9dc8=0x8a4+0x6a1+-0xf45;continue;}}}for(let _0x3d2a02=0x40c+0x215c+-0x2568;_0x3d2a02<_0x2d9dc8;_0x3d2a02++)_0x3e9c82[_0x3d2a02+_0x1705dd]=_0x578c85[_0x293af5+_0x3d2a02]+_0xcdc3de;_0x1705dd+=_0x2d9dc8,_0xcdc3de+=_0x46f6e8;}_0x4417b4=new Ie(this['device']);for(_0x5c7796 in _0xec35bc)_0x5e86aa=_0xec35bc[_0x5c7796],_0x4417b4['setVertexS'+'tream'](_0x5c7796,_0x5e86aa['buffer'],_0x5e86aa['numCompone'+'nts'],void(0x28a*0xe+-0xb*-0x377+-0x49a9),_0x5e86aa['dataType'],_0x5e86aa['normalize']);_0x3e9c82['length']>0x89*-0xe+0x1b7c+-0x13fe&&_0x4417b4['setIndices'](_0x3e9c82),_0x4417b4['update'](Ms,!(0x1d3+0x2522+-0x26f4)),_0x401f8a&&(_0x3fb763=_0x3fb763['clone'](),_0x3fb763['update']());const _0x578fda=new Le(_0x4417b4,_0x3fb763,this['rootNode']);_0x578fda['castShadow']=_0x27b260['origMeshIn'+'stances'][0x1*-0xf6b+-0xd60*-0x2+0x3*-0x3c7]['castShadow'],_0x578fda['parameters']=_0x27b260['origMeshIn'+'stances'][0x147+-0x1f80+0xa13*0x3]['parameters'],_0x578fda['layer']=_0x27b260['origMeshIn'+'stances'][-0x19*-0xe9+-0x1031+-0xf*0x70]['layer'],_0x578fda['_shaderDef'+'s']=_0x27b260['origMeshIn'+'stances'][-0x9d7+0x82c+0x1ab]['_shaderDef'+'s'],_0x578fda['batching']=!(0x4f2+0x34e*-0x3+-0x6a*-0xc),_0x578fda['cull']=_0x27b260['origMeshIn'+'stances'][0x4dc+0x24e7*-0x1+0x200b]['cull'];const _0xbf734c=this['_batchGrou'+'ps'][_0x52e066];if(_0xbf734c&&_0xbf734c['_ui']&&(_0x578fda['cull']=!(-0x987+-0x191*-0x3+0x4d5*0x1)),_0x401f8a){const _0x58c3fb=[];for(let _0x54d45c=0x1693+-0x1a3*0x4+-0x1007;_0x54d45c<_0x27b260['origMeshIn'+'stances']['length'];_0x54d45c++)_0x58c3fb['push'](_0x27b260['origMeshIn'+'stances'][_0x54d45c]['node']);_0x578fda['skinInstan'+'ce']=new Vm(this['device'],_0x58c3fb,this['rootNode']);}_0x578fda['_updateAab'+'b']=!(0x101b+0x1c5b*-0x1+0xc41),_0x578fda['drawOrder']=_0x27b260['origMeshIn'+'stances'][0x1428+0x245c+0x1*-0x3884]['drawOrder'],_0x578fda['stencilFro'+'nt']=_0x27b260['origMeshIn'+'stances'][-0x270d*-0x1+-0x1*0x6e2+-0x202b]['stencilFro'+'nt'],_0x578fda['stencilBac'+'k']=_0x27b260['origMeshIn'+'stances'][-0x1*0x2029+0x1ff8+0x31]['stencilBac'+'k'],_0x578fda['flipFacesF'+'actor']=Sd(_0x27b260['origMeshIn'+'stances'][0x6f*0x3+0x2*0xbf2+-0x1931]),_0x578fda['castShadow']=_0x27b260['origMeshIn'+'stances'][-0x54c+0x2332+0x56*-0x59]['castShadow'],_0x27b260['meshInstan'+'ce']=_0x578fda,_0x27b260['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x5d953c,_0x27b260;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x1eeb+0xd1*0x2e+-0x4479&&this['generate'](this['_dirtyGrou'+'ps']);const _0x254fc3=ne();for(let _0x5bb026=0xe36+-0x45f+-0xb*0xe5;_0x5bb026<this['_batchList']['length'];_0x5bb026++)this['_batchList'][_0x5bb026]['dynamic']&&this['_batchList'][_0x5bb026]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x254fc3;}['clone'](_0x5a68b5,_0x142b58){const _0xd26232=new zm(_0x142b58,_0x5a68b5['dynamic'],_0x5a68b5['batchGroup'+'Id']);this['_batchList']['push'](_0xd26232);const _0x2f633c=[];for(let _0x106abe=-0x13*-0x2e+-0x1373+0x1009;_0x106abe<_0x142b58['length'];_0x106abe++)_0x2f633c['push'](_0x142b58[_0x106abe]['node']);return _0xd26232['meshInstan'+'ce']=new Le(_0x5a68b5['meshInstan'+'ce']['mesh'],_0x5a68b5['meshInstan'+'ce']['material'],_0x5a68b5['meshInstan'+'ce']['node']),_0xd26232['meshInstan'+'ce']['_updateAab'+'b']=!(-0x147e+0x4f7+0xf88),_0xd26232['meshInstan'+'ce']['parameters']=_0x142b58[-0x2*0x1051+0x9f+-0x2003*-0x1]['parameters'],_0xd26232['meshInstan'+'ce']['cull']=_0x142b58[-0x1*0x2493+-0x2035*-0x1+0x56*0xd]['cull'],_0xd26232['meshInstan'+'ce']['layer']=_0x142b58[0x23b*0x2+0x9*-0x13+-0x3cb]['layer'],_0x5a68b5['dynamic']&&(_0xd26232['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x2f633c,this['rootNode'])),_0xd26232['meshInstan'+'ce']['castShadow']=_0x5a68b5['meshInstan'+'ce']['castShadow'],_0xd26232;}['destroyBat'+'ch'](_0x9832c3){_0x9832c3['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x9832c3['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x4fbcb3,_0x10dd43,_0x1d4661){if((_0x4fbcb3==null?void(0x1509+-0x1*0x1f94+0xa8b):_0x4fbcb3['colorBuffe'+'r']['format'])!==_0x1d4661)return!(-0x26e8+0x6*-0x4a7+0x2*0x2169);const _0x4d63aa=(_0x10dd43==null?void(0x13*0x1e7+0x1c5b+-0x4080):_0x10dd43['width'])||this['device']['width'],_0x4ca2d1=(_0x10dd43==null?void(-0x41c*0x1+0x1*0xd9b+0x97f*-0x1):_0x10dd43['height'])||this['device']['height'];return!_0x4fbcb3||_0x4d63aa!==_0x4fbcb3['width']||_0x4ca2d1!==_0x4fbcb3['height'];}['allocateRe'+'nderTarget'](_0x44efe0,_0x395f05,_0xe43797,_0x4b5275){const _0x532af7=new he(_0xe43797,{'name':Km,'format':_0x4b5275,'width':_0x395f05?_0x395f05['colorBuffe'+'r']['width']:_0xe43797['width'],'height':_0x395f05?_0x395f05['colorBuffe'+'r']['height']:_0xe43797['height'],'mipmaps':!(0x1492*0x1+-0x1*0x649+0x35*-0x45),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x44efe0?(_0x44efe0['destroyFra'+'meBuffers'](),_0x44efe0['_colorBuff'+'er']=_0x532af7,_0x44efe0['_colorBuff'+'ers']=[_0x532af7]):_0x44efe0=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x532af7,'depth':!(-0x23e*-0xa+-0x4b8+-0x1*0x11b3),'stencil':!(0x2038+0x1*0x144e+-0x3485),'autoResolve':!(-0x2d*0x1b+0x199a+-0x13a*0x11)}),_0x44efe0;}['releaseRen'+'derTarget'](_0x1d285c){_0x1d285c&&(_0x1d285c['destroyTex'+'tureBuffer'+'s'](),_0x1d285c['destroy']());}['frameUpdat'+'e'](){const _0x939540=this['device'],_0x52b829=this['source'],_0x8db6e4=(_0x52b829==null?void(-0x99d*0x4+-0x915+-0x11b*-0x2b):_0x52b829['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x52b829==null?void(0x49a+0x1*-0x217a+0x1ce0):_0x52b829['colorBuffe'+'r'],_0x8db6e4)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x52b829,_0x939540,_0x8db6e4));const _0x24000e=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x939540['scope']['resolve'](Km)['setValue'](_0x24000e);}['execute'](){const _0x18618f=this['device'];G['pushGpuMar'+'ker'](_0x18618f,'GRAB-COLOR');const _0x5498f8=this['source'],_0x401ecd=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x18618f['isWebGPU']?(_0x18618f['copyRender'+'Target'](_0x5498f8,this['colorRende'+'rTarget'],!(0x564+-0x269b*0x1+0x2137),!(-0x2132+0x1*-0x17ef+0x3922)),_0x18618f['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x18618f['copyRender'+'Target'](_0x5498f8,this['colorRende'+'rTarget'],!(-0x24ee+0x715*-0x2+-0x2*-0x198c),!(0x1aab+0x68c+0x589*-0x6)),_0x18618f['activeText'+'ure'](_0x18618f['maxCombine'+'dTextures']-(0x22bc+-0x1*-0x11b6+0x4b*-0xb3)),_0x18618f['bindTextur'+'e'](_0x401ecd),_0x18618f['gl']['generateMi'+'pmap'](_0x401ecd['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x18618f);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0x4b2615,_0x2596f3){super(_0x4b2615),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x2596f3;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x15da1f,_0x2e8375){const _0x38509e=(_0x2e8375==null?void(-0x85f*0x1+0x1fe1+-0x1782):_0x2e8375['width'])||this['device']['width'],_0x2cb571=(_0x2e8375==null?void(-0xbbb+-0x6*-0x5cf+-0x171f):_0x2e8375['height'])||this['device']['height'];return!_0x15da1f||_0x38509e!==_0x15da1f['width']||_0x2cb571!==_0x15da1f['height'];}['allocateRe'+'nderTarget'](_0x3b1589,_0x4ccd46,_0x206fb7,_0x2e39ab,_0x33bc88){const _0x268112=new he(_0x206fb7,{'name':Zm,'format':_0x2e39ab,'width':_0x4ccd46?_0x4ccd46['colorBuffe'+'r']['width']:_0x206fb7['width'],'height':_0x4ccd46?_0x4ccd46['colorBuffe'+'r']['height']:_0x206fb7['height'],'mipmaps':!(0x603+0x3*-0xa7b+0x196f),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x3b1589?(_0x3b1589['destroyFra'+'meBuffers'](),_0x33bc88?_0x3b1589['_depthBuff'+'er']=_0x268112:(_0x3b1589['_colorBuff'+'er']=_0x268112,_0x3b1589['_colorBuff'+'ers']=[_0x268112])):_0x3b1589=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x33bc88?null:_0x268112,'depthBuffer':_0x33bc88?_0x268112:null,'depth':!_0x33bc88,'stencil':_0x206fb7['supportsSt'+'encil'],'autoResolve':!(-0x671+0x1c42+0x574*-0x4)}),_0x3b1589;}['releaseRen'+'derTarget'](_0x2adc5a){_0x2adc5a&&(_0x2adc5a['destroyTex'+'tureBuffer'+'s'](),_0x2adc5a['destroy']());}['before'](){var _0xa6e51b,_0xfd86bd;const _0x504eb8=this['camera'],_0x486bcf=this['device'],_0x3b275c=(_0x504eb8==null?void(-0x8c0+0xb5d*0x1+0x3*-0xdf):_0x504eb8['renderTarg'+'et'])??_0x486bcf['backBuffer'];let _0x5128d2=!(-0x7*-0x89+0xd16+0x1f*-0x8b),_0x4251b7=_0x3b275c['stencil']?vc:Ci;_0x486bcf['isWebGPU']&&_0x3b275c['samples']>-0x14e3+-0x5c9+-0x1aad*-0x1&&(_0x4251b7=Ii,_0x5128d2=!(0x7*-0x335+0x1*-0x281+0x18f5));const _0x215d38=((_0xa6e51b=_0x504eb8['renderTarg'+'et'])==null?void(-0x10*-0x1f8+-0x2b*0x3+-0x1eff):_0xa6e51b['depthBuffe'+'r'])??((_0xfd86bd=_0x504eb8['renderTarg'+'et'])==null?void(0x1*-0x116f+-0x2bd*-0xd+-0x5d*0x32):_0xfd86bd['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x215d38)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x504eb8['renderTarg'+'et'],_0x486bcf,_0x4251b7,_0x5128d2));const _0x44cfd6=_0x5128d2?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x486bcf['scope']['resolve'](Zm)['setValue'](_0x44cfd6);}['execute'](){const _0x3fd317=this['device'];if(G['pushGpuMar'+'ker'](_0x3fd317,'GRAB-DEPTH'),_0x3fd317['isWebGL2']&&_0x3fd317['renderTarg'+'et']['samples']>-0x6df+-0x25a6+-0x1*-0x2c86){const _0xf7eba6=_0x3fd317['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x4ca7a2=this['depthRende'+'rTarget'];_0x3fd317['renderTarg'+'et']=_0x4ca7a2,_0x3fd317['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x3fd317,_0xf7eba6,_0x4ca7a2['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x3fd317['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x3fd317['copyRender'+'Target'](_0x3fd317['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x1721+0x13f9+0xb*-0x3eb),!(0x2023*-0x1+-0xc46+0x2c69));G['popGpuMark'+'er'](_0x3fd317);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(-0x1e82+-0x457*0x4+-0x285*-0x13)),c(this,'_ssaoEnabl'+'ed',!(0x14e4*0x1+0x1740+-0x2c23*0x1)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(0x48*0xf+-0x750+0x3d*0xd)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(0xe0d+-0x11ae+-0x3a1*-0x1));}get['hash'](){if(this['_hash']===void(0x2428+-0xfa1+-0x1487)){const _0x414c84=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x414c84);}return this['_hash'];}get['defines'](){const _0x3d8e07=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x1ca7+0x10bf+-0x2d65),_0x3d8e07['clear'](),this['_sceneDept'+'hMapLinear']&&_0x3d8e07['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x3e4+0x8cd*-0x3+-0xa19*-0x3)),_0x3d8e07['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x3d8e07['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x3d8e07['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x3d8e07;}['markDirty'](){this['_hash']=void(0x245d+-0x16bd*0x1+-0xda0),this['_definesDi'+'rty']=!(0x10bb+0xd9d+0x1e58*-0x1);}set['fog'](_0x47b3a4){this['_fog']!==_0x47b3a4&&(this['_fog']=_0x47b3a4,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x4a73a6){this['_ssaoEnabl'+'ed']!==_0x4a73a6&&(this['_ssaoEnabl'+'ed']=_0x4a73a6,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x16d77c){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x1*0xb2c+-0x12f+0x1*0xc5b),this['_gammaCorr'+'ection']!==_0x16d77c&&(this['_gammaCorr'+'ection']=_0x16d77c,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x275c5a){this['_toneMappi'+'ng']!==_0x275c5a&&(this['_toneMappi'+'ng']=_0x275c5a,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x368bb3){this['_srgbRende'+'rTarget']!==_0x368bb3&&(this['_srgbRende'+'rTarget']=_0x368bb3,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x22a1ae){this['_sceneDept'+'hMapLinear']!==_0x22a1ae&&(this['_sceneDept'+'hMapLinear']=_0x22a1ae,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),$a=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',-0x1*0x2694+-0x111c+0x37b0),(this['_aspectRat'+'io']=(-0xaaf+0x1*0x581+-0x16*-0x3d)/(-0x7*-0x58f+-0x1a55+-0xc8b),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(-0x1*-0x1f+-0x18c9+0xc55*0x2+0.75,-0x1df9+0x1*-0x6d6+0x417*0x9+0.75,0x52*0x11+-0x104e+0xa*0x116+0.75,-0x2118+0x1*-0x595+0x26ae),this['_clearColo'+'rBuffer']=!(0x1ecb+-0xa29+0x26*-0x8b),this['_clearDept'+'h']=0xe*-0x279+-0x3e*-0x24+0x19e7,this['_clearDept'+'hBuffer']=!(-0x1*0x1105+-0x1f*0x2a+0x1*0x161b),this['_clearSten'+'cil']=0x1*-0x74b+-0x1457+0x1b*0x106,this['_clearSten'+'cilBuffer']=!(0x7d1*0x1+-0x2f6+-0x4db),this['_cullFaces']=!(0x40*0x9c+0x20f2+-0x47f2),this['_farClip']=0x13*-0x8f+0x4*-0x137+0x1361,this['_flipFaces']=!(-0x304+0xa6f+0x49*-0x1a),this['_fov']=-0x731*-0x2+-0x15c7+0x66*0x13,this['_frustumCu'+'lling']=!(-0x5*0xef+0xe6f+-0x9c4),this['_horizonta'+'lFov']=!(-0x3be*0x9+0xfd0+-0x3d*-0x4b),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x2*-0x3d5+0x2251+-0x1aa7*0x1+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x339+-0x1*0x102d+0xcfe,this['_projectio'+'n']=Gs,this['_rect']=new Q(-0x11*0x13c+-0x1340+0x283c,0x109e+-0x6bd*-0x1+0x3*-0x7c9,-0xb3e*-0x2+-0x5*-0x3e5+-0x1*0x29f4,0x42a+-0x1*-0x859+-0x641*0x2),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(0x7a7*0x2+-0x1d06+0xdb8,-0x9f5+0xdbe+-0x11*0x39,-0x1ed3+0x5*-0x6a9+0x4021*0x1,-0x4*0x92f+0x31*0xc2+-0x1*0x65),this['_scissorRe'+'ctClear']=!(-0x1366*0x2+0xf5a+0x3*0x7d1),this['_aperture']=-0x1323+0x6*0x231+0x60d,this['_shutter']=(0x15*-0x13+-0x32c*-0x2+-0x4c8)/(-0x707+0x20f8+-0x1609),this['_sensitivi'+'ty']=-0x1*-0x46d+-0x1*0x1f46+-0x1*-0x1ec1,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0x1550+-0xc70+-0x1b0*-0x14),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(-0x5f7*0x5+0x1f91+-0x1be),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(-0x1a41+0x3c4+0x167d),this['_shaderMat'+'ricesVersi'+'on']=0xd30+-0x13*-0x1+-0xd43,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[0xe*0x169+0xa3*0x9+0x1*-0x1979,0x2270+-0x18bc+-0x9b4,0x2695+0x221c+-0x48b1,-0x748+-0x167a+0x1dc2],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x579898,_0x3fd625;(_0x579898=this['renderPass'+'ColorGrab'])==null||_0x579898['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x3fd625=this['renderPass'+'DepthGrab'])==null||_0x3fd625['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0xd*-0x182+0x1313+0x87;}['_storeShad'+'erMatrices'](_0x8d7146,_0x3f5656,_0x3c8a3a,_0x4071be){this['_shaderMat'+'ricesVersi'+'on']!==_0x4071be&&(this['_shaderMat'+'ricesVersi'+'on']=_0x4071be,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x8d7146),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x8d7146),this['_viewProjI'+'nverse']['invert'](_0x8d7146),this['_jitters'][-0x2366+-0x17*0x83+0x2f2d]=this['_jitters'][0x1546+-0xeb8+-0x68e],this['_jitters'][0x1*0x67a+0x1*0x1fe7+-0x2*0x132f]=this['_jitters'][-0x1dbb+0x24aa+-0x6ee*0x1],this['_jitters'][-0x23cd+0x2*-0xbc0+-0x3b4d*-0x1]=_0x3f5656,this['_jitters'][-0xb8e+0x9*0x5d+-0x84a*-0x1]=_0x3c8a3a);}get['fullSizeCl'+'earRect'](){const _0x1b0ba2=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x1b0ba2['x']===-0x78e+-0x15ea+0xa4*0x2e&&_0x1b0ba2['y']===-0x125*0xe+-0x841+0x1847&&_0x1b0ba2['z']===-0x1*0xd2b+-0x149e+-0x19*-0x15a&&_0x1b0ba2['w']===0x14a5*-0x1+-0x20a0+0x1aa3*0x2;}set['aspectRati'+'o'](_0x560442){this['_aspectRat'+'io']!==_0x560442&&(this['_aspectRat'+'io']=_0x560442,this['_projMatDi'+'rty']=!(-0x1*0x1c34+0x24d*0x8+0x9cc));}get['aspectRati'+'o'](){var _0x39b369;return(_0x39b369=this['xr'])!=null&&_0x39b369['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x375c22){this['_aspectRat'+'ioMode']!==_0x375c22&&(this['_aspectRat'+'ioMode']=_0x375c22,this['_projMatDi'+'rty']=!(-0x19aa+-0x1a*-0x95+-0x4*-0x2a2));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x5daa7f){this['_calculate'+'Projection']=_0x5daa7f,this['_projMatDi'+'rty']=!(-0x1cc4+0xed*0x5+0x1823);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x3396dd){this['_calculate'+'Transform']=_0x3396dd;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x2c72c9){this['_clearColo'+'r']['copy'](_0x2c72c9);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0xe08d8f){this['_clearColo'+'rBuffer']=_0xe08d8f;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x3404d2){this['_clearDept'+'h']=_0x3404d2;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x4fc653){this['_clearDept'+'hBuffer']=_0x4fc653;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x5a0841){this['_clearSten'+'cil']=_0x5a0841;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x2c501b){this['_clearSten'+'cilBuffer']=_0x2c501b;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x4daaa1){this['_cullFaces']=_0x4daaa1;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x27c1cb){this['_farClip']!==_0x27c1cb&&(this['_farClip']=_0x27c1cb,this['_projMatDi'+'rty']=!(-0x1dba+0xa33+0x1387));}get['farClip'](){var _0x38c17e;return(_0x38c17e=this['xr'])!=null&&_0x38c17e['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x50df01){this['_flipFaces']=_0x50df01;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x20ce97){this['_fov']!==_0x20ce97&&(this['_fov']=_0x20ce97,this['_projMatDi'+'rty']=!(-0x241a+-0x17eb+0x3c05));}get['fov'](){var _0x216cff;return(_0x216cff=this['xr'])!=null&&_0x216cff['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x11ba1e){this['_frustumCu'+'lling']=_0x11ba1e;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x481c2a){this['_horizonta'+'lFov']!==_0x481c2a&&(this['_horizonta'+'lFov']=_0x481c2a,this['_projMatDi'+'rty']=!(-0x1db4+0x1739+0x67b));}get['horizontal'+'Fov'](){var _0x48f339;return(_0x48f339=this['xr'])!=null&&_0x48f339['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0xc83e5c){this['_layers']=_0xc83e5c['slice'](-0x8*-0x9b+-0x2535+-0x5*-0x679),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x36998d){this['_nearClip']!==_0x36998d&&(this['_nearClip']=_0x36998d,this['_projMatDi'+'rty']=!(-0x6d*0x3b+-0x3*-0x805+0x2*0x88));}get['nearClip'](){var _0x3d3594;return(_0x3d3594=this['xr'])!=null&&_0x3d3594['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x536e2e){this['_node']=_0x536e2e;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x1a1701){this['_orthoHeig'+'ht']!==_0x1a1701&&(this['_orthoHeig'+'ht']=_0x1a1701,this['_projMatDi'+'rty']=!(0x9b1+-0x2*0xd69+0x1121));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x2cead3){this['_projectio'+'n']!==_0x2cead3&&(this['_projectio'+'n']=_0x2cead3,this['_projMatDi'+'rty']=!(-0x619+0x1216+0x3ff*-0x3));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x34c7e4){this['_rect']['copy'](_0x34c7e4);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x254281){this['_renderTar'+'get']=_0x254281;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x4cecf1){this['_scissorRe'+'ct']['copy'](_0x4cecf1);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x532447=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x532447)['invert'](),this['_viewMatDi'+'rty']=!(0x3e*-0x53+0x15a*0x1c+-0x11bd*0x1);}return this['_viewMat'];}set['aperture'](_0x2c0bca){this['_aperture']=_0x2c0bca;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x195f76){this['_sensitivi'+'ty']=_0x195f76;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x13f951){this['_shutter']=_0x13f951;}get['shutter'](){return this['_shutter'];}set['xr'](_0x68face){this['_xr']!==_0x68face&&(this['_xr']=_0x68face,this['_projMatDi'+'rty']=!(-0x5d+-0x1b2c+0x1b89));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x5c8f40){return this['_aspectRat'+'io']=_0x5c8f40['_aspectRat'+'io'],this['_farClip']=_0x5c8f40['_farClip'],this['_fov']=_0x5c8f40['_fov'],this['_horizonta'+'lFov']=_0x5c8f40['_horizonta'+'lFov'],this['_nearClip']=_0x5c8f40['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x5c8f40['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x5c8f40['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x5c8f40['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x5c8f40['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x5c8f40['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x5c8f40['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x5c8f40['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x5c8f40['calculateT'+'ransform'],this['clearColor']=_0x5c8f40['clearColor'],this['clearColor'+'Buffer']=_0x5c8f40['clearColor'+'Buffer'],this['clearDepth']=_0x5c8f40['clearDepth'],this['clearDepth'+'Buffer']=_0x5c8f40['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x5c8f40['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x5c8f40['clearStenc'+'ilBuffer'],this['cullFaces']=_0x5c8f40['cullFaces'],this['flipFaces']=_0x5c8f40['flipFaces'],this['frustumCul'+'ling']=_0x5c8f40['frustumCul'+'ling'],this['layers']=_0x5c8f40['layers'],this['orthoHeigh'+'t']=_0x5c8f40['orthoHeigh'+'t'],this['projection']=_0x5c8f40['projection'],this['rect']=_0x5c8f40['rect'],this['renderTarg'+'et']=_0x5c8f40['renderTarg'+'et'],this['scissorRec'+'t']=_0x5c8f40['scissorRec'+'t'],this['aperture']=_0x5c8f40['aperture'],this['shutter']=_0x5c8f40['shutter'],this['sensitivit'+'y']=_0x5c8f40['sensitivit'+'y'],this['shaderPass'+'Info']=_0x5c8f40['shaderPass'+'Info'],this['jitter']=_0x5c8f40['jitter'],this['_projMatDi'+'rty']=!(0xc2*0x12+-0x920*-0x2+-0x1a*0x13a),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x17fd67,_0x47ac72){var _0x46b4c3;_0x47ac72?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x17fd67)):((_0x46b4c3=this['renderPass'+'ColorGrab'])==null||_0x46b4c3['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0xfd4529,_0x4a4692,_0xd94c29){var _0x45847a;_0xd94c29?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0xfd4529,this)):((_0x45847a=this['renderPass'+'DepthGrab'])==null||_0x45847a['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x1a5*0xb+-0xa6+-0x2*-0x95f));}['worldToScr'+'een'](_0x4195e7,_0x774504,_0x14fc9f,_0x3b9406=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x4195e7,_0x3b9406);const _0x5daefd=this['_viewProjM'+'at']['data'],_0x5574eb=_0x4195e7['x']*_0x5daefd[0x162e+-0x283*0x7+-0x496]+_0x4195e7['y']*_0x5daefd[-0x8*-0x344+0x152d+0x2f46*-0x1]+_0x4195e7['z']*_0x5daefd[0x1142+-0x15f1+-0x2*-0x25d]+(-0xd9e+0x2*0x404+0x1b*0x35)*_0x5daefd[0x31a*0xb+-0x13c0+-0xe4f];return _0x3b9406['x']=(_0x3b9406['x']/_0x5574eb+(0x1*-0x224d+-0x95*-0x24+0x1*0xd5a))*(0xaa4+-0x2*0xe98+0x128c+0.5)*_0x774504,_0x3b9406['y']=(0x4c4+0x2*-0x737+-0x5*-0x1ef-_0x3b9406['y']/_0x5574eb)*(0x71*0x8+0x1540+-0x18c8+0.5)*_0x14fc9f,_0x3b9406;}['screenToWo'+'rld'](_0x46e068,_0x477ef9,_0x4cca6f,_0x4cbbc1,_0x4f0536,_0x4a80a8=new T()){const _0x1107d2=this['farClip']-this['nearClip'];if(En['set'](_0x46e068/_0x4cbbc1,(_0x4f0536-_0x477ef9)/_0x4f0536,_0x4cca6f/_0x1107d2),En['mulScalar'](0x91*0x3a+-0xedf+0x1*-0x11f9),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize']($a,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),$a['x']*=En['x'],$a['y']*=En['y'];const _0x5aa96f=this['_node']['getWorldTr'+'ansform']();$a['z']=-this['nearClip'],_0x5aa96f['transformP'+'oint']($a,Qm);const _0x4f8664=this['_node']['getPositio'+'n']();_0x4a80a8['sub2'](Qm,_0x4f8664),_0x4a80a8['normalize'](),_0x4a80a8['mulScalar'](_0x4cca6f),_0x4a80a8['add'](_0x4f8664);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x4a80a8);return _0x4a80a8;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x285b03=this['_orthoHeig'+'ht'],_0x3d2d7d=_0x285b03*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x3d2d7d,_0x3d2d7d,-_0x285b03,_0x285b03,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x1352*-0x2+0x218e*-0x1+-0x515*0x1);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x1228f9=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x2257+-0xd1c*-0x1+-0x267*-0x9)/this['_sensitivi'+'ty']);return(-0x1*-0x12b+0x1*-0x12a5+0x19*0xb3)/(Math['pow'](-0x21e8*0x1+-0x1cfc+0x3ee6,_0x1228f9)*(-0x117e*0x1+-0xfe6+0x2165+0.19999999999999996));}['getScreenS'+'ize'](_0x4a4439){if(this['_projectio'+'n']===Gs){const _0x2af47b=this['_node']['getPositio'+'n']()['distance'](_0x4a4439['center']);if(_0x2af47b<_0x4a4439['radius'])return 0xad*-0x2b+-0x3e9+0x16f*0x17;const _0x5080dc=Math['asin'](_0x4a4439['radius']/_0x2af47b),_0x4115de=Math['tan'](_0x5080dc),_0x5c025f=Math['tan'](this['fov']/(-0x362*0x3+-0x1fcf+0xdfd*0x3)*N['DEG_TO_RAD']);return Math['min'](_0x4115de/_0x5c025f,0xaf1*0x1+-0x1981*0x1+-0x153*-0xb);}return N['clamp'](_0x4a4439['radius']/this['_orthoHeig'+'ht'],0x7f5+-0x15a*0x15+-0x245*-0x9,-0x39*0xd+-0x26b*0xa+0x1b14);}['getFrustum'+'Corners'](_0x4dca72=this['nearClip'],_0x4bbc02=this['farClip']){const _0x4f564c=this['fov']*Math['PI']/(-0x1*-0xbfc+0xc38+0x5e*-0x40);let _0x44999c,_0x3ebd02;this['projection']===Gs?this['horizontal'+'Fov']?(_0x44999c=_0x4dca72*Math['tan'](_0x4f564c/(-0x12ba+-0x4*0x615+-0x1a8*-0x1a)),_0x3ebd02=_0x44999c/this['aspectRati'+'o']):(_0x3ebd02=_0x4dca72*Math['tan'](_0x4f564c/(0x20ed+-0x23e4+0x2f9)),_0x44999c=_0x3ebd02*this['aspectRati'+'o']):(_0x3ebd02=this['_orthoHeig'+'ht'],_0x44999c=_0x3ebd02*this['aspectRati'+'o']);const _0xff0073=pC;return _0xff0073[-0x1250*-0x1+-0x2c8+-0xf88]['x']=_0x44999c,_0xff0073[0x659*-0x1+-0x9*0xc7+-0x1*-0xd58]['y']=-_0x3ebd02,_0xff0073[-0x2b3*-0x8+0x5cf+0x17*-0x131]['z']=-_0x4dca72,_0xff0073[-0x8b0+-0x67*0x5c+-0x2db5*-0x1]['x']=_0x44999c,_0xff0073[-0x1*-0xf51+-0x1eed+0xf9d]['y']=_0x3ebd02,_0xff0073[0xcbb*-0x1+0x18c5+0x27*-0x4f]['z']=-_0x4dca72,_0xff0073[-0x1cc5+0x7e0+0x14e7]['x']=-_0x44999c,_0xff0073[0x9a6+0x1de5+-0x15d*0x1d]['y']=_0x3ebd02,_0xff0073[-0x51d*0x7+0x21f1*0x1+0x1dc]['z']=-_0x4dca72,_0xff0073[-0x194c*-0x1+-0x151a+-0x3*0x165]['x']=-_0x44999c,_0xff0073[-0x17b8+-0x1*0x221b+0x39d6]['y']=-_0x3ebd02,_0xff0073[-0xe13+0x1*0xaa9+0x36d]['z']=-_0x4dca72,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x44999c=_0x4bbc02*Math['tan'](_0x4f564c/(-0x1*0x3b+0x1*-0x45a+0x497)),_0x3ebd02=_0x44999c/this['aspectRati'+'o']):(_0x3ebd02=_0x4bbc02*Math['tan'](_0x4f564c/(0x7b*-0x4d+-0x1*-0x5ee+0xb9*0x2b)),_0x44999c=_0x3ebd02*this['aspectRati'+'o'])),_0xff0073[-0xba8+-0x1efc+0x1*0x2aa8]['x']=_0x44999c,_0xff0073[0x14bb+-0x11*0xef+-0x4d8]['y']=-_0x3ebd02,_0xff0073[0x5a7+-0x1042+0xa9f]['z']=-_0x4bbc02,_0xff0073[0xb46+0x70*0xa+-0xfa1]['x']=_0x44999c,_0xff0073[0x787*-0x1+0xbf*-0x25+0x2327]['y']=_0x3ebd02,_0xff0073[-0xa50+0x1*0xc5b+-0x206]['z']=-_0x4bbc02,_0xff0073[0x2685+-0xea3+-0x6*0x3fa]['x']=-_0x44999c,_0xff0073[0x7*-0x19d+-0x1*0xf9e+0x23*0xc5]['y']=_0x3ebd02,_0xff0073[-0xb86*0x1+-0x49*-0x79+0x16f5*-0x1]['z']=-_0x4bbc02,_0xff0073[-0x108a+-0x5c*-0x14+0x961]['x']=-_0x44999c,_0xff0073[0x266d*0x1+0x1219+-0x387f]['y']=-_0x3ebd02,_0xff0073[-0x634*-0x2+-0xc*0x16e+0x4c7]['z']=-_0x4bbc02,_0xff0073;}['setXrPrope'+'rties'](_0x3519db){Object['assign'](this['_xrPropert'+'ies'],_0x3519db),this['_projMatDi'+'rty']=!(0x38+0x224e+0x3d6*-0x9);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0x3de89f,_0x5caeab,_0x5349b9){const _0x40c5a=new ol();switch(_0x40c5a['node']=new De(_0x3de89f),_0x40c5a['aspectRati'+'o']=-0x13ad+-0x37*-0xb5+-0x1335,_0x40c5a['aspectRati'+'oMode']=Bu,_0x40c5a['_scissorRe'+'ctClear']=!(-0xe77+-0xda6+0x1c1d),_0x5caeab){case Pe:_0x40c5a['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x5349b9]),_0x40c5a['fov']=-0x97*-0xb+-0x1*-0xf3f+0x22*-0xa1,_0x40c5a['projection']=Gs;break;case Re:_0x40c5a['projection']=Gs;break;case oe:_0x40c5a['projection']=ua;break;}return _0x40c5a;}static['evalSpotCo'+'okieMatrix'](_0x3a69b0){let _0x1ac983=Qi['_spotCooki'+'eCamera'];_0x1ac983||(_0x1ac983=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x1ac983),_0x1ac983['fov']=_0x3a69b0['_outerCone'+'Angle']*(0x3*-0x2ec+-0x2e3*-0x5+-0xcf*0x7);const _0x3e4bcb=_0x1ac983['_node'];_0x3e4bcb['setPositio'+'n'](_0x3a69b0['_node']['getPositio'+'n']()),_0x3e4bcb['setRotatio'+'n'](_0x3a69b0['_node']['getRotatio'+'n']()),_0x3e4bcb['rotateLoca'+'l'](-(0x1*-0x419+-0x1b0f+0x1f82),0xd23+-0x1673+-0x950*-0x1,0x5*-0x287+0x14af+0x1*-0x80c),e_['setTRS'](_0x3e4bcb['getPositio'+'n'](),_0x3e4bcb['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x1ac983['projection'+'Matrix'],e_);const _0x21a6c6=_0x3a69b0['cookieMatr'+'ix'],_0x1ae06c=_0x3a69b0['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x1ae06c['x'],_0x1ae06c['y'],_0x1ae06c['z'],_0x1ae06c['w']),_0x21a6c6['mul2'](s_,t_),_0x21a6c6;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](-0x7e6+0x1976*0x1+0x1*-0x1190,-0xa17*0x1+0x1*-0x47b+0xeec,-0x6*0xd6+-0x2179+-0x1*-0x2731),new se()['setFromEul'+'erAngles'](-0x21d0+0x2*0x124f+0x167*-0x2,-(0x266*-0x3+-0xfd7*0x2+0x273a),0xb7a+0x12bf+-0x1d85),new se()['setFromEul'+'erAngles'](-0x19a3+0x1*-0x1525+0x2f22,0x1*0x2065+0x14e*0x1d+-0x463b,-0x10f4+0x1c97+0x1*-0xba3),new se()['setFromEul'+'erAngles'](-(0xaa7+-0x5ae+-0x49f),-0x41*-0x59+0x5ed*-0x1+-0x4*0x42b,0xf*0x1b1+-0x17fc+-0x163*0x1),new se()['setFromEul'+'erAngles'](0x325*-0x2+-0x1*-0xd1f+0x6d5*-0x1,-0x1652+-0x13*0x1c9+-0x153*-0x2b,0xa9f+0x1*0x12b2+-0x19*0x125),new se()['setFromEul'+'erAngles'](0x47b*-0x5+0x1*-0x15b9+0x2c20,0x8f5+-0x8b*-0x1a+-0x1713,0x1fbd+0x24b4+-0x1*0x43bd)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=0x1509+-0x3*0xa4+-0x65f*0x3+0.000001,Zt=new T(),xr=new Float32Array(0x6ee+-0x8a1+0x1b9),mC=new T(-(0xb6e+-0x583+-0x5eb+0.5),0x4bd*0x4+0xc87*-0x2+0x47*0x16,0x6*0x3d5+-0x1*0x12e2+-0x41c),_C=new T(-0x71*0xe+0x1a12+0x13*-0x10c,-0xae8+0x19ad+-0xec5,0x54+-0x883+0x82f+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x5e6f6c){c(this,'areaLights'+'Enabled',!(0x1288+0x2*-0x2f3+-0x3d*0x35)),(this['device']=_0x5e6f6c,this['cookiesEna'+'bled']=!(-0x12b*-0xa+0x2381+-0x2f2e),this['shadowsEna'+'bled']=!(-0x1*0x2628+0x1276+-0x13b3*-0x1),this['areaLights'+'Enabled']=!(-0x4c*0x43+-0x1361+-0xb*-0x392),this['maxLights']=0x1521+0x10d5+-0x24f7);const _0x4cfd2a=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((-0x20dc*0x1+-0x22b7+-0x625*-0xb)*_0x4cfd2a*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x4cfd2a,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x49e1db=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((0x236f+-0xed4+-0x1497)*_0x49e1db*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x49e1db,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x7fc+-0x42*0x1d+-0x82,this['invMaxAtte'+'nuation']=0x1e0a+-0x1e4+-0x1c26*0x1,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x16aa61=(_0x335e3d,_0x4b7de1)=>Object['keys'](_0x335e3d)['map'](_0x26f2a0=>'#define\x20'+_0x4b7de1+_0x26f2a0+'\x20'+_0x335e3d[_0x26f2a0])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16aa61(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x16aa61(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0x50add7,_0x4966b3;(_0x50add7=this['lightsText'+'ure8'])==null||_0x50add7['destroy'](),this['lightsText'+'ure8']=null,(_0x4966b3=this['lightsText'+'ureFloat'])==null||_0x4966b3['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x3a0ab6,_0x43d87d,_0x46b7a6,_0x42864f,_0x41ddac){return new he(_0x3a0ab6,{'name':_0x41ddac,'width':_0x43d87d,'height':_0x46b7a6,'mipmaps':!(-0x2*-0x86c+-0xd1*-0x7+0xb47*-0x2),'format':_0x42864f,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x2d853c,_0xa5532c){this['invMaxColo'+'rValue']=(-0x261b+0x7*0x16f+0x1c13)/_0xa5532c,this['invMaxAtte'+'nuation']=(0xcec+-0x1447+0x4*0x1d7)/_0x2d853c;}['setBounds'](_0xd06232,_0x2e2260){this['boundsMin']['copy'](_0xd06232),this['boundsDelt'+'a']['copy'](_0x2e2260);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x5d3f02,_0x2739a0){_0x2739a0['_node']['getWorldTr'+'ansform']()['getY'](_0x5d3f02)['mulScalar'](-(-0x2401+0xeef*-0x2+0x41e0)),_0x5d3f02['normalize']();}['getLightAr'+'eaSizes'](_0x1dd1c5){const _0x1e56a9=_0x1dd1c5['_node']['getWorldTr'+'ansform']();return _0x1e56a9['transformV'+'ector'](mC,Zt),xr[0x1175*-0x1+0x45*-0x37+0x2048]=Zt['x'],xr[-0x42*-0x58+0xd*0xa2+-0x1ee9]=Zt['y'],xr[-0x25ee+-0xf5b+0x354b]=Zt['z'],_0x1e56a9['transformV'+'ector'](_C,Zt),xr[-0x152f*-0x1+0x1*-0x2709+0x11dd*0x1]=Zt['x'],xr[0x120c+0x80c+0x4*-0x685]=Zt['y'],xr[-0xc*0x1e7+0x984+0xd55*0x1]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0xbd401e,_0x3c3390,_0x10d987,_0x26415c,_0x215b42,_0x22f330){_0xbd401e[_0x3c3390+(0x4*0x6bc+-0x37*-0x10+0x798*-0x4)]=_0x26415c?0x80*0x3b+-0x48d+0x7fc*-0x3:-0x116c+0x155e+-0x3f2,_0xbd401e[_0x3c3390+(-0x64e*0x3+-0x1af8+0x2de3)]=this['areaLights'+'Enabled']?_0x10d987['_shape']*(-0x1614+-0xf*-0x1c9+-0x473):0xaef+0x629*0x1+-0x1118,_0xbd401e[_0x3c3390+(0x5*-0x556+0xc7+0x19e9)]=_0x10d987['_falloffMo'+'de']*(0x1618+-0x5eb+0x86*-0x1d),_0xbd401e[_0x3c3390+(-0x7*-0x2ed+-0x1*0x1229+-0x24f*0x1)]=_0x215b42?_0x22f330*(-0x4*-0x5e2+-0x47a*0x8+0x21*0x67):0x1*-0x219a+0x8c4+0x18d6;}['addLightDa'+'taColor'](_0x16f154,_0x3f537f,_0x55c908,_0x5f4517){const _0x328c5f=this['invMaxColo'+'rValue'],_0x4577a0=_0x55c908['_colorLine'+'ar'];$t['float2Byte'+'s'](_0x4577a0[0x2692+-0x647*0x1+0x49d*-0x7]*_0x328c5f,_0x16f154,_0x3f537f+(-0x6ab+-0x15b5*-0x1+-0xf0a),-0xc7*-0xe+0x186b+0x5*-0x70f),$t['float2Byte'+'s'](_0x4577a0[0xdaf+0xd05+-0x1ab3]*_0x328c5f,_0x16f154,_0x3f537f+(0x2603*0x1+0x496+0x1*-0x2a97),-0x367*-0x9+0x12cc+-0x3169),$t['float2Byte'+'s'](_0x4577a0[0xac*0xd+-0x141b+-0x3*-0x3cb]*_0x328c5f,_0x16f154,_0x3f537f+(0x2*0xd4f+-0x417*0x2+-0x126c),0xc72+0x2460+0x61a*-0x8),_0x16f154[_0x3f537f+(-0x4b7+0x1*-0x1c7d+0x213a)]=_0x5f4517?-0x1*-0xa1d+-0x143d+0x3b5*0x3:-0x16*0xce+-0x1*0x18b0+-0x4*-0xa99;const _0xc054f8=!!(_0x55c908['mask']&hs),_0x42fe57=!!(_0x55c908['mask']&cr);_0x16f154[_0x3f537f+(0x1*-0xfaa+-0x31a*-0x1+-0x1*-0xc97)]=_0xc054f8&&_0x42fe57?-0x1*0xbd9+-0x5f7+0x124f:_0x42fe57?0xa*0x8b+-0xb11*0x3+0x1cc4:0x8cb+0x1*-0xb17+0x24c;}['addLightDa'+'taSpotAngl'+'es'](_0x435c8f,_0x222a95,_0x54a624){$t['float2Byte'+'s'](_0x54a624['_innerCone'+'AngleCos']*(-0x2*-0x698+-0xcd*0x1f+0x1*0xba3+0.5-i_)+(0x5*0x6f5+0x1086+0x334f*-0x1+0.5),_0x435c8f,_0x222a95+(-0x18b*-0x2+-0x517*-0x1+-0x82d),0x6a1*-0x3+0x1279*0x2+-0x369*0x5),$t['float2Byte'+'s'](_0x54a624['_outerCone'+'AngleCos']*(0x150d+0x336+-0x1843+0.5-i_)+(0x1d30+-0x25b*0x5+-0x1*0x1169+0.5),_0x435c8f,_0x222a95+(0x70f+-0x1f*0xd5+0x95f*0x2),0x2*-0x130d+-0x1d60*-0x1+0x8bc);}['addLightDa'+'taShadowBi'+'as'](_0x575d00,_0x365edd,_0x4e1d75){const _0x506793=_0x4e1d75['getRenderD'+'ata'](null,-0x1*0x1ed7+-0xdd9*-0x1+-0xa*-0x1b3),_0xcf367d=_0x4e1d75['_getUnifor'+'mBiasValue'+'s'](_0x506793);$t['float2Byte'+'sRange'](_0xcf367d['bias'],_0x575d00,_0x365edd,-(0x11ab+0x5b*0x3f+-0x280f),0x1793*0x1+-0x1b9b+-0x1*-0x41c,0x104+-0x433*0x1+-0x1*-0x331),$t['float2Byte'+'s'](_0xcf367d['normalBias'],_0x575d00,_0x365edd+(-0x3e3*-0x9+0x1c94+0x5c7*-0xb),0x1d99+0x2b*-0xcb+0x482);}['addLightDa'+'taCookies'](_0x27de0c,_0x43d210,_0x1d6f9c){const _0x48da15=_0x1d6f9c['_cookieCha'+'nnel']==='rgb';if(_0x27de0c[_0x43d210+(-0x7e1+0x1*-0x793+0xf74*0x1)]=Math['floor'](_0x1d6f9c['cookieInte'+'nsity']*(0x7d7*0x1+-0x592+-0x146)),_0x27de0c[_0x43d210+(-0x1*0x6bf+0x21*0xba+0x1b9*-0xa)]=_0x48da15?-0x1499+0x3*-0x5ab+0x2699:-0xd9*0x2c+0x3*0x53a+0x2*0xacf,!_0x48da15){const _0x203736=_0x1d6f9c['_cookieCha'+'nnel'];_0x27de0c[_0x43d210+(-0x1fff+0x1cd4+0xa3*0x5)]=_0x203736==='rrr'?0x1c13+0x4*0x2e7+-0x26b0:0x818+0x228a+-0x2aa2,_0x27de0c[_0x43d210+(0x29*0xf3+0x25a+-0x6e*0x60)]=_0x203736==='ggg'?0x1899+0x231c*0x1+-0xa7*0x5a:0x1*-0x221b+-0x1e6*0xf+0x1b1*0x25,_0x27de0c[_0x43d210+(0x17b7*-0x1+0x20b7+-0x8fa)]=_0x203736==='bbb'?-0x1956+0x1*-0x1faf+0x9e*0x5e:-0x3*-0x3+-0x5*0x675+0x2040,_0x27de0c[_0x43d210+(-0xd08+0x4cd+0x97*0xe)]=_0x203736==='aaa'?0x293*-0xb+-0x239d+-0x1*-0x40ed:0x21da+0x2183*-0x1+-0x1d*0x3;}}['addLightDa'+'ta'](_0x5f2eea,_0x270490){const _0x580dd0=_0x5f2eea['_type']===Re,_0x1bc83a=_0x5f2eea['atlasViewp'+'ortAllocat'+'ed'],_0x1146c1=this['cookiesEna'+'bled']&&!!_0x5f2eea['_cookie']&&_0x1bc83a,_0x2606a7=this['areaLights'+'Enabled']&&_0x5f2eea['shape']!==yt,_0xce6328=this['shadowsEna'+'bled']&&_0x5f2eea['castShadow'+'s']&&_0x1bc83a,_0x12b0d9=_0x5f2eea['_node']['getPositio'+'n']();let _0x51e274=null,_0x2a0193=null;_0x580dd0?_0xce6328?_0x51e274=_0x5f2eea['getRenderD'+'ata'](null,0x1ede+-0xa28+-0xf1*0x16)['shadowMatr'+'ix']:_0x1146c1&&(_0x51e274=Ma['evalSpotCo'+'okieMatrix'](_0x5f2eea)):(_0xce6328||_0x1146c1)&&(_0x2a0193=_0x5f2eea['atlasViewp'+'ort']);const _0x478c4c=this['lights8'],_0x4a978c=_0x270490*this['lightsText'+'ure8']['width']*(-0x511*-0x5+0xc1f+-0x2570);this['addLightDa'+'taFlags'](_0x478c4c,_0x4a978c+(0x4*0x629+0x1d98+-0x3638)*Sr['FLAGS'],_0x5f2eea,_0x580dd0,_0xce6328,_0x5f2eea['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x478c4c,_0x4a978c+(0x2*0x3ee+0x732+-0xf0a)*Sr['COLOR_A'],_0x5f2eea,_0x1146c1),_0x580dd0&&this['addLightDa'+'taSpotAngl'+'es'](_0x478c4c,_0x4a978c+(0x24f*-0x2+0x3ba+-0x1d*-0x8)*Sr['SPOT_ANGLE'+'S'],_0x5f2eea),_0x5f2eea['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x478c4c,_0x4a978c+(0x7d6+-0x1169+0x997)*Sr['SHADOW_BIA'+'S'],_0x5f2eea),_0x1146c1&&this['addLightDa'+'taCookies'](_0x478c4c,_0x4a978c+(0xfff+-0x2348*0x1+0x134d)*Sr['COOKIE_A'],_0x5f2eea);const _0x2d6ced=this['lightsFloa'+'t'],_0x4d9c07=_0x270490*this['lightsText'+'ureFloat']['width']*(-0x2618+0x6ac+0x4*0x7dc);if(_0x2d6ced[_0x4d9c07+(-0x1*0x1bed+-0x108+0x1cf9*0x1)*lt['POSITION_R'+'ANGE']+(0x1ddb+0x1133+0x2*-0x1787)]=_0x12b0d9['x'],_0x2d6ced[_0x4d9c07+(-0x24d2+-0xee6+-0xac*-0x4d)*lt['POSITION_R'+'ANGE']+(0x2392+-0x1b7*-0xf+-0x6*0xa37)]=_0x12b0d9['y'],_0x2d6ced[_0x4d9c07+(-0x1648+0x1*0x67d+-0x13*-0xd5)*lt['POSITION_R'+'ANGE']+(0x1*-0x1a9d+0x6+0x1a99)]=_0x12b0d9['z'],_0x2d6ced[_0x4d9c07+(-0x1f43+0x1*0x1475+-0x2*-0x569)*lt['POSITION_R'+'ANGE']+(-0x1*0xe29+0x4e2+0x94a*0x1)]=_0x5f2eea['attenuatio'+'nEnd'],_0x580dd0&&(this['getSpotDir'+'ection'](Zt,_0x5f2eea),_0x2d6ced[_0x4d9c07+(-0x88c*-0x4+0x59f*0x2+0x2*-0x16b5)*lt['SPOT_DIREC'+'TION']+(-0x1195*0x2+-0x5*-0x3b9+-0xdf*-0x13)]=Zt['x'],_0x2d6ced[_0x4d9c07+(0x1385+-0x116c+-0x215)*lt['SPOT_DIREC'+'TION']+(-0xfaf+-0x2375+0x1*0x3325)]=Zt['y'],_0x2d6ced[_0x4d9c07+(-0x2d7+-0x218a+0x2465)*lt['SPOT_DIREC'+'TION']+(0x1109+0x1894+-0x1*0x299b)]=Zt['z']),_0x51e274){const _0x167b04=_0x51e274['data'];for(let _0x470250=0x1*0x7bb+-0x1b5c*-0x1+-0x2317;_0x470250<0x442+-0x1d28+-0x852*-0x3;_0x470250++)_0x2d6ced[_0x4d9c07+(-0x1ab4+0x1438+-0x68*-0x10)*lt['PROJ_MAT_0']+_0x470250]=_0x167b04[_0x470250];}if(_0x2a0193&&(_0x2d6ced[_0x4d9c07+(0x745*0x1+-0x7c*0x12+0x7d*0x3)*lt['ATLAS_VIEW'+'PORT']+(-0xa7c*-0x1+-0x252*0x7+-0x1*-0x5c2)]=_0x2a0193['x'],_0x2d6ced[_0x4d9c07+(-0x14*0x195+-0x249b+0x4443)*lt['ATLAS_VIEW'+'PORT']+(-0x1682+-0x1a5e+0x30e1)]=_0x2a0193['y'],_0x2d6ced[_0x4d9c07+(-0x5e*0x5a+-0xa54+0x15b2*0x2)*lt['ATLAS_VIEW'+'PORT']+(0x124d+0x3a*0x65+0x292d*-0x1)]=_0x2a0193['z']/(-0x131a+-0x23f8+-0xef*-0x3b)),_0x2606a7){const _0x56a2bc=this['getLightAr'+'eaSizes'](_0x5f2eea);_0x2d6ced[_0x4d9c07+(-0x211f*0x1+-0xecd+0x2ff0)*lt['AREA_DATA_'+'WIDTH']+(0x1cd*0x13+-0x9ef*-0x2+-0x39b*0xf)]=_0x56a2bc[0xe*0x2c9+-0x2156+-0x5a8],_0x2d6ced[_0x4d9c07+(0x8*0x25f+0x115*0x2+-0x151e)*lt['AREA_DATA_'+'WIDTH']+(0x1fd2*-0x1+0x7b+0x8*0x3eb)]=_0x56a2bc[0x1411+-0x173c+0x32c],_0x2d6ced[_0x4d9c07+(-0x21b4+-0x1c*0x110+0x3f78)*lt['AREA_DATA_'+'WIDTH']+(-0x1f93+0xa7*0x16+-0x191*-0xb)]=_0x56a2bc[0x6*-0x53d+-0x138e+-0x197f*-0x2],_0x2d6ced[_0x4d9c07+(-0xa3*-0x16+0x1a5a+-0x1*0x2858)*lt['AREA_DATA_'+'HEIGHT']+(-0x8*0xec+0x22d5+-0x1b75)]=_0x56a2bc[0x1e85+-0x1942+-0xe0*0x6],_0x2d6ced[_0x4d9c07+(-0x4be+-0x10c2+0x396*0x6)*lt['AREA_DATA_'+'HEIGHT']+(-0x328+0x1177+-0xe4e)]=_0x56a2bc[0xb5*-0x22+0x599+0x1275],_0x2d6ced[_0x4d9c07+(0x13ae+-0x769+-0x1*0xc41)*lt['AREA_DATA_'+'HEIGHT']+(-0x26c9*-0x1+0x2d*-0x58+-0x174f)]=_0x56a2bc[0x5*-0x26+0x33*-0x7b+-0x54*-0x4d];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=-0x1*0x1775+0x25a9+-0x71a*0x2+0.000001,n_=-0x9d9*0x3+-0x22a+0x2fb5;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x342762){c(this,'clusterTex'+'ture'),(this['device']=_0x342762,this['name']='Untitled',this['reportCoun'+'t']=0x17*0x157+0xf76*-0x2+0x1b*0x1,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(0x8*-0x347+0x7d*0x29+0x634,-0xe35+0x8b7+-0x3*-0x1d5,-0xfee+-0x223*0x11+0x3442),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x2173+-0xa3e+0x2bb5,this['_maxAttenu'+'ation']=0x101d+-0x1b81+0xb64,this['_maxColorV'+'alue']=-0x2*0xa14+-0x16*-0x12a+-0x574,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x342762),this['registerUn'+'iforms'](_0x342762));}set['maxCellLig'+'htCount'](_0x51f8a7){_0x51f8a7!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x51f8a7,this['_cellsDirt'+'y']=!(-0x6bc+0x3c*0x9f+-0xf44*0x2));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0xfdd408){Ml['copy'](_0xfdd408)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(0x774*-0x1+0x9*0x399+-0x18ed));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x13d9a9){this['_clusterSk'+'ipId']=_0x13d9a9['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x13d9a9['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x13d9a9['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x13d9a9['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0xc69+0x1*0x1099+-0x1cff),this['_clusterBo'+'undsMinId']=_0x13d9a9['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x19d3*-0x1+0xde8+0x2*0x5f7),this['_clusterBo'+'undsDeltaI'+'d']=_0x13d9a9['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x2*0x7f4+0x1c94+-0x2c79),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x13d9a9['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x8*-0x1f+0x2c2+-0x41*0x7),this['_clusterCe'+'llsDotId']=_0x13d9a9['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x86b+0x2198+0x2a00*-0x1),this['_clusterCe'+'llsMaxId']=_0x13d9a9['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x29*-0xe4+-0x1*0x1876+0x3cfd),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x13d9a9['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x955+0x19dd*0x1+-0x6*0x2c1);}['updatePara'+'ms'](_0x59303d){_0x59303d&&(this['cells']=_0x59303d['cells'],this['maxCellLig'+'htCount']=_0x59303d['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x59303d['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x59303d['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x59303d['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x1*0x196a+-0x1*0x1466+-0x1*0x503);const _0x576fd5=this['_cells']['x'],_0x8ae01=this['_cells']['y'],_0x5cb91e=this['_cells']['z'],_0x3c7446=_0x576fd5*_0x8ae01*_0x5cb91e,_0x287864=this['maxCellLig'+'htCount']*_0x3c7446;let _0x1fa68c=Math['ceil'](Math['sqrt'](_0x287864));_0x1fa68c=N['roundUp'](_0x1fa68c,this['maxCellLig'+'htCount']);const _0x3f3474=Math['ceil'](_0x287864/_0x1fa68c);v['assert'](_0x1fa68c<=n_&&_0x3f3474<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x695+0x6db+-0x46]=_0x576fd5,this['_clusterCe'+'llsMaxData'][0x13bb+0x1*0x62e+-0x19e8]=_0x8ae01,this['_clusterCe'+'llsMaxData'][0x1b7b+0x23af+0x158*-0x2f]=_0x5cb91e,this['_clusterCe'+'llsDotData'][0x3*-0xa5+-0x668+0x131*0x7]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0xa6f+0x130c+-0x1d7a]=_0x576fd5*_0x5cb91e*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x11c6+0xdb8+-0x14*-0x34]=_0x576fd5*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x287864),this['counts']=new Int32Array(_0x3c7446),this['_clusterTe'+'xtureSizeD'+'ata'][-0x7*0x1bf+0x21ad+-0x1574]=_0x1fa68c,this['_clusterTe'+'xtureSizeD'+'ata'][0xe39+0x22e0+-0x4*0xc46]=(-0x9*0x297+0x1b70+0x84*-0x8)/_0x1fa68c,this['_clusterTe'+'xtureSizeD'+'ata'][-0x1e8*0x2+0x34*0x47+0x2e*-0x3b]=(-0x16f*0x17+0x56e*0x6+-0x22*-0x3)/_0x3f3474,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x1fa68c,_0x3f3474,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x140c+-0x3e6*-0x8+0xb23*-0x1?-0x2*-0x9af+0x1*-0x2697+-0x1*-0x1339:0x3d*-0x9e+0x1ca8+0x8ff),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x1b33b6=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1*0x54a+0x2439+-0x1eef*0x1]=this['_cells']['x']/_0x1b33b6['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x42f*-0x6+0x40e*0x6+-0x1*0x316d]=this['_cells']['y']/_0x1b33b6['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0xff2+-0x3a4*0x1+-0xc4c]=this['_cells']['z']/_0x1b33b6['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x165+-0xccd+0x17*0x9e]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0x1bb+-0x1*-0xd95+0x1*-0xf4f]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0xb8*0x17+0x2*-0x29+0x10dc]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x25c0+0xfc3+0x15fd]=_0x1b33b6['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x238*0x5+0x95f*0x1+0x1ba]=_0x1b33b6['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x26b*-0x1+-0x1176+-0x13e3*-0x1]=_0x1b33b6['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x14f9+-0x28*-0x71+-0x26a1]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x2523+-0x2401+0x4925]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x3130e8,_0x54b995,_0x57038c){_0x54b995['copy'](_0x3130e8['min']),_0x54b995['sub'](this['boundsMin']),_0x54b995['div'](this['boundsDelt'+'a']),_0x54b995['mul2'](_0x54b995,this['cells']),_0x54b995['floor'](),_0x57038c['copy'](_0x3130e8['max']),_0x57038c['sub'](this['boundsMin']),_0x57038c['div'](this['boundsDelt'+'a']),_0x57038c['mul2'](_0x57038c,this['cells']),_0x57038c['ceil'](),_0x54b995['max'](T['ZERO']),_0x57038c['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x459095){const _0x4e3bdb=this['lightsBuff'+'er']['maxLights'],_0x34e694=this['_usedLight'+'s'];let _0x55dbb3=-0xb02*0x1+0x231+0x8d2;_0x459095['forEach'](_0x43e68d=>{const _0x5dd378=!!(_0x43e68d['mask']&(hs|cr)),_0x5d9892=_0x43e68d['type']===Re&&_0x43e68d['_outerCone'+'Angle']===-0x109e+0x252f+-0x1491;if(_0x43e68d['enabled']&&_0x43e68d['type']!==oe&&_0x43e68d['visibleThi'+'sFrame']&&_0x43e68d['intensity']>-0x219f+0xcf2*-0x2+0x3b83&&_0x5dd378&&!_0x5d9892){if(_0x55dbb3<_0x4e3bdb){let _0x3b8c56;_0x55dbb3<_0x34e694['length']?_0x3b8c56=_0x34e694[_0x55dbb3]:(_0x3b8c56=new a_(),_0x34e694['push'](_0x3b8c56)),_0x3b8c56['light']=_0x43e68d,_0x43e68d['getBoundin'+'gBox'](bd),_0x3b8c56['min']['copy'](bd['getMin']()),_0x3b8c56['max']['copy'](bd['getMax']()),_0x55dbb3++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x4e3bdb-(0x9ae+0x971+-0x2*0x98f))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x34e694['length']=_0x55dbb3;}['evaluateBo'+'unds'](){const _0x154fb9=this['_usedLight'+'s'],_0x22374e=this['boundsMin'],_0x401c94=this['boundsMax'];if(_0x154fb9['length']>-0x6*0x1d3+-0xa49+0x153c){_0x22374e['copy'](_0x154fb9[-0x1c00+0x2*-0x78f+-0x2b1f*-0x1]['min']),_0x401c94['copy'](_0x154fb9[-0x172c+-0xa93+0x21c0]['max']);for(let _0x443877=0x1e7e+-0x47*-0x77+-0x3f7d;_0x443877<_0x154fb9['length'];_0x443877++)_0x22374e['min'](_0x154fb9[_0x443877]['min']),_0x401c94['max'](_0x154fb9[_0x443877]['max']);}else _0x22374e['set'](0x1*0x209+0x15a5+-0x17ae,0xb54+0x17*0x1b+-0xdc1*0x1,-0x226+0x3*0x94a+0x1*-0x19b8),_0x401c94['set'](0x863*0x3+-0x1995*0x1+-0x1*-0x6d,0x7ae*-0x1+0xccb*-0x3+-0xb84*-0x4,0x5ea+0x2513+0x312*-0xe);this['boundsDelt'+'a']['sub2'](_0x401c94,_0x22374e),this['lightsBuff'+'er']['setBounds'](_0x22374e,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x32d0cb=-0x1118+0x11da+-0xc2,_0x21e709=0x1c5d*0x1+0x553*0x2+0x2703*-0x1;const _0x4f06a7=this['_usedLight'+'s'];for(let _0xd5b39b=0x45a*0x2+-0x14e*0xd+0x843;_0xd5b39b<_0x4f06a7['length'];_0xd5b39b++){const _0x509252=_0x4f06a7[_0xd5b39b]['light'];_0x32d0cb=Math['max'](_0x509252['attenuatio'+'nEnd'],_0x32d0cb);const _0x1c07b1=_0x509252['_colorLine'+'ar'];_0x21e709=Math['max'](_0x1c07b1[0x1d23+0xa9*0x11+-0x3*0xd74],_0x21e709),_0x21e709=Math['max'](_0x1c07b1[0xc44+-0xe29+0x1e6],_0x21e709),_0x21e709=Math['max'](_0x1c07b1[0x156b*-0x1+-0xdda+0x2347*0x1],_0x21e709);}this['_maxAttenu'+'ation']=_0x32d0cb+r_,this['_maxColorV'+'alue']=_0x21e709+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x4c24d4){this['counts']['fill'](-0x1287+0x19a6+-0x71f),this['clusters']['fill'](0x142*0xe+0x789*-0x5+0x1d3*0xb),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x4c24d4?_0x4c24d4['areaLights'+'Enabled']:!(-0x116*-0x4+-0x2586+-0x6a3*-0x5);const _0x415f4f=this['_cells']['x'],_0x324475=this['_cells']['z'],_0x7842b9=this['counts'],_0x5e90f7=this['_maxCellLi'+'ghtCount'],_0x94ef8b=this['clusters'],_0x232096=this['maxCellLig'+'htCount'];let _0x942e9=!(0x65*-0x1d+0xc04*0x2+0xc96*-0x1);const _0x157c40=this['_usedLight'+'s'];for(let _0x564656=-0x376+0x26b2+0x233b*-0x1;_0x564656<_0x157c40['length'];_0x564656++){const _0x4b233c=_0x157c40[_0x564656],_0x478f8d=_0x4b233c['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x478f8d,_0x564656),this['evalLightC'+'ellMinMax'](_0x4b233c,Pl,Rl);const _0x52080a=Pl['x'],_0x46f755=Rl['x'],_0x492cdf=Pl['y'],_0x310db5=Rl['y'],_0x1030ac=Pl['z'],_0x3666b5=Rl['z'];for(let _0xf776d8=_0x52080a;_0xf776d8<=_0x46f755;_0xf776d8++)for(let _0x5c54a1=_0x1030ac;_0x5c54a1<=_0x3666b5;_0x5c54a1++)for(let _0x59403d=_0x492cdf;_0x59403d<=_0x310db5;_0x59403d++){const _0x4cfc33=_0xf776d8+_0x415f4f*(_0x5c54a1+_0x59403d*_0x324475),_0x8b1846=_0x7842b9[_0x4cfc33];_0x8b1846<_0x5e90f7?(_0x94ef8b[_0x232096*_0x4cfc33+_0x8b1846]=_0x564656,_0x7842b9[_0x4cfc33]=_0x8b1846+(0x1*-0x3ef+-0x2*-0x106+0x1e4)):_0x942e9=!(-0x4e9*-0x6+0x16b1+-0x3427);}}_0x942e9&&this['reportCoun'+'t']<0x828+-0x22d2+0x17*0x129&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===-0xd3*0xd+-0x256f*-0x1+-0x1ab4?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x5ea0e2,_0xe81c09=null){this['updatePara'+'ms'](_0xe81c09),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x5ea0e2),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0xe81c09),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=0x21a3*-0x1+0xdda+0x13cb+0.39996322972865306,ll={'circlePoint'(_0x4a8315){const _0x5c8543=Math['sqrt'](Math['random']()),_0x59de85=Math['random']()*(-0x1*-0x1839+-0x26e*-0x10+-0x209*0x1f)*Math['PI'];_0x4a8315['x']=_0x5c8543*Math['cos'](_0x59de85),_0x4a8315['y']=_0x5c8543*Math['sin'](_0x59de85);},'circlePointDeterministic'(_0x830600,_0xd7aad5,_0x2e92e8){const _0x4f7f78=_0xd7aad5*o_,_0x5a03f3=Math['sqrt'](_0xd7aad5)/Math['sqrt'](_0x2e92e8);_0x830600['x']=_0x5a03f3*Math['cos'](_0x4f7f78),_0x830600['y']=_0x5a03f3*Math['sin'](_0x4f7f78);},'spherePointDeterministic'(_0xd8820c,_0xe43b1d,_0x379973,_0x3a96e0=-0x3d*-0x35+-0x1f*0x9d+0x662,_0xdfbf8=-0x5*0x37+-0x5b6*0x2+0x4*0x320){_0x3a96e0=-0xaff+-0x1ce4+0x4a*0x8a-(-0x4af*0x7+0x1b6a+0x561)*_0x3a96e0,_0xdfbf8=0x5*-0x792+-0x2421+-0x4*-0x127f-(0x135a*0x2+0x1289+0x5b*-0xa1)*_0xdfbf8;const _0x106c1c=N['lerp'](_0x3a96e0,_0xdfbf8,_0xe43b1d/_0x379973),_0x31ddb3=Math['sqrt'](0x3e7*0x5+-0x22d7*-0x1+-0x1*0x3659-_0x106c1c*_0x106c1c),_0x1d6852=o_*_0xe43b1d;_0xd8820c['x']=Math['cos'](_0x1d6852)*_0x31ddb3,_0xd8820c['y']=_0x106c1c,_0xd8820c['z']=Math['sin'](_0x1d6852)*_0x31ddb3;},'radicalInverse'(_0xe63e58){let _0x66456f=(_0xe63e58<<-0xf48+-0x2289+-0x71*-0x71|_0xe63e58>>>-0xd48+0x2344+-0x15ec)>>>0x290*0x6+-0x10e+-0xe52;return _0x66456f=((_0x66456f&0x1cda367+0x1*0xa8eeefd1+-0x55673de3)<<-0x1f83+-0x2162*0x1+0x47*0xea|(_0x66456f&0x4155572b+-0x118b260fd+0x18207b47c)>>>-0x227c+-0x1*0x1000+-0x2f*-0x113)>>>-0x8d4+-0x3*-0x16e+0x48a,_0x66456f=((_0x66456f&0xd*-0x5652b44+-0x1*0x1d45cf6d+0x969c3514)<<-0x9c2+0xf*0x252+0x5*-0x502|(_0x66456f&-0x4c5b26bd+-0x18a0d5d59+0xc39e5*0x373a)>>>-0xf77+0xa*-0x2c8+0x1*0x2b49)>>>0x1b0d+-0x2*-0x5d5+-0x247*0x11,_0x66456f=((_0x66456f&0xcab*0xf3e9+0x1ce*0x5d673+-0x78bcd1e)<<-0x77*-0x1d+0x222b+-0x2fa2|(_0x66456f&0xda1*-0x175cca+0x149bc69f4+0xe59c2406)>>>0x2*-0x49d+-0x3a0+-0xcde*-0x1)>>>-0x154e+-0x4d4+0x1a22,_0x66456f=((_0x66456f&-0xd34ccf+-0x16cccd1+0xd*0x3fee5b)<<-0x418+0x1ef1+-0x1ad1*0x1|(_0x66456f&-0x14902a033+0x8a22fae*-0x2a+0x3b29f71bf)>>>0x1126+-0x27*-0x24+-0xb4d*0x2)>>>0x1c1*0xd+-0x4a5+0x8*-0x245,_0x66456f*(0x1732+-0x1f5a+-0x15c*-0x6+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x3c3555){return gC[_0x3c3555]||'decodeGamm'+'a';}static['encodeFunc'](_0x115443){return yC[_0x115443]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x370c94,_0x767867){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x767867['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x370c94['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x1337f3=>{switch(_0x1337f3){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x160aa4,_0x7ecbb8,_0x65b85f)=>{if(_0x160aa4<=0xd53+-0xdb8+0x65)_0x7ecbb8[_0x65b85f+(-0x1*0x7c1+-0x22d6+0x2a97)]=0x3c+0x22f7+-0x2333*0x1,_0x7ecbb8[_0x65b85f+(-0x962+0xa48*-0x1+0x13ab)]=0x2*-0x12e0+0x974+-0x4*-0x713,_0x7ecbb8[_0x65b85f+(0x1228+0x26ae+-0x1*0x38d4)]=-0x33*0x11+0x1*-0x1d8b+0x20ee,_0x7ecbb8[_0x65b85f+(-0x1f98+-0x65*0x55+0x4124)]=-0x125f*0x2+-0x2*0x1a6+0x280a;else{if(_0x160aa4>=0x1e2*-0x3+0x1*0x18c4+0x2bb*-0x7)_0x7ecbb8[_0x65b85f+(0x2332+-0x25fe+0x2cc)]=0x3+0x2134+-0x2038,_0x7ecbb8[_0x65b85f+(0xdfe+-0x1*0x229d+-0x50*-0x42)]=0x1*-0x25ea+-0x161*0x13+0x401d,_0x7ecbb8[_0x65b85f+(-0x1*0xa33+0x774+0x2f*0xf)]=0x2b*0xc1+0xc42*-0x3+0x45b,_0x7ecbb8[_0x65b85f+(0x103d*-0x1+0x876*0x4+-0x1198)]=-0x4da*-0x4+-0xc*-0x2b4+-0x33d8;else{let _0x43c02b=(0x1f*0xc+-0x1*-0x132a+-0x149d)*_0x160aa4%(0x2440+-0x9*-0x1e3+-0x353a),_0x3475ed=(0x12ba+-0x2*-0x6b1+-0x127*0x1b)*_0x160aa4%(-0x1af8+0x1d8f+-0x2*0x14b),_0x26d8ae=(-0xd416+-0x13e72+-0x10583*-0x3)*_0x160aa4%(-0x2255+-0x121*0x17+0x3c4d);const _0x1fbb03=(-0x82d5c4+-0xa9abd*0x12+-0x1*-0x23eba0d)*_0x160aa4%(-0x182f+0x26ab+-0xb*0x151);_0x43c02b-=_0x3475ed/(0x505+-0x19ed*-0x1+-0x29*0xbb),_0x3475ed-=_0x26d8ae/(0x2*-0x126b+0x21ce+0x407),_0x26d8ae-=_0x1fbb03/(0x75f+-0xf6a+0x90a),_0x7ecbb8[_0x65b85f+(-0x1be7+-0x22af+0x3e96)]=Math['min'](0x16d5+0xf71+-0x2547,Math['floor'](_0x43c02b*(-0xf4e+-0x24a0+-0xa*-0x54b))),_0x7ecbb8[_0x65b85f+(0x1867+0x1949+-0x229*0x17)]=Math['min'](-0x1b36+0x1*-0x1544+0x95*0x55,Math['floor'](_0x3475ed*(-0x2*-0x92b+-0x7b*-0x3+-0xfd*0x13))),_0x7ecbb8[_0x65b85f+(-0xac+0x292*0xe+-0x234e)]=Math['min'](0x19cb+0x4*-0x8c4+0xa44,Math['floor'](_0x26d8ae*(-0x2*-0x11db+-0x25c5+0x105*0x3))),_0x7ecbb8[_0x65b85f+(-0x4*0x13e+0x1363*-0x2+0x2bc1)]=Math['min'](-0x97c+0x1acc+0x1*-0x1051,Math['floor'](_0x1fbb03*(-0x17*-0x10f+0xbe6*-0x1+-0x1*0xb73)));}}},xC=_0x576678=>{const _0x5e2618=_0x576678['length'],_0x11c6c6=Math['min'](_0x5e2618,0x34a*-0xa+-0x2e6*-0x1+0x1ffe),_0x1255ca=Math['ceil'](_0x5e2618/_0x11c6c6),_0x8f9312=new Uint8Array(_0x11c6c6*_0x1255ca*(-0x1099+-0xf1a*-0x2+-0xd97));let _0x1357ac=-0xcc4+-0x1*0x7eb+0x14af;for(let _0x4f69d2=0x65f+-0x4ca*-0x1+-0xb29;_0x4f69d2<_0x5e2618;_0x4f69d2+=0x15b3+0xb6+-0x1665)Il(_0x576678[_0x4f69d2+(0x511+-0x1220+-0xd0f*-0x1)]*(0x1a55+0xf6*-0x18+0x1*-0x345+0.5)+(0x1ad*-0x3+-0xb77+0x107e+0.5),_0x8f9312,_0x1357ac+(0x1eb9+0x66+0x101*-0x1f)),Il(_0x576678[_0x4f69d2+(-0xaf1*0x3+-0x27*-0x7b+0xe17)]*(-0x138b+0x683*-0x1+0x1a0e+0.5)+(0x1852+-0x57*0x2f+-0x1*0x859+0.5),_0x8f9312,_0x1357ac+(-0x1*0xb23+0x6b1+0x476)),Il(_0x576678[_0x4f69d2+(0x1081*0x1+0x10*-0x16e+0x661*0x1)]*(-0x7*0x519+-0x1*-0x239+0x2176+0.5)+(0x2642+0xf13*0x2+-0x4468+0.5),_0x8f9312,_0x1357ac+(0x9bd+0x1*-0x1317+0x1*0x962)),Il(_0x576678[_0x4f69d2+(-0xf6b+-0x3*0xb13+-0x109*-0x2f)]/(-0x726+-0x3*-0x22f+0xa1),_0x8f9312,_0x1357ac+(-0x2017+-0x177f+-0x1*-0x37a2)),_0x1357ac+=-0xb1d*0x1+-0x82b+0x1358*0x1;return{'width':_0x11c6c6,'height':_0x1255ca,'data':_0x8f9312};},SC=(_0x1f72c6,_0x538877,_0xd834e1,_0x5a0531)=>{const _0x9231bf=_0xd834e1*(0xe7a+0x285+0x10fd*-0x1)*Math['PI'],_0x3076c6=Math['pow'](0x5*0x22d+0x253f+-0x301f-_0x538877,(-0x234e*0x1+0x201+-0x31*-0xae)/(_0x5a0531+(-0x1352+-0x21a*-0xf+-0xc33))),_0x2fc736=Math['sqrt'](-0x5df+-0x2572+0x2b52-_0x3076c6*_0x3076c6);_0x1f72c6['set'](Math['cos'](_0x9231bf)*_0x2fc736,Math['sin'](_0x9231bf)*_0x2fc736,_0x3076c6)['normalize']();},vC=(_0x19f78d,_0x2ed28f,_0xdc283c)=>{const _0x6ca9=_0xdc283c*(0xdbe*0x1+0x79f*0x1+-0x155b)*Math['PI'],_0x57433f=Math['sqrt'](-0x1ad8+-0x25ec+0x40c5*0x1-_0x2ed28f),_0x114eb2=Math['sqrt'](_0x2ed28f);_0x19f78d['set'](Math['cos'](_0x6ca9)*_0x114eb2,Math['sin'](_0x6ca9)*_0x114eb2,_0x57433f)['normalize']();},bC=(_0x5f483b,_0x11b72c,_0x391c59,_0xad1842)=>{const _0x40033a=_0x391c59*(-0x6*-0x4ae+0x3a*0x6d+-0x34c4)*Math['PI'],_0x2df9fe=Math['sqrt']((-0xd*-0x21b+0x2*0xae7+-0x312c-_0x11b72c)/(0x1ea5+-0x1e8c+-0x18+(_0xad1842*_0xad1842-(0x1cdd+0x1cc8+-0x20f*0x1c))*_0x11b72c)),_0x24cbe1=Math['sqrt'](-0x138f*-0x1+-0x169*-0x14+-0x2fc2-_0x2df9fe*_0x2df9fe);_0x5f483b['set'](Math['cos'](_0x40033a)*_0x24cbe1,Math['sin'](_0x40033a)*_0x24cbe1,_0x2df9fe)['normalize']();},wC=(_0x4d95a2,_0x11f333)=>{const _0x5d8524=_0x4d95a2*_0x11f333,_0xc67442=_0x11f333/(0x106d+0x16fe+-0x276a-_0x4d95a2*_0x4d95a2+_0x5d8524*_0x5d8524);return _0xc67442*_0xc67442*((0x23a7+-0x76*-0x22+0x2*-0x19a9)/Math['PI']);},TC=(_0x4baf12,_0x5ccd05)=>{const _0xbc1ddd=new T(),_0x279de9=[];for(let _0x22c2e1=0x839*-0x1+0x14f*-0x9+0x1400;_0x22c2e1<_0x4baf12;++_0x22c2e1)SC(_0xbc1ddd,_0x22c2e1/_0x4baf12,ll['radicalInv'+'erse'](_0x22c2e1),_0x5ccd05),_0x279de9['push'](_0xbc1ddd['x'],_0xbc1ddd['y'],_0xbc1ddd['z'],0xdfe+-0x478+-0x35*0x2e);return _0x279de9;},AC=(_0x62fa49,_0x3a7671)=>{const _0x55d1ce=_0x3a7671/_0x62fa49,_0x53cbec=new T(),_0x34bcb1=[];for(let _0xb1ed63=-0x1afb+0xc47+-0x1*-0xeb4;_0xb1ed63<_0x62fa49;++_0xb1ed63){vC(_0x53cbec,_0xb1ed63/_0x62fa49,ll['radicalInv'+'erse'](_0xb1ed63));const _0x484a82=_0x53cbec['z']/Math['PI'],_0x468524=(0x1*-0xca6+-0xace+-0xbba*-0x2+0.5)*Math['log2'](_0x55d1ce/_0x484a82);_0x34bcb1['push'](_0x53cbec['x'],_0x53cbec['y'],_0x53cbec['z'],_0x468524);}return _0x34bcb1;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x4256d9,_0x19ad1d)=>{const _0x49ba4b=EC[_0x4256d9];return _0x49ba4b&&_0x49ba4b[_0x19ad1d]||_0x4256d9;},MC=(_0xa837ab,_0x522ac7,_0x54d6fb)=>{const _0x356694=_0x54d6fb/_0xa837ab,_0x33a4d2=0x1*0x7e1+0xd69*0x2+-0x22b2-Math['log2'](_0x522ac7)/(-0x25ec+0x5*-0x34b+0x366e),_0x39e7fe=_0x33a4d2*_0x33a4d2,_0x12f0a0=new T(),_0x323c49=new T(),_0x5521b3=new T(-0x221f+0x2093+0x18c,-0x1a5b+0x2554+-0xaf9,0x1254+0x52*-0x32+-0x24f),_0x13e973=[],_0x2334e7=CC(_0xa837ab,_0x522ac7);for(let _0xfe3656=-0x19f0+-0x14a4+0x2e94;_0xfe3656<_0x2334e7;++_0xfe3656){bC(_0x12f0a0,_0xfe3656/_0x2334e7,ll['radicalInv'+'erse'](_0xfe3656),_0x39e7fe);const _0x21d33f=_0x12f0a0['z'];if(_0x323c49['set'](_0x12f0a0['x'],_0x12f0a0['y'],_0x12f0a0['z'])['mulScalar']((0x7f*0x19+0x3*0xa30+-0x2af5)*_0x21d33f)['sub'](_0x5521b3),_0x323c49['z']>0x25ed+-0x10b1+-0x153c){const _0x56d073=wC(Math['min'](-0x30c+0x9da+-0x1*0x6cd,_0x21d33f),_0x39e7fe)/(0x1*-0x207d+0xebc+-0x1*-0x11c5)+(0x1*-0x1025+0x12ec+-0x2c7+0.001),_0x4016b4=(-0x2e3*0x1+-0x1eca+-0x21ad*-0x1+0.5)*Math['log2'](_0x356694/_0x56d073);_0x13e973['push'](_0x323c49['x'],_0x323c49['y'],_0x323c49['z'],_0x4016b4);}}for(;_0x13e973['length']<_0xa837ab*(0x25a6+-0x4*0x163+0x559*-0x6);)_0x13e973['push'](-0x2*-0x58c+-0x1c35+0x111d,0x1859+-0x22d3+0xa7a,0x1*0x4e5+-0x136d*0x1+-0x5d*-0x28,0x66*-0x57+0x457*-0x7+0x410b);return _0x13e973;},PC=(_0x4ea9c0,_0x265fd1,_0x404b12)=>{const _0x108eb4=xC(_0x404b12);return new he(_0x4ea9c0,{'name':_0x265fd1,'width':_0x108eb4['width'],'height':_0x108eb4['height'],'mipmaps':!(-0xdf0+-0x1716+0x2507),'minFilter':de,'magFilter':de,'levels':[_0x108eb4['data']]});};class C0{constructor(_0x37ee32=!(0x7d*-0x1a+0x3d*0x93+0x1655*-0x1)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x37ee32;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x3aac4b,_0x3d0e1d)=>{_0x3aac4b['destroy']();});}['get'](_0x903e1f,_0x2fb01f){if(!this['map']['has'](_0x903e1f)){const _0x50f3e1=_0x2fb01f();return this['map']['set'](_0x903e1f,_0x50f3e1),_0x50f3e1;}return this['map']['get'](_0x903e1f);}}const RC=new C0(!(-0x214f+0x1544*-0x1+0x3694)),IC=new Ot(),Lp=(_0x1d7234,_0x2d3fae,_0x209015)=>IC['get'](_0x1d7234,()=>new C0())['get'](_0x2d3fae,()=>PC(_0x1d7234,_0x2d3fae,RC['get'](_0x2d3fae,_0x209015))),DC=(_0x1657a1,_0x25d7ce,_0x44f52f)=>{const _0x4ac485='lambert-sa'+'mples-'+_0x25d7ce+'-'+_0x44f52f;return Lp(_0x1657a1,_0x4ac485,()=>AC(_0x25d7ce,_0x44f52f));},LC=(_0x2492cb,_0x39e1ad,_0x5e2e9d)=>{const _0x3df74e='phong-samp'+'les-'+_0x39e1ad+'-'+_0x5e2e9d;return Lp(_0x2492cb,_0x3df74e,()=>TC(_0x39e1ad,_0x5e2e9d));},FC=(_0xee5d87,_0x14b37d,_0x430747,_0x4079dc)=>{const _0x48f52d='ggx-sample'+'s-'+_0x14b37d+'-'+_0x430747+'-'+_0x4079dc;return Lp(_0xee5d87,_0x48f52d,()=>MC(_0x14b37d,_0x430747,_0x4079dc));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x5be891,_0x405822,_0x58c5a4={}){var _0x52246b,_0x30d70a;v['assert'](_0x5be891 instanceof he&&_0x405822 instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x3f6dc7=_0x58c5a4['seamPixels']??0x2*0xe2f+0x64b+-0x22a9*0x1,_0x477af4=(((_0x52246b=_0x58c5a4['rect'])==null?void(0x71*0x20+0xa3*-0x3d+0x18b7):_0x52246b['z'])??_0x405822['width'])-_0x3f6dc7*(-0xa1c+-0x45b+0xe79),_0x811cb=(((_0x30d70a=_0x58c5a4['rect'])==null?void(-0xe6a+-0x1e63+-0x3*-0xeef):_0x30d70a['w'])??_0x405822['height'])-_0x3f6dc7*(0x293+-0x188f+0xaff*0x2);if(_0x477af4<-0x5e3*0x5+0x1*-0x1cd6+-0x1d23*-0x2||_0x811cb<-0x263b+0x2f5*-0x3+0x2f1b)return!(-0x32*0x20+-0x1*0x144f+-0x154*-0x14);const _0x492a55={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x578a46=_0x58c5a4['hasOwnProp'+'erty']('specularPo'+'wer')?_0x58c5a4['specularPo'+'wer']:-0xa2b+0xb*0x115+-0x1bb,_0x3c8f79=_0x58c5a4['hasOwnProp'+'erty']('face')?_0x58c5a4['face']:null,_0x56a17e=_0x58c5a4['hasOwnProp'+'erty']('distributi'+'on')?_0x58c5a4['distributi'+'on']:_0x578a46===0x20*0xa+0x264d+-0x278c?'none':'phong',_0x4ae1c4=_0x492a55[_0x56a17e]||'reproject',_0x3fe9e0=_0x4ae1c4['startsWith']('prefilterS'+'amples'),_0x462b67=Es['decodeFunc'](_0x5be891['encoding']),_0x49f5ba=Es['encodeFunc'](_0x405822['encoding']),_0x338509='sample'+l_(_0x5be891['projection']),_0x25b235='getDirecti'+'on'+l_(_0x405822['projection']),_0x1600aa=_0x58c5a4['hasOwnProp'+'erty']('numSamples')?_0x58c5a4['numSamples']:0x1*-0x1d16+0x61*0xb+0x1ceb,_0x25d10a=_0x4ae1c4+'_'+_0x462b67+'_'+_0x49f5ba+'_'+_0x338509+'_'+_0x25b235+'_'+_0x1600aa,_0x3ae4ea=_0x5be891['device'];let _0x19a07f=ka(_0x3ae4ea)['getCachedS'+'hader'](_0x25d10a);if(!_0x19a07f){const _0x44e7ae='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x4ae1c4+'\x0a'+(_0x3fe9e0?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x5be891['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x462b67+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x49f5ba+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x338509+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x25b235+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x1600aa+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x1600aa))['toFixed'](0x1*0x1afa+-0x20f*-0xd+-0x35bc)+'\x0a';_0x19a07f=Is(_0x3ae4ea,OC,_0x44e7ae+'\x0a'+X['reprojectP'+'S'],_0x25d10a);}G['pushGpuMar'+'ker'](_0x3ae4ea,'ReprojectT'+'exture'),_0x3ae4ea['setBlendSt'+'ate'](_t['NOBLEND']);const _0x3674fc=_0x3ae4ea['scope']['resolve'](_0x5be891['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x3674fc),_0x3674fc['setValue'](_0x5be891);const _0x546283=_0x3ae4ea['scope']['resolve']('params'),_0x4346d6=_0x3ae4ea['scope']['resolve']('uvMod');_0x3f6dc7>0x3a0+0x1ce0+-0x2080?_0x4346d6['setValue']([(_0x477af4+_0x3f6dc7*(-0x1140+0x67f*-0x3+0x24bf))/_0x477af4,(_0x811cb+_0x3f6dc7*(-0x56d+0x18*-0xf0+0x1*0x1bef))/_0x811cb,-_0x3f6dc7/_0x477af4,-_0x3f6dc7/_0x811cb]):_0x4346d6['setValue']([-0x2*0x11cc+0x742*0x3+0xdd3,0x1d*0x7b+-0x68*-0x11+0xa6b*-0x2,-0x1655*0x1+0x1*0x1c40+-0x5eb*0x1,-0x1a36+-0x3b6*0x1+0x1dec]);const _0x3650ae=[-0x1ee3+-0x1f09+-0xf7b*-0x4,_0x405822['width']*_0x405822['height']*(_0x405822['cubemap']?-0x2d*-0x2b+-0x108f+0x906:0x437+0x2*0x1169+0x1*-0x2708),_0x5be891['width']*_0x5be891['height']*(_0x5be891['cubemap']?-0xb6+-0x1*0x198d+-0x1a49*-0x1:0x16da+0x4cd*0x5+-0x2eda)];if(_0x3fe9e0){const _0x31b3c9=_0x5be891['width']*_0x5be891['height']*(_0x5be891['cubemap']?0x1b2+0x9*-0x10d+0x7c9:0x718+0x1cac+0x1*-0x23c3),_0x41ddfb=_0x56a17e==='ggx'?FC(_0x3ae4ea,_0x1600aa,_0x578a46,_0x31b3c9):_0x56a17e==='lambert'?DC(_0x3ae4ea,_0x1600aa,_0x31b3c9):LC(_0x3ae4ea,_0x1600aa,_0x578a46);_0x3ae4ea['scope']['resolve']('samplesTex')['setValue'](_0x41ddfb),_0x3ae4ea['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x15cd+-0x20c7+-0x1*-0x3695)/_0x41ddfb['width'],(-0x94e+0x1ecf+-0x1580)/_0x41ddfb['height']]);}for(let _0x3e9798=-0xcdd+0x2f*-0x7+0xe26;_0x3e9798<(_0x405822['cubemap']?-0x5*-0x343+-0x1f2a*-0x1+-0x2f73:0x71*-0x21+0xe09+0x89*0x1);_0x3e9798++)if(_0x3c8f79===null||_0x3e9798===_0x3c8f79){const _0x24256b=new pt({'colorBuffer':_0x405822,'face':_0x3e9798,'depth':!(0x192c+-0x1*0x5ea+-0x1341),'flipY':_0x3ae4ea['isWebGPU']});_0x3650ae[-0xbe7*-0x1+-0x207f*-0x1+-0x1*0x2c66]=_0x3e9798,_0x546283['setValue'](_0x3650ae),dn(_0x3ae4ea,_0x24256b,_0x19a07f,_0x58c5a4==null?void(0x2*-0x12af+-0x97b*0x1+-0x2ed9*-0x1):_0x58c5a4['rect']),_0x24256b['destroy']();}return G['popGpuMark'+'er'](_0x3ae4ea),!(-0xd9b*-0x1+-0x182b*-0x1+-0x25c6);}const wd=(_0x562547,_0x1a16c1=-0x1325*0x1+-0x5*0x18c+0x1ae1)=>-0xf6a*-0x1+0x1616+-0x257f+Math['floor'](Math['log2'](Math['max'](_0x562547,_0x1a16c1))),kC=_0x354b6c=>_0x354b6c['textureHal'+'fFloatRend'+'erable'],BC=_0x2f70d8=>_0x2f70d8['textureFlo'+'atRenderab'+'le'],NC=_0x2a96ec=>kC(_0x2a96ec)?Je:BC(_0x2a96ec)?Ke:Se,zC=_0x364ca4=>Se,UC=(_0x580e4a,_0x3c731c,_0x257f3e,_0x4c1677)=>new he(_0x580e4a,{'name':'lighting-'+_0x3c731c,'cubemap':!(0x1b1*0x5+-0x268e+0x73*0x43),'width':_0x3c731c,'height':_0x3c731c,'format':_0x257f3e,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(0x91*-0x13+0x1fe6+-0x21d*0xa)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x2a3f1f,_0xd14061){const _0x5ec752=_0x2a3f1f['device'];G['pushGpuMar'+'ker'](_0x5ec752,'genSkyboxC'+'ubemap');const _0x245138=UC(_0x5ec752,_0xd14061||(_0x2a3f1f['cubemap']?_0x2a3f1f['width']:_0x2a3f1f['width']/(-0x35*-0xa4+0xc33*-0x1+-0x35*0x69)),Se);return Qs(_0x2a3f1f,_0x245138,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x5ec752),_0x245138;}static['generateLi'+'ghtingSour'+'ce'](_0x123164,_0x1f0f46){const _0x28a218=_0x123164['device'];G['pushGpuMar'+'ker'](_0x28a218,'genLightin'+'gSource');const _0x20ec85=NC(_0x28a218),_0x477b04=(_0x1f0f46==null?void(-0x1657+-0x24f8+0x3b4f):_0x1f0f46['target'])||new he(_0x28a218,{'name':'lighting-s'+'ource','cubemap':!(-0x2*0xc7+0x16dd+-0x154f),'width':(_0x1f0f46==null?void(0xdb8+0x1*-0x24bf+0x1707):_0x1f0f46['size'])||0x6b*0x2c+0x21dd*-0x1+0xff9,'height':(_0x1f0f46==null?void(-0x1*0x175+-0x1*-0x23f3+-0x2*0x113f):_0x1f0f46['size'])||-0x2047+0x95a+0x176d,'format':_0x20ec85,'type':_0x20ec85===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(-0x2*0x1c4+-0x130*0x6+0xaa8)});return Qs(_0x123164,_0x477b04,{'numSamples':_0x123164['mipmaps']?0x78*0x36+0x2269+-0x13e8*0x3:0x5*-0x2e+0x104d+-0xb67}),G['popGpuMark'+'er'](_0x28a218),_0x477b04;}static['generateAt'+'las'](_0x54531c,_0x3835e2){const _0x5c39c8=_0x54531c['device'],_0x2d801e=zC();G['pushGpuMar'+'ker'](_0x5c39c8,'genAtlas');const _0x15fbb0=(_0x3835e2==null?void(-0xf5*-0x1+-0x11a7*-0x2+-0x2443):_0x3835e2['target'])||new he(_0x5c39c8,{'name':'envAtlas','width':(_0x3835e2==null?void(0x22f2+0x78b*0x1+-0x2a7d):_0x3835e2['size'])||-0x694+-0x5*0x33b+0x1*0x18bb,'height':(_0x3835e2==null?void(-0x3d*-0x3b+-0x1*0x1055+0x246):_0x3835e2['size'])||0x3*-0x35f+-0x23ff+0x301c,'format':_0x2d801e,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(-0x599+-0x1996+-0x4*-0x7cc)});G['pushGpuMar'+'ker'](_0x5c39c8,'mipmaps');const _0x384fcc=_0x15fbb0['width']/(0x1bb9+0x1030+-0x29e9),_0x3b7a13=new Q(-0x20c*-0x7+-0x2643*-0x1+-0x3497,0x1*-0xf56+0xc6a+0x2ec,(0x13*-0xd2+0x1d41+-0x1*0xbab)*_0x384fcc,(-0xc27+-0x7*0x3d2+0x27e5)*_0x384fcc),_0x26ebcb=wd(0xcb3*-0x1+0x4d+-0x5*-0x2ae)-wd(0x95a+0x8aa+-0x1200);for(let _0x544eed=-0x2150+-0x51*0x33+-0x3173*-0x1;_0x544eed<_0x26ebcb;++_0x544eed)Qs(_0x54531c,_0x15fbb0,{'numSamples':0x1,'rect':_0x3b7a13,'seamPixels':_0x384fcc}),_0x3b7a13['x']+=_0x3b7a13['w'],_0x3b7a13['y']+=_0x3b7a13['w'],_0x3b7a13['z']=Math['max'](0x72e+-0x623*-0x2+0x1373*-0x1,Math['floor'](_0x3b7a13['z']*(-0x1b61+-0x1*-0x260d+0x2*-0x556+0.5))),_0x3b7a13['w']=Math['max'](0x19fa+-0x2657*-0x1+0x2a*-0x188,Math['floor'](_0x3b7a13['w']*(0x1dec*-0x1+0x1f94+-0x1*0x1a8+0.5)));G['popGpuMark'+'er'](_0x5c39c8),G['pushGpuMar'+'ker'](_0x5c39c8,'reflection'+'s'),_0x3b7a13['set'](0x810*0x3+-0x1d4b*-0x1+-0x357b,(0xcc1*-0x1+-0x1653+0x2414)*_0x384fcc,(0x1096+-0xd02+-0x294)*_0x384fcc,(0x1292+0x10c*0x1f+-0x1943*0x2)*_0x384fcc);for(let _0x354178=-0x17e3+-0x22*0x114+-0x1e46*-0x2;_0x354178<-0x3*0x36d+-0x6ff+0x114d;++_0x354178)Qs(_0x54531c,_0x15fbb0,{'numSamples':(_0x3835e2==null?void(-0xf6f*0x1+0x1*0x157a+-0x60b):_0x3835e2['numReflect'+'ionSamples'])||0xac3*-0x2+-0x2581+0x3f07,'distribution':(_0x3835e2==null?void(0x3a8+-0x1c9*0x4+-0x2*-0x1be):_0x3835e2['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x1*0xc8d+0x757+0x537,-0x1db6+0x1*0x1508+0x10ae*0x1>>_0x354178*(-0x2f*-0x2b+0x14c9*0x1+-0x1cac)),'rect':_0x3b7a13,'seamPixels':_0x384fcc}),_0x3b7a13['y']+=_0x3b7a13['w'],_0x3b7a13['z']=Math['max'](-0x1361+-0x4a9+0x5*0x4cf,Math['floor'](_0x3b7a13['z']*(0x14b*0x1a+-0x2074+-0x12a+0.5))),_0x3b7a13['w']=Math['max'](-0x11*-0x1+0x3e*0x62+0x2*-0xbe6,Math['floor'](_0x3b7a13['w']*(-0x164*0x17+-0x2d0+0x22cc*0x1+0.5)));return G['popGpuMark'+'er'](_0x5c39c8),G['pushGpuMar'+'ker'](_0x5c39c8,'ambient'),_0x3b7a13['set']((-0x13c*0x7+-0x756+0x107a)*_0x384fcc,(-0xdde+0x2*0xfd1+-0x1*0x1044)*_0x384fcc,(0x29a*-0xd+-0x1*0x13b7+0x35c9)*_0x384fcc,(0x1e7b+0x3*0x7a5+-0x354a)*_0x384fcc),Qs(_0x54531c,_0x15fbb0,{'numSamples':(_0x3835e2==null?void(0x287*-0xd+0x1*-0x359+0x2434):_0x3835e2['numAmbient'+'Samples'])||0x20de*-0x1+-0x1d2c+0xa3*0x6e,'distribution':'lambert','rect':_0x3b7a13,'seamPixels':_0x384fcc}),G['popGpuMark'+'er'](_0x5c39c8),G['popGpuMark'+'er'](_0x5c39c8),_0x15fbb0;}static['generatePr'+'efilteredA'+'tlas'](_0x2a4bdd,_0x4f8484){const _0x53656d=_0x2a4bdd[-0x2710+-0x1087+0x3797]['device'],_0x31c120=_0x2a4bdd[0xbbf+-0x2*-0x8d3+-0x1d65]['format'],_0x620d3f=_0x2a4bdd[0x213a*-0x1+-0x199b+-0x1*-0x3ad5]['type'];G['pushGpuMar'+'ker'](_0x53656d,'genPrefilt'+'eredAtlas');const _0xb91b65=(_0x4f8484==null?void(-0x9f2+-0x1*0x21d5+0x2bc7*0x1):_0x4f8484['target'])||new he(_0x53656d,{'name':'envPrefilt'+'eredAtlas','width':(_0x4f8484==null?void(-0x193a+-0x6ff+0x2039*0x1):_0x4f8484['size'])||-0x8*0x265+-0x31*0xa8+0x1aa8*0x2,'height':(_0x4f8484==null?void(-0x1*-0x125d+-0x1d9*0xb+0xfb*0x2):_0x4f8484['size'])||0x491*-0x1+-0xecd+0x155e,'format':_0x31c120,'type':_0x620d3f,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x1*-0x23ae+-0x1de1+0x20c8*0x2)});G['pushGpuMar'+'ker'](_0x53656d,'mipmaps');const _0x3cf471=_0xb91b65['width']/(0xf9+-0x1*0x21d3+0x22da),_0x5389f1=new Q(-0x141d*-0x1+0x2607+-0x3d*0xf4,0xa4b+0xd*-0x6f+-0x2*0x254,(0x7*0x425+-0x1a6e*-0x1+-0x1*0x3571)*_0x3cf471,(0x1079+0x51+-0x5e*0x2b)*_0x3cf471),_0x3d59b4=wd(-0x2283+-0x1258+0x36db);for(let _0x195a18=-0x1361*-0x1+-0x1*-0xf4f+-0x4*0x8ac;_0x195a18<_0x3d59b4;++_0x195a18)Qs(_0x2a4bdd[-0x22fe+-0x9e8+0x2ce6],_0xb91b65,{'numSamples':0x1,'rect':_0x5389f1,'seamPixels':_0x3cf471}),_0x5389f1['x']+=_0x5389f1['w'],_0x5389f1['y']+=_0x5389f1['w'],_0x5389f1['z']=Math['max'](0x23af+0x1e48*-0x1+-0x566,Math['floor'](_0x5389f1['z']*(0x1b8*0x13+0xb*0x315+-0xb*0x60d+0.5))),_0x5389f1['w']=Math['max'](0x94+0xfef*-0x1+0x4*0x3d7,Math['floor'](_0x5389f1['w']*(-0x129c+0x1*-0x1a8d+0x2d29+0.5)));G['popGpuMark'+'er'](_0x53656d),G['pushGpuMar'+'ker'](_0x53656d,'reflection'+'s'),_0x5389f1['set'](-0x1*-0x2105+0x2377+-0x4*0x111f,(0x49c+0x1*-0x25e5+0x2249*0x1)*_0x3cf471,(-0x2f9*0x9+-0x757+0x2318)*_0x3cf471,(0xf*-0x9f+0x2208+-0x1837)*_0x3cf471);for(let _0x53c883=0x1b6*-0x10+-0x2f*0xc7+-0xaa7*-0x6;_0x53c883<_0x2a4bdd['length'];++_0x53c883)Qs(_0x2a4bdd[_0x53c883],_0xb91b65,{'numSamples':0x1,'rect':_0x5389f1,'seamPixels':_0x3cf471}),_0x5389f1['y']+=_0x5389f1['w'],_0x5389f1['z']=Math['max'](-0x24*0x56+-0x25*0x2d+0x129a,Math['floor'](_0x5389f1['z']*(-0x1*0x1d4d+0x2f5*0x3+-0x1*-0x146e+0.5))),_0x5389f1['w']=Math['max'](-0x1016+-0x1*-0x2573+-0x155c,Math['floor'](_0x5389f1['w']*(-0x1*0x1dd5+0x620*-0x6+0x4295+0.5)));return G['popGpuMark'+'er'](_0x53656d),G['pushGpuMar'+'ker'](_0x53656d,'ambient'),_0x5389f1['set']((-0x26*-0x4c+-0xd58+0x290)*_0x3cf471,(0x1ba1+0x20*-0x9f+-0x641)*_0x3cf471,(-0xb*0xd+-0x3d9*-0x4+-0xe95)*_0x3cf471,(-0xc7*-0x1f+0x1*0x1526+-0x2d1f)*_0x3cf471),_0x4f8484!=null&&_0x4f8484['legacyAmbi'+'ent']?Qs(_0x2a4bdd[0x26f+0x2621+-0x1*0x288b],_0xb91b65,{'numSamples':0x1,'rect':_0x5389f1,'seamPixels':_0x3cf471}):Qs(_0x2a4bdd[-0x1a48+-0x95+-0x1add*-0x1],_0xb91b65,{'numSamples':(_0x4f8484==null?void(-0x26ed+0xf44+-0x1*-0x17a9):_0x4f8484['numSamples'])||0x34*-0x6b+-0x17c5+0x3581*0x1,'distribution':'lambert','rect':_0x5389f1,'seamPixels':_0x3cf471}),G['popGpuMark'+'er'](_0x53656d),G['popGpuMark'+'er'](_0x53656d),_0xb91b65;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x46b716,_0x413a8a)=>{const _0x4c9e6a=_0x46b716['split']('.')['map'](_0x1ea9d2=>parseInt(_0x1ea9d2,-0x25*-0x107+-0x6*-0x302+0x1*-0x3805)),_0x56d860=_0x413a8a['split']('.')['map'](_0x27051f=>parseInt(_0x27051f,0x23*0x89+-0x1*-0x1885+-0x2b36));return _0x4c9e6a[-0x9a*-0x18+0x1*0x533+-0x13a3]<_0x56d860[-0x1f*-0x67+0x1*0x1ab1+-0x272a]||_0x4c9e6a[-0xc83+-0xaaf+-0xb99*-0x2]===_0x56d860[0xd16+-0x1b3d+-0x1*-0xe27]&&_0x4c9e6a[-0x22ef+0x1*0x64b+-0x1*-0x1ca5]<_0x56d860[0x133+0x107*0x19+0x3d7*-0x7];},$C=_0x4b2e7a=>{const _0x1a2c77=_0x4b2e7a['APIVersion'];for(const _0x1c31d1 in _0x4b2e7a)if(_0x1c31d1!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x1c31d1)){const _0xa9b547=VC[_0x1c31d1];_0xa9b547&&(!_0x1a2c77||HC(_0x1a2c77,_0xa9b547))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x1c31d1+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0xa9b547+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x1a2c77||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x20eece=GC[_0x1c31d1];_0x20eece?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x1c31d1+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x20eece+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x1c31d1+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x11105b){_0x11105b['forEach'](_0x24e142=>{_0x24e142['endsWith']('\x0a')?this['code']+=_0x24e142:this['code']+=_0x24e142+'\x0a';});}['prepend'](..._0x530dd7){_0x530dd7['forEach'](_0xa76de4=>{_0xa76de4['endsWith']('\x0a')?this['code']=_0xa76de4+this['code']:this['code']=_0xa76de4+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class WC{constructor(_0x65bffa,_0x11bc14){if(this['device']=_0x65bffa,this['options']=_0x11bc14,this['attributes']={'vertex_position':He},_0x11bc14['userAttrib'+'utes']){for(const [_0x297ccc,_0x2b75d7]of Object['entries'](_0x11bc14['userAttrib'+'utes']))this['attributes'][_0x2b75d7]=_0x297ccc;}if(_0x11bc14['chunks']){const _0x3af5e0=_0x11bc14['chunks'];$C(_0x3af5e0),this['chunks']=Object['create'](X);for(const _0x5d03d9 in X)if(_0x3af5e0['hasOwnProp'+'erty'](_0x5d03d9)){const _0x485742=_0x3af5e0[_0x5d03d9];for(const _0x435bf2 in Td)Td['hasOwnProp'+'erty'](_0x435bf2)&&_0x485742['indexOf'](_0x435bf2)>=-0x5*-0x7b3+0xfbb+-0x363a&&(this['attributes'][_0x435bf2]=Td[_0x435bf2]);this['chunks'][_0x5d03d9]=_0x485742;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x11bc14['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x11bc14['lights']['length']>-0x187f+-0x1*0x1a06+0x3285||_0x11bc14['dirLightMa'+'pEnabled']||_0x11bc14['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x11bc14['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x11bc14['useSpecula'+'r']||_0x11bc14['ambientSH']||_0x11bc14['useHeights']||_0x11bc14['enableGGXS'+'pecular']||_0x11bc14['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x11bc14['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x11bc14['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x11bc14['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x11bc14['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x1cfde7,_0x46f4fd,_0x3f8842){return _0x1cfde7+=_0x46f4fd['baseVS'],(_0x3f8842['nineSliced'+'Mode']===nt||_0x3f8842['nineSliced'+'Mode']===Qe)&&(_0x1cfde7+=_0x46f4fd['baseNineSl'+'icedVS']),_0x1cfde7;}['_setMapTra'+'nsform'](_0xcc9ea5,_0x478c43,_0x32c008,_0x48f777){const _0x1f8b29=_0x32c008+_0x48f777*(-0x2*0xe75+-0x1fa1+0x3cef);if(!_0xcc9ea5[0x2aa*0xe+-0x103*0x2+-0x2343][_0x1f8b29]){const _0x54908a='texture_'+_0x478c43+('MapTransfo'+'rm');_0xcc9ea5[-0x6e1*-0x3+-0xfee+-0x4b5]+='uniform\x20ve'+'c3\x20'+_0x54908a+'0;\x0a',_0xcc9ea5[0x8*-0x116+0x3a1*0x1+0x50f]+='uniform\x20ve'+'c3\x20'+_0x54908a+'1;\x0a',_0xcc9ea5[0x7*0x1d3+0x1*0x22bc+-0x2f80]+='varying\x20ve'+'c2\x20vUV'+_0x48f777+'_'+_0x32c008+';\x0a',_0xcc9ea5[-0x1*0x59c+0xeaf+0x911*-0x1]+='\x20\x20\x20vUV'+_0x48f777+'_'+_0x32c008+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x48f777+',\x201),\x20'+_0x54908a+('0),\x20dot(ve'+'c3(uv')+_0x48f777+',\x201),\x20'+_0x54908a+'1));\x0a',_0xcc9ea5[0x524+0x5c*-0x2+-0x469][_0x1f8b29]=!(-0x439+-0x22db+0x2714);}return _0xcc9ea5;}['_fsGetBase'+'Code'](){const _0x199697=this['options'],_0x4c164a=this['chunks'];let _0x2e175a=this['chunks']['basePS'];return _0x199697['nineSliced'+'Mode']===nt?_0x2e175a+=_0x4c164a['baseNineSl'+'icedPS']:_0x199697['nineSliced'+'Mode']===Qe&&(_0x2e175a+=_0x4c164a['baseNineSl'+'icedTiledP'+'S']),_0x2e175a;}['_fsGetStar'+'tCode'](_0x37b0a8,_0x397079,_0x4ed425,_0x25236c){let _0x5d8227=_0x4ed425['startPS'];return _0x25236c['nineSliced'+'Mode']===nt?_0x5d8227+=_0x4ed425['startNineS'+'licedPS']:_0x25236c['nineSliced'+'Mode']===Qe&&(_0x5d8227+=_0x4ed425['startNineS'+'licedTiled'+'PS']),_0x5d8227;}['_getLightS'+'ourceShape'+'String'](_0x56f933){switch(_0x56f933){case Gb:return'Rect';case Hb:return'Disk';case $b:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x2373f6,_0x5f292c,_0x2d6468){const _0x414d72=this['device'],_0x4e799f=this['options'],_0x2914b4=this['chunks'];let _0x425514='',_0x43533c='',_0x12125c='';_0x425514=this['_vsAddBase'+'Code'](_0x425514,_0x2914b4,_0x4e799f),_0x43533c+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x12125c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x43533c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x425514+=_0x2914b4['transformV'+'S'],this['needsNorma'+'l']&&(_0x425514+=_0x2914b4['normalCore'+'VS'],_0x425514+=_0x2914b4['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x43533c+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x4e799f['reflection'+'Source']==='sphereMap'&&_0x414d72['fragmentUn'+'iformsCoun'+'t']<=-0x1f98+-0x1f33+0x3edb&&(_0x425514+=_0x2914b4['viewNormal'+'VS'],_0x43533c+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x4e799f['hasTangent'+'s']&&(_0x4e799f['useHeights']||_0x4e799f['useNormals']||_0x4e799f['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x425514+=_0x2914b4['tangentBin'+'ormalVS'],_0x43533c+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x43533c+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x4e799f['enableGGXS'+'pecular']&&(_0x43533c+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x50a6ee=-0x3*0xb61+-0x12e9*0x1+0x350e;for(let _0xa27e63=-0x1*0xe15+0x16c4+0x27*-0x39;_0xa27e63<_0x50a6ee;_0xa27e63++)_0x2373f6[_0xa27e63]&&(this['attributes']['vertex_tex'+'Coord'+_0xa27e63]='TEXCOORD'+_0xa27e63,_0x425514+=_0x2914b4['uv'+_0xa27e63+'VS'],_0x43533c+='\x20\x20\x20vec2\x20uv'+_0xa27e63+'\x20=\x20getUv'+_0xa27e63+'();\x0a'),_0x5f292c[_0xa27e63]&&(_0x43533c+='\x20\x20\x20vUv'+_0xa27e63+'\x20=\x20uv'+_0xa27e63+';\x0a');const _0x8f9a2b=[_0x425514,this['varyings'],_0x43533c,[]];_0x2d6468['forEach'](_0x505b86=>{this['_setMapTra'+'nsform'](_0x8f9a2b,_0x505b86['name'],_0x505b86['id'],_0x505b86['uv']);}),_0x425514=_0x8f9a2b[0x3*0x1f9+-0x152e*-0x1+-0x1b19],this['varyings']=_0x8f9a2b[0x138a+-0x5b9*-0x6+0x35df*-0x1],_0x43533c=_0x8f9a2b[-0x259*-0x2+0x1*0x1a59+-0x1f09],_0x4e799f['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x43533c+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x4e799f['useMsdf']&&_0x4e799f['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x43533c+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x425514+=_0x2914b4['msdfVS']),(_0x4e799f['useMorphPo'+'sition']||_0x4e799f['useMorphNo'+'rmal'])&&(_0x12125c+='#define\x20MO'+'RPHING\x0a',_0x4e799f['useMorphTe'+'xtureBased'+'Int']&&(_0x12125c+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x4e799f['useMorphPo'+'sition']&&(_0x12125c+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x4e799f['useMorphNo'+'rmal']&&(_0x12125c+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0x4e799f['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0x4e799f['batch']?_0x12125c+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x12125c+='#define\x20SK'+'IN\x0a')):_0x4e799f['useInstanc'+'ing']&&(_0x12125c+='#define\x20IN'+'STANCING\x0a'),_0x4e799f['screenSpac'+'e']&&(_0x12125c+='#define\x20SC'+'REENSPACE\x0a'),_0x4e799f['pixelSnap']&&(_0x12125c+='#define\x20PI'+'XELSNAP\x0a'),_0x425514+='\x0a',_0x425514+=_0x2914b4['startVS'],_0x425514+=_0x43533c,_0x425514+=_0x2914b4['endVS'],_0x425514+='}',Object['keys'](h_)['forEach'](_0x245458=>{_0x425514['indexOf'](_0x245458)>=0x1726+-0x2*-0xee6+-0x34f2&&(this['varyings']+='varying\x20'+h_[_0x245458]+'\x20'+_0x245458+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x245458['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x12125c+this['varyings']+_0x425514;}['_fsGetBegi'+'nCode'](){let _0x2cd999='';for(let _0x421e77=0x178d+0x9ed+0x10bd*-0x2;_0x421e77<this['defines']['length'];_0x421e77++)_0x2cd999+='#define\x20'+this['defines'][_0x421e77]+'\x0a';return _0x2cd999;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x4fa535=this['_fsGetBegi'+'nCode']();return _0x4fa535+=this['varyings'],_0x4fa535+=this['varyingDef'+'ines'],_0x4fa535+=this['frontendDe'+'cl'],_0x4fa535+=this['frontendCo'+'de'],_0x4fa535+=It['begin'](),_0x4fa535+=this['frontendFu'+'nc'],_0x4fa535+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x4fa535+=It['end'](),_0x4fa535;}['_fsGetPreP'+'assCode'](){let _0x583d4b=this['_fsGetBegi'+'nCode']();return _0x583d4b+=this['varyings'],_0x583d4b+=this['varyingDef'+'ines'],_0x583d4b+=this['chunks']['floatAsUin'+'tPS'],_0x583d4b+=this['frontendDe'+'cl'],_0x583d4b+=this['frontendCo'+'de'],_0x583d4b+=It['begin'](),_0x583d4b+=this['frontendFu'+'nc'],_0x583d4b+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x583d4b+=It['end'](),_0x583d4b;}['_fsGetShad'+'owPassCode'](){const _0x346c90=this['options'],_0x108a7d=this['chunks'],_0x1e37ac=this['varyings'],_0x298441=this['shaderPass'+'Info']['lightType'];let _0x163bbc=this['shaderPass'+'Info']['shadowType'];_0x298441!==oe&&_0x346c90['clusteredL'+'ightingEna'+'bled']&&(_0x163bbc===Hr||_0x163bbc===$r||_0x163bbc===Ts)&&(_0x163bbc=Dt);const _0x434e42=ir['get'](_0x163bbc);v['assert'](_0x434e42);const _0x489734=(_0x434e42==null?void(0x98b+0x2309+0xb25*-0x4):_0x434e42['vsm'])??!(-0x266f+-0x139f*-0x1+-0x12d1*-0x1),_0xf09b5e=(_0x434e42==null?void(0x3a5+-0x27d*0x1+-0x1*0x128):_0x434e42['pcss'])??!(-0x1089+0x2*-0x10d+0x2*0x952);let _0xb8aec2=this['_fsGetBegi'+'nCode']();_0x163bbc===$r?_0xb8aec2+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x163bbc===Hr&&(_0xb8aec2+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x298441!==oe&&(_0xb8aec2+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0xb8aec2+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0xb8aec2+=_0x1e37ac,_0xb8aec2+=this['varyingDef'+'ines'],_0xb8aec2+=this['frontendDe'+'cl'],_0xb8aec2+=this['frontendCo'+'de'],_0x163bbc===Ts&&(_0xb8aec2+=X['linearizeD'+'epthPS']),_0xb8aec2+=It['begin'](),_0xb8aec2+=this['frontendFu'+'nc'];const _0x34a550=_0x298441===oe||!_0x489734&&_0x298441===Re;let _0x5ee67a=!(-0x3*0x505+-0x22a9+0x31b9);return _0x34a550?(_0xb8aec2+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0xf09b5e&&_0x298441!==oe&&(_0xb8aec2+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0xb8aec2+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x5ee67a=!(0x1*0x451+0x986+-0xdd7)),_0x489734?_0xb8aec2+=_0x108a7d['storeEVSMP'+'S']:_0xf09b5e?_0xb8aec2+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x5ee67a&&(_0xb8aec2+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0xb8aec2+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0xb8aec2+=It['end'](),_0xb8aec2;}['_fsGetLitP'+'assCode'](){var _0x345345;const _0x4d973b=this['device'],_0x5a34d8=this['options'],_0x4b858d=this['chunks'],_0x3f71d6=new sr(),_0x45f3e9=new sr(),_0x12457f=new sr(),_0x353bcd=new sr();_0x5a34d8['opacityFad'+'esSpecular']===!(-0x1*0x1931+0x3f*-0x80+0x38b2)&&_0x3f71d6['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x5a34d8['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x5a34d8['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x5a34d8['fresnelMod'+'el']>0x69*-0x2+-0x1*0x4ff+0x5d1&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x5a34d8['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x5a34d8['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x50486b=[];let _0x2ada96=0xc63+0x89*0x43+-0x303e,_0x2af668=!(-0x1eb7*0x1+-0x11f7+0xb*0x46d),_0x1bdf4a=!(-0x11f7*0x2+0x2ab*-0x9+0x2*0x1df9),_0x5c8712=!(0x111d+0x10*0x1c4+-0x2d5c),_0x270c06=_0x5a34d8['lights']['some'](_0x3f3680=>_0x3f3680['_shape']&&_0x3f3680['_shape']!==yt);_0x5a34d8['clusteredL'+'ightingEna'+'bled']&&_0x5a34d8['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x270c06=!(0x18e+-0x40f*-0x6+0x4*-0x67a)),(_0x270c06||_0x5a34d8['clusteredL'+'ightingEna'+'bled'])&&(_0x3f71d6['append']('#define\x20AR'+'EA_LIGHTS'),_0x3f71d6['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x3f71d6['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x5494f0=0xac6+-0x1247*0x1+0x11*0x71;_0x5494f0<_0x5a34d8['lights']['length'];_0x5494f0++){const _0x2f0578=_0x5a34d8['lights'][_0x5494f0],_0xddcc64=_0x2f0578['_type'];if(_0x5a34d8['clusteredL'+'ightingEna'+'bled']&&_0xddcc64!==oe)continue;const _0x7922f4=_0x270c06&&_0x2f0578['_shape']?_0x2f0578['_shape']:yt;_0x3f71d6['append']('uniform\x20ve'+'c3\x20light'+_0x5494f0+'_color;'),_0x2f0578['_shadowTyp'+'e']===Ts&&_0x2f0578['castShadow'+'s']&&!_0x5a34d8['noShadow']&&(_0x3f71d6['append']('uniform\x20fl'+'oat\x20light'+_0x5494f0+('_shadowSea'+'rchArea;')),_0x3f71d6['append']('uniform\x20ve'+'c4\x20light'+_0x5494f0+('_cameraPar'+'ams;')),_0xddcc64===oe&&_0x3f71d6['append']('uniform\x20ve'+'c4\x20light'+_0x5494f0+('_softShado'+'wParams;'))),_0xddcc64===oe?_0x3f71d6['append']('uniform\x20ve'+'c3\x20light'+_0x5494f0+('_direction'+';')):(_0x3f71d6['append']('uniform\x20ve'+'c3\x20light'+_0x5494f0+'_position;'),_0x3f71d6['append']('uniform\x20fl'+'oat\x20light'+_0x5494f0+'_radius;'),_0xddcc64===Re&&(_0x3f71d6['append']('uniform\x20ve'+'c3\x20light'+_0x5494f0+('_direction'+';')),_0x3f71d6['append']('uniform\x20fl'+'oat\x20light'+_0x5494f0+('_innerCone'+'Angle;')),_0x3f71d6['append']('uniform\x20fl'+'oat\x20light'+_0x5494f0+('_outerCone'+'Angle;')))),_0x7922f4!==yt&&(_0xddcc64===oe&&_0x3f71d6['append']('uniform\x20ve'+'c3\x20light'+_0x5494f0+'_position;'),_0x3f71d6['append']('uniform\x20ve'+'c3\x20light'+_0x5494f0+('_halfWidth'+';')),_0x3f71d6['append']('uniform\x20ve'+'c3\x20light'+_0x5494f0+('_halfHeigh'+'t;'))),_0x2f0578['castShadow'+'s']&&!_0x5a34d8['noShadow']&&(_0x3f71d6['append']('uniform\x20ma'+'t4\x20light'+_0x5494f0+('_shadowMat'+'rix;')),_0x3f71d6['append']('uniform\x20fl'+'oat\x20light'+_0x5494f0+('_shadowInt'+'ensity;')),_0xddcc64===oe&&(_0x3f71d6['append']('uniform\x20ma'+'t4\x20light'+_0x5494f0+('_shadowMat'+'rixPalette'+'[4];')),_0x3f71d6['append']('uniform\x20ve'+'c4\x20light'+_0x5494f0+('_shadowCas'+'cadeDistan'+'ces;')),_0x3f71d6['append']('uniform\x20in'+'t\x20light'+_0x5494f0+('_shadowCas'+'cadeCount;')),_0x3f71d6['append']('uniform\x20fl'+'oat\x20light'+_0x5494f0+('_shadowCas'+'cadeBlend;'))),_0x3f71d6['append']('uniform\x20ve'+'c4\x20light'+_0x5494f0+('_shadowPar'+'ams;')),_0xddcc64===oe&&(_0x2af668=!(0x2150+-0x24f+-0x1*0x1f01)),_0xddcc64===Pe?_0x3f71d6['append']('uniform\x20'+(_0x2f0578['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x5494f0+('_shadowMap'+';')):_0x3f71d6['append']('uniform\x20'+(_0x2f0578['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x5494f0+('_shadowMap'+';')),_0x2ada96++,_0x50486b[_0x2f0578['_shadowTyp'+'e']]=!(-0x2070+-0x1db+0x224b),_0x2f0578['_isVsm']&&(_0x1bdf4a=!(-0x15f1+0x3*-0x355+0xe*0x248)),_0x2f0578['_shadowTyp'+'e']===Ts&&(_0x5c8712=!(-0x1a80+0xf93+0xaed))),_0x2f0578['_cookie']&&(_0x2f0578['_cookie']['_cubemap']?_0xddcc64===Pe&&(_0x3f71d6['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x5494f0+'_cookie;'),_0x3f71d6['append']('uniform\x20fl'+'oat\x20light'+_0x5494f0+('_cookieInt'+'ensity;')),(!_0x2f0578['castShadow'+'s']||_0x5a34d8['noShadow'])&&_0x3f71d6['append']('uniform\x20ma'+'t4\x20light'+_0x5494f0+('_shadowMat'+'rix;'))):_0xddcc64===Re&&(_0x3f71d6['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x5494f0+'_cookie;'),_0x3f71d6['append']('uniform\x20fl'+'oat\x20light'+_0x5494f0+('_cookieInt'+'ensity;')),(!_0x2f0578['castShadow'+'s']||_0x5a34d8['noShadow'])&&_0x3f71d6['append']('uniform\x20ma'+'t4\x20light'+_0x5494f0+('_shadowMat'+'rix;')),_0x2f0578['_cookieTra'+'nsform']&&(_0x3f71d6['append']('uniform\x20ve'+'c4\x20light'+_0x5494f0+('_cookieMat'+'rix;')),_0x3f71d6['append']('uniform\x20ve'+'c2\x20light'+_0x5494f0+('_cookieOff'+'set;')))));}const _0x32ca69=this['needsNorma'+'l']&&(_0x5a34d8['useNormals']||_0x5a34d8['useClearCo'+'atNormals']||_0x5a34d8['enableGGXS'+'pecular']&&!_0x5a34d8['useHeights']);if(_0x32ca69&&(_0x5a34d8['hasTangent'+'s']?_0x45f3e9['append'](_0x4b858d['TBNPS']):_0x5a34d8['useNormals']||_0x5a34d8['useClearCo'+'atNormals']?_0x45f3e9['append'](_0x4b858d['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x45f3e9['append'](_0x4b858d['TBNObjectS'+'pacePS']),_0x5a34d8['twoSidedLi'+'ghting']&&_0x45f3e9['append'](_0x4b858d['twoSidedLi'+'ghtingPS'])),_0x45f3e9['append'](_0x4b858d['sphericalP'+'S']),_0x45f3e9['append'](_0x4b858d['decodePS']),_0x45f3e9['append'](_0x4b858d['gammaPS']),_0x45f3e9['append'](_0x4b858d['tonemappin'+'gPS']),_0x45f3e9['append'](_0x4b858d['fogPS']),_0x45f3e9['append'](this['frontendCo'+'de']),_0x5a34d8['useCubeMap'+'Rotation']&&_0x3f71d6['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x45f3e9['append'](_0x4b858d['cubeMapRot'+'atePS']),_0x45f3e9['append'](_0x5a34d8['cubeMapPro'+'jection']>0xa4c*0x2+-0xdc0+0xdb*-0x8?_0x4b858d['cubeMapPro'+'jectBoxPS']:_0x4b858d['cubeMapPro'+'jectNonePS']),_0x45f3e9['append'](_0x5a34d8['skyboxInte'+'nsity']?_0x4b858d['envMultipl'+'yPS']:_0x4b858d['envConstPS'])),(this['lighting']&&_0x5a34d8['useSpecula'+'r']||this['reflection'+'s'])&&(_0x5a34d8['useMetalne'+'ss']&&_0x45f3e9['append'](_0x4b858d['metalnessM'+'odulatePS']),_0x5a34d8['fresnelMod'+'el']===Sp&&_0x45f3e9['append'](_0x4b858d['fresnelSch'+'lickPS']),_0x5a34d8['useIridesc'+'ence']&&_0x45f3e9['append'](_0x4b858d['iridescenc'+'eDiffracti'+'onPS'])),_0x5a34d8['useAo'])switch(_0x45f3e9['append'](_0x4b858d['aoDiffuseO'+'ccPS']),_0x5a34d8['occludeSpe'+'cular']){case Bo:_0x45f3e9['append'](_0x5a34d8['occludeSpe'+'cularFloat']?_0x4b858d['aoSpecOccS'+'implePS']:_0x4b858d['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x45f3e9['append'](_0x5a34d8['occludeSpe'+'cularFloat']?_0x4b858d['aoSpecOccP'+'S']:_0x4b858d['aoSpecOccC'+'onstPS']);break;}_0x5a34d8['reflection'+'Source']==='envAtlasHQ'?(_0x45f3e9['append'](_0x4b858d['envAtlasPS']),_0x45f3e9['append'](_0x4b858d['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x5a34d8['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5a34d8['reflection'+'Encoding'])))):_0x5a34d8['reflection'+'Source']==='envAtlas'?(_0x45f3e9['append'](_0x4b858d['envAtlasPS']),_0x45f3e9['append'](_0x4b858d['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5a34d8['reflection'+'Encoding'])))):_0x5a34d8['reflection'+'Source']==='cubeMap'?_0x45f3e9['append'](_0x4b858d['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5a34d8['reflection'+'Encoding']))):_0x5a34d8['reflection'+'Source']==='sphereMap'&&_0x45f3e9['append'](_0x4b858d['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5a34d8['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x5a34d8['useClearCo'+'at']&&_0x45f3e9['append'](_0x4b858d['reflection'+'CCPS']),_0x5a34d8['useSheen']&&_0x45f3e9['append'](_0x4b858d['reflection'+'SheenPS'])),_0x5a34d8['useRefract'+'ion']&&(_0x5a34d8['useDynamic'+'Refraction']?(_0x5a34d8['dispersion']&&(_0x3f71d6['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x3f71d6['append']('#define\x20DI'+'SPERSION\x0a')),_0x45f3e9['append'](_0x4b858d['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x45f3e9['append'](_0x4b858d['refraction'+'CubePS'])),_0x5a34d8['useSheen']&&_0x45f3e9['append'](_0x4b858d['lightSheen'+'PS']),_0x5a34d8['clusteredL'+'ightingEna'+'bled']&&(_0x45f3e9['append'](_0x4b858d['clusteredL'+'ightUtilsP'+'S']),_0x5a34d8['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x45f3e9['append'](_0x4b858d['clusteredL'+'ightCookie'+'sPS']),_0x5a34d8['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5a34d8['noShadow']&&(_0x50486b[Dt]=!(0xd8c+-0x1*0xe37+0xab),_0x50486b[lh]=!(0x1f9d+0x55*0x3e+-0x3433),_0x50486b[Ts]=!(-0x23d7*0x1+-0x1db1+-0x4188*-0x1))),(_0x2ada96>-0x42f+-0x2660+-0x1*-0x2a8f||_0x5a34d8['clusteredL'+'ightingEna'+'bled'])&&(_0x2af668&&_0x45f3e9['append'](_0x4b858d['shadowCasc'+'adesPS']),(_0x50486b[Bh]||_0x50486b[Dt]||_0x50486b[Nh]||_0x50486b[zh])&&_0x45f3e9['append'](_0x4b858d['shadowStan'+'dardPS']),(_0x50486b[lh]||_0x50486b[Iu])&&_0x45f3e9['append'](_0x4b858d['shadowStan'+'dardGL2PS']),_0x1bdf4a&&(_0x45f3e9['append'](_0x4b858d['shadowVSM_'+'commonPS']),_0x50486b[Hr]&&_0x45f3e9['append'](_0x4b858d['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x50486b[$r]&&_0x45f3e9['append'](_0x4d973b['extTexture'+'FloatLinea'+'r']?_0x4b858d['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x4b858d['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x5c8712&&(_0x45f3e9['append'](_0x4b858d['linearizeD'+'epthPS']),_0x45f3e9['append'](_0x4b858d['shadowPCSS'+'PS']),_0x45f3e9['append'](_0x4b858d['shadowSoft'+'PS']))),_0x5a34d8['enableGGXS'+'pecular']&&_0x45f3e9['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x45f3e9['append'](_0x4b858d['lightDiffu'+'seLambertP'+'S']),(_0x270c06||_0x5a34d8['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x45f3e9['append'](_0x4b858d['ltcPS']));let _0x3e5b50=!(-0x2d*0x4f+-0x169c+-0x49*-0x80);_0x5a34d8['useSpecula'+'r']&&(this['lighting']&&_0x45f3e9['append'](_0x5a34d8['enableGGXS'+'pecular']?_0x4b858d['lightSpecu'+'larAnisoGG'+'XPS']:_0x4b858d['lightSpecu'+'larBlinnPS']),!_0x5a34d8['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x5a34d8['diffuseMap'+'Enabled']&&(_0x3f71d6['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x3f71d6['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x3e5b50=!(-0x14e7*-0x1+0x15e3+0x2aca*-0x1))),_0x45f3e9['append'](_0x4b858d['combinePS']),_0x5a34d8['lightMapEn'+'abled']&&_0x45f3e9['append'](_0x5a34d8['useSpecula'+'r']&&_0x5a34d8['dirLightMa'+'pEnabled']?_0x4b858d['lightmapDi'+'rAddPS']:_0x4b858d['lightmapAd'+'dPS']);const _0x1feccc=!_0x5a34d8['lightMapEn'+'abled']||_0x5a34d8['lightMapWi'+'thoutAmbie'+'nt'];_0x1feccc&&(_0x5a34d8['ambientSou'+'rce']==='ambientSH'?_0x45f3e9['append'](_0x4b858d['ambientSHP'+'S']):_0x5a34d8['ambientSou'+'rce']==='envAtlas'?(_0x5a34d8['reflection'+'Source']!=='envAtlas'&&_0x5a34d8['reflection'+'Source']!=='envAtlasHQ'&&_0x45f3e9['append'](_0x4b858d['envAtlasPS']),_0x45f3e9['append'](_0x4b858d['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x5a34d8['ambientEnc'+'oding'])))):_0x45f3e9['append'](_0x4b858d['ambientCon'+'stantPS'])),_0x3e5b50||_0x3f71d6['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x5a34d8['useMsdf']&&(_0x5a34d8['msdfTextAt'+'tribute']||_0x3f71d6['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x45f3e9['append'](_0x4b858d['msdfPS'])),this['needsNorma'+'l']&&(_0x45f3e9['append'](_0x4b858d['viewDirPS']),_0x5a34d8['useSpecula'+'r']&&_0x45f3e9['append'](_0x5a34d8['enableGGXS'+'pecular']?_0x4b858d['reflDirAni'+'soPS']:_0x4b858d['reflDirPS']));let _0x20e069=!(0xa51*-0x1+-0x6ee*-0x5+0x9*-0x2b4),_0x3edbe8=!(-0x4e4+0x805*-0x4+-0x24f9*-0x1),_0x5984ff=!(0x157f+0x14e3+-0x2a61),_0x39da9d=!(-0x252c*0x1+-0x1743+0x8*0x78e),_0x1ea65e=!(-0x1c40+0x2*0xcf7+0x11*0x23),_0x1ce2bc;if(_0x5a34d8['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x39da9d=!(0x1f8f+0x30b+0x229a*-0x1),_0x20e069=!(-0x2554+0xdad+0x17a7),_0x3edbe8=!(0x1b7d+-0x121c+-0x961),_0x1ea65e=!(-0x2b*-0x4f+-0xdc7+0x82*0x1),_0x45f3e9['append'](_0x4b858d['floatUnpac'+'kingPS']),_0x5a34d8['lightMaskD'+'ynamic']&&_0x3f71d6['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x5a34d8['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x3f71d6['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x5a34d8['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5a34d8['noShadow']){const _0x2c40bd=(_0x345345=ir['get'](_0x5a34d8['clusteredL'+'ightingSha'+'dowType']))==null?void(-0x1d05+-0x1b2*0x9+0x2c47):_0x345345['name'];v['assert'](_0x2c40bd);const _0x494d55=_0x2c40bd['substring'](0x799*-0x1+-0xf3a+-0x16d3*-0x1,0x8*-0xf6+0x576+-0xe*-0x29);_0x3f71d6['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x3f71d6['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x494d55);}_0x5a34d8['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x3f71d6['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x3f71d6['append'](E0['getShaderD'+'efines']()),_0x5a34d8['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5a34d8['noShadow']&&_0x45f3e9['append'](_0x4b858d['clusteredL'+'ightShadow'+'sPS']),_0x45f3e9['append'](_0x4b858d['clusteredL'+'ightPS']);}if(_0x353bcd['append'](this['_fsGetStar'+'tCode'](_0x353bcd,_0x4d973b,_0x4b858d,_0x5a34d8)),this['needsNorma'+'l']&&(_0x353bcd['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x5a34d8['useHeights']||_0x5a34d8['useNormals'])&&_0x5a34d8['hasTangent'+'s']&&(_0x353bcd['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x353bcd['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x353bcd['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x32ca69&&(_0x353bcd['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x5a34d8['twoSidedLi'+'ghting']&&_0x353bcd['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x353bcd['append'](this['frontendFu'+'nc']),_0x5a34d8['ssao']&&(_0x45f3e9['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x12457f['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x5a34d8['useSpecula'+'r']&&_0x12457f['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x5a34d8['useClearCo'+'at']&&_0x12457f['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x5a34d8['useSpecula'+'r']||this['reflection'+'s'])&&(_0x5a34d8['useMetalne'+'ss']&&(_0x12457f['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x12457f['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x12457f['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x5a34d8['useIridesc'+'ence']&&_0x12457f['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x1feccc&&(_0x12457f['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x5a34d8['useSpecula'+'r']&&_0x12457f['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x5a34d8['separateAm'+'bient']&&_0x12457f['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x3e5b50||_0x12457f['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x5a34d8['useAo']&&!_0x5a34d8['occludeDir'+'ect']&&_0x12457f['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x5a34d8['lightMapEn'+'abled']&&_0x12457f['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x5a34d8['useClearCo'+'at']&&(_0x12457f['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x5a34d8['fresnelMod'+'el']>0x1*0xdf+0x10e*-0xf+0xef3?(_0x12457f['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x12457f['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x12457f['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x5a34d8['useSpecula'+'rityFactor']&&_0x12457f['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x5a34d8['useSheen']&&_0x12457f['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x12457f['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x5a34d8['fresnelMod'+'el']>0x1b25+0x1e2f*-0x1+0x30a*0x1?_0x12457f['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x12457f['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x5a34d8['useSpecula'+'rityFactor']&&_0x12457f['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x270c06&&(_0x12457f['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x5a34d8['useSpecula'+'r']&&_0x12457f['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x4ed527=-0x1*0x215+0x291*0x2+-0x30d;_0x4ed527<_0x5a34d8['lights']['length'];_0x4ed527++){const _0x2db19c=_0x5a34d8['lights'][_0x4ed527],_0x293172=_0x2db19c['_type'];if(_0x5a34d8['clusteredL'+'ightingEna'+'bled']&&_0x293172!==oe)continue;_0x1ce2bc=!(0x396+-0x2347*-0x1+-0x26dc);const _0x2080f0=_0x270c06&&_0x2db19c['_shape']?_0x2db19c['shape']:yt,_0x2432d3=_0x270c06&&_0x2db19c['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x2080f0):'';if(_0x2080f0!==yt&&_0x12457f['append']('\x20\x20\x20\x20calc'+_0x2432d3+('LightValue'+'s(light')+_0x4ed527+('_position,'+'\x20light')+_0x4ed527+('_halfWidth'+',\x20light')+_0x4ed527+('_halfHeigh'+'t);')),_0x293172===oe?(_0x12457f['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x4ed527+('_direction'+';')),_0x12457f['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x2db19c['_cookie']&&(_0x293172===Re&&!_0x2db19c['_cookie']['_cubemap']||_0x293172===Pe&&_0x2db19c['_cookie']['_cubemap'])&&(_0x1ea65e=!(0x1*-0xbc1+0xd25+-0x164),_0x1ce2bc=!(-0x3e5+0x2*0x1039+-0x1*0x1c8d)),_0x12457f['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x4ed527+('_position)'+';')),_0x20e069=!(0x50b*0x2+0xb3*0x13+-0x175f*0x1),_0x1ce2bc&&(_0x293172===Re?_0x12457f['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x2db19c['_cookieFal'+'loff']?'':'Clip')+(_0x2db19c['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x4ed527+('_cookie,\x20l'+'ight')+_0x4ed527+('_shadowMat'+'rix,\x20light')+_0x4ed527+('_cookieInt'+'ensity')+(_0x2db19c['_cookieTra'+'nsform']?',\x20light'+_0x4ed527+('_cookieMat'+'rix,\x20light')+_0x4ed527+('_cookieOff'+'set'):'')+').'+_0x2db19c['_cookieCha'+'nnel']+';'):_0x12457f['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x4ed527+('_cookie,\x20l'+'ight')+_0x4ed527+('_shadowMat'+'rix,\x20light')+_0x4ed527+('_cookieInt'+'ensity).')+_0x2db19c['_cookieCha'+'nnel']+';')),_0x2080f0===yt?_0x2db19c['_falloffMo'+'de']===wp?(_0x12457f['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x4ed527+('_radius,\x20d'+'LightDirW)'+';')),_0x3edbe8=!(-0x25fb+-0x2ef+0x28ea)):(_0x12457f['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x4ed527+('_radius,\x20d'+'LightDirW)'+';')),_0x5984ff=!(0x82e+0x1*0x815+0xb5*-0x17)):(_0x12457f['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x4ed527+('_radius,\x20d'+'LightDirW)'+';')),_0x5984ff=!(0x252d+0xcf2*0x3+-0x4c03)),_0x12457f['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x293172===Re&&(_0x1ce2bc&&!_0x2db19c['_cookieFal'+'loff']||(_0x12457f['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x4ed527+('_direction'+',\x20light')+_0x4ed527+('_innerCone'+'Angle,\x20lig'+'ht')+_0x4ed527+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x39da9d=!(-0x14*0x1a+-0x8ac+0xab4)))),_0x2080f0!==yt?_0x293172===oe?_0x12457f['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x12457f['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x2432d3+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x12457f['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x2db19c['castShadow'+'s']&&!_0x5a34d8['noShadow']){const _0x2e9fa6=ir['get'](_0x2db19c['_shadowTyp'+'e']);v['assert'](_0x2e9fa6);const _0xe4d77c=_0x2db19c['_shadowTyp'+'e']===Ts,_0x43fcb7=_0x2e9fa6==null?void(-0x52e+0x1d75+-0x1847):_0x2e9fa6['vsm'],_0x2bbcaf=_0x2e9fa6==null?void(-0xb4b+-0x17e2+0x232d):_0x2e9fa6['pcf'];let _0x20edeb=null,_0x3b9e2f;switch(_0x2db19c['_shadowTyp'+'e']){case Hr:_0x20edeb='VSM16',_0x3b9e2f='5.54';break;case $r:_0x20edeb='VSM32',_0x3b9e2f='15.0';break;case Bh:case Nh:_0x20edeb='PCF1x1';break;case lh:case Iu:_0x20edeb='PCF5x5';break;case Ts:_0x20edeb='PCSS';break;case Dt:case zh:default:_0x20edeb='PCF3x3';break;}if(_0x20edeb!==null){_0x2db19c['_normalOff'+'setBias']&&!_0x2db19c['_isVsm']&&_0x45f3e9['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x293172===oe&&_0x45f3e9['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x2bbcaf||_0xe4d77c||_0x4d973b['isWebGPU'])&&_0x45f3e9['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x293172===Pe&&_0x45f3e9['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0xbdb3e9=_0x4b858d['shadowSamp'+'leCoordPS'];_0x45f3e9['append'](_0xbdb3e9['replace']('$LIGHT',_0x4ed527)),_0x45f3e9['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x45f3e9['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x45f3e9['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x45f3e9['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x19c1b0='light'+_0x4ed527+('_shadowMat'+'rix');_0x293172===oe&&_0x2db19c['numCascade'+'s']>0x3c*0x7d+-0x1*-0x10be+-0x1*0x2e09&&(_0x12457f['append']('int\x20cascad'+'eIndex'+_0x4ed527+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x4ed527+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x4ed527+('_shadowCas'+'cadeCount)'+';')),_0x2db19c['cascadeBle'+'nd']>-0x2622+0x226a+0x3b8&&_0x12457f['append']('cascadeInd'+'ex'+_0x4ed527+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x4ed527+',\x20light'+_0x4ed527+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x4ed527+('_shadowCas'+'cadeCount,'+'\x20light')+_0x4ed527+('_shadowCas'+'cadeBlend)'+';')),_0x12457f['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x4ed527+'\x20=\x20light'+_0x4ed527+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x4ed527+'];'),_0x19c1b0='cascadeSha'+'dowMat'+_0x4ed527),_0x12457f['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x4ed527+'('+_0x19c1b0+',\x20light'+_0x4ed527+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x293172===oe&&_0x12457f['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x4ed527+('_shadowCas'+'cadeDistan'+'ces);'));let _0x58caed='SHADOWMAP_'+'PASS(light'+_0x4ed527+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x4ed527+('_shadowPar'+'ams');if(_0x43fcb7)_0x58caed=_0x58caed+',\x20'+_0x3b9e2f+(',\x20dLightDi'+'rW');else{if(_0xe4d77c){let _0x2bb4a0=_0x293172===oe?'light'+_0x4ed527+('_softShado'+'wParams'):'vec2(light'+_0x4ed527+('_shadowSea'+'rchArea)');_0x2080f0!==yt&&(_0x2bb4a0='vec2(lengt'+'h(light'+_0x4ed527+('_halfWidth'+'),\x20length('+'light')+_0x4ed527+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x4ed527+('_shadowSea'+'rchArea')),_0x58caed=_0x58caed+',\x20light'+_0x4ed527+('_cameraPar'+'ams,\x20')+_0x2bb4a0+(',\x20dLightDi'+'rW');}}_0x293172===Pe?(_0x20edeb='Point'+_0x20edeb,_0xe4d77c||(_0x58caed=_0x58caed+(',\x20dLightDi'+'rW'))):_0x293172===Re&&(_0x20edeb='Spot'+_0x20edeb),_0x12457f['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x4ed527+('\x20=\x20getShad'+'ow')+_0x20edeb+'('+_0x58caed+');'),_0x12457f['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x4ed527+',\x20light'+_0x4ed527+('_shadowInt'+'ensity);'));}}if(_0x2080f0!==yt?_0x5a34d8['useSpecula'+'r']?_0x12457f['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x4ed527+'_color'+(_0x1ce2bc?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x12457f['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x4ed527+'_color'+(_0x1ce2bc?'\x20*\x20dAtten3':'')+';'):_0x270c06&&_0x5a34d8['useSpecula'+'r']?_0x12457f['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x4ed527+'_color'+(_0x1ce2bc?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x12457f['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x4ed527+'_color'+(_0x1ce2bc?'\x20*\x20dAtten3':'')+';'),_0x5a34d8['useSpecula'+'r']&&_0x12457f['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x2db19c['affectSpec'+'ularity']){if(_0x2080f0!==yt)_0x5a34d8['useClearCo'+'at']&&_0x12457f['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x2432d3+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x4ed527+'_color'+(_0x1ce2bc?'\x20*\x20dAtten3':'')+';'),_0x5a34d8['useSpecula'+'r']&&_0x12457f['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x2432d3+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x4ed527+'_color'+(_0x1ce2bc?'\x20*\x20dAtten3':'')+';');else{let _0x898d34=!(-0x5a8+0x1aee+-0x3*0x717);_0x293172===oe&&_0x5a34d8['fresnelMod'+'el']>-0x4f1+0x1eca+-0x19d9&&(_0x898d34=!(-0xc*0x1a5+-0x4*0x389+-0x43c*-0x8)),_0x5a34d8['useClearCo'+'at']&&_0x12457f['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x4ed527+'_color'+(_0x1ce2bc?'\x20*\x20dAtten3':'')+(_0x898d34?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x5a34d8['useSheen']&&_0x12457f['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x4ed527+'_color'+(_0x1ce2bc?'\x20*\x20dAtten3'+';':';')),_0x5a34d8['useSpecula'+'r']&&_0x12457f['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x4ed527+'_color'+(_0x1ce2bc?'\x20*\x20dAtten3':'')+(_0x898d34?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x293172!==oe&&_0x12457f['append']('\x20\x20\x20\x20}');}_0x5a34d8['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x3edbe8=!(0x1*0x1b3+0x184d*-0x1+0x169a),_0x5984ff=!(-0x9c7+0xd75+-0x3ae),_0x20e069=!(-0x54*0x4f+0x10*0x7f+0x11fc*0x1),_0x12457f['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x270c06&&(_0x5a34d8['useClearCo'+'at']&&_0x12457f['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x5a34d8['useSpecula'+'r']&&_0x12457f['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x5a34d8['useRefract'+'ion']&&_0x12457f['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x5a34d8['useAo']&&(_0x5a34d8['occludeDir'+'ect']&&_0x12457f['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x5a34d8['occludeSpe'+'cular']===Bo||_0x5a34d8['occludeSpe'+'cular']===Lu)&&_0x12457f['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x5a34d8['useSpecula'+'rityFactor']&&_0x12457f['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x5a34d8['opacityFad'+'esSpecular']===!(-0x8*0x217+0x10f4+-0x3b)&&((_0x5a34d8['blendType']===Kt||_0x5a34d8['blendType']===hr)&&(_0x12457f['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x12457f['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x12457f['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x12457f['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x12457f['append'](_0x4b858d['endPS']),_0x5a34d8['blendType']===Kt||_0x5a34d8['blendType']===Hc||_0x5a34d8['alphaToCov'+'erage']?_0x12457f['append'](_0x4b858d['outputAlph'+'aPS']):_0x5a34d8['blendType']===hr?_0x12457f['append'](_0x4b858d['outputAlph'+'aPremulPS']):_0x12457f['append'](_0x4b858d['outputAlph'+'aOpaquePS']),_0x5a34d8['useMsdf']&&_0x12457f['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x12457f['append'](_0x4b858d['outputPS']),_0x12457f['append'](_0x4b858d['debugOutpu'+'tPS']),_0x20e069&&_0x45f3e9['prepend'](_0x4b858d['lightDirPo'+'intPS']),_0x3edbe8&&_0x45f3e9['prepend'](_0x4b858d['falloffLin'+'earPS']),_0x5984ff&&_0x45f3e9['prepend'](_0x4b858d['falloffInv'+'SquaredPS']),_0x39da9d&&_0x45f3e9['prepend'](_0x4b858d['spotPS']),_0x1ea65e&&!_0x5a34d8['clusteredL'+'ightingEna'+'bled']&&_0x45f3e9['prepend'](_0x4b858d['cookiePS']);let _0x560eb4='';const _0x5bfce1='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x12457f['code']+'\x0a}';_0x45f3e9['append'](_0x5bfce1),_0x353bcd['append'](_0x4b858d['debugProce'+'ssFrontend'+'PS']),_0x353bcd['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x353bcd['append'](It['end']());const _0x4bc20f=_0x3f71d6['code']+_0x45f3e9['code']+_0x353bcd['code'];return _0x4bc20f['includes']('dTBN')&&(_0x560eb4+='mat3\x20dTBN;'+'\x0a'),_0x4bc20f['includes']('dVertexNor'+'malW')&&(_0x560eb4+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x4bc20f['includes']('dTangentW')&&(_0x560eb4+='vec3\x20dTang'+'entW;\x0a'),_0x4bc20f['includes']('dBinormalW')&&(_0x560eb4+='vec3\x20dBino'+'rmalW;\x0a'),_0x4bc20f['includes']('dViewDirW')&&(_0x560eb4+='vec3\x20dView'+'DirW;\x0a'),_0x4bc20f['includes']('dReflDirW')&&(_0x560eb4+='vec3\x20dRefl'+'DirW;\x0a'),_0x4bc20f['includes']('dHalfDirW')&&(_0x560eb4+='vec3\x20dHalf'+'DirW;\x0a'),_0x4bc20f['includes']('ccReflDirW')&&(_0x560eb4+='vec3\x20ccRef'+'lDirW;\x0a'),_0x4bc20f['includes']('dLightDirN'+'ormW')&&(_0x560eb4+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x4bc20f['includes']('dLightDirW')&&(_0x560eb4+='vec3\x20dLigh'+'tDirW;\x0a'),_0x4bc20f['includes']('dLightPosW')&&(_0x560eb4+='vec3\x20dLigh'+'tPosW;\x0a'),_0x4bc20f['includes']('dShadowCoo'+'rd')&&(_0x560eb4+='vec3\x20dShad'+'owCoord;\x0a'),_0x4bc20f['includes']('dReflectio'+'n')&&(_0x560eb4+='vec4\x20dRefl'+'ection;\x0a'),_0x4bc20f['includes']('dDiffuseLi'+'ght')&&(_0x560eb4+='vec3\x20dDiff'+'useLight;\x0a'),_0x4bc20f['includes']('dSpecularL'+'ight')&&(_0x560eb4+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x4bc20f['includes']('dAtten')&&(_0x560eb4+='float\x20dAtt'+'en;\x0a'),_0x4bc20f['includes']('dAttenD')&&(_0x560eb4+='float\x20dAtt'+'enD;\x0a'),_0x4bc20f['includes']('dAtten3')&&(_0x560eb4+='vec3\x20dAtte'+'n3;\x0a'),_0x4bc20f['includes']('dMsdf')&&(_0x560eb4+='vec4\x20dMsdf'+';\x0a'),_0x4bc20f['includes']('ccFresnel')&&(_0x560eb4+='float\x20ccFr'+'esnel;\x0a'),_0x4bc20f['includes']('ccReflecti'+'on')&&(_0x560eb4+='vec3\x20ccRef'+'lection;\x0a'),_0x4bc20f['includes']('ccSpecular'+'Light')&&(_0x560eb4+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x4bc20f['includes']('ccSpecular'+'ityNoFres')&&(_0x560eb4+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x4bc20f['includes']('sSpecularL'+'ight')&&(_0x560eb4+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x4bc20f['includes']('sReflectio'+'n')&&(_0x560eb4+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x560eb4+this['frontendDe'+'cl']+_0x4bc20f;}['generateFr'+'agmentShad'+'er'](_0x30dc72,_0x20ee1c,_0x5aeec2,_0x123086){const _0x260b78=this['options'];this['frontendDe'+'cl']=_0x30dc72,this['frontendCo'+'de']=_0x20ee1c,this['frontendFu'+'nc']=_0x5aeec2,this['lightingUv']=_0x123086,_0x260b78['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x260b78['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x260b78['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x260b78['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x260b78['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(0xfe5+-0x2d5+-0xd0f)),c(this,'chunks',{}),c(this,'pass',-0x37e+0x8c4+-0x546),c(this,'alphaTest',!(0x25d1+-0x1*0xbee+-0x19e2)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(0x200d+-0x36*-0xa7+0x21a3*-0x2)),c(this,'screenSpac'+'e',!(-0x1*-0x23c0+-0xb*-0xa1+-0x2aaa)),c(this,'skin',!(-0x5f2*0x1+-0x2239*0x1+0x282c*0x1)),c(this,'batch',!(0x339+-0x1c4e+0x1916)),c(this,'useInstanc'+'ing',!(0x490+-0x4*0x363+0x27*0x3b)),c(this,'useMorphPo'+'sition',!(-0x41*0x95+0x1*-0x25d9+0x7d*0x9b)),c(this,'useMorphNo'+'rmal',!(0x1dbf+0x1096+0xa*-0x4a2)),c(this,'useMorphTe'+'xtureBased'+'Int',!(-0x26ce+-0x36d+0x2a3c)),c(this,'nineSliced'+'Mode',0xbc+0xb*-0x272+0x1a2a),c(this,'clusteredL'+'ightingEna'+'bled',!(0xd59+-0x2571+0x8*0x303)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(-0x11*0x49+-0x1471+0x1*0x194b)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(0x73*0x1+0xa02*0x1+-0x1*0xa74)),c(this,'clusteredL'+'ightingSha'+'dowType',-0x1cfc+-0xf92+0x1*0x2c8e),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0xaf1+-0x20f6+0xb03*0x2)),c(this,'vertexColo'+'rs',!(0xab3+0x6f0+-0x11a2)),c(this,'lightMapEn'+'abled',!(0x4*-0x4b3+-0x1*0x2181+0x344e)),c(this,'dirLightMa'+'pEnabled',!(0x1a2*0x1+-0x1acb+-0x192a*-0x1)),c(this,'useHeights',!(-0x30e*-0x5+0x3e1+-0x1326)),c(this,'useNormals',!(0xe5d+0x86*0x46+-0x3300)),c(this,'useClearCo'+'atNormals',!(0x213b+-0x885*-0x3+-0x3ac9)),c(this,'useAo',!(0x1c95+0xe2b*0x2+-0x38ea)),c(this,'diffuseMap'+'Enabled',!(-0x1566+-0x4*0x18a+0x11*0x19f)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(-0xc5*-0x4+-0x12*-0x13b+0x1*-0x1939)),c(this,'ambientSH',!(-0x95+-0x1fa7+0x203d)),c(this,'ssao',!(-0x24f4+0x1e20+0x6d5)),c(this,'twoSidedLi'+'ghting',!(0x1*-0x1398+0xa5c+0x93d)),c(this,'occludeDir'+'ect',!(0x136d*0x1+0x12f*0x1+-0x19*0xd3)),c(this,'occludeSpe'+'cular',0x19*0x2e+0x25b5+-0x2a33),c(this,'occludeSpe'+'cularFloat',!(-0x1e8d+0x1b95+0x1*0x2f9)),c(this,'useMsdf',!(0x2*-0x303+0x59*0x46+-0x124f)),c(this,'msdfTextAt'+'tribute',!(-0xf33*0x1+-0x5*0x1b3+0x17b3*0x1)),c(this,'alphaToCov'+'erage',!(0x1014*-0x1+0x1de1+0x2*-0x6e6)),c(this,'opacityFad'+'esSpecular',!(-0x46*0x62+-0x15*0x125+0x879*0x6)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',0x1a48+0x1232+-0x2c7a),c(this,'useSpecula'+'r',!(0x25bb+-0x15e4+-0xfd6)),c(this,'useSpecula'+'rityFactor',!(-0x25f2+0x82b+0x1dc8)),c(this,'enableGGXS'+'pecular',!(-0xcaf+-0x126a+0x1f1a)),c(this,'fresnelMod'+'el',0x1148+-0x1cc+-0xf7c*0x1),c(this,'useRefract'+'ion',!(0x9b*-0x16+-0x22ea+-0x1*-0x303d)),c(this,'useClearCo'+'at',!(-0x760*-0x2+0xb3*-0x2b+-0xf52*-0x1)),c(this,'useSheen',!(-0xc*-0x284+0x133+-0x1f62)),c(this,'useIridesc'+'ence',!(-0x2671+0x3f6+-0x113e*-0x2)),c(this,'useMetalne'+'ss',!(-0x233*-0x1+0x4*0x437+-0x3*0x65a)),c(this,'useDynamic'+'Refraction',!(0x9e9*-0x1+-0x3*0xce3+0x3093)),c(this,'dispersion',!(-0x2*0x12ad+-0x1*-0x83+0x24d8)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(-0x2b*-0x13+0x2*0x97d+0x162a*-0x1)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',-0xb9*-0x1f+0x13e4*0x1+-0x2a4a),c(this,'useCubeMap'+'Rotation',!(0x25*-0x3+0x59e*-0x3+0x8a5*0x2)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x1*0x22ff+0x4f+0x50b*-0x7)),c(this,'lights',[]),c(this,'noShadow',!(0x5d9+0xc9a*0x1+-0x1272)),c(this,'lightMaskD'+'ynamic',0x16e4+-0x1685+0x5*-0x13),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(-0x1f83+-0x13b6+-0x9e*-0x53));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(0x112*0x2+-0x2337+0x2114)),c(this,'specularTi'+'nt',!(0x18cb+-0x1*-0x723+-0x1fed)),c(this,'metalnessT'+'int',!(-0x1e0e+-0x1dd7*0x1+0x3be6)),c(this,'glossTint',!(-0x10b9+-0x2*-0x530+0x65a)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(-0x871+-0x81d+0x108f)),c(this,'glossInver'+'t',!(0x25f1+-0x1e0a+-0x7e6)),c(this,'sheenGloss'+'Invert',!(-0x2a1+-0xec5+0x1167)),c(this,'clearCoatG'+'lossInvert',!(0x19d0+-0x1*-0x159c+-0x2f6b)),c(this,'useAO',!(0xa63+-0x6df*-0x2+-0x1820)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x1510ff){return'lit'+Object['keys'](_0x1510ff)['sort']()['map'](_0x32793f=>_0x32793f==='chunks'?Uu['generateCh'+'unksKey'](_0x1510ff):_0x32793f==='lights'?Uu['generateLi'+'ghtsKey'](_0x1510ff):_0x32793f+_0x1510ff[_0x32793f])['join']('\x0a');},'generateLightsKey'(_0x335539){return'lights:'+_0x335539['lights']['map'](_0x3dd552=>!_0x335539['clusteredL'+'ightingEna'+'bled']||_0x3dd552['_type']===oe?_0x3dd552['key']+',':'')['join']('');},'generateChunksKey'(_0x98b22b){return'chunks:\x0a'+Object['keys'](_0x98b22b['chunks']??{})['sort']()['map'](_0xe5165e=>_0xe5165e+_0x98b22b['chunks'][_0xe5165e])['join']('');}},fa=[],Ad=_0x3f7e91=>Object['keys'](_0x3f7e91)['filter'](_0x9da5d5=>_0x9da5d5!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x7e546b){let _0x4535cf;return _0x7e546b===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x7e546b)),_0x4535cf=this['propsMin']):_0x7e546b===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x7e546b)),_0x4535cf=this['props']):_0x4535cf=Ad(_0x7e546b),'standard:\x0a'+It['definesHas'+'h'](_0x7e546b['defines'])+'\x0a'+_0x4535cf['map'](_0x197531=>_0x197531+_0x7e546b[_0x197531])['join']('\x0a')+Uu['generateKe'+'y'](_0x7e546b['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0xb200cb,_0x25edf8,_0x3f3b29){const _0x3bdf3d=_0x3f3b29[_0xb200cb],_0x118e81=_0x3f3b29[_0x25edf8],_0x24eaa8=_0x3f3b29['litOptions']['pass']===gn;let _0x36fef6;return _0x24eaa8&&_0x3f3b29['litOptions']['nineSliced'+'Mode']===nt||_0x24eaa8&&_0x3f3b29['litOptions']['nineSliced'+'Mode']===Qe?_0x36fef6='nineSliced'+'Uv':(_0x3bdf3d===-0x6b*-0x56+0x2033*-0x1+0x89*-0x7?_0x36fef6='vUv'+_0x118e81:_0x36fef6='vUV'+_0x118e81+'_'+_0x3bdf3d,_0x3f3b29['heightMap']&&_0xb200cb!=='heightMapT'+'ransform'&&(_0x36fef6+='\x20+\x20dUvOffs'+'et')),_0x36fef6;}['_addMapDef'](_0xcccd91,_0x21157d){return _0x21157d?'#define\x20'+_0xcccd91+'\x0a':'#undef\x20'+_0xcccd91+'\x0a';}['_addMapDef'+'s'](_0x4e227f,_0x5a61b8,_0x35d921,_0x587ed2,_0x3f1eba){return this['_addMapDef']('MAPFLOAT',_0x4e227f)+this['_addMapDef']('MAPCOLOR',_0x5a61b8)+this['_addMapDef']('MAPVERTEX',_0x35d921)+this['_addMapDef']('MAPTEXTURE',_0x587ed2)+this['_addMapDef']('MAPINVERT',_0x3f1eba);}['_addMap'](_0x246984,_0x2489c7,_0x12e618,_0xf80c3e,_0x39547b,_0x31ca91=null){const _0x13179e=_0x246984+'Map',_0x2193af=_0x13179e+'Uv',_0x5935c1=_0x13179e+'Identifier',_0x4d4318=_0x13179e+'Transform',_0x1a7e46=_0x13179e+'Channel',_0x2f6c11=_0x246984+('VertexColo'+'rChannel'),_0x48d7f4=_0x246984+'Tint',_0x10a782=_0x246984+('VertexColo'+'r'),_0x5a21bc=_0x246984+'Mode',_0xa0d34b=_0x246984+'Invert',_0x30d1d4=_0x12e618[_0x48d7f4],_0x461367=_0x12e618[_0x10a782],_0x30a7cc=_0x12e618[_0x13179e],_0x186a18=_0x12e618[_0x5935c1],_0x3c9a66=_0x12e618[_0x5a21bc];let _0x47b126=_0xf80c3e[_0x2489c7];if(_0x30a7cc){const _0x3a6ccb=this['_getUvSour'+'ceExpressi'+'on'](_0x4d4318,_0x2193af,_0x12e618);if(_0x47b126=_0x47b126['replace'](/\$UV/g,_0x3a6ccb)['replace'](/\$CH/g,_0x12e618[_0x1a7e46]),_0x39547b&&_0x47b126['search'](/\$SAMPLER/g)!==-(-0xc62+0xf34+-0x2d1)){let _0xd33bb9='texture_'+_0x13179e;const _0x17ccac=_0x39547b[_0x186a18];_0x17ccac?_0xd33bb9=_0x17ccac:_0x39547b[_0x186a18]=_0xd33bb9,_0x47b126=_0x47b126['replace'](/\$SAMPLER/g,_0xd33bb9);}if(_0x31ca91&&(_0x12e618[_0x1a7e46]==='aaa'?_0x47b126=_0x47b126['replace'](/\$DECODE/g,'passThroug'+'h'):_0x47b126=_0x47b126['replace'](/\$DECODE/g,Es['decodeFunc'](_0x31ca91)),_0x47b126['indexOf']('$texture2D'+'SAMPLE'))){const _0x130a55={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x47b126=_0x47b126['replace'](/\$texture2DSAMPLE/g,_0x130a55[_0x31ca91]||'texture2D');}}_0x461367&&(_0x47b126=_0x47b126['replace'](/\$VC/g,_0x12e618[_0x2f6c11])),_0x3c9a66&&(_0x47b126=_0x47b126['replace'](/\$DETAILMODE/g,_0x3c9a66));const _0x16ba83=!!(_0x30d1d4&-0x1a*-0x3c+0x188*0x14+-0xd*0x2d3),_0x96a253=!!(_0x30d1d4&0x2*-0x10d1+0x1240+0xf64),_0x282d01=!!_0x12e618[_0xa0d34b];return _0x47b126=this['_addMapDef'+'s'](_0x16ba83,_0x96a253,_0x461367,_0x30a7cc,_0x282d01)+_0x47b126,_0x47b126['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x205915,_0x24e88a,_0x1fcb76){if(_0x1fcb76[_0x205915]>0xb0b*0x3+0x232b+-0x444c){if(_0x1fcb76[_0x205915]<_0x24e88a['length'])return _0x24e88a['substring'](-0x11d1+-0x2cc*-0x5+0x147*0x3,_0x1fcb76[_0x205915]);if(_0x1fcb76[_0x205915]>_0x24e88a['length']){let _0x4c4829=_0x24e88a;const _0x5a9e80=_0x4c4829['charAt'](_0x4c4829['length']-(-0x2ab*-0xd+0x3b*0x97+-0x457b)),_0x520107=_0x1fcb76[_0x205915]-_0x4c4829['length'];for(let _0x10e3d9=0xe*-0x2b9+0x25*-0x9c+0x3caa;_0x10e3d9<_0x520107;_0x10e3d9++)_0x4c4829+=_0x5a9e80;return _0x4c4829;}return _0x24e88a;}}['createShad'+'erDefiniti'+'on'](_0x3653f9,_0x15f2cb){const _0xfffcb4=Ks['get'](_0x3653f9)['getByIndex'](_0x15f2cb['litOptions']['pass'])['isForward'],_0x1853c6=new WC(_0x3653f9,_0x15f2cb['litOptions']),_0x2c7005=[],_0x2580d1=[],_0x50d227=[],_0x356d0d=-0x3b1+-0xcc3+0x1076,_0x5cc117={};for(const _0x16e3ce in fa){const _0x29818f=_0x16e3ce+'Map';if(_0x15f2cb[_0x16e3ce+('VertexColo'+'r')]){const _0x7d3671=_0x16e3ce+('VertexColo'+'rChannel');_0x15f2cb[_0x7d3671]=this['_correctCh'+'annel'](_0x16e3ce,_0x15f2cb[_0x7d3671],fa);}if(_0x15f2cb[_0x29818f]){const _0x5734fe=_0x29818f+'Channel',_0x585d72=_0x29818f+'Transform',_0x516cd1=_0x29818f+'Uv';_0x15f2cb[_0x516cd1]=Math['min'](_0x15f2cb[_0x516cd1],_0x356d0d-(0x2283+0x1c27*0x1+-0x3ea9)),_0x15f2cb[_0x5734fe]=this['_correctCh'+'annel'](_0x16e3ce,_0x15f2cb[_0x5734fe],fa);const _0x270a8a=_0x15f2cb[_0x516cd1];_0x2c7005[_0x270a8a]=!(-0x1c10+-0x1341+-0x2f51*-0x1),_0x2580d1[_0x270a8a]=_0x2580d1[_0x270a8a]||_0x15f2cb[_0x29818f]&&!_0x15f2cb[_0x585d72],_0x15f2cb[_0x585d72]&&_0x50d227['push']({'name':_0x16e3ce,'id':_0x15f2cb[_0x585d72],'uv':_0x15f2cb[_0x516cd1]});}}_0x15f2cb['forceUv1']&&(_0x2c7005[-0x265*0x6+0x612+0x19*0x55]=!(-0x1957*-0x1+-0x19c7+0x70),_0x2580d1[-0x25ce+0x83a+0x1d95]=_0x2580d1[-0x7*0x419+0x1734+0x27*0x24]!==void(0x1ac8+-0x53*0x69+0x743)?_0x2580d1[-0x213+0x1*0x259+0x17*-0x3]:!(0x1*-0xa58+0x11e9+-0x791)),_0x1853c6['generateVe'+'rtexShader'](_0x2c7005,_0x2580d1,_0x50d227),_0x15f2cb['litOptions']['fresnelMod'+'el']=_0x15f2cb['litOptions']['fresnelMod'+'el']===0x7*-0x51+0xb9*-0x32+-0x2659*-0x1?Sp:_0x15f2cb['litOptions']['fresnelMod'+'el'];const _0x4ef7ae=new sr(),_0x5d83ac=new sr(),_0x45f8ba=new sr(),_0x34502f=new sr();let _0x5f34b='';if(_0x15f2cb['litOptions']['nineSliced'+'Mode']===Qe?_0x4ef7ae['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x4ef7ae['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0xfffcb4){if(_0x15f2cb['heightMap']&&(_0x4ef7ae['append']('vec2\x20dUvOf'+'fset;'),_0x5d83ac['append'](this['_addMap']('height','parallaxPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getParalla'+'x();')),_0x15f2cb['litOptions']['blendType']!==is||_0x15f2cb['litOptions']['alphaTest']||_0x15f2cb['litOptions']['alphaToCov'+'erage']||_0x15f2cb['litOptions']['opacityDit'+'her']!==Rs){_0x4ef7ae['append']('float\x20dAlp'+'ha;'),_0x5d83ac['append'](this['_addMap']('opacity','opacityPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getOpacity'+'();'),_0x34502f['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x15f2cb['litOptions']['alphaTest']&&(_0x5d83ac['append'](_0x1853c6['chunks']['alphaTestP'+'S']),_0x45f8ba['append']('alphaTest('+'dAlpha);'));const _0x4aa30f=_0x15f2cb['litOptions']['opacityDit'+'her'];_0x4aa30f!==Rs&&(_0x4aa30f===Nm&&_0x4ef7ae['append'](_0x1853c6['chunks']['bayerPS']),_0x4ef7ae['append']('#define\x20DI'+'THER_'+_0x4aa30f['toUpperCas'+'e']()+'\x0a'),_0x4ef7ae['append'](_0x1853c6['chunks']['opacityDit'+'herPS']),_0x45f8ba['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x4ef7ae['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x1853c6['needsNorma'+'l']){if((_0x15f2cb['normalMap']||_0x15f2cb['clearCoatN'+'ormalMap'])&&(_0x5d83ac['append'](_0x15f2cb['packedNorm'+'al']?_0x1853c6['chunks']['normalXYPS']:_0x1853c6['chunks']['normalXYZP'+'S']),!_0x15f2cb['litOptions']['hasTangent'+'s'])){const _0x21f753=_0x15f2cb['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x5f34b=this['_getUvSour'+'ceExpressi'+'on'](_0x21f753+'Transform',_0x21f753+'Uv',_0x15f2cb);}_0x4ef7ae['append']('vec3\x20dNorm'+'alW;'),_0x5d83ac['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x5d83ac['append'](this['_addMap']('normal','normalMapP'+'S',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getNormal('+');'),_0x34502f['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x1853c6['needsScene'+'Color']&&_0x4ef7ae['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x1853c6['needsScree'+'nSize']&&_0x4ef7ae['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x1853c6['needsTrans'+'forms']&&(_0x4ef7ae['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x4ef7ae['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x15f2cb['diffuseDet'+'ail']||_0x15f2cb['aoDetail'])&&_0x5d83ac['append'](_0x1853c6['chunks']['detailMode'+'sPS']),_0x4ef7ae['append']('vec3\x20dAlbe'+'do;'),_0x15f2cb['diffuseDet'+'ail']&&_0x5d83ac['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117,_0x15f2cb['diffuseDet'+'ailEncodin'+'g'])),_0x5d83ac['append'](this['_addMap']('diffuse','diffusePS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117,_0x15f2cb['diffuseEnc'+'oding'])),_0x45f8ba['append']('getAlbedo('+');'),_0x34502f['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x15f2cb['litOptions']['useRefract'+'ion']&&(_0x4ef7ae['append']('float\x20dTra'+'nsmission;'),_0x5d83ac['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getRefract'+'ion();'),_0x34502f['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x4ef7ae['append']('float\x20dThi'+'ckness;'),_0x5d83ac['append'](this['_addMap']('thickness','thicknessP'+'S',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getThickne'+'ss();'),_0x34502f['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x15f2cb['litOptions']['dispersion']&&_0x34502f['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x15f2cb['litOptions']['useIridesc'+'ence']&&(_0x4ef7ae['append']('float\x20dIri'+'descence;'),_0x5d83ac['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getIridesc'+'ence();'),_0x34502f['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x4ef7ae['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x5d83ac['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getIridesc'+'enceThickn'+'ess();'),_0x34502f['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x1853c6['lighting']&&_0x15f2cb['litOptions']['useSpecula'+'r']||_0x1853c6['reflection'+'s']?(_0x4ef7ae['append']('vec3\x20dSpec'+'ularity;'),_0x4ef7ae['append']('float\x20dGlo'+'ssiness;'),_0x15f2cb['litOptions']['useSheen']&&(_0x4ef7ae['append']('vec3\x20sSpec'+'ularity;'),_0x5d83ac['append'](this['_addMap']('sheen','sheenPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117,_0x15f2cb['sheenEncod'+'ing'])),_0x45f8ba['append']('getSheen()'+';'),_0x34502f['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x4ef7ae['append']('float\x20sGlo'+'ssiness;'),_0x5d83ac['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getSheenGl'+'ossiness()'+';'),_0x34502f['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x15f2cb['litOptions']['useMetalne'+'ss']&&(_0x4ef7ae['append']('float\x20dMet'+'alness;'),_0x5d83ac['append'](this['_addMap']('metalness','metalnessP'+'S',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getMetalne'+'ss();'),_0x34502f['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x4ef7ae['append']('float\x20dIor'+';'),_0x5d83ac['append'](this['_addMap']('ior','iorPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getIor();'),_0x34502f['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x15f2cb['litOptions']['useSpecula'+'rityFactor']&&(_0x4ef7ae['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x5d83ac['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getSpecula'+'rityFactor'+'();'),_0x34502f['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x15f2cb['useSpecula'+'rColor']?_0x5d83ac['append'](this['_addMap']('specular','specularPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117,_0x15f2cb['specularEn'+'coding'])):_0x5d83ac['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x5d83ac['append'](this['_addMap']('gloss','glossPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getGlossin'+'ess();'),_0x45f8ba['append']('getSpecula'+'rity();'),_0x34502f['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x34502f['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x4ef7ae['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x4ef7ae['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x15f2cb['aoDetail']&&_0x5d83ac['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),(_0x15f2cb['aoMap']||_0x15f2cb['aoVertexCo'+'lor']||_0x15f2cb['useAO'])&&(_0x4ef7ae['append']('float\x20dAo;'),_0x5d83ac['append'](this['_addMap']('ao','aoPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getAO();'),_0x34502f['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x4ef7ae['append']('vec3\x20dEmis'+'sion;'),_0x5d83ac['append'](this['_addMap']('emissive','emissivePS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117,_0x15f2cb['emissiveEn'+'coding'])),_0x45f8ba['append']('getEmissio'+'n();'),_0x34502f['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x15f2cb['litOptions']['useClearCo'+'at']&&(_0x4ef7ae['append']('float\x20ccSp'+'ecularity;'),_0x4ef7ae['append']('float\x20ccGl'+'ossiness;'),_0x4ef7ae['append']('vec3\x20ccNor'+'malW;'),_0x5d83ac['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x5d83ac['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x5d83ac['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getClearCo'+'at();'),_0x45f8ba['append']('getClearCo'+'atGlossine'+'ss();'),_0x45f8ba['append']('getClearCo'+'atNormal()'+';'),_0x34502f['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x34502f['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x34502f['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x15f2cb['lightMap']||_0x15f2cb['lightVerte'+'xColor']){const _0xabcb77=_0x15f2cb['dirLightMa'+'p']&&_0x15f2cb['litOptions']['useSpecula'+'r'],_0x31d376=_0xabcb77?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x4ef7ae['append']('vec3\x20dLigh'+'tmap;'),_0xabcb77&&_0x4ef7ae['append']('vec3\x20dLigh'+'tmapDir;'),_0x5d83ac['append'](this['_addMap']('light',_0x31d376,_0x15f2cb,_0x1853c6['chunks'],_0x5cc117,_0x15f2cb['lightMapEn'+'coding'])),_0x45f8ba['append']('getLightMa'+'p();'),_0x34502f['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0xabcb77&&_0x34502f['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x5d83ac['code']['indexOf']('texture2DS'+'RGB')===-(-0x1*0xb0b+0xd5*-0x5+0xf35)&&_0x5d83ac['code']['indexOf']('texture2DR'+'GBM')===-(-0x1cd6+-0x1*0x225a+0x3f31)&&_0x5d83ac['code']['indexOf']('texture2DR'+'GBE')===-(-0x4c7+0x1ecf*0x1+-0x8ad*0x3),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0xdd2341=_0x15f2cb['litOptions']['opacitySha'+'dowDither'];(_0x15f2cb['litOptions']['alphaTest']||_0xdd2341)&&(_0x4ef7ae['append']('float\x20dAlp'+'ha;'),_0x5d83ac['append'](this['_addMap']('opacity','opacityPS',_0x15f2cb,_0x1853c6['chunks'],_0x5cc117)),_0x45f8ba['append']('getOpacity'+'();'),_0x34502f['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x15f2cb['litOptions']['alphaTest']&&(_0x5d83ac['append'](_0x1853c6['chunks']['alphaTestP'+'S']),_0x45f8ba['append']('alphaTest('+'dAlpha);')),_0xdd2341!==Rs&&(_0xdd2341===Nm&&_0x4ef7ae['append'](_0x1853c6['chunks']['bayerPS']),_0x4ef7ae['append']('#define\x20DI'+'THER_'+_0xdd2341['toUpperCas'+'e']()+'\x0a'),_0x4ef7ae['append'](_0x1853c6['chunks']['opacityDit'+'herPS']),_0x45f8ba['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x4ef7ae['append'](_0x1853c6['chunks']['litShaderA'+'rgsPS']),_0x5d83ac['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x45f8ba['code']+'\x0a'+_0x34502f['code']+'\x0a\x20}\x0a'),_0x45f8ba['code']='evaluateFr'+'ontend();';for(const _0x306f1c in _0x5cc117)_0x4ef7ae['append']('uniform\x20sa'+'mpler2D\x20'+_0x5cc117[_0x306f1c]+';');_0x45f8ba['code']='\x0a'+_0x45f8ba['code']['split']('\x0a')['map'](_0x35a386=>'\x20\x20\x20\x20'+_0x35a386)['join']('\x0a')+'\x0a\x0a',_0x1853c6['generateFr'+'agmentShad'+'er'](_0x4ef7ae['code'],_0x5d83ac['code'],_0x45f8ba['code'],_0x5f34b);const _0x5f1b53=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x1853c6['chunks']),..._0x1853c6['chunks'],..._0x15f2cb['litOptions']['chunks']})),_0x37ac1b=new Map(_0x15f2cb['defines']),_0x5107c9=Mt['createDefi'+'nition'](_0x3653f9,{'name':'StandardSh'+'ader','attributes':_0x1853c6['attributes'],'vertexCode':_0x1853c6['vshader'],'fragmentCode':_0x1853c6['fshader'],'vertexIncludes':_0x5f1b53,'fragmentIncludes':_0x5f1b53,'fragmentDefines':_0x37ac1b,'vertexDefines':_0x37ac1b});return _0x1853c6['shaderPass'+'Info']['isForward']&&(_0x5107c9['tag']=Ly),_0x5107c9;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=-0xa1d*-0x3+-0xcf1+-0x1166;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(-0x2*-0xe5f+-0x26d2+0x1*0xa15)),c(this,'parameters',{}),c(this,'alphaTest',0x112f*-0x1+-0x74*-0x32+-0x1*0x579),c(this,'alphaToCov'+'erage',!(-0x13bb*-0x1+-0x442+-0xf78)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(-0x1*-0x251+0x599*-0x1+-0x5*-0xa8)),c(this,'_shaderVer'+'sion',-0x1bbd+0x873*-0x2+0x2ca3),c(this,'_scene',null),c(this,'dirty',!(-0x7*0x276+0x1*-0x20cb+0x3205)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x669fe0){this['_dirtyShad'+'er']=!(-0x2008+0x138d+0xc7b),this['_chunks']=_0x669fe0;}get['chunks'](){return this['_dirtyShad'+'er']=!(0x2333+-0x1249+-0x10ea),this['_chunks'];}set['depthBias'](_0x4220d7){this['_depthStat'+'e']['depthBias']=_0x4220d7;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x3c66a8){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x3c66a8;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x1893dc){this['_blendStat'+'e']['redWrite']=_0x1893dc;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x371326){this['_blendStat'+'e']['greenWrite']=_0x371326;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x49be61){this['_blendStat'+'e']['blueWrite']=_0x49be61;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x581aab){this['_blendStat'+'e']['alphaWrite']=_0x581aab;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x33c6cb=this['transparen'+'t'],_0x433ecd=this['meshInstan'+'ces'];for(let _0x3d6d9f=0x1afb+0x1f75*-0x1+0x47a;_0x3d6d9f<_0x433ecd['length'];_0x3d6d9f++)_0x433ecd[_0x3d6d9f]['transparen'+'t']=_0x33c6cb;}set['blendState'](_0x296cc8){this['_blendStat'+'e']['copy'](_0x296cc8),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x39c688){const _0x5d372a=Ft[_0x39c688];v['assert'](_0x5d372a,'Unknown\x20bl'+'end\x20mode\x20'+_0x39c688),this['_blendStat'+'e']['setColorBl'+'end'](_0x5d372a['op'],_0x5d372a['src'],_0x5d372a['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x5d372a['alphaOp']??_0x5d372a['op'],_0x5d372a['alphaSrc']??_0x5d372a['src'],_0x5d372a['alphaDst']??_0x5d372a['dst']);const _0x1c5a26=_0x39c688!==is;this['_blendStat'+'e']['blend']!==_0x1c5a26&&(this['_blendStat'+'e']['blend']=_0x1c5a26,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x51421d,colorSrcFactor:_0x39581b,colorDstFactor:_0x1f94e8,alphaOp:_0x7187ee,alphaSrcFactor:_0x2d0e72,alphaDstFactor:_0x29c376}=this['_blendStat'+'e'];for(let _0x55a6e3=-0x16f*0x13+-0x1615+0x18a9*0x2;_0x55a6e3<Ft['length'];_0x55a6e3++){const _0x58f96d=Ft[_0x55a6e3];if(_0x58f96d['src']===_0x39581b&&_0x58f96d['dst']===_0x1f94e8&&_0x58f96d['op']===_0x51421d&&_0x58f96d['src']===_0x2d0e72&&_0x58f96d['dst']===_0x29c376&&_0x58f96d['op']===_0x7187ee)return _0x55a6e3;}return Kt;}set['depthState'](_0x310d99){this['_depthStat'+'e']['copy'](_0x310d99);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x13c2e5){this['_depthStat'+'e']['test']=_0x13c2e5;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x2e85bf){this['_depthStat'+'e']['func']=_0x2e85bf;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x82eb72){this['_depthStat'+'e']['write']=_0x82eb72;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x21bae1){var _0x4a45c5;this['name']=_0x21bae1['name'],this['alphaTest']=_0x21bae1['alphaTest'],this['alphaToCov'+'erage']=_0x21bae1['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x21bae1['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x21bae1['_depthStat'+'e']),this['cull']=_0x21bae1['cull'],this['stencilFro'+'nt']=(_0x4a45c5=_0x21bae1['stencilFro'+'nt'])==null?void(0x17b7+0x1*0xc3b+-0x23f2):_0x4a45c5['clone'](),_0x21bae1['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x21bae1['stencilFro'+'nt']===_0x21bae1['stencilBac'+'k']?this['stencilFro'+'nt']:_0x21bae1['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x217ac4 in _0x21bae1['parameters'])_0x21bae1['parameters']['hasOwnProp'+'erty'](_0x217ac4)&&this['_setParame'+'terSimple'](_0x217ac4,_0x21bae1['parameters'][_0x217ac4]['data']);this['defines']['clear'](),_0x21bae1['defines']['forEach']((_0x52ecc8,_0x2871a2)=>this['defines']['set'](_0x2871a2,_0x52ecc8));const _0x521844=_0x21bae1['_chunks'];for(const _0xfbcf4f in _0x521844)_0x521844['hasOwnProp'+'erty'](_0xfbcf4f)&&(this['_chunks'][_0xfbcf4f]=_0x521844[_0xfbcf4f]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x55529b=this['meshInstan'+'ces'];for(let _0x94b781=-0x1*-0x1472+0x1*-0x215f+0x3*0x44f;_0x94b781<_0x55529b['length'];_0x94b781++)_0x55529b[_0x94b781]['updateKey']();}['updateUnif'+'orms'](_0x5ccd3d,_0x4fff6a){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x5e5b8d){v['assert'](!(-0x118+-0x17d0+0x18e9*0x1),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0xa10*-0x1+0x7eb*0x3+-0x21d0),this['clearVaria'+'nts']()),this['dirty']=!(-0x159+-0x1615+0x2*0xbb7);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x2421a2=this['meshInstan'+'ces'],_0x492ebf=_0x2421a2['length'];for(let _0x2ab41b=-0x619*0x1+0xa7*-0x29+0x20d8;_0x2ab41b<_0x492ebf;_0x2ab41b++)_0x2421a2[_0x2ab41b]['clearShade'+'rs']();}['getParamet'+'er'](_0xf21da3){return this['parameters'][_0xf21da3];}['_setParame'+'terSimple'](_0x4c6604,_0x2be608){v['call'](()=>{_0x2be608===void(0x7f7+0x515*0x4+0x1*-0x1c4b)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x4c6604+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x4a6244=this['parameters'][_0x4c6604];_0x4a6244?_0x4a6244['data']=_0x2be608:this['parameters'][_0x4c6604]={'scopeId':null,'data':_0x2be608};}['setParamet'+'er'](_0x1a54f7,_0x161a92){if(_0x161a92===void(-0x855+-0xdf5+-0x76e*-0x3)&&typeof _0x1a54f7=='object'){const _0x34fff2=_0x1a54f7;if(_0x34fff2['length']){for(let _0x1fb9b2=0x181d*-0x1+-0x10df+-0x28fc*-0x1;_0x1fb9b2<_0x34fff2['length'];_0x1fb9b2++)this['setParamet'+'er'](_0x34fff2[_0x1fb9b2]);return;}_0x1a54f7=_0x34fff2['name'],_0x161a92=_0x34fff2['value'];}this['_setParame'+'terSimple'](_0x1a54f7,_0x161a92);}['deletePara'+'meter'](_0x3cf017){this['parameters'][_0x3cf017]&&delete this['parameters'][_0x3cf017];}['setParamet'+'ers'](_0x247019,_0x29a51b){const _0x46f82d=this['parameters'];_0x29a51b===void(-0x26e3+-0x36+0x2719)&&(_0x29a51b=_0x46f82d);for(const _0x5b0669 in _0x29a51b){const _0x3b3103=_0x46f82d[_0x5b0669];_0x3b3103&&(_0x3b3103['scopeId']||(_0x3b3103['scopeId']=_0x247019['scope']['resolve'](_0x5b0669)),_0x3b3103['scopeId']['setValue'](_0x3b3103['data']));}}['setDefine'](_0x20f69e,_0x59b2ac){let _0x3f2569=!(0x242d+-0x11a5+-0x1287);const {defines:_0xb704ca}=this;_0x59b2ac!==void(-0xe52+0x18a8+-0xbd*0xe)&&_0x59b2ac!==!(0x1*-0x2e9+0x2001+-0x1d17)?(_0x3f2569=!_0xb704ca['has'](_0x20f69e)||_0xb704ca['get'](_0x20f69e)!==_0x59b2ac,_0xb704ca['set'](_0x20f69e,_0x59b2ac)):(_0x3f2569=_0xb704ca['has'](_0x20f69e),_0xb704ca['delete'](_0x20f69e)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x3f2569);}['getDefine'](_0x504f47){return this['defines']['has'](_0x504f47);}['destroy'](){this['variants']['clear']();for(let _0x52a55e=0xd*-0xcd+-0xddb+0x4*0x611;_0x52a55e<this['meshInstan'+'ces']['length'];_0x52a55e++){const _0x503a1a=this['meshInstan'+'ces'][_0x52a55e];if(_0x503a1a['clearShade'+'rs'](),_0x503a1a['_material']=null,_0x503a1a['mesh']){const _0x56dcc4=al(_0x503a1a['mesh']['device']);this!==_0x56dcc4&&(_0x503a1a['material']=_0x56dcc4);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x1cf0+-0x1cd*-0x4+0x15bc;}['addMeshIns'+'tanceRef'](_0x4cba4e){this['meshInstan'+'ces']['push'](_0x4cba4e);}['removeMesh'+'InstanceRe'+'f'](_0x1f3a36){const _0x322201=this['meshInstan'+'ces'],_0x142e19=_0x322201['indexOf'](_0x1f3a36);_0x142e19!==-(0x89c+0x11*-0x1b3+0x1448)&&_0x322201['splice'](_0x142e19,0x1*-0x30f+0x24e*-0x9+0x17ce);}}class As{static['update'](_0x3ee793,_0x58e321,_0x4928fc,_0x163e35,_0x40832b,_0x34c20a,_0x1a91e9){As['updateShar'+'edOptions'](_0x3ee793,_0x58e321,_0x4928fc,_0x40832b,_0x34c20a),As['updateMate'+'rialOption'+'s'](_0x3ee793,_0x58e321),As['updateEnvO'+'ptions'](_0x3ee793,_0x58e321,_0x4928fc,_0x163e35),As['updateLigh'+'tingOption'+'s'](_0x3ee793,_0x58e321,_0x40832b,_0x1a91e9);}static['updateShar'+'edOptions'](_0x5df186,_0x130724,_0x2900f6,_0xa4766f,_0x2876db){_0x5df186['chunks']=_0x130724['chunks'],_0x5df186['pass']=_0x2876db,_0x5df186['alphaTest']=_0x130724['alphaTest']>-0x547*0x3+-0x16eb*0x1+-0x1f*-0x140,_0x5df186['blendType']=_0x130724['blendType'],_0x5df186['screenSpac'+'e']=_0xa4766f&&(_0xa4766f&Cp)!==-0x3*-0xb85+0x193*0xd+-0x3706,_0x5df186['skin']=_0xa4766f&&(_0xa4766f&$c)!==-0x2b9*0xa+-0x12ee+0x2e28,_0x5df186['useInstanc'+'ing']=_0xa4766f&&(_0xa4766f&Wc)!==-0x77d+-0x7ac+0xf29,_0x5df186['useMorphPo'+'sition']=_0xa4766f&&(_0xa4766f&qc)!==-0x10c*0x22+-0x2514+0x2*0x2456,_0x5df186['useMorphNo'+'rmal']=_0xa4766f&&(_0xa4766f&Xc)!==0xbb2+-0x14ea+0x938,_0x5df186['useMorphTe'+'xtureBased'+'Int']=_0xa4766f&&(_0xa4766f&jc)!==-0x2092+-0xad2+-0xad9*-0x4,_0x5df186['hasTangent'+'s']=_0xa4766f&&(_0xa4766f&Mp)!==-0x4f3*-0x1+0x1*0x5ad+-0xaa0,_0x5df186['nineSliced'+'Mode']=_0x130724['nineSliced'+'Mode']||Ti,_0x130724['useLightin'+'g']&&_0x2900f6['clusteredL'+'ightingEna'+'bled']?(_0x5df186['clusteredL'+'ightingEna'+'bled']=!(-0x2c3*-0x2+-0xcff+0x779),_0x5df186['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x2900f6['lighting']['cookiesEna'+'bled'],_0x5df186['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x2900f6['lighting']['shadowsEna'+'bled'],_0x5df186['clusteredL'+'ightingSha'+'dowType']=_0x2900f6['lighting']['shadowType'],_0x5df186['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x2900f6['lighting']['areaLights'+'Enabled']):(_0x5df186['clusteredL'+'ightingEna'+'bled']=!(-0x9e9*0x2+-0xb12+0x1ee5),_0x5df186['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1265+-0x1*0x2a9+-0x9*-0x257),_0x5df186['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x3*0x8e7+-0x1a7e*0x1+-0x2*0x1b),_0x5df186['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0xfe*0x1d+-0x1297+0x2f5e));}static['updateMate'+'rialOption'+'s'](_0x545f24,_0x445fcc){_0x545f24['separateAm'+'bient']=!(-0x2a*0xc7+0x1*-0x38b+0x2432),_0x545f24['customFrag'+'mentShader']=null,_0x545f24['pixelSnap']=_0x445fcc['pixelSnap'],_0x545f24['ambientSH']=_0x445fcc['ambientSH'],_0x545f24['twoSidedLi'+'ghting']=_0x445fcc['twoSidedLi'+'ghting'],_0x545f24['occludeDir'+'ect']=_0x445fcc['occludeDir'+'ect'],_0x545f24['occludeSpe'+'cular']=_0x445fcc['occludeSpe'+'cular'],_0x545f24['occludeSpe'+'cularFloat']=_0x445fcc['occludeSpe'+'cularInten'+'sity']!==0x1c21+0x1*-0xa7+-0x1b79,_0x545f24['useMsdf']=!(0x2584+-0x1*-0x1e73+-0x2*0x21fb),_0x545f24['msdfTextAt'+'tribute']=!(-0x5d3+-0x5e*0x8+0x8c4),_0x545f24['alphaToCov'+'erage']=_0x445fcc['alphaToCov'+'erage'],_0x545f24['opacityFad'+'esSpecular']=_0x445fcc['opacityFad'+'esSpecular'],_0x545f24['opacityDit'+'her']=_0x445fcc['opacityDit'+'her'],_0x545f24['cubeMapPro'+'jection']=u0,_0x545f24['useSpecula'+'r']=_0x445fcc['hasSpecula'+'r'],_0x545f24['useSpecula'+'rityFactor']=_0x445fcc['hasSpecula'+'rityFactor'],_0x545f24['enableGGXS'+'pecular']=_0x445fcc['ggxSpecula'+'r'],_0x545f24['fresnelMod'+'el']=_0x445fcc['fresnelMod'+'el'],_0x545f24['useRefract'+'ion']=_0x445fcc['hasRefract'+'ion'],_0x545f24['useClearCo'+'at']=_0x445fcc['hasClearCo'+'at'],_0x545f24['useSheen']=_0x445fcc['hasSheen'],_0x545f24['useIridesc'+'ence']=_0x445fcc['hasIrrides'+'cence'],_0x545f24['useMetalne'+'ss']=_0x445fcc['hasMetalne'+'ss'],_0x545f24['useDynamic'+'Refraction']=_0x445fcc['dynamicRef'+'raction'],_0x545f24['dispersion']=_0x445fcc['dispersion']>0x9*0x3a7+-0x2*0xdcd+0x1*-0x545,_0x545f24['vertexColo'+'rs']=!(-0x259*-0x6+0x23b7+0x4*-0xc73),_0x545f24['lightMapEn'+'abled']=_0x445fcc['hasLightin'+'g'],_0x545f24['dirLightMa'+'pEnabled']=_0x445fcc['dirLightMa'+'p'],_0x545f24['useHeights']=_0x445fcc['hasHeights'],_0x545f24['useNormals']=_0x445fcc['hasNormals'],_0x545f24['useClearCo'+'atNormals']=_0x445fcc['hasClearCo'+'atNormals'],_0x545f24['useAo']=_0x445fcc['hasAo'],_0x545f24['diffuseMap'+'Enabled']=_0x445fcc['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x284cb7,_0x1ac1e5,_0x5601ca,_0x4b3359){_0x284cb7['fog']=_0x1ac1e5['useFog']?_0x4b3359['fog']:Fa,_0x284cb7['gamma']=_0x4b3359['shaderOutp'+'utGamma'],_0x284cb7['toneMap']=_0x1ac1e5['useTonemap']?_0x4b3359['toneMappin'+'g']:f0,_0x1ac1e5['useSkybox']&&_0x5601ca['envAtlas']&&_0x5601ca['skybox']?(_0x284cb7['reflection'+'Source']='envAtlasHQ',_0x284cb7['reflection'+'Encoding']=_0x5601ca['envAtlas']['encoding'],_0x284cb7['reflection'+'CubemapEnc'+'oding']=_0x5601ca['skybox']['encoding']):_0x1ac1e5['useSkybox']&&_0x5601ca['envAtlas']?(_0x284cb7['reflection'+'Source']='envAtlas',_0x284cb7['reflection'+'Encoding']=_0x5601ca['envAtlas']['encoding']):_0x1ac1e5['useSkybox']&&_0x5601ca['skybox']?(_0x284cb7['reflection'+'Source']='cubeMap',_0x284cb7['reflection'+'Encoding']=_0x5601ca['skybox']['encoding']):(_0x284cb7['reflection'+'Source']=null,_0x284cb7['reflection'+'Encoding']=null),_0x1ac1e5['ambientSH']?(_0x284cb7['ambientSou'+'rce']='ambientSH',_0x284cb7['ambientEnc'+'oding']=null):_0x284cb7['reflection'+'Source']&&_0x5601ca['envAtlas']?(_0x284cb7['ambientSou'+'rce']='envAtlas',_0x284cb7['ambientEnc'+'oding']=_0x5601ca['envAtlas']['encoding']):(_0x284cb7['ambientSou'+'rce']='constant',_0x284cb7['ambientEnc'+'oding']=null);const _0x2ef89e=!!_0x284cb7['reflection'+'Source'];_0x284cb7['skyboxInte'+'nsity']=_0x2ef89e,_0x284cb7['useCubeMap'+'Rotation']=_0x2ef89e&&_0x5601ca['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x21b609,_0x3f7a24,_0xbf59ac,_0x3593c2){if(_0x21b609['lightMapWi'+'thoutAmbie'+'nt']=!(0x56a+0x19c3+-0x214*0xf),_0x3f7a24['useLightin'+'g']){const _0x6b6333=[],_0x3ceb31=_0xbf59ac?_0xbf59ac>>0x249c+-0x1b2f+0x3*-0x31f:hs;_0x21b609['lightMaskD'+'ynamic']=!!(_0x3ceb31&hs),_0x21b609['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1*-0x21a+0x2*0x6da+0x1*-0xfcd),_0x3593c2&&(As['collectLig'+'hts'](oe,_0x3593c2[oe],_0x6b6333,_0x3ceb31),As['collectLig'+'hts'](Pe,_0x3593c2[Pe],_0x6b6333,_0x3ceb31),As['collectLig'+'hts'](Re,_0x3593c2[Re],_0x6b6333,_0x3ceb31)),_0x21b609['lights']=_0x6b6333;}else _0x21b609['lights']=[];(_0x21b609['lights']['length']===0x44a+0x9a5+0x7b*-0x1d||(_0xbf59ac&Ep)!==-0x2a*-0xe3+-0x21a6+-0x398)&&(_0x21b609['noShadow']=!(-0x1*0x246f+0x10d*0x1d+0x5f6));}static['collectLig'+'hts'](_0x15f7d7,_0x1b30b9,_0x6b6aa6,_0x339b26){for(let _0x1df4d8=-0x1*0x11d9+-0x1fc1+0x319a;_0x1df4d8<_0x1b30b9['length'];_0x1df4d8++){const _0x3f3b26=_0x1b30b9[_0x1df4d8];_0x3f3b26['enabled']&&_0x3f3b26['mask']&_0x339b26&&_0x6b6aa6['push'](_0x3f3b26);}}}const c_=(_0x4e078f,_0x1a7de5)=>{if(_0x4e078f['length']!==_0x1a7de5['length'])return!(-0x290+-0x1f*0x125+0x260c);for(let _0x415ceb=0x2*0x5d5+0x1219+-0x1*0x1dc3;_0x415ceb<_0x4e078f['length'];++_0x415ceb)if(_0x4e078f[_0x415ceb]!==_0x1a7de5[_0x415ceb])return!(0x1e9b+0x1ae+-0x2048);return!(0x64*0x48+0x42e*0x1+-0x5*0x676);},YC=_0x441f44=>_0x441f44['r']!==-0xe05*0x1+0x3*0xc9a+0x17c8*-0x1||_0x441f44['g']!==0x2f7*-0x7+-0x2097+-0x3559*-0x1||_0x441f44['b']!==0x12bb+-0x19be+-0x1c1*-0x4,KC=_0x2f2beb=>_0x2f2beb['r']!==-0x1400+0xccf+-0x107*-0x7||_0x2f2beb['g']!==0x14a1+-0x22f5+0xe54||_0x2f2beb['b']!==-0x1350+0x26b5+0x3*-0x677;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x77f204,_0x539827,_0x5057e6,_0x346a15,_0x5e9608,_0x7abf50){this['_updateSha'+'redOptions'](_0x77f204,_0x539827,_0x5057e6,_0x346a15,_0x5e9608),this['_updateMin'+'Options'](_0x77f204,_0x5057e6,_0x5e9608),this['_updateUVO'+'ptions'](_0x77f204,_0x5057e6,_0x346a15,!(0x1*0x19ab+0x5b3*0x2+-0x2511));}['updateRef'](_0x2367e4,_0x3be30e,_0x1176b1,_0x106792,_0x37b0d5,_0x448874,_0x1dfea3){this['_updateSha'+'redOptions'](_0x2367e4,_0x3be30e,_0x106792,_0x37b0d5,_0x448874),this['_updateEnv'+'Options'](_0x2367e4,_0x106792,_0x3be30e,_0x1176b1),this['_updateMat'+'erialOptio'+'ns'](_0x2367e4,_0x106792),_0x2367e4['litOptions']['hasTangent'+'s']=_0x37b0d5&&(_0x37b0d5&Mp)!==0x90b*0x1+-0x2*0x547+0x183,this['_updateLig'+'htOptions'](_0x2367e4,_0x3be30e,_0x106792,_0x37b0d5,_0x1dfea3),this['_updateUVO'+'ptions'](_0x2367e4,_0x106792,_0x37b0d5,!(-0x1cc9+0xeb2+-0x148*-0xb),_0x1176b1);}['_updateSha'+'redOptions'](_0x595bc1,_0x213377,_0x3eee04,_0x221172,_0x3d3949){_0x595bc1['forceUv1']=_0x3eee04['forceUv1'],_0x3eee04['userAttrib'+'utes']&&(_0x595bc1['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x3eee04['userAttrib'+'utes']['entries']())),_0x595bc1['litOptions']['chunks']=_0x3eee04['chunks']||{},_0x595bc1['litOptions']['pass']=_0x3d3949,_0x595bc1['litOptions']['alphaTest']=_0x3eee04['alphaTest']>-0xb8a+0x101d+-0x493,_0x595bc1['litOptions']['blendType']=_0x3eee04['blendType'],_0x595bc1['litOptions']['screenSpac'+'e']=_0x221172&&(_0x221172&Cp)!==-0xe*-0x290+0x35*-0x33+-0x1951,_0x595bc1['litOptions']['skin']=_0x221172&&(_0x221172&$c)!==-0x77f+0x1e3c+-0x16bd,_0x595bc1['litOptions']['batch']=_0x221172&&(_0x221172&Ou)!==-0x93c+-0x108b+-0x19c7*-0x1,_0x595bc1['litOptions']['useInstanc'+'ing']=_0x221172&&(_0x221172&Wc)!==-0x21+0x68c+-0x66b,_0x595bc1['litOptions']['useMorphPo'+'sition']=_0x221172&&(_0x221172&qc)!==0x25d6+0x400*0x7+0x9f*-0x6a,_0x595bc1['litOptions']['useMorphNo'+'rmal']=_0x221172&&(_0x221172&Xc)!==-0x2*0xeb1+-0x198a+0x94*0x5f,_0x595bc1['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x221172&&(_0x221172&jc)!==0xc50+0x373*0xb+0x1f*-0x19f,_0x595bc1['litOptions']['nineSliced'+'Mode']=_0x3eee04['nineSliced'+'Mode']||-0x3*0x5ab+0x2*-0x3b+0x1177,_0x213377['clusteredL'+'ightingEna'+'bled']&&_0x3eee04['useLightin'+'g']?(_0x595bc1['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x68f+0x7b6+-0x127*0x1),_0x595bc1['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x213377['lighting']['cookiesEna'+'bled'],_0x595bc1['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x213377['lighting']['shadowsEna'+'bled'],_0x595bc1['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x213377['lighting']['shadowType'],_0x595bc1['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x213377['lighting']['areaLights'+'Enabled']):(_0x595bc1['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x9d*0x27+0x12d*0x1f+-0x141f*0x3),_0x595bc1['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x5*0x611+0x7d6*-0x3+0x35d8),_0x595bc1['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x1*-0x3be+0x4*-0x272+0x1*0xd87),_0x595bc1['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1ff7+-0x5*-0x151+-0xd*0x2f7));}['_updateUVO'+'ptions'](_0x2f7725,_0x1f3224,_0x22d7be,_0x580509,_0x260063){let _0x1bd228=!(0x92d+-0x245f+0xd3*0x21),_0x2f7b2f=!(0x183b+0xe*0x293+0x227*-0x1c),_0xa0aff0=!(-0x5*0x241+-0x2238+0x2d7e);_0x22d7be&&(_0x1bd228=(_0x22d7be&m0)!==0x195+-0x741+0x4*0x16b,_0x2f7b2f=(_0x22d7be&_0)!==-0x54d+-0x2129+-0x3*-0xcd2,_0xa0aff0=(_0x22d7be&g0)!==0x2*0x535+-0x1b4f*-0x1+0x105*-0x25),_0x2f7725['litOptions']['vertexColo'+'rs']=!(0x8*-0x91+-0x17f+0x304*0x2),this['_mapXForms']=[];const _0x3e5c0d={};for(const _0x394840 in fa)this['_updateTex'+'Options'](_0x2f7725,_0x1f3224,_0x394840,_0x1bd228,_0x2f7b2f,_0xa0aff0,_0x580509,_0x3e5c0d);this['_mapXForms']=null,_0x2f7725['litOptions']['ssao']=_0x260063==null?void(0x6b6+0x142c+0x2*-0xd71):_0x260063['ssaoEnable'+'d'],_0x2f7725['useAO']=_0x2f7725['litOptions']['ssao'],_0x2f7725['litOptions']['lightMapEn'+'abled']=_0x2f7725['lightMap'],_0x2f7725['litOptions']['dirLightMa'+'pEnabled']=_0x2f7725['dirLightMa'+'p'],_0x2f7725['litOptions']['useHeights']=_0x2f7725['heightMap'],_0x2f7725['litOptions']['useNormals']=_0x2f7725['normalMap'],_0x2f7725['litOptions']['useClearCo'+'atNormals']=_0x2f7725['clearCoatN'+'ormalMap'],_0x2f7725['litOptions']['useAo']=_0x2f7725['aoMap']||_0x2f7725['aoVertexCo'+'lor']||_0x2f7725['litOptions']['ssao'],_0x2f7725['litOptions']['diffuseMap'+'Enabled']=_0x2f7725['diffuseMap'];}['_updateTex'+'Options'](_0x57c489,_0x202e4b,_0x364dcb,_0x978a24,_0x473245,_0x56b523,_0x2ccea7,_0x50f88a){const _0x5b1933=_0x364dcb==='opacity';if(!_0x2ccea7||_0x5b1933){const _0x191593=_0x364dcb+'Map',_0x4ad0a3=_0x364dcb+('VertexColo'+'r'),_0x4fd99a=_0x364dcb+('VertexColo'+'rChannel'),_0x3704c8=_0x191593+'Channel',_0x59ed08=_0x191593+'Transform',_0x50cda7=_0x191593+'Uv',_0x37115e=_0x191593+'Identifier';if(_0x364dcb!=='light'&&(_0x57c489[_0x191593]=!(-0x15*0x65+0x1103*0x1+-0x8b9),_0x57c489[_0x37115e]=void(-0xc07+0x361+0x8a6),_0x57c489[_0x3704c8]='',_0x57c489[_0x59ed08]=0x1d09*0x1+-0x15ce+-0x73b,_0x57c489[_0x50cda7]=-0x26b*0x3+-0x201a+0x275b),_0x57c489[_0x4ad0a3]=!(-0x25dc*0x1+-0x9e*-0x3d+0xb*0x5),_0x57c489[_0x4fd99a]='',_0x5b1933&&_0x202e4b['blendType']===is&&_0x202e4b['alphaTest']===0x52+0x1*-0x4b7+0x465&&!_0x202e4b['alphaToCov'+'erage']&&_0x202e4b['opacityDit'+'her']===Rs)return;if(_0x364dcb!=='height'&&_0x202e4b[_0x4ad0a3]&&_0x56b523&&(_0x57c489[_0x4ad0a3]=_0x202e4b[_0x4ad0a3],_0x57c489[_0x4fd99a]=_0x202e4b[_0x4fd99a],_0x57c489['litOptions']['vertexColo'+'rs']=!(0x18df*-0x1+-0x26*0x52+0x250b)),_0x202e4b[_0x191593]){let _0x414f1a=!(-0x181a*-0x1+0x2593*-0x1+0xd79);if(_0x202e4b[_0x50cda7]===-0x6b7*-0x5+-0x1*0x2340+0x1ad&&!_0x978a24&&(_0x414f1a=!(-0x1f0f+0x1*0x1af9+0x417)),_0x202e4b[_0x50cda7]===0x107a+-0x98+-0xfe1&&!_0x473245&&(_0x414f1a=!(-0x238a+-0x1f29+-0x3*-0x163c)),_0x414f1a){const _0x28d643=_0x202e4b[_0x191593]['id'];let _0x1fd49d=_0x50f88a[_0x28d643];_0x1fd49d===void(-0x1a28+-0x2670+0x4098)&&(_0x50f88a[_0x28d643]=_0x364dcb,_0x1fd49d=_0x364dcb),_0x57c489[_0x191593]=!!_0x202e4b[_0x191593],_0x57c489[_0x37115e]=_0x1fd49d,_0x57c489[_0x59ed08]=this['_getMapTra'+'nsformID'](_0x202e4b['getUniform'](_0x59ed08),_0x202e4b[_0x50cda7]),_0x57c489[_0x3704c8]=_0x202e4b[_0x3704c8],_0x57c489[_0x50cda7]=_0x202e4b[_0x50cda7];}}}}['_updateMin'+'Options'](_0xcf244b,_0x76c2b2,_0x1de582){const _0x2f15ad=_0x1de582===il;_0xcf244b['litOptions']['opacitySha'+'dowDither']=_0x2f15ad?_0x76c2b2['opacityDit'+'her']:_0x76c2b2['opacitySha'+'dowDither'],_0xcf244b['litOptions']['linearDept'+'h']=_0x2f15ad,_0xcf244b['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x399d90,_0x45cbfe){var _0x54c8aa,_0x19e386,_0x75d017,_0x2259a9;const _0x6988ff=!!(_0x45cbfe['useMetalne'+'ss']||_0x45cbfe['specularMa'+'p']||_0x45cbfe['sphereMap']||_0x45cbfe['cubeMap']||KC(_0x45cbfe['specular'])||_0x45cbfe['specularit'+'yFactor']>0x1439+-0x751*-0x5+-0x38ce&&_0x45cbfe['useMetalne'+'ss']||_0x45cbfe['enableGGXS'+'pecular']||_0x45cbfe['clearCoat']>0x8f1+-0x1*-0x221f+-0x2b10*0x1),_0x1cf2fc=!_0x45cbfe['useMetalne'+'ss']||_0x45cbfe['useMetalne'+'ssSpecular'+'Color'],_0x569122=_0x6988ff&&(_0x45cbfe['specularTi'+'nt']||!_0x45cbfe['specularMa'+'p']&&!_0x45cbfe['specularVe'+'rtexColor'])&&YC(_0x45cbfe['specular']),_0x574e5f=_0x6988ff&&_0x45cbfe['useMetalne'+'ssSpecular'+'Color']&&(_0x45cbfe['specularit'+'yFactorTin'+'t']||_0x45cbfe['specularit'+'yFactor']<-0xde3+-0x1f4c+-0x1698*-0x2&&!_0x45cbfe['specularit'+'yFactorMap']),_0x46d40c=_0x45cbfe['normalMap']?_0x45cbfe['normalMap']['format']===Wo||_0x45cbfe['normalMap']['type']===op:!(0x1*-0x21d8+-0x234f+-0x114a*-0x4),_0x4a4a2a=(_0x3b7e1e,_0x11d68a)=>Math['abs'](_0x3b7e1e-_0x11d68a)<-0x224a+-0xd0b+0x2f55+0.0001;_0x399d90['specularTi'+'nt']=_0x569122?0x1d*0x3d+-0x1821+-0xe*-0x13b:0x1*0x1781+-0xd*0x66+0x1253*-0x1,_0x399d90['specularit'+'yFactorTin'+'t']=_0x574e5f?-0x9a6+-0x35*-0x22+0x29d:-0x4f*0x55+-0x1450+0x2e8b,_0x399d90['metalnessT'+'int']=_0x45cbfe['useMetalne'+'ss']&&_0x45cbfe['metalness']<-0x36e+0x5*-0x71f+-0x1385*-0x2?-0xbba+-0xf*-0x11f+-0x6*0xd9:-0x6*-0x1bc+0x70*-0x4+-0x8a8,_0x399d90['glossTint']=-0x25bd+0x1*-0x925+0x2ee3*0x1,_0x399d90['diffuseEnc'+'oding']=(_0x54c8aa=_0x45cbfe['diffuseMap'])==null?void(-0x17ae+-0x2*0x1e+0x17ea):_0x54c8aa['encoding'],_0x399d90['diffuseDet'+'ailEncodin'+'g']=(_0x19e386=_0x45cbfe['diffuseDet'+'ailMap'])==null?void(0x202b+-0x29*-0x65+-0x3058):_0x19e386['encoding'],_0x399d90['emissiveEn'+'coding']=(_0x75d017=_0x45cbfe['emissiveMa'+'p'])==null?void(-0x9*0x47+0x8*-0x1fb+0x1257):_0x75d017['encoding'],_0x399d90['lightMapEn'+'coding']=(_0x2259a9=_0x45cbfe['lightMap'])==null?void(0x1ed+0xb89*0x2+-0x1b*0xed):_0x2259a9['encoding'],_0x399d90['packedNorm'+'al']=_0x46d40c,_0x399d90['refraction'+'Tint']=_0x4a4a2a(_0x45cbfe['refraction'],0x1*0x1871+0x2672+-0x3ee2)?0xb2b+0x5*0x490+-0x21fb*0x1:0x10d8+0x464+0x43f*-0x5,_0x399d90['refraction'+'IndexTint']=_0x4a4a2a(_0x45cbfe['refraction'+'Index'],(-0x1061+-0x76d*0x5+0x3583)/(0x1437+0x1*-0x1e3b+-0x201*-0x5+0.5))?0x1a45+0x6d2*-0x5+-0x7d5*-0x1:-0x1*-0x20ff+0x1*-0x123e+-0xec0,_0x399d90['thicknessT'+'int']=_0x45cbfe['useDynamic'+'Refraction']&&_0x45cbfe['thickness']!==-0x3a9*0x1+-0x14bb+0x1865?-0x3*-0x107+0x11e2+-0x14f6:-0x1*-0xc3b+-0x6b3*0x1+-0x588,_0x399d90['specularEn'+'coding']=_0x45cbfe['specularEn'+'coding']||'linear',_0x399d90['sheenEncod'+'ing']=_0x45cbfe['sheenEncod'+'ing']||'linear',_0x399d90['aoMapUv']=_0x45cbfe['aoUvSet'],_0x399d90['aoDetail']=!!_0x45cbfe['aoMap'],_0x399d90['diffuseDet'+'ail']=!!_0x45cbfe['diffuseMap'],_0x399d90['normalDeta'+'il']=!!_0x45cbfe['normalMap'],_0x399d90['diffuseDet'+'ailMode']=_0x45cbfe['diffuseDet'+'ailMode'],_0x399d90['aoDetailMo'+'de']=_0x45cbfe['aoDetailMo'+'de'],_0x399d90['clearCoatT'+'int']=_0x4a4a2a(_0x45cbfe['clearCoat'],0x1*0xaa5+-0x2306+0x1*0x1862)?0x207+0x1917+-0x59*0x4e:0x1c*0x73+-0x5a6+-0x6ed,_0x399d90['clearCoatG'+'loss']=!!_0x45cbfe['clearCoatG'+'loss'],_0x399d90['clearCoatG'+'lossTint']=_0x45cbfe['clearCoatG'+'loss']!==0x1458+-0x25d6+0x117f?0x11a6+-0x54b+-0x33*0x3e:-0x3*-0x355+-0x1*-0x1e8e+-0x288d,_0x399d90['iorTint']=_0x4a4a2a(_0x45cbfe['refraction'+'Index'],(0x12bc+-0x1*-0x287+0x1*-0x1542)/(0x238b+-0x67d*-0x3+-0x1*0x3701+0.5))?-0xaba*-0x2+0xbf*0x12+-0xeb*0x26:-0xc49+0x1ed*0x3+0x683,_0x399d90['iridescenc'+'eTint']=_0x45cbfe['iridescenc'+'e']!==0x3fb*-0x7+0xc96*0x2+0x2b2?0x2015+0x2162+-0x4176:-0xa72*-0x2+0x6c6+-0x1*0x1baa,_0x399d90['glossInver'+'t']=_0x45cbfe['glossInver'+'t'],_0x399d90['sheenGloss'+'Invert']=_0x45cbfe['sheenGloss'+'Invert'],_0x399d90['clearCoatG'+'lossInvert']=_0x45cbfe['clearCoatG'+'lossInvert'],_0x399d90['useSpecula'+'rColor']=_0x1cf2fc,_0x399d90['litOptions']['separateAm'+'bient']=!(0x5*0x494+0x2598+0x4a7*-0xd),_0x399d90['litOptions']['customFrag'+'mentShader']=_0x45cbfe['customFrag'+'mentShader'],_0x399d90['litOptions']['pixelSnap']=_0x45cbfe['pixelSnap'],_0x399d90['litOptions']['ambientSH']=!!_0x45cbfe['ambientSH'],_0x399d90['litOptions']['twoSidedLi'+'ghting']=_0x45cbfe['twoSidedLi'+'ghting'],_0x399d90['litOptions']['occludeSpe'+'cular']=_0x45cbfe['occludeSpe'+'cular'],_0x399d90['litOptions']['occludeSpe'+'cularFloat']=_0x45cbfe['occludeSpe'+'cularInten'+'sity']!==-0x71*-0x4a+-0x1853+0x2*-0x42b,_0x399d90['litOptions']['useMsdf']=!!_0x45cbfe['msdfMap'],_0x399d90['litOptions']['msdfTextAt'+'tribute']=!!_0x45cbfe['msdfTextAt'+'tribute'],_0x399d90['litOptions']['alphaToCov'+'erage']=_0x45cbfe['alphaToCov'+'erage'],_0x399d90['litOptions']['opacityFad'+'esSpecular']=_0x45cbfe['opacityFad'+'esSpecular'],_0x399d90['litOptions']['opacityDit'+'her']=_0x45cbfe['opacityDit'+'her'],_0x399d90['litOptions']['cubeMapPro'+'jection']=_0x45cbfe['cubeMapPro'+'jection'],_0x399d90['litOptions']['occludeDir'+'ect']=_0x45cbfe['occludeDir'+'ect'],_0x399d90['litOptions']['useSpecula'+'r']=_0x6988ff,_0x399d90['litOptions']['useSpecula'+'rityFactor']=(_0x574e5f||!!_0x45cbfe['specularit'+'yFactorMap'])&&_0x45cbfe['useMetalne'+'ssSpecular'+'Color'],_0x399d90['litOptions']['enableGGXS'+'pecular']=_0x45cbfe['enableGGXS'+'pecular'],_0x399d90['litOptions']['fresnelMod'+'el']=_0x45cbfe['fresnelMod'+'el'],_0x399d90['litOptions']['useRefract'+'ion']=(_0x45cbfe['refraction']||!!_0x45cbfe['refraction'+'Map'])&&(_0x45cbfe['useDynamic'+'Refraction']||!!_0x399d90['litOptions']['reflection'+'Source']),_0x399d90['litOptions']['useClearCo'+'at']=!!_0x45cbfe['clearCoat'],_0x399d90['litOptions']['useSheen']=_0x45cbfe['useSheen'],_0x399d90['litOptions']['useIridesc'+'ence']=_0x45cbfe['useIridesc'+'ence']&&_0x45cbfe['iridescenc'+'e']!==0x1756+-0x1cdc+0x586,_0x399d90['litOptions']['useMetalne'+'ss']=_0x45cbfe['useMetalne'+'ss'],_0x399d90['litOptions']['useDynamic'+'Refraction']=_0x45cbfe['useDynamic'+'Refraction'],_0x399d90['litOptions']['dispersion']=_0x45cbfe['dispersion']>0x16bf+0x23e7+0x1d53*-0x2;}['_updateEnv'+'Options'](_0xc5a69f,_0xbf4a9f,_0xbb1ca2,_0x2b0390){_0xc5a69f['litOptions']['fog']=_0xbf4a9f['useFog']?_0x2b0390['fog']:Fa,_0xc5a69f['litOptions']['gamma']=_0x2b0390['shaderOutp'+'utGamma'],_0xc5a69f['litOptions']['toneMap']=_0xbf4a9f['useTonemap']?_0x2b0390['toneMappin'+'g']:f0;let _0x17fc44=!(0x1582*-0x1+-0x1*-0x2309+-0xd86);if(_0xbf4a9f['envAtlas']&&_0xbf4a9f['cubeMap']?(_0xc5a69f['litOptions']['reflection'+'Source']='envAtlasHQ',_0xc5a69f['litOptions']['reflection'+'Encoding']=_0xbf4a9f['envAtlas']['encoding'],_0xc5a69f['litOptions']['reflection'+'CubemapEnc'+'oding']=_0xbf4a9f['cubeMap']['encoding']):_0xbf4a9f['envAtlas']?(_0xc5a69f['litOptions']['reflection'+'Source']='envAtlas',_0xc5a69f['litOptions']['reflection'+'Encoding']=_0xbf4a9f['envAtlas']['encoding']):_0xbf4a9f['cubeMap']?(_0xc5a69f['litOptions']['reflection'+'Source']='cubeMap',_0xc5a69f['litOptions']['reflection'+'Encoding']=_0xbf4a9f['cubeMap']['encoding']):_0xbf4a9f['sphereMap']?(_0xc5a69f['litOptions']['reflection'+'Source']='sphereMap',_0xc5a69f['litOptions']['reflection'+'Encoding']=_0xbf4a9f['sphereMap']['encoding']):_0xbf4a9f['useSkybox']&&_0xbb1ca2['envAtlas']&&_0xbb1ca2['skybox']?(_0xc5a69f['litOptions']['reflection'+'Source']='envAtlasHQ',_0xc5a69f['litOptions']['reflection'+'Encoding']=_0xbb1ca2['envAtlas']['encoding'],_0xc5a69f['litOptions']['reflection'+'CubemapEnc'+'oding']=_0xbb1ca2['skybox']['encoding'],_0x17fc44=!(-0x1*0x5ea+-0x1592+0x4*0x6df)):_0xbf4a9f['useSkybox']&&_0xbb1ca2['envAtlas']?(_0xc5a69f['litOptions']['reflection'+'Source']='envAtlas',_0xc5a69f['litOptions']['reflection'+'Encoding']=_0xbb1ca2['envAtlas']['encoding'],_0x17fc44=!(-0x1*0x31a+0x1f91+-0x1c77)):_0xbf4a9f['useSkybox']&&_0xbb1ca2['skybox']?(_0xc5a69f['litOptions']['reflection'+'Source']='cubeMap',_0xc5a69f['litOptions']['reflection'+'Encoding']=_0xbb1ca2['skybox']['encoding'],_0x17fc44=!(0x1*0x1b69+0xe*-0x95+-0x1*0x1343)):(_0xc5a69f['litOptions']['reflection'+'Source']=null,_0xc5a69f['litOptions']['reflection'+'Encoding']=null),_0xbf4a9f['ambientSH'])_0xc5a69f['litOptions']['ambientSou'+'rce']='ambientSH',_0xc5a69f['litOptions']['ambientEnc'+'oding']=null;else{const _0x204688=_0xbf4a9f['envAtlas']||(_0xbf4a9f['useSkybox']&&_0xbb1ca2['envAtlas']?_0xbb1ca2['envAtlas']:null);_0x204688&&!_0xbf4a9f['sphereMap']?(_0xc5a69f['litOptions']['ambientSou'+'rce']='envAtlas',_0xc5a69f['litOptions']['ambientEnc'+'oding']=_0x204688['encoding']):(_0xc5a69f['litOptions']['ambientSou'+'rce']='constant',_0xc5a69f['litOptions']['ambientEnc'+'oding']=null);}_0xc5a69f['litOptions']['skyboxInte'+'nsity']=_0x17fc44,_0xc5a69f['litOptions']['useCubeMap'+'Rotation']=_0x17fc44&&_0xbb1ca2['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x78afa6,_0x38898f,_0x1c86e7,_0x4a57f7,_0x5405a9){if(_0x78afa6['lightMap']=!(-0x121f*0x1+-0x2*-0x6d7+-0x472*-0x1),_0x78afa6['lightMapCh'+'annel']='',_0x78afa6['lightMapUv']=0x1d3d+0x2*-0x116b+0x599*0x1,_0x78afa6['lightMapTr'+'ansform']=-0x35e*0xb+0x16e3*-0x1+0x17*0x29b,_0x78afa6['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x2290+0x19e5+0xa*0xde),_0x78afa6['dirLightMa'+'p']=!(-0x2a2+0x16da+-0xf*0x159),_0x4a57f7&&(_0x78afa6['litOptions']['noShadow']=(_0x4a57f7&Ep)!==-0x7ed*-0x4+-0x2*0x145+-0x1d2a,(_0x4a57f7&Fu)!==-0x16d7+0x498+-0xad*-0x1b&&(_0x78afa6['lightMapEn'+'coding']=_0x38898f['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x78afa6['lightMap']=!(0x2ea*-0xa+-0x1042+0x2d66),_0x78afa6['lightMapCh'+'annel']='rgb',_0x78afa6['lightMapUv']=-0xcde+0x872+0x46d,_0x78afa6['lightMapTr'+'ansform']=-0x1e9f+-0xf30+-0x517*-0x9,_0x78afa6['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x1c86e7['lightMap'],(_0x4a57f7&y0)!==-0x74*0x22+0x977*0x4+-0x1674&&(_0x78afa6['dirLightMa'+'p']=!(0x2583+0x286+-0x2809)),(_0x4a57f7&x0)!==-0x831+0x10f2+0x53*-0x1b&&(_0x78afa6['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x26b6+0x1bc0+0xaf7)))),_0x1c86e7['useLightin'+'g']){const _0x5f5995=[],_0x17d8c3=_0x4a57f7?_0x4a57f7>>0x56d+0x2f8+-0x2c7*0x3:hs;_0x78afa6['litOptions']['lightMaskD'+'ynamic']=!!(_0x17d8c3&hs),_0x5405a9&&(As['collectLig'+'hts'](oe,_0x5405a9[oe],_0x5f5995,_0x17d8c3),As['collectLig'+'hts'](Pe,_0x5405a9[Pe],_0x5f5995,_0x17d8c3),As['collectLig'+'hts'](Re,_0x5405a9[Re],_0x5f5995,_0x17d8c3)),_0x78afa6['litOptions']['lights']=_0x5f5995;}else _0x78afa6['litOptions']['lights']=[];_0x78afa6['litOptions']['lights']['length']===0x3ad*-0x7+0x1113+0x8a8*0x1&&(_0x78afa6['litOptions']['noShadow']=!(0xb24*0x3+-0x1*0xc13+-0x1559*0x1));}['_getMapTra'+'nsformID'](_0x4fba63,_0x57e521){if(!_0x4fba63)return 0x87d*0x2+-0x12f*0x6+-0x9e0;let _0x373691=this['_mapXForms'][_0x57e521];_0x373691||(_0x373691=[],this['_mapXForms'][_0x57e521]=_0x373691);for(let _0x1028a3=0x24*0x3b+0x279+-0xac5;_0x1028a3<_0x373691['length'];_0x1028a3++)if(c_(_0x373691[_0x1028a3][0x7*-0x453+0x1acf*0x1+0x376]['value'],_0x4fba63[-0x2641+0x185b+0xde6]['value'])&&c_(_0x373691[_0x1028a3][0x1e31+0x2575+-0x43a5]['value'],_0x4fba63[-0x5*0x52+0x1*0x1f51+0x2*-0xedb]['value']))return _0x1028a3+(-0x7b7*-0x1+0x8fa+0x4*-0x42c);return _0x373691['push'](_0x4fba63);}}function qe(_0x1a7cd2,_0x1372c7=!(0x1d1a+-0x11b+-0x1bff),_0x43a522=!(-0x154c+-0x8da*0x1+0xf13*0x2)){const _0x1c6cb6={};return _0x1c6cb6[_0x1a7cd2+'Map']='texture',_0x1c6cb6[_0x1a7cd2+'MapTiling']='vec2',_0x1c6cb6[_0x1a7cd2+'MapOffset']='vec2',_0x1c6cb6[_0x1a7cd2+('MapRotatio'+'n')]='number',_0x1c6cb6[_0x1a7cd2+'MapUv']='number',_0x1372c7&&(_0x1c6cb6[_0x1a7cd2+'MapChannel']='string',_0x43a522&&(_0x1c6cb6[_0x1a7cd2+('VertexColo'+'r')]='boolean',_0x1c6cb6[_0x1a7cd2+('VertexColo'+'rChannel')]='string')),_0x1c6cb6;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(0x12bb+-0x183*-0x1+0x2*-0xa1f),!(0x4e6+-0x169*0x1+-0x37c)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(0x1*-0x1b6d+0x5*0x362+-0x45*-0x27),!(-0x254+0x43a+0x61*-0x5)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(-0x1*-0x1701+-0x2*0x7e3+0x172*-0x5)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(0x1*-0x2a1+0x5*0x521+-0x1703)),'bumpiness':'number',...qe('normalDeta'+'il',!(-0x22f+-0x8c5+0xaf5)),'normalDetailMapBumpiness':'number',...qe('height',!(0x14d5+0x2282+-0x3757),!(0x1a99*-0x1+-0x1*-0x429+0x3*0x77b)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let Wa=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x308807=>{this['_'+_0x308807]=uh[_0x308807]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x145b18){return super['copy'](_0x145b18),Object['keys'](uh)['forEach'](_0x539a6c=>{this[_0x539a6c]=_0x145b18[_0x539a6c];}),this['userAttrib'+'utes']=new Map(_0x145b18['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x2c52bc,_0x189a28){this['userAttrib'+'utes']['set'](_0x189a28,_0x2c52bc);}['_setParame'+'ter'](_0x40d99b,_0x3820e4){Wa['add'](_0x40d99b),this['setParamet'+'er'](_0x40d99b,_0x3820e4);}['_setParame'+'ters'](_0x2fe940){_0x2fe940['forEach'](_0x40f5c3=>{this['_setParame'+'ter'](_0x40f5c3['name'],_0x40f5c3['value']);});}['_processPa'+'rameters'](_0x1c7da1){const _0x2818fa=this[_0x1c7da1];_0x2818fa['forEach'](_0x409200=>{Wa['has'](_0x409200)||delete this['parameters'][_0x409200];}),this[_0x1c7da1]=Wa,Wa=_0x2818fa,Wa['clear']();}['_updateMap'](_0x4e06cf){const _0x9272f3=_0x4e06cf+'Map',_0x37f973=this[_0x9272f3];if(_0x37f973){this['_setParame'+'ter']('texture_'+_0x9272f3,_0x37f973);const _0x50cb84=_0x9272f3+'Transform',_0x4e7870=this['getUniform'](_0x50cb84);_0x4e7870&&this['_setParame'+'ters'](_0x4e7870);}}['_allocUnif'+'orm'](_0x5ecbfc,_0x117fd4){let _0x442430=this['_uniformCa'+'che'][_0x5ecbfc];return _0x442430||(_0x442430=_0x117fd4(),this['_uniformCa'+'che'][_0x5ecbfc]=_0x442430),_0x442430;}['getUniform'](_0x11ab21,_0x475b92,_0x27b741){return P0[_0x11ab21](this,_0x475b92,_0x27b741);}['updateUnif'+'orms'](_0x27e8dd,_0x57fe56){const _0x494a29=_0x3eb681=>this['getUniform'](_0x3eb681,_0x27e8dd,_0x57fe56);this['_setParame'+'ter']('material_a'+'mbient',_0x494a29('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x494a29('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x2e0*0x8+-0x3*0x916+0x3243*0x1)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x494a29('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x494a29('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x494a29('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>-0x710+0xc6*0x25+-0x158e&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x2*0xf65+0x1ff9+-0x3ec3&&this['emissive']['g']===0x557*-0x4+-0x1*0x941+0x1e9d&&this['emissive']['b']===-0xd1+-0x1c*0x97+0x1155&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x494a29('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x14fc+-0xcef*0x3+0x1*0x3bc9&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x3*-0xa36+-0x1*-0x1c73+-0x2b*-0xd&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x494a29('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x24e*0x1+-0x26c5+-0x5*-0x74b?-0x3a6*-0x3+-0x1e30+0x133e:(-0x1*0x26a9+0x20bc+0x5ee)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x26fb+-0x2305+-0x3f5)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x494a29('cubeMapPro'+'jectionBox'));for(const _0x4063cf in fa)this['_updateMap'](_0x4063cf);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x494a29('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x27e8dd,_0x57fe56);}['updateEnvU'+'niforms'](_0x136d83,_0x32375e){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x32375e['envAtlas']&&_0x32375e['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x32375e['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x32375e['skybox'])):_0x32375e['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x32375e['envAtlas']):_0x32375e['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x32375e['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x4d7bd9){const {device:_0x5013ad,scene:_0x1690cd,pass:_0x35a926,objDefs:_0x34aa01,sortedLights:_0x150df7,cameraShaderParams:_0x5f4bcf}=_0x4d7bd9;this['updateEnvU'+'niforms'](_0x5013ad,_0x1690cd);const _0xa38b15=Ks['get'](_0x5013ad)['getByIndex'](_0x35a926),_0xde0e0d=_0x35a926===rl||_0x35a926===Oa||_0x35a926===il||_0xa38b15['isShadow'];let _0x598173=_0xde0e0d?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x598173['defines']=Dp(this,_0x4d7bd9),_0xde0e0d?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x598173,_0x1690cd,this,_0x34aa01,_0x35a926,_0x150df7):this['shaderOptB'+'uilder']['updateRef'](_0x598173,_0x1690cd,_0x5f4bcf,this,_0x34aa01,_0x35a926,_0x150df7),_0x598173['defines']['set']('TONEMAP',p0[_0x598173['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x598173=this['onUpdateSh'+'ader'](_0x598173));const _0x4e3d35=new Yc(_0x4d7bd9['viewUnifor'+'mFormat'],_0x4d7bd9['viewBindGr'+'oupFormat'],_0x4d7bd9['vertexForm'+'at']),_0x2a13b9=ka(_0x5013ad);_0x2a13b9['register']('standard',Ed);const _0x5eccba=_0x2a13b9['getProgram']('standard',_0x598173,_0x4e3d35,this['userId']);return this['_dirtyShad'+'er']=!(-0x1842+0x1da6+-0x563),_0x5eccba;}['destroy'](){for(const _0xcf3e43 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0xcf3e43]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0x390815,_0x1aac21)=>{P0[_0x390815]=_0x1aac21;},Op=(_0x31fc2f,_0x304964,_0x37891d,_0x55a745)=>{Object['defineProp'+'erty'](cs['prototype'],_0x31fc2f,{'get':_0x55a745||function(){return this['_'+_0x31fc2f];},'set':_0x37891d}),uh[_0x31fc2f]={'value':_0x304964};},JC=_0x24db4b=>{const _0x2a7254='_'+_0x24db4b['name'],_0x519999=_0x24db4b['dirtyShade'+'rFunc']||(()=>!(0xd6c+0x1*-0x1339+-0x2d*-0x21)),_0x402576=function(_0x4c2d16){const _0x32662d=this[_0x2a7254];_0x32662d!==_0x4c2d16&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x519999(_0x32662d,_0x4c2d16),this[_0x2a7254]=_0x4c2d16);};Op(_0x24db4b['name'],()=>_0x24db4b['defaultVal'+'ue'],_0x402576,_0x24db4b['getterFunc']);},eM=_0x1e81ee=>{const _0x587db9='_'+_0x1e81ee['name'],_0x302924=_0x1e81ee['dirtyShade'+'rFunc']||(()=>!(0x1e5e+0xa7*-0x26+0x54*-0x11)),_0xc858f1=function(_0x25d3af){const _0x4ffb0c=this[_0x587db9];_0x4ffb0c['equals'](_0x25d3af)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x302924(_0x4ffb0c,_0x25d3af),this[_0x587db9]=_0x4ffb0c['copy'](_0x25d3af));};Op(_0x1e81ee['name'],()=>_0x1e81ee['defaultVal'+'ue']['clone'](),_0xc858f1,_0x1e81ee['getterFunc']);},ts=_0x1a5d44=>_0x1a5d44['defaultVal'+'ue']&&_0x1a5d44['defaultVal'+'ue']['clone']?eM(_0x1a5d44):JC(_0x1a5d44);function Ge(_0x8ddfdd,_0xa6a67c='rgb',_0xe364f3=!(-0x4*0x6c3+0x2048*0x1+-0x4*0x14f),_0x199f71=-0x1533+-0xa4c+0x1f7f){fa[_0x8ddfdd]=_0xa6a67c['length']||-(0x1b51+-0x659*-0x1+-0x21a9*0x1),ts({'name':_0x8ddfdd+'Map','defaultValue':null,'dirtyShaderFunc':(_0x9c7f4c,_0x2959a7)=>!!_0x9c7f4c!=!!_0x2959a7||_0x9c7f4c&&(_0x9c7f4c['type']!==_0x2959a7['type']||_0x9c7f4c['format']!==_0x2959a7['format'])}),ts({'name':_0x8ddfdd+'MapTiling','defaultValue':new $(-0x440+-0x1f2e+0x236f,-0x425*0x4+0x1e0b*-0x1+0x2ea*0x10)}),ts({'name':_0x8ddfdd+'MapOffset','defaultValue':new $(-0x3f3+-0x11e*-0x1a+0x5*-0x505,-0x49e+-0x118e*-0x1+0xc*-0x114)}),ts({'name':_0x8ddfdd+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x8ddfdd+'MapUv','defaultValue':_0x199f71}),_0xa6a67c&&(ts({'name':_0x8ddfdd+'MapChannel','defaultValue':_0xa6a67c}),_0xe364f3&&(ts({'name':_0x8ddfdd+('VertexColo'+'r'),'defaultValue':!(-0xa9*0x1d+-0xe04+0x212a)}),ts({'name':_0x8ddfdd+('VertexColo'+'rChannel'),'defaultValue':_0xa6a67c})));const _0x15392d=_0x8ddfdd+'MapTiling',_0x21f751=_0x8ddfdd+'MapOffset',_0x43311e=_0x8ddfdd+('MapRotatio'+'n'),_0x4148d2=_0x8ddfdd+('MapTransfo'+'rm');Zc(_0x4148d2,(_0x226fdf,_0x571c42,_0x24bbad)=>{const _0x492744=_0x226fdf[_0x15392d],_0x450309=_0x226fdf[_0x21f751],_0xa12914=_0x226fdf[_0x43311e];if(_0x492744['x']===0x4*-0x925+-0x1a*0x142+0x4549&&_0x492744['y']===-0x22fa+0x1fe1+0x31a*0x1&&_0x450309['x']===-0x1c7a*0x1+-0xad*0xe+0x25f0&&_0x450309['y']===0x3*-0x2ff+0xa*-0x279+-0x3f*-0x89&&_0xa12914===-0x1dc2+0x9a5*-0x2+0x310c)return null;const _0x1310d5=_0x226fdf['_allocUnif'+'orm'](_0x4148d2,()=>[{'name':'texture_'+_0x4148d2+'0','value':new Float32Array(-0x1f34+0x19b9*0x1+0x57e)},{'name':'texture_'+_0x4148d2+'1','value':new Float32Array(-0x1*-0x1306+0x4c*-0x23+0x89f*-0x1)}]),_0x1a2a8f=Math['cos'](_0xa12914*N['DEG_TO_RAD']),_0xb32406=Math['sin'](_0xa12914*N['DEG_TO_RAD']),_0x51eb68=_0x1310d5[0x5ce*0x3+0x2a*-0x68+-0x5a]['value'];_0x51eb68[0x351*0x2+0x7d7*-0x3+0x189*0xb]=_0x1a2a8f*_0x492744['x'],_0x51eb68[0x1a79+-0x1779*-0x1+-0x1*0x31f1]=-_0xb32406*_0x492744['y'],_0x51eb68[0xa52+-0x5df+0x17b*-0x3]=_0x450309['x'];const _0x46590f=_0x1310d5[0x2a4+-0x207a+0x1dd7]['value'];return _0x46590f[-0x5ad*0x2+0x1e0f+-0x12b5]=_0xb32406*_0x492744['x'],_0x46590f[0x5*0x571+-0x15b1*0x1+-0x583]=_0x1a2a8f*_0x492744['y'],_0x46590f[0x819*-0x3+-0x19de+0x9*0x593]=-0x7a4+-0x6*-0x266+0xb*-0x9d-_0x492744['y']-_0x450309['y'],_0x1310d5;});}function Cn(_0x5469e9,_0x9f82a1){ts({'name':_0x5469e9,'defaultValue':_0x9f82a1,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x41d+0x2b*0x6+-0x51f),this['_'+_0x5469e9];}}),Zc(_0x5469e9,(_0x26d9f1,_0x15e880,_0x5f9661)=>{const _0x53fcaf=_0x26d9f1['_allocUnif'+'orm'](_0x5469e9,()=>new Float32Array(-0xd0d+0x1d6d+0x1*-0x105d)),_0x24f53a=_0x26d9f1[_0x5469e9];return Dl['linear'](_0x24f53a),_0x53fcaf[-0x153+-0x5*0x361+0x2*0x91c]=Dl['r'],_0x53fcaf[-0x525*0x2+-0x130b+-0x5de*-0x5]=Dl['g'],_0x53fcaf[-0x21be+0x1*-0x32d+0x24ed]=Dl['b'],_0x53fcaf;});}function Ce(_0x312084,_0x1ad9fa,_0x84aa60){ts({'name':_0x312084,'defaultValue':_0x1ad9fa,'dirtyShaderFunc':(_0x111841,_0x5deac2)=>(_0x111841===-0xd06+0x16e9+0x1*-0x9e3||_0x111841===-0x87d*-0x3+-0x41*0x67+0xb1)!=(_0x5deac2===0xeb1*-0x2+0x17*-0x173+-0x5f*-0xa9||_0x5deac2===-0x5*-0x5bd+-0x3*0x8ad+-0x2a9)}),Zc(_0x312084,_0x84aa60);}function qa(_0x2ec235,_0x4d36eb){ts({'name':_0x2ec235,'defaultValue':null,'dirtyShaderFunc':(_0x20438b,_0x280ce7)=>!!_0x20438b==!!_0x280ce7}),Zc(_0x2ec235,_0x4d36eb);}function we(_0x2a52ca,_0x349400){ts({'name':_0x2a52ca,'defaultValue':_0x349400});}function tM(){Cn('ambient',new Y(0x61*-0x3d+0x7d7+0xf47,-0xf9c+0x1*0x1c90+-0x41*0x33,-0x250d+-0x1b+0x2529)),Cn('diffuse',new Y(-0x15d3+0x1*0xaab+-0x1*-0xb29,-0x2a9*0x3+-0x1683+-0xd3*-0x25,-0x268a*-0x1+0x1f6c+0x45f5*-0x1)),Cn('specular',new Y(-0x16df+0x13*-0x8e+0x2169,0x9f9+-0x1b77+0x117e,-0x12b3+0x1*-0x26ad+-0xcc*-0x48)),Cn('emissive',new Y(0x5ae*-0x1+-0x3*-0x73e+-0x100c,0x23a5+0x17*-0x192+0x79,-0x1ba2+0x18*-0x6+-0x322*-0x9)),Cn('sheen',new Y(-0x2615+0xc7f+0x1997,0x220a+0xdaa+-0x1*0x2fb3,0x112*0x17+-0x1a56+-0x3*-0x93)),Cn('attenuatio'+'n',new Y(-0x85d*-0x2+-0xe9e+0x31*-0xb,-0x131b+0x545+0xdd7,-0x7*-0xcc+0x7cb+0xd5e*-0x1)),Ce('emissiveIn'+'tensity',0xca*0x1+0x454+0x51d*-0x1),Ce('specularit'+'yFactor',0x2682+-0x222c+0x1*-0x455),Ce('sheenGloss',0xa52+-0x16f*-0x17+-0x2b4b),Ce('gloss',0x178*-0x4+-0x407*-0x1+0x1d9+0.25),Ce('aoIntensit'+'y',-0x1b1e+-0xe3*-0x26+0x63*-0x11),Ce('heightMapF'+'actor',-0x104b+-0x1e87+-0x2ed3*-0x1,(_0x54c64f,_0x3306cd,_0x5ad819)=>_0x54c64f['heightMapF'+'actor']*(0x5*0x731+-0x5*-0x115+-0x1e*0x161+0.025)),Ce('opacity',-0x2036+-0x25*-0xd3+0x1b8),Ce('alphaFade',-0x2e5+0x1cd3+-0x19ed),Ce('alphaTest',0x1*0x10db+0x554*-0x3+-0xdf),Ce('bumpiness',0xe*-0x185+-0x1e*-0xf+0x13*0x107),Ce('normalDeta'+'ilMapBumpi'+'ness',-0x1*-0x803+-0xb95+0x393),Ce('reflectivi'+'ty',-0x1*-0x1bf2+-0x2*0x734+-0xd89),Ce('occludeSpe'+'cularInten'+'sity',-0xf5b*0x1+0x1361+-0x405),Ce('refraction',0x1a53+0x1fef+-0x3a42),Ce('refraction'+'Index',(0x7ed+0x261a+-0x2e06*0x1)/(-0x158d+-0x259f+0x3b2d*0x1+0.5)),Ce('dispersion',-0x26fb+0x1663+-0xc*-0x162),Ce('thickness',0x1*-0x72d+0x5ad*0x1+0x180),Ce('attenuatio'+'nDistance',0xa62+0xbd6+-0x1638),Ce('metalness',0x28b+0xcc2+0x2c*-0x59),Ce('anisotropy',0x5*0x65b+0x1ded+-0x3db4),Ce('clearCoat',0x3*0x5ba+0x26e+-0x139c),Ce('clearCoatG'+'loss',-0x3*-0x77b+-0x3*0xce1+0x1033),Ce('clearCoatB'+'umpiness',0xbb3+-0x13fb+0x849*0x1),Ce('aoUvSet',0x8a5*-0x4+-0xad*-0x37+-0x297,null),Ce('iridescenc'+'e',0x1*0x16bd+0xde8+0x9f*-0x3b),Ce('iridescenc'+'eRefractio'+'nIndex',(-0x1*-0x1c2d+-0x21e5*-0x1+-0x3e11)/(0x190+-0x3*-0xf+-0x1bc+0.5)),Ce('iridescenc'+'eThickness'+'Min',-0xa04*-0x3+-0x25a8*-0x1+-0x43b4),Ce('iridescenc'+'eThickness'+'Max',0x387+-0x1b93+-0xab*-0x24),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x4b36a3,_0x4c6964,_0x112ed8)=>{const _0x5d5e37=_0x4b36a3['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x137*-0x1a+0x1701*0x1+0x226*0x4)},{'name':'envBoxMax','value':new Float32Array(-0x112*-0xb+-0x159a+0x9d7)}]),_0x18a78a=_0x4b36a3['cubeMapPro'+'jectionBox']['getMin'](),_0x24f40e=_0x5d5e37[-0xd*-0x1eb+0x1*0x25+0xa*-0x282]['value'];_0x24f40e[-0x1*0x261d+-0x2158+0x4775]=_0x18a78a['x'],_0x24f40e[-0xd67+-0x64d*-0x5+-0x1219]=_0x18a78a['y'],_0x24f40e[-0x199f+0x97b*-0x4+0x3f8d]=_0x18a78a['z'];const _0x2e39a8=_0x4b36a3['cubeMapPro'+'jectionBox']['getMax'](),_0x3ce50c=_0x5d5e37[-0x1cc3+0x6bf*-0x2+0x2*0x1521]['value'];return _0x3ce50c[-0x250*0x9+-0x22*0x112+0x3934]=_0x2e39a8['x'],_0x3ce50c[0x914+-0x11fb+0x8e8]=_0x2e39a8['y'],_0x3ce50c[-0x192*-0xb+0xe1f+-0x1f63*0x1]=_0x2e39a8['z'],_0x5d5e37;}),we('specularTi'+'nt',!(0x860+-0x2636+0x1*0x1dd7)),we('specularit'+'yFactorTin'+'t',!(0x13e0+0x3d6*0x2+-0xb*0x281)),we('useMetalne'+'ss',!(0x5c5*-0x5+0x493*-0x7+0x3cdf*0x1)),we('useMetalne'+'ssSpecular'+'Color',!(-0x2235+-0xd96+0x2fcc)),we('useSheen',!(0x9*0x2ff+0x17cb*0x1+-0x32c1)),we('enableGGXS'+'pecular',!(-0x18ba+0x13*-0x36+0x1cbd)),we('occludeDir'+'ect',!(-0x205*0xd+-0x1894+0x32d6)),we('opacityFad'+'esSpecular',!(0x9d*0x11+0x1349*0x1+-0xedb*0x2)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(0x5*-0x6d3+0x761+-0x1abf*-0x1)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(-0x2a4+0x26af+0x1*-0x240b)),we('useLightin'+'g',!(0x2*-0x66e+-0x22bb+0x2f97)),we('useTonemap',!(-0x3*-0x5ab+0xb2*-0x5+-0xd87)),we('useSkybox',!(0x48a*0x1+-0x11*-0x89+-0xda3)),we('forceUv1',!(-0x11*0x1ab+0x1ecb*0x1+0x1*-0x26f)),we('pixelSnap',!(-0x151a+-0x7b*0x19+0x13a*0x1b)),we('twoSidedLi'+'ghting',!(0xc6d+-0x2626+0x1*0x19ba)),we('nineSliced'+'Mode',void(0xfb2+-0x1be3+-0xc31*-0x1)),we('msdfTextAt'+'tribute',!(-0x1302*-0x1+0x261a+-0x391b)),we('useIridesc'+'ence',!(-0x16*0x1+-0xb4b+-0x1*-0xb62)),we('glossInver'+'t',!(-0x591+-0x2687+-0x47*-0x9f)),we('sheenGloss'+'Invert',!(0x1a7e*0x1+-0x1229*-0x1+-0x2ca6*0x1)),we('clearCoatG'+'lossInvert',!(0x4d3+0x2574*0x1+0x1523*-0x2)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(-0x1423+-0x26c0+0x3ae4)),Ge('ao','g'),Ge('light','rgb',!(0x1*-0x2699+-0x2*-0x10e2+-0x1*-0x4d5),-0xbe3+0x1b*-0x59+-0x1a3*-0xd),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(-0x24ab+0xb2*-0xe+0x2e68)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(-0x751*-0x1+0x443+0x1*-0xb93)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x4a41e3=function(){return this['_prefilter'+'edCubemaps'];},_0x15c795=function(_0x4cde58){const _0x1ff995=this['_prefilter'+'edCubemaps'];_0x4cde58=_0x4cde58||[];let _0x3c8ee1=!(0x165b*-0x1+-0x48b*0x2+0xfb9*0x2),_0x116a4f=!(-0xbd2+0x1*0x1e13+-0x1241);for(let _0x39713f=-0x1d2+0x970+-0x28a*0x3;_0x39713f<0x2618+0x445*-0x2+0x24*-0xd2;++_0x39713f){const _0x73f75a=_0x4cde58[_0x39713f]||null;_0x1ff995[_0x39713f]!==_0x73f75a&&(_0x1ff995[_0x39713f]=_0x73f75a,_0x3c8ee1=!(0x1fdc+0x1751+0x19*-0x235)),_0x116a4f=_0x116a4f&&!!_0x1ff995[_0x39713f];}_0x3c8ee1&&(_0x116a4f?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x1ff995,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x2461+-0x168b+0x2e*-0x4d));},_0x588034=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x588034['slice'](),_0x15c795,_0x4a41e3);}tM();const dt=class dt{static['render'](_0x4c5740,_0xa2c540){const _0x358069=_0xa2c540['device'],_0x457328=_0x4c5740['cells'],_0x5eabe4=_0x4c5740['lightsBuff'+'er'],_0x3eabcb=_0x5eabe4['boundsMin'],_0x22075e=_0x5eabe4['boundsDelt'+'a'],_0x43e117=_0x3eabcb['clone']()['add'](_0x22075e),_0xffa399=_0x5eabe4['boundsDelt'+'a']['clone']()['div'](_0x457328),_0x1150bb=dt['gridPositi'+'ons'],_0xdf6cda=dt['gridColors'],_0x40fe5e=new Y(0x1f74+-0x1*0xd45+-0x122f+0.3,-0x1a1*0x2+0x2179+-0x1e37+0.3,0x463*-0x1+-0x73c+0xb9f+0.3),_0x2d32c1=(_0x4adc89,_0x3ec6fa,_0x1ff23b,_0x32f407,_0x7a3e5,_0x272f86,_0x2ae672,_0x4f2dbc,_0x3bbb2d)=>{for(let _0x2f946e=0x1*-0x15cd+0x66e+-0x313*-0x5;_0x2f946e<=_0x4adc89;_0x2f946e++)for(let _0x44102d=-0x561*0x3+-0x9*0x233+0x23ee;_0x44102d<=_0x3ec6fa;_0x44102d++){const _0x2e1821=_0x1ff23b+_0x2f946e*_0x32f407,_0x52a13c=_0x7a3e5+_0x44102d*_0x272f86;_0x3bbb2d===-0x20fb*-0x1+0x1bed+-0x8*0x79d?_0x1150bb['push'](_0x2e1821,_0x2ae672,_0x52a13c,_0x2e1821,_0x4f2dbc,_0x52a13c):_0x3bbb2d===-0x1*-0x1ad7+0xdc2+-0x3*0xd88?_0x1150bb['push'](_0x2e1821,_0x52a13c,_0x2ae672,_0x2e1821,_0x52a13c,_0x4f2dbc):_0x3bbb2d===-0x87f+-0x78*0x4d+0x2c99&&_0x1150bb['push'](_0x2ae672,_0x2e1821,_0x52a13c,_0x4f2dbc,_0x2e1821,_0x52a13c);}};if(_0x2d32c1(_0x457328['x'],_0x457328['z'],_0x3eabcb['x'],_0xffa399['x'],_0x3eabcb['z'],_0xffa399['z'],_0x3eabcb['y'],_0x43e117['y'],-0x23ba+-0x2aa*-0xa+-0x2*-0x48b),_0x2d32c1(_0x457328['x'],_0x457328['y'],_0x3eabcb['x'],_0xffa399['x'],_0x3eabcb['y'],_0xffa399['y'],_0x3eabcb['z'],_0x43e117['z'],0x1*0xf65+-0x1099+0x135),_0x2d32c1(_0x457328['y'],_0x457328['z'],_0x3eabcb['y'],_0xffa399['y'],_0x3eabcb['z'],_0xffa399['z'],_0x3eabcb['x'],_0x43e117['x'],-0x2*-0x434+-0x105d+0x1*0x7f7),_0x1150bb['length']){const _0x2d2d9c=_0x1150bb['length']/(0x26ae+-0x10e8+0x26b*-0x9);if(_0x2d2d9c!==_0xdf6cda['length']/(0xf*-0x201+-0x1260+-0x3073*-0x1)){_0xdf6cda['length']=0x130b+0x1891+-0xae7*0x4;for(let _0x5725d1=0x2244+0xb18+-0x2d5c;_0x5725d1<_0x2d2d9c;_0x5725d1++)_0xdf6cda['push'](_0x40fe5e['r'],_0x40fe5e['g'],_0x40fe5e['b'],_0x40fe5e['a']);}_0xa2c540['drawLineAr'+'rays'](_0x1150bb,_0xdf6cda),_0x1150bb['length']=-0x1751+0x1*0x908+0x4c3*0x3;}let _0x161c66=dt['mesh'];_0x161c66||(_0x161c66=new Ie(_0x358069),_0x161c66['clear'](!(-0x22d*0x1+0x1*-0x3a+0x267),!(-0x12f0*0x2+-0x1399+0x3979)),dt['mesh']=_0x161c66);const _0x4ffcdb=[],_0x221507=[],_0x1f8472=[],_0x28397d=_0x4c5740['_cells']['x'],_0x335088=_0x4c5740['_cells']['z'],_0x547b99=_0x4c5740['counts'],_0x41954a=_0x4c5740['_maxCellLi'+'ghtCount'],_0x46f50c=new T(),_0x57d1bd=new T(),_0x228fe5=new T(),_0x5b22c0=_0x22075e['clone']()['div'](_0x457328);let _0x2c982=0xbde+-0x26b7+-0x3*-0x8f3;for(let _0x28378a=0x1*-0x4b2+0x14d3*-0x1+0x1985;_0x28378a<_0x457328['x'];_0x28378a++)for(let _0x33950a=0x1*0x71f+0x1381+-0x4*0x6a8;_0x33950a<_0x457328['z'];_0x33950a++)for(let _0x37e4de=-0xe8b+-0xec5+0x1d50;_0x37e4de<_0x457328['y'];_0x37e4de++){const _0x2e103b=_0x28378a+_0x28397d*(_0x33950a+_0x37e4de*_0x335088),_0x11a6b1=_0x547b99[_0x2e103b];if(_0x11a6b1>-0xeb8+-0x54c+0x54*0x3d){_0x46f50c['x']=_0x3eabcb['x']+_0x5b22c0['x']*_0x28378a,_0x46f50c['y']=_0x3eabcb['y']+_0x5b22c0['y']*_0x37e4de,_0x46f50c['z']=_0x3eabcb['z']+_0x5b22c0['z']*_0x33950a,_0x57d1bd['add2'](_0x46f50c,_0x5b22c0),_0x4ffcdb['push'](_0x46f50c['x'],_0x46f50c['y'],_0x57d1bd['z']),_0x4ffcdb['push'](_0x57d1bd['x'],_0x46f50c['y'],_0x57d1bd['z']),_0x4ffcdb['push'](_0x57d1bd['x'],_0x57d1bd['y'],_0x57d1bd['z']),_0x4ffcdb['push'](_0x46f50c['x'],_0x57d1bd['y'],_0x57d1bd['z']),_0x4ffcdb['push'](_0x57d1bd['x'],_0x46f50c['y'],_0x46f50c['z']),_0x4ffcdb['push'](_0x46f50c['x'],_0x46f50c['y'],_0x46f50c['z']),_0x4ffcdb['push'](_0x46f50c['x'],_0x57d1bd['y'],_0x46f50c['z']),_0x4ffcdb['push'](_0x57d1bd['x'],_0x57d1bd['y'],_0x46f50c['z']),_0x228fe5['lerp'](dt['colorLow'],dt['colorHigh'],_0x11a6b1/_0x41954a)['round']();for(let _0x216244=-0x5*0x71d+0x1*0xa9f+0x18f2;_0x216244<0x2246+0xffc+0x3*-0x10be;_0x216244++)_0x221507['push'](_0x228fe5['x'],_0x228fe5['y'],_0x228fe5['z'],-0xa*-0x2a5+-0x1ff*0x3+-0x4*0x51d);_0x1f8472['push'](_0x2c982*(0x1*0xe56+-0x14f1*0x1+0x6a3)+(-0xde*-0xc+0x223*-0x1+-0x845),_0x2c982*(0x2506+-0x1b61+0x6b*-0x17)+(-0x22*0xae+0x1*0xa55+0xcc8),_0x2c982*(0x540+0x15a1+0x1d*-0xed)+(-0x22*0x10+-0x11a+0x33d)),_0x1f8472['push'](_0x2c982*(0xd*-0x2db+-0x1873+0x3d9a)+(0x1171+0x5*0x5a5+-0x1f*0x179),_0x2c982*(-0x23ce+-0x241d+-0x47f3*-0x1)+(0xad8+-0x251*0x6+0x30f),_0x2c982*(0x1*0x236a+-0xd1a+-0x1648)+(0x1*0x1ebb+0xb50+-0x11*0x279)),_0x1f8472['push'](_0x2c982*(-0x1398+0x3a*0x8+-0x4c*-0x3c)+(0x14b*0x1c+0x1454+-0x3884),_0x2c982*(-0x1229+0x704+0xb2d)+(0x1d3f+-0xe0a+-0xf30),_0x2c982*(0xd37+0xc*-0x2fb+0x1695)+(-0x248*0x11+-0x185*0x17+-0x832*-0x9)),_0x1f8472['push'](_0x2c982*(0xa1*0x17+0x4*0x8cd+-0x61*0x83)+(0xa*0x2d7+0x12e7+0x2f46*-0x1),_0x2c982*(0x2506*-0x1+-0x2465*-0x1+-0x1*-0xa9)+(0x129f+-0x86+-0x1214),_0x2c982*(-0xd*0x10d+0x1*0x188b+-0xada)+(0x2*-0x242+-0x303*0x8+0x1ca2)),_0x1f8472['push'](_0x2c982*(-0x2*0x4b6+-0x3fe*0x2+0x22e*0x8)+(-0x1d54+-0x503*-0x4+0x94b),_0x2c982*(-0x1e3c+-0x1be9*-0x1+0x25b*0x1)+(0x21a+0xd0f+0x1af*-0x9),_0x2c982*(0x1*-0x1ccd+0x2164+0x48f*-0x1)+(0x1aa2*-0x1+-0x4eb*-0x5+0x211)),_0x1f8472['push'](_0x2c982*(0x9b7*0x1+-0x11c9+-0x7a*-0x11)+(-0x196d+-0x432*-0x2+0x110b),_0x2c982*(0x47*0x2f+0x1*-0xdd0+0xcf)+(0x112a+0x20c4+-0x31e7),_0x2c982*(0x35*-0x65+-0x1*0x1f61+0x3452)+(-0x2668+0x85*0x47+-0x4f*-0x5)),_0x1f8472['push'](_0x2c982*(0x2bd*0x4+0x11ee+-0x1*0x1cda)+(-0x1*0x1f4e+-0xcf9*-0x2+0x55d*0x1),_0x2c982*(-0xc77+0x80e*0x2+-0x39d)+(0x35d*-0x6+-0x1788+0x2bb6),_0x2c982*(0x9a6+0x23db+-0x2d79)+(0xf*0x79+-0x2695+0x1f82)),_0x1f8472['push'](_0x2c982*(0xb03*-0x1+0x14f9+-0x9ee)+(-0x1*0x1fd+-0x1ea3+0x120*0x1d),_0x2c982*(0x1ca2+-0x2564+-0x32*-0x2d)+(0x4ad+0x26ed+-0x2b95),_0x2c982*(-0x1a45+0x3a+-0x19*-0x10b)+(0x381+0x19*0xbe+-0x160b)),_0x1f8472['push'](_0x2c982*(0x6*-0x67c+-0x119+0x2809)+(-0xc83+-0x3be*-0x2+0xa1*0x8),_0x2c982*(0x64*0xf+-0x104a+0xce*0xd)+(-0x1d43+-0x1*0x1188+-0x17*-0x209),_0x2c982*(0x1c36+0x2b*-0x95+-0x10d*0x3)+(0x12e9+-0x9*0x3df+-0x7f8*-0x2)),_0x1f8472['push'](_0x2c982*(-0x1487+-0xb30+-0x1fbf*-0x1)+(0x221+-0xe86+-0xc69*-0x1),_0x2c982*(0x1c7*-0x1+0x120e+0x1*-0x103f)+(-0x1561+-0x2113*0x1+0x367b),_0x2c982*(0xe4a+0xae3+-0x1925*0x1)+(0x12e2+0x17e6+-0x2ac6)),_0x1f8472['push'](_0x2c982*(0x1292+0xc91+-0x1f1b*0x1)+(0x1f8d+0x1bf4+-0x3b7c),_0x2c982*(0x2*-0x3a+-0x2*-0x1009+-0x1a*0x137)+(0x3e5*-0x1+-0x906+-0xceb*-0x1),_0x2c982*(0x1599+0x16a2+-0x2c33)+(-0x9f2+0x2*-0x114d+0x2c92)),_0x1f8472['push'](_0x2c982*(-0x1e20+0x5e+0x1dca)+(0x1905+-0x1*-0x153a+-0x2e3f),_0x2c982*(0xc07*-0x2+0x20ef+0x97*-0xf)+(-0x48*-0x6b+0x97a+-0x278f),_0x2c982*(-0x7*0x4b7+0x1f*0x2f+0x1b58)+(-0xd56+0x1423+0x1*-0x6c7)),_0x2c982++;}}if(_0x2c982){if(_0x161c66['setPositio'+'ns'](_0x4ffcdb),_0x161c66['setColors3'+'2'](_0x221507),_0x161c66['setIndices'](_0x1f8472),_0x161c66['update'](Ms,!(0xe0b+-0x4c*0x20+-0xa6*0x7)),!dt['meshInstan'+'ce']){const _0x211b75=new cs();_0x211b75['useLightin'+'g']=!(0x1c0e+0xfb1+0x3fa*-0xb),_0x211b75['emissive']=new Y(0x135e*0x1+0xc*0x12c+-0x216d,0x35*-0x89+0x46f+-0x22d*-0xb,0x6a*0x5d+-0xe2f*-0x2+0x143*-0x35),_0x211b75['emissiveVe'+'rtexColor']=!(-0x3*0x67e+0x16*-0x25+-0x5*-0x488),_0x211b75['blendType']=Hc,_0x211b75['depthWrite']=!(0x3*0xba2+-0x3f8*0x4+-0x1305),_0x211b75['update']();const _0x50b7e4=new De('WorldClust'+'ersDebug');_0x50b7e4['worldTrans'+'form']=q['IDENTITY'],_0x50b7e4['_dirtyWorl'+'d']=_0x50b7e4['_dirtyNorm'+'al']=!(0x56+0xbe4*-0x1+0x1*0xb8f),dt['meshInstan'+'ce']=new Le(_0x161c66,_0x211b75,_0x50b7e4),dt['meshInstan'+'ce']['cull']=!(0x40*-0x8+0x45b+0x2*-0x12d);}const _0x3200fd=dt['meshInstan'+'ce'];_0xa2c540['immediate']['drawMesh'](_0x3200fd['material'],_0x3200fd['node']['worldTrans'+'form'],null,_0x3200fd,_0xa2c540['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(-0x3*-0x219+0x34f+-0x9*0x111,0x641+-0x5e7+-0x59,0xe*0xbe+-0x41e*0x9+0x1*0x1aab)),c(dt,'colorHigh',new T(0x2*0x818+0x3*-0xbe7+-0x17*-0xdb,0x16*-0x9b+0x183d+-0xaeb,-0xc85*0x1+0x1*-0x1d1b+0x29a0));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x202889=atob(sM);vi=Uint8Array['from'](_0x202889,_0x49fcc6=>_0x49fcc6['charCodeAt'](0x995*0x4+-0x2f9*0x1+-0x235b));}},iM=()=>(R0(),vi);class rM{constructor(_0x40171b=0xdf2+0x1149+-0x1f3b){c(this,'seed',0x9d4+-0x2*0xe63+0x12f2),(this['seed']=_0x40171b*(-0x1*0x2623+-0x9c4+-0x57*-0x8d),R0());}['_next'](){this['seed']=(this['seed']+(-0x238f+-0x8f2+0x2c85))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(0x239e+-0x5*-0x273+0xe*-0x359);}['vec4'](_0x585cf6=new Q()){return this['_next'](),_0x585cf6['set'](vi[this['seed']],vi[this['seed']+(0x21*-0x10a+-0x1*-0x452+0x1df9)],vi[this['seed']+(0x1b66+-0x1df4+0x290)],vi[this['seed']+(-0x8*-0x243+-0x4*-0x4d6+0x1*-0x256d)])['mulScalar']((0x9a5+0xf87+0x1*-0x192b)/(-0x1de*-0x3+0x1ff*0x2+-0x899));}}const nM=[new T(-(0x6*0x608+0x4d6*0x6+0x1*-0x4133),-0xa04+0x8*-0xfe+0x17f*0xc,-0x959*0x1+-0x1322+0x1*0x1c7b),new T(-0x1a91+0x35*-0x5d+0x2dd3,0x262e+0x10a+0x5*-0x7d8,0x69+-0x1af0+0x1a87),new T(-0x1*0x923+-0x13c4+0x1ce7,-(-0x4*-0x251+0x5b+0x2*-0x4cf),-0x7*0x1ce+-0x1044+-0x6*-0x4d1),new T(-0x136*0x11+-0x2033+0x34c9,-0x1*-0xddf+0x1*0x440+-0x121e,-0x34*0x89+0x69e*-0x2+0x2910),new T(0xc94+-0x1*0x181d+0xb89,0x1*-0x1591+-0x14e5+0x2a76,-(-0x24a9+-0x2*-0x493+-0xdc2*-0x2)),new T(0x2004+0x1556+-0x2*0x1aad,-0x122f+0xaf*0x1a+0x69,0x1*0x9ef+0x68b+-0x1079*0x1)];class aM{constructor(){c(this,'colors',new Float32Array((-0xc56+-0x5d5+0x1231)*(-0x1df2*0x1+-0x18e7+0x36dc)));}['update'](_0x103d92,_0x126974){const _0x29a9e9=this['colors'],{r:_0x2ab6ca,g:_0x3aadb8,b:_0x443476}=_0x103d92;for(let _0x436efd=0x1*0xa63+-0x23d+-0x826;_0x436efd<0xb88+0x85b*0x1+-0x13dd;_0x436efd++)_0x29a9e9[_0x436efd*(-0x288+0x1*-0xff2+0x127d*0x1)]=_0x2ab6ca,_0x29a9e9[_0x436efd*(-0x12a*0x8+0x1*-0x1a35+-0x18*-0x17b)+(0x240b*-0x1+0x3a*-0x45+0x33ae)]=_0x3aadb8,_0x29a9e9[_0x436efd*(0xae3*-0x2+-0x2*0x7d6+0x2575)+(0x1*0x1da3+0x709+0x1255*-0x2)]=_0x443476;for(let _0x23b4b2=-0x1ef1*0x1+0x1c4b*-0x1+-0x3b3c*-0x1;_0x23b4b2<_0x126974['length'];_0x23b4b2++){const _0x1f9528=_0x126974[_0x23b4b2];if(_0x1f9528['_type']===oe)for(let _0x34704d=0x1*-0xac1+-0x8*0x17f+0x16b9;_0x34704d<0x2*-0xbe3+0xb5*0x1b+-0x1*-0x4b5;_0x34704d++){const _0x2e2d4e=Math['max'](nM[_0x34704d]['dot'](_0x1f9528['_direction']),0x1c8a+0x2401+-0x408b)*_0x1f9528['_intensity'],_0x5a99fc=_0x1f9528['_color'];_0x29a9e9[_0x34704d*(-0xcde+0x1f+0xcc2)]+=_0x5a99fc['r']*_0x2e2d4e,_0x29a9e9[_0x34704d*(-0x916+0x67b+0x29e)+(0x12d3+-0x10*0x3b+-0xf22)]+=_0x5a99fc['g']*_0x2e2d4e,_0x29a9e9[_0x34704d*(0x1f67+-0x363*-0xb+-0x44a5*0x1)+(-0x1*-0x755+0x1*0xf43+-0x1696)]+=_0x5a99fc['b']*_0x2e2d4e;}}}}const oM=(_0xa721ad,_0x18a23d,_0x3e65cc,_0x314c84)=>{const _0x521c80=new he(_0xa721ad,{'name':''+_0x18a23d+_0x3e65cc,'width':_0x3e65cc,'height':_0x3e65cc,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(0x2*0xb9c+-0xc0+-0x1b*0xd5)});return _0x521c80['lock']()['set'](_0x314c84),_0x521c80['unlock'](),_0x521c80;},lM=new Ot(),hM=_0xecbcc2=>lM['get'](_0xecbcc2,()=>{const _0x157092=iM(),_0xce188e=Math['sqrt'](_0x157092['length']/(-0x4*0x53d+-0x143f+0x3*0xdbd));return oM(_0xecbcc2,'BlueNoise',_0xce188e,_0x157092);});class un{constructor(_0xfe1499,_0x3f7faa){this['texture']=_0xfe1499,this['cached']=!(0x14d1+-0x1*-0x153a+-0x1505*0x2),this['renderTarg'+'ets']=_0x3f7faa;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x25ee38=this['renderTarg'+'ets'];for(let _0x32a087=-0xc8f+-0x3*0xe5+-0x1*-0xf3e;_0x32a087<_0x25ee38['length'];_0x32a087++)_0x25ee38[_0x32a087]['destroy']();this['renderTarg'+'ets']['length']=0x1d76+-0x1*0xe12+0x4*-0x3d9;}static['getShadowF'+'iltering'](_0x41c54d,_0x2d633f){return _0x2d633f===$r?_0x41c54d['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x195c7c,_0x39db5a){let _0x201b96=null;return _0x39db5a['_type']===Pe?_0x201b96=this['createCube'+'map'](_0x195c7c,_0x39db5a['_shadowRes'+'olution'],_0x39db5a['_shadowTyp'+'e']):_0x201b96=this['create2dMa'+'p'](_0x195c7c,_0x39db5a['_shadowRes'+'olution'],_0x39db5a['_shadowTyp'+'e']),_0x201b96;}static['createAtla'+'s'](_0x58ccab,_0x26c71a,_0x3ac08b){const _0x36a6e8=this['create2dMa'+'p'](_0x58ccab,_0x26c71a,_0x3ac08b),_0x4125dc=_0x36a6e8['renderTarg'+'ets'],_0x52fccd=_0x4125dc[-0x1528+0xd0a*0x1+0x2*0x40f];for(let _0x334a5f=0x17f*-0x5+-0xfb*0xa+0x1149;_0x334a5f<0x7*0x9f+-0x1*-0x8d8+-0xd2c*0x1;_0x334a5f++)_0x4125dc['push'](_0x52fccd);return _0x36a6e8;}static['create2dMa'+'p'](_0x5f394f,_0x189a4b,_0x527de0){var _0x5dc20e;const _0x204be8=ir['get'](_0x527de0);v['assert'](_0x204be8);let _0x3d969a=_0x204be8['format'];_0x3d969a===Ii&&!_0x5f394f['textureFlo'+'atRenderab'+'le']&&_0x5f394f['textureHal'+'fFloatRend'+'erable']&&(_0x3d969a=Ec);const _0x9351b5=(_0x5dc20e=xt['get'](_0x3d969a))==null?void(-0x673+0xd28+-0x6b5):_0x5dc20e['name'],_0xd7952b=this['getShadowF'+'iltering'](_0x5f394f,_0x527de0),_0x532ad8=new he(_0x5f394f,{'profilerHint':Tu,'format':_0x3d969a,'width':_0x189a4b,'height':_0x189a4b,'mipmaps':!(0x19b7+0xe84+-0x283a),'minFilter':_0xd7952b,'magFilter':_0xd7952b,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x9351b5});let _0x4f37da=null;return _0x204be8!=null&&_0x204be8['pcf']?(_0x532ad8['compareOnR'+'ead']=!(-0x1771+0x2175+-0xa04),_0x532ad8['compareFun'+'c']=Eh,_0x4f37da=new pt({'depthBuffer':_0x532ad8})):_0x4f37da=new pt({'colorBuffer':_0x532ad8,'depth':!(0x1817*0x1+-0x2*0x45c+-0xf5f)}),_0x5f394f['isWebGPU']&&(_0x4f37da['flipY']=!(0x10ae*-0x2+0x3d1*-0x8+0x3fe4)),new un(_0x532ad8,[_0x4f37da]);}static['createCube'+'map'](_0x4a8d1e,_0x458fb1,_0x22dce0){var _0x141475;const _0xf733b1=ir['get'](_0x22dce0);v['assert'](_0xf733b1);const _0x54ff56=(_0x141475=xt['get'](_0xf733b1['format']))==null?void(0x1075+0x1*0x1bf6+-0x2c6b):_0x141475['name'],_0x3a6133=_0x22dce0===Ts,_0x5b6890=_0x3a6133?de:st,_0x1ddeac=new he(_0x4a8d1e,{'profilerHint':Tu,'format':_0xf733b1==null?void(-0x1f*-0x76+0x419*-0x1+-0xa31):_0xf733b1['format'],'width':_0x458fb1,'height':_0x458fb1,'cubemap':!(0x21e*0x2+0x831*-0x3+-0x1457*-0x1),'mipmaps':!(0x1def*-0x1+-0x1da+0x1fca),'minFilter':_0x5b6890,'magFilter':_0x5b6890,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x54ff56});_0x3a6133||(_0x1ddeac['compareOnR'+'ead']=!(0x30e+0x1f30+-0x223e),_0x1ddeac['compareFun'+'c']=Eh);const _0x54f868=[];for(let _0x158b89=-0x1*-0x76d+0xc27+-0x1394;_0x158b89<-0x32*0x7b+0xbcf*-0x1+-0x23db*-0x1;_0x158b89++)_0x3a6133?_0x54f868['push'](new pt({'colorBuffer':_0x1ddeac,'face':_0x158b89,'depth':!(-0xa1f*0x1+0x18d8+-0xeb9)})):_0x54f868['push'](new pt({'depthBuffer':_0x1ddeac,'face':_0x158b89}));return new un(_0x1ddeac,_0x54f868);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x27d36e){this['size']=Math['floor'](_0x27d36e['w']*(-0x246b*-0x1+-0x4*0x556+-0xb13)),this['used']=!(0x3*0x5ff+-0xa4f+-0x7ad*0x1),this['lightId']=-(0x1122*-0x1+0x2*0xbe7+0x6ab*-0x1),this['rect']=_0x27d36e;}}class uM{constructor(_0x10188d){this['device']=_0x10188d,this['version']=-0x1860+-0x80e*-0x2+0x845,this['shadowAtla'+'sResolutio'+'n']=0xc*-0x62+0x531+-0x767*-0x1,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0x1cbd+0xa*-0x361+0x5*0xc82,this['cookieAtla'+'sResolutio'+'n']=-0x1c32+-0xe81+0x88b*0x5,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(-0x1012+0x1772+0x75f*-0x1),'mipmaps':!(0x1*0x14b+0x10*-0x1c+-0x1*-0x76),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x228e+-0x1e65+0x7*-0x98),'flipY':!(0x25b7+-0x383*-0x1+0x6df*-0x6)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new $(0x9*-0x3c3+0x9c+0x213f,-0x119b+0x348+-0xc1*-0x13),new $(-0x6a0+0x2*0x2b3+-0x1*-0x13a,-0x1d3*0x10+0x1226*0x2+0x1*-0x71b),new $(-0x1cd*0x5+0x22f7+-0x19f5,-0x256+0x61*-0x9+0x5bf),new $(-0x4*-0x8e0+-0xff3+0x12*-0x116,0x24*0xb0+0x425+-0x1ce4),new $(-0x1*0x1085+0x2*-0x376+-0x9*-0x29b,0x1b62+0xe99+-0x29fb),new $(0x270e+-0x1d4b*-0x1+0x4457*-0x1,-0x1959+-0x9a+0x4*0x67d)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](-0x3cb*0x2+-0x64b+-0x2*-0x6f1),this['allocateCo'+'okieAtlas'](-0x39c+-0xc67+0xcd*0x14),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x1edff4;(_0x1edff4=this['shadowAtla'+'s'])==null||_0x1edff4['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x40ac87,_0xb1cbe7;(_0x40ac87=this['cookieAtla'+'s'])==null||_0x40ac87['destroy'](),this['cookieAtla'+'s']=null,(_0xb1cbe7=this['cookieRend'+'erTarget'])==null||_0xb1cbe7['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x5e9311,_0x11c86e=Dt){var _0x496d02;const _0xc9ff9c=(_0x496d02=this['shadowAtla'+'s'])==null?void(-0x2*0x27b+-0x1*-0x1a7e+-0x1588):_0x496d02['texture']['format'],_0x36f7a4=ir['get'](_0x11c86e)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x5e9311||_0xc9ff9c!==_0x36f7a4){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x5e9311,_0x11c86e),this['shadowAtla'+'s']['cached']=!(0x1ae8+-0xe5b+-0xc8d);const _0x4ba640=(-0x3f1+0x1*-0x22d5+0x26ca)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x4ba640,_0x4ba640,-(-0x107b+0x56+-0x5*-0x33b)*_0x4ba640,-(0xd35+-0x2308+0x15d5)*_0x4ba640);}}['allocateCo'+'okieAtlas'](_0x2f931c){this['cookieAtla'+'s']['width']!==_0x2f931c&&(this['cookieRend'+'erTarget']['resize'](_0x2f931c,_0x2f931c),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x1*-0x8cd+-0x390*-0x5+0x7*-0x3cd),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x256f62=this['shadowAtla'+'s']['renderTarg'+'ets'][0x1664+0x15f6+0x656*-0x7]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x256f62),this['_shadowAtl'+'asParams'][-0xb82+0x1c85+-0x1103]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x1d9d+0x191a+-0x36b6*0x1]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x3ce686,_0x38e49e){let _0x1835a5=_0x38e49e['atlasSplit'];if(!_0x1835a5){const _0x4c80e0=Math['ceil'](Math['sqrt'](_0x3ce686));_0x1835a5=dM,_0x1835a5[-0x520*-0x2+0x247c+-0x175e*0x2]=_0x4c80e0,_0x1835a5['length']=-0x2d5*0x8+-0x135*0x1c+-0x95*-0x61;}if(!((_0xfaecee,_0x5a5977)=>_0xfaecee['length']===_0x5a5977['length']&&_0xfaecee['every']((_0x1817d4,_0x765276)=>_0x1817d4===_0x5a5977[_0x765276]))(_0x1835a5,this['atlasSplit'])){this['version']++,this['slots']['length']=0x834+0x8ba*-0x1+0x43*0x2,this['atlasSplit']['length']=-0x1784+0x1b7e+0x1*-0x3fa,this['atlasSplit']['push'](..._0x1835a5);const _0x22cdd6=this['atlasSplit'][0x33b+-0xe33+0xaf8];if(_0x22cdd6>-0x1*0x157f+-0xb*0x30d+0x370f){const _0x288307=(-0x1bda+0x1a8b+0x150)/_0x22cdd6;for(let _0x4499b0=-0xab+0x182+-0x5*0x2b;_0x4499b0<_0x22cdd6;_0x4499b0++)for(let _0x3a8f20=0x18c*-0x12+-0x503*0x6+0x39ea;_0x3a8f20<_0x22cdd6;_0x3a8f20++){const _0x367a4f=new Q(_0x4499b0*_0x288307,_0x3a8f20*_0x288307,_0x288307,_0x288307),_0x464181=this['atlasSplit'][0xb*-0x2a6+-0x749*-0x5+-0x74a+_0x4499b0*_0x22cdd6+_0x3a8f20];if(_0x464181>-0xc00+0x39*-0x6b+0x23d4){for(let _0x25411e=0x8fe*-0x3+-0x26eb+0x41e5;_0x25411e<_0x464181;_0x25411e++)for(let _0x11f982=0x1*0xe4b+0x1a*0x24+-0x11f3*0x1;_0x11f982<_0x464181;_0x11f982++){const _0xf988e4=_0x288307/_0x464181,_0x2f8160=new Q(_0x367a4f['x']+_0x25411e*_0xf988e4,_0x367a4f['y']+_0x11f982*_0xf988e4,_0xf988e4,_0xf988e4);this['slots']['push'](new Md(_0x2f8160));}}else this['slots']['push'](new Md(_0x367a4f));}}else this['slots']['push'](new Md(new Q(0xe*-0x181+-0x699+-0x1ba7*-0x1,-0x1943+-0x25ae+0x3ef1,0x16d*-0x16+-0xa7*-0x4+0x1cc3,-0x1*0x1b42+-0x4*0x513+0x19*0x1e7)));this['slots']['sort']((_0x3f1691,_0x2cca42)=>_0x2cca42['size']-_0x3f1691['size']);}}['collectLig'+'hts'](_0x5c7634,_0x28662b){const _0x39425e=_0x28662b['cookiesEna'+'bled'],_0x24b6cf=_0x28662b['shadowsEna'+'bled'];let _0x1a237d=!(0x847+0x2147*-0x1+0x1*0x1901),_0x39f064=!(-0x1*0x16a5+0x22fe+-0x14*0x9e);const _0x2c7e58=cM;return _0x2c7e58['length']=0x1547+-0x1e3d+-0x25*-0x3e,(_0x39425e||_0x24b6cf)&&(_0xee418a=>{for(let _0x4a500a=0x1436+0x14a*0x2+-0x16ca;_0x4a500a<_0xee418a['length'];_0x4a500a++){const _0x5537dc=_0xee418a[_0x4a500a];if(_0x5537dc['visibleThi'+'sFrame']){const _0xcd7ad8=_0x24b6cf&&_0x5537dc['castShadow'+'s'],_0x11f275=_0x39425e&&!!_0x5537dc['cookie'];_0x1a237d||(_0x1a237d=_0xcd7ad8),_0x39f064||(_0x39f064=_0x11f275),(_0xcd7ad8||_0x11f275)&&_0x2c7e58['push'](_0x5537dc);}}})(_0x5c7634),_0x2c7e58['sort']((_0x4b5183,_0x3f3baf)=>_0x3f3baf['maxScreenS'+'ize']-_0x4b5183['maxScreenS'+'ize']),_0x1a237d&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x28662b['shadowType']),_0x39f064&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x1a237d||_0x39f064)&&this['subdivide'](_0x2c7e58['length'],_0x28662b),_0x2c7e58;}['setupSlot'](_0x2f9522,_0x2ec5ac){_0x2f9522['atlasViewp'+'ort']['copy'](_0x2ec5ac);const _0x3d3528=_0x2f9522['numShadowF'+'aces'];for(let _0xdbdeaf=0x3*-0x37a+-0x1882+0x22f0;_0xdbdeaf<_0x3d3528;_0xdbdeaf++)if(_0x2f9522['castShadow'+'s']||_0x2f9522['_cookie']){if(Js['copy'](_0x2ec5ac),Cd['copy'](_0x2ec5ac),_0x2f9522['_type']===Re&&Js['add'](this['scissorVec']),_0x2f9522['_type']===Pe){const _0x97994=Js['z']/(0x2e*-0xa6+0x1f80+-0x1a9),_0x1160ce=this['cubeSlotsO'+'ffsets'][_0xdbdeaf];Js['x']+=_0x97994*_0x1160ce['x'],Js['y']+=_0x97994*_0x1160ce['y'],Js['z']=_0x97994,Js['w']=_0x97994,Cd['copy'](Js);}if(_0x2f9522['castShadow'+'s']){const _0x2dd0a1=_0x2f9522['getRenderD'+'ata'](null,_0xdbdeaf);_0x2dd0a1['shadowView'+'port']['copy'](Js),_0x2dd0a1['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x224e85,_0x357550,_0x2aba8e){_0x224e85['atlasViewp'+'ortAllocat'+'ed']=!(-0x635*-0x5+0x13db+0xcb9*-0x4);const _0x511571=this['slots'][_0x357550];_0x511571['lightId']=_0x224e85['id'],_0x511571['used']=!(-0x2122*0x1+-0x1*-0x1795+0xf*0xa3),_0x2aba8e&&(_0x224e85['atlasSlotU'+'pdated']=!(-0x23bd+0x624+0x1d99),_0x224e85['atlasVersi'+'on']=this['version'],_0x224e85['atlasSlotI'+'ndex']=_0x357550);}['update'](_0x37eeca,_0x2733b6){this['shadowAtla'+'sResolutio'+'n']=_0x2733b6['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x2733b6['cookieAtla'+'sResolutio'+'n'];const _0x49cbb2=this['collectLig'+'hts'](_0x37eeca,_0x2733b6);if(_0x49cbb2['length']>0x5c5+-0x2095*-0x1+0x265a*-0x1){const _0x24c282=this['slots'];for(let _0x496f2c=-0x2*-0x122c+-0x1*0x1818+-0x20*0x62;_0x496f2c<_0x24c282['length'];_0x496f2c++)_0x24c282[_0x496f2c]['used']=!(0x1ca*0x11+-0x7f*-0x22+-0x2f47);const _0x3ca7f9=Math['min'](_0x49cbb2['length'],_0x24c282['length']);for(let _0x19faf6=-0x2469+0x26c3*0x1+0x56*-0x7;_0x19faf6<_0x3ca7f9;_0x19faf6++){const _0x562bbe=_0x49cbb2[_0x19faf6];_0x562bbe['castShadow'+'s']&&(_0x562bbe['_shadowMap']=this['shadowAtla'+'s']);const _0x1c1369=_0x24c282[_0x562bbe['atlasSlotI'+'ndex']];if(_0x562bbe['atlasVersi'+'on']===this['version']&&_0x562bbe['id']===(_0x1c1369==null?void(0x63c*0x4+0x7*0x4a1+-0x3f*0xe9):_0x1c1369['lightId'])){const _0x4ab72f=_0x24c282[_0x562bbe['atlasSlotI'+'ndex']];_0x4ab72f['size']===_0x24c282[_0x19faf6]['size']&&!_0x4ab72f['used']&&this['assignSlot'](_0x562bbe,_0x562bbe['atlasSlotI'+'ndex'],!(0x945*-0x3+0x1a64*0x1+0x16c));}}let _0x5f0b25=0xe0f*-0x2+-0x1c2b+0x3849;for(let _0x4de182=0x8c8+-0x2*-0x427+0x1*-0x1116;_0x4de182<_0x3ca7f9;_0x4de182++){for(;_0x5f0b25<_0x24c282['length']&&_0x24c282[_0x5f0b25]['used'];)_0x5f0b25++;const _0x1a5143=_0x49cbb2[_0x4de182];_0x1a5143['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x1a5143,_0x5f0b25,!(0x159d+-0x1*0x15b2+-0x7*-0x3));const _0x286764=_0x24c282[_0x1a5143['atlasSlotI'+'ndex']];this['setupSlot'](_0x1a5143,_0x286764['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x607a17=>{_0x607a17['forEach'](_0x4b58ae=>{_0x4b58ae['destroy']();});}),this['cache']['clear']();}['getKey'](_0x62d746){const _0x5a1869=_0x62d746['_type']===Pe,_0x343db0=_0x62d746['_shadowTyp'+'e'],_0x611c69=_0x62d746['_shadowRes'+'olution'];return _0x5a1869+'-'+_0x343db0+'-'+_0x611c69;}['get'](_0x139643,_0x597395){const _0xe32bfc=this['getKey'](_0x597395),_0x18c7b4=this['cache']['get'](_0xe32bfc);if(_0x18c7b4&&_0x18c7b4['length'])return _0x18c7b4['pop']();const _0x1e883c=un['create'](_0x139643,_0x597395);return _0x1e883c['cached']=!(-0xbc*0x1a+0x5ae+0xd6a),_0x1e883c;}['add'](_0x566667,_0x33cf79){const _0x45757e=this['getKey'](_0x566667),_0x537927=this['cache']['get'](_0x45757e);_0x537927?_0x537927['push'](_0x33cf79):this['cache']['set'](_0x45757e,[_0x33cf79]);}}class pM extends ds{constructor(_0x529da2,_0x57e3c9,_0x104533,_0x1026fa,_0x53e05c){super(_0x529da2),mn['setName'](this,this['name']+'-'+_0x104533['_node']['name']),this['requiresCu'+'bemaps']=!(0xc4c+0x1*-0x1a6b+0xe20),this['shadowRend'+'erer']=_0x57e3c9,this['light']=_0x104533,this['face']=_0x1026fa,this['applyVsm']=_0x53e05c,this['shadowCame'+'ra']=_0x57e3c9['prepareFac'+'e'](_0x104533,null,_0x1026fa),_0x57e3c9['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x503+-0x1616+-0x1113*-0x1));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0x907*0x1+0x12f3+-0x9eb*0x1));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x232ec8,_0x2c4be7){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x232ec8,this['shadowRend'+'erer']=_0x2c4be7,this['device']=_0x232ec8['device']);}['cull'](_0x4f8e12,_0xb9da37,_0x3c8623=null){const _0x2fbd89=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x4f8e12['visibleThi'+'sFrame']=!(-0x4ee*-0x2+-0x702*-0x4+0x1*-0x25e4),_0x2fbd89||_0x4f8e12['_shadowMap']||(_0x4f8e12['_shadowMap']=un['create'](this['device'],_0x4f8e12));const _0x3fd0bd=_0x4f8e12['_type'],_0x141186=_0x3fd0bd===Re?-0x10a9+0x10b1+-0x7:0x1b5d+-0x2d8+-0x187f;for(let _0x7ff963=0x7*0x17+-0x142d+0x138c;_0x7ff963<_0x141186;_0x7ff963++){const _0x4a2232=_0x4f8e12['getRenderD'+'ata'](null,_0x7ff963),_0x2b28ee=_0x4a2232['shadowCame'+'ra'];_0x2b28ee['nearClip']=_0x4f8e12['attenuatio'+'nEnd']/(0x11a4+-0x1ad6+0xd*0x102),_0x2b28ee['farClip']=_0x4f8e12['attenuatio'+'nEnd'];const _0x32b777=_0x2b28ee['_node'],_0x47598d=_0x4f8e12['_node'];if(_0x32b777['setPositio'+'n'](_0x47598d['getPositio'+'n']()),_0x3fd0bd===Re)_0x2b28ee['fov']=_0x4f8e12['_outerCone'+'Angle']*(-0x16bb+0x44*0x85+0xc97*-0x1),_0x32b777['setRotatio'+'n'](_0x47598d['getRotatio'+'n']()),_0x32b777['rotateLoca'+'l'](-(0x3e*0x10+0x3*-0xb66+0x1a*0x12e),0x9c1*-0x2+-0x212c+0x34ae,-0x2455+0x107d+0x4*0x4f6);else{if(_0x3fd0bd===Pe){if(_0x2fbd89){const _0xde14ba=(-0xf49+0xb54*0x1+-0x91*-0x7)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x4f8e12['atlasViewp'+'ort']['z']/(0x38f*-0x1+-0xdb3+-0x1*-0x1145))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x2b28ee['fov']=Math['atan'](0x7f8+-0x72a+-0xcd+_0xde14ba)*N['RAD_TO_DEG']*(-0xb9c*-0x2+-0x5*0xe3+-0x12c7);}else _0x2b28ee['fov']=0xeb3+-0x146f+0x616;}}this['renderer']['updateCame'+'raFrustum'](_0x2b28ee),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0xb9da37,_0x4f8e12,_0x4a2232['visibleCas'+'ters'],_0x2b28ee,_0x3c8623);}}['prepareLig'+'hts'](_0x37fb24,_0x78acc8){let _0x2f8a87;for(let _0x4bde41=0x1b7*0x14+0x445*0x2+-0x2ad6;_0x4bde41<_0x78acc8['length'];_0x4bde41++){const _0x435fee=_0x78acc8[_0x4bde41];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x435fee)&&_0x435fee['atlasViewp'+'ortAllocat'+'ed']){_0x37fb24['push'](_0x435fee);for(let _0x1ae020=-0xf82+-0xca*0x1+0x104c;_0x1ae020<_0x435fee['numShadowF'+'aces'];_0x1ae020++)_0x2f8a87=this['shadowRend'+'erer']['prepareFac'+'e'](_0x435fee,null,_0x1ae020);}}return _0x2f8a87;}['buildNonCl'+'usteredRen'+'derPasses'](_0x577a63,_0x471229){for(let _0x1067aa=0x288+-0x5d1+-0x349*-0x1;_0x1067aa<_0x471229['length'];_0x1067aa++){const _0xc3390f=_0x471229[_0x1067aa];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0xc3390f)){const _0x862bed=_0xc3390f['_type']===Re,_0x254e23=_0xc3390f['numShadowF'+'aces'];for(let _0x22d083=0x1b68+0xa7*-0x20+-0x13*0x58;_0x22d083<_0x254e23;_0x22d083++){const _0x4271d5=new pM(this['device'],this['shadowRend'+'erer'],_0xc3390f,_0x22d083,_0x862bed);_0x577a63['addRenderP'+'ass'](_0x4271d5);}}}}}class _M extends ds{constructor(_0x19c63f,_0xcba361,_0x3e5cec,_0x354597,_0x8d4584){super(_0x19c63f),mn['setName'](this,this['name']+'-'+_0x3e5cec['_node']['name']),this['shadowRend'+'erer']=_0xcba361,this['light']=_0x3e5cec,this['camera']=_0x354597,this['allCascade'+'sRendering']=_0x8d4584;}['execute'](){const {light:_0x5bc494,camera:_0x374137,shadowRenderer:_0x637ae,allCascadesRendering:_0x2356dc}=this,_0x3b463b=_0x5bc494['numShadowF'+'aces'],_0x35ecc9=_0x5bc494['shadowUpda'+'teOverride'+'s'];for(let _0x11576b=0xf*0x1fc+-0x1e06+0x6*0xb;_0x11576b<_0x3b463b;_0x11576b++)(_0x35ecc9==null?void(-0x3*0x4fd+-0x26*-0xf7+-0x15b3):_0x35ecc9[_0x11576b])!==Ps&&_0x637ae['renderFace'](_0x5bc494,_0x374137,_0x11576b,!_0x2356dc),(_0x35ecc9==null?void(-0x633+-0x1a6+0x31*0x29):_0x35ecc9[_0x11576b])===cn&&(_0x35ecc9[_0x11576b]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0x37d305,_0x55e88d,_0x41d8a2){Fe[-0x1abe*0x1+0x2208+-0x137*0x6]['x']=Fe[-0x2690+0x4*-0x11b+0x899*0x5]['x']=Fe[-0x1*-0x1185+-0x22ac+0x1129*0x1]['x']=Fe[0x2253+-0x1d15*-0x1+-0x3f65*0x1]['x']=_0x55e88d['x'],Fe[0x2*-0x7c3+-0x378*0x6+-0x3*-0xc1d]['y']=Fe[0x57*-0x4f+-0x5*0x768+0x3fe4]['y']=Fe[-0x1*0x23de+0x11*-0x20b+0x46a0]['y']=Fe[0x153c+0x1779+-0x2cb0]['y']=_0x55e88d['y'],Fe[0x1647+0xff6+-0x1*0x263b]['z']=Fe[0x1538+0x81*0x47+-0x38fc]['z']=Fe[-0x5*-0x745+0x1988+-0x3ddb]['z']=Fe[-0xbbb+0x18d2+-0x2*0x688]['z']=_0x55e88d['z'],Fe[-0x265c+0xa2f*-0x1+-0x1f*-0x191]['x']=Fe[0x2*-0x4a8+-0x10f*0x17+-0x10d7*-0x2]['x']=Fe[-0x17*0x12f+-0x9*0x1e5+0x2c4c]['x']=Fe[-0x2*0x84e+-0x630+0x16d3]['x']=_0x41d8a2['x'],Fe[0x1*-0x1df9+0x1*-0x1082+-0xa3*-0x49]['y']=Fe[0xe9*0xa+-0xfb5*-0x1+-0x38b*0x7]['y']=Fe[-0x43*-0x4+-0x6d*0x35+0x1589]['y']=Fe[-0x199*-0x9+-0x1*-0x2291+-0x30ec]['y']=_0x41d8a2['y'],Fe[0xa7f+-0x5e7*-0x5+0x1*-0x2802]['z']=Fe[-0xfda*0x2+0x1700+0x2e7*0x3]['z']=Fe[0x2*-0x453+-0x5*-0x6a9+-0x173*0x11]['z']=Fe[0x2707+-0x1a1+-0x557*0x7]['z']=_0x41d8a2['z'];let _0xfc23ef=0x1e2e01d80+0x2*-0x229c9ba49+0x4c4bf3b11*0x1,_0x4f8bb8=-(0x2cfe89b91*0x1+-0x1a92159e0+-0x2932f56*-0x75);for(let _0x58675d=0x1*0x46+-0x287+0x1*0x241;_0x58675d<-0x4c*-0x10+-0x1b35+-0x167d*-0x1;++_0x58675d){_0x37d305['transformP'+'oint'](Fe[_0x58675d],Fe[_0x58675d]);const _0x3fdaf0=Fe[_0x58675d]['z'];_0x3fdaf0<_0xfc23ef&&(_0xfc23ef=_0x3fdaf0),_0x3fdaf0>_0x4f8bb8&&(_0x4f8bb8=_0x3fdaf0);}return Pd['min']=_0xfc23ef,Pd['max']=_0x4f8bb8,Pd;}class yM{constructor(_0x2c8728,_0x528a05){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x2c8728,this['shadowRend'+'erer']=_0x528a05,this['device']=_0x2c8728['device']);}['cull'](_0x15e59f,_0x12b2c6,_0x45abcb,_0x274e23=null){_0x15e59f['visibleThi'+'sFrame']=!(-0x1ee1+-0x170c+0x35ed),_0x15e59f['_shadowMap']||(_0x15e59f['_shadowMap']=un['create'](this['device'],_0x15e59f));const _0x13952b=_0x45abcb['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x15e59f,_0x13952b,Math['min'](_0x45abcb['_farClip'],_0x15e59f['shadowDist'+'ance']));const _0x3a1dd4=_0x15e59f['shadowUpda'+'teOverride'+'s'];for(let _0x4e262e=-0x182b+0x1*-0x1a31+0x325c;_0x4e262e<_0x15e59f['numCascade'+'s']&&(_0x3a1dd4==null?void(0x39b+-0x88*0x32+0x1*0x16f5):_0x3a1dd4[_0x4e262e])!==Ps;_0x4e262e++){const _0x464a6d=_0x15e59f['getRenderD'+'ata'](_0x45abcb,_0x4e262e),_0x2adef9=_0x464a6d['shadowCame'+'ra'];_0x2adef9['renderTarg'+'et']=_0x15e59f['_shadowMap']['renderTarg'+'ets'][-0x1e89+0x8bb*-0x2+-0x1*-0x2fff],_0x464a6d['shadowView'+'port']['copy'](_0x15e59f['cascades'][_0x4e262e]),_0x464a6d['shadowScis'+'sor']['copy'](_0x15e59f['cascades'][_0x4e262e]);const _0x161011=_0x2adef9['_node'],_0x30c787=_0x15e59f['_node'];_0x161011['setPositio'+'n'](_0x30c787['getPositio'+'n']()),_0x161011['setRotatio'+'n'](_0x30c787['getRotatio'+'n']()),_0x161011['rotateLoca'+'l'](-(0x6*-0x50b+0x2486+-0x5ea),-0x6b1+0x5ae*-0x4+0x1d69*0x1,0x497*-0x1+-0x1bfb+-0xb*-0x2f6);const _0x3b8a70=_0x4e262e===-0x256e+-0x15d*0xb+0x1*0x346d?_0x13952b:_0x15e59f['_shadowCas'+'cadeDistan'+'ces'][_0x4e262e-(0x1007*0x1+0x82*0x1d+-0x1ec0)],_0x4913e0=_0x15e59f['_shadowCas'+'cadeDistan'+'ces'][_0x4e262e],_0x42c3c6=_0x45abcb['getFrustum'+'Corners'](_0x3b8a70,_0x4913e0);ei['set'](-0x9ef*0x2+0x11a7+-0x3f*-0x9,-0x1271+0x785+0xaec,0x223*0xa+0x1550+-0x2aae);const _0x164bee=_0x45abcb['node']['getWorldTr'+'ansform']();for(let _0x575760=0x1273+0x3*0x442+-0x1f39;_0x575760<-0x8cb*0x2+-0xaf9+0x1c97;_0x575760++)_0x164bee['transformP'+'oint'](_0x42c3c6[_0x575760],_0x42c3c6[_0x575760]),ei['add'](_0x42c3c6[_0x575760]);ei['mulScalar']((0x2319*-0x1+-0xd1*0x2f+0x4979)/(0x10cb+0x251e+0x35e1*-0x1));let _0x47baaa=-0x60b*-0x1+0x6d*0x47+-0x1223*0x2;for(let _0x5dc39d=0x61*0x40+0xc8*0x11+0x1*-0x2588;_0x5dc39d<-0xc*-0x2fc+0x1*0x18b2+-0x1e3d*0x2;_0x5dc39d++){const _0x178e48=_0x42c3c6[_0x5dc39d]['sub'](ei)['length']();_0x178e48>_0x47baaa&&(_0x47baaa=_0x178e48);}const _0xd2d36a=_0x161011['right'],_0x2c5048=_0x161011['up'],_0x1c7367=_0x161011['forward'],_0x376b5b=(-0x1696+-0x26cf*0x1+0x3d65+0.25)*_0x15e59f['_shadowRes'+'olution']/_0x47baaa,_0x116a76=Math['ceil'](ei['dot'](_0x2c5048)*_0x376b5b)/_0x376b5b,_0x1fa30c=Math['ceil'](ei['dot'](_0xd2d36a)*_0x376b5b)/_0x376b5b,_0x449760=_0x2c5048['mulScalar'](_0x116a76),_0x456391=_0xd2d36a['mulScalar'](_0x1fa30c),_0x2ac5f9=ei['dot'](_0x1c7367),_0x43472c=_0x1c7367['mulScalar'](_0x2ac5f9);ei['add2'](_0x449760,_0x456391)['add'](_0x43472c),_0x161011['setPositio'+'n'](ei),_0x161011['translateL'+'ocal'](-0x256c+0x1ed3*0x1+0x233*0x3,0x1178*0x2+-0x8f6*0x1+-0x19fa,-0x4b97d*-0x5+-0x5edee+0x3c7*-0xa5),_0x2adef9['nearClip']=-0x142+-0x1*0x2122+0x2264+0.01,_0x2adef9['farClip']=0x4682f+0x10f3fe+0x92853,_0x2adef9['orthoHeigh'+'t']=_0x47baaa,this['renderer']['updateCame'+'raFrustum'](_0x2adef9),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x12b2c6,_0x15e59f,_0x464a6d['visibleCas'+'ters'],_0x2adef9,_0x274e23);let _0x2a054c=!(-0xa3*-0xc+0xc07+-0x13ab);const _0x1a40c3=_0x464a6d['visibleCas'+'ters'];for(let _0x131bd6=0x1107+0x935+-0x1a3c*0x1;_0x131bd6<_0x1a40c3['length'];_0x131bd6++){const _0x5910cb=_0x1a40c3[_0x131bd6];_0x2a054c?(_0x2a054c=!(-0x65*0x4f+0x1309+0xc23),Ll['copy'](_0x5910cb['aabb'])):Ll['add'](_0x5910cb['aabb']);}d_['copy'](_0x161011['getWorldTr'+'ansform']())['invert']();const _0x2960b4=gM(d_,Ll['getMin'](),Ll['getMax']());_0x161011['translateL'+'ocal'](-0x1b03+0x1886+-0x7*-0x5b,-0x1*-0x7fa+0xe8*-0x10+0x686,_0x2960b4['max']+(-0x7*0xc7+0x2*0xc89+-0x3*0x68b+0.1)),_0x2adef9['farClip']=_0x2960b4['max']-_0x2960b4['min']+(0x1473+-0x74c+-0xd27+0.2),_0x464a6d['projection'+'Compensati'+'on']=_0x47baaa;}}['generateSp'+'litDistanc'+'es'](_0x265f1d,_0x26d789,_0x4374bf){_0x265f1d['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x4374bf);for(let _0x5f4171=-0x1553*-0x1+0x6*-0x167+-0x1*0xce8;_0x5f4171<_0x265f1d['numCascade'+'s'];_0x5f4171++){const _0x3b0513=_0x5f4171/_0x265f1d['numCascade'+'s'],_0x3f801a=_0x26d789+(_0x4374bf-_0x26d789)*_0x3b0513,_0x15efef=_0x26d789*(_0x4374bf/_0x26d789)**_0x3b0513,_0x1e82ba=N['lerp'](_0x3f801a,_0x15efef,_0x265f1d['cascadeDis'+'tribution']);_0x265f1d['_shadowCas'+'cadeDistan'+'ces'][_0x5f4171-(0x1bb3+-0x1461+0x751*-0x1)]=_0x1e82ba;}}['getLightRe'+'nderPass'](_0x23debb,_0x29f983){v['assert'](_0x23debb&&_0x23debb['_type']===oe);let _0x3a3184=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x23debb)){const _0x3a162a=_0x23debb['numShadowF'+'aces'],_0x6ce877=_0x23debb['shadowUpda'+'teOverride'+'s'];let _0x2d383a=!(-0x1*-0x16ab+0x1d3b+0x33e6*-0x1),_0x199d43;for(let _0x5c71f5=-0x18ae+-0x1da7+-0x7*-0x7c3;_0x5c71f5<_0x3a162a;_0x5c71f5++)(_0x6ce877==null?void(-0x1*-0x8ad+0x126e+0x1*-0x1b1b):_0x6ce877[_0x5c71f5])===Ps&&(_0x2d383a=!(0x663+-0x2*-0xef9+-0x2454)),_0x199d43=this['shadowRend'+'erer']['prepareFac'+'e'](_0x23debb,_0x29f983,_0x5c71f5);_0x3a3184=new _M(this['device'],this['shadowRend'+'erer'],_0x23debb,_0x29f983,_0x2d383a),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x3a3184,_0x199d43,_0x2d383a);}return _0x3a3184;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(0x6*-0x31+0x3*0xb2d+0x205f*-0x1),Xa=new Q(-0x9d4+-0x26b9+0x308e,-0x2*-0xbb3+-0x243b+0x6a*0x1f,-0x1dc8+-0x11c*0x1f+0x402c,-0x6*-0x515+0x719+-0x2597),p_=new q();function xM(_0x236be9,_0x33f1c3){return Math['exp'](-(_0x236be9*_0x236be9)/((-0x21b2+0x1*0x1e17+0x39d)*_0x33f1c3*_0x33f1c3));}function SM(_0x23f4e8){const _0x88ff61=(_0x23f4e8-(0x1*0xbf5+-0x133e+-0x26e*-0x3))/(0xba*0x31+-0x2643+0x2af),_0x4378cb=(_0x23f4e8-(-0x1*0x863+-0x4*-0x4e8+-0x2*0x59e))*(-0x9*-0xa7+0x18bf+-0xf4f*0x2+0.5),_0xe5747a=new Array(_0x23f4e8);let _0x4e6d7d=-0x1885*-0x1+0x142+-0x19c7;for(let _0x3d7386=0x25eb+-0x323*-0x3+-0x17aa*0x2;_0x3d7386<_0x23f4e8;++_0x3d7386)_0xe5747a[_0x3d7386]=xM(_0x3d7386-_0x4378cb,_0x88ff61),_0x4e6d7d+=_0xe5747a[_0x3d7386];for(let _0x5090e3=0x1539+0x992+-0x1ecb;_0x5090e3<_0x23f4e8;++_0x5090e3)_0xe5747a[_0x5090e3]/=_0x4e6d7d;return _0xe5747a;}class I0{constructor(_0x1b8e7c,_0x5cdaed){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x1b8e7c['device'],this['renderer']=_0x1b8e7c,this['lightTextu'+'reAtlas']=_0x5cdaed);const _0x5199b7=this['device']['scope'];this['sourceId']=_0x5199b7['resolve']('source'),this['pixelOffse'+'tId']=_0x5199b7['resolve']('pixelOffse'+'t'),this['weightId']=_0x5199b7['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x5199b7['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x215+-0x4*0x67+-0x78),!(0x8d4+0x1*0x1933+-0x2206),!(-0x1da9+-0xf*-0xd+0x7*0x421),!(-0x1341+0x232*0x4+0xa7a));}static['createShad'+'owCamera'](_0xb7ddbb,_0x7ab4fd,_0x5a172a){const _0x22715a=Ma['create']('ShadowCame'+'ra',_0x7ab4fd,_0x5a172a),_0x34d4b9=ir['get'](_0xb7ddbb);v['assert'](_0x34d4b9);const _0x4ad977=(_0x34d4b9==null?void(-0x112*-0xd+0x14c4*-0x1+0x6da):_0x34d4b9['vsm'])??!(0x22cc+-0xb66*0x3+-0x3*0x33),_0x2c18f2=(_0x34d4b9==null?void(-0x10d9+-0x25c0+0x3699):_0x34d4b9['pcf'])??!(-0x1*0x1bac+-0x1878+0x3425);return _0x4ad977?_0x22715a['clearColor']=new Y(0x4*0x7fc+0xfee+-0x2fde,-0x1ab7+0x5a1*0x1+0x1516,-0x7*0x79+-0x1a6f+0x2*0xedf,0x453*0x5+0x2d*0x97+-0x302a*0x1):_0x22715a['clearColor']=new Y(-0x1a*-0xf+-0xfef+0x4ce*0x3,-0x85f+0x9*-0x13d+-0x107*-0x13,-0xc0a+-0x1a73+0x267e,0xd87+-0x5*0xd9+0x1*-0x949),_0x22715a['clearDepth'+'Buffer']=!(-0x1f62+-0x29*-0x57+-0x1173*-0x1),_0x22715a['clearStenc'+'ilBuffer']=!(0x1*-0x21cb+0xd*0x1d2+-0x1*-0xa22),_0x22715a['clearColor'+'Buffer']=!_0x2c18f2,_0x22715a;}['_cullShado'+'wCastersIn'+'ternal'](_0x42b4fe,_0x31cf46,_0x2c5eb0){const _0x300c15=_0x42b4fe['length'];for(let _0x222a7c=0x1*0x1c78+0x256+0xf67*-0x2;_0x222a7c<_0x300c15;_0x222a7c++){const _0xb1152f=_0x42b4fe[_0x222a7c];_0xb1152f['castShadow']&&(!_0xb1152f['cull']||_0xb1152f['_isVisible'](_0x2c5eb0))&&(_0xb1152f['visibleThi'+'sFrame']=!(-0xa6b+0x8*-0x2c1+0x9*0x39b),_0x31cf46['push'](_0xb1152f));}}['cullShadow'+'Casters'](_0x47cc42,_0xcbe82c,_0xa98440,_0x38c31d,_0x38bcb0){if(_0xa98440['length']=-0x198c+0x1007+-0x985*-0x1,_0x38bcb0)this['_cullShado'+'wCastersIn'+'ternal'](_0x38bcb0,_0xa98440,_0x38c31d);else{const _0x668c91=_0x47cc42['layerList'],_0x87dd27=_0x668c91['length'];for(let _0x2d4638=-0x1*0x5dd+-0x1*-0x11b+0x4c2;_0x2d4638<_0x87dd27;_0x2d4638++){const _0x189043=_0x668c91[_0x2d4638];_0x189043['_lightsSet']['has'](_0xcbe82c)&&(Rd['has'](_0x189043)||(Rd['add'](_0x189043),this['_cullShado'+'wCastersIn'+'ternal'](_0x189043['shadowCast'+'ers'],_0xa98440,_0x38c31d)));}Rd['clear']();}_0xa98440['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x1e5146,_0xd90e26){const _0x36bc6b=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0xd90e26['_isPcf']:_0xd90e26['_isPcf']&&_0xd90e26['_type']!==Pe;_0x1e5146['setBlendSt'+'ate'](_0x36bc6b?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x1e5146['setDepthSt'+'ate'](_0xd90e26['shadowDept'+'hState']),_0x1e5146['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x46b4d6,_0x5640d6,_0x3be226,_0x3920b0){const _0x5d0468=_0x5640d6['_node'];_0x46b4d6['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x5d0468['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x46b4d6['attenuatio'+'nEnd'])),u_['setTRS'](_0x5d0468['getPositio'+'n'](),_0x5d0468['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x5640d6['projection'+'Matrix'],u_);const _0x489d44=_0x3be226['shadowView'+'port'];_0x5640d6['rect']=_0x489d44,_0x5640d6['scissorRec'+'t']=_0x3be226['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x489d44['x'],_0x489d44['y'],_0x489d44['z'],_0x489d44['w']),_0x3be226['shadowMatr'+'ix']['mul2'](p_,f_),_0x46b4d6['_type']===oe&&_0x46b4d6['_shadowMat'+'rixPalette']['set'](_0x3be226['shadowMatr'+'ix']['data'],_0x3920b0*(-0x1*-0xe6b+-0x2*0x972+-0x1b*-0x2b));}['getShadowP'+'ass'](_0xda45ff){var _0x271a0d;const _0x51ee91=_0xda45ff['_type'],_0x1bd60d=_0xda45ff['_shadowTyp'+'e'];let _0x45b1f6=(_0x271a0d=this['shadowPass'+'Cache'][_0x51ee91])==null?void(-0x58d*0x3+-0x1*-0x113d+-0x96):_0x271a0d[_0x1bd60d];if(!_0x45b1f6){const _0xa25f40='ShadowPass'+'_'+_0x51ee91+'_'+_0x1bd60d;_0x45b1f6=Ks['get'](this['device'])['allocate'](_0xa25f40,{'isShadow':!(0x7b8+-0x169+-0x64f),'lightType':_0x51ee91,'shadowType':_0x1bd60d}),this['shadowPass'+'Cache'][_0x51ee91]||(this['shadowPass'+'Cache'][_0x51ee91]=[]),this['shadowPass'+'Cache'][_0x51ee91][_0x1bd60d]=_0x45b1f6;}return _0x45b1f6['index'];}['submitCast'+'ers'](_0x3bd065,_0x411f96,_0x3854cc){const _0x378c5b=this['device'],_0x1be572=this['renderer'],_0x230c02=_0x1be572['scene'],_0x162323=-0x1b54+0x22fc*0x1+-0x7a7<<Rp,_0x43d8b8=this['getShadowP'+'ass'](_0x411f96),_0x269de2=_0x3854cc['shaderPara'+'ms'],_0x59a541=_0x3854cc['renderTarg'+'et']['flipY']?-(-0x98f+0x1*0x145c+-0x2*0x566):-0x2c*0x72+-0x6*0x28b+0x22db,_0x4f9209=_0x3bd065['length'];for(let _0x12e6b1=0x10b5+0x226+-0x649*0x3;_0x12e6b1<_0x4f9209;_0x12e6b1++){const _0xde8e9d=_0x3bd065[_0x12e6b1],_0x206c88=_0xde8e9d['mesh'];_0xde8e9d['ensureMate'+'rial'](_0x378c5b);const _0x1e2cbb=_0xde8e9d['material'];G['pushGpuMar'+'ker'](_0x378c5b,'Node:\x20'+_0xde8e9d['node']['name']+(',\x20Material'+':\x20')+_0x1e2cbb['name']),_0x1be572['setBaseCon'+'stants'](_0x378c5b,_0x1e2cbb),_0x1be572['setSkinnin'+'g'](_0x378c5b,_0xde8e9d),_0x1e2cbb['dirty']&&(_0x1e2cbb['updateUnif'+'orms'](_0x378c5b,_0x230c02),_0x1e2cbb['dirty']=!(-0x1e38*-0x1+0x1fed+-0x3e24)),_0x1be572['setupCullM'+'ode'](!(0x14b7*-0x1+0x25*-0x7f+0x2712*0x1),_0x59a541,_0xde8e9d),_0x1e2cbb['setParamet'+'ers'](_0x378c5b),_0xde8e9d['setParamet'+'ers'](_0x378c5b,_0x162323);const _0x3e6392=_0xde8e9d['getShaderI'+'nstance'](_0x43d8b8,-0x419*-0x1+-0xc1*-0x9+0xe*-0xc7,_0x230c02,_0x269de2,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x240349=_0x3e6392['shader'];v['assert'](_0x240349,'no\x20shader\x20'+'for\x20pass\x20'+_0x43d8b8,_0x1e2cbb),_0xde8e9d['_key'][ku]=_0x240349['id'],_0x378c5b['setShader'](_0x240349),_0x1be572['setVertexB'+'uffers'](_0x378c5b,_0x206c88),_0x1be572['setMorphin'+'g'](_0x378c5b,_0xde8e9d['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x3e6392,_0xde8e9d);const _0x2e9809=_0xde8e9d['renderStyl'+'e'];_0x378c5b['setIndexBu'+'ffer'](_0x206c88['indexBuffe'+'r'][_0x2e9809]),_0x1be572['drawInstan'+'ce'](_0x378c5b,_0xde8e9d,_0x206c88,_0x2e9809),_0x1be572['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x378c5b);}}['needsShado'+'wRendering'](_0x15c2d6){const _0x5ca601=_0x15c2d6['enabled']&&_0x15c2d6['castShadow'+'s']&&_0x15c2d6['shadowUpda'+'teMode']!==Ps&&_0x15c2d6['visibleThi'+'sFrame'];return _0x15c2d6['shadowUpda'+'teMode']===cn&&(_0x15c2d6['shadowUpda'+'teMode']=Ps),_0x5ca601&&(this['renderer']['_shadowMap'+'Updates']+=_0x15c2d6['numShadowF'+'aces']),_0x5ca601;}['getLightRe'+'nderData'](_0x1e93ff,_0x1f2735,_0x215dad){return _0x1e93ff['getRenderD'+'ata'](_0x1e93ff['_type']===oe?_0x1f2735:null,_0x215dad);}['setupRende'+'rPass'](_0x48e131,_0x583a94,_0x2ec5da){const _0x1ce5c2=_0x583a94['renderTarg'+'et'];_0x48e131['init'](_0x1ce5c2),_0x48e131['depthStenc'+'ilOps']['clearDepth'+'Value']=0x1c10*-0x1+-0x24b0+0x40c1,_0x48e131['depthStenc'+'ilOps']['clearDepth']=_0x2ec5da,_0x1ce5c2['depthBuffe'+'r']?_0x48e131['depthStenc'+'ilOps']['storeDepth']=!(0x1*-0x1935+-0x2*0xc0a+0x3149):(_0x48e131['colorOps']['clearValue']['copy'](_0x583a94['clearColor']),_0x48e131['colorOps']['clear']=_0x2ec5da,_0x48e131['depthStenc'+'ilOps']['storeDepth']=!(-0x38b*-0x5+0x180*0x17+-0x3436)),_0x48e131['requiresCu'+'bemaps']=!(-0x1e2a*-0x1+0xa76*-0x1+-0x1*0x13b3);}['prepareFac'+'e'](_0x146743,_0x4a9462,_0x408c23){const _0xca859a=_0x146743['_type'],_0x3776b9=this['getLightRe'+'nderData'](_0x146743,_0x4a9462,_0x408c23)['shadowCame'+'ra'],_0x4746d5=_0xca859a===oe?-0xc0d+0x75*0xc+0x691*0x1:_0x408c23;return _0x3776b9['renderTarg'+'et']=_0x146743['_shadowMap']['renderTarg'+'ets'][_0x4746d5],_0x3776b9;}['renderFace'](_0x501544,_0x55760c,_0xe479bd,_0x392589,_0x62fd99=!(-0x2a1*-0xb+0x1813+-0x792*0x7)){const _0x533744=this['device'],_0x2d66ea=ne();G['pushGpuMar'+'ker'](_0x533744,'SHADOW\x20'+_0x501544['_node']['name']+'\x20FACE\x20'+_0xe479bd);const _0x4543a1=this['getLightRe'+'nderData'](_0x501544,_0x55760c,_0xe479bd),_0x1de1a4=_0x4543a1['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x501544,_0x1de1a4,_0x4543a1,_0xe479bd);const _0x5c8d2c=_0x1de1a4['renderTarg'+'et'],_0x2f49ea=this['renderer'];_0x2f49ea['setCameraU'+'niforms'](_0x1de1a4,_0x5c8d2c),_0x533744['supportsUn'+'iformBuffe'+'rs']&&_0x2f49ea['setupViewU'+'niformBuff'+'ers'](_0x4543a1['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0x2069*0x1+0x16ba+0x2*-0x1b91),_0x62fd99?(_0x2f49ea['setupViewp'+'ort'](_0x1de1a4,_0x5c8d2c),_0x392589&&_0x2f49ea['clear'](_0x1de1a4)):_0x2f49ea['clearView'](_0x1de1a4,_0x5c8d2c,!(0x3e*-0x99+0x138c+0x1182*0x1),!(0x520+0x2e7*-0x8+0x1219)),this['setupRende'+'rState'](_0x533744,_0x501544),this['submitCast'+'ers'](_0x4543a1['visibleCas'+'ters'],_0x501544,_0x1de1a4),G['popGpuMark'+'er'](_0x533744),_0x2f49ea['_shadowMap'+'Time']+=ne()-_0x2d66ea;}['render'](_0x4d7cfd,_0xb4e748,_0x3e233f=!(-0x7d6+-0x1e9+0x9bf)){if(this['needsShado'+'wRendering'](_0x4d7cfd)){const _0x46203d=_0x4d7cfd['numShadowF'+'aces'];for(let _0x35d8e3=0x13d6+0x3f*-0x43+-0x359;_0x35d8e3<_0x46203d;_0x35d8e3++)this['prepareFac'+'e'](_0x4d7cfd,_0xb4e748,_0x35d8e3),this['renderFace'](_0x4d7cfd,_0xb4e748,_0x35d8e3,!(0x9da+-0x1*0x9e+-0x1*0x93c),_0x3e233f);this['renderVsm'](_0x4d7cfd,_0xb4e748);}}['renderVsm'](_0x58b823,_0x19b038){_0x58b823['_isVsm']&&_0x58b823['_vsmBlurSi'+'ze']>0x12*0xb6+-0xeaa+0x1df&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x58b823['_type']===oe)&&this['applyVsmBl'+'ur'](_0x58b823,_0x19b038);}['getVsmBlur'+'Shader'](_0x56a9b9,_0x34bd8d){const _0x5c5a56=this['blurVsmSha'+'der'];let _0x3f8b0b=_0x5c5a56[_0x56a9b9][_0x34bd8d];if(!_0x3f8b0b){this['blurVsmWei'+'ghts'][_0x34bd8d]=SM(_0x34bd8d);const _0x5c11fe=X['fullscreen'+'QuadVS'];let _0xbf5e5d='#define\x20SA'+'MPLES\x20'+_0x34bd8d+'\x0a';_0xbf5e5d+=this['blurVsmSha'+'derCode'][_0x56a9b9];const _0xd9ea97='blurVsm'+_0x56a9b9+_0x34bd8d;_0x3f8b0b=Is(this['device'],_0x5c11fe,_0xbf5e5d,_0xd9ea97),_0x5c5a56[_0x56a9b9][_0x34bd8d]=_0x3f8b0b;}return _0x3f8b0b;}['applyVsmBl'+'ur'](_0x440d6a,_0x287a72){const _0x47c860=this['device'];G['pushGpuMar'+'ker'](_0x47c860,'VSM\x20'+_0x440d6a['_node']['name']),_0x47c860['setBlendSt'+'ate'](_t['NOBLEND']);const _0x49b4ac=_0x440d6a['getRenderD'+'ata'](_0x440d6a['_type']===oe?_0x287a72:null,-0x296*0xf+-0x1b*-0x106+0x2*0x594)['shadowCame'+'ra']['renderTarg'+'et'],_0x302684=this['renderer']['shadowMapC'+'ache']['get'](_0x47c860,_0x440d6a),_0x445025=_0x302684['renderTarg'+'ets'][0x12e4+-0x1424+0x140],_0x4f2130=_0x440d6a['vsmBlurMod'+'e'],_0x279428=_0x440d6a['_vsmBlurSi'+'ze'],_0x3fd1bf=this['getVsmBlur'+'Shader'](_0x4f2130,_0x279428);Xa['z']=_0x440d6a['_shadowRes'+'olution']-(-0x2*-0xd5a+-0x2*-0x535+-0x251c),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x49b4ac['colorBuffe'+'r']),vr[-0x37*-0x92+0x1*-0x15f7+-0x967]=(0x1d21+-0x1d7*0xa+-0x1*0xaba)/_0x440d6a['_shadowRes'+'olution'],vr[0x17c9*0x1+-0x2318+-0x10*-0xb5]=0x3*0x409+0x1758+0x339*-0xb,this['pixelOffse'+'tId']['setValue'](vr),_0x4f2130===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x279428]),dn(_0x47c860,_0x445025,_0x3fd1bf,null,Xa),this['sourceId']['setValue'](_0x445025['colorBuffe'+'r']),vr[-0xc1b+0xbb1+-0x1*-0x6b]=vr[-0x2*-0x213+0x1085+-0x1*0x14ab],vr[0x1786+-0x213*-0x7+-0x260b]=-0xfd9*-0x1+0x1b56+-0x3ed*0xb,this['pixelOffse'+'tId']['setValue'](vr),dn(_0x47c860,_0x49b4ac,_0x3fd1bf,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x440d6a,_0x302684),G['popGpuMark'+'er'](_0x47c860);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0xfd2624){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0xfd2624;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x10d150=>{_0x10d150['destroy']();}),this['_allocated']['length']=-0x107*0x1+-0x6bc+-0x7c3*-0x1;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x3a3f28=new zu(this['device']);_0x3a3f28['name']='ClusterEmp'+'ty',_0x3a3f28['update']([]),this['_empty']=_0x3a3f28;}return this['_empty'];}['assign'](_0x659af4){const _0x2a7c8f=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=-0xeb0+0x45*-0x27+0x1933,this['_clusters']['clear']();const _0x4671ca=_0x659af4['length'];for(let _0x443032=-0x406*-0x7+-0x1*0xa0d+0x1*-0x121d;_0x443032<_0x4671ca;_0x443032++){const _0x31400d=_0x659af4[_0x443032]['renderActi'+'ons'];if(_0x31400d){const _0x3afaf2=_0x31400d['length'];for(let _0x435c18=0x53*0x3c+0x292+0x1*-0x1606;_0x435c18<_0x3afaf2;_0x435c18++){const _0x31c0d0=_0x31400d[_0x435c18];_0x31c0d0['lightClust'+'ers']=null;const _0x22d5b9=_0x31c0d0['layer'];if(_0x22d5b9['hasCluster'+'edLights']&&_0x22d5b9['meshInstan'+'ces']['length']){const _0x4a3c41=_0x22d5b9['getLightId'+'Hash'](),_0x5897d0=this['_clusters']['get'](_0x4a3c41);let _0x1b44ea=_0x5897d0==null?void(-0x270f+-0xa*0x2d2+-0x101*-0x43):_0x5897d0['lightClust'+'ers'];_0x1b44ea||(_0x1b44ea=Fl['pop']()??new zu(this['device']),mn['setName'](_0x1b44ea,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x1b44ea),this['_clusters']['set'](_0x4a3c41,_0x31c0d0)),_0x31c0d0['lightClust'+'ers']=_0x1b44ea;}_0x31c0d0['lightClust'+'ers']||(_0x31c0d0['lightClust'+'ers']=_0x2a7c8f);}}}Fl['forEach'](_0x46f75a=>_0x46f75a['destroy']()),Fl['length']=0x4a6+0x1a98+0xf9f*-0x2;}['update'](_0x2dfd3c,_0x43df43){this['assign'](_0x2dfd3c),this['_clusters']['forEach'](_0x29e9a7=>{const _0x49a15f=_0x29e9a7['layer'];_0x29e9a7['lightClust'+'ers']['update'](_0x49a15f['clusteredL'+'ightsSet'],_0x43df43);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0x4fa8bf,_0x20e8f5){super(_0x4fa8bf),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x20e8f5,this['requiresCu'+'bemaps']=!(-0x1*0x165e+-0x2*0x2e3+0x1c25),this['blitTextur'+'eId']=_0x4fa8bf['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x4fa8bf['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x191371,_0x4eeaf4;(_0x191371=this['_quadRende'+'rer2D'])==null||_0x191371['destroy'](),this['_quadRende'+'rer2D']=null,(_0x4eeaf4=this['_quadRende'+'rerCube'])==null||_0x4eeaf4['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x36fa5e,_0x4ddd74){v['assert'](_0x36fa5e);const _0x496912=new kp(_0x36fa5e['device'],_0x4ddd74);return _0x496912['init'](_0x36fa5e),_0x496912['colorOps']['clear']=!(-0x1d06+0x72c+0x15db),_0x496912['depthStenc'+'ilOps']['clearDepth']=!(0x1e5e+0x1*-0x350+0x1*-0x1b0d),_0x496912;}['update'](_0x7ccd86){const _0x361d9d=this['_filteredL'+'ights'];this['filter'](_0x7ccd86,_0x361d9d),this['executeEna'+'bled']=_0x361d9d['length']>0x9e2+0x1*0x17bf+-0x1*0x21a1;}['filter'](_0x39311c,_0x5866b9){for(let _0x388aa3=-0x49+-0x1*0x23de+-0x3*-0xc0d;_0x388aa3<_0x39311c['length'];_0x388aa3++){const _0xcf23a9=_0x39311c[_0x388aa3];_0xcf23a9['_type']!==oe&&_0xcf23a9['atlasViewp'+'ortAllocat'+'ed']&&_0xcf23a9['atlasSlotU'+'pdated']&&_0xcf23a9['enabled']&&_0xcf23a9['cookie']&&_0xcf23a9['visibleThi'+'sFrame']&&_0x5866b9['push'](_0xcf23a9);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x14f459=-0xb3e*0x1+0xe82+0x344*-0x1;_0x14f459<-0x2*-0x417+-0xe40+0x82*0xc;_0x14f459++){const _0x4765f3=Ma['create'](null,Pe,_0x14f459),_0x3383e8=_0x4765f3['projection'+'Matrix'],_0x413a21=_0x4765f3['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x14f459]=new q()['mul2'](_0x3383e8,_0x413a21)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x1fdf86=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x1fdf86);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x1402c0=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x1402c0);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x40a5c1=this['device'];_0x40a5c1['setBlendSt'+'ate'](_t['NOBLEND']),_0x40a5c1['setCullMod'+'e'](mt),_0x40a5c1['setDepthSt'+'ate'](as['NODEPTH']),_0x40a5c1['setStencil'+'State']();const _0x2d8830=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x15db2a=this['_cubeSlots'+'Offsets'],_0x47e09d=this['_filteredL'+'ights'];for(let _0x1ebf1b=0x128b+0x633*-0x3+0xe*0x1;_0x1ebf1b<_0x47e09d['length'];_0x1ebf1b++){const _0x4eda25=_0x47e09d[_0x1ebf1b];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x4eda25['_node']['name']);const _0x27f967=_0x4eda25['numShadowF'+'aces'],_0x3bc6fd=_0x27f967>-0x137d*0x2+0x1*-0x4cf+0x2bca*0x1?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x27f967>0x7dd*0x2+-0x23fd+0x511*0x4&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x4eda25['cookie']);for(let _0xb72ed2=-0x5*-0x51c+-0x1*-0x1387+0xb*-0x419;_0xb72ed2<_0x27f967;_0xb72ed2++){if(Gi['copy'](_0x4eda25['atlasViewp'+'ort']),_0x27f967>-0x1*0x4b1+-0x17fd+0x1caf*0x1){const _0x190351=Gi['z']/(0x2e7+0x584*-0x1+0x2a0),_0xe81b0=_0x15db2a[_0xb72ed2];Gi['x']+=_0x190351*_0xe81b0['x'],Gi['y']+=_0x190351*_0xe81b0['y'],Gi['z']=_0x190351,Gi['w']=_0x190351,this['invViewPro'+'jId']['setValue'](Id[_0xb72ed2]['data']);}Gi['mulScalar'](_0x2d8830),_0x3bc6fd['render'](Gi);}G['popGpuMark'+'er'](_0x40a5c1);}_0x47e09d['length']=0x1dd*-0x10+0x173a+-0x2*-0x34b;}}class TM extends ds{constructor(_0x533ebc,_0x4bf795,_0xc5bb41){super(_0x533ebc),this['requiresCu'+'bemaps']=!(-0x199d*0x1+0xa*0x239+0x364),this['shadowRend'+'erer']=_0x4bf795,this['shadowRend'+'ererLocal']=_0xc5bb41;}['update'](_0x216b17){const _0x52ebce=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x1425ef=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x52ebce,_0x216b17),_0xeb34fa=_0x52ebce['length'];this['enabled']=_0xeb34fa>-0x4*0x353+0x33f*-0xb+0x3101,_0xeb34fa&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x1425ef,!(0x1557*-0x1+0x1b59*-0x1+-0x2d*-0x115));}['execute'](){const _0x120e78=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x50ccb6=_0x120e78['length'];for(let _0x121b65=-0x461+0x97b+-0x51a;_0x121b65<_0x50ccb6;_0x121b65++){const _0x485040=_0x120e78[_0x121b65];for(let _0x56af41=-0xa0*0x18+0x1*-0xed5+-0x7*-0x443;_0x56af41<_0x485040['numShadowF'+'aces'];_0x56af41++)this['shadowRend'+'erer']['renderFace'](_0x485040,null,_0x56af41,!(0x142*0x16+0x18*0x43+-0x21f4));}_0x120e78['length']=-0x11e*-0x11+0xa04+0x4f*-0x5e;}}class AM extends ds{constructor(_0x4792a3,_0x5ed0cf,_0x367240,_0x302dc4,_0x26f741){super(_0x4792a3),this['renderer']=_0x5ed0cf,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x26f741['cookieRend'+'erTarget'],_0x26f741['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x4792a3,_0x367240,_0x302dc4),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x58faa4,_0x273acb,_0x299b28,_0x42f130,_0x100161){this['frameGraph']=_0x58faa4,this['cookiesRen'+'derPass']['enabled']=_0x299b28,_0x299b28&&this['cookiesRen'+'derPass']['update'](_0x42f130),this['shadowRend'+'erPass']['enabled']=_0x273acb,_0x273acb&&this['shadowRend'+'erPass']['update'](_0x100161);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x29f896=ne(),{renderer:_0x55ad11}=this,{scene:_0x370ce7}=_0x55ad11;_0x55ad11['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x370ce7['lighting']),_0x55ad11['_lightClus'+'tersTime']+=ne()-_0x29f896,_0x55ad11['_lightClus'+'ters']=_0x55ad11['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=0x1*-0x21a9+0xc53+0x2*0xaab;const Hi=new q(),$i=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](-0x3*-0x756+-0x34a*0x1+-0x12b7,-(0x91e+-0x61*-0x3f+-0x20fc),0x853*0x1+-0x1c2c+0x13da),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([0xb0*0x32+0x3*0x243+0x1*-0x2928,-0x1410+0x1e41+-0xa31,0x5*0x101+-0x1ff3+0x1aee,0x1171+0x35*-0x76+0x6fd,-0x21a3+-0x495*0x3+0x2f62,-0x16a7+0x25d*0xc+-0x124*0x5,-0x151*0x6+-0x81+-0xef*-0x9,0x19cd*-0x1+0x1*-0xe3e+0x280b,-0xfa3+-0x7c7+-0x3e7*-0x6,-0xb93+0x1ff8+0x17*-0xe3,-0x743+-0x3f5+-0x2*-0x59c+0.5,-0x1*-0x203b+0x3d3*0x1+-0x240e,-0x1*0x16a1+0x3a*0x40+0x821,-0xb*-0x2d7+0x1*0x21b8+-0x40f5,0x67d*-0x3+0xb0c+-0x1*-0x86b+0.5,-0xc28+-0x1c8c+-0x1*-0x28b5]),x_=[new $(-0xa*0x3e0+-0x1532+0x1*0x3bf2+0.5,-0x947+0xf8c+-0xf*0x6b+0.333333),new $(-0x3bb*-0x6+-0x2a1+-0xd*0x185+0.25,-0x2*0x9ef+0x1bea+0x203*-0x4+0.666667),new $(0x1f16+-0x1b94+0x2*-0x1c1+0.75,-0xee0+-0x82*0x25+0x21aa+0.111111),new $(0x3*-0xac4+0x2327+-0x2db+0.125,-0x15*-0x23+-0xab*-0x18+-0x12e7+0.444444),new $(-0x1*-0x1b4c+-0x3b*-0x2f+-0x2b*0xe3+0.625,-0x209f+0x24d2+0x1*-0x433+0.777778),new $(0x1f*0x4a+0x22f+-0xb25+0.375,0x11*0x3f+-0x20*-0x6+-0x4ef+0.222222),new $(0x1a8a+-0x139c+-0x6ee+0.875,0x146b*0x1+0x1*0x1be3+0x304e*-0x1+0.555556),new $(0x1e3b+-0x61*-0x63+0x17*-0x2f2+0.0625,0xf61+-0x2*-0x864+0x2029*-0x1+0.888889),new $(0x1ebf*0x1+0x152+-0x2011+0.5625,0x1878+-0x3*0x637+-0x7*0xd5+0.037037),new $(0xa8b+-0x115e+0x6d3+0.3125,0x8*0x2fe+0x1*-0x7d5+0x1f*-0x85+0.37037),new $(-0x1*0x2550+-0x2485+0x1*0x49d5+0.8125,-0x23d5+-0x106b+0x260*0x16+0.703704),new $(0x584*0x2+-0x6e3*0x3+0x9a1*0x1+0.1875,-0xa4a*0x3+-0x4a3+0x2381*0x1+0.148148),new $(0x105a+0x23e0+-0x776*0x7+0.6875,-0x3*-0xa75+-0x2ae*-0x9+-0x377d+0.481481),new $(0x2f5*0x1+-0x16f1*0x1+0x13fc+0.4375,0x299+-0xabd*0x2+0x12e1+0.814815),new $(0x1c7f*-0x1+0x1*0x1d6a+0x1*-0xeb+0.9375,0x74d+0x194d+-0x209a+0.259259),new $(0xb19*-0x2+0x1912*0x1+-0x2e0+0.03125,0x366+-0x3*-0x241+-0xa29+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x15c97e){c(this,'clustersDe'+'bugRendere'+'d',!(0x1*-0x133+-0x240a+0x7*0x552)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(0xfb8+0x2583*0x1+-0x4*0xd30)),(this['device']=_0x15c97e,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x15c97e),this['lightTextu'+'reAtlas']=new uM(_0x15c97e),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x543+0x1d61*-0x1+0x181e,this['_morphTime']=0x1102+0x587+0x783*-0x3,this['_cullTime']=-0x49*0x82+0x1648+0xeca*0x1,this['_shadowMap'+'Time']=-0xedf+0x259*0xa+0x89b*-0x1,this['_lightClus'+'tersTime']=0xcd*0x13+0x377+-0x957*0x2,this['_layerComp'+'ositionUpd'+'ateTime']=-0x1f8a+0x2*-0xb93+0x32*0x118,this['_shadowDra'+'wCalls']=0x1e18+0x1*-0x46f+-0x19a9,this['_skinDrawC'+'alls']=-0x1122+0x8*-0x373+-0xa*-0x479,this['_instanced'+'DrawCalls']=0x140+-0x18c7*0x1+0x1787*0x1,this['_shadowMap'+'Updates']=-0x3e*-0x38+-0xffb*-0x1+-0x1*0x1d8b,this['_numDrawCa'+'llsCulled']=0x147*-0xf+-0x25*0xd1+-0x2*-0x18af,this['_camerasRe'+'ndered']=0xdd1+-0x1*-0xc1a+-0x19eb*0x1,this['_lightClus'+'ters']=0xec3+0x1395+0x8*-0x44b);const _0x1c194c=_0x15c97e['scope'];this['boneTextur'+'eId']=_0x1c194c['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x1c194c['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x1c194c['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x1c194c['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x1c194c['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0xa18+-0x1*-0x17e+0x89d),this['viewPosId']=_0x1c194c['resolve']('view_posit'+'ion'),this['projId']=_0x1c194c['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x1c194c['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x1c194c['resolve']('matrix_vie'+'w'),this['viewId3']=_0x1c194c['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x1c194c['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x1c194c['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x1c194c['resolve']('tbnBasis'),this['nearClipId']=_0x1c194c['resolve']('camera_nea'+'r'),this['farClipId']=_0x1c194c['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0x1*-0xff+-0x928*0x2+-0x33*-0x57),this['cameraPara'+'msId']=_0x1c194c['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x1c194c['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=0x146+-0x2d7*0xd+0x23a5,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x6c2*0x4+0xb26*0x3+-0x666),this['blueNoiseJ'+'itterId']=_0x1c194c['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x1c194c['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x1c194c['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x1c194c['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x1c194c['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x1c194c['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x16ba*0x1+-0xe2*0x15+-0x26*-0x116),this['morphPosit'+'ionTex']=_0x1c194c['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x1c194c['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x1c194c['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x1c194c['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x3ed7b9,_0x4a63b0){if(_0x3ed7b9['layer']===_0x4a63b0['layer']){if(_0x3ed7b9['drawOrder']&&_0x4a63b0['drawOrder'])return _0x3ed7b9['drawOrder']-_0x4a63b0['drawOrder'];if(_0x3ed7b9['zdist']&&_0x4a63b0['zdist'])return _0x4a63b0['zdist']-_0x3ed7b9['zdist'];if(_0x3ed7b9['zdist2']&&_0x4a63b0['zdist2'])return _0x3ed7b9['zdist2']-_0x4a63b0['zdist2'];}return _0x4a63b0['_key'][Ei]-_0x3ed7b9['_key'][Ei];}['sortCompar'+'eMesh'](_0x21ad7d,_0x107961){if(_0x21ad7d['layer']===_0x107961['layer']){if(_0x21ad7d['drawOrder']&&_0x107961['drawOrder'])return _0x21ad7d['drawOrder']-_0x107961['drawOrder'];if(_0x21ad7d['zdist']&&_0x107961['zdist'])return _0x107961['zdist']-_0x21ad7d['zdist'];}const _0x4e6182=_0x21ad7d['_key'][Ei],_0x1a8eeb=_0x107961['_key'][Ei];return _0x4e6182===_0x1a8eeb&&_0x21ad7d['mesh']&&_0x107961['mesh']?_0x107961['mesh']['id']-_0x21ad7d['mesh']['id']:_0x1a8eeb-_0x4e6182;}['sortCompar'+'eDepth'](_0x1347e5,_0x3ae9e2){const _0x10c9f7=_0x1347e5['_key'][ku],_0x173152=_0x3ae9e2['_key'][ku];return _0x10c9f7===_0x173152&&_0x1347e5['mesh']&&_0x3ae9e2['mesh']?_0x3ae9e2['mesh']['id']-_0x1347e5['mesh']['id']:_0x173152-_0x10c9f7;}['setupViewp'+'ort'](_0x3fa20f,_0x555115){const _0x366e08=this['device'],_0x5d6549=_0x555115?_0x555115['width']:_0x366e08['width'],_0xc9e4fe=_0x555115?_0x555115['height']:_0x366e08['height'],_0x36c93d=_0x3fa20f['rect'];let _0x3bb552=Math['floor'](_0x36c93d['x']*_0x5d6549),_0x4c00cc=Math['floor'](_0x36c93d['y']*_0xc9e4fe),_0x37a237=Math['floor'](_0x36c93d['z']*_0x5d6549),_0x35f66d=Math['floor'](_0x36c93d['w']*_0xc9e4fe);if(_0x366e08['setViewpor'+'t'](_0x3bb552,_0x4c00cc,_0x37a237,_0x35f66d),_0x3fa20f['_scissorRe'+'ctClear']){const _0x3cd639=_0x3fa20f['scissorRec'+'t'];_0x3bb552=Math['floor'](_0x3cd639['x']*_0x5d6549),_0x4c00cc=Math['floor'](_0x3cd639['y']*_0xc9e4fe),_0x37a237=Math['floor'](_0x3cd639['z']*_0x5d6549),_0x35f66d=Math['floor'](_0x3cd639['w']*_0xc9e4fe);}_0x366e08['setScissor'](_0x3bb552,_0x4c00cc,_0x37a237,_0x35f66d);}['setCameraU'+'niforms'](_0x8fd8be,_0x2de005){var _0x5444b0,_0x53a9c6;const _0x1f4bbc=_0x2de005==null?void(0x62*0x25+0xd*-0x1fd+0x1*0xbaf):_0x2de005['flipY'];let _0x4e97bc=0xe24+-0x146d+0x64a;if(_0x8fd8be['xr']&&_0x8fd8be['xr']['session']){const _0x420a15=((_0x53a9c6=(_0x5444b0=_0x8fd8be['_node'])==null?void(0xf6c+0x1d7e+-0x2*0x1675):_0x5444b0['parent'])==null?void(-0xfdf*-0x1+0xac0*-0x3+0x1061):_0x53a9c6['getWorldTr'+'ansform']())||null,_0x2b8de9=_0x8fd8be['xr']['views'];_0x4e97bc=_0x2b8de9['list']['length'];for(let _0x5a1ae5=0xb5d*0x1+0x24a6+-0x2d3*0x11;_0x5a1ae5<_0x4e97bc;_0x5a1ae5++){const _0xe7e6b5=_0x2b8de9['list'][_0x5a1ae5];_0xe7e6b5['updateTran'+'sforms'](_0x420a15),_0x8fd8be['frustum']['setFromMat'+'4'](_0xe7e6b5['projViewOf'+'fMat']);}}else{let _0x5a2567=_0x8fd8be['projection'+'Matrix'];_0x8fd8be['calculateP'+'rojection']&&_0x8fd8be['calculateP'+'rojection'](_0x5a2567,Al);let _0xac5ef7=_0x8fd8be['getProject'+'ionMatrixS'+'kybox']();_0x1f4bbc&&(_0x5a2567=EM['mul2'](g_,_0x5a2567),_0xac5ef7=CM['mul2'](g_,_0xac5ef7)),this['device']['isWebGPU']&&(_0x5a2567=MM['mul2'](y_,_0x5a2567),_0xac5ef7=PM['mul2'](y_,_0xac5ef7));const {jitter:_0x365264}=_0x8fd8be;let _0x562f8e=0x1985+-0x5c7+-0x13be,_0x384c99=-0x1ebb+-0x7e*0x24+0x3073;if(_0x365264>0x17b*-0x13+0x1e27+-0x206){const _0x329040=_0x2de005?_0x2de005['width']:this['device']['width'],_0x4995f0=_0x2de005?_0x2de005['height']:this['device']['height'],_0x1fea0b=x_[this['device']['renderVers'+'ion']%x_['length']];_0x562f8e=_0x365264*(_0x1fea0b['x']*(0x9ea+-0x220f+-0x80d*-0x3)-(-0x115e+0x16*0x16e+-0x7*0x203))/_0x329040,_0x384c99=_0x365264*(_0x1fea0b['y']*(0x1b7*0x7+-0x35*-0x2+-0xc69)-(-0x9f*-0x3b+0x1*-0x188f+-0xc15*0x1))/_0x4995f0,_0x5a2567=RM['copy'](_0x5a2567),_0x5a2567['data'][0x1152+0x2*0x12b5+-0x24*0x185]=_0x562f8e,_0x5a2567['data'][-0x1337+0x1e43*0x1+-0xb03]=_0x384c99,_0xac5ef7=IM['copy'](_0xac5ef7),_0xac5ef7['data'][-0xf*-0x19+-0x1437+0x12c8]=_0x562f8e,_0xac5ef7['data'][0x2399*-0x1+-0x1ee7+0x4289*0x1]=_0x384c99,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x1eff00=_0x365264>0x21fb*-0x1+0x2*-0x373+0x28e1?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][0x76a*-0x5+-0x24bd+0x49cf]=_0x1eff00['x'],this['blueNoiseJ'+'itterData'][0x1918+0x1d49+-0xe8*0x3c]=_0x1eff00['y'],this['blueNoiseJ'+'itterData'][-0x13d*0x19+-0x286+0x217d*0x1]=_0x1eff00['z'],this['blueNoiseJ'+'itterData'][-0x1*0x19c+0x10*0x22c+-0x2121*0x1]=_0x1eff00['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x5a2567['data']),this['projSkybox'+'Id']['setValue'](_0xac5ef7['data']),_0x8fd8be['calculateT'+'ransform'])_0x8fd8be['calculateT'+'ransform']($i,Al);else{const _0x5e7eee=_0x8fd8be['_node']['getPositio'+'n'](),_0x1d36f8=_0x8fd8be['_node']['getRotatio'+'n']();$i['setTRS'](_0x5e7eee,_0x1d36f8,T['ONE']);}this['viewInvId']['setValue']($i['data']),Mn['copy']($i)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x5a2567,Mn),this['viewProjId']['setValue'](Hi['data']),_0x8fd8be['_storeShad'+'erMatrices'](Hi,_0x562f8e,_0x384c99,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x1f4bbc?-(-0xdc+0x44*-0x2e+0xc5*0x11):0x1*0x29e+0x153a+-0x17d7),this['dispatchVi'+'ewPos'](_0x8fd8be['_node']['getPositio'+'n']()),_0x8fd8be['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0x1f4bbc?-(0x1c87+0x1*0x231e+-0x3fa4):0x1*0x9d5+0x139f+-0x1d73);const _0x36b58e=_0x8fd8be['_nearClip'],_0x5372e5=_0x8fd8be['_farClip'];return this['nearClipId']['setValue'](_0x36b58e),this['farClipId']['setValue'](_0x5372e5),this['cameraPara'+'ms'][-0x373*0x9+-0x17e3*-0x1+0x728]=(0x10*0xca+-0x2bc+-0x9e3)/_0x5372e5,this['cameraPara'+'ms'][-0x696+-0x1217+-0x41d*-0x6]=_0x5372e5,this['cameraPara'+'ms'][0x19f2+0x1*-0x2086+0x696*0x1]=_0x36b58e,this['cameraPara'+'ms'][0x1ae+-0x89*0x2b+-0xaac*-0x2]=_0x8fd8be['projection']===ua?-0xf05+0x2*-0x3ed+-0x18*-0xf4:0x1*-0x16a1+-0x4b5+0x1*0x1b56,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x8fd8be['getExposur'+'e']():this['scene']['exposure']),_0x4e97bc;}['clear'](_0x2cba34,_0x406d05,_0x4e3f9d,_0x55c146){const _0x22a21a=(_0x406d05??_0x2cba34['_clearColo'+'rBuffer']?Co:0x109e+-0x7*0x166+-0x4*0x1b5)|(_0x4e3f9d??_0x2cba34['_clearDept'+'hBuffer']?Mo:-0x1621*0x1+0x24*-0x3d+0x1eb5)|(_0x55c146??_0x2cba34['_clearSten'+'cilBuffer']?Ah:0x1*0x22a7+-0x1321+-0xf86*0x1);if(_0x22a21a){const _0x29354c=this['device'];G['pushGpuMar'+'ker'](_0x29354c,'CLEAR'),_0x29354c['clear']({'color':[_0x2cba34['_clearColo'+'r']['r'],_0x2cba34['_clearColo'+'r']['g'],_0x2cba34['_clearColo'+'r']['b'],_0x2cba34['_clearColo'+'r']['a']],'depth':_0x2cba34['_clearDept'+'h'],'stencil':_0x2cba34['_clearSten'+'cil'],'flags':_0x22a21a}),G['popGpuMark'+'er'](_0x29354c);}}['setCamera'](_0x1775e2,_0x566777,_0x5aa6b0,_0x47f8de=null){this['setCameraU'+'niforms'](_0x1775e2,_0x566777),this['clearView'](_0x1775e2,_0x566777,_0x5aa6b0,!(0x1*0xfc5+0x32f*-0x1+0xc95*-0x1));}['clearView'](_0x5537c7,_0x968afd,_0xaf2dea,_0x184002){const _0x51f88e=this['device'];if(G['pushGpuMar'+'ker'](_0x51f88e,'CLEAR-VIEW'),_0x51f88e['setRenderT'+'arget'](_0x968afd),_0x51f88e['updateBegi'+'n'](),_0x184002&&(_0x51f88e['setColorWr'+'ite'](!(0x1bfe+0x3*-0x823+-0x395),!(-0x2652+-0xeb6+0x2*0x1a84),!(0x29*-0x89+0x440+0x11b1),!(-0xaf3*-0x2+-0x1ce8+0x702)),_0x51f88e['setDepthWr'+'ite'](!(-0x4*0x71f+-0xd5d+0x1*0x29d9))),this['setupViewp'+'ort'](_0x5537c7,_0x968afd),_0xaf2dea){const _0x445dd1=_0x5537c7['_clearOpti'+'ons'];_0x51f88e['clear'](_0x445dd1||{'color':[_0x5537c7['_clearColo'+'r']['r'],_0x5537c7['_clearColo'+'r']['g'],_0x5537c7['_clearColo'+'r']['b'],_0x5537c7['_clearColo'+'r']['a']],'depth':_0x5537c7['_clearDept'+'h'],'flags':(_0x5537c7['_clearColo'+'rBuffer']?Co:-0x3*-0x157+-0x3d*0x8b+0x1d1a)|(_0x5537c7['_clearDept'+'hBuffer']?Mo:-0x70f*-0x2+-0x12e2+-0x4*-0x131)|(_0x5537c7['_clearSten'+'cilBuffer']?Ah:-0x158*0x2+-0x1*-0x227f+-0x1fcf),'stencil':_0x5537c7['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x51f88e);}['setupCullM'+'ode'](_0x2faab8,_0x534146,_0xbef971){const _0x108042=_0xbef971['material'];let _0x1a0ab4=mt;if(_0x2faab8){let _0x45fec9=-0x2b*0x41+-0x171f+0x3*0xb59;(_0x108042['cull']===mo||_0x108042['cull']===rn)&&(_0x45fec9=_0x534146*_0xbef971['flipFacesF'+'actor']*_0xbef971['node']['worldScale'+'Sign']),_0x45fec9<-0x44+0x3d*0x89+-0x2061?_0x1a0ab4=_0x108042['cull']===mo?rn:mo:_0x1a0ab4=_0x108042['cull'];}this['device']['setCullMod'+'e'](_0x1a0ab4),_0x1a0ab4===mt&&_0x108042['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0xbef971['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x231875){if(_0x231875['xr']&&_0x231875['xr']['views']['list']['length']){const _0x193c62=_0x231875['xr']['views']['list'][0x1db8+-0x717*-0x4+-0x3a14];Hi['mul2'](_0x193c62['projMat'],_0x193c62['viewOffMat']),_0x231875['frustum']['setFromMat'+'4'](Hi);return;}const _0x3ef390=_0x231875['projection'+'Matrix'];if(_0x231875['calculateP'+'rojection']&&_0x231875['calculateP'+'rojection'](_0x3ef390,Al),_0x231875['calculateT'+'ransform'])_0x231875['calculateT'+'ransform']($i,Al);else{const _0x4c0644=_0x231875['_node']['getPositio'+'n'](),_0x2d0709=_0x231875['_node']['getRotatio'+'n']();$i['setTRS'](_0x4c0644,_0x2d0709,T['ONE']),this['viewInvId']['setValue']($i['data']);}Mn['copy']($i)['invert'](),Hi['mul2'](_0x3ef390,Mn),_0x231875['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0x583518,_0x4f0e41){_0x583518['setCullMod'+'e'](_0x4f0e41['cull']),_0x4f0e41['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x4f0e41['opacityMap']),(_0x4f0e41['opacityMap']||_0x4f0e41['alphaTest']>-0xd*0x1a2+-0x909+-0x1e43*-0x1)&&this['alphaTestI'+'d']['setValue'](_0x4f0e41['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x8daf51){Dd++;const _0x1ec05d=_0x8daf51['length'];if(_0x1ec05d===0x11a4+0xb26*0x1+0x6e*-0x43)return;const _0x5edfa2=ne();for(let _0x49ff85=-0x255c+-0x3*0x7cf+0x333*0x13;_0x49ff85<_0x1ec05d;_0x49ff85++){const _0x2cb9c7=_0x8daf51[_0x49ff85]['skinInstan'+'ce'];_0x2cb9c7&&(_0x2cb9c7['updateMatr'+'ices'](_0x8daf51[_0x49ff85]['node'],Dd),_0x2cb9c7['_dirty']=!(0x36e*0x9+-0x105*-0x16+0x24*-0x17b));}this['_skinTime']+=ne()-_0x5edfa2;}['updateGpuS'+'kinMatrice'+'s'](_0x1ffad3){const _0x166e5c=ne();for(const _0x178738 of _0x1ffad3){const _0x548070=_0x178738['skinInstan'+'ce'];_0x548070&&_0x548070['_dirty']&&(_0x548070['updateMatr'+'ixPalette'](_0x178738['node'],Dd),_0x548070['_dirty']=!(-0xaae+-0x23*0xa4+0x211b));}this['_skinTime']+=ne()-_0x166e5c;}['updateMorp'+'hing'](_0x886d3d){const _0x32508e=ne();for(const _0x33b50d of _0x886d3d){const _0x40c5a8=_0x33b50d['morphInsta'+'nce'];_0x40c5a8&&_0x40c5a8['_dirty']&&_0x40c5a8['update']();}this['_morphTime']+=ne()-_0x32508e;}['updateGSpl'+'ats'](_0x1330fd){var _0x57c53d;for(const _0x1b3f0d of _0x1330fd)(_0x57c53d=_0x1b3f0d['gsplatInst'+'ance'])==null||_0x57c53d['update']();}['gpuUpdate'](_0x3ef71d){this['updateGpuS'+'kinMatrice'+'s'](_0x3ef71d),this['updateMorp'+'hing'](_0x3ef71d),this['updateGSpl'+'ats'](_0x3ef71d);}['setVertexB'+'uffers'](_0x84fb60,_0x142cef){_0x84fb60['setVertexB'+'uffer'](_0x142cef['vertexBuff'+'er']);}['setMorphin'+'g'](_0x52e26f,_0x5c4d6b){_0x5c4d6b&&(_0x5c4d6b['prepareRen'+'dering'](_0x52e26f),_0x52e26f['setVertexB'+'uffer'](_0x5c4d6b['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x5c4d6b['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x5c4d6b['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x5c4d6b['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x5817ad,_0x297a75){const _0x335013=_0x297a75['skinInstan'+'ce'];if(_0x335013){this['_skinDrawC'+'alls']++;const _0x256979=_0x335013['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x256979),this['boneTextur'+'eSizeId']['setValue'](_0x335013['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x448abc){const _0xac5b28=this['viewPos'];_0xac5b28[-0x242c+-0x9*0x10e+-0x922*-0x5]=_0x448abc['x'],_0xac5b28[0xc35*-0x1+0x1ccf+-0x1099]=_0x448abc['y'],_0xac5b28[0x35e+-0x5*-0x685+-0x23f5]=_0x448abc['z'],this['viewPosId']['setValue'](_0xac5b28);}['initViewBi'+'ndGroupFor'+'mat'](_0x68713){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x1001fa=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',Wt),new gt('skyboxInte'+'nsity',Ws),new gt('exposure',Ws),new gt('textureBia'+'s',Ws)];_0x68713&&_0x1001fa['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',Wt),new gt('clusterTex'+'tureSize',Wt),new gt('clusterBou'+'ndsMin',Wt),new gt('clusterBou'+'ndsDelta',Wt),new gt('clusterCel'+'lsDot',Wt),new gt('clusterCel'+'lsMax',Wt),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',Ws)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x1001fa);const _0x296f0f=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x68713&&_0x296f0f['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0x296f0f);}}['setupViewU'+'niformBuff'+'ers'](_0x14cce1,_0x2cd4d4,_0x3bb6ff,_0x54256b){v['assert'](Array['isArray'](_0x14cce1),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x4ad1fc=this['device'];for(v['assert'](_0x54256b===0x20a3+-0x872+0x102*-0x18,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x14cce1['length']<_0x54256b;){const _0x2aa5c1=new gp(_0x4ad1fc,_0x2cd4d4,!(0x1131+-0x18c3+0x1*0x793)),_0x48f386=new mp(_0x4ad1fc,_0x3bb6ff,_0x2aa5c1);mn['setName'](_0x48f386,'ViewBindGr'+'oup_'+_0x48f386['id']),_0x14cce1['push'](_0x48f386);}const _0x3d5a5c=_0x14cce1[-0x11a2+-0x1*-0xad8+0x2*0x365];_0x3d5a5c['defaultUni'+'formBuffer']['update'](),_0x3d5a5c['update'](),_0x4ad1fc['setBindGro'+'up'](Dh,_0x3d5a5c);}['setupMeshU'+'niformBuff'+'ers'](_0x43a506,_0x143ce6){const _0x4daa8b=this['device'];if(_0x4daa8b['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x143ce6['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x143ce6['node']['normalMatr'+'ix']['data']);const _0x28887f=_0x43a506['getBindGro'+'up'](_0x4daa8b);_0x28887f['update'](),_0x4daa8b['setBindGro'+'up'](Xy,_0x28887f),_0x43a506['getUniform'+'Buffer'](_0x4daa8b)['update'](kd),_0x4daa8b['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0x256c2a,_0x503174,_0x413886,_0x3ccec7,_0x2a72c1){const _0x569faf=_0x503174['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x569faf['data']),_0x2a72c1&&this['normalMatr'+'ixId']['setValue'](_0x503174['node']['normalMatr'+'ix']['data']);const _0x3d562a=_0x503174['instancing'+'Data'];_0x3d562a?_0x3d562a['count']>-0x1f63+-0x14d3+0x3436?(this['_instanced'+'DrawCalls']++,_0x256c2a['setVertexB'+'uffer'](_0x3d562a['vertexBuff'+'er']),_0x256c2a['draw'](_0x413886['primitive'][_0x3ccec7],_0x3d562a['count'])):_0x256c2a['clearVerte'+'xBuffer']():_0x256c2a['draw'](_0x413886['primitive'][_0x3ccec7]);}['drawInstan'+'ce2'](_0x37118e,_0x1f93ef,_0x57343c,_0x229f33){const _0x7f5f69=_0x1f93ef['instancing'+'Data'];_0x7f5f69?_0x7f5f69['count']>0x879+-0x2*0xae1+0xb3*0x13?(this['_instanced'+'DrawCalls']++,_0x37118e['draw'](_0x57343c['primitive'][_0x229f33],_0x7f5f69['count'],!(0x1817+0x31*0x9d+0x483*-0xc))):_0x37118e['clearVerte'+'xBuffer']():_0x37118e['draw'](_0x57343c['primitive'][_0x229f33],void(0x231f+-0xd9*-0x29+-0x45e0),!(0x749+0x214e+0x2897*-0x1));}['cull'](_0x28b99e,_0x1f48e8,_0x5bdf78){const _0x32b159=ne(),_0xafe7b2=_0x5bdf78['opaque'];_0xafe7b2['length']=0x1ccb+-0xabf+0x14*-0xe7;const _0x20cb22=_0x5bdf78['transparen'+'t'];_0x20cb22['length']=0x2*0xe1c+0x879+-0x24b1;const _0x1ba5d5=_0x28b99e['frustumCul'+'ling'],_0x255988=_0x1f48e8['length'];for(let _0x2eea9c=-0x5b*0x32+-0x24da+0x36a0;_0x2eea9c<_0x255988;_0x2eea9c++){const _0x16dce0=_0x1f48e8[_0x2eea9c];_0x16dce0['visible']&&(!_0x1ba5d5||!_0x16dce0['cull']||_0x16dce0['_isVisible'](_0x28b99e))&&(_0x16dce0['visibleThi'+'sFrame']=!(0x1001*0x2+-0x4*-0x6e6+0x9ef*-0x6),(_0x16dce0['transparen'+'t']?_0x20cb22:_0xafe7b2)['push'](_0x16dce0),(_0x16dce0['skinInstan'+'ce']||_0x16dce0['morphInsta'+'nce']||_0x16dce0['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x16dce0),_0x16dce0['gsplatInst'+'ance']&&_0x16dce0['gsplatInst'+'ance']['cameras']['push'](_0x28b99e)));}this['_cullTime']+=ne()-_0x32b159,this['_numDrawCa'+'llsCulled']+=_0x1ba5d5?_0x255988:0x2*0xff2+-0x1*0x595+-0x1a4f;}['collectLig'+'hts'](_0x41826a){this['lights']['length']=-0x5b4+0x21a9+0x1a5*-0x11,this['localLight'+'s']['length']=0x2*0x78b+0x18c0+0x1*-0x27d6;const _0x47c86b=this['scene']['_stats'];_0x47c86b['dynamicLig'+'hts']=0x1*-0x13f3+-0x61+0x515*0x4,_0x47c86b['bakedLight'+'s']=-0x1*0x14a+0x1c6+0x4*-0x1f;const _0x4eff5c=_0x41826a['layerList']['length'];for(let _0x1494b4=-0x723+-0x1873*-0x1+0x2*-0x8a8;_0x1494b4<_0x4eff5c;_0x1494b4++){const _0x5e142b=_0x41826a['layerList'][_0x1494b4];if(!Od['has'](_0x5e142b)){Od['add'](_0x5e142b);const _0x4de6c6=_0x5e142b['_lights'];for(let _0x397952=0x1ada*-0x1+-0x52*0x15+0x266*0xe;_0x397952<_0x4de6c6['length'];_0x397952++){const _0x27d771=_0x4de6c6[_0x397952];Fd['has'](_0x27d771)||(Fd['add'](_0x27d771),this['lights']['push'](_0x27d771),_0x27d771['_type']!==oe&&this['localLight'+'s']['push'](_0x27d771),(_0x27d771['mask']&hs||_0x27d771['mask']&cr)&&_0x47c86b['dynamicLig'+'hts']++,_0x27d771['mask']&rr&&_0x47c86b['bakedLight'+'s']++);}}}_0x47c86b['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x430a00,_0x5708fe){const _0x19832d=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x336392=this['scene']['physicalUn'+'its'];for(let _0x2455ac=0xca+-0x1*-0x11f7+-0x12c1;_0x2455ac<_0x5708fe['length'];_0x2455ac++){const _0x4eaa80=_0x5708fe[_0x2455ac];if(_0x4eaa80['enabled']){if(_0x4eaa80['_type']!==oe){if(_0x4eaa80['getBoundin'+'gSphere'](Ld),_0x430a00['frustum']['containsSp'+'here'](Ld)){_0x4eaa80['visibleThi'+'sFrame']=!(-0x17e2+-0x205*-0x13+-0xe7d),_0x4eaa80['usePhysica'+'lUnits']=_0x336392;const _0x515a65=_0x430a00['getScreenS'+'ize'](Ld);_0x4eaa80['maxScreenS'+'ize']=Math['max'](_0x4eaa80['maxScreenS'+'ize'],_0x515a65);}else _0x19832d||_0x4eaa80['castShadow'+'s']&&!_0x4eaa80['shadowMap']&&(_0x4eaa80['visibleThi'+'sFrame']=!(0x245b+0x1964+-0x3dbf));}else _0x4eaa80['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x32564b){const _0x190a8e=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x49634f=-0x8c0+0x52c*-0x7+-0x66c*-0x7;_0x49634f<this['localLight'+'s']['length'];_0x49634f++){const _0x19d62c=this['localLight'+'s'][_0x49634f];_0x19d62c['_type']!==oe&&(_0x190a8e?_0x19d62c['atlasSlotU'+'pdated']&&_0x19d62c['shadowUpda'+'teMode']===Ps&&(_0x19d62c['shadowUpda'+'teMode']=cn):_0x19d62c['shadowUpda'+'teMode']===Ps&&_0x19d62c['castShadow'+'s']&&(_0x19d62c['getRenderD'+'ata'](null,-0x256a*-0x1+-0x14ed+-0x107d)['shadowCame'+'ra']['renderTarg'+'et']||(_0x19d62c['shadowUpda'+'teMode']=cn)),_0x19d62c['visibleThi'+'sFrame']&&_0x19d62c['castShadow'+'s']&&_0x19d62c['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x19d62c,_0x32564b));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x4d2073=_0x32564b['cameras'];for(let _0x2672af=0x49*-0x5b+0x1c1b+-0x228;_0x2672af<_0x4d2073['length'];_0x2672af++){const _0x4ce84d=_0x4d2073[_0x2672af];if(_0x4ce84d['enabled']){const _0x22b098=_0x4ce84d['camera'];let _0x474625;const _0x43655a=_0x22b098['layers'];for(let _0x3244b0=-0x8f4+-0x2221*0x1+0x2b15;_0x3244b0<_0x43655a['length'];_0x3244b0++){const _0xa38705=_0x32564b['getLayerBy'+'Id'](_0x43655a[_0x3244b0]);if(_0xa38705){const _0x23a51b=_0xa38705['splitLight'+'s'][oe];for(let _0x55dca3=0xa95+-0x17*0xad+-0xfe*-0x5;_0x55dca3<_0x23a51b['length'];_0x55dca3++){const _0x4ca9ac=_0x23a51b[_0x55dca3];_0x4ca9ac['castShadow'+'s']&&!Pn['has'](_0x4ca9ac)&&(Pn['add'](_0x4ca9ac),_0x474625=_0x474625??[],_0x474625['push'](_0x4ca9ac),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x4ca9ac,_0x32564b,_0x22b098));}}}_0x474625&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x22b098,_0x474625),Pn['clear']();}}}['cullCompos'+'ition'](_0x4a14c8){const _0x147c8b=ne(),{scene:_0x55913e}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x2ddf55=_0x4a14c8['cameras']['length'];this['_camerasRe'+'ndered']+=_0x2ddf55;for(let _0x40e974=0x185c+0x1d*-0x151+0xdd1;_0x40e974<_0x2ddf55;_0x40e974++){const _0x428fde=_0x4a14c8['cameras'][_0x40e974];_0x55913e==null||_0x55913e['fire'](ow,_0x428fde);const _0x2fe84a=_0x428fde['renderTarg'+'et'];_0x428fde['frameUpdat'+'e'](_0x2fe84a),this['updateCame'+'raFrustum'](_0x428fde['camera']);const _0x344e27=_0x428fde['layers'];for(let _0x481063=-0x205*0x12+-0x2344+-0xce*-0x59;_0x481063<_0x344e27['length'];_0x481063++){const _0x25f007=_0x4a14c8['getLayerBy'+'Id'](_0x344e27[_0x481063]);if(_0x25f007&&_0x25f007['enabled']){this['cullLights'](_0x428fde['camera'],_0x25f007['_lights']);const _0x345eb0=_0x25f007['getCulledI'+'nstances'](_0x428fde['camera']);this['cull'](_0x428fde['camera'],_0x25f007['meshInstan'+'ces'],_0x345eb0);}}_0x55913e==null||_0x55913e['fire'](lw,_0x428fde);}_0x55913e['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x4a14c8),this['_cullTime']+=ne()-_0x147c8b;}['updateShad'+'ers'](_0x2e8e9f,_0x5a5c49){const _0x2b7204=_0x2e8e9f['length'];for(let _0x203ac2=0x151f+-0x31a+0x1205*-0x1;_0x203ac2<_0x2b7204;_0x203ac2++){const _0x87aac0=_0x2e8e9f[_0x203ac2]['material'];if(_0x87aac0&&!Pn['has'](_0x87aac0)&&(Pn['add'](_0x87aac0),_0x87aac0['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x5a5c49&&(!_0x87aac0['useLightin'+'g']||_0x87aac0['emitter']&&!_0x87aac0['emitter']['lighting']))continue;_0x87aac0['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x81f046){const _0x51fc2c=this['scene'],_0x26c0d2=_0x51fc2c['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x4aeda0=-0x1117*0x2+0x1*-0x224+0x2452;const _0x37b6c5=_0x81f046['layerList'],_0x102bec=_0x37b6c5['length'];for(let _0x4986f1=0xa*0x4f+-0xb1f+0x809;_0x4986f1<_0x102bec;_0x4986f1++){const _0x471475=_0x37b6c5[_0x4986f1]['meshInstan'+'ces'],_0x5c6ce6=_0x471475['length'];_0x4aeda0+=_0x5c6ce6;for(let _0x4cbeed=-0x7bf*-0x1+-0x18cd*0x1+0x110e;_0x4cbeed<_0x5c6ce6;_0x4cbeed++){const _0x58a912=_0x471475[_0x4cbeed];_0x58a912['visibleThi'+'sFrame']=!(-0x2*-0x7+-0xc72+0xc65),_0x26c0d2&&Bd['push'](_0x58a912),_0x58a912['skinInstan'+'ce']&&Nd['push'](_0x58a912);}}if(_0x51fc2c['_stats']['meshInstan'+'ces']=_0x4aeda0,_0x26c0d2){const _0x13bf2=!_0x51fc2c['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x13bf2),_0x51fc2c['updateShad'+'ers']=!(0xe*0xac+0x22*0xfb+-0x2abd),this['device']['_shadersDi'+'rty']=!(-0x6*0x3aa+0x1cff+-0x702),_0x51fc2c['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=0x13f*0x10+0xa7a*0x1+-0x1e6a,Nd['length']=-0x5*-0x3d9+0x2441+-0x377e;const _0x174eb7=this['lights'],_0x493e6e=_0x174eb7['length'];for(let _0x195e77=0x1e2+0x5b*-0x31+0xf89;_0x195e77<_0x493e6e;_0x195e77++)_0x174eb7[_0x195e77]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x134387){const _0x521572=ne(),_0x6e90cb=_0x134387['layerList']['length'],_0x539458=this['scene']['_shaderVer'+'sion'];for(let _0xfbd648=-0x10af+-0x310+0x13bf;_0xfbd648<_0x6e90cb;_0xfbd648++){const _0x1fe090=_0x134387['layerList'][_0xfbd648];_0x1fe090['_shaderVer'+'sion']=_0x539458,_0x1fe090['_skipRende'+'rCounter']=0x1c41+0x71*0x2d+-0x301e,_0x1fe090['_forwardDr'+'awCalls']=-0x26b*-0xa+-0xe65+0x1f5*-0x5,_0x1fe090['_shadowDra'+'wCalls']=0x523*0x6+0x59e+-0x2470,_0x1fe090['_renderTim'+'e']=0x1*-0x2619+-0x165e+0x3c77;}_0x134387['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x521572;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x1*0xdb+-0x256*0xd+0x1d84),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0xa00+-0x2*-0x64+-0xac7),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x9*-0x356+-0x1858+-0x5ad),this['clearDepth']=!(0x22df*-0x1+0x1641*-0x1+0x3921),this['clearStenc'+'il']=!(0x467*-0x2+-0x277*0xd+0x28da),this['triggerPos'+'tprocess']=!(-0xd87*-0x2+-0x5*-0x51c+-0x3499),this['firstCamer'+'aUse']=!(0x12da+0x134c*0x1+-0x2625),this['lastCamera'+'Use']=!(-0x5c7+0xd7d+-0x7b5*0x1),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0xc32+0xb65*0x2+-0x22fb));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x223fa1=>{_0x223fa1['defaultUni'+'formBuffer']['destroy'](),_0x223fa1['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1*0xb71+-0x22d6+0x2e47;}['setupClear'+'s'](_0x4522bc,_0x29cd07){this['clearColor']=(_0x4522bc==null?void(-0x2d2*-0x1+0x1593+0x1865*-0x1):_0x4522bc['clearColor'+'Buffer'])||_0x29cd07['clearColor'+'Buffer'],this['clearDepth']=(_0x4522bc==null?void(0x2117+-0x230e+0x1f7):_0x4522bc['clearDepth'+'Buffer'])||_0x29cd07['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x4522bc==null?void(-0x1*-0x1b9a+-0x6f5+0x7*-0x2f3):_0x4522bc['clearStenc'+'ilBuffer'])||_0x29cd07['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0x3ddb9b,_0x3d4ece,_0x244110,_0x3fe366){super(_0x3ddb9b),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(0x1fe1+0x4f+-0x202f*0x1)),(this['layerCompo'+'sition']=_0x3d4ece,this['scene']=_0x244110,this['renderer']=_0x3fe366);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0xbcf*-0x1+0x2*-0x7db+0x3e7;}['addRenderA'+'ction'](_0x1cd0ed){this['renderActi'+'ons']['push'](_0x1cd0ed);}['addLayer'](_0x55511d,_0x17825f,_0x5c2c5f,_0x49219b=!(0x1962+0x172e+-0x7*0x6f0)){v['assert'](_0x55511d),v['assert'](this['renderTarg'+'et']!==void(-0x5*0xd9+0xf86+-0xb49),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x55511d['camera']['layersSet']['has'](_0x17825f['id']),'Camera\x20'+_0x55511d['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x17825f['name']+'.');const _0xab3a66=new D0();if(_0xab3a66['renderTarg'+'et']=this['renderTarg'+'et'],_0xab3a66['camera']=_0x55511d,_0xab3a66['layer']=_0x17825f,_0xab3a66['transparen'+'t']=_0x5c2c5f,_0x49219b){const _0x16e734=this['renderActi'+'ons']['length']===0x7*-0x4b8+-0xf51+-0x1*-0x3059;_0xab3a66['setupClear'+'s'](_0x16e734?_0x55511d:void(-0x1e0a+0x71*0x4f+-0x4d5),_0x17825f);}this['addRenderA'+'ction'](_0xab3a66);}['addLayers'](_0xa2c927,_0x4dc53b,_0x493aaf,_0x25f45a,_0x6c31e6,_0xf3f06d=!(0xa09+-0xd8b+0x382)){const {layerList:_0x4ccbc7,subLayerList:_0x33e95f}=_0xa2c927;let _0x24254c=_0x25f45a,_0x221dc1=_0x493aaf;for(;_0x221dc1<_0x4ccbc7['length'];){const _0x3e99ea=_0x4ccbc7[_0x221dc1],_0x12b8f1=_0x33e95f[_0x221dc1];if(_0x4dc53b['camera']['layersSet']['has'](_0x3e99ea['id'])&&(this['addLayer'](_0x4dc53b,_0x3e99ea,_0x12b8f1,_0x24254c),_0x24254c=!(-0x7*-0x482+0xf20+-0x2ead)),_0x221dc1++,_0x3e99ea['id']===_0x6c31e6&&_0x12b8f1===_0xf3f06d)break;}return _0x221dc1;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x5681e0,renderActions:_0x5de6ed}=this;for(let _0x3288aa=-0x20e1+0x4*-0x11c+0x2551;_0x3288aa<_0x5de6ed['length'];_0x3288aa++){const _0x37b43f=_0x5de6ed[_0x3288aa]['camera']['camera'],_0x4c7930=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x37b43f);if(_0x4c7930)for(let _0x4c83df=-0x7ed+0x1f24+0x1737*-0x1;_0x4c83df<_0x4c7930['length'];_0x4c83df++){const _0x1b835c=_0x4c7930[_0x4c83df];if(_0x5681e0['dirLightSh'+'adows']['get'](_0x1b835c)!==_0x37b43f){_0x5681e0['dirLightSh'+'adows']['set'](_0x1b835c,_0x37b43f);const _0x30dead=_0x5681e0['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x1b835c,_0x37b43f);_0x30dead&&this['beforePass'+'es']['push'](_0x30dead);}}}}['updateClea'+'rs'](){const _0x28e9e3=this['renderActi'+'ons'][0x1493*0x1+0x1dac+0x13*-0x2a5];if(_0x28e9e3){const _0x14e5f2=_0x28e9e3['camera']['camera'],_0x43d7d8=_0x14e5f2['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x43d7d8&&_0x28e9e3['clearColor']?_0x14e5f2['clearColor']:void(0x213a+0x207b+-0x10b*0x3f)),this['setClearDe'+'pth'](_0x43d7d8&&_0x28e9e3['clearDepth']&&!this['noDepthCle'+'ar']?_0x14e5f2['clearDepth']:void(0x5e+-0x1*0x169d+0x11*0x14f)),this['setClearSt'+'encil'](_0x43d7d8&&_0x28e9e3['clearStenc'+'il']?_0x14e5f2['clearStenc'+'il']:void(0xc91+-0x1f06+-0x1275*-0x1));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x40c99f}=this;for(let _0x3fdad9=0x269e+-0x893+0x1*-0x1e0b;_0x3fdad9<_0x40c99f['length'];_0x3fdad9++){const _0x1ae8a1=_0x40c99f[_0x3fdad9];_0x1ae8a1['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x1ae8a1['camera']);}}['execute'](){const {layerComposition:_0x184b13,renderActions:_0x78c476}=this;for(let _0x28f89e=0x17*-0x61+0x28d*-0xb+0x24c6;_0x28f89e<_0x78c476['length'];_0x28f89e++){const _0x4bb0e3=_0x78c476[_0x28f89e],_0xde892b=_0x4bb0e3['layer'];v['call'](()=>{_0x184b13['getLayerBy'+'Name'](_0xde892b['name'])||v['warnOnce']('Layer\x20'+_0xde892b['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x184b13['isEnabled'](_0xde892b,_0x4bb0e3['transparen'+'t'])&&this['renderRend'+'erAction'](_0x4bb0e3,_0x28f89e===-0x1*0x136e+0x1001+0x36d);}}['after'](){for(let _0x318f76=0x1c6a*0x1+0x1f68+-0x3bd2;_0x318f76<this['renderActi'+'ons']['length'];_0x318f76++){const _0x2def61=this['renderActi'+'ons'][_0x318f76];_0x2def61['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x2def61['camera']);}this['beforePass'+'es']['length']=0x327+0x1665+-0x198c;}['renderRend'+'erAction'](_0x4a8a3b,_0x2d93fa){var _0x46e778;const {renderer:_0x2eb342,scene:_0x4bc8d2}=this,_0x25615e=_0x2eb342['device'],{layer:_0x4f2902,transparent:_0x53947c,camera:_0x490080}=_0x4a8a3b;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x490080?_0x490080['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x4f2902['name']+'('+(_0x53947c?'TRANSP':'OPAQUE')+')');const _0x5a5328=ne();if(_0x490080){const _0x1d3ffe=_0x490080['gammaCorre'+'ction'],_0x3feebb=_0x490080['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0xc1f+0xd1a+0x1*-0x1939)&&(_0x490080['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x1f*0xb7+0xf29*0x1+-0x2552)&&(_0x490080['toneMappin'+'g']=this['toneMappin'+'g']),_0x4bc8d2['fire'](nw,_0x490080,_0x4f2902,_0x53947c);const _0x199884={'lightClusters':_0x4a8a3b['lightClust'+'ers']},_0x354226=((_0x46e778=_0x490080['camera']['shaderPass'+'Info'])==null?void(0x46*-0x3a+-0x1421+0x1*0x23fd):_0x46e778['index'])??gn;(!_0x2d93fa||!_0x490080['camera']['fullSizeCl'+'earRect'])&&(_0x199884['clearColor']=_0x4a8a3b['clearColor'],_0x199884['clearDepth']=_0x4a8a3b['clearDepth'],_0x199884['clearStenc'+'il']=_0x4a8a3b['clearStenc'+'il']);const _0x5755a6=_0x4a8a3b['renderTarg'+'et']??_0x25615e['backBuffer'];_0x2eb342['renderForw'+'ardLayer'](_0x490080['camera'],_0x5755a6,_0x4f2902,_0x53947c,_0x354226,_0x4a8a3b['viewBindGr'+'oups'],_0x199884),_0x25615e['setBlendSt'+'ate'](_t['NOBLEND']),_0x25615e['setStencil'+'State'](null,null),_0x25615e['setAlphaTo'+'Coverage'](!(0x1d57+-0x73f+-0x1617)),_0x4bc8d2['fire'](aw,_0x490080,_0x4f2902,_0x53947c),this['gammaCorre'+'ction']!==void(-0x1*-0x65+-0x210+-0x7*-0x3d)&&(_0x490080['gammaCorre'+'ction']=_0x1d3ffe),this['toneMappin'+'g']!==void(-0x21a9+-0x111d+-0x1*-0x32c6)&&(_0x490080['toneMappin'+'g']=_0x3feebb);}G['popGpuMark'+'er'](this['device']),_0x4f2902['_renderTim'+'e']+=ne()-_0x5a5328;}['log'](_0x1a6935,_0xda4f24){if(super['log'](_0x1a6935,_0xda4f24),Xs['get'](Jn)){const {layerComposition:_0x46439f}=this;this['renderActi'+'ons']['forEach']((_0x2d3ca6,_0xf5833e)=>{const _0x3e2bb4=_0x2d3ca6['layer'],_0x17db59=_0x3e2bb4['enabled']&&_0x46439f['isEnabled'](_0x3e2bb4,_0x2d3ca6['transparen'+'t']),_0x62bcbd=_0x2d3ca6['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0xf5833e+':'+('\x20Cam:\x20'+(_0x62bcbd?_0x62bcbd['entity']['name']:'-'))['padEnd'](0x2*0x529+-0xa67+0x2b,'\x20')+('\x20Lay:\x20'+_0x3e2bb4['name'])['padEnd'](-0x3d0+-0x34c*-0x6+-0xfe2,'\x20')+(_0x2d3ca6['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x17db59?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x3e2bb4['meshInstan'+'ces']['length'])['padEnd'](0xc17+-0x25*-0x7+-0xd15,'\x20'));});}}}class FM extends ds{constructor(_0x4c30b4,_0x1c1bd8,_0x5c1219){super(_0x4c30b4),this['renderer']=_0x1c1bd8,this['renderActi'+'on']=_0x5c1219,this['requiresCu'+'bemaps']=!(-0x1*-0xac1+0x3*0x853+-0x3b*0x9b);}['execute'](){const _0x1c0cab=this['renderActi'+'on'],_0x6898c6=_0x1c0cab['camera'];v['assert'](_0x1c0cab['triggerPos'+'tprocess']&&_0x6898c6['onPostproc'+'essing']),_0x6898c6['onPostproc'+'essing']();}}const OM=[[],[],[]],Wi=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x193d+0x34*-0xad+0x9e7,this['shaderInst'+'ances']['length']=0x2*0x724+0x29*-0x2f+-0x6c1,this['isNewMater'+'ial']['length']=0x19*-0x2d+-0x187d+-0x2*-0xe71,this['lightMaskC'+'hanged']['length']=0x49*0x7c+-0xe1f+-0x153d;}};function kM(_0x2503c0){const _0x229414=[];for(let _0x330ebe=-0x58e+-0x1f5*-0x3+-0x51;_0x330ebe<_0x2503c0;++_0x330ebe){const _0x37a24a=Math['sqrt'](_0x330ebe+(-0x3*-0xa4c+-0x11fa+-0xcea+0.5))/Math['sqrt'](_0x2503c0);_0x229414['push'](_0x37a24a);}return _0x229414;}function BM(_0x270827){const _0x2b4f23=[];for(let _0x538702=0x2*0x315+-0x21b7+0x1b8d;_0x538702<_0x270827;_0x538702++){const _0x49371b=_0x538702/_0x270827,_0x51261b=Math['sqrt'](_0x49371b*_0x49371b);_0x2b4f23['push'](_0x51261b);}return _0x2b4f23;}const _i=class _i extends DM{constructor(_0x24621f){super(_0x24621f);const _0x225a0b=this['device'];this['_forwardDr'+'awCalls']=-0xd*0x2fe+0x1dd+-0x13*-0x1f3,this['_materialS'+'witches']=0x2430+-0x76*0x35+0x2b*-0x46,this['_depthMapT'+'ime']=0x1*-0x2605+0xbc*0x2a+0x72d,this['_forwardTi'+'me']=-0x215f+-0x1e43*-0x1+0x18e*0x2,this['_sortTime']=0xe5f*0x1+0x3*0x9f8+0x2c47*-0x1;const _0xbba2e8=_0x225a0b['scope'];this['fogColorId']=_0xbba2e8['resolve']('fog_color'),this['fogStartId']=_0xbba2e8['resolve']('fog_start'),this['fogEndId']=_0xbba2e8['resolve']('fog_end'),this['fogDensity'+'Id']=_0xbba2e8['resolve']('fog_densit'+'y'),this['ambientId']=_0xbba2e8['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0xbba2e8['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0xbba2e8['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0xbba2e8['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0xbba2e8['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0xbba2e8['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x1e21+0x2111+-0x3f2e),this['fogColor']=new Float32Array(0x1*0xab1+0x1f6d+-0x2a1b*0x1),this['ambientCol'+'or']=new Float32Array(0x244d+-0x7*-0x4a+0x994*-0x4),this['pcssDiskSa'+'mples']=kM(0x188c+-0x24df+0xc63),this['pcssSphere'+'Samples']=BM(0x182a*-0x1+0xfa+0x18*0xf8);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x24f0dd){const _0x19fdec=this['ambientCol'+'or'];if(Wi['linear'](_0x24f0dd['ambientLig'+'ht']),_0x19fdec[0x20e+0x75e+-0x96c]=Wi['r'],_0x19fdec[0x1c61+-0x120f+-0xa51]=Wi['g'],_0x19fdec[0x6*-0x158+-0x1fe6+0x27f8]=Wi['b'],_0x24f0dd['physicalUn'+'its']){for(let _0x345786=0x5*-0x72f+-0x1*0xdc1+0x18d6*0x2;_0x345786<-0xa6c+-0x191a*-0x1+-0x5*0x2ef;_0x345786++)_0x19fdec[_0x345786]*=_0x24f0dd['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x19fdec),this['skyboxInte'+'nsityId']['setValue'](_0x24f0dd['physicalUn'+'its']?_0x24f0dd['skyboxLumi'+'nance']:_0x24f0dd['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x24f0dd['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x5438c9,_0x3d5344){const _0xb829e1='light'+_0x3d5344;this['lightColor'+'Id'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+'_color'),this['lightDir'][_0x3d5344]=new Float32Array(-0xe2e+-0x1*0x200f+0x1*0x2e40),this['lightDirId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+'_direction'),this['lightShado'+'wMapId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+'_radius'),this['lightPos'][_0x3d5344]=new Float32Array(0xd68+-0x4*0x15a+-0x7fd),this['lightPosId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+'_position'),this['lightWidth'][_0x3d5344]=new Float32Array(0x61*0x2b+0x6b*-0x52+-0x62*-0x2f),this['lightWidth'+'Id'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+'_halfWidth'),this['lightHeigh'+'t'][_0x3d5344]=new Float32Array(0x1f1b+0x15be+-0x34d6),this['lightHeigh'+'tId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+'_cookie'),this['lightCooki'+'eIntId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x3d5344]=_0x5438c9['resolve'](_0xb829e1+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x7b35be,_0x451b28,_0x1a1e70,_0x1ed999,_0x77afe6){this['lightPos'][_0x451b28][-0x2*0x70a+-0x281*0xf+0x1*0x33a3]=_0x1ed999['x']-_0x1a1e70['x']*_0x77afe6,this['lightPos'][_0x451b28][-0x745*0x1+-0xd*0xa3+-0x52f*-0x3]=_0x1ed999['y']-_0x1a1e70['y']*_0x77afe6,this['lightPos'][_0x451b28][-0xc3*0x2d+0xbed+-0x24*-0x9f]=_0x1ed999['z']-_0x1a1e70['z']*_0x77afe6,this['lightPosId'][_0x451b28]['setValue'](this['lightPos'][_0x451b28]);const _0x4c5af6=_0x7b35be['transformV'+'ector'](new T(-(0x153*-0x15+0x1f63*0x1+-0x2*0x1ca+0.5),-0x13*-0x59+-0x20d1+-0x29f*-0xa,0x1f02+-0xd8f+0x3*-0x5d1));this['lightWidth'][_0x451b28][-0x21cf+0x1*0xf7+-0x4*-0x836]=_0x4c5af6['x']*_0x77afe6,this['lightWidth'][_0x451b28][-0x6*0x652+-0x1e62+-0x43*-0x105]=_0x4c5af6['y']*_0x77afe6,this['lightWidth'][_0x451b28][-0x10b8*-0x1+0xe43+-0x1ef9]=_0x4c5af6['z']*_0x77afe6,this['lightWidth'+'Id'][_0x451b28]['setValue'](this['lightWidth'][_0x451b28]);const _0xab9646=_0x7b35be['transformV'+'ector'](new T(0x44f*0x3+-0x1b10+0xe23,0x113f+0x1e91+-0x78*0x66,-0x1*0x61d+-0x937+0xf54+0.5));this['lightHeigh'+'t'][_0x451b28][-0x21d*-0x1+0x47*0xb+0x295*-0x2]=_0xab9646['x']*_0x77afe6,this['lightHeigh'+'t'][_0x451b28][-0x17*0x49+-0x3*-0x4fe+-0x86a]=_0xab9646['y']*_0x77afe6,this['lightHeigh'+'t'][_0x451b28][-0x21f4+0x1b96+-0x220*-0x3]=_0xab9646['z']*_0x77afe6,this['lightHeigh'+'tId'][_0x451b28]['setValue'](this['lightHeigh'+'t'][_0x451b28]);}['dispatchDi'+'rectLights'](_0x1167e8,_0x544a80,_0x547e40){let _0x5100fe=0x4*-0x2ee+0x715+-0x1*-0x4a3;const _0x2e1a3d=this['device']['scope'];for(let _0x3e4b60=0x239d+-0x13a1+0x3e*-0x42;_0x3e4b60<_0x1167e8['length'];_0x3e4b60++){if(!(_0x1167e8[_0x3e4b60]['mask']&_0x544a80))continue;const _0x1fdc9a=_0x1167e8[_0x3e4b60],_0xd6758a=_0x1fdc9a['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x5100fe]||this['_resolveLi'+'ght'](_0x2e1a3d,_0x5100fe),this['lightColor'+'Id'][_0x5100fe]['setValue'](_0x1fdc9a['_colorLine'+'ar']),_0xd6758a['getY'](_0x1fdc9a['_direction'])['mulScalar'](-(-0x55*0x1f+-0x1525+0x3*0xa7b)),_0x1fdc9a['_direction']['normalize'](),this['lightDir'][_0x5100fe][0x55*-0x3b+-0x158c+0x2923]=_0x1fdc9a['_direction']['x'],this['lightDir'][_0x5100fe][0x239f+0x2e7*0x1+-0x2685]=_0x1fdc9a['_direction']['y'],this['lightDir'][_0x5100fe][0x21cd+-0x12*-0x124+-0x3653]=_0x1fdc9a['_direction']['z'],this['lightDirId'][_0x5100fe]['setValue'](this['lightDir'][_0x5100fe]),_0x1fdc9a['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0xd6758a,_0x5100fe,_0x1fdc9a['_direction'],_0x547e40['_node']['getPositio'+'n'](),_0x547e40['farClip']),_0x1fdc9a['castShadow'+'s']){const _0x322ddf=_0x1fdc9a['getRenderD'+'ata'](_0x547e40,-0x3*-0x692+-0x797+-0x1*0xc1f),_0x48cb11=_0x1fdc9a['_getUnifor'+'mBiasValue'+'s'](_0x322ddf);this['lightShado'+'wMapId'][_0x5100fe]['setValue'](_0x322ddf['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x5100fe]['setValue'](_0x322ddf['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x5100fe]['setValue'](_0x1fdc9a['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x5100fe]['setValue'](_0x1fdc9a['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x5100fe]['setValue'](_0x1fdc9a['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x5100fe]['setValue'](-0x14b*0x3+-0x53*-0x6e+-0x1fc8-_0x1fdc9a['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x5100fe]['setValue'](_0x1fdc9a['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x5100fe]['setValue'](_0x1fdc9a['_softShado'+'wParams']),_0x322ddf['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x5100fe]['setValue'](_0x1fdc9a['penumbraSi'+'ze']/_0x322ddf['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x322ddf['projection'+'Compensati'+'on']);const _0x46bac5=_0x1fdc9a['_shadowCam'+'eraParams'];_0x46bac5['length']=0x15b7+-0x1829*-0x1+-0x2ddc,_0x46bac5[0x19a1*-0x1+0xd97+-0x2*-0x605]=0xb*-0x23f+0x1f85*-0x1+-0x3*-0x12be,_0x46bac5[-0x1*0x103a+-0x35b*0x1+0x1396]=_0x322ddf['shadowCame'+'ra']['_farClip'],_0x46bac5[0x1658+-0xfa2+0x21*-0x34]=_0x322ddf['shadowCame'+'ra']['_nearClip'],_0x46bac5[0x5*-0x340+0x33a+-0x1*-0xd09]=-0x1c95+0x2575*-0x1+0x247*0x1d,this['lightCamer'+'aParamsId'][_0x5100fe]['setValue'](_0x46bac5);const _0x1f3aa4=_0x1fdc9a['_shadowRen'+'derParams'];_0x1f3aa4['length']=0xb1*0x25+0x713*-0x5+-0x5*-0x1f6,_0x1f3aa4[-0x1*0xc39+0x17b5+-0x4*0x2df]=_0x1fdc9a['_shadowRes'+'olution'],_0x1f3aa4[-0xd43+-0x2032+0x2d76]=_0x48cb11['normalBias'],_0x1f3aa4[-0x1285+0x199e*-0x1+0x3*0xeb7]=_0x48cb11['bias'],_0x1f3aa4[-0xb*-0x1fb+-0xb0+0xa8b*-0x2]=0x5d*-0x43+0x339+0x151e,this['lightShado'+'wParamsId'][_0x5100fe]['setValue'](_0x1f3aa4);}_0x5100fe++;}return _0x5100fe;}['setLTCPosi'+'tionalLigh'+'t'](_0x5778da,_0x51546b){const _0x5ab241=_0x5778da['transformV'+'ector'](new T(-(-0x1*-0x6da+0x234a+0x3a*-0xba+0.5),0x7fe+0x844*0x1+-0x1*0x1042,0x359*-0x9+-0x1*-0x2065+-0x5*0x74));this['lightWidth'][_0x51546b][0x1a26+0x1e*0xa1+-0x2d04]=_0x5ab241['x'],this['lightWidth'][_0x51546b][-0xf01+0xa7*-0x2b+-0x2b0f*-0x1]=_0x5ab241['y'],this['lightWidth'][_0x51546b][0x1bb*-0x13+-0x2*0xbf2+0x2d*0x143]=_0x5ab241['z'],this['lightWidth'+'Id'][_0x51546b]['setValue'](this['lightWidth'][_0x51546b]);const _0x33df73=_0x5778da['transformV'+'ector'](new T(0x13b7+0x1cf*-0x1+-0x8f4*0x2,0xf6e+-0x31b+-0xc53,-0x1a25+-0x7ff+0x2224+0.5));this['lightHeigh'+'t'][_0x51546b][-0x13b1+-0x1*-0x1c2+0x11ef]=_0x33df73['x'],this['lightHeigh'+'t'][_0x51546b][-0x20ee+-0xb*0x197+0x326c]=_0x33df73['y'],this['lightHeigh'+'t'][_0x51546b][0x1*0x2534+0x19e2*0x1+-0x3f14]=_0x33df73['z'],this['lightHeigh'+'tId'][_0x51546b]['setValue'](this['lightHeigh'+'t'][_0x51546b]);}['dispatchOm'+'niLight'](_0x288409,_0x174e54,_0x4a9df7){const _0x48c177=_0x174e54['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x4a9df7]||this['_resolveLi'+'ght'](_0x288409,_0x4a9df7),this['lightRadiu'+'sId'][_0x4a9df7]['setValue'](_0x174e54['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x4a9df7]['setValue'](_0x174e54['_colorLine'+'ar']),_0x48c177['getTransla'+'tion'](_0x174e54['_position']),this['lightPos'][_0x4a9df7][-0x111*0x16+-0x2700+0xa69*0x6]=_0x174e54['_position']['x'],this['lightPos'][_0x4a9df7][-0x1dc6+-0x269*0x10+-0xdab*-0x5]=_0x174e54['_position']['y'],this['lightPos'][_0x4a9df7][0x849+0x35d+-0xba4]=_0x174e54['_position']['z'],this['lightPosId'][_0x4a9df7]['setValue'](this['lightPos'][_0x4a9df7]),_0x174e54['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x48c177,_0x4a9df7),_0x174e54['castShadow'+'s']){const _0x2dedda=_0x174e54['getRenderD'+'ata'](null,-0x38e+0x61e+0xa4*-0x4);this['lightShado'+'wMapId'][_0x4a9df7]['setValue'](_0x2dedda['shadowBuff'+'er']);const _0x565920=_0x174e54['_getUnifor'+'mBiasValue'+'s'](_0x2dedda),_0x320956=_0x174e54['_shadowRen'+'derParams'];_0x320956['length']=-0x15d7*-0x1+-0x974+-0xc5f,_0x320956[0x21b3+-0x225+0x1f8e*-0x1]=_0x174e54['_shadowRes'+'olution'],_0x320956[-0x931+0x26f+-0x6c3*-0x1]=_0x565920['normalBias'],_0x320956[0xdd5*0x2+-0x1*-0x2667+-0x420f]=_0x565920['bias'],_0x320956[0x1aff+0xb*-0x1ee+-0x16*0x43]=(0x622+-0x3a9+-0x9e*0x4)/_0x174e54['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x4a9df7]['setValue'](_0x320956),this['lightShado'+'wIntensity'][_0x4a9df7]['setValue'](_0x174e54['shadowInte'+'nsity']);const _0x4e8cb8=_0x174e54['penumbraSi'+'ze']/_0x2dedda['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x4a9df7]['setValue'](_0x4e8cb8);const _0xea3623=_0x174e54['_shadowCam'+'eraParams'];_0xea3623['length']=-0x13*-0xc1+0x1551*-0x1+0xd*0x8a,_0xea3623[0x1029+0x15a0+0x1*-0x25c9]=0xf84+0x1*0x1fa+-0x2*0x8bf,_0xea3623[0xd67*0x1+0x56b+-0x12d1]=_0x2dedda['shadowCame'+'ra']['_farClip'],_0xea3623[0x57d+-0x20be+0x1b43]=_0x2dedda['shadowCame'+'ra']['_nearClip'],_0xea3623[0x9*-0x3b5+-0x5f8+0x2758]=0x19*-0x185+-0x67f*-0x1+-0x1*-0x1f7e,this['lightCamer'+'aParamsId'][_0x4a9df7]['setValue'](_0xea3623);}_0x174e54['_cookie']&&(this['lightCooki'+'eId'][_0x4a9df7]['setValue'](_0x174e54['_cookie']),this['lightShado'+'wMatrixId'][_0x4a9df7]['setValue'](_0x48c177['data']),this['lightCooki'+'eIntId'][_0x4a9df7]['setValue'](_0x174e54['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x19ef5a,_0xcce98e,_0x13c6f0){const _0x44256d=_0xcce98e['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x13c6f0]||this['_resolveLi'+'ght'](_0x19ef5a,_0x13c6f0),this['lightInAng'+'leId'][_0x13c6f0]['setValue'](_0xcce98e['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x13c6f0]['setValue'](_0xcce98e['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x13c6f0]['setValue'](_0xcce98e['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x13c6f0]['setValue'](_0xcce98e['_colorLine'+'ar']),_0x44256d['getTransla'+'tion'](_0xcce98e['_position']),this['lightPos'][_0x13c6f0][-0x1*0xb66+0x1*-0x877+0x13dd]=_0xcce98e['_position']['x'],this['lightPos'][_0x13c6f0][-0x134e+0xa1d+0x16*0x6b]=_0xcce98e['_position']['y'],this['lightPos'][_0x13c6f0][0x1c51+-0xf*0x1fe+-0x1*-0x193]=_0xcce98e['_position']['z'],this['lightPosId'][_0x13c6f0]['setValue'](this['lightPos'][_0x13c6f0]),_0xcce98e['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x44256d,_0x13c6f0),_0x44256d['getY'](_0xcce98e['_direction'])['mulScalar'](-(-0x6*0xbb+0x18b3*0x1+-0x1450)),_0xcce98e['_direction']['normalize'](),this['lightDir'][_0x13c6f0][-0xa*0x2a6+0x2*-0x19b+-0x9e6*-0x3]=_0xcce98e['_direction']['x'],this['lightDir'][_0x13c6f0][0x1f5*-0x9+-0x1a31+-0x1*-0x2bcf]=_0xcce98e['_direction']['y'],this['lightDir'][_0x13c6f0][-0x7*0x541+-0x542+0x2a0b]=_0xcce98e['_direction']['z'],this['lightDirId'][_0x13c6f0]['setValue'](this['lightDir'][_0x13c6f0]),_0xcce98e['castShadow'+'s']){const _0x143209=_0xcce98e['getRenderD'+'ata'](null,0x24b7+0x1*-0x108b+-0x142c);this['lightShado'+'wMapId'][_0x13c6f0]['setValue'](_0x143209['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x13c6f0]['setValue'](_0x143209['shadowMatr'+'ix']['data']);const _0x270e48=_0xcce98e['_getUnifor'+'mBiasValue'+'s'](_0x143209),_0xb209e7=_0xcce98e['_shadowRen'+'derParams'];_0xb209e7['length']=0x18f5+-0x5*-0x70d+-0x3c32,_0xb209e7[0x14*-0x103+-0x9b3+0x1*0x1def]=_0xcce98e['_shadowRes'+'olution'],_0xb209e7[0x25cf+0x9*0x35b+-0x9b7*0x7]=_0x270e48['normalBias'],_0xb209e7[0x55d*-0x4+0x1de4+-0x2*0x437]=_0x270e48['bias'],_0xb209e7[0x7b1+0x3*0x977+-0x737*0x5]=(-0x50*-0x8+-0x2*-0xf02+-0x2083)/_0xcce98e['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x13c6f0]['setValue'](_0xb209e7),this['lightShado'+'wIntensity'][_0x13c6f0]['setValue'](_0xcce98e['shadowInte'+'nsity']);const _0x2a8384=_0xcce98e['penumbraSi'+'ze']/_0x143209['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x5c0b6a=_0x143209['shadowCame'+'ra']['_fov']*Math['PI']/(-0x2*-0xa39+-0x1705+-0x1*-0x347),_0x4ad4ab=(0x1*0xfa7+-0xb15+-0x7*0xa7)/Math['tan'](_0x5c0b6a/(0x971+0x1c4f+-0x25be));this['lightShado'+'wSearchAre'+'aId'][_0x13c6f0]['setValue'](_0x2a8384*_0x4ad4ab);const _0x23cbf7=_0xcce98e['_shadowCam'+'eraParams'];_0x23cbf7['length']=-0xf73+-0x1325+-0x14*-0x1bb,_0x23cbf7[0x2de*-0x3+0x15f9+-0xd5f]=0x3f6*0x1+0x691*-0x1+0x29b,_0x23cbf7[0x1986+0xbc3+-0x2548]=_0x143209['shadowCame'+'ra']['_farClip'],_0x23cbf7[-0x1*0xc5+-0x23c9+0x2490]=_0x143209['shadowCame'+'ra']['_nearClip'],_0x23cbf7[-0xcf1*0x1+-0x22c7+0x2fbb]=-0x20b0+-0x5*0x2d+-0xd*-0x295,this['lightCamer'+'aParamsId'][_0x13c6f0]['setValue'](_0x23cbf7);}if(_0xcce98e['_cookie']){if(!_0xcce98e['castShadow'+'s']){const _0x1364df=Ma['evalSpotCo'+'okieMatrix'](_0xcce98e);this['lightShado'+'wMatrixId'][_0x13c6f0]['setValue'](_0x1364df['data']);}this['lightCooki'+'eId'][_0x13c6f0]['setValue'](_0xcce98e['_cookie']),this['lightCooki'+'eIntId'][_0x13c6f0]['setValue'](_0xcce98e['cookieInte'+'nsity']),_0xcce98e['_cookieTra'+'nsform']&&(_0xcce98e['_cookieTra'+'nsformUnif'+'orm'][-0x8fa+0x1331+-0xa37*0x1]=_0xcce98e['_cookieTra'+'nsform']['x'],_0xcce98e['_cookieTra'+'nsformUnif'+'orm'][0x871+0xe5d*-0x1+0x5ed]=_0xcce98e['_cookieTra'+'nsform']['y'],_0xcce98e['_cookieTra'+'nsformUnif'+'orm'][0x37*-0xd+-0x51d+0x7ea]=_0xcce98e['_cookieTra'+'nsform']['z'],_0xcce98e['_cookieTra'+'nsformUnif'+'orm'][-0x5*-0x355+-0x1d8e+0xce8]=_0xcce98e['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x13c6f0]['setValue'](_0xcce98e['_cookieTra'+'nsformUnif'+'orm']),_0xcce98e['_cookieOff'+'setUniform'][0x2a5+0x392*0x1+-0x637]=_0xcce98e['_cookieOff'+'set']['x'],_0xcce98e['_cookieOff'+'setUniform'][-0x4*0x614+-0x9*0x30c+-0x1*-0x33bd]=_0xcce98e['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x13c6f0]['setValue'](_0xcce98e['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x5e02a8,_0x2dcdb5,_0x4f6bf7){let _0x3eaaea=_0x4f6bf7;const _0x5a99e2=this['device']['scope'],_0x2fac77=_0x5e02a8[Pe],_0x7b70e7=_0x2fac77['length'];for(let _0x389124=0x43*0x1+0x1*-0x1183+0x6*0x2e0;_0x389124<_0x7b70e7;_0x389124++){const _0x559036=_0x2fac77[_0x389124];_0x559036['mask']&_0x2dcdb5&&(this['dispatchOm'+'niLight'](_0x5a99e2,_0x559036,_0x3eaaea),_0x3eaaea++);}const _0x340980=_0x5e02a8[Re],_0x52e23b=_0x340980['length'];for(let _0x1e1b72=0x1ab3+-0xc14+-0xe9f;_0x1e1b72<_0x52e23b;_0x1e1b72++){const _0x14d720=_0x340980[_0x1e1b72];_0x14d720['mask']&_0x2dcdb5&&(this['dispatchSp'+'otLight'](_0x5a99e2,_0x14d720,_0x3eaaea),_0x3eaaea++);}}['renderForw'+'ardPrepare'+'Materials'](_0x3a10bf,_0x4bcba3,_0x51371f,_0x234619,_0x3116b0,_0x1291f3){const _0x1ce880=_0x3a10bf['fog']??this['scene']['fog'],_0x45b32e=_0x3a10bf['shaderPara'+'ms'];_0x45b32e['fog']=_0x1ce880['type'],_0x45b32e['srgbRender'+'Target']=(_0x4bcba3==null?void(0x18e7+0x1829+-0x14*0x274):_0x4bcba3['isColorBuf'+'ferSrgb'](-0x1970+-0x1121+0x1*0x2a91))??!(0x1d*0x77+0x6c5+-0x47*0x49);const _0x8ef2b1=(_0x36597d,_0x3403f7,_0x168b49,_0x32f894)=>{br['drawCalls']['push'](_0x36597d),br['shaderInst'+'ances']['push'](_0x3403f7),br['isNewMater'+'ial']['push'](_0x168b49),br['lightMaskC'+'hanged']['push'](_0x32f894);};br['clear']();const _0xdf4f28=this['device'],_0x4587de=this['scene'],_0x469680=_0x4587de['clusteredL'+'ightingEna'+'bled'],_0x31537a=(_0x3116b0==null?void(0x1ba4+0xc*-0x12b+-0xda*0x10):_0x3116b0['getLightHa'+'sh'](_0x469680))??-0x11b9+-0x58*-0x27+0x451;let _0x9f59d=null,_0x51fc2d,_0x5dd3a6;const _0xdaa8d=_0x51371f['length'];for(let _0x50df78=0x189*0x4+-0x2185+0x1b61;_0x50df78<_0xdaa8d;_0x50df78++){const _0x598eca=_0x51371f[_0x50df78];if(_0x3a10bf===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x3116b0){if(_0x3116b0['_skipRende'+'rCounter']>=_0x3116b0['skipRender'+'After'])continue;_0x3116b0['_skipRende'+'rCounter']++;}_0x598eca['ensureMate'+'rial'](_0xdf4f28);const _0x12a2f1=_0x598eca['material'],_0x191e18=_0x598eca['_shaderDef'+'s'],_0x36a7e8=_0x598eca['mask'];_0x12a2f1&&_0x12a2f1===_0x9f59d&&_0x191e18!==_0x51fc2d&&(_0x9f59d=null),_0x12a2f1!==_0x9f59d&&(this['_materialS'+'witches']++,_0x12a2f1['_scene']=_0x4587de,_0x12a2f1['dirty']&&(G['pushGpuMar'+'ker'](_0xdf4f28,'Node:\x20'+_0x598eca['node']['name']+(',\x20Material'+':\x20')+_0x12a2f1['name']),_0x12a2f1['updateUnif'+'orms'](_0xdf4f28,_0x4587de),_0x12a2f1['dirty']=!(-0xf77*-0x1+0x2*-0x102f+0x10e8*0x1),G['popGpuMark'+'er'](_0xdf4f28)));const _0x9dd4a5=_0x598eca['getShaderI'+'nstance'](_0x1291f3,_0x31537a,_0x4587de,_0x45b32e,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x234619);_0x8ef2b1(_0x598eca,_0x9dd4a5,_0x12a2f1!==_0x9f59d,!_0x9f59d||_0x36a7e8!==_0x5dd3a6),_0x9f59d=_0x12a2f1,_0x51fc2d=_0x191e18,_0x5dd3a6=_0x36a7e8;}return br;}['renderForw'+'ardInterna'+'l'](_0x593c07,_0x278853,_0x2478f3,_0x5ef7db,_0x38c050,_0x4ad7fa){const _0x30f8be=this['device'],_0x360770=this['scene'],_0x39a576=0x6f5+0x501+-0xbf5<<_0x5ef7db,_0x2b2952=_0x4ad7fa?-(0x21a+-0x929+0x710):0x1eba+0x1413+-0x32cc,_0x5c48af=_0x360770['clusteredL'+'ightingEna'+'bled'],_0x44af39=_0x278853['drawCalls']['length'];for(let _0x507c5b=-0x21da+0x55d*0x5+0x709;_0x507c5b<_0x44af39;_0x507c5b++){const _0xa6bb56=_0x278853['drawCalls'][_0x507c5b],_0x1116b9=_0x278853['isNewMater'+'ial'][_0x507c5b],_0x47d23b=_0x278853['lightMaskC'+'hanged'][_0x507c5b],_0x186009=_0x278853['shaderInst'+'ances'][_0x507c5b],_0xbfad38=_0xa6bb56['material'],_0x2a0005=_0xa6bb56['mask'];if(_0x1116b9){if(_0x30f8be['setShader'](_0x186009['shader'],!(-0x21fc+-0x21c9+-0x6c7*-0xa)),_0xbfad38['setParamet'+'ers'](_0x30f8be),_0x47d23b){const _0x5ceddb=this['dispatchDi'+'rectLights'](_0x2478f3[oe],_0x2a0005,_0x593c07);_0x5c48af||this['dispatchLo'+'calLights'](_0x2478f3,_0x2a0005,_0x5ceddb);}this['alphaTestI'+'d']['setValue'](_0xbfad38['alphaTest']),_0x30f8be['setBlendSt'+'ate'](_0xbfad38['blendState']),_0x30f8be['setDepthSt'+'ate'](_0xbfad38['depthState']),_0x30f8be['setAlphaTo'+'Coverage'](_0xbfad38['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x30f8be,'Node:\x20'+_0xa6bb56['node']['name']+(',\x20Material'+':\x20')+_0xbfad38['name']),this['setupCullM'+'ode'](_0x593c07['_cullFaces'],_0x2b2952,_0xa6bb56);const _0x18286b=_0xa6bb56['stencilFro'+'nt']??_0xbfad38['stencilFro'+'nt'],_0x59633f=_0xa6bb56['stencilBac'+'k']??_0xbfad38['stencilBac'+'k'];_0x30f8be['setStencil'+'State'](_0x18286b,_0x59633f),_0xa6bb56['setParamet'+'ers'](_0x30f8be,_0x39a576),_0x30f8be['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0xa6bb56['id']);const _0x233c85=_0xa6bb56['mesh'];this['setVertexB'+'uffers'](_0x30f8be,_0x233c85),this['setMorphin'+'g'](_0x30f8be,_0xa6bb56['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x30f8be,_0xa6bb56),this['setupMeshU'+'niformBuff'+'ers'](_0x186009,_0xa6bb56);const _0x5bb9a2=_0xa6bb56['renderStyl'+'e'];if(_0x30f8be['setIndexBu'+'ffer'](_0x233c85['indexBuffe'+'r'][_0x5bb9a2]),_0x38c050==null||_0x38c050(_0xa6bb56,_0x507c5b),_0x593c07['xr']&&_0x593c07['xr']['session']&&_0x593c07['xr']['views']['list']['length']){const _0x4abb73=_0x593c07['xr']['views'];for(let _0x4f84ce=-0x1839+-0x13d6*0x1+-0x2c0f*-0x1;_0x4f84ce<_0x4abb73['list']['length'];_0x4f84ce++){const _0x38c696=_0x4abb73['list'][_0x4f84ce];_0x30f8be['setViewpor'+'t'](_0x38c696['viewport']['x'],_0x38c696['viewport']['y'],_0x38c696['viewport']['z'],_0x38c696['viewport']['w']),this['projId']['setValue'](_0x38c696['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x38c696['projMat']['data']),this['viewId']['setValue'](_0x38c696['viewOffMat']['data']),this['viewInvId']['setValue'](_0x38c696['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x38c696['viewMat3']['data']),this['viewProjId']['setValue'](_0x38c696['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x38c696['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x4f84ce),_0x4f84ce===0x15d7+0x1613+-0x2bea?this['drawInstan'+'ce'](_0x30f8be,_0xa6bb56,_0x233c85,_0x5bb9a2,!(-0x25f+0x6bc*-0x3+0x1*0x1693)):this['drawInstan'+'ce2'](_0x30f8be,_0xa6bb56,_0x233c85,_0x5bb9a2),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x30f8be,_0xa6bb56,_0x233c85,_0x5bb9a2,!(-0x1bba+0x1c1+0x19f9*0x1)),this['_forwardDr'+'awCalls']++;_0x507c5b<_0x44af39-(0x14e8+-0x179c+-0x1*-0x2b5)&&!_0x278853['isNewMater'+'ial'][_0x507c5b+(0x1532*0x1+0xc7*0x17+-0x2712)]&&_0xbfad38['setParamet'+'ers'](_0x30f8be,_0xa6bb56['parameters']),G['popGpuMark'+'er'](_0x30f8be);}}['renderForw'+'ard'](_0x48bb64,_0x2abb6e,_0x4fb8ea,_0x45474b,_0x39433a,_0x140354,_0x51b7cc,_0x555968){const _0x5da567=ne(),_0xbbf3c8=this['renderForw'+'ardPrepare'+'Materials'](_0x48bb64,_0x2abb6e,_0x4fb8ea,_0x45474b,_0x51b7cc,_0x39433a);this['renderForw'+'ardInterna'+'l'](_0x48bb64,_0xbbf3c8,_0x45474b,_0x39433a,_0x140354,_0x555968),br['clear'](),this['_forwardTi'+'me']+=ne()-_0x5da567;}['renderForw'+'ardLayer'](_0x2ea1d2,_0x17f374,_0x26e76b,_0x24944a,_0x2773f4,_0x28a55b,_0x27c589={}){const {scene:_0x466c83,device:_0x5f1b52}=this,_0x31ebd2=_0x466c83['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x2ea1d2,_0x17f374);let _0x4465d7,_0x30b448;if(_0x26e76b){const _0x3a939e=ne();_0x26e76b['sortVisibl'+'e'](_0x2ea1d2,_0x24944a),this['_sortTime']+=ne()-_0x3a939e;const _0x4a3acf=_0x26e76b['getCulledI'+'nstances'](_0x2ea1d2);_0x4465d7=_0x24944a?_0x4a3acf['transparen'+'t']:_0x4a3acf['opaque'],_0x466c83['immediate']['onPreRende'+'rLayer'](_0x26e76b,_0x4465d7,_0x24944a),_0x26e76b['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x466c83['ambientLig'+'ht'],_0x26e76b['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x30b448=_0x26e76b['splitLight'+'s'];}else _0x4465d7=_0x27c589['meshInstan'+'ces'],_0x30b448=_0x27c589['splitLight'+'s']??OM;if(v['assert'](_0x4465d7,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x31ebd2){const _0xf55b40=_0x27c589['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0xf55b40['activate'](),_0x26e76b&&!this['clustersDe'+'bugRendere'+'d']&&_0x466c83['lighting']['debugLayer']===_0x26e76b['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0x788*-0x3+-0x1366*0x1+-0x56*-0x7d),Vu['render'](_0xf55b40,this['scene']));}_0x466c83['_activeCam'+'era']=_0x2ea1d2;const _0x4a9fab=_0x2ea1d2['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x4a9fab);const _0x255b35=this['setCameraU'+'niforms'](_0x2ea1d2,_0x17f374);_0x5f1b52['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x28a55b,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x255b35);const _0x2a1e2c=_0x27c589['clearColor']??!(-0x5c*0x24+0x11bf+-0x4ce),_0x157a13=_0x27c589['clearDepth']??!(0xbac+-0x2*-0x2ac+0x367*-0x5),_0x4a931c=_0x27c589['clearStenc'+'il']??!(0x1cf1+-0x62c+0x5e*-0x3e);(_0x2a1e2c||_0x157a13||_0x4a931c)&&this['clear'](_0x2ea1d2,_0x2a1e2c,_0x157a13,_0x4a931c);const _0x37dda1=!!(_0x2ea1d2['_flipFaces']^(_0x17f374==null?void(-0x352*-0x1+0x1420+-0x1772):_0x17f374['flipY'])),_0x49ce96=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x2ea1d2,_0x17f374,_0x4465d7,_0x30b448,_0x2773f4,null,_0x26e76b,_0x37dda1),_0x26e76b&&(_0x26e76b['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x49ce96);}['setFogCons'+'tants'](_0x2152de){if(_0x2152de['type']!==Fa){Wi['linear'](_0x2152de['color']);const _0x3201f9=this['fogColor'];_0x3201f9[-0x17c3+-0x167*-0xa+0x3*0x33f]=Wi['r'],_0x3201f9[-0x2146+0x1*0x110f+0x1038]=Wi['g'],_0x3201f9[-0x2*0x126d+-0xab+-0x2587*-0x1]=Wi['b'],this['fogColorId']['setValue'](_0x3201f9),_0x2152de['type']===zb?(this['fogStartId']['setValue'](_0x2152de['start']),this['fogEndId']['setValue'](_0x2152de['end'])):this['fogDensity'+'Id']['setValue'](_0x2152de['density']);}}['setSceneCo'+'nstants'](){const _0x3d41ec=this['scene'];this['dispatchGl'+'obalLights'](_0x3d41ec);const _0x26fa2d=this['device'];this['_screenSiz'+'e'][-0x1f7*-0x10+0x2406+0x9d*-0x6e]=_0x26fa2d['width'],this['_screenSiz'+'e'][0x1a9*0x9+-0x5*-0x277+0x7*-0x3e5]=_0x26fa2d['height'],this['_screenSiz'+'e'][-0xe*0x224+0x8f*0x1d+0x1*0xdc7]=(-0x7d3+-0x2*0x16a+0xaa8)/_0x26fa2d['width'],this['_screenSiz'+'e'][0x46a+0x44*-0x7a+0x1c01]=(0x1*0xf25+0x10f9*-0x1+0x1d5)/_0x26fa2d['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x2991a0,_0x57e452){const _0x53c8d2=this['scene'];if(_0x2991a0['reset'](),_0x53c8d2['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x1f21ef,cookiesEnabled:_0x10cabb}=_0x53c8d2['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x2991a0,_0x1f21ef,_0x10cabb,this['lights'],this['localLight'+'s']),_0x2991a0['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x2991a0,this['localLight'+'s']);let _0x19397c=-0x16c0+-0x2*0x1208+0x3ad0,_0x36ce69=!(0xb72+-0xf0*0x9+-0x302),_0x1b88ef=null;const _0xed1942=_0x57e452['_renderAct'+'ions'];for(let _0x333ac6=_0x19397c;_0x333ac6<_0xed1942['length'];_0x333ac6++){const _0x52db67=_0xed1942[_0x333ac6],{layer:_0x5c291b,camera:_0x11acbb}=_0x52db67;if(_0x52db67['useCameraP'+'asses'])v['call'](()=>{_0x11acbb['postEffect'+'s']['effects']['length']>0x1624+0x1*0x2401+-0x479*0xd&&v['warnOnce']('Camera\x20\x27'+_0x11acbb['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x11acbb['camera']['renderPass'+'es']['forEach'](_0x4114e4=>{_0x2991a0['addRenderP'+'ass'](_0x4114e4);});else{const _0x11324a=_0x5c291b['id']===Xt,_0xb0be64=_0x11324a&&(_0x11acbb['renderScen'+'eColorMap']||_0x11acbb['renderScen'+'eDepthMap']);_0x36ce69&&(_0x36ce69=!(-0x2*0x125d+-0x1d23+-0x20ef*-0x2),_0x19397c=_0x333ac6,_0x1b88ef=_0x52db67['renderTarg'+'et']);const _0x272a66=_0xed1942[_0x333ac6+(0x2259+-0x1525+-0x1f*0x6d)],_0x54fdd9=(_0x272a66?!_0x272a66['useCameraP'+'asses']&&_0x272a66['layer']['id']===Xt:!(0x8d8+-0xc63+0xe3*0x4))&&(_0x11acbb['renderScen'+'eColorMap']||_0x11acbb['renderScen'+'eDepthMap']),_0x218dd5=_0x272a66?_0x272a66['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x272a66['camera']['camera']):!(-0x10f1*-0x1+-0x2*0x1032+0xf74);if(!_0x272a66||_0x272a66['renderTarg'+'et']!==_0x1b88ef||_0x218dd5||_0x54fdd9||_0xb0be64){if(_0x11324a&&_0x19397c===_0x333ac6||this['addMainRen'+'derPass'](_0x2991a0,_0x57e452,_0x1b88ef,_0x19397c,_0x333ac6),_0x11324a){if(_0x11acbb['renderScen'+'eColorMap']){const _0x56c3f9=_0x11acbb['camera']['renderPass'+'ColorGrab'];_0x56c3f9['source']=_0x11acbb['renderTarg'+'et'],_0x2991a0['addRenderP'+'ass'](_0x56c3f9);}_0x11acbb['renderScen'+'eDepthMap']&&_0x2991a0['addRenderP'+'ass'](_0x11acbb['camera']['renderPass'+'DepthGrab']);}if(_0x52db67['triggerPos'+'tprocess']&&(_0x11acbb!=null&&_0x11acbb['onPostproc'+'essing'])){const _0x58da21=new FM(this['device'],this,_0x52db67);_0x2991a0['addRenderP'+'ass'](_0x58da21);}_0x36ce69=!(-0x10*0x225+-0xe*-0x1a3+0xb66);}}}}['addMainRen'+'derPass'](_0x4a7a8d,_0xd3aff8,_0x5f209f,_0x47119f,_0x97dc2f){const _0x51fd83=new LM(this['device'],_0xd3aff8,this['scene'],this);_0x51fd83['init'](_0x5f209f);const _0x5dde0e=_0xd3aff8['_renderAct'+'ions'];for(let _0x5a3097=_0x47119f;_0x5a3097<=_0x97dc2f;_0x5a3097++)_0x51fd83['addRenderA'+'ction'](_0x5dde0e[_0x5a3097]);_0x4a7a8d['addRenderP'+'ass'](_0x51fd83);}['update'](_0x36c6a9){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x36c6a9),this['collectLig'+'hts'](_0x36c6a9),this['beginFrame'](_0x36c6a9),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x36c6a9),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',0xc*0x1af+0x1f2b+-0x335f),c(_i,'skipRender'+'After',0x2b*-0xa5+0x5a3+0x1614);let Gh=_i,zd=-0x1*-0x1cb5+0xf29+0x1*-0x2bde;const ja=[],Ol=new Set();function NM(_0x1a8daf,_0x18836a){return _0x1a8daf['drawOrder']-_0x18836a['drawOrder'];}function zM(_0x6cda16,_0x2defe9){const _0x41cd80=_0x6cda16['_key'][Ei],_0x2c9896=_0x2defe9['_key'][Ei];return _0x41cd80===_0x2c9896&&_0x6cda16['mesh']&&_0x2defe9['mesh']?_0x2defe9['mesh']['id']-_0x6cda16['mesh']['id']:_0x2c9896-_0x41cd80;}function UM(_0x2427d9,_0x4bcb6){return _0x4bcb6['zdist']-_0x2427d9['zdist'];}function VM(_0x5f1ff8,_0x2d44e7){return _0x5f1ff8['zdist']-_0x2d44e7['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x3f4579={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(0x1278+-0x1cd2+0x35*0x32)),c(this,'requiresLi'+'ghtCube',!(-0x10b*-0x1+-0x89c+0x792)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(0x5a1+-0x1a46+0x14a6)),(_0x3f4579['id']!==void(-0x1*-0x1d39+-0x467*-0x2+0x3b*-0xa5)?(this['id']=_0x3f4579['id'],zd=Math['max'](this['id']+(0x1a4b+-0x1*-0x153d+-0x2f87),zd)):this['id']=zd++,this['name']=_0x3f4579['name'],this['_enabled']=_0x3f4579['enabled']??!(-0xde*-0x2+0x7*0x42d+-0x1ef7*0x1),this['_refCounte'+'r']=this['_enabled']?-0x81*-0x33+-0x1632+-0x1c*0x20:0xb83*0x1+0x1*0x7d3+-0x12*0x113,this['opaqueSort'+'Mode']=_0x3f4579['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x3f4579['transparen'+'tSortMode']??Bm,_0x3f4579['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x3f4579['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x3f4579['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x3f4579['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x3f4579['clearStenc'+'ilBuffer'],this['onEnable']=_0x3f4579['onEnable'],this['onDisable']=_0x3f4579['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x1539*-0x1+-0xc45*-0x3+-0xf96,this['_lightHash'+'Dirty']=!(0x29*-0x5b+0x19c8+-0xc*0xef),this['_lightIdHa'+'sh']=0x37*-0xa3+-0x7b9+0x1*0x2abe,this['_lightIdHa'+'shDirty']=!(-0x1f71+-0x5*-0x79d+-0x69f),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x1274+-0x1*-0x23c9+0x1*-0x1155,this['_renderTim'+'e']=-0x26f*0x8+-0x1dc3+-0x1069*-0x3,this['_forwardDr'+'awCalls']=0x3*-0x187+0x6*-0x3f1+0x1c3b,this['_shadowDra'+'wCalls']=-0x1*0x435+-0x1e2f*-0x1+-0x32*0x85,this['_shaderVer'+'sion']=-(-0x299*0x2+0x2*-0x1085+-0xd*-0x2f1));}set['enabled'](_0x1dc7fc){_0x1dc7fc!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0xe*0x17f+0x5*0x5bf+-0x7c9),this['_enabled']=_0x1dc7fc,_0x1dc7fc?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x5e405d){this['_clearColo'+'rBuffer']=_0x5e405d,this['_dirtyComp'+'osition']=!(0x43b+0x77f*0x3+-0x1ab8);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x391cfb){this['_clearDept'+'hBuffer']=_0x391cfb,this['_dirtyComp'+'osition']=!(0x2179+0x192*-0x2+-0x1e55*0x1);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x40b2b3){this['_clearSten'+'cilBuffer']=_0x40b2b3,this['_dirtyComp'+'osition']=!(-0x269a+0x1*-0x11ba+-0x8c*-0x67);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>0x1*-0x62b+-0x25d4*0x1+0x1*0x2bff;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x9*0x317+-0xd0f+0x28de&&(this['_enabled']=!(0x264f+0x1*-0x1f92+-0x5*0x159),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===-0x9*-0x11d+-0x4*-0x839+-0x1*0x2ae8)this['_enabled']=!(0x15f0+0x184*-0x3+0x1*-0x1163),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x69*-0x2b+-0x85+0x1228){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x1b9fe4,_0x521639){const _0x57702c=this['meshInstan'+'ces'],_0x6cc479=this['meshInstan'+'cesSet'];for(let _0x33d23c=0x1a5*0x1+-0xc16+0xa71;_0x33d23c<_0x1b9fe4['length'];_0x33d23c++){const _0x57aa4d=_0x1b9fe4[_0x33d23c];_0x6cc479['has'](_0x57aa4d)||(_0x57702c['push'](_0x57aa4d),_0x6cc479['add'](_0x57aa4d),Ol['add'](_0x57aa4d['material']));}if(_0x521639||this['addShadowC'+'asters'](_0x1b9fe4),Ol['size']>-0x17*-0x117+0x26f6+-0x4007*0x1){const _0x2ba8bd=this['_shaderVer'+'sion'];Ol['forEach'](_0x3204ed=>{_0x2ba8bd>=-0x3f9*-0x9+0xb29*0x3+-0x453c&&_0x3204ed['_shaderVer'+'sion']!==_0x2ba8bd&&(_0x3204ed['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x3204ed['clearVaria'+'nts'](),_0x3204ed['_shaderVer'+'sion']=_0x2ba8bd);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x1276d4,_0x4aa780){const _0x1aa44c=this['meshInstan'+'ces'],_0x39f8af=this['meshInstan'+'cesSet'];for(let _0x4bd1d4=0x15fc+-0xbe9+-0xa13*0x1;_0x4bd1d4<_0x1276d4['length'];_0x4bd1d4++){const _0x132f4e=_0x1276d4[_0x4bd1d4];if(_0x39f8af['has'](_0x132f4e)){_0x39f8af['delete'](_0x132f4e);const _0x424723=_0x1aa44c['indexOf'](_0x132f4e);_0x424723>=-0xa66+0x1977+-0x227*0x7&&_0x1aa44c['splice'](_0x424723,-0x1a08+0x13e*-0x13+0x31a3);}}_0x4aa780||this['removeShad'+'owCasters'](_0x1276d4);}['addShadowC'+'asters'](_0xe2cd62){const _0x4461d6=this['shadowCast'+'ers'],_0x13dc15=this['shadowCast'+'ersSet'];for(let _0x16a2d9=-0x707+-0x1*0xb71+-0xc*-0x18a;_0x16a2d9<_0xe2cd62['length'];_0x16a2d9++){const _0x523da5=_0xe2cd62[_0x16a2d9];_0x523da5['castShadow']&&!_0x13dc15['has'](_0x523da5)&&(_0x13dc15['add'](_0x523da5),_0x4461d6['push'](_0x523da5));}}['removeShad'+'owCasters'](_0x2a4056){const _0x50dcbe=this['shadowCast'+'ers'],_0x1eb4d2=this['shadowCast'+'ersSet'];for(let _0x386332=-0x106f+-0x5b0+0x329*0x7;_0x386332<_0x2a4056['length'];_0x386332++){const _0x54e9e0=_0x2a4056[_0x386332];if(_0x1eb4d2['has'](_0x54e9e0)){_0x1eb4d2['delete'](_0x54e9e0);const _0xb6b954=_0x50dcbe['indexOf'](_0x54e9e0);_0xb6b954>=-0xc47+0x518+0x72f*0x1&&_0x50dcbe['splice'](_0xb6b954,0x3*-0xbe+0x3*-0x919+0x1d86);}}}['clearMeshI'+'nstances'](_0x5c2464=!(-0x1593+0x1*0x1511+0x83)){this['meshInstan'+'ces']['length']=0x144f+-0x2*0x653+-0x1*0x7a9,this['meshInstan'+'cesSet']['clear'](),_0x5c2464||(this['shadowCast'+'ers']['length']=-0x2*-0x893+0x1b60+-0x2*0x1643,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(0x1f0d+-0x7ec+0x1*-0x1721),this['_lightIdHa'+'shDirty']=!(-0x2df+0xb7d+-0x89e),this['_splitLigh'+'tsDirty']=!(0x1af8+0x12f*-0x20+0xae8);}['hasLight'](_0x3083ac){return this['_lightsSet']['has'](_0x3083ac);}['addLight'](_0x29b5aa){const _0x39a8ea=_0x29b5aa['light'];this['_lightsSet']['has'](_0x39a8ea)||(this['_lightsSet']['add'](_0x39a8ea),this['_lights']['push'](_0x39a8ea),this['markLights'+'Dirty']()),_0x39a8ea['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x39a8ea);}['removeLigh'+'t'](_0x3b968d){const _0x226272=_0x3b968d['light'];this['_lightsSet']['has'](_0x226272)&&(this['_lightsSet']['delete'](_0x226272),this['_lights']['splice'](this['_lights']['indexOf'](_0x226272),0x1*-0x2f2+-0x1a6+0x499),this['markLights'+'Dirty']()),_0x226272['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x226272);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x1fe5f8=>_0x1fe5f8['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x232c*-0x1+0x2*-0xa4+-0x3c4*0x9,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x1939+0x8a4+0x1096);const _0x43cb57=this['_splitLigh'+'ts'];for(let _0x140c01=0x2234+0x152e+-0x3762;_0x140c01<_0x43cb57['length'];_0x140c01++)_0x43cb57[_0x140c01]['length']=-0x1d62+-0x2446+-0x8*-0x835;const _0x21720b=this['_lights'];for(let _0x3a0567=-0x1459*-0x1+0x26cf+-0x3b28;_0x3a0567<_0x21720b['length'];_0x3a0567++){const _0x27de34=_0x21720b[_0x3a0567];_0x27de34['enabled']&&_0x43cb57[_0x27de34['_type']]['push'](_0x27de34);}for(let _0x1d00ad=-0x1*-0xecf+-0x1559+0xba*0x9;_0x1d00ad<_0x43cb57['length'];_0x1d00ad++)_0x43cb57[_0x1d00ad]['sort']((_0x3905b1,_0x283d86)=>_0x3905b1['key']-_0x283d86['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x2cf759,_0x2ddc01,_0x15d509){let _0x4e9ed3=-0x1e8+-0x2469+-0x11*-0x241;const _0x2fb6bd=this['_lights'];for(let _0x9b776f=0xe45+-0x2000+0x5e9*0x3;_0x9b776f<_0x2fb6bd['length'];_0x9b776f++){const _0x41a520=_0x2fb6bd[_0x9b776f]['type']!==oe;(_0x2cf759&&_0x41a520||_0x2ddc01&&!_0x41a520)&&ja['push'](_0x15d509?_0x2fb6bd[_0x9b776f]['id']:_0x2fb6bd[_0x9b776f]['key']);}return ja['length']>-0xa0c+-0x2*0x11a0+0x2d4c&&(ja['sort'](),_0x4e9ed3=Zy(ja),ja['length']=-0x65d*-0x4+-0x1*0x2264+0x23c*0x4),_0x4e9ed3;}['getLightHa'+'sh'](_0xcfb192){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x2*-0x10e5+0x25*-0xdd+0x1d8*-0x1),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0xcfb192,!(0x195+-0x1*0x39c+0x207),!(-0x38*0x4a+-0xb2c+0x1*0x1b5d))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x41b*-0x8+0x1e85+0x254),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0xfb*0xe+-0x14cb+0x2285),!(0x93e+0x16b4+-0x1ff1),!(0xa9c+-0xe0a+0x36e))),this['_lightIdHa'+'sh'];}['addCamera'](_0x2bcb78){this['camerasSet']['has'](_0x2bcb78['camera'])||(this['camerasSet']['add'](_0x2bcb78['camera']),this['cameras']['push'](_0x2bcb78),this['_dirtyComp'+'osition']=!(0x56d*0x3+-0x423+0x4*-0x309));}['removeCame'+'ra'](_0x44eb43){if(this['camerasSet']['has'](_0x44eb43['camera'])){this['camerasSet']['delete'](_0x44eb43['camera']);const _0x3c43fa=this['cameras']['indexOf'](_0x44eb43);this['cameras']['splice'](_0x3c43fa,0x1*0x18d4+-0x100b+-0x8c8),this['_dirtyComp'+'osition']=!(0x1a63+0x1ebf+-0x1c91*0x2);}}['clearCamer'+'as'](){this['cameras']['length']=-0x202+0x2205+-0x2003,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x10e3+-0x26*-0x2e+0x17b7*-0x1);}['_calculate'+'SortDistan'+'ces'](_0xf3fa87,_0x4d92ce,_0x46d4c2,_0x25fb80){for(let _0x2dd02a=-0x1a1*-0x3+-0x25*-0xc3+-0xa6*0x33;_0x2dd02a<_0x4d92ce;_0x2dd02a++){const _0x430475=_0xf3fa87[_0x2dd02a];if(_0x430475['layer']<=Vb)continue;if(_0x430475['calculateS'+'ortDistanc'+'e']){_0x430475['zdist']=_0x430475['calculateS'+'ortDistanc'+'e'](_0x430475,_0x46d4c2,_0x25fb80);continue;}const _0x40aff0=_0x430475['aabb']['center'],_0x53e2d5=_0x40aff0['x']-_0x46d4c2['x'],_0x24b908=_0x40aff0['y']-_0x46d4c2['y'],_0x375c7c=_0x40aff0['z']-_0x46d4c2['z'];_0x430475['zdist']=_0x53e2d5*_0x25fb80['x']+_0x24b908*_0x25fb80['y']+_0x375c7c*_0x25fb80['z'];}}['getCulledI'+'nstances'](_0x5cfe70){let _0x3724b0=this['_visibleIn'+'stances']['get'](_0x5cfe70);return _0x3724b0||(_0x3724b0=new HM(),this['_visibleIn'+'stances']['set'](_0x5cfe70,_0x3724b0)),_0x3724b0;}['sortVisibl'+'e'](_0x247256,_0x3d9dc3){const _0x507176=_0x3d9dc3?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x507176===dh)return;const _0x36876d=this['getCulledI'+'nstances'](_0x247256),_0x9031e4=_0x3d9dc3?_0x36876d['transparen'+'t']:_0x36876d['opaque'],_0xece25e=_0x247256['node'];if(_0x507176===ew){const _0x11e85e=_0xece25e['getPositio'+'n'](),_0x94734d=_0xece25e['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x9031e4,_0x9031e4['length'],_0x11e85e,_0x94734d),this['customSort'+'Callback']&&_0x9031e4['sort'](this['customSort'+'Callback']);}else{if(_0x507176===Bm||_0x507176===Jb){const _0x1f9e58=_0xece25e['getPositio'+'n'](),_0x49c443=_0xece25e['forward'];this['_calculate'+'SortDistan'+'ces'](_0x9031e4,_0x9031e4['length'],_0x1f9e58,_0x49c443);}_0x9031e4['sort'](GM[_0x507176]);}}}const $M=(_0x5be926,_0x361244)=>_0x5be926['priority']-_0x361244['priority'],No=_0x33d1b0=>_0x33d1b0['sort']($M);class S_ extends ce{constructor(_0x241d90='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(0x854+-0x255+-0x5fe)),(this['name']=_0x241d90,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x26ef03=>_0x26ef03['destroy']()),this['_renderAct'+'ions']['length']=0x1646*0x1+-0x53*0x61+0x92d;}['_update'](){const _0x2ad544=this['layerList']['length'];if(!this['_dirty']){for(let _0x345735=-0x505*0x3+-0xb31+0x1a40;_0x345735<_0x2ad544;_0x345735++)if(this['layerList'][_0x345735]['_dirtyComp'+'osition']){this['_dirty']=!(-0x179f+-0xf*-0x18b+0x2*0x3d);break;}}if(this['_dirty']){this['_dirty']=!(-0x135f+-0x2137*-0x1+-0xdd7),this['cameras']['length']=-0x2*0xe8f+0x409*0x8+-0x32a;for(let _0x22b7e2=0x157c+-0x11c3+-0x3b9;_0x22b7e2<_0x2ad544;_0x22b7e2++){const _0x339a80=this['layerList'][_0x22b7e2];_0x339a80['_dirtyComp'+'osition']=!(0xd69+-0x34*-0x49+-0x116*0x1a);for(let _0x1f1ce9=-0x4*0x16a+0x106f*-0x1+0x27*0x91;_0x1f1ce9<_0x339a80['cameras']['length'];_0x1f1ce9++){const _0x32e7b8=_0x339a80['cameras'][_0x1f1ce9];this['cameras']['indexOf'](_0x32e7b8)<0x8*-0x9e+0x4*0x355+-0x2*0x432&&this['cameras']['push'](_0x32e7b8);}}this['cameras']['length']>-0x727*-0x1+0x156a+-0x1c90&&No(this['cameras']);let _0x1912e7=0x7a2+0x243+-0x9e5;this['destroyRen'+'derActions']();for(let _0x4d2e1f=-0x23a0+-0x9e0+0x2d80;_0x4d2e1f<this['cameras']['length'];_0x4d2e1f++){const _0x4612fa=this['cameras'][_0x4d2e1f];if(_0x4612fa['camera']['renderPass'+'es']['length']>-0x9f8+-0x6*0x79+0xcce){this['addDummyRe'+'nderAction'](_0x1912e7,_0x4612fa),_0x1912e7++;continue;}let _0x150998=!(0x16*-0x19b+-0x17f+0x24d1);const _0x29650d=_0x1912e7;let _0x446a45=null,_0x3a4718=!(-0x6ef+0x66*0x57+-0x1bba);for(let _0x1d4306=-0x24*-0x83+-0x778+-0xaf4;_0x1d4306<_0x2ad544;_0x1d4306++){const _0x507cf5=this['layerList'][_0x1d4306];if(_0x507cf5['enabled']&&this['subLayerEn'+'abled'][_0x1d4306]&&_0x507cf5['cameras']['length']>0x1738+-0x1a77+-0x33f*-0x1&&_0x4612fa['layers']['indexOf'](_0x507cf5['id'])>=-0x1b29+-0x62b*0x5+0x3a00){!_0x3a4718&&_0x507cf5['id']===_0x4612fa['disablePos'+'tEffectsLa'+'yer']&&(_0x3a4718=!(0x729*-0x1+0x768+-0x15*0x3),_0x446a45&&(_0x446a45['triggerPos'+'tprocess']=!(0x731*-0x2+-0xd*0x17+0xf8d)));const _0x24edff=this['subLayerLi'+'st'][_0x1d4306];_0x446a45=this['addRenderA'+'ction'](_0x1912e7,_0x507cf5,_0x24edff,_0x4612fa,_0x150998,_0x3a4718),_0x1912e7++,_0x150998=!(0x9af*0x3+0x1*0x1ccd+-0x39d9);}}_0x29650d<_0x1912e7&&(_0x446a45['lastCamera'+'Use']=!(0x1a*0xb0+0x1dcb+-0x2fab)),!_0x3a4718&&_0x446a45&&(_0x446a45['triggerPos'+'tprocess']=!(-0x254d+-0x1631+0x1dbf*0x2)),_0x4612fa['renderTarg'+'et']&&_0x4612fa['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x29650d-(0x27*-0x2b+-0x18d5+-0x1*-0x1f63),_0x4612fa);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x3e9246){v['assert'](this['_renderAct'+'ions']['length']===_0x3e9246);const _0x40b4b1=new D0();return this['_renderAct'+'ions']['push'](_0x40b4b1),_0x40b4b1;}['addDummyRe'+'nderAction'](_0x1932fb,_0x3df687){const _0x4a33a9=this['getNextRen'+'derAction'](_0x1932fb);_0x4a33a9['camera']=_0x3df687,_0x4a33a9['useCameraP'+'asses']=!(0xe73+0x1dea*0x1+-0x115*0x29);}['addRenderA'+'ction'](_0x47506a,_0x5253cf,_0xab2292,_0x3d26e6,_0x5e5abc,_0x3d3a6c){let _0xd28f9d=_0x5253cf['id']!==Xt?_0x3d26e6['renderTarg'+'et']:null,_0xfe46d3=!(-0x2162+0x347*-0xb+0x4570);const _0x386fcc=this['_renderAct'+'ions'];for(let _0xc3eb81=_0x47506a-(-0x209+0x1645+-0x143b);_0xc3eb81>=-0x145e+0x12e+-0x10*-0x133;_0xc3eb81--)if(_0x386fcc[_0xc3eb81]['camera']===_0x3d26e6&&_0x386fcc[_0xc3eb81]['renderTarg'+'et']===_0xd28f9d){_0xfe46d3=!(-0x25d5+0x2011*-0x1+0x1*0x45e6);break;}_0x3d3a6c&&_0x3d26e6['postEffect'+'sEnabled']&&(_0xd28f9d=null);const _0x529ffb=this['getNextRen'+'derAction'](_0x47506a);_0x529ffb['triggerPos'+'tprocess']=!(0x4d3+-0x60b+0x139),_0x529ffb['layer']=_0x5253cf,_0x529ffb['transparen'+'t']=_0xab2292,_0x529ffb['camera']=_0x3d26e6,_0x529ffb['renderTarg'+'et']=_0xd28f9d,_0x529ffb['firstCamer'+'aUse']=_0x5e5abc,_0x529ffb['lastCamera'+'Use']=!(0x1*-0xc0e+0x1*-0xef7+0x3*0x902);const _0x293115=_0x5e5abc||!_0xfe46d3,_0xab1b04=_0x5253cf['clearColor'+'Buffer']||_0x5253cf['clearDepth'+'Buffer']||_0x5253cf['clearStenc'+'ilBuffer'];return(_0x293115||_0xab1b04)&&_0x529ffb['setupClear'+'s'](_0x293115?_0x3d26e6:void(0xa85+-0x3*0x2e0+-0x1e5),_0x5253cf),_0x529ffb;}['propagateR'+'enderTarge'+'t'](_0x3a0d53,_0x4f26b5){for(let _0x1fefab=_0x3a0d53;_0x1fefab>=-0x13b5*-0x1+-0x66b*0x2+-0x6df;_0x1fefab--){const _0x531650=this['_renderAct'+'ions'][_0x1fefab],_0x2a44ed=_0x531650['layer'];if(_0x531650['renderTarg'+'et']&&_0x2a44ed['id']!==Xt)break;if(_0x2a44ed['id']===Xt)continue;if(_0x531650['useCameraP'+'asses'])break;const _0x7b7e2=_0x531650==null?void(-0x2*-0x26a+0x1668+-0x1b3c):_0x531650['camera']['camera'];if(_0x7b7e2&&(!_0x4f26b5['camera']['rect']['equals'](_0x7b7e2['rect'])||!_0x4f26b5['camera']['scissorRec'+'t']['equals'](_0x7b7e2['scissorRec'+'t'])))break;_0x531650['renderTarg'+'et']=_0x4f26b5['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x3a0e92=-0x2086+-0x1*-0xfc2+0x94*0x1d;_0x3a0e92<this['_renderAct'+'ions']['length'];_0x3a0e92++){const _0x194455=this['_renderAct'+'ions'][_0x3a0e92],_0xf57d50=_0x194455['camera'];if(_0x194455['useCameraP'+'asses'])v['trace'](pl,_0x3a0e92+('CustomPass'+'es\x20Cam:\x20')+(_0xf57d50?_0xf57d50['entity']['name']:'-'));else{const _0x209e5d=_0x194455['layer'],_0x1b3ef1=_0x209e5d['enabled']&&this['isEnabled'](_0x209e5d,_0x194455['transparen'+'t']),_0x2a0696=(_0x194455['clearColor']?'Color\x20':'.....\x20')+(_0x194455['clearDepth']?'Depth\x20':'.....\x20')+(_0x194455['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x3a0e92+('\x20Cam:\x20'+(_0xf57d50?_0xf57d50['entity']['name']:'-'))['padEnd'](0x2353*0x1+0xb5f+-0x2e9c,'\x20')+('\x20Lay:\x20'+_0x209e5d['name'])['padEnd'](0x1eae+0x1ade+-0x5*0xb7e,'\x20')+(_0x194455['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x1b3ef1?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x194455['renderTarg'+'et']?_0x194455['renderTarg'+'et']['name']:'-'))['padEnd'](0xa*-0x25+-0x10d+0x29d,'\x20')+'\x20Clear:\x20'+_0x2a0696+(_0x194455['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x194455['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x194455['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x234941){const _0x54f326=this['layerIdMap']['get'](_0x234941['id'])===_0x234941;return v['assert'](!_0x54f326,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x234941['name']),_0x54f326;}['_isSublaye'+'rAdded'](_0x5c2aef,_0x172bfd){return(_0x172bfd?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x5c2aef)!==void(-0x26fd+0xa*0x2db+0xa6f)?(v['error']('Sublayer\x20'+_0x5c2aef['name']+(',\x20transpar'+'ent:\x20')+_0x172bfd+('\x20is\x20alread'+'y\x20added.')),!(-0x17*0x43+0x1*0x1a11+0x1*-0x140c)):!(-0x21d8+0xb*0x1+0x2*0x10e7);}['push'](_0x435989){this['_isLayerAd'+'ded'](_0x435989)||(this['layerList']['push'](_0x435989),this['layerList']['push'](_0x435989),this['_opaqueOrd'+'er'][_0x435989['id']]=this['subLayerLi'+'st']['push'](!(0x1925+-0x49a+-0x148a))-(0x52*0x5+0x1666*0x1+-0x1*0x17ff),this['_transpare'+'ntOrder'][_0x435989['id']]=this['subLayerLi'+'st']['push'](!(0x62b+-0x3*0x8f3+0x1*0x14ae))-(0xa*0xa+0x202a+0x208d*-0x1),this['subLayerEn'+'abled']['push'](!(-0xd7a+-0xc1*0xd+0x1747)),this['subLayerEn'+'abled']['push'](!(-0x1fb4+-0x25c3+0x1*0x4577)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x6ea+-0x1*0x1411+0x7*0x1e1),this['fire']('add',_0x435989));}['insert'](_0x24f056,_0x50c90a){if(this['_isLayerAd'+'ded'](_0x24f056))return;this['layerList']['splice'](_0x50c90a,0x18c*-0x9+0x1ebc*-0x1+0x2ca8,_0x24f056,_0x24f056),this['subLayerLi'+'st']['splice'](_0x50c90a,-0x902+-0x1*0xe57+0x1759,!(-0x22d2*0x1+-0x30d+0xc*0x328),!(0x1777+0xfb1+-0x2728*0x1));const _0x4d2993=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x50c90a,_0x4d2993-(-0x128d*-0x1+-0x1d68+0xadc)),this['_updateTra'+'nsparentOr'+'der'](_0x50c90a,_0x4d2993-(-0xb42+0x1e2b*-0x1+0x296e)),this['subLayerEn'+'abled']['splice'](_0x50c90a,-0x35e+-0x1612+-0x4a*-0x58,!(-0x236a+-0x1*0x1321+0x368b*0x1),!(-0x24e*-0x2+-0x837+0x1*0x39b)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x218b+0x1f16+0x275),this['fire']('add',_0x24f056);}['remove'](_0x226217){let _0x4d670b=this['layerList']['indexOf'](_0x226217);for(delete this['_opaqueOrd'+'er'][_0x4d670b],delete this['_transpare'+'ntOrder'][_0x4d670b];_0x4d670b>=0x5*-0xe6+0xc87*0x2+0x524*-0x4;)this['layerList']['splice'](_0x4d670b,0x5a7*0x6+-0xf7d+-0x126c),this['subLayerLi'+'st']['splice'](_0x4d670b,0x3b7+-0x560+0x1aa),this['subLayerEn'+'abled']['splice'](_0x4d670b,-0x2a6*0x6+-0x2518+0x1*0x34fd),_0x4d670b=this['layerList']['indexOf'](_0x226217),this['_dirty']=!(0x5ad+0x8f8+-0xea5),this['fire']('remove',_0x226217);const _0x23ba99=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x493*-0x2+-0x250f+0x1be9,_0x23ba99-(0x2*0x4cf+0x1*0x1f67+-0x834*0x5)),this['_updateTra'+'nsparentOr'+'der'](-0x1*0x935+-0x1*0x107b+0x19b0,_0x23ba99-(0x98f*0x4+0x690+-0x2ccb)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x4d7aef){this['_isSublaye'+'rAdded'](_0x4d7aef,!(-0x7b7*0x3+-0x473*-0x3+-0x9cd*-0x1))||(this['layerList']['push'](_0x4d7aef),this['_opaqueOrd'+'er'][_0x4d7aef['id']]=this['subLayerLi'+'st']['push'](!(0x129*0x1f+-0x1*-0x33d+0xdf*-0x2d))-(0x4c*0x6d+0xcb3+-0x1*0x2d0e),this['subLayerEn'+'abled']['push'](!(0x1a*0x1f+0xa3c+-0xd62)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x7db*0x2+-0x5*0x3e5+-0x1*-0x232f),this['fire']('add',_0x4d7aef));}['insertOpaq'+'ue'](_0x3d603d,_0x5eb1ee){if(this['_isSublaye'+'rAdded'](_0x3d603d,!(0xa4+-0x16b5+0x1612)))return;this['layerList']['splice'](_0x5eb1ee,-0x1e63+0x550+0x1*0x1913,_0x3d603d),this['subLayerLi'+'st']['splice'](_0x5eb1ee,0xd07*0x1+0x2f4+-0xffb,!(0x5e2+0x132d+-0x190e));const _0x357947=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x5eb1ee,_0x357947-(-0xc4b+-0xd5d+0x19a9*0x1)),this['subLayerEn'+'abled']['splice'](_0x5eb1ee,0x6*-0x1fd+0x26bf+-0x1ad1,!(0x1850+-0x24c7+0x1*0xc77)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x53b*0x1+-0x13bb*0x1+-0x1d*-0x80),this['fire']('add',_0x3d603d);}['removeOpaq'+'ue'](_0x384ade){for(let _0x4ca1d0=-0x2ab+0x27*0xc3+0x1b0a*-0x1,_0x2107ce=this['layerList']['length'];_0x4ca1d0<_0x2107ce;_0x4ca1d0++)if(this['layerList'][_0x4ca1d0]===_0x384ade&&!this['subLayerLi'+'st'][_0x4ca1d0]){this['layerList']['splice'](_0x4ca1d0,0x23a7+0xa1b+0x35*-0xdd),this['subLayerLi'+'st']['splice'](_0x4ca1d0,-0x7ea+-0xed8*0x1+0x1*0x16c3),_0x2107ce--,this['_updateOpa'+'queOrder'](_0x4ca1d0,_0x2107ce-(-0x1d38+-0x2187+-0x8*-0x7d8)),this['subLayerEn'+'abled']['splice'](_0x4ca1d0,0x3*0x8fd+-0x10a3+0xa53*-0x1),this['_dirty']=!(0x1*-0x1b2+-0x7*0xff+-0x13d*-0x7),this['layerList']['indexOf'](_0x384ade)<-0xf*0x55+0x1d61+-0x1866&&this['fire']('remove',_0x384ade);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x4e14f6){this['_isSublaye'+'rAdded'](_0x4e14f6,!(-0xe*0x2a+-0x39*-0x82+-0x1aa6*0x1))||(this['layerList']['push'](_0x4e14f6),this['_transpare'+'ntOrder'][_0x4e14f6['id']]=this['subLayerLi'+'st']['push'](!(-0x1*0x25d3+-0x4c9*-0x1+0x210a*0x1))-(-0x8*0x466+0xdb1+0x1580),this['subLayerEn'+'abled']['push'](!(0xb*-0x23b+-0xb20+0x23a9*0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x9d0+0x20e7+-0x1717),this['fire']('add',_0x4e14f6));}['insertTran'+'sparent'](_0x4225c7,_0x56e2a2){if(this['_isSublaye'+'rAdded'](_0x4225c7,!(-0x1ca9+0x1a30+0x1*0x279)))return;this['layerList']['splice'](_0x56e2a2,0x14*-0xca+-0x1*-0x1565+-0x59d*0x1,_0x4225c7),this['subLayerLi'+'st']['splice'](_0x56e2a2,0x17d4+0x18d3+-0x5*0x9bb,!(-0xa81*0x3+0x9ae*-0x3+0x1*0x3c8d));const _0x487ef8=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x56e2a2,_0x487ef8-(0x2c6*-0x7+-0x107b+0x23e6)),this['subLayerEn'+'abled']['splice'](_0x56e2a2,-0x1481+0x406*0x1+-0x1*-0x107b,!(0x232b+0x4e5*0x7+-0x22b7*0x2)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x26c6+-0x4*-0x588+0x1*-0x3ce6),this['fire']('add',_0x4225c7);}['removeTran'+'sparent'](_0x4338fd){for(let _0x221b52=0xa16+-0x6f7*-0x1+-0x369*0x5,_0x5b91ad=this['layerList']['length'];_0x221b52<_0x5b91ad;_0x221b52++)if(this['layerList'][_0x221b52]===_0x4338fd&&this['subLayerLi'+'st'][_0x221b52]){this['layerList']['splice'](_0x221b52,-0x4*0x84a+0x17f5+0x934),this['subLayerLi'+'st']['splice'](_0x221b52,0x57*-0x3e+0x1*-0x260e+0x3b21),_0x5b91ad--,this['_updateTra'+'nsparentOr'+'der'](_0x221b52,_0x5b91ad-(0x14d9+0x1357*-0x1+-0x181)),this['subLayerEn'+'abled']['splice'](_0x221b52,-0xfa4+-0x268f*-0x1+0x1*-0x16ea),this['_dirty']=!(0x1*0x1dc8+-0x4*-0x7ac+-0x9*0x6b8),this['layerList']['indexOf'](_0x4338fd)<-0x6b1*0x1+-0x187e+-0x377*-0x9&&this['fire']('remove',_0x4338fd);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x7fc13d){return this['layerOpaqu'+'eIndexMap']['get'](_0x7fc13d)??-(-0x115*-0x17+0x14a1+-0x2d83);}['getTranspa'+'rentIndex'](_0x437022){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x437022)??-(-0x43*0x3f+0x1606+-0x588);}['isEnabled'](_0x246c96,_0x20afb8){if(_0x246c96['enabled']){const _0x222483=_0x20afb8?this['getTranspa'+'rentIndex'](_0x246c96):this['getOpaqueI'+'ndex'](_0x246c96);if(_0x222483>=0x2*0xe7d+0x1dd0+-0x3aca)return this['subLayerEn'+'abled'][_0x222483];}return!(-0x1e9d+0x1*-0x1325+0x31c3);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x1a585e=-0x3*-0xc5e+0xac1*0x1+-0x2fdb;_0x1a585e<this['layerList']['length'];_0x1a585e++){const _0x59563d=this['layerList'][_0x1a585e];this['layerIdMap']['set'](_0x59563d['id'],_0x59563d),this['layerNameM'+'ap']['set'](_0x59563d['name'],_0x59563d),(this['subLayerLi'+'st'][_0x1a585e]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x59563d,_0x1a585e);}}['getLayerBy'+'Id'](_0x99f61f){return this['layerIdMap']['get'](_0x99f61f)??null;}['getLayerBy'+'Name'](_0x21f8a9){return this['layerNameM'+'ap']['get'](_0x21f8a9)??null;}['_updateOpa'+'queOrder'](_0x1512e6,_0x14a636){for(let _0x5d46f8=_0x1512e6;_0x5d46f8<=_0x14a636;_0x5d46f8++)this['subLayerLi'+'st'][_0x5d46f8]===!(0x46*-0x15+0x257*-0xb+-0x193*-0x14)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x5d46f8]['id']]=_0x5d46f8);}['_updateTra'+'nsparentOr'+'der'](_0x395ba3,_0x2fb086){for(let _0x1c2525=_0x395ba3;_0x1c2525<=_0x2fb086;_0x1c2525++)this['subLayerLi'+'st'][_0x1c2525]===!(-0x14*0xd3+0x239*-0xd+0x2d61)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x1c2525]['id']]=_0x1c2525);}['_sortLayer'+'sDescendin'+'g'](_0x50af1b,_0x30426d,_0x26c37c){let _0x556343=-(0x210+0x2*0xd12+-0x1c33),_0x741233=-(-0xf5+0x1066+-0xf70);for(let _0x28c8fe=0x255*-0x9+0x4*0x1bb+0xe11,_0x2be998=_0x50af1b['length'];_0x28c8fe<_0x2be998;_0x28c8fe++){const _0xcd9ba3=_0x50af1b[_0x28c8fe];_0x26c37c['hasOwnProp'+'erty'](_0xcd9ba3)&&(_0x556343=Math['max'](_0x556343,_0x26c37c[_0xcd9ba3]));}for(let _0x249848=-0x9*0x19b+-0x2201*0x1+0x3074,_0x215497=_0x30426d['length'];_0x249848<_0x215497;_0x249848++){const _0x2eb6d3=_0x30426d[_0x249848];_0x26c37c['hasOwnProp'+'erty'](_0x2eb6d3)&&(_0x741233=Math['max'](_0x741233,_0x26c37c[_0x2eb6d3]));}return _0x556343===-(0x1bdf*-0x1+-0x6*-0x240+0xe60)&&_0x741233!==-(-0x737+-0xfcd*-0x1+-0x895*0x1)?0x22a5+-0x227*-0xe+-0x2063*0x2:_0x741233===-(-0xe7a+0x913+0x15a*0x4)&&_0x556343!==-(0x23b1+-0x1ea0+-0x510)?-(0x21cf+0x1613+-0x37e1):_0x741233-_0x556343;}['sortTransp'+'arentLayer'+'s'](_0x4415bc,_0x32e279){return this['_sortLayer'+'sDescendin'+'g'](_0x4415bc,_0x32e279,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x2c5e38,_0x509115){return this['_sortLayer'+'sDescendin'+'g'](_0x2c5e38,_0x509115,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},WM=[[new Q(-0x7a+-0x3*0x560+0x109a,-0x15f1+-0x1207+0x27f8,-0x5*0x653+-0x1*0x3ce+0x236e,0x2*0xdd5+0x23a4+0x5*-0xca9)],[new Q(0x1*-0x916+-0x1*-0x225d+0x1947*-0x1,0x4f1+0x19*0x185+0x2aee*-0x1,-0x1*-0x1cdd+0xf2b*0x2+-0x3b33+0.5,0x1b74+-0x8*-0x163+-0x268c+0.5),new Q(0xc69+-0x75e+-0x50b,-0xa50+0x20b5+0x1665*-0x1+0.5,0x148+-0x4fd+0x1*0x3b5+0.5,-0x2651+0x16d4*-0x1+-0x1*-0x3d25+0.5)],[new Q(-0xf0c+0x16*0xec+-0x29e*0x2,-0x133c*0x2+-0x25ec+0x4c64,-0x276+-0x1cc5+-0x5*-0x63f+0.5,-0x3f1+-0xb*-0x63+-0x50+0.5),new Q(0x553*0x6+-0x3*-0x58f+-0x309f,0x85d+0x17ac+-0x2009+0.5,-0x1e24+-0x227b*-0x1+-0x457+0.5,0xe9*0xb+-0x1*-0x1499+-0x1e9c+0.5),new Q(0xd17+-0xbae+-0x169+0.5,0x161*-0x3+0x1b2a+0x7ad*-0x3,-0x104d+-0x128f*0x2+0x1*0x356b+0.5,0xb21+0x1eda+-0x29fb+0.5)],[new Q(-0x53*-0x1d+-0x5a*-0x4c+0x1*-0x241f,0x331*0x1+0x31*-0xb2+-0x62d*-0x5,0x34*0x2e+0x1*-0xb1f+0x1c7+0.5,0x1*-0x187f+0x193+-0x6*-0x3d2+0.5),new Q(0xe01+-0x21c2+0x13c1,0x1721+0x6c9*0x2+0x5*-0x757+0.5,-0x1260+0x760*-0x5+0x3740+0.5,0x18ca+0x1195+0x2a5f*-0x1+0.5),new Q(0xc22+0x161d*0x1+-0x223f+0.5,0xfae+0x382*0x7+-0x4*0xa0f,0x2*0x4f2+-0x20d6+0x16f2+0.5,-0xb*0x42+0xae5*0x1+-0x80f+0.5),new Q(-0x7d3*0x1+0x2*-0x6f3+-0x15b9*-0x1+0.5,0x2108+-0x1b98+-0x570+0.5,0x25*-0x11+0x2514+-0x229f+0.5,0x19bf+0x2410+-0x3dcf+0.5)]];let qM=-0x228d+0x1a0f+0x87e*0x1;class XM{constructor(_0x431e38,_0x268be7,_0x37471f){this['light']=_0x37471f,this['camera']=_0x431e38,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x37471f['_shadowTyp'+'e'],_0x37471f['_type'],_0x268be7),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(-0x20f7*0x1+0xfdf*-0x1+0x10a*0x2f,0x279*0xb+-0x1*-0x78+-0x1*0x1bab,-0x1*0xe4+0x67+0x7e,-0x1fc*0xf+0x167*0xd+0xb8a),this['shadowScis'+'sor']=new Q(-0x47*0x2+-0x2637+0x26c5,0x1b17+-0x252b+0xa14,-0x2551+0x1*0x773+-0x9f5*-0x3,0x1302+0x6b*0x1d+0x1*-0x1f20),this['projection'+'Compensati'+'on']=-0x16a1+0xd5*0x13+0x6d2,this['face']=_0x268be7,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1a39c7=>{_0x1a39c7['defaultUni'+'formBuffer']['destroy'](),_0x1a39c7['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1c*-0xd3+-0x246c+-0x1*-0xd58;}get['shadowBuff'+'er'](){const _0x535558=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x535558?this['light']['_isPcf']?_0x535558['depthBuffe'+'r']:_0x535558['colorBuffe'+'r']:null;}}class zo{constructor(_0x1f6e28,_0x347147){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x1f6e28,this['clusteredL'+'ighting']=_0x347147,this['id']=qM++,this['_type']=oe,this['_color']=new Y(0x26f0+0xec2+-0x11e6*0x3+0.8,-0xff7+-0x1bc3+-0x3a*-0xc1+0.8,0x1*-0x20e1+-0x1fd*-0x1+0xa4c*0x3+0.8),this['_intensity']=-0x29*0x88+0x2352+-0xd89,this['_affectSpe'+'cularity']=!(-0x24e4+-0x6b0+0x2b94*0x1),this['_luminance']=0xff0+0x8*0x397+-0x2ca8,this['_castShado'+'ws']=!(0xd*0x301+-0x2093+-0x679*0x1),this['_enabled']=!(-0x47*-0x59+-0x1*-0x1ba7+-0x1*0x3455),this['_mask']=hs,this['isStatic']=!(-0x2*0x2f3+0x97*-0x13+0x111c),this['key']=-0x25bc+-0x3e*0x79+-0x1*-0x430a,this['bakeDir']=!(-0xb73+0x80b*-0x2+-0x13*-0x173),this['bakeNumSam'+'ples']=0x1c05+-0xc23*0x1+-0xfe1,this['bakeArea']=0x952+-0x1146+0x7f4,this['attenuatio'+'nStart']=0x2*-0xe57+-0x151a+0x31d2,this['attenuatio'+'nEnd']=-0xf3c+-0x18ad*0x1+-0xd51*-0x3,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=-0x1920+-0x18*0x151+0x1*0x38c3,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(0x74*0x3+0x21*-0xe3+0x1be7+0.01)*(-0x595*-0x1+0xb8c*-0x1+0x3*0x1fd+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0xee1*0x1+0x1a64+-0xb82,this['_cookieFal'+'loff']=!(0x41d+0xe5e+0x127b*-0x1),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x95f+0xe53*-0x1+0x2*0x27c),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0x13*-0x125+0x3*0xa30+0x8cf*-0x1),this['_cookieTra'+'nsformSet']=!(0x31*0x89+0x949+-0x2381*0x1),this['_cookieOff'+'setSet']=!(-0x2*0x2b7+0xa3*0x24+0xb*-0x197),this['_innerCone'+'Angle']=-0x771*-0x1+-0x970+0x227,this['_outerCone'+'Angle']=-0x31*0x83+0x13ec+0x554,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0xfac+-0x26e8+-0x9d*-0x59,this['_cascadeBl'+'end']=-0xb3f*-0x1+0x1*-0x5f7+-0x548,this['cascadeDis'+'tribution']=0x440+-0x1d0f*-0x1+-0x214f+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(0x35*-0xc+-0x2*-0x21+0x23d),this['_updateLin'+'earColor'](),this['_position']=new T(-0x1*0x164e+0xbf*0x7+0x1115,0xde6*0x1+-0x823+-0x5c3,-0x1*-0x3ec+0x1a94+0x7a*-0x40),this['_direction']=new T(0x269+0x24b0+-0x1*0x2719,0x11*-0x16a+0x11e7+0x1*0x623,0x8c2+-0x3*-0x18e+0x4*-0x35b),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x26c0+-0x20fc+0x4870)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x2ef*-0x1+0x1bf9+-0x1ee8),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x148b+-0x268c+0x1*0x1229,this['_shadowRes'+'olution']=-0x59e*0x2+-0x1ff+-0x1*-0x113b,this['_shadowBia'+'s']=-(-0x179e+-0x1d82+0x3520+0.0005),this['shadowInte'+'nsity']=0x2*0x124a+0x1a04+0x15*-0x2fb,this['_normalOff'+'setBias']=-0x7*0x136+0x1b62+0x3c8*-0x5,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x1f+-0xe8f+0x1*0xeaf),this['_isPcf']=!(0x847+0x3c*0x22+-0x103f),this['_softShado'+'wParams']=new Float32Array(0x4*0x203+0x2463+-0x2c6b),this['shadowSamp'+'les']=0x1e89+-0x3c+-0x1e3d*0x1,this['shadowBloc'+'kerSamples']=0x2*-0x69b+-0xd*-0x2f6+-0x1938,this['penumbraSi'+'ze']=-0x1*0x40f+-0xf*-0xb7+-0x6a9,this['penumbraFa'+'lloff']=0x15da+0x1099+-0x2672,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1*-0x1163+-0x1409+0x2a7),this['atlasVersi'+'on']=0x13de+-0x16ee+0x310,this['atlasSlotI'+'ndex']=-0x1*0x545+0x56f+0x15*-0x2,this['atlasSlotU'+'pdated']=!(0x1c08+0x1fea+-0x155*0x2d),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0xa9*0x31+0xa6*-0x16+0x297*0x12),this['maxScreenS'+'ize']=0x1*0x264e+-0x3d*0x9d+0x1*-0xe5,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x55b3e0=-0x1*-0x12e+-0x1af0+-0x3ae*-0x7;_0x55b3e0<this['_renderDat'+'a']['length'];_0x55b3e0++)this['_renderDat'+'a'][_0x55b3e0]['destroy']();this['_renderDat'+'a']['length']=-0x4d*0x51+-0x907+0x2164;}}['addLayer'](_0xb25b4c){this['layers']['add'](_0xb25b4c);}['removeLaye'+'r'](_0x3f7352){this['layers']['delete'](_0x3f7352);}set['shadowSamp'+'les'](_0x509f0e){this['_softShado'+'wParams'][0x1c17+0xdd6+-0x29ed*0x1]=_0x509f0e;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x1330*-0x2+0x3dc+-0x2a3c];}set['shadowBloc'+'kerSamples'](_0x41a885){this['_softShado'+'wParams'][0x1810+0x15*-0xe+-0x16e9]=_0x41a885;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0xfe9*-0x2+-0x32d*-0x5+-0x2fb2];}set['shadowBias'](_0x55a34b){this['_shadowBia'+'s']!==_0x55a34b&&(this['_shadowBia'+'s']=_0x55a34b,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x3edc51){(!this['cascades']||this['numCascade'+'s']!==_0x3edc51)&&(this['cascades']=WM[_0x3edc51-(0x43f+0x6b9*0x1+-0xaf7)],this['_shadowMat'+'rixPalette']=new Float32Array((0x1645+0x1*-0x1412+0x2b*-0xd)*(0x6dd*0x1+0x1ebd+-0x258a)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x1c1a+0x1913+-0x3529*0x1),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x4f1b5a){this['_cascadeBl'+'end']!==_0x4f1b5a&&(this['_cascadeBl'+'end']=_0x4f1b5a,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x364353){this['_shadowMap']!==_0x364353&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x364353);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x12fb05){this['_mask']!==_0x12fb05&&(this['_mask']=_0x12fb05,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x3b05b4=this['_type'];return _0x3b05b4===oe?this['numCascade'+'s']:_0x3b05b4===Pe?0x1*0x2214+0x263*-0x5+-0x161f:0x19c2+0x1*0xf06+-0x28c7;}set['type'](_0x3462bd){if(this['_type']===_0x3462bd)return;this['_type']=_0x3462bd,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x3394ae=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x3394ae;}get['type'](){return this['_type'];}set['shape'](_0x1a8cb5){if(this['_shape']===_0x1a8cb5)return;this['_shape']=_0x1a8cb5,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x4e6b7b=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x4e6b7b;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x34caf6){this['_usePhysic'+'alUnits']!==_0x34caf6&&(this['_usePhysic'+'alUnits']=_0x34caf6,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x16c8fe){if(this['_shadowTyp'+'e']===_0x16c8fe)return;const _0x44ad73=this['device'];_0x16c8fe===Ts&&!_0x44ad73['textureFlo'+'atRenderab'+'le']&&!_0x44ad73['textureHal'+'fFloatRend'+'erable']&&(_0x16c8fe=Dt),this['_type']===Pe&&_0x16c8fe!==Bh&&_0x16c8fe!==Dt&&_0x16c8fe!==Nh&&_0x16c8fe!==zh&&_0x16c8fe!==Ts&&(_0x16c8fe=Dt),_0x16c8fe===$r&&(!_0x44ad73['textureFlo'+'atRenderab'+'le']||!_0x44ad73['textureFlo'+'atFilterab'+'le'])&&(_0x16c8fe=Hr),_0x16c8fe===Hr&&!_0x44ad73['textureHal'+'fFloatRend'+'erable']&&(_0x16c8fe=Dt);const _0xcde73d=ir['get'](_0x16c8fe);this['_isVsm']=(_0xcde73d==null?void(0x1*0x925+0x226f+-0x2b94):_0xcde73d['vsm'])??!(-0x2*-0xd67+-0xff7*-0x1+-0x2ac4),this['_isPcf']=(_0xcde73d==null?void(0x1c2b+-0x126c+0x5*-0x1f3):_0xcde73d['pcf'])??!(0x6f9+-0x235f*0x1+-0x1*-0x1c67),this['_shadowTyp'+'e']=_0x16c8fe,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x39fb17){this['_enabled']!==_0x39fb17&&(this['_enabled']=_0x39fb17,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x9b3f01){this['_castShado'+'ws']!==_0x9b3f01&&(this['_castShado'+'ws']=_0x9b3f01,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==-0x1*0x7c4+0x1898+0x86a*-0x2;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x4f802e){this['_shadowRes'+'olution']!==_0x4f802e&&(this['_type']===Pe?_0x4f802e=Math['min'](_0x4f802e,this['device']['maxCubeMap'+'Size']):_0x4f802e=Math['min'](_0x4f802e,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x4f802e,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x449338){this['_vsmBlurSi'+'ze']!==_0x449338&&(_0x449338%(-0x227*-0x2+-0x1c69+0x181d)===0x17f3+0x1d02+0x34f5*-0x1&&_0x449338++,this['_vsmBlurSi'+'ze']=_0x449338);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x109fa2){if(this['_normalOff'+'setBias']!==_0x109fa2){const _0x6c3a4e=!this['_normalOff'+'setBias']&&_0x109fa2||this['_normalOff'+'setBias']&&!_0x109fa2;this['_normalOff'+'setBias']=_0x109fa2,_0x6c3a4e&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x5102bd){this['_falloffMo'+'de']!==_0x5102bd&&(this['_falloffMo'+'de']=_0x5102bd,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x159d66){this['_innerCone'+'Angle']!==_0x159d66&&(this['_innerCone'+'Angle']=_0x159d66,this['_innerCone'+'AngleCos']=Math['cos'](_0x159d66*Math['PI']/(0x10c8+0x157*-0x2+-0xd66)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x204577){this['_outerCone'+'Angle']!==_0x204577&&(this['_outerCone'+'Angle']=_0x204577,this['_updateOut'+'erAngle'](_0x204577),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x5d157d){this['_penumbraS'+'ize']=_0x5d157d,this['_softShado'+'wParams'][0x1602*-0x1+0x2232+-0x1*0xc2e]=_0x5d157d;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0xf1fdce){this['_softShado'+'wParams'][0x86f*0x4+0x59d+-0x2756]=_0xf1fdce;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x25be*0x1+0xdff+0x2*0xbe1];}['_updateOut'+'erAngle'](_0x1dc45b){const _0x6a4955=_0x1dc45b*Math['PI']/(-0x19a+0xdb5+-0xb67);this['_outerCone'+'AngleCos']=Math['cos'](_0x6a4955),this['_outerCone'+'AngleSin']=Math['sin'](_0x6a4955);}set['intensity'](_0x37dec6){this['_intensity']!==_0x37dec6&&(this['_intensity']=_0x37dec6,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0xf260c0){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0xf260c0,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x39fbb6){this['_luminance']!==_0x39fbb6&&(this['_luminance']=_0x39fbb6,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(-0xe5f+-0x3f9+-0x92c*-0x2,0x1709+-0x9*0x36f+0x6a*0x13,-0x24a*-0x1+-0xac5+0x21f*0x4,0x13*-0x1a+0x192e+-0x173f)),this['_atlasView'+'port'];}set['cookie'](_0x411cb3){this['_cookie']!==_0x411cb3&&(this['_cookie']=_0x411cb3,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x25d97b){this['_cookieFal'+'loff']!==_0x25d97b&&(this['_cookieFal'+'loff']=_0x25d97b,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x241a31){if(this['_cookieCha'+'nnel']!==_0x241a31){if(_0x241a31['length']<0x1*-0x83f+-0x2320+-0xe76*-0x3){const _0x289235=_0x241a31['charAt'](_0x241a31['length']-(0x3*-0x35f+0x125*0x13+-0xba1*0x1)),_0x443fd0=0x3*-0x89f+0x89f+-0x1*-0x1141-_0x241a31['length'];for(let _0x59455f=0x18ba+0x26a*-0x1+-0x1650;_0x59455f<_0x443fd0;_0x59455f++)_0x241a31+=_0x289235;}this['_cookieCha'+'nnel']=_0x241a31,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x164779){this['_cookieTra'+'nsform']!==_0x164779&&(this['_cookieTra'+'nsform']=_0x164779,this['_cookieTra'+'nsformSet']=!!_0x164779,_0x164779&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new $(),this['_cookieOff'+'setSet']=!(-0x255d+-0xdc7+0x3325*0x1)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0xd2dd3d){if(this['_cookieOff'+'set']===_0xd2dd3d)return;!!(this['_cookieTra'+'nsformSet']||_0xd2dd3d)&&!_0xd2dd3d&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0x777+0x4c5+-0x414*0x3,-0x2cf*-0x4+-0x16f3+-0x1*-0xbb7):this['_cookieOff'+'set']=_0xd2dd3d,this['_cookieOff'+'setSet']=!!_0xd2dd3d,_0xd2dd3d&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(-0x11be+0x113d*-0x1+-0x22fc*-0x1,-0x1e77*0x1+-0x2d9+0x2151,-0xb16+-0x925*-0x2+-0x734,-0xc73*-0x1+0x1*0x727+-0x139a),this['_cookieTra'+'nsformSet']=!(0x25a3+0x3b*0xc+0x2866*-0x1)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=-0x809*0x3+0x2297+-0xa7c,this['atlasViewp'+'ortAllocat'+'ed']=!(0x1db8+-0x3eb*-0x3+0x52f*-0x8),this['atlasSlotU'+'pdated']=!(-0x1af9+0xe8a+0xc7*0x10);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x2c7b0f=-0x2292+0x31c*0x4+0x2*0xb11;_0x2c7b0f<this['shadowUpda'+'teOverride'+'s']['length'];_0x2c7b0f++)this['shadowUpda'+'teOverride'+'s'][_0x2c7b0f]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x2c7b0f]=cn);}}['getRenderD'+'ata'](_0x310c3e,_0x30a885){for(let _0x4b5395=0x7*0x13+-0x7*-0x236+-0xfff;_0x4b5395<this['_renderDat'+'a']['length'];_0x4b5395++){const _0x15cc47=this['_renderDat'+'a'][_0x4b5395];if(_0x15cc47['camera']===_0x310c3e&&_0x15cc47['face']===_0x30a885)return _0x15cc47;}const _0x44dc0d=new XM(_0x310c3e,_0x30a885,this);return this['_renderDat'+'a']['push'](_0x44dc0d),_0x44dc0d;}['clone'](){const _0x3d5c3d=new zo(this['device'],this['clusteredL'+'ighting']);return _0x3d5c3d['type']=this['_type'],_0x3d5c3d['setColor'](this['_color']),_0x3d5c3d['intensity']=this['_intensity'],_0x3d5c3d['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x3d5c3d['luminance']=this['_luminance'],_0x3d5c3d['castShadow'+'s']=this['castShadow'+'s'],_0x3d5c3d['_enabled']=this['_enabled'],_0x3d5c3d['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x3d5c3d['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x3d5c3d['falloffMod'+'e']=this['_falloffMo'+'de'],_0x3d5c3d['shadowType']=this['_shadowTyp'+'e'],_0x3d5c3d['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x3d5c3d['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x3d5c3d['vsmBias']=this['vsmBias'],_0x3d5c3d['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x3d5c3d['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x3d5c3d['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x3d5c3d['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x3d5c3d['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x3d5c3d['numCascade'+'s']=this['numCascade'+'s'],_0x3d5c3d['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x3d5c3d['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x3d5c3d['shape']=this['_shape'],_0x3d5c3d['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x3d5c3d['shadowBias']=this['shadowBias'],_0x3d5c3d['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x3d5c3d['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x3d5c3d['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x3d5c3d['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x3d5c3d['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x3d5c3d['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x3d5c3d['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x3d5c3d['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x3d5c3d;}static['getLightUn'+'itConversi'+'on'](_0x4ee516,_0x1ed920=Math['PI']/(-0x2b*-0x8f+-0xf01*0x1+0x40*-0x24),_0x166599=-0x10*-0x251+-0x16cd*-0x1+-0x3bdd){switch(_0x4ee516){case Re:{const _0x305180=Math['cos'](_0x1ed920),_0x23d22e=Math['cos'](_0x166599);return(-0x3*-0x414+0x2*0x1327+0x9a*-0x54)*Math['PI']*(-0x509+-0x509+0xa13-_0x23d22e+(_0x23d22e-_0x305180)/(0x20+-0x4ab*0x2+0x8*0x127));}case Pe:return(-0x52d+-0x7ca*-0x1+-0x299)*Math['PI'];case oe:return 0x14*0x1e+0x6df*0x4+-0xf*0x1fd;}}['_getUnifor'+'mBiasValue'+'s'](_0x2c02e9){const _0x5a904d=_0x2c02e9['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(-0x41*-0x24+0x14d2+0xa*-0x2ff+0.00001)*(-0xe44+-0x23f*0xe+0x2dca):ti['bias']=this['shadowBias']*(-0x4c*0x6a+-0x3*0x90b+0x3aad),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x22ec+-0x105d+0x3350)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(-0x1*-0x9b+-0xdf2+0xd57+0.00001)*(0x65*-0x51+-0x5*-0x665+0x10):ti['bias']=this['shadowBias']/_0x5a904d*(-0x2402+-0x11ef+0x3655),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0x5a904d/(-0x22*0xb1+-0x11*0x5+0x17de)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x4d8537){if(this['_type']===Re){const _0x422249=this['attenuatio'+'nEnd'],_0x4c3ffb=this['_outerCone'+'Angle'],_0x43a332=this['_outerCone'+'AngleCos'],_0x3925c4=this['_node'];kl['copy'](_0x3925c4['up']),_0x4c3ffb>0x6*-0x26a+-0x6fe*0x3+0x23a3?(_0x4d8537['radius']=_0x422249*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x422249*_0x43a332)):(_0x4d8537['radius']=_0x422249/((0x3*-0x296+-0x2f7+0xabb)*_0x43a332),kl['mulScalar'](-_0x4d8537['radius'])),_0x4d8537['center']['add2'](_0x3925c4['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x4d8537['center']=this['_node']['getPositio'+'n'](),_0x4d8537['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x145758){if(this['_type']===Re){const _0x20dad4=this['attenuatio'+'nEnd'],_0x579ac5=this['_outerCone'+'Angle'],_0x56750b=this['_node'],_0x28662e=Math['abs'](Math['sin'](_0x579ac5*N['DEG_TO_RAD'])*_0x20dad4);_0x145758['center']['set'](-0xf02+0x23c4+-0x14c2,-_0x20dad4*(-0x15*-0xcb+0x191d+-0x29c4+0.5),0x1d4d+0x116f*0x1+-0x2ebc),_0x145758['halfExtent'+'s']['set'](_0x28662e,_0x20dad4*(-0x13b5+-0x911*-0x1+0xaa4+0.5),_0x28662e),_0x145758['setFromTra'+'nsformedAa'+'bb'](_0x145758,_0x56750b['getWorldTr'+'ansform'](),!(-0x817+-0x16b8+-0xef*-0x21));}else this['_type']===Pe&&(_0x145758['center']['copy'](this['_node']['getPositio'+'n']()),_0x145758['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x1ee8+0xd8b+-0x7*-0x27b,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0x801*0x3+-0x1*-0x10fd+-0x3a*-0x1f;else{const _0x102e75=this['shadowBias']*-(-0x1dd6+-0x2271+-0x1*-0x442f);this['shadowDept'+'hState']['depthBias']=_0x102e75,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x102e75;}}['_updateLin'+'earColor'](){let _0x23ae9c=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x23ae9c=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x3ac194=this['_color'],_0x27db9b=this['_colorLine'+'ar'];_0x23ae9c>=-0x1f*0x18+-0x1b5b+0x1e44?Ya['linear'](_0x3ac194)['mulScalar'](_0x23ae9c):Ya['copy'](_0x3ac194)['mulScalar'](_0x23ae9c)['linear'](),_0x27db9b[0xec7+-0x1*0x1eb0+0xfe9]=Ya['r'],_0x27db9b[0x224b+0x2e*0x59+-0x2*0x1924]=Ya['g'],_0x27db9b[0x1*-0x24d2+0x3e*0x1f+-0xea9*-0x2]=Ya['b'];}['setColor'](){arguments['length']===-0xd*0x1a1+0x1*0x1e1+0x134d?this['_color']['set'](arguments[-0x8c6*0x1+-0x1*-0x17c3+-0xefd]['r'],arguments[0x420+-0x1*-0x1a+-0x43a]['g'],arguments[-0x1fa5+-0x7bd+-0x2*-0x13b1]['b']):arguments['length']===-0xc3c*0x3+0x1408+0x10af&&this['_color']['set'](arguments[0x6e9+-0x23b3+0x1cca],arguments[-0x1*-0xd62+-0x25a7+0xef*0x1a],arguments[-0x200f+0x725+-0x1*-0x18ec]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x33e3e3=>{_0x33e3e3['hasLight'](this)&&_0x33e3e3['markLights'+'Dirty']();});}['updateKey'](){let _0x1d5f50=this['_type']<<-0x9cd+-0x11e6+0x6f4*0x4|this['_shadowTyp'+'e']<<0x9f1+0xab6+-0x6da*0x3|this['_falloffMo'+'de']<<-0x1b45+-0x79*0xe+0x21fa|(this['_normalOff'+'setBias']!==0x1dd7*-0x1+-0x1127+0x2efe?0x38b*0x7+0x1e5b+-0x3727:0x686*-0x5+-0x4f*0x4f+0x38ff)<<-0x13ab+0xb1a+0x8a7|(this['_cookie']?0xa31*0x3+-0x1*0x8b7+-0x749*0x3:-0x19b5+-0xf46+0xda9*0x3)<<0x766+0xbf3+-0x1344|(this['_cookieFal'+'loff']?0x7a2+0x2064+-0x3*0xd57:-0x13d4+-0x9e9+0x1dbd)<<0x1*0x1423+-0x1339+-0xd6|Ud[this['_cookieCha'+'nnel']['charAt'](-0xc29+0x1613*-0x1+0x223c)]<<0x1662+-0x217f+0xb2f|(this['_cookieTra'+'nsform']?0xf4c+0x1bc+-0x1107:0x23b8+-0x177+-0x2241)<<-0x196*0x1+0x4d4+-0x199*0x2|this['_shape']<<-0x10*-0xe+0x11ed+-0x3*0x641|(this['numCascade'+'s']>-0x73a+-0x2*-0x771+-0x7a8?-0x116f*-0x2+0xa*-0x3a1+0x16d:-0x17*0x163+-0x22b8+0x429d)<<0x1*-0xae5+0x1*-0x173c+0x222a|(this['_cascadeBl'+'end']>0x1c4b+-0x1*-0x1ac9+-0x3714?-0x2619+-0x1fba+0x45d4:0x7*0x29f+-0x13*0x82+-0x8b3)<<-0x916*0x2+-0xdb0+0x1fe4|(this['affectSpec'+'ularity']?-0x6d1+0x210+0x4c2:0x223e+-0x6fb*-0x4+-0x3e2a)<<0x341+-0x1c3d+-0x1*-0x1903|this['mask']<<0xa3f+-0x15*-0x103+-0xd4*0x26|(this['_castShado'+'ws']?-0x5*0x6dc+-0x119*0xe+0x31ab:-0x21e1+-0x223+-0x5*-0x734)<<-0x41f+-0x173e+-0x60*-0x49;this['_cookieCha'+'nnel']['length']===0x747+0xd9a*0x1+-0x14de&&(_0x1d5f50|=Ud[this['_cookieCha'+'nnel']['charAt'](0x1c04+-0x1373+0x112*-0x8)]<<-0x1e6f+-0x4*0x3d1+-0x21*-0x163,_0x1d5f50|=Ud[this['_cookieCha'+'nnel']['charAt'](0x533*0x1+0x1*0x1edd+0x2c6*-0xd)]<<-0x19e0+-0x45c+-0x1*-0x1e4a),_0x1d5f50!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x1d5f50;}}class L0{constructor(_0x1cf5c6,_0x567357,_0xf99369){c(this,'_areaLight'+'sEnabled',!(-0x26fb*0x1+0x395*-0x7+0x400f)),c(this,'_cells',new T(0x75d*-0x2+-0x12bd+-0xb2b*-0x3,0x1ee7+-0x1366*0x2+0x7e8,-0x380+0x5*0x2b3+-0x1*0x9f5)),c(this,'_maxLights'+'PerCell',-0xb60+-0x1c13+0x14e*0x1f),c(this,'_shadowsEn'+'abled',!(-0x2030+-0x7*-0x16f+0x1627)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',0x1*-0x823+0x23a1+0x3e6*-0x5),c(this,'_cookiesEn'+'abled',!(0x1*0x1195+-0x487+-0x1*0xd0d)),c(this,'_cookieAtl'+'asResoluti'+'on',-0x8*-0x310+0x1*-0x26ab+0x46f*0x5),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x1cf5c6,this['_maxTextur'+'eSize']=_0x567357,this['_dirtyLigh'+'tsFnc']=_0xf99369);}['applySetti'+'ngs'](_0x7bd6cf){this['shadowsEna'+'bled']=_0x7bd6cf['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x7bd6cf['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x7bd6cf['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x7bd6cf['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x7bd6cf['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x7bd6cf['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x7bd6cf['lightingSh'+'adowType']??this['shadowType'],_0x7bd6cf['lightingCe'+'lls']&&(this['cell']=new T(_0x7bd6cf['lightingCe'+'lls']));}set['cells'](_0x6b42fa){this['_cells']['copy'](_0x6b42fa);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0xef755c){this['_maxLights'+'PerCell']=N['clamp'](_0xef755c,-0x1*0x567+-0x467+0x51*0x1f,-0xfa2+0x2*-0x285+0x15ab*0x1);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x6f9525){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x6f9525,-0x1bf7+0x29*-0x5+0x1ce4*0x1,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x1cda4d){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x1cda4d,0x1cf3+0x1*0x1a76+-0x3749,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x979f89){this['_shadowTyp'+'e']!==_0x979f89&&(this['_shadowTyp'+'e']=_0x979f89,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x50c3d9){this['_cookiesEn'+'abled']!==_0x50c3d9&&(this['_cookiesEn'+'abled']=_0x50c3d9,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x3f1aee){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x3f1aee&&(this['_areaLight'+'sEnabled']=_0x3f1aee,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x4a8f50){this['_shadowsEn'+'abled']!==_0x4a8f50&&(this['_shadowsEn'+'abled']=_0x4a8f50,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(0x1bbf+0x7*0x1bd+0x27*-0x106),Lt,at,at);class fn{constructor(_0x332c8b){c(this,'shaderCach'+'e',[]),(this['morph']=_0x332c8b,_0x332c8b['incRefCoun'+'t'](),this['device']=_0x332c8b['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x20d6b2=-0x1ce7+-0x22f4*0x1+0x3fdb;_0x20d6b2<_0x332c8b['_targets']['length'];_0x20d6b2++){const _0x1cff9f=_0x332c8b['_targets'][_0x20d6b2];_0x1cff9f['name']&&this['_weightMap']['set'](_0x1cff9f['name'],_0x20d6b2),this['setWeight'](_0x20d6b2,_0x1cff9f['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x283a1b=(_0x4a5365,_0x530b29)=>(this[_0x530b29]=_0x332c8b['_createTex'+'ture'](_0x4a5365,_0x332c8b['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x530b29],'depth':!(-0x17b7+0xabf+0x29*0x51)}));_0x332c8b['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x283a1b('MorphRTPos','texturePos'+'itions')),_0x332c8b['morphNorma'+'ls']&&(this['rtNormals']=_0x283a1b('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x332c8b['morphTextu'+'reWidth'],_0x332c8b['morphTextu'+'reHeight']]);const _0x45f9b8=_0x332c8b['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x45f9b8['x']*(-0xd1d+0x23c0+-0x169f),_0x45f9b8['y']*(0x1*0x9f+-0x69*0x2f+0xa*0x1de),_0x45f9b8['z']*(0x19f1+0x7*-0x22+-0x3*0x855)]);const _0x21f6bd=_0x332c8b['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x21f6bd['x']*(-0x1*-0x1bee+-0xb22+0x865*-0x2),_0x21f6bd['y']*(-0x1*-0x1835+0xe*0x6a+-0x1dff*0x1),_0x21f6bd['z']*(0x1*0xd8e+0x1bd2+-0x2*0x14af)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x2534+0xf9b+0x159b,-0xd03*0x2+0x1771+-0x3*-0xdd,-0x25a8+-0x67e+0x2c28]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x3fb*0x3+-0xd8b+0x197d),-(-0x1d04+0x26a4+-0x99f),-(0x17d0+-0x2*-0x7e4+0x2797*-0x1)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x83050c=-0x15bc+0x1534+0x88;_0x83050c<this['maxSubmitC'+'ount'];_0x83050c++)this['morphBlend'+'Tex'+_0x83050c]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x83050c);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(-0x17*-0x11b+-0xf13+0x3*-0x373);}['destroy'](){this['shader']=null;const _0x30dd9b=this['morph'];_0x30dd9b&&(this['morph']=null,_0x30dd9b['decRefCoun'+'t'](),_0x30dd9b['refCount']<-0x16ad+-0x19c0+0x306e&&_0x30dd9b['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x126d3d){if(typeof _0x126d3d=='string'){const _0x9151c8=this['_weightMap']['get'](_0x126d3d);return _0x9151c8===void(-0xfc9+-0x4c*-0x2d+0x17*0x1b)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x126d3d+'.'),_0x9151c8;}return _0x126d3d;}['getWeight'](_0x5832cb){const _0x1be2d8=this['_getWeight'+'Index'](_0x5832cb);return this['_weights'][_0x1be2d8];}['setWeight'](_0x110d94,_0x17d5b1){const _0x2f96d7=this['_getWeight'+'Index'](_0x110d94);v['assert'](_0x2f96d7>=0x2132+0x3c9+0x1*-0x24fb&&_0x2f96d7<this['morph']['_targets']['length']),this['_weights'][_0x2f96d7]=_0x17d5b1,this['_dirty']=!(-0xd00+-0x8a2+0x15a2);}['_getFragme'+'ntShader'](_0x5b85f8){let _0xeff473='',_0x4ade59='';for(let _0x5bff8e=0x941+0x1*0x959+-0x129a;_0x5bff8e<_0x5b85f8;_0x5bff8e++)_0xeff473+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x5bff8e+';',_0x4ade59+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x5bff8e+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x5bff8e+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x5b85f8>-0x8db+-0x1ec7+0x27a2?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x5b85f8+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0xeff473+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x4ade59+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x99a0b4){let _0x16cf66=this['shaderCach'+'e'][_0x99a0b4];if(!_0x16cf66){const _0x14ec9b=this['_getFragme'+'ntShader'](_0x99a0b4),_0x2a534c=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x16cf66=Is(this['device'],jM,_0x14ec9b,'textureMor'+'ph'+_0x99a0b4,void(0x1611+0xd88*0x1+-0x2399),{'fragmentOutputTypes':[_0x2a534c]}),this['shaderCach'+'e'][_0x99a0b4]=_0x16cf66;}return _0x16cf66;}['_updateTex'+'tureRender'+'Target'](_0x8f25a1,_0x1bcd08,_0x254dd0){const _0x593ef2=this['device'],_0x508174=(_0x189bb6,_0x2b418a)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x593ef2['setBlendSt'+'ate'](_0x2b418a?YM:_t['NOBLEND']);const _0x2e73ab=this['_getShader'](_0x189bb6);dn(_0x593ef2,_0x8f25a1,_0x2e73ab);};this['setAabbUni'+'forms'](_0x254dd0);let _0x472f6e=0x10*0x17+-0x2697+-0x1*-0x2527,_0x27e2f5=!(-0x8*0x425+0x11d6+-0xf53*-0x1);const _0x6d5ce1=this['_activeTar'+'gets']['length'];for(let _0x5a0d52=0xdb5+-0x2*-0x8e1+0x64b*-0x5;_0x5a0d52<_0x6d5ce1;_0x5a0d52++){const _0x2ca097=this['_activeTar'+'gets'][_0x5a0d52],_0x1c3e7f=_0x2ca097['target'][_0x1bcd08];_0x1c3e7f&&(this['morphBlend'+'Tex'+_0x472f6e]['setValue'](_0x1c3e7f),this['_shaderMor'+'phWeights'][_0x472f6e]=_0x2ca097['weight'],_0x472f6e++,_0x472f6e>=this['maxSubmitC'+'ount']&&(_0x508174(_0x472f6e,_0x27e2f5),_0x472f6e=0x1766+0x11c5+-0x493*0x9,_0x27e2f5=!(-0xa12+0x1ab2+-0x10a0)));}(_0x472f6e>0x1*0x1fbb+0xe3*-0x1c+-0x6e7||_0x6d5ce1===-0x1768+-0x1*-0xb29+-0xc3f*-0x1&&!this['zeroTextur'+'es'])&&_0x508174(_0x472f6e,_0x27e2f5);}['_updateTex'+'tureMorph'](){const _0x3bab1e=this['device'];G['pushGpuMar'+'ker'](_0x3bab1e,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>-0x19a6+-0x1e4f+-0x3bb*-0xf||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(-0x17d*0x1+-0x11b*0x3+-0x3*-0x19a)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(-0x44a+0x814+-0x3c9)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===0x9*0x23+-0x6c4+0x589),G['popGpuMark'+'er'](_0x3bab1e);}['setAabbUni'+'forms'](_0x20043d=!(-0x22f1+-0x1de0+0x3*0x159b)){this['aabbSizeId']['setValue'](_0x20043d?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x20043d?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x30c1ee){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x14b0+-0xdbc+0x226d);const _0x163a22=this['morph']['_targets'];let _0x5d924b=-0xe48+-0x1115+0x1f5d;const _0x138c9e=-0x139*0x9+0x3*0xc11+-0x1e*0xd7+0.00001;for(let _0x44bfd6=0x18fb+0x660+0x15d*-0x17;_0x44bfd6<_0x163a22['length'];_0x44bfd6++){const _0x393cbc=Math['abs'](this['getWeight'](_0x44bfd6));if(_0x393cbc>_0x138c9e){this['_activeTar'+'gets']['length']<=_0x5d924b&&(this['_activeTar'+'gets'][_0x5d924b]={});const _0x5c67eb=this['_activeTar'+'gets'][_0x5d924b++];_0x5c67eb['absWeight']=_0x393cbc,_0x5c67eb['weight']=this['getWeight'](_0x44bfd6),_0x5c67eb['target']=_0x163a22[_0x44bfd6];}}this['_activeTar'+'gets']['length']=_0x5d924b,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x12d541,_0x4de18d)=>_0x12d541['absWeight']<_0x4de18d['absWeight']?-0xe0*0xe+-0x229e*0x1+0x2edf:_0x4de18d['absWeight']<_0x12d541['absWeight']?-(-0x1867+-0x1a6f+0x13*0x2ad):-0xf04*-0x2+0x4ee*-0x6+-0x74),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x22d7+-0x22ab+-0x2c,this['_immutable']=!(0x6*0x29c+-0x1421+0x47a));}['getGraph'](){return this['graph'];}['setGraph'](_0x599bfe){this['graph']=_0x599bfe;}['getCameras'](){return this['cameras'];}['setCameras'](_0x1782a8){this['cameras']=_0x1782a8;}['getLights'](){return this['lights'];}['setLights'](_0x2f13e4){this['lights']=_0x2f13e4;}['getMateria'+'ls'](){const _0x353550=[];for(let _0x291451=0x2618*0x1+-0x143a+-0x11de;_0x291451<this['meshInstan'+'ces']['length'];_0x291451++){const _0x5976d9=this['meshInstan'+'ces'][_0x291451];_0x353550['indexOf'](_0x5976d9['material'])===-(0xf31+0xc9d+0x1*-0x1bcd)&&_0x353550['push'](_0x5976d9['material']);}return _0x353550;}['clone'](){const _0x45a45=[],_0x3cdd2b=[],_0x28a881=function(_0xaf4a61){const _0x286544=_0xaf4a61['clone']();_0x45a45['push'](_0xaf4a61),_0x3cdd2b['push'](_0x286544);for(let _0x1889d1=0xf66*-0x2+-0x15ad+-0x77f*-0x7;_0x1889d1<_0xaf4a61['_children']['length'];_0x1889d1++)_0x286544['addChild'](_0x28a881(_0xaf4a61['_children'][_0x1889d1]));return _0x286544;},_0x8a4ad0=_0x28a881(this['graph']),_0x5a42e0=[],_0x2b6350=[],_0x37f9d5=[];for(let _0x3656a4=0x21fd+0x4b7*-0x5+0xa6a*-0x1;_0x3656a4<this['skinInstan'+'ces']['length'];_0x3656a4++){const _0x3bb5be=this['skinInstan'+'ces'][_0x3656a4]['skin'],_0x3cb792=new nl(_0x3bb5be),_0x25df34=[];for(let _0x5d36f2=-0x1*-0x1fb4+0x220f*-0x1+0x25b;_0x5d36f2<_0x3bb5be['boneNames']['length'];_0x5d36f2++){const _0x5e434a=_0x3bb5be['boneNames'][_0x5d36f2],_0x2bacc7=_0x8a4ad0['findByName'](_0x5e434a);_0x25df34['push'](_0x2bacc7);}_0x3cb792['bones']=_0x25df34,_0x2b6350['push'](_0x3cb792);}for(let _0x5dc7bb=0x12ce+0xee5+0x1*-0x21b3;_0x5dc7bb<this['morphInsta'+'nces']['length'];_0x5dc7bb++){const _0x4cb075=this['morphInsta'+'nces'][_0x5dc7bb]['morph'],_0x179a99=new fn(_0x4cb075);_0x37f9d5['push'](_0x179a99);}for(let _0x14906d=0x1160+-0x1398+0x238;_0x14906d<this['meshInstan'+'ces']['length'];_0x14906d++){const _0x558408=this['meshInstan'+'ces'][_0x14906d],_0x455745=_0x45a45['indexOf'](_0x558408['node']),_0xbeb5ec=new Le(_0x558408['mesh'],_0x558408['material'],_0x3cdd2b[_0x455745]);if(_0x558408['skinInstan'+'ce']){const _0x365e7f=this['skinInstan'+'ces']['indexOf'](_0x558408['skinInstan'+'ce']);_0xbeb5ec['skinInstan'+'ce']=_0x2b6350[_0x365e7f];}if(_0x558408['morphInsta'+'nce']){const _0x5df342=this['morphInsta'+'nces']['indexOf'](_0x558408['morphInsta'+'nce']);_0xbeb5ec['morphInsta'+'nce']=_0x37f9d5[_0x5df342];}_0x5a42e0['push'](_0xbeb5ec);}const _0x3d0988=new Oi();return _0x3d0988['graph']=_0x8a4ad0,_0x3d0988['meshInstan'+'ces']=_0x5a42e0,_0x3d0988['skinInstan'+'ces']=_0x2b6350,_0x3d0988['morphInsta'+'nces']=_0x37f9d5,_0x3d0988['getGraph']()['syncHierar'+'chy'](),_0x3d0988;}['destroy'](){const _0x7482d3=this['meshInstan'+'ces'];for(let _0xc32111=-0x1222+0x4c*-0x2+0x12ba;_0xc32111<_0x7482d3['length'];_0xc32111++)_0x7482d3[_0xc32111]['destroy']();this['meshInstan'+'ces']['length']=-0x1291*0x2+-0x1*0x1115+0x3637*0x1;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x516905,_0x1fccd4,{preferHighPrecision:_0x20350c=!(0x1*-0x15cd+-0x5eb+0x1*0x1bb9)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x1fccd4,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x1fccd4,this['preferHigh'+'Precision']=_0x20350c,v['assert'](_0x516905['every'](_0x43e112=>!_0x43e112['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x516905['slice']());const _0x4763c7=this['device'],_0x426ab2=_0x4763c7['textureHal'+'fFloatRend'+'erable']?Je:void(-0x2428+0x2*-0xe38+-0x813*-0x8),_0x2bb500=_0x4763c7['textureFlo'+'atRenderab'+'le']?Ke:void(-0x1df6+0x1*-0x10af+0x2ea5*0x1);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x2bb500??_0x426ab2:_0x426ab2??_0x2bb500,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x1b9853=new T(),_0x5be801=new T();for(let _0x3ddf00=-0x91e+-0x2461*0x1+0x2d7f;_0x3ddf00<this['_targets']['length'];_0x3ddf00++){const _0x116153=this['_targets'][_0x3ddf00]['aabb'];_0x1b9853['min'](_0x116153['getMin']()),_0x5be801['max'](_0x116153['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x1b9853,_0x5be801);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x18db6f=0x163e+-0x136b+-0x2d3;_0x18db6f<this['_targets']['length'];_0x18db6f++)this['_targets'][_0x18db6f]['_postInit']();}['_findSpars'+'eSet'](_0x33cd10,_0x2c2732,_0x6293e8){let _0x3087b1=-0x1f2f+0x1691+0x89f;const _0x3eb61f=_0x33cd10[-0x76*-0x2b+0x731+-0x1b03]['length'];for(let _0x2634ac=-0x1fb0+0x1381*0x2+-0x752;_0x2634ac<_0x3eb61f;_0x2634ac+=-0xa77+0xbdc*0x1+-0x76*0x3){let _0x8bfdc8=!(-0x1*-0x126a+0x9a4+-0x1c0d);for(let _0x5551d9=0x22e3+0xeea+-0x31cd;_0x5551d9<_0x33cd10['length'];_0x5551d9++){const _0x43c57f=_0x33cd10[_0x5551d9];if(_0x43c57f[_0x2634ac]!==0x9d2+0x3b*0x38+-0x16ba*0x1||_0x43c57f[_0x2634ac+(-0xbc1+0x69f+0x523)]!==0xdb1+-0x11a4+0x3f3||_0x43c57f[_0x2634ac+(-0x56*-0x60+0x11f0+-0x322e)]!==0x1d85+-0x221a+0x495){_0x8bfdc8=!(-0x1b*-0xf3+-0x238c+0x9eb);break;}}_0x8bfdc8?(_0x2c2732['push'](_0x3087b1),_0x6293e8['push'](_0x2634ac/(-0x18d5+-0x23+0x18fb)),_0x3087b1++):_0x2c2732['push'](-0x1*0x1025+0x31*0x16+0xbef);}return _0x3087b1;}['_initTextu'+'reBased'](){const _0x226fd3=[],_0x1bc31d=[];for(let _0x2b08b5=0x51*-0x39+-0x2c3+0x14cc;_0x2b08b5<this['_targets']['length'];_0x2b08b5++){const _0x1ad592=this['_targets'][_0x2b08b5];_0x1ad592['options']['deltaPosit'+'ions']&&(_0x226fd3['push'](_0x1ad592['options']['deltaPosit'+'ions']),_0x1bc31d['push']({'target':_0x1ad592,'name':'texturePos'+'itions'})),_0x1ad592['options']['deltaNorma'+'ls']&&(_0x226fd3['push'](_0x1ad592['options']['deltaNorma'+'ls']),_0x1bc31d['push']({'target':_0x1ad592,'name':'textureNor'+'mals'}));}const _0x2df002=[],_0x38cca7=[],_0x51208e=this['_findSpars'+'eSet'](_0x226fd3,_0x2df002,_0x38cca7),_0xf2a143=this['device']['maxTexture'+'Size'];let _0x3277c0=Math['ceil'](Math['sqrt'](_0x51208e));_0x3277c0=Math['min'](_0x3277c0,_0xf2a143);const _0x5216d1=Math['ceil'](_0x51208e/_0x3277c0);if(_0x5216d1>_0xf2a143)return!(0x1c21+0x107a+-0x2c9a);this['morphTextu'+'reWidth']=_0x3277c0,this['morphTextu'+'reHeight']=_0x5216d1;let _0x2976f1=!(-0x1*-0xe0d+-0x2be*0x9+0xaa2),_0x28899c=0x9d*-0x23+0xfe*0x13+-0x20*-0x15;const _0x4f9394=$t['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x2976f1=!(0x3b5+0x12*-0x4b+0x191),_0x28899c=0x1315+0xfc9+-0x22da);const _0x71ba6f=[];for(let _0x4ac0ab=-0x2206+0x7*-0x98+0x262e;_0x4ac0ab<_0x226fd3['length'];_0x4ac0ab++)_0x71ba6f['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x4978b7=0xf8b+-0x2290+0x1305;_0x4978b7<_0x226fd3['length'];_0x4978b7++){const _0x3805ee=_0x226fd3[_0x4978b7],_0x2bae7b=_0x71ba6f[_0x4978b7],_0x2522ba=_0x2bae7b['lock']();if(_0x2976f1)for(let _0x505a9c=0x1*-0x63d+0x6*0x358+-0xdd3*0x1;_0x505a9c<_0x38cca7['length'];_0x505a9c++){const _0x2a2e0f=_0x38cca7[_0x505a9c]*(-0x2143+0x6bb+0x97*0x2d),_0xc6a3f6=_0x505a9c*_0x28899c+_0x28899c;_0x2522ba[_0xc6a3f6]=_0x4f9394(_0x3805ee[_0x2a2e0f]),_0x2522ba[_0xc6a3f6+(0x1867+0x14cc+-0x485*0xa)]=_0x4f9394(_0x3805ee[_0x2a2e0f+(-0x38*0xa7+-0x20a1+0x4e*0xe3)]),_0x2522ba[_0xc6a3f6+(0x5*0x6a1+-0x13ee+-0xd35)]=_0x4f9394(_0x3805ee[_0x2a2e0f+(0x3*0xeb+0x7*0x2dc+-0x16c3*0x1)]);}else for(let _0x13a1e9=-0xaa1+-0x1c21+-0xf2*-0x29;_0x13a1e9<_0x38cca7['length'];_0x13a1e9++){const _0xda3825=_0x38cca7[_0x13a1e9]*(-0x657+-0x10ac+-0x7*-0x34a),_0x1eadb4=_0x13a1e9*_0x28899c+_0x28899c;_0x2522ba[_0x1eadb4]=_0x3805ee[_0xda3825],_0x2522ba[_0x1eadb4+(0x789+0x591+-0xd19)]=_0x3805ee[_0xda3825+(0x23b5+0x24ec+0x2*-0x2450)],_0x2522ba[_0x1eadb4+(0x1c02+0x14c1+0x30c1*-0x1)]=_0x3805ee[_0xda3825+(0x100f*0x1+0xfb+0x1b4*-0xa)];}_0x2bae7b['unlock'](),_0x1bc31d[_0x4978b7]['target']['_setTextur'+'e'](_0x1bc31d[_0x4978b7]['name'],_0x2bae7b);}const _0x39463d=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(0x1f5b*0x1+-0x270f+0x7b4*0x1)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x39463d,_0x2df002['length']),_0x2df002['length'],{'data':new Uint32Array(_0x2df002)}),!(0xf03*0x1+0xdd3*0x1+-0x1cd6);}['destroy'](){var _0x1caf23;(_0x1caf23=this['vertexBuff'+'erIds'])==null||_0x1caf23['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x348f6e=-0x1c12+0x5db*0x4+-0x55*-0xe;_0x348f6e<this['_targets']['length'];_0x348f6e++)this['_targets'][_0x348f6e]['destroy']();this['_targets']['length']=0x24c4+0x189b+-0x1475*0x3;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0xc7a*-0x2+-0x248f+0x4*0x2e7),this['_morphNorm'+'als']=!(0xf91+-0x89d+-0x1*0x6f3);for(let _0x4c22cb=0x7a5*0x1+0x1*-0x2257+-0x2*-0xd59;_0x4c22cb<this['_targets']['length'];_0x4c22cb++){const _0x59b82c=this['_targets'][_0x4c22cb];_0x59b82c['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x231a+-0x1*-0x1389+0xf91)),_0x59b82c['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x1249*0x1+-0x1a3c+0x2c85));}}['_createTex'+'ture'](_0x549cb6,_0x221d63){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x221d63,'cubemap':!(-0x1650*0x1+-0x2e5*0x1+0x1936),'mipmaps':!(0x2f*0x49+-0x1*-0x85f+-0x15c5),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x549cb6});}}class Qc{constructor(_0x2a78d1){c(this,'used',!(-0xe08+0x5*0x587+-0xd9a)),(v['assert'](arguments['length']===0x8d4+0x1*-0x19df+0x2*0x886),this['options']=_0x2a78d1,this['_name']=_0x2a78d1['name'],this['_defaultWe'+'ight']=_0x2a78d1['defaultWei'+'ght']||0xf61+-0x2b*-0x2b+-0x1*0x169a,this['_aabb']=_0x2a78d1['aabb'],this['deltaPosit'+'ions']=_0x2a78d1['deltaPosit'+'ions']);}['destroy'](){var _0x26d648,_0x526a52;(_0x26d648=this['texturePos'+'itions'])==null||_0x26d648['destroy'](),this['texturePos'+'itions']=null,(_0x526a52=this['textureNor'+'mals'])==null||_0x526a52['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x10bb+-0x4a+0x1105*0x1);}['_setTextur'+'e'](_0x1d264f,_0x2f0197){this[_0x1d264f]=_0x2f0197;}}let si,v_=0x1fe5*0x1+0x966+-0x294a;const ie=0x8b*-0x3e+0x3*-0xc44+0x467a,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x18dc50){return _0x18dc50-Math['floor'](_0x18dc50);}function KM(_0x5e07e2){return Math['max'](Math['min'](_0x5e07e2,0x2cd+-0x26c3*-0x1+-0x298f),-0x245b+-0x1*-0x2363+-0x3e*-0x4);}function Hd(_0x5823dc,_0x3361fc){return _0x5823dc-_0x3361fc*Math['floor'](_0x5823dc/_0x3361fc);}function ZM(_0xa00552){let _0x2d2514=ia(_0xa00552),_0x12efb8=ia((-0xa07*0x2+-0x1a96+0x2fa3)*_0xa00552),_0x3f1acb=ia((-0x13*0x715+0x152e9*0x1+0x1*0x31a7)*_0xa00552),_0x4d244c=ia((-0xaa95*-0x1cf+0x10e2*-0xb802+-0x20cd554*-0xa)*_0xa00552);return _0x2d2514-=_0x12efb8/(-0xff4+0x5*-0x2ba+-0x1e95*-0x1),_0x12efb8-=_0x3f1acb/(-0x233*0xb+-0x6d6+0x2006),_0x3f1acb-=_0x4d244c/(-0x139f+0x1a*0xa7+0x3a8),_0x4d244c-=_0x4d244c/(0x3e5*0x7+-0x1555+-0x4ef),[_0x2d2514,_0x12efb8,_0x3f1acb,_0x4d244c];}function Nl(_0x43755d){let _0x5d51b1=ia(_0x43755d),_0x236614=ia((0x1f7*0x11+-0x5*-0x3e4+-0x33dc)*_0x43755d);return _0x5d51b1-=_0x236614/(0x28*-0xc0+0x35*-0x95+0x3dd8),_0x236614-=_0x236614/(-0x18*0x2c+-0x18b0+-0xd*-0x24b),[_0x5d51b1,_0x236614];}class QM{constructor(_0x2b5a2f){this['_emitter']=_0x2b5a2f;}['calcSpawnP'+'osition'](_0x188b53,_0x3980f4,_0x5c37c5,_0x59539f,_0x5535f8){const _0x50b3a8=this['_emitter'],_0x42d01e=Math['random'](),_0x1b2a5f=Math['random'](),_0x11420a=Math['random'](),_0x188ecc=Math['random']();if(_0x50b3a8['useCpu']&&(_0x188b53[_0x5535f8*ie+(0xae+0x2*0xf98+-0x1fde)+_0x50b3a8['numParticl'+'esPot']*(0x1*0x1abd+-0x277*-0xf+-0x3fb4)*ie]=_0x42d01e,_0x188b53[_0x5535f8*ie+(0x1d6f+-0x1c93+0x3*-0x49)+_0x50b3a8['numParticl'+'esPot']*(-0x171*0x3+0x1*-0x1be2+0x2037)*ie]=_0x1b2a5f,_0x188b53[_0x5535f8*ie+(0x2390*0x1+-0x25d8+0x24a)+_0x50b3a8['numParticl'+'esPot']*(0x890+0x6b8+-0xf46)*ie]=_0x11420a),ze['x']=_0x42d01e-(0x30*0x42+-0x12*0x209+0x10e*0x17+0.5),ze['y']=_0x1b2a5f-(-0xcde*-0x1+0x2ed+0x1*-0xfcb+0.5),ze['z']=_0x11420a-(0x1ae9+-0x1e84+0x47*0xd+0.5),_0x50b3a8['emitterSha'+'pe']===Vs){const _0x4edf64=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x4e0139=_0x4edf64+(0x1*0x1d6e+0x6bb+-0x1*0x2429+0.5-_0x4edf64)*_0x5c37c5[-0x1513+-0xdba+0x1*0x22cd],_0x2174cf=_0x4edf64+(0xf2*0x23+0x1032+-0x3148+0.5-_0x4edf64)*_0x5c37c5[0xc35+-0x2209*0x1+-0x747*-0x3],_0x1d60b4=_0x4edf64+(0x1d44+-0x1e2*-0x9+-0x41*0xb6+0.5-_0x4edf64)*_0x5c37c5[0x1*-0x1e36+-0x26*0x107+0x4542];ze['x']=_0x4e0139*(_0x4edf64===Math['abs'](ze['x'])?Math['sign'](ze['x']):(-0x7*0x11f+0x1*0x14ba+-0xcdf)*ze['x']),ze['y']=_0x2174cf*(_0x4edf64===Math['abs'](ze['y'])?Math['sign'](ze['y']):(-0x2160+-0xd63*-0x1+0x13ff*0x1)*ze['y']),ze['z']=_0x1d60b4*(_0x4edf64===Math['abs'](ze['z'])?Math['sign'](ze['z']):(0xf95*0x1+-0x103*0x1+-0x10*0xe9)*ze['z']),_0x50b3a8['localSpace']?ks['copy'](_0x3980f4['transformP'+'oint'](ze)):ks['copy'](_0x59539f)['add'](_0x3980f4['transformP'+'oint'](ze));}else{ze['normalize']();const _0x4fe5c4=_0x50b3a8['emitterRad'+'ius']===-0x2*-0x4ea+0x669*-0x1+0x5*-0xaf?-0x104e+0xdd3*-0x1+-0x3*-0xa0b:_0x50b3a8['emitterRad'+'iusInner']/_0x50b3a8['emitterRad'+'ius'],_0x42be5b=_0x188ecc*(-0x251a*0x1+0x25fc+0x5*-0x2d-_0x4fe5c4)+_0x4fe5c4;_0x50b3a8['localSpace']?ks['copy'](ze['mulScalar'](_0x42be5b*_0x50b3a8['emitterRad'+'ius'])):ks['copy'](_0x59539f)['add'](ze['mulScalar'](_0x42be5b*_0x50b3a8['emitterRad'+'ius']));}let _0x5711b5=-N['lerp'](_0x50b3a8['rate'],_0x50b3a8['rate2'],_0x42d01e)*_0x5535f8;if(_0x50b3a8['pack8']){const _0x30429f=(ks['x']-_0x50b3a8['worldBound'+'s']['center']['x'])/_0x50b3a8['worldBound'+'sSize']['x']+(-0x1f0*-0x1+-0x1f*0x31+0xb*0x5d+0.5),_0x233e1a=(ks['y']-_0x50b3a8['worldBound'+'s']['center']['y'])/_0x50b3a8['worldBound'+'sSize']['y']+(-0x29*-0xbf+-0xe1d+-0x107a+0.5),_0x4f0a70=(ks['z']-_0x50b3a8['worldBound'+'s']['center']['z'])/_0x50b3a8['worldBound'+'sSize']['z']+(-0x1b81+0x1ed5+0x1*-0x354+0.5);let _0x431258=N['lerp'](_0x50b3a8['startAngle']*N['DEG_TO_RAD'],_0x50b3a8['startAngle'+'2']*N['DEG_TO_RAD'],_0x42d01e);_0x431258=_0x431258%(Math['PI']*(-0x1ff9+-0x5ad*0x3+0x3102))/(Math['PI']*(-0x240+-0x1a74+0x1cb6));const _0x538c4e=Nl(_0x30429f);_0x188b53[_0x5535f8*ie]=_0x538c4e[0x8e*0x3d+0x19cd+-0x13e1*0x3],_0x188b53[_0x5535f8*ie+(-0x11e7*-0x2+-0x1*0x821+0x4*-0x6eb)]=_0x538c4e[0x1*-0x22d5+-0xa*0x232+0x38ca];const _0x2e56fb=Nl(_0x233e1a);_0x188b53[_0x5535f8*ie+(-0x1151+-0x244a+0x359d)]=_0x2e56fb[0x4c1*0x7+-0x160c+-0xb3b],_0x188b53[_0x5535f8*ie+(0x9*0x71+-0x2071+-0x1c7b*-0x1)]=_0x2e56fb[-0x19a0+-0x1*-0x1e0b+-0x46a];const _0x52223f=Nl(_0x4f0a70);_0x188b53[_0x5535f8*ie+(-0x9a9*-0x1+0x2454+-0x2dfd)+_0x50b3a8['numParticl'+'esPot']*ie]=_0x52223f[-0xa*0x86+-0x5ac+-0x1*-0xae8],_0x188b53[_0x5535f8*ie+(-0x1ff0+0x74*0x33+0x8d5)+_0x50b3a8['numParticl'+'esPot']*ie]=_0x52223f[-0x1897*-0x1+-0x2277+0x9e1];const _0x513608=Nl(_0x431258);_0x188b53[_0x5535f8*ie+(-0x336+0x2*-0xd8b+0x1e4e)+_0x50b3a8['numParticl'+'esPot']*ie]=_0x513608[-0x1813+-0x1*-0x2e1+0xa99*0x2],_0x188b53[_0x5535f8*ie+(-0x20e0+-0x409*0x1+-0x24ec*-0x1)+_0x50b3a8['numParticl'+'esPot']*ie]=_0x513608[0x1*-0xe6+0x122d+-0x86*0x21];const _0x56ecf9=-0x653*-0x3+0x1*-0x1bb+-0x1*0x113d;_0x188b53[_0x5535f8*ie+(0x1*-0x1d14+0x2306+0x1*-0x5ef)+_0x50b3a8['numParticl'+'esPot']*ie*(0xc33+0x1914+-0x2545)]=_0x56ecf9;const _0xb1009=Math['max'](_0x50b3a8['lifetime'],(_0x50b3a8['numParticl'+'es']-(0x2136*-0x1+-0x23fc+-0xf*-0x49d))*Math['max'](_0x50b3a8['rate'],_0x50b3a8['rate2'])),_0x315eef=_0x50b3a8['lifetime']+(0xca2+0x1ad9*0x1+-0x277a);_0x5711b5=(_0x5711b5+_0xb1009)/(_0xb1009+_0x315eef);const _0x4af211=ZM(_0x5711b5);_0x188b53[_0x5535f8*ie+(0x5e0+0x3*-0x707+0xf35)+_0x50b3a8['numParticl'+'esPot']*ie*(-0x2*0xa3+-0x20f0+0x2239)]=_0x4af211[0x18c3+0x2*-0x96+-0x1797],_0x188b53[_0x5535f8*ie+(-0x1e2b+0x75c*0x4+0x5e*0x2)+_0x50b3a8['numParticl'+'esPot']*ie*(-0x1*-0x10b2+-0x4cd*0x7+0x1*0x10ec)]=_0x4af211[-0x2*0x102f+-0x1*0xd9f+0x2dfe],_0x188b53[_0x5535f8*ie+(-0x1b01+0x8cd*-0x3+0x356a)+_0x50b3a8['numParticl'+'esPot']*ie*(-0x1*-0x34+0xd*-0x101+0xcdc)]=_0x4af211[0x1155+-0x96c+-0x7*0x121],_0x188b53[_0x5535f8*ie+(0x18c0+-0x1b*0xd+-0x175e)+_0x50b3a8['numParticl'+'esPot']*ie*(-0x22f2+-0x1bf6+0x3eeb)]=_0x4af211[0x1*0x1781+0x1*-0x144b+0x3*-0x111];}else _0x188b53[_0x5535f8*ie]=ks['x'],_0x188b53[_0x5535f8*ie+(-0x1f7*-0x1+0xc68+-0xe5e)]=ks['y'],_0x188b53[_0x5535f8*ie+(0x62*0x58+-0xd80+0x3f*-0x52)]=ks['z'],_0x188b53[_0x5535f8*ie+(-0x4*-0x255+0x1*0x14ed+-0x1e3e*0x1)]=N['lerp'](_0x50b3a8['startAngle']*N['DEG_TO_RAD'],_0x50b3a8['startAngle'+'2']*N['DEG_TO_RAD'],_0x42d01e),_0x188b53[_0x5535f8*ie+(-0x669*-0x2+-0x1476+-0x1*-0x7a7)+_0x50b3a8['numParticl'+'esPot']*ie]=_0x5711b5;}['update'](_0x6824db,_0x2d8ee2,_0x5925b9,_0x5b268f,_0x5198de,_0xeeaabc,_0x2b0d25,_0x170be3){let _0x37f13d,_0xf221fb,_0x1652d1;const _0x41ad45=this['_emitter'];if(_0x41ad45['meshInstan'+'ce']['node']){const _0x1b0f72=_0x41ad45['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x22ef9c=-0x2ec+-0x11*-0x1c3+-0x1b07;_0x22ef9c<0x1063+0x8*-0x119+-0x78f;_0x22ef9c++)Vd['data'][_0x22ef9c]=_0x1b0f72['data'][_0x22ef9c];Gd['copy'](Vd),Gd['invert'](),si=_0x41ad45['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0xeeaabc=_0x41ad45['meshInstan'+'ce']['node']===null||_0x41ad45['localSpace']?T['ZERO']:_0x41ad45['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x282591=_0x41ad45['camera']?_0x41ad45['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x2cebb7=_0x41ad45['useMesh']?0xbc4+-0x1*-0x26f6+-0x21*0x189:0x1*0x35e+0x743*0x1+-0xa92;let _0x3d7f2e,_0x1268ef,_0x471530,_0x5c209c,_0x128040,_0x21d936,_0x834b0e,_0x144c84,_0x293006;const _0x1b64a0=_0x41ad45['precision']-(0x371*-0x4+-0x276+0x103b*0x1);for(let _0xde399f=0x1*0x1b28+0x17f4+-0x331c;_0xde399f<_0x41ad45['numParticl'+'es'];_0xde399f++){const _0x3bc542=Math['floor'](_0x41ad45['vbCPU'][_0xde399f*_0x41ad45['numParticl'+'eVerts']*(_0x41ad45['useMesh']?0x1761+0x1dc8+-0x3523:0xa8f+-0xef8*-0x2+-0x287b*0x1)+(-0x22db*-0x1+0x1420+-0x36f8)]),_0x302875=_0x5925b9[_0x3bc542*ie+(0x2414+0x1140+-0xd55*0x4)+_0x41ad45['numParticl'+'esPot']*(-0x1791+-0x1*-0x1af9+-0xa*0x57)*ie];ps['x']=_0x302875,ps['y']=_0x5925b9[_0x3bc542*ie+(-0x1*-0x1251+0x9*0x331+0x1*-0x2f09)+_0x41ad45['numParticl'+'esPot']*(0x5*0x9f+0x72a+-0xa43)*ie],ps['z']=_0x5925b9[_0x3bc542*ie+(-0x14*0x1f+-0xc3e*-0x2+-0x160e)+_0x41ad45['numParticl'+'esPot']*(0x21d9+-0xfa*-0x1d+-0x1*0x3e29)*ie];const _0x2ddcb1=_0x41ad45['rate']+(_0x41ad45['rate2']-_0x41ad45['rate'])*_0x302875,_0x46074f=_0x41ad45['lifetime'];let _0x28b394=_0x5925b9[_0x3bc542*ie+(-0x1*0x18ba+0x1*0xf97+0x926)+_0x41ad45['numParticl'+'esPot']*ie]+_0x2b0d25;const _0x58e18f=KM(_0x28b394/_0x46074f);let _0x59367b=-0x936*0x4+0x14a1+0x1037,_0x52067c=0x1394+-0x1e2a+-0x2*-0x54b;const _0x33cb84=-0x11*0xe+-0x7cb+0x8b9;(_0x28b394-_0x2b0d25<=-0x2e*0x34+0x4*-0x23b+-0x1*-0x1244||_0x28b394>=_0x46074f)&&this['calcSpawnP'+'osition'](_0x5925b9,_0x5b268f,_0x5198de,_0xeeaabc,_0x3bc542);let _0x123f1f=_0x28b394>0x20*-0x11c+0xfd9+0xd*0x183&&_0x28b394<_0x46074f;_0x123f1f&&(_0x1652d1=_0x58e18f*_0x1b64a0,_0x3d7f2e=Math['floor'](_0x1652d1),_0x1268ef=Math['ceil'](_0x1652d1),_0x1652d1%=-0x3b7+-0x16e*-0x3+-0x92,_0x37f13d=_0x41ad45['qRotSpeed'][_0x3d7f2e],_0xf221fb=_0x41ad45['qRotSpeed'][_0x1268ef],_0x471530=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qRotSpeed2'][_0x3d7f2e],_0xf221fb=_0x41ad45['qRotSpeed2'][_0x1268ef],_0x5c209c=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qScale'][_0x3d7f2e],_0xf221fb=_0x41ad45['qScale'][_0x1268ef],_0x59367b=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qScale2'][_0x3d7f2e],_0xf221fb=_0x41ad45['qScale2'][_0x1268ef],_0x128040=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qAlpha'][_0x3d7f2e],_0xf221fb=_0x41ad45['qAlpha'][_0x1268ef],_0x21d936=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qAlpha2'][_0x3d7f2e],_0xf221fb=_0x41ad45['qAlpha2'][_0x1268ef],_0x834b0e=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qRadialSpe'+'ed'][_0x3d7f2e],_0xf221fb=_0x41ad45['qRadialSpe'+'ed'][_0x1268ef],_0x144c84=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qRadialSpe'+'ed2'][_0x3d7f2e],_0xf221fb=_0x41ad45['qRadialSpe'+'ed2'][_0x1268ef],_0x293006=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x144c84+=(_0x293006-_0x144c84)*(_0x302875*(0xc44+-0x2669+0x1a89)%(-0x9a7*0x3+-0x121f+0x2f15)),Rn['x']=_0x5925b9[_0x3bc542*ie],Rn['y']=_0x5925b9[_0x3bc542*ie+(0x978+0x1ea1*-0x1+0x152a)],Rn['z']=_0x5925b9[_0x3bc542*ie+(-0x12ac+-0x8b*0x45+0x3825)],_0x41ad45['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0xeeaabc),Ka['normalize']()['mulScalar'](_0x144c84),_0x3d7f2e*=-0x28+0x1*0x2309+0x22de*-0x1,_0x1268ef*=0x1*-0x1b4e+-0x608+0x2159,_0x37f13d=_0x41ad45['qLocalVelo'+'city'][_0x3d7f2e],_0xf221fb=_0x41ad45['qLocalVelo'+'city'][_0x1268ef],Ze['x']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qLocalVelo'+'city'][_0x3d7f2e+(0x1237*0x2+0x5c1+-0x2a2e)],_0xf221fb=_0x41ad45['qLocalVelo'+'city'][_0x1268ef+(0x408+-0x2121+0x1d1a)],Ze['y']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qLocalVelo'+'city'][_0x3d7f2e+(-0x1db+-0x1*0x1669+0x2*0xc23)],_0xf221fb=_0x41ad45['qLocalVelo'+'city'][_0x1268ef+(0x3*0x805+0x253b+-0x3d48*0x1)],Ze['z']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qLocalVelo'+'city2'][_0x3d7f2e],_0xf221fb=_0x41ad45['qLocalVelo'+'city2'][_0x1268ef],Dn['x']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qLocalVelo'+'city2'][_0x3d7f2e+(0x1*-0x35+-0x14bc*0x1+0x14f2)],_0xf221fb=_0x41ad45['qLocalVelo'+'city2'][_0x1268ef+(0x109b+-0xe*0x1cd+0x89c)],Dn['y']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qLocalVelo'+'city2'][_0x3d7f2e+(-0x2535+-0x1a56+-0xb*-0x5c7)],_0xf221fb=_0x41ad45['qLocalVelo'+'city2'][_0x1268ef+(-0x1984+-0x1c*-0x11c+-0x58a)],Dn['z']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qVelocity'][_0x3d7f2e],_0xf221fb=_0x41ad45['qVelocity'][_0x1268ef],Nt['x']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qVelocity'][_0x3d7f2e+(-0x16bf+-0x6c+-0xb96*-0x2)],_0xf221fb=_0x41ad45['qVelocity'][_0x1268ef+(-0x41*-0x62+-0xee4*0x1+-0x9fd)],Nt['y']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qVelocity'][_0x3d7f2e+(0xbe+-0x2a1*0x5+-0x161*-0x9)],_0xf221fb=_0x41ad45['qVelocity'][_0x1268ef+(0x1*-0xa67+0x267f+0x1*-0x1c16)],Nt['z']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qVelocity2'][_0x3d7f2e],_0xf221fb=_0x41ad45['qVelocity2'][_0x1268ef],In['x']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qVelocity2'][_0x3d7f2e+(-0x1a78+0x1*-0x587+0x2000)],_0xf221fb=_0x41ad45['qVelocity2'][_0x1268ef+(0x52*0x6d+0x1*0x835+0x1*-0x2b1e)],In['y']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,_0x37f13d=_0x41ad45['qVelocity2'][_0x3d7f2e+(0x25f8+-0xbef+-0x1a07)],_0xf221fb=_0x41ad45['qVelocity2'][_0x1268ef+(0x18ba*-0x1+-0x27b+0x1b37)],In['z']=_0x37f13d+(_0xf221fb-_0x37f13d)*_0x1652d1,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x41ad45['initialVel'+'ocity']>0x25*-0xf4+-0xa77+-0x1fd*-0x17&&(_0x41ad45['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](-0x1*0x223a+-0x41*0x53+0x1*0x374f)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x41ad45['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x41ad45['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0x471530+=(_0x5c209c-_0x471530)*ps['y'],_0x59367b=(_0x59367b+(_0x128040-_0x59367b)*(_0x302875*(0x364a+0x2328+-0x3262)%(-0x9f0+0x2e9*0x6+-0x785)))*v_,_0x52067c=(_0x834b0e-_0x21d936)*(_0x302875*(-0x236*0x1+0xef2+-0x8d4)%(-0x20f+-0x2295+-0xb1*-0x35)),_0x41ad45['meshInstan'+'ce']['node']&&(_0x41ad45['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x41ad45['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x2b0d25)),vt['copy'](b_),_0x5925b9[_0x3bc542*ie]=vt['x'],_0x5925b9[_0x3bc542*ie+(0x1*0x23f1+-0x1*-0x187+0x1*-0x2577)]=vt['y'],_0x5925b9[_0x3bc542*ie+(-0x1b06+0x1862+0x2a6)]=vt['z'],_0x5925b9[_0x3bc542*ie+(-0x1eac+-0x29*-0x2a+0x1*0x17f5)]+=_0x471530*_0x2b0d25,_0x41ad45['wrap']&&_0x41ad45['wrapBounds']&&(_0x41ad45['localSpace']||vt['sub'](_0xeeaabc),vt['x']=Hd(vt['x'],_0x41ad45['wrapBounds']['x'])-_0x41ad45['wrapBounds']['x']*(-0x2b*0x6+-0x16b5+-0x1d3*-0xd+0.5),vt['y']=Hd(vt['y'],_0x41ad45['wrapBounds']['y'])-_0x41ad45['wrapBounds']['y']*(-0x197f+0x1*-0x1f3f+0x38be+0.5),vt['z']=Hd(vt['z'],_0x41ad45['wrapBounds']['z'])-_0x41ad45['wrapBounds']['z']*(-0x11*0x97+-0x1040+-0x1a47*-0x1+0.5),_0x41ad45['localSpace']||vt['add'](_0xeeaabc)),_0x41ad45['sort']>0x11cb+-0x359*-0x1+0x3*-0x70c&&(_0x41ad45['sort']===-0x23ad+0x1f3a+-0x474*-0x1?(wr['copy'](vt)['sub'](_0x282591),_0x41ad45['particleDi'+'stance'][_0x3bc542]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x41ad45['sort']===0x20*0x11+0x337*-0x7+-0x1463*-0x1?_0x41ad45['particleDi'+'stance'][_0x3bc542]=_0x28b394:_0x41ad45['sort']===-0x2*-0x22f+0x5*0x118+0x1f7*-0x5&&(_0x41ad45['particleDi'+'stance'][_0x3bc542]=-_0x28b394))),_0x170be3?_0x28b394<-0x2*-0x964+0x7*0x36b+0x349*-0xd&&(_0x5925b9[_0x3bc542*ie+(-0x1b*-0xe4+0x864+0x1*-0x206d)+_0x41ad45['numParticl'+'esPot']*(0x1af2+-0x35*0xa+0x425*-0x6)*ie]=-(-0x2*-0x4ab+-0x510*0x6+-0x150b*-0x1)):(_0x28b394>=_0x46074f&&(_0x28b394-=Math['max'](_0x46074f,(_0x41ad45['numParticl'+'es']-(0x20f8+0x1f08+-0x3fff))*_0x2ddcb1),_0x5925b9[_0x3bc542*ie+(-0x427+-0x1919+0x1d43)+_0x41ad45['numParticl'+'esPot']*(0xe3b*0x1+-0xc5e+-0x1db)*ie]=_0x41ad45['loop']?0x575+-0xae5+0x571:-(-0x108d*0x1+-0x1*-0x1381+-0x1*0x2f3)),_0x28b394<-0x22a*0x11+0xc5*-0x2b+0x45e1&&_0x41ad45['loop']&&(_0x5925b9[_0x3bc542*ie+(-0x569*0x7+-0x1d*-0x27+0x293*0xd)+_0x41ad45['numParticl'+'esPot']*(-0x28a+0xb42+-0x8b6)*ie]=0x3*-0xc01+-0x1*0x8b7+0x2cbb)),_0x5925b9[_0x3bc542*ie+(0xc9a+-0x23ab*0x1+0x7*0x34c)+_0x41ad45['numParticl'+'esPot']*(0x2430+-0x15ce+0x2e0*-0x5)*ie]<-0x1b2a+-0x1a98+0x35c2&&(_0x123f1f=!(0x1abb+-0x4a*0x2+-0x1a26*0x1)),_0x5925b9[_0x3bc542*ie+(-0x86e+0x5ca+-0x2a7*-0x1)+_0x41ad45['numParticl'+'esPot']*ie]=_0x28b394;for(let _0x243d10=-0x155e+0xf31*0x2+-0x2*0x482;_0x243d10<_0x41ad45['numParticl'+'eVerts'];_0x243d10++){const _0x1cb131=(_0xde399f*_0x41ad45['numParticl'+'eVerts']+_0x243d10)*(_0x41ad45['useMesh']?-0x1551+0x197a+0x423*-0x1:0x61f*-0x2+-0x1*0x11c+0xd5e);let _0x540dab=_0x41ad45['vbCPU'][_0x1cb131],_0x35da5d=_0x41ad45['vbCPU'][_0x1cb131+(0x366+0x2*-0xc6f+0x17*0xef)],_0x3c3e9f=_0x41ad45['vbCPU'][_0x1cb131+(0xd2*-0x2b+0x2b4+-0x6*-0x56e)];_0x123f1f||(_0x540dab=_0x35da5d=_0x3c3e9f=0x9ea+0x22ef+0xef3*-0x3);const _0x2616ec=_0xde399f*_0x41ad45['numParticl'+'eVerts']*_0x2cebb7+_0x243d10*_0x2cebb7;_0x6824db[_0x2616ec]=vt['x'],_0x6824db[_0x2616ec+(0x41*-0x8b+-0x3b*0x33+0xa5*0x49)]=vt['y'],_0x6824db[_0x2616ec+(-0x25db+-0x258b+0x4b68)]=vt['z'],_0x6824db[_0x2616ec+(-0x1*0x2060+0x1a69*0x1+-0x6*-0xff)]=_0x58e18f,_0x6824db[_0x2616ec+(-0xba8+-0x16e6+0x96*0x3b)]=_0x41ad45['alignToMot'+'ion']?_0x33cb84:_0x5925b9[_0x3bc542*ie+(-0x2599+-0x23*0x11+0x27ef*0x1)],_0x6824db[_0x2616ec+(-0x2516+0x13*-0x86+0x2f0d)]=_0x59367b,_0x6824db[_0x2616ec+(0x532*-0x7+-0x1286+0x9*0x61a)]=_0x52067c,_0x6824db[_0x2616ec+(0x2ff+-0x2*-0xb03+-0x18fe)]=Bl['x'],_0x6824db[_0x2616ec+(-0xa3d+-0xb29*0x2+0x2097)]=_0x540dab,_0x6824db[_0x2616ec+(0x1*0xcf7+-0x14c8+0x7da)]=_0x35da5d,_0x6824db[_0x2616ec+(0x1a51*-0x1+-0x16a7+0x3102)]=_0x3c3e9f,_0x6824db[_0x2616ec+(-0x7*-0x41b+0x8*0x191+-0x6df*0x6)]=Bl['y'],_0x6824db[_0x2616ec+(-0x2ce+-0x13e+0x418)]=_0x3bc542,_0x6824db[_0x2616ec+(-0xb*0x3b+-0x234e+0x32*0xc2)]=Bl['z'],_0x6824db[_0x2616ec+(-0x13*-0x17+0x1cc7+-0x1e6e)]=_0x41ad45['vbCPU'][_0x1cb131+(0x5*0x726+0x9cd*-0x2+-0x1*0x1021)],_0x41ad45['useMesh']&&(_0x6824db[_0x2616ec+(-0x5ad+-0x21ba+-0x1*-0x2776)]=_0x41ad45['vbCPU'][_0x1cb131+(0x1468+0x687+-0x1aeb*0x1)],_0x6824db[_0x2616ec+(0x703+-0x3*-0x4bd+-0x152a)]=_0x41ad45['vbCPU'][_0x1cb131+(0xeac+0x18bc*-0x1+0xa15)]);}}if(_0x41ad45['sort']>Du&&_0x41ad45['camera']){const _0xc3d81d=_0x41ad45['useMesh']?0x21a8+-0x1b09+0x1*-0x699:0x976+-0x2036+-0x4*-0x5b1,_0x2d7d9c=_0x41ad45['particleDi'+'stance'];for(let _0x2f306a=0x8*0x464+-0x1eaa+-0x1*0x476;_0x2f306a<_0x41ad45['numParticl'+'es'];_0x2f306a++)_0x2d8ee2[_0x2f306a][0x2342+-0x93*0x3+-0x2189]=_0x2f306a,_0x2d8ee2[_0x2f306a][0x76b+0x172e+-0x1e98]=_0x2d7d9c[Math['floor'](_0x41ad45['vbCPU'][_0x2f306a*_0x41ad45['numParticl'+'eVerts']*_0xc3d81d+(0x23ee+-0x801*-0x2+-0x33ed)])];_0x41ad45['vbOld']['set'](_0x41ad45['vbCPU']),_0x2d8ee2['sort']((_0x2f2424,_0x13d6c2)=>_0x2f2424[-0x1139+-0x34e+0x1488]-_0x13d6c2[-0x5cc+0x1387*-0x1+-0x4*-0x655]);for(let _0x19387d=-0xd96+0x1115+0x1*-0x37f;_0x19387d<_0x41ad45['numParticl'+'es'];_0x19387d++){const _0x31cd2b=_0x2d8ee2[_0x19387d][-0x13bd+0x186b*-0x1+0x2*0x1614]*_0x41ad45['numParticl'+'eVerts']*_0xc3d81d,_0x3d2575=_0x19387d*_0x41ad45['numParticl'+'eVerts']*_0xc3d81d;for(let _0x2fb1e3=0x2218+0x78e*-0x1+-0x1a8a;_0x2fb1e3<_0x41ad45['numParticl'+'eVerts']*_0xc3d81d;_0x2fb1e3++)_0x41ad45['vbCPU'][_0x3d2575+_0x2fb1e3]=_0x41ad45['vbOld'][_0x31cd2b+_0x2fb1e3];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x2ecf13,_0x5bc323){this['_emitter']=_0x2ecf13,this['frameRando'+'mUniform']=new Float32Array(-0x2*-0x1253+0x1*-0xceb+-0x17b8),this['emitterPos'+'Uniform']=new Float32Array(0x1b1e+0x1e77+-0x3992),this['emitterSca'+'leUniform']=new Float32Array([0x77b+0x80*0x1+-0x3fd*0x2,-0x23fe+-0x19f3+0x3df2,0xef8*-0x2+0x4*-0x11+0x1e35]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x5ef+0x1743+-0x1d2f),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0xc1d+-0x1b98+-0x7bf*-0x2),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x233*-0x11+-0xfdb+0x1585*-0x1),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0x15fb*-0x1+0x1*-0xd01+0x22ff),this['constantPa'+'rticleTexI'+'N']=_0x5bc323['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x5bc323['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x5bc323['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x5bc323['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x5bc323['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x5bc323['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x5bc323['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x5bc323['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x5bc323['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x5bc323['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x5bc323['scope']['resolve']('delta'),this['constantRa'+'te']=_0x5bc323['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x5bc323['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x5bc323['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x5bc323['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x5bc323['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x5bc323['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x5bc323['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x5bc323['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x5bc323['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x5bc323['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x5bc323['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x5bc323['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x5bc323['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x5bc323['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x5bc323['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x5bc323['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x5bc323['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x5bc323['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x5bc323['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x5bc323['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x5bc323['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x5bc323['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x5bc323['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x5bc323['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x5bc323['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x5bc323['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x2324+-0xb8*-0xe+-0x4*-0x645]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x1215+-0x11*-0x179+-0x6f3]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x377*0xb+-0x161b+-0x1000]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0xdb5*-0x1+-0x1015+0x4f7*0x6]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1*0x1bcb+0x1059*-0x1+0x2c25]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x133*-0x17+-0x8e9*0x1+0x2480]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x3d*-0x3c+-0x1682+0x836]=Math['random'](),this['frameRando'+'mUniform'][-0xa88+-0xd*0xad+0x1352]=Math['random'](),this['frameRando'+'mUniform'][-0xcea+-0x2608+0x32f4]=Math['random']();}['update'](_0x3e6e55,_0x130328,_0x1f3a49,_0x28f0b3,_0x20df4c){G['pushGpuMar'+'ker'](_0x3e6e55,'ParticleGP'+'U');const _0x3e930b=this['_emitter'];_0x3e6e55['setBlendSt'+'ate'](_t['NOBLEND']),_0x3e6e55['setDepthSt'+'ate'](as['NODEPTH']),_0x3e6e55['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x377*-0x1+-0x1352*0x1+-0x16ca*-0x1)/_0x3e930b['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x3e930b['precision']),this['constantNu'+'mParticles']['setValue'](_0x3e930b['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x3e930b['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x3e930b['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x3e930b['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x3e930b['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x3e930b['internalTe'+'x3']);const _0x575c63=_0x3e930b['meshInstan'+'ce']['node'],_0x2dc4f2=_0x575c63===null?T['ONE']:_0x575c63['localScale'];if(_0x3e930b['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x13*0xe3+-0x5b7*0x5+-0x9e*-0x13]=_0x3e930b['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x3*0x832+0x1bf2+-0x71*0x77]=_0x3e930b['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x1*0x597+-0x8b9+0xe52]=_0x3e930b['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x1*-0x1bf1+0xa4*0x36+0x7*-0x8ef]=_0x3e930b['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0xe68+0x1*0x29b+-0x2*-0x5e7]=_0x3e930b['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x6c3*-0x1+-0x1b8b+0x2250]=_0x3e930b['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0xb5a9e4=_0x3e930b['maxVel']*Math['max'](Math['max'](_0x2dc4f2['x'],_0x2dc4f2['y']),_0x2dc4f2['z']);_0xb5a9e4=Math['max'](_0xb5a9e4,0x18f4+-0xad9*0x1+0x5f*-0x26),this['constantMa'+'xVel']['setValue'](_0xb5a9e4);}const _0x19d3c5=_0x575c63===null||_0x3e930b['localSpace']?T['ZERO']:_0x575c63['getPositio'+'n'](),_0x38e72c=_0x575c63===null?q['IDENTITY']:_0x575c63['getWorldTr'+'ansform']();_0x3e930b['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x130328),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x1f3a49)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x3e930b['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x3e930b['emitterRad'+'ius']===-0x1d56+-0x1345*-0x1+-0x3*-0x35b?0xb5b+0x9*0x2a1+-0x1*0x2304:_0x3e930b['emitterRad'+'iusInner']/_0x3e930b['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x3e930b['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x38e72c),A_['invertMat4'](_0x38e72c),this['emitterPos'+'Uniform'][0x11b3+0x157e+-0x2731]=_0x19d3c5['x'],this['emitterPos'+'Uniform'][0x5*0x2b1+0x13*0x20b+-0x3445]=_0x19d3c5['y'],this['emitterPos'+'Uniform'][0x1*-0x1a98+-0x15a6+0xc10*0x4]=_0x19d3c5['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x28f0b3),this['constantRa'+'te']['setValue'](_0x3e930b['rate']),this['constantRa'+'teDiv']['setValue'](_0x3e930b['rate2']-_0x3e930b['rate']),this['constantSt'+'artAngle']['setValue'](_0x3e930b['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x3e930b['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x3e930b['seed']),this['constantLi'+'fetime']['setValue'](_0x3e930b['lifetime']),this['emitterSca'+'leUniform'][-0x1cc2+-0x23*0xa1+0x32c5]=_0x2dc4f2['x'],this['emitterSca'+'leUniform'][0x20bc+-0x50e*0x4+0x1*-0xc83]=_0x2dc4f2['y'],this['emitterSca'+'leUniform'][0x594+-0x250e+0x1f7c]=_0x2dc4f2['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x3e930b['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x3e930b['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x3e930b['rotSpeedUM'+'ax'][-0x226d*-0x1+0x3*0x295+-0x2a2c]);let _0x569cf5=_0x3e930b['swapTex']?_0x3e930b['particleTe'+'xOUT']:_0x3e930b['particleTe'+'xIN'];_0x569cf5=_0x3e930b['beenReset']?_0x3e930b['particleTe'+'xStart']:_0x569cf5;const _0x5942ec=_0x3e930b['swapTex']?_0x3e930b['particleTe'+'xIN']:_0x3e930b['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x569cf5),dn(_0x3e6e55,_0x3e930b['swapTex']?_0x3e930b['rtParticle'+'TexIN']:_0x3e930b['rtParticle'+'TexOUT'],_0x20df4c?_0x3e930b['shaderPart'+'icleUpdate'+'OnStop']:_0x3e930b['loop']?_0x3e930b['shaderPart'+'icleUpdate'+'Respawn']:_0x3e930b['shaderPart'+'icleUpdate'+'NoRespawn']),_0x3e930b['material']['setParamet'+'er']('particleTe'+'xOUT',_0x569cf5),_0x3e930b['material']['setParamet'+'er']('particleTe'+'xIN',_0x5942ec),_0x3e930b['beenReset']=!(0xba6+-0xe9b*-0x1+0x46*-0x60),_0x3e930b['swapTex']=!_0x3e930b['swapTex'],_0x3e930b['prevWorldB'+'oundsSize']['copy'](_0x3e930b['worldBound'+'sSize']),_0x3e930b['prevWorldB'+'oundsCente'+'r']['copy'](_0x3e930b['worldBound'+'s']['center']),_0x3e930b['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x3e6e55);}}class e1 extends It{['generateKe'+'y'](_0x1dcd6e){let _0x4704de='particle_'+It['definesHas'+'h'](_0x1dcd6e['defines'])+'_';for(const _0x214285 in _0x1dcd6e)_0x1dcd6e['hasOwnProp'+'erty'](_0x214285)&&(_0x4704de+=_0x1dcd6e[_0x214285]);return _0x4704de;}['_animTex'](_0x512487){let _0x1c624a='';return _0x1c624a+=_0x512487['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x1c624a+=X['particleAn'+'imTexVS'],_0x1c624a;}['createShad'+'erDefiniti'+'on'](_0x169db1,_0x109a09){const _0x9cdc15='#define\x20PA'+'RTICLE_'+(_0x109a09['useCpu']?'CPU':'GPU')+'\x0a';let _0xdfe73a='#define\x20PA'+'RTICLE\x0a'+_0x9cdc15,_0x48ecb4='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x9cdc15;_0x109a09['mesh']&&(_0x48ecb4+='#define\x20US'+'E_MESH\x0a'),_0x109a09['localSpace']&&(_0x48ecb4+='#define\x20LO'+'CAL_SPACE\x0a'),_0x109a09['screenSpac'+'e']&&(_0x48ecb4+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x109a09['animTex']&&(_0x48ecb4+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x109a09['animTex']&&(_0x48ecb4+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x109a09['animTex']&&(_0x48ecb4+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x109a09['normal']===-0x47*-0x3c+0xecf+-0x3*0xa7b&&(_0x48ecb4+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x109a09['normal']===-0x317*0x2+-0xbc+0x6eb&&(_0x48ecb4+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x109a09['soft']&&(_0x48ecb4+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x86a74c=_0x109a09['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x109a09['useCpu']?(_0x109a09['soft']>0x2*-0x9b1+0x4e1*0x4+-0x22&&(_0x48ecb4+=X['screenDept'+'hPS']),_0x48ecb4+=X['particle_c'+'puVS'],_0x109a09['localSpace']&&(_0x48ecb4+=X['particle_l'+'ocalShiftV'+'S']),_0x109a09['animTex']&&(_0x48ecb4+=this['_animTex'](_0x109a09)),_0x109a09['alignToMot'+'ion']&&(_0x48ecb4+=X['particle_p'+'ointAlongV'+'S']),_0x48ecb4+=_0x109a09['mesh']?X['particle_m'+'eshVS']:_0x86a74c,_0x109a09['normal']===-0x2*-0x265+-0x251*-0xb+-0x1a*0x12a&&(_0x48ecb4+=X['particle_n'+'ormalVS']),_0x109a09['normal']===0x2ed*-0x2+-0x1db2+0x238e&&(_0x48ecb4+=X['particle_T'+'BNVS']),_0x109a09['stretch']>-0x1*-0xde1+-0x2a2*-0x5+-0x1b0b&&(_0x48ecb4+=X['particle_s'+'tretchVS']),_0x48ecb4+=X['particle_c'+'pu_endVS'],_0x109a09['soft']>0x11a6+0xbb+-0x1261&&(_0x48ecb4+=X['particle_s'+'oftVS'])):(_0x48ecb4+=X['particle_i'+'nitVS'],_0x48ecb4+=_0x109a09['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x109a09['soft']>0x1875+-0x13c8+-0x1*0x4ad&&(_0x48ecb4+=X['screenDept'+'hPS']),_0x48ecb4+=X['particleVS'],_0x109a09['localSpace']&&(_0x48ecb4+=X['particle_l'+'ocalShiftV'+'S']),_0x109a09['animTex']&&(_0x48ecb4+=this['_animTex'](_0x109a09)),_0x109a09['wrap']&&(_0x48ecb4+=X['particle_w'+'rapVS']),_0x109a09['alignToMot'+'ion']&&(_0x48ecb4+=X['particle_p'+'ointAlongV'+'S']),_0x48ecb4+=_0x109a09['mesh']?X['particle_m'+'eshVS']:_0x86a74c,_0x109a09['normal']===0x75*0x43+0x1f16*-0x1+0x78&&(_0x48ecb4+=X['particle_n'+'ormalVS']),_0x109a09['normal']===-0x14c0+-0x13cd+0x288f&&(_0x48ecb4+=X['particle_T'+'BNVS']),_0x109a09['stretch']>-0x269a+0x5db+0x20bf&&(_0x48ecb4+=X['particle_s'+'tretchVS']),_0x48ecb4+=X['particle_e'+'ndVS'],_0x109a09['soft']>0x1*-0x869+0x35*-0x59+0x1ad6&&(_0x48ecb4+=X['particle_s'+'oftVS'])),_0x48ecb4+='}\x0a',_0x109a09['normal']>-0x159b+-0x77d*0x4+-0xc5*-0x43&&(_0x109a09['normal']===0x1d43+-0x129+0x1*-0x1c19?_0xdfe73a+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x109a09['normal']===-0x1a0+0x10b7+0x3*-0x507&&(_0xdfe73a+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0xdfe73a+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x109a09['soft']&&(_0xdfe73a+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0xdfe73a+=X['decodePS'],_0xdfe73a+='#include\x20\x22'+'gammaPS\x22\x0a',_0xdfe73a+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0xdfe73a+='#include\x20\x22'+'fogPS\x22\x0a',_0x109a09['normal']===-0x4ab*-0x5+0x2306+0x1*-0x3a5b&&(_0xdfe73a+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x109a09['soft']>-0x111b*0x2+-0x1*-0x1312+-0x3*-0x50c&&(_0xdfe73a+=X['screenDept'+'hPS']),_0xdfe73a+=X['particlePS'],_0x109a09['soft']>-0xb9d+0x1c65+-0x10c8&&(_0xdfe73a+=X['particle_s'+'oftPS']),_0x109a09['normal']===0xd20+0xe89+0x6*-0x49c&&(_0xdfe73a+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x109a09['normal']===0x11*-0xbf+-0x186b*-0x1+-0xbba&&(_0xdfe73a+=X['particle_n'+'ormalMapPS']),_0x109a09['normal']>-0x1860+-0x1*0x21a4+0x3a04&&(_0xdfe73a+=_0x109a09['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x109a09['normal']>-0x22bb+0x18d*-0x9+0x30b0&&(_0xdfe73a+=X['particle_l'+'ightingPS']),_0x109a09['blend']===Kt?_0xdfe73a+=X['particle_b'+'lendNormal'+'PS']:_0x109a09['blend']===yp?_0xdfe73a+=X['particle_b'+'lendAddPS']:_0x109a09['blend']===xp&&(_0xdfe73a+=X['particle_b'+'lendMultip'+'lyPS']),_0xdfe73a+=X['particle_e'+'ndPS'];const _0x2992ed=new Map(Object['entries']({...X,..._0x109a09['chunks']}));return Mt['createDefi'+'nition'](_0x169db1,{'name':'ParticleSh'+'ader','vertexCode':_0x48ecb4,'fragmentCode':_0xdfe73a,'fragmentDefines':_0x109a09['defines'],'fragmentIncludes':_0x2992ed,'vertexDefines':_0x109a09['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x41918a){super(),c(this,'emitter',null),(this['emitter']=_0x41918a,v['assert'](_0x41918a));}['getShaderV'+'ariant'](_0x47c652){const {device:_0x5f1ba4,scene:_0x517136,cameraShaderParams:_0x43b7f5}=_0x47c652,{emitter:_0xef3b9f}=this,_0x45caea={'defines':Dp(this,_0x47c652),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0xef3b9f['lighting']?_0xef3b9f['normalMap']!==null?0x1c8b+0x1*0x4e7+-0x2170:-0x3*-0x7f1+-0x19df+0x20d*0x1:0x19*-0xa7+0x11cf+-0x180,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0x43b7f5==null?void(0x1434+0x2f*-0x3b+-0x95f):_0x43b7f5['shaderOutp'+'utGamma'])??sl,'toneMap':(_0x43b7f5==null?void(-0x2146+0x23b0*-0x1+0xb6*0x61):_0x43b7f5['toneMappin'+'g'])??Ap,'fog':_0x517136&&!this['emitter']['noFog']?_0x517136['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0xef3b9f['inTools']?!(0x12*0x131+0x1f8b+-0x4*0xd3f):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0x318c21=new Yc(_0x47c652['viewUnifor'+'mFormat'],_0x47c652['viewBindGr'+'oupFormat'],_0x47c652['vertexForm'+'at']),_0x5262f1=ka(_0x5f1ba4);return _0x5262f1['register']('particle',t1),_0x5262f1['getProgram']('particle',_0x45caea,_0x318c21,this['userId']);}}const E_=[[-(0x2*-0xcc7+-0x1115+0x2aa4),-(-0x2447+-0x3ba+0x2802)],[0x218f+-0x1749+-0xa45*0x1,-(-0xb36+-0x161*0x5+-0x13*-0xf4)],[0x23d3*0x1+-0x18c4+-0x236*0x5,-0x61*0x35+0x3be*-0x3+0x8*0x3ea],[-(0x1e30+-0xb6c+0x12c3*-0x1),-0x17*0x7f+0x1d89*-0x1+-0x3b9*-0xb]];function Qt(_0x3a54de,_0x1fa25f,_0x30d065,_0x1e2f14,_0x5f081a=Ke,_0x5a8732,_0x1bec9b){let _0x7f73c7=de;_0x1bec9b&&(_0x5f081a===Se||_0x5f081a===rs)&&(_0x7f73c7=st);const _0x15a360=new he(_0x3a54de,{'width':_0x1fa25f,'height':_0x30d065,'format':_0x5f081a,'cubemap':!(-0x67*-0x3d+0x529+-0x1db3*0x1),'mipmaps':!(-0x17af+0x1*0x19bb+-0x20b),'minFilter':_0x7f73c7,'magFilter':_0x7f73c7,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x49518d=_0x15a360['lock']();if(_0x5f081a===Se||_0x5f081a===rs){const _0x518dd5=new Uint8Array(_0x1e2f14['length']);for(let _0x4e7e84=0x203c+0x1250+-0x328c;_0x4e7e84<_0x1e2f14['length'];_0x4e7e84++)_0x518dd5[_0x4e7e84]=_0x1e2f14[_0x4e7e84]*_0x5a8732*(0x2ea*-0x8+-0x3*0x5b3+-0x5*-0x848);_0x1e2f14=_0x518dd5;}return _0x49518d['set'](_0x1e2f14),_0x15a360['unlock'](),_0x15a360;}function C_(_0x484353){return Math['max'](Math['min'](_0x484353,0x1b1*-0x2+0x1*-0x107+0xe2*0x5),-0x9d8+0x22dc+-0x1904);}const M_=new Cs([0x4dc+0x14fd+-0x19d9,0xc6c*0x3+-0x2b4*-0x7+0x74*-0x7c,0x9d*-0x31+0x418+0x19f6,0x1*-0x235f+-0xb5c+0x2ebb]),P_=new Cs([0x6da*-0x3+0x1*-0x215e+0x35ec,-0x78f+0x23b3+-0x1c23,-0x7c3*-0x3+-0x518+-0x1230,0x26ee+-0xc04+-0x1ae9]),R_=new jr([0x1b1a+-0x2050+-0x536*-0x1,-0x2*0xbac+-0x33f+-0x1*-0x1a97,-0x1153+0x19c0+0x7*-0x134,0x4a4*-0x1+-0x29*-0xb8+0x1c*-0xe3],[0x18a3+0x1*0xb51+-0x23f4,-0x859+-0x14*-0x171+0x6b*-0x31,-0xcab*0x2+0x1cec+0x83*-0x7,-0x766+-0x7*0x2f9+0x3*0x967],[-0x73*0x4a+0x1dab+-0x131*-0x3,-0x24*-0x112+-0x1f55+-0x1*0x733,0xa99+-0x32*0x86+-0x2*-0x7ca,-0x2f*0x5+0x128d+-0x11a2]),i1=new jr([-0x2603+0x1*-0x1032+-0x3635*-0x1,-0x7f*0x35+0xb9b+0x1*0xeb1,0x1b17+-0x2527+0xa11,-0xeb*-0x11+0x1806+-0x27a0],[0x2096+-0xe3c+-0x125a,-0x1205+0x1ab2+-0x4a*0x1e,-0x15c1+0x401+0x11c1,-0xf6f*-0x1+0x10cb+-0x2039*0x1],[0x7*-0x2bb+-0x88a*-0x4+-0xf0b,0x17*0x15+0x16ed+-0x845*0x3,0x1e4e+0x16a6+-0x34f3,-0x805*-0x1+0x11c7+-0x19cb]);let ii=0x10b6*0x1+-0x9c4+-0x6f0;const zl=-0x16b1*-0x1+0x1eb5+-0x2*0x1ab1,ri=new Float32Array(-0x9e9*-0x1+-0x6*0xf1+0x20*-0x22),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x1a203b,_0x37dc4c){fh[_0x1a203b]!==void(0x46a*-0x2+-0x3cd*0xa+-0xb*-0x442)&&fh[_0x1a203b]!==null?Hu[_0x1a203b]=fh[_0x1a203b]:Hu[_0x1a203b]=_0x37dc4c;}function O0(_0x255e26,_0x37da52,_0x676df3){return(_0x255e26*(0x1b38+-0xf27+-0xb12)<<-0x17f4+-0x4*-0x290+-0x4*-0x371|_0x37da52*(-0x2*-0x9ff+0x18a7+-0x2ba6)<<0x1*0x2b+0x990+0x9b3*-0x1|_0x676df3*(-0x1693+-0x61*-0x8+-0x16*-0xef))/(-0x2536+0x17b5+0xe*0xf7<<-0x26bb+0x20be+0x615);}function D_(_0xbed78c,_0x7f833c){const _0x474199=_0xbed78c['length']/(-0x1*-0x6a2+0x233c+0x1*-0x29db),_0x4e64ab=new Array(_0x474199*(-0x144*-0x5+0x127d*-0x1+0xc2d));for(let _0x44222d=-0x1ac9+0x1*0x145e+-0x1*-0x66b;_0x44222d<_0x474199;_0x44222d++)_0x4e64ab[_0x44222d*(-0x18ff*-0x1+-0x524*-0x6+-0x37d3)]=_0xbed78c[_0x44222d*(-0x1*0xf47+-0x1989+-0x5d5*-0x7)],_0x4e64ab[_0x44222d*(-0x1d8*0x11+0x37*0x83+0x337*0x1)+(0x2*-0x39e+0x7*-0x1+0x744*0x1)]=_0xbed78c[_0x44222d*(-0x1*-0x16fb+-0xa03+0x6b*-0x1f)+(0x235b+-0x19*0x105+-0x9dd)],_0x4e64ab[_0x44222d*(-0x1fd9*-0x1+-0x1863+0x1*-0x772)+(0x1*-0xc5d+-0x21f*0x5+-0x1*-0x16fa)]=_0xbed78c[_0x44222d*(-0x3fd*0x1+-0xa66+0xe66)+(-0x23da*-0x1+-0x14f6+-0x17d*0xa)],_0x4e64ab[_0x44222d*(-0xa*0x197+-0x1cd*0x1+0x11b7)+(0x47d*-0x4+0x1*-0x2681+0x3878)]=O0(_0x7f833c[_0x44222d*(-0xb37+-0x13a*0xd+-0x25*-0xbc)],_0x7f833c[_0x44222d*(-0x88*-0x1+-0x3*-0x607+-0x129a*0x1)+(-0x12*0x104+0x23*0xa6+-0x469)],_0x7f833c[_0x44222d*(-0xc7*0x25+0x1d37+-0x71)+(0x77d*-0x5+0x136c+0xd*0x163)]);return _0x4e64ab;}function r1(_0x57875a,_0x451692){const _0xd2f3f7=new Array(_0x451692['length']*(-0x4ee*-0x7+0x17*0x123+-0x3ca3));for(let _0x10f2ca=-0x1*0x14ad+-0x6*0x1fd+0x209b;_0x10f2ca<_0x451692['length'];_0x10f2ca++)_0xd2f3f7[_0x10f2ca*(0x1dd4+0xa28+-0x13fc*0x2)]=_0x57875a[_0x10f2ca*(0x219*-0x11+0x7*0x3b+0x220f)],_0xd2f3f7[_0x10f2ca*(0x23eb+0xf1b+-0x3302)+(-0x1*-0x1ebb+-0x1d01+0x15*-0x15)]=_0x57875a[_0x10f2ca*(0x18b4+0x14a1+-0x2d52)+(-0x2351*-0x1+-0x1750+-0x4*0x300)],_0xd2f3f7[_0x10f2ca*(0x12ea+0x23fb+-0x36e1)+(-0x35*-0x83+0xa0a*0x2+-0x2f31)]=_0x57875a[_0x10f2ca*(0x23d5*-0x1+0x22cc+0x10c*0x1)+(-0x3b*0x8b+0xa*-0x26e+0x3857)],_0xd2f3f7[_0x10f2ca*(0x16b1+0x1a8e+-0x313b)+(0x15*0xf3+0x1*-0x1bc5+0x29*0x31)]=_0x451692[_0x10f2ca];return _0xd2f3f7;}function n1(_0x5823c0,_0x3efd09,_0x247a23,_0xa4f30c,_0x58ee9a){const _0x2618ce=new Array(_0x5823c0['length']*(0x10f8+0xc44+-0x1d38));for(let _0xd3b2d1=-0x2019+0x1081+-0x7cc*-0x2;_0xd3b2d1<_0x5823c0['length'];_0xd3b2d1++)_0x2618ce[_0xd3b2d1*(0x20fc+0x17bd+-0x38b5)]=_0x5823c0[_0xd3b2d1],_0x2618ce[_0xd3b2d1*(-0x1c1*0x5+0x20b+0x2*0x35f)+(0x2209*0x1+0x2*-0xa27+-0xdba)]=_0x3efd09[_0xd3b2d1],_0x2618ce[_0xd3b2d1*(0x113a+0x12b9+0x1*-0x23ef)+(-0x2336+-0x1c56+-0x2*-0x1fc7)]=-0x1*0xda3+0x6ca+0x6d9,_0x2618ce[_0xd3b2d1*(-0xd0a+-0x1fe5+-0x25*-0x137)+(0x1*-0x1c03+0x13cb+0x83b)]=O0(_0x247a23[_0xd3b2d1],_0xa4f30c[_0xd3b2d1],_0x58ee9a[_0xd3b2d1]);return _0x2618ce;}function a1(_0x5691cd,_0x439e68){const _0x2be28b=new Array(_0x5691cd['length']*(-0xa7*0x34+-0x13*-0x102+0xeca));for(let _0x422537=-0xb1a*-0x1+-0x54*0x6d+0x1c3*0xe;_0x422537<_0x5691cd['length'];_0x422537++)_0x2be28b[_0x422537*(-0x3d6+-0x8ae*0x2+-0x3*-0x712)]=_0x5691cd[_0x422537],_0x2be28b[_0x422537*(-0x2185*0x1+0x1721+-0xa68*-0x1)+(-0x12b8*0x1+0xeb*0x1+0x1*0x11ce)]=_0x439e68[_0x422537],_0x2be28b[_0x422537*(-0x25fd+-0xab4+0x30b5)+(0xee*-0x13+0x19e8*-0x1+0x2b94*0x1)]=-0x146d+0x145e+-0x3*-0x5,_0x2be28b[_0x422537*(0x1*-0x23a7+-0x1*0xd3b+-0x30e6*-0x1)+(-0x2df+-0x1f42*0x1+0x2224)]=0x27d+-0x20f8+0x1*0x1e7b;return _0x2be28b;}function o1(_0x116f92){const _0x4d7868=Math['max'](_0x116f92['rate'],_0x116f92['rate2'])*_0x116f92['numParticl'+'es']+_0x116f92['lifetime'];return Date['now']()+_0x4d7868*(-0x17b3*0x1+0x14ea+0x6b1);}function l1(_0x39be3e,_0x39e439){const _0x33bc29=new Float32Array(_0x39be3e['length']);for(let _0x4699f2=0x1*0x122b+-0x1602+-0x3d7*-0x1;_0x4699f2<_0x39be3e['length'];_0x4699f2++)_0x33bc29[_0x4699f2]=_0x39be3e[_0x4699f2]-_0x39e439[_0x4699f2];return _0x33bc29;}function Fr(_0x4fe885,_0xa668d5){const _0xe24b2a=_0xa668d5['length'],_0x2748f8=_0x4fe885['length']/_0xe24b2a;for(let _0x516973=-0x1*0x24ce+0x2ff*0x6+0x12d4;_0x516973<_0x2748f8;_0x516973++)for(let _0x4436f8=-0x4ce+0xb8*0x19+-0xd2a;_0x4436f8<_0xe24b2a;_0x4436f8++){const _0x2f11de=Math['abs'](_0x4fe885[_0x516973*_0xe24b2a+_0x4436f8]);_0xa668d5[_0x4436f8]=Math['max'](_0xa668d5[_0x4436f8],_0x2f11de);}}function h1(_0x4a763a,_0x26cbd0){const _0x201cf5=_0x26cbd0['length'],_0x242b17=_0x4a763a['length']/_0x201cf5;for(let _0x1f23ab=0xd6*0xa+0x4c6+-0xd22;_0x1f23ab<_0x242b17;_0x1f23ab++)for(let _0x57717f=-0x1ff*0x3+0x1*-0x24ce+0x61d*0x7;_0x57717f<_0x201cf5;_0x57717f++)_0x4a763a[_0x1f23ab*_0x201cf5+_0x57717f]/=_0x26cbd0[_0x57717f]===-0x9e*-0x4+0x3ec+-0x664?-0x1*0x1e9a+-0x2d3*-0x6+0xda9:_0x26cbd0[_0x57717f],_0x4a763a[_0x1f23ab*_0x201cf5+_0x57717f]*=0x100+0x1e95*-0x1+0x1d95+0.5,_0x4a763a[_0x1f23ab*_0x201cf5+_0x57717f]+=0xd85*-0x1+0x1397+-0x25*0x2a+0.5;}function Ar(_0x25a5f8,_0x259d5c,_0x390b25){const _0x20d380=l1(_0x259d5c,_0x25a5f8);return Fr(_0x20d380,_0x390b25),h1(_0x20d380,_0x390b25),_0x20d380;}const c1=new Ot();class d1{constructor(_0x4d275f,_0x20f3ac){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x4d275f;const _0x46634b=_0x4d275f,_0x423fbc=-0x2d4*0x2+-0x1d22+0x29*0xda;this['precision']=_0x423fbc,this['_addTimeTi'+'me']=0x12d3+0xbf2+-0x1*0x1ec5,Hu=this,fh=_0x20f3ac,re('numParticl'+'es',-0xb*0xc1+0x10*-0x11f+-0x1a3c*-0x1),this['numParticl'+'es']>_0x4d275f['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x4d275f['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x4d275f['maxTexture'+'Size']),re('rate',-0x1*-0x2d1+-0x1a0e+0x173e),re('rate2',this['rate']),re('lifetime',-0x1df*-0x5+0x1837+-0x2160),re('emitterExt'+'ents',new T(0x1*-0x1039+0x8e1*-0x1+0x33*0x7e,0x59f+0x509+-0xaa8,-0xd79*0x1+-0x2*0x1066+-0x17*-0x203)),re('emitterExt'+'entsInner',new T(0x5e*0x69+-0x171f*-0x1+-0x3dad,0x1aa8+0x2*0x9c8+0x5c7*-0x8,-0x2*0xbb+0x15e2+0x146c*-0x1)),re('emitterRad'+'ius',0x3*-0x4ed+-0x3af*-0x3+-0x9f*-0x6),re('emitterRad'+'iusInner',-0x1*0x1958+-0x194+0x1aec),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',0x1*0x229d+-0x9f2*0x1+-0x18aa),re('wrap',!(-0xd*0x166+-0x13*0xb6+0x3d*0x85)),re('localSpace',!(0x802+-0x1*-0x1a91+0x3b*-0x96)),re('screenSpac'+'e',!(-0x1*-0xec3+-0x1*0x24bb+0x15f9)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(-0x1d8*-0xe+-0x13d*0xb+-0x1*0xc31)),re('preWarm',!(-0x1819+0x1b5*0x11+-0x4eb)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(-0x1999+0x8bb+0x10df*0x1)),re('halfLamber'+'t',!(-0xbdd+0x2280+-0x16a2)),re('intensity',-0x2*0x1005+-0x1*0x15f8+0x3603),re('stretch',-0x4*-0x419+0xce5+-0x1d49),re('alignToMot'+'ion',!(0x553+-0x17bd+0x29*0x73)),re('depthSofte'+'ning',0x146*0x1d+-0x1893+0xc5b*-0x1),re('mesh',null),re('particleNo'+'rmal',new T(-0x14ae+0x25*-0x1d+0x18df,0x765*0x1+-0x229c+0x1b38,-0x28f*-0xd+0xb0f*-0x3+-0x16)),re('orientatio'+'n',Uh),re('depthWrite',!(-0x2ae*-0xd+0x125*0x21+0x1*-0x489a)),re('noFog',!(0x1ad+-0x209a+0x1eee)),re('blendType',Kt),re('node',null),re('startAngle',0x237f+-0xb*-0x2c7+-0x4*0x1083),re('startAngle'+'2',this['startAngle']),re('animTilesX',0xb77+0x2393*0x1+-0x2f09),re('animTilesY',-0x604+0x8*-0x9a+0x3b*0x2f),re('animStartF'+'rame',-0x2119+-0xe90+0x2fa9),re('animNumFra'+'mes',0x1c22*0x1+0x26d4+-0x42f5),re('animNumAni'+'mations',0xbb+0x1*0xbab+-0xc65),re('animIndex',-0x9ea*0x1+-0x7*0x17e+0x145c),re('randomizeA'+'nimIndex',!(-0x13af*0x1+0x1105+-0x1*-0x2ab)),re('animSpeed',-0xb*0x370+-0x907+0x2ed8),re('animLoop',!(-0x217f+0x3e*-0xb+0x1*0x2429)),this['_gpuUpdate'+'r']=new JM(this,_0x46634b),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(-0xcbb+0x223a+0x7d*-0x2c),this['wrapBounds'+'Uniform']=new Float32Array(0x154b+0x23fe+0x2*-0x1ca3),this['emitterSca'+'leUniform']=new Float32Array([-0x1c2a+-0x21fa+-0x3e25*-0x1,-0x43c+-0xdc8+0x1205*0x1,0x1*0x16b+-0xbbe+0xa54*0x1]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x10f*-0x15+0x1bed+-0x3226),this['animParams']=new Float32Array(-0x9ee+0x1f49+-0x1557),this['animIndexP'+'arams']=new Float32Array(0x1*-0x11f6+-0x2*-0x939+-0x7a),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x2394+0x255*-0xf+-0x4c*0x2),this['useMesh']=!(0x1f25+-0xe03+0x102*-0x11),this['useCpu']=!_0x4d275f['supportsGp'+'uParticles'],this['pack8']=!(0x9dd+-0x1fb8+0x15db),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=0x2328+0x65f+0x2987*-0x1,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x1*0x1855+-0x190e+0x2f*0x10d,this['numParticl'+'eIndices']=0x4cf*0x5+0x1876+0x3081*-0x1,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x1*-0x8e9+0x778+-0x29*-0x9,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x267c*-0x1+-0x233c+-0x33f)/(-0x13*-0x209+0xbc0+-0x322f),this['maxSubStep'+'s']=-0x14e*0x8+0x25d2+-0x1b58,this['simTime']=0x5ba*-0x6+-0x12fa+0x3556,this['simTimeTot'+'al']=0x1*0x13bb+-0x508+-0x35*0x47,this['beenReset']=!(0xbb7*-0x1+-0x3e1*0x1+0xf99),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x20a543=new Float32Array(-0xd*-0x24f+0x4a2*-0x1+0xd*-0x1a5);for(let _0x30a56f=0x13f*-0x11+0xc0d*-0x1+0x213c;_0x30a56f<-0xb*0x293+-0x3*-0xa7b+-0x310;_0x30a56f++)for(let _0x50c9ca=-0x1*-0x1fb5+-0x5ad*0x5+-0x11c*0x3;_0x50c9ca<0x5*-0x3a1+0xe10+0x425;_0x50c9ca++){const _0x3e858a=_0x50c9ca+(0xd1b+-0x1274+0x2*0x2ad)-(0xcca+-0xafd*0x1+-0x1c5+0.5),_0x514546=_0x30a56f+(-0x49*-0x23+-0x180e+0xe14)-(0x22d+-0x1be6*-0x1+-0x1e0b+0.5),_0x786b71=C_(-0x61b+-0x1a3f+0x205b-C_(Math['sqrt'](_0x3e858a*_0x3e858a+_0x514546*_0x514546)/(-0xd*-0xf1+0x23b*-0x3+-0x57c))-(0x10fb+-0x10*-0x26b+-0x37ab+0.5)),_0x1b3afa=_0x30a56f*(-0xb5+0x1*-0x59e+0x663)+_0x50c9ca;_0x20a543[_0x1b3afa*(0xf6*0x14+0x1c6e+-0x17d1*0x2)]=0xc5e*-0x2+-0x1*-0x1da+0x16e3,_0x20a543[_0x1b3afa*(0x3*0x986+0x3cd+-0x205b)+(0x3*0x6ab+0xf60+-0x2360)]=-0x164c+-0x2245+0x3892*0x1,_0x20a543[_0x1b3afa*(-0x210f+0x11f1*0x2+-0x1*0x2cf)+(-0x1*0x18f3+-0x39d+0x1c92)]=0x942*0x3+0x20a8+0x1f3*-0x1f,_0x20a543[_0x1b3afa*(-0x1ab*0x3+0x874+-0x36f)+(-0x1299+0x903+0x999)]=_0x786b71;}const _0x1e9e53=Qt(this['graphicsDe'+'vice'],-0x1*-0xc7+0x9d*-0x1f+0x124c,-0x1c92+0x81*-0x27+0x3049,_0x20a543,rs,0x3*-0x455+0x151c+-0x81c,!(0x2*0xdf8+-0xb1f*-0x3+-0x3d4d));return _0x1e9e53['minFilter']=st,_0x1e9e53['magFilter']=st,_0x1e9e53;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0x3c3*-0x5+0x1c53+-0x983*0x1)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0x1a06+0x46a+0x159d)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x1bb+-0x10d0+0x128c)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x357+0xfc6+-0xc6e)),this['worldBound'+'sAdd']['x']+=-0x747+-0x8ee+-0x567*-0x3+0.5,this['worldBound'+'sAdd']['y']+=-0x4*-0x6ce+0xde8+-0x2920+0.5,this['worldBound'+'sAdd']['z']+=0x20d8+-0x1*0x256f+0x1*0x497+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x3d2070=!(0xbc9+-0x1b07+0xf3f);this['emitterSha'+'pe']===Vs?_0x3d2070=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x3d2070=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x3d2070&&this['calculateL'+'ocalBounds']();}const _0x38866c=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x38866c),this['worldBound'+'sTrail'][-0x12eb*0x1+0x6*0x283+-0x1*-0x3d9]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x3*0x3fb+-0xfb7*0x1+0x1ba9]['add'](this['worldBound'+'sNoTrail']);const _0x155a50=this['simTimeTot'+'al'];_0x155a50>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x251c+-0x1e88+-0x24*-0x1e1]['copy'](this['worldBound'+'sTrail'][-0x1017+-0xf49+-0x1d*-0x115]),this['worldBound'+'sTrail'][-0x46d*-0x2+0x5d9*-0x5+0x1464]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x155a50+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x8b+0x6a3+-0x72e]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x2ce+-0x3*-0x343+-0x33*0x23),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x38866c),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x38866c)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x7de*-0x1+-0x1e22+-0x1645*-0x1-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0xe82*0x1+0x3a8+0x3*0x39e]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0xb85*-0x3+0x4b5+0x1ddb]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x1423+0x2*0x125+0x11d9]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0xfe5+-0xb*-0x155+0x140),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x78+-0x1*-0x887+0x80f*-0x1,this['timeToSwit'+'chBounds']=0x134*0x1b+-0x35*0x97+-0x139);}['calculateL'+'ocalBounds'](){let _0x5e4bc9=Number['MAX_VALUE'],_0x40fe7a=Number['MAX_VALUE'],_0x5987d6=Number['MAX_VALUE'],_0x5d17f6=-Number['MAX_VALUE'],_0x3a1218=-Number['MAX_VALUE'],_0x38a298=-Number['MAX_VALUE'],_0x16ebfe=-0x234f+-0x123d+-0x4*-0xd63,_0x449036=0x53*0x3f+-0x57*-0xf+0x1986*-0x1;const _0x4dadf4=this['lifetime']/this['precision'],_0x169947=[this['qVelocity'],this['qVelocity2']],_0x3b1d3f=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x2d94a7=[-0xa98+-0x1*-0x227f+-0x17e7,-0x9bc+-0x4cd+-0x1*-0xe89],_0x7d1111=[0x123e+-0x1*0x11a7+-0x97,0x2039*-0x1+0x1*0x10c9+0x13*0xd0],_0x5f38c0=[-0x25e3*-0x1+0x1408+-0x39eb,-0x20*-0xac+-0x1468+0x1*-0x118],_0x16b24e=[-0xf51+-0x632*0x1+0x1*0x1583,-0x2655+-0x155*-0x4+0x4b7*0x7],_0x26be68=[-0x4*0x6a3+-0x1426+-0x116*-0x2b,-0x1ce9*-0x1+-0x92*0x35+0x151];let _0x104c8c,_0x4075e1,_0x5d2605;for(let _0x3bc4ea=-0x10*-0x6c+0xe5*0x1d+-0x20b1;_0x3bc4ea<this['precision']+(-0x231f+-0x1211*-0x1+0x110f);_0x3bc4ea++){const _0x5d4d40=Math['min'](_0x3bc4ea,this['precision']-(0x2*-0xb99+-0x20a1+0x12*0x31a));for(let _0x21a197=-0x2*0xb9d+0x35*0xb2+-0xda0;_0x21a197<-0x1e1*0x3+-0x83f*0x3+0x2*0xf31;_0x21a197++)_0x104c8c=_0x3b1d3f[_0x21a197][_0x5d4d40*(0x1eb*-0x1+0x116f+-0xf81)+(0x4*0x293+0x3*-0x2b3+-0x1*0x233)]*_0x4dadf4+_0x2d94a7[_0x21a197],_0x4075e1=_0x3b1d3f[_0x21a197][_0x5d4d40*(-0x1b21+-0x1997+0x34bb*0x1)+(-0x14*-0x13c+0xa77+0x199*-0x16)]*_0x4dadf4+_0x7d1111[_0x21a197],_0x5d2605=_0x3b1d3f[_0x21a197][_0x5d4d40*(-0x431+-0x9b2+-0x3*-0x4a2)+(0xdf8+0x43*0x41+-0x1ef9)]*_0x4dadf4+_0x5f38c0[_0x21a197],_0x5e4bc9=Math['min'](_0x104c8c,_0x5e4bc9),_0x40fe7a=Math['min'](_0x4075e1,_0x40fe7a),_0x5987d6=Math['min'](_0x5d2605,_0x5987d6),_0x5d17f6=Math['max'](_0x104c8c,_0x5d17f6),_0x3a1218=Math['max'](_0x4075e1,_0x3a1218),_0x38a298=Math['max'](_0x5d2605,_0x38a298),_0x2d94a7[_0x21a197]=_0x104c8c,_0x7d1111[_0x21a197]=_0x4075e1,_0x5f38c0[_0x21a197]=_0x5d2605;for(let _0x48dd3f=-0x1*0x2425+-0x1a3*-0x10+0x9f5;_0x48dd3f<-0x1*-0x1c83+-0x17b8+-0x4c9;_0x48dd3f++)_0x26be68[_0x48dd3f]+=_0x4dadf4*Math['sqrt'](_0x169947[_0x48dd3f][_0x5d4d40*(0x2524+0x10b1*-0x2+0x89*-0x7)+(0x1e46+-0x1*-0x10f3+-0x7*0x6bf)]*_0x169947[_0x48dd3f][_0x5d4d40*(-0x1e6f+0x152b+0x947*0x1)+(0xfd8+-0x49*-0x67+0x5*-0x90b)]+_0x169947[_0x48dd3f][_0x5d4d40*(0x3d*0x71+0x1fcb+-0x13*0x317)+(-0x599*0x1+0x19df+-0x1445)]*_0x169947[_0x48dd3f][_0x5d4d40*(0x1b30+-0x1eea*0x1+0x3bd)+(-0xe9a+-0x2*0xbad+0x25f5)]+_0x169947[_0x48dd3f][_0x5d4d40*(-0x21c7*-0x1+0x1*0x23d5+-0x4599)+(-0x1f+-0x1499+0x14ba)]*_0x169947[_0x48dd3f][_0x5d4d40*(-0x1a44+0x195*-0xb+-0x2*-0x15d7)+(0x193e+0x24d+-0x1b89)]);_0x16b24e[-0x1b9+0x28*-0xc9+0x2121]+=this['qRadialSpe'+'ed'][_0x5d4d40]*_0x4dadf4,_0x16b24e[0x2*-0x439+0x1*0x2631+-0x1dbe]+=this['qRadialSpe'+'ed2'][_0x5d4d40]*_0x4dadf4,_0x16ebfe=Math['max'](_0x16ebfe,Math['max'](Math['abs'](_0x16b24e[0x1*0x298+0xfbb*-0x1+0x13*0xb1]),Math['abs'](_0x16b24e[0x5dc+-0x2e3+-0x2f8]))),_0x449036=Math['max'](_0x449036,this['qScale'][_0x5d4d40]);}this['emitterSha'+'pe']===Vs?(_0x104c8c=this['emitterExt'+'ents']['x']*(-0x6*0x399+0x2494+0x1*-0xefe+0.5),_0x4075e1=this['emitterExt'+'ents']['y']*(-0x1116+-0x12fa+-0x482*-0x8+0.5),_0x5d2605=this['emitterExt'+'ents']['z']*(-0xd0+0x9b*-0x8+0x5a8+0.5)):(_0x104c8c=this['emitterRad'+'ius'],_0x4075e1=this['emitterRad'+'ius'],_0x5d2605=this['emitterRad'+'ius']);const _0x22e8c1=Math['max'](_0x26be68[-0x59*0x45+0x1ffc+-0x7ff],_0x26be68[-0x11a2+0x21ed+-0x8b*0x1e]);Ul['x']=_0x5e4bc9-_0x449036-_0x104c8c-_0x16ebfe-_0x22e8c1,Ul['y']=_0x40fe7a-_0x449036-_0x4075e1-_0x16ebfe-_0x22e8c1,Ul['z']=_0x5987d6-_0x449036-_0x5d2605-_0x16ebfe-_0x22e8c1,Vl['x']=_0x5d17f6+_0x449036+_0x104c8c+_0x16ebfe+_0x22e8c1,Vl['y']=_0x3a1218+_0x449036+_0x4075e1+_0x16ebfe+_0x22e8c1,Vl['z']=_0x38a298+_0x449036+_0x5d2605+_0x16ebfe+_0x22e8c1,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x2c1e89=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x2c1e89['maxVertexT'+'extures']<=-0x1375*-0x1+-0x448*0x7+0xa84||_0x2c1e89['fragmentUn'+'iformsCoun'+'t']<0x1*0x13aa+0xb05+-0x1e6f||_0x2c1e89['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x2c1e89['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?-0x1e29*-0x1+0x1c11*0x1+-0x3a36*0x1:-0x27*0x17+0x2*0x17b+0x8d,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x2393+0x5c+-0x70b*-0x5]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x863*-0x1+0xd5c+-0x15be]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x6*0x25c+-0x51*-0x43+-0x709),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x13aa35=0xe9a+-0x19*-0x19+-0x110b;_0x13aa35<this['numParticl'+'es'];_0x13aa35++)this['vbToSort'][_0x13aa35]=[0xa*0x355+-0x4*0x421+-0x10ce,-0x1cb2*0x1+-0x1*-0xceb+0xfc7];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x250b3f=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[0x13d4+-0x6cb+-0x2f*0x47]=this['emitterExt'+'ents']['x']!==-0x404+0x8*0x4dc+-0x22dc?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x776+-0x979*-0x1+-0x203,ri[0x35*0x40+-0x13bc+0x67d]=this['emitterExt'+'ents']['y']!==0x2340+0x1574+-0x38b4?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x9a3*0x2+0x19*-0x3b+0xd83*-0x1,ri[0x41e+0x1fff+-0x403*0x9]=this['emitterExt'+'ents']['z']!==-0x348*0xb+-0x2fd*-0x1+-0x3*-0xb09?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x1fcb+0x74*0x17+-0x2a37);for(let _0x3e8879=-0x1d42+0x1ca*0x13+-0x4bc;_0x3e8879<this['numParticl'+'es'];_0x3e8879++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x250b3f,_0x3e8879),this['useCpu']&&(this['particleTe'+'x'][_0x3e8879*zl+(-0x10f*-0xd+0x906+-0x48e*0x5)+this['numParticl'+'esPot']*(0x1f77+0x2494+0x4409*-0x1)*zl]=-0xf*0x4e+0x1fa5*-0x1+0x2438);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0xb481e7=-0x1995+0xdd*-0x25+0x25*0x18e;_0xb481e7<this['particleTe'+'xStart']['length'];_0xb481e7++)this['particleTe'+'xStart'][_0xb481e7]=this['particleTe'+'x'][_0xb481e7];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x2c1e89,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,-0x184b+-0x1*0xaa9+0x22f5,!(0x18e8+0x25d0+-0x3eb7)),this['particleTe'+'xOUT']=Qt(_0x2c1e89,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x6*0x522+-0x8cb*0x1+-0x1600,!(0x1a2+0x13*-0x5+-0x142)),this['particleTe'+'xStart']=Qt(_0x2c1e89,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,0x965+0x1*-0x19b9+-0x25*-0x71,!(0x208b+-0x3*-0x7a9+0x3785*-0x1))):(this['particleTe'+'xIN']=Qt(_0x2c1e89,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x2c1e89,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x2c1e89,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x2d9*-0x3+0x6bc*-0x5+0x1922)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x1*-0xedc+0xca8+-0x1b83)}),this['swapTex']=!(0xf*-0x270+0x1*-0xcc5+0x3156));const _0x47746a=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x18619e=_0x47746a+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x3a024f=_0x47746a+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x5410d3=_0x47746a+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x52b5b8='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x2c1e89,X['fullscreen'+'QuadVS'],_0x18619e,'ParticleUp'+'dateRespaw'+'n-'+_0x52b5b8),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x2c1e89,X['fullscreen'+'QuadVS'],_0x3a024f,'ParticleUp'+'dateNoResp'+'awn-'+_0x52b5b8),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x2c1e89,X['fullscreen'+'QuadVS'],_0x5410d3,'ParticleUp'+'dateStop-'+_0x52b5b8),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x17*0x15d+0x1184+0xddb,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x153d+-0xd0f+0x224c]['numIndices']:0x3b8+0x2*0x175+-0x4*0x1a7,this['_allocate'](this['numParticl'+'es']);const _0x417167=new Ie(_0x2c1e89);_0x417167['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x417167['indexBuffe'+'r'][-0x595*0x2+0x1ebe+-0x2*0x9ca]=this['indexBuffe'+'r'],_0x417167['primitive'][0x11dd+-0x3*0x955+0xa22]['type']=Ms,_0x417167['primitive'][0x24f7+0x80+0x17*-0x1a1]['base']=-0x2287+0x18ab+0x2*0x4ee,_0x417167['primitive'][-0x182b+-0x1*-0x11b7+0x674]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x417167['primitive'][-0x2569+0xc2c+0x193d]['indexed']=!(-0x2*0x1101+-0x2*-0x1b5+0x1e98),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x2ae484=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x13b3*0x1+0x7*0x274+0x24df*-0x1);this['meshInstan'+'ce']=new Le(_0x417167,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x1f7f+-0x186c+-0x1*-0x37ec),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x1bc4+-0x1076+0x2c3a),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0xd*0x197+-0x1*-0x628+-0x1ad2),this['meshInstan'+'ce']['visible']=_0x2ae484,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0xf53+0x184a*-0x1+-0x2fd*-0x3,!(-0x98f*0x4+0x1229+0x1414)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x1ad9*-0x1+0xb7*0x1b+-0x78d*-0x1&&(this['animTilesX']>-0x559+-0x1fc+0x756||this['animTilesY']>-0xc34+-0x1*0x12c7+-0xc*-0x295)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x5b659d=this['precision'],_0x21fead=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x5b659d),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x5b659d),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x5b659d,-0x157a+0x4e7+0x1093,-0x1d73+-0x112c*0x2+0x1544*0x3),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x5b659d),this['qScale']=this['scaleGraph']['quantize'](_0x5b659d),this['qAlpha']=this['alphaGraph']['quantize'](_0x5b659d),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x5b659d),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x5b659d),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x5b659d),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x5b659d,0x131f*0x1+-0x2382+0x5*0x347,-0x15da+0x1*-0x70b+-0x2*-0xe73),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x5b659d),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x5b659d),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x5b659d),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x5b659d);for(let _0xa17f83=0xc*0x227+0xb0*-0x2a+0x30c;_0xa17f83<_0x5b659d;_0xa17f83++)this['qRotSpeed'][_0xa17f83]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0xa17f83]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0x1*-0x13d+-0x1807+0x1947),this['velocityUM'+'ax']=new Float32Array(-0x121+0x1269+-0x1*0x1145),this['colorUMax']=new Float32Array(-0x1*0x81+0x22df+0x1*-0x225b),this['rotSpeedUM'+'ax']=[0x16a9+0x431*-0x9+0xf10*0x1],this['scaleUMax']=[-0x404*0x7+0x15ad+-0x9*-0xb7],this['alphaUMax']=[-0xf0e*0x2+0x2d*0xc7+-0x4df],this['radialSpee'+'dUMax']=[-0x2047+0xa5d+-0x21*-0xaa],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0xd2636d=[-0x21*-0x2+0x21c7*-0x1+0x1*0x2185,0x7*0x341+-0x5*0x41+0x1582*-0x1,-0x1*-0x76a+-0xfa5+0x83b];Fr(this['qVelocity'],_0xd2636d);const _0x37f513=[-0x2431+-0x6*0x527+0x1a3*0x29,-0x83f+-0x3*-0x3aa+0x1*-0x2bf,0x1*-0x57b+0x1d*-0xd3+-0x1d62*-0x1];Fr(this['qVelocity2'],_0x37f513);const _0x205bbd=[0x3f*0x32+-0x23ff*0x1+-0x1*-0x17b1,-0xfaf+-0x1942+-0x2f*-0xdf,0x1*0x17e2+-0x3*-0x199+-0x98f*0x3];Fr(this['qLocalVelo'+'city'],_0x205bbd);const _0x44d037=[0x11d1*0x1+-0xa47*0x3+-0x682*-0x2,-0xa0b+-0x22c1+0x2ccc,0x5*-0x15d+0x15*-0x1ac+0x29ed];Fr(this['qLocalVelo'+'city2'],_0x44d037);const _0x330a76=[0x33*-0x73+0x49*-0x21+0x15*0x18a];Fr(this['qRadialSpe'+'ed'],_0x330a76);const _0x1d4698=[-0x19ef+0x1*-0x1ef+-0xae*-0x29];Fr(this['qRadialSpe'+'ed2'],_0x1d4698);let _0x494b80=Math['max'](_0xd2636d[0x1e1e+-0x593+0x67*-0x3d],_0x37f513[0xf5f+-0x1748+-0x5*-0x195]);_0x494b80=Math['max'](_0x494b80,_0xd2636d[-0x635*0x3+-0xefa+0xfd*0x22]),_0x494b80=Math['max'](_0x494b80,_0x37f513[-0x1*0xafa+-0x1*0x2585+0xc20*0x4]),_0x494b80=Math['max'](_0x494b80,_0xd2636d[-0x15d*-0xc+-0x1070+0x16*0x1]),_0x494b80=Math['max'](_0x494b80,_0x37f513[0x21cf+-0x1fe7+-0x1e6]);let _0x2d1d0d=Math['max'](_0x205bbd[0x206f+-0x124*0x1b+-0x1a3],_0x44d037[-0x2095+-0x20c8*0x1+0x415d]);_0x2d1d0d=Math['max'](_0x2d1d0d,_0x205bbd[-0x1e7*-0x11+-0x7*-0x4+-0x2072]),_0x2d1d0d=Math['max'](_0x2d1d0d,_0x44d037[-0x15b*-0x13+0x1b43+0x3503*-0x1]),_0x2d1d0d=Math['max'](_0x2d1d0d,_0x205bbd[-0x2*0xb6a+-0x13f4+-0x2*-0x1565]),_0x2d1d0d=Math['max'](_0x2d1d0d,_0x44d037[0x203b+0x1da1*0x1+-0x3dda]);const _0xc81950=Math['max'](_0x330a76[-0x91+-0x1193+0x306*0x6],_0x1d4698[-0xda1+-0x9f*0x13+0x196e]);this['maxVel']=_0x494b80+_0x2d1d0d+_0xc81950;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x21fead,_0x5b659d,0x1087*-0x2+-0x32d*0x9+0x3da4,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x21fead,_0x5b659d,0x78c+0x4e4+-0xc6f*0x1,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x21fead,_0x5b659d,-0x719+0x12c2+-0xba8,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x21fead,_0x5b659d,0x1*0x6da+-0x1bcb+0x1*0x14f2,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x21fead,_0x5b659d,-0x1a12*0x1+0x2*-0xd7c+-0x350b*-0x1,r1(this['qColor'],this['qAlpha']),rs,0x4*0x226+0x7*0x51a+-0x2c4d,!(-0x396+-0x1c45*0x1+0x1fdb));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x216efa=new s1(this);return _0x216efa['name']='EmitterMat'+'erial:'+this['node']['name'],_0x216efa['cull']=mt,_0x216efa['alphaWrite']=!(0x1acc+0x1a7f+0x1aa5*-0x2),_0x216efa['blendType']=this['blendType'],_0x216efa['depthWrite']=this['depthWrite'],_0x216efa;}['resetMater'+'ial'](){const _0x287234=this['material'];_0x287234['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x287234['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x287234['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x287234['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x287234['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x287234['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x287234['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x287234['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x287234['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x287234['setParamet'+'er']('colorParam',this['colorParam']),_0x287234['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x287234['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x287234['setParamet'+'er']('lifetime',this['lifetime']),_0x287234['setParamet'+'er']('rate',this['rate']),_0x287234['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x287234['setParamet'+'er']('seed',this['seed']),_0x287234['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x1*-0x10f7+0x7bd*0x5+0x135*-0x12]),_0x287234['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x1b57+0x1c19+-0x3770]),_0x287234['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][0x14a5+0x24f2+0x17*-0x281]),_0x287234['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x287234['setParamet'+'er']('graphSampl'+'eSize',(-0x740+-0xfcd*-0x1+-0x88c)/this['precision']),_0x287234['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x16*-0x60+0xe97+-0x32b*0x2,0xa2b*-0x1+0xc9*-0x1+0xaf5,-0x1d07+-0x12df*0x1+0x2fe7])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x287234['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x287234['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x287234['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][-0x2*-0x554+0x12da+-0x1d82]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x26cb+-0x7*-0x23d+-0xbf*-0x1f]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0xbda*-0x1+-0x20c*-0x4+-0xa04*0x2]=this['wrapBounds']['z'],_0x287234['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0x1*0x15b6+0x655*-0x6+0x2*0x824&&_0x287234['setParamet'+'er']('softening',(0x19d7+0x1ff9+-0x1345*0x3)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0xa1*0x1+0x4bb*-0x7+0x8*0x41c))),this['stretch']>-0x249a+0x2561+-0xc7*0x1&&(_0x287234['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x1f08e1,_0x45bb3b;if(this['orientatio'+'n']===Uh)_0x1f08e1=new Float32Array([-0x42b*-0x1+0x208c+-0x24b6,0x64a+0x764+-0x6d7*0x2,-0x1*-0x1b65+0x1825+0x19c5*-0x2]),_0x45bb3b=new Float32Array([0x202e*-0x1+0x24b9+-0x48b,-0x1fd2+-0xc0*-0x2f+0x1*-0x36e,0xba5+0x1*-0x517+0x3*-0x22f]);else{let _0xdad413;this['orientatio'+'n']===Xb?_0xdad413=this['particleNo'+'rmal']['normalize']():_0xdad413=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x3c4e43=new T(0x28c*-0x4+-0xc23+0x2*0xb2a,-0x1555+-0x1*-0x248c+0x13*-0xcd,-0x7f*0x3d+-0x182+-0xa97*-0x3);Math['abs'](_0x3c4e43['dot'](_0xdad413))===0xb46*0x3+-0xa9*-0x1+-0x227a&&_0x3c4e43['set'](-0x1b95+0x4*0x351+0x2dd*0x5,-0x832+-0xf8+-0x11*-0x8a,0x264e+-0x1*-0x35b+-0x14d4*0x2);const _0x3beef0=new T()['cross'](_0xdad413,_0x3c4e43)['normalize']();_0x3c4e43['cross'](_0x3beef0,_0xdad413)['normalize'](),_0x1f08e1=new Float32Array([_0x3c4e43['x'],_0x3c4e43['y'],_0x3c4e43['z']]),_0x45bb3b=new Float32Array([_0x3beef0['x'],_0x3beef0['y'],_0x3beef0['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x1f08e1),this['material']['setParamet'+'er']('faceBinorm',_0x45bb3b);}['_allocate'](_0xb39ab3){const _0x92f1f4=_0xb39ab3*this['numParticl'+'eVerts'],_0x23d8d2=_0xb39ab3*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0xd11*-0x1+-0xdff+0xee)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x92f1f4){const _0x3704bc=[];this['useCpu']?_0x3704bc['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?-0x20b*-0x4+-0x1*0x13cf+-0x13*-0x9d:-0xb04+0x6fb+0xcf*0x5,'type':Ee}):(_0x3704bc['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x3704bc['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x4da0e5=new Et(this['graphicsDe'+'vice'],_0x3704bc);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x4da0e5,_0x92f1f4,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x23d8d2);const _0x5ebd87=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x3174f5,_0x4b4114,_0xbbfa50;if(this['useMesh']){_0x3174f5=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x4b4114=_0x3174f5['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x173dd4=-0x763*-0x2+-0x1fd+-0xcc9;_0x173dd4<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x173dd4++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x173dd4]['name']===ns){_0xbbfa50=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x173dd4]['offset']/(0x111+0x8f8*-0x2+0x10e3);break;}}for(let _0x547d12=0x7*0x4eb+-0xe96+-0x13d7;_0x547d12<_0x92f1f4;_0x547d12++){const _0x5ee6fa=Math['floor'](_0x547d12/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x3a970f=_0x547d12%this['numParticl'+'eVerts'];_0x5ebd87[_0x547d12*(0x173+-0x15f0+0x3b*0x59)]=_0x3174f5[_0x3a970f*_0x4b4114],_0x5ebd87[_0x547d12*(-0x5f*0x5e+0x8b1+0x1*0x1a37)+(0x1140*0x1+-0xc9*-0x1f+-0x14cb*0x2)]=_0x3174f5[_0x3a970f*_0x4b4114+(-0x4*0x3cd+0x26fd+-0x1*0x17c8)],_0x5ebd87[_0x547d12*(0x1*-0x60a+-0x1526+0x3*0x912)+(-0x3*-0x95b+-0x1c3*0x2+-0x1889)]=_0x3174f5[_0x3a970f*_0x4b4114+(0x295*-0xd+-0x24fe+0x4691)],_0x5ebd87[_0x547d12*(-0x1*0x1b09+-0xcc5*-0x1+0x3e*0x3b)+(-0x23b5+-0x17*0x13+0x256d)]=_0x5ee6fa,_0x5ebd87[_0x547d12*(0xa2a+0xebe+-0x41*0x62)+(-0x157d*-0x1+0x1f4a+0x1*-0x34c3)]=_0x3174f5[_0x3a970f*_0x4b4114+_0xbbfa50+(-0x1135*-0x1+-0x4*0x356+-0x3dd*0x1)],_0x5ebd87[_0x547d12*(0x1e49+0x5*-0x7a0+-0xb*-0xb7)+(-0xb1f+0x11dd+-0x6b9)]=-0xfe0+-0x53*-0x43+-0x5d8-_0x3174f5[_0x3a970f*_0x4b4114+_0xbbfa50+(0x252*-0x3+0x2001+-0x190a)];}else{const _0x59c97d=_0x547d12%(0x1773+0x1f*-0x47+-0xed6);_0x5ebd87[_0x547d12*(0xf53+0x1f99+-0x2ee8)]=E_[_0x59c97d][0xed*0x16+0x1e8d+-0x32eb],_0x5ebd87[_0x547d12*(-0x249d+-0xb*-0x2a5+-0xa*-0xc1)+(-0xb*-0x92+-0x1fd9+-0x665*-0x4)]=E_[_0x59c97d][-0x107b*0x1+-0x10d8+0x2154],_0x5ebd87[_0x547d12*(-0x1c75+-0x4fb+0x2174)+(-0x1*0x23c4+-0x1*-0x241a+0xc*-0x7)]=-0x98e*-0x1+-0xc*0x213+0xf56,_0x5ebd87[_0x547d12*(-0x247a+-0xe0f+0x328d*0x1)+(-0x1e83+-0xb*-0x295+-0xb5*-0x3)]=_0x5ee6fa;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x5ebd87),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x4ebce8=0x84*0x33+0x1*0x15db+-0x3027;const _0x1a6b76=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x4e9fe4=this['mesh']['indexBuffe'+'r'][-0x4f3*0x7+-0x26e0+0x4985];_0x3174f5=new Lh[_0x4e9fe4['format']](_0x4e9fe4['lock']());}for(let _0x12ac5c=0x2668+-0x6*-0x3c6+0xf43*-0x4;_0x12ac5c<_0xb39ab3;_0x12ac5c++)if(this['useMesh']){for(let _0x36e040=0x3d+-0x17*0x18f+0x239c;_0x36e040<this['numParticl'+'eIndices'];_0x36e040++)_0x1a6b76[_0x12ac5c*this['numParticl'+'eIndices']+_0x36e040]=_0x3174f5[_0x36e040]+_0x12ac5c*this['numParticl'+'eVerts'];}else{const _0x2fc3f2=_0x12ac5c*(-0x1f38+-0x7b5*0x5+0x45c5);_0x1a6b76[_0x4ebce8++]=_0x2fc3f2,_0x1a6b76[_0x4ebce8++]=_0x2fc3f2+(-0xae5+0xdaa*0x1+-0x2*0x162),_0x1a6b76[_0x4ebce8++]=_0x2fc3f2+(0x1*-0x14e5+-0x89e+0x1d85),_0x1a6b76[_0x4ebce8++]=_0x2fc3f2,_0x1a6b76[_0x4ebce8++]=_0x2fc3f2+(0x7b1+-0x1*-0x176f+-0x1f1e),_0x1a6b76[_0x4ebce8++]=_0x2fc3f2+(0xc97+0x1d*-0x8d+0x365);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x1a02*0x1+0x601+-0x2003]['unlock']();}}['reset'](){if(this['beenReset']=!(0x15cb*0x1+-0x12ca+-0x1*0x301),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0xea14df=0x8e0*-0x4+-0xfd8+0xf8*0x35;_0xea14df<this['particleTe'+'xStart']['length'];_0xea14df++)this['particleTe'+'x'][_0xea14df]=this['particleTe'+'xStart'][_0xea14df];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x5a0427=this['loop'];this['loop']=!(0x1*0x16a5+-0x1f84+0x8df),this['addTime'](-0x7*-0x4ef+0x111*0x20+-0x44a9,!(0x8cb+-0x67b+-0x3*0xc5)),this['loop']=_0x5a0427,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x1d4973){const _0x3a55e8=_0x1d4973/this['lifetime'],_0x441518=Math['min'](Math['floor'](_0x3a55e8*this['precision']),this['precision']),_0x37fd01=_0x1d4973/_0x441518;for(let _0x17ba81=0x2*-0xe24+-0x1620+-0xc9a*-0x4;_0x17ba81<_0x441518;_0x17ba81++)this['addTime'](_0x37fd01,!(-0x24f6+0xb*0x83+0x1f56));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x157f3f,_0x393e72){const _0xbd69db=this['graphicsDe'+'vice'],_0x1cdbd8=ne();if(this['simTimeTot'+'al']+=_0x157f3f,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x986ffc=this['animTilesP'+'arams'];_0x986ffc[-0x17e+0x1d57+0x1*-0x1bd9]=(-0x3f*-0x31+-0xade+-0x130)/this['animTilesX'],_0x986ffc[0x3a*0x20+0x43e*-0x9+-0x1*-0x1eef]=(0x2364+0x1274+0x4d*-0xb3)/this['animTilesY'];const _0x518fa9=this['animParams'];_0x518fa9[0x12fe+0x1*0x2561+-0x385f*0x1]=this['animStartF'+'rame'],_0x518fa9[-0x540+0x2*-0x263+0x1*0xa07]=this['animNumFra'+'mes']*this['animSpeed'],_0x518fa9[-0x6f1*0x4+0x5*-0xfe+0x82f*0x4]=this['animNumFra'+'mes']-(-0x2240+-0x23fc+0x463d),_0x518fa9[-0xf8d*-0x2+-0x12*0x112+-0x3f1*0x3]=this['animNumAni'+'mations']-(0xd*0x7b+0x1aea*-0x1+0xc*0x1b9);const _0xcea8c7=this['animIndexP'+'arams'];_0xcea8c7[-0x2508+0x928+0x1be0]=this['animIndex'],_0xcea8c7[0x78c+-0x1*0x2082+-0xb*-0x245]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[-0x1039+0x404+0xc35]=this['emitterExt'+'ents']['x']!==0x3*-0xc34+-0x1ac0+0xcac*0x5?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x540*0x3+-0x133*0x4+0x148c,ri[-0x161*-0xa+0x24e7+0x32b0*-0x1]=this['emitterExt'+'ents']['y']!==0x399*0x4+-0x25e1+0x7*0x35b?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x3*-0x479+0x3*0x209+0x750,ri[-0x1ceb*0x1+0x18ea+-0x1*-0x403]=this['emitterExt'+'ents']['z']!==-0x8e*-0x2+0x9f4+0xc*-0xec?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x12f5+0x1670*-0x1+0x2965*0x1,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x13d2dd;const _0x259161=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x1f79+0x1*0x2161+-0x6*0xacf]=_0x259161['x'],this['emitterSca'+'leUniform'][0x18f0+-0x9ee*-0x1+0x253*-0xf]=_0x259161['y'],this['emitterSca'+'leUniform'][0x44*-0x45+0x129*0xb+0x1*0x593]=_0x259161['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x13d2dd=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x4e2+0x2039+-0x1b57]=_0x13d2dd['x'],this['emitterPos'+'Uniform'][0x4c1*0x7+0x1*0x26e5+-0x2e3*0x19]=_0x13d2dd['y'],this['emitterPos'+'Uniform'][0x149a+0x2569+0x3a01*-0x1]=_0x13d2dd['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0xbd69db,Tr,ri,_0x157f3f,_0x393e72);else{const _0x25e1d1=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x25e1d1,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x13d2dd,_0x157f3f,_0x393e72);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(-0x1e49+-0x1*-0x1c03+0x247)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0x1cdbd8;}['_destroyRe'+'sources'](){var _0x275e8e,_0x5e903a,_0x14da5f,_0x5b8927,_0x53ae3e,_0x12056a,_0x2aa1a2,_0x2a9631,_0xcb8b10,_0x42fde3,_0x4ad9f3,_0x50848d;(_0x275e8e=this['particleTe'+'xIN'])==null||_0x275e8e['destroy'](),this['particleTe'+'xIN']=null,(_0x5e903a=this['particleTe'+'xOUT'])==null||_0x5e903a['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x14da5f=this['rtParticle'+'TexIN'])==null||_0x14da5f['destroy'](),this['rtParticle'+'TexIN']=null,(_0x5b8927=this['rtParticle'+'TexOUT'])==null||_0x5b8927['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x53ae3e=this['internalTe'+'x0'])==null||_0x53ae3e['destroy'](),this['internalTe'+'x0']=null,(_0x12056a=this['internalTe'+'x1'])==null||_0x12056a['destroy'](),this['internalTe'+'x1']=null,(_0x2aa1a2=this['internalTe'+'x2'])==null||_0x2aa1a2['destroy'](),this['internalTe'+'x2']=null,(_0x2a9631=this['internalTe'+'x3'])==null||_0x2a9631['destroy'](),this['internalTe'+'x3']=null,(_0xcb8b10=this['colorParam'])==null||_0xcb8b10['destroy'](),this['colorParam']=null,(_0x42fde3=this['vertexBuff'+'er'])==null||_0x42fde3['destroy'](),this['vertexBuff'+'er']=void(0x17e9+-0x233*-0x1+-0x6*0x45a),(_0x4ad9f3=this['indexBuffe'+'r'])==null||_0x4ad9f3['destroy'](),this['indexBuffe'+'r']=void(-0x1*-0xdc2+0xe43+0x1c05*-0x1),(_0x50848d=this['material'])==null||_0x50848d['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends It{['generateKe'+'y'](_0x28b140){const _0x54a96d=_0x28b140['shaderDesc'],_0x8cc116=_0x54a96d['vertexCode']?hn(_0x54a96d['vertexCode']):-0xa48+-0x31a+-0x1*-0xd62,_0x4ed92a=_0x54a96d['fragmentCo'+'de']?hn(_0x54a96d['fragmentCo'+'de']):0x2*0x677+-0x1ca6+0xfb8,_0x2c7441=It['definesHas'+'h'](_0x28b140['defines']);let _0x5211fd=_0x54a96d['uniqueName']+'_'+_0x8cc116+'_'+_0x4ed92a+'_'+_0x2c7441;return _0x28b140['skin']&&(_0x5211fd+='_skin'),_0x28b140['useInstanc'+'ing']&&(_0x5211fd+='_inst'),_0x28b140['useMorphPo'+'sition']&&(_0x5211fd+='_morphp'),_0x28b140['useMorphNo'+'rmal']&&(_0x5211fd+='_morphn'),_0x28b140['useMorphTe'+'xtureBased'+'Int']&&(_0x5211fd+='_morphi'),_0x5211fd;}['createAttr'+'ibutesDefi'+'nition'](_0x2b697f,_0x472d31){const _0x5bdc70=_0x472d31['shaderDesc']['attributes'],_0x1e2067=_0x5bdc70?{..._0x5bdc70}:void(0x2*0xc31+-0xb14+-0xd4e);_0x472d31['skin']&&(_0x1e2067['vertex_bon'+'eWeights']=Ys,_0x1e2067['vertex_bon'+'eIndices']=qt),(_0x472d31['useMorphPo'+'sition']||_0x472d31['useMorphNo'+'rmal'])&&(_0x1e2067['morph_vert'+'ex_id']=ya),_0x2b697f['attributes']=_0x1e2067;}['createVert'+'exDefiniti'+'on'](_0x39da2d,_0x407135,_0x51b346){const _0x2b1b8a=_0x407135['shaderDesc'];if(_0x39da2d['shaderLang'+'uage']===Ph)_0x39da2d['vertexCode']=_0x2b1b8a['vertexCode'];else{const _0x555919=new Map(_0x51b346),_0x3a8b17=new Map(_0x407135['defines']);_0x555919['set']('transformI'+'nstancingV'+'S',''),_0x407135['skin']&&_0x3a8b17['set']('SKIN',!(-0x1057+-0xb2*0x20+0x2697)),_0x407135['useInstanc'+'ing']&&_0x3a8b17['set']('INSTANCING',!(0x160*-0x8+-0x2b7+-0x1*-0xdb7)),(_0x407135['useMorphPo'+'sition']||_0x407135['useMorphNo'+'rmal'])&&(_0x3a8b17['set']('MORPHING',!(0x19d0+-0xc*-0x1f3+-0x3134)),_0x407135['useMorphTe'+'xtureBased'+'Int']&&_0x3a8b17['set']('MORPHING_I'+'NT',!(0x912*0x1+-0x7*-0x241+-0x18d9)),_0x407135['useMorphPo'+'sition']&&_0x3a8b17['set']('MORPHING_P'+'OSITION',!(-0x1836+-0x1767+-0x3*-0xfdf)),_0x407135['useMorphNo'+'rmal']&&_0x3a8b17['set']('MORPHING_N'+'ORMAL',!(0x22c4+-0x17af+-0x1*0xb15))),_0x39da2d['vertexCode']=_0x2b1b8a['vertexCode'],_0x39da2d['vertexIncl'+'udes']=_0x555919,_0x39da2d['vertexDefi'+'nes']=_0x3a8b17;}}['createFrag'+'mentDefini'+'tion'](_0x11b05a,_0x4540e5,_0x1ce31c){const _0x4a1c5b=_0x4540e5['shaderDesc'];if(_0x11b05a['shaderLang'+'uage']===Ph)_0x11b05a['fragmentCo'+'de']=_0x4a1c5b['fragmentCo'+'de'];else{const _0x47e98c=new Map(_0x1ce31c),_0x58a4bd=new Map(_0x4540e5['defines']);_0x11b05a['fragmentCo'+'de']=_0x4a1c5b['fragmentCo'+'de'],_0x11b05a['fragmentIn'+'cludes']=_0x47e98c,_0x11b05a['fragmentDe'+'fines']=_0x58a4bd;}}['createShad'+'erDefiniti'+'on'](_0x2e2150,_0x69c64){const _0x13b9fc=_0x69c64['shaderDesc'],_0x45e28a={'name':'ShaderMate'+'rial-'+_0x13b9fc['uniqueName'],'shaderLanguage':_0x13b9fc['shaderLang'+'uage'],'fragmentOutputTypes':_0x13b9fc['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x13b9fc['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x13b9fc['meshBindGr'+'oupFormat']},_0x1475e0=new Map(Object['entries']({...X,..._0x69c64['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x45e28a,_0x69c64),this['createVert'+'exDefiniti'+'on'](_0x45e28a,_0x69c64,_0x1475e0),this['createFrag'+'mentDefini'+'tion'](_0x45e28a,_0x69c64,_0x1475e0),Mt['createDefi'+'nition'](_0x2e2150,_0x45e28a);}}const f1=new u1();class Ra extends yn{constructor(_0x1c8529){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x1c8529;}set['shaderDesc'](_0x4e7b42){_0x4e7b42&&(v['assert'](_0x4e7b42['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x4e7b42['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x4e7b42?{..._0x4e7b42}:void(0x1bf+0x3*-0xcc9+0x249c),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x2c0edd){return super['copy'](_0x2c0edd),this['shaderDesc']=_0x2c0edd['shaderDesc'],this;}['getShaderV'+'ariant'](_0x368720){const {objDefs:_0x595ac6}=_0x368720,_0x5118aa={'defines':Dp(this,_0x368720),'skin':(_0x595ac6&$c)!==0x74f*-0x4+0x21a7+-0x57*0xd,'useInstancing':(_0x595ac6&Wc)!==0x6*0x1d+0x1*-0x12d+-0x7f*-0x1,'useMorphPosition':(_0x595ac6&qc)!==0x17b*0x3+0x14fd+-0x196e,'useMorphNormal':(_0x595ac6&Xc)!==-0x25ac+0xaa2*-0x2+-0x52*-0xb8,'useMorphTextureBasedInt':(_0x595ac6&jc)!==0x2588+0xb68+-0x30f0,'pass':_0x368720['pass'],'gamma':_0x368720['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x368720['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x368720['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x3383c0=new Yc(_0x368720['viewUnifor'+'mFormat'],_0x368720['viewBindGr'+'oupFormat'],_0x368720['vertexForm'+'at']),_0x404f85=ka(_0x368720['device']);return _0x404f85['register']('shader-mat'+'erial',f1),_0x404f85['getProgram']('shader-mat'+'erial',_0x5118aa,_0x3383c0,this['userId']);}}const k0=(_0x5af2c2,_0x44ef09)=>{const _0x1977e3=_0x44ef09['length']/(-0x1*-0xc75+0xa*-0x281+-0xd*-0xf8),_0x56c432=_0x5af2c2['length']/(-0x3d7+-0x1cfb+0x20d5),_0x5eacae=new T(),_0x4c578d=new T(),_0x2f795d=new T(),_0x4284a4=new T(),_0x361143=new T(),_0x313402=new T(),_0x1775fc=[];for(let _0x4005f0=0xec*0xc+0x62f*-0x3+-0x77d*-0x1;_0x4005f0<_0x5af2c2['length'];_0x4005f0++)_0x1775fc[_0x4005f0]=0x1404+0x1991+-0x2d95;for(let _0x50d05c=0xf2b+0x15e6+-0x2511;_0x50d05c<_0x1977e3;_0x50d05c++){const _0xcb1fc1=_0x44ef09[_0x50d05c*(-0x15c4+0xff9+0x5ce)],_0x470019=_0x44ef09[_0x50d05c*(-0xf7a+-0x181*-0xd+0x5*-0xd0)+(-0x124*-0x15+0x7e1+-0xa9c*0x3)],_0x2cfbda=_0x44ef09[_0x50d05c*(0x1f*-0xcb+0xb3*-0x26+0x332a)+(-0x2f*-0x2f+0x2*-0x10dd+0x191b)];_0x5eacae['set'](_0x5af2c2[_0xcb1fc1*(-0x1*0x803+0x189b+-0x1095)],_0x5af2c2[_0xcb1fc1*(-0x1c26+0x1*-0x2431+-0x1*-0x405a)+(-0x191f+0x1*0x19c1+0xa1*-0x1)],_0x5af2c2[_0xcb1fc1*(-0x1367+0x1*-0x783+0x1aed)+(0x3*0x5d9+0x24e8+-0x3671)]),_0x4c578d['set'](_0x5af2c2[_0x470019*(-0xd*-0x271+-0x53b*0x1+-0x1a7f)],_0x5af2c2[_0x470019*(-0x8ef+-0x17*-0x3c+0x38e)+(0x1b7*-0x11+0x969*-0x2+0x2ffa)],_0x5af2c2[_0x470019*(0x1df5+-0x2350+0x1ca*0x3)+(-0x8a2+0x17e6+-0x28b*0x6)]),_0x2f795d['set'](_0x5af2c2[_0x2cfbda*(-0x1ccd+0xa7*0xb+-0x1d*-0xbf)],_0x5af2c2[_0x2cfbda*(0x9e2+0x1*0x22b+-0xc0a)+(-0x1*0x1983+-0x4fd+-0x1e81*-0x1)],_0x5af2c2[_0x2cfbda*(0x226c*-0x1+-0x135*0x1d+0x4570)+(-0x3*0x7f+0x1e28+-0x1ca9)]),_0x4284a4['sub2'](_0x4c578d,_0x5eacae),_0x361143['sub2'](_0x2f795d,_0x5eacae),_0x313402['cross'](_0x4284a4,_0x361143)['normalize'](),_0x1775fc[_0xcb1fc1*(0x11d4+-0x115f+-0x72)]+=_0x313402['x'],_0x1775fc[_0xcb1fc1*(-0x1e8+-0xdf*0x15+0xa1b*0x2)+(-0x1002*-0x1+0x1e2a+-0x2e2b)]+=_0x313402['y'],_0x1775fc[_0xcb1fc1*(-0x99*-0x39+-0x973+-0x189b)+(-0x513+-0x237e+0x2893)]+=_0x313402['z'],_0x1775fc[_0x470019*(-0x2085+0xc10*0x3+-0x2*0x1d4)]+=_0x313402['x'],_0x1775fc[_0x470019*(0xf99+-0x870+-0x16e*0x5)+(0x21e6+0x1*-0x1d21+0x3d*-0x14)]+=_0x313402['y'],_0x1775fc[_0x470019*(0x3c7+0xfc9*0x1+0xd*-0x181)+(-0x19d*-0x15+-0xd5*0x2+-0x11*0x1e5)]+=_0x313402['z'],_0x1775fc[_0x2cfbda*(-0x754*0x4+0x32*-0x3d+0x45*0x99)]+=_0x313402['x'],_0x1775fc[_0x2cfbda*(0x2*-0x117e+-0x1*0x1e74+0x4173)+(0xc16*-0x1+-0x1d*-0x3f+-0x13d*-0x4)]+=_0x313402['y'],_0x1775fc[_0x2cfbda*(0x2656+-0x6*0x486+-0x199*0x7)+(-0x23e9+-0x2*0x7b9+0x335d)]+=_0x313402['z'];}for(let _0x15a689=0x107d+0x1b3e+-0x1*0x2bbb;_0x15a689<_0x56c432;_0x15a689++){const _0x28416b=_0x1775fc[_0x15a689*(0x4*0x20e+-0x2370+0x1b3b)],_0x4cc208=_0x1775fc[_0x15a689*(-0x3*0x68b+0x2587+-0x11e3*0x1)+(0x3*-0xc16+-0xf*0x159+-0x2*-0x1c3d)],_0x378cca=_0x1775fc[_0x15a689*(0x4df+0xdcc+-0x12a8)+(0x16da*-0x1+-0x2*0x295+0xe03*0x2)],_0x308a8f=(0x135e*-0x2+-0x266d*-0x1+0x50)/Math['sqrt'](_0x28416b*_0x28416b+_0x4cc208*_0x4cc208+_0x378cca*_0x378cca);_0x1775fc[_0x15a689*(-0x1*-0x1a1e+0x1*0x11e7+-0x1601*0x2)]*=_0x308a8f,_0x1775fc[_0x15a689*(-0x90+-0x1db4+0x1e47)+(0x232f+0x158c+-0x38ba)]*=_0x308a8f,_0x1775fc[_0x15a689*(0x5*-0x2d5+0x3d*-0x1+0xe69)+(0x1d41+0x1d97+-0x3ad6)]*=_0x308a8f;}return _0x1775fc;},fr=(_0x3c31a1,_0x251e4e,_0x4a5b14,_0xf549ea)=>{const _0x42c55e=_0xf549ea['length']/(-0xe3e+0x3c2*0x1+0xa7f),_0x4a9d0f=_0x3c31a1['length']/(-0x1*0x150f+-0x1b5e+0x3070),_0x471b1e=new T(),_0x31a8e1=new T(),_0x2e5441=new T(),_0x346ae5=new $(),_0x22f27a=new $(),_0x1dd907=new $(),_0x175343=new T(),_0x2d7161=new T(),_0x419b63=new Float32Array(_0x4a9d0f*(0x26c0*0x1+0x95*0x3f+-0x4b68)),_0x6a4ecf=new Float32Array(_0x4a9d0f*(0x19+0xb8b+-0xba1)),_0x3e5cfa=[];for(let _0x196c91=0x1c95+0xc2c+0x28c1*-0x1;_0x196c91<_0x42c55e;_0x196c91++){const _0xdfaed6=_0xf549ea[_0x196c91*(0x13ec+0x1*0x16af+-0x2a98)],_0x3bf05e=_0xf549ea[_0x196c91*(-0x14b3*-0x1+-0xaed+-0x9c3)+(0x1742+0x1b59+-0x329a)],_0x11afbb=_0xf549ea[_0x196c91*(0xb58+0x4*-0x9ad+0x4d*0x5b)+(0x9d1+-0x16a*0x1a+-0x67*-0x43)];_0x471b1e['set'](_0x3c31a1[_0xdfaed6*(-0x1a6d+-0x347*0xb+0x1*0x3e7d)],_0x3c31a1[_0xdfaed6*(0xd78*-0x2+-0x1352+0x2e45)+(0x1*-0x1f86+-0x2*0x11c3+0x430d)],_0x3c31a1[_0xdfaed6*(-0x199b+-0x4*-0x2c6+0x1*0xe86)+(0x6e1+0xf3a+-0x1619)]),_0x31a8e1['set'](_0x3c31a1[_0x3bf05e*(0x3*-0x121+-0x2ae*0x1+0x614*0x1)],_0x3c31a1[_0x3bf05e*(-0x16f0+0x1*0x10f5+-0x3b*-0x1a)+(-0x1*0xa31+0x1d7d+-0xb*0x1c1)],_0x3c31a1[_0x3bf05e*(0x58c*-0x4+0x1bcb*0x1+-0x598)+(0x1439+0x2a3+-0x16da)]),_0x2e5441['set'](_0x3c31a1[_0x11afbb*(-0x1642+0x2*0x427+-0xdf7*-0x1)],_0x3c31a1[_0x11afbb*(-0xe2*0x17+0x205f+-0x1*0xc0e)+(0xb04+-0x1*0x16af+0xbac)],_0x3c31a1[_0x11afbb*(-0x78b*0x3+-0x20e5+0x3789)+(-0x128b+-0x219c+0x3429)]),_0x346ae5['set'](_0x4a5b14[_0xdfaed6*(-0xa*-0x23f+0x205c*0x1+-0xdb4*0x4)],_0x4a5b14[_0xdfaed6*(-0x21f2+-0xa29+-0x2c1d*-0x1)+(0x1fa6*-0x1+-0x16cd+0x3674)]),_0x22f27a['set'](_0x4a5b14[_0x3bf05e*(-0x74a*-0x3+-0xd18+-0x8c4)],_0x4a5b14[_0x3bf05e*(0x972+0x1453+-0x1dc3)+(0x13f1+-0x8ae+0x1*-0xb42)]),_0x1dd907['set'](_0x4a5b14[_0x11afbb*(0x1a6*0x6+-0x2539*0x1+0x1b57)],_0x4a5b14[_0x11afbb*(0x1cbf+-0x4*0x455+-0xb69)+(0x1418+-0x63f+-0xdd8)]);const _0x5be003=_0x31a8e1['x']-_0x471b1e['x'],_0x2f74dc=_0x2e5441['x']-_0x471b1e['x'],_0x3d2376=_0x31a8e1['y']-_0x471b1e['y'],_0x359f8d=_0x2e5441['y']-_0x471b1e['y'],_0x21a080=_0x31a8e1['z']-_0x471b1e['z'],_0x5cbe63=_0x2e5441['z']-_0x471b1e['z'],_0x2c7534=_0x22f27a['x']-_0x346ae5['x'],_0x11b9a5=_0x1dd907['x']-_0x346ae5['x'],_0x55e003=_0x22f27a['y']-_0x346ae5['y'],_0x3733a7=_0x1dd907['y']-_0x346ae5['y'],_0x286326=_0x2c7534*_0x3733a7-_0x11b9a5*_0x55e003;if(_0x286326===-0x222e+-0x508*0x4+-0x1*-0x364e)_0x175343['set'](-0x9*-0x406+0x3a*0x20+-0x2b76*0x1,0xd6c+-0x3fd*0x3+-0x174,-0x62f+0x5*-0x55c+0x20fb*0x1),_0x2d7161['set'](0x1*-0x1d65+0xcb3*-0x2+0x36cc,-0x1*-0x146f+-0xbb4+0x1*-0x8bb,0x38a+0x2*-0xb11+0x1298);else{const _0x1686a4=(0x174f+-0x5ed+-0x1161)/_0x286326;_0x175343['set']((_0x3733a7*_0x5be003-_0x55e003*_0x2f74dc)*_0x1686a4,(_0x3733a7*_0x3d2376-_0x55e003*_0x359f8d)*_0x1686a4,(_0x3733a7*_0x21a080-_0x55e003*_0x5cbe63)*_0x1686a4),_0x2d7161['set']((_0x2c7534*_0x2f74dc-_0x11b9a5*_0x5be003)*_0x1686a4,(_0x2c7534*_0x359f8d-_0x11b9a5*_0x3d2376)*_0x1686a4,(_0x2c7534*_0x5cbe63-_0x11b9a5*_0x21a080)*_0x1686a4);}_0x419b63[_0xdfaed6*(0x174f+0x787*0x1+-0x25f*0xd)+(0x2ae*-0x4+-0x1*0xa7+0xb5f)]+=_0x175343['x'],_0x419b63[_0xdfaed6*(0x4*0xb9+-0x5*-0x419+-0x175e)+(0xd0f*-0x2+0x2205+-0x2a2*0x3)]+=_0x175343['y'],_0x419b63[_0xdfaed6*(-0x815+-0x20*-0xa3+-0x312*0x4)+(-0x174d*-0x1+-0x1*-0x36b+-0x1ab6)]+=_0x175343['z'],_0x419b63[_0x3bf05e*(0xda8+-0x12ac+-0x507*-0x1)+(-0x13*-0x19+0x270b+-0x28e6)]+=_0x175343['x'],_0x419b63[_0x3bf05e*(-0x41f+0x1*0x246+0x1dc)+(-0x2*0x22d+-0x23e9+0x2844)]+=_0x175343['y'],_0x419b63[_0x3bf05e*(0x475+-0x72d*-0x1+-0xb9f)+(-0xca4*-0x3+-0x207*-0x3+-0x649*0x7)]+=_0x175343['z'],_0x419b63[_0x11afbb*(0x2*0x110d+-0xa2e+-0x17e9)+(-0x1d05+0x124*-0x3+0x67d*0x5)]+=_0x175343['x'],_0x419b63[_0x11afbb*(-0x1e4e*-0x1+0x1*0x9e6+-0x2831)+(0x4e6*0x1+-0x16f5+0x1210)]+=_0x175343['y'],_0x419b63[_0x11afbb*(0x4a6+-0x1ea6+0x1a03)+(0x427*0x6+0x9d*0x11+-0x2355)]+=_0x175343['z'],_0x6a4ecf[_0xdfaed6*(0x18e9*-0x1+-0x2164+0xc*0x4dc)+(-0xd7*0x12+0x5*0xed+0xa7d)]+=_0x2d7161['x'],_0x6a4ecf[_0xdfaed6*(0x18*-0xcd+0x13d5+-0x9a)+(-0xdc7*-0x1+-0x26ba+0x18f4)]+=_0x2d7161['y'],_0x6a4ecf[_0xdfaed6*(-0x3*0x1f3+0x1*0x1d9e+-0x17c2*0x1)+(0xdc9+0xda1*-0x1+-0x1*0x26)]+=_0x2d7161['z'],_0x6a4ecf[_0x3bf05e*(-0x1e69+-0x25ca+0x2*0x221b)+(0x1c4b*0x1+0x1*0xbcb+-0x2816)]+=_0x2d7161['x'],_0x6a4ecf[_0x3bf05e*(-0x1b*-0xaa+-0xb3a*-0x3+-0x3399)+(-0x1277+-0x1*-0x13d0+-0x158)]+=_0x2d7161['y'],_0x6a4ecf[_0x3bf05e*(0x1840+-0x190b*0x1+0xce)+(0x10*0x69+0x1*-0x255e+0x1ed0)]+=_0x2d7161['z'],_0x6a4ecf[_0x11afbb*(-0x4*-0x438+-0xd05+0x4*-0xf6)+(-0x1953+-0x2250+0x3ba3)]+=_0x2d7161['x'],_0x6a4ecf[_0x11afbb*(-0x1*-0x245f+0x56e+-0x6*0x6f7)+(-0x1*-0x171c+0x1ecb+-0x35e6)]+=_0x2d7161['y'],_0x6a4ecf[_0x11afbb*(0x1bfd+0x254d+-0x4147)+(0x43*-0x8d+-0x5*-0x494+0xe05)]+=_0x2d7161['z'];}const _0xd7f790=new T(),_0x525b1e=new T(),_0x309eda=new T(),_0x49e5f8=new T();for(let _0x393f73=-0x91*0x7+-0x1085+0x147c;_0x393f73<_0x4a9d0f;_0x393f73++){_0x309eda['set'](_0x251e4e[_0x393f73*(-0x1*-0x32f+-0x1852+0x1*0x1526)],_0x251e4e[_0x393f73*(-0x144+0x1b16*0x1+-0x19cf)+(-0xcf4+-0x23*0x62+0x1a5b)],_0x251e4e[_0x393f73*(0x2d9+0x1*0x944+-0x1*0xc1a)+(0x13c4*-0x1+0x1d4e+-0x1e8*0x5)]),_0xd7f790['set'](_0x419b63[_0x393f73*(-0x4e4+-0xf05*-0x2+-0x37*0x75)],_0x419b63[_0x393f73*(0x607*0x1+-0x13d*0x5+0x2d)+(0x1*0x3f5+0x1*0x1095+-0x1*0x1489)],_0x419b63[_0x393f73*(0xdd8+-0x1*0x249b+-0x35*-0x6e)+(-0x7*-0x4e2+-0xd*0x65+-0x1d0b)]),_0x525b1e['set'](_0x6a4ecf[_0x393f73*(0x1*0x1f86+0x8*0xed+-0x26eb)],_0x6a4ecf[_0x393f73*(0x4d+-0x14a+-0x40*-0x4)+(-0x3*-0xab7+0xa*-0x373+0x25a)],_0x6a4ecf[_0x393f73*(-0x40b*-0x6+-0x18d4+0x95)+(0x63*-0x12+-0x52*-0x77+-0x1f26)]);const _0x3896be=_0x309eda['dot'](_0xd7f790);_0x49e5f8['copy'](_0x309eda)['mulScalar'](_0x3896be),_0x49e5f8['sub2'](_0xd7f790,_0x49e5f8)['normalize'](),_0x3e5cfa[_0x393f73*(-0x1*0xbee+0xe4+0xb0e)]=_0x49e5f8['x'],_0x3e5cfa[_0x393f73*(-0x25c1+-0x11a4+-0x3769*-0x1)+(0x83*0xd+0x966+-0x100c)]=_0x49e5f8['y'],_0x3e5cfa[_0x393f73*(0x232*0xa+0x1*0x1ad4+0x1862*-0x2)+(-0x1239+-0x15c2+-0x1d*-0x161)]=_0x49e5f8['z'],_0x49e5f8['cross'](_0x309eda,_0xd7f790),_0x3e5cfa[_0x393f73*(-0x901+-0x1f+0x924)+(0x1*0xe24+-0x4f7*-0x2+0x1*-0x180f)]=_0x49e5f8['dot'](_0x525b1e)<-0x2330+0x1*-0x23bd+0x46ed?-(0x1*-0x22a+0x1*0x5eb+0x8*-0x78):-0x23ba+0x1*0x208d+0x32e;}return _0x3e5cfa;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const $u=(0x141+-0xc41*-0x3+0x4c*-0x80)/(0x2*0x7f3+-0x9ec+-0x5ba),L_=-0x1413+0x1e81+-0xa6d-$u*(-0x1067+0x499*-0x5+0x2766);class Wu extends pn{constructor(_0x3ca75c={}){super();const _0x5ea35b=_0x3ca75c['halfExtent'+'s']??new T(0x1*0x641+-0xd3d*0x1+0x6fc+0.5,-0x1da7*-0x1+-0x2*0xecd+0x1*-0xd+0.5,-0x1*0x1faf+-0x21ea+0x7*0x95f+0.5),_0x2bc103=_0x3ca75c['widthSegme'+'nts']??-0x2463+-0x1741+-0x3ba5*-0x1,_0x1db8ea=_0x3ca75c['lengthSegm'+'ents']??-0x749+-0x1*0x1725+0x1e6f,_0x420872=_0x3ca75c['heightSegm'+'ents']??0x19*0xab+0xdf8+0x19*-0x13a,_0x11772b=_0x3ca75c['yOffset']??0x44b*0x6+-0x10a9*0x2+-0x790*-0x1,_0x12d788=-_0x5ea35b['y']+_0x11772b,_0x1e3663=_0x5ea35b['y']+_0x11772b,_0x92f32c=[new T(-_0x5ea35b['x'],_0x12d788,_0x5ea35b['z']),new T(_0x5ea35b['x'],_0x12d788,_0x5ea35b['z']),new T(_0x5ea35b['x'],_0x1e3663,_0x5ea35b['z']),new T(-_0x5ea35b['x'],_0x1e3663,_0x5ea35b['z']),new T(_0x5ea35b['x'],_0x12d788,-_0x5ea35b['z']),new T(-_0x5ea35b['x'],_0x12d788,-_0x5ea35b['z']),new T(-_0x5ea35b['x'],_0x1e3663,-_0x5ea35b['z']),new T(_0x5ea35b['x'],_0x1e3663,-_0x5ea35b['z'])],_0x420eb1=[[-0x104+-0x127f+0x1383,-0xa52*-0x1+-0xd*-0x9d+-0x2*0x925,0x287+0xf4f*0x1+-0x11d3],[-0x131*0x2+-0x29d*0x6+-0x2*-0x90a,0x235*0x5+-0xc25*-0x1+-0x4d*0x4d,0x1854+0xc89*0x1+-0x24d6],[0xc*0x14d+0x935*-0x1+-0x2*0x332,-0x6*-0x558+0x1cfd*-0x1+-0x5*0x9d,-0x20cd+-0x9*0x415+0x4590],[-0x1*-0xc4d+0x4*-0x75d+0x1128,0x1*-0x1093+-0x1327*-0x1+0xa*-0x42,0x275*-0xe+-0x1*-0x907+0x61*0x43],[-0x249c+0x6d*0x1d+0x1844,-0x6b*0x12+-0x375*-0x1+-0xb*-0x5f,0x66a*-0x1+-0xa75*-0x2+-0xe7e],[0xdf4+-0x188+-0xc67,0x245b+-0xac1+-0x71*0x3a,-0x416*0x4+-0x195b*0x1+-0xb*-0x3cb]],_0x55548d=[[0xa1*-0x26+0x207*0x2+-0x14*-0xfe,-0x205b+-0x2*0x7ae+0x2fb7,-0x51c+-0x1312*0x1+0x182f],[-0x1a22+0x1098*-0x2+0x3*0x13c6,0x2667*-0x1+-0x1e0b+0x4472,-(0x476*0x1+-0x1*0x21e7+0x1d72)],[0x2af*-0x2+-0x1637+0x1b95,0xa14+0x145*-0x15+0x1096*0x1,-0x1*-0x229a+0x1*0x13b5+-0x1*0x364f],[-0x40b+0x1f03+0x2*-0xd7c,-(0x2409+0x16b1+-0x3ab9),-0x5*0x521+-0x15f6*0x1+0x2f9b],[0xf8*-0x1b+0x1*0xcbb+0x23d*0x6,-0x20eb+0x1c*0xd4+0x9bb,-0xf2*0x19+-0x856+-0x3ff*-0x8],[-(-0x8bf+-0x1*0x1c57+-0x3*-0xc5d),0x227a+-0x117a*-0x2+0x1*-0x456e,-0x25e3+-0x1*0x20d2+0x46b5]],_0x183e85={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x162e3b=[],_0x562d9b=[],_0x1c9cfe=[],_0x21d6a0=[];let _0x4c20b8=0x9bc+-0xb*0x257+0x1001;const _0x22b20f=(_0x185590,_0x345713,_0x52eeac)=>{const _0x464620=new T(),_0x4d767e=new T(),_0x48af1b=new T(),_0x15e4e7=new T();for(let _0x33adf5=0x14df+0x1996+-0x1*0x2e75;_0x33adf5<=_0x345713;_0x33adf5++)for(let _0x3d31b8=-0x1bff+-0x420+-0x1*-0x201f;_0x3d31b8<=_0x52eeac;_0x3d31b8++){_0x464620['lerp'](_0x92f32c[_0x420eb1[_0x185590][-0x4*0xa6+-0x1db3+0x7*0x49d]],_0x92f32c[_0x420eb1[_0x185590][0x69d*0x5+-0xc1*-0x28+-0x3f38]],_0x33adf5/_0x345713),_0x4d767e['lerp'](_0x92f32c[_0x420eb1[_0x185590][0xaae*-0x2+0x1e22+0x2*-0x463]],_0x92f32c[_0x420eb1[_0x185590][-0x2256*0x1+-0x1*0x17bd+0x1*0x3a15]],_0x3d31b8/_0x52eeac),_0x48af1b['sub2'](_0x4d767e,_0x92f32c[_0x420eb1[_0x185590][-0x11d6+0x15c7+-0x3f1]]),_0x15e4e7['add2'](_0x464620,_0x48af1b);let _0x133c2c=_0x33adf5/_0x345713,_0x4f4e3e=_0x3d31b8/_0x52eeac;_0x162e3b['push'](_0x15e4e7['x'],_0x15e4e7['y'],_0x15e4e7['z']),_0x562d9b['push'](_0x55548d[_0x185590][-0x195e+-0x1996+0x32f4],_0x55548d[_0x185590][-0x29*0xb2+0x9*0x30f+0xfc],_0x55548d[_0x185590][0x6db+-0x21ca+0x1af1]),_0x1c9cfe['push'](_0x133c2c,-0x1*-0x1eea+0x5aa+-0x2493-_0x4f4e3e),_0x133c2c=_0x133c2c*L_+$u,_0x4f4e3e=_0x4f4e3e*L_+$u,_0x133c2c/=0x5*0x613+0xbbc*-0x2+-0xc4*0x9,_0x4f4e3e/=-0x4c6+-0x4f0+0x13*0x83,_0x133c2c+=_0x185590%(0x6f1+0x255d+-0x2c4b)/(0xa*0x2b3+0xf*-0xa6+-0x1141),_0x4f4e3e+=Math['floor'](_0x185590/(-0x1aca+-0x1a51*0x1+0x351e))/(0x21d+0x111c+0x2*-0x99b),_0x33adf5<_0x345713&&_0x3d31b8<_0x52eeac&&(_0x21d6a0['push'](_0x4c20b8+_0x52eeac+(0x3*0xfe+0x789+-0xa82*0x1),_0x4c20b8+(-0x271+0x45c+0xe*-0x23),_0x4c20b8),_0x21d6a0['push'](_0x4c20b8+_0x52eeac+(0x5*-0x337+-0x2*0x26f+0x14f2),_0x4c20b8+_0x52eeac+(0x1c8c+-0x13fc+-0x88e),_0x4c20b8+(-0x2600+-0x1833+-0xf8d*-0x4))),_0x4c20b8++;}};_0x22b20f(_0x183e85['FRONT'],_0x2bc103,_0x420872),_0x22b20f(_0x183e85['BACK'],_0x2bc103,_0x420872),_0x22b20f(_0x183e85['TOP'],_0x2bc103,_0x1db8ea),_0x22b20f(_0x183e85['BOTTOM'],_0x2bc103,_0x1db8ea),_0x22b20f(_0x183e85['RIGHT'],_0x1db8ea,_0x420872),_0x22b20f(_0x183e85['LEFT'],_0x1db8ea,_0x420872),this['positions']=_0x162e3b,this['normals']=_0x562d9b,this['uvs']=_0x1c9cfe,this['uvs1']=_0x1c9cfe,this['indices']=_0x21d6a0,_0x3ca75c['calculateT'+'angents']&&(this['tangents']=fr(_0x162e3b,_0x562d9b,_0x1c9cfe,_0x21d6a0));}}class B0 extends pn{constructor(_0x19a2bc={}){super();const _0x2f1caa=_0x19a2bc['radius']??0x43f*-0x8+0xb7*0x18+-0x10d0*-0x1+0.5,_0x3fd9cd=_0x19a2bc['latitudeBa'+'nds']??-0x8c*-0x5+-0x1450+0x11a4,_0x42cbc2=_0x19a2bc['longitudeB'+'ands']??0x123+0x211+-0x324,_0x397efe=[],_0x2915a4=[],_0x4c7b43=[],_0x207cb2=[];for(let _0xfd10a0=0x19*0x71+0x20fc+-0x2c05;_0xfd10a0<=_0x3fd9cd;_0xfd10a0++){const _0x39f25c=_0xfd10a0*Math['PI']/_0x3fd9cd,_0x41c0e3=Math['sin'](_0x39f25c),_0x452c79=Math['cos'](_0x39f25c);for(let _0x449f83=-0x26b0+0x43+0x266d;_0x449f83<=_0x42cbc2;_0x449f83++){const _0x12557c=_0x449f83*(0x655*0x2+-0x1e70+0x11c8)*Math['PI']/_0x42cbc2-Math['PI']/(0x477*-0x1+-0x3*-0x103+0x170),_0x3f75d7=Math['sin'](_0x12557c),_0x24dcf9=Math['cos'](_0x12557c)*_0x41c0e3,_0x2bcf6f=_0x452c79,_0x549a07=_0x3f75d7*_0x41c0e3,_0x589bc8=0x201d*-0x1+0x1*-0x449+-0x2467*-0x1-_0x449f83/_0x42cbc2,_0x448655=-0x18+0x3ab+0x2*-0x1c9-_0xfd10a0/_0x3fd9cd;_0x397efe['push'](_0x24dcf9*_0x2f1caa,_0x2bcf6f*_0x2f1caa,_0x549a07*_0x2f1caa),_0x2915a4['push'](_0x24dcf9,_0x2bcf6f,_0x549a07),_0x4c7b43['push'](_0x589bc8,-0x1*0xa15+0x6c1+0x1*0x355-_0x448655);}}for(let _0x1d0b52=-0x1*-0x23f2+0x9fb+-0x2ded*0x1;_0x1d0b52<_0x3fd9cd;++_0x1d0b52)for(let _0x1bf775=-0x3*-0x1fa+0x5*-0x60a+-0x1*-0x1844;_0x1bf775<_0x42cbc2;++_0x1bf775){const _0x2b88bc=_0x1d0b52*(_0x42cbc2+(-0x5c1+-0x12b0+0x1872))+_0x1bf775,_0x56e2a1=_0x2b88bc+_0x42cbc2+(0x17f0+0x9c*-0x1e+-0x5a7);_0x207cb2['push'](_0x2b88bc+(0x225c+-0x3*-0xc76+0x47bd*-0x1),_0x56e2a1,_0x2b88bc),_0x207cb2['push'](_0x2b88bc+(-0x1165+-0x1196+-0x8bf*-0x4),_0x56e2a1+(-0x1508+0x3*0x9e9+0x7*-0x13e),_0x56e2a1);}this['positions']=_0x397efe,this['normals']=_0x2915a4,this['uvs']=_0x4c7b43,this['uvs1']=_0x4c7b43,this['indices']=_0x207cb2,_0x19a2bc['calculateT'+'angents']&&(this['tangents']=fr(_0x397efe,_0x2915a4,_0x4c7b43,_0x207cb2));}}class p1 extends B0{constructor(_0x26e28d={}){const _0x1bfcaa=_0x26e28d['latitudeBa'+'nds']??0xde1+-0x25e3+-0x2*-0xc09,_0x2f2e68=_0x26e28d['longitudeB'+'ands']??0x858+-0x5d*0x5+-0x677;super({'radius':0.5,'latitudeBands':_0x1bfcaa,'longitudeBands':_0x2f2e68});const _0x495b62=-0x3*0x93+-0x141d+-0x1a*-0xd7+0.1,_0x35356e=-0x2580+0x117*0x16+0x3*0x482+0.95,_0x40c181=_0x35356e*_0x35356e,_0x436c5d=this['positions'];for(let _0x1bf263=-0x1e71+-0x574+-0x9*-0x3fd;_0x1bf263<_0x436c5d['length'];_0x1bf263+=-0xa3*0x3b+-0x382*-0x3+-0x1b0e*-0x1){const _0x33f98f=_0x436c5d[_0x1bf263]/(-0x214e+-0x66*0x37+0x3738+0.5);let _0x39e7d4=_0x436c5d[_0x1bf263+(-0x1de1*-0x1+0xc62+-0x2a42)]/(-0xd0d*-0x1+-0x718*-0x2+-0x1b3d+0.5);const _0x384efc=_0x436c5d[_0x1bf263+(-0x4*0x229+0xf*0x13f+0x359*-0x3)]/(0x21b5+-0x26e*-0x5+0x5b*-0x81+0.5);_0x39e7d4<-0x3*-0x6cd+0x1d*-0xb8+0x71&&(_0x39e7d4*=0xbb*-0x30+-0x17c8+0x3ad8+0.3,_0x33f98f*_0x33f98f+_0x384efc*_0x384efc<_0x40c181&&(_0x39e7d4=-(-0x2*0xcab+0xbc*0x2e+-0x5e*0x17+0.1))),_0x39e7d4+=_0x495b62,_0x39e7d4*=0x2d+0x25b4+-0x25e1+0.5,_0x436c5d[_0x1bf263+(-0x1*0x23ce+0x15*0xb7+0x14cc)]=_0x39e7d4;}}}class So{static['create'](_0x2650e0,_0x3d0ca4){switch(_0x3d0ca4){case tw:return So['box'](_0x2650e0);case sw:return So['dome'](_0x2650e0);}return v['assert'](_0x3d0ca4===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x3d0ca4),So['infinite'](_0x2650e0);}static['infinite'](_0x2d7347){return Ie['fromGeomet'+'ry'](_0x2d7347,new Wu(_0x2d7347));}static['box'](_0x3685cd){return Ie['fromGeomet'+'ry'](_0x3685cd,new Wu({'yOffset':0.5}));}static['dome'](_0x80d580){const _0x40b24c=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x40b24c['normals']=void(0x1*-0x51f+-0x1c1f*0x1+0x5*0x6a6),_0x40b24c['uvs']=void(0x1450+0x471+-0x1*0x18c1),Ie['fromGeomet'+'ry'](_0x80d580,_0x40b24c);}}class m1{constructor(_0xa156d1,_0x26a212,_0x468f27,_0x18ee66,_0x5e3880){c(this,'meshInstan'+'ce',null);const _0x2743ca=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x2743ca['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x18ee66['encoding'])),_0x5e3880!==xo&&_0x2743ca['setDefine']('SKYMESH',''),_0x18ee66['cubemap']&&_0x2743ca['setDefine']('SKY_CUBEMA'+'P',''),_0x2743ca['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x26a212['skyboxHigh'+'lightMulti'+'plier']),_0x18ee66['cubemap']?_0x2743ca['setParamet'+'er']('texture_cu'+'beMap',_0x18ee66):(_0x2743ca['setParamet'+'er']('texture_en'+'vAtlas',_0x18ee66),_0x2743ca['setParamet'+'er']('mipLevel',_0x26a212['skyboxMip'])),_0x2743ca['cull']=mo,_0x2743ca['depthWrite']=!(-0x1fdf+0x1*0x22e2+0x7*-0x6e);const _0x423b11=_0x26a212['layers']['getLayerBy'+'Id'](vp);if(_0x423b11){const _0x851d81=So['create'](_0xa156d1,_0x5e3880),_0x40ebeb=new Le(_0x851d81,_0x2743ca,_0x468f27);this['meshInstan'+'ce']=_0x40ebeb,_0x40ebeb['cull']=!(-0x2318+0x1*-0xda5+0x30be),_0x40ebeb['pick']=!(0x1725+-0x1*0x10be+0x333*-0x2),_0x423b11['addMeshIns'+'tances']([_0x40ebeb]),this['skyLayer']=_0x423b11;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x259a8b){c(this,'_type',xo),c(this,'_center',new T(-0x1*0x20b9+-0x17f3*0x1+0x38ac,0x1b*-0x13+0x1c70+-0x22*0xc7,0xc36+-0xcf3+-0x3*-0x3f)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x259a8b['device'],this['scene']=_0x259a8b,this['center']=new T(0x1*0x545+-0x1fc6+0x5*0x54d,-0xc21+0xf69+-0x347,-0x21ed+0xdd3+0x141a*0x1),this['centerArra'+'y']=new Float32Array(0xf7a+0x1fcc+-0x3*0xfc1),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x19d385){this['type']=_0x19d385['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0x19d385['skyMeshPos'+'ition']??[0x33d*-0x6+-0x1fcc+0xa6*0x4f,-0x120*0x9+-0x1d06+0x2726,0x90b*0x1+-0x5*-0xe5+-0xd84])),this['node']['setLocalEu'+'lerAngles'](new T(_0x19d385['skyMeshRot'+'ation']??[0x1a03+-0x1*0x1dc9+0x3c6,-0xdfc+-0x564+0x1360,0xa35+-0x1d95+0x1360])),this['node']['setLocalSc'+'ale'](new T(_0x19d385['skyMeshSca'+'le']??[0x9*0x161+0x885*-0x4+0x92*0x26,0x1c7a+-0x1af*-0x5+-0x24e4,-0x87e+0xe8e+0x8d*-0xb])),_0x19d385['skyCenter']&&(this['_center']=new T(_0x19d385['skyCenter']));}set['type'](_0x4157fe){this['_type']!==_0x4157fe&&(this['_type']=_0x4157fe,this['scene']['updateShad'+'ers']=!(-0x1c1d+-0x7*0x28d+0x2df8),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0xe639b6){this['_center']['copy'](_0xe639b6);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x512ff5=this['scene']['_getSkybox'+'Tex']();_0x512ff5&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x512ff5,this['type']),this['scene']['fire']('set:skybox',_0x512ff5));}['resetSkyMe'+'sh'](){var _0x31afa8;(_0x31afa8=this['skyMesh'])==null||_0x31afa8['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x45c173,centerArray:_0xc23db9}=this,_0x4eb6ad=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x45c173,_0x4eb6ad),_0xc23db9[-0x1*-0x234a+-0x2225+-0x125]=_0x4eb6ad['x'],_0xc23db9[-0xb*0xd+-0x3*-0x207+0x1d7*-0x3]=_0x4eb6ad['y'],_0xc23db9[0x2214+0x1*-0x12b3+-0xf5f]=_0x4eb6ad['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0xc23db9);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(0x11a2+-0x4f9*0x7+-0x112e*-0x1);class g1{constructor(_0x317ba3,_0x1fc579,_0x5a450f){this['material']=_0x1fc579,this['layer']=_0x5a450f,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x317ba3),this['meshInstan'+'ce']=null;}['addLines'](_0x213722,_0x3cdbad){const _0x2a6a2c=this['positions'],_0x5bf48f=_0x213722['length'];for(let _0x225e48=0xb46+0x1*0x1505+0x7*-0x49d;_0x225e48<_0x5bf48f;_0x225e48++){const _0x145a14=_0x213722[_0x225e48];_0x2a6a2c['push'](_0x145a14['x'],_0x145a14['y'],_0x145a14['z']);}const _0x4f05d5=this['colors'];if(_0x3cdbad['length'])for(let _0x3172c9=0xd62+-0xbf*-0x21+-0x17*0x1a7;_0x3172c9<_0x5bf48f;_0x3172c9++){const _0x3fe381=_0x3cdbad[_0x3172c9];_0x4f05d5['push'](_0x3fe381['r'],_0x3fe381['g'],_0x3fe381['b'],_0x3fe381['a']);}else{for(let _0x2a34aa=-0x3a1*0x1+-0x1623*0x1+0x19c4;_0x2a34aa<_0x5bf48f;_0x2a34aa++)_0x4f05d5['push'](_0x3cdbad['r'],_0x3cdbad['g'],_0x3cdbad['b'],_0x3cdbad['a']);}}['addLinesAr'+'rays'](_0x154f51,_0x5b9f73){const _0x5a4c87=this['positions'];for(let _0x1000ec=0xb44+0x208c+-0x2bd0;_0x1000ec<_0x154f51['length'];_0x1000ec+=-0x2212+0x8d6+0x193f)_0x5a4c87['push'](_0x154f51[_0x1000ec],_0x154f51[_0x1000ec+(-0x1eb*0x2+-0x1*0xf77+0x134e)],_0x154f51[_0x1000ec+(0x14b4+-0x727*0x2+-0x664)]);const _0x1ba512=this['colors'];if(_0x5b9f73['length']){for(let _0x56a223=-0x976*-0x2+-0x1187+-0x77*0x3;_0x56a223<_0x5b9f73['length'];_0x56a223+=0x63c+-0x1b09+0x14d1)_0x1ba512['push'](_0x5b9f73[_0x56a223],_0x5b9f73[_0x56a223+(0xba8+-0x112f*-0x2+0x77*-0x63)],_0x5b9f73[_0x56a223+(-0x2*0x11f3+-0x1*0x216d+0x4555)],_0x5b9f73[_0x56a223+(-0x1bfd+-0x2267+0x3e67)]);}else{const _0xe7dc41=_0x154f51['length']/(-0x68f+0x47e+-0x85*-0x4);for(let _0x2cd319=-0x6*0x2dd+-0x2581+0x36af*0x1;_0x2cd319<_0xe7dc41;_0x2cd319++)_0x1ba512['push'](_0x5b9f73['r'],_0x5b9f73['g'],_0x5b9f73['b'],_0x5b9f73['a']);}}['onPreRende'+'r'](_0x23a464,_0x14e934){this['positions']['length']>0xfaf*-0x1+0x2*-0x176+-0x1*-0x129b&&this['material']['transparen'+'t']===_0x14e934&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(0x168b*-0x1+0x42b*0x5+0x1b5)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x23a464['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x1*-0x16f7+0x99b+-0x2092,this['colors']['length']=0x19b0+0x1650+-0x400*0xc;}}class y1{constructor(_0x1e9cef){this['device']=_0x1e9cef,this['map']=new Map();}['getBatch'](_0x149498,_0x583ca4){let _0x578153=this['map']['get'](_0x149498);return _0x578153||(_0x578153=new g1(this['device'],_0x149498,_0x583ca4),this['map']['set'](_0x149498,_0x578153)),_0x578153;}['onPreRende'+'r'](_0x346cab,_0x3770dd){this['map']['forEach'](_0x1bcfc1=>{_0x1bcfc1['onPreRende'+'r'](_0x346cab,_0x3770dd);});}['clear'](){this['map']['forEach'](_0x5a1ba9=>_0x5a1ba9['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x2625b6){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x2625b6,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x672cf2){const _0x192aeb=new Ra(x1);return _0x192aeb['blendType']=Kt,_0x192aeb['depthTest']=_0x672cf2,_0x192aeb['update'](),_0x192aeb;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0xb14+0x1b1*0x5+0x29f))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0xf97+-0x224f+0x12b9))),this['_materialN'+'oDepth'];}['getBatch'](_0x2015b0,_0x3dab72){let _0xf37176=this['batchesMap']['get'](_0x2015b0);_0xf37176||(_0xf37176=new y1(this['device']),this['batchesMap']['set'](_0x2015b0,_0xf37176)),this['allBatches']['add'](_0xf37176);const _0x394f1a=_0x3dab72?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0xf37176['getBatch'](_0x394f1a,_0x2015b0);}['getShaderD'+'esc'](_0x175133,_0x1aec7b){return this['shaderDesc'+'s']['has'](_0x175133)||this['shaderDesc'+'s']['set'](_0x175133,{'uniqueName':'DebugShade'+'r:'+_0x175133,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x1aec7b,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x175133);}['getTexture'+'ShaderDesc'](_0x126b17){const _0x58e055=Es['decodeFunc'](_0x126b17);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x126b17,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x58e055+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0xbf*-0x1d+0x2*-0x686+-0x897+0.5),-(-0x2101+-0x208+0x2309+0.5),0x5*0xf9+0x11*-0x11+0x2*-0x1de,-0xbbc+0x1f52*0x1+-0x17*0xda+0.5,-(0x1*-0x2069+-0x1dc2+0x3e2b+0.5),-0x10d8+0x6c*0x5b+-0x158c,-(-0x1a49+0x569+0x14e0+0.5),0x11e0+-0xfa*0x7+-0xb0a+0.5,0x22*-0x86+0x1a66+0x6*-0x16f,0x26d4+-0x9a2+0x2*-0xe99+0.5,-0x1*-0x1dcc+-0xac4+-0x1308+0.5,-0x1ddd+0xb*0x3b+0x9f*0x2c]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0x261f44,_0x3e8797,_0x11efcd,_0x4a92c6,_0x17069d){if(!_0x4a92c6){const _0xb2210=this['getGraphNo'+'de'](_0x3e8797);_0x4a92c6=new Le(_0x11efcd,_0x261f44,_0xb2210);}let _0x45f49d=this['layerMeshI'+'nstances']['get'](_0x17069d);_0x45f49d||(_0x45f49d=[],this['layerMeshI'+'nstances']['set'](_0x17069d,_0x45f49d)),_0x45f49d['push'](_0x4a92c6);}['drawWireAl'+'ignedBox'](_0x310961,_0x9f91ef,_0x2db287,_0x24a12c,_0x1d5dfa,_0x27d2ec){if(_0x27d2ec){const _0x11778c=(_0x38e743,_0x1af265,_0x33bea8)=>{Ln['set'](_0x38e743,_0x1af265,_0x33bea8),_0x27d2ec['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x11778c(_0x310961['x'],_0x310961['y'],_0x310961['z']),_0x11778c(_0x310961['x'],_0x9f91ef['y'],_0x310961['z']),_0x11778c(_0x310961['x'],_0x9f91ef['y'],_0x310961['z']),_0x11778c(_0x9f91ef['x'],_0x9f91ef['y'],_0x310961['z']),_0x11778c(_0x9f91ef['x'],_0x9f91ef['y'],_0x310961['z']),_0x11778c(_0x9f91ef['x'],_0x310961['y'],_0x310961['z']),_0x11778c(_0x9f91ef['x'],_0x310961['y'],_0x310961['z']),_0x11778c(_0x310961['x'],_0x310961['y'],_0x310961['z']),_0x11778c(_0x310961['x'],_0x310961['y'],_0x9f91ef['z']),_0x11778c(_0x310961['x'],_0x9f91ef['y'],_0x9f91ef['z']),_0x11778c(_0x310961['x'],_0x9f91ef['y'],_0x9f91ef['z']),_0x11778c(_0x9f91ef['x'],_0x9f91ef['y'],_0x9f91ef['z']),_0x11778c(_0x9f91ef['x'],_0x9f91ef['y'],_0x9f91ef['z']),_0x11778c(_0x9f91ef['x'],_0x310961['y'],_0x9f91ef['z']),_0x11778c(_0x9f91ef['x'],_0x310961['y'],_0x9f91ef['z']),_0x11778c(_0x310961['x'],_0x310961['y'],_0x9f91ef['z']),_0x11778c(_0x310961['x'],_0x310961['y'],_0x310961['z']),_0x11778c(_0x310961['x'],_0x310961['y'],_0x9f91ef['z']),_0x11778c(_0x310961['x'],_0x9f91ef['y'],_0x310961['z']),_0x11778c(_0x310961['x'],_0x9f91ef['y'],_0x9f91ef['z']),_0x11778c(_0x9f91ef['x'],_0x9f91ef['y'],_0x310961['z']),_0x11778c(_0x9f91ef['x'],_0x9f91ef['y'],_0x9f91ef['z']),_0x11778c(_0x9f91ef['x'],_0x310961['y'],_0x310961['z']),_0x11778c(_0x9f91ef['x'],_0x310961['y'],_0x9f91ef['z']);}else Jt['push'](_0x310961['x'],_0x310961['y'],_0x310961['z'],_0x310961['x'],_0x9f91ef['y'],_0x310961['z'],_0x310961['x'],_0x9f91ef['y'],_0x310961['z'],_0x9f91ef['x'],_0x9f91ef['y'],_0x310961['z'],_0x9f91ef['x'],_0x9f91ef['y'],_0x310961['z'],_0x9f91ef['x'],_0x310961['y'],_0x310961['z'],_0x9f91ef['x'],_0x310961['y'],_0x310961['z'],_0x310961['x'],_0x310961['y'],_0x310961['z'],_0x310961['x'],_0x310961['y'],_0x9f91ef['z'],_0x310961['x'],_0x9f91ef['y'],_0x9f91ef['z'],_0x310961['x'],_0x9f91ef['y'],_0x9f91ef['z'],_0x9f91ef['x'],_0x9f91ef['y'],_0x9f91ef['z'],_0x9f91ef['x'],_0x9f91ef['y'],_0x9f91ef['z'],_0x9f91ef['x'],_0x310961['y'],_0x9f91ef['z'],_0x9f91ef['x'],_0x310961['y'],_0x9f91ef['z'],_0x310961['x'],_0x310961['y'],_0x9f91ef['z'],_0x310961['x'],_0x310961['y'],_0x310961['z'],_0x310961['x'],_0x310961['y'],_0x9f91ef['z'],_0x310961['x'],_0x9f91ef['y'],_0x310961['z'],_0x310961['x'],_0x9f91ef['y'],_0x9f91ef['z'],_0x9f91ef['x'],_0x9f91ef['y'],_0x310961['z'],_0x9f91ef['x'],_0x9f91ef['y'],_0x9f91ef['z'],_0x9f91ef['x'],_0x310961['y'],_0x310961['z'],_0x9f91ef['x'],_0x310961['y'],_0x9f91ef['z']);this['getBatch'](_0x1d5dfa,_0x24a12c)['addLinesAr'+'rays'](Jt,_0x2db287),Jt['length']=0xf01*-0x1+-0x26e2+-0x35e3*-0x1;}['drawWireSp'+'here'](_0x318b90,_0x30efeb,_0x303a35,_0x274d69,_0x526a44,_0x4d6184){const _0x2b6c20=(-0x17*-0xd3+0xfd*-0x7+-0xc08)*Math['PI']/_0x274d69;let _0x19a78d=0x7*0x394+0x1c65+-0x3571*0x1;for(let _0x30ba86=0x1fa*-0x8+0x1430+-0x460;_0x30ba86<_0x274d69;_0x30ba86++){const _0x2656c7=Math['sin'](_0x19a78d),_0x4091c9=Math['cos'](_0x19a78d);_0x19a78d+=_0x2b6c20;const _0x4ab0e6=Math['sin'](_0x19a78d),_0x1c1bfb=Math['cos'](_0x19a78d);Jt['push'](_0x318b90['x']+_0x30efeb*_0x2656c7,_0x318b90['y'],_0x318b90['z']+_0x30efeb*_0x4091c9),Jt['push'](_0x318b90['x']+_0x30efeb*_0x4ab0e6,_0x318b90['y'],_0x318b90['z']+_0x30efeb*_0x1c1bfb),Jt['push'](_0x318b90['x']+_0x30efeb*_0x2656c7,_0x318b90['y']+_0x30efeb*_0x4091c9,_0x318b90['z']),Jt['push'](_0x318b90['x']+_0x30efeb*_0x4ab0e6,_0x318b90['y']+_0x30efeb*_0x1c1bfb,_0x318b90['z']),Jt['push'](_0x318b90['x'],_0x318b90['y']+_0x30efeb*_0x2656c7,_0x318b90['z']+_0x30efeb*_0x4091c9),Jt['push'](_0x318b90['x'],_0x318b90['y']+_0x30efeb*_0x4ab0e6,_0x318b90['z']+_0x30efeb*_0x1c1bfb);}this['getBatch'](_0x4d6184,_0x526a44)['addLinesAr'+'rays'](Jt,_0x303a35),Jt['length']=0x19c6*-0x1+-0xf39+-0x5*-0x833;}['getGraphNo'+'de'](_0x22ebee){const _0x50142a=new De('ImmediateD'+'ebug');return _0x50142a['worldTrans'+'form']=_0x22ebee,_0x50142a['_dirtyWorl'+'d']=_0x50142a['_dirtyNorm'+'al']=!(-0x1c86+-0x1*0x2fc+0x1f83),_0x50142a;}['onPreRende'+'rLayer'](_0x2c21b0,_0x1f4868,_0x584112){if(this['batchesMap']['forEach']((_0x53b243,_0x40826f)=>{_0x40826f===_0x2c21b0&&_0x53b243['onPreRende'+'r'](_0x1f4868,_0x584112);}),!this['updatedLay'+'ers']['has'](_0x2c21b0)){this['updatedLay'+'ers']['add'](_0x2c21b0);const _0x2ba71b=this['layerMeshI'+'nstances']['get'](_0x2c21b0);if(_0x2ba71b){for(let _0x284fb7=-0x17f5*-0x1+-0x866+-0x7*0x239;_0x284fb7<_0x2ba71b['length'];_0x284fb7++)_0x1f4868['push'](_0x2ba71b[_0x284fb7]);_0x2ba71b['length']=0x229+-0x1*-0x1b2+-0x3*0x149;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x4a014b=>_0x4a014b['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(0xcad+0x1*-0xb02+0x1ab*-0x1,-0x8*-0xe5+0x2246+0x2*-0x14b7,-0x2057*-0x1+-0xb30+-0x1527)),c(this,'density',0x115*0xe+0x49e+-0x13c4),c(this,'start',0x17e0+0x1088+-0x2867),c(this,'end',0x55*0x27+0x2489+-0x2d94);}}class ci extends ce{constructor(_0xdd093b){super(),c(this,'ambientBak'+'e',!(-0x1dae*-0x1+0x956+-0x2703)),c(this,'ambientBak'+'eOcclusion'+'Brightness',0xb2b+0x145a+-0x1f85),c(this,'ambientBak'+'eOcclusion'+'Contrast',0xaa8+-0x372+-0x736),c(this,'ambientLig'+'ht',new Y(-0x67*0x3+-0x8b5*-0x4+-0x219f,-0x1ad5+0x1e3f+-0x1b5*0x2,0x150a+-0x1*-0x1f1b+-0x1*0x3425)),c(this,'ambientLum'+'inance',-0xcfb+0x1*-0x237e+-0x1*-0x3079),c(this,'exposure',-0x5*-0x619+0x288*0x4+-0x5c*0x71),c(this,'lightmapSi'+'zeMultipli'+'er',0x47d+-0x2c4+-0x2*0xdc),c(this,'lightmapMa'+'xResolutio'+'n',0x3*0x42d+0x1eae+-0x2335),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(-0x12d6+0x1*-0x237a+0x3651*0x1)),c(this,'lightmapHD'+'R',!(0x293+0x8*0x116+0x5a1*-0x2)),c(this,'root',null),c(this,'physicalUn'+'its',!(0x1*0x5bf+-0x4*0x39c+-0x1*-0x8b2)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0xdd093b,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0xdd093b,this['_gravity']=new T(-0x1f51+-0x25*-0x1+0x1f2c,-(-0x114e+-0x365+0x14bc+0.8000000000000007),0x3bf+-0x1*0xcc6+0x907),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x1bbb+0x3*0xf+0x1b8f,this['_skyboxLum'+'inance']=0x47*0x89+-0x1369*0x2+-0x1*-0xd3,this['_skyboxMip']=-0x44*0x6a+0x923+0x3*0x657,this['_skyboxHig'+'hlightMult'+'iplier']=0x21c8+0x77f*0x5+-0x4742,this['_skyboxRot'+'ationShade'+'rInclude']=!(0x812+0x2394+0x1*-0x2ba5),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=0x169*0x8+-0x1*-0x1e69+-0x5c*0x74,this['_ambientBa'+'keSpherePa'+'rt']=0x1*-0x1203+-0x2e5+-0xc*-0x1be+0.4,this['_lightmapF'+'ilterRange']=-0x377*-0x7+-0xe*0x13c+0x5*-0x163,this['_lightmapF'+'ilterSmoot'+'hness']=-0xe0*0x2c+-0x15ae+-0x1*-0x3c2e+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x1*-0x1616+0xac2*-0x1+0x5*-0x244),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x2118+0x2323+-0x443b);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(0x1b1*0x10+-0x1daf+0x3d*0xb),this['_shaderVer'+'sion']=-0x1265+-0x81d+0x1a82,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0xb6954d){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0xb6954d),0xb7*-0x23+-0x93*-0x3d+-0xc5*0xd,0x5*0x703+0x7a*0x31+0x1cb5*-0x2);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x25d96a){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x25d96a,0x1*-0x1c57+-0x2*-0x7bb+0xce1+0.001,0x177+0xddc+0x2*-0x7a9);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x197ae9){if(this['device']['isWebGPU']&&!_0x197ae9){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x197ae9){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x197ae9;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x5e62a8){_0x5e62a8!==this['_envAtlas']&&(this['_envAtlas']=_0x5e62a8,_0x5e62a8&&(_0x5e62a8['addressU']=ae,_0x5e62a8['addressV']=ae,_0x5e62a8['minFilter']=st,_0x5e62a8['magFilter']=st,_0x5e62a8['mipmaps']=!(-0x1c7c+-0xed*0xd+0x2886)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x4a9e31){const _0x2c08d8=this['_layers'];this['_layers']=_0x4a9e31,this['fire']('set:layers',_0x2c08d8,_0x4a9e31);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x1987c4){this['_lightmapF'+'ilterRange']=Math['max'](_0x1987c4,-0x7*-0x1a6+0xb*0x32b+-0x2e63+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x526a70){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x526a70,-0x1652*-0x1+-0x1*-0x1be6+-0x3238+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x3bc7b6){_0x3bc7b6=_0x3bc7b6||[];const _0xa879cc=this['_prefilter'+'edCubemaps'];(_0xa879cc['length']!==_0x3bc7b6['length']||_0xa879cc['some']((_0x1dde7f,_0x39ebb1)=>_0x1dde7f!==_0x3bc7b6[_0x39ebb1]))&&(_0x3bc7b6['length']===0x169d+0x7*-0x7c+0x1*-0x1333&&_0x3bc7b6['every'](_0x1fe1f8=>!!_0x1fe1f8)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x3bc7b6,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x3bc7b6['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x1e2ecc){_0x1e2ecc!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x1e2ecc,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x12ff14){_0x12ff14!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x12ff14,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x24710b){_0x24710b!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x24710b,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x3307bc){_0x3307bc!==this['_skyboxMip']&&(this['_skyboxMip']=_0x3307bc,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0xb29961){_0xb29961!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0xb29961,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x460464){if(!this['_skyboxRot'+'ation']['equals'](_0x460464)){const _0xf39875=_0x460464['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x460464),_0xf39875?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x460464,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0xf39875&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x17*0x16f+0x19*0x5e+0x17cb),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x22bc03,_0x130aec,_0x1e8219=Y['WHITE'],_0x4ac67e=!(0x1675+-0xc9b*0x1+0x1a*-0x61),_0x266c22=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x266c22,_0x4ac67e)['addLines']([_0x22bc03,_0x130aec],[_0x1e8219,_0x1e8219]);}['drawLines'](_0x243b85,_0x5477b7,_0x10a773=!(0x1*-0x14d3+-0x235e+0x3831),_0x6cbae3=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x6cbae3,_0x10a773)['addLines'](_0x243b85,_0x5477b7);}['drawLineAr'+'rays'](_0x1d6cfd,_0x4c0597,_0x3174a6=!(0x1925+-0xa40+-0x5d*0x29),_0x5c8f9f=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5c8f9f,_0x3174a6)['addLinesAr'+'rays'](_0x1d6cfd,_0x4c0597);}['applySetti'+'ngs'](_0x1c4502){const _0x262fd5=_0x1c4502['physics'],_0x1504a2=_0x1c4502['render'];this['_gravity']['set'](_0x262fd5['gravity'][-0x1*-0x1f6b+0x5*-0x1bb+-0x16c4],_0x262fd5['gravity'][0xcb3*-0x2+-0x31*-0x3+-0xe3*-0x1c],_0x262fd5['gravity'][0x496*0x2+0x175*-0x4+-0x1*0x356]),this['ambientLig'+'ht']['set'](_0x1504a2['global_amb'+'ient'][-0x46*0x23+0x557*0x1+0x43b],_0x1504a2['global_amb'+'ient'][0x1cd5*-0x1+0xad*-0xc+0x24f2],_0x1504a2['global_amb'+'ient'][-0x9*-0x3cb+0x1154+-0x3375]),this['ambientLum'+'inance']=_0x1504a2['ambientLum'+'inance'],this['fog']['type']=_0x1504a2['fog'],this['fog']['color']['set'](_0x1504a2['fog_color'][-0x6e2*0x4+0xfde+0x5d5*0x2],_0x1504a2['fog_color'][-0x1d*0xb1+0x7fe+0xc1*0x10],_0x1504a2['fog_color'][-0x1d82+0x9*0x2c7+-0x59*-0xd]),this['fog']['start']=_0x1504a2['fog_start'],this['fog']['end']=_0x1504a2['fog_end'],this['fog']['density']=_0x1504a2['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x1504a2['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x1504a2['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x1504a2['lightmapMo'+'de'],this['exposure']=_0x1504a2['exposure'],this['_skyboxInt'+'ensity']=_0x1504a2['skyboxInte'+'nsity']??-0x5*0x2b5+0x1efb+-0x1171,this['_skyboxLum'+'inance']=_0x1504a2['skyboxLumi'+'nance']??-0x4c72*-0x1+-0x3683+0x3831,this['_skyboxMip']=_0x1504a2['skyboxMip']??-0x159b*-0x1+-0x187d*0x1+0x2e2,_0x1504a2['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0x1504a2['skyboxRota'+'tion'][-0x1c5e+-0x3*0x1+0x1c61],_0x1504a2['skyboxRota'+'tion'][0x958+0x55*-0x4b+0xf90],_0x1504a2['skyboxRota'+'tion'][-0x1913+-0x2c3*-0x1+0x1652])),this['sky']['applySetti'+'ngs'](_0x1504a2),this['clusteredL'+'ightingEna'+'bled']=_0x1504a2['clusteredL'+'ightingEna'+'bled']??!(-0x1bcb+-0x1490+0x305c),this['lighting']['applySetti'+'ngs'](_0x1504a2),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x10454d=>{_0x1504a2['hasOwnProp'+'erty'](_0x10454d)&&(this[_0x10454d]=_0x1504a2[_0x10454d]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x4e4643=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x4e4643[[0x4*-0x975+-0x525+0x2af9,-0x1*-0x1d7+0x4a*0x4a+0xb9d*-0x2,-0x16a+-0x1*-0x823+0x35b*-0x2,0x5f8+0xeb8+-0x2f4*0x7,-0x667+0x2*0xed4+-0x173c,0x13cb+0x94f*0x1+0x1d14*-0x1][this['_skyboxMip']]]||this['_envAtlas']||_0x4e4643[-0x1*0x1c6d+0x35d+0x1910]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x4e4643[-0x1170+-0x12a1*0x2+-0x1b59*-0x2]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x3*-0x899+-0x1848+-0x183);}['setSkybox'](_0x5413f0){_0x5413f0?(this['skybox']=_0x5413f0[0x1c97+0x6c1+0x138*-0x1d]||null,_0x5413f0[-0x1fd1+-0xb*0x19b+0x317b]&&!_0x5413f0[-0xd*-0x245+-0xfd5+-0xdab]['cubemap']?this['envAtlas']=_0x5413f0[-0x934+-0x16b*-0x1a+-0x1ba9]:this['prefiltere'+'dCubemaps']=_0x5413f0['slice'](0x5d4+-0x1*-0xe32+-0x1405)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0xfca731,_0x776a66,_0x179df7){this['device']=_0xfca731,this['inverseBin'+'dPose']=_0x776a66,this['boneNames']=_0x179df7;}}const b1=[-0x17c1+-0x5a6+0x1d67,0x144a+0x1c26+0x4d8*-0xa,-0x1d7+-0x3cf*-0x2+0x2e3*-0x2,0xcd6+-0x209a+-0x14*-0xfd,0x65b*0x3+0x15bb*-0x1+0x2aa,0xdac*-0x2+-0x35f+-0x1*-0x1eb8,-0x22f0+-0x9b+0x238b,-0xb40+0x7c8+0x378,-0xa5*0x26+-0x1*-0x25b7+-0xd38,0xa25+-0x1365+0x940,0x296*-0x5+-0x18*-0x3+0xca6*0x1,-0xd53+-0x2*0xa85+0x225e],w1=[0xe36+-0x3*-0xbcd+-0x1*0x319d,-0x162e+-0x110f+-0x139f*-0x2,0x122+-0x9*0x63+0x12e*0x2,0x1c0d+0x1d3b+-0x1ca3*0x2,0x2d9*0xc+0x1*-0x1ae9+0x3a0*-0x2,0x15ff+0xf92*0x2+0x1*-0x3522];class T1 extends ce{constructor(_0x524dad,_0x3c783c){super(),this['_device']=_0x524dad,this['_pixelsPer'+'Unit']=_0x3c783c&&_0x3c783c['pixelsPerU'+'nit']!==void(0xdd7+0x3b8*-0x7+-0x1*-0xc31)?_0x3c783c['pixelsPerU'+'nit']:0x15e0+0x1625*0x1+-0x2c04,this['_renderMod'+'e']=_0x3c783c&&_0x3c783c['renderMode']!==void(-0x2*0x1069+-0xdcf*-0x1+0x1303)?_0x3c783c['renderMode']:Ti,this['_atlas']=_0x3c783c&&_0x3c783c['atlas']!==void(0x3*0xc5f+-0x164d+-0xed0)?_0x3c783c['atlas']:null,this['_frameKeys']=_0x3c783c&&_0x3c783c['frameKeys']!==void(0x2b*0xca+-0x1978+-0x876)?_0x3c783c['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x2518+-0x12cd+-0x124a),this['_meshesDir'+'ty']=!(-0x1c3+-0x21af+0xa5*0x37),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x4ed933){this['_frameKeys']=_0x4ed933,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1333+-0x207b+0x2df*0x12):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x4ed933);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x2c2c1e){_0x2c2c1e!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x2c2c1e,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x88a*0x3+-0xc09*-0x1+-0x25a7):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x2c2c1e));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x5ae4e7){this['_pixelsPer'+'Unit']!==_0x5ae4e7&&(this['_pixelsPer'+'Unit']=_0x5ae4e7,this['fire']('set:pixels'+'PerUnit',_0x5ae4e7),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1c9b+-0x69+0xe82*0x2):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x108403){if(this['_renderMod'+'e']===_0x108403)return;const _0x52b241=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x108403,this['fire']('set:render'+'Mode',_0x108403),(_0x52b241===Ti||_0x108403===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x9*-0x1d1+0x185b+-0x28b4):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x2221d0=this['_meshes']['length'];for(let _0x476f56=-0xc3*-0x6+0x985+-0xe17;_0x476f56<_0x2221d0;_0x476f56++){const _0x21a360=this['_meshes'][_0x476f56];_0x21a360&&_0x21a360['destroy']();}const _0x5082d3=this['_frameKeys']['length'];this['_meshes']=new Array(_0x5082d3);const _0xaf3012=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x16965d=0xa97+0x1*0x125d+-0x1cf4;_0x16965d<_0x5082d3;_0x16965d++){const _0x4bcb5e=this['_atlas']['frames'][this['_frameKeys'][_0x16965d]];this['_meshes'][_0x16965d]=_0x4bcb5e?_0xaf3012['call'](this,_0x4bcb5e):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x10804d){const _0x545842=_0x10804d['rect'],_0x4e1182=this['_atlas']['texture']['width'],_0x3908c4=this['_atlas']['texture']['height'],_0x54dbff=_0x545842['z']/this['_pixelsPer'+'Unit'],_0x365896=_0x545842['w']/this['_pixelsPer'+'Unit'],_0x439a0b=_0x10804d['pivot']['x'],_0x111b67=_0x10804d['pivot']['y'],_0x3b661d=[-_0x439a0b*_0x54dbff,-_0x111b67*_0x365896,-0x8a7*-0x4+0x1202+-0x349e,(-0xb70+-0x3*-0x237+-0x133*-0x4-_0x439a0b)*_0x54dbff,-_0x111b67*_0x365896,-0x24ec+-0x2*0xf21+0x432e*0x1,(0xe58+0x49c+-0x12f3-_0x439a0b)*_0x54dbff,(-0x96*0x32+0x19e3+0x36a-_0x111b67)*_0x365896,0x1c5a+-0x24e5*-0x1+-0x413f,-_0x439a0b*_0x54dbff,(-0x8b*-0x43+-0x1*0x238a+-0xd6-_0x111b67)*_0x365896,-0xd*-0x2c9+-0x8f2+-0x1b43],_0x469309=_0x545842['x']/_0x4e1182,_0x4458f8=0x1*0xfef+-0x88+-0x12*0xdb-_0x545842['y']/_0x3908c4,_0x3cba64=(_0x545842['x']+_0x545842['z'])/_0x4e1182,_0x1f3ad5=-0x36c+-0x1fa7+-0x8c5*-0x4-(_0x545842['y']+_0x545842['w'])/_0x3908c4,_0x33688a=[_0x469309,_0x4458f8,_0x3cba64,_0x4458f8,_0x3cba64,_0x1f3ad5,_0x469309,_0x1f3ad5],_0x3f625d=new pn();return _0x3f625d['positions']=_0x3b661d,_0x3f625d['normals']=b1,_0x3f625d['uvs']=_0x33688a,_0x3f625d['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x3f625d);}['_create9Sl'+'iceMesh'](){const _0x5bfe1b=$['ONE'],_0x5236c7=0x5*0x384+0x13*0x10f+-0x25ae,_0xe8940a=-0x2027+0x1d62+-0x4*-0xb2,_0xdd58bd=[],_0x53e377=[],_0x58bbc2=[],_0x56744d=[];let _0x374dbc=-0x1529*-0x1+0x143e*-0x1+0x1*-0xeb;for(let _0x3e909e=0xb46+0x1db2+-0x28f8;_0x3e909e<=_0x5236c7;_0x3e909e++){const _0x19e0bd=_0x3e909e===-0x14e4+-0x1*-0xf23+0x5c1||_0x3e909e===_0x5236c7?-0x1589+-0x7*0x2ba+0x289f:0x23b+-0x32a+0xf0*0x1;for(let _0x39470a=-0x126f+0x1ddc*-0x1+-0x1*-0x304b;_0x39470a<=_0xe8940a;_0x39470a++){const _0x5ac082=-_0x5bfe1b['x']+(-0x14ac+0x215*0x11+0xeb7*-0x1)*_0x5bfe1b['x']*(_0x3e909e<=0xf27+0x1fe8+-0x2f0e?-0x63d+-0x15a*0x1c+-0x2c15*-0x1:-0x2d*-0xa5+0x1275*-0x1+-0x1f*0x57)/_0x5236c7,_0x4159c0=0x51f+-0x506+0x1*-0x19,_0xc1e4c7=-(-_0x5bfe1b['y']+(-0xc13+-0x74d+0x1362*0x1)*_0x5bfe1b['y']*(_0x39470a<=0x15e8*-0x1+0x7d7*0x1+-0x1*-0xe12?-0x22db*0x1+0x71*0x47+0x384:-0xa54+0x282*0xe+-0x18c5)/_0xe8940a),_0x1a0d4c=_0x39470a===-0x1ea5+0x208e+-0x1*0x1e9||_0x39470a===_0xe8940a?0xb*0x209+-0x6f9+0x1*-0xf6a:-0x775*0x3+-0x16c8+0x2d28;_0xdd58bd['push'](-_0x5ac082,_0x4159c0,_0xc1e4c7),_0x53e377['push'](0x10eb*0x1+0x7f+-0x116a,-0x5a2+0x12a9+0x683*-0x2,-0x899*0x3+-0xc51+-0x43c*-0x9),_0x58bbc2['push'](_0x19e0bd,_0x1a0d4c),_0x3e909e<_0x5236c7&&_0x39470a<_0xe8940a&&(_0x56744d['push'](_0x374dbc+_0xe8940a+(-0x12ca+-0x77*0x4e+0x370d),_0x374dbc+(0x1*0xac1+0x1a0a*0x1+-0x24ca),_0x374dbc),_0x56744d['push'](_0x374dbc+_0xe8940a+(0xfe*-0x21+0x51d+0x1*0x1ba2),_0x374dbc+_0xe8940a+(0x2038+0x325*0xb+0x31*-0x15d),_0x374dbc+(0x1*0x25+0x6*-0x1de+0xb10))),_0x374dbc++;}}const _0x549509=new pn();return _0x549509['positions']=_0xdd58bd,_0x549509['normals']=_0x53e377,_0x549509['uvs']=_0x58bbc2,_0x549509['indices']=_0x56744d,Ie['fromGeomet'+'ry'](this['_device'],_0x549509);}['_onSetFram'+'es'](_0x492fac){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1*-0x2456+-0xd81+0x491*-0x5):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x1c518a,_0x50cda0){const _0x2163a6=this['_frameKeys']['indexOf'](_0x1c518a);_0x2163a6<-0x781+-0x6e9+0x9*0x19a||(_0x50cda0?this['renderMode']===Ti&&(this['_meshes'][_0x2163a6]=this['_createSim'+'pleMesh'](_0x50cda0)):this['_meshes'][_0x2163a6]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x4bd72a){const _0x2fd585=this['_frameKeys']['indexOf'](_0x4bd72a);_0x2fd585<0x6a5+0x1*-0x26ab+0x1*0x2006||(this['_meshes'][_0x2fd585]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0xcbf+-0x340+-0x555*-0x3),this['_meshesDir'+'ty']=!(0xd69*0x1+-0x1*0x1229+-0x4c1*-0x1);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x175+0x1800+-0x1974),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x1f81+0x1b89+-0x3b09);}['destroy'](){for(const _0x47eda6 of this['_meshes'])_0x47eda6&&_0x47eda6['destroy']();this['_meshes']['length']=-0x27*-0x4c+0x1bb*-0x11+0x11d7;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0xf83a55){this['_texture']=_0xf83a55,this['fire']('set:textur'+'e',_0xf83a55);}get['texture'](){return this['_texture'];}set['frames'](_0x12ca9b){this['_frames']=_0x12ca9b,this['fire']('set:frames',_0x12ca9b);}get['frames'](){return this['_frames'];}['setFrame'](_0x240397,_0x53ba45){let _0x263de0=this['_frames'][_0x240397];_0x263de0?(_0x263de0['rect']['copy'](_0x53ba45['rect']),_0x263de0['pivot']['copy'](_0x53ba45['pivot']),_0x263de0['border']['copy'](_0x53ba45['border'])):(_0x263de0={'rect':_0x53ba45['rect']['clone'](),'pivot':_0x53ba45['pivot']['clone'](),'border':_0x53ba45['border']['clone']()},this['_frames'][_0x240397]=_0x263de0),this['fire']('set:frame',_0x240397['toString'](),_0x263de0);}['removeFram'+'e'](_0x400ae){const _0x5e2d61=this['_frames'][_0x400ae];_0x5e2d61&&(delete this['_frames'][_0x400ae],this['fire']('remove:fra'+'me',_0x400ae['toString'](),_0x5e2d61));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x422afb,_0x11f96c,_0x4ee091,_0x436f5b){this['time']=_0x422afb,this['position']=_0x11f96c,this['rotation']=_0x4ee091,this['scale']=_0x436f5b;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',-0x204d+-0x115*0x7+0x10*0x27e),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x50abcd){return this['_nodeDict'][_0x50abcd];}['addNode'](_0x485c6a){this['_nodes']['push'](_0x485c6a),this['_nodeDict'][_0x485c6a['_name']]=_0x485c6a;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(0x5e*-0x36+0x1*0x150b+0x1f*-0xa),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x22299d){this['_targetNod'+'e']=_0x22299d;}}class $d{constructor(_0xd14859){c(this,'looping',!(-0x47*-0x51+0x1064*-0x2+0xa51)),(this['_animation']=null,this['_time']=-0x545*0x1+-0x2375+0x28ba,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x213d37=_0xaeac5=>{const _0x41360e=new E1();_0x41360e['_name']=_0xaeac5['name'],this['_interpola'+'tedKeys']['push'](_0x41360e),this['_interpola'+'tedKeyDict'][_0xaeac5['name']]=_0x41360e,this['_currKeyIn'+'dices'][_0xaeac5['name']]=0x1358+-0x77e*-0x5+-0x38ce;for(let _0x993140=-0x11*0x52+0x26ad+-0x213b;_0x993140<_0xaeac5['_children']['length'];_0x993140++)_0x213d37(_0xaeac5['_children'][_0x993140]);};_0x213d37(_0xd14859);}set['animation'](_0x361d91){this['_animation']=_0x361d91,this['currentTim'+'e']=0x97*-0x13+-0x191b*0x1+0x2450;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x317477){this['_time']=_0x317477;const _0x9034e9=this['_interpola'+'tedKeys']['length'];for(let _0x310495=0x63b+0x15*0x2+0x665*-0x1;_0x310495<_0x9034e9;_0x310495++){const _0x25fea8=this['_interpola'+'tedKeys'][_0x310495]['_name'];this['_currKeyIn'+'dices'][_0x25fea8]=-0x239e+-0x14b+0x35b*0xb;}this['addTime'](-0x581+-0x191f+0x1ea0),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x26c18d){if(this['_animation']!==null){const _0x281659=this['_animation']['_nodes'],_0x2b89e7=this['_animation']['duration'];if(this['_time']===_0x2b89e7&&!this['looping'])return;if(this['_time']+=_0x26c18d,this['_time']>_0x2b89e7){this['_time']=this['looping']?-0x166d+-0x3c7*-0xa+-0xf59*0x1:_0x2b89e7;for(let _0x1b51ef=0x237a+0x18*-0x194+0x266;_0x1b51ef<_0x281659['length'];_0x1b51ef++){const _0x3456cd=_0x281659[_0x1b51ef]['_name'];this['_currKeyIn'+'dices'][_0x3456cd]=0x2161+0x502+-0x2663;}}else{if(this['_time']<-0x4+-0xb05+0xb09){this['_time']=this['looping']?_0x2b89e7:-0xa81+0x20c5+-0x17c*0xf;for(let _0x21c5d9=0x3*0xb7+-0xab5+0x890;_0x21c5d9<_0x281659['length'];_0x21c5d9++){const _0x37ee4c=_0x281659[_0x21c5d9],_0x495ce8=_0x37ee4c['_name'];this['_currKeyIn'+'dices'][_0x495ce8]=_0x37ee4c['_keys']['length']-(-0x367*0x4+0xf32+-0x194);}}}const _0x11afdc=_0x26c18d>=-0x18f8+0x1*-0x1061+0x845*0x5?0x23c0+0x2*0x400+-0xe95*0x3:-(0x24c9*0x1+0x98+0x2e0*-0xd);for(let _0x594215=-0x1*0x105b+0x1*-0x1d9f+0x2dfa;_0x594215<_0x281659['length'];_0x594215++){const _0x1c80d4=_0x281659[_0x594215],_0x204be2=_0x1c80d4['_name'],_0x2c0c67=_0x1c80d4['_keys'],_0x34701f=this['_interpola'+'tedKeyDict'][_0x204be2];if(_0x34701f===void(0x24a3+0x1fd*0x9+0x28*-0x15d)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x204be2);continue;}let _0x24ee13=!(-0x135d*-0x1+0x2351*0x1+-0x36ad);if(_0x2c0c67['length']!==-0x2*0x251+-0x3b1+0x854*0x1)for(let _0xee44c7=this['_currKeyIn'+'dices'][_0x204be2];_0xee44c7<_0x2c0c67['length']-(0x419*-0x5+-0x25e2+0x1d30*0x2)&&_0xee44c7>=0x10ee+0x1*0x13d+-0x122b*0x1;_0xee44c7+=_0x11afdc){const _0x5f0547=_0x2c0c67[_0xee44c7],_0x237b69=_0x2c0c67[_0xee44c7+(-0x26d5+-0x34*0xb3+0x4b32)];if(_0x5f0547['time']<=this['_time']&&_0x237b69['time']>=this['_time']){const _0xf18cc4=(this['_time']-_0x5f0547['time'])/(_0x237b69['time']-_0x5f0547['time']);_0x34701f['_pos']['lerp'](_0x5f0547['position'],_0x237b69['position'],_0xf18cc4),_0x34701f['_quat']['slerp'](_0x5f0547['rotation'],_0x237b69['rotation'],_0xf18cc4),_0x34701f['_scale']['lerp'](_0x5f0547['scale'],_0x237b69['scale'],_0xf18cc4),_0x34701f['_written']=!(-0x3*-0x84+0x1aed*-0x1+0x1961),this['_currKeyIn'+'dices'][_0x204be2]=_0xee44c7,_0x24ee13=!(0x1d0f+-0x1*-0x1fa1+-0x3cb0);break;}}(_0x2c0c67['length']===0x33b*0x7+0x1*0x2614+-0x3cb0||!_0x24ee13&&this['_time']===0x2*0x560+-0x192d+0x1*0xe6d&&this['looping'])&&(_0x34701f['_pos']['copy'](_0x2c0c67[0x959*-0x3+-0x4c8+-0x3*-0xaf1]['position']),_0x34701f['_quat']['copy'](_0x2c0c67[-0x221e+-0x1*-0x703+0x3*0x909]['rotation']),_0x34701f['_scale']['copy'](_0x2c0c67[-0x14e9+0xa2d+0xabc]['scale']),_0x34701f['_written']=!(0x5*-0xa+-0x1bfb+0x1*0x1c2d));}}}['blend'](_0x40d664,_0x31f3c5,_0x1f0408){const _0x575141=this['_interpola'+'tedKeys']['length'];for(let _0xe8763b=0x1746+-0x3*0xa57+0x7bf;_0xe8763b<_0x575141;_0xe8763b++){const _0x19d79c=_0x40d664['_interpola'+'tedKeys'][_0xe8763b],_0x3d3c77=_0x31f3c5['_interpola'+'tedKeys'][_0xe8763b],_0x3e8f7b=this['_interpola'+'tedKeys'][_0xe8763b];_0x19d79c['_written']&&_0x3d3c77['_written']?(_0x3e8f7b['_quat']['slerp'](_0x19d79c['_quat'],_0x31f3c5['_interpola'+'tedKeys'][_0xe8763b]['_quat'],_0x1f0408),_0x3e8f7b['_pos']['lerp'](_0x19d79c['_pos'],_0x31f3c5['_interpola'+'tedKeys'][_0xe8763b]['_pos'],_0x1f0408),_0x3e8f7b['_scale']['lerp'](_0x19d79c['_scale'],_0x3d3c77['_scale'],_0x1f0408),_0x3e8f7b['_written']=!(0x1c68+0x1*-0x25c7+-0x1*-0x95f)):_0x19d79c['_written']?(_0x3e8f7b['_quat']['copy'](_0x19d79c['_quat']),_0x3e8f7b['_pos']['copy'](_0x19d79c['_pos']),_0x3e8f7b['_scale']['copy'](_0x19d79c['_scale']),_0x3e8f7b['_written']=!(0x1e82+-0x17*-0xca+0x15a*-0x24)):_0x3d3c77['_written']&&(_0x3e8f7b['_quat']['copy'](_0x3d3c77['_quat']),_0x3e8f7b['_pos']['copy'](_0x3d3c77['_pos']),_0x3e8f7b['_scale']['copy'](_0x3d3c77['_scale']),_0x3e8f7b['_written']=!(-0xdf*-0x2b+-0x614+-0x1f61));}}['setGraph'](_0x394020){if(this['graph']=_0x394020,_0x394020)for(let _0x3cb808=0x517*0x1+0xe47+0x135e*-0x1;_0x3cb808<this['_interpola'+'tedKeys']['length'];_0x3cb808++){const _0x2f4af7=this['_interpola'+'tedKeys'][_0x3cb808],_0x3ef581=_0x394020['findByName'](_0x2f4af7['_name']);this['_interpola'+'tedKeys'][_0x3cb808]['setTarget'](_0x3ef581);}else{for(let _0x3c19ea=0x39a*0x1+-0xee8+-0x5a7*-0x2;_0x3c19ea<this['_interpola'+'tedKeys']['length'];_0x3c19ea++)this['_interpola'+'tedKeys'][_0x3c19ea]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x4742db=-0x3*0x89f+-0xe01+-0xa2*-0x3f;_0x4742db<this['_interpola'+'tedKeys']['length'];_0x4742db++){const _0x352df6=this['_interpola'+'tedKeys'][_0x4742db];if(_0x352df6['_written']){const _0x4ee9e9=_0x352df6['getTarget']();_0x4ee9e9['localPosit'+'ion']['copy'](_0x352df6['_pos']),_0x4ee9e9['localRotat'+'ion']['copy'](_0x352df6['_quat']),_0x4ee9e9['localScale']['copy'](_0x352df6['_scale']),_0x4ee9e9['_dirtyLoca'+'l']||_0x4ee9e9['_dirtifyLo'+'cal'](),_0x352df6['_written']=!(-0x2637+0x24a5+-0x1f*-0xd);}}}}const ys=(-0x2294+-0x23fa+0x4692)/(0x1e59+-0x2245*-0x1+-0x405e),Bs=0x171d*-0x1+-0x78d*0x2+0x2638-ys*(0x1562+-0x1157+-0x1*0x409);class Bp extends pn{constructor(_0x1b5813,_0x34f314,_0x4a2fd9,_0x478c6e,_0x19564b,_0x15b2f1){super();const _0x51331d=new T(),_0x17ded0=new T(),_0x3ac97a=new T(),_0x1775a4=new T(),_0x31bba6=new T(),_0x84aa0d=new T(),_0x3c2d0c=[],_0x2a4774=[],_0x331ec8=[],_0x34ffd0=[],_0x1ad8bf=[];let _0x4e601;if(_0x4a2fd9>-0x4f*0x56+0x25a9+-0x49*0x27){for(let _0x2ca71e=-0x211b+-0x2*-0x6e7+-0x1*-0x134d;_0x2ca71e<=_0x478c6e;_0x2ca71e++)for(let _0x189ed1=0x1*0x129a+-0x98d+-0x90d;_0x189ed1<=_0x19564b;_0x189ed1++){const _0x518388=_0x189ed1/_0x19564b*(0x2eb*0x9+-0x398*-0x2+0x2171*-0x1)*Math['PI']-Math['PI'],_0x4c89b2=Math['sin'](_0x518388),_0x32a565=Math['cos'](_0x518388);_0x31bba6['set'](_0x4c89b2*_0x1b5813,-_0x4a2fd9/(-0x1350+-0x116e+0x150*0x1c),_0x32a565*_0x1b5813),_0x1775a4['set'](_0x4c89b2*_0x34f314,_0x4a2fd9/(-0x25e6+0x47+-0x1fb*-0x13),_0x32a565*_0x34f314),_0x51331d['lerp'](_0x31bba6,_0x1775a4,_0x2ca71e/_0x478c6e),_0x17ded0['sub2'](_0x1775a4,_0x31bba6)['normalize'](),_0x84aa0d['set'](_0x32a565,0x4*-0x240+-0x16df+0x1fdf,-_0x4c89b2),_0x3ac97a['cross'](_0x84aa0d,_0x17ded0)['normalize'](),_0x3c2d0c['push'](_0x51331d['x'],_0x51331d['y'],_0x51331d['z']),_0x2a4774['push'](_0x3ac97a['x'],_0x3ac97a['y'],_0x3ac97a['z']);let _0x15eaac=_0x189ed1/_0x19564b,_0x3318b7=_0x2ca71e/_0x478c6e;_0x331ec8['push'](_0x15eaac,0x632+-0x2*0xbaa+0x1123-_0x3318b7);const _0x36cf1d=_0x3318b7;if(_0x3318b7=_0x15eaac,_0x15eaac=_0x36cf1d,_0x15eaac=_0x15eaac*Bs+ys,_0x3318b7=_0x3318b7*Bs+ys,_0x15eaac/=0xd*0x8d+0x26c8+-0x2dee*0x1,_0x34ffd0['push'](_0x15eaac,0x8f5*-0x4+0x229e+0x137-_0x3318b7),_0x2ca71e<_0x478c6e&&_0x189ed1<_0x19564b){const _0x10fe0d=_0x2ca71e*(_0x19564b+(-0x1ace*0x1+0x2c3+0x3*0x804))+_0x189ed1,_0x4796a4=_0x2ca71e*(_0x19564b+(-0x5*0x7cf+-0x24cd*-0x1+0x23f))+(_0x189ed1+(0x1db+-0xc02+0xa28)),_0x3ef526=(_0x2ca71e+(0x10be+0x15a8+-0x1*0x2665))*(_0x19564b+(-0x2cc+-0xdb6+0x581*0x3))+_0x189ed1,_0x1cd995=(_0x2ca71e+(0x250b+-0x1fc2+0x34*-0x1a))*(_0x19564b+(0xcad+0x51*-0x55+0xb*0x14b))+(_0x189ed1+(0x1d36*-0x1+-0xc10+-0x2947*-0x1));_0x1ad8bf['push'](_0x10fe0d,_0x4796a4,_0x3ef526),_0x1ad8bf['push'](_0x4796a4,_0x1cd995,_0x3ef526);}}}if(_0x15b2f1){const _0x4f201e=Math['floor'](_0x19564b/(0x1808+0x55*0x61+-0x383b)),_0x1e73a3=_0x19564b,_0x3a7dcb=_0x4a2fd9/(-0x1542*-0x1+0xeb6+0x23f6*-0x1);for(let _0x392cc4=0x134d+-0x25*0x1a+-0xf8b;_0x392cc4<=_0x4f201e;_0x392cc4++){const _0x59a75a=_0x392cc4*Math['PI']*(0x39f+-0x12c3+-0xf24*-0x1+0.5)/_0x4f201e,_0x2c24b7=Math['sin'](_0x59a75a),_0x86028e=Math['cos'](_0x59a75a);for(let _0x584649=0x148*-0x7+0x1298*-0x2+0x34c*0xe;_0x584649<=_0x1e73a3;_0x584649++){const _0x306d18=_0x584649*(0x21d5+0x7dd+0x14d8*-0x2)*Math['PI']/_0x1e73a3-Math['PI']/(-0x2*0x998+-0x254e+-0x71*-0x80),_0xcd46d=Math['sin'](_0x306d18),_0xa5199a=Math['cos'](_0x306d18)*_0x2c24b7,_0x524081=_0x86028e,_0x331856=_0xcd46d*_0x2c24b7;let _0x2f4700=-0xb*-0x1b5+-0x21a9+-0x67*-0x25-_0x584649/_0x1e73a3,_0x5a4b6b=-0x1*-0x26dd+0x1dc1+-0x449d-_0x392cc4/_0x4f201e;_0x3c2d0c['push'](_0xa5199a*_0x34f314,_0x524081*_0x34f314+_0x3a7dcb,_0x331856*_0x34f314),_0x2a4774['push'](_0xa5199a,_0x524081,_0x331856),_0x331ec8['push'](_0x2f4700,0x1*0x214f+0x3*-0x30a+-0x1830-_0x5a4b6b),_0x2f4700=_0x2f4700*Bs+ys,_0x5a4b6b=_0x5a4b6b*Bs+ys,_0x2f4700/=0x2605+-0x27a+0x8*-0x471,_0x5a4b6b/=-0xfc1*0x2+0x957+0x162e,_0x2f4700+=(0x1*0x17cb+-0xa24+-0xda6)/(-0x9*0xad+-0x1136+0x174e),_0x34ffd0['push'](_0x2f4700,0x263c+-0x3*0x149+-0x64*0x58-_0x5a4b6b);}}_0x4e601=(_0x478c6e+(-0x3e8+-0x178a+0x1b73*0x1))*(_0x19564b+(0x15f5*-0x1+0x167c+-0x86*0x1));for(let _0x272834=0x1723+-0x144c+0x1*-0x2d7;_0x272834<_0x4f201e;++_0x272834)for(let _0x24f95e=0x281*-0x2+0x909+-0x1*0x407;_0x24f95e<_0x1e73a3;++_0x24f95e){const _0x48352a=_0x272834*(_0x1e73a3+(-0xfc5+0x1ec6+-0x280*0x6))+_0x24f95e,_0x3721a0=_0x48352a+_0x1e73a3+(-0x21d3+0x3*0x329+0x1859);_0x1ad8bf['push'](_0x4e601+_0x48352a+(-0x2*-0x129e+0x16*0xbc+-0x3563*0x1),_0x4e601+_0x3721a0,_0x4e601+_0x48352a),_0x1ad8bf['push'](_0x4e601+_0x48352a+(0x1d66+0xee6+-0x2c4b),_0x4e601+_0x3721a0+(0x4fd+0x7a4+-0xca0),_0x4e601+_0x3721a0);}for(let _0x46d642=-0x4dc*0x1+-0x1*-0x1d3f+-0x1863;_0x46d642<=_0x4f201e;_0x46d642++){const _0x1249f7=Math['PI']*(0x251a+-0x224b+-0x2cf+0.5)+_0x46d642*Math['PI']*(0x15ec+-0x447+-0x11a5*0x1+0.5)/_0x4f201e,_0x21d666=Math['sin'](_0x1249f7),_0x3af462=Math['cos'](_0x1249f7);for(let _0x1fc175=-0x14f5+-0x15d*0x11+0x2c22;_0x1fc175<=_0x1e73a3;_0x1fc175++){const _0x279298=_0x1fc175*(-0x1f6a+-0x238a+0xb29*0x6)*Math['PI']/_0x1e73a3-Math['PI']/(0x3*0x6f3+0x1cc9*0x1+-0x31a0),_0x180726=Math['sin'](_0x279298),_0x3083b6=Math['cos'](_0x279298)*_0x21d666,_0x15b9d3=_0x3af462,_0x5b9a66=_0x180726*_0x21d666;let _0x481615=-0x1*-0x20b8+-0xf9d+-0x111a-_0x1fc175/_0x1e73a3,_0x21bbde=0x5ce+-0x1291+0xcc4-_0x46d642/_0x4f201e;_0x3c2d0c['push'](_0x3083b6*_0x34f314,_0x15b9d3*_0x34f314-_0x3a7dcb,_0x5b9a66*_0x34f314),_0x2a4774['push'](_0x3083b6,_0x15b9d3,_0x5b9a66),_0x331ec8['push'](_0x481615,0xd*-0x301+-0x1590+0x3c9e-_0x21bbde),_0x481615=_0x481615*Bs+ys,_0x21bbde=_0x21bbde*Bs+ys,_0x481615/=0x24f*-0x1+0x1849+-0x15f7,_0x21bbde/=0x1e62+-0x1411+-0xa4e,_0x481615+=(-0xa*-0x142+-0xbb2+0x20*-0x7)/(0x2167*0x1+-0x1a6*-0xb+-0x3386),_0x34ffd0['push'](_0x481615,-0xe*-0x1f7+-0x17*0x1d+-0x18e6-_0x21bbde);}}_0x4e601=(_0x478c6e+(0x599*-0x1+0x293*0x5+-0x745))*(_0x19564b+(0x24*-0x18+-0x9d7*-0x1+-0x676))+(_0x1e73a3+(0x9e8*-0x2+0xe7c+-0xd*-0x69))*(_0x4f201e+(-0x59e*0x3+-0x26fd+0x37d8));for(let _0x16cec2=0x152f+-0xc17+-0x123*0x8;_0x16cec2<_0x4f201e;++_0x16cec2)for(let _0xd1e739=0x141d+-0x12d5+-0x148;_0xd1e739<_0x1e73a3;++_0xd1e739){const _0x4dd8a5=_0x16cec2*(_0x1e73a3+(-0x5d3+0xf5f+-0x98b))+_0xd1e739,_0x1c980b=_0x4dd8a5+_0x1e73a3+(-0x1379+-0x18*0x109+0x2c52);_0x1ad8bf['push'](_0x4e601+_0x4dd8a5+(0x42*0x3f+-0x4*-0x24d+-0x1971),_0x4e601+_0x1c980b,_0x4e601+_0x4dd8a5),_0x1ad8bf['push'](_0x4e601+_0x4dd8a5+(0x1706+-0x1755*-0x1+-0x2e5a),_0x4e601+_0x1c980b+(-0x25fe*-0x1+-0x9ee+-0x1c0f*0x1),_0x4e601+_0x1c980b);}}else{if(_0x4e601=(_0x478c6e+(-0x103a+0x364+0x1*0xcd7))*(_0x19564b+(-0x2f*-0xc7+-0x3*-0xa15+-0x1*0x42c7)),_0x1b5813>0x1b*-0x103+-0xab7+0x2608)for(let _0x37c39b=0x1edb+-0x174+-0x1d67;_0x37c39b<_0x19564b;_0x37c39b++){const _0x4cf635=_0x37c39b/_0x19564b*(-0x935+0x1*0x2494+0x579*-0x5)*Math['PI'],_0x47b82d=Math['sin'](_0x4cf635),_0x5e517f=-_0x4a2fd9/(0x1c2b*0x1+-0x1*0x18da+-0x34f),_0x1e160b=Math['cos'](_0x4cf635);let _0x54837a=0xcee+-0x1*-0x2429+-0x3116-(_0x47b82d+(0x26e3+0x29*0x8b+-0x3d25))/(0x5*0x7c7+0x4*-0x28c+-0x1cb1),_0x401338=(_0x1e160b+(0x1b23+-0x1*0x20b+-0x1917))/(-0x16c4+-0x419*0x6+-0x1*-0x2f5c);_0x3c2d0c['push'](_0x47b82d*_0x1b5813,_0x5e517f,_0x1e160b*_0x1b5813),_0x2a4774['push'](0x1db0+0x1*-0x1e3+-0x1bcd,-(-0x1e8f+0xb24*0x1+0x136c),-0x210f+0x171e+0x9f1),_0x331ec8['push'](_0x54837a,0xba5*-0x3+-0x634+-0x2924*-0x1-_0x401338),_0x54837a=_0x54837a*Bs+ys,_0x401338=_0x401338*Bs+ys,_0x54837a/=0x16d6*-0x1+0x219d+-0x35*0x34,_0x401338/=-0x43f*0x1+-0x10d*0x5+0x983,_0x54837a+=(-0x199*0x4+-0x109*-0x19+-0x4df*0x4)/(-0x2386+0x19fe+-0x1*-0x98b),_0x34ffd0['push'](_0x54837a,0x500*-0x7+0x1919+0x9e8-_0x401338),_0x37c39b>-0x4a8+0x1b72+-0x16c9&&_0x1ad8bf['push'](_0x4e601,_0x4e601+_0x37c39b,_0x4e601+_0x37c39b-(-0x1bf4*0x1+-0xb5*0x1+-0x1*-0x1caa));}if(_0x4e601+=_0x19564b,_0x34f314>0x1f8e+-0x7b8+-0xbeb*0x2)for(let _0x312890=-0xe*-0xbc+0x1da8+-0x27f0;_0x312890<_0x19564b;_0x312890++){const _0x384085=_0x312890/_0x19564b*(-0x2e*-0xd9+0x1*-0x22b8+-0x444)*Math['PI'],_0x5dbbb4=Math['sin'](_0x384085),_0x33eecc=_0x4a2fd9/(-0xb*0xbe+-0xfc4+0x8*0x2fe),_0x38fe87=Math['cos'](_0x384085);let _0x198e96=0xd89+-0x167e+0x8f6-(_0x5dbbb4+(0x100d+0x21f7+-0x19d*0x1f))/(-0x1eb3*-0x1+-0x7b9+-0x16f8),_0x209423=(_0x38fe87+(-0x1c9*-0x13+-0x1*-0x1825+-0x59*0xa7))/(0x1791+-0x2e9+0x6*-0x371);_0x3c2d0c['push'](_0x5dbbb4*_0x34f314,_0x33eecc,_0x38fe87*_0x34f314),_0x2a4774['push'](0x1*0xfba+-0x245f+-0x7*-0x2f3,-0x220b+-0x253f+0x474b,0xd21+-0x13c1+-0x8*-0xd4),_0x331ec8['push'](_0x198e96,-0x3*-0x4b3+0x2248+-0x12*0x2b0-_0x209423),_0x198e96=_0x198e96*Bs+ys,_0x209423=_0x209423*Bs+ys,_0x198e96/=0x105e+0x9a1*0x2+-0x9*0x3f5,_0x209423/=0xa4+-0x1b9b+0x1afa,_0x198e96+=(-0x1852+0x1a37+0x3*-0xa1)/(0x14de+0x254f+-0x3a2a),_0x34ffd0['push'](_0x198e96,0x353*0x4+-0x413*0x7+0xf3a-_0x209423),_0x312890>-0x9*0x300+0x616*-0x1+0x2117&&_0x1ad8bf['push'](_0x4e601,_0x4e601+_0x312890-(0x444+0x1*-0x1186+0xd43),_0x4e601+_0x312890);}}this['positions']=_0x3c2d0c,this['normals']=_0x2a4774,this['uvs']=_0x331ec8,this['uvs1']=_0x34ffd0,this['indices']=_0x1ad8bf;}}class C1 extends Bp{constructor(_0x1152f2={}){const _0x21c997=_0x1152f2['radius']??-0x1*0x243+-0x13a5+0x2*0xaf4+0.3,_0x71f576=_0x1152f2['height']??-0x3*-0x9d+-0x1*0xacf+0x1*0x8f9,_0x34f5f7=_0x1152f2['heightSegm'+'ents']??0x9c5+-0x1*0x1ab1+0x10ed,_0xc0b7b5=_0x1152f2['sides']??0x1*-0x1ec1+-0x1e28+0x3cfd;super(_0x21c997,_0x21c997,_0x71f576-(-0x256*0x5+-0x1*0x1ea2+-0x1529*-0x2)*_0x21c997,_0x34f5f7,_0xc0b7b5,!(0xe5a+0x1112+-0x1f6c)),_0x1152f2['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0x423802={}){const _0x5a2bef=_0x423802['baseRadius']??-0x1*0x92b+0x14f0+-0x1*0xbc5+0.5,_0x2385e2=_0x423802['peakRadius']??-0x2*-0x7a5+-0xebe+0x14*-0x7,_0x1757c9=_0x423802['height']??-0x2368+0xc2*-0x5+-0x2733*-0x1,_0x52193b=_0x423802['heightSegm'+'ents']??-0x166*0x1+0x20be+-0x1f53,_0x58ace1=_0x423802['capSegment'+'s']??-0x1e09*0x1+0x1*-0xf7+0x29*0xc2;super(_0x5a2bef,_0x2385e2,_0x1757c9,_0x52193b,_0x58ace1,!(0x651+-0x1ab*-0xd+-0x1bff)),_0x423802['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0x54b770={}){const _0x41858d=_0x54b770['radius']??0x212b+0x844+-0x296f+0.5,_0x221520=_0x54b770['height']??0x2441+0x1e8f+-0x42cf,_0x3909e9=_0x54b770['heightSegm'+'ents']??0x3*-0xbf+-0x1add+0x1d1f,_0x43d882=_0x54b770['capSegment'+'s']??0x9b6+0x1*0xebd+-0x185f;super(_0x41858d,_0x41858d,_0x221520,_0x3909e9,_0x43d882,!(-0x27*-0xc5+-0x2113+-0x9d*-0x5)),_0x54b770['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x3ac283={}){super();const _0x51f0b9=_0x3ac283['halfExtent'+'s']??new $(0x697*-0x1+0x3*-0x3c2+0x1*0x11dd+0.5,0x1*0x175e+0x1f34+-0x3692+0.5),_0x57fc6b=_0x3ac283['widthSegme'+'nts']??-0xbbb+0x25bf*-0x1+0x317f,_0x1e2681=_0x3ac283['lengthSegm'+'ents']??0x1a78+0x1b*0x15+0x4c7*-0x6,_0x7fede3=[],_0x2d3ed2=[],_0x3eb9ac=[],_0x4e5070=[];let _0x45300b=-0xc96+-0xdb6+0x1a4c;for(let _0x459fa7=-0x1898*-0x1+-0x207b+0x7e3;_0x459fa7<=_0x57fc6b;_0x459fa7++)for(let _0x27472a=0x15cd+-0x222+-0x5*0x3ef;_0x27472a<=_0x1e2681;_0x27472a++){const _0x2bb462=-_0x51f0b9['x']+(-0x2165+-0xac1+0x2c28)*_0x51f0b9['x']*_0x459fa7/_0x57fc6b,_0x336a54=0x1a30+0x3*-0x61+-0x1*0x190d,_0x3d84b1=-(-_0x51f0b9['y']+(0x1d9a+0x107*0xc+-0x29ec)*_0x51f0b9['y']*_0x27472a/_0x1e2681),_0x32caea=_0x459fa7/_0x57fc6b,_0x181294=_0x27472a/_0x1e2681;_0x7fede3['push'](_0x2bb462,_0x336a54,_0x3d84b1),_0x2d3ed2['push'](-0x160*-0x2+-0x1b77+0x18b7,-0x44*0x81+0x2075+-0xe8*-0x2,0x1daa+0x1*-0x2227+0x17f*0x3),_0x3eb9ac['push'](_0x32caea,-0x35*-0x4c+0xf1a+-0x1ed5*0x1-_0x181294),_0x459fa7<_0x57fc6b&&_0x27472a<_0x1e2681&&(_0x4e5070['push'](_0x45300b+_0x1e2681+(-0x748+-0xdab*-0x1+-0x2*0x331),_0x45300b+(-0x2221+-0x96a+-0x6*-0x742),_0x45300b),_0x4e5070['push'](_0x45300b+_0x1e2681+(0x295*-0xf+0x2096*0x1+0x626),_0x45300b+_0x1e2681+(0x13d5+-0x2475+0x10a2),_0x45300b+(-0xb2f+0x13a*-0xc+-0x8*-0x33d))),_0x45300b++;}this['positions']=_0x7fede3,this['normals']=_0x2d3ed2,this['uvs']=_0x3eb9ac,this['uvs1']=_0x3eb9ac,this['indices']=_0x4e5070,_0x3ac283['calculateT'+'angents']&&(this['tangents']=fr(_0x7fede3,_0x2d3ed2,_0x3eb9ac,_0x4e5070));}}class I1 extends pn{constructor(_0x40167e={}){super();const _0xb6b028=_0x40167e['tubeRadius']??-0x2285*0x1+-0x2238+0x1*0x44bd+0.2,_0x1daa05=_0x40167e['ringRadius']??0x986+0x251c+-0x2ea2+0.3,_0x25b90c=(_0x40167e['sectorAngl'+'e']??-0x1*0x922+-0x2*0xc91+-0x23ac*-0x1)*N['DEG_TO_RAD'],_0x449603=_0x40167e['segments']??-0x1565+-0x1ec6+0x5*0xa75,_0x4ae9d6=_0x40167e['sides']??0x1632+0x25f*-0x6+-0x7e4,_0x32fa1f=[],_0x52bbb5=[],_0x5addb2=[],_0x2c641c=[];for(let _0x1a7a16=0x220b*-0x1+-0x2*-0x11ea+-0x1*0x1c9;_0x1a7a16<=_0x4ae9d6;_0x1a7a16++)for(let _0x215878=0x1da8*-0x1+0x1*0x1324+0xa84;_0x215878<=_0x449603;_0x215878++){const _0x1595c5=Math['cos'](_0x25b90c*_0x215878/_0x449603)*(_0x1daa05+_0xb6b028*Math['cos']((0xb65*0x2+0x2031*0x1+-0x36f9)*Math['PI']*_0x1a7a16/_0x4ae9d6)),_0x1a00ca=Math['sin']((0x488+-0x201*0xd+-0x21*-0xa7)*Math['PI']*_0x1a7a16/_0x4ae9d6)*_0xb6b028,_0x46b7d9=Math['sin'](_0x25b90c*_0x215878/_0x449603)*(_0x1daa05+_0xb6b028*Math['cos']((0x1a5e+0x21ad+-0x3c09)*Math['PI']*_0x1a7a16/_0x4ae9d6)),_0x33484e=Math['cos'](_0x25b90c*_0x215878/_0x449603)*Math['cos']((-0x1cfc+0x2c5*-0x2+-0x6e8*-0x5)*Math['PI']*_0x1a7a16/_0x4ae9d6),_0x34e32c=Math['sin']((0xfbb*0x1+-0x1*0x85b+-0x2*0x3af)*Math['PI']*_0x1a7a16/_0x4ae9d6),_0x8af318=Math['sin'](_0x25b90c*_0x215878/_0x449603)*Math['cos']((0x3*0x63+-0x3*-0x929+0x5*-0x5ba)*Math['PI']*_0x1a7a16/_0x4ae9d6),_0x5b6a4e=_0x1a7a16/_0x4ae9d6,_0x273a9e=0x245*0x3+-0x1106*-0x1+-0x17d4-_0x215878/_0x449603;if(_0x32fa1f['push'](_0x1595c5,_0x1a00ca,_0x46b7d9),_0x52bbb5['push'](_0x33484e,_0x34e32c,_0x8af318),_0x5addb2['push'](_0x5b6a4e,0x207d+0x6f4+-0x4*0x9dc-_0x273a9e),_0x1a7a16<_0x4ae9d6&&_0x215878<_0x449603){const _0x5c731a=_0x1a7a16*(_0x449603+(0x1443+0x18f3+0xa3*-0x47))+_0x215878,_0x1198ea=(_0x1a7a16+(-0x1*0x21de+-0x6c1+0x28a0))*(_0x449603+(0x50b*-0x3+0x70e+0x814*0x1))+_0x215878,_0x2db189=_0x1a7a16*(_0x449603+(0x238a+-0x4f2+0x29*-0xbf))+(_0x215878+(-0x1edf+-0xf3c+0xe3*0x34)),_0x1de2c0=(_0x1a7a16+(0xb26*0x1+0x11df+-0x1d04))*(_0x449603+(0x1a2b+0x8f*-0x23+-0x69d))+(_0x215878+(-0x1206*-0x1+0x1*0x1613+-0x2818));_0x2c641c['push'](_0x5c731a,_0x1198ea,_0x2db189),_0x2c641c['push'](_0x1198ea,_0x1de2c0,_0x2db189);}}this['positions']=_0x32fa1f,this['normals']=_0x52bbb5,this['uvs']=_0x5addb2,this['uvs1']=_0x5addb2,this['indices']=_0x2c641c,_0x40167e['calculateT'+'angents']&&(this['tangents']=fr(_0x32fa1f,_0x52bbb5,_0x5addb2,_0x2c641c));}}class D1{constructor(_0x323b92,_0x1e83ed){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x323b92,this['_isClearin'+'gCache']=!(-0x1*-0x12a4+0x205f+0x1*-0x3302),this['_precached']=!(0x151f*0x1+-0x2*0xc7+0x8*-0x272),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x167d96=new A0();_0x1e83ed['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x167d96,_0x1e83ed,null,[],gn,null),_0x1e83ed['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x1e83ed,null,Rp,null),_0x323b92['on']('destroy:sh'+'ader',_0x360df3=>{this['removeFrom'+'Cache'](_0x360df3);});}['destroy'](){this['clearCache']();}['register'](_0x1a6ea1,_0x5f0976){this['_generator'+'s']['has'](_0x1a6ea1)||this['_generator'+'s']['set'](_0x1a6ea1,_0x5f0976);}['unregister'](_0x5c3400){this['_generator'+'s']['has'](_0x5c3400)&&this['_generator'+'s']['delete'](_0x5c3400);}['isRegister'+'ed'](_0x404b47){return this['_generator'+'s']['has'](_0x404b47);}['generateSh'+'aderDefini'+'tion'](_0x4adc49,_0x51899f,_0x493bc2,_0x11feae){var _0x41967b,_0x2c1fd3;let _0x506bab=this['definition'+'sCache']['get'](_0x493bc2);if(!_0x506bab){let _0x5c7866;(_0x41967b=_0x11feae['litOptions'])!=null&&_0x41967b['lights']&&(_0x5c7866=_0x11feae['litOptions']['lights'],_0x11feae['litOptions']['lights']=_0x5c7866['map'](_0x5135dd=>{const _0x2b5c20=_0x5135dd['clone']?_0x5135dd['clone']():_0x5135dd;return _0x2b5c20['key']=_0x5135dd['key'],_0x2b5c20;})),this['storeNewPr'+'ogram'](_0x51899f,_0x11feae),(_0x2c1fd3=_0x11feae['litOptions'])!=null&&_0x2c1fd3['lights']&&(_0x11feae['litOptions']['lights']=_0x5c7866),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x51899f+'\x20key\x20'+_0x493bc2+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x3efb08=this['_device'];_0x506bab=_0x4adc49['createShad'+'erDefiniti'+'on'](_0x3efb08,_0x11feae),_0x506bab['name']=_0x506bab['name']??(_0x11feae['pass']?_0x51899f+'-pass:'+_0x11feae['pass']:_0x51899f),this['definition'+'sCache']['set'](_0x493bc2,_0x506bab);}return _0x506bab;}['getCachedS'+'hader'](_0x5affbd){return this['processedC'+'ache']['get'](_0x5affbd);}['setCachedS'+'hader'](_0x5b82d0,_0x37d30f){this['processedC'+'ache']['set'](_0x5b82d0,_0x37d30f);}['getProgram'](_0x206dd2,_0x275c5f,_0x422a6f,_0x50cdd4){const _0x492a6b=this['_generator'+'s']['get'](_0x206dd2);if(!_0x492a6b)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x206dd2),null;const _0x13ecde=_0x492a6b['generateKe'+'y'](_0x275c5f),_0x2936b0=hn(_0x13ecde),_0x5026d5=_0x422a6f['generateKe'+'y'](this['_device']),_0x13f800=hn(_0x5026d5),_0x4a24c6=_0x2936b0+'#'+_0x13f800;let _0xf9866e=this['getCachedS'+'hader'](_0x4a24c6);if(!_0xf9866e){const _0x2fc41d=this['generateSh'+'aderDefini'+'tion'](_0x492a6b,_0x206dd2,_0x2936b0,_0x275c5f);v['assert'](_0x2fc41d);let _0x1b7007='',_0x5346c6;_0x275c5f['pass']!==void(0x3c4*0x5+0x1f*-0xb7+0x355)&&(_0x5346c6=Ks['get'](this['_device'])['getByIndex'](_0x275c5f['pass']),_0x1b7007='-'+_0x5346c6['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x50cdd4,'shaderPassInfo':_0x5346c6,'definition':_0x2fc41d});const _0x54cadd={'name':''+_0x2fc41d['name']+_0x1b7007+'-proc','attributes':_0x2fc41d['attributes'],'vshader':_0x2fc41d['vshader'],'vincludes':_0x2fc41d['vincludes'],'fincludes':_0x2fc41d['fincludes'],'fshader':_0x2fc41d['fshader'],'processingOptions':_0x422a6f,'shaderLanguage':_0x2fc41d['shaderLang'+'uage'],'meshUniformBufferFormat':_0x2fc41d['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x2fc41d['meshBindGr'+'oupFormat']};_0xf9866e=new i0(this['_device'],_0x54cadd),v['call'](()=>{_0xf9866e['_generatio'+'nKey']=_0x13ecde,_0xf9866e['_processin'+'gKey']=_0x5026d5;}),this['setCachedS'+'hader'](_0x4a24c6,_0xf9866e);}return _0xf9866e;}['storeNewPr'+'ogram'](_0xfedfb5,_0x28c715){let _0x223eb6={};if(_0xfedfb5==='standard'){const _0x373abd=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x28c715['pass']);for(const _0xc454cb in _0x28c715)(_0x28c715['hasOwnProp'+'erty'](_0xc454cb)&&_0x373abd[_0xc454cb]!==_0x28c715[_0xc454cb]||_0xc454cb==='pass')&&(_0x223eb6[_0xc454cb]=_0x28c715[_0xc454cb]);for(const _0x437ef6 in _0x28c715['litOptions'])_0x223eb6[_0x437ef6]=_0x28c715['litOptions'][_0x437ef6];}else _0x223eb6=_0x28c715;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0xfedfb5,'options':_0x223eb6}));}['dumpProgra'+'ms'](){let _0x1a75ee='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x1a75ee+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x1*0x1e4f+0x735+-0x2584]&&(_0x1a75ee+='\x0a\x09'+this['_programsC'+'ollection'][0x905+-0x9bd+0xb8]);for(let _0x451ae5=-0x83+-0x6*-0x52c+-0xe*0x22e;_0x451ae5<this['_programsC'+'ollection']['length'];++_0x451ae5)_0x1a75ee+=',\x0a\x09'+this['_programsC'+'ollection'][_0x451ae5];_0x1a75ee+='\x0a];\x0a',_0x1a75ee+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x1a75ee+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x1a75ee+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x26fe3c=document['createElem'+'ent']('a');_0x26fe3c['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x1a75ee)),_0x26fe3c['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x26fe3c['style']['display']='none',document['body']['appendChil'+'d'](_0x26fe3c),_0x26fe3c['click'](),document['body']['removeChil'+'d'](_0x26fe3c);}['clearCache'](){this['_isClearin'+'gCache']=!(0x1*-0x24+-0x8*0x404+0x2044),this['processedC'+'ache']['forEach'](_0x52fabb=>{_0x52fabb['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0x3*0x36e+0x1b67+-0x25b0);}['removeFrom'+'Cache'](_0x11818d){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x3a0da3,_0x21f06c)=>{_0x11818d===_0x3a0da3&&this['processedC'+'ache']['delete'](_0x21f06c);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x4b39e6){const _0x4c0880=Ks['get'](this['_device'])['getByIndex'](_0x4b39e6);return _0x4b39e6===rl||_0x4b39e6===Oa||_0x4b39e6===il||_0x4c0880['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x46a7f1){if(_0x46a7f1){const _0x260e46=new Array(_0x46a7f1['length']);for(let _0x3efebb=0x114a*0x2+0x2*-0x5f2+0x790*-0x3;_0x3efebb<_0x46a7f1['length'];_0x3efebb++){if(_0x46a7f1[_0x3efebb]['name']==='standard'){const _0x533f65=_0x46a7f1[_0x3efebb]['options'],_0x288c13=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x533f65['pass']);for(const _0x4e7014 in _0x288c13)_0x288c13['hasOwnProp'+'erty'](_0x4e7014)&&_0x533f65[_0x4e7014]===void(0x20da+-0x9b*0x19+-0x11b7)&&(_0x533f65[_0x4e7014]=_0x288c13[_0x4e7014]);}_0x260e46[_0x3efebb]=this['getProgram'](_0x46a7f1[_0x3efebb]['name'],_0x46a7f1[_0x3efebb]['options']);}}this['_precached']=!(-0x1*-0x1db3+0x10d7+-0xe*0x353);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),Wd=new _e(),N_=new _e(),B1=new Y(-0x97b+0x63*-0x1d+-0x2f5*-0x7,0x36*0xc+0x10b3+-0x99d*0x2,0x7*0x241+-0x31*0xbf+0x2f8*0x7,0x1*0x93b+-0x18cb*-0x1+-0x2206*0x1+0.4),qd=-0x21c4+-0x2*-0x761+-0x2*-0x981+0.28209479177387814;class N1{constructor(_0x51425a,_0x197718,_0x4d9b2e,_0xff32b7,_0x2547a8,_0x1873ee){const _0x39ac98=_0x51425a['getProp']('x'),_0x43fdc5=_0x51425a['getProp']('y'),_0x1ffa40=_0x51425a['getProp']('z'),_0x145eba=_0x51425a['getProp']('rot_1'),_0x3c0c0e=_0x51425a['getProp']('rot_2'),_0x311cfc=_0x51425a['getProp']('rot_3'),_0x2b756d=_0x51425a['getProp']('rot_0'),_0x1c5fcb=_0x51425a['getProp']('motion_0'),_0x4738a6=_0x51425a['getProp']('motion_1'),_0x274c14=_0x51425a['getProp']('motion_2'),_0x10ae6f=_0x51425a['getProp']('scale_0'),_0x114456=_0x51425a['getProp']('scale_1'),_0x4ed10a=_0x51425a['getProp']('scale_2'),_0x29eb9a=_0x51425a['getProp']('f_dc_0'),_0x3a8e98=_0x51425a['getProp']('f_dc_1'),_0xae5018=_0x51425a['getProp']('f_dc_2'),_0x4e59be=_0x51425a['getProp']('opacity'),_0x3a4e93=_0xef1d19=>{if(_0xef1d19>-0xba2*0x1+-0x1*0x1815+0x23b7)return(0x596*-0x4+0xa5a+0xbff)/(0xb9d+0xe85+-0x1a21*0x1+Math['exp'](-_0xef1d19));const _0x344d28=Math['exp'](_0xef1d19);return _0x344d28/(0x1b14+0x1f6e+-0x3a81+_0x344d28);};this['read']=_0x3c1aa9=>{_0x197718&&(_0x197718['x']=_0x39ac98[_0x3c1aa9],_0x197718['y']=_0x43fdc5[_0x3c1aa9],_0x197718['z']=_0x1ffa40[_0x3c1aa9]),_0x4d9b2e&&_0x4d9b2e['set'](_0x145eba[_0x3c1aa9],_0x3c0c0e[_0x3c1aa9],_0x311cfc[_0x3c1aa9],_0x2b756d[_0x3c1aa9]),_0xff32b7&&_0xff32b7['set'](Math['exp'](_0x10ae6f[_0x3c1aa9]),Math['exp'](_0x114456[_0x3c1aa9]),Math['exp'](_0x4ed10a[_0x3c1aa9])),_0x1873ee&&_0x1c5fcb&&_0x1873ee['set'](_0x1c5fcb[_0x3c1aa9],_0x4738a6[_0x3c1aa9],_0x274c14[_0x3c1aa9]),_0x2547a8&&_0x2547a8['set'](-0x73*0x1d+-0x18*0x189+0x31df+0.5+_0x29eb9a[_0x3c1aa9]*qd,0x15d4+-0x21b6+0xbe2+0.5+_0x3a8e98[_0x3c1aa9]*qd,0x1*-0x6+-0x1*-0x5f+-0x59+0.5+_0xae5018[_0x3c1aa9]*qd,_0x3a4e93(_0x4e59be[_0x3c1aa9]));};}}const z_=(_0x100c5d,_0x52b62d,_0x34f7ae)=>{B_['set'](_0x34f7ae['x'],_0x34f7ae['y'],_0x34f7ae['z'],_0x34f7ae['w'])['normalize'](),_0x100c5d['setTRS'](_0x52b62d,B_,T['ONE']);};class Ia{constructor(_0x998878){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x229099,_0x1a71a5,_0x17b18a;this['elements']=_0x998878,this['numSplats']=(_0x229099=this['getElement']('vertex'))==null?void(-0x163*-0x6+-0xb*0x239+-0x1*-0x1021):_0x229099['count'],this['is4D']=!!((_0x17b18a=(_0x1a71a5=this['getElement']('vertex'))==null?void(0x1755+0x1276+-0x29cb):_0x1a71a5['properties']['find'](_0x163ab6=>_0x163ab6['name']==='t'))!=null&&_0x17b18a['storage']);}['appendGSpl'+'atData'](_0x17cbcc,_0x29dc66,_0x91aeb7){const _0x3287d4=this['getElement']('vertex')['properties'];_0x3287d4['find'](_0x29acd6=>_0x29acd6['name']==='time_index')||_0x3287d4['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x17cbcc['numSplats'];for(let _0x4bbac3=0x108e*0x1+-0x1*0x26da+-0x4*-0x593;_0x4bbac3<_0x3287d4['length'];_0x4bbac3++){const _0x2bb27f=_0x3287d4[_0x4bbac3],_0xe1fc31=_0x17cbcc['getElement']('vertex')['properties']['find'](_0x4da941=>_0x4da941['name']===_0x2bb27f['name']);if(_0x2bb27f['name']==='time_index'){const _0x55523f=new Float32Array(this['numSplats']);_0x55523f['fill'](_0x29dc66),_0x55523f['set'](_0x2bb27f['storage'],0x74*0x46+0xb*-0x40+-0x1cf8),_0x2bb27f['storage']=_0x55523f;}else{if(_0xe1fc31&&_0x2bb27f['name']==='t'){const _0x414f71=new Float32Array(this['numSplats']);if(_0x414f71['set'](_0x2bb27f['storage'],0x41a*-0x4+-0x3*0xb03+0x107b*0x3),_0x91aeb7){for(let _0x3452d0=_0x2bb27f['storage']['length'];_0x3452d0<this['numSplats'];_0x3452d0++)_0x414f71[_0x3452d0]=_0xe1fc31['storage'][_0x3452d0-_0x2bb27f['storage']['length']]+_0x91aeb7[(-0x8a1+-0x2e1+-0x10c*-0xb)*_0x29dc66];}else _0x414f71['set'](_0xe1fc31['storage'],_0x2bb27f['storage']['length']);_0x2bb27f['storage']=_0x414f71;}else{if(_0xe1fc31){const _0x34c591=new Float32Array(this['numSplats']);_0x34c591['set'](_0x2bb27f['storage'],0x1c06+0x60e+0xc*-0x2d7),_0x34c591['set'](_0xe1fc31['storage'],_0x2bb27f['storage']['length']),_0x2bb27f['storage']=_0x34c591;}}}}}static['calcSplatA'+'abb'](_0x119917,_0x155b21,_0x4964b4,_0x46f9d0){z_(Fn,_0x155b21,_0x4964b4),Wd['center']['set'](-0x1bc1+-0xfa8+0x1*0x2b69,0x2e3*-0x4+0x1a30+-0xea4,0x29*-0x95+-0xc55+-0x1*-0x2432),Wd['halfExtent'+'s']['set'](_0x46f9d0['x']*(-0x182+0x1e28+-0x1ca4),_0x46f9d0['y']*(0x61f+0x57e+0xb9b*-0x1),_0x46f9d0['z']*(0x8c3+-0x1a57*0x1+-0x1196*-0x1)),_0x119917['setFromTra'+'nsformedAa'+'bb'](Wd,Fn);}['getProp'](_0x46bf32,_0x58728d='vertex'){var _0x2cfa63,_0x2730e9;return(_0x2730e9=(_0x2cfa63=this['getElement'](_0x58728d))==null?void(-0x1444+0x1327*-0x1+0x276b):_0x2cfa63['properties']['find'](_0x17ed52=>_0x17ed52['name']===_0x46bf32))==null?void(0x1321+0x15d2+-0x28f3):_0x2730e9['storage'];}['getElement'](_0x5cfd5f){return this['elements']['find'](_0x4b1c44=>_0x4b1c44['name']===_0x5cfd5f);}['addProp'](_0x1baacf,_0x44a9ed){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x1baacf,'storage':_0x44a9ed,'byteSize':0x4});}['createIter'](_0x48e8fb,_0x19050e,_0x22ad75,_0x2a4507,_0x339e32){return new N1(this,_0x48e8fb,_0x19050e,_0x22ad75,_0x2a4507,_0x339e32);}['calcAabb'](_0x400e6f,_0x38d094){let _0x4b5024,_0x15972e,_0x4c3a7d,_0x44d90,_0x4d34c2,_0x1e81c7,_0x3f127a=!(0xf*-0x31+-0x184f+0x1b2e);const _0x40e761=this['getProp']('x'),_0xd70780=this['getProp']('y'),_0x3833ad=this['getProp']('z'),_0x46bbfe=this['getProp']('scale_0'),_0x10a10c=this['getProp']('scale_1'),_0x1a344d=this['getProp']('scale_2');for(let _0x41ca41=0x375+-0x1595+0x1220;_0x41ca41<this['numSplats'];++_0x41ca41){if(_0x38d094&&!_0x38d094(_0x41ca41))continue;const _0x217e32=(-0x16a3+-0x142b+0x2ad0)*Math['exp'](Math['max'](_0x46bbfe[_0x41ca41],_0x10a10c[_0x41ca41],_0x1a344d[_0x41ca41])),_0x10b147=_0x40e761[_0x41ca41],_0x40f59e=_0xd70780[_0x41ca41],_0x4a03fa=_0x3833ad[_0x41ca41];_0x3f127a?(_0x3f127a=!(0x1c49+-0x2dd*0x8+0x4*-0x158),_0x4b5024=_0x10b147-_0x217e32,_0x15972e=_0x40f59e-_0x217e32,_0x4c3a7d=_0x4a03fa-_0x217e32,_0x44d90=_0x10b147+_0x217e32,_0x4d34c2=_0x40f59e+_0x217e32,_0x1e81c7=_0x4a03fa+_0x217e32):(_0x4b5024=Math['min'](_0x4b5024,_0x10b147-_0x217e32),_0x15972e=Math['min'](_0x15972e,_0x40f59e-_0x217e32),_0x4c3a7d=Math['min'](_0x4c3a7d,_0x4a03fa-_0x217e32),_0x44d90=Math['max'](_0x44d90,_0x10b147+_0x217e32),_0x4d34c2=Math['max'](_0x4d34c2,_0x40f59e+_0x217e32),_0x1e81c7=Math['max'](_0x1e81c7,_0x4a03fa+_0x217e32));}return _0x3f127a||(_0x400e6f['center']['set']((_0x4b5024+_0x44d90)*(-0xa*-0x37+0x25*-0x7+-0x123+0.5),(_0x15972e+_0x4d34c2)*(0x2441+-0x3*0x1ba+-0x2b*0xb9+0.5),(_0x4c3a7d+_0x1e81c7)*(-0xae*-0x22+0x1*-0x16a9+-0x73+0.5)),_0x400e6f['halfExtent'+'s']['set']((_0x44d90-_0x4b5024)*(-0x246c+-0x12c6*-0x2+0x10*-0x12+0.5),(_0x4d34c2-_0x15972e)*(0x11d0+-0x16*0xf2+-0x2*-0x17e+0.5),(_0x1e81c7-_0x4c3a7d)*(-0xb78*-0x3+0x16cf*-0x1+-0xb99+0.5))),!_0x3f127a;}['calcAabbEx'+'act'](_0x3f0526,_0x55ccae){const _0x5fe180=new T(),_0x59bb23=new se(),_0x23b9a9=new T(),_0x124944=this['createIter'](_0x5fe180,_0x59bb23,_0x23b9a9);let _0x11de06=!(0x1c45+-0x25b*-0x9+-0x3178);for(let _0x23b5c9=-0x4*0xa+-0x1f*0x96+-0x43*-0x46;_0x23b5c9<this['numSplats'];++_0x23b5c9)_0x55ccae&&!_0x55ccae(_0x23b5c9)||(_0x124944['read'](_0x23b5c9),_0x11de06?(_0x11de06=!(0x199*0x7+-0x1ead+0x137f*0x1),Ia['calcSplatA'+'abb'](_0x3f0526,_0x5fe180,_0x59bb23,_0x23b9a9)):(Ia['calcSplatA'+'abb'](N_,_0x5fe180,_0x59bb23,_0x23b9a9),_0x3f0526['add'](N_)));return!_0x11de06;}['getCenters'](_0x4fad8b){const _0x5c500c=this['getProp']('x'),_0x246c8b=this['getProp']('y'),_0x4a6159=this['getProp']('z');for(let _0x118c3f=-0x1*-0x2417+0x183a+-0x3c51;_0x118c3f<this['numSplats'];++_0x118c3f)_0x4fad8b[_0x118c3f*(0x149*-0x14+-0x81+0x1a38)+(0x21a1*-0x1+0xf*-0x8b+-0x1*-0x29c6)]=_0x5c500c[_0x118c3f],_0x4fad8b[_0x118c3f*(0x7a4+-0x396+-0x159*0x3)+(-0xf8+0x125*0x3+-0x276)]=_0x246c8b[_0x118c3f],_0x4fad8b[_0x118c3f*(-0x3*0x511+0x1303+-0x3cd)+(0x1fd+0xcd7+-0xed2)]=_0x4a6159[_0x118c3f];}['getMuT'](){const _0x4729d1=this['getProp']('t');if(!_0x4729d1)return;const _0x20deaf=new Float32Array(this['numSplats']);for(let _0x42ef6b=0x1bec*-0x1+-0x233d+0x3f29*0x1;_0x42ef6b<this['numSplats'];++_0x42ef6b)_0x20deaf[_0x42ef6b]=_0x4729d1[_0x42ef6b];return _0x20deaf;}['getTScale'](){const _0x3ac59c=this['getProp']('t_scale');if(!_0x3ac59c)return;const _0x4ad6b0=new Float32Array(this['numSplats']);for(let _0x43974c=0x1*-0x1485+0x1df8+0x29*-0x3b;_0x43974c<this['numSplats'];++_0x43974c)_0x4ad6b0[_0x43974c]=Math['exp'](_0x3ac59c[_0x43974c]);return _0x4ad6b0;}['getMotion'](_0x1759aa){const _0x2e9b38=this['getProp']('motion_0'),_0x5abe97=this['getProp']('motion_1'),_0xac9e57=this['getProp']('motion_2');if(!(!_0x2e9b38||!_0x5abe97||!_0xac9e57)){for(let _0x563c62=-0x4*0xca+-0x6*-0x197+0x13*-0x56;_0x563c62<this['numSplats'];++_0x563c62)_0x1759aa[_0x563c62*(-0xd*0x2f1+-0x18ff+0x9*0x707)+(0x1e6e+0x68b+-0x24f9)]=_0x2e9b38[_0x563c62],_0x1759aa[_0x563c62*(0x1a9b+-0x578+0x8*-0x2a4)+(0x1f1a+-0x550+-0x19c9)]=_0x5abe97[_0x563c62],_0x1759aa[_0x563c62*(-0x33*-0x31+0x174c+-0x210c)+(-0x814+0x2f9*-0x9+-0x9*-0x3df)]=_0xac9e57[_0x563c62];}}['getTimeInd'+'ex'](_0x2735fb){const _0x1d2fb3=this['getProp']('time_index');_0x1d2fb3&&_0x2735fb['set'](_0x1d2fb3,-0x2501+-0xbcf+0x30d0);}['calcFocalP'+'oint'](_0xbee594,_0xce61ca){const _0x29e766=this['getProp']('x'),_0x4aba85=this['getProp']('y'),_0x507c54=this['getProp']('z'),_0x2ef033=this['getProp']('scale_0'),_0x5cf666=this['getProp']('scale_1'),_0x29c2f1=this['getProp']('scale_2');_0xbee594['x']=0x2d1*0xc+0x33*0x65+0x3*-0x11f9,_0xbee594['y']=-0x1*-0x88c+0x766*-0x1+-0x126,_0xbee594['z']=-0x1119+0x157d*-0x1+0x2696;let _0x2dd4cb=-0x1e8f+0x1*0x4ab+-0x2*-0xcf2;for(let _0x328908=0xc8+-0xef2+0xe2a;_0x328908<this['numSplats'];++_0x328908){if(_0xce61ca&&!_0xce61ca(_0x328908))continue;const _0x17394b=(0x1ab2+-0x16f+-0x1942)/(-0x1b8+0x7*-0x164+0xb75+Math['exp'](Math['max'](_0x2ef033[_0x328908],_0x5cf666[_0x328908],_0x29c2f1[_0x328908])));_0xbee594['x']+=_0x29e766[_0x328908]*_0x17394b,_0xbee594['y']+=_0x4aba85[_0x328908]*_0x17394b,_0xbee594['z']+=_0x507c54[_0x328908]*_0x17394b,_0x2dd4cb+=_0x17394b;}_0xbee594['mulScalar']((0x1ba9+-0x6e6*0x3+-0x6f6)/_0x2dd4cb);}['renderWire'+'frameBound'+'s'](_0x21a40b,_0x2fa629){const _0x295137=new T(),_0xa3233c=new se(),_0x10dbda=new T(),_0xb72191=new T(),_0x46378d=new T(),_0x50f9bb=this['createIter'](_0x295137,_0xa3233c,_0x10dbda);for(let _0x2f3c23=-0x1d1e+0x26ed+0x9*-0x117;_0x2f3c23<this['numSplats'];++_0x2f3c23)_0x50f9bb['read'](_0x2f3c23),z_(Fn,_0x295137,_0xa3233c),Fn['mul2'](_0x2fa629,Fn),_0xb72191['set'](_0x10dbda['x']*-(-0x1*0x1b61+0xb5*0x2d+-0x46e),_0x10dbda['y']*-(-0x53*0x3e+0x1622+0x103*-0x2),_0x10dbda['z']*-(-0xbae+0xa5+0xb0b)),_0x46378d['set'](_0x10dbda['x']*(-0x14a7+0x1364*0x1+-0x5*-0x41),_0x10dbda['y']*(-0x7*0x420+-0x3*-0x4ec+0xe1e),_0x10dbda['z']*(0x14*-0x10d+-0xc7*0x4+0x1822)),_0x21a40b['immediate']['drawWireAl'+'ignedBox'](_0xb72191,_0x46378d,B1,!(0x4b1*0x3+-0x1367+0x554),_0x21a40b['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(0x4*-0x5cc+-0xfe9+0x271a);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x4a6b61=-0x4d*-0x45+0x14d7*-0x1+0x16;_0x4a6b61<0x2d4+0x835*-0x3+0x15f8;++_0x4a6b61)if(!this['getProp']('f_rest_'+_0x4a6b61))return _0x4a6b61;return-0x1a8b+-0x21c6*0x1+-0x1*-0x3c7e;})())]??-0x2433+0x20ab+0x388;}['calcMorton'+'Order'](){const _0x2c3f8d=_0x47248b=>{let _0x4660f4=_0x47248b[0x268f+-0x2*0xf59+-0x7dd],_0x36d034=_0x47248b[-0x556+0x1d99+-0x1843];for(let _0x34d78e=0x3d4+0x1846+-0x1c19;_0x34d78e<_0x47248b['length'];_0x34d78e++)_0x47248b[_0x34d78e]<_0x4660f4&&(_0x4660f4=_0x47248b[_0x34d78e]),_0x47248b[_0x34d78e]>_0x36d034&&(_0x36d034=_0x47248b[_0x34d78e]);return{'min':_0x4660f4,'max':_0x36d034};},_0x2a7cab=(_0x541dd6,_0x4565c3,_0x47db21)=>{const _0x57f70a=_0x1ebe1b=>(_0x1ebe1b&=-0x1546+0x1bb0+-0x26b*0x1,_0x1ebe1b=(_0x1ebe1b^_0x1ebe1b<<0xf60+0x11*-0x1fd+-0x127d*-0x1)&0x433*0x2b8e37+-0x27*0x45a6fd+0x52b64095,_0x1ebe1b=(_0x1ebe1b^_0x1ebe1b<<-0x5*-0x54+-0x20e2+0x1f46)&0x359515b+0x3c8555a+-0x1*0x420b6a6,_0x1ebe1b=(_0x1ebe1b^_0x1ebe1b<<0x1032+-0x3*-0xbf7+0x1*-0x3413)&0x349d286+-0x29ab92*-0xf+0x3*-0xe4e51b,_0x1ebe1b=(_0x1ebe1b^_0x1ebe1b<<-0x1d*-0x8b+-0x30*-0x2c+0x59*-0x45)&0xa7f3a16+0xe32c2f4+0x889*-0x1d279,_0x1ebe1b);return(_0x57f70a(_0x47db21)<<-0x3*0x172+0x2400+-0x7ea*0x4)+(_0x57f70a(_0x4565c3)<<0x2216+-0x1*0x283+-0x1f92)+_0x57f70a(_0x541dd6);},_0x2028c3=this['getProp']('x'),_0xda933a=this['getProp']('y'),_0x4f1085=this['getProp']('z'),{min:_0x21adfd,max:_0x25a1df}=_0x2c3f8d(_0x2028c3),{min:_0x26ad91,max:_0x297ac8}=_0x2c3f8d(_0xda933a),{min:_0x4abb39,max:_0x15a10c}=_0x2c3f8d(_0x4f1085),_0x556047=_0x21adfd===_0x25a1df?-0xa3*-0xf+0x351*-0xa+-0x5d*-0x41:(0x614*-0x2+-0x39*0x79+0x2b19)/(_0x25a1df-_0x21adfd),_0x3d87ac=_0x26ad91===_0x297ac8?0x11b*0x20+-0xbf2+-0x176e:(0x3*0x815+0x1452+-0x2891)/(_0x297ac8-_0x26ad91),_0x2f5f32=_0x4abb39===_0x15a10c?0x1*0x225c+-0x2407*-0x1+-0x4663:(-0xfb*-0x7+-0x251*0x4+0x95*0xb)/(_0x15a10c-_0x4abb39),_0x14cb01=new Map();for(let _0x467292=0x3a6*-0x7+0x3b7+0x15d3;_0x467292<this['numSplats'];_0x467292++){const _0xf97e84=Math['floor']((_0x2028c3[_0x467292]-_0x21adfd)*_0x556047),_0x22ffff=Math['floor']((_0xda933a[_0x467292]-_0x26ad91)*_0x3d87ac),_0x593a06=Math['floor']((_0x4f1085[_0x467292]-_0x4abb39)*_0x2f5f32),_0x58ffa7=_0x2a7cab(_0xf97e84,_0x22ffff,_0x593a06),_0x4b01b4=_0x14cb01['get'](_0x58ffa7);_0x4b01b4?_0x4b01b4['push'](_0x467292):_0x14cb01['set'](_0x58ffa7,[_0x467292]);}const _0x57c84e=Array['from'](_0x14cb01['keys']())['sort']((_0x20c5a4,_0x14547d)=>_0x20c5a4-_0x14547d),_0x3b4cdf=new Uint32Array(this['numSplats']);let _0x5e271d=-0x1*-0x160f+0x58*-0x53+-0x1*-0x679;for(let _0x897499=-0x8e5+-0x1b2e+0x2413;_0x897499<_0x57c84e['length'];++_0x897499){const _0x2a3c12=_0x14cb01['get'](_0x57c84e[_0x897499]);for(let _0x4883b7=0xf4f+0x5e6*0x3+0x11*-0x1f1;_0x4883b7<_0x2a3c12['length'];++_0x4883b7)_0x3b4cdf[_0x5e271d++]=_0x2a3c12[_0x4883b7];}return _0x3b4cdf;}['reorder'](_0x5f8f52){const _0x3199c0=new Map(),_0x502485=_0x176389=>{if(_0x3199c0['has'](_0x176389)){const _0x12bfd7=_0x3199c0['get'](_0x176389);return _0x3199c0['delete'](_0x176389),_0x12bfd7;}return new ArrayBuffer(_0x176389);},_0x4340c1=_0x581dcf=>{_0x3199c0['set'](_0x581dcf['byteLength'],_0x581dcf);},_0x48aa39=_0x229726=>{const _0x1e8730=new _0x229726['constructo'+'r'](_0x502485(_0x229726['byteLength']));for(let _0xd996b5=0x1c11+-0xe*-0x29f+-0x40c3;_0xd996b5<_0x5f8f52['length'];_0xd996b5++)_0x1e8730[_0xd996b5]=_0x229726[_0x5f8f52[_0xd996b5]];return _0x4340c1(_0x229726['buffer']),_0x1e8730;};this['elements']['forEach'](_0x2d2169=>{_0x2d2169['properties']['forEach'](_0x50537d=>{_0x50537d['storage']&&(_0x50537d['storage']=_0x48aa39(_0x50537d['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x35425={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x11f4fd=_0x35425['dither']??Rs,_0x5a68b0=_0x11f4fd!==Rs,_0x5808ce=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x35425['vertex']??X['gsplatVS'],'fragmentCode':_0x35425['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x5808ce['setDefine']('DITHER_'+_0x11f4fd['toUpperCas'+'e'](),''),_0x5808ce['cull']=mt,_0x5808ce['blendType']=_0x5a68b0?is:hr,_0x5808ce['depthWrite']=_0x5a68b0,_0x5808ce['update'](),_0x5808ce;};async function z1(){self['onmessage']=async _0x53b5dc=>{const {data:_0x4f5c43}=_0x53b5dc;switch(_0x4f5c43['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x2f0038(_0x4f5c43['numSplats'],_0x4f5c43['shBands'],_0x4f5c43['SHData']);break;}};const _0x2f0038=(_0x8e7f95,_0x22b598,_0x10d71d)=>{const _0xd28c63=new Uint32Array(_0x8e7f95*(-0x1*0x1879+-0x22a7+0xec9*0x4)),_0x42d36b=new Uint32Array(_0x8e7f95*(0x1*0x119b+-0x49*0x7a+0x1133)),_0x2e69e7=new Uint32Array(_0x8e7f95*(-0x1808+0xf82+0x88a)),_0x53b455=new Uint32Array(_0x8e7f95*(-0x8*-0x2e6+-0x22f7+-0xbcb*-0x1)),_0x4157b5={0x1:0x3,0x2:0x8,0x3:0xf}[_0x22b598],_0x3b03d9=_0x10d71d,_0x4e88f7=0x79*0x35+0x136e+-0x247c*0x1,_0x3b6c02=-0x1*0x21d7+-0x1*0x539+0x2b0f,_0x425230=new Float32Array(0x9*0x69+-0x134d*0x2+-0x6d*-0x52),_0x5db41a=new Uint32Array(_0x425230['buffer']),_0x5d2c86=new Array(_0x4157b5*(0xb78*-0x3+-0x1*-0xc17+0x1*0x1654))['fill'](0x233b*0x1+0x11e7+-0x3522*0x1);for(let _0x189f8d=-0x25ce+0x1*-0x9de+-0x17d6*-0x2;_0x189f8d<_0x8e7f95;++_0x189f8d){for(let _0x398970=0x10b+0x2132+-0x223d;_0x398970<_0x4157b5;++_0x398970)_0x5d2c86[_0x398970*(-0x1cd5+0x814*0x1+0x14c4)]=_0x3b03d9[_0x398970][_0x189f8d],_0x5d2c86[_0x398970*(0x475+0x1aa9+0x1f1b*-0x1)+(-0x1273+-0xac9*-0x2+-0x31e)]=_0x3b03d9[_0x398970+_0x4157b5][_0x189f8d],_0x5d2c86[_0x398970*(0x98d+-0x11a6+-0x207*-0x4)+(-0x24a5+0x53d+0x1f6a)]=_0x3b03d9[_0x398970+_0x4157b5*(0x1*0x2031+0x15da+-0x3609)][_0x189f8d];let _0x1e2f94=_0x5d2c86[0x1ad9*-0x1+-0x16c*-0x17+-0x5db];for(let _0x11527f=-0x8cb+0x881*-0x1+0x114d;_0x11527f<_0x4157b5*(0x1ae7*0x1+-0x1282*0x1+-0x1d*0x4a);++_0x11527f)_0x1e2f94=Math['max'](_0x1e2f94,Math['abs'](_0x5d2c86[_0x11527f]));if(_0x1e2f94!==0x1*-0x5c+0x269d+-0x2641){for(let _0x299af=-0x22a1*0x1+0x1f*-0xb3+0x384e;_0x299af<_0x4157b5;++_0x299af)_0x5d2c86[_0x299af*(-0x204a*-0x1+0x19f*-0xd+-0x3*0x3bc)+(0x15ec+-0x3*0x103+-0x12e3*0x1)]=Math['max'](-0xa1*-0x2f+-0x13cf+0x9c0*-0x1,Math['min'](_0x4e88f7,Math['floor']((_0x5d2c86[_0x299af*(0x1190+-0x1de+-0x49*0x37)+(-0xad3+0x35*-0xaf+0x2f0e)]/_0x1e2f94*(-0xe9*0x15+-0xa*-0x27a+-0x5a7*0x1+0.5)+(-0x2*0xc78+-0x234a+0x3c3a+0.5))*_0x4e88f7+(0x1*-0x2474+0x5*0x42d+0xf93+0.5)))),_0x5d2c86[_0x299af*(0x3*-0x5d5+0x407*-0x3+0x5*0x5eb)+(-0xa10+-0x20f3+0x1*0x2b04)]=Math['max'](-0x3*0xf7+-0x742*-0x5+0x53*-0x67,Math['min'](_0x3b6c02,Math['floor']((_0x5d2c86[_0x299af*(-0x417+0x1b83+-0x1769)+(-0x277+-0x100e+0x1286)]/_0x1e2f94*(0x1fc1+0xbbf+-0x2b80+0.5)+(-0x2*0xa63+-0x1*0x2087+-0x1*-0x354d+0.5))*_0x3b6c02+(-0x1*0xc47+-0x1f7a+0x2bc1+0.5)))),_0x5d2c86[_0x299af*(-0x1*-0x2093+0x1208+-0x3298)+(0x79b+0x2265+0x2b*-0xfa)]=Math['max'](0x1c4e*0x1+0x7*-0x376+-0x414,Math['min'](_0x4e88f7,Math['floor']((_0x5d2c86[_0x299af*(0xf*-0x20d+-0x1e40+-0xd6*-0x49)+(0x12*0x2a+0x85f*0x3+-0x1c0f)]/_0x1e2f94*(-0x3b8+-0x2f*-0x56+-0xc12+0.5)+(0x458+-0x19*0x9f+0xb2f+0.5))*_0x4e88f7+(-0x1927+-0x1*0x1289+0xaec*0x4+0.5))));_0x425230[-0x16b4*0x1+0xc43*-0x1+0x22f7]=_0x1e2f94,_0xd28c63[_0x189f8d*(0x1*0x343+0x9e*0xa+0x1*-0x96b)+(-0x1810+0x1*0x121f+0x5f1)]=_0x5db41a[-0xf6a+0x241*0xa+-0x60*0x13],_0xd28c63[_0x189f8d*(-0x1*0x13f1+-0x3*-0xab5+-0xc2a)+(-0x1*0xeef+0x1*-0x148d+-0x237d*-0x1)]=_0x5d2c86[0x182*-0x1+0x18cb+-0x1749*0x1]<<-0x1dc4+-0x35*-0x67+0x886|_0x5d2c86[0x4d*-0x35+-0x1a8+0x3*0x5de]<<-0x56*-0x43+0xf75+-0x25ec|_0x5d2c86[-0x2*-0xabd+-0x6c0+-0xeb8],_0xd28c63[_0x189f8d*(0x234f+-0x1cf0+0x1*-0x65b)+(0x1e95*0x1+-0x8ef+-0x14*0x115)]=_0x5d2c86[0x17fc*-0x1+0x1917*-0x1+0x3116]<<0x1630+-0x6f2+-0xf29|_0x5d2c86[-0xbfb*-0x1+-0x677*-0x1+0x1*-0x126e]<<-0x5*-0x1c9+0x241c*-0x1+0x1b3a|_0x5d2c86[0x2*-0x14c+0x1ce4+0x3c1*-0x7],_0xd28c63[_0x189f8d*(-0x1d89+0x35*-0x6f+0xa4*0x52)+(0x1707*-0x1+-0x81*-0x1+-0x1*-0x1689)]=_0x5d2c86[-0x87a+-0x3*-0x347+-0x155]<<0x1084+-0x373*0x1+-0xcfc|_0x5d2c86[0x201f+-0xe1f*0x1+-0x11f9*0x1]<<-0x1*0x1b32+-0x6fe+0x223b|_0x5d2c86[0x24c2+0x1685+0x1*-0x3b3f],_0x22b598>-0x6eb*0x1+0x1*0xb09+-0x51*0xd&&(_0x42d36b[_0x189f8d*(-0x1341+0x2188+-0xe43)+(0x7e5+0x1*-0x155b+0x2*0x6bb)]=_0x5d2c86[0x3b*0x4e+0xd32+-0x3*0xa61]<<0x719+-0x259d+-0x45f*-0x7|_0x5d2c86[0x216c+0x1*0x2069+0x1*-0x41cb]<<0x51*-0x24+0xb89+-0xd*0x2|_0x5d2c86[-0x96*0x21+0x16db*-0x1+0x2a3c],_0x42d36b[_0x189f8d*(-0x1a81+0x13e2*0x1+0x6a3)+(0x22b4+0x1667+-0x1*0x391a)]=_0x5d2c86[0x11*-0xa3+0x2630+-0x1b51*0x1]<<-0x1a98+0x49*-0x8+0x1cf5|_0x5d2c86[-0x1*0x1c1c+-0x265b+0x4284]<<-0x3*0xb16+-0xa*-0x342+0x1*0xb9|_0x5d2c86[0x1af6+0x43+0x56f*-0x5],_0x42d36b[_0x189f8d*(0x2*-0x614+0x1*-0x2c3+0xeef*0x1)+(-0x2b*0x2b+0x5c*-0x7+0x9bf)]=_0x5d2c86[-0x180e*-0x1+0x5d5*0x2+0x3*-0xbe3]<<0x1852+-0x8*-0x2c1+0x203*-0x17|_0x5d2c86[-0x78e+-0x1*-0x15+-0x1*-0x789]<<0x1227+-0x1d*-0x13+-0x5b*0x39|_0x5d2c86[0x11f3+0x7*-0x542+0x12ec*0x1],_0x42d36b[_0x189f8d*(-0x241*-0xd+-0x1*0x1319+-0xa30)+(-0x1*0xb9d+0x6*0x16b+0x31e)]=_0x5d2c86[0x1d88+-0x118d+0x1*-0xbe9]<<-0x5*-0x663+0x7*0x295+-0x31ed*0x1|_0x5d2c86[-0x2*-0x25f+0x1564+-0x3b9*0x7]<<0xadb+0x35e*-0x8+0x1020|_0x5d2c86[0x7ba+0x20f2+-0x2898],_0x22b598>0x830+0xa4e+0x16c*-0xd?(_0x2e69e7[_0x189f8d*(0x23*0xb0+0x153e+-0x176*0x1f)+(0x3b*-0x9d+-0x2322+0x4751)]=_0x5d2c86[0x1*-0x2665+-0x751+0x2dcb]<<-0xdcd*-0x1+-0xd79+-0x3f|_0x5d2c86[-0x11d3+0x2*-0xc13+0x3*0xe05]<<0x3f*-0x8f+0x315*0xc+-0x1c0|_0x5d2c86[0x2211+-0x16b6+-0xb44],_0x2e69e7[_0x189f8d*(0x82f+-0x429+-0x6*0xab)+(0x23b0+-0x8cc+-0x1ae3)]=_0x5d2c86[0x9*-0x323+-0x2468+0x40bb]<<0x3c*-0x1c+-0x1*0x728+0xdcd|_0x5d2c86[-0x1*-0x6fa+-0x7d3+0xf2]<<-0x2588+0xa4e*-0x3+-0x447d*-0x1|_0x5d2c86[-0x165*0x4+0x1*0x2027+-0x1a79],_0x2e69e7[_0x189f8d*(-0x1d3+-0x1*0x2243+-0x1*-0x241a)+(-0x10*-0xe6+0x50+-0xeae)]=_0x5d2c86[0x4a7+-0x349+-0x143]<<-0x42*0x25+0x10d*0x15+-0x3*0x426|_0x5d2c86[-0x1231+-0x1c37+-0x1*-0x2e84]<<-0x1791+0x1115+0x687|_0x5d2c86[0x184f+-0x1999+0x1*0x167],_0x2e69e7[_0x189f8d*(0x1515+0x1*-0x19dc+0x1*0x4cb)+(0x168f+-0x1*0x469+0x1*-0x1223)]=_0x5d2c86[0x10e3+-0x736+-0x98f*0x1]<<-0x18d1*0x1+-0x7*0x2a6+0x2b70|_0x5d2c86[0x136e+0x3*-0x289+-0xbb4*0x1]<<-0x1573*-0x1+-0x132a+-0x1*0x23e|_0x5d2c86[0x225e+0x948+-0x2b86],_0x53b455[_0x189f8d*(0x1b25*0x1+-0x1*0x1e5b+0x33a)+(-0x1f69+-0x1273+0x31dc)]=_0x5d2c86[0x219e+-0x19*0x4f+-0x19c6*0x1]<<-0x1f5e+-0x5c7*-0x1+0x19ac|_0x5d2c86[0x6*0x456+0x268d+-0x406f*0x1]<<-0xad4+-0x1906*0x1+0x23e5|_0x5d2c86[-0x128a+0xa*0x53+0xf6f],_0x53b455[_0x189f8d*(0x1*-0x1087+-0x1f6f+-0x216*-0x17)+(-0x201d+0x1324+0x97*0x16)]=_0x5d2c86[0x1e7d+-0x62b+-0x182e]<<0x107f+-0x1*-0x1eb9+-0xb*0x449|_0x5d2c86[-0x1e0c+-0x4*0x724+0x3ac1]<<0xcd3+0x1dcf*0x1+0x1*-0x2a97|_0x5d2c86[0x868*0x3+0x9d9*0x3+-0x369d],_0x53b455[_0x189f8d*(-0x1cc*-0xe+0xb29*0x3+-0x3a9f)+(0xa*0x263+0x7*-0x464+0x6e0)]=_0x5d2c86[-0x1cfd+0x25+-0x1*-0x1cff]<<-0x1bf6+-0x91*-0x5+0x1936|_0x5d2c86[0x2f1*-0x6+0xffe*-0x1+0x21cc]<<0x2*0x10e0+0x1*0x1597+0xdd3*-0x4|_0x5d2c86[0x4c1+-0x5*0xa3+-0x169],_0x53b455[_0x189f8d*(0x1b4c+-0x539+0x160f*-0x1)+(0x22db+0xd5a*-0x1+-0x157e)]=_0x5d2c86[0x10b7+-0x1a91*0x1+-0xa04*-0x1]<<0x1f*0x3a+-0x1f86+-0x1d*-0xd9|_0x5d2c86[-0x1b7*0x5+-0xf79*-0x2+-0x4*0x58d]<<-0x26a4+0xeb2+0x3*0x7ff|_0x5d2c86[-0x17ba+0x2543+-0xd5d]):_0x2e69e7[_0x189f8d]=_0x5d2c86[0x69*0xa+0x11c5*-0x1+-0x58*-0x28]<<-0x3*0xb26+0x66d+-0x2*-0xd8d|_0x5d2c86[0x1*0xe17+-0x1*-0x1865+-0x2666*0x1]<<0x921+-0xa*-0xe6+0x303*-0x6|_0x5d2c86[0x7b2+0x2*-0x1080+0x1965]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0xd28c63,'sh4to7Data':_0x42d36b,'sh8to11Data':_0x2e69e7,'sh12to15Data':_0x53b455},[_0xd28c63['buffer'],_0x42d36b['buffer'],_0x2e69e7['buffer'],_0x53b455['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x4a3810=>{if(!this['worker'])return;const {data:_0xa853e8}=_0x4a3810;switch(_0xa853e8['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0xa853e8['sh1to3Data'],_0xa853e8['sh4to7Data'],_0xa853e8['sh8to11Dat'+'a'],_0xa853e8['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x1bae91,_0x11ac2c,_0x300483){var _0x93b894;(_0x93b894=this['worker'])==null||_0x93b894['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x1bae91,'shBands':_0x11ac2c,'SHData':_0x300483});}['destroy'](){var _0x1fc71d;this['worker']&&((_0x1fc71d=this['worker'])==null||_0x1fc71d['terminate'](),this['worker']=null);}}const U_=(_0x1e7310,_0x25e399)=>{const _0x466298=[];for(let _0x3b8a22=-0x67*0x13+-0x14b3+0x1c58;_0x3b8a22<_0x25e399;++_0x3b8a22)_0x466298['push'](_0x1e7310['getProp']('f_rest_'+_0x3b8a22));return _0x466298;};class V1{constructor(_0x23b4ee,_0x3194d5){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x4ec303=_0x3194d5['numSplats'];this['device']=_0x23b4ee,this['numSplats']=_0x4ec303,this['numSplatsV'+'isible']=_0x4ec303,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x3194d5['numSplats']*(-0x345+0x13e8+-0xe0*0x13)),this['motion']=new Float32Array(_0x3194d5['numSplats']*(-0x199e+0x2*-0x464+0x1*0x2269)),this['timeIndex']=new Float32Array(_0x3194d5['numSplats']),_0x3194d5['getCenters'](this['centers']),_0x3194d5['getMotion'](this['motion']),_0x3194d5['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x3194d5['getMuT'](this['timeOption']),this['tScale']=_0x3194d5['getTScale'](),this['is4D']=_0x3194d5['is4D'],this['aabb']=new _e(),_0x3194d5['calcAabb'](this['aabb']);const _0x92639=this['evalTextur'+'eSize'](_0x4ec303);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x92639),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x92639),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x92639),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x92639),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x92639),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x92639)),this['updateColo'+'rData'](_0x3194d5),this['updateTran'+'sformData'](_0x3194d5),this['shBands']=_0x3194d5['shBands'],this['shBands']>-0x1c0f*-0x1+0x1df6*-0x1+0x1e7&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x92639),this['shBands']>-0x1*0x531+0x2054+0x17*-0x12e&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x92639),this['shBands']>-0x19*-0x30+-0x4ad+0x1*-0x1?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x92639),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x92639)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x92639)),this['updateSHDa'+'ta'](_0x3194d5));}['updateData'](_0x3126e5){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x293094=_0x3126e5['numSplats'];this['numSplats']=_0x293094,this['numSplatsV'+'isible']=_0x293094,this['centers']=new Float32Array(_0x3126e5['numSplats']*(-0x28f*0x4+0xa9*0x1d+-0x8e6)),this['motion']=new Float32Array(_0x3126e5['numSplats']*(-0x19b0+-0x8ba*0x1+-0x4eb*-0x7)),this['timeIndex']=new Float32Array(_0x3126e5['numSplats']),_0x3126e5['getCenters'](this['centers']),_0x3126e5['getMotion'](this['motion']),_0x3126e5['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x3126e5['getMuT'](this['timeOption']),this['tScale']=_0x3126e5['getTScale'](),this['is4D']=_0x3126e5['is4D'],this['aabb']=new _e(),_0x3126e5['calcAabb'](this['aabb']);const _0x1f7c97=this['evalTextur'+'eSize'](_0x293094);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x1f7c97),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x1f7c97),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x1f7c97),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x1f7c97),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x1f7c97),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x1f7c97)),this['updateColo'+'rData'](_0x3126e5),this['updateTran'+'sformData'](_0x3126e5),this['shBands']=_0x3126e5['shBands'],this['shBands']>-0x1d59+-0x9*-0x178+0x1021&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x1f7c97),this['shBands']>0xa61*-0x1+-0x20ad*-0x1+-0x164b&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x1f7c97),this['shBands']>0x530+-0x2f*-0x44+-0x11aa?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x1f7c97),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x1f7c97)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x1f7c97)),this['updateSHDa'+'ta'](_0x3126e5));}['destroy'](){var _0x820f6c,_0x3a9b48,_0x47c4fb,_0x5cf763,_0x26d32a,_0x4fc772,_0x2c672d,_0x54ec94,_0x3c0d16,_0x2f6eec;(_0x820f6c=this['colorTextu'+'re'])==null||_0x820f6c['destroy'](),(_0x3a9b48=this['transformA'+'Texture'])==null||_0x3a9b48['destroy'](),(_0x47c4fb=this['transformB'+'Texture'])==null||_0x47c4fb['destroy'](),(_0x5cf763=this['transformR'+'Texture'])==null||_0x5cf763['destroy'](),(_0x26d32a=this['transformT'+'SpeedTextu'+'re'])==null||_0x26d32a['destroy'](),(_0x4fc772=this['transformT'+'Texture'])==null||_0x4fc772['destroy'](),(_0x2c672d=this['sh1to3Text'+'ure'])==null||_0x2c672d['destroy'](),(_0x54ec94=this['sh4to7Text'+'ure'])==null||_0x54ec94['destroy'](),(_0x3c0d16=this['sh8to11Tex'+'ture'])==null||_0x3c0d16['destroy'](),(_0x2f6eec=this['sh12to15Te'+'xture'])==null||_0x2f6eec['destroy']();}['createMate'+'rial'](_0x547ece){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x4b768e=z0(_0x547ece);return _0x4b768e['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x4b768e['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x4b768e['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x4b768e['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x4b768e['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x4b768e['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x4b768e['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x4b768e['setDefine']('SH_BANDS',this['shBands']),_0x4b768e['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x4b768e['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x4b768e['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x4b768e['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x4b768e['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x4b768e;}['evalTextur'+'eSize'](_0xc26ef4){const _0x2c12ae=Math['ceil'](Math['sqrt'](_0xc26ef4)),_0x421129=Math['ceil'](_0xc26ef4/_0x2c12ae);return new $(_0x2c12ae,_0x421129);}['createText'+'ure'](_0x3a119a,_0x29046e,_0x443337){return new he(this['device'],{'name':_0x3a119a,'width':_0x443337['x'],'height':_0x443337['y'],'format':_0x29046e,'cubemap':!(0x3de*0x2+0x7*-0x3f9+0x1414),'mipmaps':!(0x1*0x57c+-0xa*0x205+0xeb7),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x58f9b1){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x56b8ca=this['colorTextu'+'re'];if(!_0x56b8ca)return;const _0x341fe7=$t['float2Half'],_0xa171ee=_0x56b8ca['lock'](),_0x4e60be=_0x58f9b1['getProp']('f_dc_0'),_0x239cbb=_0x58f9b1['getProp']('f_dc_1'),_0x485a6c=_0x58f9b1['getProp']('f_dc_2'),_0x128d3c=_0x58f9b1['getProp']('opacity'),_0x452179=-0x15e5+-0x21d5+0x37ba+0.28209479177387814;for(let _0x26fdc7=-0x1*-0x1154+-0x19e3*0x1+0x88f;_0x26fdc7<this['numSplats'];++_0x26fdc7){const _0x35b6f1=_0x4e60be[_0x26fdc7]*_0x452179+(-0x1993+-0x2d9+0x1c6c+0.5),_0xbad34=_0x239cbb[_0x26fdc7]*_0x452179+(-0x1*0x105a+-0x1030+0x208a+0.5),_0x779bc6=_0x485a6c[_0x26fdc7]*_0x452179+(0x2669+-0x487+-0x1*0x21e2+0.5),_0x447015=(0x22f8+-0xc82+-0x1675)/(0xa7b*-0x1+0x1fdb+0x155f*-0x1+Math['exp'](-_0x128d3c[_0x26fdc7]));_0xa171ee[_0x26fdc7*(0x701+0x24d3+-0x2bd0)+(0x2268+0xb67+0x3*-0xf45)]=_0x341fe7(_0x35b6f1),_0xa171ee[_0x26fdc7*(0x4*0x88f+0x130*-0x1f+0x4*0xa6)+(0xa8f+-0x487+-0x607)]=_0x341fe7(_0xbad34),_0xa171ee[_0x26fdc7*(-0x1*-0x8bf+-0x6f*0x3d+0x38*0x51)+(0x6b9+-0x5e*0x3b+0xef3*0x1)]=_0x341fe7(_0x779bc6),_0xa171ee[_0x26fdc7*(-0x1*-0x257+0x1ee3+0x6d*-0x4e)+(0x139d+0x83f+-0x1bd9)]=_0x341fe7(_0x447015);}_0x56b8ca['unlock']();}['updateTran'+'sformData'](_0x67c033){var _0x91c51c,_0x483050,_0x59ea09,_0x5b31eb;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x3f9acb=$t['float2Half'];if(!this['transformA'+'Texture'])return;const _0x550d11=this['transformA'+'Texture']['lock'](),_0x39a48a=new Float32Array(_0x550d11['buffer']),_0x3b2c71=this['transformR'+'Texture']['lock'](),_0xef59fc=new Float32Array(_0x3b2c71['buffer']),_0xf565f8=this['transformB'+'Texture']['lock'](),_0x9424b9=(_0x91c51c=this['transformT'+'SpeedTextu'+'re'])==null?void(0x1d7+-0xa67*0x1+0x890):_0x91c51c['lock']();let _0x3bc40c;_0x9424b9&&(_0x3bc40c=new Float32Array(_0x9424b9['buffer']));const _0x637033=(_0x483050=this['transformT'+'Texture'])==null?void(0xb*-0x336+0xc14+0x173e):_0x483050['lock']();let _0x3e2402;_0x637033&&(_0x3e2402=new Float32Array(_0x637033['buffer']));const _0x33fa44=new T(),_0xe68eff=new se(),_0x5b7025=new T(),_0x3b68d5=new T(),_0x4f998e=_0x67c033['createIter'](_0x33fa44,_0xe68eff,_0x5b7025,null,_0x3b68d5),_0x27cb0d=_0x67c033['getProp']('t'),_0x51fa03=_0x67c033['getProp']('t_scale');for(let _0x3030e3=0x1ed*0x11+-0x524+-0x1b99;_0x3030e3<this['numSplats'];_0x3030e3++)_0x4f998e['read'](_0x3030e3),_0xe68eff['normalize'](),_0xe68eff['w']<0x20b2+0x13*-0x62+0x1*-0x196c&&_0xe68eff['mulScalar'](-(-0x22*0x110+-0x1*0x26f+0x2690)),_0x39a48a[_0x3030e3*(0x8ca+0x2*0xc2f+-0x4*0x849)+(-0x611+-0x1eb1+0x24c2)]=_0x33fa44['x'],_0x39a48a[_0x3030e3*(0x124e+-0x223*-0xd+-0x2e11)+(-0x25b7+-0x330*-0x1+0x8a2*0x4)]=_0x33fa44['y'],_0x39a48a[_0x3030e3*(-0xd51*0x2+0x12e*-0x1d+0x14*0x30b)+(0x8ae+-0x2118+0x209*0xc)]=_0x33fa44['z'],_0xf565f8[_0x3030e3*(0x1df2+0x12b9+0x35*-0xeb)+(-0x43c+-0x1*-0x1fe7+-0x1*0x1bab)]=_0x3f9acb(_0x5b7025['x']),_0xf565f8[_0x3030e3*(0x1*-0x36b+0x19ed+-0xb3f*0x2)+(-0x2*0xb29+-0x304*-0x2+0x104b)]=_0x3f9acb(_0x5b7025['y']),_0xf565f8[_0x3030e3*(0x1e6b+-0x14b*0x10+-0x3*0x33d)+(0x6a5*0x3+0x2036+-0x3423)]=_0x3f9acb(_0x5b7025['z']),_0xef59fc[_0x3030e3*(0x19e9+0xf70+-0x2955)+(0x6eb+0x215+0x900*-0x1)]=_0xe68eff['x'],_0xef59fc[_0x3030e3*(0x13*0x2b+-0x20+-0x30d)+(-0x1aae+0x9*0x2fb+-0x24)]=_0xe68eff['y'],_0xef59fc[_0x3030e3*(-0x2f5*0x3+-0xdd4+0x5*0x48b)+(-0xc8a+-0x1844+-0x130*-0x1f)]=_0xe68eff['z'],this['is4D']&&_0x3bc40c&&_0x3e2402&&(_0x3bc40c[_0x3030e3*(-0x392+-0x1fd6+0x4*0x8db)+(-0x1a3f+-0xddc+0x281b)]=_0x3b68d5['x'],_0x3bc40c[_0x3030e3*(-0x4e1*0x1+-0x35b*-0x1+0x18a)+(-0x1255+-0x19b*-0x1+0x10bb)]=_0x3b68d5['y'],_0x3bc40c[_0x3030e3*(0x1097*-0x1+0x1c8c+-0xbf1)+(-0x1d8c+0x1*0x13f4+-0x99a*-0x1)]=_0x3b68d5['z'],_0x3e2402[_0x3030e3*(-0x25a6+-0x13f*-0x1c+0x2*0x163)+(0x14+-0x1a83+0x43*0x65)]=_0x27cb0d?_0x27cb0d[_0x3030e3]:0xdab*-0x1+0x2090+-0x12e5,_0x3e2402[_0x3030e3*(0x1*0x19f6+0x2*-0x1031+0x670)+(-0x26ca+-0x1*-0x118b+0x440*0x5)]=_0x51fa03?Math['exp'](_0x51fa03[_0x3030e3]):0x1b79+0x84d+-0x23c6);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x59ea09=this['transformT'+'SpeedTextu'+'re'])==null||_0x59ea09['unlock'](),(_0x5b31eb=this['transformT'+'Texture'])==null||_0x5b31eb['unlock']();}['updateSHDa'+'ta'](_0x114486){var _0x588bcf,_0x1a2533,_0xf99707,_0x9a2b0b,_0x28cb40,_0x4233de,_0x42feff;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x23d4a2=(_0x588bcf=this['sh1to3Text'+'ure'])==null?void(-0x49*0x15+-0x1*-0x944+0x1*-0x347):_0x588bcf['lock'](),_0x51a926=(_0x1a2533=this['sh4to7Text'+'ure'])==null?void(-0x2650+-0x1*-0x25ac+0xa4):_0x1a2533['lock'](),_0x55fde7=(_0xf99707=this['sh8to11Tex'+'ture'])==null?void(-0x1fca+0x2*0xc73+-0x31*-0x24):_0xf99707['lock'](),_0x4fb072=(_0x9a2b0b=this['sh12to15Te'+'xture'])==null?void(-0x1680+-0x248d+0x1*0x3b0d):_0x9a2b0b['lock'](),_0x3560b8={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x1554f7=U_(_0x114486,_0x3560b8*(-0x228b+-0x10a3+0x3331*0x1)),_0xb9bc97=0x30d*0x8+-0x1b34+0xacb,_0x5cd618=0x3b5*0x7+-0x430*-0x7+-0x3344,_0x14e152=new Float32Array(-0x27b+0xce*0x1d+-0x14da),_0x42ac09=new Uint32Array(_0x14e152['buffer']),_0x5eb923=new Array(_0x3560b8*(0x1935+-0x1993+0x61))['fill'](0x48c+-0x6ac*-0x1+-0xb38);for(let _0xa74f8b=-0x187e+0x1*0x1d72+-0x4*0x13d;_0xa74f8b<_0x114486['numSplats'];++_0xa74f8b){for(let _0x486965=-0xf9d*0x1+0x6ed*0x4+-0x5*0x26b;_0x486965<_0x3560b8;++_0x486965)_0x5eb923[_0x486965*(0xdc6+0x920+-0x28b*0x9)]=_0x1554f7[_0x486965][_0xa74f8b],_0x5eb923[_0x486965*(0x17e1+-0x38c+-0x1452)+(0x511*0x7+0x76*-0x32+-0xc6a)]=_0x1554f7[_0x486965+_0x3560b8][_0xa74f8b],_0x5eb923[_0x486965*(0x23d1*-0x1+-0x1766+0x3b3a)+(-0x21c2+0x19fa+0x7ca)]=_0x1554f7[_0x486965+_0x3560b8*(0xf8*0x25+0x242a+0x48*-0x100)][_0xa74f8b];let _0x2d3225=_0x5eb923[-0x1d*-0x39+0xe79+-0x2f*0x72];for(let _0x36268f=-0x20ab+-0x25f7+0x46a3;_0x36268f<_0x3560b8*(-0x1a17+-0x1e0b+0x3825);++_0x36268f)_0x2d3225=Math['max'](_0x2d3225,Math['abs'](_0x5eb923[_0x36268f]));if(_0x2d3225!==0xfd2+0x2271+0x10c1*-0x3){for(let _0x429e68=0x6*-0x12+-0x3d5*0x3+-0xbeb*-0x1;_0x429e68<_0x3560b8;++_0x429e68)_0x5eb923[_0x429e68*(0x18ee+-0x89d+-0x1*0x104e)+(-0x1*0xc4c+0x1b50+-0xf04)]=Math['max'](0xb*0x2fe+0x7*0x3d+-0x2295,Math['min'](_0xb9bc97,Math['floor']((_0x5eb923[_0x429e68*(-0x2*-0x66+0x2489+-0x2552)+(0x2*-0x71f+-0xb1*-0x2a+0x1*-0xecc)]/_0x2d3225*(-0x1*-0x13ee+-0x299+-0x1d*0x99+0.5)+(0x74*0x11+0x1ad+-0x961+0.5))*_0xb9bc97+(-0x2b3+0x28e*0x3+-0x4f7+0.5)))),_0x5eb923[_0x429e68*(0x2*0xb95+0x4*-0x322+-0xa9f*0x1)+(-0x13*-0x8b+0x255a+-0x17d5*0x2)]=Math['max'](-0x1458+-0x1de6+0x323e,Math['min'](_0x5cd618,Math['floor']((_0x5eb923[_0x429e68*(0x18*-0x131+0x629+0x1672)+(0x1071+-0x5c9*0x2+-0xe*0x59)]/_0x2d3225*(0x2*-0xbdd+0x800+0xfba+0.5)+(-0x203e+0x1919+0x3b*0x1f+0.5))*_0x5cd618+(0xc*-0x200+-0x134c+-0x1*-0x2b4c+0.5)))),_0x5eb923[_0x429e68*(0x1176+-0x1bb2+0xa3f)+(-0x9b3+-0xac4+-0x6d3*-0x3)]=Math['max'](0x15*0x145+-0x1904+0x1a5*-0x1,Math['min'](_0xb9bc97,Math['floor']((_0x5eb923[_0x429e68*(-0x88d*0x3+-0x5*0x5a3+0x35d9)+(0x197d+-0xf2b*0x1+0x42*-0x28)]/_0x2d3225*(-0x2196+0x6ab+0x1aeb+0.5)+(0x26b*0x1+-0x1*-0x12d+0x1cc*-0x2+0.5))*_0xb9bc97+(-0x1c86+0xd9a+0xeec+0.5))));_0x14e152[0xd8c+0x1*0x2337+-0x13*0x291]=_0x2d3225,_0x23d4a2[_0xa74f8b*(-0x1f4a+-0x5*-0x8e+0x16*0x14c)+(-0x1*-0x381+0x2095+-0x1*0x2416)]=_0x42ac09[-0x4*0x5d+-0x13bb+0x152f],_0x23d4a2[_0xa74f8b*(0x1d48+0x1e7*-0xc+-0x670)+(0x1843*0x1+-0x12a4*-0x1+-0x2ae6)]=_0x5eb923[0x5c+-0xf9*-0x1+-0x155]<<0x2eb*0xd+0x3b*0x2a+-0x2f88|_0x5eb923[0x718+0x1c0d*0x1+-0xd*0x2b4]<<-0x401+-0x149e+0x18aa|_0x5eb923[0x31*0x2+0x348+0x3*-0x138],_0x23d4a2[_0xa74f8b*(-0x1*-0x264b+-0x857+-0x8*0x3be)+(0xdfa*0x2+-0x2e3+0x190f*-0x1)]=_0x5eb923[0x3*-0x42b+0x1b03*0x1+-0x1*0xe7f]<<-0x8a1+-0x3*-0x61d+-0x9a1|_0x5eb923[-0x45*0x1f+0x36*-0x25+0x102d]<<-0x1416+0x232+0x11ef|_0x5eb923[-0x1498+-0x97e*-0x4+0x5c9*-0x3],_0x23d4a2[_0xa74f8b*(0x224c+-0x53*0x29+-0x14fd)+(0x491+-0xe61+0x9d3*0x1)]=_0x5eb923[0x115+0x98f+0x12e*-0x9]<<-0x2066+0x26*-0x2+-0x20c7*-0x1|_0x5eb923[0x94d+-0x1*-0x20b1+0xdfd*-0x3]<<0x1beb+0x119a+-0x2d7a|_0x5eb923[0x123*-0x11+-0x160d+0x2968],this['shBands']>0x3cd+-0x161b+0x124f&&(_0x51a926[_0xa74f8b*(0xf1*-0x1+-0xb7b*0x3+-0xc5*-0x2e)+(-0x5*0x657+0x25b0*0x1+-0x1ff*0x3)]=_0x5eb923[0x10f3+0x1c55*0x1+0x8f*-0x51]<<-0x1856+-0x9c+-0x1907*-0x1|_0x5eb923[-0x3*0x614+0x39d+0xea9]<<0x1a78+0xe74+-0x28e1|_0x5eb923[0x2a0*0x8+-0x12b1+0x14*-0x1d],_0x51a926[_0xa74f8b*(-0x172a*-0x1+-0x115*-0x1f+-0x38b1)+(-0xa6d+0x1a37+-0x1c1*0x9)]=_0x5eb923[0x5*-0x307+-0x3*0x9d6+0x2cb1]<<-0xdf6*0x2+-0x9c5+0x25c6|_0x5eb923[-0x2*0xd67+0x238c+-0x1bd*0x5]<<0x136d*0x1+-0x2060+0xcfe|_0x5eb923[0x1*-0x1c19+0x2f*0xc1+-0x2*0x3a4],_0x51a926[_0xa74f8b*(-0x5b*0x67+0x26d1+-0x70*0x5)+(-0x19*-0x97+0x1ea+-0x10a7)]=_0x5eb923[-0x2354+0x26e1+-0x37e]<<0xb56+0x1*-0x12df+0x79e|_0x5eb923[0x955+-0x655+-0x2f0]<<-0x1*-0x17cb+-0x22bb+-0x3*-0x3a9|_0x5eb923[0x66*-0x44+0x1*0x941+0x11e8],_0x51a926[_0xa74f8b*(-0x1996+-0x2592+0x3f2c)+(-0x22d7+0x14b*0xb+-0x14a1*-0x1)]=_0x5eb923[-0xb88+-0x6e0+0x1ae*0xb]<<-0x1b*0x56+0x1105+-0x7de|_0x5eb923[-0x267*0xe+-0xfc5+0x83f*0x6]<<-0x12*-0x57+-0x1ddf+0x17cc|_0x5eb923[0xb*0x341+0x246b+-0x4822],this['shBands']>-0x511*-0x5+0xacf+-0x2422?(_0x55fde7[_0xa74f8b*(0x1*0x24eb+0x13f0+0x38d7*-0x1)+(-0xfb*0x10+0x5*0x28f+0x27*0x13)]=_0x5eb923[-0x788+0xacc+-0x32f]<<-0x11c6+-0x5a*-0x31+0xa1|_0x5eb923[0x1de+-0xb7b+-0x9b3*-0x1]<<0x4*-0x42+-0xad4+0xbe7|_0x5eb923[0xfb2+0x26*0x97+0x2605*-0x1],_0x55fde7[_0xa74f8b*(0x23a2+-0x1132+-0x83*0x24)+(-0xd37+-0x12b3+0x1*0x1feb)]=_0x5eb923[-0xd7e+-0x238f+-0x1*-0x3125]<<-0x8*-0x36e+-0xca7+-0x2*0x75a|_0x5eb923[0x213+-0x1102+0xf08]<<-0x1632+-0x1*-0x139f+0xa*0x43|_0x5eb923[-0x1*0x1981+-0x171d+0x30b8],_0x55fde7[_0xa74f8b*(-0x24e9+-0x1b11+-0x3ffe*-0x1)+(-0x21c2+0x121+0x5*0x687)]=_0x5eb923[0xda*-0x25+-0x26d*-0x2+0x11*0x193]<<-0x7f1*0x2+-0x35+0x102c|_0x5eb923[0x1039+-0x1bb2+-0xb95*-0x1]<<-0x9d+-0x1f5+0x29d|_0x5eb923[0xf7a*0x1+0x239e+-0x1*0x32fb],_0x55fde7[_0xa74f8b*(-0x588*0x7+-0x58*-0x34+0xc*0x1bd)+(-0x1*0x1e71+0x1be*-0x1+0x2032)]=_0x5eb923[-0x363+-0x78b*-0x4+-0x1aab]<<0x1369*-0x1+-0x7*-0x49d+-0x1d*0x71|_0x5eb923[-0x1420+-0x25e2+0x3a21]<<0x2571+0x1*-0x131e+-0x1248|_0x5eb923[-0x1c7+-0x2d*-0x8a+-0x165b],_0x4fb072[_0xa74f8b*(0x131b*-0x2+0xb57+-0x1*-0x1ae3)+(0x7e5+-0x1010+0x82b)]=_0x5eb923[-0xb13+-0x98d+0x14c1]<<0x2*-0x313+0x20d0+-0x5*0x551|_0x5eb923[-0xae8+0x85*0x3+0x97b]<<0x16*0xfb+-0x200c+0x1*0xa85|_0x5eb923[0x1*0x227f+-0x257*0x2+-0x1dae],_0x4fb072[_0xa74f8b*(-0x1*-0xaa+0x17*-0x80+0x39e*0x3)+(-0x2165+-0x189c+0x5cd*0xa)]=_0x5eb923[-0x4*0x43d+0x16c8+0x38*-0x1a]<<0x1569*0x1+-0x6*-0x13+-0x15c6|_0x5eb923[-0x9dd+-0x1e4*-0x13+-0x3e*0x6b]<<0x16f0+0x1f03+-0x35e8|_0x5eb923[0x90e+0x1878+0x10*-0x216],_0x4fb072[_0xa74f8b*(-0x644*0x3+-0x2df*-0x4+-0x86*-0xe)+(0x2650+0x15c6+-0x3c14)]=_0x5eb923[-0x1f8d+0x1*0x411+0x1ba3]<<0x5*0x1f7+-0x17e+0x2c*-0x30|_0x5eb923[0x1*0x705+-0x2*-0x89f+0x1*-0x181b]<<0x312+-0x19f4+0x16ed|_0x5eb923[-0xdd*0x1f+0x1*-0x10d9+0x2bc5],_0x4fb072[_0xa74f8b*(0x1*0x22b7+0x14*-0x154+-0x823)+(-0x1*-0x58a+-0x17*0x5+-0x514*0x1)]=_0x5eb923[-0x12a9+-0xa51*0x1+0x1d24]<<0x2*0x755+-0x1f57+0x10c2|_0x5eb923[0x11d+-0x4*-0x5bf+-0x17ee]<<-0x114e+0x209*-0x4+-0x1d*-0xe1|_0x5eb923[0xcf5+-0x3df*-0x7+-0x5*0x7fa]):_0x55fde7[_0xa74f8b]=_0x5eb923[-0x1*0x430+-0xed+-0x532*-0x1]<<-0x1e7c+0xec2*0x2+0x1*0x10d|_0x5eb923[-0xdc0+0xcf2+-0x4c*-0x3]<<-0xc4a+-0x171*-0x9+-0x2*0x52|_0x5eb923[-0xa9c+0x1928+0xe75*-0x1]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x28cb40=this['sh4to7Text'+'ure'])==null||_0x28cb40['unlock'](),(_0x4233de=this['sh8to11Tex'+'ture'])==null||_0x4233de['unlock'](),(_0x42feff=this['sh12to15Te'+'xture'])==null||_0x42feff['unlock']();}['updateSHDa'+'taByWorker'](_0x1e2956){const _0xd89ca1={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x3bd97b=U_(_0x1e2956,_0xd89ca1*(-0x581+0x9*0x269+-0x102d));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x1e2956['numSplats'],this['shBands'],_0x3bd97b),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x2dd1f1,_0x16877d,_0x529aa3,_0x4a4685)=>{var _0x538557,_0x38ff7e,_0x2e31ef,_0xb80506,_0x401709,_0x2b7ed4,_0x28c8ab,_0x5011a0,_0x9e923d,_0x2b852c;const _0x29a6de=(_0x538557=this['sh1to3Text'+'ure'])==null?void(-0x10*0x23c+0x110e+0x1*0x12b2):_0x538557['lock']();if(new Uint32Array(_0x29a6de['buffer'])['set'](_0x2dd1f1),(_0x38ff7e=this['sh1to3Text'+'ure'])==null||_0x38ff7e['unlock'](),this['shBands']>-0x8d*0xf+-0x4*0x2e9+0x13e8){const _0x1bc41c=(_0x2e31ef=this['sh4to7Text'+'ure'])==null?void(0x1018+-0x5fe+-0xa1a):_0x2e31ef['lock']();if(new Uint32Array(_0x1bc41c['buffer'])['set'](_0x16877d),(_0xb80506=this['sh4to7Text'+'ure'])==null||_0xb80506['unlock'](),this['shBands']>-0x161f+-0x18db+0x2efc){const _0x47bcf5=(_0x401709=this['sh8to11Tex'+'ture'])==null?void(-0xbff+-0x94f+0x154e):_0x401709['lock']();new Uint32Array(_0x47bcf5['buffer'])['set'](_0x529aa3),(_0x2b7ed4=this['sh8to11Tex'+'ture'])==null||_0x2b7ed4['unlock']();const _0x4b5316=(_0x28c8ab=this['sh12to15Te'+'xture'])==null?void(-0x933*-0x2+-0x4*-0x700+-0x1733*0x2):_0x28c8ab['lock']();new Uint32Array(_0x4b5316['buffer'])['set'](_0x4a4685),(_0x5011a0=this['sh12to15Te'+'xture'])==null||_0x5011a0['unlock']();}else{const _0x2bbed3=(_0x9e923d=this['sh8to11Tex'+'ture'])==null?void(0x1769+-0x2*-0x103d+-0x3*0x12a1):_0x9e923d['lock']();new Uint32Array(_0x2bbed3['buffer'])['set'](_0x529aa3),(_0x2b852c=this['sh8to11Tex'+'ture'])==null||_0x2b852c['unlock']();}}});}}async function G1(){let _0x4b3ec2=null,_0xcc7521=null,_0x4c8d8b=null,_0x15d8bb=null,_0x1e0e79=null,_0x315496=null,_0x2d5662=null,_0x5188d5=null,_0x33531c=null,_0x36e721=null,_0x3ede3f=null,_0x44acff=null,_0x2312ad=null,_0x4f2bc6=null,_0x134ac2=null,_0x459919=null,_0x1f9921=null,_0x18c27e=null,_0x27006b=null,_0x3d463b=null,_0x1b718d=null,_0x26719a=null,_0x512cca=null,_0x1e8855=null,_0x227372=null,_0x55d01f=Float32Array['BYTES_PER_'+'ELEMENT'],_0x30e805=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x2474dd=0x1fa0+-0x7e4+-0x17bc,_0x4c9970=!(-0x2*-0xcc5+0x1ea9+-0x3833),_0x4c4b18,_0x2a8156,_0x1d62e1={'x':0x0,'y':0x0,'z':0x0},_0x53a0ea={'x':0x0,'y':0x0,'z':0x0},_0x4c2505=!(0x2a1*-0x1+-0x2f*0x3e+-0x1*-0xe03),_0x55ec59=!(0xf18+-0xca2+-0x275),_0x5447f5=!(0x123a+-0x17e8+-0xf*-0x61),_0x420562=0x7*0x343+-0xc7*0x29+-0x485*-0x2,_0x1f2efb=-0x1743+0x1*0x1d39+0x1*-0x5f6,_0x59ff50=!(-0xce1+0x2095+0x7b*-0x29),_0x454be5=null;self['onmessage']=async _0x1afadb=>{const {data:_0x361ca8}=_0x1afadb;switch(_0x361ca8['type']){case'initWorker':_0x2474dd=_0x361ca8['numSplats'],_0x1f8e74(),_0x4c9970=_0x361ca8['is4d'],await _0x2b2435(_0x361ca8['sortWasmUr'+'l']),_0x18746c(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x361ca8['dataReady']){if(_0x315496&&_0x361ca8['centers']&&_0x315496['length']===_0x361ca8['centers']['length']){const _0xc296a1=new Float32Array(_0x361ca8['centers']);_0x315496['set'](_0xc296a1);}if(_0x33531c&&_0x361ca8['timeIndex']&&_0x33531c['length']===_0x361ca8['timeIndex']['length']){const _0x35f880=new Uint32Array(_0x361ca8['timeIndex']);_0x33531c['set'](_0x35f880);}if(_0x44acff&&_0x361ca8['motion']&&_0x44acff['length']===_0x361ca8['motion']['length']){const _0x1b156d=new Float32Array(_0x361ca8['motion']);_0x44acff['set'](_0x1b156d);}if(_0x4c9970&&_0x36e721&&_0x3ede3f&&_0x361ca8['muT']&&_0x361ca8['tScale']&&_0x36e721['length']===_0x361ca8['muT']['length']&&_0x3ede3f['length']===_0x361ca8['tScale']['length']&&(_0x36e721['set'](_0x361ca8['muT']),_0x3ede3f['set'](_0x361ca8['tScale'])),_0x2d5662){for(let _0x2b86f9=-0x63f+0x1*0x1623+-0x71*0x24;_0x2b86f9<_0x2d5662['length'];++_0x2b86f9)_0x2d5662[_0x2b86f9]=_0x2b86f9;}_0x1e0e79&&_0x361ca8['timeOption']&&_0x1e0e79['set'](_0x361ca8['timeOption']),setTimeout(()=>{_0x4bc322();},-0xda5+0x6fc*-0x2+0x1b9d*0x1);}break;case'setTime':_0x4c4b18=_0x361ca8['time'],_0x507e5b();break;case'setUseTemp'+'oralSort':_0x4c2505=_0x361ca8['useTempora'+'lSort'];break;case'sort':if(!_0x4c8d8b)return;_0x4c8d8b[0x78b*0x2+-0x9c*-0x2b+-0x842*0x5]=_0x361ca8['cameraPosi'+'tion']['x'],_0x4c8d8b[-0x6*-0x118+0x1*-0x2597+-0xa58*-0x3]=_0x361ca8['cameraPosi'+'tion']['y'],_0x4c8d8b[0x2387+-0x1*0x2128+-0x79*0x5]=_0x361ca8['cameraPosi'+'tion']['z'],_0x15d8bb[0xaf2+-0x1fc4+0x14d2]=_0x361ca8['cameraDire'+'ction']['x'],_0x15d8bb[-0x1*-0x1a38+0x12d6*0x1+-0x2d0d]=_0x361ca8['cameraDire'+'ction']['y'],_0x15d8bb[-0x2334+-0x6e9*-0x2+0x1564]=_0x361ca8['cameraDire'+'ction']['z'],_0x507e5b();break;}};const _0x507e5b=()=>{_0x454be5&&clearTimeout(_0x454be5),_0x454be5=setTimeout(()=>{_0x454be5=null,_0x49f552();},-0x39a+-0x11a5*0x1+-0x103*-0x15);},_0x1f8e74=()=>{_0x1f2efb=Math['max'](-0x59*-0x53+0x1288+-0x2f59,Math['min'](-0x1d48+-0x17*0x97+0x9*0x4c5,Math['round'](Math['log2'](_0x2474dd/(-0x3e1+-0x337+-0xb6*-0xa))))),_0x420562=(0x1a47+-0x1890+-0x1b5)**_0x1f2efb+(-0x13ab+-0x1*-0x1ef1+-0xb45);},_0x18746c=()=>(_0x2312ad=0xb6d+-0xf8a+0x9*0x75,_0x4f2bc6=_0x2312ad+_0x2474dd*_0x55d01f*(0x1959+-0x1a30+-0xda*-0x1),_0x27006b=_0x4f2bc6+(-0x5*-0x62d+-0x3*-0x9c2+-0x1*0x3bc3)*_0x55d01f*(0x3d1*0x7+-0x1*-0x21f1+-0x3ca6),_0x3d463b=_0x27006b+_0x2474dd*_0x30e805,_0x1b718d=_0x3d463b+(-0x1c21+-0x1d1b+0x393f)*_0x55d01f,_0x26719a=_0x1b718d+(0x67*-0x29+-0x1*0x26db+0x375d)*_0x55d01f,_0x512cca=_0x26719a+(0x21*0x52+0x14c5+-0x1f54)*_0x55d01f,_0x1e8855=_0x512cca+(0xa81+-0x1b74+0x10f6)*_0x55d01f,_0x227372=_0x1e8855+_0x2474dd*_0x30e805,_0x315496=new Float32Array(_0xcc7521,_0x2312ad,_0x2474dd*(0x1*-0x1f73+-0x1ed5+0x3e4b*0x1)),_0x1e0e79=new Float32Array(_0xcc7521,_0x4f2bc6,(-0xb*-0x65+0x11bd+-0x15b0)*(-0x1af6+0xb97+0xf61)),_0x2d5662=new Uint32Array(_0xcc7521,_0x27006b,_0x2474dd),_0x5188d5=new Uint32Array(_0x2d5662),_0x4c8d8b=new Float32Array(_0xcc7521,_0x3d463b,0x48*-0x21+-0x18a*-0x11+0x269*-0x7),_0x15d8bb=new Float32Array(_0xcc7521,_0x1b718d,-0x1f9d+0x1*-0x1b31+0x3ad1),_0x4c9970&&(_0x1f9921=_0x227372+_0x420562*_0x30e805,_0x18c27e=_0x1f9921+_0x2474dd*_0x55d01f,_0x459919=_0x18c27e+_0x2474dd*_0x55d01f,_0x134ac2=_0x459919+_0x2474dd*(0x21a8+0x2364+-0x2b*0x19b)*_0x55d01f,_0x36e721=new Float32Array(_0xcc7521,_0x1f9921,_0x2474dd),_0x3ede3f=new Float32Array(_0xcc7521,_0x18c27e,_0x2474dd),_0x44acff=new Float32Array(_0xcc7521,_0x459919,_0x2474dd*(0x2b3+0x1752+0x1*-0x1a02)),_0x33531c=new Uint32Array(_0xcc7521,_0x134ac2,_0x2474dd)),{'sharedMemory':_0xcc7521,'layout':{'timeOptionPtr':_0x4f2bc6,'timeIndexPtr':_0x134ac2,'centersPtr':_0x2312ad,'motionPtr':_0x459919,'muTPtr':_0x1f9921,'tScalePtr':_0x18c27e,'orderPtr':_0x27006b,'cameraPositionPtr':_0x3d463b,'cameraDirectionPtr':_0x1b718d,'boundMinPtr':_0x26719a,'boundMaxPtr':_0x512cca,'distancesPtr':_0x1e8855,'countBufferPtr':_0x227372}}),_0x2b2435=async _0x23dc52=>{let _0x2f5cdd=_0x2474dd*_0x55d01f*(0x11e6*-0x1+0x1bd+0x102c);_0x2f5cdd+=_0x2474dd*_0x30e805,_0x2f5cdd+=(-0xb*-0x1b0+0x1b83+-0xb*0x430)*_0x55d01f,_0x2f5cdd+=(0x137+-0x1*0x1694+0x558*0x4)*_0x55d01f,_0x2f5cdd+=(0x1*-0xe0a+0x18a0+-0xa93)*_0x55d01f,_0x2f5cdd+=(0x1*-0x24df+-0x147*0x1+0x1*0x2629)*_0x55d01f,_0x2f5cdd+=_0x2474dd*_0x55d01f,_0x2f5cdd+=_0x420562*_0x30e805,_0x2f5cdd+=(-0x5f2+0x39*-0x7f+-0x229d*-0x1)*_0x55d01f*(0x1452+-0x1ad5+-0x685*-0x1),_0x2f5cdd+=_0x2474dd*_0x30e805,_0x4c9970&&(_0x2f5cdd+=_0x2474dd*_0x55d01f,_0x2f5cdd+=_0x2474dd*_0x55d01f,_0x2f5cdd+=_0x2474dd*_0x55d01f*(-0x802+0x69*0x44+-0x13df*0x1));const _0x13426b=(0x2*0xc97+-0x1386+-0x568)*(-0x60b+-0x9f*-0x1+0x96c),_0x54aa4c=Math['ceil'](_0x2f5cdd/_0x13426b),_0x2f4178={'env':{'memory':new WebAssembly['Memory']({'initial':_0x54aa4c,'maximum':_0x54aa4c,'shared':!(-0x1657+0x14e3+0xc*0x1f)}),'pthread_self':function(){return-0xf84+-0x13*-0x9+-0x1*-0xed9;},'emscripten_builtin_memalign':function(){return-0x2582+-0x20b*0x1+-0x9*-0x465;},'loggerVec3':(_0x1f3de2,_0x35567a,_0x307c2f,_0x7e101e)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x1f3de2+']\x200:'+_0x35567a+'\x201:'+_0x307c2f+'\x202:'+_0x7e101e);},'loggerFloat':(_0x1a08e4,_0x134d1b)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x1a08e4+']\x20a:'+_0x134d1b);},'loggerValue':(_0xb48597,_0x19fa1a,_0x28f73b,_0x55a3ee,_0x93f6bf)=>{console['log']('C++\x20logger'+'Value\x20['+_0xb48597+']\x20minDist:'+_0x19fa1a+'\x20maxDist:'+_0x28f73b+'\x20range:'+_0x55a3ee+'\x20divider:'+_0x93f6bf);},'loggerCamera':(_0x587f18,_0x1f329e,_0xb210d7,_0x34010a,_0x46902a,_0x5430b3,_0x5c5a80)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x587f18+']\x20x:'+_0x1f329e+'\x20y:'+_0xb210d7+'\x20z:'+_0x34010a+'\x20dx:'+_0x46902a+'\x20dy:'+_0x5430b3+'\x20dz:'+_0x5c5a80);},'loggerBound':(_0xd8c9c,_0x5acde4,_0x1bad0f,_0x228325,_0x17faf,_0x589dd5)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0xd8c9c+'\x20minY:'+_0x5acde4+'\x20minZ:'+_0x1bad0f+'\x20maxX:'+_0x228325+'\x20maxY:'+_0x17faf+'\x20maxZ:'+_0x589dd5);},'loggerDebug':_0x199bd4=>{console['log']('C++\x20logger'+'Debug\x20['+_0x199bd4+']');}}};try{const _0x2e858c=await(await fetch(_0x23dc52))['arrayBuffe'+'r']();return _0x4b3ec2=(await WebAssembly['instantiat'+'e'](_0x2e858c,_0x2f4178))['instance'],_0xcc7521=_0x2f4178['env']['memory']['buffer'],_0x4b3ec2;}catch(_0x576963){throw console['error']('WASM'+':',_0x576963),_0x576963;}},_0x4bc322=()=>{if(!_0x4b3ec2)return;const {calcAABB:_0x1ba5e5}=_0x4b3ec2['exports'];_0x1ba5e5(_0x2312ad,_0x26719a,_0x512cca,_0x2474dd);},_0x49f552=()=>{if(!_0x4b3ec2||_0x27006b===null||_0x2312ad===null||_0x3d463b===null||_0x1b718d===null||_0x26719a===null||_0x512cca===null)return;const _0x3740fa=_0x4c8d8b[-0x1350+0x219d+-0xe4d],_0x32ccba=_0x4c8d8b[-0x32c+0xcb9+-0x1a*0x5e],_0x4264d2=_0x4c8d8b[-0x1da*0x10+-0x1*-0xf07+0xe9b],_0x4675dd=_0x15d8bb[0xed+-0x1283+0x1*0x1196],_0x155fa1=_0x15d8bb[-0x2*0xefe+0x389+-0x4*-0x69d],_0x3ce19d=_0x15d8bb[-0x1*0x1629+0xa0e+0xc1d*0x1],_0x29b6d6=0x1161+0x13d+-0x129e+0.001;if(!_0x55ec59&&Math['abs'](_0x3740fa-_0x1d62e1['x'])<_0x29b6d6&&Math['abs'](_0x32ccba-_0x1d62e1['y'])<_0x29b6d6&&Math['abs'](_0x4264d2-_0x1d62e1['z'])<_0x29b6d6&&Math['abs'](_0x4675dd-_0x53a0ea['x'])<_0x29b6d6&&Math['abs'](_0x155fa1-_0x53a0ea['y'])<_0x29b6d6&&Math['abs'](_0x3ce19d-_0x53a0ea['z'])<_0x29b6d6&&Math['abs'](_0x4c4b18-_0x2a8156)<-0x18b8+0xf30+-0xa*-0xf4+0.01)return;if(_0x5447f5){_0x59ff50=!(0xd68+-0x2e9*0x3+0x9*-0x85);return;}_0x5447f5=!(0x28*0x97+0xa63*0x1+0x1*-0x21fb),_0x55ec59=!(0x1*-0x1567+-0x96b*0x1+0x1*0x1ed3),_0x2a8156=_0x4c4b18,_0x1d62e1['x']=_0x3740fa,_0x1d62e1['y']=_0x32ccba,_0x1d62e1['z']=_0x4264d2,_0x53a0ea['x']=_0x4675dd,_0x53a0ea['y']=_0x155fa1,_0x53a0ea['z']=_0x3ce19d,_0x59ff50=!(-0x1079*-0x2+0x2458*0x1+-0x4549);const {sortIndexes:_0x4fd1e6}=_0x4b3ec2['exports'];try{const _0x44215d=_0x4fd1e6(_0x27006b,_0x2312ad,_0x459919,_0x1f9921,_0x18c27e,_0x3d463b,_0x1b718d,_0x26719a,_0x512cca,_0x1e8855,_0x227372,_0x4c4b18,_0x4c2505,_0x4c9970,_0x2474dd,_0x420562,_0x1f2efb,_0x4f2bc6,_0x134ac2);_0x5188d5['set'](_0x2d5662),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x44215d,'order':_0x5188d5});}catch(_0x41e90d){console['error'](':',_0x41e90d),self['postMessag'+'e']({'type':'error','error':_0x41e90d['message']});}_0x5447f5=!(0x16a4+-0x403*0x1+-0x12a0),_0x59ff50&&_0x507e5b();};}class H1 extends ce{constructor(_0x36cbc2,_0xa10426=!(-0xeb*0x1e+-0x943*-0x1+0x1*0x1247)){super(),c(this,'worker',null),c(this,'numSplats',0x9c1+0x3dd+-0xd9e),c(this,'is4d',!(0x919+0x140+-0xa59)),c(this,'sortStartT'+'ime',0xbce*-0x3+-0x12*0xad+0x2f94),c(this,'orderTextu'+'re'),(this['numSplats']=_0x36cbc2,this['is4d']=_0xa10426,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x4ee78b=>{if(!this['worker'])return;const {data:_0x454b5d}=_0x4ee78b;switch(_0x454b5d['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x454b5d['order']){const _0x24ab03=this['orderTextu'+'re']['lock']();new Uint32Array(_0x24ab03['buffer'])['set'](_0x454b5d['order']),this['orderTextu'+'re']['unlock']();}let _0x3e3b31=0x2049+0x583*-0x5+-0x5*0xf2;this['sortStartT'+'ime']!==-0x6e4+0x2543*-0x1+-0x2c27*-0x1&&(_0x3e3b31=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x4ee78b['data']['count'],_0x3e3b31),this['sortStartT'+'ime']=-0x217d*0x1+-0x3fb*-0x9+-0x256;break;case'error':console['error']('Worker:',_0x454b5d['error']),this['fire']('error',_0x454b5d['error']);break;}};const _0x5a7fec=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x5a7fec,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x2b412d,_0x43df4a,_0x24b2e5,_0x4172a4,_0x3edb57,_0x5aa23f,_0x3e27d9){var _0x535c72;(!_0x3e27d9||_0x3e27d9['length']===-0x4d8*0x8+-0x2e7*0xa+0x43c6)&&(_0x3e27d9=[0x1e54+-0x1*0x1dc5+-0x8f,-0x1e20+-0x452*-0x3+-0x112f*-0x1]),this['orderTextu'+'re']=_0x2b412d,(_0x535c72=this['worker'])==null||_0x535c72['postMessag'+'e']({'type':'initData','centers':_0x43df4a,'muT':_0x24b2e5,'tScale':_0x4172a4,'motion':_0x3edb57,'timeIndex':_0x5aa23f,'timeOption':_0x3e27d9,'dataReady':!(-0x1768+-0x5*0x16a+0x1e7a)});}['resize'](_0xc4b48a){this['destroy'](),this['numSplats']=_0xc4b48a,this['_initWorke'+'r']();}['setCamera'](_0x5d60ee,_0x58169b){this['worker']&&(this['sortStartT'+'ime']===-0x1f7f+0xd6a+0x1215&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x5d60ee['x'],'y':_0x5d60ee['y'],'z':_0x5d60ee['z']},'cameraDirection':{'x':_0x58169b['x'],'y':_0x58169b['y'],'z':_0x58169b['z']}}));}['setCurrent'+'Time'](_0x58d6b4){this['worker']&&(this['sortStartT'+'ime']===0x931+0x16bf+-0x1ff0&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x58d6b4}));}['setUseTemp'+'oralSort'](_0x358307){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x358307});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const $1=new q(),On=new T(),kn=new T(),Gl=[-0x1488+0x2d7*0x5+0x655,0x2036+-0x13*0xc3+-0x11bd];class Np{constructor(_0x41721e,_0x1f12a3){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',-0x1565+-0xf73+0x1*0x24d8),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x41721e['numSplats']),this['splat']=_0x41721e,this['options']=Object['assign'](this['options'],_0x1f12a3));const _0x36b385=_0x41721e['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x497858=-0x1*0xf01+0x326+-0xc5b*-0x1,_0x308376=Math['ceil'](_0x41721e['numSplats']/_0x497858)*_0x497858/_0x497858,_0x1cd5e1=new Uint32Array(_0x308376);for(let _0xeb8559=-0x1*-0x3da+-0x108*-0x4+-0x7fa;_0xeb8559<_0x308376;++_0xeb8559)_0x1cd5e1[_0xeb8559]=_0xeb8559*_0x497858;const _0x407fbe=new Et(_0x36b385,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x18d6+0xe48+-0x271e)}]),_0x292d1d=new os(_0x36b385,_0x407fbe,_0x308376,{'usage':jt,'data':_0x1cd5e1['buffer']}),_0x4fd4fc=new Float32Array((0x12b*-0x9+0xd6f+0x2e*-0x10)*_0x497858),_0x181684=new Uint32Array((-0x3*-0x64a+0x26c9+-0x1*0x39a1)*_0x497858);for(let _0x2a13f8=-0xa*-0x1dd+0x6*0x22c+-0x1faa;_0x2a13f8<_0x497858;++_0x2a13f8){_0x4fd4fc['set']([-(-0x1d69+0xe5c*-0x1+0x2bc6),-(-0x1c15+-0x449*0x7+0x1*0x3a15),_0x2a13f8,-0x3*-0x1cc+0x17b*0x10+0x33b*-0x9,-(0x1a*-0x18+-0x6fc+0x96d),_0x2a13f8,0x466+0xd2*-0x2b+0x1d1*0x11,0x2070+0x211*-0x12+0x4c3,_0x2a13f8,-(-0x4*-0xbb+0x1*0xc18+-0xf03),0x1*0x1146+-0x1*0x249b+0x1356,_0x2a13f8],_0x2a13f8*(-0x1199+0x1114+0x5*0x1d));const _0x53ff49=_0x2a13f8*(-0x6ae+0x160f+0x51f*-0x3);_0x181684['set']([0x1*-0xce+0x30e+-0x240+_0x53ff49,-0x6b2+0x7*0x67+0x47*0xe+_0x53ff49,0x1*0xe9+-0x24fe*0x1+-0x2417*-0x1+_0x53ff49,-0x12ab+0xb2a*0x3+-0xed3+_0x53ff49,0x947+0x3*0xbf+-0xb82+_0x53ff49,0x5c*0x59+0x20e7+0x8*-0x81c+_0x53ff49],_0x2a13f8*(-0x2*-0xedd+-0x1*0x14c5+0x8ef*-0x1));}const _0x157209=new Ie(_0x36b385);_0x157209['setPositio'+'ns'](_0x4fd4fc,0x2011+0x1709+-0x9*0x61f),_0x157209['setIndices'](_0x181684),_0x157209['update'](),this['mesh']=_0x157209,this['mesh']['aabb']['copy'](_0x41721e['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x292d1d,!(-0x11*-0x1b4+0x4*-0x71d+-0x80)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x3dc+-0x160*-0x6+-0xc1c,(!_0x1f12a3['dither']||_0x1f12a3['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x30ace1;(_0x30ace1=this['sorter'])==null||_0x30ace1['initData'](this['orderTextu'+'re'],_0x41721e['centers'],_0x41721e['muT'],_0x41721e['tScale'],_0x41721e['motion'],_0x41721e['timeIndex'],_0x41721e['timeOption']);}),this['sorter']['on']('updated',_0x5dd971=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x5dd971/_0x497858),this['material']['setParamet'+'er']('numSplats',_0x5dd971);}));}['updateData'](_0x530da3){var _0x51682b;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x530da3['numSplats']),this['splat']=_0x530da3;const _0x3efcd3=_0x530da3['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x301306=0x39b+0x13a3+-0x16be,_0x3cff14=Math['ceil'](_0x530da3['numSplats']/_0x301306)*_0x301306/_0x301306,_0x348fcc=new Uint32Array(_0x3cff14);for(let _0x56a104=0x1d41+0x1*0x1a3f+-0x3780;_0x56a104<_0x3cff14;++_0x56a104)_0x348fcc[_0x56a104]=_0x56a104*_0x301306;const _0x3dcac5=new Et(_0x3efcd3,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x10f*0xf+-0x16cf+0x6ee)}]),_0x3a958a=new os(_0x3efcd3,_0x3dcac5,_0x3cff14,{'usage':jt,'data':_0x348fcc['buffer']});this['mesh']['aabb']['copy'](_0x530da3['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x3a958a,!(0x2*0xaaf+-0x7*-0x57a+-0x3bb4)),this['meshInstan'+'ce']['instancing'+'Count']=0x1cc5+0x3*0x131+0xcf*-0x28,(_0x51682b=this['sorter'])==null||_0x51682b['resize'](_0x530da3['numSplats']);}['releaseSeq'](_0x33b49c){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x33b49c);}['destroy'](){var _0x105474,_0x19d54d,_0x1ca35d;(_0x105474=this['material'])==null||_0x105474['destroy'](),(_0x19d54d=this['meshInstan'+'ce'])==null||_0x19d54d['destroy'](),(_0x1ca35d=this['sorter'])==null||_0x1ca35d['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x3f67f3){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x3f67f3),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x57623b=this['splat']['device'];if(Gl[0x1*-0x29f+0x1c52+0x33*-0x81]=_0x57623b['width'],Gl[0xd*-0x1eb+-0x90c+0x21fc]=_0x57623b['height'],this['cameras']['length']>0x11*-0x1a5+0x196a+0x28b){const _0x2e7be9=this['cameras'][-0xde5*-0x1+0x20ed*-0x1+-0xc*-0x196]['xr'];_0x2e7be9&&_0x2e7be9['active']&&_0x2e7be9['views']['list']['length']===0x17*-0x187+-0xe66+0x3189&&(Gl[0x29*0x4c+0xce5+0x3*-0x85b]/=-0x2d5*0x1+-0x7e8+0xabf);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x4bab62){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x24dd7b=_0x4bab62['getWorldTr'+'ansform']();_0x24dd7b['getTransla'+'tion'](On),_0x24dd7b['getZ'](kn);const _0x3ba0e0=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x596b2c=$1['invert'](_0x3ba0e0);_0x596b2c['transformP'+'oint'](On,On),_0x596b2c['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>0x1077+-0x1c81*-0x1+-0x2cf8){const _0x473287=this['cameras'][-0x1*-0xc42+-0x4a3+0x79f*-0x1];this['sort'](_0x473287['_node']),this['cameras']['length']=-0x4ba+0x5ac+-0x79*0x2;}}['updateTime'](_0x56fa8a){this['time']=_0x56fa8a;}}const W1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0x53197a){U0=_0x53197a;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x2e8e53){v['assert'](_0x2e8e53),_0x2e8e53['frameUpdat'+'e']();const _0x478812=_0x2e8e53['beforePass'+'es'];for(let _0x735bd9=0x1de*-0x6+-0x36*-0xad+0x1*-0x194a;_0x735bd9<_0x478812['length'];_0x735bd9++){const _0x2d18e5=_0x478812[_0x735bd9];_0x2d18e5['enabled']&&this['addRenderP'+'ass'](_0x2d18e5);}_0x2e8e53['enabled']&&this['renderPass'+'es']['push'](_0x2e8e53);const _0x54a266=_0x2e8e53['afterPasse'+'s'];for(let _0x330396=0x16d*0x4+-0x10ff+-0x3b*-0x31;_0x330396<_0x54a266['length'];_0x330396++){const _0x23334d=_0x54a266[_0x330396];_0x23334d['enabled']&&this['addRenderP'+'ass'](_0x23334d);}}['reset'](){this['renderPass'+'es']['length']=0x187f*-0x1+-0x181*0x16+0x3995;}['compile'](){const _0x5e9dc9=this['renderTarg'+'etMap'],_0x4c0f1c=this['renderPass'+'es'];for(let _0x4a1c15=-0xbe0+0x145a+0xe*-0x9b;_0x4a1c15<_0x4c0f1c['length'];_0x4a1c15++){const _0x4f0168=_0x4c0f1c[_0x4a1c15],_0x5936f7=_0x4f0168['renderTarg'+'et'];if(_0x5936f7!==void(0x1*-0x28c+0xd8f+0xb03*-0x1)){const _0x5e027c=_0x5e9dc9['get'](_0x5936f7);if(_0x5e027c){const _0x10732e=_0x4f0168['colorArray'+'Ops']['length'];for(let _0x3c70e7=-0x1d9b+0x3f9+0x19a2;_0x3c70e7<_0x10732e;_0x3c70e7++)_0x4f0168['colorArray'+'Ops'][_0x3c70e7]['clear']||(_0x5e027c['colorArray'+'Ops'][_0x3c70e7]['store']=!(-0x1089+-0x154a+0x25d3));_0x4f0168['depthStenc'+'ilOps']['clearDepth']||(_0x5e027c['depthStenc'+'ilOps']['storeDepth']=!(0x268f+-0x3fd+0x162*-0x19)),_0x4f0168['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x5e027c['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x1*0x8eb+-0x133d+0xa52));}_0x5e9dc9['set'](_0x5936f7,_0x4f0168);}}for(let _0x167da1=-0x1*-0x1ada+0x22d0+-0x3daa;_0x167da1<_0x4c0f1c['length']-(-0x5*-0x7b4+0x12af+0x1*-0x3932);_0x167da1++){const _0x5f10ad=_0x4c0f1c[_0x167da1],_0x3e490f=_0x5f10ad['renderTarg'+'et'],_0x5731c4=_0x4c0f1c[_0x167da1+(-0x252d+0x1653+0xedb)],_0x272c0a=_0x5731c4['renderTarg'+'et'];_0x3e490f!==_0x272c0a||_0x3e490f===void(-0x909+-0x11d3+-0x8f4*-0x3)||_0x5731c4['depthStenc'+'ilOps']['clearDepth']||_0x5731c4['depthStenc'+'ilOps']['clearStenc'+'il']||_0x5731c4['colorArray'+'Ops']['some'](_0x541e8b=>_0x541e8b['clear'])||_0x5f10ad['afterPasse'+'s']['length']>0x2019+0x1*0x1547+-0x7*0x7a0||_0x5731c4['beforePass'+'es']['length']>0x1*-0xeb5+-0xf64+0x1e19||(_0x5f10ad['_skipEnd']=!(-0xac*-0x2+-0xd8d*0x1+0xc35),_0x5731c4['_skipStart']=!(0xfb*0x9+-0x2bb+0x618*-0x1));}let _0x2f396b=null,_0x34f6aa=null;for(let _0x3dcb52=-0x2*0x5ce+0x55*0x33+-0x2f*0x1d;_0x3dcb52<_0x4c0f1c['length'];_0x3dcb52++){const _0x1707dc=_0x4c0f1c[_0x3dcb52],_0x17bdb0=_0x1707dc['renderTarg'+'et'],_0x3913b1=_0x17bdb0==null?void(0x246b+-0x49*-0x84+-0x4a0f*0x1):_0x17bdb0['colorBuffe'+'r'];if(_0x3913b1!=null&&_0x3913b1['cubemap']){if(_0x2f396b===_0x3913b1){const _0x51df97=_0x34f6aa['colorArray'+'Ops']['length'];for(let _0x23f07c=-0x23cc+-0x2*0xc4d+0x1*0x3c66;_0x23f07c<_0x51df97;_0x23f07c++)_0x34f6aa['colorArray'+'Ops'][_0x23f07c]['mipmaps']=!(-0x35*0x9a+-0x185d+0x3c*0xf0);}_0x2f396b=_0x17bdb0['colorBuffe'+'r'],_0x34f6aa=_0x1707dc;}else _0x1707dc['requiresCu'+'bemaps']&&(_0x2f396b=null,_0x34f6aa=null);}_0x5e9dc9['clear']();}['render'](_0xea7df9){this['compile']();const _0x21a27b=this['renderPass'+'es'];for(let _0xc32c1a=-0x89*-0x27+-0x1f9+-0x12e6;_0xc32c1a<_0x21a27b['length'];_0xc32c1a++)_0x21a27b[_0xc32c1a]['render']();}}class j1{constructor(_0x57dacd,_0x4b14de){this['texture0']=_0x57dacd,this['texture1']=_0x4b14de;}['destroy'](){var _0x36c8ce,_0x244466;(_0x36c8ce=this['texture0'])==null||_0x36c8ce['destroy'](),(_0x244466=this['texture1'])==null||_0x244466['destroy']();}}const H_=new Ot();class Wr{static['createText'+'ure'](_0x1a869,_0x58dd15,_0x3b3c76,_0x167068=''){return new he(_0x1a869,{'name':'AreaLightL'+'UT'+_0x167068,'width':_0x3b3c76,'height':_0x3b3c76,'format':_0x58dd15,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x63b*-0x3+0x26*-0x4c+-0x768)});}static['applyTextu'+'res'](_0x1611ef,_0x3c84cb,_0x271bfd){H_['remove'](_0x1611ef),H_['get'](_0x1611ef,()=>new j1(_0x3c84cb,_0x3c84cb===_0x271bfd?null:_0x271bfd)),_0x1611ef['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x3c84cb),_0x1611ef['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x271bfd);}static['createPlac'+'eholder'](_0x2b1a72){const _0x2e30f6=Wr['createText'+'ure'](_0x2b1a72,Je,0x2*-0x37b+-0x3*0x7c9+-0x1*-0x1e53,'placeholde'+'r');_0x2e30f6['lock']()['fill'](-0x799*-0x4+0xc*-0xd4+0x16*-0xee),_0x2e30f6['unlock'](),Wr['applyTextu'+'res'](_0x2b1a72,_0x2e30f6,_0x2e30f6);}static['set'](_0x38de06,_0x1616c6,_0x310d0e){function _0x439877(_0x9bdff9,_0x61ca98,_0x1fd346){const _0x593eac=Wr['createText'+'ure'](_0x9bdff9,_0x1fd346,0x1*-0x1b59+-0x1*-0x565+0x1634);return _0x593eac['lock']()['set'](_0x61ca98),_0x593eac['unlock'](),_0x593eac;}function _0x35dd2b(_0x1dbea6){const _0x27fc18=_0x1dbea6['length'],_0x599318=new Uint16Array(_0x27fc18),_0x18d2a4=$t['float2Half'];for(let _0x48a7ad=0x6*-0x1c5+0x1535+-0xa97*0x1;_0x48a7ad<_0x27fc18;_0x48a7ad++)_0x599318[_0x48a7ad]=_0x18d2a4(_0x1dbea6[_0x48a7ad]);return _0x599318;}const _0x20d660=_0x1616c6,_0x5aca32=_0x310d0e,_0x1b2498=_0x35dd2b(_0x20d660),_0x2f2a4e=_0x35dd2b(_0x5aca32),_0x5c132f=_0x439877(_0x38de06,_0x1b2498,Je),_0x5cec16=_0x439877(_0x38de06,_0x2f2a4e,Je);Wr['applyTextu'+'res'](_0x38de06,_0x5c132f,_0x5cec16);}}const $h='en-US',Wh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x106e0e,_0x40ee36){for(let _0xc0083a=-0xfa3*0x1+0x377*-0x2+0x1691*0x1,_0x2b5c00=_0x106e0e['length'];_0xc0083a<_0x2b5c00;_0xc0083a++)zp[_0x106e0e[_0xc0083a]]=_0x40ee36;}function pi(_0x3377c2){const _0x4661bd=_0x3377c2['indexOf']('-');return _0x4661bd!==-(0x15f+-0x77*0xa+-0x1e*-0x1c)?_0x3377c2['substring'](-0x19a0+0x21e0+0x6*-0x160,_0x4661bd):_0x3377c2;}function Y1(_0x125581,_0x257f4b){const _0x16f85c=_0x125581['indexOf']('-');return _0x16f85c!==-(0x45*-0x8e+0xcb*-0x2c+0x492b)?_0x257f4b+_0x125581['substring'](_0x16f85c):_0x257f4b;}function V0(_0x1b2f4c,_0x2ef88b){if(_0x2ef88b[_0x1b2f4c])return _0x1b2f4c;let _0x50eb26=Wh[_0x1b2f4c];if(_0x50eb26&&_0x2ef88b[_0x50eb26])return _0x50eb26;const _0x5925e9=pi(_0x1b2f4c);return _0x50eb26=Wh[_0x5925e9],_0x2ef88b[_0x50eb26]?_0x50eb26:_0x2ef88b[_0x5925e9]?_0x5925e9:$h;}pr(['ja','ko','th','vi','zh','id'],_0x50d94a=>0x14e9+-0x2*-0x1e9+-0x18bb*0x1),pr(['fa','hi'],_0x10a8e4=>_0x10a8e4>=0x5d0+-0x13*0x1e3+0x2bb*0xb&&_0x10a8e4<=0x263a+0xc44*-0x2+-0x2bd*0x5?0x1*-0x2546+-0x1341+-0x1f3*-0x1d:-0x1c48+0x1349+0x3*0x300),pr(['fr','pt'],_0x53cd3b=>_0x53cd3b>=-0x1*-0x174b+0x1286+-0x29d1&&_0x53cd3b<-0x132b*-0x1+-0x3*-0xb8e+0x1*-0x35d3?-0xcc1*0x2+-0x110a+0x2a8c:0x12e2+0x1*0x188b+-0x2b6c),pr(['da'],_0x242933=>_0x242933===-0x2153+0x2207*0x1+0xb3*-0x1||!Number['isInteger'](_0x242933)&&_0x242933>=0x29*-0x83+0x4da*0x1+-0x1021*-0x1&&_0x242933<=-0x1d9*0x7+0x157a+-0x2*0x445?0x26bd+-0x2*-0x1099+-0x47ef:0x72*-0x39+-0x2*0xa41+0x2de5*0x1),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x831fa0=>_0x831fa0===-0x1763*0x1+0x175*0x6+0x1e*0x7d?0x144d+-0x698+-0x1d*0x79:-0x1227+0x2023+-0x3*0x4a9),pr(['ru','uk'],_0x4e6911=>{if(Number['isInteger'](_0x4e6911)){const _0x4a50e3=_0x4e6911%(-0x2c0+0x1a*-0xab+0x1ae*0xc),_0x2de0ce=_0x4e6911%(-0x139*-0x11+-0x2*0x128c+0x10b3);if(_0x4a50e3===-0x8d9+-0x5*0x55d+0x23ab*0x1&&_0x2de0ce!==-0x14ec+0x178f*-0x1+0x2c86)return-0x1cf9+-0x5f3+0x22ec;if(_0x4a50e3>=-0x2d*0x47+-0x15b8+0x2235&&_0x4a50e3<=-0x4c*-0x1+-0x252b*0x1+0x24e3&&(_0x2de0ce<-0x115*0xd+0x130f+-0x4f2||_0x2de0ce>-0x2176+0x1068+0x111c))return 0x4*0x3cd+0x1*-0xad9+-0x45a;if(_0x4a50e3===-0x442*-0x1+0x3*0xc93+-0x29fb||_0x4a50e3>=0x103a*0x2+-0xe96+0x11d9*-0x1&&_0x4a50e3<=-0x11ce+0x2*0xf69+0x1*-0xcfb||_0x2de0ce>=0x2437+-0x434+-0x1*0x1ff8&&_0x2de0ce<=-0x76*0x1d+0x163f+0x3*-0x2f1)return 0x603+-0x23d7+0xc9*0x26;}return-0x4a6+-0x263a+-0x2ae3*-0x1;}),pr(['pl'],_0x39f3fb=>{if(Number['isInteger'](_0x39f3fb)){if(_0x39f3fb===0x1*0xf5b+-0x261b+0x16c1)return-0x101f+-0x1*-0x23f6+-0x13d7;const _0x165859=_0x39f3fb%(0x126a+-0x1355+-0x5*-0x31),_0x3d1e11=_0x39f3fb%(0x20f4+-0x6*0x39d+-0xae2);if(_0x165859>=-0x2d8*0x1+0x210e+-0x1e34&&_0x165859<=0x7d3+0x52f*0x2+0xb*-0x1a7&&(_0x3d1e11<0x9*0x121+-0x10*-0x24b+-0x2ecd*0x1||_0x3d1e11>-0x13f*0xb+-0x96e+-0x1*-0x1731))return 0x187b+0x2*-0x4cf+-0xedc;if(_0x165859>=-0x26b5+-0x7f4*0x1+0x2ea9&&_0x165859<=-0x3fb*0x2+0x2*0x1307+-0x1e17*0x1||_0x165859>=-0x391*0x9+-0x20b+0x109*0x21&&_0x165859<=0x7d3*-0x4+0xf*0x211+-0x56*-0x1||_0x3d1e11>=0x3d*0x4d+-0x11*0x11d+0xa0*0x1&&_0x3d1e11<=0x74b+-0x1555+0xe18)return-0x843+0xe1d+0x58*-0x11;}return 0x1*0x16bd+0x3c6+-0x1a80;}),pr(['ar'],_0x380c80=>{if(_0x380c80===0xa11+-0x5b4*0x5+0x1273)return 0x4e1+-0x6*0x62a+0x1*0x201b;if(_0x380c80===0xa6a+-0x1409+0x9a0)return 0xddf+0x8a6+0x5a1*-0x4;if(_0x380c80===-0x1670+-0x3*0xa3d+0x1*0x3529)return-0x245f+0xf96+0x14cb;if(Number['isInteger'](_0x380c80)){const _0x31c36f=_0x380c80%(-0x227*-0x8+0x2263*0x1+-0x3337);if(_0x31c36f>=0x1*-0x892+0x1eea+0x1*-0x1655&&_0x31c36f<=-0x1*-0x141a+0x184a+-0x7*0x656)return 0x21*-0xb3+0xe14+-0x481*-0x2;if(_0x31c36f>=0x4*0x429+-0xad6+0x127*-0x5&&_0x31c36f<=-0x9d3+0x2*-0x5c5+-0x57*-0x40)return 0x1cab+0xfd3+0x2c7a*-0x1;}return-0x18ab+-0x3ca*0x4+0x27d8;});const K1=zp[pi($h)];function Xd(_0x5c9aea){return zp[_0x5c9aea]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x3cbe8='',_0x45e3db='',_0x4e66c8=null,_0x112ebf=null,_0x3975dc=null,_0x1449da=null){this['url']=_0x3cbe8,this['filename']=_0x45e3db,this['hash']=_0x4e66c8,this['size']=_0x112ebf,this['opt']=_0x3975dc,this['contents']=_0x1449da;}['equals'](_0x56b886){return this['url']===_0x56b886['url']&&this['filename']===_0x56b886['filename']&&this['hash']===_0x56b886['hash']&&this['size']===_0x56b886['size']&&this['opt']===_0x56b886['opt']&&this['contents']===_0x56b886['contents'];}}let Q1=-(-0x2*0x12a8+0x771+0x1de0);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},$_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x2968bc,_0x103aa6,_0x4737ae,_0x1221cb,_0x197177){super(),this['_id']=Q1--,this['_name']=_0x2968bc||'',this['type']=_0x103aa6,this['tags']=new po(this),this['_preload']=!(-0x1*-0x17c5+-0x1*0x972+-0xe52),this['_file']=null,this['_data']=_0x1221cb||{},this['options']=_0x197177||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(-0x7f*0x22+-0x2d8+0x13b7),this['loading']=!(0x1c85+-0x269f+0xa1b),this['registry']=null,_0x4737ae&&(this['file']=_0x4737ae);}set['id'](_0x5e3f92){this['_id']=_0x5e3f92;}get['id'](){return this['_id'];}set['name'](_0x5b21c1){if(this['_name']===_0x5b21c1)return;const _0x4e4edd=this['_name'];this['_name']=_0x5b21c1,this['fire']('name',this,this['_name'],_0x4e4edd);}get['name'](){return this['_name'];}set['file'](_0x4ede3a){var _0x5d7a8b,_0x85bc5d;if(_0x4ede3a&&_0x4ede3a['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x1f6*-0x2+-0x131c+-0x1*-0xf31)){const _0x30bdc6=((_0x85bc5d=(_0x5d7a8b=this['registry'])==null?void(-0x1197+0xb64+0x633):_0x5d7a8b['_loader'])==null?void(-0xd*-0x24d+0x1483+-0x734*0x7):_0x85bc5d['_app'])||tn(),_0x4e3e49=_0x30bdc6==null?void(-0x964+-0x95*-0x2+0x83a):_0x30bdc6['graphicsDe'+'vice'];if(_0x4e3e49)for(let _0x3ecb4c=-0x3*0xa93+0xca+0x1eef,_0x34d7b4=$_['length'];_0x3ecb4c<_0x34d7b4;_0x3ecb4c++){const _0x4547e5=$_[_0x3ecb4c];if(_0x4ede3a['variants'][_0x4547e5]&&_0x4e3e49[J1[_0x4547e5]]){_0x4ede3a=_0x4ede3a['variants'][_0x4547e5];break;}if(_0x30bdc6['enableBund'+'les']){const _0x24e31e=_0x30bdc6['bundles']['listBundle'+'sForAsset'](this);if(_0x24e31e&&_0x24e31e['find'](_0x1f2d81=>{var _0x511380;return(_0x511380=_0x1f2d81==null?void(-0x112a+0x1*0x78a+0x9a*0x10):_0x1f2d81['file'])==null?void(-0x2120+-0xe2*0x25+0x41ca):_0x511380['variants'][_0x4547e5];}))break;}}}const _0x20d356=this['_file'],_0x2ebd26=_0x4ede3a?new Z1(_0x4ede3a['url'],_0x4ede3a['filename'],_0x4ede3a['hash'],_0x4ede3a['size'],_0x4ede3a['opt'],_0x4ede3a['contents']):null;(!!_0x2ebd26!=!!_0x20d356||_0x2ebd26&&!_0x2ebd26['equals'](_0x20d356))&&(this['_file']=_0x2ebd26,this['fire']('change',this,'file',_0x2ebd26,_0x20d356),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x5b84c5){const _0x41067e=this['_data'];this['_data']=_0x5b84c5,_0x5b84c5!==_0x41067e&&(this['fire']('change',this,'data',_0x5b84c5,_0x41067e),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x2bd4cf){const _0x5209d2=this['_resources'][-0xb9*0x3+-0x148d+0x5ae*0x4];this['_resources'][-0x1*0x3d8+0x1443+-0x1*0x106b]=_0x2bd4cf,this['fire']('change',this,'resource',_0x2bd4cf,_0x5209d2);}get['resource'](){return this['_resources'][0x1a9+0x1*-0x21f2+-0x39*-0x91];}set['resources'](_0x201cb2){const _0x624471=this['_resources'];this['_resources']=_0x201cb2,this['fire']('change',this,'resources',_0x201cb2,_0x624471);}get['resources'](){return this['_resources'];}set['preload'](_0x2e73fe){_0x2e73fe=!!_0x2e73fe,this['_preload']!==_0x2e73fe&&(this['_preload']=_0x2e73fe,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x57caf1){_0x57caf1=!!_0x57caf1,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x57caf1!==this['_loadFaces'])&&(this['_loadFaces']=_0x57caf1,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x859dfe=this['file'];if(!_0x859dfe||!_0x859dfe['url'])return null;let _0x54d89d=_0x859dfe['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x54d89d)&&(_0x54d89d=this['registry']['prefix']+_0x54d89d),this['type']!=='script'&&_0x859dfe['hash']){const _0x34c221=_0x54d89d['indexOf']('?')!==-(-0x10ec+0x1327+-0x23a)?'&':'?';_0x54d89d+=_0x34c221+'t='+_0x859dfe['hash'];}return _0x54d89d;}['getAbsolut'+'eUrl'](_0x481013){if(_0x481013['startsWith']('blob:')||_0x481013['startsWith']('data:'))return _0x481013;const _0x1a912e=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x1a912e,_0x481013);}['getLocaliz'+'edAssetId'](_0x94c764){return _0x94c764=V0(_0x94c764,this['_i18n']),this['_i18n'][_0x94c764]||null;}['addLocaliz'+'edAssetId'](_0x1441fb,_0x332b5a){this['_i18n'][_0x1441fb]=_0x332b5a,this['fire']('add:locali'+'zed',_0x1441fb,_0x332b5a);}['removeLoca'+'lizedAsset'+'Id'](_0x248439){const _0x40a367=this['_i18n'][_0x248439];_0x40a367&&(delete this['_i18n'][_0x248439],this['fire']('remove:loc'+'alized',_0x248439,_0x40a367));}['ready'](_0x4cfef4,_0x5ba564){_0x5ba564=_0x5ba564||this,this['loaded']?_0x4cfef4['call'](_0x5ba564,this):this['once']('load',_0x3f621e=>{_0x4cfef4['call'](_0x5ba564,_0x3f621e);});}['reload'](){this['loaded']&&(this['loaded']=!(0x26a9+-0x1*-0x531+-0x1*0x2bd9),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0xe*0x295+-0x3*-0x602+-0x2*0x1b16)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x5996be=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x1*-0x4c3+0x1f34+0x23f6*-0x1),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x4a5e16=-0x39*-0x77+0x2*-0x120d+-0x1*-0x99b;_0x4a5e16<_0x5996be['length'];++_0x4a5e16){const _0x3ecb74=_0x5996be[_0x4a5e16];_0x3ecb74&&_0x3ecb74['destroy']&&_0x3ecb74['destroy']();}}static['fetchArray'+'Buffer'](_0x424b77,_0x22c210,_0x59642d,_0x9dace4=0x5*0x5b4+-0xd5d+0x3*-0x50d){var _0xe6f641;(_0xe6f641=_0x59642d==null?void(0x39*0x70+-0x1fe7+0x6f7):_0x59642d['file'])!=null&&_0xe6f641['contents']?setTimeout(()=>{_0x22c210(null,_0x59642d['file']['contents']);}):We['get'](_0x424b77,{'cache':!(0x222+0x1*0x15b+0x13*-0x2f),'responseType':'arraybuffe'+'r','retry':_0x9dace4>-0x9*-0x41d+0x1*0x118b+-0x3690*0x1,'maxRetries':_0x9dace4},_0x22c210);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x59b0cb=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x59b0cb;}['addItem'](_0x316e69){const _0x67c15c=_0x316e69['tags']['_list'];for(const _0x286dc8 of _0x67c15c)this['add'](_0x286dc8,_0x316e69);}['removeItem'](_0x1456fe){const _0x1f261c=_0x1456fe['tags']['_list'];for(const _0x240e82 of _0x1f261c)this['remove'](_0x240e82,_0x1456fe);}['add'](_0x5c7916,_0x3e1f21){this['_index'][_0x5c7916]&&this['_index'][_0x5c7916]['list']['indexOf'](_0x3e1f21)!==-(0x1fe*0xd+0xfb3*-0x1+-0xa32)||(this['_index'][_0x5c7916]||(this['_index'][_0x5c7916]={'list':[]},this['_key']&&(this['_index'][_0x5c7916]['keys']={})),this['_index'][_0x5c7916]['list']['push'](_0x3e1f21),this['_key']&&(this['_index'][_0x5c7916]['keys'][_0x3e1f21[this['_key']]]=_0x3e1f21));}['remove'](_0x37881b,_0x5650fc){if(!this['_index'][_0x37881b]||this['_key']&&!this['_index'][_0x37881b]['keys'][_0x5650fc[this['_key']]])return;const _0x32e637=this['_index'][_0x37881b]['list']['indexOf'](_0x5650fc);_0x32e637!==-(0x647+0x1355*0x2+0x2cf0*-0x1)&&(this['_index'][_0x37881b]['list']['splice'](_0x32e637,-0x140+0x88c+-0x1*0x74b),this['_key']&&delete this['_index'][_0x37881b]['keys'][_0x5650fc[this['_key']]],this['_index'][_0x37881b]['list']['length']===-0x11df+-0xa19+-0x6fe*-0x4&&delete this['_index'][_0x37881b]);}['find'](_0x347dcf){const _0x295059={},_0x792813=[];let _0x1ec8ef,_0x3ac901,_0x5a6103,_0x542854,_0x513959;const _0x3f1cf3=(_0x543611,_0x5f6fb7)=>this['_index'][_0x543611]['list']['length']-this['_index'][_0x5f6fb7]['list']['length'];for(let _0x770153=0x164+0x9e8*-0x2+0x2*0x936;_0x770153<_0x347dcf['length'];_0x770153++){if(_0x3ac901=_0x347dcf[_0x770153],_0x3ac901 instanceof Array){if(_0x3ac901['length']===-0x1db1+-0x638+0x1d*0x13d)continue;if(_0x3ac901['length']===0x1dd9+0x121*-0x1d+-0x39*-0xd)_0x3ac901=_0x3ac901[-0x5ca+0x46f+0x15b];else{_0x513959=!(0x1783+0x191*0x13+-0x1*0x3545);for(let _0x34598b=-0x660+0x1c98*-0x1+-0x5d4*-0x6;_0x34598b<_0x3ac901['length'];_0x34598b++)if(!this['_index'][_0x3ac901[_0x34598b]]){_0x513959=!(-0xefd+0x854+-0x9b*-0xb);break;}if(_0x513959)continue;_0x5a6103=_0x3ac901['slice'](-0x11fb+-0x2170+0x336b)['sort'](_0x3f1cf3),_0x542854=_0x5a6103['slice'](0x5e9*0x1+0x189+-0x771),_0x542854['length']===0x1001+0x183a+-0x141d*0x2&&(_0x542854=_0x542854[0x1*-0x15ef+-0x23bd+0xe6b*0x4]);for(let _0x4d4fd2=-0x1253*0x2+0x14d0+0xfd6;_0x4d4fd2<this['_index'][_0x5a6103[-0x10cb+0x19ea+-0x91f]]['list']['length'];_0x4d4fd2++)_0x1ec8ef=this['_index'][_0x5a6103[-0x411+0x2a+0x1b*0x25]]['list'][_0x4d4fd2],(this['_key']?!_0x295059[_0x1ec8ef[this['_key']]]:_0x792813['indexOf'](_0x1ec8ef)===-(-0x1d10+0x14f6+0x81b))&&_0x1ec8ef['tags']['has'](_0x542854)&&(this['_key']&&(_0x295059[_0x1ec8ef[this['_key']]]=!(-0x23f5+-0x2*-0x65+0x232b*0x1)),_0x792813['push'](_0x1ec8ef));continue;}}if(_0x3ac901&&typeof _0x3ac901=='string'&&this['_index'][_0x3ac901]){for(let _0x1f4288=0xc7d+-0xc6e+-0x5*0x3;_0x1f4288<this['_index'][_0x3ac901]['list']['length'];_0x1f4288++)_0x1ec8ef=this['_index'][_0x3ac901]['list'][_0x1f4288],this['_key']?_0x295059[_0x1ec8ef[this['_key']]]||(_0x295059[_0x1ec8ef[this['_key']]]=!(0x1d*0x57+-0x1644+-0xc69*-0x1),_0x792813['push'](_0x1ec8ef)):_0x792813['indexOf'](_0x1ec8ef)===-(-0x1f1*-0x1+-0x67*-0x4c+-0x2084)&&_0x792813['push'](_0x1ec8ef);}}return _0x792813;}}class ao extends ce{constructor(_0x10509a){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x10509a;}['list'](_0xb17483={}){const _0x41791a=Array['from'](this['_assets']);return _0xb17483['preload']!==void(0x11c7+-0x1b1f+-0xd*-0xb8)?_0x41791a['filter'](_0x506b68=>_0x506b68['preload']===_0xb17483['preload']):_0x41791a;}['add'](_0x280fe1){var _0x187a57,_0x3361c7;this['_assets']['has'](_0x280fe1)||(this['_assets']['add'](_0x280fe1),this['_idToAsset']['set'](_0x280fe1['id'],_0x280fe1),(_0x187a57=_0x280fe1['file'])!=null&&_0x187a57['url']&&this['_urlToAsse'+'t']['set'](_0x280fe1['file']['url'],_0x280fe1),this['_nameToAss'+'et']['has'](_0x280fe1['name'])||this['_nameToAss'+'et']['set'](_0x280fe1['name'],new Set()),this['_nameToAss'+'et']['get'](_0x280fe1['name'])['add'](_0x280fe1),_0x280fe1['on']('name',this['_onNameCha'+'nge'],this),_0x280fe1['registry']=this,this['_tags']['addItem'](_0x280fe1),_0x280fe1['tags']['on']('add',this['_onTagAdd'],this),_0x280fe1['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x280fe1),this['fire']('add:'+_0x280fe1['id'],_0x280fe1),(_0x3361c7=_0x280fe1['file'])!=null&&_0x3361c7['url']&&this['fire']('add:url:'+_0x280fe1['file']['url'],_0x280fe1),_0x280fe1['preload']&&this['load'](_0x280fe1));}['remove'](_0x4c5f00){var _0x2902d5,_0x2a3b96;if(!this['_assets']['has'](_0x4c5f00))return!(0x2*0x293+-0x9*-0x452+-0x2c07);if(this['_assets']['delete'](_0x4c5f00),this['_idToAsset']['delete'](_0x4c5f00['id']),(_0x2902d5=_0x4c5f00['file'])!=null&&_0x2902d5['url']&&this['_urlToAsse'+'t']['delete'](_0x4c5f00['file']['url']),_0x4c5f00['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x4c5f00['name'])){const _0xbe6c9f=this['_nameToAss'+'et']['get'](_0x4c5f00['name']);_0xbe6c9f['delete'](_0x4c5f00),_0xbe6c9f['size']===-0x2*-0x78d+-0x7af+-0x76b&&this['_nameToAss'+'et']['delete'](_0x4c5f00['name']);}return this['_tags']['removeItem'](_0x4c5f00),_0x4c5f00['tags']['off']('add',this['_onTagAdd'],this),_0x4c5f00['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x4c5f00['fire']('remove',_0x4c5f00),this['fire']('remove',_0x4c5f00),this['fire']('remove:'+_0x4c5f00['id'],_0x4c5f00),(_0x2a3b96=_0x4c5f00['file'])!=null&&_0x2a3b96['url']&&this['fire']('remove:url'+':'+_0x4c5f00['file']['url'],_0x4c5f00),!(0x1c7e+0x2289*0x1+-0x3f07);}['get'](_0x371122){return this['_idToAsset']['get'](Number(_0x371122));}['getByUrl'](_0x17fdfb){return this['_urlToAsse'+'t']['get'](_0x17fdfb);}['load'](_0xd78c50,_0x2b4d3a){if((_0xd78c50['loading']||_0xd78c50['loaded'])&&!(_0x2b4d3a!=null&&_0x2b4d3a['force']))return;const _0x22b0c0=_0xd78c50['file'],_0x15eab9=()=>{this['fire']('load',_0xd78c50),this['fire']('load:'+_0xd78c50['id'],_0xd78c50),_0x22b0c0&&_0x22b0c0['url']&&this['fire']('load:url:'+_0x22b0c0['url'],_0xd78c50),_0xd78c50['fire']('load',_0xd78c50);},_0x2a1392=_0x4ef2b8=>{if(_0x4ef2b8 instanceof Array?_0xd78c50['resources']=_0x4ef2b8:_0xd78c50['resource']=_0x4ef2b8,this['_loader']['patch'](_0xd78c50,this),_0xd78c50['type']==='bundle'){const _0x4680c6=_0xd78c50['data']['assets'];for(let _0x40758c=-0x90b+0x5a7*-0x5+0x254e;_0x40758c<_0x4680c6['length'];_0x40758c++){const _0x2b814e=this['_idToAsset']['get'](_0x4680c6[_0x40758c]);_0x2b814e&&!_0x2b814e['loaded']&&this['load'](_0x2b814e,{'force':!(0x5*-0x161+0x101*0x4+-0xb*-0x43)});}_0xd78c50['resource']['loaded']?_0x15eab9():(this['fire']('load:start',_0xd78c50),this['fire']('load:start'+':'+_0xd78c50['id'],_0xd78c50),_0x22b0c0&&_0x22b0c0['url']&&this['fire']('load:start'+':url:'+_0x22b0c0['url'],_0xd78c50),_0xd78c50['fire']('load:start',_0xd78c50),_0xd78c50['resource']['on']('load',_0x15eab9));}else _0x15eab9();},_0x23a1d5=(_0x4e716c,_0x5891e8,_0x53d28d)=>{if(_0xd78c50['loaded']=!(-0x16eb+-0x359+0x1a44*0x1),_0xd78c50['loading']=!(0x792+-0x2*0xafb+0xe65),_0x4e716c)this['fire']('error',_0x4e716c,_0xd78c50),this['fire']('error:'+_0xd78c50['id'],_0x4e716c,_0xd78c50),_0xd78c50['fire']('error',_0x4e716c,_0xd78c50);else{if(_0xd78c50['type']==='script'){const _0x667171=this['_loader']['getHandler']('script');_0x667171['_cache'][_0xd78c50['id']]&&_0x667171['_cache'][_0xd78c50['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x667171['_cache'][_0xd78c50['id']]),_0x667171['_cache'][_0xd78c50['id']]=_0x53d28d;}_0x2a1392(_0x5891e8);}};if(_0x22b0c0||_0xd78c50['type']==='cubemap'){this['fire']('load:start',_0xd78c50),this['fire']('load:'+_0xd78c50['id']+':start',_0xd78c50),_0xd78c50['loading']=!(-0x146c+0x42d*-0x9+0x3a01);const _0x3972f6=_0xd78c50['getFileUrl']();if(_0xd78c50['type']==='bundle'){const _0x537991=_0xd78c50['data']['assets'];for(let _0x2483bd=-0x1223*-0x1+0x1*-0x667+-0xbbc*0x1;_0x2483bd<_0x537991['length'];_0x2483bd++){const _0x55e943=this['_idToAsset']['get'](_0x537991[_0x2483bd]);_0x55e943&&(_0x55e943['loaded']||_0x55e943['resource']||_0x55e943['loading']||(_0x55e943['loading']=!(0x3be+-0x17*0x157+0x1b13*0x1)));}}this['_loader']['load'](_0x3972f6,_0xd78c50['type'],_0x23a1d5,_0xd78c50,_0x2b4d3a);}else{const _0xd82398=this['_loader']['open'](_0xd78c50['type'],_0xd78c50['data']);_0xd78c50['loaded']=!(0x1c56+-0x7*-0x4eb+0x3ec3*-0x1),_0x2a1392(_0xd82398);}}['loadFromUr'+'l'](_0x4f0ec0,_0x38e518,_0x5c8ff2){this['loadFromUr'+'lAndFilena'+'me'](_0x4f0ec0,null,_0x38e518,_0x5c8ff2);}['loadFromUr'+'lAndFilena'+'me'](_0x426906,_0x418b95,_0x5c31a1,_0x1d42a0){const _0x19d0fa=fe['getBasenam'+'e'](_0x418b95||_0x426906),_0x491a34={'filename':_0x418b95||_0x19d0fa,'url':_0x426906};let _0xe75ef9=this['getByUrl'](_0x426906);if(!_0xe75ef9)_0xe75ef9=new le(_0x19d0fa,_0x5c31a1,_0x491a34),this['add'](_0xe75ef9);else{if(_0xe75ef9['loaded']){_0x1d42a0(_0xe75ef9['loadFromUr'+'lError']||null,_0xe75ef9);return;}}const _0x2095e1=_0x1842d4=>{_0x1842d4['once']('load',_0x1af5a9=>{_0x5c31a1==='material'?this['_loadTextu'+'res'](_0x1af5a9,(_0x544e74,_0x43b4c7)=>{_0x1d42a0(_0x544e74,_0x1af5a9);}):_0x1d42a0(null,_0x1af5a9);}),_0x1842d4['once']('error',_0x2ec94a=>{_0x2ec94a&&(this['loadFromUr'+'lError']=_0x2ec94a),_0x1d42a0(_0x2ec94a,_0x1842d4);}),this['load'](_0x1842d4);};_0xe75ef9['resource']?_0x1d42a0(null,_0xe75ef9):_0x5c31a1==='model'?this['_loadModel'](_0xe75ef9,_0x2095e1):_0x2095e1(_0xe75ef9);}['_loadModel'](_0x1d7fd0,_0x41ad38){const _0x1db23b=_0x1d7fd0['getFileUrl'](),_0x32dc32=fe['getExtensi'+'on'](_0x1db23b);if(_0x32dc32==='.json'||_0x32dc32==='.glb'){const _0x3c2874=fe['getDirecto'+'ry'](_0x1db23b),_0x3a3c30=fe['getBasenam'+'e'](_0x1db23b),_0x94d406=fe['join'](_0x3c2874,_0x3a3c30['replace'](_0x32dc32,'.mapping.j'+'son'));this['_loader']['load'](_0x94d406,'json',(_0xc0317a,_0x370574)=>{_0xc0317a?(_0x1d7fd0['data']={'mapping':[]},_0x41ad38(_0x1d7fd0)):this['_loadMater'+'ials'](_0x1d7fd0,_0x370574,(_0x2ccd30,_0x4d0e8c)=>{_0x1d7fd0['data']=_0x370574,_0x41ad38(_0x1d7fd0);});});}else _0x41ad38(_0x1d7fd0);}['_loadMater'+'ials'](_0xc70990,_0xc6f964,_0x501641){const _0x2b312e=[];let _0x1331cf=-0xb5*0xd+-0x865+0x8cb*0x2;const _0x7c37a1=(_0x3b18ba,_0x333743)=>{this['_loadTextu'+'res'](_0x333743,(_0x1992bb,_0x1345f7)=>{_0x2b312e['push'](_0x333743),_0x2b312e['length']===_0x1331cf&&_0x501641(null,_0x2b312e);});};for(let _0x43a7dd=0x3*0x3d1+0x646+0x15d*-0xd;_0x43a7dd<_0xc6f964['mapping']['length'];_0x43a7dd++){const _0x2e6c54=_0xc6f964['mapping'][_0x43a7dd]['path'];if(_0x2e6c54){_0x1331cf++;const _0x27b686=_0xc70990['getAbsolut'+'eUrl'](_0x2e6c54);this['loadFromUr'+'l'](_0x27b686,'material',_0x7c37a1);}}_0x1331cf===-0x954+-0xe86+0xbed*0x2&&_0x501641(null,_0x2b312e);}['_loadTextu'+'res'](_0x527b6c,_0x3baa12){const _0x7788b1=[];let _0x433d5a=0x2*0x12d6+0x25db+-0x4b87;const _0x3c5475=_0x527b6c['data'];if(_0x3c5475['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x527b6c['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x3baa12(null,_0x7788b1);return;}const _0x193a8f=(_0x4e5565,_0x188eb7)=>{_0x4e5565&&console['error'](_0x4e5565),_0x7788b1['push'](_0x188eb7),_0x7788b1['length']===_0x433d5a&&_0x3baa12(null,_0x7788b1);},_0x41a35b=Kc;for(let _0x50e4f5=-0x1*-0x1f68+0x17b*0x3+-0x23d9;_0x50e4f5<_0x41a35b['length'];_0x50e4f5++){const _0x2e34ad=_0x3c5475[_0x41a35b[_0x50e4f5]];if(_0x2e34ad&&typeof _0x2e34ad=='string'){_0x433d5a++;const _0x4ebdbd=_0x527b6c['getAbsolut'+'eUrl'](_0x2e34ad);this['loadFromUr'+'l'](_0x4ebdbd,'texture',_0x193a8f);}}_0x433d5a===0x7*-0x387+0x73*-0x49+-0xe5f*-0x4&&_0x3baa12(null,_0x7788b1);}['_onTagAdd'](_0x523064,_0x33db99){this['_tags']['add'](_0x523064,_0x33db99);}['_onTagRemo'+'ve'](_0x5a3974,_0x343b91){this['_tags']['remove'](_0x5a3974,_0x343b91);}['_onNameCha'+'nge'](_0x885e9a,_0x292042,_0x5e2a36){if(this['_nameToAss'+'et']['has'](_0x5e2a36)){const _0x16a2be=this['_nameToAss'+'et']['get'](_0x5e2a36);_0x16a2be['delete'](_0x885e9a),_0x16a2be['size']===0x279+-0xb20+0x8a7&&this['_nameToAss'+'et']['delete'](_0x5e2a36);}this['_nameToAss'+'et']['has'](_0x885e9a['name'])||this['_nameToAss'+'et']['set'](_0x885e9a['name'],new Set()),this['_nameToAss'+'et']['get'](_0x885e9a['name'])['add'](_0x885e9a);}['findByTag'](..._0x464f20){return this['_tags']['find'](_0x464f20);}['filter'](_0x56fd71){return Array['from'](this['_assets'])['filter'](_0x3feb04=>_0x56fd71(_0x3feb04));}['find'](_0xd0e739,_0x4545a){const _0x34eb3c=this['_nameToAss'+'et']['get'](_0xd0e739);if(!_0x34eb3c)return null;for(const _0x35b68f of _0x34eb3c)if(!_0x4545a||_0x35b68f['type']===_0x4545a)return _0x35b68f;return null;}['findAll'](_0x1e35cf,_0x197e86){const _0x2a839d=this['_nameToAss'+'et']['get'](_0x1e35cf);if(!_0x2a839d)return[];const _0x31b7b5=Array['from'](_0x2a839d);return _0x197e86?_0x31b7b5['filter'](_0x2a2650=>_0x2a2650['type']===_0x197e86):_0x31b7b5;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x4989ef){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x4989ef,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x356cd6){if(_0x356cd6['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x356cd6['id'],_0x356cd6),this['_assets']['on']('load:start'+':'+_0x356cd6['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x356cd6['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x356cd6['id'],this['_onBundleE'+'rror'],this);const _0x39451d=_0x356cd6['data']['assets'];for(let _0x4c372e=-0x13d*0x1c+0x92b*-0x1+0x2bd7;_0x4c372e<_0x39451d['length'];_0x4c372e++)this['_indexAsse'+'tInBundle'](_0x39451d[_0x4c372e],_0x356cd6);}else this['_assetToBu'+'ndles']['has'](_0x356cd6['id'])&&this['_indexAsse'+'tFileUrls'](_0x356cd6);}['_unbindAss'+'etEvents'](_0x1a5ade){this['_assets']['off']('load:start'+':'+_0x1a5ade,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x1a5ade,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x1a5ade,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x35ebe7,_0x3b5c77){let _0x2b0cf0=this['_assetToBu'+'ndles']['get'](_0x35ebe7);_0x2b0cf0||(_0x2b0cf0=new Set(),this['_assetToBu'+'ndles']['set'](_0x35ebe7,_0x2b0cf0)),_0x2b0cf0['add'](_0x3b5c77);const _0x4a10c6=this['_assets']['get'](_0x35ebe7);_0x4a10c6&&this['_indexAsse'+'tFileUrls'](_0x4a10c6);}['_indexAsse'+'tFileUrls'](_0x5a7858){const _0x389624=this['_getAssetF'+'ileUrls'](_0x5a7858);if(_0x389624)for(let _0xb55c37=-0x3a1*-0x2+0x1ebd+-0x25ff;_0xb55c37<_0x389624['length'];_0xb55c37++){const _0xab0583=this['_assetToBu'+'ndles']['get'](_0x5a7858['id']);_0xab0583&&this['_urlsToBun'+'dles']['set'](_0x389624[_0xb55c37],_0xab0583);}}['_getAssetF'+'ileUrls'](_0x2fa9e9){let _0x2e4220=_0x2fa9e9['getFileUrl']();if(!_0x2e4220)return null;_0x2e4220=_0x2e4220['split']('?')[0x76d+0xd46*-0x1+-0x5d9*-0x1];const _0x1f16bb=[_0x2e4220];if(_0x2fa9e9['type']==='font'){const _0x5951c9=_0x2fa9e9['data']['info']['maps']['length'];for(let _0x432d0d=-0x10af*0x2+0x1*0x5ec+0x1b73;_0x432d0d<_0x5951c9;_0x432d0d++)_0x1f16bb['push'](_0x2e4220['replace']('.png',_0x432d0d+'.png'));}return _0x1f16bb;}['_onAssetRe'+'move'](_0x29ad73){if(_0x29ad73['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x29ad73['id']),this['_unbindAss'+'etEvents'](_0x29ad73['id']);const _0x4ba129=_0x29ad73['data']['assets'];for(let _0x3179be=0x7a9+-0x1e37+0x168e;_0x3179be<_0x4ba129['length'];_0x3179be++){const _0x2cfc28=this['_assetToBu'+'ndles']['get'](_0x4ba129[_0x3179be]);if(_0x2cfc28&&(_0x2cfc28['delete'](_0x29ad73),_0x2cfc28['size']===-0xc38+-0x1af4+-0x17*-0x1b4)){this['_assetToBu'+'ndles']['delete'](_0x4ba129[_0x3179be]);for(const [_0x11f53b,_0x14cedc]of this['_urlsToBun'+'dles'])_0x14cedc===_0x2cfc28&&this['_urlsToBun'+'dles']['delete'](_0x11f53b);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x29ad73['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x29ad73['id']))return;this['_assetToBu'+'ndles']['delete'](_0x29ad73['id']);const _0x41e593=this['_getAssetF'+'ileUrls'](_0x29ad73);if(!_0x41e593)return;for(let _0x4173f6=-0x10f1+-0xd64*-0x2+-0x9d7;_0x4173f6<_0x41e593['length'];_0x4173f6++)this['_urlsToBun'+'dles']['delete'](_0x41e593[_0x4173f6]);}}['_onBundleL'+'oadStart'](_0x522466){_0x522466['resource']['on']('add',(_0x3ad282,_0x17df43)=>{const _0x1aa7e2=this['_fileReque'+'sts']['get'](_0x3ad282);if(_0x1aa7e2){for(let _0x25714a=-0x1fb3+-0x1854+0x3807;_0x25714a<_0x1aa7e2['length'];_0x25714a++)_0x1aa7e2[_0x25714a](null,_0x17df43);this['_fileReque'+'sts']['delete'](_0x3ad282);}});}['_onBundleL'+'oad'](_0x5b1296){if(!_0x5b1296['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x5b1296['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x2adbbd,_0x454b9f]of this['_fileReque'+'sts']){const _0x39b98e=this['_urlsToBun'+'dles']['get'](_0x2adbbd);if(!_0x39b98e||!_0x39b98e['has'](_0x5b1296))continue;const _0x1dfbb0=decodeURIComponent(_0x2adbbd);let _0x4a8a4c,_0x4d8370;if(_0x5b1296['resource']['has'](_0x1dfbb0))_0x4d8370=_0x5b1296['resource']['get'](_0x1dfbb0);else{if(_0x5b1296['resource']['loaded'])_0x4a8a4c='Bundle\x20'+_0x5b1296['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x2adbbd;else continue;}for(let _0x5f2db5=0x2*0xbb+-0x9*0x55+0x187;_0x5f2db5<_0x454b9f['length'];_0x5f2db5++)_0x454b9f[_0x5f2db5](_0x4a8a4c,_0x4a8a4c||_0x4d8370);this['_fileReque'+'sts']['delete'](_0x2adbbd);}}['_onBundleE'+'rror'](_0x32fdc7){for(const [_0x199dbc,_0x10f598]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x199dbc)){for(let _0x3b3bb7=0x10f*-0x1+-0x18*0x3e+0x6df;_0x3b3bb7<_0x10f598['length'];_0x3b3bb7++)_0x10f598[_0x3b3bb7](_0x32fdc7);this['_fileReque'+'sts']['delete'](_0x199dbc);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x430d9b){const _0x4133d6=this['_urlsToBun'+'dles']['get'](_0x430d9b);if(!_0x4133d6)return null;let _0x715783=null;for(const _0x483c9f of _0x4133d6){if(_0x483c9f['loaded']&&_0x483c9f['resource'])return _0x483c9f;_0x483c9f['loading']&&(_0x715783=_0x483c9f);}return _0x715783;}['listBundle'+'sForAsset'](_0x4644f5){const _0x44202c=this['_assetToBu'+'ndles']['get'](_0x4644f5['id']);return _0x44202c?Array['from'](_0x44202c):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x362d57){return this['_urlsToBun'+'dles']['has'](_0x362d57);}['urlIsLoade'+'dOrLoading'](_0x1ba216){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1ba216);}['loadUrl'](_0x43e2e6,_0x571a07){const _0xc2d569=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x43e2e6);if(!_0xc2d569){_0x571a07('URL\x20'+_0x43e2e6+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0xc2d569['loaded']){const _0x120ecb=decodeURIComponent(_0x43e2e6);if(_0xc2d569['resource']['has'](_0x120ecb)){_0x571a07(null,_0xc2d569['resource']['get'](_0x120ecb));return;}else{if(_0xc2d569['resource']['loaded']){_0x571a07('Bundle\x20'+_0xc2d569['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x43e2e6);return;}}}let _0x5a88ca=this['_fileReque'+'sts']['get'](_0x43e2e6);_0x5a88ca||(_0x5a88ca=[],this['_fileReque'+'sts']['set'](_0x43e2e6,_0x5a88ca)),_0x5a88ca['push'](_0x571a07);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x5682d5 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x5682d5);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x46cad9){const _0x2d3760=_0x46cad9['id'];if(this[_0x2d3760])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x2d3760+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x2d3760]=_0x46cad9,this['list']['push'](_0x46cad9);}['remove'](_0x230cb9){const _0x22eda3=_0x230cb9['id'];if(!this[_0x22eda3])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x22eda3+('\x27\x20register'+'ed'));delete this[_0x22eda3];const _0x25e71f=this['list']['indexOf'](this[_0x22eda3]);_0x25e71f!==-(0x5b3+0x70*-0x13+0x5*0x86)&&this['list']['splice'](_0x25e71f,0x11d1*-0x2+0x149a+0xf09);}['destroy'](){this['off']();for(let _0x3c80f1=0x1bb5+0x467+0x100e*-0x2;_0x3c80f1<this['list']['length'];_0x3c80f1++)this['list'][_0x3c80f1]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(0x528*-0x1+0x4*0x3ca+0x9ff*-0x1));}['addFile'](_0x22d3a4,_0xa690b6){this['_index']['has'](_0x22d3a4)||(this['_index']['set'](_0x22d3a4,_0xa690b6),this['fire']('add',_0x22d3a4,_0xa690b6));}['has'](_0x413851){return this['_index']['has'](_0x413851);}['get'](_0x2a04d4){return this['_index']['get'](_0x2a04d4)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x1c855b){!_0x1c855b||this['_loaded']||(this['_loaded']=!(-0x3*-0xc15+-0x44c+-0x1ff3),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x32de9a,_0x33efef=''){super(),c(this,'headerSize',0x40e+0x17*-0xf9+0x1451*0x1),c(this,'paddingSiz'+'e',-0x805+-0x18e+0xb93*0x1),c(this,'bytesRead',0x2*0xc73+0x48f*-0x6+0x274),c(this,'bytesRecei'+'ved',0x1*0x1511+-0x4ba+0x1057*-0x1),c(this,'headerRead',!(-0x32*0x83+0x210f+0x778*-0x1)),c(this,'reader',null),c(this,'data',new Uint8Array(0x1efa+-0xa60*0x2+-0x9a*0x11)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',-0x1ed2+-0x1f7*0x1+0x20c9),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x33efef||'',this['reader']=_0x32de9a['body']['getReader'](),this['reader']['read']()['then'](_0x5934ae=>{this['pump'](_0x5934ae['done'],_0x5934ae['value']);})['catch'](_0x13d9fc=>{this['fire']('error',_0x13d9fc);}));}['pump'](_0x48a935,_0x5ec9ea){if(_0x48a935)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x5ec9ea['byteLength'];const _0x5175d5=new Uint8Array(this['data']['length']+_0x5ec9ea['length']);for(_0x5175d5['set'](this['data']),_0x5175d5['set'](_0x5ec9ea,this['data']['length']),this['data']=_0x5175d5;this['readFile'](););return this['reader']['read']()['then'](_0x37c0d1=>{this['pump'](_0x37c0d1['done'],_0x37c0d1['value']);})['catch'](_0x44ac06=>{this['fire']('error',_0x44ac06);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x11bc+0x9c6+-0x1b82);const _0x3369c0=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x546da2=this['decoder']['decode'](_0x3369c0);if(this['fileName']=_0x546da2['substring'](0x751*-0x1+-0x23d+-0x98e*-0x1,0x2317+-0xd63+-0x1550)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x546da2['substring'](0x4*-0x9c2+0x22b3+0x4d1,0x1*0xb51+-0x43d+-0x68c),0x2f6+0x4f*0x25+-0xe59),this['fileType']=_0x546da2['substring'](0x479*0x1+-0xaa+-0x333,0x15*0xef+-0xc*0x153+-0x18d*0x2),this['ustarForma'+'t']=_0x546da2['substring'](0x15c*-0x5+0xc7*0xe+0x1*-0x315,-0x8c3*0x2+0x35b*-0x3+0x1*0x1c9e),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x1f20+0x1ced+-0x3c0c)){const _0x456e42=_0x546da2['substring'](0x13f2*-0x1+-0x150b+0x2a56,0x71*0x45+-0x100f*-0x2+-0x3c9f)['replace'](/\0/g,'');_0x456e42['length']>0x18e6+0x26c5+-0x713*0x9&&(this['fileName']=_0x456e42['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x31b*-0x1+0x17a6+0x18c1*-0x1;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0x3a*-0x6d+-0x1a80+0x1cf);if(this['fileType']===''||this['fileType']==='0'){const _0x6d4a4a=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x1d83aa={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x6d4a4a};this['fire']('file',_0x1d83aa);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x26b4+-0x1*0xb60+-0x1b53);const _0x48079=this['bytesRead']%this['paddingSiz'+'e'];return _0x48079!==0x1*-0x1d47+0x161f+-0x8*-0xe5&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x48079),!(0x7*-0x4fd+0x2*0xbec+-0x5*-0x237);}return!(0x481*-0x2+-0x2451+0x2d54);}}class Ne{constructor(_0x5cfb62,_0x85bc3b){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',-0x413*-0x4+-0xe4e+-0x66*0x5),(this['_app']=_0x5cfb62,this['handlerTyp'+'e']=_0x85bc3b);}set['maxRetries'](_0x5f45ec){this['_maxRetrie'+'s']=_0x5f45ec;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x4b967e,_0x466491,_0x3de5fe){}['open'](_0xc975e6,_0x4af635,_0x563874){return _0x4af635;}['patch'](_0x7318a4,_0x556ff0){}}class rP extends Ne{constructor(_0x1a9926){super(_0x1a9926,'bundle'),this['_assets']=_0x1a9926['assets'];}['_fetchRetr'+'ies'](_0x120559,_0x35e336,_0x177201=-0x20d1*0x1+0x1a5a*-0x1+0x3b2b){return new Promise((_0x4b3e50,_0x62df9b)=>{const _0x7209fa=()=>{fetch(_0x120559,_0x35e336)['then'](_0x4b3e50)['catch'](_0x3a59d3=>{_0x177201++,_0x177201<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x177201),_0x7209fa()):_0x62df9b(_0x3a59d3);});};_0x7209fa();});}['load'](_0x1b8cb4,_0x2cda44){typeof _0x1b8cb4=='string'&&(_0x1b8cb4={'load':_0x1b8cb4,'original':_0x1b8cb4}),this['_fetchRetr'+'ies'](_0x1b8cb4['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x2b42ff=>{const _0x293e3d=new Xu();_0x2cda44(null,_0x293e3d);const _0x57db6d=new iP(_0x2b42ff,this['_assets']['prefix']);_0x57db6d['on']('file',_0x18a449=>{_0x293e3d['addFile'](_0x18a449['name'],_0x18a449['data']);}),_0x57db6d['on']('done',()=>{_0x293e3d['loaded']=!(-0x521*0x3+-0x20eb+0x304e);}),_0x57db6d['on']('error',_0x641cdc=>{v['error'](_0x641cdc),_0x2cda44(_0x641cdc);});})['catch'](_0x2648b1=>{v['error'](_0x2648b1),_0x2cda44(_0x2648b1);});}['open'](_0x54e007,_0x337cac){return _0x337cac;}}class pa{constructor(_0x17e94a){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x17e94a;}['addHandler'](_0x21c148,_0x843013){this['_handlers'][_0x21c148]=_0x843013,_0x843013['_loader']=this;}['removeHand'+'ler'](_0x47d354){delete this['_handlers'][_0x47d354];}['getHandler'](_0x1f2f99){return this['_handlers'][_0x1f2f99];}static['makeKey'](_0x51d3c8,_0x96087c){return _0x51d3c8+'-'+_0x96087c;}['load'](_0x3b99,_0x53a8b5,_0xeba0b8,_0x167be5,_0x56e91d){var _0xcfb98e;const _0x463eb2=this['_handlers'][_0x53a8b5];if(!_0x463eb2){const _0x4d2ce9='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x53a8b5+('\x27\x20when\x20loa'+'ding\x20[')+_0x3b99+']';v['errorOnce'](_0x4d2ce9),_0xeba0b8(_0x4d2ce9);return;}if(!_0x3b99){this['_loadNull'](_0x463eb2,_0xeba0b8,_0x167be5);return;}const _0x72d435=pa['makeKey'](_0x3b99,_0x53a8b5);if(this['_cache'][_0x72d435]!==void(0x556+-0x27b*-0x1+-0x57*0x17))_0xeba0b8(null,this['_cache'][_0x72d435]);else{if(this['_requests'][_0x72d435])this['_requests'][_0x72d435]['push'](_0xeba0b8);else{this['_requests'][_0x72d435]=[_0xeba0b8];const _0xf53d7f=this,_0x1bfb6d=function(_0x3530c6,_0x15420e){if(_0x3530c6){_0xf53d7f['_onFailure'](_0x72d435,_0x3530c6);return;}if(_0x15420e['load']instanceof DataView){if(_0x463eb2['openBinary']){if(!_0xf53d7f['_requests'][_0x72d435])return;try{const _0x2d8779=_0x463eb2['openBinary'](_0x15420e['load']);_0xf53d7f['_onSuccess'](_0x72d435,_0x2d8779);}catch(_0x3e23ca){_0xf53d7f['_onFailure'](_0x72d435,_0x3e23ca);}return;}_0x15420e['load']=URL['createObje'+'ctURL'](new Blob([_0x15420e['load']])),_0x167be5&&(_0x167be5['urlObject']&&URL['revokeObje'+'ctURL'](_0x167be5['urlObject']),_0x167be5['urlObject']=_0x15420e['load']);}_0x463eb2['load'](_0x15420e,(_0x1f4b10,_0x4e47d3,_0x33fd0f)=>{if(_0xf53d7f['_requests'][_0x72d435]){if(_0x1f4b10){_0xf53d7f['_onFailure'](_0x72d435,_0x1f4b10);return;}try{_0xf53d7f['_onSuccess'](_0x72d435,_0x463eb2['open'](_0x15420e['original'],_0x4e47d3,_0x167be5),_0x33fd0f);}catch(_0x166e3f){_0xf53d7f['_onFailure'](_0x72d435,_0x166e3f);}}},_0x167be5);},_0x56c8e2=_0x3b99['split']('?')[0x96b+-0xad*0x8+-0x403];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x56c8e2)&&!(_0x56e91d&&_0x56e91d['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x56c8e2)){const _0x59fedd=this['_app']['bundles']['listBundle'+'sForAsset'](_0x167be5);let _0x24acaf;_0x56e91d&&_0x56e91d['bundlesFil'+'ter']&&(_0x24acaf=_0x56e91d['bundlesFil'+'ter'](_0x59fedd)),_0x24acaf||(_0x59fedd==null||_0x59fedd['sort']((_0xf8a74f,_0x55eae8)=>_0xf8a74f['file']['size']-_0x55eae8['file']['size']),_0x24acaf=_0x59fedd==null?void(-0x4*0x82e+0x1430+-0x2*-0x644):_0x59fedd[-0x1b03+-0xe73+0x2976]),_0x24acaf&&((_0xcfb98e=this['_app']['assets'])==null||_0xcfb98e['load'](_0x24acaf));}this['_app']['bundles']['loadUrl'](_0x56c8e2,(_0x24fa86,_0x207eee)=>{_0x1bfb6d(_0x24fa86,{'load':_0x207eee,'original':_0x56c8e2});});}else _0x1bfb6d(null,{'load':_0x3b99,'original':_0x167be5&&_0x167be5['file']['filename']||_0x3b99});}}}['_loadNull'](_0xe79c33,_0x2365ba,_0x2617e6){const _0x43aaf8=function(_0x55dfc9,_0x10aa20,_0x554f22){if(_0x55dfc9)_0x2365ba(_0x55dfc9);else try{_0x2365ba(null,_0xe79c33['open'](null,_0x10aa20,_0x2617e6),_0x554f22);}catch(_0x153c8b){_0x2365ba(_0x153c8b);}};_0xe79c33['load'](null,_0x43aaf8,_0x2617e6);}['_onSuccess'](_0x38a420,_0x568b6c,_0x2fe035){_0x568b6c!==null?this['_cache'][_0x38a420]=_0x568b6c:delete this['_cache'][_0x38a420];for(let _0xd4aceb=-0x31a*0x1+0x729*-0x5+0x26e7;_0xd4aceb<this['_requests'][_0x38a420]['length'];_0xd4aceb++)this['_requests'][_0x38a420][_0xd4aceb](null,_0x568b6c,_0x2fe035);delete this['_requests'][_0x38a420];}['_onFailure'](_0xeb8205,_0x1e1f7d){if(console['error'](_0x1e1f7d),this['_requests'][_0xeb8205]){for(let _0x547bb9=-0x2282+0x1a4c+0x836;_0x547bb9<this['_requests'][_0xeb8205]['length'];_0x547bb9++)this['_requests'][_0xeb8205][_0x547bb9](_0x1e1f7d);delete this['_requests'][_0xeb8205];}}['open'](_0x45978c,_0x31f0a8){const _0x36fbdf=this['_handlers'][_0x45978c];return _0x36fbdf?_0x36fbdf['open'](null,_0x31f0a8):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x45978c),_0x31f0a8);}['patch'](_0x55a74b,_0x15499e){const _0xa35e2e=this['_handlers'][_0x55a74b['type']];if(!_0xa35e2e){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x55a74b['type']);return;}_0xa35e2e['patch']&&_0xa35e2e['patch'](_0x55a74b,_0x15499e);}['clearCache'](_0x3a19f3,_0x11d270){const _0x22f545=pa['makeKey'](_0x3a19f3,_0x11d270);delete this['_cache'][_0x22f545];}['getFromCac'+'he'](_0x59294c,_0x533037){const _0x499d69=pa['makeKey'](_0x59294c,_0x533037);if(this['_cache'][_0x499d69])return this['_cache'][_0x499d69];}['enableRetr'+'y'](_0x43db20=-0x17f7+-0x3*0x826+0x306e){_0x43db20=Math['max'](0x1bf*-0x3+-0xe33+0x1370*0x1,_0x43db20)||0x63*0x3b+-0x1a32+0x1*0x361;for(const _0xff400d in this['_handlers'])this['_handlers'][_0xff400d]['maxRetries']=_0x43db20;}['disableRet'+'ry'](){for(const _0x144ec4 in this['_handlers'])this['_handlers'][_0x144ec4]['maxRetries']=0x6*-0x5cb+-0x2*0x342+0x2946;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0xacc682){if(!_0xacc682['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0xacc682['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0xacc682['header']['version']!==-0xc2*0x12+-0x5b0+0x65*0x31)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0xacc682['data']){if(!Array['isArray'](_0xacc682['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x40da32=0x10*0x265+-0x1867*0x1+0xde9*-0x1,_0x56ae30=_0xacc682['data']['length'];_0x40da32<_0x56ae30;_0x40da32++){const _0x4b1651=_0xacc682['data'][_0x40da32];if(!_0x4b1651['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x40da32+('].info\x22\x20fi'+'eld'));if(!_0x4b1651['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x40da32+('].info.loc'+'ale\x22\x20field'));if(typeof _0x4b1651['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x40da32+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x4b1651['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x40da32+('].messages'+'\x22\x20field'));}}['parse'](_0x657c60){return this['_validate'](_0x657c60),_0x657c60['data'];}}class aP extends ce{constructor(_0xfdddd5){super(),this['locale']=$h,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0xfdddd5,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x9ea2e4){const _0x1c84a4={};for(let _0x1eb229=-0x3*-0x731+0x1a12*0x1+-0x2fa5*0x1,_0x4e9f31=_0x9ea2e4['length'];_0x1eb229<_0x4e9f31;_0x1eb229++){const _0x31e0f1=_0x9ea2e4[_0x1eb229]instanceof le?_0x9ea2e4[_0x1eb229]['id']:_0x9ea2e4[_0x1eb229];_0x1c84a4[_0x31e0f1]=!(0x2*-0xc2c+-0x1*-0xc17+0xc41);}let _0x8fefc7=this['_assets']['length'];for(;_0x8fefc7--;){const _0x20bc9e=this['_assets'][_0x8fefc7];if(!_0x1c84a4[_0x20bc9e]){this['_app']['assets']['off']('add:'+_0x20bc9e,this['_onAssetAd'+'d'],this);const _0x27e168=this['_app']['assets']['get'](_0x20bc9e);_0x27e168&&this['_onAssetRe'+'move'](_0x27e168),this['_assets']['splice'](_0x8fefc7,0x504+-0x797+0x2c*0xf);}}for(const _0x2ad09f in _0x1c84a4){const _0x21bcaf=parseInt(_0x2ad09f,-0x5e*0x33+-0x15*0x161+0x2fb9);if(this['_assets']['indexOf'](_0x21bcaf)!==-(0x224*-0xb+-0x1131+0x28be))continue;this['_assets']['push'](_0x21bcaf);const _0x301814=this['_app']['assets']['get'](_0x21bcaf);_0x301814?this['_onAssetAd'+'d'](_0x301814):this['_app']['assets']['once']('add:'+_0x21bcaf,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x405e10){if(this['_locale']===_0x405e10)return;let _0x4504a9=pi(_0x405e10);if(_0x4504a9==='in'&&(_0x4504a9='id',_0x405e10=Y1(_0x405e10,_0x4504a9),this['_locale']===_0x405e10))return;const _0x28cdf2=this['_locale'];this['_locale']=_0x405e10,this['_lang']=_0x4504a9,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0x405e10,_0x28cdf2);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x37363f,_0x3e84e7){return V0(_0x37363f,_0x3e84e7);}['findAvaila'+'bleLocale'](_0x1e4a56){if(this['_translati'+'ons'][_0x1e4a56])return _0x1e4a56;const _0x9fa02e=pi(_0x1e4a56);return this['_findFallb'+'ackLocale'](_0x1e4a56,_0x9fa02e);}['getText'](_0x19f5d2,_0x528c4e){let _0x3c3b63=_0x19f5d2,_0x43ae4c;_0x528c4e||(_0x528c4e=this['_locale'],_0x43ae4c=this['_lang']);let _0x302e6e=this['_translati'+'ons'][_0x528c4e];return _0x302e6e||(_0x43ae4c||(_0x43ae4c=pi(_0x528c4e)),_0x528c4e=this['_findFallb'+'ackLocale'](_0x528c4e,_0x43ae4c),_0x302e6e=this['_translati'+'ons'][_0x528c4e]),_0x302e6e&&_0x302e6e['hasOwnProp'+'erty'](_0x19f5d2)&&(_0x3c3b63=_0x302e6e[_0x19f5d2],Array['isArray'](_0x3c3b63)&&(_0x3c3b63=_0x3c3b63[0x3*-0x9a8+0x7*0x1fd+0xf0d]),_0x3c3b63==null&&(_0x3c3b63=_0x19f5d2)),_0x3c3b63;}['getPluralT'+'ext'](_0x598a8c,_0x3a4cc5,_0x233560){let _0x137bc3=_0x598a8c,_0x337389,_0x3523e2;_0x233560?(_0x337389=pi(_0x233560),_0x3523e2=Xd(_0x337389)):(_0x233560=this['_locale'],_0x337389=this['_lang'],_0x3523e2=this['_pluralFn']);let _0x59c873=this['_translati'+'ons'][_0x233560];if(_0x59c873||(_0x233560=this['_findFallb'+'ackLocale'](_0x233560,_0x337389),_0x337389=pi(_0x233560),_0x3523e2=Xd(_0x337389),_0x59c873=this['_translati'+'ons'][_0x233560]),_0x59c873&&_0x59c873[_0x598a8c]&&_0x3523e2){const _0x35ae63=_0x3523e2(_0x3a4cc5);_0x137bc3=_0x59c873[_0x598a8c][_0x35ae63],_0x137bc3==null&&(_0x137bc3=_0x598a8c);}return _0x137bc3;}['addData'](_0x8343be){let _0x1430bb;try{_0x1430bb=this['_parser']['parse'](_0x8343be);}catch(_0x243d65){console['error'](_0x243d65);return;}for(let _0x38b0f3=0x1760+0xa7*0x3b+0x3ddd*-0x1,_0x3d8de2=_0x1430bb['length'];_0x38b0f3<_0x3d8de2;_0x38b0f3++){const _0x41c3f4=_0x1430bb[_0x38b0f3],_0x2a04d9=_0x41c3f4['info']['locale'],_0x5680e6=_0x41c3f4['messages'];if(!this['_translati'+'ons'][_0x2a04d9]){this['_translati'+'ons'][_0x2a04d9]={};const _0x485959=pi(_0x2a04d9);this['_available'+'Langs'][_0x485959]||(this['_available'+'Langs'][_0x485959]=_0x2a04d9);}Object['assign'](this['_translati'+'ons'][_0x2a04d9],_0x5680e6),this['fire']('data:add',_0x2a04d9,_0x5680e6);}}['removeData'](_0x3f373c){let _0x2ea155;try{_0x2ea155=this['_parser']['parse'](_0x3f373c);}catch(_0x1a5777){console['error'](_0x1a5777);return;}for(let _0x30b45=0x1c8c+-0xa19+0x1273*-0x1,_0x1c7f2c=_0x2ea155['length'];_0x30b45<_0x1c7f2c;_0x30b45++){const _0x4a24cd=_0x2ea155[_0x30b45],_0x75ed30=_0x4a24cd['info']['locale'],_0x126326=this['_translati'+'ons'][_0x75ed30];if(!_0x126326)continue;const _0x18f785=_0x4a24cd['messages'];for(const _0x194a43 in _0x18f785)delete _0x126326[_0x194a43];Object['keys'](_0x126326)['length']===0x8*0x282+0x6*-0x437+0x2*0x29d&&(delete this['_translati'+'ons'][_0x75ed30],delete this['_available'+'Langs'][pi(_0x75ed30)]),this['fire']('data:remov'+'e',_0x75ed30,_0x18f785);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x507760,_0x403d0a){let _0x5496ba=Wh[_0x507760];return _0x5496ba&&this['_translati'+'ons'][_0x5496ba]||(_0x5496ba=Wh[_0x403d0a],_0x5496ba&&this['_translati'+'ons'][_0x5496ba])||(_0x5496ba=this['_available'+'Langs'][_0x403d0a],_0x5496ba&&this['_translati'+'ons'][_0x5496ba])?_0x5496ba:$h;}['_onAssetAd'+'d'](_0x2dda35){_0x2dda35['on']('load',this['_onAssetLo'+'ad'],this),_0x2dda35['on']('change',this['_onAssetCh'+'ange'],this),_0x2dda35['on']('remove',this['_onAssetRe'+'move'],this),_0x2dda35['on']('unload',this['_onAssetUn'+'load'],this),_0x2dda35['resource']&&this['_onAssetLo'+'ad'](_0x2dda35);}['_onAssetLo'+'ad'](_0x3b6089){this['addData'](_0x3b6089['resource']);}['_onAssetCh'+'ange'](_0x3063db){_0x3063db['resource']&&this['addData'](_0x3063db['resource']);}['_onAssetRe'+'move'](_0x382f75){_0x382f75['off']('load',this['_onAssetLo'+'ad'],this),_0x382f75['off']('change',this['_onAssetCh'+'ange'],this),_0x382f75['off']('remove',this['_onAssetRe'+'move'],this),_0x382f75['off']('unload',this['_onAssetUn'+'load'],this),_0x382f75['resource']&&this['removeData'](_0x382f75['resource']),this['_app']['assets']['once']('add:'+_0x382f75['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x56a38b){_0x56a38b['resource']&&this['removeData'](_0x56a38b['resource']);}}class oP extends ce{constructor(_0x134ba1){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x134ba1;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x2e4162,_0xa4b742){_0xa4b742&&this['_scriptSch'+'emas']['set'](_0x2e4162,_0xa4b742);}['getSchema'](_0x185baa){return this['_scriptSch'+'emas']['get'](_0x185baa);}['add'](_0x3943dd){const _0x4db717=_0x3943dd['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x4db717)?(setTimeout(()=>{if(_0x3943dd['prototype']['swap']){const _0x101d26=this['_scripts'][_0x4db717],_0x3a41d9=this['_list']['indexOf'](_0x101d26);this['_list'][_0x3a41d9]=_0x3943dd,this['_scripts'][_0x4db717]=_0x3943dd,this['fire']('swap',_0x4db717,_0x3943dd),this['fire']('swap:'+_0x4db717,_0x3943dd);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x4db717+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0x1957+0x1*0xc77+0x1*-0x25cd)):(this['_scripts'][_0x4db717]=_0x3943dd,this['_list']['push'](_0x3943dd),this['fire']('add',_0x4db717,_0x3943dd),this['fire']('add:'+_0x4db717,_0x3943dd),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x4db717)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x210d0f=this['app']['systems']['script']['_component'+'s'];let _0x26fc43;const _0x969910=[],_0x5f493a=[];for(_0x210d0f['loopIndex']=-0x262c+0x1ed4*-0x1+-0x4*-0x1140;_0x210d0f['loopIndex']<_0x210d0f['length'];_0x210d0f['loopIndex']++){const _0x198ef3=_0x210d0f['items'][_0x210d0f['loopIndex']];if(_0x198ef3['_scriptsIn'+'dex'][_0x4db717]&&_0x198ef3['_scriptsIn'+'dex'][_0x4db717]['awaiting']){_0x198ef3['_scriptsDa'+'ta']&&_0x198ef3['_scriptsDa'+'ta'][_0x4db717]&&(_0x26fc43=_0x198ef3['_scriptsDa'+'ta'][_0x4db717]['attributes']);const _0x539f99=_0x198ef3['create'](_0x4db717,{'preloading':!(0x71*-0x2+-0x49*-0x59+-0x1*0x187f),'ind':_0x198ef3['_scriptsIn'+'dex'][_0x4db717]['ind'],'attributes':_0x26fc43});_0x539f99&&_0x969910['push'](_0x539f99);for(const _0x18b014 of _0x198ef3['scripts'])_0x198ef3['initialize'+'Attributes'](_0x18b014);}}for(let _0x3e7b36=0xc8e*-0x2+0x1*-0x1fa7+0x38c3;_0x3e7b36<_0x969910['length'];_0x3e7b36++)_0x969910[_0x3e7b36]['enabled']&&(_0x969910[_0x3e7b36]['_initializ'+'ed']=!(-0x2*0x888+-0xb72+0x59*0x52),_0x5f493a['push'](_0x969910[_0x3e7b36]),_0x969910[_0x3e7b36]['initialize']&&_0x969910[_0x3e7b36]['initialize']());for(let _0x33d0d2=-0x3*0x3bd+-0x1*0x3e4+0x509*0x3;_0x33d0d2<_0x5f493a['length'];_0x33d0d2++)!_0x5f493a[_0x33d0d2]['enabled']||_0x5f493a[_0x33d0d2]['_postIniti'+'alized']||(_0x5f493a[_0x33d0d2]['_postIniti'+'alized']=!(0x1e*-0x15+-0x172e+0x4*0x669),_0x5f493a[_0x33d0d2]['postInitia'+'lize']&&_0x5f493a[_0x33d0d2]['postInitia'+'lize']());}),!(-0x1*-0x65f+-0x1bed+-0x2*-0xac7));}['remove'](_0x35fd8c){let _0x2f60a8=_0x35fd8c,_0x467884=_0x35fd8c;if(typeof _0x467884!='string'?_0x467884=_0x2f60a8['__name']:_0x2f60a8=this['get'](_0x467884),this['get'](_0x467884)!==_0x2f60a8)return!(0x753+0x1*-0xaff+0x3ad);delete this['_scripts'][_0x467884];const _0xecf478=this['_list']['indexOf'](_0x2f60a8);return this['_list']['splice'](_0xecf478,0x2ff*-0xd+-0x16c2+0x3db6),this['fire']('remove',_0x467884,_0x2f60a8),this['fire']('remove:'+_0x467884,_0x2f60a8),!(-0x1206*-0x1+0x2*0xe75+-0x8*0x5de);}['get'](_0x5f59ed){return this['_scripts'][_0x5f59ed]||null;}['has'](_0x218479){if(typeof _0x218479=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x218479);if(!_0x218479)return!(-0x21ec+0xe5f*0x1+0x138e);const _0x573c36=_0x218479['__name'];return this['_scripts'][_0x573c36]===_0x218479;}['list'](){return this['_list'];}}const lP=(_0x1e2bae,_0x5a741e)=>_0x1e2bae['constructo'+'r']['order']-_0x5a741e['constructo'+'r']['order'],hP=_0x50bbfd=>_0x50bbfd['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],W_=_0xe8060a=>{_0xe8060a['length']=0x1265+-0xc8+0x119d*-0x1,G0['push'](_0xe8060a);},ac=class ac extends De{constructor(_0x34cf51,_0x24a36f=tn()){super(_0x34cf51),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(-0x16d3+0x2456+-0x13*0xb6)),c(this,'_guid',null),c(this,'_template',!(0x1*-0x24bc+-0xe*0x169+-0x13*-0x2f9)),(v['assert'](_0x24a36f,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x24a36f);}['addCompone'+'nt'](_0x13141d,_0x3458a7){const _0x5b6b6c=this['_app']['systems'][_0x13141d];return _0x5b6b6c?this['c'][_0x13141d]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x13141d+('\x27\x20componen'+'t')),null):_0x5b6b6c['addCompone'+'nt'](this,_0x3458a7):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x13141d+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x19f3b9){const _0xaa5cdb=this['_app']['systems'][_0x19f3b9];if(!_0xaa5cdb){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x19f3b9+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x19f3b9]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x19f3b9+('\x27\x20componen'+'t'));return;}_0xaa5cdb['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x2475ef){const _0x14d46f=this['findOne'](_0x4e4bb8=>{var _0x2a3736;return(_0x2a3736=_0x4e4bb8['c'])==null?void(-0x18*-0x7f+0x2cf*-0x6+0x4f2):_0x2a3736[_0x2475ef];});return _0x14d46f&&_0x14d46f['c'][_0x2475ef];}['findCompon'+'ents'](_0x5c6091){return this['find'](_0x3e84=>{var _0x46e5ab;return(_0x46e5ab=_0x3e84['c'])==null?void(-0x10bf+0x1*0x105c+0x63):_0x46e5ab[_0x5c6091];})['map'](_0x467c2b=>_0x467c2b['c'][_0x5c6091]);}['findScript'](_0x59deb3){const _0x7f489a=this['findOne'](_0xc4c389=>{var _0x562b71,_0x8fe8e2;return(_0x8fe8e2=(_0x562b71=_0xc4c389['c'])==null?void(0x15be+0x623*0x1+-0x1be1):_0x562b71['script'])==null?void(0x124f+-0x132a+0x49*0x3):_0x8fe8e2['has'](_0x59deb3);});return _0x7f489a==null?void(-0x1*0x2644+-0x7b*0x9+-0x1*-0x2a97):_0x7f489a['c']['script']['get'](_0x59deb3);}['findScript'+'s'](_0x3cfb7a){return this['find'](_0x54125f=>{var _0x3ca72d,_0x1b8dc7;return(_0x1b8dc7=(_0x3ca72d=_0x54125f['c'])==null?void(0x541*0x5+-0x1182+-0x8c3):_0x3ca72d['script'])==null?void(0x1ff8+0x1183*-0x1+-0xe75):_0x1b8dc7['has'](_0x3cfb7a);})['map'](_0x5d98a0=>_0x5d98a0['c']['script']['get'](_0x3cfb7a));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x3aaee7){const _0xb25957=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0xb25957[this['_guid']],this['_guid']=_0x3aaee7,_0xb25957[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0xee2e0b,_0xa10cc2){let _0x514078=!(-0x2323+-0xd77+-0x1*-0x309b);_0xee2e0b===this&&Za['length']===0x89b+0x1*-0x7e1+0x1*-0xba&&(_0x514078=!(0x6e*-0x3a+-0x151a+-0x2*-0x1703)),_0xee2e0b['_beingEnab'+'led']=!(-0x1*0x67+0x1031+0x7e5*-0x2),_0xee2e0b['_onHierarc'+'hyStateCha'+'nged'](_0xa10cc2),_0xee2e0b['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0xee2e0b);const _0x3ae20c=_0xee2e0b['_children'];for(let _0x705b8e=-0x11*-0x6d+0x1a51*-0x1+-0x2*-0x98a,_0xe54828=_0x3ae20c['length'];_0x705b8e<_0xe54828;_0x705b8e++)_0x3ae20c[_0x705b8e]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x3ae20c[_0x705b8e],_0xa10cc2);if(_0xee2e0b['_beingEnab'+'led']=!(0x1eb+0x10dc+0x6*-0x321),_0x514078){for(let _0x23195d=-0x5ff*0x1+0x19ee+0x3*-0x6a5;_0x23195d<Za['length'];_0x23195d++)Za[_0x23195d]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=0xd*0x67+0x1*-0x2e7+-0x254;}}['_onHierarc'+'hyStateCha'+'nged'](_0xa1ea1f){super['_onHierarc'+'hyStateCha'+'nged'](_0xa1ea1f);const _0x304409=this['_getSorted'+'Components']();for(let _0x36ea4f=-0x3*-0xb5+0x1*0x21b3+-0x51e*0x7;_0x36ea4f<_0x304409['length'];_0x36ea4f++){const _0x1a9d0a=_0x304409[_0x36ea4f];_0x1a9d0a['enabled']&&(_0xa1ea1f?_0x1a9d0a['onEnable']():_0x1a9d0a['onDisable']());}W_(_0x304409);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x3a8596=this['_getSorted'+'Components']();for(let _0x2a97a7=-0x3*0x36d+-0x19df+0x295*0xe;_0x2a97a7<_0x3a8596['length'];_0x2a97a7++)_0x3a8596[_0x2a97a7]['onPostStat'+'eChange']();W_(_0x3a8596);}['findByGuid'](_0x1ae33a){if(this['_guid']===_0x1ae33a)return this;const _0x5a414b=this['_app']['_entityInd'+'ex'][_0x1ae33a];return _0x5a414b&&(_0x5a414b===this||_0x5a414b['isDescenda'+'ntOf'](this))?_0x5a414b:null;}['destroy'](){this['_destroyin'+'g']=!(0x2505+0x1*-0xdf6+-0x170f*0x1);for(const _0x66591d in this['c'])this['c'][_0x66591d]['enabled']=!(0x112b+-0xa*0x22f+0x4*0x12b);for(const _0x42f3ac in this['c'])this['c'][_0x42f3ac]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x22c1*0x1+-0x2*0x65a+-0x160c);}['clone'](){const _0x55dfaa={},_0x25177e=this['_cloneRecu'+'rsively'](_0x55dfaa);return _0x55dfaa[this['getGuid']()]=_0x25177e,H0(this,this,_0x25177e,_0x55dfaa),_0x25177e;}['_getSorted'+'Components'](){const _0x800f73=this['c'],_0x8de042=cP();let _0x341de8=-0x1*0x1043+-0x397+0x13da;for(const _0x1213a7 in _0x800f73)if(_0x800f73['hasOwnProp'+'erty'](_0x1213a7)){const _0x5d8e52=_0x800f73[_0x1213a7];_0x341de8|=_0x5d8e52['constructo'+'r']['order']!==0x1be*-0x14+-0x7*0x432+-0x1*-0x4036,_0x8de042['push'](_0x5d8e52);}return _0x341de8&&_0x8de042['length']>-0x5c*-0x3b+-0x20e5+-0xbb2*-0x1&&hP(_0x8de042),_0x8de042;}['_cloneRecu'+'rsively'](_0x509cbd){const _0x37bf1b=new this['constructo'+'r'](void(0x1*0x12dd+0x15b2+-0x288f),this['_app']);super['_cloneInte'+'rnal'](_0x37bf1b);for(const _0x400047 in this['c'])this['c'][_0x400047]['system']['cloneCompo'+'nent'](this,_0x37bf1b);for(let _0x2c1853=0x1b85+0x743+0x4f8*-0x7;_0x2c1853<this['_children']['length'];_0x2c1853++){const _0x469d41=this['_children'][_0x2c1853];if(_0x469d41 instanceof ac){const _0x50c85d=_0x469d41['_cloneRecu'+'rsively'](_0x509cbd);_0x37bf1b['addChild'](_0x50c85d),_0x509cbd[_0x469d41['getGuid']()]=_0x50c85d;}}return _0x37bf1b;}};c(ac,'EVENT_DEST'+'ROY','destroy');let $e=ac;function H0(_0x2425af,_0x4f1e72,_0x1ce51d,_0x19a6b0){if(_0x4f1e72 instanceof $e){const _0x94363b=_0x4f1e72['c'];for(const _0x25f231 in _0x94363b){const _0x7e4a16=_0x94363b[_0x25f231],_0x298b91=_0x7e4a16['system']['getPropert'+'iesOfType']('entity');for(let _0x340be6=-0x133*0xa+0x2369+-0x176b,_0x57d343=_0x298b91['length'];_0x340be6<_0x57d343;_0x340be6++){const _0x3d3de1=_0x298b91[_0x340be6]['name'],_0x3b7221=_0x7e4a16[_0x3d3de1];if(!!_0x2425af['findByGuid'](_0x3b7221)){const _0x1e6480=_0x19a6b0[_0x3b7221]['getGuid']();_0x1e6480?_0x1ce51d['c'][_0x25f231][_0x3d3de1]=_0x1e6480:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x94363b['script']&&_0x1ce51d['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x94363b['script'],_0x19a6b0),_0x94363b['render']&&_0x1ce51d['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x94363b['render'],_0x19a6b0),_0x94363b['button']&&_0x1ce51d['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x94363b['button'],_0x19a6b0),_0x94363b['scrollview']&&_0x1ce51d['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x94363b['scrollview'],_0x19a6b0),_0x94363b['scrollbar']&&_0x1ce51d['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x94363b['scrollbar'],_0x19a6b0),_0x94363b['anim']&&_0x1ce51d['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x94363b['anim'],_0x19a6b0);const _0x57b5a5=_0x4f1e72['children']['filter'](_0x59ce95=>_0x59ce95 instanceof $e),_0x399c69=_0x1ce51d['children']['filter'](_0x54872b=>_0x54872b instanceof $e);for(let _0x393593=-0x11*-0x76+0x490+-0x1*0xc66,_0x498b47=_0x57b5a5['length'];_0x393593<_0x498b47;_0x393593++)H0(_0x2425af,_0x57b5a5[_0x393593],_0x399c69[_0x393593],_0x19a6b0);}}class q_{constructor(_0x416072,_0x4f5ba2){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(-0x211a+-0x5*0x49d+0x382c)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x416072,this['url']=_0x4f5ba2);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x4fa824){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x4fa824;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x25cbff,_0x24669c){if(this['_index']['hasOwnProp'+'erty'](_0x25cbff))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x25cbff),!(-0x8*-0x373+-0x15aa+-0x5ed);const _0x475650=new q_(_0x25cbff,_0x24669c),_0x2fa1a9=this['_list']['push'](_0x475650);return this['_index'][_0x475650['name']]=_0x2fa1a9-(0x81b*-0x4+-0x208e+-0x1*-0x40fb),this['_urlIndex'][_0x475650['url']]=_0x2fa1a9-(0x167d+0x236c+-0x39e8),!(-0x792+0xac8+-0x89*0x6);}['find'](_0x224043){return this['_index']['hasOwnProp'+'erty'](_0x224043)?this['_list'][this['_index'][_0x224043]]:null;}['findByUrl'](_0x5db7cf){return this['_urlIndex']['hasOwnProp'+'erty'](_0x5db7cf)?this['_list'][this['_urlIndex'][_0x5db7cf]]:null;}['remove'](_0x5c5f5e){if(this['_index']['hasOwnProp'+'erty'](_0x5c5f5e)){const _0xf86a1c=this['_index'][_0x5c5f5e];let _0x2944de=this['_list'][_0xf86a1c];delete this['_urlIndex'][_0x2944de['url']],delete this['_index'][_0x5c5f5e],this['_list']['splice'](_0xf86a1c,0x34e+-0x65*-0x41+-0x1cf2);for(let _0x254d3f=0x3d*0x4c+-0xc04+-0xc3*0x8;_0x254d3f<this['_list']['length'];_0x254d3f++)_0x2944de=this['_list'][_0x254d3f],this['_index'][_0x2944de['name']]=_0x254d3f,this['_urlIndex'][_0x2944de['url']]=_0x254d3f;}}['_loadScene'+'Data'](_0x55b245,_0x1b346d,_0x34393f){const _0x8081b9=this['_app'];let _0x3b9137=_0x55b245;if(typeof _0x55b245=='string'&&(_0x55b245=this['findByUrl'](_0x3b9137)||this['find'](_0x3b9137)||new q_('Untitled',_0x3b9137)),_0x3b9137=_0x55b245['url'],!_0x3b9137){_0x34393f('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x55b245['loaded']){_0x34393f(null,_0x55b245);return;}_0x8081b9['assets']&&_0x8081b9['assets']['prefix']&&!Da['test'](_0x3b9137)&&(_0x3b9137=fe['join'](_0x8081b9['assets']['prefix'],_0x3b9137)),_0x55b245['_onLoadedC'+'allbacks']['push'](_0x34393f),_0x55b245['_loading']||_0x8081b9['loader']['getHandler']('hierarchy')['load'](_0x3b9137,(_0x35daad,_0x2e8b76)=>{_0x55b245['data']=_0x2e8b76,_0x55b245['_loading']=!(0xc6e+0x1b16+-0x2783);for(let _0x16038a=-0x2679+0x23d5+-0x2a4*-0x1;_0x16038a<_0x55b245['_onLoadedC'+'allbacks']['length'];_0x16038a++)_0x55b245['_onLoadedC'+'allbacks'][_0x16038a](_0x35daad,_0x55b245);_0x1b346d||(_0x55b245['data']=null),_0x55b245['_onLoadedC'+'allbacks']['length']=0x1de6+0x104f+-0x2e35;}),_0x55b245['_loading']=!(-0x3*-0xaa7+0x2*-0xd5d+-0x53b);}['loadSceneD'+'ata'](_0x1d14ce,_0x3483cc){this['_loadScene'+'Data'](_0x1d14ce,!(0x136d+0x1*-0x270+-0x10fd),_0x3483cc);}['unloadScen'+'eData'](_0x262a97){typeof _0x262a97=='string'&&(_0x262a97=this['findByUrl'](_0x262a97)),_0x262a97&&(_0x262a97['data']=null);}['_loadScene'+'Hierarchy'](_0x54bf90,_0x537d6b,_0x3c74b6){this['_loadScene'+'Data'](_0x54bf90,!(-0xa67*-0x1+0x19*-0x13c+0x2*0xa3b),(_0x5577d9,_0x2da106)=>{if(_0x5577d9){_0x3c74b6&&_0x3c74b6(_0x5577d9);return;}_0x537d6b&&_0x537d6b(_0x2da106);const _0x5b673e=this['_app'],_0x5b2e33=()=>{const _0x56427c=_0x5b673e['loader']['getHandler']('hierarchy');_0x5b673e['systems']['script']['preloading']=!(-0x1e*0x5+0xf5f+-0xec9);const _0x4f7d3f=_0x56427c['open'](_0x2da106['url'],_0x2da106['data']);_0x5b673e['systems']['script']['preloading']=!(-0x5*0x4ee+0x1ac9+0xd*-0x2a),_0x5b673e['loader']['clearCache'](_0x2da106['url'],'hierarchy'),_0x5b673e['root']['addChild'](_0x4f7d3f),_0x5b673e['systems']['fire']('initialize',_0x4f7d3f),_0x5b673e['systems']['fire']('postInitia'+'lize',_0x4f7d3f),_0x5b673e['systems']['fire']('postPostIn'+'itialize',_0x4f7d3f),_0x3c74b6&&_0x3c74b6(null,_0x4f7d3f);};_0x5b673e['_preloadSc'+'ripts'](_0x2da106['data'],_0x5b2e33);});}['loadSceneH'+'ierarchy'](_0x588e91,_0x59f221){this['_loadScene'+'Hierarchy'](_0x588e91,null,_0x59f221);}['loadSceneS'+'ettings'](_0x17ef3e,_0x67766a){this['_loadScene'+'Data'](_0x17ef3e,!(-0x112c+-0x1*-0xea4+0x289),(_0x288898,_0xc90a8d)=>{_0x288898?_0x67766a&&_0x67766a(_0x288898):(this['_app']['applyScene'+'Settings'](_0xc90a8d['data']['settings']),_0x67766a&&_0x67766a(null));});}['changeScen'+'e'](_0x4d004a,_0x439636){const _0x3d2a13=this['_app'],_0x4f6c0d=_0x4bf9f4=>{const {children:_0x1758fe}=_0x3d2a13['root'];for(;_0x1758fe['length'];)_0x1758fe[-0x90*0x3f+-0xd09+-0x3079*-0x1]['destroy']();_0x3d2a13['applyScene'+'Settings'](_0x4bf9f4['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x4d004a,_0x4f6c0d,_0x439636);}['loadScene'](_0x4d1cc4,_0x53d889){const _0x4e43db=this['_app'],_0x2e8bab=_0x4e43db['loader']['getHandler']('scene');_0x4e43db['assets']&&_0x4e43db['assets']['prefix']&&!Da['test'](_0x4d1cc4)&&(_0x4d1cc4=fe['join'](_0x4e43db['assets']['prefix'],_0x4d1cc4)),_0x2e8bab['load'](_0x4d1cc4,(_0x28dfb3,_0x1c41b7)=>{if(_0x28dfb3)_0x53d889&&_0x53d889(_0x28dfb3);else{const _0x38d1e9=()=>{_0x4e43db['systems']['script']['preloading']=!(-0xa7*-0x15+0x2d1+-0x1c*0x97);const _0x1e9e35=_0x2e8bab['open'](_0x4d1cc4,_0x1c41b7),_0x2a2807=this['findByUrl'](_0x4d1cc4);_0x2a2807&&!_0x2a2807['loaded']&&(_0x2a2807['data']=_0x1c41b7),_0x4e43db['systems']['script']['preloading']=!(-0x3cd*-0x7+0xa7+-0x1b41),_0x4e43db['loader']['clearCache'](_0x4d1cc4,'scene'),_0x4e43db['loader']['patch']({'resource':_0x1e9e35,'type':'scene'},_0x4e43db['assets']),_0x4e43db['root']['addChild'](_0x1e9e35['root']),_0x4e43db['systems']['rigidbody']&&typeof Ammo<'u'&&_0x4e43db['systems']['rigidbody']['gravity']['set'](_0x1e9e35['_gravity']['x'],_0x1e9e35['_gravity']['y'],_0x1e9e35['_gravity']['z']),_0x53d889&&_0x53d889(null,_0x1e9e35);};_0x4e43db['_preloadSc'+'ripts'](_0x1c41b7,_0x38d1e9);}});}}class uP{constructor(_0x22c9d3){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x22c9d3['_shaderSta'+'ts'],this['vram']=_0x22c9d3['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x1b7c3a;return(_0x1b7c3a=tn()['lightmappe'+'r'])==null?void(0x2*-0x12c3+0x373+0x1*0x2213):_0x1b7c3a['stats'];}get['batcher'](){const _0xae1460=tn()['_batcher'];return _0xae1460?_0xae1460['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x2a61ef){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(-0x33*0x45+0x1*-0x1070+0x1e30)),c(this,'_inFrameUp'+'date',!(0x1b5f+0xf21+-0x2a7f)),c(this,'_libraries'+'Loaded',!(0x1442*-0x1+0xf2d+0x516)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(0x214a+-0x2*-0x6c7+-0x2ed8)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(0xde9+-0x1*0x19b+0x2f*-0x43)),c(this,'_scriptPre'+'fix',''),c(this,'_time',-0xa8f+-0x2a1*0x1+0x698*0x2),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',-0x1ffe+0x5*-0x407+-0x1a11*-0x2),c(this,'maxDeltaTi'+'me',0x1125+0x1bd1+-0x2cf6+0.1),c(this,'frame',-0xf31+0x4b9+0xa78),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(0x17b9+0x29*-0x4f+-0xb12)),c(this,'renderNext'+'Frame',!(0x2b*-0x76+-0x1029+0x23fc)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(0x2f*0x97+-0x6e6*-0x4+-0x3751):no['indexOf']('$'))<-0x1a0d+0x18d5+0x138&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x2a61ef['id']]=this,qu(this),this['root']=new $e(),this['root']['_enabledIn'+'Hierarchy']=!(-0x4c9*0x1+-0x22a+0x3*0x251));}['init'](_0x469c48){const {assetPrefix:_0x4e9f0d,batchManager:_0x25d9bb,componentSystems:_0x33d3fc,elementInput:_0x4a1d61,gamepads:_0x5598c3,graphicsDevice:_0xa46564,keyboard:_0x171d0d,lightmapper:_0x964272,mouse:_0x33fd94,resourceHandlers:_0x553c54,scriptsOrder:_0x594417,scriptPrefix:_0x45922f,soundManager:_0x29c0c5,touch:_0x16cc88,xr:_0x356961}=_0x469c48;v['assert'](_0xa46564,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0xa46564,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0xa46564),this['_soundMana'+'ger']=_0x29c0c5,this['scene']=new ci(_0xa46564),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x4e9f0d&&(this['assets']['prefix']=_0x4e9f0d),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x594417||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(0x8b9+0xc32*-0x2+-0x22*-0x76),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0x2197bf=new S_('default');_0x2197bf['pushOpaque'](this['defaultLay'+'erWorld']),_0x2197bf['pushOpaque'](this['defaultLay'+'erDepth']),_0x2197bf['pushOpaque'](this['defaultLay'+'erSkybox']),_0x2197bf['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x2197bf['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x2197bf['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x2197bf['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x2197bf,Wr['createPlac'+'eholder'](_0xa46564),this['renderer']=new Gh(_0xa46564),this['renderer']['scene']=this['scene'],_0x964272&&(this['lightmappe'+'r']=new _0x964272(_0xa46564,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x25d9bb&&(this['_batcher']=new _0x25d9bb(_0xa46564,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x171d0d||null,this['mouse']=_0x33fd94||null,this['touch']=_0x16cc88||null,this['gamepads']=_0x5598c3||null,_0x4a1d61&&(this['elementInp'+'ut']=_0x4a1d61,this['elementInp'+'ut']['app']=this),this['xr']=_0x356961?new _0x356961(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x45922f||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x553c54['forEach'](_0x515a51=>{const _0x415308=new _0x515a51(this);this['loader']['addHandler'](_0x415308['handlerTyp'+'e'],_0x415308);}),_0x33d3fc['forEach'](_0x3a692e=>{this['systems']['add'](new _0x3a692e(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(0x2b*0x55+-0x1573*-0x1+-0x23ba)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0xa29+-0x6*-0x162+0x1de))):document['mozHidden']!==void(0x14*0x4f+0x49*-0x3a+0xa5e)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0xc86+-0x85d*-0x1+-0x14e2))):document['msHidden']!==void(0x22*-0xbd+-0x19d5+0x32ef)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1b5d+0x218a+-0xa*0x617))):document['webkitHidd'+'en']!==void(0x1ab*0x9+-0x9*-0x2a1+-0x26ac)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0xb*-0x165+0x2104*0x1+-0x11ac)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x427024){return _0x427024?Gr['_applicati'+'ons'][_0x427024]:tn();}['_initDefau'+'ltMaterial'](){const _0x518c43=new cs();_0x518c43['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x518c43);}['_initProgr'+'amLibrary'](){const _0x411482=new D1(this['graphicsDe'+'vice'],new cs());$E(this['graphicsDe'+'vice'],_0x411482);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x4bb472,_0x25c629){We['get'](_0x4bb472,(_0x53712b,_0x4e9426)=>{if(_0x53712b){_0x25c629(_0x53712b);return;}const _0x58c814=_0x4e9426['applicatio'+'n_properti'+'es'],_0x447420=_0x4e9426['scenes'],_0x567fe6=_0x4e9426['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x58c814,_0x23437e=>{this['_parseScen'+'es'](_0x447420),this['_parseAsse'+'ts'](_0x567fe6),_0x25c629(_0x23437e||null);});});}['preload'](_0x51e9dc){this['fire']('preload:st'+'art');const _0x1c6f2d=this['assets']['list']({'preload':!(0x1f66*-0x1+0xdd5*0x2+-0xef*-0x4)});if(_0x1c6f2d['length']===-0xd8*-0x1f+0x6*0x61f+0xa7b*-0x6){this['fire']('preload:en'+'d'),_0x51e9dc();return;}let _0x21b123=-0x26b*0xf+-0x1c64*-0x1+-0x7e1*-0x1;const _0x3b5a10=()=>{_0x21b123++,this['fire']('preload:pr'+'ogress',_0x21b123/_0x1c6f2d['length']),_0x21b123===_0x1c6f2d['length']&&(this['fire']('preload:en'+'d'),_0x51e9dc());};_0x1c6f2d['forEach'](_0x557697=>{_0x557697['loaded']?_0x3b5a10():(_0x557697['once']('load',_0x3b5a10),_0x557697['once']('error',_0x3b5a10),this['assets']['load'](_0x557697));});}['_preloadSc'+'ripts'](_0x4bfd61,_0x333821){_0x333821();}['_parseAppl'+'icationPro'+'perties'](_0x21af78,_0x16ed8b){if(typeof _0x21af78['maxAssetRe'+'tries']=='number'&&_0x21af78['maxAssetRe'+'tries']>-0x136+-0x141*-0x16+-0x1a60&&this['loader']['enableRetr'+'y'](_0x21af78['maxAssetRe'+'tries']),_0x21af78['useDeviceP'+'ixelRatio']||(_0x21af78['useDeviceP'+'ixelRatio']=_0x21af78['use_device'+'_pixel_rat'+'io']),_0x21af78['resolution'+'Mode']||(_0x21af78['resolution'+'Mode']=_0x21af78['resolution'+'_mode']),_0x21af78['fillMode']||(_0x21af78['fillMode']=_0x21af78['fill_mode']),this['_width']=_0x21af78['width'],this['_height']=_0x21af78['height'],_0x21af78['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x21af78['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x21af78['fillMode'],this['_width'],this['_height']),_0x21af78['layers']&&_0x21af78['layerOrder']){const _0x28cf2f=new S_('applicatio'+'n'),_0x1b5b41={};for(const _0x299464 in _0x21af78['layers']){const _0x2a4a06=_0x21af78['layers'][_0x299464];_0x2a4a06['id']=parseInt(_0x299464,-0x1*0x73a+0x1*0x263e+-0x1efa),_0x2a4a06['enabled']=_0x2a4a06['id']!==Xt,_0x1b5b41[_0x299464]=new Lr(_0x2a4a06);}for(let _0x8c7334=0x7a0+0x1f87*0x1+0x3*-0xd0d,_0x5ba362=_0x21af78['layerOrder']['length'];_0x8c7334<_0x5ba362;_0x8c7334++){const _0x3d9575=_0x21af78['layerOrder'][_0x8c7334],_0x447a2d=_0x1b5b41[_0x3d9575['layer']];_0x447a2d&&(_0x3d9575['transparen'+'t']?_0x28cf2f['pushTransp'+'arent'](_0x447a2d):_0x28cf2f['pushOpaque'](_0x447a2d),_0x28cf2f['subLayerEn'+'abled'][_0x8c7334]=_0x3d9575['enabled']);}this['scene']['layers']=_0x28cf2f;}if(_0x21af78['batchGroup'+'s']){const _0x5a506c=this['batcher'];if(_0x5a506c)for(let _0x45c2ae=0x1*-0x179+-0x1f87+0x420*0x8,_0x35599d=_0x21af78['batchGroup'+'s']['length'];_0x45c2ae<_0x35599d;_0x45c2ae++){const _0x231fb5=_0x21af78['batchGroup'+'s'][_0x45c2ae];_0x5a506c['addGroup'](_0x231fb5['name'],_0x231fb5['dynamic'],_0x231fb5['maxAabbSiz'+'e'],_0x231fb5['id'],_0x231fb5['layers']);}}_0x21af78['i18nAssets']&&(this['i18n']['assets']=_0x21af78['i18nAssets']),this['_loadLibra'+'ries'](_0x21af78['libraries'],_0x16ed8b);}['_loadLibra'+'ries'](_0x260fbc,_0x4aa512){const _0x411605=_0x260fbc['length'];let _0x533d8e=_0x411605;const _0x28eac0=/^https?:\/\//;if(_0x411605){const _0x16fb3c=(_0x3de347,_0x5252cd)=>{_0x533d8e--,_0x3de347?_0x4aa512(_0x3de347):_0x533d8e===0x517*0x2+0x6cd*-0x1+-0x361&&(this['onLibrarie'+'sLoaded'](),_0x4aa512(null));};for(let _0x11928a=0x30a+0xb1*-0x9+0x32f;_0x11928a<_0x411605;++_0x11928a){let _0x48552f=_0x260fbc[_0x11928a];!_0x28eac0['test'](_0x48552f['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x48552f=fe['join'](this['_scriptPre'+'fix'],_0x48552f)),this['loader']['load'](_0x48552f,'script',_0x16fb3c);}}else this['onLibrarie'+'sLoaded'](),_0x4aa512(null);}['_parseScen'+'es'](_0xd2a199){if(_0xd2a199){for(let _0x5ec5c7=0x563*0x4+0x1f0e+-0x349a;_0x5ec5c7<_0xd2a199['length'];_0x5ec5c7++)this['scenes']['add'](_0xd2a199[_0x5ec5c7]['name'],_0xd2a199[_0x5ec5c7]['url']);}}['_parseAsse'+'ts'](_0x35e3d7){const _0x2cb435=[],_0xd10a07={},_0x2f3a2f={};for(let _0x49219d=-0xda6+-0x424+0x11ca;_0x49219d<this['scriptsOrd'+'er']['length'];_0x49219d++){const _0x149768=this['scriptsOrd'+'er'][_0x49219d];_0x35e3d7[_0x149768]&&(_0xd10a07[_0x149768]=!(0x8*0x3ef+0x1647+-0x35bf),_0x2cb435['push'](_0x35e3d7[_0x149768]));}if(this['enableBund'+'les']){for(const _0x164675 in _0x35e3d7)_0x35e3d7[_0x164675]['type']==='bundle'&&(_0x2f3a2f[_0x164675]=!(0x1*-0x5b3+-0x9f1*0x1+0x16*0xb6),_0x2cb435['push'](_0x35e3d7[_0x164675]));}for(const _0x43083a in _0x35e3d7)_0xd10a07[_0x43083a]||_0x2f3a2f[_0x43083a]||_0x2cb435['push'](_0x35e3d7[_0x43083a]);for(let _0x361c22=-0x133*0x2+-0x513*0x1+0x779;_0x361c22<_0x2cb435['length'];_0x361c22++){const _0x34cc6a=_0x2cb435[_0x361c22],_0x2f0bee=new le(_0x34cc6a['name'],_0x34cc6a['type'],_0x34cc6a['file'],_0x34cc6a['data']);if(_0x2f0bee['id']=parseInt(_0x34cc6a['id'],0x1d1e+-0x44e*0x8+0x55c),_0x2f0bee['preload']=_0x34cc6a['preload']?_0x34cc6a['preload']:!(0x115b+-0xd10+-0x44a),_0x2f0bee['loaded']=_0x34cc6a['type']==='script'&&_0x34cc6a['data']&&_0x34cc6a['data']['loadingTyp'+'e']>0x1*0x1661+-0x3ae*-0x5+0x323*-0xd,_0x2f0bee['tags']['add'](_0x34cc6a['tags']),_0x34cc6a['i18n']){for(const _0x3a5553 in _0x34cc6a['i18n'])_0x2f0bee['addLocaliz'+'edAssetId'](_0x3a5553,_0x34cc6a['i18n'][_0x3a5553]);}this['assets']['add'](_0x2f0bee);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0xd4d+-0x13a8+0x20f5*0x1);}),this['frame']=0xdc8+0x2b0*-0x4+-0x308,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x3e379b){this['controller']&&this['controller']['update'](_0x3e379b),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x22b9b3){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x22b9b3),this['systems']['fire']('animationU'+'pdate',_0x22b9b3),this['systems']['fire']('postUpdate',_0x22b9b3),this['fire']('update',_0x22b9b3),this['inputUpdat'+'e'](_0x22b9b3),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=-0x1*-0x803+-0x79*-0x19+-0x13d4,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x3f3e11){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x3f3e11),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x3f3e11),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x5d7094,_0x5014ba,_0xcf83e4){const _0x468a9a=this['stats']['frame'];_0x468a9a['dt']=_0x5014ba,_0x468a9a['ms']=_0xcf83e4,_0x5d7094>_0x468a9a['_timeToCou'+'ntFrames']?(_0x468a9a['fps']=_0x468a9a['_fpsAccum'],_0x468a9a['_fpsAccum']=0x2e3*-0x8+0x1d3+0x1545,_0x468a9a['_timeToCou'+'ntFrames']=_0x5d7094+(0xecc+-0x115*-0x1f+-0x7d*0x5b)):_0x468a9a['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x4de*-0x6+-0x23c5+-0x40f9*-0x1;}['_fillFrame'+'Stats'](){let _0x934fa5=this['stats']['frame'];_0x934fa5['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x934fa5['materials']=this['renderer']['_materialS'+'witches'],_0x934fa5['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x934fa5['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x934fa5['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x934fa5['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x934fa5['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x476b49=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x934fa5['triangles']=_0x476b49[Ms]/(-0x157f+-0x27*0x74+0x272e)+Math['max'](_0x476b49[ar]-(-0x1e3d+-0x1*-0x21f5+0x5*-0xbe),-0x44a+0x3*0x135+-0x9*-0x13)+Math['max'](_0x476b49[Yr]-(-0xcb+-0x1299+0x1366),0x15db+-0x1*-0x11b6+-0x2791),_0x934fa5['cullTime']=this['renderer']['_cullTime'],_0x934fa5['sortTime']=this['renderer']['_sortTime'],_0x934fa5['skinTime']=this['renderer']['_skinTime'],_0x934fa5['morphTime']=this['renderer']['_morphTime'],_0x934fa5['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x934fa5['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x934fa5['otherPrimi'+'tives']=0x182d+0x10f*-0x4+-0x5*0x3fd;for(let _0x24fb5b=0x3*0x3b3+0xdef+-0x1908;_0x24fb5b<_0x476b49['length'];_0x24fb5b++)_0x24fb5b<Ms&&(_0x934fa5['otherPrimi'+'tives']+=_0x476b49[_0x24fb5b]),_0x476b49[_0x24fb5b]=-0xfe4+-0x22*-0x124+-0x16e4;this['renderer']['_camerasRe'+'ndered']=-0x2*0xb19+-0x4b2+0x1ae4,this['renderer']['_materialS'+'witches']=0x1748+0x62d+-0x1d75,this['renderer']['_shadowMap'+'Updates']=0x1*-0x709+-0x24e1+-0x646*-0x7,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x1f8f+-0x2279+0x2ea,this['renderer']['_cullTime']=-0x19d1+0xf0d*0x1+-0x1a*-0x6a,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x44d+0xcce*-0x3+0x2ab7,this['renderer']['_lightClus'+'tersTime']=-0x1683+0x1af1+0x12*-0x3f,this['renderer']['_sortTime']=0x1*-0x1b35+-0x6*-0xd2+0x1649,this['renderer']['_skinTime']=0xc4*-0x11+0x138*0x11+-0x7b4,this['renderer']['_morphTime']=0x1b76+0xd2d+-0x28a3,this['renderer']['_shadowMap'+'Time']=0x1*0x6c1+0x27f*0x8+-0x1ab9,this['renderer']['_depthMapT'+'ime']=-0xb1b+0x118f+-0x674,this['renderer']['_forwardTi'+'me']=0x72d*0x1+0x14+-0x741,_0x934fa5=this['stats']['drawCalls'],_0x934fa5['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x934fa5['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x934fa5['depth']=0x6f3+-0x1366+0xc73*0x1,_0x934fa5['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x934fa5['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x934fa5['immediate']=0xb*0x2b1+-0x61c*-0x5+-0x3c27,_0x934fa5['instanced']=-0x1*0x1c0+0xfb7+0xdf7*-0x1,_0x934fa5['removedByI'+'nstancing']=-0x19f*-0x3+-0x367*-0x1+-0x844,_0x934fa5['misc']=_0x934fa5['total']-(_0x934fa5['forward']+_0x934fa5['shadow']),this['renderer']['_depthDraw'+'Calls']=0x1d5e+0x1d34+-0x3a92,this['renderer']['_shadowDra'+'wCalls']=-0x266d+0x10a0+0x15cd*0x1,this['renderer']['_forwardDr'+'awCalls']=0x1f40+-0x801*-0x3+0x7*-0x7e5,this['renderer']['_numDrawCa'+'llsCulled']=-0x3b0*-0x1+-0x9e4+0x634,this['renderer']['_skinDrawC'+'alls']=0xd8f+-0x159*-0xd+-0x1f14,this['renderer']['_immediate'+'Rendered']=-0x1123+-0x1*0x43+0x1166,this['renderer']['_instanced'+'DrawCalls']=0x1129+-0x884+-0x8a5,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x934fa5=this['stats']['particles'],_0x934fa5['updatesPer'+'Frame']=_0x934fa5['_updatesPe'+'rFrame'],_0x934fa5['frameTime']=_0x934fa5['_frameTime'],_0x934fa5['_updatesPe'+'rFrame']=-0x1*-0x125b+-0x1700+-0x1d*-0x29,_0x934fa5['_frameTime']=-0x6f*0x53+-0x53*0x2+-0x71*-0x53;}['setCanvasF'+'illMode'](_0x3e85a5,_0x1925f9,_0x484e05){this['_fillMode']=_0x3e85a5,this['resizeCanv'+'as'](_0x1925f9,_0x484e05);}['setCanvasR'+'esolution'](_0x2812c8,_0x3de598,_0x5026e3){this['_resolutio'+'nMode']=_0x2812c8,_0x2812c8===G_&&_0x3de598===void(0x1c2*0x15+-0x2*-0x571+-0x26*0x142)&&(_0x3de598=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x5026e3=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x3de598,_0x5026e3);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x5da536,_0x3f4156){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x2f1be4=window['innerWidth'],_0x14a031=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x4d01ce=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x585183=_0x2f1be4/_0x14a031;_0x4d01ce>_0x585183?(_0x5da536=_0x2f1be4,_0x3f4156=_0x5da536/_0x4d01ce):(_0x3f4156=_0x14a031,_0x5da536=_0x3f4156*_0x4d01ce);}else this['_fillMode']===W1&&(_0x5da536=_0x2f1be4,_0x3f4156=_0x14a031);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x5da536+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x3f4156+'px',this['updateCanv'+'asSize'](),{'width':_0x5da536,'height':_0x3f4156};}['updateCanv'+'asSize'](){var _0x592e0c;if(!(!this['_allowResi'+'ze']||(_0x592e0c=this['xr'])!=null&&_0x592e0c['active'])&&this['_resolutio'+'nMode']===G_){const _0x13c7d9=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x13c7d9['clientWidt'+'h'],_0x13c7d9['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0xa6c+-0x1*-0x3db+-0xe47),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x4554f1){let _0x323ab1;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x484192,_0x98fcb8,_0x5e2e8c]=_0x4554f1['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x484192,_0x98fcb8,_0x5e2e8c);}this['scene']['applySetti'+'ngs'](_0x4554f1),_0x4554f1['render']['hasOwnProp'+'erty']('skybox')&&(_0x4554f1['render']['skybox']?(_0x323ab1=this['assets']['get'](_0x4554f1['render']['skybox']),_0x323ab1?this['setSkybox'](_0x323ab1):this['assets']['once']('add:'+_0x4554f1['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x38f552,_0x2b0444){_0x38f552&&_0x2b0444?Wr['set'](this['graphicsDe'+'vice'],_0x38f552,_0x2b0444):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x2bfcae){if(_0x2bfcae!==this['_skyboxAss'+'et']){const _0x5c7dc3=()=>{this['setSkybox'](null);},_0x377b74=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x377b74,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x5c7dc3,this),this['_skyboxAss'+'et']['off']('change',_0x377b74,this)),this['_skyboxAss'+'et']=_0x2bfcae,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x377b74,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x5c7dc3,this),this['_skyboxAss'+'et']['on']('change',_0x377b74,this),this['scene']['skyboxMip']===0x8af*0x1+-0x9*-0x263+-0x2*0xf15&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0x1b26+-0x13b1*0x1+0x2ed7)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x377b74();}}['_firstBake'](){var _0x313775;(_0x313775=this['lightmappe'+'r'])==null||_0x313775['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x361613;(_0x361613=this['batcher'])==null||_0x361613['generate']();}['_processTi'+'mestamp'](_0x126af1){return _0x126af1;}['drawLine'](_0x276de5,_0x46c35e,_0x359155,_0x37294e,_0x3f85c5){this['scene']['drawLine'](_0x276de5,_0x46c35e,_0x359155,_0x37294e,_0x3f85c5);}['drawLines'](_0x418a8c,_0x32d0ab,_0x12dd3d=!(-0x1590+0x23d4+-0xe44),_0x4549a2=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x418a8c,_0x32d0ab,_0x12dd3d,_0x4549a2);}['drawLineAr'+'rays'](_0x540efa,_0x696a8d,_0x573844=!(-0x19*0x15b+-0x4f1+0x1f1*0x14),_0x48bbe6=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x540efa,_0x696a8d,_0x573844,_0x48bbe6);}['drawWireSp'+'here'](_0x2aa9ec,_0x40b000,_0xa5afd1=Y['WHITE'],_0x4069b3=0xa95+-0x6f7*0x3+0xa64,_0x2a7d7f=!(0xd*-0x2ba+0x13*-0x1a5+-0x15*-0x32d),_0x22d268=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x2aa9ec,_0x40b000,_0xa5afd1,_0x4069b3,_0x2a7d7f,_0x22d268);}['drawWireAl'+'ignedBox'](_0x411eac,_0x5a88b7,_0x5cf7c4=Y['WHITE'],_0x229197=!(-0x54*-0x42+0xb81*-0x3+0xcdb),_0xc36560=this['scene']['defaultDra'+'wLayer'],_0x68e55){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x411eac,_0x5a88b7,_0x5cf7c4,_0x229197,_0xc36560,_0x68e55);}['drawMeshIn'+'stance'](_0x3f8f48,_0x3079eb=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x3f8f48,_0x3079eb);}['drawMesh'](_0x3a9b16,_0x1a97b2,_0x54f049,_0x222b58=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x1a97b2,_0x54f049,_0x3a9b16,null,_0x222b58);}['drawQuad'](_0xff725f,_0x1b5dd0,_0x6dd6f9=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x1b5dd0,_0xff725f,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x6dd6f9);}['drawTextur'+'e'](_0x5e6ecf,_0x4427b2,_0x30b192,_0x6fa0d6,_0x5c44a5,_0x441d39,_0x4896d2=this['scene']['defaultDra'+'wLayer'],_0x3ad2a1=!(0x20b0+-0x1ee3*-0x1+-0x3f93)){if(_0x3ad2a1===!(0x26e*-0x1+-0xe9*0x17+0x175e)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x2ac689=new q();_0x2ac689['setTRS'](new T(_0x5e6ecf,_0x4427b2,-0x1522+-0xddc+-0xbaa*-0x3),se['IDENTITY'],new T(_0x30b192,-_0x6fa0d6,0x15cd+-0x1f*0x115+-0x1*-0xbbe)),_0x441d39||(_0x441d39=new Ra(),_0x441d39['cull']=mt,_0x441d39['setParamet'+'er']('colorMap',_0x5c44a5),_0x441d39['shaderDesc']=_0x3ad2a1?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x5c44a5['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x441d39['update']()),this['drawQuad'](_0x2ac689,_0x441d39,_0x4896d2);}['drawDepthT'+'exture'](_0x45241e,_0x3bf6da,_0x2e615,_0x3ddf5f,_0x3c39d4=this['scene']['defaultDra'+'wLayer']){const _0x5a6b67=new Ra();_0x5a6b67['cull']=mt,_0x5a6b67['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x5a6b67['update'](),this['drawTextur'+'e'](_0x45241e,_0x3bf6da,_0x2e615,_0x3ddf5f,null,_0x5a6b67,_0x3c39d4);}['destroy'](){var _0x9bada1,_0x2c24f6,_0x5aba88,_0x1709a3;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x9f2+0x1d*-0x108+0x27da);return;}const _0x42c45d=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x8b3*-0x1+-0x38*0xa1+0x2bec)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0xa5*-0x1a+-0xb3d+-0x584)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x21d5+0x8af+-0x2a83)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x2708+0xe0d+-0x3514))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x42f5d3=this['assets']['list']();for(let _0x46fd1c=0x17e6+-0xd7d+-0x215*0x5;_0x46fd1c<_0x42f5d3['length'];_0x46fd1c++)_0x42f5d3[_0x46fd1c]['unload'](),_0x42f5d3[_0x46fd1c]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x38dbc5=this['loader']['getHandler']('script');_0x38dbc5==null||_0x38dbc5['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x9bada1=this['lightmappe'+'r'])==null||_0x9bada1['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x2c24f6=this['xr'])==null||_0x2c24f6['end'](),(_0x5aba88=this['xr'])==null||_0x5aba88['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x1709a3=this['_soundMana'+'ger'])==null||_0x1709a3['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x42c45d]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x135feb){_0x135feb['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x135feb['frameReque'+'stId']),_0x135feb['frameReque'+'stId']=void(-0x6*0x2f5+0x228d+-0x10cf));}['getEntityF'+'romIndex'](_0x45a762){return this['_entityInd'+'ex'][_0x45a762];}['_registerS'+'ceneImmedi'+'ate'](_0x5614f6){this['on']('postrender',_0x5614f6['immediate']['onPostRend'+'er'],_0x5614f6['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x4fc099){const _0x5c5963=_0x4fc099;return function(_0x3ab023,_0x32cd91){var _0xfcd4f3,_0x3e0c0d,_0x4b0222,_0x224c26;if(!_0x5c5963['graphicsDe'+'vice'])return;_0x5c5963['frameReque'+'stId']&&((_0x3e0c0d=(_0xfcd4f3=_0x5c5963['xr'])==null?void(-0x2114+-0x206+0x231a):_0xfcd4f3['session'])==null||_0x3e0c0d['cancelAnim'+'ationFrame'](_0x5c5963['frameReque'+'stId']),cancelAnimationFrame(_0x5c5963['frameReque'+'stId']),_0x5c5963['frameReque'+'stId']=null),_0x5c5963['_inFrameUp'+'date']=!(-0x18a3+0x2*0x63d+0xc29*0x1),qu(_0x5c5963);const _0x38f69a=_0x5c5963['_processTi'+'mestamp'](_0x3ab023)||ne(),_0x405af0=_0x38f69a-(_0x5c5963['_time']||_0x38f69a);let _0x123a43=_0x405af0/(-0x14a3+0x65*0x36+0x33d);if(_0x123a43=N['clamp'](_0x123a43,0x222d+-0x1fea+-0x1*0x243,_0x5c5963['maxDeltaTi'+'me']),_0x123a43*=_0x5c5963['timeScale'],_0x5c5963['_time']=_0x38f69a,(_0x4b0222=_0x5c5963['xr'])!=null&&_0x4b0222['session']?_0x5c5963['frameReque'+'stId']=_0x5c5963['xr']['session']['requestAni'+'mationFram'+'e'](_0x5c5963['tick']):_0x5c5963['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x5c5963['tick']):null,_0x5c5963['graphicsDe'+'vice']['contextLos'+'t'])return;_0x5c5963['_fillFrame'+'StatsBasic'](_0x38f69a,_0x123a43,_0x405af0),_0x5c5963['_fillFrame'+'Stats'](),_0x5c5963['fire']('frameupdat'+'e',_0x405af0);let _0x57142e=!(0xa*0x5a+0x6b9+-0xa3d);_0x32cd91?(_0x57142e=(_0x224c26=_0x5c5963['xr'])==null?void(0x1*0x1e83+-0x7ed+-0x1696):_0x224c26['update'](_0x32cd91),_0x5c5963['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x32cd91['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x5c5963['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x57142e&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x5c5963['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](-0x1d7*-0x1+0x211c+-0x22f1)+'ms'),_0x5c5963['update'](_0x123a43),_0x5c5963['fire']('framerende'+'r'),(_0x5c5963['autoRender']||_0x5c5963['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](0xc3d+0x487*0x1+-0x10c2)+'ms'),_0x5c5963['updateCanv'+'asSize'](),_0x5c5963['frameStart'](),_0x5c5963['render'](),_0x5c5963['frameEnd'](),_0x5c5963['renderNext'+'Frame']=!(-0x11ad+-0x1ecf+-0x1*-0x307d),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](0x1*-0x25c9+0x337+0x2294)+'ms')),jd['timestamp']=ne(),jd['target']=_0x5c5963,_0x5c5963['fire']('frameend',jd)),_0x5c5963['_inFrameUp'+'date']=!(-0x2580+-0xeb*0x4+0x292d),_0x5c5963['_destroyRe'+'quested']&&_0x5c5963['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class $0{constructor(_0x1fb8d2,_0x29f79f,_0x3bbfbe){this['scene']=_0x1fb8d2,this['light']=_0x29f79f,this['store'](),_0x29f79f['numCascade'+'s']=0xbc3*-0x1+-0xa2b*0x2+0x201a,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x29f79f['castShadow'+'s']=_0x29f79f['bakeShadow'+'s']&&_0x3bbfbe['shadowsEna'+'bled']),_0x29f79f['type']!==oe&&(_0x29f79f['_node']['getWorldTr'+'ansform'](),_0x29f79f['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x4c7aac=this['light'];_0x4c7aac['mask']=this['mask'],_0x4c7aac['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x4c7aac['enabled']=this['enabled'],_0x4c7aac['intensity']=this['intensity'],_0x4c7aac['_node']['setLocalRo'+'tation'](this['rotation']),_0x4c7aac['numCascade'+'s']=this['numCascade'+'s'],_0x4c7aac['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x138f+0x24ce+-0x2f*0x133),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x43bd63){const _0x3913a8=this['light'];_0x3913a8['enabled']=!(0x1146+0x1a*0xce+0x3*-0xcbb),_0x3913a8['shadowMap']&&(_0x3913a8['shadowMap']['cached']&&_0x43bd63['add'](_0x3913a8,_0x3913a8['shadowMap']),_0x3913a8['shadowMap']=null);}}const Hl=new $();class mP extends $0{constructor(_0x2f578f,_0x4525cc){super(_0x2f578f['scene'],_0x4525cc,_0x2f578f['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:-0xa3*0x1+0x104c+-0xa7*0x18;}['prepareVir'+'tualLight'](_0x21dc32,_0x46604c){const _0x366935=this['light'];if(_0x366935['_node']['setLocalRo'+'tation'](this['rotation']),_0x21dc32>0xc02+-0x588*-0x2+-0x1712){const _0x1c9882=_0x366935['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x21dc32,_0x46604c),Hl['mulScalar'](_0x1c9882*(0x1276+0x1f47+0x11*-0x2ed+0.5)),_0x366935['_node']['rotateLoca'+'l'](Hl['x'],0x1*0x823+0x13*0x22+-0xaa9,Hl['y']);}_0x366935['_node']['getWorldTr'+'ansform']();const _0xa58c71=-0x1*-0x1b67+-0xad9*-0x1+-0x263e+0.20000000000000018,_0x294c9d=Math['pow'](this['intensity'],_0xa58c71);_0x366935['intensity']=Math['pow'](_0x294c9d/_0x46604c,(-0x1*0x63+0x213f+-0x20db)/_0xa58c71);}}const X_=new T();class j_ extends $0{constructor(_0x3216d8){const _0xb5de68=_0x3216d8['scene'],_0xad8541=new $e('AmbientLig'+'ht');_0xad8541['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x1d*-0xbb+-0xa9*-0x19+-0x12d8*0x2),'affectLightmapped':!(0x3*-0xbc4+-0x19c*0x8+-0x100f*-0x3),'bake':!(0x802+-0x194*0xc+0xaee),'bakeNumSamples':_0xb5de68['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0xd4*-0x6+0x19e8+0xd0*-0x26),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(0x2343+0x234+-0x2576)}),super(_0xb5de68,_0xad8541['light']['light'],_0x3216d8['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x57be20,_0x7bf65b){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x57be20,_0x7bf65b,0x1357+-0x373*0x1+-0xfe4,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(0x29*-0x7d+0x1933+-0x5*0x109))),this['light']['_node']['rotateLoca'+'l'](-0x2249+0x13f4+0x1*0xeaf,-0x1d3c+-0x1a5+-0x11*-0x1d1,0x1e33+-0xe8d+-0xfa6);const _0x4df5a6=0x2f5*0x1+0xe2*0xc+-0xd8b*0x1+0.20000000000000018,_0x3586bd=(0x15fc+0x10a7+-0x1d*0x155)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x239801=Math['pow'](_0x3586bd,_0x4df5a6);this['light']['intensity']=Math['pow'](_0x239801/_0x7bf65b,(0x374+-0x135b+-0x2*-0x7f4)/_0x4df5a6);}}class $l{constructor(_0x5e802f,_0x2fb373=null){this['node']=_0x5e802f,this['component']=_0x5e802f['render']||_0x5e802f['model'],_0x2fb373=_0x2fb373||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x2fb373,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=0x26a7+0x1*-0x119+-0x1*0x257f;class _P{constructor(_0x9bdee8){this['device']=_0x9bdee8,this['shaderDila'+'te']=Is(_0x9bdee8,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x9bdee8['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x9bdee8['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x1b82+-0x1667+0x31eb),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x826891){this['constantTe'+'xSource']['setValue'](_0x826891);}['prepare'](_0x5e32f7,_0x21c125){this['pixelOffse'+'t'][-0x9e8+0xfa+0x8ee]=(-0xa*0x116+0x8f3+0x1ea)/_0x5e32f7,this['pixelOffse'+'t'][-0x43+0x280*-0x9+0x16c4]=(0x1000+0xf4b+-0x1f4a)/_0x21c125,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x3d04ac,_0x38ca59,_0x2e0798){const _0x16c797=_0x2e0798?-0x114b+0x2663+-0x1518:0xba*-0x4+-0x18a*-0x17+-0x1*0x207d;if(!this['shaderDeno'+'ise'][_0x16c797]){const _0x501d2a='lmBilatera'+'lDeNoise-'+(_0x2e0798?'hdr':'rgbm'),_0x18ff9a=_0x2e0798?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x16c797]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x18ff9a+vo['bilateralD'+'eNoisePS'],_0x501d2a),this['sigmas']=new Float32Array(0x3b9*-0x8+0x1e79+0x19*-0x7),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0x2340+-0x8bc+-0x1a84]=_0x3d04ac,this['sigmas'][-0x15f*-0x1a+-0x1*0x1a51+-0x954]=_0x38ca59,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x3d04ac,_0x38ca59);}['getDenoise'](_0x5e4038){const _0x13bb05=_0x5e4038?-0xc*0x24b+-0x3da*0x3+0x683*0x6:0x1*0x1357+-0x20a5+0xd4f;return this['shaderDeno'+'ise'][_0x13bb05];}['getDilate'](_0x45a37f,_0x286665){const _0x6085e9=_0x286665?0x2*0x7fc+-0x68*-0x26+-0x1f68:0x35c*-0x1+0x107f+-0xd22;if(!this['shaderDila'+'te'][_0x6085e9]){const _0x133486='lmDilate-'+(_0x286665?'hdr':'rgbm'),_0x1e8cfc=_0x286665?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x6085e9]=Is(_0x45a37f,X['fullscreen'+'QuadVS'],_0x1e8cfc+vo['dilatePS'],_0x133486);}return this['shaderDila'+'te'][_0x6085e9];}['evaluateDe'+'noiseUnifo'+'rms'](_0x4e2ffa,_0x1f9482){function _0x1fb72b(_0x1fd694,_0x183124){return(-0x242b+0x1394+0x89*0x1f+0.39894)*Math['exp'](-(-0x4*-0x436+-0x26f1*-0x1+0x37c9*-0x1+0.5)*_0x1fd694*_0x1fd694/(_0x183124*_0x183124))/_0x183124;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x749105=this['kernel'],_0x2507f6=Math['floor']((Y_-(-0x83d+0x18fd+-0x10bf*0x1))/(-0x8c7*-0x4+0x1*0x95f+-0x2c79));for(let _0x4bce33=0x4*-0x77+0x83*0x1f+-0xe01;_0x4bce33<=_0x2507f6;++_0x4bce33){const _0x3a639b=_0x1fb72b(_0x4bce33,_0x4e2ffa);_0x749105[_0x2507f6+_0x4bce33]=_0x3a639b,_0x749105[_0x2507f6-_0x4bce33]=_0x3a639b;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x4f8225=(-0x1964+-0xe3*-0x5+0x14f6*0x1)/_0x1fb72b(0x1f*0x12e+0x1*0x1f02+0x64*-0xad,_0x1f9482);this['bZnorm']['setValue'](_0x4f8225);}}class gP extends ds{constructor(_0x535890,_0x18b325,_0x409833,_0x3d90bf,_0x4d95e5,_0x491cdf){super(_0x535890),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x18b325,this['camera']=_0x409833,this['worldClust'+'ers']=_0x3d90bf,this['receivers']=_0x4d95e5,this['lightArray']=_0x491cdf);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x139572=>{_0x139572['defaultUni'+'formBuffer']['destroy'](),_0x139572['destroy']();}),this['viewBindGr'+'oups']['length']=-0x58e+-0x2629+-0x1f*-0x169;}['execute'](){const _0x2367c4=this['device'];G['pushGpuMar'+'ker'](_0x2367c4,'Lightmappe'+'r');const {renderer:_0x11d7b1,camera:_0xb82d07,receivers:_0x3a16c8,renderTarget:_0x18c8ce,worldClusters:_0x311276,lightArray:_0x1551e8}=this;_0x11d7b1['renderForw'+'ardLayer'](_0xb82d07,_0x18c8ce,null,void(0x76*0x1d+0x1*-0x14a9+-0x1*-0x74b),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x3a16c8,'splitLights':_0x1551e8,'lightClusters':_0x311276}),G['popGpuMark'+'er'](_0x2367c4);}}const yP=-0x15e6+0xb10*-0x3+0x3f16,xP=0xc2*0x5+-0x5*-0x113+0x14f*-0x7,SP=-0xc89*-0x1+-0x14*0x14f+-0x184*-0x9,Wl=new T();class vP{constructor(_0x2057a6,_0x32ab32,_0x1142c9,_0x37621f,_0x475914){this['device']=_0x2057a6,this['root']=_0x32ab32,this['scene']=_0x1142c9,this['renderer']=_0x37621f,this['assets']=_0x475914,this['shadowMapC'+'ache']=_0x37621f['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x6ca*0x3+-0x1*-0x85f+-0x6*0x4ca),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x1a81f8;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x1a81f8=this['camera'])==null||_0x1a81f8['destroy'](),this['camera']=null;}['initBake'](_0x49b783){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x1*-0x1e83+0x85b+0x1628),this['lightmapFi'+'lters']=new _P(_0x49b783),this['constantBa'+'keDir']=_0x49b783['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x56cbe9=new ol();_0x56cbe9['clearColor']['set'](0x17b8+0x1*0xeff+-0x26b7,-0x1cb1+0x1278+0xa39,0x7*-0x35+0x13*0x31+-0x230,0x1047*-0x2+-0x1def+0x11*0x3ad),_0x56cbe9['clearColor'+'Buffer']=!(-0xea2*0x2+0x1cc5+0x7f),_0x56cbe9['clearDepth'+'Buffer']=!(-0x40f+0x15c6+-0x11b6),_0x56cbe9['clearStenc'+'ilBuffer']=!(-0x3*-0x17e+0x15e8+-0x1a61),_0x56cbe9['frustumCul'+'ling']=!(0x5d4+0x1e1f+-0x23f2),_0x56cbe9['projection']=ua,_0x56cbe9['aspectRati'+'o']=-0x1b0a+0x7ad+0x86*0x25,_0x56cbe9['node']=new De(),this['camera']=_0x56cbe9,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x12b87f=new L0(_0x49b783['supportsAr'+'eaLights'],_0x49b783['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x12b87f;const _0x2f1293=this['scene']['lighting'];_0x12b87f['shadowsEna'+'bled']=_0x2f1293['shadowsEna'+'bled'],_0x12b87f['shadowAtla'+'sResolutio'+'n']=_0x2f1293['shadowAtla'+'sResolutio'+'n'],_0x12b87f['cookiesEna'+'bled']=_0x2f1293['cookiesEna'+'bled'],_0x12b87f['cookieAtla'+'sResolutio'+'n']=_0x2f1293['cookieAtla'+'sResolutio'+'n'],_0x12b87f['areaLights'+'Enabled']=_0x2f1293['areaLights'+'Enabled'],_0x12b87f['cells']=new T(0x5d2+0x3a9*-0x5+0xc7e,0x2*0xf85+0x43a*0x1+-0x2341,0x23*-0x65+-0x32*0x2d+0x169c),_0x12b87f['maxLightsP'+'erCell']=-0xd7c+-0x1*0x248e+0x320e,this['worldClust'+'ers']=new zu(_0x49b783),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x3f0ce1){this['materials']=[];function _0x184fd0(_0x452edf){Si['decRef'](_0x452edf['colorBuffe'+'r']),_0x452edf['destroy']();}this['renderTarg'+'ets']['forEach'](_0x128c4a=>{_0x184fd0(_0x128c4a);}),this['renderTarg'+'ets']['clear'](),_0x3f0ce1['forEach'](_0xf20ee7=>{_0xf20ee7['renderTarg'+'ets']['forEach'](_0x3b9938=>{_0x184fd0(_0x3b9938);}),_0xf20ee7['renderTarg'+'ets']['length']=-0x16a4+-0x1259+-0x5db*-0x7;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x217d95,_0x358e66,_0x5eaaf1,_0x23eba0){const _0x3f00d6=new cs();_0x3f00d6['name']='lmMaterial'+'-pass:'+_0x5eaaf1+'-ambient:'+_0x23eba0,_0x3f00d6['chunks']['APIVersion']=hi;const _0xb8b227='#define\x20UV'+'1LAYOUT\x0a';if(_0x3f00d6['chunks']['transformV'+'S']=_0xb8b227+X['transformV'+'S'],_0x5eaaf1===xP){let _0x4e8812=vo['bakeLmEndP'+'S'];_0x23eba0?_0x4e8812='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x358e66['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](0x10eb+-0x1*-0xa39+-0x1b23)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x358e66['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0x89e*0x1+-0x1a7e+0x11e1)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x4e8812:_0x3f00d6['ambient']=new Y(0x197c+0x2393+-0xcb*0x4d,-0x1*0x19f6+-0x9d6+0x23cc,-0x16*-0x39+0xbb5+-0x109b),_0x3f00d6['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x3f00d6['chunks']['endPS']=_0x4e8812,_0x3f00d6['lightMap']=this['blackTex'];}else _0x3f00d6['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x3f00d6['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x3f00d6['chunks']['outputAlph'+'aPS']='\x0a',_0x3f00d6['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x3f00d6['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x3f00d6['cull']=mt,_0x3f00d6['forceUv1']=!(0x1d65+-0x2*-0x7b1+-0x2cc7),_0x3f00d6['update'](),_0x3f00d6;}['createMate'+'rials'](_0x911457,_0x5e6b9a,_0x117278){for(let _0x43896d=-0x6d9+0x7*-0x23b+0x1676;_0x43896d<_0x117278;_0x43896d++)this['passMateri'+'als'][_0x43896d]||(this['passMateri'+'als'][_0x43896d]=this['createMate'+'rialForPas'+'s'](_0x911457,_0x5e6b9a,_0x43896d,!(-0x1e91+0x85*0x2+0x1d88)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x911457,_0x5e6b9a,-0x3d+0x8b6+-0x879,!(-0xd3*-0x2e+0x1b43*0x1+0xd09*-0x5)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x4f12b7){return _0x4f12b7['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0xf4d+-0xb2f+0x1a7c),_0x4f12b7['litOptions']['separateAm'+'bient']=!(0x1ca0+-0x1*-0x570+0x6d0*-0x5),_0x4f12b7;});}['createText'+'ure'](_0x27eb4a,_0x1b23a5){return new he(this['device'],{'profilerHint':Oy,'width':_0x27eb4a,'height':_0x27eb4a,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x27e*0x7+0x4*-0x4aa+0xed*0x27),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x1b23a5});}['collectMod'+'els'](_0x1e8382,_0x56a97d,_0x4b2a29){var _0x5b85f0,_0x5576ef,_0x2aa4dc;if(!_0x1e8382['enabled'])return;let _0x562bff;if((_0x5b85f0=_0x1e8382['model'])!=null&&_0x5b85f0['model']&&((_0x5576ef=_0x1e8382['model'])!=null&&_0x5576ef['enabled'])&&(_0x4b2a29&&_0x4b2a29['push'](new $l(_0x1e8382)),_0x1e8382['model']['lightmappe'+'d']&&_0x56a97d&&(_0x562bff=_0x1e8382['model']['model']['meshInstan'+'ces'])),(_0x2aa4dc=_0x1e8382['render'])!=null&&_0x2aa4dc['enabled']&&(_0x4b2a29&&_0x4b2a29['push'](new $l(_0x1e8382)),_0x1e8382['render']['lightmappe'+'d']&&_0x56a97d&&(_0x562bff=_0x1e8382['render']['meshInstan'+'ces'])),_0x562bff){let _0x5c427e=!(-0x62b+0x110*-0x12+0x194b);for(let _0x29c6d5=0x507+-0x2121+0x1c1a;_0x29c6d5<_0x562bff['length'];_0x29c6d5++)if(!_0x562bff[_0x29c6d5]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x1e8382['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x5c427e=!(0xc*0x280+0xbc1+-0x29c0);break;}if(_0x5c427e){const _0x41cedc=[];for(let _0x230043=0x4*-0x30e+0x196f+0x11*-0xc7;_0x230043<_0x562bff['length'];_0x230043++){const _0x182d68=_0x562bff[_0x230043]['mesh'];this['_tempSet']['has'](_0x182d68)?_0x56a97d['push'](new $l(_0x1e8382,[_0x562bff[_0x230043]])):_0x41cedc['push'](_0x562bff[_0x230043]),this['_tempSet']['add'](_0x182d68);}this['_tempSet']['clear'](),_0x41cedc['length']>0x5*0x5f3+-0x23e5+0x626&&_0x56a97d['push'](new $l(_0x1e8382,_0x41cedc));}}for(let _0x58b412=-0x1ded+-0x1bf8+0x1*0x39e5;_0x58b412<_0x1e8382['_children']['length'];_0x58b412++)this['collectMod'+'els'](_0x1e8382['_children'][_0x58b412],_0x56a97d,_0x4b2a29);}['prepareSha'+'dowCasters'](_0x563909){const _0x287461=[];for(let _0x8046e5=-0x5*0x43f+0x3e8+0x1153;_0x8046e5<_0x563909['length'];_0x8046e5++){const _0x150b1c=_0x563909[_0x8046e5]['component'];if(_0x150b1c['castShadow'+'s']=_0x150b1c['castShadow'+'sLightmap'],_0x150b1c['castShadow'+'sLightmap']){const _0x29fda7=_0x563909[_0x8046e5]['meshInstan'+'ces'];for(let _0x1895d1=-0x1069*0x1+-0x35+0x109e;_0x1895d1<_0x29fda7['length'];_0x1895d1++)_0x29fda7[_0x1895d1]['visibleThi'+'sFrame']=!(0x159e+0x1f20+-0x34be),_0x287461['push'](_0x29fda7[_0x1895d1]);}}return _0x287461;}['updateTran'+'sforms'](_0x18339a){for(let _0x4fb914=0x11d8+-0xf5d*-0x1+-0x2135;_0x4fb914<_0x18339a['length'];_0x4fb914++){const _0x13adf9=_0x18339a[_0x4fb914]['meshInstan'+'ces'];for(let _0x2d7f96=-0x22c1+-0x507+0x9f2*0x4;_0x2d7f96<_0x13adf9['length'];_0x2d7f96++)_0x13adf9[_0x2d7f96]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x214182){let _0x2739b0;const _0x2e9fc7=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0xe74*0x1+0xf5b*0x1+-0xd7,_0x127208=Wl;let _0x2a6d37,_0x27a17f;_0x214182['model']?(_0x27a17f=_0x214182['model']['lightmapSi'+'zeMultipli'+'er'],_0x214182['model']['asset']?(_0x2739b0=this['assets']['get'](_0x214182['model']['asset'])['data'],_0x2739b0['area']&&(_0x2a6d37=_0x2739b0['area'])):_0x214182['model']['_area']&&(_0x2739b0=_0x214182['model'],_0x2739b0['_area']&&(_0x2a6d37=_0x2739b0['_area']))):_0x214182['render']&&(_0x27a17f=_0x214182['render']['lightmapSi'+'zeMultipli'+'er'],_0x214182['render']['type']!=='asset'&&_0x214182['render']['_area']&&(_0x2739b0=_0x214182['render'],_0x2739b0['_area']&&(_0x2a6d37=_0x2739b0['_area'])));const _0x5da252={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x2a6d37&&(_0x5da252['x']=_0x2a6d37['x'],_0x5da252['y']=_0x2a6d37['y'],_0x5da252['z']=_0x2a6d37['z'],_0x5da252['uv']=_0x2a6d37['uv']);const _0x45bb83=_0x27a17f||0x2*-0x26f+0x36d*0xb+-0x20d0;_0x5da252['x']*=_0x45bb83,_0x5da252['y']*=_0x45bb83,_0x5da252['z']*=_0x45bb83;const _0x3f5d66=_0x214182['render']||_0x214182['model'],_0x1bd9fe=this['computeNod'+'eBounds'](_0x3f5d66['meshInstan'+'ces']);_0x127208['copy'](_0x1bd9fe['halfExtent'+'s']);let _0x5932de=_0x5da252['x']*_0x127208['y']*_0x127208['z']+_0x5da252['y']*_0x127208['x']*_0x127208['z']+_0x5da252['z']*_0x127208['x']*_0x127208['y'];return _0x5932de/=_0x5da252['uv'],_0x5932de=Math['sqrt'](_0x5932de),Math['min'](N['nextPowerO'+'fTwo'](_0x5932de*_0x2e9fc7),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x2d0b1b,_0xfb2be9,_0x40b7d5,_0x1abb97){for(let _0x2f2e44=0x5e5+-0x222a*0x1+0x1c45*0x1;_0x2f2e44<_0x2d0b1b['length'];_0x2f2e44++){const _0x10b7cd=_0x2d0b1b[_0x2f2e44],_0x116d34=_0x10b7cd['meshInstan'+'ces'];for(let _0x37d88c=0x904+-0x23c*-0xd+-0x1308*0x2;_0x37d88c<_0x116d34['length'];_0x37d88c++){const _0xda495e=_0x116d34[_0x37d88c];if(_0xda495e['setLightma'+'pped'](_0xfb2be9),_0xfb2be9){_0x1abb97&&(_0xda495e['_shaderDef'+'s']|=_0x1abb97),_0xda495e['mask']=cr;for(let _0x499126=0x1d1+0xe3*-0x17+0x1294;_0x499126<_0x40b7d5;_0x499126++){const _0x130d82=_0x10b7cd['renderTarg'+'ets'][_0x499126]['colorBuffe'+'r'];_0x130d82['minFilter']=st,_0x130d82['magFilter']=st,_0xda495e['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x499126],_0x130d82);}}}}}['bake'](_0x5c5d56,_0x35d76b=ch){const _0x29482d=this['device'],_0x4b3d9d=ne();this['scene']['_updateSky'+'Mesh'](),_0x29482d['fire']('lightmappe'+'r:start',{'timestamp':_0x4b3d9d,'target':this}),this['stats']['renderPass'+'es']=-0xc1*0x5+-0x2c2*0xd+-0x93*-0x45,this['stats']['shadowMapT'+'ime']=-0x798+0x2282+-0x1aea,this['stats']['forwardTim'+'e']=-0x5d*-0x3+-0x5e*0x34+-0xb*-0x1a3;const _0xda887f=_0x29482d['_shaderSta'+'ts']['linked'],_0x4f2fe3=_0x29482d['_renderTar'+'getCreatio'+'nTime'],_0x435b6e=_0x29482d['_shaderSta'+'ts']['compileTim'+'e'],_0x19bbf3=[],_0xadf5f7=[];if(_0x5c5d56){for(let _0x1804e9=-0x1*0x1a9e+0x42d*0x1+0x77b*0x3;_0x1804e9<_0x5c5d56['length'];_0x1804e9++)this['collectMod'+'els'](_0x5c5d56[_0x1804e9],_0x19bbf3,null);this['collectMod'+'els'](this['root'],null,_0xadf5f7);}else this['collectMod'+'els'](this['root'],_0x19bbf3,_0xadf5f7);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x19bbf3['length']>0x8f*-0x19+0x1*-0x1e0a+0x2c01){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x14df00=_0x35d76b===ch?-0xc36+0xd26+-0xee:0x1f0d+-0x1*-0xa1c+0x1*-0x2928;this['setLightma'+'pping'](_0x19bbf3,!(0xfa+-0x2*0xb7b+-0x15fd*-0x1),_0x14df00),this['initBake'](_0x29482d),this['bakeIntern'+'al'](_0x14df00,_0x19bbf3,_0xadf5f7);let _0x18219f=Fu;_0x35d76b===ch&&(_0x18219f|=y0),this['scene']['ambientBak'+'e']&&(_0x18219f|=x0),this['setLightma'+'pping'](_0x19bbf3,!(0x8*0x8e+0x7*0xb7+-0x1*0x971),_0x14df00,_0x18219f),this['finishBake'](_0x19bbf3);}G['popGpuMark'+'er'](this['device']);const _0x494c77=ne();this['stats']['totalRende'+'rTime']=_0x494c77-_0x4b3d9d,this['stats']['shadersLin'+'ked']=_0x29482d['_shaderSta'+'ts']['linked']-_0xda887f,this['stats']['compileTim'+'e']=_0x29482d['_shaderSta'+'ts']['compileTim'+'e']-_0x435b6e,this['stats']['fboTime']=_0x29482d['_renderTar'+'getCreatio'+'nTime']-_0x4f2fe3,this['stats']['lightmapCo'+'unt']=_0x19bbf3['length'],_0x29482d['fire']('lightmappe'+'r:end',{'timestamp':_0x494c77,'target':this});}['allocateTe'+'xtures'](_0x430a9d,_0x20f14){for(let _0x23eb81=-0x2287+-0x3a+-0x4f7*-0x7;_0x23eb81<_0x430a9d['length'];_0x23eb81++){const _0x15f9b8=_0x430a9d[_0x23eb81],_0x11aaf9=this['calculateL'+'ightmapSiz'+'e'](_0x15f9b8['node']);for(let _0x40c788=0x72*-0x38+0x1633+0x1*0x2bd;_0x40c788<_0x20f14;_0x40c788++){const _0x45b16f=this['createText'+'ure'](_0x11aaf9,'lightmappe'+'r_lightmap'+'_'+_0x23eb81);Si['incRef'](_0x45b16f),_0x15f9b8['renderTarg'+'ets'][_0x40c788]=new pt({'colorBuffer':_0x45b16f,'depth':!(-0x22fc+-0x8f2*0x4+0x46c5)});}if(!this['renderTarg'+'ets']['has'](_0x11aaf9)){const _0x5dad77=this['createText'+'ure'](_0x11aaf9,'lightmappe'+'r_temp_lig'+'htmap_'+_0x11aaf9);Si['incRef'](_0x5dad77),this['renderTarg'+'ets']['set'](_0x11aaf9,new pt({'colorBuffer':_0x5dad77,'depth':!(0x2*-0x13b+-0x8*0x446+0x24a7)}));}}}['prepareLig'+'htsToBake'](_0x5241db,_0x48aa63){if(this['scene']['ambientBak'+'e']){const _0x5e47da=new j_(this);_0x48aa63['push'](_0x5e47da);}const _0x42a378=this['renderer']['lights'];for(let _0x3e0363=-0x1670+0x154a+0x126;_0x3e0363<_0x42a378['length'];_0x3e0363++){const _0x507e23=_0x42a378[_0x3e0363],_0x4a6ad6=new mP(this,_0x507e23);_0x5241db['push'](_0x4a6ad6),_0x507e23['enabled']&&(_0x507e23['mask']&rr)!==-0x1bdf*-0x1+0x773+-0x2352&&(_0x507e23['mask']=rr|cr|hs,_0x507e23['shadowUpda'+'teMode']=_0x507e23['type']===oe?Pp:cn,_0x48aa63['push'](_0x4a6ad6));}_0x48aa63['sort']();}['restoreLig'+'hts'](_0x3e54fa){for(let _0x44f590=-0x7b*0x21+0x1a5*0xb+-0x11e*0x2;_0x44f590<_0x3e54fa['length'];_0x44f590++)_0x3e54fa[_0x44f590]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x1a9+0xb*0xe3+-0x128*0x7,0x4*0x5fc+0x3d5+-0x1bc5*0x1,-0x446+0x688+-0x2*0x121),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x166dca){const _0x2d2204=new _e();if(_0x166dca['length']>-0x1*-0xad2+-0xfd*-0x14+0x519*-0x6){_0x2d2204['copy'](_0x166dca[-0x798+0x77*0x13+0x1*-0x13d]['aabb']);for(let _0x4c7cbe=0x7f5*0x3+0x5b7+-0x1d95;_0x4c7cbe<_0x166dca['length'];_0x4c7cbe++)_0x2d2204['add'](_0x166dca[_0x4c7cbe]['aabb']);}return _0x2d2204;}['computeNod'+'esBounds'](_0x2a845a){for(let _0x5c294b=0x1199+0xc50+-0x1de9;_0x5c294b<_0x2a845a['length'];_0x5c294b++){const _0x42d4f1=_0x2a845a[_0x5c294b]['meshInstan'+'ces'];_0x2a845a[_0x5c294b]['bounds']=this['computeNod'+'eBounds'](_0x42d4f1);}}['computeBou'+'nds'](_0x3ecc6d){const _0x4a889c=new _e();for(let _0x5b3650=-0x1fd2+0x7b2+-0xc10*-0x2;_0x5b3650<_0x3ecc6d['length'];_0x5b3650++){_0x4a889c['copy'](_0x3ecc6d[0x133e+-0x894+-0xaaa]['aabb']);for(let _0x37101d=-0x1134+-0x130d*0x1+-0x6*-0x60b;_0x37101d<_0x3ecc6d['length'];_0x37101d++)_0x4a889c['add'](_0x3ecc6d[_0x37101d]['aabb']);}return _0x4a889c;}['backupMate'+'rials'](_0x41e98f){for(let _0x19e6a1=0x6*-0x2ba+-0x1*0x187a+0x28d6;_0x19e6a1<_0x41e98f['length'];_0x19e6a1++)this['materials'][_0x19e6a1]=_0x41e98f[_0x19e6a1]['material'];}['restoreMat'+'erials'](_0x178f02){for(let _0x36b575=-0x1fca*0x1+-0x3*0xbd2+0x10*0x434;_0x36b575<_0x178f02['length'];_0x36b575++)_0x178f02[_0x36b575]['material']=this['materials'][_0x36b575];}['lightCamer'+'aPrepare'](_0x11e20a,_0x5c4fdf){const _0x511d8a=_0x5c4fdf['light'];let _0x2753cf;return _0x511d8a['type']===Re&&(_0x2753cf=_0x511d8a['getRenderD'+'ata'](null,0x1648+-0xd66+0x471*-0x2)['shadowCame'+'ra'],_0x2753cf['_node']['setPositio'+'n'](_0x511d8a['_node']['getPositio'+'n']()),_0x2753cf['_node']['setRotatio'+'n'](_0x511d8a['_node']['getRotatio'+'n']()),_0x2753cf['_node']['rotateLoca'+'l'](-(-0x1bcf+-0x6dc+0x2305),-0x68b*0x2+0xe1+0xc35,0x203*0x6+0x3*-0x1f7+-0x62d),_0x2753cf['projection']=Gs,_0x2753cf['nearClip']=_0x511d8a['attenuatio'+'nEnd']/(0x1ee6+0x2*-0x423+-0x12b8),_0x2753cf['farClip']=_0x511d8a['attenuatio'+'nEnd'],_0x2753cf['aspectRati'+'o']=0x157a+-0x4a8+-0x10d1,_0x2753cf['fov']=_0x511d8a['_outerCone'+'Angle']*(0x1fd7+0x2567+0xe*-0x4f2),this['renderer']['updateCame'+'raFrustum'](_0x2753cf)),_0x2753cf;}['lightCamer'+'aPrepareAn'+'dCull'](_0x5dc18f,_0x211620,_0x566560,_0x22cd6e){const _0x292787=_0x5dc18f['light'];let _0x3312f4=!(0x1*0x1150+0x74e+-0x189e);if(_0x292787['type']===oe){Wl['copy'](_0x22cd6e['center']),Wl['y']+=_0x22cd6e['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](Wl),this['camera']['node']['setEulerAn'+'gles'](-(0x1*0xb5+-0x1*-0x2ff+-0x35a),-0x5*0x481+-0x101*0x10+0x2695,-0x1f5a+0x1dd*-0x13+-0x1*-0x42c1),this['camera']['nearClip']=0xfa+-0xc42+0xb48,this['camera']['farClip']=_0x22cd6e['halfExtent'+'s']['y']*(-0x25fa+0xdc8+0x2*0xc1a);const _0x9652=Math['max'](_0x22cd6e['halfExtent'+'s']['x'],_0x22cd6e['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x9652;}else _0x5dc18f['lightBound'+'s']['intersects'](_0x211620['bounds'])||(_0x3312f4=!(0x6*0x6e+-0x240e+-0x1*-0x217b));if(_0x292787['type']===Re){let _0x136fd4=!(-0x59*-0x1+-0x1a43+0x19eb);const _0xaaba28=_0x211620['meshInstan'+'ces'];for(let _0x4a5b20=-0x20ef+-0x2483+-0x4572*-0x1;_0x4a5b20<_0xaaba28['length'];_0x4a5b20++)if(_0xaaba28[_0x4a5b20]['_isVisible'](_0x566560)){_0x136fd4=!(0x680+0x1*0x2248+-0x1464*0x2);break;}_0x136fd4||(_0x3312f4=!(0x2ab*-0x6+0x16a7+-0x6a4));}return _0x3312f4;}['setupLight'+'Array'](_0x24c4e6,_0x33ab6a){_0x24c4e6[oe]['length']=0xb*0x2ef+-0x2*-0x109f+-0x4183,_0x24c4e6[Pe]['length']=0x1*0x1d41+0x15c1+-0x3302,_0x24c4e6[Re]['length']=-0x72b*0x1+-0x1d41+0x246c,_0x24c4e6[_0x33ab6a['type']][-0x3*-0x653+-0x572*-0x6+0x3*-0x1137]=_0x33ab6a,_0x33ab6a['visibleThi'+'sFrame']=!(0x1a9c+0x1ffd+-0x3a99);}['renderShad'+'owMap'](_0x5adae2,_0x25b0f9,_0x19a603,_0x1bf317){const _0x1e0f2c=_0x1bf317['light'],_0x2b9537=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x2a3653=_0x1e0f2c['castShadow'+'s']&&(!_0x2b9537||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x25b0f9&&_0x2a3653){if(!_0x1e0f2c['shadowMap']&&!_0x2b9537&&(_0x1e0f2c['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x1e0f2c)),_0x1e0f2c['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x1e0f2c,_0x5adae2,this['camera'],_0x19a603);const _0x11386c=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x1e0f2c,this['camera']);_0x11386c==null||_0x11386c['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x2227*0x1+0x451*-0x9+-0x40*-0x124);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x1e0f2c,_0x5adae2,_0x19a603),this['renderer']['shadowRend'+'erer']['render'](_0x1e0f2c,this['camera'],!(-0x429*-0x6+-0x1*-0x1529+-0x2*0x170f));}}return!(0x1*0x1afb+0x3d*0x37+0x140b*-0x2);}['postproces'+'sTextures'](_0x328b46,_0x4cb577,_0x5602a6){const _0x4f2185=this['lightmapFi'+'lters']['getDilate'](_0x328b46,this['bakeHDR']);let _0x54f535;const _0x23268c=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x23268c&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x54f535=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x328b46['setBlendSt'+'ate'](_t['NOBLEND']),_0x328b46['setDepthSt'+'ate'](as['NODEPTH']),_0x328b46['setStencil'+'State'](null,null);for(let _0x33a402=0x1*-0x1a3+-0x1e85*-0x1+0x1*-0x1ce2;_0x33a402<_0x4cb577['length'];_0x33a402++){const _0x1bd54c=_0x4cb577[_0x33a402];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x33a402);for(let _0x4c7ca3=-0x119+-0x7+0x120;_0x4c7ca3<_0x5602a6;_0x4c7ca3++){const _0x5ebca8=_0x1bd54c['renderTarg'+'ets'][_0x4c7ca3],_0x38bc5f=_0x5ebca8['colorBuffe'+'r'],_0x141be0=this['renderTarg'+'ets']['get'](_0x38bc5f['width']),_0x11a1cf=_0x141be0['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x38bc5f['width'],_0x38bc5f['height']);for(let _0x168a6b=-0x9*-0x26b+-0x5f0+-0xfd3;_0x168a6b<0x1*0x11b+-0x106e*0x2+0x1fc2;_0x168a6b++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x38bc5f),dn(_0x328b46,_0x141be0,_0x23268c&&_0x4c7ca3===-0x2*-0xcd4+0x1f06+-0x38ae&&_0x168a6b===-0x904+-0x11c7+0x13*0x169?_0x54f535:_0x4f2185),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x11a1cf),dn(_0x328b46,_0x5ebca8,_0x4f2185);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x426cd5,_0xbb1519,_0x1675dc){const _0x2fea66=this['scene'],_0x5aa5e6=_0x2fea66['layers'],_0x593f3a=this['device'],_0x2ce1eb=_0x2fea66['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x593f3a,_0x2fea66,_0x426cd5),this['setupScene'](),_0x5aa5e6['_update'](),this['computeNod'+'esBounds'](_0xbb1519),this['allocateTe'+'xtures'](_0xbb1519,_0x426cd5),this['renderer']['collectLig'+'hts'](_0x5aa5e6);const _0x49efef=[],_0x47350a=[];this['prepareLig'+'htsToBake'](_0x49efef,_0x47350a),this['updateTran'+'sforms'](_0x1675dc);const _0x2ea46e=this['prepareSha'+'dowCasters'](_0x1675dc);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x2ea46e),this['renderer']['gpuUpdate'](_0x2ea46e);const _0x495ac8=this['computeBou'+'nds'](_0x2ea46e);let _0x331562,_0x46b7a1,_0x1da58e,_0x3ce10f;for(_0x331562=0x2179+0x13c8+-0x3541;_0x331562<_0xbb1519['length'];_0x331562++)for(_0x1da58e=_0xbb1519[_0x331562]['meshInstan'+'ces'],_0x46b7a1=-0x18bc+-0x1a91+0x334d;_0x46b7a1<_0x1da58e['length'];_0x46b7a1++)_0x3ce10f=_0x1da58e[_0x46b7a1],_0x3ce10f['setLightma'+'pped'](!(0x266*0xd+0x6d2*0x1+0x1*-0x25ff)),_0x3ce10f['mask']=rr,_0x3ce10f['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0x3d6+0x80c+0x1*-0xbe2],this['blackTex']),_0x3ce10f['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0x67b+0xa0c*-0x3+0x24a0],this['blackTex']);for(_0x46b7a1=-0x29*0x18+-0xb29*0x1+-0xf01*-0x1;_0x46b7a1<_0x47350a['length'];_0x46b7a1++)_0x47350a[_0x46b7a1]['light']['enabled']=!(-0x15d2+0x5*0x435+0xca*0x1);const _0x3bc7a3=[[],[],[]];let _0x4182b5,_0x39ddc5,_0x150a2c=!(-0x124f+0xcfa+0x556);for(_0x331562=-0x231d+0x978+0x19a5;_0x331562<_0x47350a['length'];_0x331562++){const _0xdaa7ff=_0x47350a[_0x331562],_0x527e00=_0xdaa7ff instanceof j_,_0x37df0c=_0xdaa7ff['light']['type']===oe;let _0x4e4900=_0xdaa7ff['numVirtual'+'Lights'];_0x426cd5>0x1c81+0x32b+-0x79*0x43&&_0x4e4900>-0x133+-0x2d3+0x407&&_0xdaa7ff['light']['bakeDir']&&(_0x4e4900=-0xace+0x60*-0x25+0x18af,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0xbe21d0=0x147*0x1+-0x4*0x9c4+0x25c9;_0xbe21d0<_0x4e4900;_0xbe21d0++){G['pushGpuMar'+'ker'](_0x593f3a,'Light:'+_0xdaa7ff['light']['_node']['name']+':'+_0xbe21d0),_0x4e4900>0x1d1+-0x14*-0xa0+-0x1ca*0x8&&_0xdaa7ff['prepareVir'+'tualLight'](_0xbe21d0,_0x4e4900),_0xdaa7ff['startBake']();let _0x5474f8=!(-0x1cde+-0x25+0x1d04);const _0x119100=this['lightCamer'+'aPrepare'](_0x593f3a,_0xdaa7ff);for(_0x39ddc5=0x21f0+-0xc55+-0x1*0x159b;_0x39ddc5<_0xbb1519['length'];_0x39ddc5++){const _0x181d14=_0xbb1519[_0x39ddc5];if(_0x1da58e=_0x181d14['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0xdaa7ff,_0x181d14,_0x119100,_0x495ac8))continue;this['setupLight'+'Array'](_0x3bc7a3,_0xdaa7ff['light']);const _0x2a1a03=_0x37df0c?[]:[_0xdaa7ff['light']];for(_0x2ce1eb&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x2a1a03,this['lightingPa'+'rams']),_0x5474f8=this['renderShad'+'owMap'](_0x5aa5e6,_0x5474f8,_0x2ea46e,_0xdaa7ff),_0x2ce1eb&&this['worldClust'+'ers']['update'](_0x2a1a03,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x1da58e),_0x4182b5=-0x22a5+-0x71*-0x9+-0x1a*-0x12e;_0x4182b5<_0x426cd5&&!(_0x4182b5>-0xd43+-0x38+0x77*0x1d&&_0xbe21d0>0x5*-0x485+0x13bf+0x2da||_0x527e00&&_0x4182b5>-0x722+-0x1*0x2342+0x1532*0x2);_0x4182b5++){G['pushGpuMar'+'ker'](_0x593f3a,'LMPass:'+_0x4182b5);const _0x1ef6b4=_0x181d14['renderTarg'+'ets'][_0x4182b5],_0x4fb6e9=_0x181d14['renderTarg'+'ets'][_0x4182b5]['colorBuffe'+'r']['width'],_0x288c89=this['renderTarg'+'ets']['get'](_0x4fb6e9),_0x4a1c7e=_0x288c89['colorBuffe'+'r'];_0x4182b5===0x35d*0x1+0x60a*0x3+-0x157b?_0x150a2c=_0x2fea66['updateShad'+'ers']:_0x150a2c&&(_0x2fea66['updateShad'+'ers']=!(0x1*-0x1253+-0x8c3+-0x1b16*-0x1));let _0x24f00d=this['passMateri'+'als'][_0x4182b5];for(_0x527e00&&_0xbe21d0+(0x6*0x28e+-0x17e*0x2+-0x27*0x51)===_0x4e4900&&_0x4182b5===-0x117d+-0x1215+0x1d*0x13a&&(_0x24f00d=this['ambientAOM'+'aterial']),_0x46b7a1=0x1d05+-0x1*0xf75+-0xd90;_0x46b7a1<_0x1da58e['length'];_0x46b7a1++)_0x1da58e[_0x46b7a1]['material']=_0x24f00d;if(this['renderer']['updateShad'+'ers'](_0x1da58e),_0x4182b5===SP&&this['constantBa'+'keDir']['setValue'](_0xdaa7ff['light']['bakeDir']?-0xbe2+0x1*-0x23ce+0x1d*0x1a5:-0x2293+0x1336+-0xcf*-0x13),_0x593f3a['isWebGPU']){const _0x8d9528=new gP(_0x593f3a,this['renderer'],this['camera'],_0x2ce1eb?this['worldClust'+'ers']:null,_0x1da58e,_0x3bc7a3);_0x8d9528['init'](_0x288c89),_0x8d9528['render'](),_0x8d9528['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x288c89,!(0x35*-0x3b+-0x1*0x1622+0x2259)),_0x2ce1eb&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x23f9+0x15e5*-0x1+0x39de,this['renderer']['_shadowMap'+'Time']=-0x12dc+0x150c+-0x8*0x46,this['renderer']['renderForw'+'ard'](this['camera'],_0x288c89,_0x1da58e,_0x3bc7a3,gn),_0x593f3a['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x181d14['renderTarg'+'ets'][_0x4182b5]=_0x288c89,this['renderTarg'+'ets']['set'](_0x4fb6e9,_0x1ef6b4),_0x46b7a1=0x12ae*-0x1+-0x6e2*0x2+-0x2*-0x1039;_0x46b7a1<_0x1da58e['length'];_0x46b7a1++)_0x3ce10f=_0x1da58e[_0x46b7a1],_0x3ce10f['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x4182b5],_0x4a1c7e),_0x3ce10f['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x593f3a);}this['restoreMat'+'erials'](_0x1da58e);}_0xdaa7ff['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x593f3a);}}for(this['postproces'+'sTextures'](_0x593f3a,_0xbb1519,_0x426cd5),_0x39ddc5=-0x103d+-0x2d7+0x1314;_0x39ddc5<_0x1675dc['length'];_0x39ddc5++)_0x1675dc[_0x39ddc5]['restore']();this['restoreLig'+'hts'](_0x49efef),this['restoreSce'+'ne'](),_0x2ce1eb||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x5ad981,_0x161a58){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x5ad981,this['entity']=_0x161a58,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x1f9f16,_0x2e4d7c,_0x2e7dd6){this['fire']('set_'+_0x1f9f16,_0x1f9f16,_0x2e4d7c,_0x2e7dd6);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x339592,_0x147b7c){_0x147b7c['forEach'](_0x17855b=>{const _0x2a5084=typeof _0x17855b=='object'?_0x17855b['name']:_0x17855b;Object['defineProp'+'erty'](_0x339592,_0x2a5084,{'get':function(){return this['data'][_0x2a5084];},'set':function(_0xd4eefc){const _0x40000e=this['data'],_0x510bfe=_0x40000e[_0x2a5084];_0x40000e[_0x2a5084]=_0xd4eefc,this['fire']('set',_0x2a5084,_0x510bfe,_0xd4eefc);},'configurable':!(0x659+-0x3c9+-0x290)});}),_0x339592['_accessors'+'Built']=!(-0xf0*-0x10+-0x3c*-0x90+-0x30c0);}['buildAcces'+'sors'](_0x224404){oc['_buildAcce'+'ssors'](this,_0x224404);}['onSetEnabl'+'ed'](_0x5ea36a,_0x5c4df9,_0x3f1827){_0x5c4df9!==_0x3f1827&&this['entity']['enabled']&&(_0x3f1827?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x22f813=this['system']['store'][this['entity']['getGuid']()];return _0x22f813?_0x22f813['data']:null;}set['enabled'](_0x1da0a9){}get['enabled'](){return!(-0x265f+-0xd5*0x29+0x4*0x121f);}};c(oc,'order',-0xecf+0x39c+0xb33);let ue=oc;class Xe extends ce{constructor(_0x22a201){super(),this['app']=_0x22a201,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x349609,_0x94ef93={}){const _0x54cb54=new this['ComponentT'+'ype'](this,_0x349609),_0x56b79a=new this['DataType']();return this['store'][_0x349609['getGuid']()]={'entity':_0x349609,'data':_0x56b79a},_0x349609[this['id']]=_0x54cb54,_0x349609['c'][this['id']]=_0x54cb54,this['initialize'+'ComponentD'+'ata'](_0x54cb54,_0x94ef93,[]),this['fire']('add',_0x349609,_0x54cb54),_0x54cb54;}['removeComp'+'onent'](_0x5b0657){const _0x57ebe0=this['id'],_0x488877=this['store'][_0x5b0657['getGuid']()],_0x4b3bbe=_0x5b0657['c'][_0x57ebe0];_0x4b3bbe['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x5b0657,_0x4b3bbe),delete this['store'][_0x5b0657['getGuid']()],_0x5b0657[_0x57ebe0]=void(-0x2448+0x5da+0x1e6e),delete _0x5b0657['c'][_0x57ebe0],this['fire']('remove',_0x5b0657,_0x488877['data']);}['cloneCompo'+'nent'](_0x10fab8,_0x4d6c64){const _0x4e7157=this['store'][_0x10fab8['getGuid']()];return this['addCompone'+'nt'](_0x4d6c64,_0x4e7157['data']);}['initialize'+'ComponentD'+'ata'](_0x278430,_0x39e80e={},_0x12a4ac){for(let _0x52e6a8=-0x1e67*0x1+-0x2009+0x3e70,_0x489bce=_0x12a4ac['length'];_0x52e6a8<_0x489bce;_0x52e6a8++){const _0x5196a8=_0x12a4ac[_0x52e6a8];let _0x13d03c,_0x2d4896;typeof _0x5196a8=='object'?(_0x13d03c=_0x5196a8['name'],_0x2d4896=_0x5196a8['type']):(_0x13d03c=_0x5196a8,_0x2d4896=void(0x7a7*0x4+-0x21*-0x5b+-0x3*0xe1d));let _0x58cb9a=_0x39e80e[_0x13d03c];_0x58cb9a!==void(0x2634+-0x633+-0xaab*0x3)?(_0x2d4896!==void(-0x290*0xb+0xaea+-0x3*-0x5c2)&&(_0x58cb9a=bP(_0x58cb9a,_0x2d4896)),_0x278430[_0x13d03c]=_0x58cb9a):_0x278430[_0x13d03c]=_0x278430['data'][_0x13d03c];}_0x278430['enabled']&&_0x278430['entity']['enabled']&&_0x278430['onEnable']();}['getPropert'+'iesOfType'](_0x381ee9){const _0x567e50=[];return(this['schema']||[])['forEach'](_0x2e2443=>{_0x2e2443&&typeof _0x2e2443=='object'&&_0x2e2443['type']===_0x381ee9&&_0x567e50['push'](_0x2e2443);}),_0x567e50;}['destroy'](){this['off']();}}function bP(_0x5c64cb,_0x4f1304){if(!_0x5c64cb)return _0x5c64cb;switch(_0x4f1304){case'rgb':return _0x5c64cb instanceof Y?_0x5c64cb['clone']():new Y(_0x5c64cb[-0x2e*-0x7f+-0x25e2*0x1+-0x2*-0x788],_0x5c64cb[0x10fb+0xfdd+-0x4b1*0x7],_0x5c64cb[0xf*-0x13e+-0x10f5+0x2399]);case'rgba':return _0x5c64cb instanceof Y?_0x5c64cb['clone']():new Y(_0x5c64cb[-0x171d+-0x92f+0xd4*0x27],_0x5c64cb[0x54+0x20ac+-0x20ff],_0x5c64cb[0x17b7+0x21d5+-0x5c1*0xa],_0x5c64cb[-0x1fcc+0x2ea*-0x9+0x3a09]);case'vec2':return _0x5c64cb instanceof $?_0x5c64cb['clone']():new $(_0x5c64cb[0x16a2+0x1bf1+0xb*-0x499],_0x5c64cb[-0x2*-0x6df+-0x7*-0x3df+0x1*-0x28d6]);case'vec3':return _0x5c64cb instanceof T?_0x5c64cb['clone']():new T(_0x5c64cb[0x7ab*0x1+-0x1*0xf29+0x77e],_0x5c64cb[-0x26d0+0x16ab+0x1026],_0x5c64cb[0x4*0x4f+0x2493+-0x25cd]);case'vec4':return _0x5c64cb instanceof Q?_0x5c64cb['clone']():new Q(_0x5c64cb[0x2*-0x81c+0x258c*-0x1+0x3*0x11ec],_0x5c64cb[0x8c8+0x1ba1+-0x2468],_0x5c64cb[0x1*0xf7f+-0x3bf+-0xbbe],_0x5c64cb[-0x1436+0x18c7+0x16*-0x35]);case'boolean':case'number':case'string':return _0x5c64cb;case'entity':return _0x5c64cb;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x4f1304);}}const W0=0x7*-0x326+-0x1442+-0x1526*-0x2,ju=0x1d5d+0x211d+-0x3e79,Yu=-0x1*0x14b5+0x2*0x3b9+-0x1*-0xd45;class wP{constructor(){this['_left']=(-0x1980+0x150a+0x1*0x477)/(0x6*0x208+0x5c9*-0x5+0x10bd),this['_right']=-(-0x1*-0x257+-0x202c+0x1dd6)/(0x10c*-0x1d+0x6ae+0x17ae),this['_len']=-0x2ab*0x8+-0x1924+0x6a4*0x7,this['_recip']=-0x308+0x24b2+0x116*-0x1f,this['_p0']=-0x3*0xca4+0xa00+0x1bec,this['_p1']=0xae2+-0x22e8+0x1806,this['_t']=-0x10c7+0x120e+0x147*-0x1,this['_hermite']={'valid':!(0x4bb+-0x449*0x5+-0x11d*-0xf),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x26fc2c,_0x377e40){if(_0x26fc2c<this['_left']||_0x26fc2c>=this['_right']){const _0x3b1471=_0x377e40['length'];if(!_0x3b1471)this['_left']=-(0x1685+-0x165c+0x1*-0x28)/(-0x10*-0x10f+-0xeaf+-0x241),this['_right']=(-0xd1*-0x28+-0x1675*-0x1+-0x371c)/(0x1171+-0x623*0x1+0x1*-0xb4e),this['_len']=0x4*-0xe+-0x1410+0x1448,this['_recip']=0x195a+-0x11a5*-0x1+-0x2aff,this['_p0']=this['_p1']=-0x2c6*0x1+-0x10d7+-0x139d*-0x1;else{if(_0x26fc2c<_0x377e40[-0x1*0xea8+-0x202a+0x1a*0x1cd])this['_left']=-(-0x150+-0xa9e+0x41*0x2f)/(-0x38e*0x8+-0x25a2+-0x1*-0x4212),this['_right']=_0x377e40[-0x232a+0x121c+0x25*0x76],this['_len']=-0xf3*0x21+-0x2029+0x3f7c,this['_recip']=-0x1531*0x1+0x383*0xb+-0x9*0x1f0,this['_p0']=this['_p1']=-0x86c+-0x1b21+0x1*0x238d;else{if(_0x26fc2c>=_0x377e40[_0x3b1471-(0xda2+0x18f4+-0x2695)])this['_left']=_0x377e40[_0x3b1471-(-0xc*0x17a+-0x1*-0x1d6b+-0xbb2)],this['_right']=(-0x1*0x1676+-0x1aaa+-0x1*-0x3121)/(0x1*0x19af+0x13d+-0x1aec),this['_len']=0x34b+0xb1*0x14+0x111f*-0x1,this['_recip']=0x1281+0x2e*-0xc1+0x29*0x65,this['_p0']=this['_p1']=_0x3b1471-(-0x534+0x9b6*-0x2+0x18a1);else{const _0x4bf39f=this['_findKey'](_0x26fc2c,_0x377e40);this['_left']=_0x377e40[_0x4bf39f],this['_right']=_0x377e40[_0x4bf39f+(0x23a2+0x1*0x91e+-0x2cbf)],this['_len']=this['_right']-this['_left'];const _0x40e20=(-0x1*-0x1869+0xb87+-0x23ef*0x1)/this['_len'];this['_recip']=isFinite(_0x40e20)?_0x40e20:0x2400+0x4ed+-0x28ed,this['_p0']=_0x4bf39f,this['_p1']=_0x4bf39f+(0x352+-0xbee+0x89d);}}}}this['_t']=this['_recip']===-0x13e5*0x1+0x25*-0xf1+0x36ba?-0x21f6+0x1af0+0x706:(_0x26fc2c-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x1557+-0x9*-0x455+-0x1*0x3c53);}['_findKey'](_0x57c160,_0x3635e2){let _0xbca752=-0x45*-0x2f+0x2461+-0x310c;for(;_0x57c160>=_0x3635e2[_0xbca752+(0xe67+0x152b+-0x2391)];)_0xbca752++;return _0xbca752;}['eval'](_0x423e88,_0x39c59d,_0x2f0b8c){const _0x5480a0=_0x2f0b8c['_data'],_0x2ecb8d=_0x2f0b8c['_component'+'s'],_0x4565d3=this['_p0']*_0x2ecb8d;if(_0x39c59d===W0){for(let _0x81c603=-0x219+0x1a6b+0x1852*-0x1;_0x81c603<_0x2ecb8d;++_0x81c603)_0x423e88[_0x81c603]=_0x5480a0[_0x4565d3+_0x81c603];}else{const _0x5cb151=this['_t'],_0x3f3ba2=this['_p1']*_0x2ecb8d;switch(_0x39c59d){case ju:for(let _0x3cd136=0x17d3+0xeb8+-0x268b;_0x3cd136<_0x2ecb8d;++_0x3cd136)_0x423e88[_0x3cd136]=N['lerp'](_0x5480a0[_0x4565d3+_0x3cd136],_0x5480a0[_0x3f3ba2+_0x3cd136],_0x5cb151);break;case Yu:{const _0x42dea9=this['_hermite'];if(!_0x42dea9['valid']){const _0x22495e=_0x5cb151*_0x5cb151,_0x3088f4=_0x5cb151+_0x5cb151,_0xf3f8be=0x2b1*0x1+-0x2b0*0xc+-0x10*-0x1d9-_0x5cb151,_0x1a7345=_0xf3f8be*_0xf3f8be;_0x42dea9['valid']=!(-0x218f+-0x16b8+0x3847),_0x42dea9['p0']=(0x1*-0x9e3+0x18a5+-0xec1*0x1+_0x3088f4)*_0x1a7345,_0x42dea9['m0']=_0x5cb151*_0x1a7345,_0x42dea9['p1']=_0x22495e*(-0xd37+-0x173e+0x18*0x185-_0x3088f4),_0x42dea9['m1']=_0x22495e*(_0x5cb151-(-0xb*0x17+0x1317+-0x1219));}const _0x42e913=(this['_p0']*(0x6e9+-0x1c1b+0x1535)+(-0x959+0x1*0x167e+0x4*-0x349))*_0x2ecb8d,_0x951c07=(this['_p0']*(0x18a7*-0x1+0x1f41+-0x697)+(0x1*0x4c0+0x1*-0x1765+0x5*0x3bb))*_0x2ecb8d,_0x33514c=(this['_p1']*(-0x921*0x2+0x880+-0x1*-0x9c5)+(-0xe*-0x15d+-0x45b*0x2+-0x127*0x9))*_0x2ecb8d,_0x24a633=(this['_p1']*(0x1b0+0x13c*-0x12+0x148b)+(0x9b1*0x1+-0x2*-0xdcb+0xc6d*-0x3))*_0x2ecb8d;for(let _0x360a57=-0xc3+-0x20fa+0x21bd;_0x360a57<_0x2ecb8d;++_0x360a57)_0x423e88[_0x360a57]=_0x42dea9['p0']*_0x5480a0[_0x42e913+_0x360a57]+_0x42dea9['m0']*_0x5480a0[_0x951c07+_0x360a57]*this['_len']+_0x42dea9['p1']*_0x5480a0[_0x33514c+_0x360a57]+_0x42dea9['m1']*_0x5480a0[_0x24a633+_0x360a57]*this['_len'];break;}}}}}class K_{constructor(_0x434571){this['_name']=_0x434571['name']+'Snapshot',this['_time']=-(-0x1*0x2493+0xac*-0x1e+0x38bc),this['_cache']=[],this['_results']=[];for(let _0x3576be=-0x1*0x1dbf+0x952*-0x2+-0x1021*-0x3;_0x3576be<_0x434571['_inputs']['length'];++_0x3576be)this['_cache'][_0x3576be]=new wP();const _0x8f1f76=_0x434571['_curves'],_0x30889a=_0x434571['_outputs'];for(let _0x4198d0=0x202+0x1a9*0x5+-0x7*0x179;_0x4198d0<_0x8f1f76['length'];++_0x4198d0){const _0x29a767=_0x8f1f76[_0x4198d0],_0x2f489d=_0x30889a[_0x29a767['_output']],_0x59e588=[];for(let _0x1f9f17=-0xda*-0x19+-0x1ea3+0x959;_0x1f9f17<_0x2f489d['_component'+'s'];++_0x1f9f17)_0x59e588[_0x1f9f17]=-0x2ab*0xa+-0xd4a+0x27f8;this['_results'][_0x4198d0]=_0x59e588;}}}const Eo=class Eo{constructor(_0x399c1f,_0x444cb7,_0x1b898f,_0x289494,_0x232e4d,_0x9c7aed){this['_name']=_0x399c1f['name'],this['_track']=_0x399c1f,this['_snapshot']=new K_(_0x399c1f),this['_playing']=_0x289494,this['_time']=_0x444cb7,this['_speed']=_0x1b898f,this['_loop']=_0x232e4d,this['_blendWeig'+'ht']=-0x1*-0x21c2+0x4*-0x95e+0x13d*0x3,this['_blendOrde'+'r']=0x2450+-0x2b*0xa6+-0x1a*0x53,this['_eventHand'+'ler']=_0x9c7aed,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0xfec0fd){this['_name']=_0xfec0fd;}get['name'](){return this['_name'];}set['track'](_0x54538b){this['_track']=_0x54538b,this['_snapshot']=new K_(_0x54538b);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x2f8ef4){this['_time']=_0x2f8ef4,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0xe524d6){const _0x7d289e=Math['sign'](_0xe524d6)!==Math['sign'](this['_speed']);this['_speed']=_0xe524d6,_0x7d289e&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x4a6890){this['_loop']=_0x4a6890;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x3524fc){this['_blendWeig'+'ht']=_0x3524fc;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x3e71c8){this['_blendOrde'+'r']=_0x3e71c8;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0xeb4191){this['_eventCurs'+'or']=_0xeb4191;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x1e39+0x1aed+0x34c:this['_track']['events']['length']-(0xf76+-0xc3*-0x2b+0x66*-0x79);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x12f2+0x1397*0x1+-0x2689;}['nextEventA'+'headOfTime'](_0x4acf89){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x4acf89:this['nextEvent']['time']>=_0x4acf89:!(-0x2ed*-0x2+-0x95+0x151*-0x4);}['nextEventB'+'ehindTime'](_0x9c465d){return this['nextEvent']?_0x9c465d===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x9c465d:this['nextEvent']['time']<=_0x9c465d:this['isReverse']?this['nextEvent']['time']>_0x9c465d:this['nextEvent']['time']<_0x9c465d:!(-0x1*-0x102b+0x2*0xa99+-0x957*0x4);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x157b+0x1*-0x1901+0x1*0x2e7d):0x55*-0x45+-0xa*-0x2c5+-0x23*0x23;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x1ea3+-0x1630+0x467*0xc):0x373*-0x3+-0x5*0x20+0xafa,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0xec5+-0x21f0+0x30b5*0x1:this['_eventCurs'+'or']<0xd1d+0xfe1+-0x6*0x4d5&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0x193+-0x175*0x11+0x1a59));}['clipFrameT'+'ime'](_0x12d0d1){const _0x2f9114=Eo['eventFrame'];_0x2f9114['start']=-0x22*0x6e+0x18e9+0xa4d*-0x1,_0x2f9114['end']=_0x12d0d1,_0x2f9114['residual']=0x19a*-0xa+0x1*-0x2217+0x321b*0x1,this['isReverse']?_0x12d0d1<0x285+-0x19f3+-0xbb7*-0x2&&(_0x2f9114['start']=this['track']['duration'],_0x2f9114['end']=0x228b+-0x417*-0x9+-0x475a,_0x2f9114['residual']=_0x12d0d1+this['track']['duration']):_0x12d0d1>this['track']['duration']&&(_0x2f9114['start']=-0x13c*0xd+-0x1*-0x11b6+0x2*-0xd5,_0x2f9114['end']=this['track']['duration'],_0x2f9114['residual']=_0x12d0d1-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x3a9110,_0x3df04e){return this['nextEventA'+'headOfTime'](_0x3a9110)&&this['nextEventB'+'ehindTime'](_0x3df04e)?(this['fireNextEv'+'ent'](),!(-0x2*-0x130d+-0x26aa+0x2*0x48)):!(-0x267*-0x1+0x7*0x4ef+-0x24ef);}['activeEven'+'tsForFrame'](_0x185c47,_0x2ae08c){const _0x4f9aaf=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x2ae08c);const _0x5c5782=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x185c47,_0x4f9aaf['end'])&&_0x5c5782!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x4f9aaf['residual'])>-0x273+-0x12e9+0x1*0x155c&&this['activeEven'+'tsForFrame'](_0x4f9aaf['start'],_0x4f9aaf['residual']);}['progressFo'+'rTime'](_0x15797e){return _0x15797e*this['_speed']/this['_track']['duration'];}['_update'](_0xb971f3){if(this['_playing']){let _0xb4855e=this['_time'];const _0x351767=this['_track']['duration'],_0x318ba8=this['_speed'],_0x281d61=this['_loop'];this['_track']['events']['length']>0x1*0x10df+0xf1*0x4+-0x14a3&&_0x351767>-0x6*0x257+-0x1*0x1b3b+0x1*0x2945&&this['activeEven'+'tsForFrame'](_0xb4855e,_0xb4855e+_0x318ba8*_0xb971f3),_0xb4855e+=_0x318ba8*_0xb971f3,_0x318ba8>=-0x1133+-0x14*0x82+0x1b5b?_0xb4855e>_0x351767&&(_0x281d61?_0xb4855e=_0xb4855e%_0x351767||-0x2054+0x1319+0xd3b:(_0xb4855e=this['_track']['duration'],this['pause']())):_0xb4855e<0x956+0x462*-0x1+-0x4f4*0x1&&(_0x281d61?_0xb4855e=_0x351767+(_0xb4855e%_0x351767||-0x2488+0x1a3c+-0x1*-0xa4c):(_0xb4855e=0xce6+-0x71f*-0x1+0x1405*-0x1,this['pause']())),this['_time']=_0xb4855e;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x95*-0x27+-0x2045+0x36f8),this['_time']=0x21be+-0x21ec+0x17*0x2;}['stop'](){this['_playing']=!(-0x165b+-0x1da3+-0x105*-0x33),this['_time']=-0x106c*-0x1+-0x690+-0x9dc;}['pause'](){this['_playing']=!(-0x11*-0x21e+0x15b0+-0x39ad);}['resume'](){this['_playing']=!(0x1*0xbf3+0x1*0x32b+0x50a*-0x3);}['reset'](){this['_time']=0x2481+0x1517+-0x1ccc*0x2;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x4ef062,_0x55d152){const _0xf57ddc=_0x4ef062['length'];let _0x1a4366=0x15d3*-0x1+-0x1284+-0x1c1*-0x17;for(let _0x4b4a60=-0x1640+-0x8d*0x10+0x1f10;_0x4b4a60<_0xf57ddc;++_0x4b4a60)_0x1a4366+=_0x4ef062[_0x4b4a60]*_0x55d152[_0x4b4a60];return _0x1a4366;}static['normalize'](_0x1d85a4){let _0x1d6ae4=Tt['dot'](_0x1d85a4,_0x1d85a4);if(_0x1d6ae4>0x99c+-0x4*0x6e6+-0x47f*-0x4){_0x1d6ae4=(0x21cb+0x1e8f+-0x1573*0x3)/Math['sqrt'](_0x1d6ae4);const _0x7a7e64=_0x1d85a4['length'];for(let _0x5f3a30=-0x1*0x24fe+-0xf61*0x2+0x43c0;_0x5f3a30<_0x7a7e64;++_0x5f3a30)_0x1d85a4[_0x5f3a30]*=_0x1d6ae4;}}static['set'](_0x3c7f6b,_0x162a63,_0x44e4e4){const _0x7e07cf=_0x3c7f6b['length'];if(_0x44e4e4==='quaternion'){let _0x596ea2=Tt['dot'](_0x162a63,_0x162a63);_0x596ea2>0x16a7+-0x28d+-0x141a&&(_0x596ea2=(-0xdd*-0x17+0x208d*-0x1+-0xcb3*-0x1)/Math['sqrt'](_0x596ea2));for(let _0x2f7628=0x455*0x3+-0x519*0x6+0x1197;_0x2f7628<_0x7e07cf;++_0x2f7628)_0x3c7f6b[_0x2f7628]=_0x162a63[_0x2f7628]*_0x596ea2;}else{for(let _0x570783=0x251c+0x169*-0xa+0x5*-0x49a;_0x570783<_0x7e07cf;++_0x570783)_0x3c7f6b[_0x570783]=_0x162a63[_0x570783];}}static['blendVec'](_0x473ab9,_0x4d64e4,_0x576af3,_0x262e1b){const _0x16d99d=_0x262e1b?-0xa56+-0xd7+0xb2e:0x19a6+0x13c9+-0x2d6e-_0x576af3,_0xeff9f4=_0x473ab9['length'];for(let _0x22ffef=0x181f+-0xc+-0x1813;_0x22ffef<_0xeff9f4;++_0x22ffef)_0x473ab9[_0x22ffef]=_0x473ab9[_0x22ffef]*_0x16d99d+_0x4d64e4[_0x22ffef]*_0x576af3;}static['blendQuat'](_0x23ea80,_0x1b570e,_0xe1cc66,_0x585510){const _0x355b89=_0x23ea80['length'],_0x14bc86=_0x585510?-0x1*0x905+0x1e6f+-0x1569:-0x8*0x287+-0xc*0x15d+0x1*0x2495-_0xe1cc66;Tt['dot'](_0x23ea80,_0x1b570e)<-0x1f92+0x2468+-0x4d6&&(_0xe1cc66=-_0xe1cc66);for(let _0x238182=0x2*-0x79b+0xc87+0x2af;_0x238182<_0x355b89;++_0x238182)_0x23ea80[_0x238182]=_0x23ea80[_0x238182]*_0x14bc86+_0x1b570e[_0x238182]*_0xe1cc66;_0x585510||Tt['normalize'](_0x23ea80);}static['blend'](_0x1492a4,_0x1e5e2e,_0x47b4fd,_0x348e39,_0x5c214a){_0x348e39==='quaternion'?Tt['blendQuat'](_0x1492a4,_0x1e5e2e,_0x47b4fd,_0x5c214a):Tt['blendVec'](_0x1492a4,_0x1e5e2e,_0x47b4fd,_0x5c214a);}static['stableSort'](_0x5a9e42,_0x431673){const _0x5d6ef9=_0x5a9e42['length'];for(let _0x41acff=-0x1291+0x145+0x114c;_0x41acff<_0x5d6ef9-(0x2de+0x2378+0x2655*-0x1);++_0x41acff)for(let _0x47b25f=_0x41acff+(0x11cb+-0x783+0x36d*-0x3);_0x47b25f<_0x5d6ef9;++_0x47b25f)if(_0x431673(_0x5a9e42[_0x47b25f],_0x5a9e42[_0x41acff])){const _0x3ad4f4=_0x5a9e42[_0x41acff];_0x5a9e42[_0x41acff]=_0x5a9e42[_0x47b25f],_0x5a9e42[_0x47b25f]=_0x3ad4f4;}}}const Ue=class Ue{constructor(_0x366f13,_0x188267){this['_component']=_0x366f13,this['mask']=new Int8Array(_0x366f13['layers']['length']),this['weights']=new Float32Array(_0x366f13['layers']['length']),this['totalWeigh'+'t']=0x1ce2*0x1+0x13*-0x1b1+-0x341*-0x1,this['counter']=-0x14f8+0x261a+-0x1122,this['layerCount'+'er']=0x1e79+0x383+-0x21fc,this['valueType']=_0x188267,this['dirty']=!(0x867+0x1*0x1eb5+-0x4*0x9c7),this['value']=_0x188267===Ue['TYPE_QUAT']?[0x126c+-0x3b*-0x6d+-0x2b8b,0x81b*-0x3+-0x1cdd*-0x1+0x6*-0xc2,0x15c3+0xd42+-0xb*0x32f,-0x6*-0x49+-0xaf3*0x1+0xd*0xb6]:[-0x188a+-0x17d9+0x3063,-0x1*-0x1d75+-0x5d*-0x30+-0x2ee5,0xbcb+-0x21c5+0xafd*0x2],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x1d1bda){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x15e+-0x1d*0x6b+0xac1*0x1||!this['mask'][_0x1d1bda]?-0x1*-0x14e3+0xebe+-0x23a1:this['_normalize'+'Weights']?this['weights'][_0x1d1bda]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x1d1bda],-0xd1e+-0x7e0+0x14fe,0x1*0x152d+-0x8c4*-0x1+-0x1df0);}['_layerBlen'+'dType'](_0x35f758){return this['_component']['layers'][_0x35f758]['blendType'];}['setMask'](_0x1fe066,_0x20af60){this['mask'][_0x1fe066]=_0x20af60,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x1fe066]['blendType']===X0&&(this['mask']=this['mask']['fill'](-0x1*0x19c1+0x8ed+0x435*0x4,-0x6*0x19d+0x4d*-0x5f+0x1*0x2641,_0x1fe066)),this['dirty']=!(0xeb9+-0x6f9+0x10*-0x7c));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=0x233+-0x2503*0x1+0x8b4*0x4;for(let _0x2e038a=0xf0d+0x263f+-0x4*0xd53;_0x2e038a<this['weights']['length'];_0x2e038a++)this['weights'][_0x2e038a]=this['_component']['layers'][_0x2e038a]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x2e038a]*this['weights'][_0x2e038a];this['dirty']=!(0x2456+0x2695+-0x2*0x2575);}['updateValu'+'e'](_0x5c9e0f,_0xadaa0f){if(this['counter']===0x7db*0x3+-0x11a5+-0x4*0x17b&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],0x1258+0x1f34+0x481*-0xb,this['valueType'])),!(!this['mask'][_0x5c9e0f]||this['getWeight'](_0x5c9e0f)===0x1150+0xbd5*0x1+-0x1d25)){if(this['_layerBlen'+'dType'](_0x5c9e0f)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x22d634=Ue['q1']['set'](this['value'][-0xe65+0x19e1+0xc4*-0xf],this['value'][-0x243e+-0x21e0*-0x1+0x25f],this['value'][0x1b31+-0xad3*0x1+0x574*-0x3],this['value'][-0x2638+0x1*-0x70+0x1*0x26ab]),_0x3a7937=Ue['q2']['set'](this['baseValue'][0x17d5+-0x1789*-0x1+-0x2f5e*0x1],this['baseValue'][0x1046+-0xdb8*-0x2+-0x2bb5],this['baseValue'][-0x23b9*0x1+0x1*-0x1da5+0x4160],this['baseValue'][-0x6*-0x4d9+0xad7+0x27*-0x106]),_0x3b000e=Ue['q3']['set'](_0xadaa0f[-0x2e1*-0x2+0xb3f*0x1+-0x1101],_0xadaa0f[-0x2*-0x1b1+0x1e*-0x46+0x4d3],_0xadaa0f[-0xd12+0x1521+-0x1*0x80d],_0xadaa0f[-0x2573*-0x1+-0x1d69*-0x1+0x9d*-0x6d]),_0x4a3309=_0x3a7937['invert']()['mul'](_0x3b000e);_0x4a3309['slerp'](se['IDENTITY'],_0x4a3309,this['getWeight'](_0x5c9e0f)),_0x22d634['mul'](_0x4a3309),Ue['quatArr'][0x8e3+-0x3*0x901+-0x8*-0x244]=_0x22d634['x'],Ue['quatArr'][-0x3*-0x238+-0x1*-0x2537+-0xa*0x463]=_0x22d634['y'],Ue['quatArr'][0x10d*-0xc+0x1944+-0xca6]=_0x22d634['z'],Ue['quatArr'][-0x1346*0x2+-0x2185+0x4814]=_0x22d634['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][0x1b67+0x15e1+-0x3148]=_0xadaa0f[0x481+0x766+-0xbe7]-this['baseValue'][0x1*0x1969+0x200*-0x12+0xa97],Ue['vecArr'][0xd73+0x2*0x12c1+0x4*-0xcbd]=_0xadaa0f[0x14d*-0x1+-0x4b7+0x43*0x17]-this['baseValue'][0x16d7+0x2530+-0x3c06],Ue['vecArr'][-0x10*0x232+-0x10a6+0x679*0x8]=_0xadaa0f[0x25fa+-0x1*0x1ced+0x5*-0x1cf]-this['baseValue'][-0x19cc+0x3*0x7cd+-0x29*-0xf],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x5c9e0f),this['valueType'],!(0x76*-0x3+0x2072+-0x1f10));}else Tt['blend'](this['value'],_0xadaa0f,this['getWeight'](_0x5c9e0f),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[-0x3b*-0x1c+0xedb+-0x154f,-0xec8+0x2*-0xfa3+0x2e0e,0x2401+0x257f+-0x4980,0x16*-0x81+0xe12+-0x2fb]),c(Ue,'vecArr',[-0x1ce9+0xd93+-0x12e*-0xd,0x5a*0x3f+-0x136a+-0x2bc,-0xa*-0x147+0x5f3*-0x4+0xb06]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[-0xe84+0x861+0x623,0x1f57*0x1+-0xa6b*0x2+-0xa81,0x8ce+0x20fc+-0x29ca*0x1,-0x26af+-0x4*-0x4eb+0x1304]);let bo=Ue;class j0{constructor(_0x442299){this['_binder']=_0x442299,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x338318){const _0x9bdb43=this['_targets'],_0xf16ef8=this['_binder'],_0x308387=_0x338318['track']['curves'],_0x1d8904=_0x338318['snapshot'],_0x141fd7=[],_0x200c13=[];for(let _0x58a627=0xc1*-0x19+0x47*0x8+0x10a1;_0x58a627<_0x308387['length'];++_0x58a627){const _0x3a4929=_0x308387[_0x58a627]['paths'];for(let _0x1eb066=0x3*0x5f7+-0x2*0x745+-0x1*0x35b;_0x1eb066<_0x3a4929['length'];++_0x1eb066){const _0x4fcdc8=_0x3a4929[_0x1eb066],_0x16397d=_0xf16ef8['resolve'](_0x4fcdc8);let _0x379b7b=_0x9bdb43[_0x16397d&&_0x16397d['targetPath']||null];if(!_0x379b7b&&_0x16397d){_0x379b7b={'target':_0x16397d,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x5ae6a8=-0x4*0x61+-0x5a8+-0x11*-0x6c;_0x5ae6a8<_0x379b7b['target']['components'];++_0x5ae6a8)_0x379b7b['value']['push'](0xf04+-0x43*0x55+-0x269*-0x3);if(_0x9bdb43[_0x16397d['targetPath']]=_0x379b7b,_0xf16ef8['animCompon'+'ent']){if(!_0xf16ef8['animCompon'+'ent']['targets'][_0x16397d['targetPath']]){let _0x5cf786;_0x16397d['targetPath']['substring'](_0x16397d['targetPath']['length']-(0x1f*-0x42+-0x1839+0x1*0x2044))==='localRotat'+'ion'?_0x5cf786=bo['TYPE_QUAT']:_0x5cf786=bo['TYPE_VEC3'],_0xf16ef8['animCompon'+'ent']['targets'][_0x16397d['targetPath']]=new bo(_0xf16ef8['animCompon'+'ent'],_0x5cf786);}_0xf16ef8['animCompon'+'ent']['targets'][_0x16397d['targetPath']]['layerCount'+'er']++,_0xf16ef8['animCompon'+'ent']['targets'][_0x16397d['targetPath']]['setMask'](_0xf16ef8['layerIndex'],0x1f82+0xad5+-0x2a56);}}_0x379b7b&&(_0x379b7b['curves']++,_0x141fd7['push'](_0x1d8904['_results'][_0x58a627]),_0x200c13['push'](_0x379b7b));}}this['_clips']['push'](_0x338318),this['_inputs']['push'](_0x141fd7),this['_outputs']['push'](_0x200c13);}['removeClip'](_0x58ea5c){const _0x1f0a59=this['_targets'],_0x4a0fdf=this['_binder'],_0x4951f4=this['_clips'],_0x534b9f=_0x4951f4[_0x58ea5c]['track']['curves'];for(let _0x52b968=0x1b56+0x5*-0x5b1+0x11f;_0x52b968<_0x534b9f['length'];++_0x52b968){const _0x239c19=_0x534b9f[_0x52b968]['paths'];for(let _0x1d1f54=-0x12*0x56+0x1*-0x226f+0x287b;_0x1d1f54<_0x239c19['length'];++_0x1d1f54){const _0x151692=_0x239c19[_0x1d1f54],_0x170c0c=this['_binder']['resolve'](_0x151692);_0x170c0c&&(_0x170c0c['curves']--,_0x170c0c['curves']===0x1*0x54b+0xf5b+-0x14a6&&(_0x4a0fdf['unresolve'](_0x151692),delete _0x1f0a59[_0x170c0c['targetPath']],_0x4a0fdf['animCompon'+'ent']&&_0x4a0fdf['animCompon'+'ent']['targets'][_0x170c0c['targetPath']]['layerCount'+'er']--));}}_0x4951f4['splice'](_0x58ea5c,0x2*0xe1+-0x1*-0x19ca+0xb*-0x281),this['_inputs']['splice'](_0x58ea5c,0xa8f*0x3+0x3*-0x2cf+-0x173f),this['_outputs']['splice'](_0x58ea5c,0xa24+0x6*-0x606+0x1a01);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x193+-0x4*0x987+0x27af;)this['removeClip'](-0x8f5*0x1+-0x14*0x75+0x1219);}['updateClip'+'Track'](_0x4d609e,_0x515ff1){this['_clips']['forEach'](_0x583662=>{_0x583662['name']['includes'](_0x4d609e)&&(_0x583662['track']=_0x515ff1);}),this['rebind']();}['findClip'](_0x12bd5e){const _0x516983=this['_clips'];for(let _0x56fb87=-0x3*-0xb02+-0x1304+-0xe02;_0x56fb87<_0x516983['length'];++_0x56fb87){const _0x729e74=_0x516983[_0x56fb87];if(_0x729e74['name']===_0x12bd5e)return _0x729e74;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0xe4ad9f=[...this['clips']];this['removeClip'+'s'](),_0xe4ad9f['forEach'](_0x1ab28d=>{this['addClip'](_0x1ab28d);});}['assignMask'](_0x31f623){return this['_binder']['assignMask'](_0x31f623);}['update'](_0x5008a1,_0x294cad=!(0x998+0x201d+-0xde7*0x3)){const _0x5dd573=this['_clips'],_0x1fe2ed=_0x5dd573['map']((_0x4ad5a9,_0x48737c)=>_0x48737c);Tt['stableSort'](_0x1fe2ed,(_0xfb8da4,_0x555164)=>_0x5dd573[_0xfb8da4]['blendOrder']<_0x5dd573[_0x555164]['blendOrder']);for(let _0x2bc12e=0x308+-0x1745+-0x3*-0x6bf;_0x2bc12e<_0x1fe2ed['length'];++_0x2bc12e){const _0x44a615=_0x1fe2ed[_0x2bc12e],_0x5e61b5=_0x5dd573[_0x44a615],_0x3b522a=this['_inputs'][_0x44a615],_0xa4a22b=this['_outputs'][_0x44a615],_0x3c89d6=_0x5e61b5['blendWeigh'+'t'];if(_0x3c89d6>0x16d7+-0x5*0x8+-0x16af&&_0x5e61b5['_update'](_0x5008a1),!_0x294cad)break;let _0x480b13,_0x327643,_0x47247a;if(_0x3c89d6>=-0x1bf+-0xd4*0x1+-0x14a*-0x2){for(let _0x122e40=-0x368+-0x1ec*-0x6+-0x820;_0x122e40<_0x3b522a['length'];++_0x122e40)_0x480b13=_0x3b522a[_0x122e40],_0x327643=_0xa4a22b[_0x122e40],_0x47247a=_0x327643['value'],Tt['set'](_0x47247a,_0x480b13,_0x327643['target']['type']),_0x327643['blendCount'+'er']++;}else{if(_0x3c89d6>-0x11*-0xe9+-0x12ef+0x2*0x1bb){for(let _0x1ec56c=0x779+-0xa63*0x2+0xe3*0xf;_0x1ec56c<_0x3b522a['length'];++_0x1ec56c)_0x480b13=_0x3b522a[_0x1ec56c],_0x327643=_0xa4a22b[_0x1ec56c],_0x47247a=_0x327643['value'],_0x327643['blendCount'+'er']===0x9*-0x339+0x2*-0x7ed+0x2cdb?Tt['set'](_0x47247a,_0x480b13,_0x327643['target']['type']):Tt['blend'](_0x47247a,_0x480b13,_0x3c89d6,_0x327643['target']['type']),_0x327643['blendCount'+'er']++;}}}const _0x44f065=this['_targets'],_0x34ec67=this['_binder'];for(const _0x566d17 in _0x44f065)if(_0x44f065['hasOwnProp'+'erty'](_0x566d17)){const _0x5d673e=_0x44f065[_0x566d17];if(_0x34ec67['animCompon'+'ent']&&_0x5d673e['target']['isTransfor'+'m']){const _0x55c049=_0x34ec67['animCompon'+'ent']['targets'][_0x566d17];_0x55c049['counter']===_0x55c049['layerCount'+'er']&&(_0x55c049['counter']=-0x2*-0x10d9+0x3*-0xac1+0x1*-0x16f),_0x55c049['path']||(_0x55c049['path']=_0x566d17,_0x55c049['baseValue']=_0x5d673e['target']['get'](),_0x55c049['setter']=_0x5d673e['target']['set']),_0x55c049['updateValu'+'e'](_0x34ec67['layerIndex'],_0x5d673e['value']),_0x55c049['counter']++;}else _0x5d673e['target']['set'](_0x5d673e['value']);_0x5d673e['blendCount'+'er']=-0x159b+0x4b6*-0x5+0x1*0x2d29;}this['_binder']['update'](_0x5008a1);}}class Y0{constructor(_0x5539b7){this['_events']=[..._0x5539b7],this['_events']['sort']((_0x559423,_0x4a8d9e)=>_0x559423['time']-_0x4a8d9e['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x4fbbb2,_0x3badf0,_0x548ade,_0x336488,_0x19557c,_0x24c332=new Y0([])){this['_name']=_0x4fbbb2,this['_duration']=_0x3badf0,this['_inputs']=_0x548ade,this['_outputs']=_0x336488,this['_curves']=_0x19557c,this['_animEvent'+'s']=_0x24c332;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x309101){this['_animEvent'+'s']=_0x309101;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x5a0ce0,_0x19906e){_0x19906e['_time']=_0x5a0ce0;const _0x3354ce=this['_inputs'],_0x196bf9=this['_outputs'],_0x40619b=this['_curves'],_0x467ab3=_0x19906e['_cache'],_0x4f5c58=_0x19906e['_results'];for(let _0x116c32=0x2523+0x592*-0x2+-0x25d*0xb;_0x116c32<_0x3354ce['length'];++_0x116c32)_0x467ab3[_0x116c32]['update'](_0x5a0ce0,_0x3354ce[_0x116c32]['_data']);for(let _0x401b74=0xdb4*-0x1+0x2*-0x10b7+0x2f22;_0x401b74<_0x40619b['length'];++_0x401b74){const _0x4184a7=_0x40619b[_0x401b74],_0x2e623d=_0x196bf9[_0x4184a7['_output']],_0x535464=_0x4f5c58[_0x401b74];_0x467ab3[_0x4184a7['_input']]['eval'](_0x535464,_0x4184a7['_interpola'+'tion'],_0x2e623d);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x2bb82d,_0x1ac753){_0x1ac753=_0x1ac753||'.';const _0x5e43d7=function(_0x2d2089){return _0x2d2089['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x1ac753,'g'),'\x5c'+_0x1ac753);};return _0x2bb82d['map'](_0x5e43d7)['join'](_0x1ac753);}static['splitPath'](_0x4ddf5b,_0x4945e1){_0x4945e1=_0x4945e1||'.';const _0x416302=[];let _0x78971f='',_0x20a58c=-0x625*-0x5+0x11ed+-0x30a6*0x1;for(;_0x20a58c<_0x4ddf5b['length'];){let _0x14477f=_0x4ddf5b[_0x20a58c++];_0x14477f==='\x5c'&&_0x20a58c<_0x4ddf5b['length']?(_0x14477f=_0x4ddf5b[_0x20a58c++],_0x14477f==='\x5c'||_0x14477f===_0x4945e1?_0x78971f+=_0x14477f:_0x78971f+='\x5c'+_0x14477f):_0x14477f===_0x4945e1?(_0x416302['push'](_0x78971f),_0x78971f=''):_0x78971f+=_0x14477f;}return _0x78971f['length']>0x97d+0x7d0*0x1+0x114d*-0x1&&_0x416302['push'](_0x78971f),_0x416302;}static['encode'](_0x75bc78,_0x8f184c,_0x2a0019){return(Array['isArray'](_0x75bc78)?_0x75bc78['join']('/'):_0x75bc78)+'/'+_0x8f184c+'/'+(Array['isArray'](_0x2a0019)?_0x2a0019['join']('/'):_0x2a0019);}['resolve'](_0x385894){return null;}['unresolve'](_0x42b27f){}['update'](_0xd86d1e){}}class Zu{constructor(_0x4888b1,_0x3d03bf,_0x262909,_0x51437f){_0x4888b1['set']?(this['_set']=_0x4888b1['set'],this['_get']=_0x4888b1['get']):this['_set']=_0x4888b1,this['_type']=_0x3d03bf,this['_component'+'s']=_0x262909,this['_targetPat'+'h']=_0x51437f,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x17*-0x97+0xd73*0x1+0x3*-0x8fd))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x30f*0x7+-0x84b+-0xd11))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x2073+0xd0e+-0x1*-0x136f))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0x18b089){c(this,'_isPathInM'+'ask',(_0x3fc814,_0x4c79be)=>{const _0x49047e=this['_mask'][_0x3fc814];if(_0x49047e){if(_0x49047e['children']||_0x4c79be&&_0x49047e['value']!==!(0x2*0x985+-0x2ca+0x103f*-0x1))return!(-0x22ed+0x5*0x401+0xee8);}else return!(-0x7*0x77+-0x7bb*-0x1+-0x479);return!(0x88*-0x1b+-0xcb*-0x19+-0x57a);});if(this['graph']=_0x18b089,!_0x18b089)return;this['_mask']=null;const _0x476cee={},_0x429df9=function(_0x2e0b6d){_0x476cee[_0x2e0b6d['name']]=_0x2e0b6d;for(let _0x32c351=-0x204b+0x9db+0x1670;_0x32c351<_0x2e0b6d['children']['length'];++_0x32c351)_0x429df9(_0x2e0b6d['children'][_0x32c351]);};_0x429df9(_0x18b089),this['nodes']=_0x476cee,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x4518b7=function(_0x591388){let _0x15f8dd=_0x591388;for(;_0x15f8dd&&!(_0x15f8dd instanceof $e);)_0x15f8dd=_0x15f8dd['parent'];let _0xc7506b;return _0x15f8dd&&(_0x15f8dd['render']?_0xc7506b=_0x15f8dd['render']['meshInstan'+'ces']:_0x15f8dd['model']&&(_0xc7506b=_0x15f8dd['model']['meshInstan'+'ces'])),_0xc7506b;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x4eed84){const _0x5b5238=_0x4eed84['localPosit'+'ion'],_0x5ce2e7=function(_0x58706e){_0x5b5238['set'](..._0x58706e);};return Ji['createAnim'+'Target'](_0x5ce2e7,'vector',0x8*0x6+0xdb5+-0xde2*0x1,_0x4eed84,'localPosit'+'ion');},'localRotation':function(_0x287ede){const _0x15af4a=_0x287ede['localRotat'+'ion'],_0x590539=function(_0x290d3e){_0x15af4a['set'](..._0x290d3e);};return Ji['createAnim'+'Target'](_0x590539,'quaternion',0x9*-0x1a3+-0x1be+0x43*0x3f,_0x287ede,'localRotat'+'ion');},'localScale':function(_0x166984){const _0xd20a71=_0x166984['localScale'],_0x2122be=function(_0x5c883c){_0xd20a71['set'](..._0x5c883c);};return Ji['createAnim'+'Target'](_0x2122be,'vector',0xee4+-0x17*-0x14+-0x10ad,_0x166984,'localScale');},'weight':function(_0xf59883,_0x5bfee6){_0x5bfee6['indexOf']('name.')===-0x280+0x22c7+-0x1*0x2047?_0x5bfee6=_0x5bfee6['replace']('name.',''):_0x5bfee6=Number(_0x5bfee6);const _0x425149=_0x4518b7(_0xf59883);let _0x4c0aa1;if(_0x425149){for(let _0x5b66b4=-0x2c*-0x88+-0x2*0x75a+-0x8ac;_0x5b66b4<_0x425149['length'];++_0x5b66b4)if(_0x425149[_0x5b66b4]['node']['name']===_0xf59883['name']&&_0x425149[_0x5b66b4]['morphInsta'+'nce']){const _0x15b180=_0x425149[_0x5b66b4]['morphInsta'+'nce'],_0x144889=_0xb7bcf0=>{_0x15b180['setWeight'](_0x5bfee6,_0xb7bcf0[-0x4cb*0x1+-0x25dd+-0x222*-0x14]);};_0x4c0aa1||(_0x4c0aa1=[]),_0x4c0aa1['push'](_0x144889);}}if(_0x4c0aa1){const _0x4ef3ce=_0x2a3819=>{for(let _0x59b503=-0x89*0x1+0x88c+0x1*-0x803;_0x59b503<_0x4c0aa1['length'];++_0x59b503)_0x4c0aa1[_0x59b503](_0x2a3819);};return Ji['createAnim'+'Target'](_0x4ef3ce,'number',-0xce9*0x2+-0x8cf+0x1f*0x11e,_0xf59883,'weight.'+_0x5bfee6);}return null;},'materialTexture':(_0x229c5a,_0x1296b6)=>{const _0x1af58c=_0x4518b7(_0x229c5a);if(_0x1af58c){let _0x263f2b;for(let _0x12e597=0x6*0x156+0x25c0+0x65*-0x74;_0x12e597<_0x1af58c['length'];++_0x12e597)if(_0x1af58c[_0x12e597]['node']['name']===_0x229c5a['name']){_0x263f2b=_0x1af58c[_0x12e597];break;}if(_0x263f2b){const _0x2a0ae4=_0x3ea394=>{const _0x1ee944=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x3ea394[-0x1a7e+-0x3*0x952+-0xa*-0x572]);_0x1ee944&&_0x1ee944['resource']&&_0x1ee944['type']==='texture'&&(_0x263f2b['material'][_0x1296b6]=_0x1ee944['resource'],_0x263f2b['material']['update']());};return Ji['createAnim'+'Target'](_0x2a0ae4,'vector',0xcb8*-0x1+-0x1305*-0x2+0x1951*-0x1,_0x229c5a,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x71d11e){if(!this['_mask'])return!(0x1844+0x8df+-0x2123);const _0x4eaec0=[_0x71d11e['entityPath'][0x1a5*-0x7+0x950+0x233],this['graph']['name']];for(let _0x246d59=0xe22+-0x8a5+-0x57d;_0x246d59<_0x4eaec0['length'];++_0x246d59){let _0x5a1bf6=_0x4eaec0[_0x246d59];if(this['_isPathInM'+'ask'](_0x5a1bf6,_0x71d11e['entityPath']['length']===0x59*0x9+0x10f*-0xc+0x1*0x994))return!(0x1ca8+0x1a*0x4f+0x3ab*-0xa);for(let _0x91dc78=0x18c6+-0x6a4+-0x1221;_0x91dc78<_0x71d11e['entityPath']['length'];_0x91dc78++)if(_0x5a1bf6+='/'+_0x71d11e['entityPath'][_0x91dc78],this['_isPathInM'+'ask'](_0x5a1bf6,_0x91dc78===_0x71d11e['entityPath']['length']-(0xd29+-0x19e3+-0xcbb*-0x1)))return!(0x3*-0xb31+0x2226+0x15*-0x7);}return!(0x85c*0x2+-0x443*-0x3+0x2*-0xec0);}['findNode'](_0x5cd2d8){if(!this['_isPathAct'+'ive'](_0x5cd2d8))return null;let _0x49d7b6;if(this['graph']&&(_0x49d7b6=this['graph']['findByPath'](_0x5cd2d8['entityPath']),_0x49d7b6||(_0x49d7b6=this['graph']['findByPath'](_0x5cd2d8['entityPath']['slice'](-0x21a6+0x20c6*-0x1+0x426d)))),!_0x49d7b6){_0x49d7b6=this['nodes'][_0x5cd2d8['entityPath'][_0x5cd2d8['entityPath']['length']-(-0x79+0x224*0x1+0x1aa*-0x1)]||''];const _0x316c98=qr['encode'](_0x5cd2d8['entityPath'][_0x5cd2d8['entityPath']['length']-(0x699+0xa12+-0x10aa)]||'','graph',_0x5cd2d8['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x316c98]===0x687*-0x3+-0x1*-0x10e6+0x158*0x2&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x316c98+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x316c98])?this['visitedFal'+'lbackGraph'+'Paths'][_0x316c98]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x316c98]=0x1e47+-0xee1*0x1+-0x2*0x7b3;}return _0x49d7b6;}static['createAnim'+'Target'](_0x5f571e,_0x1e1ed5,_0xe3e827,_0x514548,_0x37ba75,_0x4f3aec){const _0x43fc64=qr['encode'](_0x514548['path'],_0x4f3aec||'entity',_0x37ba75);return new Zu(_0x5f571e,_0x1e1ed5,_0xe3e827,_0x43fc64);}['resolve'](_0x39c0a2){const _0x5d51d2=qr['encode'](_0x39c0a2['entityPath'],_0x39c0a2['component'],_0x39c0a2['propertyPa'+'th']);let _0x3fa3ce=this['targetCach'+'e'][_0x5d51d2];if(_0x3fa3ce)return _0x3fa3ce;const _0x3e0c44=this['findNode'](_0x39c0a2);if(!_0x3e0c44)return null;const _0x4150b6=this['handlers'][_0x39c0a2['propertyPa'+'th']];return!_0x4150b6||(_0x3fa3ce=_0x4150b6(_0x3e0c44),!_0x3fa3ce)?null:(this['targetCach'+'e'][_0x5d51d2]=_0x3fa3ce,this['nodeCounts'][_0x3e0c44['path']]?this['nodeCounts'][_0x3e0c44['path']]++:(this['activeNode'+'s']['push'](_0x3e0c44),this['nodeCounts'][_0x3e0c44['path']]=0x1bad+0xbe*0x11+-0x284a),_0x3fa3ce);}['unresolve'](_0x102e13){if(_0x102e13['component']!=='graph')return;const _0x504609=this['nodes'][_0x102e13['entityPath'][_0x102e13['entityPath']['length']-(-0x3*-0xaed+-0x1c95*0x1+-0x431*0x1)]||''];if(this['nodeCounts'][_0x504609['path']]--,this['nodeCounts'][_0x504609['path']]===-0x7*-0x31b+0x8*-0x5e+0x1*-0x12cd){const _0x25bf1f=this['activeNode'+'s'],_0x459bf5=_0x25bf1f['indexOf'](_0x504609['node']),_0xe81ad7=_0x25bf1f['length'];_0x459bf5<_0xe81ad7-(0x97*0x9+-0x1*-0x198b+-0x1ed9)&&(_0x25bf1f[_0x459bf5]=_0x25bf1f[_0xe81ad7-(-0x1d9c+-0x1d6d+-0x42*-0xe5)]),_0x25bf1f['pop']();}}['update'](_0x4bebb4){const _0x3b9cc9=this['activeNode'+'s'];for(let _0x3d0f80=0xfcd*-0x1+0x3*-0xb32+-0x1*-0x3163;_0x3d0f80<_0x3b9cc9['length'];++_0x3d0f80)_0x3b9cc9[_0x3d0f80]['_dirtifyLo'+'cal']();}['assignMask'](_0x29627d){return _0x29627d!==this['_mask']?(this['_mask']=_0x29627d,!(0x1*-0x121f+-0x1c43+-0x1*-0x2e62)):!(0xa40+0x481*0x1+-0x1*0xec0);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(-0xb2*-0x1f+-0xa2+-0x14ec)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',0x8d7+0x24d8+-0x2daf),c(this,'blending',!(0x1122+-0xfc9+0x2*-0xac)),c(this,'blendSpeed',-0x18d*0xd+-0x20f7+0x3520*0x1),c(this,'activate',!(-0x6*0x5ba+-0x3*-0x2e7+0x19a7)),c(this,'speed',0x1f3*0x2+-0x21cd*-0x1+-0x5*0x78a);}set['animations'](_0x416046){this['_animation'+'s']=_0x416046,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x4d8cb3){const _0x347dad=this['_assets'];if(_0x347dad&&_0x347dad['length']){for(let _0x133a0f=0x144*0xd+-0x29*-0x4a+-0x1c4e*0x1;_0x133a0f<_0x347dad['length'];_0x133a0f++)if(_0x347dad[_0x133a0f]){const _0x5a7208=this['system']['app']['assets']['get'](_0x347dad[_0x133a0f]);if(_0x5a7208){_0x5a7208['off']('change',this['onAssetCha'+'nged'],this),_0x5a7208['off']('remove',this['onAssetRem'+'oved'],this);const _0x8c62ca=this['animations'+'Index'][_0x5a7208['id']];this['currAnim']===_0x8c62ca&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x8c62ca],delete this['animations'+'Index'][_0x5a7208['id']];}}}this['_assets']=_0x4d8cb3;const _0x1a2cac=_0x4d8cb3['map'](_0x5e7b5f=>_0x5e7b5f instanceof le?_0x5e7b5f['id']:_0x5e7b5f);this['loadAnimat'+'ionAssets'](_0x1a2cac);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x47bb1c){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x47bb1c,this['skeleton']['addTime'](-0xead+0x21a*0x10+-0x4d*0x3f),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0xaaac0d=this['animEvalua'+'tor']['clips'];for(let _0xcd56e4=-0x43*-0x2f+0x8d+0xa*-0x149;_0xcd56e4<_0xaaac0d['length'];++_0xcd56e4)_0xaaac0d[_0xcd56e4]['time']=_0x47bb1c;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x5c9ee5=this['animEvalua'+'tor']['clips'];if(_0x5c9ee5['length']>0x2668+0x1f37+-0x459f*0x1)return _0x5c9ee5[_0x5c9ee5['length']-(-0x2*0x48f+-0x486*0x2+0x122b)]['time'];}return-0x1fd*0x9+0x73*-0x2b+0x2536;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),0x2*-0xa93+-0x3*-0x11+0x1*0x14f3);}set['loop'](_0x337900){if(this['_loop']=_0x337900,this['skeleton']&&(this['skeleton']['looping']=_0x337900),this['animEvalua'+'tor']){for(let _0x360302=0x12*-0x119+0x2326+-0xf64;_0x360302<this['animEvalua'+'tor']['clips']['length'];++_0x360302)this['animEvalua'+'tor']['clips'][_0x360302]['loop']=_0x337900;}}get['loop'](){return this['_loop'];}['play'](_0x4fe87b,_0x4a5481=0x28d*0x7+0x33*0x77+-0x2990){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x4fe87b]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x4fe87b+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x4fe87b,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x18f3c2=this['animations'][this['prevAnim']],_0x13eaf3=this['animations'][this['currAnim']];if(this['blending']=_0x4a5481>-0xcb7+0x334+0x983*0x1&&!!this['prevAnim'],this['blending']&&(this['blend']=0x25*0xe3+0x33c+-0x240b,this['blendSpeed']=(-0x5e7*-0x4+-0x5f9+-0x11a2)/_0x4a5481),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x18f3c2,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x13eaf3):this['skeleton']['animation']=_0x13eaf3),this['animEvalua'+'tor']){const _0x423abc=this['animEvalua'+'tor'];if(this['blending']){for(;_0x423abc['clips']['length']>0x267b+0x16da*-0x1+-0x7d*0x20;)_0x423abc['removeClip'](-0x123e*-0x1+-0x1290+-0x29*-0x2);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x349f37=new Xh(this['animations'][this['currAnim']],0x1324+-0x202c+-0x2*-0x684,-0x188f+-0x346*0x6+0x29*0x114,!(-0x1ded+-0x8b2+0x1*0x269f),this['loop']);_0x349f37['name']=this['currAnim'],_0x349f37['blendWeigh'+'t']=this['blending']?-0x1*-0x19c5+0x3fd*0x5+-0x2db6:0x359*0x1+0x570*-0x1+0x218,_0x349f37['reset'](),this['animEvalua'+'tor']['addClip'](_0x349f37);}}this['playing']=!(-0x1a9*-0x10+0x14bc+-0x2f4c);}}['getAnimati'+'on'](_0x3e68aa){return this['animations'][_0x3e68aa];}['setModel'](_0x45e340){_0x45e340!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x45e340,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x43e075=this['entity']['model'];if(_0x43e075){const _0x5e77db=_0x43e075['model'];_0x5e77db&&_0x5e77db!==this['model']&&this['setModel'](_0x5e77db);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x1abf3d=Object['keys'](this['_animation'+'s']);_0x1abf3d['length']>0x165d+-0x11ef+0x46e*-0x1&&this['play'](_0x1abf3d[-0x2061+-0x4*-0x42c+0xfb1]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x2aaa98=this['model'],_0x3679a7=this['animations'];let _0x2c64f3=!(0x1*-0x2512+0x2*0xc11+0xcf1),_0x2269cf=!(0xabf*0x1+-0x5*-0x6a1+-0x15*0x217);for(const _0x34943e in _0x3679a7)_0x3679a7['hasOwnProp'+'erty'](_0x34943e)&&(_0x3679a7[_0x34943e]['constructo'+'r']===Ri?_0x2269cf=!(0x69a*-0x4+0x3*0x701+0x565*0x1):_0x2c64f3=!(-0x1*0x1bd9+0x248e+-0x8b5));const _0x270857=_0x2aaa98['getGraph']();_0x2c64f3?(this['fromSkel']=new $d(_0x270857),this['toSkel']=new $d(_0x270857),this['skeleton']=new $d(_0x270857),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x270857)):_0x2269cf&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0x52e4c1){if(!_0x52e4c1||!_0x52e4c1['length'])return;const _0xaa7224=this['system']['app']['assets'],_0x1a74dd=_0x50b7b5=>{if(_0x50b7b5['resources']['length']>-0x1*0x22fb+0x2058+0x2a4){for(let _0x375b5c=-0x20e*-0x6+-0x3*0xad5+0x142b;_0x375b5c<_0x50b7b5['resources']['length'];_0x375b5c++)this['animations'][_0x50b7b5['resources'][_0x375b5c]['name']]=_0x50b7b5['resources'][_0x375b5c],this['animations'+'Index'][_0x50b7b5['id']]=_0x50b7b5['resources'][_0x375b5c]['name'];}else this['animations'][_0x50b7b5['name']]=_0x50b7b5['resource'],this['animations'+'Index'][_0x50b7b5['id']]=_0x50b7b5['name'];this['animations']=this['animations'];},_0x11ec9c=_0x6dd645=>{_0x6dd645['off']('change',this['onAssetCha'+'nged'],this),_0x6dd645['on']('change',this['onAssetCha'+'nged'],this),_0x6dd645['off']('remove',this['onAssetRem'+'oved'],this),_0x6dd645['on']('remove',this['onAssetRem'+'oved'],this),_0x6dd645['resource']?_0x1a74dd(_0x6dd645):(_0x6dd645['once']('load',_0x1a74dd,this),this['enabled']&&this['entity']['enabled']&&_0xaa7224['load'](_0x6dd645));};for(let _0x575918=-0x1c95+-0x1*-0x2666+-0x9d1,_0x21f168=_0x52e4c1['length'];_0x575918<_0x21f168;_0x575918++){const _0x56d811=_0xaa7224['get'](_0x52e4c1[_0x575918]);_0x56d811?_0x11ec9c(_0x56d811):_0xaa7224['on']('add:'+_0x52e4c1[_0x575918],_0x11ec9c);}}['onAssetCha'+'nged'](_0x53113a,_0xc72f72,_0x4b917a,_0x4f059f){if(_0xc72f72==='resource'||_0xc72f72==='resources'){if(_0xc72f72==='resources'&&_0x4b917a&&_0x4b917a['length']===0x1b84+0x1511+-0x3095*0x1&&(_0x4b917a=null),_0x4b917a){let _0x2d98f1=!(-0x24af+0x11*0x95+0x1acb);if(_0x4b917a['length']>0x2614+-0x60f+-0x2*0x1002){if(_0x4f059f&&_0x4f059f['length']>-0x595+0x20fe+0x8*-0x36d){for(let _0x5a787b=0xe5*-0x1a+-0xbb4+0x22f6;_0x5a787b<_0x4f059f['length'];_0x5a787b++)delete this['animations'][_0x4f059f[_0x5a787b]['name']];}else delete this['animations'][_0x53113a['name']];_0x2d98f1=!(0x13b2+0x7b+-0xa16*0x2);for(let _0x41856d=-0x16ac+0x1005+0x83*0xd;_0x41856d<_0x4b917a['length'];_0x41856d++)this['animations'][_0x4b917a[_0x41856d]['name']]=_0x4b917a[_0x41856d],!_0x2d98f1&&this['currAnim']===_0x4b917a[_0x41856d]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x2d98f1=!(-0x35*-0x49+0x81e+-0x173b),this['play'](_0x4b917a[_0x41856d]['name']));_0x2d98f1||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x4f059f&&_0x4f059f['length']>0x17*-0x58+0x94+0x1*0x755){for(let _0x248df3=0xb*-0x227+-0x2099+0x3846;_0x248df3<_0x4f059f['length'];_0x248df3++)delete this['animations'][_0x4f059f[_0x248df3]['name']];}this['animations'][_0x53113a['name']]=_0x4b917a[0x1aa1*0x1+0xe51+0x6*-0x6d3]||_0x4b917a,_0x2d98f1=!(0xc68+0x4f*-0x1+-0xc18),this['currAnim']===_0x53113a['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x2d98f1=!(0x565*-0x2+0x450+0x1*0x67a),this['play'](_0x53113a['name'])),_0x2d98f1||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x53113a['id']]=_0x53113a['name'];}else{if(_0x4f059f['length']>0x88c*-0x2+-0x1de0+0x2ef9){for(let _0x47f398=-0x1*0x8db+0x169c*-0x1+0x9*0x37f;_0x47f398<_0x4f059f['length'];_0x47f398++)delete this['animations'][_0x4f059f[_0x47f398]['name']],this['currAnim']===_0x4f059f[_0x47f398]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x53113a['name']],this['currAnim']===_0x53113a['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x53113a['id']];}}}['onAssetRem'+'oved'](_0x102b74){if(_0x102b74['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x102b74['resources']['length']>-0xde7*-0x1+0x2*-0x11b2+0x1*0x157e){for(let _0x1dac27=-0x1073+0x12b5*-0x1+0x8ca*0x4;_0x1dac27<_0x102b74['resources']['length'];_0x1dac27++)delete this['animations'][_0x102b74['resources'][_0x1dac27]['name']],this['currAnim']===_0x102b74['resources'][_0x1dac27]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x102b74['name']],this['currAnim']===_0x102b74['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x102b74['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x915*0x1+0x1*-0x31e+0xc34),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x3*-0xc2+0x1*0x20e1+-0x5*0x61f,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x5b308a=0x1c5e+0x139d+-0x2ffb;_0x5b308a<this['animEvalua'+'tor']['clips']['length'];++_0x5b308a)this['animEvalua'+'tor']['clips'][_0x5b308a]['stop']();this['animEvalua'+'tor']['update'](-0x1eb*-0xa+0x1c1e+-0x2f4c),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x5873de=this['assets'],_0x4f2cc0=this['system']['app']['assets'];if(_0x5873de)for(let _0x5e4118=0xe*-0x1d8+-0x2037*0x1+-0xb9b*-0x5,_0x521451=_0x5873de['length'];_0x5e4118<_0x521451;_0x5e4118++){let _0x30c3eb=_0x5873de[_0x5e4118];_0x30c3eb instanceof le||(_0x30c3eb=_0x4f2cc0['get'](_0x30c3eb)),_0x30c3eb&&!_0x30c3eb['resource']&&_0x4f2cc0['load'](_0x30c3eb);}if(this['activate']&&!this['currAnim']){const _0x5c5c29=Object['keys'](this['animations']);_0x5c5c29['length']>0x4*-0x4fe+-0x386*0x5+-0x2596*-0x1&&this['play'](_0x5c5c29[0x56f*-0x1+-0x168e+-0x599*-0x5]);}}['onBeforeRe'+'move'](){for(let _0x52a0ff=0x6*0x65b+0x10b7+-0x13*0x2e3;_0x52a0ff<this['assets']['length'];_0x52a0ff++){let _0xb10495=this['assets'][_0x52a0ff];typeof _0xb10495=='number'&&(_0xb10495=this['system']['app']['assets']['get'](_0xb10495)),_0xb10495&&(_0xb10495['off']('change',this['onAssetCha'+'nged'],this),_0xb10495['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x4b27cc){if(this['blending']&&(this['blend']+=_0x4b27cc*this['blendSpeed'],this['blend']>=0x23c9+-0x3*-0x15+-0x2407&&(this['blend']=-0x2*0xb29+0x21f*0xd+0x40*-0x15)),this['playing']){const _0x38f883=this['skeleton'];if(_0x38f883!==null&&this['model']!==null){if(this['blending'])_0x38f883['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x17bdb4=_0x4b27cc*this['speed'];_0x38f883['addTime'](_0x17bdb4),this['speed']>0x49a+0x215*-0x1+-0x285&&_0x38f883['_time']===_0x38f883['animation']['duration']&&!this['loop']?this['playing']=!(0x551*0x2+0x1*0x1afa+-0x259b):this['speed']<-0xb7c+0x47c*0x8+0xdf*-0x1c&&_0x38f883['_time']===0xd*-0x1fd+-0xbf*-0xf+0x2*0x754&&!this['loop']&&(this['playing']=!(0x1080*-0x2+-0x1145+0x3*0x10c2));}this['blending']&&this['blend']===-0x23*-0x29+0x1f55*0x1+-0x24ef&&(_0x38f883['animation']=this['toSkel']['animation']),_0x38f883['updateGrap'+'h']();}}const _0x1a8136=this['animEvalua'+'tor'];if(_0x1a8136){for(let _0x56ef2b=0x26d8+-0x1301+-0x1*0x13d7;_0x56ef2b<_0x1a8136['clips']['length'];++_0x56ef2b){const _0x1913b5=_0x1a8136['clips'][_0x56ef2b];_0x1913b5['speed']=this['speed'],this['playing']?_0x1913b5['resume']():_0x1913b5['pause']();}this['blending']&&_0x1a8136['clips']['length']>0x251a+0x1809+-0x3d22&&(_0x1a8136['clips'][0x1833+-0x2652+0xe20]['blendWeigh'+'t']=this['blend']),_0x1a8136['update'](_0x4b27cc);}this['blending']&&this['blend']===0x25*0xcf+-0x1ef1+0x1*0x107&&(this['blending']=!(-0x1d*-0x101+-0xc2d+-0x10ef));}}class zP{constructor(){this['enabled']=!(-0x200e+-0x7*0x2a1+-0x3275*-0x1);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x320d79){super(_0x320d79),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3761ab,_0x4db69f,_0x474749){_0x474749=['activate','enabled','loop','speed','assets'];for(const _0x15a291 of _0x474749)_0x4db69f['hasOwnProp'+'erty'](_0x15a291)&&(_0x3761ab[_0x15a291]=_0x4db69f[_0x15a291]);super['initialize'+'ComponentD'+'ata'](_0x3761ab,_0x4db69f,Qu);}['cloneCompo'+'nent'](_0x58450b,_0x568ca8){this['addCompone'+'nt'](_0x568ca8,{}),_0x568ca8['animation']['assets']=_0x58450b['animation']['assets']['slice'](),_0x568ca8['animation']['speed']=_0x58450b['animation']['speed'],_0x568ca8['animation']['loop']=_0x58450b['animation']['loop'],_0x568ca8['animation']['activate']=_0x58450b['animation']['activate'],_0x568ca8['animation']['enabled']=_0x58450b['animation']['enabled'];const _0x2ab5db={},_0x4448ca=_0x58450b['animation']['animations'];for(const _0x8cf8d6 in _0x4448ca)_0x4448ca['hasOwnProp'+'erty'](_0x8cf8d6)&&(_0x2ab5db[_0x8cf8d6]=_0x4448ca[_0x8cf8d6]);_0x568ca8['animation']['animations']=_0x2ab5db;const _0x2b1e77={},_0x4b1275=_0x58450b['animation']['animations'+'Index'];for(const _0x279807 in _0x4b1275)_0x4b1275['hasOwnProp'+'erty'](_0x279807)&&(_0x2b1e77[_0x279807]=_0x4b1275[_0x279807]);return _0x568ca8['animation']['animations'+'Index']=_0x2b1e77,_0x568ca8['animation'];}['onBeforeRe'+'move'](_0x36c0f4,_0x167be1){_0x167be1['onBeforeRe'+'move']();}['onUpdate'](_0x1c81c1){const _0x288388=this['store'];for(const _0x1471c2 in _0x288388)if(_0x288388['hasOwnProp'+'erty'](_0x1471c2)){const _0x2cce49=_0x288388[_0x1471c2];_0x2cce49['data']['enabled']&&_0x2cce49['entity']['enabled']&&_0x2cce49['entity']['animation']['update'](_0x1c81c1);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x295204,_0x1477cf,_0x4ae6bd,_0xae4168,_0x5b863f=0xb3f*-0x2+-0x18b5+-0x9f*-0x4c){this['_state']=_0x295204,this['_parent']=_0x1477cf,this['_name']=_0x4ae6bd,Array['isArray'](_0xae4168)?(this['_point']=new $(_0xae4168[-0x1*0x1d56+0x88f+0x14c7],_0xae4168[-0x4e1+-0x4*-0x25a+0xc1*-0x6]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0xae4168,this['_pointLeng'+'th']=_0xae4168),this['_speed']=_0x5b863f,this['_weightedS'+'peed']=0xc5*0x17+0xa*-0x67+-0xdac,this['_weight']=-0x22e6+0x2287+0x60*0x1,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x420df9){this['_weight']=_0x420df9;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x2e4aab=this['_state']['totalWeigh'+'t'];return _0x2e4aab===0x1c00+-0x1876+-0x38a?0x4*0x644+-0x24*-0x8d+0x4*-0xb39:this['weight']/_0x2e4aab;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x2bae9a){this['_weightedS'+'peed']=_0x2bae9a;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x1227f9){this['_animTrack']=_0x1227f9;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x5aaf3d,_0x30df48,_0x3c08ec,_0x889d6e,_0x4d3f70,_0x5f2889,_0x1f8e85,_0x207dce,_0x41fe99){super(_0x5aaf3d,_0x30df48,_0x3c08ec,_0x889d6e),this['_parameter'+'s']=_0x4d3f70,this['_parameter'+'Values']=new Array(_0x4d3f70['length']),this['_children']=[],this['_findParam'+'eter']=_0x41fe99,this['_syncAnima'+'tions']=_0x1f8e85!==!(-0x11d4+-0x1eda+0x30af),this['_pointCach'+'e']={};for(let _0x5a6358=-0x1a62+0xd*0x47+0x16c7;_0x5a6358<_0x5f2889['length'];_0x5a6358++){const _0x1b0dc6=_0x5f2889[_0x5a6358];_0x1b0dc6['children']?this['_children']['push'](_0x207dce(_0x1b0dc6['type'],_0x5aaf3d,this,_0x1b0dc6['name'],0x24f1+0x25c*-0xd+0x322*-0x2,_0x1b0dc6['parameter']?[_0x1b0dc6['parameter']]:_0x1b0dc6['parameters'],_0x1b0dc6['children'],_0x1b0dc6['syncAnimat'+'ions'],_0x207dce,_0x41fe99)):this['_children']['push'](new Uo(_0x5aaf3d,this,_0x1b0dc6['name'],_0x1b0dc6['point'],_0x1b0dc6['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x51855c){for(let _0x59a5bc=-0x1a7+0x529*0x3+-0xec*0xf;_0x59a5bc<this['_children']['length'];_0x59a5bc++)if(this['_children'][_0x59a5bc]['name']===_0x51855c)return this['_children'][_0x59a5bc];return null;}['updatePara'+'meterValue'+'s'](){let _0x490b3d=!(0xcde+-0x17de+-0x580*-0x2);for(let _0x2e19a4=-0x2*-0x10b0+0x515*0x3+-0x309f;_0x2e19a4<this['_parameter'+'Values']['length'];_0x2e19a4++){const _0x22324f=this['_findParam'+'eter'](this['_parameter'+'s'][_0x2e19a4])['value'];this['_parameter'+'Values'][_0x2e19a4]!==_0x22324f&&(this['_parameter'+'Values'][_0x2e19a4]=_0x22324f,_0x490b3d=!(-0x33*0x17+-0x1*-0x1664+0x1*-0x11ce));}return _0x490b3d;}['getNodeWei'+'ghtedDurat'+'ion'](_0x544a76){return this['_children'][_0x544a76]['animTrack']['duration']/this['_children'][_0x544a76]['speedMulti'+'plier']*this['_children'][_0x544a76]['weight'];}['getNodeCou'+'nt'](){let _0x4560f4=0x1e22+0x26e2+-0x4504;for(let _0x4ff746=-0x1618+0x2*-0x137+-0x1886*-0x1;_0x4ff746<this['_children']['length'];_0x4ff746++)this['_children'][_0x4ff746]['constructo'+'r']===Ba?_0x4560f4+=this['_children'][_0x4ff746]['getNodeCou'+'nt']():_0x4560f4++;return _0x4560f4;}}class VP extends Ba{constructor(_0x4f0940,_0x276baa,_0x50bd37,_0x37f16a,_0x5adfa4,_0x25b53c,_0x225452,_0x45ee34,_0x3d0bd3){_0x25b53c['sort']((_0x1b2e42,_0x3d7b2c)=>_0x1b2e42['point']-_0x3d7b2c['point']),super(_0x4f0940,_0x276baa,_0x50bd37,_0x37f16a,_0x5adfa4,_0x25b53c,_0x225452,_0x45ee34,_0x3d0bd3);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2855ec=-0xead+0x1*-0x599+0x40e*0x5;this['_children'][-0x2406+0x173+0x2293]['weight']=-0x1f7a+-0xecb+0x2e45;for(let _0x1e2313=-0xcc3+0x25b8+-0x18f5;_0x1e2313<this['_children']['length'];_0x1e2313++){const _0x1be59d=this['_children'][_0x1e2313];if(_0x1e2313!==this['_children']['length']-(0x291*-0x5+-0x1d*-0x60+0x1f6)){const _0x126223=this['_children'][_0x1e2313+(0xde7+0x12ca+-0x20b0)];if(_0x1be59d['point']===_0x126223['point'])_0x1be59d['weight']=-0x1*0x1d85+0xb6f+0x90b*0x2+0.5,_0x126223['weight']=0x17b5+0x2f5*-0x1+0x14c0*-0x1+0.5;else{if(N['between'](this['_parameter'+'Values'][0x17c*0x13+0x2097+-0x3ccb],_0x1be59d['point'],_0x126223['point'],!(0x59*0x35+-0x66*0x5b+0x11d5))){const _0x11fbf9=Math['abs'](_0x1be59d['point']-_0x126223['point']),_0x2427f7=Math['abs'](_0x1be59d['point']-this['_parameter'+'Values'][0xe20+-0xd76+0x5*-0x22]),_0x1543ab=(_0x11fbf9-_0x2427f7)/_0x11fbf9;_0x1be59d['weight']=_0x1543ab,_0x126223['weight']=-0xfbc+0x1*0x783+0x12*0x75-_0x1543ab;}else _0x126223['weight']=0x7*0x167+0x1a59+-0x242a;}}this['_syncAnima'+'tions']&&(_0x2855ec+=_0x1be59d['animTrack']['duration']/_0x1be59d['absoluteSp'+'eed']*_0x1be59d['weight']);}if(this['_syncAnima'+'tions'])for(let _0x25257c=-0x1df4+-0x13d3+0x31c7;_0x25257c<this['_children']['length'];_0x25257c++){const _0x2bc84b=this['_children'][_0x25257c];_0x2bc84b['weightedSp'+'eed']=_0x2bc84b['animTrack']['duration']/_0x2bc84b['absoluteSp'+'eed']/_0x2855ec;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0x5e864f,_0x19aab2){const _0x22620e=''+_0x5e864f+_0x19aab2;return this['_pointCach'+'e'][_0x22620e]||(this['_pointCach'+'e'][_0x22620e]=this['_children'][_0x19aab2]['point']['clone']()['sub'](this['_children'][_0x5e864f]['point'])),this['_pointCach'+'e'][_0x22620e];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x1dad82,_0x1d9073;gi['_p']['set'](...this['_parameter'+'Values']),_0x1dad82=-0x1e39*0x1+0x5*-0x6ab+-0x4*-0xfe4,_0x1d9073=-0x1a59+0xc5*0x1e+-0x5*-0xa7;for(let _0xb6e876=-0x2*-0x767+0x217f+-0x304d;_0xb6e876<this['_children']['length'];_0xb6e876++){const _0x3d7ab2=this['_children'][_0xb6e876],_0x49c724=_0x3d7ab2['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x49c724);let _0x4bab96=Number['MAX_VALUE'];for(let _0x576905=0x1354+-0x26c8+0x2*0x9ba;_0x576905<this['_children']['length'];_0x576905++){if(_0xb6e876===_0x576905)continue;const _0x4812e=this['pointDista'+'nceCache'](_0xb6e876,_0x576905),_0x2778f6=N['clamp'](0x1f9*-0x5+0x2a1*0xe+0x35e*-0x8-gi['_pip']['dot'](_0x4812e)/_0x4812e['lengthSq'](),0x1861+-0x12*-0x12b+-0x2d67,0x3e0+-0x2*-0x114a+0x3*-0xcd1);_0x2778f6<_0x4bab96&&(_0x4bab96=_0x2778f6);}_0x3d7ab2['weight']=_0x4bab96,_0x1dad82+=_0x4bab96,this['_syncAnima'+'tions']&&(_0x1d9073+=_0x3d7ab2['animTrack']['duration']/_0x3d7ab2['absoluteSp'+'eed']*_0x3d7ab2['weight']);}for(let _0x506f9e=0xac5+-0x3e*0x65+0x2bd*0x5;_0x506f9e<this['_children']['length'];_0x506f9e++){const _0x2efc4b=this['_children'][_0x506f9e];_0x2efc4b['weight']=_0x2efc4b['_weight']/_0x1dad82,this['_syncAnima'+'tions']&&(_0x2efc4b['weightedSp'+'eed']=_0x2efc4b['animTrack']['duration']/_0x2efc4b['absoluteSp'+'eed']/_0x1d9073);}}};c(gi,'_p',new $()),c(gi,'_pip',new $());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0x69752e,_0x11470c){const _0xc7cde2=''+_0x69752e+_0x11470c;return this['_pointCach'+'e'][_0xc7cde2]||(this['_pointCach'+'e'][_0xc7cde2]=new $((this['_children'][_0x11470c]['pointLengt'+'h']-this['_children'][_0x69752e]['pointLengt'+'h'])/((this['_children'][_0x11470c]['pointLengt'+'h']+this['_children'][_0x69752e]['pointLengt'+'h'])/(-0x8f*-0xb+-0x85d+0x3*0xbe)),$['angleRad'](this['_children'][_0x69752e]['point'],this['_children'][_0x11470c]['point'])*(0x16*-0x155+-0x12*-0x196+0xc4))),this['_pointCach'+'e'][_0xc7cde2];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x88331,_0x51c571;yi['_p']['set'](...this['_parameter'+'Values']);const _0x38621d=yi['_p']['length']();_0x88331=0x5*0x3ad+-0x119*-0x17+-0x574*0x8,_0x51c571=-0x19ac+-0x7cf*0x5+0x40b7;for(let _0x156454=0xb3*-0x1d+0x10c4*0x1+-0x383*-0x1;_0x156454<this['_children']['length'];_0x156454++){const _0x518ef3=this['_children'][_0x156454],_0xae1adf=_0x518ef3['point'],_0x36b967=_0x518ef3['pointLengt'+'h'];let _0x3aa6e4=Number['MAX_VALUE'];for(let _0xb65f8c=-0x4*-0x32f+-0x775+-0x547;_0xb65f8c<this['_children']['length'];_0xb65f8c++){if(_0x156454===_0xb65f8c)continue;const _0xbbdd47=this['pointCache'](_0x156454,_0xb65f8c),_0xcc1f7d=this['_children'][_0xb65f8c]['pointLengt'+'h'];yi['_pip']['set']((_0x38621d-_0x36b967)/((_0xcc1f7d+_0x36b967)/(-0x41*0x8b+-0xa3*0x1+0x23f0)),$['angleRad'](_0xae1adf,yi['_p'])*(0xc65+-0xc49+-0x1a));const _0x10115c=N['clamp'](-0x1115+-0x373*-0x2+-0x28c*-0x4-Math['abs'](yi['_pip']['dot'](_0xbbdd47)/_0xbbdd47['lengthSq']()),-0x1*-0x2112+0x195a+-0x3a6c,-0x14b*0x13+-0xc7*0x21+-0x1*-0x3239);_0x10115c<_0x3aa6e4&&(_0x3aa6e4=_0x10115c);}_0x518ef3['weight']=_0x3aa6e4,_0x88331+=_0x3aa6e4,this['_syncAnima'+'tions']&&(_0x51c571+=_0x518ef3['animTrack']['duration']/_0x518ef3['absoluteSp'+'eed']*_0x518ef3['weight']);}for(let _0x243a0d=-0xdfc+0x52f*0x5+0xd*-0xeb;_0x243a0d<this['_children']['length'];_0x243a0d++){const _0x22d65d=this['_children'][_0x243a0d];if(_0x22d65d['weight']=_0x22d65d['_weight']/_0x88331,this['_syncAnima'+'tions']){const _0x5f681b=_0x22d65d['animTrack']['duration']/_0x51c571*_0x88331;_0x22d65d['weightedSp'+'eed']=_0x22d65d['absoluteSp'+'eed']*_0x5f681b;}}}};c(yi,'_p',new $()),c(yi,'_pip',new $());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x39baac=-0x1707+0x3e3+0x46*0x46,_0x1cc29e=0xee4*-0x1+0x293*-0x4+-0xd0*-0x1f;for(let _0x56deb2=0x1*-0x1f01+-0x11af+-0x10*-0x30b;_0x56deb2<this['_children']['length'];_0x56deb2++)if(_0x39baac+=Math['max'](this['_parameter'+'Values'][_0x56deb2],0x1*-0x2252+0x12e8+0xf6a),this['_syncAnima'+'tions']){const _0x16e2ea=this['_children'][_0x56deb2];_0x1cc29e+=_0x16e2ea['animTrack']['duration']/_0x16e2ea['absoluteSp'+'eed']*_0x16e2ea['weight'];}for(let _0x5f4211=0x14da+-0x3e*0x27+-0xb68;_0x5f4211<this['_children']['length'];_0x5f4211++){const _0x31cb7a=this['_children'][_0x5f4211],_0x54ef94=Math['max'](this['_parameter'+'Values'][_0x5f4211],0x53b*0x1+0x1b5d+-0x2098);_0x39baac?(_0x31cb7a['weight']=_0x54ef94/_0x39baac,this['_syncAnima'+'tions']&&(_0x31cb7a['weightedSp'+'eed']=_0x31cb7a['animTrack']['duration']/_0x31cb7a['absoluteSp'+'eed']/_0x1cc29e)):(_0x31cb7a['weight']=-0xc37+0x1*0x1e8e+-0x1257*0x1,this['_syncAnima'+'tions']&&(_0x31cb7a['weightedSp'+'eed']=-0x838*-0x4+0x119*-0xd+-0x129b));}}}class eg{constructor(_0x5bf80e,_0x489d23,_0x28b4e0=0x27*-0x2f+0x2660+-0x1f36,_0xf34131=!(0x1a2c+-0xd6b*0x2+0xaa),_0x1d37fb){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x5bf80e,this['_name']=_0x489d23,this['_speed']=_0x28b4e0,this['_loop']=_0xf34131,this['_hasAnimat'+'ions']=!(0x10*-0x13b+0xa53*-0x3+-0x1955*-0x2),_0x1d37fb?this['_blendTree']=this['_createTre'+'e'](_0x1d37fb['type'],this,null,_0x489d23,-0x115c+-0x4a*-0x2+-0x1*-0x10c9,_0x1d37fb['parameter']?[_0x1d37fb['parameter']]:_0x1d37fb['parameters'],_0x1d37fb['children'],_0x1d37fb['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x489d23,-0x1c+0x2a1*0xb+-0x1cce,_0x28b4e0));}['_createTre'+'e'](_0x4c7285,_0x1e5ff8,_0x48bbcf,_0x4d90a6,_0x36147f,_0x49677c,_0x5b431a,_0x21c309,_0x1b48ae,_0x2fa00f){switch(_0x4c7285){case FP:return new VP(_0x1e5ff8,_0x48bbcf,_0x4d90a6,_0x36147f,_0x49677c,_0x5b431a,_0x21c309,_0x1b48ae,_0x2fa00f);case kP:return new Ju(_0x1e5ff8,_0x48bbcf,_0x4d90a6,_0x36147f,_0x49677c,_0x5b431a,_0x21c309,_0x1b48ae,_0x2fa00f);case OP:return new ef(_0x1e5ff8,_0x48bbcf,_0x4d90a6,_0x36147f,_0x49677c,_0x5b431a,_0x21c309,_0x1b48ae,_0x2fa00f);case BP:return new GP(_0x1e5ff8,_0x48bbcf,_0x4d90a6,_0x36147f,_0x49677c,_0x5b431a,_0x21c309,_0x1b48ae,_0x2fa00f);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x4c7285);}['_getNodeFr'+'omPath'](_0x58f581){let _0x1dec79=this['_blendTree'];for(let _0x22b3e0=0x509*0x1+0x16b1+-0x1bb9;_0x22b3e0<_0x58f581['length'];_0x22b3e0++)_0x1dec79=_0x1dec79['getChild'](_0x58f581[_0x22b3e0]);return _0x1dec79;}['addAnimati'+'on'](_0x43a301,_0x4df0bb){const _0x91d667=_0x43a301['join']('.'),_0x30ef37=this['_animation'+'List']['findIndex'](_0x5a876e=>_0x5a876e['path']===_0x91d667);if(_0x30ef37>=0x346*0x2+-0x579*-0x4+-0x1c70*0x1)this['_animation'+'List'][_0x30ef37]['animTrack']=_0x4df0bb;else{const _0x485b59=this['_getNodeFr'+'omPath'](_0x43a301);_0x485b59['animTrack']=_0x4df0bb,this['_animation'+'List']['push'](_0x485b59);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x3*0x3ad+-0x1f08+0x2a0f&&this['_animation'+'List']['every'](_0x756c35=>_0x756c35['animTrack']&&_0x756c35['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x3c4e3a){this['_animation'+'List']=_0x3c4e3a,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x534623){this['_speed']=_0x534623;}get['speed'](){return this['_speed'];}set['loop'](_0x265f88){this['_loop']=_0x265f88;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?-0x1ce*-0xc+0xa*-0x20b+-0x139:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(0x1*0x17b+0x6*0x1d3+-0xc6c)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x2350+0x1*0x31e+-0x266e){const _0x6e7b98=this['name']+'.'+this['animations'][-0x1e19+0x2689+-0x10e*0x8]['animTrack']['name'],_0x48b26d=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x6e7b98);if(_0x48b26d)return _0x48b26d['loop'];}return!(0x1*0x151f+0x24f3+0x1*-0x3a11);}get['totalWeigh'+'t'](){let _0x45bc3d=-0xc*0x204+0x2199+0xb*-0xdb;for(let _0x143ced=0x2d*0x47+0x4*0x3bf+-0x1b77;_0x143ced<this['animations']['length'];_0x143ced++)_0x45bc3d+=this['animations'][_0x143ced]['weight'];return _0x45bc3d;}get['timelineDu'+'ration'](){let _0x40e1d4=0x11a3+-0x2384*0x1+0x1*0x11e1;for(let _0x4ce12b=-0x143*-0xd+0x22f2+-0xb*0x4ab;_0x4ce12b<this['animations']['length'];_0x4ce12b++){const _0x215db2=this['animations'][_0x4ce12b];_0x215db2['animTrack']['duration']>_0x40e1d4&&(_0x40e1d4=_0x215db2['animTrack']['duration']);}return _0x40e1d4;}}class Yh{constructor({from:_0x359486,to:_0x77bb37,time:_0x5c93eb=-0x16*0x124+-0x11a4+0x2abc,priority:_0x4260b3=0x250f+-0x26ad+0x3*0x8a,conditions:_0x5702e7=[],exitTime:_0x331a3a=null,transitionOffset:_0x227e8c=null,interruptionSource:_0x53cb2a=q0}){this['_from']=_0x359486,this['_to']=_0x77bb37,this['_time']=_0x5c93eb,this['_priority']=_0x4260b3,this['_condition'+'s']=_0x5702e7,this['_exitTime']=_0x331a3a,this['_transitio'+'nOffset']=_0x227e8c,this['_interrupt'+'ionSource']=_0x53cb2a;}get['from'](){return this['_from'];}set['to'](_0x7ae328){this['_to']=_0x7ae328;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0xb84db5,_0x41368c,_0x5a75e4,_0x26fcfe,_0x972572,_0xfc35cc,_0x5df89e){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',-0x89e+-0xf0d*-0x1+-0x3*0x225),c(this,'_activeSta'+'teDuration'+'Dirty',!(-0x253*0xa+0x107d+0x6c1)),c(this,'_playing',!(0x244+0x1786+0x29*-0xa1)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',0x22f6+0x2666+-0x495b),c(this,'_totalTran'+'sitionTime',0x91*0x3b+-0x1c03+0x567*-0x1),c(this,'_isTransit'+'ioning',!(0x15f7*-0x1+0x1f6e+0x7*-0x15a)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0x1df4+0x1*0x3f5+-0x21e9),c(this,'_timeInSta'+'teBefore',-0x546*-0x3+-0xf*0x11b+-0x27*-0x5),c(this,'findParame'+'ter',_0x16b7a1=>this['_findParam'+'eter'](_0x16b7a1)),(this['_animEvalu'+'ator']=_0xb84db5,this['_eventHand'+'ler']=_0x972572,this['_findParam'+'eter']=_0xfc35cc,this['_consumeTr'+'igger']=_0x5df89e);for(let _0x1046ee=0x1*0x25d2+0x1ce2+-0x6*0xb1e;_0x1046ee<_0x41368c['length'];_0x1046ee++)this['_states'][_0x41368c[_0x1046ee]['name']]=new eg(this,_0x41368c[_0x1046ee]['name'],_0x41368c[_0x1046ee]['speed'],_0x41368c[_0x1046ee]['loop'],_0x41368c[_0x1046ee]['blendTree']),this['_stateName'+'s']['push'](_0x41368c[_0x1046ee]['name']);this['_transitio'+'ns']=_0x5a75e4['map'](_0x38b24e=>new Yh({..._0x38b24e})),this['_activate']=_0x26fcfe;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x2cd1cf){this['_activeSta'+'teName']=_0x2cd1cf;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x55c008){this['_previousS'+'tateName']=_0x55c008;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x3bf28a=!(-0x4ee+0x671+-0x183);for(let _0xcea139=-0x11ed*0x1+-0x2152+0x3*0x1115;_0xcea139<this['_stateName'+'s']['length'];_0xcea139++)this['_states'][this['_stateName'+'s'][_0xcea139]]['playable']||(_0x3bf28a=!(-0x23b*-0x11+-0xe*-0x1a0+-0x3caa));return _0x3bf28a;}set['playing'](_0x1c652a){this['_playing']=_0x1c652a;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x6729ff=0x28c+-0x3*-0x158+0x1*-0x694;for(let _0x44bebf=0x8*-0x3d7+0x9*0x17e+0x2*0x8a5;_0x44bebf<this['activeStat'+'eAnimation'+'s']['length'];_0x44bebf++){const _0x4ddb40=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x44bebf]['name']);_0x4ddb40&&(_0x6729ff=Math['max'](_0x6729ff,_0x4ddb40['track']['duration']));}this['_activeSta'+'teDuration']=_0x6729ff,this['_activeSta'+'teDuration'+'Dirty']=!(-0x1562+0x2*-0x12db+0x29*0x171);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x3dde3e){this['_timeInSta'+'teBefore']=_0x3dde3e,this['_timeInSta'+'te']=_0x3dde3e;for(let _0xe068=-0x234*0xd+0x19b8+0xb*0x44;_0xe068<this['activeStat'+'eAnimation'+'s']['length'];_0xe068++){const _0x529725=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0xe068]['name']);_0x529725&&(_0x529725['time']=_0x3dde3e);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x357086){return this['_animEvalu'+'ator']['assignMask'](_0x357086);}['_findState'](_0x347c55){return this['_states'][_0x347c55];}['_getActive'+'StateProgr'+'essForTime'](_0x967b90){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return 0xa43+-0x2587+0x1b45;const _0x459600=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0x4*-0x392+-0x269b+0x34e3]['name']);return _0x459600?_0x459600['progressFo'+'rTime'](_0x967b90):null;}['_findTrans'+'itionsFrom'+'State'](_0x1b1644){let _0x5693a8=this['_findTrans'+'itionsFrom'+'StateCache'][_0x1b1644];return _0x5693a8||(_0x5693a8=this['_transitio'+'ns']['filter'](_0xc55cc5=>_0xc55cc5['from']===_0x1b1644),No(_0x5693a8),this['_findTrans'+'itionsFrom'+'StateCache'][_0x1b1644]=_0x5693a8),_0x5693a8;}['_findTrans'+'itionsBetw'+'eenStates'](_0x1b8ef6,_0x46707c){let _0x5de11e=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1b8ef6+'->'+_0x46707c];return _0x5de11e||(_0x5de11e=this['_transitio'+'ns']['filter'](_0x2eb59a=>_0x2eb59a['from']===_0x1b8ef6&&_0x2eb59a['to']===_0x46707c),No(_0x5de11e),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x1b8ef6+'->'+_0x46707c]=_0x5de11e),_0x5de11e;}['_transitio'+'nHasCondit'+'ionsMet'](_0x5669b2){const _0xf363c7=_0x5669b2['conditions'];for(let _0x22d2ee=-0x1933+-0x10bf+0x29f2;_0x22d2ee<_0xf363c7['length'];_0x22d2ee++){const _0x23f71b=_0xf363c7[_0x22d2ee],_0xe7a065=this['_findParam'+'eter'](_0x23f71b['parameterN'+'ame']);switch(_0x23f71b['predicate']){case MP:if(!(_0xe7a065['value']>_0x23f71b['value']))return!(-0x2581+-0xfb2+0x3534);break;case PP:if(!(_0xe7a065['value']<_0x23f71b['value']))return!(-0x1*-0x1746+-0x1*0x8d4+0xe71*-0x1);break;case RP:if(!(_0xe7a065['value']>=_0x23f71b['value']))return!(-0xa69+-0x1a72+0x24dc);break;case IP:if(!(_0xe7a065['value']<=_0x23f71b['value']))return!(0x1f*0x62+0x1819*-0x1+-0x57*-0x24);break;case DP:if(_0xe7a065['value']!==_0x23f71b['value'])return!(0x3*-0x2e3+-0x1be2+0x923*0x4);break;case LP:if(_0xe7a065['value']===_0x23f71b['value'])return!(0x208e+-0x3*-0xa7b+0x3ffe*-0x1);break;}}return!(0x158a+0x529+-0x1ab3);}['_findTrans'+'ition'](_0x43c007,_0x3e3269){let _0x33f69d=[];if(_0x43c007&&_0x3e3269)_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x43c007,_0x3e3269));else{if(!this['_isTransit'+'ioning'])_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x33f69d=_0x33f69d['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x33f69d=_0x33f69d['filter'](_0x209385=>{if(_0x209385['to']===this['activeStat'+'eName'])return!(-0x32d*0xb+0x1764+0xb8c);if(_0x209385['hasExitTim'+'e']){let _0x5bd9a8=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x201c6c=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x209385['exitTime']<-0x12*0x24+0xb66+-0x1*0x8dd&&this['activeStat'+'e']['loop']&&(_0x5bd9a8-=Math['floor'](_0x5bd9a8),_0x201c6c-=Math['floor'](_0x201c6c)),_0x201c6c===_0x5bd9a8){if(_0x201c6c!==_0x209385['exitTime'])return null;}else{if(!(_0x209385['exitTime']>_0x5bd9a8&&_0x209385['exitTime']<=_0x201c6c))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x209385);}),_0x33f69d['length']>-0x9*-0x3bc+-0x2*0x28b+-0x1c86){const _0x50d67f=_0x33f69d[-0x10*0x86+0x10d1+-0x871];if(_0x50d67f['to']===Ku){const _0x49eeb6=this['_findTrans'+'itionsFrom'+'State'](oo)[-0x2bb+0x6*0x659+-0x235b];_0x50d67f['to']=_0x49eeb6['to'];}return _0x50d67f;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x2eb0b3){let _0xbe3ea8,_0x48ac74,_0x3ead51;this['previousSt'+'ate']=_0x2eb0b3['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x2eb0b3['to'],this['_activeSta'+'teDuration'+'Dirty']=!(-0x1ff2+-0x1996+0x838*0x7);for(let _0x5664b9=0x1a8+0x1dba+-0xce*0x27;_0x5664b9<_0x2eb0b3['conditions']['length'];_0x5664b9++){const _0x196fcd=_0x2eb0b3['conditions'][_0x5664b9];this['_findParam'+'eter'](_0x196fcd['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x196fcd['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0xa81e80=Math['min'](this['_totalTran'+'sitionTime']!==0xed9+0x81d+-0x16f6?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x956+-0x1f15*0x1+0x34*0xc7,0x9e4+0x20ff+-0x2ae2);for(let _0x52a541=0x1dd0+0x56*-0x2+-0x14*0x175;_0x52a541<this['_transitio'+'nPreviousS'+'tates']['length'];_0x52a541++){this['_isTransit'+'ioning']?_0x52a541!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x1b16+0x43a+0x16dd)?this['_transitio'+'nPreviousS'+'tates'][_0x52a541]['weight']*=-0x1381+0x553*0x1+0xe2f-_0xa81e80:this['_transitio'+'nPreviousS'+'tates'][_0x52a541]['weight']=_0xa81e80:this['_transitio'+'nPreviousS'+'tates'][_0x52a541]['weight']=0x1c8a+0x1adb+-0x3764,_0xbe3ea8=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x52a541]['name']);for(let _0x138f22=-0xa*-0x2de+-0x1*-0x142b+-0x30d7;_0x138f22<_0xbe3ea8['animations']['length'];_0x138f22++)_0x48ac74=_0xbe3ea8['animations'][_0x138f22],_0x3ead51=this['_animEvalu'+'ator']['findClip'](_0x48ac74['name']+'.previous.'+_0x52a541),_0x3ead51||(_0x3ead51=this['_animEvalu'+'ator']['findClip'](_0x48ac74['name']),_0x3ead51['name']=_0x48ac74['name']+'.previous.'+_0x52a541),_0x52a541!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x32f+0x170f*0x1+-0x13df*0x1)&&_0x3ead51['pause']();}}this['_isTransit'+'ioning']=!(-0x6c1+0x5*-0x51a+-0xac1*-0x3),this['_totalTran'+'sitionTime']=_0x2eb0b3['time'],this['_currTrans'+'itionTime']=-0xaa*-0x15+0x1*-0x1293+0x4a1,this['_transitio'+'nInterrupt'+'ionSource']=_0x2eb0b3['interrupti'+'onSource'];const _0x2cd95e=this['activeStat'+'e'],_0x1987b8=_0x2eb0b3['transition'+'Offset']&&_0x2eb0b3['transition'+'Offset']>-0x1628+0x250a+-0xee2&&_0x2eb0b3['transition'+'Offset']<0x199f+-0x1aa3+0x105;let _0x266bd7=0xdee+0x18e*-0xb+0x32c,_0x1cb551=-0x2102*0x1+0x33*-0x53+0x318b;if(_0x1987b8){const _0x1d8fbd=_0x2cd95e['timelineDu'+'ration']*_0x2eb0b3['transition'+'Offset'];_0x266bd7=_0x1d8fbd,_0x1cb551=_0x1d8fbd;}this['_timeInSta'+'te']=_0x266bd7,this['_timeInSta'+'teBefore']=_0x1cb551;for(let _0x238580=0x49*0x1+0x13d*-0x3+0x1*0x36e;_0x238580<_0x2cd95e['animations']['length'];_0x238580++){if(_0x3ead51=this['_animEvalu'+'ator']['findClip'](_0x2cd95e['animations'][_0x238580]['name']),_0x3ead51)_0x3ead51['reset']();else{const _0x16f282=Number['isFinite'](_0x2cd95e['animations'][_0x238580]['speed'])?_0x2cd95e['animations'][_0x238580]['speed']:_0x2cd95e['speed'];_0x3ead51=new Xh(_0x2cd95e['animations'][_0x238580]['animTrack'],this['_timeInSta'+'te'],_0x16f282,!(-0x275+0x72e*-0x1+0x9a3),_0x2cd95e['loop'],this['_eventHand'+'ler']),_0x3ead51['name']=_0x2cd95e['animations'][_0x238580]['name'],this['_animEvalu'+'ator']['addClip'](_0x3ead51);}if(_0x2eb0b3['time']>0x107d+0xab*-0x2f+-0x18*-0x9f?_0x3ead51['blendWeigh'+'t']=-0x1148+-0x577+0x287*0x9:_0x3ead51['blendWeigh'+'t']=_0x2cd95e['animations'][_0x238580]['normalized'+'Weight'],_0x3ead51['play'](),_0x1987b8)_0x3ead51['time']=_0x2cd95e['timelineDu'+'ration']*_0x2eb0b3['transition'+'Offset'];else{const _0x29f055=_0x2cd95e['speed']>=-0x1*-0xd6+0xd1*-0x24+0x1c8e?0x800*0x1+-0x14b9+-0x1*-0xcb9:this['activeStat'+'eDuration'];_0x3ead51['time']=_0x29f055;}}}['_transitio'+'nToState'](_0xc7b6c2){if(!this['_findState'](_0xc7b6c2))return;let _0x37d1fb=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0xc7b6c2);_0x37d1fb||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x37d1fb=new Yh({'from':null,'to':_0xc7b6c2})),this['updateStat'+'eFromTrans'+'ition'](_0x37d1fb);}['assignAnim'+'ation'](_0x257104,_0x29cf19,_0x524324,_0x3264c4){const _0x43274e=_0x257104['split']('.');let _0x4b5625=this['_findState'](_0x43274e[0x1a59+-0x3*0x74f+-0x4*0x11b]);_0x4b5625||(_0x4b5625=new eg(this,_0x43274e[0x5bc*0x2+0x1e6b*0x1+-0x29e3*0x1],_0x524324),this['_states'][_0x43274e[0x1b6+-0x1*0x1183+0x5*0x329]]=_0x4b5625,this['_stateName'+'s']['push'](_0x43274e[-0x118+-0x74c+0x864])),_0x4b5625['addAnimati'+'on'](_0x43274e,_0x29cf19),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x4b5625['name'],_0x29cf19),_0x524324!==void(-0x592+0xfda+0x7*-0x178)&&(_0x4b5625['speed']=_0x524324),_0x3264c4!==void(-0x397+-0xaf1*0x2+0x1979)&&(_0x4b5625['loop']=_0x3264c4),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x1a*0xe3+0x1*0xe9c+0x872);}['removeNode'+'Animations'](_0x2efb5d){if(jh['indexOf'](_0x2efb5d)!==-(0x3*-0x791+-0x283*0xd+0x375b))return!(0x4*0x537+-0x2*0xfad+0xa7f);const _0x3ecec1=this['_findState'](_0x2efb5d);return _0x3ecec1?(_0x3ecec1['animations']=[],!(-0x21a1+-0x18cd+0x3a6e)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x2efb5d),!(0x3d*0x6b+0x3d6*-0x1+-0x15a8));}['play'](_0x11231e){_0x11231e&&this['_transitio'+'nToState'](_0x11231e),this['_playing']=!(0x8f7*-0x2+-0x11e9+0x72b*0x5);}['pause'](){this['_playing']=!(-0x1aac*-0x1+-0x228b+-0x30*-0x2a);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(-0xb3e+0x1b4e+-0x100f),this['_currTrans'+'itionTime']=-0x26d6*-0x1+0x698*-0x2+-0x19a5,this['_totalTran'+'sitionTime']=-0xf61+0x1*-0x15e9+0x254b,this['_isTransit'+'ioning']=!(0xb7f+0x1*-0xfe2+0x4*0x119),this['_timeInSta'+'te']=-0x1*0x1145+0x225a+-0x1115,this['_timeInSta'+'teBefore']=-0x2372+0x647+-0x13*-0x189,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x3e8a74){if(!this['_playing'])return;let _0xbc8710,_0x124d42,_0x6e9a0;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x3e8a74*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x3e8a74=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x18f03f=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x18f03f&&this['updateStat'+'eFromTrans'+'ition'](_0x18f03f),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x3e8a74,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x969311=this['_totalTran'+'sitionTime']!==0x55+0x6b8+-0x70d?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x2*0x5f7+-0x230b+0x171e;for(let _0x25fec5=0x1ef2+0xc89+-0x2b7b*0x1;_0x25fec5<this['_transitio'+'nPreviousS'+'tates']['length'];_0x25fec5++){_0xbc8710=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x25fec5]['name']);const _0x456e6c=this['_transitio'+'nPreviousS'+'tates'][_0x25fec5]['weight'];for(let _0x69bf50=-0x3*-0x558+0x26d*0x4+0xf4*-0x1b;_0x69bf50<_0xbc8710['animations']['length'];_0x69bf50++)_0x124d42=_0xbc8710['animations'][_0x69bf50],_0x6e9a0=this['_animEvalu'+'ator']['findClip'](_0x124d42['name']+'.previous.'+_0x25fec5),_0x6e9a0&&(_0x6e9a0['blendWeigh'+'t']=(-0x2*-0xf60+0xa48+-0x2907-_0x969311)*_0x124d42['normalized'+'Weight']*_0x456e6c);}_0xbc8710=this['activeStat'+'e'];for(let _0xf17d54=0xaa5+0x505*0x6+-0x5*0x827;_0xf17d54<_0xbc8710['animations']['length'];_0xf17d54++)_0x124d42=_0xbc8710['animations'][_0xf17d54],this['_animEvalu'+'ator']['findClip'](_0x124d42['name'])['blendWeigh'+'t']=_0x969311*_0x124d42['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0xf69+-0x12d*-0x1c+-0x2*0x8c1);const _0x3fcd71=this['activeStat'+'eAnimation'+'s']['length'],_0x3eb1bc=this['_animEvalu'+'ator']['clips']['length'];for(let _0x142fed=-0x11d8+0x14cd+-0x2f5;_0x142fed<_0x3eb1bc-_0x3fcd71;_0x142fed++)this['_animEvalu'+'ator']['removeClip'](0x2593+-0x5*-0x139+-0x2bb0);this['_transitio'+'nPreviousS'+'tates']=[],_0xbc8710=this['activeStat'+'e'];for(let _0xe72a4e=-0x26ae+-0x293*-0x1+0xed*0x27;_0xe72a4e<_0xbc8710['animations']['length'];_0xe72a4e++)_0x124d42=_0xbc8710['animations'][_0xe72a4e],_0x6e9a0=this['_animEvalu'+'ator']['findClip'](_0x124d42['name']),_0x6e9a0&&(_0x6e9a0['blendWeigh'+'t']=_0x124d42['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0xbc8710=this['activeStat'+'e'];for(let _0x2ed5aa=0x1*-0x25ab+-0x8b9+0x2e64;_0x2ed5aa<_0xbc8710['animations']['length'];_0x2ed5aa++)_0x124d42=_0xbc8710['animations'][_0x2ed5aa],_0x6e9a0=this['_animEvalu'+'ator']['findClip'](_0x124d42['name']),_0x6e9a0&&(_0x6e9a0['blendWeigh'+'t']=_0x124d42['normalized'+'Weight'],_0x124d42['parent']['syncAnimat'+'ions']&&(_0x6e9a0['speed']=_0x124d42['speed']));}}this['_animEvalu'+'ator']['update'](_0x3e8a74,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new $(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0x3b6890,_0x18deba,_0xa3b691,_0x378caa,_0xad94a8){super(_0x18deba),this['animCompon'+'ent']=_0x3b6890,this['_mask']=_0x378caa,this['layerName']=_0xa3b691,this['layerIndex']=_0xad94a8;}static['_packFloat'](_0x3f2163){return _0x3f2163[0x1741*-0x1+0x9c4+0xd7d];}static['_packBoole'+'an'](_0x1bb9eb){return!!_0x1bb9eb[0x7e4+-0x1f9b+0x17b7];}static['_packVec2'](_0x14ba16){return Yd['x']=_0x14ba16[0x1ffc+-0x1e83+0x179*-0x1],Yd['y']=_0x14ba16[0xa7e*0x2+0x839*0x2+-0x43*0x8f],Yd;}static['_packVec3'](_0x58da81){return ql['x']=_0x58da81[-0x1*-0x266c+0x30f*0x7+0x3bd5*-0x1],ql['y']=_0x58da81[-0x2*0x5db+0x1be2*-0x1+0x147*0x1f],ql['z']=_0x58da81[0xd4f+0x137*-0x1f+0x185c],ql;}static['_packVec4'](_0x2266b5){return Ja['x']=_0x2266b5[-0x1670+-0x88e+-0x2*-0xf7f],Ja['y']=_0x2266b5[0x7a5+0x24ac+-0x2c50],Ja['z']=_0x2266b5[0x8da+0xda3*-0x1+0x4cb*0x1],Ja['w']=_0x2266b5[-0x8e4+0x1889*-0x1+0x2170],Ja;}static['_packColor'](_0x5a3f9d){return eo['r']=_0x5a3f9d[0x8*0x74+0x328+-0x6c8],eo['g']=_0x5a3f9d[0x692*-0x4+-0xce5*0x3+-0xa8*-0x63],eo['b']=_0x5a3f9d[0x5*0x18c+-0x15e0+-0xe26*-0x1],eo['a']=_0x5a3f9d[0x5bd*0x3+-0x6*0x56+-0xf30],eo;}static['_packQuat'](_0x23f00b){return to['x']=_0x23f00b[0xbcb*0x1+-0x156d+-0x9a2*-0x1],to['y']=_0x23f00b[0x10a0+-0x1*0x225a+0x10b*0x11],to['z']=_0x23f00b[0xa*0x1a3+0xc*-0x12+-0xf84],to['w']=_0x23f00b[-0x35*-0x83+0x1*-0x191d+-0x1*0x1ff],to;}['resolve'](_0x448342){const _0x2f57b3=qr['encode'](_0x448342['entityPath'],_0x448342['component'],_0x448342['propertyPa'+'th']);let _0x564184=this['targetCach'+'e'][_0x2f57b3];if(_0x564184)return _0x564184;let _0xf5aef2,_0x17c462,_0xcd2d9b;switch(_0x448342['component']){case'entity':_0xf5aef2=this['_getEntity'+'FromHierar'+'chy'](_0x448342['entityPath']),_0xcd2d9b=qr['encode'](_0xf5aef2['path'],'entity',_0x448342['propertyPa'+'th']),_0x17c462=_0xf5aef2;break;case'graph':if(_0x17c462=this['findNode'](_0x448342),!_0x17c462)return null;_0xcd2d9b=qr['encode'](_0x17c462['path'],'graph',_0x448342['propertyPa'+'th']);break;default:if(_0xf5aef2=this['_getEntity'+'FromHierar'+'chy'](_0x448342['entityPath']),_0x17c462=_0xf5aef2['findCompon'+'ent'](_0x448342['component']),!_0x17c462)return null;_0xcd2d9b=qr['encode'](_0xf5aef2['path'],_0x448342['component'],_0x448342['propertyPa'+'th']);break;}return _0x564184=this['_createAni'+'mTargetFor'+'Property'](_0x17c462,_0x448342['propertyPa'+'th'],_0xcd2d9b),this['targetCach'+'e'][_0x2f57b3]=_0x564184,_0x564184;}['update'](_0x971cb7){const _0x114346=this['activeNode'+'s'];if(_0x114346){for(let _0x3f039b=-0x20de*-0x1+-0xf7f*-0x1+-0x101f*0x3;_0x3f039b<_0x114346['length'];_0x3f039b++)_0x114346[_0x3f039b]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x18fecb){if(!this['animCompon'+'ent']['entity']['name']===_0x18fecb[-0x303*0xb+0x98d+-0xbca*-0x2])return null;const _0x2a31c2=this['animCompon'+'ent']['entity'];return _0x18fecb['length']===0x50f+0xfb7+0x14c5*-0x1?_0x2a31c2:_0x2a31c2['_parent']['findByPath'](_0x18fecb);}['_resolvePa'+'th'](_0x7baf44,_0x472375,_0x1218ff){const _0x53a6a2=_0x472375['length']-(_0x1218ff?0x420+-0x21d8+0x1db8:-0x886+-0x330+0xbb7);for(let _0x56d89b=0x1987+-0xede+0xaa9*-0x1;_0x56d89b<_0x53a6a2;_0x56d89b++)_0x7baf44=_0x7baf44[_0x472375[_0x56d89b]];return _0x7baf44;}['_setter'](_0x2cfb68,_0x331179,_0x995041){const _0x898f04=this['_resolvePa'+'th'](_0x2cfb68,_0x331179),_0x1698ab=_0x331179[_0x331179['length']-(0xb*0x313+-0x45*-0x77+-0x41e3)],_0x46a876='set'+_0x1698ab['substring'](-0x2255+0x7*-0x4ff+0x454e,0x19b4+-0xa27+-0xf8c)['toUpperCas'+'e']()+_0x1698ab['substring'](0x85f*0x1+0xb37*0x3+-0x2a03);if(_0x898f04[_0x46a876]){let _0x38044b=_0x898f04['get'+_0x1698ab['substring'](-0x15c4+-0x1*-0xca1+0x923,0x9bf+0x1*-0x2f3+-0x6cb)['toUpperCas'+'e']()+_0x1698ab['substring'](0xc1*-0x32+0x9ae*-0x3+0x42bd)]['bind'](_0x898f04)();_0x38044b=[_0x38044b['x'],_0x38044b['y'],_0x38044b['z'],_0x38044b['w']];const _0x2f8d5d=_0x898f04[_0x46a876]['bind'](_0x898f04);return{'set':_0x23f699=>{_0x2f8d5d(_0x995041(_0x23f699));},'get':()=>_0x38044b};}const _0x4e7cc0=_0x898f04[_0x1698ab];if(typeof _0x4e7cc0=='object'&&_0x4e7cc0['hasOwnProp'+'erty']('copy'))return function(_0x331a84){_0x4e7cc0['copy'](_0x995041(_0x331a84));};if([$,T,Q,Y,se]['indexOf'](_0x898f04['constructo'+'r'])!==-(-0x35*0x21+0x1*0x1d53+-0x3*0x77f)&&_0x331179['length']>-0x1d95+-0x2605+-0x281*-0x1b){const _0x3cf02a=_0x331179['length']>-0x18e5*-0x1+0xa10*0x1+-0x22f3?this['_resolvePa'+'th'](_0x2cfb68,_0x331179['slice'](0x4a+0x3*-0x65a+0x4*0x4b1,-(0xb5d*0x3+0xf4f+-0x3165))):_0x2cfb68,_0x4ed021=_0x331179[_0x331179['length']-(0x1*-0x120a+0x2617+-0x140b)];return function(_0x4e6fa7){_0x898f04[_0x1698ab]=_0x995041(_0x4e6fa7),_0x3cf02a[_0x4ed021]=_0x898f04;};}return function(_0x42e327){_0x898f04[_0x1698ab]=_0x995041(_0x42e327);};}['_createAni'+'mTargetFor'+'Property'](_0x32e0e0,_0x4fe063,_0x202a68){if(this['handlers']&&_0x4fe063[0x1905+-0x1*-0x2146+0x3a4b*-0x1]['startsWith']('weight.'))return this['handlers']['weight'](_0x32e0e0,_0x4fe063[0x8dc+-0x1*0x559+-0x383]['replace']('weight.',''));if(this['handlers']&&_0x4fe063[-0x7ff*0x3+0x665+0x1198]==='material'&&_0x4fe063['length']===-0xcc8*0x2+-0x25ce+0x3f60){const _0x1e9e9f=_0x4fe063[-0x4*-0x1d2+-0x7*-0xfd+-0x9e*0x17];if(_0x1e9e9f['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x32e0e0,_0x1e9e9f);}const _0x5e56e5=this['_resolvePa'+'th'](_0x32e0e0,_0x4fe063,!(0xd4a+0x286*-0x3+-0x5b8));if(typeof _0x5e56e5>'u')return null;let _0x10d7cd,_0xeea088,_0x382e04;if(typeof _0x5e56e5=='number')_0x10d7cd=this['_setter'](_0x32e0e0,_0x4fe063,mi['_packFloat']),_0xeea088='vector',_0x382e04=0x1985+-0x1306*-0x2+0x710*-0x9;else{if(typeof _0x5e56e5=='boolean')_0x10d7cd=this['_setter'](_0x32e0e0,_0x4fe063,mi['_packBoole'+'an']),_0xeea088='vector',_0x382e04=0x3b7+-0x3*0x38f+0x6f7;else{if(typeof _0x5e56e5=='object')switch(_0x5e56e5['constructo'+'r']){case $:_0x10d7cd=this['_setter'](_0x32e0e0,_0x4fe063,mi['_packVec2']),_0xeea088='vector',_0x382e04=-0x1*0x19af+-0x193*-0x13+-0x438;break;case T:_0x10d7cd=this['_setter'](_0x32e0e0,_0x4fe063,mi['_packVec3']),_0xeea088='vector',_0x382e04=0x259c+0x1d*0xbf+-0x3b3c;break;case Q:_0x10d7cd=this['_setter'](_0x32e0e0,_0x4fe063,mi['_packVec4']),_0xeea088='vector',_0x382e04=0x518+0x14ea+-0x19fe;break;case Y:_0x10d7cd=this['_setter'](_0x32e0e0,_0x4fe063,mi['_packColor']),_0xeea088='vector',_0x382e04=-0x67*0x61+-0x3*0xbe4+0x4ab7;break;case se:_0x10d7cd=this['_setter'](_0x32e0e0,_0x4fe063,mi['_packQuat']),_0xeea088='quaternion',_0x382e04=-0x12cd+0x1*0x1fa6+-0xf*0xdb;break;default:return null;}}}return _0x4fe063['indexOf']('material')!==-(-0x1*0x925+0x62e+0x2f8)?new Zu(_0x1efadb=>{_0x10d7cd(_0x1efadb),_0x32e0e0['material']['update']();},_0xeea088,_0x382e04,_0x202a68):new Zu(_0x10d7cd,_0xeea088,_0x382e04,_0x202a68);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x294040={},_0x416d9b=function(_0x112148){_0x294040[_0x112148['name']]=_0x112148;for(let _0x49a97f=-0x1*-0xf29+-0x2f9*-0x6+-0x20ff*0x1;_0x49a97f<_0x112148['children']['length'];++_0x49a97f)_0x416d9b(_0x112148['children'][_0x49a97f]);};_0x416d9b(this['graph']),this['nodes']=_0x294040;}}class $P{constructor(_0x2528da,_0x33e502,_0x501058,_0x2026a2=0x18*0xda+-0x1*0x4b2+-0xfbd*0x1,_0x25ec8d=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',0x221e*0x1+0x32*0x85+-0xf06*0x4),c(this,'_blendTime'+'Elapsed',-0x1587+-0x1743+-0x1a*-0x1b9),c(this,'_startingW'+'eight',0x223c+-0x1*-0x1ea1+-0x40dd),c(this,'_targetWei'+'ght',-0x77c*0x5+-0x1*0x1b4f+0x1*0x40bb),(this['_name']=_0x2528da,this['_controlle'+'r']=_0x33e502,this['_component']=_0x501058,this['_weight']=_0x2026a2,this['_blendType']=_0x25ec8d);}get['name'](){return this['_name'];}set['playing'](_0x2b8d7c){this['_controlle'+'r']['playing']=_0x2b8d7c;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x4352ff){const _0x2a55f8=this['_controlle'+'r'],_0xbc47d0=_0x2a55f8['playing'];_0x2a55f8['playing']=!(-0x16aa*-0x1+0x1d*0x46+-0x1e98),_0x2a55f8['activeStat'+'eCurrentTi'+'me']=_0x4352ff,_0xbc47d0||_0x2a55f8['update'](0xb41+-0x24de+0x4f*0x53),_0x2a55f8['playing']=_0xbc47d0;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x3125e1){this['_weight']=_0x3125e1,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x2fc890){_0x2fc890!==this['_blendType']&&(this['_blendType']=_0x2fc890,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x5d4d37){this['_controlle'+'r']['assignMask'](_0x5d4d37)&&this['_component']['rebind'](),this['_mask']=_0x5d4d37;}get['mask'](){return this['_mask'];}['play'](_0x986e32){this['_controlle'+'r']['play'](_0x986e32);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x37010c){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x37010c):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x1b04+0x147f+-0x2f83,this['_blendTime'+'Elapsed']=-0xf26+-0x17e3+0xd03*0x3,this['_startingW'+'eight']=0x1e2*-0x9+-0x219d+0x739*0x7,this['_targetWei'+'ght']=0x869*0x2+-0x1*0x1583+-0x4b1*-0x1)),this['_controlle'+'r']['update'](_0x37010c);}['blendToWei'+'ght'](_0x40e5ac,_0x29aca2){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x40e5ac,this['_blendTime']=Math['max'](-0x9f*0x37+0x290+-0x1*-0x1f99,_0x29aca2),this['_blendTime'+'Elapsed']=-0x3*-0x9ef+0x443+0x1*-0x2210;}['assignAnim'+'ation'](_0x2fbb43,_0x495ada,_0x5c6127,_0x19bc6e){if(!(_0x495ada instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x2fbb43,_0x495ada,_0x5c6127,_0x19bc6e),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x145b+-0x1638+0x2a93&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x2fbb43})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0x5*-0x49d+-0x2419*-0x1+-0xc*0x116));}['removeNode'+'Animations'](_0x46814f){this['_controlle'+'r']['removeNode'+'Animations'](_0x46814f)&&(this['_component']['playing']=!(0x1157+0x11*0xc7+-0x1e8d*0x1));}['getAnimati'+'onAsset'](_0x41f224){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x41f224];}['transition'](_0x2df620,_0x4a6b15=-0x1*0xad8+-0x210f+0x2be7,_0x2bf2a5=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x2df620,'time':_0x4a6b15,'transitionOffset':_0x2bf2a5}));}}class mh{constructor(_0x105c0b){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x105c0b['layers']))this['_layers']=_0x105c0b['layers'];else for(const _0x31b561 in _0x105c0b['layers']){const _0xd2e67a=_0x105c0b['layers'][_0x31b561],_0x29b6bd={'name':_0xd2e67a['name'],'blendType':_0xd2e67a['blendType'],'weight':_0xd2e67a['weight'],'states':[],'transitions':[]};for(let _0x181388=0x2*0x27+0x3*0xa36+-0x108*0x1e;_0x181388<_0xd2e67a['states']['length'];_0x181388++)_0x29b6bd['states']['push'](_0x105c0b['states'][_0xd2e67a['states'][_0x181388]]);for(let _0x55a92a=-0x1*-0x10b2+-0x2321+0x1ad*0xb;_0x55a92a<_0xd2e67a['transition'+'s']['length'];_0x55a92a++){const _0x534389=_0x105c0b['transition'+'s'][_0xd2e67a['transition'+'s'][_0x55a92a]];if(_0x534389['conditions']&&!Array['isArray'](_0x534389['conditions'])){const _0xd97e44=Object['keys'](_0x534389['conditions']),_0x555ceb=[];for(let _0x40e86b=-0xa*-0x7a+0x284*0x8+-0xb1*0x24;_0x40e86b<_0xd97e44['length'];_0x40e86b++){const _0x20d982=_0x534389['conditions'][_0xd97e44[_0x40e86b]];_0x20d982['parameterN'+'ame']&&_0x555ceb['push'](_0x20d982);}_0x534389['conditions']=_0x555ceb;}Number['isInteger'](_0x534389['from'])&&(_0x534389['from']=_0x105c0b['states'][_0x534389['from']]['name']),Number['isInteger'](_0x534389['to'])&&(_0x534389['to']=_0x105c0b['states'][_0x534389['to']]['name']),_0x29b6bd['transition'+'s']['push'](_0x534389);}this['_layers']['push'](_0x29b6bd);}for(const _0xdc29c0 in _0x105c0b['parameters']){const _0x2df36d=_0x105c0b['parameters'][_0xdc29c0];this['_parameter'+'s'][_0x2df36d['name']]={'type':_0x2df36d['type'],'value':_0x2df36d['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',0x12fb+-0x1*0xd6f+-0x58b),c(this,'_activate',!(-0x17b*-0x1+0x1*0x9ef+0x3ce*-0x3)),c(this,'_playing',!(-0x1a41+0x113*-0x1+0x1b55)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(0x1998+0x2*0x1336+-0x4003)),c(this,'findParame'+'ter',_0x27cd18=>this['_parameter'+'s'][_0x27cd18]),c(this,'consumeTri'+'gger',_0x4d4a2e=>{this['_consumedT'+'riggers']['add'](_0x4d4a2e);});}set['stateGraph'+'Asset'](_0x24bd12){if(_0x24bd12===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x449dd9,_0x40f086;_0x24bd12 instanceof le?(_0x449dd9=_0x24bd12['id'],_0x40f086=this['system']['app']['assets']['get'](_0x449dd9),_0x40f086||(this['system']['app']['assets']['add'](_0x24bd12),_0x40f086=this['system']['app']['assets']['get'](_0x449dd9))):(_0x449dd9=_0x24bd12,_0x40f086=this['system']['app']['assets']['get'](_0x449dd9)),!(!_0x40f086||this['_stateGrap'+'hAsset']===_0x449dd9)&&(_0x40f086['resource']?(this['_stateGrap'+'h']=_0x40f086['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x40f086['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x40f086['once']('load',_0x2540b7=>{this['_stateGrap'+'h']=_0x2540b7['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x40f086['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x40f086)),this['_stateGrap'+'hAsset']=_0x449dd9);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x229e53){this['_normalize'+'Weights']=_0x229e53,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x5c961f){this['_animation'+'Assets']=_0x5c961f,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x1bb116){this['_speed']=_0x1bb116;}get['speed'](){return this['_speed'];}set['activate'](_0x5c089c){this['_activate']=_0x5c089c;}get['activate'](){return this['_activate'];}set['playing'](_0x2f2fcb){this['_playing']=_0x2f2fcb;}get['playing'](){return this['_playing'];}set['rootBone'](_0x459b2f){if(typeof _0x459b2f=='string'){const _0x4c6a7b=this['entity']['root']['findByGuid'](_0x459b2f);v['assert'](_0x4c6a7b,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x459b2f+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x4c6a7b;}else _0x459b2f instanceof $e?this['_rootBone']=_0x459b2f:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x20810c){this['_stateGrap'+'h']=_0x20810c;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x4855fe){this['_layerIndi'+'ces']=_0x4855fe;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x5039d3){this['_parameter'+'s']=_0x5039d3;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x308c74){this['_targets']=_0x308c74;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x24f8cc=-0x22ea+-0x29b*-0xd+-0x3*-0x59;_0x24f8cc<this['_layers']['length'];_0x24f8cc++)if(!this['_layers'][_0x24f8cc]['playable'])return!(-0x27d+-0x1b38+-0xedb*-0x2);return!(-0x19fa+-0x1621+0x5*0x99f);}get['baseLayer'](){return this['_layers']['length']>0x1bfe+0x1*0x260f+-0x25*0x1c9?this['_layers'][-0x535+0x64*-0x3b+0x3*0x96b]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x814af9){const _0x35c161=this['animationA'+'ssets'],_0x287e30=this['layers']['map'](_0x2166e5=>_0x2166e5['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x814af9['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x35c161,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x371ed6,_0x2a9f4f)=>{_0x371ed6['mask']=_0x287e30[_0x2a9f4f];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x398b2d=Object['values'](this['_targets']);for(let _0x486486=-0xdb*-0xd+-0x79*0xe+-0x481;_0x486486<_0x398b2d['length'];_0x486486++)_0x398b2d[_0x486486]['dirty']=!(-0xe6b*-0x1+-0x146d+0x602);}['_addLayer']({name:_0x4d570f,states:_0x1b1fa1,transitions:_0x3f7a90,weight:_0x3236f5,mask:_0x1efa60,blendType:_0x2c50f7}){let _0x4eb354;this['rootBone']?_0x4eb354=this['rootBone']:_0x4eb354=this['entity'];const _0x17b434=this['_layers']['length'],_0x3608b9=new mi(this,_0x4eb354,_0x4d570f,_0x1efa60,_0x17b434),_0x387bb4=new j0(_0x3608b9),_0x92484f=new HP(_0x387bb4,_0x1b1fa1,_0x3f7a90,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new $P(_0x4d570f,_0x92484f,this,_0x3236f5,_0x2c50f7)),this['_layerIndi'+'ces'][_0x4d570f]=_0x17b434,this['_layers'][_0x17b434];}['addLayer'](_0x52ef8c,_0x496846,_0x33a639,_0x384ac4){const _0x295f1e=this['findAnimat'+'ionLayer'](_0x52ef8c);if(_0x295f1e)return _0x295f1e;const _0x4925f0=[{'name':'START','speed':0x1}],_0x357d60=[];return this['_addLayer']({'name':_0x52ef8c,'states':_0x4925f0,'transitions':_0x357d60,'weight':_0x496846,'mask':_0x33a639,'blendType':_0x384ac4});}['_assignPar'+'ameters'](_0x1576ac){this['_parameter'+'s']={};const _0x48226c=Object['keys'](_0x1576ac['parameters']);for(let _0x59c7eb=0x18c3+-0x2*0xc64+-0x1*-0x5;_0x59c7eb<_0x48226c['length'];_0x59c7eb++){const _0x144780=_0x48226c[_0x59c7eb];this['_parameter'+'s'][_0x144780]={'type':_0x1576ac['parameters'][_0x144780]['type'],'value':_0x1576ac['parameters'][_0x144780]['value']};}}['loadStateG'+'raph'](_0x4a693a){this['_stateGrap'+'h']=_0x4a693a,this['_assignPar'+'ameters'](_0x4a693a),this['_layers']=[];let _0x4c0d83=!(-0x7*0x4ff+0x14b*-0x2+-0x10*-0x259);for(let _0xb92af7=0x53*0x53+0x4d9+0x1fc2*-0x1;_0xb92af7<_0x4a693a['layers']['length'];_0xb92af7++){const _0x3175a4=_0x4a693a['layers'][_0xb92af7];this['_addLayer']({..._0x3175a4}),_0x3175a4['states']['some'](_0x5bc648=>_0x5bc648['blendTree'])&&(_0x4c0d83=!(0x1051+-0x21d4+0x1183));}_0x4c0d83||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x4e1ee0=-0x18ca*-0x1+0x1792+0x5*-0x9ac;_0x4e1ee0<this['_layers']['length'];_0x4e1ee0++){const _0x44c719=this['_layers'][_0x4e1ee0],_0x454401=_0x44c719['name'];for(let _0x2c4438=0x534*-0x1+0x10e+0x426;_0x2c4438<_0x44c719['states']['length'];_0x2c4438++){const _0x23f48c=_0x44c719['states'][_0x2c4438];if(jh['indexOf'](_0x23f48c)===-(0x2235+-0x1a65+-0x1*0x7cf)){const _0x481799=_0x454401+':'+_0x23f48c;this['_animation'+'Assets'][_0x481799]||(this['_animation'+'Assets'][_0x481799]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0xf3a57d=-0x2*-0x123b+-0x2*-0x79a+-0x33aa;_0xf3a57d<this['_layers']['length'];_0xf3a57d++){const _0x2c29f0=this['_layers'][_0xf3a57d];for(let _0x296413=-0x27*-0xbb+0x497+-0x2114;_0x296413<_0x2c29f0['states']['length'];_0x296413++){const _0x198537=_0x2c29f0['states'][_0x296413];if(jh['indexOf'](_0x198537)!==-(-0x47*0x7+0x203b+-0x1e49))continue;const _0x2f40e6=this['_animation'+'Assets'][_0x2c29f0['name']+':'+_0x198537];if(!_0x2f40e6||!_0x2f40e6['asset']){this['findAnimat'+'ionLayer'](_0x2c29f0['name'])['assignAnim'+'ation'](_0x198537,Ri['EMPTY']);continue;}const _0x4bb20a=_0x2f40e6['asset'],_0x1cb6d3=this['system']['app']['assets']['get'](_0x4bb20a);_0x1cb6d3&&(_0x1cb6d3['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x2c29f0['name'],_0x198537,_0x1cb6d3):(_0x1cb6d3['once']('load',function(_0x2f6f72,_0x3b8375){return function(_0xd61e0){this['onAnimatio'+'nAssetLoad'+'ed'](_0x2f6f72,_0x3b8375,_0xd61e0);}['bind'](this);}['bind'](this)(_0x2c29f0['name'],_0x198537)),this['system']['app']['assets']['load'](_0x1cb6d3)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x379563,_0x3e2e5a,_0x2e27ed){this['findAnimat'+'ionLayer'](_0x379563)['assignAnim'+'ation'](_0x3e2e5a,_0x2e27ed['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x1*-0x259b+-0x1*-0x11c2+-0x375c),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x5baa81=-0xce1*0x3+-0x1b4e+0x41f1;_0x5baa81<this['_layers']['length'];_0x5baa81++){const _0x3ed594=this['_layers'][_0x5baa81]['playing'];this['_layers'][_0x5baa81]['reset'](),this['_layers'][_0x5baa81]['playing']=_0x3ed594;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x93715d=>{this['_targets'][_0x93715d]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x4296b0=-0x1bb5+-0x2101+0x3cb6;_0x4296b0<this['_layers']['length'];_0x4296b0++)this['_layers'][_0x4296b0]['rebind']();}['findAnimat'+'ionLayer'](_0x32bc2a){const _0x38078c=this['_layerIndi'+'ces'][_0x32bc2a];return this['_layers'][_0x38078c]||null;}['addAnimati'+'onState'](_0x1ea2d6,_0x2ce828,_0x50e2c3=0x10ae+-0x2170+0x10c3,_0x35cbeb=!(0x1372+-0x1*-0x2068+-0x33da*0x1),_0x7657fd='Base'){var _0x28735b;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x7657fd,'states':[{'name':'START','speed':0x1},{'name':_0x1ea2d6,'speed':_0x50e2c3,'loop':_0x35cbeb,'defaultState':!(-0x2411+-0x191d+0x3d2e)}],'transitions':[{'from':'START','to':_0x1ea2d6}]}],'parameters':{}}));const _0x5ce0f4=this['findAnimat'+'ionLayer'](_0x7657fd);_0x5ce0f4?_0x5ce0f4['assignAnim'+'ation'](_0x1ea2d6,_0x2ce828,_0x50e2c3,_0x35cbeb):(_0x28735b=this['addLayer'](_0x7657fd))==null||_0x28735b['assignAnim'+'ation'](_0x1ea2d6,_0x2ce828,_0x50e2c3,_0x35cbeb);}['assignAnim'+'ation'](_0x19189b,_0x11d19e,_0x1354fe,_0x124964=0xc9*-0x1f+0x8a2+0xfb6,_0x4eeab1=!(-0x211c+0x1*0x179b+-0x981*-0x1)){if(!this['_stateGrap'+'h']&&_0x19189b['indexOf']('.')===-(0x1*-0x2165+-0x68d+-0xd51*-0x3)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x19189b,'speed':_0x124964,'loop':_0x4eeab1,'defaultState':!(0x1cd4+0xb*0x211+-0x338f)}],'transitions':[{'from':'START','to':_0x19189b}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x19189b,_0x11d19e);return;}const _0x40edd3=_0x1354fe?this['findAnimat'+'ionLayer'](_0x1354fe):this['baseLayer'];if(!_0x40edd3){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x40edd3['assignAnim'+'ation'](_0x19189b,_0x11d19e,_0x124964,_0x4eeab1);}['removeNode'+'Animations'](_0x50278f,_0x51f1da){const _0x3e147f=_0x51f1da?this['findAnimat'+'ionLayer'](_0x51f1da):this['baseLayer'];if(!_0x3e147f){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x3e147f['removeNode'+'Animations'](_0x50278f);}['getParamet'+'erValue'](_0x3c81b3,_0x1a9042){const _0x56a7e0=this['_parameter'+'s'][_0x3c81b3];if(_0x56a7e0&&_0x56a7e0['type']===_0x1a9042)return _0x56a7e0['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x3c81b3+('\x22\x20of\x20type\x20'+'\x22')+_0x1a9042+'\x22');}['setParamet'+'erValue'](_0x1aa143,_0x99070,_0x211abe){const _0x35b6b0=this['_parameter'+'s'][_0x1aa143];if(_0x35b6b0&&_0x35b6b0['type']===_0x99070){_0x35b6b0['value']=_0x211abe;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x1aa143+('\x22\x20of\x20type\x20'+'\x22')+_0x99070+'\x22');}['getFloat'](_0x4052fc){return this['getParamet'+'erValue'](_0x4052fc,Q_);}['setFloat'](_0x59c508,_0x34331d){this['setParamet'+'erValue'](_0x59c508,Q_,_0x34331d);}['getInteger'](_0x363d8c){return this['getParamet'+'erValue'](_0x363d8c,Z_);}['setInteger'](_0xf0f872,_0xbf3ad){typeof _0xbf3ad=='number'&&_0xbf3ad%(-0x1fd0+-0x15df+0x35b0)===0x95*-0x43+-0x21cc+-0xe8f*-0x5?this['setParamet'+'erValue'](_0xf0f872,Z_,_0xbf3ad):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0xf0f872,_0xbf3ad);}['getBoolean'](_0x9ec969){return this['getParamet'+'erValue'](_0x9ec969,J_);}['setBoolean'](_0x4b2cb8,_0x24f8d8){this['setParamet'+'erValue'](_0x4b2cb8,J_,!!_0x24f8d8);}['getTrigger'](_0x31c716){return this['getParamet'+'erValue'](_0x31c716,ph);}['setTrigger'](_0x5ad5e9,_0x79790f=!(0x1ee8+-0x17f0+-0x6f7)){this['setParamet'+'erValue'](_0x5ad5e9,ph,!(0xf14+0x143*0x1+-0x1057)),_0x79790f&&this['_consumedT'+'riggers']['add'](_0x5ad5e9);}['resetTrigg'+'er'](_0x1bfe6a){this['setParamet'+'erValue'](_0x1bfe6a,ph,!(-0x20e9+0xa0d*0x2+-0x14*-0xa4));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0xe3af40){for(let _0x5ac764=-0x1ecb+0x1*-0x4dd+0x23a8;_0x5ac764<this['layers']['length'];_0x5ac764++)this['layers'][_0x5ac764]['update'](_0xe3af40*this['speed']);this['_consumedT'+'riggers']['forEach'](_0xf23f7b=>{this['parameters'][_0xf23f7b]['value']=!(0x2159+0x1110*-0x2+-0x4*-0x32);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xfad62a,_0x5a0bbf){_0xfad62a['rootBone']&&_0x5a0bbf[_0xfad62a['rootBone']['getGuid']()]?this['rootBone']=_0x5a0bbf[_0xfad62a['rootBone']['getGuid']()]:this['rebind']();}}class WP{constructor(){this['enabled']=!(0x7bd+0x26f2+-0x275*0x13);}}const tf=['enabled'];class qP extends Xe{constructor(_0x4e0a1d){super(_0x4e0a1d),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=WP,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x533199,_0x81e36d,_0x44da41){super['initialize'+'ComponentD'+'ata'](_0x533199,_0x81e36d,tf);const _0x2c32aa=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x81e36d)['forEach'](_0x28fbcf=>{_0x2c32aa['includes'](_0x28fbcf)||(_0x533199[_0x28fbcf]=_0x81e36d[_0x28fbcf]);}),_0x81e36d['stateGraph']&&(_0x533199['stateGraph']=_0x81e36d['stateGraph'],_0x533199['loadStateG'+'raph'](_0x533199['stateGraph'])),_0x81e36d['layers']&&_0x81e36d['layers']['forEach']((_0x42e0a8,_0xd2e42b)=>{_0x42e0a8['_controlle'+'r']['states']['forEach'](_0x24984a=>{_0x42e0a8['_controlle'+'r']['_states'][_0x24984a]['_animation'+'List']['forEach'](_0x5cadd7=>{if(!_0x5cadd7['animTrack']||_0x5cadd7['animTrack']===Ri['EMPTY']){const _0x436084=this['app']['assets']['get'](_0x42e0a8['_component']['_animation'+'Assets'][_0x42e0a8['name']+':'+_0x5cadd7['name']]['asset']);_0x436084&&!_0x436084['loaded']&&_0x436084['once']('load',()=>{_0x533199['layers'][_0xd2e42b]['assignAnim'+'ation'](_0x5cadd7['name'],_0x436084['resource']);});}else _0x533199['layers'][_0xd2e42b]['assignAnim'+'ation'](_0x5cadd7['name'],_0x5cadd7['animTrack']);});});}),_0x81e36d['animationA'+'ssets']&&(_0x533199['animationA'+'ssets']=Object['assign'](_0x533199['animationA'+'ssets'],_0x81e36d['animationA'+'ssets'])),_0x81e36d['masks']&&Object['keys'](_0x81e36d['masks'])['forEach'](_0x47b1c8=>{if(_0x533199['layers'][_0x47b1c8]){const _0x2bef52=_0x81e36d['masks'][_0x47b1c8]['mask'],_0x41ddc6={};Object['keys'](_0x2bef52)['forEach'](_0x1cf789=>{_0x41ddc6[decodeURI(_0x1cf789)]=_0x2bef52[_0x1cf789];}),_0x533199['layers'][_0x47b1c8]['mask']=_0x41ddc6;}});}['onAnimatio'+'nUpdate'](_0x21bbca){const _0xff42a2=this['store'];for(const _0x2ac72b in _0xff42a2)if(_0xff42a2['hasOwnProp'+'erty'](_0x2ac72b)){const _0x31b0df=_0xff42a2[_0x2ac72b]['entity']['anim'];_0x31b0df['data']['enabled']&&_0x31b0df['entity']['enabled']&&_0x31b0df['playing']&&_0x31b0df['update'](_0x21bbca);}}['cloneCompo'+'nent'](_0x5d6b8d,_0x43b2cd){let _0x4cc26e;(!_0x5d6b8d['anim']['rootBone']||_0x5d6b8d['anim']['rootBone']===_0x5d6b8d)&&(_0x4cc26e={},_0x5d6b8d['anim']['layers']['forEach']((_0x4ffc77,_0x3db18e)=>{if(_0x4ffc77['mask']){const _0x457d10={};Object['keys'](_0x4ffc77['mask'])['forEach'](_0x3afc72=>{const _0x302137=_0x3afc72['split']('/');_0x302137['shift']();const _0x33aa0a=[_0x43b2cd['name'],..._0x302137]['join']('/');_0x457d10[_0x33aa0a]=_0x4ffc77['mask'][_0x3afc72];}),_0x4cc26e[_0x3db18e]={'mask':_0x457d10};}}));const _0xce030b={'enabled':_0x5d6b8d['anim']['enabled'],'stateGraphAsset':_0x5d6b8d['anim']['stateGraph'+'Asset'],'animationAssets':_0x5d6b8d['anim']['animationA'+'ssets'],'speed':_0x5d6b8d['anim']['speed'],'activate':_0x5d6b8d['anim']['activate'],'playing':_0x5d6b8d['anim']['playing'],'rootBone':_0x5d6b8d['anim']['rootBone'],'stateGraph':_0x5d6b8d['anim']['stateGraph'],'layers':_0x5d6b8d['anim']['layers'],'layerIndices':_0x5d6b8d['anim']['layerIndic'+'es'],'parameters':_0x5d6b8d['anim']['parameters'],'normalizeWeights':_0x5d6b8d['anim']['normalizeW'+'eights'],'masks':_0x4cc26e};return this['addCompone'+'nt'](_0x43b2cd,_0xce030b);}['onBeforeRe'+'move'](_0x3945fe,_0xbe0d73){_0xbe0d73['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x578356=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x578356);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(0x20e6+0xfa9+-0x308f);}}const J0=['enabled'];class jP extends Xe{constructor(_0x19852f){super(_0x19852f),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x19852f['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1b0a11,_0x11a4ba,_0x437482){_0x437482=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x1b0a11,_0x11a4ba,_0x437482);}['onUpdate'](_0x5da713){if(this['current']){const _0x413a25=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x413a25);const _0x534d78=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x534d78);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=-0x23c8+-0x1*0x1da2+0x2*0x20b5,tg=0x7a*0x20+0x892*0x4+0x1*-0x3187,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x4ac27e,_0x1c6b6f){super(_0x4ac27e,_0x1c6b6f),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(-0x1abf*-0x1+-0x1899+-0x225)),c(this,'_hoveringC'+'ounter',0x10*0x6d+0x47*0x4f+0x39*-0x81),c(this,'_isPressed',!(0x23f3+0xb*0x277+-0x3f0f)),c(this,'_defaultTi'+'nt',new Y(-0x203*-0x5+0x2312+-0xb48*0x4,0xa*0x2b+-0x3c2*-0xa+-0x2741,0xf*0xa6+-0x1*0xe4b+0x492,-0x211d+0x18a7*0x1+0x877)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',-0xc91+0x1*0x19b1+-0xd20),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(-0x2*-0x701+-0x2002+0x1*0x1201),this['_hoveringC'+'ounter']=-0x1d10+-0x8f3+0x1*0x2603,this['_isPressed']=!(0x2*0xb+0x3*0xc46+0x43*-0x8d),this['_defaultTi'+'nt']=new Y(-0x9*-0xfa+-0x1b77+0x3*0x63a,-0xe2d+0x32f*0x7+-0x81b,0x1fe4+-0x75a*0x3+-0x9d5,-0xece+-0xfc2*-0x2+-0x10b5),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x797*0x4+-0x72f*0x5+-0x4247*-0x1,this['_toggleLif'+'ecycleList'+'eners']('on',_0x4ac27e));}get['data'](){const _0x3629a4=this['system']['store'][this['entity']['getGuid']()];return _0x3629a4?_0x3629a4['data']:null;}set['enabled'](_0x3ff22d){this['_setValue']('enabled',_0x3ff22d);}get['enabled'](){return this['data']['enabled'];}set['active'](_0xccff09){this['_setValue']('active',_0xccff09);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x231a3a){if(this['_imageEnti'+'ty']!==_0x231a3a){const _0x5ce5df=typeof _0x231a3a=='string';if(this['_imageEnti'+'ty']&&_0x5ce5df&&this['_imageEnti'+'ty']['getGuid']()===_0x231a3a)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x231a3a instanceof De?this['_imageEnti'+'ty']=_0x231a3a:_0x5ce5df?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x231a3a)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x5ce5df&&_0x231a3a&&(this['data']['imageEntit'+'y']=_0x231a3a);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x5832d7){this['_setValue']('hitPadding',_0x5832d7);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x1416f0){this['_setValue']('transition'+'Mode',_0x1416f0);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x3d194f){this['_setValue']('hoverTint',_0x3d194f);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x49e23f){this['_setValue']('pressedTin'+'t',_0x49e23f);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x4a8f18){this['_setValue']('inactiveTi'+'nt',_0x4a8f18);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x4a55d5){this['_setValue']('fadeDurati'+'on',_0x4a55d5);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x4198b1){this['_setValue']('hoverSprit'+'eAsset',_0x4198b1);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x5aec9b){this['_setValue']('hoverSprit'+'eFrame',_0x5aec9b);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x3bb26f){this['_setValue']('pressedSpr'+'iteAsset',_0x3bb26f);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x3a8089){this['_setValue']('pressedSpr'+'iteFrame',_0x3a8089);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x491b9c){this['_setValue']('inactiveSp'+'riteAsset',_0x491b9c);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x1eb538){this['_setValue']('inactiveSp'+'riteFrame',_0x1eb538);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x560d6a,_0x4978ca){const _0x3c42ac=this['data'],_0x234521=_0x3c42ac[_0x560d6a];_0x3c42ac[_0x560d6a]=_0x4978ca,this['fire']('set',_0x560d6a,_0x234521,_0x4978ca);}['_toggleLif'+'ecycleList'+'eners'](_0x22243a,_0x12c3b2){var _0x143bb9;this[_0x22243a]('set_active',this['_onSetActi'+'ve'],this),this[_0x22243a]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x22243a]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x22243a]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x22243a]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x22243a]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x22243a]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x22243a]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x22243a]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x22243a]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x22243a]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x22243a==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x143bb9=this['_evtElemen'+'tAdd'])==null||_0x143bb9['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x1fe68f,_0x30f23e,_0x1a5291){_0x30f23e!==_0x1a5291&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x34c4ed,_0x3cd5c3,_0x44cbb){_0x3cd5c3!==_0x44cbb&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x3cd5c3),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x3f078c,_0x312265,_0x459a6a){_0x312265!==_0x459a6a&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x22bb3d,_0x2b87c1;(_0x22bb3d=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x22bb3d['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x2b87c1=this['_imageEnti'+'ty'])!=null&&_0x2b87c1['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x5ab006=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x5ab006['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x5ab006['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x5ab006['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x5ab006['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x5ab006['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x23bd0d,_0x1e090d,_0x3b8281,_0x5a1b19,_0x158010;(_0x23bd0d=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x23bd0d['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x1e090d=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x1e090d['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x3b8281=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x3b8281['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x5a1b19=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x5a1b19['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x158010=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x158010['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x398c94){if(this['entity']['element']){const _0x3fe722=_0x398c94==='on';if(_0x3fe722&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x398c94]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x398c94]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x398c94]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x398c94]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x398c94]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x398c94]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x398c94]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x398c94]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x398c94]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x398c94]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x398c94]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x398c94]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x398c94]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x398c94]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x3fe722;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x39547f;const _0x168935=(_0x39547f=this['_imageEnti'+'ty'])==null?void(0x1*-0x17bb+-0x1597*0x1+0x16a9*0x2):_0x39547f['element'];!_0x168935||_0x168935['type']===_h||(this['_storeDefa'+'ultColor'](_0x168935['color']),this['_storeDefa'+'ultOpacity'](_0x168935['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x168935['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x168935['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0xe5d1aa){this['_defaultTi'+'nt']['r']=_0xe5d1aa['r'],this['_defaultTi'+'nt']['g']=_0xe5d1aa['g'],this['_defaultTi'+'nt']['b']=_0xe5d1aa['b'];}['_storeDefa'+'ultOpacity'](_0x5c5f44){this['_defaultTi'+'nt']['a']=_0x5c5f44;}['_storeDefa'+'ultSpriteA'+'sset'](_0x20f1d8){this['_defaultSp'+'riteAsset']=_0x20f1d8;}['_storeDefa'+'ultSpriteF'+'rame'](_0xf956f9){this['_defaultSp'+'riteFrame']=_0xf956f9;}['_onSetColo'+'r'](_0x3bbff0){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x3bbff0),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x2d563d){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x2d563d),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x274cad){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x274cad),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x1be79a){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x1be79a),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x3c3072){this['_isHoverin'+'g']=!(-0x1*-0x259+-0x2287*0x1+-0x1017*-0x2),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x3c3072);}['_onMouseLe'+'ave'](_0x533e40){this['_isHoverin'+'g']=!(-0xd6d+0x3*-0x77f+-0xf*-0x265),this['_isPressed']=!(0x1bd0+0x338*-0x1+-0x1897),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x533e40);}['_onMouseDo'+'wn'](_0x255f99){this['_isPressed']=!(0xd*-0xc9+0x8*-0x27b+0x1e0d),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x255f99);}['_onMouseUp'](_0x47b655){this['_isPressed']=!(-0xc65*-0x2+-0x175c+0x49*-0x5),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x47b655);}['_onTouchSt'+'art'](_0x1271e8){this['_isPressed']=!(0x2409+-0x13*0xe3+0x4*-0x4cc),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x1271e8);}['_onTouchEn'+'d'](_0x4d7651){_0x4d7651['event']['preventDef'+'ault'](),this['_isPressed']=!(0xc*-0x2ff+-0x2441+0x4836),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x4d7651);}['_onTouchLe'+'ave'](_0x32615d){this['_isPressed']=!(-0x212c*-0x1+0x1a*0x124+-0x9*0x6fb),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x32615d);}['_onTouchCa'+'ncel'](_0x57c4c9){this['_isPressed']=!(-0x117a+-0x15*0x1a8+-0x313*-0x11),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x57c4c9);}['_onSelectS'+'tart'](_0x198a2f){this['_isPressed']=!(0x1189+-0x1dc5+-0x3*-0x414),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x198a2f);}['_onSelectE'+'nd'](_0x1f3521){this['_isPressed']=!(-0x1f*-0x135+0x39*0x6b+-0x3d3d),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x1f3521);}['_onSelectE'+'nter'](_0x126bbf){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x2105+0x9e3*-0x1+-0xbf*0x1f&&(this['_isHoverin'+'g']=!(0x65*0x18+0x12b2+0xce*-0x23),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x126bbf);}['_onSelectL'+'eave'](_0x5bbf4f){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x1fac+-0x25ed+0x1*0x4599&&(this['_isHoverin'+'g']=!(-0xfc7+-0xed6+0x1e9e),this['_isPressed']=!(-0xcea+0xbf1+0xfa),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x5bbf4f);}['_onClick'](_0x20ec9d){this['_fireIfAct'+'ive']('click',_0x20ec9d);}['_fireIfAct'+'ive'](_0xe9b557,_0x32b47e){this['data']['active']&&this['fire'](_0xe9b557,_0x32b47e);}['_updateVis'+'ualState'](_0x301fe1){const _0x39a807=this['_visualSta'+'te'],_0x300345=this['_determine'+'VisualStat'+'e']();if((_0x39a807!==_0x300345||_0x301fe1)&&this['enabled'])switch(this['_visualSta'+'te']=_0x300345,_0x39a807===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x39a807===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x300345===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x300345===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x4aa5f1=hl[this['_visualSta'+'te']],_0x230c3f=this[_0x4aa5f1];this['_applyTint'](_0x230c3f);break;}case tg:{const _0x4c713e=cl[this['_visualSta'+'te']],_0x3ebe8d=dl[this['_visualSta'+'te']],_0x442b17=this[_0x4c713e],_0x5cd80b=this[_0x3ebe8d];this['_applySpri'+'te'](_0x442b17,_0x5cd80b);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0x1*-0xa45+0x18da*0x1+0xe95*-0x1));}['_resetToDe'+'faultVisua'+'lState'](_0x3bf6ca){var _0x4649b1;if((_0x4649b1=this['_imageEnti'+'ty'])!=null&&_0x4649b1['element'])switch(_0x3bf6ca){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x12f26b,_0x5164ad){var _0x2c3b8a;const _0x1c2b72=(_0x2c3b8a=this['_imageEnti'+'ty'])==null?void(0x496*0x7+-0x16b9+-0x961):_0x2c3b8a['element'];_0x1c2b72&&(_0x5164ad=_0x5164ad||0x1*0x4cd+-0x11b+-0x2*0x1d9,this['_isApplyin'+'gSprite']=!(-0x382*-0x7+-0x7ea*0x1+-0x10a4),_0x1c2b72['spriteAsse'+'t']!==_0x12f26b&&(_0x1c2b72['spriteAsse'+'t']=_0x12f26b),_0x1c2b72['spriteFram'+'e']!==_0x5164ad&&(_0x1c2b72['spriteFram'+'e']=_0x5164ad),this['_isApplyin'+'gSprite']=!(0x24bf+0x1730+-0x3bee));}['_applyTint'](_0x59b0d8){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x5*0x421+0xb41+-0xaa2*0x3?this['_applyTint'+'Immediatel'+'y'](_0x59b0d8):this['_applyTint'+'WithTween'](_0x59b0d8);}['_applyTint'+'Immediatel'+'y'](_0x4f04f5){var _0x172ed8;const _0x4bab6e=(_0x172ed8=this['_imageEnti'+'ty'])==null?void(0x176c+0x25*0xb8+-0x3204):_0x172ed8['element'];if(!_0x4f04f5||!_0x4bab6e||_0x4bab6e['type']===_h)return;const _0xde683e=sg(_0x4f04f5);this['_isApplyin'+'gTint']=!(0x8bd+0x5f*-0x47+-0x7*-0x284),_0xde683e['equals'](_0x4bab6e['color'])||(_0x4bab6e['color']=_0xde683e),_0x4bab6e['opacity']!==_0x4f04f5['a']&&(_0x4bab6e['opacity']=_0x4f04f5['a']),this['_isApplyin'+'gTint']=!(-0xf9e*-0x1+0x1a1c+-0x29b9);}['_applyTint'+'WithTween'](_0x3ecac2){var _0x21295d;const _0x510a1c=(_0x21295d=this['_imageEnti'+'ty'])==null?void(0x21f0+0x1da1+0x1*-0x3f91):_0x21295d['element'];if(!_0x3ecac2||!_0x510a1c||_0x510a1c['type']===_h)return;const _0x1cf9ff=sg(_0x3ecac2),_0x35f146=_0x510a1c['color'],_0x2f89d8=_0x510a1c['opacity'];_0x1cf9ff['equals'](_0x35f146)&&_0x3ecac2['a']===_0x2f89d8||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x35f146['r'],_0x35f146['g'],_0x35f146['b'],_0x2f89d8),'to':_0x3ecac2['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x5b6e73=ne()-this['_tweenInfo']['startTime'];let _0x3cc371=this['fadeDurati'+'on']===0x107*-0x4+-0x1a43+0x1e5f*0x1?0x1b74+0xfb3+-0x2b26:_0x5b6e73/this['fadeDurati'+'on'];if(_0x3cc371=N['clamp'](_0x3cc371,0x672+0x3*0x727+0x94d*-0x3,-0xe0*0x26+0x1e5d+0xa*0x4a),Math['abs'](_0x3cc371-(-0x6e3*-0x2+0xcf1+-0x1ab6))>0xa3*-0xb+-0x1f58+-0x2659*-0x1+0.00001){const _0x1f3ec1=this['_tweenInfo']['lerpColor'];_0x1f3ec1['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x3cc371),this['_applyTint'+'Immediatel'+'y'](new Y(_0x1f3ec1['r'],_0x1f3ec1['g'],_0x1f3ec1['b'],_0x1f3ec1['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x1b89+-0x25c1+0xd0f*0x5),this['_hoveringC'+'ounter']=-0xe9*-0x4+-0x1fd1+0x1*0x1c2d,this['_isPressed']=!(-0x2ae+-0x2205*-0x1+-0x1f56),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x46ff91,_0x276d72){_0x46ff91['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x276d72[_0x46ff91['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0xb7e37){return new Y(_0xb7e37['r'],_0xb7e37['g'],_0xb7e37['b']);}class ZP{constructor(){this['enabled']=!(0x2dd*-0xd+-0xb*0x2d2+-0x443f*-0x1),this['active']=!(0xa99*-0x1+0x1aa8+-0x100f*0x1),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(-0x35*0x67+0x7*-0xe3+0x1b88+0.75,-0x6aa*0x2+-0x2*-0xfb5+-0x1216+0.75,0x1417*0x1+-0x1c2+-0x1255+0.75),this['pressedTin'+'t']=new Y(-0x44d*0x2+0x1717+-0x1*0xe7d+0.5,0x5c7*0x5+0x1b6*-0x10+0x81*-0x3+0.5,0xf54+-0x1d2d+0x2c5*0x5+0.5),this['inactiveTi'+'nt']=new Y(0x5*-0x56f+0x220d+-0x6e2+0.25,-0x4*0x134+0x1c0*0x6+-0x5b0+0.25,-0x6c7+0x6*0x65+-0x469*-0x1+0.25),this['fadeDurati'+'on']=0x2523+-0x1908+-0xc1b,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x1c9c+0x1c49*-0x1+-0x53,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x2383+-0x49*-0x3+-0x245e,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x1ffe+-0x14e+0x214c;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0xc4d140){super(_0xc4d140),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3967a6,_0x174b11,_0x26fc75){_0x3967a6['imageEntit'+'y']=_0x174b11['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x3967a6,_0x174b11,ig);}['onUpdate'](_0x8c6b6d){const _0x385321=this['store'];for(const _0x4fb5f9 in _0x385321){const _0x4c72b1=_0x385321[_0x4fb5f9]['entity'],_0x338f99=_0x4c72b1['button'];_0x338f99['enabled']&&_0x4c72b1['enabled']&&_0x338f99['onUpdate']();}}['_onRemoveC'+'omponent'](_0x3aa5f3,_0x23cc9b){_0x23cc9b['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0x919f14,_0x445464){super(_0x919f14,_0x445464),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(0xe29+0x25ae+-0xa5e*0x5)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x5b7ac8=this['system']['store'][this['entity']['getGuid']()];return _0x5b7ac8?_0x5b7ac8['data']:null;}set['enabled'](_0x2f3db8){this['_setValue']('enabled',_0x2f3db8);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x4e97a9){this['_setValue']('type',_0x4e97a9);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x4521fa){this['_setValue']('halfExtent'+'s',_0x4521fa);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x163ba8){this['_setValue']('linearOffs'+'et',_0x163ba8);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x56fe03){this['_setValue']('angularOff'+'set',_0x56fe03);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x2180ea){this['_setValue']('radius',_0x2180ea);}get['radius'](){return this['data']['radius'];}set['axis'](_0x459d8c){this['_setValue']('axis',_0x459d8c);}get['axis'](){return this['data']['axis'];}set['height'](_0x1a6f69){this['_setValue']('height',_0x1a6f69);}get['height'](){return this['data']['height'];}set['asset'](_0x384c2f){this['_setValue']('asset',_0x384c2f);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x463ce2){this['_setValue']('renderAsse'+'t',_0x463ce2);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x1cb742){this['_setValue']('convexHull',_0x1cb742);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x55e8a9){this['_setValue']('shape',_0x55e8a9);}get['shape'](){return this['data']['shape'];}set['model'](_0x2315a0){this['_setValue']('model',_0x2315a0);}get['model'](){return this['data']['model'];}set['render'](_0x351c6e){this['_setValue']('render',_0x351c6e);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x154344){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x154344);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0xbf7fb4,_0x460503){const _0x283f2d=this['data'],_0x49da69=_0x283f2d[_0xbf7fb4];_0x283f2d[_0xbf7fb4]=_0x460503,this['fire']('set',_0xbf7fb4,_0x49da69,_0x460503);}['onSetType'](_0x2fae76,_0x21139e,_0xcc873f){_0x21139e!==_0xcc873f&&this['system']['changeType'](this,_0x21139e,_0xcc873f);}['onSetHalfE'+'xtents'](_0x501395,_0x41731a,_0x3b8326){const _0x144f5f=this['data']['type'];this['data']['initialize'+'d']&&_0x144f5f==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x4446dd,_0x3e81fb,_0x1b7164){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x4048bc,_0x529a97,_0x460acb){const _0x3d5bb8=this['data']['type'];this['data']['initialize'+'d']&&(_0x3d5bb8==='sphere'||_0x3d5bb8==='capsule'||_0x3d5bb8==='cylinder'||_0x3d5bb8==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0xb19180,_0x1f85a1,_0x198ad0){const _0x4358f6=this['data']['type'];this['data']['initialize'+'d']&&(_0x4358f6==='capsule'||_0x4358f6==='cylinder'||_0x4358f6==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x59f086,_0x34e657,_0x4132ff){const _0x256076=this['data']['type'];this['data']['initialize'+'d']&&(_0x256076==='capsule'||_0x256076==='cylinder'||_0x256076==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x2fb755,_0x3dca34,_0x24e968){const _0xf63ff7=this['system']['app']['assets'];if(_0x3dca34){const _0x4396e3=_0xf63ff7['get'](_0x3dca34);_0x4396e3&&_0x4396e3['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x24e968){_0x24e968 instanceof le&&(this['data']['asset']=_0x24e968['id']);const _0x108079=_0xf63ff7['get'](this['data']['asset']);_0x108079&&(_0x108079['off']('remove',this['onAssetRem'+'oved'],this),_0x108079['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x24e968||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x3ff64a,_0x463e1c,_0x12346a){const _0x251e03=this['system']['app']['assets'];if(_0x463e1c){const _0x1906c8=_0x251e03['get'](_0x463e1c);_0x1906c8&&_0x1906c8['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x12346a){_0x12346a instanceof le&&(this['data']['renderAsse'+'t']=_0x12346a['id']);const _0xc52ae2=_0x251e03['get'](this['data']['renderAsse'+'t']);_0xc52ae2&&(_0xc52ae2['off']('remove',this['onRenderAs'+'setRemoved'],this),_0xc52ae2['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x12346a||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x1a9eb8,_0x115409,_0x4a3826){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x20109f,_0xfd3c69,_0x1c46f2){this['onSetModel'](_0x20109f,_0xfd3c69,_0x1c46f2);}['onAssetRem'+'oved'](_0x213da9){_0x213da9['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x213da9['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x309d3f){_0x309d3f['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x309d3f['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x385f22){const _0x4741cf=this['data']['shape'],_0x5e3896=_0x4741cf['getNumChil'+'dShapes']();for(let _0x22b8fd=-0x1fca+-0x1*-0x179f+0x2b9*0x3;_0x22b8fd<_0x5e3896;_0x22b8fd++){const _0x13c824=_0x4741cf['getChildSh'+'ape'](_0x22b8fd);if(Ammo['getPointer'](_0x13c824)===Ammo['getPointer'](_0x385f22))return _0x22b8fd;}return null;}['_onInsert'](_0x1c1188){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x173fd7=this['entity']['parent'];for(;_0x173fd7;){if(_0x173fd7['collision']&&_0x173fd7['collision']['type']==='compound'){_0x173fd7['collision']['shape']['getNumChil'+'dShapes']()===-0x2708+0x1c49+-0x3*-0x395?this['system']['recreatePh'+'ysicalShap'+'es'](_0x173fd7['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x173fd7=_0x173fd7['parent'];}}}}}['_updateCom'+'pound'](){const _0x38592e=this['entity'];if(_0x38592e['_dirtyWorl'+'d']){let _0x5b6153=_0x38592e['_dirtyLoca'+'l'],_0x1c0729=_0x38592e;for(;_0x1c0729&&!_0x5b6153&&!(_0x1c0729['collision']&&_0x1c0729['collision']===this['_compoundP'+'arent']);)_0x1c0729['_dirtyLoca'+'l']&&(_0x5b6153=!(0x1d0+-0x243*0x3+0x4f9)),_0x1c0729=_0x1c0729['parent'];if(_0x5b6153){_0x38592e['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x38592e);const _0x23866d=this['_compoundP'+'arent']['entity']['rigidbody'];_0x23866d&&_0x23866d['activate']();}}}['getShapePo'+'sition'](){const _0x55177b=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x29f569=this['entity']['getRotatio'+'n'](),_0x4805a4=this['data']['linearOffs'+'et'];return ng['copy'](_0x29f569)['transformV'+'ector'](_0x4805a4,rg),rg['add'](_0x55177b);}return _0x55177b;}['getShapeRo'+'tation'](){const _0x285b13=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x285b13)['mul'](this['data']['angularOff'+'set']):_0x285b13;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x1d81b3=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x1d81b3&&(!_0x1d81b3['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x1cf2+0x817+-0x119*-0x13)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x18e213=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x18e213,this['data']['shape']),Ammo['destroy'](_0x18e213),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(0x1*0xf31+0xb2*0x35+0x1159*-0x3),this['type']='box',this['halfExtent'+'s']=new T(-0x11*-0x35+-0x6*0xd5+0xd*0x1d+0.5,-0x1828+0xe99*-0x1+0x26c1*0x1+0.5,-0x4ce*-0x1+0x1c8+-0x696+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=0x1*-0x2314+0x301+0x165*0x17+0.5,this['axis']=0x1d08+0xe0e+-0x2b15,this['height']=-0x2522+-0x230f+0x4833,this['convexHull']=!(0x719+0x1*0x2387+-0x2a9f),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x155e+0x12*0x198+-0x320e),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x21f0*0x1+0x4c*0x6d+-0x424b);}}const so='static',ms='dynamic',Bn='kinematic',eR=0x2e9*-0x1+-0x1*0x19c+0x487*0x1,lo=0x170e+0xe2*-0x2+-0x2*0xaa3,nf=-0x85b+0x4b3*0x8+-0x1d3c,ag=0x2b*-0x8f+0x1*-0xf26+0x272f,tx=0x113*0x1+-0x26c8+0x25ba,tR=0xcd8+-0x1*-0xeef+-0x5a*0x4f,og=0x3*-0x37f+-0x1d1c+0x279b*0x1,sR=0xb91+-0x1b62+0x243*0x7,lg=-0xa5*0x2c+0x1*-0xf5b+0x2bc7,hg=-0x1*0x30e9+-0x1c3c0+-0x7*-0x6c18,af=-0x31*0x466+-0x1*0x8e57+0x265da;let _s,Er,Nn;class sx{constructor(_0x3cdb2a,_0x587f03,_0x4c8663){this['entity']=_0x587f03['entity'],this['component']=_0x587f03,this['app']=_0x3cdb2a,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x4c8663);}['initialize'](_0x24795d){const _0x5238d4=this['entity'],_0x3ebca1=_0x24795d['shape'];if(_0x3ebca1&&typeof Ammo<'u'){_0x5238d4['trigger']&&_0x5238d4['trigger']['destroy']();const _0x55540b=0x11a2*0x1+0x19a0+-0x2b41,_0x4f084a=this['component'];if(_0x4f084a){const _0x271989=_0x4f084a['getShapePo'+'sition'](),_0x2273f6=_0x4f084a['getShapeRo'+'tation']();_s['setValue'](_0x271989['x'],_0x271989['y'],_0x271989['z']),Er['setValue'](_0x2273f6['x'],_0x2273f6['y'],_0x2273f6['z'],_0x2273f6['w']);}else{const _0x29e833=_0x5238d4['getPositio'+'n'](),_0x51d168=_0x5238d4['getRotatio'+'n']();_s['setValue'](_0x29e833['x'],_0x29e833['y'],_0x29e833['z']),Er['setValue'](_0x51d168['x'],_0x51d168['y'],_0x51d168['z'],_0x51d168['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0x3a5f65=this['app']['systems']['rigidbody']['createBody'](_0x55540b,_0x3ebca1,Nn);_0x3a5f65['setRestitu'+'tion'](0x5*-0x6c9+-0xa87+0x8e4*0x5),_0x3a5f65['setFrictio'+'n'](0x1f7*0x4+-0x15+0xb*-0xb5),_0x3a5f65['setDamping'](0x1277*0x1+-0x9dc+-0x89b,-0xc8+0x2108+-0x2040),_s['setValue'](0x25af+0x228c+-0x1c3*0x29,0x68+-0x1b74+-0x6c3*-0x4,0x44b*0x2+0x13*-0x41+-0x3*0x141),_0x3a5f65['setLinearF'+'actor'](_s),_0x3a5f65['setAngular'+'Factor'](_s),_0x3a5f65['setCollisi'+'onFlags'](_0x3a5f65['getCollisi'+'onFlags']()|lo),_0x3a5f65['entity']=_0x5238d4,this['body']=_0x3a5f65,this['component']['enabled']&&_0x5238d4['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x20d5b2){const _0x21c15b=this['component'];if(_0x21c15b){const _0x103f33=_0x21c15b['getShapePo'+'sition'](),_0x2e4204=_0x21c15b['getShapeRo'+'tation']();_s['setValue'](_0x103f33['x'],_0x103f33['y'],_0x103f33['z']),Er['setValue'](_0x2e4204['x'],_0x2e4204['y'],_0x2e4204['z'],_0x2e4204['w']);}else{const _0x2ff56b=this['entity']['getPositio'+'n'](),_0x1f9344=this['entity']['getRotatio'+'n']();_s['setValue'](_0x2ff56b['x'],_0x2ff56b['y'],_0x2ff56b['z']),Er['setValue'](_0x1f9344['x'],_0x1f9344['y'],_0x1f9344['z'],_0x1f9344['w']);}_0x20d5b2['setOrigin'](_s),_0x20d5b2['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x5a6554=this['body'];_0x5a6554['setWorldTr'+'ansform'](Nn),_0x5a6554['activate']();}['enable'](){const _0xd7faf0=this['body'];if(!_0xd7faf0)return;const _0x1ee45b=this['app']['systems']['rigidbody'];_0x1ee45b['_triggers']['indexOf'](this)<0x17a1+-0x7*-0xfa+-0x1e77&&(_0x1ee45b['addBody'](_0xd7faf0,lg,af^lg),_0x1ee45b['_triggers']['push'](this)),_0xd7faf0['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0x24f310=this['body'];if(!_0x24f310)return;const _0x470df2=this['app']['systems']['rigidbody'],_0x44e2b9=_0x470df2['_triggers']['indexOf'](this);_0x44e2b9>-(-0x1*0x21d9+-0xcbb+-0x9f*-0x4b)&&(_0x470df2['removeBody'](_0x24f310),_0x470df2['_triggers']['splice'](_0x44e2b9,0x15*-0x11+0xfd9+0x4d1*-0x3)),_0x24f310['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0x203129){this['system']=_0x203129;}['beforeInit'+'ialize'](_0xc3742,_0x8d34b1){_0x8d34b1['shape']=null,_0x8d34b1['model']=new Oi(),_0x8d34b1['model']['graph']=new De();}['afterIniti'+'alize'](_0x3e0ac1,_0x56f670){this['recreatePh'+'ysicalShap'+'es'](_0x3e0ac1),_0x3e0ac1['data']['initialize'+'d']=!(0x1d1e*0x1+-0x3e*0x95+-0x37c*-0x2);}['reset'](_0x1835c7,_0x13006d){this['beforeInit'+'ialize'](_0x1835c7,_0x13006d),this['afterIniti'+'alize'](_0x1835c7,_0x13006d);}['recreatePh'+'ysicalShap'+'es'](_0x2e9b98){const _0x363dca=_0x2e9b98['entity'],_0x75958e=_0x2e9b98['data'];if(typeof Ammo<'u'){_0x363dca['trigger']&&(_0x363dca['trigger']['destroy'](),delete _0x363dca['trigger']),_0x75958e['shape']&&(_0x2e9b98['_compoundP'+'arent']&&(_0x2e9b98!==_0x2e9b98['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x2e9b98['_compoundP'+'arent'],_0x75958e['shape']),_0x2e9b98['_compoundP'+'arent']['entity']['rigidbody']&&_0x2e9b98['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x75958e)),_0x75958e['shape']=this['createPhys'+'icalShape'](_0x2e9b98['entity'],_0x75958e);const _0x16db11=!_0x2e9b98['_compoundP'+'arent'];if(_0x75958e['type']==='compound'&&(!_0x2e9b98['_compoundP'+'arent']||_0x2e9b98===_0x2e9b98['_compoundP'+'arent']))_0x2e9b98['_compoundP'+'arent']=_0x2e9b98,_0x363dca['forEach'](this['_addEachDe'+'scendant'],_0x2e9b98);else{if(_0x75958e['type']!=='compound'&&!_0x2e9b98['rigidbody']){_0x2e9b98['_compoundP'+'arent']=null;let _0x2d59f3=_0x363dca['parent'];for(;_0x2d59f3;){if(_0x2d59f3['collision']&&_0x2d59f3['collision']['type']==='compound'){_0x2e9b98['_compoundP'+'arent']=_0x2d59f3['collision'];break;}_0x2d59f3=_0x2d59f3['parent'];}}}_0x2e9b98['_compoundP'+'arent']&&_0x2e9b98!==_0x2e9b98['_compoundP'+'arent']&&(_0x16db11&&_0x2e9b98['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x308*0x7+-0x1ba6+0x30de?this['system']['recreatePh'+'ysicalShap'+'es'](_0x2e9b98['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x363dca,!(0xfa1*0x1+0x1*-0x15eb+0x64a)),_0x2e9b98['_compoundP'+'arent']['entity']['rigidbody']&&_0x2e9b98['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x363dca['rigidbody']?(_0x363dca['rigidbody']['disableSim'+'ulation'](),_0x363dca['rigidbody']['createBody'](),_0x363dca['enabled']&&_0x363dca['rigidbody']['enabled']&&_0x363dca['rigidbody']['enableSimu'+'lation']()):_0x2e9b98['_compoundP'+'arent']||(_0x363dca['trigger']?_0x363dca['trigger']['initialize'](_0x75958e):_0x363dca['trigger']=new sx(this['system']['app'],_0x2e9b98,_0x75958e));}}['createPhys'+'icalShape'](_0x38a61f,_0x6dce4b){}['updateTran'+'sform'](_0x1c2b80,_0x4c5f97,_0x18d41e,_0x5b950e){_0x1c2b80['entity']['trigger']&&_0x1c2b80['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0xf29a7e){_0xf29a7e['shape']&&(Ammo['destroy'](_0xf29a7e['shape']),_0xf29a7e['shape']=null);}['beforeRemo'+'ve'](_0x1c8de,_0x58f33f){_0x58f33f['data']['shape']&&(_0x58f33f['_compoundP'+'arent']&&!_0x58f33f['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x58f33f['_compoundP'+'arent'],_0x58f33f['data']['shape']),_0x58f33f['_compoundP'+'arent']['entity']['rigidbody']&&_0x58f33f['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x58f33f['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x58f33f['data']));}['remove'](_0x523a3a,_0x2656c9){_0x523a3a['rigidbody']&&_0x523a3a['rigidbody']['body']&&_0x523a3a['rigidbody']['disableSim'+'ulation'](),_0x523a3a['trigger']&&(_0x523a3a['trigger']['destroy'](),delete _0x523a3a['trigger']);}['clone'](_0x4e8e05,_0x5a2be9){const _0x478ea9=this['system']['store'][_0x4e8e05['getGuid']()],_0x2faf3a={'enabled':_0x478ea9['data']['enabled'],'type':_0x478ea9['data']['type'],'halfExtents':[_0x478ea9['data']['halfExtent'+'s']['x'],_0x478ea9['data']['halfExtent'+'s']['y'],_0x478ea9['data']['halfExtent'+'s']['z']],'linearOffset':[_0x478ea9['data']['linearOffs'+'et']['x'],_0x478ea9['data']['linearOffs'+'et']['y'],_0x478ea9['data']['linearOffs'+'et']['z']],'angularOffset':[_0x478ea9['data']['angularOff'+'set']['x'],_0x478ea9['data']['angularOff'+'set']['y'],_0x478ea9['data']['angularOff'+'set']['z'],_0x478ea9['data']['angularOff'+'set']['w']],'radius':_0x478ea9['data']['radius'],'axis':_0x478ea9['data']['axis'],'height':_0x478ea9['data']['height'],'convexHull':_0x478ea9['data']['convexHull'],'asset':_0x478ea9['data']['asset'],'renderAsset':_0x478ea9['data']['renderAsse'+'t'],'model':_0x478ea9['data']['model'],'render':_0x478ea9['data']['render'],'checkVertexDuplicates':_0x478ea9['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x5a2be9,_0x2faf3a);}}class aR extends xn{['createPhys'+'icalShape'](_0x18f88f,_0x38481c){if(typeof Ammo<'u'){const _0x13f290=_0x38481c['halfExtent'+'s'],_0x14f2ce=new Ammo['btVector3'](_0x13f290?_0x13f290['x']:-0x4*-0x5a7+-0x51e+-0x117e+0.5,_0x13f290?_0x13f290['y']:-0x1*-0x125+-0x1*-0x18d7+-0x19fc+0.5,_0x13f290?_0x13f290['z']:-0x1254+0x251d*0x1+-0x12c9*0x1+0.5),_0x5add52=new Ammo['btBoxShape'](_0x14f2ce);return Ammo['destroy'](_0x14f2ce),_0x5add52;}}}class oR extends xn{['createPhys'+'icalShape'](_0x7b1af4,_0x25e42a){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x25e42a['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x4443b7,_0x30cad7){const _0x28601e=_0x30cad7['axis']??0xb04+-0xe74+0x371,_0x547655=_0x30cad7['radius']??0x1f81+-0x215b+0x1da+0.5,_0xefaf07=Math['max']((_0x30cad7['height']??0xef+-0x14f*0x1d+0x2506)-(-0x81e+0x1e6f+-0x164f)*_0x547655,0x2662+0x14be+0x764*-0x8);let _0x542852=null;if(typeof Ammo<'u')switch(_0x28601e){case-0x232a*0x1+-0x4*0x4e0+0x1b55*0x2:_0x542852=new Ammo['btCapsuleS'+'hapeX'](_0x547655,_0xefaf07);break;case 0x19a5+-0x24a4+-0x1*-0xb00:_0x542852=new Ammo['btCapsuleS'+'hape'](_0x547655,_0xefaf07);break;case-0x5d8*0x5+-0x4d7+0x2211:_0x542852=new Ammo['btCapsuleS'+'hapeZ'](_0x547655,_0xefaf07);break;}return _0x542852;}}class hR extends xn{['createPhys'+'icalShape'](_0x38bdec,_0x298f1e){const _0x4302f3=_0x298f1e['axis']??-0x45+-0xfd*0x1b+0x1af5,_0x57a64c=_0x298f1e['radius']??0x1*-0x12b2+-0x4d*-0x2d+0x1*0x529+0.5,_0x53c6fe=_0x298f1e['height']??0xbef*0x1+-0x1067+-0x1*-0x479;let _0x2b7c07=null,_0x3e94d2=null;if(typeof Ammo<'u')switch(_0x4302f3){case-0x1393+0x1*-0x1cae+0x3041:_0x2b7c07=new Ammo['btVector3'](_0x53c6fe*(-0xa6*0x31+0x2029+-0x63+0.5),_0x57a64c,_0x57a64c),_0x3e94d2=new Ammo['btCylinder'+'ShapeX'](_0x2b7c07);break;case-0x2f*-0x94+0x119f+-0x2cca:_0x2b7c07=new Ammo['btVector3'](_0x57a64c,_0x53c6fe*(-0x1bf2+0x1dde+-0x1ec+0.5),_0x57a64c),_0x3e94d2=new Ammo['btCylinder'+'Shape'](_0x2b7c07);break;case-0x9b*0x18+0x1380+0x7f*-0xa:_0x2b7c07=new Ammo['btVector3'](_0x57a64c,_0x57a64c,_0x53c6fe*(-0x1479+0x2176*-0x1+0x35ef+0.5)),_0x3e94d2=new Ammo['btCylinder'+'ShapeZ'](_0x2b7c07);break;}return _0x2b7c07&&Ammo['destroy'](_0x2b7c07),_0x3e94d2;}}class cR extends xn{['createPhys'+'icalShape'](_0x361fc7,_0x60bfd2){const _0x4bd9da=_0x60bfd2['axis']??-0xc73*0x3+0x1247+0x101*0x13,_0x508609=_0x60bfd2['radius']??0x5*0x16e+0x36b+-0xa91+0.5,_0x288233=_0x60bfd2['height']??0x1777*-0x1+0xb23*0x1+0xc55;let _0xc03b33=null;if(typeof Ammo<'u')switch(_0x4bd9da){case 0x1cec+0x8f8+-0xa*0x3ca:_0xc03b33=new Ammo['btConeShap'+'eX'](_0x508609,_0x288233);break;case-0xada+0x3*-0xb95+0x2d9a:_0xc03b33=new Ammo['btConeShap'+'e'](_0x508609,_0x288233);break;case 0xa86+-0x20c+-0x878:_0xc03b33=new Ammo['btConeShap'+'eZ'](_0x508609,_0x288233);break;}return _0xc03b33;}}class dR extends xn{['beforeInit'+'ialize'](_0x51ad43,_0x159d73){}['createAmmo'+'Hull'](_0xed9af8,_0x53fa1b,_0x5e506d,_0x5e185e){const _0x28c57f=new Ammo['btConvexHu'+'llShape'](),_0x26e5c0=new Ammo['btVector3'](),_0x9d9d52=[];_0xed9af8['getPositio'+'ns'](_0x9d9d52);for(let _0x32e56a=-0x243a*-0x1+0xa02+0x2*-0x171e;_0x32e56a<_0x9d9d52['length'];_0x32e56a+=-0xa9*-0x8+-0xa*-0x1c1+0x16cf*-0x1)_0x26e5c0['setValue'](_0x9d9d52[_0x32e56a]*_0x5e185e['x'],_0x9d9d52[_0x32e56a+(0x1507+-0x2703+0x11fd)]*_0x5e185e['y'],_0x9d9d52[_0x32e56a+(-0x15af+-0x2*0xd51+0x1*0x3053)]*_0x5e185e['z']),_0x28c57f['addPoint'](_0x26e5c0,!(0x1f*-0x8e+0xa00+0x733));Ammo['destroy'](_0x26e5c0),_0x28c57f['recalcLoca'+'lAabb'](),_0x28c57f['setMargin'](-0x1283+-0x1*-0x216f+0xbf*-0x14+0.01);const _0x282811=this['system']['_getNodeTr'+'ansform'](_0x53fa1b);_0x5e506d['addChildSh'+'ape'](_0x282811,_0x28c57f),Ammo['destroy'](_0x282811);}['createAmmo'+'Mesh'](_0x211845,_0x52e51f,_0x5788a0,_0x38d6c7,_0x4344a0=!(-0x2*-0x885+-0x5df+-0xb2b)){const _0x2911c4=this['system'];let _0x1ef4f6;if(_0x2911c4['_triMeshCa'+'che'][_0x211845['id']])_0x1ef4f6=_0x2911c4['_triMeshCa'+'che'][_0x211845['id']];else{const _0x618833=_0x211845['vertexBuff'+'er'],_0x41fed6=_0x618833['getFormat']();let _0x5243d8,_0x34c7df;for(let _0x541721=0x198b+0x2158+-0x9*0x68b;_0x541721<_0x41fed6['elements']['length'];_0x541721++){const _0x2aa27b=_0x41fed6['elements'][_0x541721];if(_0x2aa27b['name']===He){_0x34c7df=new Float32Array(_0x618833['lock'](),_0x2aa27b['offset']),_0x5243d8=_0x2aa27b['stride']/(-0x1*-0x1f1b+0x2695+-0x116b*0x4);break;}}const _0x16e75f=[];_0x211845['getIndices'](_0x16e75f);const _0x127564=_0x211845['primitive'][0x1*0x2351+0x22da+0x17*-0x30d]['count']/(-0x2f*0x1c+-0x2*0x5a7+0x1075),_0x1309f2=new Ammo['btVector3']();let _0x59638d,_0x213de9,_0x852c05;const _0x2457e5=_0x211845['primitive'][-0x1*-0x1d53+0x20b1*0x1+-0x3e04]['base'];_0x1ef4f6=new Ammo['btTriangle'+'Mesh'](),_0x2911c4['_triMeshCa'+'che'][_0x211845['id']]=_0x1ef4f6;const _0xa1979a=new Map();v['assert'](typeof _0x1ef4f6['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x529815=_0x1ef4f6['getIndexed'+'MeshArray']();_0x529815['at'](-0x61*-0x5b+-0x2672+-0x91*-0x7)['m_numTrian'+'gles']=_0x127564;const _0x578f4c=_0x38d6c7?_0x38d6c7['x']:-0x21bc+0x1*0x13c3+0xdfa*0x1,_0x51dc49=_0x38d6c7?_0x38d6c7['y']:0x5*0x12e+-0x7*-0x3eb+-0x2152,_0x432690=_0x38d6c7?_0x38d6c7['z']:-0x2d5*0x4+-0x2*-0xbcb+0x1*-0xc41,_0x18cec9=_0x30aa63=>{const _0x450aec=_0x34c7df[_0x30aa63*_0x5243d8]*_0x578f4c,_0x4eb786=_0x34c7df[_0x30aa63*_0x5243d8+(-0x1779+-0x95*0x35+-0x3653*-0x1)]*_0x51dc49,_0x142756=_0x34c7df[_0x30aa63*_0x5243d8+(-0x1cd6+0x1290+0xa48)]*_0x432690;let _0x10d596;if(_0x4344a0){const _0x5bb5f3=_0x450aec+':'+_0x4eb786+':'+_0x142756;if(_0x10d596=_0xa1979a['get'](_0x5bb5f3),_0x10d596!==void(-0x2*0x9fe+-0x1d6+0x15d2))return _0x10d596;_0x1309f2['setValue'](_0x450aec,_0x4eb786,_0x142756),_0x10d596=_0x1ef4f6['findOrAddV'+'ertex'](_0x1309f2,!(0xe49+0x1246*0x1+-0x208e)),_0xa1979a['set'](_0x5bb5f3,_0x10d596);}else _0x1309f2['setValue'](_0x450aec,_0x4eb786,_0x142756),_0x10d596=_0x1ef4f6['findOrAddV'+'ertex'](_0x1309f2,!(0xd98+-0xd2*0x27+0x1267));return _0x10d596;};for(let _0x39f527=-0x1097+-0x594*-0x1+0x1*0xb03;_0x39f527<_0x127564;_0x39f527++)_0x59638d=_0x18cec9(_0x16e75f[_0x2457e5+_0x39f527*(0x2*0x2c4+-0x2036+0x1ab1)]),_0x213de9=_0x18cec9(_0x16e75f[_0x2457e5+_0x39f527*(0x2e7*0x2+0x18df+-0x1eaa)+(0x2ee+0x6fd*-0x3+-0x905*-0x2)]),_0x852c05=_0x18cec9(_0x16e75f[_0x2457e5+_0x39f527*(-0xbf4+0x1cd0+-0x13*0xe3)+(0x1*0x68b+-0xf4a+0x8c1)]),_0x1ef4f6['addIndex'](_0x59638d),_0x1ef4f6['addIndex'](_0x213de9),_0x1ef4f6['addIndex'](_0x852c05);Ammo['destroy'](_0x1309f2);}const _0xc67002=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x1ef4f6,!(0x79*0xe+0x17b7+-0x1e55));if(!_0x38d6c7){const _0x4b1432=_0x2911c4['_getNodeSc'+'aling'](_0x52e51f);_0xc67002['setLocalSc'+'aling'](_0x4b1432),Ammo['destroy'](_0x4b1432);}const _0x439010=_0x2911c4['_getNodeTr'+'ansform'](_0x52e51f);_0x5788a0['addChildSh'+'ape'](_0x439010,_0xc67002),Ammo['destroy'](_0x439010);}['createPhys'+'icalShape'](_0x54e81b,_0x1c340e){if(!(typeof Ammo>'u')&&(_0x1c340e['model']||_0x1c340e['render'])){const _0x2825c1=new Ammo['btCompound'+'Shape'](),_0x25ca59=_0x54e81b['getWorldTr'+'ansform']()['getScale']();if(_0x1c340e['render']){const _0x4047f6=_0x1c340e['render']['meshes'];for(let _0x21c3c4=-0x38*0x6d+-0xe57*-0x2+-0x4d6;_0x21c3c4<_0x4047f6['length'];_0x21c3c4++)_0x1c340e['convexHull']?this['createAmmo'+'Hull'](_0x4047f6[_0x21c3c4],cg,_0x2825c1,_0x25ca59):this['createAmmo'+'Mesh'](_0x4047f6[_0x21c3c4],cg,_0x2825c1,_0x25ca59,_0x1c340e['checkVerte'+'xDuplicate'+'s']);}else{if(_0x1c340e['model']){const _0x301f13=_0x1c340e['model']['meshInstan'+'ces'];for(let _0x1e5d22=-0xaf+-0x1*-0x7eb+-0x2*0x39e;_0x1e5d22<_0x301f13['length'];_0x1e5d22++)this['createAmmo'+'Mesh'](_0x301f13[_0x1e5d22]['mesh'],_0x301f13[_0x1e5d22]['node'],_0x2825c1,null,_0x1c340e['checkVerte'+'xDuplicate'+'s']);const _0x1df7bd=new Ammo['btVector3'](_0x25ca59['x'],_0x25ca59['y'],_0x25ca59['z']);_0x2825c1['setLocalSc'+'aling'](_0x1df7bd),Ammo['destroy'](_0x1df7bd);}}return _0x2825c1;}}['recreatePh'+'ysicalShap'+'es'](_0x4f6147){const _0x3e60c6=_0x4f6147['data'];if((_0x3e60c6['renderAsse'+'t']||_0x3e60c6['asset'])&&_0x4f6147['enabled']&&_0x4f6147['entity']['enabled']){this['loadAsset'](_0x4f6147,_0x3e60c6['renderAsse'+'t']||_0x3e60c6['asset'],_0x3e60c6['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x4f6147);}['loadAsset'](_0x36a232,_0x35095d,_0x43258c){const _0x25723a=_0x36a232['data'],_0x4376fd=this['system']['app']['assets'],_0x86b4ad=_0x25723a[_0x43258c],_0x5d5d45=_0x3450aa=>{_0x25723a[_0x43258c]===_0x86b4ad&&(_0x25723a[_0x43258c]=_0x3450aa['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x36a232));},_0x5efbbd=_0x4b04d7=>{_0x4b04d7['ready'](_0x42211f=>{if(_0x42211f['data']['containerA'+'sset']){const _0x1e8013=_0x4376fd['get'](_0x42211f['data']['containerA'+'sset']);_0x1e8013['loaded']?_0x5d5d45(_0x42211f):(_0x1e8013['ready'](()=>{_0x5d5d45(_0x42211f);}),_0x4376fd['load'](_0x1e8013));}else _0x5d5d45(_0x42211f);}),_0x4376fd['load'](_0x4b04d7);},_0x5817a2=_0x4376fd['get'](_0x35095d);_0x5817a2?_0x5efbbd(_0x5817a2):_0x4376fd['once']('add:'+_0x35095d,_0x5efbbd);}['doRecreate'+'PhysicalSh'+'ape'](_0x14deca){const _0x43629d=_0x14deca['entity'],_0x1a5c4f=_0x14deca['data'];_0x1a5c4f['model']||_0x1a5c4f['render']?(this['destroySha'+'pe'](_0x1a5c4f),_0x1a5c4f['shape']=this['createPhys'+'icalShape'](_0x43629d,_0x1a5c4f),_0x43629d['rigidbody']?(_0x43629d['rigidbody']['disableSim'+'ulation'](),_0x43629d['rigidbody']['createBody'](),_0x43629d['enabled']&&_0x43629d['rigidbody']['enabled']&&_0x43629d['rigidbody']['enableSimu'+'lation']()):_0x43629d['trigger']?_0x43629d['trigger']['initialize'](_0x1a5c4f):_0x43629d['trigger']=new sx(this['system']['app'],_0x14deca,_0x1a5c4f)):(this['beforeRemo'+'ve'](_0x43629d,_0x14deca),this['remove'](_0x43629d,_0x1a5c4f));}['updateTran'+'sform'](_0x3e0f0b,_0x144b86,_0x131fab,_0x172a9a){if(_0x3e0f0b['shape']){const _0x368176=_0x3e0f0b['entity']['getWorldTr'+'ansform']()['getScale'](),_0x31949b=_0x3e0f0b['shape']['getLocalSc'+'aling']();(_0x368176['x']!==_0x31949b['x']()||_0x368176['y']!==_0x31949b['y']()||_0x368176['z']!==_0x31949b['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x3e0f0b);}super['updateTran'+'sform'](_0x3e0f0b,_0x144b86,_0x131fab,_0x172a9a);}['destroySha'+'pe'](_0x421c78){if(!_0x421c78['shape'])return;const _0x33dd30=_0x421c78['shape']['getNumChil'+'dShapes']();for(let _0x72d7c5=-0x2484+-0x63*0x2c+0x3588;_0x72d7c5<_0x33dd30;_0x72d7c5++){const _0x2da41b=_0x421c78['shape']['getChildSh'+'ape'](_0x72d7c5);Ammo['destroy'](_0x2da41b);}Ammo['destroy'](_0x421c78['shape']),_0x421c78['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x3847c7,_0x4d4214){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x20c213){!_0x20c213['collision']||_0x20c213['rigidbody']||(_0x20c213['collision']['_compoundP'+'arent']=this,_0x20c213!==this['entity']&&_0x20c213['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x20c213['collision']));}['_updateEac'+'hDescendan'+'t'](_0x45ac74){_0x45ac74['collision']&&_0x45ac74['collision']['_compoundP'+'arent']===this&&(_0x45ac74['collision']['_compoundP'+'arent']=null,_0x45ac74!==this['entity']&&!_0x45ac74['rigidbody']&&_0x45ac74['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x45ac74['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x35ece5){!_0x35ece5['collision']||_0x35ece5['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x35ece5,!(0x17ab+-0x1cda+-0x1*-0x530));}}class fR extends Xe{constructor(_0x45d7de){super(_0x45d7de),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x27919d,_0x3a1aa1,_0x345e23){_0x345e23=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x47d81a={};for(let _0x46ff78=0x575*0x4+0x236b+-0xb73*0x5,_0x4454ef=_0x345e23['length'];_0x46ff78<_0x4454ef;_0x46ff78++){const _0x592156=_0x345e23[_0x46ff78];_0x47d81a[_0x592156]=_0x3a1aa1[_0x592156];}let _0x3e0bec;if(_0x3a1aa1['hasOwnProp'+'erty']('asset')?(_0x3e0bec=_0x345e23['indexOf']('model'),_0x3e0bec!==-(0x3*0x805+-0x1f30+-0xb*-0xa6)&&_0x345e23['splice'](_0x3e0bec,-0xf90+0xda9*-0x2+0x2ae3*0x1),_0x3e0bec=_0x345e23['indexOf']('render'),_0x3e0bec!==-(0xcf1*-0x1+0x1*-0x155b+0xb6f*0x3)&&_0x345e23['splice'](_0x3e0bec,-0xd9c*0x2+-0x1b73*-0x1+-0x3a*0x1)):_0x3a1aa1['hasOwnProp'+'erty']('model')&&(_0x3e0bec=_0x345e23['indexOf']('asset'),_0x3e0bec!==-(-0x3*-0x395+-0x43*0x5+-0x73*0x15)&&_0x345e23['splice'](_0x3e0bec,0xa3f*-0x2+-0x9dc*0x2+0x1d*0x163)),_0x47d81a['type']||(_0x47d81a['type']=_0x27919d['data']['type']),_0x27919d['data']['type']=_0x47d81a['type'],Array['isArray'](_0x47d81a['halfExtent'+'s'])&&(_0x47d81a['halfExtent'+'s']=new T(_0x47d81a['halfExtent'+'s'])),Array['isArray'](_0x47d81a['linearOffs'+'et'])&&(_0x47d81a['linearOffs'+'et']=new T(_0x47d81a['linearOffs'+'et'])),Array['isArray'](_0x47d81a['angularOff'+'set'])){const _0x31642f=_0x47d81a['angularOff'+'set'];_0x31642f['length']===0x1*0x1457+0x24fb+-0x394f?_0x47d81a['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x31642f[0xcca+0xc*0xa6+-0x2*0xa49],_0x31642f[-0x24fb+-0xf34+0x3430],_0x31642f[0x1e5*-0xf+-0x1*0xc7a+-0x25*-0x11b]):_0x47d81a['angularOff'+'set']=new se(_0x47d81a['angularOff'+'set']);}const _0x27cd49=this['_createImp'+'lementatio'+'n'](_0x47d81a['type']);_0x27cd49['beforeInit'+'ialize'](_0x27919d,_0x47d81a),super['initialize'+'ComponentD'+'ata'](_0x27919d,_0x47d81a,_0x345e23),_0x27cd49['afterIniti'+'alize'](_0x27919d,_0x47d81a);}['_createImp'+'lementatio'+'n'](_0x4853b4){if(this['implementa'+'tions'][_0x4853b4]===void(0x5e+0x131d+0x1*-0x137b)){let _0x566ae5;switch(_0x4853b4){case'box':_0x566ae5=new aR(this);break;case'sphere':_0x566ae5=new oR(this);break;case'capsule':_0x566ae5=new lR(this);break;case'cylinder':_0x566ae5=new hR(this);break;case'cone':_0x566ae5=new cR(this);break;case'mesh':_0x566ae5=new dR(this);break;case'compound':_0x566ae5=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x4853b4);}this['implementa'+'tions'][_0x4853b4]=_0x566ae5;}return this['implementa'+'tions'][_0x4853b4];}['_getImplem'+'entation'](_0x2343a1){return this['implementa'+'tions'][_0x2343a1['collision']['data']['type']];}['cloneCompo'+'nent'](_0x411fd6,_0x557ca5){return this['_getImplem'+'entation'](_0x411fd6)['clone'](_0x411fd6,_0x557ca5);}['onBeforeRe'+'move'](_0x482770,_0x122148){this['implementa'+'tions'][_0x122148['data']['type']]['beforeRemo'+'ve'](_0x482770,_0x122148),_0x122148['onBeforeRe'+'move']();}['onRemove'](_0x32b29a,_0x38ac87){this['implementa'+'tions'][_0x38ac87['type']]['remove'](_0x32b29a,_0x38ac87);}['updateComp'+'oundChildT'+'ransform'](_0x134734,_0xc06029){const _0xa23cdc=_0x134734['collision']['_compoundP'+'arent'];if(_0xa23cdc!==_0x134734['collision']&&_0x134734['enabled']&&_0x134734['collision']['enabled']&&(_0x134734['_dirtyLoca'+'l']||_0xc06029)){const _0xbee0ad=this['_getNodeTr'+'ansform'](_0x134734,_0xa23cdc['entity']),_0x5a8d4f=_0xa23cdc['getCompoun'+'dChildShap'+'eIndex'](_0x134734['collision']['shape']);_0x5a8d4f===null?_0xa23cdc['shape']['addChildSh'+'ape'](_0xbee0ad,_0x134734['collision']['data']['shape']):_0xa23cdc['shape']['updateChil'+'dTransform'](_0x5a8d4f,_0xbee0ad,!(-0x57*-0x69+-0x12ee+-0x10c1)),Ammo['destroy'](_0xbee0ad);}}['_removeCom'+'poundChild'](_0x3868fb,_0x3a5bae){if(_0x3868fb['shape']['getNumChil'+'dShapes']()!==0x27e*-0x1+0x14bf+0x1*-0x1241){if(_0x3868fb['shape']['removeChil'+'dShape'])_0x3868fb['shape']['removeChil'+'dShape'](_0x3a5bae);else{const _0x1cb632=_0x3868fb['getCompoun'+'dChildShap'+'eIndex'](_0x3a5bae);_0x1cb632!==null&&_0x3868fb['shape']['removeChil'+'dShapeByIn'+'dex'](_0x1cb632);}}}['onTransfor'+'mChanged'](_0xae75d0,_0x56f476,_0x2fcce1,_0x49de79){this['implementa'+'tions'][_0xae75d0['data']['type']]['updateTran'+'sform'](_0xae75d0,_0x56f476,_0x2fcce1,_0x49de79);}['changeType'](_0x5180f9,_0x3c8979,_0x54c044){this['implementa'+'tions'][_0x3c8979]['beforeRemo'+'ve'](_0x5180f9['entity'],_0x5180f9),this['implementa'+'tions'][_0x3c8979]['remove'](_0x5180f9['entity'],_0x5180f9['data']),this['_createImp'+'lementatio'+'n'](_0x54c044)['reset'](_0x5180f9,_0x5180f9['data']);}['recreatePh'+'ysicalShap'+'es'](_0x33c536){this['implementa'+'tions'][_0x33c536['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x33c536);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x3788e5,_0x207079){if(_0x3788e5===_0x207079){const _0x2c7109=_0x3788e5['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0x2c7109['x'],_0x2c7109['y'],_0x2c7109['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x3788e5['parent'],_0x207079),Xl['mul'](_0x3788e5['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x125c8c){const _0x1f74b3=_0x125c8c['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x1f74b3['x'],_0x1f74b3['y'],_0x1f74b3['z']);}['_getNodeTr'+'ansform'](_0x42d817,_0x20b8a8){let _0x3de13e,_0x26100a;_0x20b8a8?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x42d817,_0x20b8a8),_0x3de13e=iR,_0x26100a=Cr,Xl['getTransla'+'tion'](_0x3de13e),_0x26100a['setFromMat'+'4'](Xl)):(_0x3de13e=_0x42d817['getPositio'+'n'](),_0x26100a=_0x42d817['getRotatio'+'n']());const _0x3267ca=new Ammo['btQuaterni'+'on'](),_0x443d9b=new Ammo['btTransfor'+'m']();_0x443d9b['setIdentit'+'y']();const _0x544243=_0x443d9b['getOrigin'](),_0x5d3a60=_0x42d817['collision'];if(_0x5d3a60&&_0x5d3a60['_hasOffset']){const _0x52ed46=_0x5d3a60['data']['linearOffs'+'et'],_0x25ac44=_0x5d3a60['data']['angularOff'+'set'],_0x2e670b=rR;Cr['copy'](_0x26100a)['transformV'+'ector'](_0x52ed46,_0x2e670b),_0x2e670b['add'](_0x3de13e),Cr['copy'](_0x26100a)['mul'](_0x25ac44),_0x544243['setValue'](_0x2e670b['x'],_0x2e670b['y'],_0x2e670b['z']),_0x3267ca['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x544243['setValue'](_0x3de13e['x'],_0x3de13e['y'],_0x3de13e['z']),_0x3267ca['setValue'](_0x26100a['x'],_0x26100a['y'],_0x26100a['z'],_0x26100a['w']);return _0x443d9b['setRotatio'+'n'](_0x3267ca),Ammo['destroy'](_0x3267ca),_0x443d9b;}['destroy'](){for(const _0xa5e0da in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0xa5e0da]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x4f3c27,_0x3de46d,_0x9d442d){this['_entity']=_0x4f3c27,this['_element']=_0x4f3c27['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x3de46d,this['meshInstan'+'ce']=new Le(this['mesh'],_0x9d442d,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x4f3c27['name'],this['meshInstan'+'ce']['castShadow']=!(0x419*-0x1+-0xcac*0x1+-0x71*-0x26),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0x1a83+0xe86+0xbfe),this['_meshDirty']=!(-0x25df+-0x19*0x91+0x7*0x76f),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x182d52,_0x298488;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x182d52=this['meshInstan'+'ce'])==null||_0x182d52['destroy'](),this['meshInstan'+'ce']=null,(_0x298488=this['unmaskMesh'+'Instance'])==null||_0x298488['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x1d5f2f){this['meshInstan'+'ce']&&(this['mesh']=_0x1d5f2f,this['meshInstan'+'ce']['mesh']=_0x1d5f2f,this['meshInstan'+'ce']['visible']=!!_0x1d5f2f,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x1d5f2f),this['forceUpdat'+'eAabb']());}['setMask'](_0x4fb38b){var _0x440af0;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x4fb38b){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0x1e7*0x4+-0x1b40+-0x2f*-0x6b),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x9e*0xa+0x4b6+0x4b*0x5),this['unmaskMesh'+'Instance']['pick']=!(0x15*0x95+0x2e3+-0x509*0x3),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x514999 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x514999,this['meshInstan'+'ce']['parameters'][_0x514999]['data']);}else{const _0x362d66=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x362d66>=0x1*-0x2015+0x1f5+0x1e20&&this['model']['meshInstan'+'ces']['splice'](_0x362d66,0xe4b+0x6*-0x5cf+0x1490);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x4fb38b||((_0x440af0=this['unmaskMesh'+'Instance'])==null||_0x440af0['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x5546be){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x5546be,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x5546be));}['setParamet'+'er'](_0x4d1d6c,_0xee69b4){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x4d1d6c,_0xee69b4),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x4d1d6c,_0xee69b4));}['deletePara'+'meter'](_0x5a2a9d){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x5a2a9d),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x5a2a9d));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x4e6ab2=function(_0xba23ba){let _0x21358c;const _0x349875=_0xba23ba['children'],_0x2b0687=_0x349875['length'];if(_0x2b0687){for(let _0x1ff5fa=-0xff1+0x3*0x4e4+0x145;_0x1ff5fa<_0x2b0687;_0x1ff5fa++)_0x349875[_0x1ff5fa]['element']&&(_0x21358c=_0x349875[_0x1ff5fa]);if(!_0x21358c)return null;const _0x55fff1=_0x4e6ab2(_0x21358c);return _0x55fff1||_0x21358c;}return null;};if(this['unmaskMesh'+'Instance']){const _0x49e009=_0x4e6ab2(this['_entity']);_0x49e009&&_0x49e009['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x49e009['element']['drawOrder']+_0x49e009['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x369bb1){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x369bb1),this['meshInstan'+'ce']['drawOrder']=_0x369bb1);}['setCull'](_0x3d48e6){if(!this['meshInstan'+'ce'])return;const _0x28124a=this['_element'];let _0x50b401=null;_0x3d48e6&&_0x28124a['_isScreenS'+'pace']()&&(_0x50b401=function(_0xcd56df){return _0x28124a['isVisibleF'+'orCamera'](_0xcd56df);}),this['meshInstan'+'ce']['cull']=_0x3d48e6,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x50b401,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x3d48e6,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x50b401);}['setScreenS'+'pace'](_0x23f343){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x23f343,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x23f343));}['setLayer'](_0x328a30){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x328a30,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x328a30));}['forceUpdat'+'eAabb'](_0x5c9f83){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0x1*0x1b7+-0xb03+0xcbb),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x26*-0x3b+0x20*-0x128+-0x927*-0x5)));}['setAabbFun'+'c'](_0x23bb1a){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x23bb1a,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x23bb1a));}}class _R{constructor(_0x5a78d3){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x5a78d3,this['_entity']=_0x5a78d3['entity'],this['_system']=_0x5a78d3['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x15d8+0x108d+0x54b,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x4*-0x705+0x22*0x51+0x1153),this['_rect']=new Q(-0x314*0xc+0x102+-0x1ff*-0x12,0x1e4e+0x23de+0x1*-0x422c,-0x29*0x90+-0x1a11*0x1+-0x296*-0x13,0xbe2+-0x2*-0x176+-0xecd),this['_mask']=!(0xff8+-0x1*-0x581+-0x1578*0x1),this['_maskRef']=0x4b7+-0xbd0+-0x719*-0x1,this['_outerScal'+'e']=new $(),this['_outerScal'+'eUniform']=new Float32Array(-0x1*0x153d+0x8e1+0xc5e),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1731*-0x1+0xc25+0x42*-0x89),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0x5af*-0x1+-0x2387*-0x1+-0x1499*0x2),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(0xf*-0x2c+0x1*0x202e+-0x1d99,0x1*0x255b+0x388+0x1471*-0x2,0x7*-0x193+-0x1*0x1741+0x2247,-0x898+0xdd*0xd+-0x2a0),this['_colorUnif'+'orm']=new Float32Array([-0x1379*-0x1+0x3*-0xb42+-0xe4e*-0x1,0x1bba+-0x3f5*0x3+-0xfda,-0x3*-0xc39+-0x10a0+-0x140a]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0x16+0x8*-0x30b+0x1843),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x260958){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x1b77e7){this['_updateMat'+'erial'](_0x1b77e7);}['_onScreenC'+'hange'](_0x4f9757,_0x5a17b8){_0x4f9757?this['_updateMat'+'erial'](_0x4f9757['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x251*0x5+0x9f5*0x1+-0x1589));}['_onDrawOrd'+'erChange'](_0x393c36){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x393c36),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x1eec+-0x16c3*-0x1+0x1*-0x35ae);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x41daee){const _0x7c7637=!!this['_mask'],_0x35d78a=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0x32b096=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x41daee,_0x7c7637,_0x35d78a,_0x32b096)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x41daee),this['_renderabl'+'e']['setLayer'](_0x41daee?Ub:c0));}['_createMes'+'h'](){const _0x155704=this['_element'],_0x2ace4d=_0x155704['calculated'+'Width'],_0x4a5c38=_0x155704['calculated'+'Height'],_0x55f4a8=this['_rect'],_0x34bc8f=this['_system']['app']['graphicsDe'+'vice'],_0x16eb77=new Float32Array([_0x2ace4d,0x1be5+0x1b0e+-0x36f3,-0x1*-0x11f4+0x1003*0x2+0x18fd*-0x2,0x1be8+0xa*-0x24+-0x1a80,0x225+-0xc8*0x25+0x193*0x11,-0x35*-0x7a+0x7e*-0x39+0x1*0x2cd,_0x55f4a8['x']+_0x55f4a8['z'],-0xf4+-0xed3+0x65*0x28-_0x55f4a8['y'],_0x2ace4d,_0x4a5c38,0x1*0x4d6+-0x1*0x1795+-0x1*-0x12bf,-0x888+0x3ed+0x9*0x83,0x4b1+-0xa5c+-0x1*-0x5ab,0x7*-0x53b+0xee0+0x1*0x15be,_0x55f4a8['x']+_0x55f4a8['z'],0x1802+-0x15b+-0x16a6-(_0x55f4a8['y']+_0x55f4a8['w']),0xa4*0x8+0x1724+0x1*-0x1c44,0x81*0x31+0x1637+0x2*-0x1774,0x22a+0x1ce1+0xa59*-0x3,0x141f+0xe99+-0x22b8,-0x1*-0x22d1+-0x8*-0xa1+-0x27d9*0x1,0x1*0x3fe+0x8*-0x28e+0x1*0x1073,_0x55f4a8['x'],0x12ce+0x1da9+-0x183b*0x2-_0x55f4a8['y'],0xdf9+0x13b6+-0x1*0x21af,_0x4a5c38,0x1*-0x1ce5+0xa*0x1eb+0x9b7,0x102a*-0x2+0x1*0x16ca+0x98a*0x1,0xd6*0xd+-0x2151+-0x1*-0x1673,-0xa*-0x6b+0x1*0x182f+0xf*-0x1e4,_0x55f4a8['x'],0x27a+-0x644+0x3cb*0x1-(_0x55f4a8['y']+_0x55f4a8['w'])]),_0x35dd85=pR['get'](_0x34bc8f,()=>new Et(_0x34bc8f,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x1f4433=new os(_0x34bc8f,_0x35dd85,-0x2*-0x79d+0x7a*0x1+-0xfb0,{'data':_0x16eb77['buffer']}),_0x1612f9=new Ie(_0x34bc8f);return _0x1612f9['vertexBuff'+'er']=_0x1f4433,_0x1612f9['primitive'][0x1acb+0x8e4*-0x3+-0x1*0x1f]['type']=ar,_0x1612f9['primitive'][0x2*0xc1f+-0x1d*0xd8+0x3a*0x1]['base']=-0x661*0x1+-0x1de5+0x1*0x2446,_0x1612f9['primitive'][0x15bb+0x100e+-0x239*0x11]['count']=0x2290+-0x20d1+-0x1*0x1bb,_0x1612f9['primitive'][0x7d*-0x19+0x2*0xaae+0x1*-0x927]['indexed']=!(0x614*-0x4+-0xaea+0x233b),_0x1612f9['aabb']['setMinMax'](T['ZERO'],new T(_0x2ace4d,_0x4a5c38,0xb17*-0x2+-0x47+0x1*0x1675)),this['_updateMes'+'h'](_0x1612f9),_0x1612f9;}['_updateMes'+'h'](_0x31c370){const _0x41cc6c=this['_element'];let _0x32a551=_0x41cc6c['calculated'+'Width'],_0x22c9a6=_0x41cc6c['calculated'+'Height'];if(_0x41cc6c['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>-0x12*0x13+-0x2465+0x25bb){const _0x21e4e2=_0x41cc6c['calculated'+'Width']/_0x41cc6c['calculated'+'Height'];_0x41cc6c['fitMode']===YP&&_0x21e4e2>this['_targetAsp'+'ectRatio']||_0x41cc6c['fitMode']===KP&&_0x21e4e2<this['_targetAsp'+'ectRatio']?_0x32a551=_0x41cc6c['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x22c9a6=_0x41cc6c['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x1c7706=_0x41cc6c['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x1c7706),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0x6f21ff=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x35ef38=(-0x2*0x7c3+0x2*-0x2a9+0x2*0xa6d)/_0x6f21ff['rect']['z'],_0x4b13aa=(0xd*0xb3+0x214a+-0x2a5f)/_0x6f21ff['rect']['w'];this['_innerOffs'+'et']['set'](_0x6f21ff['border']['x']*_0x35ef38,_0x6f21ff['border']['y']*_0x4b13aa,_0x6f21ff['border']['z']*_0x35ef38,_0x6f21ff['border']['w']*_0x4b13aa);const _0x4114c0=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x6f21ff['rect']['x']/_0x4114c0['width'],_0x6f21ff['rect']['y']/_0x4114c0['height'],_0x6f21ff['rect']['z']/_0x4114c0['width'],_0x6f21ff['rect']['w']/_0x4114c0['height']);const _0x972a92=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0xc41f7c=_0x6f21ff['rect']['z']/_0x972a92,_0x43c43e=_0x6f21ff['rect']['w']/_0x972a92;this['_outerScal'+'e']['set'](Math['max'](_0x32a551,this['_innerOffs'+'et']['x']*_0xc41f7c),Math['max'](_0x22c9a6,this['_innerOffs'+'et']['y']*_0x43c43e));let _0x6359b2=_0xc41f7c,_0x4e9fa7=_0x43c43e;this['_outerScal'+'e']['x']/=_0xc41f7c,this['_outerScal'+'e']['y']/=_0x43c43e,_0x6359b2*=N['clamp'](_0x32a551/(this['_innerOffs'+'et']['x']*_0xc41f7c),-0x33*-0x15+-0x251e+-0x20ef*-0x1+0.0001,-0x1*0x1c42+0x136c+0x8d7),_0x4e9fa7*=N['clamp'](_0x22c9a6/(this['_innerOffs'+'et']['y']*_0x43c43e),-0x24*0x7b+0x1fc7+-0xe7b+0.0001,0x11a8+0x3f*-0x2f+0x1*-0x616),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x4cc+0x3b0+-0x4*0x21f]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x2463*-0x1+-0x7*0x2a7+0x4ff*0xb]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x238f+-0xca6+-0x16e7]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x6d*0x59+-0x25b9+0x1*0x4ba1]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x1a25+-0x1e11+0x3ec]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x147*-0x1+-0x12ef+0x1437]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x1c3a*-0x1+-0x470+-0x17c8]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x1caf+-0x1*0x25e9+0x93d]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x1378+0x233d+-0x16f*0xb]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1166*0x2+-0x2b3*0x5+0x154c*-0x1]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x6359b2,_0x4e9fa7,0x20d8+-0x946*0x2+-0xe4b*0x1),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0xe5f*-0x1+-0x1a49+0x28a8+0.5-_0x41cc6c['pivot']['x'])*_0x32a551,(-0x1*-0x1145+0x1e52+-0xfdd*0x3+0.5-_0x41cc6c['pivot']['y'])*_0x22c9a6,0x16d4+-0x1e23*-0x1+-0x7*0x791));}else{const _0x49b33f=_0x31c370['vertexBuff'+'er'],_0xadfab7=new Float32Array(_0x49b33f['lock']()),_0x3fa3d2=_0x41cc6c['pivot']['x'],_0x484754=_0x41cc6c['pivot']['y'];_0xadfab7[0x2c*-0x66+0x735+0x1*0xa53]=_0x32a551-_0x3fa3d2*_0x32a551,_0xadfab7[0x2ab*-0xb+0x509*-0x7+0x2cf*0x17]=-0x182c+0x1244+0x6c*0xe-_0x484754*_0x22c9a6,_0xadfab7[0x136c+0xd04+-0x2068]=_0x32a551-_0x3fa3d2*_0x32a551,_0xadfab7[0x162f+-0x4a6+-0x1180]=_0x22c9a6-_0x484754*_0x22c9a6,_0xadfab7[-0x253*0xe+-0x24d7*-0x1+-0x43d]=0x2*0x8bd+0x1*-0x1c2d+0xab3-_0x3fa3d2*_0x32a551,_0xadfab7[-0x109d+0xe83+0x1*0x22b]=-0x5ad*0x1+0x3ee+-0x95*-0x3-_0x484754*_0x22c9a6,_0xadfab7[0xa*-0x241+0x1977+0x91*-0x5]=0x152b*-0x1+-0x2d2+-0x7ff*-0x3-_0x3fa3d2*_0x32a551,_0xadfab7[0x2432*-0x1+0x2b*0x33+0x1bba]=_0x22c9a6-_0x484754*_0x22c9a6;let _0x5afe64=-0x1a3d+0x1047+0x1*0x9f7,_0x20e29b=-0x1*-0xdb+0x26d7*0x1+-0x27b1,_0x1b739d=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x124e8e=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x124e8e&&(_0x1b739d=_0x124e8e['rect'],_0x5afe64=this['_sprite']['atlas']['texture']['width'],_0x20e29b=this['_sprite']['atlas']['texture']['height']);}_0xadfab7[-0x6c3+-0xe99*0x1+0x1562*0x1]=(_0x1b739d['x']+_0x1b739d['z'])/_0x5afe64,_0xadfab7[0x52*0x5b+-0x15*-0x11f+-0x34aa]=-0x1715+0x3bc*-0x1+-0xd69*-0x2-_0x1b739d['y']/_0x20e29b,_0xadfab7[-0x8d3*-0x2+0x209*-0x5+-0x76b]=(_0x1b739d['x']+_0x1b739d['z'])/_0x5afe64,_0xadfab7[0x18d9*0x1+0x2b*0xa3+-0x5*0xa6f]=-0x2*0x65f+-0x81*0x1d+0x1b5c-(_0x1b739d['y']+_0x1b739d['w'])/_0x20e29b,_0xadfab7[-0x645+0x297*-0x1+0x8f2]=_0x1b739d['x']/_0x5afe64,_0xadfab7[-0xb9e+-0x2439*0x1+0x2fee]=-0x26b*-0xb+-0x18d4+-0xe2*0x2-_0x1b739d['y']/_0x20e29b,_0xadfab7[-0x173*-0x12+-0x1f1a+-0x12*-0x49]=_0x1b739d['x']/_0x5afe64,_0xadfab7[-0x2*0x420+0xb25+-0x2c6]=0x403*0x4+0x1*-0x150c+0x501-(_0x1b739d['y']+_0x1b739d['w'])/_0x20e29b,_0x49b33f['unlock']();const _0xfea2b3=new T(0x215*0x2+-0x3dc+-0x4e-_0x3fa3d2*_0x32a551,0x2140*-0x1+0x26bd*0x1+-0x119*0x5-_0x484754*_0x22c9a6,0x1bf9+-0x1130+0x1*-0xac9),_0x40a2f5=new T(_0x32a551-_0x3fa3d2*_0x32a551,_0x22c9a6-_0x484754*_0x22c9a6,0x1315+-0x25b0+0x129b);_0x31c370['aabb']['setMinMax'](_0xfea2b3,_0x40a2f5),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x2479+-0x16c*-0x9+0xc51*-0x4,0xa28+-0x1383+0x95c,0x2441*-0x1+-0x1a80+0x3ec2),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x121a+0x1d*0x89+0x295,-0x1389+-0x1bf9+-0x3*-0xfd6,-0x1*-0x1169+-0xa7a+-0x6ef),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(-0x7a*0xb+-0xee*-0x20+-0x1881);}['_updateSpr'+'ite'](){let _0x463f9b=!(0x30b*-0x5+0x1767+-0x5*0x1a3),_0x6b3c02=null;if(this['_targetAsp'+'ectRatio']=-(-0x2*0x103a+-0x4*0x766+0x3e0d),this['_sprite']&&this['_sprite']['atlas']){_0x6b3c02=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x463f9b=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x16d4f4=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x16d4f4==null?void(-0xe9a+0x3f3+0x12f*0x9):_0x16d4f4['rect']['w'])>-0x701*0x1+0x15b2*0x1+-0xeb1&&(this['_targetAsp'+'ectRatio']=_0x16d4f4['rect']['z']/_0x16d4f4['rect']['w']);}this['mesh']=_0x463f9b?_0x6b3c02:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x1303+0x7*-0x97+-0xee2):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0xdb53c8){return _0xdb53c8['center']['set'](-0x1*-0xbe5+0x24b1+-0x3096,0x72*-0x1c+-0x119d+0x1e15,-0x1cda*-0x1+0x4*0x18f+-0x2316),_0xdb53c8['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0xe24+-0x830*0x3+0x26b4+0.5),this['_outerScal'+'e']['y']*(-0x1*-0x12a0+0xb0e*-0x1+-0x22*0x39+0.5),-0xac8+0xdb3+0x1*-0x2eb+0.001),_0xdb53c8['setFromTra'+'nsformedAa'+'bb'](_0xdb53c8,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0xdb53c8;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x4f3723=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x4f3723),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x236a89){this['material']=_0x236a89['resource'];}['_onMateria'+'lAdded'](_0x5364c4){this['_system']['app']['assets']['off']('add:'+_0x5364c4['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x5364c4['id']&&this['_bindMater'+'ialAsset'](_0x5364c4);}['_bindMater'+'ialAsset'](_0x2ccf32){this['_entity']['enabled']&&(_0x2ccf32['on']('load',this['_onMateria'+'lLoad'],this),_0x2ccf32['on']('change',this['_onMateria'+'lChange'],this),_0x2ccf32['on']('remove',this['_onMateria'+'lRemove'],this),_0x2ccf32['resource']?this['_onMateria'+'lLoad'](_0x2ccf32):this['_system']['app']['assets']['load'](_0x2ccf32));}['_unbindMat'+'erialAsset'](_0x1a25d9){_0x1a25d9['off']('load',this['_onMateria'+'lLoad'],this),_0x1a25d9['off']('change',this['_onMateria'+'lChange'],this),_0x1a25d9['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x32e851){this['_system']['app']['assets']['off']('add:'+_0x32e851['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x32e851['id']&&this['_bindTextu'+'reAsset'](_0x32e851);}['_bindTextu'+'reAsset'](_0x14ba2b){this['_entity']['enabled']&&(_0x14ba2b['on']('load',this['_onTexture'+'Load'],this),_0x14ba2b['on']('change',this['_onTexture'+'Change'],this),_0x14ba2b['on']('remove',this['_onTexture'+'Remove'],this),_0x14ba2b['resource']?this['_onTexture'+'Load'](_0x14ba2b):this['_system']['app']['assets']['load'](_0x14ba2b));}['_unbindTex'+'tureAsset'](_0x1e308d){_0x1e308d['off']('load',this['_onTexture'+'Load'],this),_0x1e308d['off']('change',this['_onTexture'+'Change'],this),_0x1e308d['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x43d10f){this['texture']=_0x43d10f['resource'];}['_onTexture'+'Change'](_0x42c608){}['_onTexture'+'Remove'](_0x539f27){}['_onSpriteA'+'ssetAdded'](_0x3c33ce){this['_system']['app']['assets']['off']('add:'+_0x3c33ce['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x3c33ce['id']&&this['_bindSprit'+'eAsset'](_0x3c33ce);}['_bindSprit'+'eAsset'](_0x27ef52){this['_entity']['enabled']&&(_0x27ef52['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x27ef52['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x27ef52['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x27ef52['resource']?this['_onSpriteA'+'ssetLoad'](_0x27ef52):this['_system']['app']['assets']['load'](_0x27ef52));}['_unbindSpr'+'iteAsset'](_0x2a0f5e){_0x2a0f5e['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2a0f5e['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x2a0f5e['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2a0f5e['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x2a0f5e['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x18b390){if(!_0x18b390||!_0x18b390['resource'])this['sprite']=null;else{if(_0x18b390['resource']['atlas'])this['sprite']=_0x18b390['resource'];else{const _0x14b5a1=_0x18b390['data']['textureAtl'+'asAsset'];if(_0x14b5a1){const _0xb07bf4=this['_system']['app']['assets'];_0xb07bf4['off']('load:'+_0x14b5a1,this['_onTexture'+'AtlasLoad'],this),_0xb07bf4['once']('load:'+_0x14b5a1,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0xa1fb9){this['_onSpriteA'+'ssetLoad'](_0xa1fb9);}['_onSpriteA'+'ssetRemove'](_0x716c9f){}['_bindSprit'+'e'](_0x5f4fad){this['_evtSetMes'+'hes']=_0x5f4fad['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x5f4fad['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x5f4fad['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x5f4fad['atlas']&&_0x5f4fad['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0xcf0d25){var _0x12c109;(_0x12c109=this['_evtSetMes'+'hes'])==null||_0x12c109['off'](),this['_evtSetMes'+'hes']=null,_0xcf0d25['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0xcf0d25['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0xcf0d25['atlas']&&_0xcf0d25['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x1*0x1b8f+0x2*0x86e+0xab3,this['_sprite']['frameKeys']['length']-(-0x266+-0xb11*-0x1+-0x2*0x455))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x2e2e4b){const _0x1bf234=this['_spriteAss'+'et'];_0x1bf234 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x1bf234):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x1bf234));}['onEnable'](){if(this['_materialA'+'sset']){const _0x1fb83f=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x1fb83f&&_0x1fb83f['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x1fb83f);}if(this['_textureAs'+'set']){const _0x5e0cf7=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x5e0cf7&&_0x5e0cf7['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x5e0cf7);}if(this['_spriteAss'+'et']){const _0x5f8e23=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x5f8e23&&_0x5f8e23['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x5f8e23);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x2472e1){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x2472e1,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x2472e1;let _0x131ef9=0x11b+-0x1bc0+-0x1*-0x1aa5;if(this['_element']['maskedBy']&&(_0x131ef9=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0xc6eb02=new qs({'ref':_0x131ef9+(0x3cf*-0x5+0x2*0x98+-0x9*-0x1fc),'func':Ch,'zpass':$S});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0xc6eb02,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0xc6eb02;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][-0x1109*-0x1+0x263d+0x11b*-0x32]=jl['r'],this['_colorUnif'+'orm'][0x15a*-0x13+-0xc7+0x1a76]=jl['g'],this['_colorUnif'+'orm'][-0x1109+-0x2608+0x3713]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x230343){this['_color']===_0x230343&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x3e3188,g:_0x2cb003,b:_0x5523e4}=_0x230343;(this['_color']['r']!==_0x3e3188||this['_color']['g']!==_0x2cb003||this['_color']['b']!==_0x5523e4)&&(this['_color']['r']=_0x3e3188,this['_color']['g']=_0x2cb003,this['_color']['b']=_0x5523e4,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x228209){_0x228209!==this['_color']['a']&&(this['_color']['a']=_0x228209,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x228209)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x228209);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x30307d){this['_rect']===_0x30307d&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x308909,_0x258966,_0x30484e,_0x594f57;_0x30307d instanceof Q?(_0x308909=_0x30307d['x'],_0x258966=_0x30307d['y'],_0x30484e=_0x30307d['z'],_0x594f57=_0x30307d['w']):(_0x308909=_0x30307d[0x7*-0x342+0x5a7*-0x6+-0xa*-0x5ac],_0x258966=_0x30307d[-0x101c+-0xb17+0x1b34],_0x30484e=_0x30307d[0x26ef*0x1+-0x1597+-0x1156],_0x594f57=_0x30307d[0x9ed+-0x5a*0x43+0xda4]),!(_0x308909===this['_rect']['x']&&_0x258966===this['_rect']['y']&&_0x30484e===this['_rect']['z']&&_0x594f57===this['_rect']['w'])&&(this['_rect']['set'](_0x308909,_0x258966,_0x30484e,_0x594f57),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x83f+-0x1c1*0x7+0x408):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x186c73=this['_system']['app']['assets'];_0x186c73['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x9b7376=_0x186c73['get'](this['_materialA'+'sset']);_0x9b7376&&(_0x9b7376['off']('load',this['_onMateria'+'lLoad'],this),_0x9b7376['off']('change',this['_onMateria'+'lChange'],this),_0x9b7376['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x4ec7c0){if(this['_material']!==_0x4ec7c0){if(!_0x4ec7c0){const _0xdde0fa=this['_element']['_isScreenS'+'pace']();this['mask']?_0x4ec7c0=_0xdde0fa?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x4ec7c0=_0xdde0fa?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x4ec7c0,this['_materialA'+'sset']){const _0x263238=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x263238||_0x263238['resource']!==_0x4ec7c0)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x4ec7c0&&(this['_renderabl'+'e']['setMateria'+'l'](_0x4ec7c0),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x12edb9){const _0x1feb1c=this['_system']['app']['assets'];let _0x8fdd85=_0x12edb9;if(_0x12edb9 instanceof le&&(_0x8fdd85=_0x12edb9['id']),this['_materialA'+'sset']!==_0x8fdd85){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x8fdd85,this['_materialA'+'sset']){const _0x49cd17=_0x1feb1c['get'](this['_materialA'+'sset']);_0x49cd17?this['_bindMater'+'ialAsset'](_0x49cd17):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x8fdd85,_0x1feb1c['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x8fdd85;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0xa83f00){if(this['_texture']!==_0xa83f00){if(this['_textureAs'+'set']){const _0x4e3728=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x4e3728&&_0x4e3728['resource']!==_0xa83f00&&(this['textureAss'+'et']=null);}if(this['_texture']=_0xa83f00,_0xa83f00){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x5d0c33=this['_texture']['width']/this['_texture']['height'];_0x5d0c33!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x5d0c33,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x1*0x4c7+0x21a7+0x9*-0x445),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x43ded6){const _0x5f4b92=this['_system']['app']['assets'];let _0x3223a2=_0x43ded6;if(_0x43ded6 instanceof le&&(_0x3223a2=_0x43ded6['id']),this['_textureAs'+'set']!==_0x3223a2){if(this['_textureAs'+'set']){_0x5f4b92['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x143be0=_0x5f4b92['get'](this['_textureAs'+'set']);_0x143be0&&(_0x143be0['off']('load',this['_onTexture'+'Load'],this),_0x143be0['off']('change',this['_onTexture'+'Change'],this),_0x143be0['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x3223a2,this['_textureAs'+'set']){const _0x344ec2=_0x5f4b92['get'](this['_textureAs'+'set']);_0x344ec2?this['_bindTextu'+'reAsset'](_0x344ec2):(this['texture']=null,_0x5f4b92['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x64a60e){const _0x35dba2=this['_system']['app']['assets'];let _0x486e91=_0x64a60e;if(_0x64a60e instanceof le&&(_0x486e91=_0x64a60e['id']),this['_spriteAss'+'et']!==_0x486e91){if(this['_spriteAss'+'et']){_0x35dba2['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0xc2b501=_0x35dba2['get'](this['_spriteAss'+'et']);_0xc2b501&&this['_unbindSpr'+'iteAsset'](_0xc2b501);}if(this['_spriteAss'+'et']=_0x486e91,this['_spriteAss'+'et']){const _0x1e61bd=_0x35dba2['get'](this['_spriteAss'+'et']);_0x1e61bd?this['_bindSprit'+'eAsset'](_0x1e61bd):(this['sprite']=null,_0x35dba2['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x486e91);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x46209b){if(this['_sprite']!==_0x46209b){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x4c3980=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x4c3980&&_0x4c3980['resource']!==_0x46209b&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x46209b,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x79f+-0xdc7+0x1566,this['_sprite']['frameKeys']['length']-(0xbb4+0x7*-0x3da+-0x1*-0xf43))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x5236b2){const _0x52901f=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x5236b2,-0x4ee*0x5+0x88d+0x1019,this['_sprite']['frameKeys']['length']-(-0x2352+0x11a1+0x11b2)):this['_spriteFra'+'me']=_0x5236b2,this['_spriteFra'+'me']!==_0x52901f&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x5236b2);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0xe29340){this['_renderabl'+'e']['setMesh'](_0xe29340),this['_defaultMe'+'sh']===_0xe29340?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x3e65e0){this['_mask']!==_0x3e65e0&&(this['_mask']=_0x3e65e0,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0xe80225){this['_pixelsPer'+'Unit']!==_0xe80225&&(this['_pixelsPer'+'Unit']=_0xe80225,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x213590){super(),this['_app']=_0x213590,_0x213590['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x102*0x6+0x72+0x59b),this['_disableLo'+'calization']=!(-0x24a1*-0x1+-0x167e*-0x1+0x2e*-0x149),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x112560){const _0x4f0631=_0x112560 instanceof le?_0x112560['id']:_0x112560;this['_defaultAs'+'set']!==_0x4f0631&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x4f0631,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x2826ab){const _0x2235ba=_0x2826ab instanceof le?_0x2826ab['id']:_0x2826ab;this['_localized'+'Asset']!==_0x2235ba&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x2235ba,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x1ee658){this['_autoLoad']!==_0x1ee658&&(this['_autoLoad']=_0x1ee658,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x43113e){this['_disableLo'+'calization']!==_0x43113e&&(this['_disableLo'+'calization']=_0x43113e,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x55b6d5=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x55b6d5?this['_onDefault'+'AssetAdd'](_0x55b6d5):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x4ae855=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x4ae855&&(_0x4ae855['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x4ae855['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x4ae855['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x10da0b){this['_defaultAs'+'set']===_0x10da0b['id']&&(_0x10da0b['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x10da0b['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x10da0b['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x1b942a){this['_defaultAs'+'set']===_0x1b942a['id']&&(_0x1b942a['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x1b942a['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x2f2c21=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x2f2c21&&(_0x2f2c21['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x2f2c21['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x2f2c21['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x2f2c21['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x2f2c21):this['_app']['assets']['load'](_0x2f2c21));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x123e80=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x123e80&&(_0x123e80['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x123e80['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x123e80['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x5e37d2){this['_localized'+'Asset']===_0x5e37d2['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x155705){this['fire']('load',_0x155705);}['_onLocaliz'+'edAssetCha'+'nge'](_0x295769,_0x190a1f,_0x3ed374,_0x2ead98){this['fire']('change',_0x295769,_0x190a1f,_0x3ed374,_0x2ead98);}['_onLocaliz'+'edAssetRem'+'ove'](_0x17f7bc){this['_localized'+'Asset']===_0x17f7bc['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x17f7bc);}['_onLocaleA'+'dd'](_0x170beb,_0x7db486){this['_app']['i18n']['locale']===_0x170beb&&this['_onSetLoca'+'le'](_0x170beb);}['_onLocaleR'+'emove'](_0x57b1c0,_0x5c00cf){this['_app']['i18n']['locale']===_0x57b1c0&&this['_onSetLoca'+'le'](_0x57b1c0);}['_onSetLoca'+'le'](_0x40eb4d){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x1dc198=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x1dc198||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0xb6c5a2=_0x1dc198['getLocaliz'+'edAssetId'](_0x40eb4d);if(!_0xb6c5a2){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0xb6c5a2;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=-0x1*0x210d+0x37b+0x1d92,Kn=-0x22f7*0x1+0x1955*0x1+0x1*0x9a3,of=0x25cd+0x2*0xdde+-0x4187,ix=0x60c*0x2+-0xeac*-0x1+-0x1ac1,lf=-0x9b4+0x19*-0xea+-0x2*-0x1049,hf=0xc09*-0x2+-0x23b8+0x3bcf,cf=-0x4a*-0x74+0x47d+-0x25ff,df=-0xa+-0x1*0x1633+0x4*0x591,dg=0x31*0x5b+-0x11fb*0x1+0x98,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x1c8e0b){this['_symbols']=_0x1c8e0b,this['_index']=0x239*0xb+0x1*-0x907+-0xf6c,this['_last']=-0x16e8+0x1f9b+0x1*-0x8b3,this['_cur']=this['_symbols']['length']>0x1543*-0x1+0x1*0x15b9+0x3b*-0x2?this['_symbols'][0x1*-0xf93+-0x4b*-0x79+-0x4*0x4f8]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x3ef38e=this['_read']();for(;_0x3ef38e===dg;)_0x3ef38e=this['_read']();return _0x3ef38e!==ho&&_0x3ef38e!==Kn&&(this['_last']=this['_index']),_0x3ef38e;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x9b7a1c=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x4a30c0=this['read'](),_0x200a04='';for(;_0x200a04+=(_0x200a04['length']>0x217a+0x2236+-0x43b0?'\x0a':'')+_0x9b7a1c[_0x4a30c0]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x4a30c0===ho||_0x4a30c0===Kn);)_0x4a30c0=this['read']();return _0x200a04;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x10f*0x6+-0x1e46+0x17ec?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>-0x1fff*-0x1+0x14f4+-0x1*0x34f3?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(-0x1d35*-0x1+-0x2154+0x420);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x5d0c6a){return _0x5d0c6a['length']===-0x2*-0xe61+-0x191a+-0x3a7&&_0x5d0c6a['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x902e64){this['_buf']['push'](_0x902e64);}}class bR{constructor(_0x3d1362){this['_scanner']=new vR(_0x3d1362),this['_error']=null;}['parse'](_0x5387dc,_0x4625f2){for(;;)switch(this['_scanner']['read']()){case ho:return!(-0xe2d+0x1586+-0x759);case Kn:return!(0xa9a*-0x2+0x2251+-0xd1c*0x1);case of:Array['prototype']['push']['apply'](_0x5387dc,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x5387dc,_0x4625f2))return!(-0x1ce6+-0x1*-0x9c2+0x1325);break;default:return!(-0x10*0x8e+0xa6*-0x1f+-0x9a9*-0x3);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x33aa64,_0x5e43d2){let _0x2f830d=this['_scanner']['read']();if(_0x2f830d!==df)return this['_error']='expected\x20i'+'dentifier',!(-0x193e+-0x1b64+-0x7*-0x785);const _0x9e1c1e=this['_scanner']['buf']()['join']('');if(_0x9e1c1e[-0xd28+0xb*0x2f6+-0x136a]==='/'){for(let _0x4fe39f=_0x5e43d2['length']-(0x9c2*0x2+0x2*0x6a+-0x1457);_0x4fe39f>=-0x26ea+0x3*-0x334+0x3086;--_0x4fe39f)if(_0x9e1c1e==='/'+_0x5e43d2[_0x4fe39f]['name']&&_0x5e43d2[_0x4fe39f]['end']===null)return _0x5e43d2[_0x4fe39f]['end']=_0x33aa64['length'],_0x2f830d=this['_scanner']['read'](),_0x2f830d!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(0x7b*-0x36+0x10f5*-0x2+-0xbf9*-0x5)):!(-0x2*0x14b+0x1c04+-0x196e);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0x1b26+0x257*-0x1+-0x18ce);}const _0x3d293c={'name':_0x9e1c1e,'value':null,'attributes':{},'start':_0x33aa64['length'],'end':null};if(_0x2f830d=this['_scanner']['read'](),_0x2f830d===hf){if(_0x2f830d=this['_scanner']['read'](),_0x2f830d!==cf)return this['_error']='expected\x20s'+'tring',!(0x2493+-0x9*0x361+-0x629);_0x3d293c['value']=this['_scanner']['buf']()['join'](''),_0x2f830d=this['_scanner']['read']();}for(;;){switch(_0x2f830d){case lf:return _0x5e43d2['push'](_0x3d293c),!(-0x14a9+0xbb*-0x5+0x1850);case df:{const _0x470ae8=this['_scanner']['buf']()['join']('');if(_0x2f830d=this['_scanner']['read'](),_0x2f830d!==hf)return this['_error']='expected\x20e'+'quals',!(-0x5e2+0x7b*-0x6+0x8c5);if(_0x2f830d=this['_scanner']['read'](),_0x2f830d!==cf)return this['_error']='expected\x20s'+'tring',!(-0x1*0x1246+-0x779*-0x5+-0x1316);const _0x48cd4f=this['_scanner']['buf']()['join']('');_0x3d293c['attributes'][_0x470ae8]=_0x48cd4f;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x4*-0x7a2+-0x920+0x27a9);}_0x2f830d=this['_scanner']['read']();}}}function rx(_0x513f39,_0x333035){for(const _0x5c595d in _0x333035){if(!_0x333035['hasOwnProp'+'erty'](_0x5c595d))continue;const _0x208b6b=_0x333035[_0x5c595d];_0x208b6b instanceof Object?(_0x513f39['hasOwnProp'+'erty'](_0x5c595d)||(_0x513f39[_0x5c595d]={}),rx(_0x513f39[_0x5c595d],_0x333035[_0x5c595d])):_0x513f39[_0x5c595d]=_0x208b6b;}}function wR(_0x4448d9){if(_0x4448d9['length']===-0xb*-0x71+0x942+0x1*-0xe1d)return null;const _0x15ca16={};for(let _0xfda46f=0x190c+-0x2*-0x11db+-0x2*0x1e61;_0xfda46f<_0x4448d9['length'];++_0xfda46f){const _0x5ce93f=_0x4448d9[_0xfda46f],_0x348850={};_0x348850[_0x5ce93f['name']]={'value':_0x5ce93f['value'],'attributes':_0x5ce93f['attributes']},rx(_0x15ca16,_0x348850);}return _0x15ca16;}function TR(_0x10fdc7,_0x2bf258){if(_0x10fdc7['length']===0x1a46+-0x1*-0x218d+-0x3bd3)return null;const _0x17ec16={};for(let _0x257257=0x1*0xe09+-0x5*-0x3ab+-0x2060;_0x257257<_0x10fdc7['length'];++_0x257257){const _0x41066c=_0x10fdc7[_0x257257];_0x17ec16['hasOwnProp'+'erty'](_0x41066c['start'])?_0x17ec16[_0x41066c['start']]['open']===null?_0x17ec16[_0x41066c['start']]['open']=[_0x41066c]:_0x17ec16[_0x41066c['start']]['open']['push'](_0x41066c):_0x17ec16[_0x41066c['start']]={'open':[_0x41066c],'close':null},_0x17ec16['hasOwnProp'+'erty'](_0x41066c['end'])?_0x17ec16[_0x41066c['end']]['close']===null?_0x17ec16[_0x41066c['end']]['close']=[_0x41066c]:_0x17ec16[_0x41066c['end']]['close']['push'](_0x41066c):_0x17ec16[_0x41066c['end']]={'open':null,'close':[_0x41066c]};}let _0x2cc5ef=[];function _0x130d25(_0x57061f){_0x2cc5ef=_0x2cc5ef['filter'](_0x33fbdf=>_0x57061f['find'](_0x2a5889=>_0x2a5889===_0x33fbdf)===void(-0x8*0x10c+0x229f+-0x1a3f));}function _0x4a6485(_0x2e87c3){for(let _0x2b3945=0x1555+-0x26b*0x8+-0x1fd*0x1;_0x2b3945<_0x2e87c3['length'];++_0x2b3945)_0x2cc5ef['push'](_0x2e87c3[_0x2b3945]);}const _0x357239=Object['keys'](_0x17ec16)['sort']((_0x2d1cb6,_0x16c064)=>_0x2d1cb6-_0x16c064),_0x304c24=[];for(let _0x3d9e21=-0x269*-0xb+0x84+-0x275*0xb;_0x3d9e21<_0x357239['length'];++_0x3d9e21){const _0x227d2f=_0x17ec16[_0x357239[_0x3d9e21]];_0x227d2f['close']!==null&&_0x130d25(_0x227d2f['close']),_0x227d2f['open']!==null&&_0x4a6485(_0x227d2f['open']),_0x304c24['push']({'start':_0x357239[_0x3d9e21],'tags':wR(_0x2cc5ef)});}const _0x203ab9=[];let _0x5b9d69=null;for(let _0x305a6d=-0x179d+0x88d*-0x3+0x3144;_0x305a6d<_0x304c24['length'];++_0x305a6d){const _0x5a9f8b=_0x304c24[_0x305a6d];for(;_0x203ab9['length']<_0x5a9f8b['start'];)_0x203ab9['push'](_0x5b9d69?_0x5b9d69['tags']:null);_0x5b9d69=_0x5a9f8b;}for(;_0x203ab9['length']<_0x2bf258;)_0x203ab9['push'](null);return _0x203ab9;}function AR(_0x2521d1){const _0x5b38a4=new bR(_0x2521d1),_0x2a1fb7=[],_0x4a4d4b=[];if(!_0x5b38a4['parse'](_0x2a1fb7,_0x4a4d4b))return console['warn'](_0x5b38a4['error']()),{'symbols':_0x2521d1,'tags':null};const _0x2f384d=_0x4a4d4b['find'](_0x2da745=>_0x2da745['end']===null);if(_0x2f384d)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x2f384d['name']+'\x27'),{'symbols':_0x2521d1,'tags':null};const _0x3a6eac=TR(_0x4a4d4b,_0x2a1fb7['length']);return{'symbols':_0x2a1fb7,'tags':_0x3a6eac};}class ER{static['evaluate'](_0x3f7f1e){return AR(_0x3f7f1e);}}class CR{constructor(){this['count']=0x9*-0x1ab+0x1e8*0x14+-0x171d,this['quad']=-0xfe*0x26+-0x1*-0x1c09+0x9ab,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x3f55a9,_0xb94aba){const _0x55f205=new Ie(_0x3f55a9);return _0x55f205['setPositio'+'ns'](_0xb94aba['positions']),_0x55f205['setNormals'](_0xb94aba['normals']),_0x55f205['setColors3'+'2'](_0xb94aba['colors']),_0x55f205['setUvs'](0x2571+-0x1*0x1052+-0x151f,_0xb94aba['uvs']),_0x55f205['setIndices'](_0xb94aba['indices']),_0x55f205['setVertexS'+'tream'](Po,_0xb94aba['outlines'],0x1*-0x21c2+0x1f52+0x273,void(0x93*0xe+-0x18aa+0x10a0),Ee,!(0x79*-0x3+-0x1*-0xe95+-0xd29)),_0x55f205['setVertexS'+'tream'](Ro,_0xb94aba['shadows'],-0x1016+-0xb9f+0x1bb8,void(-0x2132+0x17a3+0x1*0x98f),Ee,!(0x6ea+-0x1a6*-0xa+-0x1765)),_0x55f205['update'](),_0x55f205;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[]$/,DR=['','','','','','','','','','','','',''],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new $(),Me=new Y();class OR{constructor(_0x5a053e){this['_element']=_0x5a053e,this['_system']=_0x5a053e['system'],this['_entity']=_0x5a053e['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x79*0x4+-0x1888+0x16a4),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(-0x479+0x2239*0x1+-0x1dbf,-0x876+-0x1495+0x1d0c,0x9*-0x16b+-0x3d*-0x29+0x2ff,0xdcd*0x2+-0x1de+-0x19bb),this['_colorUnif'+'orm']=new Float32Array(-0x2053+-0x1c73+0x3cc9),this['_spacing']=-0xbdb+-0xb44+0x1720,this['_fontSize']=0x26e3+-0x335*-0x3+-0x3062,this['_fontMinY']=-0x2101+-0x1e3b+0x3f3c,this['_fontMaxY']=-0x1d00+-0x1*0x192a+0x362a,this['_originalF'+'ontSize']=-0x7df+0x565*0x7+-0x1e*0xfe,this['_maxFontSi'+'ze']=-0x1e0a+0x1f5f+-0x135,this['_minFontSi'+'ze']=0x2*0xd0f+-0x24cb*-0x1+-0x3ee1*0x1,this['_autoFitWi'+'dth']=!(-0x5*-0x2a9+-0x1019+0x2cd),this['_autoFitHe'+'ight']=!(0x2454+0x12c8+-0x371b*0x1),this['_maxLines']=-(-0x1d65+-0xb6f*0x1+0x1*0x28d5),this['_lineHeigh'+'t']=-0x2222+0x1d02+0x4*0x150,this['_scaledLin'+'eHeight']=0x27d+-0xd82+0xb25,this['_wrapLines']=!(-0x1*-0xb01+-0x94c*-0x4+-0x3030),this['_drawOrder']=0x1*-0x9a3+-0x1ee5+0x2888,this['_alignment']=new $(-0x194+0x90e*0x3+-0x1996+0.5,-0xa72+0x30b*0x1+-0x1*-0x767+0.5),this['_autoWidth']=!(0xa8b*-0x1+0xd4*-0x26+0x3*0xe01),this['_autoHeigh'+'t']=!(-0x2349+0x459*0x8+0x81),this['width']=-0xa6*-0x15+-0xe0a+-0x1*-0x6c,this['height']=-0x1*0x1f8d+0x115f*-0x1+0x30ec,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x12eb+0x1a5f+0x16*-0x20f),this['_aabb']=new _e(),this['_noResize']=!(0xca3+0x1e*0xce+-0x24c6),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x1*-0x63+-0x1*0xdc9+0xe2d),this['_unicodeCo'+'nverter']=!(0x25bc+0x1056+-0x3611),this['_rtl']=!(-0x17c0+0x1811*-0x1+0x2fd2),this['_outlineCo'+'lor']=new Y(0x1f40+0x1*0x1f6b+0x3eab*-0x1,0xb81+-0xd80+0x1ff,-0x7c7+-0x355*0x7+0x1f1a,-0x1a37+0x131*-0x1e+0x3df6),this['_outlineCo'+'lorUniform']=new Float32Array(-0xd85*-0x1+-0x122f+-0x1*-0x4ae),this['_outlineTh'+'icknessSca'+'le']=0x1b76+0x131a+-0xa*0x4a8+0.2,this['_outlineTh'+'ickness']=0xac1*-0x1+0x2136*0x1+0x1675*-0x1,this['_shadowCol'+'or']=new Y(0x1359*-0x2+0xa7d+0x1c35,0x1351+-0xa*-0x3e5+-0xba7*0x5,-0xa*-0xe0+0x170e+-0x1fce,-0x1830+0x1027+-0x2a*-0x31),this['_shadowCol'+'orUniform']=new Float32Array(-0x524+0x2169+-0x1c41),this['_shadowOff'+'setScale']=-0x153d+0xd*0xd+0x1494+0.005,this['_shadowOff'+'set']=new $(0x1*-0x5f2+-0x1520+-0x3de*-0x7,-0x1c53+-0x3*0x33+0xe76*0x2),this['_shadowOff'+'setUniform']=new Float32Array(0x1a05*0x1+0x1b7f+0x3*-0x11d6),this['_enableMar'+'kup']=!(0x1*0x242b+0xb0c+-0x2f36),this['_onScreenC'+'hange'](this['_element']['screen']),_0x5a053e['on']('resize',this['_onParentR'+'esize'],this),_0x5a053e['on']('set:screen',this['_onScreenC'+'hange'],this),_0x5a053e['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x5a053e['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x5a053e['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x2078+-0xb6c+0xaf9*0x4,this['_rangeEnd']=-0x141c+0x4*0x803+0x2fc*-0x4;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x50c56f,_0x4e2aee){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x10b446){_0x10b446?this['_updateMat'+'erial'](_0x10b446['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x2284+-0x2*-0x9ba+-0x35f7));}['_onScreenS'+'paceChange'](_0x9dc4f7){this['_updateMat'+'erial'](_0x9dc4f7);}['_onDrawOrd'+'erChange'](_0x8e6788){if(this['_drawOrder']=_0x8e6788,this['_model']){for(let _0x5b1d0a=-0xfd1*0x2+0x111*0x6+-0x26*-0xaa,_0x101ccf=this['_model']['meshInstan'+'ces']['length'];_0x5b1d0a<_0x101ccf;_0x5b1d0a++)this['_model']['meshInstan'+'ces'][_0x5b1d0a]['drawOrder']=_0x8e6788;}}['_onPivotCh'+'ange'](_0x4c74ad){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x5af610){if(this['_i18nKey']){if(this['fontAsset']){const _0x6d7e4d=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x6d7e4d||!_0x6d7e4d['resource']||_0x6d7e4d['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x25b8a6,_0x23b024){this['_i18nKey']&&_0x23b024[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0xd640f6){if(this['unicodeCon'+'verter']){const _0x107f97=this['_system']['getUnicode'+'Converter']();_0x107f97?_0xd640f6=_0x107f97(_0xd640f6):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0xd640f6&&(this['_font']&&this['_updateTex'+'t'](_0xd640f6),this['_text']=_0xd640f6);}['_updateTex'+'t'](_0x3882bb){let _0x36c88c;if(_0x3882bb===void(0x24bd+0x1*0x58a+0x2a47*-0x1)&&(_0x3882bb=this['_text']),this['_symbols']=ah['getSymbols'](_0x3882bb['normalize']?_0x3882bb['normalize']('NFC'):_0x3882bb),this['_symbols']['length']===-0x101*0x19+0xbf9*-0x1+-0x2*-0x1289&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x80b04a=ER['evaluate'](this['_symbols']);this['_symbols']=_0x80b04a['symbols'],_0x36c88c=_0x80b04a['tags']||[];}if(this['_rtlReorde'+'r']){const _0x9774a0=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x9774a0){const _0x2d5be7=_0x9774a0(this['_symbols']);this['_rtl']=_0x2d5be7['rtl'],this['_symbols']=_0x2d5be7['mapping']['map'](function(_0x39299b){return this['_symbols'][_0x39299b];},this),_0x36c88c&&(_0x36c88c=_0x2d5be7['mapping']['map'](_0x4a9fac=>_0x36c88c[_0x4a9fac]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x1cf*-0xb+0x690*0x1+-0x472*-0x3);const _0x55e332=(_0x15d1a6,_0x382eaf)=>_0x15d1a6['toString'](!(0x17f5+0xaf7+-0x95*0x3c))['toLowerCas'+'e']()+':'+_0x382eaf['toFixed'](-0x1c5a+0x69*-0x21+0x29e5),_0xe8681d=(_0x305ea6,_0x2aa517)=>_0x305ea6['toString'](!(-0x9b9*-0x3+-0x1cd*-0x5+-0x98b*0x4))['toLowerCas'+'e']()+':'+_0x2aa517['x']['toFixed'](-0x3fb*-0x6+-0x21*-0x2d+0x1*-0x1dad)+':'+_0x2aa517['y']['toFixed'](-0x6*0x3e0+-0xc07*-0x1+0x19*0x73);if(_0x36c88c){const _0x5e44ff={},_0x353686={},_0x3ab02e={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x26b*0x8+0x2a3+-0x19c*-0xb)),Math['round'](this['_color']['g']*(0x20a3+0x1f4e+-0x3ef2)),Math['round'](this['_color']['b']*(-0x183+-0x251*-0x4+0x361*-0x2))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0xd28*0x1+-0x1ee9*0x1+-0x5a2*-0x8)),Math['round'](this['_outlineCo'+'lor']['g']*(0x52c+-0x19c2+-0x19*-0xdd)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x1*-0x21dd+0x8db*-0x1+-0x1*0x1803)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x1*-0xc52+0x11d*0x5+-0x4*0x439)),Math['round'](this['_outlineTh'+'ickness']*(-0x240c+-0x2*-0xfde+0x97*0x9))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x1*0x1816+0x1*0xdde+0x1*-0x24f5)),Math['round'](this['_shadowCol'+'or']['g']*(-0x1*0x1862+0x1d42+-0x3e1)),Math['round'](this['_shadowCol'+'or']['b']*(0x1e26+-0x1837+-0x13c*0x4)),Math['round'](this['_shadowCol'+'or']['a']*(0x11f+0xb7*-0x14+-0x38b*-0x4)),Math['round'](this['_shadowOff'+'set']['x']*(-0x1*0x4d6+-0x33*0x6a+0x25*0xb7)),Math['round'](this['_shadowOff'+'set']['y']*(-0xd72+0x1*-0xec3+0x1cb4))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x5e44ff[this['_color']['toString'](!(-0xdb2+0xf*0x14d+-0x5d0))['toLowerCas'+'e']()]=0x6*0x8b+-0xa07+0x6c5*0x1,_0x353686[_0x55e332(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0xc88*0x1+0x2568+-0x31f0,_0x3ab02e[_0xe8681d(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x14*0x173+0xe1a+0xee2;for(let _0x418239=0x2*0x382+-0x43*-0x51+-0x1c37,_0x202ab9=this['_symbols']['length'];_0x418239<_0x202ab9;++_0x418239){const _0x195861=_0x36c88c[_0x418239];let _0x473cf6=0x3dd*0x5+0x8f*-0x22+0x53*-0x1;if(_0x195861&&_0x195861['color']&&_0x195861['color']['value']){const _0x456959=_0x195861['color']['value'];if(_0x456959['length']===-0x3b8*0x8+-0xa*-0x16f+0xf71&&_0x456959[-0x18ba+-0x1ed7+-0x19*-0x239]==='#'){const _0x1f0789=_0x456959['substring'](0x75a*-0x5+-0x3*0xaed+0x81*0x8a)['toLowerCas'+'e']();_0x5e44ff['hasOwnProp'+'erty'](_0x1f0789)?_0x473cf6=_0x5e44ff[_0x1f0789]:/^[0-9a-f]{6}$/['test'](_0x1f0789)&&(_0x473cf6=this['_colorPale'+'tte']['length']/(0x1*0xb47+0x1*-0x1b41+0xffd),_0x5e44ff[_0x1f0789]=_0x473cf6,this['_colorPale'+'tte']['push'](parseInt(_0x1f0789['substring'](-0x29*0xf1+0x9a7+0x1cf2,0x13*0x149+0xe57*0x1+0x2*-0x1360),-0x13d0+-0x23e7+-0x1*-0x37c7)),this['_colorPale'+'tte']['push'](parseInt(_0x1f0789['substring'](-0xc33*-0x1+0x512*0x4+-0x1e9*0x11,-0x5*0x774+0x43+-0x1*-0x2505),0x12*0x1c+-0x4*-0x25b+-0x2d5*0x4)),this['_colorPale'+'tte']['push'](parseInt(_0x1f0789['substring'](-0x1c96+-0xd3*-0xa+0x145c,0x1409+0x9c7+-0x1dca),-0x19f2+-0x15aa+0x2fac)));}}this['_symbolCol'+'ors']['push'](_0x473cf6);let _0x2770f0=-0x25*-0xb+0xc*0x1+-0x1a3;if(_0x195861&&_0x195861['outline']&&(_0x195861['outline']['attributes']['color']||_0x195861['outline']['attributes']['thickness'])){let _0x503d65=_0x195861['outline']['attributes']['color']?mg['fromString'](_0x195861['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x564db1=Number(_0x195861['outline']['attributes']['thickness']);(Number['isNaN'](_0x503d65['r'])||Number['isNaN'](_0x503d65['g'])||Number['isNaN'](_0x503d65['b'])||Number['isNaN'](_0x503d65['a']))&&(_0x503d65=this['_outlineCo'+'lor']),Number['isNaN'](_0x564db1)&&(_0x564db1=this['_outlineTh'+'ickness']);const _0x58f321=_0x55e332(_0x503d65,_0x564db1);_0x353686['hasOwnProp'+'erty'](_0x58f321)?_0x2770f0=_0x353686[_0x58f321]:(_0x2770f0=this['_outlinePa'+'lette']['length']/(-0x34*0x1e+0x1*-0x1df7+0x2414),_0x353686[_0x58f321]=_0x2770f0,this['_outlinePa'+'lette']['push'](Math['round'](_0x503d65['r']*(0x149*0x6+-0xa36*-0x2+-0x1b23)),Math['round'](_0x503d65['g']*(0x1*-0x20ef+-0x1*-0x21ec+0x2)),Math['round'](_0x503d65['b']*(0x11a9+-0x7d8+-0x8d2)),Math['round'](_0x503d65['a']*(-0x152a+-0x3bd+0x1*0x19e6)),Math['round'](_0x564db1*(-0x59*-0x14+0x2*0x6d+-0x6cf))));}this['_symbolOut'+'lineParams']['push'](_0x2770f0);let _0x23c8ab=-0x478+-0xa16+0xe8e;if(_0x195861&&_0x195861['shadow']&&(_0x195861['shadow']['attributes']['color']||_0x195861['shadow']['attributes']['offset']||_0x195861['shadow']['attributes']['offsetX']||_0x195861['shadow']['attributes']['offsetY'])){let _0x326f49=_0x195861['shadow']['attributes']['color']?mg['fromString'](_0x195861['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x4c09b5=Number(_0x195861['shadow']['attributes']['offset']),_0x108927=Number(_0x195861['shadow']['attributes']['offsetX']),_0x39e34e=Number(_0x195861['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x326f49['r'])||Number['isNaN'](_0x326f49['g'])||Number['isNaN'](_0x326f49['b'])||Number['isNaN'](_0x326f49['a']))&&(_0x326f49=this['_shadowCol'+'or']);const _0x594a24=FR['set'](Number['isNaN'](_0x108927)?Number['isNaN'](_0x4c09b5)?this['_shadowOff'+'set']['x']:_0x4c09b5:_0x108927,Number['isNaN'](_0x39e34e)?Number['isNaN'](_0x4c09b5)?this['_shadowOff'+'set']['y']:_0x4c09b5:_0x39e34e),_0x492823=_0xe8681d(_0x326f49,_0x594a24);_0x3ab02e['hasOwnProp'+'erty'](_0x492823)?_0x23c8ab=_0x3ab02e[_0x492823]:(_0x23c8ab=this['_shadowPal'+'ette']['length']/(0x1*-0x1c57+-0x6b1+0x1187*0x2),_0x3ab02e[_0x492823]=_0x23c8ab,this['_shadowPal'+'ette']['push'](Math['round'](_0x326f49['r']*(0xdf*-0x11+0x16d0+-0x702)),Math['round'](_0x326f49['g']*(-0x2484+0x1*-0x101c+0x103*0x35)),Math['round'](_0x326f49['b']*(0x1d08+0x36*0x6c+0x32d1*-0x1)),Math['round'](_0x326f49['a']*(0x1db7*0x1+-0x5eb+-0x16cd)),Math['round'](_0x594a24['x']*(0x92a*0x2+0x732*-0x1+-0x1*0xaa3)),Math['round'](_0x594a24['y']*(0x91*-0x29+0xb70+0xc48))));}this['_symbolSha'+'dowParams']['push'](_0x23c8ab);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x7a67f1=this['_calculate'+'CharsPerTe'+'xture']();let _0x3f9b12=!(-0x3*0xa93+0x91d+0x169d);const _0x1b4d48=this['_element'],_0x1aed0c=_0x1b4d48['_isScreenS'+'pace'](),_0x3c599c=_0x1b4d48['_isScreenC'+'ulled'](),_0xdb015a=function(_0xbcc095){return _0x1b4d48['isVisibleF'+'orCamera'](_0xbcc095);};for(let _0x4ed6a8=0x1eb2+-0x2c1*-0x3+-0x26f5,_0x413d1c=this['_meshInfo']['length'];_0x4ed6a8<_0x413d1c;_0x4ed6a8++){const _0x54e912=_0x7a67f1[_0x4ed6a8]||-0xaf8+0x1*0x2642+0xe*-0x1f3,_0x5ef686=this['_meshInfo'][_0x4ed6a8];if(_0x5ef686['count']!==_0x54e912){if(_0x3f9b12||(_0x1b4d48['removeMode'+'lFromLayer'+'s'](this['_model']),_0x3f9b12=!(-0x240f*-0x1+-0x28*-0x2f+0x29*-0x10f)),_0x5ef686['count']=_0x54e912,_0x5ef686['positions']['length']=_0x5ef686['normals']['length']=_0x54e912*(0x2*0x387+0xd*0x85+-0xdcc)*(0x16eb*-0x1+0x1*-0x204f+0x373e),_0x5ef686['indices']['length']=_0x54e912*(0x1*-0x2574+0x168+0x240f)*(0x2384+0xcd3+-0x3055),_0x5ef686['uvs']['length']=_0x54e912*(0xc53+-0x23e6+0x1795)*(0x43*-0x4c+-0x32*0xa6+-0x22*-0x18a),_0x5ef686['colors']['length']=_0x54e912*(-0x23e2+-0x24*-0x96+0x2*0x767)*(0x1985+-0x59d*-0x1+-0x1f1e),_0x5ef686['outlines']['length']=_0x54e912*(0xc7*0xd+0xdd6+-0x17ed)*(-0x1ca9+0x331*-0x7+0x5ab*0x9),_0x5ef686['shadows']['length']=_0x54e912*(-0x2477+0x1e85*-0x1+0x4300)*(0x1a5a+0x282*-0x2+-0x1553),_0x5ef686['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x5ef686['meshInstan'+'ce']),_0x54e912===-0x18*-0x175+-0x697*0x1+-0x1c61*0x1){_0x5ef686['meshInstan'+'ce']=null;continue;}for(let _0x6877b0=-0x7cd*0x1+0x1ebb+0xb77*-0x2;_0x6877b0<_0x54e912;_0x6877b0++)_0x5ef686['indices'][_0x6877b0*(0x265*0x4+0x112f+-0x1ac0*0x1)*(0x114a*0x1+-0x1*0x1537+-0x35*-0x13)+(-0x486*-0x1+-0x23dd+0x1f57)]=_0x6877b0*(-0x1ab7+-0x221b+0x3cd6),_0x5ef686['indices'][_0x6877b0*(0xfad+0xba8+-0x1b52)*(0x1de0*-0x1+-0xebd+0x2c9f)+(-0x1694+-0x2a5+0x193a)]=_0x6877b0*(-0x1*-0x351+-0xa99*-0x2+-0x187f)+(-0x1d7a+-0x264b*-0x1+0x468*-0x2),_0x5ef686['indices'][_0x6877b0*(0x9b*0x23+-0x2413+0x3*0x4f7)*(0x884+0x2*-0x133+0x22*-0x2e)+(0x1a6a+0xefc+-0x2964)]=_0x6877b0*(-0x1fba+0x10dd*0x1+0xee1)+(0x207*0x1+0x1752+-0x1956),_0x5ef686['indices'][_0x6877b0*(0x1114+0x134d+-0x245e)*(-0x10bf+-0x1716+0x2f*0xd9)+(-0x6*-0x478+-0x1ef*-0x14+-0x4179)]=_0x6877b0*(0x644+0x1952+-0xfc9*0x2)+(-0x8ae+0x2*0x410+-0x18*-0x6),_0x5ef686['indices'][_0x6877b0*(-0x24b9+0x77b+0x1d41)*(-0x3*-0x37+0xc12+-0xcb5)+(0x251*0x5+-0xe5*-0x2+-0xd5b)]=_0x6877b0*(0x1fa5+0x1f83*-0x1+-0x1e)+(0xca9+0x1ffb*0x1+0x1c9*-0x19),_0x5ef686['indices'][_0x6877b0*(-0x1741+-0x4*0x368+-0x626*-0x6)*(0xb3*0x2e+-0x7db+-0x184d)+(-0xd*0xbe+-0xf35+-0x1*-0x18e0)]=_0x6877b0*(-0xf94+-0x70*0x21+-0x1e08*-0x1)+(-0x8f6+-0x1a99+-0x11c8*-0x2),_0x5ef686['normals'][_0x6877b0*(0x24a1+-0x1*0x181d+0x10*-0xc8)*(-0xf69*-0x2+-0x16b8+-0x817)+(-0x575*0x7+-0x1bd*0xd+0x3ccc*0x1)]=-0x11*-0x25+-0xed*-0x3+-0x4*0x14f,_0x5ef686['normals'][_0x6877b0*(-0xf25+-0x154b+0x2474)*(-0x2fb*0x2+-0x2*-0x13d+0xb3*0x5)+(-0x46*0x59+-0x1a8d+0x32e4)]=-0x8e0+0x1*-0x188e+0x216e,_0x5ef686['normals'][_0x6877b0*(-0x1079+0x5d+0x3*0x560)*(-0x25fa+-0x19ef+0x3fec)+(-0x255a+0x1e8d+0x6cf)]=-(-0xce5*0x1+-0x1384+0x206a),_0x5ef686['normals'][_0x6877b0*(0x80d+0x2*-0x41b+0x2d)*(0x576*-0x1+-0x11*-0x19f+-0x1*0x1616)+(0x22b3+-0x5*0x73b+0x177*0x1)]=0x1*-0x17f3+-0x2449*0x1+0xa*0x606,_0x5ef686['normals'][_0x6877b0*(-0x25*-0xf8+-0x167f*0x1+-0xd55)*(0x2411+-0x19a2+-0x74*0x17)+(0x1a*-0x83+-0x2*0x2b+0xda8)]=-0x8d9+0x1*-0x1d3b+-0x985*-0x4,_0x5ef686['normals'][_0x6877b0*(0x7cf*0x1+0x5*0x2ed+-0x166c)*(-0x1e2+-0x2635*-0x1+-0x914*0x4)+(-0xf13*-0x1+-0x204c+0x113e)]=-(0x151d+-0x1ed7*-0x1+-0x33f3),_0x5ef686['normals'][_0x6877b0*(-0xde6+-0x18f5+0x26df)*(0xc97*0x1+0xf4f*0x1+0x289*-0xb)+(0x441*-0x3+0xaa9+-0x11*-0x20)]=0x4*-0x771+-0x265*-0x10+-0x1*0x88c,_0x5ef686['normals'][_0x6877b0*(0x902+-0x2105+0x1807*0x1)*(0x1b2f+-0x14f5+0x25*-0x2b)+(-0xc13*0x1+0x1*0x1d62+0x4*-0x452)]=-0x16*0xb9+0x276*0x7+-0x154,_0x5ef686['normals'][_0x6877b0*(-0x245b+-0x3*-0x301+0x1b5c)*(0x1a74+-0xb1c+0x9d*-0x19)+(-0x224d+0xa66+0x17ef)]=-(-0x5*0xfa+-0x1c2d+-0x10*-0x211),_0x5ef686['normals'][_0x6877b0*(-0xbf+-0x13f9*-0x1+-0x2*0x99b)*(-0x973*0x2+0x1385+-0x9c)+(0x2*0x821+0x167f*0x1+0x38*-0xb1)]=0xa55*-0x2+-0x1d*-0x107+0x921*-0x1,_0x5ef686['normals'][_0x6877b0*(-0x450+0x1*-0x247+0x69b)*(-0x44*-0x5d+0x279*0xd+-0x38d6)+(-0x1*-0xe27+0x16f6+-0x2513*0x1)]=-0x5da+-0x6be+-0x3e*-0x34,_0x5ef686['normals'][_0x6877b0*(0x281+0x3*0x19b+-0x74e)*(0x954*-0x4+0x1c27+0x92c)+(-0x9d4*0x3+-0xcc2*0x3+0x43cd)]=-(0x40c*-0x7+-0x234f+0x1*0x3fa4);const _0x1434dc=MR(this['_system']['app']['graphicsDe'+'vice'],_0x5ef686),_0x55b4c6=new Le(_0x1434dc,this['_material'],this['_node']);if(_0x55b4c6['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x55b4c6['castShadow']=!(-0x24ad+-0x1d81+-0x422f*-0x1),_0x55b4c6['receiveSha'+'dow']=!(0xb2*-0x22+-0x3d*-0x16+0x1267*0x1),_0x55b4c6['cull']=!_0x1aed0c,_0x55b4c6['screenSpac'+'e']=_0x1aed0c,_0x55b4c6['drawOrder']=this['_drawOrder'],_0x3c599c&&(_0x55b4c6['cull']=!(0x17a3*-0x1+-0x11db+0x71*0x5e),_0x55b4c6['isVisibleF'+'unc']=_0xdb015a),this['_setTextur'+'eParams'](_0x55b4c6,this['_font']['textures'][_0x4ed6a8]),_0x55b4c6['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x55b4c6['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x55b4c6['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x55b4c6['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x55b4c6['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x4ed6a8]['width']),_0x55b4c6['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x55b4c6['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x55b4c6['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x35*0x6d+-0x2d7*-0x8+-0x27]=0x1d28+-0x30c+-0xd0e*0x2,this['_shadowOff'+'setUniform'][0x125f*-0x2+0xb*-0x171+-0x1a4d*-0x2]=0x3b0*-0x8+-0x4*-0x92f+-0x73c;else{const _0x392265=-this['_font']['data']['info']['maps'][_0x4ed6a8]['width']/this['_font']['data']['info']['maps'][_0x4ed6a8]['height'];this['_shadowOff'+'setUniform'][0x156c+-0x32*-0x77+-0x2caa]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x3b0+-0x262b*0x1+0x37d*0xc]=_0x392265*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x55b4c6['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x5ef686['meshInstan'+'ce']=_0x55b4c6,this['_model']['meshInstan'+'ces']['push'](_0x55b4c6);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x3f9b12&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x816+-0x4*-0x91a+-0x86*0x55,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x12da62){_0x12da62['destroy']();const _0x23cd9f=this['_model']['meshInstan'+'ces']['indexOf'](_0x12da62);_0x23cd9f!==-(0x126d+0x1*0x7e1+-0x1a4d)&&this['_model']['meshInstan'+'ces']['splice'](_0x23cd9f,-0x19cf+0x2*0x1265+-0xafa);}['_setMateri'+'al'](_0x3eef39){if(this['_material']=_0x3eef39,this['_model'])for(let _0x267b1c=0x1f07+0x3b5*0x7+-0x38fa,_0x46aa3a=this['_model']['meshInstan'+'ces']['length'];_0x267b1c<_0x46aa3a;_0x267b1c++){const _0x47cd9c=this['_model']['meshInstan'+'ces'][_0x267b1c];_0x47cd9c['material']=_0x3eef39;}}['_updateMat'+'erial'](_0x3b1dde){const _0x5a8cce=this['_element'],_0xdc2152=_0x5a8cce['_isScreenC'+'ulled'](),_0x99845c=function(_0x38be26){return _0x5a8cce['isVisibleF'+'orCamera'](_0x38be26);},_0xc77ce6=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x3b1dde,_0xc77ce6,this['_enableMar'+'kup']),this['_model'])for(let _0x51f8cd=0x18f+0x1*0x23ad+-0x253c,_0x369b40=this['_model']['meshInstan'+'ces']['length'];_0x51f8cd<_0x369b40;_0x51f8cd++){const _0x32bd6a=this['_model']['meshInstan'+'ces'][_0x51f8cd];_0x32bd6a['cull']=!_0x3b1dde,_0x32bd6a['material']=this['_material'],_0x32bd6a['screenSpac'+'e']=_0x3b1dde,_0xdc2152?(_0x32bd6a['cull']=!(0x3be*0x2+0x3*-0x2ed+-0x14b*-0x1),_0x32bd6a['isVisibleF'+'unc']=_0x99845c):_0x32bd6a['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x2369+0x1*0x16e8+-0x3a51]=-0x7*0x11+-0x12*0x13a+-0x1e1*-0xc,this['_colorUnif'+'orm'][-0x15dc+-0x5b3+0x498*0x6]=-0xb*0xd9+-0x9*0x289+0x2025,this['_colorUnif'+'orm'][-0x80*-0x36+0x72b+0x6d5*-0x5]=-0x2e*0x2a+0x2274+-0x1ae7):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x1a66+-0x1b+-0x1a4b]=Me['r'],this['_colorUnif'+'orm'][-0xe77*0x1+-0x1d*0xd5+0x2699]=Me['g'],this['_colorUnif'+'orm'][0x297+0x24b0+-0x45d*0x9]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0x1a3*-0x6+-0x16ac+0x207e]=0x3cc*0x6+-0x4*-0x2a2+-0x34*0xa4,this['_outlineCo'+'lorUniform'][-0x1*0xa6d+-0xd8b+-0x169*-0x11]=-0x7f*0x13+-0x1*0x22df+0x2c4c,this['_outlineCo'+'lorUniform'][-0x265a*0x1+-0xd0+0x17*0x1b4]=-0xc1a*-0x1+0x1f70+0x2b8a*-0x1,this['_outlineCo'+'lorUniform'][0x16*0x1+-0xcbe+0xcab]=0x166*0x3+0xa18*0x1+-0xe49):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x157f*0x1+-0x5*0x6df+0x37da]=Me['r'],this['_outlineCo'+'lorUniform'][0x1eee+0x2013+-0x3f00]=Me['g'],this['_outlineCo'+'lorUniform'][-0x1bb0*-0x1+-0x631*0x5+0x1*0x347]=Me['b'],this['_outlineCo'+'lorUniform'][-0x224b*0x1+-0x1d7c+0x3fca]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0xa73+0x66b*-0x2+0x263]=0xc0b+-0x13*0x125+0x9b4,this['_shadowCol'+'orUniform'][-0x21e0+-0xed*-0x9+0x198c]=-0x11a8+-0x4*-0x803+0x4cc*-0x3,this['_shadowCol'+'orUniform'][-0x57*0x2f+0x1a1*0x2+0xcb9]=-0xf76+-0x2d7+0x124d,this['_shadowCol'+'orUniform'][-0x14b8+0x17b5+-0x7f*0x6]=0x1cf4+0x1*-0x24e3+0x7ef):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x115*-0xe+0x226c+0x1346*-0x1]=Me['r'],this['_shadowCol'+'orUniform'][0x1731+-0x1ed9+0x7a9]=Me['g'],this['_shadowCol'+'orUniform'][0x1d*-0xef+-0x4*-0x11e+-0x33b*-0x7]=Me['b'],this['_shadowCol'+'orUniform'][-0x25e1*-0x1+0x1edc+-0x44ba]=Me['a']);}['_isWordBou'+'ndary'](_0x38fae1){return fg['test'](_0x38fae1);}['_isValidNe'+'xtChar'](_0xd8aa6c){return _0xd8aa6c!==null&&!IR['test'](_0xd8aa6c);}['_isNextCJK'+'Boundary'](_0x327ab3,_0x327eaf){return pg['test'](_0x327ab3)&&(fg['test'](_0x327eaf)||RR['test'](_0x327eaf));}['_isNextCJK'+'WholeWord'](_0x126650){return pg['test'](_0x126650);}['_updateMes'+'hes'](){const _0x34e6d0=this['_font']['data'],_0x52dbbb=this,_0x1c99f6=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x15d597=this['_maxFontSi'+'ze'],_0x487595=this['_shouldAut'+'oFit']();_0x487595&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x197a66=-0x143d+0x1*0x50c+0x3*0x51b,_0x4edbd5=this['_symbols']['length'];let _0x3cd390=0xea*0x26+0x6e8+-0x29a4,_0x554ff1=-0x2b*0x46+0xbe1*0x1+-0x1f*0x1,_0x4c3c93=0x264b+-0xe2*0x13+-0x1585*0x1,_0xf68d44=0x1*0x941+-0xab*-0x2c+0x26a5*-0x1,_0x1f01e0=-0x1b7f*0x1+0x10a6+0x3*0x39e,_0x48e7cf=-0x1c5a*0x1+0x17f1+0x1*0x469,_0x4e3001=-0x1d9c+0x472+0x192a*0x1,_0xf9aa98=0xb07+-0xe5a+0x1*0x353,_0x2b960b=-0x17*0x131+0x435+0x2*0xb99,_0x106ebe=0x72f+0x1a1e+-0x113*0x1f,_0x19a9d9=-0x16fb*0x1+0x1133+-0x25*-0x28;const _0x58abd3=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x51f+-0x2511+-0x1b*-0x190+0.0001;let _0x149813=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x58abd3||!this['_wrapLines'])&&(_0x149813=Number['POSITIVE_I'+'NFINITY']);let _0x3c99b6=-0x22*0x121+0x328+0x233a,_0x20f166=-0x2216+-0xb6+0x22cc,_0x5e4e97,_0x2a9c6d,_0x1b89e5,_0x52a7ad;function _0x2752a9(_0x5d4d71,_0x5803a0,_0x1b4e3d){_0x52dbbb['_lineWidth'+'s']['push'](Math['abs'](_0x1b4e3d));const _0x24598d=_0xf9aa98>_0x5803a0?_0x5803a0+(0x2*0x105a+0x1307+-0x113e*0x3):_0xf9aa98,_0x4b4cd5=_0xf9aa98>_0x5803a0?_0xf9aa98+(0x4a*0x47+0x92*-0x3d+0xe45):_0x5803a0,_0xcca9fe=_0x5d4d71['slice'](_0x24598d,_0x4b4cd5);if(_0x19a9d9){let _0x4adb91=_0xcca9fe['length'];for(;_0x4adb91--&&_0x19a9d9>-0x25d6+-0x560*0x7+0x4b76;)ug['test'](_0xcca9fe[_0x4adb91])&&(_0xcca9fe['splice'](_0x4adb91,0x2c*-0xc5+0x5*-0xca+-0x1*-0x25cf),_0x19a9d9--);}_0x52dbbb['_lineConte'+'nts']['push'](_0xcca9fe['join']('')),_0x3cd390=0x16f*0x7+0x2361*0x1+-0x16b5*0x2,_0x554ff1-=_0x52dbbb['_scaledLin'+'eHeight'],_0x1f01e0++,_0x2b960b=0x1eba+0x237e+-0x4238,_0x106ebe=0x5*0x5f8+0x1628+0x10*-0x340,_0x19a9d9=-0x1da4*-0x1+0x23b2+-0x4156,_0x48e7cf=-0x1*0x1f7f+-0x13ac+0x332b,_0xf9aa98=_0x5803a0;}let _0x354129=!(0x16e0+0x1*-0x857+-0xe89);for(;_0x354129;){_0x354129=!(0x3*0x7d3+-0x25c3+0xe4b),_0x487595?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x25b3+0x10d*-0x6+0x5*0x8cd+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=-0xf0d+-0x24f*-0x2+-0xa6f*-0x1,this['height']=-0x9*0x346+-0x81a*-0x2+0xd42,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x3cd390=0x154+0xd43+0x19f*-0x9,_0x554ff1=-0x3b7*0x8+0xe01*0x1+0xfb7,_0x4c3c93=-0x16c1+0xe9*0xb+0xcbe,_0xf68d44=-0x35*0x9b+-0xba1+0x2bb8,_0x1f01e0=-0x707+-0xeb+0x7f3,_0x48e7cf=-0x22ce+-0x7*0x211+0x3145,_0x4e3001=0x58c+0x2b3*0xb+-0x233d,_0xf9aa98=0x419*0x8+-0x1f33+-0x195,_0x2b960b=-0x21e3+0xbe*0x9+-0x7*-0x3e3,_0x106ebe=-0x258f+-0x5*-0x37a+-0x409*-0x5,_0x19a9d9=0x15cc+0x17*-0x12d+0x4f*0x11;const _0x14f8f9=this['_fontSize']/_0x197a66;_0x3c99b6=this['_fontMinY']*_0x14f8f9,_0x20f166=this['_fontMaxY']*_0x14f8f9;for(let _0x11f71b=-0xa*-0x33c+-0x56a*-0x7+0xf3*-0x4a;_0x11f71b<this['_meshInfo']['length'];_0x11f71b++)this['_meshInfo'][_0x11f71b]['quad']=-0x104a+-0x13f7+0x2441,this['_meshInfo'][_0x11f71b]['lines']={};let _0x1cead4=-0x1613+-0x419+0x41*0x6b,_0x1fd94f=0x1*-0x73+0x1827+-0x16b5*0x1,_0x8050be=-0x721+-0x1c2+-0x2*-0x4f1,_0x465bdc=-0x202+-0x4*0x28e+0xd39+(0x4d*0x79+-0x1*-0x23de+0x1*-0x4744)*(-0x13dc+-0x9f6+-0x20e*-0xf),_0x477277=0x1210+-0x23ad*0x1+-0x634*-0x3+(0x730+-0x1*0x407+-0x22a)*(0xb11*0x1+0x1597*-0x1+0x1*0xb86),_0x4868c2=-0x61d+0x17c8+0x1*-0x11ab,_0x2888a3=-0x6eb+-0x85d+0x1047+(0x6*0x2df+0xa7*-0x7+-0xbaa)*(-0x2cf*-0x8+-0x1*0x2147+0xbcf),_0x498025=0xafa+0x2259+-0x2*0x162a+(-0x12a*-0x8+-0x323*0x2+-0x20b)*(0x3*0xceb+-0x9b*-0x27+0x3d5e*-0x1),_0xcc0e3b=0x1c65+0x748*-0x4+0x13a+(0x9ec+0x1*-0x1fbe+0x1651)*(-0x3*-0x30d+-0x9b5+0x18e);for(let _0x20ff5e=0x1c41+0x1eae+-0x6b*0x8d;_0x20ff5e<_0x4edbd5;_0x20ff5e++){if(_0x5e4e97=this['_symbols'][_0x20ff5e],_0x52a7ad=_0x20ff5e+(0x25a*0xa+0x1dc1+-0x1*0x3544)>=_0x4edbd5?null:this['_symbols'][_0x20ff5e+(0x152c+0x784+-0x1caf)],ug['test'](_0x5e4e97)){_0x19a9d9++,(!this['_wrapLines']||this['_maxLines']<0xd5*-0xd+-0x1efd*-0x1+-0x1*0x142c||_0x1f01e0<this['_maxLines'])&&(_0x2752a9(this['_symbols'],_0x20ff5e,_0xf68d44),_0x4e3001=_0x20ff5e+(0x2428+-0x21*-0x109+-0x6*0xbb8),_0xf9aa98=_0x20ff5e+(-0x12cd*-0x1+-0x2425+0x1*0x1159));continue;}let _0x393dc1=0xbb2*0x2+0xc7b+-0x23df,_0x266577=0x2*0xb0e+0x2569*-0x1+0x1*0xf4d,_0x43e9f8=0xc8f*-0x2+0x15ed*-0x1+-0x2f0b*-0x1,_0x471e94=0x1d*0xe3+0x1*0x2459+-0x3e0f,_0x309ff2,_0x48536e;if(_0x2a9c6d=_0x34e6d0['chars'][_0x5e4e97],!_0x2a9c6d){if(DR['indexOf'](_0x5e4e97)!==-(0xb*0x263+-0x3a*-0x5+-0x1b62))_0x2a9c6d=LR;else{if(_0x34e6d0['chars']['\x20'])_0x2a9c6d=_0x34e6d0['chars']['\x20'];else for(const _0x149149 in _0x34e6d0['chars']){_0x2a9c6d=_0x34e6d0['chars'][_0x149149];break;}_0x34e6d0['missingCha'+'rs']||(_0x34e6d0['missingCha'+'rs']=new Set()),_0x34e6d0['missingCha'+'rs']['has'](_0x5e4e97)||(console['warn']('Character\x20'+'\x27'+_0x5e4e97+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x34e6d0['info']['face']),_0x34e6d0['missingCha'+'rs']['add'](_0x5e4e97));}}if(_0x2a9c6d){let _0x34c6df=-0xa04+-0x1119*0x1+0x1b1d;if(_0x106ebe>0x5a0+-0x58c+-0x14){const _0x3df93b=this['_font']['data']['kerning'];if(_0x3df93b){const _0x1778ff=_0x3df93b[ah['getCodePoi'+'nt'](this['_symbols'][_0x20ff5e-(0x1*0xdb5+-0x8*-0x53+-0x104c)])||-0x94c+0xcd*0x1f+-0x9f*0x19];_0x1778ff&&(_0x34c6df=_0x1778ff[ah['getCodePoi'+'nt'](this['_symbols'][_0x20ff5e])||-0xce5+-0xe32+0x1*0x1b17]||0x12*-0x32+-0xbb5*-0x2+0x3*-0x6a2);}}_0x309ff2=_0x2a9c6d['scale']||0xc21+-0x2ef*-0x4+-0x5f7*0x4,_0x48536e=(_0x2a9c6d['width']+_0x2a9c6d['height'])/(-0x1c6*-0x8+-0x1b*-0xb+0x231*-0x7),_0x471e94=_0x14f8f9*_0x48536e/_0x309ff2,_0x43e9f8=(_0x2a9c6d['xadvance']+_0x34c6df)*_0x14f8f9,_0x393dc1=(_0x2a9c6d['xoffset']-_0x34c6df)*_0x14f8f9,_0x266577=_0x2a9c6d['yoffset']*_0x14f8f9;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x5e4e97+'\x27');const _0x3ca27d=PR['test'](_0x5e4e97),_0x10589f=_0x2a9c6d&&_0x2a9c6d['map']||0x17ef*0x1+0x172b+0x1*-0x2f1a,_0x3944da=-this['_font']['data']['info']['maps'][_0x10589f]['width']/this['_font']['data']['info']['maps'][_0x10589f]['height'],_0x48cb0d=this['_meshInfo'][_0x10589f],_0x226099=_0x3cd390+this['_spacing']*_0x43e9f8;if(_0x226099>_0x149813&&_0x106ebe>0x4b9+-0x1091+0xbd8&&!_0x3ca27d&&(this['_maxLines']<0x15d0+0x9f+0x1*-0x166f||_0x1f01e0<this['_maxLines'])){if(_0x2b960b===0xc5c+0x6af*-0x3+0x7b1)_0x4e3001=_0x20ff5e,_0x2752a9(this['_symbols'],_0x20ff5e,_0xf68d44);else{const _0x477497=Math['max'](_0x20ff5e-_0x4e3001,0x268a*-0x1+0x22be+0x3cc);if(this['_meshInfo']['length']<=0x9fd+0x1589+-0x1f85)_0x48cb0d['lines'][_0x1f01e0-(-0x1235*-0x1+-0xc*-0x256+-0x2e3c)]-=_0x477497,_0x48cb0d['quad']-=_0x477497;else{const _0x1b7196=_0x4e3001,_0xe50a6e=_0x20ff5e;for(let _0x1e5033=_0x1b7196;_0x1e5033<_0xe50a6e;_0x1e5033++){const _0x41c1c2=this['_symbols'][_0x1e5033],_0xe805c0=_0x34e6d0['chars'][_0x41c1c2],_0x2fc21f=this['_meshInfo'][_0xe805c0&&_0xe805c0['map']||-0x1*-0x1bd1+-0x1*0x1cc7+0x52*0x3];_0x2fc21f['lines'][_0x1f01e0-(0x8f+-0xa*0x2d7+0x1bd8)]-=0xa*-0x373+-0x973+0x19*0x1c2,_0x2fc21f['quad']-=-0x1*0x1097+-0x1*0xf67+-0x1*-0x1fff;}}_0x20ff5e-=_0x477497+(-0xa03*0x1+0x1f5e+0x1*-0x155a),_0x2752a9(this['_symbols'],_0x4e3001,_0x48e7cf);continue;}}_0x1b89e5=_0x48cb0d['quad'],_0x48cb0d['lines'][_0x1f01e0-(-0x1d22+-0x580+-0x1*-0x22a3)]=_0x1b89e5;let _0x1185e9=_0x3cd390-_0x393dc1,_0x5a864c=_0x1185e9+_0x471e94;const _0xc4ad9a=_0x554ff1-_0x266577,_0x4806b0=_0xc4ad9a+_0x471e94;if(this['_rtl']){const _0x36e46f=_0x471e94-_0x393dc1-this['_spacing']*_0x43e9f8-_0x393dc1;_0x1185e9-=_0x36e46f,_0x5a864c-=_0x36e46f;}_0x48cb0d['positions'][_0x1b89e5*(0x1216+0x1953+-0x2b65)*(-0x1963+0x1cf*-0x5+0x2271)+(-0x2*0x9de+0xcf6+0x6c6)]=_0x1185e9,_0x48cb0d['positions'][_0x1b89e5*(-0xc5*0x2f+0x1e62+0x5cd)*(0x9a*-0x1+-0x14de+0x157b)+(0x2508+-0x132b+0x9*-0x1fc)]=_0xc4ad9a,_0x48cb0d['positions'][_0x1b89e5*(0x122+-0x24a3+0x2385)*(0x2d*0x2+-0x27c*-0x8+-0x1437)+(0xfee*-0x2+0x1*-0x45d+0x19*0x173)]=_0x4c3c93,_0x48cb0d['positions'][_0x1b89e5*(0x76a+0x741+-0xea7)*(-0x1*0xa8b+-0x17de+0x226c)+(0x1d84+0x2237+-0x3fb8)]=_0x5a864c,_0x48cb0d['positions'][_0x1b89e5*(-0x5*0x727+0x1ea1+0x526)*(-0x977+0x6*0x3d7+-0xd90)+(0x4e1*-0x8+-0x3aa+0x2ab6)]=_0xc4ad9a,_0x48cb0d['positions'][_0x1b89e5*(-0x977+-0x1f9c+0x2917)*(0xfd0+-0x1a66+-0x1*-0xa99)+(0x2453+0x2150+0x22cf*-0x2)]=_0x4c3c93,_0x48cb0d['positions'][_0x1b89e5*(0x1032+-0xd20+-0x2*0x187)*(0x1ddb*-0x1+-0x25d7+0x43b5)+(-0x21fc+0x26e*-0xc+-0x906*-0x7)]=_0x5a864c,_0x48cb0d['positions'][_0x1b89e5*(-0xd5a*0x2+0x5*-0x24d+0x2639)*(-0x1605+0x698+0xf70)+(-0x1855*-0x1+-0x930+-0x1e*0x81)]=_0x4806b0,_0x48cb0d['positions'][_0x1b89e5*(0x92e*-0x2+0x52a*0x5+0x772*-0x1)*(0x2292+-0x14ae+-0xde1)+(-0x4b*-0x1c+0x150+-0x97c*0x1)]=_0x4c3c93,_0x48cb0d['positions'][_0x1b89e5*(0xfd0+0x2ef+-0x12bb)*(-0x1*0x1183+-0xb*-0x2fe+-0xf64)+(-0x1ff1+0x1*-0xa66+0x2a60)]=_0x1185e9,_0x48cb0d['positions'][_0x1b89e5*(-0x1f6*0x4+-0x4*-0x5c3+-0xf30)*(0x1437+-0x1c00+0x2*0x3e6)+(0x4*-0x7ad+-0x1c33+0x1*0x3af1)]=_0x4806b0,_0x48cb0d['positions'][_0x1b89e5*(-0x17f3*-0x1+-0x1a67+-0x4*-0x9e)*(0xcd3+-0x8e5+0x11*-0x3b)+(-0x116d+-0x157*0x19+0x32f7)]=_0x4c3c93,this['width']=Math['max'](this['width'],_0x226099);let _0x2cb2fc;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x2cb2fc=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x21ff*0x1+-0x2396*0x1+0x4595+0.0001)),_0x2cb2fc=N['clamp'](_0x2cb2fc,_0x1c99f6,_0x15d597),_0x2cb2fc!==this['_element']['fontSize'])){this['_fontSize']=_0x2cb2fc,_0x354129=!(-0x208a+-0x1d07+-0x1*-0x3d91);break;}if(this['height']=Math['max'](this['height'],_0x20f166-(_0x554ff1+_0x3c99b6)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x2cb2fc=N['clamp'](this['_fontSize']-(-0x7aa+-0xd01*-0x3+0x88*-0x3b),_0x1c99f6,_0x15d597),_0x2cb2fc!==this['_element']['fontSize'])){this['_fontSize']=_0x2cb2fc,_0x354129=!(0x376*0xa+0x1*0x1193+-0x342f);break;}_0x3cd390+=this['_spacing']*_0x43e9f8,_0x3ca27d||(_0xf68d44=_0x3cd390),(this['_isWordBou'+'ndary'](_0x5e4e97)||this['_isValidNe'+'xtChar'](_0x52a7ad)&&(this['_isNextCJK'+'Boundary'](_0x5e4e97,_0x52a7ad)||this['_isNextCJK'+'WholeWord'](_0x52a7ad)))&&(_0x2b960b++,_0x48e7cf=_0xf68d44,_0x4e3001=_0x20ff5e+(-0x3*0x5b1+-0x1*-0x2cd+0xe47)),_0x106ebe++;const _0x4fd6a2=this['_getUv'](_0x5e4e97);if(_0x48cb0d['uvs'][_0x1b89e5*(-0x13b*-0x1a+0x1667+-0x1*0x3661)*(0x1c8e+0x1163+-0x2def)+(-0x171b+0x1*-0x1655+0x2d70)]=_0x4fd6a2[-0xa82+-0xa*-0x20e+-0xa0a],_0x48cb0d['uvs'][_0x1b89e5*(0x10f2+0x1*0x533+-0x1621)*(0x26c9+-0x1d57+-0x970)+(0xc1b+-0x4c9+-0x751)]=0x1*0x3c5+0xcec+-0x10b0-_0x4fd6a2[0x6*-0x137+-0x1fbb*0x1+0x2706],_0x48cb0d['uvs'][_0x1b89e5*(-0x494+0x13*-0x1f3+0x29a1)*(0xc28+-0x49*-0x73+-0x2cf1)+(-0xbb6+0x2*0x1152+-0x16ec)]=_0x4fd6a2[-0x42*-0x4f+-0x97d+0xb*-0xfd],_0x48cb0d['uvs'][_0x1b89e5*(0x1*0x1ce1+0x1299+0x9*-0x546)*(0x14cd+0xaea+-0x1fb5*0x1)+(0x493*0x1+0x1*0x18e6+-0x4e9*0x6)]=-0x43*-0x39+0x2361*-0x1+0x1477*0x1-_0x4fd6a2[0x1abd+0x2f*0xa7+-0x1*0x3965],_0x48cb0d['uvs'][_0x1b89e5*(0x51d+-0x83*0x37+0x32*0x76)*(0x1446+0x1*-0x21d9+0xd95)+(0x1*-0x2027+-0x1*-0x2534+-0x509)]=_0x4fd6a2[0x1d1+0xa25+-0x3fc*0x3],_0x48cb0d['uvs'][_0x1b89e5*(-0x1*-0x15ca+0x2c*0x25+-0x1c22)*(0xa8*-0x3b+-0x3b3+0x2a6d)+(0x1c2a+0x26b9+-0x42de)]=-0x1cfa*-0x1+0x794+-0x3*0xc2f-_0x4fd6a2[0x4ca+0xca5+-0x116c],_0x48cb0d['uvs'][_0x1b89e5*(0x13f9*0x1+-0xaf+-0x1346)*(0x1d12+-0x19*-0x84+0xb3*-0x3c)+(-0x1*-0x85+-0x1*0x2122+0x20a3)]=_0x4fd6a2[0x4*0x755+0xcc0+0x2*-0x150a],_0x48cb0d['uvs'][_0x1b89e5*(-0x2552+0x76e*0x5+-0x10*-0x3)*(-0xae6*0x1+0x2*-0x88d+0xef*0x1e)+(-0x5a0+0x20f4+-0x1b4d)]=0x2126+-0x987+0x1*-0x179e-_0x4fd6a2[-0x53e+-0x1fcf+0x1288*0x2],this['_symbolCol'+'ors']){const _0x178c32=this['_symbolCol'+'ors'][_0x20ff5e]*(0x7de+-0x74d*0x3+0xe0c);_0x1cead4=this['_colorPale'+'tte'][_0x178c32],_0x1fd94f=this['_colorPale'+'tte'][_0x178c32+(-0x189f+-0x1*-0x1497+0x409*0x1)],_0x8050be=this['_colorPale'+'tte'][_0x178c32+(0x1484+0x1593+-0x85*0x51)];}if(_0x48cb0d['colors'][_0x1b89e5*(0x1*-0x13aa+-0x1bc5+0x2f73)*(0x74f+0x24ae+-0x2bf9)+(-0x7*-0x1a9+-0x123d+0x69e)]=_0x1cead4,_0x48cb0d['colors'][_0x1b89e5*(-0xb8c+0x869+0x327)*(0x6c*-0x31+0x1fb+0x12b5*0x1)+(0x15*-0x199+-0x9c2+-0x210*-0x15)]=_0x1fd94f,_0x48cb0d['colors'][_0x1b89e5*(0x1929+-0x242f+0xb0a)*(0x106f+-0x609+0x2*-0x531)+(0x1fd9+0x1e9+-0x21c0)]=_0x8050be,_0x48cb0d['colors'][_0x1b89e5*(0x21*0x31+0x480+-0xacd)*(0xf*-0x25+-0x31d*0x1+0x54c)+(0x1*-0x2353+0x1cc4+0x692)]=0x1*-0xfef+0x403+-0x1*-0xceb,_0x48cb0d['colors'][_0x1b89e5*(0x2*-0xbcb+0x12c0+0x4da)*(0xa*0xb+-0x6*0x199+0x92c)+(0x1c*-0x1e+0x6c*-0x17+-0x34*-0x40)]=_0x1cead4,_0x48cb0d['colors'][_0x1b89e5*(0xe9*-0x1d+0x1ea3+0x1*-0x43a)*(-0x5*0x276+-0xcdc+0x16*0x125)+(-0x1*-0xe26+0x2*-0x6a8+-0xd1)]=_0x1fd94f,_0x48cb0d['colors'][_0x1b89e5*(-0x1878+-0x241*0x11+0x3ecd)*(-0x118d*-0x2+0x1ac9+0x2f*-0x151)+(-0x22c7+0x26e8+-0x41b*0x1)]=_0x8050be,_0x48cb0d['colors'][_0x1b89e5*(-0x1cfc+0xb86+0x117a)*(0x1*-0x8d3+0x1*0x2377+-0x1aa0)+(0x1*0x15d6+0x163b+-0x2c0a)]=-0x2*0x593+-0x1cff+0x2924,_0x48cb0d['colors'][_0x1b89e5*(-0x83*-0x48+0x1874+-0x3d48)*(-0x2355+0x24b3*0x1+-0x15a)+(-0x9a3*-0x2+0x1*0xb82+0xc0*-0x29)]=_0x1cead4,_0x48cb0d['colors'][_0x1b89e5*(-0x65c*0x4+0x816+-0x1*-0x115e)*(0x185e+0x1e3*-0xc+-0x1b6)+(0x12*0x12e+-0xdcd+0x766*-0x1)]=_0x1fd94f,_0x48cb0d['colors'][_0x1b89e5*(0x1843+-0x101a+-0x825)*(0xb*-0x236+-0x1544+0x2d9a)+(-0x6bc+-0x2334+0x29fa)]=_0x8050be,_0x48cb0d['colors'][_0x1b89e5*(-0x208b+-0x1*-0xc0b+-0x65*-0x34)*(0x1e1e+0xdb5*-0x2+-0xac*0x4)+(0xd79*-0x1+0x1553*0x1+0x1*-0x7cf)]=0x11*-0x125+0x35*0x1e+0xe3e,_0x48cb0d['colors'][_0x1b89e5*(0x1*0x1d9f+-0x1*-0x703+-0x1*0x249e)*(0x1*0x26ab+-0x71f+-0x1f88)+(-0x2561+0x1*-0x2161+0x1*0x46ce)]=_0x1cead4,_0x48cb0d['colors'][_0x1b89e5*(0x13*-0x49+-0x753+0xcc2)*(-0x1063+-0x68a+0x347*0x7)+(0xd*0x137+0x317+-0x12d5)]=_0x1fd94f,_0x48cb0d['colors'][_0x1b89e5*(0x5*-0x452+0x22d*-0x4+0x1e52)*(0x24db+-0x903*-0x4+-0x48e3)+(0xcc5*-0x1+0x2*0x347+0x645)]=_0x8050be,_0x48cb0d['colors'][_0x1b89e5*(0x527*-0x6+0x1f70+-0x82)*(-0xfb7*0x1+-0x173b+-0x137b*-0x2)+(0x12*0x1cd+-0x1af7+-0x564)]=0x1*-0x206d+0x9d4*-0x1+0xad0*0x4,this['_symbolOut'+'lineParams']){const _0x408432=this['_symbolOut'+'lineParams'][_0x20ff5e]*(-0x17fb*-0x1+0xf06+-0x26fc);_0x465bdc=this['_outlinePa'+'lette'][_0x408432]+this['_outlinePa'+'lette'][_0x408432+(-0x3db+-0xd17*-0x1+0x8b*-0x11)]*(-0x15e2+-0x5*0x114+-0x16*-0x149),_0x477277=this['_outlinePa'+'lette'][_0x408432+(0x1fc7+-0x5*-0x1cf+0x1468*-0x2)]+this['_outlinePa'+'lette'][_0x408432+(-0x1*-0x1d05+0x41b*-0x9+0x7f1)]*(-0x1ee+0x2*-0xb0b+0x1904),_0x4868c2=this['_outlinePa'+'lette'][_0x408432+(0x2fb+-0x10*-0x16+-0x65*0xb)];}if(_0x48cb0d['outlines'][_0x1b89e5*(-0xf3e+-0xd*0xe9+0x1b17)*(0x2b9+-0x1905+0x164f)+(-0x2b2+0x20b9*-0x1+0x236b)]=_0x465bdc,_0x48cb0d['outlines'][_0x1b89e5*(-0x15f4+-0xd*-0xd4+0xb34)*(-0x1926+0x1*0x1c1+0x1768)+(-0xb7e+0x71*-0xe+-0x5*-0x389)]=_0x477277,_0x48cb0d['outlines'][_0x1b89e5*(0x19*0x164+0x10b3+-0x3373*0x1)*(-0x260b+-0x16da+0xf3a*0x4)+(0x560+0x207e+0x4*-0x977)]=_0x4868c2,_0x48cb0d['outlines'][_0x1b89e5*(0x2121+0x2659+-0x4776)*(0x39b+0xc4c+-0xfe4)+(0x1840+-0x95f+-0xede)]=_0x465bdc,_0x48cb0d['outlines'][_0x1b89e5*(0x181+-0xdfa*0x2+0x1a77)*(-0x22e0+-0x1*-0x95b+0x1988)+(-0x18ad*0x1+0x1e56+-0x5a5)]=_0x477277,_0x48cb0d['outlines'][_0x1b89e5*(-0x5*0x79d+-0x1*0x9fb+0x3010*0x1)*(0xe*-0x255+-0x1e38+-0x1*-0x3ee1)+(-0x71c+-0x178c+0x1*0x1ead)]=_0x4868c2,_0x48cb0d['outlines'][_0x1b89e5*(-0x1a07*-0x1+0x2060+0x3a63*-0x1)*(0xbcd+-0x33*0xad+0x16ad)+(0xf7e+0x1d39*-0x1+0xdc1*0x1)]=_0x465bdc,_0x48cb0d['outlines'][_0x1b89e5*(-0x20f0+-0x15eb+-0x36df*-0x1)*(0x3ff+-0x7*0x376+0x1*0x143e)+(0xf*-0x3b+-0x231d+0x2699)]=_0x477277,_0x48cb0d['outlines'][_0x1b89e5*(0x9fd*-0x1+-0xc5a*-0x1+0x1*-0x259)*(0x136f+0x868+0x224*-0xd)+(0x53f+0x1674+0x313*-0x9)]=_0x4868c2,_0x48cb0d['outlines'][_0x1b89e5*(-0x6b5+0x1f56+-0x189d)*(0x344*0x4+0xc38+-0x1945)+(0xe12+0x1*0x109d+-0x1ea6)]=_0x465bdc,_0x48cb0d['outlines'][_0x1b89e5*(0x2f4*-0x1+-0x17a7+0x1a9f)*(-0x123*0xf+-0x25b6*0x1+0xf6*0x39)+(0x21bd*0x1+-0xc8d+-0x1526)]=_0x477277,_0x48cb0d['outlines'][_0x1b89e5*(0x22b7*-0x1+-0xe2f+0x30ea)*(0x6f2+0xd77+0x2*-0xa33)+(0x43f*0x1+-0x1ed0+0x34*0x83)]=_0x4868c2,this['_symbolSha'+'dowParams']){const _0x30cdc9=this['_symbolSha'+'dowParams'][_0x20ff5e]*(-0x1*-0x12a4+0x5*-0x5e6+-0x74*-0x18);_0x2888a3=this['_shadowPal'+'ette'][_0x30cdc9]+this['_shadowPal'+'ette'][_0x30cdc9+(-0xa1*0xf+0x61*0x1d+0x1*-0x18d)]*(0x1193+0x9ab+-0x1*0x1a3e),_0x498025=this['_shadowPal'+'ette'][_0x30cdc9+(0x12b0+-0x1a03*0x1+-0x1*-0x755)]+this['_shadowPal'+'ette'][_0x30cdc9+(-0x1989*0x1+0x1*-0x16f3+0x9b3*0x5)]*(-0x255a+-0x150b*0x1+0x5*0xbe1),_0xcc0e3b=this['_shadowPal'+'ette'][_0x30cdc9+(0x1d8c+-0x2657+0x5*0x1c3)]+(0x420+0x1857+-0x1bf8)+Math['round'](_0x3944da*this['_shadowPal'+'ette'][_0x30cdc9+(0x1cf5+0x107d*0x2+-0x3dea)]+(-0x33*-0xa1+-0xadb+-0x14b9))*(-0x72d+-0x335+0xb62);}_0x48cb0d['shadows'][_0x1b89e5*(-0xe9+-0x2189+-0x113b*-0x2)*(-0x1dd8+0x3e*-0x27+0x1*0x274d)+(-0x19a0+-0x1*-0x5e+0x1942)]=_0x2888a3,_0x48cb0d['shadows'][_0x1b89e5*(0x5*-0x6d9+0x20c1+0xc0*0x2)*(0x1*-0x337+0x717+-0x2b*0x17)+(0x1094+0x12d2+-0x2365)]=_0x498025,_0x48cb0d['shadows'][_0x1b89e5*(0x5*0x4a6+0x8a0+-0x3*0xa9e)*(0x2290+0x13d1+-0x365e*0x1)+(-0xc9b+0x9c6+0x1*0x2d7)]=_0xcc0e3b,_0x48cb0d['shadows'][_0x1b89e5*(0x1f4b+-0x238f+0x448)*(0x4*0x231+0x1da5+-0x2666)+(0x364*0x7+0x14f9+0x773*-0x6)]=_0x2888a3,_0x48cb0d['shadows'][_0x1b89e5*(0x2216*0x1+0x2372+-0x4584)*(-0x1*-0x9a5+-0xd86+-0x3e4*-0x1)+(0x23fc+0x143f+-0x3837)]=_0x498025,_0x48cb0d['shadows'][_0x1b89e5*(-0x62*0x45+-0x1f39+-0x1*-0x39a7)*(-0x1c6b+0x1ea4+-0x11b*0x2)+(0x14cc*0x1+-0x939+0x3a*-0x33)]=_0xcc0e3b,_0x48cb0d['shadows'][_0x1b89e5*(-0x7ed+-0xc37+-0x3c*-0x56)*(0xad2+-0x609*0x3+0x1d3*0x4)+(-0x21bc+0x3*0x603+0xfb9)]=_0x2888a3,_0x48cb0d['shadows'][_0x1b89e5*(-0x2*-0x1b7+0x383*0x6+0x187c*-0x1)*(-0xdc3*0x2+-0xaa9+0x2*0x1319)+(0x2623+-0x265c+0x40*0x1)]=_0x498025,_0x48cb0d['shadows'][_0x1b89e5*(0x49*-0x67+0x1421+0x3*0x316)*(-0xf0d+-0x8ee*0x1+-0x2*-0xbff)+(-0xeb8*0x2+-0x114a+-0x18f*-0x1e)]=_0xcc0e3b,_0x48cb0d['shadows'][_0x1b89e5*(0x1f3+-0x1f40+0x1d51)*(-0x30*0xa3+-0x22*0x4f+0x1*0x2911)+(0x1*0x1886+0x194e+-0x31cb)]=_0x2888a3,_0x48cb0d['shadows'][_0x1b89e5*(-0x1363*0x1+0x585*0x7+0x1*-0x133c)*(-0x1*-0x202a+-0x252a+0x503)+(-0x8c0*0x3+-0x915+0x235f)]=_0x498025,_0x48cb0d['shadows'][_0x1b89e5*(-0x52f*0x5+0x1039*0x2+0x1*-0x683)*(-0x3ba+-0xd24*0x2+0x1e05)+(0x469*0x5+-0x685*0x1+-0xf7d)]=_0xcc0e3b,_0x48cb0d['quad']++;}_0x354129||_0xf9aa98<_0x4edbd5&&_0x2752a9(this['_symbols'],_0x4edbd5,_0x3cd390);}this['_noResize']=!(0x2*0x443+-0x122b+-0x1*-0x9a5),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0xc*0x14+0x154d+-0x163c);const _0x233036=this['_element']['pivot']['x'],_0x235ebb=this['_element']['pivot']['y'],_0x20eaa0=this['_alignment']['x'],_0x28ae8d=this['_alignment']['y'];for(let _0x3c94d5=0x1baf+0x19bd+-0x356c;_0x3c94d5<this['_meshInfo']['length'];_0x3c94d5++){if(this['_meshInfo'][_0x3c94d5]['count']===-0x2527+-0x3d*0xa3+0x4bfe)continue;let _0x195c56=0x358*0x4+0x1f00+-0x1630*0x2;for(const _0x3d5685 in this['_meshInfo'][_0x3c94d5]['lines']){const _0x3e7588=this['_meshInfo'][_0x3c94d5]['lines'][_0x3d5685],_0x39863f=this['_lineWidth'+'s'][parseInt(_0x3d5685,-0xa*0x274+-0x1*-0x67c+-0x1cf*-0xa)],_0x20f016=-_0x233036*this['_element']['calculated'+'Width']+_0x20eaa0*(this['_element']['calculated'+'Width']-_0x39863f)*(this['_rtl']?-(-0x1484+0x2*-0xaa1+0x29c7):-0xb8e+0xefc+0x36d*-0x1),_0x474ea9=(-0x2*-0x5f+0x2064+-0x2121-_0x235ebb)*this['_element']['calculated'+'Height']-_0x20f166-(0x4*-0x37d+0x245a+-0x1665-_0x28ae8d)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x50cc80=_0x195c56;_0x50cc80<=_0x3e7588;_0x50cc80++)this['_meshInfo'][_0x3c94d5]['positions'][_0x50cc80*(-0xb63+-0x2f*-0x37+0x14e)*(0x2c*-0xcf+0xb*0xd5+0x234*0xc)]+=_0x20f016,this['_meshInfo'][_0x3c94d5]['positions'][_0x50cc80*(0x4*-0x581+-0x30a+0x1*0x1912)*(0xd0e*-0x2+-0x37*0x87+0x3720)+(-0x79*0x4a+0x1c3b+0x6c2)]+=_0x20f016,this['_meshInfo'][_0x3c94d5]['positions'][_0x50cc80*(0x1*0x20cc+-0x3a*-0x75+-0x3b4a)*(0x1e82+-0x1f76+-0xd*-0x13)+(0x1*-0x60f+0x14cd+-0x3ae*0x4)]+=_0x20f016,this['_meshInfo'][_0x3c94d5]['positions'][_0x50cc80*(0x5d6+-0xecc+0x3*0x2fe)*(0x158e+0x1e2+-0x176d)+(0x16e+-0x1191+0x102c)]+=_0x20f016,this['_meshInfo'][_0x3c94d5]['positions'][_0x50cc80*(-0x1f77+0xa0*-0x38+0x427b)*(0x1*0x1113+-0x20b6+0xfa6)+(-0x5f3*-0x4+0xa59+-0x2224)]+=_0x474ea9,this['_meshInfo'][_0x3c94d5]['positions'][_0x50cc80*(-0x2c*-0xe2+0x136c*0x1+0x748*-0x8)*(0x262+0x1b94+-0x11*0x1c3)+(0x1e16+-0x1e1e+-0xc*-0x1)]+=_0x474ea9,this['_meshInfo'][_0x3c94d5]['positions'][_0x50cc80*(0x54c*-0x3+-0x4d6+0x1*0x14be)*(-0x1c62+-0x1*-0x20b7+-0x2*0x229)+(-0x21b5+-0x1aeb+0x3ca7)]+=_0x474ea9,this['_meshInfo'][_0x3c94d5]['positions'][_0x50cc80*(0x928+0x531*-0x1+0x3f3*-0x1)*(-0x18c1+0xf80+0x944)+(0x15c6+-0x102d*-0x2+-0x3616)]+=_0x474ea9;if(this['_rtl'])for(let _0x531934=_0x195c56;_0x531934<=_0x3e7588;_0x531934++){const _0x467e27=_0x531934*(0x1a1*-0x14+-0x2187+0x421f)*(-0x1*-0x1dfe+-0x96d+-0x148e);for(let _0x4d55a4=0xbc9+-0x43*-0x3+-0xc92;_0x4d55a4<0x2108+-0x2*-0x8c5+-0x328e;++_0x4d55a4)this['_meshInfo'][_0x3c94d5]['positions'][_0x467e27+_0x4d55a4*(0xc*-0x51+-0x2f*-0xa8+0x1b09*-0x1)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x3c94d5]['positions'][_0x467e27+_0x4d55a4*(-0x1d*0x155+0x28c+0x14*0x1ce)]+_0x20f016*(0x51e+-0x1767+0x124b);const _0x315915=this['_meshInfo'][_0x3c94d5]['positions'][_0x467e27+(0x7d*-0x21+-0x13b*-0x7+0x783)],_0x471ade=this['_meshInfo'][_0x3c94d5]['positions'][_0x467e27+(0x7*-0x592+-0x2b*-0x14+0x23a8)];this['_meshInfo'][_0x3c94d5]['positions'][_0x467e27+(-0x1*0xa7+-0x19d8*0x1+-0x1a*-0x105)]=this['_meshInfo'][_0x3c94d5]['positions'][_0x467e27+(-0x3f2*0x4+-0x19b0+0x4*0xa5e)],this['_meshInfo'][_0x3c94d5]['positions'][_0x467e27+(0x2d3+0x767*0x5+-0x5b*0x70)]=this['_meshInfo'][_0x3c94d5]['positions'][_0x467e27+(-0x44f*-0x1+0x2*-0x989+0x3b3*0x4)],this['_meshInfo'][_0x3c94d5]['positions'][_0x467e27+(-0x22c2+-0x1*-0x1e4f+0x1*0x473)]=_0x315915,this['_meshInfo'][_0x3c94d5]['positions'][_0x467e27+(0x1d3d+0x1f87*-0x1+-0x5*-0x77)]=_0x471ade;}_0x195c56=_0x3e7588+(-0x15e2+-0x1*0x2086+0x3669);}const _0x1c6faf=this['_meshInfo'][_0x3c94d5]['count']*(-0x6af*0x1+0x6b9+0x6*-0x1),_0x2473e3=this['_meshInfo'][_0x3c94d5]['quad']*(0x1*-0xb8d+0x2f*-0x25+0x125c),_0x376007=new go(this['_meshInfo'][_0x3c94d5]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x455cda=0x124*-0xb+0x1ca3+-0x1017;_0x455cda<_0x1c6faf;_0x455cda++)_0x455cda>=_0x2473e3?(_0x376007['element'][He]['set'](-0xe99+-0xaf*-0x2b+-0xecc*0x1,0x139a+0xc*0x66+-0x1862,0x2ce*0x9+-0x1e8c+0x2a7*0x2),_0x376007['element'][ns]['set'](0x533*-0x2+-0x32f+-0x39*-0x3d,-0x6*-0x2cf+-0xa6f*0x1+-0x66b),_0x376007['element'][At]['set'](-0x1ebd+0x23c7+-0x56*0xf,-0x4*0x74c+0x1*0x26f2+0x1*-0x9c2,-0x2202+0xa4f+0x17b3*0x1,0x4ab*-0x6+0x584*-0x1+-0x10c3*-0x2),_0x376007['element'][Po]['set'](-0x116+-0xdc3+0xed9,0xb43+0x1*-0xb7d+-0x3a*-0x1,-0x20eb+0x38*-0x39+0x3*0xf21,0xaa1*-0x1+-0x103b+0x1adc),_0x376007['element'][Ro]['set'](0x1*-0x215f+0x126e+-0xf*-0xff,-0xe4a+0x182f+-0x9e5,0xa4c*-0x2+-0xc1b*0x1+0x20b3,-0x61*-0x67+-0x1541+-0x11c6)):(_0x376007['element'][He]['set'](this['_meshInfo'][_0x3c94d5]['positions'][_0x455cda*(0x1708+0xb4c+-0x2251*0x1)+(-0x1588+-0x738+0x1cc0)],this['_meshInfo'][_0x3c94d5]['positions'][_0x455cda*(0x52*-0x49+-0x1*0xe51+0x25b6)+(-0x1304+-0x1fe6+-0x21*-0x18b)],this['_meshInfo'][_0x3c94d5]['positions'][_0x455cda*(0x209b+-0x1389*-0x1+-0x3421*0x1)+(-0x25c3+0x245d+0x5*0x48)]),_0x376007['element'][ns]['set'](this['_meshInfo'][_0x3c94d5]['uvs'][_0x455cda*(0x24ba+0x1321+-0x11*0x349)+(-0xb*-0x1b2+0xd*-0x24d+0xb43*0x1)],this['_meshInfo'][_0x3c94d5]['uvs'][_0x455cda*(0x24c7+0x1*-0x2070+-0x455)+(0xa7a+0x1355*0x2+-0x3123)]),_0x376007['element'][At]['set'](this['_meshInfo'][_0x3c94d5]['colors'][_0x455cda*(-0x3e*-0x67+-0x2*-0x783+0x1*-0x27f4)+(0x15d7*-0x1+0x2b8+0x1*0x131f)],this['_meshInfo'][_0x3c94d5]['colors'][_0x455cda*(0x1645*0x1+-0x1613+0x2*-0x17)+(0x18f*-0x1+-0x1*0x2511+0x26a1)],this['_meshInfo'][_0x3c94d5]['colors'][_0x455cda*(0xeff+0x98c+-0x1887)+(-0x1*0xce5+-0x8ba+0x15a1)],this['_meshInfo'][_0x3c94d5]['colors'][_0x455cda*(0x1*-0x14b1+-0xba9+0x205e)+(-0x49c*-0x1+0x47*0x67+-0x212a)]),_0x376007['element'][Po]['set'](this['_meshInfo'][_0x3c94d5]['outlines'][_0x455cda*(0x1e62*0x1+0x1d*0xb+-0x1f9e)+(0x17c+-0xda9+0xc2d)],this['_meshInfo'][_0x3c94d5]['outlines'][_0x455cda*(0xc49+0x28*-0xe7+0x17d2)+(-0x1115+-0x10f*0xa+0x6eb*0x4)],this['_meshInfo'][_0x3c94d5]['outlines'][_0x455cda*(-0x1*0x10cd+-0x12cd*0x1+0x1*0x239d)+(0x22ef+0x1f84+0x4271*-0x1)]),_0x376007['element'][Ro]['set'](this['_meshInfo'][_0x3c94d5]['shadows'][_0x455cda*(-0x1*-0x2a1+0x4bb+0x21*-0x39)+(0x5c2+-0x24f8+0x1f36)],this['_meshInfo'][_0x3c94d5]['shadows'][_0x455cda*(-0x8bc+0x59*-0x59+-0x8*-0x4f6)+(-0xbba+-0x2452+0x1*0x300d)],this['_meshInfo'][_0x3c94d5]['shadows'][_0x455cda*(-0x3a4*-0x8+0x4f9+-0x2216)+(-0x1d4c+-0x2018+0x3d66)])),_0x376007['next']();_0x376007['end'](),this['_meshInfo'][_0x3c94d5]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x3c94d5]['positions']),this['_meshInfo'][_0x3c94d5]['meshInstan'+'ce']['_aabbVer']=-(0x19dd+-0xcfb+-0xce1);}this['_aabbDirty']=!(0xb97+-0xcf7+0x16*0x10);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x26e0d5){this['font']!==_0x26e0d5['resource']&&(this['font']=_0x26e0d5['resource']);}['_onFontCha'+'nge'](_0x440e54,_0x558937,_0x156a6a,_0x4a8c71){if(_0x558937==='data'){this['_font']['data']=_0x156a6a;const _0x42e93a=this['_font']['data']['info']['maps']['length'];for(let _0x5313fb=-0xec1*0x1+0x2e7*-0x1+0x11a8;_0x5313fb<_0x42e93a;_0x5313fb++){if(!this['_meshInfo'][_0x5313fb])continue;const _0x34f729=this['_meshInfo'][_0x5313fb]['meshInstan'+'ce'];_0x34f729&&(_0x34f729['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x34f729['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x34f729['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x5313fb]['width']));}}}['_onFontRem'+'ove'](_0xf30b03){}['_setTextur'+'eParams'](_0x489c55,_0xba02f5){this['_font']&&(this['_font']['type']===Kh?(_0x489c55['deletePara'+'meter']('texture_em'+'issiveMap'),_0x489c55['deletePara'+'meter']('texture_op'+'acityMap'),_0x489c55['setParamet'+'er']('texture_ms'+'dfMap',_0xba02f5)):this['_font']['type']===yR&&(_0x489c55['deletePara'+'meter']('texture_ms'+'dfMap'),_0x489c55['setParamet'+'er']('texture_em'+'issiveMap',_0xba02f5),_0x489c55['setParamet'+'er']('texture_op'+'acityMap',_0xba02f5)));}['_getPxRang'+'e'](_0x3f541b){const _0x4b00dc=Object['keys'](this['_font']['data']['chars']);for(let _0x58e0e3=-0x2*0x78a+-0x889+0x27*0x9b;_0x58e0e3<_0x4b00dc['length'];_0x58e0e3++){const _0x2d4078=this['_font']['data']['chars'][_0x4b00dc[_0x58e0e3]];if(_0x2d4078['range'])return(_0x2d4078['scale']||-0x2e2*-0xb+0xae8+-0x2a9d)*_0x2d4078['range'];}return-0x1f9f+0x2176+-0x7*0x43;}['_getUv'](_0x15ad49){const _0x5ee1b8=this['_font']['data'];if(!_0x5ee1b8['chars'][_0x15ad49]){const _0x22b853='\x20';return _0x5ee1b8['chars'][_0x22b853]?this['_getUv'](_0x22b853):[0x1971+-0x1cea+0x1*0x379,0x407+-0x27*-0x4b+-0xf74,0x787+-0x18*-0x8f+0x14ef*-0x1,0x4d9*0x2+-0x1*0x17a3+0x1*0xdf1];}const _0xa1667d=_0x5ee1b8['chars'][_0x15ad49]['map'],_0x3c5fd4=_0x5ee1b8['info']['maps'][_0xa1667d]['width'],_0x1f4e51=_0x5ee1b8['info']['maps'][_0xa1667d]['height'],_0x367a92=_0x5ee1b8['chars'][_0x15ad49]['x'],_0x5ead71=_0x5ee1b8['chars'][_0x15ad49]['y'],_0x2530e6=_0x367a92,_0x2570c5=_0x5ead71,_0x1401f1=_0x367a92+_0x5ee1b8['chars'][_0x15ad49]['width'],_0x29090a=_0x5ead71-_0x5ee1b8['chars'][_0x15ad49]['height'],_0x2a5b3d=-0x1*-0x176d+0x5cd+-0x1d39-_0x5ee1b8['chars'][_0x15ad49]['height']/_0x1f4e51;return[_0x2530e6/_0x3c5fd4,_0x2a5b3d-_0x2570c5/_0x1f4e51,_0x1401f1/_0x3c5fd4,_0x2a5b3d-_0x29090a/_0x1f4e51];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x8e*0x1a+-0xa37*-0x3+-0x1039),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0xa3d+0x1295+-0x857),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x55c324){if(this['_model']){const _0x515038=this['_model']['meshInstan'+'ces'];for(let _0x35cbde=-0x2*-0x106d+-0x218b+0xb1*0x1;_0x35cbde<_0x515038['length'];_0x35cbde++)_0x515038[_0x35cbde]['stencilFro'+'nt']=_0x55c324,_0x515038[_0x35cbde]['stencilBac'+'k']=_0x55c324;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x845655){const _0x468127={};_0x845655===void(0xf8e+-0x167c+0x6ee)&&(_0x845655=this['_symbols']['length']);for(let _0x465c22=-0xe80+0x134b+-0x4cb,_0x56e7f1=_0x845655;_0x465c22<_0x56e7f1;_0x465c22++){const _0x5c6a9b=this['_symbols'][_0x465c22];let _0x17b4b0=this['_font']['data']['chars'][_0x5c6a9b];_0x17b4b0||(_0x17b4b0=this['_font']['data']['chars']['\x20'],_0x17b4b0||(_0x17b4b0=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x100e+0xa11*-0x2+-0x1*-0x2430]]));const _0x380074=_0x17b4b0['map'];_0x468127[_0x380074]?_0x468127[_0x380074]++:_0x468127[_0x380074]=-0x1*0x2569+-0x18fc+0xa3*0x62;}return _0x468127;}['_updateRen'+'derRange'](){const _0x2d7448=this['_rangeStar'+'t']===0x22dc+-0x1*-0xc5c+-0x2f38?-0xf7c*-0x2+-0x3*-0xbfa+0x2173*-0x2:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x2726ec=this['_rangeEnd']===-0x2*0x631+0x211d+-0x1d*0xb7?-0x23*0x1d+-0xd7*-0x4+0x1f*0x5:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x46af91=0x1a6f+0x1*-0x7fe+0x1*-0x1271,_0x520d1e=this['_meshInfo']['length'];_0x46af91<_0x520d1e;_0x46af91++){const _0x43a07a=_0x2d7448[_0x46af91]||-0x9b4+0x1a5a+-0x10a6,_0x2625a2=_0x2726ec[_0x46af91]||0x1*0xb23+-0x1fbd+-0x1*-0x149a,_0x47da12=this['_meshInfo'][_0x46af91]['meshInstan'+'ce'];if(_0x47da12){const _0x2606a4=_0x47da12['mesh'];_0x2606a4&&(_0x2606a4['primitive'][-0x4cb+-0x1*0x2443+0x290e]['base']=_0x43a07a*(0x186*-0xd+-0x1f98+0x3369)*(-0x219e+0xb4d+0x771*0x3),_0x2606a4['primitive'][-0x1b21+-0x68*0x3a+0x32b1]['count']=(_0x2625a2-_0x43a07a)*(-0x175f+-0x494+0x952*0x3)*(0x1*0x1f63+-0x455*-0x1+0x23b6*-0x1));}}}set['text'](_0x505023){this['_i18nKey']=null;const _0x1ba942=_0x505023!=null&&_0x505023['toString']()||'';this['_setText'](_0x1ba942);}get['text'](){return this['_text'];}set['key'](_0x1a42b6){const _0x189be3=_0x1a42b6!==null?_0x1a42b6['toString']():null;this['_i18nKey']!==_0x189be3&&(this['_i18nKey']=_0x189be3,_0x189be3?(this['_fontAsset']['disableLoc'+'alization']=!(-0x12f4+0x156f+-0x27a),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x26b9+-0xb1*0x2f+-0x1*-0x4738));}get['key'](){return this['_i18nKey'];}set['color'](_0x296c8c){const _0x35efa1=_0x296c8c['r'],_0x175bb6=_0x296c8c['g'],_0x1f5b7f=_0x296c8c['b'];if(this['_color']===_0x296c8c&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x35efa1&&this['_color']['g']===_0x175bb6&&this['_color']['b']===_0x1f5b7f)&&(this['_color']['r']=_0x35efa1,this['_color']['g']=_0x175bb6,this['_color']['b']=_0x1f5b7f,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x23cd*0x1+0x1efe+0x4cf]=Me['r'],this['_colorUnif'+'orm'][-0x19*-0xce+0x2275*0x1+-0x5*0xaea]=Me['g'],this['_colorUnif'+'orm'][-0x269*-0x3+-0x12*-0x1e2+-0x291d]=Me['b'];for(let _0x2216a4=-0x225b+-0x1*0x525+0x2780,_0x4096ca=this['_model']['meshInstan'+'ces']['length'];_0x2216a4<_0x4096ca;_0x2216a4++)this['_model']['meshInstan'+'ces'][_0x2216a4]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x594bef){if(this['_color']['a']!==_0x594bef&&(this['_color']['a']=_0x594bef,this['_model'])){for(let _0x42c5cf=0x3*-0xc5f+-0xed4+0x33f1,_0x50d6ef=this['_model']['meshInstan'+'ces']['length'];_0x42c5cf<_0x50d6ef;_0x42c5cf++)this['_model']['meshInstan'+'ces'][_0x42c5cf]['setParamet'+'er']('material_o'+'pacity',_0x594bef);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x594bef);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x15ba89){const _0x2d9e77=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x15ba89,this['_scaledLin'+'eHeight']=_0x15ba89,_0x2d9e77!==_0x15ba89&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x597f48){const _0x368a28=this['_wrapLines'];this['_wrapLines']=_0x597f48,_0x368a28!==_0x597f48&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x378f88){const _0x2c48bd=this['_spacing'];this['_spacing']=_0x378f88,_0x2c48bd!==_0x378f88&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x1dbe7c){const _0x2e1c93=this['_fontSize'];this['_fontSize']=_0x1dbe7c,this['_originalF'+'ontSize']=_0x1dbe7c,_0x2e1c93!==_0x1dbe7c&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x4a478f){this['_fontAsset']['defaultAss'+'et']=_0x4a478f;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x34df27){let _0x5533b3;if(this['_font']&&(_0x5533b3=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x34df27,this['_fontMinY']=0x210b*-0x1+0x623+0x1ae8,this['_fontMaxY']=0x5*0x52d+-0xae7*-0x3+-0x3a96,!_0x34df27)return;const _0xb0da29=this['_font']['data'];for(const _0x476afc in _0xb0da29['chars']){const _0x84a0c6=_0xb0da29['chars'][_0x476afc];_0x84a0c6['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x84a0c6['bounds'][-0x786*0x2+-0x1d6c+0x2c79]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x84a0c6['bounds'][-0xaf+0xa*-0xe2+0x986]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x34df27['type']!==_0x5533b3){const _0x179308=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x179308);}for(let _0x349a1a=0x172*0xe+-0x13*0xaa+-0x4b*0x1a,_0x259c04=this['_font']['textures']['length'];_0x349a1a<_0x259c04;_0x349a1a++)if(!this['_meshInfo'][_0x349a1a])this['_meshInfo'][_0x349a1a]=new CR();else{const _0x5ea5a1=this['_meshInfo'][_0x349a1a]['meshInstan'+'ce'];_0x5ea5a1&&(_0x5ea5a1['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x5ea5a1['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x5ea5a1['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x349a1a]['width']),this['_setTextur'+'eParams'](_0x5ea5a1,this['_font']['textures'][_0x349a1a]));}let _0xa093f8=!(-0xb*0x72+-0x37*0xb1+0x5*0x896);for(let _0x56b450=this['_font']['textures']['length'];_0x56b450<this['_meshInfo']['length'];_0x56b450++)this['_meshInfo'][_0x56b450]['meshInstan'+'ce']&&(_0xa093f8||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0xa093f8=!(-0x1*0x188+0x35e*0x5+-0xf4e)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x56b450]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x3aa298){_0x3aa298 instanceof $?this['_alignment']['set'](_0x3aa298['x'],_0x3aa298['y']):this['_alignment']['set'](_0x3aa298[-0x3f8*0x3+-0x2*-0x74b+-0x2ae],_0x3aa298[-0x76d+-0x9*-0x185+-0x63f]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x1c1231){const _0x350a00=this['_autoWidth'];if(this['_autoWidth']=_0x1c1231,_0x1c1231&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0x14ef+0x1*0x2291+-0xda2+0.0001&&(this['_element']['width']=this['width']),_0x350a00!==_0x1c1231){const _0x3abe4d=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x3abe4d!==this['_fontSize']&&(this['_fontSize']=_0x3abe4d,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x57f829){const _0xd8a7be=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x57f829,_0x57f829&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<-0x2559+-0x113d+0x3696+0.0001&&(this['_element']['height']=this['height']),_0xd8a7be!==_0x57f829){const _0x2738da=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x2738da!==this['_fontSize']&&(this['_fontSize']=_0x2738da,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x3be4e1){this['_rtlReorde'+'r']!==_0x3be4e1&&(this['_rtlReorde'+'r']=_0x3be4e1,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x942798){this['_unicodeCo'+'nverter']!==_0x942798&&(this['_unicodeCo'+'nverter']=_0x942798,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x12ab9f=!(0xf2e+-0x4*0x745+0xde7);for(let _0x32e371=-0x3*-0xcba+-0x1298+-0x1396;_0x32e371<this['_meshInfo']['length'];_0x32e371++)this['_meshInfo'][_0x32e371]['meshInstan'+'ce']&&(_0x12ab9f?this['_aabb']['add'](this['_meshInfo'][_0x32e371]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x32e371]['meshInstan'+'ce']['aabb']),_0x12ab9f=!(0x242*0x11+0x119b+-0x37fd*0x1)));this['_aabbDirty']=!(0x6d*0x4+0xbbb+-0xd6e);}return this['_aabb'];}set['outlineCol'+'or'](_0x47f1cf){const _0x33a4fd=_0x47f1cf instanceof Y?_0x47f1cf['r']:_0x47f1cf[0x4*0x8ab+0x1*-0x23ad+0x101],_0x3c4a94=_0x47f1cf instanceof Y?_0x47f1cf['g']:_0x47f1cf[0x16a*-0xa+0x2c2*0xb+-0x1031],_0x41b281=_0x47f1cf instanceof Y?_0x47f1cf['b']:_0x47f1cf[0x7aa*0x4+-0x22aa+0x404],_0x59723b=_0x47f1cf instanceof Y?_0x47f1cf['a']:_0x47f1cf[0x1c8d+-0x4b4*0x1+0x2*-0xbeb];if(this['_outlineCo'+'lor']===_0x47f1cf&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x33a4fd&&this['_outlineCo'+'lor']['g']===_0x3c4a94&&this['_outlineCo'+'lor']['b']===_0x41b281&&this['_outlineCo'+'lor']['a']===_0x59723b)&&(this['_outlineCo'+'lor']['r']=_0x33a4fd,this['_outlineCo'+'lor']['g']=_0x3c4a94,this['_outlineCo'+'lor']['b']=_0x41b281,this['_outlineCo'+'lor']['a']=_0x59723b,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x1e1e+-0x12ee+0xc43*0x4]=Me['r'],this['_outlineCo'+'lorUniform'][0x1*0x12a7+0x1a3*-0x9+-0x3eb]=Me['g'],this['_outlineCo'+'lorUniform'][0x206+-0x1*0x2599+0x2395]=Me['b'],this['_outlineCo'+'lorUniform'][-0x113f+0x171*0x3+-0xb*-0x12d]=Me['a'];for(let _0x23d485=-0x591+-0x19c4+-0xd*-0x269,_0x30c1e0=this['_model']['meshInstan'+'ces']['length'];_0x23d485<_0x30c1e0;_0x23d485++)this['_model']['meshInstan'+'ces'][_0x23d485]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x56e5f0){const _0x284351=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x56e5f0,_0x284351!==_0x56e5f0&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0xa544b2=-0x2642*0x1+-0x3d7+-0x33d*-0xd,_0x110973=this['_model']['meshInstan'+'ces']['length'];_0xa544b2<_0x110973;_0xa544b2++)this['_model']['meshInstan'+'ces'][_0xa544b2]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x202aad){const _0x365fcd=_0x202aad instanceof Y?_0x202aad['r']:_0x202aad[-0x576+0xad*0x3+0x36f*0x1],_0x5fb67=_0x202aad instanceof Y?_0x202aad['g']:_0x202aad[0x1726+0x5*0x7bf+-0x3de*0x10],_0x265349=_0x202aad instanceof Y?_0x202aad['b']:_0x202aad[-0x3*0x3e6+0x1e67+-0x12b3],_0x26cacd=_0x202aad instanceof Y?_0x202aad['a']:_0x202aad[-0x2649+-0x2103*-0x1+0xb*0x7b];if(this['_shadowCol'+'or']===_0x202aad&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x365fcd&&this['_shadowCol'+'or']['g']===_0x5fb67&&this['_shadowCol'+'or']['b']===_0x265349&&this['_shadowCol'+'or']['a']===_0x26cacd)&&(this['_shadowCol'+'or']['r']=_0x365fcd,this['_shadowCol'+'or']['g']=_0x5fb67,this['_shadowCol'+'or']['b']=_0x265349,this['_shadowCol'+'or']['a']=_0x26cacd,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x1f47+-0x3*-0x48f+-0x2cf4]=Me['r'],this['_shadowCol'+'orUniform'][0x1*0xc2f+-0xe*0x13c+0x51a]=Me['g'],this['_shadowCol'+'orUniform'][-0x5*0x487+0x9e*-0x8+0x133*0x17]=Me['b'],this['_shadowCol'+'orUniform'][-0x10c*-0x1d+-0xde9*-0x1+-0x2c42]=Me['a'];for(let _0x3ebfdc=0x6*0x40a+-0x264+-0x15d8,_0x249914=this['_model']['meshInstan'+'ces']['length'];_0x3ebfdc<_0x249914;_0x3ebfdc++)this['_model']['meshInstan'+'ces'][_0x3ebfdc]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x547119){const _0x3912ea=_0x547119 instanceof $?_0x547119['x']:_0x547119[-0x2174*0x1+0x1*-0x22e7+-0x39*-0x133],_0x110f63=_0x547119 instanceof $?_0x547119['y']:_0x547119[-0x1b*0x92+-0x17*0xdb+0x2*0x118a];if(!(this['_shadowOff'+'set']['x']===_0x3912ea&&this['_shadowOff'+'set']['y']===_0x110f63)&&(this['_shadowOff'+'set']['set'](_0x3912ea,_0x110f63),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x209464=0x17ee+0x7*0x57c+-0x3e52,_0x585f55=this['_model']['meshInstan'+'ces']['length'];_0x209464<_0x585f55;_0x209464++){const _0xebd11a=-this['_font']['data']['info']['maps'][_0x209464]['width']/this['_font']['data']['info']['maps'][_0x209464]['height'];this['_shadowOff'+'setUniform'][-0x5*0x21+0x354*0x1+-0x2af]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x2226+0x241+0x1*-0x2466]=_0xebd11a*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x209464]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x2cf1aa){this['_minFontSi'+'ze']!==_0x2cf1aa&&(this['_minFontSi'+'ze']=_0x2cf1aa,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x7292ff){this['_maxFontSi'+'ze']!==_0x7292ff&&(this['_maxFontSi'+'ze']=_0x7292ff,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x581218){this['_autoFitWi'+'dth']!==_0x581218&&(this['_autoFitWi'+'dth']=_0x581218,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0xab7aef){this['_autoFitHe'+'ight']!==_0xab7aef&&(this['_autoFitHe'+'ight']=_0xab7aef,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x5ef8c5){this['_maxLines']!==_0x5ef8c5&&(_0x5ef8c5===null&&this['_maxLines']===-(-0x235d+-0x359+0x26b7)||(this['_maxLines']=_0x5ef8c5===null?-(-0xff3+0x9e*0x9+0xa66):_0x5ef8c5,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x30dd3a){if(_0x30dd3a=!!_0x30dd3a,this['_enableMar'+'kup']===_0x30dd3a)return;this['_enableMar'+'kup']=_0x30dd3a,this['font']&&this['_updateTex'+'t']();const _0x29d684=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x29d684);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x32c7f7){return this['_colorPale'+'tte']['slice'](_0x32c7f7*(0x1*0x8ce+-0x26f8+0x1e2d),_0x32c7f7*(-0xe51*0x2+0x2*-0x352+0x2349)+(-0x115*-0xe+-0xe*-0x201+0x1*-0x2b31));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0xb00221){return this['_outlinePa'+'lette']['slice'](_0xb00221*(0x1*0x1c2b+-0x1*-0xb5d+-0x2783),_0xb00221*(0x9cf+-0x2ed*-0x3+0x1*-0x1291)+(0x1e*-0x1+-0x66*0x1+0x89));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x2848eb){return this['_shadowPal'+'ette']['slice'](_0x2848eb*(0x21db+-0x15ff+0xbd6*-0x1),_0x2848eb*(0x620+-0x55d*0x1+-0xbd)+(-0x646+0x8f2+-0x2a6));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x328454){_0x328454=Math['max'](-0x76a+0xdec+0x22*-0x31,Math['min'](_0x328454,this['_symbols']['length'])),_0x328454!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x328454,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x20a3e2){_0x20a3e2=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x20a3e2,this['_symbols']['length'])),_0x20a3e2!==this['_rangeEnd']&&(this['_rangeEnd']=_0x20a3e2,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0x21a012,_0x5b0b3b){super(_0x21a012,_0x5b0b3b),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x71*0x47+0x8e5+-0x283b),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new $(),this['_width']=this['_calculate'+'dWidth']=-0x2085+-0xc45*-0x2+0x81b,this['_height']=this['_calculate'+'dHeight']=-0x602*-0x4+0x916*0x1+-0x20fe,this['_margin']=new Q(-0x1c*-0x38+0x1*0x1165+-0x1b*0xdf,-0x26ac+0x958+0x1d54,-(-0x4d*-0x13+0x2*0x84+-0x69f),-(-0xc*0x17e+0x16c9+-0x4c1)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(0x154f+0x17*-0xe6+-0xa5),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new $(),new $(),new $(),new $()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(0xc1*0x3+0x1*0x129d+-0x14e0),this['_canvasCor'+'nersDirty']=!(-0x3da+-0x1775+0x1b4f),this['_worldCorn'+'ersDirty']=!(-0x24bc+0x1f*-0xa+0x25f2),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x1183+0x1*0x11+0x1172,this['_fitMode']=gh,this['_useInput']=!(0x1*0x2635+0x3f6+-0x303*0xe),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0x1203+-0x3*0x259+-0x5*-0x503),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x7e6+0x204d+-0x1867,this['_maskOffse'+'t']=-0xdf6+-0x1cbd*0x1+-0x2ab3*-0x1+0.5,this['_maskedBy']=null);}get['data'](){const _0x4cda98=this['system']['store'][this['entity']['getGuid']()];return _0x4cda98?_0x4cda98['data']:null;}set['enabled'](_0x5abfb3){const _0x4789f6=this['data'],_0x192501=_0x4789f6['enabled'];_0x4789f6['enabled']=_0x5abfb3,this['fire']('set','enabled',_0x192501,_0x5abfb3);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x287*-0xb+-0xa6f+-0x115e+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x5*0x8b+0xd93+-0x1*0x104a+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x3e4b25){_0x3e4b25 instanceof Q?this['_anchor']['copy'](_0x3e4b25):this['_anchor']['set'](..._0x3e4b25),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x8da+0x1f1a+-0x1640),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x4c9e50){var _0x442184,_0x3ea6c4;this['_batchGrou'+'pId']!==_0x4c9e50&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1*0xd83+0xb49+-0x18cc&&((_0x442184=this['system']['app']['batcher'])==null||_0x442184['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x4c9e50>=0x1*0x1cb5+-0x25db*0x1+0x2*0x493&&((_0x3ea6c4=this['system']['app']['batcher'])==null||_0x3ea6c4['insert'](et['ELEMENT'],_0x4c9e50,this['entity'])),_0x4c9e50<0xd2f+0x6b*0xa+-0x115d&&this['_batchGrou'+'pId']>=-0x4*-0x295+-0x1327+0xfb*0x9&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x4c9e50);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0xf67e89){this['_margin']['y']=_0xf67e89;const _0xe39cdc=this['entity']['getLocalPo'+'sition'](),_0x53f2af=this['_absTop'],_0x57f18f=this['_localAnch'+'or']['y']+_0xf67e89;this['_setHeight'](_0x53f2af-_0x57f18f),_0xe39cdc['y']=_0xf67e89+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0xe39cdc);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x191ff3){this['_setCalcul'+'atedWidth'](_0x191ff3,!(-0x1*-0x90+-0x1958+0x18c8));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0xb460e1){this['_setCalcul'+'atedHeight'](_0xb460e1,!(-0x1*0x1822+0x203d+0x81b*-0x1));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x12e31f=this['system']['app']['graphicsDe'+'vice'],_0x178517=this['screenCorn'+'ers'],_0x644f2e=_0x12e31f['canvas']['clientWidt'+'h']/_0x12e31f['width'],_0x19cc39=_0x12e31f['canvas']['clientHeig'+'ht']/_0x12e31f['height'];for(let _0x116cd9=0x6*-0x4c7+0x1454+-0xb*-0xc2;_0x116cd9<-0x17*-0x5+-0x10b*-0x1b+0x726*-0x4;_0x116cd9++)this['_canvasCor'+'ners'][_0x116cd9]['set'](_0x178517[_0x116cd9]['x']*_0x644f2e,(_0x12e31f['height']-_0x178517[_0x116cd9]['y'])*_0x19cc39);return this['_canvasCor'+'nersDirty']=!(-0x24a*0xd+0x25b4*-0x1+-0x77f*-0x9),this['_canvasCor'+'ners'];}set['drawOrder'](_0x576e1a){let _0x55f417=-0x182*-0x4+0x3b*0xe+-0x942;this['screen']&&(_0x55f417=this['screen']['screen']['priority']),_0x576e1a>0x166afcc+-0x5e58c*0x5+0x1*-0x493411&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x576e1a=-0x9dfa5e+0xc37*-0x16fd+0x2b6c6b8*0x1),this['_drawOrder']=(_0x55f417<<-0x83b*0x3+0x8bc+0x24b*0x7)+_0x576e1a,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x3d944f){this['_height']=_0x3d944f,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x3d944f,!(-0x6d7+-0x10af*-0x1+-0x9d8)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x81f4ca){if(this['_addedMode'+'ls']['length'])for(let _0x204cb8=0x3d1+-0x612*-0x4+-0x1c19*0x1;_0x204cb8<this['_layers']['length'];_0x204cb8++){const _0x1ef954=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x204cb8]);if(_0x1ef954){for(let _0x2ce232=-0x109*0x1b+-0x20a2+0x3c95*0x1;_0x2ce232<this['_addedMode'+'ls']['length'];_0x2ce232++)_0x1ef954['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x2ce232]['meshInstan'+'ces']);}}if(this['_layers']=_0x81f4ca,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x21abac=0xa4a+0xafd+0xd*-0x1a3;_0x21abac<this['_layers']['length'];_0x21abac++){const _0x50282e=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x21abac]);if(_0x50282e){for(let _0xd26cff=-0x1350+0x172*-0x4+-0x8*-0x323;_0xd26cff<this['_addedMode'+'ls']['length'];_0xd26cff++)_0x50282e['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0xd26cff]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x597ef8){this['_margin']['x']=_0x597ef8;const _0x18e7a6=this['entity']['getLocalPo'+'sition'](),_0x307e2b=this['_absRight'],_0x9df0d6=this['_localAnch'+'or']['x']+_0x597ef8;this['_setWidth'](_0x307e2b-_0x9df0d6),_0x18e7a6['x']=_0x597ef8+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x18e7a6);}get['left'](){return this['_margin']['x'];}set['margin'](_0x54510b){this['_margin']['copy'](_0x54510b),this['_calculate'+'Size'](!(-0x1f*-0x61+0x16e4+-0x22a3),!(0x2690+-0x48a+-0xd*0x29e)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x39396f){const {pivot:_0x3ebaa3,margin:_0x2def23}=this,_0x3b3856=_0x3ebaa3['x'],_0x4c5a87=_0x3ebaa3['y'];_0x39396f instanceof $?_0x3ebaa3['copy'](_0x39396f):_0x3ebaa3['set'](..._0x39396f);const _0x1361fa=_0x2def23['x']+_0x2def23['z'],_0x2afebf=_0x3ebaa3['x']-_0x3b3856;_0x2def23['x']+=_0x1361fa*_0x2afebf,_0x2def23['z']-=_0x1361fa*_0x2afebf;const _0x5301cd=_0x2def23['y']+_0x2def23['w'],_0x37b302=_0x3ebaa3['y']-_0x4c5a87;_0x2def23['y']+=_0x5301cd*_0x37b302,_0x2def23['w']-=_0x5301cd*_0x37b302,this['_anchorDir'+'ty']=!(0x6ed*0x1+0x1117+-0x1804),this['_cornersDi'+'rty']=!(-0x63e+-0x2376+0x29b4),this['_worldCorn'+'ersDirty']=!(-0x248f+0x227b+0x214),this['_calculate'+'Size'](!(0x1d9c+0x43*0x8d+-0x2141*0x2),!(0xab1+0x12f2+-0x1*0x1da2)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x3ebaa3);}get['pivot'](){return this['_pivot'];}set['right'](_0x4bc254){this['_margin']['z']=_0x4bc254;const _0x1b8c44=this['entity']['getLocalPo'+'sition'](),_0xb6cda1=this['_absLeft'],_0x4f9317=this['_localAnch'+'or']['z']-_0x4bc254;this['_setWidth'](_0x4f9317-_0xb6cda1),_0x1b8c44['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x4bc254-this['_calculate'+'dWidth']*(-0x6f*-0x2e+0x2*0x4f5+-0x1ddb-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x1b8c44);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x52566a=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x2*0x9ac+-0x7*-0x539+-0x27*0x71];this['_screenCor'+'ners'][0x263f*0x1+-0x1ff7+-0x4*0x192]['set'](this['_absLeft'],this['_absBottom'],0xb*-0x213+-0x2*0x7a9+0x2623),this['_screenCor'+'ners'][-0xdf8+0x5*-0x233+0x2f*0x88]['set'](this['_absRight'],this['_absBottom'],0x21cd+0x4e*-0x3b+-0xfd3),this['_screenCor'+'ners'][0x18a6+-0x1ad7+-0x1*-0x233]['set'](this['_absRight'],this['_absTop'],-0x6a4+0x1b99+-0x431*0x5),this['_screenCor'+'ners'][0x17ad+-0x1d*0x96+-0x1*0x6ac]['set'](this['_absLeft'],this['_absTop'],-0x1da9+-0x8de*-0x3+0x30f);const _0x3b49f0=this['screen']['screen']['screenSpac'+'e'];for(let _0x1e2092=0x25ee+-0x138a+0x4*-0x499;_0x1e2092<-0x1*-0x1b78+-0xe00+-0xd74;_0x1e2092++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x1e2092],this['_screenCor'+'ners'][_0x1e2092]),_0x3b49f0&&this['_screenCor'+'ners'][_0x1e2092]['mulScalar'](this['screen']['screen']['scale']),_0x52566a&&this['_screenCor'+'ners'][_0x1e2092]['add'](_0x52566a);return this['_cornersDi'+'rty']=!(0x11c4+-0x5*0x35+0x1*-0x10ba),this['_canvasCor'+'nersDirty']=!(-0x494*-0x2+-0xa6f+-0x6d*-0x3),this['_worldCorn'+'ersDirty']=!(-0x13c3+-0x48d+-0x1850*-0x1),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x96e+-0x1*0x322+0x7c*-0xd;}get['textHeight'](){return this['_text']?this['_text']['height']:-0xf*-0x23d+-0x3f8+-0x1d9b;}set['top'](_0x116d89){this['_margin']['w']=_0x116d89;const _0x384ed0=this['entity']['getLocalPo'+'sition'](),_0x54cbe1=this['_absBottom'],_0xc05588=this['_localAnch'+'or']['w']-_0x116d89;this['_setHeight'](_0xc05588-_0x54cbe1),_0x384ed0['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x116d89-this['_calculate'+'dHeight']*(-0x8a6+-0x12*-0x1e9+-0x19bb-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x384ed0);}get['top'](){return this['_margin']['w'];}set['type'](_0x278fda){_0x278fda!==this['_type']&&(this['_type']=_0x278fda,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x278fda===rf?this['_image']=new _R(this):_0x278fda===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x3089c6){this['_useInput']!==_0x3089c6&&(this['_useInput']=_0x3089c6,this['system']['app']['elementInp'+'ut']?_0x3089c6?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x1ee+-0x14e2+0x8*0x2da)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x3089c6));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x125dea){this['_fitMode']=_0x125dea,this['_calculate'+'Size'](!(0x20f0+0x239+-0x2329),!(-0x1*0x1b66+-0x1c5*0x3+0x20b5)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x6677fd){this['_width']=_0x6677fd,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x6677fd,!(-0x10fb+0xa68+0x33*0x21)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x3f01e5=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][-0x1e51+-0x7*0x2c6+0x8*0x639]=-es['data'][0x5*-0x17f+0x1c67+-0x89*0x27],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x2493d4=-0xbd7+0x167c+0x5*-0x221;_0x2493d4<0x7b*0x4b+0x2699+-0x4a9e;_0x2493d4++)es['transformP'+'oint'](_0x3f01e5[_0x2493d4],this['_worldCorn'+'ers'][_0x2493d4]);}}else{const _0x3d11fb=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0x3d11fb['x'],-_0x3d11fb['y'],-_0x3d11fb['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x3d11fb['x'],_0x3d11fb['y'],_0x3d11fb['z']);const _0x46608e=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0x46608e['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0x3d11fb['x']-this['pivot']['x']*this['calculated'+'Width'],_0x3d11fb['y']-this['pivot']['y']*this['calculated'+'Height'],_0x3d11fb['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x2*-0x26c+-0x1dd9*0x1+0x25*0xad]),ni['set'](_0x3d11fb['x']+(0x11f9+-0x54c+0x1*-0xcac-this['pivot']['x'])*this['calculated'+'Width'],_0x3d11fb['y']-this['pivot']['y']*this['calculated'+'Height'],_0x3d11fb['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x9e1*0x2+-0x19ad+0x5ec]),ni['set'](_0x3d11fb['x']+(0x2458*-0x1+-0x1*-0x1d5d+0xc*0x95-this['pivot']['x'])*this['calculated'+'Width'],_0x3d11fb['y']+(-0x57*-0x6d+0xf16+-0x6*0x8b0-this['pivot']['y'])*this['calculated'+'Height'],_0x3d11fb['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x353+-0x2679+0x2328]),ni['set'](_0x3d11fb['x']-this['pivot']['x']*this['calculated'+'Width'],_0x3d11fb['y']+(0x1a83+-0xa1*-0x9+-0x202b-this['pivot']['y'])*this['calculated'+'Height'],_0x3d11fb['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x643+-0x4*-0x732+-0x1682]);}return this['_worldCorn'+'ersDirty']=!(0x24*-0x2d+0x124*0x4+0x1c5),this['_worldCorn'+'ers'];}set['fontSize'](_0x2179b2){this['_setValue']('fontSize',_0x2179b2);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x2c2ea8){this['_setValue']('minFontSiz'+'e',_0x2c2ea8);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x4b2525){this['_setValue']('maxFontSiz'+'e',_0x4b2525);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x5ba4f){this['_setValue']('maxLines',_0x5ba4f);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x4c946c){this['_setValue']('autoFitWid'+'th',_0x4c946c);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x5a85f9){this['_setValue']('autoFitHei'+'ght',_0x5a85f9);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x57f2bb){this['_setValue']('color',_0x57f2bb);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x2fa391){this['_setValue']('font',_0x2fa391);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x76bd22){this['_setValue']('fontAsset',_0x76bd22);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x44347b){this['_setValue']('spacing',_0x44347b);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x4ec5ed){this['_setValue']('lineHeight',_0x4ec5ed);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x239e85){this['_setValue']('wrapLines',_0x239e85);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x1f70f5){this['_setValue']('lines',_0x1f70f5);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x34414f){this['_setValue']('alignment',_0x34414f);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x539d66){this['_setValue']('autoWidth',_0x539d66);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x29ea62){this['_setValue']('autoHeight',_0x29ea62);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0xa3600c){this['_setValue']('rtlReorder',_0xa3600c);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x4f6089){this['_setValue']('unicodeCon'+'verter',_0x4f6089);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x21dea0){this['_setValue']('text',_0x21dea0);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x21b229){this['_setValue']('key',_0x21b229);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x169201){this['_setValue']('texture',_0x169201);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x5c98f2){this['_setValue']('textureAss'+'et',_0x5c98f2);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x5290df){this['_setValue']('material',_0x5290df);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x4c663d){this['_setValue']('materialAs'+'set',_0x4c663d);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x1ef6d9){this['_setValue']('sprite',_0x1ef6d9);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x1de93b){this['_setValue']('spriteAsse'+'t',_0x1de93b);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x495f75){this['_setValue']('spriteFram'+'e',_0x495f75);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x3187ae){this['_setValue']('pixelsPerU'+'nit',_0x3187ae);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x3f9d55){this['_setValue']('opacity',_0x3f9d55);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x307bdb){this['_setValue']('rect',_0x307bdb);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x30357c){this['_setValue']('mask',_0x30357c);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x4c2b74){this['_setValue']('outlineCol'+'or',_0x4c2b74);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x54d86b){this['_setValue']('outlineThi'+'ckness',_0x54d86b);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0xd3c8e0){this['_setValue']('shadowColo'+'r',_0xd3c8e0);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x6e62cc){this['_setValue']('shadowOffs'+'et',_0x6e62cc);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x592089){this['_setValue']('enableMark'+'up',_0x592089);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x3a43c7){this['_setValue']('rangeStart',_0x3a43c7);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x544e8e){this['_setValue']('rangeEnd',_0x544e8e);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x2cf297,_0x5a2a88){this['_text']?(this['_text'][_0x2cf297]!==_0x5a2a88&&this['_dirtyBatc'+'h'](),this['_text'][_0x2cf297]=_0x5a2a88):this['_image']&&(this['_image'][_0x2cf297]!==_0x5a2a88&&this['_dirtyBatc'+'h'](),this['_image'][_0x2cf297]=_0x5a2a88);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=$e['prototype']['_sync'],this['entity']['setPositio'+'n']=$e['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=$e['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x4e4cdc,_0x2736a8,_0x4b2f9a){if(!this['element']['screen']){$e['prototype']['setPositio'+'n']['call'](this,_0x4e4cdc,_0x2736a8,_0x4b2f9a);return;}_0x4e4cdc instanceof T?Kd['copy'](_0x4e4cdc):Kd['set'](_0x4e4cdc,_0x2736a8,_0x4b2f9a),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x2abd9b,_0x23e4c0,_0x1e76b1){_0x2abd9b instanceof T?this['localPosit'+'ion']['copy'](_0x2abd9b):this['localPosit'+'ion']['set'](_0x2abd9b,_0x23e4c0,_0x1e76b1);const _0x5dc2b6=this['element'],_0x47fe7e=this['localPosit'+'ion'],_0x27d574=_0x5dc2b6['_pivot'];_0x5dc2b6['_margin']['x']=_0x47fe7e['x']-_0x5dc2b6['_calculate'+'dWidth']*_0x27d574['x'],_0x5dc2b6['_margin']['z']=_0x5dc2b6['_localAnch'+'or']['z']-_0x5dc2b6['_localAnch'+'or']['x']-_0x5dc2b6['_calculate'+'dWidth']-_0x5dc2b6['_margin']['x'],_0x5dc2b6['_margin']['y']=_0x47fe7e['y']-_0x5dc2b6['_calculate'+'dHeight']*_0x27d574['y'],_0x5dc2b6['_margin']['w']=_0x5dc2b6['_localAnch'+'or']['w']-_0x5dc2b6['_localAnch'+'or']['y']-_0x5dc2b6['_calculate'+'dHeight']-_0x5dc2b6['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x4a5140=this['element'],_0x526f00=_0x4a5140['screen'];if(_0x526f00){if(_0x4a5140['_anchorDir'+'ty']){let _0x50c000=-0x5fc+-0x8d7+0xed3,_0x68db59=-0x32d*-0x4+0xbe5*-0x1+-0x17*0x9,_0x395d83=0x4a8+-0x118e+0xce6,_0x487013=0x2049+-0xc78+-0x13d0;if(this['_parent']&&this['_parent']['element'])_0x50c000=this['_parent']['element']['calculated'+'Width'],_0x68db59=this['_parent']['element']['calculated'+'Height'],_0x395d83=this['_parent']['element']['pivot']['x'],_0x487013=this['_parent']['element']['pivot']['y'];else{const _0x241f69=_0x526f00['screen']['resolution'];_0x50c000=_0x241f69['x']/_0x526f00['screen']['scale'],_0x68db59=_0x241f69['y']/_0x526f00['screen']['scale'];}_0x4a5140['_anchorTra'+'nsform']['setTransla'+'te'](_0x50c000*(_0x4a5140['anchor']['x']-_0x395d83),-(_0x68db59*(_0x487013-_0x4a5140['anchor']['y'])),0x14e1+-0x674*-0x2+0x1f*-0x117),_0x4a5140['_anchorDir'+'ty']=!(-0x443*-0x3+-0x210d*-0x1+-0x1*0x2dd5),_0x4a5140['_calculate'+'LocalAncho'+'rs']();}_0x4a5140['_sizeDirty']&&_0x4a5140['_calculate'+'Size'](!(0x512+-0xd*0x1df+0x1342),!(0x2084+0x19f9*0x1+-0x3a7c));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x3cbbe1=this['localPosit'+'ion'],_0x1cca19=_0x4a5140['_pivot'];_0x4a5140['_margin']['x']=_0x3cbbe1['x']-_0x4a5140['_calculate'+'dWidth']*_0x1cca19['x'],_0x4a5140['_margin']['z']=_0x4a5140['_localAnch'+'or']['z']-_0x4a5140['_localAnch'+'or']['x']-_0x4a5140['_calculate'+'dWidth']-_0x4a5140['_margin']['x'],_0x4a5140['_margin']['y']=_0x3cbbe1['y']-_0x4a5140['_calculate'+'dHeight']*_0x1cca19['y'],_0x4a5140['_margin']['w']=_0x4a5140['_localAnch'+'or']['w']-_0x4a5140['_localAnch'+'or']['y']-_0x4a5140['_calculate'+'dHeight']-_0x4a5140['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x1663*-0x1+0x17f5*0x1+-0x2e57);}if(!_0x526f00){this['_dirtyWorl'+'d']&&(_0x4a5140['_cornersDi'+'rty']=!(0xb34+0x166e+0xa*-0x35d),_0x4a5140['_canvasCor'+'nersDirty']=!(-0x5c3*0x1+0x726+0x47*-0x5),_0x4a5140['_worldCorn'+'ersDirty']=!(0x18e3*-0x1+0x1*0x1b61+-0x27e)),$e['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x4a5140['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x4a5140['_anchorTra'+'nsform']):_0x4a5140['_screenToW'+'orld']['copy'](_0x4a5140['_anchorTra'+'nsform']),_0x4a5140['_modelTran'+'sform']['mul2'](_0x4a5140['_screenToW'+'orld'],this['localTrans'+'form']),_0x526f00){_0x4a5140['_screenToW'+'orld']['mul2'](_0x526f00['screen']['_screenMat'+'rix'],_0x4a5140['_screenToW'+'orld']),_0x526f00['screen']['screenSpac'+'e']||_0x4a5140['_screenToW'+'orld']['mul2'](_0x526f00['worldTrans'+'form'],_0x4a5140['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x4a5140['_screenToW'+'orld'],this['localTrans'+'form']);const _0x404fb1=_0x4a5140['_parentWor'+'ldTransfor'+'m'];_0x404fb1['setIdentit'+'y']();const _0x50ea4f=this['_parent'];_0x50ea4f&&_0x50ea4f['element']&&_0x50ea4f!==_0x526f00&&(es['setTRS'](T['ZERO'],_0x50ea4f['getLocalRo'+'tation'](),_0x50ea4f['getLocalSc'+'ale']()),_0x404fb1['mul2'](_0x50ea4f['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x4e7cf9=ni;_0x4e7cf9['set'](-0x1286+0x266+-0x2b0*-0x6,-0x84d+0xce*0x1c+-0xe3b,this['localPosit'+'ion']['z']);const _0x2b53a0=kR;_0x2b53a0['set'](_0x4a5140['_absLeft']+_0x4a5140['_pivot']['x']*_0x4a5140['calculated'+'Width'],_0x4a5140['_absBottom']+_0x4a5140['_pivot']['y']*_0x4a5140['calculated'+'Height'],-0xa*0x20+-0x5*-0x9b+-0x1c7),es['setTransla'+'te'](-_0x2b53a0['x'],-_0x2b53a0['y'],-_0x2b53a0['z']),Yl['setTRS'](_0x4e7cf9,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x2b53a0['x'],_0x2b53a0['y'],_0x2b53a0['z']),_0x4a5140['_screenTra'+'nsform']['mul2'](_0x4a5140['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x4a5140['_cornersDi'+'rty']=!(-0x36e*0x3+0xfa7*0x1+0x55d*-0x1),_0x4a5140['_canvasCor'+'nersDirty']=!(-0x84+0x9*-0x17f+0xdfb),_0x4a5140['_worldCorn'+'ersDirty']=!(0x1d56+0x1497+-0x31ed);}else this['worldTrans'+'form']['copy'](_0x4a5140['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x899*-0x1+-0x12e*-0xe+-0x7ea);}}['_onInsert'](_0x5a48f5){const _0x142731=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x142731['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x180776=this['entity'];for(;_0x180776;){const _0x1fb60d=_0x180776['parent'];if((_0x1fb60d===null||_0x1fb60d['screen'])&&_0x180776['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0xb3d04d=this['system']['_prerender']['indexOf'](this['entity']);_0xb3d04d>=0x1*0x16d9+0x1*0xe61+0x1*-0x253a&&this['system']['_prerender']['splice'](_0xb3d04d,-0x204e+0x1*-0x6b1+0x2700),this['system']['_prerender']['indexOf'](_0x180776)<-0x1f60+-0x197*0x2+-0x2*-0x1147&&this['system']['_prerender']['push'](_0x180776),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x180776['name']);}_0x180776=_0x1fb60d;}}['_onPrerend'+'er'](){for(let _0x439d18=-0x20fb+0x201a+-0x2d*-0x5;_0x439d18<this['system']['_prerender']['length'];_0x439d18++){const _0x3b6a77=this['system']['_prerender'][_0x439d18];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0x3b6a77['name']),_0x3b6a77['element']&&_0x3b6a77['element']['syncMask'](0x137+0x265b+-0x2791);}this['system']['_prerender']['length']=-0xd*0x185+-0x1987+0x33c*0xe;}['_bindScree'+'n'](_0x4173ad){_0x4173ad['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x2e827a){_0x2e827a['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x3636d8){this['screen']&&this['screen']!==_0x3636d8&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x3643be=this['screen'];this['screen']=_0x3636d8,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x3643be),this['_anchorDir'+'ty']=!(0xf4c+0x241*0xb+0x21*-0x137);const _0x1bdb74=this['entity']['children'];for(let _0x169c86=-0x1861+0x231+0x4*0x58c,_0x123464=_0x1bdb74['length'];_0x169c86<_0x123464;_0x169c86++)_0x1bdb74[_0x169c86]['element']&&_0x1bdb74[_0x169c86]['element']['_updateScr'+'een'](_0x3636d8);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x336474){const _0x520ea0=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x520ea0['mask'],_0x336474);}['_setMasked'+'By'](_0x5a4b75){const _0x4c5f17=this['_image']||this['_text'];if(_0x5a4b75){const _0x53fe85=_0x5a4b75['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x53fe85),_0x4c5f17==null||_0x4c5f17['_setStenci'+'l'](new qs({'ref':_0x53fe85,'func':Ch})),this['_maskedBy']=_0x5a4b75;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x4c5f17==null||_0x4c5f17['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x48cd60,_0x11f732){var _0x4870b1,_0x28b0fc;if(_0x48cd60){if(this['_setMasked'+'By'](_0x48cd60),this['mask']){const _0x260376=_0x48cd60['element']['_image']['_maskRef'],_0x1af75a=new qs({'ref':_0x260376,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x1af75a),this['_image']['_maskRef']=_0x11f732,_0x11f732++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x1af75a['ref']+(-0x14*0x4+-0x6cd*-0x1+0xa6*-0xa))),v['trace'](Ss,'depth++\x20to'+':\x20',_0x11f732),_0x48cd60=this['entity'];}const _0x436cf1=this['entity']['children'];for(let _0x1d2fc0=-0x1ea5+0x6a9+0x17fc,_0x43a16f=_0x436cf1['length'];_0x1d2fc0<_0x43a16f;_0x1d2fc0++)(_0x4870b1=_0x436cf1[_0x1d2fc0]['element'])==null||_0x4870b1['_updateMas'+'k'](_0x48cd60,_0x11f732);this['mask']&&_0x11f732--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x3db3da=new qs({'ref':_0x11f732,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x3db3da),this['_image']['_maskRef']=_0x11f732,_0x11f732++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x3db3da['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0x11f732),_0x48cd60=this['entity'];}const _0x40cadf=this['entity']['children'];for(let _0x4ac255=0x22e7+0x2*-0x6f1+-0x1505,_0x4eaaa8=_0x40cadf['length'];_0x4ac255<_0x4eaaa8;_0x4ac255++)(_0x28b0fc=_0x40cadf[_0x4ac255]['element'])==null||_0x28b0fc['_updateMas'+'k'](_0x48cd60,_0x11f732);this['mask']&&_0x11f732--;}}['_parseUpTo'+'Screen'](){const _0x1576fb={'screen':null,'mask':null};let _0x47303f=this['entity']['_parent'];for(;_0x47303f&&!_0x47303f['screen'];)_0x47303f['element']&&_0x47303f['element']['mask']&&(_0x1576fb['mask']||(_0x1576fb['mask']=_0x47303f)),_0x47303f=_0x47303f['parent'];return _0x47303f&&_0x47303f['screen']&&(_0x1576fb['screen']=_0x47303f),_0x1576fb;}['_onScreenR'+'esize'](_0x3d975a){this['_anchorDir'+'ty']=!(0xaaf+0x1948+-0x23f7),this['_cornersDi'+'rty']=!(-0x841+-0xb8+0x8f9),this['_worldCorn'+'ersDirty']=!(-0x1*-0x1f05+-0xbcf+-0x1336),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x3d975a);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x2c11be=0x3cf+0x8*-0x476+-0x1*-0x23c9,_0x405549=-0x6ac+0xdae+0x2*-0x18d;const _0x43b6f7=this['entity']['_parent'];if(_0x43b6f7&&_0x43b6f7['element'])_0x2c11be=_0x43b6f7['element']['calculated'+'Width'],_0x405549=_0x43b6f7['element']['calculated'+'Height'];else{if(this['screen']){const _0x405590=this['screen']['screen']['resolution'],_0x40efe1=this['screen']['screen']['scale'];_0x2c11be=_0x405590['x']/_0x40efe1,_0x405549=_0x405590['y']/_0x40efe1;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x2c11be,this['_anchor']['y']*_0x405549,this['_anchor']['z']*_0x2c11be,this['_anchor']['w']*_0x405549);}['getOffsetP'+'osition'](_0x92450c,_0x3f79f7){const _0x428039=this['entity']['getLocalPo'+'sition']()['clone']();return _0x428039['x']+=_0x92450c,_0x428039['y']+=_0x3f79f7,this['_screenToW'+'orld']['transformP'+'oint'](_0x428039,_0x428039),_0x428039;}['onLayersCh'+'anged'](_0xa13be4,_0x3c6632){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0xa13be4['off']('add',this['onLayerAdd'+'ed'],this),_0xa13be4['off']('remove',this['onLayerRem'+'oved'],this),_0x3c6632['on']('add',this['onLayerAdd'+'ed'],this),_0x3c6632['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x10faad){this['layers']['indexOf'](_0x10faad['id'])<-0x186e+-0x5*-0x43+0x171f||(this['_image']?_0x10faad['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x10faad['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x17ba52){this['layers']['indexOf'](_0x17ba52['id'])<-0x2*0x47f+-0x25c4+0x2ec2||(this['_image']?_0x17ba52['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x17ba52['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x171c4d;const _0x11a75d=this['system']['app']['scene'],_0x5e0b39=_0x11a75d['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x11a75d['on']('set:layers',this['onLayersCh'+'anged'],this),_0x5e0b39&&(this['_evtLayerA'+'dded']=_0x5e0b39['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x5e0b39['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x1e60+0x1*-0x2572+0x712&&((_0x171c4d=this['system']['app']['batcher'])==null||_0x171c4d['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x2ecef2,_0x126e44,_0x2cffce,_0x7eb537;const _0x415618=this['system']['app']['scene']['layers'];(_0x2ecef2=this['_evtLayers'+'Changed'])==null||_0x2ecef2['off'](),this['_evtLayers'+'Changed']=null,_0x415618&&((_0x126e44=this['_evtLayerA'+'dded'])==null||_0x126e44['off'](),this['_evtLayerA'+'dded']=null,(_0x2cffce=this['_evtLayerR'+'emoved'])==null||_0x2cffce['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0xf*-0xd7+-0xb6c+-0x12d&&((_0x7eb537=this['system']['app']['batcher'])==null||_0x7eb537['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x16eb64,_0x945634){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x30a87d=this['_absRight']-this['_absLeft'],_0xe79e7a=this['_absTop']-this['_absBottom'];_0x16eb64?this['_setWidth'](_0x30a87d):this['_setCalcul'+'atedWidth'](_0x30a87d,!(0x8d*0x23+-0x5*0x41b+0x141*0x1)),_0x945634?this['_setHeight'](_0xe79e7a):this['_setCalcul'+'atedHeight'](_0xe79e7a,!(0x18ae+0x1282+-0x2b2f));const _0x209aa8=this['entity']['getLocalPo'+'sition']();_0x209aa8['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x209aa8['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x209aa8),this['_sizeDirty']=!(-0x5*0x5fe+-0xe8f*-0x1+0xf68);}['_setWidth'](_0x45f42a){this['_width']=_0x45f42a,this['_setCalcul'+'atedWidth'](_0x45f42a,!(0x1ee4+-0x2d4*-0x2+-0x248b)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x275feb){this['_height']=_0x275feb,this['_setCalcul'+'atedHeight'](_0x275feb,!(-0x3a1*-0xa+0x3d5*-0x3+0x1*-0x18ca)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x4effe5,_0x541d4b){if(!(Math['abs'](_0x4effe5-this['_calculate'+'dWidth'])<=0x9dd+0x213+-0xbf0+0.0001)){if(this['_calculate'+'dWidth']=_0x4effe5,this['entity']['_dirtifyLo'+'cal'](),_0x541d4b){const _0x4a6774=this['entity']['getLocalPo'+'sition'](),_0x1cf4f1=this['_pivot'];this['_margin']['x']=_0x4a6774['x']-this['_calculate'+'dWidth']*_0x1cf4f1['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x3edf01,_0x39a55e){if(!(Math['abs'](_0x3edf01-this['_calculate'+'dHeight'])<=-0x1fc9+0x1b4b+0x47e+0.0001)){if(this['_calculate'+'dHeight']=_0x3edf01,this['entity']['_dirtifyLo'+'cal'](),_0x39a55e){const _0x10f487=this['entity']['getLocalPo'+'sition'](),_0x56d98e=this['_pivot'];this['_margin']['y']=_0x10f487['y']-this['_calculate'+'dHeight']*_0x56d98e['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x5a24a0=this['entity']['_children'];for(let _0x3356f6=-0x95c*-0x4+-0x1*0x3ab+-0x21c5,_0x221e84=_0x5a24a0['length'];_0x3356f6<_0x221e84;_0x3356f6++)_0x5a24a0[_0x3356f6]['element']&&(_0x5a24a0[_0x3356f6]['element']['_anchorDir'+'ty']=!(-0x1298+-0x1b+0x12b3),_0x5a24a0[_0x3356f6]['element']['_sizeDirty']=!(-0x1749+0x1*0x237b+0x619*-0x2));}['addModelTo'+'Layers'](_0x53b5e6){this['_addedMode'+'ls']['push'](_0x53b5e6);for(let _0x57bf20=0x2*-0xfa3+-0x1239+0x317f*0x1;_0x57bf20<this['layers']['length'];_0x57bf20++){const _0x2fa9d4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x57bf20]);_0x2fa9d4&&_0x2fa9d4['addMeshIns'+'tances'](_0x53b5e6['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x5aac15){const _0xc5ae9f=this['_addedMode'+'ls']['indexOf'](_0x5aac15);_0xc5ae9f>=-0x17*0x11b+0x88*0x23+0x3*0x247&&this['_addedMode'+'ls']['splice'](_0xc5ae9f,0x3*0xbc9+-0x5*-0x5c9+-0xf*0x449);for(let _0x9e32f3=-0x2db*-0xd+0x24*0x3d+-0x2db3;_0x9e32f3<this['layers']['length'];_0x9e32f3++){const _0x4c57df=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x9e32f3]);_0x4c57df&&_0x4c57df['removeMesh'+'Instances'](_0x5aac15['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x3522d2=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x3522d2&&(this['_maskOffse'+'t']=-0x1c19+-0x18a6+-0x1195*-0x3+0.5,this['_offsetRea'+'dAt']=_0x3522d2);const _0x40c7a3=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x5*-0x515+0x1*-0xa93+-0xed6+0.001,_0x40c7a3;}['isVisibleF'+'orCamera'](_0xa055cf){let _0x4bdbc4,_0x18731a,_0x861b63,_0x35416d;if(this['maskedBy']){const _0x34020f=this['maskedBy']['element']['screenCorn'+'ers'];_0x4bdbc4=Math['min'](Math['min'](_0x34020f[-0x2*0x65+0x441+0x377*-0x1]['x'],_0x34020f[-0xf7*-0x13+0x9eb+0x409*-0x7]['x']),Math['min'](_0x34020f[0x1251*-0x1+0x2432+0x11df*-0x1]['x'],_0x34020f[-0x21*0x3d+0x449+0x397]['x'])),_0x18731a=Math['max'](Math['max'](_0x34020f[-0x1aef+-0x1dfe+0xd*0x461]['x'],_0x34020f[0x2b*0x5e+-0x1889+0x8c0]['x']),Math['max'](_0x34020f[-0x7b7*0x4+-0x4dc+0x11*0x21a]['x'],_0x34020f[-0x2231+0x3d+-0x25*-0xeb]['x'])),_0x35416d=Math['min'](Math['min'](_0x34020f[0x2b*0x6e+-0x3d*0x79+0xf1*0xb]['y'],_0x34020f[0x661+-0x100c+0x9ac]['y']),Math['min'](_0x34020f[0x39*-0x68+-0x362*-0x8+-0x2*0x1f3]['y'],_0x34020f[0x59*0x6d+-0x31d+-0x22c5]['y'])),_0x861b63=Math['max'](Math['max'](_0x34020f[-0x1c65+-0x24d8+0x3*0x15bf]['y'],_0x34020f[-0x2f+0x217a+-0x214a]['y']),Math['max'](_0x34020f[-0x9cf+0x2c*-0xa6+-0x1*-0x2659]['y'],_0x34020f[0xa1*-0x31+0x1e79+0x1*0x5b]['y']));}else{const _0x583f7c=this['system']['app']['graphicsDe'+'vice']['width'],_0x4c53e6=this['system']['app']['graphicsDe'+'vice']['height'],_0x1100d8=_0xa055cf['_rect']['z']*_0x583f7c,_0x3562a4=_0xa055cf['_rect']['w']*_0x4c53e6;_0x4bdbc4=_0xa055cf['_rect']['x']*_0x583f7c,_0x18731a=_0x4bdbc4+_0x1100d8,_0x861b63=(-0x18d8*-0x1+-0x3*0x6e2+-0x431-_0xa055cf['_rect']['y'])*_0x4c53e6,_0x35416d=_0x861b63-_0x3562a4;}const _0x3fb0c5=this['screenCorn'+'ers'],_0x4b5552=Math['min'](Math['min'](_0x3fb0c5[-0x1ed9+0x20e+0xd*0x237]['x'],_0x3fb0c5[-0x13b*-0xd+0x2d*-0x7c+-0x5ce*-0x1]['x']),Math['min'](_0x3fb0c5[-0xdd3*-0x1+0x8*0x218+-0x19*0x139]['x'],_0x3fb0c5[0xa80+0x10ba+-0x1b37]['x'])),_0x5b871e=Math['max'](Math['max'](_0x3fb0c5[-0x7*-0xf5+0x229d+-0x10*0x295]['x'],_0x3fb0c5[0x4d8+0x1071+-0x1548]['x']),Math['max'](_0x3fb0c5[-0x28d*0x1+-0x1*0x31b+0x5aa]['x'],_0x3fb0c5[-0x22*-0x121+-0x265*0x9+-0x1*0x10d2]['x'])),_0x2f481f=Math['min'](Math['min'](_0x3fb0c5[0xdd8+-0x125b+0x483]['y'],_0x3fb0c5[0x84*-0x11+0x205c+-0x1797]['y']),Math['min'](_0x3fb0c5[0x10*0x187+-0x65*0x12+-0x1154]['y'],_0x3fb0c5[-0x7*-0x3d6+-0x7d5*0x3+-0x358]['y'])),_0x1c7e74=Math['max'](Math['max'](_0x3fb0c5[-0x20bd*-0x1+0x283*-0xb+-0x51c]['y'],_0x3fb0c5[0x7d*-0x33+-0xb61+0x2449]['y']),Math['max'](_0x3fb0c5[0x1cb+-0x12fb+-0x899*-0x2]['y'],_0x3fb0c5[0x4*0x87d+-0xa*-0xef+-0x2b47]['y']));return!(_0x5b871e<_0x4bdbc4||_0x4b5552>_0x18731a||_0x2f481f>_0x861b63||_0x1c7e74<_0x35416d);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x153*0x3+-0x1*0x117e+-0x8*-0x2af);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0xe9a+0x89+0x709*0x2);}['_dirtyBatc'+'h'](){var _0x5adf60;this['batchGroup'+'Id']!==-(0x117+0x98f+-0xaa5)&&((_0x5adf60=this['system']['app']['batcher'])==null||_0x5adf60['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(0x4eb*-0x5+0xce1+0xbb6);}}const NR=['enabled'];class zR extends Xe{constructor(_0x5626a5){super(_0x5626a5),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x5626a5['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x548dbd=this['_defaultTe'+'xture']['lock'](),_0x354374=new Uint8Array(-0xcf9+-0x529+0x17*0xca);_0x354374[-0x7b3+0x1*-0x10d5+0x1888]=0x1*0x1e0e+-0x969+-0xa*0x1f7,_0x354374[0x19e3+-0x22bd+0x1*0x8db]=-0x9d*-0x3a+0x614+-0x3*0xd8d,_0x354374[0x1a9b+0x1d*0x57+0x4*-0x91d]=0x16fc+-0x1d1c+0x71f,_0x354374[0x1bda+-0x1*-0xfa9+-0x2b80]=-0xd*0x206+-0xaee+0x263b,_0x548dbd['set'](_0x354374),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x35568d,_0x1ef05c,_0x11c5da){_0x35568d['_beingInit'+'ialized']=!(0x26b3+0x117f+-0x3832),_0x1ef05c['anchor']!==void(-0x18e0+0x121*-0x1+0x1a01)&&(_0x1ef05c['anchor']instanceof Q?_0x35568d['anchor']['copy'](_0x1ef05c['anchor']):_0x35568d['anchor']['set'](_0x1ef05c['anchor'][-0x22b8+-0x738+0x2c*0xf4],_0x1ef05c['anchor'][0x1*0xb7d+-0x9b2+-0x1ca],_0x1ef05c['anchor'][-0x1*0x1d21+-0x17b*-0x19+0x30*-0x2a],_0x1ef05c['anchor'][-0x18ef+-0x1*0xbe+0x19b0])),_0x1ef05c['pivot']!==void(-0x11b*0x11+-0x15*0x10+0x141b)&&(_0x1ef05c['pivot']instanceof $?_0x35568d['pivot']['copy'](_0x1ef05c['pivot']):_0x35568d['pivot']['set'](_0x1ef05c['pivot'][0x14e4+-0xc2f*-0x1+0x2113*-0x1],_0x1ef05c['pivot'][0x1*0xc9d+-0x20a9+-0x140d*-0x1]));const _0x134abb=Math['abs'](_0x35568d['anchor']['x']-_0x35568d['anchor']['z'])>0xd04+0x16eb+0x23ef*-0x1+0.001,_0x341a52=Math['abs'](_0x35568d['anchor']['y']-_0x35568d['anchor']['w'])>0x11*-0x1e9+-0x1e5b*0x1+0x3ed4+0.001;let _0xf9ad18=!(-0x10*-0x1b2+-0x26b2+0xb93),_0x25f9f4;_0x1ef05c['margin']!==void(0x6a*0x5d+-0x13eb+0x1297*-0x1)&&(_0x1ef05c['margin']instanceof Q?_0x35568d['margin']['copy'](_0x1ef05c['margin']):_0x35568d['_margin']['set'](_0x1ef05c['margin'][0x11a0+-0x845+0x95b*-0x1],_0x1ef05c['margin'][-0x1*0x12d7+-0x1*-0x395+0xf43],_0x1ef05c['margin'][-0x1a*-0x137+-0x4*0x269+-0x15f0],_0x1ef05c['margin'][0x1167+0x2630+-0x3794]),_0xf9ad18=!(-0x1715*0x1+-0x912+-0x2027*-0x1)),_0x1ef05c['left']!==void(-0x2366+0x472*0x3+0x1610)&&(_0x35568d['_margin']['x']=_0x1ef05c['left'],_0xf9ad18=!(0x189a+0xe7a+-0x2714)),_0x1ef05c['bottom']!==void(0x14c2+-0xccd+-0x123*0x7)&&(_0x35568d['_margin']['y']=_0x1ef05c['bottom'],_0xf9ad18=!(0x9b*0x3e+0x246f+-0x49f9)),_0x1ef05c['right']!==void(0x1892+0x29*-0xac+0x2fa)&&(_0x35568d['_margin']['z']=_0x1ef05c['right'],_0xf9ad18=!(0x1*-0x4d1+0x522+-0x1b*0x3)),_0x1ef05c['top']!==void(-0x158e+-0x7*0x2e7+0x29df*0x1)&&(_0x35568d['_margin']['w']=_0x1ef05c['top'],_0xf9ad18=!(-0x1ca0+-0x2520+0x838*0x8)),_0xf9ad18&&(_0x35568d['margin']=_0x35568d['_margin']);let _0x2c5a85=!(-0x46d*-0x3+-0x1e*0x36+-0x6f2);_0x1ef05c['width']!==void(-0x2f*0x2f+0x2cb*0x9+-0x841*0x2)&&!_0x134abb?_0x35568d['width']=_0x1ef05c['width']:_0x134abb&&(_0x2c5a85=!(0x25cc+-0x199d+-0xc2f)),_0x1ef05c['height']!==void(-0x86f+0x207c+-0x2f*0x83)&&!_0x341a52?_0x35568d['height']=_0x1ef05c['height']:_0x341a52&&(_0x2c5a85=!(0x254*-0x2+0xbcd+-0x725)),_0x2c5a85&&(_0x35568d['anchor']=_0x35568d['anchor']),_0x1ef05c['enabled']!==void(-0x2414+0x22ba+-0x1*-0x15a)&&(_0x35568d['enabled']=_0x1ef05c['enabled']),_0x1ef05c['useInput']!==void(0x4*0x980+0x5df*0x4+0x626*-0xa)&&(_0x35568d['useInput']=_0x1ef05c['useInput']),_0x1ef05c['fitMode']!==void(0xef2+-0x2049+0xc1*0x17)&&(_0x35568d['fitMode']=_0x1ef05c['fitMode']),_0x35568d['batchGroup'+'Id']=_0x1ef05c['batchGroup'+'Id']===void(-0x1*0x2080+0x21fb*-0x1+0x427b)||_0x1ef05c['batchGroup'+'Id']===null?-(0x1656+-0x16*0x164+0x843):_0x1ef05c['batchGroup'+'Id'],_0x1ef05c['layers']&&Array['isArray'](_0x1ef05c['layers'])&&(_0x35568d['layers']=_0x1ef05c['layers']['slice'](0x166f*0x1+0x1*-0x8d+0x2*-0xaf1)),_0x1ef05c['type']!==void(-0x2*-0x10bd+-0x5ba+0x25*-0xc0)&&(_0x35568d['type']=_0x1ef05c['type']),_0x35568d['type']===rf?(_0x1ef05c['rect']!==void(-0x381+-0x88c*0x1+-0x1*-0xc0d)&&(_0x35568d['rect']=_0x1ef05c['rect']),_0x1ef05c['color']!==void(0x2593+-0x1d62+-0x831)&&(_0x25f9f4=_0x1ef05c['color'],_0x25f9f4 instanceof Y||(_0x25f9f4=new Y(_0x1ef05c['color'][0xed1*0x1+-0x11d3+-0x302*-0x1],_0x1ef05c['color'][-0x65*-0x5d+-0x1*-0x23ab+-0x1*0x485b],_0x1ef05c['color'][0xd4b+-0xbf9+-0x150])),_0x35568d['color']=_0x25f9f4),_0x1ef05c['opacity']!==void(0x3*0xc47+0x1268+0x1*-0x373d)&&(_0x35568d['opacity']=_0x1ef05c['opacity']),_0x1ef05c['textureAss'+'et']!==void(0x766*0x2+0x20ef*0x1+-0x1*0x2fbb)&&(_0x35568d['textureAss'+'et']=_0x1ef05c['textureAss'+'et']),_0x1ef05c['texture']&&(_0x35568d['texture']=_0x1ef05c['texture']),_0x1ef05c['spriteAsse'+'t']!==void(0x716+-0x3*-0x21d+0x1*-0xd6d)&&(_0x35568d['spriteAsse'+'t']=_0x1ef05c['spriteAsse'+'t']),_0x1ef05c['sprite']&&(_0x35568d['sprite']=_0x1ef05c['sprite']),_0x1ef05c['spriteFram'+'e']!==void(-0xfbe+0x67b*0x3+-0x3b3)&&(_0x35568d['spriteFram'+'e']=_0x1ef05c['spriteFram'+'e']),_0x1ef05c['pixelsPerU'+'nit']!==void(0x19c4+0x25d*0x8+-0x3*0xee4)&&_0x1ef05c['pixelsPerU'+'nit']!==null&&(_0x35568d['pixelsPerU'+'nit']=_0x1ef05c['pixelsPerU'+'nit']),_0x1ef05c['materialAs'+'set']!==void(0x521*0x7+-0x795*0x1+-0xfa*0x1d)&&(_0x35568d['materialAs'+'set']=_0x1ef05c['materialAs'+'set']),_0x1ef05c['material']&&(_0x35568d['material']=_0x1ef05c['material']),_0x1ef05c['mask']!==void(0x853*-0x1+-0xec3+0x1716)&&(_0x35568d['mask']=_0x1ef05c['mask'])):_0x35568d['type']===ex&&(_0x1ef05c['autoWidth']!==void(0x1*0xe89+-0x1*0x2673+0x17ea*0x1)&&(_0x35568d['autoWidth']=_0x1ef05c['autoWidth']),_0x1ef05c['autoHeight']!==void(0x6ce*-0x5+0x2c5*-0x7+-0x71*-0x79)&&(_0x35568d['autoHeight']=_0x1ef05c['autoHeight']),_0x1ef05c['rtlReorder']!==void(0x1fd*-0x13+-0x1*-0xffe+0x15c9)&&(_0x35568d['rtlReorder']=_0x1ef05c['rtlReorder']),_0x1ef05c['unicodeCon'+'verter']!==void(0xab5*-0x3+-0x227f+0x2*0x214f)&&(_0x35568d['unicodeCon'+'verter']=_0x1ef05c['unicodeCon'+'verter']),_0x1ef05c['text']!==null&&_0x1ef05c['text']!==void(0x1474+-0xf29+-0x5*0x10f)?_0x35568d['text']=_0x1ef05c['text']:_0x1ef05c['key']!==null&&_0x1ef05c['key']!==void(0x1e14+0x10*0x6b+-0x24c4)&&(_0x35568d['key']=_0x1ef05c['key']),_0x1ef05c['color']!==void(-0xd3*0x28+0xe38+-0x3c0*-0x5)&&(_0x25f9f4=_0x1ef05c['color'],_0x25f9f4 instanceof Y||(_0x25f9f4=new Y(_0x25f9f4[-0x1c66*-0x1+0x4f*0x6d+-0x3e09],_0x25f9f4[-0x2284+-0x17b8+0x3a3d],_0x25f9f4[0x1a17+0x1c5b+-0x3670])),_0x35568d['color']=_0x25f9f4),_0x1ef05c['opacity']!==void(-0xeb1+-0x7*0x50b+0x12*0x2c7)&&(_0x35568d['opacity']=_0x1ef05c['opacity']),_0x1ef05c['spacing']!==void(-0x3a5*0x1+-0x1*-0x1253+-0xeae*0x1)&&(_0x35568d['spacing']=_0x1ef05c['spacing']),_0x1ef05c['fontSize']!==void(0x1108+-0x60*0x11+-0x155*0x8)&&(_0x35568d['fontSize']=_0x1ef05c['fontSize'],_0x1ef05c['lineHeight']||(_0x35568d['lineHeight']=_0x1ef05c['fontSize'])),_0x1ef05c['lineHeight']!==void(-0xfd4+0xfbb*0x1+0x19)&&(_0x35568d['lineHeight']=_0x1ef05c['lineHeight']),_0x1ef05c['maxLines']!==void(0xb*0x22f+-0x2aa+-0x155b)&&(_0x35568d['maxLines']=_0x1ef05c['maxLines']),_0x1ef05c['wrapLines']!==void(-0x1e07*0x1+0x1784+0x683)&&(_0x35568d['wrapLines']=_0x1ef05c['wrapLines']),_0x1ef05c['minFontSiz'+'e']!==void(-0xf68+-0x24cf+0x1*0x3437)&&(_0x35568d['minFontSiz'+'e']=_0x1ef05c['minFontSiz'+'e']),_0x1ef05c['maxFontSiz'+'e']!==void(0x3*0x899+0x66c*-0x3+-0x687)&&(_0x35568d['maxFontSiz'+'e']=_0x1ef05c['maxFontSiz'+'e']),_0x1ef05c['autoFitWid'+'th']&&(_0x35568d['autoFitWid'+'th']=_0x1ef05c['autoFitWid'+'th']),_0x1ef05c['autoFitHei'+'ght']&&(_0x35568d['autoFitHei'+'ght']=_0x1ef05c['autoFitHei'+'ght']),_0x1ef05c['fontAsset']!==void(0xb82+0xeae+-0x1a30)&&(_0x35568d['fontAsset']=_0x1ef05c['fontAsset']),_0x1ef05c['font']!==void(0x3*-0x72f+0x773+0xe1a)&&(_0x35568d['font']=_0x1ef05c['font']),_0x1ef05c['alignment']!==void(-0x2*-0x530+-0x255c+0x274*0xb)&&(_0x35568d['alignment']=_0x1ef05c['alignment']),_0x1ef05c['outlineCol'+'or']!==void(0xb59*0x2+0x1b76+-0x3228)&&(_0x35568d['outlineCol'+'or']=_0x1ef05c['outlineCol'+'or']),_0x1ef05c['outlineThi'+'ckness']!==void(0x788*0x2+0x1*-0x14e9+-0x1f3*-0x3)&&(_0x35568d['outlineThi'+'ckness']=_0x1ef05c['outlineThi'+'ckness']),_0x1ef05c['shadowColo'+'r']!==void(-0x21c7+0x173f+0x1*0xa88)&&(_0x35568d['shadowColo'+'r']=_0x1ef05c['shadowColo'+'r']),_0x1ef05c['shadowOffs'+'et']!==void(0x476*0x7+0x2689+0x1*-0x45c3)&&(_0x35568d['shadowOffs'+'et']=_0x1ef05c['shadowOffs'+'et']),_0x1ef05c['enableMark'+'up']!==void(-0x1599+-0x13b6+0x294f)&&(_0x35568d['enableMark'+'up']=_0x1ef05c['enableMark'+'up']));const _0x2759f5=_0x35568d['_parseUpTo'+'Screen']();_0x2759f5['screen']&&_0x35568d['_updateScr'+'een'](_0x2759f5['screen']),super['initialize'+'ComponentD'+'ata'](_0x35568d,_0x1ef05c,_0x11c5da),_0x35568d['_beingInit'+'ialized']=!(-0x2115+-0x1f40+-0x202b*-0x2),_0x35568d['type']===rf&&_0x35568d['_image']['_meshDirty']&&_0x35568d['_image']['_updateMes'+'h'](_0x35568d['_image']['mesh']);}['onAddCompo'+'nent'](_0x3ed17d,_0x4359fe){_0x3ed17d['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x2ddf3e,_0x413de7){_0x413de7['onRemove']();}['cloneCompo'+'nent'](_0xb1014d,_0x15fa7b){const _0x40f9e4=_0xb1014d['element'],_0x1b9d65={'enabled':_0x40f9e4['enabled'],'width':_0x40f9e4['width'],'height':_0x40f9e4['height'],'anchor':_0x40f9e4['anchor']['clone'](),'pivot':_0x40f9e4['pivot']['clone'](),'margin':_0x40f9e4['margin']['clone'](),'alignment':_0x40f9e4['alignment']&&_0x40f9e4['alignment']['clone']()||_0x40f9e4['alignment'],'autoWidth':_0x40f9e4['autoWidth'],'autoHeight':_0x40f9e4['autoHeight'],'type':_0x40f9e4['type'],'rect':_0x40f9e4['rect']&&_0x40f9e4['rect']['clone']()||_0x40f9e4['rect'],'rtlReorder':_0x40f9e4['rtlReorder'],'unicodeConverter':_0x40f9e4['unicodeCon'+'verter'],'materialAsset':_0x40f9e4['materialAs'+'set'],'material':_0x40f9e4['material'],'color':_0x40f9e4['color']&&_0x40f9e4['color']['clone']()||_0x40f9e4['color'],'opacity':_0x40f9e4['opacity'],'textureAsset':_0x40f9e4['textureAss'+'et'],'texture':_0x40f9e4['texture'],'spriteAsset':_0x40f9e4['spriteAsse'+'t'],'sprite':_0x40f9e4['sprite'],'spriteFrame':_0x40f9e4['spriteFram'+'e'],'pixelsPerUnit':_0x40f9e4['pixelsPerU'+'nit'],'spacing':_0x40f9e4['spacing'],'lineHeight':_0x40f9e4['lineHeight'],'wrapLines':_0x40f9e4['wrapLines'],'layers':_0x40f9e4['layers'],'fontSize':_0x40f9e4['fontSize'],'minFontSize':_0x40f9e4['minFontSiz'+'e'],'maxFontSize':_0x40f9e4['maxFontSiz'+'e'],'autoFitWidth':_0x40f9e4['autoFitWid'+'th'],'autoFitHeight':_0x40f9e4['autoFitHei'+'ght'],'maxLines':_0x40f9e4['maxLines'],'fontAsset':_0x40f9e4['fontAsset'],'font':_0x40f9e4['font'],'useInput':_0x40f9e4['useInput'],'fitMode':_0x40f9e4['fitMode'],'batchGroupId':_0x40f9e4['batchGroup'+'Id'],'mask':_0x40f9e4['mask'],'outlineColor':_0x40f9e4['outlineCol'+'or']&&_0x40f9e4['outlineCol'+'or']['clone']()||_0x40f9e4['outlineCol'+'or'],'outlineThickness':_0x40f9e4['outlineThi'+'ckness'],'shadowColor':_0x40f9e4['shadowColo'+'r']&&_0x40f9e4['shadowColo'+'r']['clone']()||_0x40f9e4['shadowColo'+'r'],'shadowOffset':_0x40f9e4['shadowOffs'+'et']&&_0x40f9e4['shadowOffs'+'et']['clone']()||_0x40f9e4['shadowOffs'+'et'],'enableMarkup':_0x40f9e4['enableMark'+'up']};return _0x40f9e4['key']!==void(-0x9*0x91+-0x1ce0+0x3*0xb53)&&_0x40f9e4['key']!==null?_0x1b9d65['key']=_0x40f9e4['key']:_0x1b9d65['text']=_0x40f9e4['text'],this['addCompone'+'nt'](_0x15fa7b,_0x1b9d65);}['getTextEle'+'mentMateri'+'al'](_0x353c11,_0x30f237,_0x40333b){const _0x5359c7=(_0x353c11&&-0x11*0x245+-0x1f*-0xa0+0x1336)|(_0x30f237&&-0x2510+0xaa+0x2468)|(_0x40333b&&0xee9*0x1+-0x1*0xf21+0x3c);let _0x260648=this['_defaultTe'+'xtMaterial'+'s'][_0x5359c7];if(_0x260648)return _0x260648;let _0x4eaedc='TextMateri'+'al';return _0x260648=new cs(),_0x30f237?(_0x260648['msdfMap']=this['_defaultTe'+'xture'],_0x260648['msdfTextAt'+'tribute']=_0x40333b,_0x260648['emissive']['set'](-0x151+0x4*-0x518+0x15b2,0x7*-0x27d+0x64*-0x3a+-0x26*-0x10e,0x121*0x1b+-0x979+-0x1501)):(_0x4eaedc='Bitmap'+_0x4eaedc,_0x260648['emissive']['set'](-0xc*0xfb+-0xa0c*0x2+0x1*0x1fdd,-0xd14+0x101*-0x13+0x24c*0xe,-0x1e6b+0x1be6+0x286),_0x260648['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x260648['opacityMap']=this['_defaultTe'+'xture'],_0x260648['opacityMap'+'Channel']='a'),_0x353c11&&(_0x4eaedc='ScreenSpac'+'e'+_0x4eaedc,_0x260648['depthTest']=!(-0xd*-0x29f+0x1b83*-0x1+-0x49*0x17)),_0x260648['name']='default'+_0x4eaedc,_0x260648['useLightin'+'g']=!(-0x19f*0x1+-0x49*0x68+0x1f48),_0x260648['useTonemap']=!(-0x8f*-0x15+0xf1b+-0x1ad5),_0x260648['useFog']=!(-0x1*-0x258f+0x907+-0xf*0x31b),_0x260648['useSkybox']=!(0x2*0x6ee+0x1*0x979+-0x1*0x1754),_0x260648['diffuse']['set'](0x66*-0x10+-0xc3b*0x1+0x129b*0x1,-0x1bdb+0xad4+-0x1*-0x1107,0xc00+-0xa*0x44+-0x1a*0x5c),_0x260648['opacity']=0xf72+0x3*-0x845+0x95d+0.5,_0x260648['blendType']=hr,_0x260648['depthWrite']=!(-0x2689+0x1b13*0x1+0xb77),_0x260648['emissiveVe'+'rtexColor']=!(0x545+-0x150a+-0x1*-0xfc5),_0x260648['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x5359c7]=_0x260648,_0x260648;}['_createBas'+'eImageMate'+'rial'](){const _0x5a4c05=new cs();return _0x5a4c05['diffuse']['set'](-0x312+0x10d5+0x1*-0xdc3,0x44f*0x7+-0x2431+0x608,0x5f6*0x4+-0x1860+0x88),_0x5a4c05['emissive']['set'](0x3*0x8bf+0x1889*0x1+0x13d*-0x29,-0x19d*-0xc+-0x1862*0x1+-0x63*-0xd,0x8f2+0x1e43+-0x2734),_0x5a4c05['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x5a4c05['opacityMap']=this['_defaultTe'+'xture'],_0x5a4c05['opacityMap'+'Channel']='a',_0x5a4c05['useLightin'+'g']=!(-0xacb+0x123*-0x1+0x2f*0x41),_0x5a4c05['useTonemap']=!(-0xec6+-0x24ec+-0xa57*-0x5),_0x5a4c05['useFog']=!(0x11ed+0x16af+-0x289b),_0x5a4c05['useSkybox']=!(-0x85*-0x47+0x16d1+-0x3bb3),_0x5a4c05['blendType']=hr,_0x5a4c05['depthWrite']=!(0xa21+-0x1349*-0x1+-0x1d69),_0x5a4c05;}['getImageEl'+'ementMater'+'ial'](_0x41d9fe,_0x1a553b,_0x427a9f,_0x3a4164){return _0x41d9fe?_0x1a553b?_0x427a9f?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x2665+-0x1*0x1006+-0x165e),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x1*0x1fc+-0xaa1+-0x2e2*-0x3,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x83*0x26+0x6c*0x40+-0x78d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x198e+-0xf6a+-0xa23),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x12cc+-0x8*-0x2d7+-0x3eb),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0xaa4+0x1*0x22f9+-0x2d9c),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x3a4164?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x8e0+-0x23cc+-0x3d*-0x71),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x42*-0x18+-0x1d5+-0x45a,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0xa65*-0x3+0x24*0x3c+0x16c0),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x13c*-0x10+-0x16b0+0x2f1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x7*0x153+-0x265e+0x2*0x17d2),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x1018+-0x51b*-0x5+-0x14cf*0x2),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x3*0xbb5+0x153c+-0x1*-0xde4),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0x3*0x7c7+0x166f*0x1+0xe7,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0xd*-0x8e+-0x16d*-0x3+0x2f0),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0x1*-0x21be+-0x18c3+-0x8fa),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x4*0x34f+0x7a7*0x1+-0xa2*0x21),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x2c5*-0x1+0xd56+0xd*-0xd0),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x427a9f?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x218b+-0x224b+-0x1*-0xc1),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x3a4164?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x37b+0xc1*0x3+0x139),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x4*0x97+0x1369*0x1+0x4*-0x443),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x1a553b?_0x427a9f?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x1481+0x5*0x3b+-0x15a7,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x3*-0x683+0x154a+0xd1*-0x32),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x12f7+0x8cd*-0x3+-0x17d*-0x5),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x9cc+-0x1d11+0x1346),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0xcfb+-0x1882+0x52*0x24),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x3a4164?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x2*-0x736+-0x1fd*0xb+-0x4*-0x1dd,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x23b7+-0x223+-0x2193),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x13a9+-0x923*-0x4+-0x1*0x10e2),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x184*-0x10+0x13*0x1c9+-0x9aa),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x2e*-0x95+-0xae3+-0xfe2),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x1*0x20d3+0x1b61+-0x3c33,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x17f6+0x1562+-0x49*0x9f),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0xd64*-0x2+0x184*0x4+-0x20d7),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x293+-0xd*0x1a0+0x128e),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0x1849+-0x3*-0xbbb+-0xae7),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x427a9f?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x3a4164?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x13ee52){this['_unicodeCo'+'nverter']=_0x13ee52;}['registerRt'+'lReorder'](_0x1a4ba4){this['_rtlReorde'+'r']=_0x1a4ba4;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x3ea004,_0x151519){super(_0x3ea004,_0x151519),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x1ebc+0x225c+0x8*-0x74),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new $(-0x1*-0x955+0xe*0x138+-0x1a65,0xf1*0x17+0x96*0x19+-0x244d*0x1),this['_linearSpr'+'ingX']=!(-0xaca+0x1*0x24b9+0xcf7*-0x2),this['_linearSti'+'ffnessX']=-0x14ee+0xc2*-0x2d+0x3708,this['_linearDam'+'pingX']=0x67*0x5e+0x1981*0x1+-0x1*0x3f52,this['_linearEqu'+'ilibriumX']=-0x1148+0x1*0x15c7+-0x1*0x47f,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new $(0x204*-0x2+0x1751*-0x1+0x1b59*0x1,0x210e+-0x235f+0x251),this['_linearSpr'+'ingY']=!(0x1f4b+-0xd83+0x11c7*-0x1),this['_linearSti'+'ffnessY']=0x1*0x125e+-0x157*-0x18+-0x3286,this['_linearDam'+'pingY']=0x223*0x1+0x2e3+-0x505,this['_linearEqu'+'ilibriumY']=0x1ae*-0x7+0x2100+0x1*-0x153e,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new $(-0x1471*-0x1+-0x2*0xa57+-0x1*-0x3d,-0x21fe+-0x1*-0x515+0x1ce9),this['_linearSpr'+'ingZ']=!(-0x114f*0x1+-0x2a3*0x5+0x1e7f),this['_linearSti'+'ffnessZ']=-0x71*0x3d+0x78f+0x2*0x9af,this['_linearDam'+'pingZ']=0x267a+-0x153*-0x13+-0x3fa2,this['_linearEqu'+'ilibriumZ']=0x2*0xb15+0xc15*0x3+-0x3a69*0x1,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new $(-0x3*-0x80f+-0x205f+0x1*0x832,-0xb*0x149+0x11c5*0x1+0xf*-0x3e),this['_angularSp'+'ringX']=!(-0x79*-0x2f+0x22ea+0x10*-0x392),this['_angularSt'+'iffnessX']=0x1*-0xdca+-0xf*0x215+0x2d05,this['_angularDa'+'mpingX']=0xc0c*-0x1+-0x70d+-0x1e*-0xa3,this['_angularEq'+'uilibriumX']=0x7*-0x3c7+-0x1db*-0x8+0xb99*0x1,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new $(-0x7*0x307+0xc7*0x2+0xb*0x1c9,0x27*-0x71+0x131d+-0x1e6),this['_angularSp'+'ringY']=!(0x1*0xfb+-0x19eb+0x18f1),this['_angularSt'+'iffnessY']=0x26db+0x2110*0x1+-0x47eb,this['_angularDa'+'mpingY']=0x2f6+-0x22e8*0x1+0x1*0x1ff3,this['_angularEq'+'uilibriumY']=0x2*0xa04+-0x1*0xe39+0x1*-0x5cf,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new $(0x92+-0x669+0x5d7,-0x1277+0x32*-0xa6+0x745*0x7),this['_angularSp'+'ringZ']=!(0xc5b+-0x1846+-0x5f6*-0x2),this['_angularEq'+'uilibriumZ']=-0xff7+-0x4*-0x47+-0xedb*-0x1,this['_angularDa'+'mpingZ']=0x184b+-0x4ad*-0x1+0x1cf7*-0x1,this['_angularSt'+'iffnessZ']=0x1280+0x3*-0x8cc+0x7e4,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x477436){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x477436,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x5c52c7){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x5c52c7,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x3443ac){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x3443ac&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x3443ac),this['_breakForc'+'e']=_0x3443ac);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x35ff8b){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x35ff8b,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x514ee4){this['_angularLi'+'mitsX']['equals'](_0x514ee4)||(this['_angularLi'+'mitsX']['copy'](_0x514ee4),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x1c7e8e){this['_angularMo'+'tionX']!==_0x1c7e8e&&(this['_angularMo'+'tionX']=_0x1c7e8e,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x18f595){this['_angularLi'+'mitsY']['equals'](_0x18f595)||(this['_angularLi'+'mitsY']['copy'](_0x18f595),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x31d389){this['_angularMo'+'tionY']!==_0x31d389&&(this['_angularMo'+'tionY']=_0x31d389,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x15ff9d){this['_angularLi'+'mitsZ']['equals'](_0x15ff9d)||(this['_angularLi'+'mitsZ']['copy'](_0x15ff9d),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x578a85){this['_angularMo'+'tionZ']!==_0x578a85&&(this['_angularMo'+'tionZ']=_0x578a85,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x34011e){this['_linearLim'+'itsX']['equals'](_0x34011e)||(this['_linearLim'+'itsX']['copy'](_0x34011e),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x1670b2){this['_linearMot'+'ionX']!==_0x1670b2&&(this['_linearMot'+'ionX']=_0x1670b2,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x3b5f71){this['_linearLim'+'itsY']['equals'](_0x3b5f71)||(this['_linearLim'+'itsY']['copy'](_0x3b5f71),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x26d57a){this['_linearMot'+'ionY']!==_0x26d57a&&(this['_linearMot'+'ionY']=_0x26d57a,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x29a6a1){this['_linearLim'+'itsZ']['equals'](_0x29a6a1)||(this['_linearLim'+'itsZ']['copy'](_0x29a6a1),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x4b1db8){this['_linearMot'+'ionZ']!==_0x4b1db8&&(this['_linearMot'+'ionZ']=_0x4b1db8,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x3bef34,_0x4744fc){const _0x2abe36=_0x3bef34['getTransla'+'tion'](),_0x4b2000=new se();_0x4b2000['setFromMat'+'4'](_0x3bef34);const _0x53e9e4=new Ammo['btVector3'](_0x2abe36['x'],_0x2abe36['y'],_0x2abe36['z']),_0x409ecc=new Ammo['btQuaterni'+'on'](_0x4b2000['x'],_0x4b2000['y'],_0x4b2000['z'],_0x4b2000['w']);_0x4744fc['setOrigin'](_0x53e9e4),_0x4744fc['setRotatio'+'n'](_0x409ecc),Ammo['destroy'](_0x53e9e4),Ammo['destroy'](_0x409ecc);}['_updateAng'+'ularLimits'](){const _0x284db2=this['_constrain'+'t'];if(_0x284db2){let _0x2ef990,_0x217f77,_0x18c2ac,_0x287ef7,_0x158282,_0x34b579;this['_angularMo'+'tionX']===Vn?(_0x2ef990=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0x287ef7=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x2ef990=-0xa73+0x1ef7*0x1+-0x1483*0x1,_0x287ef7=-0x1afe+0x9*-0x1c7+0x2afd):_0x2ef990=_0x287ef7=-0x2*-0xd64+-0x214f+-0x22d*-0x3,this['_angularMo'+'tionY']===Vn?(_0x217f77=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x158282=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x217f77=-0x3b0+-0x1d65+-0x2116*-0x1,_0x158282=-0x1174+-0xa8*-0x7+0xcdc):_0x217f77=_0x158282=0x93f+-0x15b9+0x1*0xc7a,this['_angularMo'+'tionZ']===Vn?(_0x18c2ac=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x34b579=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x18c2ac=0x71e*-0x2+0x25a2+0x1765*-0x1,_0x34b579=0x191d*-0x1+0x408+0x1515):_0x18c2ac=_0x34b579=0x356*0x1+-0x954+0x5fe;const _0x58d861=new Ammo['btVector3'](_0x2ef990,_0x217f77,_0x18c2ac);_0x284db2['setAngular'+'LowerLimit'](_0x58d861),_0x58d861['setValue'](_0x287ef7,_0x158282,_0x34b579),_0x284db2['setAngular'+'UpperLimit'](_0x58d861),Ammo['destroy'](_0x58d861);}}['_updateLin'+'earLimits'](){const _0xe76746=this['_constrain'+'t'];if(_0xe76746){let _0x25133f,_0x595d0d,_0x38e593,_0x3a58d1,_0x3ca278,_0x387d13;this['_linearMot'+'ionX']===Vn?(_0x25133f=this['_linearLim'+'itsX']['x'],_0x3a58d1=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0x25133f=-0x1016+0x7de+-0x5*-0x1a5,_0x3a58d1=0x840+0x1009+-0x1849):_0x25133f=_0x3a58d1=0xfa1*-0x1+-0x1c8a+-0x1*-0x2c2b,this['_linearMot'+'ionY']===Vn?(_0x595d0d=this['_linearLim'+'itsY']['x'],_0x3ca278=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x595d0d=-0x168b+0x1*-0x79b+-0x53*-0x5d,_0x3ca278=0x2408+0xf2*0x16+0x1*-0x38d4):_0x595d0d=_0x3ca278=-0x1a78+0x2*0x78b+0xb62,this['_linearMot'+'ionZ']===Vn?(_0x38e593=this['_linearLim'+'itsZ']['x'],_0x387d13=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x38e593=-0x1335+-0x83*-0x3b+-0x3a9*0x3,_0x387d13=-0x3*0x787+-0x1fd4+0x3669):_0x38e593=_0x387d13=-0x1*-0x2402+-0x1*0x197f+-0xa83;const _0x68d7ab=new Ammo['btVector3'](_0x25133f,_0x595d0d,_0x38e593);_0xe76746['setLinearL'+'owerLimit'](_0x68d7ab),_0x68d7ab['setValue'](_0x3a58d1,_0x3ca278,_0x387d13),_0xe76746['setLinearU'+'pperLimit'](_0x68d7ab),Ammo['destroy'](_0x68d7ab);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x14de18=new q(),_0x55f21a=this['_entityA']['rigidbody']['body'];_0x55f21a['activate']();const _0x2d8008=this['entity']['getWorldTr'+'ansform'](),_0xdc4005=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x14de18['mul2'](_0xdc4005,_0x2d8008);const _0x288044=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x14de18,_0x288044),this['_entityB']&&this['_entityB']['rigidbody']){const _0x2fa743=this['_entityB']['rigidbody']['body'];_0x2fa743['activate']();const _0x42612c=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x14de18['mul2'](_0x42612c,_0x2d8008);const _0x522975=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x14de18,_0x522975),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x55f21a,_0x2fa743,_0x288044,_0x522975,!this['_enableCol'+'lision']),Ammo['destroy'](_0x522975);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x55f21a,_0x288044,!this['_enableCol'+'lision']);Ammo['destroy'](_0x288044);const _0x4b48a0=['X','Y','Z','X','Y','Z'];for(let _0x896bab=-0x1bc8+-0x7ca+0x2392;_0x896bab<-0x1*0x2045+-0x223f+0x428a;_0x896bab++){const _0xefda5a=_0x896bab<-0x9a3*0x1+-0x9*0x2f5+0x2443?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x896bab,this[_0xefda5a+'Spring'+_0x4b48a0[_0x896bab]]),this['_constrain'+'t']['setDamping'](_0x896bab,this[_0xefda5a+'Damping'+_0x4b48a0[_0x896bab]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x896bab,this[_0xefda5a+('Equilibriu'+'m')+_0x4b48a0[_0x896bab]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x896bab,this[_0xefda5a+'Stiffness'+_0x4b48a0[_0x896bab]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x5ae8b3){for(const _0x45e92d of UR)_0x5ae8b3['hasOwnProp'+'erty'](_0x45e92d)&&(_0x5ae8b3[_0x45e92d]instanceof $?this['_'+_0x45e92d]['copy'](_0x5ae8b3[_0x45e92d]):this['_'+_0x45e92d]=_0x5ae8b3[_0x45e92d]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x5acbb1,_0x10fb9c,_0xa4b40a){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x3a41bb=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x50ce4f=>{['X','Y','Z']['forEach'](_0x4c5bec=>{const _0x39bf97=_0x3a41bb+_0x50ce4f+_0x4c5bec,_0x2d428c='_'+_0x39bf97;let _0x1b6c0f=_0x3a41bb==='linear'?-0x17*-0x2a+0xc0f+-0x243*0x7:0x1aa7+-0xcc0+-0xde4;_0x4c5bec==='Y'&&(_0x1b6c0f+=-0x2470+0x1e52+0x61f),_0x4c5bec==='Z'&&(_0x1b6c0f+=0x2129*-0x1+0x2*0xab7+-0x1*-0xbbd),Object['defineProp'+'erty'](Up['prototype'],_0x39bf97,{'get':function(){return this[_0x2d428c];},'set':function(_0x3459e6){this[_0x2d428c]!==_0x3459e6&&(this[_0x2d428c]=_0x3459e6,this['_constrain'+'t'][VR[_0x50ce4f]](_0x1b6c0f,_0x3459e6));}});});});});class GR{constructor(){this['enabled']=!(-0x184b+-0x1be9+0x3434);}}const uf=['enabled'];class HR extends Xe{constructor(_0x4ecef1){super(_0x4ecef1),this['id']='joint',this['app']=_0x4ecef1,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0x30b5c0,_0x2b6d81,_0x47db9f){_0x30b5c0['initFromDa'+'ta'](_0x2b6d81),super['initialize'+'ComponentD'+'ata'](_0x30b5c0,_0x2b6d81,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',-0x178c+0x1409+-0x1*-0x383),c(this,'_minHeight',0x1*-0x1b57+-0x235e+0x3eb5),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',-0xa0*0x14+0x1d0a*-0x1+0x298a),c(this,'_fitHeight'+'Proportion',-0x10e9+0x27*-0x9b+0x2886),c(this,'_excludeFr'+'omLayout',!(0xce3*-0x1+0x1972*0x1+-0xc8e));}set['minWidth'](_0x5e2a9c){_0x5e2a9c!==this['_minWidth']&&(this['_minWidth']=_0x5e2a9c,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x3d83ba){_0x3d83ba!==this['_minHeight']&&(this['_minHeight']=_0x3d83ba,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x440230){_0x440230!==this['_maxWidth']&&(this['_maxWidth']=_0x440230,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x382a0c){_0x382a0c!==this['_maxHeight']&&(this['_maxHeight']=_0x382a0c,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x2317dd){_0x2317dd!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x2317dd,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x12cb6e){_0x12cb6e!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x12cb6e,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x635a5){_0x635a5!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x635a5,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class $R{constructor(){this['enabled']=!(0x1*-0x22af+-0x8*-0x4+0x228f);}}const ax=['enabled'];class WR extends Xe{constructor(_0x2ef941){super(_0x2ef941),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=$R,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x1d808a,_0x33d385,_0x195974){_0x33d385['enabled']!==void(-0x28c+0x2682+-0x23f6)&&(_0x1d808a['enabled']=_0x33d385['enabled']),_0x33d385['minWidth']!==void(0x8*-0xf8+0x79a*0x1+-0x26*-0x1)&&(_0x1d808a['minWidth']=_0x33d385['minWidth']),_0x33d385['minHeight']!==void(-0xcfb*0x1+0x1241+-0x546)&&(_0x1d808a['minHeight']=_0x33d385['minHeight']),_0x33d385['maxWidth']!==void(-0x4*-0xb8+0x9b1+-0x1*0xc91)&&(_0x1d808a['maxWidth']=_0x33d385['maxWidth']),_0x33d385['maxHeight']!==void(0x20ad+0xcbb+-0x2d68)&&(_0x1d808a['maxHeight']=_0x33d385['maxHeight']),_0x33d385['fitWidthPr'+'oportion']!==void(0x2309*0x1+-0x2*-0xa46+0x3795*-0x1)&&(_0x1d808a['fitWidthPr'+'oportion']=_0x33d385['fitWidthPr'+'oportion']),_0x33d385['fitHeightP'+'roportion']!==void(0x1e7*-0x5+0x1f*0xfb+0xf3*-0x16)&&(_0x1d808a['fitHeightP'+'roportion']=_0x33d385['fitHeightP'+'roportion']),_0x33d385['excludeFro'+'mLayout']!==void(-0x1b63+0x1b0c+0x57)&&(_0x1d808a['excludeFro'+'mLayout']=_0x33d385['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x1d808a,_0x33d385,_0x195974);}['cloneCompo'+'nent'](_0x1f6bcf,_0x4ee54e){const _0x2e12c1=_0x1f6bcf['layoutchil'+'d'];return this['addCompone'+'nt'](_0x4ee54e,{'enabled':_0x2e12c1['enabled'],'minWidth':_0x2e12c1['minWidth'],'minHeight':_0x2e12c1['minHeight'],'maxWidth':_0x2e12c1['maxWidth'],'maxHeight':_0x2e12c1['maxHeight'],'fitWidthProportion':_0x2e12c1['fitWidthPr'+'oportion'],'fitHeightProportion':_0x2e12c1['fitHeightP'+'roportion'],'excludeFromLayout':_0x2e12c1['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=-0x25c0+0x47d+0x2143,qR=0xe19+0x12a2+0x8e*-0x3b,gg=0x137*-0x16+0xe7d*0x1+0x273*0x5,XR=-0x16cd+0x7f6*-0x1+0xa42*0x3,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new $();function ox(_0x361e75){let _0x3429e8;const _0x538b97=Zh[_0x361e75],_0x245251=Zh[Vp[_0x361e75]];function _0x3b973c(_0x5324a4,_0x9ce215){return-_0x9ce215[_0x538b97['size']]*_0x5324a4['pivot'][_0x538b97['axis']];}function _0x40ff0a(_0x56d1a8,_0xe2e2a){return-_0xe2e2a[_0x245251['size']]*_0x56d1a8['pivot'][_0x245251['axis']];}function _0x17ca26(_0x567d74,_0x4c82c1){return _0x4c82c1[_0x538b97['size']]*(-0x1e79+-0x3*-0x1c9+0x1*0x191f-_0x567d74['pivot'][_0x538b97['axis']]);}function _0x2d4cd9(_0x19e8a3,_0x575064){_0x19e8a3=_0x19e8a3['filter'](_0x17dae9),_0x3429e8=_0x575064,Ut['x']=_0x3429e8['containerS'+'ize']['x']-_0x3429e8['padding']['x']-_0x3429e8['padding']['z'],Ut['y']=_0x3429e8['containerS'+'ize']['y']-_0x3429e8['padding']['y']-_0x3429e8['padding']['w'],_0x5c3f97(_0x19e8a3);const _0x4e4bec=_0x458a8d(_0x3b20e1(_0x19e8a3)),_0x134698=_0x56eff5(_0x4e4bec,_0x36a13b(_0x4e4bec)),_0x1130d7=_0x368e76(_0x4e4bec,_0x134698);return _0x34bfb9(_0x4e4bec,_0x134698,_0x1130d7),_0x1a0b32(_0x4e4bec,_0x134698,_0x1130d7),_0x41e1ce(_0x4e4bec);}function _0x17dae9(_0x57e2f9){const _0x3fda90=_0x57e2f9['entity']['layoutchil'+'d'];return!_0x3fda90||!_0x3fda90['enabled']||!_0x3fda90['excludeFro'+'mLayout'];}function _0x5c3f97(_0x4ec3b0){for(let _0x23f7e6=0x215c+0x86b+0x73*-0x5d;_0x23f7e6<_0x4ec3b0['length'];++_0x23f7e6){const _0x80be66=_0x4ec3b0[_0x23f7e6],_0x23f405=_0x80be66['anchor'];(_0x23f405['x']!==-0x1*-0xe9b+0x21f2+0x308d*-0x1||_0x23f405['y']!==0x29*-0x97+0x1f70+-0x3*0x26b||_0x23f405['z']!==0x1232+-0x2f3+-0xf3f*0x1||_0x23f405['w']!==0xc3a+0x34*-0x47+0x119*0x2)&&(_0x80be66['anchor']=Q['ZERO']);}}function _0x3b20e1(_0x11abe0){if(!_0x3429e8['wrap'])return[_0x11abe0];const _0x1f4b9c=[[]],_0x2a0d91=_0x30e8d9(_0x11abe0);let _0x322b4a=0x95*-0x3b+-0x2362+0x45b9;const _0x1679fc=_0x3429e8[_0x538b97['fitting']]===gg;for(let _0x52b229=-0x628+0x557*-0x6+-0x2*-0x1319;_0x52b229<_0x11abe0['length'];++_0x52b229){_0x1f4b9c[_0x1f4b9c['length']-(0x23f8+0x20*-0xf9+-0x1*0x4d7)]['length']>-0xe16+0x18e1+-0xacb&&(_0x322b4a+=_0x3429e8['spacing'][_0x538b97['axis']]);const _0x212e33=_0x2a0d91[_0x52b229][_0x538b97['size']];_0x322b4a+=_0x212e33,!_0x1679fc&&_0x322b4a>Ut[_0x538b97['axis']]&&_0x1f4b9c[_0x1f4b9c['length']-(0x4*-0x81b+0x2cb+0x1da2)]['length']!==-0x10c3+0x1440+-0x37d&&(_0x322b4a=_0x212e33,_0x1f4b9c['push']([])),_0x1f4b9c[_0x1f4b9c['length']-(0x211a+-0x18f5*0x1+-0x824)]['push'](_0x11abe0[_0x52b229]),_0x1679fc&&_0x322b4a>Ut[_0x538b97['axis']]&&_0x52b229!==_0x11abe0['length']-(0x4d5*-0x2+-0xafd*0x1+-0x14a8*-0x1)&&(_0x322b4a=-0x8*0x3b7+-0x83*-0x1d+0xd*0x125,_0x1f4b9c['push']([]));}return _0x1f4b9c;}function _0x458a8d(_0x2e2329){const _0x173ec5=_0x3429e8['orientatio'+'n']===pe&&_0x3429e8['reverseX']||_0x3429e8['orientatio'+'n']===ke&&_0x3429e8['reverseY'],_0x24e08d=_0x3429e8['orientatio'+'n']===pe&&_0x3429e8['reverseY']||_0x3429e8['orientatio'+'n']===ke&&_0x3429e8['reverseX'];if(_0x173ec5){for(let _0x36e6ea=-0x173*0x15+-0xb1c+0x84f*0x5;_0x36e6ea<_0x2e2329['length'];++_0x36e6ea)_0x173ec5&&_0x2e2329[_0x36e6ea]['reverse']();}return _0x24e08d&&_0x2e2329['reverse'](),_0x2e2329;}function _0x36a13b(_0x44b17e){const _0x467a5c=[];for(let _0x334ca9=0x1189*-0x1+0x5*0x18b+0x9d2*0x1;_0x334ca9<_0x44b17e['length'];++_0x334ca9){const _0x1a6b00=_0x44b17e[_0x334ca9],_0x4e31c5=_0x30e8d9(_0x1a6b00),_0x4904b1=_0x34f90c(_0x4e31c5,_0x538b97),_0x3f4044=_0x15e9d0(_0x3429e8[_0x538b97['fitting']],_0x4904b1,Ut[_0x538b97['axis']]);_0x3f4044===zt['APPLY_STRE'+'TCHING']?_0x17e023(_0x4e31c5,_0x4904b1,_0x538b97):_0x3f4044===zt['APPLY_SHRI'+'NKING']&&_0x5c3bac(_0x4e31c5,_0x4904b1,_0x538b97),_0x467a5c['push'](_0x4e31c5);}return _0x467a5c;}function _0x56eff5(_0x3e7d1c,_0x2b1ce0){const _0x1a9af9=[],_0x17be56=[];for(let _0x3dbd37=-0x1795+0x2651+-0xebc;_0x3dbd37<_0x3e7d1c['length'];++_0x3dbd37){const _0x7becc8=_0x3e7d1c[_0x3dbd37];_0x7becc8['largestEle'+'ment']=null,_0x7becc8['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x3ac2ea=0x22a2+0x1fc6+-0x4268;_0x3ac2ea<_0x7becc8['length'];++_0x3ac2ea){const _0x162957=_0x2b1ce0[_0x3dbd37][_0x3ac2ea];_0x162957[_0x245251['size']]>_0x7becc8['largestSiz'+'e'][_0x245251['size']]&&(_0x7becc8['largestEle'+'ment']=_0x7becc8[_0x3ac2ea],_0x7becc8['largestSiz'+'e']=_0x162957);}_0x1a9af9['push'](_0x7becc8['largestEle'+'ment']),_0x17be56['push'](_0x7becc8['largestSiz'+'e']);}const _0x4134bf=_0x34f90c(_0x17be56,_0x245251),_0x24dc3d=_0x15e9d0(_0x3429e8[_0x245251['fitting']],_0x4134bf,Ut[_0x245251['axis']]);_0x24dc3d===zt['APPLY_STRE'+'TCHING']?_0x17e023(_0x17be56,_0x4134bf,_0x245251):_0x24dc3d===zt['APPLY_SHRI'+'NKING']&&_0x5c3bac(_0x17be56,_0x4134bf,_0x245251);for(let _0x1fdf48=-0x1f9d+0x6f1*-0x1+0x268e;_0x1fdf48<_0x3e7d1c['length'];++_0x1fdf48){const _0x419d3c=_0x3e7d1c[_0x1fdf48];for(let _0x5b78b8=-0x2*-0xbb9+0x1a06+0x2*-0x18bc;_0x5b78b8<_0x419d3c['length'];++_0x5b78b8){const _0x2f5fd5=_0x2b1ce0[_0x1fdf48][_0x5b78b8],_0x5947e4=_0x2f5fd5[_0x245251['size']],_0x2deb8f=_0x3e7d1c['length']===-0x246d+0xe0a+0x1664?Ut[_0x245251['axis']]:_0x419d3c['largestSiz'+'e'][_0x245251['size']],_0xe7c1d5=_0x15e9d0(_0x3429e8[_0x245251['fitting']],_0x5947e4,_0x2deb8f);_0xe7c1d5===zt['APPLY_STRE'+'TCHING']?_0x2f5fd5[_0x245251['size']]=Math['min'](_0x2deb8f,_0x2f5fd5[_0x245251['maxSize']]):_0xe7c1d5===zt['APPLY_SHRI'+'NKING']&&(_0x2f5fd5[_0x245251['size']]=Math['max'](_0x2deb8f,_0x2f5fd5[_0x245251['minSize']]));}}return _0x2b1ce0;}function _0x15e9d0(_0x1601b6,_0x2cc1bc,_0x2a418b){switch(_0x1601b6){case ff:return zt['NONE'];case qR:return _0x2cc1bc<_0x2a418b?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x2cc1bc>=_0x2a418b?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x2cc1bc<_0x2a418b?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x1601b6);}}function _0x34f90c(_0x4642bf,_0x392614){const _0x1bab63=_0x40a51e(_0x4642bf,_0x392614['size']),_0x2149cb=(_0x4642bf['length']-(0x3*-0x9c7+0x3ad*0x1+0x19a9))*_0x3429e8['spacing'][_0x392614['axis']];return _0x1bab63+_0x2149cb;}function _0x17e023(_0x2f197e,_0x3cc8a2,_0x599299){const _0x516adf=_0x5579a3(_0x2f197e,_0x599299['maxSize']),_0x2e080f=_0x57cd96(_0x2f197e,_0x599299['fittingPro'+'portion']),_0x320cab=_0x1b3b0b(_0x2e080f,_0x516adf);let _0x5186fa=Ut[_0x599299['axis']]-_0x3cc8a2;for(let _0xc09c8a=-0xa81*0x2+0x1b*0xf1+-0x469;_0xc09c8a<_0x2f197e['length'];++_0xc09c8a){const _0x132ebb=_0x516adf[_0xc09c8a],_0x1e85af=_0x10d214(_0x132ebb,_0x5186fa,_0x2e080f,_0x320cab),_0x53eca6=_0x2f197e[_0x132ebb][_0x599299['size']]+_0x1e85af,_0x5c87eb=_0x2f197e[_0x132ebb][_0x599299['maxSize']],_0x2f93cc=Math['min'](_0x53eca6,_0x5c87eb);_0x2f197e[_0x132ebb][_0x599299['size']]=_0x2f93cc;const _0x109744=Math['max'](_0x53eca6-_0x2f93cc,-0x1b4c+-0xd7e+0x28ca),_0x3228e5=_0x1e85af-_0x109744;_0x5186fa-=_0x3228e5;}}function _0x5c3bac(_0x4557a3,_0x17fc4b,_0x428b37){const _0x330bc2=_0x5579a3(_0x4557a3,_0x428b37['minSize'],!(0x1438+-0x6*0x562+-0x305*-0x4)),_0x5df7e2=_0x57cd96(_0x4557a3,_0x428b37['fittingPro'+'portion']),_0x5340e1=_0x2d40bd(_0x5df7e2),_0x591ace=_0x1b3b0b(_0x5340e1,_0x330bc2);let _0x5e17d3=_0x17fc4b-Ut[_0x428b37['axis']];for(let _0xc6323c=-0x1cdb+0xd72+-0x3*-0x523;_0xc6323c<_0x4557a3['length'];++_0xc6323c){const _0x411c55=_0x330bc2[_0xc6323c],_0x33b38c=_0x10d214(_0x411c55,_0x5e17d3,_0x5340e1,_0x591ace),_0x943693=_0x4557a3[_0x411c55][_0x428b37['size']]-_0x33b38c,_0x58ed20=_0x4557a3[_0x411c55][_0x428b37['minSize']],_0x32c139=Math['max'](_0x943693,_0x58ed20);_0x4557a3[_0x411c55][_0x428b37['size']]=_0x32c139;const _0x54d0a0=Math['max'](_0x32c139-_0x943693,0x1*0x17cb+-0x143*-0x16+-0x338d),_0x261373=_0x33b38c-_0x54d0a0;_0x5e17d3-=_0x261373;}}function _0x10d214(_0x23218d,_0x1d51fe,_0x4a4483,_0xd12135){const _0x3ea364=_0x4a4483[_0x23218d],_0x5c60bb=_0xd12135[_0x23218d];return Math['abs'](_0x3ea364)<-0x65*-0x4f+0x60*0x40+0x1d*-0x1e7+0.00001&&Math['abs'](_0x5c60bb)<0x67*0x2f+0x2*-0x6a9+-0x597+0.00001?_0x1d51fe:_0x1d51fe*_0x3ea364/_0x5c60bb;}function _0x368e76(_0x4e5c55,_0x173bf4){const _0x1235c1={};_0x1235c1[_0x538b97['axis']]=0x1898*-0x1+0x1aec+-0x12a*0x2,_0x1235c1[_0x245251['axis']]=-0x6a3*-0x4+0xd5f*-0x1+0xd2d*-0x1,_0x4e5c55[_0x538b97['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x3d8a2f=[];for(let _0x2d108c=0x6ff+-0x262f+-0x8*-0x3e6;_0x2d108c<_0x4e5c55['length'];++_0x2d108c){const _0x3010d2=_0x4e5c55[_0x2d108c];if(_0x3010d2['length']===-0xe5*0x4+0x1*-0xb47+-0x1*-0xedb){_0x3d8a2f['push']([]);continue;}const _0x42288c=[],_0x3c34b2=_0x173bf4[_0x2d108c];for(let _0x9b772=0x5*-0x1c6+0xbb1*-0x3+0x2bf1;_0x9b772<_0x3010d2['length'];++_0x9b772){const _0x14cfec=_0x3010d2[_0x9b772],_0x4e28a0=_0x3c34b2[_0x9b772];_0x1235c1[_0x245251['axis']]-=_0x40ff0a(_0x14cfec,_0x4e28a0),_0x1235c1[_0x538b97['axis']]-=_0x3b973c(_0x14cfec,_0x4e28a0),_0x42288c[_0x9b772]={},_0x42288c[_0x9b772][_0x538b97['axis']]=_0x1235c1[_0x538b97['axis']],_0x42288c[_0x9b772][_0x245251['axis']]=_0x1235c1[_0x245251['axis']],_0x1235c1[_0x245251['axis']]+=_0x40ff0a(_0x14cfec,_0x4e28a0),_0x1235c1[_0x538b97['axis']]+=_0x17ca26(_0x14cfec,_0x4e28a0)+_0x3429e8['spacing'][_0x538b97['axis']];}_0x3010d2[_0x538b97['size']]=_0x1235c1[_0x538b97['axis']]-_0x3429e8['spacing'][_0x538b97['axis']],_0x3010d2[_0x245251['size']]=_0x3010d2['largestSiz'+'e'][_0x245251['size']],_0x4e5c55[_0x538b97['size']]=Math['max'](_0x4e5c55[_0x538b97['size']],_0x3010d2[_0x538b97['size']]),_0x1235c1[_0x538b97['axis']]=-0x1*0x235b+-0x1*0x1135+0x3490,_0x1235c1[_0x245251['axis']]+=_0x3010d2[_0x245251['size']]+_0x3429e8['spacing'][_0x245251['axis']],_0x3d8a2f['push'](_0x42288c);}return _0x4e5c55[_0x245251['size']]=_0x1235c1[_0x245251['axis']]-_0x3429e8['spacing'][_0x245251['axis']],_0x3d8a2f;}function _0x34bfb9(_0x550da6,_0x2822e3,_0x31090d){const _0x13b0d8=_0x3429e8['alignment'][_0x538b97['axis']],_0x415eef=_0x3429e8['alignment'][_0x245251['axis']],_0x535be7=_0x3429e8['padding'][_0x538b97['axis']],_0xf6aa3c=_0x3429e8['padding'][_0x245251['axis']];for(let _0x1c29aa=-0x7*0x1d+-0x19fc+0x1ac7;_0x1c29aa<_0x550da6['length'];++_0x1c29aa){const _0x5abc48=_0x550da6[_0x1c29aa],_0x58e3f7=_0x2822e3[_0x1c29aa],_0xec72f8=_0x31090d[_0x1c29aa],_0x534b18=(Ut[_0x538b97['axis']]-_0x5abc48[_0x538b97['size']])*_0x13b0d8+_0x535be7,_0x2db9e9=(Ut[_0x245251['axis']]-_0x550da6[_0x245251['size']])*_0x415eef+_0xf6aa3c;for(let _0x1d8615=-0x902*-0x4+-0x40*0x44+-0xc*0x196;_0x1d8615<_0x5abc48['length'];++_0x1d8615){const _0x22a4cd=(_0x5abc48[_0x245251['size']]-_0x58e3f7[_0x1d8615][_0x245251['size']])*_0x3429e8['alignment'][_0x245251['axis']];_0xec72f8[_0x1d8615][_0x538b97['axis']]+=_0x534b18,_0xec72f8[_0x1d8615][_0x245251['axis']]+=_0x2db9e9+_0x22a4cd;}}}function _0x1a0b32(_0x3337c4,_0x4a9747,_0x1e8b9f){for(let _0x3e54db=-0x1f91*0x1+-0xc*-0x61+0x1b05;_0x3e54db<_0x3337c4['length'];++_0x3e54db){const _0x551967=_0x3337c4[_0x3e54db],_0x14fc7b=_0x4a9747[_0x3e54db],_0x1e5f6b=_0x1e8b9f[_0x3e54db];for(let _0x1ef2f4=-0xd33*0x1+-0x3*0xac5+0x48d*0xa;_0x1ef2f4<_0x551967['length'];++_0x1ef2f4){const _0x161703=_0x551967[_0x1ef2f4];_0x161703[_0x538b97['calculated'+'Size']]=_0x14fc7b[_0x1ef2f4][_0x538b97['size']],_0x161703[_0x245251['calculated'+'Size']]=_0x14fc7b[_0x1ef2f4][_0x245251['size']],_0x3429e8['orientatio'+'n']===pe?_0x161703['entity']['setLocalPo'+'sition'](_0x1e5f6b[_0x1ef2f4][_0x538b97['axis']],_0x1e5f6b[_0x1ef2f4][_0x245251['axis']],_0x161703['entity']['getLocalPo'+'sition']()['z']):_0x161703['entity']['setLocalPo'+'sition'](_0x1e5f6b[_0x1ef2f4][_0x245251['axis']],_0x1e5f6b[_0x1ef2f4][_0x538b97['axis']],_0x161703['entity']['getLocalPo'+'sition']()['z']);}}}function _0x41e1ce(_0x53bb66){const _0x4e2420=_0x53bb66['width'],_0x4245b6=_0x53bb66['height'],_0x30fa50=(Ut['x']-_0x4e2420)*_0x3429e8['alignment']['x']+_0x3429e8['padding']['x'],_0x17c045=(Ut['y']-_0x4245b6)*_0x3429e8['alignment']['y']+_0x3429e8['padding']['y'];return{'bounds':new Q(_0x30fa50,_0x17c045,_0x4e2420,_0x4245b6)};}function _0x30e8d9(_0xf092a2){const _0x45d7e8=[];for(let _0x673f21=0xcbf+-0x359+0x6*-0x191;_0x673f21<_0xf092a2['length'];++_0x673f21){const _0x1343ce=_0xf092a2[_0x673f21],_0xbf45f2=Math['max'](_0x392acc(_0x1343ce,'minWidth'),0x2280+-0x2228+0x16*-0x4),_0x3e1b9e=Math['max'](_0x392acc(_0x1343ce,'minHeight'),-0xcfb+-0x5*0x44d+0x2*0x113e),_0x595895=Math['max'](_0x392acc(_0x1343ce,'maxWidth'),_0xbf45f2),_0x466e5a=Math['max'](_0x392acc(_0x1343ce,'maxHeight'),_0x3e1b9e),_0x3aadf1=_0x4ba427(_0x392acc(_0x1343ce,'width'),_0xbf45f2,_0x595895),_0x381d3c=_0x4ba427(_0x392acc(_0x1343ce,'height'),_0x3e1b9e,_0x466e5a),_0x22c423=_0x392acc(_0x1343ce,'fitWidthPr'+'oportion'),_0x4f15de=_0x392acc(_0x1343ce,'fitHeightP'+'roportion');_0x45d7e8['push']({'minWidth':_0xbf45f2,'minHeight':_0x3e1b9e,'maxWidth':_0x595895,'maxHeight':_0x466e5a,'width':_0x3aadf1,'height':_0x381d3c,'fitWidthProportion':_0x22c423,'fitHeightProportion':_0x4f15de});}return _0x45d7e8;}function _0x392acc(_0x53d9cc,_0x39e28c){const _0x35da11=_0x53d9cc['entity']['layoutchil'+'d'];return _0x35da11&&_0x35da11['enabled']&&_0x35da11[_0x39e28c]!==void(0x3*-0x501+0x18a+-0xd79*-0x1)&&_0x35da11[_0x39e28c]!==null?_0x35da11[_0x39e28c]:_0x53d9cc[_0x39e28c]!==void(-0xd83+-0x1*-0x855+0x52e*0x1)?_0x53d9cc[_0x39e28c]:jR[_0x39e28c];}function _0x4ba427(_0x913f4a,_0x19d077,_0x15b1f5){return Math['min'](Math['max'](_0x913f4a,_0x19d077),_0x15b1f5);}function _0x40a51e(_0x50b3ce,_0x48689b){return _0x50b3ce['reduce']((_0x2d3498,_0x50fd91)=>_0x2d3498+_0x50fd91[_0x48689b],0x551+-0xc1*0x5+0xc*-0x21);}function _0x57cd96(_0x35af37,_0x401e09){const _0x1890e6=_0x40a51e(_0x35af37,_0x401e09),_0x2e7ed1=[],_0x34e1a8=_0x35af37['length'];if(_0x1890e6===0xf*-0x11c+0x1f11+-0xe6d){for(let _0x287c14=-0x1*0x15c1+-0x2063+-0xe*-0x3de;_0x287c14<_0x34e1a8;++_0x287c14)_0x2e7ed1['push']((-0x15b*-0xb+0xa7*-0x7+-0xa57)/_0x34e1a8);}else{for(let _0x2de772=0x5*0x6c1+0x1855+0x3*-0x135e;_0x2de772<_0x34e1a8;++_0x2de772)_0x2e7ed1['push'](_0x35af37[_0x2de772][_0x401e09]/_0x1890e6);}return _0x2e7ed1;}function _0x2d40bd(_0x5ebf28){if(_0x5ebf28['length']===0x1292+0x61e+-0x18af)return[-0xa02+-0x37d*0x3+0x2*0xa3d];const _0x1c78b8=[],_0x17e0a4=_0x5ebf28['length'];for(let _0x88d80=0x23*0x79+0x59*0xf+-0x22d*0xa;_0x88d80<_0x17e0a4;++_0x88d80)_0x1c78b8['push']((-0x1117+-0x694*-0x3+-0x2a4-_0x5ebf28[_0x88d80])/(_0x17e0a4-(-0x2064+0x10ee*-0x1+-0x1071*-0x3)));return _0x1c78b8;}function _0x5579a3(_0x494702,_0x3188ff,_0x130437){return _0x494702['forEach'](_0x5406ac),_0x494702['slice']()['sort']((_0x43c98d,_0x56995e)=>_0x130437?_0x56995e[_0x3188ff]-_0x43c98d[_0x3188ff]:_0x43c98d[_0x3188ff]-_0x56995e[_0x3188ff])['map'](_0x48b185);}function _0x5406ac(_0x4cfa84,_0x4bd834){_0x4cfa84['index']=_0x4bd834;}function _0x48b185(_0x1e64b0){return _0x1e64b0['index'];}function _0x1b3b0b(_0x4f581c,_0x75a915){const _0x50c2f5=[];_0x50c2f5[_0x75a915[_0x4f581c['length']-(0x2*0x8a5+-0x1*-0x1c3c+-0x2d85)]]=_0x4f581c[_0x75a915[_0x4f581c['length']-(0xef6+0x9b9+0x1a*-0xf3)]];for(let _0x11cd44=_0x4f581c['length']-(0x6c*-0x13+0x1*-0x13e3+-0x1*-0x1be9);_0x11cd44>=0x17c5+0xf8e+0x2753*-0x1;--_0x11cd44)_0x50c2f5[_0x75a915[_0x11cd44]]=_0x50c2f5[_0x75a915[_0x11cd44+(-0x1c0b*-0x1+0x167c*-0x1+-0x58e)]]+_0x4f581c[_0x75a915[_0x11cd44]];return _0x50c2f5;}return _0x2d4cd9;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0x3628b1,_0x1b261a){const _0x200660=Gp[_0x1b261a['orientatio'+'n']];if(_0x200660)return _0x200660(_0x3628b1,_0x1b261a);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x1b261a['orientatio'+'n']);}}function yg(_0x4814bc){return _0x4814bc['element'];}function KR(_0x346cd6){return _0x346cd6['enabled']&&_0x346cd6['element']&&_0x346cd6['element']['enabled'];}class lx extends ue{constructor(_0x32c392,_0x47f4cd){super(_0x32c392,_0x47f4cd),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(-0x2468+0x1412+0x1057)),c(this,'_reverseY',!(-0x2040+0x178b+0x8b5)),c(this,'_alignment',new $(0x4f7+-0x1*0xf35+0x45*0x26,-0x16ac*0x1+0x29*0x62+0x6fb)),c(this,'_padding',new Q()),c(this,'_spacing',new $()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(0xb*0x2b9+-0xca3+-0xd3*0x15)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x44b0db=>{this['_listenFor'+'ReflowEven'+'ts'](_0x44b0db,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x32c392['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x32c392['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x32c392['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x32c392['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x32c392['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x32c392['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x12401e){_0x12401e!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x12401e,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x530a11){_0x530a11!==this['_reverseX']&&(this['_reverseX']=_0x530a11,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x32a258){_0x32a258!==this['_reverseY']&&(this['_reverseY']=_0x32a258,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x485a53){_0x485a53['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x485a53),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x4bb3cc){_0x4bb3cc['equals'](this['_padding'])||(this['_padding']['copy'](_0x4bb3cc),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x50bf34){_0x50bf34['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x50bf34),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x15c356){_0x15c356!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x15c356,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x47045f){_0x47045f!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x47045f,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0xc90dd0){_0xc90dd0!==this['_wrap']&&(this['_wrap']=_0xc90dd0,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x363e89){return _0x363e89===this['entity']||this['entity']['children']['indexOf'](_0x363e89)!==-(0x24b6+0x1f46+-0x43fb);}['_listenFor'+'ReflowEven'+'ts'](_0x27ef69,_0x39d9d8){_0x27ef69['element']&&(_0x27ef69['element'][_0x39d9d8]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x27ef69['element'][_0x39d9d8]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x27ef69['element'][_0x39d9d8]('resize',this['_scheduleR'+'eflow'],this),_0x27ef69['element'][_0x39d9d8]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x27ef69['layoutchil'+'d']&&(_0x27ef69['layoutchil'+'d'][_0x39d9d8]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x27ef69['layoutchil'+'d'][_0x39d9d8]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x5cc7c1){this['_isSelfOrC'+'hild'](_0x5cc7c1)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x5cc7c1,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x598548){this['_isSelfOrC'+'hild'](_0x598548)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x598548,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0xd07a5a){this['_listenFor'+'ReflowEven'+'ts'](_0xd07a5a,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x1e8f55){this['_listenFor'+'ReflowEven'+'ts'](_0x1e8f55,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x589c3f=yg(this['entity']),_0x57d36e=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x589c3f||_0x57d36e['length']===-0x2443*0x1+-0x3e*0x53+0x133*0x2f)return;const _0x2d111f=Math['max'](_0x589c3f['calculated'+'Width'],-0xe45*0x2+0x7b*0x47+-0x593),_0x1ca96e=Math['max'](_0x589c3f['calculated'+'Height'],-0xa04+-0x1c5d*-0x1+-0x1259),_0x4b1ff6={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new $(_0x2d111f,_0x1ca96e)};this['_isPerform'+'ingReflow']=!(0x3b9*-0x2+-0x10d9+0x184b*0x1);const _0x3800d4=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x57d36e,_0x4b1ff6);this['_isPerform'+'ingReflow']=!(-0x25c5+-0x1880+0x3e46),this['fire']('reflow',_0x3800d4);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x268ac9=>{this['_listenFor'+'ReflowEven'+'ts'](_0x268ac9,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(0x173+0xad5*-0x3+0x1f0c);}}const hx=['enabled'],QR=-0x259*0x4+0x66*-0x29+0x1a1e;class JR extends Xe{constructor(_0x51fcfa){super(_0x51fcfa),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x2f381c,_0x6201ae,_0x488f01){_0x6201ae['enabled']!==void(-0x10f*0xd+-0x2*-0x2ff+0x7c5)&&(_0x2f381c['enabled']=_0x6201ae['enabled']),_0x6201ae['orientatio'+'n']!==void(-0x2*-0xdff+-0x24*-0x8c+-0x2fae)&&(_0x2f381c['orientatio'+'n']=_0x6201ae['orientatio'+'n']),_0x6201ae['reverseX']!==void(-0xae+0x2f*0xa1+0x1*-0x1ce1)&&(_0x2f381c['reverseX']=_0x6201ae['reverseX']),_0x6201ae['reverseY']!==void(-0x77a+-0x2f6+-0x4*-0x29c)&&(_0x2f381c['reverseY']=_0x6201ae['reverseY']),_0x6201ae['alignment']!==void(-0x19d*0xe+-0x1275+-0x5dd*-0x7)&&(_0x2f381c['alignment']=Array['isArray'](_0x6201ae['alignment'])?new $(_0x6201ae['alignment']):_0x6201ae['alignment']),_0x6201ae['padding']!==void(-0x150d+-0x4e*0x10+0x1*0x19ed)&&(_0x2f381c['padding']=Array['isArray'](_0x6201ae['padding'])?new Q(_0x6201ae['padding']):_0x6201ae['padding']),_0x6201ae['spacing']!==void(0x17*-0x99+-0x3*-0xc56+-0x7c1*0x3)&&(_0x2f381c['spacing']=Array['isArray'](_0x6201ae['spacing'])?new $(_0x6201ae['spacing']):_0x6201ae['spacing']),_0x6201ae['widthFitti'+'ng']!==void(0x8a7+0x84a*0x2+-0x3*0x869)&&(_0x2f381c['widthFitti'+'ng']=_0x6201ae['widthFitti'+'ng']),_0x6201ae['heightFitt'+'ing']!==void(-0x1*0xe83+-0x31*0x89+0x28bc)&&(_0x2f381c['heightFitt'+'ing']=_0x6201ae['heightFitt'+'ing']),_0x6201ae['wrap']!==void(0x1*-0x2369+-0x450+0x27b9)&&(_0x2f381c['wrap']=_0x6201ae['wrap']),super['initialize'+'ComponentD'+'ata'](_0x2f381c,_0x6201ae,_0x488f01);}['cloneCompo'+'nent'](_0x4f4e7b,_0x1441e0){const _0x3398f2=_0x4f4e7b['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x1441e0,{'enabled':_0x3398f2['enabled'],'orientation':_0x3398f2['orientatio'+'n'],'reverseX':_0x3398f2['reverseX'],'reverseY':_0x3398f2['reverseY'],'alignment':_0x3398f2['alignment'],'padding':_0x3398f2['padding'],'spacing':_0x3398f2['spacing'],'widthFitting':_0x3398f2['widthFitti'+'ng'],'heightFitting':_0x3398f2['heightFitt'+'ing'],'wrap':_0x3398f2['wrap']});}['scheduleRe'+'flow'](_0x227405){this['_reflowQue'+'ue']['indexOf'](_0x227405)===-(-0x3*0x7d0+0x9ab+0xdc6)&&this['_reflowQue'+'ue']['push'](_0x227405);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0xd3d+-0x2082+0x1345)return;let _0x46b690=0x10ab+-0x1*0x173b+-0xc*-0x8c;for(;this['_reflowQue'+'ue']['length']>0x20ce+-0x2f1*0x8+-0x946;){const _0x5bf3ab=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x1103+-0x1b87+-0x4*-0x2a1,_0x5bf3ab['sort']((_0x49fee8,_0x182158)=>_0x49fee8['entity']['graphDepth']-_0x182158['entity']['graphDepth']);for(let _0x390966=0x10e9+-0x34c*0x1+0xd9d*-0x1;_0x390966<_0x5bf3ab['length'];++_0x390966)_0x5bf3ab[_0x390966]['reflow']();if(++_0x46b690>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x228769,_0x1e6623){_0x1e6623['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0x54b4af){this['map']['forEach'](_0x491345=>_0x491345['mesh']['destroy']());}}const tI=new Ot(),cx=(_0x2220da,_0x16a91a)=>{const _0x4c54f0=tI['get'](_0x2220da,()=>new eI());let _0x2bb9fd=_0x4c54f0['map']['get'](_0x16a91a);if(!_0x2bb9fd){let _0x18798f,_0x41054d;switch(_0x16a91a){case'box':_0x18798f=Ie['fromGeomet'+'ry'](_0x2220da,new Wu()),_0x41054d={'x':0x2,'y':0x2,'z':0x2,'uv':(0x1b92+0x2541+-0x40d1)/(-0xe7a+-0x2554+-0x1*-0x33d1)};break;case'capsule':_0x18798f=Ie['fromGeomet'+'ry'](_0x2220da,new C1({'radius':0.5,'height':0x2})),_0x41054d={'x':Math['PI']*(-0x3*0x36+0x2507+-0x2463),'y':Math['PI'],'z':Math['PI']*(-0x81e*-0x4+0x1634+-0x1b55*0x2),'uv':(0x1994+-0x22ee+0x95b)/(-0x1276*0x1+-0x7*-0x487+0x468*-0x3)+(0x1155+0x232d+-0x3481)/(-0x1aa+0x1847+-0x169a)/(-0x16a1*0x1+0xf07*0x2+-0x76a)*(-0xbb*0xf+-0x17db+0x22d2)};break;case'cone':_0x18798f=Ie['fromGeomet'+'ry'](_0x2220da,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x41054d={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x2*-0xe57+0x8b6*-0x1+-0x13f7)/(0x7*0xe5+-0x25*0xe3+-0xd*-0x20b)+(-0x1026+0x7*0x27b+-0x136)/(0x3c8+0x1cbd+-0x2082)/(-0x9fc+0xbb1+-0x1b2)};break;case'cylinder':_0x18798f=Ie['fromGeomet'+'ry'](_0x2220da,new P1({'radius':0.5,'height':0x1})),_0x41054d={'x':Math['PI'],'y':(-0x20c2+-0x1825*0x1+0x821*0x7+0.79)*(0x1*-0x7bb+-0x107e*0x1+0x1*0x183b),'z':Math['PI'],'uv':(-0x22e4+0x98*0x17+0x153d*0x1)/(-0x1*0x14d5+-0x10d8+0x25b0)+(0x5*0x4bb+0x4*0x88d+0xa*-0x5c9)/(0x14b5+0x198f+-0xf6b*0x3)/(-0x48c+0x200d+0x17*-0x132)*(0xdf*0x3+-0x2e*-0x1+-0x2c9)};break;case'plane':_0x18798f=Ie['fromGeomet'+'ry'](_0x2220da,new R1({'halfExtents':new $(0xf7a+-0x36f*0xb+-0xd*-0x1b7+0.5,-0x1b87+-0x17*0x10b+0x3384+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x41054d={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x18798f=Ie['fromGeomet'+'ry'](_0x2220da,new B0({'radius':0.5})),_0x41054d={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x18798f=Ie['fromGeomet'+'ry'](_0x2220da,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x41054d={'x':Math['PI']*(0x136f+0x9cb+-0x1d3a+0.5)*(0x1cdf+-0x1*0x183a+0x29*-0x1d+0.5)-Math['PI']*(-0x1bb*-0x6+-0x3c4*0x6+-0x61b*-0x2+0.1)*(-0x37f+-0x1f6c+0x22eb+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x16a91a);}_0x18798f['incRefCoun'+'t'](),_0x2bb9fd={'mesh':_0x18798f,'area':_0x41054d},_0x4c54f0['map']['set'](_0x16a91a,_0x2bb9fd);}return _0x2bb9fd;};class dx extends ue{constructor(_0x42ec9f,_0x4d5e99){super(_0x42ec9f,_0x4d5e99),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(-0x17d3+0x760+-0x1*-0x1073)),c(this,'_receiveSh'+'adows',!(-0x1e6*0x1+0x3b1*-0x8+0x95*0x36)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(0x3*0x10d+0x1b59*-0x1+0x1832)),c(this,'_lightmapp'+'ed',!(-0xd3*-0x29+-0x1af3+-0x6d7)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x107*-0x25+0x9f2+-0x2ff4),c(this,'isStatic',!(0x463*-0x3+-0x19*0xd1+0xb31*0x3)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(0x15e8*0x1+-0x240*-0x7+-0x25a7)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(-0x1ab5*0x1+0x29*-0x65+0x2ae3)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x42ec9f['defaultMat'+'erial'],_0x4d5e99['on']('remove',this['onRemoveCh'+'ild'],this),_0x4d5e99['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x4d5e99['on']('insert',this['onInsertCh'+'ild'],this),_0x4d5e99['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x28e777){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x28e777);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x4dd2b4){if(this['_customAab'+'b']=_0x4dd2b4,this['_model']){const _0x24d409=this['_model']['meshInstan'+'ces'];if(_0x24d409){for(let _0x38bfae=0x13ea+0x29*-0x71+-0xf*0x1f;_0x38bfae<_0x24d409['length'];_0x38bfae++)_0x24d409[_0x38bfae]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x44d093){if(this['_type']!==_0x44d093){if(this['_area']=null,this['_type']=_0x44d093,_0x44d093==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x1474b4=cx(this['system']['app']['graphicsDe'+'vice'],_0x44d093);this['_area']=_0x1474b4['area'];const _0x34a231=_0x1474b4['mesh'],_0x392bf0=new De(),_0x1d6792=new Oi();_0x1d6792['graph']=_0x392bf0,_0x1d6792['meshInstan'+'ces']=[new Le(_0x34a231,this['_material'],_0x392bf0)],this['model']=_0x1d6792,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x5f4f10){const _0x3f0274=this['system']['app']['assets'];let _0x50fa61=_0x5f4f10;if(_0x5f4f10 instanceof le&&(_0x50fa61=_0x5f4f10['id']),this['_asset']!==_0x50fa61){if(this['_asset']){_0x3f0274['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x1c06c0=_0x3f0274['get'](this['_asset']);_0x1c06c0&&this['_unbindMod'+'elAsset'](_0x1c06c0);}if(this['_asset']=_0x50fa61,this['_asset']){const _0x1cbf1b=_0x3f0274['get'](this['_asset']);_0x1cbf1b?this['_bindModel'+'Asset'](_0x1cbf1b):(this['model']=null,_0x3f0274['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x31b902){if(this['_model']!==_0x31b902){if(_0x31b902&&_0x31b902['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x2*0x1239+-0xbb*-0x1+-0x94b*0x4),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x2450+-0xb48+0x1907*-0x1))),this['_model']=_0x31b902,this['_model']){this['_model']['_immutable']=!(-0x2548*-0x1+-0x294+0x1*-0x22b4);const _0x301d5b=this['_model']['meshInstan'+'ces'];for(let _0x2fd5b6=0xa4b+-0x1*-0x78a+-0x37*0x53;_0x2fd5b6<_0x301d5b['length'];_0x2fd5b6++)_0x301d5b[_0x2fd5b6]['castShadow']=this['_castShado'+'ws'],_0x301d5b[_0x2fd5b6]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x301d5b[_0x2fd5b6]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x3d5f3c){if(_0x3d5f3c!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x3d5f3c,this['_model'])){const _0x38e17e=this['_model']['meshInstan'+'ces'];for(let _0x4c74dd=-0xe14+-0x1131*0x1+-0x641*-0x5;_0x4c74dd<_0x38e17e['length'];_0x4c74dd++)_0x38e17e[_0x4c74dd]['setLightma'+'pped'](_0x3d5f3c);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x4793f2){if(this['_castShado'+'ws']===_0x4793f2)return;const _0x56b8fe=this['_model'];if(_0x56b8fe){const _0x1cba0d=this['layers'],_0x62298f=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x4793f2)for(let _0xf12815=0x2151+-0xa7*0x22+0x1*-0xb23;_0xf12815<_0x1cba0d['length'];_0xf12815++){const _0x54e589=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xf12815]);_0x54e589&&_0x54e589['removeShad'+'owCasters'](_0x56b8fe['meshInstan'+'ces']);}const _0x4392ca=_0x56b8fe['meshInstan'+'ces'];for(let _0x10fd47=-0x183*0xb+0x6*-0xd9+0x15b7;_0x10fd47<_0x4392ca['length'];_0x10fd47++)_0x4392ca[_0x10fd47]['castShadow']=_0x4793f2;if(!this['_castShado'+'ws']&&_0x4793f2)for(let _0x127531=-0x1*0x1a23+-0x605*0x1+0x1c*0x126;_0x127531<_0x1cba0d['length'];_0x127531++){const _0x3af704=_0x62298f['layers']['getLayerBy'+'Id'](_0x1cba0d[_0x127531]);_0x3af704&&_0x3af704['addShadowC'+'asters'](_0x56b8fe['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x4793f2;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x1bce21){if(this['_receiveSh'+'adows']!==_0x1bce21&&(this['_receiveSh'+'adows']=_0x1bce21,this['_model'])){const _0x476dac=this['_model']['meshInstan'+'ces'];for(let _0x24a27d=0x1*0x1b83+-0x3da*0x6+-0x7*0xa1,_0x1e5533=_0x476dac['length'];_0x24a27d<_0x1e5533;_0x24a27d++)_0x476dac[_0x24a27d]['receiveSha'+'dow']=_0x1bce21;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x18c1ab){this['_castShado'+'wsLightmap']=_0x18c1ab;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x206235){this['_lightmapS'+'izeMultipl'+'ier']=_0x206235;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x4be166){const _0x49444b=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0xcef977=-0xb*0x4+-0xab5+-0x1*-0xae1;_0xcef977<this['_layers']['length'];_0xcef977++){const _0x42b8b6=_0x49444b['getLayerBy'+'Id'](this['_layers'][_0xcef977]);_0x42b8b6&&_0x42b8b6['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0x1aec*-0x1+-0xfd+0x1*-0x19ef;for(let _0x745799=-0x4*-0x6da+-0x23f8+0x890;_0x745799<_0x4be166['length'];_0x745799++)this['_layers'][_0x745799]=_0x4be166[_0x745799];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x216a57=0x3*-0xb+0xe3*-0x1+0x104;_0x216a57<this['_layers']['length'];_0x216a57++){const _0x44889d=_0x49444b['getLayerBy'+'Id'](this['_layers'][_0x216a57]);_0x44889d&&_0x44889d['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x1a8b73){var _0x1c3d81,_0x12f1dd;this['_batchGrou'+'pId']!==_0x1a8b73&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x157d*0x1+0xc*-0x16a+-0x485&&((_0x1c3d81=this['system']['app']['batcher'])==null||_0x1c3d81['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x1a8b73>=-0x213f+-0xc1f*0x1+0x1*0x2d5e&&((_0x12f1dd=this['system']['app']['batcher'])==null||_0x12f1dd['insert'](et['MODEL'],_0x1a8b73,this['entity'])),_0x1a8b73<0x21*-0x10+0x1fb2+0x1*-0x1da2&&this['_batchGrou'+'pId']>=-0x185*-0xf+0x2378+-0x3a43&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x1a8b73);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x212785){let _0x2d8f12=_0x212785;_0x212785 instanceof le&&(_0x2d8f12=_0x212785['id']);const _0xebf56c=this['system']['app']['assets'];if(_0x2d8f12!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0xebf56c['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x5517bb=_0xebf56c['get'](this['_materialA'+'sset']);_0x5517bb&&this['_unbindMat'+'erialAsset'](_0x5517bb);}if(this['_materialA'+'sset']=_0x2d8f12,this['_materialA'+'sset']){const _0x60a933=_0xebf56c['get'](this['_materialA'+'sset']);_0x60a933?this['_bindMater'+'ialAsset'](_0x60a933):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0xebf56c['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x2b1573){this['_material']!==_0x2b1573&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x2b1573));}get['material'](){return this['_material'];}set['mapping'](_0x384504){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x384504||(_0x384504={}),this['_mapping']=_0x384504,!this['_model']))return;const _0x3fa444=this['_model']['meshInstan'+'ces'],_0x542a8c=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x1e95d2=_0x542a8c?_0x542a8c['data']['mapping']:null;let _0x3b9b8f=null;for(let _0x1586de=-0xd*0x125+-0x275*-0x4+0x1af*0x3,_0x45c9ab=_0x3fa444['length'];_0x1586de<_0x45c9ab;_0x1586de++)if(_0x384504[_0x1586de]!==void(0x5f2+-0x22d0+0x1cde*0x1))_0x384504[_0x1586de]?(_0x3b9b8f=this['system']['app']['assets']['get'](_0x384504[_0x1586de]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x3b9b8f,_0x3fa444[_0x1586de],_0x1586de)):_0x3fa444[_0x1586de]['material']=this['system']['defaultMat'+'erial'];else{if(_0x1e95d2){if(_0x1e95d2[_0x1586de]&&(_0x1e95d2[_0x1586de]['material']||_0x1e95d2[_0x1586de]['path'])){if(_0x1e95d2[_0x1586de]['material']!==void(-0xffb+0x7*0x11b+0x83e))_0x3b9b8f=this['system']['app']['assets']['get'](_0x1e95d2[_0x1586de]['material']);else{if(_0x1e95d2[_0x1586de]['path']!==void(-0xaee+0x6*0x2b4+-0x54a)){const _0x55ee43=this['_getMateri'+'alAssetUrl'](_0x1e95d2[_0x1586de]['path']);_0x55ee43&&(_0x3b9b8f=this['system']['app']['assets']['getByUrl'](_0x55ee43));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x3b9b8f,_0x3fa444[_0x1586de],_0x1586de);}else _0x3fa444[_0x1586de]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x47a6f7=this['system']['app']['scene']['layers'];for(let _0x58980d=-0x176a+-0x22a+0x1994;_0x58980d<this['_layers']['length'];_0x58980d++){const _0x591161=_0x47a6f7['getLayerBy'+'Id'](this['_layers'][_0x58980d]);_0x591161&&_0x591161['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x40ef4e=this['system']['app']['scene']['layers'];for(let _0x56e48c=0x1174*-0x2+0x17f6+-0x2*-0x579;_0x56e48c<this['_layers']['length'];_0x56e48c++){const _0x336197=_0x40ef4e['getLayerBy'+'Id'](this['_layers'][_0x56e48c]);_0x336197&&_0x336197['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x3a5c9a,_0x3207c8){this['addModelTo'+'Layers'](),_0x3a5c9a['off']('add',this['onLayerAdd'+'ed'],this),_0x3a5c9a['off']('remove',this['onLayerRem'+'oved'],this),_0x3207c8['on']('add',this['onLayerAdd'+'ed'],this),_0x3207c8['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5490eb){this['layers']['indexOf'](_0x5490eb['id'])<-0x1df5+-0x1e79+0xd*0x4a6||_0x5490eb['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x2b14b){this['layers']['indexOf'](_0x2b14b['id'])<-0x323+0x9c0+0x1*-0x69d||_0x2b14b['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x27f2ff,_0x3c6183,_0x2525f3,_0xf2db33){const _0x82d792=_0x3c6183+':'+_0x2525f3;this['system']['app']['assets']['on'](_0x82d792,_0xf2db33,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x27f2ff]||(this['_materialE'+'vents'][_0x27f2ff]={}),this['_materialE'+'vents'][_0x27f2ff][_0x82d792]={'id':_0x2525f3,'handler':_0xf2db33};}['_unsetMate'+'rialEvents'](){const _0x2e858b=this['system']['app']['assets'],_0x533daa=this['_materialE'+'vents'];if(_0x533daa){for(let _0x14fa59=0x1ddb+0x53*-0x3b+-0xaba*0x1,_0x411f7c=_0x533daa['length'];_0x14fa59<_0x411f7c;_0x14fa59++){if(!_0x533daa[_0x14fa59])continue;const _0x4f738a=_0x533daa[_0x14fa59];for(const _0x3c0460 in _0x4f738a)_0x2e858b['off'](_0x3c0460,_0x4f738a[_0x3c0460]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x376150){let _0x42ea6d=null;if(!isNaN(parseInt(_0x376150,0x2*0x4be+-0x97*0x33+-0x6e1*-0x3)))_0x42ea6d=this['system']['app']['assets']['get'](_0x376150);else{if(this['asset']){const _0x433a5f=this['_getMateri'+'alAssetUrl'](_0x376150);_0x433a5f&&(_0x42ea6d=this['system']['app']['assets']['getByUrl'](_0x433a5f));}}return _0x42ea6d;}['_getMateri'+'alAssetUrl'](_0x2b8e2d){if(!this['asset'])return null;const _0x3a4763=this['system']['app']['assets']['get'](this['asset']);return _0x3a4763?_0x3a4763['getAbsolut'+'eUrl'](_0x2b8e2d):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x3d8506,_0x2cce03,_0x539fec){const _0x8bb1d8=this['system']['app']['assets'];_0x3d8506&&(_0x3d8506['resource']?(_0x2cce03['material']=_0x3d8506['resource'],this['_setMateri'+'alEvent'](_0x539fec,'remove',_0x3d8506['id'],function(){_0x2cce03['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x539fec,'load',_0x3d8506['id'],function(_0x54a96e){_0x2cce03['material']=_0x54a96e['resource'],this['_setMateri'+'alEvent'](_0x539fec,'remove',_0x3d8506['id'],function(){_0x2cce03['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x8bb1d8['load'](_0x3d8506)));}['onEnable'](){var _0xc08ee0;const _0x1ab388=this['system']['app'],_0x3c1e41=_0x1ab388['scene'],_0x4e917a=_0x3c1e41==null?void(0x2500+0x1462+-0x5bd*0xa):_0x3c1e41['layers'];this['_evtLayers'+'Changed']=_0x3c1e41['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4e917a&&(this['_evtLayerA'+'dded']=_0x4e917a['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4e917a['on']('remove',this['onLayerRem'+'oved'],this));const _0x2796e8=this['_type']==='asset';let _0x23ffb1;if(this['_model']?this['addModelTo'+'Layers']():_0x2796e8&&this['_asset']&&(_0x23ffb1=_0x1ab388['assets']['get'](this['_asset']),_0x23ffb1&&_0x23ffb1['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x23ffb1)),this['_materialA'+'sset']&&(_0x23ffb1=_0x1ab388['assets']['get'](this['_materialA'+'sset']),_0x23ffb1&&_0x23ffb1['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x23ffb1)),_0x2796e8&&this['_mapping']){for(const _0x147fcf in this['_mapping'])this['_mapping'][_0x147fcf]&&(_0x23ffb1=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x147fcf]),_0x23ffb1&&!_0x23ffb1['resource']&&_0x1ab388['assets']['load'](_0x23ffb1));}this['_batchGrou'+'pId']>=0x15*-0x63+-0x1c5f+-0x40e*-0x9&&((_0xc08ee0=_0x1ab388['batcher'])==null||_0xc08ee0['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x805398,_0xe50cbb,_0x4ebeef,_0x33832c;const _0x4515dd=this['system']['app'],_0x367494=_0x4515dd['scene']['layers'];(_0x805398=this['_evtLayers'+'Changed'])==null||_0x805398['off'](),this['_evtLayers'+'Changed']=null,_0x367494&&((_0xe50cbb=this['_evtLayerA'+'dded'])==null||_0xe50cbb['off'](),this['_evtLayerA'+'dded']=null,(_0x4ebeef=this['_evtLayerR'+'emoved'])==null||_0x4ebeef['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x1*0x7f7+0x1a*-0xa9+0x1921&&((_0x33832c=_0x4515dd['batcher'])==null||_0x33832c['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x1e223d=this['_model']['meshInstan'+'ces'];for(let _0x16e599=-0x1287*-0x1+-0x2*0x12d2+-0x15*-0xe9,_0x2833e3=_0x1e223d['length'];_0x16e599<_0x2833e3;_0x16e599++)_0x1e223d[_0x16e599]['visible']=!(0x151*-0x6+0x1*-0x11c3+0x19aa);}}['show'](){if(this['_model']){const _0x289285=this['_model']['meshInstan'+'ces'];for(let _0x1f643b=-0x1f27+-0xcd4+0x2bfb,_0xad268d=_0x289285['length'];_0x1f643b<_0xad268d;_0x1f643b++)_0x289285[_0x1f643b]['visible']=!(0x33f*-0x8+0x1506*-0x1+-0xfaa*-0x3);}}['_bindMater'+'ialAsset'](_0x5b6f7e){if(_0x5b6f7e['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x5b6f7e['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x5b6f7e['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x5b6f7e['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x5b6f7e['resource'])this['_onMateria'+'lAssetLoad'](_0x5b6f7e);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x5b6f7e);}}['_unbindMat'+'erialAsset'](_0x5cb64b){_0x5cb64b['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x5cb64b['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x5cb64b['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x5cb64b['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x247222){this['system']['app']['assets']['off']('add:'+_0x247222['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x247222['id']&&this['_bindMater'+'ialAsset'](_0x247222);}['_onMateria'+'lAssetLoad'](_0x8b9947){this['_setMateri'+'al'](_0x8b9947['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x31ef2b){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0xdea59f){this['_onMateria'+'lAssetUnlo'+'ad'](_0xdea59f);}['_onMateria'+'lAssetChan'+'ge'](_0x57eefa){}['_bindModel'+'Asset'](_0x3e705a){if(this['_unbindMod'+'elAsset'](_0x3e705a),_0x3e705a['on']('load',this['_onModelAs'+'setLoad'],this),_0x3e705a['on']('unload',this['_onModelAs'+'setUnload'],this),_0x3e705a['on']('change',this['_onModelAs'+'setChange'],this),_0x3e705a['on']('remove',this['_onModelAs'+'setRemove'],this),_0x3e705a['resource'])this['_onModelAs'+'setLoad'](_0x3e705a);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3e705a);}}['_unbindMod'+'elAsset'](_0x387975){_0x387975['off']('load',this['_onModelAs'+'setLoad'],this),_0x387975['off']('unload',this['_onModelAs'+'setUnload'],this),_0x387975['off']('change',this['_onModelAs'+'setChange'],this),_0x387975['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x15d677){this['system']['app']['assets']['off']('add:'+_0x15d677['id'],this['_onModelAs'+'setAdded'],this),_0x15d677['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x15d677);}['_onModelAs'+'setLoad'](_0xd5c9b8){this['model']=_0xd5c9b8['resource']['clone'](),this['_clonedMod'+'el']=!(-0x1294+0x1372*0x1+-0xde);}['_onModelAs'+'setUnload'](_0x147e77){this['model']=null;}['_onModelAs'+'setChange'](_0x281987,_0x2658f7,_0x53b011,_0x538ca3){_0x2658f7==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x13dc94){this['model']=null;}['_setMateri'+'al'](_0x288bdf){if(this['_material']===_0x288bdf)return;this['_material']=_0x288bdf;const _0x579592=this['_model'];if(_0x579592&&this['_type']!=='asset'){const _0x45b420=_0x579592['meshInstan'+'ces'];for(let _0x29770e=0x48b*0x1+0xdb9*-0x1+0x92e,_0x1f7d1f=_0x45b420['length'];_0x29770e<_0x1f7d1f;_0x29770e++)_0x45b420[_0x29770e]['material']=_0x288bdf;}}}class sI{constructor(){this['enabled']=!(0xc02+0x2609+0x1*-0x320b);}}const ux=['enabled'];class iI extends Xe{constructor(_0x44c29d){super(_0x44c29d),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x44c29d['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x5baaf9,_0x33d65b,_0xa9abf9){_0xa9abf9=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x33d65b['batchGroup'+'Id']===null||_0x33d65b['batchGroup'+'Id']===void(0xd0f*-0x1+-0x5*-0x489+0x1*-0x99e))&&(_0x33d65b['batchGroup'+'Id']=-(0x187b+0x1*-0x1b73+0x1*0x2f9)),_0x33d65b['layers']&&_0x33d65b['layers']['length']&&(_0x33d65b['layers']=_0x33d65b['layers']['slice'](0x1901*-0x1+0x1ad7*-0x1+0x33d8));for(let _0x43e514=0x37*0x35+-0x1e8d+-0x1*-0x132a;_0x43e514<_0xa9abf9['length'];_0x43e514++)_0x33d65b['hasOwnProp'+'erty'](_0xa9abf9[_0x43e514])&&(_0x5baaf9[_0xa9abf9[_0x43e514]]=_0x33d65b[_0xa9abf9[_0x43e514]]);_0x33d65b['aabbCenter']&&_0x33d65b['aabbHalfEx'+'tents']&&(_0x5baaf9['customAabb']=new _e(new T(_0x33d65b['aabbCenter']),new T(_0x33d65b['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x5baaf9,_0x33d65b,['enabled']);}['cloneCompo'+'nent'](_0x262d21,_0x39da0e){const _0x35fcd5={'type':_0x262d21['model']['type'],'asset':_0x262d21['model']['asset'],'castShadows':_0x262d21['model']['castShadow'+'s'],'receiveShadows':_0x262d21['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x262d21['model']['castShadow'+'sLightmap'],'lightmapped':_0x262d21['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x262d21['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x262d21['model']['isStatic'],'enabled':_0x262d21['model']['enabled'],'layers':_0x262d21['model']['layers'],'batchGroupId':_0x262d21['model']['batchGroup'+'Id'],'mapping':vh({},_0x262d21['model']['mapping'])};let _0x212425=_0x262d21['model']['materialAs'+'set'];!(_0x212425 instanceof le)&&_0x212425!=null&&(_0x212425=this['app']['assets']['get'](_0x212425));const _0x5c82a1=_0x262d21['model']['material'];(!_0x5c82a1||_0x5c82a1===this['defaultMat'+'erial']||!_0x212425||_0x5c82a1===_0x212425['resource'])&&(_0x35fcd5['materialAs'+'set']=_0x212425);const _0xe29b16=this['addCompone'+'nt'](_0x39da0e,_0x35fcd5);if(_0x262d21['model']['model']&&_0x262d21['model']['type']==='asset'&&!_0x262d21['model']['asset']&&(_0xe29b16['model']=_0x262d21['model']['model']['clone'](),_0xe29b16['_clonedMod'+'el']=!(0x654+-0x1cef+0x169b)),_0x35fcd5['materialAs'+'set']||(_0xe29b16['material']=_0x5c82a1),_0x262d21['model']['model']){const _0x2d3504=_0x262d21['model']['model']['meshInstan'+'ces'],_0x5c70fc=_0xe29b16['model']['meshInstan'+'ces'];for(let _0x4962ab=0x24b3+0x4*0x18c+0x1*-0x2ae3;_0x4962ab<_0x2d3504['length'];_0x4962ab++)_0x5c70fc[_0x4962ab]['mask']=_0x2d3504[_0x4962ab]['mask'],_0x5c70fc[_0x4962ab]['material']=_0x2d3504[_0x4962ab]['material'],_0x5c70fc[_0x4962ab]['layer']=_0x2d3504[_0x4962ab]['layer'],_0x5c70fc[_0x4962ab]['receiveSha'+'dow']=_0x2d3504[_0x4962ab]['receiveSha'+'dow'];}return _0x262d21['model']['customAabb']&&(_0xe29b16['customAabb']=_0x262d21['model']['customAabb']['clone']()),_0xe29b16;}['onRemove'](_0x557519,_0x5a4381){_0x5a4381['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0x360935,_0x253e1f){super(_0x360935,_0x253e1f),c(this,'_requested'+'Depth',!(0x1*-0x10f8+0x2189+-0x1090)),c(this,'_drawOrder',-0x1e6c*0x1+-0x1874+0x36e0),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0x31b408=>{this['on']('set_'+_0x31b408,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x4e7a63=>{this['on']('set_'+_0x4e7a63,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x49429b=>{this['on']('set_'+_0x49429b,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0xdd1cff=this['system']['store'][this['entity']['getGuid']()];return _0xdd1cff?_0xdd1cff['data']:null;}set['enabled'](_0x19ec86){this['_setValue']('enabled',_0x19ec86);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x255662){this['_setValue']('autoPlay',_0x255662);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x339478){this['_setValue']('numParticl'+'es',_0x339478);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x1d539d){this['_setValue']('lifetime',_0x1d539d);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x1223ab){this['_setValue']('rate',_0x1223ab);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x4b203c){this['_setValue']('rate2',_0x4b203c);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x468e13){this['_setValue']('startAngle',_0x468e13);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0xebfdfa){this['_setValue']('startAngle'+'2',_0xebfdfa);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x5783ef){this['_setValue']('loop',_0x5783ef);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x269df6){this['_setValue']('preWarm',_0x269df6);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0xc4c93d){this['_setValue']('lighting',_0xc4c93d);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x37c4b7){this['_setValue']('halfLamber'+'t',_0x37c4b7);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x9ff02f){this['_setValue']('intensity',_0x9ff02f);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x20b7e1){this['_setValue']('depthWrite',_0x20b7e1);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x504b29){this['_setValue']('noFog',_0x504b29);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x450705){this['_setValue']('depthSofte'+'ning',_0x450705);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x16dea4){this['_setValue']('sort',_0x16dea4);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x4c197f){this['_setValue']('blendType',_0x4c197f);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x3c6b47){this['_setValue']('stretch',_0x3c6b47);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x21021d){this['_setValue']('alignToMot'+'ion',_0x21021d);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x5e2e84){this['_setValue']('emitterSha'+'pe',_0x5e2e84);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x51f356){this['_setValue']('emitterExt'+'ents',_0x51f356);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x45d468){this['_setValue']('emitterExt'+'entsInner',_0x45d468);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x43f936){this['_setValue']('emitterRad'+'ius',_0x43f936);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x4b434e){this['_setValue']('emitterRad'+'iusInner',_0x4b434e);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x30d788){this['_setValue']('initialVel'+'ocity',_0x30d788);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x44f7f6){this['_setValue']('wrap',_0x44f7f6);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x501af1){this['_setValue']('wrapBounds',_0x501af1);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x2f603f){this['_setValue']('localSpace',_0x2f603f);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0xcc7236){this['_setValue']('screenSpac'+'e',_0xcc7236);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x3a41a5){this['_setValue']('colorMapAs'+'set',_0x3a41a5);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x40a39a){this['_setValue']('normalMapA'+'sset',_0x40a39a);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x54e2d4){this['_setValue']('mesh',_0x54e2d4);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x243959){this['_setValue']('meshAsset',_0x243959);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0xe2f11e){this['_setValue']('renderAsse'+'t',_0xe2f11e);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x50e90f){this['_setValue']('orientatio'+'n',_0x50e90f);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x543057){this['_setValue']('particleNo'+'rmal',_0x543057);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x3b1e56){this['_setValue']('localVeloc'+'ityGraph',_0x3b1e56);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x1c65f0){this['_setValue']('localVeloc'+'ityGraph2',_0x1c65f0);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x49ca32){this['_setValue']('velocityGr'+'aph',_0x49ca32);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x1ebf00){this['_setValue']('velocityGr'+'aph2',_0x1ebf00);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x2d9dcd){this['_setValue']('rotationSp'+'eedGraph',_0x2d9dcd);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x3609dd){this['_setValue']('rotationSp'+'eedGraph2',_0x3609dd);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x4786c1){this['_setValue']('radialSpee'+'dGraph',_0x4786c1);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x5aaadb){this['_setValue']('radialSpee'+'dGraph2',_0x5aaadb);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x4650d1){this['_setValue']('scaleGraph',_0x4650d1);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x5d141e){this['_setValue']('scaleGraph'+'2',_0x5d141e);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x5cf7b4){this['_setValue']('colorGraph',_0x5cf7b4);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x3c5ee2){this['_setValue']('colorGraph'+'2',_0x3c5ee2);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x43db85){this['_setValue']('alphaGraph',_0x43db85);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x37c623){this['_setValue']('alphaGraph'+'2',_0x37c623);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x32d4b){this['_setValue']('colorMap',_0x32d4b);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0xbbf98c){this['_setValue']('normalMap',_0xbbf98c);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x338937){this['_setValue']('animTilesX',_0x338937);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x3f7cc8){this['_setValue']('animTilesY',_0x3f7cc8);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x286d28){this['_setValue']('animStartF'+'rame',_0x286d28);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x529925){this['_setValue']('animNumFra'+'mes',_0x529925);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x41e777){this['_setValue']('animNumAni'+'mations',_0x41e777);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x4c4346){this['_setValue']('animIndex',_0x4c4346);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x2aa407){this['_setValue']('randomizeA'+'nimIndex',_0x2aa407);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x54e0f4){this['_setValue']('animSpeed',_0x54e0f4);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x54c7c5){this['_setValue']('animLoop',_0x54c7c5);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x5386e6){this['_setValue']('layers',_0x5386e6);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x78030){this['_drawOrder']=_0x78030,this['emitter']&&(this['emitter']['drawOrder']=_0x78030);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x314df1,_0x57f97c){const _0x31eb58=this['data'],_0x374279=_0x31eb58[_0x314df1];_0x31eb58[_0x314df1]=_0x57f97c,this['fire']('set',_0x314df1,_0x374279,_0x57f97c);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x27b496=0x3+0x1*-0x1eb+0x1e8;_0x27b496<this['layers']['length'];_0x27b496++){const _0x5d3e34=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x27b496]);_0x5d3e34&&(_0x5d3e34['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x5d3e34);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x5eee66=0x7*0x380+0x123e*-0x1+-0x642;_0x5eee66<this['layers']['length'];_0x5eee66++){const _0x522ff6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5eee66]);_0x522ff6&&_0x522ff6['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x293abf,_0x1917e6,_0x3bb096){if(this['emitter']){for(let _0x435564=-0x8*0x6c+-0x15b*-0xa+-0xa2e;_0x435564<_0x1917e6['length'];_0x435564++){const _0xdcfb34=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x1917e6[_0x435564]);_0xdcfb34&&_0xdcfb34['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x3bd646=0x1*0x2bd+-0x906+0x649;_0x3bd646<_0x3bb096['length'];_0x3bd646++){const _0x38d445=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3bb096[_0x3bd646]);_0x38d445&&_0x38d445['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x3b76d2,_0x4de9e1){this['addMeshIns'+'tanceToLay'+'ers'](),_0x3b76d2['off']('add',this['onLayerAdd'+'ed'],this),_0x3b76d2['off']('remove',this['onLayerRem'+'oved'],this),_0x4de9e1['on']('add',this['onLayerAdd'+'ed'],this),_0x4de9e1['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4537f3){!this['emitter']||this['layers']['indexOf'](_0x4537f3['id'])<-0xa*-0x131+0x17e5+0x59*-0x67||_0x4537f3['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x28ad12){!this['emitter']||this['layers']['indexOf'](_0x28ad12['id'])<0x6*0x67f+0x15d9+-0x3cd3*0x1||_0x28ad12['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x11ac1f){if(_0x11ac1f['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x11ac1f['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x11ac1f['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x11ac1f['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x11ac1f['resource'])this['_onColorMa'+'pAssetLoad'](_0x11ac1f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x11ac1f);}}['_unbindCol'+'orMapAsset'](_0x53f2b1){_0x53f2b1['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x53f2b1['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x53f2b1['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x53f2b1['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x43cb5e){this['colorMap']=_0x43cb5e['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x58aecb){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x54befe){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x54befe);}['_onColorMa'+'pAssetChan'+'ge'](_0x592d07){}['onSetColor'+'MapAsset'](_0x315d90,_0x106604,_0x210b27){const _0x1eb3e2=this['system']['app']['assets'];if(_0x106604){const _0xf4d667=_0x1eb3e2['get'](_0x106604);_0xf4d667&&this['_unbindCol'+'orMapAsset'](_0xf4d667);}if(_0x210b27){_0x210b27 instanceof le&&(this['data']['colorMapAs'+'set']=_0x210b27['id'],_0x210b27=_0x210b27['id']);const _0x1f5165=_0x1eb3e2['get'](_0x210b27);_0x1f5165?this['_bindColor'+'MapAsset'](_0x1f5165):_0x1eb3e2['once']('add:'+_0x210b27,_0x43806b=>{this['_bindColor'+'MapAsset'](_0x43806b);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x220ba4){if(_0x220ba4['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x220ba4['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x220ba4['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x220ba4['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x220ba4['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x220ba4);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x220ba4);}}['_unbindNor'+'malMapAsse'+'t'](_0x2c0815){_0x2c0815['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x2c0815['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x2c0815['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x2c0815['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0xb74276){this['normalMap']=_0xb74276['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x29590b){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x14f475){this['_onNormalM'+'apAssetUnl'+'oad'](_0x14f475);}['_onNormalM'+'apAssetCha'+'nge'](_0x1f1b9e){}['onSetNorma'+'lMapAsset'](_0x706837,_0x191887,_0x59c833){const _0x32a0e9=this['system']['app']['assets'];if(_0x191887){const _0x33836b=_0x32a0e9['get'](_0x191887);_0x33836b&&this['_unbindNor'+'malMapAsse'+'t'](_0x33836b);}if(_0x59c833){_0x59c833 instanceof le&&(this['data']['normalMapA'+'sset']=_0x59c833['id'],_0x59c833=_0x59c833['id']);const _0x200ee2=_0x32a0e9['get'](_0x59c833);_0x200ee2?this['_bindNorma'+'lMapAsset'](_0x200ee2):_0x32a0e9['once']('add:'+_0x59c833,_0x173649=>{this['_bindNorma'+'lMapAsset'](_0x173649);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x2550e8){if(_0x2550e8['on']('load',this['_onMeshAss'+'etLoad'],this),_0x2550e8['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x2550e8['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x2550e8['on']('change',this['_onMeshAss'+'etChange'],this),_0x2550e8['resource'])this['_onMeshAss'+'etLoad'](_0x2550e8);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x2550e8);}}['_unbindMes'+'hAsset'](_0x1fda09){_0x1fda09['off']('load',this['_onMeshAss'+'etLoad'],this),_0x1fda09['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x1fda09['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x1fda09['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x47f0b1){this['_onMeshCha'+'nged'](_0x47f0b1['resource']);}['_onMeshAss'+'etUnload'](_0x2b32af){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x1710a8){this['_onMeshAss'+'etUnload'](_0x1710a8);}['_onMeshAss'+'etChange'](_0x5adec9){}['onSetMeshA'+'sset'](_0x34bb42,_0x1426f0,_0x1f15f1){const _0x38d57d=this['system']['app']['assets'];if(_0x1426f0){const _0x59f6aa=_0x38d57d['get'](_0x1426f0);_0x59f6aa&&this['_unbindMes'+'hAsset'](_0x59f6aa);}if(_0x1f15f1){_0x1f15f1 instanceof le&&(this['data']['meshAsset']=_0x1f15f1['id'],_0x1f15f1=_0x1f15f1['id']);const _0x366a5d=_0x38d57d['get'](_0x1f15f1);_0x366a5d&&this['_bindMeshA'+'sset'](_0x366a5d);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0xdad049,_0x1dd012,_0x4a6cc1){!_0x4a6cc1||_0x4a6cc1 instanceof le||typeof _0x4a6cc1=='number'?this['meshAsset']=_0x4a6cc1:this['_onMeshCha'+'nged'](_0x4a6cc1);}['_onMeshCha'+'nged'](_0x40ddaa){_0x40ddaa&&!(_0x40ddaa instanceof Ie)&&(_0x40ddaa['meshInstan'+'ces'][-0x12f0+-0x1*-0x1111+0x1df]?_0x40ddaa=_0x40ddaa['meshInstan'+'ces'][0x2d1*-0x1+-0xaa2*0x1+0xd73]['mesh']:_0x40ddaa=null),this['data']['mesh']=_0x40ddaa,this['emitter']&&(this['emitter']['mesh']=_0x40ddaa,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x2afde6,_0x35d350,_0xbdac36){const _0x38085b=this['system']['app']['assets'];if(_0x35d350){const _0x122ac9=_0x38085b['get'](_0x35d350);_0x122ac9&&this['_unbindRen'+'derAsset'](_0x122ac9);}if(_0xbdac36){_0xbdac36 instanceof le&&(this['data']['renderAsse'+'t']=_0xbdac36['id'],_0xbdac36=_0xbdac36['id']);const _0x50aa34=_0x38085b['get'](_0xbdac36);_0x50aa34&&this['_bindRende'+'rAsset'](_0x50aa34);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x27cce5){if(_0x27cce5['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x27cce5['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x27cce5['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x27cce5['resource'])this['_onRenderA'+'ssetLoad'](_0x27cce5);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x27cce5);}}['_unbindRen'+'derAsset'](_0x2f3881){var _0x10323b;_0x2f3881['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x2f3881['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x2f3881['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x10323b=this['_evtSetMes'+'hes'])==null||_0x10323b['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x58d7fc){this['_onRenderC'+'hanged'](_0x58d7fc['resource']);}['_onRenderA'+'ssetUnload'](_0xd5685d){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x33fe18){this['_onRenderA'+'ssetUnload'](_0x33fe18);}['_onRenderC'+'hanged'](_0x447401){var _0x1cdbb4;if(!_0x447401){this['_onMeshCha'+'nged'](null);return;}(_0x1cdbb4=this['_evtSetMes'+'hes'])==null||_0x1cdbb4['off'](),this['_evtSetMes'+'hes']=_0x447401['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x447401['meshes']&&this['_onRenderS'+'etMeshes'](_0x447401['meshes']);}['_onRenderS'+'etMeshes'](_0x413241){this['_onMeshCha'+'nged'](_0x413241&&_0x413241[-0x9e6+0x7ec+0xb*0x2e]);}['onSetLoop'](_0x3a4ab7,_0x3c0907,_0x48edbc){this['emitter']&&(this['emitter'][_0x3a4ab7]=_0x48edbc,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x4061e1,_0x5a0adb,_0x4c9eb4){this['emitter']&&(this['emitter'][_0x4061e1]=_0x4c9eb4,this['emitter']['material']['blendType']=_0x4c9eb4,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x10e5*0x1+-0x1efc*-0x1+-0x2fe1)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x1*-0xf2b+0x1010+-0xe4));}['onSetDepth'+'Softening'](_0x1a89a5,_0x5c9718,_0x24a7e4){_0x5c9718!==_0x24a7e4&&(_0x24a7e4?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1a89a5]=_0x24a7e4)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1a89a5]=_0x24a7e4)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x30ed0b,_0x1585b9,_0x15b23a){this['emitter']&&(this['emitter'][_0x30ed0b]=_0x15b23a,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x1183bd,_0x2d75c4,_0x4fb468){this['emitter']&&(this['emitter'][_0x1183bd]=_0x4fb468,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x22153c,_0x2cebfe,_0x371182){this['emitter']&&(this['emitter'][_0x22153c]=_0x371182,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x44477e=this['system']['app']['scene'],_0x32a42f=_0x44477e['layers'],_0x4f07c2=this['data'];for(let _0x2a5ccf=0x1*-0x2443+0x1a7d+-0x2*-0x4e3,_0x440776=Zl['length'];_0x2a5ccf<_0x440776;_0x2a5ccf++){let _0x900c21=_0x4f07c2[Zl[_0x2a5ccf]];if(_0x900c21){if(!(_0x900c21 instanceof le)){if(parseInt(_0x900c21,-0x18c6+0x214f*-0x1+0x3a1f)>=0xa43+-0x207c+0x1639)_0x900c21=this['system']['app']['assets']['get'](_0x900c21);else continue;}_0x900c21&&!_0x900c21['resource']&&this['system']['app']['assets']['load'](_0x900c21);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x1e115a=_0x4f07c2['mesh'];_0x1e115a instanceof Ie||(_0x1e115a=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x4f07c2['numParticl'+'es'],'emitterExtents':_0x4f07c2['emitterExt'+'ents'],'emitterExtentsInner':_0x4f07c2['emitterExt'+'entsInner'],'emitterRadius':_0x4f07c2['emitterRad'+'ius'],'emitterRadiusInner':_0x4f07c2['emitterRad'+'iusInner'],'emitterShape':_0x4f07c2['emitterSha'+'pe'],'initialVelocity':_0x4f07c2['initialVel'+'ocity'],'wrap':_0x4f07c2['wrap'],'localSpace':_0x4f07c2['localSpace'],'screenSpace':_0x4f07c2['screenSpac'+'e'],'wrapBounds':_0x4f07c2['wrapBounds'],'lifetime':_0x4f07c2['lifetime'],'rate':_0x4f07c2['rate'],'rate2':_0x4f07c2['rate2'],'orientation':_0x4f07c2['orientatio'+'n'],'particleNormal':_0x4f07c2['particleNo'+'rmal'],'animTilesX':_0x4f07c2['animTilesX'],'animTilesY':_0x4f07c2['animTilesY'],'animStartFrame':_0x4f07c2['animStartF'+'rame'],'animNumFrames':_0x4f07c2['animNumFra'+'mes'],'animNumAnimations':_0x4f07c2['animNumAni'+'mations'],'animIndex':_0x4f07c2['animIndex'],'randomizeAnimIndex':_0x4f07c2['randomizeA'+'nimIndex'],'animSpeed':_0x4f07c2['animSpeed'],'animLoop':_0x4f07c2['animLoop'],'startAngle':_0x4f07c2['startAngle'],'startAngle2':_0x4f07c2['startAngle'+'2'],'scaleGraph':_0x4f07c2['scaleGraph'],'scaleGraph2':_0x4f07c2['scaleGraph'+'2'],'colorGraph':_0x4f07c2['colorGraph'],'colorGraph2':_0x4f07c2['colorGraph'+'2'],'alphaGraph':_0x4f07c2['alphaGraph'],'alphaGraph2':_0x4f07c2['alphaGraph'+'2'],'localVelocityGraph':_0x4f07c2['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x4f07c2['localVeloc'+'ityGraph2'],'velocityGraph':_0x4f07c2['velocityGr'+'aph'],'velocityGraph2':_0x4f07c2['velocityGr'+'aph2'],'rotationSpeedGraph':_0x4f07c2['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x4f07c2['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x4f07c2['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x4f07c2['radialSpee'+'dGraph2'],'colorMap':_0x4f07c2['colorMap'],'normalMap':_0x4f07c2['normalMap'],'loop':_0x4f07c2['loop'],'preWarm':_0x4f07c2['preWarm'],'sort':_0x4f07c2['sort'],'stretch':_0x4f07c2['stretch'],'alignToMotion':_0x4f07c2['alignToMot'+'ion'],'lighting':_0x4f07c2['lighting'],'halfLambert':_0x4f07c2['halfLamber'+'t'],'intensity':_0x4f07c2['intensity'],'depthSoftening':_0x4f07c2['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x1e115a,'depthWrite':_0x4f07c2['depthWrite'],'noFog':_0x4f07c2['noFog'],'node':this['entity'],'blendType':_0x4f07c2['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x4f07c2['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x1*-0x1e13+-0x1857+0x366b));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x44477e['on']('set:layers',this['onLayersCh'+'anged'],this),_0x32a42f&&(this['_evtLayerA'+'dded']=_0x32a42f['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x32a42f['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x4f07c2['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x32878d,_0x2327b8,_0x55554b;const _0x9ed5a6=this['system']['app']['scene']['layers'];(_0x32878d=this['_evtLayers'+'Changed'])==null||_0x32878d['off'](),this['_evtLayers'+'Changed']=null,_0x9ed5a6&&((_0x2327b8=this['_evtLayerA'+'dded'])==null||_0x2327b8['off'](),this['_evtLayerA'+'dded']=null,(_0x55554b=this['_evtLayerR'+'emoved'])==null||_0x55554b['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x131a+0x132d*0x2+-0x539*0xb)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x5cdf74=0xc7c*0x1+0xdb3+-0x1a2f;_0x5cdf74<Zl['length'];_0x5cdf74++){const _0x2f9224=Zl[_0x5cdf74];this['data'][_0x2f9224]&&(this[_0x2f9224]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x1*0x13a+-0x97*-0x26+-0xbb*0x1d),this['emitter']['resetTime'](),this['emitter']['addTime'](-0x1e05+0x15d*0x9+0x11c0,!(-0x1*-0xbd4+0x1149*0x1+-0x1d1d*0x1)));}['pause'](){this['data']['paused']=!(0x13*0x13a+0x1b46*-0x1+-0x1fc*-0x2);}['unpause'](){this['data']['paused']=!(-0x1afb+0x1de8+-0x2ec);}['play'](){this['data']['paused']=!(0xb4*-0x11+0x4e9+-0x70c*-0x1),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x109*-0x4+-0x258b+0x2167),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x2383*0x1+-0x644+-0x1d3e):this['emitter']&&this['emitter']['loop']?!(-0xa2*-0x26+-0x1*0xbc3+-0xc49):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x21e088}=this;_0x21e088&&!_0x21e088['inTools']&&(_0x21e088['inTools']=!(0xa21+0xff7+-0x1a18),this['rebuild']());}['rebuild'](){const _0xe3c4ce=this['enabled'];this['enabled']=!(-0x13e8+0xfd2+0x417),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0xe3c4ce;}}class lI{constructor(){this['numParticl'+'es']=0x183*0x1+-0xe3f+0xcbd,this['rate']=-0x1cad+0x1dcb*-0x1+-0x3a79*-0x1,this['rate2']=null,this['startAngle']=0xd7*-0x22+-0x16bf+-0x1*-0x334d,this['startAngle'+'2']=null,this['lifetime']=0x234+-0x7*0x463+-0xed*-0x1f,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=-0x1282+0x8b5+0x9cd,this['emitterRad'+'iusInner']=0x1b89+-0xbb9*0x3+0x7a2,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=-0xfb*0x1a+0x4d*-0x55+0x330f,this['wrap']=!(0x43*-0x7c+0x1d4+0x1ea1*0x1),this['wrapBounds']=new T(),this['localSpace']=!(-0x1b1b+-0x3f*0x7b+0x3961),this['screenSpac'+'e']=!(-0x176e+0x3*0x8e8+-0x349),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x61*-0x50+-0xa73+-0x13dd),this['preWarm']=!(0x1cb+-0xc37+-0x9d*-0x11),this['sort']=-0x18d9+0x5bd*0x1+-0x2*-0x98e,this['mode']=d0,this['scene']=null,this['lighting']=!(-0xd*-0x101+0x1fb3+-0x2cbf),this['halfLamber'+'t']=!(0x6*0x31c+-0x2*0xeed+-0x1*-0xb33),this['intensity']=-0xebe+0x4*-0x50e+-0x22f7*-0x1,this['stretch']=0x3*0xd01+0xc2a*-0x3+-0x5*0x81,this['alignToMot'+'ion']=!(-0x257c+-0x2*-0x749+-0x1*-0x16eb),this['depthSofte'+'ning']=0x1*-0xd0a+-0x469*-0x3+-0x31,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0xa55+0x1*0x152f+-0xad9),this['noFog']=!(0xc5*0x1+-0x1e79+0x1db5),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(-0x1cbc+-0xd93+0x2a4f,-0x2*0x1fd+0xf75+-0xb7a,0x1*-0x2329+0x1fa3+-0x29*-0x16),this['animTilesX']=0x1e2*0x6+0x26af+0x2*-0x18fd,this['animTilesY']=0xcc1+0x6*0xc7+-0x6*0x2e7,this['animStartF'+'rame']=-0x29*-0xe0+0x280+0x1330*-0x2,this['animNumFra'+'mes']=0x2331+-0xc2*-0x15+-0x1a6*0x1f,this['animNumAni'+'mations']=-0x99*-0x4+-0x6a2*-0x3+-0x1649,this['animIndex']=-0x2070+0x88c+0x17e4,this['randomizeA'+'nimIndex']=!(0xe*0x4a+-0x2*-0x68e+-0x1127),this['animSpeed']=-0x8d+-0x1d0d+0x1d9b,this['animLoop']=!(-0x65*0x3b+-0xfb*-0x8+-0x1*-0xf6f),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(-0xc4b+-0x5*0x2be+0x1a01),this['paused']=!(0x2089*-0x1+-0x96*0x25+0x3638),this['autoPlay']=!(0x1*-0x4e5+-0xdd8+0x12bd),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x94d025){super(_0x94d025),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x257a6a,_0x357941,_0x157fdb){const _0x1c3d29={};_0x157fdb=[];const _0x4815cd=this['propertyTy'+'pes'];(_0x357941['mesh']instanceof le||typeof _0x357941['mesh']=='number')&&(_0x357941['meshAsset']=_0x357941['mesh'],delete _0x357941['mesh']);for(const _0x2807ec in _0x357941){if(_0x357941['hasOwnProp'+'erty'](_0x2807ec)&&(_0x157fdb['push'](_0x2807ec),_0x1c3d29[_0x2807ec]=_0x357941[_0x2807ec]),_0x4815cd[_0x2807ec]==='vec3')Array['isArray'](_0x1c3d29[_0x2807ec])&&(_0x1c3d29[_0x2807ec]=new T(_0x1c3d29[_0x2807ec][-0xc13+0x69c+0x577*0x1],_0x1c3d29[_0x2807ec][0xf38+-0x48c+0x1*-0xaab],_0x1c3d29[_0x2807ec][-0x263b*-0x1+0x47*0x3e+-0x376b]));else{if(_0x4815cd[_0x2807ec]==='curve'){if(!(_0x1c3d29[_0x2807ec]instanceof Cs)){const _0x571663=_0x1c3d29[_0x2807ec]['type'];_0x1c3d29[_0x2807ec]=new Cs(_0x1c3d29[_0x2807ec]['keys']),_0x1c3d29[_0x2807ec]['type']=_0x571663;}}else{if(_0x4815cd[_0x2807ec]==='curveset'&&!(_0x1c3d29[_0x2807ec]instanceof jr)){const _0x5485cd=_0x1c3d29[_0x2807ec]['type'];_0x1c3d29[_0x2807ec]=new jr(_0x1c3d29[_0x2807ec]['keys']),_0x1c3d29[_0x2807ec]['type']=_0x5485cd;}}}_0x1c3d29['layers']&&Array['isArray'](_0x1c3d29['layers'])&&(_0x1c3d29['layers']=_0x1c3d29['layers']['slice'](0x471*-0x3+-0x24df+0x3232));}super['initialize'+'ComponentD'+'ata'](_0x257a6a,_0x1c3d29,_0x157fdb);}['cloneCompo'+'nent'](_0x2040cd,_0x563152){const _0x46ba4c=_0x2040cd['particlesy'+'stem']['data'],_0x59b090=this['schema'],_0x614671={};for(let _0x2fe547=-0x263f+-0x69*0x14+-0x205*-0x17,_0x558f24=_0x59b090['length'];_0x2fe547<_0x558f24;_0x2fe547++){const _0x5beebe=_0x59b090[_0x2fe547];let _0x45243c=_0x46ba4c[_0x5beebe];_0x45243c instanceof T||_0x45243c instanceof Cs||_0x45243c instanceof jr?(_0x45243c=_0x45243c['clone'](),_0x614671[_0x5beebe]=_0x45243c):_0x5beebe==='layers'?_0x614671['layers']=_0x46ba4c['layers']['slice'](-0x2701+0xc93+-0xc7*-0x22):_0x45243c!=null&&(_0x614671[_0x5beebe]=_0x45243c);}return this['addCompone'+'nt'](_0x563152,_0x614671);}['onUpdate'](_0x518a32){const _0x30d476=this['store'];let _0x5992ad;const _0x215ab0=this['app']['stats']['particles'],_0x57c245=this['app']['scene']['layers'];for(let _0x445e28=-0x1661+0x1974+-0x1*0x313;_0x445e28<_0x57c245['layerList']['length'];_0x445e28++)_0x57c245['layerList'][_0x445e28]['requiresLi'+'ghtCube']=!(-0x26ae+0x1d*-0x5+-0x9d*-0x40);for(const _0x1e6a6b in _0x30d476)if(_0x30d476['hasOwnProp'+'erty'](_0x1e6a6b)){const _0x55095c=_0x30d476[_0x1e6a6b],_0x13daf4=_0x55095c['entity'],_0x119a1e=_0x55095c['data'];if(_0x119a1e['enabled']&&_0x13daf4['enabled']){const _0x59a107=_0x13daf4['particlesy'+'stem']['emitter'];if(!(_0x59a107!=null&&_0x59a107['meshInstan'+'ce']['visible']))continue;if(_0x59a107['lighting']){const _0x40ca2f=_0x119a1e['layers'];for(let _0xbab9ec=-0xff2+0xe0*0x27+-0x122e;_0xbab9ec<_0x40ca2f['length'];_0xbab9ec++){const _0x10c35b=_0x57c245['getLayerBy'+'Id'](_0x40ca2f[_0xbab9ec]);_0x10c35b&&(_0x10c35b['requiresLi'+'ghtCube']=!(-0x2547+-0x1*-0x1757+0x6f8*0x2));}}if(!_0x119a1e['paused']){if(_0x59a107['simTime']+=_0x518a32,_0x59a107['simTime']>_0x59a107['fixedTimeS'+'tep']&&(_0x5992ad=Math['floor'](_0x59a107['simTime']/_0x59a107['fixedTimeS'+'tep']),_0x59a107['simTime']-=_0x5992ad*_0x59a107['fixedTimeS'+'tep']),_0x5992ad){_0x5992ad=Math['min'](_0x5992ad,_0x59a107['maxSubStep'+'s']);for(let _0x21cec0=0x2374+0x219b+-0x450f;_0x21cec0<_0x5992ad;_0x21cec0++)_0x59a107['addTime'](_0x59a107['fixedTimeS'+'tep'],!(-0x855+-0x2131+0x2987));_0x215ab0['_updatesPe'+'rFrame']+=_0x5992ad,_0x215ab0['_frameTime']+=_0x59a107['_addTimeTi'+'me'],_0x59a107['_addTimeTi'+'me']=0xae1+-0xd0a*-0x1+-0x1d7*0xd;}_0x59a107['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x380592,_0x49ebef){_0x49ebef['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x2b90d7,_0xe87eb1){super(),this['skin']=_0x2b90d7,this['skinInstan'+'ce']=_0xe87eb1;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x222147,_0x4523bc)=>{console['log'](_0x4523bc['name']+':\x20Array('+_0x222147['length']+')');for(let _0x6ba919=0x53*0x31+-0x3*0x984+-0x1cf*-0x7;_0x6ba919<_0x222147['length'];_0x6ba919++)console['log']('\x20\x20'+_0x6ba919+(':\x20RefCount'+'\x20')+_0x222147[_0x6ba919]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x315253,_0x497b35,_0x3fa139){let _0x29fd40=bs['getCachedS'+'kinInstanc'+'e'](_0x315253,_0x497b35);return _0x29fd40||(_0x29fd40=new nl(_0x315253),_0x29fd40['resolve'](_0x497b35,_0x3fa139),bs['addCachedS'+'kinInstanc'+'e'](_0x315253,_0x497b35,_0x29fd40)),_0x29fd40;}static['getCachedS'+'kinInstanc'+'e'](_0x6f54c1,_0x11caf2){let _0x4d8e6c=null;const _0x1cac79=bs['_skinInsta'+'nceCache']['get'](_0x11caf2);if(_0x1cac79){const _0x2e8db3=_0x1cac79['find'](_0x47dec5=>_0x47dec5['skin']===_0x6f54c1);_0x2e8db3&&(_0x2e8db3['incRefCoun'+'t'](),_0x4d8e6c=_0x2e8db3['skinInstan'+'ce']);}return _0x4d8e6c;}static['addCachedS'+'kinInstanc'+'e'](_0x35cab6,_0x4bb737,_0x88a6c4){let _0x103415=bs['_skinInsta'+'nceCache']['get'](_0x4bb737);_0x103415||(_0x103415=[],bs['_skinInsta'+'nceCache']['set'](_0x4bb737,_0x103415));let _0x57d095=_0x103415['find'](_0x50ee42=>_0x50ee42['skin']===_0x35cab6);_0x57d095||(_0x57d095=new dI(_0x35cab6,_0x88a6c4),_0x103415['push'](_0x57d095)),_0x57d095['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x5a47aa){if(_0x5a47aa){const _0xc99695=_0x5a47aa['rootBone'];if(_0xc99695){const _0x2796dd=bs['_skinInsta'+'nceCache']['get'](_0xc99695);if(_0x2796dd){const _0x1e4a27=_0x2796dd['findIndex'](_0x52685a=>_0x52685a['skinInstan'+'ce']===_0x5a47aa);if(_0x1e4a27>=-0x28*-0x4c+0x1ddb+0x29bb*-0x1){const _0x89c6bc=_0x2796dd[_0x1e4a27];_0x89c6bc['decRefCoun'+'t'](),_0x89c6bc['refCount']===0x3c1*0x3+-0x25e3*-0x1+-0xe9*0x36&&(_0x2796dd['splice'](_0x1e4a27,-0x1992+0x9*0x1e+0x1885),_0x2796dd['length']||bs['_skinInsta'+'nceCache']['delete'](_0xc99695),_0x5a47aa&&(_0x5a47aa['destroy'](),_0x89c6bc['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x87c9e9,_0x297b6c,_0x6e4724,_0x5571d7,_0x5656c8){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x87c9e9,this['parent']=_0x297b6c,this['_scope']=_0x5656c8,this['_registry']=_0x6e4724,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x5571d7['load'],this['_onAssetAd'+'d']=_0x5571d7['add'],this['_onAssetRe'+'move']=_0x5571d7['remove'],this['_onAssetUn'+'load']=_0x5571d7['unload']);}set['id'](_0x4fbccc){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x4fbccc,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x1f5bcc){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x1f5bcc,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x211a5e,_0x51155f,_0x2c8c89,_0x1b7fdd,_0x4bee65,_0xb74596,_0x6b308b;this['id']&&((_0x211a5e=this['_evtLoadBy'+'Id'])==null||_0x211a5e['off'](),this['_evtLoadBy'+'Id']=null,(_0x51155f=this['_evtAddByI'+'d'])==null||_0x51155f['off'](),this['_evtAddByI'+'d']=null,(_0x2c8c89=this['_evtRemove'+'ById'])==null||_0x2c8c89['off'](),this['_evtRemove'+'ById']=null,(_0x1b7fdd=this['_evtUnload'+'ById'])==null||_0x1b7fdd['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x4bee65=this['_evtLoadBy'+'Url'])==null||_0x4bee65['off'](),this['_evtLoadBy'+'Url']=null,(_0xb74596=this['_evtAddByU'+'rl'])==null||_0xb74596['off'](),this['_evtAddByU'+'rl']=null,(_0x6b308b=this['_evtRemove'+'ByUrl'])==null||_0x6b308b['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x355f10){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x355f10);}['_onAdd'](_0x1fded1){this['asset']=_0x1fded1,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1fded1);}['_onRemove'](_0xdecfc5){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0xdecfc5),this['asset']=null;}['_onUnload'](_0x300a94){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x300a94);}}class fx extends ue{constructor(_0x2b0749,_0x160d0e){super(_0x2b0749,_0x160d0e),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0x17*0x9d+-0x19ea+-0xf*-0x2ab)),c(this,'_receiveSh'+'adows',!(0xe17*0x2+-0x22f6+0x1c*0x3e)),c(this,'_castShado'+'wsLightmap',!(0x4*-0x84c+-0x184*-0x7+0x4*0x5a5)),c(this,'_lightmapp'+'ed',!(-0x1e85+0x1*0x11f3+0xc93*0x1)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x15e4+0x1f*-0xef+-0x3*-0x10f2),c(this,'isStatic',!(0x2314*-0x1+0x2*0xb02+0xd11)),c(this,'_batchGrou'+'pId',-(-0x10*0x1f1+-0x102b*0x1+0x2f3c)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x2b0749['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x2b0749['defaultMat'+'erial'],_0x160d0e['on']('remove',this['onRemoveCh'+'ild'],this),_0x160d0e['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x160d0e['on']('insert',this['onInsertCh'+'ild'],this),_0x160d0e['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x54ca0a){this['_renderSty'+'le']!==_0x54ca0a&&(this['_renderSty'+'le']=_0x54ca0a,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x54ca0a));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x10858e){this['_customAab'+'b']=_0x10858e;const _0x4c17d4=this['_meshInsta'+'nces'];if(_0x4c17d4){for(let _0x33be89=0x22cf+0x1bde+-0x3ead;_0x33be89<_0x4c17d4['length'];_0x33be89++)_0x4c17d4[_0x33be89]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x302180){if(this['_type']!==_0x302180&&(this['_area']=null,this['_type']=_0x302180,this['destroyMes'+'hInstances'](),_0x302180!=='asset')){let _0x3f1c8f=this['_material'];(!_0x3f1c8f||_0x3f1c8f===this['system']['defaultMat'+'erial'])&&(_0x3f1c8f=this['_materialR'+'eferences'][0xf04+-0x3aa+-0x1*0xb5a]&&this['_materialR'+'eferences'][-0xf2*-0x6+0x53*-0x2c+0xb*0xc8]['asset']&&this['_materialR'+'eferences'][0x1b25+-0x83*-0x1f+-0x2de*0xf]['asset']['resource']);const _0x5913e2=cx(this['system']['app']['graphicsDe'+'vice'],_0x302180);this['_area']=_0x5913e2['area'],this['meshInstan'+'ces']=[new Le(_0x5913e2['mesh'],_0x3f1c8f||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x402e13){if(v['assert'](Array['isArray'](_0x402e13),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x402e13,this['_meshInsta'+'nces']){const _0x4cccbd=this['_meshInsta'+'nces'];for(let _0x1a109e=-0x982*-0x4+0x274+-0x287c;_0x1a109e<_0x4cccbd['length'];_0x1a109e++)_0x4cccbd[_0x1a109e]['node']||(_0x4cccbd[_0x1a109e]['node']=this['entity']),_0x4cccbd[_0x1a109e]['castShadow']=this['_castShado'+'ws'],_0x4cccbd[_0x1a109e]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x4cccbd[_0x1a109e]['renderStyl'+'e']=this['_renderSty'+'le'],_0x4cccbd[_0x1a109e]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x4cccbd[_0x1a109e]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x1bf36d){if(_0x1bf36d!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x1bf36d;const _0x5f1459=this['_meshInsta'+'nces'];if(_0x5f1459){for(let _0x46f46e=0x1d07+0x548*-0x2+-0x1277;_0x46f46e<_0x5f1459['length'];_0x46f46e++)_0x5f1459[_0x46f46e]['setLightma'+'pped'](_0x1bf36d);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x3ef7e0){if(this['_castShado'+'ws']!==_0x3ef7e0){const _0x4a7ffe=this['_meshInsta'+'nces'];if(_0x4a7ffe){const _0x570aa0=this['layers'],_0x4d65ab=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x3ef7e0)for(let _0x59bf34=-0x1*-0x23e3+0x2*0xf7a+-0xf1*0x47;_0x59bf34<_0x570aa0['length'];_0x59bf34++){const _0x48f190=_0x4d65ab['layers']['getLayerBy'+'Id'](this['layers'][_0x59bf34]);_0x48f190&&_0x48f190['removeShad'+'owCasters'](_0x4a7ffe);}for(let _0x406225=-0x1cc+0x5*-0xc7+0x5af;_0x406225<_0x4a7ffe['length'];_0x406225++)_0x4a7ffe[_0x406225]['castShadow']=_0x3ef7e0;if(!this['_castShado'+'ws']&&_0x3ef7e0)for(let _0x425a8d=-0x1ad5+-0x17cc+0x32a1;_0x425a8d<_0x570aa0['length'];_0x425a8d++){const _0x62fb5a=_0x4d65ab['layers']['getLayerBy'+'Id'](_0x570aa0[_0x425a8d]);_0x62fb5a&&_0x62fb5a['addShadowC'+'asters'](_0x4a7ffe);}}this['_castShado'+'ws']=_0x3ef7e0;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x1da52e){if(this['_receiveSh'+'adows']!==_0x1da52e){this['_receiveSh'+'adows']=_0x1da52e;const _0x1f6162=this['_meshInsta'+'nces'];if(_0x1f6162){for(let _0x285d4d=0x21f4+0x17ed+-0x1c1*0x21;_0x285d4d<_0x1f6162['length'];_0x285d4d++)_0x1f6162[_0x285d4d]['receiveSha'+'dow']=_0x1da52e;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0xc5028f){this['_castShado'+'wsLightmap']=_0xc5028f;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0xddf63e){this['_lightmapS'+'izeMultipl'+'ier']=_0xddf63e;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x4964d6){const _0x2880da=this['system']['app']['scene']['layers'];let _0x1b0b43;if(this['_meshInsta'+'nces']){for(let _0xb366dc=0xe27*0x1+-0x1527+0x700;_0xb366dc<this['_layers']['length'];_0xb366dc++)_0x1b0b43=_0x2880da['getLayerBy'+'Id'](this['_layers'][_0xb366dc]),_0x1b0b43&&_0x1b0b43['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x925+-0x1fae+0x28d3;for(let _0x5c2897=0x2d*-0x79+0x5*-0x23f+0x104*0x20;_0x5c2897<_0x4964d6['length'];_0x5c2897++)this['_layers'][_0x5c2897]=_0x4964d6[_0x5c2897];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x241b8c=-0x581*0x1+-0x29*-0xb7+-0x17ce;_0x241b8c<this['_layers']['length'];_0x241b8c++)_0x1b0b43=_0x2880da['getLayerBy'+'Id'](this['_layers'][_0x241b8c]),_0x1b0b43&&_0x1b0b43['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x4a75b6){var _0x452523,_0x13ed33;this['_batchGrou'+'pId']!==_0x4a75b6&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x3c3+-0xc*-0x2c2+0x3*-0xc49&&((_0x452523=this['system']['app']['batcher'])==null||_0x452523['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x4a75b6>=-0x2*-0x853+0x17a5+-0x284b*0x1&&((_0x13ed33=this['system']['app']['batcher'])==null||_0x13ed33['insert'](et['RENDER'],_0x4a75b6,this['entity'])),_0x4a75b6<-0xbe4+-0x25f4+0x31d8&&this['_batchGrou'+'pId']>=0xbfc+-0x2419+0x181d&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x4a75b6);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x258fbd){if(this['_material']!==_0x258fbd&&(this['_material']=_0x258fbd,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x4ca060=0x6e0+-0x5*-0x784+-0x2c74;_0x4ca060<this['_meshInsta'+'nces']['length'];_0x4ca060++)this['_meshInsta'+'nces'][_0x4ca060]['material']=_0x258fbd;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x6adc1=[]){if(this['_materialR'+'eferences']['length']>_0x6adc1['length']){for(let _0x7acb4b=_0x6adc1['length'];_0x7acb4b<this['_materialR'+'eferences']['length'];_0x7acb4b++)this['_materialR'+'eferences'][_0x7acb4b]['id']=null;this['_materialR'+'eferences']['length']=_0x6adc1['length'];}for(let _0x4d8041=-0xdf8+0x1*0x1007+0x11*-0x1f;_0x4d8041<_0x6adc1['length'];_0x4d8041++)if(this['_materialR'+'eferences'][_0x4d8041]||this['_materialR'+'eferences']['push'](new Go(_0x4d8041,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x6adc1[_0x4d8041]){const _0x1ae8d0=_0x6adc1[_0x4d8041]instanceof le?_0x6adc1[_0x4d8041]['id']:_0x6adc1[_0x4d8041];this['_materialR'+'eferences'][_0x4d8041]['id']!==_0x1ae8d0&&(this['_materialR'+'eferences'][_0x4d8041]['id']=_0x1ae8d0),this['_materialR'+'eferences'][_0x4d8041]['asset']&&this['_onMateria'+'lAdded'](_0x4d8041,this,this['_materialR'+'eferences'][_0x4d8041]['asset']);}else this['_materialR'+'eferences'][_0x4d8041]['id']=null,this['_meshInsta'+'nces'][_0x4d8041]&&(this['_meshInsta'+'nces'][_0x4d8041]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0xffccd=>_0xffccd['id']);}set['asset'](_0x150d64){const _0x166029=_0x150d64 instanceof le?_0x150d64['id']:_0x150d64;this['_assetRefe'+'rence']['id']!==_0x166029&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x166029,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x26c31a){const _0x251032=_0x26c31a instanceof le?_0x26c31a['id']:_0x26c31a;this['_assetRefe'+'rence']['id']=_0x251032;}set['rootBone'](_0x326637){if(this['_rootBone']!==_0x326637){const _0x57ec23=typeof _0x326637=='string';if(this['_rootBone']&&_0x57ec23&&this['_rootBone']['getGuid']()===_0x326637)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x326637 instanceof De?this['_rootBone']=_0x326637:_0x57ec23?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x326637)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0xe594a6=this['_meshInsta'+'nces'];if(_0xe594a6){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x5d3743=0x21f+-0x1b9*-0x13+0x22da*-0x1;_0x5d3743<_0xe594a6['length'];_0x5d3743++)_0xe594a6[_0x5d3743]['destroy']();this['_meshInsta'+'nces']['length']=0xcd0+0x806+-0x14d6;}}['addToLayer'+'s'](){const _0x53de8b=this['system']['app']['scene']['layers'];for(let _0xb79add=0x20ab+0x238a+-0x4435;_0xb79add<this['_layers']['length'];_0xb79add++){const _0x49172c=_0x53de8b['getLayerBy'+'Id'](this['_layers'][_0xb79add]);_0x49172c&&_0x49172c['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x5d5a6c=this['system']['app']['scene']['layers'];for(let _0x4dae15=-0x13ac+0x1*-0x202a+0x33d6;_0x4dae15<this['_layers']['length'];_0x4dae15++){const _0x47ca01=_0x5d5a6c['getLayerBy'+'Id'](this['_layers'][_0x4dae15]);_0x47ca01&&_0x47ca01['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x444470=0x1*0x40f+0x1674+-0x1*0x1a83;_0x444470<this['_materialR'+'eferences']['length'];_0x444470++)this['_materialR'+'eferences'][_0x444470]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x2344d7,_0x5eac08){this['addToLayer'+'s'](),_0x2344d7['off']('add',this['onLayerAdd'+'ed'],this),_0x2344d7['off']('remove',this['onLayerRem'+'oved'],this),_0x5eac08['on']('add',this['onLayerAdd'+'ed'],this),_0x5eac08['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x27cb4f){this['layers']['indexOf'](_0x27cb4f['id'])<0x13e9+0x1779+-0x2b62||_0x27cb4f['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x378051){this['layers']['indexOf'](_0x378051['id'])<0x13*0xcd+0x57*0x7+-0x466*0x4||_0x378051['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x151e1d;const _0x686a48=this['system']['app'],_0x231bde=_0x686a48['scene'],_0x37f686=_0x231bde['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x231bde['on']('set:layers',this['onLayersCh'+'anged'],this),_0x37f686&&(this['_evtLayerA'+'dded']=_0x37f686['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x37f686['on']('remove',this['onLayerRem'+'oved'],this));const _0x3f83c5=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x3f83c5&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x186340=-0xcb3+-0x100a+0x1cbd*0x1;_0x186340<this['_materialR'+'eferences']['length'];_0x186340++)this['_materialR'+'eferences'][_0x186340]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x186340]['asset']);this['_batchGrou'+'pId']>=-0x20d1*-0x1+0x1*-0x163a+-0xa97*0x1&&((_0x151e1d=_0x686a48['batcher'])==null||_0x151e1d['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x3fc184,_0xcf1f60,_0x4c42c5,_0x2b3726;const _0xf363c6=this['system']['app'],_0x8bd86=_0xf363c6['scene']['layers'];(_0x3fc184=this['_evtLayers'+'Changed'])==null||_0x3fc184['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x8bd86&&((_0xcf1f60=this['_evtLayerA'+'dded'])==null||_0xcf1f60['off'](),this['_evtLayerA'+'dded']=null,(_0x4c42c5=this['_evtLayerR'+'emoved'])==null||_0x4c42c5['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x7*-0x14+0xaa5+0xbf*-0xf&&((_0x2b3726=_0xf363c6['batcher'])==null||_0x2b3726['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x17d9a5=0xd3*-0xa+0x865+-0x27;_0x17d9a5<this['_meshInsta'+'nces']['length'];_0x17d9a5++)this['_meshInsta'+'nces'][_0x17d9a5]['visible']=!(-0x2a5*0x3+-0xe9a*0x2+0x2524);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x8a7a94=0x9*0xc9+-0x1a84+0x1373;_0x8a7a94<this['_meshInsta'+'nces']['length'];_0x8a7a94++)this['_meshInsta'+'nces'][_0x8a7a94]['visible']=!(-0x5*-0x4fd+-0xab*0x31+0x7ca);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x207065;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x44032c=this['_assetRefe'+'rence']['asset']['resource'];(_0x207065=this['_evtSetMes'+'hes'])==null||_0x207065['off'](),this['_evtSetMes'+'hes']=_0x44032c['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x44032c['meshes']&&this['_onSetMesh'+'es'](_0x44032c['meshes']);}}['_onSetMesh'+'es'](_0x14fe50){this['_cloneMesh'+'es'](_0x14fe50);}['_clearSkin'+'Instances'](){for(let _0x5c337b=0x56*-0x6+-0x3*0x6a3+0x1*0x15ed;_0x5c337b<this['_meshInsta'+'nces']['length'];_0x5c337b++){const _0x47204c=this['_meshInsta'+'nces'][_0x5c337b];Vo['removeCach'+'edSkinInst'+'ance'](_0x47204c['skinInstan'+'ce']),_0x47204c['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x46a78a=-0x2*-0x10c1+-0x3*-0x431+-0x2e15;_0x46a78a<this['_meshInsta'+'nces']['length'];_0x46a78a++){const _0x4c67d7=this['_meshInsta'+'nces'][_0x46a78a],_0x53a2f9=_0x4c67d7['mesh'];_0x53a2f9['skin']&&!_0x4c67d7['skinInstan'+'ce']&&(_0x4c67d7['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x53a2f9['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0xa8630f){if(_0xa8630f&&_0xa8630f['length']){const _0x24dd15=[];for(let _0x409ed2=0xf6+-0x1141+-0x1*-0x104b;_0x409ed2<_0xa8630f['length'];_0x409ed2++){const _0xc7cc58=_0xa8630f[_0x409ed2],_0x5513ca=this['_materialR'+'eferences'][_0x409ed2]&&this['_materialR'+'eferences'][_0x409ed2]['asset']&&this['_materialR'+'eferences'][_0x409ed2]['asset']['resource'],_0x59fc10=new Le(_0xc7cc58,_0x5513ca||this['system']['defaultMat'+'erial'],this['entity']);_0x24dd15['push'](_0x59fc10),_0xc7cc58['morph']&&(_0x59fc10['morphInsta'+'nce']=new fn(_0xc7cc58['morph']));}this['meshInstan'+'ces']=_0x24dd15,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x35ec32;(_0x35ec32=this['_evtSetMes'+'hes'])==null||_0x35ec32['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x3303ef,_0x2d0484,_0x584350){_0x584350['resource']?this['_onMateria'+'lLoad'](_0x3303ef,_0x2d0484,_0x584350):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x584350);}['_updateMai'+'nMaterial'](_0xddc14d,_0x54cf79){_0xddc14d===-0x12c9+-0x162b*-0x1+0x1*-0x362&&(this['material']=_0x54cf79);}['_onMateria'+'lLoad'](_0x222b67,_0x202708,_0x577768){this['_meshInsta'+'nces'][_0x222b67]&&(this['_meshInsta'+'nces'][_0x222b67]['material']=_0x577768['resource']),this['_updateMai'+'nMaterial'](_0x222b67,_0x577768['resource']);}['_onMateria'+'lRemove'](_0x2bbe72,_0x86c270,_0x2eb04a){this['_meshInsta'+'nces'][_0x2bbe72]&&(this['_meshInsta'+'nces'][_0x2bbe72]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x2bbe72,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x5cc27f,_0x12c1b1,_0x2a3a12){this['_meshInsta'+'nces'][_0x5cc27f]&&(this['_meshInsta'+'nces'][_0x5cc27f]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x5cc27f,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x31e369,_0x25d550){_0x31e369['rootBone']&&(this['rootBone']=_0x25d550[_0x31e369['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(0x7*-0x11b+-0x20b+0x9c8);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x2ba75a){super(_0x2ba75a),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x2ba75a['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x247af5,_0x5001fc,_0x527b0a){(_0x5001fc['batchGroup'+'Id']===null||_0x5001fc['batchGroup'+'Id']===void(-0xc5e*-0x3+-0x220a+0x310*-0x1))&&(_0x5001fc['batchGroup'+'Id']=-(-0x2b6*0x1+-0x106*0x12+0x1523)),_0x5001fc['layers']&&_0x5001fc['layers']['length']&&(_0x5001fc['layers']=_0x5001fc['layers']['slice'](0x1*-0xf1+0xc97*-0x1+0xd88));for(let _0x34cdc9=0x99a+-0x25e1*-0x1+-0x2f7b*0x1;_0x34cdc9<Mr['length'];_0x34cdc9++)_0x5001fc['hasOwnProp'+'erty'](Mr[_0x34cdc9])&&(_0x247af5[Mr[_0x34cdc9]]=_0x5001fc[Mr[_0x34cdc9]]);_0x5001fc['aabbCenter']&&_0x5001fc['aabbHalfEx'+'tents']&&(_0x247af5['customAabb']=new _e(new T(_0x5001fc['aabbCenter']),new T(_0x5001fc['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x247af5,_0x5001fc,pf);}['cloneCompo'+'nent'](_0x3af2ff,_0x42ebd7){const _0x5a7dc8={};for(let _0x14731e=0x7*0x2dd+0x40f+0xc0d*-0x2;_0x14731e<Mr['length'];_0x14731e++)_0x5a7dc8[Mr[_0x14731e]]=_0x3af2ff['render'][Mr[_0x14731e]];_0x5a7dc8['enabled']=_0x3af2ff['render']['enabled'],delete _0x5a7dc8['meshInstan'+'ces'];const _0x3882fe=this['addCompone'+'nt'](_0x42ebd7,_0x5a7dc8),_0x1bd9c3=_0x3af2ff['render']['meshInstan'+'ces'],_0x30d429=_0x1bd9c3['map'](_0x27edbb=>_0x27edbb['mesh']);_0x3882fe['_onSetMesh'+'es'](_0x30d429);for(let _0x5df2c3=-0x4ad+0x27c+0x33*0xb;_0x5df2c3<_0x1bd9c3['length'];_0x5df2c3++)_0x3882fe['meshInstan'+'ces'][_0x5df2c3]['material']=_0x1bd9c3[_0x5df2c3]['material'];return _0x3af2ff['render']['customAabb']&&(_0x3882fe['customAabb']=_0x3af2ff['render']['customAabb']['clone']()),_0x3882fe;}['onRemove'](_0x4eeb4e,_0x2acba7){_0x2acba7['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0xd82472,_0x590014){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',0x1b6b+0x1dc9+-0x3934),(this['_construct'+'or']=_0xd82472,this['_resize'](_0x590014));}['_resize'](_0x51fd7e){if(_0x51fd7e>this['_pool']['length']){for(let _0x6f1e6f=this['_pool']['length'];_0x6f1e6f<_0x51fd7e;_0x6f1e6f++)this['_pool'][_0x6f1e6f]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x16d1+0x4*-0x31d+-0xa5b)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x9eb+-0x12d4+-0x8e9*-0x1;}}let Vt,xe,gs,$n;const pI=new se(),mI=new se(),Ql=new T();class $s extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',0x19c*0x10+-0x1b4a+-0x2*-0xc5),c(this,'_angularFa'+'ctor',new T(0x148+0x1a7f+-0x1bc6*0x1,0xbf5+0x4*0x61f+-0x2470,0x2ae+-0x79b+0x4ee)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',0x1dfc+-0x8b3+-0x1549+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',-0x4*0x134+0x5*-0x6ce+0x1*0x26d6),c(this,'_linearFac'+'tor',new T(0x1a3*0xe+0x182b+-0x2f14,-0x1afd+0x845+0x1*0x12b9,-0x772*0x1+-0x1*-0xdee+-0xed*0x7)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',-0x9ef*0x2+0x1a03+0x6*-0x106),c(this,'_restituti'+'on',-0x1028+-0x154b+-0x2573*-0x1),c(this,'_rollingFr'+'iction',0x7d+-0x17*0xb0+-0x1*-0xf53),c(this,'_simulatio'+'nEnabled',!(-0x79+0x1*-0x1b41+0x1f*0xe5)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),$n=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy']($n),Vt=null,xe=null,gs=null,$n=null;}set['angularDam'+'ping'](_0x5635b1){this['_angularDa'+'mping']!==_0x5635b1&&(this['_angularDa'+'mping']=_0x5635b1,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x5635b1));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x44d239){this['_angularFa'+'ctor']['equals'](_0x44d239)||(this['_angularFa'+'ctor']['copy'](_0x44d239),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x44d239['x'],_0x44d239['y'],_0x44d239['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x3c951e){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x3c951e['x'],_0x3c951e['y'],_0x3c951e['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x3c951e));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x4dac58=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x4dac58['x'](),_0x4dac58['y'](),_0x4dac58['z']());}return this['_angularVe'+'locity'];}set['body'](_0x28f101){this['_body']!==_0x28f101&&(this['_body']=_0x28f101,_0x28f101&&this['_simulatio'+'nEnabled']&&_0x28f101['activate']());}get['body'](){return this['_body'];}set['friction'](_0x54d5dd){this['_friction']!==_0x54d5dd&&(this['_friction']=_0x54d5dd,this['_body']&&this['_body']['setFrictio'+'n'](_0x54d5dd));}get['friction'](){return this['_friction'];}set['group'](_0xd71cf4){this['_group']!==_0xd71cf4&&(this['_group']=_0xd71cf4,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x2a5a83){this['_linearDam'+'ping']!==_0x2a5a83&&(this['_linearDam'+'ping']=_0x2a5a83,this['_body']&&this['_body']['setDamping'](_0x2a5a83,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x17c622){this['_linearFac'+'tor']['equals'](_0x17c622)||(this['_linearFac'+'tor']['copy'](_0x17c622),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x17c622['x'],_0x17c622['y'],_0x17c622['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x3046c9){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x3046c9['x'],_0x3046c9['y'],_0x3046c9['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x3046c9));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x550357=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x550357['x'](),_0x550357['y'](),_0x550357['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x283bf5){this['_mask']!==_0x283bf5&&(this['_mask']=_0x283bf5,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x196bc4){if(this['_mass']!==_0x196bc4&&(this['_mass']=_0x196bc4,this['_body']&&this['_type']===ms)){const _0x193947=this['enabled']&&this['entity']['enabled'];_0x193947&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x196bc4,xe),this['_body']['setMassPro'+'ps'](_0x196bc4,xe),this['_body']['updateIner'+'tiaTensor'](),_0x193947&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x36b4e0){this['_restituti'+'on']!==_0x36b4e0&&(this['_restituti'+'on']=_0x36b4e0,this['_body']&&this['_body']['setRestitu'+'tion'](_0x36b4e0));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x1ada05){this['_rollingFr'+'iction']!==_0x1ada05&&(this['_rollingFr'+'iction']=_0x1ada05,this['_body']&&this['_body']['setRolling'+'Friction'](_0x1ada05));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x4543d3){if(this['_type']!==_0x4543d3){switch(this['_type']=_0x4543d3,this['disableSim'+'ulation'](),_0x4543d3){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x51f465=this['entity'];let _0x100bdc;if(_0x51f465['collision']&&(_0x100bdc=_0x51f465['collision']['shape'],_0x51f465['trigger']&&(_0x51f465['trigger']['destroy'](),delete _0x51f465['trigger'])),_0x100bdc){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x42ed88=this['_type']===ms?this['_mass']:0x2239*0x1+-0x39b+-0x2*0xf4f;this['_getEntity'+'Transform'](Vt);const _0x44326c=this['system']['createBody'](_0x42ed88,_0x100bdc,Vt);if(_0x44326c['setRestitu'+'tion'](this['_restituti'+'on']),_0x44326c['setFrictio'+'n'](this['_friction']),_0x44326c['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x44326c['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0x1a7d3d=this['_linearFac'+'tor'];xe['setValue'](_0x1a7d3d['x'],_0x1a7d3d['y'],_0x1a7d3d['z']),_0x44326c['setLinearF'+'actor'](xe);const _0x263bf5=this['_angularFa'+'ctor'];xe['setValue'](_0x263bf5['x'],_0x263bf5['y'],_0x263bf5['z']),_0x44326c['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x44326c['setCollisi'+'onFlags'](_0x44326c['getCollisi'+'onFlags']()|eR),_0x44326c['setActivat'+'ionState'](ag));_0x44326c['entity']=_0x51f465,this['body']=_0x44326c,this['enabled']&&_0x51f465['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0xaf0+0x72*-0x57+0x1bcf);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x59d6a9=this['entity'];if(_0x59d6a9['collision']&&_0x59d6a9['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x16eb5b=this['_body'];if(_0x16eb5b){switch(this['system']['addBody'](_0x16eb5b,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0x16eb5b['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0x16eb5b['forceActiv'+'ationState'](ag);break;case so:_0x16eb5b['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0x59d6a9['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x59d6a9['collision']),_0x16eb5b['activate'](),this['_simulatio'+'nEnabled']=!(-0x9*0x22f+0x1*-0x2095+0x1*0x343c);}}}['disableSim'+'ulation'](){const _0x529e5d=this['_body'];if(_0x529e5d&&this['_simulatio'+'nEnabled']){const _0x2cd6a4=this['system'];let _0x583de2=_0x2cd6a4['_compounds']['indexOf'](this['entity']['collision']);_0x583de2>-(-0x1a66+0x4*0x4fd+0xd*0x7f)&&_0x2cd6a4['_compounds']['splice'](_0x583de2,0x34a*-0x2+0x4*-0x7b5+-0x3d*-0x9d),_0x583de2=_0x2cd6a4['_dynamic']['indexOf'](this),_0x583de2>-(-0x696*0x1+-0x3e4+0xa7b)&&_0x2cd6a4['_dynamic']['splice'](_0x583de2,-0x18fd+-0x29*-0xdd+-0xa67),_0x583de2=_0x2cd6a4['_kinematic']['indexOf'](this),_0x583de2>-(0x4c*0x5f+0x2018+0x89d*-0x7)&&_0x2cd6a4['_kinematic']['splice'](_0x583de2,-0x734*0x5+0x1*-0x2221+0x4626),_0x2cd6a4['removeBody'](_0x529e5d),_0x529e5d['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(0x19ff+0x1462+-0x2e60);}}['applyForce'](_0x3c246c,_0x4261a8,_0x3ffe17,_0x43b46c,_0x42a2e2,_0x1d7ef6){const _0x3c6e89=this['_body'];_0x3c6e89&&(_0x3c6e89['activate'](),_0x3c246c instanceof T?xe['setValue'](_0x3c246c['x'],_0x3c246c['y'],_0x3c246c['z']):xe['setValue'](_0x3c246c,_0x4261a8,_0x3ffe17),_0x4261a8 instanceof T?gs['setValue'](_0x4261a8['x'],_0x4261a8['y'],_0x4261a8['z']):_0x43b46c!==void(-0x2550+0x77*0x13+0x1*0x1c7b)?gs['setValue'](_0x43b46c,_0x42a2e2,_0x1d7ef6):gs['setValue'](-0x55*-0x1e+-0x1*0x9af+0x1*-0x47,-0x1*-0x1958+0x1265+-0x2bbd,0x1*-0x1ffd+0x12cd+0xd30),_0x3c6e89['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x21b44e,_0x44dec8,_0x296796){const _0x1bcf8f=this['_body'];_0x1bcf8f&&(_0x1bcf8f['activate'](),_0x21b44e instanceof T?xe['setValue'](_0x21b44e['x'],_0x21b44e['y'],_0x21b44e['z']):xe['setValue'](_0x21b44e,_0x44dec8,_0x296796),_0x1bcf8f['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x5f48bf,_0x2b586b,_0x54165f,_0x1ea2a8,_0x315718,_0x12b279){const _0x5a5e15=this['_body'];_0x5a5e15&&(_0x5a5e15['activate'](),_0x5f48bf instanceof T?xe['setValue'](_0x5f48bf['x'],_0x5f48bf['y'],_0x5f48bf['z']):xe['setValue'](_0x5f48bf,_0x2b586b,_0x54165f),_0x2b586b instanceof T?gs['setValue'](_0x2b586b['x'],_0x2b586b['y'],_0x2b586b['z']):_0x1ea2a8!==void(0x21*0xe0+0x16ea*-0x1+0x1*-0x5f6)?gs['setValue'](_0x1ea2a8,_0x315718,_0x12b279):gs['setValue'](0x1*0x1cfd+-0x5*0x500+-0x3fd,-0x1d35+0x1d46+-0x1*0x11,0x1c51+0x1*-0x159e+-0x6b3),_0x5a5e15['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x4fb99c,_0x36420e,_0x5c4dbc){const _0x55c89b=this['_body'];_0x55c89b&&(_0x55c89b['activate'](),_0x4fb99c instanceof T?xe['setValue'](_0x4fb99c['x'],_0x4fb99c['y'],_0x4fb99c['z']):xe['setValue'](_0x4fb99c,_0x36420e,_0x5c4dbc),_0x55c89b['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x4ab65f){const _0x41f6e0=this['entity'],_0x47aff6=_0x41f6e0['collision'];if(_0x47aff6){const _0x405cd9=_0x47aff6['getShapePo'+'sition'](),_0x5cd63d=_0x47aff6['getShapeRo'+'tation']();xe['setValue'](_0x405cd9['x'],_0x405cd9['y'],_0x405cd9['z']),$n['setValue'](_0x5cd63d['x'],_0x5cd63d['y'],_0x5cd63d['z'],_0x5cd63d['w']);}else{const _0x1ada1a=_0x41f6e0['getPositio'+'n'](),_0x181e01=_0x41f6e0['getRotatio'+'n']();xe['setValue'](_0x1ada1a['x'],_0x1ada1a['y'],_0x1ada1a['z']),$n['setValue'](_0x181e01['x'],_0x181e01['y'],_0x181e01['z'],_0x181e01['w']);}_0x4ab65f['setOrigin'](xe),_0x4ab65f['setRotatio'+'n']($n);}['syncEntity'+'ToBody'](){const _0x2ac5e3=this['_body'];if(_0x2ac5e3){if(this['_getEntity'+'Transform'](Vt),_0x2ac5e3['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0x472eed=_0x2ac5e3['getMotionS'+'tate']();_0x472eed&&_0x472eed['setWorldTr'+'ansform'](Vt);}_0x2ac5e3['activate']();}}['_updateDyn'+'amic'](){const _0x4b414d=this['_body'];if(_0x4b414d['isActive']()){const _0x2e544c=_0x4b414d['getMotionS'+'tate']();if(_0x2e544c){const _0xc10e33=this['entity'];_0x2e544c['getWorldTr'+'ansform'](Vt);const _0x9ad87c=Vt['getOrigin'](),_0x295f22=Vt['getRotatio'+'n'](),_0x443ac4=_0xc10e33['collision'];if(_0x443ac4&&_0x443ac4['_hasOffset']){const _0xad6f6b=_0x443ac4['data']['linearOffs'+'et'],_0x7ed5f6=_0x443ac4['data']['angularOff'+'set'],_0x4d4204=mI['copy'](_0x7ed5f6)['invert'](),_0x4b7d56=pI['set'](_0x295f22['x'](),_0x295f22['y'](),_0x295f22['z'](),_0x295f22['w']())['mul'](_0x4d4204);_0x4b7d56['transformV'+'ector'](_0xad6f6b,Ql),_0xc10e33['setPositio'+'n'](_0x9ad87c['x']()-Ql['x'],_0x9ad87c['y']()-Ql['y'],_0x9ad87c['z']()-Ql['z']),_0xc10e33['setRotatio'+'n'](_0x4b7d56);}else _0xc10e33['setPositio'+'n'](_0x9ad87c['x'](),_0x9ad87c['y'](),_0x9ad87c['z']()),_0xc10e33['setRotatio'+'n'](_0x295f22['x'](),_0x295f22['y'](),_0x295f22['z'](),_0x295f22['w']());}}}['_updateKin'+'ematic'](){const _0xdc2147=this['_body']['getMotionS'+'tate']();_0xdc2147&&(this['_getEntity'+'Transform'](Vt),_0xdc2147['setWorldTr'+'ansform'](Vt));}['teleport'](_0x16785f,_0x1c1c17,_0x3b708a,_0x4a0bbf,_0x38fe2e,_0xd6bfce){_0x16785f instanceof T?this['entity']['setPositio'+'n'](_0x16785f):this['entity']['setPositio'+'n'](_0x16785f,_0x1c1c17,_0x3b708a),_0x1c1c17 instanceof se?this['entity']['setRotatio'+'n'](_0x1c1c17):_0x1c1c17 instanceof T?this['entity']['setEulerAn'+'gles'](_0x1c1c17):_0x4a0bbf!==void(-0x1c28+0x1*-0x928+0x1*0x2550)&&this['entity']['setEulerAn'+'gles'](_0x4a0bbf,_0x38fe2e,_0xd6bfce),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c($s,'EVENT_CONT'+'ACT','contact'),c($s,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c($s,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c($s,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c($s,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c($s,'order',-(-0x1b80+-0x620+-0x1*-0x21a1));class _I{constructor(){this['enabled']=!(0x1*0xd83+-0x1*-0x8e9+-0x166c);}}let ai,oi;class xg{constructor(_0xe90b98,_0x187a6c,_0x5f4b57,_0x2f56b8){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0xe90b98,this['point']=_0x187a6c,this['normal']=_0x5f4b57,this['hitFractio'+'n']=_0x2f56b8);}}class gI{constructor(_0x3b8f83,_0x208b80,_0x458519){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==0x3*-0x90f+0x1*-0x111b+0x2c48*0x1?(this['a']=_0x3b8f83,this['b']=_0x208b80,this['impulse']=_0x458519['impulse'],this['localPoint'+'A']=_0x458519['localPoint'],this['localPoint'+'B']=_0x458519['localPoint'+'Other'],this['pointA']=_0x458519['point'],this['pointB']=_0x458519['pointOther'],this['normal']=_0x458519['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x58*-0x34+0x2f*0x86+-0x2a7a,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x4807c8=new T(),_0x5b3b41=new T(),_0x38383f=new T(),_0x48f34b=new T(),_0x46ca1a=new T(),_0x42598a=0x13a*0x1b+0x2257+0x7*-0x9a3){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x4807c8,this['localPoint'+'Other']=_0x5b3b41,this['point']=_0x38383f,this['pointOther']=_0x48f34b,this['normal']=_0x46ca1a,this['impulse']=_0x42598a);}}class xI{constructor(_0x4fb276,_0x2ca878){c(this,'other'),c(this,'contacts'),(this['other']=_0x4fb276,this['contacts']=_0x2ca878);}}const px=['enabled'];class mx extends Xe{constructor(_0x128f1f){super(_0x128f1f),c(this,'maxSubStep'+'s',0x188a+-0x18e2+-0x1*-0x62),c(this,'fixedTimeS'+'tep',(0x4*-0x44e+-0x6*0x4e8+0x2ea9)/(0x24c5+-0x1*0x182f+-0xc5a)),c(this,'gravity',new T(-0x10cb+0x2*-0xe67+0x2d99,-(-0x27e*-0x1+-0x1*-0x2127+0x4*-0x8e7+0.8100000000000005),0x3b5*-0x4+0x10*0x26a+0xbe6*-0x2)),c(this,'_gravityFl'+'oat32',new Float32Array(-0xc81+-0x107d+0x1d01)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x128f1f['stats']['frame'],this['ComponentT'+'ype']=$s,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x5d91ec=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x5d91ec);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),$s['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,-0x1b4d+-0x3*0x99a+-0x13*-0x2f4),this['contactRes'+'ultPool']=new Zd(xI,-0x201b+-0x1a6*0x11+0x1*0x3c22),this['singleCont'+'actResultP'+'ool']=new Zd(gI,-0x1a03*0x1+0x157*-0xb+0x28c1),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x19114e,_0x1b3614,_0x4662e4){const _0x2ca092=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x317d79 of _0x2ca092)if(_0x1b3614['hasOwnProp'+'erty'](_0x317d79)){const _0x3f4242=_0x1b3614[_0x317d79];Array['isArray'](_0x3f4242)?_0x19114e[_0x317d79]=new T(_0x3f4242[0x5*-0x5d9+-0x1*-0x1a45+0x2f8],_0x3f4242[-0x2fa+0x1*0x815+-0x51a],_0x3f4242[0x15d1+0x6ef+-0x1cbe]):_0x19114e[_0x317d79]=_0x3f4242;}super['initialize'+'ComponentD'+'ata'](_0x19114e,_0x1b3614,['enabled']);}['cloneCompo'+'nent'](_0xabd06c,_0x324966){const _0x2b81f0=_0xabd06c['rigidbody'],_0x9ba2f0={'enabled':_0x2b81f0['enabled'],'mass':_0x2b81f0['mass'],'linearDamping':_0x2b81f0['linearDamp'+'ing'],'angularDamping':_0x2b81f0['angularDam'+'ping'],'linearFactor':[_0x2b81f0['linearFact'+'or']['x'],_0x2b81f0['linearFact'+'or']['y'],_0x2b81f0['linearFact'+'or']['z']],'angularFactor':[_0x2b81f0['angularFac'+'tor']['x'],_0x2b81f0['angularFac'+'tor']['y'],_0x2b81f0['angularFac'+'tor']['z']],'friction':_0x2b81f0['friction'],'rollingFriction':_0x2b81f0['rollingFri'+'ction'],'restitution':_0x2b81f0['restitutio'+'n'],'type':_0x2b81f0['type'],'group':_0x2b81f0['group'],'mask':_0x2b81f0['mask']};return this['addCompone'+'nt'](_0x324966,_0x9ba2f0);}['onBeforeRe'+'move'](_0xbcd2ab,_0x4ed48c){_0x4ed48c['enabled']&&(_0x4ed48c['enabled']=!(0x8*-0x3e7+0x31*-0x9e+0x3d77)),_0x4ed48c['body']&&(this['destroyBod'+'y'](_0x4ed48c['body']),_0x4ed48c['body']=null);}['addBody'](_0x306cf4,_0x3073b8,_0x29ee09){_0x3073b8!==void(0xdd0+0xa65*0x3+0x1*-0x2cff)&&_0x29ee09!==void(0x91*-0x32+-0x1*-0x787+-0x1*-0x14cb)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x306cf4,_0x3073b8,_0x29ee09):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x306cf4);}['removeBody'](_0x2216c2){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x2216c2);}['createBody'](_0x299246,_0x50fd03,_0x2dd299){const _0x15da20=new Ammo['btVector3'](-0x1c0f+-0x1*-0x21a0+-0x591,0xe0e*0x1+-0xf0d+0xff,0x1776+-0x229c+-0xb26*-0x1);_0x299246!==0xcb2+0x6d8+0x7a*-0x29&&_0x50fd03['calculateL'+'ocalInerti'+'a'](_0x299246,_0x15da20);const _0x1716fe=new Ammo['btDefaultM'+'otionState'](_0x2dd299),_0x117356=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x299246,_0x1716fe,_0x50fd03,_0x15da20),_0x46192f=new Ammo['btRigidBod'+'y'](_0x117356);return Ammo['destroy'](_0x117356),Ammo['destroy'](_0x15da20),_0x46192f;}['destroyBod'+'y'](_0x434ea1){const _0x3af438=_0x434ea1['getMotionS'+'tate']();_0x3af438&&Ammo['destroy'](_0x3af438),Ammo['destroy'](_0x434ea1);}['raycastFir'+'st'](_0x55e55f,_0x4613cd,_0x4c7555={}){if(_0x4c7555['filterTags']||_0x4c7555['filterCall'+'back'])return _0x4c7555['sort']=!(0xa7*-0xb+-0x229+0x956*0x1),this['raycastAll'](_0x55e55f,_0x4613cd,_0x4c7555)[0x1eca+0x1532+-0x33fc]||null;let _0x2ce096=null;ai['setValue'](_0x55e55f['x'],_0x55e55f['y'],_0x55e55f['z']),oi['setValue'](_0x4613cd['x'],_0x4613cd['y'],_0x4613cd['z']);const _0xa9b892=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x4c7555['filterColl'+'isionGroup']=='number'&&_0xa9b892['set_m_coll'+'isionFilte'+'rGroup'](_0x4c7555['filterColl'+'isionGroup']),typeof _0x4c7555['filterColl'+'isionMask']=='number'&&_0xa9b892['set_m_coll'+'isionFilte'+'rMask'](_0x4c7555['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0xa9b892),_0xa9b892['hasHit']()){const _0x2c3b99=_0xa9b892['get_m_coll'+'isionObjec'+'t'](),_0x20c0f9=Ammo['castObject'](_0x2c3b99,Ammo['btRigidBod'+'y']);if(_0x20c0f9){const _0x59b93d=_0xa9b892['get_m_hitP'+'ointWorld'](),_0x31d114=_0xa9b892['get_m_hitN'+'ormalWorld']();_0x2ce096=new xg(_0x20c0f9['entity'],new T(_0x59b93d['x'](),_0x59b93d['y'](),_0x59b93d['z']()),new T(_0x31d114['x'](),_0x31d114['y'](),_0x31d114['z']()),_0xa9b892['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0xa9b892),_0x2ce096;}['raycastAll'](_0x407615,_0x33697c,_0x3c03b4={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x5819a9=[];ai['setValue'](_0x407615['x'],_0x407615['y'],_0x407615['z']),oi['setValue'](_0x33697c['x'],_0x33697c['y'],_0x33697c['z']);const _0x21de74=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x3c03b4['filterColl'+'isionGroup']=='number'&&_0x21de74['set_m_coll'+'isionFilte'+'rGroup'](_0x3c03b4['filterColl'+'isionGroup']),typeof _0x3c03b4['filterColl'+'isionMask']=='number'&&_0x21de74['set_m_coll'+'isionFilte'+'rMask'](_0x3c03b4['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x21de74),_0x21de74['hasHit']()){const _0x183cc0=_0x21de74['get_m_coll'+'isionObjec'+'ts'](),_0xe093eb=_0x21de74['get_m_hitP'+'ointWorld'](),_0x516020=_0x21de74['get_m_hitN'+'ormalWorld'](),_0x529dfd=_0x21de74['get_m_hitF'+'ractions'](),_0x56522f=_0x183cc0['size']();for(let _0x5c045c=-0x2*0xd2e+-0x2032+0x2*0x1d47;_0x5c045c<_0x56522f;_0x5c045c++){const _0xa8f74=Ammo['castObject'](_0x183cc0['at'](_0x5c045c),Ammo['btRigidBod'+'y']);if(_0xa8f74&&_0xa8f74['entity']){if(_0x3c03b4['filterTags']&&!_0xa8f74['entity']['tags']['has'](..._0x3c03b4['filterTags'])||_0x3c03b4['filterCall'+'back']&&!_0x3c03b4['filterCall'+'back'](_0xa8f74['entity']))continue;const _0x272688=_0xe093eb['at'](_0x5c045c),_0x2d88b5=_0x516020['at'](_0x5c045c),_0x5d004a=new xg(_0xa8f74['entity'],new T(_0x272688['x'](),_0x272688['y'](),_0x272688['z']()),new T(_0x2d88b5['x'](),_0x2d88b5['y'](),_0x2d88b5['z']()),_0x529dfd['at'](_0x5c045c));_0x5819a9['push'](_0x5d004a);}}_0x3c03b4['sort']&&_0x5819a9['sort']((_0x55e156,_0x1af99d)=>_0x55e156['hitFractio'+'n']-_0x1af99d['hitFractio'+'n']);}return Ammo['destroy'](_0x21de74),_0x5819a9;}['_storeColl'+'ision'](_0x56d077,_0x498687){let _0xdad931=!(-0x418*-0x7+0x2d1+-0x3ef*0x8);const _0x3efeb4=_0x56d077['getGuid']();return this['collisions'][_0x3efeb4]=this['collisions'][_0x3efeb4]||{'others':[],'entity':_0x56d077},this['collisions'][_0x3efeb4]['others']['indexOf'](_0x498687)<0x29e*0x8+-0x7*-0x527+-0x3901&&(this['collisions'][_0x3efeb4]['others']['push'](_0x498687),_0xdad931=!(-0x1caf+0x18d3+-0x4c*-0xd)),this['frameColli'+'sions'][_0x3efeb4]=this['frameColli'+'sions'][_0x3efeb4]||{'others':[],'entity':_0x56d077},this['frameColli'+'sions'][_0x3efeb4]['others']['push'](_0x498687),_0xdad931;}['_createCon'+'tactPointF'+'romAmmo'](_0x3d193f){const _0x2ffee4=_0x3d193f['get_m_loca'+'lPointA'](),_0x3ad39f=_0x3d193f['get_m_loca'+'lPointB'](),_0x1b8146=_0x3d193f['getPositio'+'nWorldOnA'](),_0x1ac632=_0x3d193f['getPositio'+'nWorldOnB'](),_0xc04718=_0x3d193f['get_m_norm'+'alWorldOnB'](),_0x53a325=this['contactPoi'+'ntPool']['allocate']();return _0x53a325['localPoint']['set'](_0x2ffee4['x'](),_0x2ffee4['y'](),_0x2ffee4['z']()),_0x53a325['localPoint'+'Other']['set'](_0x3ad39f['x'](),_0x3ad39f['y'](),_0x3ad39f['z']()),_0x53a325['point']['set'](_0x1b8146['x'](),_0x1b8146['y'](),_0x1b8146['z']()),_0x53a325['pointOther']['set'](_0x1ac632['x'](),_0x1ac632['y'](),_0x1ac632['z']()),_0x53a325['normal']['set'](_0xc04718['x'](),_0xc04718['y'](),_0xc04718['z']()),_0x53a325['impulse']=_0x3d193f['getApplied'+'Impulse'](),_0x53a325;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0xe05236){const _0x1f1de3=_0xe05236['get_m_loca'+'lPointA'](),_0xfa644d=_0xe05236['get_m_loca'+'lPointB'](),_0xea1e3=_0xe05236['getPositio'+'nWorldOnA'](),_0x21d5c6=_0xe05236['getPositio'+'nWorldOnB'](),_0x31ca3c=_0xe05236['get_m_norm'+'alWorldOnB'](),_0x418133=this['contactPoi'+'ntPool']['allocate']();return _0x418133['localPoint'+'Other']['set'](_0x1f1de3['x'](),_0x1f1de3['y'](),_0x1f1de3['z']()),_0x418133['localPoint']['set'](_0xfa644d['x'](),_0xfa644d['y'](),_0xfa644d['z']()),_0x418133['pointOther']['set'](_0xea1e3['x'](),_0xea1e3['y'](),_0xea1e3['z']()),_0x418133['point']['set'](_0x21d5c6['x'](),_0x21d5c6['y'](),_0x21d5c6['z']()),_0x418133['normal']['set'](_0x31ca3c['x'](),_0x31ca3c['y'](),_0x31ca3c['z']()),_0x418133['impulse']=_0xe05236['getApplied'+'Impulse'](),_0x418133;}['_createSin'+'gleContact'+'Result'](_0x37e39b,_0x16678c,_0x475118){const _0x17f691=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x17f691['a']=_0x37e39b,_0x17f691['b']=_0x16678c,_0x17f691['localPoint'+'A']=_0x475118['localPoint'],_0x17f691['localPoint'+'B']=_0x475118['localPoint'+'Other'],_0x17f691['pointA']=_0x475118['point'],_0x17f691['pointB']=_0x475118['pointOther'],_0x17f691['normal']=_0x475118['normal'],_0x17f691['impulse']=_0x475118['impulse'],_0x17f691;}['_createCon'+'tactResult'](_0x3b5ddb,_0x1f4d56){const _0x508f61=this['contactRes'+'ultPool']['allocate']();return _0x508f61['other']=_0x3b5ddb,_0x508f61['contacts']=_0x1f4d56,_0x508f61;}['_cleanOldC'+'ollisions'](){for(const _0x1b0d60 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x1b0d60)){const _0x1944d7=this['frameColli'+'sions'][_0x1b0d60],_0x4e4d97=this['collisions'][_0x1b0d60],_0xff41b2=_0x4e4d97['entity'],_0x46db03=_0xff41b2['collision'],_0x4dcc11=_0xff41b2['rigidbody'],_0x497cf1=_0x4e4d97['others'];let _0x168ab6=_0x497cf1['length'];for(;_0x168ab6--;){const _0x46fe4d=_0x497cf1[_0x168ab6];(!_0x1944d7||_0x1944d7['others']['indexOf'](_0x46fe4d)<0x2b*0x8d+-0xc8e+-0xb21)&&(_0x497cf1['splice'](_0x168ab6,-0x2*-0x9fe+-0x103f*-0x2+-0x3479),_0xff41b2['trigger']?(_0x46db03&&_0x46db03['fire']('triggerlea'+'ve',_0x46fe4d),_0x46fe4d['rigidbody']&&_0x46fe4d['rigidbody']['fire']('triggerlea'+'ve',_0xff41b2)):_0x46fe4d['trigger']||(_0x4dcc11&&_0x4dcc11['fire']('collisione'+'nd',_0x46fe4d),_0x46db03&&_0x46db03['fire']('collisione'+'nd',_0x46fe4d)));}_0x497cf1['length']===0xf81+-0x2438+-0x14b7*-0x1&&delete this['collisions'][_0x1b0d60];}}['_hasContac'+'tEvent'](_0x56259e){const _0x168a1b=_0x56259e['collision'];if(_0x168a1b&&(_0x168a1b['hasEvent']('collisions'+'tart')||_0x168a1b['hasEvent']('collisione'+'nd')||_0x168a1b['hasEvent']('contact')))return!(-0x45*-0x5+-0x1ead*-0x1+-0x1003*0x2);const _0x207035=_0x56259e['rigidbody'];return _0x207035&&(_0x207035['hasEvent']('collisions'+'tart')||_0x207035['hasEvent']('collisione'+'nd')||_0x207035['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x423556,_0xd5bd84){const _0x520e10=Ammo['wrapPointe'+'r'](_0x423556,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0xf3d450=_0x520e10['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x369393=0xe9*0x1d+0x52*0x6+0x1c51*-0x1;_0x369393<_0xf3d450;_0x369393++){const _0x40700e=_0x520e10['getManifol'+'dByIndexIn'+'ternal'](_0x369393),_0x5ca78f=_0x40700e['getBody0'](),_0x1f9bea=_0x40700e['getBody1'](),_0x2701f6=Ammo['castObject'](_0x5ca78f,Ammo['btRigidBod'+'y']),_0xa8a205=Ammo['castObject'](_0x1f9bea,Ammo['btRigidBod'+'y']),_0x2f84db=_0x2701f6['entity'],_0x2ace8d=_0xa8a205['entity'];if(!_0x2f84db||!_0x2ace8d)continue;const _0xee5aa0=_0x2701f6['getCollisi'+'onFlags'](),_0x575da9=_0xa8a205['getCollisi'+'onFlags'](),_0x10e8fe=_0x40700e['getNumCont'+'acts'](),_0x124502=[],_0x42bf12=[];let _0x1abd73;if(_0x10e8fe>0x857+-0xc4*-0xd+-0x124b){if(_0xee5aa0&lo||_0x575da9&lo){const _0x124446=_0x2f84db['collision']&&(_0x2f84db['collision']['hasEvent']('triggerent'+'er')||_0x2f84db['collision']['hasEvent']('triggerlea'+'ve')),_0xe4ebab=_0x2ace8d['collision']&&(_0x2ace8d['collision']['hasEvent']('triggerent'+'er')||_0x2ace8d['collision']['hasEvent']('triggerlea'+'ve')),_0x5dc659=_0x2f84db['rigidbody']&&(_0x2f84db['rigidbody']['hasEvent']('triggerent'+'er')||_0x2f84db['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x24be49=_0x2ace8d['rigidbody']&&(_0x2ace8d['rigidbody']['hasEvent']('triggerent'+'er')||_0x2ace8d['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x124446&&(_0x1abd73=this['_storeColl'+'ision'](_0x2f84db,_0x2ace8d),_0x1abd73&&!(_0x575da9&lo)&&_0x2f84db['collision']['fire']('triggerent'+'er',_0x2ace8d)),_0xe4ebab&&(_0x1abd73=this['_storeColl'+'ision'](_0x2ace8d,_0x2f84db),_0x1abd73&&!(_0xee5aa0&lo)&&_0x2ace8d['collision']['fire']('triggerent'+'er',_0x2f84db)),_0x5dc659&&(_0x1abd73||(_0x1abd73=this['_storeColl'+'ision'](_0x2ace8d,_0x2f84db)),_0x1abd73&&_0x2f84db['rigidbody']['fire']('triggerent'+'er',_0x2ace8d)),_0x24be49&&(_0x1abd73||(_0x1abd73=this['_storeColl'+'ision'](_0x2f84db,_0x2ace8d)),_0x1abd73&&_0x2ace8d['rigidbody']['fire']('triggerent'+'er',_0x2f84db));}else{const _0x2fc5d3=this['_hasContac'+'tEvent'](_0x2f84db),_0x1000cb=this['_hasContac'+'tEvent'](_0x2ace8d),_0x511609=this['hasEvent']('contact');if(_0x511609||_0x2fc5d3||_0x1000cb){for(let _0x393919=-0x62+0x237e+-0x231c;_0x393919<_0x10e8fe;_0x393919++){const _0x237e04=_0x40700e['getContact'+'Point'](_0x393919),_0x283e46=this['_createCon'+'tactPointF'+'romAmmo'](_0x237e04);if(_0x2fc5d3||_0x1000cb){_0x124502['push'](_0x283e46);const _0x3c69ed=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x237e04);_0x42bf12['push'](_0x3c69ed);}if(_0x511609){const _0xdb26cb=this['_createSin'+'gleContact'+'Result'](_0x2f84db,_0x2ace8d,_0x283e46);this['fire']('contact',_0xdb26cb);}}if(_0x2fc5d3){const _0x149fad=this['_createCon'+'tactResult'](_0x2ace8d,_0x124502);_0x1abd73=this['_storeColl'+'ision'](_0x2f84db,_0x2ace8d),_0x2f84db['collision']&&(_0x2f84db['collision']['fire']('contact',_0x149fad),_0x1abd73&&_0x2f84db['collision']['fire']('collisions'+'tart',_0x149fad)),_0x2f84db['rigidbody']&&(_0x2f84db['rigidbody']['fire']('contact',_0x149fad),_0x1abd73&&_0x2f84db['rigidbody']['fire']('collisions'+'tart',_0x149fad));}if(_0x1000cb){const _0x4c6f14=this['_createCon'+'tactResult'](_0x2f84db,_0x42bf12);_0x1abd73=this['_storeColl'+'ision'](_0x2ace8d,_0x2f84db),_0x2ace8d['collision']&&(_0x2ace8d['collision']['fire']('contact',_0x4c6f14),_0x1abd73&&_0x2ace8d['collision']['fire']('collisions'+'tart',_0x4c6f14)),_0x2ace8d['rigidbody']&&(_0x2ace8d['rigidbody']['fire']('contact',_0x4c6f14),_0x1abd73&&_0x2ace8d['rigidbody']['fire']('collisions'+'tart',_0x4c6f14));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x237a6d){let _0x5dee6b,_0x39ae1d;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][-0x72+0x71c+0x355*-0x2]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x826*0x1+-0x209e+-0x5*-0x4e5]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x1*0x1639+0x17c6+0x1*-0x2dfd]=this['gravity']['z'];const _0x33770f=this['dynamicsWo'+'rld']['getGravity']();(_0x33770f['x']()!==this['_gravityFl'+'oat32'][-0x434+0x576+-0x142]||_0x33770f['y']()!==this['_gravityFl'+'oat32'][-0x198c+-0xa4f+-0x12*-0x1fe]||_0x33770f['z']()!==this['_gravityFl'+'oat32'][-0x3fb*-0x1+-0x574+0x17b])&&(_0x33770f['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x33770f));const _0x450673=this['_triggers'];for(_0x5dee6b=-0x39*-0x6d+-0x2661+-0x7*-0x204,_0x39ae1d=_0x450673['length'];_0x5dee6b<_0x39ae1d;_0x5dee6b++)_0x450673[_0x5dee6b]['updateTran'+'sform']();const _0x18a0d1=this['_compounds'];for(_0x5dee6b=0x495+0x1ee1+-0x11bb*0x2,_0x39ae1d=_0x18a0d1['length'];_0x5dee6b<_0x39ae1d;_0x5dee6b++)_0x18a0d1[_0x5dee6b]['_updateCom'+'pound']();const _0x27d79a=this['_kinematic'];for(_0x5dee6b=-0x16be+0x53*0x43+0x105,_0x39ae1d=_0x27d79a['length'];_0x5dee6b<_0x39ae1d;_0x5dee6b++)_0x27d79a[_0x5dee6b]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x237a6d,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x48874f=this['_dynamic'];for(_0x5dee6b=0x1d4a+-0x7d+-0x1ccd,_0x39ae1d=_0x48874f['length'];_0x5dee6b<_0x39ae1d;_0x5dee6b++)_0x48874f[_0x5dee6b]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x237a6d),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,$s['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors']($s['prototype'],px);const Wn='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0x365bce,_0x15800d){super(_0x365bce,_0x15800d),this['_resolutio'+'n']=new $(0xb57+-0x1af+-0x728,0xfd9+-0x89*0x2f+-0xc1*-0xe),this['_reference'+'Resolution']=new $(-0x2481+-0xf52+0x3653,-0x166c+0xbeb+0xbc1),this['_scaleMode']=Wn,this['scale']=-0x1d9a+-0x1af3*-0x1+-0x2a8*-0x1,this['_scaleBlen'+'d']=0x1e00+-0x829+-0x15d7+0.5,this['_priority']=-0x129f+0x15ff*0x1+0x1b*-0x20,this['_screenSpa'+'ce']=!(-0xe87+0x1415+-0x58d),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x365bce['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x179276,_0x3439d6){var _0x4c9f4e;if(!(_0x179276 instanceof $e))return _0x3439d6;if(_0x179276['element']){const _0x2a52f5=_0x179276['element']['drawOrder'];_0x179276['element']['drawOrder']=_0x3439d6++,_0x179276['element']['_batchGrou'+'pId']>=0x27*-0x17+-0x19a8+0x1d29&&_0x2a52f5!==_0x179276['element']['drawOrder']&&((_0x4c9f4e=this['system']['app']['batcher'])==null||_0x4c9f4e['markGroupD'+'irty'](_0x179276['element']['_batchGrou'+'pId']));}_0x179276['particlesy'+'stem']&&(_0x179276['particlesy'+'stem']['drawOrder']=_0x3439d6++);const _0x33e4ed=_0x179276['children'];for(let _0x26cf12=0x1ece+-0xd81+0x2b*-0x67;_0x26cf12<_0x33e4ed['length'];_0x26cf12++)_0x3439d6=this['_recurseDr'+'awOrderSyn'+'c'](_0x33e4ed[_0x26cf12],_0x3439d6);return _0x3439d6;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x75b+0x3*0x297+-0x23*0x3),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0xaa1c95=this['_resolutio'+'n']['x']/this['scale'],_0x3373b2=this['_resolutio'+'n']['y']/this['scale'],_0x552208=0x1956+-0x1700+0x2*-0x12b,_0x282c33=_0xaa1c95,_0x480120=-_0x3373b2;this['_screenMat'+'rix']['setOrtho'](_0x552208,_0x282c33,_0x480120,0x1d32+0x1*0x22e5+-0x155d*0x3,0x3c7*0x2+0x158e+-0x1d1b*0x1,-(-0x692+0x25e8+-0x1f55)),this['_screenSpa'+'ce']||(Sg['setScale']((0x3*-0x1e9+-0x1cfa*-0x1+0x173f*-0x1+0.5)*_0xaa1c95,(-0x2c3*-0x7+0x1*0x1a03+-0x2d58+0.5)*_0x3373b2,-0x1*-0xd57+0x1*0x11c2+0x18e*-0x14),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x5205f8,_0x282e4b){const _0x94b346=Math['log2']((_0x5205f8['x']||0xca+0x23+0x4*-0x3b)/_0x282e4b['x']),_0x11ff94=Math['log2']((_0x5205f8['y']||0x18d7+0x4*0x2+-0x18de)/_0x282e4b['y']);return Math['pow'](-0x1*0x1741+-0x13d*-0x4+0x124f,_0x94b346*(0x9d9*-0x2+0x21a6+-0xdf3-this['_scaleBlen'+'d'])+_0x11ff94*this['_scaleBlen'+'d']);}['_onResize'](_0x4d2f68,_0x1b468d){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x4d2f68,_0x1b468d),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x3c66fc){this['_elements']['add'](_0x3c66fc);}['_unbindEle'+'ment'](_0x10cdb1){this['_elements']['delete'](_0x10cdb1);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x8c02ea=>_0x8c02ea['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x71f26e){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x71f26e['x'],_0x71f26e['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x59ecfd=>_0x59ecfd['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x1c5ad4){this['_reference'+'Resolution']['set'](_0x1c5ad4['x'],_0x1c5ad4['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x1e7681=>_0x1e7681['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Wn?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x3f1a17){this['_screenSpa'+'ce']=_0x3f1a17,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x3d2c7c=>_0x3d2c7c['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x2d9b92){_0x2d9b92!==Wn&&_0x2d9b92!==SI&&(_0x2d9b92=Wn),!this['_screenSpa'+'ce']&&_0x2d9b92!==Wn&&(_0x2d9b92=Wn),this['_scaleMode']=_0x2d9b92,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x16a2e8){this['_scaleBlen'+'d']=_0x16a2e8,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x48a052=>_0x48a052['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x6fd5d){_0x6fd5d>-0x2*-0x85c+0x99f+0x1*-0x1958&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x6fd5d+'\x20to\x20255'),_0x6fd5d=-0x3b*-0x4f+0x13*0x1bf+-0x1*0x3263),this['_priority']!==_0x6fd5d&&(this['_priority']=_0x6fd5d,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(0x1cf2+0x11e9+-0x2edb);}}const mf=['enabled'];class bI extends Xe{constructor(_0x2d7675){super(_0x2d7675),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new $(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x455fc3,_0x10d972,_0x5198f7){_0x10d972['priority']!==void(-0x1*-0x9dd+0x1ecd+0xd8e*-0x3)&&(_0x455fc3['priority']=_0x10d972['priority']),_0x10d972['screenSpac'+'e']!==void(-0x2508+-0x198c+0x1e*0x216)&&(_0x455fc3['screenSpac'+'e']=_0x10d972['screenSpac'+'e']),_0x455fc3['cull']=_0x455fc3['screenSpac'+'e'],_0x10d972['scaleMode']!==void(-0x1*-0x1184+0x1*-0x317+-0xe6d)&&(_0x455fc3['scaleMode']=_0x10d972['scaleMode']),_0x10d972['scaleBlend']!==void(0x1*0x194c+0xf2c+-0x25*0x118)&&(_0x455fc3['scaleBlend']=_0x10d972['scaleBlend']),_0x10d972['resolution']!==void(-0x1*0x435+0xaf*0x7+-0x4*0x25)&&(_0x10d972['resolution']instanceof $?_0x455fc3['_resolutio'+'n']['copy'](_0x10d972['resolution']):_0x455fc3['_resolutio'+'n']['set'](_0x10d972['resolution'][-0x1de5*0x1+-0x269+0x2*0x1027],_0x10d972['resolution'][-0xe88+-0x21a9+0x1819*0x2]),_0x455fc3['resolution']=_0x455fc3['_resolutio'+'n']),_0x10d972['referenceR'+'esolution']!==void(0x1fcb+-0x5*0x55d+0x4fa*-0x1)&&(_0x10d972['referenceR'+'esolution']instanceof $?_0x455fc3['_reference'+'Resolution']['copy'](_0x10d972['referenceR'+'esolution']):_0x455fc3['_reference'+'Resolution']['set'](_0x10d972['referenceR'+'esolution'][-0x24ac+-0x1ed*0x9+0x3601],_0x10d972['referenceR'+'esolution'][0x1463+-0x10*-0x35+-0x7e6*0x3]),_0x455fc3['referenceR'+'esolution']=_0x455fc3['_reference'+'Resolution']),_0x455fc3['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x455fc3,_0x10d972,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x201548){const _0x5406c5=this['store'];for(const _0x4e8603 in _0x5406c5)_0x5406c5[_0x4e8603]['entity']['screen']['update']&&_0x5406c5[_0x4e8603]['entity']['screen']['update'](_0x201548);}['_onResize'](_0x8e425,_0x213aa8){this['windowReso'+'lution']['x']=_0x8e425,this['windowReso'+'lution']['y']=_0x213aa8;}['cloneCompo'+'nent'](_0x27f989,_0x425da3){const _0x2ebf2a=_0x27f989['screen'];return this['addCompone'+'nt'](_0x425da3,{'enabled':_0x2ebf2a['enabled'],'screenSpace':_0x2ebf2a['screenSpac'+'e'],'scaleMode':_0x2ebf2a['scaleMode'],'resolution':_0x2ebf2a['resolution']['clone'](),'referenceResolution':_0x2ebf2a['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x1bcc66,_0x2847b7){_0x2847b7['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x58b8f2=this['_drawOrder'+'SyncQueue']['list']();for(let _0x906dff=0xb07+-0x989*-0x1+-0x1c*0xbc;_0x906dff<_0x58b8f2['length'];_0x906dff++){const _0x2f3ac0=_0x58b8f2[_0x906dff];_0x2f3ac0['callback']['call'](_0x2f3ac0['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x23dc64,_0x37d7d7,_0x1c3b1f){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x23dc64)||this['_drawOrder'+'SyncQueue']['push'](_0x23dc64,{'callback':_0x37d7d7,'scope':_0x1c3b1f});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new $(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0xb8797,_0x4d0ca5){if(super(),!_0xb8797||!(_0xb8797 instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x4d0ca5&&_0x4d0ca5!=='x'&&_0x4d0ca5!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x4d0ca5);this['_element']=_0xb8797,this['_app']=_0xb8797['system']['app'],this['_axis']=_0x4d0ca5||null,this['_enabled']=!(0x1*-0x155f+-0x166+0x16c5),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(0x229b*0x1+-0x54e*-0x6+-0x426e),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x43c754){this['_element'][_0x43c754]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x43c754]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x43c754]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x7f5b1f){const _0x5b121f=_0x7f5b1f==='on';this['_hasDragLi'+'steners']&&_0x5b121f||(this['_app']['mouse']&&(this['_element'][_0x7f5b1f]('mousemove',this['_onMove'],this),this['_element'][_0x7f5b1f]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x7f5b1f]('touchmove',this['_onMove'],this),this['_element'][_0x7f5b1f]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x7f5b1f]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x7f5b1f]('selectmove',this['_onMove'],this),this['_element'][_0x7f5b1f]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x5b121f);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x497c20){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x497c20['camera'],this['_calculate'+'DragScale']();const _0x47d963=this['_screenToL'+'ocal'](_0x497c20);_0x47d963&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(0xdb7+0x2344+-0x30fb),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x47d963),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x7*-0x143+-0x1*-0x1957+-0x1081),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x356ced){return _0x356ced['inputSourc'+'e']?Pr['set'](_0x356ced['inputSourc'+'e']['getOrigin'](),_0x356ced['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x356ced),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x997*0x1+0xa53*0x2+-0x5*0x236)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x52c205){const _0x544971=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x52c205['x']<'u'&&typeof _0x52c205['y']<'u'?(qi['x']=_0x52c205['x']*_0x544971,qi['y']=_0x52c205['y']*_0x544971):_0x52c205['changedTou'+'ches']?(qi['x']=_0x52c205['changedTou'+'ches'][0x3*-0x3ad+0x1*-0x2176+0x2c7d]['x']*_0x544971,qi['y']=_0x52c205['changedTou'+'ches'][0x12ac+0x26f3*0x1+-0x53d*0xb]['y']*_0x544971):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],0x21d+0xe9b+-0x10b8),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],-0x47*-0x11+0x2*0xeda+0x371*-0xa)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x28c0ab=this['_element']['entity']['parent'];const _0x5ccbe4=this['_element']['screen']&&this['_element']['screen']['screen'],_0x2c1de3=_0x5ccbe4&&_0x5ccbe4['screenSpac'+'e'],_0x31ccb6=_0x2c1de3?_0x5ccbe4['scale']:0x133e+-0x1*0x1e43+0xb06,_0x27e0a6=this['_dragScale'];for(_0x27e0a6['set'](_0x31ccb6,_0x31ccb6,_0x31ccb6);_0x28c0ab&&(_0x27e0a6['mul'](_0x28c0ab['getLocalSc'+'ale']()),_0x28c0ab=_0x28c0ab['parent'],!(_0x2c1de3&&_0x28c0ab['screen'])););_0x27e0a6['x']=(0x14ca+-0x2cf*0x1+0xd*-0x162)/_0x27e0a6['x'],_0x27e0a6['y']=(-0xb2a+0x1*0x128+0xa03)/_0x27e0a6['y'],_0x27e0a6['z']=0x74a*0x1+-0xe0*-0x27+0xab*-0x3e;}['_onMove'](_0x4093b4){const {_element:_0x38a15c,_deltaMousePosition:_0x57b8fe,_deltaHandlePosition:_0x264590,_axis:_0x34b364}=this;if(_0x38a15c&&this['_isDraggin'+'g']&&this['enabled']&&_0x38a15c['enabled']&&_0x38a15c['entity']['enabled']){const _0xe08c70=this['_screenToL'+'ocal'](_0x4093b4);if(_0xe08c70){if(_0x57b8fe['sub2'](_0xe08c70,this['_dragStart'+'MousePosit'+'ion']),_0x264590['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x57b8fe),_0x34b364){const _0x45bbbe=_0x38a15c['entity']['getLocalPo'+'sition'](),_0x23df36=TI[_0x34b364];_0x264590[_0x23df36]=_0x45bbbe[_0x23df36];}_0x38a15c['entity']['setLocalPo'+'sition'](_0x264590),this['fire']('drag:move',_0x264590);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x33b64e){this['_enabled']=_0x33b64e;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=-0x962+-0x13c+-0x2*-0x54f,Tg=0xd88*0x1+0xc*-0x1d3+0x85d,EI=0x12d7+0x172e+-0x2a03,CI=-0x21b5*0x1+0x1158+0x105d,MI=-0x41+-0x10f3*-0x2+-0x2*0x10d2,ro=new $();class gx extends ue{constructor(_0x338d36,_0x4ab705){super(_0x338d36,_0x4ab705),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new $(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0xe90+-0x1*0x1c73+0x1c*0x7f),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x58185e=this['system']['store'][this['entity']['getGuid']()];return _0x58185e?_0x58185e['data']:null;}set['enabled'](_0x3b4510){this['_setValue']('enabled',_0x3b4510);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x101a0a){this['_setValue']('horizontal',_0x101a0a);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x38dd0a){this['_setValue']('vertical',_0x38dd0a);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x21e717){this['_setValue']('scrollMode',_0x21e717);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x2d6d04){this['_setValue']('bounceAmou'+'nt',_0x2d6d04);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x3ff177){this['_setValue']('friction',_0x3ff177);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x58f560){this['_setValue']('dragThresh'+'old',_0x58f560);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x5be200){this['_setValue']('useMouseWh'+'eel',_0x5be200);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x4d0dca){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x4d0dca);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x464049){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x464049);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x516a9b){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x516a9b);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x359272){if(this['_viewportE'+'ntity']===_0x359272)return;const _0x5abd4e=typeof _0x359272=='string';this['_viewportE'+'ntity']&&_0x5abd4e&&this['_viewportE'+'ntity']['getGuid']()===_0x359272||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x359272 instanceof De?this['_viewportE'+'ntity']=_0x359272:_0x5abd4e?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x359272)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x5abd4e&&_0x359272&&(this['data']['viewportEn'+'tity']=_0x359272));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x54512d){if(this['_contentEn'+'tity']===_0x54512d)return;const _0x2e5616=typeof _0x54512d=='string';this['_contentEn'+'tity']&&_0x2e5616&&this['_contentEn'+'tity']['getGuid']()===_0x54512d||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x54512d instanceof De?this['_contentEn'+'tity']=_0x54512d:_0x2e5616?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x54512d)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x2e5616&&_0x54512d&&(this['data']['contentEnt'+'ity']=_0x54512d));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x127d4c){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x127d4c)return;const _0x294508=typeof _0x127d4c=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x294508&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x127d4c||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x127d4c instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x127d4c:_0x294508?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x127d4c)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x294508&&_0x127d4c&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x127d4c));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x4e36c9){if(this['_verticalS'+'crollbarEn'+'tity']===_0x4e36c9)return;const _0xae8122=typeof _0x4e36c9=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0xae8122&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x4e36c9||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x4e36c9 instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x4e36c9:_0xae8122?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x4e36c9)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0xae8122&&_0x4e36c9&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x4e36c9));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x2abf73){this['_onSetScro'+'ll'](_0x2abf73['x'],_0x2abf73['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x8f5772,_0x146091){const _0x586041=this['data'],_0x5d9fdd=_0x586041[_0x8f5772];_0x586041[_0x8f5772]=_0x146091,this['fire']('set',_0x8f5772,_0x5d9fdd,_0x146091);}['_toggleLif'+'ecycleList'+'eners'](_0x1512e9){this[_0x1512e9]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x1512e9]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x1512e9]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x308705){if(this['entity']['element']){if(_0x308705==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x308705]('resize',this['_syncAll'],this),this['entity']['element'][_0x308705](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x308705==='on';}}['_onElement'+'ComponentA'+'dd'](_0x474a8f){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x9f4d6b){var _0x48cd4e;(_0x48cd4e=this['_evtElemen'+'tRemove'])==null||_0x48cd4e['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x2d51d0,_0x54f80f;(_0x2d51d0=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x2d51d0['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x54f80f=this['_viewportE'+'ntity'])!=null&&_0x54f80f['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x213e7b=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x213e7b['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x213e7b['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x186ccd,_0x3efde3;(_0x186ccd=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x186ccd['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x3efde3=this['_evtViewpo'+'rtResize'])==null||_0x3efde3['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x56a8d1,_0x2ea7ce;(_0x56a8d1=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x56a8d1['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x2ea7ce=this['_contentEn'+'tity'])!=null&&_0x2ea7ce['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x178d12=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x178d12['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x178d12['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x49afe8,_0x330edd;(_0x49afe8=this['_evtConten'+'tElementRe'+'move'])==null||_0x49afe8['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x330edd=this['_evtConten'+'tResize'])==null||_0x330edd['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x46ce44){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x87a+-0xea6+0x1*0x62c),this['_setScroll'+'FromConten'+'tPosition'](_0x46ce44),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x46ce44),!this['_disabledC'+'ontentInpu'+'t'])){const _0x248769=_0x46ce44['x']-this['_dragStart'+'Position']['x'],_0x33bc33=_0x46ce44['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x248769)>this['dragThresh'+'old']||Math['abs'](_0x33bc33)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x226547;(_0x226547=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x226547['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x5bfb43;(_0x5bfb43=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x5bfb43['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x438e20){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x438e20,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x4e1096){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x4e1096);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x196461;const _0x87c0f5=(_0x196461=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x5*0xc7+-0x232d*-0x1+-0x1f4a):_0x196461['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x87c0f5['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x87c0f5['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x3e1894;const _0x469eb7=(_0x3e1894=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x53f*-0x7+0x1eea+-0x1*-0x5cf):_0x3e1894['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x469eb7['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x469eb7['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x4c4590,_0x4b7a35;(_0x4c4590=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x4c4590['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x4b7a35=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x4b7a35['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x27ed7d,_0x370d47;(_0x27ed7d=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x27ed7d['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x370d47=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x370d47['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0xd27b3,_0x12e86f,_0xa6f8d7){_0xa6f8d7!==!(0x21ff+-0xdb7*0x1+-0x1447)&&this['_velocity']['set'](-0x1304+0x1717*-0x1+0x2a1b,-0x10fb*-0x2+-0x59f*-0x2+0x41c*-0xb,0x1d72+0x1*0xb8a+-0x28fc);const _0x5abd2e=this['_updateAxi'+'s'](_0xd27b3,'x',pe),_0xd56180=this['_updateAxi'+'s'](_0x12e86f,'y',ke);(_0x5abd2e||_0xd56180)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x4a4cd9,_0x366a62,_0x261613){const _0x3c5c=_0x4a4cd9!==null&&Math['abs'](_0x4a4cd9-this['_scroll'][_0x366a62])>-0x12a8+0x2*0xae4+0x320*-0x1+0.00001;return(_0x3c5c||this['_isDraggin'+'g']()||_0x4a4cd9===-0x1f88+0x2*0x87e+0xe8c*0x1)&&(this['_scroll'][_0x366a62]=this['_determine'+'NewScrollV'+'alue'](_0x4a4cd9,_0x366a62,_0x261613),this['_syncConte'+'ntPosition'](_0x261613),this['_syncScrol'+'lbarPositi'+'on'](_0x261613)),_0x3c5c;}['_determine'+'NewScrollV'+'alue'](_0x16804b,_0x2e5423,_0x260774){if(!this['_getScroll'+'ingEnabled'](_0x260774))return this['_scroll'][_0x2e5423];switch(this['scrollMode']){case AI:return N['clamp'](_0x16804b,-0x2cc*-0x1+0x16dc*-0x1+0x1410,this['_getMaxScr'+'ollValue'](_0x260774));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x16804b,_0x2e5423,_0x260774),_0x16804b;case EI:return _0x16804b;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x16804b;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x5921ed){if(!this['_contentEn'+'tity'])return;const _0x456b42=this['_getAxis'](_0x5921ed),_0x26f8c4=this['_getSign'](_0x5921ed),_0x2457a3=this['_prevConte'+'ntSizes'][_0x5921ed],_0x37df16=this['_getConten'+'tSize'](_0x5921ed);if(_0x2457a3!==null&&Math['abs'](_0x2457a3-_0x37df16)>-0x22fb+0x1*0xb73+0x1788+0.0001){const _0x134595=this['_getMaxOff'+'set'](_0x5921ed,_0x2457a3),_0x3ba709=this['_getMaxOff'+'set'](_0x5921ed,_0x37df16);_0x3ba709===0x3*0xc35+0x244a+0x48e9*-0x1?this['_scroll'][_0x456b42]=-0x34*-0x41+0x6f*0x4e+-0x1*0x2f05:this['_scroll'][_0x456b42]=N['clamp'](this['_scroll'][_0x456b42]*_0x134595/_0x3ba709,-0xd2f+0x208e+-0x675*0x3,0x16b0+-0x24ed+0xe3e);}const _0x193ccc=this['_scroll'][_0x456b42]*this['_getMaxOff'+'set'](_0x5921ed),_0x2e4576=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x2e4576[_0x456b42]=_0x193ccc*_0x26f8c4,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x2e4576),this['_prevConte'+'ntSizes'][_0x5921ed]=_0x37df16;}['_syncScrol'+'lbarPositi'+'on'](_0x59f28f){const _0x443661=this['_scrollbar'+'Entities'][_0x59f28f];if(!(_0x443661!=null&&_0x443661['scrollbar']))return;const _0x485841=this['_getAxis'](_0x59f28f);this['_scrollbar'+'UpdateFlag'+'s'][_0x59f28f]=!(0xd29+-0x264c*0x1+-0x507*-0x5),_0x443661['scrollbar']['value']=this['_scroll'][_0x485841],_0x443661['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x485841,_0x59f28f),this['_scrollbar'+'UpdateFlag'+'s'][_0x59f28f]=!(0x1c40+-0x1e9a+0x25b);}['_syncScrol'+'lbarEnable'+'dState'](_0xbd95d9){const _0x45fa5f=this['_scrollbar'+'Entities'][_0xbd95d9];if(!_0x45fa5f)return;const _0x28fc8f=this['_getScroll'+'ingEnabled'](_0xbd95d9),_0x43ca63=this['_getScroll'+'barVisibil'+'ity'](_0xbd95d9);switch(_0x43ca63){case CI:_0x45fa5f['enabled']=_0x28fc8f;return;case MI:_0x45fa5f['enabled']=_0x28fc8f&&this['_contentIs'+'LargerThan'+'Viewport'](_0xbd95d9);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x43ca63),_0x45fa5f['enabled']=_0x28fc8f;}}['_contentIs'+'LargerThan'+'Viewport'](_0x3ddeb6){return this['_getConten'+'tSize'](_0x3ddeb6)>this['_getViewpo'+'rtSize'](_0x3ddeb6);}['_contentPo'+'sitionToSc'+'rollValue'](_0x5957c5){const _0x5ee350=this['_getMaxOff'+'set'](pe),_0x100bda=this['_getMaxOff'+'set'](ke);return _0x5ee350===0x1e26+0x1db*0x6+-0x2948?ro['x']=-0x1*-0x9f2+0x1*0x22bc+-0x7*0x662:ro['x']=_0x5957c5['x']/_0x5ee350,_0x100bda===0x6*-0x123+0x234c+-0x1c7a?ro['y']=-0x279+-0x1bdb+-0xc*-0x287:ro['y']=_0x5957c5['y']/-_0x100bda,ro;}['_getMaxOff'+'set'](_0x5e93b8,_0x4da41f){_0x4da41f=_0x4da41f===void(-0x2386*0x1+0x1d68+0x61e)?this['_getConten'+'tSize'](_0x5e93b8):_0x4da41f;const _0x15b484=this['_getViewpo'+'rtSize'](_0x5e93b8);return _0x4da41f<_0x15b484?-this['_getViewpo'+'rtSize'](_0x5e93b8):_0x15b484-_0x4da41f;}['_getMaxScr'+'ollValue'](_0x535232){return this['_contentIs'+'LargerThan'+'Viewport'](_0x535232)?0x1767+-0x191*0xd+-0x309*0x1:0x1341*-0x1+-0x1dd9+0x3*0x105e;}['_getScroll'+'barHandleS'+'ize'](_0xf8ebe9,_0x10a73d){const _0x4c4454=this['_getViewpo'+'rtSize'](_0x10a73d),_0x37af83=this['_getConten'+'tSize'](_0x10a73d);if(Math['abs'](_0x37af83)<-0x121*0x1c+-0xcec*0x2+0x3974+0.001)return 0xf5c+-0x389*0x1+-0xbd2;const _0x391775=Math['min'](_0x4c4454/_0x37af83,-0xaba+0x60f+-0x34*-0x17),_0x2ebdd=this['_toOversho'+'ot'](this['_scroll'][_0xf8ebe9],_0x10a73d);return _0x2ebdd===-0x24d7*0x1+0x1*-0xa3+0x257a?_0x391775:_0x391775/(-0x1072+-0xf1a+-0xc5*-0x29+Math['abs'](_0x2ebdd));}['_getViewpo'+'rtSize'](_0x11168b){return this['_getSize'](_0x11168b,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x542a43){return this['_getSize'](_0x542a43,this['_contentEn'+'tity']);}['_getSize'](_0x66ac25,_0x2709df){return _0x2709df!=null&&_0x2709df['element']?_0x2709df['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x66ac25)]:-0xe1b+0x1317+0x13f*-0x4;}['_getScroll'+'ingEnabled'](_0x2ba73b){if(_0x2ba73b===pe)return this['horizontal'];if(_0x2ba73b===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x2ba73b);}['_getScroll'+'barVisibil'+'ity'](_0x36fa6f){if(_0x36fa6f===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x36fa6f===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x36fa6f);}['_getSign'](_0x5a43c5){return _0x5a43c5===pe?-0x9d*0x24+0x1be9+-0x5d4:-(-0x2*-0x395+0x17b*-0x1+-0x5ae);}['_getAxis'](_0x55c147){return _0x55c147===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x7e1a9b){return _0x7e1a9b===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>0xa*-0x2cc+-0x192f+0x4d5*0xb+0.0001||Math['abs'](this['_velocity']['y'])>-0x140f+-0x4b0+-0x23*-0xb5+0.0001){const _0x208e40=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x208e40['x']+=this['_velocity']['x'],_0x208e40['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x208e40),this['_setScroll'+'FromConten'+'tPosition'](_0x208e40);}this['_velocity']['x']*=0x20c5*-0x1+0x218*-0xd+-0xe*-0x449-this['friction'],this['_velocity']['y']*=-0x198+-0x14f8+0x1691-this['friction'];}}['_hasOversh'+'oot'](_0xe4774b,_0x48f62c){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0xe4774b],_0x48f62c))>0x29+-0x8b1*-0x1+-0x8da+0.001;}['_toOversho'+'ot'](_0x496cb1,_0x108c21){const _0x3fd014=this['_getMaxScr'+'ollValue'](_0x108c21);return _0x496cb1<0x320*0xc+0x263a+0x2ce*-0x1b?_0x496cb1:_0x496cb1>_0x3fd014?_0x496cb1-_0x3fd014:0x4b9*-0x2+0x28a+0x6e8;}['_setVeloci'+'tyFromOver'+'shoot'](_0x930470,_0x5ae670,_0x539f00){const _0x1d292a=this['_toOversho'+'ot'](_0x930470,_0x539f00)*this['_getMaxOff'+'set'](_0x539f00)*this['_getSign'](_0x539f00);Math['abs'](_0x1d292a)>0x23e8+0xb57+-0x973*0x5&&(this['_velocity'][_0x5ae670]=-_0x1d292a/(this['bounceAmou'+'nt']*(0x1*0x5c0+0x2097+-0x2625)+(-0x9*0x72+0x1*0x1b7c+-0x1779)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x4dceb8){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x4dceb8,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x4dceb8)):(this['_velocity']['set'](-0x212e+0xa9f+0x168f,-0x92*0x41+0x2*-0xbfb+0x3d08,0x35b*0xa+0x1504*0x1+0xfe*-0x37),this['_prevConte'+'ntDragPosi'+'tion']=_0x4dceb8['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x12803a){let _0x30024b=this['_contentPo'+'sitionToSc'+'rollValue'](_0x12803a);this['_isDraggin'+'g']()&&(_0x30024b=this['_applyScro'+'llValueTen'+'sion'](_0x30024b)),this['_onSetScro'+'ll'](_0x30024b['x'],_0x30024b['y'],!(0xa6f+-0xf7d+0x50f));}['_applyScro'+'llValueTen'+'sion'](_0x269662){let _0xcfb3cd=this['_getMaxScr'+'ollValue'](pe),_0x2a246c=this['_toOversho'+'ot'](_0x269662['x'],pe);return _0x2a246c>-0xc61*-0x1+0x1bbf+-0x6b*0x60?_0x269662['x']=_0xcfb3cd+(-0x16ab*0x1+0x59*0x49+-0x2b5)*Math['log10'](0x1b6e+0x11e+-0x1c8b+_0x2a246c):_0x2a246c<-0x16*0xd9+-0x16c8+0x14b7*0x2&&(_0x269662['x']=-(0x3d*-0x2+-0x131*0x5+0x670)*Math['log10'](0xfe*0x9+0x781*0x1+-0x106e-_0x2a246c)),_0xcfb3cd=this['_getMaxScr'+'ollValue'](ke),_0x2a246c=this['_toOversho'+'ot'](_0x269662['y'],ke),_0x2a246c>-0x2395+0x2*-0xbd7+-0x3*-0x13c1?_0x269662['y']=_0xcfb3cd+(-0x5*0x3a1+-0x2*-0xf1f+-0x24*0x56)*Math['log10'](0x121a+-0x22fa+0x10e1+_0x2a246c):_0x2a246c<0x25d1+0x31*-0x7f+-0xd82&&(_0x269662['y']=-(0x105e*0x1+0x138a+-0x23e7)*Math['log10'](-0x2*0xdf1+-0xbcb+0x27ae-_0x2a246c)),_0x269662;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x3d19ea){var _0x4f8cab,_0x1ed8eb;(_0x4f8cab=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x4f8cab['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x3d19ea),(_0x1ed8eb=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x1ed8eb['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x3d19ea);}['_setConten'+'tDraggingE'+'nabled'](_0x340a72){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x340a72);}['_onMouseWh'+'eel'](_0x289d37){var _0x1a748c;if(!this['useMouseWh'+'eel']||!((_0x1a748c=this['_contentEn'+'tity'])!=null&&_0x1a748c['element']))return;const _0x3568a3=_0x289d37['event'],_0x124911=_0x3568a3['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x578660=_0x3568a3['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x2b0f14=N['clamp'](this['_scroll']['x']+_0x124911,-0xb3a+0x4e*0x5f+-0x11b8,this['_getMaxScr'+'ollValue'](pe)),_0x28ee73=N['clamp'](this['_scroll']['y']+_0x578660,0x3*-0x85+0x164b+-0x1*0x14bc,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new $(_0x2b0f14,_0x28ee73);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x1e300f=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x1e300f['element']&&(_0x1e300f['element']['useInput']=!(-0x17d8*0x1+-0x1*-0x11da+0x5fe));}this['_disabledC'+'ontentInpu'+'t']=!(0x769+0xff8+0x44*-0x58);}['_disableCo'+'ntentInput'](){const _0x1cbc8b=_0xc5da50=>{_0xc5da50['element']&&_0xc5da50['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0xc5da50),_0xc5da50['element']['useInput']=!(0xdb5+0x3*-0x8f5+-0x1*-0xd2b));const _0x172fb9=_0xc5da50['children'];for(let _0x4bbe30=-0x1*-0x18a+-0x2356+0x21cc,_0x26dd6a=_0x172fb9['length'];_0x4bbe30<_0x26dd6a;_0x4bbe30++)_0x1cbc8b(_0x172fb9[_0x4bbe30]);};if(this['_contentEn'+'tity']){const _0xfec385=this['_contentEn'+'tity']['children'];for(let _0x347142=0x7*0x307+-0x2b1+-0x40*0x4a,_0xd4d2bb=_0xfec385['length'];_0x347142<_0xd4d2bb;_0x347142++)_0x1cbc8b(_0xfec385[_0x347142]);}this['_disabledC'+'ontentInpu'+'t']=!(0x140b+0xa44*-0x1+0x9c7*-0x1);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x115b+0x403+-0xf4*-0xe)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x23d5*0x1+-0x26b*0x3+0xa*0x44f)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1e98+-0x1248+-0xc4f)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x97*0x1d+0x22ee+-0x11d2));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2f8a8e,_0x163b81){_0x2f8a8e['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x163b81[_0x2f8a8e['viewportEn'+'tity']['getGuid']()]),_0x2f8a8e['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x163b81[_0x2f8a8e['contentEnt'+'ity']['getGuid']()]),_0x2f8a8e['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x163b81[_0x2f8a8e['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x2f8a8e['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x163b81[_0x2f8a8e['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=-0x17*-0x1+0x289+-0x296*0x1;class RI{constructor(){c(this,'enabled',!(0x17d2+0x6+-0x17d8)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(0x15*-0x127+-0x2063+0x3896)),c(this,'mouseWheel'+'Sensitivit'+'y',new $(0x11*-0x21+-0x242a+0x265c,0x3*-0x2f4+-0x27e*-0x3+0x163)),c(this,'horizontal'+'ScrollbarV'+'isibility',-0x1*0x65+0x5*-0x254+0x4f*0x27),c(this,'verticalSc'+'rollbarVis'+'ibility',0x5*0x1f7+-0x47d*-0x3+-0x21e*0xb),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=-0x5da*-0x6+0x1*0x18c7+0x13f3*-0x3;class DI extends Xe{constructor(_0x2e0fee){super(_0x2e0fee),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3f4747,_0x37abc5,_0x1d785c){_0x37abc5['dragThresh'+'old']===void(-0x1b1d+-0x37*0x2f+0x2536)&&(_0x37abc5['dragThresh'+'old']=II),_0x37abc5['useMouseWh'+'eel']===void(-0x5c*-0xd+-0x995+-0x1*-0x4e9)&&(_0x37abc5['useMouseWh'+'eel']=!(-0x19bd+0x13d4+0x5e9)),_0x37abc5['mouseWheel'+'Sensitivit'+'y']===void(0x335*-0x9+0x7a*0xa+0x1819)&&(_0x37abc5['mouseWheel'+'Sensitivit'+'y']=new $(-0x209f*-0x1+-0xc2b+-0x15d*0xf,-0x231f+0x2f5*-0x7+-0x37d3*-0x1)),super['initialize'+'ComponentD'+'ata'](_0x3f4747,_0x37abc5,Ag),_0x3f4747['viewportEn'+'tity']=_0x37abc5['viewportEn'+'tity'],_0x3f4747['contentEnt'+'ity']=_0x37abc5['contentEnt'+'ity'],_0x3f4747['horizontal'+'ScrollbarE'+'ntity']=_0x37abc5['horizontal'+'ScrollbarE'+'ntity'],_0x3f4747['verticalSc'+'rollbarEnt'+'ity']=_0x37abc5['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x2766e0){const _0xf0ceb8=this['store'];for(const _0x3b0927 in _0xf0ceb8){const _0x5b936c=_0xf0ceb8[_0x3b0927]['entity'],_0x4b53e5=_0x5b936c['scrollview'];_0x4b53e5['enabled']&&_0x5b936c['enabled']&&_0x4b53e5['onUpdate']();}}['_onRemoveC'+'omponent'](_0x4d7a07,_0x2156fe){_0x2156fe['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x622bf1,_0x41a17b){super(_0x622bf1,_0x41a17b),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x3e78e2=this['system']['store'][this['entity']['getGuid']()];return _0x3e78e2?_0x3e78e2['data']:null;}set['enabled'](_0x5d7014){this['_setValue']('enabled',_0x5d7014);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x3763f1){this['_setValue']('orientatio'+'n',_0x3763f1);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x4be7da){this['_setValue']('value',_0x4be7da);}get['value'](){return this['data']['value'];}set['handleSize'](_0x2cafba){this['_setValue']('handleSize',_0x2cafba);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x370406){if(this['_handleEnt'+'ity']===_0x370406)return;const _0x19c59d=typeof _0x370406=='string';this['_handleEnt'+'ity']&&_0x19c59d&&this['_handleEnt'+'ity']['getGuid']()===_0x370406||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x370406 instanceof De?this['_handleEnt'+'ity']=_0x370406:_0x19c59d?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x370406)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x19c59d&&_0x370406&&(this['data']['handleEnti'+'ty']=_0x370406));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x11254f,_0x551dc9){const _0x481b63=this['data'],_0x334cca=_0x481b63[_0x11254f];_0x481b63[_0x11254f]=_0x551dc9,this['fire']('set',_0x11254f,_0x334cca,_0x551dc9);}['_toggleLif'+'ecycleList'+'eners'](_0x22f4b4){this[_0x22f4b4]('set_value',this['_onSetValu'+'e'],this),this[_0x22f4b4]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x22f4b4]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x4c89a6,_0x16e75c;(_0x4c89a6=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x4c89a6['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x16e75c=this['_handleEnt'+'ity'])!=null&&_0x16e75c['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x310a76=this['_handleEnt'+'ity']['element'],_0x27f216=this['_evtHandle'+'EntityChan'+'ges'];_0x27f216['push'](_0x310a76['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x27f216['push'](_0x310a76['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x27f216['push'](_0x310a76['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x27f216['push'](_0x310a76['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x1561b8=0x18a5+-0x2665+0x10*0xdc;_0x1561b8<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x1561b8++)this['_evtHandle'+'EntityChan'+'ges'][_0x1561b8]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0xa89+-0x4*-0x2fa+-0x15f;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x282f70){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x282f70[this['_getAxis']()]));}['_onSetValu'+'e'](_0x4739d2,_0x2e0b4f,_0x57b44a){Math['abs'](_0x57b44a-_0x2e0b4f)>0x20ee+0x1975+-0x3a63+0.00001&&(this['data']['value']=N['clamp'](_0x57b44a,-0x2168+0x1*-0x293+-0x97*-0x3d,0x1*0x44+-0xd52+0xd0f*0x1),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x58f5cc,_0x58678a,_0x1917a2){Math['abs'](_0x1917a2-_0x58678a)>-0x1a59+0x25dc+-0xb83+0.00001&&(this['data']['handleSize']=N['clamp'](_0x1917a2,-0x1f15*0x1+0x5*0x635+0xc,0x182a+0x29*-0x4e+-0xbab),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x6318ea,_0x4c30d8,_0x137f9b){var _0x3077e5;_0x137f9b!==_0x4c30d8&&((_0x3077e5=this['_handleEnt'+'ity'])!=null&&_0x3077e5['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0xad*-0x34+0x1*0x17b9+0x139f*-0x3);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0xb5e45f=this['_handleEnt'+'ity'],_0x38233c=_0xb5e45f==null?void(-0x1*0x2066+-0x141*-0x6+0x8*0x31c):_0xb5e45f['element'];if(_0xb5e45f){const _0x1c1667=_0xb5e45f['getLocalPo'+'sition']();_0x1c1667[this['_getAxis']()]=this['_getHandle'+'Position'](),_0xb5e45f['setLocalPo'+'sition'](_0x1c1667);}_0x38233c&&(_0x38233c[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x14fa93){return _0x14fa93*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x13def5){return _0x13def5*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x17*-0x157+0x2*-0x1039+0x1*0x1a1+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0x4d9*0x3+0x1e7f+-0x1*0x2d0a;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?0x458*-0x3+0x1*0x1170+-0x467:-(0xbf7+-0x1752+-0xb5c*-0x1);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x25ff88){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x25ff88);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x9a9+0xa24+-0x13cd));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x89*0x34+-0x483*-0x4+-0x2ddf));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x412bb2,_0x562312){_0x412bb2['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x562312[_0x412bb2['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(0x1cf1+0x1df6+-0x3ae7*0x1)),c(this,'orientatio'+'n',pe),c(this,'value',0x17e9*-0x1+0xdeb+0x1*0x9fe),c(this,'handleSize',-0x2*0xa60+-0x1*0x1f01+0x33c1*0x1),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x4b174e){super(_0x4b174e),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x59f17f,_0x1e68a,_0x5c8438){super['initialize'+'ComponentD'+'ata'](_0x59f17f,_0x1e68a,Eg),_0x59f17f['handleEnti'+'ty']=_0x1e68a['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x3e94f1){_0x3e94f1['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x5b36e7,_0x38ed19){_0x38ed19['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(0x1*0x5f5+0x12ab+0xb*-0x23d),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x1b6ccd,_0x2b50d5='Untitled',_0x4e5ef8={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x1b6ccd,this['_assets']=_0x1b6ccd['system']['app']['assets'],this['_manager']=_0x1b6ccd['system']['manager'],this['name']=_0x2b50d5,this['_volume']=_0x4e5ef8['volume']!==void(0x1*-0x137+-0x13*0x10d+-0x152e*-0x1)?N['clamp'](Number(_0x4e5ef8['volume'])||0xf*-0x104+-0x36e*-0xb+-0x167e,-0x235f+0x23fb+-0x9c,-0xc*-0xe5+-0x1833+0xd78*0x1):-0x1f64+-0x1cbd+0x3c22,this['_pitch']=_0x4e5ef8['pitch']!==void(-0x107a*-0x2+-0x15ab+0xb49*-0x1)?Math['max'](-0x47*0x59+-0x169*0xd+0x2b04+0.01,Number(_0x4e5ef8['pitch'])||-0x635+0x1c8b*0x1+-0x772*0x3):-0x52f*-0x1+0x1f01+-0x242f,this['_loop']=!!(_0x4e5ef8['loop']!==void(0x26bb+-0x11*0x1df+-0x2*0x376)&&_0x4e5ef8['loop']),this['_duration']=_0x4e5ef8['duration']>-0x1*0x1c97+0xd70+0x3*0x50d?_0x4e5ef8['duration']:null,this['_startTime']=Math['max'](0x1933*0x1+-0x6f8*-0x5+-0x3c0b,Number(_0x4e5ef8['startTime'])||-0x4*-0x2af+0xc*-0x2bb+0x1608),this['_overlap']=!!_0x4e5ef8['overlap'],this['_autoPlay']=!!_0x4e5ef8['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x4e5ef8['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0xa1f72c){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x453128=_0xa1f72c;if(_0x453128||(_0x453128=this['_createIns'+'tance'](),this['instances']['push'](_0x453128)),this['isLoaded'])_0x453128['play']();else{const _0x519998=function(_0x1ca712){const _0x1b0b68=_0x453128['_playWhenL'+'oaded'];_0x453128['sound']=_0x1ca712,_0x1b0b68&&_0x453128['play']();};this['off']('load',_0x519998),this['once']('load',_0x519998),this['load']();}return _0x453128;}['pause'](){let _0x2880a5=!(0x25*0x3d+0x7b5+-0x1*0x1085);const _0x34a4be=this['instances'];for(let _0x259aeb=-0x8cd+-0x232*-0xd+0x1*-0x13bd,_0x5d2fc6=_0x34a4be['length'];_0x259aeb<_0x5d2fc6;_0x259aeb++)_0x34a4be[_0x259aeb]['pause']()&&(_0x2880a5=!(-0x23fd+0x1804*0x1+0x5*0x265));return _0x2880a5;}['resume'](){let _0x56dd48=!(0x786+-0x22cd+-0x3*-0x918);const _0x3a3824=this['instances'];for(let _0x462898=-0x12bd+0x7ed+0xad0*0x1,_0x45ddf6=_0x3a3824['length'];_0x462898<_0x45ddf6;_0x462898++)_0x3a3824[_0x462898]['resume']()&&(_0x56dd48=!(-0x1fa5+0x1367*-0x1+-0x63*-0x84));return _0x56dd48;}['stop'](){let _0x4296c9=!(0x16ec+0x2*-0x5f4+-0xb03);const _0x155429=this['instances'];let _0xe5b4b7=_0x155429['length'];for(;_0xe5b4b7--;)_0x155429[_0xe5b4b7]['stop'](),_0x4296c9=!(-0x1231*0x2+0x1a0+0x22c2);return _0x155429['length']=0x205a+-0x1*0x7a2+0x317*-0x8,_0x4296c9;}['load'](){if(!this['_hasAsset']())return;const _0x384b3b=this['_assets']['get'](this['_asset']);if(!_0x384b3b){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x384b3b['off']('remove',this['_onAssetRe'+'moved'],this),_0x384b3b['on']('remove',this['_onAssetRe'+'moved'],this),!_0x384b3b['resource']){_0x384b3b['off']('load',this['_onAssetLo'+'ad'],this),_0x384b3b['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x384b3b);return;}this['fire']('load',_0x384b3b['resource']);}['setExterna'+'lNodes'](_0x18c321,_0x1fa657){if(!_0x18c321){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x1fa657||(_0x1fa657=_0x18c321),this['_firstNode']=_0x18c321,this['_lastNode']=_0x1fa657,!this['_overlap']){const _0x3a1b2c=this['instances'];for(let _0x310a3d=0xb*0x227+0x2ca*-0x8+0x1*-0x15d,_0x3cb3f9=_0x3a1b2c['length'];_0x310a3d<_0x3cb3f9;_0x310a3d++)_0x3a1b2c[_0x310a3d]['setExterna'+'lNodes'](_0x18c321,_0x1fa657);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x299ff2=this['instances'];for(let _0x4bf649=-0x7bf+0x1cf4+0x1*-0x1535,_0x2027b0=_0x299ff2['length'];_0x4bf649<_0x2027b0;_0x4bf649++)_0x299ff2[_0x4bf649]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x1fef39=null;const _0x4441fd=this['_component'];let _0x3dac91=null;if(this['_hasAsset']()){const _0x357a71=this['_assets']['get'](this['_asset']);_0x357a71&&(_0x3dac91=_0x357a71['resource']);}const _0x552b3e=OI;return _0x552b3e['volume']=this['_volume']*_0x4441fd['volume'],_0x552b3e['pitch']=this['_pitch']*_0x4441fd['pitch'],_0x552b3e['loop']=this['_loop'],_0x552b3e['startTime']=this['_startTime'],_0x552b3e['duration']=this['_duration'],_0x552b3e['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x552b3e['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x552b3e['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x552b3e['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x552b3e['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x4441fd['positional']?(_0x552b3e['position']['copy'](_0x4441fd['entity']['getPositio'+'n']()),_0x552b3e['maxDistanc'+'e']=_0x4441fd['maxDistanc'+'e'],_0x552b3e['refDistanc'+'e']=_0x4441fd['refDistanc'+'e'],_0x552b3e['rollOffFac'+'tor']=_0x4441fd['rollOffFac'+'tor'],_0x552b3e['distanceMo'+'del']=_0x4441fd['distanceMo'+'del'],_0x1fef39=new jn(this['_manager'],_0x3dac91,_0x552b3e)):_0x1fef39=new ss(this['_manager'],_0x3dac91,_0x552b3e),this['_firstNode']&&_0x1fef39['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x1fef39;}['_onInstanc'+'ePlay'](_0x47abff){this['fire']('play',_0x47abff),this['_component']['fire']('play',this,_0x47abff);}['_onInstanc'+'ePause'](_0x34ee21){this['fire']('pause',_0x34ee21),this['_component']['fire']('pause',this,_0x34ee21);}['_onInstanc'+'eResume'](_0x5a31db){this['fire']('resume',_0x5a31db),this['_component']['fire']('resume',this,_0x5a31db);}['_onInstanc'+'eStop'](_0x402bfd){const _0x10214b=this['instances']['indexOf'](_0x402bfd);_0x10214b!==-(0xc5*-0xd+-0x12f2+0x1cf4)&&this['instances']['splice'](_0x10214b,0xad*-0xf+-0x2*-0xffd+-0x15d6),this['fire']('stop',_0x402bfd),this['_component']['fire']('stop',this,_0x402bfd);}['_onInstanc'+'eEnd'](_0x111e7c){const _0xac1332=this['instances']['indexOf'](_0x111e7c);_0xac1332!==-(0x1991+0xd*0xa5+-0x21f1)&&this['instances']['splice'](_0xac1332,-0x130f+-0xc*0x2ad+0x64*0x83),this['fire']('end',_0x111e7c),this['_component']['fire']('end',this,_0x111e7c);}['_onAssetAd'+'d'](_0x17c2af){this['load']();}['_onAssetLo'+'ad'](_0x186baa){this['load']();}['_onAssetRe'+'moved'](_0x3188d0){_0x3188d0['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x3188d0['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x461489){const _0x23badd=this['instances'];for(let _0x25bc36=0x531*0x5+0x1e49+-0x383e,_0x53a972=_0x23badd['length'];_0x25bc36<_0x53a972;_0x25bc36++)_0x23badd[_0x25bc36]['position']=_0x461489;}set['asset'](_0x1532ea){const _0x24bdbb=this['_asset'];if(_0x24bdbb){this['_assets']['off']('add:'+_0x24bdbb,this['_onAssetAd'+'d'],this);const _0x3e71aa=this['_assets']['get'](_0x24bdbb);_0x3e71aa&&_0x3e71aa['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x1532ea,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x5e23b1){this['_autoPlay']=!!_0x5e23b1;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x1f145e){if(this['_duration']=Math['max'](0x1ae9*0x1+-0x4e0*0x5+-0x289,Number(_0x1f145e)||-0x11f0+0x1d28+0x4*-0x2ce)||null,!this['_overlap']){const _0x37b3e6=this['instances'];for(let _0x44fa61=0x1754*0x1+-0x5b4*-0x4+-0x2*0x1712,_0xde51b9=_0x37b3e6['length'];_0x44fa61<_0xde51b9;_0x44fa61++)_0x37b3e6[_0x44fa61]['duration']=this['_duration'];}}get['duration'](){let _0x381436=-0xb*0x7+-0x5ad+0x5a*0x11;if(this['_hasAsset']()){const _0xce5210=this['_assets']['get'](this['_asset']);_0x381436=_0xce5210!=null&&_0xce5210['resource']?_0xce5210['resource']['duration']:-0x22d1+-0x1b6*0xb+-0x1*-0x35a3;}return this['_duration']!=null?this['_duration']%(_0x381436||-0x9*0xf6+0x2589+-0x1ce2):_0x381436;}get['isLoaded'](){if(this['_hasAsset']()){const _0x2fb6da=this['_assets']['get'](this['_asset']);if(_0x2fb6da)return!!_0x2fb6da['resource'];}return!(0xa7f*-0x3+-0x30a+-0x2288*-0x1);}get['isPaused'](){const _0x5638aa=this['instances'],_0xbb7256=_0x5638aa['length'];if(_0xbb7256===-0x22fb+-0x67a+0x2975)return!(-0x1711+-0x81*-0x1+0x1691);for(let _0x5a5aa7=-0xeea+0x941*0x2+-0x398;_0x5a5aa7<_0xbb7256;_0x5a5aa7++)if(!_0x5638aa[_0x5a5aa7]['isPaused'])return!(-0x5f6*0x4+-0x353+0x1b2c);return!(0x860+-0x2118+0x18b8);}get['isPlaying'](){const _0x5a368b=this['instances'];for(let _0x4eecd6=-0x266b+-0x1*0xe47+-0x2*-0x1a59,_0x575ec9=_0x5a368b['length'];_0x4eecd6<_0x575ec9;_0x4eecd6++)if(_0x5a368b[_0x4eecd6]['isPlaying'])return!(0xc3e+0x4b+0x1*-0xc89);return!(0x2c1+0x36*-0x4+-0x1e8);}get['isStopped'](){const _0x402d75=this['instances'];for(let _0x1c2715=0x1*-0x168b+0x2248+-0xbbd*0x1,_0x100fca=_0x402d75['length'];_0x1c2715<_0x100fca;_0x1c2715++)if(!_0x402d75[_0x1c2715]['isStopped'])return!(0x1769+-0x169c+-0xcc);return!(0x3*-0x525+-0xd37+0x1ca6);}set['loop'](_0x3c3b95){this['_loop']=!!_0x3c3b95;const _0x22553c=this['instances'];for(let _0x103802=0x1*0xb8+0x1a3e+-0x1af6,_0x1cf113=_0x22553c['length'];_0x103802<_0x1cf113;_0x103802++)_0x22553c[_0x103802]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x3f3ee9){this['_overlap']=!!_0x3f3ee9;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x795dd8){if(this['_pitch']=Math['max'](Number(_0x795dd8)||-0x213e+-0x2390+0x44ce,0x1173+0xe2d*-0x1+0x346*-0x1+0.01),!this['_overlap']){const _0x2f7440=this['instances'];for(let _0x459ee5=-0x126b*-0x1+-0xa02+0x1*-0x869,_0x96835f=_0x2f7440['length'];_0x459ee5<_0x96835f;_0x459ee5++)_0x2f7440[_0x459ee5]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x3f273e){if(this['_startTime']=Math['max'](-0x5c7*-0x1+-0x1*0x6eb+0x124,Number(_0x3f273e)||-0x24*-0x4e+-0x1*-0x94a+-0xa21*0x2),!this['_overlap']){const _0x32b4f3=this['instances'];for(let _0x1ccc59=-0x1b67+-0x7*0x26d+0x2c62,_0x56e82a=_0x32b4f3['length'];_0x1ccc59<_0x56e82a;_0x1ccc59++)_0x32b4f3[_0x1ccc59]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x399786){if(this['_volume']=N['clamp'](Number(_0x399786)||0x943*0x1+0x91*0x1+0x2*-0x4ea,-0x6ca*-0x3+-0x30*0x5d+-0x2ee,-0x634*-0x3+0x1c88+-0x2f23),!this['_overlap']){const _0x4a3f3f=this['instances'];for(let _0xc3aa24=0x1*-0x239b+0x486+0x1f15,_0x2ce05c=_0x4a3f3f['length'];_0xc3aa24<_0x2ce05c;_0xc3aa24++)_0x4a3f3f[_0xc3aa24]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',-0xc3b*0x3+0x17d5*0x1+-0x1*-0xcdd),c(this,'_pitch',0xad9*0x2+-0x2*0x3a3+-0xe6b),c(this,'_positiona'+'l',!(0x1cd0+-0x22b5+-0x3*-0x1f7)),c(this,'_refDistan'+'ce',0x26a9+-0x7*0x1ae+-0x1ae6),c(this,'_maxDistan'+'ce',0x207e+0x1*0x3d60+-0x36ce),c(this,'_rollOffFa'+'ctor',-0x1*-0x1dd7+-0xe78+-0x232*0x7),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x150b05,_0x5b5795,_0x45d304){const _0x26c0ed=this['_slots'];for(const _0x5276c4 in _0x26c0ed){const _0x4cb363=_0x26c0ed[_0x5276c4];if(!_0x4cb363['overlap']){const _0x4641ce=_0x4cb363['instances'];for(let _0x6a2dae=-0x111b+0x1095*-0x1+-0x2*-0x10d8,_0x1b5619=_0x4641ce['length'];_0x6a2dae<_0x1b5619;_0x6a2dae++)_0x4641ce[_0x6a2dae][_0x150b05]=_0x45d304?_0x4cb363[_0x150b05]*_0x5b5795:_0x5b5795;}}}set['distanceMo'+'del'](_0x315749){this['_distanceM'+'odel']=_0x315749,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x315749,!(-0x96+-0x1ebc+0x1b*0x129));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x17f6dd){this['_maxDistan'+'ce']=_0x17f6dd,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x17f6dd,!(-0x128c+0xd8e+0x4ff));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0xfb01ea){this['_refDistan'+'ce']=_0xfb01ea,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0xfb01ea,!(-0x1*0x1d13+0xe4f+-0x1*-0xec5));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x48bbe0){this['_rollOffFa'+'ctor']=_0x48bbe0,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x48bbe0,!(0xd9*0x2+-0xb5+-0x15*0xc));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x39e1f0){this['_pitch']=_0x39e1f0,this['_updateSou'+'ndInstance'+'s']('pitch',_0x39e1f0,!(-0x1c43*0x1+0x5f4+0x164f));}get['pitch'](){return this['_pitch'];}set['volume'](_0x38f587){this['_volume']=_0x38f587,this['_updateSou'+'ndInstance'+'s']('volume',_0x38f587,!(0x1cb7+0x86e*-0x1+-0x1449));}get['volume'](){return this['_volume'];}set['positional'](_0x172a20){this['_positiona'+'l']=_0x172a20;const _0x1eaa9e=this['_slots'];for(const _0xefbfdd in _0x1eaa9e){const _0x5d993a=_0x1eaa9e[_0xefbfdd];if(!_0x5d993a['overlap']){const _0x5ecba5=_0x5d993a['instances'],_0x4fdef5=_0x5ecba5['length'];for(let _0x5be59d=_0x4fdef5-(-0xb*-0x9f+-0x1a67+0x1393);_0x5be59d>=-0x5*0xfe+0x177+0x37f;_0x5be59d--){const _0x32e5eb=_0x5ecba5[_0x5be59d]['isPlaying']||_0x5ecba5[_0x5be59d]['isSuspende'+'d'],_0x22670a=_0x5ecba5[_0x5be59d]['currentTim'+'e'];_0x32e5eb&&_0x5ecba5[_0x5be59d]['stop']();const _0x292c58=_0x5d993a['_createIns'+'tance']();_0x32e5eb&&(_0x292c58['play'](),_0x292c58['currentTim'+'e']=_0x22670a),_0x5ecba5['push'](_0x292c58);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x19cf48){const _0x56b17f=this['_slots'];if(_0x56b17f){for(const _0xdfe4ac in _0x56b17f)_0x56b17f[_0xdfe4ac]['stop']();}const _0x4630e7={};for(const _0x224b6d in _0x19cf48)_0x19cf48[_0x224b6d]instanceof er?_0x4630e7[_0x19cf48[_0x224b6d]['name']]=_0x19cf48[_0x224b6d]:_0x19cf48[_0x224b6d]['name']&&(_0x4630e7[_0x19cf48[_0x224b6d]['name']]=new er(this,_0x19cf48[_0x224b6d]['name'],_0x19cf48[_0x224b6d]));this['_slots']=_0x4630e7,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x3b7ade=this['_slots'],_0x37594e=this['_playingBe'+'foreDisabl'+'e'];for(const _0x2e8a6b in _0x3b7ade){const _0x3223dd=_0x3b7ade[_0x2e8a6b];_0x3223dd['autoPlay']&&_0x3223dd['isStopped']?_0x3223dd['play']():_0x37594e[_0x2e8a6b]?_0x3223dd['resume']():_0x3223dd['isLoaded']||_0x3223dd['load']();}}['onDisable'](){const _0x5a2aa8=this['_slots'],_0x19a4a7={};for(const _0x2aae45 in _0x5a2aa8)_0x5a2aa8[_0x2aae45]['overlap']||_0x5a2aa8[_0x2aae45]['isPlaying']&&(_0x5a2aa8[_0x2aae45]['pause'](),_0x19a4a7[_0x2aae45]=!(-0x243f+-0x1*-0x1cdb+0x764));this['_playingBe'+'foreDisabl'+'e']=_0x19a4a7;}['onRemove'](){this['off']();}['addSlot'](_0x38c03f,_0xd979c1){const _0x836b97=this['_slots'];if(_0x836b97[_0x38c03f])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x38c03f+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x5370e8=new er(this,_0x38c03f,_0xd979c1);return _0x836b97[_0x38c03f]=_0x5370e8,_0x5370e8['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x5370e8['play'](),_0x5370e8;}['removeSlot'](_0x58e087){const _0x2f7748=this['_slots'];_0x2f7748[_0x58e087]&&(_0x2f7748[_0x58e087]['stop'](),delete _0x2f7748[_0x58e087]);}['slot'](_0x12bb36){return this['_slots'][_0x12bb36];}['_getSlotPr'+'operty'](_0x171774,_0xad1cb7){if(!this['enabled']||!this['entity']['enabled'])return;const _0x39f0a4=this['_slots'][_0x171774];if(!_0x39f0a4){v['warn']('Trying\x20to\x20'+'get\x20'+_0xad1cb7+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x171774+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x39f0a4[_0xad1cb7];}['isPlaying'](_0x1b7728){return this['_getSlotPr'+'operty'](_0x1b7728,'isPlaying')||!(0x2c*0x34+-0x14*-0x79+0x9*-0x20b);}['isLoaded'](_0x4ed87f){return this['_getSlotPr'+'operty'](_0x4ed87f,'isLoaded')||!(-0x2*0xe3b+-0x23*-0x82+0x17*0x77);}['isPaused'](_0x1bed04){return this['_getSlotPr'+'operty'](_0x1bed04,'isPaused')||!(0xe05*0x2+-0x1*-0x301+-0x1f0a*0x1);}['isStopped'](_0x2fa183){return this['_getSlotPr'+'operty'](_0x2fa183,'isStopped')||!(-0x2*-0x12ef+-0x215*-0x2+-0x35*0xcb);}['play'](_0x479c8a){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x579af9=this['_slots'][_0x479c8a];return _0x579af9?_0x579af9['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x479c8a+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x2ebc6a){const _0x3c9a2d=this['_slots'];if(_0x2ebc6a){const _0x529754=_0x3c9a2d[_0x2ebc6a];if(!_0x529754){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x2ebc6a+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x529754['pause']();}else{for(const _0x4a688d in _0x3c9a2d)_0x3c9a2d[_0x4a688d]['pause']();}}['resume'](_0x3265f1){const _0x5c85b9=this['_slots'];if(_0x3265f1){const _0x54ae88=_0x5c85b9[_0x3265f1];if(!_0x54ae88){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x3265f1+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x54ae88['isPaused']&&_0x54ae88['resume']();}else{for(const _0x5b9e32 in _0x5c85b9)_0x5c85b9[_0x5b9e32]['resume']();}}['stop'](_0x2e00b8){const _0x19f6d4=this['_slots'];if(_0x2e00b8){const _0x36e23d=_0x19f6d4[_0x2e00b8];if(!_0x36e23d){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x2e00b8+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x36e23d['stop']();}else{for(const _0x94a73b in _0x19f6d4)_0x19f6d4[_0x94a73b]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(-0x4c5+0x42b*0x7+-0x1868);}}const xx=['enabled'];class BI extends Xe{constructor(_0x12b4af){super(_0x12b4af),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x12b4af['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x4d4008){this['manager']['volume']=_0x4d4008;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x1280a2,_0x4eda23,_0x12506c){_0x12506c=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x409004=0x24a3+0x1f0b+0x21d7*-0x2;_0x409004<_0x12506c['length'];_0x409004++)_0x4eda23['hasOwnProp'+'erty'](_0x12506c[_0x409004])&&(_0x1280a2[_0x12506c[_0x409004]]=_0x4eda23[_0x12506c[_0x409004]]);super['initialize'+'ComponentD'+'ata'](_0x1280a2,_0x4eda23,['enabled']);}['cloneCompo'+'nent'](_0x587696,_0x440b85){const _0xd6c1e=_0x587696['sound'],_0x53f399=_0xd6c1e['slots'],_0x25345c={};for(const _0x19e5e2 in _0x53f399){const _0x5f13c2=_0x53f399[_0x19e5e2];_0x25345c[_0x19e5e2]={'name':_0x5f13c2['name'],'volume':_0x5f13c2['volume'],'pitch':_0x5f13c2['pitch'],'loop':_0x5f13c2['loop'],'duration':_0x5f13c2['duration'],'startTime':_0x5f13c2['startTime'],'overlap':_0x5f13c2['overlap'],'autoPlay':_0x5f13c2['autoPlay'],'asset':_0x5f13c2['asset']};}const _0x256f8e={'distanceModel':_0xd6c1e['distanceMo'+'del'],'enabled':_0xd6c1e['enabled'],'maxDistance':_0xd6c1e['maxDistanc'+'e'],'pitch':_0xd6c1e['pitch'],'positional':_0xd6c1e['positional'],'refDistance':_0xd6c1e['refDistanc'+'e'],'rollOffFactor':_0xd6c1e['rollOffFac'+'tor'],'slots':_0x25345c,'volume':_0xd6c1e['volume']};return this['addCompone'+'nt'](_0x440b85,_0x256f8e);}['onUpdate'](_0x16c6b9){const _0x40f19b=this['store'];for(const _0x550396 in _0x40f19b)if(_0x40f19b['hasOwnProp'+'erty'](_0x550396)){const _0x28dbaf=_0x40f19b[_0x550396]['entity'];if(_0x28dbaf['enabled']){const _0x3cb3ef=_0x28dbaf['sound'];if(_0x3cb3ef['enabled']&&_0x3cb3ef['positional']){const _0x3fef82=_0x28dbaf['getPositio'+'n'](),_0x21e2b0=_0x3cb3ef['slots'];for(const _0xd15a2c in _0x21e2b0)_0x21e2b0[_0xd15a2c]['updatePosi'+'tion'](_0x3fef82);}}}}['onBeforeRe'+'move'](_0x583af4,_0x1d145c){const _0x40db29=_0x1d145c['slots'];for(const _0x27ec06 in _0x40db29)_0x40db29[_0x27ec06]['overlap']||_0x40db29[_0x27ec06]['stop']();_0x1d145c['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x53bebc,_0x242083){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x53bebc,this['_frame']=-0x4ac+0x1*0x200+-0x13*-0x24,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x242083['spriteAsse'+'t'],this['name']=_0x242083['name'],this['fps']=_0x242083['fps']||0x17da+0x1363+0x2b3d*-0x1,this['loop']=_0x242083['loop']||!(-0x1397+-0xf45+0x22dd),this['_playing']=!(-0x1*0x773+0x1*0x18d7+0x1163*-0x1),this['_paused']=!(0xbc+0x2*0xb5+-0x3d*0x9),this['_time']=0xa29+-0x322*-0xa+-0x22f*0x13);}get['duration'](){if(this['_sprite']){const _0x120736=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x120736);}return 0x1161+-0x1d89+0xc28;}set['frame'](_0x4e0670){this['_setFrame'](_0x4e0670);const _0x4f7eb8=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x4f7eb8);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x9152ea){var _0x486d72;if(this['_sprite']&&((_0x486d72=this['_evtSetMes'+'hes'])==null||_0x486d72['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x9152ea,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x1b7bf5;!_0x9152ea||!_0x9152ea['atlas']?(_0x1b7bf5=this['_component']['_meshInsta'+'nce'],_0x1b7bf5&&(_0x1b7bf5['deletePara'+'meter']('texture_em'+'issiveMap'),_0x1b7bf5['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x9152ea['atlas']['texture']&&(_0x1b7bf5=this['_component']['_meshInsta'+'nce'],_0x1b7bf5&&(_0x1b7bf5['setParamet'+'er']('texture_em'+'issiveMap',_0x9152ea['atlas']['texture']),_0x1b7bf5['setParamet'+'er']('texture_op'+'acityMap',_0x9152ea['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0xab0a0a){const _0x5f03a4=this['_component']['system']['app']['assets'];let _0x946924=_0xab0a0a;if(_0xab0a0a instanceof le&&(_0x946924=_0xab0a0a['id']),this['_spriteAss'+'et']!==_0x946924){if(this['_spriteAss'+'et']){const _0x5e9f29=_0x5f03a4['get'](this['_spriteAss'+'et']);_0x5e9f29&&this['_unbindSpr'+'iteAsset'](_0x5e9f29);}if(this['_spriteAss'+'et']=_0x946924,this['_spriteAss'+'et']){const _0x1f93ec=_0x5f03a4['get'](this['_spriteAss'+'et']);_0x1f93ec?this['_bindSprit'+'eAsset'](_0x1f93ec):(this['sprite']=null,_0x5f03a4['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x4f0854){this['_setTime'](_0x4f0854),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0xb*0xd+-0x933+0x1*0x8a5),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=-0xdef+-0x16*-0x53+0x6cd;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x7b8b4a){this['_component']['system']['app']['assets']['off']('add:'+_0x7b8b4a['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x7b8b4a['id']&&this['_bindSprit'+'eAsset'](_0x7b8b4a);}['_bindSprit'+'eAsset'](_0x5b0130){_0x5b0130['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5b0130['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5b0130['resource']?this['_onSpriteA'+'ssetLoad'](_0x5b0130):this['_component']['system']['app']['assets']['load'](_0x5b0130);}['_unbindSpr'+'iteAsset'](_0x577b69){_0x577b69&&(_0x577b69['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x577b69['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x577b69['resource']&&!_0x577b69['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x577b69['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x66f64b){if(!_0x66f64b['resource'])this['sprite']=null;else{if(_0x66f64b['resource']['atlas'])this['sprite']=_0x66f64b['resource'];else{const _0x2663c7=_0x66f64b['data']['textureAtl'+'asAsset'],_0x39f3e1=this['_component']['system']['app']['assets'];_0x39f3e1['off']('load:'+_0x2663c7,this['_onTexture'+'AtlasLoad'],this),_0x39f3e1['once']('load:'+_0x2663c7,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x5e271b){const _0x1e1ab5=this['_spriteAss'+'et'];_0x1e1ab5 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x1e1ab5):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x1e1ab5));}['_onSpriteA'+'ssetRemove'](_0x4711dc){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x28dc0f){if(this['fps']===0x21ee+0x1bf+-0x23ad*0x1||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x9ebb67=this['fps']<-0x1*-0x1bca+-0x1b16+0x4*-0x2d?-(-0x5*-0x2dd+0xe5*0x9+-0x165d):0x11*-0x19f+0x1*-0x989+0x2519,_0x4e642f=this['_time']+_0x28dc0f*this['_component']['speed']*_0x9ebb67,_0x10d179=this['duration'],_0x2948e0=_0x4e642f>_0x10d179||_0x4e642f<-0x51e+0x194+0x38a;this['_setTime'](_0x4e642f);let _0x33251b=this['frame'];this['_sprite']?_0x33251b=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x10d179):_0x33251b=0x6c5+0x4*0x926+-0x2b5d,_0x33251b!==this['_frame']&&this['_setFrame'](_0x33251b),_0x2948e0&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0x2671+0x1*-0xdf5+-0x3467*-0x1),this['_paused']=!(-0xaa3+-0x561+0x3*0x557),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x3f1055){this['_time']=_0x3f1055;const _0x307c98=this['duration'];this['_time']<0x1*0x1e8f+0xc*-0xde+-0x2e1*0x7?this['loop']?this['_time']=this['_time']%_0x307c98+_0x307c98:this['_time']=-0xb7*-0x32+0xd6d+0x312b*-0x1:this['_time']>_0x307c98&&(this['loop']?this['_time']%=_0x307c98:this['_time']=_0x307c98);}['_setFrame'](_0x376c6c){this['_sprite']?this['_frame']=N['clamp'](_0x376c6c,-0x67*0x3e+0x15ed+0x305,this['_sprite']['frameKeys']['length']-(-0x2571*-0x1+-0xf86+-0x15ea)):this['_frame']=_0x376c6c,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x17b533=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x17b533['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0xc64+-0x1d0e+0x58e*0x3),this['_paused']=!(-0x1e40+0x2117+0x3*-0xf2),this['frame']=-0x1654+0x9*0x1be+-0x4a*-0x17,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x176d+0x18de*-0x1+0x171),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0xc53+-0x232a+0x2*0x17bf),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x7*0x2d4+0x1ef6+-0xb29),this['_paused']=!(0xe17*-0x1+0x1a07+-0x1*0xbef),this['_time']=-0xca3+0x10*-0x12+0xdc3,this['frame']=0x65d+-0xfd4*-0x2+-0x1*0x2605,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0x5aaa4e,_0x27e193){super(_0x5aaa4e,_0x27e193),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0x5aaa4e['defaultMat'+'erial'],this['_color']=new Y(0x5f4+-0x1676+0x1083,0x2*0x10f6+-0xac1+-0x172a,-0x1d*-0xb5+0xe5*0x1d+-0x2e71*0x1,-0x1*0x632+-0x13*0x121+0x1*0x1ba6),this['_colorUnif'+'orm']=new Float32Array(-0x5*-0x397+-0xa2a+-0x7c6),this['_speed']=0x1879+0x120c+-0x716*0x6,this['_flipX']=!(0x2393+-0x21d3+-0x95*0x3),this['_flipY']=!(0x5ed*-0x5+0x13c4+0x3*0x34a),this['_width']=-0xb17*-0x1+0x652*-0x5+0x1484,this['_height']=0x162c+-0x14*-0x1ca+-0x5*0xb97,this['_drawOrder']=0x382*0x1+-0x1bf4+0x1872,this['_layers']=[Fi],this['_outerScal'+'e']=new $(0x20c9+-0x128e+-0xe3a,-0x3*0xaf1+-0x63*0x41+0x30d*0x13),this['_outerScal'+'eUniform']=new Float32Array(-0x89*-0x27+-0x1*0x5d5+0x68*-0x25),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x9e5*-0x1+0x1*0x1133+-0x1b14),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0xca*0x8+-0x253b+0x1eef),this['_batchGrou'+'pId']=-(0x1e6b+0x445+-0x22af),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x27e193['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x27e193,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x146*0xa+0x57*-0x40+0x51*0x6d),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0x16e1+-0x1233+-0x4ad),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x35a623){this['_type']!==_0x35a623&&(this['_type']=_0x35a623,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x413935){this['_currentCl'+'ip']['frame']=_0x413935;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x3eba97){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x3eba97;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x154d45){this['_currentCl'+'ip']['sprite']=_0x154d45;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x3fd9b2){this['_material']=_0x3fd9b2,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x3fd9b2);}get['material'](){return this['_material'];}set['color'](_0x30882c){this['_color']['r']=_0x30882c['r'],this['_color']['g']=_0x30882c['g'],this['_color']['b']=_0x30882c['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x84+0x1a*-0x15b+0x22ba]=this['_color']['r'],this['_colorUnif'+'orm'][-0x7a0+0x5c5+0xee*0x2]=this['_color']['g'],this['_colorUnif'+'orm'][-0x50*-0x5+0xff*0x13+-0x147b]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x1884bb){this['_color']['a']=_0x1884bb,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x1884bb);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x2842e7){if(!_0x2842e7){for(const _0x2e9843 in this['_clips'])this['removeClip'](_0x2e9843);return;}for(const _0x92be16 in this['_clips']){let _0xa07792=!(0x51*0x43+-0x11*-0x71+-0x1*0x1cb3);for(const _0x22ff86 in _0x2842e7)if(_0x2842e7[_0x22ff86]['name']===_0x92be16){_0xa07792=!(-0xaea+0x167c+-0xb92),this['_clips'][_0x92be16]['fps']=_0x2842e7[_0x22ff86]['fps'],this['_clips'][_0x92be16]['loop']=_0x2842e7[_0x22ff86]['loop'],_0x2842e7[_0x22ff86]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x92be16]['sprite']=_0x2842e7[_0x22ff86]['sprite']:_0x2842e7[_0x22ff86]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x92be16]['spriteAsse'+'t']=_0x2842e7[_0x22ff86]['spriteAsse'+'t']);break;}_0xa07792||this['removeClip'](_0x92be16);}for(const _0x295dad in _0x2842e7)this['_clips'][_0x2842e7[_0x295dad]['name']]||this['addClip'](_0x2842e7[_0x295dad]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x33fd8a){this['_speed']=_0x33fd8a;}get['speed'](){return this['_speed'];}set['flipX'](_0x10d412){this['_flipX']!==_0x10d412&&(this['_flipX']=_0x10d412,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x5873f6){this['_flipY']!==_0x5873f6&&(this['_flipY']=_0x5873f6,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x26546f){_0x26546f!==this['_width']&&(this['_width']=_0x26546f,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x4dc321){_0x4dc321!==this['_height']&&(this['_height']=_0x4dc321,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0xd2a78f){var _0x24032b,_0x23b8a1;if(this['_batchGrou'+'pId']===_0xd2a78f)return;const _0x295265=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0xd2a78f,this['entity']['enabled']&&_0x295265>=-0x1*0x45d+-0xb*-0x9e+-0x1b*0x17&&((_0x24032b=this['system']['app']['batcher'])==null||_0x24032b['remove'](et['SPRITE'],_0x295265,this['entity'])),this['entity']['enabled']&&_0xd2a78f>=0x1*0x1495+-0xf60+-0x535?(_0x23b8a1=this['system']['app']['batcher'])==null||_0x23b8a1['insert'](et['SPRITE'],_0xd2a78f,this['entity']):_0x295265>=0x1*0x38f+0x23f9+0x16*-0x1cc&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x1a99bb){this['_autoPlayC'+'lip']=_0x1a99bb instanceof bi?_0x1a99bb['name']:_0x1a99bb,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x416022){this['_drawOrder']=_0x416022,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x416022);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x5723c4){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x5723c4,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x34e59f;const _0x250842=this['system']['app'],_0x5d76e3=_0x250842['scene'],_0x37bfb=_0x5d76e3['layers'];this['_evtLayers'+'Changed']=_0x5d76e3['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x37bfb&&(this['_evtLayerA'+'dded']=_0x37bfb['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x37bfb['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=0x13c*-0x3+-0x10ad+0x1461&&((_0x34e59f=_0x250842['batcher'])==null||_0x34e59f['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x4102e9,_0x492cfa,_0x2eaf4c,_0x18c1c1;const _0x566162=this['system']['app'],_0x9c29d8=_0x566162['scene']['layers'];(_0x4102e9=this['_evtLayers'+'Changed'])==null||_0x4102e9['off'](),this['_evtLayers'+'Changed']=null,_0x9c29d8&&((_0x492cfa=this['_evtLayerA'+'dded'])==null||_0x492cfa['off'](),this['_evtLayerA'+'dded']=null,(_0x2eaf4c=this['_evtLayerR'+'emoved'])==null||_0x2eaf4c['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x639+-0x1*-0x264a+-0x2011&&((_0x18c1c1=_0x566162['batcher'])==null||_0x18c1c1['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x1059ef;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x10f645 in this['_clips'])this['_clips'][_0x10f645]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x1059ef=this['_node'])==null||_0x1059ef['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x241a59=[this['_meshInsta'+'nce']];for(let _0x34b2c6=-0xc43*-0x3+-0xb86+-0x1*0x1943,_0x38b3c9=this['_layers']['length'];_0x34b2c6<_0x38b3c9;_0x34b2c6++){const _0x5d17db=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x34b2c6]);_0x5d17db&&_0x5d17db['addMeshIns'+'tances'](_0x241a59);}this['_addedMode'+'l']=!(0x641+0xd99+-0x79*0x2a);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x5549cd=[this['_meshInsta'+'nce']];for(let _0x363591=-0x1*-0x9+-0x14d3+0x2*0xa65,_0x4cad08=this['_layers']['length'];_0x363591<_0x4cad08;_0x363591++){const _0x476ea3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x363591]);_0x476ea3&&_0x476ea3['removeMesh'+'Instances'](_0x5549cd);}this['_addedMode'+'l']=!(-0x1f76+-0x1703+-0x2de*-0x13);}['_showFrame'](_0x161f28){if(!this['sprite'])return;const _0x1e643b=this['sprite']['meshes'][_0x161f28];if(!_0x1e643b){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0xb*-0x33d+-0xf0+0x2490));return;}let _0x31e74a;if(this['sprite']['renderMode']===nt?_0x31e74a=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x31e74a=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x31e74a=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x1e643b,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x25ba+-0x16*0x4d+-0x1f1b),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x2004+-0x4*-0x74c+0x1*0x2d5),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0x1541+0x25ef+-0x7*0x262]=this['_color']['r'],this['_colorUnif'+'orm'][0x1278+-0x10d5+-0x2*0xd1]=this['_color']['g'],this['_colorUnif'+'orm'][-0x19c0+0x7*0x314+0x436]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x31e74a&&(this['_meshInsta'+'nce']['material']=_0x31e74a),this['_meshInsta'+'nce']['mesh']!==_0x1e643b&&(this['_meshInsta'+'nce']['mesh']=_0x1e643b,this['_meshInsta'+'nce']['visible']=!(0x1*-0x87a+0x6b*-0x2a+0x1a08),this['_meshInsta'+'nce']['_aabbVer']=-(0x5e*0x2+0x341*-0x7+0x160c)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x104c88=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x161f28]];if(_0x104c88){const _0x45171c=(0x8*0xdd+0x4*0x35e+0x1da*-0xb)/_0x104c88['rect']['z'],_0x5c6de8=(-0x1d3e+-0x1544+0x3284)/_0x104c88['rect']['w'];this['_innerOffs'+'et']['set'](_0x104c88['border']['x']*_0x45171c,_0x104c88['border']['y']*_0x5c6de8,_0x104c88['border']['z']*_0x45171c,_0x104c88['border']['w']*_0x5c6de8);const _0x23ff31=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x104c88['rect']['x']/_0x23ff31['width'],_0x104c88['rect']['y']/_0x23ff31['height'],_0x104c88['rect']['z']/_0x23ff31['width'],_0x104c88['rect']['w']/_0x23ff31['height']);}else this['_innerOffs'+'et']['set'](0x34*-0x4+-0x18e5+0x19b5,0x15dd*-0x1+0x15f3+-0x16,0xd*0x57+-0x26bd*-0x1+-0x2b28*0x1,0x3*-0xcbf+-0x61f+0x2c5c);this['_innerOffs'+'etUniform'][0x10b9+0x2354+-0x145*0x29]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x86e+0x190a+-0x109b]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x11*-0x7f+-0x104b+0x18bc]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x17*-0xd3+0x7f6+0xb02]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0xf91+0x2025+0x425*-0x4]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0xaa4*0x3+0x4*-0x669+-0x1*0x647]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0xa40+0xf38*-0x2+0x1432]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x24b5+0x222c+-0x236f*0x2]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x2c5c91=this['flipX']?-(-0x1a4a*0x1+0x2345*0x1+-0x2fe*0x3):0x20d1*-0x1+-0x24ad+0x457f,_0x3c1797=this['flipY']?-(0x1b1*-0x11+-0x21a2+0x21*0x1e4):0x8*0x342+-0x568+-0x1*0x14a7,_0x4a5951=0x1*0x35+0x305*0x7+-0x8*0x2ab,_0x5958fe=0x5*0x26e+-0xac0+-0x166;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x4220c3=-0x6*0x54b+-0x1b5*-0x7+0x8*0x27a,_0x501d0f=0x21ba+-0x13*-0x155+0x1d84*-0x2;if(this['sprite']['atlas']){const _0x1cba2b=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x1cba2b&&(_0x4220c3=_0x1cba2b['rect']['z'],_0x501d0f=_0x1cba2b['rect']['w'],_0x4a5951=(0x2de*-0xd+0xc56+0x18f0+0.5-_0x1cba2b['pivot']['x'])*this['_width'],_0x5958fe=(-0x215f+-0x8e3*-0x1+0x187c+0.5-_0x1cba2b['pivot']['y'])*this['_height']);}const _0x56a0b5=_0x4220c3/this['sprite']['pixelsPerU'+'nit'],_0x4bc884=_0x501d0f/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x56a0b5),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x4bc884)),_0x2c5c91*=_0x56a0b5,_0x3c1797*=_0x4bc884,this['_outerScal'+'e']['x']/=_0x56a0b5,this['_outerScal'+'e']['y']/=_0x4bc884,_0x2c5c91*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x56a0b5),0x19*0xc+-0x1*0x200e+0x1ee2+0.0001,0x17f7+0x178c+0x6*-0x7eb),_0x3c1797*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x4bc884),-0x26e7+0x169*-0x1+0xa14*0x4+0.0001,-0x28*0x8b+-0x48b*0x5+0x2c70),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x2*-0x9a4+0x9fe+0x94a]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1*0x10ca+0x7de*0x1+0x8ed]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x2c5c91,_0x3c1797,-0xa9c*-0x2+-0x49*-0x1+-0x1580),this['_node']['setLocalPo'+'sition'](_0x4a5951,_0x5958fe,0x4c3*0x2+-0x3c+0x29*-0x3a);}['_updateAab'+'b'](_0xd5c189){return _0xd5c189['center']['set'](0x2*0x969+0x126d+0x5*-0x773,-0x2*0xd13+-0x28*-0xec+-0x55d*0x2,-0x23b+0xe9a*-0x1+0x8b*0x1f),_0xd5c189['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x306+-0x1*0xb4e+-0xe*-0x106+0.5),this['_outerScal'+'e']['y']*(-0x2463+0x19*-0x18d+0x4b28+0.5),0x32a+0x91+-0x3bb+0.001),_0xd5c189['setFromTra'+'nsformedAa'+'bb'](_0xd5c189,this['_node']['getWorldTr'+'ansform']()),_0xd5c189;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x3ea247=this['_clips'][this['_autoPlayC'+'lip']];_0x3ea247&&!_0x3ea247['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x3ea247['name']);}['_onLayersC'+'hanged'](_0x47760b,_0x1bdebc){_0x47760b['off']('add',this['onLayerAdd'+'ed'],this),_0x47760b['off']('remove',this['onLayerRem'+'oved'],this),_0x1bdebc['on']('add',this['onLayerAdd'+'ed'],this),_0x1bdebc['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x5dc4a3){this['layers']['indexOf'](_0x5dc4a3['id'])<0x20e3+0x1*0xa6b+-0x2b4e||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x5dc4a3['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x572b52){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x572b52['id'])<-0xe5*0x4+0x1*0x461+-0xcd*0x1||_0x572b52['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x22c630=-0x1b44+-0x871*-0x1+0x12d3;_0x22c630<this['layers']['length'];_0x22c630++){const _0xab50e1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x22c630]);_0xab50e1&&_0xab50e1['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x320351){const _0x2a2792=new bi(this,{'name':_0x320351['name'],'fps':_0x320351['fps'],'loop':_0x320351['loop'],'spriteAsset':_0x320351['spriteAsse'+'t']});return this['_clips'][_0x320351['name']]=_0x2a2792,_0x2a2792['name']&&_0x2a2792['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x2a2792;}['removeClip'](_0x317290){delete this['_clips'][_0x317290];}['clip'](_0x1ff9e8){return this['_clips'][_0x1ff9e8];}['play'](_0xc0c996){const _0x31f08a=this['_clips'][_0xc0c996],_0x225be3=this['_currentCl'+'ip'];return _0x225be3&&_0x225be3!==_0x31f08a&&(_0x225be3['_playing']=!(-0x1664+-0x21da+-0x77*-0x79)),this['_currentCl'+'ip']=_0x31f08a,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x31f08a,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0xc0c996+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x31f08a;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(-0x17fd+0x2600+0x1*-0xe03);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x5cdbe6){super(_0x5cdbe6),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x605bbd){this['_defaultMa'+'terial']=_0x605bbd;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x3d8e69=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0x1f5ea8=new Uint8Array(_0x3d8e69['lock']());_0x1f5ea8[0xb9b*-0x2+-0x53f*0x1+0x1c75]=_0x1f5ea8[-0x21b0+-0xa9c+0x407*0xb]=_0x1f5ea8[0x24ba+0xa45+-0x2efd]=_0x1f5ea8[0xefb*0x2+-0x11db*-0x2+-0x15e3*0x3]=0x1680+-0x9f*-0xa+-0x1bb7*0x1,_0x3d8e69['unlock']();const _0x5b7512=new cs();_0x5b7512['diffuse']['set'](0x15da+-0x71f*0x2+-0x79c*0x1,-0x1638+0xe66+0x7d2,0x1ce1*-0x1+0x232d+0x1f*-0x34),_0x5b7512['emissive']['set'](-0x9d5+0xe*0x275+0x10*-0x189,-0x13*0x137+-0x13d1+-0x3*-0xe4d,0x1e24+0x142d+-0x3250),_0x5b7512['emissiveMa'+'p']=_0x3d8e69,_0x5b7512['opacityMap']=_0x3d8e69,_0x5b7512['opacityMap'+'Channel']='a',_0x5b7512['useLightin'+'g']=!(0xc69+-0x3*0x743+-0x7*-0x157),_0x5b7512['useTonemap']=!(0x1669+0xfc9*0x1+-0x2631),_0x5b7512['useFog']=!(0x1f7b*0x1+0xb40+-0x3*0xe3e),_0x5b7512['useSkybox']=!(-0xb7e+-0x1*-0x94e+0x231),_0x5b7512['blendType']=hr,_0x5b7512['depthWrite']=!(0x2496+0x6d4+0x1*-0x2b69),_0x5b7512['pixelSnap']=!(-0x34a*0x1+0x1e12+-0x1*0x1ac7),_0x5b7512['cull']=mt,_0x5b7512['update'](),this['_defaultTe'+'xture']=_0x3d8e69,this['_defaultMa'+'terial']=_0x5b7512;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x368745){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x368745;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x5b4acd=this['defaultMat'+'erial']['clone']();_0x5b4acd['nineSliced'+'Mode']=nt,_0x5b4acd['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x5b4acd;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x3f335c){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x3f335c;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0xa60c58=this['defaultMat'+'erial']['clone']();_0xa60c58['nineSliced'+'Mode']=Qe,_0xa60c58['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0xa60c58;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x2b5698,_0x121c51,_0x1b7b6f){if(_0x121c51['enabled']!==void(0x19ad+0x4*0x305+-0x25c1)&&(_0x2b5698['enabled']=_0x121c51['enabled']),_0x2b5698['type']=_0x121c51['type'],_0x121c51['layers']&&Array['isArray'](_0x121c51['layers'])&&(_0x2b5698['layers']=_0x121c51['layers']['slice'](-0x1e82+0x1e50+0x1*0x32)),_0x121c51['drawOrder']!==void(0x685+0x1*0x2313+-0x2998)&&(_0x2b5698['drawOrder']=_0x121c51['drawOrder']),_0x121c51['color']!==void(0x2a*-0xc7+0x693+0x1a13)&&(_0x121c51['color']instanceof Y?_0x2b5698['color']['set'](_0x121c51['color']['r'],_0x121c51['color']['g'],_0x121c51['color']['b'],_0x121c51['opacity']??0x1*0x196c+0xa79*0x1+0x2*-0x11f2):_0x2b5698['color']['set'](_0x121c51['color'][-0x1*-0xdfd+0x1ffb+-0x2df8],_0x121c51['color'][0x1*0x7eb+0x4f*0x35+-0x1845],_0x121c51['color'][0x45*0x6f+0x1511+-0x5a*0x91],_0x121c51['opacity']??0x18f3+-0x3*0x107+-0x1*0x15dd),_0x2b5698['color']=_0x2b5698['color']),_0x121c51['opacity']!==void(-0x6c3+0xd*-0x2c4+0x3*0xe3d)&&(_0x2b5698['opacity']=_0x121c51['opacity']),_0x121c51['flipX']!==void(-0x2394+-0x2042+-0x26*-0x1c9)&&(_0x2b5698['flipX']=_0x121c51['flipX']),_0x121c51['flipY']!==void(0xa1d+0xb03*0x1+-0x1520)&&(_0x2b5698['flipY']=_0x121c51['flipY']),_0x121c51['width']!==void(-0x15*0x114+0xa*-0x1d+0x17c6*0x1)&&(_0x2b5698['width']=_0x121c51['width']),_0x121c51['height']!==void(0x1ae8+-0x1cab+0x1c3)&&(_0x2b5698['height']=_0x121c51['height']),_0x121c51['spriteAsse'+'t']!==void(-0x20*-0xed+0x6a9+0x52f*-0x7)&&(_0x2b5698['spriteAsse'+'t']=_0x121c51['spriteAsse'+'t']),_0x121c51['sprite']&&(_0x2b5698['sprite']=_0x121c51['sprite']),_0x121c51['frame']!==void(-0x4a5*0x2+-0xa5c+0x13a6)&&(_0x2b5698['frame']=_0x121c51['frame']),_0x121c51['clips']){for(const _0x54afc1 in _0x121c51['clips'])_0x2b5698['addClip'](_0x121c51['clips'][_0x54afc1]);}_0x121c51['speed']!==void(-0x1279+-0x4a9*0x7+-0x8*-0x663)&&(_0x2b5698['speed']=_0x121c51['speed']),_0x121c51['autoPlayCl'+'ip']&&(_0x2b5698['autoPlayCl'+'ip']=_0x121c51['autoPlayCl'+'ip']),_0x2b5698['batchGroup'+'Id']=_0x121c51['batchGroup'+'Id']===void(-0x1cc1+0x463*0x5+0x2*0x369)||_0x121c51['batchGroup'+'Id']===null?-(0x48+-0x19e9+-0x1*-0x19a2):_0x121c51['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x2b5698,_0x121c51,_0x1b7b6f);}['cloneCompo'+'nent'](_0x4183d8,_0x18825e){const _0x4b15f8=_0x4183d8['sprite'];return this['addCompone'+'nt'](_0x18825e,{'enabled':_0x4b15f8['enabled'],'type':_0x4b15f8['type'],'spriteAsset':_0x4b15f8['spriteAsse'+'t'],'sprite':_0x4b15f8['sprite'],'width':_0x4b15f8['width'],'height':_0x4b15f8['height'],'frame':_0x4b15f8['frame'],'color':_0x4b15f8['color']['clone'](),'opacity':_0x4b15f8['opacity'],'flipX':_0x4b15f8['flipX'],'flipY':_0x4b15f8['flipY'],'speed':_0x4b15f8['speed'],'clips':_0x4b15f8['clips'],'autoPlayClip':_0x4b15f8['autoPlayCl'+'ip'],'batchGroupId':_0x4b15f8['batchGroup'+'Id'],'drawOrder':_0x4b15f8['drawOrder'],'layers':_0x4b15f8['layers']['slice'](-0x10*0x185+0x2150+-0x12*0x80)});}['onUpdate'](_0x11cea5){const _0x44a118=this['store'];for(const _0x232b02 in _0x44a118)if(_0x44a118['hasOwnProp'+'erty'](_0x232b02)){const _0x4e0346=_0x44a118[_0x232b02];if(_0x4e0346['data']['enabled']&&_0x4e0346['entity']['enabled']){const _0x193a50=_0x4e0346['entity']['sprite'];_0x193a50['_currentCl'+'ip']&&_0x193a50['_currentCl'+'ip']['_update'](_0x11cea5);}}}['onBeforeRe'+'move'](_0x9d169a,_0x566f05){_0x566f05['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0xc2208b,_0x3748b1){super(_0xc2208b,_0x3748b1),this['_oldState']=!(-0x1a5e+-0xca1+0x1*0x26ff),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x1a788e){_0x1a788e instanceof T?this['_size']['copy'](_0x1a788e):_0x1a788e instanceof Array&&_0x1a788e['length']>=0x100*0x13+0x53*-0x40+0x1c3&&this['size']['set'](_0x1a788e[0x179*0x19+-0xa8f*0x1+-0x1*0x1a42],_0x1a788e[0x1*0xce3+0x1*0x1e62+-0x2b44],_0x1a788e[-0x120c+-0xa9*-0x22+0x2*-0x232]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x3ff08f,_0x1d7021,_0x1b2913){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x426d53=this['enabled']&&this['entity']['enabled'];_0x426d53!==this['_oldState']&&(this['_oldState']=_0x426d53,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(0x1405+-0xeff+0x506*-0x1);}}const vx=['enabled'];class $I extends Xe{constructor(_0x4ba98c){super(_0x4ba98c),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x5ec554,_0x541d4e,_0x13c445){_0x5ec554['enabled']=_0x541d4e['hasOwnProp'+'erty']('enabled')?!!_0x541d4e['enabled']:!(0xee3+-0x2481+0x159e),_0x541d4e['size']&&(_0x541d4e['size']instanceof T?_0x5ec554['size']['copy'](_0x541d4e['size']):_0x541d4e['size']instanceof Array&&_0x541d4e['size']['length']>=-0x1*-0x2077+-0x150f+0x1*-0xb65&&_0x5ec554['size']['set'](_0x541d4e['size'][0x2*-0x511+-0x3c1+-0x5*-0x2c7],_0x541d4e['size'][0x165e+-0x1399+-0x2c4],_0x541d4e['size'][0x832*0x2+0x195a+-0x29bc]));}['cloneCompo'+'nent'](_0x57c86b,_0x4f1fad){const _0x32558d={'enabled':_0x57c86b['zone']['enabled'],'size':_0x57c86b['zone']['size']};return this['addCompone'+'nt'](_0x4f1fad,_0x32558d);}['_onBeforeR'+'emove'](_0x350cb1,_0x183c43){_0x183c43['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class WI{constructor(_0x307704,_0x117711){this['effect']=_0x307704,this['inputTarge'+'t']=_0x117711,this['outputTarg'+'et']=null,this['name']=_0x307704['constructo'+'r']['name'];}}class qI{constructor(_0x48d341,_0xddaa30){this['app']=_0x48d341,this['camera']=_0xddaa30,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x1e52+-0x58b*-0x2+0x5*0x3d9),this['depthTarge'+'t']=null,_0xddaa30['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x4722e2,_0x1a83d4){const _0x9cfdfa=this['camera']['rect'],_0x7785a2=this['destinatio'+'nRenderTar'+'get'],_0x5dc537=this['app']['graphicsDe'+'vice'],_0x2af999=Math['floor'](_0x9cfdfa['z']*((_0x7785a2==null?void(-0x161f+0x100*0x25+-0xee1):_0x7785a2['width'])??_0x5dc537['width'])),_0x22e94b=Math['floor'](_0x9cfdfa['w']*((_0x7785a2==null?void(0x7b5+-0x1292*-0x1+-0x1a47):_0x7785a2['height'])??_0x5dc537['height']));return new he(_0x5dc537,{'name':_0x1a83d4,'format':_0x4722e2,'width':_0x2af999,'height':_0x22e94b,'mipmaps':!(0x2*-0xbdf+0x202f+-0x6c*0x14),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0x1860fc,_0x3c3e94){const _0x36d4f1=this['app']['graphicsDe'+'vice'],_0x2ce71a=(this['destinatio'+'nRenderTar'+'get']??_0x36d4f1['backBuffer'])['isColorBuf'+'ferSrgb'](0x16a2+-0x237b*-0x1+0x1b*-0x227),_0xf83242=(_0x3c3e94&&_0x36d4f1['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(-0x1c7*0xd+-0xb*0x2e7+0x3708)))??(_0x2ce71a?rs:Se),_0x555f32=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x4c8248=this['_allocateC'+'olorBuffer'](_0xf83242,_0x555f32);return new pt({'colorBuffer':_0x4c8248,'depth':_0x1860fc,'stencil':_0x1860fc&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x1860fc?_0x36d4f1['samples']:-0x93f+0x730+0x30*0xb});}['_resizeOff'+'screenTarg'+'et'](_0x1c4b13){const _0x46a48d=_0x1c4b13['colorBuffe'+'r']['format'],_0xc67b7=_0x1c4b13['colorBuffe'+'r']['name'];_0x1c4b13['destroyFra'+'meBuffers'](),_0x1c4b13['destroyTex'+'tureBuffer'+'s'](),_0x1c4b13['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x46a48d,_0xc67b7),_0x1c4b13['_colorBuff'+'ers']=[_0x1c4b13['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x448f24){_0x448f24['destroyTex'+'tureBuffer'+'s'](),_0x448f24['destroy']();}['addEffect'](_0x5f00d3){const _0x1f4598=this['effects'],_0x21bd54=_0x1f4598['length']===-0x4d0*-0x4+0x11*-0x1d6+0x5fb*0x2,_0x3d767d=this['_createOff'+'screenTarg'+'et'](_0x21bd54,_0x5f00d3['hdr']),_0x594337=new WI(_0x5f00d3,_0x3d767d);_0x1f4598['push'](_0x594337),this['_sourceTar'+'get']=_0x594337['inputTarge'+'t'],_0x1f4598['length']>-0x51b*-0x3+-0x1251+0x1*0x301&&(_0x1f4598[_0x1f4598['length']-(-0x1f21+-0xe18+0x2d3b)]['outputTarg'+'et']=_0x594337['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x5f00d3,_0x5f00d3['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x74a+0x39a*0x8+0x26*-0x91);}['removeEffe'+'ct'](_0x173eb2){let _0x245594=-(0x1*0x19c9+0x92e+-0x37f*0xa);for(let _0x4244ed=-0x5*-0x10f+0x173a+-0x1*0x1c85,_0x2d8cb0=this['effects']['length'];_0x4244ed<_0x2d8cb0;_0x4244ed++)if(this['effects'][_0x4244ed]['effect']===_0x173eb2){_0x245594=_0x4244ed;break;}_0x245594>=0x3*-0x155+-0x8f*0xe+0x1*0xbd1&&(_0x245594>-0x4*0x4d6+0x3a1*0x6+0x26e*-0x1?this['effects'][_0x245594-(0x892*-0x3+-0xd44*-0x1+0xc73*0x1)]['outputTarg'+'et']=_0x245594+(-0x2b*-0x83+-0x2d0*0x8+0x80)<this['effects']['length']?this['effects'][_0x245594+(0x4*0x940+-0xa7f*0x3+-0x582)]['inputTarge'+'t']:null:this['effects']['length']>-0x2575+-0x1979+0x3eef&&(this['effects'][-0x1*0x709+-0x18a5*-0x1+-0x1*0x119b]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x1fc1*0x1+0xca8+-0x62*0x74]['inputTarge'+'t']),this['effects'][0x95*-0x3+0x6*0x574+-0x4*0x7be]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0x10a1+0x2d1+-0x1ba*-0x8),this['effects'][0xc87*-0x3+0x189c+-0x16*-0x97]['hdr']),this['_sourceTar'+'get']=this['effects'][0x1317+-0x2418+0x1102]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x1582+0x1*0xa67+-0x3fd*0x8]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x245594]['inputTarge'+'t']),this['effects']['splice'](_0x245594,0x6eb+0x1438+-0x97*0x2e)),this['enabled']&&_0x173eb2['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x1*0x9a3+-0x8fd+0x12a0&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x4000d6=-0x1362+0x3b*0x3d+0x553,_0x5d1727=this['effects']['length'];_0x4000d6<_0x5d1727;_0x4000d6++){const _0x47157f=this['effects'][_0x4000d6]['effect'];this['_newPostEf'+'fect']!==_0x47157f&&_0x47157f['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x34264f=0xb6*-0x35+0x19ba+0xbf4,_0x4b17f2=this['effects']['length'];_0x34264f<_0x4b17f2;_0x34264f++)this['effects'][_0x34264f]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x484afa=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x484afa&&(_0x484afa['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x2292+0x1405+-0x145*0x2b)));}['_releaseDe'+'pthMap'](){const _0x11dca3=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x11dca3&&(_0x11dca3['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0xfa8*0x2+-0x9c1+-0x3e*0x59)));}['destroy'](){for(let _0xed7b73=0x25e9+0x241a+-0x1*0x4a03,_0x54e553=this['effects']['length'];_0xed7b73<_0x54e553;_0xed7b73++)this['effects'][_0xed7b73]['inputTarge'+'t']['destroy']();this['effects']['length']=0x7*-0x13+0x10f3*-0x1+0x1178,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x5c*0x4+0x2564+-0x23f4),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x8eb*-0x1+-0x1d*0xa+0xa0d]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x3c9cde=null;const _0x590ef3=this['effects']['length'];if(_0x590ef3)for(let _0x4d4076=-0x1f3d+0x35*-0x2b+0x2824;_0x4d4076<_0x590ef3;_0x4d4076++){const _0x289ded=this['effects'][_0x4d4076];let _0x431c1e=_0x289ded['outputTarg'+'et'];_0x4d4076===_0x590ef3-(-0x1e3b+0x262e+-0x7f2)&&(_0x3c9cde=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x431c1e=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x289ded['name']),_0x289ded['effect']['render'](_0x289ded['inputTarge'+'t'],_0x431c1e,_0x3c9cde),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x1867*0x1+0x13*-0x1d+-0x163f),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x4d288f,_0x3847bb){const _0x49dfd8=this['camera']['rect'],_0x5c5b8c=this['destinatio'+'nRenderTar'+'get'];_0x4d288f=(_0x5c5b8c==null?void(0x24c5*-0x1+0x1*0x15a+0x1*0x236b):_0x5c5b8c['width'])??_0x4d288f,_0x3847bb=(_0x5c5b8c==null?void(-0xc24+-0x1d60+-0x1*-0x2984):_0x5c5b8c['height'])??_0x3847bb,this['camera']['camera']['aspectRati'+'o']=_0x4d288f*_0x49dfd8['z']/(_0x3847bb*_0x49dfd8['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x2e48ae=this['app']['graphicsDe'+'vice'],_0x2d0358=this['destinatio'+'nRenderTar'+'get'],_0x1633f5=(_0x2d0358==null?void(-0x87d*-0x2+0x3*0x3f1+-0x1ccd*0x1):_0x2d0358['width'])??_0x2e48ae['width'],_0x1b84b5=(_0x2d0358==null?void(-0x24*0xbe+0x805*0x1+-0x12b3*-0x1):_0x2d0358['height'])??_0x2e48ae['height'],_0x3695c3=this['camera']['rect'],_0x26af06=Math['floor'](_0x3695c3['z']*_0x1633f5),_0x100dd7=Math['floor'](_0x3695c3['w']*_0x1b84b5),_0x42b04f=this['effects'];for(let _0x14e505=-0x69a*0x1+0x1*0x2543+0x2f*-0xa7,_0x12edb4=_0x42b04f['length'];_0x14e505<_0x12edb4;_0x14e505++){const _0x5c752b=_0x42b04f[_0x14e505];(_0x5c752b['inputTarge'+'t']['width']!==_0x26af06||_0x5c752b['inputTarge'+'t']['height']!==_0x100dd7)&&this['_resizeOff'+'screenTarg'+'et'](_0x5c752b['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x2d7cc7,_0x22087e,_0xf4c7ca){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x229c8c,_0x5e7a06){super(_0x229c8c,_0x5e7a06),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',0x283*-0xb+0x224b*0x1+0x1*-0x6aa),c(this,'_renderSce'+'neColorMap',0x2*0x11fc+0x5*0x335+-0x3401),c(this,'_sceneDept'+'hMapReques'+'ted',!(-0x1*0x256d+0x25bd+-0x4f*0x1)),c(this,'_sceneColo'+'rMapReques'+'ted',!(0x5*-0x6fd+0x210c+0x1e6)),c(this,'_priority',0x1736+0x3a9*0x3+0x2231*-0x1),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x5e7a06,this['_postEffec'+'ts']=new qI(_0x229c8c['app'],this));}['setShaderP'+'ass'](_0x53f838){const _0x3decbe=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x19395b=_0x53f838?_0x3decbe['allocate'](_0x53f838,{'isForward':!(0x1*-0x2526+-0x918+0x2e3e)}):null;return this['_camera']['shaderPass'+'Info']=_0x19395b,_0x19395b['index'];}['getShaderP'+'ass'](){var _0x267e33;return(_0x267e33=this['_camera']['shaderPass'+'Info'])==null?void(-0xec4+-0xe21+0xd*0x239):_0x267e33['name'];}set['renderPass'+'es'](_0x2ffa85){this['_camera']['renderPass'+'es']=_0x2ffa85||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0x1609*0x1+0x1910+-0x1*0x2f19);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x4f1424){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x4f1424;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0xe87b86){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0xe87b86;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x293df4){this['_camera']['fogParams']=_0x293df4;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x27b9be){this['_camera']['aperture']=_0x27b9be;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x236750){this['_camera']['aspectRati'+'o']=_0x236750;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x341091){this['_camera']['aspectRati'+'oMode']=_0x341091;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x6be7ec){this['_camera']['calculateP'+'rojection']=_0x6be7ec;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x48dff7){this['_camera']['calculateT'+'ransform']=_0x48dff7;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x301882){this['_camera']['clearColor']=_0x301882;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0xe369e7){this['_camera']['clearColor'+'Buffer']=_0xe369e7,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x1dac8a){this['_camera']['clearDepth'+'Buffer']=_0x1dac8a,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x1a3732){this['_camera']['clearStenc'+'ilBuffer']=_0x1a3732,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x2f1178){this['_camera']['cullFaces']=_0x2f1178;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x1c843f){this['_disablePo'+'stEffectsL'+'ayer']=_0x1c843f,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x4e5569){this['_camera']['farClip']=_0x4e5569;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0xa8c37f){this['_camera']['flipFaces']=_0xa8c37f;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x17693e){this['_camera']['fov']=_0x17693e;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x191807){this['_camera']['frustumCul'+'ling']=_0x191807;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x4c1c74){this['_camera']['horizontal'+'Fov']=_0x4c1c74;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x32ac67){const _0x3f04a5=this['_camera']['layers'],_0x5bcde0=this['system']['app']['scene'];_0x3f04a5['forEach'](_0x3e6c92=>{const _0x4815e2=_0x5bcde0['layers']['getLayerBy'+'Id'](_0x3e6c92);_0x4815e2==null||_0x4815e2['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x32ac67,this['enabled']&&this['entity']['enabled']&&_0x32ac67['forEach'](_0x4e5403=>{const _0x2eae0b=_0x5bcde0['layers']['getLayerBy'+'Id'](_0x4e5403);_0x2eae0b==null||_0x2eae0b['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x16dd42){this['_camera']['jitter']=_0x16dd42;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x1bb8eb){this['_camera']['nearClip']=_0x1bb8eb;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x1855e9){this['_camera']['orthoHeigh'+'t']=_0x1855e9;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x78090b){this['_priority']=_0x78090b,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x5ccf76){this['_camera']['projection']=_0x5ccf76;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x3da637){this['_camera']['rect']=_0x3da637,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x2925ee){_0x2925ee&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x1ea6+-0x4e2*-0x4+0x2*0x58f)),this['_sceneColo'+'rMapReques'+'ted']=!(0x1*0x13e5+-0x77c+-0x9*0x161)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x547+-0x130c+-0x6*-0x40e)),this['_sceneColo'+'rMapReques'+'ted']=!(0xe3*0x6+-0xb09+0x5b8));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x176d*0x1+0x2120+0x388d*-0x1;}set['renderScen'+'eDepthMap'](_0x45b207){_0x45b207&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0xe60*0x2+-0x2f*-0x92+-0x1bc7*0x2)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x955*-0x1+-0x6*-0x1fa+-0x1531)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x19e2+-0x16eb+0x30ce*0x1)),this['_sceneDept'+'hMapReques'+'ted']=!(0x103*0x1b+-0x1*-0x1f02+-0xbaa*0x5));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>-0x1122+0x6*0x3ad+-0x4ec;}set['renderTarg'+'et'](_0x561bd6){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x4*-0x6d7+0xd0e+-0x2*-0x727&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x561bd6,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x437526){this['_camera']['scissorRec'+'t']=_0x437526;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x5c8cc7){this['_camera']['sensitivit'+'y']=_0x5c8cc7;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x57f80e){this['_camera']['shutter']=_0x57f80e;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x4088bf){if(this['layers']['find'](_0xff7d7e=>_0xff7d7e===Xt)){const _0xd63250=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x4088bf?_0xd63250==null||_0xd63250['incrementC'+'ounter']():_0xd63250==null||_0xd63250['decrementC'+'ounter']();}else{if(_0x4088bf)return!(0x16df*0x1+-0x2f*0xa+-0x2a1*0x8);}return!(0x1bca+0x5d*0x4a+-0xdab*0x4);}['requestSce'+'neColorMap'](_0x5b5998){this['_renderSce'+'neColorMap']+=_0x5b5998?0x388+0x278+-0x5ff:-(-0x1*-0x152b+0x1070+0x2*-0x12cd),v['assert'](this['_renderSce'+'neColorMap']>=-0x1d7a+-0x274*0x8+0x311a),this['_enableDep'+'thLayer'](_0x5b5998)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x410866){this['_renderSce'+'neDepthMap']+=_0x410866?0x24*0x9e+-0x268c+-0x25*-0x71:-(0x1*0x1951+-0x19b0+0x4*0x18),v['assert'](this['_renderSce'+'neDepthMap']>=-0x184a*0x1+-0x185*0x1+0x19cf*0x1),this['_enableDep'+'thLayer'](_0x410866)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x373e2f=this['system']['app']['scene']['layers'];_0x373e2f['_dirty']=!(-0x693*-0x5+-0x1d*-0x50+-0x71*0x5f);}['screenToWo'+'rld'](_0x2406b1,_0x40d5cf,_0x58ed43,_0x31fac6){const _0x3c7047=this['system']['app']['graphicsDe'+'vice'],{width:_0x318b60,height:_0x5745c5}=_0x3c7047['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x2406b1,_0x40d5cf,_0x58ed43,_0x318b60,_0x5745c5,_0x31fac6);}['worldToScr'+'een'](_0x49aefd,_0x220fcb){const _0x437efa=this['system']['app']['graphicsDe'+'vice'],{width:_0x8da260,height:_0x5c6771}=_0x437efa['clientRect'];return this['_camera']['worldToScr'+'een'](_0x49aefd,_0x8da260,_0x5c6771,_0x220fcb);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0xea5+-0x1c16+0xd71),this['_camera']['_viewProjM'+'atDirty']=!(-0x26e6+-0x5*0x3b6+0x3974);}['addCameraT'+'oLayers'](){const _0x41cd26=this['layers'];for(let _0x308971=0x2*-0xc39+-0x4e0+0x1d52;_0x308971<_0x41cd26['length'];_0x308971++){const _0x34c426=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x41cd26[_0x308971]);_0x34c426&&_0x34c426['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x4094ab=this['layers'];for(let _0x5e6083=-0x169*0x1a+-0xb*-0xd7+0x1b6d;_0x5e6083<_0x4094ab['length'];_0x5e6083++){const _0x5cd436=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4094ab[_0x5e6083]);_0x5cd436&&_0x5cd436['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x557b98,_0x585843){this['addCameraT'+'oLayers'](),_0x557b98['off']('add',this['onLayerAdd'+'ed'],this),_0x557b98['off']('remove',this['onLayerRem'+'oved'],this),_0x585843['on']('add',this['onLayerAdd'+'ed'],this),_0x585843['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xffed96){this['layers']['indexOf'](_0xffed96['id'])<0x26e*-0x9+0x1*0x210d+-0x1*0xb2f||_0xffed96['addCamera'](this);}['onLayerRem'+'oved'](_0x127643){this['layers']['indexOf'](_0x127643['id'])<-0x24a2+0x235e+0x144||_0x127643['removeCame'+'ra'](this);}['onEnable'](){var _0x568b6e,_0x3c3cff,_0xd8a456;const _0x29b3c4=this['system']['app']['scene'],_0xff8442=_0x29b3c4['layers'];this['system']['addCamera'](this),(_0x568b6e=this['_evtLayers'+'Changed'])==null||_0x568b6e['off'](),this['_evtLayers'+'Changed']=_0x29b3c4['on']('set:layers',this['onLayersCh'+'anged'],this),_0xff8442&&((_0x3c3cff=this['_evtLayerA'+'dded'])==null||_0x3c3cff['off'](),this['_evtLayerA'+'dded']=_0xff8442['on']('add',this['onLayerAdd'+'ed'],this),(_0xd8a456=this['_evtLayerR'+'emoved'])==null||_0xd8a456['off'](),this['_evtLayerR'+'emoved']=_0xff8442['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x3d5ecb,_0x440724,_0x27fd6a;const _0x5bf9a0=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x3d5ecb=this['_evtLayers'+'Changed'])==null||_0x3d5ecb['off'](),this['_evtLayers'+'Changed']=null,_0x5bf9a0&&((_0x440724=this['_evtLayerA'+'dded'])==null||_0x440724['off'](),this['_evtLayerA'+'dded']=null,(_0x27fd6a=this['_evtLayerR'+'emoved'])==null||_0x27fd6a['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x1c9096){const _0x10fb0=this['system']['app']['graphicsDe'+'vice'],_0x127709=_0x1c9096?_0x1c9096['width']:_0x10fb0['width'],_0x2f3f73=_0x1c9096?_0x1c9096['height']:_0x10fb0['height'];return _0x127709*this['rect']['z']/(_0x2f3f73*this['rect']['w']);}['frameUpdat'+'e'](_0x29ef54){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x29ef54));}['startXr'](_0x54bce8,_0x9dded3,_0x3e8520){this['system']['app']['xr']['start'](this,_0x54bce8,_0x9dded3,_0x3e8520);}['endXr'](_0x4513c7){if(!this['_camera']['xr']){_0x4513c7&&_0x4513c7(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x4513c7);}['copy'](_0x1ed39a){this['aperture']=_0x1ed39a['aperture'],this['aspectRati'+'o']=_0x1ed39a['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x1ed39a['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x1ed39a['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x1ed39a['calculateT'+'ransform'],this['clearColor']=_0x1ed39a['clearColor'],this['clearColor'+'Buffer']=_0x1ed39a['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x1ed39a['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x1ed39a['clearStenc'+'ilBuffer'],this['cullFaces']=_0x1ed39a['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x1ed39a['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x1ed39a['farClip'],this['flipFaces']=_0x1ed39a['flipFaces'],this['fov']=_0x1ed39a['fov'],this['frustumCul'+'ling']=_0x1ed39a['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x1ed39a['horizontal'+'Fov'],this['layers']=_0x1ed39a['layers'],this['nearClip']=_0x1ed39a['nearClip'],this['orthoHeigh'+'t']=_0x1ed39a['orthoHeigh'+'t'],this['priority']=_0x1ed39a['priority'],this['projection']=_0x1ed39a['projection'],this['rect']=_0x1ed39a['rect'],this['renderTarg'+'et']=_0x1ed39a['renderTarg'+'et'],this['scissorRec'+'t']=_0x1ed39a['scissorRec'+'t'],this['sensitivit'+'y']=_0x1ed39a['sensitivit'+'y'],this['shutter']=_0x1ed39a['shutter'];}}class XI{constructor(){this['enabled']=!(0xd0b+0xb48+-0x1853);}}const wx=['enabled'];class jI extends Xe{constructor(_0x9580b4){super(_0x9580b4),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x5996a6,_0xbf7607,_0x3300d2){_0x3300d2=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x2113dc=0x1a97*-0x1+0x13c+0x195b*0x1;_0x2113dc<_0x3300d2['length'];_0x2113dc++){const _0x39a7b8=_0x3300d2[_0x2113dc];if(_0xbf7607['hasOwnProp'+'erty'](_0x39a7b8)){const _0x3b5223=_0xbf7607[_0x39a7b8];switch(_0x39a7b8){case'rect':case'scissorRec'+'t':Array['isArray'](_0x3b5223)?_0x5996a6[_0x39a7b8]=new Q(_0x3b5223[0xf9*-0x6+-0x29f+0x1*0x875],_0x3b5223[-0x1981+-0x3*-0x145+0x15b3],_0x3b5223[-0x1d93*0x1+0x2473+-0x6de],_0x3b5223[0x5b4+0xb23+0x2ce*-0x6]):_0x5996a6[_0x39a7b8]=_0x3b5223;break;case'clearColor':Array['isArray'](_0x3b5223)?_0x5996a6[_0x39a7b8]=new Y(_0x3b5223[0x2015+0xd*-0x1ff+0x13a*-0x5],_0x3b5223[-0x21*0xdf+-0x1b61+-0x1*-0x3821],_0x3b5223[0x89*-0x26+-0x43*-0x6d+-0x82f],_0x3b5223[0x2664+0x2012*-0x1+-0x64f]):_0x5996a6[_0x39a7b8]=_0x3b5223;break;default:_0x5996a6[_0x39a7b8]=_0x3b5223;break;}}}super['initialize'+'ComponentD'+'ata'](_0x5996a6,_0xbf7607,['enabled']);}['cloneCompo'+'nent'](_0x525f5b,_0x32941e){const _0x1ef1aa=_0x525f5b['camera'];return this['addCompone'+'nt'](_0x32941e,{'aspectRatio':_0x1ef1aa['aspectRati'+'o'],'aspectRatioMode':_0x1ef1aa['aspectRati'+'oMode'],'calculateProjection':_0x1ef1aa['calculateP'+'rojection'],'calculateTransform':_0x1ef1aa['calculateT'+'ransform'],'clearColor':_0x1ef1aa['clearColor'],'clearColorBuffer':_0x1ef1aa['clearColor'+'Buffer'],'clearDepthBuffer':_0x1ef1aa['clearDepth'+'Buffer'],'clearStencilBuffer':_0x1ef1aa['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x1ef1aa['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x1ef1aa['renderScen'+'eColorMap'],'cullFaces':_0x1ef1aa['cullFaces'],'enabled':_0x1ef1aa['enabled'],'farClip':_0x1ef1aa['farClip'],'flipFaces':_0x1ef1aa['flipFaces'],'fov':_0x1ef1aa['fov'],'frustumCulling':_0x1ef1aa['frustumCul'+'ling'],'horizontalFov':_0x1ef1aa['horizontal'+'Fov'],'layers':_0x1ef1aa['layers'],'renderTarget':_0x1ef1aa['renderTarg'+'et'],'nearClip':_0x1ef1aa['nearClip'],'orthoHeight':_0x1ef1aa['orthoHeigh'+'t'],'projection':_0x1ef1aa['projection'],'priority':_0x1ef1aa['priority'],'rect':_0x1ef1aa['rect'],'scissorRect':_0x1ef1aa['scissorRec'+'t'],'aperture':_0x1ef1aa['aperture'],'sensitivity':_0x1ef1aa['sensitivit'+'y'],'shutter':_0x1ef1aa['shutter'],'gammaCorrection':_0x1ef1aa['gammaCorre'+'ction'],'toneMapping':_0x1ef1aa['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x2a57b9,_0x1a58af){this['removeCame'+'ra'](_0x1a58af),_0x1a58af['onRemove']();}['onAppPrere'+'nder'](){for(let _0x3ae0a8=-0x12df*0x2+-0x1bab+-0x4169*-0x1,_0x1bce10=this['cameras']['length'];_0x3ae0a8<_0x1bce10;_0x3ae0a8++)this['cameras'][_0x3ae0a8]['onAppPrere'+'nder']();}['addCamera'](_0xd9c008){this['cameras']['push'](_0xd9c008),No(this['cameras']);}['removeCame'+'ra'](_0x2a6511){const _0x40c166=this['cameras']['indexOf'](_0x2a6511);_0x40c166>=0x3*-0x8d1+-0x1b5*0x5+0x22fc&&(this['cameras']['splice'](_0x40c166,-0x1bb+0x76*-0x39+0x1*0x1c02),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(0x10b1+0x14e*-0x19+0x1*0xfed)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(0x221d*-0x1+0x1*0x1457+0xdc7,-0xe*-0x190+0x1*0x211f+-0x36fe,0x1e72+-0x54a+-0x1927)),c(this,'intensity',0x1604+-0x1efb+-0x148*-0x7),c(this,'luminance',0x337*0x8+-0xddb*0x2+0x1fe),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(0x2*0x551+0x930+0x1*-0x13d2)),c(this,'castShadow'+'s',!(-0x5*-0x337+-0x1fbb+0xfa9)),c(this,'shadowDist'+'ance',0x1701+0x1*0x2ef+-0x19c8),c(this,'shadowInte'+'nsity',0xfba*-0x2+-0x1*-0x32b+0x66*0x47),c(this,'shadowReso'+'lution',-0x23*0xfb+-0x31*-0xb9+0x2e8),c(this,'shadowBias',-0x5*-0x419+-0x219c+0xd1f+0.05),c(this,'numCascade'+'s',0x2*0x12fe+0x241f*-0x1+-0x1dc),c(this,'cascadeBle'+'nd',0x3d*-0x15+-0x175a+0x1c5b),c(this,'bakeNumSam'+'ples',0x29*-0x6b+0x26b2+0x158e*-0x1),c(this,'bakeArea',-0x910+0x1f4d+-0x1*0x163d),c(this,'cascadeDis'+'tribution',0xd45+-0x17b3*0x1+-0xa6e*-0x1+0.5),c(this,'normalOffs'+'etBias',0x147*-0x5+-0x1*-0x1460+-0x1*0xdfd),c(this,'range',-0xa6f+0xf62+-0x4e9),c(this,'innerConeA'+'ngle',0x8d9+-0x19ef+0x1*0x113e),c(this,'outerConeA'+'ngle',0x23f4+-0x18cb+-0xafc),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',-0x2dc+0x26da+-0x23f3),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(-0xabc+-0x64a+0x1*0x1106+0.01)*(0x1*-0x13c3+-0xeef+-0x2*-0x1159+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0xdfb+-0x1644+-0xe8*-0x28),c(this,'cookieFall'+'off',!(-0x1*-0x2225+-0xf8b+-0x129a)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',0x470*0x8+-0x908+0x38*-0x79),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',0x1*-0x1b1+-0x1c*0x14b+0x25e6),c(this,'affectDyna'+'mic',!(0x74a+0x26fa+-0x2e44)),c(this,'affectLigh'+'tmapped',!(0x40*-0x11+0x43*0x1f+-0x13*0x34)),c(this,'bake',!(-0xd36+0x5*-0x775+0x3280)),c(this,'bakeDir',!(-0x1*-0x22e5+-0x7fa+-0x1aeb*0x1)),c(this,'isStatic',!(0x1201+-0x3*-0xc9a+0x1*-0x37ce)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',-0x1a6b+-0x1a11*0x1+-0x3*-0x117f),c(this,'penumbraFa'+'lloff',-0x25b4+-0xc*-0x192+0x12dd),c(this,'shadowSamp'+'les',-0x743+0x1b29+-0x13d6),c(this,'shadowBloc'+'kerSamples',-0xad+-0xe7d+0xf3a);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(-0xa14+-0x2f*-0xa0+-0x134b)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x10e22d=this['system']['store'][this['entity']['getGuid']()];return _0x10e22d?_0x10e22d['data']:null;}set['enabled'](_0x3d3164){this['_setValue']('enabled',_0x3d3164,function(_0x2228fc,_0x42c9d6){this['onSetEnabl'+'ed'](null,_0x42c9d6,_0x2228fc);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x22cf1){this['_setValue']('light',_0x22cf1);}get['light'](){return this['data']['light'];}set['type'](_0x29e7db){this['_setValue']('type',_0x29e7db,function(_0x8da9b9,_0x123fdc){this['system']['changeType'](this,_0x123fdc,_0x8da9b9),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x12460f){this['_setValue']('color',_0x12460f,function(_0x2d091f,_0x47599d){this['light']['setColor'](_0x2d091f);},!(0x6*-0x412+-0xd*0x55+0x1*0x1cbd));}get['color'](){return this['data']['color'];}set['intensity'](_0x1a630b){this['_setValue']('intensity',_0x1a630b,function(_0x2dccb5,_0x295d56){this['light']['intensity']=_0x2dccb5;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x4b75b9){this['_setValue']('luminance',_0x4b75b9,function(_0x12012c,_0x110848){this['light']['luminance']=_0x12012c;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x10b6a0){this['_setValue']('shape',_0x10b6a0,function(_0x435d59,_0x28a200){this['light']['shape']=_0x435d59;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x42a7c6){this['_setValue']('affectSpec'+'ularity',_0x42a7c6,function(_0x1312d4,_0x455a47){this['light']['affectSpec'+'ularity']=_0x1312d4;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x2b5cc1){this['_setValue']('castShadow'+'s',_0x2b5cc1,function(_0x8cb708,_0x3407d4){this['light']['castShadow'+'s']=_0x8cb708;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x102757){this['_setValue']('shadowDist'+'ance',_0x102757,function(_0x43164a,_0x1f2f62){this['light']['shadowDist'+'ance']=_0x43164a;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x2c7e69){this['_setValue']('shadowInte'+'nsity',_0x2c7e69,function(_0x29ddc7,_0x56b637){this['light']['shadowInte'+'nsity']=_0x29ddc7;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x423141){this['_setValue']('shadowReso'+'lution',_0x423141,function(_0xa98de9,_0x4b24f0){this['light']['shadowReso'+'lution']=_0xa98de9;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x123c94){this['_setValue']('shadowBias',_0x123c94,function(_0xb0ee43,_0x23ca03){this['light']['shadowBias']=-(0x178*-0x3+0x1b5*-0xd+0x1a99+0.01)*N['clamp'](_0xb0ee43,-0xea8+0x2*0x1d+-0x737*-0x2,-0xb7+-0x923+-0x57*-0x1d);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x33459d){this['_setValue']('numCascade'+'s',_0x33459d,function(_0x3006fe,_0x2d5d39){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x3006fe),0x2162+0x196b+-0x3acc,-0xea0+0x3*-0xca9+-0x13*-0x2c5);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0xd0108a){this['_setValue']('cascadeBle'+'nd',_0xd0108a,function(_0x5e5562,_0x12a95f){this['light']['cascadeBle'+'nd']=N['clamp'](_0x5e5562,0x2e7*-0x6+0xf*-0x96+0x1a34,-0x58*-0x16+-0x4fd+-0x292);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x29d688){this['_setValue']('bakeNumSam'+'ples',_0x29d688,function(_0x3bac2a,_0x219f29){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x3bac2a),0xe*-0x29+0x85+-0xd*-0x22,0x16f0+-0x1*-0x949+-0x1f3a);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x3c9579){this['_setValue']('bakeArea',_0x3c9579,function(_0x5b2d33,_0x3ffe68){this['light']['bakeArea']=N['clamp'](_0x5b2d33,0xb4e*0x1+-0x12c1+0x773,0x1a8e+0x158b+-0x2f65);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x52b0c2){this['_setValue']('cascadeDis'+'tribution',_0x52b0c2,function(_0x5c3ce2,_0x202e51){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x5c3ce2,-0x1*0x923+-0x2*-0xda5+-0x1227,0x609+0x226e+-0x2876*0x1);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x5af23c){this['_setValue']('normalOffs'+'etBias',_0x5af23c,function(_0x2b39ea,_0x5f0289){this['light']['normalOffs'+'etBias']=N['clamp'](_0x2b39ea,-0x1e34+0x1*0x1b7f+0x2b5,0x2*-0x24f+0x38*-0x55+0x1737);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x593fe3){this['_setValue']('range',_0x593fe3,function(_0x36cda9,_0x399c9d){this['light']['attenuatio'+'nEnd']=_0x36cda9;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x4a9e7b){this['_setValue']('innerConeA'+'ngle',_0x4a9e7b,function(_0x561d13,_0x1aadc2){this['light']['innerConeA'+'ngle']=_0x561d13;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0xbfec7b){this['_setValue']('outerConeA'+'ngle',_0xbfec7b,function(_0x1bcf79,_0x38178c){this['light']['outerConeA'+'ngle']=_0x1bcf79;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x1cc005){this['_setValue']('falloffMod'+'e',_0x1cc005,function(_0xe1a52,_0x517303){this['light']['falloffMod'+'e']=_0xe1a52;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x283ce7){this['_setValue']('shadowType',_0x283ce7,function(_0x14ea72,_0x12de61){this['light']['shadowType']=_0x14ea72;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x2f4d7c){this['_setValue']('vsmBlurSiz'+'e',_0x2f4d7c,function(_0x57870c,_0x5f49de){this['light']['vsmBlurSiz'+'e']=_0x57870c;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x5aa835){this['_setValue']('vsmBlurMod'+'e',_0x5aa835,function(_0x1094fb,_0x2bd4c5){this['light']['vsmBlurMod'+'e']=_0x1094fb;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x38c71d){this['_setValue']('vsmBias',_0x38c71d,function(_0x2dd275,_0x2fa442){this['light']['vsmBias']=N['clamp'](_0x2dd275,0x220d+0xe0*0xf+-0x2f2d,0x2*0x12eb+0x2aa+-0x5c9*0x7);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x216d61){this['_setValue']('cookieAsse'+'t',_0x216d61,function(_0x2e3a02,_0x286bb1){if(!(this['_cookieAss'+'etId']&&(_0x2e3a02 instanceof le&&_0x2e3a02['id']===this['_cookieAss'+'etId']||_0x2e3a02===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x2e3a02 instanceof le)this['data']['cookieAsse'+'t']=_0x2e3a02['id'],this['_cookieAss'+'etId']=_0x2e3a02['id'],this['onCookieAs'+'setAdd'](_0x2e3a02);else{if(typeof _0x2e3a02=='number'){this['_cookieAss'+'etId']=_0x2e3a02;const _0x43aa38=this['system']['app']['assets']['get'](_0x2e3a02);_0x43aa38?this['onCookieAs'+'setAdd'](_0x43aa38):(this['_cookieAss'+'etAdd']=!(-0x1678+-0x2e5+0x195d),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x18a017){this['_setValue']('cookie',_0x18a017,function(_0x2d23a4,_0x2183fb){this['light']['cookie']=_0x2d23a4;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0xeb5c82){this['_setValue']('cookieInte'+'nsity',_0xeb5c82,function(_0x186b77,_0x4f27e4){this['light']['cookieInte'+'nsity']=N['clamp'](_0x186b77,0x114f+0x13b2+-0x2501,0x1dee+-0x1f*-0x137+-0x4396);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x225c6e){this['_setValue']('cookieFall'+'off',_0x225c6e,function(_0xbc6451,_0x3e10a6){this['light']['cookieFall'+'off']=_0xbc6451;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x1aa3ff){this['_setValue']('cookieChan'+'nel',_0x1aa3ff,function(_0x5a3ab7,_0x40da3e){this['light']['cookieChan'+'nel']=_0x5a3ab7;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x5bb5a2){this['_setValue']('cookieAngl'+'e',_0x5bb5a2,function(_0x520b13,_0x33a74f){if(_0x520b13!==-0x2*-0xc1d+-0x2073*0x1+0x5*0x1a5||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x1c7826=0xc57*-0x1+-0x114*-0x22+-0x2*0xc28,_0x342945=0x20*0x4+-0x16c3*0x1+0x23a*0xa;this['cookieScal'+'e']&&(_0x1c7826=this['cookieScal'+'e']['x'],_0x342945=this['cookieScal'+'e']['y']);const _0x30063e=Math['cos'](_0x520b13*N['DEG_TO_RAD']),_0x51ce26=Math['sin'](_0x520b13*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x30063e/_0x1c7826,-_0x51ce26/_0x1c7826,_0x51ce26/_0x342945,_0x30063e/_0x342945),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x3d7970){this['_setValue']('cookieScal'+'e',_0x3d7970,function(_0x58ee3c,_0x21141c){if(_0x58ee3c!==null||this['cookieAngl'+'e']!==-0xc57+0x1d82+-0x112b){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x18093f=_0x58ee3c['x'],_0x45d933=_0x58ee3c['y'],_0x1b5ecd=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x1b248f=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x1b5ecd/_0x18093f,-_0x1b248f/_0x18093f,_0x1b248f/_0x45d933,_0x1b5ecd/_0x45d933),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0xd2+-0x13*-0x53+-0x557));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x4fd630){this['_setValue']('cookieOffs'+'et',_0x4fd630,function(_0x26e81a,_0x27731c){this['light']['cookieOffs'+'et']=_0x26e81a;},!(-0x52d+-0x6a*-0xc+0x35*0x1));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x1f8969){this['_setValue']('shadowUpda'+'teMode',_0x1f8969,function(_0x1fcf0f,_0x1df92d){this['light']['shadowUpda'+'teMode']=_0x1fcf0f;},!(-0x1840+0x1*0x1627+0x219*0x1));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x2c81da){this['_setValue']('mask',_0x2c81da,function(_0x17ac36,_0x2d641a){this['light']['mask']=_0x17ac36;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x8bc2d){this['_setValue']('affectDyna'+'mic',_0x8bc2d,function(_0x2ab8e4,_0x28d9c2){_0x2ab8e4?this['light']['mask']|=hs:this['light']['mask']&=-(-0x83f+-0xc89*-0x3+-0xd*0x242),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x929d3d){this['_setValue']('affectLigh'+'tmapped',_0x929d3d,function(_0x5ab61b,_0x348535){_0x5ab61b?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(0xf34+-0x79*0x2c+0x59d))):(this['light']['mask']&=-(0x25f6+-0x66e*0x3+-0x1*0x12a9),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x25443e){this['_setValue']('bake',_0x25443e,function(_0x5c9154,_0x3e94b8){_0x5c9154?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(-0x77*0x26+-0x139f*0x1+0x254c))):(this['light']['mask']&=-(-0xd*-0x18d+-0xc8f*0x3+0x1189),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x66df34){this['_setValue']('bakeDir',_0x66df34,function(_0x32ee73,_0x5c8707){this['light']['bakeDir']=_0x32ee73;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x306174){this['_setValue']('isStatic',_0x306174,function(_0x543a24,_0x32320e){this['light']['isStatic']=_0x543a24;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0xe72233){this['_setValue']('layers',_0xe72233,function(_0x21b552,_0x42894a){for(let _0x1b3989=0x923*-0x1+-0xf*0x23c+0x3d*0xb3;_0x1b3989<_0x42894a['length'];_0x1b3989++){const _0xb3a2c5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x42894a[_0x1b3989]);_0xb3a2c5&&(_0xb3a2c5['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0xb3a2c5));}for(let _0xa365a7=0xaa7+-0x11af+-0x19*-0x48;_0xa365a7<_0x21b552['length'];_0xa365a7++){const _0x42f0ee=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x21b552[_0xa365a7]);_0x42f0ee&&this['enabled']&&this['entity']['enabled']&&(_0x42f0ee['addLight'](this),this['light']['addLayer'](_0x42f0ee));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x563043){this['light']['shadowUpda'+'teOverride'+'s']=_0x563043;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x160fa4){this['light']['shadowSamp'+'les']=_0x160fa4;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x1a2175){this['light']['shadowBloc'+'kerSamples']=_0x1a2175;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x222809){this['light']['penumbraSi'+'ze']=_0x222809;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0xdacc69){this['light']['penumbraFa'+'lloff']=_0xdacc69;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x447c7a,_0x263b4e,_0x23511c,_0x69022d){const _0x5d88ae=this['data'],_0xece530=_0x5d88ae[_0x447c7a];!_0x69022d&&_0xece530===_0x263b4e||(_0x5d88ae[_0x447c7a]=_0x263b4e,_0x23511c&&_0x23511c['call'](this,_0x263b4e,_0xece530));}['addLightTo'+'Layers'](){for(let _0x49aa37=-0x195f+-0xeff+0x285e;_0x49aa37<this['layers']['length'];_0x49aa37++){const _0x167af2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x49aa37]);_0x167af2&&(_0x167af2['addLight'](this),this['light']['addLayer'](_0x167af2));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x572885=-0xf2b+-0x44+0x1b7*0x9;_0x572885<this['layers']['length'];_0x572885++){const _0x36bd30=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x572885]);_0x36bd30&&(_0x36bd30['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x36bd30));}}['onLayersCh'+'anged'](_0x203441,_0x4c8649){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x203441['off']('add',this['onLayerAdd'+'ed'],this),_0x203441['off']('remove',this['onLayerRem'+'oved'],this),_0x4c8649['on']('add',this['onLayerAdd'+'ed'],this),_0x4c8649['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4196b1){this['layers']['indexOf'](_0x4196b1['id'])>=0x13bb*-0x1+0xcf1*0x3+-0x1318&&this['enabled']&&this['entity']['enabled']&&(_0x4196b1['addLight'](this),this['light']['addLayer'](_0x4196b1));}['onLayerRem'+'oved'](_0x417452){this['layers']['indexOf'](_0x417452['id'])>=-0x1*-0x1df5+0x468+0x1*-0x225d&&(_0x417452['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x417452));}['refreshPro'+'perties'](){for(let _0x3ebab4=0x1153+0x1*0x973+-0x1ac6;_0x3ebab4<To['length'];_0x3ebab4++){const _0xc9930=To[_0x3ebab4];this[_0xc9930]=this[_0xc9930];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x5c82a9=!(0x175d*0x1+-0x647*-0x3+-0x2a31);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0x1d75*0x1+-0x2675+0x900),_0x5c82a9=!(0x2f*-0x4f+-0x3*-0x53+-0x1b1*-0x8)),(!this['_cookieAss'+'et']['resource']||_0x5c82a9)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x490587){this['_cookieAss'+'etId']===_0x490587['id']&&(this['_cookieAss'+'et']=_0x490587,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x1556+-0x1*-0x13d1+0x186)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x4c5d41=this['system']['app']['scene'],_0x1fc62e=_0x4c5d41['layers'];this['light']['enabled']=!(-0x17b3+-0x11b2+0x2965*0x1),this['_evtLayers'+'Changed']=_0x4c5d41['on']('set:layers',this['onLayersCh'+'anged'],this),_0x1fc62e&&(this['_evtLayerA'+'dded']=_0x1fc62e['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x1fc62e['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x2a7a83,_0x40e76e,_0x582bdd;const _0x55749a=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x1f83+0x18c+0x1df8),(_0x2a7a83=this['_evtLayers'+'Changed'])==null||_0x2a7a83['off'](),this['_evtLayers'+'Changed']=null,_0x55749a&&((_0x40e76e=this['_evtLayerA'+'dded'])==null||_0x40e76e['off'](),this['_evtLayerA'+'dded']=null,(_0x582bdd=this['_evtLayerR'+'emoved'])==null||_0x582bdd['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x553766){super(_0x553766),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2ea75d,_0x5ef808){const _0x502bd3={..._0x5ef808};_0x502bd3['type']||(_0x502bd3['type']=_0x2ea75d['data']['type']),_0x2ea75d['data']['type']=_0x502bd3['type'],_0x502bd3['layers']&&Array['isArray'](_0x502bd3['layers'])&&(_0x502bd3['layers']=_0x502bd3['layers']['slice'](0x7d8*0x4+0x1*-0x1e9a+0x12*-0xb)),_0x502bd3['color']&&Array['isArray'](_0x502bd3['color'])&&(_0x502bd3['color']=new Y(_0x502bd3['color'][-0x15b*0x5+0x1e02+-0x173b],_0x502bd3['color'][0x1f67+0x1511+-0x79*0x6f],_0x502bd3['color'][0x1f89+0x272+0x29d*-0xd])),_0x502bd3['cookieOffs'+'et']&&_0x502bd3['cookieOffs'+'et']instanceof Array&&(_0x502bd3['cookieOffs'+'et']=new $(_0x502bd3['cookieOffs'+'et'][0x22d0+0x15cc+-0x389c],_0x502bd3['cookieOffs'+'et'][0x877*0x1+-0x3*-0xba2+-0x2b5c])),_0x502bd3['cookieScal'+'e']&&_0x502bd3['cookieScal'+'e']instanceof Array&&(_0x502bd3['cookieScal'+'e']=new $(_0x502bd3['cookieScal'+'e'][-0x23a+-0x7a7*0x2+-0xb*-0x198],_0x502bd3['cookieScal'+'e'][-0x51f*0x7+0x67c*0x2+0x16e2])),_0x502bd3['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x502bd3['enabled']=_0x502bd3['enable']),_0x502bd3['shape']||(_0x502bd3['shape']=yt);const _0x4e64b1=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x4e64b1['type']=Gu[_0x502bd3['type']],_0x4e64b1['_node']=_0x2ea75d['entity'],_0x2ea75d['data']['light']=_0x4e64b1,super['initialize'+'ComponentD'+'ata'](_0x2ea75d,_0x502bd3,To);}['_onRemoveC'+'omponent'](_0x22d0d4,_0x49aa17){_0x49aa17['onRemove']();}['cloneCompo'+'nent'](_0x36749c,_0x31f278){const _0x5777fe=_0x36749c['light'],_0x31f397=[];let _0x388698;for(let _0x303447=0x160+0x1868+-0x19c8;_0x303447<To['length'];_0x303447++)_0x388698=To[_0x303447],_0x388698!=='light'&&(_0x5777fe[_0x388698]&&_0x5777fe[_0x388698]['clone']?_0x31f397[_0x388698]=_0x5777fe[_0x388698]['clone']():_0x31f397[_0x388698]=_0x5777fe[_0x388698]);return this['addCompone'+'nt'](_0x31f278,_0x31f397);}['changeType'](_0x529d9b,_0x4e5c78,_0x104c10){_0x4e5c78!==_0x104c10&&(_0x529d9b['light']['type']=Gu[_0x104c10]);}}const ZI=['x','y','z','w'],QI=[void(0x1474+-0x5c*0x28+0x185*-0x4),void(-0x26*-0xa7+-0x175f+-0x16b),$,T,Q];function La(_0x2c57db,_0x49e976,_0x1d5be5,_0x1dad21){switch(_0x49e976['type']){case'boolean':return!!_0x1d5be5;case'number':if(typeof _0x1d5be5=='number')return _0x1d5be5;if(typeof _0x1d5be5=='string'){const _0x3d3401=parseInt(_0x1d5be5,0x909+-0x95c+-0x1*-0x5d);return isNaN(_0x3d3401)?null:_0x3d3401;}else{if(typeof _0x1d5be5=='boolean')return-0x3b*0x8f+-0x53*-0x49+0x1*0x94a+_0x1d5be5;}return null;case'json':{const _0x3ea7e={};if(Array['isArray'](_0x49e976['schema'])){(!_0x1d5be5||typeof _0x1d5be5!='object')&&(_0x1d5be5={});for(let _0x5a3ad2=0xd84+0xaeb+-0x186f;_0x5a3ad2<_0x49e976['schema']['length'];_0x5a3ad2++){const _0x4adcdb=_0x49e976['schema'][_0x5a3ad2];if(_0x4adcdb['name']){if(_0x4adcdb['array']){_0x3ea7e[_0x4adcdb['name']]=[];const _0x4da1c1=Array['isArray'](_0x1d5be5[_0x4adcdb['name']])?_0x1d5be5[_0x4adcdb['name']]:[];for(let _0x801817=0x123*-0x3+0x61*-0x2b+0x184*0xd;_0x801817<_0x4da1c1['length'];_0x801817++)_0x3ea7e[_0x4adcdb['name']]['push'](La(_0x2c57db,_0x4adcdb,_0x4da1c1[_0x801817]));}else{const _0x45069a=_0x1d5be5['hasOwnProp'+'erty'](_0x4adcdb['name'])?_0x1d5be5[_0x4adcdb['name']]:_0x4adcdb['default'];_0x3ea7e[_0x4adcdb['name']]=La(_0x2c57db,_0x4adcdb,_0x45069a);}}}}return _0x3ea7e;}case'asset':return _0x1d5be5 instanceof le?_0x1d5be5:typeof _0x1d5be5=='number'?_0x2c57db['assets']['get'](_0x1d5be5)||null:typeof _0x1d5be5=='string'&&_0x2c57db['assets']['get'](parseInt(_0x1d5be5,-0x1e54+0xea7*0x1+0xfb7))||null;case'entity':return _0x1d5be5 instanceof De?_0x1d5be5:typeof _0x1d5be5=='string'?_0x2c57db['getEntityF'+'romIndex'](_0x1d5be5):null;case'rgb':case'rgba':if(_0x1d5be5 instanceof Y)return _0x1dad21 instanceof Y?(_0x1dad21['copy'](_0x1d5be5),_0x1dad21):_0x1d5be5['clone']();if(_0x1d5be5 instanceof Array&&_0x1d5be5['length']>=-0x2*0x1025+-0x29*-0x2+0x1ffb&&_0x1d5be5['length']<=0x679*0x3+-0x1b6*0x3+-0xe45){for(let _0x13657b=-0x207f+-0x8*-0x194+0x13df*0x1;_0x13657b<_0x1d5be5['length'];_0x13657b++)if(typeof _0x1d5be5[_0x13657b]!='number')return null;return _0x1dad21||(_0x1dad21=new Y()),_0x1dad21['r']=_0x1d5be5[0xb68+-0x1a57+-0x1*-0xeef],_0x1dad21['g']=_0x1d5be5[-0x1*0x8a5+0x2d*0xd5+-0x1ccb],_0x1dad21['b']=_0x1d5be5[-0x1a*0x12f+0x128e+-0x61d*-0x2],_0x1dad21['a']=_0x1d5be5['length']===-0x1b68+0x7*0x1ed+-0x10*-0xdf?-0x1c58+0xf6d+-0x2*-0x676:_0x1d5be5[0x5f2+-0x1*0x2117+-0x1b28*-0x1],_0x1dad21;}else{if(typeof _0x1d5be5=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x1d5be5))return _0x1dad21||(_0x1dad21=new Y()),_0x1dad21['fromString'](_0x1d5be5),_0x1dad21;}return null;case'vec2':case'vec3':case'vec4':{const _0x2e80c9=parseInt(_0x49e976['type']['slice'](0x1abc+-0x80a+-0x12af),0x1398+0x2*0x116f+-0x366c),_0x25423e=QI[_0x2e80c9];if(_0x1d5be5 instanceof _0x25423e)return _0x1dad21 instanceof _0x25423e?(_0x1dad21['copy'](_0x1d5be5),_0x1dad21):_0x1d5be5['clone']();if(_0x1d5be5 instanceof Array&&_0x1d5be5['length']===_0x2e80c9){for(let _0x32bf37=0xe9c+-0x5*-0xc7+-0x127f;_0x32bf37<_0x1d5be5['length'];_0x32bf37++)if(typeof _0x1d5be5[_0x32bf37]!='number')return null;_0x1dad21||(_0x1dad21=new _0x25423e());for(let _0xfb1889=-0xa66*0x2+-0x86d*-0x3+-0x1f*0x25;_0xfb1889<_0x2e80c9;_0xfb1889++)_0x1dad21[ZI[_0xfb1889]]=_0x1d5be5[_0xfb1889];return _0x1dad21;}return null;}case'curve':if(_0x1d5be5){let _0x29a5d2;if(_0x1d5be5 instanceof Cs||_0x1d5be5 instanceof jr)_0x29a5d2=_0x1d5be5['clone']();else{const _0x3bf36e=_0x1d5be5['keys'][-0x256e+-0x8ec*0x1+0x2e5a]instanceof Array?jr:Cs;_0x29a5d2=new _0x3bf36e(_0x1d5be5['keys']),_0x29a5d2['type']=_0x1d5be5['type'];}return _0x29a5d2;}break;}return _0x1d5be5;}function Ax(_0x24215e,_0x1acd34,_0x30cad9,_0x5639c8){return _0x1acd34['array']?_0x30cad9['map']((_0x5a7410,_0xaffe73)=>La(_0x24215e,_0x1acd34,_0x5a7410,_0x5639c8?_0x5639c8[_0xaffe73]:null)):La(_0x24215e,_0x1acd34,_0x30cad9,_0x5639c8);}function Ex(_0x3827ae,_0x2e12c7,_0x1c573b,_0x1b07b9){if(_0x1c573b)for(const _0x5d0e60 in _0x2e12c7){const _0x204057=_0x2e12c7[_0x5d0e60],_0xcc11ce=_0x1c573b[_0x5d0e60];_0xcc11ce!==void(0x2b*0x3+0x2356+-0x23d7)&&(_0x1b07b9[_0x5d0e60]=Ax(_0x3827ae,_0x204057,_0xcc11ce,_0x1b07b9[_0x5d0e60]));}}const oa=class oa{constructor(_0x538853){this['scriptType']=_0x538853,this['index']={};}['add'](_0x470f6d,_0x1c770f){if(this['index'][_0x470f6d]){v['warn']('attribute\x20'+'\x27'+_0x470f6d+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x470f6d)){v['warn']('attribute\x20'+'\x27'+_0x470f6d+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x470f6d]=_0x1c770f,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x470f6d,{'get':function(){return this['__attribut'+'es'][_0x470f6d];},'set':function(_0x5433e7){const _0x53cba4='attr',_0x259ee2='attr:'+_0x470f6d,_0x19c346=this['__attribut'+'es'][_0x470f6d];let _0x274330=_0x19c346;if(_0x19c346&&_0x1c770f['type']!=='json'&&_0x1c770f['type']!=='entity'&&_0x19c346['clone']&&(this['hasEvent'](_0x53cba4)||this['hasEvent'](_0x259ee2))&&(_0x274330=_0x19c346['clone']()),_0x1c770f['array']){if(this['__attribut'+'es'][_0x470f6d]=[],_0x5433e7){for(let _0x5e9086=-0x5ad*0x2+-0x47*-0xc+-0x806*-0x1,_0x151862=_0x5433e7['length'];_0x5e9086<_0x151862;_0x5e9086++)this['__attribut'+'es'][_0x470f6d]['push'](La(this['app'],_0x1c770f,_0x5433e7[_0x5e9086],_0x19c346?_0x19c346[_0x5e9086]:null));}}else this['__attribut'+'es'][_0x470f6d]=La(this['app'],_0x1c770f,_0x5433e7,_0x19c346);this['fire'](_0x53cba4,_0x470f6d,this['__attribut'+'es'][_0x470f6d],_0x274330),this['fire'](_0x259ee2,this['__attribut'+'es'][_0x470f6d],_0x274330);}});}['remove'](_0x567cfc){return this['index'][_0x567cfc]?(delete this['index'][_0x567cfc],delete this['scriptType']['prototype'][_0x567cfc],!(-0x33b*0x3+-0x1*-0x1555+-0xba4)):!(0x1826+0x454+-0x1*0x1c79);}['has'](_0x96e891){return!!this['index'][_0x96e891];}['get'](_0xa93451){return this['index'][_0xa93451]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x41d56a){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x41d56a);}set['enabled'](_0x2e8085){this['_enabled']=!!_0x2e8085,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x77d+0x7da+-0xf57),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x9f7+-0xe19+0x1810),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x2ee231){const _0x440e64=this['constructo'+'r'];v['assert'](_0x2ee231&&_0x2ee231['app']&&_0x2ee231['entity'],'script\x20['+_0x440e64['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x2ee231['app'],this['entity']=_0x2ee231['entity'],this['_enabled']=typeof _0x2ee231['enabled']=='boolean'?_0x2ee231['enabled']:!(0x604+0x26ea+0x8e*-0x51),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x1c*0xca+-0x2*-0x12ba+-0xf5b),this['__scriptTy'+'pe']=_0x440e64,this['__executio'+'nOrder']=-(-0x1*0x10e2+0x1693+-0x7*0xd0);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x124cda){if(typeof _0x124cda!='function')return;if('name'in Function['prototype'])return _0x124cda['name'];if(_0x124cda===Function||_0x124cda===Function['prototype']['constructo'+'r'])return'Function';const _0x178f34=(''+_0x124cda)['match'](sD);return _0x178f34?_0x178f34[0x2229+0x9*-0x312+0x5*-0x14e]:void(-0x2300+-0x1*-0x1649+0xcb7);}class Qh extends Ht{constructor(_0x3193fd){super(_0x3193fd),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x3193fd);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x4a93e1){Ht['prototype']['initScript']['call'](this,_0x4a93e1),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x4a93e1['attributes']||{};}['initScript'+'Type'](_0x36cc94){this['initScript'](_0x36cc94);}['__initiali'+'zeAttribut'+'es'](_0x3c41fe){if(!(!_0x3c41fe&&!this['__attribut'+'esRaw'])){for(const _0x1c5742 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x1c5742)?this[_0x1c5742]=this['__attribut'+'esRaw'][_0x1c5742]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x1c5742)||(this['__scriptTy'+'pe']['attributes']['index'][_0x1c5742]['hasOwnProp'+'erty']('default')?this[_0x1c5742]=this['__scriptTy'+'pe']['attributes']['index'][_0x1c5742]['default']:this[_0x1c5742]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x26dacb){for(const _0x25156d in _0x26dacb)_0x26dacb['hasOwnProp'+'erty'](_0x25156d)&&(this['prototype'][_0x25156d]=_0x26dacb[_0x25156d]);}}const iD=_0x2f7aee=>_0x2f7aee[0x264a+0x25f4+-0x196a*0x3]['toLowerCas'+'e']()+_0x2f7aee['substring'](-0x257a+0xd7b+0x1800);class di extends ue{constructor(_0x2d32de,_0x175279){super(_0x2d32de,_0x175279),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x13af+-0x3a5+0x1755),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x2225+-0x15f3+0xe*-0xdf),this['_enabled']=!(0x127d+-0x20ea+0xe6d),this['_beingEnab'+'led']=!(0x1f1e+-0x10d*-0x3+0x81*-0x44),this['_isLooping'+'ThroughScr'+'ipts']=!(0x1*-0x40d+-0x145+0x553),this['_execution'+'Order']=-(0x1159*0x1+-0x1*-0x603+-0x175b*0x1),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x5f4381){this['_scriptsDa'+'ta']=_0x5f4381;for(const _0x168efb in _0x5f4381){if(!_0x5f4381['hasOwnProp'+'erty'](_0x168efb))continue;const _0x27e366=this['_scriptsIn'+'dex'][_0x168efb];if(_0x27e366){if(typeof _0x5f4381[_0x168efb]['enabled']=='boolean'&&(_0x27e366['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x27e366);}),_0x27e366['enabled']=!!_0x5f4381[_0x168efb]['enabled']),typeof _0x5f4381[_0x168efb]['attributes']=='object'){for(const _0x52cab0 in _0x5f4381[_0x168efb]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x52cab0)){if(!_0x27e366['__attribut'+'es']['hasOwnProp'+'erty'](_0x52cab0)){const _0x21a101=this['system']['app']['scripts']['get'](_0x168efb);_0x21a101&&_0x21a101['attributes']['add'](_0x52cab0,{});}_0x27e366[_0x52cab0]=_0x5f4381[_0x168efb]['attributes'][_0x52cab0];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x2d2f97){const _0x321528=this['_enabled'];this['_enabled']=_0x2d2f97,this['fire']('set','enabled',_0x321528,_0x2d2f97);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x2038+0x4a9+0x1b8f),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x2232+-0xaf2+-0x21d*0xb);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x3a104b=this['_beginLoop'+'ing']();for(let _0x26731f=-0x17b5+0x1052*0x1+0x1*0x763,_0x2e17e6=this['scripts']['length'];_0x26731f<_0x2e17e6;_0x26731f++){const _0x411421=this['scripts'][_0x26731f];_0x411421['_initializ'+'ed']&&!_0x411421['_postIniti'+'alized']&&_0x411421['enabled']&&(_0x411421['_postIniti'+'alized']=!(0x2015+0x2025+-0x201d*0x2),_0x411421['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x411421,gf));}this['_endLoopin'+'g'](_0x3a104b);}['_beginLoop'+'ing'](){const _0x41f7d0=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x820+0x2633+-0x43*0xb1),_0x41f7d0;}['_endLoopin'+'g'](_0x288445){this['_isLooping'+'ThroughScr'+'ipts']=_0x288445,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x4b4d2a,_0x4dc29b,_0x205065){this['_beingEnab'+'led']=!(0x22c2+-0x2291+-0x31),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0xf*0xb1+-0xb2d*0x2+-0x47*-0x76);}['_checkStat'+'e'](){const _0x13877e=this['enabled']&&this['entity']['enabled'];if(_0x13877e===this['_oldState'])return;this['_oldState']=_0x13877e,this['fire'](_0x13877e?'enable':'disable'),this['fire']('state',_0x13877e),_0x13877e?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x509f76=this['_beginLoop'+'ing']();for(let _0x459c74=0x1*-0x12f0+0x1*0x252f+-0x207*0x9,_0xdf342=this['scripts']['length'];_0x459c74<_0xdf342;_0x459c74++){const _0x54c03e=this['scripts'][_0x459c74];_0x54c03e['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x54c03e);}),_0x54c03e['enabled']=_0x54c03e['_enabled'];}this['_endLoopin'+'g'](_0x509f76);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x357379=this['_beginLoop'+'ing']();for(let _0x5920e5=-0x326+0x2207+-0x1ee1;_0x5920e5<this['scripts']['length'];_0x5920e5++){const _0x5db94c=this['scripts'][_0x5920e5];_0x5db94c&&this['destroy'](_0x5db94c['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x357379);}['_removeDes'+'troyedScri'+'pts'](){const _0x23a0aa=this['_destroyed'+'Scripts']['length'];if(_0x23a0aa){for(let _0x19b268=0x1*0x26c7+0x1c26+-0x42ed;_0x19b268<_0x23a0aa;_0x19b268++){const _0x3b91f2=this['_destroyed'+'Scripts'][_0x19b268];this['_removeScr'+'iptInstanc'+'e'](_0x3b91f2);}this['_destroyed'+'Scripts']['length']=-0x1424*0x1+-0x2204+0x3628,this['_resetExec'+'utionOrder'](0x1895+-0x302+-0x1593,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x6d7c9c=-0x1383+-0x2*-0x7f2+-0x67*-0x9,_0x20d0db=this['scripts']['length'];_0x6d7c9c<_0x20d0db;_0x6d7c9c++){const _0x53bf18=this['scripts'][_0x6d7c9c];this['initialize'+'Attributes'](_0x53bf18);}}['initialize'+'Attributes'](_0x330f67){var _0x4ed5c1;if(_0x330f67 instanceof Qh)_0x330f67['__initiali'+'zeAttribut'+'es']();else{const _0x248c5b=_0x330f67['__scriptTy'+'pe']['__name'],_0x4af3dc=this['_attribute'+'DataMap']['get'](_0x248c5b);if(!_0x4af3dc)return;const _0x3c5500=(_0x4ed5c1=this['system']['app']['scripts'])==null?void(-0x1*0x12ff+0x93*-0x1b+-0x180*-0x17):_0x4ed5c1['getSchema'](_0x248c5b);_0x3c5500||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x248c5b+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x3c5500['attributes'],_0x4af3dc,_0x330f67);}}['_scriptMet'+'hod'](_0x60576c,_0x1afd8e,_0xf752f3){try{_0x60576c[_0x1afd8e](_0xf752f3);}catch(_0x219ce4){_0x60576c['enabled']=!(0x301+0x500+-0x800),_0x60576c['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x1afd8e+'\x22\x20for\x20\x22'+_0x60576c['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x219ce4),console['error'](_0x219ce4)),_0x60576c['fire']('error',_0x219ce4,_0x1afd8e),this['fire']('error',_0x60576c,_0x219ce4,_0x1afd8e);}}['_onInitial'+'ize'](){const _0x363941=this['_scripts'],_0x29ce2f=this['_beginLoop'+'ing']();for(let _0x23b660=0x86a+-0x1d12+0x14a8,_0x21a631=_0x363941['length'];_0x23b660<_0x21a631;_0x23b660++){const _0x40d41c=_0x363941[_0x23b660];!_0x40d41c['_initializ'+'ed']&&_0x40d41c['enabled']&&(_0x40d41c['_initializ'+'ed']=!(-0x1cb2+0x110d+0xba5),_0x40d41c['initialize']&&this['_scriptMet'+'hod'](_0x40d41c,_f));}this['_endLoopin'+'g'](_0x29ce2f);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x5eddb1){const _0x15be09=this['_updateLis'+'t'];if(!_0x15be09['length'])return;const _0x5c109b=this['_beginLoop'+'ing']();for(_0x15be09['loopIndex']=-0x1659*-0x1+0x120d+-0x2866*0x1;_0x15be09['loopIndex']<_0x15be09['length'];_0x15be09['loopIndex']++){const _0x35ee0e=_0x15be09['items'][_0x15be09['loopIndex']];_0x35ee0e['enabled']&&this['_scriptMet'+'hod'](_0x35ee0e,JI,_0x5eddb1);}this['_endLoopin'+'g'](_0x5c109b);}['_onPostUpd'+'ate'](_0x2eee17){const _0x5e8d6c=this['_postUpdat'+'eList'];if(!_0x5e8d6c['length'])return;const _0x40d8d3=this['_beginLoop'+'ing']();for(_0x5e8d6c['loopIndex']=-0x1*0x1bed+-0x349+0x1f36;_0x5e8d6c['loopIndex']<_0x5e8d6c['length'];_0x5e8d6c['loopIndex']++){const _0x494d48=_0x5e8d6c['items'][_0x5e8d6c['loopIndex']];_0x494d48['enabled']&&this['_scriptMet'+'hod'](_0x494d48,eD,_0x2eee17);}this['_endLoopin'+'g'](_0x40d8d3);}['_insertScr'+'iptInstanc'+'e'](_0x262ae1,_0xaa42e5,_0x63b6cc){_0xaa42e5===-(-0x1451+-0x93f*0x3+0x300f)?(this['_scripts']['push'](_0x262ae1),_0x262ae1['__executio'+'nOrder']=_0x63b6cc,_0x262ae1['update']&&this['_updateLis'+'t']['append'](_0x262ae1),_0x262ae1['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x262ae1)):(this['_scripts']['splice'](_0xaa42e5,0x6*-0x1df+0x25e0+0x8e2*-0x3,_0x262ae1),_0x262ae1['__executio'+'nOrder']=_0xaa42e5,this['_resetExec'+'utionOrder'](_0xaa42e5+(0xa0c*-0x1+0xc95*-0x3+0x2fcc),_0x63b6cc+(-0x1ba2+-0x99*-0x4+0x193f*0x1)),_0x262ae1['update']&&this['_updateLis'+'t']['insert'](_0x262ae1),_0x262ae1['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x262ae1));}['_removeScr'+'iptInstanc'+'e'](_0x1d60b2){const _0x4cbbe0=this['_scripts']['indexOf'](_0x1d60b2);return _0x4cbbe0===-(0x1*-0xe8e+-0xec*0x8+0x15ef)||(this['_scripts']['splice'](_0x4cbbe0,-0x451+0xa07+0x5b5*-0x1),_0x1d60b2['update']&&this['_updateLis'+'t']['remove'](_0x1d60b2),_0x1d60b2['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x1d60b2)),_0x4cbbe0;}['_resetExec'+'utionOrder'](_0x5ab7f7,_0x3244ab){for(let _0x2be924=_0x5ab7f7;_0x2be924<_0x3244ab;_0x2be924++)this['_scripts'][_0x2be924]['__executio'+'nOrder']=_0x2be924;}['_resolveEn'+'tityScript'+'Attribute'](_0x25b9bf,_0x1de161,_0x2642b7,_0x427143,_0x15dd13,_0x4e4569){if(_0x25b9bf['array']){const _0x1d3cfb=_0x2642b7['length'];if(!_0x1d3cfb)return;const _0x414d74=_0x2642b7['slice']();for(let _0xc1ad62=0x9e*-0x36+-0x361*0x1+0x24b5;_0xc1ad62<_0x1d3cfb;_0xc1ad62++){const _0x47c5d5=_0x414d74[_0xc1ad62]instanceof $e?_0x414d74[_0xc1ad62]['getGuid']():_0x414d74[_0xc1ad62];_0x4e4569[_0x47c5d5]&&(_0x414d74[_0xc1ad62]=_0x427143?_0x4e4569[_0x47c5d5]['getGuid']():_0x4e4569[_0x47c5d5]);}_0x15dd13[_0x1de161]=_0x414d74;}else{if(_0x2642b7 instanceof $e)_0x2642b7=_0x2642b7['getGuid']();else{if(typeof _0x2642b7!='string')return;}_0x4e4569[_0x2642b7]&&(_0x15dd13[_0x1de161]=_0x4e4569[_0x2642b7]);}}['has'](_0x504884){if(typeof _0x504884=='string')return!!this['_scriptsIn'+'dex'][_0x504884];if(!_0x504884)return!(0xbaa*0x2+0x1*-0x4b3+-0x254*0x8);const _0x23d10d=_0x504884,_0x4d1aad=_0x23d10d['__name'],_0x3affdd=this['_scriptsIn'+'dex'][_0x4d1aad];return(_0x3affdd&&_0x3affdd['instance'])instanceof _0x23d10d;}['get'](_0x3ea1fe){if(typeof _0x3ea1fe=='string'){const _0x5016dd=this['_scriptsIn'+'dex'][_0x3ea1fe];return _0x5016dd?_0x5016dd['instance']:null;}if(!_0x3ea1fe)return null;const _0x112f20=_0x3ea1fe,_0x1b2472=_0x112f20['__name'],_0xe5a79a=this['_scriptsIn'+'dex'][_0x1b2472],_0x4153de=_0xe5a79a&&_0xe5a79a['instance'];return _0x4153de instanceof _0x112f20?_0x4153de:null;}['create'](_0x406866,_0x44b880={}){const _0x337b7f=this;let _0x2809fb=_0x406866,_0x2629e2=_0x406866;if(typeof _0x2809fb=='string'?_0x2809fb=this['system']['app']['scripts']['get'](_0x2809fb):_0x2809fb&&(_0x2629e2=_0x2809fb['__name']??(_0x2809fb['__name']=iD(Cx(_0x2809fb)))),_0x2809fb){if(!this['_scriptsIn'+'dex'][_0x2629e2]||!this['_scriptsIn'+'dex'][_0x2629e2]['instance']){const _0x36f038=new _0x2809fb({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x44b880['hasOwnProp'+'erty']('enabled')?_0x44b880['enabled']:!(0x9*0x14b+0x877+0x141a*-0x1),'attributes':_0x44b880['attributes']||{}});_0x44b880['properties']&&typeof _0x44b880['properties']=='object'&&Object['assign'](_0x36f038,_0x44b880['properties']),_0x36f038 instanceof Qh||this['_attribute'+'DataMap']['set'](_0x2629e2,_0x44b880['attributes']);const _0x2a9faa=this['_scripts']['length'];let _0x3af710=-(0xd*-0x232+0x16a0+0x5eb);return typeof _0x44b880['ind']=='number'&&_0x44b880['ind']!==-(-0x1*0x2369+-0x2039+0x1*0x43a3)&&_0x2a9faa>_0x44b880['ind']&&(_0x3af710=_0x44b880['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x36f038,_0x3af710,_0x2a9faa),this['_scriptsIn'+'dex'][_0x2629e2]={'instance':_0x36f038,'onSwap':function(){_0x337b7f['swap'](_0x2629e2);}},this[_0x2629e2]=_0x36f038,_0x44b880['preloading']||this['initialize'+'Attributes'](_0x36f038),this['fire']('create',_0x2629e2,_0x36f038),this['fire']('create:'+_0x2629e2,_0x36f038),this['system']['app']['scripts']['on']('swap:'+_0x2629e2,this['_scriptsIn'+'dex'][_0x2629e2]['onSwap']),_0x44b880['preloading']||(_0x36f038['enabled']&&!_0x36f038['_initializ'+'ed']&&(_0x36f038['_initializ'+'ed']=!(-0xdde+-0x150+-0x86*-0x1d),_0x36f038['initialize']&&this['_scriptMet'+'hod'](_0x36f038,_f)),_0x36f038['enabled']&&!_0x36f038['_postIniti'+'alized']&&(_0x36f038['_postIniti'+'alized']=!(-0x1272*-0x2+0x1*0x9f7+-0x2edb),_0x36f038['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x36f038,gf))),_0x36f038;}v['warn']('script\x20\x27'+_0x2629e2+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x2629e2]={'awaiting':!(-0x1b*-0x7a+-0xfce+0x4*0xbc),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x2629e2+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x5a657f){let _0x3878d1=_0x5a657f,_0x34f81b=_0x5a657f;typeof _0x34f81b=='string'?_0x34f81b=this['system']['app']['scripts']['get'](_0x34f81b):_0x34f81b&&(_0x3878d1=_0x34f81b['__name']);const _0x5a8ef1=this['_scriptsIn'+'dex'][_0x3878d1];if(delete this['_scriptsIn'+'dex'][_0x3878d1],!_0x5a8ef1)return!(-0xcf*0x6+0x2542+-0x2067);this['_attribute'+'DataMap']['delete'](_0x3878d1);const _0x388111=_0x5a8ef1['instance'];if(_0x388111&&!_0x388111['_destroyed']){if(_0x388111['enabled']=!(-0x2ab*0xa+0x5de+0x14d1*0x1),_0x388111['_destroyed']=!(0xe9a*0x1+-0x5*0x3a5+0x39f),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x388111);else{const _0x382513=this['_removeScr'+'iptInstanc'+'e'](_0x388111);_0x382513>=0xe03+0x18db+0x7c6*-0x5&&this['_resetExec'+'utionOrder'](_0x382513,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x3878d1,_0x5a8ef1['onSwap']),delete this[_0x3878d1],this['fire']('destroy',_0x3878d1,_0x388111||null),this['fire']('destroy:'+_0x3878d1,_0x388111||null),_0x388111&&_0x388111['fire']('destroy'),!(0x51e*0x3+-0x435*-0x1+-0x3*0x685);}['swap'](_0x186391){let _0x2f7190=_0x186391,_0xbfad5a=_0x186391;typeof _0xbfad5a=='string'?_0xbfad5a=this['system']['app']['scripts']['get'](_0xbfad5a):_0xbfad5a&&(_0x2f7190=_0xbfad5a['__name']);const _0x575215=this['_scriptsIn'+'dex'][_0x2f7190];if(!_0x575215||!_0x575215['instance'])return!(0xa9b+-0x23d4+0x193a);const _0x53bafa=_0x575215['instance'],_0xe4b5dc=this['_scripts']['indexOf'](_0x53bafa),_0x510515=new _0xbfad5a({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x53bafa['enabled'],'attributes':_0x53bafa['__attribut'+'es']});return _0x510515['swap']?(this['initialize'+'Attributes'](_0x510515),this['_scripts'][_0xe4b5dc]=_0x510515,this['_scriptsIn'+'dex'][_0x2f7190]['instance']=_0x510515,this[_0x2f7190]=_0x510515,_0x510515['__executio'+'nOrder']=_0xe4b5dc,_0x53bafa['update']&&this['_updateLis'+'t']['remove'](_0x53bafa),_0x53bafa['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x53bafa),_0x510515['update']&&this['_updateLis'+'t']['insert'](_0x510515),_0x510515['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x510515),this['_scriptMet'+'hod'](_0x510515,tD,_0x53bafa),this['fire']('swap',_0x2f7190,_0x510515),this['fire']('swap:'+_0x2f7190,_0x510515),!(0x1*0x6ce+-0x11*0x1f6+0x6a2*0x4)):!(0x5*0x521+-0x1a43+0x9f);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1997e1,_0x239a4f){const _0x20ca33=this['entity']['script'];for(const _0x85690c in _0x1997e1['_scriptsIn'+'dex']){const _0x1657a5=this['system']['app']['scripts']['get'](_0x85690c);if(!_0x1657a5)continue;const _0x4e1675=_0x1997e1['_scriptsIn'+'dex'][_0x85690c];if(!_0x4e1675||!_0x4e1675['instance'])continue;const _0x31cb3f=_0x20ca33[_0x85690c]['__attribut'+'esRaw'],_0x4e9dba=_0x20ca33[_0x85690c]['__attribut'+'es'];if(!_0x31cb3f&&!_0x4e9dba)continue;const _0x5531b=!!_0x31cb3f,_0xa7d2d1=_0x4e1675['instance']['__attribut'+'es'];for(const _0x42b739 in _0xa7d2d1){if(!_0xa7d2d1[_0x42b739])continue;const _0xe0fe6f=_0x1657a5['attributes']['get'](_0x42b739);if(_0xe0fe6f){if(_0xe0fe6f['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0xe0fe6f,_0x42b739,_0xa7d2d1[_0x42b739],_0x5531b,_0x31cb3f||_0x4e9dba,_0x239a4f);else{if(_0xe0fe6f['type']==='json'&&Array['isArray'](_0xe0fe6f['schema'])){const _0x1ed39d=_0xa7d2d1[_0x42b739],_0x1ea1cb=_0x31cb3f?_0x31cb3f[_0x42b739]:_0x4e9dba[_0x42b739];for(let _0xae671=-0x13f8+-0x12af+0x26a7;_0xae671<_0xe0fe6f['schema']['length'];_0xae671++){const _0x45efa9=_0xe0fe6f['schema'][_0xae671];if(_0x45efa9['type']==='entity'){if(_0xe0fe6f['array']){for(let _0x1556ed=-0x17c3+-0x30c+-0x1acf*-0x1;_0x1556ed<_0x1ed39d['length'];_0x1556ed++)this['_resolveEn'+'tityScript'+'Attribute'](_0x45efa9,_0x45efa9['name'],_0x1ed39d[_0x1556ed][_0x45efa9['name']],_0x5531b,_0x1ea1cb[_0x1556ed],_0x239a4f);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x45efa9,_0x45efa9['name'],_0x1ed39d[_0x45efa9['name']],_0x5531b,_0x1ea1cb,_0x239a4f);}}}}}}}}['move'](_0x5133b6,_0x345a1e){const _0x2777f4=this['_scripts']['length'];if(_0x345a1e>=_0x2777f4||_0x345a1e<0x15d1*0x1+-0x902*-0x3+-0x1*0x30d7)return!(-0xa58+0x1fc4+-0x156b*0x1);let _0xd4270d=_0x5133b6,_0x4ebf75=_0x5133b6;typeof _0x4ebf75!='string'?_0x4ebf75=_0x5133b6['__name']:_0xd4270d=null;const _0x20a57c=this['_scriptsIn'+'dex'][_0x4ebf75];if(!_0x20a57c||!_0x20a57c['instance'])return!(-0x1fe+-0x1070+0x126f);const _0x344944=_0x20a57c['instance'];if(_0xd4270d&&!(_0x344944 instanceof _0xd4270d))return!(0x1c17+0x2d7*-0x9+-0x287);const _0x1ee820=this['_scripts']['indexOf'](_0x344944);return _0x1ee820===-(0x89c+-0xd3d+0x4a2)||_0x1ee820===_0x345a1e?!(0x1ee4+-0x16ba*0x1+-0x829):(this['_scripts']['splice'](_0x345a1e,0x3c*0x69+0x2b*0x57+-0x2739,this['_scripts']['splice'](_0x1ee820,-0x772*-0x3+-0x63*0x52+0x961)[-0x1bd2+-0x8*0xe0+-0x1*-0x22d2]),this['_resetExec'+'utionOrder'](-0x996+-0xf42+0x18d8,_0x2777f4),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x4ebf75,_0x344944,_0x345a1e,_0x1ee820),this['fire']('move:'+_0x4ebf75,_0x344944,_0x345a1e,_0x1ee820),!(0x91f+0x5ff*-0x3+0x8de));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(0x1*0xfc3+-0x24d2+0x150f);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=-0xeed+-0x461*-0x2+0x1*0x62b;class cD extends Xe{constructor(_0x4456d9){super(_0x4456d9),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x1*-0x683+0x5*0x2e1+-0x7e2),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x519481,_0x4bd7db){if(_0x519481['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x519481),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x519481['enabled']=_0x4bd7db['hasOwnProp'+'erty']('enabled')?!!_0x4bd7db['enabled']:!(0x7f1*-0x1+-0x151+0x942),_0x519481['enabled']&&_0x519481['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x519481),_0x4bd7db['hasOwnProp'+'erty']('order')&&_0x4bd7db['hasOwnProp'+'erty']('scripts')){_0x519481['_scriptsDa'+'ta']=_0x4bd7db['scripts'];for(let _0x5a578e=-0x14e3+0x83*0x38+-0x7c5;_0x5a578e<_0x4bd7db['order']['length'];_0x5a578e++)_0x519481['create'](_0x4bd7db['order'][_0x5a578e],{'enabled':_0x4bd7db['scripts'][_0x4bd7db['order'][_0x5a578e]]['enabled'],'attributes':_0x4bd7db['scripts'][_0x4bd7db['order'][_0x5a578e]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x2a8aaf,_0x53982e){var _0x12bdca;const _0x2eb78b=[],_0x52c50d={};for(let _0x323543=0x21ce+-0x3a*-0x7d+-0x3e20;_0x323543<_0x2a8aaf['script']['_scripts']['length'];_0x323543++){const _0x18fbf4=_0x2a8aaf['script']['_scripts'][_0x323543],_0x363985=_0x18fbf4['__scriptTy'+'pe']['__name'];_0x2eb78b['push'](_0x363985);const _0xd2e5ae=((_0x12bdca=_0x2a8aaf['script']['_attribute'+'DataMap'])==null?void(-0xdeb+-0x834+-0x1*-0x161f):_0x12bdca['get'](_0x363985))||{};for(const _0x2c79da in _0x18fbf4['__attribut'+'es'])_0xd2e5ae[_0x2c79da]=_0x18fbf4['__attribut'+'es'][_0x2c79da];_0x52c50d[_0x363985]={'enabled':_0x18fbf4['_enabled'],'attributes':_0xd2e5ae};}for(const _0x54e38d in _0x2a8aaf['script']['_scriptsIn'+'dex'])_0x54e38d['awaiting']&&_0x2eb78b['splice'](_0x54e38d['ind'],0x9d*-0x35+0x9bd*0x2+0xd07,_0x54e38d);const _0x3e0436={'enabled':_0x2a8aaf['script']['enabled'],'order':_0x2eb78b,'scripts':_0x52c50d};return this['addCompone'+'nt'](_0x53982e,_0x3e0436);}['_resetExec'+'utionOrder'](){Jl=-0x1aa7+-0x1346*0x1+0x3*0xf4f;for(let _0x2a640e=-0xf2*0x1+0x188d+-0x1*0x179b,_0x1383a3=this['_component'+'s']['length'];_0x2a640e<_0x1383a3;_0x2a640e++)this['_component'+'s']['items'][_0x2a640e]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x7bbfbf,_0x545cf2,_0x2c514e){for(_0x7bbfbf['loopIndex']=0x5*0x1c3+-0x4ac+0x1*-0x423;_0x7bbfbf['loopIndex']<_0x7bbfbf['length'];_0x7bbfbf['loopIndex']++)_0x7bbfbf['items'][_0x7bbfbf['loopIndex']][_0x545cf2](_0x2c514e);}['_onInitial'+'ize'](){this['preloading']=!(-0x164f+0x17cd+0x17d*-0x1),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x1560ee){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x1560ee);}['_onPostUpd'+'ate'](_0x608ff1){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x608ff1);}['_addCompon'+'entToEnabl'+'ed'](_0x583bb2){this['_enabledCo'+'mponents']['insert'](_0x583bb2);}['_removeCom'+'ponentFrom'+'Enabled'](_0x579bc2){this['_enabledCo'+'mponents']['remove'](_0x579bc2);}['_onBeforeR'+'emove'](_0x2b54df,_0x47dc39){this['_component'+'s']['items']['indexOf'](_0x47dc39)>=0x1*0x7bb+0x1*-0x1718+-0x13*-0xcf&&_0x47dc39['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x47dc39),this['_component'+'s']['remove'](_0x47dc39);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x281e89,_0x4b7f7e){super(_0x281e89,_0x4b7f7e),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x281e89['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x4b7f7e['on']('remove',this['onRemoveCh'+'ild'],this),_0x4b7f7e['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x4b7f7e['on']('insert',this['onInsertCh'+'ild'],this),_0x4b7f7e['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x29dbcd){var _0x35248b,_0x50ee71;this['_customAab'+'b']=_0x29dbcd,(_0x50ee71=(_0x35248b=this['_instance'])==null?void(0x26cf+-0x1*-0x38b+0x1*-0x2a5a):_0x35248b['meshInstan'+'ce'])==null||_0x50ee71['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x4c4b76){var _0x3dbe3b;if(this['destroyIns'+'tance'](),this['_instance']=_0x4c4b76,(_0x3dbe3b=this['_instance'])!=null&&_0x3dbe3b['meshInstan'+'ce']){const _0x1aa632=this['_instance']['meshInstan'+'ce'];_0x1aa632['node']||(_0x1aa632['node']=this['entity']),_0x1aa632['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x5bbcd9){this['_materialO'+'ptions']=Object['assign']({},_0x5bbcd9),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x2b4421;return(_0x2b4421=this['_instance'])==null?void(0x1c54*-0x1+-0x177a+0x33ce):_0x2b4421['material'];}set['layers'](_0x532dde){this['removeFrom'+'Layers'](),this['_layers']['length']=0x2*0x11d+-0x20eb+0x1eb1;for(let _0x2c265d=0x130a+-0xc58+-0x359*0x2;_0x2c265d<_0x532dde['length'];_0x2c265d++)this['_layers'][_0x2c265d]=_0x532dde[_0x2c265d];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x10a8ff){const _0x445488=_0x10a8ff instanceof le?_0x10a8ff['id']:_0x10a8ff;this['_assetRefe'+'rence']['id']!==_0x445488&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x445488,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x5ee777){const _0x45082b=_0x5ee777 instanceof le?_0x5ee777['id']:_0x5ee777;this['_assetRefe'+'rence']['id']=_0x45082b;}['destroyIns'+'tance'](){var _0x4f2bad;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x4f2bad=this['_instance'])==null||_0x4f2bad['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x2684a3,_0x57c993;const _0x1e3776=(_0x2684a3=this['instance'])==null?void(0x119*-0x1b+-0x3+0x2f7*0xa):_0x2684a3['meshInstan'+'ce'];if(_0x1e3776){const _0x3736dc=this['system']['app']['scene']['layers'];for(let _0x1fb6af=0x1d5b+0x467*-0x6+-0x3*0xfb;_0x1fb6af<this['_layers']['length'];_0x1fb6af++)(_0x57c993=_0x3736dc['getLayerBy'+'Id'](this['_layers'][_0x1fb6af]))==null||_0x57c993['addMeshIns'+'tances']([_0x1e3776]);}}['removeFrom'+'Layers'](){var _0x2445d6,_0x345d6d;const _0x13e7f0=(_0x2445d6=this['instance'])==null?void(0x1081+0x1*-0x1bba+0x1*0xb39):_0x2445d6['meshInstan'+'ce'];if(_0x13e7f0){const _0x1699f0=this['system']['app']['scene']['layers'];for(let _0x58ec75=0x1*-0x1df5+-0xd*-0x128+0xeed;_0x58ec75<this['_layers']['length'];_0x58ec75++)(_0x345d6d=_0x1699f0['getLayerBy'+'Id'](this['_layers'][_0x58ec75]))==null||_0x345d6d['removeMesh'+'Instances']([_0x13e7f0]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x4a2e74,_0x5f1a8b){this['addToLayer'+'s'](),_0x4a2e74['off']('add',this['onLayerAdd'+'ed'],this),_0x4a2e74['off']('remove',this['onLayerRem'+'oved'],this),_0x5f1a8b['on']('add',this['onLayerAdd'+'ed'],this),_0x5f1a8b['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2cc06c){this['layers']['indexOf'](_0x2cc06c['id'])<0x1*-0xf0b+0x25de+-0x16d3||this['_instance']&&_0x2cc06c['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x5c49f1){this['layers']['indexOf'](_0x5c49f1['id'])<0x2*0xc68+0x228f+-0x1*0x3b5f||this['_instance']&&_0x5c49f1['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x2972bd=this['system']['app']['scene'],_0x36af37=_0x2972bd['layers'];this['_evtLayers'+'Changed']=_0x2972bd['on']('set:layers',this['onLayersCh'+'anged'],this),_0x36af37&&(this['_evtLayerA'+'dded']=_0x36af37['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x36af37['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x2fa32f,_0x325574,_0x1f96ae;const _0x15f4f0=this['system']['app']['scene']['layers'];(_0x2fa32f=this['_evtLayers'+'Changed'])==null||_0x2fa32f['off'](),this['_evtLayers'+'Changed']=null,_0x15f4f0&&((_0x325574=this['_evtLayerA'+'dded'])==null||_0x325574['off'](),this['_evtLayerA'+'dded']=null,(_0x1f96ae=this['_evtLayerR'+'emoved'])==null||_0x1f96ae['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1c99*0x1+-0xbce+-0x1*0x10ca));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x12c9+0xc77*0x2+-0x8f*0xb));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x1ce496=this['_assetRefe'+'rence']['asset'];_0x1ce496&&(this['instance']=_0x1ce496['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(0x12c6+0x2*0xcd0+-0x2c66);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x596f21){super(_0x596f21),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x498455,_0x3af242,_0xf2f640){_0x3af242['layers']&&_0x3af242['layers']['length']&&(_0x3af242['layers']=_0x3af242['layers']['slice'](-0x29*0x17+-0x1d92+0x2141));for(let _0x2d839a=0x26bd+0x6b*-0x16+0x1*-0x1d8b;_0x2d839a<Rr['length'];_0x2d839a++)_0x3af242['hasOwnProp'+'erty'](Rr[_0x2d839a])&&(_0x498455[Rr[_0x2d839a]]=_0x3af242[Rr[_0x2d839a]]);_0x3af242['aabbCenter']&&_0x3af242['aabbHalfEx'+'tents']&&(_0x498455['customAabb']=new _e(new T(_0x3af242['aabbCenter']),new T(_0x3af242['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x498455,_0x3af242,yf);}['cloneCompo'+'nent'](_0x35542c,_0x395faa){const _0x27cba6=_0x35542c['gsplat'],_0x44903c={};for(let _0x569ccc=0x114*-0x1+-0x1073+0x281*0x7;_0x569ccc<Rr['length'];_0x569ccc++)_0x44903c[Rr[_0x569ccc]]=_0x27cba6[Rr[_0x569ccc]];_0x44903c['enabled']=_0x27cba6['enabled'],delete _0x44903c['instance'];const _0x52b979=this['addCompone'+'nt'](_0x395faa,_0x44903c);return _0x52b979['instance']=_0x27cba6['instance']['clone'](),_0x27cba6['customAabb']&&(_0x52b979['customAabb']=_0x27cba6['customAabb']['clone']()),_0x52b979;}['onRemove'](_0x85478c,_0x4f2498){_0x4f2498['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x5b5c7f){this['decRefMesh'+'es'](),this['_meshes']=_0x5b5c7f,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x5b5c7f);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x204212;(_0x204212=this['_meshes'])==null||_0x204212['forEach']((_0x2f27b1,_0x8b97bd)=>{_0x2f27b1&&(_0x2f27b1['decRefCoun'+'t'](),_0x2f27b1['refCount']<0x3*-0x12+0xb*0x2f+-0x1ce&&(_0x2f27b1['destroy'](),this['_meshes'][_0x8b97bd]=null));});}['incRefMesh'+'es'](){var _0x5a55b2;(_0x5a55b2=this['_meshes'])==null||_0x5a55b2['forEach'](_0x1c4421=>{_0x1c4421==null||_0x1c4421['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x42c0a5){const _0x44feb2=this;if(!_0x44feb2['resource'])return;const _0x5b0aa3=_0x42c0a5['resource'],_0x3944be=_0x5b0aa3['renders']&&_0x5b0aa3['renders'][_0x44feb2['data']['renderInde'+'x']];_0x3944be&&(_0x44feb2['resource']['meshes']=_0x3944be['resource']['meshes']);}function Lg(_0xa78781){const _0x10b36b=this;_0x10b36b['registry']['off']('load:'+_0xa78781['id'],yh,_0x10b36b),_0x10b36b['registry']['on']('load:'+_0xa78781['id'],yh,_0x10b36b),_0x10b36b['registry']['off']('remove:'+_0xa78781['id'],Fg,_0x10b36b),_0x10b36b['registry']['once']('remove:'+_0xa78781['id'],Fg,_0x10b36b),_0xa78781['resource']?yh['call'](_0x10b36b,_0xa78781):_0x10b36b['registry']['load'](_0xa78781);}function Fg(_0x536ec9){const _0x5563a9=this;_0x5563a9['registry']['off']('load:'+_0x536ec9['id'],yh,_0x5563a9),_0x5563a9['resource']&&_0x5563a9['resource']['destroy']();}class fD extends Ne{constructor(_0x36329c){super(_0x36329c,'render'),this['_registry']=_0x36329c['assets'];}['open'](_0x259338,_0x33e308){return new Hp();}['patch'](_0x1ec3b0,_0x4d3d5d){if(!_0x1ec3b0['data']['containerA'+'sset'])return;const _0x462862=_0x4d3d5d['get'](_0x1ec3b0['data']['containerA'+'sset']);if(!_0x462862){_0x4d3d5d['once']('add:'+_0x1ec3b0['data']['containerA'+'sset'],Lg,_0x1ec3b0);return;}Lg['call'](_0x1ec3b0,_0x462862);}}class Px{constructor(_0xa53373,_0x240637,_0x508c1f,_0x3e442a){this['_paths']=_0xa53373,this['_input']=_0x240637,this['_output']=_0x508c1f,this['_interpola'+'tion']=_0x3e442a;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x41b337,_0x48a4f0){this['_component'+'s']=_0x41b337,this['_data']=_0x48a4f0;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x56e084,_0x3b29e5){let _0x2ceee3;const _0x5539d9=(_0x508ea3,_0x2d2766)=>{switch(_0x2d2766){case _0x2ceee3['DT_INT8']:return new Int8Array(_0x508ea3['buffer'],_0x508ea3['byteOffset'],_0x508ea3['byteLength']);case _0x2ceee3['DT_INT16']:return new Int16Array(_0x508ea3['buffer'],_0x508ea3['byteOffset'],_0x508ea3['byteLength']/(0x2028+-0x1*0x67f+-0x3*0x88d));case _0x2ceee3['DT_INT32']:return new Int32Array(_0x508ea3['buffer'],_0x508ea3['byteOffset'],_0x508ea3['byteLength']/(0x2685+-0x1*-0xfa3+-0x134*0x2d));case _0x2ceee3['DT_UINT8']:return new Uint8Array(_0x508ea3['buffer'],_0x508ea3['byteOffset'],_0x508ea3['byteLength']);case _0x2ceee3['DT_UINT16']:return new Uint16Array(_0x508ea3['buffer'],_0x508ea3['byteOffset'],_0x508ea3['byteLength']/(-0x1a*0x1+-0x1*0x5cf+0x5eb));case _0x2ceee3['DT_UINT32']:return new Uint32Array(_0x508ea3['buffer'],_0x508ea3['byteOffset'],_0x508ea3['byteLength']/(-0x1330+0x362+0x1b*0x96));case _0x2ceee3['DT_FLOAT32']:return new Float32Array(_0x508ea3['buffer'],_0x508ea3['byteOffset'],_0x508ea3['byteLength']/(-0x1ed5+0xb*0x93+0x1888));}return null;},_0x14b197=_0x163a75=>{switch(_0x163a75){case _0x2ceee3['DT_INT8']:return-0x3*-0x5cb+-0x1e36+-0x3e*-0x35;case _0x2ceee3['DT_INT16']:return-0x21e*-0x11+-0x1013+-0x6a3*0x3;case _0x2ceee3['DT_INT32']:return-0x1979+0x148*0x7+0x1085*0x1;case _0x2ceee3['DT_UINT8']:return-0x11c*0x4+-0x3*-0x5b3+-0xca8;case _0x2ceee3['DT_UINT16']:return-0x1*0x2029+0x2212+-0x1e7;case _0x2ceee3['DT_UINT32']:return-0x141b*0x1+-0x210+0x162f;case _0x2ceee3['DT_FLOAT32']:return 0x4*-0x259+-0x1369*-0x1+-0xa01;}return-0x5*0x757+-0x11f3+0x36a7;},_0x5ae671=_0x2cf01e=>_0x2cf01e['num_compon'+'ents']()*_0x14b197(_0x2cf01e['data_type']()),_0x2b7b46={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x46ceb0=(_0x4a2480,_0xfc7b1a)=>{const _0x36c716=(_0x480709,_0x35eb20,_0x5cfa6b)=>{_0x480709[0x17d4*0x1+-0x2524+0xd50]=_0x35eb20[-0x230b+-0x128d*-0x1+0x107e]-_0x5cfa6b[-0xf9b+0x1*-0x11f2+0x218d],_0x480709[-0x1052+-0xc*-0xa7+0x87f]=_0x35eb20[-0x197b+0x2*-0xd87+0x348a]-_0x5cfa6b[0x1*-0x2623+-0x17de+0x3e02],_0x480709[0x149+-0x1dfd+0x19*0x126]=_0x35eb20[-0x35*-0x91+-0x23f9*0x1+0x5f6]-_0x5cfa6b[0x1cb*0x15+0x449*0x3+-0xca0*0x4];},_0x57d220=(_0x28da4f,_0x425c59,_0x205889)=>{_0x28da4f[-0x5*-0x78d+-0x1b27+0x3b*-0x2e]=_0x425c59[-0x1*0x16a9+-0x1df*-0xc+0x36]*_0x205889[-0x5*-0x1d6+0x1698+-0x1fc4]-_0x205889[0x1*-0x1843+-0x1*-0x1bb9+-0x3b*0xf]*_0x425c59[-0x5*-0x6a1+0x1*-0x64a+-0x1ad9],_0x28da4f[-0xd*-0xa3+-0x1901*-0x1+-0x1*0x2147]=_0x425c59[-0xaf*-0x2b+-0x1c81*-0x1+0x41*-0xe4]*_0x205889[-0x25ce+-0x9f4+-0x17e1*-0x2]-_0x205889[0x1*-0x229f+-0x1436+0x36d7]*_0x425c59[-0x1d44+-0xe92*0x1+0x2*0x15eb],_0x28da4f[-0x112*-0x1+-0x12*-0x24+-0x398]=_0x425c59[0x3aa+0x257f+0x2929*-0x1]*_0x205889[-0x1c45*-0x1+0x1*0x4e1+0x1*-0x2125]-_0x205889[-0x8c3+-0x2522+0x2de5*0x1]*_0x425c59[0x873+-0x1*-0xffd+0x2b7*-0x9];},_0x558231=(_0x27c847,_0x21a1bb)=>{const _0x49fdbb=_0x27c847[_0x21a1bb+(0x220c+-0x13*0x16e+-0x371*0x2)],_0x145f18=_0x27c847[_0x21a1bb+(-0x2*-0x28d+0x222d+0x16*-0x1c9)],_0x367c7f=_0x27c847[_0x21a1bb+(-0x5b1*-0x2+-0x1e88+-0x265*-0x8)],_0x5bc888=(-0xb5e+0x222f+0x28*-0x92)/Math['sqrt'](_0x49fdbb*_0x49fdbb+_0x145f18*_0x145f18+_0x367c7f*_0x367c7f);_0x27c847[_0x21a1bb+(-0x210f*-0x1+0x23b*-0x1+0x1*-0x1ed4)]*=_0x5bc888,_0x27c847[_0x21a1bb+(0x15e8+-0x7f*0x3b+0x75e)]*=_0x5bc888,_0x27c847[_0x21a1bb+(0x2*-0xdea+0x7c0+0x1416)]*=_0x5bc888;},_0x5aec8d=(_0x316b00,_0x5dbf83,_0x1e3f98)=>{for(let _0xb1ac65=0x2*-0x1201+0x261f+-0x21d;_0xb1ac65<-0x16d3+0x3b*0x9b+-0xce3;++_0xb1ac65)_0x316b00[_0xb1ac65]=_0x5dbf83[_0x1e3f98+_0xb1ac65];},_0x448f96=_0xfc7b1a['length']/(0x1c45*0x1+-0x148c+-0x7b6),_0x43f908=_0x4a2480['length']/(0x4*-0x41b+-0x18*-0xc8+-0x251*0x1),_0x2fddd6=new Float32Array(_0x4a2480['length']),_0x39f3c4=[-0x99*0xf+-0x2285*0x1+0x2b7c,0xce*-0x2+-0x1*0x1607+-0x7e1*-0x3,0x232a+0x16e0+0x22*-0x1b5],_0x39d789=[0x1ce4+-0xda8+-0xf3c,0x2086+0x1113+-0x3199*0x1,0xf*-0x14b+0x184*-0x12+0x2ead],_0xb588b1=[0x4*-0x363+0x20fe+-0x1372,0x1c26+0x1498*0x1+-0x30be,0x2497+-0x1458+-0x103f],_0x46d489=[0x1*0x2710+-0x1*-0xffe+-0x370e,0x17f9+0x10e1+-0x2*0x146d,-0x1643+0xad+0x1596],_0x143605=[-0x1bbd+-0x14cd+0x308a,-0xf5e+0x1f*0xbf+0x7c3*-0x1,0xf4f+0x1624+-0x2573],_0x40057d=[0x23*-0xd1+-0x139+0x1dcc,0xc*0x2e9+0x45a+-0x2746,0xb3a+0x37*0x93+-0x34b*0xd];for(let _0x2837d2=-0x1eac+0x1cc2+0x1ea;_0x2837d2<_0x448f96;++_0x2837d2){const _0x566975=_0xfc7b1a[_0x2837d2*(-0x2*-0xd9c+-0x19b2+-0x183)+(-0x219c+-0x2*0x5a3+0x2ce2)]*(-0x19d9+-0xf5*0x7+0x208f),_0x392a53=_0xfc7b1a[_0x2837d2*(0x38f*0x5+0xdcd*-0x1+-0x3fb)+(-0x1e9e+-0xb3f*0x2+0x351d)]*(0x234+0x1*-0x11e6+0xfb5),_0x49ea24=_0xfc7b1a[_0x2837d2*(-0xd4e*-0x1+-0x1*-0x1bbc+0x1b*-0x185)+(0x1*0x23e9+0x1523+-0x390a)]*(-0x1eba+-0x1992+0x384f);_0x5aec8d(_0x39f3c4,_0x4a2480,_0x566975),_0x5aec8d(_0x39d789,_0x4a2480,_0x392a53),_0x5aec8d(_0xb588b1,_0x4a2480,_0x49ea24),_0x36c716(_0x46d489,_0x39d789,_0x39f3c4),_0x36c716(_0x143605,_0xb588b1,_0x39f3c4),_0x57d220(_0x40057d,_0x46d489,_0x143605),_0x558231(_0x40057d,0x9a0+0x1863+-0x2203);for(let _0x4ce3ca=-0x2679+-0x1f77+0x1750*0x3;_0x4ce3ca<0xb*-0x375+-0xe40+-0x123*-0x2e;++_0x4ce3ca)_0x2fddd6[_0x566975+_0x4ce3ca]+=_0x40057d[_0x4ce3ca],_0x2fddd6[_0x392a53+_0x4ce3ca]+=_0x40057d[_0x4ce3ca],_0x2fddd6[_0x49ea24+_0x4ce3ca]+=_0x40057d[_0x4ce3ca];}for(let _0x13c5df=-0x435*-0x9+0x1888+-0x3e65;_0x13c5df<_0x43f908;++_0x13c5df)_0x558231(_0x2fddd6,_0x13c5df*(0x1cce+-0x1*0x18fe+-0x3cd));return new Uint8Array(_0x2fddd6['buffer']);},_0x8815bb=_0x32702a=>{const _0x448a60={},_0x55b79e=new _0x2ceee3['DecoderBuf'+'fer']();_0x55b79e['Init'](_0x32702a,_0x32702a['length']);const _0x11c047=new _0x2ceee3['Decoder']();if(_0x11c047['GetEncoded'+'GeometryTy'+'pe'](_0x55b79e)!==_0x2ceee3['TRIANGULAR'+'_MESH'])return _0x448a60['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x448a60;const _0x5e8038=new _0x2ceee3['Mesh'](),_0x1a482c=_0x11c047['DecodeBuff'+'erToMesh'](_0x55b79e,_0x5e8038);if(!_0x1a482c||!_0x1a482c['ok']()||_0x2ceee3['getPointer'](_0x5e8038)===0x15a1+0x270b+-0x3cac)return _0x448a60['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x448a60;const _0xd0e2e5=_0x5e8038['num_faces']()*(0x576+0x737*0x3+-0x18*0x121),_0x42a4df=_0x5e8038['num_points']()<=0xc*-0x196a+-0x4481+-0x13abc*-0x2,_0x7a9404=_0xd0e2e5*(_0x42a4df?0x1*0x26ed+0x2386+0x1*-0x4a71:0x27*0x33+0x43*0x94+0x1*-0x2e7d),_0x36c580=_0x2ceee3['_malloc'](_0x7a9404);_0x42a4df?(_0x11c047['GetTriangl'+'esUInt16Ar'+'ray'](_0x5e8038,_0x7a9404,_0x36c580),_0x448a60['indices']=new Uint16Array(_0x2ceee3['HEAPU16']['buffer'],_0x36c580,_0xd0e2e5)['slice']()['buffer']):(_0x11c047['GetTriangl'+'esUInt32Ar'+'ray'](_0x5e8038,_0x7a9404,_0x36c580),_0x448a60['indices']=new Uint32Array(_0x2ceee3['HEAPU32']['buffer'],_0x36c580,_0xd0e2e5)['slice']()['buffer']),_0x2ceee3['_free'](_0x36c580);const _0x333ce2=[];for(let _0x13df83=-0x9*0x1bd+-0x1f51+-0x177b*-0x2;_0x13df83<_0x5e8038['num_attrib'+'utes']();++_0x13df83)_0x333ce2['push'](_0x11c047['GetAttribu'+'te'](_0x5e8038,_0x13df83));_0x333ce2['sort']((_0x41358f,_0x42c3a6)=>(_0x2b7b46[_0x41358f['attribute_'+'type']()]??_0x2b7b46['length'])-(_0x2b7b46[_0x42c3a6['attribute_'+'type']()]??_0x2b7b46['length'])),_0x448a60['attributes']=_0x333ce2['map'](_0x3aa600=>_0x3aa600['unique_id']());let _0x370e06=0x1*-0x2195+-0x2257+0x54*0xcf;const _0x4027a7=_0x333ce2['map'](_0x1f14c9=>{const _0x90ee1c=_0x370e06;return _0x370e06+=Math['ceil'](_0x5ae671(_0x1f14c9)/(0x21a0+-0x467*0x2+0xc67*-0x2))*(-0x1d*-0x41+0x139*-0x19+0x1738),_0x90ee1c;}),_0x23c58c=_0x333ce2['some'](_0x2ac6d6=>_0x2ac6d6['attribute_'+'type']()===-0x16ed+-0x746*0x3+0x2cc0),_0x1a7f13=_0x4027a7[-0x1163+-0xc14*0x3+0x35a0];if(!_0x23c58c){for(let _0x3f92e6=-0x70d+-0x2f*-0x1b+0x219;_0x3f92e6<_0x4027a7['length'];++_0x3f92e6)_0x4027a7[_0x3f92e6]+=-0x1757*0x1+0x1cf3*-0x1+0x3456;_0x370e06+=0x1c24+-0x10ca*-0x1+0x47d*-0xa;}_0x448a60['vertices']=new ArrayBuffer(_0x5e8038['num_points']()*_0x370e06);const _0x3b65bb=new Uint8Array(_0x448a60['vertices']);for(let _0x27122a=-0x1ecd+0x1*0xb26+0x13a7;_0x27122a<_0x5e8038['num_attrib'+'utes']();++_0x27122a){const _0x3a2bca=_0x333ce2[_0x27122a],_0x45683e=_0x5ae671(_0x3a2bca),_0x22d77d=_0x5e8038['num_points']()*_0x45683e,_0x3ef238=_0x2ceee3['_malloc'](_0x22d77d);_0x11c047['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x5e8038,_0x3a2bca,_0x3a2bca['data_type'](),_0x22d77d,_0x3ef238);const _0xa78276=new Uint8Array(_0x2ceee3['HEAPU8']['buffer'],_0x3ef238,_0x22d77d);for(let _0x475379=0x1c76+0x25d2+-0xc*0x586;_0x475379<_0x5e8038['num_points']();++_0x475379)for(let _0x5064f1=0x22c2+-0x2470+0x1ae;_0x5064f1<_0x45683e;++_0x5064f1)_0x3b65bb[_0x475379*_0x370e06+_0x4027a7[_0x27122a]+_0x5064f1]=_0xa78276[_0x475379*_0x45683e+_0x5064f1];if(!_0x23c58c&&_0x3a2bca['attribute_'+'type']()===-0x1b9f+0x6*-0xfb+-0x3b9*-0x9){const _0x17b511=_0x46ceb0(_0x5539d9(_0xa78276,_0x3a2bca['data_type']()),_0x42a4df?new Uint16Array(_0x448a60['indices']):new Uint32Array(_0x448a60['indices']));for(let _0xa0d2eb=0x1be3+0x1549*0x1+-0x312c;_0xa0d2eb<_0x5e8038['num_points']();++_0xa0d2eb)for(let _0x4656b3=0x32*-0x26+-0x1ec7+-0x7*-0x575;_0x4656b3<0x43*-0x1+0x1e*0x27+-0x1*0x443;++_0x4656b3)_0x3b65bb[_0xa0d2eb*_0x370e06+_0x1a7f13+_0x4656b3]=_0x17b511[_0xa0d2eb*(-0x1509+-0x232*-0xc+-0x543)+_0x4656b3];}_0x2ceee3['_free'](_0x3ef238);}return _0x2ceee3['destroy'](_0x5e8038),_0x2ceee3['destroy'](_0x11c047),_0x2ceee3['destroy'](_0x55b79e),_0x448a60;},_0xb4656f=_0x4f8bfb=>{const _0x523932=_0x8815bb(new Uint8Array(_0x4f8bfb['buffer']));self['postMessag'+'e']({'jobId':_0x4f8bfb['jobId'],'error':_0x523932['error'],'indices':_0x523932['indices'],'vertices':_0x523932['vertices'],'attributes':_0x523932['attributes']},[_0x523932['indices'],_0x523932['vertices']]['filter'](_0x1b48a7=>_0x1b48a7!=null));},_0x528328=[];self['onmessage']=_0x200aa6=>{const _0x58e648=_0x200aa6['data'];switch(_0x58e648['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x411c9d,_0xb3aaeb)=>(WebAssembly['instantiat'+'e'](_0x58e648['module'],_0x411c9d)['then'](_0x57d67d=>_0xb3aaeb(_0x57d67d))['catch'](_0x464189=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x464189)),{})})['then'](_0x420426=>{_0x2ceee3=_0x420426,_0x528328['forEach'](_0x3d0b8b=>_0xb4656f(_0x3d0b8b));});break;case'decodeMesh':_0x2ceee3?_0xb4656f(_0x58e648):_0x528328['push'](_0x58e648);break;}};}const Og=-0xb33*0x1+-0x24+0xb5a*0x1;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x1*-0x1984+-0x18dd+0xa7*-0x1,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x40487d,_0x3eadf8)=>{_0x40487d['postMessag'+'e']({'type':'decodeMesh','jobId':_0x3eadf8['jobId'],'buffer':_0x3eadf8['buffer']},[_0x3eadf8['buffer']]);};}['init'](_0x74ae62){for(_0x74ae62['forEach'](_0x537d30=>{_0x537d30['addEventLi'+'stener']('message',_0x5540e=>{const _0x2a50d9=_0x5540e['data'],_0x36855b=this['jobCallbac'+'ks']['get'](_0x2a50d9['jobId']);if(_0x36855b&&_0x36855b(_0x2a50d9['error'],{'indices':_0x2a50d9['indices'],'vertices':_0x2a50d9['vertices'],'attributes':_0x2a50d9['attributes']}),this['jobCallbac'+'ks']['delete'](_0x2a50d9['jobId']),this['jobQueue']['length']>-0x137e*0x2+-0xa6d+0x3169){const _0x3a5f1c=this['jobQueue']['shift']();this['run'](_0x537d30,_0x3a5f1c);}else{const _0x1b2601=this['workers'][0x2*-0x9e3+0xd34+0x694]['indexOf'](_0x537d30);if(_0x1b2601!==-(-0x18*0x10c+-0x10b6*-0x1+0x86b))this['workers'][0x1631+0x27*-0xdf+0xbca*0x1]['splice'](_0x1b2601,0xd56+-0x1239+0x139*0x4),this['workers'][-0xd7+-0x256f+0x2647]['push'](_0x537d30);else{const _0x134bc3=this['workers'][0xf8f+-0xcca+-0x2c4]['indexOf'](_0x537d30);_0x134bc3!==-(-0x191e+0x17ef+-0x10*-0x13)?(this['workers'][0x3f9*0x3+0x1746+-0x2330]['splice'](_0x134bc3,-0xa75+0xb25+-0xaf),this['workers'][0x24*0x54+-0x1d8b+0x11bb]['push'](_0x537d30)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x5*0x3e0+0x1c2c+-0x8cc]=_0x74ae62;this['jobQueue']['length']&&(this['workers'][0x18e*-0x10+0x235d+0x3*-0x37f]['length']||this['workers'][-0x1d7d*-0x1+-0xb91+-0x11eb]['length']);){const _0x4b0cba=this['jobQueue']['shift']();if(this['workers'][-0x16*0x172+-0x9c5+-0xddb*-0x3]['length']>0xbc4+-0x1*0x491+-0x733){const _0x366cc2=this['workers'][-0x219e+-0x1*-0x24c5+-0x327]['shift']();this['workers'][-0x75*-0x3+-0x46+-0x118]['push'](_0x366cc2),this['run'](_0x366cc2,_0x4b0cba);}else{const _0x1cbc0e=this['workers'][0x110d+0xc4b*-0x3+0x1*0x13d5]['shift']();this['workers'][-0x5d5*-0x3+-0x1f96*0x1+-0xe19*-0x1]['push'](_0x1cbc0e),this['run'](_0x1cbc0e,_0x4b0cba);}}}['enqueueJob'](_0x280f91,_0x5b99bf){const _0x1d0ec9={'jobId':this['jobId']++,'buffer':_0x280f91};if(this['jobCallbac'+'ks']['set'](_0x1d0ec9['jobId'],_0x5b99bf),this['workers'][-0xf5*-0x1+0x6*-0x5fd+0x22f9]['length']>-0x3*-0x127+0x9*-0xa3+0x246){const _0x58600b=this['workers'][-0x9e6+-0x6f*0x55+0x2ec1*0x1]['shift']();this['workers'][0x6d7*0x3+0x719*0x3+-0x29cf]['push'](_0x58600b),this['run'](_0x58600b,_0x1d0ec9);}else{if(this['workers'][0x1015*-0x1+0x14c9+0x3*-0x191]['length']>0x54e*-0x1+0x1ad7+0x1589*-0x1){const _0x441af5=this['workers'][-0x464*-0x5+0xd16+-0x2309*0x1]['shift']();this['workers'][0x3*0x161+-0x413*0x7+0x1864]['push'](_0x441af5),this['run'](_0x441af5,_0x1d0ec9);}else this['jobQueue']['push'](_0x1d0ec9);}}}const _D=_0x41a52e=>new Promise((_0x17723f,_0x5daef8)=>{const _0x57c1ae={'cache':!(-0x4*-0x1f6+0x15a3+-0x1d7b),'responseType':'text','retry':Og>0x1*0x9+-0x2389+0x2380,'maxRetries':Og};We['get'](_0x41a52e,_0x57c1ae,(_0x52f7f4,_0x166ce3)=>{_0x52f7f4?_0x5daef8(_0x52f7f4):_0x17723f(_0x166ce3);});}),gD=_0x2a3aba=>{const _0x12ff8d=()=>fetch(_0x2a3aba)['then'](_0x2406c0=>_0x2406c0['arrayBuffe'+'r']())['then'](_0x261b70=>WebAssembly['compile'](_0x261b70)),_0x63923d=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x2a3aba))['catch'](_0x5d2886=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x2a3aba+'\x20('+_0x5d2886+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x12ff8d()));return WebAssembly['compileStr'+'eaming']?_0x63923d():_0x12ff8d();},kg=-0x3e8*0x1+0x2*0x58a+-0x1*0x72b;let xh;const yD=_0x6fe5d3=>{if(xh)return!(0x265+0x2*0x6b2+-0xfc9);if(!_0x6fe5d3){const _0x56abeb=ay['getConfig']('DracoDecod'+'erModule');_0x56abeb?_0x6fe5d3={'jsUrl':_0x56abeb['glueUrl'],'wasmUrl':_0x56abeb['wasmUrl'],'numWorkers':_0x56abeb['numWorkers']}:_0x6fe5d3={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x6fe5d3['jsUrl']||!_0x6fe5d3['wasmUrl']?!(-0x1fc5+-0x147c+0x3442*0x1):(xh=new mD(),Promise['all']([_D(_0x6fe5d3['jsUrl']),gD(_0x6fe5d3['wasmUrl'])])['then'](([_0x33c16d,_0xa83ce9])=>{const _0x614d23=['/*\x20draco\x20*'+'/',_0x33c16d,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x850362=new Blob([_0x614d23],{'type':'applicatio'+'n/javascri'+'pt'}),_0xf82adc=URL['createObje'+'ctURL'](_0x850362),_0x3236e0=Math['max'](0x1d0c+-0x251b+-0x158*-0x6,Math['min'](0x669+0xffb*-0x1+-0x112*-0x9,_0x6fe5d3['numWorkers']||kg)),_0x66f87a=[];for(let _0x2e5cf4=0x77b+-0x1855+0x10da;_0x2e5cf4<_0x3236e0;++_0x2e5cf4){const _0x4e6a73=new Worker(_0xf82adc);_0x4e6a73['postMessag'+'e']({'type':'init','module':_0xa83ce9}),_0x66f87a['push'](_0x4e6a73);}xh['init'](_0x66f87a);}),!(-0x19a3+0x83*0x1+0x192*0x10));},xD=(_0x5c3e03,_0x4dc118)=>yD()?(xh['enqueueJob'](_0x5c3e03,_0x4dc118),!(0x39b+-0x2*-0xdc6+-0x19*0x13f)):!(-0x7*-0x41+0x22*0xc1+-0x1b68);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x3a8d35=>{_0x3a8d35['meshes']=null;});}}const Rx=_0x5c9291=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x5c9291),vD=_0x21842b=>_0x21842b['substring'](_0x21842b['indexOf'](':')+(0x240*-0x8+0x2461*0x1+-0x126*0x10),_0x21842b['indexOf'](';')),$o=_0x262699=>{switch(_0x262699){case'SCALAR':return 0x13*0xf9+0xae6+-0x1d60;case'VEC2':return 0x20b6+0x1d09+0xc59*-0x5;case'VEC3':return 0x1*0x5ae+0xa0f+0x29f*-0x6;case'VEC4':return-0x12*0x116+0x6f0*-0x4+0x2f50;case'MAT2':return-0x534*-0x1+-0x10c9*-0x1+-0x15f9;case'MAT3':return-0x17*0xe0+0x1*0x505+0xf24;case'MAT4':return 0x1*-0xeab+0xef5+-0x3a*0x1;default:return 0x22fb+-0xe61+-0x1497;}},Jc=_0x4353cb=>{switch(_0x4353cb){case-0x89*-0x23+0x15da+-0x1495:return Rc;case-0x584+0x5*0x44b+0x40e*0x1:return Kr;case-0x1*0x1066+-0x75*0x41+0x421d:return Ic;case-0x1*-0x22f+-0x7*-0x139+-0x7*-0x153:return el;case 0x1e5f+-0xa99*-0x3+-0x2a26:return By;case 0x153+-0x1e3a+0x30ec:return Do;case-0x1*0xa13+-0x5*-0x1ee+0x3*0x6d1:return Ee;default:return-0x1ad0+0x476*0x6+0xc;}},bD=_0x4d047d=>{switch(_0x4d047d){case-0x1fa1+-0x83c+0x3bdd:return-0x7cd*0x1+0x1ef7*-0x1+0x26c5;case 0x28*0x6a+-0x87*-0x48+-0x1*0x2287:return 0x1*0x2047+0x2572+-0x184*0x2e;case-0x1303+-0x13ff*-0x1+0x1306:return 0x27f*-0x5+0xa7a+0x5*0x67;case-0x1eb1+0x17a0+0x4*0x6c5:return 0xa49+0x1784+-0x21cb;case-0x18ba+-0x95d*-0x1+-0x1*-0x2361:return 0x582+-0x3d3*0x5+0x1*0xda1;case-0x831+0x1421+0x815:return-0x2485*-0x1+-0x59*-0x7+-0x1378*0x2;case 0x1a35*-0x1+0x1a1a+0x1421:return-0x2158+-0xabd*-0x2+0xbe2;default:return 0x10a5*0x1+0x2*0xd12+-0x2ac9*0x1;}},wD=_0x53d894=>{switch(_0x53d894){case 0x1*0x2137+-0x225e+0x1527:return Int8Array;case 0x2365+-0x1c72+-0x3*-0x45a:return Uint8Array;case 0xb*0x22d+0x8b*-0x29+0x1256:return Int16Array;case 0x2*-0x4f1+0x1608*0x1+0x7dd:return Uint16Array;case 0x139a+-0x1*-0x1381+-0xb5*0x1b:return Int32Array;case 0xc73+-0x1*-0x591+0x201:return Uint32Array;case-0x10b7+0x76e+0x1d4f:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:0x15*0xef+-0x1b3a+0x79f,[Yt]:-0x5b3+-0x406+0x9ba,[Zs]:-0xa3d+-0x395*-0x7+-0xed4,[At]:0x345+-0x1489+-0x1*-0x1147,[qt]:0x5*0x7ae+0x1005+-0x3667,[Ys]:0x31*0xac+0x1f78+0x727*-0x9,[ns]:0x1*0x1393+0x1e9c+-0x3229,[_n]:0x19ea+-0x1402+0x5*-0x12d,[jo]:-0x1ae3+0x1*0x6e8+0x1403*0x1,[Yo]:-0xbb4*0x1+-0x21cd*-0x1+-0x1610,[Ko]:0x20c9+0x9*0x37d+0x335*-0x14,[Zo]:0x192e+0xd1b+-0x263e,[Qo]:-0x187a+-0x16ed+0x2f73,[Jo]:0x43*0x40+0x128d+-0x2340},TD=_0x127334=>{switch(_0x127334){case Rc:return _0x5ef7b2=>Math['max'](_0x5ef7b2/(-0x1d48+-0x1fbe+0x3d85),-(0x1*0x1349+-0x5*0x67c+0x1d*0x74));case Kr:return _0x2ee214=>_0x2ee214/(-0xf74+-0x1ff8+0x306b);case Ic:return _0x48c07c=>Math['max'](_0x48c07c/(0xa5c3+-0xa87*0xd+-0x1*-0x6317),-(-0x225f+0x2084+0x1dc));case el:return _0x59e762=>_0x59e762/(0x108d5+0x4f*0x5fb+-0x1e14b);default:return _0x4838b2=>_0x4838b2;}},xf=(_0x29585a,_0x274c00,_0x46e8c7)=>{const _0x1dce06=TD(_0x46e8c7),_0x1b8908=_0x274c00['length'];for(let _0x4b11c6=0x6b*0x1+0xc86*-0x1+0x1*0xc1b;_0x4b11c6<_0x1b8908;++_0x4b11c6)_0x29585a[_0x4b11c6]=_0x1dce06(_0x274c00[_0x4b11c6]);return _0x29585a;},sn=(_0xa3f6aa,_0x284fcf,_0x411160=!(-0x9*0x3ee+-0x2047+0x43a6))=>{const _0x270c18=$o(_0xa3f6aa['type']),_0x2fa4f8=wD(_0xa3f6aa['componentT'+'ype']);if(!_0x2fa4f8)return null;let _0x591aae;if(_0xa3f6aa['sparse']){const _0x174480=_0xa3f6aa['sparse'],_0x3d0e7e={'count':_0x174480['count'],'type':'SCALAR'},_0x28be3f=sn(Object['assign'](_0x3d0e7e,_0x174480['indices']),_0x284fcf,!(-0x126*-0x15+-0x1*0x68f+0x383*-0x5)),_0x558a73={'count':_0x174480['count'],'type':_0xa3f6aa['type'],'componentType':_0xa3f6aa['componentT'+'ype']},_0x50bbf4=sn(Object['assign'](_0x558a73,_0x174480['values']),_0x284fcf,!(-0x19af+0x2*-0x277+-0x11*-0x1cd));if(_0xa3f6aa['hasOwnProp'+'erty']('bufferView')){const _0x1d3e07={'bufferView':_0xa3f6aa['bufferView'],'byteOffset':_0xa3f6aa['byteOffset'],'componentType':_0xa3f6aa['componentT'+'ype'],'count':_0xa3f6aa['count'],'type':_0xa3f6aa['type']};_0x591aae=sn(_0x1d3e07,_0x284fcf,!(0xda2*-0x1+0x2184+-0x13e2))['slice']();}else _0x591aae=new _0x2fa4f8(_0xa3f6aa['count']*_0x270c18);for(let _0x57df70=0x751+0x177c*-0x1+0x102b;_0x57df70<_0x174480['count'];++_0x57df70){const _0x11a22d=_0x28be3f[_0x57df70];for(let _0x450ae0=-0x114+-0xa9a+0xbae;_0x450ae0<_0x270c18;++_0x450ae0)_0x591aae[_0x11a22d*_0x270c18+_0x450ae0]=_0x50bbf4[_0x57df70*_0x270c18+_0x450ae0];}}else{if(_0xa3f6aa['hasOwnProp'+'erty']('bufferView')){const _0x111a8e=_0x284fcf[_0xa3f6aa['bufferView']];if(_0x411160&&_0x111a8e['hasOwnProp'+'erty']('byteStride')){const _0x2cd5a1=_0x270c18*_0x2fa4f8['BYTES_PER_'+'ELEMENT'],_0x465b0c=new ArrayBuffer(_0xa3f6aa['count']*_0x2cd5a1),_0x558e6e=new Uint8Array(_0x465b0c);let _0x5214aa=0x2e9+0x1c31*-0x1+0x1948;for(let _0xe60be5=-0xad9+-0xa9*0xe+0x1417;_0xe60be5<_0xa3f6aa['count'];++_0xe60be5){let _0x41b43f=(_0xa3f6aa['byteOffset']||0x13*0x185+-0x899+0x3*-0x6c2)+_0xe60be5*_0x111a8e['byteStride'];for(let _0x5f3a98=0x9*0x3f0+-0x4*0x645+0x11*-0x9c;_0x5f3a98<_0x2cd5a1;++_0x5f3a98)_0x558e6e[_0x5214aa++]=_0x111a8e[_0x41b43f++];}_0x591aae=new _0x2fa4f8(_0x465b0c);}else _0x591aae=new _0x2fa4f8(_0x111a8e['buffer'],_0x111a8e['byteOffset']+(_0xa3f6aa['byteOffset']||0x248d+0x43*-0x2e+-0x1883*0x1),_0xa3f6aa['count']*_0x270c18);}else _0x591aae=new _0x2fa4f8(_0xa3f6aa['count']*_0x270c18);}return _0x591aae;},ma=(_0x4d7388,_0x465b88)=>{const _0x37322d=sn(_0x4d7388,_0x465b88,!(-0x2c+0x91a*0x2+-0x482*0x4));if(_0x37322d instanceof Float32Array||!_0x4d7388['normalized'])return _0x37322d;const _0x200864=new Float32Array(_0x37322d['length']);return xf(_0x200864,_0x37322d,Jc(_0x4d7388['componentT'+'ype'])),_0x200864;},Sf=_0x13b2bc=>{let _0x27b5a3=_0x13b2bc['min'],_0x584a9e=_0x13b2bc['max'];if(!_0x27b5a3||!_0x584a9e)return null;if(_0x13b2bc['normalized']){const _0x9c68f5=Jc(_0x13b2bc['componentT'+'ype']);_0x27b5a3=xf([],_0x27b5a3,_0x9c68f5),_0x584a9e=xf([],_0x584a9e,_0x9c68f5);}return new _e(new T((_0x584a9e[0x1153+0x1a0c+-0x2b5f]+_0x27b5a3[0x1457*0x1+-0xe5*-0x25+-0x3570])*(0xda6+0x1*-0x1150+0x3aa+0.5),(_0x584a9e[-0x3*-0x27+-0x21*0x89+0x371*0x5]+_0x27b5a3[-0x1d2d+-0x4*-0x13a+-0x1*-0x1846])*(-0x43e*-0x1+-0x3*-0xb5d+-0x2655+0.5),(_0x584a9e[-0x2363*0x1+-0x1d0f+0x4074]+_0x27b5a3[-0x14c0+-0x1e1+0x16a3])*(-0x1149+-0x19fc+-0x3ef*-0xb+0.5)),new T((_0x584a9e[0x13f9+-0x11a1+-0x258]-_0x27b5a3[0x19b5*0x1+-0x1f*-0xf9+-0x37dc])*(0x2177+-0x132+0x1*-0x2045+0.5),(_0x584a9e[0x263f+-0x170c*0x1+-0xf32]-_0x27b5a3[-0x23a*0x5+0x121a+-0x6f7])*(0x3*-0x4+0x9b6+-0x2*0x4d5+0.5),(_0x584a9e[-0x1a22+-0x1*0x156a+-0x1*-0x2f8e]-_0x27b5a3[-0xba7*-0x2+0x1864+-0x2fb0])*(-0x5*-0x503+-0x7a*0x15+-0xf0d+0.5)));},Ix=_0x11cc13=>{if(!_0x11cc13['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x11cc13['mode']){case 0x1*-0x1787+-0x1659+0x2de0:return Mc;case-0x2535+-0xe92+0x33c8:return Pc;case 0x1*-0x1a9e+0x1*0x5bf+-0x1*-0x14e1:return My;case-0x6c7+-0x12ed+0x19b7:return Py;case-0x7ee+0x7e8*-0x4+0x2792:return Ms;case 0x6f*0x22+0x5ab*0x5+-0x35*0xd0:return ar;case 0x9e9+0xe97+-0x187a:return Yr;default:return Ms;}},AD=_0x304523=>{const _0x27ac43=new Uint16Array(_0x304523);for(let _0x128c03=-0x236f+0x2707*-0x1+-0x6*-0xc69;_0x128c03<_0x304523;_0x128c03++)_0x27ac43[_0x128c03]=_0x128c03;return _0x27ac43;},ED=(_0x33bd8c,_0x44d2d5)=>{const _0x40d2d5=_0x33bd8c[He];if(!_0x40d2d5||_0x40d2d5['components']!==0x1aab*0x1+-0x1c*0x56+-0x1140)return;let _0x370720;if(_0x40d2d5['size']!==_0x40d2d5['stride']){const _0x1bad2d=_0x40d2d5['stride']/_o[_0x40d2d5['type']],_0x3d4be1=new da[_0x40d2d5['type']](_0x40d2d5['buffer'],_0x40d2d5['offset'],_0x40d2d5['count']*_0x1bad2d);_0x370720=new da[_0x40d2d5['type']](_0x40d2d5['count']*(0x1*-0x1189+-0x17ca+-0x2*-0x14ab));for(let _0x339386=-0xb9*-0x19+0x1*0x8fc+-0x1b0d;_0x339386<_0x40d2d5['count'];++_0x339386)_0x370720[_0x339386*(0xe*0x1df+0x18*-0x128+0x191*0x1)+(0xd82+-0x75c+-0x626)]=_0x3d4be1[_0x339386*_0x1bad2d+(0xf7b+0x5f*-0x56+0x106f)],_0x370720[_0x339386*(-0x232a+-0xc6d+0x2f9a)+(0x103*-0x5+0x133d+-0xe2d)]=_0x3d4be1[_0x339386*_0x1bad2d+(-0xe33+0x1474+-0x640)],_0x370720[_0x339386*(0x52d+0x3*0x2d+-0x5b1)+(0xbd5+-0x4f*-0x26+0x178d*-0x1)]=_0x3d4be1[_0x339386*_0x1bad2d+(0x1b55*-0x1+0x25*-0x94+-0x1f3*-0x19)];}else _0x370720=new da[_0x40d2d5['type']](_0x40d2d5['buffer'],_0x40d2d5['offset'],_0x40d2d5['count']*(0xee6+-0x3*0x14b+-0xb02*0x1));const _0x575b74=_0x40d2d5['count'];_0x44d2d5||(_0x44d2d5=AD(_0x575b74));const _0x320672=k0(_0x370720,_0x44d2d5),_0xfacb2a=new Float32Array(_0x320672['length']);_0xfacb2a['set'](_0x320672),_0x33bd8c[Yt]={'buffer':_0xfacb2a['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x575b74,'components':0x3,'type':Ee};},CD=_0x36380d=>{const _0x4a7a95=_0xb64f7b=>{const _0x133943=[];for(let _0x500079=0xa73+-0x24af+0x1a3c;_0x500079<_0xb64f7b['_levels']['length'];++_0x500079){let _0x35c9d5=[];if(_0xb64f7b['cubemap']){for(let _0x5c4265=-0x16b8+0x8af*-0x2+0x7*0x5ba;_0x5c4265<-0x1912*0x1+0x114+0x1804;++_0x5c4265)_0x35c9d5['push'](_0xb64f7b['_levels'][_0x500079][_0x5c4265]);}else _0x35c9d5=_0xb64f7b['_levels'][_0x500079];_0x133943['push'](_0x35c9d5);}return _0x133943;},_0x4f2873=new he(_0x36380d['device'],_0x36380d);return _0x4f2873['_levels']=_0x4a7a95(_0x36380d),_0x4f2873;},MD=_0x1e929b=>{const _0x54cc96=new le(_0x1e929b['name']+'_clone',_0x1e929b['type'],_0x1e929b['file'],_0x1e929b['data'],_0x1e929b['options']);return _0x54cc96['loaded']=!(-0x1654+0x15*-0x1a5+0x38dd*0x1),_0x54cc96['resource']=CD(_0x1e929b['resource']),_0x1e929b['registry']['add'](_0x54cc96),_0x54cc96;},PD=(_0x3eab35,_0x398edc)=>{const _0x31d36e=_0x398edc[He];if(!_0x31d36e)return null;const _0x2de9fd=_0x31d36e['count'],_0x374ad7=[];for(const _0x289c06 in _0x398edc)if(_0x398edc['hasOwnProp'+'erty'](_0x289c06)){const _0x34b065={'semantic':_0x289c06,'components':_0x398edc[_0x289c06]['components'],'type':_0x398edc[_0x289c06]['type'],'normalize':!!_0x398edc[_0x289c06]['normalize']};Et['isElementV'+'alid'](_0x3eab35,_0x34b065)||_0x34b065['components']++,_0x374ad7['push'](_0x34b065);}_0x374ad7['sort']((_0x573fef,_0x327c18)=>Bg[_0x573fef['semantic']]-Bg[_0x327c18['semantic']]);let _0x4f64d0,_0x402b28,_0x49ceba,_0xa7dfd8,_0x162370,_0x12fa4a;const _0x16c0bb=new Et(_0x3eab35,_0x374ad7);let _0x1af33e=!(0x9b*0x3b+-0xd7b+-0x163e);for(_0x4f64d0=-0x23e7+0xc02+0x17e5;_0x4f64d0<_0x16c0bb['elements']['length'];++_0x4f64d0)if(_0x162370=_0x16c0bb['elements'][_0x4f64d0],_0xa7dfd8=_0x398edc[_0x162370['name']],_0x12fa4a=_0xa7dfd8['offset']-_0x31d36e['offset'],_0xa7dfd8['buffer']!==_0x31d36e['buffer']||_0xa7dfd8['stride']!==_0x162370['stride']||_0xa7dfd8['size']!==_0x162370['size']||_0x12fa4a!==_0x162370['offset']){_0x1af33e=!(-0xe49+-0xac7+-0x9*-0x2c9);break;}const _0x144ab5=new os(_0x3eab35,_0x16c0bb,_0x2de9fd),_0x1c9ea5=_0x144ab5['lock'](),_0x5035f7=new Uint32Array(_0x1c9ea5);let _0x225248;if(_0x1af33e)_0x225248=new Uint32Array(_0x31d36e['buffer'],_0x31d36e['offset'],_0x2de9fd*_0x144ab5['format']['size']/(0x4c0+-0x1c*0x5b+-0x538*-0x1)),_0x5035f7['set'](_0x225248);else{let _0x3c5ee9,_0x5c96ef;for(_0x4f64d0=0x3e1*-0x7+0x275+-0x1d*-0xda;_0x4f64d0<_0x144ab5['format']['elements']['length'];++_0x4f64d0){_0x162370=_0x144ab5['format']['elements'][_0x4f64d0],_0x3c5ee9=_0x162370['stride']/(-0x2027*0x1+0x2402+0x1*-0x3d7),_0xa7dfd8=_0x398edc[_0x162370['name']],_0x5c96ef=_0xa7dfd8['stride']/(0x1*-0x1c76+0x65*0x21+0xf75*0x1),_0x225248=new Uint32Array(_0xa7dfd8['buffer'],_0xa7dfd8['offset'],(_0xa7dfd8['count']-(-0x279+0x939+-0x6bf))*_0x5c96ef+(_0xa7dfd8['size']+(-0x31*0x16+0x15*-0x10f+0x1a74))/(0xffc+-0x18b+-0xe6d));let _0x585e67=0x2*-0x518+-0x3*-0x185+-0x83*-0xb,_0x1aec93=_0x162370['offset']/(0x459*-0x3+0x3*-0x931+0x2*0x1451);const _0x2cebcd=Math['floor']((_0xa7dfd8['size']+(0x1cbd*-0x1+0x17*0x19d+0x2c9*-0x3))/(-0x46*0x57+-0x1acb+-0x3299*-0x1));for(_0x402b28=-0x5*0x39e+0xd*-0xc5+0x1c17;_0x402b28<_0x2de9fd;++_0x402b28){for(_0x49ceba=0x82+-0x1bc2+0x1b40;_0x49ceba<_0x2cebcd;++_0x49ceba)_0x5035f7[_0x1aec93+_0x49ceba]=_0x225248[_0x585e67+_0x49ceba];_0x585e67+=_0x5c96ef,_0x1aec93+=_0x3c5ee9;}}}return _0x144ab5['unlock'](),_0x144ab5;},RD=(_0x18996f,_0x4f56ae,_0x4fd09a,_0x5d65f4,_0x4b5e57,_0x477343)=>{const _0x1c9471={},_0xea199=[];for(const _0x2c5bae in _0x4f56ae)_0x4f56ae['hasOwnProp'+'erty'](_0x2c5bae)&&ec['hasOwnProp'+'erty'](_0x2c5bae)&&(_0x1c9471[_0x2c5bae]=_0x4f56ae[_0x2c5bae],_0xea199['push'](_0x2c5bae+':'+_0x4f56ae[_0x2c5bae]));_0xea199['sort']();const _0x2d9658=_0xea199['join']();let _0xa5bda8=_0x477343[_0x2d9658];if(!_0xa5bda8){const _0x5cf6f6={};for(const _0x5d9e96 in _0x1c9471){const _0x3edc89=_0x5d65f4[_0x4f56ae[_0x5d9e96]],_0x10db7d=sn(_0x3edc89,_0x4b5e57),_0x4f75f3=_0x4b5e57[_0x3edc89['bufferView']],_0x49847a=ec[_0x5d9e96],_0x261054=$o(_0x3edc89['type'])*bD(_0x3edc89['componentT'+'ype']),_0x3a2409=_0x4f75f3&&_0x4f75f3['hasOwnProp'+'erty']('byteStride')?_0x4f75f3['byteStride']:_0x261054;_0x5cf6f6[_0x49847a]={'buffer':_0x10db7d['buffer'],'size':_0x261054,'offset':_0x10db7d['byteOffset'],'stride':_0x3a2409,'count':_0x3edc89['count'],'components':$o(_0x3edc89['type']),'type':Jc(_0x3edc89['componentT'+'ype']),'normalize':_0x3edc89['normalized']};}_0x5cf6f6['hasOwnProp'+'erty'](Yt)||ED(_0x5cf6f6,_0x4fd09a),_0xa5bda8=PD(_0x18996f,_0x5cf6f6),_0x477343[_0x2d9658]=_0xa5bda8;}return _0xa5bda8;},ID=(_0xdd1ea1,_0x5ca6bf,_0x344e44,_0x1ae962,_0x6ad44e,_0x4f956e)=>{let _0x410e96,_0x54c1db,_0xeeb05c;const _0x320e78=_0x5ca6bf['joints'],_0x4181c1=_0x320e78['length'],_0x1e007b=[];if(_0x5ca6bf['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x5455d6=_0x5ca6bf['inverseBin'+'dMatrices'],_0x5756cb=sn(_0x344e44[_0x5455d6],_0x1ae962,!(-0x19a3+0x2ab+0x78*0x31)),_0x95eb59=[];for(_0x410e96=0x1*0x16c4+0xee3+-0xbd*0x33;_0x410e96<_0x4181c1;_0x410e96++){for(_0x54c1db=0x1*-0x1220+-0x18d6+0x263*0x12;_0x54c1db<0x3b3+-0x2*0x36e+0x339;_0x54c1db++)_0x95eb59[_0x54c1db]=_0x5756cb[_0x410e96*(0x2223+0x1078+0x39*-0xe3)+_0x54c1db];_0xeeb05c=new q(),_0xeeb05c['set'](_0x95eb59),_0x1e007b['push'](_0xeeb05c);}}else{for(_0x410e96=-0x3*0x291+0x10fd+-0x94a;_0x410e96<_0x4181c1;_0x410e96++)_0xeeb05c=new q(),_0x1e007b['push'](_0xeeb05c);}const _0x2679e9=[];for(_0x410e96=0x447*-0x3+0x1*0x127d+-0x4*0x16a;_0x410e96<_0x4181c1;_0x410e96++)_0x2679e9[_0x410e96]=_0x6ad44e[_0x320e78[_0x410e96]]['name'];const _0x5019c3=_0x2679e9['join']('#');let _0x2e848d=_0x4f956e['get'](_0x5019c3);return _0x2e848d||(_0x2e848d=new N0(_0xdd1ea1,_0x1e007b,_0x2679e9),_0x4f956e['set'](_0x5019c3,_0x2e848d)),_0x2e848d;},DD=(_0x5129e9,_0x4fda46,_0x1befe9,_0x28fca6,_0x2b7629,_0x1d517b,_0xff3590)=>{var _0x1e192f;const _0x8fc3a2=new Ie(_0x5129e9);_0x8fc3a2['aabb']=Sf(_0x1befe9[_0x4fda46['attributes']['POSITION']]);const _0x3ae689=[];for(const [_0x4f371b,_0x1c3c5a]of Object['entries'](_0x4fda46['attributes'])){const _0x5e1fcc=_0x1befe9[_0x1c3c5a],_0xf40520=ec[_0x4f371b],_0x370d00=Jc(_0x5e1fcc['componentT'+'ype']);_0x3ae689['push']({'semantic':_0xf40520,'components':$o(_0x5e1fcc['type']),'type':_0x370d00,'normalize':_0x5e1fcc['normalized']??(_0xf40520===At&&(_0x370d00===Kr||_0x370d00===el))});}if(_0xff3590['push'](new Promise((_0x489120,_0x2c9df0)=>{const _0x4345d6=_0x4fda46['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x28fca6[_0x4345d6['bufferView']]['slice']()['buffer'],(_0x428613,_0x784124)=>{var _0x3847f8;if(_0x428613)console['log'](_0x428613),_0x2c9df0(_0x428613);else{const _0x478602={};for(const [_0x80473c,_0x46d4ae]of Object['entries'](_0x4345d6['attributes']))_0x478602[ec[_0x80473c]]=_0x784124['attributes']['indexOf'](_0x46d4ae);_0x3ae689['sort']((_0xbea09a,_0x1b451d)=>_0x478602[_0xbea09a['semantic']]-_0x478602[_0x1b451d['semantic']]),(_0x3847f8=_0x4fda46['attributes'])!=null&&_0x3847f8['NORMAL']||_0x3ae689['splice'](0x95*0x1+-0xcd*0x8+0x5d4*0x1,0x132f+-0xe31*-0x2+-0x1*0x2f91,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x45bb44=new Et(_0x5129e9,_0x3ae689),_0x458c63=_0x784124['vertices']['byteLength']/_0x45bb44['size'],_0x4f1673=_0x458c63<=-0x1*0x1055+0x1ff02+-0xeeae?Pi:nr,_0x2345a6=_0x784124['indices']['byteLength']/(_0x458c63<=-0x673c*0x4+-0x1*-0x8b93+0x5c1*0x5c?-0xee1+-0x19f9+0x28dc:0x2031+0x1ef4+-0x3f21);v['call'](()=>{_0x458c63!==_0x1befe9[_0x4fda46['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x2345a6!==_0x1befe9[_0x4fda46['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x242988=new os(_0x5129e9,_0x45bb44,_0x458c63,{'data':_0x784124['vertices']}),_0x2b071c=new lr(_0x5129e9,_0x4f1673,_0x2345a6,jt,_0x784124['indices']);_0x8fc3a2['vertexBuff'+'er']=_0x242988,_0x8fc3a2['indexBuffe'+'r'][0x1*0xdf+0x687+-0x2*0x3b3]=_0x2b071c,_0x8fc3a2['primitive'][-0x9*-0x17+0x262e+-0x26fd]['type']=Ix(_0x4fda46),_0x8fc3a2['primitive'][-0x204c+-0x572*-0x5+0x512*0x1]['base']=0x11ce+-0x1cd*-0x7+-0x1e69,_0x8fc3a2['primitive'][-0x5ea*-0x2+0x17c7+-0x5*0x71f]['count']=_0x2b071c?_0x2345a6:_0x458c63,_0x8fc3a2['primitive'][0x1484+0x1809+-0x2c8d]['indexed']=!!_0x2b071c,_0x489120();}});})),(_0x1e192f=_0x4fda46==null?void(-0x5*0x721+0xea+0x22bb):_0x4fda46['extensions'])!=null&&_0x1e192f['KHR_materi'+'als_varian'+'ts']){const _0x179315=_0x4fda46['extensions']['KHR_materi'+'als_varian'+'ts'],_0x15dd91={};_0x179315['mappings']['forEach'](_0x5944b8=>{_0x5944b8['variants']['forEach'](_0x371dd9=>{_0x15dd91[_0x371dd9]=_0x5944b8['material'];});}),_0x2b7629[_0x8fc3a2['id']]=_0x15dd91;}return _0x1d517b[_0x8fc3a2['id']]=_0x4fda46['material'],_0x8fc3a2;},LD=(_0x4d4a4e,_0x10d135,_0x4b53cc,_0x5a1e74,_0x5212f3,_0x2a1847,_0x49ba69,_0x4e8be2,_0x505299)=>{const _0x3931ac=[];return _0x10d135['primitives']['forEach'](_0x421c01=>{var _0x3d40cc;if((_0x3d40cc=_0x421c01['extensions'])!=null&&_0x3d40cc['KHR_draco_'+'mesh_compr'+'ession'])_0x3931ac['push'](DD(_0x4d4a4e,_0x421c01,_0x4b53cc,_0x5a1e74,_0x2a1847,_0x49ba69,_0x505299));else{let _0x4ebb4b=_0x421c01['hasOwnProp'+'erty']('indices')?sn(_0x4b53cc[_0x421c01['indices']],_0x5a1e74,!(-0x1*-0x200d+-0x16fd+0x8*-0x122)):null;const _0x40aa8c=RD(_0x4d4a4e,_0x421c01['attributes'],_0x4ebb4b,_0x4b53cc,_0x5a1e74,_0x5212f3),_0x2192aa=Ix(_0x421c01),_0x3c3bf0=new Ie(_0x4d4a4e);if(_0x3c3bf0['vertexBuff'+'er']=_0x40aa8c,_0x3c3bf0['primitive'][-0x3*-0xbdd+0x1243+0x2*-0x1aed]['type']=_0x2192aa,_0x3c3bf0['primitive'][-0x115*-0x1f+0x712+-0x289d*0x1]['base']=-0x151b+0x6f*0x33+0x81*-0x2,_0x3c3bf0['primitive'][0x2a2+0x1025+-0x12c7]['indexed']=_0x4ebb4b!==null,_0x4ebb4b!==null){let _0x33b1ee;_0x4ebb4b instanceof Uint8Array?_0x33b1ee=pu:_0x4ebb4b instanceof Uint16Array?_0x33b1ee=Pi:_0x33b1ee=nr,_0x33b1ee===pu&&_0x4d4a4e['isWebGPU']&&(_0x33b1ee=Pi,_0x4ebb4b=new Uint16Array(_0x4ebb4b));const _0x46099f=new lr(_0x4d4a4e,_0x33b1ee,_0x4ebb4b['length'],jt,_0x4ebb4b);_0x3c3bf0['indexBuffe'+'r'][0x1*0x1e17+0x236d+0x4*-0x1061]=_0x46099f,_0x3c3bf0['primitive'][-0xed7+-0x1bd7*0x1+0x25f*0x12]['count']=_0x4ebb4b['length'];}else _0x3c3bf0['primitive'][0x4*-0x3f9+0x3+0xfe1]['count']=_0x40aa8c['numVertice'+'s'];if(_0x421c01['hasOwnProp'+'erty']('extensions')&&_0x421c01['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x3bde2f=_0x421c01['extensions']['KHR_materi'+'als_varian'+'ts'],_0x29bfb5={};_0x3bde2f['mappings']['forEach'](_0x17457e=>{_0x17457e['variants']['forEach'](_0x1787cb=>{_0x29bfb5[_0x1787cb]=_0x17457e['material'];});}),_0x2a1847[_0x3c3bf0['id']]=_0x29bfb5;}_0x49ba69[_0x3c3bf0['id']]=_0x421c01['material'];let _0x338cd9=_0x4b53cc[_0x421c01['attributes']['POSITION']];if(_0x3c3bf0['aabb']=Sf(_0x338cd9),_0x421c01['hasOwnProp'+'erty']('targets')){const _0x5192c8=[];_0x421c01['targets']['forEach']((_0x5ead9b,_0x32658e)=>{const _0x26f1b6={};_0x5ead9b['hasOwnProp'+'erty']('POSITION')&&(_0x338cd9=_0x4b53cc[_0x5ead9b['POSITION']],_0x26f1b6['deltaPosit'+'ions']=ma(_0x338cd9,_0x5a1e74),_0x26f1b6['aabb']=Sf(_0x338cd9)),_0x5ead9b['hasOwnProp'+'erty']('NORMAL')&&(_0x338cd9=_0x4b53cc[_0x5ead9b['NORMAL']],_0x26f1b6['deltaNorma'+'ls']=ma(_0x338cd9,_0x5a1e74)),_0x10d135['hasOwnProp'+'erty']('extras')&&_0x10d135['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x26f1b6['name']=_0x10d135['extras']['targetName'+'s'][_0x32658e]:_0x26f1b6['name']=_0x32658e['toString'](0xb35+-0x1d43+0x1218),_0x10d135['hasOwnProp'+'erty']('weights')&&(_0x26f1b6['defaultWei'+'ght']=_0x10d135['weights'][_0x32658e]),_0x26f1b6['preserveDa'+'ta']=_0x4e8be2['morphPrese'+'rveData'],_0x5192c8['push'](new Qc(_0x26f1b6));}),_0x3c3bf0['morph']=new F0(_0x5192c8,_0x4d4a4e,{'preferHighPrecision':_0x4e8be2['morphPrefe'+'rHighPreci'+'sion']});}_0x3931ac['push'](_0x3c3bf0);}}),_0x3931ac;},ft=(_0x22d22f,_0x2fb0b0,_0x4cb248)=>{var _0x1f7256;let _0xe6ca2e;const _0x274732=_0x22d22f['texCoord'];if(_0x274732){for(_0xe6ca2e=0x1e33+-0x1b8e+0x1*-0x2a5;_0xe6ca2e<_0x4cb248['length'];++_0xe6ca2e)_0x2fb0b0[_0x4cb248[_0xe6ca2e]+'MapUv']=_0x274732;}const _0x1a6f0d=[-0x2453+-0x142a+0x387d,-0x83+0x23c3+-0x2340],_0x2a789d=[-0x24c4+0x1a59+-0x536*-0x2,-0x12ee*0x2+0xfb+0x24e2],_0x403d5a=(_0x1f7256=_0x22d22f['extensions'])==null?void(0x458+0x44*-0x12+-0x1c*-0x4):_0x1f7256['KHR_textur'+'e_transfor'+'m'];if(_0x403d5a){const _0x556f04=_0x403d5a['offset']||_0x1a6f0d,_0x589b0f=_0x403d5a['scale']||_0x2a789d,_0x215879=_0x403d5a['rotation']?-_0x403d5a['rotation']*N['RAD_TO_DEG']:0x339+0xd05+-0x2*0x81f,_0x30c172=new $(_0x589b0f[-0x2095+-0x1837+0x38cc],_0x589b0f[0x2*0x96b+0x8*-0x34b+0x783]),_0x1f7bcd=new $(_0x556f04[0xbc4+0x1a31+0x3*-0xca7],-0x1ca*0xc+0x1*0xe5+0x1494-_0x589b0f[-0x1506+0x26a8+0x1*-0x11a1]-_0x556f04[-0x1d*0x91+-0x1*-0x16cf+0x1*-0x661]);for(_0xe6ca2e=-0x4e*0x38+0x7*0x151+0x29*0x31;_0xe6ca2e<_0x4cb248['length'];++_0xe6ca2e)_0x2fb0b0[_0x4cb248[_0xe6ca2e]+'MapTiling']=_0x30c172,_0x2fb0b0[_0x4cb248[_0xe6ca2e]+'MapOffset']=_0x1f7bcd,_0x2fb0b0[_0x4cb248[_0xe6ca2e]+('MapRotatio'+'n')]=_0x215879;}},FD=(_0x5e8f58,_0x1e560e,_0x1e2369)=>{let _0x40132b,_0x11b0f7;if(_0x5e8f58['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x40132b=_0x5e8f58['diffuseFac'+'tor'],_0x1e560e['diffuse']['set'](Math['pow'](_0x40132b[-0x1390+-0x2*-0x6a0+0x650],(-0x2db+-0x13bf+0x169b)/(0xa*-0x30+0x3*-0x379+0xc4d+0.20000000000000018)),Math['pow'](_0x40132b[-0x2196+0x3*-0x38a+-0x1*-0x2c35],(-0x3f5*0x8+-0x12b2+0x3*0x10c9)/(0x1139+-0xe4b*-0x1+0x6d*-0x4a+0.20000000000000018)),Math['pow'](_0x40132b[-0x136e+-0xc1*0x1+0x1431*0x1],(0xf*-0x117+-0x1066*0x2+-0x1062*-0x3)/(0x264c+0x1d*0x145+-0x1*0x4b1b+0.20000000000000018))),_0x1e560e['opacity']=_0x40132b[0x2143+-0x1*0x1446+0x12e*-0xb]):(_0x1e560e['diffuse']['set'](0x2136+0x91*0x31+-0x363*0x12,-0x3*-0xb14+0x3f5*0x1+-0x2530,-0xe*-0x26+-0x4f*0x47+0x13d6),_0x1e560e['opacity']=0xd5*0x5+-0x192b+0x21*0xa3),_0x5e8f58['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x286bbc=_0x5e8f58['diffuseTex'+'ture'];_0x11b0f7=_0x1e2369[_0x286bbc['index']],_0x1e560e['diffuseMap']=_0x11b0f7,_0x1e560e['diffuseMap'+'Channel']='rgb',_0x1e560e['opacityMap']=_0x11b0f7,_0x1e560e['opacityMap'+'Channel']='a',ft(_0x286bbc,_0x1e560e,['diffuse','opacity']);}if(_0x1e560e['useMetalne'+'ss']=!(0x2689+-0x227e+-0x40a),_0x5e8f58['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x40132b=_0x5e8f58['specularFa'+'ctor'],_0x1e560e['specular']['set'](Math['pow'](_0x40132b[-0x2673+0x481*-0x1+0xabd*0x4],(-0x4e1+0xcc*-0x7+0xa76)/(-0xe12+-0x1*0x2433+0x3247+0.20000000000000018)),Math['pow'](_0x40132b[-0x2da+0xf03*-0x1+0x11de],(-0x10*-0xd6+-0x222a+0x14cb)/(-0x1833+-0x1745+0x2f7a+0.20000000000000018)),Math['pow'](_0x40132b[0x15e4+-0x1807*-0x1+0x17*-0x1ff],(0xc48+0x22c*0x2+0x353*-0x5)/(0x1022+-0xe49+-0x1d7+0.20000000000000018)))):_0x1e560e['specular']['set'](-0x121f+0x67*0x2d+0x5*0x1,-0x1*-0x160e+-0x14fa+0x37*-0x5,0x14f7+-0x2646+0x1150),_0x5e8f58['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x1e560e['gloss']=_0x5e8f58['glossiness'+'Factor']:_0x1e560e['gloss']=-0x139d*-0x1+-0x2fe+-0x109e,_0x5e8f58['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x359328=_0x5e8f58['specularGl'+'ossinessTe'+'xture'];_0x1e560e['specularEn'+'coding']='srgb',_0x1e560e['specularMa'+'p']=_0x1e560e['glossMap']=_0x1e2369[_0x359328['index']],_0x1e560e['specularMa'+'pChannel']='rgb',_0x1e560e['glossMapCh'+'annel']='a',ft(_0x359328,_0x1e560e,['gloss','metalness']);}},OD=(_0x5b2bad,_0x251e9b,_0x2d6be4)=>{if(_0x5b2bad['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x251e9b['clearCoat']=_0x5b2bad['clearcoatF'+'actor']*(-0xd95+-0x2*-0x543+0x30f+0.25):_0x251e9b['clearCoat']=0x1b01+-0x90*-0x16+-0x2761*0x1,_0x5b2bad['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x14ff71=_0x5b2bad['clearcoatT'+'exture'];_0x251e9b['clearCoatM'+'ap']=_0x2d6be4[_0x14ff71['index']],_0x251e9b['clearCoatM'+'apChannel']='r',ft(_0x14ff71,_0x251e9b,['clearCoat']);}if(_0x5b2bad['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x251e9b['clearCoatG'+'loss']=_0x5b2bad['clearcoatR'+'oughnessFa'+'ctor']:_0x251e9b['clearCoatG'+'loss']=-0x13d4+-0xf71+0x2345,_0x5b2bad['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x31f181=_0x5b2bad['clearcoatR'+'oughnessTe'+'xture'];_0x251e9b['clearCoatG'+'lossMap']=_0x2d6be4[_0x31f181['index']],_0x251e9b['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x31f181,_0x251e9b,['clearCoatG'+'loss']);}if(_0x5b2bad['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x8dad4a=_0x5b2bad['clearcoatN'+'ormalTextu'+'re'];_0x251e9b['clearCoatN'+'ormalMap']=_0x2d6be4[_0x8dad4a['index']],ft(_0x8dad4a,_0x251e9b,['clearCoatN'+'ormal']),_0x8dad4a['hasOwnProp'+'erty']('scale')&&(_0x251e9b['clearCoatB'+'umpiness']=_0x8dad4a['scale']);}_0x251e9b['clearCoatG'+'lossInvert']=!(-0x1459*-0x1+-0x1*0x19d0+0x577);},kD=(_0x459f83,_0x43dffc,_0x3647b4)=>{_0x43dffc['useLightin'+'g']=!(0x21a7+0x3*-0x6d7+0xd21*-0x1),_0x43dffc['emissive']['copy'](_0x43dffc['diffuse']),_0x43dffc['emissiveMa'+'p']=_0x43dffc['diffuseMap'],_0x43dffc['emissiveMa'+'pUv']=_0x43dffc['diffuseMap'+'Uv'],_0x43dffc['emissiveMa'+'pTiling']['copy'](_0x43dffc['diffuseMap'+'Tiling']),_0x43dffc['emissiveMa'+'pOffset']['copy'](_0x43dffc['diffuseMap'+'Offset']),_0x43dffc['emissiveMa'+'pRotation']=_0x43dffc['diffuseMap'+'Rotation'],_0x43dffc['emissiveMa'+'pChannel']=_0x43dffc['diffuseMap'+'Channel'],_0x43dffc['emissiveVe'+'rtexColor']=_0x43dffc['diffuseVer'+'texColor'],_0x43dffc['emissiveVe'+'rtexColorC'+'hannel']=_0x43dffc['diffuseVer'+'texColorCh'+'annel'],_0x43dffc['useLightin'+'g']=!(-0x521*-0x2+-0x21e8+0x17a7),_0x43dffc['useSkybox']=!(0x98*-0x9+0x1543+-0xfea),_0x43dffc['diffuse']['set'](0xd*0x22f+0xc*-0x17f+-0xa6e,0xd18+0x1eab*0x1+-0xe96*0x3,0x2*-0x38f+-0x965+0x4*0x421),_0x43dffc['diffuseMap']=null,_0x43dffc['diffuseVer'+'texColor']=!(-0x1eaf*-0x1+0x1416*0x1+-0x32c4);},BD=(_0x361638,_0x302317,_0xdef8a8)=>{if(_0x302317['useMetalne'+'ssSpecular'+'Color']=!(0x2*-0xc8b+-0x2078+0x398e),_0x361638['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x302317['specularEn'+'coding']='srgb',_0x302317['specularMa'+'p']=_0xdef8a8[_0x361638['specularCo'+'lorTexture']['index']],_0x302317['specularMa'+'pChannel']='rgb',ft(_0x361638['specularCo'+'lorTexture'],_0x302317,['specular'])),_0x361638['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x46ea08=_0x361638['specularCo'+'lorFactor'];_0x302317['specular']['set'](Math['pow'](_0x46ea08[0x13f+0x7f1+0x188*-0x6],(0x1e6c+-0x1df5+-0x76)/(0x2637+0x26c9*0x1+-0x2d*0x1b6+0.20000000000000018)),Math['pow'](_0x46ea08[-0x740+0xbc*-0x7+-0xa7*-0x13],(-0x241a+0x1*-0x779+0x2b94)/(0x2*0xb65+-0x16*-0xc1+0x2*-0x13af+0.20000000000000018)),Math['pow'](_0x46ea08[-0x1f4a+0x665*-0x2+0x1b*0x1a2],(0x112*-0x15+0x2280+-0xc05)/(-0xf*0x1cf+-0x17*-0xa6+0xc39+0.20000000000000018)));}else _0x302317['specular']['set'](-0x2*0x291+0x1f61+-0x1a3e,-0x1277+-0x801+0x1a79,-0x2c*-0xbc+0x1142+0x3191*-0x1);_0x361638['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x302317['specularit'+'yFactor']=_0x361638['specularFa'+'ctor']:_0x302317['specularit'+'yFactor']=0x183*0x8+-0xdfc+-0x5*-0x61,_0x361638['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x302317['specularit'+'yFactorMap'+'Channel']='a',_0x302317['specularit'+'yFactorMap']=_0xdef8a8[_0x361638['specularTe'+'xture']['index']],ft(_0x361638['specularTe'+'xture'],_0x302317,['specularit'+'yFactor']));},ND=(_0x480f4d,_0x3ae884,_0x53a06e)=>{_0x480f4d['hasOwnProp'+'erty']('ior')&&(_0x3ae884['refraction'+'Index']=(-0x28b*-0xd+-0x268*0x1+-0x1ea6)/_0x480f4d['ior']);},zD=(_0x17b77b,_0x342eb8,_0x4425e0)=>{_0x17b77b['hasOwnProp'+'erty']('dispersion')&&(_0x342eb8['dispersion']=_0x17b77b['dispersion']);},UD=(_0x40fd6d,_0x22b8cd,_0x581246)=>{_0x22b8cd['blendType']=Kt,_0x22b8cd['useDynamic'+'Refraction']=!(-0xa33+-0x19*-0x178+0x5d*-0x49),_0x40fd6d['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x22b8cd['refraction']=_0x40fd6d['transmissi'+'onFactor']),_0x40fd6d['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x22b8cd['refraction'+'MapChannel']='r',_0x22b8cd['refraction'+'Map']=_0x581246[_0x40fd6d['transmissi'+'onTexture']['index']],ft(_0x40fd6d['transmissi'+'onTexture'],_0x22b8cd,['refraction']));},VD=(_0x5c7a38,_0x28b5a,_0x44fd9b)=>{if(_0x28b5a['useSheen']=!(-0x4*0x3e5+-0x1*-0x1b19+0x1*-0xb85),_0x5c7a38['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0xca2ee6=_0x5c7a38['sheenColor'+'Factor'];_0x28b5a['sheen']['set'](Math['pow'](_0xca2ee6[0x2384+-0x1*0x16eb+0xd7*-0xf],(-0x1*-0x6a3+0xd3*-0x2+-0x1d*0x2c)/(-0xbb*-0x3+-0xb15*0x1+0x473*0x2+0.20000000000000018)),Math['pow'](_0xca2ee6[0x1fda+0xcf5*0x2+-0x39c3],(0x1ab9+-0x112*-0xb+0x2f6*-0xd)/(-0x70*-0x26+-0x15c1+0x523*0x1+0.20000000000000018)),Math['pow'](_0xca2ee6[0x1*0x526+0x2a4*-0xe+0x1fd4],(0x4*-0x16a+0x1e5*-0x1+0x78e)/(0x2d7*-0x1+0x1f3d+-0x1*0x1c64+0.20000000000000018)));}else _0x28b5a['sheen']['set'](0x607*-0x5+-0x103*-0x1+-0x1d21*-0x1,-0x1a52+-0x2187+0x1ded*0x2,0x1e7*0x2+-0x7bb*-0x5+0xd1*-0x34);_0x5c7a38['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x28b5a['sheenMap']=_0x44fd9b[_0x5c7a38['sheenColor'+'Texture']['index']],_0x28b5a['sheenEncod'+'ing']='srgb',ft(_0x5c7a38['sheenColor'+'Texture'],_0x28b5a,['sheen'])),_0x28b5a['sheenGloss']=_0x5c7a38['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x5c7a38['sheenRough'+'nessFactor']:-0x1a6*-0xc+0x100*-0x1+0x2*-0x964,_0x5c7a38['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x28b5a['sheenGloss'+'Map']=_0x44fd9b[_0x5c7a38['sheenRough'+'nessTextur'+'e']['index']],_0x28b5a['sheenGloss'+'MapChannel']='a',ft(_0x5c7a38['sheenRough'+'nessTextur'+'e'],_0x28b5a,['sheenGloss'])),_0x28b5a['sheenGloss'+'Invert']=!(-0x30*-0xcf+0x37*-0x2f+-0x1cb7*0x1);},GD=(_0x4ef124,_0x348000,_0x38e3ce)=>{if(_0x348000['blendType']=Kt,_0x348000['useDynamic'+'Refraction']=!(0x25dd+0x1*0x196c+0x11*-0x3b9),_0x4ef124['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x348000['thickness']=_0x4ef124['thicknessF'+'actor']),_0x4ef124['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x348000['thicknessM'+'ap']=_0x38e3ce[_0x4ef124['thicknessT'+'exture']['index']],_0x348000['thicknessM'+'apChannel']='g',ft(_0x4ef124['thicknessT'+'exture'],_0x348000,['thickness'])),_0x4ef124['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x348000['attenuatio'+'nDistance']=_0x4ef124['attenuatio'+'nDistance']),_0x4ef124['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x13aa7e=_0x4ef124['attenuatio'+'nColor'];_0x348000['attenuatio'+'n']['set'](Math['pow'](_0x13aa7e[-0xa79+0x26bc+-0x1c43],(0x51e+-0x23*-0x103+-0x2886)/(0x332*0x1+-0x3*0xa6+0x6*-0x35+0.20000000000000018)),Math['pow'](_0x13aa7e[-0x1*-0x135a+-0x175c+-0x4f*-0xd],(0x1*0xb09+-0xfef*0x1+0x4e7)/(0x218f+-0x406*-0x6+-0x1*0x39b1+0.20000000000000018)),Math['pow'](_0x13aa7e[-0x1*-0x12bb+-0x3*-0x5cb+-0x241a],(-0x21a+-0x32f*0x1+0x54a)/(0x19*0x7+0x17df+-0x188c+0.20000000000000018)));}},HD=(_0x6aa94c,_0x219595,_0xb08bab)=>{_0x6aa94c['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x219595['emissiveIn'+'tensity']=_0x6aa94c['emissiveSt'+'rength']);},$D=(_0x54a3cc,_0x392310,_0x4b86a6)=>{_0x392310['useIridesc'+'ence']=!(-0x1af1+0xc9*-0x19+0x2e92),_0x54a3cc['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x392310['iridescenc'+'e']=_0x54a3cc['iridescenc'+'eFactor']),_0x54a3cc['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x392310['iridescenc'+'eMapChanne'+'l']='r',_0x392310['iridescenc'+'eMap']=_0x4b86a6[_0x54a3cc['iridescenc'+'eTexture']['index']],ft(_0x54a3cc['iridescenc'+'eTexture'],_0x392310,['iridescenc'+'e'])),_0x54a3cc['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x392310['iridescenc'+'eRefractio'+'nIndex']=_0x54a3cc['iridescenc'+'eIor']),_0x54a3cc['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x392310['iridescenc'+'eThickness'+'Min']=_0x54a3cc['iridescenc'+'eThickness'+'Minimum']),_0x54a3cc['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x392310['iridescenc'+'eThickness'+'Max']=_0x54a3cc['iridescenc'+'eThickness'+'Maximum']),_0x54a3cc['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x392310['iridescenc'+'eThickness'+'MapChannel']='g',_0x392310['iridescenc'+'eThickness'+'Map']=_0x4b86a6[_0x54a3cc['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x54a3cc['iridescenc'+'eThickness'+'Texture'],_0x392310,['iridescenc'+'eThickness']));},Dx=(_0x1f7207,_0x509d2d)=>{const _0x4f4b54=new cs();_0x1f7207['hasOwnProp'+'erty']('name')&&(_0x4f4b54['name']=_0x1f7207['name']),_0x4f4b54['occludeSpe'+'cular']=Bo,_0x4f4b54['diffuseVer'+'texColor']=!(-0x2*-0x1187+-0x1b07+-0x807),_0x4f4b54['specularTi'+'nt']=!(0x167+-0xed*-0x9+-0x9bc),_0x4f4b54['specularVe'+'rtexColor']=!(0x1724+-0x4*-0x219+-0x1f88*0x1),_0x4f4b54['specular']['set'](0x115*0x1+0x1279+0x23*-0x8f,0x1*0x2407+0x2610+-0x4a16,0x51f+0xa12+0x4*-0x3cc),_0x4f4b54['gloss']=-0x1e*0x1f+-0x1e00+0x1*0x21a3,_0x4f4b54['glossInver'+'t']=!(-0x14d6+-0x1dc0+0x3296),_0x4f4b54['useMetalne'+'ss']=!(0x6f0+0x1*0xa62+0x1152*-0x1);let _0x55a4bb,_0x1ac5b2;if(_0x1f7207['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x339ccb=_0x1f7207['pbrMetalli'+'cRoughness'];if(_0x339ccb['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x55a4bb=_0x339ccb['baseColorF'+'actor'],_0x4f4b54['diffuse']['set'](Math['pow'](_0x55a4bb[-0x2167+-0x1a11+0x3b78],(0x1fdd+0x2138+0x1c*-0x253)/(0x232e+0x3*-0x229+-0x1cb1+0.20000000000000018)),Math['pow'](_0x55a4bb[-0x4f*-0x39+-0x4*-0x829+-0x323a],(-0x236c+-0x23ba+0x4727)/(0x2439+-0xd3d+-0x1*0x16fa+0.20000000000000018)),Math['pow'](_0x55a4bb[-0x2*-0x5db+-0x24ed+-0x1939*-0x1],(-0x927*0x1+-0x64*0x22+0xb38*0x2)/(-0x4b1*0x2+-0x100a+-0x136*-0x15+0.20000000000000018))),_0x4f4b54['opacity']=_0x55a4bb[0xbe+-0x915+-0x2*-0x42d]),_0x339ccb['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x488dd3=_0x339ccb['baseColorT'+'exture'];_0x1ac5b2=_0x509d2d[_0x488dd3['index']],_0x4f4b54['diffuseMap']=_0x1ac5b2,_0x4f4b54['diffuseMap'+'Channel']='rgb',_0x4f4b54['opacityMap']=_0x1ac5b2,_0x4f4b54['opacityMap'+'Channel']='a',ft(_0x488dd3,_0x4f4b54,['diffuse','opacity']);}if(_0x339ccb['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x4f4b54['metalness']=_0x339ccb['metallicFa'+'ctor']),_0x339ccb['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x4f4b54['gloss']=_0x339ccb['roughnessF'+'actor']),_0x339ccb['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x3d19a2=_0x339ccb['metallicRo'+'ughnessTex'+'ture'];_0x4f4b54['metalnessM'+'ap']=_0x4f4b54['glossMap']=_0x509d2d[_0x3d19a2['index']],_0x4f4b54['metalnessM'+'apChannel']='b',_0x4f4b54['glossMapCh'+'annel']='g',ft(_0x3d19a2,_0x4f4b54,['gloss','metalness']);}}if(_0x1f7207['hasOwnProp'+'erty']('normalText'+'ure')){const _0x24904e=_0x1f7207['normalText'+'ure'];_0x4f4b54['normalMap']=_0x509d2d[_0x24904e['index']],ft(_0x24904e,_0x4f4b54,['normal']),_0x24904e['hasOwnProp'+'erty']('scale')&&(_0x4f4b54['bumpiness']=_0x24904e['scale']);}if(_0x1f7207['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x5ca010=_0x1f7207['occlusionT'+'exture'];_0x4f4b54['aoMap']=_0x509d2d[_0x5ca010['index']],_0x4f4b54['aoMapChann'+'el']='r',ft(_0x5ca010,_0x4f4b54,['ao']);}if(_0x1f7207['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x55a4bb=_0x1f7207['emissiveFa'+'ctor'],_0x4f4b54['emissive']['set'](Math['pow'](_0x55a4bb[0x1266+0x1724+-0x2*0x14c5],(-0x118e+-0x217*-0xf+-0x6e5*0x2)/(-0x1*0xf1a+0xa6e+-0x257*-0x2+0.20000000000000018)),Math['pow'](_0x55a4bb[0xb93+-0x2d7*-0x7+-0x1f73],(0x68d+0xcd*0x29+0x2761*-0x1)/(0xa3f+-0x761*0x5+0x1aa8+0.20000000000000018)),Math['pow'](_0x55a4bb[0xbd4+0x2*-0x90d+0xc9*0x8],(-0x64+-0x193e+0x19a3)/(0x2612+0x12c2+-0x81e*0x7+0.20000000000000018)))),_0x1f7207['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x2b579d=_0x1f7207['emissiveTe'+'xture'];_0x4f4b54['emissiveMa'+'p']=_0x509d2d[_0x2b579d['index']],ft(_0x2b579d,_0x4f4b54,['emissive']);}if(_0x1f7207['hasOwnProp'+'erty']('alphaMode'))switch(_0x1f7207['alphaMode']){case'MASK':_0x4f4b54['blendType']=is,_0x1f7207['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x4f4b54['alphaTest']=_0x1f7207['alphaCutof'+'f']:_0x4f4b54['alphaTest']=-0x16e9+-0x1172+0x1*0x285b+0.5;break;case'BLEND':_0x4f4b54['blendType']=Kt,_0x4f4b54['depthWrite']=!(-0x832+-0xc34+0x1467*0x1);break;default:case'OPAQUE':_0x4f4b54['blendType']=is;break;}else _0x4f4b54['blendType']=is;_0x1f7207['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x4f4b54['twoSidedLi'+'ghting']=_0x1f7207['doubleSide'+'d'],_0x4f4b54['cull']=_0x1f7207['doubleSide'+'d']?mt:rn):(_0x4f4b54['twoSidedLi'+'ghting']=!(0xc91+0x389+-0x1019),_0x4f4b54['cull']=rn);const _0x5ce22e={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':$D,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x1f7207['hasOwnProp'+'erty']('extensions'))for(const _0x301ca7 in _0x1f7207['extensions']){const _0x2c30d3=_0x5ce22e[_0x301ca7];_0x2c30d3!==void(-0x243+-0x107b+0x12be)&&_0x2c30d3(_0x1f7207['extensions'][_0x301ca7],_0x4f4b54,_0x509d2d);}return _0x4f4b54['update'](),_0x4f4b54;},WD=(_0x48e582,_0x43178d,_0x28eb02,_0x4b3360,_0x1efa9c,_0x3417dc,_0x134cdb)=>{const _0x2db451=_0x470966=>new Jh($o(_0x470966['type']),ma(_0x470966,_0x4b3360)),_0x206e84={'STEP':W0,'LINEAR':ju,'CUBICSPLINE':Yu},_0x13a53e={},_0x5ba622={},_0x2b65b3={};let _0x5b7648=0x2*-0xedb+-0x1f97*0x1+0x3d4e,_0x3eb111;for(_0x3eb111=-0x24a6+-0x1ad1*-0x1+0x9d5*0x1;_0x3eb111<_0x48e582['samplers']['length'];++_0x3eb111){const _0x33625e=_0x48e582['samplers'][_0x3eb111];_0x13a53e['hasOwnProp'+'erty'](_0x33625e['input'])||(_0x13a53e[_0x33625e['input']]=_0x2db451(_0x28eb02[_0x33625e['input']])),_0x5ba622['hasOwnProp'+'erty'](_0x33625e['output'])||(_0x5ba622[_0x33625e['output']]=_0x2db451(_0x28eb02[_0x33625e['output']]));const _0x1858cb=_0x33625e['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x206e84['hasOwnProp'+'erty'](_0x33625e['interpolat'+'ion'])?_0x206e84[_0x33625e['interpolat'+'ion']]:ju,_0x510422={'paths':[],'input':_0x33625e['input'],'output':_0x33625e['output'],'interpolation':_0x1858cb};_0x2b65b3[_0x3eb111]=_0x510422;}const _0x1a199f=[],_0x178d54={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x2f19e7=_0x4461d7=>{const _0x16039b=[];for(;_0x4461d7;)_0x16039b['unshift'](_0x4461d7['name']),_0x4461d7=_0x4461d7['parent'];return _0x16039b;},_0x2aa3a1=(_0x50b2c3,_0x57c5d0,_0x478c19)=>{const _0x32e617=_0x5ba622[_0x50b2c3['output']];if(!_0x32e617){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x478c19+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x8e81d8;if(_0x3417dc&&_0x3417dc[_0x57c5d0['mesh']]){const _0x583841=_0x3417dc[_0x57c5d0['mesh']];_0x583841['hasOwnProp'+'erty']('extras')&&_0x583841['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x8e81d8=_0x583841['extras']['targetName'+'s']);}const _0x493431=_0x32e617['data'],_0x742b15=_0x493431['length']/_0x13a53e[_0x50b2c3['input']]['data']['length'],_0x5ed983=_0x493431['length']/_0x742b15,_0x1f22a0=_0x5ed983*(0x1c24+-0x244b*-0x1+-0x17*0x2cd),_0x59f5a6=new ArrayBuffer(_0x1f22a0*_0x742b15);for(let _0x450909=-0x26bc+0x779+-0x35*-0x97;_0x450909<_0x742b15;_0x450909++){const _0x4b6087=new Float32Array(_0x59f5a6,_0x1f22a0*_0x450909,_0x5ed983);for(let _0x508a87=0x1*-0x195e+-0x7e*0x17+0x24b0;_0x508a87<_0x5ed983;_0x508a87++)_0x4b6087[_0x508a87]=_0x493431[_0x508a87*_0x742b15+_0x450909];const _0x58d5a6=new Jh(-0x2*-0xbb2+0x2*-0x1af+-0x1405,_0x4b6087),_0x124a05=_0x8e81d8!=null&&_0x8e81d8[_0x450909]?'name.'+_0x8e81d8[_0x450909]:_0x450909;_0x5ba622[-_0x5b7648]=_0x58d5a6;const _0x5917ca={'paths':[{'entityPath':_0x478c19,'component':'graph','propertyPath':['weight.'+_0x124a05]}],'input':_0x50b2c3['input'],'output':-_0x5b7648,'interpolation':_0x50b2c3['interpolat'+'ion']};_0x5b7648++,_0x2b65b3['morphCurve'+'-'+_0x3eb111+'-'+_0x450909]=_0x5917ca;}};for(_0x3eb111=0xbfb+-0x2da+-0x39*0x29;_0x3eb111<_0x48e582['channels']['length'];++_0x3eb111){const _0x3ae791=_0x48e582['channels'][_0x3eb111],_0x364bd7=_0x3ae791['target'],_0x188d5c=_0x2b65b3[_0x3ae791['sampler']],_0xfa7fed=_0x1efa9c[_0x364bd7['node']],_0x2131a5=_0x134cdb[_0x364bd7['node']],_0x5e4426=_0x2f19e7(_0xfa7fed);_0x364bd7['path']['startsWith']('weights')?(_0x2aa3a1(_0x188d5c,_0x2131a5,_0x5e4426),_0x2b65b3[_0x3ae791['sampler']]['morphCurve']=!(-0x7eb+0x3*0x7f7+-0x332*0x5)):_0x188d5c['paths']['push']({'entityPath':_0x5e4426,'component':'graph','propertyPath':[_0x178d54[_0x364bd7['path']]]});}const _0x3458db=[],_0x788c48=[],_0x6f8d82=[];for(const _0x24e390 in _0x13a53e)_0x3458db['push'](_0x13a53e[_0x24e390]),_0x13a53e[_0x24e390]=_0x3458db['length']-(-0x73b*-0x5+0x1681+-0x3aa7);for(const _0x11feb9 in _0x5ba622)_0x788c48['push'](_0x5ba622[_0x11feb9]),_0x5ba622[_0x11feb9]=_0x788c48['length']-(-0x347+0x2*0x1ee+-0x94);for(const _0x45d224 in _0x2b65b3){const _0x342191=_0x2b65b3[_0x45d224];_0x342191['morphCurve']||(_0x6f8d82['push'](new Px(_0x342191['paths'],_0x13a53e[_0x342191['input']],_0x5ba622[_0x342191['output']],_0x342191['interpolat'+'ion'])),_0x342191['paths']['length']>-0xff7+0x1*-0x30e+-0x1305*-0x1&&_0x342191['paths'][0x10da+0x85e+0x8*-0x327]['propertyPa'+'th'][-0x26a3+0xca0*-0x3+0x4c83]==='localRotat'+'ion'&&_0x342191['interpolat'+'ion']!==Yu&&_0x1a199f['push'](_0x6f8d82[_0x6f8d82['length']-(-0xad7+0x17f0+-0xd18)]['output']));}_0x1a199f['sort']();let _0x421ff6=null,_0x5f4725;for(_0x3eb111=-0x144e+0x8c5+0xb89;_0x3eb111<_0x1a199f['length'];++_0x3eb111){const _0x3f1bc4=_0x1a199f[_0x3eb111];if(_0x3eb111===-0x84d+-0x2*-0x106+0x641||_0x3f1bc4!==_0x421ff6){if(_0x5f4725=_0x788c48[_0x3f1bc4],_0x5f4725['components']===0x3b8+-0x2f*-0x8d+-0x1d97){const _0x2582ff=_0x5f4725['data'],_0x540e22=_0x2582ff['length']-(-0x56*0x3d+-0x10fd+0x257f);for(let _0x3c94b6=0x3e*-0x59+-0x250a+0x3a98;_0x3c94b6<_0x540e22;_0x3c94b6+=-0x22b2+-0x619*-0x5+0x17*0x2f)_0x2582ff[_0x3c94b6+(0x1a6f+0x2*-0x1f9+-0x167d)]*_0x2582ff[_0x3c94b6+(0xa51+0xb78+-0x15c5)]+_0x2582ff[_0x3c94b6+(0x6b*-0x7+-0x122b+0x1519)]*_0x2582ff[_0x3c94b6+(0x2333+-0x2405+0xd7*0x1)]+_0x2582ff[_0x3c94b6+(0x7a4+-0x9fe+0x1*0x25c)]*_0x2582ff[_0x3c94b6+(-0x1b5b+-0x121f+0x1*0x2d80)]+_0x2582ff[_0x3c94b6+(-0x963+-0x2513*-0x1+-0x1bad)]*_0x2582ff[_0x3c94b6+(-0x267e+-0x1*-0x3d1+0x22b4)]<-0xb24+0x1e05+-0x12e1&&(_0x2582ff[_0x3c94b6+(-0xd55*-0x2+-0xefb*-0x1+0x1*-0x29a1)]*=-(0x1*0xa5d+0x1aa0+-0x24fc),_0x2582ff[_0x3c94b6+(0x17*-0x11+-0x2057*0x1+-0x21e3*-0x1)]*=-(0x3*0xab7+-0xadf*-0x2+0xf2*-0x39),_0x2582ff[_0x3c94b6+(0x17c7+-0x2207+0x20e*0x5)]*=-(0x7e6+0x1045+0x1*-0x182a),_0x2582ff[_0x3c94b6+(0x16fc+0xcea+0x3*-0xbf5)]*=-(-0xb6b*0x3+-0x219d*-0x1+0xa5));}_0x421ff6=_0x3f1bc4;}}let _0x1dee9c=0x1a22+-0x1b20+0xfe;for(_0x3eb111=-0x23e5+0x30*0xf+0x2115*0x1;_0x3eb111<_0x3458db['length'];_0x3eb111++)_0x5f4725=_0x3458db[_0x3eb111]['_data'],_0x1dee9c=Math['max'](_0x1dee9c,_0x5f4725['length']===0x7ce+0x213f+-0x153*0x1f?0x1*0xfad+0x4b7*-0x1+-0xaf6:_0x5f4725[_0x5f4725['length']-(-0x407*-0x1+0x8b*-0x37+0x19d7)]);return new Ri(_0x48e582['hasOwnProp'+'erty']('name')?_0x48e582['name']:'animation_'+_0x43178d,_0x1dee9c,_0x3458db,_0x788c48,_0x6f8d82);},eh=new q(),qn=new T(),qD=(_0x34988c,_0x4e9740,_0x453b14)=>{const _0x2de402=new De();if(_0x34988c['hasOwnProp'+'erty']('name')&&_0x34988c['name']['length']>0x5*-0x3b2+0x1*-0x24eb+0x3765?_0x2de402['name']=_0x34988c['name']:_0x2de402['name']='node_'+_0x4e9740,_0x34988c['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x34988c['matrix']),eh['getTransla'+'tion'](qn),_0x2de402['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0x2de402['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0x2de402['setLocalSc'+'ale'](qn)),_0x34988c['hasOwnProp'+'erty']('rotation')){const _0x50ad35=_0x34988c['rotation'];_0x2de402['setLocalRo'+'tation'](_0x50ad35[0xd*-0xc7+-0x12b3+0x1cce],_0x50ad35[-0x1f2b+-0xd*0x189+0x3321],_0x50ad35[0x1430+-0x13ed+-0x41],_0x50ad35[-0x11*-0x121+0x1*-0x1fdb+0x1*0xcad]);}if(_0x34988c['hasOwnProp'+'erty']('translatio'+'n')){const _0x26f663=_0x34988c['translatio'+'n'];_0x2de402['setLocalPo'+'sition'](_0x26f663[0x1857+0x270e+-0x3f65],_0x26f663[0x2399+-0x1331+-0x11*0xf7],_0x26f663[-0x382*-0x7+0x3*0x2f+-0x1919]);}if(_0x34988c['hasOwnProp'+'erty']('scale')){const _0xbaf4f0=_0x34988c['scale'];_0x2de402['setLocalSc'+'ale'](_0xbaf4f0[0x16b2+0x24e2*0x1+0x29*-0x174],_0xbaf4f0[0x1*0x238f+0x2229+0x295*-0x1b],_0xbaf4f0[-0x31*0x58+-0x2623+0x36fd]);}return _0x34988c['hasOwnProp'+'erty']('extensions')&&_0x34988c['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x453b14['set'](_0x34988c,{'ext':_0x34988c['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x2de402;},XD=(_0x362ae9,_0xb58ced)=>{const _0x3344c6=_0x362ae9['type']==='orthograph'+'ic'?ua:Gs,_0x1292b6=_0x3344c6===ua?_0x362ae9['orthograph'+'ic']:_0x362ae9['perspectiv'+'e'],_0x4f1641={'enabled':!(0x1*0xc9a+-0x2070+0x3*0x69d),'projection':_0x3344c6,'nearClip':_0x1292b6['znear'],'aspectRatioMode':Ip};_0x1292b6['zfar']&&(_0x4f1641['farClip']=_0x1292b6['zfar']),_0x3344c6===ua?(_0x4f1641['orthoHeigh'+'t']=(0x763*-0x2+0x1*0xda0+0x126+0.5)*_0x1292b6['ymag'],_0x1292b6['ymag']&&(_0x4f1641['aspectRati'+'oMode']=Bu,_0x4f1641['aspectRati'+'o']=_0x1292b6['xmag']/_0x1292b6['ymag'])):(_0x4f1641['fov']=_0x1292b6['yfov']*N['RAD_TO_DEG'],_0x1292b6['aspectRati'+'o']&&(_0x4f1641['aspectRati'+'oMode']=Bu,_0x4f1641['aspectRati'+'o']=_0x1292b6['aspectRati'+'o']));const _0x9b6b4c=new $e(_0x362ae9['name']);return _0x9b6b4c['addCompone'+'nt']('camera',_0x4f1641),_0x9b6b4c;},jD=(_0x2625ce,_0x6a9815)=>{const _0x28357f={'enabled':!(0x1f31+-0x13*-0x3d+-0x29*0xdf),'type':_0x2625ce['type']==='point'?'omni':_0x2625ce['type'],'color':_0x2625ce['hasOwnProp'+'erty']('color')?new Y(_0x2625ce['color']):Y['WHITE'],'range':_0x2625ce['hasOwnProp'+'erty']('range')?_0x2625ce['range']:-0x2*-0x21f7+0x2d29+-0x4a08,'falloffMode':Wb,'intensity':_0x2625ce['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x2625ce['intensity'],-0x2d*-0xb+0xee9*0x1+-0x10d8,0x9f7*-0x3+0x8d*-0x3d+0x3f80):-0x1267*-0x1+-0x26df+0x1479};_0x2625ce['hasOwnProp'+'erty']('spot')&&(_0x28357f['innerConeA'+'ngle']=_0x2625ce['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x2625ce['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:0xd*-0x31+-0x14db*0x1+-0x12*-0x14c,_0x28357f['outerConeA'+'ngle']=_0x2625ce['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x2625ce['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(-0xa85*0x1+-0x700*-0x2+0x377*-0x1)),_0x2625ce['hasOwnProp'+'erty']('intensity')&&(_0x28357f['luminance']=_0x2625ce['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x28357f['type']],_0x28357f['outerConeA'+'ngle'],_0x28357f['innerConeA'+'ngle']));const _0x3f1c8a=new $e(_0x6a9815['name']);return _0x3f1c8a['rotateLoca'+'l'](0xb62+-0x254*-0x1+-0xd5c,0x188f+-0x799+0x1*-0x10f6,0x21a8+-0x3*0x3f3+0x745*-0x3),_0x3f1c8a['addCompone'+'nt']('light',_0x28357f),_0x3f1c8a;},YD=(_0x5c6f49,_0xc26d4d,_0x57ae9d,_0x33efdc)=>{if(!_0xc26d4d['hasOwnProp'+'erty']('skins')||_0xc26d4d['skins']['length']===0x29*0xb5+0x124b*-0x1+0x4a*-0x25)return[];const _0x354750=new Map();return _0xc26d4d['skins']['map'](_0x5d8277=>ID(_0x5c6f49,_0x5d8277,_0xc26d4d['accessors'],_0x33efdc,_0x57ae9d,_0x354750));},KD=(_0x1f8f06,_0x21b374,_0x1efb4c,_0x33a525)=>{var _0x4ba101,_0x1871e9,_0x14d1df;const _0x3e210d={},_0x22ddc7={},_0x1ddd4d={},_0x55b134=[];return{'meshes':!_0x33a525['skipMeshes']&&((_0x4ba101=_0x21b374==null?void(-0x1b*0x123+0x881*-0x1+0x2732):_0x21b374['meshes'])==null?void(0x1030+-0x1*0x150b+0x4db):_0x4ba101['length'])&&((_0x1871e9=_0x21b374==null?void(0x1263+0x4a3*-0x1+-0xdc0):_0x21b374['accessors'])==null?void(0x1a31+-0x5f8+-0x1439):_0x1871e9['length'])&&((_0x14d1df=_0x21b374==null?void(0x1d67+0x1bbf+0x3926*-0x1):_0x21b374['bufferView'+'s'])==null?void(-0xdf5+-0x2194+0x2f89):_0x14d1df['length'])?_0x21b374['meshes']['map'](_0x2b0b87=>LD(_0x1f8f06,_0x2b0b87,_0x21b374['accessors'],_0x1efb4c,_0x3e210d,_0x22ddc7,_0x1ddd4d,_0x33a525,_0x55b134)):[],'meshVariants':_0x22ddc7,'meshDefaultMaterials':_0x1ddd4d,'promises':_0x55b134};},ZD=(_0x1be3a9,_0x52cd80,_0x51c042)=>{var _0x4975cf,_0x5b8696,_0x5bcee1;if(!_0x1be3a9['hasOwnProp'+'erty']('materials')||_0x1be3a9['materials']['length']===0xd6*-0x1a+0x12eb+0x2d1)return[];const _0xcce0e0=(_0x4975cf=_0x51c042==null?void(0x95c+-0x2*0xede+-0x4*-0x518):_0x51c042['material'])==null?void(-0x3*-0x46e+-0x19*-0x149+-0x2d6b):_0x4975cf['preprocess'],_0x1f2db3=((_0x5b8696=_0x51c042==null?void(-0x4cb+-0x21e9+0x26b4):_0x51c042['material'])==null?void(0x1939+-0x18b3+-0x86):_0x5b8696['process'])??Dx,_0x134da9=(_0x5bcee1=_0x51c042==null?void(0x21e9*-0x1+0x13*0x27+0x2*0xf82):_0x51c042['material'])==null?void(0x577*0x5+0x762+0x5*-0x6f1):_0x5bcee1['postproces'+'s'];return _0x1be3a9['materials']['map'](_0x22037c=>{_0xcce0e0&&_0xcce0e0(_0x22037c);const _0x4dfef2=_0x1f2db3(_0x22037c,_0x52cd80);return _0x134da9&&_0x134da9(_0x22037c,_0x4dfef2),_0x4dfef2;});},QD=_0x56589b=>{if(!_0x56589b['hasOwnProp'+'erty']('extensions')||!_0x56589b['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x292e3b=_0x56589b['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x3a70da={};for(let _0x5550bb=0x7*-0x3c5+0x1*0xdad+-0x1*-0xcb6;_0x5550bb<_0x292e3b['length'];_0x5550bb++)_0x3a70da[_0x292e3b[_0x5550bb]['name']]=_0x5550bb;return _0x3a70da;},JD=(_0x343966,_0x1561bc,_0x4aa251,_0x106bff)=>{var _0x3e7c6a,_0x5cb999;if(!_0x343966['hasOwnProp'+'erty']('animations')||_0x343966['animations']['length']===0x7a*0x13+0x3*0xa79+-0x2879)return[];const _0x2b02bf=(_0x3e7c6a=_0x106bff==null?void(-0x137*-0x9+0x5*0x215+-0x1*0x1558):_0x106bff['animation'])==null?void(0x62d+-0x1b+-0x612*0x1):_0x3e7c6a['preprocess'],_0x12b5a8=(_0x5cb999=_0x106bff==null?void(0xef7+-0x98+-0x1*0xe5f):_0x106bff['animation'])==null?void(-0x11a8+0x1daa+-0xc02):_0x5cb999['postproces'+'s'];return _0x343966['animations']['map']((_0x353588,_0x3ab56b)=>{_0x2b02bf&&_0x2b02bf(_0x353588);const _0x2d9f82=WD(_0x353588,_0x3ab56b,_0x343966['accessors'],_0x4aa251,_0x1561bc,_0x343966['meshes'],_0x343966['nodes']);return _0x12b5a8&&_0x12b5a8(_0x353588,_0x2d9f82),_0x2d9f82;});},e2=(_0x52a975,_0x20f53e,_0x51ea57,_0x17c5a5)=>{const _0x13e4f8=_0x20f53e['accessors'];_0x51ea57['forEach']((_0x44cedf,_0x4eb9e7)=>{const _0xe08149=_0x44cedf['ext']['attributes'];let _0x2c8078;if(_0xe08149['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x1e62d8=_0x13e4f8[_0xe08149['TRANSLATIO'+'N']];_0x2c8078=ma(_0x1e62d8,_0x17c5a5);}let _0x21f407;if(_0xe08149['hasOwnProp'+'erty']('ROTATION')){const _0x389191=_0x13e4f8[_0xe08149['ROTATION']];_0x21f407=ma(_0x389191,_0x17c5a5);}let _0x263cc7;if(_0xe08149['hasOwnProp'+'erty']('SCALE')){const _0x468394=_0x13e4f8[_0xe08149['SCALE']];_0x263cc7=ma(_0x468394,_0x17c5a5);}const _0x43c8cc=(_0x2c8078?_0x2c8078['length']/(-0x3*-0xc61+-0x16db+0x119*-0xd):0x1d0b+0x943+-0x264e)||(_0x21f407?_0x21f407['length']/(0x245d+-0x20c8*-0x1+0x170b*-0x3):-0x1fdb+0x264b*0x1+-0x670)||(_0x263cc7?_0x263cc7['length']/(-0xee3*0x1+-0x9a2+0x1888):-0x2*-0x1d2+0x1*0x112e+-0x42a*0x5);if(_0x43c8cc){const _0x8d2064=new Float32Array(_0x43c8cc*(0x1b44+0x1*0xcb3+-0x27e7)),_0x251b2f=new T(),_0x3644d1=new se(),_0x2450b0=new T(-0x425*-0x9+0x384+-0x28d*0x10,-0x15c8+-0x1*-0xdfb+-0x1*-0x7ce,0x2*-0x105+0x37*0x7b+0x1862*-0x1),_0x2241fb=new q();let _0x16fbbf=-0x25f1+-0x1cff+0x42f0;for(let _0xf259a9=0x358+-0x1279*-0x2+-0x284a;_0xf259a9<_0x43c8cc;_0xf259a9++){const _0x54de66=_0xf259a9*(-0x3*0x23f+0x688+0x38);if(_0x2c8078&&_0x251b2f['set'](_0x2c8078[_0x54de66],_0x2c8078[_0x54de66+(0x1*-0x3fd+0x1c*-0x14d+0x286a)],_0x2c8078[_0x54de66+(0xa8*0x27+0x77e+-0x108a*0x2)]),_0x21f407){const _0x394695=_0xf259a9*(0x1*-0x7af+-0xc02+0x13b5);_0x3644d1['set'](_0x21f407[_0x394695],_0x21f407[_0x394695+(0x1caa+0xbca+0x13*-0x221)],_0x21f407[_0x394695+(-0x228d+0x5*-0x401+0x1f3*0x1c)],_0x21f407[_0x394695+(0x1870+0x2319+-0x3b86)]);}_0x263cc7&&_0x2450b0['set'](_0x263cc7[_0x54de66],_0x263cc7[_0x54de66+(0x68f*-0x3+-0x626*0x1+0x227*0xc)],_0x263cc7[_0x54de66+(0x3a*-0x9b+-0x1124+0x3444)]),_0x2241fb['setTRS'](_0x251b2f,_0x3644d1,_0x2450b0);for(let _0x118638=-0xe46+-0x19*-0xd4+-0x1*0x66e;_0x118638<-0x23fd+-0x179a*-0x1+-0x1*-0xc73;_0x118638++)_0x8d2064[_0x16fbbf++]=_0x2241fb['data'][_0x118638];}_0x44cedf['matrices']=_0x8d2064;}});},t2=(_0x3c4692,_0x6a3062,_0x29ce5b)=>{var _0x1115e1,_0x1a7744,_0x1cdc63;if(!_0x3c4692['hasOwnProp'+'erty']('nodes')||_0x3c4692['nodes']['length']===0xdcf+0x1*-0x18f5+-0x593*-0x2)return[];const _0x3610d4=(_0x1115e1=_0x6a3062==null?void(-0x1bdc+0x2*-0x12d+0x1e36*0x1):_0x6a3062['node'])==null?void(0x4d0+0x1*0x835+-0xb*0x12f):_0x1115e1['preprocess'],_0x4d3588=((_0x1a7744=_0x6a3062==null?void(-0x1d75+-0xdcf+-0x2*-0x15a2):_0x6a3062['node'])==null?void(0x1b23+-0x2282+0x75f):_0x1a7744['process'])??qD,_0x534ae5=(_0x1cdc63=_0x6a3062==null?void(0xc*0x2fb+-0x18b4+-0x6*0x1d8):_0x6a3062['node'])==null?void(0x2*0x1d5+0x869+-0xb*0x119):_0x1cdc63['postproces'+'s'],_0x2282bb=_0x3c4692['nodes']['map']((_0x328d78,_0x204a35)=>{_0x3610d4&&_0x3610d4(_0x328d78);const _0x51971d=_0x4d3588(_0x328d78,_0x204a35,_0x29ce5b);return _0x534ae5&&_0x534ae5(_0x328d78,_0x51971d),_0x51971d;});for(let _0x2d597d=-0x2*0x1083+0x1e4e+0x1d*0x18;_0x2d597d<_0x3c4692['nodes']['length'];++_0x2d597d){const _0xd65ae2=_0x3c4692['nodes'][_0x2d597d];if(_0xd65ae2['hasOwnProp'+'erty']('children')){const _0x4cc22c=_0x2282bb[_0x2d597d],_0x5d39ed={};for(let _0x216720=-0xa75*-0x1+-0x953+-0x1*0x122;_0x216720<_0xd65ae2['children']['length'];++_0x216720){const _0x3ca116=_0x2282bb[_0xd65ae2['children'][_0x216720]];_0x3ca116['parent']||(_0x5d39ed['hasOwnProp'+'erty'](_0x3ca116['name'])?_0x3ca116['name']+=_0x5d39ed[_0x3ca116['name']]++:_0x5d39ed[_0x3ca116['name']]=-0x3d1*0x7+-0x1c1*0xe+0x19a3*0x2,_0x4cc22c['addChild'](_0x3ca116));}}}return _0x2282bb;},s2=(_0x3e6733,_0x1c7213)=>{var _0x1afb9a;const _0x1b2f15=[],_0xb85e31=_0x3e6733['scenes']['length'];if(_0xb85e31===0x1163*0x1+0x2*0x1057+-0x3210&&((_0x1afb9a=_0x3e6733['scenes'][0x1e6*0x10+-0x23e5+0x585]['nodes'])==null?void(-0x82b+-0x1ace+0x22f9*0x1):_0x1afb9a['length'])===-0x194*-0xd+-0x1c72+0x3*0x2a5){const _0x18a5e7=_0x3e6733['scenes'][-0xd*-0x139+-0x15a6+0x5c1]['nodes'][0x3*0x527+-0x2fe*0x7+-0x5*-0x119];_0x1b2f15['push'](_0x1c7213[_0x18a5e7]);}else for(let _0x347230=0x21eb+0x88d+0x3*-0xe28;_0x347230<_0xb85e31;_0x347230++){const _0x407b53=_0x3e6733['scenes'][_0x347230];if(_0x407b53['nodes']){const _0x44e463=new De(_0x407b53['name']);for(let _0x498a83=0x125e+0x1*-0x1d69+0xb0b;_0x498a83<_0x407b53['nodes']['length'];_0x498a83++){const _0x31c7e1=_0x1c7213[_0x407b53['nodes'][_0x498a83]];_0x44e463['addChild'](_0x31c7e1);}_0x1b2f15['push'](_0x44e463);}}return _0x1b2f15;},i2=(_0x3d1b29,_0x1ba09c,_0x79f74b)=>{var _0x56cee7,_0x992aac,_0x55d914;let _0x452a02=null;if(_0x3d1b29['hasOwnProp'+'erty']('nodes')&&_0x3d1b29['hasOwnProp'+'erty']('cameras')&&_0x3d1b29['cameras']['length']>-0x886+0x2*0x12a8+0x37*-0x86){const _0x58166b=(_0x56cee7=_0x79f74b==null?void(-0x1126+-0x249c+0x7*0x7ae):_0x79f74b['camera'])==null?void(-0x156e+-0xb*0x117+0x216b):_0x56cee7['preprocess'],_0xb77758=((_0x992aac=_0x79f74b==null?void(-0x6a*-0x29+-0x187d+0x783):_0x79f74b['camera'])==null?void(-0x315*0x3+0xe4*0x2+0x27d*0x3):_0x992aac['process'])??XD,_0x1bf9bb=(_0x55d914=_0x79f74b==null?void(-0x160a+-0x101*-0xa+-0x200*-0x6):_0x79f74b['camera'])==null?void(0x1*-0x1979+0x8*-0x181+0x1*0x2581):_0x55d914['postproces'+'s'];_0x3d1b29['nodes']['forEach']((_0x50d435,_0x2a410)=>{if(_0x50d435['hasOwnProp'+'erty']('camera')){const _0x48e79d=_0x3d1b29['cameras'][_0x50d435['camera']];if(_0x48e79d){_0x58166b&&_0x58166b(_0x48e79d);const _0x1df5c1=_0xb77758(_0x48e79d,_0x1ba09c[_0x2a410]);_0x1bf9bb&&_0x1bf9bb(_0x48e79d,_0x1df5c1),_0x1df5c1&&(_0x452a02||(_0x452a02=new Map()),_0x452a02['set'](_0x50d435,_0x1df5c1));}}});}return _0x452a02;},r2=(_0x205d43,_0x1a36f4,_0x2a75c1)=>{var _0x23220f,_0x273c1e,_0x164959;let _0x4fc7be=null;if(_0x205d43['hasOwnProp'+'erty']('nodes')&&_0x205d43['hasOwnProp'+'erty']('extensions')&&_0x205d43['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x205d43['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x24d3c0=_0x205d43['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x24d3c0['length']){const _0x58a1d4=(_0x23220f=_0x2a75c1==null?void(-0x47*0x4b+0x10f+0x13be):_0x2a75c1['light'])==null?void(0x1*-0x24d3+0xd0a+0x17c9):_0x23220f['preprocess'],_0x210d9c=((_0x273c1e=_0x2a75c1==null?void(0x255e+-0x346*0x6+-0x11ba*0x1):_0x2a75c1['light'])==null?void(0x25f8+-0x722+-0x1ed6*0x1):_0x273c1e['process'])??jD,_0x4a07d5=(_0x164959=_0x2a75c1==null?void(0x1528+0x618+0x4*-0x6d0):_0x2a75c1['light'])==null?void(0x1180+0x1524+-0x26a4):_0x164959['postproces'+'s'];_0x205d43['nodes']['forEach']((_0x311723,_0xad71d6)=>{if(_0x311723['hasOwnProp'+'erty']('extensions')&&_0x311723['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x311723['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0xbcd9f5=_0x311723['extensions']['KHR_lights'+'_punctual']['light'],_0x4f4f39=_0x24d3c0[_0xbcd9f5];if(_0x4f4f39){_0x58a1d4&&_0x58a1d4(_0x4f4f39);const _0x2ef011=_0x210d9c(_0x4f4f39,_0x1a36f4[_0xad71d6]);_0x4a07d5&&_0x4a07d5(_0x4f4f39,_0x2ef011),_0x2ef011&&(_0x4fc7be||(_0x4fc7be=new Map()),_0x4fc7be['set'](_0x311723,_0x2ef011));}}});}}return _0x4fc7be;},n2=(_0x467896,_0x2160f2,_0x6fd55d)=>{_0x467896['nodes']['forEach'](_0x248a4d=>{_0x248a4d['hasOwnProp'+'erty']('mesh')&&_0x248a4d['hasOwnProp'+'erty']('skin')&&_0x2160f2[_0x248a4d['mesh']]['meshes']['forEach'](_0x48f88f=>{_0x48f88f['skin']=_0x6fd55d[_0x248a4d['skin']];});});},a2=async(_0x27bb94,_0x4315fb,_0x328ac7,_0x469e2b,_0x3baeba)=>{var _0x18e354,_0x44dea0;const _0x8de351=(_0x18e354=_0x3baeba==null?void(-0x1aa+-0x35*-0x9d+-0x1ed7):_0x3baeba['global'])==null?void(-0x21af+-0x11*-0x48+0x97*0x31):_0x18e354['preprocess'],_0x445247=(_0x44dea0=_0x3baeba==null?void(-0x1*0x519+0x2*0xe8+-0x1*-0x349):_0x3baeba['global'])==null?void(-0x22df+-0x1007+0x32e6):_0x44dea0['postproces'+'s'];_0x8de351&&_0x8de351(_0x4315fb),_0x4315fb['asset']&&_0x4315fb['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x3cef9c=new Map(),_0x4ee4d9=t2(_0x4315fb,_0x3baeba,_0x3cef9c),_0x665c9e=s2(_0x4315fb,_0x4ee4d9),_0x4a9ad6=r2(_0x4315fb,_0x4ee4d9,_0x3baeba),_0x2cadab=i2(_0x4315fb,_0x4ee4d9,_0x3baeba),_0x4ab0bb=QD(_0x4315fb),_0x23213f=await Promise['all'](_0x328ac7),{meshes:_0x457514,meshVariants:_0xcac7e0,meshDefaultMaterials:_0x1387dc,promises:_0x3091e9}=KD(_0x27bb94,_0x4315fb,_0x23213f,_0x3baeba),_0x340723=JD(_0x4315fb,_0x4ee4d9,_0x23213f,_0x3baeba);e2(_0x27bb94,_0x4315fb,_0x3cef9c,_0x23213f);const _0x2ac39e=await Promise['all'](_0x469e2b),_0x4e20ab=_0x2ac39e['map'](_0x40feb9=>_0x40feb9['resource']),_0x432699=ZD(_0x4315fb,_0x4e20ab,_0x3baeba),_0x508453=YD(_0x27bb94,_0x4315fb,_0x4ee4d9,_0x23213f),_0x433cc6=[];for(let _0x5f35ac=-0x73*0x1c+-0x8a6+0x16*0xf7;_0x5f35ac<_0x457514['length'];_0x5f35ac++)_0x433cc6[_0x5f35ac]=new Hp(),_0x433cc6[_0x5f35ac]['meshes']=_0x457514[_0x5f35ac];n2(_0x4315fb,_0x433cc6,_0x508453);const _0x434801=new SD();return _0x434801['gltf']=_0x4315fb,_0x434801['nodes']=_0x4ee4d9,_0x434801['scenes']=_0x665c9e,_0x434801['animations']=_0x340723,_0x434801['textures']=_0x2ac39e,_0x434801['materials']=_0x432699,_0x434801['variants']=_0x4ab0bb,_0x434801['meshVarian'+'ts']=_0xcac7e0,_0x434801['meshDefaul'+'tMaterials']=_0x1387dc,_0x434801['renders']=_0x433cc6,_0x434801['skins']=_0x508453,_0x434801['lights']=_0x4a9ad6,_0x434801['cameras']=_0x2cadab,_0x434801['nodeInstan'+'cingMap']=_0x3cef9c,_0x445247&&_0x445247(_0x4315fb,_0x434801),await Promise['all'](_0x3091e9),_0x434801;},o2=(_0x371ed9,_0x23bda6)=>{const _0x3329d8=(_0x1c4fbb,_0x189dd4)=>{switch(_0x1c4fbb){case-0x1*-0x407f+0x1f37+-0x39b6:return de;case 0x2bbd*-0x1+0x359*0x9+0x339d*0x1:return st;case-0x58e*0x8+-0x89c+0x5c0c:return fc;case-0x20af+0x3587+-0x1*-0x1229:return mc;case-0xb73*0x1+0xcfc*0x5+-0xe77:return pc;case-0x3297+0x19*-0x2a7+-0x9be9*-0x1:return nn;default:return _0x189dd4;}},_0x391fca=(_0xcae8b8,_0x74ca92)=>{switch(_0xcae8b8){case 0xf3ef+0x9cc9+-0x10f89:return ae;case 0xd1ac+0x7683+-0x1*0xc4bf:return Of;case-0x19*0xfb+0x2a71+-0xb*-0x219:return tt;default:return _0x74ca92;}};_0x371ed9&&(_0x23bda6=_0x23bda6??{},_0x371ed9['minFilter']=_0x3329d8(_0x23bda6['minFilter'],nn),_0x371ed9['magFilter']=_0x3329d8(_0x23bda6['magFilter'],st),_0x371ed9['addressU']=_0x391fca(_0x23bda6['wrapS'],tt),_0x371ed9['addressV']=_0x391fca(_0x23bda6['wrapT'],tt));};let l2=0xc4*-0x2f+-0x5b1*0x3+0x350f;const vf=_0x59b3bb=>{var _0x5a455b,_0x4fa8c2,_0x25ecb6,_0x4006ca;return((_0x4fa8c2=(_0x5a455b=_0x59b3bb['extensions'])==null?void(-0x16*0x1c2+-0x8f*-0x16+0x1a62):_0x5a455b['KHR_textur'+'e_basisu'])==null?void(-0x655*0x3+-0x259+-0xaac*-0x2):_0x4fa8c2['source'])??((_0x4006ca=(_0x25ecb6=_0x59b3bb['extensions'])==null?void(0xa*0x278+0x843+-0x20f3):_0x25ecb6['EXT_textur'+'e_webp'])==null?void(0x1dba+0x11a5+-0x2f5f):_0x4006ca['source'])??_0x59b3bb['source'];},h2=(_0x2991db,_0x3c9d98,_0x1f035a,_0x2eb865,_0x56f353)=>{var _0x166137,_0x2463aa,_0x50cfd6;if(!_0x2991db['images']||_0x2991db['images']['length']===0x10*-0x28+-0x1145*-0x1+0x1*-0xec5)return[];const _0x4de567=(_0x166137=_0x56f353==null?void(-0x74c+0x8c3+0x177*-0x1):_0x56f353['image'])==null?void(0x258b+0xf9*0x1a+0x5*-0xc91):_0x166137['preprocess'],_0x4ae523=(_0x2463aa=_0x56f353==null?void(0x6f9+0x11c0+-0x1*0x18b9):_0x56f353['image'])==null?void(0x1*-0x223d+0x19e1+0x85c):_0x2463aa['processAsy'+'nc'],_0x2cf5f2=(_0x50cfd6=_0x56f353==null?void(0x1f42+0x5d1*-0x3+-0xdcf):_0x56f353['image'])==null?void(-0x251*0x1+0x5*0x660+-0x1d8f):_0x50cfd6['postproces'+'s'],_0x48a227={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x119722=_0x475dbc=>{const _0x46fc47=new Set();return _0x475dbc['hasOwnProp'+'erty']('materials')&&_0x475dbc['materials']['forEach'](_0x1dfcd1=>{if(_0x1dfcd1['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0xf827a9=_0x1dfcd1['pbrMetalli'+'cRoughness'];if(_0xf827a9['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x204c29=_0x475dbc['textures'][_0xf827a9['baseColorT'+'exture']['index']];_0x46fc47['add'](vf(_0x204c29));}}if(_0x1dfcd1['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x39e550=_0x475dbc['textures'][_0x1dfcd1['emissiveTe'+'xture']['index']];_0x46fc47['add'](vf(_0x39e550));}}),_0x46fc47;},_0x122efb=(_0x4da4a1,_0x39accb,_0x353776,_0x5a1b8d,_0x321fd4,_0x124085)=>new Promise((_0x2351ba,_0x5d350f)=>{const _0x14782a=_0x27a728=>{const _0x4d1d1d=(_0x4da4a1['name']||'gltf-textu'+'re')+'-'+l2++,_0x50a9d4={'url':_0x39accb||_0x4d1d1d};if(_0x27a728&&(_0x50a9d4['contents']=_0x27a728['slice'](-0xf0b+0x1*0x12f8+0xf*-0x43)['buffer']),_0x5a1b8d){const _0x4f8669=_0x48a227[_0x5a1b8d];_0x4f8669&&(_0x50a9d4['filename']=_0x50a9d4['url']+'.'+_0x4f8669);}const _0x22c92e={'srgb':_0x124085},_0x1d1afc=new le(_0x4d1d1d,'texture',_0x50a9d4,_0x22c92e,_0x321fd4);_0x1d1afc['on']('load',_0x1d5624=>_0x2351ba(_0x1d5624)),_0x1d1afc['on']('error',_0x4ba04d=>_0x5d350f(_0x4ba04d)),_0x2eb865['add'](_0x1d1afc),_0x2eb865['load'](_0x1d1afc);};_0x353776?_0x353776['then'](_0x4f6833=>_0x14782a(_0x4f6833)):_0x14782a(null);}),_0x136aa1=_0x119722(_0x2991db);return _0x2991db['images']['map']((_0xd14496,_0x4f3968)=>{_0x4de567&&_0x4de567(_0xd14496);let _0x47df73;return _0x4ae523?_0x47df73=new Promise((_0xdb36ce,_0x406e39)=>{_0x4ae523(_0xd14496,(_0x5888c8,_0x4d97ee)=>{_0x5888c8?_0x406e39(_0x5888c8):_0xdb36ce(_0x4d97ee);});}):_0x47df73=new Promise(_0x1cf9c7=>{_0x1cf9c7(null);}),_0x47df73=_0x47df73['then'](_0x1a27f2=>{const _0x23b8b9=_0x136aa1['has'](_0x4f3968);return _0x1a27f2||(_0xd14496['hasOwnProp'+'erty']('uri')?Rx(_0xd14496['uri'])?_0x122efb(_0xd14496,_0xd14496['uri'],null,vD(_0xd14496['uri']),null,_0x23b8b9):_0x122efb(_0xd14496,Da['test'](_0xd14496['uri'])?_0xd14496['uri']:fe['join'](_0x1f035a,_0xd14496['uri']),null,null,{'crossOrigin':'anonymous'},_0x23b8b9):_0xd14496['hasOwnProp'+'erty']('bufferView')&&_0xd14496['hasOwnProp'+'erty']('mimeType')?_0x122efb(_0xd14496,null,_0x3c9d98[_0xd14496['bufferView']],_0xd14496['mimeType'],null,_0x23b8b9):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x4f3968)));}),_0x2cf5f2&&(_0x47df73=_0x47df73['then'](_0x2f95d4=>(_0x2cf5f2(_0xd14496,_0x2f95d4),_0x2f95d4))),_0x47df73;});},c2=(_0x449f79,_0x4fed22,_0x2e0a98)=>{var _0x220035,_0x298d60,_0x383ee2,_0x1ce768,_0xd39e6d;if(!((_0x220035=_0x449f79==null?void(0x740+-0x157b+0xe3b):_0x449f79['images'])!=null&&_0x220035['length'])||!((_0x298d60=_0x449f79==null?void(0x17d1+-0x3*0xc95+0x6f7*0x2):_0x449f79['textures'])!=null&&_0x298d60['length']))return[];const _0x3fd37f=(_0x383ee2=_0x2e0a98==null?void(0xa87+0xc59+-0xb7*0x20):_0x2e0a98['texture'])==null?void(-0x2020+0xd*-0x1a9+0x35b5):_0x383ee2['preprocess'],_0x56c1d7=(_0x1ce768=_0x2e0a98==null?void(0x47*0x1+-0x24b*0xd+0x1d88):_0x2e0a98['texture'])==null?void(-0x12a1+-0x4*0x20b+0x1acd):_0x1ce768['processAsy'+'nc'],_0x2a80d5=(_0xd39e6d=_0x2e0a98==null?void(0x1*-0xb43+-0xb*0x10f+0x16e8*0x1):_0x2e0a98['texture'])==null?void(-0x1b61+0x1e01+-0x2a0):_0xd39e6d['postproces'+'s'],_0x2d026c=new Set();return _0x449f79['textures']['map'](_0x960bb6=>{_0x3fd37f&&_0x3fd37f(_0x960bb6);let _0x24e2a1;return _0x56c1d7?_0x24e2a1=new Promise((_0x1f212a,_0x38736a)=>{_0x56c1d7(_0x960bb6,_0x449f79['images'],(_0x569559,_0x1b9dae)=>{_0x569559?_0x38736a(_0x569559):_0x1f212a(_0x1b9dae);});}):_0x24e2a1=new Promise(_0x3dd216=>{_0x3dd216(null);}),_0x24e2a1=_0x24e2a1['then'](_0x2cc9c1=>{_0x2cc9c1=_0x2cc9c1??vf(_0x960bb6);const _0x54a791=_0x2d026c['has'](_0x2cc9c1);return _0x2d026c['add'](_0x2cc9c1),_0x4fed22[_0x2cc9c1]['then'](_0x5d5d4a=>{const _0x320e4f=_0x54a791?MD(_0x5d5d4a):_0x5d5d4a;return o2(_0x320e4f['resource'],(_0x449f79['samplers']??[])[_0x960bb6['sampler']]),_0x320e4f;});}),_0x2a80d5&&(_0x24e2a1=_0x24e2a1['then'](_0x2e7fa3=>(_0x2a80d5(_0x960bb6,_0x2e7fa3),_0x2e7fa3))),_0x24e2a1;});},d2=(_0x5b2b6a,_0x17462d,_0x7fcabc,_0x1ed8bd)=>{var _0x47accb,_0x483008,_0x292ef5;if(!_0x5b2b6a['buffers']||_0x5b2b6a['buffers']['length']===-0x1fb*0x2+0x1*0x13ea+0x4*-0x3fd)return[];const _0x507e81=(_0x47accb=_0x1ed8bd==null?void(0x20e7+0x191c+-0x3a03*0x1):_0x1ed8bd['buffer'])==null?void(-0x1181*0x1+-0xe03+0x1f84):_0x47accb['preprocess'],_0x4d9e66=(_0x483008=_0x1ed8bd==null?void(-0xa36*0x1+-0x5f0*-0x4+0xd8a*-0x1):_0x1ed8bd['buffer'])==null?void(0x209c+-0x25bb+0x51f):_0x483008['processAsy'+'nc'],_0x4de9ed=(_0x292ef5=_0x1ed8bd==null?void(-0x1f*-0x5+-0x97b*-0x3+-0x1d0c):_0x1ed8bd['buffer'])==null?void(0x25a7+-0xfde+0x743*-0x3):_0x292ef5['postproces'+'s'];return _0x5b2b6a['buffers']['map']((_0x50d070,_0x315616)=>{_0x507e81&&_0x507e81(_0x50d070);let _0x3ec0fe;return _0x4d9e66?_0x3ec0fe=new Promise((_0x3db00e,_0x1ae406)=>{_0x4d9e66(_0x50d070,(_0x2b3480,_0x5da381)=>{_0x2b3480?_0x1ae406(_0x2b3480):_0x3db00e(_0x5da381);});}):_0x3ec0fe=new Promise(_0x145765=>{_0x145765(null);}),_0x3ec0fe=_0x3ec0fe['then'](_0x4b1056=>{if(_0x4b1056)return _0x4b1056;if(_0x50d070['hasOwnProp'+'erty']('uri')){if(Rx(_0x50d070['uri'])){const _0x494714=atob(_0x50d070['uri']['split'](',')[-0x3e5*0x6+0x213d+-0x9de]),_0x171f26=new Uint8Array(_0x494714['length']);for(let _0x1057fd=-0xf8b+0x2*-0x1d3+0x1*0x1331;_0x1057fd<_0x494714['length'];_0x1057fd++)_0x171f26[_0x1057fd]=_0x494714['charCodeAt'](_0x1057fd);return _0x171f26;}return new Promise((_0x227157,_0x37728d)=>{We['get'](Da['test'](_0x50d070['uri'])?_0x50d070['uri']:fe['join'](_0x7fcabc,_0x50d070['uri']),{'cache':!(-0x10*0x1f1+-0x5b*-0x5f+0x15*-0x21),'responseType':'arraybuffe'+'r','retry':!(-0x13*-0xe5+0x15a8+0x61*-0x66)},(_0x56f381,_0x3d1a61)=>{_0x56f381?_0x37728d(_0x56f381):_0x227157(new Uint8Array(_0x3d1a61));});});}return _0x17462d;}),_0x4de9ed&&(_0x3ec0fe=_0x3ec0fe['then'](_0x1cc58d=>(_0x4de9ed(_0x5b2b6a['buffers'][_0x315616],_0x1cc58d),_0x1cc58d))),_0x3ec0fe;});},u2=(_0x1450f3,_0x53fd1c)=>{const _0x2231ca=JSON['parse']((_0x49361c=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x49361c);let _0x24d6dc='';for(let _0x495a00=-0x86*0x30+-0x2*-0x986+0x614*0x1;_0x495a00<_0x49361c['length'];_0x495a00++)_0x24d6dc+=String['fromCharCo'+'de'](_0x49361c[_0x495a00]);return decodeURIComponent(escape(_0x24d6dc));})(_0x1450f3));if(_0x2231ca['asset']&&_0x2231ca['asset']['version']&&parseFloat(_0x2231ca['asset']['version'])<0x119b*0x1+-0xd*-0xc5+-0xdcd*0x2){_0x53fd1c('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x2231ca['asset']['version']+'\x27.');return;}_0x53fd1c(null,_0x2231ca);},f2=(_0x23e0d8,_0x45301d)=>{const _0x4ffa7b=_0x23e0d8 instanceof ArrayBuffer?new DataView(_0x23e0d8):new DataView(_0x23e0d8['buffer'],_0x23e0d8['byteOffset'],_0x23e0d8['byteLength']),_0x4ccab3=_0x4ffa7b['getUint32'](0x177d+-0x1*0x203b+0x1*0x8be,!(-0x250f+0x1d24+0x7eb)),_0x87a613=_0x4ffa7b['getUint32'](-0x14*-0x92+0x2612+-0x3176,!(-0x1*-0x2467+-0x1*-0xc83+-0x30ea)),_0x2c4ced=_0x4ffa7b['getUint32'](-0xa78+0x9*-0x39+0xc81,!(0x34e+-0xb7*0x1+0x11*-0x27));if(_0x4ccab3!==-0x5de5cc83+-0x7da0b*-0x3be+0x86d843c0){_0x45301d('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x4ccab3['toString'](0xfa3*0x1+0xc13+-0x1*0x1ba6));return;}if(_0x87a613!==0x3fa*0x6+-0x2*0xc6f+0x104){_0x45301d('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x87a613);return;}if(_0x2c4ced<=-0x3*0x9ad+0x825+0x14e2||_0x2c4ced>_0x4ffa7b['byteLength']){_0x45301d('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x2c4ced);return;}const _0x131e7d=[];let _0x4a3aac=-0x1*-0xf16+-0x1f7c+0x1072;for(;_0x4a3aac<_0x2c4ced;){const _0x2bdc67=_0x4ffa7b['getUint32'](_0x4a3aac,!(0x20e5+-0x2689+0x5a4));_0x4a3aac+_0x2bdc67+(-0xdf7+-0x1185+0x1f84)>_0x4ffa7b['byteLength']&&_0x45301d('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x2bdc67);const _0x317acd=_0x4ffa7b['getUint32'](_0x4a3aac+(-0x1903*0x1+0x911+0xff6),!(-0x1a11+0x55a*-0x1+-0xa79*-0x3)),_0x5368a7=new Uint8Array(_0x4ffa7b['buffer'],_0x4ffa7b['byteOffset']+_0x4a3aac+(-0x1119+0x15*0x8e+0x17*0x3d),_0x2bdc67);_0x131e7d['push']({'length':_0x2bdc67,'type':_0x317acd,'data':_0x5368a7}),_0x4a3aac+=_0x2bdc67+(0xe3*0x1c+0x1100+-0x29cc);}if(_0x131e7d['length']!==0x1636+0xfc2*0x2+-0x35b9&&_0x131e7d['length']!==-0xed5+0x81d*-0x1+0x2*0xb7a){_0x45301d('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x131e7d[0x8*0x5f+0x1*0xb74+-0xe6c]['type']!==-0x1*-0x341b5c5+0x1*0x94413674+-0x493398ef){_0x45301d('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x131e7d[-0x2a9+0x3*0x6b6+0x1179*-0x1]['type']['toString'](-0x8c*0x15+-0x17e1+-0xbcf*-0x3));return;}if(_0x131e7d['length']>-0xd*0x9d+0x1e1+0x619*0x1&&_0x131e7d[-0x159d+-0x1*-0x21be+-0xc20]['type']!==0x118d26+-0x6adfd6+-0x1bef53*-0x6){_0x45301d('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x131e7d[-0x1353+-0xea1+-0x21f5*-0x1]['type']['toString'](0xb7d+0x2684+-0x31f1));return;}_0x45301d(null,{'gltfChunk':_0x131e7d[-0x489*0x3+-0x20be+0x317*0xf]['data'],'binaryChunk':_0x131e7d['length']===-0x1*-0x24d7+-0x233d+-0x198?_0x131e7d[-0x641*-0x1+0x1986+-0x1*0x1fc6]['data']:null});},p2=(_0x4bd55d,_0xa1a106,_0x295be8)=>{const _0xb4d691=()=>{const _0x14108d=new Uint8Array(_0xa1a106);return _0x14108d[-0x10a9*-0x1+-0x7*-0x48+-0x1*0x12a1]===0xdaf+-0x1993+0xc4b*0x1&&_0x14108d[0xe31+-0x1abe+0xc8e]===-0x1d54+0xeae+0xf12&&_0x14108d[0x151*0x9+0xc11+-0x17e8]===-0x1277+0x236f+-0x10a4&&_0x14108d[-0x13*0x5d+-0xd49*0x1+0x1433]===0x1be1+0xd8b+-0x2926;};_0x4bd55d&&_0x4bd55d['toLowerCas'+'e']()['endsWith']('.glb')||_0xb4d691()?f2(_0xa1a106,_0x295be8):_0x295be8(null,{'gltfChunk':_0xa1a106,'binaryChunk':null});},m2=(_0x3429de,_0x523736,_0x2e4c31)=>{var _0x15b777,_0x1fa4ad,_0x5c10f7,_0x4ec78e;const _0x3eab8f=[],_0x2d64b8=(_0x15b777=_0x2e4c31==null?void(0x285*-0x5+0x673+0x1*0x626):_0x2e4c31['bufferView'])==null?void(-0xf63+-0x10a+0x106d):_0x15b777['preprocess'],_0x13231f=(_0x1fa4ad=_0x2e4c31==null?void(0x1cbc+0x7a6*0x2+-0x1*0x2c08):_0x2e4c31['bufferView'])==null?void(0x3*0xaf3+-0x17ed+0x8ec*-0x1):_0x1fa4ad['processAsy'+'nc'],_0x821139=(_0x5c10f7=_0x2e4c31==null?void(-0xd50+0x1*0x20d3+0x681*-0x3):_0x2e4c31['bufferView'])==null?void(0x3*0xacc+-0x1606+-0x2*0x52f):_0x5c10f7['postproces'+'s'];if(!((_0x4ec78e=_0x3429de['bufferView'+'s'])!=null&&_0x4ec78e['length']))return _0x3eab8f;for(let _0x3058af=-0x206f+0x644+0x1a2b;_0x3058af<_0x3429de['bufferView'+'s']['length'];++_0x3058af){const _0x488b33=_0x3429de['bufferView'+'s'][_0x3058af];_0x2d64b8&&_0x2d64b8(_0x488b33);let _0xa37dee;_0x13231f?_0xa37dee=new Promise((_0x33bc22,_0x2a522b)=>{_0x13231f(_0x488b33,_0x523736,(_0x25363f,_0x2c0491)=>{_0x25363f?_0x2a522b(_0x25363f):_0x33bc22(_0x2c0491);});}):_0xa37dee=new Promise(_0x42268b=>{_0x42268b(null);}),_0xa37dee=_0xa37dee['then'](_0x54e401=>_0x54e401||_0x523736[_0x488b33['buffer']]['then'](_0x23b945=>new Uint8Array(_0x23b945['buffer'],_0x23b945['byteOffset']+(_0x488b33['byteOffset']||0x6d*0x2b+-0x83d+0xa12*-0x1),_0x488b33['byteLength']))),_0x488b33['hasOwnProp'+'erty']('byteStride')&&(_0xa37dee=_0xa37dee['then'](_0x2d6110=>(_0x2d6110['byteStride']=_0x488b33['byteStride'],_0x2d6110))),_0x821139&&(_0xa37dee=_0xa37dee['then'](_0xeb67d0=>(_0x821139(_0x488b33,_0xeb67d0),_0xeb67d0))),_0x3eab8f['push'](_0xa37dee);}return _0x3eab8f;};class tc{static['parse'](_0xd2e975,_0x5d4b0b,_0x180ef1,_0x592a14,_0x6e9de6,_0x307d2f,_0x3f1c72){p2(_0xd2e975,_0x180ef1,(_0x421d80,_0x213345)=>{if(_0x421d80){_0x3f1c72(_0x421d80);return;}u2(_0x213345['gltfChunk'],(_0x23e11e,_0x438a49)=>{if(_0x23e11e){_0x3f1c72(_0x23e11e);return;}const _0x438623=d2(_0x438a49,_0x213345['binaryChun'+'k'],_0x5d4b0b,_0x307d2f),_0x5eed8e=m2(_0x438a49,_0x438623,_0x307d2f),_0x1f223a=h2(_0x438a49,_0x5eed8e,_0x5d4b0b,_0x6e9de6,_0x307d2f),_0x1a0fe8=c2(_0x438a49,_0x1f223a,_0x307d2f);a2(_0x592a14,_0x438a49,_0x5eed8e,_0x1a0fe8,_0x307d2f)['then'](_0x3a7044=>_0x3f1c72(null,_0x3a7044))['catch'](_0x29a3c1=>_0x3f1c72(_0x29a3c1));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x286b71){super(_0x286b71,'animation'),this['device']=_0x286b71['graphicsDe'+'vice'],this['assets']=_0x286b71['assets'];}['load'](_0x112160,_0x286f09,_0x308569){typeof _0x112160=='string'&&(_0x112160={'load':_0x112160,'original':_0x112160});const _0x161019={'retry':this['maxRetries']>-0x2*0x19b+0x1941*-0x1+-0x97d*-0x3,'maxRetries':this['maxRetries']};(_0x112160['load']['startsWith']('blob:')||_0x112160['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x112160['original'])['toLowerCas'+'e']()==='.glb'?_0x161019['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x161019['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x112160['load'],_0x161019,(_0x511f38,_0x321100)=>{_0x511f38?_0x286f09('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x112160['original']+'\x20['+_0x511f38+']'):fe['getExtensi'+'on'](_0x112160['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x321100,this['device'],this['assets'],(_0x308569==null?void(-0x21*-0x39+0xe75*0x1+0xae7*-0x2):_0x308569['options'])??{},(_0x2e6475,_0x14d818)=>{var _0x1c275a;if(_0x2e6475)_0x286f09(_0x2e6475);else{const _0x2ea295=_0x14d818['animations'];if((_0x1c275a=_0x308569==null?void(-0x820+-0x5e7*-0x1+0x1*0x239):_0x308569['data'])!=null&&_0x1c275a['events']){for(let _0x1c39de=-0x1217*0x1+-0x2b1+-0x2*-0xa64;_0x1c39de<_0x2ea295['length'];_0x1c39de++)_0x2ea295[_0x1c39de]['events']=new Y0(Object['values'](_0x308569['data']['events']));}_0x14d818['destroy'](),_0x286f09(null,_0x2ea295);}}):_0x286f09(null,this['_parseAnim'+'ationV'+_0x321100['animation']['version']](_0x321100));});}['open'](_0x15aacb,_0x2dec83,_0x1cf310){return _0x2dec83;}['_parseAnim'+'ationV3'](_0x37ed45){const _0x2abaa8=_0x37ed45['animation'],_0x4e90a2=new k_();_0x4e90a2['name']=_0x2abaa8['name'],_0x4e90a2['duration']=_0x2abaa8['duration'];for(let _0x5f5ccc=-0x45*0x20+-0x2*-0xa6f+0x1*-0xc3e;_0x5f5ccc<_0x2abaa8['nodes']['length'];_0x5f5ccc++){const _0x500091=new O_(),_0x49bf36=_0x2abaa8['nodes'][_0x5f5ccc];_0x500091['_name']=_0x49bf36['name'];for(let _0x38245a=0x17d5+0x967*-0x2+-0x3*0x1ad;_0x38245a<_0x49bf36['keys']['length'];_0x38245a++){const _0x476d91=_0x49bf36['keys'][_0x38245a],_0x45cd3f=_0x476d91['time'],_0x55d9ab=_0x476d91['pos'],_0x396151=_0x476d91['rot'],_0xf912ba=_0x476d91['scale'],_0x5e1f14=new T(_0x55d9ab[0x63+0x6e1*-0x4+0x1b21],_0x55d9ab[-0x1*-0xc5f+0x25b9+-0x3217],_0x55d9ab[0x7a2+0x1b1*0x8+-0x4*0x54a]),_0x228c21=new se()['setFromEul'+'erAngles'](_0x396151[-0x17af*0x1+-0xc5c+0x1*0x240b],_0x396151[0xbba+-0x8a6+-0x313],_0x396151[0x1edc+-0x2*0x546+0x144e*-0x1]),_0x3721b6=new T(_0xf912ba[0x1*0x1142+0x26*-0xe9+0x455*0x4],_0xf912ba[-0x1*0x1faf+-0xc12+0x2bc2],_0xf912ba[-0x1fb+0xe41*0x2+-0x1a85]),_0x1324fc=new F_(_0x45cd3f,_0x5e1f14,_0x228c21,_0x3721b6);_0x500091['_keys']['push'](_0x1324fc);}_0x4e90a2['addNode'](_0x500091);}return _0x4e90a2;}['_parseAnim'+'ationV4'](_0x6f52d9){const _0x161daf=_0x6f52d9['animation'],_0x1d3266=new k_();_0x1d3266['name']=_0x161daf['name'],_0x1d3266['duration']=_0x161daf['duration'];for(let _0x261682=0x1*-0x14d9+0x92c*-0x1+0x1e05;_0x261682<_0x161daf['nodes']['length'];_0x261682++){const _0xe8413d=new O_(),_0x40c14d=_0x161daf['nodes'][_0x261682];_0xe8413d['_name']=_0x40c14d['name'];const _0x337a39=_0x40c14d['defaults']['p'],_0x3bb64f=_0x40c14d['defaults']['r'],_0x126c80=_0x40c14d['defaults']['s'];for(let _0x18d701=0xc69+-0x18c+-0xadd*0x1;_0x18d701<_0x40c14d['keys']['length'];_0x18d701++){const _0x2eb917=_0x40c14d['keys'][_0x18d701],_0x463a0d=_0x2eb917['t'],_0x240015=_0x337a39||_0x2eb917['p'],_0x53591b=_0x3bb64f||_0x2eb917['r'],_0x2b5d43=_0x126c80||_0x2eb917['s'],_0x4702e2=new T(_0x240015[-0x1*-0x445+0x1*-0x1a78+0x1633],_0x240015[-0x34*-0x2+-0x276*0x5+0xbe7],_0x240015[0x3e2*-0x7+0x9e*-0x3a+0x3efc]),_0x5e1052=new se()['setFromEul'+'erAngles'](_0x53591b[0x4*-0x356+-0xa85+0x17dd],_0x53591b[-0x16c4+0x5*0x35f+0x2*0x2f5],_0x53591b[0x1*-0x28d+-0x2*0x9ff+0x168d*0x1]),_0x3efe37=new T(_0x2b5d43[-0x1885+-0x43*0x5+0x19d4],_0x2b5d43[0x232e+-0x19f2+-0x93b],_0x2b5d43[0x18e5*-0x1+-0x2*-0x113f+-0x997]),_0x19d3ea=new F_(_0x463a0d,_0x4702e2,_0x5e1052,_0x3efe37);_0xe8413d['_keys']['push'](_0x19d3ea);}_0x1d3266['addNode'](_0xe8413d);}return _0x1d3266;}}class g2 extends Ne{constructor(_0x346d1d){super(_0x346d1d,'animclip');}['load'](_0x49d218,_0x3c9fb3){typeof _0x49d218=='string'&&(_0x49d218={'load':_0x49d218,'original':_0x49d218});const _0x4aed7b={'retry':this['maxRetries']>-0x1322+0x388*0x7+-0x82*0xb,'maxRetries':this['maxRetries']};_0x49d218['load']['startsWith']('blob:')&&(_0x4aed7b['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x49d218['load'],_0x4aed7b,(_0x4580c4,_0x105575)=>{_0x4580c4?_0x3c9fb3('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x49d218['original']+'\x20['+_0x4580c4+']'):_0x3c9fb3(null,_0x105575);});}['open'](_0x34e619,_0x1a70d4){const _0x453e92=_0x1a70d4['name'],_0x2d0854=_0x1a70d4['duration'],_0x26d79a=_0x1a70d4['inputs']['map'](_0x1a4130=>new Jh(-0x7c3*-0x4+0x4*-0x66e+0x2f*-0x1d,_0x1a4130)),_0x3ead88=_0x1a70d4['outputs']['map'](_0x597024=>new Jh(_0x597024['components'],_0x597024['data'])),_0x1e1385=_0x1a70d4['curves']['map'](_0x3c9357=>new Px([_0x3c9357['path']],_0x3c9357['inputIndex'],_0x3c9357['outputInde'+'x'],_0x3c9357['interpolat'+'ion']));return new Ri(_0x453e92,_0x2d0854,_0x26d79a,_0x3ead88,_0x1e1385);}}class y2 extends Ne{constructor(_0xeb0e26){super(_0xeb0e26,'animstateg'+'raph');}['load'](_0x293ea8,_0x47d686){typeof _0x293ea8=='string'&&(_0x293ea8={'load':_0x293ea8,'original':_0x293ea8});const _0x3490ee={'retry':this['maxRetries']>0x16ca*0x1+-0x15b6+-0x114,'maxRetries':this['maxRetries']};_0x293ea8['load']['startsWith']('blob:')&&(_0x3490ee['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x293ea8['load'],_0x3490ee,(_0x599729,_0x2d0295)=>{_0x599729?_0x47d686('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x293ea8['original']+'\x20['+_0x599729+']'):_0x47d686(null,_0x2d0295);});}['open'](_0x492966,_0x324071){return new mh(_0x324071);}}const Qd=(function(){if(typeof window>'u')return!(0x1*0x8d1+0x1861+-0x1d*0x125);const _0x149efe=window['navigator']['userAgent'],_0x3bd7a7=_0x149efe['indexOf']('MSIE\x20');if(_0x3bd7a7>0x5*0x42d+0x1*-0x1953+0x2*0x239)return parseInt(_0x149efe['substring'](_0x3bd7a7+(-0x16e8+0x5d*0x3f+0x2*0x5),_0x149efe['indexOf']('.',_0x3bd7a7)),0x3*-0x322+0x22*-0xad+0xace*0x3);if(_0x149efe['indexOf']('Trident/')>-0x965+-0xbc+0xa21*0x1){const _0x2d8c1d=_0x149efe['indexOf']('rv:');return parseInt(_0x149efe['substring'](_0x2d8c1d+(0xf36+-0x2504+-0x15d1*-0x1),_0x149efe['indexOf']('.',_0x2d8c1d)),0x16be+-0x1e10+-0x6*-0x13a);}return!(0x262d*-0x1+-0x244c+0x253d*0x2);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x4ee990){super(_0x4ee990,'audio'),this['manager']=_0x4ee990['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x1e8cb2){const _0x1d2160=fe['getExtensi'+'on'](_0x1e8cb2);return x2['indexOf'](_0x1d2160)>-(-0x1305+-0x4a3*-0x3+-0x11*-0x4d)||_0x1e8cb2['startsWith']('blob:');}['load'](_0xddee4d,_0x4bffd4){typeof _0xddee4d=='string'&&(_0xddee4d={'load':_0xddee4d,'original':_0xddee4d});const _0x334277=function(_0x1b7702){_0x4bffd4(null,new Bb(_0x1b7702));},_0x530301=function(_0x168980){let _0x2aa7f1='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0xddee4d['original'];_0x168980&&(_0x2aa7f1+=':\x20'+(_0x168980['message']||_0x168980)),console['warn'](_0x2aa7f1),_0x4bffd4(_0x2aa7f1);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0xddee4d['original'])){_0x530301('Audio\x20form'+'at\x20for\x20'+_0xddee4d['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0xddee4d['load'],_0x334277,_0x530301);}else _0x530301(null);}['_createSou'+'nd'](_0x472619,_0x46b8d3,_0xd13a51){if(Li()){const _0x9f5276=this['manager'];if(!_0x9f5276['context']){_0xd13a51('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x33d1c4={'retry':this['maxRetries']>-0xa75*0x1+0x1867*-0x1+-0x116e*-0x2,'maxRetries':this['maxRetries']};(_0x472619['startsWith']('blob:')||_0x472619['startsWith']('data:'))&&(_0x33d1c4['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),We['get'](_0x472619,_0x33d1c4,(_0x3ed07e,_0x16bc82)=>{if(_0x3ed07e){_0xd13a51(_0x3ed07e);return;}_0x9f5276['context']['decodeAudi'+'oData'](_0x16bc82,_0x46b8d3,_0xd13a51);});}else{let _0x3a9e0d=null;try{_0x3a9e0d=new Audio();}catch{_0xd13a51('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0x3a9e0d);const _0x3204f4=function(){_0x3a9e0d['removeEven'+'tListener']('canplaythr'+'ough',_0x3204f4),Qd&&document['body']['removeChil'+'d'](_0x3a9e0d),_0x46b8d3(_0x3a9e0d);};_0x3a9e0d['onerror']=function(){_0x3a9e0d['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0x3a9e0d),_0xd13a51();},_0x3a9e0d['addEventLi'+'stener']('canplaythr'+'ough',_0x3204f4),_0x3a9e0d['src']=_0x472619;}}}class v2 extends Ne{constructor(_0x262a82){super(_0x262a82,'binary');}['load'](_0x255e6c,_0x35f022){typeof _0x255e6c=='string'&&(_0x255e6c={'load':_0x255e6c,'original':_0x255e6c}),We['get'](_0x255e6c['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x3e9*-0x9+-0x1*0x669+-0x1cc8,'maxRetries':this['maxRetries']},(_0x1bc8ce,_0x263643)=>{_0x1bc8ce?_0x35f022('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x255e6c['original']+'\x20['+_0x1bc8ce+']'):_0x35f022(null,_0x263643);});}['openBinary'](_0x168556){return _0x168556['buffer'];}}class tr{constructor(_0x15d5d6,_0x48d9be,_0x46031b,_0x57e0fb){const _0x1808ff=function(_0x39480a,_0x46677e,_0x1cb208){const _0xbcaa17=tr['createAsse'+'t'](_0x48d9be['name'],_0x39480a,_0x46677e,_0x1cb208);return _0x46031b['add'](_0xbcaa17),_0xbcaa17;},_0x26a7e3=[];for(let _0xfe356f=0x29d*0x1+0x32*-0x18+0x213;_0xfe356f<_0x15d5d6['renders']['length'];++_0xfe356f)_0x26a7e3['push'](_0x1808ff('render',_0x15d5d6['renders'][_0xfe356f],_0xfe356f));const _0x35b198=[];for(let _0x22cd2d=0x18e5+-0xfac*-0x2+-0x383d;_0x22cd2d<_0x15d5d6['materials']['length'];++_0x22cd2d)_0x35b198['push'](_0x1808ff('material',_0x15d5d6['materials'][_0x22cd2d],_0x22cd2d));const _0x2fee19=[];for(let _0x3dc65f=-0x167*0x7+-0x75d+0x5ba*0x3;_0x3dc65f<_0x15d5d6['animations']['length'];++_0x3dc65f)_0x2fee19['push'](_0x1808ff('animation',_0x15d5d6['animations'][_0x3dc65f],_0x3dc65f));this['data']=_0x15d5d6,this['_model']=null,this['_assetName']=_0x48d9be['name'],this['_assets']=_0x46031b,this['_defaultMa'+'terial']=_0x57e0fb,this['renders']=_0x26a7e3,this['materials']=_0x35b198,this['textures']=_0x15d5d6['textures'],this['animations']=_0x2fee19;}get['model'](){if(!this['_model']){const _0x5f091f=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x5f0c99=tr['createAsse'+'t'](this['_assetName'],'model',_0x5f091f,0x52f*-0x7+0x1c66+-0x3*-0x2a1);this['_assets']['add'](_0x5f0c99),this['_model']=_0x5f0c99;}return this['_model'];}static['createAsse'+'t'](_0x512fc6,_0x47be57,_0x4251c4,_0x5d2c72){const _0x172bba=new le(_0x512fc6+'/'+_0x47be57+'/'+_0x5d2c72,_0x47be57,{'url':''});return _0x172bba['resource']=_0x4251c4,_0x172bba['loaded']=!(-0x1*0x3cc+-0x198e+-0x1ba*-0x11),_0x172bba;}['instantiat'+'eModelEnti'+'ty'](_0xdef6cd){const _0x5ee9b7=new $e();return _0x5ee9b7['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0xdef6cd)),_0x5ee9b7;}['instantiat'+'eRenderEnt'+'ity'](_0x35e7c6){const _0x529174=this['_defaultMa'+'terial'],_0x3d74f1=[],_0x1d58ec=function(_0x4d3c6a,_0x9404af,_0x413355,_0x231217,_0x2cb36f,_0x551808,_0x41c065,_0x142816){const _0x166106=_0x2cb36f[_0x413355['id']],_0x1b57ab=_0x166106===void(0x1224+-0x106+-0x111e)?_0x529174:_0x231217[_0x166106],_0x21d006=new Le(_0x413355,_0x1b57ab);_0x413355['morph']&&(_0x21d006['morphInsta'+'nce']=new fn(_0x413355['morph'])),_0x41c065['hasOwnProp'+'erty']('skin')&&_0x3d74f1['push']({'meshInstance':_0x21d006,'rootBone':_0x4d3c6a,'entity':_0x9404af});const _0x130cd5=_0x142816['get'](_0x41c065);if(_0x130cd5){const _0x5e0923=_0x130cd5['matrices'],_0x4dc0f3=Et['getDefault'+'Instancing'+'Format'](_0x413355['device']),_0x4019c4=new os(_0x413355['device'],_0x4dc0f3,_0x5e0923['length']/(0xc43*0x1+0x8cb*0x1+-0x14fe),{'data':_0x5e0923});_0x21d006['setInstanc'+'ing'](_0x4019c4),_0x21d006['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x6d*-0x58+-0x1dca+0x4342);}return _0x21d006;},_0x339d59=(_0x57d5b4,_0x5ee919,_0x537e8)=>{const _0x3b3e38=new $e();_0x5ee919['_cloneInte'+'rnal'](_0x3b3e38),_0x57d5b4||(_0x57d5b4=_0x3b3e38);let _0x543d77=null,_0x566e43=null;for(let _0x3ab98f=-0xb39+0x2702+-0x1bc9;_0x3ab98f<_0x537e8['nodes']['length'];_0x3ab98f++)if(_0x537e8['nodes'][_0x3ab98f]===_0x5ee919){const _0x481c6d=_0x537e8['gltf']['nodes'][_0x3ab98f];if(_0x481c6d['hasOwnProp'+'erty']('mesh')){const _0x28ef6e=_0x537e8['renders'][_0x481c6d['mesh']]['meshes'];_0x566e43=this['renders'][_0x481c6d['mesh']];for(let _0x3b82f7=-0x267+0x242+0x25;_0x3b82f7<_0x28ef6e['length'];_0x3b82f7++){const _0x5a09dd=_0x28ef6e[_0x3b82f7];if(_0x5a09dd){const _0x3124c3=_0x1d58ec(_0x57d5b4,_0x3b3e38,_0x5a09dd,_0x537e8['materials'],_0x537e8['meshDefaul'+'tMaterials'],_0x537e8['skins'],_0x481c6d,_0x537e8['nodeInstan'+'cingMap']);_0x543d77||(_0x543d77=[]),_0x543d77['push'](_0x3124c3);}}}if(_0x537e8['lights']){const _0xc191ba=_0x537e8['lights']['get'](_0x481c6d);_0xc191ba&&_0x3b3e38['addChild'](_0xc191ba['clone']());}if(_0x537e8['cameras']){const _0x5769c2=_0x537e8['cameras']['get'](_0x481c6d);_0x5769c2&&_0x5769c2['camera']['system']['cloneCompo'+'nent'](_0x5769c2,_0x3b3e38);}}_0x543d77&&(_0x3b3e38['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x543d77},_0x35e7c6)),_0x3b3e38['render']['assignAsse'+'t'](_0x566e43));const _0xfd8c1=_0x5ee919['children'];for(let _0x22b192=-0x250a+-0x537*-0x3+0x1*0x1565;_0x22b192<_0xfd8c1['length'];_0x22b192++){const _0x599005=_0x339d59(_0x57d5b4,_0xfd8c1[_0x22b192],_0x537e8);_0x3b3e38['addChild'](_0x599005);}return _0x3b3e38;},_0x34b716=[];for(const _0x1cfb5d of this['data']['scenes'])_0x34b716['push'](_0x339d59(null,_0x1cfb5d,this['data']));return _0x3d74f1['forEach'](_0x349844=>{_0x349844['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x349844['meshInstan'+'ce']['mesh']['skin'],_0x349844['rootBone'],_0x349844['entity']),_0x349844['meshInstan'+'ce']['node']['render']['rootBone']=_0x349844['rootBone'];}),tr['createScen'+'eHierarchy'](_0x34b716,$e);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0xb49ee,_0x3cd167){const _0x20d1b9=_0x3cd167?this['data']['variants'][_0x3cd167]:null;if(_0x20d1b9===void(-0x1976+0x2*-0x11+0x1998)){v['warn']('No\x20variant'+'\x20named\x20'+_0x3cd167+('\x20exists\x20in'+'\x20resource'));return;}const _0x14b55b=_0xb49ee['findCompon'+'ents']('render');for(let _0x530ef8=0x4f2+-0x1*-0xd01+-0x11f3;_0x530ef8<_0x14b55b['length'];_0x530ef8++){const _0x1d8c2d=_0x14b55b[_0x530ef8];this['_applyMate'+'rialVarian'+'t'](_0x20d1b9,_0x1d8c2d['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x363ffb,_0x2acb02){const _0x5fb807=_0x2acb02?this['data']['variants'][_0x2acb02]:null;if(_0x5fb807===void(0x29*-0x6b+0xd7*0x26+0xd*-0x123)){v['warn']('No\x20variant'+'\x20named\x20'+_0x2acb02+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x5fb807,_0x363ffb);}['_applyMate'+'rialVarian'+'t'](_0x4e9801,_0x470716){_0x470716['forEach'](_0xa659bd=>{if(_0x4e9801===null)_0xa659bd['material']=this['_defaultMa'+'terial'];else{const _0x22e15c=this['data']['meshVarian'+'ts'][_0xa659bd['mesh']['id']];_0x22e15c&&(_0xa659bd['material']=this['data']['materials'][_0x22e15c[_0x4e9801]]);}v['assert'](_0xa659bd['material']);});}static['createScen'+'eHierarchy'](_0x390f33,_0x164ad8){let _0x3820d8=null;if(_0x390f33['length']===-0x2*0x22a+0x1*-0xd0f+0x1164)_0x3820d8=_0x390f33[0x1ef5+0x1*0xe0c+-0x2d01];else{_0x3820d8=new _0x164ad8('SceneGroup');for(const _0x4016f8 of _0x390f33)_0x3820d8['addChild'](_0x4016f8);}return _0x3820d8;}static['createMode'+'l'](_0x249eaa,_0x593bf1){const _0x23e9e5=function(_0x41f062,_0x2809bb,_0xaeeb45,_0x5b16f2,_0x5cd0d8,_0x293fc9,_0x2a51f9){const _0x59e85e=_0x249eaa['meshDefaul'+'tMaterials'][_0x2809bb['id']],_0x1e65ec=_0x59e85e===void(0x23db+0x76f+-0x2b4a)?_0x593bf1:_0x5cd0d8[_0x59e85e],_0x39f01c=new Le(_0x2809bb,_0x1e65ec,_0x293fc9);if(_0x2809bb['morph']){const _0xe2e6c9=new fn(_0x2809bb['morph']);_0x39f01c['morphInsta'+'nce']=_0xe2e6c9,_0x41f062['morphInsta'+'nces']['push'](_0xe2e6c9);}if(_0x2a51f9['hasOwnProp'+'erty']('skin')){const _0x4cee9e=_0x2a51f9['skin'],_0xdea882=_0xaeeb45[_0x4cee9e];_0x2809bb['skin']=_0xdea882;const _0x2ec8bd=_0x5b16f2[_0x4cee9e];_0x39f01c['skinInstan'+'ce']=_0x2ec8bd,_0x41f062['skinInstan'+'ces']['push'](_0x2ec8bd);}_0x41f062['meshInstan'+'ces']['push'](_0x39f01c);},_0x5d05bb=new Oi(),_0x5fbc61=[];for(const _0x2364d7 of _0x249eaa['skins']){const _0x49367e=new nl(_0x2364d7);_0x49367e['bones']=_0x2364d7['bones'],_0x5fbc61['push'](_0x49367e);}_0x5d05bb['graph']=tr['createScen'+'eHierarchy'](_0x249eaa['scenes'],De);for(let _0x368c10=-0x1*-0x1b47+0x1e71+-0x39b8;_0x368c10<_0x249eaa['nodes']['length'];_0x368c10++){const _0x585f38=_0x249eaa['nodes'][_0x368c10];if(_0x585f38['root']===_0x5d05bb['graph']){const _0x4b7e97=_0x249eaa['gltf']['nodes'][_0x368c10];if(_0x4b7e97['hasOwnProp'+'erty']('mesh')){const _0x499925=_0x249eaa['renders'][_0x4b7e97['mesh']]['meshes'];for(let _0x25844b=-0x2d+-0x17f3+0x8*0x304;_0x25844b<_0x499925['length'];_0x25844b++){const _0x307d24=_0x499925[_0x25844b];_0x307d24&&_0x23e9e5(_0x5d05bb,_0x307d24,_0x249eaa['skins'],_0x5fbc61,_0x249eaa['materials'],_0x585f38,_0x4b7e97);}}}}return _0x5d05bb;}['destroy'](){const _0x414e98=this['_assets'],_0x51b1f0=function(_0x18aef3){_0x414e98['remove'](_0x18aef3),_0x18aef3['unload']();},_0x593b96=function(_0x23df74){_0x23df74['forEach'](_0x49a6a3=>{_0x51b1f0(_0x49a6a3);});};this['animations']&&(_0x593b96(this['animations']),this['animations']=null),this['textures']&&(_0x593b96(this['textures']),this['textures']=null),this['materials']&&(_0x593b96(this['materials']),this['materials']=null),this['renders']&&(_0x593b96(this['renders']),this['renders']=null),this['_model']&&(_0x51b1f0(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x215b23,_0x2b5597,_0x4a774d){this['_device']=_0x215b23,this['_assets']=_0x2b5597,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x4a774d;}['_getUrlWit'+'houtParams'](_0x51be2a){return _0x51be2a['indexOf']('?')>=-0xda*-0x1+0xc3e*0x1+-0x68c*0x2?_0x51be2a['split']('?')[0xb4a+0x629*-0x1+-0x521]:_0x51be2a;}['load'](_0x44725d,_0x5ca97f,_0x1167bd){le['fetchArray'+'Buffer'](_0x44725d['load'],(_0xaf2ba9,_0x1f8926)=>{_0xaf2ba9?_0x5ca97f(_0xaf2ba9):tc['parse'](this['_getUrlWit'+'houtParams'](_0x44725d['original']),fe['extractPat'+'h'](_0x44725d['load']),_0x1f8926,this['_device'],_0x1167bd['registry'],_0x1167bd['options'],(_0x2c9c89,_0x4f215d)=>{_0x2c9c89?_0x5ca97f(_0x2c9c89):_0x5ca97f(null,new tr(_0x4f215d,_0x1167bd,this['_assets'],this['_defaultMa'+'terial']));});},_0x1167bd,this['maxRetries']);}['open'](_0x867838,_0x285d54,_0x387fef){return _0x285d54;}['patch'](_0x4e5128,_0x4b29ba){}}class w2 extends Ne{constructor(_0x38b75e){super(_0x38b75e,'container'),this['glbContain'+'erParser']=new b2(_0x38b75e['graphicsDe'+'vice'],_0x38b75e['assets'],-0x202f+-0xfc+0x7*0x4bd),this['parsers']={};}set['maxRetries'](_0xd3695){this['glbContain'+'erParser']['maxRetries']=_0xd3695;for(const _0x4b2ae9 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x4b2ae9)&&(this['parsers'][_0x4b2ae9]['maxRetries']=_0xd3695);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x40942c){return _0x40942c['indexOf']('?')>=0x8b9*0x2+-0x2cb+-0xea7?_0x40942c['split']('?')[-0x6*0x118+-0x2169+-0x17b*-0x1b]:_0x40942c;}['_getParser'](_0x5ba3b5){const _0x1fbc08=_0x5ba3b5?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x5ba3b5))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x1fbc08]||this['glbContain'+'erParser'];}['load'](_0x35ae1f,_0x30c2b6,_0x3617ac){typeof _0x35ae1f=='string'&&(_0x35ae1f={'load':_0x35ae1f,'original':_0x35ae1f}),this['_getParser'](_0x35ae1f['original'])['load'](_0x35ae1f,_0x30c2b6,_0x3617ac);}['open'](_0x586228,_0x564830,_0x31c0e7){return this['_getParser'](_0x586228)['open'](_0x586228,_0x564830,_0x31c0e7);}}class T2 extends Ne{constructor(_0xef6354){super(_0xef6354,'css'),c(this,'decoder',null);}['load'](_0x53eadf,_0x18be32){typeof _0x53eadf=='string'&&(_0x53eadf={'load':_0x53eadf,'original':_0x53eadf}),We['get'](_0x53eadf['load'],{'retry':this['maxRetries']>-0x5*0xdf+-0x1d4f*-0x1+-0x18f4,'maxRetries':this['maxRetries']},(_0x35c1ad,_0x1e9dbd)=>{_0x35c1ad?_0x18be32('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x53eadf['original']+'\x20['+_0x35c1ad+']'):_0x18be32(null,_0x1e9dbd);});}['openBinary'](_0x26b215){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x26b215);}}class A2 extends Ne{constructor(_0x4b9dff){super(_0x4b9dff,'cubemap'),this['_device']=_0x4b9dff['graphicsDe'+'vice'],this['_registry']=_0x4b9dff['assets'],this['_loader']=_0x4b9dff['loader'];}['load'](_0x2dd509,_0x639a17,_0x582428){this['loadAssets'](_0x582428,_0x639a17);}['open'](_0x4cb712,_0x1a9853,_0x16a21b){return _0x16a21b?_0x16a21b['resource']:null;}['patch'](_0x471178,_0x417e63){this['loadAssets'](_0x471178,(_0x373edd,_0x245216)=>{_0x373edd&&(_0x417e63['fire']('error',_0x471178),_0x417e63['fire']('error:'+_0x471178['id'],_0x373edd,_0x471178),_0x471178['fire']('error',_0x471178));});}['getAssetId'+'s'](_0x41a1a2){const _0x301002=[];if(_0x301002[0x155+0xdcc+-0xf21]=_0x41a1a2['file'],(_0x41a1a2['loadFaces']||!_0x41a1a2['file'])&&_0x41a1a2['data']&&_0x41a1a2['data']['textures']){for(let _0x2882aa=-0x14e3*-0x1+-0x1245+-0x29e;_0x2882aa<0x2*0xf56+0x2b*-0xa3+-0x345;++_0x2882aa)_0x301002[_0x2882aa+(0xa3*0x1d+0x593*0x1+-0x36f*0x7)]=_0x41a1a2['data']['textures'][_0x2882aa];}else _0x301002[-0x22af+-0x2399+-0x3b3*-0x13]=_0x301002[0x26d*-0x9+-0x2282+-0x19*-0x241]=_0x301002[0x74b*-0x1+-0xee5+0x1633]=_0x301002[-0x1b68+-0x2*-0x129a+-0x4*0x272]=_0x301002[-0x259*0xd+-0x13bb+-0x1*-0x3245]=_0x301002[0x91+-0x1295+0x2*0x905]=null;return _0x301002;}['compareAss'+'etIds'](_0x99ac18,_0x3e4ae6){return _0x99ac18&&_0x3e4ae6?parseInt(_0x99ac18,0x4b1*0x8+0x1281+-0x37ff)===_0x99ac18||typeof _0x99ac18=='string'?_0x99ac18===_0x3e4ae6:_0x99ac18['url']===_0x3e4ae6['url']:_0x99ac18!==null==(_0x3e4ae6!==null);}['update'](_0xfa412a,_0x1c2260,_0x4bc710){const _0x3cde9d=_0xfa412a['data']||{},_0x2340ff=_0xfa412a['_handlerSt'+'ate']['assets'],_0x2625ae=_0xfa412a['_resources'];let _0x794c70,_0x5db0d9,_0x42595b;const _0x513731=[null,null,null,null,null,null,null],_0x326b71=function(){return _0x3cde9d['hasOwnProp'+'erty']('type')?_0x3cde9d['type']:_0x3cde9d['hasOwnProp'+'erty']('rgbm')?_0x3cde9d['rgbm']?on:Di:null;};if(!_0xfa412a['loaded']||_0x4bc710[-0x1fa+0xdd7+0x1*-0xbdd]!==_0x2340ff[-0x10c2+0x1909+0x1*-0x847]){if(_0x4bc710[0x1*0x408+-0x268e+0x2286]){if(_0x794c70=_0x4bc710[0x497+-0x105*-0xb+-0xfce]['resource'],_0x794c70['cubemap']){for(_0x42595b=0x1ca8+0x1598+-0x3240;_0x42595b<-0x135+-0x15a1+-0xe*-0x1a2;++_0x42595b)_0x513731[_0x42595b+(-0x16*0x27+0xc79*-0x1+-0x4*-0x3f5)]=new he(this['_device'],{'name':_0xfa412a['name']+('_prelitCub'+'emap')+(_0x794c70['width']>>_0x42595b),'cubemap':!(-0x4ec*-0x3+-0x186f*0x1+-0x9ab*-0x1),'type':_0x326b71()||_0x794c70['type'],'width':_0x794c70['width']>>_0x42595b,'height':_0x794c70['height']>>_0x42595b,'format':_0x794c70['format'],'levels':[_0x794c70['_levels'][_0x42595b]],'addressU':ae,'addressV':ae,'mipmaps':_0x42595b===0x188+0xf7e*0x2+-0x2084});}else _0x513731[-0x21ee+0x11f2+0xffd]=_0x794c70;}}else _0x513731[-0x28e+0x19*0xb+0x17c]=_0x2625ae[-0x1775+-0x267f+-0x3*-0x14a7]||null,_0x513731[0x12c2+-0x243f+0x117f]=_0x2625ae[0x1ed*0x2+0xba5+0xf7d*-0x1]||null,_0x513731[-0x15*-0x1ac+-0x4fa*-0x1+-0x2813]=_0x2625ae[-0x1e58+-0x1*0x4d8+0x1*0x2333]||null,_0x513731[0x1*0x1dff+0x18c*0xb+-0x2eff]=_0x2625ae[0x236b+0x1bb*-0xb+-0x346*0x5]||null,_0x513731[-0x56+-0x2*-0x2e3+-0x56b]=_0x2625ae[-0x376*-0x5+-0x8fe+-0x1*0x84b]||null,_0x513731[-0x1dcf+-0x9*0x1c4+0x925*0x5]=_0x2625ae[0x3*-0x445+0x16fd+0xd*-0xc8]||null;const _0x271b0c=_0x4bc710['slice'](-0x1*-0x266d+0x1*0x252e+-0x4b9a*0x1);if(!_0xfa412a['loaded']||!this['cmpArrays'](_0x271b0c,_0x2340ff['slice'](-0x4e*0x49+0x2196+0x1*-0xb57))){if(_0x271b0c['indexOf'](null)===-(-0xd9b+0x2*0x22+0xd58)){const _0x8bf8be=_0x271b0c['map'](_0x53a55a=>_0x53a55a['resource']),_0x4f29a9=[];for(_0x5db0d9=-0x2b7*0xd+-0x10ca*0x2+0x44df;_0x5db0d9<_0x8bf8be[0x1d2c+-0x896*-0x3+-0x1b77*0x2]['_levels']['length'];++_0x5db0d9)_0x4f29a9['push'](_0x8bf8be['map'](_0x574c61=>_0x574c61['_levels'][_0x5db0d9]));const _0xd82e3c=_0x8bf8be[0x1007+0x1efc+0x2f03*-0x1]['format'],_0x172835=new he(this['_device'],{'name':_0xfa412a['name']+'_faces','cubemap':!(0x3f*0x2f+-0x356+-0x83b),'type':_0x326b71()||_0x8bf8be[-0xd*0xed+-0x1261+0x1e6a]['type'],'width':_0x8bf8be[-0x2226+0x77*0x2c+0xdb2*0x1]['width'],'height':_0x8bf8be[-0x184a+-0x1*0x9f6+-0x448*-0x8]['height'],'format':_0xd82e3c===dr?Se:_0xd82e3c,'mipmaps':_0x3cde9d['mipmaps']??!(-0x607*0x1+0x2*-0xd6f+0xaf7*0x3),'levels':_0x4f29a9,'minFilter':_0x3cde9d['hasOwnProp'+'erty']('minFilter')?_0x3cde9d['minFilter']:_0x8bf8be[-0x3*0x7b6+-0x3*0xb0f+-0x1f*-0x1d1]['minFilter'],'magFilter':_0x3cde9d['hasOwnProp'+'erty']('magFilter')?_0x3cde9d['magFilter']:_0x8bf8be[-0xe01+-0x2489+0x328a*0x1]['magFilter'],'anisotropy':_0x3cde9d['hasOwnProp'+'erty']('anisotropy')?_0x3cde9d['anisotropy']:0xb9f+0x1558+-0x20f6,'addressU':ae,'addressV':ae});_0x513731[-0x1*0x19b5+0x1e74+-0x4bf]=_0x172835;}}else _0x513731[-0x1cc3*0x1+0x1426*0x1+0x89d]=_0x2625ae[-0x1*-0x1ad5+-0x8d1+-0x1204]||null;if(!this['cmpArrays'](_0x513731,_0x2625ae)){for(_0xfa412a['resources']=_0x513731,_0xfa412a['_handlerSt'+'ate']['assetIds']=_0x1c2260,_0xfa412a['_handlerSt'+'ate']['assets']=_0x4bc710,_0x42595b=0x8e+0x18f2*0x1+-0x1980;_0x42595b<_0x2625ae['length'];++_0x42595b)_0x2625ae[_0x42595b]!==null&&_0x513731['indexOf'](_0x2625ae[_0x42595b])===-(-0x2395+-0x3f9+0x278f)&&_0x2625ae[_0x42595b]['destroy']();}for(_0x42595b=-0x7*-0x54b+0x223b+-0x4748;_0x42595b<_0x2340ff['length'];++_0x42595b)_0x2340ff[_0x42595b]!==null&&_0x4bc710['indexOf'](_0x2340ff[_0x42595b])===-(-0x1032+0x1ab+-0xba*-0x14)&&_0x2340ff[_0x42595b]['unload']();}['cmpArrays'](_0x5b8a38,_0x353043){if(_0x5b8a38['length']!==_0x353043['length'])return!(-0x2df+-0x3*-0x23e+-0x3da);for(let _0x24058b=-0x7*0xdd+0x1cbf+-0x16b4;_0x24058b<_0x5b8a38['length'];++_0x24058b)if(_0x5b8a38[_0x24058b]!==_0x353043[_0x24058b])return!(-0x3e2+-0xb*-0x2f7+-0x1cba);return!(0x67*-0x60+0x1c76+0xa2a);}['resolveId'](_0x325bbe){const _0x428b02=parseInt(_0x325bbe,-0xacf*-0x2+-0x260d+-0x1079*-0x1);return _0x428b02===_0x325bbe||_0x428b02['toString']()===_0x325bbe?_0x428b02:_0x325bbe;}['loadAssets'](_0x5cd163,_0x3aea7d){_0x5cd163['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x5cd163['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x3d17fd=this,_0x157397=_0x3d17fd['getAssetId'+'s'](_0x5cd163),_0x1ec6d7=[null,null,null,null,null,null,null],_0x23cfa1=_0x5cd163['_handlerSt'+'ate']['assetIds'],_0x2704d5=_0x5cd163['_handlerSt'+'ate']['assets'],_0x1c3d75=_0x3d17fd['_registry'];let _0x560c85=-0x15f3+-0x9e7+-0x1fe1*-0x1;const _0x466e3b=function(_0x4f116d,_0x5edd8c){_0x1ec6d7[_0x4f116d]=_0x5edd8c,_0x560c85--,_0x560c85===-0x1463+-0x2522+0x3985&&(_0x3d17fd['update'](_0x5cd163,_0x157397,_0x1ec6d7),_0x3aea7d(null,_0x5cd163['resources']));},_0xba1da2=function(_0xe2e444,_0x12d9e5,_0x5301b2){_0x3aea7d(_0x12d9e5);},_0x4704c3=function(_0x4f21d0,_0x1b7cf5){_0x1b7cf5['loaded']?_0x466e3b(_0x4f21d0,_0x1b7cf5):(_0x1c3d75['once']('load:'+_0x1b7cf5['id'],_0x466e3b['bind'](_0x3d17fd,_0x4f21d0)),_0x1c3d75['once']('error:'+_0x1b7cf5['id'],_0xba1da2['bind'](_0x3d17fd,_0x4f21d0)),_0x1b7cf5['loading']||_0x1c3d75['load'](_0x1b7cf5));};let _0x544dc4;for(let _0xda3a63=-0x1237+0x4a3+-0x13c*-0xb;_0xda3a63<-0x159+0x594*-0x1+0x6f4;++_0xda3a63){const _0x23f0b5=this['resolveId'](_0x157397[_0xda3a63]);if(!_0x23f0b5)_0x466e3b(_0xda3a63,null);else{if(_0x3d17fd['compareAss'+'etIds'](_0x23f0b5,_0x23cfa1[_0xda3a63]))_0x4704c3(_0xda3a63,_0x2704d5[_0xda3a63]);else{if(parseInt(_0x23f0b5,-0x7b4+0x211c+-0x195e)===_0x23f0b5)_0x544dc4=_0x1c3d75['get'](_0x23f0b5),_0x544dc4?_0x4704c3(_0xda3a63,_0x544dc4):setTimeout(((_0x1abf44,_0x32c851)=>{const _0x39d69b=_0x1c3d75['get'](_0x32c851);_0x39d69b?_0x4704c3(_0x1abf44,_0x39d69b):_0xba1da2(_0x1abf44,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x32c851);})['bind'](null,_0xda3a63,_0x23f0b5));else{const _0x4ca2f6=typeof _0x23f0b5=='string'?{'url':_0x23f0b5,'filename':_0x23f0b5}:_0x23f0b5,_0x197072=_0x4ca2f6['url']['search']('.dds')===-(0x950+-0xe03*-0x1+-0x1752)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x1*-0x4c1+0xe39+-0x977*0x1)}:null;_0x544dc4=new le(_0x5cd163['name']+'_part_'+_0xda3a63,'texture',_0x4ca2f6,_0x197072),_0x1c3d75['add'](_0x544dc4),_0x4704c3(_0xda3a63,_0x544dc4);}}}}}}class E2 extends Ne{constructor(_0x5d54c0){super(_0x5d54c0,'folder');}['load'](_0x10cea5,_0x32e0b4){_0x32e0b4(null,null);}}class Ng{constructor(_0x10f2cd,_0x1d8cfb){this['type']=_0x1d8cfb&&_0x1d8cfb['type']||Kh,this['em']=-0x4*-0x5fc+0xb3*-0x25+-0x7c*-0x4,this['textures']=_0x10f2cd,this['intensity']=-0x1480+0x26ac+-0x122c,this['_data']=null,this['data']=_0x1d8cfb;}set['data'](_0x3e209e){if(this['_data']=_0x3e209e,!!_0x3e209e&&(this['_data']['intensity']!==void(-0x50a+0x2705+-0x21fb)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0x26b3+-0x1*0x7fa+0xa3d*-0x3)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x2b96c8 in this['_data']['chars'])this['_data']['chars'][_0x2b96c8]['map']=-0x10da+0x1eb9+0x43*-0x35;}}get['data'](){return this['_data'];}}function Jd(_0x21e46f){return _0x21e46f['version']<-0x9cf*-0x3+0x1*0x1261+0x2fcb*-0x1&&(_0x21e46f['version']<0x48f*-0x1+-0x335*-0x2+-0x1d9&&(_0x21e46f['info']['maps']=_0x21e46f['info']['maps']||[{'width':_0x21e46f['info']['width'],'height':_0x21e46f['info']['height']}]),_0x21e46f['chars']=Object['keys'](_0x21e46f['chars']||{})['reduce']((_0x519b1e,_0x42b042)=>{const _0x5c61ac=_0x21e46f['chars'][_0x42b042],_0xa95b5d=_0x5c61ac['letter']!==void(0x359+0x5c*0x9+-0x695)?_0x5c61ac['letter']:ah['fromCodePo'+'int'](_0x42b042);return _0x21e46f['version']<0x6*0x1d+0x23*0x72+-0x1042&&(_0x5c61ac['map']=_0x5c61ac['map']||0x287*-0xb+0x200d+-0x11*0x40),_0x519b1e[_0xa95b5d]=_0x5c61ac,_0x519b1e;},{}),_0x21e46f['version']=-0x1cd4+-0x1*0x1e1+0xf5c*0x2),_0x21e46f;}class C2 extends Ne{constructor(_0x29d056){super(_0x29d056,'font'),this['_loader']=_0x29d056['loader'],this['maxRetries']=0xf3e+0xb*-0x24f+0xa27;}['load'](_0x492669,_0x5b3fb5,_0x7f0e7c){typeof _0x492669=='string'&&(_0x492669={'load':_0x492669,'original':_0x492669});const _0x336daf=this;fe['getExtensi'+'on'](_0x492669['original'])==='.json'?We['get'](_0x492669['load'],{'retry':this['maxRetries']>-0x1f69+0x1c7f+0x2ea,'maxRetries':this['maxRetries']},(_0xfdb8c0,_0x28b988)=>{if(_0xfdb8c0)_0x5b3fb5('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x492669['original']+'\x20['+_0xfdb8c0+']');else{const _0x1d285b=Jd(_0x28b988);_0x336daf['_loadTextu'+'res'](_0x492669['load']['replace']('.json','.png'),_0x1d285b,(_0xbbe464,_0x37cc82)=>{_0xbbe464?_0x5b3fb5(_0xbbe464):_0x5b3fb5(null,{'data':_0x1d285b,'textures':_0x37cc82});});}}):(_0x7f0e7c&&_0x7f0e7c['data']&&(_0x7f0e7c['data']=Jd(_0x7f0e7c['data'])),this['_loadTextu'+'res'](_0x492669['load'],_0x7f0e7c&&_0x7f0e7c['data'],_0x5b3fb5));}['_loadTextu'+'res'](_0x17ec2a,_0xebb05d,_0x139dea){const _0x5475c6=_0xebb05d['info']['maps']['length'];let _0x4f232f=-0xb69*0x1+-0xa7c+0x15e5,_0x1b2813=null;const _0x17220e=new Array(_0x5475c6),_0x1725cc=this['_loader'],_0x3067cb=function(_0x2b72fc){const _0x13051d=function(_0x13885d,_0x3e183f){if(!_0x1b2813){if(_0x13885d){_0x1b2813=_0x13885d,_0x139dea(_0x13885d);return;}_0x3e183f['upload'](),_0x17220e[_0x2b72fc]=_0x3e183f,_0x4f232f++,_0x4f232f===_0x5475c6&&_0x139dea(null,_0x17220e);}};_0x2b72fc===0x3a+-0x14b0+0x1476?_0x1725cc['load'](_0x17ec2a,'texture',_0x13051d):_0x1725cc['load'](_0x17ec2a['replace']('.png',_0x2b72fc+'.png'),'texture',_0x13051d);};for(let _0x215809=-0x9fc+0x1915+0x305*-0x5;_0x215809<_0x5475c6;_0x215809++)_0x3067cb(_0x215809);}['open'](_0x2116fb,_0x48aa9b,_0x2e560d){let _0x507d68;return _0x48aa9b['textures']?_0x507d68=new Ng(_0x48aa9b['textures'],_0x48aa9b['data']):_0x507d68=new Ng(_0x48aa9b,null),_0x507d68;}['patch'](_0x3769ed,_0x2d9dfb){const _0xdd4479=_0x3769ed['resource'];!_0xdd4479['data']&&_0x3769ed['data']?_0xdd4479['data']=_0x3769ed['data']:!_0x3769ed['data']&&_0xdd4479['data']&&(_0x3769ed['data']=_0xdd4479['data']),_0x3769ed['data']&&(_0x3769ed['data']=Jd(_0x3769ed['data']));}}async function M2(){const _0x29574e=-0x2a5+-0x85f*-0x4+-0x1ed7+0.28209479177387814;class _0x2dae04{constructor(_0x264436,_0x1eea5f,_0x4bc6b0){this['x']=_0x264436,this['y']=_0x1eea5f,this['z']=_0x4bc6b0;}}class _0xff8052{constructor(_0x46cea6,_0x10dc4d,_0x32fdd3,_0x1fa590){this['x']=_0x46cea6,this['y']=_0x10dc4d,this['z']=_0x32fdd3,this['w']=_0x1fa590;}}class _0x421821{constructor(_0x195cff,_0x3fa521,_0x49bd3b,_0x4e5fb4){this['x']=_0x195cff,this['y']=_0x3fa521,this['z']=_0x49bd3b,this['w']=_0x4e5fb4;}['set'](_0x119ecf,_0x30e547,_0x7d1053,_0x23709b){this['x']=_0x119ecf,this['y']=_0x30e547,this['z']=_0x7d1053,this['w']=_0x23709b;}}class _0x34d04a{constructor(_0x4b791c,_0x12c158,_0xef1117,_0x56d1d1,_0x11e982,_0x4395cc,_0x17b7e1,_0x258b5f,_0x2ca75e,_0x241c89,_0x1b8169,_0x3076d5){const _0x21672b=(_0x18475d,_0x40d658)=>{const _0x19fad0=(0x7fd*-0x1+-0x17e7*0x1+0x1fe5<<_0x40d658)-(-0x13b8+0x18bd+-0xc*0x6b);return(_0x18475d&_0x19fad0)/_0x19fad0;},_0x5b58a4=(_0x3913f5,_0x152a5d)=>{_0x3913f5['x']=_0x21672b(_0x152a5d>>>0x367*0x2+-0x1281+0xe8*0xd,-0x35a+0x5c*0x1c+-0x6ab),_0x3913f5['y']=_0x21672b(_0x152a5d>>>0x4ae+-0x14+-0x48f,0x189*0xe+0x15b*-0x11+0x1*0x197),_0x3913f5['z']=_0x21672b(_0x152a5d,-0x1*0x950+0x1*-0x1a31+0x238c);},_0x57946b=(_0xf69c8f,_0x4acf7c)=>{_0xf69c8f['x']=_0x21672b(_0x4acf7c>>>0x1*0x102d+0x1000+0xbf*-0x2b,0x999+0x9*-0x13c+0x18b),_0xf69c8f['y']=_0x21672b(_0x4acf7c>>>0x2165*0x1+0x1277*0x1+-0x1ba*0x1e,0xce5*-0x2+-0x117*0x5+-0x5*-0x641),_0xf69c8f['z']=_0x21672b(_0x4acf7c>>>0x13d*-0xb+0x3*-0x467+0x3*0x8f4,-0x1f4*-0x2+0x20da+0x2*-0x125d),_0xf69c8f['w']=_0x21672b(_0x4acf7c,0x1479+-0x14dd+0x12*0x6);},_0x121e24=(_0xaecc2e,_0x16a90b)=>{const _0x2be598=(-0x2b*0x3b+0x1f19+-0x152f)/(Math['sqrt'](0x1088+0x7*0xdf+-0x169f)*(-0xdf*0xa+0x1*-0x406+0x5*0x28c+0.5)),_0x2e9ee3=(_0x21672b(_0x16a90b>>>-0x3d*-0x3e+0x7a0+-0x1652,-0x1*0x473+-0x3a2*-0x2+-0x2c7)-(0x26*0xc6+0x11a8+-0x2f0c+0.5))*_0x2be598,_0x372ad4=(_0x21672b(_0x16a90b>>>-0x1*-0x1aad+0x3ef*-0x1+0x5ad*-0x4,0x1a48+-0x6*0x54d+-0x4*-0x164)-(-0x2*-0x7a5+-0xa*-0x282+-0x285e+0.5))*_0x2be598,_0x32815a=(_0x21672b(_0x16a90b,-0x9b*0x1f+0x7ae*-0x5+0x65*0x91)-(-0x1f*-0xd3+0x11fb+0x38*-0xc7+0.5))*_0x2be598,_0x427cce=Math['sqrt'](-0x7d5+0x225d+-0x1a87-(_0x2e9ee3*_0x2e9ee3+_0x372ad4*_0x372ad4+_0x32815a*_0x32815a));switch(_0x16a90b>>>-0x6*0x581+0x2301+-0x1dd){case 0x295+0x2ac+0x10d*-0x5:_0xaecc2e['set'](_0x2e9ee3,_0x372ad4,_0x32815a,_0x427cce);break;case-0xc*0x175+-0x3cb+-0x718*-0x3:_0xaecc2e['set'](_0x427cce,_0x372ad4,_0x32815a,_0x2e9ee3);break;case-0xe*-0x250+-0xe*0x110+-0x117e:_0xaecc2e['set'](_0x372ad4,_0x427cce,_0x32815a,_0x2e9ee3);break;case 0xca2+-0x1c9*-0x9+-0x1cb0:_0xaecc2e['set'](_0x372ad4,_0x32815a,_0x427cce,_0x2e9ee3);break;}},_0x5dfddb=(_0x408014,_0x576e0c,_0x22ebfb)=>_0x408014*(0x3*0x5e1+0x7f*-0x2b+0x3b3-_0x22ebfb)+_0x576e0c*_0x22ebfb,_0x2add2e=[-0x1220+-0x2*0x254+0x16cb,-0x1efd+-0x2d7+0x21dc,0x107*-0x9+-0x1*0x182a+0x2178][_0x11e982-(-0x1263+0x1d09+-0xaa5*0x1)],_0x695cf4=-0xc2d*-0x1+0x1988+0x1*-0x25af;this['read']=_0x26b335=>{const _0x6689b3=Math['floor'](_0x26b335/(0x7*0xda+0x1*-0x204d+-0x3*-0x91d))*_0x12c158;if(_0x4395cc&&(_0x5b58a4(_0x4395cc,_0xef1117[_0x26b335*_0x695cf4+(0x815+0xe99*0x1+-0x16ae)]),_0x4395cc['x']=_0x5dfddb(_0x4b791c[_0x6689b3+(0x1dab+-0x355*-0x4+-0x2aff)],_0x4b791c[_0x6689b3+(-0x68e*-0x4+-0x810+-0x1225)],_0x4395cc['x']),_0x4395cc['y']=_0x5dfddb(_0x4b791c[_0x6689b3+(-0x31*0xc5+-0x7*0x20c+0x340a)],_0x4b791c[_0x6689b3+(-0xe80+-0x66*0x59+-0x1*-0x31fa)],_0x4395cc['y']),_0x4395cc['z']=_0x5dfddb(_0x4b791c[_0x6689b3+(-0x251*0x2+0x74*0x26+-0xc94)],_0x4b791c[_0x6689b3+(-0x1*-0x19d2+0x74d+-0x108d*0x2)],_0x4395cc['z'])),_0x17b7e1&&_0x121e24(_0x17b7e1,_0xef1117[_0x26b335*_0x695cf4+(0x4dc+0x505+-0x9e0)]),_0x258b5f&&(_0x5b58a4(_0x258b5f,_0xef1117[_0x26b335*_0x695cf4+(0x1c3d+0xb*-0x45+0xca2*-0x2)]),_0x258b5f['x']=_0x5dfddb(_0x4b791c[_0x6689b3+(-0x2*-0x114f+-0x25f0+0x358)],_0x4b791c[_0x6689b3+(-0x866+0x11*-0xe+0x8d*0x11)],_0x258b5f['x']),_0x258b5f['y']=_0x5dfddb(_0x4b791c[_0x6689b3+(-0x1dc5+-0x1*0x279+-0x2ef*-0xb)],_0x4b791c[_0x6689b3+(-0x695*-0x1+-0x183a*0x1+0x3*0x5e5)],_0x258b5f['y']),_0x258b5f['z']=_0x5dfddb(_0x4b791c[_0x6689b3+(0x143f*-0x1+-0x2*-0x1373+-0xe3*0x15)],_0x4b791c[_0x6689b3+(0xa75+0x8*0x40+-0x1*0xc6a)],_0x258b5f['z'])),_0x2ca75e&&(_0x57946b(_0x2ca75e,_0xef1117[_0x26b335*_0x695cf4+(-0x23ad+0x1f06+0x4aa)]),_0x12c158>0x157*0x16+0x1db8+-0xe2*0x43&&(_0x2ca75e['x']=_0x5dfddb(_0x4b791c[_0x6689b3+(0x1b21+-0x1*0x2a0+-0x1*0x1875)],_0x4b791c[_0x6689b3+(0xb5*-0xd+-0xe97+0x17d7)],_0x2ca75e['x']),_0x2ca75e['y']=_0x5dfddb(_0x4b791c[_0x6689b3+(0xc77*0x1+-0xf82+-0x84*-0x6)],_0x4b791c[_0x6689b3+(0xa56+0x4cc+0xf12*-0x1)],_0x2ca75e['y']),_0x2ca75e['z']=_0x5dfddb(_0x4b791c[_0x6689b3+(-0xa05+0x390+0x1*0x683)],_0x4b791c[_0x6689b3+(-0x1*-0x1573+0x12b0+0x1be*-0x17)],_0x2ca75e['z']))),_0x241c89&&(_0x5b58a4(_0x241c89,_0xef1117[_0x26b335*_0x695cf4+(0x19f0+0x19c5+0x1*-0x33b1)]),_0x241c89['x']=_0x5dfddb(_0x4b791c[_0x6689b3+(0x1*-0x21ab+-0xac1*-0x3+-0x2*-0xbd)],_0x4b791c[_0x6689b3+(-0x1abc+0x24f3+0xa22*-0x1)],_0x241c89['x']),_0x241c89['y']=_0x5dfddb(_0x4b791c[_0x6689b3+(0x1a96+0x5de+-0x2061)],_0x4b791c[_0x6689b3+(-0xe36*0x2+0x1*-0x1a71+0x36f3)],_0x241c89['y']),_0x241c89['z']=_0x5dfddb(_0x4b791c[_0x6689b3+(-0x4*0x297+0xe83+-0x413)],_0x4b791c[_0x6689b3+(0xad*0xd+0x49*-0x2a+-0xe*-0x3c)],_0x241c89['z'])),_0x1b8169&&(_0x5b58a4(_0x1b8169,_0xef1117[_0x26b335*_0x695cf4+(-0xc*-0x2fa+0x8a+-0x1*0x243d)]),_0x1b8169['x']=_0x5dfddb(_0x4b791c[_0x6689b3+(0x135b*0x2+-0x12d1*0x1+-0x13cd)],_0x4b791c[_0x6689b3+(-0x1a48+0x1661+-0x4*-0x100)],_0x1b8169['x']),_0x1b8169['y']=_0x5dfddb(_0x4b791c[_0x6689b3+(0x19*-0x8d+0xba9+0x236)],_0x4b791c[_0x6689b3+(-0xb26*0x2+0x5*-0xd5+0x22*0xc8)],_0x1b8169['y'])),_0x3076d5&&_0x11e982>0x1013+0x25*0x70+0xac1*-0x3){for(let _0x17e4cc=-0x4*-0x41f+0xe73*-0x2+-0x635*-0x2;_0x17e4cc<-0x261c+-0x2e8*0x3+0x2ed7;++_0x17e4cc)for(let _0x5d0a6e=0x6*0x437+-0xdaf*0x2+0x1c*0x13;_0x5d0a6e<-0x2605+0x228*-0x1+0x203*0x14;++_0x5d0a6e)_0x3076d5[_0x17e4cc*(-0x2*-0x972+-0xe2d*-0x2+0x101*-0x2f)+_0x5d0a6e]=_0x5d0a6e<_0x2add2e?_0x56d1d1[(_0x26b335*(-0x179+-0x25ae+0x6*0x687)+_0x17e4cc)*_0x2add2e+_0x5d0a6e]*((0x2549+-0x1391+-0x11b0)/(-0x22ba+-0x4f2+-0x1d*-0x167))-(0x24dc+0x7bb+-0x2c93):0x217f+-0x2290+0x3*0x5b;}};}}self['onmessage']=async _0x431427=>{const {data:_0x3f87f2}=_0x431427;switch(_0x3f87f2['type']){case'initWorker':break;case'decompress':_0x19dc15(_0x3f87f2['numSplats'],_0x3f87f2['chunkData'],_0x3f87f2['chunkSize'],_0x3f87f2['vertexData'],_0x3f87f2['shData'],_0x3f87f2['shBands']);break;}};const _0x19dc15=(_0x5cf1e8,_0x3062ca,_0x303a38,_0x321087,_0x86f3cf,_0x1122e4)=>{const _0x502b21=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x1122e4>-0x18e5+0x64b+0x129a){const _0x58ecff=[];for(let _0x39e187=0x5cd+0x2a5*0x4+0x257*-0x7;_0x39e187<0x6*0x2fe+-0x2*0x5ff+-0x5c9;++_0x39e187)_0x58ecff['push']('f_rest_'+_0x39e187);_0x502b21['splice'](_0x502b21['indexOf']('f_dc_0')+(0x1ec7+0x70f+-0x25d5),-0x29*-0x47+0x6ea+-0x1249,..._0x58ecff);}const _0x4b4486={};_0x502b21['forEach'](_0x4288a8=>{_0x4b4486[_0x4288a8]=new Float32Array(_0x5cf1e8);}),console['log']('decompress');const _0x8d6b3d=new _0x2dae04(),_0x2ee71e=new _0x421821(),_0x2ef01b=new _0x2dae04(),_0x49f3cb=new _0xff8052(),_0x3d1847=new _0x2dae04(),_0x54fe80=new _0x2dae04(),_0x5bdad6=_0x1122e4>-0x1a9d+-0x291*0x4+0x24e1?new Float32Array(0x26d6+0x649*0x2+-0x333b):null,_0x4026a2=new _0x34d04a(_0x3062ca,_0x303a38,_0x321087,_0x86f3cf,_0x1122e4,_0x8d6b3d,_0x2ee71e,_0x2ef01b,_0x49f3cb,_0x3d1847,_0x54fe80,_0x5bdad6);for(let _0x30ae96=0x1652+-0x1ad8+0x486;_0x30ae96<_0x5cf1e8;++_0x30ae96)if(_0x4026a2['read'](_0x30ae96),_0x4b4486['x'][_0x30ae96]=_0x8d6b3d['x'],_0x4b4486['y'][_0x30ae96]=_0x8d6b3d['y'],_0x4b4486['z'][_0x30ae96]=_0x8d6b3d['z'],_0x4b4486['rot_1'][_0x30ae96]=_0x2ee71e['x'],_0x4b4486['rot_2'][_0x30ae96]=_0x2ee71e['y'],_0x4b4486['rot_3'][_0x30ae96]=_0x2ee71e['z'],_0x4b4486['rot_0'][_0x30ae96]=_0x2ee71e['w'],_0x4b4486['scale_0'][_0x30ae96]=_0x2ef01b['x'],_0x4b4486['scale_1'][_0x30ae96]=_0x2ef01b['y'],_0x4b4486['scale_2'][_0x30ae96]=_0x2ef01b['z'],_0x4b4486['motion_0'][_0x30ae96]=_0x3d1847['x'],_0x4b4486['motion_1'][_0x30ae96]=_0x3d1847['y'],_0x4b4486['motion_2'][_0x30ae96]=_0x3d1847['z'],_0x4b4486['t_scale'][_0x30ae96]=_0x54fe80['x'],_0x4b4486['t'][_0x30ae96]=_0x54fe80['y'],_0x4b4486['f_dc_0'][_0x30ae96]=(_0x49f3cb['x']-(-0x209b+-0x958+0x29f3+0.5))/_0x29574e,_0x4b4486['f_dc_1'][_0x30ae96]=(_0x49f3cb['y']-(0x242*-0x9+-0x1956+0x2da8+0.5))/_0x29574e,_0x4b4486['f_dc_2'][_0x30ae96]=(_0x49f3cb['z']-(0x18c3*-0x1+0x6f*0x57+0x452*-0x3+0.5))/_0x29574e,_0x4b4486['opacity'][_0x30ae96]=_0x49f3cb['w']<=0x147*-0x1c+-0x22d1+0x4695?-(0x1933+-0x2*0x1121+0x937):_0x49f3cb['w']>=-0x2e*0x2+0x1bf6+-0x1b99?-0x25b4+-0x8*-0x407+0x5a4:-Math['log']((-0x17*0x132+-0xad*0x2f+-0xa*-0x5ed)/_0x49f3cb['w']-(-0x1d50+0x13*-0x6+0x1dc3)),_0x5bdad6){for(let _0x4572f7=0x24*0x24+0x1f9b+-0x7*0x53d;_0x4572f7<0x53d+-0x93b+0x42b*0x1;++_0x4572f7)_0x4b4486['f_rest_'+_0x4572f7][_0x30ae96]=_0x5bdad6[_0x4572f7];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x4b4486});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0xcac44=>{if(!this['worker'])return;const {data:_0x282ee9}=_0xcac44;switch(_0x282ee9['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x282ee9['data']);break;}};}['decompress'](_0x53e03d,_0x4ab646,_0x3ff4f5,_0x17012b,_0x3baa06,_0x1eb60d,_0x52c658){this['chunkData']=new Float32Array(_0x4ab646)['slice'](),this['vertexData']=new Uint32Array(_0x17012b)['slice'](),this['shData']=new Uint8Array(_0x3baa06)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x53e03d,'chunkData':this['chunkData'],'chunkSize':_0x3ff4f5,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x1eb60d});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x2acab4,_0x6a2fd2,_0x11c327,_0x32b762,_0x233fea,_0x59a9ea,_0x57b243,_0x4cafce){const _0x4b33f9=(_0x11098a,_0x2bd56b)=>{const _0x3792b5=(0x1e5+-0x30a+0x1*0x126<<_0x2bd56b)-(0x41*0x97+-0x237c+-0x2da*0x1);return(_0x11098a&_0x3792b5)/_0x3792b5;},_0x26b4fc=(_0x38bdeb,_0x2d3275)=>{_0x38bdeb['x']=_0x4b33f9(_0x2d3275>>>-0x17*0x13a+0xa84+-0x29*-0x6f,0x1446+-0x159f*-0x1+-0x29da),_0x38bdeb['y']=_0x4b33f9(_0x2d3275>>>-0x15*-0x12+0x8d2*0x3+-0x1be5,-0x1e24+0x1*0xc46+0x8*0x23d),_0x38bdeb['z']=_0x4b33f9(_0x2d3275,0x4e1+0x1978+-0x1e4e);},_0x129145=(_0x5ab44b,_0x2628b1)=>{_0x5ab44b['x']=_0x4b33f9(_0x2628b1>>>0xb17*-0x2+-0x22f2+0xe4e*0x4,-0x1f7f+-0x1*0xd0a+0x1*0x2c91),_0x5ab44b['y']=_0x4b33f9(_0x2628b1>>>0x1*-0x412+0x5*0xda+-0x20,-0x35b+0xf59+-0xbf6),_0x5ab44b['z']=_0x4b33f9(_0x2628b1>>>0x1be2+0x1ec9+-0x3aa3*0x1,0x2634+-0x1*-0x2b4+-0x28e0),_0x5ab44b['w']=_0x4b33f9(_0x2628b1,0x37*0x54+0x61b*-0x1+-0xbe9);},_0x252541=(_0x59e7e6,_0x27b37e)=>{const _0x4ac5a1=(0x122f+0x859+-0x1a87)/(Math['sqrt'](-0x11f1+0x79f+0x52a*0x2)*(-0x2b9+-0x6*-0x19+0x223+0.5)),_0x5ebdd9=(_0x4b33f9(_0x27b37e>>>0x1*0x1061+0x1a3*0xb+-0x224e,0x6a1*0x2+-0x5b6+-0x782)-(0xd31+-0x1393+0x662+0.5))*_0x4ac5a1,_0x411d87=(_0x4b33f9(_0x27b37e>>>-0x1800+-0x5*0x1b8+0x20a2,-0x1e93+-0x268e+0x452b)-(0x1*-0x2581+0x2*0x9cb+-0x21*-0x8b+0.5))*_0x4ac5a1,_0x1e88a9=(_0x4b33f9(_0x27b37e,0x994+0xd*-0x15+0x3*-0x2d3)-(0xa87+0x114e+0x39*-0x7d+0.5))*_0x4ac5a1,_0x5e31a7=Math['sqrt'](-0x4af*0x1+-0x78+0x528-(_0x5ebdd9*_0x5ebdd9+_0x411d87*_0x411d87+_0x1e88a9*_0x1e88a9));switch(_0x27b37e>>>0x1*0x1e99+0xf*0x115+-0x2eb6){case-0x1*-0x1e5+-0x51*-0x11+0x26*-0x31:_0x59e7e6['set'](_0x5ebdd9,_0x411d87,_0x1e88a9,_0x5e31a7);break;case 0x1c5e+0xb*0x149+-0x2a80:_0x59e7e6['set'](_0x5e31a7,_0x411d87,_0x1e88a9,_0x5ebdd9);break;case-0x9*0xd7+0x230b*-0x1+0xc*0x38d:_0x59e7e6['set'](_0x411d87,_0x5e31a7,_0x1e88a9,_0x5ebdd9);break;case 0x7af+0x100e+0x1*-0x17ba:_0x59e7e6['set'](_0x411d87,_0x1e88a9,_0x5e31a7,_0x5ebdd9);break;}},_0x22c429=(_0x4e4506,_0x47e92c,_0x190bc7)=>_0x4e4506*(-0x2*-0x130f+0x4f9*0x1+-0x2b16-_0x190bc7)+_0x47e92c*_0x190bc7,{chunkData:_0x1ba0d9,chunkSize:_0x2c0915,vertexData:_0x5228af,shData:_0x31298f,shBands:_0x505d4d}=_0x2acab4,_0x562f06=[0x2dd*-0x3+0x335+0x565,-0x136d*0x1+0x25aa+-0x1235,-0x3*-0x653+-0x12e3*0x1+-0x1*0x7][_0x505d4d-(0xe72*-0x2+0x2*-0x67+0x1*0x1db3)],_0x3908f7=-0x1*0x25ac+0x165b+0xf57;this['read']=_0x273d11=>{const _0x46b109=Math['floor'](_0x273d11/(-0x5a*-0x6c+0x1fe*0xe+-0x40dc))*_0x2c0915;if(_0x6a2fd2&&(_0x26b4fc(_0x6a2fd2,_0x5228af[_0x273d11*_0x3908f7+(-0xb*-0x18a+0x25b4*0x1+-0x36a2)]),_0x6a2fd2['x']=_0x22c429(_0x1ba0d9[_0x46b109+(-0xef*0x1f+-0x1453+0x3144)],_0x1ba0d9[_0x46b109+(-0x4e*-0x7f+-0xf1*-0xd+-0x32ec*0x1)],_0x6a2fd2['x']),_0x6a2fd2['y']=_0x22c429(_0x1ba0d9[_0x46b109+(0xaeb+-0x1538+0xa4e)],_0x1ba0d9[_0x46b109+(-0x37*-0x16+-0x108d*-0x2+0x2c*-0xdc)],_0x6a2fd2['y']),_0x6a2fd2['z']=_0x22c429(_0x1ba0d9[_0x46b109+(0x5a1*-0x5+0x937+0x12f0)],_0x1ba0d9[_0x46b109+(0x109f+-0x1617+0x57d)],_0x6a2fd2['z'])),_0x11c327&&_0x252541(_0x11c327,_0x5228af[_0x273d11*_0x3908f7+(0x823+0x1c1+-0x9e3)]),_0x32b762&&(_0x26b4fc(_0x32b762,_0x5228af[_0x273d11*_0x3908f7+(-0x1*-0x709+0x1*-0x1fde+0x18d7)]),_0x32b762['x']=_0x22c429(_0x1ba0d9[_0x46b109+(0x17e*0x7+-0x2379+0x190d)],_0x1ba0d9[_0x46b109+(0x47a+0x388*0x9+0x119*-0x21)],_0x32b762['x']),_0x32b762['y']=_0x22c429(_0x1ba0d9[_0x46b109+(-0x1ee2+-0x1f*0x127+0x42a2)],_0x1ba0d9[_0x46b109+(-0xa16+-0x1993*0x1+0x23b3)],_0x32b762['y']),_0x32b762['z']=_0x22c429(_0x1ba0d9[_0x46b109+(0xb4a+0xf*0x13c+-0x1dc6)],_0x1ba0d9[_0x46b109+(0x1085+0x1*-0x1918+0x44f*0x2)],_0x32b762['z'])),_0x233fea&&(_0x129145(_0x233fea,_0x5228af[_0x273d11*_0x3908f7+(-0xe5d*0x1+0x1a8e+-0xc2e)]),_0x2c0915>-0x19bd*-0x1+-0x208f+0x6de&&(_0x233fea['x']=_0x22c429(_0x1ba0d9[_0x46b109+(0x1ca9+-0x1708+0x1*-0x595)],_0x1ba0d9[_0x46b109+(0x2f3*0x3+0x2*-0x89b+-0xe*-0x9a)],_0x233fea['x']),_0x233fea['y']=_0x22c429(_0x1ba0d9[_0x46b109+(0x22*0xac+0x2014+-0xb*0x4fd)],_0x1ba0d9[_0x46b109+(0x2371+-0x8d*0x3b+-0x2e2)],_0x233fea['y']),_0x233fea['z']=_0x22c429(_0x1ba0d9[_0x46b109+(0x146*-0x15+-0xdd*-0x17+0x6f1*0x1)],_0x1ba0d9[_0x46b109+(-0xb93*0x3+-0x34*-0xc+0x102d*0x2)],_0x233fea['z']))),_0x59a9ea&&(_0x26b4fc(_0x59a9ea,_0x5228af[_0x273d11*_0x3908f7+(-0x5*0x2cf+0xad*0x27+0x4*-0x313)]),_0x59a9ea['x']=_0x22c429(_0x1ba0d9[_0x46b109+(0x2501*0x1+0x15b4*0x1+-0x1*0x3aa3)],_0x1ba0d9[_0x46b109+(0x25d1+0x16e5+0x53*-0xbb)],_0x59a9ea['x']),_0x59a9ea['y']=_0x22c429(_0x1ba0d9[_0x46b109+(0x9*-0x1ab+0x3e2+0xb34)],_0x1ba0d9[_0x46b109+(-0x17bb+0xe*-0x233+-0x7cd*-0x7)],_0x59a9ea['y']),_0x59a9ea['z']=_0x22c429(_0x1ba0d9[_0x46b109+(0x204d+0x32*0x78+-0x37a9)],_0x1ba0d9[_0x46b109+(-0x7b*-0x35+-0x1f4a+0x5ea)],_0x59a9ea['z'])),_0x57b243&&(_0x26b4fc(_0x57b243,_0x5228af[_0x273d11*_0x3908f7+(-0x5c+0x1*-0x2b7+0x48*0xb)]),_0x57b243['x']=_0x22c429(_0x1ba0d9[_0x46b109+(-0x25fb+0x2337+-0x3*-0xf4)],_0x1ba0d9[_0x46b109+(-0x1*-0x1f67+0x7*-0x394+-0x642)],_0x57b243['x']),_0x57b243['y']=_0x22c429(_0x1ba0d9[_0x46b109+(0x190d+-0x833*-0x1+-0x2126)],_0x1ba0d9[_0x46b109+(0x364+0xcc9+0x11*-0xf2)],_0x57b243['y'])),_0x4cafce&&_0x505d4d>0x16*-0x97+0x443*-0x7+0x2acf){for(let _0x5efdfd=0x5*0x18b+0x28d*-0x5+0x50a*0x1;_0x5efdfd<-0x8bd*0x4+-0x1185+-0x1*-0x347c;++_0x5efdfd)for(let _0x582a6c=0x1a7c+-0x1*0x82d+-0x1*0x124f;_0x582a6c<0x18d*0x8+-0x1*-0x1c45+-0x289e;++_0x582a6c)_0x4cafce[_0x5efdfd*(0x5*0x1d6+-0x23ca+-0x1aab*-0x1)+_0x582a6c]=_0x582a6c<_0x562f06?_0x31298f[(_0x273d11*(-0x1*0x1d30+0x747+-0x15ec*-0x1)+_0x5efdfd)*_0x562f06+_0x582a6c]*((0x1*-0x1987+-0x5f8+0x1f87)/(0x1*-0x1c51+0x3*0xa48+0x38*-0x7))-(0x364+0x8d2*0x2+-0x1504):-0x1e83*0x1+0x52c+-0x1957*-0x1;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x296007,_0x334354,_0x25916c,_0x5894dd,_0x453e77,_0x7bbde8,_0x5f3c62){return new R2(this,_0x296007,_0x334354,_0x25916c,_0x5894dd,_0x453e77,_0x7bbde8,_0x5f3c62);}['calcAabb'](_0x18a119){const {chunkData:_0xe7e7b4,numChunks:_0x4f8064,chunkSize:_0x15bb3f}=this;let _0x5c539b=Math['exp'](Math['max'](_0xe7e7b4[0x168a+-0x1aa8+0x427],_0xe7e7b4[0xf1+0x2302*-0x1+0x221b],_0xe7e7b4[-0x22c6+-0x17a6+0x3a77])),_0x47b09b=_0xe7e7b4[-0x80d*0x1+-0x19*-0x6d+-0x298*0x1]-_0x5c539b,_0x2bae78=_0xe7e7b4[0x13b5*-0x1+-0x3*0x11+0x3*0x6a3]-_0x5c539b,_0x1531e1=_0xe7e7b4[0x1*0x17ff+-0x2*-0x56c+0x1*-0x22d5]-_0x5c539b,_0x1fa617=_0xe7e7b4[0xb53+-0x6fa*-0x1+0x124a*-0x1]+_0x5c539b,_0x44e8a1=_0xe7e7b4[-0x1fb7+0x62f+0x1*0x198c]+_0x5c539b,_0x206562=_0xe7e7b4[-0xedb+-0x6*0x535+0x2e1e]+_0x5c539b;for(let _0x10a78f=-0x2100+0x207b+0x86;_0x10a78f<_0x4f8064;++_0x10a78f){const _0x4424c7=_0x10a78f*_0x15bb3f;_0x5c539b=Math['exp'](Math['max'](_0xe7e7b4[_0x4424c7+(0x6e6*-0x2+0x11*-0x1c1+-0x25*-0x12e)],_0xe7e7b4[_0x4424c7+(0x1*0x24be+-0x6*0x3b3+0x1*-0xe82)],_0xe7e7b4[_0x4424c7+(0x8*0x2f3+0x1f*-0x12e+-0x1*-0xd05)])),_0x47b09b=Math['min'](_0x47b09b,_0xe7e7b4[_0x4424c7+(-0x1*-0x11+-0x22*0xd9+0x1cc1*0x1)]-_0x5c539b),_0x2bae78=Math['min'](_0x2bae78,_0xe7e7b4[_0x4424c7+(-0x4f*-0x4a+0x3*-0xb47+0xb00*0x1)]-_0x5c539b),_0x1531e1=Math['min'](_0x1531e1,_0xe7e7b4[_0x4424c7+(-0x27*0x82+0x4d7*0x5+0x463*-0x1)]-_0x5c539b),_0x1fa617=Math['max'](_0x1fa617,_0xe7e7b4[_0x4424c7+(0x1bb7+-0x102b*-0x1+-0x2bdf)]+_0x5c539b),_0x44e8a1=Math['max'](_0x44e8a1,_0xe7e7b4[_0x4424c7+(0x21f3+0x504+-0x26f3*0x1)]+_0x5c539b),_0x206562=Math['max'](_0x206562,_0xe7e7b4[_0x4424c7+(0x5be*-0x2+0x1f71+-0x13f0)]+_0x5c539b);}return _0x18a119['center']['set']((_0x47b09b+_0x1fa617)*(0x76b+-0x1704+-0x533*-0x3+0.5),(_0x2bae78+_0x44e8a1)*(0x8b5+0x333*0x9+0x960*-0x4+0.5),(_0x1531e1+_0x206562)*(-0x10f*-0x3+0x46*0x31+0x1093*-0x1+0.5)),_0x18a119['halfExtent'+'s']['set']((_0x1fa617-_0x47b09b)*(-0x8db*-0x1+-0x1b6a+0x128f+0.5),(_0x44e8a1-_0x2bae78)*(0xbdd+-0x117d+0x5a0+0.5),(_0x206562-_0x1531e1)*(-0x1b3d+0x1923+-0x2*-0x10d+0.5)),!(-0xd*0x19+-0x2*0x11db+-0x1*-0x24fb);}['getCenters'](_0xf65a0e){const {vertexData:_0x280fdb,chunkData:_0x4fad33,numChunks:_0x426f3a,chunkSize:_0x254596}=this;let _0x5845e9,_0x13dbda,_0x1d9f86,_0x487cbe,_0x5f4856,_0x24ea3c;for(let _0x543523=0x120e*-0x1+-0x21ae+0x33bc;_0x543523<_0x426f3a;++_0x543523){const _0x3de0db=_0x543523*_0x254596;_0x5845e9=_0x4fad33[_0x3de0db+(-0x12*0x172+-0x89b+0x229f)],_0x13dbda=_0x4fad33[_0x3de0db+(0x24b*-0x1+-0x26a1+0x1*0x28ed)],_0x1d9f86=_0x4fad33[_0x3de0db+(0x8f3*-0x1+-0x1c8b*-0x1+-0x1396)],_0x487cbe=_0x4fad33[_0x3de0db+(0x10d2+0x20e*-0xd+0xc3*0xd)],_0x5f4856=_0x4fad33[_0x3de0db+(-0x3b*-0x44+-0x1*0x1ab0+-0x4*-0x2c2)],_0x24ea3c=_0x4fad33[_0x3de0db+(-0x128f*0x1+0x3d2*0x7+0xa*-0xd1)];const _0x563e08=Math['min'](this['numSplats'],(_0x543523+(0xf55*-0x1+-0x9ae+0x2*0xc82))*(0x29*0x2b+-0x15a3+0xfc0));for(let _0x431d65=_0x543523*(0x2fe*-0xb+0x61*-0x54+-0xc6*-0x55);_0x431d65<_0x563e08;++_0x431d65){const _0x3dabc1=_0x280fdb[_0x431d65*(-0x30c*-0x8+0x1740+-0x2f9c*0x1)],_0x33ea21=(_0x3dabc1>>>0x11*-0xbb+-0x17f*0x7+0x16f9)/(-0x4cc+0x1*-0x217c+0x2e47*0x1),_0x334463=(_0x3dabc1>>>0x1c6a+0x10c4+-0x2d23&0x5ab*0x1+0x2399+-0x2545)/(0x8*-0x419+-0x18d*-0x11+0xa6a),_0x3cbbac=(_0x3dabc1&-0x15cd+-0x1f72+0x6ce*0x9)/(-0x4*0x149+0x595*-0x3+0x1de2);_0xf65a0e[_0x431d65*(-0x1f*0x9+0x2381+0x1*-0x2267)+(0x22c0+-0x165c+-0x319*0x4)]=(-0x1*-0x1415+0x35*-0xba+0x126e-_0x33ea21)*_0x5845e9+_0x33ea21*_0x487cbe,_0xf65a0e[_0x431d65*(0x8dd*0x2+-0x33*-0x5+-0x12b6)+(0xe8+0x19*-0x14e+0x17*0x161)]=(-0x1ad2+-0x1*-0xf09+0x3ee*0x3-_0x334463)*_0x13dbda+_0x334463*_0x5f4856,_0xf65a0e[_0x431d65*(-0x80+0x1721*-0x1+0x17a4)+(0x126e+-0x19d6*-0x1+-0x2c42)]=(0x24e6+0x1da0*-0x1+-0x745*0x1-_0x3cbbac)*_0x1d9f86+_0x3cbbac*_0x24ea3c;}}}['calcFocalP'+'oint'](_0x3a84e8){const {chunkData:_0x3641e2,numChunks:_0x21a00a,chunkSize:_0x34cf40}=this;_0x3a84e8['x']=-0x1*0x12ef+0x15fe*-0x1+0x28ed*0x1,_0x3a84e8['y']=-0x647*-0x1+0x2*0x57c+-0x113f,_0x3a84e8['z']=-0x1414+0x1ede+0xaca*-0x1;for(let _0x1674ca=0x2b*0xa4+-0x23e6*-0x1+-0x3f72;_0x1674ca<_0x21a00a;++_0x1674ca){const _0x43ee03=_0x1674ca*_0x34cf40;_0x3a84e8['x']+=_0x3641e2[_0x43ee03+(0x2576+0x3*0x24d+-0x1*0x2c5d)]+_0x3641e2[_0x43ee03+(0x20c1+-0x2320+-0x2*-0x131)],_0x3a84e8['y']+=_0x3641e2[_0x43ee03+(0x79*0x31+-0x111c+-0x60c)]+_0x3641e2[_0x43ee03+(0x1*0x1f30+-0x1*0x254b+0x61f)],_0x3a84e8['z']+=_0x3641e2[_0x43ee03+(0x2356*0x1+-0x1d06+-0x64e)]+_0x3641e2[_0x43ee03+(-0x1*-0xacb+0x166*0xb+-0x1a28)];}_0x3a84e8['mulScalar']((-0x12b3*-0x2+0x93d+-0x1*0x2ea3+0.5)/_0x21a00a);}get['isCompress'+'ed'](){return!(0xb*0xd4+0x1ba0+0x125e*-0x2);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x1aaa+-0x1a9+-0x1801*0x1));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x32e9b8;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x32e9b8=this['shData'])==null?void(0xd5d+-0x24b2+0x1755):_0x32e9b8['length'])/this['numSplats']/(-0x2*0x1049+0x1*0x4a3+0x49*0x62)]??0x26f6*0x1+0x175d+-0x3e53;}async['decompress'](){const _0x824c4e=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x46782c}=this;if(_0x46782c>-0x1c86+0x2*-0xa61+-0x2*-0x18a4){const _0x5d3a37=[];for(let _0x534eb5=0x1*-0x23ab+0x1e41+-0x2*-0x2b5;_0x534eb5<0x5dd*-0x2+0x10dd+0xa*-0x7f;++_0x534eb5)_0x5d3a37['push']('f_rest_'+_0x534eb5);_0x824c4e['splice'](_0x824c4e['indexOf']('f_dc_0')+(-0x10ba+0xdb2*-0x1+0x1e6d),-0x6f*0xf+0x2614+-0x1f93,..._0x5d3a37);}const _0xd581ab={};_0x824c4e['forEach'](_0xff4035=>{_0xd581ab[_0xff4035]=new Float32Array(this['numSplats']);});const _0x4efc82=new P2();return _0x4efc82['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0xd581ab),new Promise((_0x9ba51f,_0x50970e)=>{_0x4efc82['on']('decompress'+'ed',_0x56798d=>{_0x4efc82['destroy'](),_0x9ba51f(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x824c4e['map'](_0x29a8fb=>({'name':_0x29a8fb,'type':'float','byteSize':0x4,'storage':_0x56798d[_0x29a8fb]}))}]));});});}}const D2=(_0x4444e4,_0x33a7f7,_0x57dcb4,_0x3f3a0b,_0x2216ae)=>{for(let _0x40ff0e=-0x3a*-0x4f+0x3c7+-0x15ad;_0x40ff0e<_0x2216ae;++_0x40ff0e)for(let _0x1d234c=0xef*0xb+0xd91+-0x17d6;_0x1d234c<_0x3f3a0b;++_0x1d234c)_0x4444e4[_0x40ff0e*_0x33a7f7+_0x1d234c]=_0x57dcb4[_0x40ff0e*_0x3f3a0b+_0x1d234c];},zg=(_0x21ac23,_0x12d67a,_0x145714,_0x129ff6,_0x306d1a,_0x5c82dc)=>{for(let _0x26656d=-0x106*0x1f+-0x2f+0x1fe9;_0x26656d<_0x306d1a;++_0x26656d)for(let _0x3703f8=-0x279+0x1da8+-0x1b2f*0x1;_0x3703f8<_0x129ff6;++_0x3703f8)_0x21ac23[_0x26656d*_0x12d67a+_0x3703f8]=_0x145714[_0x26656d*_0x129ff6+_0x3703f8+_0x5c82dc];};class L2{constructor(_0x369ec5,_0x521760){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x4d5b21,chunkSize:_0x2de6fe,numChunks:_0x2a226d,numSplats:_0x36a535,vertexData:_0x2476bb,shBands:_0x4a7f90,is4D:_0x1fc713}=_0x521760;this['device']=_0x369ec5,this['numSplats']=_0x36a535,this['numVisible'+'Splats']=_0x36a535,this['is4D']=_0x1fc713,this['aabb']=new _e(),_0x521760['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x36a535*(-0x22f3*-0x1+0x1eb6+0xaf1*-0x6)),_0x521760['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x36a535));const _0x5a37a4=this['packedText'+'ure']['lock']();zg(_0x5a37a4,-0x1b34+-0x1*-0x1c55+-0x11d,_0x2476bb,-0x4fb+-0x2*-0x671+-0x7e1,_0x36a535,-0x193a*-0x1+0x1035+-0x296f),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x36a535));const _0x59e3f0=this['packedTime'+'Texture']['lock']();zg(_0x59e3f0,0x42b*-0x1+0x2*0x4f7+-0x5c1,_0x2476bb,0x16*0x14+-0xfc5+-0x4b1*-0x3,_0x36a535,-0x2e*0xd6+0x10e8+0x14*0x114);const _0x1f90a5=this['evalTextur'+'eSize'](_0x2a226d);_0x1f90a5['x']*=-0x1*-0x10b1+-0x1cf*-0x9+-0x20f1,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x1f90a5);const _0x1db299=this['chunkTextu'+'re']['lock']();if(D2(_0x1db299,(-0x8*-0x29f+0x1e62*0x1+-0x3356)*(-0x18ff+-0x2e0+-0x1*-0x1be6),_0x4d5b21,_0x2de6fe,_0x2a226d),_0x2de6fe===0xa97+-0x277*0xe+-0x4cb*-0x5){for(let _0x1b3afd=-0x13*0x2b+-0x294+0xd3*0x7;_0x1b3afd<_0x2a226d;++_0x1b3afd)_0x1db299[_0x1b3afd*(0xb6e+-0x3*0xc23+0x1*0x190f)+(-0x17f1+-0x119*0x1c+0x36bc)]=0x586+-0x1c4*-0x1+-0x1*0x749,_0x1db299[_0x1b3afd*(-0x8d+-0x681+-0xa6*-0xb)+(-0x1df*-0x3+0x11cf+-0x175c)]=0x161a+-0x183c+0x223*0x1,_0x1db299[_0x1b3afd*(-0x19c*0xd+-0x3da*0x1+0x18da)+(0x53*-0x59+0x8d*0x33+-0x3*-0x47)]=0x1b2b*0x1+-0x2080+0x556;}if(this['chunkTextu'+'re']['unlock'](),_0x4a7f90>0x10f*0x1f+-0x1cd1*-0x1+0x157*-0x2e){const {shData:_0x2e9569}=_0x521760,_0x3111f5=this['evalTextur'+'eSize'](_0x36a535),_0x5cb45b=this['createText'+'ure']('shTexture0',ut,_0x3111f5),_0x16aa5e=this['createText'+'ure']('shTexture1',ut,_0x3111f5),_0x25aaae=this['createText'+'ure']('shTexture2',ut,_0x3111f5),_0x32ac09=_0x5cb45b['lock'](),_0x96bd2e=_0x16aa5e['lock'](),_0x54b9e6=_0x25aaae['lock'](),_0x4a6980=new Uint8Array(_0x32ac09['buffer']),_0x177772=new Uint8Array(_0x96bd2e['buffer']),_0xdde066=new Uint8Array(_0x54b9e6['buffer']),_0x56f93e=[-0xf74*0x2+0x12*0x80+0x1f*0xb5,-0x53e+-0x116f+0x16b5,0xf*-0x95+-0x48b*-0x2+-0x4c][_0x4a7f90-(-0x166e+-0x117a+-0x1*-0x27e9)];for(let _0x549654=0x1e4a+0x1b*0xd3+-0x348b;_0x549654<_0x36a535;++_0x549654)for(let _0x569b91=-0x6d3+0x1a5*-0x17+0xf*0x2fa;_0x569b91<-0x233+-0x1*-0x1951+-0x170f*0x1;++_0x569b91)_0x4a6980[_0x549654*(-0x2*0xf92+0x1*0x2c5+0x1c6f)+_0x569b91]=_0x569b91<_0x56f93e?_0x2e9569[(_0x549654*(0x1ffe+-0x7*-0x6d+-0x22f6)+(0x1571+0xbb0+-0x2121))*_0x56f93e+_0x569b91]:-0x1d69+-0x1285+0x306d,_0x177772[_0x549654*(-0x1*-0x1a5e+-0x951+-0x1*0x10fd)+_0x569b91]=_0x569b91<_0x56f93e?_0x2e9569[(_0x549654*(-0x180b*-0x1+0x2b9+-0x1ac1*0x1)+(-0x651*-0x3+0x1a*-0xd6+0x2ca*0x1))*_0x56f93e+_0x569b91]:-0x476+-0xa*0x233+0x1af3,_0xdde066[_0x549654*(0xbad+0xfcd+-0x27e*0xb)+_0x569b91]=_0x569b91<_0x56f93e?_0x2e9569[(_0x549654*(0xffe*0x2+-0x129b+0x6af*-0x2)+(-0x2326*-0x1+-0x9*-0x33f+-0x405b))*_0x56f93e+_0x569b91]:-0x11f*-0x17+-0x1675*0x1+0x2d5*-0x1;_0x5cb45b['unlock'](),_0x16aa5e['unlock'](),_0x25aaae['unlock'](),this['shTexture0']=_0x5cb45b,this['shTexture1']=_0x16aa5e,this['shTexture2']=_0x25aaae;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x5dbca8,_0x2f2dea,_0x1a7d74,_0x3346b9,_0x2ba294,_0x205537;(_0x5dbca8=this['packedText'+'ure'])==null||_0x5dbca8['destroy'](),(_0x2f2dea=this['packedTime'+'Texture'])==null||_0x2f2dea['destroy'](),(_0x1a7d74=this['chunkTextu'+'re'])==null||_0x1a7d74['destroy'](),(_0x3346b9=this['shTexture0'])==null||_0x3346b9['destroy'](),(_0x2ba294=this['shTexture1'])==null||_0x2ba294['destroy'](),(_0x205537=this['shTexture2'])==null||_0x205537['destroy']();}['createMate'+'rial'](_0x261318){const _0x3f114f=z0(_0x261318);return _0x3f114f['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(-0x3*-0xa49+-0x22*0x5e+-0x1*0x125f)),_0x3f114f['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x3f114f['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x3f114f['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x3f114f['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x3f114f['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x3f114f['setDefine']('SH_BANDS',-0x104*-0x10+0x1*-0x1441+-0x1*-0x404),_0x3f114f['setParamet'+'er']('shTexture0',this['shTexture0']),_0x3f114f['setParamet'+'er']('shTexture1',this['shTexture1']),_0x3f114f['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x3f114f['setDefine']('SH_BANDS',0x1a0a+0x102c+-0x2a36),_0x3f114f;}['evalTextur'+'eSize'](_0x225d9d){const _0x362eab=Math['ceil'](Math['sqrt'](_0x225d9d)),_0x14f389=Math['ceil'](_0x225d9d/_0x362eab);return new $(_0x362eab,_0x14f389);}['createText'+'ure'](_0x23c4d4,_0x54e426,_0x27b626,_0x31d5bc){return new he(this['device'],{'name':_0x23c4d4,'width':_0x27b626['x'],'height':_0x27b626['y'],'format':_0x54e426,'cubemap':!(-0x1*0x1ea3+-0x2125+0x3fc9*0x1),'mipmaps':!(-0xeb+-0xf95*-0x1+-0x3*0x4e3),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x31d5bc?{'levels':[_0x31d5bc]}:{}});}}class F2{constructor(_0x58762f,_0x1ec2bd,_0x283337){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x58762f,this['splatData']=_0x1ec2bd,this['comments']=_0x283337);}['destroy'](){var _0x14a522;this['device']=null,this['splatData']=null,(_0x14a522=this['splat'])==null||_0x14a522['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x56bbe3,_0x30b903,_0x513926){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x30b903,this['splatData']['appendGSpl'+'atData'](_0x56bbe3,_0x513926,_0x30b903),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x4aa995={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x4aa995);const _0x1eee71=new $e(),_0x57d007=_0x1eee71['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x1eee71['setLocalEu'+'lerAngles'](0x2596+0x22de+-0x4874,-0x23c5*0x1+0x79c*0x1+-0x59*-0x51,-0xa3d*0x3+-0x97*0xa+-0x7*-0x53b),_0x57d007['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x1eee71;}['createInst'+'ance'](_0x53d9ea={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x3a5398=this['createSpla'+'t']();return new Np(_0x3a5398,_0x53d9ea);}}const Ug=new Uint8Array([0xf4f+-0x1e93+0x3ed*0x4,-0x3f*-0x25+0x1*-0x1e0f+0x6*0x390,-0x1*0x40c+-0x2b*0x17+-0x3a*-0x25,-0xea1+0x883+0x628]),Vg=new Uint8Array([0x18c*-0xd+-0x2d*0xc7+0x3721,-0x19ac+-0xa8b*0x1+0x249c,0x9dc+-0x4c7+-0x4a7,0x1b7*0xb+0x26b*-0xb+0x41*0x20,0x7f*-0x33+-0x445*0x1+0x1df1,-0x16e4+-0x2019+0x3765,0x3*-0x51a+-0x89*-0x3e+-0x117b,-0x2*-0xde5+-0x1*-0xe2f+-0x4*0xa66,0x55*0x2f+-0x9b+-0xe9c,0x257b+0x14eb+-0x3a01,0x16a4+0x8ad+-0x1edf,-0x2417+0x6b*-0x34+0x39dd]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x1cb657,_0x3f43bb){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',0x2580+-0x19e4+-0xb9c),c(this,'tail',-0xff9+-0x1*0x959+0x1952),(this['reader']=_0x1cb657,this['progressFu'+'nc']=_0x3f43bb);}async['read'](){var _0x5e8d13;const {value:_0x58ad16,done:_0x4e7153}=await this['reader']['read']();if(_0x4e7153)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x58ad16),(_0x5e8d13=this['progressFu'+'nc'])==null||_0x5e8d13['call'](this,_0x58ad16['byteLength']);}['push'](_0x13ed55){if(!this['data'])this['data']=_0x13ed55,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x13ed55['length'];else{const _0x15a668=this['tail']-this['head'],_0xa18ee0=_0x15a668+_0x13ed55['length'];if(this['data']['length']>=_0xa18ee0)this['head']>0xa64+-0x265e+0x1bfa?(this['data']['copyWithin'](-0x1*-0x52c+-0x209b+0x1b6f,this['head'],this['tail']),this['data']['set'](_0x13ed55,_0x15a668),this['head']=0x1bec+0x8ea*-0x1+-0x3*0x656,this['tail']=_0xa18ee0):(this['data']['set'](_0x13ed55,this['tail']),this['tail']+=_0x13ed55['length']);else{const _0x13b859=new Uint8Array(_0xa18ee0);this['head']>-0x1*0x31d+0x1*-0x205a+0x2377||this['tail']<this['data']['length']?_0x13b859['set'](this['data']['subarray'](this['head'],this['tail']),-0x2e0+-0x183+0x463*0x1):_0x13b859['set'](this['data'],0x2220+-0x19*0x10d+-0x7db),_0x13b859['set'](_0x13ed55,_0x15a668),this['data']=_0x13b859,this['view']=new DataView(this['data']['buffer']),this['head']=-0x1*0xfea+0x4*0x11+0xfa6,this['tail']=_0xa18ee0;}}}['compact'](){this['head']>-0x1941+-0x22*-0x52+-0x1*-0xe5d&&(this['data']['copyWithin'](0x1*-0x187d+-0x1ff6*0x1+-0x1*-0x3873,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x247b+0x8*0x2c6+0xe4b);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0xa6ee6d=this['view']['getInt8'](this['head']);return this['head']++,_0xa6ee6d;}['getUint8'](){const _0x254a03=this['view']['getUint8'](this['head']);return this['head']++,_0x254a03;}['getInt16'](){const _0x5ec185=this['view']['getInt16'](this['head'],!(-0x1ec4+-0x1213*0x1+0x30d7));return this['head']+=-0x1979*0x1+0x4*-0x3b4+-0x5*-0x80f,_0x5ec185;}['getUint16'](){const _0x275254=this['view']['getUint16'](this['head'],!(0x14b6*0x1+0x10ff+-0x563*0x7));return this['head']+=0x2615+-0x1*-0xdf+-0x1379*0x2,_0x275254;}['getInt32'](){const _0x54241e=this['view']['getInt32'](this['head'],!(-0x264b+0xcf0+-0x195b*-0x1));return this['head']+=-0x20fc+0x1902+0x7fe,_0x54241e;}['getUint32'](){const _0x5a376b=this['view']['getUint32'](this['head'],!(-0x1*-0x359+0x2629*-0x1+0x22d0));return this['head']+=0x14*-0x101+-0x2405*-0x1+-0x1c5*0x9,_0x5a376b;}['getFloat32'](){const _0x1f0208=this['view']['getFloat32'](this['head'],!(0x1ab7*0x1+-0x17cb*0x1+-0x2ec));return this['head']+=-0x609*0x1+-0xdad+0x13ba,_0x1f0208;}['getFloat64'](){const _0x49ede7=this['view']['getFloat64'](this['head'],!(-0x1*-0xb9e+0x2*0xd6f+-0x267c));return this['head']+=0x107+-0x1*-0xa43+-0xb42,_0x49ede7;}}const k2=_0x46deb6=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x43de8d=[],_0x6e14b6=[];let _0x45aa9a;for(let _0x209f9d=-0x2d*-0x9d+0x1490+-0x86*0x5c;_0x209f9d<_0x46deb6['length'];++_0x209f9d){const _0x33a2fb=_0x46deb6[_0x209f9d]['split']('\x20');switch(_0x33a2fb[0x2b1*0x1+-0x7*0x4ef+0x3fb*0x8]){case'comment':_0x6e14b6['push'](_0x33a2fb['slice'](0x65*0x2+0x1b64+-0x1c2d)['join']('\x20'));break;case'format':_0x45aa9a=_0x33a2fb[-0x244c+0x1953*0x1+-0x2*-0x57d];break;case'element':_0x43de8d['push']({'name':_0x33a2fb[-0x8bc+0xd12+0x1*-0x455],'count':parseInt(_0x33a2fb[-0x2*0x106+-0x1b1c+0x1d2a],-0xb25*0x1+-0x38f*-0x7+-0xdba),'properties':[]});break;case'property':{if(!bf['has'](_0x33a2fb[-0x97*-0x13+-0x9d9+-0x15b]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x33a2fb[0x22f7+0x1081*-0x1+-0x5*0x3b1]+('\x27\x20in\x20ply\x20h'+'eader'));_0x43de8d[_0x43de8d['length']-(-0x1008+0x8*0x2c8+0x637*-0x1)]['properties']['push']({'type':_0x33a2fb[-0x1fee+-0x3e0+0x23cf],'name':_0x33a2fb[0x992+0xf98+0x2e*-0x8c],'storage':null,'byteSize':bf['get'](_0x33a2fb[-0xcc1+0x918+0x3aa])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x33a2fb[-0x1*-0x1be5+-0x133f*0x1+-0x9*0xf6]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x43de8d,'format':_0x45aa9a,'comments':_0x6e14b6};},B2=_0x5906b0=>{const _0x526b79=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x13a132=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x2b5de1=new Array(0x21+0xe*0x1eb+-0x1ace)['fill']('')['map']((_0x2d8e69,_0x14d826)=>'f_rest_'+_0x14d826),_0x54953b=()=>_0x5906b0[0xf85+-0x1ccb+0xd46]['name']==='chunk'&&_0x5906b0[-0x6a2+0x1f4f+-0x18ad]['properties']['every']((_0x48d7c1,_0x467665)=>_0x48d7c1['name']===_0x526b79[_0x467665]&&_0x48d7c1['type']==='float')&&_0x5906b0[-0xf7+-0x514+0x60c]['name']==='vertex'&&_0x5906b0[-0x8ad*-0x1+-0x106+-0x7a6]['properties']['every']((_0x417078,_0x4ae99e)=>_0x417078['name']===_0x13a132[_0x4ae99e]&&_0x417078['type']==='uint'),_0x47dd60=()=>_0x5906b0[-0x319*-0x3+0x1*0x20d3+-0x2c*0xf5]['name']==='sh'&&[-0x35*0x17+-0x659*0x1+0xb25,-0x1*0x1c19+0x44*0x53+0x625,-0x1eba+0x1fb7+-0x68*0x2]['indexOf'](_0x5906b0[0x3*-0xb1d+-0x1a3*0x1+0x22fc]['properties']['length'])!==-(0x5*0x23+-0xd1e+0x2*0x638)&&_0x5906b0[0x18b+0xab8+-0xc41]['properties']['every']((_0x3dad70,_0x1744f4)=>_0x3dad70['name']===_0x2b5de1[_0x1744f4]&&_0x3dad70['type']==='uchar');return _0x5906b0['length']===-0x788+0x908+0x1*-0x17e&&_0x54953b()||_0x5906b0['length']===0x3*0x2b6+-0x3*-0x766+-0x1e51&&_0x54953b()&&_0x47dd60();},N2=_0x144868=>_0x144868['length']===0x1682+-0x4d*0x4f+0xe*0x17&&_0x144868[-0xfe3*-0x1+-0x1*0x13e7+0x404]['name']==='vertex'&&_0x144868[0x165+0x1910+-0x1a75]['properties']['every'](_0x8b3aee=>_0x8b3aee['type']==='float'),z2=async(_0x2e460e,_0x392838)=>{const _0x2af602=new I2(),_0x166a82=_0x392838[0x15f1+-0x2142+0xb51]['count'],_0x264582=_0x392838[0x22a7+-0x16f*0x17+-0x1ae]['properties']['length'],_0x43d5f0=_0x392838[0xd09+-0x1*0xdf6+0xee]['count'],_0x1ae82c=_0x392838[0x13e6+0xb38+-0x1f1d]['properties']['some'](_0x4de472=>_0x4de472['name']==='packed_tim'+'e'),_0x42bebd=_0x54e653=>{const _0x495e4d=Math['ceil'](Math['sqrt'](_0x54e653)),_0x2c6ebc=Math['ceil'](_0x54e653/_0x495e4d);return _0x495e4d*_0x2c6ebc;};_0x2af602['numSplats']=_0x43d5f0,_0x2af602['is4D']=_0x1ae82c,_0x2af602['chunkData']=new Float32Array(_0x166a82*_0x264582),_0x2af602['vertexData']=new Uint32Array(_0x42bebd(_0x43d5f0)*(0x1d6f+0x198c+-0x4ff*0xb));const _0x26f830=async(_0x184eae,_0x3aeb2f)=>{const _0x4d412d=new Uint8Array(_0x184eae);let _0x3200ab=0x89*-0x2e+0x1*-0x185f+0x30fd;for(;_0x3200ab<_0x3aeb2f;){for(;_0x2e460e['remaining']===0xcc7+-0x3d+-0xc8a;)await _0x2e460e['read']();const _0x32c1f0=Math['min'](_0x3aeb2f-_0x3200ab,_0x2e460e['remaining']),_0x32e684=_0x2e460e['data'];for(let _0x2755e4=0x203d+-0x47*-0x41+0xc91*-0x4;_0x2755e4<_0x32c1f0;++_0x2755e4)_0x4d412d[_0x3200ab++]=_0x32e684[_0x2e460e['head']++];}};return await _0x26f830(_0x2af602['chunkData']['buffer'],_0x166a82*_0x264582*(-0x868+0x1c6f+-0x6d*0x2f)),await _0x26f830(_0x2af602['vertexData']['buffer'],_0x43d5f0*(0x2068+0x2087+-0x40e9)*(0x19ce+-0x907+-0x1*0x10c3)),_0x392838['length']===-0x1*0x1bbf+-0x1355+-0x1*-0x2f17&&(_0x2af602['shData']=new Uint8Array(_0x392838[-0x102*-0x20+-0x1*0xdcc+-0x939*0x2]['count']*_0x392838[0x2*0x2cb+-0x1*-0x1304+-0x8*0x313]['properties']['length']),await _0x26f830(_0x2af602['shData']['buffer'],_0x2af602['shData']['byteLength'])),_0x2af602;},U2=async(_0x34dd16,_0x427fb6)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x306b8b=_0x427fb6[-0x26df+-0x21*-0x12+0x248d],_0x4d67e4=_0x306b8b['properties'],_0x23027b=_0x4d67e4['length'],_0x290311=_0x4d67e4['map'](_0x1bf795=>_0x1bf795['storage']),_0x5d0a8c=_0x4d67e4['reduce']((_0x7cbfae,_0x3944c1)=>_0x7cbfae+_0x3944c1['byteSize'],0x17*-0x8b+-0x858+0x14d5);let _0x1e39c=0x4f*-0x3d+0x2658*0x1+-0x107*0x13,_0x3b00c1;const _0x30bd49=()=>{const _0x23d8b0=_0x34dd16['data']['buffer'];(_0x3b00c1==null?void(-0xbf*-0x2+0x3*0x94f+0x11*-0x1bb):_0x3b00c1['buffer'])!==_0x23d8b0&&(_0x3b00c1=new Float32Array(_0x23d8b0,-0xb12+0x3*-0x665+0x1e41,_0x23d8b0['byteLength']/(0x4a*0x5c+-0x1*-0xda4+-0x2838)));};for(_0x30bd49();_0x1e39c<_0x306b8b['count'];){for(;_0x34dd16['remaining']<_0x5d0a8c;)await _0x34dd16['read'](),_0x30bd49();const _0x42a70f=Math['min'](_0x306b8b['count']-_0x1e39c,Math['floor'](_0x34dd16['remaining']/_0x5d0a8c));for(let _0x1f33ce=0xf6*0xd+0x17c5*0x1+0x1*-0x2443;_0x1f33ce<_0x23027b;++_0x1f33ce){const _0x3be571=_0x290311[_0x1f33ce];for(let _0x2f24bc=0x22*0x115+-0x8ae*0x1+-0x1c1c;_0x2f24bc<_0x42a70f;++_0x2f24bc)_0x3be571[_0x2f24bc+_0x1e39c]=_0x3b00c1[_0x2f24bc*_0x23027b+_0x1f33ce];}_0x1e39c+=_0x42a70f,_0x34dd16['head']+=_0x42a70f*_0x5d0a8c;}return new Ia(_0x427fb6);},V2=async(_0x43a176,_0x2455f6)=>{for(let _0x5ee1fe=-0x9c*-0xb+0x2d0+-0x984;_0x5ee1fe<_0x2455f6['length'];++_0x5ee1fe){const _0x382f5f=_0x2455f6[_0x5ee1fe],_0x5d1194=_0x382f5f['properties']['reduce']((_0xe499ba,_0x25ba2a)=>_0xe499ba+_0x25ba2a['byteSize'],0x2*0x12a8+-0x12*0x182+-0xa2c),_0x147515=_0x382f5f['properties']['map'](_0x118fb7=>{if(_0x118fb7['storage'])switch(_0x118fb7['type']){case'char':return(_0xdd6e6e,_0x172468)=>{_0x118fb7['storage'][_0x172468]=_0xdd6e6e['getInt8']();};case'uchar':return(_0x2390e0,_0x529db0)=>{_0x118fb7['storage'][_0x529db0]=_0x2390e0['getUint8']();};case'short':return(_0x47bcf3,_0x45da20)=>{_0x118fb7['storage'][_0x45da20]=_0x47bcf3['getInt16']();};case'ushort':return(_0x402f4b,_0x6db506)=>{_0x118fb7['storage'][_0x6db506]=_0x402f4b['getUint16']();};case'int':return(_0x31b904,_0x258acf)=>{_0x118fb7['storage'][_0x258acf]=_0x31b904['getInt32']();};case'uint':return(_0x4122cd,_0x23b727)=>{_0x118fb7['storage'][_0x23b727]=_0x4122cd['getUint32']();};case'float':return(_0x50e1b4,_0xadbe8)=>{_0x118fb7['storage'][_0xadbe8]=_0x50e1b4['getFloat32']();};case'double':return(_0x4a4b60,_0x5c67bf)=>{_0x118fb7['storage'][_0x5c67bf]=_0x4a4b60['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x118fb7['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x1fb8b7=>{_0x1fb8b7['head']+=_0x118fb7['byteSize'];};});let _0x19bfb6=-0x1eb6+0x1693*0x1+0x1*0x823;for(;_0x19bfb6<_0x382f5f['count'];){for(;_0x43a176['remaining']<_0x5d1194;)await _0x43a176['read']();const _0x3c9c62=Math['min'](_0x382f5f['count']-_0x19bfb6,Math['floor'](_0x43a176['remaining']/_0x5d1194));for(let _0x125981=0x904+-0x2*0x1e7+-0x536;_0x125981<_0x3c9c62;++_0x125981){for(let _0x395e5c=0x1*-0x8af+0x2b*-0x33+0x1140;_0x395e5c<_0x382f5f['properties']['length'];++_0x395e5c)_0x147515[_0x395e5c](_0x43a176,_0x19bfb6);_0x19bfb6++;}}}return new Ia(_0x2455f6);},G2=async(_0x5216e2,_0x438193=null,_0x3734d6=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x2fba70=(_0xd7c956,_0x14a624)=>{const _0x4fd881=_0xd7c956['length']-_0x14a624['length'];let _0x452c13,_0x55053a;for(_0x452c13=-0x89*0x26+0x1d8*0x9+0x3be;_0x452c13<=_0x4fd881;++_0x452c13){for(_0x55053a=-0x1a32+-0xbbb*-0x1+0x1*0xe77;_0x55053a<_0x14a624['length']&&_0xd7c956[_0x452c13+_0x55053a]===_0x14a624[_0x55053a];++_0x55053a);if(_0x55053a===_0x14a624['length'])return _0x452c13;}return-(-0x1cb8+0x1533+-0x6b*-0x12);},_0x32b713=(_0x55c470,_0xeb661b)=>{if(_0x55c470['length']<_0xeb661b['length'])return!(0x36*-0xa6+0x95*0x41+-0x10*0x2d);for(let _0x4126e9=0xee5+-0x3bd+0x2*-0x594;_0x4126e9<_0xeb661b['length'];++_0x4126e9)if(_0x55c470[_0x4126e9]!==_0xeb661b[_0x4126e9])return!(0x93f+0x19*-0x128+0x347*0x6);return!(0x26b6+0x12*0x48+0x1af*-0x1a);},_0x55da74=new O2(_0x5216e2,_0x3734d6);let _0x437df4;for(;;){if(await _0x55da74['read'](),_0x55da74['tail']>=Ug['length']&&!_0x32b713(_0x55da74['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x437df4=_0x2fba70(_0x55da74['data'],Vg),_0x437df4!==-(-0x1511+-0x1*-0x258b+-0x1079))break;}const _0x227a9=new TextDecoder('ascii')['decode'](_0x55da74['data']['subarray'](-0x899*0x2+0x1cdb+-0xba9,_0x437df4))['split']('\x0a'),{elements:_0x524a79,format:_0x35e27b,comments:_0x173919}=k2(_0x227a9);if(_0x35e27b!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x55da74['head']=_0x437df4+Vg['length'],_0x55da74['compact'](),{'data':await((async()=>B2(_0x524a79)?await z2(_0x55da74,_0x524a79):(_0x524a79['forEach'](_0x1d4d9f=>{_0x1d4d9f['properties']['forEach'](_0x4c8086=>{const _0x5b3018=bf['get'](_0x4c8086['type']);if(_0x5b3018){const _0x5857e1=!_0x438193||_0x438193(_0x4c8086['name'])?new _0x5b3018(_0x1d4d9f['count']):null;_0x4c8086['storage']=_0x5857e1;}});}),N2(_0x524a79)?await U2(_0x55da74,_0x524a79):await V2(_0x55da74,_0x524a79)))()),'comments':_0x173919};},H2=_0x273110=>!(-0xb06+-0x5*-0x4f9+-0x3*0x49d);class $2{constructor(_0x59233d,_0x3e696b,_0x1cdb38){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x59233d,this['assets']=_0x3e696b,this['maxRetries']=_0x1cdb38,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x50b2f7,_0x3139f8,_0x54b431){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x50b2f7['load']['includes'](',')?this['urlList']=_0x50b2f7['load']['split'](','):this['urlList']['push'](_0x50b2f7['load']);const _0x1dfcce=_0x54b431['data']['loadAllSeq']?this['urlList']['length']:-0x2615+-0x3*0xbb1+-0x4929*-0x1,_0x152538=_0x54b431['data']['timeOption'],_0x301ef2=_0x54b431['data']['events'];for(let _0x1d4c00=-0x9bd+0xbdb+-0x21e*0x1;_0x1d4c00<_0x1dfcce;_0x1d4c00++)await this['loadGsplat'+'Data'](this['urlList'][_0x1d4c00]['trim'](),_0x3139f8,_0x54b431,_0x1d4c00,_0x152538,_0x301ef2);}async['loadGsplat'+'Data'](_0x18b0b5,_0x336fe2,_0x3b2d61,_0x517918,_0x168461,_0x5a77e3){var _0x33aa44;try{const _0x57e50b=await fetch(_0x18b0b5);if(!_0x57e50b||!_0x57e50b['body'])_0x336fe2('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x1acac7=parseInt(_0x57e50b['headers']['get']('content-le'+'ngth')??'0',-0xd11+-0x7*0x463+0x2bd0);let _0x151d32=0x26db+0x1a32+-0x410d;const {data:_0x211023,comments:_0x121665}=await G2(_0x57e50b['body']['getReader'](),_0x3b2d61['data']['elementFil'+'ter']??H2,_0xb6f7c7=>{_0x151d32+=_0xb6f7c7,_0x3b2d61&&_0x5a77e3['fire']('progress',_0x151d32,_0x1acac7);});_0x211023['isCompress'+'ed']||_0x3b2d61['data']['reorder'],this['gsplatReso'+'urce']&&((_0x33aa44=this['gsplatReso'+'urce'])!=null&&_0x33aa44['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x211023['isCompress'+'ed']&&_0x3b2d61['data']['decompress']?await _0x211023['decompress']():_0x211023,_0x168461,_0x517918):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x211023['isCompress'+'ed']&&_0x3b2d61['data']['decompress']?await _0x211023['decompress']():_0x211023,_0x121665),this['gsplatReso'+'urce']['timeOption']=_0x168461,_0x5a77e3['fire']('progressEn'+'d')),_0x336fe2(null,this['gsplatReso'+'urce']);}}catch(_0xd3cc48){_0x336fe2(_0xd3cc48,null);}}['open'](_0x312286,_0x4f30cf){return _0x4f30cf;}}class W2 extends Ne{constructor(_0x194fbf){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x194fbf,'gsplat'),this['parser']=new $2(_0x194fbf['graphicsDe'+'vice'],_0x194fbf['assets'],0xe*0x28d+-0x285+-0x212e);}['load'](_0xaf29e6,_0x993297,_0x2a615f){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0xaf29e6=='string'&&(_0xaf29e6={'load':_0xaf29e6,'original':_0xaf29e6}),this['parser']['load'](_0xaf29e6,_0x993297,_0x2a615f);}['open'](_0x56f249,_0x49e0d5,_0x26ece9){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x56f249,_0x49e0d5,_0x26ece9);}}class wf{static['setCompres'+'sedPRS'](_0x53b53c,_0x24f155,_0x8e9938){const _0x263309=_0x8e9938['singleVecs'];let _0x13da27,_0x310472;const _0x57ed1c=_0x24f155['___1'];_0x57ed1c||(_0x13da27=_0x8e9938['tripleVecs'],_0x310472=_0x24f155['___2']);let _0x22345=_0x57ed1c?_0x57ed1c[-0x4f9+0x9b*0x1f+-0xdcc]:_0x13da27[_0x310472];_0x53b53c['setLocalPo'+'sition'](_0x263309[_0x22345],_0x263309[_0x22345+(-0x1*-0x2414+-0x1a3f+-0x9d4)],_0x263309[_0x22345+(0x170*-0x2+-0x188c+0x1*0x1b6e)]),_0x22345=_0x57ed1c?_0x57ed1c[0xa14*-0x1+-0x1*-0x1e85+0x18*-0xda]:_0x13da27[_0x310472+(-0xc2a+-0x1166+0x1d91)],_0x53b53c['setLocalEu'+'lerAngles'](_0x263309[_0x22345],_0x263309[_0x22345+(0x1*0x481+-0x194c+0x14cc)],_0x263309[_0x22345+(-0x10*-0x1a9+-0xf77*0x2+0x38*0x14)]),_0x22345=_0x57ed1c?_0x57ed1c[0x1a31+0x2*-0xcec+-0x57]:_0x13da27[_0x310472+(-0x377*-0xb+0x1f1*0x7+-0x33b2)],_0x53b53c['setLocalSc'+'ale'](_0x263309[_0x22345],_0x263309[_0x22345+(0x13a1+-0x2*-0xd54+-0x2e48)],_0x263309[_0x22345+(-0x349+0x1a5e+-0x1713)]);}static['oneCharToK'+'ey'](_0x473367,_0x28be39){const _0x3855e7=_0x473367['charCodeAt'](-0x5*0x611+-0x37a+0x21cf)-_0x28be39['fieldFirst'+'Code'];return _0x28be39['fieldArray'][_0x3855e7];}static['multCharTo'+'Key'](_0x9d4665,_0x2b8ed3){let _0x42b3d6=-0xcf5*-0x1+0x22*-0x4c+-0x2dd*0x1;for(let _0xc4609d=0x3a6+-0xeba+0x58a*0x2;_0xc4609d<_0x9d4665['length'];_0xc4609d++)_0x42b3d6=_0x42b3d6*_0x2b8ed3['fieldCodeB'+'ase']+_0x9d4665['charCodeAt'](_0xc4609d)-_0x2b8ed3['fieldFirst'+'Code'];return _0x2b8ed3['fieldArray'][_0x42b3d6];}}class sc{constructor(_0x2ce43d,_0x5eea8e){this['_node']=_0x2ce43d,this['_data']=_0x5eea8e;}['run'](){const _0x5a683=Object['prototype']['toString']['call'](this['_node']);return _0x5a683==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x5a683==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x18d5c8){let _0x35ce52=_0x18d5c8;const _0x3ee694=_0x18d5c8['length'];_0x3ee694===0x756+0x266a+0x2dbf*-0x1?_0x35ce52=wf['oneCharToK'+'ey'](_0x18d5c8,this['_data']):_0x3ee694===-0x59*0x26+0x262*0x4+0xec*0x4&&(_0x35ce52=wf['multCharTo'+'Key'](_0x18d5c8,this['_data'])),this['_result'][_0x35ce52]=new sc(this['_node'][_0x18d5c8],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x3563e4){const _0xd0a8b9=new sc(_0x3563e4,this['_data'])['run']();this['_result']['push'](_0xd0a8b9);}}class $p{constructor(_0x39f61c,_0x150d96){this['_app']=_0x39f61c,this['_isTemplat'+'e']=_0x150d96;}['parse'](_0x58f984){const _0xef721f={};let _0x389514=null;const _0x97a4c5=_0x58f984['compressed'+'Format'];_0x97a4c5&&!_0x58f984['entDecompr'+'essed']&&(_0x58f984['entDecompr'+'essed']=!(-0x243d+-0x4b2*0x5+-0x1*-0x3bb7),_0x58f984['entities']=new sc(_0x58f984['entities'],_0x97a4c5)['run']());for(const _0x2f5a28 in _0x58f984['entities']){const _0x3fcad4=_0x58f984['entities'][_0x2f5a28],_0xde03de=this['_createEnt'+'ity'](_0x3fcad4,_0x97a4c5);_0xef721f[_0x2f5a28]=_0xde03de,_0x3fcad4['parent']===null&&(_0x389514=_0xde03de);}for(const _0x1bb4f8 in _0x58f984['entities']){const _0x2691af=_0xef721f[_0x1bb4f8],_0x11f4f6=_0x58f984['entities'][_0x1bb4f8]['children'],_0x19bf77=_0x11f4f6['length'];for(let _0x91552b=-0x235*-0x2+-0x1*-0xbc3+-0x102d;_0x91552b<_0x19bf77;_0x91552b++){const _0x2c3328=_0xef721f[_0x11f4f6[_0x91552b]];_0x2c3328&&_0x2691af['addChild'](_0x2c3328);}}return this['_openCompo'+'nentData'](_0x389514,_0x58f984['entities']),_0x389514;}['_createEnt'+'ity'](_0x2476df,_0x3a5b4d){const _0x4faecf=new $e(_0x2476df['name'],this['_app']);if(_0x4faecf['setGuid'](_0x2476df['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x4faecf,_0x2476df,_0x3a5b4d),_0x4faecf['_enabled']=_0x2476df['enabled']??!(-0x270d+-0x1510+0x3c1d),this['_isTemplat'+'e']?_0x4faecf['_template']=!(-0x19e+-0xa8+0x246):_0x4faecf['_enabledIn'+'Hierarchy']=_0x4faecf['_enabled'],_0x4faecf['template']=_0x2476df['template'],_0x2476df['tags']){for(let _0x3891b9=0x8a0+0xfba+-0x185a;_0x3891b9<_0x2476df['tags']['length'];_0x3891b9++)_0x4faecf['tags']['add'](_0x2476df['tags'][_0x3891b9]);}return _0x4faecf;}['_setPosRot'+'Scale'](_0x54254a,_0x2fa6e6,_0x216839){if(_0x216839)wf['setCompres'+'sedPRS'](_0x54254a,_0x2fa6e6,_0x216839);else{const _0x2027ea=_0x2fa6e6['position'],_0x17ae28=_0x2fa6e6['rotation'],_0xa7f9f2=_0x2fa6e6['scale'];_0x54254a['setLocalPo'+'sition'](_0x2027ea[0x1d*0x22+0x1100+0x14da*-0x1],_0x2027ea[-0xfdf*-0x1+-0x1fde+0x2*0x800],_0x2027ea[-0x11*-0x9d+0x5b6*0x4+0x5*-0x6a7]),_0x54254a['setLocalEu'+'lerAngles'](_0x17ae28[-0x13*0x6b+0x1186+-0x995],_0x17ae28[0x3*0x603+-0x2*0x6e5+-0x2*0x21f],_0x17ae28[0x729*-0x3+0x83+0x1e*0xb3]),_0x54254a['setLocalSc'+'ale'](_0xa7f9f2[0x1b*0x152+0x1*-0x122b+-0x117b],_0xa7f9f2[0x1a08+0x2fd*0x5+-0x2e*0xe4],_0xa7f9f2[0x1389+0x3*-0x771+0x2cc]);}}['_openCompo'+'nentData'](_0x250a03,_0x25a961){const _0x2cc9ea=this['_app']['systems']['list'];let _0x5a8c7=_0x2cc9ea['length'];const _0x1c22a6=_0x25a961[_0x250a03['getGuid']()];for(let _0x2d3ab6=0x13c1*0x1+0x6d*-0x2+-0x12e7;_0x2d3ab6<_0x5a8c7;_0x2d3ab6++){const _0x4d5f08=_0x2cc9ea[_0x2d3ab6],_0x43224d=_0x1c22a6['components'][_0x4d5f08['id']];_0x43224d&&_0x4d5f08['addCompone'+'nt'](_0x250a03,_0x43224d);}_0x5a8c7=_0x1c22a6['children']['length'];const _0x2d0ef6=_0x250a03['_children'];for(let _0x2ecb4d=-0x25ca+0xcc5*0x1+0x1905;_0x2ecb4d<_0x5a8c7;_0x2ecb4d++)_0x2d0ef6[_0x2ecb4d]?_0x2d0ef6[_0x2ecb4d]=this['_openCompo'+'nentData'](_0x2d0ef6[_0x2ecb4d],_0x25a961):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x250a03['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x250a03;}}class Lx{static['load'](_0x4eff86,_0x5b67c9,_0x7234c8){typeof _0x4eff86=='string'&&(_0x4eff86={'load':_0x4eff86,'original':_0x4eff86}),We['get'](_0x4eff86['load'],{'retry':_0x5b67c9>0x227d+0x1*-0x1e6d+-0x410*0x1,'maxRetries':_0x5b67c9},(_0x43f10f,_0x435d86)=>{if(!_0x43f10f)_0x7234c8(_0x43f10f,_0x435d86);else{let _0x2d338a='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x4eff86['original'];_0x43f10f['message']?(_0x2d338a+=':\x20'+_0x43f10f['message'],_0x43f10f['stack']&&(_0x2d338a+='\x0a'+_0x43f10f['stack'])):_0x2d338a+=':\x20'+_0x43f10f,_0x7234c8(_0x2d338a);}});}}class q2 extends Ne{constructor(_0x5c3150){super(_0x5c3150,'hierarchy');}['load'](_0x30d745,_0x592008){Lx['load'](_0x30d745,this['maxRetries'],_0x592008);}['open'](_0x1de997,_0x3b5c0c){this['_app']['systems']['script']['preloading']=!(-0x13c*0x8+-0x9*0x375+-0x5db*-0x7);const _0x4b5ed0=new $p(this['_app'],!(-0x2e*0x88+0x21e5*-0x1+0x3a56))['parse'](_0x3b5c0c);return this['_app']['systems']['script']['preloading']=!(0xe35+0x1827*-0x1+0x9f3),_0x4b5ed0;}}class X2 extends Ne{constructor(_0x2ebcb5){super(_0x2ebcb5,'html'),c(this,'decoder',null);}['load'](_0x3fd5b9,_0x8a655){typeof _0x3fd5b9=='string'&&(_0x3fd5b9={'load':_0x3fd5b9,'original':_0x3fd5b9}),We['get'](_0x3fd5b9['load'],{'retry':this['maxRetries']>0xa64+0x4d6+-0x1*0xf3a,'maxRetries':this['maxRetries']},(_0x453196,_0x2ad0a3)=>{_0x453196?_0x8a655('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x3fd5b9['original']+'\x20['+_0x453196+']'):_0x8a655(null,_0x2ad0a3);});}['openBinary'](_0x4b8d5e){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4b8d5e);}}class j2 extends Ne{constructor(_0x1ad8e2){super(_0x1ad8e2,'json'),c(this,'decoder',null);}['load'](_0x4faa0a,_0x3fae25){typeof _0x4faa0a=='string'&&(_0x4faa0a={'load':_0x4faa0a,'original':_0x4faa0a});const _0x2dacf0={'retry':this['maxRetries']>-0x1325+-0x17*0xca+0x254b*0x1,'maxRetries':this['maxRetries']};_0x4faa0a['load']['startsWith']('blob:')&&(_0x2dacf0['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x4faa0a['load'],_0x2dacf0,(_0x4f4b0f,_0x5e8400)=>{_0x4f4b0f?_0x3fae25('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x4faa0a['original']+'\x20['+_0x4f4b0f+']'):_0x3fae25(null,_0x5e8400);});}['openBinary'](_0x185a08){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x185a08));}}class Y2{constructor(){this['removeInva'+'lid']=!(0x13c9+0x203*0x4+-0x13*0x177),this['valid']=!(-0x5*0x2f9+0x501+0x9dc),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x5111b8,_0x288e37){this['valid']=!(0xe9b*-0x2+-0x2309+0x4*0x1010),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x5111b8,_0x288e37[_0x5111b8]),this['removeInva'+'lid']&&delete _0x288e37[_0x5111b8];}['validate'](_0x477e80){const _0x4afd90=Pa,_0x2bfd8f=QC,_0x37a1d2=_0x477e80['mappingFor'+'mat']==='path';for(const _0x19b078 in _0x477e80){const _0x363753=_0x4afd90[_0x19b078];if(!_0x363753){_0x2bfd8f[_0x19b078]?delete _0x477e80[_0x19b078]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x19b078),this['valid']=!(-0x89*0x40+0x513*0x5+0x8e2));continue;}if(_0x363753['startsWith']('enum')){const _0x1b4f66=_0x363753['split'](':')[0x1*0x2463+0x3*-0x727+0x1*-0xeed];this['enumValida'+'tors'][_0x1b4f66]&&(this['enumValida'+'tors'][_0x1b4f66](_0x477e80[_0x19b078])||this['setInvalid'](_0x19b078,_0x477e80));}else{if(_0x363753==='number')typeof _0x477e80[_0x19b078]!='number'&&this['setInvalid'](_0x19b078,_0x477e80);else{if(_0x363753==='boolean')typeof _0x477e80[_0x19b078]!='boolean'&&this['setInvalid'](_0x19b078,_0x477e80);else{if(_0x363753==='string')typeof _0x477e80[_0x19b078]!='string'&&this['setInvalid'](_0x19b078,_0x477e80);else{if(_0x363753==='vec2')_0x477e80[_0x19b078]instanceof Array&&_0x477e80[_0x19b078]['length']===-0xb0f*-0x3+-0xc42+-0x14e9||this['setInvalid'](_0x19b078,_0x477e80);else{if(_0x363753==='rgb')_0x477e80[_0x19b078]instanceof Array&&_0x477e80[_0x19b078]['length']===0xd7f+-0xb80+0x2*-0xfe||this['setInvalid'](_0x19b078,_0x477e80);else{if(_0x363753==='texture')_0x37a1d2?typeof _0x477e80[_0x19b078]=='string'||_0x477e80[_0x19b078]===null||_0x477e80[_0x19b078]instanceof he||this['setInvalid'](_0x19b078,_0x477e80):typeof _0x477e80[_0x19b078]=='number'||_0x477e80[_0x19b078]===null||_0x477e80[_0x19b078]instanceof he||this['setInvalid'](_0x19b078,_0x477e80);else{if(_0x363753==='boundingbo'+'x')_0x477e80[_0x19b078]['center']&&_0x477e80[_0x19b078]['center']instanceof Array&&_0x477e80[_0x19b078]['center']['length']===0x16*-0x4a+-0x18fb+0x1f5a*0x1||this['setInvalid'](_0x19b078,_0x477e80),_0x477e80[_0x19b078]['halfExtent'+'s']&&_0x477e80[_0x19b078]['halfExtent'+'s']instanceof Array&&_0x477e80[_0x19b078]['halfExtent'+'s']['length']===-0x7*-0x452+-0x119c+0xc9f*-0x1||this['setInvalid'](_0x19b078,_0x477e80);else{if(_0x363753==='cubemap')typeof _0x477e80[_0x19b078]=='number'||_0x477e80[_0x19b078]===null||_0x477e80[_0x19b078]===void(-0x9c*-0x6+0x21c7+-0x256f)||_0x477e80[_0x19b078]instanceof he&&_0x477e80[_0x19b078]['cubemap']||this['setInvalid'](_0x19b078,_0x477e80);else{if(_0x363753==='chunks'){const _0x12a1d3=Object['keys'](_0x477e80[_0x19b078]);for(let _0x5996d1=-0xcf1*0x2+0x22d*-0xb+0x3*0x109b;_0x5996d1<_0x12a1d3['length'];_0x5996d1++)typeof _0x477e80[_0x19b078][_0x12a1d3[_0x5996d1]]!='string'&&this['setInvalid'](_0x12a1d3[_0x5996d1],_0x477e80[_0x19b078]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x363753);}}}}}}}}}}return _0x477e80['validated']=!(0x201a+-0x5*-0x3c5+-0x32f3),this['valid'];}['_createEnu'+'mValidator'](_0x49b133){return function(_0x3eb078){return _0x49b133['indexOf'](_0x3eb078)>=-0x1882+-0x29*0x61+0x280b;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x333a0b){const _0x45f783=this['migrate'](_0x333a0b),_0x1edca0=this['_validate'](_0x45f783),_0x26587a=new cs();return this['initialize'](_0x26587a,_0x1edca0),_0x26587a;}['initialize'](_0x5b48ef,_0x9ffc30){_0x9ffc30['validated']||(_0x9ffc30=this['_validate'](_0x9ffc30)),_0x9ffc30['chunks']&&(_0x5b48ef['chunks']={..._0x9ffc30['chunks']});for(const _0x221809 in _0x9ffc30){const _0x3b4f5c=Pa[_0x221809],_0x501943=_0x9ffc30[_0x221809];if(_0x3b4f5c==='vec2')_0x5b48ef[_0x221809]=new $(_0x501943[0x5d6*-0x6+-0x138a+0x368e],_0x501943[-0xb40+0x615*-0x1+0x2*0x8ab]);else{if(_0x3b4f5c==='rgb')_0x5b48ef[_0x221809]=new Y(_0x501943[-0x2*-0x417+0x7b2+0x10*-0xfe],_0x501943[0xac*-0x14+0x1*-0x1abd+0x282e],_0x501943[-0x14c1+-0xc1*0x1+-0x24*-0x99]);else{if(_0x3b4f5c==='texture')_0x501943 instanceof he?_0x5b48ef[_0x221809]=_0x501943:_0x5b48ef[_0x221809]instanceof he&&typeof _0x501943=='number'&&_0x501943>0x1024+-0x7d0+-0x854||(_0x5b48ef[_0x221809]=null);else{if(_0x3b4f5c==='cubemap')_0x501943 instanceof he?_0x5b48ef[_0x221809]=_0x501943:_0x5b48ef[_0x221809]instanceof he&&typeof _0x501943=='number'&&_0x501943>-0x1cce*-0x1+-0x13fb+-0x1*0x8d3||(_0x5b48ef[_0x221809]=null),_0x221809==='cubeMap'&&!_0x501943&&(_0x5b48ef['prefiltere'+'dCubemaps']=null);else{if(_0x3b4f5c==='boundingbo'+'x'){const _0x327761=new T(_0x501943['center'][-0x926*0x1+-0x1*-0xbb1+-0x28b],_0x501943['center'][0x26da+-0x20bc+-0x61d],_0x501943['center'][0x79e+-0x1*-0x1f97+-0x2733]),_0x311abc=new T(_0x501943['halfExtent'+'s'][0x1*-0x2543+-0x1*-0x1976+-0x13*-0x9f],_0x501943['halfExtent'+'s'][-0xad0+0x1b1*0x17+0x2cf*-0xa],_0x501943['halfExtent'+'s'][0x48b*-0x7+-0x49f+0x246e]);_0x5b48ef[_0x221809]=new _e(_0x327761,_0x311abc);}else _0x5b48ef[_0x221809]=_0x9ffc30[_0x221809];}}}}}_0x5b48ef['update']();}['migrate'](_0x1f8cf2){_0x1f8cf2['shader']&&delete _0x1f8cf2['shader'],_0x1f8cf2['mapping_fo'+'rmat']&&(_0x1f8cf2['mappingFor'+'mat']=_0x1f8cf2['mapping_fo'+'rmat'],delete _0x1f8cf2['mapping_fo'+'rmat']);let _0x24b09;const _0x3f8f96=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x24b09=0x2c8+0xb0+-0x3*0x128;_0x24b09<_0x3f8f96['length'];_0x24b09++){const _0x70b5bd=_0x3f8f96[_0x24b09][0x6*-0x34b+0x3e*-0x3e+0x22c6],_0x1d8abc=_0x3f8f96[_0x24b09][-0x1d4b+-0x121f*-0x2+-0x6f2];_0x1f8cf2[_0x70b5bd]!==void(0x1139*-0x1+-0x1a0e+-0x4cf*-0x9)&&(_0x1f8cf2[_0x1d8abc]===void(-0x1d63+0x396+-0x5*-0x529)&&(_0x1f8cf2[_0x1d8abc]=_0x1f8cf2[_0x70b5bd]),delete _0x1f8cf2[_0x70b5bd]);}const _0x191818=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x24b09=-0x153b+-0x4*-0x31+0x1477;_0x24b09<_0x191818['length'];_0x24b09++){const _0x3efcc7=_0x191818[_0x24b09];_0x1f8cf2['hasOwnProp'+'erty'](_0x3efcc7)&&delete _0x1f8cf2[_0x3efcc7];}return _0x1f8cf2;}['_validate'](_0x525fef){return _0x525fef['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x525fef)),_0x525fef;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x35d7ba){super(_0x35d7ba,'material'),this['_assets']=_0x35d7ba['assets'],this['_device']=_0x35d7ba['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x367210,_0x207259){typeof _0x367210=='string'&&(_0x367210={'load':_0x367210,'original':_0x367210}),We['get'](_0x367210['load'],{'retry':this['maxRetries']>0x13cc+0xf0a+-0x22d6,'maxRetries':this['maxRetries']},(_0x28dc19,_0x44c100)=>{_0x28dc19?_0x207259&&_0x207259('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x367210['original']+'\x20['+_0x28dc19+']'):_0x207259&&(_0x44c100['_engine']=!(-0x3f5+0xd9f+-0x9aa),_0x207259(null,_0x44c100));});}['open'](_0x94bc7a,_0x36fc11){const _0x520e1e=this['_parser']['parse'](_0x36fc11);return _0x36fc11['_engine']&&(_0x520e1e['_data']=_0x36fc11,delete _0x36fc11['_engine']),_0x520e1e;}['patch'](_0x1b0c25,_0x175a51){_0x1b0c25['resource']['_data']&&(_0x1b0c25['_data']=_0x1b0c25['resource']['_data'],delete _0x1b0c25['resource']['_data']),_0x1b0c25['data']['name']=_0x1b0c25['name'],_0x1b0c25['resource']['name']=_0x1b0c25['name'],this['_bindAndAs'+'signAssets'](_0x1b0c25,_0x175a51),_0x1b0c25['off']('unload',this['_onAssetUn'+'load'],this),_0x1b0c25['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x4ade18){delete _0x4ade18['data']['parameters'],delete _0x4ade18['data']['chunks'],delete _0x4ade18['data']['name'];}['_assignTex'+'ture'](_0x5b01a0,_0x1d6905,_0x2008dc){_0x1d6905['resource'][_0x5b01a0]=_0x2008dc;}['_getPlaceh'+'olderTextu'+'re'](_0x306498){const _0x2d898f=Z2[_0x306498];return v['assert'](_0x2d898f,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x306498),en(this['_device'],_0x2d898f);}['_assignPla'+'ceholderTe'+'xture'](_0x2a0721,_0x4d03ec){_0x4d03ec['resource'][_0x2a0721]=this['_getPlaceh'+'olderTextu'+'re'](_0x2a0721);}['_onTexture'+'Load'](_0x4b3d6f,_0x53e6ed,_0x3b31ef){this['_assignTex'+'ture'](_0x4b3d6f,_0x53e6ed,_0x3b31ef['resource']),_0x53e6ed['resource']['update']();}['_onTexture'+'Add'](_0x42d51c,_0x39bd62,_0x385fef){this['_assets']['load'](_0x385fef);}['_onTexture'+'RemoveOrUn'+'load'](_0x4fdc7e,_0x572dd9,_0x5431aa){const _0x190b08=_0x572dd9['resource'];_0x190b08&&_0x572dd9['resource'][_0x4fdc7e]===_0x5431aa['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x4fdc7e,_0x572dd9),_0x190b08['update']());}['_assignCub'+'emap'](_0x53186f,_0x3001d0,_0x20c7d8){if(_0x3001d0['resource'][_0x53186f]=_0x20c7d8[-0x2c+0x107d+0x1051*-0x1],_0x53186f==='cubeMap'){const _0x2457cc=_0x20c7d8['slice'](-0x16fc+0x175e+-0x61);_0x2457cc['every'](_0x58b5d8=>_0x58b5d8)?_0x3001d0['resource']['prefiltere'+'dCubemaps']=_0x2457cc:_0x2457cc[0x1*0x31a+0xd3*-0x5+0x105]&&(_0x3001d0['resource']['envAtlas']=_0x2457cc[-0x2b*0xdd+-0x2071+0x4590]);}}['_onCubemap'+'Load'](_0x4e28ca,_0x44a609,_0x3845a1){this['_assignCub'+'emap'](_0x4e28ca,_0x44a609,_0x3845a1['resources']),this['_parser']['initialize'](_0x44a609['resource'],_0x44a609['data']);}['_onCubemap'+'Add'](_0x34d6f0,_0x20c837,_0x2dbc6b){this['_assets']['load'](_0x2dbc6b);}['_onCubemap'+'RemoveOrUn'+'load'](_0x42eb20,_0x1bfe10,_0x23645e){const _0x498909=_0x1bfe10['resource'];_0x1bfe10['data']['prefiltere'+'dCubeMap12'+'8']===_0x23645e['resources'][0x2f1*-0x9+0xf57+0x1*0xb23]&&(this['_assignCub'+'emap'](_0x42eb20,_0x1bfe10,[null,null,null,null,null,null,null]),_0x498909['update']());}['_bindAndAs'+'signAssets'](_0x6c5c8b,_0x2c1683){const _0x150991=this['_parser']['migrate'](_0x6c5c8b['data']),_0x322138=_0x6c5c8b['resource'],_0x46a8f1=_0x150991['mappingFor'+'mat']==='path',_0x40e7ab=Kc;let _0x28e19b,_0x57e0e6,_0x298455;for(_0x28e19b=-0x25fc+0x2c*0xa8+0x91c;_0x28e19b<_0x40e7ab['length'];_0x28e19b++){_0x57e0e6=_0x40e7ab[_0x28e19b],_0x298455=_0x322138['_assetRefe'+'rences'][_0x57e0e6];const _0x598374=_0x150991[_0x57e0e6],_0x384a9c=_0x322138[_0x57e0e6],_0x40bc70=_0x384a9c===this['_getPlaceh'+'olderTextu'+'re'](_0x57e0e6),_0xeceea4=_0x150991['validated'];_0x598374&&(!_0x384a9c||!_0xeceea4||_0x40bc70)?(_0x298455||(_0x298455=new Go(_0x57e0e6,_0x6c5c8b,_0x2c1683,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x322138['_assetRefe'+'rences'][_0x57e0e6]=_0x298455),_0x46a8f1?_0x298455['url']=_0x6c5c8b['getAbsolut'+'eUrl'](_0x598374):_0x298455['id']=_0x598374,_0x298455['asset']&&(_0x298455['asset']['resource']?this['_assignTex'+'ture'](_0x57e0e6,_0x6c5c8b,_0x298455['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x57e0e6,_0x6c5c8b),_0x2c1683['load'](_0x298455['asset']))):_0x298455&&(_0x46a8f1?_0x298455['url']=null:_0x298455['id']=null);}const _0x2122e1=Fp;for(_0x28e19b=-0x990+-0x86b+0x11fb;_0x28e19b<_0x2122e1['length'];_0x28e19b++)_0x57e0e6=_0x2122e1[_0x28e19b],_0x298455=_0x322138['_assetRefe'+'rences'][_0x57e0e6],_0x150991[_0x57e0e6]&&!_0x6c5c8b['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x298455||(_0x298455=new Go(_0x57e0e6,_0x6c5c8b,_0x2c1683,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x322138['_assetRefe'+'rences'][_0x57e0e6]=_0x298455),_0x46a8f1?_0x298455['url']=_0x150991[_0x57e0e6]:_0x298455['id']=_0x150991[_0x57e0e6],_0x298455['asset']&&(_0x298455['asset']['loaded']&&this['_assignCub'+'emap'](_0x57e0e6,_0x6c5c8b,_0x298455['asset']['resources']),_0x2c1683['load'](_0x298455['asset'])));this['_parser']['initialize'](_0x322138,_0x150991);}}class J2{constructor(_0x4c8ee7){this['_device']=_0x4c8ee7['device'],this['_defaultMa'+'terial']=_0x4c8ee7['defaultMat'+'erial'],this['_assets']=_0x4c8ee7['assets'];}['parse'](_0x514209,_0x465be3,_0x5daa2a){tc['parse']('filename.g'+'lb','',_0x514209,this['_device'],this['_assets'],(_0x5daa2a==null?void(0x24e9+0x723*0x4+-0x4175):_0x5daa2a['options'])??{},(_0x48bc09,_0x566576)=>{if(_0x48bc09)_0x465be3(_0x48bc09);else{const _0x5bc07b=tr['createMode'+'l'](_0x566576,this['_defaultMa'+'terial']);_0x566576['destroy'](),_0x465be3(null,_0x5bc07b);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x32b5e2){this['_device']=_0x32b5e2['device'],this['_defaultMa'+'terial']=_0x32b5e2['defaultMat'+'erial'];}['parse'](_0x21368c,_0x300b26){const _0x2e0472=_0x21368c['model'];if(!_0x2e0472){_0x300b26(null,null);return;}if(_0x2e0472['version']<=-0x4*-0x2fe+-0x1a8b+-0xc*-0x137){_0x300b26('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x1a741e=this['_parseNode'+'s'](_0x21368c),_0xba1120=this['_parseSkin'+'s'](_0x21368c,_0x1a741e),_0xf92cda=this['_parseVert'+'exBuffers'](_0x21368c),_0x627f00=this['_parseInde'+'xBuffers'](_0x21368c,_0xf92cda),_0x40fef6=this['_parseMorp'+'hs'](_0x21368c,_0x1a741e,_0xf92cda),_0x4f4fdc=this['_parseMesh'+'es'](_0x21368c,_0xba1120['skins'],_0x40fef6['morphs'],_0xf92cda,_0x627f00['buffer'],_0x627f00['data']),_0x49ef7e=this['_parseMesh'+'Instances'](_0x21368c,_0x1a741e,_0x4f4fdc,_0xba1120['skins'],_0xba1120['instances'],_0x40fef6['morphs'],_0x40fef6['instances']),_0x3853af=new Oi();_0x3853af['graph']=_0x1a741e[0x1*0x2565+0x16*0xc6+0x3*-0x1223],_0x3853af['meshInstan'+'ces']=_0x49ef7e,_0x3853af['skinInstan'+'ces']=_0xba1120['instances'],_0x3853af['morphInsta'+'nces']=_0x40fef6['instances'],_0x3853af['getGraph']()['syncHierar'+'chy'](),_0x300b26(null,_0x3853af);}['_parseNode'+'s'](_0x4e3c48){const _0x1e9a58=_0x4e3c48['model'],_0x43e0e9=[];let _0x24cf91;for(_0x24cf91=-0x12e7*-0x1+-0x19*-0x184+-0x38cb*0x1;_0x24cf91<_0x1e9a58['nodes']['length'];_0x24cf91++){const _0x133b9b=_0x1e9a58['nodes'][_0x24cf91],_0x4fd3ed=new De(_0x133b9b['name']);_0x4fd3ed['setLocalPo'+'sition'](_0x133b9b['position'][0x163d+-0x116*-0x1+-0x355*0x7],_0x133b9b['position'][0x2*-0x7b3+0x20d3+-0x8b6*0x2],_0x133b9b['position'][0xa7*-0x35+-0x1*-0x12e+0x2167]),_0x4fd3ed['setLocalEu'+'lerAngles'](_0x133b9b['rotation'][-0x165c+0x1a5+0x14b7],_0x133b9b['rotation'][0x241*-0x7+0xbf6+0x3d2],_0x133b9b['rotation'][0x44a+-0x2652+0x220a]),_0x4fd3ed['setLocalSc'+'ale'](_0x133b9b['scale'][-0x40c+-0xbf9*0x3+0x1*0x27f7],_0x133b9b['scale'][-0x63*-0x4e+-0x72a*0x3+-0x8ab],_0x133b9b['scale'][0x1033+0x1d89*-0x1+0xd58]),_0x4fd3ed['scaleCompe'+'nsation']=!!_0x133b9b['scaleCompe'+'nsation'],_0x43e0e9['push'](_0x4fd3ed);}for(_0x24cf91=-0x26*0x25+0x4b*-0x5d+-0x21*-0xfe;_0x24cf91<_0x1e9a58['parents']['length'];_0x24cf91++)_0x43e0e9[_0x1e9a58['parents'][_0x24cf91]]['addChild'](_0x43e0e9[_0x24cf91]);return _0x43e0e9;}['_parseSkin'+'s'](_0x3fb42f,_0xab7949){const _0x47d024=_0x3fb42f['model'],_0x37c069=[],_0x5dcfb1=[];let _0x533a6c,_0xde2182;for(_0x533a6c=0x37*-0xb+0x49*0xe+0x8b*-0x3;_0x533a6c<_0x47d024['skins']['length'];_0x533a6c++){const _0x1467a5=_0x47d024['skins'][_0x533a6c],_0x296974=[];for(_0xde2182=-0xa69+-0x1231*-0x2+-0x19f9*0x1;_0xde2182<_0x1467a5['inverseBin'+'dMatrices']['length'];_0xde2182++){const _0x442cd7=_0x1467a5['inverseBin'+'dMatrices'][_0xde2182];_0x296974[_0xde2182]=new q()['set'](_0x442cd7);}const _0x345003=new N0(this['_device'],_0x296974,_0x1467a5['boneNames']);_0x37c069['push'](_0x345003);const _0x228d3c=new nl(_0x345003),_0x5a10c2=[];for(_0xde2182=-0x674+0xb47*-0x3+-0x2849*-0x1;_0xde2182<_0x345003['boneNames']['length'];_0xde2182++){const _0x1a3f3a=_0x345003['boneNames'][_0xde2182],_0x16a0fd=_0xab7949[0xa32+0x213d+-0x2b6f]['findByName'](_0x1a3f3a);_0x5a10c2['push'](_0x16a0fd);}_0x228d3c['bones']=_0x5a10c2,_0x5dcfb1['push'](_0x228d3c);}return{'skins':_0x37c069,'instances':_0x5dcfb1};}['_getMorphV'+'ertexCount'](_0x551892,_0x20d8db,_0x347b69){for(let _0x45236f=0x4*0x336+-0x26aa+0x19d2;_0x45236f<_0x551892['meshes']['length'];_0x45236f++){const _0x10b02d=_0x551892['meshes'][_0x45236f];if(_0x10b02d['morph']===_0x20d8db)return _0x347b69[_0x10b02d['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x5a4f56,_0x296b8c,_0x2a2cd7){const _0x31fbba=_0x5a4f56['model'],_0x213591=[],_0x2f5cfe=[];let _0x4df8b6,_0x583451,_0x4916f9,_0x2c74a4,_0x484ae3,_0x71b4;if(_0x31fbba['morphs']){const _0x3df5f7=function(_0x37df04,_0x2f925c,_0x139642){const _0x19da50=new Float32Array(_0x139642*(-0x3*-0xbe1+0xec6+-0x2*0x1933));for(let _0x313956=-0xa8*-0xa+-0xbd*0x11+0x5fd;_0x313956<_0x2f925c['length'];_0x313956++){const _0x4a17e7=_0x2f925c[_0x313956]*(0x90e+-0x5a*-0x40+0x11*-0x1db);_0x19da50[_0x4a17e7]=_0x37df04[_0x313956*(-0x1f4e+0xcf7*-0x1+0xb12*0x4)],_0x19da50[_0x4a17e7+(0x993+0x37*0x95+0x851*-0x5)]=_0x37df04[_0x313956*(0x3*-0xb73+-0x1f*-0x112+0x12e)+(0x89*-0x39+0x695+0x17ed)],_0x19da50[_0x4a17e7+(-0x239d+-0x1068+0x3407)]=_0x37df04[_0x313956*(0xd7*0x13+0x8d5+-0x1*0x18c7)+(0x61*0x5b+-0xc6a*0x1+-0x160f)];}return _0x19da50;};for(_0x4df8b6=0x40*-0x2d+0x1*-0x11cf+-0x1d0f*-0x1;_0x4df8b6<_0x31fbba['morphs']['length'];_0x4df8b6++){for(_0x2c74a4=_0x31fbba['morphs'][_0x4df8b6]['targets'],_0x71b4=[],_0x4916f9=this['_getMorphV'+'ertexCount'](_0x31fbba,_0x4df8b6,_0x2a2cd7),_0x583451=0x1dff*0x1+0xfbb*-0x1+-0xe44;_0x583451<_0x2c74a4['length'];_0x583451++){const _0x2773a9=_0x2c74a4[_0x583451]['aabb'],_0x4abdaf=_0x2773a9['min'],_0x18d145=_0x2773a9['max'],_0x3d649a=new _e(new T((_0x18d145[-0x1d7a+0x24bc+-0x742]+_0x4abdaf[0x3*-0xacc+0x1193+0x1*0xed1])*(0x29*-0x2b+0x18d7+-0x11f4+0.5),(_0x18d145[0x1*-0x116c+0x1b32+0x3d*-0x29]+_0x4abdaf[0x11f0+-0x7*0x33d+-0x1*-0x4bc])*(-0x2453+-0x156b+0x39be+0.5),(_0x18d145[0x573+-0x80e+0x29d]+_0x4abdaf[-0x22d8+0x2469*0x1+-0x18f])*(0x267e+0x2368+-0x49e6+0.5)),new T((_0x18d145[0x32b+-0xf40+-0x1*-0xc15]-_0x4abdaf[-0x94d*0x2+-0x1*-0x22e0+0x2*-0x823])*(-0x1351*0x2+-0x1814+0x3eb6+0.5),(_0x18d145[0x183b+0x704+-0x1f3e]-_0x4abdaf[0x1321+-0x118*-0x10+-0x20*0x125])*(0x803*0x1+0x1a47+-0x224a+0.5),(_0x18d145[-0x19*-0xeb+0x1804+0x3*-0xfa7]-_0x4abdaf[-0x21*-0xd+0xf*-0x1d8+-0x19fd*-0x1])*(-0x26bc+-0x2*-0x1229+0x26a+0.5))),_0x300023=_0x2c74a4[_0x583451]['indices'];let _0x289aed=_0x2c74a4[_0x583451]['deltaPosit'+'ions'],_0xcbd0fc=_0x2c74a4[_0x583451]['deltaNorma'+'ls'];_0x300023&&(_0x289aed=_0x3df5f7(_0x289aed,_0x300023,_0x4916f9),_0xcbd0fc=_0x3df5f7(_0xcbd0fc,_0x300023,_0x4916f9)),_0x484ae3=new Qc({'deltaPositions':_0x289aed,'deltaNormals':_0xcbd0fc,'name':_0x2c74a4[_0x583451]['name'],'aabb':_0x3d649a}),_0x71b4['push'](_0x484ae3);}const _0x46f43b=new F0(_0x71b4,this['_device']);_0x213591['push'](_0x46f43b);const _0x50061d=new fn(_0x46f43b);_0x2f5cfe['push'](_0x50061d);}}return{'morphs':_0x213591,'instances':_0x2f5cfe};}['_parseVert'+'exBuffers'](_0x5ddea2){const _0x28dccb=_0x5ddea2['model'],_0x1ddb29=[],_0x43d483={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x57c4b8=0x10d+-0x45f*-0x2+-0x1*0x9cb;_0x57c4b8<_0x28dccb['vertices']['length'];_0x57c4b8++){const _0x4ac206=_0x28dccb['vertices'][_0x57c4b8],_0x32f119=[];for(const _0x2b5d08 in _0x4ac206){const _0xc72edd=_0x4ac206[_0x2b5d08];_0x32f119['push']({'semantic':_0x43d483[_0x2b5d08],'components':_0xc72edd['components'],'type':tL[_0xc72edd['type']],'normalize':_0x43d483[_0x2b5d08]===At});}const _0x36f0a7=new Et(this['_device'],_0x32f119),_0x5c97c4=_0x4ac206['position']['data']['length']/_0x4ac206['position']['components'],_0x3255cd=new os(this['_device'],_0x36f0a7,_0x5c97c4),_0x495a21=new go(_0x3255cd);for(let _0x2ead89=0x1*0x77+-0x6df*0x2+-0x21*-0x67;_0x2ead89<_0x5c97c4;_0x2ead89++){for(const _0x4615d8 in _0x4ac206){const _0x59f17c=_0x4ac206[_0x4615d8];switch(_0x59f17c['components']){case-0x1673+0x5*-0x19+0x16f1:_0x495a21['element'][_0x43d483[_0x4615d8]]['set'](_0x59f17c['data'][_0x2ead89]);break;case 0xb34+0x1*-0x18e3+0xdb1:_0x495a21['element'][_0x43d483[_0x4615d8]]['set'](_0x59f17c['data'][_0x2ead89*(-0x5af+-0x1b5b+0x210c)],0x18d*0x7+0x1737+-0x2211-_0x59f17c['data'][_0x2ead89*(0x1*0x1305+-0x1c4*0xa+0x15b*-0x1)+(-0x4ce*0x5+0x1292*-0x2+0x3d2b*0x1)]);break;case-0xae4+0xe98*0x1+0x15*-0x2d:_0x495a21['element'][_0x43d483[_0x4615d8]]['set'](_0x59f17c['data'][_0x2ead89*(-0x1945+0x6a*0x38+0x218)],_0x59f17c['data'][_0x2ead89*(0x1ba2+-0x12e+-0x1a71*0x1)+(-0x2*0x79d+-0x17d5*-0x1+0x2*-0x44d)],_0x59f17c['data'][_0x2ead89*(0x1661+-0x5ad+-0x10b1*0x1)+(-0x1*0x121c+-0xfc5*0x1+-0x6c7*-0x5)]);break;case-0x9*0x3c3+0x17b6+0xa29:_0x495a21['element'][_0x43d483[_0x4615d8]]['set'](_0x59f17c['data'][_0x2ead89*(0x207a+-0x10f6*-0x1+-0xc5b*0x4)],_0x59f17c['data'][_0x2ead89*(-0x5d5*-0x2+0x19bd+0x233*-0x11)+(-0x8e4+-0x1500+0x1de5)],_0x59f17c['data'][_0x2ead89*(-0xc17+0xeed*0x1+-0x26*0x13)+(-0x1753*-0x1+-0x937*0x4+0xd8b)],_0x59f17c['data'][_0x2ead89*(-0x5c+-0x885+-0x2f7*-0x3)+(0x1*-0x110b+-0x13be+-0x14*-0x1d7)]);break;}}_0x495a21['next']();}_0x495a21['end'](),_0x1ddb29['push'](_0x3255cd);}return _0x1ddb29;}['_parseInde'+'xBuffers'](_0x6b064a,_0x2bf436){const _0x1d6530=_0x6b064a['model'];let _0x1c82ef=null,_0x3a691d=null,_0x52cc1c,_0x53ea94=-0xdb*-0x8+0x10*0x12a+0x28c*-0xa;for(_0x52cc1c=0x2*0x124b+-0x20f+-0x2287;_0x52cc1c<_0x1d6530['meshes']['length'];_0x52cc1c++){const _0x660b0e=_0x1d6530['meshes'][_0x52cc1c];_0x660b0e['indices']!==void(-0x1655*-0x1+-0x886*-0x1+-0x1edb*0x1)&&(_0x53ea94+=_0x660b0e['indices']['length']);}let _0x2b4ff8=0xcfe*0x2+0x1176+-0x43*0xa6;for(_0x52cc1c=0xa26+0x8cc+-0x12f2;_0x52cc1c<_0x2bf436['length'];_0x52cc1c++)_0x2b4ff8=Math['max'](_0x2b4ff8,_0x2bf436[_0x52cc1c]['numVertice'+'s']);return _0x53ea94>-0x1*-0x19b9+-0x5e5*0x1+-0x13d4*0x1&&(_0x2b4ff8>0x572*0x31+0x1*-0x7e+0x73*-0x17?(_0x1c82ef=new lr(this['_device'],nr,_0x53ea94),_0x3a691d=new Uint32Array(_0x1c82ef['lock']())):(_0x1c82ef=new lr(this['_device'],Pi,_0x53ea94),_0x3a691d=new Uint16Array(_0x1c82ef['lock']()))),{'buffer':_0x1c82ef,'data':_0x3a691d};}['_parseMesh'+'es'](_0xcba9d2,_0x351083,_0x5b1433,_0x52d5d5,_0x3a90b8,_0x49556){const _0x4cbc31=_0xcba9d2['model'],_0x1bc5f4=[];let _0x298a00=0x1*-0xfcb+0xb2d+0x6*0xc5;for(let _0xd75ea2=-0x1*0x2675+0x9*-0x29a+-0x3ddf*-0x1;_0xd75ea2<_0x4cbc31['meshes']['length'];_0xd75ea2++){const _0x2484b0=_0x4cbc31['meshes'][_0xd75ea2],_0x27c6c7=_0x2484b0['aabb'],_0x5c7098=_0x27c6c7['min'],_0x2ec9e5=_0x27c6c7['max'],_0x24389e=new _e(new T((_0x2ec9e5[-0x23c5+0x18f6+0xacf]+_0x5c7098[0x1f20+0x1ec1*-0x1+-0x5f])*(-0x1*-0x1c03+0x12a6+-0x2ea9+0.5),(_0x2ec9e5[0x8*-0x3cb+0x16bd*0x1+-0x3ce*-0x2]+_0x5c7098[-0x1*0x2335+0x1a82+-0x45a*-0x2])*(-0x1*-0x2035+-0x703+-0x4b*0x56+0.5),(_0x2ec9e5[-0x7d3*0x2+-0xb0+-0x20b*-0x8]+_0x5c7098[-0x235*-0x3+-0x15*0x9d+0x644])*(0x1*0x6c3+-0x10b7+0x9f4+0.5)),new T((_0x2ec9e5[0x21bc+0x1dce+-0x3f8a]-_0x5c7098[-0x24ab+0x2c6*-0xd+0x48b9])*(0x25b1+-0x2*-0xeb7+0x1*-0x431f+0.5),(_0x2ec9e5[-0x445*-0x2+-0x1985*-0x1+0x1*-0x220e]-_0x5c7098[0xd51+-0xecd+-0x1*-0x17d])*(0x1*-0xa22+0x31*-0x29+0x11fb+0.5),(_0x2ec9e5[-0x1*0x18d1+0x807+0x10cc]-_0x5c7098[0x9*-0x3+-0x1d12+-0x1d2f*-0x1])*(0x1f9*0x11+-0xd*-0x243+-0x3ef0+0.5))),_0x2409d7=_0x2484b0['indices']!==void(0x27b*-0x4+0x1c78+-0x4*0x4a3),_0xd83d80=new Ie(this['_device']);_0xd83d80['vertexBuff'+'er']=_0x52d5d5[_0x2484b0['vertices']],_0xd83d80['indexBuffe'+'r'][0x6*-0x649+0x22d2+-0x172*-0x2]=_0x2409d7?_0x3a90b8:null,_0xd83d80['primitive'][0x2387+-0x138c+-0xffb]['type']=eL[_0x2484b0['type']],_0xd83d80['primitive'][-0x13a*-0x18+0x163*0x4+-0x22fc]['base']=_0x2409d7?_0x2484b0['base']+_0x298a00:_0x2484b0['base'],_0xd83d80['primitive'][-0x43f*0x4+-0x260e+0xb02*0x5]['count']=_0x2484b0['count'],_0xd83d80['primitive'][-0x1142+-0x19cb+0x2b0d]['indexed']=_0x2409d7,_0xd83d80['skin']=_0x2484b0['skin']!==void(-0x2374+0x948+0x1a2c)?_0x351083[_0x2484b0['skin']]:null,_0xd83d80['morph']=_0x2484b0['morph']!==void(0x17eb+0x8*0x326+-0x1*0x311b)?_0x5b1433[_0x2484b0['morph']]:null,_0xd83d80['aabb']=_0x24389e,_0x2409d7&&(_0x49556['set'](_0x2484b0['indices'],_0x298a00),_0x298a00+=_0x2484b0['indices']['length']),_0x1bc5f4['push'](_0xd83d80);}return _0x3a90b8!==null&&_0x3a90b8['unlock'](),_0x1bc5f4;}['_parseMesh'+'Instances'](_0x1ab1a9,_0x5dd6ad,_0x18ec43,_0x1ebb43,_0x71f1ea,_0x5b5d04,_0x5a4e8f){const _0x559a1b=_0x1ab1a9['model'],_0x130405=[];let _0x178785;for(_0x178785=0x27f*0x9+0x9*0x105+-0x1fa4;_0x178785<_0x559a1b['meshInstan'+'ces']['length'];_0x178785++){const _0x500823=_0x559a1b['meshInstan'+'ces'][_0x178785],_0x56c9db=_0x5dd6ad[_0x500823['node']],_0x357ade=_0x18ec43[_0x500823['mesh']],_0x43efb1=new Le(_0x357ade,this['_defaultMa'+'terial'],_0x56c9db);if(_0x357ade['skin']){const _0x3f70eb=_0x1ebb43['indexOf'](_0x357ade['skin']);if(_0x3f70eb===-(-0x6d*0x25+-0x1cf3*-0x1+0x1*-0xd31))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x43efb1['skinInstan'+'ce']=_0x71f1ea[_0x3f70eb];}if(_0x357ade['morph']){const _0x4882df=_0x5b5d04['indexOf'](_0x357ade['morph']);if(_0x4882df===-(-0x1*-0x14b3+-0x163f+-0x1*-0x18d))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x43efb1['morphInsta'+'nce']=_0x5a4e8f[_0x4882df];}_0x130405['push'](_0x43efb1);}return _0x130405;}}class iL extends Ne{constructor(_0x5572cd){super(_0x5572cd,'model'),this['_parsers']=[],this['device']=_0x5572cd['graphicsDe'+'vice'],this['assets']=_0x5572cd['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0x4a8cd0,_0x1162d8)=>fe['getExtensi'+'on'](_0x4a8cd0)==='.json'),this['addParser'](new J2(this),(_0xa4731f,_0x4af680)=>fe['getExtensi'+'on'](_0xa4731f)==='.glb');}['load'](_0x1839e8,_0x6f709,_0x2a3305){typeof _0x1839e8=='string'&&(_0x1839e8={'load':_0x1839e8,'original':_0x1839e8});const _0x3c28dc={'retry':this['maxRetries']>0x6aa*-0x2+0x9e2+0x372,'maxRetries':this['maxRetries']};(_0x1839e8['load']['startsWith']('blob:')||_0x1839e8['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x1839e8['original'])['toLowerCas'+'e']()==='.glb'?_0x3c28dc['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3c28dc['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x1839e8['load'],_0x3c28dc,(_0x3142fb,_0x56ecc0)=>{if(_0x6f709){if(_0x3142fb)_0x6f709('Error\x20load'+'ing\x20model:'+'\x20'+_0x1839e8['original']+'\x20['+_0x3142fb+']');else{for(let _0x222fec=0x17df+0xccf*-0x2+0x1bf;_0x222fec<this['_parsers']['length'];_0x222fec++){const _0x49a307=this['_parsers'][_0x222fec];if(_0x49a307['decider'](_0x1839e8['original'],_0x56ecc0)){_0x49a307['parser']['parse'](_0x56ecc0,(_0x1b03b4,_0x2ed834)=>{_0x1b03b4?_0x6f709(_0x1b03b4):_0x6f709(null,_0x2ed834);},_0x2a3305);return;}}_0x6f709('No\x20parsers'+'\x20found');}}});}['open'](_0x4d2969,_0x17e189){return _0x17e189;}['patch'](_0x3b596a,_0x57f507){if(!_0x3b596a['resource'])return;const _0x37c0af=_0x3b596a['data'],_0x2909c6=this;_0x3b596a['resource']['meshInstan'+'ces']['forEach']((_0x553a1f,_0x288d99)=>{if(_0x37c0af['mapping']){const _0x59d56a=function(_0x4283f1){_0x4283f1['resource']?_0x553a1f['material']=_0x4283f1['resource']:(_0x4283f1['once']('load',_0x59d56a),_0x57f507['load'](_0x4283f1)),_0x4283f1['once']('remove',_0x4d8bb9=>{_0x553a1f['material']===_0x4d8bb9['resource']&&(_0x553a1f['material']=_0x2909c6['defaultMat'+'erial']);});};if(!_0x37c0af['mapping'][_0x288d99]){_0x553a1f['material']=_0x2909c6['defaultMat'+'erial'];return;}const _0x301254=_0x37c0af['mapping'][_0x288d99]['material'],_0x2e1367=_0x37c0af['mapping'][_0x288d99]['path'];let _0x3b1822;if(_0x301254!==void(-0xb0f+0x32e*-0xb+0x2e09))_0x301254?(_0x3b1822=_0x57f507['get'](_0x301254),_0x3b1822?_0x59d56a(_0x3b1822):_0x57f507['once']('add:'+_0x301254,_0x59d56a)):_0x553a1f['material']=_0x2909c6['defaultMat'+'erial'];else{if(_0x2e1367){const _0x19a84f=_0x3b596a['getAbsolut'+'eUrl'](_0x37c0af['mapping'][_0x288d99]['path']);_0x3b1822=_0x57f507['getByUrl'](_0x19a84f),_0x3b1822?_0x59d56a(_0x3b1822):_0x57f507['once']('add:url:'+_0x19a84f,_0x59d56a);}}}});}['addParser'](_0xf1dea0,_0xd9738a){this['_parsers']['push']({'parser':_0xf1dea0,'decider':_0xd9738a});}}class rL extends Ne{constructor(_0x53a0f3){super(_0x53a0f3,'scene');}['load'](_0x3d070d,_0xce0693){Lx['load'](_0x3d070d,this['maxRetries'],_0xce0693);}['open'](_0x252381,_0x20ad62){this['_app']['systems']['script']['preloading']=!(0x8c6+0x84e*0x2+0x26*-0xab);const _0x1869fd=new $p(this['_app'],!(-0x2706+0x157f+0x84*0x22))['parse'](_0x20ad62),_0x3ce0ff=this['_app']['scene'];return _0x3ce0ff['root']=_0x1869fd,this['_app']['applyScene'+'Settings'](_0x20ad62['settings']),this['_app']['systems']['script']['preloading']=!(-0x9fb+-0x43*-0x67+-0x10f9),_0x3ce0ff;}}const hc=class hc{static['push'](_0xecf9f8){hc['_types']['push'](_0xecf9f8);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0x1af94e,_0x17017c,_0x21cdd9)=>{aL[_0x1af94e]=-0x268d+-0x5e0+0x2c6e;});function oL(_0x86f67e,_0x37b7c4,_0x5a5cd4){if(typeof _0x86f67e!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x86f67e+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x86f67e['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0x86f67e)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x37b7c4=_0x37b7c4||_0x86f67e['__name']||Qh['__getScrip'+'tName'](_0x86f67e),nL['has'](_0x37b7c4))throw new Error('script\x20nam'+'e:\x20\x27'+_0x37b7c4+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x86f67e['__name']=_0x37b7c4,qh['getApplica'+'tion']()['scripts']['add'](_0x86f67e),Xr['push'](_0x86f67e);}const lL=_0x13784f=>_0x13784f[-0x146b*-0x1+-0x1d8a+-0x1d3*-0x5]['toLowerCas'+'e']()+_0x13784f['substring'](-0x1bfa*0x1+-0x1c8d*0x1+0x3888);class hL extends Ne{constructor(_0x4d04f5){super(_0x4d04f5,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x4bd4a5 in this['_cache']){const _0x8f54fd=this['_cache'][_0x4bd4a5],_0x39fb52=_0x8f54fd['parentNode'];_0x39fb52&&_0x39fb52['removeChil'+'d'](_0x8f54fd);}this['_cache']={};}['load'](_0x3e645b,_0x1a32f7){typeof _0x3e645b=='string'&&(_0x3e645b={'load':_0x3e645b,'original':_0x3e645b});const _0x148577=this;this['_app'];const _0x33662c=(_0x3e645b['load'],(_0x398dc5,_0x508ecb,_0x25b99c)=>{if(_0x398dc5)_0x1a32f7(_0x398dc5);else{const _0x87fd32={};for(let _0x17b50c=-0xd12*0x2+0x8ce+0x1156;_0x17b50c<Xr['_types']['length'];_0x17b50c++)_0x87fd32[Xr['_types'][_0x17b50c]['name']]=Xr['_types'][_0x17b50c];Xr['_types']['length']=0xe57+0x1*-0xb8c+-0x41*0xb,_0x1a32f7(null,_0x87fd32,_0x25b99c);const _0x2c8abe=_0x508ecb['split']('&hash=')[0x1cad+0xa*-0xd9+-0x1433*0x1];delete _0x148577['_loader']['_cache'][pa['makeKey'](_0x2c8abe,'script')];}}),[_0x4fd6e9]=_0x3e645b['load']['split']('?');_0x4fd6e9['endsWith']('.mjs')?this['_loadModul'+'e'](_0x4fd6e9,_0x33662c):this['_loadScrip'+'t'](_0x3e645b['load'],_0x33662c);}['open'](_0x342909,_0x4ee070){return _0x4ee070;}['patch'](_0x4b0ada,_0x3b4e48){}['_loadScrip'+'t'](_0x447f9f,_0x210ba6){const _0x40c74a=document['head'],_0x38b58a=document['createElem'+'ent']('script');this['_cache'][_0x447f9f]=_0x38b58a,_0x38b58a['async']=!(-0x4*-0x9b6+0x358+-0x2a2f*0x1),_0x38b58a['addEventLi'+'stener']('error',_0x52125d=>{_0x210ba6('Script:\x20'+_0x52125d['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0xeec+0x13d5*0x1+0x1*-0x4e8));let _0x2bad2e=!(0x17f1+-0x3ad*-0x1+-0x1b9d);_0x38b58a['onload']=_0x38b58a['onreadysta'+'techange']=function(){!_0x2bad2e&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x2bad2e=!(-0x1193*0x1+-0x2*-0xca9+-0x7bf),_0x210ba6(null,_0x447f9f,_0x38b58a));},_0x38b58a['src']=_0x447f9f,_0x40c74a['appendChil'+'d'](_0x38b58a);}['_loadModul'+'e'](_0x5903fb,_0x48ba2e){const _0x2cd408=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x3fbb4a=new URL(_0x5903fb,_0x2cd408);import(_0x3fbb4a['toString']())['then'](_0x3ef2e1=>{var _0x49f2c7,_0x553e86;const _0xdf236e=_0x3fbb4a['pathname']['split']('/')['pop'](),_0x30c474=(_0x553e86=(_0x49f2c7=this['_app']['assets']['find'](_0xdf236e,'script'))==null?void(-0x1*0x1b1+0x100*0x7+-0x1*0x54f):_0x49f2c7['data'])==null?void(-0x14e1*-0x1+0xc0*-0x23+0x7d*0xb):_0x553e86['scripts'];for(const _0x37dbad in _0x3ef2e1){const _0x1b25e7=_0x3ef2e1[_0x37dbad];if(_0x1b25e7['prototype']instanceof Ht){const _0x42b57d=lL(_0x1b25e7['name']);oL(_0x1b25e7,_0x42b57d),_0x30c474&&this['_app']['scripts']['addSchema'](_0x42b57d,_0x30c474[_0x42b57d]);}}_0x48ba2e(null,_0x5903fb,null);})['catch'](_0x14b66f=>{_0x48ba2e(_0x14b66f);});}}class cL extends Ne{constructor(_0x56e310){super(_0x56e310,'shader'),c(this,'decoder',null);}['load'](_0x2ae73d,_0x3674b3){typeof _0x2ae73d=='string'&&(_0x2ae73d={'load':_0x2ae73d,'original':_0x2ae73d}),We['get'](_0x2ae73d['load'],{'retry':this['maxRetries']>0x14e0+-0x3*0xaff+0x7*0x1bb,'maxRetries':this['maxRetries']},(_0x44b2c0,_0x2f463e)=>{_0x44b2c0?_0x3674b3('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x2ae73d['original']+'\x20['+_0x44b2c0+']'):_0x3674b3(null,_0x2f463e);});}['openBinary'](_0x4e558c){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x4e558c);}}function eu(_0x1fed5b){const _0x21c246=this;_0x21c246['resource']&&(_0x21c246['resource']['atlas']=_0x1fed5b['resource']);}function tu(_0x5d3d2f){this['registry']['load'](_0x5d3d2f);}class dL extends Ne{constructor(_0x31dbb5){super(_0x31dbb5,'sprite'),this['_assets']=_0x31dbb5['assets'],this['_device']=_0x31dbb5['graphicsDe'+'vice'];}['load'](_0x2c4055,_0x277d46){typeof _0x2c4055=='string'&&(_0x2c4055={'load':_0x2c4055,'original':_0x2c4055}),fe['getExtensi'+'on'](_0x2c4055['original'])==='.json'&&We['get'](_0x2c4055['load'],{'retry':this['maxRetries']>-0x152+0x26a7+-0x2555,'maxRetries':this['maxRetries']},(_0x3bb0a6,_0xfd5334)=>{_0x3bb0a6?_0x277d46(_0x3bb0a6):_0x277d46(null,_0xfd5334);});}['open'](_0xa45b4e,_0x5413f4){const _0x54799c=new T1(this['_device']);return _0xa45b4e&&(_0x54799c['__data']=_0x5413f4),_0x54799c;}['patch'](_0xe25cf0,_0x16f1cc){const _0x24c131=_0xe25cf0['resource'];if(_0x24c131['__data']&&(_0xe25cf0['data']['pixelsPerU'+'nit']=_0x24c131['__data']['pixelsPerU'+'nit'],_0xe25cf0['data']['renderMode']=_0x24c131['__data']['renderMode'],_0xe25cf0['data']['frameKeys']=_0x24c131['__data']['frameKeys'],_0x24c131['__data']['textureAtl'+'asAsset'])){const _0x10ee7e=_0x16f1cc['getByUrl'](_0x24c131['__data']['textureAtl'+'asAsset']);_0x10ee7e?_0xe25cf0['data']['textureAtl'+'asAsset']=_0x10ee7e['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x24c131['__data']['textureAtl'+'asAsset']);}_0x24c131['startUpdat'+'e'](),_0x24c131['renderMode']=_0xe25cf0['data']['renderMode'],_0x24c131['pixelsPerU'+'nit']=_0xe25cf0['data']['pixelsPerU'+'nit'],_0x24c131['frameKeys']=_0xe25cf0['data']['frameKeys'],this['_updateAtl'+'as'](_0xe25cf0),_0x24c131['endUpdate'](),_0xe25cf0['off']('change',this['_onAssetCh'+'ange'],this),_0xe25cf0['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x68da91){const _0x442ebb=_0x68da91['resource'];if(!_0x68da91['data']['textureAtl'+'asAsset']){_0x442ebb['atlas']=null;return;}this['_assets']['off']('load:'+_0x68da91['data']['textureAtl'+'asAsset'],eu,_0x68da91),this['_assets']['on']('load:'+_0x68da91['data']['textureAtl'+'asAsset'],eu,_0x68da91);const _0x3bf24c=this['_assets']['get'](_0x68da91['data']['textureAtl'+'asAsset']);_0x3bf24c&&_0x3bf24c['resource']?_0x442ebb['atlas']=_0x3bf24c['resource']:_0x3bf24c?this['_assets']['load'](_0x3bf24c):(this['_assets']['off']('add:'+_0x68da91['data']['textureAtl'+'asAsset'],tu,_0x68da91),this['_assets']['on']('add:'+_0x68da91['data']['textureAtl'+'asAsset'],tu,_0x68da91));}['_onAssetCh'+'ange'](_0x979e82,_0xd2a107,_0x1d14d5,_0xdba7a9){_0xd2a107==='data'&&_0x1d14d5&&_0x1d14d5['textureAtl'+'asAsset']&&_0xdba7a9&&_0x1d14d5['textureAtl'+'asAsset']!==_0xdba7a9['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0xdba7a9['textureAtl'+'asAsset'],eu,_0x979e82),this['_assets']['off']('add:'+_0xdba7a9['textureAtl'+'asAsset'],tu,_0x979e82));}}class Gg{constructor(_0x151586,_0x533dd9){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x151586,this['_data']=_0x533dd9);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x58e74e=new $p(this['_app'],!(0x80+0x8ab*0x1+-0x92b));this['_templateR'+'oot']=_0x58e74e['parse'](this['_data']);}}class uL extends Ne{constructor(_0x2fd1be){super(_0x2fd1be,'template'),c(this,'decoder',null);}['load'](_0x5c1ec2,_0x1637af){typeof _0x5c1ec2=='string'&&(_0x5c1ec2={'load':_0x5c1ec2,'original':_0x5c1ec2});const _0x34502b={'retry':this['maxRetries']>0x22ed*0x1+-0x5b*0x49+-0x8fa,'maxRetries':this['maxRetries']};We['get'](_0x5c1ec2['load'],_0x34502b,(_0x1ff84c,_0x2d828b)=>{_0x1ff84c?_0x1637af('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x5c1ec2['original']):_0x1637af(_0x1ff84c,_0x2d828b);});}['open'](_0x7b5463,_0x1f2e33){return new Gg(this['_app'],_0x1f2e33);}['openBinary'](_0x26597d){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x26597d)));}}class fL extends Ne{constructor(_0x1a0761){super(_0x1a0761,'text'),c(this,'decoder',null);}['load'](_0x4ff4cf,_0x352833){typeof _0x4ff4cf=='string'&&(_0x4ff4cf={'load':_0x4ff4cf,'original':_0x4ff4cf}),We['get'](_0x4ff4cf['load'],{'retry':this['maxRetries']>0x7*0x23+-0x1e58+-0x1d63*-0x1,'maxRetries':this['maxRetries']},(_0x599a2c,_0x39a67f)=>{_0x599a2c?_0x352833('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x4ff4cf['original']+'\x20['+_0x599a2c+']'):_0x352833(null,_0x39a67f);});}['openBinary'](_0x582441){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x582441);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x5a7fd5){super(_0x5a7fd5,'textureatl'+'as'),this['_loader']=_0x5a7fd5['loader'];}['load'](_0x271339,_0x2f7b84){typeof _0x271339=='string'&&(_0x271339={'load':_0x271339,'original':_0x271339});const _0x4e3d5b=this,_0x47ac4d=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x271339['original'])==='.json'?We['get'](_0x271339['load'],{'retry':this['maxRetries']>0x2e9+0x20e0+-0x23c9,'maxRetries':this['maxRetries']},(_0x4fa20d,_0x495d73)=>{if(_0x4fa20d)_0x2f7b84(_0x4fa20d);else{const _0x3a966b=_0x271339['original']['replace']('.json','.png');_0x4e3d5b['_loader']['load'](_0x3a966b,'texture',(_0x195e69,_0x168b5c)=>{_0x195e69?_0x2f7b84(_0x195e69):_0x2f7b84(null,{'data':_0x495d73,'texture':_0x168b5c});});}}):_0x47ac4d['load'](_0x271339,_0x2f7b84);}['open'](_0x3fd791,_0x3abf0e,_0x30b364){const _0x4e4374=new A1();if(_0x3abf0e['texture']&&_0x3abf0e['data'])_0x4e4374['texture']=_0x3abf0e['texture'],_0x4e4374['__data']=_0x3abf0e['data'];else{const _0x1ef864=this['_loader']['getHandler']('texture')['open'](_0x3fd791,_0x3abf0e,_0x30b364);if(!_0x1ef864)return null;_0x4e4374['texture']=_0x1ef864;}return _0x4e4374;}['patch'](_0x2f50c9,_0x299bd6){if(!_0x2f50c9['resource'])return;_0x2f50c9['resource']['__data']&&(_0x2f50c9['resource']['__data']['minfilter']!==void(0x121f+-0xb15*-0x2+-0x2849)&&(_0x2f50c9['data']['minfilter']=_0x2f50c9['resource']['__data']['minfilter']),_0x2f50c9['resource']['__data']['magfilter']!==void(0x3b*-0x8b+-0x16c2*0x1+0x36cb)&&(_0x2f50c9['data']['magfilter']=_0x2f50c9['resource']['__data']['magfilter']),_0x2f50c9['resource']['__data']['addressu']!==void(0x8f*-0x30+-0x1ddd*0x1+-0xb*-0x527)&&(_0x2f50c9['data']['addressu']=_0x2f50c9['resource']['__data']['addressu']),_0x2f50c9['resource']['__data']['addressv']!==void(0x981+0x6a8+-0x1029)&&(_0x2f50c9['data']['addressv']=_0x2f50c9['resource']['__data']['addressv']),_0x2f50c9['resource']['__data']['mipmaps']!==void(0x46f+0x3b9*0x8+-0x2237)&&(_0x2f50c9['data']['mipmaps']=_0x2f50c9['resource']['__data']['mipmaps']),_0x2f50c9['resource']['__data']['anisotropy']!==void(0xaca+0x227c+-0x5f*0x7a)&&(_0x2f50c9['data']['anisotropy']=_0x2f50c9['resource']['__data']['anisotropy']),_0x2f50c9['resource']['__data']['rgbm']!==void(0x1*0x67a+0x16c9*-0x1+0x104f)&&(_0x2f50c9['data']['rgbm']=!!_0x2f50c9['resource']['__data']['rgbm']),_0x2f50c9['data']['frames']=_0x2f50c9['resource']['__data']['frames'],delete _0x2f50c9['resource']['__data']);const _0x3df0d7=_0x2f50c9['resource']['texture'];if(_0x3df0d7&&(_0x3df0d7['name']=_0x2f50c9['name'],_0x2f50c9['data']['hasOwnProp'+'erty']('minfilter')&&_0x3df0d7['minFilter']!==sh[_0x2f50c9['data']['minfilter']]&&(_0x3df0d7['minFilter']=sh[_0x2f50c9['data']['minfilter']]),_0x2f50c9['data']['hasOwnProp'+'erty']('magfilter')&&_0x3df0d7['magFilter']!==sh[_0x2f50c9['data']['magfilter']]&&(_0x3df0d7['magFilter']=sh[_0x2f50c9['data']['magfilter']]),_0x2f50c9['data']['hasOwnProp'+'erty']('addressu')&&_0x3df0d7['addressU']!==th[_0x2f50c9['data']['addressu']]&&(_0x3df0d7['addressU']=th[_0x2f50c9['data']['addressu']]),_0x2f50c9['data']['hasOwnProp'+'erty']('addressv')&&_0x3df0d7['addressV']!==th[_0x2f50c9['data']['addressv']]&&(_0x3df0d7['addressV']=th[_0x2f50c9['data']['addressv']]),_0x2f50c9['data']['hasOwnProp'+'erty']('mipmaps')&&_0x3df0d7['mipmaps']!==_0x2f50c9['data']['mipmaps']&&(_0x3df0d7['mipmaps']=_0x2f50c9['data']['mipmaps']),_0x2f50c9['data']['hasOwnProp'+'erty']('anisotropy')&&_0x3df0d7['anisotropy']!==_0x2f50c9['data']['anisotropy']&&(_0x3df0d7['anisotropy']=_0x2f50c9['data']['anisotropy']),_0x2f50c9['data']['hasOwnProp'+'erty']('rgbm'))){const _0x141311=_0x2f50c9['data']['rgbm']?on:Di;_0x3df0d7['type']!==_0x141311&&(_0x3df0d7['type']=_0x141311);}_0x2f50c9['resource']['texture']=_0x3df0d7;const _0x283e8b={};for(const _0x30ff7e in _0x2f50c9['data']['frames']){const _0x30ba26=_0x2f50c9['data']['frames'][_0x30ff7e];_0x283e8b[_0x30ff7e]={'rect':new Q(_0x30ba26['rect']),'pivot':new $(_0x30ba26['pivot']),'border':new Q(_0x30ba26['border'])};}_0x2f50c9['resource']['frames']=_0x283e8b,_0x2f50c9['off']('change',this['_onAssetCh'+'ange'],this),_0x2f50c9['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x3336db,_0x5e1aee,_0x235079){let _0x4b1a4e;if(_0x5e1aee==='data'||_0x5e1aee==='data.frame'+'s'){const _0x598667={};for(const _0x1e62b7 in _0x235079['frames'])_0x4b1a4e=_0x235079['frames'][_0x1e62b7],_0x598667[_0x1e62b7]={'rect':new Q(_0x4b1a4e['rect']),'pivot':new $(_0x4b1a4e['pivot']),'border':new Q(_0x4b1a4e['border'])};_0x3336db['resource']['frames']=_0x598667;}else{const _0x24feda=_0x5e1aee['match'](pL);if(_0x24feda){const _0xb9bce4=_0x24feda[0x2494+0x1*-0x103+0x8e4*-0x4];_0x235079?(_0x3336db['resource']['frames'][_0xb9bce4]?(_0x4b1a4e=_0x3336db['resource']['frames'][_0xb9bce4],_0x4b1a4e['rect']['set'](_0x235079['rect'][-0x9*0x23c+0xae0*0x1+0x93c*0x1],_0x235079['rect'][0x68f+0x1938+-0x1fc6],_0x235079['rect'][-0x2441*0x1+0x1*-0x18f0+0x3d33*0x1],_0x235079['rect'][0x111c+-0x20c*0x8+-0xb9]),_0x4b1a4e['pivot']['set'](_0x235079['pivot'][0x1*0xaef+-0x1c9*0xd+0xc46],_0x235079['pivot'][-0x1d*0x13+0x139d+-0x1175]),_0x4b1a4e['border']['set'](_0x235079['border'][-0x3*0xcdf+-0x151f*0x1+0x1*0x3bbc],_0x235079['border'][0x6ef+-0x52c+-0x1c2],_0x235079['border'][-0x8a9*-0x2+-0x1*-0x1d27+-0x2e77],_0x235079['border'][-0x46f*-0x4+-0x61*-0xb+-0x74c*0x3])):_0x3336db['resource']['frames'][_0xb9bce4]={'rect':new Q(_0x235079['rect']),'pivot':new $(_0x235079['pivot']),'border':new Q(_0x235079['border'])},_0x3336db['resource']['fire']('set:frame',_0xb9bce4,_0x3336db['resource']['frames'][_0xb9bce4])):_0x3336db['resource']['frames'][_0xb9bce4]&&(delete _0x3336db['resource']['frames'][_0xb9bce4],_0x3336db['resource']['fire']('remove:fra'+'me',_0xb9bce4));}}}}function _L(){const _0x1c237c={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x4fc6b4={'astc':_0x1c237c['cTFASTC_4x'+'4'],'dxt':_0x1c237c['cTFBC1'],'etc1':_0x1c237c['cTFETC1'],'etc2':_0x1c237c['cTFETC1'],'pvr':_0x1c237c['cTFPVRTC1_'+'4_RGB'],'atc':_0x1c237c['cTFATC_RGB'],'none':_0x1c237c['cTFRGB565']},_0x23373b={'astc':_0x1c237c['cTFASTC_4x'+'4'],'dxt':_0x1c237c['cTFBC3'],'etc1':_0x1c237c['cTFRGBA444'+'4'],'etc2':_0x1c237c['cTFETC2'],'pvr':_0x1c237c['cTFPVRTC1_'+'4_RGBA'],'atc':_0x1c237c['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x1c237c['cTFRGBA444'+'4']},_0x3aca61={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0xe3a034=(_0x3e374b,_0x1adb88)=>{switch(_0x3e374b){case _0x1c237c['cTFETC1']:return _0x1adb88['formats']['etc2']?_0x3aca61['ETC2_RGB']:_0x3aca61['ETC1'];case _0x1c237c['cTFETC2']:return _0x3aca61['ETC2_RGBA'];case _0x1c237c['cTFBC1']:return _0x3aca61['DXT1'];case _0x1c237c['cTFBC3']:return _0x3aca61['DXT5'];case _0x1c237c['cTFPVRTC1_'+'4_RGB']:return _0x3aca61['PVRTC_4BPP'+'_RGB_1'];case _0x1c237c['cTFPVRTC1_'+'4_RGBA']:return _0x3aca61['PVRTC_4BPP'+'_RGBA_1'];case _0x1c237c['cTFASTC_4x'+'4']:return _0x3aca61['ASTC_4x4'];case _0x1c237c['cTFATC_RGB']:return _0x3aca61['ATC_RGB'];case _0x1c237c['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x3aca61['ATC_RGBA'];case _0x1c237c['cTFRGBA32']:return _0x3aca61['R8_G8_B8_A'+'8'];case _0x1c237c['cTFRGB565']:return _0x3aca61['R5_G6_B5'];case _0x1c237c['cTFRGBA444'+'4']:return _0x3aca61['R4_G4_B4_A'+'4'];}},_0x2b2baf=_0x3d1388=>{const _0x2c1c17=function(_0x41ffa8,_0x14eaa1){const _0x10b2b1=_0x41ffa8*(-0x9dd+-0xd04*-0x2+0x102b*-0x1+0.00784313725490196)-(0xbec+-0x22b6+0x16cb),_0xa90949=_0x14eaa1*((0x1a93+-0x5*-0xa8+-0x1dd9)/(-0x815*0x3+-0x4ac*0x7+0x39f2))-(-0x2385+0x1*0x1fbb+0x3cb),_0x114adf=Math['sqrt'](0x241+0x5*-0x489+0x245*0x9-Math['min'](0x1*0x23ec+0x2428+0x4813*-0x1,_0x10b2b1*_0x10b2b1+_0xa90949*_0xa90949));return Math['max'](-0x1*0x825+0x1*-0x1188+0x19ad*0x1,Math['min'](0x9*0x2cb+-0x99f+-0x9*0x19d,Math['floor']((_0x114adf+(-0x22*0xd9+-0xb*0xb9+0xc42*0x3))*(-0x1fe8+-0x2*0xa86+0x34f4+0.5)*(0x1c7a+-0x19b7+-0x1c4))));};for(let _0x45affd=0x7b2*-0x1+-0x1*0x2245+0x29f7;_0x45affd<_0x3d1388['length'];_0x45affd+=0xf1*0x7+0x236*0x1+-0xd*0xad){const _0x79918d=_0x3d1388[_0x45affd+(0x61e+0x11bd+-0x17d8)],_0x1ecc23=_0x3d1388[_0x45affd+(0x2653+0xd*0x25+0x29*-0xfb)];_0x3d1388[_0x45affd+(-0x2*0x621+-0x1d41+0x2983)]=_0x79918d,_0x3d1388[_0x45affd+(0x6dc+-0x128*0x4+-0xf*0x26)]=_0x2c1c17(_0x79918d,_0x1ecc23),_0x3d1388[_0x45affd+(0x51*-0x1c+0xa*-0x3e5+0x1*0x2fd1)]=0xc9a+-0x2c*0x4d+0x1a1;}return _0x3d1388;},_0x14fa29=_0x1cf5ba=>{const _0x121c62=new Uint16Array(_0x1cf5ba['length']/(0x2*-0x80f+-0x34e*-0x3+-0x4*-0x18e));for(let _0x2b8000=0x1*0x229c+-0x20a9+-0x1f3;_0x2b8000<_0x1cf5ba['length'];_0x2b8000+=-0x517+-0x17cb*-0x1+-0x12b0){const _0xa3f34=_0x1cf5ba[_0x2b8000+(0x4*-0x175+-0x2483+0x2a57)],_0x4bf3bc=_0x1cf5ba[_0x2b8000+(-0x1*-0x1244+-0x2336+0x1*0x10f3)],_0x49c5eb=_0x1cf5ba[_0x2b8000+(-0x23*0x33+0xfc2+-0x7*0x141)];_0x121c62[_0x2b8000/(0x1b1+-0x274*-0x7+-0x1*0x12d9)]=(_0xa3f34&0x1426+-0x824+-0x1*0xb0a)<<-0x1*-0x72b+-0x24b9*0x1+0x1d96|(_0x4bf3bc&-0x1a93+0x1*0x2151+0x1*-0x5c2)<<0x1c6e+-0x4b8+-0x1*0x17b3|_0x49c5eb>>0x1b97*-0x1+-0xb11+0x1*0x26ab;}return _0x121c62;},_0x3b6f54=(_0x3823b8,_0x46ac44)=>(_0x3823b8&_0x3823b8-(-0x32d*0x7+0x23c4+0x1*-0xd88))===-0x1601+-0x1de0+0x33e1&&(_0x46ac44&_0x46ac44-(-0x1*0x10d3+-0x1*-0x38f+0x1*0xd45))===0x16*0x113+-0x1*0x8e5+-0x4d*0x31,_0x4b4107=()=>typeof performance<'u'?performance['now']():-0x1*-0x801+-0x4ed*-0x1+0x2*-0x677;let _0x57e8cb,_0xb4debb,_0x294cf3;const _0x12061f=(_0x4f07a3,_0x339281,_0x1db184)=>{if(_0x1db184){if(_0x4f07a3['formats']['astc'])return'astc';}else{if(_0x339281){if(_0x4f07a3['formats']['etc2'])return'etc2';}else{if(_0x4f07a3['formats']['etc2'])return'etc2';if(_0x4f07a3['formats']['etc1'])return'etc1';}}return(_0x515bb8=>{for(let _0x52f933=0xbb*0xb+-0x7fb+0x7*-0x2;_0x52f933<_0x515bb8['length'];++_0x52f933){const _0x1dac1a=_0x515bb8[_0x52f933];if(_0x4f07a3['formats'][_0x1dac1a])return _0x1dac1a;}return'none';})(_0x339281?_0x294cf3:_0xb4debb);},_0x5e68e1=(_0x1bac46,_0x45e811,_0x1fb659)=>{switch(_0x1fb659){case _0x1c237c['cTFETC1']:case _0x1c237c['cTFETC2']:return!(0x542+-0x16fa+0x11b8);case _0x1c237c['cTFBC1']:case _0x1c237c['cTFBC3']:return(_0x1bac46&-0x3*0x113+0x3*-0x42d+-0x3*-0x541)===0xa01+-0x67*-0x2a+0x61*-0x47&&(_0x45e811&-0x7*-0x392+0x26f6*0x1+-0x1*0x3ff1)===-0xf0a+0x13f4+-0x4ea;case _0x1c237c['cTFPVRTC1_'+'4_RGB']:case _0x1c237c['cTFPVRTC1_'+'4_RGBA']:return _0x3b6f54(_0x1bac46,_0x45e811);case _0x1c237c['cTFASTC_4x'+'4']:return!(0xa31*0x2+0x214a*0x1+0x1e*-0x1ca);case _0x1c237c['cTFATC_RGB']:case _0x1c237c['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x1*0x1328+0x1eb8+-0x1c8*0x1c);}return!(0x1d7f+-0xc88*-0x1+-0x146*0x21);},_0x44dd41=(_0x37a451,_0x433b44,_0x255c1d)=>{if(!_0x57e8cb['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x2950eb=_0x4b4107(),_0x53d5e8=new _0x57e8cb['KTX2File'](new Uint8Array(_0x433b44)),_0x6988d6=_0x53d5e8['getWidth'](),_0x193e0d=_0x53d5e8['getHeight'](),_0x58b5ae=_0x53d5e8['getLevels'](),_0x55f41d=!!_0x53d5e8['getHasAlph'+'a'](),_0x405887=_0x53d5e8['isUASTC']&&_0x53d5e8['isUASTC']();if(!_0x6988d6||!_0x193e0d||!_0x58b5ae)throw _0x53d5e8['close'](),_0x53d5e8['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x37a451+'\x20width='+_0x6988d6+'\x20height='+_0x193e0d+'\x20levels='+_0x58b5ae);const _0x4cb16d=_0x12061f(_0x255c1d['deviceDeta'+'ils'],_0x55f41d,_0x405887),_0x42a836=!!_0x255c1d['isGGGR']&&_0x4cb16d==='pvr';let _0x38ad39;if(_0x42a836?_0x38ad39=_0x1c237c['cTFRGBA32']:(_0x38ad39=_0x55f41d?_0x23373b[_0x4cb16d]:_0x4fc6b4[_0x4cb16d],_0x5e68e1(_0x6988d6,_0x193e0d,_0x38ad39)||(_0x38ad39=_0x55f41d?_0x1c237c['cTFRGBA32']:_0x1c237c['cTFRGB565'])),!_0x53d5e8['startTrans'+'coding']())throw _0x53d5e8['close'](),_0x53d5e8['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x37a451);let _0x1bbabc;const _0x2c5468=[];for(let _0x238ff8=-0x466*0x4+-0xd4c+0xc*0x293;_0x238ff8<_0x58b5ae;++_0x238ff8){const _0x6b1ddc=_0x53d5e8['getImageTr'+'anscodedSi'+'zeInBytes'](_0x238ff8,-0xdf*-0xe+0x3*-0x8b9+0x1ff*0x7,-0xdb5+0x4*0x59f+0x3*-0x2ed,_0x38ad39),_0x462cf6=new Uint8Array(_0x6b1ddc);if(!_0x53d5e8['transcodeI'+'mage'](_0x462cf6,_0x238ff8,0x266*0x10+-0x3*-0x236+-0x2d02,-0x633+0x1ceb+0x2d7*-0x8,_0x38ad39,-0x2b3*-0x7+-0x1*0x16b1+0x6*0xa2,-(-0x11a+0x54b+0x43*-0x10),-(0x110d+-0x388*-0x3+-0x1ba4)))throw _0x53d5e8['close'](),_0x53d5e8['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x37a451);const _0x5b0337=_0x38ad39===_0x1c237c['cTFRGB565']||_0x38ad39===_0x1c237c['cTFRGBA444'+'4'];_0x2c5468['push'](_0x5b0337?new Uint16Array(_0x462cf6['buffer']):_0x462cf6);}if(_0x53d5e8['close'](),_0x53d5e8['delete'](),_0x42a836){for(_0x38ad39=_0x1c237c['cTFRGB565'],_0x1bbabc=0x2*-0x48d+-0x430+0xd4a;_0x1bbabc<_0x2c5468['length'];++_0x1bbabc)_0x2c5468[_0x1bbabc]=_0x14fa29(_0x2b2baf(_0x2c5468[_0x1bbabc]));}return{'format':_0xe3a034(_0x38ad39,_0x255c1d['deviceDeta'+'ils']),'width':_0x6988d6,'height':_0x193e0d,'levels':_0x2c5468,'cubemap':!(-0x32f+-0x97*0x5+-0x1*-0x623),'transcodeTime':_0x4b4107()-_0x2950eb,'url':_0x37a451,'unswizzledGGGR':_0x42a836};},_0x24a98b=(_0x4f60fb,_0x17f407,_0x2be43c)=>{const _0x3299db=_0x4b4107(),_0x300ef6=new _0x57e8cb['BasisFile'](new Uint8Array(_0x17f407)),_0x41505e=_0x300ef6['getImageWi'+'dth'](-0x5f8*-0x2+0x18d3+-0x24c3,-0x2*-0x5c+0x22*-0x6+0x14),_0x15dfdb=_0x300ef6['getImageHe'+'ight'](0x1*-0x220f+0x1*-0xf0d+0x311c,0x1aed+0x17d4*-0x1+-0x319),_0x48e0b2=_0x300ef6['getNumImag'+'es'](),_0x1c3586=_0x300ef6['getNumLeve'+'ls'](0x3*0x74b+-0x29b*0x3+0x12*-0xc8),_0x22fe7f=!!_0x300ef6['getHasAlph'+'a'](),_0x336e9b=_0x300ef6['isUASTC']&&_0x300ef6['isUASTC']();if(!_0x41505e||!_0x15dfdb||!_0x48e0b2||!_0x1c3586)throw _0x300ef6['close'](),_0x300ef6['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x4f60fb+'\x20width='+_0x41505e+'\x20height='+_0x15dfdb+'\x20images='+_0x48e0b2+'\x20levels='+_0x1c3586);const _0xa0ae64=_0x12061f(_0x2be43c['deviceDeta'+'ils'],_0x22fe7f,_0x336e9b),_0x5d0774=!!_0x2be43c['isGGGR']&&_0xa0ae64==='pvr';let _0x57dc1a;if(_0x5d0774?_0x57dc1a=_0x1c237c['cTFRGBA32']:(_0x57dc1a=_0x22fe7f?_0x23373b[_0xa0ae64]:_0x4fc6b4[_0xa0ae64],_0x5e68e1(_0x41505e,_0x15dfdb,_0x57dc1a)||(_0x57dc1a=_0x22fe7f?_0x1c237c['cTFRGBA32']:_0x1c237c['cTFRGB565'])),!_0x300ef6['startTrans'+'coding']())throw _0x300ef6['close'](),_0x300ef6['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x4f60fb);let _0x156b73;const _0x2a4d19=[];for(let _0x51e31a=0x5d5*0x3+-0x13*0x1c1+-0x7ea*-0x2;_0x51e31a<_0x1c3586;++_0x51e31a){const _0x555bc3=_0x300ef6['getImageTr'+'anscodedSi'+'zeInBytes'](0xa7*0x13+0x18f1+-0x2556,_0x51e31a,_0x57dc1a),_0x425cd5=new Uint8Array(_0x555bc3);if(!_0x300ef6['transcodeI'+'mage'](_0x425cd5,-0xb*0x1d6+-0x1*-0xf4+0x133e,_0x51e31a,_0x57dc1a,-0x1d23+0x4*0x648+0x403,0x1acd*0x1+0x171b+-0x31e8)){if(_0x51e31a===_0x1c3586-(0x13ba+-0x1557+-0x2e*-0x9)&&_0x555bc3===_0x2a4d19[_0x51e31a-(0x1aed+-0x25c5+-0xad9*-0x1)]['buffer']['byteLength'])_0x425cd5['set'](new Uint8Array(_0x2a4d19[_0x51e31a-(-0xa0a+-0xbfa+0x1605)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x4f60fb);else throw _0x300ef6['close'](),_0x300ef6['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x4f60fb);}const _0x5f2781=_0x57dc1a===_0x1c237c['cTFRGB565']||_0x57dc1a===_0x1c237c['cTFRGBA444'+'4'];_0x2a4d19['push'](_0x5f2781?new Uint16Array(_0x425cd5['buffer']):_0x425cd5);}if(_0x300ef6['close'](),_0x300ef6['delete'](),_0x5d0774){for(_0x57dc1a=_0x1c237c['cTFRGB565'],_0x156b73=0x1*-0x202+-0x113e+0x1340;_0x156b73<_0x2a4d19['length'];++_0x156b73)_0x2a4d19[_0x156b73]=_0x14fa29(_0x2b2baf(_0x2a4d19[_0x156b73]));}return{'format':_0xe3a034(_0x57dc1a,_0x2be43c['deviceDeta'+'ils']),'width':_0x41505e,'height':_0x15dfdb,'levels':_0x2a4d19,'cubemap':!(0x1b94+-0x6d*0x19+-0x18a*0xb),'transcodeTime':_0x4b4107()-_0x3299db,'url':_0x4f60fb,'unswizzledGGGR':_0x5d0774};},_0x493fd0=(_0x3f20d9,_0x45f3f3,_0x1005ed)=>_0x1005ed['isKTX2']?_0x44dd41(_0x3f20d9,_0x45f3f3,_0x1005ed):_0x24a98b(_0x3f20d9,_0x45f3f3,_0x1005ed),_0x3e4c28=(_0x429997,_0x5d5cac,_0x28fa45)=>{try{const _0x456119=_0x493fd0(_0x429997,_0x5d5cac,_0x28fa45);_0x456119['levels']=_0x456119['levels']['map'](_0x2b5788=>_0x2b5788['buffer']),self['postMessag'+'e']({'url':_0x429997,'data':_0x456119},_0x456119['levels']);}catch(_0x57f815){self['postMessag'+'e']({'url':_0x429997,'err':_0x57f815},null);}},_0x341a16=(_0x2f2257,_0x37d014)=>{const _0x61e31a=(_0x49c549,_0x428d06)=>(WebAssembly['instantiat'+'e'](_0x2f2257['module'],_0x49c549)['then'](_0x3af657=>{_0x428d06(_0x3af657);})['catch'](_0x121ec6=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x121ec6);}),{});self['BASIS'](_0x2f2257['module']?{'instantiateWasm':_0x61e31a}:null)['then'](_0x5b0e39=>{_0x5b0e39['initialize'+'Basis'](),_0x57e8cb=_0x5b0e39,_0xb4debb=_0x2f2257['rgbPriorit'+'y'],_0x294cf3=_0x2f2257['rgbaPriori'+'ty'],_0x37d014(null);});},_0x2fbbb6=[];self['onmessage']=_0x5eed66=>{const _0x5577ea=_0x5eed66['data'];switch(_0x5577ea['type']){case'init':_0x341a16(_0x5577ea['config'],()=>{for(let _0x229be0=-0x13*0xb3+-0x17d*-0xc+-0x493;_0x229be0<_0x2fbbb6['length'];++_0x229be0)_0x3e4c28(_0x2fbbb6[_0x229be0]['url'],_0x2fbbb6[_0x229be0]['data'],_0x2fbbb6[_0x229be0]['options']);_0x2fbbb6['length']=0x14db+-0x722*0x4+0x7ad;});break;case'transcode':_0x57e8cb?_0x3e4c28(_0x5577ea['url'],_0x5577ea['data'],_0x5577ea['options']):_0x2fbbb6['push'](_0x5577ea);break;}};}const gL=_0x1cca20=>({'astc':!!_0x1cca20['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x1cca20['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x1cca20['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x1cca20['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x1cca20['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x1cca20['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x2f8d62,_0x47fea7)=>{const _0xb9e994=_0x4bd9e1=>{const _0x1d62a2=['/*\x20basis\x20*'+'/',_0x4bd9e1,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x1d62a2],{'type':'applicatio'+'n/javascri'+'pt'});},_0xa6a9c9=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x55cc3d=new WebAssembly['Module'](Uint8Array['of'](-0x241a*-0x1+0x521+-0x293b,-0xcb7+-0x31b+0x1033,0x829*0x2+-0x3e*-0x13+-0x1479,-0x1926+0x2f*0x2b+0x11ae*0x1,0x668+-0x58e+-0x1*0xd9,0x1a21*-0x1+-0x1f*0x2f+0x1fd2,0xb*0x235+-0x771+-0x10d6,-0x1da8+0x18ef+0x4b9));if(_0x55cc3d instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x55cc3d)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1b95+0x2326+0x1e4*-0x4);},_0x4aaa11=(_0x4dacaf,_0x31c6cb)=>{_0x47fea7(null,{'workerUrl':URL['createObje'+'ctURL'](_0xb9e994(_0x4dacaf)),'module':_0x31c6cb,'rgbPriority':_0x2f8d62['rgbPriorit'+'y'],'rgbaPriority':_0x2f8d62['rgbaPriori'+'ty']});},_0x1e8538={'cache':!(-0x1c1f+0x64*-0x4+0x1daf),'responseType':'text','retry':_0x2f8d62['maxRetries']>-0x4*0x51a+-0x2056+-0x56*-0x9d,'maxRetries':_0x2f8d62['maxRetries']};if(_0x2f8d62['glueUrl']&&_0x2f8d62['wasmUrl']&&_0xa6a9c9()){let _0x120e41=null,_0x34eac8=null;We['get'](_0x2f8d62['glueUrl'],_0x1e8538,(_0xf3a80a,_0x3706e5)=>{_0xf3a80a?_0x47fea7(_0xf3a80a):_0x34eac8?_0x4aaa11(_0x3706e5,_0x34eac8):_0x120e41=_0x3706e5;});const _0x596880=fetch(_0x2f8d62['wasmUrl']),_0x54a031=()=>{_0x596880['then'](_0x5a144c=>_0x5a144c['arrayBuffe'+'r']())['then'](_0x2c96ce=>WebAssembly['compile'](_0x2c96ce))['then'](_0x2e7e57=>{_0x120e41?_0x4aaa11(_0x120e41,_0x2e7e57):_0x34eac8=_0x2e7e57;})['catch'](_0x2e103a=>{_0x47fea7(_0x2e103a,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x596880)['then'](_0x3f2e84=>{_0x120e41?_0x4aaa11(_0x120e41,_0x3f2e84):_0x34eac8=_0x3f2e84;})['catch'](_0x1f9541=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x2f8d62['wasmUrl']+'\x20('+_0x1f9541+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x54a031();}):_0x54a031();}else We['get'](_0x2f8d62['fallbackUr'+'l'],_0x1e8538,(_0x19068c,_0x53d7b5)=>{_0x19068c?_0x47fea7(_0x19068c,null):_0x4aaa11(_0x53d7b5,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x131af3,_0x3484ae,_0x17edde,_0x3ce512){if(this['callbacks']['hasOwnProp'+'erty'](_0x131af3))this['callbacks'][_0x131af3]['push'](_0x17edde);else{this['callbacks'][_0x131af3]=[_0x17edde];const _0x429446={'url':_0x131af3,'data':_0x3484ae,'options':_0x3ce512};this['clients']['length']>0x2*-0x7ab+0x13*0x1c6+0x92e*-0x2?this['clients']['shift']()['run'](_0x429446):this['queue']['push'](_0x429446);}}['enqueueCli'+'ent'](_0x2378a9){this['queue']['length']>0x530+0x1b96+0xa*-0x347?_0x2378a9['run'](this['queue']['shift']()):this['clients']['push'](_0x2378a9);}['handleResp'+'onse'](_0x1c3d85,_0x136ad0,_0x26d785){const _0x4b3b27=this['callbacks'][_0x1c3d85];if(_0x136ad0){for(let _0x4d209c=0x58c*-0x5+-0x1*0x8b9+0xc27*0x3;_0x4d209c<_0x4b3b27['length'];++_0x4d209c)_0x4b3b27[_0x4d209c](_0x136ad0);}else{_0x26d785['format']===_c||_0x26d785['format']===gc?_0x26d785['levels']=_0x26d785['levels']['map'](_0x520f6c=>new Uint16Array(_0x520f6c)):_0x26d785['levels']=_0x26d785['levels']['map'](_0x48b49b=>new Uint8Array(_0x48b49b));for(let _0x444784=0x67*0x1c+-0x17*0x109+0xc8b*0x1;_0x444784<_0x4b3b27['length'];++_0x444784)_0x4b3b27[_0x444784](null,_0x26d785);}delete this['callbacks'][_0x1c3d85];}}class SL{constructor(_0x49269a,_0x38761f,_0x560785){this['queue']=_0x49269a,this['worker']=new Worker(_0x38761f['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x3ac328=>{const _0x5d9986=_0x3ac328['data'];this['queue']['handleResp'+'onse'](_0x5d9986['url'],_0x5d9986['err'],_0x5d9986['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x38761f}),this['eager']=_0x560785;}['run'](_0x12b469){const _0x202849=[];_0x12b469['data']instanceof ArrayBuffer&&_0x202849['push'](_0x12b469['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x12b469['url'],'format':_0x12b469['format'],'data':_0x12b469['data'],'options':_0x12b469['options']},_0x202849),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=-0x1*0x169f+-0x1747+0xf4d*0x3,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=0x58e*-0x1+-0xd5e+0x12f1,Tf=new xL();let Hg=null,Af=!(-0xf83+0x7c7*0x3+-0x7d1);function AL(_0x2b6fa3){if(!Af){if(!_0x2b6fa3)_0x2b6fa3=Hg||{};else{if(_0x2b6fa3['lazyInit']){Hg=_0x2b6fa3;return;}}if(!_0x2b6fa3['glueUrl']||!_0x2b6fa3['wasmUrl']||!_0x2b6fa3['fallbackUr'+'l']){const _0x5ec7bd=ay['getConfig']('BASIS');_0x5ec7bd&&(_0x2b6fa3={'glueUrl':_0x5ec7bd['glueUrl'],'wasmUrl':_0x5ec7bd['wasmUrl'],'fallbackUrl':_0x5ec7bd['fallbackUr'+'l'],'numWorkers':_0x5ec7bd['numWorkers']});}if(_0x2b6fa3['glueUrl']||_0x2b6fa3['wasmUrl']||_0x2b6fa3['fallbackUr'+'l']){Af=!(0x245f+-0x2*0xd64+-0x5*0x1eb);const _0x29d754=Math['max'](-0x2b*-0x3b+-0x5c7+-0x97*0x7,Math['min'](-0x359*0x3+0x5*-0xae+0xd81,_0x2b6fa3['numWorkers']||vL)),_0x3b0f62=_0x2b6fa3['numWorkers']===-0x4*0x1a1+0x1bf4*0x1+-0x156f*0x1||(_0x2b6fa3['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x2b6fa3['eagerWorke'+'rs']:!(0x27*0x5e+-0x1351*-0x2+-0x34f4));_0x2b6fa3['rgbPriorit'+'y']=_0x2b6fa3['rgbPriorit'+'y']||bL,_0x2b6fa3['rgbaPriori'+'ty']=_0x2b6fa3['rgbaPriori'+'ty']||wL,_0x2b6fa3['maxRetries']=_0x2b6fa3['hasOwnProp'+'erty']('maxRetries')?_0x2b6fa3['maxRetries']:TL,yL(_0x2b6fa3,(_0x5270fc,_0x124fa2)=>{if(_0x5270fc)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x5270fc);else{for(let _0x3602f5=-0x1b91+-0x789+0x231a;_0x3602f5<_0x29d754;++_0x3602f5)Tf['enqueueCli'+'ent'](new SL(Tf,_0x124fa2,_0x3b0f62));}});}}}let su=null;function Fx(_0xb6dfb3,_0x2fe3f3,_0x5a32e6,_0x28c99a,_0x4d3d48){return AL(),su||(su={'formats':gL(_0xb6dfb3)}),Tf['enqueueJob'](_0x2fe3f3,_0x5a32e6,_0x28c99a,{'deviceDetails':su,'isGGGR':!!(_0x4d3d48!=null&&_0x4d3d48['isGGGR']),'isKTX2':!!(_0x4d3d48!=null&&_0x4d3d48['isKTX2'])}),Af;}class Na{['load'](_0x13cd2c,_0x2f8983,_0x7c6fa7){throw new Error('not\x20implem'+'ented');}['open'](_0x31728d,_0x2ddfda,_0x3f75bb){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0x58d6cb,_0x75666b){super(),this['device']=_0x75666b,this['maxRetries']=0x5e*0xa+0x26f*-0xe+0x1e66;}['load'](_0x3de2c7,_0xa02d59,_0x3b4f8f){const _0x36196d=this['device'],_0x2bb120=_0x15de35=>{var _0x26d134,_0xfffe48,_0x141aa7;Fx(_0x36196d,_0x3de2c7['load'],_0x15de35,_0xa02d59,{'isGGGR':(((_0x141aa7=(_0xfffe48=(_0x26d134=_0x3b4f8f==null?void(-0xe4f*-0x1+-0x24d7*-0x1+-0x3326):_0x3b4f8f['file'])==null?void(-0xfec+-0x308+0x12f4):_0x26d134['variants'])==null?void(0x63e+-0x223c+0x1bfe):_0xfffe48['basis'])==null?void(-0x1*0x1821+0xd37+0xfe*0xb):_0x141aa7['opt'])&-0x16be+-0x1b15+0x31db)!==-0xc2b*-0x2+0x4*-0x5bf+0xad*-0x2})||_0xa02d59('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x3b4f8f['name']+']('+_0x3b4f8f['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x3de2c7['load'],(_0x390e3c,_0x41874c)=>{_0x390e3c?_0xa02d59(_0x390e3c):_0x2bb120(_0x41874c);},_0x3b4f8f,this['maxRetries']);}['open'](_0x57a61e,_0x5a7eac,_0x38de17,_0x43bd83={}){const _0x1fa614=_0x43bd83['srgb']?Cc(_0x5a7eac['format']):_0x5a7eac['format'],_0x39e921=new he(_0x38de17,{'name':_0x57a61e,'profilerHint':ur,'addressU':_0x5a7eac['cubemap']?ae:tt,'addressV':_0x5a7eac['cubemap']?ae:tt,'width':_0x5a7eac['width'],'height':_0x5a7eac['height'],'format':_0x1fa614,'cubemap':_0x5a7eac['cubemap'],'levels':_0x5a7eac['levels'],..._0x43bd83});return _0x39e921['upload'](),_0x39e921;}}const Ox=new Uint8Array([0x2*-0xc1+-0x1b35+-0x9*-0x340,-0x13c6+-0x1281*0x1+0x2697,0x2d3*-0xb+-0x1f34+0x3e93,-0x752*0x1+-0xa53*-0x3+-0x1760,0x505+0x13f0+0x1*-0x18e8,-0x5*0x569+0x25c3+-0x2*0x556,0x1*0x1e2d+0x1250+-0x3063*0x1,-0x232*0x6+-0x1549*0x1+0x227f,-0xd*0x139+-0x2454+0x3439,0xeed*0x2+0x1ea9+-0x3c83,0xab8+0xf21+0x19d9*-0x1,-0x1b7c+-0x5a1*-0x5+-0x9c,-0x7eb+-0x8e1*-0x1+0xad*-0x1,0x1390+0xe5e*0x2+-0x3004,0x538+-0x35*-0xad+-0x28c5,-0x149*0x1e+0x133+0x25ad,-0x39*-0x6d+-0x22f9+0xab4,-0x262c*-0x1+0x2593+-0x4bbf,-0x1*-0x1d0b+-0x1d0a+-0x1*0x1,0xda*0x26+0x5*0x309+-0x2f88,0x146b*-0x1+-0x13*-0x1d3+-0x71f*0x2,-0xe5*-0x3+-0x1b7*0x11+0x134*0x16,0x1f87*0x1+-0x2*0xb51+0x45*-0x21,-0xbd3+0xae*0x2e+0x4dc*-0x4,-0x155*-0x15+0xd0a+-0x28fb,-0x17a8+0x1*0x1e12+0x664*-0x1,0x8*-0x402+-0x2035+0x4045,0x1c08+0x1675+0xeb*-0x37,-0x995+-0x3*-0x85d+-0x7c1*0x2,0x16*-0xf1+0x4*0x2ea+0x92d,-0x1cc2+-0x1*-0x68e+-0xa3*-0x23,0x1*-0x117f+0x583*-0x1+0x17c6,0xd2c+-0xa*0xb1+-0x5b9,-0x385+-0x1c91+0x2016,-0x4b1*0x1+0xd*0x1cd+0x12b8*-0x1,-0x9*-0x43f+0x5*0x7b9+-0x199c*0x3,-0x856+-0x12dd+0x1b40,-0x5b3*-0x6+-0x180f+-0x9da,-0xc06+0x244b+0x1801*-0x1,0x7a7+-0xb*0xbf+0x9*0x17,0x16f3+-0x7f6+-0xea9,0x13af+0x2013+-0x82*0x65,-0xf9a+0xa*0x26d+-0x7ce,-0x8*0x1a2+0xbb*-0x6+0x11d5,0x21a5+-0x2e6+-0x1e5b,-0x1*0xaea+-0x11cd+-0x1*-0x1d1b,0x2b*0x21+0xf4e+-0x1477,-0x1e0f+-0x1240+-0x59*-0x8d,0x52*-0x15+0x157+0x63*0xe,0x2255+0x122*0x1f+-0x4573,0x16f*-0x9+-0x2400+0x30e7,0x20e1*-0x1+0x1535+-0x11*-0xb5,-0x2*0xfdc+-0x331+-0x1b*-0x14b,-0xf4f+0x8d9+0x6bd,-0x1443*-0x1+-0x5e*0x58+0x1*0xc50,-0x5f7*0x4+0x22b0+0xa4f*-0x1,-0x1a8b+0x251*-0x4+0x2463,0xfe5+-0x1*-0x5b5+-0x14ad*0x1,-0x31f*-0xc+0x2f*-0x4a+-0x17de,-0xf4+-0x1*0xaa7+-0x1*-0xb9b,-0x1*-0x19b5+-0x1*0x1c2f+0x27a,-0x146*0xd+0x24a9+0x1*-0x141b,0x19*0x7d+0x1b92*-0x1+0xfa6,0x468+0xeb7*-0x1+0x1*0xa94,-0x26b6+-0xe7f+0x85*0x67,0x1d68+0x917+0x1*-0x263b,-0x11d9+-0x12bf+0x2*0x12a3,0x1163+0x1106*0x1+-0x2227,0x26dc+0x1235+-0x17*0x277,0x1ec4+-0x2e6+-0x1b5c]),kx=(_0x4769dd,_0x2792e6)=>{const _0x14c4cf=new he(_0x4769dd,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(-0xc3*0x9+0x2127+0x7f*-0x35),'levels':[_0x2792e6]}),_0x1ed878=new pt({'colorBuffer':_0x14c4cf,'depth':!(0xf56+0x2a5*-0x5+0xb4*-0x3)});_0x4769dd['setFramebu'+'ffer'](_0x1ed878['impl']['_glFrameBu'+'ffer']),_0x4769dd['initRender'+'Target'](_0x1ed878);const _0x3c13a1=new Uint8ClampedArray(-0x2411+-0xe9*-0x5+0x1f88);return _0x4769dd['gl']['readPixels'](-0x2c*0x6a+-0xc7b+0x1eb3,-0x1111+0x143*-0x11+0x2684,-0x3a4*0x6+0x1183+0x456,0x25b*-0x10+0x1*-0x1ec3+0x4474,_0x4769dd['gl']['RGBA'],_0x4769dd['gl']['UNSIGNED_B'+'YTE'],_0x3c13a1),_0x1ed878['destroy'](),_0x14c4cf['destroy'](),_0x3c13a1[-0x109*0x13+-0x165d*-0x1+-0x2b2]===0xc9a+0x1ff8+-0x2c91&&_0x3c13a1[0x1*0x45f+-0xe*-0x9c+0xce6*-0x1]===0x2687*0x1+0x582+-0x2c07&&_0x3c13a1[-0x2062+0x26ef+0x68b*-0x1]===-0x1fb0+0x269c+-0x6e9&&_0x3c13a1[-0x559*-0x5+0x71*0x14+0xbda*-0x3]===0x19*0x5d+0x1*-0xdb7+-0x1*-0x4e1;},CL=_0x3436a5=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x18f91a=>kx(_0x3436a5,_0x18f91a))['catch'](_0x24c67a=>!(-0x3*0x86+0x18e2+-0x99*0x27)),ML=_0x202553=>new Promise((_0x257727,_0x4d813c)=>{const _0x24b548=new Image();_0x24b548['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x24b548['onload']=()=>{_0x257727(kx(_0x202553,_0x24b548));};});class PL{static['run'](_0x26e108){CL(_0x26e108)['then'](_0x379bd4=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x379bd4);}),ML(_0x26e108)['then'](_0x43da25=>{console['log']('imgElement'+'IsCorrect='+_0x43da25);});}}class RL extends Na{constructor(_0x394768,_0x23afe7){super(),this['crossOrigi'+'n']=_0x394768['prefix']?'anonymous':null,this['maxRetries']=0x1e13+0x1*0x2c7+-0x2*0x106d,this['device']=_0x23afe7,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x51a3b3,_0x2df75e,_0x5396e9){var _0xa9fe5b;const _0x1ffaee=!!((_0xa9fe5b=_0x5396e9==null?void(0x1074+-0x4fd*0x2+-0x67a):_0x5396e9['file'])!=null&&_0xa9fe5b['contents']);if(_0x1ffaee){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x5396e9['file']['contents']]),_0x2df75e);return;}_0x51a3b3={'load':URL['createObje'+'ctURL'](new Blob([_0x5396e9['file']['contents']])),'original':_0x51a3b3['original']};}const _0x1e91b7=(_0x307eb0,_0x7f67cd)=>{_0x1ffaee&&URL['revokeObje'+'ctURL'](_0x51a3b3['load']),_0x2df75e(_0x307eb0,_0x7f67cd);};let _0x505d57;_0x5396e9&&_0x5396e9['options']&&_0x5396e9['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x505d57=_0x5396e9['options']['crossOrigi'+'n']:Da['test'](_0x51a3b3['load'])&&(_0x505d57=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x51a3b3['load'],_0x51a3b3['original'],_0x505d57,_0x1e91b7):this['_loadImage'](_0x51a3b3['load'],_0x51a3b3['original'],_0x505d57,_0x1e91b7);}['open'](_0x52525c,_0xcd241a,_0x3cb597,_0xd0f62={}){const _0x1b3667=new he(_0x3cb597,{'name':_0x52525c,'profilerHint':ur,'width':_0xcd241a['width'],'height':_0xcd241a['height'],'format':_0xd0f62['srgb']?rs:Se,..._0xd0f62});return _0x1b3667['setSource'](_0xcd241a),_0x1b3667;}['_loadImage'](_0x695b31,_0x45d8f9,_0x5ff2f2,_0x30c505){const _0x5c268d=new Image();_0x5ff2f2&&(_0x5c268d['crossOrigi'+'n']=_0x5ff2f2);let _0x1fb55e=-0x1f*0x5+0xc9c+0x1b7*-0x7;const _0x25ac06=this['maxRetries'];let _0x36d311;_0x5c268d['onload']=function(){_0x30c505(null,_0x5c268d);},_0x5c268d['onerror']=function(){if(!_0x36d311){if(_0x25ac06>-0x16c3*0x1+-0x24fb*0x1+0x3bbe&&++_0x1fb55e<=_0x25ac06){const _0x38e18f=Math['pow'](0x2617*0x1+0x5*-0x67+-0x2412,_0x1fb55e)*(-0xa06+0xd61+-0x2f7);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x45d8f9+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x38e18f+'ms...');const _0x203a69=_0x695b31['indexOf']('?')>=0x1*-0x116f+-0x108c+0x1*0x21fb?'&':'?';_0x36d311=setTimeout(()=>{_0x5c268d['src']=_0x695b31+_0x203a69+'retry='+Date['now'](),_0x36d311=null;},_0x38e18f);}else _0x30c505('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x45d8f9+'\x27');}},_0x5c268d['src']=_0x695b31;}['_loadImage'+'Bitmap'](_0x244bdc,_0x3b45a8,_0x54afc8,_0x564c32){const _0x2885b3={'cache':!(0x18*-0x121+-0xa17+0x39*0xa7),'responseType':'blob','retry':this['maxRetries']>0x495+0x17e2+-0x1c77,'maxRetries':this['maxRetries']};We['get'](_0x244bdc,_0x2885b3,(_0x1a4ef5,_0x4909ae)=>{_0x1a4ef5?_0x564c32(_0x1a4ef5):this['_loadImage'+'BitmapFrom'+'Blob'](_0x4909ae,_0x564c32);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x4f804c,_0x32206f){createImageBitmap(_0x4f804c,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x1ae65a=>_0x32206f(null,_0x1ae65a))['catch'](_0x438c5c=>_0x32206f(_0x438c5c));}}const iu=[0x75f56946+0x31*-0x3148c9d+-0x1437a213*-0x6,0x54304*-0x42cf+-0x4036294+-0xafc36*-0x3168,0xd9657ef+0x1*-0x8c6f12f+-0x7*-0xc1850b],IL={0x83f0:yc,0x83f2:zf,0x83f3:Wo,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0x453ead,_0xbfe73d,_0x1e2bf1,_0xed0b14){return _0x453ead===_a?new Uint32Array(_0xbfe73d,_0x1e2bf1,_0xed0b14/(-0x1032+-0x2593+0x35c9)):new Uint8Array(_0xbfe73d,_0x1e2bf1,_0xed0b14);}class LL extends Na{constructor(_0x2ce0be){super(),this['maxRetries']=0xe38+-0x1b55*-0x1+-0x298d;}['load'](_0x296af8,_0x20bd0f,_0x19cde7){le['fetchArray'+'Buffer'](_0x296af8['load'],_0x20bd0f,_0x19cde7,this['maxRetries']);}['open'](_0x26fdc5,_0xd1b0ee,_0x3b2f43,_0x40338b={}){const _0x1e8de5=this['parse'](_0xd1b0ee);if(!_0x1e8de5)return null;const _0x4dff5b=_0x40338b['srgb']?Cc(_0x1e8de5['format']):_0x1e8de5['format'],_0x2faddd=new he(_0x3b2f43,{'name':_0x26fdc5,'profilerHint':ur,'addressU':_0x1e8de5['cubemap']?ae:tt,'addressV':_0x1e8de5['cubemap']?ae:tt,'width':_0x1e8de5['width'],'height':_0x1e8de5['height'],'format':_0x4dff5b,'cubemap':_0x1e8de5['cubemap'],'levels':_0x1e8de5['levels'],..._0x40338b});return _0x2faddd['upload'](),_0x2faddd;}['parse'](_0x468b20){const _0x4fba30=new Uint32Array(_0x468b20);if(iu[-0x1*0x25d3+0xc51*0x1+0x1982]!==_0x4fba30[-0x2c7*0x9+-0x2195+-0x3a94*-0x1]||iu[0x26fc+-0x439*0x1+-0x22c2]!==_0x4fba30[0x1*-0x151+-0x8c2*-0x1+-0x770]||iu[-0x4e6+-0x4b5*-0x2+-0x482]!==_0x4fba30[-0x550+-0x1*0x33d+0x88f])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x197944={'endianness':_0x4fba30[-0x1756+-0x68*0x31+0x2b41],'glType':_0x4fba30[-0x1*-0x2215+-0xc54+-0x15bd],'glTypeSize':_0x4fba30[-0x25f9+-0x1be3+0x41e1],'glFormat':_0x4fba30[-0x2*-0x4f1+0x2b*0x97+-0x7f*0x47],'glInternalFormat':_0x4fba30[0xb9f+0x1*-0x1759+0xbc1],'glBaseInternalFormat':_0x4fba30[0x1c1*0x4+-0x13d*-0xf+-0x198f],'pixelWidth':_0x4fba30[-0x8d5*-0x2+0xd3c*-0x2+0x8d7],'pixelHeight':_0x4fba30[-0x1292+0xe99+0x4f*0xd],'pixelDepth':_0x4fba30[0x379+-0x261d+0x22af*0x1],'numberOfArrayElements':_0x4fba30[0x1990*0x1+-0x8*-0x1d3+0x25c*-0x11],'numberOfFaces':_0x4fba30[0x2*-0x462+-0x1*0x2111+0x29e2],'numberOfMipmapLevels':_0x4fba30[-0x1*-0xd87+-0x1*0x76d+-0x1*0x60c],'bytesOfKeyValueData':_0x4fba30[-0x26c7+-0xb*0x387+0x4da3]};if(_0x197944['pixelDepth']>-0x3*0x7a2+-0x7*0x1eb+0x2454)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x197944['numberOfAr'+'rayElement'+'s']!==0x89*0xb+0x1f2e+-0x2511)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x107577=IL[_0x197944['glInternal'+'Format']];if(_0x107577===void(0x15c0+0x56f*0x2+-0x209e))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x197944['glInternal'+'Format']),null;let _0x8eff41=0x1b*-0x51+0x1a+0x7*0x137+_0x197944['bytesOfKey'+'ValueData']/(-0x1*0x4b7+0x1*-0x18d9+-0x1d94*-0x1);const _0x5d91a6=_0x197944['numberOfFa'+'ces']>-0xf*-0x2c+-0x1354+0x10c1,_0x123c88=[];for(let _0x4eb36a=-0x1f52+-0x213c+0x2*0x2047;_0x4eb36a<(_0x197944['numberOfMi'+'pmapLevels']||-0x3*0xa1f+-0x2e2+0x26*0xe0);_0x4eb36a++){const _0xf17044=_0x4fba30[_0x8eff41++];_0x5d91a6&&_0x123c88['push']([]);const _0x2ddad7=_0x5d91a6?_0x123c88[_0x4eb36a]:_0x123c88;for(let _0x4db95f=-0x83f+-0x206d*0x1+0x28ac;_0x4db95f<(_0x5d91a6?-0xbac+0x1*-0x73d+0x12ef:-0x7*0x392+-0x1c8+0x1*0x1ac7);++_0x4db95f)_0x2ddad7['push'](DL(_0x107577,_0x468b20,_0x8eff41*(0x127d+-0x20dd+-0x4cc*-0x3),_0xf17044)),_0x8eff41+=_0xf17044+(0x7*-0x2d7+0x2657+-0x1273)>>-0x4c3*0x1+0x4*0x3b4+-0xa0b;}return{'format':_0x107577,'width':_0x197944['pixelWidth'],'height':_0x197944['pixelHeigh'+'t'],'levels':_0x123c88,'cubemap':_0x5d91a6};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x569c27,_0x3cbf51){super(),this['maxRetries']=-0x3*-0x62+-0x131*-0xe+-0x11d4,this['device']=_0x3cbf51;}['load'](_0x1aeb06,_0x4d370e,_0x9a20a2){le['fetchArray'+'Buffer'](_0x1aeb06['load'],(_0x4bfd98,_0x1d482d)=>{_0x4bfd98?_0x4d370e(_0x4bfd98,_0x1d482d):this['parse'](_0x1d482d,_0x1aeb06,_0x4d370e,_0x9a20a2);},_0x9a20a2,this['maxRetries']);}['open'](_0x572a5a,_0xc92761,_0x455434,_0x425f04={}){const _0x1cfcba=_0x425f04['srgb']?Cc(_0xc92761['format']):_0xc92761['format'],_0x5196ea=new he(_0x455434,{'name':_0x572a5a,'profilerHint':ur,'addressU':_0xc92761['cubemap']?ae:tt,'addressV':_0xc92761['cubemap']?ae:tt,'width':_0xc92761['width'],'height':_0xc92761['height'],'format':_0x1cfcba,'cubemap':_0xc92761['cubemap'],'levels':_0xc92761['levels'],..._0x425f04});return _0x5196ea['upload'](),_0x5196ea;}['parse'](_0x3ec044,_0x522462,_0x566575,_0x2e7785){var _0x2c4b69,_0x336393,_0x59e0e0;const _0x3d5c0d=new oy(_0x3ec044),_0x4ee17a=[_0x3d5c0d['readU32be'](),_0x3d5c0d['readU32be'](),_0x3d5c0d['readU32be']()];if(_0x4ee17a[-0x5b3+-0xdc9+-0x9be*-0x2]!==-0x5026dcf5+-0xb22b9dee*0x1+0x1ad9dcf3b||_0x4ee17a[-0x1cf*0xb+-0xe29+0x220f]!==0x52*0x5b63ae+0x3*-0x1160ce3f+0x370eadbc||_0x4ee17a[0x2251+-0x1352+0x3*-0x4ff]!==0x69*0x25d26f+0x5*0x46dc317+-0x189e04f0)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x23df02={'vkFormat':_0x3d5c0d['readU32'](),'typeSize':_0x3d5c0d['readU32'](),'pixelWidth':_0x3d5c0d['readU32'](),'pixelHeight':_0x3d5c0d['readU32'](),'pixelDepth':_0x3d5c0d['readU32'](),'layerCount':_0x3d5c0d['readU32'](),'faceCount':_0x3d5c0d['readU32'](),'levelCount':_0x3d5c0d['readU32'](),'supercompressionScheme':_0x3d5c0d['readU32']()},_0x119bd1={'dfdByteOffset':_0x3d5c0d['readU32'](),'dfdByteLength':_0x3d5c0d['readU32'](),'kvdByteOffset':_0x3d5c0d['readU32'](),'kvdByteLength':_0x3d5c0d['readU32'](),'sgdByteOffset':_0x3d5c0d['readU64'](),'sgdByteLength':_0x3d5c0d['readU64']()},_0x371147=[];for(let _0x4247de=-0xd19+0x933+0x3e6;_0x4247de<Math['max'](-0x22f0*-0x1+0x1c33+-0x3f22,_0x23df02['levelCount']);++_0x4247de)_0x371147['push']({'byteOffset':_0x3d5c0d['readU64'](),'byteLength':_0x3d5c0d['readU64'](),'uncompressedByteLength':_0x3d5c0d['readU64']()});if(_0x3d5c0d['readU32']()!==_0x119bd1['kvdByteOff'+'set']-_0x119bd1['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x3d5c0d['skip'](0x1e10+0x52*-0x71+0x62a);const _0x1a3f85=_0x3d5c0d['readU8']();_0x3d5c0d['skip'](_0x119bd1['dfdByteLen'+'gth']-(-0x42*0xe+-0x4a1+0x846)),_0x3d5c0d['skip'](_0x119bd1['kvdByteLen'+'gth']),_0x23df02['supercompr'+'essionSche'+'me']===0x15b9+-0x522+0x182*-0xb||_0x1a3f85===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x522462['load'],_0x3ec044,_0x566575,{'isGGGR':(((_0x59e0e0=(_0x336393=(_0x2c4b69=_0x2e7785==null?void(-0x1*0x3bb+-0x3df*0x1+0x79a):_0x2e7785['file'])==null?void(0x222c+-0xf9d*0x1+-0x128f):_0x2c4b69['variants'])==null?void(-0x63d+0x1f9f*0x1+-0x1962):_0x336393['basis'])==null?void(0x145c+0x2b*-0x1+-0x3*0x6bb):_0x59e0e0['opt'])&-0x1087+0x1122+0x1*-0x93)!==0x3*-0x89b+-0x7e3+0x21b4,'isKTX2':!(-0x903*0x3+0x1836+-0xf1*-0x3)})||_0x566575('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x2e7785['name']+']('+_0x2e7785['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x566575('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x51ddb0){super(),this['maxRetries']=0x2423*-0x1+0xb0f*0x1+0x1914;}['load'](_0x4a4534,_0x5be122,_0x14974c){le['fetchArray'+'Buffer'](_0x4a4534['load'],_0x5be122,_0x14974c,this['maxRetries']);}['open'](_0x401e38,_0x18c3f2,_0x1650d7,_0x1c4d50={}){const _0x3ab6ce=new Uint32Array(_0x18c3f2,-0xd5c+0xbbd*-0x2+0x24d6,0x1ece+-0x48*0x47+-0x6*0x1c9),_0x4a420d=_0x3ab6ce[-0x461*0x8+-0x1fdf+0x42eb],_0x5dc174=_0x3ab6ce[-0x18f7+-0x16a8+0x7*0x6ce],_0x127a39=Math['max'](_0x3ab6ce[-0x524+0x1424+-0xef9*0x1],0x9f7*-0x3+-0x1*0x1574+0x335a),_0x409a98=_0x3ab6ce[-0xad8+-0x44*0x5d+-0x1c8*-0x14]===0x12b6+-0x1db7+-0x5b*-0x1f,_0x20cff2=_0x3ab6ce[0x640+0xb*0x33e+-0x1*0x29d5],_0x5aa301=_0x3ab6ce[-0x2*-0x124d+0xd71+-0x31f5],_0x4bdbd8=_0x3ab6ce[-0x1920+0x1764+0x1d8]===-0xbaa3+0x25*0x2c9+0x15196,_0x40e50e=0x33c97764+-0x3e90b113+0x3c1b91f3*0x1,_0x3abab9=-0x5a661d1c+0x428ee63e+0x4d2b8f22,_0x41cd7a=-0xb34+0x798*-0x3+0x226d*0x1,_0x20eefe=-0x1*0xc31+0x130f*-0x1+0x1fb4,_0x340624=-0x22297be6+-0x336*0x5df5e+0x664807ff,_0x4f0347=-0x4be74d9b+0x1*0x1eedddab+-0x350*-0x1c6e14,_0xe00b93=-0x4ff6c4*0x33+0xa81a95*-0x52+-0x1*-0x76fadf16,_0x138f92=-0x1*-0x4b2d5839+0x4*0x1e5406e+-0x115223f*0x1f,_0x105355=0x4472ce1e+0x22*-0x1bda3f3+0x27f12c78;let _0x55a4a4=!(0x1ec5+-0x17*0x13+0xad*-0x2b),_0xb7e38e=!(-0x1a39+0x1ced+-0x2b3),_0x2423c6=!(0x1*-0x204c+-0x8aa+0x28f7),_0x298f1b=!(-0xf5f*0x1+-0x1*0x832+-0x35e*-0x7),_0x53dfc2=null,_0x531903=-0xb4b+0x2672+-0x1b26,_0x4aa9c3;if(_0x409a98?_0x20cff2===_0x40e50e?(_0x53dfc2=yc,_0x55a4a4=!(-0x754+0xa26*-0x3+0x25c6)):_0x20cff2===_0x3abab9?(_0x53dfc2=Wo,_0x55a4a4=!(0x1*-0x1e2f+-0x2040*-0x1+-0x211*0x1)):_0x20cff2===_0x41cd7a?(_0x53dfc2=Je,_0x531903=0x17b1+-0x96a+0x1*-0xe45):_0x20cff2===_0x20eefe?(_0x53dfc2=Ke,_0x531903=-0x231f+-0x21d9+-0x227e*-0x2):_0x20cff2===_0x340624?(_0x53dfc2=bc,_0x55a4a4=!(0x1187*-0x1+0x245b+0x14*-0xf1),_0xb7e38e=!(0x1f34*0x1+0x2206+-0x16b*0x2e)):_0x20cff2===_0x4f0347||_0x20cff2===_0xe00b93?(_0x53dfc2=_0x20cff2===_0x4f0347?qo:Xo,_0x55a4a4=!(-0x117*-0x6+-0x35a+-0x330),_0x2423c6=!(0xeaf+0x1a67+0xdb2*-0x3)):(_0x20cff2===_0x138f92||_0x20cff2===_0x105355)&&(_0x53dfc2=_0x20cff2===_0x138f92?wc:Tc,_0x55a4a4=!(0x1509+-0xd6*-0x24+-0x3321),_0x298f1b=!(-0x41*0x34+-0x1d*-0x112+0x11d6*-0x1)):_0x5aa301===0x7*-0x449+0x8e9*-0x4+0x41c3&&(_0x53dfc2=Se),!_0x53dfc2)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x401e38+'.'),_0x4aa9c3=new he(_0x1650d7,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x4aa9c3;_0x4aa9c3=new he(_0x1650d7,{'name':_0x401e38,'profilerHint':ur,'addressU':_0x4bdbd8?ae:tt,'addressV':_0x4bdbd8?ae:tt,'width':_0x4a420d,'height':_0x5dc174,'format':_0x53dfc2,'cubemap':_0x4bdbd8,'mipmaps':_0x127a39>-0x12b1+0x1eea+0xc38*-0x1,..._0x1c4d50});let _0x368bea=0x17b5+0x4f9+0x1*-0x1c2e;const _0x3888ae=_0x4bdbd8?0x3a*0x52+-0x1*0x1499+-0x20b*-0x1:0xd0d+0x33*-0x5e+0x1*0x5ae;let _0x10b6ef;const _0x44e20d=0x1260+-0x1*-0x1b9a+-0x35*0xde,_0x3d60e2=-0x91*0x1+0x3a9+-0x314*0x1,_0x1e8dd9=_0x20cff2===_0x40e50e?-0x1267+-0xd53+0xa96*0x3:0x133*0x17+0xad3+-0x8*0x4cb;let _0x59d2c5,_0x2a303a,_0x484b42;for(let _0x16e61d=-0x1098+0x1c0d+-0xb75;_0x16e61d<_0x3888ae;_0x16e61d++){let _0x1e8fad=_0x4a420d,_0x186738=_0x5dc174;for(let _0x4ae53f=-0x2*0x6e5+-0x230b+0x1047*0x3;_0x4ae53f<_0x127a39;_0x4ae53f++){_0x55a4a4?_0xb7e38e?_0x10b6ef=Math['floor']((_0x1e8fad+(0x1922+-0x1*-0x1a0f+-0x332e))/(0x1a*-0x5e+0x2097+-0x83*0x2d))*Math['floor']((_0x186738+(-0x362+0x83*-0x9+0x800))/(0xc95*0x1+-0xca5+0x14))*(0x525+-0xbb4+0x697):_0x2423c6?_0x10b6ef=Math['max'](_0x1e8fad,-0x10ef+-0x1a02+0x2b01)*Math['max'](_0x186738,-0x1bb8+0x2*0x7c9+0xc2e)/(0x1022+-0x197b*0x1+-0x8d*-0x11):_0x298f1b?_0x10b6ef=Math['max'](_0x1e8fad,-0x1ecb+0x50e*-0x3+0x2dfd*0x1)*Math['max'](_0x186738,-0x2133+0x1*-0x21e3+0x218f*0x2)/(0x2162+-0x1*-0x1fff+-0x1*0x415f):(_0x59d2c5=Math['floor']((_0x1e8fad+_0x44e20d-(-0x1*-0x4ff+-0x1bb6+-0x16b8*-0x1))/_0x44e20d),_0x2a303a=Math['floor']((_0x186738+_0x3d60e2-(-0x13*-0xe2+-0x17ef+-0xe*-0x83))/_0x3d60e2),_0x484b42=_0x59d2c5*_0x2a303a,_0x10b6ef=_0x484b42*_0x1e8dd9):_0x10b6ef=_0x1e8fad*_0x186738*(0x1*-0x155+0x1b97+0x1a3e*-0x1);const _0x1183d9=_0x53dfc2===Ke?new Float32Array(_0x18c3f2,_0x368bea,_0x10b6ef):_0x53dfc2===Je?new Uint16Array(_0x18c3f2,_0x368bea,_0x10b6ef):new Uint8Array(_0x18c3f2,_0x368bea,_0x10b6ef);_0x4bdbd8?(_0x4aa9c3['_levels'][_0x4ae53f]||(_0x4aa9c3['_levels'][_0x4ae53f]=[]),_0x4aa9c3['_levels'][_0x4ae53f][_0x16e61d]=_0x1183d9):_0x4aa9c3['_levels'][_0x4ae53f]=_0x1183d9,_0x368bea+=_0x10b6ef*_0x531903,_0x1e8fad=Math['max'](_0x1e8fad*(0x1*0x1c01+-0x2*0x347+-0x1573+0.5),0x175b+0x2376+0x1d68*-0x2),_0x186738=Math['max'](_0x186738*(-0xb*-0x2b7+0x1d79*-0x1+0x1*-0x64+0.5),0xbe6+0x2467+-0x304c);}}return _0x4aa9c3['upload'](),_0x4aa9c3;}}class BL extends Na{constructor(_0x3a2293){super(),this['maxRetries']=-0x209c+0x1a34+0x668;}['load'](_0x19b45f,_0x2a7024,_0x5beaa8){le['fetchArray'+'Buffer'](_0x19b45f['load'],_0x2a7024,_0x5beaa8,this['maxRetries']);}['open'](_0x3cb01c,_0x1552f4,_0x51fb3d,_0x81efa6={}){const _0x107743=this['parse'](_0x1552f4);if(!_0x107743)return null;const _0x18d468=new he(_0x51fb3d,{'name':_0x3cb01c,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x107743['width'],'height':_0x107743['height'],'levels':_0x107743['levels'],'format':Se,'type':ap,'mipmaps':!(-0x18a2+-0x1d1f+0x35c2),..._0x81efa6});return _0x18d468['upload'](),_0x18d468;}['parse'](_0x3ee730){const _0x289c58=new oy(_0x3ee730);if(!_0x289c58['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x4b3f36={};for(;;){const _0x2fba3e=_0x289c58['readLine']();if(_0x2fba3e['length']===0x83*0x2d+-0x1ea1*0x1+-0x7*-0x116)break;{const _0x4b9320=_0x2fba3e['split']('=');_0x4b9320['length']===0xc1b+-0x207d+0x1464&&(_0x4b3f36[_0x4b9320[0xebe+0x6cd*-0x5+0x1343]]=_0x4b9320[-0x112e+-0x21fc+0x332b]);}}if(!_0x4b3f36['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x1a90bc=_0x289c58['readLine']()['split']('\x20');if(_0x1a90bc['length']!==-0x1*-0x1403+-0x72e*0x4+-0x1d*-0x4d)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x1f3408=parseInt(_0x1a90bc[0x1*0x12d1+0xfbb*-0x1+-0x3*0x107],-0x1a5f+-0x2*-0xd37+-0x5),_0x222c94=parseInt(_0x1a90bc[-0xed6+-0xe3a+0x1d13*0x1],0x238b+0x15dc+0x395d*-0x1),_0xfa9761=this['_readPixel'+'s'](_0x289c58,_0x222c94,_0x1f3408,_0x1a90bc[0x1*0x1d93+-0x8c+-0x1*0x1d07]==='-Y');return _0xfa9761?{'width':_0x222c94,'height':_0x1f3408,'levels':[_0xfa9761]}:null;}['_readPixel'+'s'](_0xeefd9c,_0x4dd9e2,_0x446cb0,_0x5a4cfb){if(_0x4dd9e2<-0x9d1+-0x9*-0x383+0x2*-0xae1||_0x4dd9e2>0x33cd+0x35a8+0x168a)return this['_readPixel'+'sFlat'](_0xeefd9c,_0x4dd9e2,_0x446cb0);const _0xe3fee3=[-0x45*0xc+0xcf3+0x9b7*-0x1,0xe80+0x4a7+-0x1327,0x7b*-0x25+0x237d+-0x11b6,-0x2330+-0x1ab2+0x3de2*0x1];if(_0xeefd9c['readArray'](_0xe3fee3),_0xe3fee3[-0x1*0x150b+-0x24c6+0x39d1]!==0x17*0xf9+0x18d+0x17ea*-0x1||_0xe3fee3[0x4d1+-0x26bb+-0x13*-0x1c9]!==0x1170+0x2*0x52a+-0xd1*0x22||(_0xe3fee3[-0x258f+0x89*0x33+0xa46]&0x2495+-0x7a*-0x11+-0x2c2f)!==-0xf7b+0x17*-0x81+-0x69*-0x42)return _0xeefd9c['skip'](-(0x1f*-0x107+-0xd55+0x82*0x59)),this['_readPixel'+'sFlat'](_0xeefd9c,_0x4dd9e2,_0x446cb0);const _0x213c57=new ArrayBuffer(_0x4dd9e2*_0x446cb0*(0x2135+-0x1f06+-0x1*0x22b)),_0x2d62ee=new Uint8Array(_0x213c57);let _0x451f56=_0x5a4cfb?0x19d9*-0x1+0x129a+-0x1*-0x73f:_0x4dd9e2*(-0x26e4+-0x1b38+0x4220)*(_0x446cb0-(-0x8b*-0x45+0x650+-0x2bc6)),_0x1b2375,_0x5ac31e,_0x5a3f23,_0x5f1993,_0x1d03be,_0x2530e3;for(_0x5ac31e=0x223*0xd+-0x816+-0x13b1;_0x5ac31e<_0x446cb0;++_0x5ac31e){if(_0x5ac31e&&_0xeefd9c['readArray'](_0xe3fee3),(_0xe3fee3[-0x15d1*0x1+-0x344+0x1*0x1917]<<-0x1528*-0x1+0x12b*0x1d+-0x36ff)+_0xe3fee3[-0x7c0+0x1*-0x152d+0x1cf0]!==_0x4dd9e2)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x5f1993=0x2f*0x80+-0xd*-0x257+-0x35eb;_0x5f1993<-0x28*0xb2+0x96*0xf+-0x985*-0x2;++_0x5f1993)for(_0x1b2375=-0x24dd+0x25ba+-0xd*0x11;_0x1b2375<_0x4dd9e2;)if(_0x1d03be=_0xeefd9c['readU8'](),_0x1d03be>0x1bb7+-0x73*0x3d+-0x2*-0x18){if(_0x1d03be-=0x1c*-0x13f+0x16d5+0xc8f,_0x1b2375+_0x1d03be>_0x4dd9e2)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x2530e3=_0xeefd9c['readU8'](),_0x5a3f23=0x1057+-0x1e1d+0xdc6;_0x5a3f23<_0x1d03be;++_0x5a3f23)_0x2d62ee[_0x451f56+_0x5f1993+(-0x67*-0x2e+-0x19c3+0x745)*_0x1b2375++]=_0x2530e3;}else{if(_0x1d03be===0xe5b+-0x2408+0x15ad||_0x1b2375+_0x1d03be>_0x4dd9e2)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x5a3f23=-0x6bf+0x5*0x253+-0x1a0*0x3;_0x5a3f23<_0x1d03be;++_0x5a3f23)_0x2d62ee[_0x451f56+_0x5f1993+(0x794+0x33b*0x7+-0x203*0xf)*_0x1b2375++]=_0xeefd9c['readU8']();}_0x451f56+=_0x4dd9e2*(0x7*-0x2cf+0xc07*-0x2+0x2bbb*0x1)*(_0x5a4cfb?0x6*-0xdf+-0xd*0xaa+0xddd:-(0x1*0x1069+-0xf8*-0xf+0x84*-0x3c));}return _0x2d62ee;}['_readPixel'+'sFlat'](_0x45ebe3,_0x25e198,_0x58e1f4){return _0x45ebe3['remainingB'+'ytes']===_0x25e198*_0x58e1f4*(-0x1360+0x298*0x3+-0x2e7*-0x4)?new Uint8Array(_0x45ebe3['arraybuffe'+'r'],_0x45ebe3['offset']):null;}}const $g={'repeat':tt,'clamp':ae,'mirror':Of},Wg={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x54be90){const _0x32096a=Mi['calcMipLev'+'elsCount'](_0x54be90['_width'],_0x54be90['_height']),_0x36d16a=function(_0x30f1af){return _0x30f1af instanceof HTMLCanvasElement||_0x30f1af instanceof HTMLImageElement||_0x30f1af instanceof HTMLVideoElement;};if(!(_0x54be90['_format']===Se||_0x54be90['_format']===Ke)||_0x54be90['_volume']||_0x54be90['_compresse'+'d']||_0x54be90['_levels']['length']===-0x609*0x1+0x2187+-0x1b7d||_0x54be90['_levels']['length']===_0x32096a||_0x36d16a(_0x54be90['_cubemap']?_0x54be90['_levels'][0x2413*-0x1+0x2450+-0x3d][-0x84*-0x19+0x579*-0x6+0x13f2]:_0x54be90['_levels'][0x2596+0xb2*-0x11+-0x19c4]))return;const _0x2e4f59=function(_0x4f7aab,_0x6a9ee7,_0x2a950c){const _0x2d2c3c=Math['max'](0x73c+-0x16*0x167+-0x179f*-0x1,_0x4f7aab>>-0x5*-0x2de+0x54*-0x3e+-0x39*-0x1b),_0x571170=Math['max'](-0x1bf0+-0x841+0x1219*0x2,_0x6a9ee7>>-0x6e1+-0x15*0x181+0x2677),_0x5993c7=new _0x2a950c['constructo'+'r'](_0x2d2c3c*_0x571170*(0x1d79+0x6*0x4b5+-0x1*0x39b3)),_0x235d2a=Math['floor'](_0x4f7aab/_0x2d2c3c),_0x2a9d67=Math['floor'](_0x6a9ee7/_0x571170),_0x5c11c6=_0x235d2a*_0x2a9d67;for(let _0x104f75=0x17d7+-0x4*-0xd3+-0x1*0x1b23;_0x104f75<_0x571170;++_0x104f75)for(let _0x11f1a9=-0x2*0xcdf+0x59b+-0x1423*-0x1;_0x11f1a9<_0x2d2c3c;++_0x11f1a9)for(let _0x4bf2bd=0x155b+0xb92+-0x20ed;_0x4bf2bd<0x147d+0xb50*-0x1+-0x929;++_0x4bf2bd){let _0x359575=-0x43*0x90+-0x963+-0x27*-0x135;for(let _0x5b4159=-0x2314+0x2e*-0x12+0x2650;_0x5b4159<_0x2a9d67;++_0x5b4159)for(let _0xf6c91f=-0x1429+0x1ef9+0x4*-0x2b4;_0xf6c91f<_0x235d2a;++_0xf6c91f)_0x359575+=_0x2a950c[(_0x11f1a9*_0x235d2a+_0xf6c91f+(_0x104f75*_0x2a9d67+_0x5b4159)*_0x4f7aab)*(0x117b+0x2306+-0x347d)+_0x4bf2bd];_0x5993c7[(_0x11f1a9+_0x104f75*_0x2d2c3c)*(-0x2*0x41+0x1e5d+0x1*-0x1dd7)+_0x4bf2bd]=_0x359575/_0x5c11c6;}return _0x5993c7;};for(let _0x4da5e0=_0x54be90['_levels']['length'];_0x4da5e0<_0x32096a;++_0x4da5e0){const _0x245c91=Math['max'](-0x4cf*-0x1+0x2*0xcf4+-0xf5b*0x2,_0x54be90['_width']>>_0x4da5e0-(-0x6b0+-0x5b3+0xc64)),_0x2493d1=Math['max'](-0xc67*-0x1+0x1af0+-0x2756,_0x54be90['_height']>>_0x4da5e0-(0x3*-0x2c0+-0x144f+0x1c90));if(_0x54be90['_cubemap']){const _0x90c9fa=[];for(let _0x3a0bdb=0x72e+0x1b5*0x1+-0x8e3;_0x3a0bdb<-0x1ae8+-0x325+0x1e13;++_0x3a0bdb)_0x90c9fa['push'](_0x2e4f59(_0x245c91,_0x2493d1,_0x54be90['_levels'][_0x4da5e0-(0x22ab+-0x18*-0x49+-0x2982)][_0x3a0bdb]));_0x54be90['_levels']['push'](_0x90c9fa);}else _0x54be90['_levels']['push'](_0x2e4f59(_0x245c91,_0x2493d1,_0x54be90['_levels'][_0x4da5e0-(-0xb78+0x18*-0x121+0x2691)]));}_0x54be90['_levelsUpd'+'ated']=_0x54be90['_cubemap']?[[!(0x2206+-0x244+-0x1fc2),!(0x174f+0x1572+0x25b*-0x13),!(0x105a+0x62*0x15+0x1c*-0xdf),!(0x1f91+-0x92a+0x1667*-0x1),!(0x1336+-0x1*-0xd58+-0x208e),!(-0x24*0xf1+0x476*0x8+-0x1cc)]]:[!(-0x392+-0xa0*0x35+0x4d*0x7a)];};class UL extends Ne{constructor(_0x2b8bc2){super(_0x2b8bc2,'texture');const _0x4f54eb=_0x2b8bc2['assets'],_0x21f504=_0x2b8bc2['graphicsDe'+'vice'];this['_device']=_0x21f504,this['_assets']=_0x4f54eb,this['imgParser']=new RL(_0x4f54eb,_0x21f504),this['parsers']={'dds':new kL(_0x4f54eb),'ktx':new LL(_0x4f54eb),'ktx2':new OL(_0x4f54eb,_0x21f504),'basis':new EL(_0x4f54eb,_0x21f504),'hdr':new BL(_0x4f54eb)};}set['crossOrigi'+'n'](_0x2c446e){this['imgParser']['crossOrigi'+'n']=_0x2c446e;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x5dcb3c){this['imgParser']['maxRetries']=_0x5dcb3c;for(const _0x58da19 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x58da19)&&(this['parsers'][_0x58da19]['maxRetries']=_0x5dcb3c);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x5083cb){return _0x5083cb['indexOf']('?')>=-0x49*0x49+0xc0e*0x3+-0xf59?_0x5083cb['split']('?')[-0x215c+0xd*0x153+0x1025]:_0x5083cb;}['_getParser'](_0x279528){const _0x594f44=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x279528))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x594f44]||this['imgParser'];}['_getTextur'+'eOptions'](_0x38972e){var _0x37b719;const _0x3906dd={'profilerHint':ur};if(_0x38972e){((_0x37b719=_0x38972e['name'])==null?void(-0x1e17+-0x1639+0x3450):_0x37b719['length'])>-0x5c0+-0x1*-0x944+-0x384&&(_0x3906dd['name']=_0x38972e['name']);const _0x169933=_0x38972e['data'];_0x169933['hasOwnProp'+'erty']('minfilter')&&(_0x3906dd['minFilter']=Wg[_0x169933['minfilter']]),_0x169933['hasOwnProp'+'erty']('magfilter')&&(_0x3906dd['magFilter']=Wg[_0x169933['magfilter']]),_0x169933['hasOwnProp'+'erty']('addressu')&&(_0x3906dd['addressU']=$g[_0x169933['addressu']]),_0x169933['hasOwnProp'+'erty']('addressv')&&(_0x3906dd['addressV']=$g[_0x169933['addressv']]),_0x169933['hasOwnProp'+'erty']('mipmaps')&&(_0x3906dd['mipmaps']=_0x169933['mipmaps']),_0x169933['hasOwnProp'+'erty']('anisotropy')&&(_0x3906dd['anisotropy']=_0x169933['anisotropy']),_0x169933['hasOwnProp'+'erty']('flipY')&&(_0x3906dd['flipY']=!!_0x169933['flipY']),_0x169933['hasOwnProp'+'erty']('srgb')&&(_0x3906dd['srgb']=!!_0x169933['srgb']),_0x169933['hasOwnProp'+'erty']('type')?_0x3906dd['type']=NL[_0x169933['type']]:_0x169933['hasOwnProp'+'erty']('rgbm')&&_0x169933['rgbm']?_0x3906dd['type']=on:_0x38972e['file']&&(_0x38972e['file']['opt']&0x1*0x17cd+-0x1781+-0x44)!==-0x18*-0x12f+-0x8*0xc9+0x162*-0x10&&(_0x3906dd['type']=op);}return _0x3906dd;}['load'](_0x25aeed,_0x278387,_0xa47f58){typeof _0x25aeed=='string'&&(_0x25aeed={'load':_0x25aeed,'original':_0x25aeed}),this['_getParser'](_0x25aeed['original'])['load'](_0x25aeed,_0x278387,_0xa47f58);}['open'](_0x3425c8,_0xdda2d1,_0x32c033){if(!_0x3425c8)return;const _0x488c12=this['_getTextur'+'eOptions'](_0x32c033);let _0x27b522=this['_getParser'](_0x3425c8)['open'](_0x3425c8,_0xdda2d1,this['_device'],_0x488c12);return _0x27b522===null?_0x27b522=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0x27b522),_0xdda2d1['unswizzled'+'GGGR']&&(_0x32c033['file']['variants']['basis']['opt']&=-(0x4*0x12a+0x15fe+-0x1a9d))),_0x27b522;}['patch'](_0x36410e,_0x492055){const _0x40e7c4=_0x36410e['resource'];if(!_0x40e7c4)return;const _0x35c608=this['_getTextur'+'eOptions'](_0x36410e);for(const _0x1328b3 of Object['keys'](_0x35c608))_0x40e7c4[_0x1328b3]=_0x35c608[_0x1328b3];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',$L='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class WL{constructor(_0x4918cc){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),this['_manager']=_0x4918cc;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0xcfaf01){!this['_supported']||this['_manager']['active']||(this['_root']=_0xcfaf01);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x466e2a,_0xf499ed,_0x5853ef,_0x376fb3=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x466e2a,this['_xrHitTest'+'Source']=_0xf499ed,this['_transient']=_0x5853ef,this['_inputSour'+'ce']=_0x376fb3);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x2e135c=this['manager']['hitTest']['sources'],_0x2da207=_0x2e135c['indexOf'](this);_0x2da207!==-(0x5d+0x5*0x2c0+0x15*-0xac)&&_0x2e135c['splice'](_0x2da207,-0x1*0x199a+-0x86*-0x21+0x855*0x1),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0xa17314){if(this['_transient']){const _0x52a393=_0xa17314['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x485f2f=0x1d65+0x12e*-0x2+-0x1b09;_0x485f2f<_0x52a393['length'];_0x485f2f++){const _0x1611bc=_0x52a393[_0x485f2f];if(!_0x1611bc['results']['length'])continue;let _0x559608;_0x1611bc['inputSourc'+'e']&&(_0x559608=this['manager']['input']['_getByInpu'+'tSource'](_0x1611bc['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x1611bc['results'],_0x559608);}}else{const _0x3e4713=_0xa17314['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x3e4713['length'])return;this['updateHitR'+'esults'](_0x3e4713);}}['updateHitR'+'esults'](_0x33ab32,_0x3cfe25){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x3cfe25)return;const _0x306699=ih['pop']()??new T();_0x3cfe25?_0x306699['copy'](_0x3cfe25['getOrigin']()):_0x306699['copy'](this['manager']['camera']['getPositio'+'n']());let _0x5e45c6=(-0x13e9+0x2108+0x92*-0x17)/(0x26dd+-0x1*0x455+-0x5*0x6e8),_0x134eee=null;const _0x2f0673=ih['pop']()??new T(),_0x4fd2f0=Xg['pop']()??new se();for(let _0x234ffd=0x8b*-0x7+-0xd*-0x232+-0x18bd;_0x234ffd<_0x33ab32['length'];_0x234ffd++){const _0x2fd0c9=_0x33ab32[_0x234ffd]['getPose'](this['manager']['_reference'+'Space']),_0x51b322=_0x306699['distance'](_0x2fd0c9['transform']['position']);_0x51b322>=_0x5e45c6||(_0x5e45c6=_0x51b322,_0x134eee=_0x33ab32[_0x234ffd],_0x2f0673['copy'](_0x2fd0c9['transform']['position']),_0x4fd2f0['copy'](_0x2fd0c9['transform']['orientatio'+'n']));}this['fire']('result',_0x2f0673,_0x4fd2f0,_0x3cfe25||this['_inputSour'+'ce'],_0x134eee),this['manager']['hitTest']['fire']('result',this,_0x2f0673,_0x4fd2f0,_0x3cfe25||this['_inputSour'+'ce'],_0x134eee),ih['push'](_0x306699),ih['push'](_0x2f0673),Xg['push'](_0x4fd2f0);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x5ed0f9){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(0xc99+-0xc0+0x1*-0xbd8)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x246c+0x17e*-0x13+-0x1*-0x40c7)),c(this,'sources',[]),(this['manager']=_0x5ed0f9,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0xf68c12=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x3d*-0x5f+0x1503+0x2ba5*-0x1);if(!_0xf68c12)return;this['_available']=_0xf68c12,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x7eb*-0x3+0x31f+-0x1ae0),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x51d4a0=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x51d4a0})['then'](_0x2d6653=>{_0x2d6653['cancel'](),this['manager']['active']&&(this['_available']=!(0x1229+0x2b*0x1f+0x2*-0xbaf),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x1847+0x7f*-0x9+0x13cf*-0x1);for(let _0x5a3542=-0x24a2+0x1cdd*0x1+0x7c5*0x1;_0x5a3542<this['sources']['length'];_0x5a3542++)this['sources'][_0x5a3542]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x2f0621={}){var _0x36b185,_0x3a2b58;if(!this['_supported']){(_0x36b185=_0x2f0621['callback'])==null||_0x36b185['call'](_0x2f0621,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x3a2b58=_0x2f0621['callback'])==null||_0x3a2b58['call'](_0x2f0621,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x2f0621['profile']&&!_0x2f0621['spaceType']&&(_0x2f0621['spaceType']=qg);let _0x5b0c2a;const _0x5e12c5=_0x2f0621['offsetRay'];if(_0x5e12c5){const _0xef8c6e=new DOMPoint(_0x5e12c5['origin']['x'],_0x5e12c5['origin']['y'],_0x5e12c5['origin']['z'],0x1*-0x2419+-0x2*-0x1214+-0xe),_0x144a4f=new DOMPoint(_0x5e12c5['direction']['x'],_0x5e12c5['direction']['y'],_0x5e12c5['direction']['z'],-0x1*-0xe3b+0x8dc+0x1*-0x1717);_0x5b0c2a=new XRRay(_0xef8c6e,_0x144a4f);}const _0x4884b4=_0x2f0621['callback'];_0x2f0621['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x2f0621['spaceType'])['then'](_0x4d159e=>{if(!this['manager']['session']){const _0x1847f8=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x4884b4&&_0x4884b4(_0x1847f8),this['fire']('error',_0x1847f8);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x4d159e,'entityTypes':_0x2f0621['entityType'+'s']||void(0x2581*-0x1+-0xf*0x26c+0x49d5),'offsetRay':_0x5b0c2a})['then'](_0x4a8dee=>{this['_onHitTest'+'Source'](_0x4a8dee,!(0x5e9+-0x181d+0x4f*0x3b),_0x2f0621['inputSourc'+'e'],_0x4884b4);})['catch'](_0x5dec4b=>{_0x4884b4&&_0x4884b4(_0x5dec4b),this['fire']('error',_0x5dec4b);});})['catch'](_0x38e592=>{_0x4884b4&&_0x4884b4(_0x38e592),this['fire']('error',_0x38e592);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x2f0621['profile'],'entityTypes':_0x2f0621['entityType'+'s']||void(-0x2513+-0x365+0x7*0x5c8),'offsetRay':_0x5b0c2a})['then'](_0x5ab442=>{this['_onHitTest'+'Source'](_0x5ab442,!(-0x1d7a+0x2130+-0x19*0x26),_0x2f0621['inputSourc'+'e'],_0x4884b4);})['catch'](_0x34548d=>{_0x4884b4&&_0x4884b4(_0x34548d),this['fire']('error',_0x34548d);});}['_onHitTest'+'Source'](_0x2ab1a8,_0x9f599d,_0x5e5d55,_0x3772af){if(!this['manager']['session']){_0x2ab1a8['cancel']();const _0x1a6df6=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x3772af&&_0x3772af(_0x1a6df6),this['fire']('error',_0x1a6df6);return;}const _0x5a6d1a=new Ef(this['manager'],_0x2ab1a8,_0x9f599d,_0x5e5d55??null);this['sources']['push'](_0x5a6d1a),_0x3772af&&_0x3772af(null,_0x5a6d1a),this['fire']('add',_0x5a6d1a);}['update'](_0x56a0f5){if(this['_available']){for(let _0x22dd93=-0x148b+-0x1*-0xe19+0x672;_0x22dd93<this['sources']['length'];_0x22dd93++)this['sources'][_0x22dd93]['update'](_0x56a0f5);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0x1852e2,_0x5e4eb3){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',0x1a1d+-0x2318+0x79*0x13),c(this,'_trackable',!(0x1*-0x14+0x98*-0x3d+0x244d)),c(this,'_tracking',!(-0xd89+0x1*-0x21a9+0x2f33)),c(this,'_emulated',!(0xc4b*-0x3+0x14d0+0x1012)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0x1852e2,this['_width']=_0x5e4eb3);}get['image'](){return this['_image'];}set['width'](_0x4e1a31){this['_width']=_0x4e1a31;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x225a5c=>(this['_bitmap']=_0x225a5c,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x4e594c){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(-0x9f8+0xd51+-0x1ac*0x2)),c(this,'_images',[]),(this['_manager']=_0x4e594c,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x3b125c,_0x431dd0){if(!this['_supported']||this['_manager']['active'])return null;const _0x1842fe=new Cf(_0x3b125c,_0x431dd0);return this['_images']['push'](_0x1842fe),_0x1842fe;}['remove'](_0x742c2){if(this['_manager']['active'])return;const _0x2da97e=this['_images']['indexOf'](_0x742c2);_0x2da97e!==-(-0x12fe+-0xc5e+-0x1f*-0x103)&&(_0x742c2['destroy'](),this['_images']['splice'](_0x2da97e,-0xfcd+0x22cd+-0x12ff));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x269a7a=>{this['_available']=!(-0x49*-0x7b+-0x4b4*0x1+-0x1e5f);for(let _0x211e43=-0x1293+0x79*-0x51+0x38dc;_0x211e43<_0x269a7a['length'];_0x211e43++)this['_images'][_0x211e43]['_trackable']=_0x269a7a[_0x211e43]==='trackable';})['catch'](_0x2553b0=>{this['_available']=!(-0xa50*0x1+0x325+-0x11*-0x6c),this['fire']('error',_0x2553b0);});}['_onSession'+'End'](){this['_available']=!(0x1d1d*-0x1+0x208e+-0x370);for(let _0x3caf70=-0x2098+-0x22b4*0x1+0x434c;_0x3caf70<this['_images']['length'];_0x3caf70++){const _0x1851a7=this['_images'][_0x3caf70];_0x1851a7['_pose']=null,_0x1851a7['_measuredW'+'idth']=-0x1*0x885+0x1*0x565+0x320,_0x1851a7['_tracking']&&(_0x1851a7['_tracking']=!(-0x5*0x409+0x497*0x4+-0xe9*-0x2),_0x1851a7['fire']('untracked'));}}['prepareIma'+'ges'](_0x2460c0){this['_images']['length']?Promise['all'](this['_images']['map'](_0x117ba8=>_0x117ba8['prepare']()))['then'](_0x1f07c4=>{_0x2460c0(null,_0x1f07c4);})['catch'](_0x4b61fd=>{_0x2460c0(_0x4b61fd,null);}):_0x2460c0(null,null);}['update'](_0x5bff47){if(!this['_available'])return;const _0x292975=_0x5bff47['getImageTr'+'ackingResu'+'lts'](),_0x221bac={};for(let _0x2b324b=-0x1741*0x1+-0x93d+0x207e;_0x2b324b<_0x292975['length'];_0x2b324b++){_0x221bac[_0x292975[_0x2b324b]['index']]=_0x292975[_0x2b324b];const _0x4918f6=this['_images'][_0x292975[_0x2b324b]['index']];_0x4918f6['_emulated']=_0x292975[_0x2b324b]['trackingSt'+'ate']==='emulated',_0x4918f6['_measuredW'+'idth']=_0x292975[_0x2b324b]['measuredWi'+'dthInMeter'+'s'],_0x4918f6['_pose']=_0x5bff47['getPose'](_0x292975[_0x2b324b]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x3786f3=-0x1ded+0x189d+0x550;_0x3786f3<this['_images']['length'];_0x3786f3++)this['_images'][_0x3786f3]['_tracking']&&!_0x221bac[_0x3786f3]?(this['_images'][_0x3786f3]['_tracking']=!(-0x1bde+-0x8*0x17f+0x27d7),this['_images'][_0x3786f3]['fire']('untracked')):!this['_images'][_0x3786f3]['_tracking']&&_0x221bac[_0x3786f3]&&(this['_images'][_0x3786f3]['_tracking']=!(-0x697+-0x3b8+0xa4f),this['_images'][_0x3786f3]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x3c3b75,_0x3dcc18){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x3c3b75,this['_hand']=_0x3dcc18,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=0x2552*0x1+0x2166+-0x1*0x46b8;l<jg['length'];l++)Gx[jg[l]]=!(0x16da+-0x107*-0x2+-0x18e8);class Yg{constructor(_0x100ce3,_0x4866e2,_0x1d0fad,_0x826473=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(0x13cf+-0x7d3+-0xbfc)),(this['_index']=_0x100ce3,this['_id']=_0x4866e2,this['_hand']=_0x1d0fad,this['_finger']=_0x826473,this['_wrist']=_0x4866e2==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x4866e2]);}['update'](_0x21474e){this['_dirtyLoca'+'l']=!(-0xe6c+0x4*0x373+-0x20*-0x5),this['_radius']=_0x21474e['radius'],this['_localPosi'+'tion']['copy'](_0x21474e['transform']['position']),this['_localRota'+'tion']['copy'](_0x21474e['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0xac9+-0x2*-0xa21+-0x1*0x978),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x4e3f6d=this['_hand']['_manager']['camera']['parent'];_0x4e3f6d?this['_worldTran'+'sform']['mul2'](_0x4e3f6d['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0xced+-0x36f+0x105c+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x4eef90){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(-0x220*-0x12+-0x1*-0x2225+-0x4864)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x40cd50=_0x4eef90['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x4eef90['_manager'],this['_inputSour'+'ce']=_0x4eef90,_0x40cd50['get']('wrist')){const _0x3e85b1=new Yg(-0x15*-0xd+-0x204b*-0x1+-0x215c,'wrist',this,null);this['_wrist']=_0x3e85b1,this['_joints']['push'](_0x3e85b1),this['_jointsByI'+'d']['wrist']=_0x3e85b1;}for(let _0x2ed35d=-0x1343+-0x8*0x47+-0x263*-0x9;_0x2ed35d<Sh['length'];_0x2ed35d++){const _0x10375d=new qL(_0x2ed35d,this);for(let _0x285465=-0x1404+-0x175*-0x15+-0x3f*0x2b;_0x285465<Sh[_0x2ed35d]['length'];_0x285465++){const _0x759be1=Sh[_0x2ed35d][_0x285465];if(!_0x40cd50['get'](_0x759be1))continue;const _0x54fa6a=new Yg(_0x285465,_0x759be1,this,_0x10375d);this['_joints']['push'](_0x54fa6a),this['_jointsByI'+'d'][_0x759be1]=_0x54fa6a,_0x54fa6a['tip']&&(this['_tips']['push'](_0x54fa6a),_0x10375d['_tip']=_0x54fa6a),_0x10375d['_joints']['push'](_0x54fa6a);}}}['update'](_0x529848){const _0x4c5279=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x5eff84=0x3f2+-0x3*0x766+0x1240;_0x5eff84<this['_joints']['length'];_0x5eff84++){const _0x2551f7=this['_joints'][_0x5eff84],_0x2d1eda=_0x4c5279['hand']['get'](_0x2551f7['_id']);if(_0x2d1eda){let _0x344027;if(_0x529848['session']['visibility'+'State']!=='hidden'&&(_0x344027=_0x529848['getJointPo'+'se'](_0x2d1eda,this['_manager']['_reference'+'Space'])),_0x344027)_0x2551f7['update'](_0x344027),_0x2551f7['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0x192*0x12+0xfdf+0xc65*0x1),this['fire']('tracking'));else{if(_0x2551f7['wrist']){this['_tracking']&&(this['_tracking']=!(0x3*0x33d+0x1b1a+0x1f0*-0x13),this['fire']('trackinglo'+'st'));break;}}}}const _0x46217d=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x327fa8=this['_jointsByI'+'d']['thumb-tip'],_0x18a5f3=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x21d11c=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x3dbf59=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x4381d0=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x46217d&&_0x327fa8&&_0x18a5f3&&_0x21d11c&&_0x3dbf59&&_0x4381d0){this['_inputSour'+'ce']['_dirtyRay']=!(-0x1fb1+0x1e1*-0x5+0x2916),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x327fa8['_localPosi'+'tion'],_0x21d11c['_localPosi'+'tion'],-0x4bb*0x7+-0x6*-0x45+0x1f7f+0.5);let _0x497922=_0x46217d,_0x325a70=_0x4381d0;if(this['_inputSour'+'ce']['handedness']===HL){const _0x5bd7ba=_0x497922;_0x497922=_0x325a70,_0x325a70=_0x5bd7ba;}Ir['sub2'](_0x497922['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x325a70['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x18a5f3['_localPosi'+'tion'],_0x3dbf59['_localPosi'+'tion'],-0x25ec*0x1+-0x1*0x186f+0x11*0x3ab+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,-0x9cf+-0x6ba+0x1089+0.5)['normalize']();}const _0x3f2955=this['_fingerIsC'+'losed'](0x1e73+-0x1bb2+0x8*-0x58)&&this['_fingerIsC'+'losed'](-0x117+0xe8e+-0xd75)&&this['_fingerIsC'+'losed'](-0x1408+-0x2514+0x391f)&&this['_fingerIsC'+'losed'](0xbb0+-0x4*0x751+0x4*0x466);this['_fingersTi'+'pDistance'](-0x10fb+0xa*0x197+0x115,0x5*-0x7ca+0xb2b*-0x3+0x1*0x4874)?this['draging']?this['_manager']['input']['fire']('draging',this['_inputSour'+'ce']):(this['_manager']['input']['fire']('dragstart',this['_inputSour'+'ce']),this['draging']=!(-0x5f5+-0x30+-0x625*-0x1)):this['draging']&&(this['_manager']['input']['fire']('dragend',this['_inputSour'+'ce']),this['draging']=!(0x242+0x1*-0x1fc7+0x1d86*0x1)),_0x3f2955?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x175*-0x12+-0x2131+0x6f7),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x956+0x1cf*0x5+-0xc4*0x18),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0xc4d555,_0x423d6e){const _0x30cf27=this['_fingers'][_0xc4d555],_0x40b633=this['_fingers'][_0x423d6e];return _0x30cf27['tip']['_localPosi'+'tion']['distance'](_0x40b633['tip']['_localPosi'+'tion'])<=0x13e+-0x1*0x1ad2+0x1994+0.01;}['_fingerIsC'+'losed'](_0x335f19){const _0x10c25=this['_fingers'][_0x335f19];return Ir['sub2'](_0x10c25['joints'][0x533*0x1+0x1ab+-0x6de*0x1]['_localPosi'+'tion'],_0x10c25['joints'][0x163d+-0xa65+-0xbd7]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x10c25['joints'][-0x67f*0x1+-0x20cb+0x274c]['_localPosi'+'tion'],_0x10c25['joints'][0x1d5*0xf+-0x12c7+-0x8b1]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(-0x21c8+-0x51+0x7*0x4df+0.8);}['getJointBy'+'Id'](_0x4c580e){return this['_jointsByI'+'d'][_0x4c580e]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=0x844+-0x1d33+0xe9*0x17;class xs extends ce{constructor(_0xd8d47b,_0x5003bc){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(0x18b6*0x1+-0x128e+-0x627)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(0x11e1+-0x74b+-0x387*0x3)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(-0x25d4+-0x1*0x26e+0x2842)),c(this,'_dirtyRay',!(0x2581*0x1+-0xd6b+-0x2d*0x89)),c(this,'_selecting',!(0x7*0xdd+-0x351*-0x7+0x1*-0x1d41)),c(this,'_squeezing',!(-0x129d+0x1*0x1c1e+-0x13*0x80)),c(this,'_elementIn'+'put',!(-0xa*-0x8+0x1*-0xd3+0x1*0x83)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0xd8d47b,this['_xrInputSo'+'urce']=_0x5003bc,_0x5003bc['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x3da151){this['_elementIn'+'put']!==_0x3da151&&(this['_elementIn'+'put']=_0x3da151,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x2d1133){if(this['_hand'])this['_hand']['update'](_0x2d1133);else{const _0x333ac2=this['_xrInputSo'+'urce']['gripSpace'];if(_0x333ac2){const _0x142c78=_0x2d1133['getPose'](_0x333ac2,this['_manager']['_reference'+'Space']);if(_0x142c78){this['_grip']||(this['_grip']=!(-0x117+-0x2*0x8e+0x233),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x52f736=ne(),_0x2ce072=(_0x52f736-this['_velocitie'+'sTimestamp'])/(-0x21f9+0xc9d+0x1944);this['_velocitie'+'sTimestamp']=_0x52f736,this['_dirtyLoca'+'l']=!(0x3d9*-0x5+0x18db+-0x59e),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x142c78['transform']['position']),this['_localRota'+'tion']['copy'](_0x142c78['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x1fa5+0x1*-0x2398+0x1*0x433d),this['_manager']['input']['velocities'+'Supported']&&_0x142c78['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x142c78['linearVelo'+'city']):_0x2ce072>0x1d29+-0xb91+-0x1198&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x2ce072),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,-0x40*-0x5f+-0x1a48+-0x6*-0x6c+0.15));}else this['_velocitie'+'sAvailable']=!(0x254+0x1*-0xc11+0x1*0x9be);}const _0x5b4682=_0x2d1133['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x5b4682&&(this['_dirtyRay']=!(-0x1*-0x4c1+-0x1*0x1d32+0x1871),this['_rayLocal']['origin']['copy'](_0x5b4682['transform']['position']),this['_rayLocal']['direction']['set'](-0x1*0x184d+-0x7*-0x19b+0xd10,-0x87b*0x1+0x2*-0x8dd+0x1a35,-(-0x3*0x89f+0x26*-0x13+-0x22*-0xd8)),Qg['copy'](_0x5b4682['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0xd19+-0x3*0xbf7+0x30ff),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x38ee0=this['_manager']['camera']['parent'];_0x38ee0?this['_worldTran'+'sform']['mul2'](_0x38ee0['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x87c0d3=this['_dirtyRay'];if(this['_dirtyRay']=!(0x146*0xa+0x13a9+-0x2064),this['_manager']['camera']['parent']){const _0xfcfdfd=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0xfcfdfd['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0xfcfdfd),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x87c0d3&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x41c4b7={}){_0x41c4b7['inputSourc'+'e']=this,_0x41c4b7['profile']=this['_xrInputSo'+'urce']['profiles'][-0x50b*0x2+-0x7ab+-0x38d*-0x5];const _0x3a000f=_0x41c4b7['callback'];_0x41c4b7['callback']=(_0x4025af,_0x2b3cd8)=>{_0x2b3cd8&&this['onHitTestS'+'ourceAdd'](_0x2b3cd8),_0x3a000f&&_0x3a000f(_0x4025af,_0x2b3cd8);},this['_manager']['hitTest']['start'](_0x41c4b7);}['onHitTestS'+'ourceAdd'](_0x468d43){this['_hitTestSo'+'urces']['push'](_0x468d43),this['fire']('hittest:ad'+'d',_0x468d43),_0x468d43['on']('result',(_0x3dd4f3,_0x15a639,_0x41ad8e,_0xfc47b7)=>{_0x41ad8e===this&&this['fire']('hittest:re'+'sult',_0x468d43,_0x3dd4f3,_0x15a639,_0xfc47b7);}),_0x468d43['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x468d43),this['fire']('hittest:re'+'move',_0x468d43);});}['onHitTestS'+'ourceRemov'+'e'](_0x5a6ffc){const _0xd7b425=this['_hitTestSo'+'urces']['indexOf'](_0x5a6ffc);_0xd7b425!==-(-0x1*-0x1672+-0xd9c+-0x8d5)&&this['_hitTestSo'+'urces']['splice'](_0xd7b425,-0xa99+-0x1294+0x1d2e);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x1842c5){var _0x887f16,_0x3fa051;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(0x9*-0x34a+-0x1bec+0x132d*0x3)),(this['manager']=_0x1842c5,this['velocities'+'Supported']=!!(ye['browser']&&((_0x3fa051=(_0x887f16=window['XRPose'])==null?void(-0x2299+0x63e+-0x3d*-0x77):_0x887f16['prototype'])!=null&&_0x3fa051['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x28fc8a=>{this['_onInputSo'+'urcesChang'+'e'](_0x28fc8a);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0xf3ae22=this['manager']['session'];_0xf3ae22['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0xf3ae22['addEventLi'+'stener']('select',_0x3b14a6=>{const _0x15eea7=this['_getByInpu'+'tSource'](_0x3b14a6['inputSourc'+'e']);_0x15eea7['update'](_0x3b14a6['frame']),_0x15eea7['fire']('select',_0x3b14a6),this['fire']('select',_0x15eea7,_0x3b14a6);}),_0xf3ae22['addEventLi'+'stener']('selectstar'+'t',_0x1c6d8c=>{const _0x2f926d=this['_getByInpu'+'tSource'](_0x1c6d8c['inputSourc'+'e']);_0x2f926d['_selecting']||(_0x2f926d['update'](_0x1c6d8c['frame']),_0x2f926d['_selecting']=!(-0x43c+-0x66c*0x4+-0x4*-0x77b),_0x2f926d['fire']('selectstar'+'t',_0x1c6d8c),this['fire']('selectstar'+'t',_0x2f926d,_0x1c6d8c));}),_0xf3ae22['addEventLi'+'stener']('selectend',_0x165c67=>{const _0x2f777a=this['_getByInpu'+'tSource'](_0x165c67['inputSourc'+'e']);_0x2f777a['update'](_0x165c67['frame']),_0x2f777a['_selecting']=!(0x75e+-0x11a3+-0xa46*-0x1),_0x2f777a['fire']('selectend',_0x165c67),this['fire']('selectend',_0x2f777a,_0x165c67);}),_0xf3ae22['addEventLi'+'stener']('squeeze',_0x39590c=>{const _0x4e26eb=this['_getByInpu'+'tSource'](_0x39590c['inputSourc'+'e']);_0x4e26eb['update'](_0x39590c['frame']),_0x4e26eb['fire']('squeeze',_0x39590c),this['fire']('squeeze',_0x4e26eb,_0x39590c);}),_0xf3ae22['addEventLi'+'stener']('squeezesta'+'rt',_0x280f3a=>{const _0x44d584=this['_getByInpu'+'tSource'](_0x280f3a['inputSourc'+'e']);_0x44d584['update'](_0x280f3a['frame']),_0x44d584['_squeezing']=!(0x9*-0x38d+-0x1*0x13a3+0x3398),_0x44d584['fire']('squeezesta'+'rt',_0x280f3a),this['fire']('squeezesta'+'rt',_0x44d584,_0x280f3a);}),_0xf3ae22['addEventLi'+'stener']('squeezeend',_0x1c3f67=>{const _0x472b62=this['_getByInpu'+'tSource'](_0x1c3f67['inputSourc'+'e']);_0x472b62['update'](_0x1c3f67['frame']),_0x472b62['_squeezing']=!(-0xa7*0x25+0x1fb*-0x1+0x1a1f),_0x472b62['fire']('squeezeend',_0x1c3f67),this['fire']('squeezeend',_0x472b62,_0x1c3f67);});const _0x569706=_0xf3ae22['inputSourc'+'es'];for(let _0x47ab38=-0x18a2+0x1eae+0x306*-0x2;_0x47ab38<_0x569706['length'];_0x47ab38++)this['_addInputS'+'ource'](_0x569706[_0x47ab38]);}['_onSession'+'End'](){let _0x517ced=this['_inputSour'+'ces']['length'];for(;_0x517ced--;){const _0x1e5ecd=this['_inputSour'+'ces'][_0x517ced];this['_inputSour'+'ces']['splice'](_0x517ced,0x8*-0x153+-0x1e7c+0x2915),_0x1e5ecd['fire']('remove'),this['fire']('remove',_0x1e5ecd);}this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x1ecb90){for(let _0x546c43=-0xa0b+-0x4*0x16c+0x1*0xfbb;_0x546c43<_0x1ecb90['removed']['length'];_0x546c43++)this['_removeInp'+'utSource'](_0x1ecb90['removed'][_0x546c43]);for(let _0x5b522a=0x12bf*-0x1+0x21e6*-0x1+-0x34a5*-0x1;_0x5b522a<_0x1ecb90['added']['length'];_0x5b522a++)this['_addInputS'+'ource'](_0x1ecb90['added'][_0x5b522a]);}['_getByInpu'+'tSource'](_0x4626e4){for(let _0x45700a=-0x49c+-0x1d*0x9+0x5a1;_0x45700a<this['_inputSour'+'ces']['length'];_0x45700a++)if(this['_inputSour'+'ces'][_0x45700a]['inputSourc'+'e']===_0x4626e4)return this['_inputSour'+'ces'][_0x45700a];return null;}['_addInputS'+'ource'](_0x31a553){if(this['_getByInpu'+'tSource'](_0x31a553))return;const _0x25f3b3=new xs(this['manager'],_0x31a553);this['_inputSour'+'ces']['push'](_0x25f3b3),this['fire']('add',_0x25f3b3);}['_removeInp'+'utSource'](_0x1267c8){for(let _0x2cc167=0x22a3*0x1+0x745*0x4+-0x3fb7;_0x2cc167<this['_inputSour'+'ces']['length'];_0x2cc167++){if(this['_inputSour'+'ces'][_0x2cc167]['inputSourc'+'e']!==_0x1267c8)continue;const _0x57b729=this['_inputSour'+'ces'][_0x2cc167];this['_inputSour'+'ces']['splice'](_0x2cc167,-0x1*-0x1bb1+0x1*0x287+-0x1e37);let _0x1b677c=_0x57b729['hitTestSou'+'rces']['length'];for(;_0x1b677c--;)_0x57b729['hitTestSou'+'rces'][_0x1b677c]['remove']();_0x57b729['fire']('remove'),this['fire']('remove',_0x57b729);return;}}['update'](_0x3e922a){for(let _0x469639=-0xd7c+-0x1f59+0x2cd5;_0x469639<this['_inputSour'+'ces']['length'];_0x469639++)this['_inputSour'+'ces'][_0x469639]['update'](_0x3e922a);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x1b6b45){super(),c(this,'_manager'),c(this,'_supported',!(0x1c24+-0x180f+-0x414)),c(this,'_available',!(-0xd2+0x16db*-0x1+-0xbd7*-0x2)),c(this,'_lightProb'+'eRequested',!(-0x1055+-0x8c*0x4+0x1286)),c(this,'_lightProb'+'e',null),c(this,'_intensity',0x7c2+-0x1dfb+0x1*0x1639),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(-0x263d+-0x2275*0x1+0x48cd)),(this['_manager']=_0x1b6b45,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x14d5+-0x599*0x4+0x2b39));}['_onSession'+'End'](){this['_supported']=!(-0x522+0xf47*0x1+-0xa24),this['_available']=!(-0x460+0x132+0x32f),this['_lightProb'+'eRequested']=!(-0x25db+0x13ad+0x7*0x299),this['_lightProb'+'e']=null;}['start'](){let _0x3bb296;if(this['_manager']['session']||(_0x3bb296=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x3bb296&&this['_manager']['type']!==Ao&&(_0x3bb296=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x3bb296&&!this['_supported']&&(_0x3bb296=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x3bb296&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x3bb296=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x3bb296){this['fire']('error',_0x3bb296);return;}this['_lightProb'+'eRequested']=!(0x1373+-0x19a7+-0x31a*-0x2),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x7731e1=>{const _0x487401=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(-0x3b8+0xa3*0x26+-0x3*0x6d3),this['_manager']['active']?_0x487401&&(this['_lightProb'+'e']=_0x7731e1):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x480c6d=>{this['_lightProb'+'eRequested']=!(0x2080+-0x2*-0xb19+-0x36b1),this['fire']('error',_0x480c6d);});}['end'](){this['_lightProb'+'eRequested']=!(-0x1d07+-0x223a+0x6*0xa8b),this['_lightProb'+'e']=null,this['_available']=!(-0x1fd*-0xe+-0x25dd*0x1+0xa08);}['update'](_0xfc942c){if(!this['_lightProb'+'e'])return;const _0x48f868=_0xfc942c['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x48f868)return;this['_available']||(this['_available']=!(0x2*-0xc57+-0xb30+0x23de),this['fire']('available'));const _0x17ed87=_0x48f868['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x214e*0x1+0x120b+0x6a*-0x7c,Math['max'](_0x17ed87['x'],Math['max'](_0x17ed87['y'],_0x17ed87['z']))),Xn['copy'](_0x17ed87)['mulScalar']((-0x5bc*0x6+-0x1*-0x19c7+0x8a2)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](-0x346+-0x1ff8+-0x15b*-0x1a,0x242+0x199f*-0x1+-0x1*-0x175d,0x3*0x2a9+0x974+-0x116f),Jg['copy'](_0x48f868['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],0x2430+0xc99+-0x1*0x306f),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x48f868['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=-0xdd8+-0x1168+-0xa*-0x320;class Rf extends ce{constructor(_0x479433,_0x3f537c){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x479433,this['_xrPlane']=_0x3f537c,this['_lastChang'+'edTime']=_0x3f537c['lastChange'+'dTime'],this['_orientati'+'on']=_0x3f537c['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x242fb4){const _0x316bfd=this['_planeDete'+'ction']['_manager'],_0xdea38f=_0x242fb4['getPose'](this['_xrPlane']['planeSpace'],_0x316bfd['_reference'+'Space']);_0xdea38f&&(this['_position']['copy'](_0xdea38f['transform']['position']),this['_rotation']['copy'](_0xdea38f['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x6a1463){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(-0x21e*-0xd+0x24fd*0x1+-0x4082)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x6a1463,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x11fa+0x5*0x134+0xbf7)&&(this['_available']=!(0xe5*0x4+0x28*0x71+0x2*-0xa9e),this['fire']('available'));}['_onSession'+'End'](){for(let _0xf3db87=0x2682+-0x183f+-0x3*0x4c1;_0xf3db87<this['_planes']['length'];_0xf3db87++)this['_planes'][_0xf3db87]['destroy'](),this['fire']('remove',this['_planes'][_0xf3db87]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0x1*-0x202a+-0x1dd+0x1f*0x119,this['_available']&&(this['_available']=!(-0x925*0x1+0x14d9+-0xbb3),this['fire']('unavailabl'+'e'));}['update'](_0x4ec855){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x4ec855['detectedPl'+'anes']['size'])this['_available']=!(0x15df+-0x1aaf+-0x4*-0x134),this['fire']('available');else return;}const _0x2bfc02=_0x4ec855['detectedPl'+'anes'];for(const [_0x5120e4,_0x4019e]of this['_planesInd'+'ex'])_0x2bfc02['has'](_0x5120e4)||(this['_planesInd'+'ex']['delete'](_0x5120e4),this['_planes']['splice'](this['_planes']['indexOf'](_0x4019e),0xba1+0x7*0x25e+0x966*-0x3),_0x4019e['destroy'](),this['fire']('remove',_0x4019e));for(const _0x3f6da4 of _0x2bfc02){let _0x4e540c=this['_planesInd'+'ex']['get'](_0x3f6da4);_0x4e540c?_0x4e540c['update'](_0x4ec855):(_0x4e540c=new Rf(this,_0x3f6da4),this['_planesInd'+'ex']['set'](_0x3f6da4,_0x4e540c),this['_planes']['push'](_0x4e540c),_0x4e540c['update'](_0x4ec855),this['fire']('add',_0x4e540c));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x5dd223,_0x1cece7,_0x29b2fc=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x5dd223,this['_xrAnchor']=_0x1cece7,this['_uuid']=_0x29b2fc);}['destroy'](){if(!this['_xrAnchor'])return;const _0x2781c2=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x2781c2,this);}['update'](_0x51a769){if(!this['_xrAnchor'])return;const _0x383705=_0x51a769['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x383705){if(this['_position']['equals'](_0x383705['transform']['position'])&&this['_rotation']['equals'](_0x383705['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x383705['transform']['position']),this['_rotation']['copy'](_0x383705['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x13805f){if(!this['_anchors']['persistenc'+'e']){_0x13805f==null||_0x13805f(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x13805f==null||_0x13805f(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x13805f&&this['_uuidReque'+'sts']['push'](_0x13805f);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x3ea8e4=>{this['_uuid']=_0x3ea8e4,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x13805f==null||_0x13805f(null,_0x3ea8e4);for(const _0x57aa19 of this['_uuidReque'+'sts'])_0x57aa19(null,_0x3ea8e4);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x3ea8e4);})['catch'](_0x2d26b0=>{_0x13805f==null||_0x13805f(_0x2d26b0,null);for(const _0x1afb1c of this['_uuidReque'+'sts'])_0x1afb1c(_0x2d26b0,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x3acc9a){if(!this['_uuid']){_0x3acc9a==null||_0x3acc9a(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x141ac0=>{this['_uuid']=null,_0x3acc9a==null||_0x3acc9a(_0x141ac0),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x50c022){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(-0xf28+0x88d*-0x1+-0xa*-0x25f)),c(this,'_checkingA'+'vailabilit'+'y',!(0x203+0x1*0x1b7+0x3b9*-0x1)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(0x38f*-0x9+0x16f2+0x19*0x5d):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x50c022,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x265a16=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(0x1b83+-0x19fd+0x185*-0x1);_0x265a16&&(this['_available']=_0x265a16,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x1e2d+0x15e3+-0xc1*-0xb);for(let _0x40c293=0x761+-0x2*0x1a0+0x421*-0x1;_0x40c293<this['_creationQ'+'ueue']['length'];_0x40c293++)this['_creationQ'+'ueue'][_0x40c293]['callback']&&this['_creationQ'+'ueue'][_0x40c293]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0x1f*-0x10d+0x1e4e+-0x3ee1,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x5e5f0a=this['_list']['length'];for(;_0x5e5f0a--;)this['_list'][_0x5e5f0a]['destroy']();this['_list']['length']=0x1bdc+-0x22c6*-0x1+-0x3ea2,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x650127,_0xd3c468=null){const _0x255ecd=new uo(this,_0x650127,_0xd3c468);return this['_index']['set'](_0x650127,_0x255ecd),_0xd3c468&&this['_indexByUu'+'id']['set'](_0xd3c468,_0x255ecd),this['_list']['push'](_0x255ecd),_0x255ecd['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x255ecd;}['_onAnchorD'+'estroy'](_0x268fba,_0x15d01b){this['_index']['delete'](_0x268fba),_0x15d01b['uuid']&&this['_indexByUu'+'id']['delete'](_0x15d01b['uuid']);const _0x545b0e=this['_list']['indexOf'](_0x15d01b);_0x545b0e!==-(-0x3a*0x85+0xb48*0x1+0x12db)&&this['_list']['splice'](_0x545b0e,-0x4c+0xa*0x8+-0x3),this['fire']('destroy',_0x15d01b);}['create'](_0x5b5847,_0x1b94be,_0x468d26){if(!this['_available']){_0x468d26==null||_0x468d26(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x5b5847 instanceof XRHitTestResult){const _0x5aed7c=_0x5b5847;if(_0x468d26=_0x1b94be,!this['_supported']){_0x468d26==null||_0x468d26(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x5aed7c['createAnch'+'or']){_0x468d26==null||_0x468d26(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x5aed7c['createAnch'+'or']()['then'](_0x53cad0=>{const _0x2d0a2a=this['_createAnc'+'hor'](_0x53cad0);_0x468d26==null||_0x468d26(null,_0x2d0a2a),this['fire']('add',_0x2d0a2a);})['catch'](_0x343a6f=>{_0x468d26==null||_0x468d26(_0x343a6f,null),this['fire']('error',_0x343a6f);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x5b5847,_0x1b94be),'callback':_0x468d26});}['restore'](_0x55d8c3,_0x5581fa){if(!this['_available']){_0x5581fa==null||_0x5581fa(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x5581fa==null||_0x5581fa(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x5581fa==null||_0x5581fa(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x55d8c3)['then'](_0x23bd3a=>{const _0x16df5d=this['_createAnc'+'hor'](_0x23bd3a,_0x55d8c3);_0x5581fa==null||_0x5581fa(null,_0x16df5d),this['fire']('add',_0x16df5d);})['catch'](_0x275ad1=>{_0x5581fa==null||_0x5581fa(_0x275ad1,null),this['fire']('error',_0x275ad1);});}['forget'](_0x384c56,_0x51977e){if(!this['_available']){_0x51977e==null||_0x51977e(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x51977e==null||_0x51977e(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x51977e==null||_0x51977e(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x384c56)['then'](()=>{_0x51977e==null||_0x51977e(null);})['catch'](_0x5afefc=>{_0x51977e==null||_0x51977e(_0x5afefc),this['fire']('error',_0x5afefc);});}['update'](_0x29625a){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x2396+-0x1881+0x3c17*0x1),_0x29625a['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0xa6b125=>{_0xa6b125['delete'](),this['manager']['active']&&(this['_available']=!(0x1e70+-0x3*0x97a+-0x2*0x101),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x4b7ca5=0x1dad+-0x1708*0x1+-0x6a5;_0x4b7ca5<this['_creationQ'+'ueue']['length'];_0x4b7ca5++){const _0x2eff4a=this['_creationQ'+'ueue'][_0x4b7ca5];_0x29625a['createAnch'+'or'](_0x2eff4a['transform'],this['manager']['_reference'+'Space'])['then'](_0xdd257a=>{_0x2eff4a['callback']&&this['_callbacks'+'Anchors']['set'](_0xdd257a,_0x2eff4a['callback']);})['catch'](_0x23daa8=>{_0x2eff4a['callback']&&_0x2eff4a['callback'](_0x23daa8,null),this['fire']('error',_0x23daa8);});}this['_creationQ'+'ueue']['length']=-0x3*0x3f5+0x5*-0xd7+0x1012;}for(const [_0x18b40a,_0x17fac1]of this['_index'])_0x29625a['trackedAnc'+'hors']['has'](_0x18b40a)||(this['_index']['delete'](_0x18b40a),_0x17fac1['destroy']());for(let _0x35ee3c=-0x879+-0x3*-0x450+0x9*-0x7f;_0x35ee3c<this['_list']['length'];_0x35ee3c++)this['_list'][_0x35ee3c]['update'](_0x29625a);for(const _0x53ee8b of _0x29625a['trackedAnc'+'hors']){if(this['_index']['has'](_0x53ee8b))continue;try{const _0xfb7a35=_0x53ee8b['anchorSpac'+'e'];}catch{continue;}const _0x4fdbe2=this['_createAnc'+'hor'](_0x53ee8b);_0x4fdbe2['update'](_0x29625a);const _0x265adb=this['_callbacks'+'Anchors']['get'](_0x53ee8b);_0x265adb&&(this['_callbacks'+'Anchors']['delete'](_0x53ee8b),_0x265adb(null,_0x4fdbe2)),this['fire']('add',_0x4fdbe2);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x536b9e,_0x2de6bd){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',-0x182f+0x3*-0x5d1+-0x1*-0x29a2),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x536b9e,this['_xrMesh']=_0x2de6bd,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x42dbc6){const _0x365be3=this['_meshDetec'+'tion']['_manager'],_0x9374cc=_0x42dbc6['getPose'](this['_xrMesh']['meshSpace'],_0x365be3['_reference'+'Space']);_0x9374cc&&(this['_position']['copy'](_0x9374cc['transform']['position']),this['_rotation']['copy'](_0x9374cc['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x1a8ff5){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(0x1*-0x19f1+-0x70d+0x20ff)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x1a8ff5,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x569301){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x569301['detectedMe'+'shes']['size'])this['_available']=!(0x1*0x2099+0x173f+-0x37d8),this['fire']('available');else return;}for(const _0x2c9360 of _0x569301['detectedMe'+'shes']){let _0x18cf7e=this['_index']['get'](_0x2c9360);_0x18cf7e?_0x18cf7e['update'](_0x569301):(_0x18cf7e=new If(this,_0x2c9360),this['_index']['set'](_0x2c9360,_0x18cf7e),this['_list']['push'](_0x18cf7e),_0x18cf7e['update'](_0x569301),this['fire']('add',_0x18cf7e));}for(const _0x1b7342 of this['_index']['values']())_0x569301['detectedMe'+'shes']['has'](_0x1b7342['xrMesh'])||this['_removeMes'+'h'](_0x1b7342);}['_removeMes'+'h'](_0x1a2384){this['_index']['delete'](_0x1a2384['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x1a2384),0xe46+0x726+-0x1*0x156b),_0x1a2384['destroy'](),this['fire']('remove',_0x1a2384);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x39a442=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x25fc+0xcd9*-0x2+0x3faf);if(!_0x39a442)return;this['_available']=_0x39a442,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x242c+0x26*0x3d+-0x2d39);for(const _0x1d6b79 of this['_index']['values']())this['_removeMes'+'h'](_0x1d6b79);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x8b66ee,_0x30b0cd,_0x697ef1){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(-0x76d*0x2+-0x4c*-0x6c+-0x1133)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x1419+-0x2276+0x36af*0x1)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x8b66ee,this['_xrView']=_0x30b0cd);const _0x51c4d7=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x51c4d7,{'format':dr,'mipmaps':!(0xd71*-0x2+0x158*0xe+0x27*0x35),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x66cbb2=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x51c4d7,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x697ef1===0x13d7+0xd*0x25e+-0xa4*0x4f?0x8*-0x1eb+0x21+0xcd*0x13:_0x697ef1,'mipmaps':!(0x8f*0x3d+0x1*0x1bd2+-0x3de4),'addressU':ae,'addressV':ae,'minFilter':_0x66cbb2,'magFilter':_0x66cbb2,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x6e567a=0xb4f*0x3+-0x1083+-0x8b5*0x2;_0x6e567a<this['_textureDe'+'pth']['_levels']['length'];_0x6e567a++)this['_textureDe'+'pth']['_levels'][_0x6e567a]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x51c4d7['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x334654;return((_0x334654=this['_depthInfo'])==null?void(0xa7a+-0x1c33*0x1+0x11b9):_0x334654['rawValueTo'+'Meters'])||-0xd1*-0x3+0xa*-0x2f+-0x9d;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x5007b4,_0x52ac87){this['_xrView']=_0x52ac87,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x817105=_0x5007b4['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x817105['x'],this['_viewport']['y']=_0x817105['y'],this['_viewport']['z']=_0x817105['width'],this['_viewport']['w']=_0x817105['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x5007b4);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0xeb7d50=this['_manager']['webglBindi'+'ng'];if(!_0xeb7d50)return;const _0x3bdb90=_0xeb7d50['getCameraI'+'mage'](this['_xrCamera']);if(!_0x3bdb90)return;const _0x5d1a6c=this['_manager']['app']['graphicsDe'+'vice'],_0x516c70=_0x5d1a6c['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x516c70['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x516c70['createFram'+'ebuffer']();else{const _0x4bfdeb=_0x516c70['COLOR_ATTA'+'CHMENT0'],_0xcc69d5=this['_xrCamera']['width'],_0x551dc3=this['_xrCamera']['height'];_0x5d1a6c['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x516c70['framebuffe'+'rTexture2D'](_0x516c70['FRAMEBUFFE'+'R'],_0x4bfdeb,_0x516c70['TEXTURE_2D'],_0x3bdb90,-0xdc5+0x610*-0x3+-0xaa7*-0x3),_0x5d1a6c['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x516c70['framebuffe'+'rTexture2D'](_0x516c70['FRAMEBUFFE'+'R'],_0x4bfdeb,_0x516c70['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0x215+-0x3e4*0x8+0x1d0b*0x1),_0x516c70['bindFrameb'+'uffer'](_0x516c70['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x516c70['bindFrameb'+'uffer'](_0x516c70['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x516c70['blitFrameb'+'uffer'](-0x6*0x527+0xf9+0x1df1*0x1,_0x551dc3,_0xcc69d5,-0x187*0x16+0x1c*0xc5+0xc0e,-0x65d+-0x19*0xbe+-0x18eb*-0x1,0x1*-0x1e4e+-0x11a5+0x2ff3*0x1,_0xcc69d5,_0x551dc3,_0x516c70['COLOR_BUFF'+'ER_BIT'],_0x516c70['NEAREST']);}}['_updateDep'+'th'](_0x558470){var _0x4c6949,_0x3d6799;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0xb877aa=this['_manager']['views']['depthGpuOp'+'timized'],_0x4df15b=_0xb877aa?this['_manager']['webglBindi'+'ng']:_0x558470;if(!_0x4df15b){this['_depthInfo']=null;return;}const _0x1395e3=_0x4df15b['getDepthIn'+'formation'](this['_xrView']);if(!_0x1395e3){this['_depthInfo']=null;return;}let _0x3b8b2c=!this['_depthInfo']!=!_0x1395e3;this['_depthInfo']=_0x1395e3;const _0x1dc855=((_0x4c6949=this['_depthInfo'])==null?void(0xbc8+-0x1*-0x86b+0x1433*-0x1):_0x4c6949['width'])||0x4ff*0x2+0x3a1*0x4+-0x187e,_0x3d502b=((_0x3d6799=this['_depthInfo'])==null?void(-0x12af+-0x202e+-0x1d*-0x1c1):_0x3d6799['height'])||0x47*0x7f+-0x23ce+0x99*0x1;let _0xf11bfe=!(-0x2670+-0x4*-0x371+-0x18ad*-0x1);if((this['_textureDe'+'pth']['width']!==_0x1dc855||this['_textureDe'+'pth']['height']!==_0x3d502b)&&(this['_textureDe'+'pth']['_width']=_0x1dc855,this['_textureDe'+'pth']['_height']=_0x3d502b,_0x3b8b2c=!(0x6d6*-0x1+-0x2643+0x2d19),_0xf11bfe=!(-0xa1e+0x1d09*0x1+-0x12eb)),_0x3b8b2c&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0xb877aa){if(this['_depthInfo']['texture']){const _0x5318b8=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x5318b8['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x5318b8['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x5318b8['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x5318b8['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x5318b8['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x5318b8['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x5318b8['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x5318b8['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(-0x2214*0x1+-0x2707+0x3d9*0x13);}}else this['_textureDe'+'pth']['_levels'][-0x6a1*0x1+-0x559*-0x7+0x1*-0x1ece]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x1d7b+-0x65*-0x21+0x11*-0x280]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0xf11bfe&&this['fire']('depth:resi'+'ze',_0x1dc855,_0x3d502b);}['updateTran'+'sforms'](_0x4bc1c6){_0x4bc1c6?(this['_viewInvOf'+'fMat']['mul2'](_0x4bc1c6,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x1*0x5a4+-0x1*0x11ac+0xc08]=this['_viewInvOf'+'fMat']['data'][-0x1c82+-0x1*-0xc61+0x102d],this['_positionD'+'ata'][0x1f*0x98+0x1fde+-0x1*0x3245]=this['_viewInvOf'+'fMat']['data'][-0x2*-0x124f+-0x186d+-0xc24],this['_positionD'+'ata'][0x6d0+0x639+-0x91*0x17]=this['_viewInvOf'+'fMat']['data'][-0x22c8+-0x242b+0x1*0x4701];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x320f54,_0x16ab3f){var _0x457ef9;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x457ef9=this['_depthInfo'])==null?void(-0xa*0x354+-0xd*0x223+-0xcb*-0x4d):_0x457ef9['getDepthIn'+'Meters'](_0x320f54,_0x16ab3f))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0xe26e22=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0xe26e22['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0xe26e22['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x37ff17){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(0x1bd9*-0x1+-0x25bb+-0xa3*-0x67)),c(this,'_available'+'Depth',!(-0x550*-0x3+-0x1e89+0x7*0x216)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x37ff17,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x47e90b,_0x314c17){for(let _0x2feeb2=0x1f61+-0x49a+-0x1c9*0xf;_0x2feeb2<_0x314c17['length'];_0x2feeb2++)this['_indexTmp']['set'](_0x314c17[_0x2feeb2]['eye'],_0x314c17[_0x2feeb2]);for(const [_0x2bdbe7,_0x3f96eb]of this['_indexTmp']){let _0x3fcf04=this['_index']['get'](_0x2bdbe7);_0x3fcf04?_0x3fcf04['update'](_0x47e90b,_0x3f96eb):(_0x3fcf04=new Hx(this['_manager'],_0x3f96eb,_0x314c17['length']),this['_index']['set'](_0x2bdbe7,_0x3fcf04),this['_list']['push'](_0x3fcf04),_0x3fcf04['update'](_0x47e90b,_0x3f96eb),this['fire']('add',_0x3fcf04));}for(const [_0x3d3ad1,_0x257b6c]of this['_index']){if(this['_indexTmp']['has'](_0x3d3ad1))continue;_0x257b6c['destroy'](),this['_index']['delete'](_0x3d3ad1);const _0x5d92b7=this['_list']['indexOf'](_0x257b6c);_0x5d92b7!==-(0xc71+0xb8*0xa+0x9d*-0x20)&&this['_list']['splice'](_0x5d92b7,0x1*-0xbe7+-0x66e+0x1256),this['fire']('remove',_0x257b6c);}this['_indexTmp']['clear']();}['get'](_0x288e9e){return this['_index']['get'](_0x288e9e)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x1*0xc2c+-0xc5*0x6+0x599*0x3),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0x8b*0x41+-0xb07*-0x2+0x69f*0x2),this['_available'+'Depth'])){const _0x50b3bd=this['_manager']['session'];this['_depthUsag'+'e']=_0x50b3bd['depthUsage'],this['_depthForm'+'at']=_0x50b3bd['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x264c0b of this['_index']['values']())_0x264c0b['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x18e2+-0x26b*-0x4+0xf37),this['_available'+'Depth']=!(-0x527*0x4+-0x182a*0x1+0x2cc7),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x10*-0x1b5+-0x13*-0xb3+0xe07;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x5a2967){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',0x11f7+0x64*-0x1f+0x1*-0x5db+0.1),c(this,'_depthFar',0x37+-0x147d+0x182e),c(this,'_supported'+'FrameRates',null),c(this,'_width',-0x103f*-0x1+-0x2*-0x2fc+-0x1637*0x1),c(this,'_height',-0x3fb+0xd33+-0x938),c(this,'_framebuff'+'erScaleFac'+'tor',-0x1*-0xda3+0x1379*0x1+-0x211b),(this['app']=_0x5a2967,this['_available'][VL]=!(-0x163*-0x19+0x1891+-0x3b3b*0x1),this['_available'][GL]=!(0xf41+-0xf43+0x3),this['_available'][Ao]=!(0x200e+-0x322*0x2+-0x19c9),this['views']=new ic(this),this['domOverlay']=new WL(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x562c27,_0xe34115,_0x1a375e,_0x1b7d62){var _0x3f88a8;let _0x20fb94=_0x1b7d62;if(typeof _0x1b7d62=='object'&&(_0x20fb94=_0x1b7d62['callback']),!this['_available'][_0xe34115]){_0x20fb94&&_0x20fb94(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x20fb94&&_0x20fb94(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x562c27,this['_camera']['camera']['xr']=this,this['_type']=_0xe34115,this['_spaceType']=_0x1a375e,this['_framebuff'+'erScaleFac'+'tor']=(_0x1b7d62==null?void(0x4fa*0x3+0x1*-0x1fb5+-0x5*-0x35b):_0x1b7d62['framebuffe'+'rScaleFact'+'or'])??0x1*-0x3a9+-0x229f+0x2649,this['_setClipPl'+'anes'](_0x562c27['nearClip'],_0x562c27['farClip']);const _0x210570={'requiredFeatures':[_0x1a375e],'optionalFeatures':[]},_0xca9988=(_0x3f88a8=this['app']['graphicsDe'+'vice'])==null?void(0x1*0x134f+0x105d*0x1+-0x23ac):_0x3f88a8['isWebGL2'];if(_0xe34115===Ao){if(_0x210570['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x210570['optionalFe'+'atures']['push']('hit-test'),_0x1b7d62&&(_0x1b7d62['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x210570['optionalFe'+'atures']['push']('image-trac'+'king'),_0x1b7d62['planeDetec'+'tion']&&_0x210570['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x1b7d62['meshDetect'+'ion']&&_0x210570['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x210570['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x210570['domOverlay']={'root':this['domOverlay']['root']}),_0x1b7d62&&_0x1b7d62['anchors']&&this['anchors']['supported']&&_0x210570['optionalFe'+'atures']['push']('anchors'),_0x1b7d62&&_0x1b7d62['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x210570['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x51fab0=[],_0x5ab0b8=[];if(_0x51fab0['push'](Bx,$L),_0x5ab0b8['push'](Ux,Nx,zx),_0x1b7d62['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x5db25d=_0x51fab0['indexOf'](_0x1b7d62['depthSensi'+'ng']['usagePrefe'+'rence']);_0x5db25d!==-(-0xcfd+0x13a5*-0x1+0x687*0x5)&&_0x51fab0['splice'](_0x5db25d,-0x63+0x1517+-0x14b3),_0x51fab0['unshift'](_0x1b7d62['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x1b7d62['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x181bc1=_0x5ab0b8['indexOf'](_0x1b7d62['depthSensi'+'ng']['dataFormat'+'Preference']);_0x181bc1!==-(0x11*-0xa7+0x1*-0x1ab4+0x25cc)&&_0x5ab0b8['splice'](_0x181bc1,0x13c2+0x194b+-0x2d0c),_0x5ab0b8['unshift'](_0x1b7d62['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x210570['depthSensi'+'ng']={'usagePreference':_0x51fab0,'dataFormatPreference':_0x5ab0b8};}_0xca9988&&_0x1b7d62&&_0x1b7d62['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x210570['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x210570['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x1b7d62&&_0x1b7d62['optionalFe'+'atures']&&(_0x210570['optionalFe'+'atures']=_0x210570['optionalFe'+'atures']['concat'](_0x1b7d62['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x2baf82,_0x17f25d)=>{if(_0x2baf82){_0x20fb94&&_0x20fb94(_0x2baf82),this['fire']('error',_0x2baf82);return;}_0x17f25d!==null&&(_0x210570['trackedIma'+'ges']=_0x17f25d),this['_onStartOp'+'tionsReady'](_0xe34115,_0x1a375e,_0x210570,_0x20fb94);}):this['_onStartOp'+'tionsReady'](_0xe34115,_0x1a375e,_0x210570,_0x20fb94);}['_onStartOp'+'tionsReady'](_0x4a4127,_0x289528,_0x160c77,_0x13c06f){navigator['xr']['requestSes'+'sion'](_0x4a4127,_0x160c77)['then'](_0x1981db=>{this['_onSession'+'Start'](_0x1981db,_0x289528,_0x13c06f);})['catch'](_0x2a2170=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x13c06f&&_0x13c06f(_0x2a2170),this['fire']('error',_0x2a2170);});}['end'](_0x2f02d4){if(!this['_session']){_0x2f02d4&&_0x2f02d4(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x2f02d4&&this['once']('end',_0x2f02d4),this['_session']['end']();}['isAvailabl'+'e'](_0x7b67de){return this['_available'][_0x7b67de];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x541053 in this['_available'])this['_sessionSu'+'pportCheck'](_0x541053);}['initiateRo'+'omCapture'](_0x3c4ac0){if(!this['_session']){_0x3c4ac0(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x3c4ac0(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x3c4ac0&&_0x3c4ac0(null);})['catch'](_0xb27786=>{_0x3c4ac0&&_0x3c4ac0(_0xb27786);});}['updateTarg'+'etFrameRat'+'e'](_0x2155c7,_0x12a538){var _0x1f75e3;if(!((_0x1f75e3=this['_session'])!=null&&_0x1f75e3['updateTarg'+'etFrameRat'+'e'])){_0x12a538==null||_0x12a538(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x2155c7)['then'](()=>{_0x12a538==null||_0x12a538();})['catch'](_0x5b1edf=>{_0x12a538==null||_0x12a538(_0x5b1edf);});}['_sessionSu'+'pportCheck'](_0x44a9a8){navigator['xr']['isSessionS'+'upported'](_0x44a9a8)['then'](_0x1c8ec0=>{this['_available'][_0x44a9a8]!==_0x1c8ec0&&(this['_available'][_0x44a9a8]=_0x1c8ec0,this['fire']('available',_0x44a9a8,_0x1c8ec0),this['fire']('available:'+_0x44a9a8,_0x1c8ec0));})['catch'](_0x193d51=>{this['fire']('error',_0x193d51);});}['_onSession'+'Start'](_0x306e7c,_0x5d0b14,_0x440186){let _0x4e9965=!(0x25c3*0x1+0x13d5*0x1+-0x1*0x3997);this['_session']=_0x306e7c;const _0x5a0b17=()=>{this['fire']('visibility'+':change',_0x306e7c['visibility'+'State']);},_0x27a0c2=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x3fb9f4=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x27a0c2),this['_camera']['off']('set_farCli'+'p',_0x27a0c2),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x306e7c['removeEven'+'tListener']('end',_0x3fb9f4),_0x306e7c['removeEven'+'tListener']('visibility'+'change',_0x5a0b17),_0x4e9965||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x1*0x2335+0xd*0xa+-0x23b7,this['_height']=-0x852+-0x89f*0x1+0x10f1,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x306e7c['addEventLi'+'stener']('end',_0x3fb9f4),_0x306e7c['addEventLi'+'stener']('visibility'+'change',_0x5a0b17),this['_camera']['on']('set_nearCl'+'ip',_0x27a0c2),this['_camera']['on']('set_farCli'+'p',_0x27a0c2),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x18e252;this['fire']('frameratec'+'hange',(_0x18e252=this['_session'])==null?void(-0x395+-0x3e3+-0xef*-0x8):_0x18e252['frameRate']);}),_0x306e7c['requestRef'+'erenceSpac'+'e'](_0x5d0b14)['then'](_0x4de257=>{this['_reference'+'Space']=_0x4de257,this['app']['tick'](),_0x440186&&_0x440186(null),this['fire']('start');})['catch'](_0x5d80f6=>{_0x4e9965=!(0x117e+-0x234e+0x11d0),_0x306e7c['end'](),_0x440186&&_0x440186(_0x5d80f6),this['fire']('error',_0x5d80f6);});}['_setClipPl'+'anes'](_0x388387,_0x34b0cb){this['_depthNear']===_0x388387&&this['_depthFar']===_0x34b0cb||(this['_depthNear']=_0x388387,this['_depthFar']=_0x34b0cb,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x12b77a=this['app']['graphicsDe'+'vice'],_0x5742ea=_0x12b77a['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x12b77a['gl'],{'alpha':!(-0xd64+0x1e02+-0x109e),'depth':!(0xfc1*-0x1+-0xd13*0x1+0x1cd4),'stencil':!(-0x985+-0x9d5*-0x3+-0x1*0x13fa),'framebufferScaleFactor':_0x5742ea,'antialias':!(0x1a1e+-0x2270+0x1*0x853)}),_0x12b77a!=null&&_0x12b77a['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x12b77a['gl']);}catch(_0x5441e2){this['fire']('error',_0x5441e2);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x1c1407=>{this['fire']('error',_0x1c1407);});},-0x13*0x2+-0x1ee6+0x1f0c);}['update'](_0x22a7cb){if(!this['_session'])return!(-0x877*0x2+0x2154+-0x577*0x3);const _0x5c5e53=_0x22a7cb['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x12ac22=_0x22a7cb['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x5c5e53||this['_height']!==_0x12ac22)&&(this['_width']=_0x5c5e53,this['_height']=_0x12ac22,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x5c5e53,_0x12ac22));const _0x175d47=_0x22a7cb['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x175d47)return!(0x1671+0x26f*0x7+-0x2779);const _0x26ef0b=this['views']['list']['length'];this['views']['update'](_0x22a7cb,_0x175d47['views']);const _0x249806=_0x175d47['transform']['position'],_0x512736=_0x175d47['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x249806['x'],_0x249806['y'],_0x249806['z']),this['_localRota'+'tion']['set'](_0x512736['x'],_0x512736['y'],_0x512736['z'],_0x512736['w']),_0x26ef0b===0x17b6+-0x1*0xfe+-0x16b8&&this['views']['list']['length']>0x6e9+-0x1233+-0x242*-0x5){const _0x246175=new q(),_0x1fccac=this['views']['list'][-0x1*0x4db+-0x1*-0x1b29+0xa*-0x23b];_0x246175['copy'](_0x1fccac['projMat']);const _0x449f40=_0x246175['data'],_0x146ad0=(-0x13e9+0x1f26+-0xb3b)*Math['atan']((-0x1a15*0x1+0x1473+0x6f*0xd)/_0x449f40[-0x1ef9*0x1+0x255*-0x7+-0x2f51*-0x1])*(0x968+-0x4d4*0x7+0x1918)/Math['PI'],_0x358735=_0x449f40[0x1ce7+0x157d*-0x1+-0x765]/_0x449f40[-0x493*0x1+0x1*-0x1869+0x1cfc],_0x3612d3=_0x449f40[-0xc51*-0x1+-0x1*0x859+-0x3ea]/(_0x449f40[0x15ee*-0x1+-0x21b1+0x1*0x37a9]+(-0xe3*-0x1+-0x595*0x3+-0x83*-0x1f)),_0x45b9b1=_0x449f40[-0x437+-0x1303+-0xa*-0x254]/(_0x449f40[0x1*0x1c31+0x2*0x12a+-0x1cb*0x11]-(0x15e6+0x6a4+0x5b5*-0x5));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x358735,'farClip':_0x3612d3,'fov':_0x146ad0,'horizontalFov':!(-0x22dc+0x150d+0xdd0),'nearClip':_0x45b9b1});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x22a7cb),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x22a7cb),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x22a7cb),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x22a7cb),this['anchors']['supported']&&this['anchors']['update'](_0x22a7cb),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x22a7cb),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x22a7cb)),this['fire']('update',_0x22a7cb),!(-0x606+-0x95*-0x2f+-0x1*0x1555);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x5d9900;return((_0x5d9900=this['_session'])==null?void(-0xf6a*0x1+0x3*-0x1c4+0xf1*0x16):_0x5d9900['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x129394){var _0x5dd8db;(((_0x5dd8db=this['_baseLayer'])==null?void(-0x1*-0xc6d+0x11be*0x1+0x1e2b*-0x1):_0x5dd8db['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0x44*-0x13+0x1b34+-0x203f*0x1&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x129394);}get['fixedFovea'+'tion'](){var _0x2f2a8d;return((_0x2f2a8d=this['_baseLayer'])==null?void(0x4*-0x24d+0x1*0x10fd+0x1*-0x7c9):_0x2f2a8d['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x3d1852,_0x4fea96={}){super(_0x3d1852);const _0x5bcc96=new pP();_0x5bcc96['graphicsDe'+'vice']=_0x4fea96['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x3d1852,_0x4fea96),this['addCompone'+'ntSystems'](_0x5bcc96),this['addResourc'+'eHandles'](_0x5bcc96),_0x5bcc96['elementInp'+'ut']=_0x4fea96['elementInp'+'ut'],_0x5bcc96['keyboard']=_0x4fea96['keyboard'],_0x5bcc96['mouse']=_0x4fea96['mouse'],_0x5bcc96['touch']=_0x4fea96['touch'],_0x5bcc96['gamepads']=_0x4fea96['gamepads'],_0x5bcc96['scriptPref'+'ix']=_0x4fea96['scriptPref'+'ix'],_0x5bcc96['assetPrefi'+'x']=_0x4fea96['assetPrefi'+'x'],_0x5bcc96['scriptsOrd'+'er']=_0x4fea96['scriptsOrd'+'er'],_0x5bcc96['soundManag'+'er']=new kb(),_0x5bcc96['lightmappe'+'r']=vP,_0x5bcc96['batchManag'+'er']=dC,_0x5bcc96['xr']=Qn,this['init'](_0x5bcc96);}['createDevi'+'ce'](_0x4617be,_0x41666d){return _0x41666d['graphicsDe'+'viceOption'+'s']||(_0x41666d['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x41666d['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x1381+0x8d*0x32+-0x11*0x79)),_0x41666d['graphicsDe'+'viceOption'+'s']['alpha']=_0x41666d['graphicsDe'+'viceOption'+'s']['alpha']||!(0x232b+0x515*-0x3+-0x13eb),new pb(_0x4617be,_0x41666d['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x3fe30e){_0x3fe30e['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,WR,$I,uD];}['addResourc'+'eHandles'](_0x9458a9){_0x9458a9['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,W2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0x1b7ec7,_0x2e567c){super(_0x1b7ec7),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x2e567c;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x378a82=>{_0x378a82['defaultUni'+'formBuffer']['destroy'](),_0x378a82['destroy']();}),this['viewBindGr'+'oups']['length']=-0xd00+-0x1d*0xb7+0x21bb;}['update'](_0x34bbee,_0x519d27,_0x172968,_0x914074){this['camera']=_0x34bbee,this['scene']=_0x519d27,this['layers']=_0x172968,this['mapping']=_0x914074;}['execute'](){const _0x3d23bc=this['device'],{renderer:_0x616027,camera:_0x2bbade,scene:_0x520e83,layers:_0x2ba314,mapping:_0x3adbaf,renderTarget:_0x1b4859}=this,_0x3d5e12=_0x520e83['layers']['layerList'],_0x1d8537=_0x520e83['layers']['subLayerEn'+'abled'],_0x148b84=_0x520e83['layers']['subLayerLi'+'st'];for(let _0x550a7a=0x8d0+0x5*-0x9+-0x8a3;_0x550a7a<_0x3d5e12['length'];_0x550a7a++){const _0x2b8f6d=_0x3d5e12[_0x550a7a];if(!(_0x2ba314&&_0x2ba314['indexOf'](_0x2b8f6d)<0x1*-0x783+-0x283*0xb+0x2*0x1192)&&_0x2b8f6d['enabled']&&_0x1d8537[_0x550a7a]&&_0x2b8f6d['camerasSet']['has'](_0x2bbade['camera'])){const _0x34c352=_0x148b84[_0x550a7a];G['pushGpuMar'+'ker'](_0x3d23bc,_0x2b8f6d['name']+'('+(_0x34c352?'TRANSP':'OPAQUE')+')'),_0x2b8f6d['_clearDept'+'hBuffer']&&_0x616027['clear'](_0x2bbade['camera'],!(0x4de+-0x1d9a+0x18bd),!(-0x1b6*0x6+0x115*0x21+-0x1971),!(-0x971*0x3+0x19c+0x1ab8));const _0x211945=_0x2b8f6d['meshInstan'+'ces'];for(let _0x13d69c=0x3b8+-0x563*0x2+0x15*0x56;_0x13d69c<_0x211945['length'];_0x13d69c++){const _0x101b02=_0x211945[_0x13d69c];_0x101b02['pick']&&_0x101b02['transparen'+'t']===_0x34c352&&(nh['push'](_0x101b02),_0x3adbaf['set'](_0x101b02['id'],_0x101b02));}nh['length']>0x5*-0x1b1+0x2*-0x899+0x19a7&&(_0x520e83['clusteredL'+'ightingEna'+'bled']&&_0x616027['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x616027['setCameraU'+'niforms'](_0x2bbade['camera'],_0x1b4859),_0x3d23bc['supportsUn'+'iformBuffe'+'rs']&&_0x616027['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x616027['viewUnifor'+'mFormat'],_0x616027['viewBindGr'+'oupFormat'],0x892+-0xcc*-0x21+-0x1a9*0x15),_0x616027['renderForw'+'ard'](_0x2bbade['camera'],_0x1b4859,nh,YL,Oa,_0x240a82=>{_0x3d23bc['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=0x22ec+-0xa*-0x26+-0x2468),G['popGpuMark'+'er'](_0x3d23bc);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x37a57c,_0x4f77c5,_0x1cfb01){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(-0x4*0x240+0x118d+-0x88d)),(v['assert'](_0x37a57c),this['renderer']=_0x37a57c['renderer'],this['device']=_0x37a57c['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x37a57c['renderer']),this['width']=-0x1*0x56d+0x2272+-0x143*0x17,this['height']=-0x7cd*-0x1+0x450+-0x1*0xc1d,this['resize'](_0x4f77c5,_0x1cfb01),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x26cb+0x525*0x1+-0x2bef);}));}['getSelecti'+'on'](_0x1a54bf,_0x3dbf5d,_0x279b01=-0x10a0+0x350+0xd51*0x1,_0x10ede5=-0xc2*0x1+0x26dc+0x1*-0x2619){const _0x2a79c0=this['device'];if(_0x2a79c0['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x1a54bf!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x3dbf5d=this['renderTarg'+'et']['height']-(_0x3dbf5d+_0x10ede5);const _0x12618a=this['sanitizeRe'+'ct'](_0x1a54bf,_0x3dbf5d,_0x279b01,_0x10ede5);_0x2a79c0['setRenderT'+'arget'](this['renderTarg'+'et']),_0x2a79c0['updateBegi'+'n']();const _0x2cec04=new Uint8Array((0x33*-0xa2+-0x1c5e+0x1e54*0x2)*_0x12618a['z']*_0x12618a['w']);return _0x2a79c0['readPixels'](_0x12618a['x'],_0x12618a['y'],_0x12618a['z'],_0x12618a['w'],_0x2cec04),_0x2a79c0['updateEnd'](),this['decodePixe'+'ls'](_0x2cec04,this['mapping']);}['getSelecti'+'onAsync'](_0x3695c5,_0x135c9e,_0x1b2e04=-0x8db+0x55*0x32+-0x7be,_0x15153e=-0x1758+0x1c06+-0x4ad){var _0x407181;(_0x407181=this['device'])!=null&&_0x407181['isWebGL2']&&(_0x135c9e=this['renderTarg'+'et']['height']-(_0x135c9e+_0x15153e));const _0x500eb9=this['sanitizeRe'+'ct'](_0x3695c5,_0x135c9e,_0x1b2e04,_0x15153e);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x500eb9['x'],_0x500eb9['y'],_0x500eb9['z'],_0x500eb9['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x1e57+0x1*-0x17fb+-0x1b29*-0x2)})['then'](_0x59fccb=>this['decodePixe'+'ls'](_0x59fccb,this['mapping']));}['sanitizeRe'+'ct'](_0x475cab,_0x404b51,_0x13336e,_0x54580f){const _0x278097=this['renderTarg'+'et']['width'],_0x5f4a35=this['renderTarg'+'et']['height'];return _0x475cab=N['clamp'](Math['floor'](_0x475cab),0x8*0x4be+0x4c1*-0x5+-0x193*0x9,_0x278097-(0x1433+0x2176*-0x1+-0x4*-0x351)),_0x404b51=N['clamp'](Math['floor'](_0x404b51),0x2ad*0xa+-0x3*-0x686+-0x2e54*0x1,_0x5f4a35-(0x17a7+-0x2366+0xbc0)),_0x13336e=Math['floor'](Math['max'](_0x13336e,-0x44*0x3+0x2321+-0x1a*0x152)),_0x13336e=Math['min'](_0x13336e,_0x278097-_0x475cab),_0x54580f=Math['floor'](Math['max'](_0x54580f,0x227+-0x1*-0x4bd+-0x1*0x6e3)),_0x54580f=Math['min'](_0x54580f,_0x5f4a35-_0x404b51),ZL['set'](_0x475cab,_0x404b51,_0x13336e,_0x54580f);}['decodePixe'+'ls'](_0x39b32d,_0x3e817d){const _0x4dd21a=[];if(this['deviceVali'+'d']){const _0xb8915a=_0x39b32d['length'];for(let _0x22cb1c=-0x35*-0xa3+0x22c2+-0xf7*0x47;_0x22cb1c<_0xb8915a;_0x22cb1c+=-0x1357*0x1+-0x6ee+0x1a49){const _0x31f905=_0x39b32d[_0x22cb1c+(-0x43*-0xe+0x1e04+0x21ae*-0x1)],_0x4075de=_0x39b32d[_0x22cb1c+(0x46c+-0x755+-0x175*-0x2)],_0x11f5c4=_0x39b32d[_0x22cb1c+(0xd61+-0xdd8+0x79)],_0x88d36c=_0x39b32d[_0x22cb1c+(0x2192*-0x1+0x2*0xa43+0xd0f*0x1)]<<-0x6f0+0x105c+0x4*-0x255|_0x31f905<<0xd*-0xdb+0x1fc8+-0x1*0x1499|_0x4075de<<-0x2c4*0x4+0x1fd7+-0x14bf|_0x11f5c4;_0x88d36c!==-(0x1769+-0x3*-0x31d+-0x20bf)&&nu['add'](_0x3e817d['get'](_0x88d36c));}nu['forEach'](_0x33e3ae=>{_0x33e3ae&&_0x4dd21a['push'](_0x33e3ae);}),nu['clear']();}return _0x4dd21a;}['allocateRe'+'nderTarget'](){const _0x450cb5=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(0x1a4b+0x124a*-0x2+0x3*0x36e),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x450cb5,'depth':!(0xca+-0xec3*0x1+0x31*0x49)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x1b08f6,_0x381534,_0x1b84e2){_0x1b84e2 instanceof Lr&&(_0x1b84e2=[_0x1b84e2]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x1cc6e8=this['renderPass'];_0x1cc6e8['init'](this['renderTarg'+'et']),_0x1cc6e8['colorOps']['clearValue']=Y['WHITE'],_0x1cc6e8['colorOps']['clear']=!(0xc38+-0x5*-0x2fc+-0x1b24*0x1),_0x1cc6e8['depthStenc'+'ilOps']['clearDepth']=!(-0x4fd+-0x2212+0xb*0x38d),_0x1cc6e8['update'](_0x1b08f6,_0x381534,_0x1b84e2,this['mapping']),_0x1cc6e8['render']();}['resize'](_0x4d12bb,_0x4d0b94){this['width']=Math['floor'](_0x4d12bb),this['height']=Math['floor'](_0x4d0b94);}};class QL{constructor(_0x5a9c40){this['_frameInde'+'x']=0x23fe+0x1*-0x2074+-0x38a,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0xe*-0x268+0x799*0x4+-0x4013*0x1,this['enabled']=!(-0xa09+-0x24da*0x1+0xfa1*0x3),_0x5a9c40['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x5a9c40['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x5a9c40['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x123d14){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0xea1177=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0xea1177,this['_frameInde'+'x']=-0x207e+0xc26+0x4*0x516,this['mark'](_0x123d14);}['mark'](_0x467ae2){if(!this['enabled'])return;const _0x68ed0d=ne();if(this['_frameInde'+'x']>-0x178+0x1ea7+-0x1d2f){const _0x4b5f8b=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x1*0x9a3+0xd01+0x487*-0x5)];_0x4b5f8b[0x177b*-0x1+-0x28f+0x1a0b]=_0x68ed0d-_0x4b5f8b[0x93d+0x1*-0x1bf9+-0x215*-0x9];}else{if(this['_timings']['length']>-0x1*-0x25c9+0xc35*-0x2+0x7*-0x1e9){const _0x582000=this['_timings'][this['_timings']['length']-(0x2362+-0x1*0x1dbc+-0x5a5)];_0x582000[0x23c6+-0xf26+-0x149f]=_0x68ed0d-_0x582000[-0x10ad+-0x1*0x440+0x14ee];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x467ae2,_0x68ed0d]);else{const _0x32c6cd=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x32c6cd[0x95d+0xde+-0xa3b]=_0x467ae2,_0x32c6cd[0x2*-0xa11+-0x1789*0x1+-0x35c*-0xd]=_0x68ed0d;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](0x1*0x326+0x81*0x3e+-0x2264,-(0x99a*-0x4+-0x181*0xa+0x3*0x11d1))['map'](_0x410400=>_0x410400[-0x638+0x1cd9+-0x16a0]);}}class JL{constructor(_0x52a050){this['device']=_0x52a050,_0x52a050['gpuProfile'+'r']['enabled']=!(0x18fd+-0x4f*-0x72+0xd3*-0x49),this['enabled']=!(0x2339+0x4*0x41b+0x27*-0x153),this['unitsName']='ms',this['decimalPla'+'ces']=0x1474+-0x2327+0xeb4,this['_timings']=[];}get['timings'](){return this['_timings'][0x43*0x71+0x647+-0x23da]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x543c9d,_0x2d5f59,_0x2c55e4,_0x1463f9,_0xec567a){this['app']=_0x543c9d,this['values']=[],this['statNames']=_0x2d5f59,this['statNames']['length']>0x2344*-0x1+-0x8f6+0x2c3d&&(this['statNames']['length']=0xd*-0x1e2+-0xb*-0x81+0x12f2),this['unitsName']=_0x1463f9,this['decimalPla'+'ces']=_0x2c55e4,this['multiplier']=_0xec567a||0x2432+-0xcb8*-0x2+-0x3da1;const _0x430864=(_0x1bedf7,_0x4065df)=>_0x1bedf7['split']('.')['reduce']((_0x343c3a,_0x55c91d)=>_0x343c3a?_0x343c3a[_0x55c91d]:null,_0x4065df||this);_0x543c9d['on']('frameupdat'+'e',_0x24f5b6=>{for(let _0x4139a6=0xb3a*-0x1+-0x1697+0x21d1;_0x4139a6<this['statNames']['length'];_0x4139a6++)this['values'][_0x4139a6]=_0x430864(this['statNames'][_0x4139a6],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x4cd035,_0x541cb7,_0x3cc337,_0x50636a,_0x303ba1){this['app']=_0x541cb7,this['name']=_0x4cd035,this['device']=_0x541cb7['graphicsDe'+'vice'],this['timer']=_0x303ba1,this['watermark']=_0x3cc337,this['enabled']=!(-0x3*-0xb7+-0x100d+0xde9),this['textRefres'+'hRate']=_0x50636a,this['avgTotal']=-0x5*0x75a+0x2b*0x9b+0x9*0x131,this['avgTimer']=0x2700+0x1195+0x3895*-0x1,this['avgCount']=-0x833*-0x3+-0xb5*-0x23+-0x8*0x62b,this['timingText']='',this['texture']=null,this['yOffset']=0xc55+0x1031*0x1+-0xe43*0x2,this['cursor']=0x1c74*-0x1+-0x691+0x37*0xa3,this['sample']=new Uint8ClampedArray(0x1144+-0x16b*-0x1+-0x51*0x3b),this['sample']['set']([-0x2314+-0xab3+-0x1*-0x2dc7,0x883*0x3+-0x26b4+0xd2b,0x1e7*0x2+0xa59*0x2+0x40*-0x62,-0x1d*0x3d+-0x1063+0x3*0x819]),this['counter']=0x24a3+-0xbfa+-0x18a9,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x303ed6){const _0xba2f6b=this['timer']['timings'],_0x6b01ad=_0xba2f6b['reduce']((_0x5dcfb5,_0x641972)=>_0x5dcfb5+_0x641972,-0xe83*-0x2+-0x9fa+0x6a*-0x2e);if(this['avgTotal']+=_0x6b01ad,this['avgTimer']+=_0x303ed6,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x11*0x2+-0xa*0x1fd+0x4*0x501,this['avgTotal']=0x2c3*0xd+-0x1c7e+-0x10f*0x7,this['avgCount']=0x1*0xcc7+-0x1c8a+0x327*0x5),this['enabled']){let _0x13d2f0=0x1df*0xb+0x6f*0xa+-0x18eb;const _0xa1a3a2=(0x6e+0xf77+-0xfe4+0.5)*this['watermark'];for(let _0x2e2ac0=-0x16f*0x18+0x1*-0x11f9+0x3461;_0x2e2ac0<_0xba2f6b['length'];++_0x2e2ac0)_0x13d2f0+=Math['floor'](_0xba2f6b[_0x2e2ac0]/_0xa1a3a2*(-0x508*-0x4+-0x20c8+0x48d*0x3)),this['sample'][_0x2e2ac0]=_0x13d2f0;this['sample'][-0x409+0x21b5*-0x1+0x25c1]=this['watermark']/_0xa1a3a2*(-0x11af*-0x1+0x1bd6+-0x2*0x1643),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0xda4+-0x1*0x198a+0xbea)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x9*0x1a3+0x17bb+-0x2676);}}['render'](_0xf2ade6,_0x542eba,_0x3f9ddc,_0x4164bc,_0x2fd596){_0xf2ade6['quad'](_0x542eba+_0x4164bc,_0x3f9ddc,-_0x4164bc,_0x2fd596,this['enabled']?this['cursor']:0x5*-0x2e9+0xf1*0x27+-0x162a,this['enabled']?0x2394+0x15*0xb+0x3*-0xc29+0.5+this['yOffset']:this['texture']['height']-(-0x1*-0x150+0x43*0xe+-0x4f9),-_0x4164bc,0x1603+-0x2a9+-0x1*0x135a,this['texture'],-0x833*0x1+0x110c+-0x8d9);}}class tF{constructor(_0x54b628,_0x52a714){const _0x1fc3ef=_0x1756f2=>{_0x1756f2['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x1756f2['textAlign']='left',_0x1756f2['textBaseli'+'ne']='alphabetic';},_0x9ec65e=_0x7d55a4=>_0x7d55a4==='.'||_0x7d55a4['length']===0x2*0x685+-0x1a2a+0x1*0xd21&&_0x7d55a4['charCodeAt'](-0x2029+-0x2a2*-0x8+0xb19)>=-0x12*-0xc0+0x20a9+0xf53*-0x3&&_0x7d55a4['charCodeAt'](0xdd9+0x11be+-0x1f97)<=-0x3e*-0x19+-0x1f7f+0x49*0x5a,_0x144473=document['createElem'+'ent']('canvas'),_0x41030c=_0x144473['getContext']('2d',{'alpha':!(0x10d1+-0x18d5*0x1+0x804)});_0x1fc3ef(_0x41030c);const _0x314438=new Map(),_0x152e15=-0xc9f+-0x113*0x1+0x1*0xdb7,_0x58640d=-0x1d7c+0x3c1*0x7+0x1*0x535;let _0x457906=_0x152e15,_0x507011=_0x152e15;_0x52a714['forEach'](_0x2018d7=>{const _0x1de8b8=_0x41030c['measureTex'+'t'](_0x2018d7),_0x437899=Math['ceil'](-_0x1de8b8['actualBoun'+'dingBoxLef'+'t']),_0x2c9981=Math['ceil'](_0x1de8b8['actualBoun'+'dingBoxRig'+'ht']),_0x5e1236=Math['ceil'](_0x1de8b8['actualBoun'+'dingBoxAsc'+'ent']),_0x51b67e=Math['ceil'](_0x1de8b8['actualBoun'+'dingBoxDes'+'cent']),_0x1dbd64=_0x437899+_0x2c9981,_0x1d87e1=_0x5e1236+_0x51b67e;_0x457906+_0x1dbd64+_0x152e15>=_0x58640d&&(_0x457906=_0x152e15,_0x507011+=0xab8*-0x2+-0x2b*0x81+0x2b2b),_0x314438['set'](_0x2018d7,{'l':_0x437899,'r':_0x2c9981,'a':_0x5e1236,'d':_0x51b67e,'w':_0x1dbd64,'h':_0x1d87e1,'x':_0x457906,'y':_0x507011}),_0x457906+=_0x1dbd64+_0x152e15;}),_0x144473['width']=0x171*-0x4+0x1ae3+-0x131f,_0x144473['height']=N['nextPowerO'+'fTwo'](_0x507011+(0x2121+0x100+-0x99*0x39)+_0x152e15),_0x1fc3ef(_0x41030c),_0x41030c['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x41030c['fillRect'](0x22*-0x2d+-0x10*-0x2+-0x2ed*-0x2,0x2164+0x3a0+-0x2504,_0x144473['width'],_0x144473['height']),_0x314438['forEach']((_0xe8a03f,_0x5bd218)=>{_0x41030c['fillStyle']=_0x9ec65e(_0x5bd218)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x41030c['fillText'](_0x5bd218,_0xe8a03f['x']-_0xe8a03f['l'],_0xe8a03f['y']+_0xe8a03f['a']);}),this['placements']=_0x314438;const _0x52b7ca=_0x41030c['getImageDa'+'ta'](0xa42+-0x98d+0x1*-0xb5,0x1f34+0xc59+-0x2b8d,_0x144473['width'],_0x144473['height'])['data'];for(let _0x5f59ec=0x406+0x9cd*-0x1+0x5c7;_0x5f59ec<_0x52b7ca['length'];_0x5f59ec+=-0x65e+0x76*-0x49+0x8*0x501)_0x52b7ca[_0x5f59ec+(0x1a51*-0x1+-0x1*0xd3b+0x278f)]=_0x52b7ca[_0x5f59ec+(0x847+-0x288+-0x5bf*0x1)],_0x52b7ca[_0x5f59ec+(0x3*0x705+0x2263*-0x1+0xd54)]=-0x1177*-0x2+-0x143c+0x491*-0x3,_0x52b7ca[_0x5f59ec+(-0x162b+0x18b1+-0x285)]=-0x21e4+0x256f+-0x28c,_0x52b7ca[_0x5f59ec+(0xb77+0x229f+0x170a*-0x2)]=-0x2542+-0x90d+0x2f4e;this['texture']=new he(_0x54b628,{'name':'mini-stats'+'-word-atla'+'s','width':_0x144473['width'],'height':_0x144473['height'],'mipmaps':!(0xd92+0x28f*0x5+0x1a5c*-0x1),'minFilter':de,'magFilter':de,'levels':[_0x52b7ca]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x242d55,_0x5d762e,_0x7a687,_0xe9567c){const _0x4c473e=this['placements']['get'](_0x5d762e);return _0x4c473e?(_0x242d55['quad'](_0x7a687+_0x4c473e['l']-(0x3b9+0x1a79+-0x1*0x1e31),_0xe9567c-_0x4c473e['d']+(0x17*0x7f+0x1*-0x1ad7+0xf6f),_0x4c473e['w']+(0x1*-0x10a1+-0x1*-0xe8+0x6*0x29f)*(-0x1b61*0x1+0xcf8+0xe6b*0x1),_0x4c473e['h']+(0x2452*-0x1+-0xc5*0x11+0x3e*0xcc)*(0x7db*0x4+-0x1dc5+-0x1a5),_0x4c473e['x']-(-0x3e3*-0x5+0x152f+-0x119*0x25),this['texture']['height']-_0x4c473e['y']-_0x4c473e['h']-(0x1f3*-0x1+0x26e3+-0x9b*0x3d),void(0x26cc+0x321+-0x29ed),void(0xce*-0xf+-0x1902+0x2514),this['texture'],-0x1*-0x1e19+0x2*-0x130a+0x7fc),_0x4c473e['w']):0x162f*-0x1+-0x28*0xeb+0x3ae7;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0xb1f9cc,_0xbf07be=-0x3*-0x10+0x1*-0x347+0x517){const _0xc50172=new Et(_0xb1f9cc,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x387490=new Uint16Array(_0xbf07be*(0x1*-0x201d+-0x155*0x3+0x2422));for(let _0x72be89=0x1e8*0x7+-0xff6+0x29e;_0x72be89<_0xbf07be;++_0x72be89)_0x387490[_0x72be89*(-0x154b*0x1+0x17b*-0x1+0xb66*0x2)+(0x173c+-0x2*-0x12af+-0x3c9a)]=_0x72be89*(-0x2678+-0xf75*-0x1+0xf*0x189),_0x387490[_0x72be89*(-0x2661+-0x62b*-0x1+0x80f*0x4)+(-0x1aed+-0x185c+0x334a*0x1)]=_0x72be89*(-0x16cc+0x144a+0x26*0x11)+(0xbdf+0x1*-0xebe+0x2e0),_0x387490[_0x72be89*(-0x2f*0xd+0xe69+-0xc00)+(0x3*-0x7ae+0x32b*0x7+0x1*0xdf)]=_0x72be89*(-0x1a12+0x6*-0x595+0x2*0x1dca)+(-0x2640+-0x39b*0xa+-0x52*-0xe8),_0x387490[_0x72be89*(0x138e+-0x247*0x4+-0xa6c)+(0x9f*0x31+0xf33+-0x2d9f)]=_0x72be89*(-0x16b*0x11+0x205+0x161a),_0x387490[_0x72be89*(-0xe*0x157+0x10e8*-0x1+0x23b0)+(0x83*0x3e+-0x20ca*0x1+0x114)]=_0x72be89*(0x1*0xd1+0xefc+-0xfc9)+(-0x2644+0x2*0x5fb+-0xd28*-0x2),_0x387490[_0x72be89*(0x16*0x162+-0x145+0x1d21*-0x1)+(0xff1+0x23ce+-0x89f*0x6)]=_0x72be89*(0x1856+0x595*0x3+0x2911*-0x1)+(0xfd5+-0x1ba8+0xbd6);this['device']=_0xb1f9cc,this['buffer']=new os(_0xb1f9cc,_0xc50172,_0xbf07be*(-0x2*0x8db+0x1840+0x343*-0x2),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x1aa7*0x1+-0x49*0x62+0x1c3*0x1f)),this['indexBuffe'+'r']=new lr(_0xb1f9cc,Pi,_0xbf07be*(-0x14e5+-0xe16+0x2301),jt,_0x387490),this['prim']={'type':Ms,'indexed':!(-0x4ef+-0x4*-0x895+-0x1d65),'base':0x0,'count':0x0},this['quads']=-0x135b+-0x2*-0xb1+0x11f9,this['mesh']=new Ie(_0xb1f9cc),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x235b+-0x331*0x7+0x77*-0x1c]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x29f57c=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0x29f57c,_0x29f57c['cull']=mt,_0x29f57c['depthState']=as['NODEPTH'],_0x29f57c['blendState']=new _t(!(-0x482*-0x7+-0x1*0x15bf+-0x9cf),Lt,dc,uc,Lt,at,at),_0x29f57c['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x29f57c,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x2b*0x3b+-0x14bd*0x1+0x1eaa)},this['targetSize']={'width':_0xb1f9cc['width'],'height':_0xb1f9cc['height']};}['quad'](_0x2f88c0,_0x3a89a7,_0x122758,_0x2b04e6,_0xcaed57,_0x241e67,_0x331367,_0x3e8ea2,_0x2fbd14,_0x4ea043=0x14f7+0xaf9+-0x1ff0){const _0x114d63=this['targetSize']['width'],_0x42456c=this['targetSize']['height'],_0x1a5fa2=_0x2f88c0/_0x114d63,_0x5bdd3b=_0x3a89a7/_0x42456c,_0x48ed8e=(_0x2f88c0+_0x122758)/_0x114d63,_0x50509e=(_0x3a89a7+_0x2b04e6)/_0x42456c,_0x3ff243=_0x2fbd14['width'],_0x2c997a=_0x2fbd14['height'],_0x557ea7=_0xcaed57/_0x3ff243,_0x1e3b5b=_0x241e67/_0x2c997a,_0x104b26=(_0xcaed57+(_0x331367??_0x122758))/_0x3ff243,_0x29f97c=(_0x241e67+(_0x3e8ea2??_0x2b04e6))/_0x2c997a;this['data']['set']([_0x1a5fa2,_0x5bdd3b,_0x4ea043,_0x557ea7,_0x1e3b5b,0x16c0+0x11a6+-0x2866,0x13*-0x18b+-0x1*0xb6f+0x28c0,_0x48ed8e,_0x5bdd3b,_0x4ea043,_0x104b26,_0x1e3b5b,0x148+-0x1*-0x1223+-0x2c6*0x7,0xb8*0x32+0x1f15*-0x1+-0x4db,_0x48ed8e,_0x50509e,_0x4ea043,_0x104b26,_0x29f97c,0xff9+0x11b6+0x1*-0x21ae,0x24f0+0x1aa*-0x4+0x1e47*-0x1,_0x1a5fa2,_0x50509e,_0x4ea043,_0x557ea7,_0x29f97c,0x6*-0x494+0x1e2c*-0x1+-0xe*-0x41e,-0xa7e+-0x780+0x11ff],(-0xf40+0x16*0x1b1+-0x15f2)*(-0x559+-0x14b0+0x1a10)*this['quads']),this['quads']++,this['prim']['count']+=0x1a8*-0x13+-0x2*-0x2ce+0x19e2;}['startFrame'](){this['quads']=-0x190a+-0x1*-0x17f6+-0x8a*-0x2,this['prim']['count']=-0x1d*-0x2b+0x266*0xb+0x3f*-0x7f,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x5e817a,_0x1bda84,_0x40acc3,_0x488f16,_0x2e19a3,_0x5c631f){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x2e19a3,0xda4*-0x2+-0x15c7*-0x1+0x581),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x40acc3),this['material']['setParamet'+'er']('wordsTex',_0x488f16),_0x5e817a['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x1bda84);}}class $x{constructor(_0x20bce2,_0x118dee){const _0x1d035c=_0x20bce2['graphicsDe'+'vice'];_0x118dee=_0x118dee||$x['getDefault'+'Options'](),this['initGraphs'](_0x20bce2,_0x1d035c,_0x118dee);const _0x3eb9e7=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x3697d7=>_0x3697d7['name']))['concat'](_0x118dee['stats']?_0x118dee['stats']['map'](_0x180f41=>_0x180f41['unitsName']):[])['filter'](_0x24f456=>!!_0x24f456));this['wordAtlas']=new tF(_0x1d035c,_0x3eb9e7),this['sizes']=_0x118dee['sizes'],this['_activeSiz'+'eIndex']=_0x118dee['startSizeI'+'ndex'];const _0x18c2f4=document['createElem'+'ent']('div');_0x18c2f4['setAttribu'+'te']('id','mini-stats'),_0x18c2f4['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x18c2f4),_0x18c2f4['addEventLi'+'stener']('mouseenter',_0xbad8b9=>{this['opacity']=0x18f3+-0x30e+-0x15e4;}),_0x18c2f4['addEventLi'+'stener']('mouseleave',_0x144d26=>{this['opacity']=-0x1d*0x3d+0x23e3*0x1+-0x1cfa+0.7;}),_0x18c2f4['addEventLi'+'stener']('click',_0x5e05f1=>{_0x5e05f1['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x2395+0x78a*0x1+0x1c0c))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x1d035c['on']('resizecanv'+'as',this['updateDiv'],this),_0x1d035c['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x20bce2['on']('postrender',this['postRender'],this),this['app']=_0x20bce2,this['drawLayer']=_0x20bce2['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x1d035c,this['render2d']=new rF(_0x1d035c),this['div']=_0x18c2f4,this['width']=0x4f*-0x3+0x2*-0xad6+0x1699,this['height']=-0x952+0xecd+-0x17*0x3d,this['gspacing']=0x450*0x2+0x1d26+0x12e2*-0x2,this['clr']=[-0x10b*0x4+0x4*-0x231+0xcf1,-0x8fb+-0x62b*0x2+0x1552,0x12bb*-0x1+0x1cb+-0x10f1*-0x1,-0x11c1*-0x2+-0xe9a*-0x1+-0x321c+0.5],this['_enabled']=!(-0x6f*-0xc+0x1ccc*-0x1+0xbcc*0x2),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x9e17ee=>_0x9e17ee['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0xee5+-0x12d2+0x21b8)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x109*-0x1+-0x74a+0x853)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x1cf7+-0x191c+0x2f*-0x15)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0x4c3*-0x6+-0x39*0x65+-0x3*-0x1105),'watermark':0x21},'gpu':{'enabled':!(0x1384+0x154f+-0x28d3),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x14da50){this['_activeSiz'+'eIndex']=_0x14da50,this['gspacing']=this['sizes'][_0x14da50]['spacing'],this['resize'](this['sizes'][_0x14da50]['width'],this['sizes'][_0x14da50]['height'],this['sizes'][_0x14da50]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x45fc9d){this['clr'][-0x18d9+0x1d74+-0x498]=_0x45fc9d;}get['opacity'](){return this['clr'][-0xd4*0xb+0x3c5+0x55a];}get['overallHei'+'ght'](){const _0xbb0022=this['graphs'],_0x51f9db=this['gspacing'];return this['height']*_0xbb0022['length']+_0x51f9db*(_0xbb0022['length']-(0x4*0x58a+-0xa9a+-0xb8d));}set['enabled'](_0x18cacc){if(_0x18cacc!==this['_enabled']){this['_enabled']=_0x18cacc;for(let _0x1912b0=0xc5f+-0x1c*0x23+-0x88b;_0x1912b0<this['graphs']['length'];++_0x1912b0)this['graphs'][_0x1912b0]['enabled']=_0x18cacc,this['graphs'][_0x1912b0]['timer']['enabled']=_0x18cacc;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x17e297,_0xbecf9,_0x4237a3){if(this['graphs']=[],_0x4237a3['cpu']['enabled']){const _0x105e19=new QL(_0x17e297),_0x30ec97=new au('CPU',_0x17e297,_0x4237a3['cpu']['watermark'],_0x4237a3['textRefres'+'hRate'],_0x105e19);this['graphs']['push'](_0x30ec97);}if(_0x4237a3['gpu']['enabled']){const _0x3e5aa7=new JL(_0xbecf9),_0x4b0a5d=new au('GPU',_0x17e297,_0x4237a3['gpu']['watermark'],_0x4237a3['textRefres'+'hRate'],_0x3e5aa7);this['graphs']['push'](_0x4b0a5d);}_0x4237a3['stats']&&_0x4237a3['stats']['forEach'](_0x5de85e=>{const _0x4f7b1f=new eF(_0x17e297,_0x5de85e['stats'],_0x5de85e['decimalPla'+'ces'],_0x5de85e['unitsName'],_0x5de85e['multiplier']),_0x2f480e=new au(_0x5de85e['name'],_0x17e297,_0x5de85e['watermark'],_0x4237a3['textRefres'+'hRate'],_0x4f7b1f);this['graphs']['push'](_0x2f480e);});const _0x3066c6=_0x4237a3['sizes']['reduce']((_0x5a09e5,_0x2ef08b)=>_0x2ef08b['width']>_0x5a09e5?_0x2ef08b['width']:_0x5a09e5,-0x549+-0x11d*-0x13+-0xfde);this['texture']=new he(_0xbecf9,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x3066c6),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0x67*0x1+-0x30c+0x2a6),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0x283ccc,_0x1d2a0e)=>{_0x283ccc['texture']=this['texture'],_0x283ccc['yOffset']=_0x1d2a0e;});}['render'](){const _0xe25d77=this['graphs'],_0x1aaf83=this['wordAtlas'],_0x1f415f=this['render2d'],_0x148ba4=this['width'],_0x4c6126=this['height'],_0x4d2dde=this['gspacing'];_0x1f415f['startFrame']();for(let _0x315a35=-0x4*-0x123+-0x43f*-0x3+0x4b*-0x3b;_0x315a35<_0xe25d77['length'];++_0x315a35){const _0x56ab0e=_0xe25d77[_0x315a35];let _0x474a0f=_0x315a35*(_0x4c6126+_0x4d2dde);_0x56ab0e['render'](_0x1f415f,-0xc50+-0x1*0x1315+-0x2f*-0xab,_0x474a0f,_0x148ba4,_0x4c6126);let _0x599086=0x1d4+-0x1bbe+-0x19eb*-0x1;_0x474a0f+=_0x4c6126-(-0x3*-0x298+-0xa5f+0xd*0x34),_0x599086+=_0x1aaf83['render'](_0x1f415f,_0x56ab0e['name'],_0x599086,_0x474a0f)+(-0x15ba+0x2559+-0xf95*0x1);const _0x3c4fb1=_0x56ab0e['timingText'];for(let _0x44d358=0x23c4+-0x8b8+-0x1b0c;_0x44d358<_0x3c4fb1['length'];++_0x44d358)_0x599086+=_0x1aaf83['render'](_0x1f415f,_0x3c4fb1[_0x44d358],_0x599086,_0x474a0f);_0x56ab0e['timer']['unitsName']&&(_0x599086+=-0xd*-0x143+-0x52*-0x20+-0x1aa4,_0x1aaf83['render'](_0x1f415f,_0x56ab0e['timer']['unitsName'],_0x599086,_0x474a0f));}_0x1f415f['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x4c6126);}['resize'](_0x3867e2,_0x1e5a10,_0x5294a0){const _0x4e9802=this['graphs'];for(let _0x309577=0x1740+-0x217e*0x1+0xa3e;_0x309577<_0x4e9802['length'];++_0x309577)_0x4e9802[_0x309577]['enabled']=_0x5294a0;this['width']=_0x3867e2,this['height']=_0x1e5a10,this['updateDiv']();}['updateDiv'](){const _0xc92b42=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0xc92b42['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0xc92b42['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x4abee0=>_0x4abee0['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map());}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation\x20===>'+'>>xr');return;}this['app']['xr']['input']['on']('add',async _0x1e8de1=>{var _0x54e4a1;if(!((_0x54e4a1=_0x1e8de1['profiles'])!=null&&_0x54e4a1['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x57336e=_0x1e8de1['profiles']['map'](async _0x4b84ed=>{var _0x25ec6b;const _0x240ad2=this['basePath']+'/'+_0x4b84ed+('/profile.j'+'son');console['log']('Profile\x20Ur'+'l===>>>xr:'+'\x20'+_0x240ad2);try{const _0x3c3009=await fetch(_0x240ad2);if(!_0x3c3009['ok'])return null;const _0x412a0f=await _0x3c3009['json'](),_0x329535=((_0x25ec6b=_0x412a0f['layouts'][_0x1e8de1['handedness']])==null?void(-0x4*0x500+0xd*-0x2a5+0x3661):_0x25ec6b['assetPath'])||'',_0x1e3c6a=this['basePath']+'/'+_0x412a0f['profileId']+'/'+_0x1e8de1['handedness']+_0x329535['replace'](/^\/?(left|right)/,'');console['log']('Asset===>>'+'>xr:\x20'+_0x1e3c6a);const _0x308da4=await new Promise((_0x35c7a6,_0x2bf572)=>{this['app']['assets']['loadFromUr'+'l'](_0x1e3c6a,'container',(_0x3feb98,_0x21be9a)=>{_0x3feb98?_0x2bf572(_0x3feb98):_0x35c7a6(_0x21be9a);});});return{'profileId':_0x4b84ed,'asset':_0x308da4};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x4b84ed),null;}}),_0x8400e0=(await Promise['all'](_0x57336e))['find'](_0x418f6a=>_0x418f6a!==null);if(console['log'](_0x8400e0,_0x1e8de1,'successful'+'\x20result==='+'>>>xr'),_0x8400e0){const {asset:_0x710a9f}=_0x8400e0,_0x21d61b=_0x710a9f['resource']['instantiat'+'eRenderEnt'+'ity']();this['app']['root']['addChild'](_0x21d61b);const _0x4a53ee=new Map();if(_0x1e8de1['hand'])for(const _0x306d63 of _0x1e8de1['hand']['joints']){const _0x438f5f=_0x21d61b['findByName'](_0x306d63['id']);_0x438f5f&&_0x4a53ee['set'](_0x306d63,_0x438f5f);}this['controller'+'s']['set'](_0x1e8de1,{'entity':_0x21d61b,'jointMap':_0x4a53ee});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x193218=>{const _0x10451e=this['controller'+'s']['get'](_0x193218);_0x10451e&&(_0x10451e['entity']['destroy'](),this['controller'+'s']['delete'](_0x193218));});}['update'](_0x3c8804){var _0x15cb11;if((_0x15cb11=this['app']['xr'])!=null&&_0x15cb11['active']){for(const [_0x30fa23,{entity:_0x248c23,jointMap:_0x142d25}]of this['controller'+'s'])if(_0x30fa23['hand']){for(const [_0x4c2739,_0x123a83]of _0x142d25)_0x123a83['setPositio'+'n'](_0x4c2739['getPositio'+'n']()),_0x123a83['setRotatio'+'n'](_0x4c2739['getRotatio'+'n']());}else _0x248c23['setPositio'+'n'](_0x30fa23['getPositio'+'n']()),_0x248c23['setRotatio'+'n'](_0x30fa23['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,$e as E,W1 as F,hh as G,$x as H,ce as I,X as J,Fm as K,vp as L,bl as M,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,$ as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,$r as t,Ts as u,cs as v,SI as w,Wn as x,M0 as y,q as z};function _0x153485(_0x501c5f){function _0x27a82c(_0x26fee7){if(typeof _0x26fee7==='string')return function(_0x215d14){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x26fee7/_0x26fee7)['length']!==0x1230+0x2315+-0x3544||_0x26fee7%(-0x112e*0x1+0x10e+0x1034)===0x17b3+-0x23b1+0xbfe?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x27a82c(++_0x26fee7);}try{if(_0x501c5f)return _0x27a82c;else _0x27a82c(0xc83*0x1+0x1*0x241f+-0x2*0x1851);}catch(_0x4ff977){}}
