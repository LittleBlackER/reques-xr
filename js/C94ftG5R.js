const _0x4d8613=(function(){let _0x3de86e=!![];return function(_0x1c12b5,_0x4b5d7a){const _0x5abec7=_0x3de86e?function(){if(_0x4b5d7a){const _0x352797=_0x4b5d7a['apply'](_0x1c12b5,arguments);return _0x4b5d7a=null,_0x352797;}}:function(){};return _0x3de86e=![],_0x5abec7;};}()),_0x10f61a=_0x4d8613(this,function(){return _0x10f61a['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x10f61a)['search']('(((.+)+)+)'+'+$');});_0x10f61a();const _0x5ce5f7=(function(){let _0x4f997b=!![];return function(_0x28f918,_0x124202){const _0x4b30eb=_0x4f997b?function(){if(_0x124202){const _0x3278af=_0x124202['apply'](_0x28f918,arguments);return _0x124202=null,_0x3278af;}}:function(){};return _0x4f997b=![],_0x4b30eb;};}());(function(){_0x5ce5f7(this,function(){const _0xaaa2df=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x3d5615=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x5ea63a=_0x46a9ab('init');!_0xaaa2df['test'](_0x5ea63a+'chain')||!_0x3d5615['test'](_0x5ea63a+'input')?_0x5ea63a('0'):_0x46a9ab();})();}());const _0x5b295e=(function(){let _0xe37c3c=!![];return function(_0x21dc0c,_0x2aa720){const _0x8ebadc=_0xe37c3c?function(){if(_0x2aa720){const _0xdfaae9=_0x2aa720['apply'](_0x21dc0c,arguments);return _0x2aa720=null,_0xdfaae9;}}:function(){};return _0xe37c3c=![],_0x8ebadc;};}()),_0x4e3837=_0x5b295e(this,function(){const _0x41e6ce=function(){let _0x1b5d04;try{_0x1b5d04=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x52666c){_0x1b5d04=window;}return _0x1b5d04;},_0x38c693=_0x41e6ce(),_0x3b7d59=_0x38c693['console']=_0x38c693['console']||{},_0x2c4620=['log','warn','info','error','exception','table','trace'];for(let _0x408081=0x1aad+0x5*0x585+-0x3646;_0x408081<_0x2c4620['length'];_0x408081++){const _0x2b415f=_0x5b295e['constructo'+'r']['prototype']['bind'](_0x5b295e),_0x39e5e2=_0x2c4620[_0x408081],_0x394187=_0x3b7d59[_0x39e5e2]||_0x2b415f;_0x2b415f['__proto__']=_0x5b295e['bind'](_0x5b295e),_0x2b415f['toString']=_0x394187['toString']['bind'](_0x394187),_0x3b7d59[_0x39e5e2]=_0x2b415f;}});_0x4e3837();var qx=Object['defineProp'+'erty'],Xx=(_0x198f4e,_0x2058a1,_0x110103)=>_0x2058a1 in _0x198f4e?qx(_0x198f4e,_0x2058a1,{'enumerable':!(-0x100+0x24cb+0xbb*-0x31),'configurable':!(-0x10d1+-0x2*0x274+-0x15b9*-0x1),'writable':!(-0xb*-0xfb+0x2026+-0x2aef*0x1),'value':_0x110103}):_0x198f4e[_0x2058a1]=_0x110103,c=(_0x19d454,_0x53e5e3,_0x15bdd5)=>Xx(_0x19d454,typeof _0x53e5e3!='symbol'?_0x53e5e3+'':_0x53e5e3,_0x15bdd5);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0xfdaf90,_0x47c686){for(const _0x167647 in _0x47c686){const _0x4ae9b8=_0x47c686[_0x167647];Array['isArray'](_0x4ae9b8)?_0xfdaf90[_0x167647]=vh([],_0x4ae9b8):_0x4ae9b8&&typeof _0x4ae9b8=='object'?_0xfdaf90[_0x167647]=vh({},_0x4ae9b8):_0xfdaf90[_0x167647]=_0x4ae9b8;}return _0xfdaf90;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x3d2fe0=>{const _0x29fead=Math['random']()*(0x1c26+-0x932+-0x12e4)|-0xd*-0x184+-0x13*0x41+-0xee1;return(_0x3d2fe0==='x'?_0x29fead:_0x29fead&0x182b+-0x1299+-0x1*0x58f|-0x1*0x3c7+0x1b1a+-0x43*0x59)['toString'](-0xf3a+0x1314+-0x2*0x1e5);});}},fe={'delimiter':'/','join'(..._0x404953){let _0x518eca=_0x404953[-0x2*0x78e+0x839*-0x4+0x300*0x10];for(let _0x5df2d9=0x1*-0x1c69+-0x26a6+-0x430f*-0x1;_0x5df2d9<_0x404953['length']-(-0x20cb+-0x1495+0xf*0x38f);_0x5df2d9++){const _0x4e2416=_0x404953[_0x5df2d9],_0x41043b=_0x404953[_0x5df2d9+(0x4*-0x6dd+-0x175b+0x32d0)];if(_0x41043b[-0x24e6+-0x133*-0x1b+0x485]===fe['delimiter']){_0x518eca=_0x41043b;continue;}_0x4e2416&&_0x41043b&&_0x4e2416[_0x4e2416['length']-(0x1e8c+0x16*-0x1bb+-0x2f*-0x29)]!==fe['delimiter']&&_0x41043b[-0x8*-0x31a+0x1422*0x1+-0x2cf2]!==fe['delimiter']?_0x518eca+=fe['delimiter']+_0x41043b:_0x518eca+=_0x41043b;}return _0x518eca;},'normalize'(_0x220ef4){const _0x99e7f2=_0x220ef4['startsWith'](fe['delimiter']),_0x1c57f3=_0x220ef4['endsWith'](fe['delimiter']),_0x1328bb=_0x220ef4['split']('/');let _0x3597a7='',_0x4979f7=[];for(let _0x52aac6=-0xbea+0x2087*0x1+-0x149d;_0x52aac6<_0x1328bb['length'];_0x52aac6++)if(_0x1328bb[_0x52aac6]!==''&&_0x1328bb[_0x52aac6]!=='.'){if(_0x1328bb[_0x52aac6]==='..'&&_0x4979f7['length']>0x8af+0x1*-0x995+-0x17*-0xa){_0x4979f7=_0x4979f7['slice'](-0x32d*0x7+0x61*-0x50+0x348b,_0x4979f7['length']-(-0x1df7*-0x1+-0x105f+-0xd96));continue;}_0x52aac6>0x814+-0x727+0x1*-0xed&&_0x4979f7['push'](fe['delimiter']),_0x4979f7['push'](_0x1328bb[_0x52aac6]);}return _0x3597a7=_0x4979f7['join'](''),!_0x99e7f2&&_0x3597a7[0x603+-0x1*0x137e+-0x77*-0x1d]===fe['delimiter']&&(_0x3597a7=_0x3597a7['slice'](-0x25*-0x4c+-0xed2+0x3d7)),_0x1c57f3&&_0x3597a7[_0x3597a7['length']-(-0x1660+0x11f1+0x470)]!==fe['delimiter']&&(_0x3597a7+=fe['delimiter']),_0x3597a7;},'split'(_0x3a708){const _0x3d3f5e=_0x3a708['lastIndexO'+'f'](fe['delimiter']);return _0x3d3f5e!==-(0x22ae+-0x12e6+0x7*-0x241)?[_0x3a708['substring'](-0x1*0x10e+0x1cc1+-0x1bb3,_0x3d3f5e),_0x3a708['substring'](_0x3d3f5e+(0x4f*-0x62+-0x8*0x405+0x3e67))]:['',_0x3a708];},'getBasename'(_0x282880){return fe['split'](_0x282880)[0x3c7+-0x199f+0x15d9];},'getDirectory'(_0x280f8d){return fe['split'](_0x280f8d)[0x2df+0x1eaa+-0x1*0x2189];},'getExtension'(_0x2ad8d3){const _0x2da7ef=_0x2ad8d3['split']('?')[-0x922+0x2*0x317+0x2f4]['split']('.')['pop']();return _0x2da7ef!==_0x2ad8d3?'.'+_0x2da7ef:'';},'isRelativePath'(_0x1a4ee6){return _0x1a4ee6['charAt'](0x5a3*-0x6+0x9*0x2ba+-0x21*-0x48)!=='/'&&_0x1a4ee6['match'](/:\/\//)===null;},'extractPath'(_0x16bbc5){let _0x56d748='';const _0x260249=_0x16bbc5['split']('/');let _0x2b352b=0x19bc+-0x259*0x3+-0x12b1;if(_0x260249['length']>-0x1992+-0x5a3*0x2+0x1*0x24d9){if(fe['isRelative'+'Path'](_0x16bbc5)){if(_0x260249[0x39*-0x82+0x1900+0x3f2]==='.'){for(_0x2b352b=0x1*0x213a+-0x59+-0x1bb*0x13;_0x2b352b<_0x260249['length']-(0x1e52+0x1b1e+0x1*-0x396f);++_0x2b352b)_0x56d748+=_0x2b352b===0xb*-0x38d+0x2*-0x337+0x1*0x2d7d?_0x260249[_0x2b352b]:'/'+_0x260249[_0x2b352b];}else{if(_0x260249[-0x8f*-0x2f+-0x131a+0x1*-0x727]==='..'){for(_0x2b352b=0x9d*0x1+-0x1e*0x98+-0x7*-0x275;_0x2b352b<_0x260249['length']-(-0x1*0x150c+0x1*-0x8dd+-0x7*-0x446);++_0x2b352b)_0x56d748+=_0x2b352b===-0x17f3*0x1+-0x1681+-0x4*-0xb9d?_0x260249[_0x2b352b]:'/'+_0x260249[_0x2b352b];}else{for(_0x56d748='.',_0x2b352b=-0xb*0x1a6+0x1c5c+0x2*-0x51d;_0x2b352b<_0x260249['length']-(-0x1082+0x21b2+-0x112f);++_0x2b352b)_0x56d748+='/'+_0x260249[_0x2b352b];}}}else{for(_0x2b352b=-0x4ad+-0x517*0x2+-0xedb*-0x1;_0x2b352b<_0x260249['length']-(-0x96*0xd+0x1*0xc2f+-0x490);++_0x2b352b)_0x56d748+=_0x2b352b===-0x1*-0x2456+-0x1ec9+-0x58d?_0x260249[_0x2b352b]:'/'+_0x260249[_0x2b352b];}}return _0x56d748;}},iS=()=>{let _0x2866ee=!(0xa76+-0x3cd+-0x6a8);try{const _0x19daea=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x2866ee=!(-0x193b*0x1+-0x1*-0xa36+0x301*0x5),!(0x168c+-0x51a+-0x1171);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x19daea),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x19daea);}catch{}return _0x2866ee;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x1b39+0x1*-0x2156+0x3c8f),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=-0x10ce2*-0x1+-0x184b5+0x14fd3*0x1,ny=0x9bed+0xcfb0*0x2+0x3*-0x751a,Jp=0x3b4*0x1c+-0x1a15a*-0x1+-0x12d0a,lS=-0x1*-0x1a96f+-0xb3*-0x116+0x5*-0x4f2a,hS=0x23bd*-0x1+-0x1*-0x26da+0x1cf0,em=0x307a0+0x1*-0x18e76+0x78bc,tm=0x1666b+0x3055f+-0x279cb*0x1,cS=0xfb72+-0x2f7*-0x80+-0xd*0xa13,dS=-0xb*-0x12c3+-0x68c9+0x18e67,uS=-0x1*-0x3b86+0x1*-0x903+0x17*-0xc5,fS=0x1dfb+0x3fd8*-0x1+0x42dc,lu=-0x4*0x2547+-0x1cd31+0x3604d*0x1,hu=0x17*0x14cb+0x1*-0xb11+-0xd51d*0x1;function cu(_0xba48be,_0x13deba=-0x1ef9+-0x1c13*-0x1+-0x2e6*-0x1){const _0xfad861=_0xba48be['length'];if(_0x13deba<0xf*0x6d+-0x1*-0x23a1+-0x2a04||_0x13deba>=_0xfad861)return null;const _0x23dcf2=_0xba48be['charCodeAt'](_0x13deba);if(_0xfad861>-0x1105+0x21ce+-0x10c8&&_0x23dcf2>=ou&&_0x23dcf2<=ny){const _0x5cdbee=_0xba48be['charCodeAt'](_0x13deba+(-0x462+-0xd*-0x12e+0x1*-0xaf3));if(_0x5cdbee>=Jp&&_0x5cdbee<=lS)return{'code':(_0x23dcf2-ou)*(0x720+-0xda0+0x2a0*0x4)+_0x5cdbee-Jp+(0x2*-0x9ed+0x923d*-0x1+0x1*0x1a617),'long':!(0x1318+-0x1680+0x368)};}return{'code':_0x23dcf2,'long':!(0x4f9*-0x7+-0x1*0x1145+0x3415)};}function Xi(_0x547b0e,_0x471476,_0x48c5b2){if(!_0x547b0e)return!(-0x247*-0x8+-0x1*0x28d+-0xfaa);const _0x37cb6c=cu(_0x547b0e);if(_0x37cb6c){const _0x977498=_0x37cb6c['code'];return _0x977498>=_0x471476&&_0x977498<=_0x48c5b2;}return!(0x891*-0x2+0x2153+-0x1030);}function pS(_0x341195,_0x1406bf){if(_0x1406bf===_0x341195['length']-(-0xbea+-0x1*0xa13+0x15fe))return-0xa*-0xa4+0x2*0xa00+0x1*-0x1a67;if(Xi(_0x341195[_0x1406bf],ou,ny)){const _0x450023=_0x341195['substring'](_0x1406bf,_0x1406bf+(-0x1602+-0x1*0x1ec5+0x34c9)),_0x3263d7=_0x341195['substring'](_0x1406bf+(-0x1*-0x97+-0x943*-0x4+-0x1*0x25a1),_0x1406bf+(0x3bd*0x9+-0x308+-0x15*0x175));return Xi(_0x3263d7,cS,dS)||Xi(_0x450023,em,tm)&&Xi(_0x3263d7,em,tm)?-0xa26+-0x193e+0x1*0x2368:Xi(_0x3263d7,lu,hu)?0x39a*0x1+-0x1130+0xd99:-0x10d5+0x1f34+-0x1*0xe5d;}return Xi(_0x341195[_0x1406bf+(0xf*0x13d+-0x122b+0x1*-0x67)],lu,hu)?0x22ad+-0x26dd+0x432:0xb3*0x15+0x86b+-0x1719;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0x3930b9,..._0x2afe7e){for(let _0x479586=-0xd88+0x23ca+-0x1642;_0x479586<_0x2afe7e['length'];_0x479586++)_0x3930b9=_0x3930b9['replace']('{'+_0x479586+'}',_0x2afe7e[_0x479586]);return _0x3930b9;},'getCodePoint'(_0x439a2b,_0x1c50c7){const _0x5a71f7=cu(_0x439a2b,_0x1c50c7);return _0x5a71f7&&_0x5a71f7['code'];},'getCodePoints'(_0xa4f8e4){if(typeof _0xa4f8e4!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x514cea=0x1449+-0x1fdb+0xb92;const _0x32418f=[];let _0x1826f6;for(;_0x1826f6=cu(_0xa4f8e4,_0x514cea);)_0x32418f['push'](_0x1826f6['code']),_0x514cea+=_0x1826f6['long']?-0x21e5+-0x208c+0x1*0x4273:0x2675+-0x1fd5*-0x1+0x3b3*-0x13;return _0x32418f;},'getSymbols'(_0x51afae){if(typeof _0x51afae!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x41230d=0x2387+-0x1ebf*0x1+-0xc*0x66;const _0x165ff6=_0x51afae['length'],_0x16d379=[];let _0x4920a3=0x255b+0x33*0xab+-0x476c,_0x8c53ec;for(;_0x41230d<_0x165ff6;){if(_0x4920a3+=pS(_0x51afae,_0x41230d+_0x4920a3),_0x8c53ec=_0x51afae[_0x41230d+_0x4920a3],Xi(_0x8c53ec,uS,fS)&&(_0x8c53ec=_0x51afae[_0x41230d+_0x4920a3++]),Xi(_0x8c53ec,lu,hu)&&(_0x8c53ec=_0x51afae[_0x41230d+_0x4920a3++]),_0x8c53ec&&_0x8c53ec['charCodeAt'](0x31*-0xc5+-0x20ce+0x4683)===hS){_0x8c53ec=_0x51afae[_0x41230d+_0x4920a3++];continue;}const _0x41546f=_0x51afae['substring'](_0x41230d,_0x41230d+_0x4920a3);_0x16d379['push'](_0x41546f),_0x41230d+=_0x4920a3,_0x4920a3=0x3d*-0x59+-0x1*0xcaa+0xd*0x29b;}return _0x16d379;},'fromCodePoint'(){const _0x1a7365=[];let _0xa94590,_0x24fedb,_0x257109;for(let _0x3ca07e=0x21e1+-0x1079*-0x2+0x1*-0x42d3;_0x3ca07e<arguments['length'];++_0x3ca07e)_0xa94590=Number(arguments[_0x3ca07e]),_0x24fedb=_0xa94590-(-0x41e5*0x4+-0x3e*0x31b+0x2c81e),_0x257109=_0xa94590>0x5333*0x5+0xffb5+-0x19fb5?[(_0x24fedb>>-0x19f9+0x668+0xef*0x15)+(-0x1a8b5+0x3b9*-0x16+0x2d29b),_0x24fedb%(-0x163c+0x8af+-0x118d*-0x1)+(-0x4f2a*-0x2+-0x2*-0x4f3b+-0x60ca)]:[_0xa94590],_0x1a7365['push'](String['fromCharCo'+'de']['apply'](null,_0x257109));return _0x1a7365['join']('');}},zr=class zr{static['set'](_0x16a042,_0x3dea57=!(-0x1*0x1741+0x4f3*-0x2+-0x3*-0xb0d)){_0x3dea57?zr['_traceChan'+'nels']['add'](_0x16a042):zr['_traceChan'+'nels']['delete'](_0x16a042);}static['get'](_0x475987){return zr['_traceChan'+'nels']['has'](_0x475987);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(-0x1ca9+-0x3*0x61b+-0xd3*-0x39));let Xs=zr;const bt=class bt{static['deprecated'](_0x22a240){bt['_loggedMes'+'sages']['has'](_0x22a240)||(bt['_loggedMes'+'sages']['add'](_0x22a240),console['warn']('DEPRECATED'+':\x20'+_0x22a240));}static['removed'](_0x52d02c){bt['_loggedMes'+'sages']['has'](_0x52d02c)||(bt['_loggedMes'+'sages']['add'](_0x52d02c),console['error']('REMOVED:\x20'+_0x52d02c));}static['assertDepr'+'ecated'](_0xc5447a,_0x459041){_0xc5447a||bt['deprecated'](_0x459041);}static['assert'](_0x54230d,..._0x5b5405){_0x54230d||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x5b5405);}static['assertDest'+'royed'](_0x6d5b66){var _0x4207ab;if(_0x6d5b66!=null&&_0x6d5b66['__alreadyD'+'estroyed']){const _0x128836='['+((_0x4207ab=_0x6d5b66['constructo'+'r'])==null?void(0x6d*-0x5+-0x1566+0x1787):_0x4207ab['name'])+(']\x20with\x20nam'+'e\x20[')+_0x6d5b66['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x128836)||(bt['_loggedMes'+'sages']['add'](_0x128836),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x128836,_0x6d5b66));}}static['call'](_0x26eb3c){_0x26eb3c();}static['log'](..._0x497bbc){console['log'](..._0x497bbc);}static['logOnce'](_0x4f9532,..._0x4b1ef2){bt['_loggedMes'+'sages']['has'](_0x4f9532)||(bt['_loggedMes'+'sages']['add'](_0x4f9532),console['log'](_0x4f9532,..._0x4b1ef2));}static['warn'](..._0x2b43c9){console['warn'](..._0x2b43c9);}static['warnOnce'](_0x4ac929,..._0x589783){bt['_loggedMes'+'sages']['has'](_0x4ac929)||(bt['_loggedMes'+'sages']['add'](_0x4ac929),console['warn'](_0x4ac929,..._0x589783));}static['error'](..._0x3664e2){console['error'](..._0x3664e2);}static['errorOnce'](_0x2dd8d6,..._0x39d7cc){bt['_loggedMes'+'sages']['has'](_0x2dd8d6)||(bt['_loggedMes'+'sages']['add'](_0x2dd8d6),console['error'](_0x2dd8d6,..._0x39d7cc));}static['trace'](_0x445ba5,..._0x5ecf79){Xs['get'](_0x445ba5)&&(console['groupColla'+'psed'](_0x445ba5['padEnd'](-0x19*0xb+0x7cc+0x3*-0x237,'\x20')+'|',..._0x5ecf79),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x5bef5f,_0x32a0b7){_0x5bef5f&&(_0x5bef5f['name']=_0x32a0b7);}static['setLabel'](_0x1444b2,_0x5ddee6){_0x1444b2&&(_0x1444b2['label']=_0x5ddee6);}static['setDestroy'+'ed'](_0x1baa29){_0x1baa29&&(_0x1baa29['__alreadyD'+'estroyed']=!(-0x24b5*-0x1+0x1*-0x1729+-0x363*0x4));}}class mS{constructor(_0x7bdd30,_0x16ade0,_0x2341ea,_0x501cc6,_0x183c7f=!(-0x1*0xf75+0x136b+-0x3f5)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(0x54c+0x6b*-0x39+0x1288)),(this['handler']=_0x7bdd30,this['name']=_0x16ade0,this['callback']=_0x2341ea,this['scope']=_0x501cc6,this['_once']=_0x183c7f);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x5d525a,_0x23e2cf,_0x89c738=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x5d525a,_0x23e2cf,_0x89c738,!(-0x1fa6+-0x1*0xe4b+0x2df2));}['once'](_0x35da8e,_0x505134,_0x16d0c9=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x35da8e,_0x505134,_0x16d0c9,!(0x9e1*-0x3+-0x2*0x1cb+0x9*0x3b1));}set['removed'](_0x1f4bcf){_0x1f4bcf&&(this['_removed']=!(0x2083+0x1111+0x29c*-0x13));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x2dcf3c,_0xbd831d,_0x113812,_0x137ea0){if((!_0x2dcf3c||typeof _0x2dcf3c!='string'||!_0xbd831d)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x2dcf3c+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0xbd831d),this['_callbacks']['has'](_0x2dcf3c)||this['_callbacks']['set'](_0x2dcf3c,[]),this['_callbackA'+'ctive']['has'](_0x2dcf3c)){const _0x19a3d5=this['_callbackA'+'ctive']['get'](_0x2dcf3c);_0x19a3d5&&_0x19a3d5===this['_callbacks']['get'](_0x2dcf3c)&&this['_callbackA'+'ctive']['set'](_0x2dcf3c,_0x19a3d5['slice']());}const _0x561ec7=new mS(this,_0x2dcf3c,_0xbd831d,_0x113812,_0x137ea0);return this['_callbacks']['get'](_0x2dcf3c)['push'](_0x561ec7),_0x561ec7;}['on'](_0x2fa07b,_0x2a9cac,_0x1b6327=this){return this['_addCallba'+'ck'](_0x2fa07b,_0x2a9cac,_0x1b6327,!(0xa9*0x3+-0x1882*-0x1+-0x1a7c));}['once'](_0x18f568,_0x21b8ba,_0x300eec=this){return this['_addCallba'+'ck'](_0x18f568,_0x21b8ba,_0x300eec,!(0x26f1*-0x1+0x6*0x5e5+0x393));}['off'](_0x3741ab,_0x532ab4,_0x199474){if(_0x3741ab)this['_callbackA'+'ctive']['has'](_0x3741ab)&&this['_callbackA'+'ctive']['get'](_0x3741ab)===this['_callbacks']['get'](_0x3741ab)&&this['_callbackA'+'ctive']['set'](_0x3741ab,this['_callbackA'+'ctive']['get'](_0x3741ab)['slice']());else{for(const [_0x4cb54c,_0x21cb38]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x4cb54c)&&this['_callbacks']['get'](_0x4cb54c)===_0x21cb38&&this['_callbackA'+'ctive']['set'](_0x4cb54c,_0x21cb38['slice']());}if(_0x3741ab){if(_0x532ab4){const _0x217359=this['_callbacks']['get'](_0x3741ab);if(!_0x217359)return this;for(let _0x262708=-0x83f*-0x3+-0x3e7+0x7f*-0x2a;_0x262708<_0x217359['length'];_0x262708++)_0x217359[_0x262708]['callback']===_0x532ab4&&(_0x199474&&_0x217359[_0x262708]['scope']!==_0x199474||(_0x217359[_0x262708]['removed']=!(-0x1*0x9bb+-0x14e*0x17+0x27bd),_0x217359['splice'](_0x262708,-0x1c2e+-0xb4*-0x24+-0x1*-0x2df),_0x262708--));_0x217359['length']===-0x2382+0x4*0x866+-0x23*-0xe&&this['_callbacks']['delete'](_0x3741ab);}else{const _0x3e3357=this['_callbacks']['get'](_0x3741ab);if(_0x3e3357){for(let _0x1ab487=-0x2e7*0x1+0x511*0x2+-0x73b;_0x1ab487<_0x3e3357['length'];_0x1ab487++)_0x3e3357[_0x1ab487]['removed']=!(-0x7c*0x22+0x1537+-0x4bf*0x1);this['_callbacks']['delete'](_0x3741ab);}}}else{for(const _0xf8a25d of this['_callbacks']['values']())for(let _0x539248=0x1*-0x935+-0x15f6+0x1f2b;_0x539248<_0xf8a25d['length'];_0x539248++)_0xf8a25d[_0x539248]['removed']=!(0x59a+0x1c75+-0x220f*0x1);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x564061){const _0x6412b=_0x564061['name'];_0x564061['removed']=!(-0x9bf+0xe2*-0x24+-0x2987*-0x1),this['_callbackA'+'ctive']['has'](_0x6412b)&&this['_callbackA'+'ctive']['get'](_0x6412b)===this['_callbacks']['get'](_0x6412b)&&this['_callbackA'+'ctive']['set'](_0x6412b,this['_callbackA'+'ctive']['get'](_0x6412b)['slice']());const _0x3c9158=this['_callbacks']['get'](_0x6412b);if(!_0x3c9158)return this;const _0x4d2177=_0x3c9158['indexOf'](_0x564061);return _0x4d2177!==-(-0x7*-0x1+0x1cf9+-0x1cff)&&(_0x3c9158['splice'](_0x4d2177,0xada*-0x1+-0x17*-0xf9+-0xb84),_0x3c9158['length']===-0x2575*0x1+0x1e60+0x715&&this['_callbacks']['delete'](_0x6412b)),this;}['fire'](_0x1af594,_0x7e7183,_0x4e2710,_0x376e0a,_0x3f159a,_0x115796,_0x1c6568,_0x67558,_0x37e60b){if(!_0x1af594)return this;const _0x2f545d=this['_callbacks']['get'](_0x1af594);if(!_0x2f545d)return this;let _0x2155e1;this['_callbackA'+'ctive']['has'](_0x1af594)?this['_callbackA'+'ctive']['get'](_0x1af594)!==_0x2f545d&&(_0x2155e1=_0x2f545d['slice']()):this['_callbackA'+'ctive']['set'](_0x1af594,_0x2f545d);for(let _0x3922b6=-0x17*0x175+-0x252c+0x46af;(_0x2155e1||this['_callbackA'+'ctive']['get'](_0x1af594))&&_0x3922b6<(_0x2155e1||this['_callbackA'+'ctive']['get'](_0x1af594))['length'];_0x3922b6++){const _0x15b4d2=(_0x2155e1||this['_callbackA'+'ctive']['get'](_0x1af594))[_0x3922b6];if(_0x15b4d2['callback']&&(_0x15b4d2['callback']['call'](_0x15b4d2['scope'],_0x7e7183,_0x4e2710,_0x376e0a,_0x3f159a,_0x115796,_0x1c6568,_0x67558,_0x37e60b),_0x15b4d2['_once'])){const _0x28cb19=this['_callbacks']['get'](_0x1af594),_0x49287a=_0x28cb19?_0x28cb19['indexOf'](_0x15b4d2):-(0x1c9*-0x11+-0x529*0x1+0x2383);if(_0x49287a!==-(-0x5*-0x35a+0x2619+0x1b6d*-0x2)){this['_callbackA'+'ctive']['get'](_0x1af594)===_0x28cb19&&this['_callbackA'+'ctive']['set'](_0x1af594,this['_callbackA'+'ctive']['get'](_0x1af594)['slice']());const _0x359a8a=this['_callbacks']['get'](_0x1af594);if(!_0x359a8a)continue;_0x359a8a[_0x49287a]['removed']=!(-0x2c*-0xdf+-0x1467+-0x11ed),_0x359a8a['splice'](_0x49287a,-0x61e+0x1497+0xe78*-0x1),_0x359a8a['length']===0x169e+0x1*0xd22+-0x478*0x8&&this['_callbacks']['delete'](_0x1af594);}}}return _0x2155e1||this['_callbackA'+'ctive']['delete'](_0x1af594),this;}['hasEvent'](_0x5c9aba){var _0x1b22e6;return!!((_0x1b22e6=this['_callbacks']['get'](_0x5c9aba))!=null&&_0x1b22e6['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x1d5d05,_0x1ee515){if(this['_index'][_0x1d5d05])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x1d5d05);const _0x5c85df=this['_list']['push'](_0x1ee515)-(0x1b7*-0x16+0xcc5*0x2+-0xc31*-0x1);this['_index'][_0x1d5d05]=_0x5c85df;}['has'](_0x16ada2){return this['_index'][_0x16ada2]!==void(-0xad7+-0x9fa*0x3+-0x1f1*-0x15);}['get'](_0x1fc246){const _0x4cc6cc=this['_index'][_0x1fc246];return _0x4cc6cc!==void(-0x5df+-0x2309+-0xee*-0x2c)?this['_list'][_0x4cc6cc]:null;}['remove'](_0x35adeb){const _0x22ea89=this['_index'][_0x35adeb];if(_0x22ea89!==void(0x928+0x59d+-0xec5)){this['_list']['splice'](_0x22ea89,0x10fd+0x31*0xd+-0x1379),delete this['_index'][_0x35adeb];for(_0x35adeb in this['_index']){const _0x33777e=this['_index'][_0x35adeb];_0x33777e>_0x22ea89&&(this['_index'][_0x35adeb]=_0x33777e-(-0x3*0x187+-0xdf*0x1+-0xb*-0x7f));}return!(-0x776*-0x5+-0x2*0x927+0x40*-0x4c);}return!(-0x260+0x50f+-0x2ae);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0x1acf+-0xc4*-0x13+-0x2b*-0x49;for(const _0x14899c in this['_index'])delete this['_index'][_0x14899c];}}const gS=_0x4930a8=>{const _0x5517fb={};let _0x231dc1=_0x5517fb;return()=>(_0x231dc1===_0x5517fb&&(_0x231dc1=_0x4930a8()),_0x231dc1);},Ns=class Ns{static['loadScript'](_0x50e796,_0x51b240){const _0x15327b=document['createElem'+'ent']('script');_0x15327b['setAttribu'+'te']('src',_0x50e796),_0x15327b['onload']=()=>{_0x51b240(null);},_0x15327b['onerror']=()=>{_0x51b240('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x50e796+'\x27');},document['body']['appendChil'+'d'](_0x15327b);}static['loadWasm'](_0x5ef7d3,_0x370dba,_0x29c510){const _0x4816ec=Ns['wasmSuppor'+'ted']()&&_0x370dba['glueUrl']&&_0x370dba['wasmUrl']?_0x370dba['glueUrl']:_0x370dba['fallbackUr'+'l'];_0x4816ec?Ns['loadScript'](_0x4816ec,_0x51fa15=>{if(_0x51fa15)_0x29c510(_0x51fa15,null);else{const _0x243bb2=window[_0x5ef7d3];window[_0x5ef7d3]=void(-0x46*-0x5+0xc3d+0x1b*-0x81),_0x243bb2({'locateFile':()=>_0x370dba['wasmUrl'],'onAbort':()=>{_0x29c510('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x61c797=>{_0x29c510(null,_0x61c797);});}}):_0x29c510('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x4a76fb){return Ns['modules']['hasOwnProp'+'erty'](_0x4a76fb)||(Ns['modules'][_0x4a76fb]={'config':null,'initializing':!(-0x1889+-0x11fd+0x2a87),'instance':null,'callbacks':[]}),Ns['modules'][_0x4a76fb];}static['initialize'](_0x3a2ab3,_0x5cdec6){if(_0x5cdec6['initializi'+'ng'])return;const _0x1a5e05=_0x5cdec6['config'];(_0x1a5e05['glueUrl']||_0x1a5e05['wasmUrl']||_0x1a5e05['fallbackUr'+'l'])&&(_0x5cdec6['initializi'+'ng']=!(-0x233e+-0x1*0x1d7+-0x35f*-0xb),Ns['loadWasm'](_0x3a2ab3,_0x1a5e05,(_0x566afd,_0x52dfd7)=>{_0x566afd?_0x1a5e05['errorHandl'+'er']?_0x1a5e05['errorHandl'+'er'](_0x566afd):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x3a2ab3+'\x20error='+_0x566afd):(_0x5cdec6['instance']=_0x52dfd7,_0x5cdec6['callbacks']['forEach'](_0x5d075a=>{_0x5d075a(_0x52dfd7);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x2fced3=new WebAssembly['Module'](Uint8Array['of'](0x19f3+-0x22b6*-0x1+0x125*-0x35,-0x5eb+-0x6*0x2dd+0x177a,-0x2cf*-0x2+0x429*0x3+-0x9*0x1f6,0x1*0x259+-0x25c8+0x23dc,0x1244+-0x16*-0x12b+-0x2bf5,0x1*-0xef+0x200*0x1+0x111*-0x1,0x1eef+0x1337*0x2+-0x455d,-0x1f44+-0xc94+0x2bd8*0x1));if(_0x2fced3 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x2fced3)instanceof WebAssembly['Instance'];}}catch{}return!(-0x6b5+0x3*0xcd7+-0x1df*0x11);}));let Br=Ns;class ay{static['setConfig'](_0x5b0fd8,_0x36c4b1){const _0x15a617=Br['getModule'](_0x5b0fd8);_0x15a617['config']=_0x36c4b1,_0x15a617['callbacks']['length']>0x17*-0x121+0xf88+-0xa6f*-0x1&&Br['initialize'](_0x5b0fd8,_0x15a617);}static['getConfig'](_0x44fd5e){var _0x31dece,_0x1435f3;return(_0x1435f3=(_0x31dece=Br['modules'])==null?void(-0x9d*-0x19+0x65b*-0x2+-0x29f):_0x31dece[_0x44fd5e])==null?void(0x544+0x1d92+-0x22d6):_0x1435f3['config'];}static['getInstanc'+'e'](_0x1838da,_0x81d182){const _0x52ac43=Br['getModule'](_0x1838da);_0x52ac43['instance']?_0x81d182(_0x52ac43['instance']):(_0x52ac43['callbacks']['push'](_0x81d182),_0x52ac43['config']&&Br['initialize'](_0x1838da,_0x52ac43));}}class oy{constructor(_0x3acc50){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',0x5*0x419+-0x79c+0x15*-0x9d),(this['arraybuffe'+'r']=_0x3acc50,this['dataView']=new DataView(_0x3acc50));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0xf10e37=-0x1*0xc60+-0x15ff+-0x225f*-0x1){this['offset']=_0xf10e37;}['skip'](_0x40d003){this['offset']+=_0x40d003;}['align'](_0xdbb708){this['offset']=this['offset']+_0xdbb708-(-0x176a+0x31a+0x1451)&~(_0xdbb708-(-0x6c8+-0x1882+0x1*0x1f4b));}['_inc'](_0x477174){return this['offset']+=_0x477174,this['offset']-_0x477174;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x1beace){let _0x4fa23a='';for(let _0x31cd83=-0x434+-0x2b+0x45f;_0x31cd83<_0x1beace;++_0x31cd83)_0x4fa23a+=this['readChar']();return _0x4fa23a;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x477*-0x3+0xa7*-0x1b+0x43a),!(0x1904+0x1a12+0x1*-0x3316));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x1de7+0x1*0x498+-0x227b),!(-0x2650+-0x3c6*-0x2+0x1*0x1ec4));}['readU64'](){return this['readU32']()+(0xb*0x356+-0x9a2+0x1b0e*-0x1)**(0x17df+-0xa4b*-0x2+0x4ed*-0x9)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x278*-0x2+-0x1650+0x1b44),!(0xf3c+-0x583*-0x6+-0x304d));}['readArray'](_0x11e501){for(let _0x548fd9=0x1422+-0x1676+0x254;_0x548fd9<_0x11e501['length'];++_0x548fd9)_0x11e501[_0x548fd9]=this['readU8']();}['readLine'](){const _0x3342f8=this['dataView'];let _0x486ba2='';for(;!(this['offset']>=_0x3342f8['byteLength']);){const _0x5f1a49=String['fromCharCo'+'de'](this['readU8']());if(_0x5f1a49==='\x0a')break;_0x486ba2+=_0x5f1a49;}return _0x486ba2;}}class wh{constructor(_0x1c97d9){c(this,'items',[]),c(this,'length',-0x4a9*0x5+0x1eb7+-0x92*0xd),c(this,'loopIndex',-(-0x1767+0x1*-0x1cfa+0x2*0x1a31)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x1c97d9['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0xe5ca53){let _0x13fcca=0xf50+0x161e+0x256e*-0x1,_0x35aab3=this['items']['length']-(-0xb26+-0x55*0x3a+-0x615*-0x5);const _0x273d5c=_0xe5ca53[this['_sortBy']];let _0x445493,_0x418edd;for(;_0x13fcca<=_0x35aab3;)_0x445493=Math['floor']((_0x13fcca+_0x35aab3)/(-0x737*0x5+-0xd03+-0x4*-0xc46)),_0x418edd=this['items'][_0x445493][this['_sortBy']],_0x418edd<=_0x273d5c?_0x13fcca=_0x445493+(0xa5d*0x1+0x20bd*0x1+-0x2b19):_0x418edd>_0x273d5c&&(_0x35aab3=_0x445493-(0x43*0x28+0xb93+-0x160a));return _0x13fcca;}['_doSort'](_0x598ba5,_0x37894d){const _0x1ee5b0=this['_sortBy'];return _0x598ba5[_0x1ee5b0]-_0x37894d[_0x1ee5b0];}['insert'](_0x2e2e3a){const _0x5b6c77=this['_binarySea'+'rch'](_0x2e2e3a);this['items']['splice'](_0x5b6c77,-0xeb1+0x362+-0x1*-0xb4f,_0x2e2e3a),this['length']++,this['loopIndex']>=_0x5b6c77&&this['loopIndex']++;}['append'](_0xa07735){this['items']['push'](_0xa07735),this['length']++;}['remove'](_0x30d878){const _0x553ad2=this['items']['indexOf'](_0x30d878);_0x553ad2<-0xb1*-0x32+0x1*0x739+-0x29cb||(this['items']['splice'](_0x553ad2,-0x125b+-0xf2c+-0x1d*-0x128),this['length']--,this['loopIndex']>=_0x553ad2&&this['loopIndex']--);}['sort'](){const _0x5e1a23=this['loopIndex']>=0x1d27*0x1+-0x15d3+-0x754?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x5e1a23!==null&&(this['loopIndex']=this['items']['indexOf'](_0x5e1a23));}}class po extends ce{constructor(_0x1d402f){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x1d402f;}['add'](..._0x48dd46){let _0x8c1fbf=!(-0x24+-0xcc5+0xcea);const _0x19a6ef=this['_processAr'+'guments'](_0x48dd46,!(-0x11*-0x45+-0x3*0x225+0x1da));if(!_0x19a6ef['length'])return _0x8c1fbf;for(let _0x147488=-0x1ed0+-0x3*-0x410+0x12a0;_0x147488<_0x19a6ef['length'];_0x147488++)this['_index'][_0x19a6ef[_0x147488]]||(_0x8c1fbf=!(-0x16cb+-0x9c*-0xe+0xe43),this['_index'][_0x19a6ef[_0x147488]]=!(0x1c6e+-0x23*-0x9b+-0x319f),this['_list']['push'](_0x19a6ef[_0x147488]),this['fire']('add',_0x19a6ef[_0x147488],this['_parent']));return _0x8c1fbf&&this['fire']('change',this['_parent']),_0x8c1fbf;}['remove'](..._0x1f0ffa){let _0x58424b=!(-0x1d34+0x5b*-0x7+0x1fb2);if(!this['_list']['length'])return _0x58424b;const _0x5af69a=this['_processAr'+'guments'](_0x1f0ffa,!(0x225d*-0x1+-0x259*-0xa+-0xae3*-0x1));if(!_0x5af69a['length'])return _0x58424b;for(let _0x2b2f08=0x5*0x769+-0x1*-0x1efe+-0x440b;_0x2b2f08<_0x5af69a['length'];_0x2b2f08++)this['_index'][_0x5af69a[_0x2b2f08]]&&(_0x58424b=!(0x1782+0x1447+0x2bc9*-0x1),delete this['_index'][_0x5af69a[_0x2b2f08]],this['_list']['splice'](this['_list']['indexOf'](_0x5af69a[_0x2b2f08]),0x1abb+-0xaea+-0xfd0),this['fire']('remove',_0x5af69a[_0x2b2f08],this['_parent']));return _0x58424b&&this['fire']('change',this['_parent']),_0x58424b;}['clear'](){if(!this['_list']['length'])return;const _0x34adb4=this['_list']['slice'](0x1*0x1aff+0x159e*-0x1+-0x561);this['_list']=[],this['_index']={};for(let _0x502f4c=0x55*-0x46+0x10ac+-0x1d*-0x3a;_0x502f4c<_0x34adb4['length'];_0x502f4c++)this['fire']('remove',_0x34adb4[_0x502f4c],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x1e05c4){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x1e05c4)):!(0x1049+-0x5*0x455+0x561);}['_has'](_0x4f99a0){if(!this['_list']['length']||!_0x4f99a0['length'])return!(0x1eec+-0x9b*-0x3+-0x20bc);for(let _0x4254ab=-0x147b+-0x1*-0xd0f+0x76c;_0x4254ab<_0x4f99a0['length'];_0x4254ab++)if(_0x4f99a0[_0x4254ab]['length']===-0x8c+0x17*-0x29+0x4*0x10f){if(this['_index'][_0x4f99a0[_0x4254ab][0x94e+0x7de*-0x4+0x162a]])return!(0x10d9+-0x1e3a+-0x2ad*-0x5);}else{let _0x548e93=!(0x1d5e*0x1+-0x451+-0x1*0x190d);for(let _0x1ec13f=0x10*0x21e+0xe28+-0x3008;_0x1ec13f<_0x4f99a0[_0x4254ab]['length'];_0x1ec13f++)if(!this['_index'][_0x4f99a0[_0x4254ab][_0x1ec13f]]){_0x548e93=!(0x1c7*-0xc+0x16e3*-0x1+0x2c38);break;}if(_0x548e93)return!(0x610*0x4+0x1aea+-0x2*0x1995);}return!(0xc*0x1eb+-0x20e*0x2+-0x12e7);}['list'](){return this['_list']['slice'](-0x50b*0x3+-0x1a78+0x2999);}['_processAr'+'guments'](_0x2475e8,_0x9c0212){const _0x54dd2f=[];let _0x21dd8b=[];if(!_0x2475e8||!_0x2475e8['length'])return _0x54dd2f;for(let _0x3c9a2e=0xb7*0x9+0x23e4*-0x1+0x1d75;_0x3c9a2e<_0x2475e8['length'];_0x3c9a2e++)if(_0x2475e8[_0x3c9a2e]instanceof Array){_0x9c0212||(_0x21dd8b=[]);for(let _0x462060=-0x10c*-0x25+0x24d0+-0x4b8c;_0x462060<_0x2475e8[_0x3c9a2e]['length'];_0x462060++)typeof _0x2475e8[_0x3c9a2e][_0x462060]=='string'&&(_0x9c0212?_0x54dd2f['push'](_0x2475e8[_0x3c9a2e][_0x462060]):_0x21dd8b['push'](_0x2475e8[_0x3c9a2e][_0x462060]));!_0x9c0212&&_0x21dd8b['length']&&_0x54dd2f['push'](_0x21dd8b);}else typeof _0x2475e8[_0x3c9a2e]=='string'&&(_0x9c0212?_0x54dd2f['push'](_0x2475e8[_0x3c9a2e]):_0x54dd2f['push']([_0x2475e8[_0x3c9a2e]]));return _0x54dd2f;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0x2c77b4){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x59d0d2=_0x2c77b4['match'](yS);this['scheme']=_0x59d0d2[0x6ec+-0x2f9*-0x1+-0x9e3],this['authority']=_0x59d0d2[-0x1*-0x22d3+-0x64e+-0x1c81],this['path']=_0x59d0d2[-0xd*-0x2f9+0x1ae*0x5+0xd*-0x39e],this['query']=_0x59d0d2[-0x14cd+0xcac*-0x1+0x10c*0x20],this['fragment']=_0x59d0d2[-0x40f+0x1*0x1297+0xe7f*-0x1];}['toString'](){let _0x7d95a7='';return this['scheme']&&(_0x7d95a7+=this['scheme']+':'),this['authority']&&(_0x7d95a7+='//'+this['authority']),_0x7d95a7+=this['path'],this['query']&&(_0x7d95a7+='?'+this['query']),this['fragment']&&(_0x7d95a7+='#'+this['fragment']),_0x7d95a7;}['getQuery'](){const _0x3b5963={};if(this['query']){const _0x49f09a=decodeURIComponent(this['query'])['split']('&');for(const _0x410982 of _0x49f09a){const _0x54ab6a=_0x410982['split']('=');_0x3b5963[_0x54ab6a[0x151*0x7+-0x5c*0x27+0x4cd]]=_0x54ab6a[-0x1*0x158e+-0x1372+0x2901];}}return _0x3b5963;}['setQuery'](_0x3df9d2){let _0x17215f='';for(const _0x50ec15 in _0x3df9d2)_0x3df9d2['hasOwnProp'+'erty'](_0x50ec15)&&(_0x17215f!==''&&(_0x17215f+='&'),_0x17215f+=encodeURIComponent(_0x50ec15)+'='+encodeURIComponent(_0x3df9d2[_0x50ec15]));this['query']=_0x17215f;}}const xS=0x159b*-0x1+0x146a+0x131,Df=-0x1a36+-0x8ed+0x2324,sm=0x1a6b+0x2*0x1359+-0x4119*0x1,SS=0x17ef+-0x1*0x264b+0xe61,N={'DEG_TO_RAD':Math['PI']/(-0xca8+-0xa4c+0x17a8),'RAD_TO_DEG':(0x24b4+0x8*0x3eb+-0x4358)/Math['PI'],'clamp'(_0x98dba7,_0x13e52e,_0x47359d){return _0x98dba7>=_0x47359d?_0x47359d:_0x98dba7<=_0x13e52e?_0x13e52e:_0x98dba7;},'intToBytes24'(_0x2b2d0b){const _0x3c3db6=_0x2b2d0b>>0x141*0x12+-0x1811*-0x1+0x1*-0x2e93&-0x17*0x17f+-0xce*-0x1c+0xce0,_0x2e2e80=_0x2b2d0b>>0x1*0x99d+0x2361+-0x2cf6&0x45d*-0x4+0xea3*-0x1+0x2116,_0x1044de=_0x2b2d0b&0xeb*-0x16+-0x1f*0x5d+0x2074;return[_0x3c3db6,_0x2e2e80,_0x1044de];},'intToBytes32'(_0x5b27dc){const _0x12fa0e=_0x5b27dc>>-0xbfc+0x1ea3+0x1*-0x128f&-0x2*0xa1f+-0xeb1+0x23ee,_0x367eb1=_0x5b27dc>>0x2175+-0xcdd+-0x1488&-0x1*-0x1583+-0x6*0x241+-0x5*0x166,_0x2eb5ef=_0x5b27dc>>0xd*0x29b+0x72+-0x2249&0x3*0x16f+0xd81+-0x10cf,_0x2c8172=_0x5b27dc&0x7a*-0x3b+0x41a+-0x1903*-0x1;return[_0x12fa0e,_0x367eb1,_0x2eb5ef,_0x2c8172];},'bytesToInt24'(_0x28dd38,_0x2afb43,_0x2835af){return _0x28dd38['length']&&(_0x2835af=_0x28dd38[0xd55+0xe35+-0x1b88],_0x2afb43=_0x28dd38[0xed9*-0x1+-0x11e1+0x20bb],_0x28dd38=_0x28dd38[0x841*-0x1+0x207d+-0xbc*0x21]),_0x28dd38<<-0xb21+0x1f*-0x60+-0xb*-0x213|_0x2afb43<<-0x1f8d+0x66*-0x3+-0x20c7*-0x1|_0x2835af;},'bytesToInt32'(_0x247f58,_0xebdfec,_0x16baa4,_0x3e5b22){return _0x247f58['length']&&(_0x3e5b22=_0x247f58[-0x15d7*-0x1+-0x1b4b+0x577],_0x16baa4=_0x247f58[0xcfe*0x2+-0x3ab+0x164f*-0x1],_0xebdfec=_0x247f58[0x2*-0x86f+-0x8ab*0x4+0x338b],_0x247f58=_0x247f58[0x24a4+0x218b+-0x462f*0x1]),(_0x247f58<<0xbe8+-0x1f3b+0x3*0x679|_0xebdfec<<-0x1910+0x1*-0x716+0x1f*0x10a|_0x16baa4<<0x11e0+-0x1013+-0x1c5|_0x3e5b22)>>>-0x3f3+-0x1ab3+0x1ea6;},'lerp'(_0x13fe4f,_0x2bf515,_0x1e4803){return _0x13fe4f+(_0x2bf515-_0x13fe4f)*N['clamp'](_0x1e4803,0x3b+0x1d28+-0x1d63,-0x21d*0x3+0x1*0xb19+0x4c1*-0x1);},'lerpAngle'(_0x513006,_0x470659,_0x362313){return _0x470659-_0x513006>0x1a72+0x577*0x7+0x81*-0x7f&&(_0x470659-=0x1d7*0x7+-0x12b3*-0x1+0xf16*-0x2),_0x470659-_0x513006<-(-0x1186+0xc0e+0x2*0x316)&&(_0x470659+=0x10e4+0xd*0xdd+-0x1ab5),N['lerp'](_0x513006,_0x470659,N['clamp'](_0x362313,0x2692*0x1+-0x758+-0xe*0x23b,-0x45b+0x1289+-0xe2d));},'powerOfTwo'(_0x5949a6){return _0x5949a6!==-0x1507*-0x1+-0x1d9c+0x895&&!(_0x5949a6&_0x5949a6-(-0x73*-0x4d+-0x7b5+-0x1ae1));},'nextPowerOfTwo'(_0x4867d0){return _0x4867d0--,_0x4867d0|=_0x4867d0>>-0x23f5+-0x858+0x2c4e,_0x4867d0|=_0x4867d0>>-0x105d+-0x1661*0x1+0x8*0x4d8,_0x4867d0|=_0x4867d0>>0x1841+-0x150e+0x32f*-0x1,_0x4867d0|=_0x4867d0>>-0x1*-0x15d3+-0x185d+-0x149*-0x2,_0x4867d0|=_0x4867d0>>-0x188c+-0x23b0+0x3c4c,_0x4867d0++,_0x4867d0;},'nearestPowerOfTwo'(_0x41d4dd){return Math['pow'](-0x1*-0x1b05+-0x114b*-0x2+0x1*-0x3d99,Math['round'](Math['log'](_0x41d4dd)/Math['log'](-0x347*-0x4+-0x7bf+-0x55b)));},'random'(_0xe3f2bf,_0x300034){const _0x1529a9=_0x300034-_0xe3f2bf;return Math['random']()*_0x1529a9+_0xe3f2bf;},'smoothstep'(_0x1ba968,_0x4a9789,_0x20f31b){return _0x20f31b<=_0x1ba968?0xd17+0xf92+-0x17*0x13f:_0x20f31b>=_0x4a9789?-0x15b*-0x9+0x19*-0x113+0x8b*0x1b:(_0x20f31b=(_0x20f31b-_0x1ba968)/(_0x4a9789-_0x1ba968),_0x20f31b*_0x20f31b*(0x5*-0x30b+0x62f+0x1cf*0x5-(0x1a08+0x17*-0x1a5+-0x3*-0x3ef)*_0x20f31b));},'smootherstep'(_0x4f49c8,_0x41b704,_0x36eedf){return _0x36eedf<=_0x4f49c8?0x1*-0x67c+-0x1231+0x18ad:_0x36eedf>=_0x41b704?-0x175c+-0x3b+-0xa*-0x25c:(_0x36eedf=(_0x36eedf-_0x4f49c8)/(_0x41b704-_0x4f49c8),_0x36eedf*_0x36eedf*_0x36eedf*(_0x36eedf*(_0x36eedf*(0xe*-0x16a+0x3b*0x76+-0x760)-(-0x1b8f+-0x1d9a+0x3938))+(-0x1d13+0x16*-0x1ac+-0x41e5*-0x1)));},'roundUp'(_0x54a906,_0x30227a){return _0x30227a===-0x1581+-0x20b6+0x3637?_0x54a906:Math['ceil'](_0x54a906/_0x30227a)*_0x30227a;},'between'(_0x29ce89,_0x100949,_0x5aeabd,_0x25b58c){const _0x5576ab=Math['min'](_0x100949,_0x5aeabd),_0x11746e=Math['max'](_0x100949,_0x5aeabd);return _0x25b58c?_0x29ce89>=_0x5576ab&&_0x29ce89<=_0x11746e:_0x29ce89>_0x5576ab&&_0x29ce89<_0x11746e;}},it=class it{constructor(_0x2ff62a=-0x787+0x96d+0x9*-0x36,_0x2b625a=0x445+0x5b*0xf+-0x99a,_0x132ef1=-0x37*0x86+-0x4e*-0x1e+0x13a6,_0x4d908f=-0x3*-0x412+0x236c*0x1+0x2fa1*-0x1){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x581ae4=_0x2ff62a['length'];_0x581ae4===-0x1a*-0xe0+-0x3e3*0x1+-0x12da||_0x581ae4===0x2252+-0xdb5*-0x1+-0x3003?(this['r']=_0x2ff62a[-0x1*0x33b+-0x2675+0x10*0x29b],this['g']=_0x2ff62a[-0x1c05+-0x3*0x43e+-0x1460*-0x2],this['b']=_0x2ff62a[0x103d*0x1+0x1*0x179b+-0x2*0x13eb],this['a']=_0x2ff62a[0x3*0x4e+0x4fe*-0x2+-0x5d*-0x19]??-0x42c+-0x1ec4+0x22f1):(this['r']=_0x2ff62a,this['g']=_0x2b625a,this['b']=_0x132ef1,this['a']=_0x4d908f);}['clone'](){const _0x4e1b58=this['constructo'+'r'];return new _0x4e1b58(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x711323){return this['r']=_0x711323['r'],this['g']=_0x711323['g'],this['b']=_0x711323['b'],this['a']=_0x711323['a'],this;}['equals'](_0x4bb798){return this['r']===_0x4bb798['r']&&this['g']===_0x4bb798['g']&&this['b']===_0x4bb798['b']&&this['a']===_0x4bb798['a'];}['set'](_0x35f3c6,_0x3c8243,_0x5ae3d3,_0x466fcc=0x1a1*-0x15+0x215c+0x6d*0x2){return this['r']=_0x35f3c6,this['g']=_0x3c8243,this['b']=_0x5ae3d3,this['a']=_0x466fcc,this;}['lerp'](_0x92b254,_0x3725b7,_0x3b8dab){return this['r']=_0x92b254['r']+_0x3b8dab*(_0x3725b7['r']-_0x92b254['r']),this['g']=_0x92b254['g']+_0x3b8dab*(_0x3725b7['g']-_0x92b254['g']),this['b']=_0x92b254['b']+_0x3b8dab*(_0x3725b7['b']-_0x92b254['b']),this['a']=_0x92b254['a']+_0x3b8dab*(_0x3725b7['a']-_0x92b254['a']),this;}['linear'](_0x3262ea=this){return this['r']=Math['pow'](_0x3262ea['r'],0x1881+-0x2152+0x8d3+0.20000000000000018),this['g']=Math['pow'](_0x3262ea['g'],-0xb5+0xacb*0x1+-0xa14+0.20000000000000018),this['b']=Math['pow'](_0x3262ea['b'],-0x13fe+-0x1e24+0x3224+0.20000000000000018),this['a']=_0x3262ea['a'],this;}['gamma'](_0x5f3991=this){return this['r']=Math['pow'](_0x5f3991['r'],(-0x1ea0+0x1ff*0x3+0x18a4)/(0x11*0x82+-0x2*-0x218+-0x334*0x4+0.20000000000000018)),this['g']=Math['pow'](_0x5f3991['g'],(0xf64+0x3*0x541+-0x1f26)/(-0x17d*0x12+0x5*0x255+0xf23+0.20000000000000018)),this['b']=Math['pow'](_0x5f3991['b'],(0x1421+-0x1471*-0x1+0x43*-0x9b)/(0xf78+-0x7*0x17+-0xed5+0.20000000000000018)),this['a']=_0x5f3991['a'],this;}['mulScalar'](_0x468548){return this['r']*=_0x468548,this['g']*=_0x468548,this['b']*=_0x468548,this;}['fromString'](_0x126463){const _0x1071e3=parseInt(_0x126463['replace']('#','0x'),-0x8*0xfe+-0xda4+0x2*0xad2);let _0x33e5a7;return _0x126463['length']>-0x15d+-0x604+0x768?_0x33e5a7=N['intToBytes'+'32'](_0x1071e3):(_0x33e5a7=N['intToBytes'+'24'](_0x1071e3),_0x33e5a7[0x10*-0x5f+-0x1c9e+0x2291]=0x1dc1+0x7a*0x1+-0x1d3c),this['set'](_0x33e5a7[-0x5*0x1ff+0x104c*0x1+0xe7*-0x7]/(-0x1*0xd72+-0x2006*0x1+0x2e77),_0x33e5a7[-0x671+0x203c+-0x19ca]/(0x1*0xde6+-0xa3*-0xb+0x8*-0x27d),_0x33e5a7[0x21cb+0x1e*0x6f+-0x1*0x2ecb]/(0x1*0x544+-0x67*0xb+0x28),_0x33e5a7[0xc34+-0x1d2a+0x10f9]/(0x2181*-0x1+0xafe+-0xb1*-0x22)),this;}['fromArray'](_0x38d41c,_0x281e32=-0x40d*0x1+0x4dd+-0xd0){return this['r']=_0x38d41c[_0x281e32]??this['r'],this['g']=_0x38d41c[_0x281e32+(0x4d*-0x76+0x25ca+-0x24b)]??this['g'],this['b']=_0x38d41c[_0x281e32+(-0x1*-0x1f55+0x1*-0x12f5+-0xc5e)]??this['b'],this['a']=_0x38d41c[_0x281e32+(-0xf0d+-0x1687+0x2597)]??this['a'],this;}['toString'](_0x576624,_0x29d3e7){const {r:_0x184de2,g:_0x442bf5,b:_0x4d8ab4,a:_0x4cc11d}=this;if(_0x29d3e7||_0x184de2>0xba3+0x247b+-0x301d||_0x442bf5>0xd*-0x1b+-0x43*-0x28+-0x918||_0x4d8ab4>0x232a+0x15bd+-0x38e6)return _0x184de2['toFixed'](0x32d*0x7+-0xe17+-0x821)+',\x20'+_0x442bf5['toFixed'](-0x4f*-0x25+0x52b+0x1*-0x1093)+',\x20'+_0x4d8ab4['toFixed'](-0xb22+0x93*0x5+0x846)+',\x20'+_0x4cc11d['toFixed'](0x883*-0x1+0x7dc+0xaa);let _0x598d69='#'+((-0x1d*0x11f+0x2*-0x1291+0x5*0xdee<<0x357+-0x24d3+0x2194)+(Math['round'](_0x184de2*(-0x595*-0x5+0x315*0xa+0xa*-0x5c6))<<-0x1*-0x236a+-0x11*-0xb5+-0x2f5f*0x1)+(Math['round'](_0x442bf5*(0x2410+-0x21a*-0xc+0x17*-0x29f))<<-0xc7a*-0x1+-0x9b*-0x11+-0x16bd)+Math['round'](_0x4d8ab4*(-0x3e*0x4c+-0x17c6+-0x1*-0x2b2d)))['toString'](0x1ce5+-0x7c*-0xd+0x211*-0x11)['slice'](-0x243f*0x1+0x14eb+0x9d*0x19);if(_0x576624===!(-0x1c3b+-0x908+-0x1*-0x2543)){const _0x3d049e=Math['round'](_0x4cc11d*(-0x3df+-0x13bb+0x1899))['toString'](0x373*0x4+-0x1574+0x7b8);this['a']<(0x942+0xc7d*-0x3+0x1*0x1c45)/(0x44*0x42+0x1d05+0x1*-0x2d8e)?_0x598d69+='0'+_0x3d049e:_0x598d69+=_0x3d049e;}return _0x598d69;}['toArray'](_0x3758b9=[],_0x21dd93=-0x43*-0x8f+0x13cc+-0x3939*0x1,_0x43c77e=!(0x71*-0x7+-0x494*-0x8+-0x1*0x2189)){return _0x3758b9[_0x21dd93]=this['r'],_0x3758b9[_0x21dd93+(-0xb52+-0xf64+0x1*0x1ab7)]=this['g'],_0x3758b9[_0x21dd93+(-0xde3+-0x1ae7*0x1+0x28cc)]=this['b'],_0x43c77e&&(_0x3758b9[_0x21dd93+(-0x2441+0x5d2+0x1e72)]=this['a']),_0x3758b9;}};c(it,'BLACK',Object['freeze'](new it(-0x1*0xb11+-0x3ff*0x1+-0x4*-0x3c4,-0x21e3+-0x2*-0x72f+0x1385,-0x1759+-0xbb1+0x230a,0x9ee+-0x73c+0x2b1*-0x1))),c(it,'BLUE',Object['freeze'](new it(-0x477*0x1+-0x61c+-0x1*-0xa93,0xfed+0x19f1+-0x29de,0x1805+-0x1*0xbff+-0x1*0xc05,-0x1*0x3e5+-0x13c6*0x1+0x17ac))),c(it,'CYAN',Object['freeze'](new it(-0x1250+-0x2672+-0xa*-0x5ad,-0x183+0x1b47+0x5*-0x527,0x26b0+-0x1*0x14ca+-0x9*0x1fd,0x7*-0x43c+-0x2042+-0x17*-0x2b1))),c(it,'GRAY',Object['freeze'](new it(0x1fdf+-0x2b1*0x2+-0x1a7d+0.5,-0x178b+-0x2345+-0x1*-0x3ad0+0.5,0x458+0x2*0x1143+-0x26de+0.5,-0xd*0x208+0x1*-0x26a7+0x10*0x411))),c(it,'GREEN',Object['freeze'](new it(0x2632+-0x1ae1+-0xb51*0x1,0x1ed+0xe34+-0x1*0x1020,0x31a*0x7+0x24c9+-0x19*0x257,-0x1*0x1ed1+0x2173*0x1+-0x1*0x2a1))),c(it,'MAGENTA',Object['freeze'](new it(-0xb39+0x1734+-0xdb*0xe,-0x1f*0x109+0xfb*0x22+-0x13f,0x25e2+-0x2388+-0x259,-0xe6d+-0x1135*0x2+0x30d8))),c(it,'RED',Object['freeze'](new it(0x3*-0xbc6+-0x11*0x107+0x34ca,0x266d+0x5*0x182+-0x7*0x691,0x1338+0x2*-0xdc7+0x856,-0x1588+0x5ca+0xfbf*0x1))),c(it,'WHITE',Object['freeze'](new it(0x9df*0x1+-0x1*0x3ce+-0x610,0xe5*-0x1+0x1a9d+-0x19b7,-0x1583*-0x1+0x1db*0x13+-0x38c3,0x14d5+-0x6b9*-0x3+-0x28ff))),c(it,'YELLOW',Object['freeze'](new it(0x46*-0x58+-0x2027+-0x808*-0x7,0x4ad+0x1ae6+0xa86*-0x3,0x1b41+-0x1ada+-0x1*0x67,-0x1c84+0x136+-0x1*-0x1b4f)));let j=it;class ly{constructor(_0x141ecf,_0x3445c4=0xa3a+0x8b7+-0x12f1){c(this,'_curve'),c(this,'_left',-(0x10f4*-0x2+-0x90c+0x2af5*0x1)/(0x1*0x17b3+-0x17e1+0x2e)),c(this,'_right',(-0x1695+0x287+0x140f)/(-0x6ce+0x15ee+-0xf20)),c(this,'_recip',-0x223*0x2+-0x240b+0x2851),c(this,'_p0',0x4*0x2f5+0x1b09+0x1*-0x26dd),c(this,'_p1',-0x610+-0x1*-0xdfa+-0x7ea*0x1),c(this,'_m0',0x6*-0x3df+-0x21a*0x3+0x1d88),c(this,'_m1',-0x2*-0x513+-0x222+0x9*-0xe4),(this['_curve']=_0x141ecf,this['_reset'](_0x3445c4));}['evaluate'](_0x19e999,_0x325df8=!(-0x9ef*0x2+-0x12*-0x170+-0x601)){(_0x325df8||_0x19e999<this['_left']||_0x19e999>=this['_right'])&&this['_reset'](_0x19e999);let _0x26c3df;const _0xba04eb=this['_curve']['type'];if(_0xba04eb===SS)_0x26c3df=this['_p0'];else{const _0x5ca47e=this['_recip']===-0x13eb+0xfab*0x1+0x440?-0x3*0xb1e+0x16e1+0xa79:(_0x19e999-this['_left'])*this['_recip'];_0xba04eb===xS?_0x26c3df=N['lerp'](this['_p0'],this['_p1'],_0x5ca47e):_0xba04eb===Df?_0x26c3df=N['lerp'](this['_p0'],this['_p1'],_0x5ca47e*_0x5ca47e*(0x256a+-0x2655+0xee-(-0x2*-0xcfb+-0x19c6*-0x1+-0x33ba)*_0x5ca47e)):_0x26c3df=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x5ca47e);}return _0x26c3df;}['_reset'](_0xaeba18){const _0x2a1185=this['_curve']['keys'],_0x58ef18=_0x2a1185['length'];if(!_0x58ef18)this['_left']=-(0x4e5+-0x2f9*0x1+-0x1eb)/(-0xd*0x17b+-0x128f+-0x25ce*-0x1),this['_right']=(0x468*-0x1+0x8f8+-0x48f)/(-0x1d4c+0x1c*-0x2+0x1d84),this['_recip']=0xbc0+0x16a7+0x2267*-0x1,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x59d*0x1+-0x93*-0x17+0x3cc*-0x2;else{if(_0xaeba18<_0x2a1185[0x1691+-0x303+-0x138e][-0xb22+-0x1cfe+-0x20*-0x141])this['_left']=-(0x270+-0xdf*0x22+0x1b2f)/(-0x69*0x1f+0x860+0x457),this['_right']=_0x2a1185[-0xdb5+0x11ce+-0x419][-0x1918+0x3*-0x22a+-0x1f96*-0x1],this['_recip']=0x6b*0x15+-0x10f9+0x832,this['_p0']=this['_p1']=_0x2a1185[-0x5da+0x1*-0x24d7+0x2ab1][-0x1*0xa93+-0x15e*0xb+0x445*0x6],this['_m0']=this['_m1']=-0x123d+0x4eb*0x3+0x37c;else{if(_0xaeba18>=_0x2a1185[_0x58ef18-(-0x191*-0x4+-0x575+-0xce*0x1)][-0x202*-0x3+-0x1620+-0xe5*-0x12])this['_left']=_0x2a1185[_0x58ef18-(0x12a4+-0xdf*-0x20+-0x2e83)][-0xb15*0x3+0x1*-0x247+0x2386],this['_right']=(-0x40e*-0x1+-0x63+-0x43*0xe)/(-0x1751+0x25*0x21+0x128c),this['_recip']=0x57*0x3+-0x89a*-0x1+-0x99f*0x1,this['_p0']=this['_p1']=_0x2a1185[_0x58ef18-(-0x303*-0x6+0xc*0x19b+0x2555*-0x1)][-0x1b6e*-0x1+-0x153*0x16+0x13*0x17],this['_m0']=this['_m1']=-0xb31+0x13d0*0x1+-0x1*0x89f;else{let _0x25611b=0x1fd*0x5+-0x119b*-0x2+-0x2d27;for(;_0xaeba18>=_0x2a1185[_0x25611b+(0x227d+-0x3a9*0x8+-0x3*0x1bc)][0xf1b*0x2+-0x837*0x2+-0xdc8];)_0x25611b++;this['_left']=_0x2a1185[_0x25611b][-0x1*-0xbc+-0xe24+0x6*0x23c],this['_right']=_0x2a1185[_0x25611b+(0x25b1*0x1+0x1c*-0x107+0x23b*-0x4)][-0x528+-0x1373+0x189b];const _0x52a367=(0x1f40+0x1*0x77e+0x2f*-0xd3)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x52a367)?_0x52a367:0x1086+-0x20c2+0x103c,this['_p0']=_0x2a1185[_0x25611b][0xfd*-0x22+0x1bf4+0x5a7*0x1],this['_p1']=_0x2a1185[_0x25611b+(0x2*0x1025+0xd47+-0x2d90)][-0x33f*-0x9+-0x9b7+-0x1f*0xa1],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x2a1185,_0x25611b);}}}}['_calcTange'+'nts'](_0x474a80,_0xa7f737){let _0x27bd03;const _0x7ae004=_0x474a80[_0xa7f737],_0x3b8840=_0x474a80[_0xa7f737+(0x20df+-0x6e9*0x3+-0xc23)];let _0x39c189;if(_0xa7f737===0xcf8+-0x70e+-0x5ea?_0x27bd03=[_0x474a80[-0x6df*0x1+0x1079+-0x99a*0x1][-0xa*-0xa7+0x1b18+-0x219e]+(_0x474a80[-0x8dd+-0x213+-0x28*-0x46][-0x1ea2+0xf9*0x27+-0x74d]-_0x474a80[-0x1ba2*0x1+-0x81b+0x23be][-0x1*0xe9a+0x66a*0x1+0x106*0x8]),_0x474a80[-0x1c87+0xf43+0xd44][-0x1c3b+-0x217f+0x3dbb]+(_0x474a80[-0xff4+-0xe83+-0x1e77*-0x1][0x150d+-0x102a*0x1+-0x4e2]-_0x474a80[-0x231e+0x1*0x78b+-0x2c2*-0xa][0xae*0x28+-0x715+-0x53*0x3e])]:_0x27bd03=_0x474a80[_0xa7f737-(0x1d0b+-0x13e4+-0x926)],_0xa7f737===_0x474a80['length']-(-0x1*0x231e+0x1cc7+0x659)?_0x39c189=[_0x474a80[_0xa7f737+(0x128e+-0x1*0x1bb0+0x923)][-0x644*0x2+0x1950+0x332*-0x4]+(_0x474a80[_0xa7f737+(0x1f08+-0x3a3+-0x1b64)][0x8c4+-0x2323+0x1*0x1a5f]-_0x474a80[_0xa7f737][-0x3f9*0x9+0xb26*-0x1+0x2ee7]),_0x474a80[_0xa7f737+(-0xcde+0x1626+-0x947)][0x1039+0x13*0x15e+-0x2a32]+(_0x474a80[_0xa7f737+(-0x1*-0x493+-0xc36*-0x1+-0x10c8)][0x29*0x9+-0x22c+-0x5e*-0x2]-_0x474a80[_0xa7f737][-0x1176+-0xd6f+0x1ee6])]:_0x39c189=_0x474a80[_0xa7f737+(0x1370+-0x1*-0x1b11+-0x2e7f)],this['_curve']['type']===sm){const _0x14e1fd=(0x1e58+0x2*0x3c5+-0x20*0x12f)*(_0x3b8840[0x146+-0x11f1*0x1+0x11*0xfb]-_0x7ae004[0x2f9+-0x4*0x52d+0x11bb])/(_0x3b8840[-0x4aa+0x7c+0x42e]-_0x27bd03[-0x1fbe+-0x1acd+0x7*0x85d]),_0x433403=(0x15*0x17f+0x1875+0x1*-0x37de)*(_0x3b8840[0x245e*-0x1+0x219c+-0x1*-0x2c2]-_0x7ae004[0xd3d*0x1+0xdfe+-0x1b3b])/(_0x39c189[-0x1355+-0x1df8+0x314d]-_0x7ae004[0x10*0x115+0x2a*-0x76+0x20c]);this['_m0']=this['_curve']['tension']*(isFinite(_0x14e1fd)?_0x14e1fd:0x128f*-0x2+-0xb8d*-0x2+0xe04)*(_0x3b8840[0xf47+-0x15*0x71+-0x601]-_0x27bd03[-0x237a+0x24ef+0xc*-0x1f]),this['_m1']=this['_curve']['tension']*(isFinite(_0x433403)?_0x433403:0x2*-0x6b2+-0x1acb*-0x1+-0xd67*0x1)*(_0x39c189[0x133c+0x267b+0x1*-0x39b6]-_0x7ae004[-0x961+-0x15ee+-0x2*-0xfa8]);}else{const _0x2295b9=(_0x3b8840[0xce5+0x9fb+-0x16e0]-_0x7ae004[0x23c+-0x1*0x18a9+0x166d*0x1])/(_0x7ae004[-0x5*0x1a6+0x5a7*-0x3+0x1933]-_0x27bd03[-0x2*-0xddb+0x2383*0x1+-0x3f39]),_0xb63d62=(_0x3b8840[0x1e90+-0x57e*-0x1+-0x39b*0xa]-_0x7ae004[-0x2343+-0x3*0x3+0x8d3*0x4])/(_0x39c189[0xd3*0x19+0x1c5a+-0x30f5*0x1]-_0x3b8840[-0x2*-0xa67+-0x1c03+-0x3*-0x267]),_0x4f570b=_0x7ae004[0x9ff*-0x1+0x7*0x472+-0x22*0x9f]+(_0x27bd03[0x222c+-0x3bf+0x4*-0x79b]-_0x7ae004[-0x136f+0x7*0x44c+-0xaa4])*(isFinite(_0x2295b9)?_0x2295b9:-0x1190+-0x1*0x1159+0x22e9),_0x4a5c38=_0x3b8840[-0x2*0xe8f+0x779*0x3+0x6b4]+(_0x39c189[0x20e*0x1+0x1*0x22e0+-0x24ed]-_0x3b8840[0x1582*-0x1+-0x34*-0x73+-0x1d9])*(isFinite(_0xb63d62)?_0xb63d62:-0x521+-0x33*0x2+0x587),_0x3c0877=this['_curve']['tension'];this['_m0']=_0x3c0877*(_0x3b8840[0x1*-0x69a+0x1444+-0xda9]-_0x4f570b),this['_m1']=_0x3c0877*(_0x4a5c38-_0x7ae004[0x3*-0x1f9+0x41f*-0x8+0x26e4]);}}['_evaluateH'+'ermite'](_0x418222,_0x525c9e,_0x23f766,_0x413749,_0x5e8645){const _0x242707=_0x5e8645*_0x5e8645,_0x563f15=_0x5e8645+_0x5e8645,_0x3834db=0x1*-0x23d7+0x12f5+0x10e3-_0x5e8645,_0x44fed8=_0x3834db*_0x3834db;return _0x418222*((-0x16b6*0x1+0x111d*-0x1+0x27d4+_0x563f15)*_0x44fed8)+_0x23f766*(_0x5e8645*_0x44fed8)+_0x525c9e*(_0x242707*(-0x1*-0x8cc+-0x1670+0xda7-_0x563f15))+_0x413749*(_0x242707*(_0x5e8645-(-0x77a+-0xe2+0x85d)));}}class Cs{constructor(_0x35af97){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',0x261e*-0x1+0x21bd+0x461+0.5),c(this,'_eval',new ly(this));if(_0x35af97){for(let _0x2ec124=-0x1ce8+-0x2105+0x3ded;_0x2ec124<_0x35af97['length']-(0x27a*0x5+-0x1303+0x2*0x351);_0x2ec124+=0x461*-0x2+-0x2*-0xcfc+-0x1134)this['keys']['push']([_0x35af97[_0x2ec124],_0x35af97[_0x2ec124+(0x24*0x89+-0x3*-0x646+-0x2615)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x5b5d08,_0x5c0c37){const _0x5b95d5=this['keys'],_0x5befa0=_0x5b95d5['length'];let _0x5636dd=-0x6b2*0x5+-0x48f+-0x7*-0x56f;for(;_0x5636dd<_0x5befa0&&!(_0x5b95d5[_0x5636dd][0x17a8*-0x1+-0x14af+-0x2c57*-0x1]>_0x5b5d08);_0x5636dd++);const _0x2e743c=[_0x5b5d08,_0x5c0c37];return this['keys']['splice'](_0x5636dd,0xefe+0x7c*-0x21+0xfe,_0x2e743c),_0x2e743c;}['get'](_0x57067c){return this['keys'][_0x57067c];}['sort'](){this['keys']['sort']((_0x38692f,_0x16bfea)=>_0x38692f[0x248e+0x50c*-0x5+0x12*-0xa1]-_0x16bfea[-0x10*-0x17+-0x1*0x15e4+0xb*0x1dc]);}['value'](_0x369e1c){return this['_eval']['evaluate'](_0x369e1c,!(0x113f+-0x10a2+-0x9d));}['closest'](_0x5e7e88){const _0x17c258=this['keys'],_0x1e0dd8=_0x17c258['length'];let _0x2d347a=0x5a6+0x9d5+-0xf79,_0xe4499b=null;for(let _0x4d919f=-0x1e02+-0xc7e+0x2a80;_0x4d919f<_0x1e0dd8;_0x4d919f++){const _0x52f4e0=Math['abs'](_0x5e7e88-_0x17c258[_0x4d919f][0x175*0x7+-0x11f0+0x11b*0x7]);if(_0x2d347a>=_0x52f4e0)_0x2d347a=_0x52f4e0,_0xe4499b=_0x17c258[_0x4d919f];else break;}return _0xe4499b;}['clone'](){const _0x3a8d3b=new this['constructo'+'r']();return _0x3a8d3b['keys']=this['keys']['map'](_0x486f02=>[..._0x486f02]),_0x3a8d3b['type']=this['type'],_0x3a8d3b['tension']=this['tension'],_0x3a8d3b;}['quantize'](_0x27fdd9){_0x27fdd9=Math['max'](_0x27fdd9,0x1*-0xe3+0x11a1*-0x2+0x2427);const _0x45d3e4=new Float32Array(_0x27fdd9),_0x565130=(-0x17*-0xdf+0x7f*0x13+-0x1d75*0x1)/(_0x27fdd9-(-0x203e+-0x1*0x1d92+0x19*0x279));_0x45d3e4[0x1*0x656+-0x2*-0x4db+-0x100c]=this['_eval']['evaluate'](0xc32+-0x26d1*0x1+0x1a9f,!(-0xeb*-0x26+0x26bf+-0x49a1));for(let _0x9f185d=-0x769+-0x236a+0x2ad4;_0x9f185d<_0x27fdd9;_0x9f185d++)_0x45d3e4[_0x9f185d]=this['_eval']['evaluate'](_0x565130*_0x9f185d);return _0x45d3e4;}['quantizeCl'+'amped'](_0x1ac3f4,_0x25b809,_0x50ed49){const _0x40f312=this['quantize'](_0x1ac3f4);for(let _0x60b453=0x4ba+0x7*0xce+0xd*-0xcc;_0x60b453<_0x40f312['length'];++_0x60b453)_0x40f312[_0x60b453]=Math['min'](_0x50ed49,Math['max'](_0x25b809,_0x40f312[_0x60b453]));return _0x40f312;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>0x1914+0x3d3*-0x3+0x6cd*-0x2){for(let _0x1c401d=-0xb8*0x1d+0x1a*-0xdb+0x2b16;_0x1c401d<arguments['length'];_0x1c401d++)this['curves']['push'](new Cs(arguments[_0x1c401d]));}else{if(arguments['length']===0x132d+0xa*-0x3d1+0x1*0x12fd)this['curves']['push'](new Cs());else{const _0xa5e0f5=arguments[0x1f7c+-0x5f6*-0x1+-0x2572];if(typeof _0xa5e0f5=='number'){for(let _0xc1bbfd=-0xe1e+0x7e4+0x63a*0x1;_0xc1bbfd<_0xa5e0f5;_0xc1bbfd++)this['curves']['push'](new Cs());}else{for(let _0x15a96b=-0x3b1*0x6+0xcc9+0x11*0x8d;_0x15a96b<_0xa5e0f5['length'];_0x15a96b++)this['curves']['push'](new Cs(_0xa5e0f5[_0x15a96b]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0xcab949){this['_type']=_0xcab949;for(let _0xbb4d22=0xcc6+0x246d+-0x3133;_0xbb4d22<this['curves']['length'];_0xbb4d22++)this['curves'][_0xbb4d22]['type']=_0xcab949;}get['type'](){return this['_type'];}['get'](_0x4d0c28){return this['curves'][_0x4d0c28];}['value'](_0x1bbc89,_0x502303=[]){const _0x31d67b=this['curves']['length'];_0x502303['length']=_0x31d67b;for(let _0x10e70a=0x15ba+0x21+-0x15db;_0x10e70a<_0x31d67b;_0x10e70a++)_0x502303[_0x10e70a]=this['curves'][_0x10e70a]['value'](_0x1bbc89);return _0x502303;}['clone'](){const _0x41578d=new this['constructo'+'r']();_0x41578d['curves']=[];for(let _0x224810=-0x4*0x57d+0x1*0x129a+0x1a*0x21;_0x224810<this['curves']['length'];_0x224810++)_0x41578d['curves']['push'](this['curves'][_0x224810]['clone']());return _0x41578d['_type']=this['_type'],_0x41578d;}['quantize'](_0x4a7df9){_0x4a7df9=Math['max'](_0x4a7df9,-0x228c+0x6a+0x2224);const _0xe04aa5=this['curves']['length'],_0x39e4bc=new Float32Array(_0x4a7df9*_0xe04aa5),_0x4e8d1c=(0x1177*0x1+-0xdf4+-0x382)/(_0x4a7df9-(0x821*-0x3+0x1a59+-0xa7*0x3));for(let _0x3e2b07=-0x1e2c+-0x2586+0x43b2;_0x3e2b07<_0xe04aa5;_0x3e2b07++){const _0x5b723b=new ly(this['curves'][_0x3e2b07]);for(let _0x1720d1=0x1529+-0x2cf*-0xd+0xe6b*-0x4;_0x1720d1<_0x4a7df9;_0x1720d1++)_0x39e4bc[_0x1720d1*_0xe04aa5+_0x3e2b07]=_0x5b723b['evaluate'](_0x4e8d1c*_0x1720d1);}return _0x39e4bc;}['quantizeCl'+'amped'](_0x3fa8c1,_0x25e242,_0x3b503){const _0x333221=this['quantize'](_0x3fa8c1);for(let _0xe9ad19=0xe5*-0x8+0x25cf+0x7*-0x461;_0xe9ad19<_0x333221['length'];++_0xe9ad19)_0x333221[_0xe9ad19]=Math['min'](_0x3b503,Math['max'](_0x25e242,_0x333221[_0xe9ad19]));return _0x333221;}}let im=0xe31+-0x1461+0x635;const id=(0x2256+0x443*0x1+0x82*-0x4c)/(-0x200d+0x2fc*-0x1+0x2408),du=new Float32Array(0xac*0x2c+0x1d19+0x755*-0x8),rm=new Int32Array(du['buffer']);class $t{static['float2Half'](_0x898b70){du[-0x854+-0x2de*-0xa+0x1f*-0xa8]=_0x898b70;const _0x128f65=rm[-0x1808+0x1b35+-0x32d];let _0x19b414=_0x128f65>>0x1*-0x16ee+0x2305+0x1*-0xc07&-0x544d+-0xf53e+0x1c98b,_0xdfa105=_0x128f65>>-0x1*-0x2133+-0x2374+0x13*0x1f&-0x16*0x14e+0x4*0xcd+-0x6b3*-0x5;const _0x13aff2=_0x128f65>>-0x1e17+0x15*0xe9+0xb11&0x1*-0x43+-0x41*-0x5+-0x3;return _0x13aff2<0x9*0x241+0x1d99+-0x317b?_0x19b414:_0x13aff2>0x46f*-0x6+0x186e+0x1*0x2ba?(_0x19b414|=-0xb*0x150d+-0xe81b*-0x1+0x7b74,_0x19b414|=(_0x13aff2===-0x5d9+-0xa2b+0x14f*0xd?0x6*-0x1a1+0x17b6+-0xdf0:-0x20*-0xba+0xeb0+0x27*-0xf9)&&_0x128f65&-0x4b4dd7*0x1+0xfa14cc+-0x2ec6f6,_0x19b414):_0x13aff2<0x889+-0xb*0x15e+0x7*0xfe?(_0xdfa105|=0x1fda+-0x2629*0x1+-0xb*-0x14d,_0x19b414|=(_0xdfa105>>-0xefb+-0x904*-0x3+-0xb9f-_0x13aff2)+(_0xdfa105>>0x245f+0xb*-0x163+-0x14ad-_0x13aff2&0x18a5+0x2*0x7de+-0x26*0x110),_0x19b414):(_0x19b414|=_0x13aff2-(-0x138e+0x26aa+-0x1de*0xa)<<0x94d*-0x2+-0x733+0x19d7|_0xdfa105>>0x4*-0x62b+0xc78+-0xc35*-0x1,_0x19b414+=_0xdfa105&0x2*-0x22a+-0x1*0x146b+0xc6*0x20,_0x19b414);}static['float2Byte'+'s'](_0x184fd1,_0x3dbca0,_0x5674f3,_0x57273a){const _0x221bfd=(-0xf6b+0x1d47+-0xcdd)*_0x184fd1%(0x1fc*-0x1+-0x43*-0x5+0x6*0x1d);if(_0x3dbca0[_0x5674f3+(0x3*-0x6e3+-0x2676+0x3b1f)]=Math['round']((_0x184fd1%(0x216a+-0x26c1+0x558)-id*_0x221bfd)*(-0x2605+0xd*-0xdb+-0x2f3*-0x11)),_0x57273a>0x1b29+-0x26db+-0x257*-0x5){const _0x204372=(-0x7b45*-0x3+0x99e0+-0x1*0x10dae)*_0x184fd1%(0x265b*0x1+0x138+-0x2792);if(_0x3dbca0[_0x5674f3+(-0x3c1+0x2d9+0xe9)]=Math['round']((_0x221bfd-id*_0x204372)*(-0x1785+-0x1fd1+-0xb*-0x51f)),_0x57273a>-0x13dc+-0x9cd*0x1+-0x5*-0x5ef){const _0x45b948=(-0x17e20fe+0x59*0x18c7a+0x1f14d93)*_0x184fd1%(0x6*-0x2f1+0x9ed+0x7ba);_0x3dbca0[_0x5674f3+(0x5bb*-0x1+0x1f4e*-0x1+0x250b)]=Math['round']((_0x204372-id*_0x45b948)*(0xbf*0x29+-0xb*-0x22d+0x1*-0x3587)),_0x57273a>0x41c+-0x71f+-0x2*-0x183&&(_0x3dbca0[_0x5674f3+(-0x1*-0x21d+-0x3f+-0x1db)]=Math['round'](_0x45b948*(0xf90+0x415*-0x2+-0x667)));}}}static['float2Byte'+'sRange'](_0xc55f17,_0x5420b3,_0x440966,_0x1ee0b6,_0x4a6114,_0x101638){(_0xc55f17<_0x1ee0b6||_0xc55f17>_0x4a6114)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0xc55f17=N['clamp']((_0xc55f17-_0x1ee0b6)/(_0x4a6114-_0x1ee0b6),0x57*0x25+-0x1a74+-0xbb*-0x13,-0xd51+0x1c6d+-0xf1b),$t['float2Byte'+'s'](_0xc55f17,_0x5420b3,_0x440966,_0x101638);}static['float2RGBA'+'8'](_0x589268,_0x325f9b){du[-0x2a2*-0x2+0x1f0b+-0x244f]=_0x589268;const _0x45052e=rm[0x7*-0x243+-0x5*0x19d+0x17e6];_0x325f9b['r']=(_0x45052e>>-0x25bf+-0x21cb+0x47a2&-0x2*-0x12d9+-0x1*-0x1517+-0x39ca)/(0x20*0xd6+0xb*-0x29f+0xc5*0x4),_0x325f9b['g']=(_0x45052e>>0x1fa3+0x8c8+0x285b*-0x1&-0x1*0xe71+-0x267f*-0x1+-0x1*0x170f)/(-0x248+0x1802*0x1+0x6e9*-0x3),_0x325f9b['b']=(_0x45052e>>-0x6d*-0x2b+-0x1f*-0x38+-0x190f&0x1*-0x185b+-0x5d1+0x65*0x4f)/(-0x2284+0x6e*-0x56+0x1*0x4877),_0x325f9b['a']=(_0x45052e&0xe6b+-0x49*0x3a+0x31e)/(0x1c67+0xfb*0x5+0x9*-0x397);}}const rt=class rt{constructor(_0x2ad400=-0x81*0x17+-0x1766+-0x1*-0x22fd,_0x34283f=0x23ea+0x6*0x19b+-0x2d8c,_0x79a400=-0x1250+-0x1924+-0x19c*-0x1b){c(this,'x'),c(this,'y'),c(this,'z'),_0x2ad400['length']===-0x277*-0x7+-0x19bd+0x87f?(this['x']=_0x2ad400[0x1c66+-0x6bf+-0x15a7],this['y']=_0x2ad400[-0x109+0xb5*-0x2f+0x1f*0x11b],this['z']=_0x2ad400[-0x1709*-0x1+0x209*-0x7+-0x1*0x8c8]):(this['x']=_0x2ad400,this['y']=_0x34283f,this['z']=_0x79a400);}['add'](_0x3770b8){return this['x']+=_0x3770b8['x'],this['y']+=_0x3770b8['y'],this['z']+=_0x3770b8['z'],this;}['add2'](_0x3bec7f,_0x5a2525){return this['x']=_0x3bec7f['x']+_0x5a2525['x'],this['y']=_0x3bec7f['y']+_0x5a2525['y'],this['z']=_0x3bec7f['z']+_0x5a2525['z'],this;}['addScalar'](_0x2da937){return this['x']+=_0x2da937,this['y']+=_0x2da937,this['z']+=_0x2da937,this;}['addScaled'](_0x31853e,_0x94407e){return this['x']+=_0x31853e['x']*_0x94407e,this['y']+=_0x31853e['y']*_0x94407e,this['z']+=_0x31853e['z']*_0x94407e,this;}['clone'](){const _0x48eca1=this['constructo'+'r'];return new _0x48eca1(this['x'],this['y'],this['z']);}['copy'](_0xbe4c8){return this['x']=_0xbe4c8['x'],this['y']=_0xbe4c8['y'],this['z']=_0xbe4c8['z'],this;}['cross'](_0x2add4d,_0x55ae9a){const _0x51f296=_0x2add4d['x'],_0x3b68f7=_0x2add4d['y'],_0x19fb18=_0x2add4d['z'],_0x277c50=_0x55ae9a['x'],_0x3b63a3=_0x55ae9a['y'],_0x1d6d41=_0x55ae9a['z'];return this['x']=_0x3b68f7*_0x1d6d41-_0x3b63a3*_0x19fb18,this['y']=_0x19fb18*_0x277c50-_0x1d6d41*_0x51f296,this['z']=_0x51f296*_0x3b63a3-_0x277c50*_0x3b68f7,this;}['distance'](_0x50cdf4){const _0x59c216=this['x']-_0x50cdf4['x'],_0x4437cd=this['y']-_0x50cdf4['y'],_0x40cea4=this['z']-_0x50cdf4['z'];return Math['sqrt'](_0x59c216*_0x59c216+_0x4437cd*_0x4437cd+_0x40cea4*_0x40cea4);}['div'](_0x532477){return this['x']/=_0x532477['x'],this['y']/=_0x532477['y'],this['z']/=_0x532477['z'],this;}['div2'](_0x45ddca,_0x4d00c1){return this['x']=_0x45ddca['x']/_0x4d00c1['x'],this['y']=_0x45ddca['y']/_0x4d00c1['y'],this['z']=_0x45ddca['z']/_0x4d00c1['z'],this;}['divScalar'](_0xf0410){return this['x']/=_0xf0410,this['y']/=_0xf0410,this['z']/=_0xf0410,this;}['dot'](_0x3bf404){return this['x']*_0x3bf404['x']+this['y']*_0x3bf404['y']+this['z']*_0x3bf404['z'];}['equals'](_0x51c99a){return this['x']===_0x51c99a['x']&&this['y']===_0x51c99a['y']&&this['z']===_0x51c99a['z'];}['equalsAppr'+'ox'](_0x4c576a,_0x4c87c3=0x2*0xb6b+-0x24eb+0x2d1*0x5+0.000001){return Math['abs'](this['x']-_0x4c576a['x'])<_0x4c87c3&&Math['abs'](this['y']-_0x4c576a['y'])<_0x4c87c3&&Math['abs'](this['z']-_0x4c576a['z'])<_0x4c87c3;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x22a073,_0x3428b0,_0x4bb4f3){return this['x']=_0x22a073['x']+_0x4bb4f3*(_0x3428b0['x']-_0x22a073['x']),this['y']=_0x22a073['y']+_0x4bb4f3*(_0x3428b0['y']-_0x22a073['y']),this['z']=_0x22a073['z']+_0x4bb4f3*(_0x3428b0['z']-_0x22a073['z']),this;}['mul'](_0x50bf81){return this['x']*=_0x50bf81['x'],this['y']*=_0x50bf81['y'],this['z']*=_0x50bf81['z'],this;}['mul2'](_0x7569fa,_0x3da510){return this['x']=_0x7569fa['x']*_0x3da510['x'],this['y']=_0x7569fa['y']*_0x3da510['y'],this['z']=_0x7569fa['z']*_0x3da510['z'],this;}['mulScalar'](_0x35d8c1){return this['x']*=_0x35d8c1,this['y']*=_0x35d8c1,this['z']*=_0x35d8c1,this;}['normalize'](_0x19ef25=this){const _0x3375d8=_0x19ef25['x']*_0x19ef25['x']+_0x19ef25['y']*_0x19ef25['y']+_0x19ef25['z']*_0x19ef25['z'];if(_0x3375d8>-0x2*0x10ca+0x115*-0x1f+0x431f){const _0x34b5ff=(-0x121a+0x1*0x1087+-0x1*-0x194)/Math['sqrt'](_0x3375d8);this['x']=_0x19ef25['x']*_0x34b5ff,this['y']=_0x19ef25['y']*_0x34b5ff,this['z']=_0x19ef25['z']*_0x34b5ff;}return this;}['floor'](_0x6a3351=this){return this['x']=Math['floor'](_0x6a3351['x']),this['y']=Math['floor'](_0x6a3351['y']),this['z']=Math['floor'](_0x6a3351['z']),this;}['ceil'](_0x5a3574=this){return this['x']=Math['ceil'](_0x5a3574['x']),this['y']=Math['ceil'](_0x5a3574['y']),this['z']=Math['ceil'](_0x5a3574['z']),this;}['round'](_0x10a77c=this){return this['x']=Math['round'](_0x10a77c['x']),this['y']=Math['round'](_0x10a77c['y']),this['z']=Math['round'](_0x10a77c['z']),this;}['min'](_0x3cf484){return _0x3cf484['x']<this['x']&&(this['x']=_0x3cf484['x']),_0x3cf484['y']<this['y']&&(this['y']=_0x3cf484['y']),_0x3cf484['z']<this['z']&&(this['z']=_0x3cf484['z']),this;}['max'](_0x234470){return _0x234470['x']>this['x']&&(this['x']=_0x234470['x']),_0x234470['y']>this['y']&&(this['y']=_0x234470['y']),_0x234470['z']>this['z']&&(this['z']=_0x234470['z']),this;}['project'](_0x581c26){const _0x36f052=this['x']*_0x581c26['x']+this['y']*_0x581c26['y']+this['z']*_0x581c26['z'],_0x53a0c6=_0x581c26['x']*_0x581c26['x']+_0x581c26['y']*_0x581c26['y']+_0x581c26['z']*_0x581c26['z'],_0x4314ff=_0x36f052/_0x53a0c6;return this['x']=_0x581c26['x']*_0x4314ff,this['y']=_0x581c26['y']*_0x4314ff,this['z']=_0x581c26['z']*_0x4314ff,this;}['set'](_0x5d0b46,_0x206b1a,_0x2829b2){return this['x']=_0x5d0b46,this['y']=_0x206b1a,this['z']=_0x2829b2,this;}['sub'](_0x2a27e1){return this['x']-=_0x2a27e1['x'],this['y']-=_0x2a27e1['y'],this['z']-=_0x2a27e1['z'],this;}['sub2'](_0x5301a9,_0x2703b8){return this['x']=_0x5301a9['x']-_0x2703b8['x'],this['y']=_0x5301a9['y']-_0x2703b8['y'],this['z']=_0x5301a9['z']-_0x2703b8['z'],this;}['subScalar'](_0x3c1c67){return this['x']-=_0x3c1c67,this['y']-=_0x3c1c67,this['z']-=_0x3c1c67,this;}['fromArray'](_0x514a1f,_0x57cca5=-0x553+-0x3f*0x6b+0x1fa8){return this['x']=_0x514a1f[_0x57cca5]??this['x'],this['y']=_0x514a1f[_0x57cca5+(0x3*-0x9fe+0x197e+0x47d)]??this['y'],this['z']=_0x514a1f[_0x57cca5+(0x5de+0x1b1*0x10+-0x20ec)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x8d50d2=[],_0x211bae=-0x1*0x2614+-0x640*-0x2+0xcca*0x2){return _0x8d50d2[_0x211bae]=this['x'],_0x8d50d2[_0x211bae+(-0x1b36+0x2629+0x3a6*-0x3)]=this['y'],_0x8d50d2[_0x211bae+(0x9*-0x199+-0x14d6+-0x47*-0x7f)]=this['z'],_0x8d50d2;}};c(rt,'ZERO',Object['freeze'](new rt(0x17bd+-0x4*-0x967+-0x3d59,0x1*0xfa7+-0x217c+-0x53*-0x37,-0x1*0x1cd5+0xff*0xb+-0x68*-0x2c))),c(rt,'HALF',Object['freeze'](new rt(0x1*0x24dd+0x249d+-0x497a+0.5,-0x10*0xcd+-0x195d+0x262d+0.5,0x66f*0x1+0x2f4+-0x963+0.5))),c(rt,'ONE',Object['freeze'](new rt(-0x8*0x14+0x1f62+-0x1ec1,-0xca*0x19+-0x1729+0x4c4*0x9,0x1e36+0x14a3+0x2*-0x196c))),c(rt,'UP',Object['freeze'](new rt(0x41f+0x17e1+-0x1c00,0xb2*0x1b+0x15c+-0x1421,-0x4f6*-0x3+0x166+-0x1048))),c(rt,'DOWN',Object['freeze'](new rt(-0x73a+0xb99+-0x45f*0x1,-(0xf7f+0xe28+0x37*-0x8a),0x1fd5+0x2678+-0x464d))),c(rt,'RIGHT',Object['freeze'](new rt(-0x8ed*0x3+0x16e*0x12+0x10c,-0x42d+0x1d*-0x9f+0x1*0x1630,0x433+0x1600+-0x1a33))),c(rt,'LEFT',Object['freeze'](new rt(-(0x1*0x11e7+-0x75d*0x1+-0xa89),0x6*-0x486+0x20a6+-0x582,0xb4f+-0x1*0x25b1+-0x1a62*-0x1))),c(rt,'FORWARD',Object['freeze'](new rt(0xf*0x1f+0x1193*0x1+-0x1364,-0x6*0x1f0+0x1387+0x7e7*-0x1,-(0x2080+-0x3*-0xba9+0xb3f*-0x6)))),c(rt,'BACK',Object['freeze'](new rt(0x225f+-0x23de+0x17f,0xa4c+-0xcd2+0x11*0x26,-0x24f*0x3+0x840+-0x152*0x1)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(0xe61+-0xed6*0x2+-0x6d*-0x24)),this['data'][-0xa81+0xe2a+-0x3a9*0x1]=this['data'][0xbad+-0x2*-0xb0f+-0x21c7]=this['data'][0x246b+-0xbe4+-0x1*0x187f]=-0x2254+-0x2159*0x1+0x43ae;}['clone'](){const _0xa26080=this['constructo'+'r'];return new _0xa26080()['copy'](this);}['copy'](_0x3b0cd1){const _0x11fca0=_0x3b0cd1['data'],_0x21231a=this['data'];return _0x21231a[0x86f*0x4+-0x165f+-0xb5d]=_0x11fca0[0xaab+-0xe30+0x385],_0x21231a[0x1dc9*0x1+0xde4*0x2+-0x3990]=_0x11fca0[0x1398+0x23da*0x1+0x2eb*-0x13],_0x21231a[0x20c2+-0xaf7+-0xd*0x1ad]=_0x11fca0[-0xebc+0x132d+-0xe3*0x5],_0x21231a[0x1fac*0x1+-0x195b+0x327*-0x2]=_0x11fca0[0x1*-0x1511+0x180e+-0x17d*0x2],_0x21231a[-0xb5*-0x2d+-0x5*0x161+-0x18e8]=_0x11fca0[0x1190+0x17b8+-0x2944],_0x21231a[0x16e+-0x50+-0x119]=_0x11fca0[0x1c8d+-0x21ba+0x532],_0x21231a[0x3e*0x6a+0x2059+-0x2c3*0x15]=_0x11fca0[0x12b6*-0x2+0xec5+-0x2b*-0x87],_0x21231a[-0xb9f+-0x451*-0x1+-0x755*-0x1]=_0x11fca0[-0x1*-0x43f+0x2435+-0x4f*0x83],_0x21231a[-0x18ef+-0x1f50+-0x1*-0x3847]=_0x11fca0[-0x6ec*-0x4+-0x2637+0xa8f],this;}['set'](_0x4d370c){const _0x15bfb2=this['data'];return _0x15bfb2[0xd4d+-0xc10+0x13d*-0x1]=_0x4d370c[0x83c*0x1+-0xd69*-0x1+0x1*-0x15a5],_0x15bfb2[-0x2138+0x260*0x3+0x1a19]=_0x4d370c[0x18ea+0x7de+-0x20c7],_0x15bfb2[0x413+0x25d9*-0x1+0x21c8]=_0x4d370c[-0xaf*-0x16+0x3*-0x647+0x7*0x8b],_0x15bfb2[-0x1fd2+0x1*-0xd0f+0x2ce4]=_0x4d370c[-0x1ef7+-0x3*0x1f6+-0x151*-0x1c],_0x15bfb2[-0xd*-0xe7+0xd*0x286+-0x3*0xed7]=_0x4d370c[-0xad6+0x1*0x214a+-0x1670],_0x15bfb2[0x14*0x1e4+0x1abd+-0x4088]=_0x4d370c[-0x1*-0x913+-0xc97+0xb5*0x5],_0x15bfb2[0x1*-0xb03+0x1278+-0x1*0x76f]=_0x4d370c[-0x2429+-0x269a+-0x5*-0xef5],_0x15bfb2[0x5db+0x7a*0xb+-0xb12]=_0x4d370c[0x92c+-0x35*0x42+0x59*0xd],_0x15bfb2[-0xad*0x2c+-0x28d+0x2051]=_0x4d370c[0x1104+0x1*0x78d+-0x1889],this;}['getX'](_0x4b6669=new T()){return _0x4b6669['set'](this['data'][0xbea+-0x1*-0x1d39+-0x2923],this['data'][-0xaf2+0x2491+0x88a*-0x3],this['data'][-0x25cb+0x1e6f+0x75e]);}['getY'](_0x578a99=new T()){return _0x578a99['set'](this['data'][-0x8d7*0x1+0xd4f*-0x1+0x1*0x1629],this['data'][0x1*0x52f+0xaf4+-0x101f],this['data'][-0xa6a+-0xc10+0x167f]);}['getZ'](_0x1a6daa=new T()){return _0x1a6daa['set'](this['data'][0x1376+0x1618+-0x531*0x8],this['data'][0xfdd+-0x3*0x496+-0x214],this['data'][-0x25cb+-0x1*0xf7d+0x3550]);}['equals'](_0x52cbcf){const _0x2cd6b9=this['data'],_0x29ca54=_0x52cbcf['data'];return _0x2cd6b9[-0x1*0x12b9+-0x1332*-0x2+-0x109*0x13]===_0x29ca54[-0x200a*0x1+0x6*0x8+-0x12e*-0x1b]&&_0x2cd6b9[-0xca1+-0x81c+0x14be]===_0x29ca54[0x1f48+0x774+-0x26bb]&&_0x2cd6b9[0x1737+0x224*-0xa+0x1cd*-0x1]===_0x29ca54[0x1559+-0x1cea+-0x7*-0x115]&&_0x2cd6b9[-0x862+0x15b2+-0xd4d]===_0x29ca54[0xa33*-0x1+-0x1*0xdc1+0x17f7]&&_0x2cd6b9[0x1ab+0xfa3+-0x114a*0x1]===_0x29ca54[0xb6b+0x3*-0x7b2+-0x3*-0x3e5]&&_0x2cd6b9[-0x18d8+-0xd74+0x2651]===_0x29ca54[0x20c+0x65*0x29+-0x1234]&&_0x2cd6b9[0x16a1+0xb6+0x7f*-0x2f]===_0x29ca54[-0x2111+-0xc65+0x2d7c]&&_0x2cd6b9[0x13*0xdc+-0x1*-0x1f7b+-0x2c*0x116]===_0x29ca54[0x1275+0x1*0x22a8+-0x1c5*0x1e]&&_0x2cd6b9[0x14f2+0x106c+-0x2556]===_0x29ca54[0x1113+-0x1946+0x83b];}['isIdentity'](){const _0x180a8e=this['data'];return _0x180a8e[0x23f0+-0xed5+-0x709*0x3]===-0x1f78+0x4b8+0x1ac1&&_0x180a8e[0x2b+-0x73a+0x710]===-0x9e2+0x1926+-0xf44&&_0x180a8e[0x60*0x41+0x225d+0x9b*-0x61]===-0x2b5+0x227f*0x1+-0x1fca&&_0x180a8e[0x1041*0x1+-0x1911+0x8d3]===0x1*0x18f3+0x22*0x40+-0x1*0x2173&&_0x180a8e[-0xd78+0x13d*-0x17+0x29f7]===0x2ce+0x1ab9+-0x1d86&&_0x180a8e[0x527+0xb*-0x1d9+0xf31]===-0x1fb6+0x15ce+-0x1*-0x9e8&&_0x180a8e[0x5c*0x8+-0x3*-0x297+-0xa9f]===-0x1f96+0x3ee*-0x4+0x2f4e&&_0x180a8e[0x4*-0x13d+-0x8*0x87+-0x311*-0x3]===-0x1*0x245f+-0x5ad*0x1+0x2a0c&&_0x180a8e[0x8d7+0x77*0x7+-0xc10]===-0x1*-0x187f+-0xa33*-0x2+-0x2ce4;}['setIdentit'+'y'](){const _0xaa4c=this['data'];return _0xaa4c[0x627+-0x258+-0x3cf]=-0x1e30+0x1421*0x1+0xa10,_0xaa4c[-0xc88*-0x1+-0x29f*-0xb+0x14ae*-0x2]=0x18*0x15d+-0x837*-0x1+-0x28ef,_0xaa4c[-0xb2f*-0x1+0x22f8+0x1*-0x2e25]=0x107*0xe+-0x1*-0x178c+-0x5*0x796,_0xaa4c[-0x4*-0x19+-0x106c+0x100b]=0x109f+-0x19bf+0x920,_0xaa4c[0xd5e+0x19*0xda+-0x22a4]=0x16c5+0x140a+-0x2ace,_0xaa4c[-0x249c+0x6*0x499+0x90b]=-0x43*0x71+0xf9a+0xdf9,_0xaa4c[0x12*0x41+-0xae8+0x65c]=0x160f+0x239e+-0x39ad,_0xaa4c[-0x2eb*0x3+0x19*0xd5+-0xc05]=0x171*-0xf+-0xc8f+0x5*0x6d6,_0xaa4c[0x1*0x1976+-0x26*0x28+-0xa*0x1f3]=-0x6cc+-0x2c5*0xe+0x2d93,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x2c355f=this){const _0x5e96be=_0x2c355f['data'],_0x56c3d1=this['data'];if(_0x5e96be===_0x56c3d1){let _0x3b162b;_0x3b162b=_0x5e96be[-0x3d*-0x1+-0x1*-0x1ef9+-0x1f35],_0x56c3d1[0x1d*-0xb3+-0xec1+0x2309]=_0x5e96be[0x1dac+0x1fc8+-0x3d71],_0x56c3d1[-0x149*0x5+0x1bdf+0x3*-0x725]=_0x3b162b,_0x3b162b=_0x5e96be[-0xd*0x194+0x226e+-0x59*0x28],_0x56c3d1[-0x12e9+0xca0+-0x1*-0x64b]=_0x5e96be[-0x6df*-0x1+-0x1a*-0x167+0x1*-0x2b4f],_0x56c3d1[-0x84+0x3b*0x22+-0x74c*0x1]=_0x3b162b,_0x3b162b=_0x5e96be[-0x1*0x244d+-0x35*-0x3b+0x181b],_0x56c3d1[-0x1*0x955+0x4d*-0x4b+0x1fe9]=_0x5e96be[-0x863+0x19*-0xf7+-0x1*-0x2089],_0x56c3d1[-0x2347+-0x79c+0x2aea]=_0x3b162b;}else _0x56c3d1[0xccc+0x16ca+-0x2396]=_0x5e96be[-0x1bd0+-0x2608+0x38*0x12d],_0x56c3d1[-0x324+0x74*0x9+-0xef]=_0x5e96be[-0x2*0x66c+-0x1aa4+0x1*0x277f],_0x56c3d1[-0x61b*0x3+-0x14da+0x272d]=_0x5e96be[-0x21*0xa6+-0x184d+0x925*0x5],_0x56c3d1[-0x38*0x83+-0x1*-0x23f1+-0x746]=_0x5e96be[0x1*-0xff7+0x12*-0x1f8+0x3368],_0x56c3d1[-0x925+0x22bf*-0x1+-0xafa*-0x4]=_0x5e96be[-0x3*0x838+-0x9d+0x1949],_0x56c3d1[-0x1*0x1811+0x1096*-0x1+-0x13*-0x224]=_0x5e96be[0x22f4*0x1+0x1*-0x1307+-0xa*0x197],_0x56c3d1[0x22a7*-0x1+0xe6d+0x1440]=_0x5e96be[-0x1f9f+0x2*0x1016+-0x8b],_0x56c3d1[-0xa4e*0x1+-0x7df+0x1234]=_0x5e96be[0x1543+0x201d+-0x1d7*0x1d],_0x56c3d1[-0x9d5+0x4b1*0x3+-0x436]=_0x5e96be[-0x22ec+0x1*-0x1f37+-0x1*-0x422b];return this;}['setFromMat'+'4'](_0x2c2cfc){const _0x5f5d59=_0x2c2cfc['data'],_0x130a12=this['data'];return _0x130a12[-0x104b+-0x6d*-0x1+0xfde]=_0x5f5d59[0x5b4+0x5e7+-0xb9b],_0x130a12[-0x4*0x34f+-0x51e*0x4+-0x1*-0x21b5]=_0x5f5d59[0x1a6c+-0x59*0x19+0x1*-0x11ba],_0x130a12[-0x5*-0x255+0x885*-0x1+-0x322]=_0x5f5d59[-0x419+-0x1e5a+0x2275],_0x130a12[0x233f+-0x1*0x1762+-0xbda]=_0x5f5d59[0xd81*-0x1+0x1*-0x154d+0x22d2],_0x130a12[0xec7*-0x1+-0x409*-0x7+0x15*-0xa4]=_0x5f5d59[0x2200*-0x1+-0x5*-0x727+-0x1be],_0x130a12[-0xe*-0x204+-0x4*-0x39a+-0x2a9b]=_0x5f5d59[-0x1*0xa7f+-0x139*0xd+-0x45*-0x62],_0x130a12[0x2067+0x21d6+0x17*-0x2e1]=_0x5f5d59[0x18de+-0x14b*-0x7+-0x6c7*0x5],_0x130a12[0x1*-0xac+0x160+0x1*-0xad]=_0x5f5d59[0xc0*0x13+-0x1f50+-0x1*-0x1119],_0x130a12[-0xc4a+-0xa53*0x1+0xbb*0x1f]=_0x5f5d59[0x2*0x5f9+0x10d*-0x21+0x16c5],this;}['setFromQua'+'t'](_0x168807){const _0x5e2d44=_0x168807['x'],_0x202395=_0x168807['y'],_0x677517=_0x168807['z'],_0x2d957b=_0x168807['w'],_0x6993aa=_0x5e2d44+_0x5e2d44,_0x51e8a1=_0x202395+_0x202395,_0x403c5b=_0x677517+_0x677517,_0x58e1de=_0x5e2d44*_0x6993aa,_0x2a8853=_0x5e2d44*_0x51e8a1,_0x55dfb3=_0x5e2d44*_0x403c5b,_0x240a70=_0x202395*_0x51e8a1,_0x31e2f7=_0x202395*_0x403c5b,_0x220d0d=_0x677517*_0x403c5b,_0x33637d=_0x2d957b*_0x6993aa,_0x50e24a=_0x2d957b*_0x51e8a1,_0x5ee434=_0x2d957b*_0x403c5b,_0x4495f5=this['data'];return _0x4495f5[0x22f5+-0x1a75+-0x880]=0x2f*0x93+0x1c52+-0x374e-(_0x240a70+_0x220d0d),_0x4495f5[0x3a1*0x1+0x6d*0x20+-0x1140]=_0x2a8853+_0x5ee434,_0x4495f5[-0xb5d*-0x1+0x74b*0x1+-0x4d*0x3e]=_0x55dfb3-_0x50e24a,_0x4495f5[-0x1e3d+0x1*-0x1be5+0x3a25*0x1]=_0x2a8853-_0x5ee434,_0x4495f5[0x13a0+-0x153c+0x1a0]=-0x1*0x14bd+0x1e0c+-0x2*0x4a7-(_0x58e1de+_0x220d0d),_0x4495f5[0xb3*0x2e+-0xa7b+-0x15aa*0x1]=_0x31e2f7+_0x33637d,_0x4495f5[0x2f*0x94+0xccb+-0x27f1]=_0x55dfb3+_0x50e24a,_0x4495f5[0xdf8+-0xd07+-0xea]=_0x31e2f7-_0x33637d,_0x4495f5[0x1ad*-0xd+-0xfc1+0x2592]=0x1902+0x1666+-0x2f67-(_0x58e1de+_0x240a70),this;}['invertMat4'](_0x1d2e2f){const _0x1a2c2a=_0x1d2e2f['data'],_0x40e9e0=_0x1a2c2a[-0x5*-0x40f+0x172f+-0x459*0xa],_0x20cb67=_0x1a2c2a[-0x1*0x614+0x1185+-0xb70],_0x25f57d=_0x1a2c2a[0x6b5+0x11ac+-0x185f],_0x5b5aa7=_0x1a2c2a[-0x475+0x44c*0x2+-0x41f],_0x1cd61d=_0x1a2c2a[0x5ad*-0x1+0x2b3*-0x1+0x133*0x7],_0x1db8bb=_0x1a2c2a[0x1*-0x176f+-0x1063+-0x5*-0x7f8],_0x297c61=_0x1a2c2a[0x61b+0x245+-0x858],_0x37b9d7=_0x1a2c2a[-0x7d*-0x17+-0x23ad+0x187b],_0x2b048f=_0x1a2c2a[0xc77*-0x2+-0x2*0xf0d+0x3712],_0x33042c=_0x2b048f*_0x1cd61d-_0x1db8bb*_0x37b9d7,_0x3ba9c0=-_0x2b048f*_0x20cb67+_0x25f57d*_0x37b9d7,_0x52d009=_0x1db8bb*_0x20cb67-_0x25f57d*_0x1cd61d,_0x14a662=-_0x2b048f*_0x5b5aa7+_0x1db8bb*_0x297c61,_0x553962=_0x2b048f*_0x40e9e0-_0x25f57d*_0x297c61,_0x4aeab6=-_0x1db8bb*_0x40e9e0+_0x25f57d*_0x5b5aa7,_0x30900f=_0x37b9d7*_0x5b5aa7-_0x1cd61d*_0x297c61,_0x306867=-_0x37b9d7*_0x40e9e0+_0x20cb67*_0x297c61,_0x519c4f=_0x1cd61d*_0x40e9e0-_0x20cb67*_0x5b5aa7,_0x5c78e9=_0x40e9e0*_0x33042c+_0x20cb67*_0x14a662+_0x25f57d*_0x30900f;if(_0x5c78e9===-0x13*0x1f0+-0x6c8+0x2b98)this['setIdentit'+'y']();else{const _0x45766e=(0x2b2+-0x26ae+0x6f*0x53)/_0x5c78e9,_0x33d97f=this['data'];_0x33d97f[0xb27+0x1f7f+-0x2aa6]=_0x33042c*_0x45766e,_0x33d97f[0x93c+0x190c+-0xd*0x2a3]=_0x3ba9c0*_0x45766e,_0x33d97f[-0x133*-0x1d+0x1dc0+-0x4085]=_0x52d009*_0x45766e,_0x33d97f[-0x4*0x1+0x555+-0x54e]=_0x14a662*_0x45766e,_0x33d97f[0x22bf+0xd1c*-0x1+-0x159f*0x1]=_0x553962*_0x45766e,_0x33d97f[0x814+-0x2225*0x1+-0x6*-0x459]=_0x4aeab6*_0x45766e,_0x33d97f[-0x12a7*-0x1+0x3*-0x90b+0x880]=_0x30900f*_0x45766e,_0x33d97f[-0x16de+-0xc*0x236+-0x316d*-0x1]=_0x306867*_0x45766e,_0x33d97f[0xb*-0x35+0x1b40+-0x18f1]=_0x519c4f*_0x45766e;}return this;}['transformV'+'ector'](_0x21ffbb,_0x235350=new T()){const _0x39febf=this['data'],{x:_0x362d73,y:_0x51b280,z:_0x2c4d63}=_0x21ffbb;return _0x235350['x']=_0x362d73*_0x39febf[-0x1675+-0x60d*0x3+0xa27*0x4]+_0x51b280*_0x39febf[0x788+0x1004+-0xf1*0x19]+_0x2c4d63*_0x39febf[0x55d+-0x148c+0x11*0xe5],_0x235350['y']=_0x362d73*_0x39febf[-0x1b4f*-0x1+0xf*-0xf1+-0x2d*0x4b]+_0x51b280*_0x39febf[-0x1*-0x78e+-0xf86*-0x2+-0x2696]+_0x2c4d63*_0x39febf[0x617*0x6+-0x17d1+0x1*-0xcb2],_0x235350['z']=_0x362d73*_0x39febf[-0x1*-0x553+-0xac*0x2b+-0x163*-0x11]+_0x51b280*_0x39febf[0x1311*-0x1+-0x138a+0x26a0]+_0x2c4d63*_0x39febf[-0xe0*0x24+-0x163*-0x13+0x52f],_0x235350;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([0x9e*0x1+0x3b*-0x32+0x574*0x2,0x1*-0x6ab+-0xfa1+-0x593*-0x4,-0x81*-0x19+-0x46b*-0x6+0xd5*-0x2f,0x1af*-0x6+0x9e9+0x1*0x31,-0x7d4+0xdcb*0x1+-0x5f7,-0x1*-0x952+-0x1a8a+0x1138,-0x1172+0x25*-0x10d+0x3853,0x1d31+-0x121d+0x2*-0x58a,-0x144b+-0xc5e+-0xae3*-0x3])));let js=na;const wt=class wt{constructor(_0x4e413d=-0x1*-0xf98+-0x6d4+-0x8c4,_0x11618f=0x1089+0x1f45+0x2*-0x17e7){c(this,'x'),c(this,'y'),_0x4e413d['length']===0x1f9e+-0x152e*-0x1+-0x1d*0x1d2?(this['x']=_0x4e413d[0xa04+-0x42a+-0x5da],this['y']=_0x4e413d[0xb83+0x1a16+-0x2598]):(this['x']=_0x4e413d,this['y']=_0x11618f);}['add'](_0x12a358){return this['x']+=_0x12a358['x'],this['y']+=_0x12a358['y'],this;}['add2'](_0x12cc78,_0x2e68ce){return this['x']=_0x12cc78['x']+_0x2e68ce['x'],this['y']=_0x12cc78['y']+_0x2e68ce['y'],this;}['addScalar'](_0x491f1b){return this['x']+=_0x491f1b,this['y']+=_0x491f1b,this;}['addScaled'](_0x29313e,_0xaa84e9){return this['x']+=_0x29313e['x']*_0xaa84e9,this['y']+=_0x29313e['y']*_0xaa84e9,this;}['clone'](){const _0x417b78=this['constructo'+'r'];return new _0x417b78(this['x'],this['y']);}['copy'](_0x3e0eb9){return this['x']=_0x3e0eb9['x'],this['y']=_0x3e0eb9['y'],this;}['cross'](_0x2ad218){return this['x']*_0x2ad218['y']-this['y']*_0x2ad218['x'];}['distance'](_0x3d3526){const _0x49bcd0=this['x']-_0x3d3526['x'],_0x184e38=this['y']-_0x3d3526['y'];return Math['sqrt'](_0x49bcd0*_0x49bcd0+_0x184e38*_0x184e38);}['div'](_0x3238bc){return this['x']/=_0x3238bc['x'],this['y']/=_0x3238bc['y'],this;}['div2'](_0x58f84c,_0x4e500f){return this['x']=_0x58f84c['x']/_0x4e500f['x'],this['y']=_0x58f84c['y']/_0x4e500f['y'],this;}['divScalar'](_0x4b933f){return this['x']/=_0x4b933f,this['y']/=_0x4b933f,this;}['dot'](_0x36383a){return this['x']*_0x36383a['x']+this['y']*_0x36383a['y'];}['equals'](_0x1b7c7d){return this['x']===_0x1b7c7d['x']&&this['y']===_0x1b7c7d['y'];}['equalsAppr'+'ox'](_0xfa6fef,_0x250ebe=-0x17e+0xe*-0x74+-0x22*-0x3b+0.000001){return Math['abs'](this['x']-_0xfa6fef['x'])<_0x250ebe&&Math['abs'](this['y']-_0xfa6fef['y'])<_0x250ebe;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x26d86c,_0x1473ea,_0x3c3002){return this['x']=_0x26d86c['x']+_0x3c3002*(_0x1473ea['x']-_0x26d86c['x']),this['y']=_0x26d86c['y']+_0x3c3002*(_0x1473ea['y']-_0x26d86c['y']),this;}['mul'](_0x250ea3){return this['x']*=_0x250ea3['x'],this['y']*=_0x250ea3['y'],this;}['mul2'](_0xe0b4d3,_0x20ecd9){return this['x']=_0xe0b4d3['x']*_0x20ecd9['x'],this['y']=_0xe0b4d3['y']*_0x20ecd9['y'],this;}['mulScalar'](_0x45e03f){return this['x']*=_0x45e03f,this['y']*=_0x45e03f,this;}['normalize'](_0x20f501=this){const _0x5886cd=_0x20f501['x']*_0x20f501['x']+_0x20f501['y']*_0x20f501['y'];if(_0x5886cd>-0x1165+-0xe43+-0x1*-0x1fa8){const _0x27ee0d=(-0x1fdc+-0x65*0xd+0x24fe)/Math['sqrt'](_0x5886cd);this['x']=_0x20f501['x']*_0x27ee0d,this['y']=_0x20f501['y']*_0x27ee0d;}return this;}['rotate'](_0x29c080){const _0x3549aa=Math['atan2'](this['x'],this['y'])+_0x29c080*N['DEG_TO_RAD'],_0x25cf4b=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x3549aa)*_0x25cf4b,this['y']=Math['cos'](_0x3549aa)*_0x25cf4b,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x5baef8){return Math['atan2'](this['x']*_0x5baef8['y']+this['y']*_0x5baef8['x'],this['x']*_0x5baef8['x']+this['y']*_0x5baef8['y'])*N['RAD_TO_DEG'];}['floor'](_0x21f65c=this){return this['x']=Math['floor'](_0x21f65c['x']),this['y']=Math['floor'](_0x21f65c['y']),this;}['ceil'](_0xf0b7cd=this){return this['x']=Math['ceil'](_0xf0b7cd['x']),this['y']=Math['ceil'](_0xf0b7cd['y']),this;}['round'](_0x2e086e=this){return this['x']=Math['round'](_0x2e086e['x']),this['y']=Math['round'](_0x2e086e['y']),this;}['min'](_0x2b8819){return _0x2b8819['x']<this['x']&&(this['x']=_0x2b8819['x']),_0x2b8819['y']<this['y']&&(this['y']=_0x2b8819['y']),this;}['max'](_0xc48002){return _0xc48002['x']>this['x']&&(this['x']=_0xc48002['x']),_0xc48002['y']>this['y']&&(this['y']=_0xc48002['y']),this;}['set'](_0x32c48a,_0x2023a9){return this['x']=_0x32c48a,this['y']=_0x2023a9,this;}['sub'](_0x1b95bd){return this['x']-=_0x1b95bd['x'],this['y']-=_0x1b95bd['y'],this;}['sub2'](_0x4104c8,_0x1bb992){return this['x']=_0x4104c8['x']-_0x1bb992['x'],this['y']=_0x4104c8['y']-_0x1bb992['y'],this;}['subScalar'](_0x5a37bd){return this['x']-=_0x5a37bd,this['y']-=_0x5a37bd,this;}['fromArray'](_0x49144f,_0x1cf6f9=-0x14e6+0x2352+-0x11c*0xd){return this['x']=_0x49144f[_0x1cf6f9]??this['x'],this['y']=_0x49144f[_0x1cf6f9+(0x1adf+0x1274+-0x2d52)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x35d77a=[],_0x1b67db=-0xc7c+-0xc*-0x13a+-0x23c){return _0x35d77a[_0x1b67db]=this['x'],_0x35d77a[_0x1b67db+(-0x197c+-0x2467+0x4*0xf79)]=this['y'],_0x35d77a;}static['angleRad'](_0x163e27,_0xcf32ee){return Math['atan2'](_0x163e27['x']*_0xcf32ee['y']-_0x163e27['y']*_0xcf32ee['x'],_0x163e27['x']*_0xcf32ee['x']+_0x163e27['y']*_0xcf32ee['y']);}};c(wt,'ZERO',Object['freeze'](new wt(-0x1f*-0x39+-0x8ae+0x1c7,0x1*-0x166f+0x6*-0x1+0x1675))),c(wt,'HALF',Object['freeze'](new wt(0x2335*0x1+-0x1837*0x1+-0xafe+0.5,-0x1*-0x1de6+-0x1980+0x466*-0x1+0.5))),c(wt,'ONE',Object['freeze'](new wt(-0x1*0x163d+0x11*0x20e+-0xcb0,-0x55*0x17+-0xbf8+0x139c))),c(wt,'UP',Object['freeze'](new wt(0x1f57+0x46f*0x5+-0x3582,0x150b*-0x1+-0x213e+-0x364a*-0x1))),c(wt,'DOWN',Object['freeze'](new wt(0x241b+0x1422+0x12bf*-0x3,-(-0x1*-0x982+0x11*0x29+0x5*-0x272)))),c(wt,'RIGHT',Object['freeze'](new wt(-0xb*-0x20c+0x298*0x4+0x20e3*-0x1,-0x1*0x1cfa+0x1b3f+0x1bb))),c(wt,'LEFT',Object['freeze'](new wt(-(-0x2650+0x15*-0x18a+0x46a3),-0x1829*0x1+-0x1288+0x2ab1)));let $=wt;const Yi=class Yi{constructor(_0x1e7c01=-0x932+0x11a6+-0x874,_0x62a4e2=0x1fc1*-0x1+0x1d5*-0xd+0x1bc9*0x2,_0x4dc023=-0x1bf1+0x1*0x52+-0x3*-0x935,_0x1528d6=0x34*-0x37+-0xacb+0x15f7){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x1e7c01['length']===0xe95+-0x1f*0xd4+0xb1b?(this['x']=_0x1e7c01[0x18df+-0xfa1+-0xd*0xb6],this['y']=_0x1e7c01[-0x7b7+0xb*-0x379+0x2deb],this['z']=_0x1e7c01[0x160f+0x1*-0x23ea+-0xddd*-0x1],this['w']=_0x1e7c01[-0x12e1*0x1+0x1183+0x161]):(this['x']=_0x1e7c01,this['y']=_0x62a4e2,this['z']=_0x4dc023,this['w']=_0x1528d6);}['add'](_0x33e569){return this['x']+=_0x33e569['x'],this['y']+=_0x33e569['y'],this['z']+=_0x33e569['z'],this['w']+=_0x33e569['w'],this;}['add2'](_0x2712b8,_0x3d582f){return this['x']=_0x2712b8['x']+_0x3d582f['x'],this['y']=_0x2712b8['y']+_0x3d582f['y'],this['z']=_0x2712b8['z']+_0x3d582f['z'],this['w']=_0x2712b8['w']+_0x3d582f['w'],this;}['addScalar'](_0x5b1244){return this['x']+=_0x5b1244,this['y']+=_0x5b1244,this['z']+=_0x5b1244,this['w']+=_0x5b1244,this;}['addScaled'](_0x4b9a56,_0x449bbf){return this['x']+=_0x4b9a56['x']*_0x449bbf,this['y']+=_0x4b9a56['y']*_0x449bbf,this['z']+=_0x4b9a56['z']*_0x449bbf,this['w']+=_0x4b9a56['w']*_0x449bbf,this;}['clone'](){const _0x673f91=this['constructo'+'r'];return new _0x673f91(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x47b2aa){return this['x']=_0x47b2aa['x'],this['y']=_0x47b2aa['y'],this['z']=_0x47b2aa['z'],this['w']=_0x47b2aa['w'],this;}['div'](_0x4594fe){return this['x']/=_0x4594fe['x'],this['y']/=_0x4594fe['y'],this['z']/=_0x4594fe['z'],this['w']/=_0x4594fe['w'],this;}['div2'](_0x59e5fd,_0x27d56e){return this['x']=_0x59e5fd['x']/_0x27d56e['x'],this['y']=_0x59e5fd['y']/_0x27d56e['y'],this['z']=_0x59e5fd['z']/_0x27d56e['z'],this['w']=_0x59e5fd['w']/_0x27d56e['w'],this;}['divScalar'](_0x5a326c){return this['x']/=_0x5a326c,this['y']/=_0x5a326c,this['z']/=_0x5a326c,this['w']/=_0x5a326c,this;}['dot'](_0x20e6a3){return this['x']*_0x20e6a3['x']+this['y']*_0x20e6a3['y']+this['z']*_0x20e6a3['z']+this['w']*_0x20e6a3['w'];}['equals'](_0x436c99){return this['x']===_0x436c99['x']&&this['y']===_0x436c99['y']&&this['z']===_0x436c99['z']&&this['w']===_0x436c99['w'];}['equalsAppr'+'ox'](_0x59d5ee,_0x338ea8=-0x2122*-0x1+0x29b+0x23bd*-0x1+0.000001){return Math['abs'](this['x']-_0x59d5ee['x'])<_0x338ea8&&Math['abs'](this['y']-_0x59d5ee['y'])<_0x338ea8&&Math['abs'](this['z']-_0x59d5ee['z'])<_0x338ea8&&Math['abs'](this['w']-_0x59d5ee['w'])<_0x338ea8;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x54fc31,_0xf9e1,_0x4324cb){return this['x']=_0x54fc31['x']+_0x4324cb*(_0xf9e1['x']-_0x54fc31['x']),this['y']=_0x54fc31['y']+_0x4324cb*(_0xf9e1['y']-_0x54fc31['y']),this['z']=_0x54fc31['z']+_0x4324cb*(_0xf9e1['z']-_0x54fc31['z']),this['w']=_0x54fc31['w']+_0x4324cb*(_0xf9e1['w']-_0x54fc31['w']),this;}['mul'](_0x5ace73){return this['x']*=_0x5ace73['x'],this['y']*=_0x5ace73['y'],this['z']*=_0x5ace73['z'],this['w']*=_0x5ace73['w'],this;}['mul2'](_0x4cef4c,_0x2c11c3){return this['x']=_0x4cef4c['x']*_0x2c11c3['x'],this['y']=_0x4cef4c['y']*_0x2c11c3['y'],this['z']=_0x4cef4c['z']*_0x2c11c3['z'],this['w']=_0x4cef4c['w']*_0x2c11c3['w'],this;}['mulScalar'](_0x2c5678){return this['x']*=_0x2c5678,this['y']*=_0x2c5678,this['z']*=_0x2c5678,this['w']*=_0x2c5678,this;}['normalize'](_0x25d8ac=this){const _0x4c6ed8=_0x25d8ac['x']*_0x25d8ac['x']+_0x25d8ac['y']*_0x25d8ac['y']+_0x25d8ac['z']*_0x25d8ac['z']+_0x25d8ac['w']*_0x25d8ac['w'];if(_0x4c6ed8>0x1*0x1de1+0x1b*0x145+0x2*-0x2014){const _0x2048c5=(0x965+0x20b*-0xa+0xb0a)/Math['sqrt'](_0x4c6ed8);this['x']=_0x25d8ac['x']*_0x2048c5,this['y']=_0x25d8ac['y']*_0x2048c5,this['z']=_0x25d8ac['z']*_0x2048c5,this['w']=_0x25d8ac['w']*_0x2048c5;}return this;}['floor'](_0x169a67=this){return this['x']=Math['floor'](_0x169a67['x']),this['y']=Math['floor'](_0x169a67['y']),this['z']=Math['floor'](_0x169a67['z']),this['w']=Math['floor'](_0x169a67['w']),this;}['ceil'](_0x8774ef=this){return this['x']=Math['ceil'](_0x8774ef['x']),this['y']=Math['ceil'](_0x8774ef['y']),this['z']=Math['ceil'](_0x8774ef['z']),this['w']=Math['ceil'](_0x8774ef['w']),this;}['round'](_0x47d3d7=this){return this['x']=Math['round'](_0x47d3d7['x']),this['y']=Math['round'](_0x47d3d7['y']),this['z']=Math['round'](_0x47d3d7['z']),this['w']=Math['round'](_0x47d3d7['w']),this;}['min'](_0x15628d){return _0x15628d['x']<this['x']&&(this['x']=_0x15628d['x']),_0x15628d['y']<this['y']&&(this['y']=_0x15628d['y']),_0x15628d['z']<this['z']&&(this['z']=_0x15628d['z']),_0x15628d['w']<this['w']&&(this['w']=_0x15628d['w']),this;}['max'](_0x2b3a15){return _0x2b3a15['x']>this['x']&&(this['x']=_0x2b3a15['x']),_0x2b3a15['y']>this['y']&&(this['y']=_0x2b3a15['y']),_0x2b3a15['z']>this['z']&&(this['z']=_0x2b3a15['z']),_0x2b3a15['w']>this['w']&&(this['w']=_0x2b3a15['w']),this;}['set'](_0x2ad29,_0x1278ae,_0xdbc230,_0x19232f){return this['x']=_0x2ad29,this['y']=_0x1278ae,this['z']=_0xdbc230,this['w']=_0x19232f,this;}['sub'](_0x438b6d){return this['x']-=_0x438b6d['x'],this['y']-=_0x438b6d['y'],this['z']-=_0x438b6d['z'],this['w']-=_0x438b6d['w'],this;}['sub2'](_0xae444b,_0x5a9778){return this['x']=_0xae444b['x']-_0x5a9778['x'],this['y']=_0xae444b['y']-_0x5a9778['y'],this['z']=_0xae444b['z']-_0x5a9778['z'],this['w']=_0xae444b['w']-_0x5a9778['w'],this;}['subScalar'](_0x30bd9e){return this['x']-=_0x30bd9e,this['y']-=_0x30bd9e,this['z']-=_0x30bd9e,this['w']-=_0x30bd9e,this;}['fromArray'](_0x3b6399,_0x3f722e=-0x85f*0x3+0x1981*0x1+0x32*-0x2){return this['x']=_0x3b6399[_0x3f722e]??this['x'],this['y']=_0x3b6399[_0x3f722e+(0x1b7c+-0x1933+-0x248)]??this['y'],this['z']=_0x3b6399[_0x3f722e+(-0x18c+-0x212d+-0x20b*-0x11)]??this['z'],this['w']=_0x3b6399[_0x3f722e+(0x2163+-0x1e1+-0x1f7f)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0xb85570=[],_0x2bdfa0=-0x2dd*0xb+-0x1d52+0x3cd1){return _0xb85570[_0x2bdfa0]=this['x'],_0xb85570[_0x2bdfa0+(0x1*-0x7cf+0x10f1*0x2+-0x1a12)]=this['y'],_0xb85570[_0x2bdfa0+(-0x70*-0x56+-0x2505+-0x99)]=this['z'],_0xb85570[_0x2bdfa0+(-0xf9c+0x1*-0xa7f+0x1a1e)]=this['w'],_0xb85570;}};c(Yi,'ZERO',Object['freeze'](new Yi(0x8d*0x13+0xd76+-0x17ed,0x1*0x152b+-0xed+-0x143e,-0x1ea1*-0x1+-0x5ea+-0x3*0x83d,-0x159a+-0x7d0+-0x3*-0x9ce))),c(Yi,'HALF',Object['freeze'](new Yi(0x271*-0x5+-0x1aa9+0x26de*0x1+0.5,-0x1f6d*-0x1+-0x1309+0x1a*-0x7a+0.5,0x1110+-0x125*-0x10+-0x2360+0.5,0x1*-0xb39+-0x1b97+0x26d0+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(0x5*0x10f+0x2144+-0x268e,-0x84f+0x6b5*0x1+0x3*0x89,0x1cea+0x16f2+-0x33db,0x1b*-0x13a+0x14a7+0xc78)));let Q=Yi;const Ua=new $(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(0x605+0x3b*-0x44+0x9b7)),this['data'][0x1dd1+0x2479+-0x424a]=this['data'][-0xbe4*-0x3+0x370+-0x2717*0x1]=this['data'][0x5f+-0x7a6+-0x751*-0x1]=this['data'][-0x5*0x451+0x835*0x1+-0x13*-0xb5]=-0x18d*0x1+0x2308+-0x217a;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x2d3e7c,_0x20743c,_0x20cb43,_0x503008,_0x44cca6){_0x44cca6?(_0x2d3e7c['x']=_0x503008*Math['tan'](_0x20743c*Math['PI']/(0x2338+-0x2065+-0x16b)),_0x2d3e7c['y']=_0x2d3e7c['x']/_0x20cb43):(_0x2d3e7c['y']=_0x503008*Math['tan'](_0x20743c*Math['PI']/(0x1a26+0x22a6+-0x15*0x2d4)),_0x2d3e7c['x']=_0x2d3e7c['y']*_0x20cb43);}['add2'](_0x58e251,_0x5c8aac){const _0x3d955b=_0x58e251['data'],_0x45d19b=_0x5c8aac['data'],_0x5ca091=this['data'];return _0x5ca091[0x1781*-0x1+0xc89+0xaf8]=_0x3d955b[-0xc8f+-0x161c+0x47*0x7d]+_0x45d19b[0x1ecb+-0x29*0x33+0x20*-0xb5],_0x5ca091[-0x2033+0x1df7*0x1+-0xbf*-0x3]=_0x3d955b[-0x18e9+0x259b+-0xcb1]+_0x45d19b[0x13d9+-0x1b5f+-0x2f*-0x29],_0x5ca091[0x1*0x2f5+-0x1508+-0x1215*-0x1]=_0x3d955b[-0x1*0x17db+-0xe0*0x25+0x383d]+_0x45d19b[-0x1253*-0x1+-0x669*0x5+0xdbc],_0x5ca091[0x2ec+-0x9d*0x7+0x162]=_0x3d955b[-0x93c+-0x10c*-0x12+0x1b*-0x5b]+_0x45d19b[-0x225f+0x26be+-0x45c],_0x5ca091[-0x1f12*-0x1+0x1*0x153c+-0x6*0x8b7]=_0x3d955b[0x51e*-0x5+0x1*-0x48a+-0x1*-0x1e24]+_0x45d19b[-0xb*-0x1ed+-0x43a*0x1+0x1*-0x10f1],_0x5ca091[-0x77a+-0x5d*-0x46+0x11ef*-0x1]=_0x3d955b[-0x228*-0xc+-0x2*0xb6a+-0x307]+_0x45d19b[0x55a*-0x1+0x1*-0xc9b+0x11fa],_0x5ca091[0x2+0xc83*0x3+-0x2585]=_0x3d955b[0x8*0x4c7+0x1*-0x1329+-0x1309]+_0x45d19b[0x1ba6+0x9*0x133+-0x266b],_0x5ca091[0xcb7+-0x1*0x2249+0x1599]=_0x3d955b[-0xe*0x44+0x267+-0x158*-0x1]+_0x45d19b[-0x12e6+0x1c33+-0x946],_0x5ca091[0x2d*-0x45+-0x9*-0x295+0x58a*-0x2]=_0x3d955b[-0xa7d+-0x8b2+-0x1*-0x1337]+_0x45d19b[0x13ec+-0x1da5+-0xb*-0xe3],_0x5ca091[-0x142*-0xf+-0x23*-0xd+-0x149c]=_0x3d955b[0x2135*0x1+-0x22f7+-0x11*-0x1b]+_0x45d19b[0x40*-0x36+0x1*-0x4c6+-0x1*-0x124f],_0x5ca091[0x1*0x14bf+-0x355*0xb+-0x7f9*-0x2]=_0x3d955b[-0xb28+-0x17fc+-0x4f*-0x72]+_0x45d19b[0x11*0x1c1+0x86d+0x3*-0xcbc],_0x5ca091[-0xdf3*0x1+-0x1d8d+0x2b8b]=_0x3d955b[-0x133*0x17+0x1*0x1529+-0x14b*-0x5]+_0x45d19b[-0x4*-0x134+0x1ddf+-0x22a4],_0x5ca091[0x5*0x215+-0x4a1*0x1+0x2*-0x2de]=_0x3d955b[0x1*0x22e1+-0x24c3+0x1ee]+_0x45d19b[-0xf0f+-0x58a*-0x2+0x407],_0x5ca091[0x1234*-0x1+-0x52*-0x6a+-0xfb3]=_0x3d955b[0x1770+-0x283*0x4+-0xd57]+_0x45d19b[0x1387*0x2+0xa15*-0x1+-0x9a4*0x3],_0x5ca091[0x143*-0x17+-0x4ea+-0x4d*-0x71]=_0x3d955b[-0x3b*-0x71+-0x362+-0x9*0x283]+_0x45d19b[-0x818+0x98e*-0x4+0x4a3*0xa],_0x5ca091[0x1933*0x1+-0x1*0xe09+-0xb1b]=_0x3d955b[0x13e1+-0x54b+-0xe87]+_0x45d19b[0x461*0x2+-0x220a*-0x1+-0x2abd],this;}['add'](_0x144402){return this['add2'](this,_0x144402);}['clone'](){const _0x34904a=this['constructo'+'r'];return new _0x34904a()['copy'](this);}['copy'](_0x2fee7d){const _0x3b119e=_0x2fee7d['data'],_0x3fc5c3=this['data'];return _0x3fc5c3[-0x1e6c+-0x1e*-0x126+-0x408]=_0x3b119e[0x19b8+0x5*-0xe5+0x7*-0x309],_0x3fc5c3[-0x593*-0x2+-0x18fe+-0xdd9*-0x1]=_0x3b119e[-0x50c*0x7+0x23b8+0x21*-0x3],_0x3fc5c3[-0x36b*-0x7+0x1d6c+-0x3557]=_0x3b119e[-0x45b*-0x1+-0x1063+0xc0a*0x1],_0x3fc5c3[-0x17d*-0x19+-0x130+0x1201*-0x2]=_0x3b119e[-0xb96+0x1*-0x10c7+-0x1c60*-0x1],_0x3fc5c3[0x727*0x2+-0x1fb*-0xd+-0x2809]=_0x3b119e[-0x53f*-0x1+-0xc23*-0x2+-0x1d81],_0x3fc5c3[-0x1ec7+-0x18f9+0x37c5]=_0x3b119e[-0x713*0x1+-0x15e+0x876],_0x3fc5c3[-0x1faa+0x17e*0xf+0x31a*0x3]=_0x3b119e[-0x1bb*0xa+-0x7c9*0x4+-0xc*-0x40a],_0x3fc5c3[-0x2f*0x11+0x1c61*-0x1+0x481*0x7]=_0x3b119e[-0x2050+0x219f+-0x2*0xa4],_0x3fc5c3[0x3d6+0x53e+-0x90c]=_0x3b119e[-0x1*0xc44+0x1216*-0x1+0x1e62],_0x3fc5c3[0x1a1e+-0x20f9+0x6e4]=_0x3b119e[0x3*-0x1bb+0xd7a+-0xb0*0xc],_0x3fc5c3[0x7*-0x319+0x866+0xd53*0x1]=_0x3b119e[0x1b1*-0xe+-0x14c*-0x1+0x4*0x59b],_0x3fc5c3[-0x1*0x1a1f+-0x1525+0x2f4f]=_0x3b119e[0x8f*-0x17+0x1f64+-0x8*0x250],_0x3fc5c3[0x14*-0x68+0x1e4*-0xe+0x6*0x5c6]=_0x3b119e[0x2*-0x287+0x14de+-0x3f1*0x4],_0x3fc5c3[0x2*0x6fc+-0x80a+-0x12d*0x5]=_0x3b119e[0x1bbd+-0x14e4+-0x6cc],_0x3fc5c3[0x2550+-0x1ccf+0x3*-0x2d1]=_0x3b119e[0x25bd+-0x193a*0x1+0x3*-0x427],_0x3fc5c3[0x1c1a+-0xb*-0x119+-0x281e]=_0x3b119e[0x1*0x587+-0x10d*0x1a+0x15da],this;}['equals'](_0x567d77){const _0xd260ec=this['data'],_0x4db1e0=_0x567d77['data'];return _0xd260ec[-0x1*-0x2089+-0x115f+-0x795*0x2]===_0x4db1e0[0x1e23+-0x10b2*-0x2+-0x3f87]&&_0xd260ec[0x3*0xcff+-0x59*-0x66+0x1*-0x4a72]===_0x4db1e0[-0x1c9*-0x3+-0x25f0+0x2b*0xc2]&&_0xd260ec[-0x1*0x311+-0x679*-0x4+-0x213*0xb]===_0x4db1e0[0x1*0x14ba+0xd*-0x1fb+0x507*0x1]&&_0xd260ec[-0x1e1+-0x143*0x1d+0x267b]===_0x4db1e0[0x1*-0x15ff+0x6*-0x579+0x36d8]&&_0xd260ec[0x1a64+0x7cb+-0x222b]===_0x4db1e0[0x9d0+-0xb*0x225+-0xdcb*-0x1]&&_0xd260ec[0xcaa*-0x2+0x2*0x12d6+0x277*-0x5]===_0x4db1e0[-0x9*-0x43+-0x121c+-0x2a1*-0x6]&&_0xd260ec[0x15da*-0x1+0x30*0x7e+-0x1c0]===_0x4db1e0[-0x9*0x188+0x244d+-0x167f]&&_0xd260ec[-0x99e*-0x1+-0xcd8*-0x2+-0x2347*0x1]===_0x4db1e0[-0x19b5*-0x1+0x1e85+-0x3833]&&_0xd260ec[-0x1d10+-0x1c0f+-0x3927*-0x1]===_0x4db1e0[-0x1fc6+0x199f*-0x1+0x396d]&&_0xd260ec[0xa*0x19+0x5f*0x11+-0x10*0x74]===_0x4db1e0[0x21*-0xac+0x1*0x157f+0xb6*0x1]&&_0xd260ec[0x2d9*-0x1+-0x5*0x445+0x2*0xc1e]===_0x4db1e0[0x1219*-0x2+-0xaae+0x2eea]&&_0xd260ec[-0x3*-0xacf+0x1321*-0x2+0x5e0]===_0x4db1e0[-0x9a7+-0x2b3*0x1+0x1*0xc65]&&_0xd260ec[-0x2*-0xb76+0x23b5+0x3*-0x1387]===_0x4db1e0[-0xd*0xb5+-0x2088+0x29c5*0x1]&&_0xd260ec[-0x99+-0xc28*-0x2+-0x17aa*0x1]===_0x4db1e0[0xac8+-0x8b6+-0x205]&&_0xd260ec[0x17b*-0x17+0x257e+-0x363]===_0x4db1e0[-0x1*0xc17+-0x1381*-0x1+0x6*-0x13a]&&_0xd260ec[-0x157d+-0x1*0x1708+0x2c94]===_0x4db1e0[-0xaa*0x1+-0x1253*-0x1+-0x119a];}['isIdentity'](){const _0x4d6430=this['data'];return _0x4d6430[0x500+-0xdd3*-0x1+-0x12d3]===-0x306+0x261b+-0x2314&&_0x4d6430[0x77d+-0xb*0x161+0x1*0x7af]===0x10a3+0x1*0x24cb+-0x356e&&_0x4d6430[-0x10d7+0xf4c+0x18d]===-0x20b1+-0x17*-0x4+0x2055&&_0x4d6430[-0x5a7*0x3+0x6eb*0x5+-0x119f*0x1]===0xf70+0x1dd9+-0x2d49&&_0x4d6430[0x1724+-0x4e1*0x1+-0x123f]===0x840+-0x155f*0x1+0x1*0xd1f&&_0x4d6430[-0x1c5f+0xde3+0xe81]===-0x1f69+0xd5c+0x120e&&_0x4d6430[-0x1d7a+0x743+-0x163d*-0x1]===-0x3*0x347+0x13*-0x17e+0x262f&&_0x4d6430[-0x2531*0x1+-0x1*-0x1b3+0x15*0x1b1]===0x2ae+0x19b4+-0x1c62&&_0x4d6430[0xd*0x2+-0xb9a*0x1+0x1ec*0x6]===0x1*0x20fb+-0x45a+-0x1ca1&&_0x4d6430[0x7*-0x72+-0x2cd+0x5f4]===-0x4fd+-0x12c+0x629&&_0x4d6430[-0xc76+-0x14a7+0x2127*0x1]===-0x200c+0x1af*-0xb+-0x2*-0x1949&&_0x4d6430[0x4*-0x12a+-0x1a39+0x1eec]===0x17*0x155+0x1f00+-0x3da3*0x1&&_0x4d6430[0x8b*-0x1f+-0x13*0x1d4+0x339d]===-0x2197*-0x1+0x624+-0x27bb&&_0x4d6430[-0x24e6+0x1*0x16c1+0xe32]===0x2300+-0x6c4+-0x1c3c&&_0x4d6430[0x2f*0x3b+0x2c*-0x76+0x981]===0xd16+0x2*0x4c7+-0x16a4&&_0x4d6430[0xdcd*-0x1+0x12+0xdca]===0x1c41+-0x1*-0x16d9+-0x7f*0x67;}['mul2'](_0x26949e,_0x1435fa){const _0x272f22=_0x26949e['data'],_0x44cea4=_0x1435fa['data'],_0x3161b5=this['data'],_0x1f7ed5=_0x272f22[0x4*-0x923+0xc9f+0x17ed],_0x30e20c=_0x272f22[0x1*0x95e+-0x4cc+-0xa7*0x7],_0x186a14=_0x272f22[0x3*0xaa9+-0x5*0xeb+-0x1b62],_0x24484b=_0x272f22[0x2*0x63d+-0x5c1*0x6+-0x160f*-0x1],_0x22b766=_0x272f22[-0x2622+-0x20f0+-0xbd9*-0x6],_0x58572f=_0x272f22[-0x262+0x1*-0x62e+0x895],_0x307b10=_0x272f22[-0x3*0x3b3+-0x40a+0xf29*0x1],_0x4fb060=_0x272f22[-0x337*0x2+-0x2510+0x2b85],_0x310117=_0x272f22[-0x23b2+0x21f1+0x1c9],_0x430a55=_0x272f22[0x707+0x416*-0x4+-0x156*-0x7],_0x415bfc=_0x272f22[0x1915*-0x1+-0x1124+0x2a43*0x1],_0x2d1dc4=_0x272f22[-0x23ae+-0x1d9b+0x4154],_0x491f4f=_0x272f22[0xfe3+0x2*-0x2f1+-0x9f5*0x1],_0x108012=_0x272f22[0x1fde+0x1a*-0x81+-0x12b7],_0x1ae3d7=_0x272f22[-0x165c+0x727+-0x1*-0xf43],_0x50a2e7=_0x272f22[-0x1f*-0xd+-0xbe7*-0x3+-0x2dd*0xd];let _0x16524d,_0x2a2576,_0x5b0f77,_0x43bb29;return _0x16524d=_0x44cea4[0x178f+-0x2203+0x2*0x53a],_0x2a2576=_0x44cea4[0x11a7*-0x2+0x1f49*0x1+0x406],_0x5b0f77=_0x44cea4[0xad*0x33+-0x316+-0x1f5f],_0x43bb29=_0x44cea4[0x4eb*0x5+-0x1082+-0x812],_0x3161b5[-0x9bb+-0x23d1*-0x1+-0x1a16]=_0x1f7ed5*_0x16524d+_0x22b766*_0x2a2576+_0x310117*_0x5b0f77+_0x491f4f*_0x43bb29,_0x3161b5[0xbf2+0x1a7a+0x119*-0x23]=_0x30e20c*_0x16524d+_0x58572f*_0x2a2576+_0x430a55*_0x5b0f77+_0x108012*_0x43bb29,_0x3161b5[0x1*0x3bb+0x5*-0x231+0x73c]=_0x186a14*_0x16524d+_0x307b10*_0x2a2576+_0x415bfc*_0x5b0f77+_0x1ae3d7*_0x43bb29,_0x3161b5[-0x157c+-0xf33+0x24b2]=_0x24484b*_0x16524d+_0x4fb060*_0x2a2576+_0x2d1dc4*_0x5b0f77+_0x50a2e7*_0x43bb29,_0x16524d=_0x44cea4[0x377*0x3+-0x1548+0xae7],_0x2a2576=_0x44cea4[-0x1b2a+0x10cb*0x2+0x667*-0x1],_0x5b0f77=_0x44cea4[0xf97+0x3*-0x63d+0x2*0x193],_0x43bb29=_0x44cea4[0x73*0x1+0x5cb+-0x637],_0x3161b5[-0x16b0+-0x75e+0x1e12]=_0x1f7ed5*_0x16524d+_0x22b766*_0x2a2576+_0x310117*_0x5b0f77+_0x491f4f*_0x43bb29,_0x3161b5[-0xf0*0x19+-0x15f5*-0x1+-0x4*-0x60]=_0x30e20c*_0x16524d+_0x58572f*_0x2a2576+_0x430a55*_0x5b0f77+_0x108012*_0x43bb29,_0x3161b5[-0x1a0e+-0xb1*0xd+0x2311]=_0x186a14*_0x16524d+_0x307b10*_0x2a2576+_0x415bfc*_0x5b0f77+_0x1ae3d7*_0x43bb29,_0x3161b5[-0x59d+0x12ae+-0x2*0x685]=_0x24484b*_0x16524d+_0x4fb060*_0x2a2576+_0x2d1dc4*_0x5b0f77+_0x50a2e7*_0x43bb29,_0x16524d=_0x44cea4[0x2364+0xc32+0x1*-0x2f8e],_0x2a2576=_0x44cea4[0xa57*0x2+0x23e+-0x1b*0xd9],_0x5b0f77=_0x44cea4[0x1*-0x6b+0x51+0x24],_0x43bb29=_0x44cea4[-0x1fab*0x1+0x2c9+0x1ced],_0x3161b5[-0x225a+-0x1*0x2567+0x439*0x11]=_0x1f7ed5*_0x16524d+_0x22b766*_0x2a2576+_0x310117*_0x5b0f77+_0x491f4f*_0x43bb29,_0x3161b5[0x17*0xd8+-0x9*0x192+0x3*-0x1bf]=_0x30e20c*_0x16524d+_0x58572f*_0x2a2576+_0x430a55*_0x5b0f77+_0x108012*_0x43bb29,_0x3161b5[0x32b*0xa+-0x2162+-0x1*-0x1be]=_0x186a14*_0x16524d+_0x307b10*_0x2a2576+_0x415bfc*_0x5b0f77+_0x1ae3d7*_0x43bb29,_0x3161b5[-0x1*-0x132f+-0xea*0x3+0x2*-0x833]=_0x24484b*_0x16524d+_0x4fb060*_0x2a2576+_0x2d1dc4*_0x5b0f77+_0x50a2e7*_0x43bb29,_0x16524d=_0x44cea4[-0x15d+-0x1a05*-0x1+-0x189c],_0x2a2576=_0x44cea4[0x1a5b+-0xf31*-0x1+0x1*-0x297f],_0x5b0f77=_0x44cea4[0x19b6+-0xb38*-0x3+-0x3b50],_0x43bb29=_0x44cea4[0x1de6+0x1eb3+-0x7b*0x7e],_0x3161b5[-0x1*-0x12c2+-0x2*-0x92c+-0x6*0x62d]=_0x1f7ed5*_0x16524d+_0x22b766*_0x2a2576+_0x310117*_0x5b0f77+_0x491f4f*_0x43bb29,_0x3161b5[0x37c+0x187*0x17+-0x2690]=_0x30e20c*_0x16524d+_0x58572f*_0x2a2576+_0x430a55*_0x5b0f77+_0x108012*_0x43bb29,_0x3161b5[-0x1822+-0x523*0x7+-0x3c25*-0x1]=_0x186a14*_0x16524d+_0x307b10*_0x2a2576+_0x415bfc*_0x5b0f77+_0x1ae3d7*_0x43bb29,_0x3161b5[-0x9e1+-0x252b+0x2f1b]=_0x24484b*_0x16524d+_0x4fb060*_0x2a2576+_0x2d1dc4*_0x5b0f77+_0x50a2e7*_0x43bb29,this;}['mulAffine2'](_0x2b0dc6,_0x26fbeb){const _0x49322d=_0x2b0dc6['data'],_0x222dcf=_0x26fbeb['data'],_0xab28eb=this['data'],_0x300c36=_0x49322d[-0x25e9+-0x200f+0x45f8],_0x5d203c=_0x49322d[0xa*-0xe6+-0x1f70+-0x286d*-0x1],_0x28606f=_0x49322d[0x8*-0x1bd+-0x145a+0x1*0x2244],_0x34cd3f=_0x49322d[-0x1e5b+0x7*-0x3d8+0x3947],_0x3efe8a=_0x49322d[-0x17a1*-0x1+-0x1663+0x1*-0x139],_0x3321f6=_0x49322d[0x92f*-0x1+0x1*-0x21d5+0x2b0a],_0x548613=_0x49322d[0x1a91+0x270b+-0x1*0x4194],_0x80ec56=_0x49322d[0x103f*0x2+0x1*0x329+0x2*-0x11cf],_0x4109ad=_0x49322d[0xaee*-0x2+-0x1b2a+0x3110],_0x54d4f3=_0x49322d[0x6e+-0x27*-0x2e+-0x764],_0x242f75=_0x49322d[0x1d*0x37+0x1*-0x2443+0x1e15],_0xfa9463=_0x49322d[0x1103+0xcc2+0x1db7*-0x1];let _0x40341b,_0x1c3463,_0x2052a4;return _0x40341b=_0x222dcf[-0x657*-0x1+0x2a2*0x1+-0x8f9],_0x1c3463=_0x222dcf[0x1854+0x1d80+-0x5fb*0x9],_0x2052a4=_0x222dcf[0x1eb2+0x2*0xbea+0x3684*-0x1],_0xab28eb[0x4*-0x587+-0x1ed6+0x34f2]=_0x300c36*_0x40341b+_0x34cd3f*_0x1c3463+_0x548613*_0x2052a4,_0xab28eb[-0xd*-0x17f+0x1*0x1127+-0x2499]=_0x5d203c*_0x40341b+_0x3efe8a*_0x1c3463+_0x80ec56*_0x2052a4,_0xab28eb[-0x20bd*-0x1+-0x2315+-0x2*-0x12d]=_0x28606f*_0x40341b+_0x3321f6*_0x1c3463+_0x4109ad*_0x2052a4,_0xab28eb[0x4*0x8e2+-0x1*-0x1bc5+-0x2*0x1fa5]=-0x3*-0x62d+0xd64*-0x2+0x841,_0x40341b=_0x222dcf[0x1541*-0x1+0xf7b*-0x1+0x24c0],_0x1c3463=_0x222dcf[0x17*0x95+-0x695+-0x1*0x6c9],_0x2052a4=_0x222dcf[-0x17*-0xb3+0x1*0x1013+-0x1*0x2022],_0xab28eb[-0x2f*0xad+-0x1297*-0x1+0x4*0x34c]=_0x300c36*_0x40341b+_0x34cd3f*_0x1c3463+_0x548613*_0x2052a4,_0xab28eb[0x39e*-0x5+0xea8+0x373]=_0x5d203c*_0x40341b+_0x3efe8a*_0x1c3463+_0x80ec56*_0x2052a4,_0xab28eb[-0x1*0x5+0xfa0+-0xf95*0x1]=_0x28606f*_0x40341b+_0x3321f6*_0x1c3463+_0x4109ad*_0x2052a4,_0xab28eb[0x20b7+-0x1103+-0xfad]=-0x1ff*-0x5+-0x1ef8+0x14fd,_0x40341b=_0x222dcf[0x19ea+0x1*-0xac5+-0xf1d],_0x1c3463=_0x222dcf[0x1*0x1370+-0x23b1+0x104a],_0x2052a4=_0x222dcf[0x2318+-0x1e5e+-0x4b0],_0xab28eb[0xcd3*0x3+0xae5*0x2+-0x38b*0x11]=_0x300c36*_0x40341b+_0x34cd3f*_0x1c3463+_0x548613*_0x2052a4,_0xab28eb[-0x5*0x153+0xd08+-0x4*0x198]=_0x5d203c*_0x40341b+_0x3efe8a*_0x1c3463+_0x80ec56*_0x2052a4,_0xab28eb[0x1551+0x13b0+-0x28f7]=_0x28606f*_0x40341b+_0x3321f6*_0x1c3463+_0x4109ad*_0x2052a4,_0xab28eb[0x73*-0x2f+-0x539+0x1a61]=-0xf*-0x125+-0x98c*-0x2+-0x2443,_0x40341b=_0x222dcf[0x4f2*-0x5+0xfd6+0x34*0x2c],_0x1c3463=_0x222dcf[0x3*-0x28d+0xacd+-0x319],_0x2052a4=_0x222dcf[0x1*0xdd4+-0x2119+0x1353],_0xab28eb[-0xd7c*-0x1+0xc8a+-0x19fa]=_0x300c36*_0x40341b+_0x34cd3f*_0x1c3463+_0x548613*_0x2052a4+_0x54d4f3,_0xab28eb[-0x64b*-0x5+-0x999+-0x15d1]=_0x5d203c*_0x40341b+_0x3efe8a*_0x1c3463+_0x80ec56*_0x2052a4+_0x242f75,_0xab28eb[-0xc35+0x1c3*-0x2+0x1c1*0x9]=_0x28606f*_0x40341b+_0x3321f6*_0x1c3463+_0x4109ad*_0x2052a4+_0xfa9463,_0xab28eb[-0x95e+-0x2eb+0xa*0x13c]=-0x84d+0x49*0x83+-0x3*0x9af,this;}['mul'](_0x96289c){return this['mul2'](this,_0x96289c);}['transformP'+'oint'](_0x566a68,_0x5569b3=new T()){const _0x16dbfb=this['data'],{x:_0x3ce72a,y:_0x57fdd4,z:_0x56f321}=_0x566a68;return _0x5569b3['x']=_0x3ce72a*_0x16dbfb[0x1*0x153d+0x5df+0x2*-0xd8e]+_0x57fdd4*_0x16dbfb[0x5*-0x55d+-0x9fc+0x24d1]+_0x56f321*_0x16dbfb[0xc76+0x86*-0x30+-0xfa*-0xd]+_0x16dbfb[-0xc15+0xa14+0x20d],_0x5569b3['y']=_0x3ce72a*_0x16dbfb[-0x29*0x19+0x149b+-0x25f*0x7]+_0x57fdd4*_0x16dbfb[-0x2206+0x2412+-0x207]+_0x56f321*_0x16dbfb[0x2576+0x964+-0x2ed1]+_0x16dbfb[0x21bf+-0x1*-0x997+-0x1*0x2b49],_0x5569b3['z']=_0x3ce72a*_0x16dbfb[-0x24d0+0x1c3f*-0x1+0x4111]+_0x57fdd4*_0x16dbfb[-0x6a*0x3f+0x1e9c+-0x480]+_0x56f321*_0x16dbfb[-0xc14*0x1+0x5e8+0x636]+_0x16dbfb[0x95*-0x28+-0x1b*-0xb5+0x1*0x43f],_0x5569b3;}['transformV'+'ector'](_0x4dd626,_0x59727d=new T()){const _0x1e1d85=this['data'],{x:_0x162d61,y:_0x181e46,z:_0xd51f85}=_0x4dd626;return _0x59727d['x']=_0x162d61*_0x1e1d85[-0x12e*0x2+0x6f*0x21+-0xbf3]+_0x181e46*_0x1e1d85[-0x1b35+0xbde*0x1+0xf5b]+_0xd51f85*_0x1e1d85[0x2466+-0xcc+0x11c9*-0x2],_0x59727d['y']=_0x162d61*_0x1e1d85[-0x244d+-0x1*0x163a+0x3a88]+_0x181e46*_0x1e1d85[-0xea*0x1f+0x5*0x97+0x1968]+_0xd51f85*_0x1e1d85[-0x3*0x52+-0x1aa*0x10+-0x3*-0x935],_0x59727d['z']=_0x162d61*_0x1e1d85[0x46*-0x40+-0x24e4+0xd3*0x42]+_0x181e46*_0x1e1d85[-0x35*0x97+0x6ef+-0x40f*-0x6]+_0xd51f85*_0x1e1d85[-0x1*-0xb79+-0x55*-0x2+-0xc19],_0x59727d;}['transformV'+'ec4'](_0x3bd093,_0x95179d=new Q()){const _0x3c68f6=this['data'],{x:_0x1481d9,y:_0xcbecf4,z:_0x4a3c76,w:_0x2bd8b1}=_0x3bd093;return _0x95179d['x']=_0x1481d9*_0x3c68f6[-0xa9+-0xa3*-0xf+-0x8e4]+_0xcbecf4*_0x3c68f6[-0x583*-0x7+-0x4ef+0xf6*-0x23]+_0x4a3c76*_0x3c68f6[-0x24ba+-0x239c+0x13a*0x3b]+_0x2bd8b1*_0x3c68f6[-0x21b8+0x5*-0x1ec+0x2b60],_0x95179d['y']=_0x1481d9*_0x3c68f6[-0x3f1*-0x5+0x139*0x9+-0x1eb5]+_0xcbecf4*_0x3c68f6[0xa3*-0x1f+0x1fc2+-0xc00]+_0x4a3c76*_0x3c68f6[0x2f*0x40+-0x1e9b+0x12e4]+_0x2bd8b1*_0x3c68f6[-0x948+-0x1f19+0x286e],_0x95179d['z']=_0x1481d9*_0x3c68f6[0x4*0x95a+-0x3*0x976+-0x904]+_0xcbecf4*_0x3c68f6[-0x15b4+0x1a7e+0x2*-0x262]+_0x4a3c76*_0x3c68f6[0xfc2*-0x1+-0x61*-0x45+-0x3*0x373]+_0x2bd8b1*_0x3c68f6[-0x4f*0x29+0x4c2+0x7f3],_0x95179d['w']=_0x1481d9*_0x3c68f6[0x18e7+-0x1a32+0x2*0xa7]+_0xcbecf4*_0x3c68f6[0x17e1+-0x4f5+-0x12e5*0x1]+_0x4a3c76*_0x3c68f6[0x1664+-0x2*-0xb5d+-0x1*0x2d13]+_0x2bd8b1*_0x3c68f6[0xf15+0x1bfb+-0x2b01],_0x95179d;}['setLookAt'](_0x5b7d6e,_0x2bd1e1,_0x48f2a9){Os['sub2'](_0x5b7d6e,_0x2bd1e1)['normalize'](),Fs['copy'](_0x48f2a9)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x3e10df=this['data'];return _0x3e10df[-0x1376+0x1*0x19eb+-0x675]=us['x'],_0x3e10df[-0x1b9d+0x1b7*-0x3+0x20c3]=us['y'],_0x3e10df[0x35*-0x9a+0xaf7+0x14ed*0x1]=us['z'],_0x3e10df[0xa35*-0x3+0xecc+0xfd6*0x1]=0x1*-0x24eb+-0x4*0x53c+0x39db*0x1,_0x3e10df[-0x26da*-0x1+-0x1172+-0x1564]=Fs['x'],_0x3e10df[-0x510*0x2+0x9b9+0x1b*0x4]=Fs['y'],_0x3e10df[0xd8+0x21fa+0x1166*-0x2]=Fs['z'],_0x3e10df[0x2*-0x7b5+-0x197d*-0x1+-0xa0c]=-0x56a+-0x9b6+0x2c*0x58,_0x3e10df[-0x2610+0x46b+0x21ad]=Os['x'],_0x3e10df[0x7af*0x2+-0x221*-0xb+0x1f0*-0x14]=Os['y'],_0x3e10df[-0xb0a+0xfd*-0x13+-0x1ddb*-0x1]=Os['z'],_0x3e10df[0x989+0x226+-0xba4]=0x1588+-0xef7+-0x691,_0x3e10df[0xd*-0x15+0x2607+-0x24ea]=_0x5b7d6e['x'],_0x3e10df[-0x4e7+-0x546+0xa3a]=_0x5b7d6e['y'],_0x3e10df[-0x1*0x18fd+-0x11b*-0x10+0x75b*0x1]=_0x5b7d6e['z'],_0x3e10df[0x50e*-0x2+-0x11f*0xe+0x19dd]=-0x1c67+-0x1ab3*0x1+0x371b,this;}['setFrustum'](_0x5da877,_0x1fcee4,_0x22efb3,_0x3dab7f,_0x158aaa,_0x48fd63){const _0x47a4a1=(-0xa*-0x122+-0x1ee8+-0xda*-0x17)*_0x158aaa,_0x4a68f9=_0x1fcee4-_0x5da877,_0x5c3f3d=_0x3dab7f-_0x22efb3,_0x14e814=_0x48fd63-_0x158aaa,_0x59d2ac=this['data'];return _0x59d2ac[0xcc4+0x85a*0x4+0x18a*-0x1e]=_0x47a4a1/_0x4a68f9,_0x59d2ac[0x2335+0x1ef*-0x3+-0x1d67]=-0x12bc+-0x1f*0x5+0x1357,_0x59d2ac[-0x11*0x1cc+-0x4b1+0x233f*0x1]=-0x24e7+-0x84*-0x3b+0xed*0x7,_0x59d2ac[0x1167+-0x3c*-0x6d+-0x18*0x1ca]=-0x4b2*0x4+0xc2f+0x699*0x1,_0x59d2ac[-0x277+0x15f3+-0x1378]=-0x2063+0x2c0+0x1da3,_0x59d2ac[-0x4*-0x903+-0x17f5+0x26a*-0x5]=_0x47a4a1/_0x5c3f3d,_0x59d2ac[-0x1675+-0x1a85+0x3100]=0x1cd3+0x2f*0x29+-0x245a,_0x59d2ac[-0x19ff+0x2b*0xe+0x17ac]=-0xe89+-0x710+-0x733*-0x3,_0x59d2ac[0x26ac+0x12*-0x1d3+-0x5ce]=(_0x1fcee4+_0x5da877)/_0x4a68f9,_0x59d2ac[-0x2*0xb51+0xb5*-0xb+-0x1e72*-0x1]=(_0x3dab7f+_0x22efb3)/_0x5c3f3d,_0x59d2ac[-0x713*0x3+0x313*-0xc+0x3a27]=(-_0x48fd63-_0x158aaa)/_0x14e814,_0x59d2ac[0x6d6+0x2*0xbe1+-0x1e8d]=-(-0x1251+-0x5*0x78c+0x380e),_0x59d2ac[0x1b5e+0x1862+-0x33b4]=-0xb*-0x234+-0x1*0x349+-0x14f3*0x1,_0x59d2ac[0x1502*-0x1+0x22b8+0xd*-0x10d]=-0x1*-0x7cd+0x1*-0x23b1+0xa*0x2ca,_0x59d2ac[0x1c7*0xd+-0x146c+-0x2a1]=-_0x47a4a1*_0x48fd63/_0x14e814,_0x59d2ac[0x15d3+0x7*-0x2af+-0x2fb]=-0x1de6+0x1*0x21bb+0x9*-0x6d,this;}['setPerspec'+'tive'](_0xa92f6b,_0x5e5744,_0x56c3b0,_0x7217db,_0x3b9302){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0xa92f6b,_0x5e5744,_0x56c3b0,_0x3b9302),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x56c3b0,_0x7217db);}['setOrtho'](_0x4af0ac,_0x2dd8c3,_0x8d95be,_0x18bcf4,_0x25d074,_0x48162f){const _0x1fe22f=this['data'];return _0x1fe22f[-0xb*-0x1cc+-0x96b*0x4+0x11e8]=(0x135a+-0x2b*-0x59+-0x224b)/(_0x2dd8c3-_0x4af0ac),_0x1fe22f[-0x15*-0xf9+0x246a+-0x38d6]=0x1622+0x1*-0x11af+-0x473,_0x1fe22f[-0x3*-0xa2d+-0x2dd*-0x1+-0x2162*0x1]=-0x2483+0x6*0x493+0x911,_0x1fe22f[-0x1aa1*0x1+-0xcfd+0x27a1]=-0xc8e+0x6*0x2f0+0x289*-0x2,_0x1fe22f[0x1*0x10cb+-0x2*-0x1154+0xe7*-0x39]=0x2*0x97c+-0xabf+0x1*-0x839,_0x1fe22f[-0xbe*-0x32+0x92+-0x25a9]=(0x129a+-0xc4*0x10+-0x8*0xcb)/(_0x18bcf4-_0x8d95be),_0x1fe22f[0x165b+-0xc3b+-0x6*0x1af]=0x2*0x785+0x1*-0x1b7d+0xc73*0x1,_0x1fe22f[0x1*-0x1025+-0x79d+-0x1*-0x17c9]=-0x283*-0xb+-0xedb+-0xcc6,_0x1fe22f[-0x2210+-0x56f*0x1+-0x1*-0x2787]=-0x1cf6+-0xc2c*-0x2+0x49e*0x1,_0x1fe22f[-0x1749*0x1+0x3*0x43c+0x12*0x97]=0xf11+0x22c1+0x1*-0x31d2,_0x1fe22f[-0x8*0x29c+-0xc3*0x23+0x2f93]=-(-0x1ecd+0x25a3+-0x6d4)/(_0x48162f-_0x25d074),_0x1fe22f[0x2488+-0x3c7*-0x2+-0x2c0b]=0x1*-0x2449+0x132c+0xd*0x151,_0x1fe22f[-0x223a+0x9ff+0x1847*0x1]=-(_0x2dd8c3+_0x4af0ac)/(_0x2dd8c3-_0x4af0ac),_0x1fe22f[-0xf72*0x2+-0x1f42+-0x1*-0x3e33]=-(_0x18bcf4+_0x8d95be)/(_0x18bcf4-_0x8d95be),_0x1fe22f[0xeb*-0x11+0x1eb4+-0xf0b]=-(_0x48162f+_0x25d074)/(_0x48162f-_0x25d074),_0x1fe22f[-0x114d+-0x22b6*-0x1+-0x115a]=0x1e0a+-0x599+0xc38*-0x2,this;}['setFromAxi'+'sAngle'](_0x209c95,_0x344f74){_0x344f74*=N['DEG_TO_RAD'];const {x:_0x21a6b0,y:_0x1e041c,z:_0x53cf24}=_0x209c95,_0x4f2273=Math['cos'](_0x344f74),_0x5851b3=Math['sin'](_0x344f74),_0x5892c3=-0x1341*0x1+-0x2130+-0x2*-0x1a39-_0x4f2273,_0xdc735f=_0x5892c3*_0x21a6b0,_0x344e56=_0x5892c3*_0x1e041c,_0x15b54b=this['data'];return _0x15b54b[0x1*0x1e3d+-0x13d*-0x5+-0x246e]=_0xdc735f*_0x21a6b0+_0x4f2273,_0x15b54b[-0x1ff0+-0x9c*0x37+0x4175]=_0xdc735f*_0x1e041c+_0x5851b3*_0x53cf24,_0x15b54b[-0x1f61+0x1cf5+-0x1*-0x26e]=_0xdc735f*_0x53cf24-_0x5851b3*_0x1e041c,_0x15b54b[0x1599+0x157b+-0x3*0xe5b]=-0x10b4+-0x190d+-0x1*-0x29c1,_0x15b54b[-0x1*-0x272+-0x1b0d+0x189f]=_0xdc735f*_0x1e041c-_0x5851b3*_0x53cf24,_0x15b54b[0x132e+-0x1d2a+0xa01]=_0x344e56*_0x1e041c+_0x4f2273,_0x15b54b[0x1c93+0x1cd+-0xd2*0x25]=_0x344e56*_0x53cf24+_0x5851b3*_0x21a6b0,_0x15b54b[-0x349*-0x2+-0x418+0xb*-0x39]=0x23d5+0xb76+0x2f4b*-0x1,_0x15b54b[-0x3*-0x885+-0x227d+0x8f6]=_0xdc735f*_0x53cf24+_0x5851b3*_0x1e041c,_0x15b54b[0xdf0+-0x2*0x10ac+0x1371]=_0x344e56*_0x53cf24-_0x21a6b0*_0x5851b3,_0x15b54b[0x572+0xd7a+-0x12e2]=_0x5892c3*_0x53cf24*_0x53cf24+_0x4f2273,_0x15b54b[-0x47*-0x20+-0xab*-0x3+-0xad6]=0x4e9*0x3+-0x25a2+0x16e7,_0x15b54b[0x24*0x71+-0x2*0x125b+0x2*0xa6f]=-0x143d*-0x1+0x7d4+-0x1c11,_0x15b54b[-0x257b+0x777+-0x1e11*-0x1]=0x1cf7*-0x1+-0xdb6+0x1db*0x17,_0x15b54b[-0x2*0x3bc+-0x81*0x3+0x909]=-0x169*-0x12+-0x14b8+-0x1*0x4aa,_0x15b54b[0x1d*-0x153+-0x20e2+0x8*0x8eb]=0x224f*-0x1+0x26*-0x9+0x23a6,this;}['setTransla'+'te'](_0xb08853,_0x575c8a,_0x4d78c1){const _0x2da6b3=this['data'];return _0x2da6b3[-0x18a6+0x126f+0x637]=-0x5b3+0x7a7*0x1+-0x1*0x1f3,_0x2da6b3[-0x98e+0xe6f+-0x4e0]=-0x13ff*-0x1+0x67*0x1+-0x1466,_0x2da6b3[0x1e77*-0x1+-0x4*0x1a3+0xd*0x2d9]=-0x910+-0x766*-0x5+-0x1bee,_0x2da6b3[0x1*-0x5eb+-0x1*-0x1d15+0x1727*-0x1]=0x128d+-0x5*-0x8a+-0x153f,_0x2da6b3[0xa5d+-0x739*0x1+-0x320]=0x17a0+0x1*-0xdfe+-0x9a2,_0x2da6b3[0x10b0+-0x623+-0xa88*0x1]=-0x110*-0xd+0x1cd0+-0x2a9f,_0x2da6b3[-0xfdd+0x1539+-0x556]=-0x24ff+-0x1346+0x3845,_0x2da6b3[0x182d+0x1b0c+-0x3332]=-0x170c+0xb49+0xbc3,_0x2da6b3[0x16c*0x9+-0x1991+0xccd]=0x15df+0x16d8+-0x2cb7,_0x2da6b3[0x15ad+0xb*-0x76+-0x1092]=-0x16c2+0x1dd0+-0x70e,_0x2da6b3[-0xbd*-0x1d+0x199*0x1+0x1*-0x16f8]=-0x7*0x24b+0x62b*-0x2+0x1c64,_0x2da6b3[0x1431+0x36f*0x3+0x1*-0x1e73]=-0x215+0x12e0+-0x10cb,_0x2da6b3[-0x19e3+0x81*-0x3d+0x1*0x38ac]=_0xb08853,_0x2da6b3[-0x172b+0x4a*-0x5c+0x31d0]=_0x575c8a,_0x2da6b3[-0x565+-0xe6c+0x1*0x13df]=_0x4d78c1,_0x2da6b3[0x49*0x1+-0x4d*0xf+-0x449*-0x1]=0xca9*-0x2+-0x84a+-0x1*-0x219d,this;}['setScale'](_0x2ce951,_0x2894d3,_0x2b5b4f){const _0x2e6e47=this['data'];return _0x2e6e47[-0xe*0x5f+-0x1*0x45e+0x990]=_0x2ce951,_0x2e6e47[-0x1ea*-0x1+0x258f+-0x9de*0x4]=-0x3f+0x1f*0x13+0x1*-0x20e,_0x2e6e47[0x1ad6+0x1e7*0x14+-0x40e0]=0x95f*-0x2+-0x24ad+0x1279*0x3,_0x2e6e47[0x2508+-0x199a+-0xb6b]=-0x283*-0x5+-0x13e*-0x3+-0x1049*0x1,_0x2e6e47[-0x222b+-0x98*0x9+0x2787]=-0x1645+-0x242c+0x1*0x3a71,_0x2e6e47[0x40*-0x7a+0xfc1+0x762*0x2]=_0x2894d3,_0x2e6e47[-0x21be+-0x11d7*0x2+0x4572]=0x3*-0x7af+-0xdfd*-0x2+-0x4ed*0x1,_0x2e6e47[0x178b+-0x1bfd+0x479]=0x485*0x7+-0x253c*0x1+0x599,_0x2e6e47[-0x50+-0x17c4+0x181c]=-0x1e9*-0x2+0x2366*0x1+-0x2738,_0x2e6e47[0x31*0x20+0x1f60+-0x8b*0x45]=0x1080+0x9*0x3a2+-0x3*0x1066,_0x2e6e47[-0xcb4+0x112+-0x2eb*-0x4]=_0x2b5b4f,_0x2e6e47[0x36f+0x2330+-0x134a*0x2]=-0x3b*0x6a+0x1cbf+0xd*-0x55,_0x2e6e47[0xb22*0x1+0x19a7+0xb*-0x357]=-0x1e7*0xd+0x17ff+0xbc,_0x2e6e47[-0x1*0x19b7+-0xa1a+-0x1*-0x23de]=-0x2455+-0xdba+-0x5*-0xa03,_0x2e6e47[-0x21e2+-0x18+0x4*0x882]=0xcb9+0x22d9+0x2f92*-0x1,_0x2e6e47[0x247*0x8+-0xbd2*0x1+-0x1*0x657]=0x24e*0x1+-0x7a6+-0x1*-0x559,this;}['setViewpor'+'t'](_0x348bf4,_0x40620f,_0x5568a6,_0x3b4197){const _0x555bf0=this['data'];return _0x555bf0[0x4*-0x281+-0x246a+-0x1737*-0x2]=_0x5568a6*(-0x21+-0x19a4+0x19c5+0.5),_0x555bf0[0x5*0x48f+-0xa6b+-0xc5f]=0x1090+0x1c65+0x2cf5*-0x1,_0x555bf0[-0x5*-0x371+-0x2*0xf35+0xd37]=0x44a+-0x1*0x287+-0x1c3,_0x555bf0[-0xb7b+-0xdad+-0x11*-0x17b]=0x376+0x22c5*-0x1+0x7*0x479,_0x555bf0[-0x1*0x1b4d+-0x2508*0x1+-0x3c9*-0x11]=0x1e28+-0x1940+0x4*-0x13a,_0x555bf0[-0x143b+-0x444+0x6*0x416]=_0x3b4197*(0x1118+-0xd*-0x2f+0x137b*-0x1+0.5),_0x555bf0[0x1*-0x1d86+-0x919+0x26a5]=-0x18ea+-0x685+-0x1f6f*-0x1,_0x555bf0[0x18b+-0x2446+0x1*0x22c2]=0x28*0xdd+-0x19d*0xd+-0xd8f,_0x555bf0[0x3*0x76d+-0x1401+-0x23e]=0x22c1+-0x21f8+-0xc9,_0x555bf0[0x35b*0x4+-0x214f*-0x1+-0x2eb2]=0x14fc+0x1ca0+0x4*-0xc67,_0x555bf0[-0xec5+0xb*0x18d+0x10*-0x24]=-0x21*0x7c+-0x14ce*0x1+0x24ca+0.5,_0x555bf0[-0x2f4+-0x1a9a+0x1d99*0x1]=-0xed5*0x1+0x6*-0x28b+0x1e17,_0x555bf0[0x2210+-0x2*0x964+-0x5*0x30c]=_0x348bf4+_0x5568a6*(0x1af7+-0x1d3d+0x3*0xc2+0.5),_0x555bf0[-0x1b28+-0xed1+0x2a06]=_0x40620f+_0x3b4197*(-0xb*-0xf4+0x2*-0x5e4+0x14c+0.5),_0x555bf0[0xffe+0x21*-0x119+0x3*0x6c3]=-0x9*-0x3fa+0x2ba+-0x2684+0.5,_0x555bf0[0x22d1+-0x6f*-0x59+-0x4959]=-0x6b*-0x4d+-0x366+-0x4*0x732,this;}['setReflect'+'ion'](_0x14a322,_0x17233b){const _0xf595e8=_0x14a322['x'],_0x3cf702=_0x14a322['y'],_0x8328e4=_0x14a322['z'],_0x5991ff=this['data'];return _0x5991ff[-0x115a*-0x1+-0xebe+-0x29c]=0x1632+-0x2048+0x35d*0x3-(0x2*-0x146+0x89*-0x1f+0xd*0x179)*_0xf595e8*_0xf595e8,_0x5991ff[-0x1b37+-0x1a5+0x1cdd]=-(-0x110e+0x2*-0x490+0x1a30)*_0xf595e8*_0x3cf702,_0x5991ff[0x1*0xf26+0x226d+-0x3191]=-(0x1247*0x1+-0x797+-0xaae)*_0xf595e8*_0x8328e4,_0x5991ff[0xa3a+0x206a+-0x2aa1]=-0x1189+0x1a77+-0x3*0x2fa,_0x5991ff[-0x2ed*0xd+-0xf*-0x18f+-0x1*-0xeac]=-(0x4*0x8+0x815*-0x2+0x100c)*_0xf595e8*_0x3cf702,_0x5991ff[0x140a+0x224+-0x1f*0xb7]=-0x2*-0x3c7+0x5*-0x585+0x140c-(0x513*0x1+0x5*0x20+0x1*-0x5b1)*_0x3cf702*_0x3cf702,_0x5991ff[-0x2*0x4a5+-0x8d*0x2+0xa6a]=-(0x24bc+0x1c27*0x1+-0x40e1)*_0x3cf702*_0x8328e4,_0x5991ff[0x4*0x74b+-0x1*-0x2446+-0x1*0x416b]=0x3*0x7a5+-0xb1b*-0x2+-0x2d25,_0x5991ff[0x5*-0x107+0x1*0x1e25+-0x18fa]=-(-0x4*0x946+0x25f+0x11*0x20b)*_0xf595e8*_0x8328e4,_0x5991ff[-0x1f24+0x1*-0x1e73+0x3da0]=-(0xa2+-0x238f+0xb*0x32d)*_0x3cf702*_0x8328e4,_0x5991ff[-0x1*-0x1f28+-0x1cf5+0x4f*-0x7]=-0x1fdc+-0x1fe2+0x3fbf-(-0xb07*-0x1+0x1801*-0x1+0xcfc)*_0x8328e4*_0x8328e4,_0x5991ff[0x2659+-0x155a+-0x10f4]=-0x1637+0x1db1+-0x77a,_0x5991ff[-0x1497*-0x1+0x1aca+-0x2f55]=-(-0x1a6f+-0xa5f+0x13*0x1f0)*_0xf595e8*_0x17233b,_0x5991ff[-0x3b6+0x1497+-0x10d4]=-(-0x1*-0x6f7+0x507+-0xbfc)*_0x3cf702*_0x17233b,_0x5991ff[-0x17d7*-0x1+-0x827+-0xfa2]=-(0x1cf1+0x1*0x25af+-0x2*0x214f)*_0x8328e4*_0x17233b,_0x5991ff[-0xa82*0x2+0x594+0xf7f]=-0xda+-0x1d73+0x50d*0x6,this;}['invert'](_0x4fc407=this){const _0x4670e4=_0x4fc407['data'],_0x4cd0e5=_0x4670e4[-0x17+0x11d3+0x4*-0x46f],_0x572dd9=_0x4670e4[0x1*-0x945+0x1*-0x12d6+0x1c1c],_0x5a95ed=_0x4670e4[-0xa87+0x36d*-0x9+0x1*0x295e],_0x19711d=_0x4670e4[0x78b*0x4+-0x1b*0x45+-0x1d*0xca],_0x215f37=_0x4670e4[-0x2*0x10c6+0x686*0x3+-0x3*-0x4aa],_0x281a20=_0x4670e4[-0x252b+-0x1be1+-0x4111*-0x1],_0xfcf1a1=_0x4670e4[0x1f7*0x5+0x4b*0x40+0x1c8d*-0x1],_0x512263=_0x4670e4[0x12b9+-0x2440+0x118e],_0xac0589=_0x4670e4[-0x1a83+0xfb5+-0x56b*-0x2],_0x299d32=_0x4670e4[-0x1*-0xf79+-0x1*-0x11f+0x1*-0x108f],_0x1296b8=_0x4670e4[0x1848+0x672+0x4*-0x7ac],_0x58ffe3=_0x4670e4[-0x10cf+-0x1*-0x4de+-0x1a*-0x76],_0x5d1c15=_0x4670e4[0x1*0x671+0x7e3+0x1c9*-0x8],_0x34f91d=_0x4670e4[-0x1817+0x1604+0x220],_0x1c1f00=_0x4670e4[-0x1f8b+-0xeef+-0x8*-0x5d1],_0x75970c=_0x4670e4[-0x2*0xda3+-0x2c5*-0x2+0x15cb],_0x3cd4aa=_0x4cd0e5*_0x281a20-_0x572dd9*_0x215f37,_0x245f99=_0x4cd0e5*_0xfcf1a1-_0x5a95ed*_0x215f37,_0x26c11b=_0x4cd0e5*_0x512263-_0x19711d*_0x215f37,_0x24122a=_0x572dd9*_0xfcf1a1-_0x5a95ed*_0x281a20,_0x4f3a3a=_0x572dd9*_0x512263-_0x19711d*_0x281a20,_0x1cb06c=_0x5a95ed*_0x512263-_0x19711d*_0xfcf1a1,_0x5b1156=_0xac0589*_0x34f91d-_0x299d32*_0x5d1c15,_0x17242b=_0xac0589*_0x1c1f00-_0x1296b8*_0x5d1c15,_0x26ba30=_0xac0589*_0x75970c-_0x58ffe3*_0x5d1c15,_0x381b48=_0x299d32*_0x1c1f00-_0x1296b8*_0x34f91d,_0x196e9f=_0x299d32*_0x75970c-_0x58ffe3*_0x34f91d,_0x15170b=_0x1296b8*_0x75970c-_0x58ffe3*_0x1c1f00,_0x1dbb97=_0x3cd4aa*_0x15170b-_0x245f99*_0x196e9f+_0x26c11b*_0x381b48+_0x24122a*_0x26ba30-_0x4f3a3a*_0x17242b+_0x1cb06c*_0x5b1156;if(_0x1dbb97===0x2e*0x61+0x287*0x1+-0x13f5)this['setIdentit'+'y']();else{const _0x474fc4=(-0x1677+0xbbd+0xabb)/_0x1dbb97,_0x1116b7=this['data'];_0x1116b7[0x1*0x24f+-0x2b*0x9d+0x1810]=(_0x281a20*_0x15170b-_0xfcf1a1*_0x196e9f+_0x512263*_0x381b48)*_0x474fc4,_0x1116b7[-0x2e9+0x25fa+-0x2c*0xcc]=(-_0x572dd9*_0x15170b+_0x5a95ed*_0x196e9f-_0x19711d*_0x381b48)*_0x474fc4,_0x1116b7[0xfe*-0x7+-0x2225*-0x1+-0x1b31]=(_0x34f91d*_0x1cb06c-_0x1c1f00*_0x4f3a3a+_0x75970c*_0x24122a)*_0x474fc4,_0x1116b7[-0x1476+-0x3b*0x31+0x1fc4]=(-_0x299d32*_0x1cb06c+_0x1296b8*_0x4f3a3a-_0x58ffe3*_0x24122a)*_0x474fc4,_0x1116b7[-0x9f4+-0x3*-0x1cf+0x1*0x48b]=(-_0x215f37*_0x15170b+_0xfcf1a1*_0x26ba30-_0x512263*_0x17242b)*_0x474fc4,_0x1116b7[-0x1*-0x1b7f+0x189c+-0x3416]=(_0x4cd0e5*_0x15170b-_0x5a95ed*_0x26ba30+_0x19711d*_0x17242b)*_0x474fc4,_0x1116b7[-0x3bf+0x1a09+0x26*-0x96]=(-_0x5d1c15*_0x1cb06c+_0x1c1f00*_0x26c11b-_0x75970c*_0x245f99)*_0x474fc4,_0x1116b7[0x43*-0x2b+0x24da+-0x1992]=(_0xac0589*_0x1cb06c-_0x1296b8*_0x26c11b+_0x58ffe3*_0x245f99)*_0x474fc4,_0x1116b7[-0x29*-0x67+-0x22ab+-0x3a4*-0x5]=(_0x215f37*_0x196e9f-_0x281a20*_0x26ba30+_0x512263*_0x5b1156)*_0x474fc4,_0x1116b7[0x11*0x149+0x5*-0x409+-0x1a3]=(-_0x4cd0e5*_0x196e9f+_0x572dd9*_0x26ba30-_0x19711d*_0x5b1156)*_0x474fc4,_0x1116b7[0x1de1+0x2231+-0x4008]=(_0x5d1c15*_0x4f3a3a-_0x34f91d*_0x26c11b+_0x75970c*_0x3cd4aa)*_0x474fc4,_0x1116b7[-0x51f+-0x2*-0x1f5+0xa0*0x2]=(-_0xac0589*_0x4f3a3a+_0x299d32*_0x26c11b-_0x58ffe3*_0x3cd4aa)*_0x474fc4,_0x1116b7[0x1*0x22d7+0x1c91+0x32b*-0x14]=(-_0x215f37*_0x381b48+_0x281a20*_0x17242b-_0xfcf1a1*_0x5b1156)*_0x474fc4,_0x1116b7[-0x202*0x12+-0xf08+0x9*0x5b1]=(_0x4cd0e5*_0x381b48-_0x572dd9*_0x17242b+_0x5a95ed*_0x5b1156)*_0x474fc4,_0x1116b7[-0x14*0x1be+-0x62*0x49+0x3ed8]=(-_0x5d1c15*_0x24122a+_0x34f91d*_0x245f99-_0x1c1f00*_0x3cd4aa)*_0x474fc4,_0x1116b7[-0x144c+-0x2631+0x2*0x1d46]=(_0xac0589*_0x24122a-_0x299d32*_0x245f99+_0x1296b8*_0x3cd4aa)*_0x474fc4;}return this;}['set'](_0x4ae8ee){const _0x2dee91=this['data'];return _0x2dee91[0x19d*-0x10+-0x1b3b*-0x1+-0x16b]=_0x4ae8ee[0x1240+0xd58+-0x1f98],_0x2dee91[0x2*-0x9d4+0x28b+0x111e]=_0x4ae8ee[-0x35*0xa6+0x1*0x423+0x60c*0x5],_0x2dee91[-0xc96+0x2514+-0x187c]=_0x4ae8ee[0x25f2+-0x1c3a*-0x1+0x422a*-0x1],_0x2dee91[0x656*0x5+0x1760+0xe7*-0x3d]=_0x4ae8ee[-0x25a0+-0x2273+0x4816*0x1],_0x2dee91[0xf36+-0x23c4+0x1492]=_0x4ae8ee[0x174d*0x1+-0x1151+-0x8*0xbf],_0x2dee91[0xc*0x32f+0x1dd0+-0x43ff]=_0x4ae8ee[-0x1*-0x2361+0x247d+-0x47d9],_0x2dee91[0x1e62+0xbf5+0x45*-0x9d]=_0x4ae8ee[-0x56*0x6b+0x669*-0x2+-0x30ca*-0x1],_0x2dee91[0xbb1*0x2+0x162b+-0x2d86]=_0x4ae8ee[-0xb*0x2aa+0x1*0xf02+0xe53],_0x2dee91[-0xa*-0x155+0x1b7a*0x1+-0x28c4]=_0x4ae8ee[-0x3d0+0x3*-0xabb+0x267*0xf],_0x2dee91[-0x20dc+0x2131+-0x4c]=_0x4ae8ee[0x615+-0x4cd*0x4+0xd28],_0x2dee91[-0x241e+-0x165a+-0x1d41*-0x2]=_0x4ae8ee[-0x5c0+-0x15*-0x9a+-0x6d8],_0x2dee91[0x13d1+-0x1*0xe7b+0x10f*-0x5]=_0x4ae8ee[-0x545+0x2*0xc22+-0x12f4],_0x2dee91[-0x2*0x1343+0x1f68+0x72a]=_0x4ae8ee[-0x17e4+-0x1*-0x1c1f+-0x42f],_0x2dee91[0xffd+-0x13b5+-0x1*-0x3c5]=_0x4ae8ee[0x13cd+0x3f1*-0x1+-0xfcf],_0x2dee91[0x1f6+-0x2*-0x1206+0x97d*-0x4]=_0x4ae8ee[-0x1c35+0x17b4+0x1*0x48f],_0x2dee91[-0x10d*-0x8+-0x1d6+0x1*-0x683]=_0x4ae8ee[-0x1e37+0x21ac+0x366*-0x1],this;}['setIdentit'+'y'](){const _0x481f65=this['data'];return _0x481f65[0x54+-0x2094+0x2040]=-0x2*0xb7f+0x157+0x15a8,_0x481f65[0x1837+-0x14bd+-0x379]=-0x7*0x8b+-0x126c+0x1639,_0x481f65[0x345*0xb+-0x6fc+-0x1cf9]=-0x117f*-0x1+0x1*0x901+0x4*-0x6a0,_0x481f65[-0x1669+0x17*0x1d+0x13d1]=0x2334+-0x2*-0x1316+0x4960*-0x1,_0x481f65[-0x2056+0x3f1*-0x2+0x283c]=0x1*0x144d+0x839+-0x1c86,_0x481f65[0x72*0x39+0x15*0x168+-0x36e5]=-0xa73*-0x2+0x1a6*0x10+-0x2f45,_0x481f65[-0x148*0x1e+0x15ba+0x66*0x2a]=-0xae8+0x7*-0x24+0xbe4,_0x481f65[0xc17+-0x1*-0x114b+0xf*-0x1f5]=0x1df+-0xa7+-0x138,_0x481f65[0x1*0x1d17+0x13*0xc5+0x1*-0x2bae]=-0x1e37+0x1d5*-0xc+-0x775*-0x7,_0x481f65[0xac+-0x2ed*-0xb+-0x20d2]=-0x10fc+-0x663+0x175f,_0x481f65[-0x1*-0x89+0xe35+-0xeb4]=0x1*-0x93+0x103f*-0x2+0x22*0xf9,_0x481f65[0x19c5+0x1*-0x183+-0x1837*0x1]=-0x1*0x15c9+0x200+-0x5*-0x3f5,_0x481f65[-0x38d+0x1*-0x1da2+-0xb5*-0x2f]=-0xa1a+0x896+0x184,_0x481f65[0xcdd+-0x2*-0xf6b+0x2*-0x15d3]=0x9c9+-0x452+0x577*-0x1,_0x481f65[0x783*-0x5+-0xbf4+0x3191]=-0x1334*0x1+-0x216f*-0x1+-0xe3b,_0x481f65[0xe78+0xb95*0x1+-0x19fe]=0x1*-0xf6a+0xca4+0x2c7,this;}['setTRS'](_0xae426f,_0x218152,_0x32fb66){const _0x38c3ef=_0x218152['x'],_0x5e2894=_0x218152['y'],_0x16c333=_0x218152['z'],_0xe84d17=_0x218152['w'],_0x3daf7c=_0x32fb66['x'],_0xd60aa9=_0x32fb66['y'],_0x5a213d=_0x32fb66['z'],_0x125cea=_0x38c3ef+_0x38c3ef,_0x5b67f5=_0x5e2894+_0x5e2894,_0x16588d=_0x16c333+_0x16c333,_0x36a1c9=_0x38c3ef*_0x125cea,_0x5a1431=_0x38c3ef*_0x5b67f5,_0x531669=_0x38c3ef*_0x16588d,_0x3f3e20=_0x5e2894*_0x5b67f5,_0x50b8cd=_0x5e2894*_0x16588d,_0x310700=_0x16c333*_0x16588d,_0x54411e=_0xe84d17*_0x125cea,_0x7380a9=_0xe84d17*_0x5b67f5,_0x7550b4=_0xe84d17*_0x16588d,_0x126d1e=this['data'];return _0x126d1e[-0x2552*0x1+0x17f1*-0x1+0x3d43]=(-0x11e5+0x118b*0x1+-0xd*-0x7-(_0x3f3e20+_0x310700))*_0x3daf7c,_0x126d1e[-0x137*0x16+0x1d40+-0x285]=(_0x5a1431+_0x7550b4)*_0x3daf7c,_0x126d1e[0x1*-0x635+-0x1cc*-0xa+-0xbc1]=(_0x531669-_0x7380a9)*_0x3daf7c,_0x126d1e[-0x1ce5*-0x1+-0x4b2*0x6+-0x1*0xb6]=-0x37d*-0xb+0xe*0x261+-0x1*0x47ad,_0x126d1e[0x21f3+0x566*-0x1+-0x1c89]=(_0x5a1431-_0x7550b4)*_0xd60aa9,_0x126d1e[-0x1*0xda6+-0x24ee*-0x1+-0x1743]=(-0xb*0x16c+-0x1b02*-0x1+-0xb5d-(_0x36a1c9+_0x310700))*_0xd60aa9,_0x126d1e[0x182*0xa+0x4b3*0x5+-0x268d]=(_0x50b8cd+_0x54411e)*_0xd60aa9,_0x126d1e[-0x1215+0x1*0x3cb+0xe51]=0x5*0x373+-0x20b3+-0x5c*-0x2b,_0x126d1e[0x992+0x23f4+-0x2d7e]=(_0x531669+_0x7380a9)*_0x5a213d,_0x126d1e[-0x3b7*0x9+-0x1*0x1759+0x38d1]=(_0x50b8cd-_0x54411e)*_0x5a213d,_0x126d1e[0xf1b*-0x1+0x1f2c+-0x1007]=(-0x3*0x7f7+0x1*0x16ed+0xf9-(_0x36a1c9+_0x3f3e20))*_0x5a213d,_0x126d1e[-0x1*-0x26fe+-0x1348+-0x13ab]=0x21*0xf8+-0x1c4*-0x2+0x470*-0x8,_0x126d1e[0x14b9*0x1+0xee*-0x10+-0x5cd]=_0xae426f['x'],_0x126d1e[-0x17e9+0x1*0x1616+-0x5*-0x60]=_0xae426f['y'],_0x126d1e[-0x20ad+-0x2*-0xb+0x20a5]=_0xae426f['z'],_0x126d1e[-0x47a*-0x6+-0x1*0x19ab+-0x122]=-0x261e+-0x22e2+0x4901,this;}['transpose'](_0x26f3d8=this){const _0x54b268=_0x26f3d8['data'],_0x30eeec=this['data'];if(_0x54b268===_0x30eeec){let _0x249ff2;_0x249ff2=_0x54b268[-0x239a+-0xd*0x97+0x1*0x2b46],_0x30eeec[0x1*0x2523+0x129b*0x1+-0x37bd*0x1]=_0x54b268[-0xe75+-0xd87*0x2+0x2987],_0x30eeec[0x766+0x1e15*-0x1+0x16b3]=_0x249ff2,_0x249ff2=_0x54b268[0x1a2c+-0x2*0x8e5+0x43*-0x20],_0x30eeec[0x2cb*0x5+-0x22d2+-0x1*-0x14dd]=_0x54b268[-0xecf+-0x2283+0x315a],_0x30eeec[-0xbed+0x17d2+-0xbdd]=_0x249ff2,_0x249ff2=_0x54b268[0x2*-0x601+-0x2b3*-0x6+-0x42d],_0x30eeec[0x15b2+-0x11fc*0x2+0xe49]=_0x54b268[0x1386+0x4ff*0x2+0x4*-0x75e],_0x30eeec[-0x1a42+0x1f61*-0x1+0x39af]=_0x249ff2,_0x249ff2=_0x54b268[0x382*0x9+-0x3*0x124+0x12c*-0x18],_0x30eeec[0x3*0x987+-0xca6*0x3+0x963]=_0x54b268[-0x1b26+-0x2f*-0x65+0x8a4],_0x30eeec[0xb83+0x1e9a*0x1+-0x150a*0x2]=_0x249ff2,_0x249ff2=_0x54b268[-0x240c+0x2*0x28c+0x1efb],_0x30eeec[0x16d6+0x2*-0xa6c+-0x1f7]=_0x54b268[-0x1*-0x1e8+0x834+-0xa0f],_0x30eeec[0x212c*0x1+-0x1b2e+-0x5f1]=_0x249ff2,_0x249ff2=_0x54b268[-0x113a+0xce2+0x463],_0x30eeec[-0xe23+0x1b1b+-0x1*0xced]=_0x54b268[-0x164e+-0x222*0x1+0x187e],_0x30eeec[-0x6d*-0x9+0x143*0x16+0x27*-0xcf]=_0x249ff2;}else _0x30eeec[-0x10cf+0x255b+-0x148c]=_0x54b268[-0x7cc*-0x5+-0x3*0x8a+-0x12af*0x2],_0x30eeec[0x1*-0x1145+0x9f4+-0x2*-0x3a9]=_0x54b268[-0xc5d+0x12ac+-0x64b],_0x30eeec[0x2*-0x1d3+-0x17ef+0x1b97]=_0x54b268[-0x2*0xd05+-0x1*0xf1+0x1b03],_0x30eeec[-0x1e9c+0x1f9d+-0xfe]=_0x54b268[0x39*-0xa6+0x1*0x226e+0x294],_0x30eeec[0x2f5*-0x8+0x1cb5+-0x1*0x509]=_0x54b268[0xfe2+-0x1*-0x9c7+-0x19a8],_0x30eeec[-0x1d*0x12+0x1aba*0x1+0x4ef*-0x5]=_0x54b268[-0x72d+-0x1799+0x1ecb*0x1],_0x30eeec[-0x2213+-0x101c+0x1*0x3235]=_0x54b268[-0x1869+-0x154b+0x2dbd],_0x30eeec[-0xef4+0x2371+0x2*-0xa3b]=_0x54b268[0x106+0x346*-0x7+0x15f1],_0x30eeec[-0x1*0x13ed+-0x7e7+-0x2*-0xdee]=_0x54b268[0xecb+-0x1eca+0xf1*0x11],_0x30eeec[-0x21*-0x70+0x4ec+-0x1353]=_0x54b268[0x1e17+-0x1e60+0x4f],_0x30eeec[0x4*-0x7ea+0x1*0x19ee+-0x52*-0x12]=_0x54b268[-0xa90+-0x341+-0x1*-0xddb],_0x30eeec[0x6*0x237+-0x1*0x24fb+0x1b2*0xe]=_0x54b268[-0xb6+-0x5*-0xd3+-0x35b],_0x30eeec[-0x193b*-0x1+0xc17*-0x2+-0x101]=_0x54b268[-0x1*-0xfa1+-0xfe1+0x43],_0x30eeec[0x225a+-0xec3+-0x138a]=_0x54b268[0xdbd+0x16*-0x14c+-0xe*-0x10f],_0x30eeec[0x2*-0x5a6+-0x26c9*-0x1+-0x1*0x1b6f]=_0x54b268[-0x2*0x1244+-0xbd*0x1+-0x6*-0x638],_0x30eeec[-0x1*0x411+0x1b3a+-0x171a]=_0x54b268[0x2f1*-0xb+-0x637+0x26a1];return this;}['getTransla'+'tion'](_0x1d20a2=new T()){return _0x1d20a2['set'](this['data'][0x5cf*-0x1+-0x6*-0x565+-0x1a83],this['data'][-0x1*0x2492+-0x23a2+0x4841],this['data'][-0x2*0xd0f+0x3*-0x1f7+-0x1*-0x2011]);}['getX'](_0x52db1f=new T()){return _0x52db1f['set'](this['data'][0x112b+-0xf09+-0x4e*0x7],this['data'][-0x21ef+0x1*0x13ed+-0xe03*-0x1],this['data'][0x9a1+0x1bbf+-0x255e]);}['getY'](_0x26f41f=new T()){return _0x26f41f['set'](this['data'][-0x13dc+-0x2263*-0x1+-0xe83],this['data'][0xfc0+0x6ca+-0x1685],this['data'][0x858+-0x368+0x1*-0x4ea]);}['getZ'](_0x1127d8=new T()){return _0x1127d8['set'](this['data'][-0x520+-0x2c6*0x7+0x2*0xc49],this['data'][0x1*-0x198a+0x1ac*-0x11+0x35ff],this['data'][-0x1e24+0x1*-0x2666+-0x42*-0x10a]);}['getScale'](_0x1eb07e=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x1eb07e['set'](us['length'](),Fs['length'](),Os['length']()),_0x1eb07e;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<-0x9*0x55+-0x63f*0x3+0x15ba?-(0x2*-0xce5+-0x2f5+0x1*0x1cc0):-0x1*-0x229d+-0xb6f*-0x3+0x3b*-0x12b;}['setFromEul'+'erAngles'](_0x128a80,_0x5dac49,_0x32f0c6){_0x128a80*=N['DEG_TO_RAD'],_0x5dac49*=N['DEG_TO_RAD'],_0x32f0c6*=N['DEG_TO_RAD'];const _0x1220d7=Math['sin'](-_0x128a80),_0x496ce5=Math['cos'](-_0x128a80),_0xd5c6bd=Math['sin'](-_0x5dac49),_0x393364=Math['cos'](-_0x5dac49),_0x1a8af3=Math['sin'](-_0x32f0c6),_0x104f5f=Math['cos'](-_0x32f0c6),_0x48d2b8=this['data'];return _0x48d2b8[0x1e79+0x1ef2+0x1*-0x3d6b]=_0x393364*_0x104f5f,_0x48d2b8[-0x9bd+-0xd*-0x3b+0x6bf*0x1]=-_0x393364*_0x1a8af3,_0x48d2b8[0x1*0x1d29+-0xe53+-0xed4]=_0xd5c6bd,_0x48d2b8[-0x97*-0x40+-0x24b9+-0x104]=0x1056+0x3*0xc2a+0xd35*-0x4,_0x48d2b8[-0x11f1+-0x266*-0xa+0x1*-0x607]=_0x496ce5*_0x1a8af3+_0x104f5f*_0x1220d7*_0xd5c6bd,_0x48d2b8[0x1d83+0x5*-0x45e+-0xa*0xc4]=_0x496ce5*_0x104f5f-_0x1220d7*_0xd5c6bd*_0x1a8af3,_0x48d2b8[-0x3fa*0x5+0x1*0x2441+0x9*-0x1d1]=-_0x393364*_0x1220d7,_0x48d2b8[0x1764+0x230+-0x198d]=-0xf2d+-0xd*-0x12d+-0x4*0x7,_0x48d2b8[0x7*0xfa+0x1*-0xe27+0x759]=_0x1220d7*_0x1a8af3-_0x496ce5*_0x104f5f*_0xd5c6bd,_0x48d2b8[-0x7e6+0x14*-0xf1+0x1ac3]=_0x104f5f*_0x1220d7+_0x496ce5*_0xd5c6bd*_0x1a8af3,_0x48d2b8[-0x6d*-0x29+0x119*0x2+-0x139d]=_0x496ce5*_0x393364,_0x48d2b8[-0xc1*0x17+-0x21ff+-0x1*-0x3361]=0x225f+-0x2ce+-0x1f91*0x1,_0x48d2b8[-0x8b*-0x4+-0x358*-0x8+-0x1ce0]=-0xdd+0x3*0x316+-0x865*0x1,_0x48d2b8[-0xb0f+-0x9*-0xf1+0x2a3]=-0x9*-0x63+-0x6*-0x371+-0x1821,_0x48d2b8[0x1917+-0x7e3*0x1+-0x1126]=-0xd7e+0x15cd*0x1+-0x84f,_0x48d2b8[0x2d*-0xab+0x26*-0xa2+0x362a]=0x7d8+-0x1358+0x9b*0x13,this;}['getEulerAn'+'gles'](_0xdb4c3f=new T()){this['getScale'](_l);const _0x3aecc6=_l['x'],_0x18bad7=_l['y'],_0x4e2691=_l['z'];if(_0x3aecc6===-0x197a+-0x152*0x1+-0x23*-0xc4||_0x18bad7===0x1248+0x19dd+0x3*-0xeb7||_0x4e2691===0x53d*-0x2+0xcb1+-0x237)return _0xdb4c3f['set'](-0x6*-0x4ee+0x44d*-0x7+0x87,0x267a+0x4*0x2ab+-0x3126,0x185d*0x1+-0x119d+-0x18*0x48);const _0x28e9a2=this['data'],_0x52783d=Math['asin'](-_0x28e9a2[0x1db2+-0x3a3*0x3+-0x12c7]/_0x3aecc6),_0x14f9b8=Math['PI']*(-0x27e*0x3+-0x258d+0x1*0x2d07+0.5);let _0x113f0f,_0x1f0bd8;return _0x52783d<_0x14f9b8?_0x52783d>-_0x14f9b8?(_0x113f0f=Math['atan2'](_0x28e9a2[-0x2*0xd1d+0x2*-0x44e+0x184*0x17]/_0x18bad7,_0x28e9a2[-0x2078+-0x168*-0x11+0x89a]/_0x4e2691),_0x1f0bd8=Math['atan2'](_0x28e9a2[0x33d*-0xc+0x2*0xc9d+0x1*0xda3]/_0x3aecc6,_0x28e9a2[0x1*-0xd24+-0x124c+0x7dc*0x4]/_0x3aecc6)):(_0x1f0bd8=0x5bf+-0x25ae+0x19*0x147,_0x113f0f=-Math['atan2'](_0x28e9a2[0xe2a*-0x2+0x788+0x14d0]/_0x18bad7,_0x28e9a2[-0x1b20+-0x1879+0x339e*0x1]/_0x18bad7)):(_0x1f0bd8=-0x1e25+-0x341+0x2166,_0x113f0f=Math['atan2'](_0x28e9a2[-0x16b7+-0x2624*0x1+0x1*0x3cdf]/_0x18bad7,_0x28e9a2[-0xa30+-0x24ca+0x35*0xe3]/_0x18bad7)),_0xdb4c3f['set'](_0x113f0f,_0x52783d,_0x1f0bd8)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([-0x5*0x329+0x1ac5+-0xaf8,-0x1049+-0x4*0x803+0x3055*0x1,-0x357*-0x5+-0x27*0x27+-0x99*0x12,0xd09+-0x3*-0x987+-0x299e,-0x1039+-0x1c41+0x2c7a,0x1f*-0x77+0x3*-0x6f2+-0x233f*-0x1,-0xb53+0x4*0x892+0x3*-0x7a7,0x1b*-0x35+0x1dd0+-0x1839,-0x1*-0x2632+0x263e+-0x2*0x2638,-0x531*-0x3+-0x2*0xba9+0x7bf,-0x1*-0x659+0x8*0x34d+-0x20c1,0x3*-0xcb9+0xda8+0x1883,-0xbc5+-0xa38+0x15fd,0x9a2+-0x10ec+0x74a*0x1,-0x99e+0x5*0x1ae+0x3*0x68,0xe94+0x14c5+-0x2359])));let q=Ur;const aa=class aa{constructor(_0x186f0a=0x2428+-0x11b0+0xc*-0x18a,_0x82e568=-0x18c8+0x9a4+-0x2*-0x792,_0x294680=0x5*-0x121+0x16*0x1ab+0x1f0d*-0x1,_0x30af63=-0x523*0x4+0x1040+0x3*0x16f){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x186f0a['length']===-0x128f+0x2002+-0xd6f?(this['x']=_0x186f0a[-0x39*0x54+0x1275+0x3f],this['y']=_0x186f0a[-0xa6f*0x1+-0x4+0x37c*0x3],this['z']=_0x186f0a[0x319*-0x1+0xb9f+-0x884],this['w']=_0x186f0a[0x1*-0x1575+-0x12e5+0x1*0x285d]):(this['x']=_0x186f0a,this['y']=_0x82e568,this['z']=_0x294680,this['w']=_0x30af63);}['clone'](){const _0x3db575=this['constructo'+'r'];return new _0x3db575(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x594fc8=this){return this['x']=_0x594fc8['x']*-(0x10a3+0x24cc+0x1*-0x356e),this['y']=_0x594fc8['y']*-(0x9*0x3cf+-0xd58+-0x6fa*0x3),this['z']=_0x594fc8['z']*-(-0x1ea2+0xa36+-0x3f*-0x53),this['w']=_0x594fc8['w'],this;}['copy'](_0x5f3994){return this['x']=_0x5f3994['x'],this['y']=_0x5f3994['y'],this['z']=_0x5f3994['z'],this['w']=_0x5f3994['w'],this;}['equals'](_0x774a99){return this['x']===_0x774a99['x']&&this['y']===_0x774a99['y']&&this['z']===_0x774a99['z']&&this['w']===_0x774a99['w'];}['equalsAppr'+'ox'](_0x17a47c,_0x36d1aa=-0x22e1+0xb21+0x17c0+0.000001){return Math['abs'](this['x']-_0x17a47c['x'])<_0x36d1aa&&Math['abs'](this['y']-_0x17a47c['y'])<_0x36d1aa&&Math['abs'](this['z']-_0x17a47c['z'])<_0x36d1aa&&Math['abs'](this['w']-_0x17a47c['w'])<_0x36d1aa;}['getAxisAng'+'le'](_0x554cc4){let _0xb92662=Math['acos'](this['w'])*(0x165a+0x1*0x1e2b+-0x3483);const _0x2e29fd=Math['sin'](_0xb92662/(0x1083+-0x56*-0x35+0x224f*-0x1));return _0x2e29fd!==-0xb2*0x2f+0xf40+0x1*0x116e?(_0x554cc4['x']=this['x']/_0x2e29fd,_0x554cc4['y']=this['y']/_0x2e29fd,_0x554cc4['z']=this['z']/_0x2e29fd,(_0x554cc4['x']<0x19*0x26+0x8f*-0x21+-0x1*-0xeb9||_0x554cc4['y']<0x4*-0x23+0x21d8+-0x214c||_0x554cc4['z']<0x1fa9+-0x17b+-0x1e2e)&&(_0x554cc4['x']*=-(0x16f+-0x286*0x1+-0xa*-0x1c),_0x554cc4['y']*=-(-0x3f*-0x3+-0x1aa0+-0x2*-0xcf2),_0x554cc4['z']*=-(-0x1bc1+-0x1*-0x1be6+-0x24),_0xb92662*=-(-0xe90+-0x6*-0x13b+-0x72f*-0x1))):(_0x554cc4['x']=0x9*0x25+-0x1073*0x1+0x3*0x50d,_0x554cc4['y']=0x583*0x2+0xe5c+-0x1962,_0x554cc4['z']=-0x581*-0x7+-0x2456+-0x231),_0xb92662*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x15f945=new T()){let _0x14a4a0,_0x1cc401,_0x2aa833;const _0x5d0aad=this['x'],_0x2a71aa=this['y'],_0x49d5dd=this['z'],_0x4fb0ad=this['w'],_0x1777a7=(-0x1*-0xd2b+-0x2*-0xade+0x22e5*-0x1)*(_0x4fb0ad*_0x2a71aa-_0x5d0aad*_0x49d5dd);return _0x1777a7<=-(0x9e+0x393+-0x431+0.99999)?(_0x14a4a0=(0x16*-0x26+-0x1eda+0x2220)*Math['atan2'](_0x5d0aad,_0x4fb0ad),_0x1cc401=-Math['PI']/(-0x2*-0xd09+0x25f3+-0x4003),_0x2aa833=0x1cfd+-0x4d2*0x3+-0xe87*0x1):_0x1777a7>=0x22*-0x9c+0xad1+-0x41*-0x27+0.99999?(_0x14a4a0=(-0x6d1*0x1+-0x2264+-0x1*-0x2937)*Math['atan2'](_0x5d0aad,_0x4fb0ad),_0x1cc401=Math['PI']/(0x15d*0xe+-0x114b+-0x1c9),_0x2aa833=-0x1530+-0x9*0x37d+0x1187*0x3):(_0x14a4a0=Math['atan2']((-0x2056+0xd8*-0x13+0x3060)*(_0x4fb0ad*_0x5d0aad+_0x2a71aa*_0x49d5dd),0xf61+0x21*-0xa2+0xa*0x8d-(-0x1492+0x2e*-0x8+0x1604)*(_0x5d0aad*_0x5d0aad+_0x2a71aa*_0x2a71aa)),_0x1cc401=Math['asin'](_0x1777a7),_0x2aa833=Math['atan2']((0x1*0x245b+0x17f5*-0x1+-0xc64)*(_0x4fb0ad*_0x49d5dd+_0x5d0aad*_0x2a71aa),-0x1a0+0x1*0xef+-0x59*-0x2-(0x298+-0xb*-0x8f+-0x8bb)*(_0x2a71aa*_0x2a71aa+_0x49d5dd*_0x49d5dd))),_0x15f945['set'](_0x14a4a0,_0x1cc401,_0x2aa833)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x36c33c=this){return this['conjugate'](_0x36c33c)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x349500){const _0x2a4cf4=this['x'],_0x3a88a2=this['y'],_0x580868=this['z'],_0x80ebd0=this['w'],_0x589c12=_0x349500['x'],_0x426a2a=_0x349500['y'],_0x51b57d=_0x349500['z'],_0x12bfde=_0x349500['w'];return this['x']=_0x80ebd0*_0x589c12+_0x2a4cf4*_0x12bfde+_0x3a88a2*_0x51b57d-_0x580868*_0x426a2a,this['y']=_0x80ebd0*_0x426a2a+_0x3a88a2*_0x12bfde+_0x580868*_0x589c12-_0x2a4cf4*_0x51b57d,this['z']=_0x80ebd0*_0x51b57d+_0x580868*_0x12bfde+_0x2a4cf4*_0x426a2a-_0x3a88a2*_0x589c12,this['w']=_0x80ebd0*_0x12bfde-_0x2a4cf4*_0x589c12-_0x3a88a2*_0x426a2a-_0x580868*_0x51b57d,this;}['mulScalar'](_0x5627fe,_0x431d44=this){return this['x']=_0x431d44['x']*_0x5627fe,this['y']=_0x431d44['y']*_0x5627fe,this['z']=_0x431d44['z']*_0x5627fe,this['w']=_0x431d44['w']*_0x5627fe,this;}['mul2'](_0x1b227c,_0x4046fc){const _0xcb912a=_0x1b227c['x'],_0x4796c2=_0x1b227c['y'],_0x192908=_0x1b227c['z'],_0x1222f0=_0x1b227c['w'],_0x242f79=_0x4046fc['x'],_0x50f645=_0x4046fc['y'],_0x4a2e92=_0x4046fc['z'],_0x5c51fe=_0x4046fc['w'];return this['x']=_0x1222f0*_0x242f79+_0xcb912a*_0x5c51fe+_0x4796c2*_0x4a2e92-_0x192908*_0x50f645,this['y']=_0x1222f0*_0x50f645+_0x4796c2*_0x5c51fe+_0x192908*_0x242f79-_0xcb912a*_0x4a2e92,this['z']=_0x1222f0*_0x4a2e92+_0x192908*_0x5c51fe+_0xcb912a*_0x50f645-_0x4796c2*_0x242f79,this['w']=_0x1222f0*_0x5c51fe-_0xcb912a*_0x242f79-_0x4796c2*_0x50f645-_0x192908*_0x4a2e92,this;}['normalize'](_0x3052f1=this){let _0x540f40=_0x3052f1['length']();return _0x540f40===-0x27*-0xb3+0x10*-0x261+0xacb?(this['x']=this['y']=this['z']=0x397*-0x3+-0x20a*-0x4+0x29d,this['w']=0x1506+-0x169b+-0x7*-0x3a):(_0x540f40=(-0x1bf2+-0x353*-0xb+0x44f*-0x2)/_0x540f40,this['x']=_0x3052f1['x']*_0x540f40,this['y']=_0x3052f1['y']*_0x540f40,this['z']=_0x3052f1['z']*_0x540f40,this['w']=_0x3052f1['w']*_0x540f40),this;}['set'](_0x368f0c,_0x59e901,_0xccdfb2,_0x5c0cdb){return this['x']=_0x368f0c,this['y']=_0x59e901,this['z']=_0xccdfb2,this['w']=_0x5c0cdb,this;}['setFromAxi'+'sAngle'](_0x49dc4b,_0xc7c878){_0xc7c878*=(0x1041+0x1*-0x112d+0xec+0.5)*N['DEG_TO_RAD'];const _0x35f5c6=Math['sin'](_0xc7c878),_0x5b7b12=Math['cos'](_0xc7c878);return this['x']=_0x35f5c6*_0x49dc4b['x'],this['y']=_0x35f5c6*_0x49dc4b['y'],this['z']=_0x35f5c6*_0x49dc4b['z'],this['w']=_0x5b7b12,this;}['setFromEul'+'erAngles'](_0x1a2367,_0x4a0893,_0x1454dd){if(_0x1a2367 instanceof T){const _0x5f4d73=_0x1a2367;_0x1a2367=_0x5f4d73['x'],_0x4a0893=_0x5f4d73['y'],_0x1454dd=_0x5f4d73['z'];}const _0x3c6807=(-0xbc+0x5ab+-0x3*0x1a5+0.5)*N['DEG_TO_RAD'];_0x1a2367*=_0x3c6807,_0x4a0893*=_0x3c6807,_0x1454dd*=_0x3c6807;const _0x5db40a=Math['sin'](_0x1a2367),_0xaaf667=Math['cos'](_0x1a2367),_0x4097ac=Math['sin'](_0x4a0893),_0x329616=Math['cos'](_0x4a0893),_0x4b5f12=Math['sin'](_0x1454dd),_0x41e7c9=Math['cos'](_0x1454dd);return this['x']=_0x5db40a*_0x329616*_0x41e7c9-_0xaaf667*_0x4097ac*_0x4b5f12,this['y']=_0xaaf667*_0x4097ac*_0x41e7c9+_0x5db40a*_0x329616*_0x4b5f12,this['z']=_0xaaf667*_0x329616*_0x4b5f12-_0x5db40a*_0x4097ac*_0x41e7c9,this['w']=_0xaaf667*_0x329616*_0x41e7c9+_0x5db40a*_0x4097ac*_0x4b5f12,this;}['setFromMat'+'4'](_0x567a87){const _0x4d0abb=_0x567a87['data'];let _0x2ec1a2=_0x4d0abb[0x1ce8+-0x165b*0x1+-0x27*0x2b],_0x3d261b=_0x4d0abb[0x4ee*0x7+0xdef+-0x3070],_0x7cbb37=_0x4d0abb[-0x1c*-0x10b+0x1*0x261f+-0x4351],_0x121c16=_0x4d0abb[-0x204c+0x77a*-0x1+0x27ca],_0x227d41=_0x4d0abb[0x1121+0xc22*0x2+-0x2960],_0x26de1a=_0x4d0abb[0x91f+-0x7ab+-0x16e],_0x2c0d69=_0x4d0abb[-0x11*0xb9+-0x1*0x25f4+0x3245*0x1],_0x35b313=_0x4d0abb[-0x20dd+0x4cd+0x1c19*0x1],_0x4213e1=_0x4d0abb[-0x18cd+-0x9d*0x7+-0x153*-0x16],_0x511b84;return _0x511b84=_0x2ec1a2*_0x2ec1a2+_0x3d261b*_0x3d261b+_0x7cbb37*_0x7cbb37,_0x511b84===0x15c2+0xe*0x223+-0x2*0x19d6?this['set'](0x1c58+-0x2*0x117f+-0x4a*-0x17,-0x2485*0x1+-0xa8+0x252d,0x1da5+0x1004+-0x2da9,0xb*0x290+0x6*-0x18f+0x1*-0x12d5):(_0x511b84=(0x64a+0x2324+-0x296d)/Math['sqrt'](_0x511b84),_0x2ec1a2*=_0x511b84,_0x3d261b*=_0x511b84,_0x7cbb37*=_0x511b84,_0x511b84=_0x121c16*_0x121c16+_0x227d41*_0x227d41+_0x26de1a*_0x26de1a,_0x511b84===-0xcc8+-0x265f+-0x9*-0x5af?this['set'](-0xeac+-0x120a+0x20b6,0x5ca+-0x34*0x9b+0x19b2,-0x2*-0x1133+-0x200+-0x2066,-0x2225+-0x1cb0+0x3ed6):(_0x511b84=(0x1804+0x1bea+-0x3*0x114f)/Math['sqrt'](_0x511b84),_0x121c16*=_0x511b84,_0x227d41*=_0x511b84,_0x26de1a*=_0x511b84,_0x511b84=_0x2c0d69*_0x2c0d69+_0x35b313*_0x35b313+_0x4213e1*_0x4213e1,_0x511b84===-0x193f+0x73*-0x1+0x19b2?this['set'](0xf7a+-0x1*0x1639+0x6bf,-0x1*0x247b+0xd46*-0x2+-0x3f07*-0x1,-0x26bc+-0x1918+0x1*0x3fd4,0x2023+-0x1*-0xabb+-0x1*0x2add):(_0x511b84=(0x7*-0x4a9+0x15d2+0xace)/Math['sqrt'](_0x511b84),_0x2c0d69*=_0x511b84,_0x35b313*=_0x511b84,_0x4213e1*=_0x511b84,_0x4213e1<0x3ad*-0x4+-0x26e0+0x3594?_0x2ec1a2>_0x227d41?this['set'](-0x322*0x7+-0x6a8+0x1c97+_0x2ec1a2-_0x227d41-_0x4213e1,_0x3d261b+_0x121c16,_0x2c0d69+_0x7cbb37,_0x26de1a-_0x35b313):this['set'](_0x3d261b+_0x121c16,0xe18+-0xf31+0x11a-_0x2ec1a2+_0x227d41-_0x4213e1,_0x26de1a+_0x35b313,_0x2c0d69-_0x7cbb37):_0x2ec1a2<-_0x227d41?this['set'](_0x2c0d69+_0x7cbb37,_0x26de1a+_0x35b313,0x4fb+0x81e+-0xd18-_0x2ec1a2-_0x227d41+_0x4213e1,_0x3d261b-_0x121c16):this['set'](_0x26de1a-_0x35b313,_0x2c0d69-_0x7cbb37,_0x3d261b-_0x121c16,-0xd46+0x4*-0x9af+0x3403*0x1+_0x2ec1a2+_0x227d41+_0x4213e1),this['mulScalar']((-0x1c2f+0x18f2+-0x1*-0x33e)/this['length']()))));}['setFromDir'+'ections'](_0x13aea0,_0x161e85){const _0x2ffecd=0x52*-0x56+-0x12a7+-0x4*-0xb8d+_0x13aea0['dot'](_0x161e85);return _0x2ffecd<Number['EPSILON']?Math['abs'](_0x13aea0['x'])>Math['abs'](_0x13aea0['y'])?(this['x']=-_0x13aea0['z'],this['y']=-0x2*0x698+-0x260b*-0x1+-0x38d*0x7,this['z']=_0x13aea0['x'],this['w']=-0xd*0x27d+0xab1+0x15a8):(this['x']=0xe62+0x1a*0x2+0x74b*-0x2,this['y']=-_0x13aea0['z'],this['z']=_0x13aea0['y'],this['w']=0x1*-0x5ba+-0x2*-0x728+-0x896):(this['x']=_0x13aea0['y']*_0x161e85['z']-_0x13aea0['z']*_0x161e85['y'],this['y']=_0x13aea0['z']*_0x161e85['x']-_0x13aea0['x']*_0x161e85['z'],this['z']=_0x13aea0['x']*_0x161e85['y']-_0x13aea0['y']*_0x161e85['x'],this['w']=_0x2ffecd),this['normalize']();}['slerp'](_0x412ef4,_0x3f3fa5,_0x197da8){const _0x342c31=_0x412ef4['x'],_0x22f2e6=_0x412ef4['y'],_0x579220=_0x412ef4['z'],_0x3832fb=_0x412ef4['w'];let _0x30ec04=_0x3f3fa5['x'],_0x343216=_0x3f3fa5['y'],_0x499a43=_0x3f3fa5['z'],_0x432b63=_0x3f3fa5['w'],_0x5c81bb=_0x3832fb*_0x432b63+_0x342c31*_0x30ec04+_0x22f2e6*_0x343216+_0x579220*_0x499a43;if(_0x5c81bb<0x218f+-0xc47+0x6*-0x38c&&(_0x432b63=-_0x432b63,_0x30ec04=-_0x30ec04,_0x343216=-_0x343216,_0x499a43=-_0x499a43,_0x5c81bb=-_0x5c81bb),Math['abs'](_0x5c81bb)>=-0x1595+0x966+-0xd0*-0xf)return this['w']=_0x3832fb,this['x']=_0x342c31,this['y']=_0x22f2e6,this['z']=_0x579220,this;const _0x305210=Math['acos'](_0x5c81bb),_0x386b4f=Math['sqrt'](-0x24bc+-0xc2c+0x30e9-_0x5c81bb*_0x5c81bb);if(Math['abs'](_0x386b4f)<0x1b60+0xeda*0x2+-0x3914+0.001)return this['w']=_0x3832fb*(-0x1a71+-0x5*-0x70e+0x13*-0x77+0.5)+_0x432b63*(0x124c+-0x7e+-0x2b*0x6a+0.5),this['x']=_0x342c31*(0x1*0xba1+0x1*0x11f5+-0x1d96+0.5)+_0x30ec04*(0xc2*-0xc+-0x5*-0x597+-0x12db+0.5),this['y']=_0x22f2e6*(0xd03+0x7*0x6c+-0xff7+0.5)+_0x343216*(-0xb3+0x5f3+-0x540+0.5),this['z']=_0x579220*(0x1ef*-0x1+0x2fa*0xb+-0x1ecf+0.5)+_0x499a43*(-0x1*0x1242+-0x20c7*0x1+-0xf*-0x367+0.5),this;const _0x8ad4b2=Math['sin']((-0x1*0xc23+0x260f+-0x19eb-_0x197da8)*_0x305210)/_0x386b4f,_0x419de7=Math['sin'](_0x197da8*_0x305210)/_0x386b4f;return this['w']=_0x3832fb*_0x8ad4b2+_0x432b63*_0x419de7,this['x']=_0x342c31*_0x8ad4b2+_0x30ec04*_0x419de7,this['y']=_0x22f2e6*_0x8ad4b2+_0x343216*_0x419de7,this['z']=_0x579220*_0x8ad4b2+_0x499a43*_0x419de7,this;}['transformV'+'ector'](_0x40f398,_0x2ddf8c=new T()){const _0x56e6d2=_0x40f398['x'],_0x5d8b57=_0x40f398['y'],_0x114b05=_0x40f398['z'],_0xa496dd=this['x'],_0xaecfe5=this['y'],_0xf2bc7a=this['z'],_0x2ccc89=this['w'],_0x397a70=_0x2ccc89*_0x56e6d2+_0xaecfe5*_0x114b05-_0xf2bc7a*_0x5d8b57,_0x2f991b=_0x2ccc89*_0x5d8b57+_0xf2bc7a*_0x56e6d2-_0xa496dd*_0x114b05,_0x1828c0=_0x2ccc89*_0x114b05+_0xa496dd*_0x5d8b57-_0xaecfe5*_0x56e6d2,_0x267664=-_0xa496dd*_0x56e6d2-_0xaecfe5*_0x5d8b57-_0xf2bc7a*_0x114b05;return _0x2ddf8c['x']=_0x397a70*_0x2ccc89+_0x267664*-_0xa496dd+_0x2f991b*-_0xf2bc7a-_0x1828c0*-_0xaecfe5,_0x2ddf8c['y']=_0x2f991b*_0x2ccc89+_0x267664*-_0xaecfe5+_0x1828c0*-_0xa496dd-_0x397a70*-_0xf2bc7a,_0x2ddf8c['z']=_0x1828c0*_0x2ccc89+_0x267664*-_0xf2bc7a+_0x397a70*-_0xaecfe5-_0x2f991b*-_0xa496dd,_0x2ddf8c;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(0x1*0x1979+-0x2a5*0xc+-0x1*-0x643,-0x34c+0x1f72+-0x1c26,0x7c*-0x4b+0x3*0x6d3+0x171*0xb,-0x61*-0x56+-0x20d3+-0x3e*-0x1))),c(aa,'ZERO',Object['freeze'](new aa(0x1c0b+0x1131*0x1+0x14*-0x243,0x239c*-0x1+-0x9b1+0x2d4d,0x63*-0x1d+-0x2145+0xdb*0x34,-0x131b+-0x179+0x1494)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x3c322d,_0x5b1a84){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(-0x1*-0x79f+-0xebb+0x71c+0.5,0x1*0x1ba3+-0x71*0x9+0x1*-0x17aa+0.5,-0x449+-0xef*0x23+0x24f6+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x3c322d&&this['center']['copy'](_0x3c322d),_0x5b1a84&&this['halfExtent'+'s']['copy'](_0x5b1a84));}['add'](_0x4fee23){const _0x4195a5=this['center'],_0x332617=_0x4195a5['x'],_0x57b2fe=_0x4195a5['y'],_0x39e8a5=_0x4195a5['z'],_0x25d414=this['halfExtent'+'s'],_0x5c67d1=_0x25d414['x'],_0x30ecb2=_0x25d414['y'],_0x49579e=_0x25d414['z'];let _0x4d37c9=_0x332617-_0x5c67d1,_0x52ab1c=_0x332617+_0x5c67d1,_0x499673=_0x57b2fe-_0x30ecb2,_0x2fe67e=_0x57b2fe+_0x30ecb2,_0x36af17=_0x39e8a5-_0x49579e,_0x43c091=_0x39e8a5+_0x49579e;const _0x5b0d75=_0x4fee23['center'],_0x31046a=_0x5b0d75['x'],_0x464209=_0x5b0d75['y'],_0x1d98ad=_0x5b0d75['z'],_0x2a019c=_0x4fee23['halfExtent'+'s'],_0x55f9df=_0x2a019c['x'],_0x16e30e=_0x2a019c['y'],_0x52658e=_0x2a019c['z'],_0xc46d5e=_0x31046a-_0x55f9df,_0x1c60fe=_0x31046a+_0x55f9df,_0x21d2ce=_0x464209-_0x16e30e,_0x304426=_0x464209+_0x16e30e,_0x438ae5=_0x1d98ad-_0x52658e,_0x4ecb2b=_0x1d98ad+_0x52658e;_0xc46d5e<_0x4d37c9&&(_0x4d37c9=_0xc46d5e),_0x1c60fe>_0x52ab1c&&(_0x52ab1c=_0x1c60fe),_0x21d2ce<_0x499673&&(_0x499673=_0x21d2ce),_0x304426>_0x2fe67e&&(_0x2fe67e=_0x304426),_0x438ae5<_0x36af17&&(_0x36af17=_0x438ae5),_0x4ecb2b>_0x43c091&&(_0x43c091=_0x4ecb2b),_0x4195a5['x']=(_0x4d37c9+_0x52ab1c)*(0x315+-0x1087*-0x1+-0xfb*0x14+0.5),_0x4195a5['y']=(_0x499673+_0x2fe67e)*(-0x1*0x63e+0xa9c+0x22f*-0x2+0.5),_0x4195a5['z']=(_0x36af17+_0x43c091)*(0x788*0x1+-0x53+-0x9*0xcd+0.5),_0x25d414['x']=(_0x52ab1c-_0x4d37c9)*(-0x5c*0x4d+0x60b+0x15a1+0.5),_0x25d414['y']=(_0x2fe67e-_0x499673)*(0x1de7+-0xe30+-0xfb7+0.5),_0x25d414['z']=(_0x43c091-_0x36af17)*(0x533+-0x18dc+0x13a9+0.5);}['copy'](_0x148f20){this['center']['copy'](_0x148f20['center']),this['halfExtent'+'s']['copy'](_0x148f20['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0xadd7cf){const _0x168cb5=this['getMax'](),_0x3cb331=this['getMin'](),_0x186447=_0xadd7cf['getMax'](),_0x4ee9b6=_0xadd7cf['getMin']();return _0x3cb331['x']<=_0x186447['x']&&_0x168cb5['x']>=_0x4ee9b6['x']&&_0x3cb331['y']<=_0x186447['y']&&_0x168cb5['y']>=_0x4ee9b6['y']&&_0x3cb331['z']<=_0x186447['z']&&_0x168cb5['z']>=_0x4ee9b6['z'];}['_intersect'+'sRay'](_0x30b4f1,_0x37921b){const _0x5342c8=vn['copy'](this['getMin']())['sub'](_0x30b4f1['origin']),_0x1cc560=bn['copy'](this['getMax']())['sub'](_0x30b4f1['origin']),_0x12b964=_0x30b4f1['direction'];_0x12b964['x']===0x160a+0x6d3+-0x1cdd?(_0x5342c8['x']=_0x5342c8['x']<-0x18b9+-0xbc9*-0x2+0x127*0x1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1cc560['x']=_0x1cc560['x']<0x1048+0x88f*-0x4+-0x1*-0x11f4?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x5342c8['x']/=_0x12b964['x'],_0x1cc560['x']/=_0x12b964['x']),_0x12b964['y']===0x8b*-0x3e+-0x2061+0x420b?(_0x5342c8['y']=_0x5342c8['y']<0x269d+0x548+-0x2be5?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1cc560['y']=_0x1cc560['y']<0x856+0x1fa5+-0x27fb?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x5342c8['y']/=_0x12b964['y'],_0x1cc560['y']/=_0x12b964['y']),_0x12b964['z']===-0x1a1f+0x1b18+-0xf9?(_0x5342c8['z']=_0x5342c8['z']<-0x2*0xef7+0x12*-0x5+0x26*0xcc?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x1cc560['z']=_0x1cc560['z']<-0x31*-0x26+-0xa9*0x3b+-0x11*-0x1dd?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x5342c8['z']/=_0x12b964['z'],_0x1cc560['z']/=_0x12b964['z']);const _0x29c40d=nm['set'](Math['min'](_0x5342c8['x'],_0x1cc560['x']),Math['min'](_0x5342c8['y'],_0x1cc560['y']),Math['min'](_0x5342c8['z'],_0x1cc560['z'])),_0x3ba2da=am['set'](Math['max'](_0x5342c8['x'],_0x1cc560['x']),Math['max'](_0x5342c8['y'],_0x1cc560['y']),Math['max'](_0x5342c8['z'],_0x1cc560['z'])),_0x51b9b6=Math['min'](Math['min'](_0x3ba2da['x'],_0x3ba2da['y']),_0x3ba2da['z']),_0x127888=Math['max'](Math['max'](_0x29c40d['x'],_0x29c40d['y']),_0x29c40d['z']),_0x2a691c=_0x51b9b6>=_0x127888&&_0x127888>=-0xb9b+-0x68c+0x1227;return _0x2a691c&&_0x37921b['copy'](_0x30b4f1['direction'])['mulScalar'](_0x127888)['add'](_0x30b4f1['origin']),_0x2a691c;}['_fastInter'+'sectsRay'](_0x22251f){const _0x2dcf9d=vn,_0x188ff5=bn,_0x53a7aa=nm,_0x469057=am,_0x46fe7f=vS,_0x167eeb=_0x22251f['direction'];return _0x2dcf9d['sub2'](_0x22251f['origin'],this['center']),_0x469057['set'](Math['abs'](_0x2dcf9d['x']),Math['abs'](_0x2dcf9d['y']),Math['abs'](_0x2dcf9d['z'])),_0x53a7aa['mul2'](_0x2dcf9d,_0x167eeb),!(_0x469057['x']>this['halfExtent'+'s']['x']&&_0x53a7aa['x']>=-0x1f1e+0x90e*0x2+0xd02||_0x469057['y']>this['halfExtent'+'s']['y']&&_0x53a7aa['y']>=-0x351*0x1+0x2519*0x1+-0x21c8||_0x469057['z']>this['halfExtent'+'s']['z']&&_0x53a7aa['z']>=0x8b9+-0x10e*0x3+-0x58f||(_0x46fe7f['set'](Math['abs'](_0x167eeb['x']),Math['abs'](_0x167eeb['y']),Math['abs'](_0x167eeb['z'])),_0x188ff5['cross'](_0x167eeb,_0x2dcf9d),_0x188ff5['set'](Math['abs'](_0x188ff5['x']),Math['abs'](_0x188ff5['y']),Math['abs'](_0x188ff5['z'])),_0x188ff5['x']>this['halfExtent'+'s']['y']*_0x46fe7f['z']+this['halfExtent'+'s']['z']*_0x46fe7f['y'])||_0x188ff5['y']>this['halfExtent'+'s']['x']*_0x46fe7f['z']+this['halfExtent'+'s']['z']*_0x46fe7f['x']||_0x188ff5['z']>this['halfExtent'+'s']['x']*_0x46fe7f['y']+this['halfExtent'+'s']['y']*_0x46fe7f['x']);}['intersects'+'Ray'](_0x2eae56,_0x188f29){return _0x188f29?this['_intersect'+'sRay'](_0x2eae56,_0x188f29):this['_fastInter'+'sectsRay'](_0x2eae56);}['setMinMax'](_0x2d8324,_0x41807a){this['center']['add2'](_0x41807a,_0x2d8324)['mulScalar'](0x10f*0x3+-0x2297+0x1*0x1f6a+0.5),this['halfExtent'+'s']['sub2'](_0x41807a,_0x2d8324)['mulScalar'](0x209f+0x1bfd+0x24*-0x1af+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x2ad079){const _0x1d92fa=this['getMin'](),_0x9c4db1=this['getMax']();return!(_0x2ad079['x']<_0x1d92fa['x']||_0x2ad079['x']>_0x9c4db1['x']||_0x2ad079['y']<_0x1d92fa['y']||_0x2ad079['y']>_0x9c4db1['y']||_0x2ad079['z']<_0x1d92fa['z']||_0x2ad079['z']>_0x9c4db1['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x505913,_0x2a1d5b,_0xde7c02=!(0x658+0x3df*0x2+-0xe15)){const _0x1bcc32=_0x505913['center'],_0x5b458f=_0x505913['halfExtent'+'s'],_0x33ab6e=_0x2a1d5b['data'];let _0x509ee0=_0x33ab6e[-0x1171+-0x1f18+0x47*0xaf],_0x516227=_0x33ab6e[-0x619*-0x1+0x262c+-0x2c41],_0x28102f=_0x33ab6e[-0x563+0x15*0xb9+0x1*-0x9c2],_0x1831e9=_0x33ab6e[0x1*-0x279+-0x114c+0x13c6],_0xca4050=_0x33ab6e[0x515+-0x132d*0x1+0xe1d],_0x34dd2c=_0x33ab6e[0x1*-0x8f+-0x3*0x20f+0x6c5*0x1],_0x6cc93b=_0x33ab6e[-0x2*0x95c+-0x7bd*-0x4+0x5*-0x272],_0x19e181=_0x33ab6e[-0xa4d*-0x1+0x825*0x4+-0x17*0x1dd],_0x51f1c1=_0x33ab6e[0x71*-0x45+0x1*0x149c+0x9e3];if(_0xde7c02){let _0xd296d=_0x509ee0*_0x509ee0+_0x516227*_0x516227+_0x28102f*_0x28102f;if(_0xd296d>0x12c*0xf+-0xd09+-0x1*0x48b){const _0x508523=(-0x1099+-0x1bf*0x12+0x3a*0xd4)/Math['sqrt'](_0xd296d);_0x509ee0*=_0x508523,_0x516227*=_0x508523,_0x28102f*=_0x508523;}if(_0xd296d=_0x1831e9*_0x1831e9+_0xca4050*_0xca4050+_0x34dd2c*_0x34dd2c,_0xd296d>0x1*0x1ae9+-0xed*-0xe+-0x27df){const _0x1b5df4=(0x8*-0xe8+-0x25d3*0x1+0x2*0x168a)/Math['sqrt'](_0xd296d);_0x1831e9*=_0x1b5df4,_0xca4050*=_0x1b5df4,_0x34dd2c*=_0x1b5df4;}if(_0xd296d=_0x6cc93b*_0x6cc93b+_0x19e181*_0x19e181+_0x51f1c1*_0x51f1c1,_0xd296d>0x25e+-0x1*0x12f6+0x1098){const _0xabc417=(0x2484+-0x6*-0x40+-0x2603)/Math['sqrt'](_0xd296d);_0x6cc93b*=_0xabc417,_0x19e181*=_0xabc417,_0x51f1c1*=_0xabc417;}}this['center']['set'](_0x33ab6e[-0x1b19*0x1+0x302+0x1823*0x1]+_0x509ee0*_0x1bcc32['x']+_0x516227*_0x1bcc32['y']+_0x28102f*_0x1bcc32['z'],_0x33ab6e[-0x8d0+-0x37*-0xb5+-0x1e06]+_0x1831e9*_0x1bcc32['x']+_0xca4050*_0x1bcc32['y']+_0x34dd2c*_0x1bcc32['z'],_0x33ab6e[0x149*0x6+-0x1803+0x105b]+_0x6cc93b*_0x1bcc32['x']+_0x19e181*_0x1bcc32['y']+_0x51f1c1*_0x1bcc32['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x509ee0)*_0x5b458f['x']+Math['abs'](_0x516227)*_0x5b458f['y']+Math['abs'](_0x28102f)*_0x5b458f['z'],Math['abs'](_0x1831e9)*_0x5b458f['x']+Math['abs'](_0xca4050)*_0x5b458f['y']+Math['abs'](_0x34dd2c)*_0x5b458f['z'],Math['abs'](_0x6cc93b)*_0x5b458f['x']+Math['abs'](_0x19e181)*_0x5b458f['y']+Math['abs'](_0x51f1c1)*_0x5b458f['z']);}static['computeMin'+'Max'](_0x94d53b,_0x462717,_0x1a1808,_0x1b0eb3=_0x94d53b['length']/(-0x621+0x18b2+-0x128e)){if(_0x1b0eb3>-0x19cb+-0x1b59+-0x4c*-0xb3){let _0x19ded8=_0x94d53b[0xc0b*0x1+0x6b8*-0x2+0x165],_0x11d4eb=_0x94d53b[0x3a*-0x49+0x18d*-0x14+0x2f8f],_0x44a09c=_0x94d53b[0x35*0x2b+0x120e*-0x2+0x1b37],_0x2b44e7=_0x19ded8,_0x5c28c2=_0x11d4eb,_0x1c10a5=_0x44a09c;const _0x16b6ff=_0x1b0eb3*(0x7*0x3a+0x4d3+-0x666);for(let _0x17b8ab=-0x2*-0x8f+-0x3c*-0x19+-0x6f7*0x1;_0x17b8ab<_0x16b6ff;_0x17b8ab+=0x2657*-0x1+-0x3*-0xba2+0x374){const _0x2a177b=_0x94d53b[_0x17b8ab],_0x5a5a28=_0x94d53b[_0x17b8ab+(0x543+-0x35f*-0x3+-0xf5f)],_0x2e81f2=_0x94d53b[_0x17b8ab+(-0x47*-0x1+-0x2541+0x127e*0x2)];_0x2a177b<_0x19ded8&&(_0x19ded8=_0x2a177b),_0x5a5a28<_0x11d4eb&&(_0x11d4eb=_0x5a5a28),_0x2e81f2<_0x44a09c&&(_0x44a09c=_0x2e81f2),_0x2a177b>_0x2b44e7&&(_0x2b44e7=_0x2a177b),_0x5a5a28>_0x5c28c2&&(_0x5c28c2=_0x5a5a28),_0x2e81f2>_0x1c10a5&&(_0x1c10a5=_0x2e81f2);}_0x462717['set'](_0x19ded8,_0x11d4eb,_0x44a09c),_0x1a1808['set'](_0x2b44e7,_0x5c28c2,_0x1c10a5);}}['compute'](_0x41be8c,_0x1d0740){_e['computeMin'+'Max'](_0x41be8c,vn,bn,_0x1d0740),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x2e50b5){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x2e50b5)<=_0x2e50b5['radius']*_0x2e50b5['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x3b80f6){const _0x1f9162=this['getMin'](),_0x40891d=this['getMax']();let _0x145ad9=0x1823+-0x2*0xc2c+0x35;const _0x333ecd=['x','y','z'];for(let _0xd9c019=0x97*-0xd+0x1c19+0x1*-0x146e;_0xd9c019<0x29b+-0x21be+0x1f26;++_0xd9c019){let _0x55860f=-0x1877+-0xd04+0x257b;const _0x570f2a=_0x3b80f6['center'][_0x333ecd[_0xd9c019]],_0x61567f=_0x1f9162[_0x333ecd[_0xd9c019]],_0x3aed52=_0x40891d[_0x333ecd[_0xd9c019]];let _0x12c2cf=-0x2a*-0x8e+0x2*-0xa1c+-0x1*0x314;_0x570f2a<_0x61567f&&(_0x12c2cf=_0x61567f-_0x570f2a,_0x55860f+=_0x12c2cf*_0x12c2cf),_0x570f2a>_0x3aed52&&(_0x12c2cf=_0x570f2a-_0x3aed52,_0x55860f+=_0x12c2cf*_0x12c2cf),_0x145ad9+=_0x55860f;}return _0x145ad9;}['_expand'](_0x30af56,_0x103c5c){vn['add2'](this['getMin'](),_0x30af56),bn['add2'](this['getMax'](),_0x103c5c),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x358a1d=new T(),_0x991639=-0x1f9c+0x104+0x1e98+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x358a1d),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x358a1d,this['radius']=_0x991639);}['containsPo'+'int'](_0x160400){const _0x5c0322=gl['sub2'](_0x160400,this['center'])['lengthSq'](),_0x167ff6=this['radius'];return _0x5c0322<_0x167ff6*_0x167ff6;}['intersects'+'Ray'](_0x3d5427,_0x1486af){const _0x25854b=gl['copy'](_0x3d5427['origin'])['sub'](this['center']),_0x3a4471=_0x25854b['dot'](bS['copy'](_0x3d5427['direction'])['normalize']()),_0x4312ad=_0x25854b['dot'](_0x25854b)-this['radius']*this['radius'];if(_0x4312ad>-0x1*0x241f+-0x2401+0x4820&&_0x3a4471>0x938+0xd*-0x1f+-0x7a5)return!(-0x3e*0x19+-0x22c4*-0x1+0x1cb5*-0x1);const _0x24c56c=_0x3a4471*_0x3a4471-_0x4312ad;if(_0x24c56c<0x2290+-0x29b*-0x2+-0x27c6)return!(0x29*-0xcd+-0x25a2+0x4678);const _0x4174d6=Math['abs'](-_0x3a4471-Math['sqrt'](_0x24c56c));return _0x1486af&&_0x1486af['copy'](_0x3d5427['direction'])['mulScalar'](_0x4174d6)['add'](_0x3d5427['origin']),!(-0xd6*0x7+0x41*-0x54+-0x31*-0x8e);}['intersects'+'BoundingSp'+'here'](_0x16c9cc){gl['sub2'](_0x16c9cc['center'],this['center']);const _0x53f21d=_0x16c9cc['radius']+this['radius'];return gl['lengthSq']()<=_0x53f21d*_0x53f21d;}}class hy{constructor(_0x3769b4=T['UP'],_0x3c0d52=0x1*0x175+-0xa8f+-0x2*-0x48d){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x3769b4),this['distance']=_0x3c0d52);}['clone'](){const _0x1c2587=this['constructo'+'r'];return new _0x1c2587()['copy'](this);}['copy'](_0x1319dc){return this['normal']['copy'](_0x1319dc['normal']),this['distance']=_0x1319dc['distance'],this;}['intersects'+'Line'](_0x550a11,_0x1886bc,_0x215629){const _0x334df1=this['distance'],_0x533509=this['normal']['dot'](_0x550a11)+_0x334df1,_0x17dd9f=this['normal']['dot'](_0x1886bc)+_0x334df1,_0x31fb2b=_0x533509/(_0x533509-_0x17dd9f),_0x476a65=_0x31fb2b>=0x202a+-0x24*-0xf8+-0x430a&&_0x31fb2b<=0x10d8+0x391*-0x4+-0x293;return _0x476a65&&_0x215629&&_0x215629['lerp'](_0x550a11,_0x1886bc,_0x31fb2b),_0x476a65;}['intersects'+'Ray'](_0x46d4a5,_0x55fe83){const _0xde3e95=this['normal']['dot'](_0x46d4a5['direction']);if(_0xde3e95===0x252b+-0x1657+-0xed4)return!(-0x13*0x1af+0x5fc*-0x6+0x43e6);const _0x2907fc=-(this['normal']['dot'](_0x46d4a5['origin'])+this['distance'])/_0xde3e95;return _0x2907fc>=0x1*0x760+0x58*0x54+0xa*-0x3a0&&_0x55fe83&&_0x55fe83['copy'](_0x46d4a5['direction'])['mulScalar'](_0x2907fc)['add'](_0x46d4a5['origin']),_0x2907fc>=-0x26f5+-0xc9*0x3+0x52a*0x8;}['normalize'](){const _0x29e416=(0x6*-0x83+-0x37e+0x691)/this['normal']['length']();return this['normal']['mulScalar'](_0x29e416),this['distance']*=_0x29e416,this;}['set'](_0x34ef5d,_0x37ecc6,_0x2d3d8b,_0x4613a0){return this['normal']['set'](_0x34ef5d,_0x37ecc6,_0x2d3d8b),this['distance']=_0x4613a0,this;}['setFromPoi'+'ntNormal'](_0x30a257,_0x36e5e1){return this['normal']['copy'](_0x36e5e1),this['distance']=-this['normal']['dot'](_0x30a257),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x30e062=-0x7a5+0xdef+-0x64a;_0x30e062<-0x1f46+-0x22bd+0x4209;_0x30e062++)this['planes'][_0x30e062]=new hy();}['clone'](){const _0x59b19f=this['constructo'+'r'];return new _0x59b19f()['copy'](this);}['copy'](_0x58537f){for(let _0x38c2ff=-0x1*0x69f+-0x1345*-0x1+-0xca6;_0x38c2ff<-0x1f4d+-0x10de*-0x2+-0x1*0x269;_0x38c2ff++)this['planes'][_0x38c2ff]['copy'](_0x58537f['planes'][_0x38c2ff]);return this;}['setFromMat'+'4'](_0xe2b917){const [_0x11b9b8,_0x5d3a82,_0x42d84c,_0x19afc5,_0xf0a5e,_0xec84ce,_0x448410,_0x3e4ead,_0x299f9c,_0xf68e9d,_0xbcc1b2,_0x46e3b0,_0x42c357,_0x1025bf,_0x31a553,_0x47d1ec]=_0xe2b917['data'],_0x48dcad=this['planes'];_0x48dcad[0x206d*-0x1+0x100b*0x2+0x57]['set'](_0x19afc5-_0x11b9b8,_0x3e4ead-_0xf0a5e,_0x46e3b0-_0x299f9c,_0x47d1ec-_0x42c357)['normalize'](),_0x48dcad[0x1*-0x479+0x1*0x1816+0xfb*-0x14]['set'](_0x19afc5+_0x11b9b8,_0x3e4ead+_0xf0a5e,_0x46e3b0+_0x299f9c,_0x47d1ec+_0x42c357)['normalize'](),_0x48dcad[0x1017+0x37e*0x1+-0x1393]['set'](_0x19afc5+_0x5d3a82,_0x3e4ead+_0xec84ce,_0x46e3b0+_0xf68e9d,_0x47d1ec+_0x1025bf)['normalize'](),_0x48dcad[0x20b5+-0x1*-0x1a76+0x277*-0x18]['set'](_0x19afc5-_0x5d3a82,_0x3e4ead-_0xec84ce,_0x46e3b0-_0xf68e9d,_0x47d1ec-_0x1025bf)['normalize'](),_0x48dcad[0x1a1e+-0x67b*-0x1+-0x1*0x2095]['set'](_0x19afc5-_0x42d84c,_0x3e4ead-_0x448410,_0x46e3b0-_0xbcc1b2,_0x47d1ec-_0x31a553)['normalize'](),_0x48dcad[0x13a9+0x204*0x6+-0x1fbc*0x1]['set'](_0x19afc5+_0x42d84c,_0x3e4ead+_0x448410,_0x46e3b0+_0xbcc1b2,_0x47d1ec+_0x31a553)['normalize']();}['containsPo'+'int'](_0x5e570d){for(let _0x3d4428=0x9da+0x1efb+-0x28d5;_0x3d4428<0xef+0x137*-0x9+-0xa06*-0x1;_0x3d4428++){const {normal:_0x5414e8,distance:_0x28520c}=this['planes'][_0x3d4428];if(_0x5414e8['dot'](_0x5e570d)+_0x28520c<=0xa3a+-0x13*0x207+0x1c4b)return!(0xda1+-0x1d*-0x157+-0x1*0x347b);}return!(-0x13*-0x202+-0x18ec+0xd3a*-0x1);}['containsSp'+'here'](_0xaf6a1f){const {center:_0x411aef,radius:_0x48837d}=_0xaf6a1f;let _0x27d31a=0x1d5c+-0x239*0xe+0x1c2;for(let _0x4a419f=-0x312*0x1+-0x2*0x318+0x942;_0x4a419f<0x21e3*0x1+0xa4c+-0x2c29;_0x4a419f++){const {normal:_0x326331,distance:_0x2e787c}=this['planes'][_0x4a419f],_0x4eb06d=_0x326331['dot'](_0x411aef)+_0x2e787c;if(_0x4eb06d<=-_0x48837d)return-0x9b3*0x1+-0x1860+0x2213;_0x4eb06d>_0x48837d&&_0x27d31a++;}return _0x27d31a===-0x1489+-0x131*-0x1+0x4a*0x43?-0x17b3+0xd13*0x1+0xaa2:0x22ce+0x42f+0x4*-0x9bf;}}class uu{constructor(_0x39b33a,_0x50e703){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x39b33a&&this['origin']['copy'](_0x39b33a),_0x50e703&&this['direction']['copy'](_0x50e703));}['set'](_0x4178f1,_0x1d36d0){return this['origin']['copy'](_0x4178f1),this['direction']['copy'](_0x1d36d0),this;}['copy'](_0xb0128b){return this['set'](_0xb0128b['origin'],_0xb0128b['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=0x2ed+-0x9ca+-0xfb*-0x7,ae=0x140a+0x23dd+-0x35*0x10e,Of=-0x20d8+-0x1a02*0x1+-0x4*-0xeb7,kf=-0xf87+-0x1b67+0x44b*0xa,at=-0x1*-0x1163+-0x1*-0x8bd+-0x1a1f,TS=0xf9*-0x20+0x460+-0x2ad*-0xa,dy=0x23d5*-0x1+-0x19a9+0x1ec1*0x2,AS=-0x1866+0xda1+0xaca,dc=0xfa4+0x2203+0xe7*-0x37,uc=0x1f1a+0x702*0x1+0x2*-0x130a,Ft=0xa94*-0x1+-0x6d*-0x1c+-0x158,ES=-0xcba+-0x77+0xd33,CS=-0x1e7c+-0x3*0x6f3+0x3358,MS=0x41b+-0x1ae2+0x16cb,jt=-0x2423+-0x11af+0x35d2,Th=0xaf*0x2e+-0xf08+-0x1069,uy=0x142f+-0x3*-0x955+-0x302c,PS=-0x1f03+-0x2410+-0x115*-0x3e,Co=-0x141e+-0x70a+0x1b29,Mo=0xb4d+0xb9*0xd+0x14b0*-0x1,Ah=0x36*0xb5+-0x1c03+-0xa27,mt=-0x490*0x5+-0xbe*-0x30+-0xcd0,rn=-0x3*-0xb2a+0x14+-0x1*0x2191,mo=0x3*0x6b5+-0x2243+0xe26,RS=0x1e3d+0x34d+-0x2187,de=0x2185+0x1f72+-0x40f7,st=-0x7a*0x4+-0x1bee+0x1dd7,fc=-0x8fa+0x7*-0x46f+0x1*0x2805,pc=0x1843+0x21e0*0x1+0x5d0*-0xa,mc=0x9a6+0x152e+-0x1ed0,nn=0x2a8+-0x127+0x14*-0x13,IS=0x69+0x680*0x2+0xd69*-0x1,Eh=0x1232*-0x1+0x21d*0x7+0x2*0x1b4,Ch=0xe6*-0x17+0xbe3+0xad*0xd,fu=-0x2506+0xb4*0x31+-0x295*-0x1,DS=-0x1d8a*0x1+-0x1755+0x34e3,LS=0x1a3*0x8+0x1*-0x26ef+-0x5*-0x52c,FS=-0x10*0x160+-0x3*0x691+-0x29b9*-0x1,Ai=-0xc*0x17+-0x1a4*0x5+0x94f,pu=-0xf*-0x196+-0x111b+-0x1d*0x3b,Pi=-0x1*0x1241+0x4*-0xc7+0x155e,nr=0x20d8+0x2ba*0x3+-0x2904,fy=-0x8f*-0x3f+-0x17*0x16a+0x1*-0x2ab,py=0x1ec8+-0x4*0x145+-0x19b3,Bf=-0x529+-0x55c+0xa87,_c=0x727*0x1+-0x1d*-0x65+-0x1295,Nf=-0x1c25+-0x196a+0x3593,gc=-0xd22+-0x2147+0x2e6e,dr=-0x7*-0x50f+0x20dc+0x1*-0x443f,Se=-0x63e*0x5+0x9*-0x2e7+0x395c*0x1,yc=-0x1feb+0x4*0x193+0x21*0xc7,zf=0x1*0x1865+0xc4e+-0x24aa,Wo=0xa3*0x34+-0x122c+0x2*-0x773,xc=-0x2db*0x1+0x3*0xb99+-0x661*0x5,Je=-0x1d5c*-0x1+-0x839+-0x1517,Sc=0x15*0x98+-0x16a8+-0xa3d*-0x1,Ke=-0x1a6c+0x2*0xc2c+0x222,Ii=-0x2537+0xa8f+0x1ab7,Ci=0xf43*0x1+0x152+-0x1085,vc=-0x2004+-0x10d4*-0x2+-0x193,_a=0x263a+-0x3c6+-0x2262,Uf=0xe14*0x1+0x1c*0x121+-0x2d9d*0x1,rs=0x539*-0x3+-0x3*-0x9b9+-0xd6c,bc=-0x5*-0x16a+-0xe64+0x767*0x1,Vf=0x19*0x185+0x17a1+-0x3d88,Gf=0x1340+0xc52+-0x1f7b,qo=0x20c6+-0x1*0x1f31+-0x3*0x7f,Xo=0x459+0xc6f+-0x10af,wc=-0x23b8+-0x35c+0xaa*0x3b,Tc=0x5*-0x62f+0x1*0x2429+0x107*-0x5,my=0xcb7+0x1*0x1a19+0x9ad*-0x4,_y=-0x2*0x12d3+0x5*-0x569+0x40d0,gy=-0x4f+0x1*0x170f+0x1*-0x16a2,yy=0x2462+-0x405+-0x203e*0x1,Hf=-0x1b23+0x2001+-0x4be,xy=-0x3*0xd05+-0x3dd*0x8+-0x4*-0x1186,$f=-0x7e+0x1e3a+-0xecd*0x2,Wf=-0x5*0x146+0x1616+-0xf95,qf=-0x1d66+-0x3*0x69d+0x3161,an=-0x11*-0x119+-0xd57*0x2+0x1a2*0x5,Xf=-0x1f6a+0x1989*-0x1+0x3919,Sy=-0x18*0x3d+0x48+0x597,jf=-0x1fc5+-0xc83+0x2c70,Yf=0x19a1*0x1+0x1b28+0x10*-0x34a,Kf=-0x13b0+-0x1*-0x243c+-0x1062,Zf=0x52c+0x2f*-0xa4+-0x191b*-0x1,Qf=-0x1a2*-0x10+-0xe65*0x2+0xf2*0x3,vy=-0x158*0x12+0x5d6+0x1287,Jf=-0x192e+0xd*-0x102+0x2676,Ac=0xb78+-0x536+0x1*-0x613,ep=-0x1384*-0x2+0x15be+-0x1*0x3c96,ut=0xe96*-0x2+0x77*-0x17+0x280e,Ec=0x1db*-0x11+0xda+0x1ee3,tp=-0x24ed+0x739+0x1de7,sp=-0xfc7+0x2da*-0x4+-0x921*-0x3,ip=0x2*0xe1d+0x1e65*-0x1+0x98*0x4,mu=0x1*-0x22db+-0xacc*-0x1+0x1845,_u=-0x1852+0x1673+0x10b*0x2,gu=-0x21be+-0x4a6+0x1*0x269c,yu=-0xdd8+0x146d+-0x32c*0x2,xu=0x4*0x894+-0x1dbe+-0x454,Su=-0x1edf+0x1c9a+0x284,by=-0xa97+-0x5*-0x60d+-0x136a,wy=0x6fb*-0x5+0x11e*0x5+0x1d92,Ty=0x232d+-0x355+0x1*-0x1f96,Ay=-0x204a+-0xe5d*0x1+-0x962*-0x5,vu=-0x2*0x8f1+0x1*0x35d+0xec9,la=0x2291+0x19b*-0x3+-0x1d7b,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(-0x59f+-0x52c*0x7+0x29d3)}],[sp,{'name':'R8','size':0x1,'ldr':!(-0x1929+-0x127d*0x1+0x2ba6)}],[py,{'name':'L8','size':0x1,'ldr':!(0x2a1*-0xc+-0x56*0x5e+0x3f20)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(-0x1cd3+0xdd4+-0x15d*-0xb)}],[ip,{'name':'RG8','size':0x2,'ldr':!(-0x3*0x463+-0x4c5+0x11ee)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(0xa*0xf+-0x3b*-0x7+-0x233)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(0x761*0x1+0x8b3*0x2+0x18c7*-0x1)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(0x1c29+-0x4d1+-0x24*0xa6)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(0x1849*-0x1+0x3f5*0x2+0x105f)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(0x1e4c+0xd2a*0x2+-0x6*0x970),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(0xdb9+-0x920+0x499*-0x1),'srgb':!(0x1*0x1385+-0x159c+0x217)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(-0x5cf*-0x4+0x1de*-0xf+0x4c6),'srgb':!(0x1*-0xde7+0xb66+0x1*0x281)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(0x499+0x3d*0x2+-0x513)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(-0xb65*0x2+-0x45+0x170f),'srgb':!(0x1380+-0xcd1+-0x6af)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(-0x42c+0x238f+0x647*-0x5),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x1e67*0x1+-0x125f+0x30c6),'srgbFormat':_u}],[Wo,{'name':'DXT5','blockSize':0x10,'ldr':!(0x2bd+-0x1a83+0x11*0x166),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x2*0x343+0x484+0x202)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x12*0xc7+0xe5d+-0x1c5b),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x17c1+0x11b1+0x8*0xc2),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0xa*-0x10d+-0x3e*0x54+0x9d6),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x2*0xe5d+-0x1d53+0x99),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x1ed9+0x1*0x2112+-0x1*0x239),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x22df+0x2a*-0x83+-0x5*0x2ad),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x11*0xcb+-0x2fb+-0x1076*-0x1),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x2209+0x45*0x4e+0x1*0xd03)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x2161+0x1*-0x1c73+0x3dd4)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0xb*-0x23+0xe78+-0xcf7),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x23ce+0x2*-0x1ad+0x2728),'srgb':!(0x1*-0x8b0+-0x22f+0xadf)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0xe6d*-0x2+0x1ed1+-0x3bab),'srgb':!(0x8ac+0xe5*0x11+0x1*-0x17e1)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x16*0x13+-0x2486+0x22e4),'srgb':!(-0x1fba+0x1cd*-0x1+0x2187)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x39e*-0x8+-0x1*0x5ea+0x7*-0x34a),'srgb':!(0x386*0x9+-0x3*-0x35f+0x2b*-0xf9)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0x7*-0x18a+-0x10*-0x1ac+-0x2586),'srgb':!(0x3*0x599+0x2518*0x1+-0x35e3)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(-0xa1e*0x1+0x283*0x1+0xb1*0xb),'srgb':!(-0x1d9+0x453*0x6+-0x1*0x1819)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x12*0x1+-0x17f*0x13+0x1c5b),'srgb':!(-0x1afd+0x7c3+0x133a)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(-0x667*0x5+-0x1e46+-0x3e49*-0x1)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x1747+-0x1127+-0xe1*-0x2e)}],[$f,{'name':'R16I','size':0x2,'isInt':!(0x2673+0x2b*0xdf+-0x4be8)}],[Wf,{'name':'R16U','size':0x2,'isInt':!(-0xe*0x227+0x16ed+0x735)}],[qf,{'name':'R32I','size':0x4,'isInt':!(0x5*0x6ff+0x4*-0x336+-0x1623)}],[an,{'name':'R32U','size':0x4,'isInt':!(-0x4*0x154+0x7*-0x282+0x16de)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(0x1f*-0xd6+-0x1*-0x1c5+-0x1*-0x1825)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(-0x7*-0xc7+0x1*0xf95+-0x2*0xa83)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(-0x5*-0x12e+-0x21cb+0x1*0x1be5)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(-0x1081+-0x238d+0x340e)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(-0xf5*-0x16+0x7b8+-0x1cc6)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(-0x26e4+-0x1a01+0x40e5)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(-0x2288+-0xa03*0x2+-0x2*-0x1b47)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(-0xef7*-0x2+0x1*-0x1554+-0x89a)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(-0x219a+-0x18c4+0x3a5e*0x1)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(0x368*0x2+-0x187b+0x11ab)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(0x2*-0x69+0x2*0xc2d+-0x1788)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(0x2460+-0x256e*0x1+0x10e)}]]),OS=_0x322796=>{var _0x22e610;return((_0x22e610=xt['get'](_0x322796))==null?void(0x2629+0x59e*-0x5+0xa13*-0x1):_0x22e610['blockSize'])!==void(0x3*0x3f3+-0xd*-0x14c+-0x1cb5);},Mh=_0x2bfe19=>{var _0x35bfa3;return((_0x35bfa3=xt['get'](_0x2bfe19))==null?void(0x1bb*-0x2+-0xa21*0x2+0x5c*0x42):_0x35bfa3['srgb'])===!(0x13d5+-0x20*-0x1a+-0x1*0x1715);},ea=_0x2673c4=>{var _0x532faa;return((_0x532faa=xt['get'](_0x2673c4))==null?void(0x17a9+0x1d83+-0x29*0x14c):_0x532faa['isInt'])===!(-0x6*0x36d+0x157*-0xf+-0xd8d*-0x3);},Cc=_0x1aac12=>{var _0x58cfd2;return((_0x58cfd2=xt['get'](_0x1aac12))==null?void(-0x1f7a+-0x1e4e+0x3dc8):_0x58cfd2['srgbFormat'])||_0x1aac12;},kS=_0x5a0549=>{for(const [_0x494655,_0xee9a70]of xt)if(_0xee9a70['srgbFormat']===_0x5a0549)return _0x494655;return _0x5a0549;},Ey=_0x45ec7f=>{const _0x58a04d=xt['get'](_0x45ec7f);return!!(_0x58a04d!=null&&_0x58a04d['ldr']&&!(_0x58a04d!=null&&_0x58a04d['srgb']));},Cy=_0x2435ca=>{switch(_0x2435ca){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case $f:case jf:case Jf:return Int16Array;case ip:case Wf:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=0x215a+-0x22bb+0x1*0x161,Pc=-0x5ce*0x6+-0x9e2+0x2cb7,My=-0x24a3+0x1*0x19dd+0xac8,Py=0x3*-0x9e5+0x2f*-0xbb+0x4007,Ms=0x2027+0x97*0x1d+-0x47a*0xb,ar=-0x21e*-0x3+-0x3*0x76+-0x4f3,Yr=-0x1*0x1b62+0x264d*0x1+0xae5*-0x1,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=0x4*-0x9ad+0x12bf+0x13f6,ha=0x6a6+-0xcef+0x649,GS=-0x1362*0x1+0xe*0xb+0x12ca,HS=0x2583+0x1605+-0x3b85,$S=-0x14fe*-0x1+0x19*0x38+-0x1a71*0x1,yl=0x1*0xbf+-0x211+0x152,Fy=-0x1c*0x112+-0x253c+0x4335,rd=-0x1d92+0x2d*-0x6d+0x30bd,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=-0x26d4+0xc2*0x3+-0x248f*-0x1,ur=-0x112c+0x7*-0x8b+0x14fb,Oy=-0x9*-0x31+-0x1af1+0x869*0x3,Us='2d',WS='2d-array',qS='cube',XS='3d',oh=-0xa1f*0x3+-0x14fd+-0x88f*-0x6,nd=-0x40a*0x7+0x1bcf+0x18*0x5,jS=-0x18df+-0xf1*-0x5+-0x4*-0x50b,YS=-0x1*0xcb4+0x1*-0xc9f+0x45*0x5e,KS=0x2*0x2ec+0x1da*0xf+-0x219a,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=0x52f*-0x1+0x1089*-0x1+-0xadc*-0x2,Kr=-0x4e3+-0x14*0xed+-0x2*-0xbb4,Ic=-0x953+0x1b85+0x308*-0x6,el=0x1988+-0x45*0x19+0x4*-0x4b2,By=0xa*0x3d9+0x1*-0x2305+-0x371,Do=-0x1a*-0xfa+0x1a18+0x11*-0x307,Ee=-0x238b+0x74b+0x1c46,ca=-0x1cd*0xd+-0x1*0xe5c+0x125*0x21,ln=-0x17*0x142+-0x1805*-0x1+-0x4ea*-0x1,Ws=0x2*-0x603+-0x14f*-0x14+0x4*-0x389,or=-0x485+-0xb98+0x102*0x10,Wt=-0x7*0x44b+0xd*-0x24b+0x3be0,xa=0x37a*0x1+-0x1*-0x2189+-0x24fe,Zr=0x157f+-0x24fe+0x89*0x1d,Qr=-0x5*-0x209+-0x4*0x4a8+-0x2*-0x43d,Jr=-0x9ce+0x94a+0x8c,Lo=0x24*-0x88+-0xf56+0x227f,Fo=-0xe*0x27c+0x3*-0x285+0x2a61,Oo=0x21de*-0x1+-0x1668+0x3851,Rh=0x16b3*0x1+-0x987+-0xd20,ko=0x2*-0xa27+0x1652+-0x1f7,Sa=-0x24f*0x7+0x1fd1+-0x2*0x7cd,JS=0x7*-0x119+-0x86d+0x102b,ev=0x52*0x25+-0x1*-0x156b+-0x2135,Dc=-0x240f+-0x4f*0x13+0x29fd,tv=-0x1319+-0x97*0x5+0x161e,sv=-0xa3*-0x35+-0x1933+-0x3*0x2d3,iv=0x2047*0x1+0x1*-0x317+-0x1d1c,Lc=0xa73+0x1aeb+0x775*-0x5,Fc=-0x6c5+-0x3e3*0x1+-0x37*-0x32,lp=-0xc*0x21e+-0x441*0x3+0x2642,Ny=-0x4*-0x7f2+-0x1e4b+-0x165,rv=-0x16f7*-0x1+-0x1*-0x102b+-0x2709,va=0x2490+-0x839*0x3+-0xbcb,ba=-0xb3b+0x145c+-0x906,wa=-0x1*-0x779+-0xea7+0x74a,Ta=-0x228d+0x1530+-0x4b*-0x2e,Aa=0x3*0xfb+0x459+-0x22*0x36,Oc=-0x23a*-0x3+-0x286+-0x409,kc=0x16f1+0xad3+-0x21a4,Ea=0x2c3*0xa+-0x130+-0x1a4d,Bc=0x841+-0xc5*-0x5+-0xbf8,Nc=0x1ab5*-0x1+-0x16e*-0x11+0x28a,Ca=0x2*-0x12c4+-0x1*0x1465+-0x3df*-0xf,zc=0x19b7+-0x1f34+-0xce*-0x7,Uc=-0x2d*0x9+-0x2e3+-0x3*-0x18a,Ih=-0x1*0x17b3+-0x253b+0x3d15,hp=0x4d5*0x5+-0x1cde+-0x53*-0xf,cp=-0x1fdb+0x1dd9+0x22b,nv=0xe63+-0x305+-0xb34,av=0x12f0+0xf*0x19f+-0x5*0x89e,ov=-0x1ea*0xe+0x934+0xc*0x17b,lv=-0x167*-0x19+0x19a0+-0x2*0x1e41,hv=0x1ac9*-0x1+-0x1*0x484+0x1f7b,cv=0x18d7+-0x20*-0x2a+-0x1de8,dv=0x8*-0x2dd+0x1*0x251+0x14c7,uv=0x11fe*-0x1+-0x8*0x2c5+0x2857,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();(function(){const _0x588c00=function(){let _0x1c03f2;try{_0x1c03f2=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x991c96){_0x1c03f2=window;}return _0x1c03f2;},_0x1865fb=_0x588c00();_0x1865fb['setInterva'+'l'](_0x46a9ab,0x21cb+-0xb08+0x1*-0xef3);}()),fv['forEach']((_0x34412d,_0x33165f)=>{_0x34412d['forEach'](_0x4f581d=>pv['set'](_0x4f581d,_0x33165f));});const mv='webgl2',up=0xcb2+-0xa5e+-0x77*0x5,li=-0x1faf*-0x1+0x248*0xb+-0x38c5,_v=-0x9de+0x1*-0x22df+-0x2cc1*-0x1,gv='ldr',zy=0x1*0xa08+-0xe6f+0x468,Uy=-0x2d7*-0x7+0x11a*-0x9+-0x9f5,Vy=-0x2521+-0x2*-0x11f9+0x1*0x133,Gy=0x2*-0xfec+0xf75+0x106b,Hy=-0x1f98+0x1*-0x1ad7+0x3a7f,$y=-0xbb*-0x1+-0xb5c+-0x1*-0xac1,Wy=0x12fb+0x1381+-0x98f*0x4,qy=-0x2660+0x162d+0x10b3,yv=-0xd*-0x29+0x18b6*0x1+-0x7f*0x34,Dh=-0xd94+-0x1f59+0x2ced,Xy=-0x478+0xae7+-0x66e,Eu=-0x13a*-0x17+0x19+-0x1*0x1c4d,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[-0xe*-0x21a+0x8a6+-0x2611*0x1,-0x1df*0xd+0x112f+0x1f*0x3b,0x1*0x5b7+0x22f5+-0x28aa,-0x1*0x119b+-0x1b74+0x1*0x2d11,-0x13*-0x1cf+-0x435*0x2+0x3*-0x8a5,0x17b*-0x11+0x1757*-0x1+0x3086,0x1*-0x1bc5+-0xa1a*0x2+0x2ffd,0x21be+0x12b2+-0x346e],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0x237e+0x1d*-0x125+0x44b0,-0x9e*-0xe+0x3*0x8bf+-0x22df,-0x4ae+0x2180+-0x1cce],ve={};ve[He]=-0xe8c+0x5*0x699+-0x1271,ve[Yt]=0xb97*-0x2+0xd7c+0x9b3,ve[Ys]=0x2694+-0x1acd*0x1+-0x17*0x83,ve[qt]=-0x10c4+0x11b3+-0x1*0xec,ve[At]=0x340+-0x25ce+0x76*0x4b,ve[ns]=-0x1763*-0x1+-0xee9*0x1+-0x875,ve[_n]=-0x83f+0x12af*0x1+-0xa6a,ve[jo]=0x190e+-0x1f52+0x64b,ve[Yo]=0x490*-0x7+-0xd3a*0x2+0xe9b*0x4,ve[Ko]=-0xc47*-0x2+-0x1bc2+0x33d,ve[Zo]=0x1f58+0x9a3*-0x4+0x1*0x73e,ve[Qo]=0x251f+-0x11b*-0xf+-0x11e3*0x3,ve[Jo]=0x1*0xf06+-0x4*-0x36d+-0x1*0x1cae,ve[Zs]=-0x2631*-0x1+0x24*0xd9+-0x44a8,ve[bu]=-0x1c60+-0x25a0+0x4200,ve[wu]=0x1c7f+0x1f3c+-0x3bba,ve[Ry]=-0x30d*-0xb+0x1f*0x4f+-0x2b1e,ve[Iy]=-0xa*-0x1b7+0x1f17+-0x303a,ve[Dy]=0x7*-0x89+0xce1+-0x91e,ve[BS]=0x1*0xc5+-0x1*-0x19f9+-0x1ab9,ve[NS]=0xc7d*-0x1+0x22*0x125+0x8cd*-0x3,ve[zS]=-0x215+-0x20fc+0x2318,ve[Po]=-0x7*0x2c1+-0x1*0x14b+-0x6de*-0x3,ve[Ro]=0x1*-0xa6d+-0x3bc+-0x2e*-0x4f,ve[US]=0x66e+0x1860+0x1ec4*-0x1,ve[VS]=-0x1671+-0xd35+0x23b1,ve[rp]=0x1614+0x52*0x2+-0x4*0x5ab,ve[ga]=0x138c*-0x1+0x1*-0x1238+0x25d1,ve[np]=-0x13*0x1d3+0x877+0x1a40,ve[ya]=0xef8+0x1*0x12cd+-0x21b6;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=0xd2e*0x1+0x308+-0x1036;}static['pushGpuMar'+'ker'](_0x49663d,_0x2eeceb){Ki['markers']['push'](_0x2eeceb),_0x49663d['pushMarker'](_0x2eeceb);}static['popGpuMark'+'er'](_0x409c38){Ki['markers']['length']&&Ki['markers']['pop'](),_0x409c38['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=-0x14d*-0x15+-0x251*0x9+-0x678;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[WS]:'texture2DA'+'rray'};class Vc{constructor(_0x4dd147,_0x455c0c){c(this,'slot',-(0xe*-0x215+0xdd8+-0xf4f*-0x1)),c(this,'scopeId',null),(this['name']=_0x4dd147,this['visibility']=_0x455c0c);}}class pp extends Vc{}class Av extends Vc{constructor(_0x3ee628,_0x1280d0,_0x74af54=!(-0xa9e*0x3+-0xd*-0x32+0x18b*0x13)){super(_0x3ee628,_0x1280d0),c(this,'format',''),(this['readOnly']=_0x74af54,v['assert'](_0x74af54||!(_0x1280d0&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x51ded9,_0x578a71,_0x43f3a4=Us,_0xb291cc=oh,_0x14a1c7=!(0x1a4+0x2*-0x12e5+0x2426),_0x49127d=null){super(_0x51ded9,_0x578a71),this['textureDim'+'ension']=_0x43f3a4,this['sampleType']=_0xb291cc,this['hasSampler']=_0x14a1c7,this['samplerNam'+'e']=_0x49127d??_0x51ded9+'_sampler';}}class Ev extends Vc{constructor(_0x34378c,_0x439c5a=Se,_0x2adfb8=Us,_0x5e35f1=!(0x1*0x139f+-0x1572+-0x1d3*-0x1),_0x25feb8=!(-0x190a*-0x1+-0x2684*0x1+0xd7b)){super(_0x34378c,_v),this['format']=_0x439c5a,this['textureDim'+'ension']=_0x2adfb8,this['write']=_0x5e35f1,this['read']=_0x25feb8;}}class jy{constructor(_0x334ca8,_0x294485){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x294485));let _0x2ca5be=-0x1*0x254+-0x1*-0x93c+-0x6e8;_0x294485['forEach'](_0x4d6d1f=>{_0x4d6d1f['slot']=_0x2ca5be++,_0x4d6d1f instanceof fi&&_0x4d6d1f['hasSampler']&&_0x2ca5be++,_0x4d6d1f instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x4d6d1f):_0x4d6d1f instanceof fi?this['textureFor'+'mats']['push'](_0x4d6d1f):_0x4d6d1f instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x4d6d1f):_0x4d6d1f instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x4d6d1f):v['assert']('Invalid\x20bi'+'nd\x20format',_0x4d6d1f);}),this['device']=_0x334ca8;const _0x11a384=_0x334ca8['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0xae0142,_0x56dd1f)=>this['bufferForm'+'atsMap']['set'](_0xae0142['name'],_0x56dd1f)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x5dc7c1,_0x1b84b5)=>{this['textureFor'+'matsMap']['set'](_0x5dc7c1['name'],_0x1b84b5),_0x5dc7c1['scopeId']=_0x11a384['resolve'](_0x5dc7c1['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x15cc8b,_0x266d90)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x15cc8b['name'],_0x266d90),_0x15cc8b['scopeId']=_0x11a384['resolve'](_0x15cc8b['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x55f34f,_0x3c3345)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x55f34f['name'],_0x3c3345),_0x55f34f['scopeId']=_0x11a384['resolve'](_0x55f34f['name']);}),this['impl']=_0x334ca8['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x4a5ce0){const _0x3d733d=this['textureFor'+'matsMap']['get'](_0x4a5ce0);return _0x3d733d!==void(-0x22e4+0xb67*-0x3+0x4519)?this['textureFor'+'mats'][_0x3d733d]:null;}['getStorage'+'Texture'](_0x219040){const _0x536270=this['storageTex'+'tureFormat'+'sMap']['get'](_0x219040);return _0x536270!==void(0x36e+-0x3*0x55d+0xca9)?this['storageTex'+'tureFormat'+'s'][_0x536270]:null;}['getShaderD'+'eclaration'+'Textures'](_0x184189){let _0x53bd10='';return this['textureFor'+'mats']['forEach'](_0x523729=>{let _0x324951=Tv[_0x523729['textureDim'+'ension']];v['assert'](_0x324951,'Unsupporte'+'d\x20texture\x20'+'type',_0x523729['textureDim'+'ension']);const _0x1d834d=_0x324951==='texture2DA'+'rray',_0x172552=_0x523729['sampleType']===KS?'u':_0x523729['sampleType']===YS?'i':'';_0x324951=''+_0x172552+_0x324951;let _0x392fed='',_0x263c6f='';_0x1d834d&&(_0x392fed='_texture',_0x263c6f='#define\x20'+_0x523729['name']+'\x20'+_0x172552+('sampler2DA'+'rray(')+_0x523729['name']+_0x392fed+',\x20'+_0x523729['name']+'_sampler)\x0a'),_0x53bd10+='layout(set'+'\x20=\x20'+_0x184189+(',\x20binding\x20'+'=\x20')+_0x523729['slot']+')\x20uniform\x20'+_0x324951+'\x20'+_0x523729['name']+_0x392fed+';\x0a',_0x523729['hasSampler']&&(_0x53bd10+='layout(set'+'\x20=\x20'+_0x184189+(',\x20binding\x20'+'=\x20')+(_0x523729['slot']+(0xf*0xad+-0x5*0x4cb+0xdd5))+(')\x20uniform\x20'+'sampler\x20')+_0x523729['name']+'_sampler;\x0a'),_0x53bd10+=_0x263c6f;}),_0x53bd10;}['loseContex'+'t'](){}}class kt{constructor(){c(this,'_cache',new Map());}['get'](_0x535945,_0x45488e){return this['_cache']['has'](_0x535945)||(this['_cache']['set'](_0x535945,_0x45488e()),_0x535945['on']('destroy',()=>{this['remove'](_0x535945);}),_0x535945['on']('devicelost',()=>{var _0x395914,_0x25b2bb;(_0x25b2bb=(_0x395914=this['_cache']['get'](_0x535945))==null?void(-0xdf7+0x2f9*-0x2+-0x3*-0x6a3):_0x395914['loseContex'+'t'])==null||_0x25b2bb['call'](_0x395914,_0x535945);})),this['_cache']['get'](_0x535945);}['remove'](_0x32a909){var _0x1f8f36,_0x1c932e;(_0x1c932e=(_0x1f8f36=this['_cache']['get'](_0x32a909))==null?void(-0x918+0x2*0xa3c+-0xb60):_0x1f8f36['destroy'])==null||_0x1c932e['call'](_0x1f8f36,_0x32a909),this['_cache']['delete'](_0x32a909);}}class Mi{static['calcLevelD'+'imension'](_0x26fce4,_0x48c48b){return Math['max'](_0x26fce4>>_0x48c48b,0x13d*-0xd+-0x1db4+-0x16*-0x215);}static['calcMipLev'+'elsCount'](_0x3a3522,_0x5a86cc,_0x567ab9=-0xd21+-0x3*0x2eb+0x15e3){return 0x1*0x601+-0x1*0x6e5+0xe5+Math['floor'](Math['log2'](Math['max'](_0x3a3522,_0x5a86cc,_0x567ab9)));}static['calcLevelG'+'puSize'](_0xf61878,_0x3757ec,_0x456ac9,_0x5214a5){var _0x3484da;const _0x1157a9=xt['get'](_0x5214a5);v['assert'](_0x1157a9!==void(0x9c*-0x8+0x12e1+-0xe01),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x5214a5);const _0x4cf173=((_0x3484da=xt['get'](_0x5214a5))==null?void(0x214b*0x1+0x6ad*-0x5+0x16):_0x3484da['size'])??0x8*-0x397+-0xe*-0x17f+0x7c6;if(_0x4cf173>0xe7e+0x1013+-0x1e91)return _0xf61878*_0x3757ec*_0x456ac9*_0x4cf173;const _0x467e8f=_0x1157a9['blockSize']??0x1*0x24a6+0x35*0x74+0x1e55*-0x2;let _0x359c93=Math['floor']((_0xf61878+(-0x573+0x1225+0x11*-0xbf))/(-0x1bd7+0x81e*0x2+0xb9f));const _0x6217f5=Math['floor']((_0x3757ec+(0x7cb+-0x1cc0+-0x1e8*-0xb))/(-0x23*0x91+0x155*-0xf+-0x6a3*-0x6)),_0x5d48a5=Math['floor']((_0x456ac9+(0x2507+-0x24f6+0xe*-0x1))/(0x3a1+0x88c+-0xb*0x11b));return(_0x5214a5===qo||_0x5214a5===Xo)&&(_0x359c93=Math['max'](Math['floor'](_0x359c93/(-0x1c6*0x11+-0x1*0xe19+0x2c41)),-0x3*-0x37e+0x2*0x233+-0xedf)),_0x359c93*_0x6217f5*_0x5d48a5*_0x467e8f;}static['calcGpuSiz'+'e'](_0x18105e,_0x10b829,_0x38f5f2,_0x5ee726,_0x548ef6,_0x517db2){let _0x3fbdd2=0x1ca0+-0x1905*-0x1+-0x35a5;for(;_0x3fbdd2+=Mi['calcLevelG'+'puSize'](_0x18105e,_0x10b829,_0x38f5f2,_0x5ee726),!(!_0x548ef6||_0x18105e===-0x1244+-0x1d98*-0x1+-0xb53&&_0x10b829===0x55b*0x6+0x14e*0x1+0xb25*-0x3&&_0x38f5f2===-0x1*0xe0c+-0x1d6b*-0x1+0x7af*-0x2);)_0x18105e=Math['max'](_0x18105e>>-0x88c*0x3+0x1b6*0x7+0xdab*0x1,-0x774+0x1*0x1c8b+-0x1516),_0x10b829=Math['max'](_0x10b829>>0xa58+0x11f1+-0x1c48,-0x6bb+-0x3*-0x981+-0xdf*0x19),_0x38f5f2=Math['max'](_0x38f5f2>>-0x228f+-0xce7*-0x3+0x1*-0x425,0x1*0x1cad+-0x1581+-0x72b);return _0x3fbdd2*(_0x517db2?0x131c*-0x2+0x4*0x40f+0xb01*0x2:0x6*0x31d+0x1e02+-0x1*0x30af);}}let Cv=0x481+-0x125*0x17+0x15d2;class he{constructor(_0x12b27f,_0x2336ad={}){c(this,'name'),c(this,'_gpuSize',-0xe2e+-0xe*0x27d+0x3104),c(this,'id',Cv++),c(this,'_invalid',!(0x1a12+0xba8+-0x431*0x9)),c(this,'_lockedLev'+'el',-(-0x1*0x1aad+-0x2*0xddb+0x3664)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',0x46f*0x5+-0x69b+-0xf90),c(this,'_storage',!(-0x733+-0x54c+0xc80)),c(this,'_numLevels',-0x74b*-0x2+-0x1d88+0x1*0xef2),c(this,'_numLevels'+'Requested');var _0x539dbd;this['device']=_0x12b27f,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x2336ad['width']||Number['isInteger'](_0x2336ad['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x2336ad),v['assert'](!_0x2336ad['height']||Number['isInteger'](_0x2336ad['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x2336ad),v['assert'](!_0x2336ad['depth']||Number['isInteger'](_0x2336ad['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x2336ad),this['name']=_0x2336ad['name']??'',this['_width']=Math['floor'](_0x2336ad['width']??-0x1*-0xc17+0x199b+0x1*-0x25ae),this['_height']=Math['floor'](_0x2336ad['height']??-0x16ff+-0xb*0x27+0x18b0),this['_format']=_0x2336ad['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x2336ad['minFilter']=de,_0x2336ad['magFilter']=de),this['_volume']=_0x2336ad['volume']??!(0x1*0x1fdd+0x225a+-0x4236),this['_depth']=Math['floor'](_0x2336ad['depth']??0x6*-0x4d5+-0x1ccd+-0x224*-0x1b),this['_arrayLeng'+'th']=Math['floor'](_0x2336ad['arrayLengt'+'h']??-0x10*-0x1cf+0x1e92+-0x3b82),this['_storage']=_0x2336ad['storage']??!(-0x1*0x2479+-0x1320*-0x1+0x115a),this['_cubemap']=_0x2336ad['cubemap']??!(-0x122+0xd*-0x173+-0x1*-0x13fa),this['_flipY']=_0x2336ad['flipY']??!(-0x13ee*-0x1+0x1788+0x19*-0x1bd),this['_premultip'+'lyAlpha']=_0x2336ad['premultipl'+'yAlpha']??!(0x65+0x2121+0x2185*-0x1),this['_mipmaps']=_0x2336ad['mipmaps']??!(0x8a*0x40+0x1aff+0xad*-0x5b),this['_numLevels'+'Requested']=_0x2336ad['numLevels'],_0x2336ad['numLevels']!==void(-0x50*-0xd+0xd7*-0x9+0xb3*0x5)&&(this['_numLevels']=_0x2336ad['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x2336ad['minFilter']??nn,this['_magFilter']=_0x2336ad['magFilter']??st,this['_anisotrop'+'y']=_0x2336ad['anisotropy']??-0x107*-0x1d+-0x321*0xa+0x180,this['_addressU']=_0x2336ad['addressU']??tt,this['_addressV']=_0x2336ad['addressV']??tt,this['_addressW']=_0x2336ad['addressW']??tt,this['_compareOn'+'Read']=_0x2336ad['compareOnR'+'ead']??!(0x754+0x64b+0x6cf*-0x2),this['_compareFu'+'nc']=_0x2336ad['compareFun'+'c']??Eh,this['type']=_0x2336ad['hasOwnProp'+'erty']('type')?_0x2336ad['type']:Di,v['assert'](!_0x2336ad['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x2336ad['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x2336ad['projection']&&_0x2336ad['projection']!==Au&&(this['projection']=_0x2336ad['projection']),this['profilerHi'+'nt']=_0x2336ad['profilerHi'+'nt']??-0xc9*0x28+-0x5*-0x6d4+0x23*-0x14,this['_levels']=_0x2336ad['levels'];const _0x36ea51=!!_0x2336ad['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x36ea51),_0x12b27f['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x539dbd=xt['get'](this['format']))==null?void(0x1*-0x90b+-0x2*0x305+0x15f*0xb):_0x539dbd['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x407b32=this['device'];if(_0x407b32){const _0x2b7e36=_0x407b32['textures']['indexOf'](this);_0x2b7e36!==-(0x72+0x1a*0x16b+-0x254f)&&_0x407b32['textures']['splice'](_0x2b7e36,-0x70f+-0x3*0x8f5+0x21ef),_0x407b32['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x407b32),this['adjustVram'+'SizeTracki'+'ng'](_0x407b32['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0xc26cd8=!(-0x3*0xae3+0x19f*0x10+0x6b9)){var _0x3c3d68;const {device:_0x268c5a}=this;(_0x3c3d68=this['impl'])==null||_0x3c3d68['destroy'](_0x268c5a),this['impl']=null,this['impl']=_0x268c5a['createText'+'ureImpl'](this),this['dirtyAll'](),_0xc26cd8&&this['upload']();}['resize'](_0x3d0e3d,_0x9a4235,_0x81801b=-0x20f*-0x11+-0x1f0a+0x17*-0x2c){const _0x31dc97=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x31dc97['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x31dc97),this['_width']=Math['floor'](_0x3d0e3d),this['_height']=Math['floor'](_0x9a4235),this['_depth']=Math['floor'](_0x81801b),this['_updateNum'+'Level'](),this['impl']=_0x31dc97['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x249454,_0x528945){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x528945+('\x20vram.text'+'ure:\x20')+_0x249454['tex']+'\x20=>\x20'+(_0x249454['tex']+_0x528945)),_0x249454['tex']+=_0x528945,this['profilerHi'+'nt']===Tu?_0x249454['texShadow']+=_0x528945:this['profilerHi'+'nt']===ur?_0x249454['texAsset']+=_0x528945:this['profilerHi'+'nt']===Oy&&(_0x249454['texLightma'+'p']+=_0x528945);}['propertyCh'+'anged'](_0x19a297){this['impl']['propertyCh'+'anged'](_0x19a297),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x208c88=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):0x59d+-0x1f4a+-0xcd7*-0x2,_0x271b84=this['_numLevels'+'Requested'];_0x271b84!==void(-0x3*-0x58c+0x3*0x1f3+-0x12f*0x13)&&_0x271b84>_0x208c88&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x208c88,this),this['_numLevels']=Math['min'](_0x271b84??_0x208c88,_0x208c88),this['_mipmaps']=this['_numLevels']>0x2da*0xb+0x3df+-0x52*0x6e;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x597df3){this['_minFilter']!==_0x597df3&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x597df3,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0xab5783){this['_magFilter']!==_0xab5783&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0xab5783,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x52288d){this['_addressU']!==_0x52288d&&(this['_addressU']=_0x52288d,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x449323){this['_addressV']!==_0x449323&&(this['_addressV']=_0x449323,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x3858e5){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x3858e5!==this['_addressW']&&(this['_addressW']=_0x3858e5,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x519ff2){this['_compareOn'+'Read']!==_0x519ff2&&(this['_compareOn'+'Read']=_0x519ff2,this['propertyCh'+'anged']($y));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x20e3de){this['_compareFu'+'nc']!==_0x20e3de&&(this['_compareFu'+'nc']=_0x20e3de,this['propertyCh'+'anged'](Wy));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x17ff58){this['_anisotrop'+'y']!==_0x17ff58&&(this['_anisotrop'+'y']=_0x17ff58,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x28eb6b){this['_mipmaps']!==_0x28eb6b&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x28eb6b,_0x28eb6b&&(this['_needsMipm'+'apsUpload']=!(-0x8a+0x61d*-0x3+0x12e1)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x475de9=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x191b*-0x1+-0x133d+0x2c59*0x1);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x475de9,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x14d*-0x17+0x7b6+0x1635;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x1f8060){var _0x1d821d,_0x5018ab,_0x5429fb,_0x36b9d0;const _0x23992f=Mh(this['format']);if(_0x1f8060!==_0x23992f){if(_0x1f8060){const _0x1fafcf=Cc(this['format']);this['_format']!==_0x1fafcf&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x1d821d=xt['get'](this['format']))==null?void(-0x1*-0xb77+-0x1d8+-0x99f):_0x1d821d['name'])+'\x20->\x20'+((_0x5018ab=xt['get'](_0x1fafcf))==null?void(-0xa*-0x26+-0x209c+0x1f20):_0x5018ab['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x1fafcf,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0xe6+-0x19d2+0x1ab8));}else{const _0xb03682=kS(this['format']);this['_format']!==_0xb03682&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x5429fb=xt['get'](this['format']))==null?void(-0x1561+0x10ba+0x4a7):_0x5429fb['name'])+'\x20->\x20'+((_0x36b9d0=xt['get'](_0xb03682))==null?void(-0x5f5*-0x5+-0x1375+-0xa54):_0x36b9d0['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0xb03682,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x7a0+0x4*0x81b+-0x17*0x114));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x581111){this['_flipY']!==_0x581111&&(this['_flipY']=_0x581111,this['_needsUplo'+'ad']=!(-0x1457*0x1+0xa33+-0x512*-0x2));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x1f9dc7){this['_premultip'+'lyAlpha']!==_0x1f9dc7&&(this['_premultip'+'lyAlpha']=_0x1f9dc7,this['_needsUplo'+'ad']=!(0x358*-0x2+-0x2054+0x2704));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x1de1*0x1+0x1f5c*-0x1+0x3d3d),!(0x4f8+0x1*0x14c5+-0x1*0x19bd),!(-0x141e+0x21e2+-0x1*0xdc4),!(0x2385+-0x736*-0x5+-0x4793),!(-0x1c99*-0x1+-0x8*0x2ac+-0x739),!(0x31*0x5b+0x18a9+-0x2a14)]]:[!(-0x1*-0x3f+-0x12ac*0x2+0x1*0x2519)],this['_needsUplo'+'ad']=!(0x1a81+0x5a1+-0x2022),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x1*0x2636+0x2*0x1063+-0x2a1*0x1b),this['propertyCh'+'anged'](yv);}['lock'](_0x5409c9={}){_0x5409c9['level']??(_0x5409c9['level']=-0x1*0x15ce+0xb*-0x26+0x5dc*0x4),_0x5409c9['face']??(_0x5409c9['face']=0x1eb1+0x1814+-0x36c5*0x1),_0x5409c9['mode']??(_0x5409c9['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x5409c9['mode']===Fy||_0x5409c9['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x5409c9['mode'],this['_lockedLev'+'el']=_0x5409c9['level'];const _0x42e924=this['cubemap']?this['_levels'][_0x5409c9['face']]:this['_levels'];if(_0x42e924[_0x5409c9['level']]===null){const _0x39f7d1=Math['max'](0x2359+0x1*-0x582+-0x1*0x1dd6,this['_width']>>_0x5409c9['level']),_0x4a768c=Math['max'](0x21cb+-0x8ca+-0x1900,this['_height']>>_0x5409c9['level']),_0x31b239=Math['max'](0x2f*0x53+-0xe32+-0x10a*0x1,this['_depth']>>_0x5409c9['level']),_0x29f33d=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x39f7d1,_0x4a768c,_0x31b239,this['_format']));_0x42e924[_0x5409c9['level']]=new(Cy(this['_format']))(_0x29f33d);}return _0x42e924[_0x5409c9['level']];}['setSource'](_0x21f645,_0x523e57=-0x1*-0x51b+-0x17*0x93+0x81a){let _0x4c4455=!(0x1f05+-0x25c4+0x6c0),_0xf5c264,_0x65c14e;if(this['_cubemap']){if(_0x21f645[0x2*-0x1002+0x2ab+0x1d59]){_0xf5c264=_0x21f645[-0x4f*0x7c+0x1de*-0x11+0x4602*0x1]['width']||-0x399+0x14ee+-0x1155,_0x65c14e=_0x21f645[-0x24dd+-0x2*-0x5cf+0x1*0x193f]['height']||-0x175d+-0x2*-0x7ea+-0x1*-0x789;for(let _0x3d94a1=-0xb*0x168+-0x25b0+-0x2a*-0x144;_0x3d94a1<0x23fa+0x1e2b+-0x421f*0x1;_0x3d94a1++){const _0x152b1f=_0x21f645[_0x3d94a1];if(!_0x152b1f||_0x152b1f['width']!==_0xf5c264||_0x152b1f['height']!==_0x65c14e||!this['device']['_isBrowser'+'Interface'](_0x152b1f)){_0x4c4455=!(0x85f*0x1+-0xe7b+0x61c);break;}}}else _0x4c4455=!(0x120f+0xf6f+-0x217e);if(!_0x4c4455){for(let _0x16a39e=-0x5*-0x547+0xffe*0x1+-0x2a61*0x1;_0x16a39e<-0x1ed1+-0x1*-0x21da+0x1*-0x303;_0x16a39e++)this['_levels'][_0x523e57][_0x16a39e]!==_0x21f645[_0x16a39e]&&(this['_levelsUpd'+'ated'][_0x523e57][_0x16a39e]=!(0x1*0x1bb9+0x1*0x21a1+-0x3d5a));}}else this['device']['_isBrowser'+'Interface'](_0x21f645)||(_0x4c4455=!(0x27*0x43+0x1c95+0x6*-0x677)),_0x4c4455||(_0x21f645!==this['_levels'][_0x523e57]&&(this['_levelsUpd'+'ated'][_0x523e57]=!(0x2708+-0x355*0x1+0x13*-0x1e1)),_0x21f645 instanceof HTMLVideoElement?(_0xf5c264=_0x21f645['videoWidth'],_0x65c14e=_0x21f645['videoHeigh'+'t']):(_0xf5c264=_0x21f645['width'],_0x65c14e=_0x21f645['height']));if(_0x4c4455){if(this['_width']=0x2*-0xa06+-0x242c+0x383c,this['_height']=-0x29a+-0x6fb+-0xbd*-0xd,this['_cubemap']){for(let _0x4389db=-0x1*0x1f0d+0x1*-0xfaa+0x2eb7;_0x4389db<-0x79*0x29+0xb*-0x12d+0x2056;_0x4389db++)this['_levels'][_0x523e57][_0x4389db]=null,this['_levelsUpd'+'ated'][_0x523e57][_0x4389db]=!(-0x215e*0x1+-0x3b*-0x14+0x1cc2);}else this['_levels'][_0x523e57]=null,this['_levelsUpd'+'ated'][_0x523e57]=!(-0x223+0x11*-0x11c+0x14ff);}else _0x523e57===0xa7*0x1+0x98e*0x2+0x1*-0x13c3&&(this['_width']=_0xf5c264,this['_height']=_0x65c14e),this['_levels'][_0x523e57]=_0x21f645;(this['_invalid']!==_0x4c4455||!_0x4c4455)&&(this['_invalid']=_0x4c4455,this['upload']());}['getSource'](_0x4d5a9d=-0x136a+0x157a+-0x210){return this['_levels'][_0x4d5a9d];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(-0xec*-0x5+0x116f+-0xd9*0x1a),this['_lockedMod'+'e']=yl;}['upload'](){var _0x545328,_0x1ef786;this['_needsUplo'+'ad']=!(0x1a5d+0x34b+-0x1da8),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x1ef786=(_0x545328=this['impl'])['uploadImme'+'diate'])==null||_0x1ef786['call'](_0x545328,this['device'],this);}['read'](_0x5c9e8a,_0x305468,_0x598d39,_0x207bb2,_0x48423f={}){var _0xf50e16,_0x5e9ff5;return(_0x5e9ff5=(_0xf50e16=this['impl'])['read'])==null?void(0x25a2+-0x27*0x4f+-0x1999*0x1):_0x5e9ff5['call'](_0xf50e16,_0x5c9e8a,_0x305468,_0x598d39,_0x207bb2,_0x48423f);}}const Mv={'white':[0x1fca*0x1+0x190c+-0x37d7,0x10e1+-0x7b2*0x4+0x2*0x773,-0xe9e+0x1a41+-0xaa4,-0x3e1*0x9+-0x5*-0x285+-0x11*-0x15f],'gray':[-0x230c+-0x1e07*-0x1+0x585,-0x1599+0x2122+0x1*-0xb09,0x157c+-0x1181*0x1+-0x129*0x3,-0x1*0x130+-0x12c*0x1+-0x1*-0x35b],'black':[0x9*-0x3ca+0x2694+0x1*-0x47a,0x7*0xd7+-0x22bb*-0x1+-0x289c,-0x1350+0x274*-0x2+0x1838,-0x2*-0xbb+0x64*-0x10+0x5c9],'normal':[0x1116+0x6*-0x141+0xa*-0xe8,-0x821*0x2+0x193f+-0x87d,0x9*-0xa+-0x296*-0x1+0x1*-0x13d,-0x217*-0x1+-0x2200+-0x83a*-0x4],'pink':[0x1483+-0x3a8+-0xfdc,0x3*-0x1c1+-0x7*0x56f+0x4*0xaf3,0x17a0+0x86*0x25+-0x29ff,-0x374+0x2468+0x1ff5*-0x1]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x3a3295=>{_0x3a3295['destroy']();});}}const Rv=new kt(),en=(_0x2a1f98,_0x6f4dab)=>{const _0x5f3020=Rv['get'](_0x2a1f98,()=>new Pv());if(!_0x5f3020['map']['has'](_0x6f4dab)){const _0x561683=new he(_0x2a1f98,{'name':'built-in-t'+'exture-'+_0x6f4dab,'width':0x1,'height':0x1,'format':Se}),_0x3538b5=_0x561683['lock'](),_0x2b572b=Mv[_0x6f4dab];v['assert'](_0x2b572b,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x6f4dab+('\x27\x20not\x20foun'+'d')),_0x3538b5['set'](_0x2b572b),_0x561683['unlock'](),_0x5f3020['map']['set'](_0x6f4dab,_0x561683);}return _0x5f3020['map']['get'](_0x6f4dab);};let Iv=-0x1d*0xcd+0xdb1+-0x3d*-0x28;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x2b797a,_0x13ae53,_0x13a913){c(this,'renderVers'+'ionUpdated',-(0x15bf+-0xc19+0x1*-0x9a5)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x2b797a,this['format']=_0x13ae53,this['dirty']=!(0x198f+0x1a7e+-0x340d),this['impl']=_0x2b797a['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x13a913,_0x13a913&&this['setUniform'+'Buffer'](fp,_0x13a913),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x13ae53));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x157a1d,_0xb0c2cb){const _0x4d856a=this['format']['bufferForm'+'atsMap']['get'](_0x157a1d);v['assert'](_0x4d856a!==void(-0x5d*-0x65+0x25ac+0x4a5d*-0x1),'Setting\x20a\x20'+'uniform\x20['+_0x157a1d+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x4d856a]!==_0xb0c2cb&&(this['uniformBuf'+'fers'][_0x4d856a]=_0xb0c2cb,this['dirty']=!(-0x236d+-0x2399+0x4706*0x1));}['setStorage'+'Buffer'](_0xc68329,_0x168860){const _0x3e785b=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0xc68329);v['assert'](_0x3e785b!==void(-0x1ce1+-0x5e1+-0x1*-0x22c2),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0xc68329+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x3e785b]!==_0x168860&&(this['storageBuf'+'fers'][_0x3e785b]=_0x168860,this['dirty']=!(0xc68+0xc8*0x2b+-0x2e00));}['setTexture'](_0x4774a6,_0x1045a1){const _0x222176=this['format']['textureFor'+'matsMap']['get'](_0x4774a6);v['assert'](_0x222176!==void(-0x1107*-0x2+0x1*0x1697+0x355*-0x11),'Setting\x20a\x20'+'texture\x20['+_0x4774a6+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x222176]!==_0x1045a1?(this['textures'][_0x222176]=_0x1045a1,this['dirty']=!(-0x2*0x226+0x7*-0x561+0x29f3)):this['renderVers'+'ionUpdated']<_0x1045a1['renderVers'+'ionDirty']&&(this['dirty']=!(0x7d3*-0x3+0x3*-0xdd+0x8*0x342));}['setStorage'+'Texture'](_0x4d6f11,_0x6361c9){const _0x2f17f5=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x4d6f11);v['assert'](_0x2f17f5!==void(0x25da+0x26e*0x1+0xa12*-0x4),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x4d6f11+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x2f17f5]!==_0x6361c9?(this['storageTex'+'tures'][_0x2f17f5]=_0x6361c9,this['dirty']=!(-0x28b*-0x4+0x181e+-0x2a*0xd1)):this['renderVers'+'ionUpdated']<_0x6361c9['renderVers'+'ionDirty']&&(this['dirty']=!(0x24ca+0x7c*0xa+-0x1*0x29a2));}['updateUnif'+'ormBuffers'](){for(let _0x9fb91=-0x26e5+-0x8*0xc7+0x2d1d*0x1;_0x9fb91<this['uniformBuf'+'fers']['length'];_0x9fb91++)this['uniformBuf'+'fers'][_0x9fb91]['update']();}['update'](){const {textureFormats:_0x8bce53,storageTextureFormats:_0x215619,storageBufferFormats:_0xf08e0a}=this['format'];for(let _0x4366f7=-0x1624+-0x232e+0x3952;_0x4366f7<_0x8bce53['length'];_0x4366f7++){const _0x6d94e4=_0x8bce53[_0x4366f7];let _0x3b8b0f=_0x6d94e4['scopeId']['value'];_0x3b8b0f||(_0x6d94e4['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x3b8b0f=en(this['device'],'white')),_0x6d94e4['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x3b8b0f=en(this['device'],'pink')),_0x3b8b0f||(v['errorOnce']('Texture\x20'+_0x6d94e4['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x3b8b0f=en(this['device'],'pink'))),this['setTexture'](_0x6d94e4['name'],_0x3b8b0f);}for(let _0x1c886a=-0x2c3*-0x1+-0x6e1*-0x5+0x52*-0x74;_0x1c886a<_0x215619['length'];_0x1c886a++){const _0x4062e7=_0x215619[_0x1c886a],_0x2f9d74=_0x4062e7['scopeId']['value'];v['assert'](_0x2f9d74,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x4062e7['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x4062e7['name'],_0x2f9d74);}for(let _0x1dc66a=0x1954+0xe0b+-0x275f;_0x1dc66a<_0xf08e0a['length'];_0x1dc66a++){const _0x4ed045=_0xf08e0a[_0x1dc66a],_0x53018c=_0x4ed045['scopeId']['value'];v['assert'](_0x53018c,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x4ed045['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x4ed045['name'],_0x53018c);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0xa565=0x1bf4+0x12d4+-0x2ec8;_0xa565<this['uniformBuf'+'fers']['length'];_0xa565++){const _0x46f201=this['uniformBuf'+'fers'][_0xa565];this['uniformBuf'+'ferOffsets'][_0xa565]=_0x46f201['offset'],this['renderVers'+'ionUpdated']<_0x46f201['renderVers'+'ionDirty']&&(this['dirty']=!(-0x5*-0x761+0xe3d+-0xa3a*0x5));}this['dirty']&&(this['dirty']=!(0x183*0x17+-0x17*0x179+0xe5*-0x1),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x3612c9,_0x328d0f,_0x168512,_0x3622e0=-0x19c7+-0xee5+-0x10b*-0x27){return _0x3612c9&~(_0x3622e0<<_0x168512)|_0x328d0f<<_0x168512;},'get'(_0x42458f,_0x1b145b,_0x210046=0x1c0a+-0x5*0x544+-0x1b5){return _0x42458f>>_0x1b145b&_0x210046;},'all'(_0x2dfd15,_0x13f037,_0x56e8ec=0x67b+0x204d+0x9*-0x44f){const _0x1dde95=_0x56e8ec<<_0x13f037;return(_0x2dfd15&_0x1dde95)===_0x1dde95;},'any'(_0x4a0b73,_0xb9faf3,_0xd56fda=-0x51c+-0x1*0xc54+-0x1171*-0x1){return(_0x4a0b73&_0xd56fda<<_0xb9faf3)!==0x3b*0x43+-0x1e3a+0xec9;}},xl=-0x3*0x6ce+0x1a92+-0x621,Vi=0x1*-0x9fb+-0x81e*-0x2+-0x632,dm=-0xb65*-0x2+0x14be+-0xe*0x31c,um=0x1*0xec8+-0x543*0x3+0x104,fm=0x10ad+0x199+-0x123f,pm=-0x85+-0x5*-0x1b+0x9*0x1,mm=-0x34c*0x3+0x58d+0x465,_m=0xfb4+-0x176a*0x1+0x7c8,Cu=-0xa*-0x199+0xd9*0x8+-0x16ac,gm=-0x649*0x6+-0xf7b+-0x9b*-0x58,ym=-0x260+0x11a8+0x510*-0x3,xm=0x1c32+0x1783+-0x339c,Sm=0xb6*-0x2d+-0x1*-0x1544+0xad4,Dv=0x48*-0x89+0x13*0x1f+0x244a,Lv=Cu,zs=class zs{constructor(_0x33c2c3=!(0x25fa+-0x10ca+-0x152f),_0x5e2bf5=Ft,_0x3b6562=at,_0x5e57e6=kf,_0x2f0b74,_0xe6e0a6,_0xf67e7b,_0x10eff9=!(-0xa*0x36b+0x6e+-0x87*-0x40),_0x4cd9fd=!(0x1563+0x53*-0xd+0xe*-0x13a),_0x46cf5e=!(-0x1*-0x34a+-0x1649+0x3*0x655),_0x515ed6=!(-0xe50+0x19*0x11f+-0xdb7)){c(this,'target0',-0xc6d*-0x2+0x18d0+-0x31aa),(this['setColorBl'+'end'](_0x5e2bf5,_0x3b6562,_0x5e57e6),this['setAlphaBl'+'end'](_0x2f0b74??_0x5e2bf5,_0xe6e0a6??_0x3b6562,_0xf67e7b??_0x5e57e6),this['setColorWr'+'ite'](_0x10eff9,_0x4cd9fd,_0x46cf5e,_0x515ed6),this['blend']=_0x33c2c3);}set['blend'](_0x5b9b47){this['target0']=Oe['set'](this['target0'],_0x5b9b47?0x2174+0x11c4+-0x3337:-0x2*-0xa85+0x1*0x190d+-0xcf*0x39,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x399252,_0x51857a,_0x17cfff){this['target0']=Oe['set'](this['target0'],_0x399252,dm,xl),this['target0']=Oe['set'](this['target0'],_0x51857a,um,Vi),this['target0']=Oe['set'](this['target0'],_0x17cfff,fm,Vi);}['setAlphaBl'+'end'](_0xa404f3,_0x1e634e,_0x3fe3e5){this['target0']=Oe['set'](this['target0'],_0xa404f3,pm,xl),this['target0']=Oe['set'](this['target0'],_0x1e634e,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x3fe3e5,_m,Vi);}['setColorWr'+'ite'](_0x27ccb0,_0x26ca16,_0x30f62e,_0x3a71ec){this['redWrite']=_0x27ccb0,this['greenWrite']=_0x26ca16,this['blueWrite']=_0x30f62e,this['alphaWrite']=_0x3a71ec;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x17500c){this['target0']=Oe['set'](this['target0'],_0x17500c?-0xb*-0x71+-0x1677+0x119d:0x19a6+-0x5*0x5a6+0x298,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0xcc61d){this['target0']=Oe['set'](this['target0'],_0xcc61d?0x250d+-0x3c7*-0x2+0xb*-0x40e:-0x253+-0x5d1+-0x4*-0x209,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0x578265){this['target0']=Oe['set'](this['target0'],_0x578265?-0x23fc+0x2*0xc7d+0xb03:-0x16*-0x199+-0x188c+-0xa9a,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x16e288){this['target0']=Oe['set'](this['target0'],_0x16e288?-0x2c8+-0x2*-0xd38+0xad*-0x23:-0x235e+-0x1*0x61f+0x22f*0x13,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x39c4b0){return this['target0']=_0x39c4b0['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x1dc51f){return this['target0']===_0x1dc51f['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(0xef6+-0x9*0x44+-0xc92),void(-0x23fa+-0x26dd+0x341*0x17),void(-0x492+-0x5*-0x7ba+0x368*-0xa),void(-0x15b0+0x1ad9+-0x529),void(-0x46b+-0x9fc+0xe67),void(0x1bbc+-0xc37+-0xf85),void(-0x124*0x5+0x8e3+-0x32f),!(-0x1bac+0xac*-0x39+0x41f9),!(0xd7*-0x7+0x34d*0x8+-0x8e*0x25),!(0x2283+0x189b+-0x3b1d),!(0x1418+0xcdc+-0x20f3)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(0xf*0x24+0x16ea+-0x1906),Ft,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(-0xa4b+0x204a+0x755*-0x3),Ft,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',0x341*0x1+-0xa*0x145+-0x1*-0x971);}['get'](_0x3a6394){let _0x31e56a=this['map']['get'](_0x3a6394);return _0x31e56a===void(-0x18ff+0xd*-0xe5+0x24a0)&&(_0x31e56a=this['id']++,this['map']['set'](_0x3a6394,_0x31e56a)),_0x31e56a;}}const Fv=new _p(),vm=-0xda*0xc+0x16*0x76+0x1*0x1b,bm=0xc28+0x2648+-0x3270,wm=0x1*0x1bd1+0x15f7+-0x31c5,Zi=class Zi{constructor(_0x176daf=fu,_0x19704c=!(-0x992+0x6*0x463+-0x10c0)){c(this,'data',0x1d4c+0x1*-0x16af+0x69d*-0x1),c(this,'_depthBias',0x15cc+0x343+-0x190f),c(this,'_depthBias'+'Slope',0x24f7+-0x208a+-0x46d),c(this,'key',0xadc+-0x17*0xa+-0x9f6),(this['func']=_0x176daf,this['write']=_0x19704c);}set['test'](_0x490f2f){this['func']=_0x490f2f?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x3ea45b){this['data']=Oe['set'](this['data'],_0x3ea45b?0x3*0x2eb+-0x1f7f+0x16bf:0x79a*-0x4+-0x2*-0x1e1+0x1aa6,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0x183902){this['data']=Oe['set'](this['data'],_0x183902,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x385cbb){this['_depthBias']=_0x385cbb,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x24dd11){this['_depthBias'+'Slope']=_0x24dd11,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x175a34){return this['data']=_0x175a34['data'],this['_depthBias']=_0x175a34['_depthBias'],this['_depthBias'+'Slope']=_0x175a34['_depthBias'+'Slope'],this['key']=_0x175a34['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x157727,_depthBias:_0x1453fc,_depthBiasSlope:_0x28bece}=this,_0x417af7=_0x157727+'-'+_0x1453fc+'-'+_0x28bece;this['key']=Fv['get'](_0x417af7);}['equals'](_0x18570d){return this['key']===_0x18570d['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(0x1656*0x1+-0xd86+-0x37*0x29)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(0xfd+0x927+-0xa24))));let as=Zi;class Ky{constructor(){c(this,'globalId',0x436*-0x7+-0x250+0x1fca),c(this,'revision',0xa7*-0x1+0x55f+-0x97*0x8);}['equals'](_0x41732f){return this['globalId']===_0x41732f['globalId']&&this['revision']===_0x41732f['revision'];}['copy'](_0x6407f9){this['globalId']=_0x6407f9['globalId'],this['revision']=_0x6407f9['revision'];}['reset'](){this['globalId']=-0x4cf+-0x1324+0x1*0x17f3,this['revision']=0xbb9+-0x1*-0x1835+-0x23ee;}}let Tm=0x2527*0x1+0x1d70+0x4297*-0x1;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x38f17e){this['name']=_0x38f17e,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x41212b){}['setValue'](_0xd3b52b){this['value']=_0xd3b52b,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x683fd7){this['name']=_0x683fd7,this['variables']=new Map();}['resolve'](_0x585376){return this['variables']['has'](_0x585376)||this['variables']['set'](_0x585376,new kv(_0x585376)),this['variables']['get'](_0x585376);}['removeValu'+'e'](_0x9acf15){for(const _0x34d67c in this['variables']){const _0x58e6e5=this['variables'][_0x34d67c];_0x58e6e5['value']===_0x9acf15&&(_0x58e6e5['value']=null);}}}let Nv=0x1735+-0x1b7*0xe+0x1*0xcd;class os{constructor(_0x49f211,_0x8067a3,_0x12b568,_0x569523){c(this,'usage',jt),(v['assert'](arguments['length']<=-0x7d*-0x8+0x2687+-0x2a6b*0x1&&(!_0x569523||typeof _0x569523=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x569523==null?void(-0x165*-0x15+-0x1db7+0x16*0x5):_0x569523['usage'])??jt,this['device']=_0x49f211,this['format']=_0x8067a3,this['numVertice'+'s']=_0x12b568,this['id']=Nv++,this['impl']=_0x49f211['createVert'+'exBufferIm'+'pl'](this,_0x8067a3,_0x569523),this['numBytes']=_0x8067a3['verticesBy'+'teSize']?_0x8067a3['verticesBy'+'teSize']:_0x8067a3['size']*_0x12b568,this['adjustVram'+'SizeTracki'+'ng'](_0x49f211['_vram'],this['numBytes']));const _0x56561b=_0x569523==null?void(-0x1e13+0x535*-0x5+-0x39*-0xfc):_0x569523['data'];_0x56561b?this['setData'](_0x56561b):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x142557=this['device'],_0x3ec38c=_0x142557['buffers']['indexOf'](this);_0x3ec38c!==-(-0xc17*0x1+-0x7c3*-0x3+0x3bb*-0x3)&&_0x142557['buffers']['splice'](_0x3ec38c,0x25*-0x3d+-0x40*-0x49+-0x96e*0x1),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x142557),this['adjustVram'+'SizeTracki'+'ng'](_0x142557['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x6a0e74,_0x36b9d9){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x36b9d9+'\x20vram.vb:\x20'+_0x6a0e74['vb']+'\x20=>\x20'+(_0x6a0e74['vb']+_0x36b9d9)),_0x6a0e74['vb']+=_0x36b9d9;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x1e228d){return _0x1e228d['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x1e228d['byteLength']),!(0x5cc+-0x14fa+0xf2f)):(this['storage']=_0x1e228d,this['unlock'](),!(-0x216+0x5*-0x29e+0xf2c));}}function hn(_0x59a0bb){if(_0x59a0bb==null)return 0x164+0x1fbe+-0x2122;let _0x255149=0x1*0x2613+0x169a+-0x3cad;for(let _0x1c5ae7=0x233*0x10+0x3*-0x499+0x1*-0x1565,_0x4918ad=_0x59a0bb['length'];_0x1c5ae7<_0x4918ad;_0x1c5ae7++)_0x255149=(_0x255149<<0x1ec5+-0xd1c+-0x11a4)-_0x255149+_0x59a0bb['charCodeAt'](_0x1c5ae7),_0x255149|=-0xe21+-0x1e+0xe3f;return _0x255149;}function Zy(_0x137963){let _0x3143b4=-0x48dc7e63+-0xa*-0x1c6fea9+-0x2*-0x5c1994c7;for(let _0x5dacca=-0x1061+0x5b1*0x1+0x13*0x90;_0x5dacca<_0x137963['length'];_0x5dacca++)_0x3143b4^=_0x137963[_0x5dacca],_0x3143b4*=0x9172*-0x67+-0xf55c5f+0x22fe2d0;return _0x3143b4>>>-0xfcf*-0x2+0x112c+0x9c2*-0x5;}const zv=new _p(),Uv=[-0x424*0x2+-0xcae*0x1+-0xf4*-0x16,-0x2583+0x260d+-0x86,0x3f*0x9e+0x8d*0x28+-0x3ce2,0x1d*0x2f+-0xbd7+-0xf0*-0x7,-0xe7f+-0x2598+0x3427],Vv=new kt();class Et{constructor(_0xfc3004,_0x5e4e9d,_0x3b3d1d){this['device']=_0xfc3004,this['_elements']=[],this['hasUv0']=!(-0x3*0xb6f+0x25ef+-0x3a1),this['hasUv1']=!(-0x10*0x94+-0x198d+0x22ce),this['hasColor']=!(-0x4*-0x737+0x1*-0x20c5+0x3ea*0x1),this['hasTangent'+'s']=!(-0x99f+-0x18c1+-0x2a5*-0xd),this['verticesBy'+'teSize']=-0x1324+0xde9*0x1+0x53b,this['vertexCoun'+'t']=_0x3b3d1d,this['interleave'+'d']=_0x3b3d1d===void(0x1e9b+-0xda3+-0x16a*0xc),this['instancing']=!(-0x67*0x17+-0x11*0x102+0x699*0x4),this['size']=_0x5e4e9d['reduce']((_0x423984,_0x122be7)=>_0x423984+Math['ceil'](_0x122be7['components']*_o[_0x122be7['type']]/(-0x1d7d*0x1+-0x4*0x617+0x1*0x35dd))*(0x50f*0x7+0x166*0x4+-0x28fd),-0x5*-0x68c+-0xa99+0x3*-0x761);let _0x68d0bf=0x104c+0x876+-0x18c2,_0x1dc5e6;for(let _0x19bfbc=-0x8*0x26a+-0x6*-0x4fc+0x71*-0x18,_0x54c8f9=_0x5e4e9d['length'];_0x19bfbc<_0x54c8f9;_0x19bfbc++){const _0x6b0970=_0x5e4e9d[_0x19bfbc];_0x1dc5e6=_0x6b0970['components']*_o[_0x6b0970['type']],v['assert'](Et['isElementV'+'alid'](_0xfc3004,_0x6b0970),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x6b0970['semantic']+'\x20:\x20'+Sv[_0x6b0970['type']]+'\x20x\x20'+_0x6b0970['components']),_0x3b3d1d&&(_0x68d0bf=N['roundUp'](_0x68d0bf,_0x1dc5e6),v['assert'](_0x1dc5e6%(0x1*-0xd7f+-0x141a+-0x5*-0x6b9)===0xfa7*-0x1+-0x19ba+-0x9*-0x499,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x1dc5e6));const _0x432c83=_0x6b0970['asInt']??!(-0x81b*-0x2+-0x390+-0xca5),_0x22a496=_0x432c83?!(0x1*0xd5d+0xae5*-0x3+0x1353):_0x6b0970['normalize']??!(-0x3b*-0x28+0xac*0x16+-0x1*0x17ff),_0x55c14a={'name':_0x6b0970['semantic'],'offset':_0x3b3d1d?_0x68d0bf:_0x6b0970['hasOwnProp'+'erty']('offset')?_0x6b0970['offset']:_0x68d0bf,'stride':_0x3b3d1d?_0x1dc5e6:_0x6b0970['hasOwnProp'+'erty']('stride')?_0x6b0970['stride']:this['size'],'dataType':_0x6b0970['type'],'numComponents':_0x6b0970['components'],'normalize':_0x22a496,'size':_0x1dc5e6,'asInt':_0x432c83};this['_elements']['push'](_0x55c14a),_0x3b3d1d?_0x68d0bf+=_0x1dc5e6*_0x3b3d1d:_0x68d0bf+=Math['ceil'](_0x1dc5e6/(-0x16e7+0x83*-0x29+0x2be6))*(-0x11c9+0x4b1*0x4+0x13*-0xd),_0x6b0970['semantic']===ns?this['hasUv0']=!(-0x98*0x24+0x1817+0x8b*-0x5):_0x6b0970['semantic']===_n?this['hasUv1']=!(0x3cb+-0xf34*-0x2+-0x11*0x203):_0x6b0970['semantic']===At?this['hasColor']=!(0x196c+-0xb*-0x71+-0x1e47):_0x6b0970['semantic']===Zs&&(this['hasTangent'+'s']=!(-0xb*0x16f+-0xb*-0x371+0x2*-0xb0b));}_0x3b3d1d&&(this['verticesBy'+'teSize']=_0x68d0bf),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x15942b){return Vv['get'](_0x15942b,()=>new Et(_0x15942b,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x1f05c5,_0x4e0bff){const _0x2cc1cc=_0x4e0bff['components']*_o[_0x4e0bff['type']];return!(_0x1f05c5['isWebGPU']&&!Uv['includes'](_0x2cc1cc));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x51b4f7=[],_0x44ae90=[],_0x50f5cc=this['_elements']['length'];for(let _0x1ddc85=-0x1*0x22ca+-0x390*-0x6+0xd6a;_0x1ddc85<_0x50f5cc;_0x1ddc85++){const {name:_0x3b7c73,dataType:_0x4065dd,numComponents:_0x3142e6,normalize:_0x6623a6,offset:_0x54f768,stride:_0x34c2ab,size:_0x551e96,asInt:_0x5710ac}=this['_elements'][_0x1ddc85],_0x4a725c=_0x3b7c73+_0x4065dd+_0x3142e6+_0x6623a6+_0x5710ac;_0x51b4f7['push'](_0x4a725c);const _0x106347=_0x4a725c+_0x54f768+_0x34c2ab+_0x551e96;_0x44ae90['push'](_0x106347);}_0x51b4f7['sort']();const _0xf5cdce=_0x51b4f7['join']();this['batchingHa'+'sh']=hn(_0xf5cdce),this['shaderProc'+'essingHash'+'String']=_0xf5cdce,this['renderingH'+'ashString']=_0x44ae90['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x46210a={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(0x2337+-0x7fa+-0x1b3d)),c(this,'_key'),(this['_func']=_0x46210a['func']??Ai,this['_ref']=_0x46210a['ref']??-0x2611+-0x4*-0x95d+-0x1*-0x9d,this['_readMask']=_0x46210a['readMask']??0x1*0x21f1+-0x377+-0x1d7b*0x1,this['_writeMask']=_0x46210a['writeMask']??-0x2*-0x3f5+0x2693+0x6*-0x795,this['_fail']=_0x46210a['fail']??ha,this['_zfail']=_0x46210a['zfail']??ha,this['_zpass']=_0x46210a['zpass']??ha,this['_evalKey']());}set['func'](_0x3bc265){this['_func']=_0x3bc265,this['_dirty']=!(-0xda9*-0x1+-0x5*-0x2f2+-0x1c63);}get['func'](){return this['_func'];}set['ref'](_0x46c0f2){this['_ref']=_0x46c0f2,this['_dirty']=!(-0x1*-0x2467+-0xea9+-0x15be);}get['ref'](){return this['_ref'];}set['fail'](_0x201c9d){this['_fail']=_0x201c9d,this['_dirty']=!(-0x195e+0x1f6b+-0x1*0x60d);}get['fail'](){return this['_fail'];}set['zfail'](_0x1e7d29){this['_zfail']=_0x1e7d29,this['_dirty']=!(-0x265*-0xc+-0xb02*-0x3+-0x3dc2);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x1cb60b){this['_zpass']=_0x1cb60b,this['_dirty']=!(0x3*0xb2d+0x1d29+0x3eb0*-0x1);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x218b14){this['_readMask']=_0x218b14,this['_dirty']=!(0x227b+-0x9f*0xa+-0x1c45*0x1);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x52525c){this['_writeMask']=_0x52525c,this['_dirty']=!(0x2b*0x5+0x2579+-0x265*0x10);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x2b2adc,_ref:_0x36a8fb,_fail:_0x1bbfbb,_zfail:_0x7de671,_zpass:_0x40cf41,_readMask:_0x2da899,_writeMask:_0x4e0ce6}=this,_0x31fafc=_0x2b2adc+','+_0x36a8fb+','+_0x1bbfbb+','+_0x7de671+','+_0x40cf41+','+_0x2da899+','+_0x4e0ce6;this['_key']=Gv['get'](_0x31fafc),this['_dirty']=!(-0x236e+-0xb74+0x3*0xfa1);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x3d823b){return this['_func']=_0x3d823b['_func'],this['_ref']=_0x3d823b['_ref'],this['_readMask']=_0x3d823b['_readMask'],this['_writeMask']=_0x3d823b['_writeMask'],this['_fail']=_0x3d823b['_fail'],this['_zfail']=_0x3d823b['_zfail'],this['_zpass']=_0x3d823b['_zpass'],this['_dirty']=_0x3d823b['_dirty'],this['_key']=_0x3d823b['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x5c1f3a,_0x434904){var _0x22a6a8,_0x3c7d4d,_0x42713a,_0xd88993,_0x52d4b9,_0x114507;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new $()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(0x25e1*0x1+0xa*-0x100+-0x1be0)),c(this,'isWebGPU',!(0x24a6+-0x4f*-0x3b+-0x36da)),c(this,'isWebGL2',!(0xcdf+-0x1d3*0x1+-0xb0b)),c(this,'isHdr',!(0xd*0x2a7+0x1309+-0x3583)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',0x25*0x26+-0xeb9*0x1+0x93c),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',-0x1aac+-0x4ca+0x1f77),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(-0x5*0xb1+0x1338+-0xfc2*0x1)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0x26*-0xb9+-0x10b8+-0xabd)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',-0x1e68+0x24e3+-0x67b),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x80e*-0x1+-0xdb8+0x15c7)),c(this,'supportsUn'+'iformBuffe'+'rs',!(-0x14ba+-0x443+0x18fe)),c(this,'supportsCl'+'ipDistance'+'s',!(0x1908+0x20d5+-0x39dc)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(0xf31+0x35*0x55+0x4af*-0x7)),c(this,'textureFlo'+'atFilterab'+'le',!(0x3*-0x981+0x1d5d+-0x1f*0x7)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(0x4*0x4d3+-0x1a79+0x72e*0x1)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[-0x1682+-0x2114*0x1+-0x2*-0x1bcb,-0x1815+0x2*-0x23b+0x1c8b,-0xe+-0xa8a+-0x4*-0x2a6,-0x1344+0x1a49+-0x704],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(-0x5ea+-0xe68+0x1453)),(this['canvas']=_0x5c1f3a,this['initOption'+'s']={..._0x434904},(_0x22a6a8=this['initOption'+'s'])['alpha']??(_0x22a6a8['alpha']=!(-0x3bf*0x4+-0x723+-0x329*-0x7)),(_0x3c7d4d=this['initOption'+'s'])['depth']??(_0x3c7d4d['depth']=!(0x1228+0x1b34+-0x2d5c)),(_0x42713a=this['initOption'+'s'])['stencil']??(_0x42713a['stencil']=!(0xdf*0x5+0x1*0x1f4d+-0x23a8)),(_0xd88993=this['initOption'+'s'])['antialias']??(_0xd88993['antialias']=!(-0x15cd*-0x1+0x1842+-0x2e0f*0x1)),(_0x52d4b9=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x52d4b9['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x114507=this['initOption'+'s'])['displayFor'+'mat']??(_0x114507['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](-0x77e+0x2349+-0x1bca,window['devicePixe'+'lRatio']):-0x3*0x11f+-0x26c7+0x1*0x2a25,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0xb*0xdf+0x4e8+0x1*-0xe7d,this['_shaderSwi'+'tchesPerFr'+'ame']=0x1*0xd17+-0xa*0x3e+-0x1*0xaab,this['_primsPerF'+'rame']=[]);for(let _0x48d185=Mc;_0x48d185<=Yr;_0x48d185++)this['_primsPerF'+'rame'][_0x48d185]=0x18*0x15f+-0xb69+-0x1*0x157f;this['_renderTar'+'getCreatio'+'nTime']=-0x170d+-0x22ee+-0x1*-0x39fb,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0xa91*-0x1+-0x10bb*-0x1+-0x1b4c);}['postInit'](){const _0x4a16f0=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0x27e6d1=new Float32Array([-(0x2c*-0x96+0x1*-0x222d+-0x3bf6*-0x1),-(-0xfd9+0x1d64+-0x6c5*0x2),0x2584+-0x22d2+-0x2b1,-(-0x11*-0x11f+0x8e1+-0x1bef),-(0x2172+0x1763*0x1+-0x2*0x1c6a),0xb66+0x26ce+-0x3233,0x15c9+0x1*0xc0b+0x1*-0x21d3,-0x1fb+0x12fc+-0x1100]);this['quadVertex'+'Buffer']=new os(this,_0x4a16f0,-0x3d*-0x67+0x1*0x1b71+-0x33f8,{'data':_0x27e6d1});}['destroy'](){var _0x516e8e,_0x18f341,_0x3a3449;this['fire']('destroy'),(_0x516e8e=this['quadVertex'+'Buffer'])==null||_0x516e8e['destroy'](),this['quadVertex'+'Buffer']=null,(_0x18f341=this['dynamicBuf'+'fers'])==null||_0x18f341['destroy'](),this['dynamicBuf'+'fers']=null,(_0x3a3449=this['gpuProfile'+'r'])==null||_0x3a3449['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x524436){this['fire']('destroy:sh'+'ader',_0x524436);const _0x8f3c49=this['shaders']['indexOf'](_0x524436);_0x8f3c49!==-(-0xbda+0xc12+-0x5*0xb)&&this['shaders']['splice'](_0x8f3c49,0x1*-0x1681+-0x1*0xb23+0x21a5);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x4447f5;this['contextLos'+'t']=!(0x43*-0x95+-0x13*0x5f+0x2e0c),this['backBuffer'+'Size']['set'](-(0x7bb*0x1+-0x17d8+-0x2*-0x80f),-(-0x396+-0xb0c*0x1+-0x4e1*-0x3));for(const _0xc84df9 of this['textures'])_0xc84df9['loseContex'+'t']();for(const _0x37c437 of this['buffers'])_0x37c437['loseContex'+'t']();for(const _0xa88eb2 of this['targets'])_0xa88eb2['loseContex'+'t']();(_0x4447f5=this['gpuProfile'+'r'])==null||_0x4447f5['loseContex'+'t']();}['restoreCon'+'text'](){var _0x2dd9ad,_0x337521;this['contextLos'+'t']=!(-0x1084+-0x2450+0xa91*0x5),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x522828 of this['buffers'])_0x522828['unlock']();(_0x337521=(_0x2dd9ad=this['gpuProfile'+'r'])==null?void(0x1e44*0x1+0xad*-0x31+-0xf3*-0x3):_0x2dd9ad['restoreCon'+'text'])==null||_0x337521['call'](_0x2dd9ad);}['toJSON'](_0x583a31){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0x868*-0x2+-0x6a*-0x5e+0x1*-0x161c),this['shaderAsyn'+'cCompile']=!(-0x1e8a+0x779+-0xb89*-0x2),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=0xf3b*-0x1+-0xb*-0x143+-0x1*-0x15a,this['sx']=this['sy']=this['sw']=this['sh']=0x22f7+-0x1823+-0xad4,this['blendColor']=new j(-0x13b5+0x1*-0x1a5+0x155a,-0x210e+0x99d*0x3+-0xd*-0x53,-0xd*-0xca+-0x1e9+-0x859,-0x2*-0xc73+-0x2179+0x893);}['setStencil'+'State'](_0x400709,_0x56ab61){v['assert'](!(0x87d*-0x3+-0xe94*0x2+0x36a0));}['setBlendSt'+'ate'](_0x3ed012){v['assert'](!(0x39d*0x2+0x1fb7+0x59*-0x70));}['setBlendCo'+'lor'](_0x4ecf9d,_0x14a763,_0x299395,_0x19d3a5){v['assert'](!(-0x55*-0x37+-0x22ca*0x1+-0xb8*-0x17));}['setDepthSt'+'ate'](_0x1ba582){v['assert'](!(-0xd81*0x1+0x1283*0x2+-0x1784));}['setCullMod'+'e'](_0x3b2625){v['assert'](!(-0x1e6+0x18b6+-0x1*0x16cf));}['setRenderT'+'arget'](_0x553813){this['renderTarg'+'et']=_0x553813;}['setIndexBu'+'ffer'](_0x1990c1){this['indexBuffe'+'r']=_0x1990c1;}['setVertexB'+'uffer'](_0x2b7027){_0x2b7027&&this['vertexBuff'+'ers']['push'](_0x2b7027);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0xba1+-0x7*0x4d9+0x1*0x2d90;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x35758){if(_0x35758['initialize'+'d'])return;const _0x47b66b=ne();this['fire']('fbo:create',{'timestamp':_0x47b66b,'target':this}),_0x35758['init'](),this['targets']['add'](_0x35758),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x47b66b;}['_isBrowser'+'Interface'](_0x4a5443){return this['_isImageBr'+'owserInter'+'face'](_0x4a5443)||this['_isImageCa'+'nvasInterf'+'ace'](_0x4a5443)||this['_isImageVi'+'deoInterfa'+'ce'](_0x4a5443);}['_isImageBr'+'owserInter'+'face'](_0x1d162e){return typeof ImageBitmap<'u'&&_0x1d162e instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x1d162e instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x3342de){return typeof HTMLCanvasElement<'u'&&_0x3342de instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x23d844){return typeof HTMLVideoElement<'u'&&_0x23d844 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x191c53,_0x3da9ff){const _0x991b7d=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:0x1fd2+0x326+0x1*-0x22f7),_0x32d434=Math['floor'](_0x191c53*_0x991b7d),_0x3833e2=Math['floor'](_0x3da9ff*_0x991b7d);(_0x32d434!==this['canvas']['width']||_0x3833e2!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x32d434,_0x3833e2);}['setResolut'+'ion'](_0x19f7af,_0x53caba){this['canvas']['width']=_0x19f7af,this['canvas']['height']=_0x53caba,this['fire'](nc['EVENT_RESI'+'ZE'],_0x19f7af,_0x53caba);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x3b2548=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x3b2548['width'],this['clientRect']['height']=_0x3b2548['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x27aff9){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x1284+-0x26b9+0x1436);}set['maxPixelRa'+'tio'](_0x4a977e){this['_maxPixelR'+'atio']=_0x4a977e;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x35f148){}['endRenderP'+'ass'](_0x28c16d){}['startCompu'+'tePass'](_0x418df6){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x268b*0x1+0xbcb*0x3+0x32a,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x299176=this['textures']['slice']();_0x299176['sort']((_0x1698d8,_0xb34ebc)=>_0xb34ebc['gpuSize']-_0x1698d8['gpuSize']),v['log']('Textures:\x20'+_0x299176['length']);let _0x384d35=-0x21*0x1b+-0x2*0x5cf+0xf19*0x1;_0x299176['forEach']((_0x49e52c,_0x28255d)=>{const _0x19303f=_0x49e52c['gpuSize'];_0x384d35+=_0x19303f,v['log'](_0x28255d+'.\x20'+_0x49e52c['name']+'\x20'+_0x49e52c['width']+'x'+_0x49e52c['height']+'\x20VRAM:\x20'+(_0x19303f/(0x10*0x1f6+-0x1e1b+-0x2bb*-0x1)/(0x23bd+0x6ae+-0x266b))['toFixed'](-0x2274+-0x1*0x15a4+-0x381a*-0x1)+'\x20MB');}),v['log']('Total:\x20'+(_0x384d35/(-0x392*0x5+-0x1*-0x589+0x1051)/(-0x1c7c+0x1*-0x263b+0x46b7))['toFixed'](-0x302+-0x1*0x2122+0x2426*0x1)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x3e2593,_0x3f21f7='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x4b0c57=[_a,Je,Ke],_0x249285=!(-0x8c1*-0x1+-0xcc*0x30+0x1d7f),_0x32c55c=0x311+-0x1c3a+0x1*0x192a){for(let _0x2a5be8=-0x12d1*-0x1+0x127d+-0x254e;_0x2a5be8<_0x4b0c57['length'];_0x2a5be8++){const _0x48842b=_0x4b0c57[_0x2a5be8];switch(_0x48842b){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x48842b;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x48842b;break;case Ke:if(this['isWebGPU']&&_0x32c55c>0x1ce3+-0xf93+-0xd4f)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x249285||this['textureFlo'+'atFilterab'+'le']))return _0x48842b;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=0x1c37+0x67*0x5b+-0x9*0x734;class pt{constructor(_0x5e0d42={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x2852d9,_0x2a2473,_0x52f71d,_0xbcc700,_0x3af78a,_0x5b180f;v['assert'](!(_0x5e0d42 instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x2829fb=((_0x2852d9=_0x5e0d42['colorBuffe'+'r'])==null?void(-0xebd+-0x230b+0x31c8):_0x2852d9['device'])??((_0x2a2473=_0x5e0d42['colorBuffe'+'rs'])==null?void(-0xd02+-0xda*-0x22+-0xff2):_0x2a2473[0x4*0x65f+-0x2*0x4c1+-0xffa]['device'])??((_0x52f71d=_0x5e0d42['depthBuffe'+'r'])==null?void(0x1c1d+0x9*0x1c6+-0x3*0xeb1):_0x52f71d['device'])??_0x5e0d42['graphicsDe'+'vice'];v['assert'](_0x2829fb,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x2829fb;const {maxSamples:_0x1859f5}=this['_device'];if(this['_samples']=Math['min'](_0x5e0d42['samples']??-0x29c+-0xe8c+0x1*0x1129,_0x1859f5),_0x2829fb['isWebGPU']&&(this['_samples']=this['_samples']>-0x1fa0+0x2519*0x1+0x578*-0x1?_0x1859f5:-0xfb3*-0x1+0x3fe*-0x3+0xee*-0x4),this['_colorBuff'+'er']=_0x5e0d42['colorBuffe'+'r'],_0x5e0d42['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x5e0d42['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x5e0d42['depthBuffe'+'r'],this['_face']=_0x5e0d42['face']??-0x3*0x90c+-0x24a5+0x3fc9,this['_depthBuff'+'er']){const _0xa5596c=this['_depthBuff'+'er']['_format'];_0xa5596c===Ci||_0xa5596c===la?(this['_depth']=!(0x1e79+0x1*-0xd37+0x2*-0x8a1),this['_stencil']=!(0x51b*-0x1+-0xade+-0x199*-0xa)):_0xa5596c===vc?(this['_depth']=!(-0x1113+0x672+0xaa1),this['_stencil']=!(-0x1f76*0x1+0x1*0x455+0xf*0x1cf)):_0xa5596c===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x25b+-0x17*0xfb+0x18e9?(this['_depth']=!(-0x370*-0x3+0x365*-0x1+-0xfd*0x7),this['_stencil']=!(-0x2*0xff7+0x1c36+0x3b9)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x233*-0x5+-0x459+-0x6a5),this['_stencil']=!(0x1797+-0x2439+-0x5*-0x287));}else this['_depth']=_0x5e0d42['depth']??!(0x4ad+-0x1af1+0x474*0x5),this['_stencil']=_0x5e0d42['stencil']??!(-0xf6b*0x1+-0x1*-0x48b+0xae1);_0x5e0d42['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x5e0d42['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x5e0d42['colorBuffe'+'rs'][-0x137*-0x8+0x2c9*0xb+-0x285b])),this['autoResolv'+'e']=_0x5e0d42['autoResolv'+'e']??!(-0x1be9+0x202b+-0x442),this['name']=_0x5e0d42['name'],this['name']||(this['name']=(_0xbcc700=this['_colorBuff'+'er'])==null?void(0x226c+0x6d*-0x4d+0x1a3*-0x1):_0xbcc700['name']),this['name']||(this['name']=(_0x3af78a=this['_depthBuff'+'er'])==null?void(-0x4*-0x4fa+0xc*-0x7a+-0x38c*0x4):_0x3af78a['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x5e0d42['flipY']??!(0xd*0x291+0x1578+-0x36d4),this['_mipLevel']=_0x5e0d42['mipLevel']??0x3cb+-0x473+-0x4*-0x2a,this['_mipLevel']>-0x1*-0x1455+-0xdfd*-0x1+-0x2252&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x5e0d42}),this['_mipLevel']=-0x13*0xf7+-0x5df*-0x6+-0x10e5),this['_mipmaps']=_0x5e0d42['mipLevel']===void(-0x1*0xee9+-0xe22+0x1d0b),this['validateMr'+'t'](),this['impl']=_0x2829fb['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x5b180f=this['_colorBuff'+'ers'])!=null&&_0x5b180f['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x5d1e75=this['_device'];_0x5d1e75&&(_0x5d1e75['targets']['delete'](this),_0x5d1e75['renderTarg'+'et']===this&&_0x5d1e75['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x1c2e06=this['_device'];_0x1c2e06&&this['impl']['destroy'](_0x1c2e06);}['destroyTex'+'tureBuffer'+'s'](){var _0x210f09,_0x2d4e38;(_0x210f09=this['_depthBuff'+'er'])==null||_0x210f09['destroy'](),this['_depthBuff'+'er']=null,(_0x2d4e38=this['_colorBuff'+'ers'])==null||_0x2d4e38['forEach'](_0x143229=>{_0x143229['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x745a73,_0x53feb1){var _0x2c865a,_0x17622e;if(this['width']!==_0x745a73||this['height']!==_0x53feb1){if(this['mipLevel']>-0x3*0xa4b+-0x53*0x6d+-0x4*-0x108e){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x498dcc=this['_device'];this['destroyFra'+'meBuffers'](),_0x498dcc['renderTarg'+'et']===this&&_0x498dcc['setRenderT'+'arget'](null),(_0x2c865a=this['_depthBuff'+'er'])==null||_0x2c865a['resize'](_0x745a73,_0x53feb1),(_0x17622e=this['_colorBuff'+'ers'])==null||_0x17622e['forEach'](_0x1ab51d=>{_0x1ab51d['resize'](_0x745a73,_0x53feb1);}),this['validateMr'+'t'](),this['impl']=_0x498dcc['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x5f5633,height:_0xc1d0ad,cubemap:_0x51e4e2,volume:_0x33a0d5}=this['_colorBuff'+'ers'][-0x2025+0x2*0x5c+0x1*0x1f6d];for(let _0x40ef63=0x539+-0x130d+0xdd5;_0x40ef63<this['_colorBuff'+'ers']['length'];_0x40ef63++){const _0x173672=this['_colorBuff'+'ers'][_0x40ef63];v['assert'](_0x173672['width']===_0x5f5633,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x173672['height']===_0xc1d0ad,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x173672['cubemap']===_0x51e4e2,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x173672['volume']===_0x33a0d5,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x95dd86=!(-0xf6*-0xb+0x2*-0xab5+-0x2*-0x56c),_0x142627=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0x1bb3+0x7*-0x35f+-0x419&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x95dd86?'[color]':'')+':'+(_0x142627?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x95dd86,_0x142627),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x91f9e9,_0x47ae52,_0x152cc4){if(!this['_device']){if(_0x91f9e9['_device'])this['_device']=_0x91f9e9['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x1*-0x2029+-0xc75+0x2c9f);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x91f9e9['name']+'->'+this['name']);const _0x272b2d=this['_device']['copyRender'+'Target'](_0x91f9e9,this,_0x47ae52,_0x152cc4);return G['popGpuMark'+'er'](this['_device']),_0x272b2d;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x47de79){var _0x2f9c35;return(_0x2f9c35=this['_colorBuff'+'ers'])==null?void(-0x2088*-0x1+-0x1f93+-0x1*0xf5):_0x2f9c35[_0x47de79];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x237259,_0x2322c8;let _0x3124dd=((_0x237259=this['_colorBuff'+'er'])==null?void(0x162*-0xa+-0x1*0xec1+0x1c95):_0x237259['width'])||((_0x2322c8=this['_depthBuff'+'er'])==null?void(0xcc7*0x3+0x1633+-0x3c88):_0x2322c8['width'])||this['_device']['width'];return this['_mipLevel']>0x110b+-0x412*0x1+-0xcf9&&(_0x3124dd=Mi['calcLevelD'+'imension'](_0x3124dd,this['_mipLevel'])),_0x3124dd;}get['height'](){var _0x20bfd0,_0x391966;let _0xe8283e=((_0x20bfd0=this['_colorBuff'+'er'])==null?void(-0xf04+-0xda6+0x1caa):_0x20bfd0['height'])||((_0x391966=this['_depthBuff'+'er'])==null?void(0x58a+-0x5c*0x50+-0x2*-0xb9b):_0x391966['height'])||this['_device']['height'];return this['_mipLevel']>0x1*0xafd+-0x9f*-0x2f+0x2*-0x1417&&(_0xe8283e=Mi['calcLevelD'+'imension'](_0xe8283e,this['_mipLevel'])),_0xe8283e;}['isColorBuf'+'ferSrgb'](_0x2bca7a=-0x2*-0x7b5+-0x384+-0xbe6){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0x316abf=this['getColorBu'+'ffer'](_0x2bca7a);return _0x316abf?Mh(_0x316abf['format']):!(-0x179e+-0x4ee+0x1c8d);}}const $v={'equals'(_0x2ad367,_0x41a52d){if(_0x2ad367['length']!==_0x41a52d['length'])return!(0x978+0x1*-0x1552+-0x25f*-0x5);for(let _0x42cec9=-0x1*0x2660+-0x108*0x13+0x39f8;_0x42cec9<_0x2ad367['length'];_0x42cec9++)if(_0x2ad367[_0x42cec9]!==_0x41a52d[_0x42cec9])return!(0x580+-0x23+0x4*-0x157);return!(-0x2*0x243+-0x1*0x1e49+0x7*0x4f9);}};class Gc{constructor(){c(this,'_refCount',0x844+0x1ca5*-0x1+0x1461);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class Wv extends Gc{constructor(_0x5aa5ef){super(),c(this,'object'),(this['object']=_0x5aa5ef,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0xb9d612=>{var _0x33dc72;(_0x33dc72=_0xb9d612['object'])==null||_0x33dc72['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x276749){const _0x41536b=this['cache']['get'](_0x276749);return _0x41536b?(_0x41536b['incRefCoun'+'t'](),_0x41536b['object']):null;}['set'](_0x1528cf,_0x58d6dd){v['assert'](!this['cache']['has'](_0x1528cf),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x1528cf,'object':_0x58d6dd}),this['cache']['set'](_0x1528cf,new Wv(_0x58d6dd));}['release'](_0x168b77){var _0x35f4b4;const _0x27baef=this['cache']['get'](_0x168b77);_0x27baef?(_0x27baef['decRefCoun'+'t'](),_0x27baef['refCount']===0x49*-0x26+-0x18b*-0x1+0x94b&&(this['cache']['delete'](_0x168b77),(_0x35f4b4=_0x27baef['object'])==null||_0x35f4b4['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x168b77});}}class Xv extends qv{['loseContex'+'t'](_0x3133b0){this['clear']();}}const jv=new kt(),od=_0x4e6b34=>jv['get'](_0x4e6b34,()=>new Xv()),ot=[];ot[Ws]=0x2*-0xd3f+0x74f*-0x3+0x306c*0x1,ot[or]=0xa*0x135+-0x10dc+0x266*0x2,ot[Wt]=-0x518*0x6+-0x1200+0x3093,ot[xa]=0x37*0x1+-0x224f+0x221c,ot[ln]=0x1*0x168e+0x12c1+0x14a7*-0x2,ot[Zr]=0x1170+0x6a*-0xf+-0x4*0x2ce,ot[Qr]=0x7ae*0x2+0x39e+-0x12f7,ot[Jr]=-0x1d3f*0x1+-0x6*-0x107+0x1719,ot[ca]=0x72f*-0x4+-0x2f*-0x3a+0x1a5*0xb,ot[Lo]=-0x10d2+-0x1*0x1f6d+0x3041,ot[Fo]=0x1305+-0xac8+-0x83a,ot[Oo]=0x118d*-0x1+0x1*0xddb+0x3b6,ot[Rh]=-0x1*-0x1583+0x1e3a+0x1*-0x33b5,ot[ko]=0x22b7*0x1+-0x803+-0x1aa8*0x1,ot[Sa]=-0x58a*0x5+0x10a7+0xb1b,ot[va]=0x38c*0xb+0x185+-0x2888,ot[ba]=-0x27a+0xe7a+-0xbfe,ot[wa]=-0x26a0+-0x1*-0x11fe+0x14a5,ot[Ta]=0x3*-0xcdb+-0x136*0x14+-0x17*-0x2bb;class gt{constructor(_0x5c55ea,_0x2da913,_0x563c99=0x1ce5+0x1e1e+0x1*-0x3b03){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x5c55ea,this['name']=_0x563c99?_0x5c55ea+'[0]':_0x5c55ea,this['type']=_0x2da913,this['numCompone'+'nts']=ot[_0x2da913],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x2da913+'\x20used\x20for\x20'+_0x5c55ea),this['updateType']=_0x2da913,_0x563c99>0x35f+-0x1266+-0xf07*-0x1)switch(_0x2da913){case Ws:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case Wt:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x2da913]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x5c55ea+'\x27.'),v['call'](()=>{this['invalid']=!(-0xc03*-0x2+0x2b9*0x2+0xa4*-0x2e);});break;}this['count']=_0x563c99,v['assert'](!isNaN(_0x563c99),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x5c55ea+'['+_0x563c99+']'),v['call'](()=>{isNaN(_0x563c99)&&(this['invalid']=!(-0x4d*-0x7f+0xa*0xf5+-0x2fc5));});let _0x4f7067=this['numCompone'+'nts'];_0x563c99&&(_0x4f7067=N['roundUp'](_0x4f7067,-0xb44+0xaef+-0x1*-0x59)),this['byteSize']=_0x4f7067*(-0x16*0x21+0x3*-0x62b+-0x155b*-0x1),_0x563c99&&(this['byteSize']*=_0x563c99),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x2da913+'\x20used\x20for\x20'+_0x5c55ea);}get['isArrayTyp'+'e'](){return this['count']>0x1*0x268+-0xb78+0x910;}['calculateO'+'ffset'](_0x1772ba){let _0x365515=this['byteSize']<=-0x26e4+0x1*-0x7ba+0x2ea6?this['byteSize']:0x10d4+0xa7d+0x1*-0x1b41;this['count']&&(_0x365515=-0x5b2+-0x594+0xb56),_0x1772ba=N['roundUp'](_0x1772ba,_0x365515),this['offset']=_0x1772ba/(0x520+0x2559*0x1+-0x2a75);}}class Qy{constructor(_0x54cfb1,_0x50d2fe){c(this,'byteSize',0x1e86+0x5*-0x4fa+0x2d2*-0x2),c(this,'map',new Map()),(this['scope']=_0x54cfb1['scope'],this['uniforms']=_0x50d2fe);let _0x5aa839=0x2*0x113e+0x14c5+-0x3af*0xf;for(let _0x3befa2=-0x3ae+0x3*-0x3+-0x1*-0x3b7;_0x3befa2<_0x50d2fe['length'];_0x3befa2++){const _0x106775=_0x50d2fe[_0x3befa2];_0x106775['calculateO'+'ffset'](_0x5aa839),_0x5aa839=_0x106775['offset']*(0x1*0x407+0x1*-0x91d+0x51a)+_0x106775['byteSize'],_0x106775['scopeId']=this['scope']['resolve'](_0x106775['name']),this['map']['set'](_0x106775['name'],_0x106775);}this['byteSize']=N['roundUp'](_0x5aa839,-0x5f1+0x1ae7+0xa*-0x217);}['get'](_0x356605){return this['map']['get'](_0x356605);}['getShaderD'+'eclaration'](_0x24b30c,_0x16239f){const _0xed5da=xv[_0x24b30c];let _0x4beae3='layout(set'+'\x20=\x20'+_0x24b30c+(',\x20binding\x20'+'=\x20')+_0x16239f+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0xed5da+'\x20{\x0a';return this['uniforms']['forEach'](_0x3b207c=>{const _0x5bd1d8=dp[_0x3b207c['type']];v['assert'](_0x5bd1d8['length']>0x1*-0x617+0x4*-0x164+-0x9d*-0x13,'Uniform\x20ty'+'pe\x20'+_0x3b207c['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x4beae3+='\x20\x20\x20\x20'+_0x5bd1d8+'\x20'+_0x3b207c['shortName']+(_0x3b207c['count']?'['+_0x3b207c['count']+']':'')+';\x0a';}),_0x4beae3+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0x381bbf,_0x2016d4=new Map(),_0x254d8a={}){vs['sourceName']=_0x254d8a['sourceName'],_0x381bbf=this['stripComme'+'nts'](_0x381bbf),_0x381bbf=_0x381bbf['split'](/\r?\n/)['map'](_0x3dbaf3=>_0x3dbaf3['trimEnd']())['join']('\x0a');const _0x344d26=new Map();if(_0x254d8a['stripUnuse'+'dColorAtta'+'chments']){const _0x2a25cd=new Map(),_0x588460=/(pcFragColor[1-8])\b/g,_0x1749cc=_0x381bbf['match'](_0x588460);_0x1749cc==null||_0x1749cc['forEach'](_0x1e6302=>{const _0x35d2f5=parseInt(_0x1e6302['charAt'](_0x1e6302['length']-(-0x21bc+0xe5*-0x9+0x29ca)),0xbfe+0x7*-0x585+0xb*0x26d);_0x2a25cd['set'](_0x35d2f5,(_0x2a25cd['get'](_0x35d2f5)??0x236*0x10+0x11c*0x8+-0x2c40)+(-0x1*-0x457+-0x1*0x22d5+0x1e7f));}),_0x2a25cd['forEach']((_0x2f0000,_0xeacc94)=>{_0x2f0000===-0x577+0x22aa+-0x1d32&&_0x344d26['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0xeacc94,'');});}_0x381bbf=this['_preproces'+'s'](_0x381bbf,_0x344d26,_0x2016d4,_0x254d8a['stripDefin'+'es']);const _0x560914=new Map();_0x344d26['forEach']((_0x2fd12a,_0x4e54e5)=>{Number['isInteger'](parseFloat(_0x2fd12a))&&!_0x2fd12a['includes']('.')&&_0x560914['set'](_0x4e54e5,_0x2fd12a);});const _0x1186b1=new Map();return _0x344d26['forEach']((_0x44ffca,_0x400f9c)=>{_0x400f9c['startsWith']('__INJECT_')&&_0x1186b1['set'](_0x400f9c,_0x44ffca);}),_0x381bbf=this['stripComme'+'nts'](_0x381bbf),_0x381bbf=this['RemoveEmpt'+'yLines'](_0x381bbf),_0x381bbf=this['processArr'+'aySize'](_0x381bbf,_0x560914),_0x381bbf=this['injectDefi'+'nes'](_0x381bbf,_0x1186b1),_0x381bbf;}static['stripComme'+'nts'](_0x45c642){return _0x45c642['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x889868,_0x3daba6){return _0x889868!==null&&_0x3daba6['forEach']((_0x166427,_0x550f9e)=>{_0x889868=_0x889868['replace'](new RegExp('\x5c['+_0x550f9e+'\x5c]','g'),'['+_0x166427+']');}),_0x889868;}static['injectDefi'+'nes'](_0x11e333,_0x1239fe){if(_0x11e333!==null&&_0x1239fe['size']>-0x1a8*0x1+0x11a+0x8e){const _0x5d51a2=_0x11e333['split']('\x0a');_0x1239fe['forEach']((_0x137e6c,_0x18c25c)=>{const _0x2ee31d=new RegExp('\x5cb'+_0x18c25c+'\x5cb','g');for(let _0x40ea62=0x135*-0x7+-0x12a*-0x3+0x4f5;_0x40ea62<_0x5d51a2['length'];_0x40ea62++)_0x5d51a2[_0x40ea62]['includes']('#')||(_0x5d51a2[_0x40ea62]=_0x5d51a2[_0x40ea62]['replace'](_0x2ee31d,_0x137e6c));}),_0x11e333=_0x5d51a2['join']('\x0a');}return _0x11e333;}static['RemoveEmpt'+'yLines'](_0x20e927){return _0x20e927!==null&&(_0x20e927=_0x20e927['split'](/\r?\n/)['map'](_0x4e7635=>_0x4e7635['trim']()===''?'':_0x4e7635)['join']('\x0a'),_0x20e927=_0x20e927['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x20e927;}static['_preproces'+'s'](_0x1180bb,_0x3232b0=new Map(),_0x56a982,_0x1bea96){const _0x216a32=_0x1180bb,_0x491d8e=[];let _0x480035=!(-0xb55+-0x14f7*-0x1+-0x9a1),_0x450f34;for(;(_0x450f34=fs['exec'](_0x1180bb))!==null;){const _0x1931b2=_0x450f34[-0x197*0x5+-0xab3+0x12a7];switch(_0x1931b2){case'define':{ld['lastIndex']=_0x450f34['index'];const _0x2f65f0=ld['exec'](_0x1180bb);v['assert'](_0x2f65f0,'Invalid\x20['+_0x1931b2+']:\x20'+_0x1180bb['substring'](_0x450f34['index'],_0x450f34['index']+(0x6b*0x16+-0xc5b+0x38d))+'...'),_0x480035||(_0x480035=_0x2f65f0===null);const _0x59c484=_0x2f65f0[-0x1*0x70b+-0x4*0x865+0x28a0];Em['lastIndex']=_0x2f65f0['index'];const _0x3ce2c0=Em['exec'](_0x59c484)[0x1*0x1029+0x53*0x6+-0x1*0x121a];let _0x4e77ce=_0x59c484['substring'](_0x3ce2c0['length'])['trim']();_0x4e77ce===''&&(_0x4e77ce='true');const _0x537cd1=vs['_keep'](_0x491d8e);_0x537cd1&&(_0x3232b0['set'](_0x3ce2c0,_0x4e77ce),_0x1bea96&&(_0x1180bb=_0x1180bb['substring'](0x4b*-0x34+0xd*-0x15b+0x20db,_0x2f65f0['index']-(0x59b+-0xa87+-0x4ed*-0x1))+_0x1180bb['substring'](ld['lastIndex']),fs['lastIndex']=_0x2f65f0['index']-(-0x62d*-0x1+0x1e74+-0x24a0))),v['trace'](gr,_0x1931b2+':\x20['+_0x3ce2c0+']\x20'+_0x4e77ce+'\x20'+(_0x537cd1?'':'IGNORED')),_0x1bea96||(fs['lastIndex']=_0x2f65f0['index']+_0x2f65f0[-0x2d9*-0xc+-0x26*0xa0+-0xa6c]['length']);break;}case'undef':{hd['lastIndex']=_0x450f34['index'];const _0x54c3c5=hd['exec'](_0x1180bb),_0x50ff7b=_0x54c3c5[-0x22c+-0x7f6+0xad*0xf]['trim'](),_0xc0152a=vs['_keep'](_0x491d8e);_0xc0152a&&(_0x3232b0['delete'](_0x50ff7b),_0x1bea96&&(_0x1180bb=_0x1180bb['substring'](0xf6f+-0x1c3a+0xccb*0x1,_0x54c3c5['index']-(0x1*0x191f+0x1d1+0x3d9*-0x7))+_0x1180bb['substring'](hd['lastIndex']),fs['lastIndex']=_0x54c3c5['index']-(0x1eff+0x2221*0x1+-0x411f))),v['trace'](gr,_0x1931b2+':\x20['+_0x50ff7b+']\x20'+(_0xc0152a?'':'IGNORED')),_0x1bea96||(fs['lastIndex']=_0x54c3c5['index']+_0x54c3c5[-0x1a*0x14b+-0x179f*0x1+-0x1*-0x393d]['length']);break;}case'extension':{Am['lastIndex']=_0x450f34['index'];const _0x29930b=Am['exec'](_0x1180bb);if(v['assert'](_0x29930b,'Invalid\x20['+_0x1931b2+']:\x20'+_0x1180bb['substring'](_0x450f34['index'],_0x450f34['index']+(-0xe5f*0x1+0x16db+-0x818))+'...'),_0x480035||(_0x480035=_0x29930b===null),_0x29930b){const _0x1c2294=_0x29930b[-0x259c+0x572*0x3+0x1547],_0x5a52fc=vs['_keep'](_0x491d8e);_0x5a52fc&&_0x3232b0['set'](_0x1c2294,'true'),v['trace'](gr,_0x1931b2+':\x20['+_0x1c2294+']\x20'+(_0x5a52fc?'':'IGNORED'));}fs['lastIndex']=_0x29930b['index']+_0x29930b[-0x5*-0xad+0x162a+-0xd*0x1f7]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x450f34['index'];const _0x6af05d=cd['exec'](_0x1180bb),_0x2120c5=_0x6af05d[0x2*0xeb9+-0x498+-0x18d8],_0x493b09=vs['evaluate'](_0x2120c5,_0x3232b0);_0x480035||(_0x480035=_0x493b09['error']);let _0x5bf841=_0x493b09['result'];_0x1931b2==='ifndef'&&(_0x5bf841=!_0x5bf841),_0x491d8e['push']({'anyKeep':_0x5bf841,'keep':_0x5bf841,'start':_0x450f34['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x1931b2+':\x20['+_0x2120c5+']\x20=>\x20'+_0x5bf841),fs['lastIndex']=_0x6af05d['index']+_0x6af05d[0x17e9+0x53*-0x2e+-0x8ff]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x450f34['index'];const _0x1db044=dd['exec'](_0x1180bb),_0x4f56ba=_0x491d8e['pop'](),_0x13b298=_0x4f56ba['keep']?_0x1180bb['substring'](_0x4f56ba['end'],_0x450f34['index']):'';v['trace'](gr,_0x1931b2+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x13b298!=='')),_0x1180bb=_0x1180bb['substring'](0x205f+0x3*-0x2d0+0x1*-0x17ef,_0x4f56ba['start'])+_0x13b298+_0x1180bb['substring'](dd['lastIndex']),fs['lastIndex']=_0x4f56ba['start']+_0x13b298['length'];const _0x246f51=_0x1db044[-0x85*-0x3b+0x9d*0x20+-0x2*0x1923];if(_0x246f51==='else'||_0x246f51==='elif'){let _0x54e955=!(-0x36c+-0x4f*0x6+0x547*0x1);if(!_0x4f56ba['anyKeep']){if(_0x246f51==='else')_0x54e955=!_0x4f56ba['keep'];else{const _0x13a8e0=vs['evaluate'](_0x1db044[0x64e*0x3+0xfb6+-0x229e],_0x3232b0);_0x54e955=_0x13a8e0['result'],_0x480035||(_0x480035=_0x13a8e0['error']);}}_0x491d8e['push']({'anyKeep':_0x4f56ba['anyKeep']||_0x54e955,'keep':_0x54e955,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x1931b2+':\x20['+_0x1db044[-0x2601+-0x7*0x1ca+0x3289]+']\x20=>\x20'+_0x54e955);}break;}case'include':{ud['lastIndex']=_0x450f34['index'];const _0x33bdca=ud['exec'](_0x1180bb);_0x480035||(_0x480035=_0x33bdca===null),v['assert'](_0x33bdca,'Invalid\x20['+_0x1931b2+']:\x20'+_0x1180bb['substring'](_0x450f34['index'],_0x450f34['index']+(-0x21*-0x75+-0xdca+0xb*-0x15))+'...');const _0x2327b3=_0x33bdca[0x71*0x49+-0x350+0x19*-0x128]['trim'](),_0x1b4820=vs['_keep'](_0x491d8e);if(_0x1b4820){const _0x461f0a=_0x56a982==null?void(-0x1bfe+0x1ca2+-0xa4*0x1):_0x56a982['get'](_0x2327b3);_0x461f0a!==void(0x1ec0+-0x2596+0x7*0xfa)?(_0x1180bb=_0x1180bb['substring'](0x258a+-0x26f1+0x167,_0x33bdca['index']-(0x951+0x11*0x7f+-0x11bf))+_0x461f0a+_0x1180bb['substring'](ud['lastIndex']),fs['lastIndex']=_0x33bdca['index']-(-0x9c+0x21b5+0x2c2*-0xc)):(console['error']('Include\x20\x22'+_0x2327b3+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x216a32}),_0x480035=!(0x3d*0x2+-0x3e1*0x5+-0x1*-0x12eb));}v['trace'](gr,_0x1931b2+':\x20['+_0x2327b3+']\x20'+(_0x1b4820?'':'IGNORED'));break;}}}return _0x480035?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x216a32}),_0x216a32):_0x1180bb;}static['_keep'](_0x40f49e){for(let _0x4e3525=-0x11c4+-0x1*0x2229+0x33ed;_0x4e3525<_0x40f49e['length'];_0x4e3525++)if(!_0x40f49e[_0x4e3525]['keep'])return!(0x18a7+0x44*0x71+-0x36aa);return!(0x1*0x932+-0x2*-0x17b+-0xc28);}static['evaluate'](_0x3c2ff5,_0x486188){const _0x1d30fd=Zv['exec'](_0x3c2ff5)===null;v['assert'](_0x1d30fd,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x3c2ff5);let _0x1384c0=!(0xc38+-0xfb+-0xb3c);const _0x25eebb=Yv['exec'](_0x3c2ff5);_0x25eebb&&(_0x1384c0=_0x25eebb[-0x9e*-0x22+0x713*0x2+0x2321*-0x1]==='!',_0x3c2ff5=_0x25eebb[0x1390+0x17d4+-0x9*0x4d2]);const _0x5a0f9b=Kv['exec'](_0x3c2ff5);if(_0x5a0f9b){const _0x342ddf=_0x486188['get'](_0x5a0f9b[0x52b*0x1+0x43*-0x89+-0x369*-0x9])??_0x5a0f9b[-0x1*0x2377+-0xb*-0x24a+-0x525*-0x2],_0x50f7d2=_0x486188['get'](_0x5a0f9b[-0x71e+0x6*0x77+0x457])??_0x5a0f9b[0x567*0x6+-0x114a+0x49*-0x35],_0x377334=_0x5a0f9b[0x974+0x3*0x1f6+-0xf54];let _0x4f2b48=!(0x1f36+0x7*-0x2b3+-0xc50);switch(_0x377334){case'==':_0x4f2b48=_0x342ddf===_0x50f7d2;break;case'!=':_0x4f2b48=_0x342ddf!==_0x50f7d2;break;case'<':_0x4f2b48=_0x342ddf<_0x50f7d2;break;case'<=':_0x4f2b48=_0x342ddf<=_0x50f7d2;break;case'>':_0x4f2b48=_0x342ddf>_0x50f7d2;break;case'>=':_0x4f2b48=_0x342ddf>=_0x50f7d2;break;}return{'result':_0x4f2b48,'error':!_0x1d30fd};}_0x3c2ff5=_0x3c2ff5['trim']();let _0x13cff2=_0x486188['has'](_0x3c2ff5);return _0x1384c0&&(_0x13cff2=!_0x13cff2),{'result':_0x13cff2,'error':!_0x1d30fd};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x8127ee,_0x2161fc){v['assert'](_0x2161fc),v['assert'](!_0x2161fc['vertexDefi'+'nes']||_0x2161fc['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x2161fc['vertexIncl'+'udes']||_0x2161fc['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x2161fc['fragmentDe'+'fines']||_0x2161fc['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x2161fc['fragmentIn'+'cludes']||_0x2161fc['fragmentIn'+'cludes']instanceof Map);const _0x20cd4b=(_0x43d0fc,_0x3df6a8,_0x16c956,_0x55ec0c)=>{const _0x354281=_0x8127ee['isWebGPU']?_0x43d0fc:_0x3df6a8;let _0x460690='';if(!_0x16c956){let _0x46de52=_0x55ec0c['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x46de52)||(_0x46de52=[_0x46de52]);for(let _0x2142d4=0x1fa9+0x1*-0x1c0c+-0x39d;_0x2142d4<_0x8127ee['maxColorAt'+'tachments'];_0x2142d4++){_0x460690+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x2142d4+'\x0a';const _0x4f1fb6=_0x46de52[_0x2142d4]??'vec4';_0x460690+='#define\x20ou'+'tType_'+_0x2142d4+'\x20'+_0x4f1fb6+'\x0a';}}return _0x460690+_0x354281;},_0x52a9cd=_0x2161fc['name']??'Untitled';let _0x5854b3,_0x105eed;return _0x2161fc['shaderLang'+'uage']===Ph?(_0x5854b3=_0x2161fc['vertexCode'],_0x105eed=_0x2161fc['fragmentCo'+'de']):(_0x5854b3=Mt['versionCod'+'e'](_0x8127ee)+_0x20cd4b(s0,e0,!(0x357+0x366+-0x6bd),_0x2161fc)+Mt['getDefines'+'Code'](_0x2161fc['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x8127ee)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x52a9cd)+_0x2161fc['vertexCode'],_0x105eed=(_0x2161fc['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x8127ee)+_0x20cd4b(t0,Jy,!(-0xb20+0x752*0x4+-0x1227),_0x2161fc)+Mt['getDefines'+'Code'](_0x2161fc['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x8127ee)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x52a9cd)+(_0x2161fc['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x52a9cd,'shaderLanguage':_0x2161fc['shaderLang'+'uage']??ky,'attributes':_0x2161fc['attributes'],'vshader':_0x5854b3,'vincludes':_0x2161fc['vertexIncl'+'udes'],'fincludes':_0x2161fc['fragmentIn'+'cludes'],'fshader':_0x105eed,'useTransformFeedback':_0x2161fc['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x2161fc['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x2161fc['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x5e8b5e){let _0x1734d4='';return _0x5e8b5e==null||_0x5e8b5e['forEach']((_0x55e185,_0x5892a1)=>{_0x1734d4+='#define\x20'+_0x5892a1+'\x20'+_0x55e185+'\x0a';}),_0x1734d4;}static['getShaderN'+'ameCode'](_0x4abf21){return'#define\x20SH'+'ADER_NAME\x20'+_0x4abf21+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x16967d){return _0x16967d['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x1d6ee2,_0x3b2419){_0x3b2419&&_0x3b2419!=='highp'&&_0x3b2419!=='mediump'&&_0x3b2419!=='lowp'&&(_0x3b2419=null),_0x3b2419&&(_0x3b2419==='highp'&&_0x1d6ee2['maxPrecisi'+'on']!=='highp'&&(_0x3b2419='mediump'),_0x3b2419==='mediump'&&_0x1d6ee2['maxPrecisi'+'on']==='lowp'&&(_0x3b2419='lowp'));const _0xf32dec=_0x3b2419||_0x1d6ee2['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0xf32dec+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0xf32dec+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0xf32dec+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0xf32dec+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0xf32dec+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0xf32dec+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0xf32dec+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x320ab8){const _0x2f3584={};let _0x321255=-0x1319+-0x34e+0x1667,_0x42ce78=_0x320ab8['indexOf']('attribute');for(;_0x42ce78>=-0x24ef+0x14cd+0x1022&&!(_0x42ce78>-0x1*0x11ed+0x49*0x76+-0xfb9&&_0x320ab8[_0x42ce78-(-0x1c+-0x11cd+-0x11ea*-0x1)]==='/');){let _0x3580d9=!(0x2*0x1303+-0x4de*0x6+-0x8d1);if(_0x42ce78>-0xa7*-0x3b+0xe08+-0x3485){let _0x3e53e8=_0x320ab8['lastIndexO'+'f']('\x0a',_0x42ce78);_0x3e53e8=_0x3e53e8!==-(0xb*0x82+-0x270*-0x8+-0x1*0x1915)?_0x3e53e8+(0x172c+0x2555+-0x3c80):-0x1049+0x3*-0xa8b+0x17f5*0x2,_0x320ab8['substring'](_0x3e53e8,_0x42ce78)['includes']('#')&&(_0x3580d9=!(-0x6b2+-0x1*-0xf7e+-0x8cc*0x1));}if(!_0x3580d9){const _0x31ce6a=_0x320ab8['indexOf'](';',_0x42ce78),_0x3f1149=_0x320ab8['lastIndexO'+'f']('\x20',_0x31ce6a),_0x1a9ba6=_0x320ab8['substring'](_0x3f1149+(0x214e+0x1ba1+-0x3cee),_0x31ce6a);if(_0x2f3584[_0x1a9ba6])v['warn']('Attribute\x20'+'['+_0x1a9ba6+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x320ab8});else{const _0x5791ae=Qv[_0x1a9ba6];_0x5791ae!==void(0x258f+0xb2*0x1a+0x1*-0x37a3)?_0x2f3584[_0x1a9ba6]=_0x5791ae:(_0x2f3584[_0x1a9ba6]='ATTR'+_0x321255,_0x321255++);}}_0x42ce78=_0x320ab8['indexOf']('attribute',_0x42ce78+(0xf41+0x13d*-0x10+0x490));}return _0x2f3584;}}let Jv=-0x198a+0x425+0x1565;class i0{constructor(_0x30a0d7,_0x5b7c11){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x30a0d7,this['definition']=_0x5b7c11,this['name']=_0x5b7c11['name']||'Untitled',this['init'](),_0x5b7c11['cshader'])v['assert'](_0x30a0d7['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x5b7c11['vshader']&&!_0x5b7c11['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x5b7c11['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x5b7c11['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x5b7c11['vshader']=Oh['run'](_0x5b7c11['vshader'],_0x5b7c11['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x5b7c11['shaderLang'+'uage']===ky&&(_0x5b7c11['attributes']??(_0x5b7c11['attributes']=Mt['collectAtt'+'ributes'](_0x5b7c11['vshader'])));const _0x2951fd=_0x30a0d7['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x5b7c11['fshader']=Oh['run'](_0x5b7c11['fshader'],_0x5b7c11['fincludes'],{'stripUnusedColorAttachments':_0x2951fd,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x30a0d7['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x9d*-0x34+-0x35b*-0x5+-0x30aa*0x1),this['failed']=!(-0x552+-0x378+0x8cb*0x1);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[Ws]=function(_0x14d3b8,_0x1144c3,_0x13b467){const _0x5396bf=_0x14d3b8['storageFlo'+'at32'];_0x5396bf[_0x13b467]=_0x1144c3;},Te[or]=(_0x2e0ff0,_0x45ce2a,_0x55e849)=>{const _0x101ad1=_0x2e0ff0['storageFlo'+'at32'];_0x101ad1[_0x55e849]=_0x45ce2a[0x1*0x16bf+-0x192b+0x26c],_0x101ad1[_0x55e849+(0x1*-0x623+-0x15d7*0x1+0x1bfb)]=_0x45ce2a[0x9b3*0x1+-0x1fd8+0x1626];},Te[Wt]=(_0x1e8d7f,_0x13a7ed,_0x507231)=>{const _0x50e3b2=_0x1e8d7f['storageFlo'+'at32'];_0x50e3b2[_0x507231]=_0x13a7ed[-0x1181+0x2342+0xf*-0x12f],_0x50e3b2[_0x507231+(0xd68+-0x5*0x6ad+-0x2*-0x9fd)]=_0x13a7ed[0x1*0x20bb+-0x22cb+0x211],_0x50e3b2[_0x507231+(-0xdf0+-0x7cf*-0x3+-0x97b)]=_0x13a7ed[-0xc27*-0x3+0x22b0+-0x4723];},Te[xa]=(_0x33d697,_0x3415ac,_0x4d8304)=>{const _0x5d3ad8=_0x33d697['storageFlo'+'at32'];_0x5d3ad8[_0x4d8304]=_0x3415ac[0x1ca7+-0x2456+0x7af],_0x5d3ad8[_0x4d8304+(0xb8c+0x1ab*0x1+-0xd36)]=_0x3415ac[0x28*-0x27+-0x1e93+0x24ac],_0x5d3ad8[_0x4d8304+(0x2675+0x1ef1+-0x4564)]=_0x3415ac[0x1*0x40+-0x19cf*-0x1+0x75*-0x39],_0x5d3ad8[_0x4d8304+(0x701*-0x1+-0x1c70+-0x4*-0x8dd)]=_0x3415ac[0x3f4+0x43*0x94+-0x889*0x5];},Te[ln]=function(_0x3b0fa4,_0x329b84,_0x1d86ff){const _0x3901b1=_0x3b0fa4['storageInt'+'32'];_0x3901b1[_0x1d86ff]=_0x329b84;},Te[Zr]=function(_0x11427b,_0xba0a65,_0x375be5){const _0x579642=_0x11427b['storageInt'+'32'];_0x579642[_0x375be5]=_0xba0a65[0x3a1*0x1+-0x1*-0x139f+-0x10*0x174],_0x579642[_0x375be5+(0xe29+-0xf*0x11b+-0x17*-0x1b)]=_0xba0a65[0x11*-0x1dd+-0x349+0x22f7*0x1];},Te[Qr]=function(_0x523ff2,_0x4a9fe7,_0xcc1593){const _0x71090d=_0x523ff2['storageInt'+'32'];_0x71090d[_0xcc1593]=_0x4a9fe7[0x2060+0x172d+-0x378d],_0x71090d[_0xcc1593+(0x6a2+-0x1*-0x5d9+0xc7a*-0x1)]=_0x4a9fe7[0x28*-0x71+-0x1ee7+-0x1*-0x3090],_0x71090d[_0xcc1593+(0x1940+0x7f0*-0x3+0x3d*-0x6)]=_0x4a9fe7[-0x74a+0x2*-0xa27+0x1b9a];},Te[Jr]=function(_0x1c9f68,_0x484325,_0x4a5eff){const _0xaf0fad=_0x1c9f68['storageInt'+'32'];_0xaf0fad[_0x4a5eff]=_0x484325[0x938+-0x1*0xb29+-0x47*-0x7],_0xaf0fad[_0x4a5eff+(-0x373*0x8+0x1*0x20ef+-0x556)]=_0x484325[0x93c+0x7*-0x3f8+-0x128d*-0x1],_0xaf0fad[_0x4a5eff+(0x2*-0x39b+0x82b+-0xf3)]=_0x484325[0x32*0x62+0x3ae+-0x16d0],_0xaf0fad[_0x4a5eff+(-0x1f08+0x1e4e+-0x1*-0xbd)]=_0x484325[-0x35f*-0x8+0x1*0x1c85+0x6*-0x93f];},Te[Rh]=(_0x1980f3,_0x51983b,_0x44aef7)=>{const _0x28fa09=_0x1980f3['storageFlo'+'at32'];_0x28fa09[_0x44aef7]=_0x51983b[0xd4+-0x215b*0x1+0x2087],_0x28fa09[_0x44aef7+(0x3f+-0x6*0x116+-0x2*-0x323)]=_0x51983b[-0xd27+-0x25e5*0x1+-0x74b*-0x7],_0x28fa09[_0x44aef7+(0x151c+0x411*0x6+-0x2d7e)]=_0x51983b[0x19d2+-0x1*0xc20+-0xdb0],_0x28fa09[_0x44aef7+(0x21fd+-0x1c8+0xce*-0x28)]=_0x51983b[0xa81+-0xdc5+0x347],_0x28fa09[_0x44aef7+(0x899+-0x1f3*-0xc+-0x1ff5)]=_0x51983b[0x5e6+-0x12c1*-0x1+-0x18a3],_0x28fa09[_0x44aef7+(-0x221*-0x3+-0x13f7+0x55*0x29)]=_0x51983b[-0x1150+0x16b5+-0x560];},Te[ko]=(_0x33fcd3,_0x3e9a1b,_0xe5d4df)=>{const _0x543d45=_0x33fcd3['storageFlo'+'at32'];_0x543d45[_0xe5d4df]=_0x3e9a1b[-0x3*-0x330+0x1730+-0x20c*0x10],_0x543d45[_0xe5d4df+(-0x1826*-0x1+-0x2293+0x1*0xa6e)]=_0x3e9a1b[-0x1*0x1d55+0x18fe+0x1*0x458],_0x543d45[_0xe5d4df+(-0x1ec8+0xc87*-0x1+0x2b51)]=_0x3e9a1b[-0x1*0x2042+0x1a*0x6e+0x1518],_0x543d45[_0xe5d4df+(0x48d*-0x4+0x23b1+-0x1179)]=_0x3e9a1b[-0x17*0xdb+-0x3*-0x7+-0x2cd*-0x7],_0x543d45[_0xe5d4df+(0x2332+-0x1c8f+-0x34f*0x2)]=_0x3e9a1b[0x7f*-0x17+-0x62*-0x1b+-0x1f*-0x9],_0x543d45[_0xe5d4df+(0xacc*-0x2+-0x7df+-0x1d7d*-0x1)]=_0x3e9a1b[-0x88a*-0x3+0x12c9+-0x2c62],_0x543d45[_0xe5d4df+(0x7*-0x14f+-0x2605+0x2f36*0x1)]=_0x3e9a1b[-0x1c3c*0x1+-0xb1+0x1cf3*0x1],_0x543d45[_0xe5d4df+(-0xbf*-0xb+0x2*0x60d+-0x15a*0xf)]=_0x3e9a1b[0x3fc+-0x2e5*-0x1+-0x6da*0x1],_0x543d45[_0xe5d4df+(0xb17*-0x1+-0x20d3+0x1d*0x184)]=_0x3e9a1b[-0x22e+-0x1eba+0x20f0];},Te[Dc]=function(_0x49cb50,_0x3e0bdc,_0x136fb1,_0x3a46e1){const _0x4b25a3=_0x49cb50['storageFlo'+'at32'];for(let _0x4add56=-0x2181*0x1+-0x1*-0x7ef+0x1992;_0x4add56<_0x3a46e1;_0x4add56++)_0x4b25a3[_0x136fb1+_0x4add56*(0xd4*0x24+-0x1315+-0xab7)]=_0x3e0bdc[_0x4add56];},Te[Lc]=(_0x3f80c5,_0x2550a5,_0x3848a7,_0x5ded14)=>{const _0x2cd2bd=_0x3f80c5['storageFlo'+'at32'];for(let _0x5adb37=0xb5c*0x3+0x269*0xe+-0x43d2;_0x5adb37<_0x5ded14;_0x5adb37++)_0x2cd2bd[_0x3848a7+_0x5adb37*(0x6b*-0xc+0x1af*-0x3+-0x1d*-0x59)]=_0x2550a5[_0x5adb37*(-0x1781*0x1+-0x3*0xcd7+-0x4*-0xf82)],_0x2cd2bd[_0x3848a7+_0x5adb37*(0x2003+-0xc11+0x9f7*-0x2)+(-0x1a96+-0xca6+0x273d)]=_0x2550a5[_0x5adb37*(-0x2621+-0x2*0xa32+0x3a87)+(0x81f+-0x1065+-0xd*-0xa3)];},Te[Fc]=(_0x216d9e,_0x4fcfd4,_0x1fdd60,_0x51c0d3)=>{const _0x4306ce=_0x216d9e['storageFlo'+'at32'];for(let _0x16a8c2=-0x2*0x2bd+-0x1ae2+0x205c;_0x16a8c2<_0x51c0d3;_0x16a8c2++)_0x4306ce[_0x1fdd60+_0x16a8c2*(0x231a+0x21ca+-0x44e0)]=_0x4fcfd4[_0x16a8c2*(-0x2672+0x1829+0xe4c)],_0x4306ce[_0x1fdd60+_0x16a8c2*(-0xf7e+-0x1*-0x1eac+0x3*-0x50e)+(0x1*0x77+-0x1*-0xe9+-0x15f)]=_0x4fcfd4[_0x16a8c2*(-0x26ad+0x22b5+-0x1*-0x3fb)+(0x1*-0xa5e+0x5*0x185+-0x8e*-0x5)],_0x4306ce[_0x1fdd60+_0x16a8c2*(0x1ca9+0x20b0+-0x3d55)+(0x5*0x504+0x1381+0x2c93*-0x1)]=_0x4fcfd4[_0x16a8c2*(-0x2*-0xdbd+0x261b+-0xe*0x4af)+(-0x1b*-0x1c+-0x6*-0x30f+0x2f*-0x74)];},Te[va]=(_0x574b39,_0x432922,_0x19eb71,_0x17ae96)=>{const _0x15808a=_0x574b39['storageUin'+'t32'];_0x15808a[_0x19eb71]=_0x432922;},Te[ba]=(_0x2035e2,_0x302380,_0x51fdee,_0xa8f189)=>{const _0x5d219e=_0x2035e2['storageUin'+'t32'];_0x5d219e[_0x51fdee]=_0x302380[0x1f3b+0xa5*-0x4+-0x1ca7],_0x5d219e[_0x51fdee+(0x1b51+-0x1dbc+0x26c)]=_0x302380[0x16a7*-0x1+0x7f*0x1+0x1629];},Te[wa]=(_0x454d66,_0x224c8f,_0x31ba9d,_0x584ae6)=>{const _0x870dc5=_0x454d66['storageUin'+'t32'];_0x870dc5[_0x31ba9d]=_0x224c8f[-0x7d*-0x19+0x1a9a+-0x26cf],_0x870dc5[_0x31ba9d+(0x22a0+-0x6*0x41f+-0x9e5)]=_0x224c8f[-0x3*-0x33+0x2*0x12b5+0x79a*-0x5],_0x870dc5[_0x31ba9d+(0x21e*0x2+-0x4dd*0x7+0x11*0x1c1)]=_0x224c8f[0x14a1*0x1+0x22*0x4+-0x1527];},Te[Ta]=(_0x422bfd,_0x116cd9,_0x1766fd,_0x162f5e)=>{const _0x286ad5=_0x422bfd['storageUin'+'t32'];_0x286ad5[_0x1766fd]=_0x116cd9[-0x9*0x195+0x23ff+0x15c2*-0x1],_0x286ad5[_0x1766fd+(0x1*-0x383+-0x14ea+0x186e)]=_0x116cd9[-0x1*-0x89+-0x4*0x134+0x448],_0x286ad5[_0x1766fd+(-0x1f98+-0x15d5+0x356f)]=_0x116cd9[0x186f+-0x1f*-0x7f+-0x27ce],_0x286ad5[_0x1766fd+(-0x13f7+0x901+0xaf9)]=_0x116cd9[-0x24e6+-0x1681+0x3b6a];},Te[Aa]=function(_0xb8f411,_0x3e4847,_0x1484d4,_0x151b51){const _0x52582f=_0xb8f411['storageInt'+'32'];for(let _0x3b3b3f=-0x13*0xf1+0x10d6+-0x10d*-0x1;_0x3b3b3f<_0x151b51;_0x3b3b3f++)_0x52582f[_0x1484d4+_0x3b3b3f*(0xfd*0x19+-0xf7e+-0x933*0x1)]=_0x3e4847[_0x3b3b3f];},Te[kc]=Te[Aa],Te[Oc]=function(_0x5de022,_0x16d84c,_0x56f295,_0x464fd1){const _0x149eed=_0x5de022['storageUin'+'t32'];for(let _0x30e54c=0x10e8+0x1f13+0x1*-0x2ffb;_0x30e54c<_0x464fd1;_0x30e54c++)_0x149eed[_0x56f295+_0x30e54c*(0x214c+-0x1393+-0xdb5)]=_0x16d84c[_0x30e54c];},Te[Ea]=(_0x47035e,_0x151171,_0x22cadb,_0x4cfa16)=>{const _0x2dd1dc=_0x47035e['storageInt'+'32'];for(let _0x506e44=0x131d+-0xa7*-0x33+-0x3462;_0x506e44<_0x4cfa16;_0x506e44++)_0x2dd1dc[_0x22cadb+_0x506e44*(-0x21a1*0x1+0x2c*0xdf+-0x4af)]=_0x151171[_0x506e44*(-0x2*-0xed7+0x5*0x7f+0x2027*-0x1)],_0x2dd1dc[_0x22cadb+_0x506e44*(0x84a+0x2240+-0x2a86)+(0xed5+-0x8ca*-0x2+-0x2068)]=_0x151171[_0x506e44*(0x3b*0x7e+-0x67*0x54+0x4c4*0x1)+(-0xd*0x97+-0x2*-0xb56+0x60*-0x28)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x3b0f96,_0x572c6f,_0x7cdf7a,_0x31fc18)=>{const _0x31efe5=_0x3b0f96['storageUin'+'t32'];for(let _0x53768c=-0x8e*-0x13+-0x2619+0x11*0x19f;_0x53768c<_0x31fc18;_0x53768c++)_0x31efe5[_0x7cdf7a+_0x53768c*(-0x1*0x1231+0x1813+0x1*-0x5de)]=_0x572c6f[_0x53768c*(0xb*0x38b+0xbe7+-0x32de)],_0x31efe5[_0x7cdf7a+_0x53768c*(-0x120e*-0x1+-0xf60+-0x3e*0xb)+(0x107e+0x191*0xf+-0x27fc*0x1)]=_0x572c6f[_0x53768c*(0x1a2f+0x190e+-0x3d*0xd7)+(0x365+-0x145*0x9+0xb*0xbb)];},Te[Ca]=(_0x8ae788,_0x5ebab8,_0x9edff3,_0x48ce6f)=>{const _0x33cfd0=_0x8ae788['storageInt'+'32'];for(let _0x526150=0xc1c+0x2315+0xfbb*-0x3;_0x526150<_0x48ce6f;_0x526150++)_0x33cfd0[_0x9edff3+_0x526150*(0x25f1+0x79b*0x3+-0x3cbe)]=_0x5ebab8[_0x526150*(0x837+0x5*0x215+0x5*-0x3b9)],_0x33cfd0[_0x9edff3+_0x526150*(0x15f1+-0x12b4+-0x339)+(0x1aeb+-0x5*0x236+-0xfdc)]=_0x5ebab8[_0x526150*(-0x409*-0x2+0x259*0x5+-0x13cc)+(-0x49*0x2c+0x1*0x1657+-0xe*0xb3)],_0x33cfd0[_0x9edff3+_0x526150*(0x7a*-0x1f+0xa5b+-0x1*-0x46f)+(-0x1*0x54e+0x2474+0x4*-0x7c9)]=_0x5ebab8[_0x526150*(-0x1870+0x19*-0x14f+0x392a)+(0x18e+0x31*0x9a+-0x1f06)];},Te[Uc]=Te[Ca],Te[zc]=(_0x3e93a0,_0x5b502a,_0x1c4a1a,_0x26b7f3)=>{const _0x192d5f=_0x3e93a0['storageUin'+'t32'];for(let _0x48882f=0xa70+-0x19*0x1+0xa57*-0x1;_0x48882f<_0x26b7f3;_0x48882f++)_0x192d5f[_0x1c4a1a+_0x48882f*(-0x1*0x2510+0x2439+0xdb)]=_0x5b502a[_0x48882f*(-0x17af+0x654+-0x1*-0x115e)],_0x192d5f[_0x1c4a1a+_0x48882f*(-0x92f+0x1a31*-0x1+0x2364)+(-0x93d+-0x1*-0x1633+-0xcf5)]=_0x5b502a[_0x48882f*(-0x1b2*-0x1+0x505+0x23c*-0x3)+(-0xd25+-0x9eb+0x1711)],_0x192d5f[_0x1c4a1a+_0x48882f*(-0xd2a+-0x1*-0x113f+-0x411)+(-0xa3*0x35+0x24*-0x1f+0x261d)]=_0x5b502a[_0x48882f*(0x1*0x19a8+-0x1b61+0x1bc)+(0xe2*-0xe+-0x22*0x17+-0x11a*-0xe)];};class gp{constructor(_0xb05bce,_0x1829ec,_0x248414=!(0x1ba2+-0xb79+0x7*-0x24f)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',0x115a+0x3e6*-0x3+-0x2d4*0x2);if(this['device']=_0xb05bce,this['format']=_0x1829ec,this['persistent']=_0x248414,v['assert'](_0x1829ec),_0x248414){this['impl']=_0xb05bce['createUnif'+'ormBufferI'+'mpl'](this);const _0x58d97b=new ArrayBuffer(_0x1829ec['byteSize']);this['assignStor'+'age'](new Int32Array(_0x58d97b)),_0xb05bce['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x58803d=this['device'];this['impl']['destroy'](_0x58803d),_0x58803d['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x1af1*0x1+0x3*0x64b+-0x2dd2:this['allocation']['offset'];}['assignStor'+'age'](_0x32d100){this['storageInt'+'32']=_0x32d100,this['storageUin'+'t32']=new Uint32Array(_0x32d100['buffer'],_0x32d100['byteOffset'],_0x32d100['byteLength']/(-0xad7+0x24c4+0x19e9*-0x1)),this['storageFlo'+'at32']=new Float32Array(_0x32d100['buffer'],_0x32d100['byteOffset'],_0x32d100['byteLength']/(0x6*-0x10d+0x16*0x15b+-0x1780));}['loseContex'+'t'](){var _0x4b07cb;(_0x4b07cb=this['impl'])==null||_0x4b07cb['loseContex'+'t']();}['setUniform'](_0xccf2e,_0x2c2f5d){v['assert'](_0xccf2e);const _0x4ad73d=_0xccf2e['offset'];if(_0x2c2f5d!=null){const _0x2757d9=Te[_0xccf2e['updateType']];_0x2757d9?_0x2757d9(this,_0x2c2f5d,_0x4ad73d,_0xccf2e['count']):this['storageFlo'+'at32']['set'](_0x2c2f5d,_0x4ad73d);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0xccf2e['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0xccf2e['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x3a9adc,_0x39e525){const _0x29935d=this['format']['map']['get'](_0x3a9adc);v['assert'](_0x29935d,'Uniform\x20na'+'me\x20['+_0x3a9adc+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x29935d&&this['setUniform'](_0x29935d,_0x39e525);}['startUpdat'+'e'](_0x5c1c8b){if(!this['persistent']){const _0x2d2ee4=this['allocation'],_0xf77053=_0x2d2ee4['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x2d2ee4,this['format']['byteSize']),this['assignStor'+'age'](_0x2d2ee4['storage']),_0x5c1c8b&&(_0x5c1c8b['bindGroup']=_0x2d2ee4['gpuBuffer']['getBindGro'+'up'](this),_0x5c1c8b['offsets'][0x2237+-0x90+0x1*-0x21a7]=_0x2d2ee4['offset']),_0xf77053!==_0x2d2ee4['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x51fbbc){this['startUpdat'+'e'](_0x51fbbc);const _0x117d25=this['format']['uniforms'];for(let _0x300f44=-0x1d1c+0x1e9a+-0x17e;_0x300f44<_0x117d25['length'];_0x300f44++){const _0x241da7=_0x117d25[_0x300f44]['scopeId']['value'];this['setUniform'](_0x117d25[_0x300f44],_0x241da7);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(0x2b*-0x49+-0x13e*-0x2+-0x1*-0x9c8)),c(this,'_enableReq'+'uest',!(0x248d+0x1*-0x146f+0xf*-0x113)),c(this,'_frameTime',-0x284+-0x4*-0xb1+-0x40);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x25a25f){this['_enableReq'+'uest']=_0x25a25f;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0xf7+0x299+-0x390));}['request'](_0x27a911){this['pastFrameA'+'llocations']['set'](_0x27a911,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x53ded7,_0x1a1c00){if(_0x1a1c00){const _0x3d8b40=this['pastFrameA'+'llocations']['get'](_0x53ded7);if(v['assert'](_0x3d8b40['length']===_0x1a1c00['length']),_0x1a1c00['length']>0x63*-0x9+-0x8e0*-0x1+-0x565*0x1&&(this['_frameTime']=_0x1a1c00[-0x254b+0x3d*0x19+0x1f56]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x53ded7+'\x20--');let _0x5629c5=-0x2b6*0x1+-0xed1+0x1187;for(let _0x343578=0x2*0x82d+0x21*0x88+-0x21e2;_0x343578<_0x3d8b40['length'];++_0x343578){const _0x4ab964=_0x3d8b40[_0x343578];_0x5629c5+=_0x1a1c00[_0x343578],v['trace'](ml,_0x1a1c00[_0x343578]['toFixed'](0x2281+0x5f*0x29+-0x31b6)+'\x20ms\x20'+_0x4ab964);}v['trace'](ml,_0x5629c5['toFixed'](0xd*0xd+-0x4*-0x6df+-0x1c23)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x53ded7);}['getSlot'](_0x511824){const _0x3b10ff=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x511824),_0x3b10ff;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x6aa1b5){this['bufferId']&&(_0x6aa1b5['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x553e77,_0x110c91,_0x2cf8da,_0x113d82){const _0xf42a39=_0x553e77['gl'];if(this['bufferId'])_0xf42a39['bindBuffer'](_0x2cf8da,this['bufferId']),_0xf42a39['bufferSubD'+'ata'](_0x2cf8da,-0x2a3*0x2+0x1cd*0x4+0x2*-0xf7,_0x113d82);else{let _0x210899;switch(_0x110c91){case jt:_0x210899=_0xf42a39['STATIC_DRA'+'W'];break;case Th:_0x210899=_0xf42a39['DYNAMIC_DR'+'AW'];break;case uy:_0x210899=_0xf42a39['STREAM_DRA'+'W'];break;case PS:_0x210899=_0xf42a39['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0xf42a39['createBuff'+'er'](),_0xf42a39['bindBuffer'](_0x2cf8da,this['bufferId']),_0xf42a39['bufferData'](_0x2cf8da,_0x113d82,_0x210899);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x52e553){super['destroy'](_0x52e553),_0x52e553['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x1a3653){const _0x40d541=_0x1a3653['device'];super['unlock'](_0x40d541,_0x1a3653['usage'],_0x40d541['gl']['ARRAY_BUFF'+'ER'],_0x1a3653['storage']);}}class ib extends r0{constructor(_0x3b6f11){super();const _0x188846=_0x3b6f11['device']['gl'],_0x253199=_0x3b6f11['format'];_0x253199===pu?this['glFormat']=_0x188846['UNSIGNED_B'+'YTE']:_0x253199===Pi?this['glFormat']=_0x188846['UNSIGNED_S'+'HORT']:_0x253199===nr&&(this['glFormat']=_0x188846['UNSIGNED_I'+'NT']);}['unlock'](_0x2bdf91){const _0x5aaff7=_0x2bdf91['device'];super['unlock'](_0x5aaff7,_0x2bdf91['usage'],_0x5aaff7['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x2bdf91['storage']);}}class Mm{constructor(_0x29e163,_0x2b6bec,_0x54b16f,_0x22de87){if(this['locationId']=_0x22de87,this['scopeId']=_0x29e163['scope']['resolve'](_0x2b6bec),this['version']=new Ky(),_0x2b6bec['substring'](_0x2b6bec['length']-(-0x2*-0x129b+-0x2524+-0x5*0x3))==='[0]')switch(_0x54b16f){case Ws:_0x54b16f=Dc;break;case ln:_0x54b16f=Aa;break;case va:_0x54b16f=Oc;break;case ca:_0x54b16f=kc;break;case or:_0x54b16f=Lc;break;case Zr:_0x54b16f=Ea;break;case ba:_0x54b16f=Bc;break;case Lo:_0x54b16f=Nc;break;case Wt:_0x54b16f=Fc;break;case Qr:_0x54b16f=Ca;break;case wa:_0x54b16f=zc;break;case Fo:_0x54b16f=Uc;break;case xa:_0x54b16f=lp;break;case Jr:_0x54b16f=Ih;break;case Ta:_0x54b16f=hp;break;case Oo:_0x54b16f=cp;break;}this['dataType']=_0x54b16f,this['value']=[null,null,null,null],this['array']=[];}}let Pm=-0x11d5+-0x4*0x125+0x1669;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x50045c){this['map']['forEach'](_0x5ef1f1=>{_0x50045c['gl']['deleteShad'+'er'](_0x5ef1f1);});}['loseContex'+'t'](_0xa491d3){this['map']['clear']();}}const ab=new kt(),ob=new kt();class lb{constructor(_0x2c2e34){c(this,'compileDur'+'ation',-0xbf3*-0x2+0xcc1+0x1*-0x24a7),(this['init'](),this['compile'](_0x2c2e34['device'],_0x2c2e34),this['link'](_0x2c2e34['device'],_0x2c2e34),_0x2c2e34['device']['shaders']['push'](_0x2c2e34));}['destroy'](_0x20ea47){this['glProgram']&&(_0x20ea47['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x27a318,_0x136e8b){this['compile'](_0x27a318,_0x136e8b),this['link'](_0x27a318,_0x136e8b);}['compile'](_0x27d946,_0x3d5e6d){const _0x3e2757=_0x3d5e6d['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x27d946,_0x3e2757['vshader'],!(0xef4+0x1401+-0x13*0x1d7)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x27d946,_0x3e2757['fshader'],!(0xc9*0xa+0x59*-0x5+-0x61c));}['link'](_0x21fe64,_0x4c62d5){if(this['glProgram'])return;const _0x35b9ca=_0x21fe64['gl'];if(_0x35b9ca['isContextL'+'ost']())return;let _0x34d55=0x2e*0x4+-0x177b*-0x1+0x15*-0x127;v['call'](()=>{this['compileDur'+'ation']=-0xc*0x2bd+-0x30*-0x34+0x171c,_0x34d55=ne();});const _0x3402a6=_0x35b9ca['createProg'+'ram']();this['glProgram']=_0x3402a6,_0x35b9ca['attachShad'+'er'](_0x3402a6,this['glVertexSh'+'ader']),_0x35b9ca['attachShad'+'er'](_0x3402a6,this['glFragment'+'Shader']);const _0x1b55ec=_0x4c62d5['definition'],_0x51c5d8=_0x1b55ec['attributes'];if(_0x1b55ec['useTransfo'+'rmFeedback']){const _0x3eb401=[];for(const _0x26af67 in _0x51c5d8)_0x51c5d8['hasOwnProp'+'erty'](_0x26af67)&&_0x3eb401['push']('out_'+_0x26af67);_0x35b9ca['transformF'+'eedbackVar'+'yings'](_0x3402a6,_0x3eb401,_0x35b9ca['INTERLEAVE'+'D_ATTRIBS']);}const _0x1835d8={};for(const _0x36ad42 in _0x51c5d8)if(_0x51c5d8['hasOwnProp'+'erty'](_0x36ad42)){const _0x198599=_0x51c5d8[_0x36ad42],_0x309004=ve[_0x198599];v['assert'](!_0x1835d8['hasOwnProp'+'erty'](_0x309004),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x1835d8[_0x309004]+'\x20and\x20'+_0x36ad42),_0x1835d8[_0x309004]=_0x36ad42,_0x35b9ca['bindAttrib'+'Location'](_0x3402a6,_0x309004,_0x36ad42);}_0x35b9ca['linkProgra'+'m'](_0x3402a6),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x34d55;}),_0x21fe64['_shaderSta'+'ts']['linked']++,_0x1b55ec['tag']===Ly&&_0x21fe64['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x4abf7a,_0x54a4c0,_0x5baeda){const _0x1bdd6a=_0x4abf7a['gl'];if(_0x1bdd6a['isContextL'+'ost']())return null;const _0x5cf82a=(_0x5baeda?ab:ob)['get'](_0x4abf7a,()=>new nb());let _0x58b219=_0x5cf82a['map']['get'](_0x54a4c0);if(!_0x58b219){const _0x21654d=ne();_0x4abf7a['fire']('shader:com'+'pile:start',{'timestamp':_0x21654d,'target':_0x4abf7a}),_0x58b219=_0x1bdd6a['createShad'+'er'](_0x5baeda?_0x1bdd6a['VERTEX_SHA'+'DER']:_0x1bdd6a['FRAGMENT_S'+'HADER']),_0x1bdd6a['shaderSour'+'ce'](_0x58b219,_0x54a4c0),_0x1bdd6a['compileSha'+'der'](_0x58b219),_0x5cf82a['map']['set'](_0x54a4c0,_0x58b219);const _0xda9feb=ne();_0x4abf7a['fire']('shader:com'+'pile:end',{'timestamp':_0xda9feb,'target':_0x4abf7a}),_0x4abf7a['_shaderSta'+'ts']['compileTim'+'e']+=_0xda9feb-_0x21654d,_0x5baeda?_0x4abf7a['_shaderSta'+'ts']['vsCompiled']++:_0x4abf7a['_shaderSta'+'ts']['fsCompiled']++;}return _0x58b219;}['finalize'](_0x59c8b5,_0x2e12aa){var _0x3a4ee6,_0x5c8cd6;const _0x25c2d0=_0x59c8b5['gl'];if(_0x25c2d0['isContextL'+'ost']())return!(0x19d3*0x1+0x1f99*0x1+-0x396c);const _0x523241=this['glProgram'],_0x21243a=_0x2e12aa['definition'],_0x2396a7=ne();_0x59c8b5['fire']('shader:lin'+'k:start',{'timestamp':_0x2396a7,'target':_0x59c8b5});let _0x1368d0=-0x26bb+0xe6a+0x1851;if(v['call'](()=>{_0x1368d0=ne();}),!_0x25c2d0['getProgram'+'Parameter'](_0x523241,_0x25c2d0['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x59c8b5,_0x2e12aa,this['glVertexSh'+'ader'],_0x21243a['vshader'],'vertex')||!this['_isCompile'+'d'](_0x59c8b5,_0x2e12aa,this['glFragment'+'Shader'],_0x21243a['fshader'],'fragment'))return!(0x5ab*0x2+0x3*0x48b+-0x18f6);const _0x4d9adf='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x25c2d0['getProgram'+'InfoLog'](_0x523241);return _0x21243a['translated'+'Frag']=(_0x3a4ee6=_0x25c2d0['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x526*-0x7+-0xd65+-0x16a5):_0x3a4ee6['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x21243a['translated'+'Vert']=(_0x5c8cd6=_0x25c2d0['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x1*0xa6c+0x1*0x5c9+-0x1*-0x4a3):_0x5c8cd6['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x4d9adf,_0x21243a),console['error'](_0x4d9adf),!(-0xca0+0x1*0x11d1+-0xa6*0x8);}const _0x403dfb=_0x25c2d0['getProgram'+'Parameter'](_0x523241,_0x25c2d0['ACTIVE_ATT'+'RIBUTES']);for(let _0x802215=0x2541+-0xbd0+-0x1971;_0x802215<_0x403dfb;_0x802215++){const _0x377cbb=_0x25c2d0['getActiveA'+'ttrib'](_0x523241,_0x802215),_0x35d712=_0x25c2d0['getAttribL'+'ocation'](_0x523241,_0x377cbb['name']);if(!rb['has'](_0x377cbb['name'])){if(_0x21243a['attributes'][_0x377cbb['name']]===void(-0x3b*-0x21+0xd30+0x14cb*-0x1))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x377cbb['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x2e12aa['label']+']',_0x2e12aa),_0x2e12aa['failed']=!(0x56c+0xd3f*0x1+-0x12ab);else{const _0x108d2b=new Mm(_0x59c8b5,_0x21243a['attributes'][_0x377cbb['name']],_0x59c8b5['pcUniformT'+'ype'][_0x377cbb['type']],_0x35d712);this['attributes']['push'](_0x108d2b);}}}const _0x18e983=_0x59c8b5['_samplerTy'+'pes'],_0x151645=_0x25c2d0['getProgram'+'Parameter'](_0x523241,_0x25c2d0['ACTIVE_UNI'+'FORMS']);for(let _0x19e595=-0x164*-0xd+-0x298+-0x4*0x3df;_0x19e595<_0x151645;_0x19e595++){const _0x4a66d2=_0x25c2d0['getActiveU'+'niform'](_0x523241,_0x19e595),_0x5e4de3=_0x25c2d0['getUniform'+'Location'](_0x523241,_0x4a66d2['name']),_0x460068=new Mm(_0x59c8b5,_0x4a66d2['name'],_0x59c8b5['pcUniformT'+'ype'][_0x4a66d2['type']],_0x5e4de3);_0x18e983['has'](_0x4a66d2['type'])?this['samplers']['push'](_0x460068):this['uniforms']['push'](_0x460068);}_0x2e12aa['ready']=!(0x4c8+0x21f*0x3+-0xb25);const _0x13d3a3=ne();return _0x59c8b5['fire']('shader:lin'+'k:end',{'timestamp':_0x13d3a3,'target':_0x59c8b5}),_0x59c8b5['_shaderSta'+'ts']['compileTim'+'e']+=_0x13d3a3-_0x2396a7,v['call'](()=>{const _0x223b9a=ne()-_0x1368d0;this['compileDur'+'ation']+=_0x223b9a,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x2e12aa['id']+']\x20'+_0x2e12aa['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x18b*-0x1+-0x1669*-0x1+-0x1*0x17f3)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](0x3ea*-0x6+0x2a*0x6f+0x547*0x1)+'ms');}),!(0x1aea+-0x1d8d*-0x1+0x5*-0xb4b);}['_isCompile'+'d'](_0x25af1f,_0xff5edf,_0x4c929e,_0x3e01ff,_0x2f586d){const _0x4e917f=_0x25af1f['gl'];if(!_0x4e917f['getShaderP'+'arameter'](_0x4c929e,_0x4e917f['COMPILE_ST'+'ATUS'])){const _0x1eb82f=_0x4e917f['getShaderI'+'nfoLog'](_0x4c929e),[_0x4b8482,_0x44cde1]=this['_processEr'+'ror'](_0x3e01ff,_0x1eb82f),_0x42b8ae='Failed\x20to\x20'+'compile\x20'+_0x2f586d+'\x20shader:\x0a\x0a'+_0x1eb82f+'\x0a'+_0x4b8482+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x44cde1['shader']=_0xff5edf,console['error'](_0x42b8ae,_0x44cde1),console['error'](_0x42b8ae),!(0x1*0x1b+-0x93+0x79);}return!(0x183c+-0x20b5+-0x3*-0x2d3);}['isLinked'](_0x5e4462){const {extParallelShaderCompile:_0x4f0137}=_0x5e4462;return _0x4f0137?_0x5e4462['gl']['getProgram'+'Parameter'](this['glProgram'],_0x4f0137['COMPLETION'+'_STATUS_KH'+'R']):!(-0xb8a+-0x3*-0x98c+-0x111a);}['_processEr'+'ror'](_0x2c8e33,_0x367b76){const _0x8c362={};let _0xbe3c05='';if(_0x2c8e33){const _0x495103=_0x2c8e33['split']('\x0a');let _0xeba218=-0xb29*0x3+0x365+-0x1*-0x1e16,_0x4af8ef=_0x495103['length'];if(_0x367b76&&_0x367b76['startsWith']('ERROR:')){const _0x42ea5b=_0x367b76['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x42ea5b&&(_0x8c362['message']=_0x42ea5b[0x2283+-0x261a+0x39a],_0x8c362['line']=parseInt(_0x42ea5b[0xbc*0x26+0x60f+-0x21f5],-0x229f+-0x2405*0x1+0x46ae),_0xeba218=Math['max'](0x26cd+0x2186+-0x17*0x325,_0x8c362['line']-(0x1*0x99d+-0x14a7+0xb10)),_0x4af8ef=Math['min'](_0x495103['length'],_0x8c362['line']+(0x24d7+-0x1bd2+0x9*-0x100)));}for(let _0x560e41=_0xeba218;_0x560e41<_0x4af8ef;_0x560e41++)_0xbe3c05+=_0x560e41+(0x137a+-0x9*-0x4b+0xb0e*-0x2)+':\x09'+_0x495103[_0x560e41]+'\x0a';_0x8c362['source']=_0x2c8e33;}return[_0xbe3c05,_0x8c362];}}function Rm(_0x66c248,_0x5b7622){const _0x5b9f84=_0x66c248['width'],_0x29af76=_0x66c248['height'];if(_0x5b9f84>_0x5b7622||_0x29af76>_0x5b7622){const _0x3ce3d6=_0x5b7622/Math['max'](_0x5b9f84,_0x29af76),_0x254eef=Math['floor'](_0x5b9f84*_0x3ce3d6),_0x325d89=Math['floor'](_0x29af76*_0x3ce3d6);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x5b7622+('.\x20Resizing'+'\x20from\x20')+_0x5b9f84+',\x20'+_0x29af76+'\x20to\x20'+_0x254eef+',\x20'+_0x325d89+'.');const _0x10f811=document['createElem'+'ent']('canvas');return _0x10f811['width']=_0x254eef,_0x10f811['height']=_0x325d89,_0x10f811['getContext']('2d')['drawImage'](_0x66c248,-0x2353+-0xf71+-0x12*-0x2d2,-0x1e52+0x2*0x9d+0x1d18,_0x5b9f84,_0x29af76,-0x1*0xd7b+-0x193c+0x26b7,-0x17dd+-0x1873*0x1+-0x305*-0x10,_0x254eef,_0x325d89),_0x10f811;}return _0x66c248;}class hb{constructor(_0x310ed0){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',0x31b+0x722+-0xa3d),this['texture']=_0x310ed0;}['destroy'](_0x29689e){if(this['_glTexture']){for(let _0x2b956e=-0x2072*0x1+0x386*-0x1+0x8fe*0x4;_0x2b956e<_0x29689e['textureUni'+'ts']['length'];_0x2b956e++){const _0x552c09=_0x29689e['textureUni'+'ts'][_0x2b956e];for(let _0x3ffbf2=0x1555+0x95*-0x4+-0x1301;_0x3ffbf2<_0x552c09['length'];_0x3ffbf2++)_0x552c09[_0x3ffbf2]===this['_glTexture']&&(_0x552c09[_0x3ffbf2]=null);}_0x29689e['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0xa1b882){this['dirtyParam'+'eterFlags']|=_0xa1b882;}['initialize'](_0x347d28,_0x4d800d){const _0xca918e=_0x347d28['gl'];switch(this['_glTexture']=_0xca918e['createText'+'ure'](),this['_glTarget']=_0x4d800d['_cubemap']?_0xca918e['TEXTURE_CU'+'BE_MAP']:_0x4d800d['_volume']?_0xca918e['TEXTURE_3D']:_0x4d800d['array']?_0xca918e['TEXTURE_2D'+'_ARRAY']:_0xca918e['TEXTURE_2D'],_0x4d800d['_format']){case fy:this['_glFormat']=_0xca918e['ALPHA'],this['_glInterna'+'lFormat']=_0xca918e['ALPHA'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0xca918e['LUMINANCE'],this['_glInterna'+'lFormat']=_0xca918e['LUMINANCE'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0xca918e['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0xca918e['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0xca918e['RED'],this['_glInterna'+'lFormat']=_0xca918e['R8'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0xca918e['RG'],this['_glInterna'+'lFormat']=_0xca918e['RG8'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0xca918e['RGB'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0xca918e['RGBA'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0xca918e['RGBA'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0xca918e['RGB8'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0xca918e['RGBA8'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case Wo:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0x347d28['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0x347d28['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0x347d28['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0xca918e['SRGB'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0xca918e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0xca918e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0xca918e['SRGB'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0xca918e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0xca918e['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x347d28['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0x347d28['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0xca918e['RED'],this['_glInterna'+'lFormat']=_0xca918e['R16F'],this['_glPixelTy'+'pe']=_0xca918e['HALF_FLOAT'];break;case tp:this['_glFormat']=_0xca918e['RG'],this['_glInterna'+'lFormat']=_0xca918e['RG16F'],this['_glPixelTy'+'pe']=_0xca918e['HALF_FLOAT'];break;case xc:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0xca918e['RGB16F'],this['_glPixelTy'+'pe']=_0xca918e['HALF_FLOAT'];break;case Je:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0xca918e['RGBA16F'],this['_glPixelTy'+'pe']=_0xca918e['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0xca918e['RGB32F'],this['_glPixelTy'+'pe']=_0xca918e['FLOAT'];break;case Ke:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0xca918e['RGBA32F'],this['_glPixelTy'+'pe']=_0xca918e['FLOAT'];break;case Ii:this['_glFormat']=_0xca918e['RED'],this['_glInterna'+'lFormat']=_0xca918e['R32F'],this['_glPixelTy'+'pe']=_0xca918e['FLOAT'];break;case Ci:this['_glFormat']=_0xca918e['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0xca918e['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0xca918e['FLOAT'];break;case la:this['_glFormat']=_0xca918e['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0xca918e['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0xca918e['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0xca918e['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0xca918e['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0xca918e['RGB'],this['_glInterna'+'lFormat']=_0xca918e['SRGB8'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0xca918e['RGBA'],this['_glInterna'+'lFormat']=_0xca918e['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0xca918e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xca918e['R8I'],this['_glPixelTy'+'pe']=_0xca918e['BYTE'];break;case xy:this['_glFormat']=_0xca918e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xca918e['R8UI'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case $f:this['_glFormat']=_0xca918e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xca918e['R16I'],this['_glPixelTy'+'pe']=_0xca918e['SHORT'];break;case Wf:this['_glFormat']=_0xca918e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xca918e['R16UI'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0xca918e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xca918e['R32I'],this['_glPixelTy'+'pe']=_0xca918e['INT'];break;case an:this['_glFormat']=_0xca918e['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0xca918e['R32UI'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0xca918e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xca918e['RG8I'],this['_glPixelTy'+'pe']=_0xca918e['BYTE'];break;case Sy:this['_glFormat']=_0xca918e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xca918e['RG8UI'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0xca918e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xca918e['RG16I'],this['_glPixelTy'+'pe']=_0xca918e['SHORT'];break;case Yf:this['_glFormat']=_0xca918e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xca918e['RG16UI'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0xca918e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xca918e['RG32I'],this['_glPixelTy'+'pe']=_0xca918e['INT'];break;case Zf:this['_glFormat']=_0xca918e['RG_INTEGER'],this['_glInterna'+'lFormat']=_0xca918e['RG32UI'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0xca918e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xca918e['RGBA8I'],this['_glPixelTy'+'pe']=_0xca918e['BYTE'];break;case vy:this['_glFormat']=_0xca918e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xca918e['RGBA8UI'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0xca918e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xca918e['RGBA16I'],this['_glPixelTy'+'pe']=_0xca918e['SHORT'];break;case Ac:this['_glFormat']=_0xca918e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xca918e['RGBA16UI'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0xca918e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xca918e['RGBA32I'],this['_glPixelTy'+'pe']=_0xca918e['INT'];break;case ut:this['_glFormat']=_0xca918e['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0xca918e['RGBA32UI'],this['_glPixelTy'+'pe']=_0xca918e['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0xd*-0x2df+0x563+-0x1d*0x179);}['upload'](_0x3df844,_0x4de182){v['assert'](_0x4de182['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x4de182);const _0x3f9653=_0x3df844['gl'];if(!_0x4de182['_needsUplo'+'ad']&&(_0x4de182['_needsMipm'+'apsUpload']&&_0x4de182['_mipmapsUp'+'loaded']||!_0x4de182['pot']))return;let _0x1a0c03=0xfa5+0x40*-0x95+-0x1*-0x159b,_0x1e40b2,_0x579bda;const _0x46d8b3=_0x4de182['numLevels'];for(_0x4de182['array']&&_0x3f9653['texStorage'+'3D'](_0x3f9653['TEXTURE_2D'+'_ARRAY'],_0x46d8b3,this['_glInterna'+'lFormat'],_0x4de182['_width'],_0x4de182['_height'],_0x4de182['_arrayLeng'+'th']);_0x4de182['_levels'][_0x1a0c03]||_0x1a0c03===-0xc3a*0x3+-0x9*-0x18b+0x1*0x16cb;){if(!_0x4de182['_needsUplo'+'ad']&&_0x1a0c03===-0xf21+0x26*0xb0+-0xaff){_0x1a0c03++;continue;}else{if(_0x1a0c03&&(!_0x4de182['_needsMipm'+'apsUpload']||!_0x4de182['_mipmaps']))break;}if(_0x1e40b2=_0x4de182['_levels'][_0x1a0c03],_0x579bda=(-0x3b*-0x2b+-0x79d*-0x3+0x20bf*-0x1)/Math['pow'](0x1cd0+-0x6ac+0x1622*-0x1,_0x1a0c03),_0x1a0c03===-0x1*-0x3eb+0x1d97+0x9*-0x3b9&&!_0x4de182['_compresse'+'d']&&!_0x4de182['_integerFo'+'rmat']&&_0x4de182['_levels']['length']<_0x46d8b3&&(_0x3f9653['generateMi'+'pmap'](this['_glTarget']),_0x4de182['_mipmapsUp'+'loaded']=!(0x1156+0x1c9*0x3+-0x1*0x16b1)),_0x4de182['_cubemap']){let _0x4d823d;if(_0x3df844['_isBrowser'+'Interface'](_0x1e40b2[-0x1*0x257e+-0x260+0x27de]))for(_0x4d823d=0x1e91+0xf99+-0x2e2a;_0x4d823d<-0x18b8+-0x1*-0x16b5+-0x1*-0x209;_0x4d823d++){if(!_0x4de182['_levelsUpd'+'ated'][0x1*-0x19e5+-0x14f1+-0x176b*-0x2][_0x4d823d])continue;let _0x45af33=_0x1e40b2[_0x4d823d];_0x3df844['_isImageBr'+'owserInter'+'face'](_0x45af33)&&(_0x45af33['width']>_0x3df844['maxCubeMap'+'Size']||_0x45af33['height']>_0x3df844['maxCubeMap'+'Size'])&&(_0x45af33=Rm(_0x45af33,_0x3df844['maxCubeMap'+'Size']),_0x1a0c03===-0x2f*-0x61+-0x26e0+-0x1*-0x1511&&(_0x4de182['_width']=_0x45af33['width'],_0x4de182['_height']=_0x45af33['height'])),_0x3df844['setUnpackF'+'lipY'](!(0xa3d*-0x1+-0x13de+-0x2f*-0xa4)),_0x3df844['setUnpackP'+'remultiply'+'Alpha'](_0x4de182['_premultip'+'lyAlpha']),this['_glCreated']?_0x3f9653['texSubImag'+'e2D'](_0x3f9653['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4d823d,_0x1a0c03,-0x2*-0x1012+0x3a8+-0x3a*0x9e,-0x21c8+-0x171*0xf+0x3767,this['_glFormat'],this['_glPixelTy'+'pe'],_0x45af33):_0x3f9653['texImage2D'](_0x3f9653['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4d823d,_0x1a0c03,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x45af33);}else for(_0x579bda=(0x13+-0xd01*0x1+-0xb*-0x12d)/Math['pow'](0x35d*0x7+-0x369+-0x1420*0x1,_0x1a0c03),_0x4d823d=0xa14+-0x1f*-0x6b+-0x1709*0x1;_0x4d823d<-0x262d+0xd*0x10c+0x1897;_0x4d823d++){if(!_0x4de182['_levelsUpd'+'ated'][0x1e7*-0x4+-0x1*-0x1f3+0x1e3*0x3][_0x4d823d])continue;const _0x2c17b3=_0x1e40b2[_0x4d823d];_0x4de182['_compresse'+'d']?this['_glCreated']&&_0x2c17b3?_0x3f9653['compressed'+'TexSubImag'+'e2D'](_0x3f9653['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4d823d,_0x1a0c03,-0x1*-0x11b1+-0x34f+-0xe62,-0x3*0x295+0x7*0x197+-0x1*0x362,Math['max'](_0x4de182['_width']*_0x579bda,0x132c+-0x1*0x1405+0x2*0x6d),Math['max'](_0x4de182['_height']*_0x579bda,0x1447*0x1+-0xa6*-0x24+0x2*-0x15cf),this['_glInterna'+'lFormat'],_0x2c17b3):_0x3f9653['compressed'+'TexImage2D'](_0x3f9653['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4d823d,_0x1a0c03,this['_glInterna'+'lFormat'],Math['max'](_0x4de182['_width']*_0x579bda,0x22b9*-0x1+0x1*-0x1951+0x3c0b),Math['max'](_0x4de182['_height']*_0x579bda,0xf8c+-0x2367+0x13dc),-0x1f86+0x1e1e+0x168,_0x2c17b3):(_0x3df844['setUnpackF'+'lipY'](!(-0x11a*-0x21+0x2*0x5d3+-0x2fff)),_0x3df844['setUnpackP'+'remultiply'+'Alpha'](_0x4de182['_premultip'+'lyAlpha']),this['_glCreated']&&_0x2c17b3?_0x3f9653['texSubImag'+'e2D'](_0x3f9653['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4d823d,_0x1a0c03,0x201b+0x25d0+-0x45eb,-0x8f7+-0x19c0+0x22b7*0x1,Math['max'](_0x4de182['_width']*_0x579bda,0x1fb9+0x399+-0x2351),Math['max'](_0x4de182['_height']*_0x579bda,-0x1c21+0x200a+-0x1f4*0x2),this['_glFormat'],this['_glPixelTy'+'pe'],_0x2c17b3):_0x3f9653['texImage2D'](_0x3f9653['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x4d823d,_0x1a0c03,this['_glInterna'+'lFormat'],Math['max'](_0x4de182['_width']*_0x579bda,0x99a+-0x1e09+0x1470*0x1),Math['max'](_0x4de182['_height']*_0x579bda,0x17e7*0x1+0x1e80+-0x3666),0x15bc+-0x29f+0x65f*-0x3,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2c17b3));}}else{if(_0x4de182['_volume'])_0x4de182['_compresse'+'d']?_0x3f9653['compressed'+'TexImage3D'](_0x3f9653['TEXTURE_3D'],_0x1a0c03,this['_glInterna'+'lFormat'],Math['max'](_0x4de182['_width']*_0x579bda,-0x1147+-0x2*0x59e+-0x2*-0xe42),Math['max'](_0x4de182['_height']*_0x579bda,0x17f4+-0x1a3*0x8+-0xadb),Math['max'](_0x4de182['_depth']*_0x579bda,-0x107a+-0x361*0xa+0x3245),0x269c+-0x1a*0x25+-0x22da,_0x1e40b2):(_0x3df844['setUnpackF'+'lipY'](!(0x2d6+-0xd48+0xa73)),_0x3df844['setUnpackP'+'remultiply'+'Alpha'](_0x4de182['_premultip'+'lyAlpha']),_0x3f9653['texImage3D'](_0x3f9653['TEXTURE_3D'],_0x1a0c03,this['_glInterna'+'lFormat'],Math['max'](_0x4de182['_width']*_0x579bda,-0xdf4+-0x9*0x176+0x1b1b),Math['max'](_0x4de182['_height']*_0x579bda,0xeba+-0x8a*0xe+-0x72d),Math['max'](_0x4de182['_depth']*_0x579bda,0x1*0x65f+-0x76c+0x9*0x1e),-0x1*-0x1bb3+0x4c*-0x4f+-0x1*0x43f,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e40b2));else{if(_0x4de182['array']&&typeof _0x1e40b2=='object'){if(_0x4de182['_arrayLeng'+'th']===_0x1e40b2['length']){if(_0x4de182['_compresse'+'d']){for(let _0x3d5a82=-0x34c+-0x44d*0x8+0x25b4;_0x3d5a82<_0x4de182['_arrayLeng'+'th'];_0x3d5a82++)_0x3f9653['compressed'+'TexSubImag'+'e3D'](_0x3f9653['TEXTURE_2D'+'_ARRAY'],_0x1a0c03,0x1674+0x175*-0x3+-0x1215*0x1,-0x4a*0x3a+-0x1dc5+-0x39*-0xd1,_0x3d5a82,Math['max'](Math['floor'](_0x4de182['_width']*_0x579bda),-0x1fff+0x6*-0x1cf+0x2ada),Math['max'](Math['floor'](_0x4de182['_height']*_0x579bda),0x270c+0x1*-0x2076+-0x695),-0x2*0x83b+0x22e5+0x1*-0x126e,this['_glInterna'+'lFormat'],_0x1e40b2[_0x3d5a82]);}else{for(let _0x4a4b98=-0x1*-0xfab+0x276*0xc+-0x2d33;_0x4a4b98<_0x4de182['_arrayLeng'+'th'];_0x4a4b98++)_0x3f9653['texSubImag'+'e3D'](_0x3f9653['TEXTURE_2D'+'_ARRAY'],_0x1a0c03,-0x105*-0x13+-0x1*0x25f2+0x5*0x3b7,0x1841*-0x1+0x10c4+0x77d,_0x4a4b98,Math['max'](Math['floor'](_0x4de182['_width']*_0x579bda),0x4ff*-0x5+0x9e5+-0xf17*-0x1),Math['max'](Math['floor'](_0x4de182['_height']*_0x579bda),-0x73+-0x1f13*0x1+0x1f87),0x27e*-0x5+0x7*-0x33+-0x377*-0x4,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e40b2[_0x4a4b98]);}}}else{if(_0x3df844['_isBrowser'+'Interface'](_0x1e40b2)){_0x3df844['_isImageBr'+'owserInter'+'face'](_0x1e40b2)&&(_0x1e40b2['width']>_0x3df844['maxTexture'+'Size']||_0x1e40b2['height']>_0x3df844['maxTexture'+'Size'])&&(_0x1e40b2=Rm(_0x1e40b2,_0x3df844['maxTexture'+'Size']),_0x1a0c03===-0x7*0x35f+0x1*0xb89+0x304*0x4&&(_0x4de182['_width']=_0x1e40b2['width'],_0x4de182['_height']=_0x1e40b2['height']));const _0x40d32a=_0x1e40b2['width']||_0x1e40b2['videoWidth'],_0x55384e=_0x1e40b2['height']||_0x1e40b2['videoHeigh'+'t'];_0x3df844['setUnpackF'+'lipY'](_0x4de182['_flipY']),_0x3df844['setUnpackP'+'remultiply'+'Alpha'](_0x4de182['_premultip'+'lyAlpha']),this['_glCreated']&&_0x4de182['_width']===_0x40d32a&&_0x4de182['_height']===_0x55384e&&!_0x3df844['_isImageVi'+'deoInterfa'+'ce'](_0x1e40b2)?_0x3f9653['texSubImag'+'e2D'](_0x3f9653['TEXTURE_2D'],_0x1a0c03,0x2*-0xd6+0x18ad*-0x1+0x1a59,0x41*-0x1+-0xddb*0x1+0x4*0x387,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e40b2):(_0x3f9653['texImage2D'](_0x3f9653['TEXTURE_2D'],_0x1a0c03,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e40b2),_0x1a0c03===0x20*-0xfe+-0x1199+0x3*0x1073&&(_0x4de182['_width']=_0x40d32a,_0x4de182['_height']=_0x55384e));}else _0x579bda=(0xde2+0x18d*-0x14+0x1123)/Math['pow'](-0x3*0x9ff+0x10e7*0x1+0x1*0xd18,_0x1a0c03),_0x4de182['_compresse'+'d']?this['_glCreated']&&_0x1e40b2?_0x3f9653['compressed'+'TexSubImag'+'e2D'](_0x3f9653['TEXTURE_2D'],_0x1a0c03,0xa81+-0x26b9+0x2b*0xa8,-0x13*0x83+0x20f9+-0x18*0xf8,Math['max'](Math['floor'](_0x4de182['_width']*_0x579bda),0x14c*-0xd+0x3dc+0x1*0xd01),Math['max'](Math['floor'](_0x4de182['_height']*_0x579bda),-0x2005*0x1+-0x1*-0x1645+0x9c1*0x1),this['_glInterna'+'lFormat'],_0x1e40b2):_0x3f9653['compressed'+'TexImage2D'](_0x3f9653['TEXTURE_2D'],_0x1a0c03,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x4de182['_width']*_0x579bda),0x1*-0x21b7+-0x201c+0x2c*0x17f),Math['max'](Math['floor'](_0x4de182['_height']*_0x579bda),-0x2478+0x2136+0x343),0xb5*-0x9+0x3ce+0x28f,_0x1e40b2):(_0x3df844['setUnpackF'+'lipY'](!(0x3c3*-0x7+-0xefd+0x95*0x47)),_0x3df844['setUnpackP'+'remultiply'+'Alpha'](_0x4de182['_premultip'+'lyAlpha']),this['_glCreated']&&_0x1e40b2?_0x3f9653['texSubImag'+'e2D'](_0x3f9653['TEXTURE_2D'],_0x1a0c03,0x9*0x209+0xc5f*-0x2+0x66d,0x1933+0x7*0x15b+-0x22b0,Math['max'](_0x4de182['_width']*_0x579bda,-0x15a9+0x913*0x3+-0x58f),Math['max'](_0x4de182['_height']*_0x579bda,-0x1*-0x1129+0x13ee*-0x1+0x2c6),this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e40b2):_0x3f9653['texImage2D'](_0x3f9653['TEXTURE_2D'],_0x1a0c03,this['_glInterna'+'lFormat'],Math['max'](_0x4de182['_width']*_0x579bda,-0x22*0x1f+-0x1479*-0x1+-0x105a),Math['max'](_0x4de182['_height']*_0x579bda,-0xefd+-0x2625+0x3523),-0x1*-0x1ff3+0x1db4*0x1+-0x148d*0x3,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1e40b2));_0x1a0c03===0x16df+0x8e*-0x32+0x4dd?_0x4de182['_mipmapsUp'+'loaded']=!(0x37*0x6d+0x3*-0xd3+0x6fb*-0x3):_0x4de182['_mipmapsUp'+'loaded']=!(0x2*0xb08+0x8f*0x35+-0x33ab);}}}_0x1a0c03++;}if(_0x4de182['_needsUplo'+'ad']){if(_0x4de182['_cubemap']){for(let _0x2baf8a=0x21*0x6b+-0x1c48+0xe7d;_0x2baf8a<-0x1*-0x1cf5+-0x1d60+0x71;_0x2baf8a++)_0x4de182['_levelsUpd'+'ated'][-0x591*0x5+0x1*-0x15e8+0x7*0x71b][_0x2baf8a]=!(0x2*-0x12d1+0x247f+0x124);}else _0x4de182['_levelsUpd'+'ated'][0x1ac1+-0x475*-0x6+-0x4dd*0xb]=!(0x19d9+-0xa*-0x1a8+-0x4*0xa9a);}!_0x4de182['_compresse'+'d']&&!_0x4de182['_integerFo'+'rmat']&&_0x4de182['_mipmaps']&&_0x4de182['_needsMipm'+'apsUpload']&&_0x4de182['_levels']['length']===0xa39+-0x1ef2+-0x2f6*-0x7&&(_0x3f9653['generateMi'+'pmap'](this['_glTarget']),_0x4de182['_mipmapsUp'+'loaded']=!(-0xfaf+0x2f*-0xbf+0x32c0)),_0x4de182['_gpuSize']&&_0x4de182['adjustVram'+'SizeTracki'+'ng'](_0x3df844['_vram'],-_0x4de182['_gpuSize']),_0x4de182['_gpuSize']=_0x4de182['gpuSize'],_0x4de182['adjustVram'+'SizeTracki'+'ng'](_0x3df844['_vram'],_0x4de182['_gpuSize']),this['_glCreated']=!(-0x86b*0x1+0x1f5c+-0x16f1);}['read'](_0x4992aa,_0x2c1cfd,_0x18a7b5,_0x530417,_0x4744c7){const _0x284e30=this['texture'];return _0x284e30['device']['readTextur'+'eAsync'](_0x284e30,_0x4992aa,_0x2c1cfd,_0x18a7b5,_0x530417,_0x4744c7);}}class cb{constructor(_0x25484f,_0x37b050){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x25484f,this['resolveFB']=_0x37b050);}['destroy'](_0x5a27c7){this['msaaFB']&&(_0x5a27c7['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x5a27c7['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(-0x190b+-0x1d*0x52+-0x36f*-0xa));}['destroy'](_0x57b221){var _0x3ab796;const _0x413e84=_0x57b221['gl'];this['_isInitial'+'ized']=!(-0x1*-0xb6b+0x80b+-0x1375),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x413e84['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x413e84['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x413e84['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x2088db=>{_0x413e84['deleteRend'+'erbuffer'](_0x2088db);}),this['_glMsaaCol'+'orBuffers']['length']=-0x3d8*-0x5+0x24e0+-0x5*0xb38,(_0x3ab796=this['colorMrtFr'+'amebuffers'])==null||_0x3ab796['forEach'](_0x308ecb=>{_0x308ecb['destroy'](_0x413e84);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0x57b221)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0x10*0x1c0+0x27a+0x1986);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x522a11,_0x58ea89){var _0xe689e9,_0x4bb5e9;const _0xe4549a=_0x522a11['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x17*-0x16f+0x2501+-0x45fa);const _0x33f912=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x13ac+0x1573+0x79*-0x57))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x58ea89['width']<=-0x1a83+-0x1378+0x2dfb||_0x58ea89['height']<=-0x1fd4+-0x21fb+-0x3df*-0x11)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x58ea89['width']+'\x20x\x20'+_0x58ea89['height'],_0x58ea89);}),this['_glFrameBu'+'ffer']=_0xe4549a['createFram'+'ebuffer'](),_0x522a11['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x397693=((_0xe689e9=_0x58ea89['_colorBuff'+'ers'])==null?void(-0x1bc4+-0x1*0x1df7+0x39bb):_0xe689e9['length'])??-0x1b89+-0x2ad*-0x5+-0x1c5*-0x8,_0x578a0f=_0xe4549a['COLOR_ATTA'+'CHMENT0'];for(let _0x353588=0xf7*-0x22+-0x526+0x7*0x56c;_0x353588<_0x397693;++_0x353588){const _0x579bb3=_0x58ea89['getColorBu'+'ffer'](_0x353588);_0x579bb3&&(_0x579bb3['impl']['_glTexture']||(_0x579bb3['_width']=Math['min'](_0x579bb3['width'],_0x522a11['maxRenderB'+'ufferSize']),_0x579bb3['_height']=Math['min'](_0x579bb3['height'],_0x522a11['maxRenderB'+'ufferSize']),_0x522a11['setTexture'](_0x579bb3,0x12a0+0x8*-0x9b+-0xc*0x126)),_0xe4549a['framebuffe'+'rTexture2D'](_0xe4549a['FRAMEBUFFE'+'R'],_0x578a0f+_0x353588,_0x579bb3['_cubemap']?_0xe4549a['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x58ea89['_face']:_0xe4549a['TEXTURE_2D'],_0x579bb3['impl']['_glTexture'],_0x58ea89['mipLevel']),_0x33f912['push'](_0x578a0f+_0x353588));}_0xe4549a['drawBuffer'+'s'](_0x33f912);const _0x5eded9=_0x58ea89['_depthBuff'+'er'];if(_0x5eded9||_0x58ea89['_depth']){const _0x37d4b3=_0x58ea89['_stencil']?_0xe4549a['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0xe4549a['DEPTH_ATTA'+'CHMENT'];if(_0x5eded9)_0x5eded9['impl']['_glTexture']||(_0x5eded9['_width']=Math['min'](_0x5eded9['width'],_0x522a11['maxRenderB'+'ufferSize']),_0x5eded9['_height']=Math['min'](_0x5eded9['height'],_0x522a11['maxRenderB'+'ufferSize']),_0x522a11['setTexture'](_0x5eded9,0x3eb+0x14f0+-0x18db)),_0xe4549a['framebuffe'+'rTexture2D'](_0xe4549a['FRAMEBUFFE'+'R'],_0x37d4b3,_0x5eded9['_cubemap']?_0xe4549a['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x58ea89['_face']:_0xe4549a['TEXTURE_2D'],_0x58ea89['_depthBuff'+'er']['impl']['_glTexture'],_0x58ea89['mipLevel']);else{if(!(_0x58ea89['_samples']>0x2b9+-0x1579+0x12c1*0x1)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0xe4549a['createRend'+'erbuffer']());const _0x3eafd7=_0x58ea89['_stencil']?_0xe4549a['DEPTH24_ST'+'ENCIL8']:_0xe4549a['DEPTH_COMP'+'ONENT32F'];_0xe4549a['bindRender'+'buffer'](_0xe4549a['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0xe4549a['renderbuff'+'erStorage'](_0xe4549a['RENDERBUFF'+'ER'],_0x3eafd7,_0x58ea89['width'],_0x58ea89['height']),_0xe4549a['framebuffe'+'rRenderbuf'+'fer'](_0xe4549a['FRAMEBUFFE'+'R'],_0x37d4b3,_0xe4549a['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0xe4549a['bindRender'+'buffer'](_0xe4549a['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x522a11,_0x58ea89));}if(_0x58ea89['_samples']>0x1f30+0x578*0x1+0x1*-0x24a7){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0xe4549a['createFram'+'ebuffer'](),_0x522a11['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x188d10=((_0x4bb5e9=_0x58ea89['_colorBuff'+'ers'])==null?void(-0x23c7+0x2da*-0x5+0x3209):_0x4bb5e9['length'])??0x1784+0x1*-0x3ad+-0x13d7;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x4b1*-0x7+-0x1d*0xce+0x382d)){const _0x49cd59=_0xe4549a['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x49cd59);const _0x582682=_0x522a11['backBuffer'+'Format']===Se?_0xe4549a['RGBA8']:_0xe4549a['RGB8'];_0xe4549a['bindRender'+'buffer'](_0xe4549a['RENDERBUFF'+'ER'],_0x49cd59),_0xe4549a['renderbuff'+'erStorageM'+'ultisample'](_0xe4549a['RENDERBUFF'+'ER'],_0x58ea89['_samples'],_0x582682,_0x58ea89['width'],_0x58ea89['height']),_0xe4549a['framebuffe'+'rRenderbuf'+'fer'](_0xe4549a['FRAMEBUFFE'+'R'],_0xe4549a['COLOR_ATTA'+'CHMENT0'],_0xe4549a['RENDERBUFF'+'ER'],_0x49cd59);}else for(let _0x288723=-0x1*0x25a5+-0xe93+0x3438;_0x288723<_0x188d10;++_0x288723){const _0x558078=_0x58ea89['getColorBu'+'ffer'](_0x288723);if(_0x558078){const _0x2bf1b9=_0xe4549a['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x2bf1b9),_0xe4549a['bindRender'+'buffer'](_0xe4549a['RENDERBUFF'+'ER'],_0x2bf1b9),_0xe4549a['renderbuff'+'erStorageM'+'ultisample'](_0xe4549a['RENDERBUFF'+'ER'],_0x58ea89['_samples'],_0x558078['impl']['_glInterna'+'lFormat'],_0x58ea89['width'],_0x58ea89['height']),_0xe4549a['framebuffe'+'rRenderbuf'+'fer'](_0xe4549a['FRAMEBUFFE'+'R'],_0xe4549a['COLOR_ATTA'+'CHMENT0']+_0x288723,_0xe4549a['RENDERBUFF'+'ER'],_0x2bf1b9);}}if(_0x58ea89['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0xec80ee=_0x58ea89['_stencil']?_0xe4549a['DEPTH24_ST'+'ENCIL8']:_0xe4549a['DEPTH_COMP'+'ONENT32F'],_0x469454=_0x58ea89['_stencil']?_0xe4549a['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0xe4549a['DEPTH_ATTA'+'CHMENT'];let _0x4757e4;const _0x3953f7=_0x58ea89['_depthBuff'+'er'];_0x3953f7&&(_0x4757e4=_0x3953f7['id']+':'+_0x58ea89['width']+':'+_0x58ea89['height']+':'+_0x58ea89['_samples']+':'+_0xec80ee+':'+_0x469454,this['_glMsaaDep'+'thBuffer']=od(_0x522a11)['get'](_0x4757e4)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0xe4549a['createRend'+'erbuffer'](),_0xe4549a['bindRender'+'buffer'](_0xe4549a['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0xe4549a['renderbuff'+'erStorageM'+'ultisample'](_0xe4549a['RENDERBUFF'+'ER'],_0x58ea89['_samples'],_0xec80ee,_0x58ea89['width'],_0x58ea89['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0xe4549a['deleteRend'+'erbuffer'](this);},_0x3953f7&&od(_0x522a11)['set'](_0x4757e4,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x4757e4,_0xe4549a['framebuffe'+'rRenderbuf'+'fer'](_0xe4549a['FRAMEBUFFE'+'R'],_0x469454,_0xe4549a['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x522a11,_0x58ea89,'MSAA')),_0x188d10>-0x4ff*-0x4+0x275*-0x9+-0x5b*-0x6&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x522a11,_0x58ea89,_0x188d10),_0x522a11['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0xe4549a['drawBuffer'+'s'](_0x33f912));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x4b88b0,_0xeb6855,_0x244b13){const _0x2ff7bc=_0x4b88b0['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x1a5d3b=0x7b5+0x1*-0xa70+0x1*0x2bb;_0x1a5d3b<_0x244b13;++_0x1a5d3b){const _0x307667=_0xeb6855['getColorBu'+'ffer'](_0x1a5d3b),_0x452a99=_0x2ff7bc['createFram'+'ebuffer']();_0x4b88b0['setFramebu'+'ffer'](_0x452a99);const _0x10ebb9=this['_glMsaaCol'+'orBuffers'][_0x1a5d3b];_0x2ff7bc['bindRender'+'buffer'](_0x2ff7bc['RENDERBUFF'+'ER'],_0x10ebb9),_0x2ff7bc['renderbuff'+'erStorageM'+'ultisample'](_0x2ff7bc['RENDERBUFF'+'ER'],_0xeb6855['_samples'],_0x307667['impl']['_glInterna'+'lFormat'],_0xeb6855['width'],_0xeb6855['height']),_0x2ff7bc['framebuffe'+'rRenderbuf'+'fer'](_0x2ff7bc['FRAMEBUFFE'+'R'],_0x2ff7bc['COLOR_ATTA'+'CHMENT0'],_0x2ff7bc['RENDERBUFF'+'ER'],_0x10ebb9),_0x2ff7bc['drawBuffer'+'s']([_0x2ff7bc['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x4b88b0,_0xeb6855,'MSAA-MRT-s'+'rc'+_0x1a5d3b));const _0x504c7f=_0x2ff7bc['createFram'+'ebuffer']();_0x4b88b0['setFramebu'+'ffer'](_0x504c7f),_0x2ff7bc['framebuffe'+'rTexture2D'](_0x2ff7bc['FRAMEBUFFE'+'R'],_0x2ff7bc['COLOR_ATTA'+'CHMENT0'],_0x307667['_cubemap']?_0x2ff7bc['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xeb6855['_face']:_0x2ff7bc['TEXTURE_2D'],_0x307667['impl']['_glTexture'],-0x10c9+-0xa*-0xad+0xa07),this['colorMrtFr'+'amebuffers'][_0x1a5d3b]=new cb(_0x452a99,_0x504c7f),v['call'](()=>this['_checkFbo'](_0x4b88b0,_0xeb6855,'MSAA-MRT-d'+'st'+_0x1a5d3b));}}['_checkFbo'](_0x23a85d,_0x38ff1f,_0x2d43be=''){const _0x33db95=_0x23a85d['gl'],_0x17a818=_0x33db95['checkFrame'+'bufferStat'+'us'](_0x33db95['FRAMEBUFFE'+'R']);let _0x4ddbe6;switch(_0x17a818){case _0x33db95['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x4ddbe6='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x33db95['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x4ddbe6='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x33db95['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x4ddbe6='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x33db95['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x4ddbe6='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x4ddbe6,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x4ddbe6+(',\x20render\x20t'+'arget:\x20')+_0x38ff1f['name']+'\x20'+_0x2d43be,_0x38ff1f);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0x1941+-0x3*-0x5a2+-0x9*0x4af,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x17e*0xb+-0x47*-0x65+-0xb99),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x2ab*-0x5+-0x2097+0x2dee),this['_isInitial'+'ized']=!(-0x21*-0x11+0x157*0x7+-0xb91);}['internalRe'+'solve'](_0x31db7d,_0xa4b67d,_0x1c6e90,_0x55415b,_0x806c41){v['assert'](_0xa4b67d!==_0x1c6e90,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x31db7d['setScissor'](-0x362+-0x893+0xbf5,-0x1248+-0x1d5b+0x2fa3,_0x55415b['width'],_0x55415b['height']);const _0x5d022f=_0x31db7d['gl'];_0x5d022f['bindFrameb'+'uffer'](_0x5d022f['READ_FRAME'+'BUFFER'],_0xa4b67d),_0x5d022f['bindFrameb'+'uffer'](_0x5d022f['DRAW_FRAME'+'BUFFER'],_0x1c6e90),_0x5d022f['blitFrameb'+'uffer'](-0x97d+-0x3*0x5f1+0x1b50,0x18d1*-0x1+-0x1e13+0xdb9*0x4,_0x55415b['width'],_0x55415b['height'],-0x19f*0xd+-0xbbf*0x1+0x20d2,0x25*-0x7f+0x1*-0x15a+-0x5*-0x3f1,_0x55415b['width'],_0x55415b['height'],_0x806c41,_0x5d022f['NEAREST']);}['resolve'](_0x46b095,_0x1d7106,_0x243e56,_0x14b0b1){const _0x352e98=_0x46b095['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x243e56)for(let _0x324fee=-0xb*0x132+0x1*0x1367+-0x641;_0x324fee<this['colorMrtFr'+'amebuffers']['length'];_0x324fee++){const _0x223eb8=this['colorMrtFr'+'amebuffers'][_0x324fee];G['pushGpuMar'+'ker'](_0x46b095,'RESOLVE-MR'+'T'+_0x324fee),this['internalRe'+'solve'](_0x46b095,_0x223eb8['msaaFB'],_0x223eb8['resolveFB'],_0x1d7106,_0x352e98['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x46b095);}_0x14b0b1&&(G['pushGpuMar'+'ker'](_0x46b095,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x46b095,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1d7106,_0x352e98['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x46b095));}else G['pushGpuMar'+'ker'](_0x46b095,'RESOLVE'),this['internalRe'+'solve'](_0x46b095,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1d7106,(_0x243e56?_0x352e98['COLOR_BUFF'+'ER_BIT']:-0x1e6e+0x328*-0x6+-0x18af*-0x2)|(_0x14b0b1?_0x352e98['DEPTH_BUFF'+'ER_BIT']:-0x1ca6+-0xd1b+0x29c1)),G['popGpuMark'+'er'](_0x46b095);_0x352e98['bindFrameb'+'uffer'](_0x352e98['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0xad35f6){this['queries']['forEach'](_0x1bf3c6=>_0xad35f6['deleteQuer'+'y'](_0x1bf3c6)),this['queries']=null;}}class fb extends tb{constructor(_0x53b7c9){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x53b7c9,this['ext']=_0x53b7c9['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x1f7004=>this['device']['gl']['deleteQuer'+'y'](_0x1f7004)),this['frameQueri'+'es']['forEach'](_0x192afa=>this['device']['gl']['deleteQuer'+'y'](_0x192afa)),this['previousFr'+'ameQueries']['forEach'](_0x149e31=>_0x149e31['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x9dc6ec){if(this['ext']){const _0x382022=this['getSlot'](_0x9dc6ec),_0x210d40=this['getQuery']();return this['frameQueri'+'es'][_0x382022]=_0x210d40,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x210d40),_0x382022;}}['end'](_0x4e8e72){_0x4e8e72!==void(-0x5f8*0x3+-0x20c*0xa+0x2660)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x160625=this['ext'],_0x2d61e3=this['device']['gl'],_0x546d34=this['device']['renderVers'+'ion'],_0x32ba63=this['frameQueri'+'es'];if(_0x32ba63['length']>-0x670+0x757+-0xe7){this['frameQueri'+'es']=[];const _0x16a03d=new ub();_0x16a03d['queries']=_0x32ba63,_0x16a03d['renderVers'+'ion']=_0x546d34,this['previousFr'+'ameQueries']['push'](_0x16a03d);}if(this['previousFr'+'ameQueries']['length']>0x10cf*0x1+-0x863*-0x3+-0x29f8){const _0x320255=this['previousFr'+'ameQueries'][0x12fb*-0x1+0x1*-0x1d6+0x14d1],_0x4752f0=_0x320255['queries'],_0x4e3105=_0x4752f0[_0x4752f0['length']-(0x33b*-0x2+-0x12c0+0x1937)],_0x5152e1=_0x2d61e3['getQueryPa'+'rameter'](_0x4e3105,_0x2d61e3['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0xa2f40=_0x2d61e3['getParamet'+'er'](_0x160625['GPU_DISJOI'+'NT_EXT']);if(_0x5152e1&&!_0xa2f40){this['previousFr'+'ameQueries']['shift']();const _0x492dbb=this['timings'];_0x492dbb['length']=-0x8*0x10+-0x23f6*0x1+-0x2476*-0x1;for(let _0x442d85=0x15dc+0x1a39+-0x3015;_0x442d85<_0x4752f0['length'];_0x442d85++){const _0x111e03=_0x4752f0[_0x442d85],_0x2ef738=_0x2d61e3['getQueryPa'+'rameter'](_0x111e03,_0x2d61e3['QUERY_RESU'+'LT']);_0x492dbb[_0x442d85]=_0x2ef738*(0xac8+0x18a6+0x1*-0x236e+0.000001),this['freeQuerie'+'s']['push'](_0x111e03);}this['report'](_0x320255['renderVers'+'ion'],_0x492dbb);}_0xa2f40&&(this['previousFr'+'ameQueries']['forEach'](_0x3887c=>{this['report'](_0x3887c['renderVers'+'ion'],null),_0x3887c['destroy'](_0x2d61e3);}),this['previousFr'+'ameQueries']['length']=0x1825+0xec*0x19+-0xfbb*0x3);}super['request'](_0x546d34);}}}const Tn=[];class pb extends Fh{constructor(_0x304a09,_0x4425bf={}){super(_0x304a09,_0x4425bf),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(0x119+-0xc5*-0x15+-0x1141)),(_0x4425bf=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x23cf+-0x1e97+-0x537),this['_contextLo'+'stHandler']=_0x1a6884=>{_0x1a6884['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x579698=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x579698&&_0x579698['includes']('AppleWebKi'+'t')&&(_0x579698['includes']('15.4')||_0x579698['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x4425bf['antialias']=!(-0x1*0xf93+-0x23b2+0x3346),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x3726dc=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x3fb910=_0x3726dc?_0x3726dc[0x17*-0x2d+-0xbcb+0xfd7]:null;if(_0x3fb910){const _0x7edf2=parseFloat(_0x3fb910);(ye['name']==='windows'&&(_0x7edf2>=-0xcb4+0x2*0x391+0x60a||_0x7edf2===-0x4e*-0x79+-0xc83*0x2+-0xb65)||ye['name']==='android'&&_0x7edf2>=0x7*0x36f+0x1d0c+-0x3491*0x1)&&(_0x4425bf['antialias']=!(0x1793+-0x13*-0x13d+0x3*-0xfb3),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x3fb910));}}this['backBuffer'+'Antialias']=_0x4425bf['antialias']??!(0x1*0x13+-0x144f+-0x21*-0x9d),_0x4425bf['antialias']=!(0x257f+-0x12+-0x77c*0x5);const _0x5e7602=_0x4425bf['gl']??_0x304a09['getContext']('webgl2',_0x4425bf);if(!_0x5e7602)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x5e7602,this['isWebGL2']=!(0x1*-0x21f+-0x1bd7*0x1+0x1df6),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x52e03f=ye['browserNam'+'e']==='chrome',_0x1a12d3=ye['browserNam'+'e']==='safari',_0x2d8dc7=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x1*0x10b7+0x8*-0x3e9+0x3000);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x1a12d3,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x2d8dc7&&_0x52e03f&&!_0x4425bf['alpha'],_0x304a09['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0xa64+0xa*0x1fa+-0xf9*0x1f)),_0x304a09['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x12*-0x11+-0x6*-0x251+0xcb3*-0x1)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x1a12d3&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x5e7602['SAMPLER_2D'],_0x5e7602['SAMPLER_CU'+'BE'],_0x5e7602['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x5e7602['INT_SAMPLE'+'R_2D'],_0x5e7602['SAMPLER_2D'+'_SHADOW'],_0x5e7602['SAMPLER_CU'+'BE_SHADOW'],_0x5e7602['SAMPLER_3D'],_0x5e7602['INT_SAMPLE'+'R_3D'],_0x5e7602['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x5e7602['SAMPLER_2D'+'_ARRAY'],_0x5e7602['INT_SAMPLE'+'R_2D_ARRAY'],_0x5e7602['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x5e7602['REPEAT'],_0x5e7602['CLAMP_TO_E'+'DGE'],_0x5e7602['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x5e7602['FUNC_ADD'],_0x5e7602['FUNC_SUBTR'+'ACT'],_0x5e7602['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x5e7602['MIN'],_0x5e7602['MAX']],this['glBlendFun'+'ctionColor']=[_0x5e7602['ZERO'],_0x5e7602['ONE'],_0x5e7602['SRC_COLOR'],_0x5e7602['ONE_MINUS_'+'SRC_COLOR'],_0x5e7602['DST_COLOR'],_0x5e7602['ONE_MINUS_'+'DST_COLOR'],_0x5e7602['SRC_ALPHA'],_0x5e7602['SRC_ALPHA_'+'SATURATE'],_0x5e7602['ONE_MINUS_'+'SRC_ALPHA'],_0x5e7602['DST_ALPHA'],_0x5e7602['ONE_MINUS_'+'DST_ALPHA'],_0x5e7602['CONSTANT_C'+'OLOR'],_0x5e7602['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x5e7602['ZERO'],_0x5e7602['ONE'],_0x5e7602['SRC_COLOR'],_0x5e7602['ONE_MINUS_'+'SRC_COLOR'],_0x5e7602['DST_COLOR'],_0x5e7602['ONE_MINUS_'+'DST_COLOR'],_0x5e7602['SRC_ALPHA'],_0x5e7602['SRC_ALPHA_'+'SATURATE'],_0x5e7602['ONE_MINUS_'+'SRC_ALPHA'],_0x5e7602['DST_ALPHA'],_0x5e7602['ONE_MINUS_'+'DST_ALPHA'],_0x5e7602['CONSTANT_A'+'LPHA'],_0x5e7602['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x5e7602['NEVER'],_0x5e7602['LESS'],_0x5e7602['EQUAL'],_0x5e7602['LEQUAL'],_0x5e7602['GREATER'],_0x5e7602['NOTEQUAL'],_0x5e7602['GEQUAL'],_0x5e7602['ALWAYS']],this['glStencilO'+'p']=[_0x5e7602['KEEP'],_0x5e7602['ZERO'],_0x5e7602['REPLACE'],_0x5e7602['INCR'],_0x5e7602['INCR_WRAP'],_0x5e7602['DECR'],_0x5e7602['DECR_WRAP'],_0x5e7602['INVERT']],this['glClearFla'+'g']=[-0x25e5+0x907*-0x4+-0x4ef*-0xf,_0x5e7602['COLOR_BUFF'+'ER_BIT'],_0x5e7602['DEPTH_BUFF'+'ER_BIT'],_0x5e7602['COLOR_BUFF'+'ER_BIT']|_0x5e7602['DEPTH_BUFF'+'ER_BIT'],_0x5e7602['STENCIL_BU'+'FFER_BIT'],_0x5e7602['STENCIL_BU'+'FFER_BIT']|_0x5e7602['COLOR_BUFF'+'ER_BIT'],_0x5e7602['STENCIL_BU'+'FFER_BIT']|_0x5e7602['DEPTH_BUFF'+'ER_BIT'],_0x5e7602['STENCIL_BU'+'FFER_BIT']|_0x5e7602['COLOR_BUFF'+'ER_BIT']|_0x5e7602['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[0x2*-0x68f+-0x35e*-0x7+-0xa74,_0x5e7602['BACK'],_0x5e7602['FRONT'],_0x5e7602['FRONT_AND_'+'BACK']],this['glFilter']=[_0x5e7602['NEAREST'],_0x5e7602['LINEAR'],_0x5e7602['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x5e7602['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x5e7602['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x5e7602['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x5e7602['POINTS'],_0x5e7602['LINES'],_0x5e7602['LINE_LOOP'],_0x5e7602['LINE_STRIP'],_0x5e7602['TRIANGLES'],_0x5e7602['TRIANGLE_S'+'TRIP'],_0x5e7602['TRIANGLE_F'+'AN']],this['glType']=[_0x5e7602['BYTE'],_0x5e7602['UNSIGNED_B'+'YTE'],_0x5e7602['SHORT'],_0x5e7602['UNSIGNED_S'+'HORT'],_0x5e7602['INT'],_0x5e7602['UNSIGNED_I'+'NT'],_0x5e7602['FLOAT'],_0x5e7602['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x5e7602['BOOL']]=ca,this['pcUniformT'+'ype'][_0x5e7602['INT']]=ln,this['pcUniformT'+'ype'][_0x5e7602['FLOAT']]=Ws,this['pcUniformT'+'ype'][_0x5e7602['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x5e7602['FLOAT_VEC3']]=Wt,this['pcUniformT'+'ype'][_0x5e7602['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x5e7602['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x5e7602['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x5e7602['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x5e7602['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x5e7602['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x5e7602['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x5e7602['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x5e7602['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x5e7602['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x5e7602['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x5e7602['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x5e7602['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x5e7602['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x5e7602['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x5e7602['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x5e7602['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x5e7602['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x5e7602['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x5e7602['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x5e7602['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x5e7602['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x5e7602['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x5e7602['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x5e7602['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x5e7602['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x5e7602['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x5e7602['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x5e7602['TEXTURE_2D']]=-0x1*0xa4d+0x3f*-0x21+0x126c,this['targetToSl'+'ot'][_0x5e7602['TEXTURE_CU'+'BE_MAP']]=0x1f4c+-0x237c*0x1+-0x1*-0x431,this['targetToSl'+'ot'][_0x5e7602['TEXTURE_3D']]=0x17aa+-0xc6d*0x1+-0xb3b;let _0x1d5e54,_0x38426f,_0xbd52b9,_0x36baf5,_0x47bece;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x5bdd00,_0x108466){_0x5bdd00['value']!==_0x108466&&(_0x5e7602['uniform1i'](_0x5bdd00['locationId'],_0x108466),_0x5bdd00['value']=_0x108466);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][Ws]=function(_0x16546d,_0x4c83f8){_0x16546d['value']!==_0x4c83f8&&(_0x5e7602['uniform1f'](_0x16546d['locationId'],_0x4c83f8),_0x16546d['value']=_0x4c83f8);},this['commitFunc'+'tion'][or]=function(_0xa0bdc2,_0x153308){_0x47bece=_0xa0bdc2['value'],_0x1d5e54=_0x153308[-0x3*-0x1ed+0x1*-0x226a+0x1ca3*0x1],_0x38426f=_0x153308[0x23e4+-0x2*0x1ff+0x661*-0x5],(_0x47bece[0x1*-0x17b9+0x841+0x4*0x3de]!==_0x1d5e54||_0x47bece[-0x99*0x3b+0x1cc*0xf+-0x130*-0x7]!==_0x38426f)&&(_0x5e7602['uniform2fv'](_0xa0bdc2['locationId'],_0x153308),_0x47bece[-0x1fb0+-0x3*-0x28f+-0x9*-0x2ab]=_0x1d5e54,_0x47bece[0x26bf+0x10*-0x19+-0x252e]=_0x38426f);},this['commitFunc'+'tion'][Wt]=function(_0x58d164,_0x458fb2){_0x47bece=_0x58d164['value'],_0x1d5e54=_0x458fb2[-0x25b5+0xf74+0x1641],_0x38426f=_0x458fb2[0x15*0xa5+0xaee+-0x1876],_0xbd52b9=_0x458fb2[0x22b*0xb+-0x1ae1+-0x2*-0x185],(_0x47bece[-0x1ae9*-0x1+0x1*0x184a+-0x3333]!==_0x1d5e54||_0x47bece[0x1d9f+-0x1df0+0x1*0x52]!==_0x38426f||_0x47bece[0x1fd8*0x1+-0xbe9*0x1+0x13ed*-0x1]!==_0xbd52b9)&&(_0x5e7602['uniform3fv'](_0x58d164['locationId'],_0x458fb2),_0x47bece[0x1*0x76a+0x65d+0x1*-0xdc7]=_0x1d5e54,_0x47bece[0x459+0x1871+-0x1cc9*0x1]=_0x38426f,_0x47bece[-0x80*0x26+-0xbef+-0x1ef1*-0x1]=_0xbd52b9);},this['commitFunc'+'tion'][xa]=function(_0x191e31,_0x3ed370){_0x47bece=_0x191e31['value'],_0x1d5e54=_0x3ed370[-0x10e9*-0x2+-0x6b9*-0x2+-0x113*0x2c],_0x38426f=_0x3ed370[-0x1e04+-0x23*0x51+0x2*0x148c],_0xbd52b9=_0x3ed370[-0xce9+0x2043+0x2*-0x9ac],_0x36baf5=_0x3ed370[0x15c1+0x3*0x28c+-0x1d62],(_0x47bece[-0x1*0x83e+-0xee9+0x1727]!==_0x1d5e54||_0x47bece[-0x12dc+0x41f+0xebe]!==_0x38426f||_0x47bece[0x1e2f+0x13d5+-0x3202]!==_0xbd52b9||_0x47bece[0x932+0x1e7*0x11+0x427*-0xa]!==_0x36baf5)&&(_0x5e7602['uniform4fv'](_0x191e31['locationId'],_0x3ed370),_0x47bece[0x2216+-0xc9d+-0xef*0x17]=_0x1d5e54,_0x47bece[0x17*0xb5+0x1b4b+0x2b8d*-0x1]=_0x38426f,_0x47bece[0xca6*-0x3+-0x1*-0x13c7+-0x63*-0x2f]=_0xbd52b9,_0x47bece[-0xb*0x289+-0x143*0x10+0x3016]=_0x36baf5);},this['commitFunc'+'tion'][Zr]=function(_0x590d54,_0x5ef68b){_0x47bece=_0x590d54['value'],_0x1d5e54=_0x5ef68b[0x8f*0x2e+-0xf40+-0xa72],_0x38426f=_0x5ef68b[0x1294+-0x1*-0x25d9+-0x4*0xe1b],(_0x47bece[-0x1803+0x210e+-0x1*0x90b]!==_0x1d5e54||_0x47bece[0x7e9+-0x3*-0x796+0x2*-0xf55]!==_0x38426f)&&(_0x5e7602['uniform2iv'](_0x590d54['locationId'],_0x5ef68b),_0x47bece[0xe61*0x1+0x1*0x1a63+-0xa31*0x4]=_0x1d5e54,_0x47bece[0x154c+-0x1*-0x1019+-0x2564]=_0x38426f);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x4c7e66,_0x38c9cd){_0x47bece=_0x4c7e66['value'],_0x1d5e54=_0x38c9cd[0x179d+0x39e+-0x1b3b*0x1],_0x38426f=_0x38c9cd[0x7*0x3ed+0x78b+-0x2305],_0xbd52b9=_0x38c9cd[-0xbd2+0x1aa4+0xc*-0x13c],(_0x47bece[-0x1ff+-0x50*-0x44+-0x1f*0x9f]!==_0x1d5e54||_0x47bece[0x2*-0xe71+0xe1a+-0x2f5*-0x5]!==_0x38426f||_0x47bece[-0x6e5+0x3d0+0x317]!==_0xbd52b9)&&(_0x5e7602['uniform3iv'](_0x4c7e66['locationId'],_0x38c9cd),_0x47bece[-0x1*0x1d2+0x576+-0x3a4]=_0x1d5e54,_0x47bece[-0x1348*0x2+-0x1926+0x3fb7]=_0x38426f,_0x47bece[-0x2013+-0x516*0x7+0x1*0x43af]=_0xbd52b9);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x1589aa,_0x164d1f){_0x47bece=_0x1589aa['value'],_0x1d5e54=_0x164d1f[-0x60b*-0x1+-0x2590+-0x1*-0x1f85],_0x38426f=_0x164d1f[0x16e3+-0x3a*0xb+-0x1464],_0xbd52b9=_0x164d1f[0x729+-0x12e2*-0x1+-0x1a09],_0x36baf5=_0x164d1f[0xfbd+0x1*0x13c1+-0x237b],(_0x47bece[-0x2355+0x1d20+-0xe3*-0x7]!==_0x1d5e54||_0x47bece[-0x241a+0x1*0x38d+-0x12*-0x1cf]!==_0x38426f||_0x47bece[0x3*-0x8d+0x1585*-0x1+0x2b*0x8a]!==_0xbd52b9||_0x47bece[-0xe3d*0x1+-0x714+-0xaaa*-0x2]!==_0x36baf5)&&(_0x5e7602['uniform4iv'](_0x1589aa['locationId'],_0x164d1f),_0x47bece[0x2075+-0x5f7*0x3+0xe90*-0x1]=_0x1d5e54,_0x47bece[-0x1c1e+0xcd9+0xf46]=_0x38426f,_0x47bece[0xae7*0x3+0xac9+-0x2b7c]=_0xbd52b9,_0x47bece[-0x1307+-0x25ad+0x38b7]=_0x36baf5);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0x4ec9b3,_0x397f82){_0x5e7602['uniformMat'+'rix2fv'](_0x4ec9b3['locationId'],!(0x1bef+0x1000+0x15f7*-0x2),_0x397f82);},this['commitFunc'+'tion'][ko]=function(_0x3f61ae,_0x6f3b82){_0x5e7602['uniformMat'+'rix3fv'](_0x3f61ae['locationId'],!(0x62*-0x4a+0x24b1+-0x85c),_0x6f3b82);},this['commitFunc'+'tion'][Sa]=function(_0x375bcf,_0xcea365){_0x5e7602['uniformMat'+'rix4fv'](_0x375bcf['locationId'],!(0xfe0+-0x1*0x1f71+0xf92),_0xcea365);},this['commitFunc'+'tion'][Dc]=function(_0x2e9d2f,_0x5a9708){_0x5e7602['uniform1fv'](_0x2e9d2f['locationId'],_0x5a9708);},this['commitFunc'+'tion'][Lc]=function(_0x39e377,_0x5c792a){_0x5e7602['uniform2fv'](_0x39e377['locationId'],_0x5c792a);},this['commitFunc'+'tion'][Fc]=function(_0x55f02c,_0xfce56d){_0x5e7602['uniform3fv'](_0x55f02c['locationId'],_0xfce56d);},this['commitFunc'+'tion'][lp]=function(_0x2d974d,_0x4c3d89){_0x5e7602['uniform4fv'](_0x2d974d['locationId'],_0x4c3d89);},this['commitFunc'+'tion'][va]=function(_0x128fb7,_0x21136f){_0x128fb7['value']!==_0x21136f&&(_0x5e7602['uniform1ui'](_0x128fb7['locationId'],_0x21136f),_0x128fb7['value']=_0x21136f);},this['commitFunc'+'tion'][ba]=function(_0x526958,_0x58954a){_0x47bece=_0x526958['value'],_0x1d5e54=_0x58954a[0x1474+-0x844+0xc*-0x104],_0x38426f=_0x58954a[-0x1a*-0x33+-0x48e*0x1+-0x35*0x3],(_0x47bece[0x3*0x8bf+-0x4c9+-0x1574]!==_0x1d5e54||_0x47bece[0x5ab*-0x4+0x1741+-0x94]!==_0x38426f)&&(_0x5e7602['uniform2ui'+'v'](_0x526958['locationId'],_0x58954a),_0x47bece[0x14*0x1+0x227+0x23b*-0x1]=_0x1d5e54,_0x47bece[0x3*-0x3dd+-0xe*0x17+0xcda]=_0x38426f);},this['commitFunc'+'tion'][wa]=function(_0x1bca32,_0x5e05f1){_0x47bece=_0x1bca32['value'],_0x1d5e54=_0x5e05f1[0xb7e*0x2+0x890+-0x3*0xa84],_0x38426f=_0x5e05f1[0xe67+-0x8b*-0x1a+-0x1c84],_0xbd52b9=_0x5e05f1[-0x1497+0x10a4+-0x1*-0x3f5],(_0x47bece[0x1*0x2493+0x61*-0x2f+0x962*-0x2]!==_0x1d5e54||_0x47bece[-0x6b*0x26+0xc7*-0x2+0x1171]!==_0x38426f||_0x47bece[-0x1eec+0x1c38+-0x2b6*-0x1]!==_0xbd52b9)&&(_0x5e7602['uniform3ui'+'v'](_0x1bca32['locationId'],_0x5e05f1),_0x47bece[0x1416+-0x1d5d+0x19*0x5f]=_0x1d5e54,_0x47bece[-0xf25*-0x1+0xf39+-0x1e5d]=_0x38426f,_0x47bece[0x9*-0x2ab+-0x3*-0xbb9+-0xb26*0x1]=_0xbd52b9);},this['commitFunc'+'tion'][Ta]=function(_0x5d79c1,_0x2d750c){_0x47bece=_0x5d79c1['value'],_0x1d5e54=_0x2d750c[-0xa84+-0x93*-0x2+0xb*0xda],_0x38426f=_0x2d750c[-0xa43*-0x3+0x133f+-0x3207],_0xbd52b9=_0x2d750c[0x1193*0x1+0xa*-0x14a+0x3*-0x18f],_0x36baf5=_0x2d750c[0x93a+0xd7*0x22+-0x25c5],(_0x47bece[0x269b*0x1+0x19ab*-0x1+-0xcf0]!==_0x1d5e54||_0x47bece[0xe49+-0xd10+-0x138]!==_0x38426f||_0x47bece[-0x29*-0x43+-0x9fa*0x3+-0x21*-0x95]!==_0xbd52b9||_0x47bece[0x1dac+0x1d7e+-0x3b27]!==_0x36baf5)&&(_0x5e7602['uniform4ui'+'v'](_0x5d79c1['locationId'],_0x2d750c),_0x47bece[-0x21e8+-0x46*-0xe+0x16*0x15e]=_0x1d5e54,_0x47bece[0x12d9+-0x4a0*-0x7+-0x3338]=_0x38426f,_0x47bece[0x9a+0x221f+-0x22b7*0x1]=_0xbd52b9,_0x47bece[-0x2628+-0x11a0+0x37cb]=_0x36baf5);},this['commitFunc'+'tion'][Aa]=function(_0xd9aa4c,_0x1d49dc){_0x5e7602['uniform1iv'](_0xd9aa4c['locationId'],_0x1d49dc);},this['commitFunc'+'tion'][Oc]=function(_0x4cf0d0,_0x39769a){_0x5e7602['uniform1ui'+'v'](_0x4cf0d0['locationId'],_0x39769a);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0x1c98cf,_0x3958e4){_0x5e7602['uniform2iv'](_0x1c98cf['locationId'],_0x3958e4);},this['commitFunc'+'tion'][Bc]=function(_0x424ac5,_0x21383e){_0x5e7602['uniform2ui'+'v'](_0x424ac5['locationId'],_0x21383e);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x56e42d,_0xa9bd50){_0x5e7602['uniform3iv'](_0x56e42d['locationId'],_0xa9bd50);},this['commitFunc'+'tion'][zc]=function(_0x1ef1d7,_0x5cc632){_0x5e7602['uniform3ui'+'v'](_0x1ef1d7['locationId'],_0x5cc632);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0xeba8fa,_0x43eb62){_0x5e7602['uniform4iv'](_0xeba8fa['locationId'],_0x43eb62);},this['commitFunc'+'tion'][hp]=function(_0xc9416b,_0x5f5110){_0x5e7602['uniform4ui'+'v'](_0xc9416b['locationId'],_0x5f5110);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x2309cc,_0x1a35d2){_0x5e7602['uniformMat'+'rix4fv'](_0x2309cc['locationId'],!(0x9*-0x209+-0x1871+0x2ac3),_0x1a35d2);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x28c8ae=this['gl'];this['feedback']&&_0x28c8ae['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x116d+0xb85*0x2+0x143b*-0x2)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x161f+0x1*0x3b7+-0x19d5)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x31fed7){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x31fed7;}['updateBack'+'bufferForm'+'at'](_0x48399d){const _0x1de0ae=this['gl'];_0x1de0ae['bindFrameb'+'uffer'](_0x1de0ae['FRAMEBUFFE'+'R'],_0x48399d);const _0xb8a51b=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0xb8a51b?Se:dr;}['updateBack'+'buffer'](){const _0x518a0c=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x518a0c)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x1da*0x1+-0x1f95+0x1dbc),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x29312c,_0x2323c1){return new sb();}['createInde'+'xBufferImp'+'l'](_0x3ba0ec){return new ib(_0x3ba0ec);}['createShad'+'erImpl'](_0x392977){return new lb(_0x392977);}['createText'+'ureImpl'](_0xef383e){return new hb(_0xef383e);}['createRend'+'erTargetIm'+'pl'](_0x3e059a){return new db();}['pushMarker'](_0x4ecec9){if(ye['browser']&&window['spector']){const _0x5b9548=G['toString']();window['spector']['setMarker'](_0x5b9548+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x5af4dd=G['toString']();_0x5af4dd['length']?window['spector']['setMarker'](_0x5af4dd+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x490bc7=this['gl'];let _0x45e4bd='highp';if(_0x490bc7['getShaderP'+'recisionFo'+'rmat']){const _0x25153e=_0x490bc7['getShaderP'+'recisionFo'+'rmat'](_0x490bc7['VERTEX_SHA'+'DER'],_0x490bc7['HIGH_FLOAT']),_0x584bc2=_0x490bc7['getShaderP'+'recisionFo'+'rmat'](_0x490bc7['VERTEX_SHA'+'DER'],_0x490bc7['MEDIUM_FLO'+'AT']),_0x153ac4=_0x490bc7['getShaderP'+'recisionFo'+'rmat'](_0x490bc7['FRAGMENT_S'+'HADER'],_0x490bc7['HIGH_FLOAT']),_0x104852=_0x490bc7['getShaderP'+'recisionFo'+'rmat'](_0x490bc7['FRAGMENT_S'+'HADER'],_0x490bc7['MEDIUM_FLO'+'AT']);if(_0x25153e&&_0x584bc2&&_0x153ac4&&_0x104852){const _0x24b918=_0x25153e['precision']>0x6*-0x3f1+-0x13d*-0xd+-0x1*-0x78d&&_0x153ac4['precision']>-0x17ec+-0x1fff+0x37eb,_0x3f6820=_0x584bc2['precision']>0xe*0x82+-0x189f+0x1183*0x1&&_0x104852['precision']>-0x7c5+-0x1de9+-0x2b1*-0xe;_0x24b918||(_0x3f6820?(_0x45e4bd='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x45e4bd='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x45e4bd;}['getExtensi'+'on'](){for(let _0x530429=0x14c+0xd*0x25f+-0x201f;_0x530429<arguments['length'];_0x530429++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x530429])!==-(-0x35*0x9d+0x9f3+0x168f))return this['gl']['getExtensi'+'on'](arguments[_0x530429]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x38be34=this['gl'];this['supportedE'+'xtensions']=_0x38be34['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x6d4+-0x23e1*0x1+0x2ab5),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x32a404=this['gl'];let _0x3816f9;const _0x2b8d33=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x2e2909=_0x32a404['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x2e2909==null?void(-0x1d57+-0x124a*0x1+-0x1*-0x2fa1):_0x2e2909['antialias'])??!(0x1*-0x24c9+-0x3*0x739+-0x16d*-0x29),this['supportsSt'+'encil']=(_0x2e2909==null?void(-0x22e2+-0x1*-0x7f9+0x1*0x1ae9):_0x2e2909['stencil'])??!(0x1*-0xa93+-0x222f+0x2cc3),this['maxTexture'+'Size']=_0x32a404['getParamet'+'er'](_0x32a404['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x32a404['getParamet'+'er'](_0x32a404['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x32a404['getParamet'+'er'](_0x32a404['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x32a404['getParamet'+'er'](_0x32a404['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x32a404['getParamet'+'er'](_0x32a404['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x32a404['getParamet'+'er'](_0x32a404['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x32a404['getParamet'+'er'](_0x32a404['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x32a404['getParamet'+'er'](_0x32a404['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x32a404['getParamet'+'er'](_0x32a404['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x32a404['getParamet'+'er'](_0x32a404['MAX_3D_TEX'+'TURE_SIZE']),_0x3816f9=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x3816f9?_0x32a404['getParamet'+'er'](_0x3816f9['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x3816f9?_0x32a404['getParamet'+'er'](_0x3816f9['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x36270d=/\bMali-G52+/,_0x4eb0ce=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x2b8d33['match'](_0x4eb0ce))&&!this['unmaskedRe'+'nderer']['match'](_0x36270d),_0x3816f9=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x3816f9?_0x32a404['getParamet'+'er'](_0x3816f9['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x63b+0x21e9+-0x1bad;const _0x51e84f=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x51e84f?_0x32a404['getParamet'+'er'](_0x32a404['MAX_SAMPLE'+'S']):0x6de+0x421+-0xafe,this['maxSamples']=Math['min'](this['maxSamples'],-0x9*-0x256+-0x223a+0x69c*0x2),this['samples']=_0x51e84f&&this['backBuffer'+'Antialias']?this['maxSamples']:0xe3*0x19+-0x13ae+-0x27c,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=0x49e*-0x6+0x395*-0x1+0x1f51&&(this['supportsAr'+'eaLights']=!(-0x23c7+0xbc+0x230c));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x2b50f9=this['gl'];_0x2b50f9['disable'](_0x2b50f9['BLEND']),_0x2b50f9['blendFunc'](_0x2b50f9['ONE'],_0x2b50f9['ZERO']),_0x2b50f9['blendEquat'+'ion'](_0x2b50f9['FUNC_ADD']),_0x2b50f9['colorMask'](!(-0x1007+0x23b+0xdcc),!(0xc9*-0x3+0x2023+-0x772*0x4),!(0x1dcd+0xca7*0x1+-0x2a74),!(-0x1bf5+0xd*0x4d+-0x804*-0x3)),_0x2b50f9['blendColor'](0x10ea+0x198b+-0x2a75,-0x3*0x31f+0x1c30+-0x12d3,-0x1c6f+0x22eb+-0x67c,0xa*0x3d7+0x8*0x53+0x1dd*-0x16),_0x2b50f9['enable'](_0x2b50f9['CULL_FACE']),this['cullFace']=_0x2b50f9['BACK'],_0x2b50f9['cullFace'](_0x2b50f9['BACK']),_0x2b50f9['enable'](_0x2b50f9['DEPTH_TEST']),_0x2b50f9['depthFunc'](_0x2b50f9['LEQUAL']),_0x2b50f9['depthMask'](!(0x15ad+-0x20f0+0xb43*0x1)),this['stencil']=!(0x613+-0x20fb*-0x1+-0x270d*0x1),_0x2b50f9['disable'](_0x2b50f9['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x2593+0x32c*-0xc+0x1*0x4ba3,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x532+0xcc8+0x1e3*-0x9,_0x2b50f9['stencilFun'+'c'](_0x2b50f9['ALWAYS'],-0x49*0x47+0x129+0x1316,0x13cd+-0x2642+0x1374),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=0xe7a+-0x3b1+-0x9ca,this['stencilWri'+'teMaskBack']=0x59*0xf+0x115+0x17*-0x3b,_0x2b50f9['stencilOp'](_0x2b50f9['KEEP'],_0x2b50f9['KEEP'],_0x2b50f9['KEEP']),_0x2b50f9['stencilMas'+'k'](0x269f+-0x2384+-0x21c),this['alphaToCov'+'erage']=!(-0x133*0x1+0xa5*0x18+-0xe44),this['raster']=!(-0x1af3+-0x1bba+0x36ad),_0x2b50f9['disable'](_0x2b50f9['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x2b50f9['disable'](_0x2b50f9['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x15*0x161+-0x4*0x248+-0x130b*-0x2),_0x2b50f9['disable'](_0x2b50f9['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x176f+0x4*-0x913+0x225*0x6,_0x2b50f9['clearDepth'](-0x1b19+0x108b*-0x2+0x6*0xa08),this['clearColor']=new j(0xfb*-0x18+0x25*0x1f+0x130d,0x1c69+0x174e+-0x33b7*0x1,0x38f*-0x4+0x15cc+-0x790,0x16e6+0xb4e+-0x2234),_0x2b50f9['clearColor'](-0x26bf+-0x1232+0x38f1,-0x25d5+-0x1*0x24f+-0xe*-0x2de,-0x1e95+-0x21*-0x63+0x11d2,-0x92e+0xa85*0x3+0x151*-0x11),this['clearStenc'+'il']=-0xfb8+0x1480+0x33*-0x18,_0x2b50f9['clearStenc'+'il'](0x1fc0+-0x109d*0x2+0x17a),_0x2b50f9['hint'](_0x2b50f9['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x2b50f9['NICEST']),_0x2b50f9['enable'](_0x2b50f9['SCISSOR_TE'+'ST']),_0x2b50f9['pixelStore'+'i'](_0x2b50f9['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x2b50f9['NONE']),this['unpackFlip'+'Y']=!(0x977+-0x5cb*0x5+0x1*0x1381),_0x2b50f9['pixelStore'+'i'](_0x2b50f9['UNPACK_FLI'+'P_Y_WEBGL'],!(0xf90+-0xd9*-0x13+-0x1faa)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x4*-0x2fd+-0x19*0x1a+-0x3*-0x4d5),_0x2b50f9['pixelStore'+'i'](_0x2b50f9['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x19*-0x112+-0x475+0x1f38)),_0x2b50f9['pixelStore'+'i'](_0x2b50f9['UNPACK_ALI'+'GNMENT'],-0x56a+-0x820+0x1*0xd8b);}['initTextur'+'eUnits'](_0x42ac05=-0x1db8+-0x2065+0x3e2d){this['textureUni'+'ts']=[];for(let _0x2ae9a9=0x2e5+-0x2178+0x1e93;_0x2ae9a9<_0x42ac05;_0x2ae9a9++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x25*0x11+0x14*-0x87+0xd01,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x3f0452 of this['shaders'])_0x3f0452['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x28c6ad of this['shaders'])_0x28c6ad['restoreCon'+'text']();}['setViewpor'+'t'](_0x25a385,_0x3d1d7d,_0x176c49,_0x5cb6a0){(this['vx']!==_0x25a385||this['vy']!==_0x3d1d7d||this['vw']!==_0x176c49||this['vh']!==_0x5cb6a0)&&(this['gl']['viewport'](_0x25a385,_0x3d1d7d,_0x176c49,_0x5cb6a0),this['vx']=_0x25a385,this['vy']=_0x3d1d7d,this['vw']=_0x176c49,this['vh']=_0x5cb6a0);}['setScissor'](_0xfc4378,_0x33a237,_0x31b009,_0x11ccba){(this['sx']!==_0xfc4378||this['sy']!==_0x33a237||this['sw']!==_0x31b009||this['sh']!==_0x11ccba)&&(this['gl']['scissor'](_0xfc4378,_0x33a237,_0x31b009,_0x11ccba),this['sx']=_0xfc4378,this['sy']=_0x33a237,this['sw']=_0x31b009,this['sh']=_0x11ccba);}['setFramebu'+'ffer'](_0xc2a6e5){if(this['activeFram'+'ebuffer']!==_0xc2a6e5){const _0x23df0b=this['gl'];_0x23df0b['bindFrameb'+'uffer'](_0x23df0b['FRAMEBUFFE'+'R'],_0xc2a6e5),this['activeFram'+'ebuffer']=_0xc2a6e5;}}['copyRender'+'Target'](_0x33fddb,_0x32ab75,_0x3d06da,_0x542e18){var _0xd629f5,_0x4640ae;const _0x149932=this['gl'];if(_0x33fddb===this['backBuffer']&&(_0x33fddb=null),_0x3d06da){if(_0x32ab75){if(_0x33fddb){if(!_0x33fddb['_colorBuff'+'er']||!_0x32ab75['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x169c+-0xb6+0x1*0x1753);if(_0x33fddb['_colorBuff'+'er']['_format']!==_0x32ab75['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x249b*0x1+0x1040+0x517*0x4);}}else{if(!_0x33fddb['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x1*-0xb89+-0x2476+0x18ee);}}if(_0x542e18&&_0x33fddb&&!_0x33fddb['_depth']){if(!_0x33fddb['_depthBuff'+'er']||!_0x32ab75['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x3ea*-0x3+0x1*0x924+0x29b);if(_0x33fddb['_depthBuff'+'er']['_format']!==_0x32ab75['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x54d*-0x1+-0x1afd+0x204b);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x23f6b8=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x32ab75,this['updateBegi'+'n']();const _0x445100=_0x33fddb?_0x33fddb['impl']['_glFrameBu'+'ffer']:(_0xd629f5=this['backBuffer'])==null?void(0x5ea*0x6+0x10*-0x1e3+-0x54c):_0xd629f5['impl']['_glFrameBu'+'ffer'],_0x364c4c=_0x32ab75?_0x32ab75['impl']['_glFrameBu'+'ffer']:(_0x4640ae=this['backBuffer'])==null?void(0x19e3+0xde2+0x1*-0x27c5):_0x4640ae['impl']['_glFrameBu'+'ffer'];v['assert'](_0x445100!==_0x364c4c,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x149932['bindFrameb'+'uffer'](_0x149932['READ_FRAME'+'BUFFER'],_0x445100),_0x149932['bindFrameb'+'uffer'](_0x149932['DRAW_FRAME'+'BUFFER'],_0x364c4c);const _0x5a832c=_0x33fddb?_0x33fddb['width']:_0x32ab75?_0x32ab75['width']:this['width'],_0xb7333f=_0x33fddb?_0x33fddb['height']:_0x32ab75?_0x32ab75['height']:this['height'];return _0x149932['blitFrameb'+'uffer'](0xf*0x121+0x200+0x1*-0x12ef,-0xcc5+0x14fd+0x4*-0x20e,_0x5a832c,_0xb7333f,0x8+-0x1f*0x1+0x17*0x1,0x210e*0x1+-0x9*0xdb+-0x195b*0x1,_0x5a832c,_0xb7333f,(_0x3d06da?_0x149932['COLOR_BUFF'+'ER_BIT']:0x21d6+0x181e+0x4*-0xe7d)|(_0x542e18?_0x149932['DEPTH_BUFF'+'ER_BIT']:-0xeb2*-0x2+-0x1*0x125e+-0xb06),_0x149932['NEAREST']),this['renderTarg'+'et']=_0x23f6b8,_0x149932['bindFrameb'+'uffer'](_0x149932['FRAMEBUFFE'+'R'],_0x23f6b8?_0x23f6b8['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(0x4*-0x17f+0x19fc*-0x1+0x1ff8);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x351b9d){const _0x1a337d=_0x351b9d['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x1a337d,v['assert'](_0x1a337d),G['pushGpuMar'+'ker'](this,'Pass:'+_0x351b9d['name']+'\x20RT:'+_0x1a337d['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x4f3deb,height:_0x193e0a}=_0x1a337d;this['setViewpor'+'t'](0x313*-0x5+0x7d9+0x786,0x2343+0x15ab+-0x15*0x2b6,_0x4f3deb,_0x193e0a),this['setScissor'](0xc*-0xa9+-0x141*0x1d+0x3*0xec3,-0x1a*-0x22+0xd8d*-0x2+0x3f1*0x6,_0x4f3deb,_0x193e0a);const _0x27ac65=_0x351b9d['colorOps'],_0x5e15b6=_0x351b9d['depthStenc'+'ilOps'];if(_0x27ac65!=null&&_0x27ac65['clear']||_0x5e15b6['clearDepth']||_0x5e15b6['clearStenc'+'il']){let _0xa77805=-0x118*-0x13+-0xc1*0x7+-0xf81;const _0xc88422={};_0x27ac65!=null&&_0x27ac65['clear']&&(_0xa77805|=Co,_0xc88422['color']=[_0x27ac65['clearValue']['r'],_0x27ac65['clearValue']['g'],_0x27ac65['clearValue']['b'],_0x27ac65['clearValue']['a']]),_0x5e15b6['clearDepth']&&(_0xa77805|=Mo,_0xc88422['depth']=_0x5e15b6['clearDepth'+'Value']),_0x5e15b6['clearStenc'+'il']&&(_0xa77805|=Ah,_0xc88422['stencil']=_0x5e15b6['clearStenc'+'ilValue']),_0xc88422['flags']=_0xa77805,this['clear'](_0xc88422);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x1e7*-0x13+-0x16ae+0x3*-0x47d),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x54d02b){var _0x4e44e5;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x2dfbe9=this['renderTarg'+'et'],_0x5ddf59=_0x54d02b['colorArray'+'Ops']['length'];if(_0x2dfbe9){Tn['length']=0x7d*0x3a+-0x1*0x176b+-0x4e7;const _0xc74a4f=this['gl'];for(let _0x134a00=0x146b+-0x82e+-0xc3d;_0x134a00<_0x5ddf59;_0x134a00++){const _0x1c0821=_0x54d02b['colorArray'+'Ops'][_0x134a00];_0x1c0821['store']||_0x1c0821['resolve']||Tn['push'](_0xc74a4f['COLOR_ATTA'+'CHMENT0']+_0x134a00);}_0x2dfbe9!==this['backBuffer']&&(_0x54d02b['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0xc74a4f['DEPTH_ATTA'+'CHMENT']),_0x54d02b['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0xc74a4f['STENCIL_AT'+'TACHMENT'])),Tn['length']>-0x191a+-0x1*-0x188+0x1792&&_0x54d02b['fullSizeCl'+'earRect']&&_0xc74a4f['invalidate'+'Framebuffe'+'r'](_0xc74a4f['DRAW_FRAME'+'BUFFER'],Tn),_0x5ddf59&&((_0x4e44e5=_0x54d02b['colorOps'])!=null&&_0x4e44e5['resolve'])&&_0x54d02b['samples']>0x72*-0x6+-0x57*-0x41+0x7*-0x2c6&&_0x2dfbe9['autoResolv'+'e']&&_0x2dfbe9['resolve'](!(0xfbc+0x291+-0x124d),!(0x2506+-0x714+-0xdb*0x23)),_0x2dfbe9['depthBuffe'+'r']&&_0x54d02b['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x54d02b['samples']>0x252f*0x1+0x905+-0x2e33&&_0x2dfbe9['autoResolv'+'e']&&_0x2dfbe9['resolve'](!(0x5dd*0x1+-0x8bc*0x1+0x2e0),!(0x1168*0x1+0x13d6*-0x1+0x26e));for(let _0x2812f8=0xf8*0x10+-0x312*0x2+0x95c*-0x1;_0x2812f8<_0x5ddf59;_0x2812f8++)if(_0x54d02b['colorArray'+'Ops'][_0x2812f8]['genMipmaps']){const _0x3175e4=_0x2dfbe9['_colorBuff'+'ers'][_0x2812f8];_0x3175e4&&_0x3175e4['impl']['_glTexture']&&_0x3175e4['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x2812f8),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x2a3+-0x14*0xab+0x2*0x800)),this['bindTextur'+'e'](_0x3175e4),this['gl']['generateMi'+'pmap'](_0x3175e4['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x119a+0xa0+0x10fb),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x517053){this['_defaultFr'+'amebuffer']!==_0x517053&&(this['_defaultFr'+'amebuffer']=_0x517053,this['_defaultFr'+'amebufferC'+'hanged']=!(0x24d4+-0x1*-0x221b+-0x46ef));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x2a8d73=0xdb9*-0x1+0x1*0x88d+-0x14b*-0x4;_0x2a8d73<this['textureUni'+'ts']['length'];++_0x2a8d73)for(let _0x55b772=0xed*0x8+0x12fd*-0x2+0x1e92;_0x55b772<0x834+0x2679+-0x2eaa;++_0x55b772)this['textureUni'+'ts'][_0x2a8d73][_0x55b772]=null;}const _0x387f20=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0x387f20);const _0x266eca=_0x387f20['impl'];_0x266eca['initialize'+'d']||this['initRender'+'Target'](_0x387f20),this['setFramebu'+'ffer'](_0x266eca['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x79ed1=this['renderTarg'+'et'];if(_0x79ed1&&_0x79ed1!==this['backBuffer']){_0x79ed1['_samples']>0x1*0xec2+-0xada+0x1b*-0x25&&_0x79ed1['autoResolv'+'e']&&_0x79ed1['resolve']();const _0x4fb30a=_0x79ed1['_colorBuff'+'er'];_0x4fb30a&&_0x4fb30a['impl']['_glTexture']&&_0x4fb30a['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x1797+0x128f+0x1*0x509)),this['bindTextur'+'e'](_0x4fb30a),this['gl']['generateMi'+'pmap'](_0x4fb30a['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x34cb14){if(this['unpackFlip'+'Y']!==_0x34cb14){this['unpackFlip'+'Y']=_0x34cb14;const _0x2cea18=this['gl'];_0x2cea18['pixelStore'+'i'](_0x2cea18['UNPACK_FLI'+'P_Y_WEBGL'],_0x34cb14);}}['setUnpackP'+'remultiply'+'Alpha'](_0x23e057){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x23e057){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x23e057;const _0x471b9c=this['gl'];_0x471b9c['pixelStore'+'i'](_0x471b9c['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x23e057);}}['activeText'+'ure'](_0x168150){this['textureUni'+'t']!==_0x168150&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x168150),this['textureUni'+'t']=_0x168150);}['bindTextur'+'e'](_0x3ef75f){const _0x1bec82=_0x3ef75f['impl'],_0x5c828a=_0x1bec82['_glTarget'],_0x2bcc24=_0x1bec82['_glTexture'],_0x3d53cd=this['textureUni'+'t'],_0x5dee67=this['targetToSl'+'ot'][_0x5c828a];this['textureUni'+'ts'][_0x3d53cd][_0x5dee67]!==_0x2bcc24&&(this['gl']['bindTextur'+'e'](_0x5c828a,_0x2bcc24),this['textureUni'+'ts'][_0x3d53cd][_0x5dee67]=_0x2bcc24);}['bindTextur'+'eOnUnit'](_0x12c61e,_0x32976b){const _0x4202b9=_0x12c61e['impl'],_0x1a4219=_0x4202b9['_glTarget'],_0x5548d1=_0x4202b9['_glTexture'],_0x2f20bf=this['targetToSl'+'ot'][_0x1a4219];this['textureUni'+'ts'][_0x32976b][_0x2f20bf]!==_0x5548d1&&(this['activeText'+'ure'](_0x32976b),this['gl']['bindTextur'+'e'](_0x1a4219,_0x5548d1),this['textureUni'+'ts'][_0x32976b][_0x2f20bf]=_0x5548d1);}['setTexture'+'Parameters'](_0x39cd14){const _0x3f7345=this['gl'],_0x554fa2=_0x39cd14['impl']['dirtyParam'+'eterFlags'],_0x215b73=_0x39cd14['impl']['_glTarget'];if(_0x554fa2&zy){let _0x34a615=_0x39cd14['_minFilter'];(!_0x39cd14['_mipmaps']||_0x39cd14['_compresse'+'d']&&_0x39cd14['_levels']['length']===0x1a5+-0x1253*0x2+0x1*0x2302)&&(_0x34a615===fc||_0x34a615===pc?_0x34a615=de:(_0x34a615===mc||_0x34a615===nn)&&(_0x34a615=st)),_0x3f7345['texParamet'+'eri'](_0x215b73,_0x3f7345['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x34a615]);}if(_0x554fa2&Uy&&_0x3f7345['texParamet'+'eri'](_0x215b73,_0x3f7345['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x39cd14['_magFilter']]),_0x554fa2&Vy&&_0x3f7345['texParamet'+'eri'](_0x215b73,_0x3f7345['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x39cd14['_addressU']]),_0x554fa2&Gy&&_0x3f7345['texParamet'+'eri'](_0x215b73,_0x3f7345['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x39cd14['_addressV']]),_0x554fa2&Hy&&_0x3f7345['texParamet'+'eri'](_0x215b73,_0x3f7345['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x39cd14['_addressW']]),_0x554fa2&$y&&_0x3f7345['texParamet'+'eri'](_0x215b73,_0x3f7345['TEXTURE_CO'+'MPARE_MODE'],_0x39cd14['_compareOn'+'Read']?_0x3f7345['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x3f7345['NONE']),_0x554fa2&Wy&&_0x3f7345['texParamet'+'eri'](_0x215b73,_0x3f7345['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x39cd14['_compareFu'+'nc']]),_0x554fa2&qy){const _0x4665e2=this['extTexture'+'FilterAnis'+'otropic'];_0x4665e2&&_0x3f7345['texParamet'+'erf'](_0x215b73,_0x4665e2['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x39cd14['_anisotrop'+'y']),0x9*-0x30a+0x1cec+-0x191,this['maxAnisotr'+'opy']));}}['setTexture'](_0x3f38a3,_0x28aa2c){const _0xe3050=_0x3f38a3['impl'];_0xe3050['_glTexture']||_0xe3050['initialize'](this,_0x3f38a3),_0xe3050['dirtyParam'+'eterFlags']>0x9ee+-0xa0b*0x3+-0x1*-0x1433||_0x3f38a3['_needsUplo'+'ad']||_0x3f38a3['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x28aa2c),this['bindTextur'+'e'](_0x3f38a3),_0xe3050['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x3f38a3),_0xe3050['dirtyParam'+'eterFlags']=-0xa83+0x1*-0x1933+0x23b6),(_0x3f38a3['_needsUplo'+'ad']||_0x3f38a3['_needsMipm'+'apsUpload'])&&(_0xe3050['upload'](this,_0x3f38a3),_0x3f38a3['_needsUplo'+'ad']=!(0x13a+-0x11*-0x11b+-0x1404),_0x3f38a3['_needsMipm'+'apsUpload']=!(0x3c+0x1515+-0x1550))):this['bindTextur'+'eOnUnit'](_0x3f38a3,_0x28aa2c);}['createVert'+'exArray'](_0x1fab79){let _0x5c877a,_0x4f23d5;const _0x417099=_0x1fab79['length']>0x1202+0x734+0x3*-0x867;if(_0x417099){_0x5c877a='';for(let _0x1788b3=-0x2fb*0x7+-0x1*0x5d2+-0xb*-0x26d;_0x1788b3<_0x1fab79['length'];_0x1788b3++){const _0x298413=_0x1fab79[_0x1788b3];_0x5c877a+=_0x298413['id']+_0x298413['format']['renderingH'+'ash'];}_0x4f23d5=this['_vaoMap']['get'](_0x5c877a);}if(!_0x4f23d5){const _0x447bf5=this['gl'];_0x4f23d5=_0x447bf5['createVert'+'exArray'](),_0x447bf5['bindVertex'+'Array'](_0x4f23d5),_0x447bf5['bindBuffer'](_0x447bf5['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x55676e=!(-0x1f05+0x14d+-0x7*-0x43f);for(let _0x1ca793=0x14*0x56+0xc74*0x2+-0x1fa0;_0x1ca793<_0x1fab79['length'];_0x1ca793++){const _0x6d42db=_0x1fab79[_0x1ca793];_0x447bf5['bindBuffer'](_0x447bf5['ARRAY_BUFF'+'ER'],_0x6d42db['impl']['bufferId']);const _0x41808b=_0x6d42db['format']['elements'];for(let _0x4f501a=-0x120+0xcf9+-0xbd9;_0x4f501a<_0x41808b['length'];_0x4f501a++){const _0x4cc9a4=_0x41808b[_0x4f501a],_0x2c15e6=ve[_0x4cc9a4['name']];_0x2c15e6===0x385+0x18b8+-0x1c3d&&(_0x55676e=!(-0x265d*-0x1+0x269b+-0x4cf8)),_0x4cc9a4['asInt']?_0x447bf5['vertexAttr'+'ibIPointer'](_0x2c15e6,_0x4cc9a4['numCompone'+'nts'],this['glType'][_0x4cc9a4['dataType']],_0x4cc9a4['stride'],_0x4cc9a4['offset']):_0x447bf5['vertexAttr'+'ibPointer'](_0x2c15e6,_0x4cc9a4['numCompone'+'nts'],this['glType'][_0x4cc9a4['dataType']],_0x4cc9a4['normalize'],_0x4cc9a4['stride'],_0x4cc9a4['offset']),_0x447bf5['enableVert'+'exAttribAr'+'ray'](_0x2c15e6),_0x6d42db['format']['instancing']&&_0x447bf5['vertexAttr'+'ibDivisor'](_0x2c15e6,0xee7+0x3*0x765+-0x2515*0x1);}}_0x447bf5['bindVertex'+'Array'](null),_0x447bf5['bindBuffer'](_0x447bf5['ARRAY_BUFF'+'ER'],null),_0x417099&&this['_vaoMap']['set'](_0x5c877a,_0x4f23d5),_0x55676e||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x4f23d5;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x4cc2cb=this['gl'];let _0x4393c4;if(this['vertexBuff'+'ers']['length']===-0x208c*-0x1+0x31a*-0x7+-0xad5){const _0x34cc87=this['vertexBuff'+'ers'][-0x34a*-0x1+0x249*-0x11+0x238f];v['assert'](_0x34cc87['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x34cc87['impl']['vao']||(_0x34cc87['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x4393c4=_0x34cc87['impl']['vao'];}else _0x4393c4=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x4393c4&&(this['boundVao']=_0x4393c4,_0x4cc2cb['bindVertex'+'Array'](_0x4393c4)),this['clearVerte'+'xBuffer']();const _0x319d40=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x4cc2cb['bindBuffer'](_0x4cc2cb['ELEMENT_AR'+'RAY_BUFFER'],_0x319d40);}['draw'](_0x354c8f,_0x412091,_0x1268a3){const _0x11bce3=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x168b3e,_0x5c325e,_0x18c252,_0x56e3c3,_0x30081c,_0x39fb1c,_0xa16b8a,_0xd574c6;const _0x1e6c96=this['shader'];if(!_0x1e6c96)return;const _0x58cafc=_0x1e6c96['impl']['samplers'],_0x23886b=_0x1e6c96['impl']['uniforms'];_0x1268a3||this['setBuffers']();let _0x4aae04=-0x1b*-0x3a+-0x13*0x1bf+0x1b0f;for(let _0x22c3a1=-0x4cf*-0x7+0x1ac2+-0x3c6b,_0x50dd53=_0x58cafc['length'];_0x22c3a1<_0x50dd53;_0x22c3a1++){if(_0x168b3e=_0x58cafc[_0x22c3a1],_0x5c325e=_0x168b3e['scopeId']['value'],!_0x5c325e){const _0x22d27c=_0x168b3e['scopeId']['name'];v['assert'](_0x22d27c!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x22d27c!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x22d27c==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x5c325e=en(this,'white')),_0x22d27c==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x5c325e=en(this,'pink')),_0x5c325e||(v['errorOnce']('Shader\x20'+_0x1e6c96['name']+'\x20requires\x20'+_0x22d27c+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x5c325e=en(this,'pink'));}if(_0x5c325e instanceof he)_0x18c252=_0x5c325e,this['setTexture'](_0x18c252,_0x4aae04),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x213b+-0x2420+0x2e7*0x1&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x18c252?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x18c252}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x18c252&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x18c252})),_0x168b3e['slot']!==_0x4aae04&&(_0x11bce3['uniform1i'](_0x168b3e['locationId'],_0x4aae04),_0x168b3e['slot']=_0x4aae04),_0x4aae04++;else{_0x168b3e['array']['length']=0x13*-0x11+0xa14+-0x25*0x3d,_0x56e3c3=_0x5c325e['length'];for(let _0x29b884=-0xe7a*-0x2+0x12f+-0x1e23*0x1;_0x29b884<_0x56e3c3;_0x29b884++)_0x18c252=_0x5c325e[_0x29b884],this['setTexture'](_0x18c252,_0x4aae04),_0x168b3e['array'][_0x29b884]=_0x4aae04,_0x4aae04++;_0x11bce3['uniform1iv'](_0x168b3e['locationId'],_0x168b3e['array']);}}for(let _0x126115=-0x161e+-0x567*0x2+0x20ec,_0x50b0ba=_0x23886b['length'];_0x126115<_0x50b0ba;_0x126115++)_0x30081c=_0x23886b[_0x126115],_0x39fb1c=_0x30081c['scopeId'],_0xa16b8a=_0x30081c['version'],_0xd574c6=_0x39fb1c['versionObj'+'ect']['version'],(_0xa16b8a['globalId']!==_0xd574c6['globalId']||_0xa16b8a['revision']!==_0xd574c6['revision'])&&(_0xa16b8a['globalId']=_0xd574c6['globalId'],_0xa16b8a['revision']=_0xd574c6['revision'],_0x39fb1c['value']!==null&&this['commitFunc'+'tion'][_0x30081c['dataType']](_0x30081c,_0x39fb1c['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x11bce3['bindBuffer'+'Base'](_0x11bce3['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x1c3d*-0x1+0x62*0x11+0x1*0x15bb,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x11bce3['beginTrans'+'formFeedba'+'ck'](_0x11bce3['POINTS']));const _0x40bae4=this['glPrimitiv'+'e'][_0x354c8f['type']],_0x146232=_0x354c8f['count'];if(_0x354c8f['indexed']){const _0x4983b9=this['indexBuffe'+'r'];v['assert'](_0x4983b9['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x90592a=_0x4983b9['impl']['glFormat'],_0x1cbb21=_0x354c8f['base']*_0x4983b9['bytesPerIn'+'dex'];_0x412091>-0xa15*0x3+-0x55f*-0x1+-0x18e0*-0x1?_0x11bce3['drawElemen'+'tsInstance'+'d'](_0x40bae4,_0x146232,_0x90592a,_0x1cbb21,_0x412091):_0x11bce3['drawElemen'+'ts'](_0x40bae4,_0x146232,_0x90592a,_0x1cbb21);}else{const _0x22713b=_0x354c8f['base'];_0x412091>0x759*-0x1+0x33*-0x59+0x6b*0x3c?_0x11bce3['drawArrays'+'Instanced'](_0x40bae4,_0x22713b,_0x146232,_0x412091):_0x11bce3['drawArrays'](_0x40bae4,_0x22713b,_0x146232);}this['transformF'+'eedbackBuf'+'fer']&&(_0x11bce3['endTransfo'+'rmFeedback'](),_0x11bce3['bindBuffer'+'Base'](_0x11bce3['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x1abd+-0x5*-0x625+0x2*-0x1cbb,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x354c8f['type']]+=_0x354c8f['count']*(_0x412091>-0x24da+-0xa21+0x2efc?_0x412091:0x18c3*-0x1+-0x1cb*-0x3+0x1363);}['clear'](_0x2b9e57){const _0x39ee32=this['defaultCle'+'arOptions'];_0x2b9e57=_0x2b9e57||_0x39ee32;const _0x38c6e9=_0x2b9e57['flags']??_0x39ee32['flags'];if(_0x38c6e9!==0x4*0x6ed+0x2108+-0x3cbc){const _0x1b7f62=this['gl'];if(_0x38c6e9&Co){const _0x5461e0=_0x2b9e57['color']??_0x39ee32['color'],_0x1b0239=_0x5461e0[0xa*-0xf1+0x1878+-0xf0e],_0xc7b488=_0x5461e0[0x19fd+-0x7*-0x4de+-0x3c0e],_0x101658=_0x5461e0[0x1e7d+-0x1c9a+-0x1e1],_0x553eb5=_0x5461e0[-0x1810+-0xe44+0x2657],_0x471d6a=this['clearColor'];(_0x1b0239!==_0x471d6a['r']||_0xc7b488!==_0x471d6a['g']||_0x101658!==_0x471d6a['b']||_0x553eb5!==_0x471d6a['a'])&&(this['gl']['clearColor'](_0x1b0239,_0xc7b488,_0x101658,_0x553eb5),this['clearColor']['set'](_0x1b0239,_0xc7b488,_0x101658,_0x553eb5)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x38c6e9&Mo){const _0x46f796=_0x2b9e57['depth']??_0x39ee32['depth'];_0x46f796!==this['clearDepth']&&(this['gl']['clearDepth'](_0x46f796),this['clearDepth']=_0x46f796),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x38c6e9&Ah){const _0x5370ec=_0x2b9e57['stencil']??_0x39ee32['stencil'];_0x5370ec!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x5370ec),this['clearStenc'+'il']=_0x5370ec),_0x1b7f62['stencilMas'+'k'](0x2328+-0x1*0x265d+-0x10d*-0x4),this['stencilWri'+'teMaskFron'+'t']=-0x67*-0x4f+0x1*0x18c1+-0x378b,this['stencilWri'+'teMaskBack']=-0x1b09+-0x30d+-0x49*-0x6d;}_0x1b7f62['clear'](this['glClearFla'+'g'][_0x38c6e9]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x240a9a,_0x339dd9,_0x39a212,_0x1a7f14,_0x12323a){const _0x577f9f=this['gl'];_0x577f9f['readPixels'](_0x240a9a,_0x339dd9,_0x39a212,_0x1a7f14,_0x577f9f['RGBA'],_0x577f9f['UNSIGNED_B'+'YTE'],_0x12323a);}async['readPixels'+'Async'](_0xca4313,_0x4004fc,_0x3deffe,_0x4606c6,_0x4ea7a6){var _0x5f2cfe;const _0x15a89a=this['gl'],_0x1c7967=(_0x5ada04,_0x1ff238)=>{const _0x5c89dd=_0x15a89a['fenceSync'](_0x15a89a['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0xe55+-0x97*0x8+0x1*0x130d);return this['submit'](),new Promise((_0x33b2af,_0x24a450)=>{function _0x4daf1e(){const _0xc0bd7f=_0x15a89a['clientWait'+'Sync'](_0x5c89dd,_0x5ada04,-0x451+-0x1d39+0x9f*0x36);_0xc0bd7f===_0x15a89a['WAIT_FAILE'+'D']?(_0x15a89a['deleteSync'](_0x5c89dd),_0x24a450(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0xc0bd7f===_0x15a89a['TIMEOUT_EX'+'PIRED']?setTimeout(_0x4daf1e,_0x1ff238):(_0x15a89a['deleteSync'](_0x5c89dd),_0x33b2af());}_0x4daf1e();});},_0x1fe535=(_0x5f2cfe=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x10ea+0x73c+-0x1826):_0x5f2cfe['impl'],_0x542034=(_0x1fe535==null?void(0xa6d+-0x67*-0x17+-0x9d7*0x2):_0x1fe535['_glFormat'])??_0x15a89a['RGBA'],_0x16768b=(_0x1fe535==null?void(-0x19f*0x9+-0x1*-0xb27+0x370):_0x1fe535['_glPixelTy'+'pe'])??_0x15a89a['UNSIGNED_B'+'YTE'],_0x11bab7=_0x15a89a['createBuff'+'er']();return _0x15a89a['bindBuffer'](_0x15a89a['PIXEL_PACK'+'_BUFFER'],_0x11bab7),_0x15a89a['bufferData'](_0x15a89a['PIXEL_PACK'+'_BUFFER'],_0x4ea7a6['byteLength'],_0x15a89a['STREAM_REA'+'D']),_0x15a89a['readPixels'](_0xca4313,_0x4004fc,_0x3deffe,_0x4606c6,_0x542034,_0x16768b,-0x3f8+0xc*-0x1ee+-0x20*-0xd9),_0x15a89a['bindBuffer'](_0x15a89a['PIXEL_PACK'+'_BUFFER'],null),await _0x1c7967(0x1fe1*0x1+-0x25ff+0x61e,-0x7d8+0xfc*-0xe+0x4*0x56d),_0x15a89a['bindBuffer'](_0x15a89a['PIXEL_PACK'+'_BUFFER'],_0x11bab7),_0x15a89a['getBufferS'+'ubData'](_0x15a89a['PIXEL_PACK'+'_BUFFER'],0xd*0x29c+-0x159c+-0xc50,_0x4ea7a6),_0x15a89a['bindBuffer'](_0x15a89a['PIXEL_PACK'+'_BUFFER'],null),_0x15a89a['deleteBuff'+'er'](_0x11bab7),_0x4ea7a6;}['readTextur'+'eAsync'](_0x25a143,_0x30a714,_0x1ad947,_0x32ebf4,_0x40a12e,_0x59e71a){const _0x13c01d=_0x59e71a['face']??0x1*-0xad+-0x1cdd*-0x1+0xb*-0x290,_0x2f3b6f=_0x59e71a['renderTarg'+'et']??new pt({'colorBuffer':_0x25a143,'depth':!(0xfd*0x7+0x7a4+-0xe8e),'face':_0x13c01d});v['assert'](_0x2f3b6f['colorBuffe'+'r']===_0x25a143);const _0x432c54=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x32ebf4,_0x40a12e,0x1eb*-0x13+-0xdca*-0x2+0x8de,_0x25a143['_format'])),_0x410006=_0x59e71a['data']??new(Cy(_0x25a143['_format']))(_0x432c54);return this['setRenderT'+'arget'](_0x2f3b6f),this['initRender'+'Target'](_0x2f3b6f),new Promise((_0xaa76b9,_0x341fc9)=>{this['readPixels'+'Async'](_0x30a714,_0x1ad947,_0x32ebf4,_0x40a12e,_0x410006)['then'](_0x534555=>{_0x59e71a['renderTarg'+'et']||_0x2f3b6f['destroy'](),_0xaa76b9(_0x534555);})['catch'](_0x341fc9);});}['setAlphaTo'+'Coverage'](_0x165743){this['alphaToCov'+'erage']!==_0x165743&&(this['alphaToCov'+'erage']=_0x165743,_0x165743?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x35190a){if(this['transformF'+'eedbackBuf'+'fer']!==_0x35190a){this['transformF'+'eedbackBuf'+'fer']=_0x35190a;const _0x25ed28=this['gl'];_0x35190a?(this['feedback']||(this['feedback']=_0x25ed28['createTran'+'sformFeedb'+'ack']()),_0x25ed28['bindTransf'+'ormFeedbac'+'k'](_0x25ed28['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x25ed28['bindTransf'+'ormFeedbac'+'k'](_0x25ed28['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x27895f){this['raster']!==_0x27895f&&(this['raster']=_0x27895f,_0x27895f?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x2c976f){if(this['stencil']!==_0x2c976f){const _0x5489a5=this['gl'];_0x2c976f?_0x5489a5['enable'](_0x5489a5['STENCIL_TE'+'ST']):_0x5489a5['disable'](_0x5489a5['STENCIL_TE'+'ST']),this['stencil']=_0x2c976f;}}['setStencil'+'Func'](_0x4f559a,_0x3ab8e1,_0x5e5799){(this['stencilFun'+'cFront']!==_0x4f559a||this['stencilRef'+'Front']!==_0x3ab8e1||this['stencilMas'+'kFront']!==_0x5e5799||this['stencilFun'+'cBack']!==_0x4f559a||this['stencilRef'+'Back']!==_0x3ab8e1||this['stencilMas'+'kBack']!==_0x5e5799)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x4f559a],_0x3ab8e1,_0x5e5799),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x4f559a,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x3ab8e1,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x5e5799);}['setStencil'+'FuncFront'](_0x18b0d7,_0x230420,_0x1c8cd5){if(this['stencilFun'+'cFront']!==_0x18b0d7||this['stencilRef'+'Front']!==_0x230420||this['stencilMas'+'kFront']!==_0x1c8cd5){const _0x558227=this['gl'];_0x558227['stencilFun'+'cSeparate'](_0x558227['FRONT'],this['glComparis'+'on'][_0x18b0d7],_0x230420,_0x1c8cd5),this['stencilFun'+'cFront']=_0x18b0d7,this['stencilRef'+'Front']=_0x230420,this['stencilMas'+'kFront']=_0x1c8cd5;}}['setStencil'+'FuncBack'](_0x3bb989,_0x1360f5,_0x29d013){if(this['stencilFun'+'cBack']!==_0x3bb989||this['stencilRef'+'Back']!==_0x1360f5||this['stencilMas'+'kBack']!==_0x29d013){const _0x2e45ec=this['gl'];_0x2e45ec['stencilFun'+'cSeparate'](_0x2e45ec['BACK'],this['glComparis'+'on'][_0x3bb989],_0x1360f5,_0x29d013),this['stencilFun'+'cBack']=_0x3bb989,this['stencilRef'+'Back']=_0x1360f5,this['stencilMas'+'kBack']=_0x29d013;}}['setStencil'+'Operation'](_0x5caa74,_0x1e390c,_0x3e0e0d,_0x5b560a){(this['stencilFai'+'lFront']!==_0x5caa74||this['stencilZfa'+'ilFront']!==_0x1e390c||this['stencilZpa'+'ssFront']!==_0x3e0e0d||this['stencilFai'+'lBack']!==_0x5caa74||this['stencilZfa'+'ilBack']!==_0x1e390c||this['stencilZpa'+'ssBack']!==_0x3e0e0d)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x5caa74],this['glStencilO'+'p'][_0x1e390c],this['glStencilO'+'p'][_0x3e0e0d]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x5caa74,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x1e390c,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x3e0e0d),(this['stencilWri'+'teMaskFron'+'t']!==_0x5b560a||this['stencilWri'+'teMaskBack']!==_0x5b560a)&&(this['gl']['stencilMas'+'k'](_0x5b560a),this['stencilWri'+'teMaskFron'+'t']=_0x5b560a,this['stencilWri'+'teMaskBack']=_0x5b560a);}['setStencil'+'OperationF'+'ront'](_0x409fa8,_0x7b238b,_0x42af62,_0x549917){(this['stencilFai'+'lFront']!==_0x409fa8||this['stencilZfa'+'ilFront']!==_0x7b238b||this['stencilZpa'+'ssFront']!==_0x42af62)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x409fa8],this['glStencilO'+'p'][_0x7b238b],this['glStencilO'+'p'][_0x42af62]),this['stencilFai'+'lFront']=_0x409fa8,this['stencilZfa'+'ilFront']=_0x7b238b,this['stencilZpa'+'ssFront']=_0x42af62),this['stencilWri'+'teMaskFron'+'t']!==_0x549917&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x549917),this['stencilWri'+'teMaskFron'+'t']=_0x549917);}['setStencil'+'OperationB'+'ack'](_0x1c60d9,_0x500af3,_0x2d82e7,_0x245833){(this['stencilFai'+'lBack']!==_0x1c60d9||this['stencilZfa'+'ilBack']!==_0x500af3||this['stencilZpa'+'ssBack']!==_0x2d82e7)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x1c60d9],this['glStencilO'+'p'][_0x500af3],this['glStencilO'+'p'][_0x2d82e7]),this['stencilFai'+'lBack']=_0x1c60d9,this['stencilZfa'+'ilBack']=_0x500af3,this['stencilZpa'+'ssBack']=_0x2d82e7),this['stencilWri'+'teMaskBack']!==_0x245833&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x245833),this['stencilWri'+'teMaskBack']=_0x245833);}['setBlendSt'+'ate'](_0x247a7a){const _0x19ac88=this['blendState'];if(!_0x19ac88['equals'](_0x247a7a)){const _0x556794=this['gl'],{blend:_0x276ccd,colorOp:_0x500242,alphaOp:_0x292b2d,colorSrcFactor:_0x29b770,colorDstFactor:_0x59ab0d,alphaSrcFactor:_0x270bc3,alphaDstFactor:_0x13f56c}=_0x247a7a;if(_0x19ac88['blend']!==_0x276ccd&&(_0x276ccd?_0x556794['enable'](_0x556794['BLEND']):_0x556794['disable'](_0x556794['BLEND'])),_0x19ac88['colorOp']!==_0x500242||_0x19ac88['alphaOp']!==_0x292b2d){const _0x37cc20=this['glBlendEqu'+'ation'];_0x556794['blendEquat'+'ionSeparat'+'e'](_0x37cc20[_0x500242],_0x37cc20[_0x292b2d]);}(_0x19ac88['colorSrcFa'+'ctor']!==_0x29b770||_0x19ac88['colorDstFa'+'ctor']!==_0x59ab0d||_0x19ac88['alphaSrcFa'+'ctor']!==_0x270bc3||_0x19ac88['alphaDstFa'+'ctor']!==_0x13f56c)&&_0x556794['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x29b770],this['glBlendFun'+'ctionColor'][_0x59ab0d],this['glBlendFun'+'ctionAlpha'][_0x270bc3],this['glBlendFun'+'ctionAlpha'][_0x13f56c]),_0x19ac88['allWrite']!==_0x247a7a['allWrite']&&this['gl']['colorMask'](_0x247a7a['redWrite'],_0x247a7a['greenWrite'],_0x247a7a['blueWrite'],_0x247a7a['alphaWrite']),_0x19ac88['copy'](_0x247a7a);}}['setBlendCo'+'lor'](_0x30bd46,_0x3ffd7a,_0x226446,_0x195f8b){const _0x43b0ff=this['blendColor'];(_0x30bd46!==_0x43b0ff['r']||_0x3ffd7a!==_0x43b0ff['g']||_0x226446!==_0x43b0ff['b']||_0x195f8b!==_0x43b0ff['a'])&&(this['gl']['blendColor'](_0x30bd46,_0x3ffd7a,_0x226446,_0x195f8b),_0x43b0ff['set'](_0x30bd46,_0x3ffd7a,_0x226446,_0x195f8b));}['setStencil'+'State'](_0x3eefe0,_0x15e27c){_0x3eefe0||_0x15e27c?(this['setStencil'+'Test'](!(0xe94+-0x1*-0x1d50+-0x2be4*0x1)),_0x3eefe0===_0x15e27c?(this['setStencil'+'Func'](_0x3eefe0['func'],_0x3eefe0['ref'],_0x3eefe0['readMask']),this['setStencil'+'Operation'](_0x3eefe0['fail'],_0x3eefe0['zfail'],_0x3eefe0['zpass'],_0x3eefe0['writeMask'])):(_0x3eefe0??(_0x3eefe0=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x3eefe0['func'],_0x3eefe0['ref'],_0x3eefe0['readMask']),this['setStencil'+'OperationF'+'ront'](_0x3eefe0['fail'],_0x3eefe0['zfail'],_0x3eefe0['zpass'],_0x3eefe0['writeMask']),_0x15e27c??(_0x15e27c=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x15e27c['func'],_0x15e27c['ref'],_0x15e27c['readMask']),this['setStencil'+'OperationB'+'ack'](_0x15e27c['fail'],_0x15e27c['zfail'],_0x15e27c['zpass'],_0x15e27c['writeMask']))):this['setStencil'+'Test'](!(0x9*-0x44a+0x14f8+0x11a3));}['setDepthSt'+'ate'](_0x5561aa){const _0x1fe198=this['depthState'];if(!_0x1fe198['equals'](_0x5561aa)){const _0x55f6a1=this['gl'],_0x58148c=_0x5561aa['write'];_0x1fe198['write']!==_0x58148c&&_0x55f6a1['depthMask'](_0x58148c);let {func:_0x1b8d9d,test:_0x3a2110}=_0x5561aa;!_0x3a2110&&_0x58148c&&(_0x3a2110=!(0x1*-0x121f+0x1837*-0x1+0x2*0x152b),_0x1b8d9d=Ai),_0x1fe198['func']!==_0x1b8d9d&&_0x55f6a1['depthFunc'](this['glComparis'+'on'][_0x1b8d9d]),_0x1fe198['test']!==_0x3a2110&&(_0x3a2110?_0x55f6a1['enable'](_0x55f6a1['DEPTH_TEST']):_0x55f6a1['disable'](_0x55f6a1['DEPTH_TEST']));const {depthBias:_0xbcbf02,depthBiasSlope:_0x39ba32}=_0x5561aa;_0xbcbf02||_0x39ba32?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(-0x4*0x88f+0x2595+-0x359),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x55f6a1['polygonOff'+'set'](_0x39ba32,_0xbcbf02)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x1*-0x1a29+0x9*-0x8e+0x1f28*0x1),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x1fe198['copy'](_0x5561aa);}}['setCullMod'+'e'](_0x45395a){if(this['cullMode']!==_0x45395a){if(_0x45395a===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x7cfd4c=this['glCull'][_0x45395a];this['cullFace']!==_0x7cfd4c&&(this['gl']['cullFace'](_0x7cfd4c),this['cullFace']=_0x7cfd4c);}this['cullMode']=_0x45395a;}}['setShader'](_0x41ad23,_0x74b0bd=!(0x2607*-0x1+0x1751+0xeb7)){_0x41ad23!==this['shader']&&(this['shader']=_0x41ad23,this['shaderAsyn'+'cCompile']=_0x74b0bd,this['shaderVali'+'d']=void(-0x1*-0x1b13+-0x1041*-0x1+0xec*-0x2f),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0xa17076){const {shader:_0x3cd958}=this,{impl:_0x4cee2b}=_0x3cd958;this['shaderVali'+'d']===void(0x2495+-0xca4+-0x17f1)&&(_0x3cd958['failed']?this['shaderVali'+'d']=!(0x1dd*0x3+0x1*0x5a1+-0xb37):_0x3cd958['ready']||(this['shaderAsyn'+'cCompile']?_0x4cee2b['isLinked'](_0xa17076)?_0x4cee2b['finalize'](this,_0x3cd958)||(_0x3cd958['failed']=!(0xb83+0x1297+0x1e1a*-0x1),this['shaderVali'+'d']=!(-0x6b0+0x1e6f+-0x17be)):this['shaderVali'+'d']=!(-0x1*-0x1bc5+0x11*0xc7+0x327*-0xd):_0x4cee2b['finalize'](this,_0x3cd958)||(_0x3cd958['failed']=!(-0x24cf+0xd49+-0x1*-0x1786),this['shaderVali'+'d']=!(0x1115+0x4a*0x39+0x10c7*-0x2)))),this['shaderVali'+'d']===void(-0x105d+0x521*-0x7+0x3444)&&(this['gl']['useProgram'](_0x4cee2b['glProgram']),this['shaderVali'+'d']=!(0xa9f*-0x3+0x1e*0x12a+0x105*-0x3));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x248786=this['gl'];this['_vaoMap']['forEach']((_0x440a97,_0x5b9614,_0x38b4c4)=>{_0x248786['deleteVert'+'exArray'](_0x440a97);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x6323fc){_0x6323fc?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x25eeee=-0x9bd+0x10f*0x1+-0x306*-0x3){const _0x2af064=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x2af064['loseContex'+'t'](),setTimeout(()=>_0x2af064['restoreCon'+'text'](),_0x25eeee);}}let mb=0x347*-0x3+-0x964+0x1339;class lr{constructor(_0x13a070,_0x5909a2,_0x45e278,_0x4beaff=jt,_0x2d754f,_0x36fec0){this['device']=_0x13a070,this['format']=_0x5909a2,this['numIndices']=_0x45e278,this['usage']=_0x4beaff,this['id']=mb++,this['impl']=_0x13a070['createInde'+'xBufferImp'+'l'](this,_0x36fec0);const _0x1d873d=vv[_0x5909a2];this['bytesPerIn'+'dex']=_0x1d873d,this['numBytes']=this['numIndices']*_0x1d873d,_0x2d754f?this['setData'](_0x2d754f):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x13a070['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x31a4a9=this['device'],_0x553d24=_0x31a4a9['buffers']['indexOf'](this);_0x553d24!==-(-0xe8c+0x1ac3+-0xc36)&&_0x31a4a9['buffers']['splice'](_0x553d24,0x2f6*0x5+0x244f+-0x331c),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x31a4a9),this['adjustVram'+'SizeTracki'+'ng'](_0x31a4a9['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0xefa61c,_0x5b8f07){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x5b8f07+'\x20vram.ib:\x20'+_0xefa61c['ib']+'\x20=>\x20'+(_0xefa61c['ib']+_0x5b8f07)),_0xefa61c['ib']+=_0x5b8f07;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x5802e0){return _0x5802e0['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x5802e0['byteLength']),!(0xdbd+-0x16de*-0x1+-0x249a)):(this['storage']=_0x5802e0,this['unlock'](),!(0x1*0x1231+-0xb*-0x182+-0x22c7*0x1));}['_lockTyped'+'Array'](){const _0x11a750=this['lock']();return this['format']===nr?new Uint32Array(_0x11a750):this['format']===Pi?new Uint16Array(_0x11a750):new Uint8Array(_0x11a750);}['writeData'](_0x59de64,_0x957c05){const _0x11b5cd=this['_lockTyped'+'Array']();if(_0x59de64['length']>_0x957c05){if(ArrayBuffer['isView'](_0x59de64))_0x59de64=_0x59de64['subarray'](-0x1*0x1a38+-0x2357+-0x1*-0x3d8f,_0x957c05),_0x11b5cd['set'](_0x59de64);else{for(let _0x3382ec=-0x205+-0x1*0xd3+0x2d8;_0x3382ec<_0x957c05;_0x3382ec++)_0x11b5cd[_0x3382ec]=_0x59de64[_0x3382ec];}}else _0x11b5cd['set'](_0x59de64);this['unlock']();}['readData'](_0x2f36e0){const _0x15dfd3=this['_lockTyped'+'Array'](),_0x5ea6e1=this['numIndices'];if(ArrayBuffer['isView'](_0x2f36e0))_0x2f36e0['set'](_0x15dfd3);else{_0x2f36e0['length']=0xb*0x28f+-0x14b2+0x773*-0x1;for(let _0xabe9f6=0x5ac+-0x11b3+-0x1*-0xc07;_0xabe9f6<_0x5ea6e1;_0xabe9f6++)_0x2f36e0[_0xabe9f6]=_0x15dfd3[_0xabe9f6];}return _0x5ea6e1;}}class _b{constructor(){c(this,'clearValue',new j(0x97*-0x11+0xcce+-0x1*0x2c7,-0x13e1+0x265f*-0x1+-0x3a40*-0x1,-0x2030+-0x305*-0x1+0x1d2b,-0x191f+-0x1111+0x2a31*0x1)),c(this,'clearValue'+'Linear',new j(0x791*-0x4+0x41+0x1e03,-0x1400+-0x549+0x1949,-0x23c0+-0xef*-0x29+-0x287*0x1,0x1*0x26+-0xcd1*0x2+-0x2d*-0x91)),c(this,'clear',!(-0xf0b+0x1cd3+-0xdc7)),c(this,'store',!(-0x2600+-0x4b4+-0x179*-0x1d)),c(this,'resolve',!(-0x35*0x56+-0x1843+0x2a11)),c(this,'genMipmaps',!(0xb7f*0x1+-0x1f01*-0x1+-0x2a7f));}}class gb{constructor(){c(this,'clearDepth'+'Value',-0x24e3+0x13e*-0x2+0x2760),c(this,'clearStenc'+'ilValue',0xeb*-0x16+-0x25a+0x3c2*0x6),c(this,'clearDepth',!(0x1012+-0x19b*-0x8+-0x1ce9)),c(this,'clearStenc'+'il',!(0x671+-0x16b2+0x1042)),c(this,'storeDepth',!(-0x11f*0x11+0xe2a+0x1a2*0x3)),c(this,'resolveDep'+'th',!(-0x947+-0x180e+-0x2*-0x10ab)),c(this,'storeStenc'+'il',!(-0x4*-0x78a+0x209+0x2030*-0x1));}}class ds{constructor(_0x324d97){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0x1142+-0x1b7a+0x2cbc)),c(this,'_skipStart',!(-0x1c0*-0x3+0x1e6b+-0x23aa)),c(this,'_skipEnd',!(0x12ea+-0x2140+0xe57)),c(this,'executeEna'+'bled',!(0x13d*-0x4+-0xa7f*-0x3+-0x1a89)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',-0x6b5+-0x23b*0xa+-0x1*-0x1d03),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(-0x24d8+0x791+0x1d47)),c(this,'fullSizeCl'+'earRect',!(-0x1cdc+-0x1*0xff4+0x2*0x1668)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x324d97),this['device']=_0x324d97);}get['colorOps'](){return this['colorArray'+'Ops'][0x1c82+-0x1fa5+0x323];}set['name'](_0x13026b){this['_name']=_0x13026b;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x5dce50){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x5dce50;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x8f3cd6){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x8f3cd6;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x5d8b86){this['_options']=_0x5d8b86,_0x5d8b86&&(this['scaleX']=this['scaleX']??0x1*0x1cdb+-0x86b+-0x1*0x146f,this['scaleY']=this['scaleY']??0x626+0x225b+-0x2880);}get['options'](){return this['_options'];}['init'](_0x396351=null,_0x40c1fa){this['options']=_0x40c1fa,this['renderTarg'+'et']=_0x396351,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x1dd3+0x1326+-0x30f8),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x1d3d24,_0x7b4634,_0x2a1739,_0x3aa446;const _0x194d7a=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x194d7a!=null&&_0x194d7a['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x1*0x461+-0xa88*0x2+0x10af));const _0x5daaad=_0x194d7a?((_0x1d3d24=_0x194d7a['_colorBuff'+'ers'])==null?void(-0xb83+-0xa8a+0x160d):_0x1d3d24['length'])??0x342*-0xa+-0x5f*0x60+0xc2*0x5a:-0x22a4+-0x26ce+-0x1*-0x4973;this['colorArray'+'Ops']['length']=0xd*-0x2af+-0x1*0x1c69+-0x2*-0x1fa6;for(let _0xc0df0f=0x1ee2+-0x53f+-0x19a3;_0xc0df0f<_0x5daaad;_0xc0df0f++){const _0x4e49fd=new _b();this['colorArray'+'Ops'][_0xc0df0f]=_0x4e49fd,this['samples']===0x3*-0x885+-0x7*-0x1a5+0xe0d&&(_0x4e49fd['store']=!(0x9d*-0x1+-0xec3+0xf60),_0x4e49fd['resolve']=!(0x1f9d+0x4ab*-0x8+0x5bc));const _0xa588c7=(_0x2a1739=(_0x7b4634=this['renderTarg'+'et'])==null?void(-0x736*0x5+-0xb*0x125+0x30a5):_0x7b4634['_colorBuff'+'ers'])==null?void(-0x1*-0x1ffa+-0x1*-0xad+-0x20a7):_0x2a1739[_0xc0df0f];if((_0x3aa446=this['renderTarg'+'et'])!=null&&_0x3aa446['mipmaps']&&(_0xa588c7!=null&&_0xa588c7['mipmaps'])){const _0x21615d=ea(_0xa588c7['_format']);_0x4e49fd['genMipmaps']=!_0x21615d;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x107c5d=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x3b52ee=Math['floor'](_0x107c5d['width']*this['scaleX']),_0xd5d4bc=Math['floor'](_0x107c5d['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x3b52ee,_0xd5d4bc);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x144200){this['_enabled']!==_0x144200&&(this['_enabled']=_0x144200,_0x144200?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x3358fc){const _0x58430f=this['colorArray'+'Ops']['length'];for(let _0x29022f=0x1633+0x486+-0x1*0x1ab9;_0x29022f<_0x58430f;_0x29022f++){const _0x57cd2c=this['colorArray'+'Ops'][_0x29022f];_0x3358fc&&(_0x57cd2c['clearValue']['copy'](_0x3358fc),_0x57cd2c['clearValue'+'Linear']['linear'](_0x3358fc)),_0x57cd2c['clear']=!!_0x3358fc;}}['setClearDe'+'pth'](_0x247fcd){_0x247fcd&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x247fcd),this['depthStenc'+'ilOps']['clearDepth']=_0x247fcd!==void(-0x1520+-0xeb7*0x1+0x23d7);}['setClearSt'+'encil'](_0x3ec438){_0x3ec438&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x3ec438),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x3ec438!==void(-0x1bd1*-0x1+-0xb1e+0x3*-0x591);}['render'](){if(this['enabled']){const _0x26c2e8=this['device'],_0x4f03cd=this['renderTarg'+'et']!==void(-0x26a6+0xfd6+0x16d0);v['call'](()=>{this['log'](_0x26c2e8,_0x26c2e8['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x4f03cd&&!this['_skipStart']&&_0x26c2e8['startRende'+'rPass'](this),this['execute'](),_0x4f03cd&&!this['_skipEnd']&&_0x26c2e8['endRenderP'+'ass'](this)),this['after'](),_0x26c2e8['renderPass'+'Index']++;}}['log'](_0x2e6c17,_0x52712c=0x2358+-0x1c8*0x1+-0x2190){var _0x8d6ab1,_0x5ced85,_0x341b56;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x22f0fb=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x2e6c17['backBuffer']:null),_0x1f0f94=!!(_0x22f0fb!=null&&_0x22f0fb['impl']['assignedCo'+'lorTexture'])||(_0x22f0fb==null?void(0x1995+0x1c63+-0x35f8):_0x22f0fb['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0xcf+0x90e+-0x83f),_0x5a4c2d=((_0x8d6ab1=_0x22f0fb==null?void(-0x42d*0x1+0x1f7*0x13+-0x2128):_0x22f0fb['_colorBuff'+'ers'])==null?void(-0x24ba+-0xc*-0x5e+-0x563*-0x6):_0x8d6ab1['length'])??(_0x1f0f94?-0x1*0x23f3+-0x1dcb+0x41bf:0x7*-0x5f+0x12d0+-0x1037),_0x3366e9=_0x22f0fb==null?void(0x12d5+-0x113*-0x19+-0x2db0):_0x22f0fb['depth'],_0x2dda0f=_0x22f0fb==null?void(-0x1eaf*0x1+-0xfb0*0x1+0x2e5f):_0x22f0fb['stencil'],_0x34ad1a=_0x22f0fb==null?void(-0x1*0x2e9+0x1c6f+-0x1986):_0x22f0fb['mipLevel'],_0x1527f6=_0x22f0fb?'\x20RT:\x20'+(_0x22f0fb?_0x22f0fb['name']:'NULL')+'\x20'+(_0x5a4c2d>0x122*-0x1d+0x1a87+0x653?'[Color'+(_0x5a4c2d>0x1821+-0x15a*-0x3+-0x1c2e?'\x20x\x20'+_0x5a4c2d:'')+']':'')+(_0x3366e9?'[Depth]':'')+(_0x2dda0f?'[Stencil]':'')+'\x20'+_0x22f0fb['width']+'\x20x\x20'+_0x22f0fb['height']+(this['samples']>0x1e98+-0x3bb+-0x1add?'\x20samples:\x20'+this['samples']:'')+(_0x34ad1a>-0x1*-0x507+0x1e9e+-0x23a5?'\x20mipLevel:'+'\x20'+_0x34ad1a:''):'',_0x162dd1=this['_skipStart']?'++':_0x52712c['toString']()['padEnd'](-0x1b3*0xe+-0x166e+0x1*0x2e3a,'\x20');v['trace'](jp,_0x162dd1+':\x20'+this['name']['padEnd'](0x2104+-0x15*0x106+0x1*-0xb72,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x1527f6['padEnd'](0x3*0x2eb+0x1*0x24d+-0x7*0x190));for(let _0x21ad71=0x3*-0x62f+-0x10f1+-0x9a*-0x3b;_0x21ad71<_0x5a4c2d;_0x21ad71++){const _0x470cd4=this['colorArray'+'Ops'][_0x21ad71],_0x3aa8bc=(_0x5ced85=xt['get'](_0x1f0f94?_0x2e6c17['backBuffer'+'Format']:_0x22f0fb['getColorBu'+'ffer'](_0x21ad71)['format']))==null?void(0x282*0xd+-0x1448+-0x1*0xc52):_0x5ced85['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x21ad71+']:\x20'+(_0x470cd4['clear']?'clear':'load')+'->'+(_0x470cd4['store']?'store':'discard')+'\x20'+(_0x470cd4['resolve']?'resolve\x20':'')+(_0x470cd4['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x3aa8bc+']\x20'+(_0x470cd4['clear']?'[clear:\x20'+_0x470cd4['clearValue']['toString'](!(0x1*0xe95+-0x63*-0x5f+-0x3352),!(0x2d2+-0x12ad+0xfdb))+']':''));}if(this['depthStenc'+'ilOps']){const _0x11de2d=''+(_0x22f0fb['depthBuffe'+'r']?'\x20[format:\x20'+((_0x341b56=xt['get'](_0x22f0fb['depthBuffe'+'r']['format']))==null?void(-0x124b+0x1eec+-0x35*0x3d):_0x341b56['name'])+']':'');_0x3366e9&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x11de2d+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x2dda0f&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x11de2d+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x1a3ed5){this['array'][this['index']]=_0x1a3ed5;}function xb(_0x5853c0,_0x5496f8){this['array'][this['index']]=_0x5853c0,this['array'][this['index']+(0x35*0x49+0x23f9+-0x3315)]=_0x5496f8;}function Sb(_0x50fbe9,_0x4264c2,_0x10b6e3){this['array'][this['index']]=_0x50fbe9,this['array'][this['index']+(0x230+0x4e4+-0x713*0x1)]=_0x4264c2,this['array'][this['index']+(-0x8*-0x2cb+-0x26f+-0x13e7)]=_0x10b6e3;}function vb(_0xb86966,_0x51e0ca,_0x41cb50,_0x58a289){this['array'][this['index']]=_0xb86966,this['array'][this['index']+(-0x8b*-0x10+-0x1fa1+0x16f2)]=_0x51e0ca,this['array'][this['index']+(-0x3*-0x621+0x5fe+-0x1*0x185f)]=_0x41cb50,this['array'][this['index']+(-0x2d9*0xb+0xcf*0x2a+-0x60*0x7)]=_0x58a289;}function bb(_0x5c0d70,_0x18f8fc,_0x48531d){this['array'][_0x5c0d70]=_0x18f8fc[_0x48531d];}function wb(_0x2b3c32,_0x5892c4,_0x515053){this['array'][_0x2b3c32]=_0x5892c4[_0x515053],this['array'][_0x2b3c32+(0x1*0xdf6+0x14bd+-0x1159*0x2)]=_0x5892c4[_0x515053+(-0x1b0b+-0x2*0xa8b+0x65*0x7a)];}function Tb(_0x2c9fc4,_0x4d4d20,_0x5d9b1d){this['array'][_0x2c9fc4]=_0x4d4d20[_0x5d9b1d],this['array'][_0x2c9fc4+(-0xb*0x299+-0x17d+0x1e11*0x1)]=_0x4d4d20[_0x5d9b1d+(-0xbb2*-0x1+-0x1a3*-0xc+0x269*-0xd)],this['array'][_0x2c9fc4+(-0x1*-0x1e52+0x605+0x83*-0x47)]=_0x4d4d20[_0x5d9b1d+(-0x1*0x383+-0x4cf+0x854)];}function Ab(_0x40680f,_0x1815b1,_0x4af50f){this['array'][_0x40680f]=_0x1815b1[_0x4af50f],this['array'][_0x40680f+(-0x160f*-0x1+-0x2e7*-0x3+-0xe1*0x23)]=_0x1815b1[_0x4af50f+(0x453*0x9+-0x9eb+-0x1cff)],this['array'][_0x40680f+(0x20f8+0x7*-0x382+-0x868*0x1)]=_0x1815b1[_0x4af50f+(0x1*0x25f9+0x42c*-0x8+0x497*-0x1)],this['array'][_0x40680f+(0x20d+-0xf5a+0x6a8*0x2)]=_0x1815b1[_0x4af50f+(0x131d+-0x6c5*0x3+0x135)];}function Eb(_0x17bd27,_0x3210ad,_0x587662){_0x3210ad[_0x587662]=this['array'][_0x17bd27];}function Cb(_0x3e6c84,_0x1d9ae5,_0x552fc5){_0x1d9ae5[_0x552fc5]=this['array'][_0x3e6c84],_0x1d9ae5[_0x552fc5+(-0xf02+-0xf*0x1fb+-0x9*-0x4f8)]=this['array'][_0x3e6c84+(-0xb2e+0x120+0xa0f)];}function Mb(_0x25a81f,_0x4a2565,_0x3a8d2f){_0x4a2565[_0x3a8d2f]=this['array'][_0x25a81f],_0x4a2565[_0x3a8d2f+(0x2*0x442+0x1d4d*0x1+-0x25d0)]=this['array'][_0x25a81f+(0x3*0xa1d+0x3*-0xb0b+0x2cb)],_0x4a2565[_0x3a8d2f+(0x6a6+0x1df5+0x411*-0x9)]=this['array'][_0x25a81f+(0x19c2+-0x25f8+0xc38)];}function Pb(_0x3c2527,_0x74b8cf,_0x210bec){_0x74b8cf[_0x210bec]=this['array'][_0x3c2527],_0x74b8cf[_0x210bec+(0x5c7+-0x1ca2+-0xb6e*-0x2)]=this['array'][_0x3c2527+(0x1ea5+0xb*0xcb+-0x275d)],_0x74b8cf[_0x210bec+(-0x78a+0xb1*-0x1+0x83d)]=this['array'][_0x3c2527+(0xe*-0x33+-0x1*-0x19b7+-0x1*0x16eb)],_0x74b8cf[_0x210bec+(0x1*0x9c7+-0x22d+-0x1*0x797)]=this['array'][_0x3c2527+(-0x846+0x389*0x1+0x4c0)];}class Rb{constructor(_0x7e0741,_0x305c64,_0x2807af){switch(this['index']=-0x454+0x2681+-0x222d,this['numCompone'+'nts']=_0x305c64['numCompone'+'nts'],_0x2807af['interleave'+'d']?this['array']=new da[_0x305c64['dataType']](_0x7e0741,_0x305c64['offset']):this['array']=new da[_0x305c64['dataType']](_0x7e0741,_0x305c64['offset'],_0x2807af['vertexCoun'+'t']*_0x305c64['numCompone'+'nts']),this['stride']=_0x305c64['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x305c64['numCompone'+'nts']){case-0xb44+0x62a*0x6+-0x19b7:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case 0x1ab4+0xa5c+-0x250e:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case 0x7*0x1+0x1e5b+-0x1e5f:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case-0x25*-0x2b+-0x2503+-0x1d*-0x110:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x3a3bd7){return this['array'][this['index']+_0x3a3bd7];}['set'](_0x496c14,_0xe5011,_0x55d4ff,_0x55e5b1){}['getToArray'](_0x315d42,_0xefb83d,_0x40bc51){}['setFromArr'+'ay'](_0x2a511f,_0x453faa,_0x3d0335){}}class go{constructor(_0xb0c990){this['vertexBuff'+'er']=_0xb0c990,this['vertexForm'+'atSize']=_0xb0c990['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x234ee5=this['vertexBuff'+'er']['getFormat']();for(let _0x3860cd=-0x100a*0x1+-0x1*-0x435+0xbd5;_0x3860cd<_0x234ee5['elements']['length'];_0x3860cd++){const _0x50db20=_0x234ee5['elements'][_0x3860cd];this['accessors'][_0x3860cd]=new Rb(this['buffer'],_0x50db20,_0x234ee5),this['element'][_0x50db20['name']]=this['accessors'][_0x3860cd];}}['next'](_0x5c5712=-0x1f4c+0x1*-0x62f+-0x2*-0x12be){let _0x306685=-0x2c4+0x4*0x8ec+0x83b*-0x4;const _0x2d6978=this['accessors'],_0x52223e=this['accessors']['length'];for(;_0x306685<_0x52223e;){const _0x214e6e=_0x2d6978[_0x306685++];_0x214e6e['index']+=_0x5c5712*_0x214e6e['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0xf3b004,_0xd08254,_0x1bc501){const _0x367706=this['element'][_0xf3b004];if(_0x367706){_0x1bc501>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x1bc501+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x1bc501=this['vertexBuff'+'er']['numVertice'+'s']);const _0x385c7d=_0x367706['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x2a4b08=0x32*-0x53+-0x301*-0x4+-0x219*-0x2;for(let _0x30ece2=-0x9b*-0x2b+0x1*0x18d3+-0x43d*0xc;_0x30ece2<_0x1bc501;_0x30ece2++)_0x367706['setFromArr'+'ay'](_0x2a4b08,_0xd08254,_0x30ece2*_0x385c7d),_0x2a4b08+=_0x367706['stride'];}else{if(_0xd08254['length']>_0x1bc501*_0x385c7d){const _0x382166=_0x1bc501*_0x385c7d;if(ArrayBuffer['isView'](_0xd08254))_0xd08254=_0xd08254['subarray'](0x1*-0x1d7+0x1b86+0x19af*-0x1,_0x382166),_0x367706['array']['set'](_0xd08254);else{for(let _0x4e6471=0x1433*-0x1+-0x1256+-0x7b5*-0x5;_0x4e6471<_0x382166;_0x4e6471++)_0x367706['array'][_0x4e6471]=_0xd08254[_0x4e6471];}}else _0x367706['array']['set'](_0xd08254);}}}['readData'](_0xcf4270,_0x1afb33){const _0x2a8fc0=this['element'][_0xcf4270];let _0x41f517=-0x125*0x10+-0x8a6*0x4+0x34e8;if(_0x2a8fc0){_0x41f517=this['vertexBuff'+'er']['numVertice'+'s'];let _0x1d8b61;const _0x4e2ffb=_0x2a8fc0['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x1afb33)&&(_0x1afb33['length']=0x2e*-0x7+-0x657+0x799),_0x2a8fc0['index']=0x1537+0x24b3+0x1cf5*-0x2;let _0x46c90a=0x1504+-0x2552+-0x2*-0x827;for(_0x1d8b61=-0x77*0x4c+-0x2701+0x4a55;_0x1d8b61<_0x41f517;_0x1d8b61++)_0x2a8fc0['getToArray'](_0x46c90a,_0x1afb33,_0x1d8b61*_0x4e2ffb),_0x46c90a+=_0x2a8fc0['stride'];}else{if(ArrayBuffer['isView'](_0x1afb33))_0x1afb33['set'](_0x2a8fc0['array']);else{_0x1afb33['length']=0x8e*-0x45+-0x2*0xb02+0x1e25*0x2;const _0x29cd4a=_0x41f517*_0x4e2ffb;for(_0x1d8b61=-0x26e*-0x3+-0x2201+0x1ab7*0x1;_0x1d8b61<_0x29cd4a;_0x1d8b61++)_0x1afb33[_0x1d8b61]=_0x2a8fc0['array'][_0x1d8b61];}}}return _0x41f517;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(-0x2*0x2e3+-0xc46+0x1*0x120d);class Db{constructor(_0x142139,_0x2d6e5){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x2d6e5&&(this['key']=_0x2d6e5['keyCode'],this['element']=_0x2d6e5['target'],this['event']=_0x2d6e5);}}const Sl=new Db();function fd(_0x434b46){return Sl['key']=_0x434b46['keyCode'],Sl['element']=_0x434b46['target'],Sl['event']=_0x434b46,Sl;}function vl(_0x1f298f){return typeof _0x1f298f=='string'?_0x1f298f['toUpperCas'+'e']()['charCodeAt'](-0x299+-0x13f1+0x168a):_0x1f298f;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x4ae9ab,_0x48f8db={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x4ae9ab&&this['attach'](_0x4ae9ab),this['preventDef'+'ault']=_0x48f8db['preventDef'+'ault']||!(0x13c9*-0x1+-0x18c9+0x2c93),this['stopPropag'+'ation']=_0x48f8db['stopPropag'+'ation']||!(-0x9ed+-0xcd*-0xc+0x52));}['attach'](_0x5bf246){this['_element']&&this['detach'](),this['_element']=_0x5bf246,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x1c*-0xdf+0x6*-0x25c+-0xa3b)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x2cf*0xd+-0x2*0x95f+-0x5ec*0x3)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x1*0x179e+0xd*-0x6f+-0x11fa)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x731*0x1+0x1*-0xb95+0x2d*0x19)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0x3*0x809+0x2*-0xbbd+-0x2*-0x17cb));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x44f*-0x7+0x25b*0x9+-0x335b)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0xafb*-0x1+0x3*-0x805+0xd15));}['toKeyIdent'+'ifier'](_0x1bb879){_0x1bb879=vl(_0x1bb879);const _0x476f6f=Lb[_0x1bb879['toString']()];if(_0x476f6f)return _0x476f6f;let _0x5cca95=_0x1bb879['toString'](-0x13be+0xda7+-0x15*-0x4b)['toUpperCas'+'e']();const _0x541581=_0x5cca95['length'];for(let _0x3b3042=-0x736*0x2+-0x13*0x1f+0x10b9;_0x3b3042<0x1*-0x269f+-0x13ce+0x3a71-_0x541581;_0x3b3042++)_0x5cca95='0'+_0x5cca95;return'U+'+_0x5cca95;}['_handleKey'+'Down'](_0xaceeb4){const _0x5c883e=_0xaceeb4['keyCode']||_0xaceeb4['charCode'];if(_0x5c883e===void(0x14d4*0x1+-0x1dd8+-0x241*-0x4))return;const _0xb4bc19=this['toKeyIdent'+'ifier'](_0x5c883e);this['_keymap'][_0xb4bc19]=!(-0x1b*-0x129+0x1d39*-0x1+-0x21a),this['fire']('keydown',fd(_0xaceeb4)),this['preventDef'+'ault']&&_0xaceeb4['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0xaceeb4['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x49a0a9){const _0x3a8a4a=_0x49a0a9['keyCode']||_0x49a0a9['charCode'];if(_0x3a8a4a===void(-0x1*-0xe96+0x2*0xc83+0x9e7*-0x4))return;const _0x39db3e=this['toKeyIdent'+'ifier'](_0x3a8a4a);delete this['_keymap'][_0x39db3e],this['fire']('keyup',fd(_0x49a0a9)),this['preventDef'+'ault']&&_0x49a0a9['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x49a0a9['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x2b7f28){this['fire']('keypress',fd(_0x2b7f28)),this['preventDef'+'ault']&&_0x2b7f28['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x2b7f28['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x5e6337 in this['_lastmap'])delete this['_lastmap'][_0x5e6337];for(const _0x24bd30 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x24bd30)&&(this['_lastmap'][_0x24bd30]=this['_keymap'][_0x24bd30]);}['isPressed'](_0x4b6daf){const _0x8187d9=vl(_0x4b6daf),_0x5ba543=this['toKeyIdent'+'ifier'](_0x8187d9);return!!this['_keymap'][_0x5ba543];}['wasPressed'](_0x187d21){const _0x2f706c=vl(_0x187d21),_0x352436=this['toKeyIdent'+'ifier'](_0x2f706c);return!!this['_keymap'][_0x352436]&&!this['_lastmap'][_0x352436];}['wasRelease'+'d'](_0x27960a){const _0x19fb6a=vl(_0x27960a),_0x34463b=this['toKeyIdent'+'ifier'](_0x19fb6a);return!this['_keymap'][_0x34463b]&&!!this['_lastmap'][_0x34463b];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x4e6259,_0x3e9e15){c(this,'x',-0x165c*-0x1+-0x8*0x7f+-0x1264),c(this,'y',-0x2c9*-0xa+0x817+-0x23f1),c(this,'dx',-0x14*-0xa1+0x174*-0x17+0x14d8),c(this,'dy',-0x53*-0x2e+-0x4*-0x638+-0x27ca*0x1),c(this,'button',Ib),c(this,'wheelDelta',-0x59*0x5f+-0x3*-0xcf4+-0x1*0x5d5),c(this,'element'),c(this,'ctrlKey',!(-0xb8c*0x1+0x2695+-0x1b08)),c(this,'altKey',!(0x15b0+0x2*0x8fb+-0x27a5)),c(this,'shiftKey',!(-0x541+0x85c+-0x31a)),c(this,'metaKey',!(-0x1*0x2381+0x7db*0x2+0x4f3*0x4)),c(this,'event');let _0x3917a2={'x':0x0,'y':0x0};if(_0x3e9e15){if(_0x3e9e15 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x3917a2=_0x4e6259['_getTarget'+'Coords'](_0x3e9e15);}else _0x3e9e15={};if(_0x3917a2)this['x']=_0x3917a2['x'],this['y']=_0x3917a2['y'];else{if(Pu())this['x']=0x1*0x1c03+0x19d6+0x35d9*-0x1,this['y']=0x1fdf*0x1+0x97e*0x1+-0x295d;else return;}_0x3e9e15['type']==='wheel'&&(_0x3e9e15['deltaY']>0x1341+0x1eaa+-0x31eb?this['wheelDelta']=-0x42b+0x2519+0x1*-0x20ed:_0x3e9e15['deltaY']<-0x3*-0x6a1+0x101+-0x14e4*0x1&&(this['wheelDelta']=-(-0x2188+-0x2103*-0x1+-0x1*-0x86))),Pu()?(this['dx']=_0x3e9e15['movementX']||_0x3e9e15['webkitMove'+'mentX']||_0x3e9e15['mozMovemen'+'tX']||-0x7c3+-0x5*0x2a9+0x1510,this['dy']=_0x3e9e15['movementY']||_0x3e9e15['webkitMove'+'mentY']||_0x3e9e15['mozMovemen'+'tY']||-0x2*-0xf9+-0x17d2+0x15e0):(this['dx']=this['x']-_0x4e6259['_lastX'],this['dy']=this['y']-_0x4e6259['_lastY']),(_0x3e9e15['type']==='mousedown'||_0x3e9e15['type']==='mouseup')&&(this['button']=_0x3e9e15['button']),this['buttons']=_0x4e6259['_buttons']['slice'](-0x6c5*-0x2+0x1*0x52f+-0x12b9),this['element']=_0x3e9e15['target'],this['ctrlKey']=_0x3e9e15['ctrlKey']??!(-0x317*-0x4+-0x1039*-0x1+0x2*-0xe4a),this['altKey']=_0x3e9e15['altKey']??!(0x2162+0x15c0+0x1*-0x3721),this['shiftKey']=_0x3e9e15['shiftKey']??!(-0x9f1+0x20f*-0x11+0x2cf1),this['metaKey']=_0x3e9e15['metaKey']??!(-0x6*0xdb+0xd*-0xe5+0x10c4),this['event']=_0x3e9e15;}}class bl extends ce{constructor(_0x42eca7){super(),c(this,'_lastX',-0x1e05+0x5e*-0xe+0x2329),c(this,'_lastY',-0xf*-0x209+-0x18a9+-0x5de),c(this,'_buttons',[!(0x11e7*0x1+0x12bd*-0x1+0x2b*0x5),!(-0x13f6+0x189b+0x3*-0x18c),!(-0x2627+0x2042+-0xa*-0x97)]),c(this,'_lastbutto'+'ns',[!(-0x1081+0x2*0x26b+0xbac),!(0x185a+-0x7*0x38f+-0x30*-0x3),!(0x13b4+0xf5f+-0x2312)]),c(this,'_target',null),c(this,'_attached',!(0x2fd+0x134a+-0x1646)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x15c61f=>{_0x15c61f['preventDef'+'ault']();},this['attach'](_0x42eca7));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0x22b945){if(this['_target']=_0x22b945,this['_attached'])return;this['_attached']=!(0x1d98+0x10a8+-0x2e40);const _0x21d586={'passive':!(-0xe75+0x5b9+-0x8bd*-0x1)},_0x1e2eed=ye['passiveEve'+'nts']?_0x21d586:!(-0x13*0x13+-0xe59+0xfc3);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x1e2eed),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x1e2eed),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x1e2eed),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x1e2eed);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x1c10+-0x7bc+0x23cd),this['_target']=null;const _0x58dcdb={'passive':!(0xb78+-0x2*0x893+0x5af*0x1)},_0xad6195=ye['passiveEve'+'nts']?_0x58dcdb:!(0x1085+0x22ab+-0x332f*0x1);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0xad6195),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0xad6195),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0xad6195),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0xad6195);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x348f4c,_0x685f4d){if(!document['body']['requestPoi'+'nterLock']){_0x685f4d&&_0x685f4d();return;}const _0x440881=()=>{_0x348f4c(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x440881);},_0x35176a=()=>{_0x685f4d(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x35176a);};_0x348f4c&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x440881,!(0x1a2*0x14+-0x94c+-0x175b)),_0x685f4d&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x35176a,!(-0x2403+0x6e+0x2396)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x38ea0b){if(!document['exitPointe'+'rLock'])return;const _0x443728=()=>{_0x38ea0b(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x443728);};_0x38ea0b&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x443728,!(-0x1ba*0x9+-0xd95+0xe90*0x2)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0x1*0xa59+0xc61+-0x208]=this['_buttons'][-0xb6b*-0x1+0xb76+0x16e1*-0x1],this['_lastbutto'+'ns'][-0x166c+-0x39*-0x61+0xd4]=this['_buttons'][-0xa1a+0x1*-0x1111+0x1b2c],this['_lastbutto'+'ns'][-0x1ab9+0x8f3+-0x11c8*-0x1]=this['_buttons'][-0xf32+-0x26*0xf+-0x1*-0x116e];}['isPressed'](_0x295174){return this['_buttons'][_0x295174];}['wasPressed'](_0x15af9b){return this['_buttons'][_0x15af9b]&&!this['_lastbutto'+'ns'][_0x15af9b];}['wasRelease'+'d'](_0x951334){return!this['_buttons'][_0x951334]&&this['_lastbutto'+'ns'][_0x951334];}['_handleUp'](_0x48ef56){this['_buttons'][_0x48ef56['button']]=!(0x3*0x271+-0x4*-0x1b2+0xbe*-0x13);const _0x9546c0=new ta(this,_0x48ef56);_0x9546c0['event']&&this['fire'](Lm,_0x9546c0);}['_handleDow'+'n'](_0x38d28d){this['_buttons'][_0x38d28d['button']]=!(-0x5b*-0x22+0x11a8+-0x1dbe);const _0x103599=new ta(this,_0x38d28d);_0x103599['event']&&this['fire'](Im,_0x103599);}['_handleMov'+'e'](_0x1876af){const _0x1efd9a=new ta(this,_0x1876af);_0x1efd9a['event']&&(this['fire'](Dm,_0x1efd9a),this['_lastX']=_0x1efd9a['x'],this['_lastY']=_0x1efd9a['y']);}['_handleWhe'+'el'](_0xd1513f){const _0x10fa2f=new ta(this,_0xd1513f);_0x10fa2f['event']&&this['fire'](Mu,_0x10fa2f);}['_getTarget'+'Coords'](_0x3c54ff){const _0x71146a=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x868b86=Math['floor'](_0x71146a['left']),_0x1028dd=Math['floor'](_0x71146a['top']);return _0x3c54ff['clientX']<_0x868b86||_0x3c54ff['clientX']>=_0x868b86+this['_target']['clientWidt'+'h']||_0x3c54ff['clientY']<_0x1028dd||_0x3c54ff['clientY']>=_0x1028dd+this['_target']['clientHeig'+'ht']?null:{'x':_0x3c54ff['clientX']-_0x868b86,'y':_0x3c54ff['clientY']-_0x1028dd};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x27c946,_0x3c772c,_0x168cba){return typeof _0x3c772c=='function'&&(_0x168cba=_0x3c772c,_0x3c772c={}),this['request']('GET',_0x27c946,_0x3c772c,_0x168cba);}['post'](_0x2c8238,_0x5f23c4,_0x1b0b78,_0x2485b1){return typeof _0x1b0b78=='function'&&(_0x2485b1=_0x1b0b78,_0x1b0b78={}),_0x1b0b78['postdata']=_0x5f23c4,this['request']('POST',_0x2c8238,_0x1b0b78,_0x2485b1);}['put'](_0x5ac8bf,_0x26a48b,_0x1c2206,_0x220a4f){return typeof _0x1c2206=='function'&&(_0x220a4f=_0x1c2206,_0x1c2206={}),_0x1c2206['postdata']=_0x26a48b,this['request']('PUT',_0x5ac8bf,_0x1c2206,_0x220a4f);}['del'](_0x386e32,_0x1a12a0,_0x5b1a76){return typeof _0x1a12a0=='function'&&(_0x5b1a76=_0x1a12a0,_0x1a12a0={}),this['request']('DELETE',_0x386e32,_0x1a12a0,_0x5b1a76);}['request'](_0x129e2a,_0x3af8b2,_0x259f96,_0x34fdcb){let _0xdc398f,_0x279ad4,_0x222342,_0x47b6e4=!(0x21db+0x1*-0xe57+-0x1383);if(typeof _0x259f96=='function'&&(_0x34fdcb=_0x259f96,_0x259f96={}),_0x259f96['retry']&&(_0x259f96=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x259f96)),_0x259f96['callback']=_0x34fdcb,_0x259f96['async']==null&&(_0x259f96['async']=!(0x1f6d+-0x49*-0x2+-0x1fff)),_0x259f96['headers']==null&&(_0x259f96['headers']={}),_0x259f96['postdata']!=null){if(_0x259f96['postdata']instanceof Document)_0x222342=_0x259f96['postdata'];else{if(_0x259f96['postdata']instanceof FormData)_0x222342=_0x259f96['postdata'];else{if(_0x259f96['postdata']instanceof Object){let _0x525dfa=_0x259f96['headers']['Content-Ty'+'pe'];switch(_0x525dfa===void(-0x1da7+-0x10ca+0x2e71)&&(_0x259f96['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x525dfa=_0x259f96['headers']['Content-Ty'+'pe']),_0x525dfa){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x222342='';let _0x40461d=!(0x4*0x22a+-0x3*0xa36+0x15fa);for(const _0x37811b in _0x259f96['postdata'])if(_0x259f96['postdata']['hasOwnProp'+'erty'](_0x37811b)){_0x40461d?_0x40461d=!(-0xb5*0x34+0x56d+0x1f58):_0x222342+='&';const _0x10fd9a=encodeURIComponent(_0x37811b),_0x34d41e=encodeURIComponent(_0x259f96['postdata'][_0x37811b]);_0x222342+=_0x10fd9a+'='+_0x34d41e;}break;}default:case be['ContentTyp'+'e']['JSON']:_0x525dfa==null&&(_0x259f96['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x222342=JSON['stringify'](_0x259f96['postdata']);break;}}else _0x222342=_0x259f96['postdata'];}}}if(_0x259f96['cache']===!(-0x2120+0x1aad+0x674)){const _0x37c43c=ne();_0xdc398f=new sd(_0x3af8b2),_0xdc398f['query']?_0xdc398f['query']=_0xdc398f['query']+'&ts='+_0x37c43c:_0xdc398f['query']='ts='+_0x37c43c,_0x3af8b2=_0xdc398f['toString']();}_0x259f96['query']&&(_0xdc398f=new sd(_0x3af8b2),_0x279ad4=vh(_0xdc398f['getQuery'](),_0x259f96['query']),_0xdc398f['setQuery'](_0x279ad4),_0x3af8b2=_0xdc398f['toString']());const _0x1412e4=new XMLHttpRequest();_0x1412e4['open'](_0x129e2a,_0x3af8b2,_0x259f96['async']),_0x1412e4['withCreden'+'tials']=_0x259f96['withCreden'+'tials']!==void(-0x2*0x75a+-0xc1d+-0x5*-0x55d)?_0x259f96['withCreden'+'tials']:!(0xfb*-0x27+0x78*0x18+-0x2*-0xd7f),_0x1412e4['responseTy'+'pe']=_0x259f96['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x3af8b2);for(const _0x569a95 in _0x259f96['headers'])_0x259f96['headers']['hasOwnProp'+'erty'](_0x569a95)&&_0x1412e4['setRequest'+'Header'](_0x569a95,_0x259f96['headers'][_0x569a95]);_0x1412e4['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x129e2a,_0x3af8b2,_0x259f96,_0x1412e4);},_0x1412e4['onerror']=()=>{this['_onError'](_0x129e2a,_0x3af8b2,_0x259f96,_0x1412e4),_0x47b6e4=!(0x887*0x1+0x15*0xb7+-0x178a);};try{_0x1412e4['send'](_0x222342);}catch(_0x2ac144){_0x47b6e4||_0x259f96['error'](_0x1412e4['status'],_0x1412e4,_0x2ac144);}return _0x1412e4;}['_guessResp'+'onseType'](_0x9a10ad){const _0xb0d713=new sd(_0x9a10ad),_0x3fa94c=fe['getExtensi'+'on'](_0xb0d713['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x3fa94c)>=0xe9*0x13+-0xf11+-0x23a?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3fa94c==='.json'?be['ResponseTy'+'pe']['JSON']:_0x3fa94c==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x355479){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x355479)>=-0xc7*-0x21+0x213b+-0x2*0x1d71;}['_isBinaryR'+'esponseTyp'+'e'](_0x3c8aa8){return _0x3c8aa8===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x3c8aa8===be['ResponseTy'+'pe']['BLOB']||_0x3c8aa8===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x4e1a71,_0x298975,_0x3e91f9,_0x23038e){if(_0x23038e['readyState']===0x9*-0x173+0x3f*-0x7a+0x2b15)switch(_0x23038e['status']){case 0x1f+-0x1698+-0x1*-0x1679:{_0x23038e['responseUR'+'L']&&_0x23038e['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x4e1a71,_0x298975,_0x3e91f9,_0x23038e):this['_onError'](_0x4e1a71,_0x298975,_0x3e91f9,_0x23038e);break;}case-0x622+0x1*0xf17+-0x82d:case 0x6*0x343+0x127*0x19+-0x2f98:case 0x1c*0xce+-0x25*0xa7+0x269*0x1:case 0xd24+-0xe91+0xdf*0x3:{this['_onSuccess'](_0x4e1a71,_0x298975,_0x3e91f9,_0x23038e);break;}default:{this['_onError'](_0x4e1a71,_0x298975,_0x3e91f9,_0x23038e);break;}}}['_onSuccess'](_0x491cc0,_0x5550a9,_0x517e1d,_0x455a7a){let _0x742241,_0x2915fe;const _0x31363e=_0x455a7a['getRespons'+'eHeader']('Content-Ty'+'pe');_0x31363e&&(_0x2915fe=_0x31363e['split'](';')[-0x15dc+-0x1c7f+0x325b]['trim']());try{this['_isBinaryC'+'ontentType'](_0x2915fe)||this['_isBinaryR'+'esponseTyp'+'e'](_0x455a7a['responseTy'+'pe'])?_0x742241=_0x455a7a['response']:_0x2915fe===be['ContentTyp'+'e']['JSON']||_0x5550a9['split']('?')[-0x3d7*0x9+0x1cc7*-0x1+0x3f56]['endsWith']('.json')?_0x742241=JSON['parse'](_0x455a7a['responseTe'+'xt']):_0x455a7a['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x2915fe===be['ContentTyp'+'e']['XML']?_0x742241=_0x455a7a['responseXM'+'L']:_0x742241=_0x455a7a['responseTe'+'xt'],_0x517e1d['callback'](null,_0x742241);}catch(_0x58262c){_0x517e1d['callback'](_0x58262c);}}['_onError'](_0x4ecfdc,_0x36d15c,_0x3451b7,_0x6e0262){if(!_0x3451b7['retrying']){if(_0x3451b7['retry']&&_0x3451b7['retries']<_0x3451b7['maxRetries']){_0x3451b7['retries']++,_0x3451b7['retrying']=!(0x18d1+0x1*0x2485+-0x1eab*0x2);const _0x317cfc=N['clamp'](Math['pow'](0x13*0xdf+-0x9*-0x246+-0x2501,_0x3451b7['retries'])*be['retryDelay'],0x20e3*0x1+0x1697+-0x377a,_0x3451b7['maxRetryDe'+'lay']||-0x1047+0x10bf+0x1310);console['log'](_0x4ecfdc+':\x20'+_0x36d15c+'\x20-\x20Error\x20'+_0x6e0262['status']+('.\x20Retrying'+'\x20in\x20')+_0x317cfc+'\x20ms'),setTimeout(()=>{_0x3451b7['retrying']=!(-0x189+0x31*-0x6b+0x1605),this['request'](_0x4ecfdc,_0x36d15c,_0x3451b7,_0x3451b7['callback']);},_0x317cfc);}else _0x3451b7['callback'](_0x6e0262['status']===-0x2*0x704+0x2569*-0x1+0x3371?'Network\x20er'+'ror':_0x6e0262['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',0x15cf+-0x215b+0xbf0);let ls=be;const We=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x1ad87e,_0x35f314,_0x2fa5a0={}){if(this['volume']=_0x2fa5a0['volume']??-0x53*0x33+0x1*0x1ef7+-0xe6d,this['loop']=_0x2fa5a0['loop']??!(0xa*0x8b+0x217e+-0x26eb),this['pitch']=_0x2fa5a0['pitch']??0x1*-0x161e+-0x1b6+0x17d5,this['sound']=_0x35f314,this['paused']=!(-0x3*-0xbf5+0x34*0x8b+-0x401a),this['suspended']=!(0x190b+0x1c09*-0x1+0x2ff),this['manager']=_0x1ad87e,this['source']=null,Li()){this['startTime']=-0x1808+0xecc+0x1*0x93c,this['startOffse'+'t']=-0x1003*-0x1+-0xfab+-0x58;const _0x31284a=_0x1ad87e['context'];this['gain']=_0x31284a['createGain']();}else _0x35f314['audio']&&(this['source']=_0x35f314['audio']['cloneNode'](!(0x21d*-0x12+0x7*0x89+0x224c)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x199d75){this['loop']=_0x199d75,this['source']&&(this['source']['loop']=_0x199d75);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(0x1a*-0xb6+-0x1*-0xdd3+0x4a9),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(-0xbeb+0x26c*0x10+0x11*-0x194),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x3*0xcd+0x126a*0x2+-0x226d,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(0xba0+0x2182+-0x1*0x2d22),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](-0x41*0x32+-0xaa4+0x3a*0x67),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x6*0x34a+-0x7ba*0x3+0x372,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(-0x1c4f+0x26a6+-0x2a*0x3f));}['stop'](){this['source']&&(this['source']['stop'](0x202f+-0x107*0x1+-0x1f28),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x10b91f){_0x10b91f=N['clamp'](_0x10b91f,0x61d+0x44*-0x1+-0x5d9,0xa54*0x1+-0x1edc+-0x1489*-0x1),this['volume']=_0x10b91f,this['gain']&&(this['gain']['gain']['value']=_0x10b91f*this['manager']['volume']);}['setPitch'](_0x33be65){this['pitch']=_0x33be65,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x33be65);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0x100a+0x4*0xe5+0xc76;}['_createSou'+'rce'](){const _0x345177=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x345177['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x345177['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(-0x28*-0x56+-0x1f89+0x121a),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(-0xf9e+-0x23b*0xb+-0x1*-0x2827),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(-0x1b7*-0x5+-0xa4d+0x1bb),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x4889c0){_0x4889c0=N['clamp'](_0x4889c0,-0x8*-0x3bb+-0x22*0xd5+-0x18e,0x136f+-0x270+-0x10fe),this['volume']=_0x4889c0,this['source']&&(this['source']['volume']=_0x4889c0*this['manager']['volume']);},'setPitch':function(_0x527019){this['pitch']=_0x527019,this['source']&&(this['source']['playbackRa'+'te']=_0x527019);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:-0x1f7a+0x7*0x206+0x1150;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=-0x257+0x9*-0x6bb+0x65fa;class Ru extends kh{constructor(_0x240fec,_0x3f2180,_0xc4adad){super(_0x240fec,_0x3f2180,_0xc4adad),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x240fec['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=-0xb9*0x32+-0x24d3+-0x351*-0x16,this['rollOffFac'+'tor']=-0x26f9+-0x2458+-0x2*-0x25a9,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x33c0f3){this['position']['copy'](_0x33c0f3);const _0x11fafa=this['panner'];'positionX'in _0x11fafa?(_0x11fafa['positionX']['value']=_0x33c0f3['x'],_0x11fafa['positionY']['value']=_0x33c0f3['y'],_0x11fafa['positionZ']['value']=_0x33c0f3['z']):_0x11fafa['setPositio'+'n']&&_0x11fafa['setPositio'+'n'](_0x33c0f3['x'],_0x33c0f3['y'],_0x33c0f3['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x563f50){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x563f50);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x4a25b2){this['panner']['maxDistanc'+'e']=_0x4a25b2;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x4cd72e){this['panner']['refDistanc'+'e']=_0x4cd72e;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x610405){this['panner']['rolloffFac'+'tor']=_0x610405;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x44d5af){this['panner']['distanceMo'+'del']=_0x44d5af;}['_createSou'+'rce'](){const _0x149980=this['manager']['context'];this['source']=_0x149980['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x149980['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x13083a,_0x293715,_0x137750,_0x1f26db,_0x23b039,_0x1de3b2){l=l['sub2'](_0x13083a,_0x293715);const _0x2c39f6=l['length']();if(_0x2c39f6<_0x137750)return-0x6f*-0x5+0x1*-0xa1+0x83*-0x3;if(_0x2c39f6>_0x1f26db)return-0x160*-0x6+-0xff8+-0x1ee*-0x4;let _0x3a58b9=0xa*-0xad+0x95c+-0x29a;return _0x1de3b2===cc?_0x3a58b9=0x1*-0x21d+0x1930+-0x1712-_0x23b039*(_0x2c39f6-_0x137750)/(_0x1f26db-_0x137750):_0x1de3b2===Ff?_0x3a58b9=_0x137750/(_0x137750+_0x23b039*(_0x2c39f6-_0x137750)):_0x1de3b2===cy&&(_0x3a58b9=Math['pow'](_0x2c39f6/_0x137750,-_0x23b039)),N['clamp'](_0x3a58b9,0x1*0x1b61+-0x2225*-0x1+-0x8ca*0x7,0x2f+0x8ff+-0x1*0x92d);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x37c36f){if(this['position']['copy'](_0x37c36f),this['source']){const _0xfce6d8=this['manager']['listener']['getPositio'+'n'](),_0x5a89c1=t(_0xfce6d8,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x1b4555=this['getVolume']();this['source']['volume']=_0x1b4555*_0x5a89c1;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x3b824c){this['maxDistanc'+'e']=_0x3b824c;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x177bc9){this['minDistanc'+'e']=_0x177bc9;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x54c001){this['rollOffFac'+'tor']=_0x54c001;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x5340f2){this['distanceMo'+'del']=_0x5340f2;}});}class Ob{constructor(_0x2bceff){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x2bceff;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x2a8185){this['position']['copy'](_0x2a8185);const _0x512837=this['listener'];_0x512837&&('positionX'in _0x512837?(_0x512837['positionX']['value']=_0x2a8185['x'],_0x512837['positionY']['value']=_0x2a8185['y'],_0x512837['positionZ']['value']=_0x2a8185['z']):_0x512837['setPositio'+'n']&&_0x512837['setPositio'+'n'](_0x2a8185['x'],_0x2a8185['y'],_0x2a8185['z']));}['setOrienta'+'tion'](_0x323b84){this['orientatio'+'n']['copy'](_0x323b84);const _0x25b9e6=this['listener'];if(_0x25b9e6){const _0x17288b=_0x323b84['data'];'forwardX'in _0x25b9e6?(_0x25b9e6['forwardX']['value']=-_0x17288b[0xc8*-0x32+-0x103*0x21+0x4d5*0xf],_0x25b9e6['forwardY']['value']=-_0x17288b[-0xcec+-0xf1d+-0xe09*-0x2],_0x25b9e6['forwardZ']['value']=-_0x17288b[-0x5f7+-0x1523+0x1b24],_0x25b9e6['upX']['value']=_0x17288b[-0xf7a+0xe3*0x6+-0x7c*-0x15],_0x25b9e6['upY']['value']=_0x17288b[0x5a9+0x146c+-0x1a10],_0x25b9e6['upZ']['value']=_0x17288b[-0x3c8*0x7+-0x3*0x38b+0x251f]):_0x25b9e6['setOrienta'+'tion']&&_0x25b9e6['setOrienta'+'tion'](-_0x17288b[0x227e+-0x1cc*0xe+-0x3*0x31a],-_0x17288b[0xb1*-0xb+-0x129d*0x2+0x2cde],-_0x17288b[-0x165e+-0x227*-0x7+0x757*0x1],_0x17288b[0x5*0xef+0x129f*0x1+0x1746*-0x1],_0x17288b[0x1d58+0x1*-0x14a1+-0x2a*0x35],_0x17288b[0x15d*-0x1+-0x1a7f+0x53*0x56]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x1d1104=this['_manager']['context'];return _0x1d1104?_0x1d1104['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0xf9*0x1+-0x12a3+0x11ab),this['listener']=new Ob(this),this['_volume']=-0x1254+0x1916+-0x5b*0x13;}set['volume'](_0x56e48e){_0x56e48e=N['clamp'](_0x56e48e,0xfd*-0x1+-0x16a*0x13+-0x1bdb*-0x1,-0x1f12+-0x4fe+0x2411*0x1),this['_volume']=_0x56e48e,this['fire']('volumechan'+'ge',_0x56e48e);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0xf9*0x7+0xff5+-0x926),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x1*0x2a5+0x5*0x312+0x292*-0x7),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x4a94b2;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x4a94b2=this['_context'])==null||_0x4a94b2['close'](),this['_context']=null);}['playSound'](_0x30fc3b,_0x1206f9={}){let _0x2ac2bc=null;return kh&&(_0x2ac2bc=new kh(this,_0x30fc3b,_0x1206f9),_0x2ac2bc['play']()),_0x2ac2bc;}['playSound3'+'d'](_0x35b025,_0x4cd0fb,_0x4c87ef={}){let _0x487b50=null;return Ru&&(_0x487b50=new Ru(this,_0x35b025,_0x4c87ef),_0x487b50['setPositio'+'n'](_0x4cd0fb),_0x4c87ef['volume']&&_0x487b50['setVolume'](_0x4c87ef['volume']),_0x4c87ef['loop']&&_0x487b50['setLoop'](_0x4c87ef['loop']),_0x4c87ef['maxDistanc'+'e']&&_0x487b50['setMaxDist'+'ance'](_0x4c87ef['maxDistanc'+'e']),_0x4c87ef['minDistanc'+'e']&&_0x487b50['setMinDist'+'ance'](_0x4c87ef['minDistanc'+'e']),_0x4c87ef['rollOffFac'+'tor']&&_0x487b50['setRollOff'+'Factor'](_0x4c87ef['rollOffFac'+'tor']),_0x4c87ef['distanceMo'+'del']&&_0x487b50['setDistanc'+'eModel'](_0x4c87ef['distanceMo'+'del']),_0x487b50['play']()),_0x487b50;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x1409e0=this['_context']['createBuff'+'erSource']();_0x1409e0['buffer']=this['_context']['createBuff'+'er'](-0x42*0x79+0x164e+0x8e5,0x1d7d+0x692+-0x240e,this['_context']['sampleRate']),_0x1409e0['connect'](this['_context']['destinatio'+'n']),_0x1409e0['start'](-0x1d8b+0x4f2+0x1899),_0x1409e0['onended']=_0x1fec8b=>{_0x1409e0['disconnect'](-0x380+-0xd*-0x31+-0x1*-0x103),this['fire']('resume');};},_0x3c5b10=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x3c5b10);})['catch'](_0x38df66=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x38df66);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x36de14=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x36de14);})['catch'](_0x5490c6=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x5490c6);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x5d74fa=>{window['addEventLi'+'stener'](_0x5d74fa,this['_unlockHan'+'dlerFunc'],!(-0x1*-0x267b+0x257+0x2b*-0xf3));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x39eada=>{window['removeEven'+'tListener'](_0x39eada,this['_unlockHan'+'dlerFunc'],!(-0x110a*0x1+-0x23f+-0x9a5*-0x2));});}}class Bb{constructor(_0x50aaa0){c(this,'audio'),c(this,'buffer'),_0x50aaa0 instanceof Audio?this['audio']=_0x50aaa0:this['buffer']=_0x50aaa0;}get['duration'](){let _0x397c59=-0x1c7b+-0x12eb+-0x2*-0x17b3;return this['buffer']?_0x397c59=this['buffer']['duration']:this['audio']&&(_0x397c59=this['audio']['duration']),_0x397c59||0x1a4d+0x1381+0x16*-0x215;}}const Pt=0x1d23*0x1+-0x25*0x1a+-0x1961,sa=-0x132f+0x124a+0xe6,ws=0x2*0x9f9+0x14bd+-0x28ad;function Rt(_0x45f024,_0x2467f7){return _0x45f024%_0x2467f7||0x239a+0x1181*0x2+0x2*-0x234e;}class ss extends ce{constructor(_0x52b343,_0x33fb56,_0x393af8){super(),c(this,'source',null),(this['_manager']=_0x52b343,this['_volume']=_0x393af8['volume']!==void(0xff5+-0x517*-0x7+-0x3396)?N['clamp'](Number(_0x393af8['volume'])||-0x2*-0x1280+0x1db7+-0x3*0x163d,-0x1de7+-0x1d02+-0xb*-0x55b,-0x223*0xe+0x1f1*0x13+0x4*-0x1be):-0x17f4+0x153+0xb51*0x2,this['_pitch']=_0x393af8['pitch']!==void(0x244f+-0x1d*-0x43+-0x2*0x15f3)?Math['max'](0x1050+0x26*0x89+-0x1253*0x2+0.01,Number(_0x393af8['pitch'])||0x1*0x2631+0x25b+-0x288c):-0x1f9d+0x22b5+-0x317*0x1,this['_loop']=!!(_0x393af8['loop']!==void(-0x1*0x18d4+0x7*-0x2c5+0x3*0xebd)&&_0x393af8['loop']),this['_sound']=_0x33fb56,this['_state']=ws,this['_suspended']=!(0x3f*0x86+-0x1*-0x16df+0x1bec*-0x2),this['_suspendEn'+'dEvent']=0x1*0x1cad+-0x36*0x35+-0x117f,this['_suspendIn'+'stanceEven'+'ts']=!(-0x460+-0x1*-0xac1+-0x660),this['_playWhenL'+'oaded']=!(-0x440*0x4+0x1db*-0xb+0x2569),this['_startTime']=Math['max'](-0x8*-0x2a7+0xaa2*0x2+-0x4*0xa9f,Number(_0x393af8['startTime'])||-0xcdb+-0x2124+0x2dff),this['_duration']=Math['max'](0x3*0x8e1+-0xce6*-0x1+-0x2789,Number(_0x393af8['duration'])||-0x1fff+0x1a2b+0x5d4),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x393af8['onPlay'],this['_onPauseCa'+'llback']=_0x393af8['onPause'],this['_onResumeC'+'allback']=_0x393af8['onResume'],this['_onStopCal'+'lback']=_0x393af8['onStop'],this['_onEndCall'+'back']=_0x393af8['onEnd'],Li()?(this['_startedAt']=-0x585+0x1573*-0x1+0x4*0x6be,this['_currentTi'+'me']=-0x1*0x8eb+-0x1680+0x17f*0x15,this['_currentOf'+'fset']=-0x2140+-0x2509+0x4649*0x1,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0xb9d+0x1ddd+-0x123f),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x14*0x2b+-0x11b*0xf+-0x69d*-0x2),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x2981a0){if(!(_0x2981a0<0x1*-0x20e7+-0x15e8+0x36cf)){if(this['_state']===Pt){const _0x46bfdd=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x18d+-0x24ab+0x2638),this['stop'](),this['_startOffs'+'et']=_0x2981a0,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x46bfdd;}else this['_startOffs'+'et']=_0x2981a0,this['_currentTi'+'me']=_0x2981a0;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?0x1*-0x8bf+-0x2418+0x2cd7:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x34bd03){this['_duration']=Math['max'](-0x1*0x51b+-0x2*-0x853+-0xb8b,Number(_0x34bd03)||0x24df+0x3c3*-0x1+0xa3*-0x34);const _0x385acf=this['_state']===Pt;this['stop'](),_0x385acf&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x1fe6+-0xd21+0x12c5*-0x1;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x7b79e){this['_loop']=!!_0x7b79e,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x25e464){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x25e464)||0x892*-0x1+-0x26*-0xf1+0xd9a*-0x2,-0x5*-0x9d+0x4ff*-0x3+0xbec+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x1ee259){this['_sound']=_0x1ee259,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x45df78){this['_startTime']=Math['max'](0x1*0x1c2b+-0x1cb2+-0x5*-0x1b,Number(_0x45df78)||-0xc2*0x11+0x3*0x5e5+-0x4cd);const _0x29064e=this['_state']===Pt;this['stop'](),_0x29064e&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x213ade){_0x213ade=N['clamp'](_0x213ade,0x934+0x5c9*0x3+-0x1a8f,-0x3*0x472+0x5b*-0x3c+0x22ab),this['_volume']=_0x213ade,this['gain']&&(this['gain']['gain']['value']=_0x213ade*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x69c+0xd41+-0x9*0xbd){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(0x15bf+-0x91*-0x3e+-0x38dd),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x1663+-0x1*-0x18ef+-0x1*0x2f51),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x7*0x10+-0x22dc+-0x7*-0x50b),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0x1d5+-0x4d*-0xb+-0x523):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1*-0x1779+-0x19ac+-0x233*-0x1),!(0x1296*-0x1+0x2*-0xb35+0x2901)):(this['_playAudio'+'Immediate'](),!(-0x833+-0x6ca+0xefd));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x1a5a+-0x254+0x22f*-0xb),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x265cdd=Rt(this['_startOffs'+'et'],this['duration']);_0x265cdd=Rt(this['_startTime']+_0x265cdd,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x1fd*-0xc+0x1e1*-0x2+0x1b9e,_0x265cdd,this['_duration']):this['source']['start'](0x957+-0x148e+-0x13f*-0x9,_0x265cdd),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0xce1+0x1*-0x156b+0x88a,this['_currentOf'+'fset']=_0x265cdd,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x2485+-0x60+-0x2424),this['_state']!==Pt?!(0x1*0x112e+0xb1*-0x2f+0xf52):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0xc3d+-0x1*0x161c+-0x2259*-0x1),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x20b2+0x5*-0x667+0x40b5));}['resume'](){if(this['_state']!==sa)return!(-0x10ca+-0x19d*0x6+-0x9*-0x2f1);let _0x42e0c3=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x42e0c3=Rt(this['_startOffs'+'et'],this['duration']),_0x42e0c3=Rt(this['_startTime']+_0x42e0c3,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x104a*-0x2+-0xa83+-0x1611,_0x42e0c3,this['_duration']):this['source']['start'](-0x1d7*0x15+0x173+0x2530,_0x42e0c3),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x42e0c3,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0xd0*0x1+0x2677+-0x25a6),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x51a+-0xfa1+0x14bb);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0x125*-0x17+0xb1e+-0x2570),this['_state']===ws)return!(-0x17*0x15d+0x21d9+0x5b*-0x7);const _0x5a041a=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x1657+0x3d1*-0x3+0x5*0x6c2,this['_currentTi'+'me']=0x4c2+0xd41+-0x1*0x1203,this['_currentOf'+'fset']=-0x331*0x1+0x22b3+-0x1f82,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x5a041a&&this['source']&&this['source']['stop'](0x1c1d+-0x9b6+-0x7*0x2a1),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0xa34+-0x17c2+0x21f6);}['setExterna'+'lNodes'](_0x4e3e78,_0x5672b6){if(!_0x4e3e78){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x5672b6||(_0x5672b6=_0x4e3e78);const _0xba1d71=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x4e3e78&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0xba1d71),this['_firstNode']=_0x4e3e78,this['_connector'+'Node']['connect'](_0x4e3e78)),this['_lastNode']!==_0x5672b6&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0xba1d71),this['_lastNode']=_0x5672b6,this['_lastNode']['connect'](_0xba1d71));}['clearExter'+'nalNodes'](){const _0x36982d=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x36982d),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x36982d);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x108355=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x108355['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](0x26b1+0x2*-0x87e+-0x15b5),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(-0x1182+-0x19fd*0x1+0x2b80):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x2280+0x3be*0x2+0x1b05),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0xf05+0x62b*0x1+0x30*-0x71));},'pause':function(){return!this['source']||this['_state']!==Pt?!(0x67f+-0xe1f+0x7a1):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x9b4+-0x1423+0x1dd8),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x2593+-0x47f*0x2+-0xd*-0x395));},'resume':function(){return!this['source']||this['_state']!==sa?!(0x13d5+-0x2137*-0x1+-0x350b):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x918+-0xc5b+-0x344*-0x1),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x8f2*-0x4+-0x1cd1+0x2cf*0x17));},'stop':function(){return!this['source']||this['_state']===ws?!(-0x1*0xb4c+0x25ef+0x7*-0x3ce):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0xdb1+0x1ae*0x7+-0x2*-0xf8),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x5*0x5e3+0x9*0x337+0x80));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(-0x2*0xeca+0x11*-0xa7+0x28ab);let _0x4bf385=Rt(this['_startOffs'+'et'],this['duration']);_0x4bf385=Rt(this['_startTime']+_0x4bf385,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x4bf385;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x2a2+-0x1*0x452+0x6f5),this['source']=this['_sound']['audio']['cloneNode'](!(-0x230f+0x3*0x79e+-0x1*-0xc35)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x5bd358){_0x5bd358=N['clamp'](_0x5bd358,-0x10f*-0xd+0x4e*0x70+-0x1*0x2fe3,-0x2442+0x1db5+0x68e),this['_volume']=_0x5bd358,this['source']&&(this['source']['volume']=_0x5bd358*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x46e45e){this['_pitch']=Math['max'](Number(_0x46e45e)||0x31e+0x10e3+-0x1401,-0xbd5+-0x31*0xc8+0x321d+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0xd8b847){this['stop'](),this['_sound']=_0xd8b847;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?-0x12c7+0x94d*-0x3+-0xef*-0x32:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x1ea07a){_0x1ea07a<0x1824+-0x993+-0xe91||(this['_startOffs'+'et']=_0x1ea07a,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0x1ea07a,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=-0x3f72*-0x1+0xcce+-0x2530;class jn extends ss{constructor(_0x809fcd,_0x5627e4,_0x16d277={}){super(_0x809fcd,_0x5627e4,_0x16d277),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x16d277['position']&&(this['position']=_0x16d277['position']),this['maxDistanc'+'e']=_0x16d277['maxDistanc'+'e']!==void(-0x7d1*0x3+0x21*-0x14+0x1a07)?Number(_0x16d277['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x16d277['refDistanc'+'e']!==void(0x2328+-0x16d*-0xb+0x13*-0x2ad)?Number(_0x16d277['refDistanc'+'e']):-0xd24*0x1+0x1b36+0x115*-0xd,this['rollOffFac'+'tor']=_0x16d277['rollOffFac'+'tor']!==void(-0x92*0x1+-0x17f6+0x13a*0x14)?Number(_0x16d277['rollOffFac'+'tor']):-0x26*-0x88+-0x9*-0x62+0x1*-0x17a1,this['distanceMo'+'del']=_0x16d277['distanceMo'+'del']!==void(0x2236+-0xb9a+0x4*-0x5a7)?_0x16d277['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x5ed6ef){this['_position']['copy'](_0x5ed6ef);const _0x320280=this['panner'];'positionX'in _0x320280?(_0x320280['positionX']['value']=_0x5ed6ef['x'],_0x320280['positionY']['value']=_0x5ed6ef['y'],_0x320280['positionZ']['value']=_0x5ed6ef['z']):_0x320280['setPositio'+'n']&&_0x320280['setPositio'+'n'](_0x5ed6ef['x'],_0x5ed6ef['y'],_0x5ed6ef['z']);}get['position'](){return this['_position'];}set['velocity'](_0x47f5c1){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x47f5c1);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x248aa2){this['panner']['maxDistanc'+'e']=_0x248aa2;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x1ec61e){this['panner']['refDistanc'+'e']=_0x1ec61e;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x4d0b32){this['panner']['rolloffFac'+'tor']=_0x4d0b32;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x5ae0c){this['panner']['distanceMo'+'del']=_0x5ae0c;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0xe0b6d9,_0x1f7ada,_0x2c6f29,_0x37c417,_0x529364,_0x2bcbe8){l=l['sub2'](_0xe0b6d9,_0x1f7ada);const _0x3278bd=l['length']();if(_0x3278bd<_0x2c6f29)return-0x1e46*0x1+0x1134+0xd13;if(_0x3278bd>_0x37c417)return-0x1*0x1f66+-0x7cb+0x2731;let _0x315548=-0x1*-0x164b+-0x1882*-0x1+0x2ecd*-0x1;return _0x2bcbe8===cc?_0x315548=0x10*-0x1b1+-0x36+0x1b47-_0x529364*(_0x3278bd-_0x2c6f29)/(_0x37c417-_0x2c6f29):_0x2bcbe8===Ff?_0x315548=_0x2c6f29/(_0x2c6f29+_0x529364*(_0x3278bd-_0x2c6f29)):_0x2bcbe8===cy&&(_0x315548=Math['pow'](_0x3278bd/_0x2c6f29,-_0x529364)),N['clamp'](_0x315548,0x1462+0x13*-0x1af+0xb9b,-0x51c*-0x7+-0x19f2+0x9d1*-0x1);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x211383){if(this['_position']['copy'](_0x211383),this['source']){const _0x55d045=this['_manager']['listener']['getPositio'+'n'](),_0x52c38a=t(_0x55d045,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x529e77=this['volume'];this['source']['volume']=_0x529e77*_0x52c38a*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x27aaf3){this['_maxDistan'+'ce']=_0x27aaf3;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x36ed){this['_refDistan'+'ce']=_0x36ed;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x1634c9){this['_rollOffFa'+'ctor']=_0x1634c9;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x53b0a0){this['_distanceM'+'odel']=_0x53b0a0;}});}const n0=0x1e66+0x214f+-0x2f*0x15b,yp=0x1ab2+0x63*0x65+-0x41c0,Kt=0x1*0x9a9+-0x254c+0x1ba5,is=-0x140c+0x466+0xfa9,hr=0x1ec9+-0x26f8+-0x1*-0x833,xp=-0x9*0xcb+0x255a+0x305*-0xa,Hc=0xaa*-0x7+0x19b4+-0x1508,a0=0x4*-0x6eb+0xe50*-0x1+0x2a03,o0=-0x1713+0x12a3+0xd*0x58,l0=0x1*0x1345+-0x12e3+-0x59,h0=0x90*0x3d+-0x2109+-0x13d,Fa='none',zb='linear',Sp=0x7cb*-0x3+-0x1daf+0x3512,Ub=0x105c+0x13*0x59+0x1*-0x16f7,Vb=-0x1b21+-0x74*-0x1+-0xcf*-0x21,c0=-0x2453+0x2b1*-0x8+0x39ea,Fi=0x243c+-0x1*0xdab+0x6d*-0x35,Xt=-0xb*-0x29+-0x12dc+0x111a,vp=-0x17da+0x1*-0x24a9+0x1*0x3c85,bp=0x3b*0x8e+0x108b+-0xd*0x3ca,tl=-0x2a0+-0x1079*0x2+0xa*0x38f,oe=-0x1f66+0xee8+0x83f*0x2,Pe=0x2a1+-0x2634+0x2394,Re=-0x4a+-0x18*-0xb5+-0xb*0x184,yt=-0x1b6c+-0x15a7*-0x1+-0x1*-0x5c5,Gb=0x11ba+-0x1*0xbc0+-0x1*0x5f9,Hb=0x514+0xa12+-0xc*0x143,$b=0x1*0x26ad+-0x1b75+0x97*-0x13,wp=-0x153*0xa+-0x42*0x95+-0xc*-0x44e,Wb=-0x26bb+-0x239d+0x4a59,Lt=0x2306*0x1+-0x1*0x11b+-0x21eb,Hr=0x1588+-0x2*0xcb6+-0x1*-0x3e6,$r=0xc7f+0x12*-0x18d+0xf6e,lh=0xfdd+0x1*0x1acd+-0x2aa6,Bh=-0x28*-0x5+0x3*0x407+-0xcd8,Ts=-0x183e+0x25ef+-0xdab,Nh=-0x8df+0xddb*-0x1+0x16c1,zh=-0x182f+0x2076+-0x83f,Iu=-0x26e7*0x1+0x1bd*0x5+0x1e3f,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(0x1dd3+0x3ab*0x6+-0x33d5)}],[Lt,{'name':'PCF3_32F','format':Ci,'pcf':!(-0x42*-0x1d+0x3*0xc13+-0x2bb3)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(0x39*0x29+0x1dc9+-0x11*0x24a)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(-0x7d*0x10+0x1f84*0x1+-0x17b4)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(-0x1*0x53+0x13e8+0x3*-0x687)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(-0x1e4+0x136a+-0x1186)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(0x17b8+-0x5*0x69d+0x959)}],[$r,{'name':'VSM_32F','format':Ke,'vsm':!(-0x25e6+0x65c+0x1f8a*0x1)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(0x1*-0x1b01+-0x9ed+0x24ee)}]]),Tp=0x1b68+0x1b59*0x1+-0x36c0,Du=0x2*-0x255+0x239*0x6+-0x8ac,d0=-0x6b8+-0x14f*0x1c+0x2b5c,Vs=-0x1db4+0xbb1*0x1+-0x9f*-0x1d,qb=0x6f5*-0x1+0x38b+-0x7d*-0x7,Uh=0xe65+-0x895+-0x4*0x174,Xb=-0xa2b*0x3+-0x25fd+0x447f,Gs=0x1*0x20a1+0xe18+0x1b*-0x1bb,ua=-0x475+-0x425*-0x8+0x1cb2*-0x1,yo=-0x26f7+0x169c+-0x1*-0x105b,Dr=0xf*0x254+-0x276+-0x7*0x4a3,Tl=-0x984+0x1136+-0x7b0,u0=0x1fb4+-0x1*-0xae+-0x67a*0x5,jb=0x228*-0x8+-0x749*0x1+0x188a,km='mul',sl=0x218*-0xf+0x1809+0x75f,hh=0x3*-0xb11+0x11be+-0x1*-0xf76,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=0x204a*-0x1+-0x9fd+0x2a47,aF=-0x1*-0x2045+0x5e9*0x1+-0x262d,oF=-0x7e*0x3f+0x1543+-0xe3*-0xb,lF=-0xd93+-0x89e*-0x3+-0xc44,hF=-0x2b*-0xcf+-0x1*-0x1b83+0x1f22*-0x2,cF=-0xfe7+0x4*0x79d+-0xe88,f0=-0xa1b*0x1+-0x12cf+0x1cf0,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=0x1*0x8df+-0xd0b+0x59*0xc,Bo=0x405*-0x3+0x1621+-0xa11,Lu=-0xa5*-0x16+-0x452*0x4+0x31c,Ep=0x1e6e+0x16b*-0x11+0x2*-0x329,$c=0x14c7+-0x21b3+0xcee,m0=-0xe85*0x1+0x194+-0x6b*-0x1f,_0=0xfde+0xdb1*0x1+-0x1d87,g0=-0x1*-0x23d+0x20e3+-0x16*0x198,Wc=0x83*-0x29+0x3*0x78d+-0xb*0x24,Fu=0x2373+-0xb3e+-0x17f5,y0=-0x103c+0x1*0x1c86+0x1*-0xbca,Cp=-0x26ce+-0x1201+0x3*0x1345,Mp=0x4f2*-0x4+-0x17*-0x41+0x7*0x247,qc=0x10*-0x5+-0x89f+-0x12d*-0xb,Xc=0x25e0+0x1cc0+-0x3aa0,x0=0x235c+0x23e9+0x3745*-0x1,jc=0x1*-0x115f+0x18e3+0x187c,Ou=-0x3285+-0x400*0x1+0x7685,Ps=0x1dd7+0x62*-0x31+-0xb15,cn=-0x10*0x85+-0x25f*-0x1+0x5f2,Pp=0x1c19+-0x22ba+-0x6a3*-0x1,Ei=-0x32*-0x9d+0x4*-0x31d+-0x1236,ku=-0x2*0x71f+0x1ef1*-0x1+0x2d30,hs=-0x505*0x7+-0x1*-0x1504+0xe20,cr=-0xb47+0x2441+-0x5e*0x44,rr=0x773*0x3+0x1c65+0x32ba*-0x1,gn=-0xe0+0x179b+-0x16bb,il=-0x229+-0x3*-0x570+0x2*-0x713,rl=-0xcbb*-0x1+0x13d1+-0x23*0xee,Oa=0xbf0+0x2*-0x59e+-0xb1*0x1,Rp=0x4af*0x3+0x2188+0x3*-0xfdb,Ti=-0xc69+0x648+0x621,nt=-0x600+-0x1131+-0xb99*-0x2,Qe=0x1*-0x149c+0x7*0x2f3+0x1*-0x7,ch=-0x997*0x4+0x3ee*0x2+0x1e81,Al=-0xd26+0x27c*-0x6+0xe07*0x2,dh=0x244b+-0x13a6+-0x10a5,Zb=0x23c6+-0x2*0xeaa+-0x671,Qb=-0x15f7+-0x157d+0x15bb*0x2,Bm=0xf6d*0x1+-0xdc9+0x1a1*-0x1,Jb=-0x2232+0xa7+0x218f,ew=0x12*-0xee+-0xb7e+0x7*0x409,Ip=0xcbf+-0x2*0x1370+-0x1a21*-0x1,Bu=-0xc40*0x2+0x9fd*-0x1+0xa*0x373,pe=0x6a7+-0x5c*-0x4+-0x817,ke=0x2b*-0xe3+0x63a+0x1fe8,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0x48e3ad,_0x54ffe8,_0x21ec10){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0x48e3ad,this['bindGroupF'+'ormats'][Dh]=_0x54ffe8,this['vertexForm'+'at']=_0x21ec10);}['hasUniform'](_0x5ea80d){for(let _0x1e853e=0x2564+0x5f*0x4+0x1370*-0x2;_0x1e853e<this['uniformFor'+'mats']['length'];_0x1e853e++){const _0x4e6719=this['uniformFor'+'mats'][_0x1e853e];if(_0x4e6719!=null&&_0x4e6719['get'](_0x5ea80d))return!(0x26d9+0x1*0x26ef+-0x4dc8);}return!(-0x179f+0x3ee*-0x2+0x4*0x7df);}['hasTexture'](_0x18bfe8){for(let _0x4a4bca=-0x26a2+0x146e+0x5*0x3a4;_0x4a4bca<this['bindGroupF'+'ormats']['length'];_0x4a4bca++){const _0x3b9ae1=this['bindGroupF'+'ormats'][_0x4a4bca];if(_0x3b9ae1!=null&&_0x3b9ae1['getTexture'](_0x18bfe8))return!(-0x4e*-0x53+0x4b*-0x6d+-0x3*-0x237);}return!(0x198f+0x1897+-0x3225);}['getVertexE'+'lement'](_0x6225b0){var _0x98bb7c;return(_0x98bb7c=this['vertexForm'+'at'])==null?void(-0x2118+-0x1080+0x3198):_0x98bb7c['elements']['find'](_0x2ae60f=>_0x2ae60f['name']===_0x6225b0);}['generateKe'+'y'](_0x11da6d){var _0x3ef4ff;let _0x2b0177=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x11da6d['isWebGPU']&&(_0x2b0177+=(_0x3ef4ff=this['vertexForm'+'at'])==null?void(-0x2*-0xdf1+-0x3*-0x137+0x481*-0x7):_0x3ef4ff['shaderProc'+'essingHash'+'String']),_0x2b0177;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',$w='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),Ww='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',$T='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',WT='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',$A='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',WA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20Φ\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':$w,'encodePS':v0,'endPS':Ww,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':$T,'opacityDitherPS':WT,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':$A,'reflectionEnvHQPS':WA,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new kt();function ka(_0x3fd88c){const _0x12643f=b0['get'](_0x3fd88c);return v['assert'](_0x12643f),_0x12643f;}function $E(_0x4cd21e,_0x235325){v['assert'](_0x235325),b0['get'](_0x4cd21e,()=>_0x235325);}class Dt{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x47f589){const _0x32249b=Array['from'](_0x47f589)['sort']((_0x3f26db,_0x26313a)=>_0x3f26db[0x231e+0x2487+0x47a5*-0x1]>_0x26313a[0xde7+-0x7*0x320+0x7f9*0x1]?0x25*-0xbd+0xa0e+-0x14*-0xdd:-(-0x2*-0x86+-0x1c45*-0x1+-0x1d50));return hn(JSON['stringify'](_0x32249b));}}const WE=new kt();class qE{constructor(_0x1384e8,_0x2f9d7c,_0x17a2cd={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0x1384e8),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x1384e8),this['name']=_0x1384e8,this['index']=_0x2f9d7c,Object['assign'](this,_0x17a2cd),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x1cc2b0;this['isShadow']?_0x1cc2b0='SHADOW':this['isForward']?_0x1cc2b0='FORWARD':this['index']===rl?_0x1cc2b0='DEPTH':this['index']===Oa&&(_0x1cc2b0='PICK'),this['defines']['set'](_0x1cc2b0+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',-0x1e6+0x2158+0x1f72*-0x1);const _0x395d1f=(_0x24f2a9,_0x8b7a6b,_0x44d976)=>{const _0x46e3b5=this['allocate'](_0x24f2a9,_0x44d976);v['assert'](_0x46e3b5['index']===_0x8b7a6b);};_0x395d1f('forward',gn,{'isForward':!(0x1751+-0x67c+-0x10d5)}),_0x395d1f('prepass',il),_0x395d1f('depth',rl),_0x395d1f('pick',Oa),_0x395d1f('shadow',Rp);}static['get'](_0x4c7a17){return v['assert'](_0x4c7a17),WE['get'](_0x4c7a17,()=>new Ks());}['allocate'](_0x1881b9,_0x4cc01f){let _0x198498=this['passesName'+'d']['get'](_0x1881b9);return _0x198498===void(-0x1075+-0x20b3+0x1a*0x1e4)&&(_0x198498=new qE(_0x1881b9,this['nextIndex'],_0x4cc01f),this['passesName'+'d']['set'](_0x198498['name'],_0x198498),this['passesInde'+'xed'][_0x198498['index']]=_0x198498,this['nextIndex']++),_0x198498;}['getByIndex'](_0x55e8d5){const _0x550127=this['passesInde'+'xed'][_0x55e8d5];return v['assert'](_0x550127),_0x550127;}['getByName'](_0x4d0b22){return this['passesName'+'d']['get'](_0x4d0b22);}}function Is(_0x1c8a64,_0x561b3f,_0x95ee76,_0x4dbf4d,_0x3ac6d4,_0x4e0e65=!(-0x14f8+-0x1989+-0x1*-0x2e82),_0xc85640={}){v['assert'](!(0x1482+-0x4*-0x4ab+-0x272e)),typeof _0x4e0e65=='boolean'?_0xc85640['useTransfo'+'rmFeedback']=_0x4e0e65:typeof _0x4e0e65=='object'&&(_0xc85640={..._0xc85640,..._0x4e0e65});const _0x3ff407=ka(_0x1c8a64);let _0x634764=_0x3ff407['getCachedS'+'hader'](_0x4dbf4d);return _0x634764||(_0x634764=new i0(_0x1c8a64,Mt['createDefi'+'nition'](_0x1c8a64,{..._0xc85640,'name':_0x4dbf4d,'vertexCode':_0x561b3f,'fragmentCode':_0x95ee76,'attributes':_0x3ac6d4})),_0x3ff407['setCachedS'+'hader'](_0x4dbf4d,_0x634764)),_0x634764;}class XE extends Dt{constructor(_0x44b84e,_0x5c0b81){super(),this['key']=_0x44b84e,this['shaderDefi'+'nition']=_0x5c0b81;}['generateKe'+'y'](_0x48f70b){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x14d34a,_0x5ce1e8){return this['shaderDefi'+'nition'];}}function jE(_0x3df5af,_0x5d9e72){v['assert'](_0x3df5af);const _0x4144db=_0x3df5af['definition'],_0x319dbe=(_0x4144db['name']??'shader')+'-id-'+_0x3df5af['id'],_0x8a327b=new XE(_0x319dbe,_0x4144db),_0x2689fb='shader',_0x391121=ka(_0x3df5af['device']);v['assert'](!_0x391121['isRegister'+'ed'](_0x2689fb)),_0x391121['register'](_0x2689fb,_0x8a327b);const _0x254536=_0x391121['getProgram'](_0x2689fb,{},_0x5d9e72);return _0x3df5af['definition']['shaderLang'+'uage']===Ph&&(_0x254536['meshUnifor'+'mBufferFor'+'mat']=_0x4144db['meshUnifor'+'mBufferFor'+'mat'],_0x254536['meshBindGr'+'oupFormat']=_0x4144db['meshBindGr'+'oupFormat']),_0x391121['unregister'](_0x2689fb),_0x254536;}const Dp=(_0x5b92c7,_0x56fae)=>{const _0x4d1087=new Map(_0x5b92c7['defines']);return _0x56fae['cameraShad'+'erParams']['defines']['forEach']((_0x83dfb4,_0x48140b)=>_0x4d1087['set'](_0x48140b,_0x83dfb4)),Ks['get'](_0x56fae['device'])['getByIndex'](_0x56fae['pass'])['defines']['forEach']((_0x1b4fbd,_0x4eee54)=>_0x4d1087['set'](_0x4eee54,_0x1b4fbd)),_0x4d1087;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(-0x1*-0x2135+-0x2048+-0x4*0x3b)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x25859e){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0xd850f8=_0x25859e['device'];if(this['shader']=_0x25859e,v['assert'](_0x25859e),_0xd850f8['supportsUn'+'iformBuffe'+'rs']){const _0x1c898f=new Yc();this['shader']=jE(_0x25859e,_0x1c898f);const _0x2c6d9a=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x2c6d9a&&(this['uniformBuf'+'fer']=new gp(_0xd850f8,_0x2c6d9a,!(0x1e89*-0x1+-0x13*0x165+0x3909)));const _0x2cad9d=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x2cad9d),this['bindGroup']=new mp(_0xd850f8,_0x2cad9d),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x32f261,_0x3b3247;(_0x32f261=this['uniformBuf'+'fer'])==null||_0x32f261['destroy'](),this['uniformBuf'+'fer']=null,(_0x3b3247=this['bindGroup'])==null||_0x3b3247['destroy'](),this['bindGroup']=null;}['render'](_0x1b6903,_0x2f6df0){const _0xce84e0=this['shader']['device'];G['pushGpuMar'+'ker'](_0xce84e0,'QuadRender'),_0x1b6903&&(Va['set'](_0xce84e0['vx'],_0xce84e0['vy'],_0xce84e0['vw'],_0xce84e0['vh']),Ga['set'](_0xce84e0['sx'],_0xce84e0['sy'],_0xce84e0['sw'],_0xce84e0['sh']),_0x2f6df0=_0x2f6df0??_0x1b6903,_0xce84e0['setViewpor'+'t'](_0x1b6903['x'],_0x1b6903['y'],_0x1b6903['z'],_0x1b6903['w']),_0xce84e0['setScissor'](_0x2f6df0['x'],_0x2f6df0['y'],_0x2f6df0['z'],_0x2f6df0['w'])),_0xce84e0['setVertexB'+'uffer'](_0xce84e0['quadVertex'+'Buffer'],-0x97*0x26+0x2340+-0xcd6);const _0x4efdf4=this['shader'];if(_0xce84e0['setShader'](_0x4efdf4),_0xce84e0['supportsUn'+'iformBuffe'+'rs']){_0xce84e0['setBindGro'+'up'](Dh,_0xce84e0['emptyBindG'+'roup']);const _0x26315a=this['bindGroup'];_0x26315a['update'](),_0xce84e0['setBindGro'+'up'](Xy,_0x26315a);const _0x5bdac4=this['uniformBuf'+'fer'];_0x5bdac4?(_0x5bdac4['update'](pd),_0xce84e0['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0xce84e0['setBindGro'+'up'](Eu,_0xce84e0['emptyBindG'+'roup']);}_0xce84e0['draw'](YE),_0x1b6903&&(_0xce84e0['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0xce84e0['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0xce84e0);}}class KE extends ds{constructor(_0x2c114b,_0x4ec37f,_0xe44f82,_0x10b609){super(_0x2c114b),this['quad']=_0x4ec37f,this['rect']=_0xe44f82,this['scissorRec'+'t']=_0x10b609;}['execute'](){const {device:_0x2d637e}=this;G['pushGpuMar'+'ker'](_0x2d637e,this['name']+':'+this['quad']['shader']['name']),_0x2d637e['setCullMod'+'e'](mt),_0x2d637e['setDepthSt'+'ate'](as['NODEPTH']),_0x2d637e['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x2d637e);}}const ZE=new Q();function dn(_0x469b6a,_0x353ae1,_0x2a27f0,_0x4691cc,_0x1d0471){v['assert'](_0x353ae1!==void(0x1d71+-0x54f+0x1*-0x1822));const _0x17382e=arguments[0x22*-0x47+0x788+0x1eb];v['call'](()=>{_0x17382e!==void(0x1a5a+-0x9*0x1+-0x1a51)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x1b7285=new Nu(_0x2a27f0);_0x4691cc||(_0x4691cc=ZE,_0x4691cc['x']=-0x17c9+0x401+-0x4f2*-0x4,_0x4691cc['y']=-0x7*0x2dd+0x17cc+-0x3c1,_0x4691cc['z']=_0x353ae1?_0x353ae1['width']:_0x469b6a['width'],_0x4691cc['w']=_0x353ae1?_0x353ae1['height']:_0x469b6a['height']);const _0x689955=new KE(_0x469b6a,_0x1b7285,_0x4691cc,_0x1d0471);_0x689955['init'](_0x353ae1),_0x689955['colorOps']['clear']=!(0x490+-0x2380+0x1ef1*0x1),_0x689955['depthStenc'+'ilOps']['clearDepth']=!(-0x1*-0x2029+0x168*0x4+-0x25c8),_0x469b6a['isWebGPU']&&_0x353ae1===null&&_0x469b6a['samples']>0x25e7+-0x2685+-0x35*-0x3&&(_0x689955['colorOps']['store']=!(-0xd1*-0x13+0x18c5+-0x2848)),_0x689955['render'](),_0x1b7285['destroy']();}class zm{constructor(_0x1fb3e9,_0x1cb1a5,_0x3c084f){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x1fb3e9,this['dynamic']=_0x1cb1a5,this['batchGroup'+'Id']=_0x3c084f);}['destroy'](_0xde848b,_0xf6db0f){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0xde848b,_0xf6db0f),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x4533bc,_0x357bf3){for(let _0x1256a0=-0x157*0x2+0xd0d+-0xa5f;_0x1256a0<_0x357bf3['length'];_0x1256a0++){const _0x446e84=_0x4533bc['layers']['getLayerBy'+'Id'](_0x357bf3[_0x1256a0]);_0x446e84&&_0x446e84['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x3f309b,_0x485703){for(let _0x465dd2=0x245f+-0xbc9+-0x1896;_0x465dd2<_0x485703['length'];_0x465dd2++){const _0xd038c3=_0x3f309b['layers']['getLayerBy'+'Id'](_0x485703[_0x465dd2]);_0xd038c3&&_0xd038c3['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x9*0x3a9+-0x2*0xc79+-0x7ff*0x1]['aabb']);for(let _0x525fbf=-0x12*0x198+0x13ff*-0x1+-0x29*-0x130;_0x525fbf<this['origMeshIn'+'stances']['length'];_0x525fbf++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x525fbf]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x1cc3+-0x343+0x2006;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x117866,_0x4cccac,_0x54690e,_0x30d78a,_0x3d12d4=[Fi]){c(this,'_ui',!(-0x1f20+-0x1e4*-0x8+0x1001)),c(this,'_sprite',!(-0x565+0x13*0x41+0x93)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x117866,this['name']=_0x4cccac,this['dynamic']=_0x54690e,this['maxAabbSiz'+'e']=_0x30d78a,this['layers']=_0x3d12d4);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x49a62c){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(0x1f02+-0xf*-0xc7+-0x2aab),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0xd7d+0x3e8*-0x5+0x2106),this['_updateBef'+'oreCull']=!(-0x8*0x2b3+-0x1b57*-0x1+-0x5bf),_0x49a62c&&this['initSkin'](_0x49a62c));}set['rootBone'](_0x579537){this['_rootBone']=_0x579537;}get['rootBone'](){return this['_rootBone'];}['init'](_0x44bed3,_0x2da11a){const _0x1d7d6c=_0x2da11a*(-0x358*-0x5+0x2b*0x3b+0x1*-0x1a9e);let _0x4ad0a4=Math['ceil'](Math['sqrt'](_0x1d7d6c));_0x4ad0a4=N['roundUp'](_0x4ad0a4,0x25*0xd3+-0x1461+-0xa1b);const _0x303298=Math['ceil'](_0x1d7d6c/_0x4ad0a4);this['boneTextur'+'e']=new he(_0x44bed3,{'width':_0x4ad0a4,'height':_0x303298,'format':Ke,'mipmaps':!(0x21a+-0x8*0xe6+0x517),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x4ad0a4,_0x303298,(-0x1*0x26da+-0x140*-0x13+0xf1b)/_0x4ad0a4,(0x1df0+-0x8*-0x1b4+0x3f*-0xb1)/_0x303298],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x1c1dd0,_0xd04163){this['rootBone']=_0x1c1dd0;const _0xf2b542=this['skin'],_0x2e8109=[];for(let _0x5a558c=0x899+-0x139+0xec*-0x8;_0x5a558c<_0xf2b542['boneNames']['length'];_0x5a558c++){const _0x4d3321=_0xf2b542['boneNames'][_0x5a558c];let _0x313137=_0x1c1dd0['findByName'](_0x4d3321);_0x313137||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x4d3321+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0xd04163['name']+(',\x20rootBone'+':\x20')+_0x1c1dd0['name']),_0x313137=_0xd04163),_0x2e8109['push'](_0x313137);}this['bones']=_0x2e8109;}['initSkin'](_0x4f388e){this['skin']=_0x4f388e,this['bones']=[];const _0x28c360=_0x4f388e['inverseBin'+'dPose']['length'];this['init'](_0x4f388e['device'],_0x28c360),this['matrices']=[];for(let _0x14446e=0x5a*-0x25+-0x1*0x23ad+0x1*0x30af;_0x14446e<_0x28c360;_0x14446e++)this['matrices'][_0x14446e]=new q();}['uploadBone'+'s'](_0x2d0910){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x271fb6,_0xdab111){if(this['_skinUpdat'+'eIndex']!==_0xdab111){this['_skinUpdat'+'eIndex']=_0xdab111,Um['copy'](_0x271fb6['getWorldTr'+'ansform']())['invert']();for(let _0x5ca1cb=this['bones']['length']-(0x2128+0x399+-0x54*0x70);_0x5ca1cb>=0xf6d+0x1*0x175+-0x10e2;_0x5ca1cb--)this['matrices'][_0x5ca1cb]['mulAffine2'](Um,this['bones'][_0x5ca1cb]['getWorldTr'+'ansform']()),this['matrices'][_0x5ca1cb]['mulAffine2'](this['matrices'][_0x5ca1cb],this['skin']['inverseBin'+'dPose'][_0x5ca1cb]);}}['updateMatr'+'ices'](_0x4edc8e,_0x4706b7){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x4edc8e,_0x4706b7);}['updateMatr'+'ixPalette'](_0xfd9912,_0x77980a){this['_updateMat'+'rices'](_0xfd9912,_0x77980a);const _0x253785=this['matrixPale'+'tte'],_0xa5a723=this['bones']['length'];for(let _0x313ea4=0x1*0x2661+0x1f7*-0x11+-0xd*0x62;_0x313ea4<_0xa5a723;_0x313ea4++){const _0x59469d=this['matrices'][_0x313ea4]['data'],_0x4aebf7=_0x313ea4*(0x6d5+0x16dd+0x5*-0x5ee);_0x253785[_0x4aebf7]=_0x59469d[-0x1*-0xf47+0x49*-0x3d+0x21e],_0x253785[_0x4aebf7+(-0x2*0xe0a+-0x15d4+0x31e9)]=_0x59469d[0x2352*0x1+-0x7*0x45b+-0x4d1],_0x253785[_0x4aebf7+(0x1b69+-0xc8*0x1+0x1d*-0xeb)]=_0x59469d[-0xc5e+-0x4a3*-0x1+-0x1*-0x7c3],_0x253785[_0x4aebf7+(-0x10e1+0x260b+-0x39*0x5f)]=_0x59469d[-0x2dd+0x1b8+-0x131*-0x1],_0x253785[_0x4aebf7+(0x17b1+-0x13db+-0x3d2)]=_0x59469d[-0x260b+0x77*-0x44+0x45a8],_0x253785[_0x4aebf7+(0x1*0xf6b+-0x2*0x26+-0xf1a*0x1)]=_0x59469d[-0x2116+-0x1*-0x1bc2+0x559],_0x253785[_0x4aebf7+(-0x20d1*-0x1+0xd*0x1bb+-0x374a)]=_0x59469d[-0x43*0x3d+0x5*-0x2e9+-0xa2f*-0x3],_0x253785[_0x4aebf7+(0x175f+0xa*-0x266+0x52*0x2)]=_0x59469d[0x26*-0xae+-0x15b4+0x2f95],_0x253785[_0x4aebf7+(-0x2619*-0x1+0x833+-0x1a7*0x1c)]=_0x59469d[-0x149b+-0x1feb+-0xa4*-0x52],_0x253785[_0x4aebf7+(-0x3e1*-0x6+-0x1cf2+0x5b5)]=_0x59469d[-0x4*0x19+0x19af+-0x1945],_0x253785[_0x4aebf7+(0x1a22+-0x7de*0x2+0x1ba*-0x6)]=_0x59469d[0x1*-0x1fa6+-0x1548+-0x18*-0x235],_0x253785[_0x4aebf7+(-0x130e+-0x1*0xd1+-0x13ea*-0x1)]=_0x59469d[-0x2668+0x2110+0x2b3*0x2];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0xe0dd77,_0x47efc6,_0x2794dd){super();const _0x10e0cd=_0x47efc6['length'];this['init'](_0xe0dd77,_0x10e0cd),this['device']=_0xe0dd77,this['rootNode']=_0x2794dd,this['bones']=_0x47efc6;}['updateMatr'+'ices'](_0x175850,_0x25177b){}['updateMatr'+'ixPalette'](_0x55d2a5,_0x422856){const _0x463f02=this['matrixPale'+'tte'],_0x272cd1=this['bones']['length'];for(let _0x2dac32=0x2*-0xb9c+-0x514+0x1c4c;_0x2dac32<_0x272cd1;_0x2dac32++){const _0x3dc1f7=this['bones'][_0x2dac32]['getWorldTr'+'ansform']()['data'],_0x9dd412=_0x2dac32*(0x587*0x2+0x2*0x1ad+0x397*-0x4);_0x463f02[_0x9dd412]=_0x3dc1f7[-0x1*-0x1b2+0x23c3+-0x2575],_0x463f02[_0x9dd412+(-0x2b*0xaf+0x17f*-0x1+0x1ee5)]=_0x3dc1f7[0xea3+0x10b6+0x269*-0xd],_0x463f02[_0x9dd412+(-0x1bac+-0x1a2d+0x32b*0x11)]=_0x3dc1f7[0x1f1d+-0x376*0x8+-0x365],_0x463f02[_0x9dd412+(0x1e02+0x739*0x4+-0x19*0x25b)]=_0x3dc1f7[-0x9*0x26f+-0xd4c+0x233f],_0x463f02[_0x9dd412+(0x2584+0x67*-0x25+-0x169d)]=_0x3dc1f7[-0x1fae+-0x2293+-0x16*-0x303],_0x463f02[_0x9dd412+(-0x84b+-0x2*0xe71+-0x8a*-0x45)]=_0x3dc1f7[0xc10+-0x4b6+-0x755],_0x463f02[_0x9dd412+(0x1*-0x1283+-0x16d5+0x295e)]=_0x3dc1f7[-0x1c8b*-0x1+0x3d*-0x5b+-0x6d3],_0x463f02[_0x9dd412+(-0x21ad*-0x1+0x13f7+-0x3*0x11df)]=_0x3dc1f7[-0x218a+0x1*-0x905+0x2a9c*0x1],_0x463f02[_0x9dd412+(-0x197f+0x1dc6+-0x43f)]=_0x3dc1f7[-0x1ee*-0xd+-0x27*0x1b+-0x14f7],_0x463f02[_0x9dd412+(0xa2f*-0x3+0x22*0x35+0x178c)]=_0x3dc1f7[0x39*-0x5b+-0x3*0x8a9+0xe*0x34e],_0x463f02[_0x9dd412+(0x1*-0xe4d+-0x2233+-0x72*-0x6d)]=_0x3dc1f7[0x3ba*0xa+0x239*-0x2+0x832*-0x4],_0x463f02[_0x9dd412+(-0xbb4+-0x2*-0xee9+0x1*-0x1213)]=_0x3dc1f7[-0x24c5+-0x418*-0x8+0x413];}this['uploadBone'+'s'](this['device']);}}let QE=0x3b*0x1c+-0xb73*-0x3+-0x28cd;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x5*-0x6cb+-0x563+-0x1c93),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=0x2296+0xb55*0x2+0x10*-0x394,this['maxIndices']=-0xb*-0x2ff+0x188c*0x1+-0x3981,this['vertexCoun'+'t']=-0x2661+-0x9*0x19+-0x1*-0x2742,this['indexCount']=-0x26b7*-0x1+-0x2604+-0xb3,this['vertexStre'+'amsUpdated']=!(-0x3b7+0xfae+-0xbf6),this['indexStrea'+'mUpdated']=!(-0x9*0x71+0xb*0xc6+-0x488),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x334f2c,_0x55b2be){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0x334f2c,'Vertex\x20str'+'eam\x20'+_0x55b2be+'\x20has\x20'+_0x334f2c+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x334f2c;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x164d+-0x5*0x19b+0x1e57),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x7cb+-0x1b*-0x57+-0x10f5*0x1),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',0x3*0x61+0x21fd+-0x231e),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x1*0x103c+0x100e*0x2+-0x182a*0x2);class JE{constructor(_0x388851,_0x253b23,_0x21fb3d,_0x11f58e,_0x5bb1fd){this['data']=_0x388851,this['componentC'+'ount']=_0x253b23,this['dataType']=_0x21fb3d,this['dataTypeNo'+'rmalize']=_0x11f58e,this['asInt']=_0x5bb1fd;}}class Ie extends Gc{constructor(_0x5baa28,_0x26df43){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',-0x2*-0x4f4+-0xf72+0x58a),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(0x1df*-0xb+-0x72c+0x1bc2)),c(this,'_storageVe'+'rtex',!(-0x957+-0xde+0xa36*0x1)),(this['id']=QE++,v['assert'](_0x5baa28,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x5baa28,this['_storageIn'+'dex']=(_0x26df43==null?void(0xe*-0x53+0x208a+0x38*-0x80):_0x26df43['storageInd'+'ex'])||!(-0x24b*0x11+0x764*-0x4+0x448c),this['_storageVe'+'rtex']=(_0x26df43==null?void(-0x1809+0x1b1*0x7+0xc32):_0x26df43['storageVer'+'tex'])||!(-0x1*0x20fb+-0x2304+0x4400));}static['fromGeomet'+'ry'](_0x328db6,_0x145979,_0x37cb6f={}){const _0x520849=new Ie(_0x328db6,_0x37cb6f),{positions:_0x4c3e5a,normals:_0x3b74db,tangents:_0x192ef0,colors:_0x2aef23,uvs:_0x5cd0df,uvs1:_0x17babc,blendIndices:_0x2af643,blendWeights:_0x23d03f,indices:_0x34eb2a}=_0x145979;return _0x4c3e5a&&_0x520849['setPositio'+'ns'](_0x4c3e5a),_0x3b74db&&_0x520849['setNormals'](_0x3b74db),_0x192ef0&&_0x520849['setVertexS'+'tream'](Zs,_0x192ef0,-0x19e*0x9+-0xdf*-0x11+0x1*-0x3d),_0x2aef23&&_0x520849['setColors3'+'2'](_0x2aef23),_0x5cd0df&&_0x520849['setUvs'](0x42c+-0x8*-0x127+0x4*-0x359,_0x5cd0df),_0x17babc&&_0x520849['setUvs'](-0xcd3+0x29d*-0x9+0x5*0x745,_0x17babc),_0x2af643&&_0x520849['setVertexS'+'tream'](qt,_0x2af643,0x62*-0x27+0x1e1*-0xa+0x21bc,_0x2af643['length']/(-0x8ae+-0x1*-0x9eb+-0x139),Kr),_0x23d03f&&_0x520849['setVertexS'+'tream'](Ys,_0x23d03f,-0x17a+0x10d9*0x1+0xf5b*-0x1),_0x34eb2a&&_0x520849['setIndices'](_0x34eb2a),_0x520849['update'](),_0x520849;}set['morph'](_0x1bce32){_0x1bce32!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x1bce32,_0x1bce32&&_0x1bce32['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0xe77bdc){this['_aabb']=_0xe77bdc,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x3b171f=this['morph'];_0x3b171f&&(this['morph']=null,_0x3b171f['refCount']<-0x1*-0x77b+-0x1*0x1829+0x10af&&_0x3b171f['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0xa047a6=0x2*0x127f+0x9b*-0x12+-0x1a18;_0xa047a6<this['indexBuffe'+'r']['length'];_0xa047a6++)this['_destroyIn'+'dexBuffer'](_0xa047a6);this['indexBuffe'+'r']['length']=-0x13ed+0x4*0x313+0x7a1,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x2f7927){this['indexBuffe'+'r'][_0x2f7927]&&(this['indexBuffe'+'r'][_0x2f7927]['destroy'](),this['indexBuffe'+'r'][_0x2f7927]=null);}['_initBoneA'+'abbs'](_0x321759){this['boneAabb']=[],this['boneUsed']=[];let _0x5ecd24,_0x1c743e,_0x338c72,_0x1a62c6,_0x967339;const _0x31b699=[],_0x54ab39=[],_0x37233b=this['boneUsed'],_0x3a7d3e=this['skin']['boneNames']['length'];let _0x5817a0,_0x151fe7,_0x1cfe62;for(let _0x2db12b=0x259b+-0xf61+-0x163a;_0x2db12b<_0x3a7d3e;_0x2db12b++)_0x31b699[_0x2db12b]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x54ab39[_0x2db12b]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x1183af=new go(this['vertexBuff'+'er']),_0x4970dc=_0x1183af['element'][He],_0x37f7d7=_0x1183af['element'][Ys],_0x384b4a=_0x1183af['element'][qt],_0x562d04=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x1ba0d7=0x1*0x134e+-0x80e+-0xb40;_0x1ba0d7<_0x562d04;_0x1ba0d7++){for(let _0x433cc6=-0x5*0x1+-0x1*-0x7f7+0x3*-0x2a6;_0x433cc6<0x1*-0x202+-0x1*0xdc4+-0x1*-0xfca;_0x433cc6++)if(_0x37f7d7['array'][_0x37f7d7['index']+_0x433cc6]>-0x218d+0xab2*-0x3+0x41a3){const _0x16ad0e=_0x384b4a['array'][_0x384b4a['index']+_0x433cc6];if(_0x37233b[_0x16ad0e]=!(0x8b*-0x29+-0x432+0x209*0xd),_0x5ecd24=_0x4970dc['array'][_0x4970dc['index']],_0x1c743e=_0x4970dc['array'][_0x4970dc['index']+(0x13f7+0x971*0x1+-0x1d67)],_0x338c72=_0x4970dc['array'][_0x4970dc['index']+(0x1*0x206e+0x656*-0x4+-0x714)],_0x1a62c6=_0x54ab39[_0x16ad0e],_0x967339=_0x31b699[_0x16ad0e],_0x967339['x']>_0x5ecd24&&(_0x967339['x']=_0x5ecd24),_0x967339['y']>_0x1c743e&&(_0x967339['y']=_0x1c743e),_0x967339['z']>_0x338c72&&(_0x967339['z']=_0x338c72),_0x1a62c6['x']<_0x5ecd24&&(_0x1a62c6['x']=_0x5ecd24),_0x1a62c6['y']<_0x1c743e&&(_0x1a62c6['y']=_0x1c743e),_0x1a62c6['z']<_0x338c72&&(_0x1a62c6['z']=_0x338c72),_0x321759){let _0x3d6ab=_0x5817a0=_0x5ecd24,_0x55f584=_0x151fe7=_0x1c743e,_0x8ad367=_0x1cfe62=_0x338c72;for(let _0x100231=0xa4e+0x1b4+0x1d*-0x6a;_0x100231<_0x321759['length'];_0x100231++){const _0x342e67=_0x321759[_0x100231],_0x20b2e7=_0x342e67['deltaPosit'+'ions'][_0x1ba0d7*(-0x1990+-0x2*-0x2a2+0x144f)],_0x305edb=_0x342e67['deltaPosit'+'ions'][_0x1ba0d7*(0xec9*0x1+-0x1393+0x4cd*0x1)+(0xb73+0x368+-0xeda)],_0x5d8612=_0x342e67['deltaPosit'+'ions'][_0x1ba0d7*(0x709+-0x1*-0x1279+0x197f*-0x1)+(0x1*-0x52a+0x102d+-0xb01)];_0x20b2e7<-0xf61+0x23dc+0x6b*-0x31?_0x3d6ab+=_0x20b2e7:_0x5817a0+=_0x20b2e7,_0x305edb<-0x20a9+-0x3*0x7b5+0x37c8?_0x55f584+=_0x305edb:_0x151fe7+=_0x305edb,_0x5d8612<0xa*0x43+0x49e+-0x4*0x1cf?_0x8ad367+=_0x5d8612:_0x1cfe62+=_0x5d8612;}_0x967339['x']>_0x3d6ab&&(_0x967339['x']=_0x3d6ab),_0x967339['y']>_0x55f584&&(_0x967339['y']=_0x55f584),_0x967339['z']>_0x8ad367&&(_0x967339['z']=_0x8ad367),_0x1a62c6['x']<_0x5817a0&&(_0x1a62c6['x']=_0x5817a0),_0x1a62c6['y']<_0x151fe7&&(_0x1a62c6['y']=_0x151fe7),_0x1a62c6['z']<_0x1cfe62&&(_0x1a62c6['z']=_0x1cfe62);}}_0x1183af['next']();}const _0x45d4fd=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x264f67=>_0x264f67['name']===He);if(_0x45d4fd&&_0x45d4fd['normalize']){const _0x203b7f=((()=>{switch(_0x45d4fd['dataType']){case Rc:return _0x4e7029=>Math['max'](_0x4e7029/(-0xf63+0x1*-0x31a+-0x2d*-0x6c),-(-0x1*0x268a+0x1*0xa45+-0x205*-0xe));case Kr:return _0x52603c=>_0x52603c/(-0x158*-0x1+0x1331+-0x138a);case Ic:return _0x11ecad=>Math['max'](_0x11ecad/(-0xc781+0x71*-0x21b+-0xbc79*-0x3),-(-0x1d*-0x101+0x2*-0xcd+0x1f7*-0xe));case el:return _0x5d6f46=>_0x5d6f46/(-0x12a9b+0x2e85+-0x1fc15*-0x1);default:return _0x58a605=>_0x58a605;}})());for(let _0x3317d8=0xa1d*-0x3+-0x576+0xeb*0x27;_0x3317d8<_0x3a7d3e;_0x3317d8++)if(_0x37233b[_0x3317d8]){const _0x1db9d1=_0x31b699[_0x3317d8],_0x548cde=_0x54ab39[_0x3317d8];_0x1db9d1['set'](_0x203b7f(_0x1db9d1['x']),_0x203b7f(_0x1db9d1['y']),_0x203b7f(_0x1db9d1['z'])),_0x548cde['set'](_0x203b7f(_0x548cde['x']),_0x203b7f(_0x548cde['y']),_0x203b7f(_0x548cde['z']));}}for(let _0x3dfc79=0x689+-0x449*0x9+-0x14*-0x19a;_0x3dfc79<_0x3a7d3e;_0x3dfc79++){const _0x3b62c8=new _e();_0x3b62c8['setMinMax'](_0x31b699[_0x3dfc79],_0x54ab39[_0x3dfc79]),this['boneAabb']['push'](_0x3b62c8);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x1*-0x1afb+-0x1366+0x2e61&&this['indexBuffe'+'r'][-0xdfa+-0x1*0x1c6+0xfc0]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x3d6*0x1+0x46*0x5f+-0x2*0xb12]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x734*0x1+0x133*-0x1f+0x21d*0x15]['numIndices']));}['clear'](_0x29a5e0,_0xde654c,_0x46caaf=-0x179f*0x1+-0x1408+-0x3*-0xe8d,_0x37decb=0x1a5*-0xa+-0x111d+0x47*0x79){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0xae+0x1f4b*-0x1+-0x1cd*-0x11),this['_geometryD'+'ata']['maxVertice'+'s']=_0x46caaf,this['_geometryD'+'ata']['maxIndices']=_0x37decb,this['_geometryD'+'ata']['verticesUs'+'age']=_0x29a5e0?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0xde654c?jt:Th;}['setVertexS'+'tream'](_0x1bc88f,_0x1c59ae,_0x28fa13,_0x36c2ab,_0x16de8c=Ee,_0x373ac0=!(-0x8*-0x185+0x25ee+-0x1*0x3215),_0x5552cc=!(-0x1d50+-0x766*0x5+-0x1*-0x424f)){this['_initGeome'+'tryData']();const _0x44edc9=_0x36c2ab||_0x1c59ae['length']/_0x28fa13;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x44edc9,_0x1bc88f),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x35+-0x2370*0x1+-0x137*-0x1d),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1bc88f]=new JE(_0x1c59ae,_0x28fa13,_0x16de8c,_0x373ac0,_0x5552cc);}['getVertexS'+'tream'](_0x3e6df9,_0x5c0d43){let _0x59c8ff=0x25c7+0x2*0x48f+-0x2ee5,_0x186a9b=!(0xe8c+-0x1cb9+0xe2e);if(this['_geometryD'+'ata']){const _0x55d146=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3e6df9];_0x55d146&&(_0x186a9b=!(0x1bc0+-0x61*0x4a+0x4a),_0x59c8ff=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x5c0d43)?_0x5c0d43['set'](_0x55d146['data']):(_0x5c0d43['length']=0x9*-0x13f+-0x1f2f+0x2a66,_0x5c0d43['push'](_0x55d146['data'])));}return _0x186a9b||this['vertexBuff'+'er']&&(_0x59c8ff=new go(this['vertexBuff'+'er'])['readData'](_0x3e6df9,_0x5c0d43)),_0x59c8ff;}['setPositio'+'ns'](_0x390b6e,_0x3c3697=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x2172ef){this['setVertexS'+'tream'](He,_0x390b6e,_0x3c3697,_0x2172ef,Ee,!(0x1*0x26ba+0xf3c+0x2d7*-0x13));}['setNormals'](_0x3774e3,_0xc68b89=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x532452){this['setVertexS'+'tream'](Yt,_0x3774e3,_0xc68b89,_0x532452,Ee,!(-0x2*0x1102+-0x1104+0x3309));}['setUvs'](_0x36c15d,_0x32baf1,_0x39389b=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0xc08f6d){this['setVertexS'+'tream'](om+_0x36c15d,_0x32baf1,_0x39389b,_0xc08f6d,Ee,!(0x1e52+-0x2633*-0x1+0x2242*-0x2));}['setColors'](_0x30e231,_0x57e33a=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x5ea261){this['setVertexS'+'tream'](At,_0x30e231,_0x57e33a,_0x5ea261,Ee,!(-0x8a0+0x9*0x3b+0x68e));}['setColors3'+'2'](_0x5040f1,_0x3748c0){this['setVertexS'+'tream'](At,_0x5040f1,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3748c0,Kr,!(0x35*-0x25+-0x1572+0x1d1b));}['setIndices'](_0x2ca8cc,_0x26fdfd){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x8f5*0x1+-0x10d*-0xc+-0x1591*0x1),this['_geometryD'+'ata']['indices']=_0x2ca8cc,this['_geometryD'+'ata']['indexCount']=_0x26fdfd||_0x2ca8cc['length'];}['getPositio'+'ns'](_0x5399d6){return this['getVertexS'+'tream'](He,_0x5399d6);}['getNormals'](_0x4ec419){return this['getVertexS'+'tream'](Yt,_0x4ec419);}['getUvs'](_0x5130d3,_0x4c188e){return this['getVertexS'+'tream'](om+_0x5130d3,_0x4c188e);}['getColors'](_0x55174e){return this['getVertexS'+'tream'](At,_0x55174e);}['getIndices'](_0x22e4a){let _0x1b5ca1=-0x421+0x240d+0x1c6*-0x12;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x30008d=this['_geometryD'+'ata']['indices'];if(_0x1b5ca1=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x22e4a))_0x22e4a['set'](_0x30008d);else{_0x22e4a['length']=-0x11b1+0x53*0x1c+-0x69*-0x15;for(let _0x5590c6=0xac7+0x1*0x653+-0x111a,_0x25b8d2=_0x30008d['length'];_0x5590c6<_0x25b8d2;_0x5590c6++)_0x22e4a['push'](_0x30008d[_0x5590c6]);}}else this['indexBuffe'+'r']['length']>0x344+0x11a5*-0x1+0xe61&&this['indexBuffe'+'r'][0x1a2*0x13+0xd3*0x25+-0x3d85]&&(_0x1b5ca1=this['indexBuffe'+'r'][0x2e3*0x2+-0x105*-0x2+-0x7d0]['readData'](_0x22e4a));return _0x1b5ca1;}['update'](_0xb6f3e4=Ms,_0x1e3f8f=!(-0x2*-0xaa9+0x131e*0x1+0x8*-0x50e)){if(this['_geometryD'+'ata']){if(_0x1e3f8f){const _0x209708=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0x209708&&_0x209708['componentC'+'ount']===-0x757+-0x74e+0xea8&&(this['_aabb']['compute'](_0x209708['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x161101=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x161101=!(0x1779+0x112*-0x1b+0x56d),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x161101&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x2e40e6=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x2e40e6=!(0xe*0x265+0x1d70+0x1f7b*-0x2),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x2e40e6&&this['indexBuffe'+'r']['length']>-0x3d*-0x35+0x3*0x5ab+-0x1da2*0x1&&this['indexBuffe'+'r'][0x1594+0x2*0x6d9+-0x2346]&&(this['indexBuffe'+'r'][-0x2575*0x1+0x2023+-0xe3*-0x6]['destroy'](),this['indexBuffe'+'r'][0x5d*0xf+0x2*0x1d4+0x7*-0x14d]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x3*0x417+-0xc2d*-0x1+-0x1872]['type']=_0xb6f3e4,this['indexBuffe'+'r']['length']>0x11*-0x22+0x153e+-0x97e*0x2&&this['indexBuffe'+'r'][-0x37a*-0x2+0x483+-0xb77]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x452+0x1321+-0x57*0x45]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x1a9b+-0x2*-0x8c4+0x913]['indexed']=!(-0x8db+0x1337+0x4*-0x297)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0x7c2+-0xe*0x1df+0x1270]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0x9b*-0x2+0x226a+-0x23a0]['indexed']=!(-0xe6*0x11+-0x1*0x2f5+0x123c)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x1*0x27a+-0x21*-0x121+-0x22c7,this['_geometryD'+'ata']['indexCount']=0x609*-0x2+-0x173*0xe+-0x6d*-0x4c,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x1*-0x1f0b+0xdf7+-0x29*0x119),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0xb87+-0x752+-0x21a*0x2),this['_geometryD'+'ata']['recreate']=!(-0x11ea+0x21*-0xcd+-0x2*-0x162c),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x337f5e){const _0x4084ed=[];for(const _0x11459d in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x3d559a=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x11459d];_0x4084ed['push']({'semantic':_0x11459d,'components':_0x3d559a['componentC'+'ount'],'type':_0x3d559a['dataType'],'normalize':_0x3d559a['dataTypeNo'+'rmalize'],'asInt':_0x3d559a['asInt']});}return new Et(this['device'],_0x4084ed,_0x337f5e);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x2421dc=this['_geometryD'+'ata']['maxVertice'+'s'],_0x129739=this['_buildVert'+'exFormat'](_0x2421dc);this['vertexBuff'+'er']=new os(this['device'],_0x129739,_0x2421dc,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x185a95=new go(this['vertexBuff'+'er']),_0x101428=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x31a251 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x48ee9c=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x31a251];_0x185a95['writeData'](_0x31a251,_0x48ee9c['data'],_0x101428),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x31a251];}_0x185a95['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x10*-0xfc+0x6*0x294+0x4*-0x7ce||!this['indexBuffe'+'r'][-0x1*0x1cc1+0x2191+-0x2*0x268]){const _0x427bf1=this['_geometryD'+'ata']['maxVertice'+'s'],_0x4a667f=_0x427bf1>0x10233+0x14a0c+-0x14c40||_0x427bf1===-0x988*0x1+-0x1*0x91f+0x12a7?nr:Pi,_0x52efe4=this['_storageIn'+'dex']?{'storage':!(0x11*0x21f+-0x1295*0x1+-0x117a)}:void(-0x4d*-0x3b+0x1ae5+0x1*-0x2ca4);this['indexBuffe'+'r'][0x1439+-0x1*-0x2427+-0x3860]=new lr(this['device'],_0x4a667f,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x6aa+0x189d+-0x5*0x397),_0x52efe4);}const _0xd736c=this['_geometryD'+'ata']['indices'];_0xd736c&&(this['indexBuffe'+'r'][-0x1e4d+0x38c+0x1ac1]['writeData'](_0xd736c,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x23ff34){_0x23ff34===Dr?this['generateWi'+'reframe']():_0x23ff34===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x16c6+0x1ba4+0xb2*-0x7,'indexed':!(0x2c*-0x3b+-0x151c*0x1+-0x3*-0xa6b)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x24ccc1=this['vertexBuff'+'er']['numVertice'+'s'],_0x53f9b0=[];let _0x3b9074;if(this['indexBuffe'+'r']['length']>-0x2*0x139+-0x9f7+-0xc69*-0x1&&this['indexBuffe'+'r'][0x1add+-0x1*-0x1781+-0x266*0x15]){const _0x18a36a=[[-0x1c5b+0x99*0x17+0x2ec*0x5,-0x1d9*0xa+0x245a+-0x11df*0x1],[0x1eff+-0x1c77*-0x1+-0x3b75*0x1,-0x17*-0xb3+0x1842+-0x2855],[0x2e0*-0x1+0x1180+-0xe9e,-0x887*0x1+0x1129+-0x41*0x22]],_0x57c196=this['primitive'][yo]['base'],_0x46575d=this['primitive'][yo]['count'],_0x179f1d=this['indexBuffe'+'r'][yo],_0x501524=new Lh[_0x179f1d['format']](_0x179f1d['storage']),_0x5c6a80=new Set();for(let _0xc88162=_0x57c196;_0xc88162<_0x57c196+_0x46575d;_0xc88162+=0x3d3*-0x7+-0x2bb*-0xa+-0x86)for(let _0x40178b=-0x1af*-0x3+0x7*0x1a5+0x35*-0x50;_0x40178b<-0x2325+0x1c3a+0x2*0x377;_0x40178b++){const _0x51a6b0=_0x501524[_0xc88162+_0x18a36a[_0x40178b][-0x593+0xc2*-0x11+0x15*0xe1]],_0x4d57f9=_0x501524[_0xc88162+_0x18a36a[_0x40178b][-0x771+-0x4fc+0xc6e]],_0x537acf=_0x51a6b0>_0x4d57f9?_0x4d57f9*_0x24ccc1+_0x51a6b0:_0x51a6b0*_0x24ccc1+_0x4d57f9;_0x5c6a80['has'](_0x537acf)||(_0x5c6a80['add'](_0x537acf),_0x53f9b0['push'](_0x51a6b0,_0x4d57f9));}_0x3b9074=_0x179f1d['format'];}else{for(let _0x422e2f=0xc5*0xd+-0x12*-0x196+-0x1*0x268d;_0x422e2f<_0x24ccc1;_0x422e2f+=-0x838*0x4+0x199*-0x11+-0x2dc*-0x15)_0x53f9b0['push'](_0x422e2f,_0x422e2f+(0x23cd+0x1e35*-0x1+-0x3*0x1dd),_0x422e2f+(0x25cd*-0x1+-0x1af*-0x3+0xc3*0x2b),_0x422e2f+(-0x1549+-0x1df*-0x3+-0xfae*-0x1),_0x422e2f+(-0x1872+0x3*-0x9f5+0x3653),_0x422e2f);_0x3b9074=_0x53f9b0['length']>0x19097+-0x8*-0x20e9+-0x197e0?nr:Pi;}const _0x141f7e=new lr(this['vertexBuff'+'er']['device'],_0x3b9074,_0x53f9b0['length']);new Lh[_0x141f7e['format']](_0x141f7e['storage'])['set'](_0x53f9b0),_0x141f7e['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0x53f9b0['length'],'indexed':!(0xcb2+-0xdb7+0x105*0x1)},this['indexBuffe'+'r'][Dr]=_0x141f7e;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),$m=new T(),Wm=new T(),eC=new q(),tC=new se(),Bt=new T(),Ha=new q(),Nt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0x2212d3,_0x306ae6){return _0x2212d3 instanceof Function?_0x2212d3:_0x31a0f0=>{let _0x4b7da9=_0x31a0f0[_0x2212d3];return _0x4b7da9 instanceof Function&&(_0x4b7da9=_0x4b7da9()),_0x4b7da9===_0x306ae6;};}function w0(_0x173be3,_0x3200a7){if(_0x3200a7(_0x173be3))return _0x173be3;const _0x5b75e0=_0x173be3['_children'],_0x4538a3=_0x5b75e0['length'];for(let _0x1c6910=-0x13ed*0x1+-0xbf*0x11+0x2*0x104e;_0x1c6910<_0x4538a3;++_0x1c6910){const _0x464d9e=w0(_0x5b75e0[_0x1c6910],_0x3200a7);if(_0x464d9e)return _0x464d9e;}return null;}class De extends ce{constructor(_0x213233='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(0x25ef+0x23da+-0x49c8,0x19*-0xa9+0x23b*0x10+-0x132e,0x4*-0x9a4+-0x2*0xf73+0x4577)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(0x1*-0x2386+-0x22e6+-0x1*-0x466d)),c(this,'_aabbVer',-0x2*-0x934+0x9a9*0x3+-0x2f63*0x1),c(this,'_frozen',!(-0x11*-0x152+0x17fb+-0x2e6c)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(0x2*0x76d+-0x1da1*-0x1+-0x2c7a)),c(this,'_worldScal'+'eSign',-0x7*0x571+-0x16b*-0x14+-0x2f*-0x35),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(-0xc1e+0xf7a+-0x35c)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',-0x344+-0x21ea+0x1*0x252e),c(this,'_enabled',!(-0xd0b+-0x43*-0x83+-0x1*0x153e)),c(this,'_enabledIn'+'Hierarchy',!(0x22b6+0x1c*0xc1+-0x37d1)),c(this,'scaleCompe'+'nsation',!(-0x4*-0x6f3+-0xd74+-0xe57)),this['name']=_0x213233;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x46*0x81+-0x13*0x63+-0x1f*-0x160));}get['normalMatr'+'ix'](){const _0x349365=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x349365['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0x20e0+0x4c6*0x7+-0x89)),_0x349365;}set['enabled'](_0xf02644){var _0x136d42;this['_enabled']!==_0xf02644&&(this['_enabled']=_0xf02644,(_0xf02644&&((_0x136d42=this['_parent'])!=null&&_0x136d42['enabled'])||!_0xf02644)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0xf02644));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x209bae=this['_parent'];if(!_0x209bae)return'';let _0x218089=this['name'];for(;_0x209bae&&_0x209bae['_parent'];)_0x218089=_0x209bae['name']+'/'+_0x218089,_0x209bae=_0x209bae['_parent'];return _0x218089;}get['root'](){let _0xeb5a4d=this;for(;_0xeb5a4d['_parent'];)_0xeb5a4d=_0xeb5a4d['_parent'];return _0xeb5a4d;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0xd3ce2c,_0x5593f6){_0xd3ce2c['_onHierarc'+'hyStateCha'+'nged'](_0x5593f6);const _0x12cccb=_0xd3ce2c['_children'];for(let _0x139fd3=-0x191a*0x1+-0x1df*-0x8+0xa22,_0x2e1afa=_0x12cccb['length'];_0x139fd3<_0x2e1afa;_0x139fd3++)_0x12cccb[_0x139fd3]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x12cccb[_0x139fd3],_0x5593f6);}['_onHierarc'+'hyStateCha'+'nged'](_0x2b6d8f){this['_enabledIn'+'Hierarchy']=_0x2b6d8f,_0x2b6d8f&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x11a5f6){_0x11a5f6['name']=this['name'];const _0x8d7160=this['tags']['_list'];_0x11a5f6['tags']['clear']();for(let _0x328c7d=0x404+0x181d+-0x1c21;_0x328c7d<_0x8d7160['length'];_0x328c7d++)_0x11a5f6['tags']['add'](_0x8d7160[_0x328c7d]);_0x11a5f6['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x11a5f6['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x11a5f6['localScale']['copy'](this['localScale']),_0x11a5f6['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x11a5f6['position']['copy'](this['position']),_0x11a5f6['rotation']['copy'](this['rotation']),_0x11a5f6['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x11a5f6['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x11a5f6['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x11a5f6['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x11a5f6['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x11a5f6['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x11a5f6['_aabbVer']=this['_aabbVer']+(0xe*-0x1ae+0xeae+-0x1f*-0x49),_0x11a5f6['_enabled']=this['_enabled'],_0x11a5f6['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x11a5f6['_enabledIn'+'Hierarchy']=!(-0x1a80+0x20dd+0x16*-0x4a);}['clone'](){const _0x10e9ca=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x10e9ca),_0x10e9ca;}['copy'](_0x4781cf){return _0x4781cf['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x1e9136=this['_children'];for(;_0x1e9136['length'];){const _0x29e3ef=_0x1e9136['pop']();_0x29e3ef['_parent']=null,_0x29e3ef['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x5af49b,_0x51dac8){const _0x5a9d1a=[],_0x582005=Xm(_0x5af49b,_0x51dac8);return this['forEach'](_0x5a8b7a=>{_0x582005(_0x5a8b7a)&&_0x5a9d1a['push'](_0x5a8b7a);}),_0x5a9d1a;}['findOne'](_0x102ab4,_0x7f9222){const _0x5b2afe=Xm(_0x102ab4,_0x7f9222);return w0(this,_0x5b2afe);}['findByTag'](){const _0x57b369=arguments,_0x5ef4b9=[],_0x2bb79e=(_0x31e11e,_0x1b3329)=>{_0x1b3329&&_0x31e11e['tags']['has'](..._0x57b369)&&_0x5ef4b9['push'](_0x31e11e);for(let _0x3c9629=0xfec+-0x1*0x45d+-0x10d*0xb;_0x3c9629<_0x31e11e['_children']['length'];_0x3c9629++)_0x2bb79e(_0x31e11e['_children'][_0x3c9629],!(-0x1*0x1949+-0xeb6+0x27ff));};return _0x2bb79e(this,!(-0x2*0x18b+-0x878+0xb8f)),_0x5ef4b9;}['findByName'](_0x31830a){return this['findOne']('name',_0x31830a);}['findByPath'](_0x5286cd){const _0x975ed9=Array['isArray'](_0x5286cd)?_0x5286cd:_0x5286cd['split']('/');let _0x3042a5=this;for(let _0x26fd17=-0x9da+-0x37*-0x43+-0x48b*0x1,_0x3f9ed4=_0x975ed9['length'];_0x26fd17<_0x3f9ed4;++_0x26fd17)if(_0x3042a5=_0x3042a5['children']['find'](_0x1cff0a=>_0x1cff0a['name']===_0x975ed9[_0x26fd17]),!_0x3042a5)return null;return _0x3042a5;}['forEach'](_0x2e18fe,_0x4833cf){_0x2e18fe['call'](_0x4833cf,this);const _0x173e5a=this['_children'],_0x25d878=_0x173e5a['length'];for(let _0x15d793=0x1a5*-0xb+-0x619*0x5+0x3094;_0x15d793<_0x25d878;++_0x15d793)_0x173e5a[_0x15d793]['forEach'](_0x2e18fe,_0x4833cf);}['isDescenda'+'ntOf'](_0x22225b){let _0x465cfc=this['_parent'];for(;_0x465cfc;){if(_0x465cfc===_0x22225b)return!(-0x26f6*-0x1+-0x16*-0x1af+0x80*-0x98);_0x465cfc=_0x465cfc['_parent'];}return!(0x1f11+0x1*0x134d+0x325d*-0x1);}['isAncestor'+'Of'](_0xf899e8){return _0xf899e8['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x468+0x193e+-0x1da5)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x1*-0xdf1+0x2360+-0x3151&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x5c9361;(_0x5c9361=this['_parent'])==null||_0x5c9361['removeChil'+'d'](this);}['reparent'](_0x436ec5,_0x3da2d0){this['remove'](),_0x436ec5&&(_0x3da2d0>=0x252d+-0x55b*0x4+-0x6d*0x25?_0x436ec5['insertChil'+'d'](this,_0x3da2d0):_0x436ec5['addChild'](this));}['setLocalEu'+'lerAngles'](_0xbd52a2,_0x566002,_0x1d7394){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0xbd52a2,_0x566002,_0x1d7394),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x47c5df,_0x554097,_0x5ecf95){_0x47c5df instanceof T?this['localPosit'+'ion']['copy'](_0x47c5df):this['localPosit'+'ion']['set'](_0x47c5df,_0x554097,_0x5ecf95),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x1df3dd,_0x3eaec4,_0x25d4b1,_0x2e9f60){_0x1df3dd instanceof se?this['localRotat'+'ion']['copy'](_0x1df3dd):this['localRotat'+'ion']['set'](_0x1df3dd,_0x3eaec4,_0x25d4b1,_0x2e9f60),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x29598e,_0x4918f2,_0xc26e37){_0x29598e instanceof T?this['localScale']['copy'](_0x29598e):this['localScale']['set'](_0x29598e,_0x4918f2,_0xc26e37),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x160*-0xb+-0x6*0x2f1+-0x22*-0x13),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x7cbb49=this['_parent'];for(;_0x7cbb49;)_0x7cbb49['_frozen']=!(-0xdf3+0x1*-0xe45+0x1c39),_0x7cbb49=_0x7cbb49['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x1*0x6aa+-0x8*-0x304+-0x1175),this['_dirtyWorl'+'d']=!(-0x1d2b*-0x1+-0x6af+0x167c*-0x1);for(let _0x4c04b9=-0x17bf+0x1116+0x5*0x155;_0x4c04b9<this['_children']['length'];_0x4c04b9++)this['_children'][_0x4c04b9]['_dirtyWorl'+'d']||this['_children'][_0x4c04b9]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x5f0+-0x61*-0x1a+-0xfca),this['_worldScal'+'eSign']=-0xf1a+-0x1b7*0xe+0x2*0x138e,this['_aabbVer']++;}['setPositio'+'n'](_0x2eee12,_0x5231fc,_0x3f4b68){_0x2eee12 instanceof T?Bt['copy'](_0x2eee12):Bt['set'](_0x2eee12,_0x5231fc,_0x3f4b68),this['_parent']===null?this['localPosit'+'ion']['copy'](Bt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](Bt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x54d042,_0x2d6454,_0x38fb9e,_0x11ce82){if(_0x54d042 instanceof se?Nt['copy'](_0x54d042):Nt['set'](_0x54d042,_0x2d6454,_0x38fb9e,_0x11ce82),this['_parent']===null)this['localRotat'+'ion']['copy'](Nt);else{const _0x3ba919=this['_parent']['getRotatio'+'n']();An['copy'](_0x3ba919)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Nt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x4f2103,_0x1f8193){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x4f2103),this['localRotat'+'ion']['copy'](_0x1f8193);else{const _0x3a4874=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x3a4874)['invert'](),Ha['transformP'+'oint'](_0x4f2103,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x1f8193);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x4457e3,_0x2f8b9a,_0x22ad24){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x4457e3,_0x2f8b9a,_0x22ad24),this['_parent']!==null){const _0x13d3be=this['_parent']['getRotatio'+'n']();An['copy'](_0x13d3be)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x17648f){this['_prepareIn'+'sertChild'](_0x17648f),this['_children']['push'](_0x17648f),this['_onInsertC'+'hild'](_0x17648f);}['addChildAn'+'dSaveTrans'+'form'](_0x5535c0){const _0x5de92e=_0x5535c0['getPositio'+'n'](),_0x59221c=_0x5535c0['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x5535c0),_0x5535c0['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x5de92e)),_0x5535c0['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x59221c)),this['_children']['push'](_0x5535c0),this['_onInsertC'+'hild'](_0x5535c0);}['insertChil'+'d'](_0x2e6598,_0x10a753){this['_prepareIn'+'sertChild'](_0x2e6598),this['_children']['splice'](_0x10a753,0x1a7*-0xd+0x7*-0x6e+0x187d,_0x2e6598),this['_onInsertC'+'hild'](_0x2e6598);}['_prepareIn'+'sertChild'](_0x2122fd){_0x2122fd['remove'](),v['assert'](_0x2122fd!==this,'GraphNode\x20'+(_0x2122fd==null?void(-0x1*0xabb+0xf65+-0x4aa):_0x2122fd['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x2122fd),'GraphNode\x20'+(_0x2122fd==null?void(0x2343+0x24b7+0xa6*-0x6f):_0x2122fd['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x4828a1,_0x1e213e,_0x56c911){this['fire'](_0x4828a1,_0x56c911);for(let _0x1b7efc=0xc1+0x23c6+-0xc2d*0x3;_0x1b7efc<this['_children']['length'];_0x1b7efc++)this['_children'][_0x1b7efc]['_fireOnHie'+'rarchy'](_0x1e213e,_0x1e213e,_0x56c911);}['_onInsertC'+'hild'](_0x4488ae){_0x4488ae['_parent']=this;const _0x45c8a5=_0x4488ae['_enabled']&&this['enabled'];_0x4488ae['_enabledIn'+'Hierarchy']!==_0x45c8a5&&(_0x4488ae['_enabledIn'+'Hierarchy']=_0x45c8a5,_0x4488ae['_notifyHie'+'rarchyStat'+'eChanged'](_0x4488ae,_0x45c8a5)),_0x4488ae['_updateGra'+'phDepth'](),_0x4488ae['_dirtifyWo'+'rld'](),this['_frozen']&&_0x4488ae['_unfreezeP'+'arentToRoo'+'t'](),_0x4488ae['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x4488ae);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(-0x1*0x1381+-0x583*0x5+0x2f11):0x111*-0xf+0x1*0x176e+-0x1*0x76f;for(let _0x17f997=0xfa*0x19+0x899+-0x2103,_0x1e9fcb=this['_children']['length'];_0x17f997<_0x1e9fcb;_0x17f997++)this['_children'][_0x17f997]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x1c601b){const _0x1eb003=this['_children']['indexOf'](_0x1c601b);_0x1eb003!==-(0xb94+0x100e+-0x1ba1)&&(this['_children']['splice'](_0x1eb003,0x53a+0x2241+-0x277a),_0x1c601b['_parent']=null,_0x1c601b['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x1c601b));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x1459+-0x12*0x124+0x28e2*0x1)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x4da1d3;const _0x361a9a=this['_parent'];let _0x1770da=this['localScale'],_0x587d29=_0x361a9a;if(_0x587d29){for(;_0x587d29&&_0x587d29['scaleCompe'+'nsation'];)_0x587d29=_0x587d29['_parent'];_0x587d29&&(_0x587d29=_0x587d29['_parent'],_0x587d29&&(_0x4da1d3=_0x587d29['worldTrans'+'form']['getScale'](),$m['mul2'](_0x4da1d3,this['localScale']),_0x1770da=$m));}_d['setFromMat'+'4'](_0x361a9a['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x2b6e2e=_0x361a9a['worldTrans'+'form'];_0x361a9a['scaleCompe'+'nsation']&&(Wm['mul2'](_0x4da1d3,_0x361a9a['getLocalSc'+'ale']()),Gm['setTRS'](_0x361a9a['worldTrans'+'form']['getTransla'+'tion'](md),_d,Wm),_0x2b6e2e=Gm),_0x2b6e2e['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x1770da);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x239*0x3+0xf71*-0x2+0x1*0x258e);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x4*-0x18b+0xe3*-0x21+-0x1717*-0x1),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x36299f=this['_children'];for(let _0x3535ad=-0xb*-0x245+0x1291+0x7*-0x638,_0x2a7c55=_0x36299f['length'];_0x3535ad<_0x2a7c55;_0x3535ad++)_0x36299f[_0x3535ad]['syncHierar'+'chy']();}['lookAt'](_0x105235,_0x23b918,_0x5885e8,_0x469d08=0x2*-0x3b2+0x12fe+-0xb9a,_0x56dbae=-0x3d0+-0x1*-0x1bbf+-0x3*0x7fa,_0x149559=-0x1*0x14d2+0x31*0x35+0x38f*0x3){if(_0x105235 instanceof T)gd['copy'](_0x105235),_0x23b918 instanceof T?El['copy'](_0x23b918):El['copy'](T['UP']);else{if(_0x5885e8===void(0x1*-0x1871+0xf86+0x8eb))return;gd['set'](_0x105235,_0x23b918,_0x5885e8),El['set'](_0x469d08,_0x56dbae,_0x149559);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Nt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Nt);}['translate'](_0x3e2a00,_0x7eefab,_0x247211){_0x3e2a00 instanceof T?Bt['copy'](_0x3e2a00):Bt['set'](_0x3e2a00,_0x7eefab,_0x247211),Bt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](Bt);}['translateL'+'ocal'](_0x20997f,_0x212f51,_0x5ce87c){_0x20997f instanceof T?Bt['copy'](_0x20997f):Bt['set'](_0x20997f,_0x212f51,_0x5ce87c),this['localRotat'+'ion']['transformV'+'ector'](Bt,Bt),this['localPosit'+'ion']['add'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x213b43,_0x1fec8f,_0x1f0496){if(Nt['setFromEul'+'erAngles'](_0x213b43,_0x1fec8f,_0x1f0496),this['_parent']===null)this['localRotat'+'ion']['mul2'](Nt,this['localRotat'+'ion']);else{const _0x274b1b=this['getRotatio'+'n'](),_0x3dafb5=this['_parent']['getRotatio'+'n']();An['copy'](_0x3dafb5)['invert'](),Nt['mul2'](An,Nt),this['localRotat'+'ion']['mul2'](Nt,_0x274b1b);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x36207b,_0x5dc607,_0x260b27){Nt['setFromEul'+'erAngles'](_0x36207b,_0x5dc607,_0x260b27),this['localRotat'+'ion']['mul'](Nt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new kt();function al(_0x4e2225){const _0x32a0b1=T0['get'](_0x4e2225);return v['assert'](_0x32a0b1),_0x32a0b1;}function sC(_0x332a9a,_0x5514d8){v['assert'](_0x5514d8),T0['get'](_0x332a9a,()=>_0x5514d8);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x51a046,_0x463a92)=>{_0x463a92['destroy']();}),this['cache']['clear']();}['incRef'](_0x23dfa2){const _0x5abb01=(this['cache']['get'](_0x23dfa2)||-0x37d*-0x4+-0x26cd+0x18d9)+(0x114d*-0x2+0x1*-0xcef+0x2f8a);this['cache']['set'](_0x23dfa2,_0x5abb01);}['decRef'](_0x3808f5){if(_0x3808f5){let _0x53788c=this['cache']['get'](_0x3808f5);_0x53788c&&(_0x53788c--,_0x53788c===0x1929+-0x35d*-0x7+-0x4*0xc2d?(this['cache']['delete'](_0x3808f5),_0x3808f5['destroy']()):this['cache']['set'](_0x3808f5,_0x53788c));}}}class Si{static['incRef'](_0x305083){this['cache']['incRef'](_0x305083);}static['decRef'](_0x4cce21){this['cache']['decRef'](_0x4cce21);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=0x1a36+-0x2*-0x160+-0x1cf6;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(0x6b*-0x6+0xae0+0x85a*-0x1);class aC{constructor(_0x12435d){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(0x1dff+-0x1*-0x23b6+-0x4*0x106d)),this['count']=_0x12435d;}['destroy'](){var _0x4426b8;this['_destroyVe'+'rtexBuffer']&&((_0x4426b8=this['vertexBuff'+'er'])==null||_0x4426b8['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x38a76f){if(!this['bindGroup']){const _0x46c63a=this['shader'];v['assert'](_0x46c63a);const _0x9561f1=_0x46c63a['meshBindGr'+'oupFormat'];v['assert'](_0x9561f1),this['bindGroup']=new mp(_0x38a76f,_0x9561f1),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x3de2f5){if(!this['uniformBuf'+'fer']){const _0x4f1eb8=this['shader'];v['assert'](_0x4f1eb8);const _0x98e565=_0x4f1eb8['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0x98e565),this['uniformBuf'+'fer']=new gp(_0x3de2f5,_0x98e565,!(0x19*-0xd+0xc65*-0x2+-0x3*-0x8b0));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x268b7e,_0x4ed371;(_0x268b7e=this['bindGroup'])==null||_0x268b7e['destroy'](),this['bindGroup']=null,(_0x4ed371=this['uniformBuf'+'fer'])==null||_0x4ed371['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x395f08,_0x1f5453,_0x57c61d=null){c(this,'castShadow',!(-0x19b1+-0x275+0x1c27)),c(this,'cull',!(0xc5b*-0x3+-0x6a8+0x2bb9)),c(this,'drawOrder',0x12d*0xb+0x7ce+-0x14bd),c(this,'node'),c(this,'visible',!(-0x19c2+-0x1*-0x4b5+0x1*0x150d)),c(this,'visibleThi'+'sFrame',!(-0x5c0+-0x8d*-0x1+0x534)),c(this,'flipFacesF'+'actor',0x1*-0x10+0xeaf+-0xe9e),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(-0x1242+-0x1*-0xe3+-0x115f*-0x1)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(0x2429+-0x2276+-0x1b2)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(0x1*-0x1a9e+0x1e38+0x3*-0x133)),c(this,'_aabbMeshV'+'er',-(0x2383+-0x734*-0x2+-0x1*0x31ea)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(0x117c*-0x2+0xa7f+0x1879)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[-0xc*0x287+0x1620+0x1e*0x46,0x2*-0x611+-0x211+-0x2d7*-0x5]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(0x1e25+-0x1afd+-0x328)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(0x2526+0x319*-0x4+0x1*-0x18c1)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<0xfb*-0x4+0x21c9+-0x1dcd),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x395f08 instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x57c61d,this['_mesh']=_0x395f08,_0x395f08['incRefCoun'+'t'](),this['material']=_0x1f5453,_0x395f08['vertexBuff'+'er']){const _0x424985=_0x395f08['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x424985['hasUv0']?m0:-0x3*-0x9e9+-0xac*-0x35+-0x1*0x4157,this['_shaderDef'+'s']|=_0x424985['hasUv1']?_0:-0x2a7*0x1+-0x17c4+0x1a6b,this['_shaderDef'+'s']|=_0x424985['hasColor']?g0:0x2*0x365+-0x1fb6+-0x37*-0x74,this['_shaderDef'+'s']|=_0x424985['hasTangent'+'s']?Mp:-0x17b*-0x16+-0xc4b*0x1+-0x1447;}this['updateKey']();}set['renderStyl'+'e'](_0x5c06d6){this['_renderSty'+'le']=_0x5c06d6,this['mesh']['prepareRen'+'derState'](_0x5c06d6);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x12765d){_0x12765d!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x12765d,_0x12765d&&_0x12765d['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0xbd7e32){this['_aabb']=_0xbd7e32;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x3e5924=this['_customAab'+'b'],_0x202f24=!!_0x3e5924;if(!_0x3e5924){if(_0x3e5924=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x157d84=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x157d84);}const _0x5d8f61=this['mesh']['boneUsed'];let _0x339abe=!(0x23aa+-0x25b5+0x1*0x20b);for(let _0x4e2e24=0x1*-0x4d5+0x2134+-0x1c5f;_0x4e2e24<this['mesh']['boneAabb']['length'];_0x4e2e24++)_0x5d8f61[_0x4e2e24]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x4e2e24],this['skinInstan'+'ce']['matrices'][_0x4e2e24]),_0x339abe?(_0x339abe=!(0x25ab*0x1+-0x1513+0x89*-0x1f),_0x3e5924['center']['copy'](Cl['center']),_0x3e5924['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x3e5924['add'](Cl));_0x202f24=!(0xa70+0x1*0x1ee9+-0x2959);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x3e5924['center']['copy'](this['mesh']['aabb']['center']),_0x3e5924['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x3e5924['center']['set'](0x1d22+0x21bc+-0x3ede,-0x16aa+-0xbb9+0x2263,-0x19dc+0x1*-0x1d55+0x3731),_0x3e5924['halfExtent'+'s']['set'](-0x9*-0x151+-0x8c6*0x1+-0x1*0x313,0xcf1*0x3+0x109*0x11+-0x386c,0x1*0x161b+0x1327+0x2*-0x14a1)),this['mesh']&&this['mesh']['morph']){const _0x4b7d8c=this['mesh']['morph']['aabb'];_0x3e5924['_expand'](_0x4b7d8c['getMin'](),_0x4b7d8c['getMax']());}_0x202f24=!(0x1*-0x129b+0xa2f+0x21b*0x4),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x202f24&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x3e5924,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x26a54e=>{_0x26a54e['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0xdb4c24,_0x16ee8c,_0x232eec,_0x5af3aa,_0x5bb82d,_0x2e1dfc,_0x3869e0){var _0x1a28b1;const _0x5f113c=this['_shaderDef'+'s'];yr[0x21e1+0x629+-0x280a]=_0xdb4c24,yr[0x118e+-0x1d31+0xba4]=_0x16ee8c,yr[-0x1990+-0x57*0x1f+0xc09*0x3]=_0x5f113c,yr[-0xbde+0x4da*-0x3+0x1a6f]=_0x5af3aa['hash'];const _0x4ce451=Zy(yr);let _0x2072f1=this['_shaderCac'+'he']['get'](_0x4ce451);if(!_0x2072f1){const _0x2bfbbf=this['_material'];if(_0x2072f1=new oC(),_0x2072f1['shader']=_0x2bfbbf['variants']['get'](_0x4ce451),_0x2072f1['hashes']=new Uint32Array(yr),!_0x2072f1['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x20af1d=_0x2bfbbf['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x232eec,'objDefs':_0x5f113c,'cameraShaderParams':_0x5af3aa,'pass':_0xdb4c24,'sortedLights':_0x3869e0,'viewUniformFormat':_0x5bb82d,'viewBindGroupFormat':_0x2e1dfc,'vertexFormat':(_0x1a28b1=this['mesh']['vertexBuff'+'er'])==null?void(-0x2a9+-0x7d6*-0x4+-0x1caf):_0x1a28b1['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x2bfbbf['variants']['set'](_0x4ce451,_0x20af1d),_0x2072f1['shader']=_0x20af1d;}this['_shaderCac'+'he']['set'](_0x4ce451,_0x2072f1);}return v['call'](()=>{$v['equals'](_0x2072f1['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x2072f1;}set['material'](_0x190ca8){this['clearShade'+'rs']();const _0x328481=this['_material'];_0x328481&&_0x328481['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x190ca8,_0x190ca8&&(_0x190ca8['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x190ca8['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x38bf6a){this['_layer']=_0x38bf6a,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x517bea){_0x517bea!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x517bea,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x398896){this['_calculate'+'SortDistan'+'ce']=_0x398896;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x38a14c){this['_receiveSh'+'adow']!==_0x38a14c&&(this['_receiveSh'+'adow']=_0x38a14c,this['_updateSha'+'derDefs'](_0x38a14c?this['_shaderDef'+'s']&-(-0x1*0x264b+-0x165a+0x3ca7):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x4ad3e7){this['_updateSha'+'derDefs'](_0x4ad3e7?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(0x3794+-0x4936+0x51a3));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==0x3f1*0x9+-0x655*-0x2+-0x3023;}set['skinInstan'+'ce'](_0x461ab3){this['_skinInsta'+'nce']=_0x461ab3,this['_updateSha'+'derDefs'](_0x461ab3?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(0x509+-0x22*-0x107+-0x4*0x9fd)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x52df91){var _0x4d7bfd;(_0x4d7bfd=this['_morphInst'+'ance'])==null||_0x4d7bfd['destroy'](),this['_morphInst'+'ance']=_0x52df91;let _0x15a316=this['_shaderDef'+'s'];_0x15a316=_0x52df91&&_0x52df91['morph']['morphPosit'+'ions']?_0x15a316|qc:_0x15a316&-(0x425*-0x2+0x9a9*0x2+-0x707),_0x15a316=_0x52df91&&_0x52df91['morph']['morphNorma'+'ls']?_0x15a316|Xc:_0x15a316&-(-0x1323+0x166e+0x192*0x3),_0x15a316=_0x52df91&&_0x52df91['morph']['intRenderF'+'ormat']?_0x15a316|jc:_0x15a316&-(-0x42*-0x62+-0x2acd*0x1+0x318a),this['_updateSha'+'derDefs'](_0x15a316);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x485965){this['_screenSpa'+'ce']!==_0x485965&&(this['_screenSpa'+'ce']=_0x485965,this['_updateSha'+'derDefs'](_0x485965?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(0x2521+0x1*-0x3f8+-0xc*0x2ae)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x5320a6){this['_key'][Ei]=_0x5320a6;}get['key'](){return this['_key'][Ei];}set['mask'](_0x3f145e){const _0x4a8b1c=this['_shaderDef'+'s']&0x151d+0x8dcc*0x1+0x1*0x5d16;this['_updateSha'+'derDefs'](_0x4a8b1c|_0x3f145e<<-0x3d4*0x7+-0x116f+0x2c4b);}get['mask'](){return this['_shaderDef'+'s']>>-0x1001+-0xe02*-0x1+-0x20f*-0x1;}set['instancing'+'Count'](_0x35cdc3){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x35cdc3);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0x5b4+-0x47*-0x5+-0x717;}['destroy'](){var _0x4290b2,_0x52ea50,_0x31275c;const _0x4c64d0=this['mesh'];_0x4c64d0&&(this['mesh']=null,_0x4c64d0['refCount']<-0xba7+0x3fc+-0x1*-0x7ac&&_0x4c64d0['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0xd6*-0x18+-0x1*-0x14d0+-0x28e0],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x23f3+0x15d9+-0x39cb],null),(_0x4290b2=this['_skinInsta'+'nce'])==null||_0x4290b2['destroy'](),this['_skinInsta'+'nce']=null,(_0x52ea50=this['morphInsta'+'nce'])==null||_0x52ea50['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x31275c=this['instancing'+'Data'])==null||_0x31275c['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x50b1b3,_0xc5fe24){if(_0x50b1b3){for(let _0x173cca=-0x3*-0x365+0x1c40+-0x266f;_0x173cca<_0x50b1b3['length'];_0x173cca++){_0x50b1b3[_0x173cca]['_renderSty'+'le']=_0xc5fe24;const _0x3dc1a2=_0x50b1b3[_0x173cca]['mesh'];xd['has'](_0x3dc1a2)||(xd['add'](_0x3dc1a2),_0x3dc1a2['prepareRen'+'derState'](_0xc5fe24));}xd['clear']();}}['_isVisible'](_0x372072){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x372072):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x372072['frustum']['containsSp'+'here'](yd)>0xef5+-0xdb*0xc+-0x4b1):!(-0xe72+-0x1e9*-0x4+0x6cf);}['updateKey'](){const _0x41b25f=this['material'],_0x464fda=_0x41b25f['alphaToCov'+'erage']||_0x41b25f['alphaTest']?Kt:_0x41b25f['blendType'];this['_key'][Ei]=(this['layer']&0x863+-0x1*0x195b+0x1107)<<-0x239b+-0xbb1+0x2f67|(_0x464fda===is?0x756*-0x5+-0xfd1*-0x1+0x14de:-0x2497+-0x1d7*-0x7+0x17b6)<<0x155a+-0x1*0x1bc4+0x2*0x342|(_0x41b25f['id']&-0x13f54*0x43+0x72ec4a+0x1e0a6b1*0x1)<<0x12b*-0x20+0x2291+0x1*0x2cf;}['setInstanc'+'ing'](_0x4350bd,_0x218cad=!(0x1397+0x105f+0x1*-0x23f5)){_0x4350bd?(this['instancing'+'Data']=new aC(_0x4350bd['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x4350bd,_0x4350bd['format']['instancing']=!(-0xf97+-0x255b+0x2*0x1a79),this['cull']=_0x218cad):(this['instancing'+'Data']=null,this['cull']=!(-0x1df4+-0x2d4+0x2*0x1064)),this['_updateSha'+'derDefs'](_0x4350bd?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(-0x1e75+0x414+0x1a82));}['ensureMate'+'rial'](_0x164892){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x164892));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x2e3cb8){return this['parameters'][_0x2e3cb8];}['setParamet'+'er'](_0x4e428f,_0x4030f,_0x8619ec=-0xcd26b707+-0x130f193b3+-0x132b*-0x27f7ab){const _0x573228=this['parameters'][_0x4e428f];_0x573228?(_0x573228['data']=_0x4030f,_0x573228['passFlags']=_0x8619ec):this['parameters'][_0x4e428f]={'scopeId':null,'data':_0x4030f,'passFlags':_0x8619ec};}['setRealtim'+'eLightmap'](_0x9c8d,_0x3b6b00){const _0x1b25bc=this['getParamet'+'er'](_0x9c8d);_0x1b25bc!==_0x3b6b00&&(_0x1b25bc&&Si['decRef'](_0x1b25bc['data']),_0x3b6b00?(Si['incRef'](_0x3b6b00),this['setParamet'+'er'](_0x9c8d,_0x3b6b00)):this['deletePara'+'meter'](_0x9c8d));}['deletePara'+'meter'](_0x2b3178){this['parameters'][_0x2b3178]&&delete this['parameters'][_0x2b3178];}['setParamet'+'ers'](_0x16db02,_0x514de3){const _0x294246=this['parameters'];for(const _0x4ebb6d in _0x294246){const _0x1147ed=_0x294246[_0x4ebb6d];_0x1147ed['passFlags']&_0x514de3&&(_0x1147ed['scopeId']||(_0x1147ed['scopeId']=_0x16db02['scope']['resolve'](_0x4ebb6d)),_0x1147ed['scopeId']['setValue'](_0x1147ed['data']));}}['setLightma'+'pped'](_0x19a337){_0x19a337?this['mask']=(this['mask']|cr)&-(0x2*-0xcce+-0x2f*-0x5+0x18b7):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x1b5d+0x82*0x5+-0x1de7],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][0x2391+0x13d*-0x16+-0x852],null),this['_shaderDef'+'s']&=-(0x1ed7+-0x24+-0xdf2),this['mask']=(this['mask']|hs)&-(-0x263+-0x3*-0xa42+0x2*-0xe2e));}['setCustomA'+'abb'](_0x5a1000){_0x5a1000?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x5a1000):this['_customAab'+'b']=_0x5a1000['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x43*0x57+0x1*0xe8f+0x1*0x837)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[0xa*-0x118+-0x1339+-0x44f*-0x7,-0x9*-0x169+0x1395+0x2045*-0x1,0x624+-0x1*0x74c+0x12b,-0x2158+-0x15c1+0x371b*0x1,0xe83*-0x1+-0x40*-0x11+0x20e*0x5,-0xd*0x119+0xc95*0x1+0x1b1],hC=[0x10f+-0x1ec4+0x5f1*0x5,-0x1a34+0x1975*-0x1+0x1*0x33aa,-0x1d*0x133+-0x1d91+0x293*0x19,0x2fc+-0xb0*0x21+-0x2*-0x9da,-0x116f+0x14db+-0x1*0x369,0x1b9f+0x21e4+0x1*-0x3d81],jm=new js();function Ym(_0x26e348,_0x5d3363){if(_0x26e348&&!_0x5d3363||!_0x26e348&&_0x5d3363)return!(0xb*-0xd3+0x2*-0xf4f+0xfe*0x28);if(_0x26e348=_0x26e348['data'],_0x5d3363=_0x5d3363['data'],_0x26e348===_0x5d3363)return!(0xd4*-0x1+0x1bb*0xc+-0x13f0*0x1);if(_0x26e348 instanceof Float32Array&&_0x5d3363 instanceof Float32Array){if(_0x26e348['length']!==_0x5d3363['length'])return!(0x3*0xae5+-0x2a2*0xd+0x1*0x18c);for(let _0x2e25d4=-0x1d06+-0xd84*-0x1+0xf82;_0x2e25d4<_0x26e348['length'];_0x2e25d4++)if(_0x26e348[_0x2e25d4]!==_0x5d3363[_0x2e25d4])return!(-0x1492+0x72*-0x9+0x1895*0x1);return!(-0x1*-0xd8d+-0x8f3*-0x4+0x1*-0x3159);}return!(0x2*0x243+-0x2*0x119b+0x1eb1);}function cC(_0x5261d1,_0x59bab5){for(const _0x572988 in _0x5261d1)if(_0x5261d1['hasOwnProp'+'erty'](_0x572988)&&!Ym(_0x5261d1[_0x572988],_0x59bab5[_0x572988]))return!(-0x31*0xc1+-0x6f1*-0x3+0x101f);for(const _0x41d030 in _0x59bab5)if(_0x59bab5['hasOwnProp'+'erty'](_0x41d030)&&!Ym(_0x59bab5[_0x41d030],_0x5261d1[_0x41d030]))return!(0x1065*-0x1+-0x5e0*0x4+0x13f3*0x2);return!(-0x21f9+0xe1f+0x13da);}function Sd(_0x307c40){return _0x307c40['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x33a07b,_0x3451ec,_0x1a4860){this['device']=_0x33a07b,this['rootNode']=_0x3451ec,this['scene']=_0x1a4860,this['_init']=!(0x1f0f*0x1+-0x353*0x9+0x1*-0x123),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x1*-0xdcd+0xb48+0x285,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x9cb736,_0x32d0c4,_0x10dea5,_0x24b82d,_0x103f87){if(_0x24b82d===void(0x1580+0x342+-0x18c2)&&(_0x24b82d=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x24b82d]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x24b82d+('\x20already\x20e'+'xists.'));return;}const _0x44f931=new et(_0x24b82d,_0x9cb736,_0x32d0c4,_0x10dea5,_0x103f87);return this['_batchGrou'+'ps'][_0x24b82d]=_0x44f931,_0x44f931;}['removeGrou'+'p'](_0x37810a){if(!this['_batchGrou'+'ps'][_0x37810a]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x37810a+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x4cbbd1=[];for(let _0x45981a=-0x2*-0x130d+0x499*-0x1+-0x2181;_0x45981a<this['_batchList']['length'];_0x45981a++)this['_batchList'][_0x45981a]['batchGroup'+'Id']===_0x37810a?this['destroyBat'+'ch'](this['_batchList'][_0x45981a]):_0x4cbbd1['push'](this['_batchList'][_0x45981a]);this['_batchList']=_0x4cbbd1,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x37810a),delete this['_batchGrou'+'ps'][_0x37810a];}['markGroupD'+'irty'](_0x1be45e){this['_dirtyGrou'+'ps']['indexOf'](_0x1be45e)<-0x1679+0x22f2+-0xc79&&this['_dirtyGrou'+'ps']['push'](_0x1be45e);}['getGroupBy'+'Name'](_0x8d4162){const _0x5b2588=this['_batchGrou'+'ps'];for(const _0x4f134f in _0x5b2588)if(_0x5b2588['hasOwnProp'+'erty'](_0x4f134f)&&_0x5b2588[_0x4f134f]['name']===_0x8d4162)return _0x5b2588[_0x4f134f];return null;}['getBatches'](_0x3eb15d){const _0x3e88fc=[],_0x4e1a2b=this['_batchList']['length'];for(let _0x26bdc0=0xb3*-0x19+0x3e*0x67+0x3*-0x27d;_0x26bdc0<_0x4e1a2b;_0x26bdc0++){const _0x392c7f=this['_batchList'][_0x26bdc0];_0x392c7f['batchGroup'+'Id']===_0x3eb15d&&_0x3e88fc['push'](_0x392c7f);}return _0x3e88fc;}['_removeMod'+'elsFromBat'+'chGroup'](_0x23592b,_0x2899fd){if(_0x23592b['enabled']){_0x23592b['model']&&_0x23592b['model']['batchGroup'+'Id']===_0x2899fd&&(_0x23592b['model']['batchGroup'+'Id']=-(0x6c7+-0x6*0x283+0x84c)),_0x23592b['render']&&_0x23592b['render']['batchGroup'+'Id']===_0x2899fd&&(_0x23592b['render']['batchGroup'+'Id']=-(-0x612+0x266*0x8+-0xd1d)),_0x23592b['element']&&_0x23592b['element']['batchGroup'+'Id']===_0x2899fd&&(_0x23592b['element']['batchGroup'+'Id']=-(-0x2515*0x1+-0x419*0x7+0x41c5*0x1)),_0x23592b['sprite']&&_0x23592b['sprite']['batchGroup'+'Id']===_0x2899fd&&(_0x23592b['sprite']['batchGroup'+'Id']=-(0x1001*-0x1+-0x1*-0x1597+-0x595));for(let _0x50a8d3=0x168f+0x318+0x255*-0xb;_0x50a8d3<_0x23592b['_children']['length'];_0x50a8d3++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x23592b['_children'][_0x50a8d3],_0x2899fd);}}['insert'](_0x2a3ffd,_0x4c0422,_0x5f285c){const _0x1d1e16=this['_batchGrou'+'ps'][_0x4c0422];v['assert'](_0x1d1e16,'Invalid\x20ba'+'tch\x20'+_0x4c0422+'\x20insertion'),_0x1d1e16&&_0x1d1e16['_obj'][_0x2a3ffd]['indexOf'](_0x5f285c)<0x2477+-0x29*-0xe9+0x24e4*-0x2&&(_0x1d1e16['_obj'][_0x2a3ffd]['push'](_0x5f285c),this['markGroupD'+'irty'](_0x4c0422));}['remove'](_0x3d28eb,_0x109866,_0x166859){const _0x184e8f=this['_batchGrou'+'ps'][_0x109866];if(v['assert'](_0x184e8f,'Invalid\x20ba'+'tch\x20'+_0x109866+'\x20insertion'),_0x184e8f){const _0x4c8627=_0x184e8f['_obj'][_0x3d28eb]['indexOf'](_0x166859);_0x4c8627>=0x111c+-0x162*-0x1b+-0x3672&&(_0x184e8f['_obj'][_0x3d28eb]['splice'](_0x4c8627,0x1*-0x2272+0x6*-0x167+0x1*0x2add),this['markGroupD'+'irty'](_0x109866));}}['_extractRe'+'nder'](_0x551d3c,_0x5a026e,_0xb7956,_0x45a5e9){return _0x551d3c['render']&&(_0x5a026e=_0x45a5e9[_0x551d3c['render']['batchGroup'+'Id']]=_0x5a026e['concat'](_0x551d3c['render']['meshInstan'+'ces']),_0x551d3c['render']['removeFrom'+'Layers']()),_0x5a026e;}['_extractMo'+'del'](_0xe580b5,_0x177f59,_0x21cd1e,_0x194731){return _0xe580b5['model']&&_0xe580b5['model']['model']&&(_0x177f59=_0x194731[_0xe580b5['model']['batchGroup'+'Id']]=_0x177f59['concat'](_0xe580b5['model']['meshInstan'+'ces']),_0xe580b5['model']['removeMode'+'lFromLayer'+'s'](),_0xe580b5['model']['_batchGrou'+'p']=_0x21cd1e),_0x177f59;}['_extractEl'+'ement'](_0x1b2ced,_0x542d49,_0x40e776){if(!_0x1b2ced['element'])return;let _0x285cb7=!(0xea7+0xf1*-0x10+0x6a);_0x1b2ced['element']['_text']&&_0x1b2ced['element']['_text']['_model']['meshInstan'+'ces']['length']>0x1*0x1a07+0x161c+-0x3023?(_0x542d49['push'](_0x1b2ced['element']['_text']['_model']['meshInstan'+'ces'][-0x139*0x15+0x5*0x56b+-0x16a]),_0x1b2ced['element']['removeMode'+'lFromLayer'+'s'](_0x1b2ced['element']['_text']['_model']),_0x285cb7=!(0x1c78+0x148d*0x1+-0x1057*0x3)):_0x1b2ced['element']['_image']&&(_0x542d49['push'](_0x1b2ced['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x1b2ced['element']['removeMode'+'lFromLayer'+'s'](_0x1b2ced['element']['_image']['_renderabl'+'e']['model']),_0x1b2ced['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x542d49['push'](_0x1b2ced['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x1b2ced['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x1b2ced['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x1b2ced['element']['_dirtifyMa'+'sk'](),_0x1b2ced['element']['_onPrerend'+'er']())),_0x285cb7=!(0x559*-0x6+-0x111b+-0x101*-0x31)),_0x285cb7&&(_0x40e776['_ui']=!(-0x2467+-0x2497+0x48fe),_0x1b2ced['element']['_batchGrou'+'p']=_0x40e776);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x15b4d3,_0x6e9ef7){for(let _0x182081=-0x781+0x1c7b*-0x1+0x62*0x5e;_0x182081<_0x6e9ef7['length'];_0x182081++){const _0xfae7de=_0x6e9ef7[_0x182081],_0x62293f=this['_batchGrou'+'ps'][_0xfae7de];if(!_0x62293f)continue;let _0x4a32d9=_0x15b4d3[_0xfae7de];_0x4a32d9||(_0x4a32d9=_0x15b4d3[_0xfae7de]=[]);for(let _0x26fdf8=0x4c4+0x38e+0xf*-0x8e;_0x26fdf8<_0x62293f['_obj']['model']['length'];_0x26fdf8++)_0x4a32d9=this['_extractMo'+'del'](_0x62293f['_obj']['model'][_0x26fdf8],_0x4a32d9,_0x62293f,_0x15b4d3);for(let _0x4f150c=-0x1ed3+0x111a+-0x493*-0x3;_0x4f150c<_0x62293f['_obj']['render']['length'];_0x4f150c++)_0x4a32d9=this['_extractRe'+'nder'](_0x62293f['_obj']['render'][_0x4f150c],_0x4a32d9,_0x62293f,_0x15b4d3);for(let _0x4df452=-0x1a23*0x1+0x9b*-0x37+0x1db8*0x2;_0x4df452<_0x62293f['_obj']['element']['length'];_0x4df452++)this['_extractEl'+'ement'](_0x62293f['_obj']['element'][_0x4df452],_0x4a32d9,_0x62293f);for(let _0xa432d5=-0xce*-0x29+-0x1f05+-0x65*0x5;_0xa432d5<_0x62293f['_obj']['sprite']['length'];_0xa432d5++){const _0x22c7ee=_0x62293f['_obj']['sprite'][_0xa432d5];_0x22c7ee['sprite']&&_0x22c7ee['sprite']['_meshInsta'+'nce']&&(_0x62293f['dynamic']||_0x22c7ee['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x4a32d9['push'](_0x22c7ee['sprite']['_meshInsta'+'nce']),_0x22c7ee['sprite']['removeMode'+'lFromLayer'+'s'](),_0x62293f['_sprite']=!(-0x6*-0x20b+0x1897+0x1*-0x24d9),_0x22c7ee['sprite']['_batchGrou'+'p']=_0x62293f);}}}['generate'](_0x471772){const _0x26d513={};_0x471772||(_0x471772=Object['keys'](this['_batchGrou'+'ps']));const _0x34d10b=[];for(let _0x1b122f=0x772*0x5+-0x1031+-0x1509;_0x1b122f<this['_batchList']['length'];_0x1b122f++){if(_0x471772['indexOf'](this['_batchList'][_0x1b122f]['batchGroup'+'Id'])<0x918+0x40*-0x7f+0x16a8){_0x34d10b['push'](this['_batchList'][_0x1b122f]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x1b122f]);}if(this['_batchList']=_0x34d10b,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x26d513,_0x471772),_0x471772===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x322*-0x7+-0x22dd+0xcef;else{const _0x3a5e42=[];for(let _0x3cc46f=0xd*0x251+0x8*-0x3be+-0x2d;_0x3cc46f<this['_dirtyGrou'+'ps']['length'];_0x3cc46f++)_0x471772['indexOf'](this['_dirtyGrou'+'ps'][_0x3cc46f])<-0xa49*0x1+-0x16bc*-0x1+-0xc73&&_0x3a5e42['push'](this['_dirtyGrou'+'ps'][_0x3cc46f]);this['_dirtyGrou'+'ps']=_0x3a5e42;}let _0x23589f,_0xeba573,_0x24be12,_0x28a2ab;for(const _0x20ac33 in _0x26d513)if(_0x26d513['hasOwnProp'+'erty'](_0x20ac33)){if(_0x23589f=_0x26d513[_0x20ac33],_0x24be12=this['_batchGrou'+'ps'][_0x20ac33],!_0x24be12){v['error']('batch\x20grou'+'p\x20'+_0x20ac33+'\x20not\x20found');continue;}_0xeba573=this['prepare'](_0x23589f,_0x24be12['dynamic'],_0x24be12['maxAabbSiz'+'e'],_0x24be12['_ui']||_0x24be12['_sprite']);for(let _0x4aebc8=-0x1dbb+0x225c+0x18b*-0x3;_0x4aebc8<_0xeba573['length'];_0x4aebc8++)_0x28a2ab=this['create'](_0xeba573[_0x4aebc8],_0x24be12['dynamic'],parseInt(_0x20ac33,-0x2674+0x1938+0xd46*0x1)),_0x28a2ab&&_0x28a2ab['addToLayer'+'s'](this['scene'],_0x24be12['layers']);}}['prepare'](_0x6e5b46,_0x10437a,_0x12dbe4=Number['POSITIVE_I'+'NFINITY'],_0x1d280f){if(_0x6e5b46['length']===-0x5*0x2aa+-0x4f*0x11+0x1291)return[];const _0x186c6c=_0x12dbe4*(0x245+0x2152+-0x2397+0.5),_0x120cde=0x12ab+0x25b1+-0x6*0x8ba,_0x1c44eb=-0xad5d2283+0x1428be76b+-0x6ad13b17*-0x1,_0x2e10df=new _e(),_0x4d3acd=new _e();let _0x5740c5=null,_0x201c4b;const _0x5cdf27=[];let _0x314987=0x1aa4+-0x2175+-0x1*-0x6d1;_0x1d280f&&_0x6e5b46['sort']((_0x29b07b,_0x2d51ac)=>_0x29b07b['drawOrder']-_0x2d51ac['drawOrder']);let _0x2ba424=_0x6e5b46,_0x587485;const _0x4baf26=_0x1d280f?function(_0x2e1727){_0x5740c5?_0x5740c5['add'](_0x2e1727['aabb']):_0x5740c5=_0x2e1727['aabb']['clone'](),_0x587485['push'](_0x2e1727);}:function(_0x10d036){_0x587485['push'](_0x10d036);};for(;_0x2ba424['length']>0x123e+-0x13d*0xb+0x49f*-0x1;){_0x5cdf27[_0x314987]=[_0x2ba424[-0x354+-0x1b3*0x6+-0x6c3*-0x2]],_0x587485=[];const _0xf55f75=_0x2ba424[-0x19e+-0xd89+0xf27]['material'],_0x6cf33d=_0x2ba424[0x4ee*0x6+0x723*0x1+0xc3d*-0x3]['layer'],_0x3175b2=_0x2ba424[-0x1*-0x85a+-0x1*-0xd06+-0x1560]['_shaderDef'+'s'],_0x235fb8=_0x2ba424[-0x165*-0x15+-0x3*-0xc13+-0x4182]['parameters'],_0x56c15a=_0x2ba424[0x1*-0x1277+-0x8b*-0x17+-0x9*-0xaa]['stencilFro'+'nt'];let _0x3be136=_0x2ba424[0x741+0x26*-0x1f+-0x7*0x61]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x19f9ec=_0x2ba424[-0x4d7+0x1000+-0xb29*0x1]['drawOrder'];_0x2e10df['copy'](_0x2ba424[0x405+0xdb3+-0x11b8]['aabb']);const _0x30d208=Sd(_0x2ba424[-0x1017+0x72*-0x28+0xb*0x315]),_0x3d027e=_0x2ba424[-0x1*0x1477+0x3*0x112+0x1141]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x5ba2fd=_0x2ba424[-0x87e*-0x4+-0x2cf+-0x1f29*0x1]['mesh']['primitive'][0x6*0x64b+-0x21f1*-0x1+-0x47b3]['indexed'];_0x5740c5=null;for(let _0x335b03=0x2147+-0x7c3+-0x1983;_0x335b03<_0x2ba424['length'];_0x335b03++){const _0x53db57=_0x2ba424[_0x335b03];if(_0x10437a&&_0x5cdf27[_0x314987]['length']>=_0x120cde){_0x587485=_0x587485['concat'](_0x2ba424['slice'](_0x335b03));break;}if(_0xf55f75!==_0x53db57['material']||_0x6cf33d!==_0x53db57['layer']||_0x3d027e!==_0x53db57['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x5ba2fd!==_0x53db57['mesh']['primitive'][0x16ff+-0x9fe+-0xd01]['indexed']||_0x3175b2!==_0x53db57['_shaderDef'+'s']||_0x3be136+_0x53db57['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x1c44eb){_0x4baf26(_0x53db57);continue;}if(_0x4d3acd['copy'](_0x2e10df),_0x4d3acd['add'](_0x53db57['aabb']),_0x4d3acd['halfExtent'+'s']['x']>_0x186c6c||_0x4d3acd['halfExtent'+'s']['y']>_0x186c6c||_0x4d3acd['halfExtent'+'s']['z']>_0x186c6c){_0x4baf26(_0x53db57);continue;}if(_0x56c15a&&(!(_0x201c4b=_0x53db57['stencilFro'+'nt'])||_0x56c15a['func']!==_0x201c4b['func']||_0x56c15a['zpass']!==_0x201c4b['zpass'])){_0x4baf26(_0x53db57);continue;}if(_0x30d208!==Sd(_0x53db57)){_0x4baf26(_0x53db57);continue;}if(!cC(_0x235fb8,_0x53db57['parameters'])){_0x4baf26(_0x53db57);continue;}if(_0x1d280f&&_0x5740c5&&_0x5740c5['intersects'](_0x53db57['aabb'])&&_0x53db57['drawOrder']!==_0x19f9ec){_0x4baf26(_0x53db57);continue;}_0x2e10df['add'](_0x53db57['aabb']),_0x3be136+=_0x53db57['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x5cdf27[_0x314987]['push'](_0x53db57);}_0x314987++,_0x2ba424=_0x587485;}return _0x5cdf27;}['collectBat'+'chedMeshDa'+'ta'](_0x12a327,_0x52e3ea){let _0x5b85c3=null,_0x198f75=0x2687+-0x83*-0x4b+-0x4ce8,_0x428379=0x1480+0x2*0xec6+-0x320c,_0x189817=null;for(let _0x35464e=0xe5a*-0x1+0x5*0x33e+-0x1dc;_0x35464e<_0x12a327['length'];_0x35464e++)if(_0x12a327[_0x35464e]['visible']){const _0x1be7af=_0x12a327[_0x35464e]['mesh'],_0x5a2314=_0x1be7af['vertexBuff'+'er']['numVertice'+'s'];if(_0x198f75+=_0x5a2314,_0x1be7af['primitive'][-0x136a+-0x1741+-0xe39*-0x3]['indexed'])_0x428379+=_0x1be7af['primitive'][-0x2249+0x25aa+0x361*-0x1]['count'];else{const _0x28ff5c=_0x1be7af['primitive'][-0x2*0x1aa+0x1a*-0xc1+0x5*0x496]['type'];(_0x28ff5c===Yr||_0x28ff5c===ar)&&_0x1be7af['primitive'][-0x1fb7+0x14b1+0x2*0x583]['count']===0x146f+0x1*-0x149+-0x1322&&(_0x428379+=0x1*0x22a3+0x1568+-0x3805);}if(!_0x5b85c3){_0x189817=_0x12a327[_0x35464e]['material'],_0x5b85c3={};const _0xbd4628=_0x1be7af['vertexBuff'+'er']['format']['elements'];for(let _0x47ee33=-0x9e3+0x1c23+-0x1240*0x1;_0x47ee33<_0xbd4628['length'];_0x47ee33++){const _0x582ac=_0xbd4628[_0x47ee33]['name'];_0x5b85c3[_0x582ac]={'numComponents':_0xbd4628[_0x47ee33]['numCompone'+'nts'],'dataType':_0xbd4628[_0x47ee33]['dataType'],'normalize':_0xbd4628[_0x47ee33]['normalize'],'count':0x0};}_0x52e3ea&&(_0x5b85c3[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(-0x22d8+-0x18c6+0x3b9f),'count':0x0});}}return{'streams':_0x5b85c3,'batchNumVerts':_0x198f75,'batchNumIndices':_0x428379,'material':_0x189817};}['create'](_0x27fa63,_0x24671e,_0x286c1b){const _0x50737d=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x1f7b*0x1+0x258d+0x15*-0x4a));let _0xcb72e=null,_0x813a5d,_0x733596,_0x40d825,_0x571690=null;const _0x8f84de=this['collectBat'+'chedMeshDa'+'ta'](_0x27fa63,_0x24671e);if(_0x8f84de['streams']){const _0x4b8a47=_0x8f84de['streams'];let _0x5cf762=_0x8f84de['material'];const _0x3d6470=_0x8f84de['batchNumVe'+'rts'],_0x1dc823=_0x8f84de['batchNumIn'+'dices'];_0x571690=new zm(_0x27fa63,_0x24671e,_0x286c1b),this['_batchList']['push'](_0x571690);let _0x2c5581,_0x41bfbb,_0x251ba1,_0x121c68=0x5d1+0x1*-0x1057+-0xa86*-0x1,_0x15ac7f=0x1*0x245b+0x16eb*-0x1+-0xd70,_0x543f8f;const _0x4635f5=_0x3d6470<=0x1*-0x104a1+-0x76*0x1b7+0x7*0x66b6?Uint16Array:Uint32Array,_0x1e3162=new _0x4635f5(_0x1dc823);for(_0x813a5d in _0x4b8a47)_0xcb72e=_0x4b8a47[_0x813a5d],_0xcb72e['typeArrayT'+'ype']=da[_0xcb72e['dataType']],_0xcb72e['elementByt'+'eSize']=_o[_0xcb72e['dataType']],_0xcb72e['buffer']=new _0xcb72e['typeArrayT'+'ype'](_0x3d6470*_0xcb72e['numCompone'+'nts']);for(let _0x7fd506=-0x5*0x6e6+0xb6d+0x49d*0x5;_0x7fd506<_0x27fa63['length'];_0x7fd506++)if(_0x27fa63[_0x7fd506]['visible']){_0x733596=_0x27fa63[_0x7fd506]['mesh'],_0x40d825=_0x733596['vertexBuff'+'er']['numVertice'+'s'],_0x24671e||(_0x543f8f=_0x27fa63[_0x7fd506]['node']['getWorldTr'+'ansform']());for(_0x813a5d in _0x4b8a47)if(_0x813a5d!==qt){_0xcb72e=_0x4b8a47[_0x813a5d];const _0xfcfb9=new _0xcb72e['typeArrayT'+'ype'](_0xcb72e['buffer']['buffer'],_0xcb72e['elementByt'+'eSize']*_0xcb72e['count']),_0x161a2b=_0x733596['getVertexS'+'tream'](_0x813a5d,_0xfcfb9)*_0xcb72e['numCompone'+'nts'];if(_0xcb72e['count']+=_0x161a2b,!_0x24671e&&_0xcb72e['numCompone'+'nts']>=0x1c69+0xf*0x1d8+-0x11f*0x32){if(_0x813a5d===He){const _0x1e60b5=_0x543f8f['data'],_0x7c33b8=_0x1e60b5[-0x1*-0x217b+0x1006*-0x1+-0x1175],_0x5bd403=_0x1e60b5[-0x832+0x22a+0x609],_0x567f7d=_0x1e60b5[-0x39+0x22a8+-0x226d],_0x515573=_0x1e60b5[0x7f*-0x2c+0xd1b+-0x8bd*-0x1],_0x100349=_0x1e60b5[0x48*-0x58+-0x197c+0x3241],_0x4ba95d=_0x1e60b5[0x1*0x1fff+-0x1e12+0x1e7*-0x1],_0x525305=_0x1e60b5[-0x1*-0x275+-0x1cd+0x14*-0x8],_0x50ee34=_0x1e60b5[-0x1132+0x1*0x20e7+-0x3eb*0x4],_0x43086b=_0x1e60b5[0xe*0xfe+0x1778*-0x1+0x99e],_0x16958e=_0x1e60b5[0x11b4+0x168d*-0x1+-0x7*-0xb3],_0x4fad80=_0x1e60b5[0x5*-0x4dc+-0x3d7*0x3+0x23de*0x1],_0x2ea4d1=_0x1e60b5[-0x11e7+0xe33+0x3c2];let _0x105e08,_0x555a62,_0x497e33;for(let _0x1555f9=-0x792+0x6*-0x337+0x3*0x8f4;_0x1555f9<_0x161a2b;_0x1555f9+=_0xcb72e['numCompone'+'nts'])_0x105e08=_0xfcfb9[_0x1555f9],_0x555a62=_0xfcfb9[_0x1555f9+(-0x2e*-0x3e+0x15b4+-0x1*0x20d7)],_0x497e33=_0xfcfb9[_0x1555f9+(-0x9bb*-0x3+-0x364+-0x19cb)],_0xfcfb9[_0x1555f9]=_0x105e08*_0x7c33b8+_0x555a62*_0x515573+_0x497e33*_0x525305+_0x16958e,_0xfcfb9[_0x1555f9+(0x15f4+-0x1*0x982+0x1c7*-0x7)]=_0x105e08*_0x5bd403+_0x555a62*_0x100349+_0x497e33*_0x50ee34+_0x4fad80,_0xfcfb9[_0x1555f9+(0x194e+-0x42d*0x2+0x9*-0x1e2)]=_0x105e08*_0x567f7d+_0x555a62*_0x4ba95d+_0x497e33*_0x43086b+_0x2ea4d1;}else{if(_0x813a5d===Yt||_0x813a5d===Zs){jm['invertMat4'](_0x543f8f)['transpose']();const [_0x2d56e5,_0x2293aa,_0x387c10,_0xca3dd5,_0x4a422c,_0x154396,_0x241343,_0x2c7181,_0x40e777]=jm['data'];let _0x37be68,_0x2d74f1,_0x951ab7;for(let _0x5b1cc2=0x1dfc+-0x2ec*0x8+-0x69c;_0x5b1cc2<_0x161a2b;_0x5b1cc2+=_0xcb72e['numCompone'+'nts'])_0x37be68=_0xfcfb9[_0x5b1cc2],_0x2d74f1=_0xfcfb9[_0x5b1cc2+(0x1623+0xa7*-0xf+-0xc59)],_0x951ab7=_0xfcfb9[_0x5b1cc2+(0x925*-0x2+-0x1801+0x2a4d)],_0xfcfb9[_0x5b1cc2]=_0x37be68*_0x2d56e5+_0x2d74f1*_0xca3dd5+_0x951ab7*_0x241343,_0xfcfb9[_0x5b1cc2+(-0x6a*0x1+0xf+-0x5c*-0x1)]=_0x37be68*_0x2293aa+_0x2d74f1*_0x4a422c+_0x951ab7*_0x2c7181,_0xfcfb9[_0x5b1cc2+(0xf2+0x121c+-0x5c*0x35)]=_0x37be68*_0x387c10+_0x2d74f1*_0x154396+_0x951ab7*_0x40e777;}}}}if(_0x24671e){_0xcb72e=_0x4b8a47[qt];for(let _0x4df8a6=-0x21*-0x1f+-0x1c9*0x7+0x880;_0x4df8a6<_0x40d825;_0x4df8a6++)_0xcb72e['buffer'][_0xcb72e['count']++]=_0x7fd506;}if(_0x733596['primitive'][-0x7d8+-0x1071*-0x1+0x899*-0x1]['indexed']){_0x2c5581=_0x733596['primitive'][-0x1e2e+0x2*0xd81+-0x1*-0x32c]['base'],_0x41bfbb=_0x733596['primitive'][-0x34*-0xac+0x162d+-0x391d]['count'];const _0x5331bd=_0x733596['indexBuffe'+'r'][-0xa8+-0x212c+-0x5*-0x6c4]['getFormat']();_0x251ba1=new Lh[_0x5331bd](_0x733596['indexBuffe'+'r'][-0x5b3*-0x1+-0x11f3+0x1c0*0x7]['storage']);}else{const _0x531a26=_0x733596['primitive'][0xaac+-0x5*-0x96+-0xd9a]['type'];if(_0x531a26===Yr||_0x531a26===ar){if(_0x733596['primitive'][-0x10de+0x2310+-0x2*0x919]['count']===-0x3fd*0x3+0x1*0x25b1+-0x19b6)_0x2c5581=0x3b*0xa1+-0xc1*-0x2b+-0x4586,_0x41bfbb=0x1dc2+0x1384+-0x3140,_0x251ba1=_0x531a26===Yr?lC:hC;else{_0x41bfbb=-0xda9*0x2+-0xe9*-0xb+0x1*0x114f;continue;}}}for(let _0x22ab78=0x543+-0x15a3+0x1060*0x1;_0x22ab78<_0x41bfbb;_0x22ab78++)_0x1e3162[_0x22ab78+_0x15ac7f]=_0x251ba1[_0x2c5581+_0x22ab78]+_0x121c68;_0x15ac7f+=_0x41bfbb,_0x121c68+=_0x40d825;}_0x733596=new Ie(this['device']);for(_0x813a5d in _0x4b8a47)_0xcb72e=_0x4b8a47[_0x813a5d],_0x733596['setVertexS'+'tream'](_0x813a5d,_0xcb72e['buffer'],_0xcb72e['numCompone'+'nts'],void(0x2*-0x131f+0x11c5+-0x6d3*-0x3),_0xcb72e['dataType'],_0xcb72e['normalize']);_0x1e3162['length']>0x987+-0xaf7+0x170&&_0x733596['setIndices'](_0x1e3162),_0x733596['update'](Ms,!(0x2493+0x1610+0xbba*-0x5)),_0x24671e&&(_0x5cf762=_0x5cf762['clone'](),_0x5cf762['update']());const _0x2f6a42=new Le(_0x733596,_0x5cf762,this['rootNode']);_0x2f6a42['castShadow']=_0x571690['origMeshIn'+'stances'][-0x3cc*0x1+0x1172+-0x2*0x6d3]['castShadow'],_0x2f6a42['parameters']=_0x571690['origMeshIn'+'stances'][-0x2*0x10fd+0x1f8f+0x1*0x26b]['parameters'],_0x2f6a42['layer']=_0x571690['origMeshIn'+'stances'][-0x3*-0x3bf+0x79f*-0x5+0x1ade]['layer'],_0x2f6a42['_shaderDef'+'s']=_0x571690['origMeshIn'+'stances'][0x67d*-0x4+-0x3*0xaa1+-0x43*-0xdd]['_shaderDef'+'s'],_0x2f6a42['batching']=!(0x15b*0x17+0x22c0+0x1*-0x41ed),_0x2f6a42['cull']=_0x571690['origMeshIn'+'stances'][0x80f*-0x1+0x4*-0x995+0x2e63]['cull'];const _0x36944d=this['_batchGrou'+'ps'][_0x286c1b];if(_0x36944d&&_0x36944d['_ui']&&(_0x2f6a42['cull']=!(-0x96a+-0x289+0xcc*0xf)),_0x24671e){const _0x770fb=[];for(let _0x40b697=-0x236*0x4+0x1d*-0xd1+-0x1*-0x2085;_0x40b697<_0x571690['origMeshIn'+'stances']['length'];_0x40b697++)_0x770fb['push'](_0x571690['origMeshIn'+'stances'][_0x40b697]['node']);_0x2f6a42['skinInstan'+'ce']=new Vm(this['device'],_0x770fb,this['rootNode']);}_0x2f6a42['_updateAab'+'b']=!(-0x2*-0x98e+0x1a1c*0x1+-0x2d37),_0x2f6a42['drawOrder']=_0x571690['origMeshIn'+'stances'][-0x70+-0xec1+0xf31*0x1]['drawOrder'],_0x2f6a42['stencilFro'+'nt']=_0x571690['origMeshIn'+'stances'][0x129a+-0x26d7+0x9d*0x21]['stencilFro'+'nt'],_0x2f6a42['stencilBac'+'k']=_0x571690['origMeshIn'+'stances'][0xb29*-0x3+-0x25f*0x3+0x2898]['stencilBac'+'k'],_0x2f6a42['flipFacesF'+'actor']=Sd(_0x571690['origMeshIn'+'stances'][-0xb1a+-0xd*-0x2e+-0x2*-0x462]),_0x2f6a42['castShadow']=_0x571690['origMeshIn'+'stances'][-0x635+0x2397+0x1d62*-0x1]['castShadow'],_0x571690['meshInstan'+'ce']=_0x2f6a42,_0x571690['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x50737d,_0x571690;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>-0x11*0x7+0xeff+-0xe88&&this['generate'](this['_dirtyGrou'+'ps']);const _0x1d1fc3=ne();for(let _0x4ef1a1=0xae6+0x359*-0x1+-0x1*0x78d;_0x4ef1a1<this['_batchList']['length'];_0x4ef1a1++)this['_batchList'][_0x4ef1a1]['dynamic']&&this['_batchList'][_0x4ef1a1]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x1d1fc3;}['clone'](_0x58fa40,_0x473a25){const _0x59ac70=new zm(_0x473a25,_0x58fa40['dynamic'],_0x58fa40['batchGroup'+'Id']);this['_batchList']['push'](_0x59ac70);const _0xf80c61=[];for(let _0x85e4a4=0x43*0x28+-0x2231*-0x1+-0x2ca9;_0x85e4a4<_0x473a25['length'];_0x85e4a4++)_0xf80c61['push'](_0x473a25[_0x85e4a4]['node']);return _0x59ac70['meshInstan'+'ce']=new Le(_0x58fa40['meshInstan'+'ce']['mesh'],_0x58fa40['meshInstan'+'ce']['material'],_0x58fa40['meshInstan'+'ce']['node']),_0x59ac70['meshInstan'+'ce']['_updateAab'+'b']=!(0x1a25+-0xb51*-0x2+0x3*-0x1042),_0x59ac70['meshInstan'+'ce']['parameters']=_0x473a25[-0xb8c+0xacf*-0x3+-0x2bf9*-0x1]['parameters'],_0x59ac70['meshInstan'+'ce']['cull']=_0x473a25[0x10ab+-0x1603+0x4c*0x12]['cull'],_0x59ac70['meshInstan'+'ce']['layer']=_0x473a25[-0x244d+-0x7f*-0x3+-0x1168*-0x2]['layer'],_0x58fa40['dynamic']&&(_0x59ac70['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0xf80c61,this['rootNode'])),_0x59ac70['meshInstan'+'ce']['castShadow']=_0x58fa40['meshInstan'+'ce']['castShadow'],_0x59ac70;}['destroyBat'+'ch'](_0x111608){_0x111608['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x111608['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x3f100d,_0x9cf491,_0x265c1c){if((_0x3f100d==null?void(-0x1218+-0x3e5*0x5+0x2591):_0x3f100d['colorBuffe'+'r']['format'])!==_0x265c1c)return!(-0x24dd+-0x146*-0x19+0x3*0x1ad);const _0x1cf2e2=(_0x9cf491==null?void(0x1*0x1ce2+-0x1*0x2196+0x4b4):_0x9cf491['width'])||this['device']['width'],_0x3099f0=(_0x9cf491==null?void(-0x6e9*-0x2+0x1647+-0x2419*0x1):_0x9cf491['height'])||this['device']['height'];return!_0x3f100d||_0x1cf2e2!==_0x3f100d['width']||_0x3099f0!==_0x3f100d['height'];}['allocateRe'+'nderTarget'](_0x1db147,_0x126d6f,_0xd98ff3,_0x292e03){const _0x4c0fb3=new he(_0xd98ff3,{'name':Km,'format':_0x292e03,'width':_0x126d6f?_0x126d6f['colorBuffe'+'r']['width']:_0xd98ff3['width'],'height':_0x126d6f?_0x126d6f['colorBuffe'+'r']['height']:_0xd98ff3['height'],'mipmaps':!(-0x243a+0x319*0xa+0x150*0x4),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x1db147?(_0x1db147['destroyFra'+'meBuffers'](),_0x1db147['_colorBuff'+'er']=_0x4c0fb3,_0x1db147['_colorBuff'+'ers']=[_0x4c0fb3]):_0x1db147=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x4c0fb3,'depth':!(-0x13da+-0x1*-0x1305+0xd6*0x1),'stencil':!(0xa37+-0x1ca*0x15+-0xce*-0x22),'autoResolve':!(0x1cda+0x1de1+-0x3aba)}),_0x1db147;}['releaseRen'+'derTarget'](_0x3a2da1){_0x3a2da1&&(_0x3a2da1['destroyTex'+'tureBuffer'+'s'](),_0x3a2da1['destroy']());}['frameUpdat'+'e'](){const _0x1d8949=this['device'],_0x543356=this['source'],_0xcdbefd=(_0x543356==null?void(0x679*0x2+-0xc5d+-0x95):_0x543356['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x543356==null?void(0x95*0x15+-0x1cce+0x1095):_0x543356['colorBuffe'+'r'],_0xcdbefd)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x543356,_0x1d8949,_0xcdbefd));const _0x4e0580=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x1d8949['scope']['resolve'](Km)['setValue'](_0x4e0580);}['execute'](){const _0x131767=this['device'];G['pushGpuMar'+'ker'](_0x131767,'GRAB-COLOR');const _0x42861c=this['source'],_0x2cd791=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x131767['isWebGPU']?(_0x131767['copyRender'+'Target'](_0x42861c,this['colorRende'+'rTarget'],!(0xf1*0x13+-0x1728+-0x47*-0x13),!(-0x221f+-0x26e3+0x4903)),_0x131767['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x131767['copyRender'+'Target'](_0x42861c,this['colorRende'+'rTarget'],!(0xde5+0x1428+0x17b*-0x17),!(-0x2612*-0x1+-0x167*0x1+0x2d2*-0xd)),_0x131767['activeText'+'ure'](_0x131767['maxCombine'+'dTextures']-(0xdb5+-0xf50+0x19c)),_0x131767['bindTextur'+'e'](_0x2cd791),_0x131767['gl']['generateMi'+'pmap'](_0x2cd791['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x131767);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0x56a349,_0x36964a){super(_0x56a349),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x36964a;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x3f5aa1,_0x2c5dae){const _0xc6b0bf=(_0x2c5dae==null?void(0x1*0x6fd+0x1252+-0x155*0x13):_0x2c5dae['width'])||this['device']['width'],_0x9c30d7=(_0x2c5dae==null?void(-0x1*-0x387+-0x6f4+0x1*0x36d):_0x2c5dae['height'])||this['device']['height'];return!_0x3f5aa1||_0xc6b0bf!==_0x3f5aa1['width']||_0x9c30d7!==_0x3f5aa1['height'];}['allocateRe'+'nderTarget'](_0x368d90,_0x2d16a4,_0x3d1eb6,_0x366c24,_0x10206e){const _0x2e2426=new he(_0x3d1eb6,{'name':Zm,'format':_0x366c24,'width':_0x2d16a4?_0x2d16a4['colorBuffe'+'r']['width']:_0x3d1eb6['width'],'height':_0x2d16a4?_0x2d16a4['colorBuffe'+'r']['height']:_0x3d1eb6['height'],'mipmaps':!(0x29f*0x1+0x3*0xba1+0x2581*-0x1),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x368d90?(_0x368d90['destroyFra'+'meBuffers'](),_0x10206e?_0x368d90['_depthBuff'+'er']=_0x2e2426:(_0x368d90['_colorBuff'+'er']=_0x2e2426,_0x368d90['_colorBuff'+'ers']=[_0x2e2426])):_0x368d90=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x10206e?null:_0x2e2426,'depthBuffer':_0x10206e?_0x2e2426:null,'depth':!_0x10206e,'stencil':_0x3d1eb6['supportsSt'+'encil'],'autoResolve':!(-0x6ee*-0x1+0x38b+-0xa78)}),_0x368d90;}['releaseRen'+'derTarget'](_0x1c5115){_0x1c5115&&(_0x1c5115['destroyTex'+'tureBuffer'+'s'](),_0x1c5115['destroy']());}['before'](){var _0x278a29,_0x5b3e86;const _0x38b137=this['camera'],_0x2b5d04=this['device'],_0x3f8cab=(_0x38b137==null?void(-0xf7*0xf+-0x2*0x11bd+0x31f3*0x1):_0x38b137['renderTarg'+'et'])??_0x2b5d04['backBuffer'];let _0xed314f=!(0x12e*-0xb+0x12f4+-0x9*0xaa),_0x40cd04=_0x3f8cab['stencil']?vc:Ci;_0x2b5d04['isWebGPU']&&_0x3f8cab['samples']>-0x1a78+-0x82b+0x22a4&&(_0x40cd04=Ii,_0xed314f=!(-0x1*-0x761+0x173c+-0x1e9c));const _0x1509ff=((_0x278a29=_0x38b137['renderTarg'+'et'])==null?void(0x9f2+0x1e9d+-0xd85*0x3):_0x278a29['depthBuffe'+'r'])??((_0x5b3e86=_0x38b137['renderTarg'+'et'])==null?void(-0x2335*0x1+-0x155*-0x9+0x8*0x2e7):_0x5b3e86['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x1509ff)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x38b137['renderTarg'+'et'],_0x2b5d04,_0x40cd04,_0xed314f));const _0x586b0e=_0xed314f?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x2b5d04['scope']['resolve'](Zm)['setValue'](_0x586b0e);}['execute'](){const _0x5e5601=this['device'];if(G['pushGpuMar'+'ker'](_0x5e5601,'GRAB-DEPTH'),_0x5e5601['isWebGL2']&&_0x5e5601['renderTarg'+'et']['samples']>-0x1f03+-0x4a*-0x2e+0x8dc*0x2){const _0x47f9cd=_0x5e5601['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x89d35f=this['depthRende'+'rTarget'];_0x5e5601['renderTarg'+'et']=_0x89d35f,_0x5e5601['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x5e5601,_0x47f9cd,_0x89d35f['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x5e5601['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x5e5601['copyRender'+'Target'](_0x5e5601['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x24cc+-0x1*-0x14b6+-0x3981),!(-0x587*-0x3+-0xe*-0x29b+-0x350f));G['popGpuMark'+'er'](_0x5e5601);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(0xd00+0x2624*-0x1+0x1925)),c(this,'_ssaoEnabl'+'ed',!(-0x4a*0x19+-0xa63*0x2+-0x43*-0x6b)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(-0xa28*-0x3+0x143b+-0x32b2)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(0x1*-0x22e5+-0xcb*0xb+-0x2b9e*-0x1));}get['hash'](){if(this['_hash']===void(-0x1*-0x38b+0x3*-0xc29+-0x7c*-0x44)){const _0x3cad6b=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x3cad6b);}return this['_hash'];}get['defines'](){const _0x32d5c2=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x1142+0x2*-0x1029+0x85*0x1d),_0x32d5c2['clear'](),this['_sceneDept'+'hMapLinear']&&_0x32d5c2['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0x2bd*-0x3+-0x85a+-0x1091*-0x1)),_0x32d5c2['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x32d5c2['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x32d5c2['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x32d5c2;}['markDirty'](){this['_hash']=void(-0x9e3+-0x20b+-0x3fa*-0x3),this['_definesDi'+'rty']=!(-0xdf3*-0x1+0x6*-0x419+-0x185*-0x7);}set['fog'](_0x29ba49){this['_fog']!==_0x29ba49&&(this['_fog']=_0x29ba49,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0xa406e6){this['_ssaoEnabl'+'ed']!==_0xa406e6&&(this['_ssaoEnabl'+'ed']=_0xa406e6,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x1a62f0){this['_gammaCorr'+'ectionAssi'+'gned']=!(0xe45+-0x24d*0x9+0x670),this['_gammaCorr'+'ection']!==_0x1a62f0&&(this['_gammaCorr'+'ection']=_0x1a62f0,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x3cf949){this['_toneMappi'+'ng']!==_0x3cf949&&(this['_toneMappi'+'ng']=_0x3cf949,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x16965c){this['_srgbRende'+'rTarget']!==_0x16965c&&(this['_srgbRende'+'rTarget']=_0x16965c,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x45321e){this['_sceneDept'+'hMapLinear']!==_0x45321e&&(this['_sceneDept'+'hMapLinear']=_0x45321e,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),$a=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',0xf21+-0x166f*-0x1+-0x2590),(this['_aspectRat'+'io']=(-0x29c+0xf98+-0xcec)/(0x23b4+-0xcfb*-0x2+0x9*-0x6d9),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new j(-0x1a*0xbe+0x1*-0xe1b+-0x1f7*-0x11+0.75,0x19eb+-0xf4f*-0x1+-0x293a+0.75,0x1726+0x55b*0x2+-0x21dc+0.75,0xe*-0x2ab+-0x2bf+0x281a),this['_clearColo'+'rBuffer']=!(0x17*0x26+-0x91e+0x2*0x2da),this['_clearDept'+'h']=0x1476+0x1*-0x1aad+0x638,this['_clearDept'+'hBuffer']=!(-0x76f+0x1ef6+0x13d*-0x13),this['_clearSten'+'cil']=-0x2*0xab7+-0x2677+0x39*0x10d,this['_clearSten'+'cilBuffer']=!(0x1bb*-0x2+-0x1bbe+-0x2*-0xf9a),this['_cullFaces']=!(-0xada*-0x1+0x3*-0x1f3+-0x501),this['_farClip']=0x14*-0x16e+-0x8*0x412+-0x2b6*-0x18,this['_flipFaces']=!(0x8b*-0x25+-0x3*0x4aa+0x1*0x2216),this['_fov']=0x15a1+-0x3*-0x599+-0x263f,this['_frustumCu'+'lling']=!(-0x1*-0x952+-0x76a+-0x1e8),this['_horizonta'+'lFov']=!(-0x1e51+0x1*0x56b+-0xff*-0x19),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0x7*-0x16b+0xea*0x15+-0x69*0x47+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x2*0x12ab+0x1451+-0xb*-0x18d,this['_projectio'+'n']=Gs,this['_rect']=new Q(0x27f+-0x3b7*0x3+0x8a6,0x3*-0x3d1+-0x2*-0x1265+-0x1957,0x7*0x10f+-0x33b*-0x6+0x12*-0x17d,0x561+0x3*-0x306+-0x2b*-0x16),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(0x6*-0x67a+-0x662+-0x2d3e*-0x1,-0x1e84+0x1*-0x1877+0x36fb,-0x2573+0x157+0x241d*0x1,0xf93+0x141c+-0x23ae),this['_scissorRe'+'ctClear']=!(0x1765+-0x12c4+-0x4a0),this['_aperture']=-0x149*-0x1b+-0xc5*0x13+-0x16e*0xe,this['_shutter']=(0x5*-0x7bf+-0x58b*-0x3+-0x161b*-0x1)/(-0xdf4+-0x1179+0x1*0x2355),this['_sensitivi'+'ty']=0x1508+0xca0+-0x770*0x4,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(0x1*-0xe64+0x1ca4+-0xe40),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(0x37*0x6b+-0x1af2+0x1*0x3f5),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(-0x1c4+0x1*0xe5c+-0xc98),this['_shaderMat'+'ricesVersi'+'on']=0x5*0x41b+0x1bcd+0xc*-0x407,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[0x2280+-0x6f4+-0x1b8c,0x1086*-0x2+-0x204f+0x63*0xa9,-0x9d*-0xb+0x1c7e+-0x233d,0x12af+0x347*0x1+-0x1*0x15f6],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x44fa1f,_0x4cccb8;(_0x44fa1f=this['renderPass'+'ColorGrab'])==null||_0x44fa1f['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x4cccb8=this['renderPass'+'DepthGrab'])==null||_0x4cccb8['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x215e+0xb2c+-0x1632*-0x1;}['_storeShad'+'erMatrices'](_0x2fafda,_0x5496a5,_0x3e4c18,_0x2b073f){this['_shaderMat'+'ricesVersi'+'on']!==_0x2b073f&&(this['_shaderMat'+'ricesVersi'+'on']=_0x2b073f,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x2fafda),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x2fafda),this['_viewProjI'+'nverse']['invert'](_0x2fafda),this['_jitters'][0x220d*-0x1+0x2393+-0x184]=this['_jitters'][-0x1*-0x1763+0x8d*0x1d+0xb*-0x394],this['_jitters'][0x1936*-0x1+-0x4ce+0x1e07]=this['_jitters'][-0x1ecb+-0x1022+0x2eee],this['_jitters'][0x12f7+-0x2e3*-0x1+-0x15da]=_0x5496a5,this['_jitters'][0x2164+-0x1*0x20b9+-0xaa]=_0x3e4c18);}get['fullSizeCl'+'earRect'](){const _0x397586=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x397586['x']===-0x184e+0x1df2+-0x5a4&&_0x397586['y']===0xac+-0x9*-0xde+-0x87a&&_0x397586['z']===-0x260a+-0x1e7a+0x4485&&_0x397586['w']===-0x44*-0x1+-0xaf4+-0x1*-0xab1;}set['aspectRati'+'o'](_0xcc33ba){this['_aspectRat'+'io']!==_0xcc33ba&&(this['_aspectRat'+'io']=_0xcc33ba,this['_projMatDi'+'rty']=!(0x3*-0x269+-0x1*-0x155c+-0x1*0xe21));}get['aspectRati'+'o'](){var _0x1c4be5;return(_0x1c4be5=this['xr'])!=null&&_0x1c4be5['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x527076){this['_aspectRat'+'ioMode']!==_0x527076&&(this['_aspectRat'+'ioMode']=_0x527076,this['_projMatDi'+'rty']=!(0x30d+0x1670+-0x197d));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x199475){this['_calculate'+'Projection']=_0x199475,this['_projMatDi'+'rty']=!(0x1246+-0x2059*-0x1+-0x1*0x329f);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x5b2762){this['_calculate'+'Transform']=_0x5b2762;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x5c20dd){this['_clearColo'+'r']['copy'](_0x5c20dd);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x4f4095){this['_clearColo'+'rBuffer']=_0x4f4095;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x2ac953){this['_clearDept'+'h']=_0x2ac953;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x1b99b4){this['_clearDept'+'hBuffer']=_0x1b99b4;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x42e245){this['_clearSten'+'cil']=_0x42e245;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x4f736c){this['_clearSten'+'cilBuffer']=_0x4f736c;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x546d35){this['_cullFaces']=_0x546d35;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x49037d){this['_farClip']!==_0x49037d&&(this['_farClip']=_0x49037d,this['_projMatDi'+'rty']=!(-0x1f*0x2e+0x23d*0x9+-0xe93));}get['farClip'](){var _0x2b996e;return(_0x2b996e=this['xr'])!=null&&_0x2b996e['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x39ad4d){this['_flipFaces']=_0x39ad4d;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x16b736){this['_fov']!==_0x16b736&&(this['_fov']=_0x16b736,this['_projMatDi'+'rty']=!(-0x9cd*0x2+0x1468+-0x1*0xce));}get['fov'](){var _0xdb4998;return(_0xdb4998=this['xr'])!=null&&_0xdb4998['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x2c4c74){this['_frustumCu'+'lling']=_0x2c4c74;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x2c3c0e){this['_horizonta'+'lFov']!==_0x2c3c0e&&(this['_horizonta'+'lFov']=_0x2c3c0e,this['_projMatDi'+'rty']=!(0x1d9e+0x245+0x1fe3*-0x1));}get['horizontal'+'Fov'](){var _0xb0b57b;return(_0xb0b57b=this['xr'])!=null&&_0xb0b57b['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x2daaa2){this['_layers']=_0x2daaa2['slice'](0x17a6+0x3*0x95d+-0x33bd),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x147ca6){this['_nearClip']!==_0x147ca6&&(this['_nearClip']=_0x147ca6,this['_projMatDi'+'rty']=!(0xa7*0x16+0x260e+-0x3468));}get['nearClip'](){var _0x12fafc;return(_0x12fafc=this['xr'])!=null&&_0x12fafc['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x4f448d){this['_node']=_0x4f448d;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x22e4a6){this['_orthoHeig'+'ht']!==_0x22e4a6&&(this['_orthoHeig'+'ht']=_0x22e4a6,this['_projMatDi'+'rty']=!(0x16ca+-0x1*-0x71+-0x13*0x139));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x2baa63){this['_projectio'+'n']!==_0x2baa63&&(this['_projectio'+'n']=_0x2baa63,this['_projMatDi'+'rty']=!(0xf*-0xbb+0x1*0x21+0xad4));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x45a5c5){this['_rect']['copy'](_0x45a5c5);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x10f0ad){this['_renderTar'+'get']=_0x10f0ad;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x5ab0ca){this['_scissorRe'+'ct']['copy'](_0x5ab0ca);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x2ee172=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x2ee172)['invert'](),this['_viewMatDi'+'rty']=!(-0x9*0x261+-0x3*0xb51+0x375d);}return this['_viewMat'];}set['aperture'](_0x16ff2e){this['_aperture']=_0x16ff2e;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x3fbb58){this['_sensitivi'+'ty']=_0x3fbb58;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x3c5402){this['_shutter']=_0x3c5402;}get['shutter'](){return this['_shutter'];}set['xr'](_0x2164ef){this['_xr']!==_0x2164ef&&(this['_xr']=_0x2164ef,this['_projMatDi'+'rty']=!(-0x26d9+-0x1d5f+-0x3b*-0x128));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x4b7098){return this['_aspectRat'+'io']=_0x4b7098['_aspectRat'+'io'],this['_farClip']=_0x4b7098['_farClip'],this['_fov']=_0x4b7098['_fov'],this['_horizonta'+'lFov']=_0x4b7098['_horizonta'+'lFov'],this['_nearClip']=_0x4b7098['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x4b7098['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x4b7098['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x4b7098['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x4b7098['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x4b7098['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x4b7098['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x4b7098['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x4b7098['calculateT'+'ransform'],this['clearColor']=_0x4b7098['clearColor'],this['clearColor'+'Buffer']=_0x4b7098['clearColor'+'Buffer'],this['clearDepth']=_0x4b7098['clearDepth'],this['clearDepth'+'Buffer']=_0x4b7098['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x4b7098['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x4b7098['clearStenc'+'ilBuffer'],this['cullFaces']=_0x4b7098['cullFaces'],this['flipFaces']=_0x4b7098['flipFaces'],this['frustumCul'+'ling']=_0x4b7098['frustumCul'+'ling'],this['layers']=_0x4b7098['layers'],this['orthoHeigh'+'t']=_0x4b7098['orthoHeigh'+'t'],this['projection']=_0x4b7098['projection'],this['rect']=_0x4b7098['rect'],this['renderTarg'+'et']=_0x4b7098['renderTarg'+'et'],this['scissorRec'+'t']=_0x4b7098['scissorRec'+'t'],this['aperture']=_0x4b7098['aperture'],this['shutter']=_0x4b7098['shutter'],this['sensitivit'+'y']=_0x4b7098['sensitivit'+'y'],this['shaderPass'+'Info']=_0x4b7098['shaderPass'+'Info'],this['jitter']=_0x4b7098['jitter'],this['_projMatDi'+'rty']=!(0x7*-0x10b+-0x1*0x1b79+0x2*0x1163),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x2e1726,_0xc0df2){var _0x2dfe1c;_0xc0df2?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x2e1726)):((_0x2dfe1c=this['renderPass'+'ColorGrab'])==null||_0x2dfe1c['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x414f1d,_0x67919c,_0x2abf76){var _0x4253f0;_0x2abf76?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0x414f1d,this)):((_0x4253f0=this['renderPass'+'DepthGrab'])==null||_0x4253f0['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(0x13ce+-0x19ab+-0x2ef*-0x2));}['worldToScr'+'een'](_0x3f42d6,_0x27df85,_0x396aa3,_0x30fe20=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x3f42d6,_0x30fe20);const _0x46de2e=this['_viewProjM'+'at']['data'],_0x405aa1=_0x3f42d6['x']*_0x46de2e[0x452*0x1+-0x2b*0x95+0x14b8]+_0x3f42d6['y']*_0x46de2e[-0x1*-0x1844+0x1c07+-0x3444]+_0x3f42d6['z']*_0x46de2e[0xa91+0x59c+-0x1022]+(0x1c76+0x2d*-0x91+-0x2f8)*_0x46de2e[-0x197b*-0x1+-0x26a7+0xd3b];return _0x30fe20['x']=(_0x30fe20['x']/_0x405aa1+(-0x56*-0x65+-0xf6d+0x250*-0x8))*(0x46f*-0x1+-0x950+0xdbf+0.5)*_0x27df85,_0x30fe20['y']=(-0x1ad6+-0x198d*-0x1+-0x21*-0xa-_0x30fe20['y']/_0x405aa1)*(-0x76*-0x17+0x1c*0x29+-0xf16*0x1+0.5)*_0x396aa3,_0x30fe20;}['screenToWo'+'rld'](_0x11723d,_0x2fa6e4,_0x1fa0d1,_0x37bbaf,_0x826b56,_0x3a7efa=new T()){const _0x43342e=this['farClip']-this['nearClip'];if(En['set'](_0x11723d/_0x37bbaf,(_0x826b56-_0x2fa6e4)/_0x826b56,_0x1fa0d1/_0x43342e),En['mulScalar'](-0x15*0xea+-0xae9+0x1*0x1e1d),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize']($a,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),$a['x']*=En['x'],$a['y']*=En['y'];const _0x98c341=this['_node']['getWorldTr'+'ansform']();$a['z']=-this['nearClip'],_0x98c341['transformP'+'oint']($a,Qm);const _0x1ca2dd=this['_node']['getPositio'+'n']();_0x3a7efa['sub2'](Qm,_0x1ca2dd),_0x3a7efa['normalize'](),_0x3a7efa['mulScalar'](_0x1fa0d1),_0x3a7efa['add'](_0x1ca2dd);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x3a7efa);return _0x3a7efa;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x5ce80f=this['_orthoHeig'+'ht'],_0x553a03=_0x5ce80f*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x553a03,_0x553a03,-_0x5ce80f,_0x5ce80f,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0xab*-0x2f+0x1a*0x101+-0x397e);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x2b3e83=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x24cc+-0xca7+0x3*0x109d)/this['_sensitivi'+'ty']);return(-0x763*0x5+-0xdf1*-0x1+0x16ff)/(Math['pow'](0xd78+0x18f4+0x21*-0x12a,_0x2b3e83)*(0xdeb*0x1+0x7ea+0x2c*-0x7f+0.19999999999999996));}['getScreenS'+'ize'](_0x4abf23){if(this['_projectio'+'n']===Gs){const _0x1500a5=this['_node']['getPositio'+'n']()['distance'](_0x4abf23['center']);if(_0x1500a5<_0x4abf23['radius'])return 0x12b3*-0x1+0x8*0x2fb+0x1c*-0x2f;const _0x65ca39=Math['asin'](_0x4abf23['radius']/_0x1500a5),_0x544b26=Math['tan'](_0x65ca39),_0x5f4ace=Math['tan'](this['fov']/(0x3*0xa92+0x11ab+-0x17f*0x21)*N['DEG_TO_RAD']);return Math['min'](_0x544b26/_0x5f4ace,-0x152c+0x1*-0x2fb+0x1828);}return N['clamp'](_0x4abf23['radius']/this['_orthoHeig'+'ht'],-0x117a*0x1+-0x5*-0x581+-0xa0b,0x1bc4*0x1+0x1*0x25bd+-0x4180);}['getFrustum'+'Corners'](_0x56495e=this['nearClip'],_0x1e7c50=this['farClip']){const _0x803329=this['fov']*Math['PI']/(0x12d9*0x1+-0x24a7*0x1+-0x2*-0x941);let _0xaebf7f,_0x1b4cf7;this['projection']===Gs?this['horizontal'+'Fov']?(_0xaebf7f=_0x56495e*Math['tan'](_0x803329/(-0x2d2+-0x1a65+0x1d39)),_0x1b4cf7=_0xaebf7f/this['aspectRati'+'o']):(_0x1b4cf7=_0x56495e*Math['tan'](_0x803329/(0x1e50+-0x1*-0x1f84+-0x3dd2)),_0xaebf7f=_0x1b4cf7*this['aspectRati'+'o']):(_0x1b4cf7=this['_orthoHeig'+'ht'],_0xaebf7f=_0x1b4cf7*this['aspectRati'+'o']);const _0x9d4b98=pC;return _0x9d4b98[0x196e+-0xc42+-0xd2c]['x']=_0xaebf7f,_0x9d4b98[-0x1*-0x188f+-0x1f19+-0x9*-0xba]['y']=-_0x1b4cf7,_0x9d4b98[0xfb2+-0x1d*-0x141+-0x340f]['z']=-_0x56495e,_0x9d4b98[0x23d7+0x1*0x79+-0x244f]['x']=_0xaebf7f,_0x9d4b98[-0x10db+0x1124+-0x48]['y']=_0x1b4cf7,_0x9d4b98[-0xb1*-0x25+0x1100+0x32*-0xda]['z']=-_0x56495e,_0x9d4b98[0x1f1c+0x1827+-0x3741]['x']=-_0xaebf7f,_0x9d4b98[-0xadd+-0x2688+0x3167]['y']=_0x1b4cf7,_0x9d4b98[0x1c8b+0x20dc+-0x3*0x1477]['z']=-_0x56495e,_0x9d4b98[-0xd*-0x272+0x238d+-0x4354]['x']=-_0xaebf7f,_0x9d4b98[-0x5b*-0x4e+0x98b+-0x2542]['y']=-_0x1b4cf7,_0x9d4b98[-0x861+0x1*0x212b+0x1*-0x18c7]['z']=-_0x56495e,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0xaebf7f=_0x1e7c50*Math['tan'](_0x803329/(-0x17*0x9e+0xa73+0x3c1)),_0x1b4cf7=_0xaebf7f/this['aspectRati'+'o']):(_0x1b4cf7=_0x1e7c50*Math['tan'](_0x803329/(-0x1*-0xa52+0x22a5+-0x2cf5)),_0xaebf7f=_0x1b4cf7*this['aspectRati'+'o'])),_0x9d4b98[0x41+-0x17*-0x75+0x1*-0xac0]['x']=_0xaebf7f,_0x9d4b98[0x2*-0x1159+0x24b6+-0x200]['y']=-_0x1b4cf7,_0x9d4b98[0x25de+0x97*-0x26+-0xd*0x130]['z']=-_0x1e7c50,_0x9d4b98[-0x1*0x2561+0x5db+0x19*0x143]['x']=_0xaebf7f,_0x9d4b98[-0xa3b+-0x1b8d+0x1*0x25cd]['y']=_0x1b4cf7,_0x9d4b98[0x18fe*-0x1+-0x263d+0x3f40]['z']=-_0x1e7c50,_0x9d4b98[-0xc0e*0x1+0x19b9+-0x1f3*0x7]['x']=-_0xaebf7f,_0x9d4b98[-0x1808+-0x21df+0x39ed]['y']=_0x1b4cf7,_0x9d4b98[0x2020+0x1119+0x479*-0xb]['z']=-_0x1e7c50,_0x9d4b98[0xa6d+0x3d*0xa1+-0x30c3]['x']=-_0xaebf7f,_0x9d4b98[-0x5*0x6e+0x23f5*-0x1+-0x3*-0xcb6]['y']=-_0x1b4cf7,_0x9d4b98[0x15b5+0xe59+-0x17*0x191]['z']=-_0x1e7c50,_0x9d4b98;}['setXrPrope'+'rties'](_0x45a498){Object['assign'](this['_xrPropert'+'ies'],_0x45a498),this['_projMatDi'+'rty']=!(0x194d+0xf*-0x26+-0x1713);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0x4fba4b,_0x586be6,_0x42f37a){const _0x21546e=new ol();switch(_0x21546e['node']=new De(_0x4fba4b),_0x21546e['aspectRati'+'o']=0x9a8+-0x17a2+-0x3*-0x4a9,_0x21546e['aspectRati'+'oMode']=Bu,_0x21546e['_scissorRe'+'ctClear']=!(-0x1285+-0x2315+0x359a),_0x586be6){case Pe:_0x21546e['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x42f37a]),_0x21546e['fov']=-0x17a*-0x17+-0xfd5+-0x7b*0x25,_0x21546e['projection']=Gs;break;case Re:_0x21546e['projection']=Gs;break;case oe:_0x21546e['projection']=ua;break;}return _0x21546e;}static['evalSpotCo'+'okieMatrix'](_0x59cc4a){let _0x144215=Qi['_spotCooki'+'eCamera'];_0x144215||(_0x144215=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x144215),_0x144215['fov']=_0x59cc4a['_outerCone'+'Angle']*(-0x1905+-0x1*-0x1849+-0xa*-0x13);const _0x1640e0=_0x144215['_node'];_0x1640e0['setPositio'+'n'](_0x59cc4a['_node']['getPositio'+'n']()),_0x1640e0['setRotatio'+'n'](_0x59cc4a['_node']['getRotatio'+'n']()),_0x1640e0['rotateLoca'+'l'](-(-0x2252+0x1719+0xb93),-0x1323*0x1+0x1e97+-0xb74,0x7*0x4cb+-0x24ee*0x1+0x1*0x361),e_['setTRS'](_0x1640e0['getPositio'+'n'](),_0x1640e0['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x144215['projection'+'Matrix'],e_);const _0x122e03=_0x59cc4a['cookieMatr'+'ix'],_0x5c9751=_0x59cc4a['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x5c9751['x'],_0x5c9751['y'],_0x5c9751['z'],_0x5c9751['w']),_0x122e03['mul2'](s_,t_),_0x122e03;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](-0x23af+0xcfd+-0xa*-0x245,0x4f*-0x2+-0x122b+0x1323,0x16c2+0x875+-0x1e83),new se()['setFromEul'+'erAngles'](0x3fb*0x7+0x147b+-0x3058,-(-0xd27+0x1*-0x13a9+0x351*0xa),-0x247d*-0x1+-0x75f*0x3+0x4*-0x36b),new se()['setFromEul'+'erAngles'](0x8ba*-0x2+0x262b+0x191*-0xd,0x1c8a+-0xeb9+-0xdd1,0x2*-0x2d6+-0x24a6+0x2a52),new se()['setFromEul'+'erAngles'](-(0x26ed+0x2*0x653+-0x3339),0x2*-0xa70+-0x90f*0x1+-0x4f*-0x61,0xc04+0x2b*0x1a+-0x1062),new se()['setFromEul'+'erAngles'](0x2*-0x3d4+-0x127d*-0x1+0x1*-0xad5,0x599+-0x9*0x3ed+0x1e70,0x9fa+0x108*-0x23+0x1ad2),new se()['setFromEul'+'erAngles'](0x2152+0x1*-0x1b0e+0x1*-0x644,-0x1c6b+-0x11*-0x10+-0x2f*-0x95,0x93b*-0x4+-0x41e*0x4+-0x8*-0x6c3)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=-0x23a8+-0x1*0x2263+-0x3*-0x1759+0.000001,Zt=new T(),xr=new Float32Array(0x1488+0x2*0xfeb+-0x3458),mC=new T(-(-0x93e+-0x150c+0x1e4a+0.5),-0xc*-0x297+-0x182*0xd+-0xb7a,0x18d3+-0x17b3+-0x120),_C=new T(0x185*0x15+0x13a7+-0x3390,-0x1*-0x16eb+-0x2ae*-0x5+-0x3*0xc1b,-0x1724+-0x8*-0x179+-0x2*-0x5ae+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x2b6323){c(this,'areaLights'+'Enabled',!(-0x5+-0x3*-0xb9b+0x22cb*-0x1)),(this['device']=_0x2b6323,this['cookiesEna'+'bled']=!(0x1458+-0x1761+0x2*0x185),this['shadowsEna'+'bled']=!(-0x1c+0x24e+-0x231),this['areaLights'+'Enabled']=!(0x1170+-0x2516*-0x1+-0x335*0x11),this['maxLights']=0xd*-0xa3+0x164*0xa+0x4a2*-0x1);const _0x383518=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((0x23*0x26+0xf5a+0x291*-0x8)*_0x383518*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x383518,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x56fa31=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x1*0x2309+-0x178c+0x3a99)*_0x56fa31*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x56fa31,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x15fb+-0x4f*0x7e+-0x1*-0x10e7,this['invMaxAtte'+'nuation']=-0x2187*-0x1+0x1*-0x4cf+-0x1cb8*0x1,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x3ec47f=(_0xfa00e5,_0x3d3b30)=>Object['keys'](_0xfa00e5)['map'](_0x41d427=>'#define\x20'+_0x3d3b30+_0x41d427+'\x20'+_0xfa00e5[_0x41d427])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ec47f(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x3ec47f(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0x3e0ee0,_0x10f2ae;(_0x3e0ee0=this['lightsText'+'ure8'])==null||_0x3e0ee0['destroy'](),this['lightsText'+'ure8']=null,(_0x10f2ae=this['lightsText'+'ureFloat'])==null||_0x10f2ae['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x28c4a2,_0x281d27,_0x2ef378,_0x1391de,_0x9e9e64){return new he(_0x28c4a2,{'name':_0x9e9e64,'width':_0x281d27,'height':_0x2ef378,'mipmaps':!(0x1c43*-0x1+0x2*-0xd82+0x3748),'format':_0x1391de,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x2dc0a9,_0xb721df){this['invMaxColo'+'rValue']=(0x7*-0x4a0+-0x5*-0x78b+-0x556)/_0xb721df,this['invMaxAtte'+'nuation']=(-0xa57*0x3+-0x241b+0x4321)/_0x2dc0a9;}['setBounds'](_0x4b6ad9,_0x1a1213){this['boundsMin']['copy'](_0x4b6ad9),this['boundsDelt'+'a']['copy'](_0x1a1213);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x3602f5,_0x28e7a4){_0x28e7a4['_node']['getWorldTr'+'ansform']()['getY'](_0x3602f5)['mulScalar'](-(0x15b0+-0x3e1+0x8e7*-0x2)),_0x3602f5['normalize']();}['getLightAr'+'eaSizes'](_0x25ee37){const _0x21c064=_0x25ee37['_node']['getWorldTr'+'ansform']();return _0x21c064['transformV'+'ector'](mC,Zt),xr[0x17*0x115+-0x2*-0x1159+-0x3b95]=Zt['x'],xr[0x5b1+0x1e73+0x349*-0xb]=Zt['y'],xr[0x10ff+-0xef7+-0x206]=Zt['z'],_0x21c064['transformV'+'ector'](_C,Zt),xr[0x1*-0x2b9+-0x2249+0x2505]=Zt['x'],xr[-0x1*0x241c+0x1a64+-0x1c*-0x59]=Zt['y'],xr[0x5*-0x7cd+-0x8db+0x67*0x77]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0x524c57,_0x17a4d7,_0x455433,_0x117ee3,_0x3850ff,_0x194e17){_0x524c57[_0x17a4d7+(-0x22e8+0x1*-0x2215+0x44fd)]=_0x117ee3?0x1013+-0x2*0xf09+0xefe:0xb6*0x20+0x8b*-0x44+0x2*0x716,_0x524c57[_0x17a4d7+(-0x1cf*-0xb+0x1*0x1b4+0x566*-0x4)]=this['areaLights'+'Enabled']?_0x455433['_shape']*(-0x1da5*0x1+0x21*-0xca+-0x14d*-0x2b):0x213b+0xc3f*-0x2+-0x1*0x8bd,_0x524c57[_0x17a4d7+(-0x18db+0x1708+-0x7*-0x43)]=_0x455433['_falloffMo'+'de']*(-0x7dc+0x1*-0xe79+0x1754),_0x524c57[_0x17a4d7+(0xb*-0x337+0x13*-0x175+0x3f0f)]=_0x3850ff?_0x194e17*(0x55*-0x40+-0x2038+0x3677):0x64*0x47+-0x22b7*0x1+0x6fb*0x1;}['addLightDa'+'taColor'](_0x185d2d,_0x377494,_0x5bee6e,_0x50acc0){const _0x24ca9a=this['invMaxColo'+'rValue'],_0x37b3df=_0x5bee6e['_colorLine'+'ar'];$t['float2Byte'+'s'](_0x37b3df[-0x67f+-0xae2*-0x1+-0x463]*_0x24ca9a,_0x185d2d,_0x377494+(-0x15e3*0x1+-0x1f1*-0x1+0x13f2),-0x198a+0x7c*-0x2a+0x2de4),$t['float2Byte'+'s'](_0x37b3df[0x959+0x107*0x6+0x31a*-0x5]*_0x24ca9a,_0x185d2d,_0x377494+(-0x53*-0x37+-0x2482+0x1*0x12af),-0x16ed*-0x1+-0x2*0x94a+-0x457),$t['float2Byte'+'s'](_0x37b3df[0x70+-0x4b7*0x8+0x254a]*_0x24ca9a,_0x185d2d,_0x377494+(0x17bb+0x7*0x4be+-0x38e9),-0xf4e*-0x1+-0x1*-0x1625+-0x2571),_0x185d2d[_0x377494+(-0xe*0x22b+-0xa3d+0x289d)]=_0x50acc0?-0x4*0x512+-0x17e1*0x1+0x5*0x908:-0x2ff*-0xb+0x1a1e+-0x3*0x13b1;const _0x5aa452=!!(_0x5bee6e['mask']&hs),_0xebe842=!!(_0x5bee6e['mask']&cr);_0x185d2d[_0x377494+(0x139b+-0xe7a+-0x2*0x28d)]=_0x5aa452&&_0xebe842?0xb*-0x2e6+0x56b*-0x4+0x1*0x360d:_0xebe842?0x31*0x1d+-0x22e6+0x1e58*0x1:0x5bf*-0x1+0x743*0x1+-0x4*0x61;}['addLightDa'+'taSpotAngl'+'es'](_0x2ba879,_0xf55f02,_0x5f0512){$t['float2Byte'+'s'](_0x5f0512['_innerCone'+'AngleCos']*(-0x18da*-0x1+-0x724*-0x2+-0x1391*0x2+0.5-i_)+(-0x3a9+0x5e7*-0x1+0x990+0.5),_0x2ba879,_0xf55f02+(0x220+-0x207d+-0x3*-0xa1f),0x1e34+0xcc7+-0x2af9*0x1),$t['float2Byte'+'s'](_0x5f0512['_outerCone'+'AngleCos']*(0x1c11+0x2069*0x1+0x2*-0x1e3d+0.5-i_)+(-0xea4+0x165a+-0x7b6+0.5),_0x2ba879,_0xf55f02+(-0x1994+0x2*0x11e9+0x4*-0x28f),0xd88+-0x11ec+-0x2*-0x233);}['addLightDa'+'taShadowBi'+'as'](_0x1b6b81,_0x32b6e5,_0xf2e396){const _0x1ab7dd=_0xf2e396['getRenderD'+'ata'](null,-0x20d+-0x11b9+0x9e3*0x2),_0x3024c8=_0xf2e396['_getUnifor'+'mBiasValue'+'s'](_0x1ab7dd);$t['float2Byte'+'sRange'](_0x3024c8['bias'],_0x1b6b81,_0x32b6e5,-(-0x11*0x163+-0x24fd*-0x1+0x1*-0xd69),-0x17*0xf1+0x9f*0x7+0x1162,-0x229f+-0x7dd*-0x1+0x1ac4),$t['float2Byte'+'s'](_0x3024c8['normalBias'],_0x1b6b81,_0x32b6e5+(-0x9*-0x2fa+-0x157+-0x1971),-0x2700+-0x2*0x4e+0x39a*0xb);}['addLightDa'+'taCookies'](_0x5f348a,_0x32238f,_0x4be80b){const _0x27f50e=_0x4be80b['_cookieCha'+'nnel']==='rgb';if(_0x5f348a[_0x32238f+(-0xde*0x1f+-0x1a6c+-0x354e*-0x1)]=Math['floor'](_0x4be80b['cookieInte'+'nsity']*(0x11+-0x8*0x486+0x128f*0x2)),_0x5f348a[_0x32238f+(0x5*-0x67d+0x14b*0x18+0x16a*0x1)]=_0x27f50e?0x1*-0xbdb+0x1c91+-0xfb7:0xce+0x2*0x8b5+-0x1238*0x1,!_0x27f50e){const _0x5c1fd7=_0x4be80b['_cookieCha'+'nnel'];_0x5f348a[_0x32238f+(-0x22*0xe3+-0x662+-0x1246*-0x2)]=_0x5c1fd7==='rrr'?0x1bb6+-0x169*-0x1b+-0x1*0x40ca:-0x2*0x12e5+0x152*0xd+0x14a0,_0x5f348a[_0x32238f+(-0x3*0x5d7+0xe40+0x34a)]=_0x5c1fd7==='ggg'?0x2*0x6c7+-0x5e3*-0x2+0x1*-0x1855:-0x1dde+-0x3a*0x97+0x4014,_0x5f348a[_0x32238f+(-0x1b10+-0x2ec+0x1e02)]=_0x5c1fd7==='bbb'?-0xa38+0x142b+-0x8f4:-0x3e0*0xa+0x1346*0x1+0x2*0x9bd,_0x5f348a[_0x32238f+(0x1*0x102b+0x9e*-0x12+0x508*-0x1)]=_0x5c1fd7==='aaa'?-0xceb*0x2+-0x827*0x1+-0x22fc*-0x1:0x243f+0x24c3+-0x4902;}}['addLightDa'+'ta'](_0x53ceba,_0x920285){const _0x3378d8=_0x53ceba['_type']===Re,_0x47d8f0=_0x53ceba['atlasViewp'+'ortAllocat'+'ed'],_0x4ed6c0=this['cookiesEna'+'bled']&&!!_0x53ceba['_cookie']&&_0x47d8f0,_0x5e2cc5=this['areaLights'+'Enabled']&&_0x53ceba['shape']!==yt,_0x42f6b3=this['shadowsEna'+'bled']&&_0x53ceba['castShadow'+'s']&&_0x47d8f0,_0x442944=_0x53ceba['_node']['getPositio'+'n']();let _0x543962=null,_0x1c32da=null;_0x3378d8?_0x42f6b3?_0x543962=_0x53ceba['getRenderD'+'ata'](null,-0x610+-0x94*0x16+0x259*0x8)['shadowMatr'+'ix']:_0x4ed6c0&&(_0x543962=Ma['evalSpotCo'+'okieMatrix'](_0x53ceba)):(_0x42f6b3||_0x4ed6c0)&&(_0x1c32da=_0x53ceba['atlasViewp'+'ort']);const _0x1fe3b5=this['lights8'],_0x3f4bb1=_0x920285*this['lightsText'+'ure8']['width']*(0x605+-0x293*0x6+0x971*0x1);this['addLightDa'+'taFlags'](_0x1fe3b5,_0x3f4bb1+(0x8dc+0x1a34+-0x230c)*Sr['FLAGS'],_0x53ceba,_0x3378d8,_0x42f6b3,_0x53ceba['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x1fe3b5,_0x3f4bb1+(0x61*-0x3c+0xf*0x1+-0x25*-0x9d)*Sr['COLOR_A'],_0x53ceba,_0x4ed6c0),_0x3378d8&&this['addLightDa'+'taSpotAngl'+'es'](_0x1fe3b5,_0x3f4bb1+(0x27*0x8d+-0x8b*0x25+-0x160)*Sr['SPOT_ANGLE'+'S'],_0x53ceba),_0x53ceba['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x1fe3b5,_0x3f4bb1+(0x261d+-0x1*0xef7+0x3f*-0x5e)*Sr['SHADOW_BIA'+'S'],_0x53ceba),_0x4ed6c0&&this['addLightDa'+'taCookies'](_0x1fe3b5,_0x3f4bb1+(-0xa6*0xb+0x2*0x30f+0x108)*Sr['COOKIE_A'],_0x53ceba);const _0x327f7b=this['lightsFloa'+'t'],_0x4a2a43=_0x920285*this['lightsText'+'ureFloat']['width']*(-0x4*-0x63d+0x139c+0xb23*-0x4);if(_0x327f7b[_0x4a2a43+(0x2455+-0x1*-0x17c5+0x3c16*-0x1)*lt['POSITION_R'+'ANGE']+(0x865+0x259*0xd+0x125*-0x22)]=_0x442944['x'],_0x327f7b[_0x4a2a43+(0x1*0x1986+-0x202a+0x6a8)*lt['POSITION_R'+'ANGE']+(0xd2d*0x1+0x1b6d+-0x2899)]=_0x442944['y'],_0x327f7b[_0x4a2a43+(0x45a*-0x7+0x9*0x332+0x1b8)*lt['POSITION_R'+'ANGE']+(0x3c9+0xe38+-0x11ff)]=_0x442944['z'],_0x327f7b[_0x4a2a43+(0x716+0x2624+-0x2d36)*lt['POSITION_R'+'ANGE']+(-0x9*0x25+-0x5*-0x27+-0x8d*-0x1)]=_0x53ceba['attenuatio'+'nEnd'],_0x3378d8&&(this['getSpotDir'+'ection'](Zt,_0x53ceba),_0x327f7b[_0x4a2a43+(-0xcb+-0xf6*0x7+-0x789*-0x1)*lt['SPOT_DIREC'+'TION']+(-0x1c3d*0x1+0x670*0x4+0x27d*0x1)]=Zt['x'],_0x327f7b[_0x4a2a43+(0x2037+0x1099+-0x411*0xc)*lt['SPOT_DIREC'+'TION']+(0x59f+-0xee+-0x4b0)]=Zt['y'],_0x327f7b[_0x4a2a43+(-0x65*0x45+-0x2bf*-0x3+0x1300*0x1)*lt['SPOT_DIREC'+'TION']+(-0xb*-0x30a+0xb1d+0xd*-0x36d)]=Zt['z']),_0x543962){const _0x2d2be2=_0x543962['data'];for(let _0x5c3397=-0x2*-0xa31+0x1*-0x1a17+0x3*0x1e7;_0x5c3397<-0x143*-0x1+-0x9f*0x2d+0x10*0x1ac;_0x5c3397++)_0x327f7b[_0x4a2a43+(0x1*0x2519+0x46f*-0x1+0x1*-0x20a6)*lt['PROJ_MAT_0']+_0x5c3397]=_0x2d2be2[_0x5c3397];}if(_0x1c32da&&(_0x327f7b[_0x4a2a43+(0x114*0x8+-0xd*-0x119+-0x16e1)*lt['ATLAS_VIEW'+'PORT']+(-0x1*0x1d5d+0x21df*-0x1+0x3f3c)]=_0x1c32da['x'],_0x327f7b[_0x4a2a43+(-0x962+-0x1261+0x223*0xd)*lt['ATLAS_VIEW'+'PORT']+(-0x1864+-0x14a4+0x2d09)]=_0x1c32da['y'],_0x327f7b[_0x4a2a43+(0x2fa*0x7+0x4*0x503+-0x28de)*lt['ATLAS_VIEW'+'PORT']+(0x1ab+-0x125*-0x3+-0x518)]=_0x1c32da['z']/(-0x18e0+0xfb*-0xb+-0x8eb*-0x4)),_0x5e2cc5){const _0x214998=this['getLightAr'+'eaSizes'](_0x53ceba);_0x327f7b[_0x4a2a43+(-0x64a+0x2632+-0x1fe4)*lt['AREA_DATA_'+'WIDTH']+(0x8b4+-0x39*0x9+-0x7*0xf5)]=_0x214998[-0x251a+-0x74d+-0x3*-0xecd],_0x327f7b[_0x4a2a43+(-0xf2f*-0x1+0x1*0x12df+-0x220a)*lt['AREA_DATA_'+'WIDTH']+(0x1*0x8e8+0x24d6+0x1*-0x2dbd)]=_0x214998[0x9*0x294+-0x1*0x11e1+0x2*-0x2a9],_0x327f7b[_0x4a2a43+(-0xdc3*0x1+-0x1*0x1d14+-0x9*-0x4c3)*lt['AREA_DATA_'+'WIDTH']+(-0x2*0x658+-0x119e+0x1e50)]=_0x214998[0x33f*0x4+0xeba+0x2*-0xdda],_0x327f7b[_0x4a2a43+(-0xb52+-0xe4a*0x1+0x19a0)*lt['AREA_DATA_'+'HEIGHT']+(-0xcd+-0x192b+0x19f8)]=_0x214998[0x2319*0x1+0xded+-0x3103],_0x327f7b[_0x4a2a43+(0x319+-0x59*-0x5+0x2*-0x269)*lt['AREA_DATA_'+'HEIGHT']+(0x22f5+0x3c5+-0x26b9)]=_0x214998[0x11c2+0x15a4+-0x2762],_0x327f7b[_0x4a2a43+(-0x2*-0x61+0x1acd+-0x281*0xb)*lt['AREA_DATA_'+'HEIGHT']+(-0x2477*0x1+0xf4c+0x8b*0x27)]=_0x214998[-0x1*-0x1bc5+0x195c+-0x135*0x2c];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=0x12*-0x1cb+0x205b+-0x15+0.000001,n_=-0x3*0x189+0x4f1+0xfaa;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x4b9238){c(this,'clusterTex'+'ture'),(this['device']=_0x4b9238,this['name']='Untitled',this['reportCoun'+'t']=-0xb69+-0x727*-0x1+0x442,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(0xa6b+0x3*-0x3d+-0x9b3,0x5c*0x56+0x362+-0x2249,-0x15c0+0x1991+-0x3d0),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0xff7*-0x1+-0x133*0x7+0x1*-0x78e,this['_maxAttenu'+'ation']=-0x22e0+-0x2*-0x724+0x1498,this['_maxColorV'+'alue']=0x1a73+-0x1*-0x552+-0x1fc5,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x4b9238),this['registerUn'+'iforms'](_0x4b9238));}set['maxCellLig'+'htCount'](_0x291b53){_0x291b53!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x291b53,this['_cellsDirt'+'y']=!(-0x2*-0x2c8+-0x201+-0x38f));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x1b9084){Ml['copy'](_0x1b9084)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(-0x2*0xa5f+-0xa2+0x1560));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0xc242b1){this['_clusterSk'+'ipId']=_0xc242b1['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0xc242b1['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0xc242b1['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0xc242b1['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0xc33+0x7*0x1be+0x1*0x4),this['_clusterBo'+'undsMinId']=_0xc242b1['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x2eb*0x2+0xa5+0x678*-0x1),this['_clusterBo'+'undsDeltaI'+'d']=_0xc242b1['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0xe*-0x2c7+0x1887+0xe5e),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0xc242b1['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x1e*0x140+-0x1818+0x3*-0x477),this['_clusterCe'+'llsDotId']=_0xc242b1['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x92a+-0x18c8+-0xfa1*-0x1),this['_clusterCe'+'llsMaxId']=_0xc242b1['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x1*0x1f16+0x3*-0xb6f+0x33a*0x1),this['_clusterCo'+'mpressionL'+'imit0Id']=_0xc242b1['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(0x327+-0xce*-0x2+0x1*-0x4c1);}['updatePara'+'ms'](_0x3c429e){_0x3c429e&&(this['cells']=_0x3c429e['cells'],this['maxCellLig'+'htCount']=_0x3c429e['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x3c429e['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x3c429e['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x3c429e['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x15a*-0x3+-0x1*-0x842+-0x433);const _0x1ea50c=this['_cells']['x'],_0x338611=this['_cells']['y'],_0x4ee535=this['_cells']['z'],_0x34f342=_0x1ea50c*_0x338611*_0x4ee535,_0x5a195e=this['maxCellLig'+'htCount']*_0x34f342;let _0x5d3e2f=Math['ceil'](Math['sqrt'](_0x5a195e));_0x5d3e2f=N['roundUp'](_0x5d3e2f,this['maxCellLig'+'htCount']);const _0x4567b2=Math['ceil'](_0x5a195e/_0x5d3e2f);v['assert'](_0x5d3e2f<=n_&&_0x4567b2<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x33*0x66+-0x20b5+0x3507]=_0x1ea50c,this['_clusterCe'+'llsMaxData'][0x6dc+-0x35*-0x3d+-0x137c]=_0x338611,this['_clusterCe'+'llsMaxData'][0x1053+0x1d07*0x1+0x4*-0xb56]=_0x4ee535,this['_clusterCe'+'llsDotData'][-0x2*0xbdb+0x234e+-0xb98]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0xb3d+0xc64+0x7e*-0x30]=_0x1ea50c*_0x4ee535*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x685+0x1728+-0x9b*0x31]=_0x1ea50c*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x5a195e),this['counts']=new Int32Array(_0x34f342),this['_clusterTe'+'xtureSizeD'+'ata'][0x2*0x1fc+0x21*0x9+-0x521]=_0x5d3e2f,this['_clusterTe'+'xtureSizeD'+'ata'][0x1765+0x66f+-0x1dd3]=(0x6a2+-0x12d*-0x1+-0x4a*0x1b)/_0x5d3e2f,this['_clusterTe'+'xtureSizeD'+'ata'][0x12e3+0x1f0c+-0x31ed*0x1]=(-0x4*-0x2+-0x115*-0xe+0x5*-0x309)/_0x4567b2,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x5d3e2f,_0x4567b2,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x19e3+-0x1273+0x2c57?0x31a+-0x8*-0x2f9+0x25*-0xba:0x2528+-0x1fec+-0x67*0xd),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x1101fb=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1304+-0x1*-0x1d0e+0x125*-0x2a]=this['_cells']['x']/_0x1101fb['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1e1+-0x1f19+0x20fb]=this['_cells']['y']/_0x1101fb['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x3*-0x169+0x23fb*0x1+-0x2834]=this['_cells']['z']/_0x1101fb['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x2a0+0x18*-0xfe+0x1a70]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0xd15+0xc38+0xde]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0xd88+-0x1c3b+0x29c5]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x234f+-0x14c8+0x1*-0xe87]=_0x1101fb['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0xd*0x257+-0x6d0+-0x7de*0x3]=_0x1101fb['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1*0x2563+0x233d+-0x489e]=_0x1101fb['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][0xf03+-0x69a+0x869*-0x1]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x39*0x97+0x2345+-0x1*0x1a5]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0xc53bc4,_0x279a2f,_0x224e22){_0x279a2f['copy'](_0xc53bc4['min']),_0x279a2f['sub'](this['boundsMin']),_0x279a2f['div'](this['boundsDelt'+'a']),_0x279a2f['mul2'](_0x279a2f,this['cells']),_0x279a2f['floor'](),_0x224e22['copy'](_0xc53bc4['max']),_0x224e22['sub'](this['boundsMin']),_0x224e22['div'](this['boundsDelt'+'a']),_0x224e22['mul2'](_0x224e22,this['cells']),_0x224e22['ceil'](),_0x279a2f['max'](T['ZERO']),_0x224e22['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x13bc11){const _0x249067=this['lightsBuff'+'er']['maxLights'],_0x1209ad=this['_usedLight'+'s'];let _0x28dab9=-0x2*0x22d+-0x242c*-0x1+-0x1fd1;_0x13bc11['forEach'](_0x5ada9f=>{const _0x279429=!!(_0x5ada9f['mask']&(hs|cr)),_0x4bdbe6=_0x5ada9f['type']===Re&&_0x5ada9f['_outerCone'+'Angle']===0x67*0x4+-0x111e+0x18d*0xa;if(_0x5ada9f['enabled']&&_0x5ada9f['type']!==oe&&_0x5ada9f['visibleThi'+'sFrame']&&_0x5ada9f['intensity']>-0x1f57*-0x1+0x243a*0x1+-0x4391*0x1&&_0x279429&&!_0x4bdbe6){if(_0x28dab9<_0x249067){let _0x358058;_0x28dab9<_0x1209ad['length']?_0x358058=_0x1209ad[_0x28dab9]:(_0x358058=new a_(),_0x1209ad['push'](_0x358058)),_0x358058['light']=_0x5ada9f,_0x5ada9f['getBoundin'+'gBox'](bd),_0x358058['min']['copy'](bd['getMin']()),_0x358058['max']['copy'](bd['getMax']()),_0x28dab9++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x249067-(0x594+0x1*0x69f+-0xc32))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x1209ad['length']=_0x28dab9;}['evaluateBo'+'unds'](){const _0x380d96=this['_usedLight'+'s'],_0x4517d8=this['boundsMin'],_0x58cbca=this['boundsMax'];if(_0x380d96['length']>-0x1b05+-0x110b*0x1+0x2c11*0x1){_0x4517d8['copy'](_0x380d96[-0xf07*0x1+-0x6*0x67d+0x35f6]['min']),_0x58cbca['copy'](_0x380d96[0x25*0x9+0xc18+-0x2*0x6b2]['max']);for(let _0x4e97fa=0x4e3*-0x3+-0x1a57+0x1*0x2902;_0x4e97fa<_0x380d96['length'];_0x4e97fa++)_0x4517d8['min'](_0x380d96[_0x4e97fa]['min']),_0x58cbca['max'](_0x380d96[_0x4e97fa]['max']);}else _0x4517d8['set'](-0x1*0x107d+0xb3*-0x34+0x34d9,0x26a4+-0x17cd*-0x1+-0xc7d*0x5,0x3*-0x327+0xf34+-0x5bf),_0x58cbca['set'](-0x1*-0xb8d+0x1b73+-0x95*0x43,-0x822+-0xb*-0x37c+-0x1*0x1e31,-0xf26+-0xb*-0x2e7+-0x71*0x26);this['boundsDelt'+'a']['sub2'](_0x58cbca,_0x4517d8),this['lightsBuff'+'er']['setBounds'](_0x4517d8,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x8eabb3=-0x63a+0x350+0x2ea,_0x2e9f16=-0xe53*0x2+0x9a9*0x1+0x12fd;const _0x163079=this['_usedLight'+'s'];for(let _0x352ebf=-0x25cf+0x9*0x1b1+0x1697*0x1;_0x352ebf<_0x163079['length'];_0x352ebf++){const _0x57414e=_0x163079[_0x352ebf]['light'];_0x8eabb3=Math['max'](_0x57414e['attenuatio'+'nEnd'],_0x8eabb3);const _0x2c812b=_0x57414e['_colorLine'+'ar'];_0x2e9f16=Math['max'](_0x2c812b[0x3*0x237+-0x904+0x1*0x25f],_0x2e9f16),_0x2e9f16=Math['max'](_0x2c812b[-0x2303+0x6c9+-0xdb*-0x21],_0x2e9f16),_0x2e9f16=Math['max'](_0x2c812b[-0x8c4*0x1+0x5*0x45+0x76d],_0x2e9f16);}this['_maxAttenu'+'ation']=_0x8eabb3+r_,this['_maxColorV'+'alue']=_0x2e9f16+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x43b8f2){this['counts']['fill'](0xe82+-0x1*-0xef7+0x5*-0x5e5),this['clusters']['fill'](-0x108b+0x3b*0x9d+-0x13a4),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x43b8f2?_0x43b8f2['areaLights'+'Enabled']:!(-0x7cf*-0x1+-0x1a4+-0x62a);const _0xdf809f=this['_cells']['x'],_0xef370e=this['_cells']['z'],_0x5b2f44=this['counts'],_0x4bbc8e=this['_maxCellLi'+'ghtCount'],_0x271fef=this['clusters'],_0x4e425e=this['maxCellLig'+'htCount'];let _0x1096cc=!(-0x101*-0x19+0x3*-0x5db+-0x787);const _0x1a5722=this['_usedLight'+'s'];for(let _0x154d97=-0x14ca+0xbae*0x1+0x91d*0x1;_0x154d97<_0x1a5722['length'];_0x154d97++){const _0x6e3773=_0x1a5722[_0x154d97],_0x136bac=_0x6e3773['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x136bac,_0x154d97),this['evalLightC'+'ellMinMax'](_0x6e3773,Pl,Rl);const _0x1c93b7=Pl['x'],_0xd3d4fd=Rl['x'],_0x1684bc=Pl['y'],_0x225190=Rl['y'],_0x40bcd8=Pl['z'],_0x55893d=Rl['z'];for(let _0x5900d1=_0x1c93b7;_0x5900d1<=_0xd3d4fd;_0x5900d1++)for(let _0x1fc9e4=_0x40bcd8;_0x1fc9e4<=_0x55893d;_0x1fc9e4++)for(let _0xe4453c=_0x1684bc;_0xe4453c<=_0x225190;_0xe4453c++){const _0xd48dc4=_0x5900d1+_0xdf809f*(_0x1fc9e4+_0xe4453c*_0xef370e),_0x4cf58=_0x5b2f44[_0xd48dc4];_0x4cf58<_0x4bbc8e?(_0x271fef[_0x4e425e*_0xd48dc4+_0x4cf58]=_0x154d97,_0x5b2f44[_0xd48dc4]=_0x4cf58+(0x2318+-0x11*0x18f+-0x898)):_0x1096cc=!(0x29*0x27+-0x230e+0x1ccf);}}_0x1096cc&&this['reportCoun'+'t']<0xa65+0x3*-0xc75+0x1aff&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x51*0x5a+0x18c7*0x1+0x353d*-0x1?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x55557e,_0x312c29=null){this['updatePara'+'ms'](_0x312c29),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x55557e),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x312c29),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=-0x1*0xee3+0x15e5+-0x1c0*0x4+0.39996322972865306,ll={'circlePoint'(_0xdb7a5b){const _0x4081bd=Math['sqrt'](Math['random']()),_0x1d1db6=Math['random']()*(-0x1924+0x7f7*0x2+-0x5*-0x1d8)*Math['PI'];_0xdb7a5b['x']=_0x4081bd*Math['cos'](_0x1d1db6),_0xdb7a5b['y']=_0x4081bd*Math['sin'](_0x1d1db6);},'circlePointDeterministic'(_0x31049b,_0x33935f,_0x511e36){const _0x5d970c=_0x33935f*o_,_0x5b06d0=Math['sqrt'](_0x33935f)/Math['sqrt'](_0x511e36);_0x31049b['x']=_0x5b06d0*Math['cos'](_0x5d970c),_0x31049b['y']=_0x5b06d0*Math['sin'](_0x5d970c);},'spherePointDeterministic'(_0x16f796,_0x21c534,_0x20393c,_0x3c59d3=0x13*0xfe+-0x5*-0x329+-0x22a7,_0x708ca6=-0xd6+-0x4*0x3aa+-0xf7f*-0x1){_0x3c59d3=0x1*-0x1f2b+0x160f*0x1+0x91d*0x1-(0x25c6+-0x1e19+-0x7ab)*_0x3c59d3,_0x708ca6=0x1*-0x1ca5+0x2d7+0x19cf-(-0x5de+0x257*0x7+0xa81*-0x1)*_0x708ca6;const _0x3bb907=N['lerp'](_0x3c59d3,_0x708ca6,_0x21c534/_0x20393c),_0x4c68b4=Math['sqrt'](-0x215d+-0xa9b+0x2bf9-_0x3bb907*_0x3bb907),_0x68b2c0=o_*_0x21c534;_0x16f796['x']=Math['cos'](_0x68b2c0)*_0x4c68b4,_0x16f796['y']=_0x3bb907,_0x16f796['z']=Math['sin'](_0x68b2c0)*_0x4c68b4;},'radicalInverse'(_0x1c1d42){let _0x3b28b3=(_0x1c1d42<<0x5ab*-0x1+0x0+0x5bb|_0x1c1d42>>>0x1d61+-0x4*-0x1d2+-0x2499)>>>-0x1*0x38b+-0x77f*-0x1+-0x3f4;return _0x3b28b3=((_0x3b28b3&0x7348c*-0xeb7+-0x2b6f8c4f*0x3+0x391d*0x5a1ce)<<0x176f+-0x24b8+-0x9*-0x17a|(_0x3b28b3&0x2db9919d*0x1+-0x13dababe2+0x1ba9cc4ef)>>>-0x1067+0xe5*-0x25+0x227*0x17)>>>0x4bd*0x6+0xc63+-0x28d1,_0x3b28b3=((_0x3b28b3&0x36d123cc*0x1+-0x1*0x3289b266+0x2eebc1cd*0x1)<<0x68a+-0x2f*0x22+-0x4a|(_0x3b28b3&-0x1700c216f*0x1+-0x2921503+0x23f6b033e*0x1)>>>-0x1*-0x28c+-0x5*-0x44b+-0x1801)>>>0x97*0x17+-0x99f+-0x3f2,_0x3b28b3=((_0x3b28b3&-0x1*0x71f7cb9+0x2*-0x49f7530+0x1f6d7628)<<0x1*0xe21+0x1b0+0x5*-0x329|(_0x3b28b3&0xef18d2*-0xe+-0xf8528643+0x1f656d2af*0x1)>>>-0x392*0xa+0x1*-0xf58+-0x8*-0x662)>>>0x78e+0x264*0x1+0x4f9*-0x2,_0x3b28b3=((_0x3b28b3&0x6eead6+0x487a3e*0x1+0x479beb)<<-0x18b9*-0x1+0x2*0xaba+-0x2e25|(_0x3b28b3&-0x14c39c9a1+0x1b041135f+0x9af9b542)>>>0xa+0x2*0xb3+-0x168)>>>0x52f*0x5+0x5cd+-0x7ee*0x4,_0x3b28b3*(-0x283*0x5+0x205b+-0x7*0x2d4+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x56036c){return gC[_0x56036c]||'decodeGamm'+'a';}static['encodeFunc'](_0x34b8ff){return yC[_0x34b8ff]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x3df7a2,_0x11e5eb){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x11e5eb['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x3df7a2['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x4ee58a=>{switch(_0x4ee58a){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x5cf4e2,_0x57a18e,_0x381cd0)=>{if(_0x5cf4e2<=0x47*0x6a+0x259d+0xd67*-0x5)_0x57a18e[_0x381cd0+(-0x112*0x11+-0x955+0x1b87)]=-0x99a+-0x95*0x2e+0x2460,_0x57a18e[_0x381cd0+(0x47*-0x6c+0xc*0x71+0x18a9)]=-0x733+0xee*-0x8+0xea3,_0x57a18e[_0x381cd0+(-0x8d4+-0x67e*-0x4+0x2*-0x891)]=0x1*0x7a3+0x1d*0x123+-0x289a,_0x57a18e[_0x381cd0+(0xc*0xaf+0x2030+0x1*-0x2861)]=-0x17cc+0x1bf6+-0x42a;else{if(_0x5cf4e2>=-0x1c78*-0x1+0x3b8+0x1*-0x202f)_0x57a18e[_0x381cd0+(-0x1bb*-0xd+-0xaaa+-0xbd5)]=-0x16b3+-0x1e62+0x3614,_0x57a18e[_0x381cd0+(0xfa7*-0x2+0x25*0xcb+0x1f8)]=0x32*0x71+0x1*0x2306+0x414*-0xe,_0x57a18e[_0x381cd0+(-0x1*0xb99+0x49a*0x5+-0xb67)]=-0x80f+-0x215b*-0x1+0x4*-0x653,_0x57a18e[_0x381cd0+(-0x103e+0x4b*0x77+-0x6*0x31a)]=0x18c0+-0x2518+0xa*0x13c;else{let _0x277e89=(-0x719*-0x1+-0x149e+0x2*0x6c3)*_0x5cf4e2%(0xb1b+0x1de4+-0x28fe),_0x57a012=(0x782+0x28d*0xe+-0x3*0xe13)*_0x5cf4e2%(-0x23e+-0xaac+0xceb),_0x5b7cd8=(-0x13fa3+0x191a3+0xac01*0x1)*_0x5cf4e2%(-0x59*-0x3b+-0x381+0x1*-0x1101);const _0x51e674=(0x2fa9eb+-0x9ccee*-0x1+-0x1*-0xc38c26)*_0x5cf4e2%(-0x1*0x17e1+0x1*0x1867+-0x85);_0x277e89-=_0x57a012/(-0x13a6+0x1247+0x25e),_0x57a012-=_0x5b7cd8/(-0x26*-0xa9+-0x1946+0x12f),_0x5b7cd8-=_0x51e674/(0xada*-0x2+0x129d+0x416),_0x57a18e[_0x381cd0+(-0x152d+0x803*0x1+-0xd2a*-0x1)]=Math['min'](-0x60d+-0x50b*-0x1+-0x201*-0x1,Math['floor'](_0x277e89*(0xb89*-0x1+-0x1249*0x1+0x1ed2))),_0x57a18e[_0x381cd0+(0x52*0xd+0x2707+-0x2b30)]=Math['min'](-0x8*0x34c+-0x4b9+0x2018,Math['floor'](_0x57a012*(-0x209a+0x1*0x1085+0x1115))),_0x57a18e[_0x381cd0+(-0xed0+0x84a*0x2+-0x1c2)]=Math['min'](-0x82f+-0x26ae*0x1+0x2fdc,Math['floor'](_0x5b7cd8*(-0x229+-0x247*0x1+-0x3a*-0x18))),_0x57a18e[_0x381cd0+(-0x194a+-0x1606+0x2f53)]=Math['min'](-0x14ee+-0x1*0x533+0x1b20,Math['floor'](_0x51e674*(0x22a4+0x13ec+-0x1ac8*0x2)));}}},xC=_0x40ee25=>{const _0x231e9c=_0x40ee25['length'],_0x4ccf73=Math['min'](_0x231e9c,-0x2650+-0x1*0x2074+0x2462*0x2),_0x2597e8=Math['ceil'](_0x231e9c/_0x4ccf73),_0x301342=new Uint8Array(_0x4ccf73*_0x2597e8*(0x2294+-0xc95+-0x15fb));let _0x45900c=-0xe22+0x6f5+0x72d;for(let _0x2b27b0=0x1693+0x1721+-0x2db4;_0x2b27b0<_0x231e9c;_0x2b27b0+=-0x16f*-0x15+0x2108+-0x3f1f)Il(_0x40ee25[_0x2b27b0+(0xf6*0x1b+-0x1*0xc5b+0xd97*-0x1)]*(-0x1*0x1811+-0x29*0xc0+0x36d1+0.5)+(0x3*0xb49+-0x1001*-0x1+-0x31dc+0.5),_0x301342,_0x45900c+(-0x2*0x341+-0x16f*0x7+0x108b)),Il(_0x40ee25[_0x2b27b0+(-0x192d*0x1+-0x1d12*-0x1+-0x3e4)]*(-0xb62+0x11bf+-0x65d+0.5)+(0x9*0x2a6+-0x1113+0x6c3*-0x1+0.5),_0x301342,_0x45900c+(0x25f0+0x131c+0x3908*-0x1)),Il(_0x40ee25[_0x2b27b0+(-0xcf*-0x24+-0xa2d+-0x12ed)]*(0x2204*-0x1+0x1141*0x1+0x10c3+0.5)+(0xc7f+-0x1880*0x1+0xc01+0.5),_0x301342,_0x45900c+(-0xe67+0x1*-0xa06+0x1875)),Il(_0x40ee25[_0x2b27b0+(-0x14dc+0xb0b+0x4*0x275)]/(-0xb06+0x2c3+0xb*0xc1),_0x301342,_0x45900c+(0x12b7+0x4*-0x915+0x11a9)),_0x45900c+=0x2545+0x162*-0x12+-0x3*0x41b;return{'width':_0x4ccf73,'height':_0x2597e8,'data':_0x301342};},SC=(_0x3e871e,_0x1a0e22,_0x20a899,_0x4bda08)=>{const _0x33b9c6=_0x20a899*(-0x1a*0x24+-0xf9*-0x6+-0x22c)*Math['PI'],_0x405ae9=Math['pow'](-0x839+0x1b0e+-0x12d4-_0x1a0e22,(0xf55+-0x1*0x1445+0x4f1)/(_0x4bda08+(0x17b6+-0xd*0x71+-0x11f8))),_0x3b2dd1=Math['sqrt'](-0x2331+-0x1d19+0x404b*0x1-_0x405ae9*_0x405ae9);_0x3e871e['set'](Math['cos'](_0x33b9c6)*_0x3b2dd1,Math['sin'](_0x33b9c6)*_0x3b2dd1,_0x405ae9)['normalize']();},vC=(_0x3e4ecd,_0x54b0a5,_0x5f3f34)=>{const _0x5ae9c4=_0x5f3f34*(0x21ff+-0xc2+-0x2f*0xb5)*Math['PI'],_0x82e674=Math['sqrt'](-0x1*0x1b1a+-0x1a+-0x7*-0x3e3-_0x54b0a5),_0x48a7f3=Math['sqrt'](_0x54b0a5);_0x3e4ecd['set'](Math['cos'](_0x5ae9c4)*_0x48a7f3,Math['sin'](_0x5ae9c4)*_0x48a7f3,_0x82e674)['normalize']();},bC=(_0x38139c,_0x38aa5c,_0x133678,_0x3ef4e2)=>{const _0x2ead27=_0x133678*(-0x2*-0x773+-0xd36+-0x1ae)*Math['PI'],_0x58ffe4=Math['sqrt']((0x1*0x1cb+0x1*0x1bf4+-0x1dbe-_0x38aa5c)/(0xbee*-0x1+-0xbe5+-0x3d*-0x64+(_0x3ef4e2*_0x3ef4e2-(0x260e+0x9fe+0x1*-0x300b))*_0x38aa5c)),_0x23e9fe=Math['sqrt'](0x331*-0xc+-0x5*-0x4bd+-0x44*-0x37-_0x58ffe4*_0x58ffe4);_0x38139c['set'](Math['cos'](_0x2ead27)*_0x23e9fe,Math['sin'](_0x2ead27)*_0x23e9fe,_0x58ffe4)['normalize']();},wC=(_0x3585b6,_0x3b34e3)=>{const _0x9e78ec=_0x3585b6*_0x3b34e3,_0x414c4b=_0x3b34e3/(-0x18bc+0xd99*0x2+-0x25*0x11-_0x3585b6*_0x3585b6+_0x9e78ec*_0x9e78ec);return _0x414c4b*_0x414c4b*((0x43f+-0x70f*-0x3+-0x879*0x3)/Math['PI']);},TC=(_0x2ecd9d,_0x5308c1)=>{const _0x38c7b2=new T(),_0x146e80=[];for(let _0x17b9b7=-0x1ac8+-0x1*0x126c+0x2d34;_0x17b9b7<_0x2ecd9d;++_0x17b9b7)SC(_0x38c7b2,_0x17b9b7/_0x2ecd9d,ll['radicalInv'+'erse'](_0x17b9b7),_0x5308c1),_0x146e80['push'](_0x38c7b2['x'],_0x38c7b2['y'],_0x38c7b2['z'],-0x59*-0x41+-0xb17*0x1+-0x3d6*0x3);return _0x146e80;},AC=(_0x42b74f,_0x4702af)=>{const _0x1e325c=_0x4702af/_0x42b74f,_0x1b2882=new T(),_0x1e2d04=[];for(let _0xa74cc7=-0xab3*0x3+-0x7cc+0x27e5;_0xa74cc7<_0x42b74f;++_0xa74cc7){vC(_0x1b2882,_0xa74cc7/_0x42b74f,ll['radicalInv'+'erse'](_0xa74cc7));const _0x3c2a3c=_0x1b2882['z']/Math['PI'],_0x32da60=(0x1f3d*0x1+0xf1d+-0x2e5a+0.5)*Math['log2'](_0x1e325c/_0x3c2a3c);_0x1e2d04['push'](_0x1b2882['x'],_0x1b2882['y'],_0x1b2882['z'],_0x32da60);}return _0x1e2d04;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x1cdfa1,_0x488e2e)=>{const _0x35cd5c=EC[_0x1cdfa1];return _0x35cd5c&&_0x35cd5c[_0x488e2e]||_0x1cdfa1;},MC=(_0x45f30c,_0x40b504,_0x23a109)=>{const _0x3d534b=_0x23a109/_0x45f30c,_0x2d993e=-0x1877+0xbab*-0x1+0x2423-Math['log2'](_0x40b504)/(0x1c00+0x25bf+-0xa*0x692),_0x2fcc3a=_0x2d993e*_0x2d993e,_0x2dc930=new T(),_0x24b7f6=new T(),_0x563f7c=new T(0x1df*0x5+-0x17+-0x944,-0xbe*0x1d+0x1465+-0x1*-0x121,0x140+-0xd2f+-0x8*-0x17e),_0x2319cd=[],_0x4eea71=CC(_0x45f30c,_0x40b504);for(let _0x3dc843=0x9e1+0x25cb+-0x2fac;_0x3dc843<_0x4eea71;++_0x3dc843){bC(_0x2dc930,_0x3dc843/_0x4eea71,ll['radicalInv'+'erse'](_0x3dc843),_0x2fcc3a);const _0x3f1738=_0x2dc930['z'];if(_0x24b7f6['set'](_0x2dc930['x'],_0x2dc930['y'],_0x2dc930['z'])['mulScalar']((-0x11a+0x1*0x21af+-0x2093)*_0x3f1738)['sub'](_0x563f7c),_0x24b7f6['z']>-0x1*0x1097+0x1dd1+-0xd3a){const _0xaaf8c1=wC(Math['min'](-0x5*0x581+-0xe1e+0x29a4,_0x3f1738),_0x2fcc3a)/(-0x4*0x7dc+0x53*0x1d+0x160d)+(0x15a9+0x9fe*0x2+-0x7*0x5f3+0.001),_0x789d51=(-0x2475+0x1d96+0x6df+0.5)*Math['log2'](_0x3d534b/_0xaaf8c1);_0x2319cd['push'](_0x24b7f6['x'],_0x24b7f6['y'],_0x24b7f6['z'],_0x789d51);}}for(;_0x2319cd['length']<_0x45f30c*(-0x55+-0x1e7+-0x8*-0x48);)_0x2319cd['push'](0x1*-0x75a+-0x184a*-0x1+-0x10f0,-0xd59+0x253+0xb06,0x5cf*-0x3+-0xd60*0x1+-0x1*-0x1ecd,-0x679*0x4+-0x1*-0x1f51+-0x1cf*0x3);return _0x2319cd;},PC=(_0x4c423a,_0x3673f7,_0x2333f9)=>{const _0x1407a1=xC(_0x2333f9);return new he(_0x4c423a,{'name':_0x3673f7,'width':_0x1407a1['width'],'height':_0x1407a1['height'],'mipmaps':!(-0x1*-0xa69+-0x215f*-0x1+0x7*-0x641),'minFilter':de,'magFilter':de,'levels':[_0x1407a1['data']]});};class C0{constructor(_0x37609d=!(-0x1fa6+0x149b+0xb0b)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x37609d;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x40999b,_0x2bf349)=>{_0x40999b['destroy']();});}['get'](_0x41b8f6,_0x1c0721){if(!this['map']['has'](_0x41b8f6)){const _0xd49101=_0x1c0721();return this['map']['set'](_0x41b8f6,_0xd49101),_0xd49101;}return this['map']['get'](_0x41b8f6);}}const RC=new C0(!(-0x698+-0x2*-0xaf9+-0xf59)),IC=new kt(),Lp=(_0x5ef053,_0x26414c,_0xee0373)=>IC['get'](_0x5ef053,()=>new C0())['get'](_0x26414c,()=>PC(_0x5ef053,_0x26414c,RC['get'](_0x26414c,_0xee0373))),DC=(_0x357449,_0x4deac1,_0x3c3aff)=>{const _0x2154a0='lambert-sa'+'mples-'+_0x4deac1+'-'+_0x3c3aff;return Lp(_0x357449,_0x2154a0,()=>AC(_0x4deac1,_0x3c3aff));},LC=(_0x459580,_0x4a1eb1,_0x411b41)=>{const _0x596de4='phong-samp'+'les-'+_0x4a1eb1+'-'+_0x411b41;return Lp(_0x459580,_0x596de4,()=>TC(_0x4a1eb1,_0x411b41));},FC=(_0x4a912b,_0x10cbe3,_0x23509a,_0x1e1ec1)=>{const _0x30bfe9='ggx-sample'+'s-'+_0x10cbe3+'-'+_0x23509a+'-'+_0x1e1ec1;return Lp(_0x4a912b,_0x30bfe9,()=>MC(_0x10cbe3,_0x23509a,_0x1e1ec1));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x9e220b,_0x53d297,_0x50f2e7={}){var _0x1d1b46,_0x244a6d;v['assert'](_0x9e220b instanceof he&&_0x53d297 instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x5d19db=_0x50f2e7['seamPixels']??-0x216d+-0x1*-0x1be7+0x586,_0x16fb93=(((_0x1d1b46=_0x50f2e7['rect'])==null?void(-0x25f1*-0x1+0x2248+-0x4839):_0x1d1b46['z'])??_0x53d297['width'])-_0x5d19db*(-0x2073*0x1+0x25*-0xaa+0x463*0xd),_0x32dac7=(((_0x244a6d=_0x50f2e7['rect'])==null?void(0x26c+-0xaa5+0x1a5*0x5):_0x244a6d['w'])??_0x53d297['height'])-_0x5d19db*(-0x1a7+0xe10+-0xc67);if(_0x16fb93<-0x118b*0x1+0x185*0x3+0xcfd||_0x32dac7<-0x7*0x324+-0x21fb*0x1+0x37f8*0x1)return!(0x2062+-0xe7e+-0x11e3);const _0x18a7e0={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x69f042=_0x50f2e7['hasOwnProp'+'erty']('specularPo'+'wer')?_0x50f2e7['specularPo'+'wer']:0x1*-0x3a5+0x248f+0x695*-0x5,_0x1371e2=_0x50f2e7['hasOwnProp'+'erty']('face')?_0x50f2e7['face']:null,_0x53dd6b=_0x50f2e7['hasOwnProp'+'erty']('distributi'+'on')?_0x50f2e7['distributi'+'on']:_0x69f042===0xb1*0x1+-0x8+-0xc*0xe?'none':'phong',_0x1f7800=_0x18a7e0[_0x53dd6b]||'reproject',_0x49dedf=_0x1f7800['startsWith']('prefilterS'+'amples'),_0x13c979=Es['decodeFunc'](_0x9e220b['encoding']),_0x2e03cd=Es['encodeFunc'](_0x53d297['encoding']),_0x4163e0='sample'+l_(_0x9e220b['projection']),_0x4895d3='getDirecti'+'on'+l_(_0x53d297['projection']),_0x59fac0=_0x50f2e7['hasOwnProp'+'erty']('numSamples')?_0x50f2e7['numSamples']:-0xaed*-0x1+0x5*0x79f+-0x2d08,_0x2f8fe6=_0x1f7800+'_'+_0x13c979+'_'+_0x2e03cd+'_'+_0x4163e0+'_'+_0x4895d3+'_'+_0x59fac0,_0x412226=_0x9e220b['device'];let _0x513a78=ka(_0x412226)['getCachedS'+'hader'](_0x2f8fe6);if(!_0x513a78){const _0x1900f9='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x1f7800+'\x0a'+(_0x49dedf?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x9e220b['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x13c979+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x2e03cd+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x4163e0+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x4895d3+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x59fac0+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x59fac0))['toFixed'](-0x12*0x4a+0x3*-0xc9a+-0xd*-0x34f)+'\x0a';_0x513a78=Is(_0x412226,OC,_0x1900f9+'\x0a'+X['reprojectP'+'S'],_0x2f8fe6);}G['pushGpuMar'+'ker'](_0x412226,'ReprojectT'+'exture'),_0x412226['setBlendSt'+'ate'](_t['NOBLEND']);const _0x5a1491=_0x412226['scope']['resolve'](_0x9e220b['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x5a1491),_0x5a1491['setValue'](_0x9e220b);const _0x2a999d=_0x412226['scope']['resolve']('params'),_0x5b67af=_0x412226['scope']['resolve']('uvMod');_0x5d19db>0x7*0x22+0x95c+-0x6*0x1b7?_0x5b67af['setValue']([(_0x16fb93+_0x5d19db*(-0x2d*0xc3+0x201b*-0x1+-0x4264*-0x1))/_0x16fb93,(_0x32dac7+_0x5d19db*(0x11b1*0x1+0x16e5+-0x2894))/_0x32dac7,-_0x5d19db/_0x16fb93,-_0x5d19db/_0x32dac7]):_0x5b67af['setValue']([0x26d5+-0x402*0x4+-0x16cc,0xdc5+-0x37a+-0xa4a*0x1,-0x15d2+-0xa3*0x2b+-0x9d7*-0x5,0x157*-0x1d+0x5f8+0x20e3*0x1]);const _0x17bfa8=[0x1*-0x751+-0x8*0x1c4+-0x1*-0x1571,_0x53d297['width']*_0x53d297['height']*(_0x53d297['cubemap']?-0x120e*0x1+-0x1a6a+-0x86*-0x55:0x118+0x245f*0x1+-0x2576),_0x9e220b['width']*_0x9e220b['height']*(_0x9e220b['cubemap']?0x1a18*0x1+-0x9d*-0x3b+-0x3e41*0x1:0x13d*0x19+-0x1d63+-0x1*0x191)];if(_0x49dedf){const _0x3c9756=_0x9e220b['width']*_0x9e220b['height']*(_0x9e220b['cubemap']?0x1c2c+-0x3*0x317+0x9*-0x219:0x104d+-0xd4b+-0x1*0x301),_0x46f97a=_0x53dd6b==='ggx'?FC(_0x412226,_0x59fac0,_0x69f042,_0x3c9756):_0x53dd6b==='lambert'?DC(_0x412226,_0x59fac0,_0x3c9756):LC(_0x412226,_0x59fac0,_0x69f042);_0x412226['scope']['resolve']('samplesTex')['setValue'](_0x46f97a),_0x412226['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x17d+0x16*0x167+-0x2056)/_0x46f97a['width'],(0xa40+0x1fdf+0x12*-0x257)/_0x46f97a['height']]);}for(let _0x4ccf8d=0x18d9+0x2d8+-0x1bb1;_0x4ccf8d<(_0x53d297['cubemap']?0xe57+-0x10aa+0x259*0x1:0x4*-0x6d9+-0x16a*-0x5+0x1453);_0x4ccf8d++)if(_0x1371e2===null||_0x4ccf8d===_0x1371e2){const _0x18fa54=new pt({'colorBuffer':_0x53d297,'face':_0x4ccf8d,'depth':!(-0x7fc+-0x1*-0x171d+0xb*-0x160),'flipY':_0x412226['isWebGPU']});_0x17bfa8[-0x1*0x28+0x1*0xf6a+-0xf42]=_0x4ccf8d,_0x2a999d['setValue'](_0x17bfa8),dn(_0x412226,_0x18fa54,_0x513a78,_0x50f2e7==null?void(-0x1*-0x1fe3+-0x19e4+-0x1*0x5ff):_0x50f2e7['rect']),_0x18fa54['destroy']();}return G['popGpuMark'+'er'](_0x412226),!(-0x1b75+-0x2397+0x3f0c);}const wd=(_0x5c7a4e,_0x506501=-0x205+0x495+-0x290)=>-0x177f+-0x2*-0x289+-0x151*-0xe+Math['floor'](Math['log2'](Math['max'](_0x5c7a4e,_0x506501))),kC=_0x430872=>_0x430872['textureHal'+'fFloatRend'+'erable'],BC=_0x1063bf=>_0x1063bf['textureFlo'+'atRenderab'+'le'],NC=_0x385f2d=>kC(_0x385f2d)?Je:BC(_0x385f2d)?Ke:Se,zC=_0x5b376f=>Se,UC=(_0x49257a,_0x52e7c5,_0x54f109,_0x1329fa)=>new he(_0x49257a,{'name':'lighting-'+_0x52e7c5,'cubemap':!(0x1*-0x2ab+0x17*-0x77+0xd5c),'width':_0x52e7c5,'height':_0x52e7c5,'format':_0x54f109,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(-0x1fac+-0x4a9+-0x2*-0x122b)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x4e44dc,_0x29780e){const _0x56601c=_0x4e44dc['device'];G['pushGpuMar'+'ker'](_0x56601c,'genSkyboxC'+'ubemap');const _0x22eedc=UC(_0x56601c,_0x29780e||(_0x4e44dc['cubemap']?_0x4e44dc['width']:_0x4e44dc['width']/(-0x1b73+-0x1adc+0x3653)),Se);return Qs(_0x4e44dc,_0x22eedc,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x56601c),_0x22eedc;}static['generateLi'+'ghtingSour'+'ce'](_0x448492,_0xa88460){const _0x506231=_0x448492['device'];G['pushGpuMar'+'ker'](_0x506231,'genLightin'+'gSource');const _0x2756b0=NC(_0x506231),_0xd8aede=(_0xa88460==null?void(0x1*0x115+-0x1*-0x262b+-0x2740):_0xa88460['target'])||new he(_0x506231,{'name':'lighting-s'+'ource','cubemap':!(-0x8b6+-0x1c0d+0x24c3),'width':(_0xa88460==null?void(-0x2*0x897+-0x2dd*-0x4+0x5ba):_0xa88460['size'])||0xb39*0x1+-0xe54+-0x1*-0x39b,'height':(_0xa88460==null?void(0xea+-0x1f84+0x1e9a):_0xa88460['size'])||-0x2f*-0x6b+-0x1d17+-0x13*-0x86,'format':_0x2756b0,'type':_0x2756b0===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(-0x2023*-0x1+-0x4*-0x4d8+-0x3383)});return Qs(_0x448492,_0xd8aede,{'numSamples':_0x448492['mipmaps']?0x195d+-0x468+0x1bf*-0xc:-0x2509+0xb3*0x29+-0x1*-0xc5e}),G['popGpuMark'+'er'](_0x506231),_0xd8aede;}static['generateAt'+'las'](_0x462945,_0x474a8b){const _0x294eae=_0x462945['device'],_0x17c4f6=zC();G['pushGpuMar'+'ker'](_0x294eae,'genAtlas');const _0x544810=(_0x474a8b==null?void(-0x16f+0x1*-0x2383+0x24f2):_0x474a8b['target'])||new he(_0x294eae,{'name':'envAtlas','width':(_0x474a8b==null?void(0x10*-0xfc+-0x1f57+0x5*0x96b):_0x474a8b['size'])||-0x488+-0x1bbc+-0xc*-0x2db,'height':(_0x474a8b==null?void(-0x39d+-0x2605+-0x1*-0x29a2):_0x474a8b['size'])||0x2cb*0xb+-0x1981+0x67*-0x8,'format':_0x17c4f6,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x2ad+0x6b*-0x1a+-0x832*-0x1)});G['pushGpuMar'+'ker'](_0x294eae,'mipmaps');const _0x3d7323=_0x544810['width']/(0xa6*0x4+0x19e*0x2+-0x3d4*0x1),_0x3db740=new Q(0x1b11+0x135*0x14+-0x3335,-0x1*0x1a5+-0x17cf+0x21f*0xc,(0x2bc+0x1592+-0x164e)*_0x3d7323,(-0x49f+0x184b+-0x1*0x12ac)*_0x3d7323),_0x4e073e=wd(0x1*-0x11b+0x1*-0x691+0x8ac)-wd(-0x1*0x266f+-0x1e81+0x1*0x44f4);for(let _0x4bdffe=-0x588+-0x6e6*0x2+-0x4*-0x4d5;_0x4bdffe<_0x4e073e;++_0x4bdffe)Qs(_0x462945,_0x544810,{'numSamples':0x1,'rect':_0x3db740,'seamPixels':_0x3d7323}),_0x3db740['x']+=_0x3db740['w'],_0x3db740['y']+=_0x3db740['w'],_0x3db740['z']=Math['max'](-0x1dc+0x22a0+-0x20c3,Math['floor'](_0x3db740['z']*(-0x11b*-0x17+0x1*0x1f7b+-0x6*0x97c+0.5))),_0x3db740['w']=Math['max'](-0x1845+-0x12a0*0x1+0x143*0x22,Math['floor'](_0x3db740['w']*(0x1*0xb41+-0x732+0x1*-0x40f+0.5)));G['popGpuMark'+'er'](_0x294eae),G['pushGpuMar'+'ker'](_0x294eae,'reflection'+'s'),_0x3db740['set'](-0x35f*-0x1+-0x3a4*-0x1+-0x703,(0xe87*-0x1+-0x1*0x1083+0x200a)*_0x3d7323,(0x179a+-0x1*0x15dc+-0xbe)*_0x3d7323,(0x1b6*-0x1+0x1855+0x7*-0x329)*_0x3d7323);for(let _0x20c2dc=0x1c0d+-0x8e3+-0x1329;_0x20c2dc<0x91d+-0xb3*0x2+-0x7b0;++_0x20c2dc)Qs(_0x462945,_0x544810,{'numSamples':(_0x474a8b==null?void(-0x2*0x6ec+0x1031*-0x1+0x1e09):_0x474a8b['numReflect'+'ionSamples'])||0x16a5+-0x113b+-0x16a*0x1,'distribution':(_0x474a8b==null?void(-0x1577+0x671+0xf06):_0x474a8b['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x1afd*-0x1+-0x2083+0x587,0x255d+0xef*-0x11+-0xd7e>>_0x20c2dc*(0xcf*0xd+0xa8+-0xb29)),'rect':_0x3db740,'seamPixels':_0x3d7323}),_0x3db740['y']+=_0x3db740['w'],_0x3db740['z']=Math['max'](0xfb2+0x6d*-0x11+-0x2*0x43a,Math['floor'](_0x3db740['z']*(-0x1d32+0x466*0x1+0x45*0x5c+0.5))),_0x3db740['w']=Math['max'](-0x1fde*-0x1+-0x132e*0x2+0x1*0x67f,Math['floor'](_0x3db740['w']*(-0x10b+-0x4*-0x49f+0x1171*-0x1+0.5)));return G['popGpuMark'+'er'](_0x294eae),G['pushGpuMar'+'ker'](_0x294eae,'ambient'),_0x3db740['set']((0x97e+0x7bd+-0x10bb)*_0x3d7323,(0x226c+-0x2*0x4ff+-0x496*0x5)*_0x3d7323,(0x129b*-0x1+-0x155*-0x2+0x1031)*_0x3d7323,(0x1ce3+0x2*0x106+-0x1ecf*0x1)*_0x3d7323),Qs(_0x462945,_0x544810,{'numSamples':(_0x474a8b==null?void(0x76*-0x8+0x2ab*-0xd+0x265f):_0x474a8b['numAmbient'+'Samples'])||-0x2*-0x96b+0x3f1*0x8+-0x2a5e,'distribution':'lambert','rect':_0x3db740,'seamPixels':_0x3d7323}),G['popGpuMark'+'er'](_0x294eae),G['popGpuMark'+'er'](_0x294eae),_0x544810;}static['generatePr'+'efilteredA'+'tlas'](_0x441932,_0x1b1f44){const _0x2b8725=_0x441932[-0x1*-0x943+0x334+0xc77*-0x1]['device'],_0x4a7ed8=_0x441932[-0x2*0xcca+-0x6cb+0x1*0x205f]['format'],_0x23b336=_0x441932[-0x2251+0x14*0x68+0xf*0x1bf]['type'];G['pushGpuMar'+'ker'](_0x2b8725,'genPrefilt'+'eredAtlas');const _0x151913=(_0x1b1f44==null?void(-0xd8a*0x2+0x3*-0x902+-0x5*-0xad2):_0x1b1f44['target'])||new he(_0x2b8725,{'name':'envPrefilt'+'eredAtlas','width':(_0x1b1f44==null?void(-0x1970+0x1*-0x1a1e+0x338e):_0x1b1f44['size'])||0xfe1*-0x2+0x1fb7*-0x1+0x4179,'height':(_0x1b1f44==null?void(-0xf55*0x2+0x243d*0x1+0x593*-0x1):_0x1b1f44['size'])||0x1*-0x2ab+0x323*-0x7+-0x3*-0x8e0,'format':_0x4a7ed8,'type':_0x23b336,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x20a0+0x8bf*0x2+-0x321d)});G['pushGpuMar'+'ker'](_0x2b8725,'mipmaps');const _0x130372=_0x151913['width']/(0x45d*-0x2+0x156e*-0x1+0x2028),_0x1a461a=new Q(-0x1396+0x1fef+-0x6d*0x1d,0x2586+-0x2*-0xe5e+-0x4242,(0x3d*-0x59+-0x1cb+-0x20*-0xc8)*_0x130372,(0x1f86+-0x1fac+0x126)*_0x130372),_0x50424b=wd(-0x83*-0x23+0xc2*0x7+-0x1537);for(let _0x5a3b3e=-0x1f87+0x1*0xe4d+0x113a;_0x5a3b3e<_0x50424b;++_0x5a3b3e)Qs(_0x441932[-0x71*-0x49+-0x2134+-0x1*-0xfb],_0x151913,{'numSamples':0x1,'rect':_0x1a461a,'seamPixels':_0x130372}),_0x1a461a['x']+=_0x1a461a['w'],_0x1a461a['y']+=_0x1a461a['w'],_0x1a461a['z']=Math['max'](-0xbf*-0x31+-0x1e13*0x1+-0x3*0x229,Math['floor'](_0x1a461a['z']*(0x1f8a+0x1242+0xc73*-0x4+0.5))),_0x1a461a['w']=Math['max'](-0x26b*0x7+0x125*-0x15+0x28f7,Math['floor'](_0x1a461a['w']*(-0x41b*-0x2+-0x2*0xb89+0x3*0x4f4+0.5)));G['popGpuMark'+'er'](_0x2b8725),G['pushGpuMar'+'ker'](_0x2b8725,'reflection'+'s'),_0x1a461a['set'](0xb08+0x455*-0x3+-0x1*-0x1f7,(0x3*0xe5+0x103c+-0x11eb)*_0x130372,(-0xd*0x11d+0x1570+-0x5f7)*_0x130372,(-0x18a*-0x15+-0xba+-0x5*0x638)*_0x130372);for(let _0xbfe25=0x2*-0x3ca+0x10a*0xb+0x1*-0x3d9;_0xbfe25<_0x441932['length'];++_0xbfe25)Qs(_0x441932[_0xbfe25],_0x151913,{'numSamples':0x1,'rect':_0x1a461a,'seamPixels':_0x130372}),_0x1a461a['y']+=_0x1a461a['w'],_0x1a461a['z']=Math['max'](0x7f6+-0x1*0x1baf+-0xa*-0x1f9,Math['floor'](_0x1a461a['z']*(-0x1bb5+0x81b*-0x4+-0x7*-0x897+0.5))),_0x1a461a['w']=Math['max'](0x13*0x15b+-0x1*0x148f+-0x531,Math['floor'](_0x1a461a['w']*(0x1*0x883+0x287*-0x2+0x3b*-0xf+0.5)));return G['popGpuMark'+'er'](_0x2b8725),G['pushGpuMar'+'ker'](_0x2b8725,'ambient'),_0x1a461a['set']((-0x1*-0x67d+0x97+-0x694)*_0x130372,(0x11cd+-0x1238+0x1eb)*_0x130372,(-0x1a05+0x1*-0xa06+0x244b)*_0x130372,(-0x1bf1+0x1166+0x1*0xaab)*_0x130372),_0x1b1f44!=null&&_0x1b1f44['legacyAmbi'+'ent']?Qs(_0x441932[-0xde7*-0x1+-0x134e+-0x15b*-0x4],_0x151913,{'numSamples':0x1,'rect':_0x1a461a,'seamPixels':_0x130372}):Qs(_0x441932[-0x2058*-0x1+0x12fc+-0x3354],_0x151913,{'numSamples':(_0x1b1f44==null?void(-0x5*0x1f7+0x1*0x229b+-0x18c8):_0x1b1f44['numSamples'])||0x2*-0x25e+0x7*-0x1d8+0x446*0x6,'distribution':'lambert','rect':_0x1a461a,'seamPixels':_0x130372}),G['popGpuMark'+'er'](_0x2b8725),G['popGpuMark'+'er'](_0x2b8725),_0x151913;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x4dfae9,_0x4b65bb)=>{const _0x357b07=_0x4dfae9['split']('.')['map'](_0x5d26d5=>parseInt(_0x5d26d5,-0x1*0xb41+-0x14b*0xb+0x1984)),_0x38e3a0=_0x4b65bb['split']('.')['map'](_0x3a7f13=>parseInt(_0x3a7f13,0x87e+-0x1d72*0x1+-0x2*-0xa7f));return _0x357b07[0xcd7+-0x5*-0x209+-0x1704]<_0x38e3a0[-0xaa4+0x1*0x2399+0x1*-0x18f5]||_0x357b07[-0x827+0xd60+-0x539]===_0x38e3a0[0x2274+0xe3*0x3+-0x251d]&&_0x357b07[0x1978+0x1a76+0x114f*-0x3]<_0x38e3a0[0x2*0x11a5+0x1b25*0x1+-0x1*0x3e6e];},$C=_0x5c84eb=>{const _0x21f413=_0x5c84eb['APIVersion'];for(const _0x2a26c9 in _0x5c84eb)if(_0x2a26c9!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x2a26c9)){const _0xf1504d=VC[_0x2a26c9];_0xf1504d&&(!_0x21f413||HC(_0x21f413,_0xf1504d))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x2a26c9+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0xf1504d+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x21f413||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x3a8c2f=GC[_0x2a26c9];_0x3a8c2f?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x2a26c9+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x3a8c2f+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x2a26c9+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x3be1c5){_0x3be1c5['forEach'](_0x1d085d=>{_0x1d085d['endsWith']('\x0a')?this['code']+=_0x1d085d:this['code']+=_0x1d085d+'\x0a';});}['prepend'](..._0x3de07d){_0x3de07d['forEach'](_0x20b53e=>{_0x20b53e['endsWith']('\x0a')?this['code']=_0x20b53e+this['code']:this['code']=_0x20b53e+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class WC{constructor(_0x4501af,_0x414f2a){if(this['device']=_0x4501af,this['options']=_0x414f2a,this['attributes']={'vertex_position':He},_0x414f2a['userAttrib'+'utes']){for(const [_0x2d2f60,_0x432325]of Object['entries'](_0x414f2a['userAttrib'+'utes']))this['attributes'][_0x432325]=_0x2d2f60;}if(_0x414f2a['chunks']){const _0x1be61f=_0x414f2a['chunks'];$C(_0x1be61f),this['chunks']=Object['create'](X);for(const _0x467a21 in X)if(_0x1be61f['hasOwnProp'+'erty'](_0x467a21)){const _0x5ec126=_0x1be61f[_0x467a21];for(const _0x34c7c7 in Td)Td['hasOwnProp'+'erty'](_0x34c7c7)&&_0x5ec126['indexOf'](_0x34c7c7)>=-0xeda+-0x81d+0x16f7&&(this['attributes'][_0x34c7c7]=Td[_0x34c7c7]);this['chunks'][_0x467a21]=_0x5ec126;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x414f2a['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x414f2a['lights']['length']>-0x1174+-0xc9b*0x1+-0x9*-0x357||_0x414f2a['dirLightMa'+'pEnabled']||_0x414f2a['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x414f2a['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x414f2a['useSpecula'+'r']||_0x414f2a['ambientSH']||_0x414f2a['useHeights']||_0x414f2a['enableGGXS'+'pecular']||_0x414f2a['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x414f2a['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x414f2a['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x414f2a['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x414f2a['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0xa7182a,_0x316491,_0x3ac0c9){return _0xa7182a+=_0x316491['baseVS'],(_0x3ac0c9['nineSliced'+'Mode']===nt||_0x3ac0c9['nineSliced'+'Mode']===Qe)&&(_0xa7182a+=_0x316491['baseNineSl'+'icedVS']),_0xa7182a;}['_setMapTra'+'nsform'](_0x3b3385,_0x4a58f3,_0x36cac5,_0x1764b7){const _0x215b9e=_0x36cac5+_0x1764b7*(-0x1*-0x409+-0x1*-0xb17+-0xebc);if(!_0x3b3385[0x1247*-0x2+-0xa7*-0x17+0x1590][_0x215b9e]){const _0x31c26b='texture_'+_0x4a58f3+('MapTransfo'+'rm');_0x3b3385[0x9bb+0x2*-0x4a7+0x6d*-0x1]+='uniform\x20ve'+'c3\x20'+_0x31c26b+'0;\x0a',_0x3b3385[-0x2261*0x1+0x96a+-0x1*-0x18f7]+='uniform\x20ve'+'c3\x20'+_0x31c26b+'1;\x0a',_0x3b3385[0x38d+0xd*-0x1fc+-0x20*-0xb2]+='varying\x20ve'+'c2\x20vUV'+_0x1764b7+'_'+_0x36cac5+';\x0a',_0x3b3385[0x51*-0x77+0x6cd*0x4+0xa75]+='\x20\x20\x20vUV'+_0x1764b7+'_'+_0x36cac5+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x1764b7+',\x201),\x20'+_0x31c26b+('0),\x20dot(ve'+'c3(uv')+_0x1764b7+',\x201),\x20'+_0x31c26b+'1));\x0a',_0x3b3385[-0x254b+0xf04*-0x1+0x1*0x3452][_0x215b9e]=!(-0x1*-0x247d+-0xd*0x49+-0x20c8);}return _0x3b3385;}['_fsGetBase'+'Code'](){const _0x129b92=this['options'],_0xd0465=this['chunks'];let _0x2b80c8=this['chunks']['basePS'];return _0x129b92['nineSliced'+'Mode']===nt?_0x2b80c8+=_0xd0465['baseNineSl'+'icedPS']:_0x129b92['nineSliced'+'Mode']===Qe&&(_0x2b80c8+=_0xd0465['baseNineSl'+'icedTiledP'+'S']),_0x2b80c8;}['_fsGetStar'+'tCode'](_0x35fd77,_0x30fdef,_0x1d949c,_0x21d063){let _0x1aaedf=_0x1d949c['startPS'];return _0x21d063['nineSliced'+'Mode']===nt?_0x1aaedf+=_0x1d949c['startNineS'+'licedPS']:_0x21d063['nineSliced'+'Mode']===Qe&&(_0x1aaedf+=_0x1d949c['startNineS'+'licedTiled'+'PS']),_0x1aaedf;}['_getLightS'+'ourceShape'+'String'](_0xe80834){switch(_0xe80834){case Gb:return'Rect';case Hb:return'Disk';case $b:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x2c480f,_0x46f891,_0x5320f0){const _0x304bf1=this['device'],_0x45eba6=this['options'],_0x27c0ba=this['chunks'];let _0x9edf4e='',_0x52a496='',_0x30b95a='';_0x9edf4e=this['_vsAddBase'+'Code'](_0x9edf4e,_0x27c0ba,_0x45eba6),_0x52a496+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x30b95a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x52a496+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x9edf4e+=_0x27c0ba['transformV'+'S'],this['needsNorma'+'l']&&(_0x9edf4e+=_0x27c0ba['normalCore'+'VS'],_0x9edf4e+=_0x27c0ba['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x52a496+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x45eba6['reflection'+'Source']==='sphereMap'&&_0x304bf1['fragmentUn'+'iformsCoun'+'t']<=0x1*-0x1675+0x621+0x1064&&(_0x9edf4e+=_0x27c0ba['viewNormal'+'VS'],_0x52a496+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x45eba6['hasTangent'+'s']&&(_0x45eba6['useHeights']||_0x45eba6['useNormals']||_0x45eba6['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x9edf4e+=_0x27c0ba['tangentBin'+'ormalVS'],_0x52a496+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x52a496+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x45eba6['enableGGXS'+'pecular']&&(_0x52a496+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x50a587=-0x1f*0x32+0xf7a+0x4b5*-0x2;for(let _0xbbeadc=0x231+-0x1a5*-0xc+-0x15ed;_0xbbeadc<_0x50a587;_0xbbeadc++)_0x2c480f[_0xbbeadc]&&(this['attributes']['vertex_tex'+'Coord'+_0xbbeadc]='TEXCOORD'+_0xbbeadc,_0x9edf4e+=_0x27c0ba['uv'+_0xbbeadc+'VS'],_0x52a496+='\x20\x20\x20vec2\x20uv'+_0xbbeadc+'\x20=\x20getUv'+_0xbbeadc+'();\x0a'),_0x46f891[_0xbbeadc]&&(_0x52a496+='\x20\x20\x20vUv'+_0xbbeadc+'\x20=\x20uv'+_0xbbeadc+';\x0a');const _0x2f0347=[_0x9edf4e,this['varyings'],_0x52a496,[]];_0x5320f0['forEach'](_0x4719d0=>{this['_setMapTra'+'nsform'](_0x2f0347,_0x4719d0['name'],_0x4719d0['id'],_0x4719d0['uv']);}),_0x9edf4e=_0x2f0347[0x1378+-0x2116+0xd9e],this['varyings']=_0x2f0347[0x2*-0xd87+0x11fa+0x915],_0x52a496=_0x2f0347[0x18b0+-0x4*0x194+-0x2*0x92f],_0x45eba6['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x52a496+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x45eba6['useMsdf']&&_0x45eba6['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x52a496+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x9edf4e+=_0x27c0ba['msdfVS']),(_0x45eba6['useMorphPo'+'sition']||_0x45eba6['useMorphNo'+'rmal'])&&(_0x30b95a+='#define\x20MO'+'RPHING\x0a',_0x45eba6['useMorphTe'+'xtureBased'+'Int']&&(_0x30b95a+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x45eba6['useMorphPo'+'sition']&&(_0x30b95a+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x45eba6['useMorphNo'+'rmal']&&(_0x30b95a+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0x45eba6['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0x45eba6['batch']?_0x30b95a+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x30b95a+='#define\x20SK'+'IN\x0a')):_0x45eba6['useInstanc'+'ing']&&(_0x30b95a+='#define\x20IN'+'STANCING\x0a'),_0x45eba6['screenSpac'+'e']&&(_0x30b95a+='#define\x20SC'+'REENSPACE\x0a'),_0x45eba6['pixelSnap']&&(_0x30b95a+='#define\x20PI'+'XELSNAP\x0a'),_0x9edf4e+='\x0a',_0x9edf4e+=_0x27c0ba['startVS'],_0x9edf4e+=_0x52a496,_0x9edf4e+=_0x27c0ba['endVS'],_0x9edf4e+='}',Object['keys'](h_)['forEach'](_0x2e5506=>{_0x9edf4e['indexOf'](_0x2e5506)>=-0x313*0x5+0x1*0x20c0+-0x1161*0x1&&(this['varyings']+='varying\x20'+h_[_0x2e5506]+'\x20'+_0x2e5506+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x2e5506['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x30b95a+this['varyings']+_0x9edf4e;}['_fsGetBegi'+'nCode'](){let _0x3713dd='';for(let _0x255786=0xb1d*-0x3+0x16d4*0x1+0xa83;_0x255786<this['defines']['length'];_0x255786++)_0x3713dd+='#define\x20'+this['defines'][_0x255786]+'\x0a';return _0x3713dd;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x3ff44d=this['_fsGetBegi'+'nCode']();return _0x3ff44d+=this['varyings'],_0x3ff44d+=this['varyingDef'+'ines'],_0x3ff44d+=this['frontendDe'+'cl'],_0x3ff44d+=this['frontendCo'+'de'],_0x3ff44d+=Dt['begin'](),_0x3ff44d+=this['frontendFu'+'nc'],_0x3ff44d+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x3ff44d+=Dt['end'](),_0x3ff44d;}['_fsGetPreP'+'assCode'](){let _0x265e35=this['_fsGetBegi'+'nCode']();return _0x265e35+=this['varyings'],_0x265e35+=this['varyingDef'+'ines'],_0x265e35+=this['chunks']['floatAsUin'+'tPS'],_0x265e35+=this['frontendDe'+'cl'],_0x265e35+=this['frontendCo'+'de'],_0x265e35+=Dt['begin'](),_0x265e35+=this['frontendFu'+'nc'],_0x265e35+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x265e35+=Dt['end'](),_0x265e35;}['_fsGetShad'+'owPassCode'](){const _0xe40bb5=this['options'],_0xa1f05d=this['chunks'],_0x34932d=this['varyings'],_0x4de0d4=this['shaderPass'+'Info']['lightType'];let _0x4feab0=this['shaderPass'+'Info']['shadowType'];_0x4de0d4!==oe&&_0xe40bb5['clusteredL'+'ightingEna'+'bled']&&(_0x4feab0===Hr||_0x4feab0===$r||_0x4feab0===Ts)&&(_0x4feab0=Lt);const _0x1e24e1=ir['get'](_0x4feab0);v['assert'](_0x1e24e1);const _0x263a71=(_0x1e24e1==null?void(-0x1200+-0x1*0x298+0x1498):_0x1e24e1['vsm'])??!(0x3*0x13+0x5f*-0x23+0xcc5),_0x116d98=(_0x1e24e1==null?void(-0x1d0*0x14+0x3cc+0x2074):_0x1e24e1['pcss'])??!(0xb*0x93+0x13*0x1a6+-0x1*0x25a2);let _0x1a3af3=this['_fsGetBegi'+'nCode']();_0x4feab0===$r?_0x1a3af3+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x4feab0===Hr&&(_0x1a3af3+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x4de0d4!==oe&&(_0x1a3af3+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x1a3af3+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x1a3af3+=_0x34932d,_0x1a3af3+=this['varyingDef'+'ines'],_0x1a3af3+=this['frontendDe'+'cl'],_0x1a3af3+=this['frontendCo'+'de'],_0x4feab0===Ts&&(_0x1a3af3+=X['linearizeD'+'epthPS']),_0x1a3af3+=Dt['begin'](),_0x1a3af3+=this['frontendFu'+'nc'];const _0x33a3d1=_0x4de0d4===oe||!_0x263a71&&_0x4de0d4===Re;let _0x29d33b=!(0x1*0xe67+0x864*-0x1+-0x1*0x602);return _0x33a3d1?(_0x1a3af3+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x116d98&&_0x4de0d4!==oe&&(_0x1a3af3+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x1a3af3+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x29d33b=!(-0x7a*0x15+-0x6fc*-0x5+-0x427*0x6)),_0x263a71?_0x1a3af3+=_0xa1f05d['storeEVSMP'+'S']:_0x116d98?_0x1a3af3+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x29d33b&&(_0x1a3af3+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x1a3af3+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x1a3af3+=Dt['end'](),_0x1a3af3;}['_fsGetLitP'+'assCode'](){var _0x26fedc;const _0x54e990=this['device'],_0x173e6a=this['options'],_0x1d2dfb=this['chunks'],_0x34644e=new sr(),_0x2514c6=new sr(),_0x2bbb92=new sr(),_0xe0f6ad=new sr();_0x173e6a['opacityFad'+'esSpecular']===!(-0x3*0x5c1+0xc96+0x4ae)&&_0x34644e['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x173e6a['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x173e6a['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x173e6a['fresnelMod'+'el']>-0x24bb+-0x2*-0xf0b+0x6a5&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x173e6a['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x173e6a['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x55eee5=[];let _0x11a91f=0x74f*0x1+-0x18a8+0x1159*0x1,_0x4ddc44=!(-0x39*0x82+0x1*-0xaab+-0x16*-0x1cd),_0x30ea0b=!(-0xc65+0x14c*0x4+0x2*0x39b),_0x54570e=!(-0xb*-0x277+-0x14b7+-0x665*0x1),_0xe71635=_0x173e6a['lights']['some'](_0x1a5bd7=>_0x1a5bd7['_shape']&&_0x1a5bd7['_shape']!==yt);_0x173e6a['clusteredL'+'ightingEna'+'bled']&&_0x173e6a['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0xe71635=!(0x22a7+0x8*-0x3f1+-0x2f*0x11)),(_0xe71635||_0x173e6a['clusteredL'+'ightingEna'+'bled'])&&(_0x34644e['append']('#define\x20AR'+'EA_LIGHTS'),_0x34644e['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x34644e['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x1b9fce=0x1*-0x601+0x12ef+-0xcee;_0x1b9fce<_0x173e6a['lights']['length'];_0x1b9fce++){const _0x249b21=_0x173e6a['lights'][_0x1b9fce],_0x157862=_0x249b21['_type'];if(_0x173e6a['clusteredL'+'ightingEna'+'bled']&&_0x157862!==oe)continue;const _0x203a58=_0xe71635&&_0x249b21['_shape']?_0x249b21['_shape']:yt;_0x34644e['append']('uniform\x20ve'+'c3\x20light'+_0x1b9fce+'_color;'),_0x249b21['_shadowTyp'+'e']===Ts&&_0x249b21['castShadow'+'s']&&!_0x173e6a['noShadow']&&(_0x34644e['append']('uniform\x20fl'+'oat\x20light'+_0x1b9fce+('_shadowSea'+'rchArea;')),_0x34644e['append']('uniform\x20ve'+'c4\x20light'+_0x1b9fce+('_cameraPar'+'ams;')),_0x157862===oe&&_0x34644e['append']('uniform\x20ve'+'c4\x20light'+_0x1b9fce+('_softShado'+'wParams;'))),_0x157862===oe?_0x34644e['append']('uniform\x20ve'+'c3\x20light'+_0x1b9fce+('_direction'+';')):(_0x34644e['append']('uniform\x20ve'+'c3\x20light'+_0x1b9fce+'_position;'),_0x34644e['append']('uniform\x20fl'+'oat\x20light'+_0x1b9fce+'_radius;'),_0x157862===Re&&(_0x34644e['append']('uniform\x20ve'+'c3\x20light'+_0x1b9fce+('_direction'+';')),_0x34644e['append']('uniform\x20fl'+'oat\x20light'+_0x1b9fce+('_innerCone'+'Angle;')),_0x34644e['append']('uniform\x20fl'+'oat\x20light'+_0x1b9fce+('_outerCone'+'Angle;')))),_0x203a58!==yt&&(_0x157862===oe&&_0x34644e['append']('uniform\x20ve'+'c3\x20light'+_0x1b9fce+'_position;'),_0x34644e['append']('uniform\x20ve'+'c3\x20light'+_0x1b9fce+('_halfWidth'+';')),_0x34644e['append']('uniform\x20ve'+'c3\x20light'+_0x1b9fce+('_halfHeigh'+'t;'))),_0x249b21['castShadow'+'s']&&!_0x173e6a['noShadow']&&(_0x34644e['append']('uniform\x20ma'+'t4\x20light'+_0x1b9fce+('_shadowMat'+'rix;')),_0x34644e['append']('uniform\x20fl'+'oat\x20light'+_0x1b9fce+('_shadowInt'+'ensity;')),_0x157862===oe&&(_0x34644e['append']('uniform\x20ma'+'t4\x20light'+_0x1b9fce+('_shadowMat'+'rixPalette'+'[4];')),_0x34644e['append']('uniform\x20ve'+'c4\x20light'+_0x1b9fce+('_shadowCas'+'cadeDistan'+'ces;')),_0x34644e['append']('uniform\x20in'+'t\x20light'+_0x1b9fce+('_shadowCas'+'cadeCount;')),_0x34644e['append']('uniform\x20fl'+'oat\x20light'+_0x1b9fce+('_shadowCas'+'cadeBlend;'))),_0x34644e['append']('uniform\x20ve'+'c4\x20light'+_0x1b9fce+('_shadowPar'+'ams;')),_0x157862===oe&&(_0x4ddc44=!(0x5*-0xe5+0x180b*0x1+0xf*-0x14e)),_0x157862===Pe?_0x34644e['append']('uniform\x20'+(_0x249b21['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x1b9fce+('_shadowMap'+';')):_0x34644e['append']('uniform\x20'+(_0x249b21['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x1b9fce+('_shadowMap'+';')),_0x11a91f++,_0x55eee5[_0x249b21['_shadowTyp'+'e']]=!(0x3*0x1e9+-0x232*0x4+0x30d),_0x249b21['_isVsm']&&(_0x30ea0b=!(0x19c4*0x1+0xdab*-0x1+-0x13*0xa3)),_0x249b21['_shadowTyp'+'e']===Ts&&(_0x54570e=!(0x1880+0x26d2*-0x1+-0x8d*-0x1a))),_0x249b21['_cookie']&&(_0x249b21['_cookie']['_cubemap']?_0x157862===Pe&&(_0x34644e['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x1b9fce+'_cookie;'),_0x34644e['append']('uniform\x20fl'+'oat\x20light'+_0x1b9fce+('_cookieInt'+'ensity;')),(!_0x249b21['castShadow'+'s']||_0x173e6a['noShadow'])&&_0x34644e['append']('uniform\x20ma'+'t4\x20light'+_0x1b9fce+('_shadowMat'+'rix;'))):_0x157862===Re&&(_0x34644e['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x1b9fce+'_cookie;'),_0x34644e['append']('uniform\x20fl'+'oat\x20light'+_0x1b9fce+('_cookieInt'+'ensity;')),(!_0x249b21['castShadow'+'s']||_0x173e6a['noShadow'])&&_0x34644e['append']('uniform\x20ma'+'t4\x20light'+_0x1b9fce+('_shadowMat'+'rix;')),_0x249b21['_cookieTra'+'nsform']&&(_0x34644e['append']('uniform\x20ve'+'c4\x20light'+_0x1b9fce+('_cookieMat'+'rix;')),_0x34644e['append']('uniform\x20ve'+'c2\x20light'+_0x1b9fce+('_cookieOff'+'set;')))));}const _0x5d1b5c=this['needsNorma'+'l']&&(_0x173e6a['useNormals']||_0x173e6a['useClearCo'+'atNormals']||_0x173e6a['enableGGXS'+'pecular']&&!_0x173e6a['useHeights']);if(_0x5d1b5c&&(_0x173e6a['hasTangent'+'s']?_0x2514c6['append'](_0x1d2dfb['TBNPS']):_0x173e6a['useNormals']||_0x173e6a['useClearCo'+'atNormals']?_0x2514c6['append'](_0x1d2dfb['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x2514c6['append'](_0x1d2dfb['TBNObjectS'+'pacePS']),_0x173e6a['twoSidedLi'+'ghting']&&_0x2514c6['append'](_0x1d2dfb['twoSidedLi'+'ghtingPS'])),_0x2514c6['append'](_0x1d2dfb['sphericalP'+'S']),_0x2514c6['append'](_0x1d2dfb['decodePS']),_0x2514c6['append'](_0x1d2dfb['gammaPS']),_0x2514c6['append'](_0x1d2dfb['tonemappin'+'gPS']),_0x2514c6['append'](_0x1d2dfb['fogPS']),_0x2514c6['append'](this['frontendCo'+'de']),_0x173e6a['useCubeMap'+'Rotation']&&_0x34644e['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x2514c6['append'](_0x1d2dfb['cubeMapRot'+'atePS']),_0x2514c6['append'](_0x173e6a['cubeMapPro'+'jection']>-0xc83*0x3+-0x1*-0xcfa+0x1*0x188f?_0x1d2dfb['cubeMapPro'+'jectBoxPS']:_0x1d2dfb['cubeMapPro'+'jectNonePS']),_0x2514c6['append'](_0x173e6a['skyboxInte'+'nsity']?_0x1d2dfb['envMultipl'+'yPS']:_0x1d2dfb['envConstPS'])),(this['lighting']&&_0x173e6a['useSpecula'+'r']||this['reflection'+'s'])&&(_0x173e6a['useMetalne'+'ss']&&_0x2514c6['append'](_0x1d2dfb['metalnessM'+'odulatePS']),_0x173e6a['fresnelMod'+'el']===Sp&&_0x2514c6['append'](_0x1d2dfb['fresnelSch'+'lickPS']),_0x173e6a['useIridesc'+'ence']&&_0x2514c6['append'](_0x1d2dfb['iridescenc'+'eDiffracti'+'onPS'])),_0x173e6a['useAo'])switch(_0x2514c6['append'](_0x1d2dfb['aoDiffuseO'+'ccPS']),_0x173e6a['occludeSpe'+'cular']){case Bo:_0x2514c6['append'](_0x173e6a['occludeSpe'+'cularFloat']?_0x1d2dfb['aoSpecOccS'+'implePS']:_0x1d2dfb['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x2514c6['append'](_0x173e6a['occludeSpe'+'cularFloat']?_0x1d2dfb['aoSpecOccP'+'S']:_0x1d2dfb['aoSpecOccC'+'onstPS']);break;}_0x173e6a['reflection'+'Source']==='envAtlasHQ'?(_0x2514c6['append'](_0x1d2dfb['envAtlasPS']),_0x2514c6['append'](_0x1d2dfb['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x173e6a['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x173e6a['reflection'+'Encoding'])))):_0x173e6a['reflection'+'Source']==='envAtlas'?(_0x2514c6['append'](_0x1d2dfb['envAtlasPS']),_0x2514c6['append'](_0x1d2dfb['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x173e6a['reflection'+'Encoding'])))):_0x173e6a['reflection'+'Source']==='cubeMap'?_0x2514c6['append'](_0x1d2dfb['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x173e6a['reflection'+'Encoding']))):_0x173e6a['reflection'+'Source']==='sphereMap'&&_0x2514c6['append'](_0x1d2dfb['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x173e6a['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x173e6a['useClearCo'+'at']&&_0x2514c6['append'](_0x1d2dfb['reflection'+'CCPS']),_0x173e6a['useSheen']&&_0x2514c6['append'](_0x1d2dfb['reflection'+'SheenPS'])),_0x173e6a['useRefract'+'ion']&&(_0x173e6a['useDynamic'+'Refraction']?(_0x173e6a['dispersion']&&(_0x34644e['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x34644e['append']('#define\x20DI'+'SPERSION\x0a')),_0x2514c6['append'](_0x1d2dfb['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x2514c6['append'](_0x1d2dfb['refraction'+'CubePS'])),_0x173e6a['useSheen']&&_0x2514c6['append'](_0x1d2dfb['lightSheen'+'PS']),_0x173e6a['clusteredL'+'ightingEna'+'bled']&&(_0x2514c6['append'](_0x1d2dfb['clusteredL'+'ightUtilsP'+'S']),_0x173e6a['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x2514c6['append'](_0x1d2dfb['clusteredL'+'ightCookie'+'sPS']),_0x173e6a['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x173e6a['noShadow']&&(_0x55eee5[Lt]=!(0x1503+-0x9d+-0x2*0xa33),_0x55eee5[lh]=!(-0xafe+-0x1ee7+0x2cb*0xf),_0x55eee5[Ts]=!(0x24*0x106+-0x1e14+-0x6c4))),(_0x11a91f>-0x1*-0xb37+0xab*0x2a+0x9*-0x45d||_0x173e6a['clusteredL'+'ightingEna'+'bled'])&&(_0x4ddc44&&_0x2514c6['append'](_0x1d2dfb['shadowCasc'+'adesPS']),(_0x55eee5[Bh]||_0x55eee5[Lt]||_0x55eee5[Nh]||_0x55eee5[zh])&&_0x2514c6['append'](_0x1d2dfb['shadowStan'+'dardPS']),(_0x55eee5[lh]||_0x55eee5[Iu])&&_0x2514c6['append'](_0x1d2dfb['shadowStan'+'dardGL2PS']),_0x30ea0b&&(_0x2514c6['append'](_0x1d2dfb['shadowVSM_'+'commonPS']),_0x55eee5[Hr]&&_0x2514c6['append'](_0x1d2dfb['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x55eee5[$r]&&_0x2514c6['append'](_0x54e990['extTexture'+'FloatLinea'+'r']?_0x1d2dfb['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x1d2dfb['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x54570e&&(_0x2514c6['append'](_0x1d2dfb['linearizeD'+'epthPS']),_0x2514c6['append'](_0x1d2dfb['shadowPCSS'+'PS']),_0x2514c6['append'](_0x1d2dfb['shadowSoft'+'PS']))),_0x173e6a['enableGGXS'+'pecular']&&_0x2514c6['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x2514c6['append'](_0x1d2dfb['lightDiffu'+'seLambertP'+'S']),(_0xe71635||_0x173e6a['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x2514c6['append'](_0x1d2dfb['ltcPS']));let _0x52ab8b=!(0x10da+0x1*0x1023+0x83f*-0x4);_0x173e6a['useSpecula'+'r']&&(this['lighting']&&_0x2514c6['append'](_0x173e6a['enableGGXS'+'pecular']?_0x1d2dfb['lightSpecu'+'larAnisoGG'+'XPS']:_0x1d2dfb['lightSpecu'+'larBlinnPS']),!_0x173e6a['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x173e6a['diffuseMap'+'Enabled']&&(_0x34644e['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x34644e['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x52ab8b=!(-0xc25*-0x1+-0x19ea+0xdc5))),_0x2514c6['append'](_0x1d2dfb['combinePS']),_0x173e6a['lightMapEn'+'abled']&&_0x2514c6['append'](_0x173e6a['useSpecula'+'r']&&_0x173e6a['dirLightMa'+'pEnabled']?_0x1d2dfb['lightmapDi'+'rAddPS']:_0x1d2dfb['lightmapAd'+'dPS']);const _0x363676=!_0x173e6a['lightMapEn'+'abled']||_0x173e6a['lightMapWi'+'thoutAmbie'+'nt'];_0x363676&&(_0x173e6a['ambientSou'+'rce']==='ambientSH'?_0x2514c6['append'](_0x1d2dfb['ambientSHP'+'S']):_0x173e6a['ambientSou'+'rce']==='envAtlas'?(_0x173e6a['reflection'+'Source']!=='envAtlas'&&_0x173e6a['reflection'+'Source']!=='envAtlasHQ'&&_0x2514c6['append'](_0x1d2dfb['envAtlasPS']),_0x2514c6['append'](_0x1d2dfb['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x173e6a['ambientEnc'+'oding'])))):_0x2514c6['append'](_0x1d2dfb['ambientCon'+'stantPS'])),_0x52ab8b||_0x34644e['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x173e6a['useMsdf']&&(_0x173e6a['msdfTextAt'+'tribute']||_0x34644e['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x2514c6['append'](_0x1d2dfb['msdfPS'])),this['needsNorma'+'l']&&(_0x2514c6['append'](_0x1d2dfb['viewDirPS']),_0x173e6a['useSpecula'+'r']&&_0x2514c6['append'](_0x173e6a['enableGGXS'+'pecular']?_0x1d2dfb['reflDirAni'+'soPS']:_0x1d2dfb['reflDirPS']));let _0x8745b8=!(-0x1*0x188e+0x1801+-0x2*-0x47),_0x42695e=!(-0x2*-0xb3f+-0x21d+-0x1460),_0x22e3e5=!(0x1b3b+0x1*0x23f3+-0x3f2d),_0x5d5993=!(0x260e+-0x2f*-0x4c+-0x3401),_0x4d2447=!(0x18c7+-0x3ba+-0x543*0x4),_0x534e76;if(_0x173e6a['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x5d5993=!(-0x60b*0x1+0x1*0x674+-0x69),_0x8745b8=!(-0x1*0xd15+0x2*0x851+-0x65*0x9),_0x42695e=!(-0x686+-0x1e7c+0x2502),_0x4d2447=!(-0x1*-0x1c33+-0xd*-0xe2+-0x1*0x27ad),_0x2514c6['append'](_0x1d2dfb['floatUnpac'+'kingPS']),_0x173e6a['lightMaskD'+'ynamic']&&_0x34644e['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x173e6a['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x34644e['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x173e6a['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x173e6a['noShadow']){const _0x5c56e5=(_0x26fedc=ir['get'](_0x173e6a['clusteredL'+'ightingSha'+'dowType']))==null?void(-0x903+0x11*0x14e+-0xd2b*0x1):_0x26fedc['name'];v['assert'](_0x5c56e5);const _0x12d62f=_0x5c56e5['substring'](-0x1b3b+0x7*-0x36c+0x332f,0x533+0x2b3*-0x3+0x2ea);_0x34644e['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x34644e['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x12d62f);}_0x173e6a['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x34644e['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x34644e['append'](E0['getShaderD'+'efines']()),_0x173e6a['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x173e6a['noShadow']&&_0x2514c6['append'](_0x1d2dfb['clusteredL'+'ightShadow'+'sPS']),_0x2514c6['append'](_0x1d2dfb['clusteredL'+'ightPS']);}if(_0xe0f6ad['append'](this['_fsGetStar'+'tCode'](_0xe0f6ad,_0x54e990,_0x1d2dfb,_0x173e6a)),this['needsNorma'+'l']&&(_0xe0f6ad['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x173e6a['useHeights']||_0x173e6a['useNormals'])&&_0x173e6a['hasTangent'+'s']&&(_0xe0f6ad['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0xe0f6ad['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0xe0f6ad['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x5d1b5c&&(_0xe0f6ad['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x173e6a['twoSidedLi'+'ghting']&&_0xe0f6ad['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0xe0f6ad['append'](this['frontendFu'+'nc']),_0x173e6a['ssao']&&(_0x2514c6['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x2bbb92['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x173e6a['useSpecula'+'r']&&_0x2bbb92['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x173e6a['useClearCo'+'at']&&_0x2bbb92['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x173e6a['useSpecula'+'r']||this['reflection'+'s'])&&(_0x173e6a['useMetalne'+'ss']&&(_0x2bbb92['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x2bbb92['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x2bbb92['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x173e6a['useIridesc'+'ence']&&_0x2bbb92['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x363676&&(_0x2bbb92['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x173e6a['useSpecula'+'r']&&_0x2bbb92['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x173e6a['separateAm'+'bient']&&_0x2bbb92['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x52ab8b||_0x2bbb92['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x173e6a['useAo']&&!_0x173e6a['occludeDir'+'ect']&&_0x2bbb92['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x173e6a['lightMapEn'+'abled']&&_0x2bbb92['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x173e6a['useClearCo'+'at']&&(_0x2bbb92['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x173e6a['fresnelMod'+'el']>-0x1dc0+-0x1db4+0x3b74?(_0x2bbb92['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x2bbb92['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x2bbb92['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x173e6a['useSpecula'+'rityFactor']&&_0x2bbb92['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x173e6a['useSheen']&&_0x2bbb92['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x2bbb92['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x173e6a['fresnelMod'+'el']>0xe6b+-0x221*-0xb+-0x25d6?_0x2bbb92['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x2bbb92['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x173e6a['useSpecula'+'rityFactor']&&_0x2bbb92['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0xe71635&&(_0x2bbb92['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x173e6a['useSpecula'+'r']&&_0x2bbb92['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x54fd91=0xdb*-0x1d+0x1*0xa51+0x46*0x35;_0x54fd91<_0x173e6a['lights']['length'];_0x54fd91++){const _0xe23742=_0x173e6a['lights'][_0x54fd91],_0x592bb5=_0xe23742['_type'];if(_0x173e6a['clusteredL'+'ightingEna'+'bled']&&_0x592bb5!==oe)continue;_0x534e76=!(0x2*0x21b+-0x57*-0x19+-0xcb4);const _0x17a7aa=_0xe71635&&_0xe23742['_shape']?_0xe23742['shape']:yt,_0x36e962=_0xe71635&&_0xe23742['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x17a7aa):'';if(_0x17a7aa!==yt&&_0x2bbb92['append']('\x20\x20\x20\x20calc'+_0x36e962+('LightValue'+'s(light')+_0x54fd91+('_position,'+'\x20light')+_0x54fd91+('_halfWidth'+',\x20light')+_0x54fd91+('_halfHeigh'+'t);')),_0x592bb5===oe?(_0x2bbb92['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x54fd91+('_direction'+';')),_0x2bbb92['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0xe23742['_cookie']&&(_0x592bb5===Re&&!_0xe23742['_cookie']['_cubemap']||_0x592bb5===Pe&&_0xe23742['_cookie']['_cubemap'])&&(_0x4d2447=!(0xb98+0x9b2*-0x1+-0x1e6),_0x534e76=!(0x47c*-0x3+0x1*0xf92+-0x21e*0x1)),_0x2bbb92['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x54fd91+('_position)'+';')),_0x8745b8=!(0x115d+-0x1c5+-0xf98),_0x534e76&&(_0x592bb5===Re?_0x2bbb92['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0xe23742['_cookieFal'+'loff']?'':'Clip')+(_0xe23742['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x54fd91+('_cookie,\x20l'+'ight')+_0x54fd91+('_shadowMat'+'rix,\x20light')+_0x54fd91+('_cookieInt'+'ensity')+(_0xe23742['_cookieTra'+'nsform']?',\x20light'+_0x54fd91+('_cookieMat'+'rix,\x20light')+_0x54fd91+('_cookieOff'+'set'):'')+').'+_0xe23742['_cookieCha'+'nnel']+';'):_0x2bbb92['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x54fd91+('_cookie,\x20l'+'ight')+_0x54fd91+('_shadowMat'+'rix,\x20light')+_0x54fd91+('_cookieInt'+'ensity).')+_0xe23742['_cookieCha'+'nnel']+';')),_0x17a7aa===yt?_0xe23742['_falloffMo'+'de']===wp?(_0x2bbb92['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x54fd91+('_radius,\x20d'+'LightDirW)'+';')),_0x42695e=!(-0x1a03*0x1+0x1*-0x9c5+0x23c8)):(_0x2bbb92['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x54fd91+('_radius,\x20d'+'LightDirW)'+';')),_0x22e3e5=!(0x1b7*-0xd+-0x26af+0x7*0x8b6)):(_0x2bbb92['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x54fd91+('_radius,\x20d'+'LightDirW)'+';')),_0x22e3e5=!(0x2b3+0x4*-0x493+-0x533*-0x3)),_0x2bbb92['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x592bb5===Re&&(_0x534e76&&!_0xe23742['_cookieFal'+'loff']||(_0x2bbb92['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x54fd91+('_direction'+',\x20light')+_0x54fd91+('_innerCone'+'Angle,\x20lig'+'ht')+_0x54fd91+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x5d5993=!(0x2497*-0x1+0x1dc6*0x1+0x6d1)))),_0x17a7aa!==yt?_0x592bb5===oe?_0x2bbb92['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x2bbb92['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x36e962+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x2bbb92['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0xe23742['castShadow'+'s']&&!_0x173e6a['noShadow']){const _0x53032d=ir['get'](_0xe23742['_shadowTyp'+'e']);v['assert'](_0x53032d);const _0x11afb9=_0xe23742['_shadowTyp'+'e']===Ts,_0x2ada79=_0x53032d==null?void(0x1ea9+-0xf6c+-0x1*0xf3d):_0x53032d['vsm'],_0x3c641b=_0x53032d==null?void(0x7*-0x43+-0x2*0x959+0x41b*0x5):_0x53032d['pcf'];let _0x3877b2=null,_0xcf14ce;switch(_0xe23742['_shadowTyp'+'e']){case Hr:_0x3877b2='VSM16',_0xcf14ce='5.54';break;case $r:_0x3877b2='VSM32',_0xcf14ce='15.0';break;case Bh:case Nh:_0x3877b2='PCF1x1';break;case lh:case Iu:_0x3877b2='PCF5x5';break;case Ts:_0x3877b2='PCSS';break;case Lt:case zh:default:_0x3877b2='PCF3x3';break;}if(_0x3877b2!==null){_0xe23742['_normalOff'+'setBias']&&!_0xe23742['_isVsm']&&_0x2514c6['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x592bb5===oe&&_0x2514c6['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x3c641b||_0x11afb9||_0x54e990['isWebGPU'])&&_0x2514c6['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x592bb5===Pe&&_0x2514c6['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x4f7489=_0x1d2dfb['shadowSamp'+'leCoordPS'];_0x2514c6['append'](_0x4f7489['replace']('$LIGHT',_0x54fd91)),_0x2514c6['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x2514c6['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x2514c6['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x2514c6['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x1ccf60='light'+_0x54fd91+('_shadowMat'+'rix');_0x592bb5===oe&&_0xe23742['numCascade'+'s']>-0x2fb+0xb84+0x2*-0x444&&(_0x2bbb92['append']('int\x20cascad'+'eIndex'+_0x54fd91+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x54fd91+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x54fd91+('_shadowCas'+'cadeCount)'+';')),_0xe23742['cascadeBle'+'nd']>0xbb*0x11+-0x1cdd*0x1+0x1072&&_0x2bbb92['append']('cascadeInd'+'ex'+_0x54fd91+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x54fd91+',\x20light'+_0x54fd91+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x54fd91+('_shadowCas'+'cadeCount,'+'\x20light')+_0x54fd91+('_shadowCas'+'cadeBlend)'+';')),_0x2bbb92['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x54fd91+'\x20=\x20light'+_0x54fd91+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x54fd91+'];'),_0x1ccf60='cascadeSha'+'dowMat'+_0x54fd91),_0x2bbb92['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x54fd91+'('+_0x1ccf60+',\x20light'+_0x54fd91+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x592bb5===oe&&_0x2bbb92['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x54fd91+('_shadowCas'+'cadeDistan'+'ces);'));let _0x48d47c='SHADOWMAP_'+'PASS(light'+_0x54fd91+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x54fd91+('_shadowPar'+'ams');if(_0x2ada79)_0x48d47c=_0x48d47c+',\x20'+_0xcf14ce+(',\x20dLightDi'+'rW');else{if(_0x11afb9){let _0x419a7c=_0x592bb5===oe?'light'+_0x54fd91+('_softShado'+'wParams'):'vec2(light'+_0x54fd91+('_shadowSea'+'rchArea)');_0x17a7aa!==yt&&(_0x419a7c='vec2(lengt'+'h(light'+_0x54fd91+('_halfWidth'+'),\x20length('+'light')+_0x54fd91+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x54fd91+('_shadowSea'+'rchArea')),_0x48d47c=_0x48d47c+',\x20light'+_0x54fd91+('_cameraPar'+'ams,\x20')+_0x419a7c+(',\x20dLightDi'+'rW');}}_0x592bb5===Pe?(_0x3877b2='Point'+_0x3877b2,_0x11afb9||(_0x48d47c=_0x48d47c+(',\x20dLightDi'+'rW'))):_0x592bb5===Re&&(_0x3877b2='Spot'+_0x3877b2),_0x2bbb92['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x54fd91+('\x20=\x20getShad'+'ow')+_0x3877b2+'('+_0x48d47c+');'),_0x2bbb92['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x54fd91+',\x20light'+_0x54fd91+('_shadowInt'+'ensity);'));}}if(_0x17a7aa!==yt?_0x173e6a['useSpecula'+'r']?_0x2bbb92['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x54fd91+'_color'+(_0x534e76?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x2bbb92['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x54fd91+'_color'+(_0x534e76?'\x20*\x20dAtten3':'')+';'):_0xe71635&&_0x173e6a['useSpecula'+'r']?_0x2bbb92['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x54fd91+'_color'+(_0x534e76?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x2bbb92['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x54fd91+'_color'+(_0x534e76?'\x20*\x20dAtten3':'')+';'),_0x173e6a['useSpecula'+'r']&&_0x2bbb92['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0xe23742['affectSpec'+'ularity']){if(_0x17a7aa!==yt)_0x173e6a['useClearCo'+'at']&&_0x2bbb92['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x36e962+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x54fd91+'_color'+(_0x534e76?'\x20*\x20dAtten3':'')+';'),_0x173e6a['useSpecula'+'r']&&_0x2bbb92['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x36e962+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x54fd91+'_color'+(_0x534e76?'\x20*\x20dAtten3':'')+';');else{let _0x5ef4e6=!(0x1293+0x73*-0x20+-0x432*0x1);_0x592bb5===oe&&_0x173e6a['fresnelMod'+'el']>-0x1*0x1f67+-0x6dd+0x2644&&(_0x5ef4e6=!(-0x1bf1*0x1+-0x8d*0x29+0x1be*0x1d)),_0x173e6a['useClearCo'+'at']&&_0x2bbb92['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x54fd91+'_color'+(_0x534e76?'\x20*\x20dAtten3':'')+(_0x5ef4e6?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x173e6a['useSheen']&&_0x2bbb92['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x54fd91+'_color'+(_0x534e76?'\x20*\x20dAtten3'+';':';')),_0x173e6a['useSpecula'+'r']&&_0x2bbb92['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x54fd91+'_color'+(_0x534e76?'\x20*\x20dAtten3':'')+(_0x5ef4e6?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x592bb5!==oe&&_0x2bbb92['append']('\x20\x20\x20\x20}');}_0x173e6a['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x42695e=!(-0x1cd4+0x16a*0x13+0x1f6),_0x22e3e5=!(-0x7*-0x474+-0x1bcd+-0x35f),_0x8745b8=!(0x21de+0x4*-0x621+-0x95a),_0x2bbb92['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0xe71635&&(_0x173e6a['useClearCo'+'at']&&_0x2bbb92['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x173e6a['useSpecula'+'r']&&_0x2bbb92['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x173e6a['useRefract'+'ion']&&_0x2bbb92['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x173e6a['useAo']&&(_0x173e6a['occludeDir'+'ect']&&_0x2bbb92['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x173e6a['occludeSpe'+'cular']===Bo||_0x173e6a['occludeSpe'+'cular']===Lu)&&_0x2bbb92['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x173e6a['useSpecula'+'rityFactor']&&_0x2bbb92['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x173e6a['opacityFad'+'esSpecular']===!(0x412*0x1+-0xee+-0x323)&&((_0x173e6a['blendType']===Kt||_0x173e6a['blendType']===hr)&&(_0x2bbb92['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x2bbb92['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x2bbb92['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x2bbb92['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x2bbb92['append'](_0x1d2dfb['endPS']),_0x173e6a['blendType']===Kt||_0x173e6a['blendType']===Hc||_0x173e6a['alphaToCov'+'erage']?_0x2bbb92['append'](_0x1d2dfb['outputAlph'+'aPS']):_0x173e6a['blendType']===hr?_0x2bbb92['append'](_0x1d2dfb['outputAlph'+'aPremulPS']):_0x2bbb92['append'](_0x1d2dfb['outputAlph'+'aOpaquePS']),_0x173e6a['useMsdf']&&_0x2bbb92['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x2bbb92['append'](_0x1d2dfb['outputPS']),_0x2bbb92['append'](_0x1d2dfb['debugOutpu'+'tPS']),_0x8745b8&&_0x2514c6['prepend'](_0x1d2dfb['lightDirPo'+'intPS']),_0x42695e&&_0x2514c6['prepend'](_0x1d2dfb['falloffLin'+'earPS']),_0x22e3e5&&_0x2514c6['prepend'](_0x1d2dfb['falloffInv'+'SquaredPS']),_0x5d5993&&_0x2514c6['prepend'](_0x1d2dfb['spotPS']),_0x4d2447&&!_0x173e6a['clusteredL'+'ightingEna'+'bled']&&_0x2514c6['prepend'](_0x1d2dfb['cookiePS']);let _0x54887f='';const _0x467a39='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x2bbb92['code']+'\x0a}';_0x2514c6['append'](_0x467a39),_0xe0f6ad['append'](_0x1d2dfb['debugProce'+'ssFrontend'+'PS']),_0xe0f6ad['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0xe0f6ad['append'](Dt['end']());const _0xbba5d1=_0x34644e['code']+_0x2514c6['code']+_0xe0f6ad['code'];return _0xbba5d1['includes']('dTBN')&&(_0x54887f+='mat3\x20dTBN;'+'\x0a'),_0xbba5d1['includes']('dVertexNor'+'malW')&&(_0x54887f+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0xbba5d1['includes']('dTangentW')&&(_0x54887f+='vec3\x20dTang'+'entW;\x0a'),_0xbba5d1['includes']('dBinormalW')&&(_0x54887f+='vec3\x20dBino'+'rmalW;\x0a'),_0xbba5d1['includes']('dViewDirW')&&(_0x54887f+='vec3\x20dView'+'DirW;\x0a'),_0xbba5d1['includes']('dReflDirW')&&(_0x54887f+='vec3\x20dRefl'+'DirW;\x0a'),_0xbba5d1['includes']('dHalfDirW')&&(_0x54887f+='vec3\x20dHalf'+'DirW;\x0a'),_0xbba5d1['includes']('ccReflDirW')&&(_0x54887f+='vec3\x20ccRef'+'lDirW;\x0a'),_0xbba5d1['includes']('dLightDirN'+'ormW')&&(_0x54887f+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0xbba5d1['includes']('dLightDirW')&&(_0x54887f+='vec3\x20dLigh'+'tDirW;\x0a'),_0xbba5d1['includes']('dLightPosW')&&(_0x54887f+='vec3\x20dLigh'+'tPosW;\x0a'),_0xbba5d1['includes']('dShadowCoo'+'rd')&&(_0x54887f+='vec3\x20dShad'+'owCoord;\x0a'),_0xbba5d1['includes']('dReflectio'+'n')&&(_0x54887f+='vec4\x20dRefl'+'ection;\x0a'),_0xbba5d1['includes']('dDiffuseLi'+'ght')&&(_0x54887f+='vec3\x20dDiff'+'useLight;\x0a'),_0xbba5d1['includes']('dSpecularL'+'ight')&&(_0x54887f+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0xbba5d1['includes']('dAtten')&&(_0x54887f+='float\x20dAtt'+'en;\x0a'),_0xbba5d1['includes']('dAttenD')&&(_0x54887f+='float\x20dAtt'+'enD;\x0a'),_0xbba5d1['includes']('dAtten3')&&(_0x54887f+='vec3\x20dAtte'+'n3;\x0a'),_0xbba5d1['includes']('dMsdf')&&(_0x54887f+='vec4\x20dMsdf'+';\x0a'),_0xbba5d1['includes']('ccFresnel')&&(_0x54887f+='float\x20ccFr'+'esnel;\x0a'),_0xbba5d1['includes']('ccReflecti'+'on')&&(_0x54887f+='vec3\x20ccRef'+'lection;\x0a'),_0xbba5d1['includes']('ccSpecular'+'Light')&&(_0x54887f+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0xbba5d1['includes']('ccSpecular'+'ityNoFres')&&(_0x54887f+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0xbba5d1['includes']('sSpecularL'+'ight')&&(_0x54887f+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0xbba5d1['includes']('sReflectio'+'n')&&(_0x54887f+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x54887f+this['frontendDe'+'cl']+_0xbba5d1;}['generateFr'+'agmentShad'+'er'](_0x18462e,_0x452f45,_0x4dce04,_0x5e5eba){const _0x59d334=this['options'];this['frontendDe'+'cl']=_0x18462e,this['frontendCo'+'de']=_0x452f45,this['frontendFu'+'nc']=_0x4dce04,this['lightingUv']=_0x5e5eba,_0x59d334['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x59d334['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x59d334['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x59d334['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x59d334['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(-0x2d*0x51+-0x127d+0x20bb)),c(this,'chunks',{}),c(this,'pass',0x312*0x1+-0x1342+0x1030),c(this,'alphaTest',!(0x2313+-0x28d+-0x22b*0xf)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(0x8d2*-0x2+0x1*-0x2381+0x3526)),c(this,'screenSpac'+'e',!(-0x1897+0x51*0x24+0x34d*0x4)),c(this,'skin',!(0x1*0x1ad5+-0x23dd+-0x303*-0x3)),c(this,'batch',!(0x2*0x122d+0x2192*-0x1+-0x2c7)),c(this,'useInstanc'+'ing',!(0x7c9*-0x2+0x1393*-0x1+0xb*0x332)),c(this,'useMorphPo'+'sition',!(-0x5*-0x3fd+-0x2*-0x99c+0x2cc*-0xe)),c(this,'useMorphNo'+'rmal',!(0xf1*0x1+0xa28+-0xb18)),c(this,'useMorphTe'+'xtureBased'+'Int',!(-0xc77+0xecb+-0x253)),c(this,'nineSliced'+'Mode',-0x1c51+0x1a0f+-0x2*-0x121),c(this,'clusteredL'+'ightingEna'+'bled',!(-0x1*-0x78a+-0x13*0x1c3+0x19ef)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x335*0x7+-0x217*0x4+0x3*-0x4b2)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x101e+0x10dd+0xa*-0x13)),c(this,'clusteredL'+'ightingSha'+'dowType',0x3*0xca4+-0x2*0xa4b+-0x1156),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0xd56+0x1*-0x15af+0x85a)),c(this,'vertexColo'+'rs',!(-0xd*-0x2cc+-0x2ed*0x2+-0x1e81)),c(this,'lightMapEn'+'abled',!(0x16*0x189+0x5fd+-0x27c2)),c(this,'dirLightMa'+'pEnabled',!(0xced+-0x196+-0xb56)),c(this,'useHeights',!(0x3*0x3a1+-0x11b7+-0x6d5*-0x1)),c(this,'useNormals',!(-0x1bae+0xc14+0x11*0xeb)),c(this,'useClearCo'+'atNormals',!(0x1*0x11b4+0xbef*-0x1+-0xc*0x7b)),c(this,'useAo',!(-0x6*-0x629+0x1*-0x839+-0x3*0x994)),c(this,'diffuseMap'+'Enabled',!(0x380*-0x1+0x194a+-0x15c9)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(-0x12b5+-0x1*0xf61+0x1*0x2217)),c(this,'ambientSH',!(0x136*-0x5+0xb89*0x1+0x57a*-0x1)),c(this,'ssao',!(0xb*0x2c0+0x9e*0x8+-0x1*0x232f)),c(this,'twoSidedLi'+'ghting',!(0x22a2+-0xfe5+0x16*-0xda)),c(this,'occludeDir'+'ect',!(-0x2*0x754+-0x5bb*0x5+0x2b50)),c(this,'occludeSpe'+'cular',0x3e4+-0xff6+0xc12),c(this,'occludeSpe'+'cularFloat',!(0x3e2*-0x1+-0x9ed+0xdd0)),c(this,'useMsdf',!(0x1bbe+0x4f0+-0x20ad)),c(this,'msdfTextAt'+'tribute',!(0x5*0x75f+0x71*0x29+-0x36f3)),c(this,'alphaToCov'+'erage',!(0xa4d+0x36d+-0x1*0xdb9)),c(this,'opacityFad'+'esSpecular',!(0x1947+-0x1c1e*0x1+0x8*0x5b)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',0x514*-0x4+-0x1*0x20c4+0x3514),c(this,'useSpecula'+'r',!(-0x1*-0xc1f+-0x25b3+0x1*0x1995)),c(this,'useSpecula'+'rityFactor',!(-0x18ec+0x1a8b+-0x19e)),c(this,'enableGGXS'+'pecular',!(-0x7*-0x3d6+-0xd80+-0xd59)),c(this,'fresnelMod'+'el',-0xbce+0x1*-0x102d+0x13*0x179),c(this,'useRefract'+'ion',!(0x2271*0x1+0x1*0x1cf9+0x3*-0x1523)),c(this,'useClearCo'+'at',!(-0x53*0x47+0x1*0x12ac+0x2*0x22d)),c(this,'useSheen',!(0x1128+0x127b*-0x1+0x154)),c(this,'useIridesc'+'ence',!(0x4*-0x3a0+0x1*0x172f+-0x8ae)),c(this,'useMetalne'+'ss',!(0xedd+-0x1d2*-0x9+0x3*-0xa6a)),c(this,'useDynamic'+'Refraction',!(0x4c3*-0x3+0x1f1e+-0x10d4)),c(this,'dispersion',!(-0x1*0x409+0x73e+-0x334*0x1)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(0x2423+0x1736+0x6*-0x9e4)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',0x190a+-0x57*0x25+-0x1*0xc76),c(this,'useCubeMap'+'Rotation',!(0x2d*0x3d+-0x81b+-0x3*0xdf)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x192a+0x78*0x3c+0x11c3*-0x3)),c(this,'lights',[]),c(this,'noShadow',!(-0x5*-0x7c1+-0x1d9b+-0x929)),c(this,'lightMaskD'+'ynamic',-0x1b0f+-0x1380*-0x2+-0x1*0xbf1),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(-0x777+0x1e36+-0x16be*0x1));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(-0x646+-0x1b*0xdd+-0x7*-0x43a)),c(this,'specularTi'+'nt',!(0x1a*-0x142+0x22e5+-0x23*0x10)),c(this,'metalnessT'+'int',!(-0x3*-0x29a+-0x1afb+0x1*0x132e)),c(this,'glossTint',!(-0x1*0x16b7+-0x11f8+0xf8*0x2a)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(0x1b*-0xb+-0xdfd+-0xf27*-0x1)),c(this,'glossInver'+'t',!(0x2656+-0xe92+-0x17c3)),c(this,'sheenGloss'+'Invert',!(0x8d4+-0x2036+0x1763*0x1)),c(this,'clearCoatG'+'lossInvert',!(-0xf10+0x26d8+-0x17c7)),c(this,'useAO',!(0x7c9*0x4+-0x863*-0x3+-0x1*0x384c)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x3d3b25){return'lit'+Object['keys'](_0x3d3b25)['sort']()['map'](_0x69ced0=>_0x69ced0==='chunks'?Uu['generateCh'+'unksKey'](_0x3d3b25):_0x69ced0==='lights'?Uu['generateLi'+'ghtsKey'](_0x3d3b25):_0x69ced0+_0x3d3b25[_0x69ced0])['join']('\x0a');},'generateLightsKey'(_0x2e8b63){return'lights:'+_0x2e8b63['lights']['map'](_0x111c5a=>!_0x2e8b63['clusteredL'+'ightingEna'+'bled']||_0x111c5a['_type']===oe?_0x111c5a['key']+',':'')['join']('');},'generateChunksKey'(_0x4bfb41){return'chunks:\x0a'+Object['keys'](_0x4bfb41['chunks']??{})['sort']()['map'](_0x108f72=>_0x108f72+_0x4bfb41['chunks'][_0x108f72])['join']('');}},fa=[],Ad=_0x4f64bd=>Object['keys'](_0x4f64bd)['filter'](_0x444872=>_0x444872!=='litOptions')['sort']();class XC extends Dt{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x1b2453){let _0x2439af;return _0x1b2453===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x1b2453)),_0x2439af=this['propsMin']):_0x1b2453===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x1b2453)),_0x2439af=this['props']):_0x2439af=Ad(_0x1b2453),'standard:\x0a'+Dt['definesHas'+'h'](_0x1b2453['defines'])+'\x0a'+_0x2439af['map'](_0x3f302b=>_0x3f302b+_0x1b2453[_0x3f302b])['join']('\x0a')+Uu['generateKe'+'y'](_0x1b2453['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x3e7931,_0x45b12d,_0x27201d){const _0x36e173=_0x27201d[_0x3e7931],_0x5ef74f=_0x27201d[_0x45b12d],_0xab6d43=_0x27201d['litOptions']['pass']===gn;let _0x285685;return _0xab6d43&&_0x27201d['litOptions']['nineSliced'+'Mode']===nt||_0xab6d43&&_0x27201d['litOptions']['nineSliced'+'Mode']===Qe?_0x285685='nineSliced'+'Uv':(_0x36e173===0xfdd*0x2+-0x203*-0x2+0x11e0*-0x2?_0x285685='vUv'+_0x5ef74f:_0x285685='vUV'+_0x5ef74f+'_'+_0x36e173,_0x27201d['heightMap']&&_0x3e7931!=='heightMapT'+'ransform'&&(_0x285685+='\x20+\x20dUvOffs'+'et')),_0x285685;}['_addMapDef'](_0x3049fd,_0x10a472){return _0x10a472?'#define\x20'+_0x3049fd+'\x0a':'#undef\x20'+_0x3049fd+'\x0a';}['_addMapDef'+'s'](_0x35a2f5,_0x1de787,_0x25a77d,_0x277ff2,_0x3f9384){return this['_addMapDef']('MAPFLOAT',_0x35a2f5)+this['_addMapDef']('MAPCOLOR',_0x1de787)+this['_addMapDef']('MAPVERTEX',_0x25a77d)+this['_addMapDef']('MAPTEXTURE',_0x277ff2)+this['_addMapDef']('MAPINVERT',_0x3f9384);}['_addMap'](_0x2e7662,_0x2db8d9,_0x5098dc,_0x3ffe39,_0x1426a8,_0x3cf864=null){const _0xc8d6f5=_0x2e7662+'Map',_0x4821de=_0xc8d6f5+'Uv',_0x562bdf=_0xc8d6f5+'Identifier',_0x427662=_0xc8d6f5+'Transform',_0x498396=_0xc8d6f5+'Channel',_0xbb5049=_0x2e7662+('VertexColo'+'rChannel'),_0x1836e7=_0x2e7662+'Tint',_0x3042a1=_0x2e7662+('VertexColo'+'r'),_0x4de427=_0x2e7662+'Mode',_0x289e67=_0x2e7662+'Invert',_0x1086ce=_0x5098dc[_0x1836e7],_0x20a325=_0x5098dc[_0x3042a1],_0x5a4883=_0x5098dc[_0xc8d6f5],_0x238a2d=_0x5098dc[_0x562bdf],_0x37d2b3=_0x5098dc[_0x4de427];let _0x5d2e44=_0x3ffe39[_0x2db8d9];if(_0x5a4883){const _0x1b3b12=this['_getUvSour'+'ceExpressi'+'on'](_0x427662,_0x4821de,_0x5098dc);if(_0x5d2e44=_0x5d2e44['replace'](/\$UV/g,_0x1b3b12)['replace'](/\$CH/g,_0x5098dc[_0x498396]),_0x1426a8&&_0x5d2e44['search'](/\$SAMPLER/g)!==-(0xff*0x23+-0x12ee+-0xfee)){let _0x50780a='texture_'+_0xc8d6f5;const _0x2fc877=_0x1426a8[_0x238a2d];_0x2fc877?_0x50780a=_0x2fc877:_0x1426a8[_0x238a2d]=_0x50780a,_0x5d2e44=_0x5d2e44['replace'](/\$SAMPLER/g,_0x50780a);}if(_0x3cf864&&(_0x5098dc[_0x498396]==='aaa'?_0x5d2e44=_0x5d2e44['replace'](/\$DECODE/g,'passThroug'+'h'):_0x5d2e44=_0x5d2e44['replace'](/\$DECODE/g,Es['decodeFunc'](_0x3cf864)),_0x5d2e44['indexOf']('$texture2D'+'SAMPLE'))){const _0x4ba564={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x5d2e44=_0x5d2e44['replace'](/\$texture2DSAMPLE/g,_0x4ba564[_0x3cf864]||'texture2D');}}_0x20a325&&(_0x5d2e44=_0x5d2e44['replace'](/\$VC/g,_0x5098dc[_0xbb5049])),_0x37d2b3&&(_0x5d2e44=_0x5d2e44['replace'](/\$DETAILMODE/g,_0x37d2b3));const _0xed1e5f=!!(_0x1086ce&-0x116f+-0x31d*0x1+0x148d),_0x5eb3c4=!!(_0x1086ce&-0x11be+0x4b*-0x83+-0x1*-0x3821),_0x2a051a=!!_0x5098dc[_0x289e67];return _0x5d2e44=this['_addMapDef'+'s'](_0xed1e5f,_0x5eb3c4,_0x20a325,_0x5a4883,_0x2a051a)+_0x5d2e44,_0x5d2e44['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x1775fc,_0x5e02af,_0x440a2e){if(_0x440a2e[_0x1775fc]>-0x1*-0x833+-0x9d1+0x19e){if(_0x440a2e[_0x1775fc]<_0x5e02af['length'])return _0x5e02af['substring'](0x157f+-0xdb1+-0x9*0xde,_0x440a2e[_0x1775fc]);if(_0x440a2e[_0x1775fc]>_0x5e02af['length']){let _0x55ce0e=_0x5e02af;const _0x2a3dab=_0x55ce0e['charAt'](_0x55ce0e['length']-(-0x1*-0x204e+0x1992+0x39df*-0x1)),_0x1ec6b9=_0x440a2e[_0x1775fc]-_0x55ce0e['length'];for(let _0x4e7a39=-0x742*-0x4+-0x262f+0x927;_0x4e7a39<_0x1ec6b9;_0x4e7a39++)_0x55ce0e+=_0x2a3dab;return _0x55ce0e;}return _0x5e02af;}}['createShad'+'erDefiniti'+'on'](_0x4364a5,_0x24616f){const _0x1d3201=Ks['get'](_0x4364a5)['getByIndex'](_0x24616f['litOptions']['pass'])['isForward'],_0x2344c1=new WC(_0x4364a5,_0x24616f['litOptions']),_0x428163=[],_0x53ef86=[],_0x5ddc82=[],_0x146f7b=-0x10*-0x15+-0x1165+0x1017*0x1,_0x450cf3={};for(const _0x11d0a9 in fa){const _0x53af07=_0x11d0a9+'Map';if(_0x24616f[_0x11d0a9+('VertexColo'+'r')]){const _0x227056=_0x11d0a9+('VertexColo'+'rChannel');_0x24616f[_0x227056]=this['_correctCh'+'annel'](_0x11d0a9,_0x24616f[_0x227056],fa);}if(_0x24616f[_0x53af07]){const _0x171a5b=_0x53af07+'Channel',_0x5670b8=_0x53af07+'Transform',_0x29c31b=_0x53af07+'Uv';_0x24616f[_0x29c31b]=Math['min'](_0x24616f[_0x29c31b],_0x146f7b-(-0x1*-0x19e2+0x1d90+-0x3771)),_0x24616f[_0x171a5b]=this['_correctCh'+'annel'](_0x11d0a9,_0x24616f[_0x171a5b],fa);const _0x2897d3=_0x24616f[_0x29c31b];_0x428163[_0x2897d3]=!(0x1e23+0x1*-0x1baf+-0x274*0x1),_0x53ef86[_0x2897d3]=_0x53ef86[_0x2897d3]||_0x24616f[_0x53af07]&&!_0x24616f[_0x5670b8],_0x24616f[_0x5670b8]&&_0x5ddc82['push']({'name':_0x11d0a9,'id':_0x24616f[_0x5670b8],'uv':_0x24616f[_0x29c31b]});}}_0x24616f['forceUv1']&&(_0x428163[-0x80*0x14+0xd*0xbd+-0xd*-0x8]=!(-0xea6+-0x4*-0x290+0x466),_0x53ef86[0x808+-0x1700+0xef9]=_0x53ef86[0x17*-0x2b+0x170b+-0x132d*0x1]!==void(0x1410+0xd*0x161+-0x25fd)?_0x53ef86[-0x21f2+0x1a0a+0x3*0x2a3]:!(0x8*0x4bd+-0x168a+-0xf5e)),_0x2344c1['generateVe'+'rtexShader'](_0x428163,_0x53ef86,_0x5ddc82),_0x24616f['litOptions']['fresnelMod'+'el']=_0x24616f['litOptions']['fresnelMod'+'el']===0x2270+0x1*-0x48a+-0x1de6?Sp:_0x24616f['litOptions']['fresnelMod'+'el'];const _0x4f2d6c=new sr(),_0x46fb37=new sr(),_0x38901d=new sr(),_0x1797e9=new sr();let _0x33cf66='';if(_0x24616f['litOptions']['nineSliced'+'Mode']===Qe?_0x4f2d6c['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x4f2d6c['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x1d3201){if(_0x24616f['heightMap']&&(_0x4f2d6c['append']('vec2\x20dUvOf'+'fset;'),_0x46fb37['append'](this['_addMap']('height','parallaxPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getParalla'+'x();')),_0x24616f['litOptions']['blendType']!==is||_0x24616f['litOptions']['alphaTest']||_0x24616f['litOptions']['alphaToCov'+'erage']||_0x24616f['litOptions']['opacityDit'+'her']!==Rs){_0x4f2d6c['append']('float\x20dAlp'+'ha;'),_0x46fb37['append'](this['_addMap']('opacity','opacityPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getOpacity'+'();'),_0x1797e9['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x24616f['litOptions']['alphaTest']&&(_0x46fb37['append'](_0x2344c1['chunks']['alphaTestP'+'S']),_0x38901d['append']('alphaTest('+'dAlpha);'));const _0x5e050c=_0x24616f['litOptions']['opacityDit'+'her'];_0x5e050c!==Rs&&(_0x5e050c===Nm&&_0x4f2d6c['append'](_0x2344c1['chunks']['bayerPS']),_0x4f2d6c['append']('#define\x20DI'+'THER_'+_0x5e050c['toUpperCas'+'e']()+'\x0a'),_0x4f2d6c['append'](_0x2344c1['chunks']['opacityDit'+'herPS']),_0x38901d['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x4f2d6c['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x2344c1['needsNorma'+'l']){if((_0x24616f['normalMap']||_0x24616f['clearCoatN'+'ormalMap'])&&(_0x46fb37['append'](_0x24616f['packedNorm'+'al']?_0x2344c1['chunks']['normalXYPS']:_0x2344c1['chunks']['normalXYZP'+'S']),!_0x24616f['litOptions']['hasTangent'+'s'])){const _0x188d08=_0x24616f['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x33cf66=this['_getUvSour'+'ceExpressi'+'on'](_0x188d08+'Transform',_0x188d08+'Uv',_0x24616f);}_0x4f2d6c['append']('vec3\x20dNorm'+'alW;'),_0x46fb37['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x46fb37['append'](this['_addMap']('normal','normalMapP'+'S',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getNormal('+');'),_0x1797e9['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x2344c1['needsScene'+'Color']&&_0x4f2d6c['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x2344c1['needsScree'+'nSize']&&_0x4f2d6c['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x2344c1['needsTrans'+'forms']&&(_0x4f2d6c['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x4f2d6c['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x24616f['diffuseDet'+'ail']||_0x24616f['aoDetail'])&&_0x46fb37['append'](_0x2344c1['chunks']['detailMode'+'sPS']),_0x4f2d6c['append']('vec3\x20dAlbe'+'do;'),_0x24616f['diffuseDet'+'ail']&&_0x46fb37['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3,_0x24616f['diffuseDet'+'ailEncodin'+'g'])),_0x46fb37['append'](this['_addMap']('diffuse','diffusePS',_0x24616f,_0x2344c1['chunks'],_0x450cf3,_0x24616f['diffuseEnc'+'oding'])),_0x38901d['append']('getAlbedo('+');'),_0x1797e9['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x24616f['litOptions']['useRefract'+'ion']&&(_0x4f2d6c['append']('float\x20dTra'+'nsmission;'),_0x46fb37['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getRefract'+'ion();'),_0x1797e9['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x4f2d6c['append']('float\x20dThi'+'ckness;'),_0x46fb37['append'](this['_addMap']('thickness','thicknessP'+'S',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getThickne'+'ss();'),_0x1797e9['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x24616f['litOptions']['dispersion']&&_0x1797e9['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x24616f['litOptions']['useIridesc'+'ence']&&(_0x4f2d6c['append']('float\x20dIri'+'descence;'),_0x46fb37['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getIridesc'+'ence();'),_0x1797e9['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x4f2d6c['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x46fb37['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getIridesc'+'enceThickn'+'ess();'),_0x1797e9['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x2344c1['lighting']&&_0x24616f['litOptions']['useSpecula'+'r']||_0x2344c1['reflection'+'s']?(_0x4f2d6c['append']('vec3\x20dSpec'+'ularity;'),_0x4f2d6c['append']('float\x20dGlo'+'ssiness;'),_0x24616f['litOptions']['useSheen']&&(_0x4f2d6c['append']('vec3\x20sSpec'+'ularity;'),_0x46fb37['append'](this['_addMap']('sheen','sheenPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3,_0x24616f['sheenEncod'+'ing'])),_0x38901d['append']('getSheen()'+';'),_0x1797e9['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x4f2d6c['append']('float\x20sGlo'+'ssiness;'),_0x46fb37['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getSheenGl'+'ossiness()'+';'),_0x1797e9['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x24616f['litOptions']['useMetalne'+'ss']&&(_0x4f2d6c['append']('float\x20dMet'+'alness;'),_0x46fb37['append'](this['_addMap']('metalness','metalnessP'+'S',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getMetalne'+'ss();'),_0x1797e9['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x4f2d6c['append']('float\x20dIor'+';'),_0x46fb37['append'](this['_addMap']('ior','iorPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getIor();'),_0x1797e9['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x24616f['litOptions']['useSpecula'+'rityFactor']&&(_0x4f2d6c['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x46fb37['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getSpecula'+'rityFactor'+'();'),_0x1797e9['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x24616f['useSpecula'+'rColor']?_0x46fb37['append'](this['_addMap']('specular','specularPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3,_0x24616f['specularEn'+'coding'])):_0x46fb37['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x46fb37['append'](this['_addMap']('gloss','glossPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getGlossin'+'ess();'),_0x38901d['append']('getSpecula'+'rity();'),_0x1797e9['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x1797e9['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x4f2d6c['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x4f2d6c['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x24616f['aoDetail']&&_0x46fb37['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),(_0x24616f['aoMap']||_0x24616f['aoVertexCo'+'lor']||_0x24616f['useAO'])&&(_0x4f2d6c['append']('float\x20dAo;'),_0x46fb37['append'](this['_addMap']('ao','aoPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getAO();'),_0x1797e9['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x4f2d6c['append']('vec3\x20dEmis'+'sion;'),_0x46fb37['append'](this['_addMap']('emissive','emissivePS',_0x24616f,_0x2344c1['chunks'],_0x450cf3,_0x24616f['emissiveEn'+'coding'])),_0x38901d['append']('getEmissio'+'n();'),_0x1797e9['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x24616f['litOptions']['useClearCo'+'at']&&(_0x4f2d6c['append']('float\x20ccSp'+'ecularity;'),_0x4f2d6c['append']('float\x20ccGl'+'ossiness;'),_0x4f2d6c['append']('vec3\x20ccNor'+'malW;'),_0x46fb37['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x46fb37['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x46fb37['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getClearCo'+'at();'),_0x38901d['append']('getClearCo'+'atGlossine'+'ss();'),_0x38901d['append']('getClearCo'+'atNormal()'+';'),_0x1797e9['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x1797e9['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x1797e9['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x24616f['lightMap']||_0x24616f['lightVerte'+'xColor']){const _0x1add1d=_0x24616f['dirLightMa'+'p']&&_0x24616f['litOptions']['useSpecula'+'r'],_0x4d1527=_0x1add1d?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x4f2d6c['append']('vec3\x20dLigh'+'tmap;'),_0x1add1d&&_0x4f2d6c['append']('vec3\x20dLigh'+'tmapDir;'),_0x46fb37['append'](this['_addMap']('light',_0x4d1527,_0x24616f,_0x2344c1['chunks'],_0x450cf3,_0x24616f['lightMapEn'+'coding'])),_0x38901d['append']('getLightMa'+'p();'),_0x1797e9['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x1add1d&&_0x1797e9['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x46fb37['code']['indexOf']('texture2DS'+'RGB')===-(0x2*0x1251+-0x24d*-0x6+-0x326f)&&_0x46fb37['code']['indexOf']('texture2DR'+'GBM')===-(0x1*-0x499+0x1*0xaf3+-0x659)&&_0x46fb37['code']['indexOf']('texture2DR'+'GBE')===-(0x223*-0xd+-0x2b*0x40+0x9a2*0x4),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x36135e=_0x24616f['litOptions']['opacitySha'+'dowDither'];(_0x24616f['litOptions']['alphaTest']||_0x36135e)&&(_0x4f2d6c['append']('float\x20dAlp'+'ha;'),_0x46fb37['append'](this['_addMap']('opacity','opacityPS',_0x24616f,_0x2344c1['chunks'],_0x450cf3)),_0x38901d['append']('getOpacity'+'();'),_0x1797e9['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x24616f['litOptions']['alphaTest']&&(_0x46fb37['append'](_0x2344c1['chunks']['alphaTestP'+'S']),_0x38901d['append']('alphaTest('+'dAlpha);')),_0x36135e!==Rs&&(_0x36135e===Nm&&_0x4f2d6c['append'](_0x2344c1['chunks']['bayerPS']),_0x4f2d6c['append']('#define\x20DI'+'THER_'+_0x36135e['toUpperCas'+'e']()+'\x0a'),_0x4f2d6c['append'](_0x2344c1['chunks']['opacityDit'+'herPS']),_0x38901d['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x4f2d6c['append'](_0x2344c1['chunks']['litShaderA'+'rgsPS']),_0x46fb37['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x38901d['code']+'\x0a'+_0x1797e9['code']+'\x0a\x20}\x0a'),_0x38901d['code']='evaluateFr'+'ontend();';for(const _0x2cf969 in _0x450cf3)_0x4f2d6c['append']('uniform\x20sa'+'mpler2D\x20'+_0x450cf3[_0x2cf969]+';');_0x38901d['code']='\x0a'+_0x38901d['code']['split']('\x0a')['map'](_0x1202a1=>'\x20\x20\x20\x20'+_0x1202a1)['join']('\x0a')+'\x0a\x0a',_0x2344c1['generateFr'+'agmentShad'+'er'](_0x4f2d6c['code'],_0x46fb37['code'],_0x38901d['code'],_0x33cf66);const _0x3b6b06=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x2344c1['chunks']),..._0x2344c1['chunks'],..._0x24616f['litOptions']['chunks']})),_0x10e93f=new Map(_0x24616f['defines']),_0x2b1c00=Mt['createDefi'+'nition'](_0x4364a5,{'name':'StandardSh'+'ader','attributes':_0x2344c1['attributes'],'vertexCode':_0x2344c1['vshader'],'fragmentCode':_0x2344c1['fshader'],'vertexIncludes':_0x3b6b06,'fragmentIncludes':_0x3b6b06,'fragmentDefines':_0x10e93f,'vertexDefines':_0x10e93f});return _0x2344c1['shaderPass'+'Info']['isForward']&&(_0x2b1c00['tag']=Ly),_0x2b1c00;}}const Ed=new XC(),Ot=[];Ot[n0]={'src':at,'dst':at,'op':ES},Ot[is]={'src':at,'dst':kf,'op':Ft},Ot[Kt]={'src':dc,'dst':uc,'op':Ft,'alphaSrc':at},Ot[hr]={'src':at,'dst':uc,'op':Ft},Ot[yp]={'src':at,'dst':at,'op':Ft},Ot[Hc]={'src':dc,'dst':at,'op':Ft},Ot[a0]={'src':dy,'dst':TS,'op':Ft},Ot[o0]={'src':AS,'dst':at,'op':Ft},Ot[xp]={'src':dy,'dst':kf,'op':Ft},Ot[l0]={'src':at,'dst':at,'op':CS},Ot[h0]={'src':at,'dst':at,'op':MS};let jC=-0x258d+0x5*0x392+0x13b3;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(0x1f*-0x2f+0x1*0x863+-0xd*0x35)),c(this,'parameters',{}),c(this,'alphaTest',-0x6f*0x24+0xa9d+0x4ff),c(this,'alphaToCov'+'erage',!(0x1ec7*0x1+-0xbd4+-0x12f2)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(-0x16b*-0xd+0x2204*0x1+0x3473*-0x1)),c(this,'_shaderVer'+'sion',0x3c9+0x6*0x150+0x3*-0x3e3),c(this,'_scene',null),c(this,'dirty',!(0x2a6+0xfc3+-0x1269)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x1a0f69){this['_dirtyShad'+'er']=!(0x7f2+-0x1dc7+0x15d5),this['_chunks']=_0x1a0f69;}get['chunks'](){return this['_dirtyShad'+'er']=!(-0x967+0x7*0x96+-0x17*-0x3b),this['_chunks'];}set['depthBias'](_0x121b00){this['_depthStat'+'e']['depthBias']=_0x121b00;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0xbea2d4){this['_depthStat'+'e']['depthBiasS'+'lope']=_0xbea2d4;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x5ef911){this['_blendStat'+'e']['redWrite']=_0x5ef911;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x444fd1){this['_blendStat'+'e']['greenWrite']=_0x444fd1;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x5591d0){this['_blendStat'+'e']['blueWrite']=_0x5591d0;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x1a988a){this['_blendStat'+'e']['alphaWrite']=_0x1a988a;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x32c7e6=this['transparen'+'t'],_0x46a21d=this['meshInstan'+'ces'];for(let _0x5d96e4=-0x70*-0x26+0x1*-0x23be+0x131e;_0x5d96e4<_0x46a21d['length'];_0x5d96e4++)_0x46a21d[_0x5d96e4]['transparen'+'t']=_0x32c7e6;}set['blendState'](_0x4ecaa7){this['_blendStat'+'e']['copy'](_0x4ecaa7),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x5efbb5){const _0x370074=Ot[_0x5efbb5];v['assert'](_0x370074,'Unknown\x20bl'+'end\x20mode\x20'+_0x5efbb5),this['_blendStat'+'e']['setColorBl'+'end'](_0x370074['op'],_0x370074['src'],_0x370074['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x370074['alphaOp']??_0x370074['op'],_0x370074['alphaSrc']??_0x370074['src'],_0x370074['alphaDst']??_0x370074['dst']);const _0x5abec4=_0x5efbb5!==is;this['_blendStat'+'e']['blend']!==_0x5abec4&&(this['_blendStat'+'e']['blend']=_0x5abec4,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x3ff633,colorSrcFactor:_0x5cf9cc,colorDstFactor:_0x206820,alphaOp:_0x24d5aa,alphaSrcFactor:_0x47a1b6,alphaDstFactor:_0x22dee5}=this['_blendStat'+'e'];for(let _0x321b30=-0x35*-0x43+-0x376+-0x1*0xa69;_0x321b30<Ot['length'];_0x321b30++){const _0x27682b=Ot[_0x321b30];if(_0x27682b['src']===_0x5cf9cc&&_0x27682b['dst']===_0x206820&&_0x27682b['op']===_0x3ff633&&_0x27682b['src']===_0x47a1b6&&_0x27682b['dst']===_0x22dee5&&_0x27682b['op']===_0x24d5aa)return _0x321b30;}return Kt;}set['depthState'](_0x116609){this['_depthStat'+'e']['copy'](_0x116609);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x4914fa){this['_depthStat'+'e']['test']=_0x4914fa;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x13f11){this['_depthStat'+'e']['func']=_0x13f11;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x3ca247){this['_depthStat'+'e']['write']=_0x3ca247;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x18233e){var _0x2dcc3b;this['name']=_0x18233e['name'],this['alphaTest']=_0x18233e['alphaTest'],this['alphaToCov'+'erage']=_0x18233e['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x18233e['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x18233e['_depthStat'+'e']),this['cull']=_0x18233e['cull'],this['stencilFro'+'nt']=(_0x2dcc3b=_0x18233e['stencilFro'+'nt'])==null?void(-0x5a9+-0x15*0x1a5+-0x5be*-0x7):_0x2dcc3b['clone'](),_0x18233e['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x18233e['stencilFro'+'nt']===_0x18233e['stencilBac'+'k']?this['stencilFro'+'nt']:_0x18233e['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x3e2fad in _0x18233e['parameters'])_0x18233e['parameters']['hasOwnProp'+'erty'](_0x3e2fad)&&this['_setParame'+'terSimple'](_0x3e2fad,_0x18233e['parameters'][_0x3e2fad]['data']);this['defines']['clear'](),_0x18233e['defines']['forEach']((_0x2338a9,_0x1a1c4e)=>this['defines']['set'](_0x1a1c4e,_0x2338a9));const _0x3b5837=_0x18233e['_chunks'];for(const _0x38cf83 in _0x3b5837)_0x3b5837['hasOwnProp'+'erty'](_0x38cf83)&&(this['_chunks'][_0x38cf83]=_0x3b5837[_0x38cf83]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x1e5977=this['meshInstan'+'ces'];for(let _0x4aef83=-0x14b4+0x475*-0x3+0x2213;_0x4aef83<_0x1e5977['length'];_0x4aef83++)_0x1e5977[_0x4aef83]['updateKey']();}['updateUnif'+'orms'](_0x196d08,_0x482795){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x13d559){v['assert'](!(0x2b7*0x1+0x16d9*-0x1+-0x5*-0x407),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x1289+-0x131c+0x25a6),this['clearVaria'+'nts']()),this['dirty']=!(-0x1*0x626+-0xfa0+0x15c6);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x21f85a=this['meshInstan'+'ces'],_0x4ec04b=_0x21f85a['length'];for(let _0x2f781e=0x1*-0x119+0x224c*-0x1+0x2365;_0x2f781e<_0x4ec04b;_0x2f781e++)_0x21f85a[_0x2f781e]['clearShade'+'rs']();}['getParamet'+'er'](_0x2bfaa6){return this['parameters'][_0x2bfaa6];}['_setParame'+'terSimple'](_0x5c5e3c,_0x231a84){v['call'](()=>{_0x231a84===void(0x1798+0x9c6*0x3+-0x34ea)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x5c5e3c+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x131d3c=this['parameters'][_0x5c5e3c];_0x131d3c?_0x131d3c['data']=_0x231a84:this['parameters'][_0x5c5e3c]={'scopeId':null,'data':_0x231a84};}['setParamet'+'er'](_0x5ec7d4,_0x4d44af){if(_0x4d44af===void(-0x17a8+-0x1317*-0x2+-0x16*0xa9)&&typeof _0x5ec7d4=='object'){const _0xa6df00=_0x5ec7d4;if(_0xa6df00['length']){for(let _0x45c17d=0x1ef8+0x1*-0x1f91+0x99;_0x45c17d<_0xa6df00['length'];_0x45c17d++)this['setParamet'+'er'](_0xa6df00[_0x45c17d]);return;}_0x5ec7d4=_0xa6df00['name'],_0x4d44af=_0xa6df00['value'];}this['_setParame'+'terSimple'](_0x5ec7d4,_0x4d44af);}['deletePara'+'meter'](_0x1a3ee4){this['parameters'][_0x1a3ee4]&&delete this['parameters'][_0x1a3ee4];}['setParamet'+'ers'](_0x3b53b8,_0x72cf91){const _0x2ee350=this['parameters'];_0x72cf91===void(0x7e+-0x4*-0x89c+0x11*-0x20e)&&(_0x72cf91=_0x2ee350);for(const _0x31ee8b in _0x72cf91){const _0x80b9c5=_0x2ee350[_0x31ee8b];_0x80b9c5&&(_0x80b9c5['scopeId']||(_0x80b9c5['scopeId']=_0x3b53b8['scope']['resolve'](_0x31ee8b)),_0x80b9c5['scopeId']['setValue'](_0x80b9c5['data']));}}['setDefine'](_0x3128da,_0x3c923c){let _0x251923=!(-0x1522+-0x2*0x112+0x1747);const {defines:_0x3ee9a2}=this;_0x3c923c!==void(-0x7*-0x515+-0x17ca+-0x7*0x1af)&&_0x3c923c!==!(-0x1*-0x6df+-0x21d6+0x1af8)?(_0x251923=!_0x3ee9a2['has'](_0x3128da)||_0x3ee9a2['get'](_0x3128da)!==_0x3c923c,_0x3ee9a2['set'](_0x3128da,_0x3c923c)):(_0x251923=_0x3ee9a2['has'](_0x3128da),_0x3ee9a2['delete'](_0x3128da)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x251923);}['getDefine'](_0x5fb94c){return this['defines']['has'](_0x5fb94c);}['destroy'](){this['variants']['clear']();for(let _0xa4dd36=-0x23ae+-0x122*-0x5+0x4*0x781;_0xa4dd36<this['meshInstan'+'ces']['length'];_0xa4dd36++){const _0x53052d=this['meshInstan'+'ces'][_0xa4dd36];if(_0x53052d['clearShade'+'rs'](),_0x53052d['_material']=null,_0x53052d['mesh']){const _0x3b8eb5=al(_0x53052d['mesh']['device']);this!==_0x3b8eb5&&(_0x53052d['material']=_0x3b8eb5);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x74a+-0x1c6b+0xb*0x33f;}['addMeshIns'+'tanceRef'](_0x1dd814){this['meshInstan'+'ces']['push'](_0x1dd814);}['removeMesh'+'InstanceRe'+'f'](_0x17ad8f){const _0x4c0599=this['meshInstan'+'ces'],_0xc4d247=_0x4c0599['indexOf'](_0x17ad8f);_0xc4d247!==-(-0x1387+-0xd6c*-0x2+-0x750)&&_0x4c0599['splice'](_0xc4d247,-0xf22*-0x1+-0x57d*0x2+-0x427);}}class As{static['update'](_0x1e5699,_0x589842,_0x146208,_0x3feb5f,_0x3b6b5e,_0x43b225,_0x57a323){As['updateShar'+'edOptions'](_0x1e5699,_0x589842,_0x146208,_0x3b6b5e,_0x43b225),As['updateMate'+'rialOption'+'s'](_0x1e5699,_0x589842),As['updateEnvO'+'ptions'](_0x1e5699,_0x589842,_0x146208,_0x3feb5f),As['updateLigh'+'tingOption'+'s'](_0x1e5699,_0x589842,_0x3b6b5e,_0x57a323);}static['updateShar'+'edOptions'](_0x728edc,_0x54f02e,_0x2894e0,_0x5d5262,_0x57eb10){_0x728edc['chunks']=_0x54f02e['chunks'],_0x728edc['pass']=_0x57eb10,_0x728edc['alphaTest']=_0x54f02e['alphaTest']>-0x10e7*0x1+0x12ae+-0x23*0xd,_0x728edc['blendType']=_0x54f02e['blendType'],_0x728edc['screenSpac'+'e']=_0x5d5262&&(_0x5d5262&Cp)!==0x1*-0x611+-0x1eee*-0x1+-0x18dd,_0x728edc['skin']=_0x5d5262&&(_0x5d5262&$c)!==0x24*0x8d+-0x78e+-0xc46,_0x728edc['useInstanc'+'ing']=_0x5d5262&&(_0x5d5262&Wc)!==0x1*0xd86+0xa4a+-0xfe*0x18,_0x728edc['useMorphPo'+'sition']=_0x5d5262&&(_0x5d5262&qc)!==0x5*0x6f3+-0xeac+-0x1413,_0x728edc['useMorphNo'+'rmal']=_0x5d5262&&(_0x5d5262&Xc)!==-0x44e+-0x61*-0x53+-0x1b25,_0x728edc['useMorphTe'+'xtureBased'+'Int']=_0x5d5262&&(_0x5d5262&jc)!==0xb*-0x362+-0xe94+0x33ca,_0x728edc['hasTangent'+'s']=_0x5d5262&&(_0x5d5262&Mp)!==0xdcb+0xe*0x4f+-0x121d,_0x728edc['nineSliced'+'Mode']=_0x54f02e['nineSliced'+'Mode']||Ti,_0x54f02e['useLightin'+'g']&&_0x2894e0['clusteredL'+'ightingEna'+'bled']?(_0x728edc['clusteredL'+'ightingEna'+'bled']=!(0x1eec+0x3dc+-0xd4*0x2a),_0x728edc['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x2894e0['lighting']['cookiesEna'+'bled'],_0x728edc['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x2894e0['lighting']['shadowsEna'+'bled'],_0x728edc['clusteredL'+'ightingSha'+'dowType']=_0x2894e0['lighting']['shadowType'],_0x728edc['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x2894e0['lighting']['areaLights'+'Enabled']):(_0x728edc['clusteredL'+'ightingEna'+'bled']=!(-0x1d0b+0xb7*-0xe+0x270e),_0x728edc['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x2105+-0x1cde+-0x426),_0x728edc['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x5*-0x78d+-0x31a*0xa+-0x6bc),_0x728edc['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x2*0x2f+0x1cc4+-0x1d21*0x1));}static['updateMate'+'rialOption'+'s'](_0x3b863b,_0x500701){_0x3b863b['separateAm'+'bient']=!(0x17*0xf6+0x14ea+-0x8f*0x4d),_0x3b863b['customFrag'+'mentShader']=null,_0x3b863b['pixelSnap']=_0x500701['pixelSnap'],_0x3b863b['ambientSH']=_0x500701['ambientSH'],_0x3b863b['twoSidedLi'+'ghting']=_0x500701['twoSidedLi'+'ghting'],_0x3b863b['occludeDir'+'ect']=_0x500701['occludeDir'+'ect'],_0x3b863b['occludeSpe'+'cular']=_0x500701['occludeSpe'+'cular'],_0x3b863b['occludeSpe'+'cularFloat']=_0x500701['occludeSpe'+'cularInten'+'sity']!==-0x3f6+0x5*-0x25d+0xfc8,_0x3b863b['useMsdf']=!(-0x989*0x1+0x1*0x15e3+0x1d*-0x6d),_0x3b863b['msdfTextAt'+'tribute']=!(-0xba+-0x190c+0x19c7*0x1),_0x3b863b['alphaToCov'+'erage']=_0x500701['alphaToCov'+'erage'],_0x3b863b['opacityFad'+'esSpecular']=_0x500701['opacityFad'+'esSpecular'],_0x3b863b['opacityDit'+'her']=_0x500701['opacityDit'+'her'],_0x3b863b['cubeMapPro'+'jection']=u0,_0x3b863b['useSpecula'+'r']=_0x500701['hasSpecula'+'r'],_0x3b863b['useSpecula'+'rityFactor']=_0x500701['hasSpecula'+'rityFactor'],_0x3b863b['enableGGXS'+'pecular']=_0x500701['ggxSpecula'+'r'],_0x3b863b['fresnelMod'+'el']=_0x500701['fresnelMod'+'el'],_0x3b863b['useRefract'+'ion']=_0x500701['hasRefract'+'ion'],_0x3b863b['useClearCo'+'at']=_0x500701['hasClearCo'+'at'],_0x3b863b['useSheen']=_0x500701['hasSheen'],_0x3b863b['useIridesc'+'ence']=_0x500701['hasIrrides'+'cence'],_0x3b863b['useMetalne'+'ss']=_0x500701['hasMetalne'+'ss'],_0x3b863b['useDynamic'+'Refraction']=_0x500701['dynamicRef'+'raction'],_0x3b863b['dispersion']=_0x500701['dispersion']>-0xde8+-0x1*0x18a3+0x12b*0x21,_0x3b863b['vertexColo'+'rs']=!(-0xc7*-0x24+0x274*0xd+0x189*-0x27),_0x3b863b['lightMapEn'+'abled']=_0x500701['hasLightin'+'g'],_0x3b863b['dirLightMa'+'pEnabled']=_0x500701['dirLightMa'+'p'],_0x3b863b['useHeights']=_0x500701['hasHeights'],_0x3b863b['useNormals']=_0x500701['hasNormals'],_0x3b863b['useClearCo'+'atNormals']=_0x500701['hasClearCo'+'atNormals'],_0x3b863b['useAo']=_0x500701['hasAo'],_0x3b863b['diffuseMap'+'Enabled']=_0x500701['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x3d9112,_0x5c42ed,_0x2b7147,_0x1cd05){_0x3d9112['fog']=_0x5c42ed['useFog']?_0x1cd05['fog']:Fa,_0x3d9112['gamma']=_0x1cd05['shaderOutp'+'utGamma'],_0x3d9112['toneMap']=_0x5c42ed['useTonemap']?_0x1cd05['toneMappin'+'g']:f0,_0x5c42ed['useSkybox']&&_0x2b7147['envAtlas']&&_0x2b7147['skybox']?(_0x3d9112['reflection'+'Source']='envAtlasHQ',_0x3d9112['reflection'+'Encoding']=_0x2b7147['envAtlas']['encoding'],_0x3d9112['reflection'+'CubemapEnc'+'oding']=_0x2b7147['skybox']['encoding']):_0x5c42ed['useSkybox']&&_0x2b7147['envAtlas']?(_0x3d9112['reflection'+'Source']='envAtlas',_0x3d9112['reflection'+'Encoding']=_0x2b7147['envAtlas']['encoding']):_0x5c42ed['useSkybox']&&_0x2b7147['skybox']?(_0x3d9112['reflection'+'Source']='cubeMap',_0x3d9112['reflection'+'Encoding']=_0x2b7147['skybox']['encoding']):(_0x3d9112['reflection'+'Source']=null,_0x3d9112['reflection'+'Encoding']=null),_0x5c42ed['ambientSH']?(_0x3d9112['ambientSou'+'rce']='ambientSH',_0x3d9112['ambientEnc'+'oding']=null):_0x3d9112['reflection'+'Source']&&_0x2b7147['envAtlas']?(_0x3d9112['ambientSou'+'rce']='envAtlas',_0x3d9112['ambientEnc'+'oding']=_0x2b7147['envAtlas']['encoding']):(_0x3d9112['ambientSou'+'rce']='constant',_0x3d9112['ambientEnc'+'oding']=null);const _0x295e60=!!_0x3d9112['reflection'+'Source'];_0x3d9112['skyboxInte'+'nsity']=_0x295e60,_0x3d9112['useCubeMap'+'Rotation']=_0x295e60&&_0x2b7147['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x2dda7d,_0x284a63,_0x279294,_0x31a146){if(_0x2dda7d['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1e0f+-0x7*-0x389+-0x1*-0x551),_0x284a63['useLightin'+'g']){const _0x29050a=[],_0x2327b2=_0x279294?_0x279294>>-0xd9e*0x2+0x810*0x1+0x2*0x99e:hs;_0x2dda7d['lightMaskD'+'ynamic']=!!(_0x2327b2&hs),_0x2dda7d['lightMapWi'+'thoutAmbie'+'nt']=!(0x6*0x3fa+-0x12a*0xa+-0xc37),_0x31a146&&(As['collectLig'+'hts'](oe,_0x31a146[oe],_0x29050a,_0x2327b2),As['collectLig'+'hts'](Pe,_0x31a146[Pe],_0x29050a,_0x2327b2),As['collectLig'+'hts'](Re,_0x31a146[Re],_0x29050a,_0x2327b2)),_0x2dda7d['lights']=_0x29050a;}else _0x2dda7d['lights']=[];(_0x2dda7d['lights']['length']===-0xa41+0x267c+0x1*-0x1c3b||(_0x279294&Ep)!==-0x1*-0x1191+0x44+-0x53*0x37)&&(_0x2dda7d['noShadow']=!(0xb48+-0x1de3+0x1b1*0xb));}static['collectLig'+'hts'](_0x272868,_0x29255a,_0x396f62,_0x1633dc){for(let _0x1a27fd=-0x445+-0x10*-0x164+0x1*-0x11fb;_0x1a27fd<_0x29255a['length'];_0x1a27fd++){const _0x403bed=_0x29255a[_0x1a27fd];_0x403bed['enabled']&&_0x403bed['mask']&_0x1633dc&&_0x396f62['push'](_0x403bed);}}}const c_=(_0x3f696a,_0x10c63e)=>{if(_0x3f696a['length']!==_0x10c63e['length'])return!(-0x1c8*0x1+0x14e9*0x1+-0x990*0x2);for(let _0x1f45e2=0x2*-0x107e+0x853+0x18a9;_0x1f45e2<_0x3f696a['length'];++_0x1f45e2)if(_0x3f696a[_0x1f45e2]!==_0x10c63e[_0x1f45e2])return!(0x1*-0x19c3+-0x23e3+0x3da7);return!(0xdeb*-0x1+-0x168d+0x2478);},YC=_0x18c17f=>_0x18c17f['r']!==0x26a6*0x1+-0xc45+-0x8*0x34c||_0x18c17f['g']!==0x6fd*0x1+0xb5*0x1f+-0x1ce7||_0x18c17f['b']!==0x71e*-0x1+-0x11f6*0x2+0x2b0b,KC=_0x4ca048=>_0x4ca048['r']!==0x1898*-0x1+0xb98+-0x1a*-0x80||_0x4ca048['g']!==-0xdf8+-0x17dc+0x327*0xc||_0x4ca048['b']!==0x151a+0xa03*-0x3+0x8ef;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x30fec0,_0x5d0a1f,_0x5128bb,_0x55f643,_0x3d7d22,_0x2fc5ab){this['_updateSha'+'redOptions'](_0x30fec0,_0x5d0a1f,_0x5128bb,_0x55f643,_0x3d7d22),this['_updateMin'+'Options'](_0x30fec0,_0x5128bb,_0x3d7d22),this['_updateUVO'+'ptions'](_0x30fec0,_0x5128bb,_0x55f643,!(-0x1*0x13c0+0x1*0x17b3+0x3f3*-0x1));}['updateRef'](_0x5e4e6b,_0x153660,_0xccf3b9,_0x7bbdd4,_0x41ded8,_0xd60eda,_0x3cde12){this['_updateSha'+'redOptions'](_0x5e4e6b,_0x153660,_0x7bbdd4,_0x41ded8,_0xd60eda),this['_updateEnv'+'Options'](_0x5e4e6b,_0x7bbdd4,_0x153660,_0xccf3b9),this['_updateMat'+'erialOptio'+'ns'](_0x5e4e6b,_0x7bbdd4),_0x5e4e6b['litOptions']['hasTangent'+'s']=_0x41ded8&&(_0x41ded8&Mp)!==-0x16a8+-0x22d2+0x7*0x836,this['_updateLig'+'htOptions'](_0x5e4e6b,_0x153660,_0x7bbdd4,_0x41ded8,_0x3cde12),this['_updateUVO'+'ptions'](_0x5e4e6b,_0x7bbdd4,_0x41ded8,!(0x9*0xd5+0x2*-0x103d+0x2*0xc7f),_0xccf3b9);}['_updateSha'+'redOptions'](_0xb2328f,_0x378ebb,_0x352b09,_0x4014f2,_0x24de8d){_0xb2328f['forceUv1']=_0x352b09['forceUv1'],_0x352b09['userAttrib'+'utes']&&(_0xb2328f['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x352b09['userAttrib'+'utes']['entries']())),_0xb2328f['litOptions']['chunks']=_0x352b09['chunks']||{},_0xb2328f['litOptions']['pass']=_0x24de8d,_0xb2328f['litOptions']['alphaTest']=_0x352b09['alphaTest']>-0x28*-0x98+0xd*0x2cf+-0x3c43,_0xb2328f['litOptions']['blendType']=_0x352b09['blendType'],_0xb2328f['litOptions']['screenSpac'+'e']=_0x4014f2&&(_0x4014f2&Cp)!==-0xe*-0x2+0x47c*0x1+-0x498,_0xb2328f['litOptions']['skin']=_0x4014f2&&(_0x4014f2&$c)!==0x3*0x1f3+0x11f8+-0x17d1,_0xb2328f['litOptions']['batch']=_0x4014f2&&(_0x4014f2&Ou)!==-0x38d+-0x11*0x217+-0xa4*-0x3d,_0xb2328f['litOptions']['useInstanc'+'ing']=_0x4014f2&&(_0x4014f2&Wc)!==-0x179f+-0x2c*-0x9d+-0x35d,_0xb2328f['litOptions']['useMorphPo'+'sition']=_0x4014f2&&(_0x4014f2&qc)!==0x29*0xe+0x1*-0x323+0xe5,_0xb2328f['litOptions']['useMorphNo'+'rmal']=_0x4014f2&&(_0x4014f2&Xc)!==-0x8b*-0xe+0x1459*-0x1+0xcbf,_0xb2328f['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x4014f2&&(_0x4014f2&jc)!==0xf66+-0x2*0xbeb+-0x30*-0x2d,_0xb2328f['litOptions']['nineSliced'+'Mode']=_0x352b09['nineSliced'+'Mode']||-0x1bda+-0x11*0xed+0x2b97,_0x378ebb['clusteredL'+'ightingEna'+'bled']&&_0x352b09['useLightin'+'g']?(_0xb2328f['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x1*-0x215+0xabb*0x1+-0x8a6),_0xb2328f['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x378ebb['lighting']['cookiesEna'+'bled'],_0xb2328f['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x378ebb['lighting']['shadowsEna'+'bled'],_0xb2328f['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x378ebb['lighting']['shadowType'],_0xb2328f['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x378ebb['lighting']['areaLights'+'Enabled']):(_0xb2328f['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x4be+0x4d*0x3+-0x2*0x2d2),_0xb2328f['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1*0x2395+-0x46d+0x2803),_0xb2328f['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x328+-0x1610+-0x67*-0x2f),_0xb2328f['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x10e7*0x2+-0xc*-0xc6+-0x2b15));}['_updateUVO'+'ptions'](_0x147c42,_0x4629a4,_0x1351d1,_0x3d78f6,_0xaede81){let _0x47c1f7=!(-0x218d+-0xe67+0x2ff5*0x1),_0x1967a3=!(-0x1e5e+0x179f+0x6c0),_0x203983=!(0x5f3*0x2+-0x1929+0xd44);_0x1351d1&&(_0x47c1f7=(_0x1351d1&m0)!==-0x1*0xb30+0x435*-0x6+0x246e,_0x1967a3=(_0x1351d1&_0)!==0x88d*0x3+-0x96e+-0x1039,_0x203983=(_0x1351d1&g0)!==0x6a1*0x3+0x1842+-0x3*0xeb7),_0x147c42['litOptions']['vertexColo'+'rs']=!(0xf2a+0x7d1+-0x16fa),this['_mapXForms']=[];const _0xa56611={};for(const _0x310325 in fa)this['_updateTex'+'Options'](_0x147c42,_0x4629a4,_0x310325,_0x47c1f7,_0x1967a3,_0x203983,_0x3d78f6,_0xa56611);this['_mapXForms']=null,_0x147c42['litOptions']['ssao']=_0xaede81==null?void(-0x2a2*-0x1+0x1e98+0x213a*-0x1):_0xaede81['ssaoEnable'+'d'],_0x147c42['useAO']=_0x147c42['litOptions']['ssao'],_0x147c42['litOptions']['lightMapEn'+'abled']=_0x147c42['lightMap'],_0x147c42['litOptions']['dirLightMa'+'pEnabled']=_0x147c42['dirLightMa'+'p'],_0x147c42['litOptions']['useHeights']=_0x147c42['heightMap'],_0x147c42['litOptions']['useNormals']=_0x147c42['normalMap'],_0x147c42['litOptions']['useClearCo'+'atNormals']=_0x147c42['clearCoatN'+'ormalMap'],_0x147c42['litOptions']['useAo']=_0x147c42['aoMap']||_0x147c42['aoVertexCo'+'lor']||_0x147c42['litOptions']['ssao'],_0x147c42['litOptions']['diffuseMap'+'Enabled']=_0x147c42['diffuseMap'];}['_updateTex'+'Options'](_0x5a7b34,_0x3952ca,_0x4247e0,_0x26e7a3,_0x41d065,_0x319020,_0x7182b8,_0x5d75d7){const _0x2e650e=_0x4247e0==='opacity';if(!_0x7182b8||_0x2e650e){const _0x433dce=_0x4247e0+'Map',_0x433f2e=_0x4247e0+('VertexColo'+'r'),_0x22015a=_0x4247e0+('VertexColo'+'rChannel'),_0x291521=_0x433dce+'Channel',_0x135d74=_0x433dce+'Transform',_0x1fad67=_0x433dce+'Uv',_0x211b8d=_0x433dce+'Identifier';if(_0x4247e0!=='light'&&(_0x5a7b34[_0x433dce]=!(0x20a6+0x15de+-0x3683),_0x5a7b34[_0x211b8d]=void(0x3c7+-0x1b9+-0x20e),_0x5a7b34[_0x291521]='',_0x5a7b34[_0x135d74]=-0x1a8d+0x2173*-0x1+0x100*0x3c,_0x5a7b34[_0x1fad67]=0x12*-0x86+0x6a*0x7+0x14e*0x5),_0x5a7b34[_0x433f2e]=!(0x49*0x1a+-0x1dfb+0x1692),_0x5a7b34[_0x22015a]='',_0x2e650e&&_0x3952ca['blendType']===is&&_0x3952ca['alphaTest']===0x49*0x71+-0xaf1+-0x1548&&!_0x3952ca['alphaToCov'+'erage']&&_0x3952ca['opacityDit'+'her']===Rs)return;if(_0x4247e0!=='height'&&_0x3952ca[_0x433f2e]&&_0x319020&&(_0x5a7b34[_0x433f2e]=_0x3952ca[_0x433f2e],_0x5a7b34[_0x22015a]=_0x3952ca[_0x22015a],_0x5a7b34['litOptions']['vertexColo'+'rs']=!(0x1b47*-0x1+0xea*0x1+0x1a5d)),_0x3952ca[_0x433dce]){let _0x1c5a6a=!(-0xc85+0x2179+0xa7a*-0x2);if(_0x3952ca[_0x1fad67]===-0x13b7+0x2275+0x6f*-0x22&&!_0x26e7a3&&(_0x1c5a6a=!(0x24ca+0x16d9*0x1+-0x22*0x1c1)),_0x3952ca[_0x1fad67]===-0x1*-0xc4e+0x237b+-0x2fc8&&!_0x41d065&&(_0x1c5a6a=!(-0x76+-0xc82+-0xcf9*-0x1)),_0x1c5a6a){const _0x50a489=_0x3952ca[_0x433dce]['id'];let _0x341f08=_0x5d75d7[_0x50a489];_0x341f08===void(-0x1049+-0xbf7*-0x3+0x1*-0x139c)&&(_0x5d75d7[_0x50a489]=_0x4247e0,_0x341f08=_0x4247e0),_0x5a7b34[_0x433dce]=!!_0x3952ca[_0x433dce],_0x5a7b34[_0x211b8d]=_0x341f08,_0x5a7b34[_0x135d74]=this['_getMapTra'+'nsformID'](_0x3952ca['getUniform'](_0x135d74),_0x3952ca[_0x1fad67]),_0x5a7b34[_0x291521]=_0x3952ca[_0x291521],_0x5a7b34[_0x1fad67]=_0x3952ca[_0x1fad67];}}}}['_updateMin'+'Options'](_0x49fa18,_0x112c6c,_0x102298){const _0x4574ed=_0x102298===il;_0x49fa18['litOptions']['opacitySha'+'dowDither']=_0x4574ed?_0x112c6c['opacityDit'+'her']:_0x112c6c['opacitySha'+'dowDither'],_0x49fa18['litOptions']['linearDept'+'h']=_0x4574ed,_0x49fa18['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x55509e,_0x1654c9){var _0x2d1194,_0xdff047,_0xc147be,_0x209569;const _0x5c8e6c=!!(_0x1654c9['useMetalne'+'ss']||_0x1654c9['specularMa'+'p']||_0x1654c9['sphereMap']||_0x1654c9['cubeMap']||KC(_0x1654c9['specular'])||_0x1654c9['specularit'+'yFactor']>-0x2b*-0x9d+-0xc*0x106+-0xe17&&_0x1654c9['useMetalne'+'ss']||_0x1654c9['enableGGXS'+'pecular']||_0x1654c9['clearCoat']>0x4f*0xc+-0x2e1+-0xd3*0x1),_0x14abf8=!_0x1654c9['useMetalne'+'ss']||_0x1654c9['useMetalne'+'ssSpecular'+'Color'],_0x43079c=_0x5c8e6c&&(_0x1654c9['specularTi'+'nt']||!_0x1654c9['specularMa'+'p']&&!_0x1654c9['specularVe'+'rtexColor'])&&YC(_0x1654c9['specular']),_0x2bef63=_0x5c8e6c&&_0x1654c9['useMetalne'+'ssSpecular'+'Color']&&(_0x1654c9['specularit'+'yFactorTin'+'t']||_0x1654c9['specularit'+'yFactor']<-0x2225+-0x19c4+0x3bea&&!_0x1654c9['specularit'+'yFactorMap']),_0x543746=_0x1654c9['normalMap']?_0x1654c9['normalMap']['format']===Wo||_0x1654c9['normalMap']['type']===op:!(0x12bd+-0x1ea4+-0x17d*-0x8),_0x513863=(_0x25b53,_0x4a247e)=>Math['abs'](_0x25b53-_0x4a247e)<-0x11*-0x65+0x2*0x8bf+-0x69*0x3b+0.0001;_0x55509e['specularTi'+'nt']=_0x43079c?0x161e+0x29e+-0x18ba:0x791+-0x17da+0x1049*0x1,_0x55509e['specularit'+'yFactorTin'+'t']=_0x2bef63?0x1ad6+0x5cb+-0x20a0:-0x1*-0x1f39+0x1*-0x553+-0x19e6,_0x55509e['metalnessT'+'int']=_0x1654c9['useMetalne'+'ss']&&_0x1654c9['metalness']<-0x13fc+-0x13fa*0x1+0x27f7*0x1?0xae*-0x8+0x5fa*-0x4+0x1d59:0x160a+0x51f*0x1+-0x1b29,_0x55509e['glossTint']=-0xd58+0x1*0x1333+-0x5da,_0x55509e['diffuseEnc'+'oding']=(_0x2d1194=_0x1654c9['diffuseMap'])==null?void(-0x8*-0x3f5+0x13d+-0x15*0x191):_0x2d1194['encoding'],_0x55509e['diffuseDet'+'ailEncodin'+'g']=(_0xdff047=_0x1654c9['diffuseDet'+'ailMap'])==null?void(0x7*-0x4c0+-0x1*0x1dd2+-0x45*-0xea):_0xdff047['encoding'],_0x55509e['emissiveEn'+'coding']=(_0xc147be=_0x1654c9['emissiveMa'+'p'])==null?void(0x115b+0x292+0x13ed*-0x1):_0xc147be['encoding'],_0x55509e['lightMapEn'+'coding']=(_0x209569=_0x1654c9['lightMap'])==null?void(0x18a0+0x20cf+-0x57*0xa9):_0x209569['encoding'],_0x55509e['packedNorm'+'al']=_0x543746,_0x55509e['refraction'+'Tint']=_0x513863(_0x1654c9['refraction'],-0x1b04*0x1+-0xd88+0x288d)?-0x1ae5+0x1c84+-0x19f:-0x192e+0x2648+-0xd19*0x1,_0x55509e['refraction'+'IndexTint']=_0x513863(_0x1654c9['refraction'+'Index'],(-0x1330+-0x26*-0x9d+-0x41d)/(0x25*0xf3+0x1*-0x1181+-0x119d+0.5))?0x100f*0x2+-0xb3*0x21+0x1*-0x90b:0x487*0x3+0xc16+-0xdb*0x1e,_0x55509e['thicknessT'+'int']=_0x1654c9['useDynamic'+'Refraction']&&_0x1654c9['thickness']!==0x1351+0x10b4+-0x2404?-0xf00+0xa*0x222+-0x653:-0xa36*-0x1+0x169c+-0x20d2,_0x55509e['specularEn'+'coding']=_0x1654c9['specularEn'+'coding']||'linear',_0x55509e['sheenEncod'+'ing']=_0x1654c9['sheenEncod'+'ing']||'linear',_0x55509e['aoMapUv']=_0x1654c9['aoUvSet'],_0x55509e['aoDetail']=!!_0x1654c9['aoMap'],_0x55509e['diffuseDet'+'ail']=!!_0x1654c9['diffuseMap'],_0x55509e['normalDeta'+'il']=!!_0x1654c9['normalMap'],_0x55509e['diffuseDet'+'ailMode']=_0x1654c9['diffuseDet'+'ailMode'],_0x55509e['aoDetailMo'+'de']=_0x1654c9['aoDetailMo'+'de'],_0x55509e['clearCoatT'+'int']=_0x513863(_0x1654c9['clearCoat'],0x120b+0x1*0x21b5+0x33bf*-0x1)?-0x1375*-0x2+-0x6*0x3ca+-0x102e:0x565*0x5+0x429*0x5+-0x2fc5,_0x55509e['clearCoatG'+'loss']=!!_0x1654c9['clearCoatG'+'loss'],_0x55509e['clearCoatG'+'lossTint']=_0x1654c9['clearCoatG'+'loss']!==-0x1*-0x13c3+0x98*0x21+-0x6*0x68f?-0x521*-0x4+0x7*-0x4cd+0x1a3*0x8:-0x21c9+-0x1df4+0x3fbd,_0x55509e['iorTint']=_0x513863(_0x1654c9['refraction'+'Index'],(-0x5d3+-0x374+-0x948*-0x1)/(-0xb7*0x3+0x5ad*-0x3+0x132d+0.5))?-0xdf*-0x1+-0x22e8+0x2209:-0x3*-0x352+0x1465*-0x1+0x2*0x538,_0x55509e['iridescenc'+'eTint']=_0x1654c9['iridescenc'+'e']!==-0x78f+-0x8*0x190+-0x1ac*-0xc?0x527+-0x12a7+0xd81:-0x13bf+0x1a2c+0x149*-0x5,_0x55509e['glossInver'+'t']=_0x1654c9['glossInver'+'t'],_0x55509e['sheenGloss'+'Invert']=_0x1654c9['sheenGloss'+'Invert'],_0x55509e['clearCoatG'+'lossInvert']=_0x1654c9['clearCoatG'+'lossInvert'],_0x55509e['useSpecula'+'rColor']=_0x14abf8,_0x55509e['litOptions']['separateAm'+'bient']=!(0xc*-0x1cf+0x30b+0x12aa),_0x55509e['litOptions']['customFrag'+'mentShader']=_0x1654c9['customFrag'+'mentShader'],_0x55509e['litOptions']['pixelSnap']=_0x1654c9['pixelSnap'],_0x55509e['litOptions']['ambientSH']=!!_0x1654c9['ambientSH'],_0x55509e['litOptions']['twoSidedLi'+'ghting']=_0x1654c9['twoSidedLi'+'ghting'],_0x55509e['litOptions']['occludeSpe'+'cular']=_0x1654c9['occludeSpe'+'cular'],_0x55509e['litOptions']['occludeSpe'+'cularFloat']=_0x1654c9['occludeSpe'+'cularInten'+'sity']!==0x930+0x1*0x16fa+-0x2029,_0x55509e['litOptions']['useMsdf']=!!_0x1654c9['msdfMap'],_0x55509e['litOptions']['msdfTextAt'+'tribute']=!!_0x1654c9['msdfTextAt'+'tribute'],_0x55509e['litOptions']['alphaToCov'+'erage']=_0x1654c9['alphaToCov'+'erage'],_0x55509e['litOptions']['opacityFad'+'esSpecular']=_0x1654c9['opacityFad'+'esSpecular'],_0x55509e['litOptions']['opacityDit'+'her']=_0x1654c9['opacityDit'+'her'],_0x55509e['litOptions']['cubeMapPro'+'jection']=_0x1654c9['cubeMapPro'+'jection'],_0x55509e['litOptions']['occludeDir'+'ect']=_0x1654c9['occludeDir'+'ect'],_0x55509e['litOptions']['useSpecula'+'r']=_0x5c8e6c,_0x55509e['litOptions']['useSpecula'+'rityFactor']=(_0x2bef63||!!_0x1654c9['specularit'+'yFactorMap'])&&_0x1654c9['useMetalne'+'ssSpecular'+'Color'],_0x55509e['litOptions']['enableGGXS'+'pecular']=_0x1654c9['enableGGXS'+'pecular'],_0x55509e['litOptions']['fresnelMod'+'el']=_0x1654c9['fresnelMod'+'el'],_0x55509e['litOptions']['useRefract'+'ion']=(_0x1654c9['refraction']||!!_0x1654c9['refraction'+'Map'])&&(_0x1654c9['useDynamic'+'Refraction']||!!_0x55509e['litOptions']['reflection'+'Source']),_0x55509e['litOptions']['useClearCo'+'at']=!!_0x1654c9['clearCoat'],_0x55509e['litOptions']['useSheen']=_0x1654c9['useSheen'],_0x55509e['litOptions']['useIridesc'+'ence']=_0x1654c9['useIridesc'+'ence']&&_0x1654c9['iridescenc'+'e']!==0x2447+-0x29*0xda+-0x1*0x15d,_0x55509e['litOptions']['useMetalne'+'ss']=_0x1654c9['useMetalne'+'ss'],_0x55509e['litOptions']['useDynamic'+'Refraction']=_0x1654c9['useDynamic'+'Refraction'],_0x55509e['litOptions']['dispersion']=_0x1654c9['dispersion']>0x1fe7+-0x4f2+0x67*-0x43;}['_updateEnv'+'Options'](_0x1bc912,_0xfb7229,_0x3f027e,_0x53a5e1){_0x1bc912['litOptions']['fog']=_0xfb7229['useFog']?_0x53a5e1['fog']:Fa,_0x1bc912['litOptions']['gamma']=_0x53a5e1['shaderOutp'+'utGamma'],_0x1bc912['litOptions']['toneMap']=_0xfb7229['useTonemap']?_0x53a5e1['toneMappin'+'g']:f0;let _0x52f971=!(-0x3*-0xb3f+-0x1ba4+-0xc3*0x8);if(_0xfb7229['envAtlas']&&_0xfb7229['cubeMap']?(_0x1bc912['litOptions']['reflection'+'Source']='envAtlasHQ',_0x1bc912['litOptions']['reflection'+'Encoding']=_0xfb7229['envAtlas']['encoding'],_0x1bc912['litOptions']['reflection'+'CubemapEnc'+'oding']=_0xfb7229['cubeMap']['encoding']):_0xfb7229['envAtlas']?(_0x1bc912['litOptions']['reflection'+'Source']='envAtlas',_0x1bc912['litOptions']['reflection'+'Encoding']=_0xfb7229['envAtlas']['encoding']):_0xfb7229['cubeMap']?(_0x1bc912['litOptions']['reflection'+'Source']='cubeMap',_0x1bc912['litOptions']['reflection'+'Encoding']=_0xfb7229['cubeMap']['encoding']):_0xfb7229['sphereMap']?(_0x1bc912['litOptions']['reflection'+'Source']='sphereMap',_0x1bc912['litOptions']['reflection'+'Encoding']=_0xfb7229['sphereMap']['encoding']):_0xfb7229['useSkybox']&&_0x3f027e['envAtlas']&&_0x3f027e['skybox']?(_0x1bc912['litOptions']['reflection'+'Source']='envAtlasHQ',_0x1bc912['litOptions']['reflection'+'Encoding']=_0x3f027e['envAtlas']['encoding'],_0x1bc912['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x3f027e['skybox']['encoding'],_0x52f971=!(-0xeaa+-0x2dd*0x1+0x1187)):_0xfb7229['useSkybox']&&_0x3f027e['envAtlas']?(_0x1bc912['litOptions']['reflection'+'Source']='envAtlas',_0x1bc912['litOptions']['reflection'+'Encoding']=_0x3f027e['envAtlas']['encoding'],_0x52f971=!(0x727*-0x2+-0x1*0x601+0x3*0x6c5)):_0xfb7229['useSkybox']&&_0x3f027e['skybox']?(_0x1bc912['litOptions']['reflection'+'Source']='cubeMap',_0x1bc912['litOptions']['reflection'+'Encoding']=_0x3f027e['skybox']['encoding'],_0x52f971=!(0x2*-0x1337+-0x6ef*-0x5+-0x1*-0x3c3)):(_0x1bc912['litOptions']['reflection'+'Source']=null,_0x1bc912['litOptions']['reflection'+'Encoding']=null),_0xfb7229['ambientSH'])_0x1bc912['litOptions']['ambientSou'+'rce']='ambientSH',_0x1bc912['litOptions']['ambientEnc'+'oding']=null;else{const _0xc113d4=_0xfb7229['envAtlas']||(_0xfb7229['useSkybox']&&_0x3f027e['envAtlas']?_0x3f027e['envAtlas']:null);_0xc113d4&&!_0xfb7229['sphereMap']?(_0x1bc912['litOptions']['ambientSou'+'rce']='envAtlas',_0x1bc912['litOptions']['ambientEnc'+'oding']=_0xc113d4['encoding']):(_0x1bc912['litOptions']['ambientSou'+'rce']='constant',_0x1bc912['litOptions']['ambientEnc'+'oding']=null);}_0x1bc912['litOptions']['skyboxInte'+'nsity']=_0x52f971,_0x1bc912['litOptions']['useCubeMap'+'Rotation']=_0x52f971&&_0x3f027e['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x3956d1,_0x372adc,_0x5222c9,_0x42eb9d,_0x3d7976){if(_0x3956d1['lightMap']=!(-0x263a+-0x1a41+-0x4*-0x101f),_0x3956d1['lightMapCh'+'annel']='',_0x3956d1['lightMapUv']=-0x1902+-0x1*-0x16f5+0x3*0xaf,_0x3956d1['lightMapTr'+'ansform']=-0x1*-0x650+0xe64+-0x212*0xa,_0x3956d1['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0xb*-0x2+-0x1dbb+0x2e*0xa5),_0x3956d1['dirLightMa'+'p']=!(-0x22a*-0x6+0x263e+-0x3339),_0x42eb9d&&(_0x3956d1['litOptions']['noShadow']=(_0x42eb9d&Ep)!==-0x8*0x209+0x97b+-0x1*-0x6cd,(_0x42eb9d&Fu)!==0xc58+0x608+-0xa8*0x1c&&(_0x3956d1['lightMapEn'+'coding']=_0x372adc['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x3956d1['lightMap']=!(-0x1de4+-0x4*0x25f+-0x50*-0x7e),_0x3956d1['lightMapCh'+'annel']='rgb',_0x3956d1['lightMapUv']=0x1719+0x5*-0x2c5+-0x3*0x315,_0x3956d1['lightMapTr'+'ansform']=-0x179f*-0x1+0x203a+-0x1*0x37d9,_0x3956d1['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x5222c9['lightMap'],(_0x42eb9d&y0)!==0x79*-0xd+0x16a*0x18+-0x1bcb&&(_0x3956d1['dirLightMa'+'p']=!(-0x141d+0x1f0c*-0x1+-0x1*-0x3329)),(_0x42eb9d&x0)!==-0x2*-0x110b+-0x19d*0x5+-0x1a05*0x1&&(_0x3956d1['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x22ce+0xc*-0x1b1+-0x371b*-0x1)))),_0x5222c9['useLightin'+'g']){const _0x305b29=[],_0xba3f71=_0x42eb9d?_0x42eb9d>>0x18e4+0x15d4+-0x2ea8:hs;_0x3956d1['litOptions']['lightMaskD'+'ynamic']=!!(_0xba3f71&hs),_0x3d7976&&(As['collectLig'+'hts'](oe,_0x3d7976[oe],_0x305b29,_0xba3f71),As['collectLig'+'hts'](Pe,_0x3d7976[Pe],_0x305b29,_0xba3f71),As['collectLig'+'hts'](Re,_0x3d7976[Re],_0x305b29,_0xba3f71)),_0x3956d1['litOptions']['lights']=_0x305b29;}else _0x3956d1['litOptions']['lights']=[];_0x3956d1['litOptions']['lights']['length']===0x4*-0x82f+0x1b42+0x57a&&(_0x3956d1['litOptions']['noShadow']=!(-0x11*0x6b+-0x15dc+0x1cf7*0x1));}['_getMapTra'+'nsformID'](_0x5c2b7e,_0x1bf67c){if(!_0x5c2b7e)return 0x1284+-0x1f8d+0xd09;let _0x254816=this['_mapXForms'][_0x1bf67c];_0x254816||(_0x254816=[],this['_mapXForms'][_0x1bf67c]=_0x254816);for(let _0x78d14=0x2172+-0x82d+-0x1945*0x1;_0x78d14<_0x254816['length'];_0x78d14++)if(c_(_0x254816[_0x78d14][0xfd8+-0x19eb+0xa13]['value'],_0x5c2b7e[-0x1286+-0xd4*0x12+0x16*0x185]['value'])&&c_(_0x254816[_0x78d14][-0x1*-0x1309+0x14b3+0x5ad*-0x7]['value'],_0x5c2b7e[-0x17f8+0x8cf+0xf2a]['value']))return _0x78d14+(0x31c+-0x1*0x1019+-0x1*-0xcfe);return _0x254816['push'](_0x5c2b7e);}}function qe(_0x15c86a,_0x59ac3b=!(-0x25b4*-0x1+-0x8a*-0xb+-0x2ba2),_0x1dc4e9=!(0x2*0x7f4+0x6*0x24d+-0x1db6)){const _0x32ebf5={};return _0x32ebf5[_0x15c86a+'Map']='texture',_0x32ebf5[_0x15c86a+'MapTiling']='vec2',_0x32ebf5[_0x15c86a+'MapOffset']='vec2',_0x32ebf5[_0x15c86a+('MapRotatio'+'n')]='number',_0x32ebf5[_0x15c86a+'MapUv']='number',_0x59ac3b&&(_0x32ebf5[_0x15c86a+'MapChannel']='string',_0x1dc4e9&&(_0x32ebf5[_0x15c86a+('VertexColo'+'r')]='boolean',_0x32ebf5[_0x15c86a+('VertexColo'+'rChannel')]='string')),_0x32ebf5;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(0x37c+-0x3*0x2bd+-0xad*-0x7),!(-0x8b1+0x6c1*-0x5+0x2a77)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(0xe3*0x3+0xd85+0xda*-0x13),!(-0xf1*0xb+0xb4*0x35+-0x4*0x6ba)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(0x5a+0x1808+-0x1861*0x1)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(0x1ca8+0x13bb+0x1*-0x3062)),'bumpiness':'number',...qe('normalDeta'+'il',!(0xab8+-0x1*0x319+-0xd*0x96)),'normalDetailMapBumpiness':'number',...qe('height',!(-0xfd9+0x1*0x69f+0x93a),!(0x1290+-0x5*0x52f+0xc*0x9d)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let Wa=new Set();const Dl=new j();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x369a14=>{this['_'+_0x369a14]=uh[_0x369a14]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x2310ef){return super['copy'](_0x2310ef),Object['keys'](uh)['forEach'](_0x5b5a92=>{this[_0x5b5a92]=_0x2310ef[_0x5b5a92];}),this['userAttrib'+'utes']=new Map(_0x2310ef['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x3fe5fc,_0x4f660a){this['userAttrib'+'utes']['set'](_0x4f660a,_0x3fe5fc);}['_setParame'+'ter'](_0xb69254,_0x26aa5a){Wa['add'](_0xb69254),this['setParamet'+'er'](_0xb69254,_0x26aa5a);}['_setParame'+'ters'](_0x5935ae){_0x5935ae['forEach'](_0x5612b2=>{this['_setParame'+'ter'](_0x5612b2['name'],_0x5612b2['value']);});}['_processPa'+'rameters'](_0x54b8e7){const _0x490a9c=this[_0x54b8e7];_0x490a9c['forEach'](_0x14fb40=>{Wa['has'](_0x14fb40)||delete this['parameters'][_0x14fb40];}),this[_0x54b8e7]=Wa,Wa=_0x490a9c,Wa['clear']();}['_updateMap'](_0x7a791a){const _0x133e4d=_0x7a791a+'Map',_0x118967=this[_0x133e4d];if(_0x118967){this['_setParame'+'ter']('texture_'+_0x133e4d,_0x118967);const _0x1db520=_0x133e4d+'Transform',_0x5a0b18=this['getUniform'](_0x1db520);_0x5a0b18&&this['_setParame'+'ters'](_0x5a0b18);}}['_allocUnif'+'orm'](_0x478f7f,_0x4bbd7e){let _0x579377=this['_uniformCa'+'che'][_0x478f7f];return _0x579377||(_0x579377=_0x4bbd7e(),this['_uniformCa'+'che'][_0x478f7f]=_0x579377),_0x579377;}['getUniform'](_0x3d3392,_0x59b290,_0x4b3e08){return P0[_0x3d3392](this,_0x59b290,_0x4b3e08);}['updateUnif'+'orms'](_0x5631c7,_0x37c200){const _0x215914=_0x5acba8=>this['getUniform'](_0x5acba8,_0x5631c7,_0x37c200);this['_setParame'+'ter']('material_a'+'mbient',_0x215914('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x215914('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x218b+-0xa5*-0x17+0x12b9)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x215914('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x215914('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x215914('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>-0x306+-0x1a59*-0x1+-0x1753&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x5*-0x2d7+-0x23d3+0x3206&&this['emissive']['g']===0x1*0x2ab+-0xdbc+-0x1*-0xb11&&this['emissive']['b']===-0xb40+0x2362*-0x1+0x2ea2&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x215914('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x6*-0xd+0x59+0x1*-0xa7&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x12c1*0x1+-0xa07+0x1cc8&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x215914('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0xccd+0x1ea4+0xe7b*-0x3?0x26bc+0x9c9+-0x3085:(-0x1b1+0x1*-0x9a8+0xb5a)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x4bb+0x1b2*0xa+0x25*-0x96)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x215914('cubeMapPro'+'jectionBox'));for(const _0x3f802c in fa)this['_updateMap'](_0x3f802c);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x215914('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x5631c7,_0x37c200);}['updateEnvU'+'niforms'](_0x5a49f9,_0x59f969){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x59f969['envAtlas']&&_0x59f969['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x59f969['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x59f969['skybox'])):_0x59f969['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x59f969['envAtlas']):_0x59f969['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x59f969['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x41678b){const {device:_0x46402e,scene:_0x1336c5,pass:_0x72bc72,objDefs:_0x25868b,sortedLights:_0xe6cd9e,cameraShaderParams:_0x5c5f1a}=_0x41678b;this['updateEnvU'+'niforms'](_0x46402e,_0x1336c5);const _0x1f68b2=Ks['get'](_0x46402e)['getByIndex'](_0x72bc72),_0x16e245=_0x72bc72===rl||_0x72bc72===Oa||_0x72bc72===il||_0x1f68b2['isShadow'];let _0x3c7bed=_0x16e245?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x3c7bed['defines']=Dp(this,_0x41678b),_0x16e245?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x3c7bed,_0x1336c5,this,_0x25868b,_0x72bc72,_0xe6cd9e):this['shaderOptB'+'uilder']['updateRef'](_0x3c7bed,_0x1336c5,_0x5c5f1a,this,_0x25868b,_0x72bc72,_0xe6cd9e),_0x3c7bed['defines']['set']('TONEMAP',p0[_0x3c7bed['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x3c7bed=this['onUpdateSh'+'ader'](_0x3c7bed));const _0x13d7b1=new Yc(_0x41678b['viewUnifor'+'mFormat'],_0x41678b['viewBindGr'+'oupFormat'],_0x41678b['vertexForm'+'at']),_0x149dfa=ka(_0x46402e);_0x149dfa['register']('standard',Ed);const _0x232cc8=_0x149dfa['getProgram']('standard',_0x3c7bed,_0x13d7b1,this['userId']);return this['_dirtyShad'+'er']=!(-0x11c9*0x1+-0x421*0x3+0x1e2d),_0x232cc8;}['destroy'](){for(const _0x313fe4 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x313fe4]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0x3a1dc8,_0x1ed5ac)=>{P0[_0x3a1dc8]=_0x1ed5ac;},Op=(_0xe66744,_0x24454d,_0x201de4,_0x3d087d)=>{Object['defineProp'+'erty'](cs['prototype'],_0xe66744,{'get':_0x3d087d||function(){return this['_'+_0xe66744];},'set':_0x201de4}),uh[_0xe66744]={'value':_0x24454d};},JC=_0x5a4adc=>{const _0x390a6d='_'+_0x5a4adc['name'],_0x7d34fa=_0x5a4adc['dirtyShade'+'rFunc']||(()=>!(-0xa21+-0x1d06+0x101*0x27)),_0x5c07f0=function(_0x284e94){const _0x1fd03b=this[_0x390a6d];_0x1fd03b!==_0x284e94&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x7d34fa(_0x1fd03b,_0x284e94),this[_0x390a6d]=_0x284e94);};Op(_0x5a4adc['name'],()=>_0x5a4adc['defaultVal'+'ue'],_0x5c07f0,_0x5a4adc['getterFunc']);},eM=_0xcc3041=>{const _0x39bfeb='_'+_0xcc3041['name'],_0x274e08=_0xcc3041['dirtyShade'+'rFunc']||(()=>!(0x2272+0x1*0xe0f+-0x3081)),_0x3f2ffe=function(_0x44d97b){const _0x141a45=this[_0x39bfeb];_0x141a45['equals'](_0x44d97b)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x274e08(_0x141a45,_0x44d97b),this[_0x39bfeb]=_0x141a45['copy'](_0x44d97b));};Op(_0xcc3041['name'],()=>_0xcc3041['defaultVal'+'ue']['clone'](),_0x3f2ffe,_0xcc3041['getterFunc']);},ts=_0x14a8cb=>_0x14a8cb['defaultVal'+'ue']&&_0x14a8cb['defaultVal'+'ue']['clone']?eM(_0x14a8cb):JC(_0x14a8cb);function Ge(_0x477cd4,_0x1e202e='rgb',_0x485764=!(0x51e+0xb*-0x19+0x159*-0x3),_0x3a49f2=-0x15ed+0x1bf9+-0x60c){fa[_0x477cd4]=_0x1e202e['length']||-(-0x263f+-0x4c7*0x4+0x395c),ts({'name':_0x477cd4+'Map','defaultValue':null,'dirtyShaderFunc':(_0x2832db,_0x37dd32)=>!!_0x2832db!=!!_0x37dd32||_0x2832db&&(_0x2832db['type']!==_0x37dd32['type']||_0x2832db['format']!==_0x37dd32['format'])}),ts({'name':_0x477cd4+'MapTiling','defaultValue':new $(-0x1fc8+-0x26db+0x46a4,0x19a9*0x1+0x140b+-0x2db3*0x1)}),ts({'name':_0x477cd4+'MapOffset','defaultValue':new $(0x100e+-0x25c8+-0x15ba*-0x1,-0x4*0x82c+0x2635+-0x9d*0x9)}),ts({'name':_0x477cd4+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x477cd4+'MapUv','defaultValue':_0x3a49f2}),_0x1e202e&&(ts({'name':_0x477cd4+'MapChannel','defaultValue':_0x1e202e}),_0x485764&&(ts({'name':_0x477cd4+('VertexColo'+'r'),'defaultValue':!(-0x19a5+-0x1628+-0xd3*-0x3a)}),ts({'name':_0x477cd4+('VertexColo'+'rChannel'),'defaultValue':_0x1e202e})));const _0x1c4006=_0x477cd4+'MapTiling',_0x3bd4b3=_0x477cd4+'MapOffset',_0x15ed06=_0x477cd4+('MapRotatio'+'n'),_0xd37cfb=_0x477cd4+('MapTransfo'+'rm');Zc(_0xd37cfb,(_0x52cf47,_0x467f7a,_0x94e15e)=>{const _0x5e41e2=_0x52cf47[_0x1c4006],_0x456498=_0x52cf47[_0x3bd4b3],_0x76a5=_0x52cf47[_0x15ed06];if(_0x5e41e2['x']===-0x1442*0x1+0x9f0+0xa53&&_0x5e41e2['y']===-0x11*-0x7d+-0x3*0x547+-0x789*-0x1&&_0x456498['x']===-0x1*-0x1e83+-0x4d*0x6f+-0x10*-0x2e&&_0x456498['y']===0x70c+0x1*0x1625+-0x1d31&&_0x76a5===-0x3*0x965+0xdf7+-0x104*-0xe)return null;const _0x2c8fc2=_0x52cf47['_allocUnif'+'orm'](_0xd37cfb,()=>[{'name':'texture_'+_0xd37cfb+'0','value':new Float32Array(-0x904+0x2f8+0x60f)},{'name':'texture_'+_0xd37cfb+'1','value':new Float32Array(0x1516+-0x7d2+-0xd41)}]),_0x1c37ce=Math['cos'](_0x76a5*N['DEG_TO_RAD']),_0xf5945c=Math['sin'](_0x76a5*N['DEG_TO_RAD']),_0x20da12=_0x2c8fc2[0x3+0x1878+-0x187b]['value'];_0x20da12[-0x62c*-0x1+-0x3*-0x87b+-0x1f9d]=_0x1c37ce*_0x5e41e2['x'],_0x20da12[0x1fb0+0x489*-0x3+-0xb2*0x1a]=-_0xf5945c*_0x5e41e2['y'],_0x20da12[0x1*0x12c8+0x1e49*0x1+-0x310f]=_0x456498['x'];const _0xa2e2b2=_0x2c8fc2[-0xb01+0x1*-0x1159+-0x1*-0x1c5b]['value'];return _0xa2e2b2[0x19f6+-0x2a9*-0x1+-0x1af*0x11]=_0xf5945c*_0x5e41e2['x'],_0xa2e2b2[-0x736*-0x1+-0x26ad+0x1f78]=_0x1c37ce*_0x5e41e2['y'],_0xa2e2b2[-0x2443+0x2*-0x5d4+0x2fed]=0x10*-0x53+0xf7*0x18+-0x291*0x7-_0x5e41e2['y']-_0x456498['y'],_0x2c8fc2;});}function Cn(_0x438072,_0x10b910){ts({'name':_0x438072,'defaultValue':_0x10b910,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x969+-0x301+-0x1c6*-0x7),this['_'+_0x438072];}}),Zc(_0x438072,(_0x8b4279,_0x308862,_0x18fa51)=>{const _0xe8156a=_0x8b4279['_allocUnif'+'orm'](_0x438072,()=>new Float32Array(-0x40e*0x9+-0x62*0x3a+-0x71*-0x85)),_0x18bc3c=_0x8b4279[_0x438072];return Dl['linear'](_0x18bc3c),_0xe8156a[-0x1*-0x1759+-0x3*-0x185+-0x4*0x6fa]=Dl['r'],_0xe8156a[-0x1*-0x860+-0x1029+-0x1*-0x7ca]=Dl['g'],_0xe8156a[-0x22ee+0x20*0x7+0x2210]=Dl['b'],_0xe8156a;});}function Ce(_0x5cdec3,_0x83fea5,_0x28cbec){ts({'name':_0x5cdec3,'defaultValue':_0x83fea5,'dirtyShaderFunc':(_0xf1796b,_0x3a3ab7)=>(_0xf1796b===0x22c4+-0x209e+-0x226||_0xf1796b===-0x1*0xab5+0x1*0x17c6+0x1a2*-0x8)!=(_0x3a3ab7===0x1*-0x11a7+0x1*-0x90d+-0x6ad*-0x4||_0x3a3ab7===0x1a*-0x6e+-0x1*-0x1d2+0x95b)}),Zc(_0x5cdec3,_0x28cbec);}function qa(_0x2da3c9,_0x43ca99){ts({'name':_0x2da3c9,'defaultValue':null,'dirtyShaderFunc':(_0x2d3200,_0x322f8f)=>!!_0x2d3200==!!_0x322f8f}),Zc(_0x2da3c9,_0x43ca99);}function we(_0x1009a8,_0xaa10a3){ts({'name':_0x1009a8,'defaultValue':_0xaa10a3});}function tM(){Cn('ambient',new j(-0x383*-0xb+-0x107*0x1a+-0xbea,0x708+-0x143f+-0x2f*-0x48,0x635*-0x3+-0x2176+0x1a0b*0x2)),Cn('diffuse',new j(-0x1c6f+-0x1*0x6f8+0x16*0x19c,0x14c0+-0x19*0x125+-0x1*-0x7de,0xd58+-0x1bee+0x3*0x4dd)),Cn('specular',new j(0x1*0x98e+0x1f34+-0x28c2,0x95f*0x1+0x10c3*0x2+-0x2ae5*0x1,-0x2055+-0x32b+0x2380)),Cn('emissive',new j(-0x100d*-0x1+-0x6d*0xd+-0x542*0x2,0x152d+0x2*-0x74f+0x1*-0x68f,0x3*0x5f2+0x39f+-0x1575)),Cn('sheen',new j(0x1016+0xeb7*0x1+-0x2*0xf66,-0x20ed+-0x16ee+-0x82*-0x6e,0x20fa+-0x2478+-0x1*-0x37f)),Cn('attenuatio'+'n',new j(0x7*-0x1b1+-0x23*-0x3f+-0x33b*-0x1,0x19d*-0x7+0x1c3d+-0x10f1,-0x47*-0x13+-0xdd9+-0xa9*-0xd)),Ce('emissiveIn'+'tensity',-0x4*-0x296+0x16ea+0x1*-0x2141),Ce('specularit'+'yFactor',0x2655+-0x569+-0x3*0xaf9),Ce('sheenGloss',-0x688+0x13b3+-0xd2b),Ce('gloss',-0x3e9*0x2+-0x141f+0x1bf1+0.25),Ce('aoIntensit'+'y',0x1*0x46d+-0x2370+-0x7c1*-0x4),Ce('heightMapF'+'actor',-0xd39+0xa6*0x10+0x2da,(_0x250a29,_0x5687b2,_0x83cbb7)=>_0x250a29['heightMapF'+'actor']*(0x14f4+-0x2*-0x1011+-0x3516+0.025)),Ce('opacity',-0x23e6+0x3*0x1cb+0x1e86),Ce('alphaFade',-0x150b+-0x1*0x178f+0x2c9b),Ce('alphaTest',-0x95*0xb+-0x1740+0x1da7),Ce('bumpiness',0x108*-0x7+-0x442+0xb7b),Ce('normalDeta'+'ilMapBumpi'+'ness',0x23c8+0x1dfb+-0x41c2),Ce('reflectivi'+'ty',-0x1494+0x3d5*-0x1+0x186a),Ce('occludeSpe'+'cularInten'+'sity',0x2*-0xdcc+-0x6*-0x259+0xd83),Ce('refraction',-0x186*0xa+-0x3ca+0x1306),Ce('refraction'+'Index',(-0x1933+-0x18e3*-0x1+0x9*0x9)/(0x1594+0xa9*0x2b+-0x31f6+0.5)),Ce('dispersion',-0xe13+-0x1*0x1bce+0x29e1),Ce('thickness',0x19cf+0x42d*0x7+-0x581*0xa),Ce('attenuatio'+'nDistance',-0x1e32+-0x61b+0x244d),Ce('metalness',-0x2f1*-0x7+0x5f9*-0x2+-0x8a4),Ce('anisotropy',0x261d+-0xfcf*0x1+-0x164e),Ce('clearCoat',0x9*-0x456+-0xc10+0x3316),Ce('clearCoatG'+'loss',0x14a9+0x1561+-0x279*0x11),Ce('clearCoatB'+'umpiness',0x1f00+-0x7b*-0x4f+-0x113d*0x4),Ce('aoUvSet',-0xe8e+-0x104+0x1*0xf92,null),Ce('iridescenc'+'e',0xbb2*0x3+0x1*-0x855+0x2f9*-0x9),Ce('iridescenc'+'eRefractio'+'nIndex',(-0x15f+-0xb14+0xc74*0x1)/(-0xe68+0x13d6*-0x1+0x223f+0.5)),Ce('iridescenc'+'eThickness'+'Min',0x19*-0x7f+-0x22*-0xdf+-0x1137),Ce('iridescenc'+'eThickness'+'Max',-0xc57+0x94d*0x1+0x30a),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x4fe150,_0x40000f,_0xfea411)=>{const _0x177a13=_0x4fe150['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x11a5*-0x2+0x19*-0x2+-0x27*-0xe9)},{'name':'envBoxMax','value':new Float32Array(0x3*0xbcb+0x2*0x628+-0x2fae)}]),_0x584f7c=_0x4fe150['cubeMapPro'+'jectionBox']['getMin'](),_0x367d22=_0x177a13[-0x13bd+0x1*0x14ed+-0x130]['value'];_0x367d22[-0x2*0x7c8+-0x76f+0x16ff*0x1]=_0x584f7c['x'],_0x367d22[0x1eb8+0x1c*-0xd9+0x6fb*-0x1]=_0x584f7c['y'],_0x367d22[-0x2014+-0x109c+0x30b2]=_0x584f7c['z'];const _0x43fd88=_0x4fe150['cubeMapPro'+'jectionBox']['getMax'](),_0x362cb5=_0x177a13[-0x1*0x161b+0x9f0+-0x4*-0x30b]['value'];return _0x362cb5[0x1428+0x858+-0x180*0x13]=_0x43fd88['x'],_0x362cb5[-0x1*-0xfb6+0x25*-0xcb+-0x5*-0x2ba]=_0x43fd88['y'],_0x362cb5[0xd29+-0x67e+-0x6a9]=_0x43fd88['z'],_0x177a13;}),we('specularTi'+'nt',!(0xe5b+0x1470+0x92*-0x3d)),we('specularit'+'yFactorTin'+'t',!(-0x11ce+-0x1*-0x16ed+0x5*-0x106)),we('useMetalne'+'ss',!(-0x23a4+-0x180e+0x3bb3)),we('useMetalne'+'ssSpecular'+'Color',!(0x21cc+-0x1392+0x1*-0xe39)),we('useSheen',!(0xb50*-0x2+0x4c4+-0x11*-0x10d)),we('enableGGXS'+'pecular',!(-0x6*-0x16a+-0xfa4+0xd*0x8d)),we('occludeDir'+'ect',!(-0x13f2+-0x1fe3+0x33d6)),we('opacityFad'+'esSpecular',!(-0x1074+0xc4c*-0x1+-0x50*-0x5c)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(-0x2*-0xaa2+-0x1cd6*0x1+0x7*0x115)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(-0x4*0x29c+0x45e*-0x3+0x178a)),we('useLightin'+'g',!(-0x1702+0x345*-0x9+0x346f*0x1)),we('useTonemap',!(-0x1*0xd3b+0x4a9*0x5+-0xa12)),we('useSkybox',!(0x23d+0x29*-0xdb+0x9*0x3a6)),we('forceUv1',!(-0x147a+-0x349+-0x152*-0x12)),we('pixelSnap',!(-0x21cb+-0x1*0x2275+0x4441)),we('twoSidedLi'+'ghting',!(0x3d*-0x4+0x21c4+-0x20cf)),we('nineSliced'+'Mode',void(0xaac+-0x3f*0x21+0x1*-0x28d)),we('msdfTextAt'+'tribute',!(0x13*0x14f+-0x458*0x1+0x2*-0xa42)),we('useIridesc'+'ence',!(-0x1*-0x166+-0x2291+0x212c*0x1)),we('glossInver'+'t',!(-0x6cd+0x1db*0x8+-0x93*0xe)),we('sheenGloss'+'Invert',!(0x1134+-0x106f+-0xc4)),we('clearCoatG'+'lossInvert',!(0x1689+0x1e12+-0x349a)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(-0xcec+0xd90+-0xa3)),Ge('ao','g'),Ge('light','rgb',!(0x2*-0xacf+-0x40f*-0x4+0x562),0x260d+0x13db+-0xf3*0x3d),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(-0x25d3*-0x1+0xdf2*0x1+-0x33c4*0x1)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(-0x900+-0x14d5*-0x1+0x4*-0x2f5)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x476814=function(){return this['_prefilter'+'edCubemaps'];},_0xc1dc65=function(_0xac7e62){const _0x3ac30d=this['_prefilter'+'edCubemaps'];_0xac7e62=_0xac7e62||[];let _0x76f9e9=!(0x1*-0x89a+-0x661*-0x4+-0x10e9),_0x384ef5=!(0x22e3+-0x7*0x2cc+-0xf4f*0x1);for(let _0x1e0ef1=-0x1e0c+-0x6c5*-0x5+0x7*-0x8b;_0x1e0ef1<0x919+-0x1*-0x1619+-0x3*0xa64;++_0x1e0ef1){const _0x475a98=_0xac7e62[_0x1e0ef1]||null;_0x3ac30d[_0x1e0ef1]!==_0x475a98&&(_0x3ac30d[_0x1e0ef1]=_0x475a98,_0x76f9e9=!(0x806+-0x2*0xbe6+-0x1*-0xfc6)),_0x384ef5=_0x384ef5&&!!_0x3ac30d[_0x1e0ef1];}_0x76f9e9&&(_0x384ef5?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x3ac30d,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x1*-0xb8d+-0xb41+0x16ce));},_0x317594=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x317594['slice'](),_0xc1dc65,_0x476814);}tM();const dt=class dt{static['render'](_0x34bccd,_0x4994b4){const _0x4bdd8f=_0x4994b4['device'],_0x2368a6=_0x34bccd['cells'],_0x43f15a=_0x34bccd['lightsBuff'+'er'],_0x485851=_0x43f15a['boundsMin'],_0x4476fb=_0x43f15a['boundsDelt'+'a'],_0x210dc5=_0x485851['clone']()['add'](_0x4476fb),_0x393048=_0x43f15a['boundsDelt'+'a']['clone']()['div'](_0x2368a6),_0x524321=dt['gridPositi'+'ons'],_0x415402=dt['gridColors'],_0x3a7297=new j(-0x175c+0x1e2*0xb+0x2a6+0.3,0x1337+-0x7f*0x11+-0xac8+0.3,-0x226c+0x187a+0x9f2+0.3),_0x6537c9=(_0x116a7c,_0x2ef728,_0x5c62cd,_0x279c2e,_0x77606a,_0x453e9e,_0x57abd6,_0x28f9f2,_0x1fa7e9)=>{for(let _0x1eb4df=0x78b*-0x1+-0x3e*-0x75+0x1*-0x14cb;_0x1eb4df<=_0x116a7c;_0x1eb4df++)for(let _0x53ea8b=0x5*-0xb3+-0xf5d+0x12dc;_0x53ea8b<=_0x2ef728;_0x53ea8b++){const _0x174352=_0x5c62cd+_0x1eb4df*_0x279c2e,_0x3617ae=_0x77606a+_0x53ea8b*_0x453e9e;_0x1fa7e9===-0xa86+0xa*0x3e6+-0x1*0x1c76?_0x524321['push'](_0x174352,_0x57abd6,_0x3617ae,_0x174352,_0x28f9f2,_0x3617ae):_0x1fa7e9===-0x9*0x151+0x15eb*0x1+-0x1*0xa11?_0x524321['push'](_0x174352,_0x3617ae,_0x57abd6,_0x174352,_0x3617ae,_0x28f9f2):_0x1fa7e9===-0x17c0+-0x4*0x600+0x2fc2&&_0x524321['push'](_0x57abd6,_0x174352,_0x3617ae,_0x28f9f2,_0x174352,_0x3617ae);}};if(_0x6537c9(_0x2368a6['x'],_0x2368a6['z'],_0x485851['x'],_0x393048['x'],_0x485851['z'],_0x393048['z'],_0x485851['y'],_0x210dc5['y'],-0xba5+-0x160*-0x1+0xef*0xb),_0x6537c9(_0x2368a6['x'],_0x2368a6['y'],_0x485851['x'],_0x393048['x'],_0x485851['y'],_0x393048['y'],_0x485851['z'],_0x210dc5['z'],0x1*-0xc52+0x1eb0*-0x1+-0x34f*-0xd),_0x6537c9(_0x2368a6['y'],_0x2368a6['z'],_0x485851['y'],_0x393048['y'],_0x485851['z'],_0x393048['z'],_0x485851['x'],_0x210dc5['x'],0x68b+0x1120+-0x17a9),_0x524321['length']){const _0x215471=_0x524321['length']/(0xd5b+0x7*0x1dd+-0xc1*0x23);if(_0x215471!==_0x415402['length']/(-0x3*0xe9+0x1*0x142a+-0x116b)){_0x415402['length']=-0x1fa3+-0xb6+0x2059;for(let _0x27b731=-0x1515+-0xc19*-0x1+0x8fc;_0x27b731<_0x215471;_0x27b731++)_0x415402['push'](_0x3a7297['r'],_0x3a7297['g'],_0x3a7297['b'],_0x3a7297['a']);}_0x4994b4['drawLineAr'+'rays'](_0x524321,_0x415402),_0x524321['length']=0x1e62*-0x1+0x19*-0x2d+0x133*0x1d;}let _0x3ad1e8=dt['mesh'];_0x3ad1e8||(_0x3ad1e8=new Ie(_0x4bdd8f),_0x3ad1e8['clear'](!(-0x1af3+-0x1f4a+-0x1*-0x3a3d),!(0x215*-0x3+0x7e+0x5c1)),dt['mesh']=_0x3ad1e8);const _0x27c963=[],_0xa468c9=[],_0x3d74fc=[],_0x423f14=_0x34bccd['_cells']['x'],_0xc917fe=_0x34bccd['_cells']['z'],_0x4c9a78=_0x34bccd['counts'],_0x520cf0=_0x34bccd['_maxCellLi'+'ghtCount'],_0x17e3be=new T(),_0x112a07=new T(),_0x1aaf57=new T(),_0x57d752=_0x4476fb['clone']()['div'](_0x2368a6);let _0x19dbb7=0x2*0x614+0x1*-0x102c+-0x4*-0x101;for(let _0x4e1abd=-0x1*-0x176e+0x25f*0x10+-0x3d5e;_0x4e1abd<_0x2368a6['x'];_0x4e1abd++)for(let _0x77b3d9=0x24c1*-0x1+0x6e*-0x4d+0x45d7;_0x77b3d9<_0x2368a6['z'];_0x77b3d9++)for(let _0x585ddc=-0x1*0xc07+-0x1*-0xccf+0x5*-0x28;_0x585ddc<_0x2368a6['y'];_0x585ddc++){const _0x4afe01=_0x4e1abd+_0x423f14*(_0x77b3d9+_0x585ddc*_0xc917fe),_0x58077a=_0x4c9a78[_0x4afe01];if(_0x58077a>-0x1031+0xfb*0x2+0xe3b){_0x17e3be['x']=_0x485851['x']+_0x57d752['x']*_0x4e1abd,_0x17e3be['y']=_0x485851['y']+_0x57d752['y']*_0x585ddc,_0x17e3be['z']=_0x485851['z']+_0x57d752['z']*_0x77b3d9,_0x112a07['add2'](_0x17e3be,_0x57d752),_0x27c963['push'](_0x17e3be['x'],_0x17e3be['y'],_0x112a07['z']),_0x27c963['push'](_0x112a07['x'],_0x17e3be['y'],_0x112a07['z']),_0x27c963['push'](_0x112a07['x'],_0x112a07['y'],_0x112a07['z']),_0x27c963['push'](_0x17e3be['x'],_0x112a07['y'],_0x112a07['z']),_0x27c963['push'](_0x112a07['x'],_0x17e3be['y'],_0x17e3be['z']),_0x27c963['push'](_0x17e3be['x'],_0x17e3be['y'],_0x17e3be['z']),_0x27c963['push'](_0x17e3be['x'],_0x112a07['y'],_0x17e3be['z']),_0x27c963['push'](_0x112a07['x'],_0x112a07['y'],_0x17e3be['z']),_0x1aaf57['lerp'](dt['colorLow'],dt['colorHigh'],_0x58077a/_0x520cf0)['round']();for(let _0x21ef29=-0x2*-0x4eb+0x1*0x17cc+-0x21a2;_0x21ef29<0xae4+-0x3*0x34b+-0xfb*0x1;_0x21ef29++)_0xa468c9['push'](_0x1aaf57['x'],_0x1aaf57['y'],_0x1aaf57['z'],0xb29+0xeda+0x2*-0xd01);_0x3d74fc['push'](_0x19dbb7*(0x1*-0x70e+0x42+0x6d4)+(-0x1*-0x4d5+0x142d+-0x6*0x42b),_0x19dbb7*(0x2*-0xce2+0x26e*0x1+0x175e)+(-0xa3*-0xb+-0x634*0x3+0xb9c),_0x19dbb7*(0x16b5+0x166a+-0x11*0x2a7)+(0x1bc0+-0x1*0xe57+-0xd66)),_0x3d74fc['push'](_0x19dbb7*(-0x114d*-0x1+0xfee+0x3*-0xb11)+(-0x133*0x1b+-0x52a+0x258e),_0x19dbb7*(0x23eb+-0x4f9+-0xa4e*0x3)+(0x3c2*-0x4+0x1d28+-0xf*0xf1),_0x19dbb7*(-0x20b3+-0x3*-0xade+-0x1*-0x21)+(-0x1853+0x92*0x33+-0x4c1)),_0x3d74fc['push'](_0x19dbb7*(-0x1504+-0x1979+0x2e85)+(-0x625+-0x495+0xabe),_0x19dbb7*(0xa2*-0x24+0x1c8+-0x1*-0x1508)+(0x2104*0x1+0x1ce0+-0x3ddf),_0x19dbb7*(-0x1*-0xfa1+0x467*-0x3+-0x264)+(0x1f08+0x1*-0x846+-0x1*0x16bb)),_0x3d74fc['push'](_0x19dbb7*(-0xec+0x9ae+-0x8ba)+(-0x55d*0x1+-0x1*-0x9a7+-0x443),_0x19dbb7*(0x2350+-0x3*-0x864+-0x35*0x124)+(-0x722*0x3+0x1f*0x47+0xcd2),_0x19dbb7*(0x1913+0x8*0x2d6+-0x2fbb)+(-0xc7*0x17+-0x1f1d+0x3104)),_0x3d74fc['push'](_0x19dbb7*(0x1b51+-0x1070*-0x1+-0x111*0x29)+(-0x227*0x1+-0x1d28+0x1f52),_0x19dbb7*(0xe9c+0x2635+-0x34c9)+(0x189f*0x1+-0x1aaf+-0x2*-0x109),_0x19dbb7*(-0x40*-0x1f+-0x22fa*-0x1+-0x2ab2)+(-0x757+0xaef+-0x392)),_0x3d74fc['push'](_0x19dbb7*(-0x18d3+0x1aa3+-0xc*0x26)+(-0x1e36+0x1e69+0x7*-0x7),_0x19dbb7*(-0x292+-0x6df+0x979)+(0xfe1+-0x2298+-0x12be*-0x1),_0x19dbb7*(-0x1ef7+-0x21*0x7f+0x2f5e)+(-0x117a*0x2+0x35a*0x3+0x18ec)),_0x3d74fc['push'](_0x19dbb7*(0x2ce*-0x6+-0xe*0x259+-0x13*-0x29e)+(0x591*0x5+0x49d+-0x2071),_0x19dbb7*(0x23b7+0x607*0x1+0x13*-0x232)+(0x5*0x53c+-0x78c+-0x12a0),_0x19dbb7*(-0xd52+0x8b*-0x13+-0x17ab*-0x1)+(0xcf1*0x1+-0x1*-0xd57+-0x1a44)),_0x3d74fc['push'](_0x19dbb7*(0xb80+-0x25*0x5e+0x21e)+(0x1*0x2257+-0xc23+-0x1634),_0x19dbb7*(0x33*-0x3d+0x2*0x805+-0x3db)+(-0x143c+-0x4*-0x373+0x675),_0x19dbb7*(-0xb*0x242+-0x6e3+-0x2e3*-0xb)+(0x242e+0x1294+-0x36be)),_0x3d74fc['push'](_0x19dbb7*(-0x3*0x6c+-0x1f3a+0x2086)+(-0x1fc2+0x23b1*0x1+-0x3ee),_0x19dbb7*(0x1*0x1266+-0x7a6+-0x38*0x31)+(-0x101d+0x69*0x29+-0xb0),_0x19dbb7*(-0x3*0x708+0x9*0x3f9+-0x23*0x6b)+(-0x246d+0x1*0x180f+-0x21*-0x60)),_0x3d74fc['push'](_0x19dbb7*(0xe0e+0x23bb+-0x31c1)+(0x1*-0x18a+0xd3*-0x22+0x1d94),_0x19dbb7*(0x1*-0x14c5+-0x1e03+0x32d0)+(0x1*-0x1915+-0xe2+0x19fe),_0x19dbb7*(-0x1b70+-0x238d+0x49*0xdd)+(0xadc*-0x1+0xe60+-0x1c1*0x2)),_0x3d74fc['push'](_0x19dbb7*(0x2b6*-0x1+0x2460+-0x21a2)+(-0x2*-0xca7+-0x598*-0x4+-0x2fa9),_0x19dbb7*(-0xdc4+-0x1*0x2337+0x3103*0x1)+(0x43b*-0x1+-0x5*-0x12a+-0x1*0x197),_0x19dbb7*(-0xc05+0x1*-0x135d+-0x1f6a*-0x1)+(-0x3*-0x373+0x6a8+-0x10fb)),_0x3d74fc['push'](_0x19dbb7*(-0x529*-0x1+0x84a+0x479*-0x3)+(0x183e*0x1+0x201e+-0x4*0xe17),_0x19dbb7*(0x1321+-0x1*0xe99+-0x24*0x20)+(-0xab*-0x12+-0x49*-0xb+0x1*-0xf26),_0x19dbb7*(-0xad6*0x3+0x124f+0xe3b)+(0x25dd+0x2595*-0x1+0x6*-0xb)),_0x19dbb7++;}}if(_0x19dbb7){if(_0x3ad1e8['setPositio'+'ns'](_0x27c963),_0x3ad1e8['setColors3'+'2'](_0xa468c9),_0x3ad1e8['setIndices'](_0x3d74fc),_0x3ad1e8['update'](Ms,!(-0x252c+-0xd9+0x1303*0x2)),!dt['meshInstan'+'ce']){const _0x3faecb=new cs();_0x3faecb['useLightin'+'g']=!(-0x2493+0x2259+-0x1*-0x23b),_0x3faecb['emissive']=new j(-0x251a+0x2e2*-0x6+0x3667,-0x16b4+0x2*-0x1240+0x3b35,0x8e4*0x3+0xb66+-0x2611),_0x3faecb['emissiveVe'+'rtexColor']=!(0x1*-0x517+-0x1142*0x1+0x1659*0x1),_0x3faecb['blendType']=Hc,_0x3faecb['depthWrite']=!(0x364+-0x1f1*-0x13+0x1423*-0x2),_0x3faecb['update']();const _0x3abbfd=new De('WorldClust'+'ersDebug');_0x3abbfd['worldTrans'+'form']=q['IDENTITY'],_0x3abbfd['_dirtyWorl'+'d']=_0x3abbfd['_dirtyNorm'+'al']=!(-0x6c3*-0x1+0x1d6+0x1*-0x898),dt['meshInstan'+'ce']=new Le(_0x3ad1e8,_0x3faecb,_0x3abbfd),dt['meshInstan'+'ce']['cull']=!(-0x140f+-0x18b5+-0x1*-0x2cc5);}const _0xbfad82=dt['meshInstan'+'ce'];_0x4994b4['immediate']['drawMesh'](_0xbfad82['material'],_0xbfad82['node']['worldTrans'+'form'],null,_0xbfad82,_0x4994b4['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(-0x1*0x102e+0x2089+-0x105a,-0xf2+0x506+0x413*-0x1,0x1081+-0x1*0xdee+-0x292*0x1)),c(dt,'colorHigh',new T(0x2*0x69a+0x3d*0x5b+-0x22bb*0x1,0x1*-0x2203+0x10*0x241+-0x7*0x4b,-0x1*0x1d+-0x30a*0x5+0xf4f));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x424552=atob(sM);vi=Uint8Array['from'](_0x424552,_0x141ec1=>_0x141ec1['charCodeAt'](0x132e+-0x7c9*0x2+-0x39c));}},iM=()=>(R0(),vi);class rM{constructor(_0x531325=-0x18*0x147+-0x5e0+0x2488){c(this,'seed',-0xf48+0xde6+0x162*0x1),(this['seed']=_0x531325*(0x112*-0x7+0x1aa3+-0x1321),R0());}['_next'](){this['seed']=(this['seed']+(0x250+-0x589+0x33d))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(-0x79*0x1f+-0x1588+0x252e);}['vec4'](_0x109122=new Q()){return this['_next'](),_0x109122['set'](vi[this['seed']],vi[this['seed']+(0x1b9b+0x2654+-0xae*0x61)],vi[this['seed']+(-0x1649+0x4*-0x711+0x2b*0x12d)],vi[this['seed']+(0x1aa9*0x1+-0x11b+-0x198b)])['mulScalar']((-0x205f+-0x17a5+-0x3805*-0x1)/(-0x1b61+0x4b6*0x2+0x12f4));}}const nM=[new T(-(-0x4d*0x14+-0x3*-0x5b5+-0xcb*0xe),0x1f5a+0x11a*-0x4+0x2*-0xd79,-0x4a*0x25+-0x1478+0x1*0x1f2a),new T(0x1*-0x1031+-0x138e+0x23c0,0x23c0+0x1ab8+0x4*-0xf9e,0x11*-0x1b7+0x97*0x2e+-0xb*-0x2f),new T(-0x25c6+0x1f3*-0x2+0x29ac,-(0x1a3b+-0x35*-0xbc+0x1f*-0x21a),0x224c+0x1*-0x2059+-0x1f3*0x1),new T(0x1a*0xb5+-0x8b5*0x2+-0xf8,-0x1*-0xbfb+0x119a+-0x1d94,0xab*0x2b+0x9b8+-0x2671),new T(-0x79*-0xf+0x2213+-0x292a,-0xb56*0x2+-0x3f5+0x191*0x11,-(-0x1f76+-0xdaf+0x2d26)),new T(0xfa1*0x1+0x43*-0xc+-0xc7d,0x1*-0x1655+0x1854+0x7*-0x49,0x1*-0x1aef+0x2189+-0x1*0x699)];class aM{constructor(){c(this,'colors',new Float32Array((0x3*0x7de+0x544*0x2+-0x221c)*(0x2331+0x321*0x1+-0x15*0x1d3)));}['update'](_0x3dc3ae,_0x3bb955){const _0x193e86=this['colors'],{r:_0x33f558,g:_0x3cd1c6,b:_0x396627}=_0x3dc3ae;for(let _0x27ec21=0x14dc+-0x1c3*0x12+0x6*0x1cf;_0x27ec21<0x1*-0x1863+0x259e+-0xd35;_0x27ec21++)_0x193e86[_0x27ec21*(0x1*-0x3ff+0x93*0x1+0x36f)]=_0x33f558,_0x193e86[_0x27ec21*(-0x2*-0x1116+-0x1d*-0x4+0x229d*-0x1)+(-0x1*-0x1c1+-0xbc5+-0x9*-0x11d)]=_0x3cd1c6,_0x193e86[_0x27ec21*(-0x8eb*0x1+0x1*-0x313+-0xc01*-0x1)+(0x13b9+0xacd+-0x117*0x1c)]=_0x396627;for(let _0x48eb8b=-0x8d8+-0x519*-0x6+0xf2*-0x17;_0x48eb8b<_0x3bb955['length'];_0x48eb8b++){const _0xa99ce3=_0x3bb955[_0x48eb8b];if(_0xa99ce3['_type']===oe)for(let _0x1c63f4=-0x253c+0x83b+0x1d01;_0x1c63f4<0x486+0x2010+-0x2490;_0x1c63f4++){const _0x174a72=Math['max'](nM[_0x1c63f4]['dot'](_0xa99ce3['_direction']),-0x2f*0x5b+-0x12b*0x5+0x168c)*_0xa99ce3['_intensity'],_0x3e51e3=_0xa99ce3['_color'];_0x193e86[_0x1c63f4*(0x65*0x37+-0xef*-0x25+-0x383b)]+=_0x3e51e3['r']*_0x174a72,_0x193e86[_0x1c63f4*(0x1*0x4ef+0x16a2+-0x1b8e)+(-0x1*-0x62b+-0x2387+0x1d5d)]+=_0x3e51e3['g']*_0x174a72,_0x193e86[_0x1c63f4*(-0x33a+-0x1d1d*-0x1+-0x17*0x120)+(-0x694+-0x154d+-0x79*-0x3b)]+=_0x3e51e3['b']*_0x174a72;}}}}const oM=(_0x5b51c8,_0x188ce9,_0x3664d5,_0x3ed8ba)=>{const _0x22a1d6=new he(_0x5b51c8,{'name':''+_0x188ce9+_0x3664d5,'width':_0x3664d5,'height':_0x3664d5,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x179e+-0x1*0xd3+0x1872)});return _0x22a1d6['lock']()['set'](_0x3ed8ba),_0x22a1d6['unlock'](),_0x22a1d6;},lM=new kt(),hM=_0x3f248c=>lM['get'](_0x3f248c,()=>{const _0x4301c1=iM(),_0x1de560=Math['sqrt'](_0x4301c1['length']/(0x218*0x7+0x1d0b*-0x1+-0x4cd*-0x3));return oM(_0x3f248c,'BlueNoise',_0x1de560,_0x4301c1);});class un{constructor(_0x335975,_0x45e9c2){this['texture']=_0x335975,this['cached']=!(0x2528+-0x10f+-0x39c*0xa),this['renderTarg'+'ets']=_0x45e9c2;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x54f437=this['renderTarg'+'ets'];for(let _0x55f8d8=0x79*-0x1f+0xb*0x1d7+-0x596;_0x55f8d8<_0x54f437['length'];_0x55f8d8++)_0x54f437[_0x55f8d8]['destroy']();this['renderTarg'+'ets']['length']=-0x1*-0x136d+-0x22aa+0xf3d;}static['getShadowF'+'iltering'](_0x435f0c,_0x5c0915){return _0x5c0915===$r?_0x435f0c['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x4c4849,_0x2b6af0){let _0x391f92=null;return _0x2b6af0['_type']===Pe?_0x391f92=this['createCube'+'map'](_0x4c4849,_0x2b6af0['_shadowRes'+'olution'],_0x2b6af0['_shadowTyp'+'e']):_0x391f92=this['create2dMa'+'p'](_0x4c4849,_0x2b6af0['_shadowRes'+'olution'],_0x2b6af0['_shadowTyp'+'e']),_0x391f92;}static['createAtla'+'s'](_0x41136d,_0xee1726,_0x35a251){const _0x511bd2=this['create2dMa'+'p'](_0x41136d,_0xee1726,_0x35a251),_0x4f7fec=_0x511bd2['renderTarg'+'ets'],_0x5c1193=_0x4f7fec[-0x3*0x7b+0x1*0x779+-0x608];for(let _0x219615=0x488+-0xde0+0x958;_0x219615<-0x1535*-0x1+-0x24*-0x95+-0x2a24;_0x219615++)_0x4f7fec['push'](_0x5c1193);return _0x511bd2;}static['create2dMa'+'p'](_0x24df39,_0xd5e3b7,_0x1f9cc3){var _0x2f0e4d;const _0x51c624=ir['get'](_0x1f9cc3);v['assert'](_0x51c624);let _0x1e5295=_0x51c624['format'];_0x1e5295===Ii&&!_0x24df39['textureFlo'+'atRenderab'+'le']&&_0x24df39['textureHal'+'fFloatRend'+'erable']&&(_0x1e5295=Ec);const _0x1d15f1=(_0x2f0e4d=xt['get'](_0x1e5295))==null?void(0x20d3+0x124d+-0x3320):_0x2f0e4d['name'],_0x324eaa=this['getShadowF'+'iltering'](_0x24df39,_0x1f9cc3),_0x1fe6a5=new he(_0x24df39,{'profilerHint':Tu,'format':_0x1e5295,'width':_0xd5e3b7,'height':_0xd5e3b7,'mipmaps':!(-0x1b29+0xfdd+0xb4d),'minFilter':_0x324eaa,'magFilter':_0x324eaa,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x1d15f1});let _0x9978bd=null;return _0x51c624!=null&&_0x51c624['pcf']?(_0x1fe6a5['compareOnR'+'ead']=!(-0x2511+-0x9c*0x17+0x1107*0x3),_0x1fe6a5['compareFun'+'c']=Eh,_0x9978bd=new pt({'depthBuffer':_0x1fe6a5})):_0x9978bd=new pt({'colorBuffer':_0x1fe6a5,'depth':!(-0x1a2a+-0x25f4+0x401e)}),_0x24df39['isWebGPU']&&(_0x9978bd['flipY']=!(0x2e*-0x35+0x1dc1+-0x1*0x143b)),new un(_0x1fe6a5,[_0x9978bd]);}static['createCube'+'map'](_0x50b7b7,_0x52b22f,_0x383ecc){var _0x2203da;const _0x355f21=ir['get'](_0x383ecc);v['assert'](_0x355f21);const _0x30792b=(_0x2203da=xt['get'](_0x355f21['format']))==null?void(-0x1638+-0x219b+0x37d3*0x1):_0x2203da['name'],_0x44530b=_0x383ecc===Ts,_0x32dd71=_0x44530b?de:st,_0x14622f=new he(_0x50b7b7,{'profilerHint':Tu,'format':_0x355f21==null?void(-0x1115*-0x1+-0x9d9+-0x73c):_0x355f21['format'],'width':_0x52b22f,'height':_0x52b22f,'cubemap':!(0x1902+-0x1*-0x26f5+-0x28f*0x19),'mipmaps':!(-0x3b*-0x23+-0x2260+0x1a50),'minFilter':_0x32dd71,'magFilter':_0x32dd71,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x30792b});_0x44530b||(_0x14622f['compareOnR'+'ead']=!(-0x133*0x13+-0x32*-0x97+0x11*-0x65),_0x14622f['compareFun'+'c']=Eh);const _0x195959=[];for(let _0x303a54=0x1772*-0x1+-0x255e+0x1c*0x22c;_0x303a54<0x205d+-0x70*0x14+-0x1797;_0x303a54++)_0x44530b?_0x195959['push'](new pt({'colorBuffer':_0x14622f,'face':_0x303a54,'depth':!(-0x1*0x7c9+-0x1777+0x1f40)})):_0x195959['push'](new pt({'depthBuffer':_0x14622f,'face':_0x303a54}));return new un(_0x14622f,_0x195959);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x38507a){this['size']=Math['floor'](_0x38507a['w']*(0x7*0x273+0x12b4+-0x1f*0x107)),this['used']=!(0x2257*-0x1+-0x1399+-0x11fb*-0x3),this['lightId']=-(-0x2*-0x7a2+-0x1d2c+-0x3*-0x4a3),this['rect']=_0x38507a;}}class uM{constructor(_0x2d6ea7){this['device']=_0x2d6ea7,this['version']=-0x99*-0x11+0x1*0x10cf+0xb1*-0x27,this['shadowAtla'+'sResolutio'+'n']=-0x8*-0x4cd+0xc4f+-0x2ab7,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x41a+0xe*0x4f+-0x869,this['cookieAtla'+'sResolutio'+'n']=-0x12a7+0x1804*-0x1+0x2aaf,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(-0x285+-0x1e9d+0x1*0x2123),'mipmaps':!(0x1845+-0x1c2e+-0x6*-0xa7),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x131e*0x1+-0xb3f*0x3+0xea0),'flipY':!(-0x2684+-0x22fe+0x4982)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new $(0x1ad1*-0x1+0xa7f*-0x1+0x2550*0x1,-0xbc+0x1337+-0x53*0x39),new $(-0x3*0x3c8+-0x1de7+0x293f,0x1*-0x240d+-0x834+0x2c42),new $(0x2399*-0x1+-0x2*0x21a+0x13e7*0x2,0x1*-0x1297+0x263*0x6+0x445),new $(-0x1*0x1329+-0xea+0x1414,0x1fe9*0x1+-0x1*-0xd9a+-0xa*0x48d),new $(0x13*-0x1cf+-0xc75*-0x3+-0x300,-0x2386+0x1e5+-0x21a1*-0x1),new $(-0x262c+0x5e*0x5b+0x4c4,-0x99c+-0xa5d+-0x2*-0x9fd)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](0x1f3*-0x13+0x18*0x1d+-0x2e*-0xbf),this['allocateCo'+'okieAtlas'](0x17e4+0x898+0x207b*-0x1),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x2e8cbc;(_0x2e8cbc=this['shadowAtla'+'s'])==null||_0x2e8cbc['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x1fb6f8,_0x4f2c38;(_0x1fb6f8=this['cookieAtla'+'s'])==null||_0x1fb6f8['destroy'](),this['cookieAtla'+'s']=null,(_0x4f2c38=this['cookieRend'+'erTarget'])==null||_0x4f2c38['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x1360b8,_0x1f92cf=Lt){var _0x41ca27;const _0x1acde4=(_0x41ca27=this['shadowAtla'+'s'])==null?void(0xd85*-0x2+0x953+0x11b7):_0x41ca27['texture']['format'],_0x3bdbf9=ir['get'](_0x1f92cf)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x1360b8||_0x1acde4!==_0x3bdbf9){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x1360b8,_0x1f92cf),this['shadowAtla'+'s']['cached']=!(-0x478*-0x6+0x95*0x10+-0x2420);const _0x475386=(-0xbb*0x21+-0x1872+0x1*0x3091)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x475386,_0x475386,-(-0x4af+0x1075+-0x1f6*0x6)*_0x475386,-(-0xd43*-0x1+0x299+0x1*-0xfda)*_0x475386);}}['allocateCo'+'okieAtlas'](_0x58e6f0){this['cookieAtla'+'s']['width']!==_0x58e6f0&&(this['cookieRend'+'erTarget']['resize'](_0x58e6f0,_0x58e6f0),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0x21bd+0x643+-0x27fe),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x22d5a5=this['shadowAtla'+'s']['renderTarg'+'ets'][0x3*0x255+0xe75+0x1*-0x1574]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x22d5a5),this['_shadowAtl'+'asParams'][0x253e+-0x2377+-0x1c7]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0xf64+0x1291+-0xe*0x3a]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x5b1a57,_0x10aaf0){let _0x5f3cd9=_0x10aaf0['atlasSplit'];if(!_0x5f3cd9){const _0x379170=Math['ceil'](Math['sqrt'](_0x5b1a57));_0x5f3cd9=dM,_0x5f3cd9[0x1950+-0x39*-0xa4+-0x3dd4]=_0x379170,_0x5f3cd9['length']=-0x14bc+0x1*0x2632+0x29*-0x6d;}if(!((_0x2d5080,_0x54aac3)=>_0x2d5080['length']===_0x54aac3['length']&&_0x2d5080['every']((_0x6b935a,_0x21a258)=>_0x6b935a===_0x54aac3[_0x21a258]))(_0x5f3cd9,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x2a0+-0x48e+0x397*0x2,this['atlasSplit']['length']=0x12e5*-0x2+-0x238*0x11+-0xa*-0x78d,this['atlasSplit']['push'](..._0x5f3cd9);const _0x21415d=this['atlasSplit'][0x505+-0x1*-0xa13+0x3c6*-0x4];if(_0x21415d>0x188+-0x3*0x886+0x180b){const _0x35269c=(0x1*-0x174+0x2096+-0xd*0x265)/_0x21415d;for(let _0xee380e=0x43*-0x35+0x18e+0x3*0x41b;_0xee380e<_0x21415d;_0xee380e++)for(let _0x46f4d1=-0xd5f*0x2+0x913+-0x11ab*-0x1;_0x46f4d1<_0x21415d;_0x46f4d1++){const _0x2f3102=new Q(_0xee380e*_0x35269c,_0x46f4d1*_0x35269c,_0x35269c,_0x35269c),_0x42b901=this['atlasSplit'][-0x4a5+-0x410+-0x2*-0x45b+_0xee380e*_0x21415d+_0x46f4d1];if(_0x42b901>0x13a6+-0x1445+0xa0){for(let _0x5a9f65=0x491+0x5*0x2d2+-0xb1*0x1b;_0x5a9f65<_0x42b901;_0x5a9f65++)for(let _0x25889f=0x23b*0x7+0x212+-0x11af;_0x25889f<_0x42b901;_0x25889f++){const _0x365e1d=_0x35269c/_0x42b901,_0x530a65=new Q(_0x2f3102['x']+_0x5a9f65*_0x365e1d,_0x2f3102['y']+_0x25889f*_0x365e1d,_0x365e1d,_0x365e1d);this['slots']['push'](new Md(_0x530a65));}}else this['slots']['push'](new Md(_0x2f3102));}}else this['slots']['push'](new Md(new Q(-0x1304+-0x236c+0x34*0x10c,-0xcad+-0x1d24+0x29d1,-0x73e+-0xde6+0x1525,-0x1353+-0xc6b+0x12d*0x1b)));this['slots']['sort']((_0x474668,_0x29720e)=>_0x29720e['size']-_0x474668['size']);}}['collectLig'+'hts'](_0x3527fd,_0x182d3a){const _0x4eb440=_0x182d3a['cookiesEna'+'bled'],_0x2dd4b1=_0x182d3a['shadowsEna'+'bled'];let _0xa7e29b=!(0x6e+-0x1970+0x1*0x1903),_0x4b4150=!(0x1*-0x9d3+-0x1*0x1dbf+0x21*0x133);const _0x4cc9e4=cM;return _0x4cc9e4['length']=0x35a+0x21b8+-0x2512,(_0x4eb440||_0x2dd4b1)&&(_0x3f0453=>{for(let _0x3040c1=0x1fa9+0xecf*-0x2+-0x20b*0x1;_0x3040c1<_0x3f0453['length'];_0x3040c1++){const _0x57ff1c=_0x3f0453[_0x3040c1];if(_0x57ff1c['visibleThi'+'sFrame']){const _0x4f6b4f=_0x2dd4b1&&_0x57ff1c['castShadow'+'s'],_0x1469a3=_0x4eb440&&!!_0x57ff1c['cookie'];_0xa7e29b||(_0xa7e29b=_0x4f6b4f),_0x4b4150||(_0x4b4150=_0x1469a3),(_0x4f6b4f||_0x1469a3)&&_0x4cc9e4['push'](_0x57ff1c);}}})(_0x3527fd),_0x4cc9e4['sort']((_0x135af3,_0x36716e)=>_0x36716e['maxScreenS'+'ize']-_0x135af3['maxScreenS'+'ize']),_0xa7e29b&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x182d3a['shadowType']),_0x4b4150&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0xa7e29b||_0x4b4150)&&this['subdivide'](_0x4cc9e4['length'],_0x182d3a),_0x4cc9e4;}['setupSlot'](_0x439184,_0x1a95c1){_0x439184['atlasViewp'+'ort']['copy'](_0x1a95c1);const _0x7f613=_0x439184['numShadowF'+'aces'];for(let _0x5ab641=0x1*0x1fe7+0xce9*-0x3+-0x1*-0x6d4;_0x5ab641<_0x7f613;_0x5ab641++)if(_0x439184['castShadow'+'s']||_0x439184['_cookie']){if(Js['copy'](_0x1a95c1),Cd['copy'](_0x1a95c1),_0x439184['_type']===Re&&Js['add'](this['scissorVec']),_0x439184['_type']===Pe){const _0x268c5f=Js['z']/(-0x169*0x11+0x6b*-0x3e+0x18f3*0x2),_0x1a2e3a=this['cubeSlotsO'+'ffsets'][_0x5ab641];Js['x']+=_0x268c5f*_0x1a2e3a['x'],Js['y']+=_0x268c5f*_0x1a2e3a['y'],Js['z']=_0x268c5f,Js['w']=_0x268c5f,Cd['copy'](Js);}if(_0x439184['castShadow'+'s']){const _0x34f528=_0x439184['getRenderD'+'ata'](null,_0x5ab641);_0x34f528['shadowView'+'port']['copy'](Js),_0x34f528['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x16b656,_0x956952,_0x2ce578){_0x16b656['atlasViewp'+'ortAllocat'+'ed']=!(0x1246+0x26d5+0x1*-0x391b);const _0x42a173=this['slots'][_0x956952];_0x42a173['lightId']=_0x16b656['id'],_0x42a173['used']=!(-0x2*-0x541+-0x1f3e+0x14bc*0x1),_0x2ce578&&(_0x16b656['atlasSlotU'+'pdated']=!(0x240d+-0x20*0x5+0x236d*-0x1),_0x16b656['atlasVersi'+'on']=this['version'],_0x16b656['atlasSlotI'+'ndex']=_0x956952);}['update'](_0x17fbb5,_0x566d13){this['shadowAtla'+'sResolutio'+'n']=_0x566d13['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x566d13['cookieAtla'+'sResolutio'+'n'];const _0x2a8f05=this['collectLig'+'hts'](_0x17fbb5,_0x566d13);if(_0x2a8f05['length']>0x6bd*-0x1+0x159*-0x18+0x2715){const _0x58b0bf=this['slots'];for(let _0x10708b=0x2411+0x18e5+-0x1b*0x242;_0x10708b<_0x58b0bf['length'];_0x10708b++)_0x58b0bf[_0x10708b]['used']=!(0x6*0x511+-0x16b5+0x29*-0x30);const _0x3d166f=Math['min'](_0x2a8f05['length'],_0x58b0bf['length']);for(let _0x16b21d=-0x5*0x63d+-0x9*-0x19b+0x85f*0x2;_0x16b21d<_0x3d166f;_0x16b21d++){const _0x30d287=_0x2a8f05[_0x16b21d];_0x30d287['castShadow'+'s']&&(_0x30d287['_shadowMap']=this['shadowAtla'+'s']);const _0x1be231=_0x58b0bf[_0x30d287['atlasSlotI'+'ndex']];if(_0x30d287['atlasVersi'+'on']===this['version']&&_0x30d287['id']===(_0x1be231==null?void(0xb88*-0x1+-0x13*0x6a+0x17e*0xd):_0x1be231['lightId'])){const _0x241054=_0x58b0bf[_0x30d287['atlasSlotI'+'ndex']];_0x241054['size']===_0x58b0bf[_0x16b21d]['size']&&!_0x241054['used']&&this['assignSlot'](_0x30d287,_0x30d287['atlasSlotI'+'ndex'],!(-0x13*0x2+0x4*0x4d2+-0x3b*0x53));}}let _0x10fc5b=-0x3*-0xb7e+0x378+-0x25f2;for(let _0x10f1d9=-0x1aab*0x1+-0xa21*0x1+0x24cc;_0x10f1d9<_0x3d166f;_0x10f1d9++){for(;_0x10fc5b<_0x58b0bf['length']&&_0x58b0bf[_0x10fc5b]['used'];)_0x10fc5b++;const _0x3ce1a5=_0x2a8f05[_0x10f1d9];_0x3ce1a5['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x3ce1a5,_0x10fc5b,!(0x23a9+0x1690*-0x1+-0xd19));const _0xf76771=_0x58b0bf[_0x3ce1a5['atlasSlotI'+'ndex']];this['setupSlot'](_0x3ce1a5,_0xf76771['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x3a40f2=>{_0x3a40f2['forEach'](_0x279231=>{_0x279231['destroy']();});}),this['cache']['clear']();}['getKey'](_0x5c6bad){const _0x32e195=_0x5c6bad['_type']===Pe,_0x3d0f62=_0x5c6bad['_shadowTyp'+'e'],_0x5c47fc=_0x5c6bad['_shadowRes'+'olution'];return _0x32e195+'-'+_0x3d0f62+'-'+_0x5c47fc;}['get'](_0x12f0ec,_0x145ac1){const _0x24aaab=this['getKey'](_0x145ac1),_0x628f4=this['cache']['get'](_0x24aaab);if(_0x628f4&&_0x628f4['length'])return _0x628f4['pop']();const _0x44a309=un['create'](_0x12f0ec,_0x145ac1);return _0x44a309['cached']=!(-0xc8e*-0x1+-0x2648+0x19ba*0x1),_0x44a309;}['add'](_0x412c4d,_0x38a2b7){const _0x163b6a=this['getKey'](_0x412c4d),_0x4f904f=this['cache']['get'](_0x163b6a);_0x4f904f?_0x4f904f['push'](_0x38a2b7):this['cache']['set'](_0x163b6a,[_0x38a2b7]);}}class pM extends ds{constructor(_0x2c0be9,_0x56250e,_0x586ee1,_0xc91e37,_0x90cf06){super(_0x2c0be9),mn['setName'](this,this['name']+'-'+_0x586ee1['_node']['name']),this['requiresCu'+'bemaps']=!(0x1035+-0x26ad+-0x1*-0x1679),this['shadowRend'+'erer']=_0x56250e,this['light']=_0x586ee1,this['face']=_0xc91e37,this['applyVsm']=_0x90cf06,this['shadowCame'+'ra']=_0x56250e['prepareFac'+'e'](_0x586ee1,null,_0xc91e37),_0x56250e['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x18b*0xa+0x1da1*0x1+0x1*-0x2d0f));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0x1535*-0x1+0x1*-0xbcb+0x21*-0x49));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x4a07cf,_0xae4f71){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x4a07cf,this['shadowRend'+'erer']=_0xae4f71,this['device']=_0x4a07cf['device']);}['cull'](_0x4a903e,_0x255bec,_0x37a503=null){const _0x3be98a=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x4a903e['visibleThi'+'sFrame']=!(0x1295+-0x10a3+0x1*-0x1f2),_0x3be98a||_0x4a903e['_shadowMap']||(_0x4a903e['_shadowMap']=un['create'](this['device'],_0x4a903e));const _0x2a1fd4=_0x4a903e['_type'],_0x59777c=_0x2a1fd4===Re?0x47d*0x1+-0x141*0x17+0x185b:0x1f*-0xcd+0x102b*0x1+0x8ae;for(let _0x174c1c=0x1*0x435+0x7b8+-0xbed;_0x174c1c<_0x59777c;_0x174c1c++){const _0x51b495=_0x4a903e['getRenderD'+'ata'](null,_0x174c1c),_0x26456f=_0x51b495['shadowCame'+'ra'];_0x26456f['nearClip']=_0x4a903e['attenuatio'+'nEnd']/(-0xb5f*0x3+0x124e+0x13b7),_0x26456f['farClip']=_0x4a903e['attenuatio'+'nEnd'];const _0x280dc8=_0x26456f['_node'],_0x26169e=_0x4a903e['_node'];if(_0x280dc8['setPositio'+'n'](_0x26169e['getPositio'+'n']()),_0x2a1fd4===Re)_0x26456f['fov']=_0x4a903e['_outerCone'+'Angle']*(-0x23fd+0x59*-0x6d+0x49e4),_0x280dc8['setRotatio'+'n'](_0x26169e['getRotatio'+'n']()),_0x280dc8['rotateLoca'+'l'](-(0x1dc6+-0x34c+-0x1a20),0x630+-0x1*-0x9b+0x25*-0x2f,0x12c1+0x6b*0x38+-0x2b*0xfb);else{if(_0x2a1fd4===Pe){if(_0x3be98a){const _0x375e79=(0xd3*0x1+-0xa9f+-0xa*-0xfb)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x4a903e['atlasViewp'+'ort']['z']/(-0x6fd*0x1+-0x17c3+-0xa41*-0x3))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x26456f['fov']=Math['atan'](0x1678+-0x1ae8+0x471+_0x375e79)*N['RAD_TO_DEG']*(0xbce+-0x9*0x362+0x155*0xe);}else _0x26456f['fov']=-0x179e+-0x18c*0x13+0x556*0xa;}}this['renderer']['updateCame'+'raFrustum'](_0x26456f),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x255bec,_0x4a903e,_0x51b495['visibleCas'+'ters'],_0x26456f,_0x37a503);}}['prepareLig'+'hts'](_0x34ad66,_0x226c4e){let _0x229cf3;for(let _0x42690d=0x17c+-0x1*0x23f5+0x2279;_0x42690d<_0x226c4e['length'];_0x42690d++){const _0x45127d=_0x226c4e[_0x42690d];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x45127d)&&_0x45127d['atlasViewp'+'ortAllocat'+'ed']){_0x34ad66['push'](_0x45127d);for(let _0x37ae1b=0x1f*0x57+0x58b+-0x2a*0x62;_0x37ae1b<_0x45127d['numShadowF'+'aces'];_0x37ae1b++)_0x229cf3=this['shadowRend'+'erer']['prepareFac'+'e'](_0x45127d,null,_0x37ae1b);}}return _0x229cf3;}['buildNonCl'+'usteredRen'+'derPasses'](_0x2fd669,_0x3d1353){for(let _0x55f698=0x1c22+0x18d2+0xd3d*-0x4;_0x55f698<_0x3d1353['length'];_0x55f698++){const _0x4dea99=_0x3d1353[_0x55f698];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x4dea99)){const _0x2b9bb0=_0x4dea99['_type']===Re,_0x46ff87=_0x4dea99['numShadowF'+'aces'];for(let _0x301037=0x1f17+0xb5*0x1d+-0x3f8*0xd;_0x301037<_0x46ff87;_0x301037++){const _0x4bbf75=new pM(this['device'],this['shadowRend'+'erer'],_0x4dea99,_0x301037,_0x2b9bb0);_0x2fd669['addRenderP'+'ass'](_0x4bbf75);}}}}}class _M extends ds{constructor(_0x23b2d4,_0x19fca3,_0x3bd744,_0x587ab4,_0xc257bc){super(_0x23b2d4),mn['setName'](this,this['name']+'-'+_0x3bd744['_node']['name']),this['shadowRend'+'erer']=_0x19fca3,this['light']=_0x3bd744,this['camera']=_0x587ab4,this['allCascade'+'sRendering']=_0xc257bc;}['execute'](){const {light:_0xa1fd4b,camera:_0x19f6d9,shadowRenderer:_0x452ac6,allCascadesRendering:_0x12c369}=this,_0x3dafdd=_0xa1fd4b['numShadowF'+'aces'],_0x566f80=_0xa1fd4b['shadowUpda'+'teOverride'+'s'];for(let _0x2069c5=0x3b4*-0x8+0x1454+0x8c*0x11;_0x2069c5<_0x3dafdd;_0x2069c5++)(_0x566f80==null?void(0x3*-0xb43+0x13b2*-0x1+0x357b*0x1):_0x566f80[_0x2069c5])!==Ps&&_0x452ac6['renderFace'](_0xa1fd4b,_0x19f6d9,_0x2069c5,!_0x12c369),(_0x566f80==null?void(0x139a+0x19c9+0x3*-0xf21):_0x566f80[_0x2069c5])===cn&&(_0x566f80[_0x2069c5]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0x26105d,_0x2dffd1,_0x1fb7d0){Fe[-0x1102+0x10f4+-0x7*-0x2]['x']=Fe[-0x52b+-0x1*0x9e3+0xf0f]['x']=Fe[-0xd29+0x25ad+-0x1*0x1882]['x']=Fe[-0x141*-0x7+-0xfb0*0x1+0x6ec]['x']=_0x2dffd1['x'],Fe[0x1*-0x34c+-0x2*0x8af+0xd*0x197]['y']=Fe[0x1eb+-0x1b63+0x1*0x197b]['y']=Fe[-0xddc+0x68*-0x60+0x34e3]['y']=Fe[0x22b9+-0x17e1+-0xad3]['y']=_0x2dffd1['y'],Fe[0x312+-0xc86+-0x7*-0x15a]['z']=Fe[0xb*-0x239+-0x1252*0x1+0x2ac8]['z']=Fe[-0x215a+0x28e+0x1ed2]['z']=Fe[-0x1a7e+-0x58*0x46+-0x1*-0x3295]['z']=_0x2dffd1['z'],Fe[-0x4fd*0x7+0xe0a+0x14e5]['x']=Fe[0x612+-0x4a*0x25+-0x1*-0x4a5]['x']=Fe[-0x2f*-0x29+-0x8a5*-0x1+-0x35*0x4e]['x']=Fe[0x1f9*0x5+0x981+0x1357*-0x1]['x']=_0x1fb7d0['x'],Fe[-0x2216+0x53*0xb+0x1e85]['y']=Fe[-0x2*0xe8a+0x1e55+-0x13f]['y']=Fe[0x1013*-0x1+-0x1962+-0x1*-0x2979]['y']=Fe[0x2001+-0x8*0x25+-0xd*0x25f]['y']=_0x1fb7d0['y'],Fe[0x6ac+0x24f4+-0x2ba0]['z']=Fe[0x1448+0x2*0xcd2+-0x2deb*0x1]['z']=Fe[-0x218+0x7*0x3d6+0x18be*-0x1]['z']=Fe[-0x1da4+-0x4e1*-0x1+0x18c8]['z']=_0x1fb7d0['z'];let _0x40ca53=0x1b2ed59*-0x2a2+-0x25*0x17d5f6a2+-0xa3f0d6dbb*-0x1,_0x500a03=-(-0x43a7fe0de+-0x783481ed*-0x1+0x1*0x6165742f0);for(let _0x404431=-0x1*0xaf9+0x5ac+0x54d;_0x404431<0x233c+-0x2*0xdb2+-0x7d0;++_0x404431){_0x26105d['transformP'+'oint'](Fe[_0x404431],Fe[_0x404431]);const _0x262e0b=Fe[_0x404431]['z'];_0x262e0b<_0x40ca53&&(_0x40ca53=_0x262e0b),_0x262e0b>_0x500a03&&(_0x500a03=_0x262e0b);}return Pd['min']=_0x40ca53,Pd['max']=_0x500a03,Pd;}class yM{constructor(_0x1bdfea,_0x4b7aca){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x1bdfea,this['shadowRend'+'erer']=_0x4b7aca,this['device']=_0x1bdfea['device']);}['cull'](_0x6a8a18,_0x114dcc,_0x4dd00a,_0x3dd734=null){_0x6a8a18['visibleThi'+'sFrame']=!(-0x7*-0x48b+0x63d*-0x4+-0x6d9),_0x6a8a18['_shadowMap']||(_0x6a8a18['_shadowMap']=un['create'](this['device'],_0x6a8a18));const _0x55a03=_0x4dd00a['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x6a8a18,_0x55a03,Math['min'](_0x4dd00a['_farClip'],_0x6a8a18['shadowDist'+'ance']));const _0x542e5a=_0x6a8a18['shadowUpda'+'teOverride'+'s'];for(let _0x395ed7=-0xd*-0x107+-0x17ba+0x213*0x5;_0x395ed7<_0x6a8a18['numCascade'+'s']&&(_0x542e5a==null?void(-0x243e+0x1*0x1ab9+-0x1*-0x985):_0x542e5a[_0x395ed7])!==Ps;_0x395ed7++){const _0x287286=_0x6a8a18['getRenderD'+'ata'](_0x4dd00a,_0x395ed7),_0x3d76bc=_0x287286['shadowCame'+'ra'];_0x3d76bc['renderTarg'+'et']=_0x6a8a18['_shadowMap']['renderTarg'+'ets'][0x1149+-0x980+0x1*-0x7c9],_0x287286['shadowView'+'port']['copy'](_0x6a8a18['cascades'][_0x395ed7]),_0x287286['shadowScis'+'sor']['copy'](_0x6a8a18['cascades'][_0x395ed7]);const _0x43240b=_0x3d76bc['_node'],_0x30142c=_0x6a8a18['_node'];_0x43240b['setPositio'+'n'](_0x30142c['getPositio'+'n']()),_0x43240b['setRotatio'+'n'](_0x30142c['getRotatio'+'n']()),_0x43240b['rotateLoca'+'l'](-(0x129*-0x1d+0x827*0x1+0x19d8),0x1087+0x1*0x243a+0x34c1*-0x1,-0x11d*-0x15+-0x17*-0xad+-0x9bb*0x4);const _0x2fe980=_0x395ed7===0x1455+-0x16a5*0x1+0x250?_0x55a03:_0x6a8a18['_shadowCas'+'cadeDistan'+'ces'][_0x395ed7-(0xbb+-0x10fc+-0x821*-0x2)],_0x56a6b8=_0x6a8a18['_shadowCas'+'cadeDistan'+'ces'][_0x395ed7],_0x3497fd=_0x4dd00a['getFrustum'+'Corners'](_0x2fe980,_0x56a6b8);ei['set'](-0x1*-0x210e+-0x265a+0x54c,-0x1e7*-0x13+-0x1e5+0x448*-0x8,-0x1e1a+-0x14c*-0x14+0x42a*0x1);const _0x471336=_0x4dd00a['node']['getWorldTr'+'ansform']();for(let _0x352c3f=-0x1*0x53d+-0x125b+0x1798;_0x352c3f<0x1*0x1508+-0x663+-0xe9d;_0x352c3f++)_0x471336['transformP'+'oint'](_0x3497fd[_0x352c3f],_0x3497fd[_0x352c3f]),ei['add'](_0x3497fd[_0x352c3f]);ei['mulScalar']((0x26ae+-0x1920+-0xd8d*0x1)/(0xaeb*-0x3+0xe54+0x1275));let _0x54e23f=-0x1645*0x1+-0x10a1+0x26e6;for(let _0x2adbab=-0x1*-0x161b+-0x252*0x3+-0x1*0xf25;_0x2adbab<-0x1f1*-0x11+-0x137d*0x1+-0xd7c;_0x2adbab++){const _0x2ea822=_0x3497fd[_0x2adbab]['sub'](ei)['length']();_0x2ea822>_0x54e23f&&(_0x54e23f=_0x2ea822);}const _0xefe9ff=_0x43240b['right'],_0x2715ef=_0x43240b['up'],_0x204652=_0x43240b['forward'],_0x13e52b=(0x2*-0x586+0x844*0x2+0xea*-0x6+0.25)*_0x6a8a18['_shadowRes'+'olution']/_0x54e23f,_0x2fa442=Math['ceil'](ei['dot'](_0x2715ef)*_0x13e52b)/_0x13e52b,_0x337884=Math['ceil'](ei['dot'](_0xefe9ff)*_0x13e52b)/_0x13e52b,_0x313f3c=_0x2715ef['mulScalar'](_0x2fa442),_0x5ee1b4=_0xefe9ff['mulScalar'](_0x337884),_0x553196=ei['dot'](_0x204652),_0x2bc9ca=_0x204652['mulScalar'](_0x553196);ei['add2'](_0x313f3c,_0x5ee1b4)['add'](_0x2bc9ca),_0x43240b['setPositio'+'n'](ei),_0x43240b['translateL'+'ocal'](-0xac4+0x1419+-0x955*0x1,0x1b42+-0x1f7e+-0x2*-0x21e,0x12408*-0xa+-0x1637fa+-0x2*-0x187145),_0x3d76bc['nearClip']=-0xfd7+0x74d+-0x2*-0x445+0.01,_0x3d76bc['farClip']=0x15a584+0x5*0x3e562+0x1*-0xa9bee,_0x3d76bc['orthoHeigh'+'t']=_0x54e23f,this['renderer']['updateCame'+'raFrustum'](_0x3d76bc),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x114dcc,_0x6a8a18,_0x287286['visibleCas'+'ters'],_0x3d76bc,_0x3dd734);let _0x5dcb9f=!(0x9d*0x2f+0x12e*-0x2+0x1a77*-0x1);const _0x287307=_0x287286['visibleCas'+'ters'];for(let _0x7d2df6=-0x1*0xbc6+-0x11bc+-0x1*-0x1d82;_0x7d2df6<_0x287307['length'];_0x7d2df6++){const _0x1bd858=_0x287307[_0x7d2df6];_0x5dcb9f?(_0x5dcb9f=!(0x24c5+0x15ad+-0x3a71),Ll['copy'](_0x1bd858['aabb'])):Ll['add'](_0x1bd858['aabb']);}d_['copy'](_0x43240b['getWorldTr'+'ansform']())['invert']();const _0x4ebe40=gM(d_,Ll['getMin'](),Ll['getMax']());_0x43240b['translateL'+'ocal'](0x14e7+0x1*-0x17ff+-0x21*-0x18,0x1*0x67f+-0x8*-0x6b+-0x9d7*0x1,_0x4ebe40['max']+(0x427*0x3+-0xc91*0x2+0x3b*0x37+0.1)),_0x3d76bc['farClip']=_0x4ebe40['max']-_0x4ebe40['min']+(-0x1d3b+-0x929+0x1b*0x16c+0.2),_0x287286['projection'+'Compensati'+'on']=_0x54e23f;}}['generateSp'+'litDistanc'+'es'](_0x5ccb74,_0x105963,_0x391560){_0x5ccb74['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x391560);for(let _0x39df9b=0x110f+0x11*0x1df+-0x7*0x6fb;_0x39df9b<_0x5ccb74['numCascade'+'s'];_0x39df9b++){const _0x2050fc=_0x39df9b/_0x5ccb74['numCascade'+'s'],_0x17a110=_0x105963+(_0x391560-_0x105963)*_0x2050fc,_0x3fb50f=_0x105963*(_0x391560/_0x105963)**_0x2050fc,_0x531949=N['lerp'](_0x17a110,_0x3fb50f,_0x5ccb74['cascadeDis'+'tribution']);_0x5ccb74['_shadowCas'+'cadeDistan'+'ces'][_0x39df9b-(0x20*-0xe5+-0x49a*-0x5+0x59f)]=_0x531949;}}['getLightRe'+'nderPass'](_0x38f79c,_0x20c155){v['assert'](_0x38f79c&&_0x38f79c['_type']===oe);let _0x46604f=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x38f79c)){const _0x36fe75=_0x38f79c['numShadowF'+'aces'],_0x5edee4=_0x38f79c['shadowUpda'+'teOverride'+'s'];let _0x6c9ce4=!(-0x23d9+-0x4cd*-0x7+0x23e),_0x562cbf;for(let _0x389bd6=0x138e+0x2488+-0x12b2*0x3;_0x389bd6<_0x36fe75;_0x389bd6++)(_0x5edee4==null?void(-0x122*0x7+-0x192b*-0x1+0x1*-0x113d):_0x5edee4[_0x389bd6])===Ps&&(_0x6c9ce4=!(-0x38*0x94+0xcb*-0x2e+-0x1*-0x44db)),_0x562cbf=this['shadowRend'+'erer']['prepareFac'+'e'](_0x38f79c,_0x20c155,_0x389bd6);_0x46604f=new _M(this['device'],this['shadowRend'+'erer'],_0x38f79c,_0x20c155,_0x6c9ce4),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x46604f,_0x562cbf,_0x6c9ce4);}return _0x46604f;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(-0x2*-0x56+-0x1917+0x186d),Xa=new Q(0x1*-0x9e5+0xe0a+0x4*-0x109,-0x49*0x23+0x5*0x5a3+-0x1233,-0x186b+-0x254b+0x3db6,-0x22*-0x10c+0xc99+0xa9*-0x49),p_=new q();function xM(_0x3e828a,_0xe7e174){return Math['exp'](-(_0x3e828a*_0x3e828a)/((-0x2b*0xb+-0x5ca+0x7a5)*_0xe7e174*_0xe7e174));}function SM(_0x5e7b86){const _0x2fc644=(_0x5e7b86-(0xfcb+0x55e*0x1+-0x1528))/(-0x1f*0x92+-0x1*0x20ed+0x32a1),_0xa5f2c0=(_0x5e7b86-(-0x20da+-0x1b9e+-0x1*-0x3c79))*(-0x7*-0x59+-0x461*0x3+0xab4+0.5),_0x5dbaf0=new Array(_0x5e7b86);let _0x1c1ccd=0x7*-0xf1+0x1785+0x877*-0x2;for(let _0x305ee4=-0x2c0*0x8+-0x12a9+0x28a9;_0x305ee4<_0x5e7b86;++_0x305ee4)_0x5dbaf0[_0x305ee4]=xM(_0x305ee4-_0xa5f2c0,_0x2fc644),_0x1c1ccd+=_0x5dbaf0[_0x305ee4];for(let _0x45a4c8=0x6de+0x52f*-0x1+-0x1af;_0x45a4c8<_0x5e7b86;++_0x45a4c8)_0x5dbaf0[_0x45a4c8]/=_0x1c1ccd;return _0x5dbaf0;}class I0{constructor(_0x4abc31,_0x55d019){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x4abc31['device'],this['renderer']=_0x4abc31,this['lightTextu'+'reAtlas']=_0x55d019);const _0x294d80=this['device']['scope'];this['sourceId']=_0x294d80['resolve']('source'),this['pixelOffse'+'tId']=_0x294d80['resolve']('pixelOffse'+'t'),this['weightId']=_0x294d80['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x294d80['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0x1499+-0x3f*0x1+-0x6f3*-0x3),!(-0x1e04+-0x16f8+0x34fd),!(0x28b*-0x5+0xcc+0x7*0x1b4),!(-0x10bb*-0x1+-0x14c+-0xf6e));}static['createShad'+'owCamera'](_0x232d0e,_0x51ec36,_0x55e32c){const _0x2b0786=Ma['create']('ShadowCame'+'ra',_0x51ec36,_0x55e32c),_0x25d465=ir['get'](_0x232d0e);v['assert'](_0x25d465);const _0x677a79=(_0x25d465==null?void(-0x8*-0x223+0x14df+-0x25f7):_0x25d465['vsm'])??!(-0x1af8+0x2473+0x4bd*-0x2),_0x29087e=(_0x25d465==null?void(0x5e9+0x1*0x22c7+-0x28b0):_0x25d465['pcf'])??!(0x6b7+-0x2018+-0x43b*-0x6);return _0x677a79?_0x2b0786['clearColor']=new j(0xa28+-0x8fb+-0x12d,-0x22b1*0x1+-0x2*0x1039+0x4323,-0x5*-0x45b+0x1*0x1eeb+-0x34b2*0x1,0x113b*-0x1+0x8*-0x482+-0x354b*-0x1):_0x2b0786['clearColor']=new j(0x11b*0x17+0xc*0x1e0+-0x2fec*0x1,-0x99*0x2b+0x5*0x326+-0xaa*-0xf,0x9fd+-0xd3e+0x342,-0x5*-0x21e+0x164*-0x2+-0x7cd),_0x2b0786['clearDepth'+'Buffer']=!(0x216e+0x5d*-0x3a+-0xc5c),_0x2b0786['clearStenc'+'ilBuffer']=!(0x1*-0x1ab9+-0x577*-0x5+-0x99),_0x2b0786['clearColor'+'Buffer']=!_0x29087e,_0x2b0786;}['_cullShado'+'wCastersIn'+'ternal'](_0x24532b,_0x462826,_0x35d64f){const _0x100a6e=_0x24532b['length'];for(let _0x3a6811=-0x26ce+-0x1*0x1d41+-0x1*-0x440f;_0x3a6811<_0x100a6e;_0x3a6811++){const _0x27aaa4=_0x24532b[_0x3a6811];_0x27aaa4['castShadow']&&(!_0x27aaa4['cull']||_0x27aaa4['_isVisible'](_0x35d64f))&&(_0x27aaa4['visibleThi'+'sFrame']=!(-0x4*-0xa0+0x2ba*0xa+-0x1dc4),_0x462826['push'](_0x27aaa4));}}['cullShadow'+'Casters'](_0xa626d9,_0x42a148,_0xf7c1d5,_0xa1bdea,_0x575c53){if(_0xf7c1d5['length']=-0x22d*-0xb+0x3b2*0x8+-0x357f,_0x575c53)this['_cullShado'+'wCastersIn'+'ternal'](_0x575c53,_0xf7c1d5,_0xa1bdea);else{const _0xa69163=_0xa626d9['layerList'],_0x50f6af=_0xa69163['length'];for(let _0x1e9143=0x3d5*0x9+-0x1e2b*-0x1+-0x40a8;_0x1e9143<_0x50f6af;_0x1e9143++){const _0x3f89e3=_0xa69163[_0x1e9143];_0x3f89e3['_lightsSet']['has'](_0x42a148)&&(Rd['has'](_0x3f89e3)||(Rd['add'](_0x3f89e3),this['_cullShado'+'wCastersIn'+'ternal'](_0x3f89e3['shadowCast'+'ers'],_0xf7c1d5,_0xa1bdea)));}Rd['clear']();}_0xf7c1d5['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x5c631b,_0x27dc56){const _0xc65c0a=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x27dc56['_isPcf']:_0x27dc56['_isPcf']&&_0x27dc56['_type']!==Pe;_0x5c631b['setBlendSt'+'ate'](_0xc65c0a?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x5c631b['setDepthSt'+'ate'](_0x27dc56['shadowDept'+'hState']),_0x5c631b['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x5baacc,_0x14c41e,_0x12068b,_0x5d79ac){const _0xa0c1f7=_0x14c41e['_node'];_0x5baacc['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0xa0c1f7['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x5baacc['attenuatio'+'nEnd'])),u_['setTRS'](_0xa0c1f7['getPositio'+'n'](),_0xa0c1f7['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x14c41e['projection'+'Matrix'],u_);const _0x6a444=_0x12068b['shadowView'+'port'];_0x14c41e['rect']=_0x6a444,_0x14c41e['scissorRec'+'t']=_0x12068b['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x6a444['x'],_0x6a444['y'],_0x6a444['z'],_0x6a444['w']),_0x12068b['shadowMatr'+'ix']['mul2'](p_,f_),_0x5baacc['_type']===oe&&_0x5baacc['_shadowMat'+'rixPalette']['set'](_0x12068b['shadowMatr'+'ix']['data'],_0x5d79ac*(-0x25*-0x5c+-0xe37*-0x1+-0x1b73));}['getShadowP'+'ass'](_0x383dcf){var _0x684cfa;const _0x443d01=_0x383dcf['_type'],_0x185eb3=_0x383dcf['_shadowTyp'+'e'];let _0x3a4d24=(_0x684cfa=this['shadowPass'+'Cache'][_0x443d01])==null?void(-0x20b1+0x1*0x62a+0x1a87):_0x684cfa[_0x185eb3];if(!_0x3a4d24){const _0x2897d8='ShadowPass'+'_'+_0x443d01+'_'+_0x185eb3;_0x3a4d24=Ks['get'](this['device'])['allocate'](_0x2897d8,{'isShadow':!(0x6b8+0xdb4+-0x146c),'lightType':_0x443d01,'shadowType':_0x185eb3}),this['shadowPass'+'Cache'][_0x443d01]||(this['shadowPass'+'Cache'][_0x443d01]=[]),this['shadowPass'+'Cache'][_0x443d01][_0x185eb3]=_0x3a4d24;}return _0x3a4d24['index'];}['submitCast'+'ers'](_0x24515b,_0x38dd5f,_0x3444b2){const _0x4c1827=this['device'],_0x2d29c6=this['renderer'],_0x174f03=_0x2d29c6['scene'],_0x1c22d8=-0x54f+-0x45c*0x6+0x2*0xfbc<<Rp,_0x36f3dd=this['getShadowP'+'ass'](_0x38dd5f),_0x51f69b=_0x3444b2['shaderPara'+'ms'],_0x38462e=_0x3444b2['renderTarg'+'et']['flipY']?-(0x3d7*0x1+-0x34*0x3+-0x33a):0x2*0xfff+0x1e*0x52+-0x2999,_0x4ddb0e=_0x24515b['length'];for(let _0x1f1b6a=0x17*-0x17e+-0x2f6*0x8+-0x1e*-0x1ef;_0x1f1b6a<_0x4ddb0e;_0x1f1b6a++){const _0x15c921=_0x24515b[_0x1f1b6a],_0x61b5ca=_0x15c921['mesh'];_0x15c921['ensureMate'+'rial'](_0x4c1827);const _0x58744f=_0x15c921['material'];G['pushGpuMar'+'ker'](_0x4c1827,'Node:\x20'+_0x15c921['node']['name']+(',\x20Material'+':\x20')+_0x58744f['name']),_0x2d29c6['setBaseCon'+'stants'](_0x4c1827,_0x58744f),_0x2d29c6['setSkinnin'+'g'](_0x4c1827,_0x15c921),_0x58744f['dirty']&&(_0x58744f['updateUnif'+'orms'](_0x4c1827,_0x174f03),_0x58744f['dirty']=!(0x106*-0x1f+0xd15+0x2*0x953)),_0x2d29c6['setupCullM'+'ode'](!(-0x2016+-0x171e+0x3734),_0x38462e,_0x15c921),_0x58744f['setParamet'+'ers'](_0x4c1827),_0x15c921['setParamet'+'ers'](_0x4c1827,_0x1c22d8);const _0x25eee4=_0x15c921['getShaderI'+'nstance'](_0x36f3dd,-0x13*-0xa9+-0x1467+-0x3ee*-0x2,_0x174f03,_0x51f69b,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x3b3df3=_0x25eee4['shader'];v['assert'](_0x3b3df3,'no\x20shader\x20'+'for\x20pass\x20'+_0x36f3dd,_0x58744f),_0x15c921['_key'][ku]=_0x3b3df3['id'],_0x4c1827['setShader'](_0x3b3df3),_0x2d29c6['setVertexB'+'uffers'](_0x4c1827,_0x61b5ca),_0x2d29c6['setMorphin'+'g'](_0x4c1827,_0x15c921['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x25eee4,_0x15c921);const _0x2e053a=_0x15c921['renderStyl'+'e'];_0x4c1827['setIndexBu'+'ffer'](_0x61b5ca['indexBuffe'+'r'][_0x2e053a]),_0x2d29c6['drawInstan'+'ce'](_0x4c1827,_0x15c921,_0x61b5ca,_0x2e053a),_0x2d29c6['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x4c1827);}}['needsShado'+'wRendering'](_0x596660){const _0x9d3a54=_0x596660['enabled']&&_0x596660['castShadow'+'s']&&_0x596660['shadowUpda'+'teMode']!==Ps&&_0x596660['visibleThi'+'sFrame'];return _0x596660['shadowUpda'+'teMode']===cn&&(_0x596660['shadowUpda'+'teMode']=Ps),_0x9d3a54&&(this['renderer']['_shadowMap'+'Updates']+=_0x596660['numShadowF'+'aces']),_0x9d3a54;}['getLightRe'+'nderData'](_0x447e31,_0x47a5c0,_0x529fa6){return _0x447e31['getRenderD'+'ata'](_0x447e31['_type']===oe?_0x47a5c0:null,_0x529fa6);}['setupRende'+'rPass'](_0x176807,_0xcf142d,_0x12d3a1){const _0x5a0e4a=_0xcf142d['renderTarg'+'et'];_0x176807['init'](_0x5a0e4a),_0x176807['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x957*-0x2+-0x1*-0x1160+-0x347*0xb,_0x176807['depthStenc'+'ilOps']['clearDepth']=_0x12d3a1,_0x5a0e4a['depthBuffe'+'r']?_0x176807['depthStenc'+'ilOps']['storeDepth']=!(0x6bb*-0x5+-0x17a8+-0x11*-0x35f):(_0x176807['colorOps']['clearValue']['copy'](_0xcf142d['clearColor']),_0x176807['colorOps']['clear']=_0x12d3a1,_0x176807['depthStenc'+'ilOps']['storeDepth']=!(0xd26+-0x1ecc+0x11a7)),_0x176807['requiresCu'+'bemaps']=!(0x113c*0x2+-0xb*-0x47+-0x2584);}['prepareFac'+'e'](_0x4d2592,_0x5623a7,_0x42bcb5){const _0x1c8ce5=_0x4d2592['_type'],_0x4a2055=this['getLightRe'+'nderData'](_0x4d2592,_0x5623a7,_0x42bcb5)['shadowCame'+'ra'],_0x4007f6=_0x1c8ce5===oe?-0x1*-0x243e+0x23*-0xe2+-0x558:_0x42bcb5;return _0x4a2055['renderTarg'+'et']=_0x4d2592['_shadowMap']['renderTarg'+'ets'][_0x4007f6],_0x4a2055;}['renderFace'](_0x2d224e,_0x546143,_0x5e6adb,_0x1c550e,_0x1f519b=!(0x1*0xaf9+0x1*0x1c05+-0x2*0x137f)){const _0x5e37e2=this['device'],_0x464124=ne();G['pushGpuMar'+'ker'](_0x5e37e2,'SHADOW\x20'+_0x2d224e['_node']['name']+'\x20FACE\x20'+_0x5e6adb);const _0x582f43=this['getLightRe'+'nderData'](_0x2d224e,_0x546143,_0x5e6adb),_0x35f8d5=_0x582f43['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x2d224e,_0x35f8d5,_0x582f43,_0x5e6adb);const _0x577531=_0x35f8d5['renderTarg'+'et'],_0x5859d5=this['renderer'];_0x5859d5['setCameraU'+'niforms'](_0x35f8d5,_0x577531),_0x5e37e2['supportsUn'+'iformBuffe'+'rs']&&_0x5859d5['setupViewU'+'niformBuff'+'ers'](_0x582f43['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],-0x18d7+0x8*0x74+0x4*0x54e),_0x1f519b?(_0x5859d5['setupViewp'+'ort'](_0x35f8d5,_0x577531),_0x1c550e&&_0x5859d5['clear'](_0x35f8d5)):_0x5859d5['clearView'](_0x35f8d5,_0x577531,!(-0x12f9+0x24a3+-0x11aa),!(0x2d6+0x38*-0x99+0x1ea3)),this['setupRende'+'rState'](_0x5e37e2,_0x2d224e),this['submitCast'+'ers'](_0x582f43['visibleCas'+'ters'],_0x2d224e,_0x35f8d5),G['popGpuMark'+'er'](_0x5e37e2),_0x5859d5['_shadowMap'+'Time']+=ne()-_0x464124;}['render'](_0x3828bf,_0x545a85,_0x5e2845=!(0xf95+-0x9*-0x2db+-0x2948)){if(this['needsShado'+'wRendering'](_0x3828bf)){const _0x5a1e69=_0x3828bf['numShadowF'+'aces'];for(let _0x14648d=-0x162c+0x427*0x2+0xdde;_0x14648d<_0x5a1e69;_0x14648d++)this['prepareFac'+'e'](_0x3828bf,_0x545a85,_0x14648d),this['renderFace'](_0x3828bf,_0x545a85,_0x14648d,!(-0x1*-0x6f1+0xa96+-0x281*0x7),_0x5e2845);this['renderVsm'](_0x3828bf,_0x545a85);}}['renderVsm'](_0x3bfddc,_0x1dfb7e){_0x3bfddc['_isVsm']&&_0x3bfddc['_vsmBlurSi'+'ze']>0xe4d+0x1*0x5bf+-0x7*0x2dd&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x3bfddc['_type']===oe)&&this['applyVsmBl'+'ur'](_0x3bfddc,_0x1dfb7e);}['getVsmBlur'+'Shader'](_0x423630,_0x3c7424){const _0x227d33=this['blurVsmSha'+'der'];let _0x2d97df=_0x227d33[_0x423630][_0x3c7424];if(!_0x2d97df){this['blurVsmWei'+'ghts'][_0x3c7424]=SM(_0x3c7424);const _0x19313c=X['fullscreen'+'QuadVS'];let _0x4090eb='#define\x20SA'+'MPLES\x20'+_0x3c7424+'\x0a';_0x4090eb+=this['blurVsmSha'+'derCode'][_0x423630];const _0x3cae9c='blurVsm'+_0x423630+_0x3c7424;_0x2d97df=Is(this['device'],_0x19313c,_0x4090eb,_0x3cae9c),_0x227d33[_0x423630][_0x3c7424]=_0x2d97df;}return _0x2d97df;}['applyVsmBl'+'ur'](_0x202314,_0x57b006){const _0x455419=this['device'];G['pushGpuMar'+'ker'](_0x455419,'VSM\x20'+_0x202314['_node']['name']),_0x455419['setBlendSt'+'ate'](_t['NOBLEND']);const _0x5b07b2=_0x202314['getRenderD'+'ata'](_0x202314['_type']===oe?_0x57b006:null,-0x1*-0x5+0x1*0x2173+-0x132*0x1c)['shadowCame'+'ra']['renderTarg'+'et'],_0x75fc71=this['renderer']['shadowMapC'+'ache']['get'](_0x455419,_0x202314),_0x2ff127=_0x75fc71['renderTarg'+'ets'][-0x1c40+-0x1*0x1ef1+0x3b31],_0x1056db=_0x202314['vsmBlurMod'+'e'],_0x350858=_0x202314['_vsmBlurSi'+'ze'],_0x266056=this['getVsmBlur'+'Shader'](_0x1056db,_0x350858);Xa['z']=_0x202314['_shadowRes'+'olution']-(0x151e+0xbae+0x3*-0xaee),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x5b07b2['colorBuffe'+'r']),vr[0x37*0xab+-0x2687+0x1ca]=(0x116*-0x6+0xd4f*-0x1+-0x3*-0x69c)/_0x202314['_shadowRes'+'olution'],vr[-0xa10+0x19f5+-0xfe4]=0x1e0f+-0x7*0x47b+0x2*0xa7,this['pixelOffse'+'tId']['setValue'](vr),_0x1056db===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x350858]),dn(_0x455419,_0x2ff127,_0x266056,null,Xa),this['sourceId']['setValue'](_0x2ff127['colorBuffe'+'r']),vr[0x1faa+0x1125+-0x30ce]=vr[0x908+0x306+-0xc0e],vr[-0x25fa+0x2cd*0x1+-0x1*-0x232d]=-0xf4*-0x13+0x53*0x3d+-0x3*0xca1,this['pixelOffse'+'tId']['setValue'](vr),dn(_0x455419,_0x5b07b2,_0x266056,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x202314,_0x75fc71),G['popGpuMark'+'er'](_0x455419);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x1d5e81){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x1d5e81;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x13184c=>{_0x13184c['destroy']();}),this['_allocated']['length']=-0x8c5+0x1c2f+-0xe*0x163;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x32966d=new zu(this['device']);_0x32966d['name']='ClusterEmp'+'ty',_0x32966d['update']([]),this['_empty']=_0x32966d;}return this['_empty'];}['assign'](_0x2be1b5){const _0x23eb9f=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=-0x1653+0x1ec8*0x1+-0x1b1*0x5,this['_clusters']['clear']();const _0x10cfc5=_0x2be1b5['length'];for(let _0xc359df=-0x1*-0x19f6+0x1*0x140b+-0x2e01;_0xc359df<_0x10cfc5;_0xc359df++){const _0x142ce8=_0x2be1b5[_0xc359df]['renderActi'+'ons'];if(_0x142ce8){const _0x531079=_0x142ce8['length'];for(let _0x17458e=-0x146*-0x1+0x1*-0x985+0x83f;_0x17458e<_0x531079;_0x17458e++){const _0x101dfd=_0x142ce8[_0x17458e];_0x101dfd['lightClust'+'ers']=null;const _0x23e01c=_0x101dfd['layer'];if(_0x23e01c['hasCluster'+'edLights']&&_0x23e01c['meshInstan'+'ces']['length']){const _0x3dd206=_0x23e01c['getLightId'+'Hash'](),_0x554255=this['_clusters']['get'](_0x3dd206);let _0x1b40c0=_0x554255==null?void(-0xf8e+0x2632+-0x16a4):_0x554255['lightClust'+'ers'];_0x1b40c0||(_0x1b40c0=Fl['pop']()??new zu(this['device']),mn['setName'](_0x1b40c0,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x1b40c0),this['_clusters']['set'](_0x3dd206,_0x101dfd)),_0x101dfd['lightClust'+'ers']=_0x1b40c0;}_0x101dfd['lightClust'+'ers']||(_0x101dfd['lightClust'+'ers']=_0x23eb9f);}}}Fl['forEach'](_0x823958=>_0x823958['destroy']()),Fl['length']=0x167e+0x2476+-0x3af4;}['update'](_0x4faff7,_0x201ab3){this['assign'](_0x4faff7),this['_clusters']['forEach'](_0x100843=>{const _0x434dc5=_0x100843['layer'];_0x100843['lightClust'+'ers']['update'](_0x434dc5['clusteredL'+'ightsSet'],_0x201ab3);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0x467d2f,_0x56c8c3){super(_0x467d2f),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x56c8c3,this['requiresCu'+'bemaps']=!(-0x112+-0x5*0x283+-0x2*-0x6d1),this['blitTextur'+'eId']=_0x467d2f['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x467d2f['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x48b740,_0x52ea3b;(_0x48b740=this['_quadRende'+'rer2D'])==null||_0x48b740['destroy'](),this['_quadRende'+'rer2D']=null,(_0x52ea3b=this['_quadRende'+'rerCube'])==null||_0x52ea3b['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x59dd12,_0xff1c4b){v['assert'](_0x59dd12);const _0x50ceae=new kp(_0x59dd12['device'],_0xff1c4b);return _0x50ceae['init'](_0x59dd12),_0x50ceae['colorOps']['clear']=!(-0xc52+0x8ba*-0x1+0x150d),_0x50ceae['depthStenc'+'ilOps']['clearDepth']=!(-0x5b*-0x35+-0x291+-0x1045),_0x50ceae;}['update'](_0x438c7e){const _0x56028e=this['_filteredL'+'ights'];this['filter'](_0x438c7e,_0x56028e),this['executeEna'+'bled']=_0x56028e['length']>-0x179c+0x13*-0x1c6+-0x1*-0x394e;}['filter'](_0x2cc827,_0x7e4706){for(let _0x307f18=-0x29*-0xe5+-0x1bee+-0x8bf*0x1;_0x307f18<_0x2cc827['length'];_0x307f18++){const _0x5b456f=_0x2cc827[_0x307f18];_0x5b456f['_type']!==oe&&_0x5b456f['atlasViewp'+'ortAllocat'+'ed']&&_0x5b456f['atlasSlotU'+'pdated']&&_0x5b456f['enabled']&&_0x5b456f['cookie']&&_0x5b456f['visibleThi'+'sFrame']&&_0x7e4706['push'](_0x5b456f);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x5d468b=0xbb8*-0x1+0x8*0x418+0x8*-0x2a1;_0x5d468b<0x339+-0x2512+0x17*0x179;_0x5d468b++){const _0x2e896b=Ma['create'](null,Pe,_0x5d468b),_0x6350d3=_0x2e896b['projection'+'Matrix'],_0x4538ac=_0x2e896b['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x5d468b]=new q()['mul2'](_0x6350d3,_0x4538ac)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x16d2da=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x16d2da);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x53f5b0=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x53f5b0);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x4a4d11=this['device'];_0x4a4d11['setBlendSt'+'ate'](_t['NOBLEND']),_0x4a4d11['setCullMod'+'e'](mt),_0x4a4d11['setDepthSt'+'ate'](as['NODEPTH']),_0x4a4d11['setStencil'+'State']();const _0x4d0824=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x461637=this['_cubeSlots'+'Offsets'],_0x2321d4=this['_filteredL'+'ights'];for(let _0x58b50b=0x117d+0x20b5*-0x1+-0x4*-0x3ce;_0x58b50b<_0x2321d4['length'];_0x58b50b++){const _0x1900fb=_0x2321d4[_0x58b50b];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x1900fb['_node']['name']);const _0x34023e=_0x1900fb['numShadowF'+'aces'],_0x5616ea=_0x34023e>-0x609*-0x1+-0x21ea+0x1be2?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x34023e>0xd8e*0x2+0x1*-0x39e+0x177d*-0x1&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x1900fb['cookie']);for(let _0x345239=-0x7f7+-0x255*0x1+-0xa4c*-0x1;_0x345239<_0x34023e;_0x345239++){if(Gi['copy'](_0x1900fb['atlasViewp'+'ort']),_0x34023e>-0x2a*0x6b+0x1*-0x407+0x1596){const _0x493c09=Gi['z']/(-0x17c1+0xa6*-0x22+0x2dd0),_0x180286=_0x461637[_0x345239];Gi['x']+=_0x493c09*_0x180286['x'],Gi['y']+=_0x493c09*_0x180286['y'],Gi['z']=_0x493c09,Gi['w']=_0x493c09,this['invViewPro'+'jId']['setValue'](Id[_0x345239]['data']);}Gi['mulScalar'](_0x4d0824),_0x5616ea['render'](Gi);}G['popGpuMark'+'er'](_0x4a4d11);}_0x2321d4['length']=-0x190b*-0x1+-0x7*-0x4e5+-0x3b4e;}}class TM extends ds{constructor(_0x58bf51,_0x40b261,_0x1c324e){super(_0x58bf51),this['requiresCu'+'bemaps']=!(0x1*0x17d3+0x5ad*-0x5+0x48f*0x1),this['shadowRend'+'erer']=_0x40b261,this['shadowRend'+'ererLocal']=_0x1c324e;}['update'](_0x2e0e63){const _0x25cbce=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x35c196=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x25cbce,_0x2e0e63),_0x48d197=_0x25cbce['length'];this['enabled']=_0x48d197>-0x25b5+-0x30*-0x4c+0x1775,_0x48d197&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x35c196,!(0x22af+0x101b+0x32c9*-0x1));}['execute'](){const _0xa356bd=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x21dd2c=_0xa356bd['length'];for(let _0x316494=0x1*-0x250b+0x2c7*-0x9+-0x3e0a*-0x1;_0x316494<_0x21dd2c;_0x316494++){const _0x5d4b7f=_0xa356bd[_0x316494];for(let _0xaec006=0x1bbb*0x1+0x752+0x230d*-0x1;_0xaec006<_0x5d4b7f['numShadowF'+'aces'];_0xaec006++)this['shadowRend'+'erer']['renderFace'](_0x5d4b7f,null,_0xaec006,!(-0x1dad*-0x1+0x3*-0x5cd+-0x2*0x623));}_0xa356bd['length']=-0x1424+0x1088+0x39c;}}class AM extends ds{constructor(_0x2536eb,_0x606559,_0x6ab10f,_0x2e94d4,_0x111a7d){super(_0x2536eb),this['renderer']=_0x606559,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x111a7d['cookieRend'+'erTarget'],_0x111a7d['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x2536eb,_0x6ab10f,_0x2e94d4),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x42c9a0,_0x1f32bf,_0x55dc08,_0x2a4b53,_0x41d86e){this['frameGraph']=_0x42c9a0,this['cookiesRen'+'derPass']['enabled']=_0x55dc08,_0x55dc08&&this['cookiesRen'+'derPass']['update'](_0x2a4b53),this['shadowRend'+'erPass']['enabled']=_0x1f32bf,_0x1f32bf&&this['shadowRend'+'erPass']['update'](_0x41d86e);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x26b272=ne(),{renderer:_0x45ca81}=this,{scene:_0x4ffeae}=_0x45ca81;_0x45ca81['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x4ffeae['lighting']),_0x45ca81['_lightClus'+'tersTime']+=ne()-_0x26b272,_0x45ca81['_lightClus'+'ters']=_0x45ca81['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=0x1ca*-0x15+0x84*0x36+-0x6*-0x19f;const Hi=new q(),$i=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](-0x1c05*-0x1+-0x1966+0x2*-0x14f,-(0x1e69+0x16f9+-0x3561),-0xcc9*-0x1+0x16b9+-0x2381),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([0x45f+-0x13d5*0x1+0xf77,-0x33*-0x6d+-0xa63*0x1+0x91*-0x14,-0x31e+0x26a*-0xd+0x1140*0x2,-0x3*-0x5ef+0xf30+-0x20fd,0x23b*-0x5+-0x1d95+-0x365*-0xc,-0x1dcb+-0x97+0x1e63,0x1c*-0x147+-0x15e2*0x1+0x9d*0x5e,-0x506*0x1+-0x7*0x47f+0x247f*0x1,0x1794+0x40*0xd+-0x1ad4,-0x1*-0x8ef+0x146d+0x4*-0x757,0x10fa+-0xd65+-0x395+0.5,-0x1245+-0xa7*-0x35+-0x104e,-0x10a3+0x11*-0x2f+0x13c2,-0x3a*-0x20+-0x539*0x4+0xda4,-0xec*0x23+0x25d*0xd+0x18b+0.5,-0x9ee+-0xbad+0x1cd*0xc]),x_=[new $(0x1b1*0xa+0x260f+-0x1*0x36f9+0.5,0x623+0x1aea+0x210d*-0x1+0.333333),new $(-0x6*-0x9+-0x2327+0x22f1+0.25,-0x1*0x20ea+0x1*-0x11ef+0x10f3*0x3+0.666667),new $(0x2*0x752+0x1*-0x1e25+0xf81+0.75,0x77+0x10ad+-0x1124+0.111111),new $(-0x19*0x125+0x2501*-0x1+0x419e+0.125,-0x7c1*0x5+-0x21b7+-0x243e*-0x2+0.444444),new $(-0x1*0x17cc+-0x407+-0x11*-0x1a3+0.625,-0x601+-0x259e+0x2b9f+0.777778),new $(0x12e8+-0x1695+0x3ad+0.375,0x82a+-0x1a88+0x125e+0.222222),new $(0x6f3+-0x3*0x8f5+0x13ec+0.875,-0xf59*0x1+-0xe03+0x1d5c+0.555556),new $(-0x35f*-0x8+0x11ce*-0x2+-0x229*-0x4+0.0625,0x18*-0xf4+-0x5*-0x22d+-0x25*-0x53+0.888889),new $(-0x3*0x939+-0x1175+0x5a4*0x8+0.5625,0x11e4+-0x1*0x1ff3+0x1*0xe0f+0.037037),new $(-0xcc*-0x27+0xa0a+-0x291e*0x1+0.3125,-0xe71+-0x1*-0xba7+0x2a*0x11+0.37037),new $(-0xb0b+0x2bd*-0x7+-0x2*-0xf1b+0.8125,-0x349+-0x2c*-0x97+0x1*-0x16ab+0.703704),new $(0xb72+-0x1bfa+0x1088+0.1875,0x25cf*0x1+0x1cdf+-0x1e*0x239+0.148148),new $(0x841*0x2+-0x256d+-0x253*-0x9+0.6875,-0xe02+-0x446+-0x68*-0x2d+0.481481),new $(0x9ad*0x3+-0x2510+0x11*0x79+0.4375,0x2095*-0x1+-0x93c+-0x29d1*-0x1+0.814815),new $(-0x490+-0x186b+0x1cfb+0.9375,-0x1*0x249e+0x388+0x2116+0.259259),new $(-0xf23+-0x23eb+-0x2*-0x1987+0.03125,0x2*-0x5eb+0x19+0xbbd+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x28db04){c(this,'clustersDe'+'bugRendere'+'d',!(0x1f02+0x1c31+-0x3b32)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(0x469*0x1+-0x16c2+0x3c4*0x5)),(this['device']=_0x28db04,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x28db04),this['lightTextu'+'reAtlas']=new uM(_0x28db04),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x62*-0x4+0x95*0x25+-0x1711,this['_morphTime']=-0xa*-0x379+0xd30+-0x2fea,this['_cullTime']=0x1e3e+0x1294+-0x30d2,this['_shadowMap'+'Time']=0x235*0x1+-0x1de0+0x1bab,this['_lightClus'+'tersTime']=0x6de+0x8*-0x116+-0x1d2*-0x1,this['_layerComp'+'ositionUpd'+'ateTime']=-0x1d93+0x11*-0x14b+0x338e,this['_shadowDra'+'wCalls']=-0x1d*-0xb6+0x2203+-0x36a1,this['_skinDrawC'+'alls']=0xfef*0x1+0x1*-0x12f2+0x3*0x101,this['_instanced'+'DrawCalls']=0x2*0x5ab+0x1b7f*0x1+-0x26d5,this['_shadowMap'+'Updates']=0x1*0x4d8+0xd6*0x17+-0x1812*0x1,this['_numDrawCa'+'llsCulled']=-0x7*-0x57d+0xfd2+-0x363d,this['_camerasRe'+'ndered']=0x185e*0x1+-0x1e81+0x623,this['_lightClus'+'ters']=-0xd78+-0x2*0xc75+-0x1*-0x2662);const _0xaa7b66=_0x28db04['scope'];this['boneTextur'+'eId']=_0xaa7b66['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0xaa7b66['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0xaa7b66['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0xaa7b66['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0xaa7b66['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x21df+-0x1*0x6c4+-0xf2*-0x2b),this['viewPosId']=_0xaa7b66['resolve']('view_posit'+'ion'),this['projId']=_0xaa7b66['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0xaa7b66['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0xaa7b66['resolve']('matrix_vie'+'w'),this['viewId3']=_0xaa7b66['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0xaa7b66['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0xaa7b66['resolve']('projection'+'FlipY'),this['tbnBasis']=_0xaa7b66['resolve']('tbnBasis'),this['nearClipId']=_0xaa7b66['resolve']('camera_nea'+'r'),this['farClipId']=_0xaa7b66['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x6ab+0xf3*0x15+0xd4b*-0x2),this['cameraPara'+'msId']=_0xaa7b66['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0xaa7b66['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=-0x4*-0x39+0xe*0x16e+-0x3*0x6f8,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x9*0x3b9+0x99*-0x21+0x353e*0x1),this['blueNoiseJ'+'itterId']=_0xaa7b66['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0xaa7b66['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0xaa7b66['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0xaa7b66['resolve']('texture_op'+'acityMap'),this['exposureId']=_0xaa7b66['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0xaa7b66['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x2667+0x1534+-0x1*0x3b9b),this['morphPosit'+'ionTex']=_0xaa7b66['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0xaa7b66['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0xaa7b66['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0xaa7b66['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x1f0313,_0x30fbd9){if(_0x1f0313['layer']===_0x30fbd9['layer']){if(_0x1f0313['drawOrder']&&_0x30fbd9['drawOrder'])return _0x1f0313['drawOrder']-_0x30fbd9['drawOrder'];if(_0x1f0313['zdist']&&_0x30fbd9['zdist'])return _0x30fbd9['zdist']-_0x1f0313['zdist'];if(_0x1f0313['zdist2']&&_0x30fbd9['zdist2'])return _0x1f0313['zdist2']-_0x30fbd9['zdist2'];}return _0x30fbd9['_key'][Ei]-_0x1f0313['_key'][Ei];}['sortCompar'+'eMesh'](_0x49f86b,_0xe3d8b5){if(_0x49f86b['layer']===_0xe3d8b5['layer']){if(_0x49f86b['drawOrder']&&_0xe3d8b5['drawOrder'])return _0x49f86b['drawOrder']-_0xe3d8b5['drawOrder'];if(_0x49f86b['zdist']&&_0xe3d8b5['zdist'])return _0xe3d8b5['zdist']-_0x49f86b['zdist'];}const _0x293b23=_0x49f86b['_key'][Ei],_0x48680f=_0xe3d8b5['_key'][Ei];return _0x293b23===_0x48680f&&_0x49f86b['mesh']&&_0xe3d8b5['mesh']?_0xe3d8b5['mesh']['id']-_0x49f86b['mesh']['id']:_0x48680f-_0x293b23;}['sortCompar'+'eDepth'](_0x396828,_0x360121){const _0xd7ac86=_0x396828['_key'][ku],_0x4f6346=_0x360121['_key'][ku];return _0xd7ac86===_0x4f6346&&_0x396828['mesh']&&_0x360121['mesh']?_0x360121['mesh']['id']-_0x396828['mesh']['id']:_0x4f6346-_0xd7ac86;}['setupViewp'+'ort'](_0x11d26d,_0x1d7e6b){const _0x3f7b54=this['device'],_0x120cf7=_0x1d7e6b?_0x1d7e6b['width']:_0x3f7b54['width'],_0x143676=_0x1d7e6b?_0x1d7e6b['height']:_0x3f7b54['height'],_0x27440f=_0x11d26d['rect'];let _0x2cd2c9=Math['floor'](_0x27440f['x']*_0x120cf7),_0x1cc614=Math['floor'](_0x27440f['y']*_0x143676),_0x2846f2=Math['floor'](_0x27440f['z']*_0x120cf7),_0x1812ee=Math['floor'](_0x27440f['w']*_0x143676);if(_0x3f7b54['setViewpor'+'t'](_0x2cd2c9,_0x1cc614,_0x2846f2,_0x1812ee),_0x11d26d['_scissorRe'+'ctClear']){const _0x483c46=_0x11d26d['scissorRec'+'t'];_0x2cd2c9=Math['floor'](_0x483c46['x']*_0x120cf7),_0x1cc614=Math['floor'](_0x483c46['y']*_0x143676),_0x2846f2=Math['floor'](_0x483c46['z']*_0x120cf7),_0x1812ee=Math['floor'](_0x483c46['w']*_0x143676);}_0x3f7b54['setScissor'](_0x2cd2c9,_0x1cc614,_0x2846f2,_0x1812ee);}['setCameraU'+'niforms'](_0x5d91f9,_0x2ed27b){var _0x4c66c4,_0x228112;const _0x25e537=_0x2ed27b==null?void(0x76*0x3a+-0xc9d*-0x2+-0x33f6):_0x2ed27b['flipY'];let _0x57fc60=-0x21e*-0x9+-0x482+-0x4d9*0x3;if(_0x5d91f9['xr']&&_0x5d91f9['xr']['session']){const _0x164538=((_0x228112=(_0x4c66c4=_0x5d91f9['_node'])==null?void(-0x1*0x193f+-0x9*0x3b4+-0x5*-0xbb7):_0x4c66c4['parent'])==null?void(-0x147+0x5*0x17+-0x4*-0x35):_0x228112['getWorldTr'+'ansform']())||null,_0x1ad7f4=_0x5d91f9['xr']['views'];_0x57fc60=_0x1ad7f4['list']['length'];for(let _0x49261f=-0x171a+0x95f+0xdbb;_0x49261f<_0x57fc60;_0x49261f++){const _0x4d1d1a=_0x1ad7f4['list'][_0x49261f];_0x4d1d1a['updateTran'+'sforms'](_0x164538),_0x5d91f9['frustum']['setFromMat'+'4'](_0x4d1d1a['projViewOf'+'fMat']);}}else{let _0x426b1a=_0x5d91f9['projection'+'Matrix'];_0x5d91f9['calculateP'+'rojection']&&_0x5d91f9['calculateP'+'rojection'](_0x426b1a,Al);let _0x39af97=_0x5d91f9['getProject'+'ionMatrixS'+'kybox']();_0x25e537&&(_0x426b1a=EM['mul2'](g_,_0x426b1a),_0x39af97=CM['mul2'](g_,_0x39af97)),this['device']['isWebGPU']&&(_0x426b1a=MM['mul2'](y_,_0x426b1a),_0x39af97=PM['mul2'](y_,_0x39af97));const {jitter:_0x4368f3}=_0x5d91f9;let _0xa025ac=-0x135d*-0x2+-0xb5f+0x1*-0x1b5b,_0x28898c=-0x10dd+-0x4*0x98e+0x3b*0xef;if(_0x4368f3>0x59e+-0x1776+-0x23b*-0x8){const _0x1e9678=_0x2ed27b?_0x2ed27b['width']:this['device']['width'],_0x2fdcb6=_0x2ed27b?_0x2ed27b['height']:this['device']['height'],_0x59b8a0=x_[this['device']['renderVers'+'ion']%x_['length']];_0xa025ac=_0x4368f3*(_0x59b8a0['x']*(0x18d9*0x1+0x127a+-0x2b51)-(0x540*0x5+0x8*-0x1a6+-0xd0f))/_0x1e9678,_0x28898c=_0x4368f3*(_0x59b8a0['y']*(-0x13c*-0x1f+0x99*-0x21+-0x1289)-(0xf*-0x297+-0x3b*0xc+-0x5f2*-0x7))/_0x2fdcb6,_0x426b1a=RM['copy'](_0x426b1a),_0x426b1a['data'][0xe8f*0x1+-0x471+-0x50b*0x2]=_0xa025ac,_0x426b1a['data'][-0xcae+0x283+-0x28d*-0x4]=_0x28898c,_0x39af97=IM['copy'](_0x39af97),_0x39af97['data'][-0x98f+0xfd0+-0x213*0x3]=_0xa025ac,_0x39af97['data'][0x1aa6+-0x21b1+0x714]=_0x28898c,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x242442=_0x4368f3>0x7f7*0x3+0x1e29*0x1+-0xb*0x4ea?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][0x18a*0x15+0x1*0x15eb+0x363d*-0x1]=_0x242442['x'],this['blueNoiseJ'+'itterData'][-0x6*-0x55+0x10b7+0xc*-0x18f]=_0x242442['y'],this['blueNoiseJ'+'itterData'][0x4b1+-0x55d+-0x3a*-0x3]=_0x242442['z'],this['blueNoiseJ'+'itterData'][0x228d+0x4de+-0x2768]=_0x242442['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x426b1a['data']),this['projSkybox'+'Id']['setValue'](_0x39af97['data']),_0x5d91f9['calculateT'+'ransform'])_0x5d91f9['calculateT'+'ransform']($i,Al);else{const _0x327357=_0x5d91f9['_node']['getPositio'+'n'](),_0x3d1cad=_0x5d91f9['_node']['getRotatio'+'n']();$i['setTRS'](_0x327357,_0x3d1cad,T['ONE']);}this['viewInvId']['setValue']($i['data']),Mn['copy']($i)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x426b1a,Mn),this['viewProjId']['setValue'](Hi['data']),_0x5d91f9['_storeShad'+'erMatrices'](Hi,_0xa025ac,_0x28898c,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x25e537?-(0x16*-0x44+-0xa64+0x103d):0xdbc+0x1*-0x813+-0x5a8),this['dispatchVi'+'ewPos'](_0x5d91f9['_node']['getPositio'+'n']()),_0x5d91f9['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0x25e537?-(0x1*-0x1b73+-0x1a3*0x3+0x1*0x205d):0x1b79+0x1*0x101a+-0x15c9*0x2);const _0x1de27a=_0x5d91f9['_nearClip'],_0x58bcc6=_0x5d91f9['_farClip'];return this['nearClipId']['setValue'](_0x1de27a),this['farClipId']['setValue'](_0x58bcc6),this['cameraPara'+'ms'][0xd85*-0x2+-0x1485+-0x19*-0x1e7]=(0x1061+-0x2*-0x567+-0x1b2e)/_0x58bcc6,this['cameraPara'+'ms'][0x233b+-0x785+-0x1bb5]=_0x58bcc6,this['cameraPara'+'ms'][-0x4*-0x4d1+0x110*0x1e+-0x9a*0x55]=_0x1de27a,this['cameraPara'+'ms'][0x1470+0x43a+-0x18a7]=_0x5d91f9['projection']===ua?0x1e1d*0x1+0x1*-0x103b+-0x1*0xde1:0x5*0x3b+0x42b*-0x9+0x245c,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x5d91f9['getExposur'+'e']():this['scene']['exposure']),_0x57fc60;}['clear'](_0x3d0255,_0x55c51a,_0x5b3106,_0x3ba2f5){const _0xc490c2=(_0x55c51a??_0x3d0255['_clearColo'+'rBuffer']?Co:0x1cc1+0x2653+-0x2*0x218a)|(_0x5b3106??_0x3d0255['_clearDept'+'hBuffer']?Mo:0x9bf+-0x4d*-0x79+-0x2e24)|(_0x3ba2f5??_0x3d0255['_clearSten'+'cilBuffer']?Ah:-0x131e+0x248b+-0x116d);if(_0xc490c2){const _0x13d2db=this['device'];G['pushGpuMar'+'ker'](_0x13d2db,'CLEAR'),_0x13d2db['clear']({'color':[_0x3d0255['_clearColo'+'r']['r'],_0x3d0255['_clearColo'+'r']['g'],_0x3d0255['_clearColo'+'r']['b'],_0x3d0255['_clearColo'+'r']['a']],'depth':_0x3d0255['_clearDept'+'h'],'stencil':_0x3d0255['_clearSten'+'cil'],'flags':_0xc490c2}),G['popGpuMark'+'er'](_0x13d2db);}}['setCamera'](_0x244646,_0x466c6f,_0x372a06,_0xcfc631=null){this['setCameraU'+'niforms'](_0x244646,_0x466c6f),this['clearView'](_0x244646,_0x466c6f,_0x372a06,!(0x1b*0x7b+-0x2*0xb71+0x2f*0x36));}['clearView'](_0x38ea7a,_0x25a386,_0x153b08,_0x58fb2d){const _0x2fea17=this['device'];if(G['pushGpuMar'+'ker'](_0x2fea17,'CLEAR-VIEW'),_0x2fea17['setRenderT'+'arget'](_0x25a386),_0x2fea17['updateBegi'+'n'](),_0x58fb2d&&(_0x2fea17['setColorWr'+'ite'](!(-0x186b+0xabb*0x3+-0x3e3*0x2),!(0x1786+-0x10ca+-0x6bc*0x1),!(-0x4*-0x371+-0x22b5+-0x14f1*-0x1),!(0x8*-0x322+0x3*0x16b+0x14cf*0x1)),_0x2fea17['setDepthWr'+'ite'](!(0x215f*-0x1+0x163e+-0xb21*-0x1))),this['setupViewp'+'ort'](_0x38ea7a,_0x25a386),_0x153b08){const _0x2eea71=_0x38ea7a['_clearOpti'+'ons'];_0x2fea17['clear'](_0x2eea71||{'color':[_0x38ea7a['_clearColo'+'r']['r'],_0x38ea7a['_clearColo'+'r']['g'],_0x38ea7a['_clearColo'+'r']['b'],_0x38ea7a['_clearColo'+'r']['a']],'depth':_0x38ea7a['_clearDept'+'h'],'flags':(_0x38ea7a['_clearColo'+'rBuffer']?Co:0x607*-0x1+0x187e+-0x1277)|(_0x38ea7a['_clearDept'+'hBuffer']?Mo:-0x137*-0x8+0x2626+-0x16*0x22d)|(_0x38ea7a['_clearSten'+'cilBuffer']?Ah:0x1e2f+0x1*0x14e5+-0x1d3*0x1c),'stencil':_0x38ea7a['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x2fea17);}['setupCullM'+'ode'](_0x339ab3,_0x8b1470,_0x3da1e8){const _0x47cae0=_0x3da1e8['material'];let _0x518586=mt;if(_0x339ab3){let _0x1b75af=-0x1*0x2367+-0x1cb0+-0x200c*-0x2;(_0x47cae0['cull']===mo||_0x47cae0['cull']===rn)&&(_0x1b75af=_0x8b1470*_0x3da1e8['flipFacesF'+'actor']*_0x3da1e8['node']['worldScale'+'Sign']),_0x1b75af<0x1e44+0x19bb*0x1+-0x37ff?_0x518586=_0x47cae0['cull']===mo?rn:mo:_0x518586=_0x47cae0['cull'];}this['device']['setCullMod'+'e'](_0x518586),_0x518586===mt&&_0x47cae0['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x3da1e8['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x4e9961){if(_0x4e9961['xr']&&_0x4e9961['xr']['views']['list']['length']){const _0x1a77c3=_0x4e9961['xr']['views']['list'][-0xef+0x41*-0xc+0x3fb];Hi['mul2'](_0x1a77c3['projMat'],_0x1a77c3['viewOffMat']),_0x4e9961['frustum']['setFromMat'+'4'](Hi);return;}const _0x19a0a1=_0x4e9961['projection'+'Matrix'];if(_0x4e9961['calculateP'+'rojection']&&_0x4e9961['calculateP'+'rojection'](_0x19a0a1,Al),_0x4e9961['calculateT'+'ransform'])_0x4e9961['calculateT'+'ransform']($i,Al);else{const _0x447174=_0x4e9961['_node']['getPositio'+'n'](),_0x5ca214=_0x4e9961['_node']['getRotatio'+'n']();$i['setTRS'](_0x447174,_0x5ca214,T['ONE']),this['viewInvId']['setValue']($i['data']);}Mn['copy']($i)['invert'](),Hi['mul2'](_0x19a0a1,Mn),_0x4e9961['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0xdc7c59,_0x20000a){_0xdc7c59['setCullMod'+'e'](_0x20000a['cull']),_0x20000a['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x20000a['opacityMap']),(_0x20000a['opacityMap']||_0x20000a['alphaTest']>0x2*0x265+0x181d+-0x1ce7)&&this['alphaTestI'+'d']['setValue'](_0x20000a['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x399fd6){Dd++;const _0x1af498=_0x399fd6['length'];if(_0x1af498===-0x1a23+0x71*-0x1+0x1a94)return;const _0x1dfc6a=ne();for(let _0x381efa=0xc7*-0xe+0x301+0x1*0x7e1;_0x381efa<_0x1af498;_0x381efa++){const _0x1d8a2a=_0x399fd6[_0x381efa]['skinInstan'+'ce'];_0x1d8a2a&&(_0x1d8a2a['updateMatr'+'ices'](_0x399fd6[_0x381efa]['node'],Dd),_0x1d8a2a['_dirty']=!(0x265f+-0x10a9*-0x1+-0x3708));}this['_skinTime']+=ne()-_0x1dfc6a;}['updateGpuS'+'kinMatrice'+'s'](_0x128ea5){const _0x1e2d69=ne();for(const _0x427e5d of _0x128ea5){const _0x43ab65=_0x427e5d['skinInstan'+'ce'];_0x43ab65&&_0x43ab65['_dirty']&&(_0x43ab65['updateMatr'+'ixPalette'](_0x427e5d['node'],Dd),_0x43ab65['_dirty']=!(-0x224b*0x1+0x203c+0x10*0x21));}this['_skinTime']+=ne()-_0x1e2d69;}['updateMorp'+'hing'](_0x4a5ff0){const _0x10904c=ne();for(const _0x18d94c of _0x4a5ff0){const _0x4fc179=_0x18d94c['morphInsta'+'nce'];_0x4fc179&&_0x4fc179['_dirty']&&_0x4fc179['update']();}this['_morphTime']+=ne()-_0x10904c;}['updateGSpl'+'ats'](_0x29dc7b){var _0x77848b;for(const _0xbc06ae of _0x29dc7b)(_0x77848b=_0xbc06ae['gsplatInst'+'ance'])==null||_0x77848b['update']();}['gpuUpdate'](_0x3dec37){this['updateGpuS'+'kinMatrice'+'s'](_0x3dec37),this['updateMorp'+'hing'](_0x3dec37),this['updateGSpl'+'ats'](_0x3dec37);}['setVertexB'+'uffers'](_0x16dda4,_0xefb84){_0x16dda4['setVertexB'+'uffer'](_0xefb84['vertexBuff'+'er']);}['setMorphin'+'g'](_0x1eafba,_0x16300d){_0x16300d&&(_0x16300d['prepareRen'+'dering'](_0x1eafba),_0x1eafba['setVertexB'+'uffer'](_0x16300d['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x16300d['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x16300d['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x16300d['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x17b0ba,_0x25b336){const _0x523674=_0x25b336['skinInstan'+'ce'];if(_0x523674){this['_skinDrawC'+'alls']++;const _0x1860fb=_0x523674['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x1860fb),this['boneTextur'+'eSizeId']['setValue'](_0x523674['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x55494a){const _0x41033e=this['viewPos'];_0x41033e[-0x1599+-0xbc2+0x215b]=_0x55494a['x'],_0x41033e[-0x10af+0x2*-0x469+-0xcc1*-0x2]=_0x55494a['y'],_0x41033e[-0x1*-0x4fd+0x2*0x56c+0x1*-0xfd3]=_0x55494a['z'],this['viewPosId']['setValue'](_0x41033e);}['initViewBi'+'ndGroupFor'+'mat'](_0x1be2a5){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x8f3271=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',Wt),new gt('skyboxInte'+'nsity',Ws),new gt('exposure',Ws),new gt('textureBia'+'s',Ws)];_0x1be2a5&&_0x8f3271['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',Wt),new gt('clusterTex'+'tureSize',Wt),new gt('clusterBou'+'ndsMin',Wt),new gt('clusterBou'+'ndsDelta',Wt),new gt('clusterCel'+'lsDot',Wt),new gt('clusterCel'+'lsMax',Wt),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',Ws)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x8f3271);const _0x209d2d=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x1be2a5&&_0x209d2d['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0x209d2d);}}['setupViewU'+'niformBuff'+'ers'](_0x39a87a,_0x4907f8,_0x4b6e8f,_0x348449){v['assert'](Array['isArray'](_0x39a87a),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x482843=this['device'];for(v['assert'](_0x348449===-0x1a9c+0x2068+-0x5cb,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x39a87a['length']<_0x348449;){const _0x1d2601=new gp(_0x482843,_0x4907f8,!(0x1*0x7+0x2*-0x107+0xd*0x28)),_0x110537=new mp(_0x482843,_0x4b6e8f,_0x1d2601);mn['setName'](_0x110537,'ViewBindGr'+'oup_'+_0x110537['id']),_0x39a87a['push'](_0x110537);}const _0x4c3095=_0x39a87a[-0x1*-0x24af+-0x1*0x2a9+0x2*-0x1103];_0x4c3095['defaultUni'+'formBuffer']['update'](),_0x4c3095['update'](),_0x482843['setBindGro'+'up'](Dh,_0x4c3095);}['setupMeshU'+'niformBuff'+'ers'](_0xadd293,_0x11eea2){const _0x7b6561=this['device'];if(_0x7b6561['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x11eea2['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x11eea2['node']['normalMatr'+'ix']['data']);const _0x5b1298=_0xadd293['getBindGro'+'up'](_0x7b6561);_0x5b1298['update'](),_0x7b6561['setBindGro'+'up'](Xy,_0x5b1298),_0xadd293['getUniform'+'Buffer'](_0x7b6561)['update'](kd),_0x7b6561['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0x3c0ca1,_0x55f821,_0x3c8e3c,_0x2f4289,_0x235b26){const _0x49e936=_0x55f821['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x49e936['data']),_0x235b26&&this['normalMatr'+'ixId']['setValue'](_0x55f821['node']['normalMatr'+'ix']['data']);const _0x3f1a05=_0x55f821['instancing'+'Data'];_0x3f1a05?_0x3f1a05['count']>-0x128f*-0x1+0x3b6+-0x1645?(this['_instanced'+'DrawCalls']++,_0x3c0ca1['setVertexB'+'uffer'](_0x3f1a05['vertexBuff'+'er']),_0x3c0ca1['draw'](_0x3c8e3c['primitive'][_0x2f4289],_0x3f1a05['count'])):_0x3c0ca1['clearVerte'+'xBuffer']():_0x3c0ca1['draw'](_0x3c8e3c['primitive'][_0x2f4289]);}['drawInstan'+'ce2'](_0x33cbbd,_0x3d65b8,_0x1ac8dc,_0xf9d8a7){const _0x3f2785=_0x3d65b8['instancing'+'Data'];_0x3f2785?_0x3f2785['count']>-0x1*0x10db+-0x256d+0x486*0xc?(this['_instanced'+'DrawCalls']++,_0x33cbbd['draw'](_0x1ac8dc['primitive'][_0xf9d8a7],_0x3f2785['count'],!(0x1f1d+-0xf1*-0x7+-0x25b4))):_0x33cbbd['clearVerte'+'xBuffer']():_0x33cbbd['draw'](_0x1ac8dc['primitive'][_0xf9d8a7],void(0x725+0x117*-0xf+-0x934*-0x1),!(-0xa*0x289+0xf66+-0x4fa*-0x2));}['cull'](_0x1b7351,_0x17331e,_0x10487d){const _0x1f789d=ne(),_0xbcaa9a=_0x10487d['opaque'];_0xbcaa9a['length']=-0x18ec+0x1d*0x12a+-0x8d6;const _0xc5ba30=_0x10487d['transparen'+'t'];_0xc5ba30['length']=-0x888*-0x2+0x590*0x2+-0x1c30;const _0x5562f5=_0x1b7351['frustumCul'+'ling'],_0x164ef7=_0x17331e['length'];for(let _0x38444e=0x21*-0xbd+0x9f5*-0x2+0x2c47;_0x38444e<_0x164ef7;_0x38444e++){const _0x18724d=_0x17331e[_0x38444e];_0x18724d['visible']&&(!_0x5562f5||!_0x18724d['cull']||_0x18724d['_isVisible'](_0x1b7351))&&(_0x18724d['visibleThi'+'sFrame']=!(0x17d*0x3+-0x211*-0x2+-0x47*0x1f),(_0x18724d['transparen'+'t']?_0xc5ba30:_0xbcaa9a)['push'](_0x18724d),(_0x18724d['skinInstan'+'ce']||_0x18724d['morphInsta'+'nce']||_0x18724d['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x18724d),_0x18724d['gsplatInst'+'ance']&&_0x18724d['gsplatInst'+'ance']['cameras']['push'](_0x1b7351)));}this['_cullTime']+=ne()-_0x1f789d,this['_numDrawCa'+'llsCulled']+=_0x5562f5?_0x164ef7:-0x123*-0x3+0x1317+0x780*-0x3;}['collectLig'+'hts'](_0x512d2c){this['lights']['length']=0x1*0x13c7+0xc61*-0x2+-0x11*-0x4b,this['localLight'+'s']['length']=0xbc+0x4f*0x3b+-0x12f1;const _0x100072=this['scene']['_stats'];_0x100072['dynamicLig'+'hts']=0x1a3*0x2+0x2*-0xd60+0xbbd*0x2,_0x100072['bakedLight'+'s']=-0x186*0x3+-0x17*-0x2e+0x70;const _0x42805d=_0x512d2c['layerList']['length'];for(let _0x53f848=-0x879+-0xa2*0x2+-0x33f*-0x3;_0x53f848<_0x42805d;_0x53f848++){const _0x4e5f13=_0x512d2c['layerList'][_0x53f848];if(!Od['has'](_0x4e5f13)){Od['add'](_0x4e5f13);const _0x4bcda4=_0x4e5f13['_lights'];for(let _0xd12951=-0x2159+-0x3*0x250+0x2849;_0xd12951<_0x4bcda4['length'];_0xd12951++){const _0x35dae3=_0x4bcda4[_0xd12951];Fd['has'](_0x35dae3)||(Fd['add'](_0x35dae3),this['lights']['push'](_0x35dae3),_0x35dae3['_type']!==oe&&this['localLight'+'s']['push'](_0x35dae3),(_0x35dae3['mask']&hs||_0x35dae3['mask']&cr)&&_0x100072['dynamicLig'+'hts']++,_0x35dae3['mask']&rr&&_0x100072['bakedLight'+'s']++);}}}_0x100072['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x43f0ce,_0x383d45){const _0xa3b3=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x488f5a=this['scene']['physicalUn'+'its'];for(let _0x1d440f=0xc96+0x3c*0x4+-0x1*0xd86;_0x1d440f<_0x383d45['length'];_0x1d440f++){const _0x4b5fd8=_0x383d45[_0x1d440f];if(_0x4b5fd8['enabled']){if(_0x4b5fd8['_type']!==oe){if(_0x4b5fd8['getBoundin'+'gSphere'](Ld),_0x43f0ce['frustum']['containsSp'+'here'](Ld)){_0x4b5fd8['visibleThi'+'sFrame']=!(0x1683*-0x1+-0x2*0x406+-0x1*-0x1e8f),_0x4b5fd8['usePhysica'+'lUnits']=_0x488f5a;const _0x42789e=_0x43f0ce['getScreenS'+'ize'](Ld);_0x4b5fd8['maxScreenS'+'ize']=Math['max'](_0x4b5fd8['maxScreenS'+'ize'],_0x42789e);}else _0xa3b3||_0x4b5fd8['castShadow'+'s']&&!_0x4b5fd8['shadowMap']&&(_0x4b5fd8['visibleThi'+'sFrame']=!(-0x972+-0x1*0xc35+0x15a7*0x1));}else _0x4b5fd8['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0xc1fc22){const _0x316730=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x3dd51a=-0x16d*0xd+-0x163e+-0xb*-0x3b5;_0x3dd51a<this['localLight'+'s']['length'];_0x3dd51a++){const _0x5a1443=this['localLight'+'s'][_0x3dd51a];_0x5a1443['_type']!==oe&&(_0x316730?_0x5a1443['atlasSlotU'+'pdated']&&_0x5a1443['shadowUpda'+'teMode']===Ps&&(_0x5a1443['shadowUpda'+'teMode']=cn):_0x5a1443['shadowUpda'+'teMode']===Ps&&_0x5a1443['castShadow'+'s']&&(_0x5a1443['getRenderD'+'ata'](null,0x106c*-0x1+-0x15*-0x6+0x7f7*0x2)['shadowCame'+'ra']['renderTarg'+'et']||(_0x5a1443['shadowUpda'+'teMode']=cn)),_0x5a1443['visibleThi'+'sFrame']&&_0x5a1443['castShadow'+'s']&&_0x5a1443['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x5a1443,_0xc1fc22));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x22e552=_0xc1fc22['cameras'];for(let _0x543db1=0x5a8*0x4+0x1b5*-0x2+-0x99b*0x2;_0x543db1<_0x22e552['length'];_0x543db1++){const _0x298ac8=_0x22e552[_0x543db1];if(_0x298ac8['enabled']){const _0x52c1c4=_0x298ac8['camera'];let _0xfccbe6;const _0x5ae2d2=_0x52c1c4['layers'];for(let _0x4efbf9=-0x12ba+-0x1*0xf6b+-0x2225*-0x1;_0x4efbf9<_0x5ae2d2['length'];_0x4efbf9++){const _0x147d3c=_0xc1fc22['getLayerBy'+'Id'](_0x5ae2d2[_0x4efbf9]);if(_0x147d3c){const _0x411fab=_0x147d3c['splitLight'+'s'][oe];for(let _0x1642f1=0x3*0x27b+0x6*-0x600+0x1c8f;_0x1642f1<_0x411fab['length'];_0x1642f1++){const _0x6f782f=_0x411fab[_0x1642f1];_0x6f782f['castShadow'+'s']&&!Pn['has'](_0x6f782f)&&(Pn['add'](_0x6f782f),_0xfccbe6=_0xfccbe6??[],_0xfccbe6['push'](_0x6f782f),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x6f782f,_0xc1fc22,_0x52c1c4));}}}_0xfccbe6&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x52c1c4,_0xfccbe6),Pn['clear']();}}}['cullCompos'+'ition'](_0x13a55b){const _0x204380=ne(),{scene:_0x28cbbf}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x5d1d3f=_0x13a55b['cameras']['length'];this['_camerasRe'+'ndered']+=_0x5d1d3f;for(let _0x3b402c=0x4fd*-0x5+-0xbdb+0x24cc;_0x3b402c<_0x5d1d3f;_0x3b402c++){const _0x8a57f6=_0x13a55b['cameras'][_0x3b402c];_0x28cbbf==null||_0x28cbbf['fire'](ow,_0x8a57f6);const _0x2ca417=_0x8a57f6['renderTarg'+'et'];_0x8a57f6['frameUpdat'+'e'](_0x2ca417),this['updateCame'+'raFrustum'](_0x8a57f6['camera']);const _0x27dd69=_0x8a57f6['layers'];for(let _0x22a1ce=0x13c0+-0x39d+-0x1023;_0x22a1ce<_0x27dd69['length'];_0x22a1ce++){const _0x32d7c1=_0x13a55b['getLayerBy'+'Id'](_0x27dd69[_0x22a1ce]);if(_0x32d7c1&&_0x32d7c1['enabled']){this['cullLights'](_0x8a57f6['camera'],_0x32d7c1['_lights']);const _0x2dbe5e=_0x32d7c1['getCulledI'+'nstances'](_0x8a57f6['camera']);this['cull'](_0x8a57f6['camera'],_0x32d7c1['meshInstan'+'ces'],_0x2dbe5e);}}_0x28cbbf==null||_0x28cbbf['fire'](lw,_0x8a57f6);}_0x28cbbf['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x13a55b),this['_cullTime']+=ne()-_0x204380;}['updateShad'+'ers'](_0x15953d,_0x599639){const _0x2c66b9=_0x15953d['length'];for(let _0x584d36=0xc5*0x1+0x99+0xaf*-0x2;_0x584d36<_0x2c66b9;_0x584d36++){const _0x41cd0b=_0x15953d[_0x584d36]['material'];if(_0x41cd0b&&!Pn['has'](_0x41cd0b)&&(Pn['add'](_0x41cd0b),_0x41cd0b['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x599639&&(!_0x41cd0b['useLightin'+'g']||_0x41cd0b['emitter']&&!_0x41cd0b['emitter']['lighting']))continue;_0x41cd0b['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x4b79b9){const _0x315e8e=this['scene'],_0x5618e4=_0x315e8e['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x4b0679=-0x5*0x73+0x1ecf+-0x1c90;const _0xe2dd9f=_0x4b79b9['layerList'],_0x31d1a8=_0xe2dd9f['length'];for(let _0x42e455=-0x728+0x2*0x1271+0x5*-0x5f2;_0x42e455<_0x31d1a8;_0x42e455++){const _0x1034ae=_0xe2dd9f[_0x42e455]['meshInstan'+'ces'],_0x3b2582=_0x1034ae['length'];_0x4b0679+=_0x3b2582;for(let _0x1d6d1c=-0x23f4+-0x5*0x7+0x2417;_0x1d6d1c<_0x3b2582;_0x1d6d1c++){const _0x3a3d84=_0x1034ae[_0x1d6d1c];_0x3a3d84['visibleThi'+'sFrame']=!(-0x116f*0x1+0x16f0+-0x580),_0x5618e4&&Bd['push'](_0x3a3d84),_0x3a3d84['skinInstan'+'ce']&&Nd['push'](_0x3a3d84);}}if(_0x315e8e['_stats']['meshInstan'+'ces']=_0x4b0679,_0x5618e4){const _0x48cee9=!_0x315e8e['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x48cee9),_0x315e8e['updateShad'+'ers']=!(0x6cf+0xb49+-0x1217),this['device']['_shadersDi'+'rty']=!(-0x204b*0x1+0x2*-0x73d+0x2ec6),_0x315e8e['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=0xc7c+0x167d+-0x22f9,Nd['length']=0x1b*0x1f+0x119c+-0x14e1;const _0x106133=this['lights'],_0xb3e061=_0x106133['length'];for(let _0x355acd=-0x1a67+-0x77*-0x2e+0x505;_0x355acd<_0xb3e061;_0x355acd++)_0x106133[_0x355acd]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x26c2e6){const _0x46cb63=ne(),_0x568532=_0x26c2e6['layerList']['length'],_0x37e3f0=this['scene']['_shaderVer'+'sion'];for(let _0x186efe=0x1b61+-0x1*-0x737+-0x2298;_0x186efe<_0x568532;_0x186efe++){const _0x2081cd=_0x26c2e6['layerList'][_0x186efe];_0x2081cd['_shaderVer'+'sion']=_0x37e3f0,_0x2081cd['_skipRende'+'rCounter']=0x17a3+-0x1*-0x22bd+-0x3a60,_0x2081cd['_forwardDr'+'awCalls']=0xc65+-0x5*-0x3ae+-0x1ecb*0x1,_0x2081cd['_shadowDra'+'wCalls']=-0x2025+0xbd3*-0x1+0x2bf8,_0x2081cd['_renderTim'+'e']=-0x1*0xf9d+0x791*-0x5+0x3572;}_0x26c2e6['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x46cb63;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x156b+-0x3*-0xb35+-0xc33),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x11e8*-0x2+-0x1ead+-0x522),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x21cc*-0x1+-0xd9*0x22+-0x187*-0x29),this['clearDepth']=!(0xf2c+-0x3c*-0x89+-0x2f47),this['clearStenc'+'il']=!(-0xc24+0x1*-0x1013+0x1c38),this['triggerPos'+'tprocess']=!(0x17ff+-0xd*-0x97+-0x1*0x1fa9),this['firstCamer'+'aUse']=!(-0x1175*-0x1+0x6*-0x4f1+-0x619*-0x2),this['lastCamera'+'Use']=!(0x1b*0x35+-0x575*0x7+0x209d),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x1*-0xa76+0x957+0x4*0x48));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x212ae5=>{_0x212ae5['defaultUni'+'formBuffer']['destroy'](),_0x212ae5['destroy']();}),this['viewBindGr'+'oups']['length']=-0x8*0x4c1+-0x2*0x16c+0x28e0;}['setupClear'+'s'](_0x15e475,_0x3637e3){this['clearColor']=(_0x15e475==null?void(0x1343+-0x1279+-0xca*0x1):_0x15e475['clearColor'+'Buffer'])||_0x3637e3['clearColor'+'Buffer'],this['clearDepth']=(_0x15e475==null?void(0x24bd+-0xdc0+-0x16fd):_0x15e475['clearDepth'+'Buffer'])||_0x3637e3['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x15e475==null?void(0x1e6e+-0x58*-0xb+-0x2236):_0x15e475['clearStenc'+'ilBuffer'])||_0x3637e3['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0x28d689,_0x2bd6db,_0x15e880,_0x5270f8){super(_0x28d689),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(-0x1536+0x1a36+0x1*-0x4ff)),(this['layerCompo'+'sition']=_0x2bd6db,this['scene']=_0x15e880,this['renderer']=_0x5270f8);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x3*-0x30a+0x108*-0x1e+0x280e;}['addRenderA'+'ction'](_0x2b55cd){this['renderActi'+'ons']['push'](_0x2b55cd);}['addLayer'](_0x42ce46,_0x1a38eb,_0x507e87,_0x17fcde=!(-0x5*-0x72+0xeb*-0x1f+0x1a3b)){v['assert'](_0x42ce46),v['assert'](this['renderTarg'+'et']!==void(-0x1f0d*-0x1+-0x2515+-0x8*-0xc1),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x42ce46['camera']['layersSet']['has'](_0x1a38eb['id']),'Camera\x20'+_0x42ce46['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x1a38eb['name']+'.');const _0x2c1b9f=new D0();if(_0x2c1b9f['renderTarg'+'et']=this['renderTarg'+'et'],_0x2c1b9f['camera']=_0x42ce46,_0x2c1b9f['layer']=_0x1a38eb,_0x2c1b9f['transparen'+'t']=_0x507e87,_0x17fcde){const _0x24d56e=this['renderActi'+'ons']['length']===-0x2e*0x41+-0x34e*0x3+0x4*0x566;_0x2c1b9f['setupClear'+'s'](_0x24d56e?_0x42ce46:void(-0x1a08+-0x40c*0x6+0x8c*0x5c),_0x1a38eb);}this['addRenderA'+'ction'](_0x2c1b9f);}['addLayers'](_0x3ce1f6,_0x1b6e5e,_0x150ff0,_0x2cc2c4,_0x519708,_0x4c4573=!(-0x3e*-0x82+0x20f8+-0x64*0xa5)){const {layerList:_0x43fcbf,subLayerList:_0x394891}=_0x3ce1f6;let _0x1440c3=_0x2cc2c4,_0x59a110=_0x150ff0;for(;_0x59a110<_0x43fcbf['length'];){const _0x30a9a6=_0x43fcbf[_0x59a110],_0x5a7080=_0x394891[_0x59a110];if(_0x1b6e5e['camera']['layersSet']['has'](_0x30a9a6['id'])&&(this['addLayer'](_0x1b6e5e,_0x30a9a6,_0x5a7080,_0x1440c3),_0x1440c3=!(0x2468+0x328+0x1*-0x278f)),_0x59a110++,_0x30a9a6['id']===_0x519708&&_0x5a7080===_0x4c4573)break;}return _0x59a110;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x5684f4,renderActions:_0x4b4ff8}=this;for(let _0x1389d4=-0x7*0x521+-0x1*0x18a+0x2571;_0x1389d4<_0x4b4ff8['length'];_0x1389d4++){const _0x4e5676=_0x4b4ff8[_0x1389d4]['camera']['camera'],_0x5e94e2=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x4e5676);if(_0x5e94e2)for(let _0x9698c1=-0x3*0x489+0xed*0x26+-0x1593;_0x9698c1<_0x5e94e2['length'];_0x9698c1++){const _0x311331=_0x5e94e2[_0x9698c1];if(_0x5684f4['dirLightSh'+'adows']['get'](_0x311331)!==_0x4e5676){_0x5684f4['dirLightSh'+'adows']['set'](_0x311331,_0x4e5676);const _0x32c743=_0x5684f4['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x311331,_0x4e5676);_0x32c743&&this['beforePass'+'es']['push'](_0x32c743);}}}}['updateClea'+'rs'](){const _0x526148=this['renderActi'+'ons'][0xc03+-0x13*0x77+-0x32e];if(_0x526148){const _0x1a4679=_0x526148['camera']['camera'],_0x4f3fd6=_0x1a4679['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x4f3fd6&&_0x526148['clearColor']?_0x1a4679['clearColor']:void(-0x15a2+-0x142f*-0x1+-0x7*-0x35)),this['setClearDe'+'pth'](_0x4f3fd6&&_0x526148['clearDepth']&&!this['noDepthCle'+'ar']?_0x1a4679['clearDepth']:void(-0x40d+0x160f*-0x1+0x1a1c)),this['setClearSt'+'encil'](_0x4f3fd6&&_0x526148['clearStenc'+'il']?_0x1a4679['clearStenc'+'il']:void(-0x1*-0x179a+-0xed*0x20+0x606));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x2a6c73}=this;for(let _0x39d66a=0x384*-0x2+0x1689+-0x31*0x51;_0x39d66a<_0x2a6c73['length'];_0x39d66a++){const _0x3d04a0=_0x2a6c73[_0x39d66a];_0x3d04a0['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x3d04a0['camera']);}}['execute'](){const {layerComposition:_0x248bdf,renderActions:_0xaf2dff}=this;for(let _0x4066ab=0xcef+0x9b*0x29+-0x25c2;_0x4066ab<_0xaf2dff['length'];_0x4066ab++){const _0x401bdd=_0xaf2dff[_0x4066ab],_0x425c32=_0x401bdd['layer'];v['call'](()=>{_0x248bdf['getLayerBy'+'Name'](_0x425c32['name'])||v['warnOnce']('Layer\x20'+_0x425c32['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x248bdf['isEnabled'](_0x425c32,_0x401bdd['transparen'+'t'])&&this['renderRend'+'erAction'](_0x401bdd,_0x4066ab===0xbe1+-0x24b0+0x1*0x18cf);}}['after'](){for(let _0x114136=0x267b+-0x25a0+-0x1*0xdb;_0x114136<this['renderActi'+'ons']['length'];_0x114136++){const _0x4abe5b=this['renderActi'+'ons'][_0x114136];_0x4abe5b['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x4abe5b['camera']);}this['beforePass'+'es']['length']=-0x266*-0x1+0x7b2*-0x1+0x54c;}['renderRend'+'erAction'](_0x47282d,_0x5e1dd0){var _0x4b166c;const {renderer:_0x4246c8,scene:_0x5c8eb8}=this,_0x34d009=_0x4246c8['device'],{layer:_0x2626f8,transparent:_0x45502a,camera:_0x1ad7b9}=_0x47282d;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x1ad7b9?_0x1ad7b9['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x2626f8['name']+'('+(_0x45502a?'TRANSP':'OPAQUE')+')');const _0x32f4e4=ne();if(_0x1ad7b9){const _0x23d633=_0x1ad7b9['gammaCorre'+'ction'],_0x473365=_0x1ad7b9['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x1f83+0x1a30+0x2f*0x1d)&&(_0x1ad7b9['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x196*-0xa+0x35b*0x9+-0xe57)&&(_0x1ad7b9['toneMappin'+'g']=this['toneMappin'+'g']),_0x5c8eb8['fire'](nw,_0x1ad7b9,_0x2626f8,_0x45502a);const _0x2d2265={'lightClusters':_0x47282d['lightClust'+'ers']},_0x2bae6e=((_0x4b166c=_0x1ad7b9['camera']['shaderPass'+'Info'])==null?void(-0x9*0x209+-0x1e4f+0x30a0):_0x4b166c['index'])??gn;(!_0x5e1dd0||!_0x1ad7b9['camera']['fullSizeCl'+'earRect'])&&(_0x2d2265['clearColor']=_0x47282d['clearColor'],_0x2d2265['clearDepth']=_0x47282d['clearDepth'],_0x2d2265['clearStenc'+'il']=_0x47282d['clearStenc'+'il']);const _0x464932=_0x47282d['renderTarg'+'et']??_0x34d009['backBuffer'];_0x4246c8['renderForw'+'ardLayer'](_0x1ad7b9['camera'],_0x464932,_0x2626f8,_0x45502a,_0x2bae6e,_0x47282d['viewBindGr'+'oups'],_0x2d2265),_0x34d009['setBlendSt'+'ate'](_t['NOBLEND']),_0x34d009['setStencil'+'State'](null,null),_0x34d009['setAlphaTo'+'Coverage'](!(-0x1e7e+0x178e+0x6f1)),_0x5c8eb8['fire'](aw,_0x1ad7b9,_0x2626f8,_0x45502a),this['gammaCorre'+'ction']!==void(0x19cb+0x4*-0x34f+0x1*-0xc8f)&&(_0x1ad7b9['gammaCorre'+'ction']=_0x23d633),this['toneMappin'+'g']!==void(0x1f8+-0x1279*-0x1+-0x1*0x1471)&&(_0x1ad7b9['toneMappin'+'g']=_0x473365);}G['popGpuMark'+'er'](this['device']),_0x2626f8['_renderTim'+'e']+=ne()-_0x32f4e4;}['log'](_0x1067d9,_0x3d63e0){if(super['log'](_0x1067d9,_0x3d63e0),Xs['get'](Jn)){const {layerComposition:_0x108c3a}=this;this['renderActi'+'ons']['forEach']((_0x1f52e3,_0x3ccc49)=>{const _0x4467a9=_0x1f52e3['layer'],_0x2ddc74=_0x4467a9['enabled']&&_0x108c3a['isEnabled'](_0x4467a9,_0x1f52e3['transparen'+'t']),_0xb00cee=_0x1f52e3['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0x3ccc49+':'+('\x20Cam:\x20'+(_0xb00cee?_0xb00cee['entity']['name']:'-'))['padEnd'](0x6c0+-0x323+-0x2b*0x15,'\x20')+('\x20Lay:\x20'+_0x4467a9['name'])['padEnd'](0xd9e+-0x1de+-0xbaa,'\x20')+(_0x1f52e3['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x2ddc74?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x4467a9['meshInstan'+'ces']['length'])['padEnd'](0x9*0x359+-0xabf+0x135d*-0x1,'\x20'));});}}}class FM extends ds{constructor(_0x41df05,_0xc668ca,_0x13d3c7){super(_0x41df05),this['renderer']=_0xc668ca,this['renderActi'+'on']=_0x13d3c7,this['requiresCu'+'bemaps']=!(-0x161b+-0x200f+0x362b);}['execute'](){const _0x3e1d3f=this['renderActi'+'on'],_0x552005=_0x3e1d3f['camera'];v['assert'](_0x3e1d3f['triggerPos'+'tprocess']&&_0x552005['onPostproc'+'essing']),_0x552005['onPostproc'+'essing']();}}const OM=[[],[],[]],Wi=new j(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x275+-0x4b4+0x23f,this['shaderInst'+'ances']['length']=-0x10*-0x175+-0xdc3+0x1e9*-0x5,this['isNewMater'+'ial']['length']=0x5ce*-0x2+-0x61b+0x11b7,this['lightMaskC'+'hanged']['length']=0xd*-0x2c7+-0x209*0x2+0x282d;}};function kM(_0x4ca6c2){const _0x1c2b85=[];for(let _0x17c96a=-0x5*-0x513+0xf51+-0x28b0;_0x17c96a<_0x4ca6c2;++_0x17c96a){const _0xfbcae5=Math['sqrt'](_0x17c96a+(-0x1971*-0x1+-0x115c+-0x815+0.5))/Math['sqrt'](_0x4ca6c2);_0x1c2b85['push'](_0xfbcae5);}return _0x1c2b85;}function BM(_0x5d8437){const _0x3cf2c6=[];for(let _0x182e91=-0xbcb+0x1*0x36c+-0x85f*-0x1;_0x182e91<_0x5d8437;_0x182e91++){const _0x11de44=_0x182e91/_0x5d8437,_0x5ee8f3=Math['sqrt'](_0x11de44*_0x11de44);_0x3cf2c6['push'](_0x5ee8f3);}return _0x3cf2c6;}const _i=class _i extends DM{constructor(_0x3d2019){super(_0x3d2019);const _0x366c84=this['device'];this['_forwardDr'+'awCalls']=0x3f2+0x1e69+-0x225b,this['_materialS'+'witches']=-0x1*0x2555+-0x1*-0x110b+0x144a,this['_depthMapT'+'ime']=0x791*0x1+0x1962+0x20f3*-0x1,this['_forwardTi'+'me']=0x1d63+0xdf+0xa16*-0x3,this['_sortTime']=-0x2089+0x80a+0x187f;const _0x5d9e0a=_0x366c84['scope'];this['fogColorId']=_0x5d9e0a['resolve']('fog_color'),this['fogStartId']=_0x5d9e0a['resolve']('fog_start'),this['fogEndId']=_0x5d9e0a['resolve']('fog_end'),this['fogDensity'+'Id']=_0x5d9e0a['resolve']('fog_densit'+'y'),this['ambientId']=_0x5d9e0a['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x5d9e0a['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x5d9e0a['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x5d9e0a['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x5d9e0a['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x5d9e0a['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x4a*-0x33+0x12b1+-0x3ef),this['fogColor']=new Float32Array(-0x7a3+0xed2+-0x6*0x132),this['ambientCol'+'or']=new Float32Array(-0x454+0x6d*-0x47+0x2292),this['pcssDiskSa'+'mples']=kM(-0x10a4+-0x53*0xa+0x13f2),this['pcssSphere'+'Samples']=BM(0x1589*0x1+0xa*0x107+-0x1fbf);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x1a125c){const _0x14d486=this['ambientCol'+'or'];if(Wi['linear'](_0x1a125c['ambientLig'+'ht']),_0x14d486[-0x305*-0x8+0x1*-0x153d+0x9*-0x53]=Wi['r'],_0x14d486[-0x20d7+0x46f+0x1c69]=Wi['g'],_0x14d486[0x146c+0x7c1+-0x1c2b]=Wi['b'],_0x1a125c['physicalUn'+'its']){for(let _0x3278b6=-0x4f0+0x703*-0x1+-0x17*-0x85;_0x3278b6<0x965+-0x26d4+0x1d72*0x1;_0x3278b6++)_0x14d486[_0x3278b6]*=_0x1a125c['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x14d486),this['skyboxInte'+'nsityId']['setValue'](_0x1a125c['physicalUn'+'its']?_0x1a125c['skyboxLumi'+'nance']:_0x1a125c['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x1a125c['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0xbc8a1e,_0x42af1e){const _0x3561a2='light'+_0x42af1e;this['lightColor'+'Id'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+'_color'),this['lightDir'][_0x42af1e]=new Float32Array(0x89*-0x6+0x2197+-0x17*0x152),this['lightDirId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+'_direction'),this['lightShado'+'wMapId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+'_radius'),this['lightPos'][_0x42af1e]=new Float32Array(0x111a+0x235d+-0x12*0x2ea),this['lightPosId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+'_position'),this['lightWidth'][_0x42af1e]=new Float32Array(0x1*-0x1457+-0x10ab*0x1+0x2d9*0xd),this['lightWidth'+'Id'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+'_halfWidth'),this['lightHeigh'+'t'][_0x42af1e]=new Float32Array(0x10c4+-0x13*-0x115+-0x2550),this['lightHeigh'+'tId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+'_cookie'),this['lightCooki'+'eIntId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x42af1e]=_0xbc8a1e['resolve'](_0x3561a2+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x3d4967,_0x5d9cb8,_0x270158,_0x38a3ef,_0x530323){this['lightPos'][_0x5d9cb8][0x144b+0x23d1+0x402*-0xe]=_0x38a3ef['x']-_0x270158['x']*_0x530323,this['lightPos'][_0x5d9cb8][-0x125d*0x1+-0xe1e+-0x2f4*-0xb]=_0x38a3ef['y']-_0x270158['y']*_0x530323,this['lightPos'][_0x5d9cb8][0x163a+0x1*0x1796+-0x2dce]=_0x38a3ef['z']-_0x270158['z']*_0x530323,this['lightPosId'][_0x5d9cb8]['setValue'](this['lightPos'][_0x5d9cb8]);const _0x511345=_0x3d4967['transformV'+'ector'](new T(-(0x1a84+0x1c67+-0x36eb+0.5),0x198e+0xf1*0x26+-0x3d54,-0x25de+0x1*-0x137+0x2715));this['lightWidth'][_0x5d9cb8][0x173c+0x5ab*-0x2+0xbe6*-0x1]=_0x511345['x']*_0x530323,this['lightWidth'][_0x5d9cb8][-0x8d+-0x60a*0x4+0x18b6]=_0x511345['y']*_0x530323,this['lightWidth'][_0x5d9cb8][-0xd*-0x228+0xf10+-0x2b16]=_0x511345['z']*_0x530323,this['lightWidth'+'Id'][_0x5d9cb8]['setValue'](this['lightWidth'][_0x5d9cb8]);const _0x3b5e1a=_0x3d4967['transformV'+'ector'](new T(-0x1*-0x19df+0x192a+0x1103*-0x3,0x1001+-0x61*-0x51+0x1759*-0x2,0x182a+-0x664+0x5b*-0x32+0.5));this['lightHeigh'+'t'][_0x5d9cb8][-0x92f+0x1*-0x663+0xf92]=_0x3b5e1a['x']*_0x530323,this['lightHeigh'+'t'][_0x5d9cb8][-0x161f+0x1*0x1c93+0x673*-0x1]=_0x3b5e1a['y']*_0x530323,this['lightHeigh'+'t'][_0x5d9cb8][-0x215+-0x1a3b+0x122*0x19]=_0x3b5e1a['z']*_0x530323,this['lightHeigh'+'tId'][_0x5d9cb8]['setValue'](this['lightHeigh'+'t'][_0x5d9cb8]);}['dispatchDi'+'rectLights'](_0x264eb9,_0x344d9a,_0x56317f){let _0x59c32a=-0x3e0+0x1*-0x1aff+0x1edf*0x1;const _0x3cc06c=this['device']['scope'];for(let _0x49958e=-0x19b4+0x5*0x485+0x31b;_0x49958e<_0x264eb9['length'];_0x49958e++){if(!(_0x264eb9[_0x49958e]['mask']&_0x344d9a))continue;const _0x532157=_0x264eb9[_0x49958e],_0x2ff685=_0x532157['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x59c32a]||this['_resolveLi'+'ght'](_0x3cc06c,_0x59c32a),this['lightColor'+'Id'][_0x59c32a]['setValue'](_0x532157['_colorLine'+'ar']),_0x2ff685['getY'](_0x532157['_direction'])['mulScalar'](-(0x231+-0xcb9+0xa89)),_0x532157['_direction']['normalize'](),this['lightDir'][_0x59c32a][0x1*-0x611+0xcff*0x2+-0x13ed]=_0x532157['_direction']['x'],this['lightDir'][_0x59c32a][-0x2b6+-0x573+0x82a]=_0x532157['_direction']['y'],this['lightDir'][_0x59c32a][-0x187*-0x9+0x1fa6+-0x2d63]=_0x532157['_direction']['z'],this['lightDirId'][_0x59c32a]['setValue'](this['lightDir'][_0x59c32a]),_0x532157['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x2ff685,_0x59c32a,_0x532157['_direction'],_0x56317f['_node']['getPositio'+'n'](),_0x56317f['farClip']),_0x532157['castShadow'+'s']){const _0x1c3426=_0x532157['getRenderD'+'ata'](_0x56317f,-0x280*0x8+0x1528+-0x25*0x8),_0x55e70c=_0x532157['_getUnifor'+'mBiasValue'+'s'](_0x1c3426);this['lightShado'+'wMapId'][_0x59c32a]['setValue'](_0x1c3426['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x59c32a]['setValue'](_0x1c3426['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x59c32a]['setValue'](_0x532157['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x59c32a]['setValue'](_0x532157['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x59c32a]['setValue'](_0x532157['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x59c32a]['setValue'](0x3fd+-0x432+-0x3*-0x12-_0x532157['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x59c32a]['setValue'](_0x532157['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x59c32a]['setValue'](_0x532157['_softShado'+'wParams']),_0x1c3426['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x59c32a]['setValue'](_0x532157['penumbraSi'+'ze']/_0x1c3426['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x1c3426['projection'+'Compensati'+'on']);const _0x426612=_0x532157['_shadowCam'+'eraParams'];_0x426612['length']=-0xead+0xe86+0x1*0x2b,_0x426612[-0xcfd*0x3+0x2f2+0x2405*0x1]=0xa65+-0x1d69*-0x1+-0x13e7*0x2,_0x426612[0x1b3c+0x4*-0x1a0+0x1*-0x14bb]=_0x1c3426['shadowCame'+'ra']['_farClip'],_0x426612[-0x115e+0xdfd*-0x2+0x489*0xa]=_0x1c3426['shadowCame'+'ra']['_nearClip'],_0x426612[0x17cc+-0x8db*0x2+-0x137*0x5]=-0x6c1+0x1e39+-0x1777,this['lightCamer'+'aParamsId'][_0x59c32a]['setValue'](_0x426612);const _0x564f95=_0x532157['_shadowRen'+'derParams'];_0x564f95['length']=0xa*-0x1a3+0x2c5*-0x2+-0x57b*-0x4,_0x564f95[0x359*-0x3+-0x1*0x11f1+0x1bfc]=_0x532157['_shadowRes'+'olution'],_0x564f95[0x133*0x1d+0x111c+0x3a*-0xe5]=_0x55e70c['normalBias'],_0x564f95[-0xaa6+-0x1c98+0x2740]=_0x55e70c['bias'],_0x564f95[-0x646*-0x6+-0x128b+-0x1316]=-0x2a5+0x23f9*0x1+-0x2154,this['lightShado'+'wParamsId'][_0x59c32a]['setValue'](_0x564f95);}_0x59c32a++;}return _0x59c32a;}['setLTCPosi'+'tionalLigh'+'t'](_0x400b14,_0x3d8bb2){const _0x2d3aae=_0x400b14['transformV'+'ector'](new T(-(-0x17*0x59+-0x186a+0x2069+0.5),-0x1307+0x11e1+0x31*0x6,-0x233b*0x1+0x9d5+0x1966));this['lightWidth'][_0x3d8bb2][0xd58+-0x1*0xa21+-0x1*0x337]=_0x2d3aae['x'],this['lightWidth'][_0x3d8bb2][-0x595*0x3+0x55a+-0x1*-0xb66]=_0x2d3aae['y'],this['lightWidth'][_0x3d8bb2][-0x1ee8+0x34*0x2f+0x155e]=_0x2d3aae['z'],this['lightWidth'+'Id'][_0x3d8bb2]['setValue'](this['lightWidth'][_0x3d8bb2]);const _0x5d1193=_0x400b14['transformV'+'ector'](new T(-0x21*-0xed+0x2*0x867+-0x2f5b,-0x1393*-0x1+-0xa*0x2fe+0xa59,-0x1c9*0x1+-0x1c6+-0x38f*-0x1+0.5));this['lightHeigh'+'t'][_0x3d8bb2][0x9*-0x28e+-0x19fe*-0x1+-0x300]=_0x5d1193['x'],this['lightHeigh'+'t'][_0x3d8bb2][0x1*0x11ab+-0x1f*-0x113+-0x1*0x32f7]=_0x5d1193['y'],this['lightHeigh'+'t'][_0x3d8bb2][-0x14c5+-0x79*0x1+0x1540]=_0x5d1193['z'],this['lightHeigh'+'tId'][_0x3d8bb2]['setValue'](this['lightHeigh'+'t'][_0x3d8bb2]);}['dispatchOm'+'niLight'](_0x54304a,_0x477b90,_0x398258){const _0x4cf7bb=_0x477b90['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x398258]||this['_resolveLi'+'ght'](_0x54304a,_0x398258),this['lightRadiu'+'sId'][_0x398258]['setValue'](_0x477b90['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x398258]['setValue'](_0x477b90['_colorLine'+'ar']),_0x4cf7bb['getTransla'+'tion'](_0x477b90['_position']),this['lightPos'][_0x398258][-0x24d7*0x1+-0x543*0x2+0x2f5d]=_0x477b90['_position']['x'],this['lightPos'][_0x398258][-0x23a0+-0x21cc+0x456d]=_0x477b90['_position']['y'],this['lightPos'][_0x398258][-0x203a+-0x5b7*-0x1+0x1a85]=_0x477b90['_position']['z'],this['lightPosId'][_0x398258]['setValue'](this['lightPos'][_0x398258]),_0x477b90['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x4cf7bb,_0x398258),_0x477b90['castShadow'+'s']){const _0x2f8871=_0x477b90['getRenderD'+'ata'](null,-0x1*-0x2285+-0x62b+-0x17e*0x13);this['lightShado'+'wMapId'][_0x398258]['setValue'](_0x2f8871['shadowBuff'+'er']);const _0x6da10f=_0x477b90['_getUnifor'+'mBiasValue'+'s'](_0x2f8871),_0x4651e0=_0x477b90['_shadowRen'+'derParams'];_0x4651e0['length']=-0x1393+0x9*0x13e+0x869,_0x4651e0[0x16*-0xd2+-0xe21+0x202d]=_0x477b90['_shadowRes'+'olution'],_0x4651e0[0x4*0x623+0x16f9*-0x1+-0x192]=_0x6da10f['normalBias'],_0x4651e0[-0x2*-0x24d+-0x20b0+0x7c*0x3a]=_0x6da10f['bias'],_0x4651e0[-0x34d+-0x1*0x491+0x7e1]=(0xdf*0x1d+0xf9e*0x1+-0xa38*0x4)/_0x477b90['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x398258]['setValue'](_0x4651e0),this['lightShado'+'wIntensity'][_0x398258]['setValue'](_0x477b90['shadowInte'+'nsity']);const _0x2635a9=_0x477b90['penumbraSi'+'ze']/_0x2f8871['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x398258]['setValue'](_0x2635a9);const _0x3e57c2=_0x477b90['_shadowCam'+'eraParams'];_0x3e57c2['length']=-0x14*-0x1f3+-0x158b+-0x5cf*0x3,_0x3e57c2[-0x26bd*0x1+0x681+0x203c*0x1]=0xe6*-0x1+0x170e+-0x1628,_0x3e57c2[0x1808+-0x11ce+-0x639]=_0x2f8871['shadowCame'+'ra']['_farClip'],_0x3e57c2[-0x25d4+0x176*-0x4+0x2bae]=_0x2f8871['shadowCame'+'ra']['_nearClip'],_0x3e57c2[0x22*0xa6+0x3e*-0x9d+0xffd*0x1]=-0x209a+0xdd*-0x1f+0x3b5d,this['lightCamer'+'aParamsId'][_0x398258]['setValue'](_0x3e57c2);}_0x477b90['_cookie']&&(this['lightCooki'+'eId'][_0x398258]['setValue'](_0x477b90['_cookie']),this['lightShado'+'wMatrixId'][_0x398258]['setValue'](_0x4cf7bb['data']),this['lightCooki'+'eIntId'][_0x398258]['setValue'](_0x477b90['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x11ea25,_0x2b8f49,_0x2696d4){const _0x19d73e=_0x2b8f49['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x2696d4]||this['_resolveLi'+'ght'](_0x11ea25,_0x2696d4),this['lightInAng'+'leId'][_0x2696d4]['setValue'](_0x2b8f49['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x2696d4]['setValue'](_0x2b8f49['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x2696d4]['setValue'](_0x2b8f49['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x2696d4]['setValue'](_0x2b8f49['_colorLine'+'ar']),_0x19d73e['getTransla'+'tion'](_0x2b8f49['_position']),this['lightPos'][_0x2696d4][0x1*0xc1a+-0x1455+-0x2b*-0x31]=_0x2b8f49['_position']['x'],this['lightPos'][_0x2696d4][-0x4d*0x18+0x20a2+0x1969*-0x1]=_0x2b8f49['_position']['y'],this['lightPos'][_0x2696d4][0xcce+-0x340*-0xa+-0x2d4c]=_0x2b8f49['_position']['z'],this['lightPosId'][_0x2696d4]['setValue'](this['lightPos'][_0x2696d4]),_0x2b8f49['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x19d73e,_0x2696d4),_0x19d73e['getY'](_0x2b8f49['_direction'])['mulScalar'](-(-0x287+0x197f+0x1*-0x16f7)),_0x2b8f49['_direction']['normalize'](),this['lightDir'][_0x2696d4][0x1fe5+0x199+-0x1*0x217e]=_0x2b8f49['_direction']['x'],this['lightDir'][_0x2696d4][-0x22f*-0xd+-0x1*0x17e1+-0x481]=_0x2b8f49['_direction']['y'],this['lightDir'][_0x2696d4][-0x1*-0x3c5+-0x95e+-0x1*-0x59b]=_0x2b8f49['_direction']['z'],this['lightDirId'][_0x2696d4]['setValue'](this['lightDir'][_0x2696d4]),_0x2b8f49['castShadow'+'s']){const _0x5d1fa1=_0x2b8f49['getRenderD'+'ata'](null,0x61*0x25+-0x1*-0x1a4b+-0x2850);this['lightShado'+'wMapId'][_0x2696d4]['setValue'](_0x5d1fa1['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x2696d4]['setValue'](_0x5d1fa1['shadowMatr'+'ix']['data']);const _0x220636=_0x2b8f49['_getUnifor'+'mBiasValue'+'s'](_0x5d1fa1),_0x551cb5=_0x2b8f49['_shadowRen'+'derParams'];_0x551cb5['length']=0x85*0x2+-0x23ef*-0x1+-0x24f5,_0x551cb5[0x1138+-0x81*-0x2b+0x37*-0xb5]=_0x2b8f49['_shadowRes'+'olution'],_0x551cb5[-0x3*0xee+0x15bc+0x1*-0x12f1]=_0x220636['normalBias'],_0x551cb5[-0x10d*0x24+-0x1a29+0x3fff]=_0x220636['bias'],_0x551cb5[0x76*0x53+-0x204*-0x12+-0x4a87]=(0x2*0x23f+-0x6*-0x4c5+-0x235*0xf)/_0x2b8f49['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x2696d4]['setValue'](_0x551cb5),this['lightShado'+'wIntensity'][_0x2696d4]['setValue'](_0x2b8f49['shadowInte'+'nsity']);const _0x27d620=_0x2b8f49['penumbraSi'+'ze']/_0x5d1fa1['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x4bd0e9=_0x5d1fa1['shadowCame'+'ra']['_fov']*Math['PI']/(-0x113b+0x4f*-0x21+0x76*0x3d),_0x1f2351=(-0x1678+-0xe94+0x250d)/Math['tan'](_0x4bd0e9/(-0x4d9*-0x1+-0x432+-0xa5));this['lightShado'+'wSearchAre'+'aId'][_0x2696d4]['setValue'](_0x27d620*_0x1f2351);const _0x5908b3=_0x2b8f49['_shadowCam'+'eraParams'];_0x5908b3['length']=-0x3*0x129+-0x1463+0x17e2,_0x5908b3[0x1fba+0x25*0xbf+-0x3b55]=0x18ae+0x96b+-0x1*0x2219,_0x5908b3[0x22cf+-0xae3+-0xd*0x1d7]=_0x5d1fa1['shadowCame'+'ra']['_farClip'],_0x5908b3[-0xc5*-0xd+0x1223*0x1+-0x1c22]=_0x5d1fa1['shadowCame'+'ra']['_nearClip'],_0x5908b3[0xd21+0x1*0x1069+-0x1d87]=-0x1*0x2192+0x12ef+0xea3,this['lightCamer'+'aParamsId'][_0x2696d4]['setValue'](_0x5908b3);}if(_0x2b8f49['_cookie']){if(!_0x2b8f49['castShadow'+'s']){const _0x4d5f81=Ma['evalSpotCo'+'okieMatrix'](_0x2b8f49);this['lightShado'+'wMatrixId'][_0x2696d4]['setValue'](_0x4d5f81['data']);}this['lightCooki'+'eId'][_0x2696d4]['setValue'](_0x2b8f49['_cookie']),this['lightCooki'+'eIntId'][_0x2696d4]['setValue'](_0x2b8f49['cookieInte'+'nsity']),_0x2b8f49['_cookieTra'+'nsform']&&(_0x2b8f49['_cookieTra'+'nsformUnif'+'orm'][0x1*-0x43a+0x17f+0x2bb]=_0x2b8f49['_cookieTra'+'nsform']['x'],_0x2b8f49['_cookieTra'+'nsformUnif'+'orm'][-0x1a51*-0x1+-0x1342+-0x70e]=_0x2b8f49['_cookieTra'+'nsform']['y'],_0x2b8f49['_cookieTra'+'nsformUnif'+'orm'][0xd01*-0x1+0xb2a+-0x1*-0x1d9]=_0x2b8f49['_cookieTra'+'nsform']['z'],_0x2b8f49['_cookieTra'+'nsformUnif'+'orm'][0x1f6a+-0x270+-0x1cf7]=_0x2b8f49['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x2696d4]['setValue'](_0x2b8f49['_cookieTra'+'nsformUnif'+'orm']),_0x2b8f49['_cookieOff'+'setUniform'][-0x1*-0x26e7+0x225a*0x1+0x37d*-0x15]=_0x2b8f49['_cookieOff'+'set']['x'],_0x2b8f49['_cookieOff'+'setUniform'][-0x162d+-0x2*-0x9c+0x14f6*0x1]=_0x2b8f49['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x2696d4]['setValue'](_0x2b8f49['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x34925b,_0x384139,_0x251cb1){let _0x409a3a=_0x251cb1;const _0x364df7=this['device']['scope'],_0x384e55=_0x34925b[Pe],_0x3bd315=_0x384e55['length'];for(let _0x3b3e2f=-0x20e6*0x1+0x21*-0xca+-0x5c*-0xa4;_0x3b3e2f<_0x3bd315;_0x3b3e2f++){const _0x55b8cf=_0x384e55[_0x3b3e2f];_0x55b8cf['mask']&_0x384139&&(this['dispatchOm'+'niLight'](_0x364df7,_0x55b8cf,_0x409a3a),_0x409a3a++);}const _0x3845b2=_0x34925b[Re],_0x420b47=_0x3845b2['length'];for(let _0x1f342d=-0xa4a+-0x998+0x13e2;_0x1f342d<_0x420b47;_0x1f342d++){const _0x447604=_0x3845b2[_0x1f342d];_0x447604['mask']&_0x384139&&(this['dispatchSp'+'otLight'](_0x364df7,_0x447604,_0x409a3a),_0x409a3a++);}}['renderForw'+'ardPrepare'+'Materials'](_0x3ffd0c,_0x5e98e8,_0x4e71bc,_0x4df187,_0x39b213,_0x216779){const _0xc43cc7=_0x3ffd0c['fog']??this['scene']['fog'],_0x22dd1d=_0x3ffd0c['shaderPara'+'ms'];_0x22dd1d['fog']=_0xc43cc7['type'],_0x22dd1d['srgbRender'+'Target']=(_0x5e98e8==null?void(-0xb83+0x4ed*-0x5+0xc0c*0x3):_0x5e98e8['isColorBuf'+'ferSrgb'](0x29*0xb3+-0x175d+-0x54e))??!(-0x1b66+0x256c+-0x9*0x11d);const _0x27aaff=(_0x104d7d,_0x534efb,_0xa97e62,_0x55152d)=>{br['drawCalls']['push'](_0x104d7d),br['shaderInst'+'ances']['push'](_0x534efb),br['isNewMater'+'ial']['push'](_0xa97e62),br['lightMaskC'+'hanged']['push'](_0x55152d);};br['clear']();const _0x5a9dd8=this['device'],_0x27fa19=this['scene'],_0x1e009c=_0x27fa19['clusteredL'+'ightingEna'+'bled'],_0x4375a3=(_0x39b213==null?void(-0x1ba4+0x3a7+0x45*0x59):_0x39b213['getLightHa'+'sh'](_0x1e009c))??-0x1*0xb3d+-0x25a8+-0x30e5*-0x1;let _0x3910a=null,_0x1a555e,_0x545c1a;const _0x93acb9=_0x4e71bc['length'];for(let _0x4d1a6c=0x1cb5+-0x2*-0x925+0x1*-0x2eff;_0x4d1a6c<_0x93acb9;_0x4d1a6c++){const _0x1c1a18=_0x4e71bc[_0x4d1a6c];if(_0x3ffd0c===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x39b213){if(_0x39b213['_skipRende'+'rCounter']>=_0x39b213['skipRender'+'After'])continue;_0x39b213['_skipRende'+'rCounter']++;}_0x1c1a18['ensureMate'+'rial'](_0x5a9dd8);const _0x46e1cf=_0x1c1a18['material'],_0x4f35d9=_0x1c1a18['_shaderDef'+'s'],_0x109ae6=_0x1c1a18['mask'];_0x46e1cf&&_0x46e1cf===_0x3910a&&_0x4f35d9!==_0x1a555e&&(_0x3910a=null),_0x46e1cf!==_0x3910a&&(this['_materialS'+'witches']++,_0x46e1cf['_scene']=_0x27fa19,_0x46e1cf['dirty']&&(G['pushGpuMar'+'ker'](_0x5a9dd8,'Node:\x20'+_0x1c1a18['node']['name']+(',\x20Material'+':\x20')+_0x46e1cf['name']),_0x46e1cf['updateUnif'+'orms'](_0x5a9dd8,_0x27fa19),_0x46e1cf['dirty']=!(0x7ce+-0x355*0x3+0x232),G['popGpuMark'+'er'](_0x5a9dd8)));const _0x5f5d73=_0x1c1a18['getShaderI'+'nstance'](_0x216779,_0x4375a3,_0x27fa19,_0x22dd1d,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x4df187);_0x27aaff(_0x1c1a18,_0x5f5d73,_0x46e1cf!==_0x3910a,!_0x3910a||_0x109ae6!==_0x545c1a),_0x3910a=_0x46e1cf,_0x1a555e=_0x4f35d9,_0x545c1a=_0x109ae6;}return br;}['renderForw'+'ardInterna'+'l'](_0x49bff2,_0x75c19c,_0x5b5349,_0x376075,_0x3ad0e7,_0x21e621){const _0x20774b=this['device'],_0x2f862a=this['scene'],_0x304f31=-0x19b1+0x19a8+0xa<<_0x376075,_0x464b0d=_0x21e621?-(-0xc3f*0x1+0x7e7+-0x7*-0x9f):-0x3d*0x97+0xdfc*0x2+-0xc*-0xab,_0xd6bfe6=_0x2f862a['clusteredL'+'ightingEna'+'bled'],_0xf54653=_0x75c19c['drawCalls']['length'];for(let _0x25774f=-0x1083+0x34c*-0x4+0x1db3;_0x25774f<_0xf54653;_0x25774f++){const _0x32f562=_0x75c19c['drawCalls'][_0x25774f],_0x351311=_0x75c19c['isNewMater'+'ial'][_0x25774f],_0x4f265e=_0x75c19c['lightMaskC'+'hanged'][_0x25774f],_0x4e73e7=_0x75c19c['shaderInst'+'ances'][_0x25774f],_0x1d2769=_0x32f562['material'],_0xb3c7d5=_0x32f562['mask'];if(_0x351311){if(_0x20774b['setShader'](_0x4e73e7['shader'],!(-0x71*-0xb+0x9b9+-0xe93)),_0x1d2769['setParamet'+'ers'](_0x20774b),_0x4f265e){const _0x4f441d=this['dispatchDi'+'rectLights'](_0x5b5349[oe],_0xb3c7d5,_0x49bff2);_0xd6bfe6||this['dispatchLo'+'calLights'](_0x5b5349,_0xb3c7d5,_0x4f441d);}this['alphaTestI'+'d']['setValue'](_0x1d2769['alphaTest']),_0x20774b['setBlendSt'+'ate'](_0x1d2769['blendState']),_0x20774b['setDepthSt'+'ate'](_0x1d2769['depthState']),_0x20774b['setAlphaTo'+'Coverage'](_0x1d2769['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x20774b,'Node:\x20'+_0x32f562['node']['name']+(',\x20Material'+':\x20')+_0x1d2769['name']),this['setupCullM'+'ode'](_0x49bff2['_cullFaces'],_0x464b0d,_0x32f562);const _0x12eb14=_0x32f562['stencilFro'+'nt']??_0x1d2769['stencilFro'+'nt'],_0xbd80c7=_0x32f562['stencilBac'+'k']??_0x1d2769['stencilBac'+'k'];_0x20774b['setStencil'+'State'](_0x12eb14,_0xbd80c7),_0x32f562['setParamet'+'ers'](_0x20774b,_0x304f31),_0x20774b['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x32f562['id']);const _0x90aae4=_0x32f562['mesh'];this['setVertexB'+'uffers'](_0x20774b,_0x90aae4),this['setMorphin'+'g'](_0x20774b,_0x32f562['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x20774b,_0x32f562),this['setupMeshU'+'niformBuff'+'ers'](_0x4e73e7,_0x32f562);const _0xa102f6=_0x32f562['renderStyl'+'e'];if(_0x20774b['setIndexBu'+'ffer'](_0x90aae4['indexBuffe'+'r'][_0xa102f6]),_0x3ad0e7==null||_0x3ad0e7(_0x32f562,_0x25774f),_0x49bff2['xr']&&_0x49bff2['xr']['session']&&_0x49bff2['xr']['views']['list']['length']){const _0x199224=_0x49bff2['xr']['views'];for(let _0x39e7d0=0x8db+-0xdf9+0x51e*0x1;_0x39e7d0<_0x199224['list']['length'];_0x39e7d0++){const _0x16dcca=_0x199224['list'][_0x39e7d0];_0x20774b['setViewpor'+'t'](_0x16dcca['viewport']['x'],_0x16dcca['viewport']['y'],_0x16dcca['viewport']['z'],_0x16dcca['viewport']['w']),this['projId']['setValue'](_0x16dcca['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x16dcca['projMat']['data']),this['viewId']['setValue'](_0x16dcca['viewOffMat']['data']),this['viewInvId']['setValue'](_0x16dcca['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x16dcca['viewMat3']['data']),this['viewProjId']['setValue'](_0x16dcca['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x16dcca['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x39e7d0),_0x39e7d0===0x5cc+0xe6e+-0x3*0x6be?this['drawInstan'+'ce'](_0x20774b,_0x32f562,_0x90aae4,_0xa102f6,!(-0x1033*0x1+-0x23d2+0x3405)):this['drawInstan'+'ce2'](_0x20774b,_0x32f562,_0x90aae4,_0xa102f6),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x20774b,_0x32f562,_0x90aae4,_0xa102f6,!(-0x33b+0x1*0x1b73+0xc1c*-0x2)),this['_forwardDr'+'awCalls']++;_0x25774f<_0xf54653-(-0x10fc+0x1380+-0x283)&&!_0x75c19c['isNewMater'+'ial'][_0x25774f+(-0x1*0x19d+0x3*0xcd1+-0xc47*0x3)]&&_0x1d2769['setParamet'+'ers'](_0x20774b,_0x32f562['parameters']),G['popGpuMark'+'er'](_0x20774b);}}['renderForw'+'ard'](_0x1a3bd0,_0x386b9,_0x1d9b1e,_0x504311,_0x36d3b2,_0x43faaf,_0x280dcf,_0x2771c8){const _0xed236b=ne(),_0x55a43c=this['renderForw'+'ardPrepare'+'Materials'](_0x1a3bd0,_0x386b9,_0x1d9b1e,_0x504311,_0x280dcf,_0x36d3b2);this['renderForw'+'ardInterna'+'l'](_0x1a3bd0,_0x55a43c,_0x504311,_0x36d3b2,_0x43faaf,_0x2771c8),br['clear'](),this['_forwardTi'+'me']+=ne()-_0xed236b;}['renderForw'+'ardLayer'](_0x307921,_0x44e7a6,_0x55c8ff,_0x5ca8b6,_0x29fb21,_0x341ecf,_0x521656={}){const {scene:_0x518ef2,device:_0x5f24d7}=this,_0x1d70e4=_0x518ef2['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x307921,_0x44e7a6);let _0x6a6320,_0x46dcb8;if(_0x55c8ff){const _0xcb883e=ne();_0x55c8ff['sortVisibl'+'e'](_0x307921,_0x5ca8b6),this['_sortTime']+=ne()-_0xcb883e;const _0x500297=_0x55c8ff['getCulledI'+'nstances'](_0x307921);_0x6a6320=_0x5ca8b6?_0x500297['transparen'+'t']:_0x500297['opaque'],_0x518ef2['immediate']['onPreRende'+'rLayer'](_0x55c8ff,_0x6a6320,_0x5ca8b6),_0x55c8ff['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x518ef2['ambientLig'+'ht'],_0x55c8ff['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x46dcb8=_0x55c8ff['splitLight'+'s'];}else _0x6a6320=_0x521656['meshInstan'+'ces'],_0x46dcb8=_0x521656['splitLight'+'s']??OM;if(v['assert'](_0x6a6320,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x1d70e4){const _0x5369b1=_0x521656['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x5369b1['activate'](),_0x55c8ff&&!this['clustersDe'+'bugRendere'+'d']&&_0x518ef2['lighting']['debugLayer']===_0x55c8ff['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x25a4+-0x189e+0x3e42),Vu['render'](_0x5369b1,this['scene']));}_0x518ef2['_activeCam'+'era']=_0x307921;const _0x47ce1d=_0x307921['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x47ce1d);const _0x3c2935=this['setCameraU'+'niforms'](_0x307921,_0x44e7a6);_0x5f24d7['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x341ecf,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x3c2935);const _0x541620=_0x521656['clearColor']??!(0x12ae+-0x16e9+0x43c),_0x48ee1c=_0x521656['clearDepth']??!(-0xbbc+-0xa59+0x1616),_0x40565c=_0x521656['clearStenc'+'il']??!(-0x1d*-0x12d+-0x163d+-0xbdb);(_0x541620||_0x48ee1c||_0x40565c)&&this['clear'](_0x307921,_0x541620,_0x48ee1c,_0x40565c);const _0x485075=!!(_0x307921['_flipFaces']^(_0x44e7a6==null?void(-0x1f3*0xd+-0x20be+0x1*0x3a15):_0x44e7a6['flipY'])),_0x52e4c3=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x307921,_0x44e7a6,_0x6a6320,_0x46dcb8,_0x29fb21,null,_0x55c8ff,_0x485075),_0x55c8ff&&(_0x55c8ff['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x52e4c3);}['setFogCons'+'tants'](_0x5d143e){if(_0x5d143e['type']!==Fa){Wi['linear'](_0x5d143e['color']);const _0x59dc8f=this['fogColor'];_0x59dc8f[0xe*-0x2b6+-0x36e+0x2962]=Wi['r'],_0x59dc8f[-0x22a6+0x28+0x227f*0x1]=Wi['g'],_0x59dc8f[0x3*-0xb65+-0xb*-0x189+0x114e]=Wi['b'],this['fogColorId']['setValue'](_0x59dc8f),_0x5d143e['type']===zb?(this['fogStartId']['setValue'](_0x5d143e['start']),this['fogEndId']['setValue'](_0x5d143e['end'])):this['fogDensity'+'Id']['setValue'](_0x5d143e['density']);}}['setSceneCo'+'nstants'](){const _0x389e37=this['scene'];this['dispatchGl'+'obalLights'](_0x389e37);const _0x532299=this['device'];this['_screenSiz'+'e'][0x1b37+-0x1319*-0x1+-0x10*0x2e5]=_0x532299['width'],this['_screenSiz'+'e'][0x163f+-0x74*-0xa+-0x1ac6]=_0x532299['height'],this['_screenSiz'+'e'][0x53*-0x2b+0x13c8+-0x5d5]=(0xd3a*-0x2+0x240b+0x4cb*-0x2)/_0x532299['width'],this['_screenSiz'+'e'][0x65e+-0x1833+0x11d8]=(0x1*0x11af+-0x11c6+-0x1*-0x18)/_0x532299['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x16bd47,_0xab387b){const _0x565259=this['scene'];if(_0x16bd47['reset'](),_0x565259['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x4a0ef2,cookiesEnabled:_0x9e222b}=_0x565259['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x16bd47,_0x4a0ef2,_0x9e222b,this['lights'],this['localLight'+'s']),_0x16bd47['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x16bd47,this['localLight'+'s']);let _0x3dfd35=-0x1a2+0x46e+-0x2cc,_0x57ce0e=!(0x3*-0x7ab+0x18f5*0x1+-0x1f4),_0xb20e01=null;const _0x4a6261=_0xab387b['_renderAct'+'ions'];for(let _0x1077a0=_0x3dfd35;_0x1077a0<_0x4a6261['length'];_0x1077a0++){const _0x46dbf8=_0x4a6261[_0x1077a0],{layer:_0x46988b,camera:_0x336ef9}=_0x46dbf8;if(_0x46dbf8['useCameraP'+'asses'])v['call'](()=>{_0x336ef9['postEffect'+'s']['effects']['length']>-0x1e50+-0xbf*0x27+0x43*0xe3&&v['warnOnce']('Camera\x20\x27'+_0x336ef9['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x336ef9['camera']['renderPass'+'es']['forEach'](_0x22c6ff=>{_0x16bd47['addRenderP'+'ass'](_0x22c6ff);});else{const _0x1d0b69=_0x46988b['id']===Xt,_0x5b1b78=_0x1d0b69&&(_0x336ef9['renderScen'+'eColorMap']||_0x336ef9['renderScen'+'eDepthMap']);_0x57ce0e&&(_0x57ce0e=!(-0xef*-0x9+0x1ee1+-0x2747),_0x3dfd35=_0x1077a0,_0xb20e01=_0x46dbf8['renderTarg'+'et']);const _0x179913=_0x4a6261[_0x1077a0+(-0x206b+-0x15*0x44+0x2600)],_0x464280=(_0x179913?!_0x179913['useCameraP'+'asses']&&_0x179913['layer']['id']===Xt:!(0x3*0x9f5+0x1*0x1201+-0x331*0xf))&&(_0x336ef9['renderScen'+'eColorMap']||_0x336ef9['renderScen'+'eDepthMap']),_0x3a8213=_0x179913?_0x179913['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x179913['camera']['camera']):!(-0x49*0x50+-0x1dae+-0x347f*-0x1);if(!_0x179913||_0x179913['renderTarg'+'et']!==_0xb20e01||_0x3a8213||_0x464280||_0x5b1b78){if(_0x1d0b69&&_0x3dfd35===_0x1077a0||this['addMainRen'+'derPass'](_0x16bd47,_0xab387b,_0xb20e01,_0x3dfd35,_0x1077a0),_0x1d0b69){if(_0x336ef9['renderScen'+'eColorMap']){const _0x1a4111=_0x336ef9['camera']['renderPass'+'ColorGrab'];_0x1a4111['source']=_0x336ef9['renderTarg'+'et'],_0x16bd47['addRenderP'+'ass'](_0x1a4111);}_0x336ef9['renderScen'+'eDepthMap']&&_0x16bd47['addRenderP'+'ass'](_0x336ef9['camera']['renderPass'+'DepthGrab']);}if(_0x46dbf8['triggerPos'+'tprocess']&&(_0x336ef9!=null&&_0x336ef9['onPostproc'+'essing'])){const _0x434e20=new FM(this['device'],this,_0x46dbf8);_0x16bd47['addRenderP'+'ass'](_0x434e20);}_0x57ce0e=!(-0x12b*0x1+0x1be8+-0x1abd);}}}}['addMainRen'+'derPass'](_0x12220c,_0x366e42,_0x1fc368,_0x43f878,_0x131dd8){const _0x45939f=new LM(this['device'],_0x366e42,this['scene'],this);_0x45939f['init'](_0x1fc368);const _0x57e626=_0x366e42['_renderAct'+'ions'];for(let _0x12542a=_0x43f878;_0x12542a<=_0x131dd8;_0x12542a++)_0x45939f['addRenderA'+'ction'](_0x57e626[_0x12542a]);_0x12220c['addRenderP'+'ass'](_0x45939f);}['update'](_0x1e1c95){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x1e1c95),this['collectLig'+'hts'](_0x1e1c95),this['beginFrame'](_0x1e1c95),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x1e1c95),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',0x60b+-0x1d04+0x16f9),c(_i,'skipRender'+'After',0x1b35+-0x175b*-0x1+-0x3290);let Gh=_i,zd=0x1ffb*-0x1+0x1065+0xf96;const ja=[],Ol=new Set();function NM(_0x5245e7,_0x180689){return _0x5245e7['drawOrder']-_0x180689['drawOrder'];}function zM(_0x5d53d0,_0x385866){const _0x150834=_0x5d53d0['_key'][Ei],_0x4e8b7c=_0x385866['_key'][Ei];return _0x150834===_0x4e8b7c&&_0x5d53d0['mesh']&&_0x385866['mesh']?_0x385866['mesh']['id']-_0x5d53d0['mesh']['id']:_0x4e8b7c-_0x150834;}function UM(_0x3a3ebf,_0x5e9c99){return _0x5e9c99['zdist']-_0x3a3ebf['zdist'];}function VM(_0xc34907,_0x29b20e){return _0xc34907['zdist']-_0x29b20e['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x47a49d={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(-0x6e+-0x42*-0x7+0x2*-0xb0)),c(this,'requiresLi'+'ghtCube',!(-0x2047*-0x1+0x2*-0x4cd+0x1*-0x16ac)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0xbdd+-0x21ed*0x1+0x269*0x13)),(_0x47a49d['id']!==void(0xd20+0x2090+-0x2db0)?(this['id']=_0x47a49d['id'],zd=Math['max'](this['id']+(0x802+0x415*-0x7+0x1492),zd)):this['id']=zd++,this['name']=_0x47a49d['name'],this['_enabled']=_0x47a49d['enabled']??!(0x1af*0x13+0x3b9*0x9+-0x417e),this['_refCounte'+'r']=this['_enabled']?-0x15d9+-0x7c0+-0x9*-0x34a:0x6b9*-0x1+0x2af*-0x1+-0x4*-0x25a,this['opaqueSort'+'Mode']=_0x47a49d['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x47a49d['transparen'+'tSortMode']??Bm,_0x47a49d['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x47a49d['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x47a49d['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x47a49d['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x47a49d['clearStenc'+'ilBuffer'],this['onEnable']=_0x47a49d['onEnable'],this['onDisable']=_0x47a49d['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0xc29*0x1+-0x71+-0x4*0x2ee,this['_lightHash'+'Dirty']=!(-0x1895+-0x2*-0x1164+-0xa32),this['_lightIdHa'+'sh']=-0xb17*0x2+0x3e*-0x11+0x63*0x44,this['_lightIdHa'+'shDirty']=!(-0x99f+0x4*-0x664+0x2330),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0x7*-0x1d+0x4dd+-0x209*0x2,this['_renderTim'+'e']=-0xfad*0x2+0x1862+0x6f8,this['_forwardDr'+'awCalls']=-0x1cc3+0x4f*-0x2+-0x3*-0x9cb,this['_shadowDra'+'wCalls']=-0x1*0x1f6b+-0xb42*0x1+-0x17*-0x1db,this['_shaderVer'+'sion']=-(-0x1162+-0x1736*0x1+0x1*0x2899));}set['enabled'](_0x1bcea3){_0x1bcea3!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0xb81+-0x26fb+0x167*0x24),this['_enabled']=_0x1bcea3,_0x1bcea3?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x13a9c4){this['_clearColo'+'rBuffer']=_0x13a9c4,this['_dirtyComp'+'osition']=!(0xd25+0x1*-0xbf8+0x7*-0x2b);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x360ac2){this['_clearDept'+'hBuffer']=_0x360ac2,this['_dirtyComp'+'osition']=!(0xb*-0x1af+-0x1b9a+-0x2e1f*-0x1);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x1f5582){this['_clearSten'+'cilBuffer']=_0x1f5582,this['_dirtyComp'+'osition']=!(0x1*-0x324+0x2414+-0x20f*0x10);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x15*0x6d+-0x26*-0xf1+0x1ad5*-0x1;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x18cb+-0x7a9+-0x11*0x102&&(this['_enabled']=!(0x1*-0x1787+0x431*-0x3+-0x2*-0x120d),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x5*-0x115+-0x1a3*0x5+0x1*0xd99)this['_enabled']=!(0x1ef7*-0x1+0x20ff+0x207*-0x1),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x1*-0x395+-0xde6+0x117b){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x280ec8,_0x383991){const _0x338f59=this['meshInstan'+'ces'],_0x4858e4=this['meshInstan'+'cesSet'];for(let _0x19564b=-0xe39+-0xb65*-0x3+-0x92*0x23;_0x19564b<_0x280ec8['length'];_0x19564b++){const _0x1bff4b=_0x280ec8[_0x19564b];_0x4858e4['has'](_0x1bff4b)||(_0x338f59['push'](_0x1bff4b),_0x4858e4['add'](_0x1bff4b),Ol['add'](_0x1bff4b['material']));}if(_0x383991||this['addShadowC'+'asters'](_0x280ec8),Ol['size']>0x2*0x1291+0x4*0x5fb+-0x145a*0x3){const _0x2ef6a7=this['_shaderVer'+'sion'];Ol['forEach'](_0x2489f8=>{_0x2ef6a7>=-0x1*-0x3a0+-0x1*-0x255f+-0x28ff&&_0x2489f8['_shaderVer'+'sion']!==_0x2ef6a7&&(_0x2489f8['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x2489f8['clearVaria'+'nts'](),_0x2489f8['_shaderVer'+'sion']=_0x2ef6a7);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x4f5973,_0x4b05a2){const _0xdc54fa=this['meshInstan'+'ces'],_0x4569be=this['meshInstan'+'cesSet'];for(let _0x53d001=0x707*0x2+0xc7*-0x25+0xeb5;_0x53d001<_0x4f5973['length'];_0x53d001++){const _0x29973b=_0x4f5973[_0x53d001];if(_0x4569be['has'](_0x29973b)){_0x4569be['delete'](_0x29973b);const _0x385460=_0xdc54fa['indexOf'](_0x29973b);_0x385460>=0x1*-0x1faf+-0x1*-0xf1e+0x1091&&_0xdc54fa['splice'](_0x385460,0xc36+0x1*-0x18ca+-0xc95*-0x1);}}_0x4b05a2||this['removeShad'+'owCasters'](_0x4f5973);}['addShadowC'+'asters'](_0xc36600){const _0x1c5384=this['shadowCast'+'ers'],_0x478220=this['shadowCast'+'ersSet'];for(let _0x45e9b0=0x1d84+0xdd5+-0x89*0x51;_0x45e9b0<_0xc36600['length'];_0x45e9b0++){const _0x29e028=_0xc36600[_0x45e9b0];_0x29e028['castShadow']&&!_0x478220['has'](_0x29e028)&&(_0x478220['add'](_0x29e028),_0x1c5384['push'](_0x29e028));}}['removeShad'+'owCasters'](_0x490cc1){const _0x5aa69e=this['shadowCast'+'ers'],_0x5082fd=this['shadowCast'+'ersSet'];for(let _0xff5dce=0x1e*-0x130+0x2*0x1039+0x32e;_0xff5dce<_0x490cc1['length'];_0xff5dce++){const _0x540ee4=_0x490cc1[_0xff5dce];if(_0x5082fd['has'](_0x540ee4)){_0x5082fd['delete'](_0x540ee4);const _0x43d440=_0x5aa69e['indexOf'](_0x540ee4);_0x43d440>=-0x5ae+-0x2d*0x7+0x6e9&&_0x5aa69e['splice'](_0x43d440,-0x8*-0x33d+-0x20b0+0x6c9);}}}['clearMeshI'+'nstances'](_0x474ea3=!(0x1801+-0x132*0x8+-0xe70)){this['meshInstan'+'ces']['length']=0x211e+-0x10e0+-0x103e,this['meshInstan'+'cesSet']['clear'](),_0x474ea3||(this['shadowCast'+'ers']['length']=-0xb26*-0x1+-0x21fe+0x16d8,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x2147+-0x200f+-0x1*-0x4156),this['_lightIdHa'+'shDirty']=!(-0x16f9*0x1+0x8f1*0x2+0x517),this['_splitLigh'+'tsDirty']=!(-0x5e5*0x6+0x1fb0+0x1d7*0x2);}['hasLight'](_0x30d83b){return this['_lightsSet']['has'](_0x30d83b);}['addLight'](_0x393875){const _0x29da3d=_0x393875['light'];this['_lightsSet']['has'](_0x29da3d)||(this['_lightsSet']['add'](_0x29da3d),this['_lights']['push'](_0x29da3d),this['markLights'+'Dirty']()),_0x29da3d['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x29da3d);}['removeLigh'+'t'](_0x53c9f3){const _0x3a7368=_0x53c9f3['light'];this['_lightsSet']['has'](_0x3a7368)&&(this['_lightsSet']['delete'](_0x3a7368),this['_lights']['splice'](this['_lights']['indexOf'](_0x3a7368),-0x1acf*0x1+-0x1*0x39+-0x301*-0x9),this['markLights'+'Dirty']()),_0x3a7368['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x3a7368);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x25aa3f=>_0x25aa3f['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0x2295*-0x1+0x3*0x440+0x45*0x51,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0xe88+0x9a9+0x4e0);const _0x5076e2=this['_splitLigh'+'ts'];for(let _0x1ada1c=-0x4*0x2ef+0x9*0x2af+-0xc6b*0x1;_0x1ada1c<_0x5076e2['length'];_0x1ada1c++)_0x5076e2[_0x1ada1c]['length']=0x3cb*-0x7+-0xee5*-0x1+-0x8*-0x175;const _0x11327d=this['_lights'];for(let _0x42d2d8=0x76b+-0x18e2+0x1*0x1177;_0x42d2d8<_0x11327d['length'];_0x42d2d8++){const _0x4ba37e=_0x11327d[_0x42d2d8];_0x4ba37e['enabled']&&_0x5076e2[_0x4ba37e['_type']]['push'](_0x4ba37e);}for(let _0xc765a8=-0x1749+0xc34+-0x1*-0xb15;_0xc765a8<_0x5076e2['length'];_0xc765a8++)_0x5076e2[_0xc765a8]['sort']((_0x34c6f7,_0x3d469e)=>_0x34c6f7['key']-_0x3d469e['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x15b856,_0x527beb,_0x2e7d96){let _0x2e21d8=-0xeaa+-0x1*-0xc61+0xf*0x27;const _0x427309=this['_lights'];for(let _0x422b42=-0x1a7d*-0x1+0x1a2d+-0x6b*0x7e;_0x422b42<_0x427309['length'];_0x422b42++){const _0x5815ed=_0x427309[_0x422b42]['type']!==oe;(_0x15b856&&_0x5815ed||_0x527beb&&!_0x5815ed)&&ja['push'](_0x2e7d96?_0x427309[_0x422b42]['id']:_0x427309[_0x422b42]['key']);}return ja['length']>0x929+0x175*-0x19+0x6d1*0x4&&(ja['sort'](),_0x2e21d8=Zy(ja),ja['length']=0x1fd6+0x1b69*0x1+0x1d*-0x20b),_0x2e21d8;}['getLightHa'+'sh'](_0x1c4799){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0x98c+0x463*0x1+-0xdee),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x1c4799,!(0x1f*0xfb+-0x570+0x1*-0x18f5),!(0x6a*0x36+0x574*-0x5+-0x1*-0x4e9))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x1d1f+0x1389+0x997),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0x1ffb+-0x226d+-0x1*-0x4268),!(-0x6d+0x1b91+-0x1b23*0x1),!(-0x1e85+-0xc4c+0x61*0x71))),this['_lightIdHa'+'sh'];}['addCamera'](_0x22dc3a){this['camerasSet']['has'](_0x22dc3a['camera'])||(this['camerasSet']['add'](_0x22dc3a['camera']),this['cameras']['push'](_0x22dc3a),this['_dirtyComp'+'osition']=!(0x2ce*-0xb+-0xef+0x1fc9));}['removeCame'+'ra'](_0x2e481c){if(this['camerasSet']['has'](_0x2e481c['camera'])){this['camerasSet']['delete'](_0x2e481c['camera']);const _0x31e02f=this['cameras']['indexOf'](_0x2e481c);this['cameras']['splice'](_0x31e02f,0xfd9+0xcb*-0x7+-0x20f*0x5),this['_dirtyComp'+'osition']=!(0xc8d*0x1+0x1785*-0x1+-0x18*-0x75);}}['clearCamer'+'as'](){this['cameras']['length']=0x1a1*0x7+-0xc90+-0xb*-0x1b,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x223a+-0x1681+-0xbb9);}['_calculate'+'SortDistan'+'ces'](_0x314734,_0x21e957,_0x495220,_0x370a23){for(let _0xe33623=-0x14a5+-0x179*0x14+-0x1db*-0x1b;_0xe33623<_0x21e957;_0xe33623++){const _0x2ac69a=_0x314734[_0xe33623];if(_0x2ac69a['layer']<=Vb)continue;if(_0x2ac69a['calculateS'+'ortDistanc'+'e']){_0x2ac69a['zdist']=_0x2ac69a['calculateS'+'ortDistanc'+'e'](_0x2ac69a,_0x495220,_0x370a23);continue;}const _0x1393dc=_0x2ac69a['aabb']['center'],_0x4e8126=_0x1393dc['x']-_0x495220['x'],_0x531742=_0x1393dc['y']-_0x495220['y'],_0x1af406=_0x1393dc['z']-_0x495220['z'];_0x2ac69a['zdist']=_0x4e8126*_0x370a23['x']+_0x531742*_0x370a23['y']+_0x1af406*_0x370a23['z'];}}['getCulledI'+'nstances'](_0x137353){let _0x198025=this['_visibleIn'+'stances']['get'](_0x137353);return _0x198025||(_0x198025=new HM(),this['_visibleIn'+'stances']['set'](_0x137353,_0x198025)),_0x198025;}['sortVisibl'+'e'](_0x178113,_0x1a7b5c){const _0xf69612=_0x1a7b5c?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0xf69612===dh)return;const _0x122b8f=this['getCulledI'+'nstances'](_0x178113),_0x3bb035=_0x1a7b5c?_0x122b8f['transparen'+'t']:_0x122b8f['opaque'],_0xe82cee=_0x178113['node'];if(_0xf69612===ew){const _0x55408d=_0xe82cee['getPositio'+'n'](),_0x4eb254=_0xe82cee['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x3bb035,_0x3bb035['length'],_0x55408d,_0x4eb254),this['customSort'+'Callback']&&_0x3bb035['sort'](this['customSort'+'Callback']);}else{if(_0xf69612===Bm||_0xf69612===Jb){const _0x47af9e=_0xe82cee['getPositio'+'n'](),_0x3d597e=_0xe82cee['forward'];this['_calculate'+'SortDistan'+'ces'](_0x3bb035,_0x3bb035['length'],_0x47af9e,_0x3d597e);}_0x3bb035['sort'](GM[_0xf69612]);}}}const $M=(_0xce3633,_0x33e899)=>_0xce3633['priority']-_0x33e899['priority'],No=_0x45a24e=>_0x45a24e['sort']($M);class S_ extends ce{constructor(_0x2541eb='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(-0x789*-0x3+-0x13*0xe5+-0x59b)),(this['name']=_0x2541eb,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x2e8e84=>_0x2e8e84['destroy']()),this['_renderAct'+'ions']['length']=-0x1ade+-0x40e+0x1eec;}['_update'](){const _0x50302d=this['layerList']['length'];if(!this['_dirty']){for(let _0x5a2be9=-0x11*-0xc7+0xd43+-0x1a7a;_0x5a2be9<_0x50302d;_0x5a2be9++)if(this['layerList'][_0x5a2be9]['_dirtyComp'+'osition']){this['_dirty']=!(-0x4*0x588+0x1ac2+-0x1*0x4a2);break;}}if(this['_dirty']){this['_dirty']=!(-0xd*0x112+-0x208e+-0x1*-0x2e79),this['cameras']['length']=0x19e2+-0x13e*0x5+-0x2*0x9d6;for(let _0x42a26f=0xa4*-0x1b+-0x1612+0x275e;_0x42a26f<_0x50302d;_0x42a26f++){const _0x4c5117=this['layerList'][_0x42a26f];_0x4c5117['_dirtyComp'+'osition']=!(-0x1*-0x16f0+0x2185+0x2*-0x1c3a);for(let _0x4f79e1=0x30d+0x1*0x28c+-0x599*0x1;_0x4f79e1<_0x4c5117['cameras']['length'];_0x4f79e1++){const _0x106b7c=_0x4c5117['cameras'][_0x4f79e1];this['cameras']['indexOf'](_0x106b7c)<-0x16a6+-0x128f+-0x89*-0x4d&&this['cameras']['push'](_0x106b7c);}}this['cameras']['length']>0x16*-0x1b5+0x331*-0x3+0x2f22&&No(this['cameras']);let _0xc69eeb=0x1f3d+-0xb*0x149+-0x111a;this['destroyRen'+'derActions']();for(let _0x5e0cf1=0x1414+0xa74+-0x1e88*0x1;_0x5e0cf1<this['cameras']['length'];_0x5e0cf1++){const _0x364954=this['cameras'][_0x5e0cf1];if(_0x364954['camera']['renderPass'+'es']['length']>0x6d*0x23+-0x20a6+0x19d*0xb){this['addDummyRe'+'nderAction'](_0xc69eeb,_0x364954),_0xc69eeb++;continue;}let _0x298701=!(0x1713+0x3d1*-0x7+-0x1*-0x3a4);const _0x5de41=_0xc69eeb;let _0x354184=null,_0xa49c38=!(0x15*0x108+-0x17d2+0xf*0x25);for(let _0x10977b=-0xe49+-0x1f14+0x2d5d;_0x10977b<_0x50302d;_0x10977b++){const _0xee5be5=this['layerList'][_0x10977b];if(_0xee5be5['enabled']&&this['subLayerEn'+'abled'][_0x10977b]&&_0xee5be5['cameras']['length']>-0x1703*-0x1+0x496+-0xf*0x1d7&&_0x364954['layers']['indexOf'](_0xee5be5['id'])>=-0x1453+0x2f*-0x95+-0x11*-0x2ce){!_0xa49c38&&_0xee5be5['id']===_0x364954['disablePos'+'tEffectsLa'+'yer']&&(_0xa49c38=!(-0x1f1f*0x1+-0x2638+0x4557),_0x354184&&(_0x354184['triggerPos'+'tprocess']=!(-0x3*-0x981+-0xd89+-0xefa)));const _0x7e7001=this['subLayerLi'+'st'][_0x10977b];_0x354184=this['addRenderA'+'ction'](_0xc69eeb,_0xee5be5,_0x7e7001,_0x364954,_0x298701,_0xa49c38),_0xc69eeb++,_0x298701=!(-0x79+-0xfce+0x1048);}}_0x5de41<_0xc69eeb&&(_0x354184['lastCamera'+'Use']=!(-0x12*0x20b+-0x1*0x2573+0x4a39*0x1)),!_0xa49c38&&_0x354184&&(_0x354184['triggerPos'+'tprocess']=!(0x1a3*0x7+-0x71*-0x11+-0x1*0x12f6)),_0x364954['renderTarg'+'et']&&_0x364954['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x5de41-(-0x2*-0x17b+-0x896*0x4+-0x5*-0x647),_0x364954);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x3d8931){v['assert'](this['_renderAct'+'ions']['length']===_0x3d8931);const _0x44ec1e=new D0();return this['_renderAct'+'ions']['push'](_0x44ec1e),_0x44ec1e;}['addDummyRe'+'nderAction'](_0x5ec23a,_0x548d23){const _0x625ad=this['getNextRen'+'derAction'](_0x5ec23a);_0x625ad['camera']=_0x548d23,_0x625ad['useCameraP'+'asses']=!(-0x56*-0x6e+0x2a3+0x5*-0x7eb);}['addRenderA'+'ction'](_0x1e2457,_0x52861d,_0x5875db,_0x5f279a,_0x2ea270,_0x262fa2){let _0x368647=_0x52861d['id']!==Xt?_0x5f279a['renderTarg'+'et']:null,_0x1ad68e=!(-0x1fef+-0x5*0x1bd+0x28a1*0x1);const _0x19cf7c=this['_renderAct'+'ions'];for(let _0x142c85=_0x1e2457-(-0x1*0x9d9+-0x2*0x136c+0x30b2);_0x142c85>=-0x1*-0x2627+0x1cd9*0x1+-0x10c0*0x4;_0x142c85--)if(_0x19cf7c[_0x142c85]['camera']===_0x5f279a&&_0x19cf7c[_0x142c85]['renderTarg'+'et']===_0x368647){_0x1ad68e=!(-0x1a7a+0x114*0x15+0x3d6);break;}_0x262fa2&&_0x5f279a['postEffect'+'sEnabled']&&(_0x368647=null);const _0x336eaa=this['getNextRen'+'derAction'](_0x1e2457);_0x336eaa['triggerPos'+'tprocess']=!(-0x1*0x685+-0xcc1+0x1347),_0x336eaa['layer']=_0x52861d,_0x336eaa['transparen'+'t']=_0x5875db,_0x336eaa['camera']=_0x5f279a,_0x336eaa['renderTarg'+'et']=_0x368647,_0x336eaa['firstCamer'+'aUse']=_0x2ea270,_0x336eaa['lastCamera'+'Use']=!(0x58a+-0x417+-0xa*0x25);const _0x1f9a61=_0x2ea270||!_0x1ad68e,_0x39d765=_0x52861d['clearColor'+'Buffer']||_0x52861d['clearDepth'+'Buffer']||_0x52861d['clearStenc'+'ilBuffer'];return(_0x1f9a61||_0x39d765)&&_0x336eaa['setupClear'+'s'](_0x1f9a61?_0x5f279a:void(0xbc2+0x882*-0x1+0x8*-0x68),_0x52861d),_0x336eaa;}['propagateR'+'enderTarge'+'t'](_0x1376d9,_0x41e673){for(let _0x3ff28b=_0x1376d9;_0x3ff28b>=0x15a*0x2+-0xd5f+0xaab;_0x3ff28b--){const _0x5b56b4=this['_renderAct'+'ions'][_0x3ff28b],_0x1167d8=_0x5b56b4['layer'];if(_0x5b56b4['renderTarg'+'et']&&_0x1167d8['id']!==Xt)break;if(_0x1167d8['id']===Xt)continue;if(_0x5b56b4['useCameraP'+'asses'])break;const _0x2e63ce=_0x5b56b4==null?void(0x26*-0x3a+-0x13d9+0x1c75):_0x5b56b4['camera']['camera'];if(_0x2e63ce&&(!_0x41e673['camera']['rect']['equals'](_0x2e63ce['rect'])||!_0x41e673['camera']['scissorRec'+'t']['equals'](_0x2e63ce['scissorRec'+'t'])))break;_0x5b56b4['renderTarg'+'et']=_0x41e673['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x51f8ac=-0xf95*-0x1+-0x51a+-0xa7b*0x1;_0x51f8ac<this['_renderAct'+'ions']['length'];_0x51f8ac++){const _0x225d3c=this['_renderAct'+'ions'][_0x51f8ac],_0x484c33=_0x225d3c['camera'];if(_0x225d3c['useCameraP'+'asses'])v['trace'](pl,_0x51f8ac+('CustomPass'+'es\x20Cam:\x20')+(_0x484c33?_0x484c33['entity']['name']:'-'));else{const _0x213ab0=_0x225d3c['layer'],_0x5edab3=_0x213ab0['enabled']&&this['isEnabled'](_0x213ab0,_0x225d3c['transparen'+'t']),_0x1e3117=(_0x225d3c['clearColor']?'Color\x20':'.....\x20')+(_0x225d3c['clearDepth']?'Depth\x20':'.....\x20')+(_0x225d3c['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x51f8ac+('\x20Cam:\x20'+(_0x484c33?_0x484c33['entity']['name']:'-'))['padEnd'](-0xad4+0x1*0x58f+0x55b,'\x20')+('\x20Lay:\x20'+_0x213ab0['name'])['padEnd'](0x3*-0x515+-0x1*0x1f1e+-0x205*-0x17,'\x20')+(_0x225d3c['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x5edab3?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x225d3c['renderTarg'+'et']?_0x225d3c['renderTarg'+'et']['name']:'-'))['padEnd'](-0x9*0x2e1+0x65c*-0x1+0x2063,'\x20')+'\x20Clear:\x20'+_0x1e3117+(_0x225d3c['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x225d3c['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x225d3c['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x43fac3){const _0x32c4a1=this['layerIdMap']['get'](_0x43fac3['id'])===_0x43fac3;return v['assert'](!_0x32c4a1,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x43fac3['name']),_0x32c4a1;}['_isSublaye'+'rAdded'](_0x3e47f1,_0x1c59a2){return(_0x1c59a2?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x3e47f1)!==void(-0x11*0x14+-0xaf9+0xc4d)?(v['error']('Sublayer\x20'+_0x3e47f1['name']+(',\x20transpar'+'ent:\x20')+_0x1c59a2+('\x20is\x20alread'+'y\x20added.')),!(-0x1*0x8c6+0xf*-0x1c5+0x2351)):!(-0x11*-0x66+-0x777+0xb2);}['push'](_0x377a14){this['_isLayerAd'+'ded'](_0x377a14)||(this['layerList']['push'](_0x377a14),this['layerList']['push'](_0x377a14),this['_opaqueOrd'+'er'][_0x377a14['id']]=this['subLayerLi'+'st']['push'](!(0x1*0x210d+0x3a*0x84+-0x2*0x1f7a))-(0x1be3+-0xc*-0x187+-0x2e36),this['_transpare'+'ntOrder'][_0x377a14['id']]=this['subLayerLi'+'st']['push'](!(-0x21f*-0xb+-0x19a*0x7+-0xc1f))-(0x4*-0x1b+0x29*0x40+-0x9d3),this['subLayerEn'+'abled']['push'](!(-0x3e1+0x2*-0xc73+0x8b*0x35)),this['subLayerEn'+'abled']['push'](!(-0x1649+-0x19c5+-0x300e*-0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x198f+-0x107*0x17+-0x313*-0x10),this['fire']('add',_0x377a14));}['insert'](_0x154771,_0x3c6e03){if(this['_isLayerAd'+'ded'](_0x154771))return;this['layerList']['splice'](_0x3c6e03,0x1*0xb65+-0x14d3+-0x22*-0x47,_0x154771,_0x154771),this['subLayerLi'+'st']['splice'](_0x3c6e03,-0x30b*-0x1+-0x1*0xd17+0xa0c*0x1,!(0x241*-0xa+-0x5a3+-0xe17*-0x2),!(0xf80+-0x1*0x4a7+-0xad9));const _0x354faa=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x3c6e03,_0x354faa-(0x1a2f+0x49*0x32+-0x2870)),this['_updateTra'+'nsparentOr'+'der'](_0x3c6e03,_0x354faa-(0xddf*0x1+0x451+-0x122f)),this['subLayerEn'+'abled']['splice'](_0x3c6e03,0xb05*0x1+0x19c*0x18+-0x31a5,!(0x157b*-0x1+0x7*-0x27+0x168c),!(-0x78b*0x1+-0x23e3+0x2b6e)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1*0xa01+-0x52*-0x77+-0x7f*0x61),this['fire']('add',_0x154771);}['remove'](_0x39844f){let _0x2d61b0=this['layerList']['indexOf'](_0x39844f);for(delete this['_opaqueOrd'+'er'][_0x2d61b0],delete this['_transpare'+'ntOrder'][_0x2d61b0];_0x2d61b0>=0x139f+-0x429*-0x5+-0x286c;)this['layerList']['splice'](_0x2d61b0,0x22f9+-0x1126+-0x11d2),this['subLayerLi'+'st']['splice'](_0x2d61b0,-0x1*0x23d7+-0x1*0x1f7+0x25cf),this['subLayerEn'+'abled']['splice'](_0x2d61b0,-0x1*0xdb7+-0x1d4+0xf8c),_0x2d61b0=this['layerList']['indexOf'](_0x39844f),this['_dirty']=!(0x24c4+0x1b9e*-0x1+-0x926),this['fire']('remove',_0x39844f);const _0x3f508c=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x1f2a+0x1577+0x9b3,_0x3f508c-(-0x2567*0x1+-0x1b*0xd4+0x3bc4)),this['_updateTra'+'nsparentOr'+'der'](0xdb1+-0x199b+0xbea,_0x3f508c-(0x69e*-0x5+-0x153a+0x3651)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x42b0a4){this['_isSublaye'+'rAdded'](_0x42b0a4,!(-0x1f7*-0x1+0x1c1f+-0x1e15))||(this['layerList']['push'](_0x42b0a4),this['_opaqueOrd'+'er'][_0x42b0a4['id']]=this['subLayerLi'+'st']['push'](!(0x1*0x42d+0x236f+-0x279b))-(0xf6c*-0x2+0x101*0x23+-0x44a),this['subLayerEn'+'abled']['push'](!(-0x1d66+-0x727*-0x5+-0x65d)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1*0xd3b+0x1af0+-0xdb5),this['fire']('add',_0x42b0a4));}['insertOpaq'+'ue'](_0x3a2ad7,_0x2886fe){if(this['_isSublaye'+'rAdded'](_0x3a2ad7,!(-0x1d37+0x1054+0xce4)))return;this['layerList']['splice'](_0x2886fe,0x1f90+-0x112b+-0xb*0x14f,_0x3a2ad7),this['subLayerLi'+'st']['splice'](_0x2886fe,0x70d*-0x1+-0x1739+0x1e46,!(0x175*-0x5+0x2e*-0x29+0xea8));const _0x3be6f5=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x2886fe,_0x3be6f5-(0x2f6*0x9+0x191*0xb+-0x2be0)),this['subLayerEn'+'abled']['splice'](_0x2886fe,0x45*-0x1e+-0x232a+0x2b40,!(0x757*0x1+-0x1*-0x1b7f+-0x22d6)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x13c9*0x1+0x3d9+0xff0),this['fire']('add',_0x3a2ad7);}['removeOpaq'+'ue'](_0x5936df){for(let _0x52a782=-0x49*0x4f+0x56*0x2f+0x4b*0x17,_0x8c7597=this['layerList']['length'];_0x52a782<_0x8c7597;_0x52a782++)if(this['layerList'][_0x52a782]===_0x5936df&&!this['subLayerLi'+'st'][_0x52a782]){this['layerList']['splice'](_0x52a782,-0x1*-0x117f+-0x1*0x170e+0x590),this['subLayerLi'+'st']['splice'](_0x52a782,-0x860+0x3d2+-0x185*-0x3),_0x8c7597--,this['_updateOpa'+'queOrder'](_0x52a782,_0x8c7597-(-0x40*-0x40+-0x221a+-0x203*-0x9)),this['subLayerEn'+'abled']['splice'](_0x52a782,0x910+0xc94+-0x15a3),this['_dirty']=!(-0xb41+-0x1f89+-0x2aca*-0x1),this['layerList']['indexOf'](_0x5936df)<0x24d3*-0x1+-0x210d*-0x1+-0x15*-0x2e&&this['fire']('remove',_0x5936df);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x6c8c29){this['_isSublaye'+'rAdded'](_0x6c8c29,!(-0x656*-0x2+-0x1*-0xef8+0xf4*-0x1d))||(this['layerList']['push'](_0x6c8c29),this['_transpare'+'ntOrder'][_0x6c8c29['id']]=this['subLayerLi'+'st']['push'](!(-0x7cc*-0x1+-0xa84+-0xe8*-0x3))-(-0x3*0xb4a+-0x1e45+0x4024),this['subLayerEn'+'abled']['push'](!(0x41c*0x1+0x2ec*0x8+-0x1b7c)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x162*0x1a+0x4ed*-0x1+0x1*-0x1f07),this['fire']('add',_0x6c8c29));}['insertTran'+'sparent'](_0x9c077a,_0x261a5a){if(this['_isSublaye'+'rAdded'](_0x9c077a,!(0x6*-0x7b+-0x1730+0x1a12)))return;this['layerList']['splice'](_0x261a5a,-0x24cd*-0x1+-0x21b9+-0x314,_0x9c077a),this['subLayerLi'+'st']['splice'](_0x261a5a,0xddb+0x80d+0x57a*-0x4,!(-0x2458+-0x2df*0x1+0x2737));const _0x3da2ab=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x261a5a,_0x3da2ab-(0x2*-0xad9+0x116*-0x22+-0x3a9f*-0x1)),this['subLayerEn'+'abled']['splice'](_0x261a5a,-0x20a9+0x1d73*-0x1+0x52d*0xc,!(-0xcd8+-0x83*-0x2b+-0x929)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x9dc+-0xc*-0x89+-0x4*0x412),this['fire']('add',_0x9c077a);}['removeTran'+'sparent'](_0x274339){for(let _0x306c2b=0x17*-0x13f+-0x8b1+0x255a,_0x363d7f=this['layerList']['length'];_0x306c2b<_0x363d7f;_0x306c2b++)if(this['layerList'][_0x306c2b]===_0x274339&&this['subLayerLi'+'st'][_0x306c2b]){this['layerList']['splice'](_0x306c2b,-0x1ef8+0x25f9+-0x700),this['subLayerLi'+'st']['splice'](_0x306c2b,-0x1cc1+0x126c+0x2a*0x3f),_0x363d7f--,this['_updateTra'+'nsparentOr'+'der'](_0x306c2b,_0x363d7f-(0xb88+0x1108+-0x3*0x985)),this['subLayerEn'+'abled']['splice'](_0x306c2b,0x1*0x1ebb+0x2*0x114d+0x71*-0x94),this['_dirty']=!(0x1541*-0x1+-0x24f4+0x3a35),this['layerList']['indexOf'](_0x274339)<0x13c4+-0x21f5+-0x15*-0xad&&this['fire']('remove',_0x274339);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x28a0da){return this['layerOpaqu'+'eIndexMap']['get'](_0x28a0da)??-(0x26bb+-0xa94+0x962*-0x3);}['getTranspa'+'rentIndex'](_0xf514ed){return this['layerTrans'+'parentInde'+'xMap']['get'](_0xf514ed)??-(0xecc+-0x1*-0x2383+-0x324e);}['isEnabled'](_0x30c415,_0x1224b3){if(_0x30c415['enabled']){const _0x1a4c06=_0x1224b3?this['getTranspa'+'rentIndex'](_0x30c415):this['getOpaqueI'+'ndex'](_0x30c415);if(_0x1a4c06>=-0x1d*-0x158+-0x85b+-0x1e9d*0x1)return this['subLayerEn'+'abled'][_0x1a4c06];}return!(-0x8f*-0x36+-0x1*0x11b6+-0xc73*0x1);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x4ff338=-0x70b+0x2*0x581+-0x5*0xcb;_0x4ff338<this['layerList']['length'];_0x4ff338++){const _0x1f90c4=this['layerList'][_0x4ff338];this['layerIdMap']['set'](_0x1f90c4['id'],_0x1f90c4),this['layerNameM'+'ap']['set'](_0x1f90c4['name'],_0x1f90c4),(this['subLayerLi'+'st'][_0x4ff338]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x1f90c4,_0x4ff338);}}['getLayerBy'+'Id'](_0x21ccf4){return this['layerIdMap']['get'](_0x21ccf4)??null;}['getLayerBy'+'Name'](_0x2f6ccf){return this['layerNameM'+'ap']['get'](_0x2f6ccf)??null;}['_updateOpa'+'queOrder'](_0x23af82,_0xac6076){for(let _0x5182ba=_0x23af82;_0x5182ba<=_0xac6076;_0x5182ba++)this['subLayerLi'+'st'][_0x5182ba]===!(-0x1b*-0xc7+0x67a*-0x2+-0x808)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x5182ba]['id']]=_0x5182ba);}['_updateTra'+'nsparentOr'+'der'](_0x44a24d,_0x2ba67f){for(let _0x2a16fa=_0x44a24d;_0x2a16fa<=_0x2ba67f;_0x2a16fa++)this['subLayerLi'+'st'][_0x2a16fa]===!(-0x2a*-0x7+0xeb7+0x1*-0xfdd)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x2a16fa]['id']]=_0x2a16fa);}['_sortLayer'+'sDescendin'+'g'](_0x38ffff,_0x12c2dd,_0x118e0e){let _0x2d31f8=-(-0x24d5+-0x1a5f+0x1*0x3f35),_0x1fd0d7=-(0x14*0xac+-0x6b6*-0x3+-0x2191);for(let _0x207217=0x2253*0x1+-0x2*0x9ad+-0x1*0xef9,_0x4374d3=_0x38ffff['length'];_0x207217<_0x4374d3;_0x207217++){const _0x5731af=_0x38ffff[_0x207217];_0x118e0e['hasOwnProp'+'erty'](_0x5731af)&&(_0x2d31f8=Math['max'](_0x2d31f8,_0x118e0e[_0x5731af]));}for(let _0x237c98=0x2528*-0x1+-0x994+0x2ebc,_0x22eac8=_0x12c2dd['length'];_0x237c98<_0x22eac8;_0x237c98++){const _0x18a9d9=_0x12c2dd[_0x237c98];_0x118e0e['hasOwnProp'+'erty'](_0x18a9d9)&&(_0x1fd0d7=Math['max'](_0x1fd0d7,_0x118e0e[_0x18a9d9]));}return _0x2d31f8===-(0xe65*0x2+-0x77b+-0x154e)&&_0x1fd0d7!==-(0x4ca+-0x146*-0x1d+-0x29b7)?0x3*-0x9f7+-0x1*-0x18eb+0x4fb:_0x1fd0d7===-(-0x5*-0x3be+-0x109a+-0x21b)&&_0x2d31f8!==-(-0xb*0x2f8+0x4d*-0x4d+0x37d2)?-(0x1*0x156b+-0x207f+-0xb15*-0x1):_0x1fd0d7-_0x2d31f8;}['sortTransp'+'arentLayer'+'s'](_0x395ba5,_0x442af6){return this['_sortLayer'+'sDescendin'+'g'](_0x395ba5,_0x442af6,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x58caf7,_0x340b16){return this['_sortLayer'+'sDescendin'+'g'](_0x58caf7,_0x340b16,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new j(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},WM=[[new Q(0x1*-0x39a+0x3b*-0x71+-0x1da5*-0x1,0x1*0x1892+-0x247f+0xbed,-0xf83*0x1+-0xbc*-0x32+-0x2e*0x76,0x1*-0x5e0+0x26ee+-0x210d)],[new Q(-0x1*-0x1679+0x1*-0x188f+0x216,0x1*0x21ba+-0x14af+-0xd0b,-0x16c2*-0x1+-0xc*-0x31d+0x39*-0x10e+0.5,-0x4*0x75e+-0x7*0x33e+0x25f*0x16+0.5),new Q(0x1417+0xa*-0x141+0x78d*-0x1,-0x1*-0x67+0x1502+-0x1569+0.5,-0x22bb+0xa01+0x18ba+0.5,0x25fa+0x1*0x18f8+-0x3ef2+0.5)],[new Q(0x53*-0x40+-0xd2e+0x21ee,0xde4+0x21e2*-0x1+-0x6aa*-0x3,0x2*0x1289+0x2*0x12b6+0xa*-0x773+0.5,-0x1*-0x1309+-0x8a*0x15+-0x7b7+0.5),new Q(-0x1*0x39b+0x259e+-0x2203*0x1,0x1729+0x10f*-0x19+0x1*0x34e+0.5,-0x1520+0x96b*-0x2+0x27f6+0.5,-0x4f*-0x18+-0x1f93+0x10d*0x17+0.5),new Q(-0x1*-0x87e+-0x6ec*0x3+0x623*0x2+0.5,-0x1708+-0x19eb+0x30f3,-0x2*-0xa1d+0x1869+0xee1*-0x3+0.5,0x9b*0x33+-0x375+0x1a*-0x10e+0.5)],[new Q(0x13d2+0x17f7+-0x2bc9,-0x1d2b+-0x272*-0x1+0x1ab9,0x1dd1+-0x18b4+-0x51d*0x1+0.5,-0x1*0x1392+0x2612+-0x250*0x8+0.5),new Q(0x1d1a+0x1*0x1169+-0x2e83,0x251f+0xcbf+0xd*-0x3d6+0.5,-0x1f72+-0x38f*0x2+0x2690+0.5,-0x115*0x1a+0x215*0x2+0x17f8+0.5),new Q(-0x1a67*-0x1+0x1*-0x215f+-0x1*-0x6f8+0.5,0x41*-0x32+-0x17fa+0x1*0x24ac,-0x1*0xac+-0x485+-0x531*-0x1+0.5,0xd6*-0x19+0x12*0x87+0xb68+0.5),new Q(-0x13c8+-0x1e7*-0xf+-0x8c1+0.5,-0x2*-0x949+0x1*0x1b47+0x79*-0x61+0.5,-0x1eb*-0xc+-0x247+-0x14bd+0.5,0x7b6+-0x2142+-0xf*-0x1b4+0.5)]];let qM=-0x38*0x92+0x19b*0xb+0x55*0x2b;class XM{constructor(_0x2fbcbb,_0x5a3219,_0x31def9){this['light']=_0x31def9,this['camera']=_0x2fbcbb,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x31def9['_shadowTyp'+'e'],_0x31def9['_type'],_0x5a3219),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(0xc9*0x10+-0x148b+0x9*0xe3,-0x1413*0x1+-0x5*-0x376+0x1*0x2c5,0x1b33+-0x142a*-0x1+0x2f5c*-0x1,-0x1497+-0x2128+0x35c0),this['shadowScis'+'sor']=new Q(-0x1a*0x3c+-0x1413+0x1a2b,0x38*0x17+-0x9cc+-0x3d*-0x14,0xc*0x132+-0x1fb2+0x115b,0x1e89+-0x373*-0x8+-0x78*0x7c),this['projection'+'Compensati'+'on']=0x25f+0x1991+-0x1bf0,this['face']=_0x5a3219,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x5282a6=>{_0x5282a6['defaultUni'+'formBuffer']['destroy'](),_0x5282a6['destroy']();}),this['viewBindGr'+'oups']['length']=0x128c+0x16f*0x17+0x1*-0x3385;}get['shadowBuff'+'er'](){const _0x3e7d83=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x3e7d83?this['light']['_isPcf']?_0x3e7d83['depthBuffe'+'r']:_0x3e7d83['colorBuffe'+'r']:null;}}class zo{constructor(_0x3da72f,_0x1f159d){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x3da72f,this['clusteredL'+'ighting']=_0x1f159d,this['id']=qM++,this['_type']=oe,this['_color']=new j(-0x4*-0x1a3+-0x1*0x1bbf+0x1533+0.8,-0xeda+-0x28*-0x49+0x2a*0x15+0.8,0x4*0x90f+0x14cd+-0x3909+0.8),this['_intensity']=0x536+-0x1ad4+0x159f,this['_affectSpe'+'cularity']=!(-0xa22+-0x7c4+-0x3a*-0x4f),this['_luminance']=-0x29*0x5d+0x5*0x7a8+-0x1763,this['_castShado'+'ws']=!(0x18*-0x102+-0x1*-0x526+0x130b),this['_enabled']=!(0x8b9+0x1391+-0x1c49),this['_mask']=hs,this['isStatic']=!(0x449*0x1+-0x1148+0xd00),this['key']=0x2*0xcc+-0x1136*-0x2+-0x1202*0x2,this['bakeDir']=!(-0xe5f*0x2+-0x1f99+0x3c57),this['bakeNumSam'+'ples']=-0x2068+-0x9*-0x1f6+0xec3*0x1,this['bakeArea']=-0x1ed5+-0x2510+0x43e5,this['attenuatio'+'nStart']=-0x36*0x2+0x8e5+-0x86f,this['attenuatio'+'nEnd']=0x23f6*-0x1+0x427*-0x5+0x38c3,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Lt,this['_vsmBlurSi'+'ze']=-0x881*0x1+0x1695+0xe09*-0x1,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(0x5*0x3bc+-0x1726*-0x1+-0x29d2+0.01)*(0x45f*-0x6+0x1b7f+0x41*-0x5+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x1283+-0x1f3+-0x108f,this['_cookieFal'+'loff']=!(0x20d8+0xf4+-0x6*0x5a2),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0x1*-0x1cab+0x1f5*0x3+-0x2286),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x6d6+0x3*0xb65+0x1b57*-0x1),this['_cookieTra'+'nsformSet']=!(0x6d*-0x55+0x1ab0+0x982),this['_cookieOff'+'setSet']=!(0x2238+-0x170c+-0x3*0x3b9),this['_innerCone'+'Angle']=0x451*0x1+-0x66e*-0x6+-0x2abd,this['_outerCone'+'Angle']=0x4cd*-0x6+0x1*-0x26cb+0x43c6,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0x1381*-0x1+0x1*0x242f+0x1*-0x10ad,this['_cascadeBl'+'end']=-0x14c3+0x950*0x3+-0xa7*0xb,this['cascadeDis'+'tribution']=-0x1*-0x5c2+0x58*0xd+-0xa3a+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(0x1e08+0x1*0x166f+0xd1d*-0x4),this['_updateLin'+'earColor'](),this['_position']=new T(-0x8b6+-0x101b*0x2+0x28ec,0x1b47+-0xae4+0x5*-0x347,0x1*-0x3ae+0x30*-0x11+0x36f*0x2),this['_direction']=new T(-0x317+-0x1*-0x54a+-0x233,-0xa42*-0x1+0x1216+-0x1c58,-0x15d+-0x1932+0x1a8f),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x4*0x5c9+0x1c*-0x15d+0x52b*0xc)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0xb4*0x16+-0x13e6*0x1+-0x1f7*-0x12),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x28d+0x137b+-0x15e0,this['_shadowRes'+'olution']=0x12c7*0x2+-0x1ddd+-0x87*0x7,this['_shadowBia'+'s']=-(-0x5*0x1e7+0x8*-0x289+0x1dcb+0.0005),this['shadowInte'+'nsity']=0xad*-0x29+0x1f36*-0x1+-0x1a3*-0x24,this['_normalOff'+'setBias']=-0x1ac8+-0xad6+-0x9*-0x42e,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x2*0x114b+0xe13+0x1484),this['_isPcf']=!(-0xc15*-0x1+-0x103*-0x1c+0x1*-0x2869),this['_softShado'+'wParams']=new Float32Array(-0x22c2+0x3b*0x7a+0x47*0x18),this['shadowSamp'+'les']=-0x1755+-0x4*0x264+0x20f5,this['shadowBloc'+'kerSamples']=-0x6*0x37e+-0x1407+-0x5dd*-0x7,this['penumbraSi'+'ze']=-0x148e+-0x20fe+-0x1*-0x358d,this['penumbraFa'+'lloff']=-0x1*0x242b+0xb4a+0x18e2,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x1dbd+0x1af6*-0x1+-0x2*-0x1c5a),this['atlasVersi'+'on']=-0x601+0x2*-0xf01+0x2403,this['atlasSlotI'+'ndex']=-0x1*0x2c5+0xf*-0x18d+-0x7*-0x3b8,this['atlasSlotU'+'pdated']=!(0x77e+0x1b*0x86+0x171*-0xf),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0xa8b+0x234e+-0x2dd8),this['maxScreenS'+'ize']=-0x19b7+0x1e05*0x1+-0x13*0x3a,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x58e08=-0x8a2*0x2+-0x1614+0x2758;_0x58e08<this['_renderDat'+'a']['length'];_0x58e08++)this['_renderDat'+'a'][_0x58e08]['destroy']();this['_renderDat'+'a']['length']=-0x915+-0x19b+0xab0;}}['addLayer'](_0x5ee2a6){this['layers']['add'](_0x5ee2a6);}['removeLaye'+'r'](_0x390a9c){this['layers']['delete'](_0x390a9c);}set['shadowSamp'+'les'](_0xde5ec6){this['_softShado'+'wParams'][0x40a*0x2+0x42d*0x8+-0xa5f*0x4]=_0xde5ec6;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x191a+0xb3d+-0x2457];}set['shadowBloc'+'kerSamples'](_0x2e675a){this['_softShado'+'wParams'][0x139d*0x1+0x202d+-0x33c9]=_0x2e675a;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][0x3*0x71+-0x248*0x8+0x10ee];}set['shadowBias'](_0x5ce79e){this['_shadowBia'+'s']!==_0x5ce79e&&(this['_shadowBia'+'s']=_0x5ce79e,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x58a7dd){(!this['cascades']||this['numCascade'+'s']!==_0x58a7dd)&&(this['cascades']=WM[_0x58a7dd-(-0x23de+-0x1bdd+-0x4*-0xfef)],this['_shadowMat'+'rixPalette']=new Float32Array((0x12f*0x5+0x16*0x83+0x1*-0x1129)*(-0x49*0x3e+-0x1*0x6cb+-0xb*-0x23b)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0x279*0x1+-0x2068+0x1df3),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x2ab4a5){this['_cascadeBl'+'end']!==_0x2ab4a5&&(this['_cascadeBl'+'end']=_0x2ab4a5,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x3d36bc){this['_shadowMap']!==_0x3d36bc&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x3d36bc);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x257e06){this['_mask']!==_0x257e06&&(this['_mask']=_0x257e06,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x3dda80=this['_type'];return _0x3dda80===oe?this['numCascade'+'s']:_0x3dda80===Pe?-0x1*0x2363+0x1*0x1b7+0x21b2:-0x1acd+-0xd79*0x1+0x2847;}set['type'](_0x331773){if(this['_type']===_0x331773)return;this['_type']=_0x331773,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x3dce4b=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x3dce4b;}get['type'](){return this['_type'];}set['shape'](_0x13750e){if(this['_shape']===_0x13750e)return;this['_shape']=_0x13750e,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x507e20=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x507e20;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x3520af){this['_usePhysic'+'alUnits']!==_0x3520af&&(this['_usePhysic'+'alUnits']=_0x3520af,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x1ec9ab){if(this['_shadowTyp'+'e']===_0x1ec9ab)return;const _0x13e715=this['device'];_0x1ec9ab===Ts&&!_0x13e715['textureFlo'+'atRenderab'+'le']&&!_0x13e715['textureHal'+'fFloatRend'+'erable']&&(_0x1ec9ab=Lt),this['_type']===Pe&&_0x1ec9ab!==Bh&&_0x1ec9ab!==Lt&&_0x1ec9ab!==Nh&&_0x1ec9ab!==zh&&_0x1ec9ab!==Ts&&(_0x1ec9ab=Lt),_0x1ec9ab===$r&&(!_0x13e715['textureFlo'+'atRenderab'+'le']||!_0x13e715['textureFlo'+'atFilterab'+'le'])&&(_0x1ec9ab=Hr),_0x1ec9ab===Hr&&!_0x13e715['textureHal'+'fFloatRend'+'erable']&&(_0x1ec9ab=Lt);const _0x24f898=ir['get'](_0x1ec9ab);this['_isVsm']=(_0x24f898==null?void(0x3b8+-0x4*0x57d+0x6*0x30a):_0x24f898['vsm'])??!(-0x4*-0x585+-0x75*-0x37+-0x2f36),this['_isPcf']=(_0x24f898==null?void(0x1*-0x7eb+0x1ef7+-0x170c):_0x24f898['pcf'])??!(-0x1428+-0x1*-0xcd5+0x754),this['_shadowTyp'+'e']=_0x1ec9ab,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x19a672){this['_enabled']!==_0x19a672&&(this['_enabled']=_0x19a672,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x59123f){this['_castShado'+'ws']!==_0x59123f&&(this['_castShado'+'ws']=_0x59123f,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==-0x59e+-0x2636+0x2bd4;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x33d85d){this['_shadowRes'+'olution']!==_0x33d85d&&(this['_type']===Pe?_0x33d85d=Math['min'](_0x33d85d,this['device']['maxCubeMap'+'Size']):_0x33d85d=Math['min'](_0x33d85d,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x33d85d,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x3d40a0){this['_vsmBlurSi'+'ze']!==_0x3d40a0&&(_0x3d40a0%(-0x1653+-0x445*-0x7+-0x78e)===-0xe03+-0xef*0x29+-0x1a25*-0x2&&_0x3d40a0++,this['_vsmBlurSi'+'ze']=_0x3d40a0);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x548aec){if(this['_normalOff'+'setBias']!==_0x548aec){const _0x44d644=!this['_normalOff'+'setBias']&&_0x548aec||this['_normalOff'+'setBias']&&!_0x548aec;this['_normalOff'+'setBias']=_0x548aec,_0x44d644&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x5ea0b8){this['_falloffMo'+'de']!==_0x5ea0b8&&(this['_falloffMo'+'de']=_0x5ea0b8,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x1f595c){this['_innerCone'+'Angle']!==_0x1f595c&&(this['_innerCone'+'Angle']=_0x1f595c,this['_innerCone'+'AngleCos']=Math['cos'](_0x1f595c*Math['PI']/(0x1233*0x2+-0x4*0x4ab+-0x883*0x2)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x388cb6){this['_outerCone'+'Angle']!==_0x388cb6&&(this['_outerCone'+'Angle']=_0x388cb6,this['_updateOut'+'erAngle'](_0x388cb6),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x5e04ee){this['_penumbraS'+'ize']=_0x5e04ee,this['_softShado'+'wParams'][-0xd0*0x3+-0x1*-0x697+0x1*-0x425]=_0x5e04ee;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x668a85){this['_softShado'+'wParams'][-0x26ef*-0x1+0x2696*-0x1+-0x2b*0x2]=_0x668a85;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x1b2c+-0xc26*-0x2+0x2e3];}['_updateOut'+'erAngle'](_0x113b47){const _0x3f4e13=_0x113b47*Math['PI']/(0x191d*0x1+-0x1106+0x763*-0x1);this['_outerCone'+'AngleCos']=Math['cos'](_0x3f4e13),this['_outerCone'+'AngleSin']=Math['sin'](_0x3f4e13);}set['intensity'](_0x108a2b){this['_intensity']!==_0x108a2b&&(this['_intensity']=_0x108a2b,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x31a9c7){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0x31a9c7,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x2fad4e){this['_luminance']!==_0x2fad4e&&(this['_luminance']=_0x2fad4e,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(0x1*0x251e+0x17aa+-0x3cc8,0x202*-0xd+0x22f9+-0x1*0x8df,0xe4e+0xa5*-0x3b+0xbdd*0x2,0x1*0x4a9+-0x26ba+0x2212)),this['_atlasView'+'port'];}set['cookie'](_0x261159){this['_cookie']!==_0x261159&&(this['_cookie']=_0x261159,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x2a1447){this['_cookieFal'+'loff']!==_0x2a1447&&(this['_cookieFal'+'loff']=_0x2a1447,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x3c8671){if(this['_cookieCha'+'nnel']!==_0x3c8671){if(_0x3c8671['length']<-0x24c+-0x1*0xfdd+0x122c){const _0x5b83a3=_0x3c8671['charAt'](_0x3c8671['length']-(0x4d1*0x8+-0x1cde+0x1*-0x9a9)),_0x2282ec=-0x9c*0x1c+0x17d*-0x5+-0x3*-0x82c-_0x3c8671['length'];for(let _0x443c4c=0x5*-0x450+0x2182*-0x1+0x3712;_0x443c4c<_0x2282ec;_0x443c4c++)_0x3c8671+=_0x5b83a3;}this['_cookieCha'+'nnel']=_0x3c8671,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x1f910c){this['_cookieTra'+'nsform']!==_0x1f910c&&(this['_cookieTra'+'nsform']=_0x1f910c,this['_cookieTra'+'nsformSet']=!!_0x1f910c,_0x1f910c&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new $(),this['_cookieOff'+'setSet']=!(-0x2531+0xf15+0x161d*0x1)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x1aa7d3){if(this['_cookieOff'+'set']===_0x1aa7d3)return;!!(this['_cookieTra'+'nsformSet']||_0x1aa7d3)&&!_0x1aa7d3&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x17*-0x14d+0x1*0x13da+-0x31c5,0x24e+0x1*-0xc5+-0x189):this['_cookieOff'+'set']=_0x1aa7d3,this['_cookieOff'+'setSet']=!!_0x1aa7d3,_0x1aa7d3&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(-0xe*0x1c3+0x3*0x7f1+0x9*0x18,0xf4e+0x3d*0x5c+0x2539*-0x1,0x35f*0x1+-0xf54+0xbf5,0xd4b+0x6b*0x4+-0xef7),this['_cookieTra'+'nsformSet']=!(-0x1de8+-0x9a2+-0x1*-0x278b)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=-0x713+-0x833+0x5*0x30e,this['atlasViewp'+'ortAllocat'+'ed']=!(-0xda5+0x29e+0xb08*0x1),this['atlasSlotU'+'pdated']=!(-0x3*-0x62b+-0x65*0x1+-0x1*0x121b);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0xc4b3d1=-0x2208+-0x14*-0xdc+0x10d8;_0xc4b3d1<this['shadowUpda'+'teOverride'+'s']['length'];_0xc4b3d1++)this['shadowUpda'+'teOverride'+'s'][_0xc4b3d1]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0xc4b3d1]=cn);}}['getRenderD'+'ata'](_0x46e85f,_0x241b3e){for(let _0x3a846d=0x5*-0x285+0xff0+0x11d*-0x3;_0x3a846d<this['_renderDat'+'a']['length'];_0x3a846d++){const _0x35d5bc=this['_renderDat'+'a'][_0x3a846d];if(_0x35d5bc['camera']===_0x46e85f&&_0x35d5bc['face']===_0x241b3e)return _0x35d5bc;}const _0x5550f5=new XM(_0x46e85f,_0x241b3e,this);return this['_renderDat'+'a']['push'](_0x5550f5),_0x5550f5;}['clone'](){const _0x3c8cc2=new zo(this['device'],this['clusteredL'+'ighting']);return _0x3c8cc2['type']=this['_type'],_0x3c8cc2['setColor'](this['_color']),_0x3c8cc2['intensity']=this['_intensity'],_0x3c8cc2['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x3c8cc2['luminance']=this['_luminance'],_0x3c8cc2['castShadow'+'s']=this['castShadow'+'s'],_0x3c8cc2['_enabled']=this['_enabled'],_0x3c8cc2['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x3c8cc2['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x3c8cc2['falloffMod'+'e']=this['_falloffMo'+'de'],_0x3c8cc2['shadowType']=this['_shadowTyp'+'e'],_0x3c8cc2['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x3c8cc2['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x3c8cc2['vsmBias']=this['vsmBias'],_0x3c8cc2['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x3c8cc2['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x3c8cc2['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x3c8cc2['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x3c8cc2['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x3c8cc2['numCascade'+'s']=this['numCascade'+'s'],_0x3c8cc2['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x3c8cc2['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x3c8cc2['shape']=this['_shape'],_0x3c8cc2['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x3c8cc2['shadowBias']=this['shadowBias'],_0x3c8cc2['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x3c8cc2['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x3c8cc2['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x3c8cc2['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x3c8cc2['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x3c8cc2['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x3c8cc2['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x3c8cc2['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x3c8cc2;}static['getLightUn'+'itConversi'+'on'](_0x19efc5,_0x40e8cc=Math['PI']/(0x10*0x71+-0x1967+0x125b),_0xbe5792=-0x24b3+0x1e44+-0x1b*-0x3d){switch(_0x19efc5){case Re:{const _0x356314=Math['cos'](_0x40e8cc),_0x5c6f40=Math['cos'](_0xbe5792);return(0x3*-0x1ea+-0x2d*0x25+-0x1*-0xc41)*Math['PI']*(0x390+0x1e32+-0x21c1-_0x5c6f40+(_0x5c6f40-_0x356314)/(-0x157d*0x1+-0x10f1*0x1+0x668*0x6));}case Pe:return(-0x23ac+-0x9*-0xf+0x2329)*Math['PI'];case oe:return 0x12e8+-0xcef+-0x5f8;}}['_getUnifor'+'mBiasValue'+'s'](_0x1120fe){const _0xbab8b0=_0x1120fe['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(0x1*0x1be5+0x34d+-0x2*0xf99+0.00001)*(0x1dcd+-0x1982+-0x437):ti['bias']=this['shadowBias']*(0x1*0x1352+-0x3e*0x20+-0xb7e),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x621+-0x8f4+0xf1c)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(0x176d+-0x665+-0x1108+0.00001)*(-0x1091*-0x1+0xec9+-0x1f46):ti['bias']=this['shadowBias']/_0xbab8b0*(0x7*-0x3b+0x1bd*-0x13+-0xec*-0x26),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0xbab8b0/(-0x2*0x1093+-0xdf3+0x2f20)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x2bac66){if(this['_type']===Re){const _0x524d37=this['attenuatio'+'nEnd'],_0x144ccb=this['_outerCone'+'Angle'],_0x8a178e=this['_outerCone'+'AngleCos'],_0x51aef1=this['_node'];kl['copy'](_0x51aef1['up']),_0x144ccb>-0x56c+0x160*-0x4+0xb19?(_0x2bac66['radius']=_0x524d37*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x524d37*_0x8a178e)):(_0x2bac66['radius']=_0x524d37/((-0xfba+-0x1b65+-0x2b21*-0x1)*_0x8a178e),kl['mulScalar'](-_0x2bac66['radius'])),_0x2bac66['center']['add2'](_0x51aef1['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x2bac66['center']=this['_node']['getPositio'+'n'](),_0x2bac66['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x19ab67){if(this['_type']===Re){const _0x374e20=this['attenuatio'+'nEnd'],_0x3fa8ff=this['_outerCone'+'Angle'],_0xac90ab=this['_node'],_0x4600a1=Math['abs'](Math['sin'](_0x3fa8ff*N['DEG_TO_RAD'])*_0x374e20);_0x19ab67['center']['set'](0x251*-0x8+0x196*-0x6+0x1c0c,-_0x374e20*(-0x14dc+0x89*-0x37+0x324b+0.5),-0x243+-0x956+0xb99),_0x19ab67['halfExtent'+'s']['set'](_0x4600a1,_0x374e20*(-0x226b+-0x1f0f+-0x121*-0x3a+0.5),_0x4600a1),_0x19ab67['setFromTra'+'nsformedAa'+'bb'](_0x19ab67,_0xac90ab['getWorldTr'+'ansform'](),!(-0x1af3*-0x1+0x65*-0x4+0x875*-0x3));}else this['_type']===Pe&&(_0x19ab67['center']['copy'](this['_node']['getPositio'+'n']()),_0x19ab67['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x28d*-0x2+0x16f+-0x139*-0x3,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x25cd*-0x1+-0x47*-0x6b+0x208*0x4;else{const _0xe0ab32=this['shadowBias']*-(-0x2132+-0xb*0x2d7+0x1*0x4457);this['shadowDept'+'hState']['depthBias']=_0xe0ab32,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0xe0ab32;}}['_updateLin'+'earColor'](){let _0xffb18f=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0xffb18f=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x3c29bf=this['_color'],_0x118e5d=this['_colorLine'+'ar'];_0xffb18f>=0xa23+-0x3bf+-0x3*0x221?Ya['linear'](_0x3c29bf)['mulScalar'](_0xffb18f):Ya['copy'](_0x3c29bf)['mulScalar'](_0xffb18f)['linear'](),_0x118e5d[-0x1a85+0xce*0xf+0xe73]=Ya['r'],_0x118e5d[-0x1*0x16d7+0x2193+-0xabb]=Ya['g'],_0x118e5d[0xaed*0x3+-0x15b*-0x19+0xc*-0x58e]=Ya['b'];}['setColor'](){arguments['length']===-0x3*-0x67a+0x16*-0x29+0xfe7*-0x1?this['_color']['set'](arguments[0x794+-0x36*-0x8a+-0x24b0]['r'],arguments[-0x1*0x1993+-0x79f*-0x4+-0x4e9]['g'],arguments[0x1*-0x1391+-0x2*0xd8b+0x2ea7*0x1]['b']):arguments['length']===0x3b*0x10+-0x1b7e+0x17d1&&this['_color']['set'](arguments[0x17ff*0x1+-0xe18+-0x9e7],arguments[0x220c+0xe87+0x1849*-0x2],arguments[0x1*0x1ae3+-0x1467+-0x67a]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x1a9f5e=>{_0x1a9f5e['hasLight'](this)&&_0x1a9f5e['markLights'+'Dirty']();});}['updateKey'](){let _0x5e5e2a=this['_type']<<0x195b+-0x8bf*0x1+-0x107f|this['_shadowTyp'+'e']<<-0x220a+-0x5*0xc1+0x25e8|this['_falloffMo'+'de']<<-0x1f79+0x1328+0xc68|(this['_normalOff'+'setBias']!==0x1d4c+0x15fe+-0x334a?0x24d9+-0x828*-0x3+-0x3d50:-0x1*0xad1+-0x24ad+-0x17bf*-0x2)<<-0x25e5+0x21f4+0x407|(this['_cookie']?-0x18ce+0x913+-0x4c*-0x35:-0x10a4+-0xe75*-0x1+0x22f)<<0x1073*0x2+-0x322*-0x5+-0x307b|(this['_cookieFal'+'loff']?-0x11a1*-0x1+-0x63e*-0x1+-0x17de:0x2*-0x1205+-0x248*0x1+0x2652)<<-0x1583+-0x22c8+0x385f*0x1|Ud[this['_cookieCha'+'nnel']['charAt'](-0x492*0x5+0x1c1a+-0x540)]<<0x1b0c+-0xa*-0x2dd+-0x379c|(this['_cookieTra'+'nsform']?-0x1*-0x6a3+0xa7*0x18+-0x164a:-0x26cb*0x1+-0x305+0x29d0)<<0x5*0x143+-0x19bc+-0x1*-0x1379|this['_shape']<<-0x19f*0x10+0x1*-0x64f+0x2049|(this['numCascade'+'s']>-0x5ae+-0x1*0xb5+0x3*0x221?0x1aef+-0x1*0x37c+-0x1*0x1772:0x31c+-0x17a0+0x1484)<<-0xd2b*-0x2+-0x7da*0x1+0x1273*-0x1|(this['_cascadeBl'+'end']>-0x2313+0x1286+-0x1*-0x108d?-0x14ad*-0x1+0xc33*-0x1+-0x879:-0x2*-0xf59+-0x74c*0x1+-0x1766)<<-0x253c+-0x20bd+0x4601|(this['affectSpec'+'ularity']?-0x2c3*0x2+0x1a+-0x1*-0x56d:0xd*-0x1a7+-0x94a+-0x1*-0x1ec5)<<0x120c+-0x43*-0x95+-0x3904|this['mask']<<0x24e5+-0xf1*-0x29+-0x2a*0x1cc|(this['_castShado'+'ws']?-0x365+0x1595+-0x122f:-0x585+0x2*0x12e9+0x1*-0x204d)<<0x1133+-0x7bb+-0x975;this['_cookieCha'+'nnel']['length']===0xb53*0x1+-0x1d36+0x1*0x11e6&&(_0x5e5e2a|=Ud[this['_cookieCha'+'nnel']['charAt'](-0x1*-0x7e4+-0xf4*-0x1f+-0x25*0x103)]<<-0x7*0x49c+-0x1c47+0x1*0x3c9b,_0x5e5e2a|=Ud[this['_cookieCha'+'nnel']['charAt'](0xe5b*0x2+-0x175*0xd+0x3*-0x341)]<<0xf53+0x2d5*-0x5+-0x2*0x8e),_0x5e5e2a!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x5e5e2a;}}class L0{constructor(_0x4d0b2e,_0x525dc4,_0x3b53d7){c(this,'_areaLight'+'sEnabled',!(0x1517+-0x7*-0x28d+0x26f1*-0x1)),c(this,'_cells',new T(0x729+0x1aff*0x1+-0x221e,0x69d*0x4+-0x1*-0x1255+-0x2cc6,-0x857+-0x3*-0x519+-0x6ea)),c(this,'_maxLights'+'PerCell',-0x5*0x1e2+0x545+0x524),c(this,'_shadowsEn'+'abled',!(-0xd8c+-0xeb+0xe77*0x1)),c(this,'_shadowTyp'+'e',Lt),c(this,'_shadowAtl'+'asResoluti'+'on',-0x25*0xa7+0xec2+0x1161),c(this,'_cookiesEn'+'abled',!(0x2566+-0x2294+-0x67*0x7)),c(this,'_cookieAtl'+'asResoluti'+'on',-0x1*-0x1bd6+0x84d+0x7*-0x405),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x4d0b2e,this['_maxTextur'+'eSize']=_0x525dc4,this['_dirtyLigh'+'tsFnc']=_0x3b53d7);}['applySetti'+'ngs'](_0x516ad3){this['shadowsEna'+'bled']=_0x516ad3['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x516ad3['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x516ad3['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x516ad3['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x516ad3['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x516ad3['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x516ad3['lightingSh'+'adowType']??this['shadowType'],_0x516ad3['lightingCe'+'lls']&&(this['cell']=new T(_0x516ad3['lightingCe'+'lls']));}set['cells'](_0x67fb00){this['_cells']['copy'](_0x67fb00);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0xf773a9){this['_maxLights'+'PerCell']=N['clamp'](_0xf773a9,-0x1*0x145b+0x13dc*0x1+0x80,0x1*0x913+0xd9*-0x3+0x589*-0x1);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x3d8050){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x3d8050,-0x1f7f+-0x2463+0x2*0x2201,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x5856d1){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x5856d1,0x21f8+0x1*-0x13a6+-0xe32,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x20c99f){this['_shadowTyp'+'e']!==_0x20c99f&&(this['_shadowTyp'+'e']=_0x20c99f,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x4a4376){this['_cookiesEn'+'abled']!==_0x4a4376&&(this['_cookiesEn'+'abled']=_0x4a4376,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x4b50ed){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x4b50ed&&(this['_areaLight'+'sEnabled']=_0x4b50ed,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x49467d){this['_shadowsEn'+'abled']!==_0x49467d&&(this['_shadowsEn'+'abled']=_0x49467d,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(-0xc*0x285+-0xc9+0x1f05),Ft,at,at);class fn{constructor(_0x480f27){c(this,'shaderCach'+'e',[]),(this['morph']=_0x480f27,_0x480f27['incRefCoun'+'t'](),this['device']=_0x480f27['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x1d9e62=-0xf77+0x26*0x3f+0x61d;_0x1d9e62<_0x480f27['_targets']['length'];_0x1d9e62++){const _0x904f2f=_0x480f27['_targets'][_0x1d9e62];_0x904f2f['name']&&this['_weightMap']['set'](_0x904f2f['name'],_0x1d9e62),this['setWeight'](_0x1d9e62,_0x904f2f['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x420770=(_0x41dca3,_0x12e18b)=>(this[_0x12e18b]=_0x480f27['_createTex'+'ture'](_0x41dca3,_0x480f27['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x12e18b],'depth':!(0xb7e*0x3+0xc64+-0x2edd)}));_0x480f27['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x420770('MorphRTPos','texturePos'+'itions')),_0x480f27['morphNorma'+'ls']&&(this['rtNormals']=_0x420770('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x480f27['morphTextu'+'reWidth'],_0x480f27['morphTextu'+'reHeight']]);const _0x5329b0=_0x480f27['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x5329b0['x']*(0x1*0x1b65+0xdeb+0x371*-0xc),_0x5329b0['y']*(0x3*0x17f+0xa*0x383+-0x2797),_0x5329b0['z']*(-0x86*-0x1d+-0x175*-0x7+-0x195d)]);const _0x4c9137=_0x480f27['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x4c9137['x']*(-0x4*-0x36e+0x19c2+0x13bc*-0x2),_0x4c9137['y']*(0x2*0x234+-0x2*-0x7e6+-0x1432),_0x4c9137['z']*(-0x2176*0x1+0x1e92+-0x7*-0x6a)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x1db9*-0x1+0xb3*0x2f+-0x322,-0x4df*-0x1+0x3*-0xc51+0x2016,0x14b1*0x1+0x15ae+-0x2a5d]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x18c1+-0x562*-0x2+0x2*0x6ff),-(0x1*0x7be+-0x8f3+0x136),-(0xb52+0x1*-0xeb4+0x3*0x121)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0xaf7489=0x1*-0x805+0xcc9*0x1+0xf4*-0x5;_0xaf7489<this['maxSubmitC'+'ount'];_0xaf7489++)this['morphBlend'+'Tex'+_0xaf7489]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0xaf7489);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(-0x42*0x1+-0xd22+0xd65);}['destroy'](){this['shader']=null;const _0x4fc004=this['morph'];_0x4fc004&&(this['morph']=null,_0x4fc004['decRefCoun'+'t'](),_0x4fc004['refCount']<0x5*0x71a+-0x1ec4+-0x4bd&&_0x4fc004['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x3cb946){if(typeof _0x3cb946=='string'){const _0x5bc3f8=this['_weightMap']['get'](_0x3cb946);return _0x5bc3f8===void(-0x10d9+0x1ea3+-0xdca)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x3cb946+'.'),_0x5bc3f8;}return _0x3cb946;}['getWeight'](_0x23ad42){const _0x5c3008=this['_getWeight'+'Index'](_0x23ad42);return this['_weights'][_0x5c3008];}['setWeight'](_0x4d7c22,_0x38bec4){const _0x5529ec=this['_getWeight'+'Index'](_0x4d7c22);v['assert'](_0x5529ec>=-0x457*-0x6+-0x1*-0x2182+0x4*-0xee3&&_0x5529ec<this['morph']['_targets']['length']),this['_weights'][_0x5529ec]=_0x38bec4,this['_dirty']=!(0x148c+0x43*-0x7f+0x9*0x169);}['_getFragme'+'ntShader'](_0x565d92){let _0x43bd04='',_0x27d904='';for(let _0x2cd65c=-0x17a6+0x1ab*0xf+-0x15f;_0x2cd65c<_0x565d92;_0x2cd65c++)_0x43bd04+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x2cd65c+';',_0x27d904+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x2cd65c+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x2cd65c+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x565d92>-0x2b*0x84+0x112d+0x4ff?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x565d92+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x43bd04+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x27d904+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x365f6c){let _0x26eab=this['shaderCach'+'e'][_0x365f6c];if(!_0x26eab){const _0x27c673=this['_getFragme'+'ntShader'](_0x365f6c),_0xe54bae=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x26eab=Is(this['device'],jM,_0x27c673,'textureMor'+'ph'+_0x365f6c,void(-0x1*0x203+0x1c48+0x5*-0x541),{'fragmentOutputTypes':[_0xe54bae]}),this['shaderCach'+'e'][_0x365f6c]=_0x26eab;}return _0x26eab;}['_updateTex'+'tureRender'+'Target'](_0x1d9678,_0x58f4dc,_0x5bae98){const _0x20164f=this['device'],_0x342b80=(_0x53d108,_0x48e5e8)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x20164f['setBlendSt'+'ate'](_0x48e5e8?YM:_t['NOBLEND']);const _0x29de51=this['_getShader'](_0x53d108);dn(_0x20164f,_0x1d9678,_0x29de51);};this['setAabbUni'+'forms'](_0x5bae98);let _0x812a18=-0xea3*-0x1+-0x257d+0x16da,_0x5994a6=!(-0x24ad+-0x5*-0x395+-0x1f*-0x9b);const _0x1ff461=this['_activeTar'+'gets']['length'];for(let _0x5a7788=-0x410*0x2+-0x21e8*-0x1+-0x19c8;_0x5a7788<_0x1ff461;_0x5a7788++){const _0x293609=this['_activeTar'+'gets'][_0x5a7788],_0x3e3329=_0x293609['target'][_0x58f4dc];_0x3e3329&&(this['morphBlend'+'Tex'+_0x812a18]['setValue'](_0x3e3329),this['_shaderMor'+'phWeights'][_0x812a18]=_0x293609['weight'],_0x812a18++,_0x812a18>=this['maxSubmitC'+'ount']&&(_0x342b80(_0x812a18,_0x5994a6),_0x812a18=-0x56a+0x353*-0x4+0x12b6,_0x5994a6=!(0x228d+-0x44b+-0x1e42)));}(_0x812a18>-0x13eb+-0x2f*-0x89+-0x53c||_0x1ff461===0x1e87+0x2551+-0x43d8&&!this['zeroTextur'+'es'])&&_0x342b80(_0x812a18,_0x5994a6);}['_updateTex'+'tureMorph'](){const _0x342333=this['device'];G['pushGpuMar'+'ker'](_0x342333,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>-0x23c2+0x1*-0x1d39+0x40fb||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(-0x2c*-0x79+-0x3*-0x61f+-0x191*0x19)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(-0x18f8+-0x10a8+-0x29a1*-0x1)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===0x147+0xa*-0x266+0x16b5),G['popGpuMark'+'er'](_0x342333);}['setAabbUni'+'forms'](_0x3b0833=!(-0x4f4*-0x4+0x8b1+-0x1c81)){this['aabbSizeId']['setValue'](_0x3b0833?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x3b0833?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0xe68a1b){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x88+0x1e7b+-0x1df2);const _0x55e012=this['morph']['_targets'];let _0x58961d=-0x6d7*-0x1+-0x856*-0x1+0x3*-0x50f;const _0x38a374=0x4*-0x5de+-0x1*-0x24fb+0x481*-0x3+0.00001;for(let _0x52c9dd=-0x709+-0xff7*0x2+0x26f7;_0x52c9dd<_0x55e012['length'];_0x52c9dd++){const _0x1777ee=Math['abs'](this['getWeight'](_0x52c9dd));if(_0x1777ee>_0x38a374){this['_activeTar'+'gets']['length']<=_0x58961d&&(this['_activeTar'+'gets'][_0x58961d]={});const _0x2ff32=this['_activeTar'+'gets'][_0x58961d++];_0x2ff32['absWeight']=_0x1777ee,_0x2ff32['weight']=this['getWeight'](_0x52c9dd),_0x2ff32['target']=_0x55e012[_0x52c9dd];}}this['_activeTar'+'gets']['length']=_0x58961d,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x4ad22a,_0x37f699)=>_0x4ad22a['absWeight']<_0x37f699['absWeight']?0x147*0x3+-0x1*0xb23+0x74f:_0x37f699['absWeight']<_0x4ad22a['absWeight']?-(0xb23+0xf2*0x1+0x4*-0x305):0x10c2+0x1*0x817+-0x1*0x18d9),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x1187*0x2+0x890+0x1a7e,this['_immutable']=!(-0x1454*-0x1+0xd*0x172+-0x271d));}['getGraph'](){return this['graph'];}['setGraph'](_0x4114f1){this['graph']=_0x4114f1;}['getCameras'](){return this['cameras'];}['setCameras'](_0x303688){this['cameras']=_0x303688;}['getLights'](){return this['lights'];}['setLights'](_0x4734bf){this['lights']=_0x4734bf;}['getMateria'+'ls'](){const _0x3a4c0c=[];for(let _0x232137=-0x2e3*0x8+-0x204f*-0x1+-0x937;_0x232137<this['meshInstan'+'ces']['length'];_0x232137++){const _0x42aac6=this['meshInstan'+'ces'][_0x232137];_0x3a4c0c['indexOf'](_0x42aac6['material'])===-(0xe63+-0x16a9*-0x1+-0x250b)&&_0x3a4c0c['push'](_0x42aac6['material']);}return _0x3a4c0c;}['clone'](){const _0x4f2364=[],_0x13f6c8=[],_0x526c05=function(_0x2ed8a6){const _0x6f3014=_0x2ed8a6['clone']();_0x4f2364['push'](_0x2ed8a6),_0x13f6c8['push'](_0x6f3014);for(let _0x563fe9=-0xda*-0x1+-0x1*-0xd87+-0xe61;_0x563fe9<_0x2ed8a6['_children']['length'];_0x563fe9++)_0x6f3014['addChild'](_0x526c05(_0x2ed8a6['_children'][_0x563fe9]));return _0x6f3014;},_0x5a13b7=_0x526c05(this['graph']),_0x38dfb2=[],_0x2d2374=[],_0x2b52d1=[];for(let _0x5c66ed=0x1eaa+0x28*-0x75+-0x5*0x27a;_0x5c66ed<this['skinInstan'+'ces']['length'];_0x5c66ed++){const _0xd35d12=this['skinInstan'+'ces'][_0x5c66ed]['skin'],_0x7e465a=new nl(_0xd35d12),_0x4379ee=[];for(let _0x9dd3ee=-0x16+-0x152c+0x1542;_0x9dd3ee<_0xd35d12['boneNames']['length'];_0x9dd3ee++){const _0x182080=_0xd35d12['boneNames'][_0x9dd3ee],_0x2751fe=_0x5a13b7['findByName'](_0x182080);_0x4379ee['push'](_0x2751fe);}_0x7e465a['bones']=_0x4379ee,_0x2d2374['push'](_0x7e465a);}for(let _0x1c43b7=-0x313*-0x5+-0xed5+-0x8a;_0x1c43b7<this['morphInsta'+'nces']['length'];_0x1c43b7++){const _0x77c407=this['morphInsta'+'nces'][_0x1c43b7]['morph'],_0x1b039a=new fn(_0x77c407);_0x2b52d1['push'](_0x1b039a);}for(let _0x392eab=-0x234a+-0x1*0x2317+0x4661;_0x392eab<this['meshInstan'+'ces']['length'];_0x392eab++){const _0x589ee0=this['meshInstan'+'ces'][_0x392eab],_0x2a9131=_0x4f2364['indexOf'](_0x589ee0['node']),_0x311d68=new Le(_0x589ee0['mesh'],_0x589ee0['material'],_0x13f6c8[_0x2a9131]);if(_0x589ee0['skinInstan'+'ce']){const _0x15f09f=this['skinInstan'+'ces']['indexOf'](_0x589ee0['skinInstan'+'ce']);_0x311d68['skinInstan'+'ce']=_0x2d2374[_0x15f09f];}if(_0x589ee0['morphInsta'+'nce']){const _0x3c5f28=this['morphInsta'+'nces']['indexOf'](_0x589ee0['morphInsta'+'nce']);_0x311d68['morphInsta'+'nce']=_0x2b52d1[_0x3c5f28];}_0x38dfb2['push'](_0x311d68);}const _0xb3c56b=new Oi();return _0xb3c56b['graph']=_0x5a13b7,_0xb3c56b['meshInstan'+'ces']=_0x38dfb2,_0xb3c56b['skinInstan'+'ces']=_0x2d2374,_0xb3c56b['morphInsta'+'nces']=_0x2b52d1,_0xb3c56b['getGraph']()['syncHierar'+'chy'](),_0xb3c56b;}['destroy'](){const _0x22d2d2=this['meshInstan'+'ces'];for(let _0x3b7510=0x24fb*0x1+-0x2*-0x758+-0x3*0x1139;_0x3b7510<_0x22d2d2['length'];_0x3b7510++)_0x22d2d2[_0x3b7510]['destroy']();this['meshInstan'+'ces']['length']=-0xcb0+-0x1c04+-0x14*-0x209;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x3bf3ec,_0x3786d6,{preferHighPrecision:_0x1c9afe=!(0x1f31*0x1+0x183a+-0x29*0x15a)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x3786d6,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x3786d6,this['preferHigh'+'Precision']=_0x1c9afe,v['assert'](_0x3bf3ec['every'](_0xfea4d6=>!_0xfea4d6['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x3bf3ec['slice']());const _0x41fd51=this['device'],_0x5558da=_0x41fd51['textureHal'+'fFloatRend'+'erable']?Je:void(0x14a2+-0x23d5+-0x511*-0x3),_0x27a712=_0x41fd51['textureFlo'+'atRenderab'+'le']?Ke:void(0x22ff*0x1+0x1*-0x1731+-0x5e7*0x2);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x27a712??_0x5558da:_0x5558da??_0x27a712,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x1f9f53=new T(),_0x1a2329=new T();for(let _0x7717aa=0x1b*-0x78+-0x1ba1+0x2849;_0x7717aa<this['_targets']['length'];_0x7717aa++){const _0x1be639=this['_targets'][_0x7717aa]['aabb'];_0x1f9f53['min'](_0x1be639['getMin']()),_0x1a2329['max'](_0x1be639['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x1f9f53,_0x1a2329);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x2cd070=0x10*0x9d+0xf45*0x2+-0x285a;_0x2cd070<this['_targets']['length'];_0x2cd070++)this['_targets'][_0x2cd070]['_postInit']();}['_findSpars'+'eSet'](_0x3cf7f3,_0x20c36e,_0x43fc0a){let _0x261b81=0x4a7*-0x3+0x5*-0x799+0x33f3;const _0x4c9906=_0x3cf7f3[-0x2*-0xc4f+-0xf01+-0x99d]['length'];for(let _0x56c3ac=0x3*-0x5c+0x24*0xb8+-0x18cc;_0x56c3ac<_0x4c9906;_0x56c3ac+=-0x198a+0x1922+0x6b){let _0x401855=!(0x795+-0x2498+0x1d04);for(let _0x27e5f6=-0x13*0x1c9+-0x1af8+-0xb*-0x589;_0x27e5f6<_0x3cf7f3['length'];_0x27e5f6++){const _0x33a423=_0x3cf7f3[_0x27e5f6];if(_0x33a423[_0x56c3ac]!==0x2507*-0x1+-0xc89*0x2+0x14b3*0x3||_0x33a423[_0x56c3ac+(-0x2696+-0x31*-0x91+-0x49*-0x26)]!==0x11ed+-0xdb4*-0x2+-0x2d55||_0x33a423[_0x56c3ac+(-0x5*-0x50b+0x1bbd+-0x34f2)]!==-0x1887+-0x277*-0x3+0x1122){_0x401855=!(-0xbd3*0x1+-0x660+-0x3*-0x611);break;}}_0x401855?(_0x20c36e['push'](_0x261b81),_0x43fc0a['push'](_0x56c3ac/(0x104a+0x2*0x506+-0x1a53)),_0x261b81++):_0x20c36e['push'](-0x24e1+-0x22b9+-0x5*-0xe52);}return _0x261b81;}['_initTextu'+'reBased'](){const _0x3527e6=[],_0x2ec6e1=[];for(let _0x353cc4=0x18e1*0x1+0x267+-0x1b48;_0x353cc4<this['_targets']['length'];_0x353cc4++){const _0x43e315=this['_targets'][_0x353cc4];_0x43e315['options']['deltaPosit'+'ions']&&(_0x3527e6['push'](_0x43e315['options']['deltaPosit'+'ions']),_0x2ec6e1['push']({'target':_0x43e315,'name':'texturePos'+'itions'})),_0x43e315['options']['deltaNorma'+'ls']&&(_0x3527e6['push'](_0x43e315['options']['deltaNorma'+'ls']),_0x2ec6e1['push']({'target':_0x43e315,'name':'textureNor'+'mals'}));}const _0x5f4f5f=[],_0x5e4e95=[],_0x2154dd=this['_findSpars'+'eSet'](_0x3527e6,_0x5f4f5f,_0x5e4e95),_0x21210c=this['device']['maxTexture'+'Size'];let _0x27a98d=Math['ceil'](Math['sqrt'](_0x2154dd));_0x27a98d=Math['min'](_0x27a98d,_0x21210c);const _0x1a1144=Math['ceil'](_0x2154dd/_0x27a98d);if(_0x1a1144>_0x21210c)return!(-0x1c01+-0x5*0x146+0x2260);this['morphTextu'+'reWidth']=_0x27a98d,this['morphTextu'+'reHeight']=_0x1a1144;let _0x20d891=!(-0x112f+0xab9+-0x14b*-0x5),_0x4c362f=0x1f*0x2f+-0x8ac+-0x2fe*-0x1;const _0x5e3f1a=$t['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x20d891=!(-0x1cb4+0x88*-0x10+0x2*0x129a),_0x4c362f=0xf31*0x2+0xe57+-0x6d*0x69);const _0x1750b1=[];for(let _0x2bede0=0xaa6+-0x1*0xcf7+0x1*0x251;_0x2bede0<_0x3527e6['length'];_0x2bede0++)_0x1750b1['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x1d4e97=-0x1a8c+-0x26aa*0x1+-0x1*-0x4136;_0x1d4e97<_0x3527e6['length'];_0x1d4e97++){const _0x119787=_0x3527e6[_0x1d4e97],_0x340e2d=_0x1750b1[_0x1d4e97],_0x2960ab=_0x340e2d['lock']();if(_0x20d891)for(let _0x81ba1c=-0x8cc*0x1+0x18c1*0x1+-0xff5;_0x81ba1c<_0x5e4e95['length'];_0x81ba1c++){const _0x5c05b0=_0x5e4e95[_0x81ba1c]*(0x10*-0x20+0x7ae*-0x4+0x7*0x4ad),_0x5e3a41=_0x81ba1c*_0x4c362f+_0x4c362f;_0x2960ab[_0x5e3a41]=_0x5e3f1a(_0x119787[_0x5c05b0]),_0x2960ab[_0x5e3a41+(-0x17dd+-0x1cdf+0x34bd*0x1)]=_0x5e3f1a(_0x119787[_0x5c05b0+(0x1*-0xd11+0xc9e+0x1d*0x4)]),_0x2960ab[_0x5e3a41+(-0x1112+0xdf*-0x13+0x1*0x21a1)]=_0x5e3f1a(_0x119787[_0x5c05b0+(-0x13*0x12b+-0x5e*-0x68+-0xffd)]);}else for(let _0x119412=0x128d+0x1*0x1dc9+-0x3056;_0x119412<_0x5e4e95['length'];_0x119412++){const _0x1c87e1=_0x5e4e95[_0x119412]*(0xe10+-0xe1f+0x12),_0x2d8aa1=_0x119412*_0x4c362f+_0x4c362f;_0x2960ab[_0x2d8aa1]=_0x119787[_0x1c87e1],_0x2960ab[_0x2d8aa1+(-0x2296+-0x7d2+-0x60f*-0x7)]=_0x119787[_0x1c87e1+(-0xb83+0x1dc+0x19c*0x6)],_0x2960ab[_0x2d8aa1+(0x3*0x7bb+0x1d5d+0x1a46*-0x2)]=_0x119787[_0x1c87e1+(-0xa1c*-0x1+-0x1*-0x107a+0x15*-0x144)];}_0x340e2d['unlock'](),_0x2ec6e1[_0x1d4e97]['target']['_setTextur'+'e'](_0x2ec6e1[_0x1d4e97]['name'],_0x340e2d);}const _0x29fa2b=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(0x892*-0x1+-0x42f+0xcc1)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x29fa2b,_0x5f4f5f['length']),_0x5f4f5f['length'],{'data':new Uint32Array(_0x5f4f5f)}),!(0xc*0x146+-0x1bd3*-0x1+-0x2b1b);}['destroy'](){var _0xd8b5c2;(_0xd8b5c2=this['vertexBuff'+'erIds'])==null||_0xd8b5c2['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x34dec5=-0x2116+-0x1*-0x1aab+0x66b;_0x34dec5<this['_targets']['length'];_0x34dec5++)this['_targets'][_0x34dec5]['destroy']();this['_targets']['length']=-0x111*0x7+0x1a9c+-0x1325;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x130c+-0xad2*-0x3+-0x1*0x3381),this['_morphNorm'+'als']=!(0x811+-0x5*-0xe2+-0xc7a);for(let _0x40afef=-0x226d*0x1+-0x251*0x10+0x477d;_0x40afef<this['_targets']['length'];_0x40afef++){const _0x245113=this['_targets'][_0x40afef];_0x245113['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(0x1*-0x19d3+0x2*0x7cc+0xa3b)),_0x245113['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x47*0x59+0x48e+-0x1d3d));}}['_createTex'+'ture'](_0x112fac,_0x452f5a){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x452f5a,'cubemap':!(-0x8c2*-0x1+0x1fd+0x226*-0x5),'mipmaps':!(0x1ed+-0x2379*-0x1+-0x2565),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x112fac});}}class Qc{constructor(_0x181100){c(this,'used',!(-0x2178+-0x1618+0x239*0x19)),(v['assert'](arguments['length']===0xa1*-0x2+0x14*-0x181+0x1f57),this['options']=_0x181100,this['_name']=_0x181100['name'],this['_defaultWe'+'ight']=_0x181100['defaultWei'+'ght']||0x161e+-0x1881+-0xd*-0x2f,this['_aabb']=_0x181100['aabb'],this['deltaPosit'+'ions']=_0x181100['deltaPosit'+'ions']);}['destroy'](){var _0x55ece2,_0x14dd66;(_0x55ece2=this['texturePos'+'itions'])==null||_0x55ece2['destroy'](),this['texturePos'+'itions']=null,(_0x14dd66=this['textureNor'+'mals'])==null||_0x14dd66['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x1659+-0x2311+0xcb8);}['_setTextur'+'e'](_0x2f1e32,_0x2908ef){this[_0x2f1e32]=_0x2908ef;}}let si,v_=0x1*0x718+-0x1357*0x1+0x62*0x20;const ie=0x21b1+-0x1c1d*0x1+-0x590,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),zt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x27ff96){return _0x27ff96-Math['floor'](_0x27ff96);}function KM(_0x44f0b3){return Math['max'](Math['min'](_0x44f0b3,0x672+-0x1747+0x10d6),0xfb6*-0x2+0x10fc+0xe70);}function Hd(_0x2ea9e2,_0x194e0b){return _0x2ea9e2-_0x194e0b*Math['floor'](_0x2ea9e2/_0x194e0b);}function ZM(_0x1fa616){let _0x48aa77=ia(_0x1fa616),_0x4cafc6=ia((-0x140e+-0x616+0x1b23)*_0x1fa616),_0x5ec3ad=ia((-0x1*-0x126+0x35dd*0x2+-0x2bd*-0x35)*_0x1fa616),_0x319ba5=ia((0x10f27eed+-0x31908c7+-0x4472f27)*_0x1fa616);return _0x48aa77-=_0x4cafc6/(0x2*0x18b+0x2fa*-0x9+0x18b3*0x1),_0x4cafc6-=_0x5ec3ad/(0x6*-0x1aa+0xb44+-0x49),_0x5ec3ad-=_0x319ba5/(0x2f*-0xa7+-0x23b6+0x435e*0x1),_0x319ba5-=_0x319ba5/(0x1e9*-0xf+0x1e30+0x1*-0x8a),[_0x48aa77,_0x4cafc6,_0x5ec3ad,_0x319ba5];}function Nl(_0x3ba09b){let _0x5fc180=ia(_0x3ba09b),_0xe7ef56=ia((0x1*-0x1c2b+-0xe96*-0x1+0xe94)*_0x3ba09b);return _0x5fc180-=_0xe7ef56/(-0x1206+-0x2a5*-0x1+0x10*0x106),_0xe7ef56-=_0xe7ef56/(-0x1d6*-0x6+-0x1be7+0x11e2),[_0x5fc180,_0xe7ef56];}class QM{constructor(_0x52cd8a){this['_emitter']=_0x52cd8a;}['calcSpawnP'+'osition'](_0x46611d,_0x2a3b99,_0x17df3a,_0x2a27c4,_0x561c0c){const _0xc9c52f=this['_emitter'],_0x1936cb=Math['random'](),_0x1a27d8=Math['random'](),_0x523b2a=Math['random'](),_0x550081=Math['random']();if(_0xc9c52f['useCpu']&&(_0x46611d[_0x561c0c*ie+(0x266*-0xd+0x2126+0x12*-0x1c)+_0xc9c52f['numParticl'+'esPot']*(-0x1*-0x1091+0x1b67+-0x14b*0x22)*ie]=_0x1936cb,_0x46611d[_0x561c0c*ie+(-0x357+0x1f37+-0x1bdf)+_0xc9c52f['numParticl'+'esPot']*(-0x5c9*0x1+0x202d*-0x1+0x25f8)*ie]=_0x1a27d8,_0x46611d[_0x561c0c*ie+(0x247a+0x1b4a+-0x3fc2)+_0xc9c52f['numParticl'+'esPot']*(0xad9*0x3+-0xd8+0x1*-0x1fb1)*ie]=_0x523b2a),ze['x']=_0x1936cb-(-0x203e+0x1021*0x1+0x101d+0.5),ze['y']=_0x1a27d8-(0x10cb+-0x11*0x8b+-0x790+0.5),ze['z']=_0x523b2a-(-0x1*0x44f+-0x1*0x937+0xd86+0.5),_0xc9c52f['emitterSha'+'pe']===Vs){const _0x16b084=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x358db7=_0x16b084+(0x2cd*-0xd+-0x262*0xd+0xd*0x52f+0.5-_0x16b084)*_0x17df3a[-0x1c7a+-0xb58+0x27d2],_0x3db6fa=_0x16b084+(0x1*0x567+-0x173d+-0x1*-0x11d6+0.5-_0x16b084)*_0x17df3a[-0xcfb*0x1+-0x1*0x1c77+0x83*0x51],_0x1ac255=_0x16b084+(0x150a+0x128b+-0x2795+0.5-_0x16b084)*_0x17df3a[-0x1*-0xef+0x22*-0x75+0x4df*0x3];ze['x']=_0x358db7*(_0x16b084===Math['abs'](ze['x'])?Math['sign'](ze['x']):(-0x1a30+0x1f16+-0x4e4)*ze['x']),ze['y']=_0x3db6fa*(_0x16b084===Math['abs'](ze['y'])?Math['sign'](ze['y']):(-0x840+-0x39+0x87b)*ze['y']),ze['z']=_0x1ac255*(_0x16b084===Math['abs'](ze['z'])?Math['sign'](ze['z']):(-0x42*0x4+-0x607+0x711)*ze['z']),_0xc9c52f['localSpace']?ks['copy'](_0x2a3b99['transformP'+'oint'](ze)):ks['copy'](_0x2a27c4)['add'](_0x2a3b99['transformP'+'oint'](ze));}else{ze['normalize']();const _0x2f07ed=_0xc9c52f['emitterRad'+'ius']===0x102e*-0x1+0x2056+0x814*-0x2?0x7*0xf1+-0x123e+-0x13*-0x9d:_0xc9c52f['emitterRad'+'iusInner']/_0xc9c52f['emitterRad'+'ius'],_0x44d249=_0x550081*(0x34d*0x5+0xd8b*-0x1+-0x2f5-_0x2f07ed)+_0x2f07ed;_0xc9c52f['localSpace']?ks['copy'](ze['mulScalar'](_0x44d249*_0xc9c52f['emitterRad'+'ius'])):ks['copy'](_0x2a27c4)['add'](ze['mulScalar'](_0x44d249*_0xc9c52f['emitterRad'+'ius']));}let _0x358010=-N['lerp'](_0xc9c52f['rate'],_0xc9c52f['rate2'],_0x1936cb)*_0x561c0c;if(_0xc9c52f['pack8']){const _0x271536=(ks['x']-_0xc9c52f['worldBound'+'s']['center']['x'])/_0xc9c52f['worldBound'+'sSize']['x']+(0xce+-0x29*0x41+0x99b+0.5),_0x4f8c52=(ks['y']-_0xc9c52f['worldBound'+'s']['center']['y'])/_0xc9c52f['worldBound'+'sSize']['y']+(-0x15f+-0x3*0x346+-0xbf*-0xf+0.5),_0x3c1186=(ks['z']-_0xc9c52f['worldBound'+'s']['center']['z'])/_0xc9c52f['worldBound'+'sSize']['z']+(0x1*0x175d+0x13a9+-0x2b06+0.5);let _0x5bb996=N['lerp'](_0xc9c52f['startAngle']*N['DEG_TO_RAD'],_0xc9c52f['startAngle'+'2']*N['DEG_TO_RAD'],_0x1936cb);_0x5bb996=_0x5bb996%(Math['PI']*(-0x2132*-0x1+-0x8f0+-0x10*0x184))/(Math['PI']*(-0x3d3+0x25a2*0x1+-0x21cd));const _0x44e86e=Nl(_0x271536);_0x46611d[_0x561c0c*ie]=_0x44e86e[0x268d+0x1ce2+-0x1*0x436f],_0x46611d[_0x561c0c*ie+(0xa88+-0x471+-0x616)]=_0x44e86e[0x5*0x51e+-0x1c41+-0x12*-0x26];const _0x3fc681=Nl(_0x4f8c52);_0x46611d[_0x561c0c*ie+(-0x21af+0x373*-0x5+0x32f0)]=_0x3fc681[0x1087*-0x2+0x2*-0x110f+0x6*0xb32],_0x46611d[_0x561c0c*ie+(-0x443*-0x2+0x1a56*-0x1+0x11d3)]=_0x3fc681[-0x2104+0xa9*-0x35+0x4402];const _0x3788c1=Nl(_0x3c1186);_0x46611d[_0x561c0c*ie+(0xa48*-0x1+-0x13c9+0x1e11)+_0xc9c52f['numParticl'+'esPot']*ie]=_0x3788c1[-0x1123*0x1+-0x1*-0x25f+0xec4],_0x46611d[_0x561c0c*ie+(-0x2*-0xfd5+-0x20+0xcf*-0x27)+_0xc9c52f['numParticl'+'esPot']*ie]=_0x3788c1[0x7f*0x35+0x1*-0x5e5+0xe3*-0x17];const _0x2ce510=Nl(_0x5bb996);_0x46611d[_0x561c0c*ie+(0x12c0+0x1*0x85+0x1*-0x1343)+_0xc9c52f['numParticl'+'esPot']*ie]=_0x2ce510[0x3*0x3b7+-0x351*0xb+0x1956],_0x46611d[_0x561c0c*ie+(-0x2ea+-0x6bb+0x9a8)+_0xc9c52f['numParticl'+'esPot']*ie]=_0x2ce510[0x1142*0x2+0xb2*0x29+-0x3f05];const _0x92829e=-0x1bdf+0x137*0x4+0x1704;_0x46611d[_0x561c0c*ie+(-0x1741*0x1+0x2*-0xdf+0x1902)+_0xc9c52f['numParticl'+'esPot']*ie*(-0x335*-0x1+0x1*0x1848+-0x1b7b)]=_0x92829e;const _0x364915=Math['max'](_0xc9c52f['lifetime'],(_0xc9c52f['numParticl'+'es']-(0x1*0x192a+0xc47*-0x2+-0x9b))*Math['max'](_0xc9c52f['rate'],_0xc9c52f['rate2'])),_0x445565=_0xc9c52f['lifetime']+(-0x1cd4+-0xd3*-0x1a+-0x767*-0x1);_0x358010=(_0x358010+_0x364915)/(_0x364915+_0x445565);const _0x37537b=ZM(_0x358010);_0x46611d[_0x561c0c*ie+(-0x87a+0x1*0x1078+0x21*-0x3e)+_0xc9c52f['numParticl'+'esPot']*ie*(-0x61*-0x64+-0x1caf*-0x1+-0x4290)]=_0x37537b[0x4de+-0x1c5*-0x3+-0xa2d],_0x46611d[_0x561c0c*ie+(0x3*-0xad5+0x953*0x3+0x487)+_0xc9c52f['numParticl'+'esPot']*ie*(0x2*-0x517+-0x1*-0x8ed+0x144)]=_0x37537b[0x3*-0xcb9+0x1*-0xf76+-0x5*-0xaba],_0x46611d[_0x561c0c*ie+(-0x19d4+0x61*-0x7+0x1c7d)+_0xc9c52f['numParticl'+'esPot']*ie*(0x2*0x1c1+0x2589+-0x2908)]=_0x37537b[0x987+0x17ca+-0x214f],_0x46611d[_0x561c0c*ie+(0x150e+-0x1de1+-0x6*-0x179)+_0xc9c52f['numParticl'+'esPot']*ie*(-0x1da0+-0x5*0x58a+-0x3955*-0x1)]=_0x37537b[0x1a36+0xb*-0x6b+0xe*-0x18b];}else _0x46611d[_0x561c0c*ie]=ks['x'],_0x46611d[_0x561c0c*ie+(0x14a4*-0x1+0x13e0+-0x1*-0xc5)]=ks['y'],_0x46611d[_0x561c0c*ie+(-0x7*0xa1+-0x15ad*0x1+0x1a16)]=ks['z'],_0x46611d[_0x561c0c*ie+(0x3*0x6ab+0x1ac2+-0x2ec0)]=N['lerp'](_0xc9c52f['startAngle']*N['DEG_TO_RAD'],_0xc9c52f['startAngle'+'2']*N['DEG_TO_RAD'],_0x1936cb),_0x46611d[_0x561c0c*ie+(-0xd55+-0x4a8+0x1200)+_0xc9c52f['numParticl'+'esPot']*ie]=_0x358010;}['update'](_0x1a3bb0,_0x342b4b,_0x1f9712,_0x9b7974,_0x5558bf,_0x5d064d,_0x18dae3,_0x3f5363){let _0x53cf6d,_0x43f80a,_0x46ea5d;const _0x2b0be0=this['_emitter'];if(_0x2b0be0['meshInstan'+'ce']['node']){const _0x5dd9f9=_0x2b0be0['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x3c5076=0xc+0x1569+-0x1575;_0x3c5076<-0x19c0+0x1032+0x99a;_0x3c5076++)Vd['data'][_0x3c5076]=_0x5dd9f9['data'][_0x3c5076];Gd['copy'](Vd),Gd['invert'](),si=_0x2b0be0['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0x5d064d=_0x2b0be0['meshInstan'+'ce']['node']===null||_0x2b0be0['localSpace']?T['ZERO']:_0x2b0be0['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x1bb40a=_0x2b0be0['camera']?_0x2b0be0['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x4c1ce6=_0x2b0be0['useMesh']?0x243*0x3+0x1*0x5a1+-0x6d*0x1d:0x26a8+0x1*-0x22b7+-0x3e2;let _0x8354ec,_0x4f7cff,_0x20d8fa,_0x2b9e01,_0x40f826,_0x5b8a3f,_0x3921b5,_0x13474f,_0x43a58f;const _0x15e4e7=_0x2b0be0['precision']-(0xb15*0x1+0x56*0x32+0x2*-0xdf0);for(let _0x2086b7=0x21b2+-0x1799+-0x1*0xa19;_0x2086b7<_0x2b0be0['numParticl'+'es'];_0x2086b7++){const _0x13bf8d=Math['floor'](_0x2b0be0['vbCPU'][_0x2086b7*_0x2b0be0['numParticl'+'eVerts']*(_0x2b0be0['useMesh']?0xec3+-0x1dfe+0xb*0x163:-0x217d*0x1+0x1*-0x1804+0x24d*0x19)+(-0x1dd*0x11+-0x4b3*-0x1+0x93*0x2f)]),_0x183c95=_0x1f9712[_0x13bf8d*ie+(-0x1e29+0x5*0x29+0x1d5c*0x1)+_0x2b0be0['numParticl'+'esPot']*(-0x1*0x1af9+-0x3e2+0x1edd)*ie];ps['x']=_0x183c95,ps['y']=_0x1f9712[_0x13bf8d*ie+(-0x20b1*-0x1+0x1*-0x22f3+-0x1*-0x243)+_0x2b0be0['numParticl'+'esPot']*(0xee5+-0xe8f*-0x1+-0x1d72)*ie],ps['z']=_0x1f9712[_0x13bf8d*ie+(0xb*0x245+-0x341+-0x15b4)+_0x2b0be0['numParticl'+'esPot']*(-0x4ae*0x6+0x39*-0xad+-0x429b*-0x1)*ie];const _0x4ff626=_0x2b0be0['rate']+(_0x2b0be0['rate2']-_0x2b0be0['rate'])*_0x183c95,_0x1d204d=_0x2b0be0['lifetime'];let _0x30153a=_0x1f9712[_0x13bf8d*ie+(0x137b*0x1+0x6*0x11c+-0x13*0x160)+_0x2b0be0['numParticl'+'esPot']*ie]+_0x18dae3;const _0x39a1ac=KM(_0x30153a/_0x1d204d);let _0x26138c=-0x2197*0x1+-0xc5f+0x2df6,_0x306f51=-0x3f5*-0x4+0xd6a+0x2*-0xe9f;const _0x451144=0x15de+0x7c5+-0x1da3;(_0x30153a-_0x18dae3<=0x2*0xdf+-0x11c6+0x1008||_0x30153a>=_0x1d204d)&&this['calcSpawnP'+'osition'](_0x1f9712,_0x9b7974,_0x5558bf,_0x5d064d,_0x13bf8d);let _0x33c130=_0x30153a>0x12bf*0x1+0x45*0x31+-0x1ff4&&_0x30153a<_0x1d204d;_0x33c130&&(_0x46ea5d=_0x39a1ac*_0x15e4e7,_0x8354ec=Math['floor'](_0x46ea5d),_0x4f7cff=Math['ceil'](_0x46ea5d),_0x46ea5d%=-0x3ae+-0x3de+-0x78d*-0x1,_0x53cf6d=_0x2b0be0['qRotSpeed'][_0x8354ec],_0x43f80a=_0x2b0be0['qRotSpeed'][_0x4f7cff],_0x20d8fa=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qRotSpeed2'][_0x8354ec],_0x43f80a=_0x2b0be0['qRotSpeed2'][_0x4f7cff],_0x2b9e01=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qScale'][_0x8354ec],_0x43f80a=_0x2b0be0['qScale'][_0x4f7cff],_0x26138c=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qScale2'][_0x8354ec],_0x43f80a=_0x2b0be0['qScale2'][_0x4f7cff],_0x40f826=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qAlpha'][_0x8354ec],_0x43f80a=_0x2b0be0['qAlpha'][_0x4f7cff],_0x5b8a3f=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qAlpha2'][_0x8354ec],_0x43f80a=_0x2b0be0['qAlpha2'][_0x4f7cff],_0x3921b5=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qRadialSpe'+'ed'][_0x8354ec],_0x43f80a=_0x2b0be0['qRadialSpe'+'ed'][_0x4f7cff],_0x13474f=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qRadialSpe'+'ed2'][_0x8354ec],_0x43f80a=_0x2b0be0['qRadialSpe'+'ed2'][_0x4f7cff],_0x43a58f=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x13474f+=(_0x43a58f-_0x13474f)*(_0x183c95*(-0x6*0x133+-0x1230+0x19c6)%(-0x25f1+0x22cc+0x326)),Rn['x']=_0x1f9712[_0x13bf8d*ie],Rn['y']=_0x1f9712[_0x13bf8d*ie+(-0x563+0xdab+-0x847)],Rn['z']=_0x1f9712[_0x13bf8d*ie+(0x1*-0x154c+-0x3*-0xa0f+0x2f5*-0x3)],_0x2b0be0['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0x5d064d),Ka['normalize']()['mulScalar'](_0x13474f),_0x8354ec*=0x11*0x137+-0x2e6+0x3*-0x5ea,_0x4f7cff*=-0x1144+-0x2*0x4a2+0x1a8b,_0x53cf6d=_0x2b0be0['qLocalVelo'+'city'][_0x8354ec],_0x43f80a=_0x2b0be0['qLocalVelo'+'city'][_0x4f7cff],Ze['x']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qLocalVelo'+'city'][_0x8354ec+(0x329*0x2+-0x48c*0x3+0x177*0x5)],_0x43f80a=_0x2b0be0['qLocalVelo'+'city'][_0x4f7cff+(-0x21d2+-0xf*0x15+0x230e)],Ze['y']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qLocalVelo'+'city'][_0x8354ec+(0x1381+-0x1bd4+0x855)],_0x43f80a=_0x2b0be0['qLocalVelo'+'city'][_0x4f7cff+(0x1cf2+-0x6ba+-0x1636)],Ze['z']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qLocalVelo'+'city2'][_0x8354ec],_0x43f80a=_0x2b0be0['qLocalVelo'+'city2'][_0x4f7cff],Dn['x']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qLocalVelo'+'city2'][_0x8354ec+(-0x138+0x1b68+-0x1*0x1a2f)],_0x43f80a=_0x2b0be0['qLocalVelo'+'city2'][_0x4f7cff+(-0xadc+0x94+0xa49)],Dn['y']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qLocalVelo'+'city2'][_0x8354ec+(-0x676+0x567+-0x27*-0x7)],_0x43f80a=_0x2b0be0['qLocalVelo'+'city2'][_0x4f7cff+(-0x5bf+-0x6d*-0x5+0x74*0x8)],Dn['z']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qVelocity'][_0x8354ec],_0x43f80a=_0x2b0be0['qVelocity'][_0x4f7cff],zt['x']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qVelocity'][_0x8354ec+(0x143b+0x2600+-0x3a3a)],_0x43f80a=_0x2b0be0['qVelocity'][_0x4f7cff+(-0xb0*0x2b+-0x1*0x1c19+0x16*0x29f)],zt['y']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qVelocity'][_0x8354ec+(-0x3*0x437+-0x451+-0x16a*-0xc)],_0x43f80a=_0x2b0be0['qVelocity'][_0x4f7cff+(0x13*0x162+0xec1*0x1+-0x2905)],zt['z']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qVelocity2'][_0x8354ec],_0x43f80a=_0x2b0be0['qVelocity2'][_0x4f7cff],In['x']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qVelocity2'][_0x8354ec+(-0x589+-0x97*-0x17+-0x807)],_0x43f80a=_0x2b0be0['qVelocity2'][_0x4f7cff+(0xc*-0x23b+0x255b+-0xa96)],In['y']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,_0x53cf6d=_0x2b0be0['qVelocity2'][_0x8354ec+(-0x2*0x3b4+0x182b+-0x10c1)],_0x43f80a=_0x2b0be0['qVelocity2'][_0x4f7cff+(-0xdc*-0x5+-0x1fe4+-0x2*-0xdcd)],In['z']=_0x53cf6d+(_0x43f80a-_0x53cf6d)*_0x46ea5d,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x2b0be0['initialVel'+'ocity']>-0x9*-0x1d+0x1345+0x144a*-0x1&&(_0x2b0be0['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](0x1ab6+-0xd*0x229+0x1*0x161)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x2b0be0['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x2b0be0['initialVel'+'ocity']))),zt['x']+=(In['x']-zt['x'])*ps['x'],zt['y']+=(In['y']-zt['y'])*ps['y'],zt['z']+=(In['z']-zt['z'])*ps['z'],_0x20d8fa+=(_0x2b9e01-_0x20d8fa)*ps['y'],_0x26138c=(_0x26138c+(_0x40f826-_0x26138c)*(_0x183c95*(-0x2*-0x26c3+0x1717+-0x3d8d)%(-0x152+-0x32c*-0x3+-0x831)))*v_,_0x306f51=(_0x3921b5-_0x5b8a3f)*(_0x183c95*(-0x34f*-0x5+-0x464+-0x83f*0x1)%(0x6ff+0x1a0+-0x89e)),_0x2b0be0['meshInstan'+'ce']['node']&&(_0x2b0be0['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x2b0be0['localSpace']?(Gd['transformP'+'oint'](zt,zt),Ze['add'](zt)['add'](Ka)):(Ze['add'](zt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x18dae3)),vt['copy'](b_),_0x1f9712[_0x13bf8d*ie]=vt['x'],_0x1f9712[_0x13bf8d*ie+(0x2*0xe9+0x113e+0x130f*-0x1)]=vt['y'],_0x1f9712[_0x13bf8d*ie+(0xb22+-0x8f2+-0x9*0x3e)]=vt['z'],_0x1f9712[_0x13bf8d*ie+(0x12a8+-0xe2*0x25+0xe05)]+=_0x20d8fa*_0x18dae3,_0x2b0be0['wrap']&&_0x2b0be0['wrapBounds']&&(_0x2b0be0['localSpace']||vt['sub'](_0x5d064d),vt['x']=Hd(vt['x'],_0x2b0be0['wrapBounds']['x'])-_0x2b0be0['wrapBounds']['x']*(-0x1e9c+0xb1b+0x1381*0x1+0.5),vt['y']=Hd(vt['y'],_0x2b0be0['wrapBounds']['y'])-_0x2b0be0['wrapBounds']['y']*(0x3ac*0x2+0x1fba+-0x1389*0x2+0.5),vt['z']=Hd(vt['z'],_0x2b0be0['wrapBounds']['z'])-_0x2b0be0['wrapBounds']['z']*(0x2a+0x65c+0x686*-0x1+0.5),_0x2b0be0['localSpace']||vt['add'](_0x5d064d)),_0x2b0be0['sort']>0x630+-0xc5*-0x1+0x6f5*-0x1&&(_0x2b0be0['sort']===-0x1b5e*-0x1+-0x37f*0x4+0xd61*-0x1?(wr['copy'](vt)['sub'](_0x1bb40a),_0x2b0be0['particleDi'+'stance'][_0x13bf8d]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x2b0be0['sort']===0x1eb5+-0x2*-0xd5e+-0x396f?_0x2b0be0['particleDi'+'stance'][_0x13bf8d]=_0x30153a:_0x2b0be0['sort']===-0xe*-0x151+-0xee7+-0x384&&(_0x2b0be0['particleDi'+'stance'][_0x13bf8d]=-_0x30153a))),_0x3f5363?_0x30153a<0x9b5*-0x3+-0x252a+0x4249&&(_0x1f9712[_0x13bf8d*ie+(-0x17*0x173+0x10a6*0x1+0x10b2*0x1)+_0x2b0be0['numParticl'+'esPot']*(0xa77*-0x1+0x1*0x155a+-0xae1)*ie]=-(-0x3cd*-0x7+0x3*0x146+-0x1e6c)):(_0x30153a>=_0x1d204d&&(_0x30153a-=Math['max'](_0x1d204d,(_0x2b0be0['numParticl'+'es']-(0x1540+0x1bd6+-0x3115))*_0x4ff626),_0x1f9712[_0x13bf8d*ie+(0x2b2+0x2f*-0xac+0x1ce5)+_0x2b0be0['numParticl'+'esPot']*(0xd3+-0x147e+0x17*0xdb)*ie]=_0x2b0be0['loop']?-0xd5*0x5+-0x203e+0x2468:-(0x1b78+0x1e9b+-0x1*0x3a12)),_0x30153a<-0x49d*0x3+0x775*0x3+-0x888&&_0x2b0be0['loop']&&(_0x1f9712[_0x13bf8d*ie+(0x57*-0xa+-0x20bd+-0x1*-0x2426)+_0x2b0be0['numParticl'+'esPot']*(0x127+0x9af+-0xad4)*ie]=0x7*-0x289+0x640*-0x1+0x1800)),_0x1f9712[_0x13bf8d*ie+(0x1*0x1f05+0x1fd3+-0x3ed5)+_0x2b0be0['numParticl'+'esPot']*(0x1b*0x9a+0x1*-0x673+-0x9c9)*ie]<0xd79*0x1+-0x9d*0x27+0xa72&&(_0x33c130=!(0x212a+0x6*-0x244+-0x1391)),_0x1f9712[_0x13bf8d*ie+(0x2704+0x1*-0x1adf+0xc22*-0x1)+_0x2b0be0['numParticl'+'esPot']*ie]=_0x30153a;for(let _0x5caa59=-0x203d+0x1384*-0x2+0xe41*0x5;_0x5caa59<_0x2b0be0['numParticl'+'eVerts'];_0x5caa59++){const _0x540da5=(_0x2086b7*_0x2b0be0['numParticl'+'eVerts']+_0x5caa59)*(_0x2b0be0['useMesh']?-0x1*0x2333+0x372*-0x6+-0x1*-0x37e5:-0x1b0e+0x42*0x5b+-0x4d*-0xc);let _0x1e525a=_0x2b0be0['vbCPU'][_0x540da5],_0x1b5197=_0x2b0be0['vbCPU'][_0x540da5+(-0x4f*-0x1e+-0x1de*-0x10+0x9*-0x459)],_0x1931ce=_0x2b0be0['vbCPU'][_0x540da5+(-0x1bf+0xdf2+-0xc31)];_0x33c130||(_0x1e525a=_0x1b5197=_0x1931ce=-0x24aa+-0x2*0x2bd+0x1d*0x174);const _0x1de701=_0x2086b7*_0x2b0be0['numParticl'+'eVerts']*_0x4c1ce6+_0x5caa59*_0x4c1ce6;_0x1a3bb0[_0x1de701]=vt['x'],_0x1a3bb0[_0x1de701+(0x215+-0x3*-0x1df+-0x7b1)]=vt['y'],_0x1a3bb0[_0x1de701+(-0x7d3+0x4b8+0x31d*0x1)]=vt['z'],_0x1a3bb0[_0x1de701+(-0x3*-0xbda+-0x3e*-0x3d+-0x3251)]=_0x39a1ac,_0x1a3bb0[_0x1de701+(0x1b16*-0x1+-0x95*-0x17+0xdb7*0x1)]=_0x2b0be0['alignToMot'+'ion']?_0x451144:_0x1f9712[_0x13bf8d*ie+(-0x3*-0x4a9+-0xc56*0x2+-0x112*-0xa)],_0x1a3bb0[_0x1de701+(-0x23b+0x664*0x3+-0x10ec)]=_0x26138c,_0x1a3bb0[_0x1de701+(-0x1*-0x16b7+-0xc96+-0xa1b)]=_0x306f51,_0x1a3bb0[_0x1de701+(-0x1613+-0xa19+0x2033*0x1)]=Bl['x'],_0x1a3bb0[_0x1de701+(-0x5de+0x37e+-0x4d*-0x8)]=_0x1e525a,_0x1a3bb0[_0x1de701+(0x2b2+0x262a+0x28d3*-0x1)]=_0x1b5197,_0x1a3bb0[_0x1de701+(0x4*0x946+-0x463+0x1*-0x20ab)]=_0x1931ce,_0x1a3bb0[_0x1de701+(0x9f*-0x27+-0x88*-0x5+-0xc*-0x1cd)]=Bl['y'],_0x1a3bb0[_0x1de701+(-0x6*-0xaa+0x1492+-0x1882)]=_0x13bf8d,_0x1a3bb0[_0x1de701+(0x2117+0x1c1+0x22cb*-0x1)]=Bl['z'],_0x1a3bb0[_0x1de701+(-0x11*0x1c1+-0x9*-0x102+0x19*0xd5)]=_0x2b0be0['vbCPU'][_0x540da5+(0x792+-0x19f9*-0x1+-0x1d*0x128)],_0x2b0be0['useMesh']&&(_0x1a3bb0[_0x1de701+(0x3*-0x3dc+0x6f1+0x4b2)]=_0x2b0be0['vbCPU'][_0x540da5+(0x1*0x154+0x8a3+-0x9f3)],_0x1a3bb0[_0x1de701+(0x24fd*-0x1+0x1dfa+0x713)]=_0x2b0be0['vbCPU'][_0x540da5+(0x2571+-0x52+-0x3*0xc5e)]);}}if(_0x2b0be0['sort']>Du&&_0x2b0be0['camera']){const _0x13eb23=_0x2b0be0['useMesh']?-0x701*0x2+-0x3c1*0x9+0x2fd1:0x54a*0x2+-0x16c5+0xc35,_0x519efc=_0x2b0be0['particleDi'+'stance'];for(let _0x1a84db=-0x9*0x45+0x1*0xd8a+-0xb1d;_0x1a84db<_0x2b0be0['numParticl'+'es'];_0x1a84db++)_0x342b4b[_0x1a84db][-0x15e6+0xd2a+0x8bc]=_0x1a84db,_0x342b4b[_0x1a84db][-0x605*-0x5+0x1095+0x1*-0x2ead]=_0x519efc[Math['floor'](_0x2b0be0['vbCPU'][_0x1a84db*_0x2b0be0['numParticl'+'eVerts']*_0x13eb23+(-0x2*0x305+-0x852+0xe5f)])];_0x2b0be0['vbOld']['set'](_0x2b0be0['vbCPU']),_0x342b4b['sort']((_0x286976,_0x14004d)=>_0x286976[0x1230+0x16*0x1c6+-0x3933]-_0x14004d[0x1e85*0x1+-0x2*0x919+0x1*-0xc52]);for(let _0x40e8a2=-0x1789+-0x7*0x1eb+0x24f6;_0x40e8a2<_0x2b0be0['numParticl'+'es'];_0x40e8a2++){const _0xb9e8e3=_0x342b4b[_0x40e8a2][-0xff5+0x1bc+0xe39]*_0x2b0be0['numParticl'+'eVerts']*_0x13eb23,_0x8bd533=_0x40e8a2*_0x2b0be0['numParticl'+'eVerts']*_0x13eb23;for(let _0x1b3649=0xa65+0x2d5+-0xd3a;_0x1b3649<_0x2b0be0['numParticl'+'eVerts']*_0x13eb23;_0x1b3649++)_0x2b0be0['vbCPU'][_0x8bd533+_0x1b3649]=_0x2b0be0['vbOld'][_0xb9e8e3+_0x1b3649];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0x31c27a,_0x1cc192){this['_emitter']=_0x31c27a,this['frameRando'+'mUniform']=new Float32Array(-0xe27+0x1dd1+-0xfa7*0x1),this['emitterPos'+'Uniform']=new Float32Array(0x244b+0x191+-0x25d9*0x1),this['emitterSca'+'leUniform']=new Float32Array([-0x1009+-0x19f8+0x2a02,0x11f0+-0x1be0+-0x1fd*-0x5,-0x27a*0x7+0x80*0x47+-0x1*0x1229]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(-0x4e5+0xf36+-0xa4e),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x4b7+-0x1530+0x107c),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x1eb0+-0x1b9d+0x3a50),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0xc7*0x5+0xde3+-0x9fd),this['constantPa'+'rticleTexI'+'N']=_0x1cc192['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x1cc192['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x1cc192['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x1cc192['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x1cc192['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x1cc192['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x1cc192['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x1cc192['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x1cc192['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x1cc192['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x1cc192['scope']['resolve']('delta'),this['constantRa'+'te']=_0x1cc192['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x1cc192['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x1cc192['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x1cc192['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x1cc192['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x1cc192['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x1cc192['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x1cc192['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x1cc192['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x1cc192['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x1cc192['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x1cc192['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x1cc192['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x1cc192['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x1cc192['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x1cc192['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x1cc192['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x1cc192['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x1cc192['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x1cc192['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x1cc192['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x1cc192['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x1cc192['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x1cc192['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x1cc192['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x1cc192['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x479+-0xdb*0x7+-0x1a*-0x67]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x407*-0x2+-0xb23*0x3+-0x195c*-0x1]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x2469+0x1d3b+-0x41a2*0x1]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x1286+-0x11e9*-0x2+-0x114c]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][0x5c*0x3d+-0x26a4+0x10b9*0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x105c*-0x1+0x1b58+-0xafa]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][0x35*-0x94+0x1*-0x13ed+0x3291]=Math['random'](),this['frameRando'+'mUniform'][0xb89+0x1260+0x2*-0xef4]=Math['random'](),this['frameRando'+'mUniform'][-0xaa+-0x206e+0x26*0xdf]=Math['random']();}['update'](_0x54ba4c,_0x56ae09,_0x4540ec,_0x18647e,_0x195359){G['pushGpuMar'+'ker'](_0x54ba4c,'ParticleGP'+'U');const _0x4a1598=this['_emitter'];_0x54ba4c['setBlendSt'+'ate'](_t['NOBLEND']),_0x54ba4c['setDepthSt'+'ate'](as['NODEPTH']),_0x54ba4c['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x3*-0xbb7+-0x1*0x264b+0x4971)/_0x4a1598['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x4a1598['precision']),this['constantNu'+'mParticles']['setValue'](_0x4a1598['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x4a1598['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x4a1598['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x4a1598['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x4a1598['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x4a1598['internalTe'+'x3']);const _0x2cfa4c=_0x4a1598['meshInstan'+'ce']['node'],_0x68e2cb=_0x2cfa4c===null?T['ONE']:_0x2cfa4c['localScale'];if(_0x4a1598['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x248*0x1+0x53*-0x57+0x19ed]=_0x4a1598['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0xeb7+0x1b0*-0x9+0x7a]=_0x4a1598['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x1*-0xdcd+0x1ef+0x16e*-0xb]=_0x4a1598['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0xc*0x255+0x155f+-0x315b]=_0x4a1598['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0xc5*0xe+-0x211a+0x1655*0x1]=_0x4a1598['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x1ec5*0x1+-0x1221*-0x2+-0x18f*0x2b]=_0x4a1598['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0xfc0e6b=_0x4a1598['maxVel']*Math['max'](Math['max'](_0x68e2cb['x'],_0x68e2cb['y']),_0x68e2cb['z']);_0xfc0e6b=Math['max'](_0xfc0e6b,-0x1f80+-0xac3+0x2a44),this['constantMa'+'xVel']['setValue'](_0xfc0e6b);}const _0x589012=_0x2cfa4c===null||_0x4a1598['localSpace']?T['ZERO']:_0x2cfa4c['getPositio'+'n'](),_0x7f7809=_0x2cfa4c===null?q['IDENTITY']:_0x2cfa4c['getWorldTr'+'ansform']();_0x4a1598['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x56ae09),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x4540ec)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x4a1598['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x4a1598['emitterRad'+'ius']===0x1959+-0x218c+0x1*0x833?-0x10be*-0x2+-0x544+-0x1c38:_0x4a1598['emitterRad'+'iusInner']/_0x4a1598['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x4a1598['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x7f7809),A_['invertMat4'](_0x7f7809),this['emitterPos'+'Uniform'][-0x10b+0x18ae+-0x3*0x7e1]=_0x589012['x'],this['emitterPos'+'Uniform'][0x9*-0x2ee+-0x1*0x1111+-0x22c*-0x14]=_0x589012['y'],this['emitterPos'+'Uniform'][-0x232e+0x1*-0x431+0x11*0x251]=_0x589012['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x18647e),this['constantRa'+'te']['setValue'](_0x4a1598['rate']),this['constantRa'+'teDiv']['setValue'](_0x4a1598['rate2']-_0x4a1598['rate']),this['constantSt'+'artAngle']['setValue'](_0x4a1598['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x4a1598['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x4a1598['seed']),this['constantLi'+'fetime']['setValue'](_0x4a1598['lifetime']),this['emitterSca'+'leUniform'][0xd06+0x2*-0x20d+-0x476*0x2]=_0x68e2cb['x'],this['emitterSca'+'leUniform'][0x1b84+-0x1489+0x1*-0x6fa]=_0x68e2cb['y'],this['emitterSca'+'leUniform'][-0x2f9+-0x3f3+-0x1*-0x6ee]=_0x68e2cb['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x4a1598['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x4a1598['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x4a1598['rotSpeedUM'+'ax'][-0xa9*-0x5+0x1735*-0x1+0x13e8]);let _0x527f77=_0x4a1598['swapTex']?_0x4a1598['particleTe'+'xOUT']:_0x4a1598['particleTe'+'xIN'];_0x527f77=_0x4a1598['beenReset']?_0x4a1598['particleTe'+'xStart']:_0x527f77;const _0x27771a=_0x4a1598['swapTex']?_0x4a1598['particleTe'+'xIN']:_0x4a1598['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x527f77),dn(_0x54ba4c,_0x4a1598['swapTex']?_0x4a1598['rtParticle'+'TexIN']:_0x4a1598['rtParticle'+'TexOUT'],_0x195359?_0x4a1598['shaderPart'+'icleUpdate'+'OnStop']:_0x4a1598['loop']?_0x4a1598['shaderPart'+'icleUpdate'+'Respawn']:_0x4a1598['shaderPart'+'icleUpdate'+'NoRespawn']),_0x4a1598['material']['setParamet'+'er']('particleTe'+'xOUT',_0x527f77),_0x4a1598['material']['setParamet'+'er']('particleTe'+'xIN',_0x27771a),_0x4a1598['beenReset']=!(-0x97+-0x1*-0x1d6+0x9f*-0x2),_0x4a1598['swapTex']=!_0x4a1598['swapTex'],_0x4a1598['prevWorldB'+'oundsSize']['copy'](_0x4a1598['worldBound'+'sSize']),_0x4a1598['prevWorldB'+'oundsCente'+'r']['copy'](_0x4a1598['worldBound'+'s']['center']),_0x4a1598['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x54ba4c);}}class e1 extends Dt{['generateKe'+'y'](_0x74105a){let _0x4b89d1='particle_'+Dt['definesHas'+'h'](_0x74105a['defines'])+'_';for(const _0x553005 in _0x74105a)_0x74105a['hasOwnProp'+'erty'](_0x553005)&&(_0x4b89d1+=_0x74105a[_0x553005]);return _0x4b89d1;}['_animTex'](_0x543423){let _0x62f6f1='';return _0x62f6f1+=_0x543423['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x62f6f1+=X['particleAn'+'imTexVS'],_0x62f6f1;}['createShad'+'erDefiniti'+'on'](_0x821a1a,_0x5a7e73){const _0x4cc490='#define\x20PA'+'RTICLE_'+(_0x5a7e73['useCpu']?'CPU':'GPU')+'\x0a';let _0x312511='#define\x20PA'+'RTICLE\x0a'+_0x4cc490,_0xed1239='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x4cc490;_0x5a7e73['mesh']&&(_0xed1239+='#define\x20US'+'E_MESH\x0a'),_0x5a7e73['localSpace']&&(_0xed1239+='#define\x20LO'+'CAL_SPACE\x0a'),_0x5a7e73['screenSpac'+'e']&&(_0xed1239+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x5a7e73['animTex']&&(_0xed1239+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x5a7e73['animTex']&&(_0xed1239+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x5a7e73['animTex']&&(_0xed1239+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x5a7e73['normal']===0x207f+-0x4d*-0x65+-0x3ede&&(_0xed1239+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x5a7e73['normal']===0x2538+0x1037*0x2+-0x3f*0x11b&&(_0xed1239+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x5a7e73['soft']&&(_0xed1239+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x5b8ee8=_0x5a7e73['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x5a7e73['useCpu']?(_0x5a7e73['soft']>-0x1f69+0xa44+0x1525&&(_0xed1239+=X['screenDept'+'hPS']),_0xed1239+=X['particle_c'+'puVS'],_0x5a7e73['localSpace']&&(_0xed1239+=X['particle_l'+'ocalShiftV'+'S']),_0x5a7e73['animTex']&&(_0xed1239+=this['_animTex'](_0x5a7e73)),_0x5a7e73['alignToMot'+'ion']&&(_0xed1239+=X['particle_p'+'ointAlongV'+'S']),_0xed1239+=_0x5a7e73['mesh']?X['particle_m'+'eshVS']:_0x5b8ee8,_0x5a7e73['normal']===-0xa74+-0x1*0x214f+0x2bc4&&(_0xed1239+=X['particle_n'+'ormalVS']),_0x5a7e73['normal']===-0x2676+0x21c2+0x1*0x4b6&&(_0xed1239+=X['particle_T'+'BNVS']),_0x5a7e73['stretch']>0x20d1+-0x8*0x47c+0x30f&&(_0xed1239+=X['particle_s'+'tretchVS']),_0xed1239+=X['particle_c'+'pu_endVS'],_0x5a7e73['soft']>0x59*0x4+-0xd*-0x16b+0x7*-0x2d5&&(_0xed1239+=X['particle_s'+'oftVS'])):(_0xed1239+=X['particle_i'+'nitVS'],_0xed1239+=_0x5a7e73['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x5a7e73['soft']>-0xc7d*-0x1+-0x1*0xecc+0x1*0x24f&&(_0xed1239+=X['screenDept'+'hPS']),_0xed1239+=X['particleVS'],_0x5a7e73['localSpace']&&(_0xed1239+=X['particle_l'+'ocalShiftV'+'S']),_0x5a7e73['animTex']&&(_0xed1239+=this['_animTex'](_0x5a7e73)),_0x5a7e73['wrap']&&(_0xed1239+=X['particle_w'+'rapVS']),_0x5a7e73['alignToMot'+'ion']&&(_0xed1239+=X['particle_p'+'ointAlongV'+'S']),_0xed1239+=_0x5a7e73['mesh']?X['particle_m'+'eshVS']:_0x5b8ee8,_0x5a7e73['normal']===0x2*0x2bc+-0x1b5+-0x3c2&&(_0xed1239+=X['particle_n'+'ormalVS']),_0x5a7e73['normal']===-0x6d4+0x7*-0x246+0x16c0&&(_0xed1239+=X['particle_T'+'BNVS']),_0x5a7e73['stretch']>0x4*0x369+0x871*0x3+-0x5f*0x69&&(_0xed1239+=X['particle_s'+'tretchVS']),_0xed1239+=X['particle_e'+'ndVS'],_0x5a7e73['soft']>0x71*0x1b+0x37a*-0x5+-0x1*-0x577&&(_0xed1239+=X['particle_s'+'oftVS'])),_0xed1239+='}\x0a',_0x5a7e73['normal']>0x12d0+-0x1366*0x1+0x96&&(_0x5a7e73['normal']===0x1fb1+-0x74*0x5+-0x1d6c?_0x312511+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x5a7e73['normal']===0x199f+-0x2*0xc3+-0x1817*0x1&&(_0x312511+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x312511+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x5a7e73['soft']&&(_0x312511+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x312511+=X['decodePS'],_0x312511+='#include\x20\x22'+'gammaPS\x22\x0a',_0x312511+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x312511+='#include\x20\x22'+'fogPS\x22\x0a',_0x5a7e73['normal']===0x100f+-0x2*0x5d5+-0x463&&(_0x312511+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x5a7e73['soft']>-0x1*-0x102e+-0x1c6*0x2+-0x2a*0x4d&&(_0x312511+=X['screenDept'+'hPS']),_0x312511+=X['particlePS'],_0x5a7e73['soft']>-0x789*-0x1+-0x254f*-0x1+-0x2cd8&&(_0x312511+=X['particle_s'+'oftPS']),_0x5a7e73['normal']===0x574*-0x7+0x711+0x1f1c&&(_0x312511+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x5a7e73['normal']===-0x1b*-0x11c+-0x1cc3+-0x12f&&(_0x312511+=X['particle_n'+'ormalMapPS']),_0x5a7e73['normal']>0x12d4+-0xc*-0x35+-0x1550&&(_0x312511+=_0x5a7e73['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x5a7e73['normal']>-0x1aa0+0x18ab+0x1f5&&(_0x312511+=X['particle_l'+'ightingPS']),_0x5a7e73['blend']===Kt?_0x312511+=X['particle_b'+'lendNormal'+'PS']:_0x5a7e73['blend']===yp?_0x312511+=X['particle_b'+'lendAddPS']:_0x5a7e73['blend']===xp&&(_0x312511+=X['particle_b'+'lendMultip'+'lyPS']),_0x312511+=X['particle_e'+'ndPS'];const _0x4c6e55=new Map(Object['entries']({...X,..._0x5a7e73['chunks']}));return Mt['createDefi'+'nition'](_0x821a1a,{'name':'ParticleSh'+'ader','vertexCode':_0xed1239,'fragmentCode':_0x312511,'fragmentDefines':_0x5a7e73['defines'],'fragmentIncludes':_0x4c6e55,'vertexDefines':_0x5a7e73['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x417bc7){super(),c(this,'emitter',null),(this['emitter']=_0x417bc7,v['assert'](_0x417bc7));}['getShaderV'+'ariant'](_0x7dae3d){const {device:_0x1b9b42,scene:_0x5916b4,cameraShaderParams:_0x2c260a}=_0x7dae3d,{emitter:_0x28a2fc}=this,_0x1c9bb4={'defines':Dp(this,_0x7dae3d),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0x28a2fc['lighting']?_0x28a2fc['normalMap']!==null?-0x19c7*0x1+0x26e*-0xd+0x395f:0x1d15+-0xf33+-0xbb*0x13:-0x6*0x603+0xb95*-0x1+0x2fa7,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0x2c260a==null?void(0x2*-0x4ee+0xf2*0x4+-0x4*-0x185):_0x2c260a['shaderOutp'+'utGamma'])??sl,'toneMap':(_0x2c260a==null?void(0x1ce9+0x1c08+-0x38f1):_0x2c260a['toneMappin'+'g'])??Ap,'fog':_0x5916b4&&!this['emitter']['noFog']?_0x5916b4['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x28a2fc['inTools']?!(-0xb7*-0x5+-0x1f3a+0xa*0x2c4):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0x1e06e9=new Yc(_0x7dae3d['viewUnifor'+'mFormat'],_0x7dae3d['viewBindGr'+'oupFormat'],_0x7dae3d['vertexForm'+'at']),_0x4ead09=ka(_0x1b9b42);return _0x4ead09['register']('particle',t1),_0x4ead09['getProgram']('particle',_0x1c9bb4,_0x1e06e9,this['userId']);}}const E_=[[-(0x18b7+0x1bb*-0xd+-0x237),-(0x3*0xc9+0x2*0xae5+-0x14*0x135)],[-0x278*-0x2+-0x7fc+0x1*0x30d,-(0xba8*-0x1+-0x167b+0x2224)],[-0x2270+-0x15c4+0x3835,0x1726+-0x1f5c+-0x837*-0x1],[-(-0x96b+0xcb+0x8a1),0x1e36+0x92c+-0x2761]];function Qt(_0x10f581,_0x3d38fa,_0x5dcfec,_0x42cffd,_0x165d99=Ke,_0x152b28,_0xca6b05){let _0x4c4c83=de;_0xca6b05&&(_0x165d99===Se||_0x165d99===rs)&&(_0x4c4c83=st);const _0x2998e0=new he(_0x10f581,{'width':_0x3d38fa,'height':_0x5dcfec,'format':_0x165d99,'cubemap':!(-0x1183*0x1+0x7*-0x137+0x1a05*0x1),'mipmaps':!(0x22cb+0x4a1*0x3+-0x30ad),'minFilter':_0x4c4c83,'magFilter':_0x4c4c83,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x49f9cf=_0x2998e0['lock']();if(_0x165d99===Se||_0x165d99===rs){const _0x4e02fa=new Uint8Array(_0x42cffd['length']);for(let _0x75bd30=0xb*-0x79+0xff0+-0x1*0xabd;_0x75bd30<_0x42cffd['length'];_0x75bd30++)_0x4e02fa[_0x75bd30]=_0x42cffd[_0x75bd30]*_0x152b28*(-0x57*-0x59+0x2551*0x1+0x4291*-0x1);_0x42cffd=_0x4e02fa;}return _0x49f9cf['set'](_0x42cffd),_0x2998e0['unlock'](),_0x2998e0;}function C_(_0x3f756a){return Math['max'](Math['min'](_0x3f756a,-0x2a*-0x77+-0x1*0x1ea9+0xb24),0x9f*-0x18+0x1f7e+-0x1096);}const M_=new Cs([-0x1*0x59d+0x1*-0x2429+0x1*0x29c6,0xb3a+0x20f2+-0x1616*0x2,0xd01+0x7*-0xfb+-0x1*0x623,-0x5d9+-0xb*-0x263+-0x4*0x51a]),P_=new Cs([0x357*-0x9+-0x1*-0x730+-0x1*-0x16df,0x481*-0x4+-0x1f83*-0x1+-0x13a*0xb,0x23a5+0xa*-0x4d+-0x20a2*0x1,0x19*-0x5b+-0x7*0x297+0x1b05*0x1]),R_=new jr([0x20e4+-0x24a*0x1+-0x1e9a,-0x7*-0xb+-0x112f*0x2+0x2211,-0x2b6*0x2+-0x776+0xce3*0x1,0xb*-0x1a5+0x1*0x2523+-0x17*0xd4],[-0x187c+0x5*0x285+0x1*0xbe3,-0x1657+-0x1*-0x5e7+0x1070,0xee5*0x2+-0x411*0x2+-0x15a7,-0x2126+0xea0+0x1286],[0x3*-0xa97+0x3ca*0x8+-0x175*-0x1,-0x52f*-0x7+-0x1f+-0x242a,0x3d*0x99+-0x6d5+0x1*-0x1d9f,0x1*0x24ad+0x3c7+-0x6*0x6be]),i1=new jr([-0xf1*0xf+-0xc1d+-0x1*-0x1a3c,-0x244f*-0x1+-0x238+-0x2216,0xd*0x15b+-0x668+-0xb36,-0x2160+-0x9f9+-0x1*-0x2b5a],[0x3*0x1ab+-0x3*0x161+0x4a*-0x3,-0x1*-0xd81+-0x23b0+0x1630,-0x1*0xa04+0x427*0x1+-0x5de*-0x1,-0x2*-0xf94+0xa1*0x2e+-0x3c15],[-0x3*0x4ca+0x13c5+-0x567,0x15ef+-0x20f3*-0x1+-0x36e1,-0x10a6+0x1b0f+0x378*-0x3,0x1*0x785+0x691+0x5*-0x2d1]);let ii=0x5e*-0x9+-0x4*0x98f+-0x14c6*-0x2;const zl=-0x15*0x141+0x6*-0x3d6+-0x315d*-0x1,ri=new Float32Array(-0x1*-0x51f+-0x286*-0xd+-0x1*0x25ea),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x433e1c,_0x4f4ab5){fh[_0x433e1c]!==void(-0xc*0x2d5+0x638+0x1bc4)&&fh[_0x433e1c]!==null?Hu[_0x433e1c]=fh[_0x433e1c]:Hu[_0x433e1c]=_0x4f4ab5;}function O0(_0x497846,_0x259d23,_0x106b16){return(_0x497846*(0x2611*-0x1+0x93f*0x3+0xb53)<<-0xf65*0x2+0x1918+0x5c2|_0x259d23*(-0x14af+0x22c3+-0xd15)<<0xa92*-0x2+0xb*0x1a6+0x30a|_0x106b16*(-0x8*-0x409+0x598*0x5+0x1*-0x3b41))/(-0x9c7+0x11*-0x139+0x1e91<<-0x1825*0x1+-0x1*0xbc3+0x2400);}function D_(_0x2d12cc,_0x15e6db){const _0x32ab4c=_0x2d12cc['length']/(-0x38*-0x4d+-0x3e6*0x8+0x7*0x20d),_0x2277d5=new Array(_0x32ab4c*(0x1199+0x1a9e+-0x16d*0x1f));for(let _0x9a5b44=-0x10*-0x153+0x1dc6+-0x32f6;_0x9a5b44<_0x32ab4c;_0x9a5b44++)_0x2277d5[_0x9a5b44*(0x2301+0x171f+-0xe87*0x4)]=_0x2d12cc[_0x9a5b44*(-0x1*0xe21+0x1*0x7ed+-0x25*-0x2b)],_0x2277d5[_0x9a5b44*(0x1aa3+-0x20d7+-0xc7*-0x8)+(-0x1564+0x4*-0x469+-0x3*-0xd03)]=_0x2d12cc[_0x9a5b44*(0x363+0x1*0x14fe+-0x185e)+(0x20fd+0xc1*0x7+-0x2643)],_0x2277d5[_0x9a5b44*(0x147c+0x199*0x11+-0x59*0x89)+(-0x26a4+0xeeb+0x17bb)]=_0x2d12cc[_0x9a5b44*(0xa*-0x47+0xc5+0x1*0x204)+(0x29*0x99+-0x1d9a+0x51b)],_0x2277d5[_0x9a5b44*(-0x1a15+0x169b+0x37e)+(0x12f*0x19+-0x2*0xe6b+-0xbe)]=O0(_0x15e6db[_0x9a5b44*(-0x177a+-0x17f*-0x13+-0x4f0)],_0x15e6db[_0x9a5b44*(0x1a93+0x25bf+-0x404f)+(-0x2e*-0xb6+-0x2472+0x3bf)],_0x15e6db[_0x9a5b44*(0x1f51*-0x1+0x10d*0x1b+0x1*0x2f5)+(-0x845+-0x2019+-0x1*-0x2860)]);return _0x2277d5;}function r1(_0x4a6d8e,_0x45ef74){const _0x3af172=new Array(_0x45ef74['length']*(-0x89f+0x115a+-0x8b7));for(let _0x17a629=-0x375+0x1*-0x62b+0x9a0;_0x17a629<_0x45ef74['length'];_0x17a629++)_0x3af172[_0x17a629*(0x198c+0x10e0+-0x2a68)]=_0x4a6d8e[_0x17a629*(-0x1d7a+0x7d*-0x4c+0x4299)],_0x3af172[_0x17a629*(0x1699+0xd*-0x1b+-0x1536)+(0xed9+-0x71*0x13+-0x3*0x227)]=_0x4a6d8e[_0x17a629*(0x777+-0x761+-0x13*0x1)+(-0x162c+-0x671+0x1c9e)],_0x3af172[_0x17a629*(-0x360+-0x140a+0x176e)+(0x5c*0x17+-0x1*-0x1fa3+-0x1*0x27e5)]=_0x4a6d8e[_0x17a629*(0x1c8f+0x10*-0x126+0x3e*-0x2a)+(0x1e0c+-0x3*-0x6be+-0x3244)],_0x3af172[_0x17a629*(0x4*-0x1e4+-0x2a7+0xa3b)+(-0x1674*0x1+0x1e38+-0x7c1)]=_0x45ef74[_0x17a629];return _0x3af172;}function n1(_0xc8ecfa,_0x1e35ea,_0x1b0ced,_0x2f0f14,_0x5b798b){const _0x2da76a=new Array(_0xc8ecfa['length']*(0x20e8+-0x17b0+-0x934));for(let _0x4d0ece=-0x1f53+-0x1*0xbbb+0x2b0e;_0x4d0ece<_0xc8ecfa['length'];_0x4d0ece++)_0x2da76a[_0x4d0ece*(0x1223*0x1+-0x244b*-0x1+-0x366a)]=_0xc8ecfa[_0x4d0ece],_0x2da76a[_0x4d0ece*(0x1*-0x8fe+-0x14a0+0x1da2)+(-0x1*-0xee0+0x2491+-0x8*0x66e)]=_0x1e35ea[_0x4d0ece],_0x2da76a[_0x4d0ece*(0x71f+-0x17fd+0x2*0x871)+(-0x1d44*0x1+-0x1e2d+0x9*0x69b)]=-0x9a2*-0x3+-0x9*-0x30b+-0x1*0x3849,_0x2da76a[_0x4d0ece*(0x13e3*-0x1+-0x1*-0x1681+0xde*-0x3)+(-0x120b*-0x2+-0x1c*0x147+-0x4f)]=O0(_0x1b0ced[_0x4d0ece],_0x2f0f14[_0x4d0ece],_0x5b798b[_0x4d0ece]);return _0x2da76a;}function a1(_0x24f021,_0x527fbc){const _0xaf5faa=new Array(_0x24f021['length']*(0x1fef+0x726+-0x2711));for(let _0x1fe306=-0x6aa+0x617+0x3*0x31;_0x1fe306<_0x24f021['length'];_0x1fe306++)_0xaf5faa[_0x1fe306*(0x1bd4+-0x25c4+0x1a*0x62)]=_0x24f021[_0x1fe306],_0xaf5faa[_0x1fe306*(0x847+0x1822+0x1*-0x2065)+(0x47*-0xb+-0x1d65+0x2073)]=_0x527fbc[_0x1fe306],_0xaf5faa[_0x1fe306*(0x1*0x1a02+0x1*-0x178a+-0x274)+(0xc05*0x2+-0xb2e+-0x5*0x292)]=0x1d4e+-0x70f+-0x473*0x5,_0xaf5faa[_0x1fe306*(0x6bb*-0x1+0x18ba+-0x11fb)+(-0x790+-0x1df*-0x5+-0x1c8)]=0x1042+0xc29*-0x1+0x1*-0x419;return _0xaf5faa;}function o1(_0x26fb85){const _0x4c69dc=Math['max'](_0x26fb85['rate'],_0x26fb85['rate2'])*_0x26fb85['numParticl'+'es']+_0x26fb85['lifetime'];return Date['now']()+_0x4c69dc*(-0x18ef+-0xd*-0x26d+0xa*-0x45);}function l1(_0x1bbe0a,_0x5b1453){const _0x46f487=new Float32Array(_0x1bbe0a['length']);for(let _0x5740dd=-0x6*-0x4db+-0x4*-0x162+-0x22*0x105;_0x5740dd<_0x1bbe0a['length'];_0x5740dd++)_0x46f487[_0x5740dd]=_0x1bbe0a[_0x5740dd]-_0x5b1453[_0x5740dd];return _0x46f487;}function Fr(_0xe2746e,_0x563dcd){const _0x2bce92=_0x563dcd['length'],_0x3046ae=_0xe2746e['length']/_0x2bce92;for(let _0x5eac9b=0x21*0x19+-0x2c1+-0x78;_0x5eac9b<_0x3046ae;_0x5eac9b++)for(let _0x1719ee=-0x41*0x8b+0x199c+0x9af*0x1;_0x1719ee<_0x2bce92;_0x1719ee++){const _0x3b8c8a=Math['abs'](_0xe2746e[_0x5eac9b*_0x2bce92+_0x1719ee]);_0x563dcd[_0x1719ee]=Math['max'](_0x563dcd[_0x1719ee],_0x3b8c8a);}}function h1(_0x38e05a,_0x2b8d9f){const _0x16b7d=_0x2b8d9f['length'],_0x2a4e7e=_0x38e05a['length']/_0x16b7d;for(let _0x1e304c=-0x130a*-0x2+0x765+-0x67f*0x7;_0x1e304c<_0x2a4e7e;_0x1e304c++)for(let _0xefef0b=0x6be+-0x1*-0xb+-0xc1*0x9;_0xefef0b<_0x16b7d;_0xefef0b++)_0x38e05a[_0x1e304c*_0x16b7d+_0xefef0b]/=_0x2b8d9f[_0xefef0b]===-0x1*-0x15f9+-0x17dc+-0x1*-0x1e3?0x5d3+-0x33c*0x5+-0x52d*-0x2:_0x2b8d9f[_0xefef0b],_0x38e05a[_0x1e304c*_0x16b7d+_0xefef0b]*=0x1*0xfb5+0x4*0x2d1+-0x1af9+0.5,_0x38e05a[_0x1e304c*_0x16b7d+_0xefef0b]+=-0x23eb+0x1aa6+-0x15*-0x71+0.5;}function Ar(_0x47e875,_0x2fec3e,_0x348692){const _0x1afc27=l1(_0x2fec3e,_0x47e875);return Fr(_0x1afc27,_0x348692),h1(_0x1afc27,_0x348692),_0x1afc27;}const c1=new kt();class d1{constructor(_0x91fb60,_0x366b2a){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x91fb60;const _0x3453a7=_0x91fb60,_0x3d543a=0x33*0x6e+0x750+-0x12a*0x19;this['precision']=_0x3d543a,this['_addTimeTi'+'me']=-0x238b+0x170f*-0x1+0x3a9a,Hu=this,fh=_0x366b2a,re('numParticl'+'es',0xce*-0xf+0x9d+0xb76),this['numParticl'+'es']>_0x91fb60['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x91fb60['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x91fb60['maxTexture'+'Size']),re('rate',-0x1216+-0x1*-0x1fd6+-0xdbf),re('rate2',this['rate']),re('lifetime',0x1163*0x1+0x25d7+-0x496*0xc),re('emitterExt'+'ents',new T(-0x22d2*0x1+0x1*-0x1bd6+0x3ea8,-0x1*-0x66a+0xd3*0x1a+-0x1bd8,-0x1*0x1727+0xa9*0x1e+0x359)),re('emitterExt'+'entsInner',new T(0xc7*-0x22+-0x24fb+0x3f69,-0x2*0xe18+-0xed7+0x89b*0x5,-0x14b9+-0x7*0x471+0x33d0)),re('emitterRad'+'ius',0xc75*0x2+-0x1b*0xd3+0x1*-0x2a9),re('emitterRad'+'iusInner',-0x376*-0xa+-0x18e7+-0x9b5),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',0x16e*0x8+0x1*0x175f+0x37*-0xa2),re('wrap',!(0x1c62*-0x1+-0x8d*-0x1f+0x8*0x16a)),re('localSpace',!(-0x2a9*0x1+-0x2097+0x2341)),re('screenSpac'+'e',!(0x237+-0x1bdf+0x19a9)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(-0x1efa+0x1d86+0x174)),re('preWarm',!(0x2222+-0x304+0x5*-0x639)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(0x12a*-0xa+-0x11ef*0x1+0x1d94)),re('halfLamber'+'t',!(-0x7af*-0x5+0x13e0*0x1+-0x3a4a)),re('intensity',-0x77*0x1+-0xb*0x86+0x63a),re('stretch',-0x1c91+0x2*-0x4af+0x25ef),re('alignToMot'+'ion',!(0x19*0x5+0xa17+0xa93*-0x1)),re('depthSofte'+'ning',0x1*-0x755+-0x1a73+-0x2f*-0xb8),re('mesh',null),re('particleNo'+'rmal',new T(-0x246d+0x116e+0x12ff,0xb96*0x1+0xe62+0x19f7*-0x1,0x23b*-0x8+-0x40*0x78+0x2fd8)),re('orientatio'+'n',Uh),re('depthWrite',!(-0x3*0x70b+-0x2ad*0x1+0x17cf)),re('noFog',!(0x1b52*0x1+-0x163+-0x19ee)),re('blendType',Kt),re('node',null),re('startAngle',0x1f*-0x10f+-0x419*-0x2+0x189f),re('startAngle'+'2',this['startAngle']),re('animTilesX',-0x1*0x655+0x22af*-0x1+0x2905),re('animTilesY',0x5b*0x68+0x95*0x39+-0x43*0x10c),re('animStartF'+'rame',-0x66d+0x2*0x83f+-0xa11),re('animNumFra'+'mes',-0x25d0+-0x26b4+0x4c85),re('animNumAni'+'mations',-0x1f14+-0x1*-0x14cf+-0x523*-0x2),re('animIndex',-0x133*0x5+0x1*-0x2325+0x4*0xa49),re('randomizeA'+'nimIndex',!(0x20e8+0x882+0x1*-0x2969)),re('animSpeed',0x1*0x1931+0x149+-0x1a79),re('animLoop',!(0x17d+-0xa7a+0x1*0x8fd)),this['_gpuUpdate'+'r']=new JM(this,_0x3453a7),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(-0x2b3*0x4+0xe*0xb5+0xe9),this['wrapBounds'+'Uniform']=new Float32Array(0xc*-0xdf+-0xbac+0x3*0x761),this['emitterSca'+'leUniform']=new Float32Array([-0x4d1*0x1+0x1ade+-0x53*0x44,-0x1f7*0x11+-0x1b90+0x8*0x79f,-0x2a*0x65+0x0+0x1093]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(0x1*0x1ac3+0x2dd*0xa+-0x3763),this['animParams']=new Float32Array(-0xf02+0x1f2c+-0x9f*0x1a),this['animIndexP'+'arams']=new Float32Array(0x901+-0x153b+0xc3c),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x2126+0x130f+0x101*-0x34),this['useMesh']=!(-0x1ccc+-0x1625*-0x1+-0xd*-0x83),this['useCpu']=!_0x91fb60['supportsGp'+'uParticles'],this['pack8']=!(0x23ba+-0x21bd+-0x1fd*0x1),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=0x2*0x385+0xf8f+-0x1699,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x14+-0xccd+0xcb9,this['numParticl'+'eIndices']=0x1*0x7d+-0x27a+0x1fd,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x2*0x26f+-0x225*-0x2+0x94,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0xf*0x1a5+0x88a+-0x7d*0x44)/(0xcb6*0x1+0x16ec+-0x2366*0x1),this['maxSubStep'+'s']=0x1f*-0x47+0xbf0+-0x34d,this['simTime']=0x3*0x38+-0x849+-0x7*-0x117,this['simTimeTot'+'al']=-0xea4*-0x1+0x250c+-0x33b0,this['beenReset']=!(-0x7*-0x541+-0x2e4+-0x21e2),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x27567a=new Float32Array(-0x245e+-0x2003+-0x1*-0x4861);for(let _0x38b36c=0x1f71+0x223d+-0x41ae;_0x38b36c<0xbbc+0x1*0x255b+-0x7*0x701;_0x38b36c++)for(let _0x286f99=-0x176+-0x6ad+0x823;_0x286f99<-0x1e50+-0x1ddc+0x3c*0x101;_0x286f99++){const _0x1fdb81=_0x286f99+(0x1263+0x16bd+-0x291f)-(0x2*0x44f+-0xa51+0x1bb+0.5),_0x19fff1=_0x38b36c+(-0x1*0x215b+0x1*0x18d9+-0x1*-0x883)-(0x1ed1+0x1c82+0x2b*-0x161+0.5),_0x3d4f99=C_(-0x1816+-0x3*0xcb3+-0x28*-0x18e-C_(Math['sqrt'](_0x1fdb81*_0x1fdb81+_0x19fff1*_0x19fff1)/(-0x1*-0x1bed+-0x134+-0x1aa9))-(0x23b*-0x8+-0x16*-0x145+-0xa16+0.5)),_0x242284=_0x38b36c*(-0x1cd+0x101f*0x2+-0x4d*0x65)+_0x286f99;_0x27567a[_0x242284*(-0x389+0x1256+-0x5*0x2f5)]=0x1*-0x52c+-0x10b6+-0x1*-0x15e3,_0x27567a[_0x242284*(0x1f4a+0x43c+-0x1*0x2382)+(0x1567+0x1a74*-0x1+0x50e)]=0x1*0x2007+-0x13ae+0x62c*-0x2,_0x27567a[_0x242284*(-0x15bc+-0x63*0x24+0x23ac)+(-0x18cb+0x22cb+-0x2*0x4ff)]=-0x2*0x2c6+0x3ad*-0x1+0x93a*0x1,_0x27567a[_0x242284*(0x4a*0x17+0x1dbb+-0x141*0x1d)+(0xcca+-0xdeb+0x124)]=_0x3d4f99;}const _0x1a5652=Qt(this['graphicsDe'+'vice'],-0x17d1+0xf6d+-0x1*-0x874,-0xbf7*0x2+0x4*0x7ef+0x3df*-0x2,_0x27567a,rs,0x22d7+-0x22fd+0x3*0xd,!(0x1093+0x182d+-0x28c*0x10));return _0x1a5652['minFilter']=st,_0x1a5652['magFilter']=st,_0x1a5652;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0x221*0xd+-0x264+-0x1948)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x1d*-0x119+0x25df+-0x609)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0xae9*-0x2+0xeb8+0x71b)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0x2*-0xc14+-0xb71*-0x1+0xcb8)),this['worldBound'+'sAdd']['x']+=0x1533+-0xd05*-0x2+0x2f3d*-0x1+0.5,this['worldBound'+'sAdd']['y']+=-0x1e93+-0x7*0x3a5+0x3816+0.5,this['worldBound'+'sAdd']['z']+=-0x108+0x9a4*-0x3+0x1df4+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x11df2c=!(-0x3*-0x333+-0xd*-0x1f0+-0x22c8);this['emitterSha'+'pe']===Vs?_0x11df2c=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x11df2c=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x11df2c&&this['calculateL'+'ocalBounds']();}const _0xaf0b58=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0xaf0b58),this['worldBound'+'sTrail'][0x18*0x18e+-0x1*0x1c72+-0x8de]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0xae2+0x275+-0xd56]['add'](this['worldBound'+'sNoTrail']);const _0x2c3190=this['simTimeTot'+'al'];_0x2c3190>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0x1*0x175f+-0x3b*-0x12+0x5*-0x581]['copy'](this['worldBound'+'sTrail'][-0x5*-0x33d+-0xa7c+-0x5*0x124]),this['worldBound'+'sTrail'][-0x173*0x6+-0x3*-0x68f+-0xafa]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x2c3190+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x3c+0x1b5e*-0x1+0x2*0xdcd]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x79d+-0x2289+-0x2*-0xd77),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0xaf0b58),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0xaf0b58)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x2*-0x11cf+0x19b1+0x76*-0x85-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x2*0x375+-0xd*0x2f7+-0x50d*-0x9]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x56*-0x32+0x13bf+-0xc2e*0x3]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x2184+0x4*-0x793+0x1*0x3fd0]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x144+0x18be+-0x1a00),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x26a+0x109c+-0xa*0x1e7,this['timeToSwit'+'chBounds']=0x1b*-0x160+-0xf*-0x79+0x1e09);}['calculateL'+'ocalBounds'](){let _0x2a8df1=Number['MAX_VALUE'],_0x33f3c5=Number['MAX_VALUE'],_0x2f9a8c=Number['MAX_VALUE'],_0x57c5a8=-Number['MAX_VALUE'],_0x1564a4=-Number['MAX_VALUE'],_0x2f9886=-Number['MAX_VALUE'],_0x1d96f4=0x157d*-0x1+-0x645*-0x4+-0x397,_0x3cc77e=0x1fc2+0x1475+-0x3437*0x1;const _0x31a3b3=this['lifetime']/this['precision'],_0x4ecf0a=[this['qVelocity'],this['qVelocity2']],_0x2c3e42=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x74ce7c=[0x2a6+-0x1*-0x12c7+-0x1*0x156d,-0xe2*-0x1+0xcb4+-0xd96],_0x4424d8=[0x113*-0x23+-0x2*0x114b+0x11*0x43f,0x1140+0x2d*-0x2f+-0x3*0x2ff],_0x2ab2f8=[0x1e8a+-0xc32+0x4*-0x496,0x140e+0x1*-0x2347+0x9*0x1b1],_0x4fa622=[-0x173*0x14+-0x1*-0x21ed+-0xb*0x73,0x98*-0xb+0x11cb*0x1+0xb43*-0x1],_0x143331=[0x3*-0xc0b+-0x86d+-0x1647*-0x2,0x1d3b+0x17a4+0x34df*-0x1];let _0x34870a,_0x4cbc1b,_0x28aacd;for(let _0x59b5fc=0x2386+0x868+-0x2bee;_0x59b5fc<this['precision']+(-0x3*0xb5+0x8e*0x17+-0xaa2);_0x59b5fc++){const _0x21d833=Math['min'](_0x59b5fc,this['precision']-(-0x4b*-0x9+-0x1*0x636+0x394));for(let _0x5a0851=0x245f+0x1*0x24bd+0x2*-0x248e;_0x5a0851<0x2*0x9c5+-0x1*-0x170a+0x2*-0x1549;_0x5a0851++)_0x34870a=_0x2c3e42[_0x5a0851][_0x21d833*(0x1684+0x7*0x3dd+0x2*-0x18c6)+(0x14*-0x8d+0x13ea+0x11*-0x86)]*_0x31a3b3+_0x74ce7c[_0x5a0851],_0x4cbc1b=_0x2c3e42[_0x5a0851][_0x21d833*(0x101a*-0x1+0xf68+0xb5*0x1)+(0x1c78+0x883*-0x1+-0x13f4)]*_0x31a3b3+_0x4424d8[_0x5a0851],_0x28aacd=_0x2c3e42[_0x5a0851][_0x21d833*(0xbd*-0x1d+-0x1*-0x172+0x13fa)+(-0x104f+-0x787+-0x7*-0x368)]*_0x31a3b3+_0x2ab2f8[_0x5a0851],_0x2a8df1=Math['min'](_0x34870a,_0x2a8df1),_0x33f3c5=Math['min'](_0x4cbc1b,_0x33f3c5),_0x2f9a8c=Math['min'](_0x28aacd,_0x2f9a8c),_0x57c5a8=Math['max'](_0x34870a,_0x57c5a8),_0x1564a4=Math['max'](_0x4cbc1b,_0x1564a4),_0x2f9886=Math['max'](_0x28aacd,_0x2f9886),_0x74ce7c[_0x5a0851]=_0x34870a,_0x4424d8[_0x5a0851]=_0x4cbc1b,_0x2ab2f8[_0x5a0851]=_0x28aacd;for(let _0x18a8e0=-0x262d+-0x571*-0x5+0x4*0x2be;_0x18a8e0<0x1*0x26b9+0x1*-0x168f+0x40a*-0x4;_0x18a8e0++)_0x143331[_0x18a8e0]+=_0x31a3b3*Math['sqrt'](_0x4ecf0a[_0x18a8e0][_0x21d833*(0x1*0xf3d+0x7e2+-0x171c)+(-0x371*0xb+0x1*0xd1+0x250a*0x1)]*_0x4ecf0a[_0x18a8e0][_0x21d833*(0x19*0x148+-0xc3f+-0x13c6)+(0x135f+-0x1eeb*0x1+0xb8c)]+_0x4ecf0a[_0x18a8e0][_0x21d833*(0x1dc*-0xb+-0x1*0x78d+0x1c04)+(-0x7ae+-0x22df+-0x1a*-0x1a3)]*_0x4ecf0a[_0x18a8e0][_0x21d833*(0xab*-0xb+-0x1412+0x1b6e)+(-0x19de+-0x831+0x221*0x10)]+_0x4ecf0a[_0x18a8e0][_0x21d833*(0x1759+-0x1b94+0x2*0x21f)+(-0x1545+-0x1ca0+0x31e7)]*_0x4ecf0a[_0x18a8e0][_0x21d833*(0x3*0x805+-0x4e8+-0x1324)+(-0x180*-0x12+0x23c4+-0x3ec2)]);_0x4fa622[0x1f*0x6b+0x13bf+-0x20b4]+=this['qRadialSpe'+'ed'][_0x21d833]*_0x31a3b3,_0x4fa622[0x8d9+0x239b+0xed1*-0x3]+=this['qRadialSpe'+'ed2'][_0x21d833]*_0x31a3b3,_0x1d96f4=Math['max'](_0x1d96f4,Math['max'](Math['abs'](_0x4fa622[-0x1249*0x1+-0x1*0x117a+0x23c3]),Math['abs'](_0x4fa622[-0x215a+-0xf20+0x307b]))),_0x3cc77e=Math['max'](_0x3cc77e,this['qScale'][_0x21d833]);}this['emitterSha'+'pe']===Vs?(_0x34870a=this['emitterExt'+'ents']['x']*(0x160b+-0x1*-0x21c7+0x1*-0x37d2+0.5),_0x4cbc1b=this['emitterExt'+'ents']['y']*(0x141b+0x1*-0x1ce5+0x2d*0x32+0.5),_0x28aacd=this['emitterExt'+'ents']['z']*(0x1ca*0xb+0x2*-0x8f5+0x1*-0x1c4+0.5)):(_0x34870a=this['emitterRad'+'ius'],_0x4cbc1b=this['emitterRad'+'ius'],_0x28aacd=this['emitterRad'+'ius']);const _0x3d22a8=Math['max'](_0x143331[0x4d5*-0x5+-0x26a1+0x3eca],_0x143331[-0x8f+0x217f+-0x20ef*0x1]);Ul['x']=_0x2a8df1-_0x3cc77e-_0x34870a-_0x1d96f4-_0x3d22a8,Ul['y']=_0x33f3c5-_0x3cc77e-_0x4cbc1b-_0x1d96f4-_0x3d22a8,Ul['z']=_0x2f9a8c-_0x3cc77e-_0x28aacd-_0x1d96f4-_0x3d22a8,Vl['x']=_0x57c5a8+_0x3cc77e+_0x34870a+_0x1d96f4+_0x3d22a8,Vl['y']=_0x1564a4+_0x3cc77e+_0x4cbc1b+_0x1d96f4+_0x3d22a8,Vl['z']=_0x2f9886+_0x3cc77e+_0x28aacd+_0x1d96f4+_0x3d22a8,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x470ba5=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x470ba5['maxVertexT'+'extures']<=-0x61*-0x37+-0xdff+-0x6d7||_0x470ba5['fragmentUn'+'iformsCoun'+'t']<0x1ca9+0x1*-0x58f+-0x41*0x5a||_0x470ba5['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x470ba5['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?-0x255c*0x1+-0x206f+0x45cf:0x1f85+0xf35+-0x2eb8,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x135e+0xb0e+-0x1e6c]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x633*-0x5+-0x29c*0x2+-0x2*-0x121c]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x206e+-0x3b*-0x2e+-0x1*0x2b06),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x27e027=-0x22e9+-0x2b5*0xb+0x40b0;_0x27e027<this['numParticl'+'es'];_0x27e027++)this['vbToSort'][_0x27e027]=[-0x736+0x69e+0x98,0x1097*-0x2+0x123f+-0xeef*-0x1];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x5c5ea1=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[0x3a*0x1a+0x44*0x8d+0x49*-0x98]=this['emitterExt'+'ents']['x']!==-0x239f+-0x223*0x5+0x2e4e?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x32f*0x7+-0x881+0x1eca,ri[0x2*-0xcc7+0x1*0x25ea+-0xc5b]=this['emitterExt'+'ents']['y']!==0xcf5+-0x2*0x1217+-0x4a5*-0x5?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x20ac+0x16*-0x94+-0xe*-0x33e,ri[-0xe59*-0x1+-0x27*0x35+-0x644]=this['emitterExt'+'ents']['z']!==0x22f4+-0x15*0x66+0xd4b*-0x2?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0xf5*-0x15+0x1629+-0x210);for(let _0x320104=0xfd6*-0x2+-0x69+0x2015;_0x320104<this['numParticl'+'es'];_0x320104++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x5c5ea1,_0x320104),this['useCpu']&&(this['particleTe'+'x'][_0x320104*zl+(0x6*0x2d9+0x25fc+-0x370f)+this['numParticl'+'esPot']*(-0x1134+0x3*0xc69+-0x1405)*zl]=0x1*-0x12c1+0x40b+0x1*0xeb7);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x3a2485=0x15e+0x2380+0x2*-0x126f;_0x3a2485<this['particleTe'+'xStart']['length'];_0x3a2485++)this['particleTe'+'xStart'][_0x3a2485]=this['particleTe'+'x'][_0x3a2485];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x470ba5,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,-0x1f*0x59+0x324*-0xb+-0x2d54*-0x1,!(0x257*0x9+0x2089+-0x3597)),this['particleTe'+'xOUT']=Qt(_0x470ba5,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,-0x4b5+-0x26ac+0x2b62,!(0xc43*-0x1+-0x16*-0xd4+-0x5f4)),this['particleTe'+'xStart']=Qt(_0x470ba5,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,-0x2*0x113e+0x87c+0x1a01,!(0x136f+-0x18d1+-0xc5*-0x7))):(this['particleTe'+'xIN']=Qt(_0x470ba5,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x470ba5,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x470ba5,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0xa81+-0x3a1*0x3+0xb*0x9)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x19b+0x143*-0x17+-0x1ea1*-0x1)}),this['swapTex']=!(-0x1f43+0x71*0x19+0x143b));const _0x4b8fce=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x58c9b6=_0x4b8fce+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x191b6f=_0x4b8fce+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x1ae8ef=_0x4b8fce+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x2552eb='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x470ba5,X['fullscreen'+'QuadVS'],_0x58c9b6,'ParticleUp'+'dateRespaw'+'n-'+_0x2552eb),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x470ba5,X['fullscreen'+'QuadVS'],_0x191b6f,'ParticleUp'+'dateNoResp'+'awn-'+_0x2552eb),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x470ba5,X['fullscreen'+'QuadVS'],_0x1ae8ef,'ParticleUp'+'dateStop-'+_0x2552eb),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x7*0x1fc+-0xb0c+0x18f4,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x251b+-0xfb+-0x1e*-0x145]['numIndices']:0x234+-0x511+-0x1*-0x2e3,this['_allocate'](this['numParticl'+'es']);const _0x80ba40=new Ie(_0x470ba5);_0x80ba40['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x80ba40['indexBuffe'+'r'][0x1b2*0x7+-0x477*-0x5+-0x1*0x2231]=this['indexBuffe'+'r'],_0x80ba40['primitive'][-0x1131*-0x1+-0x7*-0x9f+-0x397*0x6]['type']=Ms,_0x80ba40['primitive'][-0x1f*-0x27+-0xedc+-0xf*-0xad]['base']=-0x1523+-0x243c+0x395f,_0x80ba40['primitive'][-0xb07+0x116b+-0x664]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x80ba40['primitive'][0x34b+0x23f5+0x10*-0x274]['indexed']=!(0x5c6*-0x6+-0x25cf+0x4873),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x55e856=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x2d9*-0x4+0x15f6+0x2*-0x10ad);this['meshInstan'+'ce']=new Le(_0x80ba40,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0x889+0x18c9+-0x2151),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x970+-0xc75*0x2+0x225a),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x9c1+0x2*0xf25+-0xa*0x401),this['meshInstan'+'ce']['visible']=_0x55e856,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0xa*0x2cb+-0x43*0x3+0x1*-0x1b25,!(0xe0a+-0x8c1+-0x1a*0x34)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x4e8+-0x1634+-0x67*-0x2b&&(this['animTilesX']>-0x25ad*0x1+0x3b8+0x21f6||this['animTilesY']>-0x14a4*0x1+0x149+0xb1*0x1c)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x43fa77=this['precision'],_0x4a4c2d=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x43fa77),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x43fa77),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x43fa77,0x1d0f+0x1*0x1b89+0x1c4c*-0x2,0x6f*-0x1d+-0x23ed+-0x102b*-0x3),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x43fa77),this['qScale']=this['scaleGraph']['quantize'](_0x43fa77),this['qAlpha']=this['alphaGraph']['quantize'](_0x43fa77),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x43fa77),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x43fa77),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x43fa77),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x43fa77,0x12c0+0x19b*-0x11+0x88b*0x1,0xc81+-0x1*-0x2c5+-0xf45),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x43fa77),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x43fa77),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x43fa77),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x43fa77);for(let _0x253b58=0x18be+0x1*0x1f6a+-0x3828;_0x253b58<_0x43fa77;_0x253b58++)this['qRotSpeed'][_0x253b58]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x253b58]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x4*-0x6d0+0x158c+-0x30c9),this['velocityUM'+'ax']=new Float32Array(0x6fa+0x24f*0x1+-0x946),this['colorUMax']=new Float32Array(-0x9e9*0x2+0x83f*-0x3+0x1649*0x2),this['rotSpeedUM'+'ax']=[0x10d*0x13+0x65*0x1f+-0x1*0x2032],this['scaleUMax']=[-0xf77*0x1+-0x16bf+0x2636],this['alphaUMax']=[0x2b*0xc+-0x21f+0x1b],this['radialSpee'+'dUMax']=[-0x87f+-0xcce+0x30b*0x7],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x30a61a=[-0x1c5*-0xd+-0x191*-0x3+-0x1*0x1bb4,-0x692+-0xc7f+-0x3*-0x65b,0x6*0x211+0x232b*0x1+-0x2f91];Fr(this['qVelocity'],_0x30a61a);const _0x3067a3=[-0x11e2+0x2*0xfd+0xfe8,0x2151*-0x1+0x4*-0x2aa+-0x2bf9*-0x1,0x181e+-0x129*0x13+-0x213];Fr(this['qVelocity2'],_0x3067a3);const _0x404b23=[-0x1f7e+0x1c9c+0x2e2,-0x1cad*-0x1+-0x534+-0x7d3*0x3,0x1cbd+0x220f*-0x1+0xe3*0x6];Fr(this['qLocalVelo'+'city'],_0x404b23);const _0x443c9c=[0x2189+-0x1e49+-0x340,0xaf7+0xd*0xdf+-0xb25*0x2,0x1*-0x1187+-0x907*-0x2+-0x87];Fr(this['qLocalVelo'+'city2'],_0x443c9c);const _0x51fd1e=[-0x1a51+-0xa84+0x543*0x7];Fr(this['qRadialSpe'+'ed'],_0x51fd1e);const _0x29f702=[0x20e0+-0x8f1*0x1+-0x17ef*0x1];Fr(this['qRadialSpe'+'ed2'],_0x29f702);let _0x380a62=Math['max'](_0x30a61a[0x145+0x1*0x7d+-0x4b*0x6],_0x3067a3[-0x40b+0x24fe+-0x1*0x20f3]);_0x380a62=Math['max'](_0x380a62,_0x30a61a[-0x5c*0x2f+-0x12f8+0x23dd]),_0x380a62=Math['max'](_0x380a62,_0x3067a3[0x22eb+0x5*-0x48a+-0xc38]),_0x380a62=Math['max'](_0x380a62,_0x30a61a[-0x11*0x139+-0xecf+0x239a]),_0x380a62=Math['max'](_0x380a62,_0x3067a3[0x12b+-0x51d*-0x4+-0x159d]);let _0x310a00=Math['max'](_0x404b23[-0xc2b+0x9d9+-0xb*-0x36],_0x443c9c[0x1ca7+-0xee*0x23+0x3e3]);_0x310a00=Math['max'](_0x310a00,_0x404b23[0x409*0x6+-0x14df+-0x356]),_0x310a00=Math['max'](_0x310a00,_0x443c9c[-0x168b+0x5*-0xe3+-0x1*-0x1afb]),_0x310a00=Math['max'](_0x310a00,_0x404b23[-0x4*-0x8c6+-0xf9b+-0x137b]),_0x310a00=Math['max'](_0x310a00,_0x443c9c[0x51a+0x889+-0x48b*0x3]);const _0x158f89=Math['max'](_0x51fd1e[0x13*0x1e7+0x4b*-0x78+0x1*-0xfd],_0x29f702[-0x25e7+-0x98d*0x2+-0x1*-0x3901]);this['maxVel']=_0x380a62+_0x310a00+_0x158f89;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x4a4c2d,_0x43fa77,0x17a*0x12+-0x6f1+-0x1*0x13a2,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x4a4c2d,_0x43fa77,-0x2b4+0x3*-0xa90+0x2265,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x4a4c2d,_0x43fa77,0xdf*0xe+0x3*0xab1+0x2*-0x1622,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x4a4c2d,_0x43fa77,0x144b+-0x14f+-0x12fb,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x4a4c2d,_0x43fa77,0x9a9+0x1*-0x1114+0x76c,r1(this['qColor'],this['qAlpha']),rs,0xd63+-0x97c+0x2*-0x1f3,!(-0x1*0x970+-0xf18+0x28*0x9d));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x35282d=new s1(this);return _0x35282d['name']='EmitterMat'+'erial:'+this['node']['name'],_0x35282d['cull']=mt,_0x35282d['alphaWrite']=!(0x1*-0xb2e+-0xc6f*-0x2+-0xdaf),_0x35282d['blendType']=this['blendType'],_0x35282d['depthWrite']=this['depthWrite'],_0x35282d;}['resetMater'+'ial'](){const _0x19e95b=this['material'];_0x19e95b['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x19e95b['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x19e95b['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x19e95b['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x19e95b['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x19e95b['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x19e95b['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x19e95b['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x19e95b['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x19e95b['setParamet'+'er']('colorParam',this['colorParam']),_0x19e95b['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x19e95b['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x19e95b['setParamet'+'er']('lifetime',this['lifetime']),_0x19e95b['setParamet'+'er']('rate',this['rate']),_0x19e95b['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x19e95b['setParamet'+'er']('seed',this['seed']),_0x19e95b['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0xa*-0x1c+-0x3b9*-0x6+-0x153e]),_0x19e95b['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0xa51+0x134f*-0x2+0x30ef]),_0x19e95b['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x9b2+-0x1fec+0x299e]),_0x19e95b['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x19e95b['setParamet'+'er']('graphSampl'+'eSize',(0x7ff+-0x20f1+0x1*0x18f3)/this['precision']),_0x19e95b['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x26b3*0x1+-0x90f+0x1*0x2fc3,0x126*-0x1a+-0x644+0x2421,-0x1191+-0x66d+-0x1*-0x17ff])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x19e95b['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x19e95b['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x19e95b['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0xdcd+0x1542+-0x19*0x167]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x520+-0x16e7+0x2*0x8e4]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0xda2+-0x2027+-0x269*-0x13]=this['wrapBounds']['z'],_0x19e95b['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0x1*0x112f+0x13*0x97+0x2fd*0x2&&_0x19e95b['setParamet'+'er']('softening',(-0x1cbb+-0x16c7*0x1+0x3383*0x1)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x95d*0x1+0x5c6+0x3fb*0x1))),this['stretch']>-0x1*0x144f+0x44d*-0x1+0x189c&&(_0x19e95b['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x51063a,_0x213098;if(this['orientatio'+'n']===Uh)_0x51063a=new Float32Array([0x95*0x43+-0x190f*0x1+0x1*-0xdef,0x76a*0x5+-0x6ab+-0x1e67,-0x25c9+-0x1*0x1a3e+-0x25*-0x1bb]),_0x213098=new Float32Array([0xf7+0x1*0x2261+0x74*-0x4e,0x206a+0x2635+0x469f*-0x1,0x7cf+-0x1fc*0x6+-0x1*-0x41a]);else{let _0x37af0e;this['orientatio'+'n']===Xb?_0x37af0e=this['particleNo'+'rmal']['normalize']():_0x37af0e=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x30715a=new T(-0x73e*0x2+0x4*0x5ce+-0x8bb,0x11c1+-0x206b+-0x2*-0x755,0x1*0x14bd+-0x1*-0x10a5+-0x2562);Math['abs'](_0x30715a['dot'](_0x37af0e))===0x1*-0x2a5+0x20a8+-0x1e02&&_0x30715a['set'](0x59*0x17+0x200e+-0x280d,0x48+-0x9*0x2cf+0x18ff,-0x204d*0x1+0x1c14+0x1*0x43a);const _0x337edc=new T()['cross'](_0x37af0e,_0x30715a)['normalize']();_0x30715a['cross'](_0x337edc,_0x37af0e)['normalize'](),_0x51063a=new Float32Array([_0x30715a['x'],_0x30715a['y'],_0x30715a['z']]),_0x213098=new Float32Array([_0x337edc['x'],_0x337edc['y'],_0x337edc['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x51063a),this['material']['setParamet'+'er']('faceBinorm',_0x213098);}['_allocate'](_0x26d3f7){const _0x2f81af=_0x26d3f7*this['numParticl'+'eVerts'],_0x23b063=_0x26d3f7*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x1a86+-0x1499+-0x1*0x5ed)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x2f81af){const _0x415c29=[];this['useCpu']?_0x415c29['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?0x1064+0x2111+-0x3171:0x1288+0x16b+-0x1*0x13f1,'type':Ee}):(_0x415c29['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x415c29['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x2b0a23=new Et(this['graphicsDe'+'vice'],_0x415c29);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x2b0a23,_0x2f81af,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x23b063);const _0x414068=new Float32Array(this['vertexBuff'+'er']['lock']());let _0xecf1e5,_0x2e3ac7,_0x66d21e;if(this['useMesh']){_0xecf1e5=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x2e3ac7=_0xecf1e5['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x376278=-0x3d*-0x5b+-0x1895+0x2e6;_0x376278<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x376278++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x376278]['name']===ns){_0x66d21e=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x376278]['offset']/(-0x5*0x5a1+0x1d38+-0x10f);break;}}for(let _0x3fc757=0xd3e+0x1*0x17bf+-0x24fd;_0x3fc757<_0x2f81af;_0x3fc757++){const _0x31ab17=Math['floor'](_0x3fc757/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x326565=_0x3fc757%this['numParticl'+'eVerts'];_0x414068[_0x3fc757*(-0xe*-0xb3+0x1*0x26ce+-0x3092)]=_0xecf1e5[_0x326565*_0x2e3ac7],_0x414068[_0x3fc757*(-0xb*-0x50+-0xd33*-0x2+0x8*-0x3ba)+(0xe*0x290+-0x86*0x19+-0x16c9)]=_0xecf1e5[_0x326565*_0x2e3ac7+(-0x2bc+-0x1*0x7f5+0xab2)],_0x414068[_0x3fc757*(0x2*-0x4bd+-0x1*0x26b3+-0x9*-0x55b)+(0xc1d+0x2*0x1244+-0x30a3)]=_0xecf1e5[_0x326565*_0x2e3ac7+(-0x8a*0x5+-0x2*-0x1358+-0x2f*0xc4)],_0x414068[_0x3fc757*(0x5c6*0x2+-0x240d+0x1887)+(-0xc3*0x2c+0x155+0x27a*0xd)]=_0x31ab17,_0x414068[_0x3fc757*(0x2*-0x40d+-0x538+0x38*0x3d)+(-0x481+-0x14ef+0x1974)]=_0xecf1e5[_0x326565*_0x2e3ac7+_0x66d21e+(-0x178b+-0x1d90+0x1*0x351b)],_0x414068[_0x3fc757*(-0x161+0x223*0x1+-0xbc)+(-0x2ee+-0x1*0x9f1+0x2*0x672)]=0x1f71+-0x2396+0x6*0xb1-_0xecf1e5[_0x326565*_0x2e3ac7+_0x66d21e+(-0xdd0*-0x2+0x14d4+-0x3073)];}else{const _0x5d62da=_0x3fc757%(0x1235+0x7db*0x2+0x315*-0xb);_0x414068[_0x3fc757*(-0xdd0+0x26ac*0x1+0x848*-0x3)]=E_[_0x5d62da][-0x15d0+0x1da9+-0x7d9],_0x414068[_0x3fc757*(-0x1d60+-0x242*-0x5+-0x90d*-0x2)+(-0x3*0x86f+-0x12b3*-0x1+0x69b)]=E_[_0x5d62da][0x63c+0x917+-0xf52],_0x414068[_0x3fc757*(0x21ad+0x159a+-0x3743)+(-0x1021*-0x2+0x10ed+-0x312d)]=0x1bac+0x247a*-0x1+0x8ce,_0x414068[_0x3fc757*(0xe3*0x1+-0x2f*-0xc7+-0x2568)+(0x1*-0x1582+0x6*-0x60a+0x1*0x39c1)]=_0x31ab17;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x414068),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x6bd4c9=0x51*0x5f+0x96*-0xa+-0x1833;const _0x1465be=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x252f24=this['mesh']['indexBuffe'+'r'][0x1*0x49a+-0x1702+0x1268];_0xecf1e5=new Lh[_0x252f24['format']](_0x252f24['lock']());}for(let _0x4e69ee=-0x1*-0x1031+0xe52*-0x1+-0x1df;_0x4e69ee<_0x26d3f7;_0x4e69ee++)if(this['useMesh']){for(let _0x3a2e09=0x122c*-0x1+0x24dd+-0x12b1;_0x3a2e09<this['numParticl'+'eIndices'];_0x3a2e09++)_0x1465be[_0x4e69ee*this['numParticl'+'eIndices']+_0x3a2e09]=_0xecf1e5[_0x3a2e09]+_0x4e69ee*this['numParticl'+'eVerts'];}else{const _0x3539c5=_0x4e69ee*(0x1751+0xab3+0x100*-0x22);_0x1465be[_0x6bd4c9++]=_0x3539c5,_0x1465be[_0x6bd4c9++]=_0x3539c5+(0x1b3*-0x5+-0x2*0x4d6+0x122c),_0x1465be[_0x6bd4c9++]=_0x3539c5+(0x2bd+0x207d*0x1+-0x2*0x119c),_0x1465be[_0x6bd4c9++]=_0x3539c5,_0x1465be[_0x6bd4c9++]=_0x3539c5+(0xfb8+0x261b+0x1*-0x35d1),_0x1465be[_0x6bd4c9++]=_0x3539c5+(-0x27*0x31+0x2107*-0x1+0x2881);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x1585+0x1223*-0x1+0x27a8]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x20c6+0x1f2e+0x198),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x440056=0x8cd+0x7d0+-0x109d;_0x440056<this['particleTe'+'xStart']['length'];_0x440056++)this['particleTe'+'x'][_0x440056]=this['particleTe'+'xStart'][_0x440056];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x365646=this['loop'];this['loop']=!(-0x1*-0x1343+-0x1604+-0xeb*-0x3),this['addTime'](0x20e4+0x1*-0x301+-0x1de3,!(-0x4a*-0x79+-0x1b95*-0x1+0x1f47*-0x2)),this['loop']=_0x365646,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x456004){const _0x58523e=_0x456004/this['lifetime'],_0x5c7cf7=Math['min'](Math['floor'](_0x58523e*this['precision']),this['precision']),_0xcaa310=_0x456004/_0x5c7cf7;for(let _0x206740=-0x1c*0x34+0x11c*0x2+0x378;_0x206740<_0x5c7cf7;_0x206740++)this['addTime'](_0xcaa310,!(-0x1*-0x757+-0x2fc+-0x45a));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x47237e,_0x16e784){const _0x43a537=this['graphicsDe'+'vice'],_0x3f2c9d=ne();if(this['simTimeTot'+'al']+=_0x47237e,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x5f5531=this['animTilesP'+'arams'];_0x5f5531[-0x1227+-0x2*-0x2d7+0xc79]=(-0xf61+0x17dd+-0x87b)/this['animTilesX'],_0x5f5531[-0x1536+-0xea2+-0x23d9*-0x1]=(-0x2*0xdf6+0x12c1*0x1+0x2*0x496)/this['animTilesY'];const _0x18b136=this['animParams'];_0x18b136[-0x2*-0x31a+0x11*-0x79+0x1d5]=this['animStartF'+'rame'],_0x18b136[-0x4*-0x899+-0x8a9+-0x4a*0x59]=this['animNumFra'+'mes']*this['animSpeed'],_0x18b136[0x443*-0x2+0x2*0x10ea+0x194c*-0x1]=this['animNumFra'+'mes']-(0x14aa*0x1+-0x1ebc*-0x1+-0x3365),_0x18b136[-0x4*0x2a3+-0x2*0x10e8+0x2c5f]=this['animNumAni'+'mations']-(0x1980+-0x148e+-0x4f1);const _0x39f858=this['animIndexP'+'arams'];_0x39f858[0x2269+0x1bfe*0x1+0xe1*-0x47]=this['animIndex'],_0x39f858[-0x5e1+-0x12ed+0x18cf]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[0x8*-0x1cf+0xa73+-0x405*-0x1]=this['emitterExt'+'ents']['x']!==-0x6f3+-0x1*-0x48d+-0x266*-0x1?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0xd2*0x1c+-0xc98+-0xa60,ri[-0x947+-0xd3*0x1d+0x6a3*0x5]=this['emitterExt'+'ents']['y']!==-0xbf*0xc+0x3*-0x9d1+0xccd*0x3?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x2365+0x739+0x1c2c,ri[-0xf4f+-0x11fe+0x214f]=this['emitterExt'+'ents']['z']!==0x1d92+-0x260c*-0x1+-0x439e?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x64e+-0xce3+0x1331*0x1,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x29cffd;const _0x1e6c31=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x1f87+-0x1d*-0x3c+-0x1*0x2653]=_0x1e6c31['x'],this['emitterSca'+'leUniform'][0xc65+-0x1*0x1396+-0x1*-0x732]=_0x1e6c31['y'],this['emitterSca'+'leUniform'][0x12e2*0x2+-0x1*-0x2ab+0x83*-0x4f]=_0x1e6c31['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x29cffd=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x2ac+-0x1*-0x10ba+-0xe0e]=_0x29cffd['x'],this['emitterPos'+'Uniform'][0x48d*0x3+-0x2607+-0x1*-0x1861]=_0x29cffd['y'],this['emitterPos'+'Uniform'][-0xd99+-0x885+0x6*0x3b0]=_0x29cffd['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x43a537,Tr,ri,_0x47237e,_0x16e784);else{const _0x38ca7d=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x38ca7d,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x29cffd,_0x47237e,_0x16e784);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x13b5+0x34+-0x13e8)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0x3f2c9d;}['_destroyRe'+'sources'](){var _0x2f8057,_0xcdcb96,_0x49f9d7,_0x40e617,_0x276847,_0x2cff87,_0x347eca,_0x2efb1e,_0x378bfd,_0x749124,_0x148663,_0x5a9a66;(_0x2f8057=this['particleTe'+'xIN'])==null||_0x2f8057['destroy'](),this['particleTe'+'xIN']=null,(_0xcdcb96=this['particleTe'+'xOUT'])==null||_0xcdcb96['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x49f9d7=this['rtParticle'+'TexIN'])==null||_0x49f9d7['destroy'](),this['rtParticle'+'TexIN']=null,(_0x40e617=this['rtParticle'+'TexOUT'])==null||_0x40e617['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x276847=this['internalTe'+'x0'])==null||_0x276847['destroy'](),this['internalTe'+'x0']=null,(_0x2cff87=this['internalTe'+'x1'])==null||_0x2cff87['destroy'](),this['internalTe'+'x1']=null,(_0x347eca=this['internalTe'+'x2'])==null||_0x347eca['destroy'](),this['internalTe'+'x2']=null,(_0x2efb1e=this['internalTe'+'x3'])==null||_0x2efb1e['destroy'](),this['internalTe'+'x3']=null,(_0x378bfd=this['colorParam'])==null||_0x378bfd['destroy'](),this['colorParam']=null,(_0x749124=this['vertexBuff'+'er'])==null||_0x749124['destroy'](),this['vertexBuff'+'er']=void(0x13e4+0x2*-0xfb+-0x22*0x87),(_0x148663=this['indexBuffe'+'r'])==null||_0x148663['destroy'](),this['indexBuffe'+'r']=void(-0x409*-0x6+0x1ef3+-0x3729),(_0x5a9a66=this['material'])==null||_0x5a9a66['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends Dt{['generateKe'+'y'](_0x1c3b80){const _0x28cc23=_0x1c3b80['shaderDesc'],_0x52a41a=_0x28cc23['vertexCode']?hn(_0x28cc23['vertexCode']):0x1*0xeed+-0x1ee9+-0x2c*-0x5d,_0x4a6710=_0x28cc23['fragmentCo'+'de']?hn(_0x28cc23['fragmentCo'+'de']):0xf6c+0x7c9+-0x1735,_0x1bb891=Dt['definesHas'+'h'](_0x1c3b80['defines']);let _0x56684f=_0x28cc23['uniqueName']+'_'+_0x52a41a+'_'+_0x4a6710+'_'+_0x1bb891;return _0x1c3b80['skin']&&(_0x56684f+='_skin'),_0x1c3b80['useInstanc'+'ing']&&(_0x56684f+='_inst'),_0x1c3b80['useMorphPo'+'sition']&&(_0x56684f+='_morphp'),_0x1c3b80['useMorphNo'+'rmal']&&(_0x56684f+='_morphn'),_0x1c3b80['useMorphTe'+'xtureBased'+'Int']&&(_0x56684f+='_morphi'),_0x56684f;}['createAttr'+'ibutesDefi'+'nition'](_0x2af09f,_0x216540){const _0x4d89ae=_0x216540['shaderDesc']['attributes'],_0x54b1df=_0x4d89ae?{..._0x4d89ae}:void(-0x1*0x1c6+0x1d*-0x106+0x1f74);_0x216540['skin']&&(_0x54b1df['vertex_bon'+'eWeights']=Ys,_0x54b1df['vertex_bon'+'eIndices']=qt),(_0x216540['useMorphPo'+'sition']||_0x216540['useMorphNo'+'rmal'])&&(_0x54b1df['morph_vert'+'ex_id']=ya),_0x2af09f['attributes']=_0x54b1df;}['createVert'+'exDefiniti'+'on'](_0x238319,_0x5f2ec6,_0x32a8de){const _0x228f7a=_0x5f2ec6['shaderDesc'];if(_0x238319['shaderLang'+'uage']===Ph)_0x238319['vertexCode']=_0x228f7a['vertexCode'];else{const _0xbe21e5=new Map(_0x32a8de),_0x35a3a4=new Map(_0x5f2ec6['defines']);_0xbe21e5['set']('transformI'+'nstancingV'+'S',''),_0x5f2ec6['skin']&&_0x35a3a4['set']('SKIN',!(0x812*-0x2+0x20f+0xe15)),_0x5f2ec6['useInstanc'+'ing']&&_0x35a3a4['set']('INSTANCING',!(-0xc56+0x3*-0xcc4+0x32a2)),(_0x5f2ec6['useMorphPo'+'sition']||_0x5f2ec6['useMorphNo'+'rmal'])&&(_0x35a3a4['set']('MORPHING',!(-0x1993+-0xf6*-0x9+0x1*0x10ed)),_0x5f2ec6['useMorphTe'+'xtureBased'+'Int']&&_0x35a3a4['set']('MORPHING_I'+'NT',!(-0x71*-0x33+-0x521+-0x1bd*0xa)),_0x5f2ec6['useMorphPo'+'sition']&&_0x35a3a4['set']('MORPHING_P'+'OSITION',!(-0x1118+-0xb35+-0x15*-0x159)),_0x5f2ec6['useMorphNo'+'rmal']&&_0x35a3a4['set']('MORPHING_N'+'ORMAL',!(-0x118a+0x1*0x43+-0x1147*-0x1))),_0x238319['vertexCode']=_0x228f7a['vertexCode'],_0x238319['vertexIncl'+'udes']=_0xbe21e5,_0x238319['vertexDefi'+'nes']=_0x35a3a4;}}['createFrag'+'mentDefini'+'tion'](_0x2c6208,_0x5e7483,_0x4abbc0){const _0x117c15=_0x5e7483['shaderDesc'];if(_0x2c6208['shaderLang'+'uage']===Ph)_0x2c6208['fragmentCo'+'de']=_0x117c15['fragmentCo'+'de'];else{const _0x3284b4=new Map(_0x4abbc0),_0x3df84d=new Map(_0x5e7483['defines']);_0x2c6208['fragmentCo'+'de']=_0x117c15['fragmentCo'+'de'],_0x2c6208['fragmentIn'+'cludes']=_0x3284b4,_0x2c6208['fragmentDe'+'fines']=_0x3df84d;}}['createShad'+'erDefiniti'+'on'](_0x559803,_0x18a9b1){const _0x2b0b7f=_0x18a9b1['shaderDesc'],_0x3e8ace={'name':'ShaderMate'+'rial-'+_0x2b0b7f['uniqueName'],'shaderLanguage':_0x2b0b7f['shaderLang'+'uage'],'fragmentOutputTypes':_0x2b0b7f['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x2b0b7f['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x2b0b7f['meshBindGr'+'oupFormat']},_0x7ce4e2=new Map(Object['entries']({...X,..._0x18a9b1['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x3e8ace,_0x18a9b1),this['createVert'+'exDefiniti'+'on'](_0x3e8ace,_0x18a9b1,_0x7ce4e2),this['createFrag'+'mentDefini'+'tion'](_0x3e8ace,_0x18a9b1,_0x7ce4e2),Mt['createDefi'+'nition'](_0x559803,_0x3e8ace);}}const f1=new u1();class Ra extends yn{constructor(_0x43d30b){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x43d30b;}set['shaderDesc'](_0xf3dd6f){_0xf3dd6f&&(v['assert'](_0xf3dd6f['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0xf3dd6f['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0xf3dd6f?{..._0xf3dd6f}:void(-0x224e+-0xfc*-0x24+-0x122),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x3d57ed){return super['copy'](_0x3d57ed),this['shaderDesc']=_0x3d57ed['shaderDesc'],this;}['getShaderV'+'ariant'](_0x3d9495){const {objDefs:_0x26a63b}=_0x3d9495,_0x33dcd7={'defines':Dp(this,_0x3d9495),'skin':(_0x26a63b&$c)!==-0x11*-0x12+-0xf*0x19d+0x1c5*0xd,'useInstancing':(_0x26a63b&Wc)!==0xf2a+-0x1086+0x15c,'useMorphPosition':(_0x26a63b&qc)!==-0x1401+0x12*-0x10e+-0x26fd*-0x1,'useMorphNormal':(_0x26a63b&Xc)!==0x20d5+-0x22c2+0x1ed,'useMorphTextureBasedInt':(_0x26a63b&jc)!==-0x625+0x1ea4+-0x187f,'pass':_0x3d9495['pass'],'gamma':_0x3d9495['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x3d9495['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x3d9495['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x55a0b7=new Yc(_0x3d9495['viewUnifor'+'mFormat'],_0x3d9495['viewBindGr'+'oupFormat'],_0x3d9495['vertexForm'+'at']),_0x40233e=ka(_0x3d9495['device']);return _0x40233e['register']('shader-mat'+'erial',f1),_0x40233e['getProgram']('shader-mat'+'erial',_0x33dcd7,_0x55a0b7,this['userId']);}}const k0=(_0x5d5cf3,_0x346899)=>{const _0x3fbbcc=_0x346899['length']/(-0x83d+0x1513*-0x1+0x1d53*0x1),_0x218918=_0x5d5cf3['length']/(0x1*0x23e9+-0x5*0x97+-0x1*0x20f3),_0x320ef0=new T(),_0x2ab7c0=new T(),_0x38a092=new T(),_0x25440b=new T(),_0x20deb4=new T(),_0xf982af=new T(),_0x3111df=[];for(let _0x1cf019=-0x1ff+0x1*-0x21d7+0x23d6;_0x1cf019<_0x5d5cf3['length'];_0x1cf019++)_0x3111df[_0x1cf019]=-0x12a3+-0x336*-0x5+0x295;for(let _0x246217=-0xa61+0xf72+-0x511*0x1;_0x246217<_0x3fbbcc;_0x246217++){const _0x1c7e51=_0x346899[_0x246217*(0x1*-0x25e1+0x1bcb*0x1+-0xa19*-0x1)],_0x4b0f8e=_0x346899[_0x246217*(-0x279+0x1*-0xc29+-0xea5*-0x1)+(0x1555+0x1135*0x2+-0x37be)],_0x5cd81d=_0x346899[_0x246217*(0x44*-0x28+-0x23bf+0x2e62)+(-0x3df*0xa+0xb8d*-0x3+0x827*0x9)];_0x320ef0['set'](_0x5d5cf3[_0x1c7e51*(-0xb31+0x301*-0x1+0x1*0xe35)],_0x5d5cf3[_0x1c7e51*(-0x11ef+-0x4*-0x8c6+-0x1126)+(0x3e*0x17+0x401*-0x6+0x1275)],_0x5d5cf3[_0x1c7e51*(-0x1314+-0x1ece+0x1*0x31e5)+(-0x8*0x42e+-0x2ea*0xc+-0x1*-0x446a)]),_0x2ab7c0['set'](_0x5d5cf3[_0x4b0f8e*(0xa1b+-0x6a6+-0x372)],_0x5d5cf3[_0x4b0f8e*(-0x93d*0x1+0x24c3+-0x1b83)+(-0x1bf5+0x37c*-0x1+0x1f72)],_0x5d5cf3[_0x4b0f8e*(-0x13ee*-0x1+-0x3*0x8fe+-0xd*-0x8b)+(0xc49+-0x1848+0xc01)]),_0x38a092['set'](_0x5d5cf3[_0x5cd81d*(0x916+0x1*-0x6df+-0x234)],_0x5d5cf3[_0x5cd81d*(-0x163*0x19+-0xa5b*-0x3+0x5*0xb9)+(0x1f34+0x285*-0x7+0x364*-0x4)],_0x5d5cf3[_0x5cd81d*(0x87e+-0x631*0x1+-0x24a)+(-0x1*-0x7ff+-0x4da+-0x323)]),_0x25440b['sub2'](_0x2ab7c0,_0x320ef0),_0x20deb4['sub2'](_0x38a092,_0x320ef0),_0xf982af['cross'](_0x25440b,_0x20deb4)['normalize'](),_0x3111df[_0x1c7e51*(0xf66*0x1+-0x48a*-0x3+-0x1d01)]+=_0xf982af['x'],_0x3111df[_0x1c7e51*(-0x194d+0x1f3f+0xd9*-0x7)+(0x1*-0x105+-0x59f*-0x1+0x6b*-0xb)]+=_0xf982af['y'],_0x3111df[_0x1c7e51*(-0x200a*0x1+-0x2*-0xf1+0x1e2b)+(0x26b3*0x1+0x1f28+-0x45d9)]+=_0xf982af['z'],_0x3111df[_0x4b0f8e*(-0x6*-0x587+0x31d*0x4+-0x5*0x91f)]+=_0xf982af['x'],_0x3111df[_0x4b0f8e*(-0x258a+-0x9*-0xa6+0x1fb7)+(0xddc+0x2fb*0x8+-0xc91*0x3)]+=_0xf982af['y'],_0x3111df[_0x4b0f8e*(0x1e11+-0x1*0x1e31+0x23)+(0x3c1+-0x1b*0xc7+0x1*0x113e)]+=_0xf982af['z'],_0x3111df[_0x5cd81d*(-0x11d5+0x25ab+-0x2d5*0x7)]+=_0xf982af['x'],_0x3111df[_0x5cd81d*(0x13e4+-0xb*0x2bf+0xa54)+(-0x2680+0x966*-0x3+0x42b3*0x1)]+=_0xf982af['y'],_0x3111df[_0x5cd81d*(-0x1b1*0x4+0x4*0x61b+-0x11a5*0x1)+(-0x894+0x456+0x88*0x8)]+=_0xf982af['z'];}for(let _0x220b11=-0x2*0x87c+-0x26ad+0x37a5;_0x220b11<_0x218918;_0x220b11++){const _0x11af8e=_0x3111df[_0x220b11*(-0x1259+0xb09+-0x7d*-0xf)],_0x5a9dce=_0x3111df[_0x220b11*(0x21d*0xa+0x871*-0x1+-0x1*0xcae)+(-0x165d+-0x74b+-0x3*-0x9e3)],_0xde1eab=_0x3111df[_0x220b11*(0xb3*-0x1+0x5*0x2d4+-0xd6e)+(0x21fb+0x105*-0x6+-0x1bdb)],_0x36644e=(-0x1*0x17c9+0x3*0x6a+0x168c)/Math['sqrt'](_0x11af8e*_0x11af8e+_0x5a9dce*_0x5a9dce+_0xde1eab*_0xde1eab);_0x3111df[_0x220b11*(-0x8bb+-0x1*-0x649+0x11*0x25)]*=_0x36644e,_0x3111df[_0x220b11*(-0x219b+-0x2457+-0x45f5*-0x1)+(0xc*-0x62+-0x13b*-0x19+-0x1a2a*0x1)]*=_0x36644e,_0x3111df[_0x220b11*(0x1*0x24b7+0x2f3*0xd+-0x4b0b)+(0x2bf+0x1845+-0x2*0xd81)]*=_0x36644e;}return _0x3111df;},fr=(_0x458a62,_0x192989,_0xf6ad02,_0x4da8dd)=>{const _0x30d0fd=_0x4da8dd['length']/(0x3*0xb53+0x3*0xa82+-0x417c),_0x1872af=_0x458a62['length']/(-0x3*-0x4cf+0x1f7*0x13+0x1*-0x33bf),_0x3da054=new T(),_0x5e4328=new T(),_0x3d00c3=new T(),_0x307cee=new $(),_0x5b2ba4=new $(),_0x540c2e=new $(),_0x30f625=new T(),_0x14ab70=new T(),_0x57d67d=new Float32Array(_0x1872af*(0x7*-0x259+-0x681+-0x497*-0x5)),_0x37b69e=new Float32Array(_0x1872af*(0x511*0x5+-0x23a3+0xa51)),_0x4b8622=[];for(let _0x187f47=0x2368+0x174*0x5+-0x2aac;_0x187f47<_0x30d0fd;_0x187f47++){const _0x246261=_0x4da8dd[_0x187f47*(0x1d*0x85+0x196*0x7+-0x1a28)],_0x1022ab=_0x4da8dd[_0x187f47*(0x38f*-0xa+-0x2bb*0x1+-0x132a*-0x2)+(-0x1c58+-0xffe*0x2+0x3c55)],_0x4d48e3=_0x4da8dd[_0x187f47*(0x15c4+0x1cbd+-0x327e)+(0x2*0x92e+0x1a0f*0x1+-0x2c69)];_0x3da054['set'](_0x458a62[_0x246261*(-0xf5*-0x24+0x29*0x7b+0x1ef*-0x1c)],_0x458a62[_0x246261*(0xca8+0x1*0x2159+0x692*-0x7)+(0x218+-0x2*-0xe63+-0x1edd)],_0x458a62[_0x246261*(0xb4a*0x1+0x7*-0x440+0x1279)+(-0x1*0x132f+0x25c5+-0x1294)]),_0x5e4328['set'](_0x458a62[_0x1022ab*(0x15c1+-0x907*-0x3+-0x1*0x30d3)],_0x458a62[_0x1022ab*(-0xa*0xd3+0x7b5+-0x8c*-0x1)+(0x15*0x45+0x1c57+-0x9*0x3c7)],_0x458a62[_0x1022ab*(0x2669+0x35a+-0x29c0)+(0x27*0x6a+0x1cfb*0x1+-0x2d1f)]),_0x3d00c3['set'](_0x458a62[_0x4d48e3*(-0x11b6*-0x1+-0x91*0x25+-0x8b*-0x6)],_0x458a62[_0x4d48e3*(-0x578+0x14c5+-0x26*0x67)+(-0x262d+0x1347*-0x1+0x3975)],_0x458a62[_0x4d48e3*(0x1d59*0x1+0xf2+-0x1e48)+(-0x1e0a+0x2db*0x2+0x1856)]),_0x307cee['set'](_0xf6ad02[_0x246261*(0x17*-0x15e+-0xf1*0x7+0x260b)],_0xf6ad02[_0x246261*(-0x1f4+0x1*0x17+0x1df)+(-0x17f3*0x1+-0x11e7+-0x85f*-0x5)]),_0x5b2ba4['set'](_0xf6ad02[_0x1022ab*(-0x398+-0x7*0x11+0x1*0x411)],_0xf6ad02[_0x1022ab*(-0x1f55*-0x1+0x787*0x1+-0x26da)+(-0x2c*-0xdd+0x1*-0x2419+-0xf1*0x2)]),_0x540c2e['set'](_0xf6ad02[_0x4d48e3*(0x215e+0x1*0x15dc+-0x5d*0x98)],_0xf6ad02[_0x4d48e3*(-0xfba+-0x98*0x14+0x1b9c)+(-0x1*0x1065+0x228*-0x2+0x14b6)]);const _0x3893ad=_0x5e4328['x']-_0x3da054['x'],_0x2cf403=_0x3d00c3['x']-_0x3da054['x'],_0x1776ec=_0x5e4328['y']-_0x3da054['y'],_0x16dfc6=_0x3d00c3['y']-_0x3da054['y'],_0x68336c=_0x5e4328['z']-_0x3da054['z'],_0x93eeea=_0x3d00c3['z']-_0x3da054['z'],_0x46dc33=_0x5b2ba4['x']-_0x307cee['x'],_0xaeb278=_0x540c2e['x']-_0x307cee['x'],_0x39495c=_0x5b2ba4['y']-_0x307cee['y'],_0x1f2bf4=_0x540c2e['y']-_0x307cee['y'],_0x3e60a9=_0x46dc33*_0x1f2bf4-_0xaeb278*_0x39495c;if(_0x3e60a9===-0x1df+0x51*-0x7+0x416)_0x30f625['set'](-0x2657+0x6e9*0x4+0xab3,-0x1252+0x5*0x6b6+0x7*-0x22d,-0xb*-0x2c2+-0x1357+-0x1*0xaff),_0x14ab70['set'](0x63*0x3f+-0x240b+0xbaf,0x73f+0x565*-0x5+0x5*0x3f2,0x246a+-0x43a*-0x4+-0x3552);else{const _0x17f772=(0xe3*0x21+0x59a+-0x22dc)/_0x3e60a9;_0x30f625['set']((_0x1f2bf4*_0x3893ad-_0x39495c*_0x2cf403)*_0x17f772,(_0x1f2bf4*_0x1776ec-_0x39495c*_0x16dfc6)*_0x17f772,(_0x1f2bf4*_0x68336c-_0x39495c*_0x93eeea)*_0x17f772),_0x14ab70['set']((_0x46dc33*_0x2cf403-_0xaeb278*_0x3893ad)*_0x17f772,(_0x46dc33*_0x16dfc6-_0xaeb278*_0x1776ec)*_0x17f772,(_0x46dc33*_0x93eeea-_0xaeb278*_0x68336c)*_0x17f772);}_0x57d67d[_0x246261*(0x1*0x1220+-0x1*0x1f4d+0xd30)+(0x17*0x181+0x144e+0x263*-0x17)]+=_0x30f625['x'],_0x57d67d[_0x246261*(0x17eb+0x7*-0x311+-0x7d*0x5)+(-0x17*-0xc5+-0x66a*-0x4+-0x1f*0x166)]+=_0x30f625['y'],_0x57d67d[_0x246261*(0x1341+-0x6*-0x5f6+0x3*-0x1256)+(0x9e*0x2+-0x1562+0x8*0x285)]+=_0x30f625['z'],_0x57d67d[_0x1022ab*(0x1c8d+-0x250f+0x885*0x1)+(-0x7a*0x2e+-0xec+0x16d8)]+=_0x30f625['x'],_0x57d67d[_0x1022ab*(0x1500+-0x53c+-0xfc1*0x1)+(0x6f3*0x2+0x1ca+-0x323*0x5)]+=_0x30f625['y'],_0x57d67d[_0x1022ab*(0x28*0x26+-0x6b2+0x1*0xc5)+(-0x77*0x9+0x1c11+0x2*-0xbf0)]+=_0x30f625['z'],_0x57d67d[_0x4d48e3*(0x334+-0x208f+0xb3*0x2a)+(-0x3*0x6d1+-0x9*0xfd+0x1d58)]+=_0x30f625['x'],_0x57d67d[_0x4d48e3*(0x9*0x15e+-0x2*0x24d+-0x7b1*0x1)+(-0x1730+0xd74*-0x2+0x3219)]+=_0x30f625['y'],_0x57d67d[_0x4d48e3*(0x95*0x31+-0x188d+-0x3f5)+(-0xcd9+0x7c+0xc5f)]+=_0x30f625['z'],_0x37b69e[_0x246261*(0x16fd*0x1+0x131c+-0x2a16)+(0x1*0x1e0b+-0x25f0+0x7e5)]+=_0x14ab70['x'],_0x37b69e[_0x246261*(-0x1c5*-0xb+-0x1cd*0xe+0x5c2)+(-0x78d*-0x4+-0x1*-0xddf+-0x2c12)]+=_0x14ab70['y'],_0x37b69e[_0x246261*(0x162d+-0x11*0x23b+0xfc1)+(-0x349*-0x3+0x621+-0xffa)]+=_0x14ab70['z'],_0x37b69e[_0x1022ab*(-0x42*0x1+-0xca0+-0xce5*-0x1)+(0x131f+0x3*0x934+-0x2ebb)]+=_0x14ab70['x'],_0x37b69e[_0x1022ab*(-0x252*0xa+0x68d+-0x855*-0x2)+(0x257e+-0xfe9*0x1+-0x1594)]+=_0x14ab70['y'],_0x37b69e[_0x1022ab*(-0x2ef*0x3+-0x3*-0x224+-0x4*-0x99)+(-0x73a*-0x5+-0x11d7*-0x1+-0x35f7)]+=_0x14ab70['z'],_0x37b69e[_0x4d48e3*(-0x1eb6+0xcb3*-0x3+0x44d2)+(0xc05*-0x1+0x263b*-0x1+0xc90*0x4)]+=_0x14ab70['x'],_0x37b69e[_0x4d48e3*(-0x29c*-0x1+0x1959*-0x1+0x16c0)+(0xd4d+-0x2322+0x15d6)]+=_0x14ab70['y'],_0x37b69e[_0x4d48e3*(-0x1*-0x1e4d+0x15d*-0x1b+0x685*0x1)+(-0x6+-0x10c0+0x10c8)]+=_0x14ab70['z'];}const _0xc6e3e2=new T(),_0x4d6a1a=new T(),_0x5f1e19=new T(),_0x4b5961=new T();for(let _0x58b168=-0x2*-0xfed+-0xbe9*-0x3+-0x3*0x1687;_0x58b168<_0x1872af;_0x58b168++){_0x5f1e19['set'](_0x192989[_0x58b168*(-0x1d*0x113+0x1d27+0x203)],_0x192989[_0x58b168*(0x1b81+-0x1*0xafb+-0x1083)+(0x4b1*0x7+-0x16*0xce+-0xf22)],_0x192989[_0x58b168*(-0x2565+0x177f+0xde9*0x1)+(-0x1881+0x59*0x13+0x6*0x2fc)]),_0xc6e3e2['set'](_0x57d67d[_0x58b168*(0xc*-0x14e+0x53*0x6d+-0x13ac)],_0x57d67d[_0x58b168*(0x22ee+-0x94*0x20+-0x106b)+(-0x15c1*0x1+-0x1de4+0x2*0x19d3)],_0x57d67d[_0x58b168*(-0x19*0x26+0x1e2f+0x2*-0xd3b)+(-0x17dd+0x11e1+0x5fe)]),_0x4d6a1a['set'](_0x37b69e[_0x58b168*(0x23f0+-0x20*0xd2+0x9ad*-0x1)],_0x37b69e[_0x58b168*(0x1*0x1b43+-0x1175+-0x9cb)+(-0x8df+0x150*0x15+-0x12b0)],_0x37b69e[_0x58b168*(-0x1074+0x1*0x55b+0xb1c)+(-0x225d*0x1+0x1af6+0x10f*0x7)]);const _0x369f09=_0x5f1e19['dot'](_0xc6e3e2);_0x4b5961['copy'](_0x5f1e19)['mulScalar'](_0x369f09),_0x4b5961['sub2'](_0xc6e3e2,_0x4b5961)['normalize'](),_0x4b8622[_0x58b168*(-0x247a+0x8*-0x1f5+0x3426)]=_0x4b5961['x'],_0x4b8622[_0x58b168*(-0x1*-0x14a5+0x101+-0x15a2)+(-0x766+-0x1e94+0x1cf*0x15)]=_0x4b5961['y'],_0x4b8622[_0x58b168*(0x1*0x2116+0x2a9+-0x23bb)+(0x6d4+0x11c2*-0x1+-0x7*-0x190)]=_0x4b5961['z'],_0x4b5961['cross'](_0x5f1e19,_0xc6e3e2),_0x4b8622[_0x58b168*(-0x2566+-0x1384+0x38ee)+(-0x1*-0x21a1+0x88e*-0x1+-0x1910)]=_0x4b5961['dot'](_0x4d6a1a)<-0x13*-0x58+0x1*-0x1ad5+-0x144d*-0x1?-(-0x45+-0x2396+-0x154*-0x1b):0x5e*0x1+-0x2054+-0xa7*-0x31;}return _0x4b8622;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const $u=(-0x164a+-0x1*0x16a9+0x9*0x4ff)/(-0xfb6+-0x112b+0x2121),L_=0x219b*0x1+-0x1cb0+-0x4ea-$u*(0xd*0x26b+-0xec3*0x1+-0x58e*0x3);class Wu extends pn{constructor(_0x1da75d={}){super();const _0x2b1e55=_0x1da75d['halfExtent'+'s']??new T(0x944+0xa89+-0x13cd+0.5,0xae1+-0x1599+0x62*0x1c+0.5,-0x931+0x2162*0x1+-0x1831+0.5),_0x45bddf=_0x1da75d['widthSegme'+'nts']??0x1bd5+-0x1*-0x9ef+-0x25c3,_0x1eb705=_0x1da75d['lengthSegm'+'ents']??0x211d+-0xa3c+-0x16e0,_0x42fef4=_0x1da75d['heightSegm'+'ents']??-0x57*0x31+-0x1dad+0x2e55,_0x214c70=_0x1da75d['yOffset']??-0x1*0xa1c+-0x24e7+-0x53*-0x91,_0x47806b=-_0x2b1e55['y']+_0x214c70,_0x10efd2=_0x2b1e55['y']+_0x214c70,_0x2413a3=[new T(-_0x2b1e55['x'],_0x47806b,_0x2b1e55['z']),new T(_0x2b1e55['x'],_0x47806b,_0x2b1e55['z']),new T(_0x2b1e55['x'],_0x10efd2,_0x2b1e55['z']),new T(-_0x2b1e55['x'],_0x10efd2,_0x2b1e55['z']),new T(_0x2b1e55['x'],_0x47806b,-_0x2b1e55['z']),new T(-_0x2b1e55['x'],_0x47806b,-_0x2b1e55['z']),new T(-_0x2b1e55['x'],_0x10efd2,-_0x2b1e55['z']),new T(_0x2b1e55['x'],_0x10efd2,-_0x2b1e55['z'])],_0x976c8e=[[-0x2468+-0xc82+0x6*0x827,0x7a*-0x4b+0x9*0x341+0x676,-0x231c+0x1*-0xad+-0x13c*-0x1d],[-0x440+-0x2451+0x2895*0x1,0x9d*-0x2f+0x16e*0x15+0x97*-0x2,0x445*-0x4+-0xb5*-0x1+0x833*0x2],[-0x1*-0x741+-0x11be+0x1*0xa80,-0x3d9*-0xa+0x1*0xb11+-0x3189,0x1b45*0x1+0x635+0x10ba*-0x2],[0x15d3+-0x1*-0x1297+-0x815*0x5,0x1537+-0x1*0x1c86+0x74f,0x2*0x136+-0x1*-0x23cb+0x7f*-0x4d],[0xc97+-0x4ae*0x7+0x142c,0x3*-0x2a2+0x68*0x25+0x1*-0x71e,0x1e1b+0x1900+-0x3719],[-0x1fd6*-0x1+0x26ad*-0x1+0x6dc,-0x6*-0xb3+-0x34*0xa4+0x1d1e,0x1c2c+-0x183*0x12+-0xf0]],_0x689076=[[0x13*0xa7+-0x1d80+0x111b,-0x6*0x253+0x1d4e+-0xf5c,0x2702+0x2657+0x672*-0xc],[0x144c+-0xa7*-0x25+-0x2c6f,0xf17+0x813+-0x4a2*0x5,-(-0x303*-0x7+0x34*0x6f+-0x4*0xae8)],[-0x133*-0x12+-0x1435+0x1*-0x161,0x74+0x25ab+0xe*-0x2b9,0x16e2+0x1191+0x5*-0x817],[0x128*-0x1b+0x8e9*0x1+0x164f,-(0x3*0x54c+0x1716+0x26f9*-0x1),-0x14fd*-0x1+-0xee+0x140f*-0x1],[-0x1c72+0x3*0xc04+0x185*-0x5,0x33*0x76+-0x1*-0xedc+0x132f*-0x2,-0x20f5+0xa73*0x3+0x19c],[-(0x150e+-0x112f+-0x3de),-0x1ffc+0x2285+-0x289,0x6ea+0x22bd+0x29a7*-0x1]],_0x243e3f={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x21c7d5=[],_0x2982d4=[],_0x14e18d=[],_0xff4e06=[];let _0x16731d=0x98*0x7+-0x115d+0xd35;const _0x52f958=(_0x3a3f0a,_0x179cdf,_0x59f459)=>{const _0x1efacf=new T(),_0x129637=new T(),_0x17813d=new T(),_0x2c56f3=new T();for(let _0x2d6449=-0x74e+-0x1*0x150c+0x1c5a;_0x2d6449<=_0x179cdf;_0x2d6449++)for(let _0x1b7627=-0x114a+0x7*0x4eb+-0x1123;_0x1b7627<=_0x59f459;_0x1b7627++){_0x1efacf['lerp'](_0x2413a3[_0x976c8e[_0x3a3f0a][-0x251c+0x1bb4+0x56*0x1c]],_0x2413a3[_0x976c8e[_0x3a3f0a][0x2224+-0x2108+0x11b*-0x1]],_0x2d6449/_0x179cdf),_0x129637['lerp'](_0x2413a3[_0x976c8e[_0x3a3f0a][-0x3*-0x7e2+0x86*0x45+0xa*-0x5fa]],_0x2413a3[_0x976c8e[_0x3a3f0a][0x14+-0x2682+0x2670]],_0x1b7627/_0x59f459),_0x17813d['sub2'](_0x129637,_0x2413a3[_0x976c8e[_0x3a3f0a][-0x12b6+-0x137c+0x2632]]),_0x2c56f3['add2'](_0x1efacf,_0x17813d);let _0x17e686=_0x2d6449/_0x179cdf,_0x1c796e=_0x1b7627/_0x59f459;_0x21c7d5['push'](_0x2c56f3['x'],_0x2c56f3['y'],_0x2c56f3['z']),_0x2982d4['push'](_0x689076[_0x3a3f0a][0x58f+-0x2047+0x1ab8],_0x689076[_0x3a3f0a][-0x1b96+-0x323*0x3+0x940*0x4],_0x689076[_0x3a3f0a][0x2679+-0x595*-0x2+0x3*-0x108b]),_0x14e18d['push'](_0x17e686,-0x4a*-0x9+-0x2e*0x59+0xd65-_0x1c796e),_0x17e686=_0x17e686*L_+$u,_0x1c796e=_0x1c796e*L_+$u,_0x17e686/=0x95+-0x1697+0x1605,_0x1c796e/=-0xae0+0x1ed9+-0x13f6,_0x17e686+=_0x3a3f0a%(-0x20f9+0x4*-0x106+-0x7*-0x54c)/(-0x2*0x2d8+-0x512+0xac5),_0x1c796e+=Math['floor'](_0x3a3f0a/(-0xc*-0xf1+0x2479+-0x2fc2))/(0x1e0a+0x87c+-0x2683),_0x2d6449<_0x179cdf&&_0x1b7627<_0x59f459&&(_0xff4e06['push'](_0x16731d+_0x59f459+(-0x7*-0x1dd+0x1cc1+-0x29cb),_0x16731d+(-0x2621+-0x1*0xb6b+0x318d),_0x16731d),_0xff4e06['push'](_0x16731d+_0x59f459+(-0x834+0xf4a*0x1+-0x715),_0x16731d+_0x59f459+(-0x672+-0x24da*0x1+-0xf1*-0x2e),_0x16731d+(0x25*-0xc2+0x378+0x1893))),_0x16731d++;}};_0x52f958(_0x243e3f['FRONT'],_0x45bddf,_0x42fef4),_0x52f958(_0x243e3f['BACK'],_0x45bddf,_0x42fef4),_0x52f958(_0x243e3f['TOP'],_0x45bddf,_0x1eb705),_0x52f958(_0x243e3f['BOTTOM'],_0x45bddf,_0x1eb705),_0x52f958(_0x243e3f['RIGHT'],_0x1eb705,_0x42fef4),_0x52f958(_0x243e3f['LEFT'],_0x1eb705,_0x42fef4),this['positions']=_0x21c7d5,this['normals']=_0x2982d4,this['uvs']=_0x14e18d,this['uvs1']=_0x14e18d,this['indices']=_0xff4e06,_0x1da75d['calculateT'+'angents']&&(this['tangents']=fr(_0x21c7d5,_0x2982d4,_0x14e18d,_0xff4e06));}}class B0 extends pn{constructor(_0x405cd7={}){super();const _0x2ec138=_0x405cd7['radius']??0x1927*-0x1+0x1401+0x526+0.5,_0x235556=_0x405cd7['latitudeBa'+'nds']??0xa7*0x1+-0x26eb+0x2654,_0x1b5cd1=_0x405cd7['longitudeB'+'ands']??0x3*0x20b+-0x1*0x1cb8+0x16a7*0x1,_0x3374c8=[],_0x380fa9=[],_0x53bfe8=[],_0x3cde85=[];for(let _0x301b8a=0x13fe+-0x1*-0x3e1+-0x17df;_0x301b8a<=_0x235556;_0x301b8a++){const _0x254b5d=_0x301b8a*Math['PI']/_0x235556,_0x44ce68=Math['sin'](_0x254b5d),_0x5daaf5=Math['cos'](_0x254b5d);for(let _0x584030=-0x329*-0xb+-0xd5b+-0x1568;_0x584030<=_0x1b5cd1;_0x584030++){const _0x18b0cd=_0x584030*(-0x7*0x45f+-0x242a+-0x1*-0x42c5)*Math['PI']/_0x1b5cd1-Math['PI']/(-0x1402+0x1*-0xd31+0x1*0x2135),_0x4b023e=Math['sin'](_0x18b0cd),_0xf1100a=Math['cos'](_0x18b0cd)*_0x44ce68,_0x366605=_0x5daaf5,_0xa4cac1=_0x4b023e*_0x44ce68,_0x3e6559=-0x2139+-0x1066*-0x2+0xb*0xa-_0x584030/_0x1b5cd1,_0x14fcdd=-0x7*-0x547+0x575+-0x2a65-_0x301b8a/_0x235556;_0x3374c8['push'](_0xf1100a*_0x2ec138,_0x366605*_0x2ec138,_0xa4cac1*_0x2ec138),_0x380fa9['push'](_0xf1100a,_0x366605,_0xa4cac1),_0x53bfe8['push'](_0x3e6559,-0x258a+0x96c+-0x1*-0x1c1f-_0x14fcdd);}}for(let _0x29aa11=0x8fb*0x2+-0x1d09*0x1+0xb13;_0x29aa11<_0x235556;++_0x29aa11)for(let _0x48606c=-0x3*0x353+0xcd2*-0x3+0x306f;_0x48606c<_0x1b5cd1;++_0x48606c){const _0x40759a=_0x29aa11*(_0x1b5cd1+(-0x3a1*0x4+-0x1274+0x1*0x20f9))+_0x48606c,_0x411a77=_0x40759a+_0x1b5cd1+(0x25c7*0x1+-0x17d*0x19+0x1*-0x91);_0x3cde85['push'](_0x40759a+(0x2*-0x907+0xcf7*0x3+0x2a*-0x7f),_0x411a77,_0x40759a),_0x3cde85['push'](_0x40759a+(0x540+-0x157b*0x1+0x103c),_0x411a77+(-0x11*-0x15b+-0x163*0x3+-0x12e1),_0x411a77);}this['positions']=_0x3374c8,this['normals']=_0x380fa9,this['uvs']=_0x53bfe8,this['uvs1']=_0x53bfe8,this['indices']=_0x3cde85,_0x405cd7['calculateT'+'angents']&&(this['tangents']=fr(_0x3374c8,_0x380fa9,_0x53bfe8,_0x3cde85));}}class p1 extends B0{constructor(_0x5e85ed={}){const _0x43d5e4=_0x5e85ed['latitudeBa'+'nds']??0x2*0x987+-0x250c*0x1+-0x120e*-0x1,_0x68a43f=_0x5e85ed['longitudeB'+'ands']??-0x231d+-0x1d80+-0x1*-0x40ad;super({'radius':0.5,'latitudeBands':_0x43d5e4,'longitudeBands':_0x68a43f});const _0x295d0b=0x78e+-0xad9*-0x1+-0x7*0x2a1+0.1,_0x3961bc=-0x9*-0x430+0xe9e+-0x344e+0.95,_0x1ed73a=_0x3961bc*_0x3961bc,_0x42717c=this['positions'];for(let _0x4b77bb=0x28e*-0x6+-0xafa+0x1a4e;_0x4b77bb<_0x42717c['length'];_0x4b77bb+=0x1*-0x20b5+0x6a*-0x53+0x4316){const _0x2bcc1c=_0x42717c[_0x4b77bb]/(0x917+0x5c*0x30+-0x1a57*0x1+0.5);let _0x15f763=_0x42717c[_0x4b77bb+(0x85a*-0x2+0x1d39*-0x1+0x2*0x16f7)]/(-0x204b+-0x1*-0xb99+0x14b2+0.5);const _0x162fd0=_0x42717c[_0x4b77bb+(-0x20fe*-0x1+0x2d*0xd1+0xd*-0x55d)]/(-0x53*-0x4a+0x1*-0x259b+0x5*0x2b9+0.5);_0x15f763<0xfd*-0x13+0x15*-0x3+-0xa*-0x1e7&&(_0x15f763*=0x9d*0x1b+0xc4b+-0x1cda+0.3,_0x2bcc1c*_0x2bcc1c+_0x162fd0*_0x162fd0<_0x1ed73a&&(_0x15f763=-(0xa1f*-0x1+0xf1d+-0x4fe+0.1))),_0x15f763+=_0x295d0b,_0x15f763*=-0x2d3*-0x3+-0xbe+-0x7bb+0.5,_0x42717c[_0x4b77bb+(-0x13*-0x156+0x1299+-0x2bfa)]=_0x15f763;}}}class So{static['create'](_0x44af86,_0x5ceb3c){switch(_0x5ceb3c){case tw:return So['box'](_0x44af86);case sw:return So['dome'](_0x44af86);}return v['assert'](_0x5ceb3c===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x5ceb3c),So['infinite'](_0x44af86);}static['infinite'](_0x228002){return Ie['fromGeomet'+'ry'](_0x228002,new Wu(_0x228002));}static['box'](_0x8f5203){return Ie['fromGeomet'+'ry'](_0x8f5203,new Wu({'yOffset':0.5}));}static['dome'](_0x2f2704){const _0x4926d5=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x4926d5['normals']=void(0x4f*0xb+-0x1*0x70c+-0x37*-0x11),_0x4926d5['uvs']=void(-0x1d5+-0x1e3*-0x1+-0xe),Ie['fromGeomet'+'ry'](_0x2f2704,_0x4926d5);}}class m1{constructor(_0x28f7d2,_0x2e546f,_0x1ae9d0,_0x2abc78,_0xd7f4a9){c(this,'meshInstan'+'ce',null);const _0x19fc16=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x19fc16['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x2abc78['encoding'])),_0xd7f4a9!==xo&&_0x19fc16['setDefine']('SKYMESH',''),_0x2abc78['cubemap']&&_0x19fc16['setDefine']('SKY_CUBEMA'+'P',''),_0x19fc16['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x2e546f['skyboxHigh'+'lightMulti'+'plier']),_0x2abc78['cubemap']?_0x19fc16['setParamet'+'er']('texture_cu'+'beMap',_0x2abc78):(_0x19fc16['setParamet'+'er']('texture_en'+'vAtlas',_0x2abc78),_0x19fc16['setParamet'+'er']('mipLevel',_0x2e546f['skyboxMip'])),_0x19fc16['cull']=mo,_0x19fc16['depthWrite']=!(0x2bb*-0xd+0x2465+-0xe5);const _0x10d731=_0x2e546f['layers']['getLayerBy'+'Id'](vp);if(_0x10d731){const _0x1790e6=So['create'](_0x28f7d2,_0xd7f4a9),_0x17ccb8=new Le(_0x1790e6,_0x19fc16,_0x1ae9d0);this['meshInstan'+'ce']=_0x17ccb8,_0x17ccb8['cull']=!(0x22f6+0x11b5+-0x34aa),_0x17ccb8['pick']=!(0x1*-0x11f3+-0x845*-0x1+0x43*0x25),_0x10d731['addMeshIns'+'tances']([_0x17ccb8]),this['skyLayer']=_0x10d731;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0xc17280){c(this,'_type',xo),c(this,'_center',new T(0x23af+-0x2ba*-0x8+-0x1*0x397f,-0x3d3+-0x2*0x7fc+-0x1c*-0xb5,0x2*0x206+-0x21*-0x3c+-0x179*0x8)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0xc17280['device'],this['scene']=_0xc17280,this['center']=new T(-0x5*0x131+-0x19*0x15b+0xf*0x2a8,-0x99a+-0x1a*-0xd+0x3*0x2c3,0x1aba+-0xd29+-0xd91),this['centerArra'+'y']=new Float32Array(-0x1c*0x6d+0x2*-0x132e+0x324b),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0xc81579){this['type']=_0xc81579['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0xc81579['skyMeshPos'+'ition']??[-0xdb1+0x1a0e+-0xc5d,0x1df+0x6a*-0x7+0x1*0x107,0x75*0x4b+0x3*-0xc10+0xa3*0x3])),this['node']['setLocalEu'+'lerAngles'](new T(_0xc81579['skyMeshRot'+'ation']??[-0x2454+0x231c+0x138,0x7*-0x547+0x57e+0x1f73,-0x1*-0x1bd2+-0x1fca+0x4*0xfe])),this['node']['setLocalSc'+'ale'](new T(_0xc81579['skyMeshSca'+'le']??[0x175*-0x14+-0x67*-0x57+-0x5dc,0x1*0x2256+0x191f+0x14*-0x2f9,0x4*-0x4ef+0x1e20+-0xa63*0x1])),_0xc81579['skyCenter']&&(this['_center']=new T(_0xc81579['skyCenter']));}set['type'](_0x59b23b){this['_type']!==_0x59b23b&&(this['_type']=_0x59b23b,this['scene']['updateShad'+'ers']=!(0x7*0x4f2+-0x11a7+-0x10f7),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x1186a8){this['_center']['copy'](_0x1186a8);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x144390=this['scene']['_getSkybox'+'Tex']();_0x144390&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x144390,this['type']),this['scene']['fire']('set:skybox',_0x144390));}['resetSkyMe'+'sh'](){var _0x8181f7;(_0x8181f7=this['skyMesh'])==null||_0x8181f7['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x1d2925,centerArray:_0x5beeb2}=this,_0x11302e=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x1d2925,_0x11302e),_0x5beeb2[-0x365*-0x1+0x2505*-0x1+0x10d*0x20]=_0x11302e['x'],_0x5beeb2[0x17*-0xf6+0x218*-0x4+0x1e7b]=_0x11302e['y'],_0x5beeb2[0x2a*0xeb+-0xff4*-0x1+-0xda0*0x4]=_0x11302e['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x5beeb2);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(-0x23ef+-0x101f+0x340f);class g1{constructor(_0x558f07,_0x5e90de,_0x137480){this['material']=_0x5e90de,this['layer']=_0x137480,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x558f07),this['meshInstan'+'ce']=null;}['addLines'](_0x1b692b,_0x37d69a){const _0xc0f205=this['positions'],_0x23d564=_0x1b692b['length'];for(let _0x1e9133=0x261f+-0x1*0x18d+-0x2492;_0x1e9133<_0x23d564;_0x1e9133++){const _0x374734=_0x1b692b[_0x1e9133];_0xc0f205['push'](_0x374734['x'],_0x374734['y'],_0x374734['z']);}const _0x3690d8=this['colors'];if(_0x37d69a['length'])for(let _0x191318=-0x203d+0x77*-0x52+-0xd9*-0x53;_0x191318<_0x23d564;_0x191318++){const _0x34f2c4=_0x37d69a[_0x191318];_0x3690d8['push'](_0x34f2c4['r'],_0x34f2c4['g'],_0x34f2c4['b'],_0x34f2c4['a']);}else{for(let _0x4af519=0x1739+-0x3*-0xac9+0xde5*-0x4;_0x4af519<_0x23d564;_0x4af519++)_0x3690d8['push'](_0x37d69a['r'],_0x37d69a['g'],_0x37d69a['b'],_0x37d69a['a']);}}['addLinesAr'+'rays'](_0x5008a0,_0x2ad262){const _0x3d479c=this['positions'];for(let _0x132fca=0x1*0x836+-0x2*0x262+-0x372;_0x132fca<_0x5008a0['length'];_0x132fca+=-0xfee*0x2+0x6b*-0x12+0x2765)_0x3d479c['push'](_0x5008a0[_0x132fca],_0x5008a0[_0x132fca+(-0x1*0x4f3+0x1d79+-0x1885)],_0x5008a0[_0x132fca+(-0x1a35+0x2271+-0x83a)]);const _0x72db32=this['colors'];if(_0x2ad262['length']){for(let _0x5b00b3=-0xf28+0x167f+-0x1*0x757;_0x5b00b3<_0x2ad262['length'];_0x5b00b3+=0x4d*0x6e+-0x2*0x440+0x275*-0xa)_0x72db32['push'](_0x2ad262[_0x5b00b3],_0x2ad262[_0x5b00b3+(0x1e3f+0xa32+-0x2870)],_0x2ad262[_0x5b00b3+(-0x2*-0x539+0x26a7+-0x3b*0xd5)],_0x2ad262[_0x5b00b3+(-0x1f8d+-0x3*-0x891+0x5dd*0x1)]);}else{const _0x48f738=_0x5008a0['length']/(-0x1744*-0x1+0x22fb+0x1d1e*-0x2);for(let _0x5b53be=-0x2415+0x215a*0x1+-0xe9*-0x3;_0x5b53be<_0x48f738;_0x5b53be++)_0x72db32['push'](_0x2ad262['r'],_0x2ad262['g'],_0x2ad262['b'],_0x2ad262['a']);}}['onPreRende'+'r'](_0x1d33ca,_0x2b0b51){this['positions']['length']>0x663*0x5+0x386*0x3+0x193*-0x1b&&this['material']['transparen'+'t']===_0x2b0b51&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(-0x2097+-0x468+-0x10*-0x250)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x1d33ca['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=0x230+-0xf5*-0x1f+-0x1fdb,this['colors']['length']=-0xf6d+0xa95+0x4d8;}}class y1{constructor(_0x2dc386){this['device']=_0x2dc386,this['map']=new Map();}['getBatch'](_0x464a9e,_0x5cbfc6){let _0x23a011=this['map']['get'](_0x464a9e);return _0x23a011||(_0x23a011=new g1(this['device'],_0x464a9e,_0x5cbfc6),this['map']['set'](_0x464a9e,_0x23a011)),_0x23a011;}['onPreRende'+'r'](_0x5b68ef,_0x3abdbf){this['map']['forEach'](_0x2c1ae6=>{_0x2c1ae6['onPreRende'+'r'](_0x5b68ef,_0x3abdbf);});}['clear'](){this['map']['forEach'](_0x1be194=>_0x1be194['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x166426){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x166426,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x2b9b06){const _0x2f7ce6=new Ra(x1);return _0x2f7ce6['blendType']=Kt,_0x2f7ce6['depthTest']=_0x2b9b06,_0x2f7ce6['update'](),_0x2f7ce6;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x1513+0x2f*-0x9d+-0x1f*-0x40))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x1d*-0x9a+0xf00+0x273))),this['_materialN'+'oDepth'];}['getBatch'](_0x2d4163,_0x2d2390){let _0x3547f6=this['batchesMap']['get'](_0x2d4163);_0x3547f6||(_0x3547f6=new y1(this['device']),this['batchesMap']['set'](_0x2d4163,_0x3547f6)),this['allBatches']['add'](_0x3547f6);const _0x218c25=_0x2d2390?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x3547f6['getBatch'](_0x218c25,_0x2d4163);}['getShaderD'+'esc'](_0x2346f8,_0x54f56e){return this['shaderDesc'+'s']['has'](_0x2346f8)||this['shaderDesc'+'s']['set'](_0x2346f8,{'uniqueName':'DebugShade'+'r:'+_0x2346f8,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x54f56e,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x2346f8);}['getTexture'+'ShaderDesc'](_0x41f756){const _0x415c04=Es['decodeFunc'](_0x41f756);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x41f756,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x415c04+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(0x1534+-0x13*-0x21+-0x7*0x361+0.5),-(0x1e*0x125+-0x1ca2+0x2da*-0x2+0.5),-0x1e18+-0x3*0x174+0x31*0xb4,0x1546+0x89c+-0x1de2+0.5,-(0x1c4+-0x1*-0x10bb+-0x1*0x127f+0.5),-0xb37+0x16a1*-0x1+0x21d8,-(-0x1*-0xc53+-0x762+-0xb*0x73+0.5),-0x16*-0x4a+0x22db*0x1+0x3*-0xdbd+0.5,0x893+-0x295+-0x5fe,0x1e*-0x43+0x1a6f+0x1*-0x1295+0.5,-0xe8*-0x14+-0x2*0x733+-0x3ba+0.5,0x14e6+-0xba*0x1e+-0xe6*-0x1]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0x3ce977,_0x1acd38,_0x5752c9,_0x5bc14f,_0x2d5bb6){if(!_0x5bc14f){const _0x7504ab=this['getGraphNo'+'de'](_0x1acd38);_0x5bc14f=new Le(_0x5752c9,_0x3ce977,_0x7504ab);}let _0x3ba2a9=this['layerMeshI'+'nstances']['get'](_0x2d5bb6);_0x3ba2a9||(_0x3ba2a9=[],this['layerMeshI'+'nstances']['set'](_0x2d5bb6,_0x3ba2a9)),_0x3ba2a9['push'](_0x5bc14f);}['drawWireAl'+'ignedBox'](_0x20dfe2,_0x3947a4,_0x59b16a,_0x2861fc,_0x4c53b7,_0x82aaf){if(_0x82aaf){const _0x3b11fc=(_0x3999b8,_0x3c9d5a,_0x1e5985)=>{Ln['set'](_0x3999b8,_0x3c9d5a,_0x1e5985),_0x82aaf['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x3b11fc(_0x20dfe2['x'],_0x20dfe2['y'],_0x20dfe2['z']),_0x3b11fc(_0x20dfe2['x'],_0x3947a4['y'],_0x20dfe2['z']),_0x3b11fc(_0x20dfe2['x'],_0x3947a4['y'],_0x20dfe2['z']),_0x3b11fc(_0x3947a4['x'],_0x3947a4['y'],_0x20dfe2['z']),_0x3b11fc(_0x3947a4['x'],_0x3947a4['y'],_0x20dfe2['z']),_0x3b11fc(_0x3947a4['x'],_0x20dfe2['y'],_0x20dfe2['z']),_0x3b11fc(_0x3947a4['x'],_0x20dfe2['y'],_0x20dfe2['z']),_0x3b11fc(_0x20dfe2['x'],_0x20dfe2['y'],_0x20dfe2['z']),_0x3b11fc(_0x20dfe2['x'],_0x20dfe2['y'],_0x3947a4['z']),_0x3b11fc(_0x20dfe2['x'],_0x3947a4['y'],_0x3947a4['z']),_0x3b11fc(_0x20dfe2['x'],_0x3947a4['y'],_0x3947a4['z']),_0x3b11fc(_0x3947a4['x'],_0x3947a4['y'],_0x3947a4['z']),_0x3b11fc(_0x3947a4['x'],_0x3947a4['y'],_0x3947a4['z']),_0x3b11fc(_0x3947a4['x'],_0x20dfe2['y'],_0x3947a4['z']),_0x3b11fc(_0x3947a4['x'],_0x20dfe2['y'],_0x3947a4['z']),_0x3b11fc(_0x20dfe2['x'],_0x20dfe2['y'],_0x3947a4['z']),_0x3b11fc(_0x20dfe2['x'],_0x20dfe2['y'],_0x20dfe2['z']),_0x3b11fc(_0x20dfe2['x'],_0x20dfe2['y'],_0x3947a4['z']),_0x3b11fc(_0x20dfe2['x'],_0x3947a4['y'],_0x20dfe2['z']),_0x3b11fc(_0x20dfe2['x'],_0x3947a4['y'],_0x3947a4['z']),_0x3b11fc(_0x3947a4['x'],_0x3947a4['y'],_0x20dfe2['z']),_0x3b11fc(_0x3947a4['x'],_0x3947a4['y'],_0x3947a4['z']),_0x3b11fc(_0x3947a4['x'],_0x20dfe2['y'],_0x20dfe2['z']),_0x3b11fc(_0x3947a4['x'],_0x20dfe2['y'],_0x3947a4['z']);}else Jt['push'](_0x20dfe2['x'],_0x20dfe2['y'],_0x20dfe2['z'],_0x20dfe2['x'],_0x3947a4['y'],_0x20dfe2['z'],_0x20dfe2['x'],_0x3947a4['y'],_0x20dfe2['z'],_0x3947a4['x'],_0x3947a4['y'],_0x20dfe2['z'],_0x3947a4['x'],_0x3947a4['y'],_0x20dfe2['z'],_0x3947a4['x'],_0x20dfe2['y'],_0x20dfe2['z'],_0x3947a4['x'],_0x20dfe2['y'],_0x20dfe2['z'],_0x20dfe2['x'],_0x20dfe2['y'],_0x20dfe2['z'],_0x20dfe2['x'],_0x20dfe2['y'],_0x3947a4['z'],_0x20dfe2['x'],_0x3947a4['y'],_0x3947a4['z'],_0x20dfe2['x'],_0x3947a4['y'],_0x3947a4['z'],_0x3947a4['x'],_0x3947a4['y'],_0x3947a4['z'],_0x3947a4['x'],_0x3947a4['y'],_0x3947a4['z'],_0x3947a4['x'],_0x20dfe2['y'],_0x3947a4['z'],_0x3947a4['x'],_0x20dfe2['y'],_0x3947a4['z'],_0x20dfe2['x'],_0x20dfe2['y'],_0x3947a4['z'],_0x20dfe2['x'],_0x20dfe2['y'],_0x20dfe2['z'],_0x20dfe2['x'],_0x20dfe2['y'],_0x3947a4['z'],_0x20dfe2['x'],_0x3947a4['y'],_0x20dfe2['z'],_0x20dfe2['x'],_0x3947a4['y'],_0x3947a4['z'],_0x3947a4['x'],_0x3947a4['y'],_0x20dfe2['z'],_0x3947a4['x'],_0x3947a4['y'],_0x3947a4['z'],_0x3947a4['x'],_0x20dfe2['y'],_0x20dfe2['z'],_0x3947a4['x'],_0x20dfe2['y'],_0x3947a4['z']);this['getBatch'](_0x4c53b7,_0x2861fc)['addLinesAr'+'rays'](Jt,_0x59b16a),Jt['length']=0x1232+-0xf39+-0x2f9;}['drawWireSp'+'here'](_0x3815f6,_0xd32033,_0x2ea2b4,_0x237280,_0x414422,_0x39f611){const _0x126dfa=(-0x42b+-0xe59*-0x2+-0x1885*0x1)*Math['PI']/_0x237280;let _0x3af023=-0x20c*-0x5+-0x8a7+-0x195;for(let _0x14e902=0x3e*-0x2e+0xb*-0x49+0xe47;_0x14e902<_0x237280;_0x14e902++){const _0x267d17=Math['sin'](_0x3af023),_0x23c823=Math['cos'](_0x3af023);_0x3af023+=_0x126dfa;const _0xd2391f=Math['sin'](_0x3af023),_0xcb5e22=Math['cos'](_0x3af023);Jt['push'](_0x3815f6['x']+_0xd32033*_0x267d17,_0x3815f6['y'],_0x3815f6['z']+_0xd32033*_0x23c823),Jt['push'](_0x3815f6['x']+_0xd32033*_0xd2391f,_0x3815f6['y'],_0x3815f6['z']+_0xd32033*_0xcb5e22),Jt['push'](_0x3815f6['x']+_0xd32033*_0x267d17,_0x3815f6['y']+_0xd32033*_0x23c823,_0x3815f6['z']),Jt['push'](_0x3815f6['x']+_0xd32033*_0xd2391f,_0x3815f6['y']+_0xd32033*_0xcb5e22,_0x3815f6['z']),Jt['push'](_0x3815f6['x'],_0x3815f6['y']+_0xd32033*_0x267d17,_0x3815f6['z']+_0xd32033*_0x23c823),Jt['push'](_0x3815f6['x'],_0x3815f6['y']+_0xd32033*_0xd2391f,_0x3815f6['z']+_0xd32033*_0xcb5e22);}this['getBatch'](_0x39f611,_0x414422)['addLinesAr'+'rays'](Jt,_0x2ea2b4),Jt['length']=-0x647*0x6+0x378+0x2232;}['getGraphNo'+'de'](_0x451309){const _0x5db040=new De('ImmediateD'+'ebug');return _0x5db040['worldTrans'+'form']=_0x451309,_0x5db040['_dirtyWorl'+'d']=_0x5db040['_dirtyNorm'+'al']=!(-0x1b98+0x224e+-0x6b5),_0x5db040;}['onPreRende'+'rLayer'](_0x42a6c7,_0x9bba3,_0xf4459e){if(this['batchesMap']['forEach']((_0x4d9318,_0x22e6b9)=>{_0x22e6b9===_0x42a6c7&&_0x4d9318['onPreRende'+'r'](_0x9bba3,_0xf4459e);}),!this['updatedLay'+'ers']['has'](_0x42a6c7)){this['updatedLay'+'ers']['add'](_0x42a6c7);const _0x7916f8=this['layerMeshI'+'nstances']['get'](_0x42a6c7);if(_0x7916f8){for(let _0x3bea6f=-0x7c6+-0x1153+0x1919;_0x3bea6f<_0x7916f8['length'];_0x3bea6f++)_0x9bba3['push'](_0x7916f8[_0x3bea6f]);_0x7916f8['length']=0x152+-0x1e40+0x1cee;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x160c9b=>_0x160c9b['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new j(0x205c*-0x1+0x1*0x52b+0x1b31,0xfa*-0x21+-0x162d+0x3667,-0x900+-0x56d*0x7+0x2efb)),c(this,'density',0xfdb+-0x1*0xc4b+0x4*-0xe4),c(this,'start',0x15*0x1b+0x7b8+-0x9ee),c(this,'end',-0x1*0x1fa+-0xab8+-0x2*-0x84d);}}class ci extends ce{constructor(_0x1ce805){super(),c(this,'ambientBak'+'e',!(0x6ee*0x1+-0x117f+0x386*0x3)),c(this,'ambientBak'+'eOcclusion'+'Brightness',0x6a1+-0x1758+0x10b7),c(this,'ambientBak'+'eOcclusion'+'Contrast',-0x10ab*-0x2+-0x4*-0x935+-0x462a),c(this,'ambientLig'+'ht',new j(-0x11*0x44+-0x1413+0x1897,0x1e3+-0x9e9+-0x2*-0x403,0x24e8+0x22d+-0x1b3*0x17)),c(this,'ambientLum'+'inance',0xa99+-0x1*-0x1069+-0x1b02),c(this,'exposure',-0x420*-0x5+-0x15b7+0x118),c(this,'lightmapSi'+'zeMultipli'+'er',-0x4*-0x7ba+-0x1048+-0xe9f),c(this,'lightmapMa'+'xResolutio'+'n',-0x1a5f+-0xc9+-0x14*-0x1c2),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(0xd33+-0x1*-0x1087+-0x7*0x43f)),c(this,'lightmapHD'+'R',!(0x45*0xa+0x2*-0xce6+-0x171b*-0x1)),c(this,'root',null),c(this,'physicalUn'+'its',!(-0x7f7*0x1+-0x2e*0x43+0x1402)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x1ce805,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x1ce805,this['_gravity']=new T(0x26b3+-0x16*-0x1b3+-0x4c15,-(-0x2563+0x28e*0x4+0x1b34+0.8000000000000007),-0x170*0x2+-0x173*0xe+-0x2*-0xb95),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x23d3+0xf48+-0x107*-0x14,this['_skyboxLum'+'inance']=0x33b+-0x1739+0x13fe,this['_skyboxMip']=-0x2e9+-0x17f*0x1+0x468,this['_skyboxHig'+'hlightMult'+'iplier']=0x1b22+0x1de1+-0x2*0x1c81,this['_skyboxRot'+'ationShade'+'rInclude']=!(0x13*-0xca+0x21f6+-0x5*0x3cb),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=-0x14f2+-0x7*-0x376+-0x347,this['_ambientBa'+'keSpherePa'+'rt']=-0x15fe+-0x37b+-0x1979*-0x1+0.4,this['_lightmapF'+'ilterRange']=-0x6*0x5c1+0x180c+0xa84,this['_lightmapF'+'ilterSmoot'+'hness']=0x11a5+-0x12b5*0x1+-0x4*-0x44+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x1beb+-0x26b2+0xac7),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x757*0x2+-0x3ef+-0xabf);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x510+0xcc8+-0x4c*0x1a),this['_shaderVer'+'sion']=-0x23*-0x29+-0x201a+0x1a7f,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0x56fc5c){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x56fc5c),-0x620*0x4+0x1*-0x95f+0x878*0x4,-0x288*0x1+-0x17f*-0x13+-0x18e6);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x237ac3){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x237ac3,-0x4*-0x4c5+0x212c+-0x3440+0.001,0x1026+0xedb*0x2+-0x2ddb);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x41ecde){if(this['device']['isWebGPU']&&!_0x41ecde){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x41ecde){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x41ecde;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x3d6351){_0x3d6351!==this['_envAtlas']&&(this['_envAtlas']=_0x3d6351,_0x3d6351&&(_0x3d6351['addressU']=ae,_0x3d6351['addressV']=ae,_0x3d6351['minFilter']=st,_0x3d6351['magFilter']=st,_0x3d6351['mipmaps']=!(-0x1e13+0x89*-0x15+-0x7*-0x5e7)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x47f322){const _0x3c0e4a=this['_layers'];this['_layers']=_0x47f322,this['fire']('set:layers',_0x3c0e4a,_0x47f322);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x37d660){this['_lightmapF'+'ilterRange']=Math['max'](_0x37d660,0x1460+0x1*-0x1697+0x237+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x20ae16){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x20ae16,0x6b*0x1d+-0x1*0x950+0x1*-0x2cf+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x997d11){_0x997d11=_0x997d11||[];const _0x23b88c=this['_prefilter'+'edCubemaps'];(_0x23b88c['length']!==_0x997d11['length']||_0x23b88c['some']((_0x1c3470,_0x211b32)=>_0x1c3470!==_0x997d11[_0x211b32]))&&(_0x997d11['length']===0x25bb+0xca5+0x1*-0x325a&&_0x997d11['every'](_0x239c94=>!!_0x239c94)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x997d11,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x997d11['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x5bd62c){_0x5bd62c!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x5bd62c,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x476f47){_0x476f47!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x476f47,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x14d738){_0x14d738!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x14d738,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x487636){_0x487636!==this['_skyboxMip']&&(this['_skyboxMip']=_0x487636,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x270fa6){_0x270fa6!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x270fa6,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x145f4b){if(!this['_skyboxRot'+'ation']['equals'](_0x145f4b)){const _0x32fe46=_0x145f4b['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x145f4b),_0x32fe46?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x145f4b,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x32fe46&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x1*-0x6d0+0xdf3*-0x1+0x427*0x5),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x5b73a6,_0x371ea3,_0x1bc20e=j['WHITE'],_0x4c0acd=!(0x284+-0x76+-0x20e),_0x7d1d45=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x7d1d45,_0x4c0acd)['addLines']([_0x5b73a6,_0x371ea3],[_0x1bc20e,_0x1bc20e]);}['drawLines'](_0x36abd9,_0x7e749a,_0xbe4a75=!(0x2122+0x7c*0x1+0x2*-0x10cf),_0x5a9718=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x5a9718,_0xbe4a75)['addLines'](_0x36abd9,_0x7e749a);}['drawLineAr'+'rays'](_0x36d587,_0x3c0194,_0x3e2052=!(0x452+-0x763*-0x1+-0xbb5),_0x4cfa85=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x4cfa85,_0x3e2052)['addLinesAr'+'rays'](_0x36d587,_0x3c0194);}['applySetti'+'ngs'](_0x338796){const _0x2a70e0=_0x338796['physics'],_0x367ffd=_0x338796['render'];this['_gravity']['set'](_0x2a70e0['gravity'][0x1c7b*0x1+0x1758+-0x33d3*0x1],_0x2a70e0['gravity'][0x1d79+-0x20*0x107+0x1b4*0x2],_0x2a70e0['gravity'][0x114e+-0x1d83+0xc37]),this['ambientLig'+'ht']['set'](_0x367ffd['global_amb'+'ient'][-0x12*-0x9+0x4f9+-0x59b],_0x367ffd['global_amb'+'ient'][-0x19f9+-0x7de*0x1+0x2*0x10ec],_0x367ffd['global_amb'+'ient'][0x201f+0x1d74+0x3d91*-0x1]),this['ambientLum'+'inance']=_0x367ffd['ambientLum'+'inance'],this['fog']['type']=_0x367ffd['fog'],this['fog']['color']['set'](_0x367ffd['fog_color'][-0x231b*0x1+0x161*-0x13+-0xe*-0x461],_0x367ffd['fog_color'][0x25*-0x3e+-0xb*-0x158+-0x5d1],_0x367ffd['fog_color'][-0xff8*-0x1+-0x205c+0x1066]),this['fog']['start']=_0x367ffd['fog_start'],this['fog']['end']=_0x367ffd['fog_end'],this['fog']['density']=_0x367ffd['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x367ffd['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x367ffd['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x367ffd['lightmapMo'+'de'],this['exposure']=_0x367ffd['exposure'],this['_skyboxInt'+'ensity']=_0x367ffd['skyboxInte'+'nsity']??0x100a+0x2*0x187+0x1b*-0xb5,this['_skyboxLum'+'inance']=_0x367ffd['skyboxLumi'+'nance']??0x6b25+-0x1*0x716b+0x5466,this['_skyboxMip']=_0x367ffd['skyboxMip']??-0x1b76+0x1062+-0x4*-0x2c5,_0x367ffd['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0x367ffd['skyboxRota'+'tion'][-0x1*0x2133+-0x15f5+0x4*0xdca],_0x367ffd['skyboxRota'+'tion'][0x243*0x5+0x1e0a*0x1+0xe*-0x2f4],_0x367ffd['skyboxRota'+'tion'][0x1f30+-0x17*-0xb+-0x202b])),this['sky']['applySetti'+'ngs'](_0x367ffd),this['clusteredL'+'ightingEna'+'bled']=_0x367ffd['clusteredL'+'ightingEna'+'bled']??!(-0x24b5+0x194a*-0x1+0x200*0x1f),this['lighting']['applySetti'+'ngs'](_0x367ffd),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x156a11=>{_0x367ffd['hasOwnProp'+'erty'](_0x156a11)&&(this[_0x156a11]=_0x367ffd[_0x156a11]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x296a8d=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x296a8d[[-0x123c+0x24*-0xf1+-0x30*-0x116,0x871+-0x9f6+0x186,0x871*0x3+0x329*0x1+0x1c79*-0x1,0x9a0*0x2+-0x1*-0xacf+-0x1e0b,0x1a3d+-0x15*0x1da+0xcaa,0x25e7+-0x2ed*0x8+0x27*-0x5f][this['_skyboxMip']]]||this['_envAtlas']||_0x296a8d[-0x2612+0x151c+0x10f6]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x296a8d[0x13b5+-0x313*0x8+0x9*0x8b]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x427+0x1f*0xa3+-0x39*0x46);}['setSkybox'](_0x2bc1c3){_0x2bc1c3?(this['skybox']=_0x2bc1c3[-0x9eb*-0x2+-0x1aee+0x38c*0x2]||null,_0x2bc1c3[-0x859+0x52f*0x6+0x1a*-0xe0]&&!_0x2bc1c3[-0x1*-0x169c+-0x49*-0x57+-0x2f6a]['cubemap']?this['envAtlas']=_0x2bc1c3[0x57b*-0x5+0xfa7+0x33*0x3b]:this['prefiltere'+'dCubemaps']=_0x2bc1c3['slice'](0x223f+0x1ab1+-0x3cef)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0x465d67,_0x5d2a2e,_0x44907e){this['device']=_0x465d67,this['inverseBin'+'dPose']=_0x5d2a2e,this['boneNames']=_0x44907e;}}const b1=[0x13a*0x18+-0x3*-0x6bf+-0x31ad,-0xdd+-0x115*0x1+-0x1f2*-0x1,-0x1311+0x1277*-0x2+-0x8*-0x700,-0x756+-0x232+0x988,-0x1*-0x14de+-0x2235+0xd57,-0x258a+0x1ae1+0xaaa,0x1*-0x767+-0x108a+0x17f1,0x1e3e*-0x1+0xb77+0x12c7,-0x13bc+-0x1ff5+0xd*0x3fa,-0x33+0x4*0x264+-0x11*0x8d,0x1*0x50e+0x1*-0x1ed6+-0x16*-0x12c,0x162d*0x1+0x2455+-0x3a81],w1=[-0x3b+-0x8e5+0x920,0x1106+-0x1*0x97d+-0x788,-0x2470+0x19a*-0x7+0x2fa9*0x1,0x1fdc+-0xa9f+-0x153b,0x786+0x3d4*-0x3+0x3f9,0x18e1*-0x1+0x16b1+0x231];class T1 extends ce{constructor(_0x2d7007,_0xef5d8b){super(),this['_device']=_0x2d7007,this['_pixelsPer'+'Unit']=_0xef5d8b&&_0xef5d8b['pixelsPerU'+'nit']!==void(-0x23*-0x67+0x1366*0x2+-0x34e1)?_0xef5d8b['pixelsPerU'+'nit']:-0x35*0x1+0x15d*-0x5+0x707*0x1,this['_renderMod'+'e']=_0xef5d8b&&_0xef5d8b['renderMode']!==void(-0x68f+-0x148b+0x1b1a)?_0xef5d8b['renderMode']:Ti,this['_atlas']=_0xef5d8b&&_0xef5d8b['atlas']!==void(0x6*0x476+-0x2e*-0x2e+-0x2308)?_0xef5d8b['atlas']:null,this['_frameKeys']=_0xef5d8b&&_0xef5d8b['frameKeys']!==void(0x1*0x19fd+-0x7f1+0xb*-0x1a4)?_0xef5d8b['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x61*0x3b+0x14ec+-0x1d*0x17e),this['_meshesDir'+'ty']=!(-0x1471+0x7*-0x99+0x18a1),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x554d95){this['_frameKeys']=_0x554d95,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x954+-0x1011+0x1965):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x554d95);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x330d44){_0x330d44!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x330d44,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x3*-0x5d7+0x1345*0x1+-0x24ca):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x330d44));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x606bf2){this['_pixelsPer'+'Unit']!==_0x606bf2&&(this['_pixelsPer'+'Unit']=_0x606bf2,this['fire']('set:pixels'+'PerUnit',_0x606bf2),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0xd*0x1ab+-0x4d9+0x1a88):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x5bfff2){if(this['_renderMod'+'e']===_0x5bfff2)return;const _0x1640c8=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x5bfff2,this['fire']('set:render'+'Mode',_0x5bfff2),(_0x1640c8===Ti||_0x5bfff2===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1810+-0x149a+-0x1*-0x2caa):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x54a155=this['_meshes']['length'];for(let _0x228946=0x22f5+0xc21+-0x11f*0x2a;_0x228946<_0x54a155;_0x228946++){const _0x5f0df5=this['_meshes'][_0x228946];_0x5f0df5&&_0x5f0df5['destroy']();}const _0x3ea1cb=this['_frameKeys']['length'];this['_meshes']=new Array(_0x3ea1cb);const _0x1d6fd6=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x32a62a=0x1*-0xfe9+0x2683+-0x2*0xb4d;_0x32a62a<_0x3ea1cb;_0x32a62a++){const _0x199724=this['_atlas']['frames'][this['_frameKeys'][_0x32a62a]];this['_meshes'][_0x32a62a]=_0x199724?_0x1d6fd6['call'](this,_0x199724):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x22f5a6){const _0x153df4=_0x22f5a6['rect'],_0xd6f0ec=this['_atlas']['texture']['width'],_0x4e220e=this['_atlas']['texture']['height'],_0x3da545=_0x153df4['z']/this['_pixelsPer'+'Unit'],_0x817985=_0x153df4['w']/this['_pixelsPer'+'Unit'],_0x831a3d=_0x22f5a6['pivot']['x'],_0x4dd29c=_0x22f5a6['pivot']['y'],_0x227c1d=[-_0x831a3d*_0x3da545,-_0x4dd29c*_0x817985,-0x1de*-0xb+0xfd0+-0x245a,(0x427*-0x3+0xe88+0x1*-0x212-_0x831a3d)*_0x3da545,-_0x4dd29c*_0x817985,-0x1*0x4a+0x2093*-0x1+0x1*0x20dd,(-0x1*0x1595+-0x1564+0x2afa-_0x831a3d)*_0x3da545,(-0x23ff+0xd7*0x10+-0x4*-0x5a4-_0x4dd29c)*_0x817985,-0x1f3d+-0xc2*0xd+0x2917,-_0x831a3d*_0x3da545,(0x56e+0x1*-0xfa7+0xa3a-_0x4dd29c)*_0x817985,-0x185d+0x1583+0x2da],_0x57d9bb=_0x153df4['x']/_0xd6f0ec,_0x2140c3=0x25b3*-0x1+0x5b9+0x1ffb*0x1-_0x153df4['y']/_0x4e220e,_0x30970d=(_0x153df4['x']+_0x153df4['z'])/_0xd6f0ec,_0x319d8b=0x2*0x4f7+0x641*-0x2+0x295-(_0x153df4['y']+_0x153df4['w'])/_0x4e220e,_0x5e660e=[_0x57d9bb,_0x2140c3,_0x30970d,_0x2140c3,_0x30970d,_0x319d8b,_0x57d9bb,_0x319d8b],_0x4976c0=new pn();return _0x4976c0['positions']=_0x227c1d,_0x4976c0['normals']=b1,_0x4976c0['uvs']=_0x5e660e,_0x4976c0['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x4976c0);}['_create9Sl'+'iceMesh'](){const _0x52380e=$['ONE'],_0xb7184=-0x5a7*-0x1+0x1*-0x8cd+-0x1*-0x329,_0x15f567=0x1*-0x1125+-0x203e+-0x2*-0x18b3,_0x17de39=[],_0x42d924=[],_0x548b7f=[],_0xa94fae=[];let _0x1da42d=0x59e*0x6+-0x266d+0x4b9;for(let _0x39c602=-0x99a+-0x2*-0x1fd+0x5a0;_0x39c602<=_0xb7184;_0x39c602++){const _0x34acef=_0x39c602===-0xcac+-0x3c7*-0x2+-0x51e*-0x1||_0x39c602===_0xb7184?0x3ef*-0x2+0x42*0x57+0x8*-0x1d2:-0x97a*-0x4+0xbb*0x29+-0x78a*0x9;for(let _0x556079=-0xc42+0x7f*-0x1c+0x1a26;_0x556079<=_0x15f567;_0x556079++){const _0x1767cf=-_0x52380e['x']+(0x1*0x9d9+-0xbf*0x27+0x11*0x122)*_0x52380e['x']*(_0x39c602<=0x9bb+-0x8e9+-0xd1?0x265*0xb+-0x2321+0x7d*0x12:-0x7f9+0x3db+0x421)/_0xb7184,_0xf37c02=-0x1*-0x1586+0x2276+-0x37fc,_0x56f43c=-(-_0x52380e['y']+(0x11b*0x6+-0x2389*-0x1+-0x2a29)*_0x52380e['y']*(_0x556079<=-0x5*-0x4d7+0x1afe+-0x3330?0x7c4+0x1*0x14a1+-0x1c65:-0x1114*-0x1+0x1b0b+-0x2c1c)/_0x15f567),_0x333811=_0x556079===0x2005+0x1226+-0x322b*0x1||_0x556079===_0x15f567?0xfd7*-0x1+-0x87e+0x1855:-0xa6*-0xd+-0xaf4+0x287;_0x17de39['push'](-_0x1767cf,_0xf37c02,_0x56f43c),_0x42d924['push'](0x1f1+-0x3cb*0x1+0x1da,0x2585+0x1021+-0x1*0x35a5,0x23f1+-0x678*-0x1+-0x8d*0x4d),_0x548b7f['push'](_0x34acef,_0x333811),_0x39c602<_0xb7184&&_0x556079<_0x15f567&&(_0xa94fae['push'](_0x1da42d+_0x15f567+(0x4*-0x2ae+0x1*-0x851+0x130a),_0x1da42d+(-0x2*-0x1ae+-0x1*0x109f+0xd44),_0x1da42d),_0xa94fae['push'](_0x1da42d+_0x15f567+(-0x1cd2+0x1a04+0x1*0x2cf),_0x1da42d+_0x15f567+(0x935*-0x1+0x283*0xd+-0x1770),_0x1da42d+(0x253+-0x2*-0xf58+0xd*-0x28a))),_0x1da42d++;}}const _0x1ade22=new pn();return _0x1ade22['positions']=_0x17de39,_0x1ade22['normals']=_0x42d924,_0x1ade22['uvs']=_0x548b7f,_0x1ade22['indices']=_0xa94fae,Ie['fromGeomet'+'ry'](this['_device'],_0x1ade22);}['_onSetFram'+'es'](_0x22af8c){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x371+0x2*-0x4ca+0x623*0x1):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x5c39e6,_0x2a03ed){const _0x11857c=this['_frameKeys']['indexOf'](_0x5c39e6);_0x11857c<-0xda1*0x2+0x1*-0x166f+0x31b1||(_0x2a03ed?this['renderMode']===Ti&&(this['_meshes'][_0x11857c]=this['_createSim'+'pleMesh'](_0x2a03ed)):this['_meshes'][_0x11857c]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x3db0b6){const _0x3be366=this['_frameKeys']['indexOf'](_0x3db0b6);_0x3be366<0xafd+-0x504*-0x5+-0x2411||(this['_meshes'][_0x3be366]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x4b1+-0x17b*-0x7+-0xf0e),this['_meshesDir'+'ty']=!(-0x68a+0x166f+-0xfe4);}['endUpdate'](){this['_updatingP'+'roperties']=!(0xfe5*0x1+0xde6*0x2+-0xaec*0x4),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0xcba*-0x3+0x11d7+-0xa*0x59a);}['destroy'](){for(const _0x56b82d of this['_meshes'])_0x56b82d&&_0x56b82d['destroy']();this['_meshes']['length']=0x1cc9+-0xc85+0xc*-0x15b;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x1449b0){this['_texture']=_0x1449b0,this['fire']('set:textur'+'e',_0x1449b0);}get['texture'](){return this['_texture'];}set['frames'](_0x52b238){this['_frames']=_0x52b238,this['fire']('set:frames',_0x52b238);}get['frames'](){return this['_frames'];}['setFrame'](_0x4d581a,_0x45a3ce){let _0x12781b=this['_frames'][_0x4d581a];_0x12781b?(_0x12781b['rect']['copy'](_0x45a3ce['rect']),_0x12781b['pivot']['copy'](_0x45a3ce['pivot']),_0x12781b['border']['copy'](_0x45a3ce['border'])):(_0x12781b={'rect':_0x45a3ce['rect']['clone'](),'pivot':_0x45a3ce['pivot']['clone'](),'border':_0x45a3ce['border']['clone']()},this['_frames'][_0x4d581a]=_0x12781b),this['fire']('set:frame',_0x4d581a['toString'](),_0x12781b);}['removeFram'+'e'](_0x29cfee){const _0x46331b=this['_frames'][_0x29cfee];_0x46331b&&(delete this['_frames'][_0x29cfee],this['fire']('remove:fra'+'me',_0x29cfee['toString'](),_0x46331b));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x5d8729,_0x52944a,_0x477f29,_0x39e24d){this['time']=_0x5d8729,this['position']=_0x52944a,this['rotation']=_0x477f29,this['scale']=_0x39e24d;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',0x2*-0xa2e+-0x11a6+0x23*0x116),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x346b89){return this['_nodeDict'][_0x346b89];}['addNode'](_0x2dea52){this['_nodes']['push'](_0x2dea52),this['_nodeDict'][_0x2dea52['_name']]=_0x2dea52;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(-0x171f+0x2c*0x32+0xe88),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x495d27){this['_targetNod'+'e']=_0x495d27;}}class $d{constructor(_0x2de4a3){c(this,'looping',!(-0xc0a+0x1102+0xc*-0x6a)),(this['_animation']=null,this['_time']=0x1*0x1e57+0x47*-0x4f+0x1a*-0x53,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x3a0e99=_0x4475d3=>{const _0x5e6253=new E1();_0x5e6253['_name']=_0x4475d3['name'],this['_interpola'+'tedKeys']['push'](_0x5e6253),this['_interpola'+'tedKeyDict'][_0x4475d3['name']]=_0x5e6253,this['_currKeyIn'+'dices'][_0x4475d3['name']]=0x5*-0x6ed+0x43*0x7+-0x1*-0x20cc;for(let _0xf49579=-0x171b+0xfe7*0x2+-0x83*0x11;_0xf49579<_0x4475d3['_children']['length'];_0xf49579++)_0x3a0e99(_0x4475d3['_children'][_0xf49579]);};_0x3a0e99(_0x2de4a3);}set['animation'](_0x56eb4e){this['_animation']=_0x56eb4e,this['currentTim'+'e']=0xbb5+0x1cd*-0x1+0x4*-0x27a;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x52121f){this['_time']=_0x52121f;const _0x41c0c8=this['_interpola'+'tedKeys']['length'];for(let _0x4be889=0x2*-0x39e+-0x7*0x319+0x1ceb;_0x4be889<_0x41c0c8;_0x4be889++){const _0x58ba26=this['_interpola'+'tedKeys'][_0x4be889]['_name'];this['_currKeyIn'+'dices'][_0x58ba26]=0x1*-0x5cb+0x1*0x2501+0xaa*-0x2f;}this['addTime'](0x1782+-0x10f1*-0x2+-0x3964),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0xd5404e){if(this['_animation']!==null){const _0x7d27e4=this['_animation']['_nodes'],_0x222f10=this['_animation']['duration'];if(this['_time']===_0x222f10&&!this['looping'])return;if(this['_time']+=_0xd5404e,this['_time']>_0x222f10){this['_time']=this['looping']?-0xf3f+0x443*0x1+-0x2*-0x57e:_0x222f10;for(let _0x257358=-0xc5*-0x7+0x1fdc+0x5*-0x773;_0x257358<_0x7d27e4['length'];_0x257358++){const _0x2050a2=_0x7d27e4[_0x257358]['_name'];this['_currKeyIn'+'dices'][_0x2050a2]=-0x1720+-0x1709*-0x1+-0x1*-0x17;}}else{if(this['_time']<-0x1*-0x1114+0x6ba+-0x17ce){this['_time']=this['looping']?_0x222f10:0x7*-0x425+0x1*0x116d+-0x1*-0xb96;for(let _0x3f74ee=0xe97*-0x1+0x1363+0x266*-0x2;_0x3f74ee<_0x7d27e4['length'];_0x3f74ee++){const _0xe3782=_0x7d27e4[_0x3f74ee],_0x285e22=_0xe3782['_name'];this['_currKeyIn'+'dices'][_0x285e22]=_0xe3782['_keys']['length']-(0x3*-0xb35+0x1692+0xb0f);}}}const _0x3a29cf=_0xd5404e>=0x2e1*0xc+0x1300+0x4*-0xd63?0x1*0x2539+0xcb*-0x10+-0x1888:-(-0x142*-0xe+0x1760+-0x327*0xd);for(let _0x404337=0x2348+-0x32*0x1d+0x22*-0xdf;_0x404337<_0x7d27e4['length'];_0x404337++){const _0x466a5d=_0x7d27e4[_0x404337],_0x570cb0=_0x466a5d['_name'],_0x2fbe93=_0x466a5d['_keys'],_0x1ef4ae=this['_interpola'+'tedKeyDict'][_0x570cb0];if(_0x1ef4ae===void(0x2228+-0x1b06+0xb*-0xa6)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x570cb0);continue;}let _0x77279=!(-0xae0*-0x2+-0x127c+-0x343);if(_0x2fbe93['length']!==-0x2dc*0x1+0x1d92+-0x9f*0x2b)for(let _0x5b0c95=this['_currKeyIn'+'dices'][_0x570cb0];_0x5b0c95<_0x2fbe93['length']-(-0x17*-0x54+0xcb3*-0x1+0x528)&&_0x5b0c95>=-0x16e4+-0x3e0+0x1ac4;_0x5b0c95+=_0x3a29cf){const _0x537ab4=_0x2fbe93[_0x5b0c95],_0x494c3c=_0x2fbe93[_0x5b0c95+(-0x1252+0x1e*-0x106+-0x4d*-0xa3)];if(_0x537ab4['time']<=this['_time']&&_0x494c3c['time']>=this['_time']){const _0x4ff93a=(this['_time']-_0x537ab4['time'])/(_0x494c3c['time']-_0x537ab4['time']);_0x1ef4ae['_pos']['lerp'](_0x537ab4['position'],_0x494c3c['position'],_0x4ff93a),_0x1ef4ae['_quat']['slerp'](_0x537ab4['rotation'],_0x494c3c['rotation'],_0x4ff93a),_0x1ef4ae['_scale']['lerp'](_0x537ab4['scale'],_0x494c3c['scale'],_0x4ff93a),_0x1ef4ae['_written']=!(0x856*0x2+-0x946*0x2+0x1e0),this['_currKeyIn'+'dices'][_0x570cb0]=_0x5b0c95,_0x77279=!(0x54b+0x1fb5*0x1+0x94*-0x40);break;}}(_0x2fbe93['length']===0x23*0xac+0x191b+-0x62*0x7f||!_0x77279&&this['_time']===-0x5f8+0x22d2+-0x1cda&&this['looping'])&&(_0x1ef4ae['_pos']['copy'](_0x2fbe93[-0x2435+0x5e*0x3c+0xe2d]['position']),_0x1ef4ae['_quat']['copy'](_0x2fbe93[-0x136+-0x2f*0x80+0x18b6]['rotation']),_0x1ef4ae['_scale']['copy'](_0x2fbe93[0x8*-0x2f7+0x1*-0x19+-0xd*-0x1d5]['scale']),_0x1ef4ae['_written']=!(-0x1421+0x1af1+0x368*-0x2));}}}['blend'](_0x439e87,_0x573390,_0x5eddf){const _0x377303=this['_interpola'+'tedKeys']['length'];for(let _0x35bd20=-0x218b*0x1+-0x3*0xc0f+0x1*0x45b8;_0x35bd20<_0x377303;_0x35bd20++){const _0x1d1002=_0x439e87['_interpola'+'tedKeys'][_0x35bd20],_0x5cfdcb=_0x573390['_interpola'+'tedKeys'][_0x35bd20],_0x37f9f9=this['_interpola'+'tedKeys'][_0x35bd20];_0x1d1002['_written']&&_0x5cfdcb['_written']?(_0x37f9f9['_quat']['slerp'](_0x1d1002['_quat'],_0x573390['_interpola'+'tedKeys'][_0x35bd20]['_quat'],_0x5eddf),_0x37f9f9['_pos']['lerp'](_0x1d1002['_pos'],_0x573390['_interpola'+'tedKeys'][_0x35bd20]['_pos'],_0x5eddf),_0x37f9f9['_scale']['lerp'](_0x1d1002['_scale'],_0x5cfdcb['_scale'],_0x5eddf),_0x37f9f9['_written']=!(0x16*-0xde+-0x1da2+-0x4df*-0xa)):_0x1d1002['_written']?(_0x37f9f9['_quat']['copy'](_0x1d1002['_quat']),_0x37f9f9['_pos']['copy'](_0x1d1002['_pos']),_0x37f9f9['_scale']['copy'](_0x1d1002['_scale']),_0x37f9f9['_written']=!(0x1da5+-0xa12*0x3+0x91)):_0x5cfdcb['_written']&&(_0x37f9f9['_quat']['copy'](_0x5cfdcb['_quat']),_0x37f9f9['_pos']['copy'](_0x5cfdcb['_pos']),_0x37f9f9['_scale']['copy'](_0x5cfdcb['_scale']),_0x37f9f9['_written']=!(0x1207+-0x71*0x9+-0xe*0x101));}}['setGraph'](_0x554529){if(this['graph']=_0x554529,_0x554529)for(let _0x224bfc=-0x13*-0x1f7+0x1*0x1639+-0x3b8e;_0x224bfc<this['_interpola'+'tedKeys']['length'];_0x224bfc++){const _0x57a351=this['_interpola'+'tedKeys'][_0x224bfc],_0x4235cb=_0x554529['findByName'](_0x57a351['_name']);this['_interpola'+'tedKeys'][_0x224bfc]['setTarget'](_0x4235cb);}else{for(let _0xe43a78=-0x10a3*-0x1+0x136d*0x1+0x4*-0x904;_0xe43a78<this['_interpola'+'tedKeys']['length'];_0xe43a78++)this['_interpola'+'tedKeys'][_0xe43a78]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x3b73ca=0x5*-0x295+-0x8e7+-0x8*-0x2ba;_0x3b73ca<this['_interpola'+'tedKeys']['length'];_0x3b73ca++){const _0x42de6f=this['_interpola'+'tedKeys'][_0x3b73ca];if(_0x42de6f['_written']){const _0x360bf7=_0x42de6f['getTarget']();_0x360bf7['localPosit'+'ion']['copy'](_0x42de6f['_pos']),_0x360bf7['localRotat'+'ion']['copy'](_0x42de6f['_quat']),_0x360bf7['localScale']['copy'](_0x42de6f['_scale']),_0x360bf7['_dirtyLoca'+'l']||_0x360bf7['_dirtifyLo'+'cal'](),_0x42de6f['_written']=!(0x1343+-0x13*-0x17b+0x7*-0x6c5);}}}}const ys=(-0x1844+0xa*-0x317+0x372e)/(0x1ebd+-0x704+0x1*-0x1779),Bs=-0x113*0x1f+0x1*0xf56+0x11f8-ys*(-0xb15*0x1+-0x1a35*0x1+0x254c);class Bp extends pn{constructor(_0xe7c1f9,_0x4b97b4,_0x591d60,_0x183c2c,_0x5ba3db,_0x312cf2){super();const _0x5d20dc=new T(),_0x478143=new T(),_0x4e2259=new T(),_0x380f6c=new T(),_0x4de569=new T(),_0x43f6ef=new T(),_0x1a23de=[],_0x2f653c=[],_0x35b03d=[],_0x2813ea=[],_0x1893bc=[];let _0x2a6235;if(_0x591d60>0x1e93+0x1b*-0x9f+-0xdce){for(let _0x85e057=0x19ed+-0x2d9+0xe*-0x1a6;_0x85e057<=_0x183c2c;_0x85e057++)for(let _0x89be9=0x1890+-0x19b4+0x124;_0x89be9<=_0x5ba3db;_0x89be9++){const _0x162aea=_0x89be9/_0x5ba3db*(0x63*0x5+-0xe9c*0x1+0xcaf)*Math['PI']-Math['PI'],_0x10b170=Math['sin'](_0x162aea),_0x54fd8e=Math['cos'](_0x162aea);_0x4de569['set'](_0x10b170*_0xe7c1f9,-_0x591d60/(-0x11+0x2104+0xafb*-0x3),_0x54fd8e*_0xe7c1f9),_0x380f6c['set'](_0x10b170*_0x4b97b4,_0x591d60/(-0x1802+0xa98+0xd6c*0x1),_0x54fd8e*_0x4b97b4),_0x5d20dc['lerp'](_0x4de569,_0x380f6c,_0x85e057/_0x183c2c),_0x478143['sub2'](_0x380f6c,_0x4de569)['normalize'](),_0x43f6ef['set'](_0x54fd8e,0x1*-0x1d9a+-0x229a+-0x1c*-0x24b,-_0x10b170),_0x4e2259['cross'](_0x43f6ef,_0x478143)['normalize'](),_0x1a23de['push'](_0x5d20dc['x'],_0x5d20dc['y'],_0x5d20dc['z']),_0x2f653c['push'](_0x4e2259['x'],_0x4e2259['y'],_0x4e2259['z']);let _0x1dcaa7=_0x89be9/_0x5ba3db,_0xeeed0f=_0x85e057/_0x183c2c;_0x35b03d['push'](_0x1dcaa7,0x113d+-0x2*0xbca+0x658-_0xeeed0f);const _0x29018b=_0xeeed0f;if(_0xeeed0f=_0x1dcaa7,_0x1dcaa7=_0x29018b,_0x1dcaa7=_0x1dcaa7*Bs+ys,_0xeeed0f=_0xeeed0f*Bs+ys,_0x1dcaa7/=-0x26*-0x2e+0x1*-0x13d+0x1c*-0x33,_0x2813ea['push'](_0x1dcaa7,-0x3*0xa26+-0x22*0x102+0x1*0x40b7-_0xeeed0f),_0x85e057<_0x183c2c&&_0x89be9<_0x5ba3db){const _0x718ed4=_0x85e057*(_0x5ba3db+(-0x2048+-0xcd2+-0x503*-0x9))+_0x89be9,_0x4a50e7=_0x85e057*(_0x5ba3db+(-0x2*0x117f+0x5f*-0x5b+0x44c4))+(_0x89be9+(0x1*-0x15e3+-0x1797+0x3*0xf29)),_0x534e47=(_0x85e057+(-0x332*0x2+-0x103*-0x18+-0x11e3))*(_0x5ba3db+(-0x22d7+-0x1bc7+0x3e9f))+_0x89be9,_0x446071=(_0x85e057+(0x15ec+-0x1a*0x117+0x66b))*(_0x5ba3db+(0x248*-0x1+-0x1d*-0x85+0x332*-0x4))+(_0x89be9+(-0xffd*0x1+-0x1871+0x286f*0x1));_0x1893bc['push'](_0x718ed4,_0x4a50e7,_0x534e47),_0x1893bc['push'](_0x4a50e7,_0x446071,_0x534e47);}}}if(_0x312cf2){const _0x4d5a59=Math['floor'](_0x5ba3db/(0x11af+0x621*-0x5+0xcf8)),_0x519db5=_0x5ba3db,_0x48e40c=_0x591d60/(-0x574+0x18e5+-0x136f);for(let _0x24138b=0x1*-0xdef+-0x78*0xe+0x147f;_0x24138b<=_0x4d5a59;_0x24138b++){const _0x30d72b=_0x24138b*Math['PI']*(0x193*-0x11+0x2*-0xf9a+0x47*0xd1+0.5)/_0x4d5a59,_0x7302cf=Math['sin'](_0x30d72b),_0x436409=Math['cos'](_0x30d72b);for(let _0x3f8537=-0x8b3+0x1ff+-0x42*-0x1a;_0x3f8537<=_0x519db5;_0x3f8537++){const _0x1380fe=_0x3f8537*(-0x22a*0x10+0x3*0x629+-0x5*-0x33b)*Math['PI']/_0x519db5-Math['PI']/(0xe3b*-0x1+-0x1dc6+0x2c03),_0x285711=Math['sin'](_0x1380fe),_0x3d81d0=Math['cos'](_0x1380fe)*_0x7302cf,_0xc61000=_0x436409,_0x4e19c1=_0x285711*_0x7302cf;let _0x2f559c=-0xb26*-0x2+0xf6e*-0x1+0x7*-0xfb-_0x3f8537/_0x519db5,_0x3437e5=-0x2d1*0x9+-0x382*-0x6+0x44e-_0x24138b/_0x4d5a59;_0x1a23de['push'](_0x3d81d0*_0x4b97b4,_0xc61000*_0x4b97b4+_0x48e40c,_0x4e19c1*_0x4b97b4),_0x2f653c['push'](_0x3d81d0,_0xc61000,_0x4e19c1),_0x35b03d['push'](_0x2f559c,-0x1e8d+0x2*0x1279+-0x664-_0x3437e5),_0x2f559c=_0x2f559c*Bs+ys,_0x3437e5=_0x3437e5*Bs+ys,_0x2f559c/=0x2*0x31d+-0x16d4+-0x1*-0x109d,_0x3437e5/=-0x2617+-0xa5c+0x3076,_0x2f559c+=(-0x1da5+-0xd*-0x44+0x1a32)/(-0x2*-0x8e1+0x1d80+-0x2f3f),_0x2813ea['push'](_0x2f559c,-0x1171*0x1+-0xf64+-0xaf2*-0x3-_0x3437e5);}}_0x2a6235=(_0x183c2c+(-0x962*-0x4+-0x913+-0x1c74))*(_0x5ba3db+(-0x2fe+-0x260d+0x94*0x47));for(let _0x116d2f=-0x1a1e*-0x1+-0x145d+-0x5c1*0x1;_0x116d2f<_0x4d5a59;++_0x116d2f)for(let _0x3b608=-0x250e+-0x1*-0x2e6+0x1*0x2228;_0x3b608<_0x519db5;++_0x3b608){const _0x43cda0=_0x116d2f*(_0x519db5+(0x12ea+0xebf+-0x21a8))+_0x3b608,_0x5e92c4=_0x43cda0+_0x519db5+(-0xcf7*0x1+0x1*-0x3d5+-0x187*-0xb);_0x1893bc['push'](_0x2a6235+_0x43cda0+(-0x1*0x23bc+-0x1a*-0x47+0x1c87),_0x2a6235+_0x5e92c4,_0x2a6235+_0x43cda0),_0x1893bc['push'](_0x2a6235+_0x43cda0+(-0xa4b+0x39+0xa13*0x1),_0x2a6235+_0x5e92c4+(0x37*0x1c+0xab1+-0x2*0x85a),_0x2a6235+_0x5e92c4);}for(let _0x5031a8=-0x1*-0x773+-0x59*0x32+0x9ef;_0x5031a8<=_0x4d5a59;_0x5031a8++){const _0x184677=Math['PI']*(0x1*0x2f+0x77e+-0x189*0x5+0.5)+_0x5031a8*Math['PI']*(-0xa64+-0xbf4+0x1658+0.5)/_0x4d5a59,_0x5b296f=Math['sin'](_0x184677),_0x144991=Math['cos'](_0x184677);for(let _0x1ed284=0x2149+-0x8d*0x5+-0xf44*0x2;_0x1ed284<=_0x519db5;_0x1ed284++){const _0x38b7a4=_0x1ed284*(-0x9b*0x39+-0x203*0x6+0x2e97)*Math['PI']/_0x519db5-Math['PI']/(-0x52*-0x43+-0x1883+0x30f),_0x2a42b3=Math['sin'](_0x38b7a4),_0x2413dd=Math['cos'](_0x38b7a4)*_0x5b296f,_0x4692be=_0x144991,_0x1e157e=_0x2a42b3*_0x5b296f;let _0x207b4a=-0x2458+0x8a2*-0x3+-0x1*-0x3e3f-_0x1ed284/_0x519db5,_0x1d3391=0x3*0x6aa+0x199d+0x1a*-0x1c1-_0x5031a8/_0x4d5a59;_0x1a23de['push'](_0x2413dd*_0x4b97b4,_0x4692be*_0x4b97b4-_0x48e40c,_0x1e157e*_0x4b97b4),_0x2f653c['push'](_0x2413dd,_0x4692be,_0x1e157e),_0x35b03d['push'](_0x207b4a,0x2*-0x1136+0x19d*0xd+-0x7*-0x1ec-_0x1d3391),_0x207b4a=_0x207b4a*Bs+ys,_0x1d3391=_0x1d3391*Bs+ys,_0x207b4a/=0xa02+0x1*-0x1193+-0x1*-0x794,_0x1d3391/=0x12f*-0x15+0xde9+0xaf5,_0x207b4a+=(-0x69*0x4f+-0x33d*-0xb+-0x336)/(0x3*0xbe9+0xc0b+-0x2fc3),_0x2813ea['push'](_0x207b4a,-0x1f56+0x17a3*-0x1+0x36fa-_0x1d3391);}}_0x2a6235=(_0x183c2c+(-0x5*-0x22f+0x108f+0x1*-0x1b79))*(_0x5ba3db+(-0x3*-0x10d+-0xa34*-0x2+-0x6*0x3ed))+(_0x519db5+(-0x20b1+0x21a6+-0x1*0xf4))*(_0x4d5a59+(0x35*0x13+-0x1b30+0x1*0x1742));for(let _0x5c3cde=-0xfb9+0x7e5+0x7d4;_0x5c3cde<_0x4d5a59;++_0x5c3cde)for(let _0x36e8be=0x21*-0xd+0x25b9+-0x240c;_0x36e8be<_0x519db5;++_0x36e8be){const _0x104cc1=_0x5c3cde*(_0x519db5+(-0x61d*0x5+-0x2049+-0x3edb*-0x1))+_0x36e8be,_0x175240=_0x104cc1+_0x519db5+(0x43e*-0x4+-0x779+0x1872);_0x1893bc['push'](_0x2a6235+_0x104cc1+(0x2495*0x1+-0x1*0x2225+-0x26f),_0x2a6235+_0x175240,_0x2a6235+_0x104cc1),_0x1893bc['push'](_0x2a6235+_0x104cc1+(-0xbed*-0x2+0x20c6+-0x389f),_0x2a6235+_0x175240+(-0x9*0x116+0x760*-0x1+0x1127),_0x2a6235+_0x175240);}}else{if(_0x2a6235=(_0x183c2c+(0x4c*-0x25+-0x1474+-0x1*-0x1f71))*(_0x5ba3db+(0x130*-0x13+0x1e*0xbb+0xa7)),_0xe7c1f9>-0x2cd*0x3+0x183b+-0xfd4*0x1)for(let _0xedc758=-0x6*0x377+-0x2*-0xedb+0x2*-0x476;_0xedc758<_0x5ba3db;_0xedc758++){const _0x44cc9e=_0xedc758/_0x5ba3db*(-0x1276+-0xc5*-0x21+-0x6ed)*Math['PI'],_0x180532=Math['sin'](_0x44cc9e),_0x5f2aad=-_0x591d60/(-0x33*-0x61+0x1*0xcd0+-0x2021),_0x29e00e=Math['cos'](_0x44cc9e);let _0x17236a=0x1*-0x2ef+0x1*-0x8c5+0x9*0x14d-(_0x180532+(0x2f*0x11+-0x1159+-0x1*-0xe3b))/(-0x3d*0x4b+-0x177*0x6+0x1aab),_0x23787f=(_0x29e00e+(-0x2f6+0x1ca2+-0x19ab*0x1))/(-0xccf+0x1b82+-0xeb1);_0x1a23de['push'](_0x180532*_0xe7c1f9,_0x5f2aad,_0x29e00e*_0xe7c1f9),_0x2f653c['push'](-0x1f*-0x29+-0x32a+0x1cd*-0x1,-(-0xc7*0x26+0xad3*-0x3+0x3e04),-0x13eb*0x1+0x502*-0x3+0x22f1),_0x35b03d['push'](_0x17236a,-0xc51+0x4*0x263+0x2c6-_0x23787f),_0x17236a=_0x17236a*Bs+ys,_0x23787f=_0x23787f*Bs+ys,_0x17236a/=0x83a+0x1c+0x1*-0x853,_0x23787f/=-0x286*-0x5+-0x10cc+0x431,_0x17236a+=(-0x35e+0x4dc+-0x17d)/(-0x7a9*-0x1+-0x72*0x52+0x1cde),_0x2813ea['push'](_0x17236a,0x1aaf+-0x1*0x230c+0x85e-_0x23787f),_0xedc758>-0x13*-0xcb+0x1009+0x13*-0x1a3&&_0x1893bc['push'](_0x2a6235,_0x2a6235+_0xedc758,_0x2a6235+_0xedc758-(0x9b7*-0x1+-0x17e0+-0x10cc*-0x2));}if(_0x2a6235+=_0x5ba3db,_0x4b97b4>0x1*0x173d+0x1506+-0x2c43)for(let _0x517ea7=0x772+-0x1691+0x31*0x4f;_0x517ea7<_0x5ba3db;_0x517ea7++){const _0x6eb2db=_0x517ea7/_0x5ba3db*(0x2423+-0x79d+-0x721*0x4)*Math['PI'],_0x564c51=Math['sin'](_0x6eb2db),_0x42a9bb=_0x591d60/(-0x65d+-0x39*-0x4e+-0xaff*0x1),_0x36c79a=Math['cos'](_0x6eb2db);let _0xbddf53=0xc6b+-0xf1*-0x5+0x5b5*-0x3-(_0x564c51+(-0x27*0xa7+-0x203*-0x1+0x176f))/(0x54d+-0x1e51+0x1906),_0x4d18b9=(_0x36c79a+(-0xd4*-0x1+0x1c5f+0x4a*-0x65))/(-0x171*0xa+-0x1672+-0x27*-0xf2);_0x1a23de['push'](_0x564c51*_0x4b97b4,_0x42a9bb,_0x36c79a*_0x4b97b4),_0x2f653c['push'](0x7*0x1dd+-0x1367+-0x4*-0x197,-0x36*0x12+0x1*-0x1f9a+0x39*0x9f,-0x1*-0x1c5a+0x1*0xe2d+-0xe2d*0x3),_0x35b03d['push'](_0xbddf53,-0x1063+0x178b+-0x727*0x1-_0x4d18b9),_0xbddf53=_0xbddf53*Bs+ys,_0x4d18b9=_0x4d18b9*Bs+ys,_0xbddf53/=-0x25bf+-0x147*-0x1+0x247b,_0x4d18b9/=0x7c2+0x322*-0x3+0x1a7,_0xbddf53+=(0x1d25+0x229e+-0x3fc1)/(0xa8*0x22+0x1b*0x162+-0x3ba3),_0x2813ea['push'](_0xbddf53,-0x561*-0x1+-0xcb3*-0x3+-0x1f*0x167-_0x4d18b9),_0x517ea7>-0x1779*0x1+-0x43e+0x1bb8&&_0x1893bc['push'](_0x2a6235,_0x2a6235+_0x517ea7-(0x9a1*-0x3+0x1*-0x190a+-0x213*-0x1a),_0x2a6235+_0x517ea7);}}this['positions']=_0x1a23de,this['normals']=_0x2f653c,this['uvs']=_0x35b03d,this['uvs1']=_0x2813ea,this['indices']=_0x1893bc;}}class C1 extends Bp{constructor(_0x572b21={}){const _0x1805d5=_0x572b21['radius']??-0x24b*-0x7+0x3e4+-0x13f1+0.3,_0x3c95c8=_0x572b21['height']??-0x2367+0x79*0x35+0xa5b,_0x33303c=_0x572b21['heightSegm'+'ents']??-0x181*0x16+-0x25*-0xe2+0x6d,_0x98bc82=_0x572b21['sides']??-0x2375+-0x53*-0x71+0x6*-0x2f;super(_0x1805d5,_0x1805d5,_0x3c95c8-(0x1f18+0xf0b+-0x2e21)*_0x1805d5,_0x33303c,_0x98bc82,!(0xd09+-0xb*-0x24a+-0x2637)),_0x572b21['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0x2b1608={}){const _0x512514=_0x2b1608['baseRadius']??-0x1*0x11c+0xf4*-0xd+0xd80+0.5,_0x160b48=_0x2b1608['peakRadius']??-0x170a+-0x1f5c+0x3*0x1222,_0x36a9cb=_0x2b1608['height']??0x1*0xcbf+0x646*0x2+-0x194a,_0x55b213=_0x2b1608['heightSegm'+'ents']??-0x1*-0x1a0b+0x3a9*-0x5+0x7b9*-0x1,_0x59ac4e=_0x2b1608['capSegment'+'s']??0x106c+0x2*-0xfd6+0xf52;super(_0x512514,_0x160b48,_0x36a9cb,_0x55b213,_0x59ac4e,!(-0x1d90+-0x632*-0x4+-0x31*-0x19)),_0x2b1608['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0x4583e4={}){const _0x47d5bc=_0x4583e4['radius']??0x2cd*0x1+-0x6aa*0x1+0x3dd*0x1+0.5,_0x1e6132=_0x4583e4['height']??-0x1dcc+0x60d+-0xbe0*-0x2,_0x4fb293=_0x4583e4['heightSegm'+'ents']??0x1*0x190b+-0x1bb4*-0x1+0x11*-0x31a,_0x13b268=_0x4583e4['capSegment'+'s']??0x2213+0x7f5+-0x29f4;super(_0x47d5bc,_0x47d5bc,_0x1e6132,_0x4fb293,_0x13b268,!(-0x21ea+-0x222e+0x4419)),_0x4583e4['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x2b4952={}){super();const _0x571c8f=_0x2b4952['halfExtent'+'s']??new $(0x1*-0x1253+-0x28c+-0x3*-0x6f5+0.5,-0x1513+0x221f*0x1+-0xd0c+0.5),_0x3a1598=_0x2b4952['widthSegme'+'nts']??0x15*0x175+-0x2*-0x202+-0x2298,_0x5ee19b=_0x2b4952['lengthSegm'+'ents']??-0x16be+-0x1b2e+0x5*0x9fd,_0x449eea=[],_0x198eac=[],_0x28fb68=[],_0xd727bd=[];let _0x41c5f9=-0x94c+-0x9c6+0x1312;for(let _0x59fb81=-0xed3+0x1c35+-0xd62;_0x59fb81<=_0x3a1598;_0x59fb81++)for(let _0x54d352=-0x1*-0x17f3+-0x1*-0xe43+-0x43*0x92;_0x54d352<=_0x5ee19b;_0x54d352++){const _0x5a5a3e=-_0x571c8f['x']+(0x61*-0x22+0x1809+0xb25*-0x1)*_0x571c8f['x']*_0x59fb81/_0x3a1598,_0x257ba7=0x1*-0x1e7e+0x1bae+0x2d0,_0x264bf5=-(-_0x571c8f['y']+(-0x1be2*-0x1+0x1f38+-0x3b18)*_0x571c8f['y']*_0x54d352/_0x5ee19b),_0x2f5bc6=_0x59fb81/_0x3a1598,_0x53e33e=_0x54d352/_0x5ee19b;_0x449eea['push'](_0x5a5a3e,_0x257ba7,_0x264bf5),_0x198eac['push'](-0x501+-0x609+0xb0a,0x2060+0x29*-0xb2+-0x3dd*0x1,0x236e+-0x99*0x3+-0x21a3),_0x28fb68['push'](_0x2f5bc6,-0x1*-0xf4d+-0x1d80+0xe34-_0x53e33e),_0x59fb81<_0x3a1598&&_0x54d352<_0x5ee19b&&(_0xd727bd['push'](_0x41c5f9+_0x5ee19b+(-0x333+-0x2665+0x2999),_0x41c5f9+(0x1dcf+-0xbc*-0x33+-0x4342),_0x41c5f9),_0xd727bd['push'](_0x41c5f9+_0x5ee19b+(0x1c25+-0x14c6+-0x75e),_0x41c5f9+_0x5ee19b+(-0x5*-0x472+0x1e87*0x1+0x1195*-0x3),_0x41c5f9+(-0x257*0x7+0x5*0x793+-0x157d))),_0x41c5f9++;}this['positions']=_0x449eea,this['normals']=_0x198eac,this['uvs']=_0x28fb68,this['uvs1']=_0x28fb68,this['indices']=_0xd727bd,_0x2b4952['calculateT'+'angents']&&(this['tangents']=fr(_0x449eea,_0x198eac,_0x28fb68,_0xd727bd));}}class I1 extends pn{constructor(_0x2132f2={}){super();const _0x232917=_0x2132f2['tubeRadius']??0x1212*-0x1+-0x1098+0x22aa+0.2,_0x59791=_0x2132f2['ringRadius']??-0x11e7*0x2+0x25c7+-0x1f9+0.3,_0x13e512=(_0x2132f2['sectorAngl'+'e']??-0x614*0x1+-0x1d*0xa7+-0x1a67*-0x1)*N['DEG_TO_RAD'],_0x53b530=_0x2132f2['segments']??0x7*0x101+-0x318+-0x3d1,_0x1a40a3=_0x2132f2['sides']??0x1e85+0x6e9*-0x1+0x18*-0xfb,_0x2ea88f=[],_0x2f632f=[],_0xe6c079=[],_0x3e4a27=[];for(let _0x110612=-0x1*0x26b9+0x1535+0x76*0x26;_0x110612<=_0x1a40a3;_0x110612++)for(let _0x471b65=0xdc7*-0x2+-0x1d5+0x1d63*0x1;_0x471b65<=_0x53b530;_0x471b65++){const _0x16ca71=Math['cos'](_0x13e512*_0x471b65/_0x53b530)*(_0x59791+_0x232917*Math['cos']((-0x10cd+-0x54c+0x161b*0x1)*Math['PI']*_0x110612/_0x1a40a3)),_0x24b8a=Math['sin']((0x1370+-0x94f*0x2+-0xd0)*Math['PI']*_0x110612/_0x1a40a3)*_0x232917,_0x238f48=Math['sin'](_0x13e512*_0x471b65/_0x53b530)*(_0x59791+_0x232917*Math['cos']((-0x1e9*-0xf+0x167f+-0x3324)*Math['PI']*_0x110612/_0x1a40a3)),_0x5f1380=Math['cos'](_0x13e512*_0x471b65/_0x53b530)*Math['cos']((0x2038+-0x166*-0x9+-0x2ccc)*Math['PI']*_0x110612/_0x1a40a3),_0x3c7d65=Math['sin']((0x3da+-0x545*0x1+0x16d)*Math['PI']*_0x110612/_0x1a40a3),_0x2af8b4=Math['sin'](_0x13e512*_0x471b65/_0x53b530)*Math['cos']((-0xba+-0x77a*-0x1+-0x35f*0x2)*Math['PI']*_0x110612/_0x1a40a3),_0x434b05=_0x110612/_0x1a40a3,_0x20ed3f=0xcf+0xb4a+-0xc18-_0x471b65/_0x53b530;if(_0x2ea88f['push'](_0x16ca71,_0x24b8a,_0x238f48),_0x2f632f['push'](_0x5f1380,_0x3c7d65,_0x2af8b4),_0xe6c079['push'](_0x434b05,0xc25+0x10c2+-0x1ce6-_0x20ed3f),_0x110612<_0x1a40a3&&_0x471b65<_0x53b530){const _0x397a3f=_0x110612*(_0x53b530+(0x1079+-0x4b*-0x12+-0x15be))+_0x471b65,_0x2887d1=(_0x110612+(-0x16ab+0x1296*-0x2+0x77b*0x8))*(_0x53b530+(0xd*0x4b+-0x39*-0x7+-0x55d))+_0x471b65,_0x44e2ae=_0x110612*(_0x53b530+(0x1*0x105b+-0x2642+0x1*0x15e8))+(_0x471b65+(-0x213*0x3+-0x1ae3+0x211d)),_0x39a0a8=(_0x110612+(-0x22bd+-0x920+0x2bde))*(_0x53b530+(0x672+-0xc34+0x5*0x127))+(_0x471b65+(0x1d69+-0x132d+-0xa3b));_0x3e4a27['push'](_0x397a3f,_0x2887d1,_0x44e2ae),_0x3e4a27['push'](_0x2887d1,_0x39a0a8,_0x44e2ae);}}this['positions']=_0x2ea88f,this['normals']=_0x2f632f,this['uvs']=_0xe6c079,this['uvs1']=_0xe6c079,this['indices']=_0x3e4a27,_0x2132f2['calculateT'+'angents']&&(this['tangents']=fr(_0x2ea88f,_0x2f632f,_0xe6c079,_0x3e4a27));}}class D1{constructor(_0x2f9276,_0x192e0c){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x2f9276,this['_isClearin'+'gCache']=!(-0x2070+-0x1*0x3c1+0x2432),this['_precached']=!(-0x2*-0x6e1+-0xc40+-0x181),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x5eaa43=new A0();_0x192e0c['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x5eaa43,_0x192e0c,null,[],gn,null),_0x192e0c['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x192e0c,null,Rp,null),_0x2f9276['on']('destroy:sh'+'ader',_0x11d6d7=>{this['removeFrom'+'Cache'](_0x11d6d7);});}['destroy'](){this['clearCache']();}['register'](_0x43e507,_0x3d3525){this['_generator'+'s']['has'](_0x43e507)||this['_generator'+'s']['set'](_0x43e507,_0x3d3525);}['unregister'](_0xd5ec3f){this['_generator'+'s']['has'](_0xd5ec3f)&&this['_generator'+'s']['delete'](_0xd5ec3f);}['isRegister'+'ed'](_0x55ec5c){return this['_generator'+'s']['has'](_0x55ec5c);}['generateSh'+'aderDefini'+'tion'](_0x5a7e4e,_0x11e9db,_0x182c81,_0x1aec9e){var _0x35f19b,_0x256e6d;let _0x50a775=this['definition'+'sCache']['get'](_0x182c81);if(!_0x50a775){let _0x2e1fb9;(_0x35f19b=_0x1aec9e['litOptions'])!=null&&_0x35f19b['lights']&&(_0x2e1fb9=_0x1aec9e['litOptions']['lights'],_0x1aec9e['litOptions']['lights']=_0x2e1fb9['map'](_0x5ced92=>{const _0x49054e=_0x5ced92['clone']?_0x5ced92['clone']():_0x5ced92;return _0x49054e['key']=_0x5ced92['key'],_0x49054e;})),this['storeNewPr'+'ogram'](_0x11e9db,_0x1aec9e),(_0x256e6d=_0x1aec9e['litOptions'])!=null&&_0x256e6d['lights']&&(_0x1aec9e['litOptions']['lights']=_0x2e1fb9),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x11e9db+'\x20key\x20'+_0x182c81+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x3bdaff=this['_device'];_0x50a775=_0x5a7e4e['createShad'+'erDefiniti'+'on'](_0x3bdaff,_0x1aec9e),_0x50a775['name']=_0x50a775['name']??(_0x1aec9e['pass']?_0x11e9db+'-pass:'+_0x1aec9e['pass']:_0x11e9db),this['definition'+'sCache']['set'](_0x182c81,_0x50a775);}return _0x50a775;}['getCachedS'+'hader'](_0x407b27){return this['processedC'+'ache']['get'](_0x407b27);}['setCachedS'+'hader'](_0x259157,_0x26f40c){this['processedC'+'ache']['set'](_0x259157,_0x26f40c);}['getProgram'](_0xb5065b,_0x26e9d7,_0x7f9894,_0x38eb30){const _0x1c3065=this['_generator'+'s']['get'](_0xb5065b);if(!_0x1c3065)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0xb5065b),null;const _0xee4068=_0x1c3065['generateKe'+'y'](_0x26e9d7),_0x1e4e9f=hn(_0xee4068),_0x34cc56=_0x7f9894['generateKe'+'y'](this['_device']),_0x34e8e0=hn(_0x34cc56),_0x11deb5=_0x1e4e9f+'#'+_0x34e8e0;let _0x357402=this['getCachedS'+'hader'](_0x11deb5);if(!_0x357402){const _0x4e841b=this['generateSh'+'aderDefini'+'tion'](_0x1c3065,_0xb5065b,_0x1e4e9f,_0x26e9d7);v['assert'](_0x4e841b);let _0x34c2a0='',_0x2a798a;_0x26e9d7['pass']!==void(0x1*-0x1520+0x1*0xc0b+0x915)&&(_0x2a798a=Ks['get'](this['_device'])['getByIndex'](_0x26e9d7['pass']),_0x34c2a0='-'+_0x2a798a['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x38eb30,'shaderPassInfo':_0x2a798a,'definition':_0x4e841b});const _0x4832b9={'name':''+_0x4e841b['name']+_0x34c2a0+'-proc','attributes':_0x4e841b['attributes'],'vshader':_0x4e841b['vshader'],'vincludes':_0x4e841b['vincludes'],'fincludes':_0x4e841b['fincludes'],'fshader':_0x4e841b['fshader'],'processingOptions':_0x7f9894,'shaderLanguage':_0x4e841b['shaderLang'+'uage'],'meshUniformBufferFormat':_0x4e841b['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4e841b['meshBindGr'+'oupFormat']};_0x357402=new i0(this['_device'],_0x4832b9),v['call'](()=>{_0x357402['_generatio'+'nKey']=_0xee4068,_0x357402['_processin'+'gKey']=_0x34cc56;}),this['setCachedS'+'hader'](_0x11deb5,_0x357402);}return _0x357402;}['storeNewPr'+'ogram'](_0x171772,_0x43ec6d){let _0x4cd307={};if(_0x171772==='standard'){const _0x268f43=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x43ec6d['pass']);for(const _0x586509 in _0x43ec6d)(_0x43ec6d['hasOwnProp'+'erty'](_0x586509)&&_0x268f43[_0x586509]!==_0x43ec6d[_0x586509]||_0x586509==='pass')&&(_0x4cd307[_0x586509]=_0x43ec6d[_0x586509]);for(const _0x36b896 in _0x43ec6d['litOptions'])_0x4cd307[_0x36b896]=_0x43ec6d['litOptions'][_0x36b896];}else _0x4cd307=_0x43ec6d;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x171772,'options':_0x4cd307}));}['dumpProgra'+'ms'](){let _0x2b8e31='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x2b8e31+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x11c*0x8+-0xa58+-0x2f*-0x8]&&(_0x2b8e31+='\x0a\x09'+this['_programsC'+'ollection'][0x14*-0x18e+0x143a*0x1+0xade]);for(let _0x59b4f7=0x10d4+0x9*-0x7a+-0xc89*0x1;_0x59b4f7<this['_programsC'+'ollection']['length'];++_0x59b4f7)_0x2b8e31+=',\x0a\x09'+this['_programsC'+'ollection'][_0x59b4f7];_0x2b8e31+='\x0a];\x0a',_0x2b8e31+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x2b8e31+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x2b8e31+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x643635=document['createElem'+'ent']('a');_0x643635['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x2b8e31)),_0x643635['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x643635['style']['display']='none',document['body']['appendChil'+'d'](_0x643635),_0x643635['click'](),document['body']['removeChil'+'d'](_0x643635);}['clearCache'](){this['_isClearin'+'gCache']=!(0x434*0x1+0x3e*-0xf+0x92*-0x1),this['processedC'+'ache']['forEach'](_0x1a9f5b=>{_0x1a9f5b['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0x36*0x5c+-0x56b*-0x1+-0x18d2);}['removeFrom'+'Cache'](_0x5bebb){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x11212d,_0x2c9e6b)=>{_0x5bebb===_0x11212d&&this['processedC'+'ache']['delete'](_0x2c9e6b);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x420e90){const _0x52af61=Ks['get'](this['_device'])['getByIndex'](_0x420e90);return _0x420e90===rl||_0x420e90===Oa||_0x420e90===il||_0x52af61['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x14b141){if(_0x14b141){const _0x2eeba3=new Array(_0x14b141['length']);for(let _0x1ac8ff=-0x3c9+-0xfa3+0x136c;_0x1ac8ff<_0x14b141['length'];_0x1ac8ff++){if(_0x14b141[_0x1ac8ff]['name']==='standard'){const _0xa6e923=_0x14b141[_0x1ac8ff]['options'],_0x1af754=this['_getDefaul'+'tStdMatOpt'+'ions'](_0xa6e923['pass']);for(const _0x5b06e5 in _0x1af754)_0x1af754['hasOwnProp'+'erty'](_0x5b06e5)&&_0xa6e923[_0x5b06e5]===void(-0xcf*-0x1d+-0x7*0x4bd+0x9b8)&&(_0xa6e923[_0x5b06e5]=_0x1af754[_0x5b06e5]);}_0x2eeba3[_0x1ac8ff]=this['getProgram'](_0x14b141[_0x1ac8ff]['name'],_0x14b141[_0x1ac8ff]['options']);}}this['_precached']=!(0x1*-0x4f5+-0xdca+0x12bf);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),Wd=new _e(),N_=new _e(),B1=new j(-0x136f+0x1*0x1168+0x208,-0x14fd+0x1334*0x2+-0x116a,-0xfa1+-0xce5*0x1+0x1c86,0x1eb7+0x5*0x2f+-0x1fa2+0.4),qd=0x1*-0xc5f+-0x1aad+0x33*0xc4+0.28209479177387814;class N1{constructor(_0x4242cd,_0x3c01b1,_0x1d0d1b,_0x1f74b6,_0x3a3545,_0x41e6b1){const _0x36b980=_0x4242cd['getProp']('x'),_0x1cc8bc=_0x4242cd['getProp']('y'),_0x5a58e3=_0x4242cd['getProp']('z'),_0xacb7f6=_0x4242cd['getProp']('rot_1'),_0x131d1e=_0x4242cd['getProp']('rot_2'),_0x33bc84=_0x4242cd['getProp']('rot_3'),_0x5ccb5c=_0x4242cd['getProp']('rot_0'),_0x4fc6e5=_0x4242cd['getProp']('motion_0'),_0x2de59f=_0x4242cd['getProp']('motion_1'),_0x544e1d=_0x4242cd['getProp']('motion_2'),_0xd573b0=_0x4242cd['getProp']('scale_0'),_0x2de49f=_0x4242cd['getProp']('scale_1'),_0x493428=_0x4242cd['getProp']('scale_2'),_0x331ed0=_0x4242cd['getProp']('f_dc_0'),_0x5ce309=_0x4242cd['getProp']('f_dc_1'),_0x251059=_0x4242cd['getProp']('f_dc_2'),_0x366254=_0x4242cd['getProp']('opacity'),_0xa5be7c=_0x5a914c=>{if(_0x5a914c>-0x10*0xb2+-0x173e+0x225e)return(-0x878*-0x1+-0x6*-0x2af+0x14b*-0x13)/(-0x11*0x70+0x12b5*-0x1+0x2*0xd13+Math['exp'](-_0x5a914c));const _0x326e3b=Math['exp'](_0x5a914c);return _0x326e3b/(0x1b50+0x18e2+-0x3431+_0x326e3b);};this['read']=_0x26aff0=>{_0x3c01b1&&(_0x3c01b1['x']=_0x36b980[_0x26aff0],_0x3c01b1['y']=_0x1cc8bc[_0x26aff0],_0x3c01b1['z']=_0x5a58e3[_0x26aff0]),_0x1d0d1b&&_0x1d0d1b['set'](_0xacb7f6[_0x26aff0],_0x131d1e[_0x26aff0],_0x33bc84[_0x26aff0],_0x5ccb5c[_0x26aff0]),_0x1f74b6&&_0x1f74b6['set'](Math['exp'](_0xd573b0[_0x26aff0]),Math['exp'](_0x2de49f[_0x26aff0]),Math['exp'](_0x493428[_0x26aff0])),_0x41e6b1&&_0x4fc6e5&&_0x41e6b1['set'](_0x4fc6e5[_0x26aff0],_0x2de59f[_0x26aff0],_0x544e1d[_0x26aff0]),_0x3a3545&&_0x3a3545['set'](-0x19*0x11+-0x3e*-0x6f+0x24b*-0xb+0.5+_0x331ed0[_0x26aff0]*qd,0x1f7*0x6+-0xe6c*-0x1+-0x1a36+0.5+_0x5ce309[_0x26aff0]*qd,0x2*0x799+0x2458+0x2dd*-0x12+0.5+_0x251059[_0x26aff0]*qd,_0xa5be7c(_0x366254[_0x26aff0]));};}}const z_=(_0x4b6257,_0x3da25d,_0x142b54)=>{B_['set'](_0x142b54['x'],_0x142b54['y'],_0x142b54['z'],_0x142b54['w'])['normalize'](),_0x4b6257['setTRS'](_0x3da25d,B_,T['ONE']);};class Ia{constructor(_0x4d5de2){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x431345,_0x10f419,_0x4b42fb;this['elements']=_0x4d5de2,this['numSplats']=(_0x431345=this['getElement']('vertex'))==null?void(0x173*-0x16+-0x1751+-0x43f*-0xd):_0x431345['count'],this['is4D']=!!((_0x4b42fb=(_0x10f419=this['getElement']('vertex'))==null?void(-0x22a5+0xa07+0x189e):_0x10f419['properties']['find'](_0x274ba8=>_0x274ba8['name']==='t'))!=null&&_0x4b42fb['storage']);}['appendGSpl'+'atData'](_0xfb1ad7,_0x443094,_0x37e793){const _0x445a96=this['getElement']('vertex')['properties'];_0x445a96['find'](_0x30bd29=>_0x30bd29['name']==='time_index')||_0x445a96['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0xfb1ad7['numSplats'];for(let _0x1ef106=0x6*0xa8+0x149b+-0x188b;_0x1ef106<_0x445a96['length'];_0x1ef106++){const _0x3885ee=_0x445a96[_0x1ef106],_0x66f6e6=_0xfb1ad7['getElement']('vertex')['properties']['find'](_0x352a13=>_0x352a13['name']===_0x3885ee['name']);if(_0x3885ee['name']==='time_index'){const _0xd8b153=new Float32Array(this['numSplats']);_0xd8b153['fill'](_0x443094),_0xd8b153['set'](_0x3885ee['storage'],-0x2*0x167+0x9b3*-0x1+-0x42b*-0x3),_0x3885ee['storage']=_0xd8b153;}else{if(_0x66f6e6&&_0x3885ee['name']==='t'){const _0xb1a1ee=new Float32Array(this['numSplats']);if(_0xb1a1ee['set'](_0x3885ee['storage'],0x26d7+0x1421*-0x1+-0x12b6),_0x37e793){for(let _0x545870=_0x3885ee['storage']['length'];_0x545870<this['numSplats'];_0x545870++)_0xb1a1ee[_0x545870]=_0x66f6e6['storage'][_0x545870-_0x3885ee['storage']['length']]+_0x37e793[(0xa07+-0x23aa+0x19a5)*_0x443094];}else _0xb1a1ee['set'](_0x66f6e6['storage'],_0x3885ee['storage']['length']);_0x3885ee['storage']=_0xb1a1ee;}else{if(_0x66f6e6){const _0x282b19=new Float32Array(this['numSplats']);_0x282b19['set'](_0x3885ee['storage'],0x14*-0x2f+-0xb0f+0x1*0xebb),_0x282b19['set'](_0x66f6e6['storage'],_0x3885ee['storage']['length']),_0x3885ee['storage']=_0x282b19;}}}}}static['calcSplatA'+'abb'](_0x3f7473,_0x23df58,_0x164337,_0x274bf0){z_(Fn,_0x23df58,_0x164337),Wd['center']['set'](-0x2559+0x38*-0x34+-0x30b9*-0x1,-0x1249*-0x1+-0x1054+0x1*-0x1f5,-0x25b9+0x6*0x2b4+0x1581),Wd['halfExtent'+'s']['set'](_0x274bf0['x']*(-0x2218+0x185b+-0x5*-0x1f3),_0x274bf0['y']*(-0x22f4+-0xc05+0x2efb),_0x274bf0['z']*(-0x9c2+-0x16ba+0x207e)),_0x3f7473['setFromTra'+'nsformedAa'+'bb'](Wd,Fn);}['getProp'](_0xfe65f5,_0x2fc35a='vertex'){var _0x10f092,_0x37c097;return(_0x37c097=(_0x10f092=this['getElement'](_0x2fc35a))==null?void(0x16eb+-0x62*-0x11+-0x1d6d):_0x10f092['properties']['find'](_0x231666=>_0x231666['name']===_0xfe65f5))==null?void(0x13ec+0x2ac+-0xf1*0x18):_0x37c097['storage'];}['getElement'](_0x454b7a){return this['elements']['find'](_0x5ed15a=>_0x5ed15a['name']===_0x454b7a);}['addProp'](_0x349c79,_0x5c483b){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x349c79,'storage':_0x5c483b,'byteSize':0x4});}['createIter'](_0x18603a,_0x26d6b2,_0x48b085,_0x740ed6,_0x27a9e5){return new N1(this,_0x18603a,_0x26d6b2,_0x48b085,_0x740ed6,_0x27a9e5);}['calcAabb'](_0x4b5550,_0x1429d0){let _0x42d291,_0xbcdb94,_0x1214cf,_0x16caa7,_0x162ecc,_0x276003,_0x300260=!(-0x25b9+-0x835+-0x2*-0x16f7);const _0xccad14=this['getProp']('x'),_0x52bffa=this['getProp']('y'),_0x538419=this['getProp']('z'),_0x11a748=this['getProp']('scale_0'),_0x5afdf0=this['getProp']('scale_1'),_0x1323d3=this['getProp']('scale_2');for(let _0x28c43b=-0x5a6+-0x1b01+0x1*0x20a7;_0x28c43b<this['numSplats'];++_0x28c43b){if(_0x1429d0&&!_0x1429d0(_0x28c43b))continue;const _0x39dcc5=(0x1cd7+-0xff0+-0xce5)*Math['exp'](Math['max'](_0x11a748[_0x28c43b],_0x5afdf0[_0x28c43b],_0x1323d3[_0x28c43b])),_0x4ffc9f=_0xccad14[_0x28c43b],_0x4da1a5=_0x52bffa[_0x28c43b],_0x37118e=_0x538419[_0x28c43b];_0x300260?(_0x300260=!(0x8e*-0x33+-0x24a+0x1e95),_0x42d291=_0x4ffc9f-_0x39dcc5,_0xbcdb94=_0x4da1a5-_0x39dcc5,_0x1214cf=_0x37118e-_0x39dcc5,_0x16caa7=_0x4ffc9f+_0x39dcc5,_0x162ecc=_0x4da1a5+_0x39dcc5,_0x276003=_0x37118e+_0x39dcc5):(_0x42d291=Math['min'](_0x42d291,_0x4ffc9f-_0x39dcc5),_0xbcdb94=Math['min'](_0xbcdb94,_0x4da1a5-_0x39dcc5),_0x1214cf=Math['min'](_0x1214cf,_0x37118e-_0x39dcc5),_0x16caa7=Math['max'](_0x16caa7,_0x4ffc9f+_0x39dcc5),_0x162ecc=Math['max'](_0x162ecc,_0x4da1a5+_0x39dcc5),_0x276003=Math['max'](_0x276003,_0x37118e+_0x39dcc5));}return _0x300260||(_0x4b5550['center']['set']((_0x42d291+_0x16caa7)*(0x215f*-0x1+-0x22a4+0x4403+0.5),(_0xbcdb94+_0x162ecc)*(-0x14dd+0x1cb*-0x11+0x3358+0.5),(_0x1214cf+_0x276003)*(0x11bf+-0x1363+0x3c*0x7+0.5)),_0x4b5550['halfExtent'+'s']['set']((_0x16caa7-_0x42d291)*(0x2*-0xa85+-0x2636+0x1*0x3b40+0.5),(_0x162ecc-_0xbcdb94)*(-0x141a+-0xcf3+0x210d+0.5),(_0x276003-_0x1214cf)*(0x1f49*0x1+-0x235b+0x412+0.5))),!_0x300260;}['calcAabbEx'+'act'](_0x49a316,_0x235172){const _0x57aff1=new T(),_0x12d556=new se(),_0x3e729f=new T(),_0x565d81=this['createIter'](_0x57aff1,_0x12d556,_0x3e729f);let _0x55bc83=!(-0x1626+0x1*-0xb65+0x218b);for(let _0x31e863=0x1aae+-0x48*0x69+-0x16d*-0x2;_0x31e863<this['numSplats'];++_0x31e863)_0x235172&&!_0x235172(_0x31e863)||(_0x565d81['read'](_0x31e863),_0x55bc83?(_0x55bc83=!(0x2157*0x1+0xbc5+-0xf09*0x3),Ia['calcSplatA'+'abb'](_0x49a316,_0x57aff1,_0x12d556,_0x3e729f)):(Ia['calcSplatA'+'abb'](N_,_0x57aff1,_0x12d556,_0x3e729f),_0x49a316['add'](N_)));return!_0x55bc83;}['getCenters'](_0x522222){const _0x59ce4f=this['getProp']('x'),_0x39600a=this['getProp']('y'),_0x5b5c99=this['getProp']('z');for(let _0x2153c5=-0x3*-0x31e+-0x5*0x12d+-0x379;_0x2153c5<this['numSplats'];++_0x2153c5)_0x522222[_0x2153c5*(0x1f2+-0x9eb*-0x1+-0xbda)+(0x1*0x805+0xd06+-0x1*0x150b)]=_0x59ce4f[_0x2153c5],_0x522222[_0x2153c5*(-0x8f2*0x3+0x2501*-0x1+0x3fda)+(0x103a*-0x2+0x3d6+0x1c9f)]=_0x39600a[_0x2153c5],_0x522222[_0x2153c5*(-0x47*-0x53+-0x1092+-0x670)+(-0xe0+0x24c*-0xd+0x1ebe)]=_0x5b5c99[_0x2153c5];}['getMuT'](){const _0x129f22=this['getProp']('t');if(!_0x129f22)return;const _0x612f01=new Float32Array(this['numSplats']);for(let _0x19c77f=0x1*0x685+-0x3*0x6b2+0xd91;_0x19c77f<this['numSplats'];++_0x19c77f)_0x612f01[_0x19c77f]=_0x129f22[_0x19c77f];return _0x612f01;}['getTScale'](){const _0x5d998c=this['getProp']('t_scale');if(!_0x5d998c)return;const _0x4ff81d=new Float32Array(this['numSplats']);for(let _0x45e798=0x1*-0x1a6+0x16fd+-0x1557*0x1;_0x45e798<this['numSplats'];++_0x45e798)_0x4ff81d[_0x45e798]=Math['exp'](_0x5d998c[_0x45e798]);return _0x4ff81d;}['getMotion'](_0x364b20){const _0x1c5efc=this['getProp']('motion_0'),_0x4e1a4b=this['getProp']('motion_1'),_0x521193=this['getProp']('motion_2');if(!(!_0x1c5efc||!_0x4e1a4b||!_0x521193)){for(let _0x491f0d=0x26fc+0xc0+0x4*-0x9ef;_0x491f0d<this['numSplats'];++_0x491f0d)_0x364b20[_0x491f0d*(0x7*-0x297+0x156c+0x3*-0x118)+(-0x1666+0x1*-0xcb9+0x231f)]=_0x1c5efc[_0x491f0d],_0x364b20[_0x491f0d*(0xfca+-0xb1b*0x1+-0x4ac)+(-0x1823+0x2152+0x5e*-0x19)]=_0x4e1a4b[_0x491f0d],_0x364b20[_0x491f0d*(-0xb9b+0x65*0xd+0x97*0xb)+(0x1047+0x1031+-0x2076)]=_0x521193[_0x491f0d];}}['getTimeInd'+'ex'](_0xcfde61){const _0x2220c8=this['getProp']('time_index');_0x2220c8&&_0xcfde61['set'](_0x2220c8,-0x1*-0xb01+-0xb1c+-0x9*-0x3);}['calcFocalP'+'oint'](_0x38c1d0,_0x459cbd){const _0x541235=this['getProp']('x'),_0x359ead=this['getProp']('y'),_0x23dfe9=this['getProp']('z'),_0x44d4a0=this['getProp']('scale_0'),_0xdce838=this['getProp']('scale_1'),_0x486293=this['getProp']('scale_2');_0x38c1d0['x']=0x8df*-0x3+0x10ad*0x1+-0x10*-0x9f,_0x38c1d0['y']=-0x1*0x24c3+-0x26*-0x20+0x5*0x667,_0x38c1d0['z']=0x14bc*-0x1+0x1*0xf3e+0x57e;let _0x19de2b=0x566+0xd76+-0x44*0x47;for(let _0x57db4d=-0x387+0x1894+0x11*-0x13d;_0x57db4d<this['numSplats'];++_0x57db4d){if(_0x459cbd&&!_0x459cbd(_0x57db4d))continue;const _0x1342e3=(-0x65c+0xf*-0x152+0x1a2b)/(0xb7b*-0x1+0xfa4+-0x428+Math['exp'](Math['max'](_0x44d4a0[_0x57db4d],_0xdce838[_0x57db4d],_0x486293[_0x57db4d])));_0x38c1d0['x']+=_0x541235[_0x57db4d]*_0x1342e3,_0x38c1d0['y']+=_0x359ead[_0x57db4d]*_0x1342e3,_0x38c1d0['z']+=_0x23dfe9[_0x57db4d]*_0x1342e3,_0x19de2b+=_0x1342e3;}_0x38c1d0['mulScalar']((-0x10d1+0x22f*0x1+0xea3*0x1)/_0x19de2b);}['renderWire'+'frameBound'+'s'](_0x32aa1e,_0x194688){const _0x214fcd=new T(),_0x37b238=new se(),_0x2bec61=new T(),_0x457d59=new T(),_0x37df46=new T(),_0x1115ab=this['createIter'](_0x214fcd,_0x37b238,_0x2bec61);for(let _0x8744cd=-0x2428+0xa9*0x2e+0xd*0x72;_0x8744cd<this['numSplats'];++_0x8744cd)_0x1115ab['read'](_0x8744cd),z_(Fn,_0x214fcd,_0x37b238),Fn['mul2'](_0x194688,Fn),_0x457d59['set'](_0x2bec61['x']*-(-0x67*0x3a+-0x1f9*-0x7+0x989),_0x2bec61['y']*-(-0x1ea*0x5+0xe5d+-0x4c9),_0x2bec61['z']*-(0x21*0xa8+0x1574+-0x2b1a)),_0x37df46['set'](_0x2bec61['x']*(-0x2498*0x1+0x2*0x13d+0x2220),_0x2bec61['y']*(0x1*0x7d3+0x1*-0x43e+0x3*-0x131),_0x2bec61['z']*(0x1*-0xd67+-0x1*0xcf1+0x2*0xd2d)),_0x32aa1e['immediate']['drawWireAl'+'ignedBox'](_0x457d59,_0x37df46,B1,!(-0x5*0x102+-0x7f2*0x2+-0x6fa*-0x3),_0x32aa1e['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(-0x2*0x4a5+-0x7*-0x4bb+0xbe9*-0x2);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x91b78f=0x773*0x4+0xd8f+-0x1*0x2b5b;_0x91b78f<0x1*-0x2457+0x1*-0x2565+0x49e9;++_0x91b78f)if(!this['getProp']('f_rest_'+_0x91b78f))return _0x91b78f;return 0x4d7*0x3+0xd1*-0x26+-0x5*-0x356;})())]??-0x1*0x21d2+0x1c40+-0x2*-0x2c9;}['calcMorton'+'Order'](){const _0x5a1ca8=_0x393d4d=>{let _0x406cd3=_0x393d4d[0x5*-0x3ca+-0x20c1+0x33b3*0x1],_0x5679c3=_0x393d4d[-0x1d*0x44+0x1bdd+-0x1429];for(let _0x1b806d=0x2ab+0x101a+-0x12c4;_0x1b806d<_0x393d4d['length'];_0x1b806d++)_0x393d4d[_0x1b806d]<_0x406cd3&&(_0x406cd3=_0x393d4d[_0x1b806d]),_0x393d4d[_0x1b806d]>_0x5679c3&&(_0x5679c3=_0x393d4d[_0x1b806d]);return{'min':_0x406cd3,'max':_0x5679c3};},_0x48ca07=(_0x21b55e,_0x434291,_0x3714ab)=>{const _0x109eeb=_0x38c30f=>(_0x38c30f&=0x875*0x2+-0xf9*-0x1f+-0x12a*0x25,_0x38c30f=(_0x38c30f^_0x38c30f<<0x64+0x8c6*-0x2+0x1138)&-0x4c1*-0x3ecb21+-0x1cd5b5*0x623+0x229*0x3dc595,_0x38c30f=(_0x38c30f^_0x38c30f<<-0x252b+0x505*-0x6+0x38b*0x13)&0x37434d*0x1b+0x10ac*0x49c9+0x4*-0x1e85307,_0x38c30f=(_0x38c30f^_0x38c30f<<-0x1040+0x19b1+-0x96d)&-0x2139675+0x1492*0x414e+-0x1f8f44,_0x38c30f=(_0x38c30f^_0x38c30f<<-0x1641+-0x3e5*0x1+0xd14*0x2)&-0xbef422d+0xbb05cb2*0x1+0xac4*0xdf41,_0x38c30f);return(_0x109eeb(_0x3714ab)<<-0x7a*0x2a+0x4ae*-0x1+0x18b4)+(_0x109eeb(_0x434291)<<-0x325+-0x35*-0x5b+-0xfb1)+_0x109eeb(_0x21b55e);},_0x23b50a=this['getProp']('x'),_0x269030=this['getProp']('y'),_0x37eb86=this['getProp']('z'),{min:_0x409e95,max:_0x57baa8}=_0x5a1ca8(_0x23b50a),{min:_0x1635ef,max:_0x174754}=_0x5a1ca8(_0x269030),{min:_0x303b69,max:_0xb57a98}=_0x5a1ca8(_0x37eb86),_0x151867=_0x409e95===_0x57baa8?0xcd3+-0x2622+0x194f:(0x3*0xa0f+-0x33e*-0x6+-0x2da1)/(_0x57baa8-_0x409e95),_0x8a8d56=_0x1635ef===_0x174754?0xd*-0xb9+0x24a0+0x1b3b*-0x1:(-0x2510+-0x1*0x46d+0x2d7d)/(_0x174754-_0x1635ef),_0x200cc6=_0x303b69===_0xb57a98?-0xd*0x79+0x1d*-0x13f+-0x84*-0x52:(0x2211+0x1ae2+-0x38f3)/(_0xb57a98-_0x303b69),_0x5b4678=new Map();for(let _0x39aea1=0x22*0x43+0x11b*-0xa+-0x18*-0x17;_0x39aea1<this['numSplats'];_0x39aea1++){const _0x29e8bb=Math['floor']((_0x23b50a[_0x39aea1]-_0x409e95)*_0x151867),_0x1f6e46=Math['floor']((_0x269030[_0x39aea1]-_0x1635ef)*_0x8a8d56),_0x59c865=Math['floor']((_0x37eb86[_0x39aea1]-_0x303b69)*_0x200cc6),_0x275868=_0x48ca07(_0x29e8bb,_0x1f6e46,_0x59c865),_0x1a5597=_0x5b4678['get'](_0x275868);_0x1a5597?_0x1a5597['push'](_0x39aea1):_0x5b4678['set'](_0x275868,[_0x39aea1]);}const _0x3ee27f=Array['from'](_0x5b4678['keys']())['sort']((_0x3cb49,_0x5e4d12)=>_0x3cb49-_0x5e4d12),_0x9ff2=new Uint32Array(this['numSplats']);let _0x5213d0=-0x71e*-0x1+0x6*-0x20e+-0x1d*-0x2e;for(let _0x4c5471=-0xa62+0x1ee4+0x41a*-0x5;_0x4c5471<_0x3ee27f['length'];++_0x4c5471){const _0x26cee1=_0x5b4678['get'](_0x3ee27f[_0x4c5471]);for(let _0x8f3f5e=-0x278*0xb+-0x3*-0xa2a+-0x356;_0x8f3f5e<_0x26cee1['length'];++_0x8f3f5e)_0x9ff2[_0x5213d0++]=_0x26cee1[_0x8f3f5e];}return _0x9ff2;}['reorder'](_0x4a9f11){const _0x2f8374=new Map(),_0xb47f64=_0x2ac99e=>{if(_0x2f8374['has'](_0x2ac99e)){const _0x200f83=_0x2f8374['get'](_0x2ac99e);return _0x2f8374['delete'](_0x2ac99e),_0x200f83;}return new ArrayBuffer(_0x2ac99e);},_0x8fba95=_0x420b5e=>{_0x2f8374['set'](_0x420b5e['byteLength'],_0x420b5e);},_0x5d5fa6=_0xc7f23e=>{const _0x599d37=new _0xc7f23e['constructo'+'r'](_0xb47f64(_0xc7f23e['byteLength']));for(let _0x4edb80=-0x1838+-0x1*0xe0c+-0x9e*-0x3e;_0x4edb80<_0x4a9f11['length'];_0x4edb80++)_0x599d37[_0x4edb80]=_0xc7f23e[_0x4a9f11[_0x4edb80]];return _0x8fba95(_0xc7f23e['buffer']),_0x599d37;};this['elements']['forEach'](_0x46fac3=>{_0x46fac3['properties']['forEach'](_0x354b9c=>{_0x354b9c['storage']&&(_0x354b9c['storage']=_0x5d5fa6(_0x354b9c['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x5a2bdd={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x1f3463=_0x5a2bdd['dither']??Rs,_0x700dea=_0x1f3463!==Rs,_0x16d7d8=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x5a2bdd['vertex']??X['gsplatVS'],'fragmentCode':_0x5a2bdd['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x16d7d8['setDefine']('DITHER_'+_0x1f3463['toUpperCas'+'e'](),''),_0x16d7d8['cull']=mt,_0x16d7d8['blendType']=_0x700dea?is:hr,_0x16d7d8['depthWrite']=_0x700dea,_0x16d7d8['update'](),_0x16d7d8;};async function z1(){self['onmessage']=async _0x157faf=>{const {data:_0x40c6f7}=_0x157faf;switch(_0x40c6f7['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x2bac4f(_0x40c6f7['numSplats'],_0x40c6f7['shBands'],_0x40c6f7['SHData']);break;}};const _0x2bac4f=(_0x4cc6a2,_0x195b07,_0x15e064)=>{const _0x8295b5=new Uint32Array(_0x4cc6a2*(-0x1*0x1759+0x43*-0x4f+0x2c0a)),_0xa97b4d=new Uint32Array(_0x4cc6a2*(-0x1f07+-0x29*0x42+0x299d)),_0x8ed1c9=new Uint32Array(_0x4cc6a2*(-0x1ac3+0x8*0x365+-0x61)),_0x358a8e=new Uint32Array(_0x4cc6a2*(-0x829+0x7*-0x2c+0x961)),_0xfa9dfe={0x1:0x3,0x2:0x8,0x3:0xf}[_0x195b07],_0x58e802=_0x15e064,_0x617261=0x9c*-0xe+-0xd*0x2cf+0x350a,_0x49629e=-0x9*-0x35f+0xe2+-0x55*0x52,_0x19c93c=new Float32Array(0x19f4+-0xb3*0x1b+-0x389*0x2),_0x32e85c=new Uint32Array(_0x19c93c['buffer']),_0x9fe62=new Array(_0xfa9dfe*(-0xd16+-0x339+0x1052))['fill'](0x80*0x3b+0x253c+0x42bc*-0x1);for(let _0x1b6170=-0x684+0xcc0+0xe*-0x72;_0x1b6170<_0x4cc6a2;++_0x1b6170){for(let _0x4a44e4=-0x1fe1+0x73b*-0x2+-0x1*-0x2e57;_0x4a44e4<_0xfa9dfe;++_0x4a44e4)_0x9fe62[_0x4a44e4*(-0x3*0x215+-0xf49+-0x5*-0x44f)]=_0x58e802[_0x4a44e4][_0x1b6170],_0x9fe62[_0x4a44e4*(-0x1c6f*0x1+0x4b4+0x17be)+(0x269c+-0x3*-0x1ee+-0x2c65)]=_0x58e802[_0x4a44e4+_0xfa9dfe][_0x1b6170],_0x9fe62[_0x4a44e4*(-0x201b+0x17ed*0x1+0x831)+(0x1bfd+0xb*-0x23f+-0x346)]=_0x58e802[_0x4a44e4+_0xfa9dfe*(0x1a7d+-0x144c+-0x1*0x62f)][_0x1b6170];let _0x256455=_0x9fe62[0x19*0x7f+-0x319*-0x1+0x3e0*-0x4];for(let _0x4a332a=0x1b0c+0x5*-0xf+-0x4*0x6b0;_0x4a332a<_0xfa9dfe*(-0x1*0x265+-0x101+0x369);++_0x4a332a)_0x256455=Math['max'](_0x256455,Math['abs'](_0x9fe62[_0x4a332a]));if(_0x256455!==0x30c+0x9*0x2e8+-0x1d34){for(let _0x215fb6=-0x66b+-0x62c+0xc97;_0x215fb6<_0xfa9dfe;++_0x215fb6)_0x9fe62[_0x215fb6*(-0x1802+-0x268+0x5*0x549)+(0x238*-0x5+-0x1020+0x6ce*0x4)]=Math['max'](0x1f2e+-0x1*0xedb+-0x1053,Math['min'](_0x617261,Math['floor']((_0x9fe62[_0x215fb6*(-0x1*0x1a7+-0x968+0x6d*0x1a)+(0x11a1*-0x1+-0x1ab6+0x1*0x2c57)]/_0x256455*(0x135+0x1*-0x204e+0x1f19+0.5)+(0x233*-0x2+0x133b+-0xed5+0.5))*_0x617261+(-0x82d+0x114+0x719*0x1+0.5)))),_0x9fe62[_0x215fb6*(0x142d+0xf*-0x19a+0x3dc)+(0x1004+0x376*-0x3+0x5a1*-0x1)]=Math['max'](0x167*0xd+0x1f2c+-0x3167*0x1,Math['min'](_0x49629e,Math['floor']((_0x9fe62[_0x215fb6*(0x2f*-0x3b+0x185*0x3+0x1*0x649)+(-0x186a+-0xfaf+0x281a)]/_0x256455*(0x59+0x3b2*-0x2+0x70b+0.5)+(0x1*-0x1567+-0x2bd+0x1824+0.5))*_0x49629e+(0x1d*0x12e+0x244f+-0x4685+0.5)))),_0x9fe62[_0x215fb6*(0x1*0x2407+-0x244c+-0x1*-0x48)+(0xbdf+0x8*0x461+0x31*-0xf5)]=Math['max'](-0x7b5*0x3+0x179*0x1a+-0x161*0xb,Math['min'](_0x617261,Math['floor']((_0x9fe62[_0x215fb6*(-0x254c+-0xd3*0x22+0x4155)+(-0x232f+-0x154a+-0x13*-0x2f9)]/_0x256455*(0xa3*-0x7+0x212e+-0x1cb9+0.5)+(0xc31*-0x1+0xe26*-0x2+-0x1*-0x287d+0.5))*_0x617261+(-0x7*-0xf9+0xbd*-0x31+0x1d5e+0.5))));_0x19c93c[0x2093+0x8*-0x373+0x11*-0x4b]=_0x256455,_0x8295b5[_0x1b6170*(-0x911+0x1f6c+-0x1657)+(-0x1*0x26ab+0x173a+0xf71)]=_0x32e85c[-0x208f+0x1e+0x2071],_0x8295b5[_0x1b6170*(0x2505+-0x22da*0x1+-0x227)+(-0x64e+0x1627+0xc*-0x152)]=_0x9fe62[-0x2443+0x1*0x6d+0x23d6]<<0x1*0x1b47+0x7b9+-0x22eb|_0x9fe62[-0x180+-0x1*-0x1223+-0x2*0x851]<<0xeff+-0x147d+0x589|_0x9fe62[-0x732+-0x11a*-0x1d+0xc5f*-0x2],_0x8295b5[_0x1b6170*(-0x2263*0x1+0x3e1+0x1e86)+(0x35*0x3a+0x1*0x21dd+-0x3b*0xc7)]=_0x9fe62[-0x80e+-0xfad+-0x6*-0x3f5]<<0x1cae+-0x1*-0x49+-0x1ce2|_0x9fe62[-0xc86+-0x17b5+0x243f]<<0x5fb*0x6+-0x1204+-0x1b*0xa9|_0x9fe62[0x12b7*0x1+0x5*0x5af+-0x2f1d],_0x8295b5[_0x1b6170*(-0x3a*0x59+-0x1670+-0x886*-0x5)+(0xe41*0x1+-0x200b+0x11cd)]=_0x9fe62[0x3*0x80b+0x235*0xc+-0x3297*0x1]<<0x1*0x10d9+-0x1b97+-0xad3*-0x1|_0x9fe62[-0x707+-0x17a4+-0xf59*-0x2]<<0x1b07+-0x23a7*-0x1+0xc87*-0x5|_0x9fe62[-0x6a8+0x215f*0x1+-0x1aaf],_0x195b07>-0xc40+-0x1027+0x1c68&&(_0xa97b4d[_0x1b6170*(0x1*0x191b+0x1cd3+-0x1af5*0x2)+(0xea2+-0x3e0+-0xac2)]=_0x9fe62[-0x709*-0x3+-0x17*0xa8+-0x5fa]<<-0xad*0x9+0x1*0x14c+0x59*0xe|_0x9fe62[-0x2e8*-0x3+0x1*-0xdf9+0x54b]<<-0xa64+0xd90+-0x59*0x9|_0x9fe62[-0x210a+0x1*-0x480+0xc87*0x3],_0xa97b4d[_0x1b6170*(0x1ed+-0x7b6*-0x2+-0x1155)+(0x24a3+0x137f+0x3821*-0x1)]=_0x9fe62[0x26aa+0x695+0x18f*-0x1d]<<0x1046*0x1+-0x1acc+-0xf*-0xb5|_0x9fe62[-0x3*-0xcb0+-0x1be*0x3+-0x6d*0x4d]<<-0x139b+-0x5b5*0x1+0x195b*0x1|_0x9fe62[-0x700+0x1ea4+-0x1*0x1796],_0xa97b4d[_0x1b6170*(-0x852+-0x1b27+0x237d)+(-0x2364+-0x26d1+0x4a37)]=_0x9fe62[-0xf69+0x1347+-0x3cf]<<0x1dc*-0x9+0x8*-0x1a7+0x1e09|_0x9fe62[-0x1*0x22bd+0x1*-0x1231+0x34fe]<<-0x264f+0x171*-0x12+-0x1013*-0x4|_0x9fe62[0x1*-0xf24+0x12b+0xe0a],_0xa97b4d[_0x1b6170*(-0x5*-0x789+0x9*-0x21f+-0x2*0x949)+(0xbe5*0x2+-0x26*-0x6f+-0x2841)]=_0x9fe62[0x26f*0x1+0xbcc+-0xe29]<<0xffc+0x61e+-0x1605|_0x9fe62[-0x3*0xc91+0x100*-0x14+-0x22*-0x1b3]<<0x1bd2+0x1a*0x14e+-0x87*0x75|_0x9fe62[-0x165b+-0xd94+0x2403],_0x195b07>0xbe3+0x332*0x7+-0xb*0x31d?(_0x8ed1c9[_0x1b6170*(-0x2479+0x19e9+0xa94)+(-0x1d67+0x9b*0xd+0x1588)]=_0x9fe62[-0x8f+0x261+-0x1bd*0x1]<<0x95*-0x3f+-0x5f7+0x2ab7|_0x9fe62[-0x1*-0x8c3+-0x5*0x38a+0x905]<<-0x103e+-0x1949+-0x272*-0x11|_0x9fe62[-0x2410+-0x1a18+-0x3e3f*-0x1],_0x8ed1c9[_0x1b6170*(0x20ab+-0x43*-0x43+-0x3230)+(-0x1*-0x21e0+-0xeda+0x3*-0x657)]=_0x9fe62[-0x1*-0x8cb+0xea2+0xb5*-0x21]<<-0x86b*-0x4+-0xeef+0xc*-0x18e|_0x9fe62[-0x16ed+0x2709+-0x1003]<<0x2ad*0xe+-0x304*-0xa+-0x4393|_0x9fe62[0x187*0x5+0xbf+-0x848],_0x8ed1c9[_0x1b6170*(0x27b*0x5+0x3*-0xcbb+0x19ce)+(-0xd96*-0x1+-0x1*0x2047+-0x12b3*-0x1)]=_0x9fe62[0x1764+0x2049+0x1286*-0x3]<<-0x1*-0x26e3+0x1205+-0x38d3|_0x9fe62[-0x639+0x2*-0xa4e+0x1af1]<<-0x716+0xff6*-0x2+0x270d|_0x9fe62[-0xb14+0x134*-0x1d+-0xfb*-0x2f],_0x8ed1c9[_0x1b6170*(0x408+0xac+-0x4b0)+(-0x1*0x94b+0x835*-0x1+0x1*0x1183)]=_0x9fe62[0x262c+-0xa3*0x2+-0x24c8]<<0x1*-0x20bf+-0x2*0x1a2+-0xc08*-0x3|_0x9fe62[0x1eef+-0x1e0e+-0xc2]<<0x2*0x2a2+-0xe4+-0x455|_0x9fe62[0x1*0x1eb1+0x1*-0x2501+0x670],_0x358a8e[_0x1b6170*(-0xe5*-0x21+-0x3dd*-0x3+0xa46*-0x4)+(-0x16ee+0x7c2+0xf2c)]=_0x9fe62[-0x10dd+0x1*-0x1052+0x2150]<<-0x52e+-0x292*-0xe+-0x1eb9|_0x9fe62[-0x1*-0x85f+-0x19e3+0x11a6]<<0x23d6+0x1*0x2660+-0x4a2b|_0x9fe62[0x2039+0x2602+-0x2*0x230c],_0x358a8e[_0x1b6170*(-0x1fd5+-0x1c33+0x3c0c)+(0x1be8*0x1+-0x17e*0x3+-0x176d)]=_0x9fe62[-0x13ef*0x1+-0x26*-0x46+0x43*0x25]<<0x2e*0xc5+-0xbc2+-0x178f|_0x9fe62[0x1524+0x1173+-0x2672]<<0x8d9+0x12e+-0x9fc|_0x9fe62[0x68*0x33+0xb8f+-0x2021],_0x358a8e[_0x1b6170*(0x186d+-0x1cbd*-0x1+0x1a93*-0x2)+(-0x1f57+-0x86*0x40+0x40d9)]=_0x9fe62[0x307*0x5+-0x447+-0xab5*0x1]<<-0x1f61+-0x19e+0x2114|_0x9fe62[0x104a+-0x985+-0x69d]<<0x5d6+-0xeda+-0x90f*-0x1|_0x9fe62[0x41e+-0x1fb9+-0x6f1*-0x4],_0x358a8e[_0x1b6170*(-0x31f*-0x1+0x196f+-0x2*0xe45)+(0xd*-0xf9+-0x1606+0x22ae*0x1)]=_0x9fe62[-0x11bb+-0x5*0x2c8+0x1*0x1fcd]<<-0x18fe+0x11*-0xcd+-0x4*-0x9ac|_0x9fe62[-0x41*-0x91+0x1429+0x38cf*-0x1]<<-0x5*0x2f+-0x160+0x256|_0x9fe62[-0xdc6+0xee5+-0xf3]):_0x8ed1c9[_0x1b6170]=_0x9fe62[0x2615+-0xab1+-0x1b4f]<<-0x1*-0x1c9c+-0x5*-0x2cf+0x1549*-0x2|_0x9fe62[-0x64*-0x5b+0x94b+-0xc9*0x39]<<0xe9*0x8+0xe58+-0x1595|_0x9fe62[0xe6e+0x3*0x20e+0x1481*-0x1]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x8295b5,'sh4to7Data':_0xa97b4d,'sh8to11Data':_0x8ed1c9,'sh12to15Data':_0x358a8e},[_0x8295b5['buffer'],_0xa97b4d['buffer'],_0x8ed1c9['buffer'],_0x358a8e['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x388980=>{if(!this['worker'])return;const {data:_0x3b5a72}=_0x388980;switch(_0x3b5a72['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x3b5a72['sh1to3Data'],_0x3b5a72['sh4to7Data'],_0x3b5a72['sh8to11Dat'+'a'],_0x3b5a72['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x2742bf,_0x17925a,_0x385285){var _0x1e69cc;(_0x1e69cc=this['worker'])==null||_0x1e69cc['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x2742bf,'shBands':_0x17925a,'SHData':_0x385285});}['destroy'](){var _0x30177b;this['worker']&&((_0x30177b=this['worker'])==null||_0x30177b['terminate'](),this['worker']=null);}}const U_=(_0x36f630,_0x49a7e2)=>{const _0x2b3f19=[];for(let _0x41b6f3=0x2497+-0xcf4+-0x17a3;_0x41b6f3<_0x49a7e2;++_0x41b6f3)_0x2b3f19['push'](_0x36f630['getProp']('f_rest_'+_0x41b6f3));return _0x2b3f19;};class V1{constructor(_0x2b47ec,_0x26a25a){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x5ec886=_0x26a25a['numSplats'];this['device']=_0x2b47ec,this['numSplats']=_0x5ec886,this['numSplatsV'+'isible']=_0x5ec886,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x26a25a['numSplats']*(-0x17f7+-0x1*0x160b+0x2e05)),this['motion']=new Float32Array(_0x26a25a['numSplats']*(0x1132+-0xd0*0x2+-0x239*0x7)),this['timeIndex']=new Float32Array(_0x26a25a['numSplats']),_0x26a25a['getCenters'](this['centers']),_0x26a25a['getMotion'](this['motion']),_0x26a25a['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x26a25a['getMuT'](this['timeOption']),this['tScale']=_0x26a25a['getTScale'](),this['is4D']=_0x26a25a['is4D'],this['aabb']=new _e(),_0x26a25a['calcAabb'](this['aabb']);const _0x49ed84=this['evalTextur'+'eSize'](_0x5ec886);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x49ed84),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x49ed84),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x49ed84),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x49ed84),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x49ed84),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x49ed84)),this['updateColo'+'rData'](_0x26a25a),this['updateTran'+'sformData'](_0x26a25a),this['shBands']=_0x26a25a['shBands'],this['shBands']>-0x1c9*0x11+0x3d*0x76+0x23b&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x49ed84),this['shBands']>0xa23*0x3+0x2d3+0x213b*-0x1&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x49ed84),this['shBands']>0x4*0x21e+-0xb8a*-0x3+-0x2b14?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x49ed84),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x49ed84)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x49ed84)),this['updateSHDa'+'ta'](_0x26a25a));}['updateData'](_0x175b07){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x4c5e54=_0x175b07['numSplats'];this['numSplats']=_0x4c5e54,this['numSplatsV'+'isible']=_0x4c5e54,this['centers']=new Float32Array(_0x175b07['numSplats']*(-0xf9*0x16+-0x23*0xd7+0x32ce)),this['motion']=new Float32Array(_0x175b07['numSplats']*(-0x25cd*-0x1+-0x1657+0x7*-0x235)),this['timeIndex']=new Float32Array(_0x175b07['numSplats']),_0x175b07['getCenters'](this['centers']),_0x175b07['getMotion'](this['motion']),_0x175b07['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x175b07['getMuT'](this['timeOption']),this['tScale']=_0x175b07['getTScale'](),this['is4D']=_0x175b07['is4D'],this['aabb']=new _e(),_0x175b07['calcAabb'](this['aabb']);const _0x2af19f=this['evalTextur'+'eSize'](_0x4c5e54);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x2af19f),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x2af19f),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x2af19f),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x2af19f),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x2af19f),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x2af19f)),this['updateColo'+'rData'](_0x175b07),this['updateTran'+'sformData'](_0x175b07),this['shBands']=_0x175b07['shBands'],this['shBands']>0x143d+-0x23f0+0xfb3*0x1&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x2af19f),this['shBands']>0x1*-0x2555+0x82+-0x126a*-0x2&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x2af19f),this['shBands']>-0x1e62+-0x9*-0x2a+0x1cea?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x2af19f),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x2af19f)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x2af19f)),this['updateSHDa'+'ta'](_0x175b07));}['destroy'](){var _0x459ead,_0x343783,_0x56fbf2,_0x4f64f8,_0x44c3a8,_0x552c34,_0x22fdbc,_0x54bc44,_0x868378,_0x4d577b;(_0x459ead=this['colorTextu'+'re'])==null||_0x459ead['destroy'](),(_0x343783=this['transformA'+'Texture'])==null||_0x343783['destroy'](),(_0x56fbf2=this['transformB'+'Texture'])==null||_0x56fbf2['destroy'](),(_0x4f64f8=this['transformR'+'Texture'])==null||_0x4f64f8['destroy'](),(_0x44c3a8=this['transformT'+'SpeedTextu'+'re'])==null||_0x44c3a8['destroy'](),(_0x552c34=this['transformT'+'Texture'])==null||_0x552c34['destroy'](),(_0x22fdbc=this['sh1to3Text'+'ure'])==null||_0x22fdbc['destroy'](),(_0x54bc44=this['sh4to7Text'+'ure'])==null||_0x54bc44['destroy'](),(_0x868378=this['sh8to11Tex'+'ture'])==null||_0x868378['destroy'](),(_0x4d577b=this['sh12to15Te'+'xture'])==null||_0x4d577b['destroy']();}['createMate'+'rial'](_0x206552){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0x388ff5=z0(_0x206552);return _0x388ff5['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x388ff5['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x388ff5['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x388ff5['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0x388ff5['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0x388ff5['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0x388ff5['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x388ff5['setDefine']('SH_BANDS',this['shBands']),_0x388ff5['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x388ff5['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x388ff5['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x388ff5['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x388ff5['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0x388ff5;}['evalTextur'+'eSize'](_0x3615b9){const _0x8ab988=Math['ceil'](Math['sqrt'](_0x3615b9)),_0x8a5e4a=Math['ceil'](_0x3615b9/_0x8ab988);return new $(_0x8ab988,_0x8a5e4a);}['createText'+'ure'](_0x5470ce,_0x3fb527,_0x56dece){return new he(this['device'],{'name':_0x5470ce,'width':_0x56dece['x'],'height':_0x56dece['y'],'format':_0x3fb527,'cubemap':!(0x1a55+-0x14f*-0x10+-0x2f44),'mipmaps':!(0x15d7+0x2*0xb3+-0x173c),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x4d3f7d){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x220140=this['colorTextu'+'re'];if(!_0x220140)return;const _0x322496=$t['float2Half'],_0x388be4=_0x220140['lock'](),_0x3f8116=_0x4d3f7d['getProp']('f_dc_0'),_0x10c58c=_0x4d3f7d['getProp']('f_dc_1'),_0x2c379c=_0x4d3f7d['getProp']('f_dc_2'),_0x49c080=_0x4d3f7d['getProp']('opacity'),_0x548946=-0x20d0+0x174c+0x984+0.28209479177387814;for(let _0x2c21d5=-0x1636+-0x168c+0x1*0x2cc2;_0x2c21d5<this['numSplats'];++_0x2c21d5){const _0x18dd14=_0x3f8116[_0x2c21d5]*_0x548946+(-0xbe9+0x1*-0x4be+0x10a7+0.5),_0x2585b4=_0x10c58c[_0x2c21d5]*_0x548946+(-0x1*0xdd1+-0xd7*0x26+0x2dbb+0.5),_0x4962e0=_0x2c379c[_0x2c21d5]*_0x548946+(-0x4*-0x355+-0x311*-0x4+0x3a8*-0x7+0.5),_0x16b982=(-0x5fd+0x21d4+-0x1bd6)/(-0x5*-0x593+0x4*-0x6e4+-0x4e+Math['exp'](-_0x49c080[_0x2c21d5]));_0x388be4[_0x2c21d5*(0x9*0x3d+-0x1b97+0x1976)+(0x3*0x341+-0xcf*-0x3+-0xc30)]=_0x322496(_0x18dd14),_0x388be4[_0x2c21d5*(0x1*-0x25f9+0x151*0x2+0x1af*0x15)+(0x32*-0xc+-0x1d1d+0x1f76)]=_0x322496(_0x2585b4),_0x388be4[_0x2c21d5*(-0x923+-0xe7e+-0x1*-0x17a5)+(-0x2*0x1173+0x181c+0xacc)]=_0x322496(_0x4962e0),_0x388be4[_0x2c21d5*(-0x20a7+-0x119d+0xc92*0x4)+(0x52a+-0x1*-0x1cb+0xe*-0x7f)]=_0x322496(_0x16b982);}_0x220140['unlock']();}['updateTran'+'sformData'](_0xf2aa7){var _0x5bd363,_0x4175fb,_0x3013fc,_0x15056b;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x32761d=$t['float2Half'];if(!this['transformA'+'Texture'])return;const _0x3b5908=this['transformA'+'Texture']['lock'](),_0x3aaf3b=new Float32Array(_0x3b5908['buffer']),_0x3e3224=this['transformR'+'Texture']['lock'](),_0xf7e755=new Float32Array(_0x3e3224['buffer']),_0x2775b4=this['transformB'+'Texture']['lock'](),_0x14ad94=(_0x5bd363=this['transformT'+'SpeedTextu'+'re'])==null?void(0x4*0x901+-0x556+0x15*-0x176):_0x5bd363['lock']();let _0x28c3c;_0x14ad94&&(_0x28c3c=new Float32Array(_0x14ad94['buffer']));const _0x1e0246=(_0x4175fb=this['transformT'+'Texture'])==null?void(0x6c2+-0xfd5+0x913):_0x4175fb['lock']();let _0x4ea913;_0x1e0246&&(_0x4ea913=new Float32Array(_0x1e0246['buffer']));const _0x5050fa=new T(),_0xf6ca6b=new se(),_0x587029=new T(),_0x78212=new T(),_0x8f617b=_0xf2aa7['createIter'](_0x5050fa,_0xf6ca6b,_0x587029,null,_0x78212),_0x3c7f38=_0xf2aa7['getProp']('t'),_0x2f90c8=_0xf2aa7['getProp']('t_scale');for(let _0x451c6c=-0x1*-0x710+0x1be2+-0x22f2;_0x451c6c<this['numSplats'];_0x451c6c++)_0x8f617b['read'](_0x451c6c),_0xf6ca6b['normalize'](),_0xf6ca6b['w']<-0x22e8+0x251c+0x1*-0x234&&_0xf6ca6b['mulScalar'](-(0x261a+0x27a*0xd+-0x464b)),_0x3aaf3b[_0x451c6c*(-0x17*0xfd+-0x1*-0x1db1+-0x6f2)+(-0x16c*-0x13+-0x1878+-0x28c*0x1)]=_0x5050fa['x'],_0x3aaf3b[_0x451c6c*(-0xb8d+-0x6*0x31f+0x1e4b)+(-0x19c7+0xa55+-0x71*-0x23)]=_0x5050fa['y'],_0x3aaf3b[_0x451c6c*(0x9e6+-0x1a*-0x92+-0x2*0xc5b)+(0xead+-0x35d*0x4+-0x137)]=_0x5050fa['z'],_0x2775b4[_0x451c6c*(0x1a0+0x139*-0x15+0x1811)+(-0x1a*0x15a+-0x11f*0x1d+0x45*0xfb)]=_0x32761d(_0x587029['x']),_0x2775b4[_0x451c6c*(0x7b3+-0xde2+0x633*0x1)+(-0x2113+0x14c1+-0x1*-0xc53)]=_0x32761d(_0x587029['y']),_0x2775b4[_0x451c6c*(-0x1522+-0x61f+0x1b45)+(-0x152b*-0x1+-0x21*0x32+0xeb7*-0x1)]=_0x32761d(_0x587029['z']),_0xf7e755[_0x451c6c*(0x1*0x1421+-0xa*0x6d+0x549*-0x3)+(0x8*0x194+-0x1d07+0x1067)]=_0xf6ca6b['x'],_0xf7e755[_0x451c6c*(-0x251d+0x49e+0x29*0xcb)+(-0xda6+0x1b*-0x129+0x2cfa)]=_0xf6ca6b['y'],_0xf7e755[_0x451c6c*(-0xc2b+-0xa93+0x16c2*0x1)+(-0xd60+0x5*-0x7+0x1*0xd85)]=_0xf6ca6b['z'],this['is4D']&&_0x28c3c&&_0x4ea913&&(_0x28c3c[_0x451c6c*(0xdae+0x1a4d+-0x1*0x27f7)+(0x13*0x10d+0xd*-0xd+-0x134e)]=_0x78212['x'],_0x28c3c[_0x451c6c*(0x3*-0x1dd+-0x1513+-0xd57*-0x2)+(0x2645+0x967+-0x2fab*0x1)]=_0x78212['y'],_0x28c3c[_0x451c6c*(0xbcf*0x2+0x6*0x435+0x18*-0x209)+(-0x9b0*-0x2+0x4*0x522+0x13f3*-0x2)]=_0x78212['z'],_0x4ea913[_0x451c6c*(-0x61*-0x3e+-0x773*-0x3+-0x2dd3)+(0x4eb*-0x7+-0x29*-0x2a+0x1bb3)]=_0x3c7f38?_0x3c7f38[_0x451c6c]:-0x246a+-0x25*0xdf+0x1*0x44a5,_0x4ea913[_0x451c6c*(-0x67f*-0x2+-0xa00+-0x2fa)+(-0x1d3e+-0x4c3+-0x2202*-0x1)]=_0x2f90c8?Math['exp'](_0x2f90c8[_0x451c6c]):-0x7bb*-0x4+0x1bb7+-0x3aa3*0x1);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x3013fc=this['transformT'+'SpeedTextu'+'re'])==null||_0x3013fc['unlock'](),(_0x15056b=this['transformT'+'Texture'])==null||_0x15056b['unlock']();}['updateSHDa'+'ta'](_0x284d04){var _0x190531,_0x278320,_0x2b88f5,_0x391544,_0x204204,_0x5b55f8,_0x228240;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x117cea=(_0x190531=this['sh1to3Text'+'ure'])==null?void(-0x2281+0xca5+0x15dc):_0x190531['lock'](),_0x11f485=(_0x278320=this['sh4to7Text'+'ure'])==null?void(0x384+-0x14ef+0x116b):_0x278320['lock'](),_0x4280fe=(_0x2b88f5=this['sh8to11Tex'+'ture'])==null?void(0x16e2+0x367*-0x1+-0x137b):_0x2b88f5['lock'](),_0x54c052=(_0x391544=this['sh12to15Te'+'xture'])==null?void(0x17*-0x1+-0x1ba+-0x1*-0x1d1):_0x391544['lock'](),_0x28d646={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x5891ed=U_(_0x284d04,_0x28d646*(0x1df6+0x91*-0x35+-0x2*-0x9)),_0x3a2ceb=0x7d0*-0x1+0xfdc+-0xd,_0x46198f=0x207e+-0x1134+0x31*-0x3b,_0x4bab5e=new Float32Array(0x1c0f+0x17*0x16+-0x1*0x1e08),_0x351132=new Uint32Array(_0x4bab5e['buffer']),_0x584392=new Array(_0x28d646*(-0x19e2+-0x9b1*-0x2+0x683))['fill'](-0x2113+-0x2a5*-0x4+0x1*0x167f);for(let _0x4753f9=-0xb21+-0x15e3*0x1+0x2104;_0x4753f9<_0x284d04['numSplats'];++_0x4753f9){for(let _0x286b21=-0x1f0*-0x4+0x240d+-0x2bcd;_0x286b21<_0x28d646;++_0x286b21)_0x584392[_0x286b21*(0xb*-0x346+0xe10+-0x49*-0x4d)]=_0x5891ed[_0x286b21][_0x4753f9],_0x584392[_0x286b21*(-0xfdf*-0x1+0x85*0x10+-0x182c)+(0x2e*-0x95+0x979+-0xa*-0x1bb)]=_0x5891ed[_0x286b21+_0x28d646][_0x4753f9],_0x584392[_0x286b21*(0x14a+-0xde+0x5*-0x15)+(-0x6f1+-0x1fd3*0x1+-0x7*-0x58a)]=_0x5891ed[_0x286b21+_0x28d646*(-0x1ac*-0x2+0x20c7*-0x1+0x1d71)][_0x4753f9];let _0x380992=_0x584392[0x183b*-0x1+-0x12ad+0x2ae8];for(let _0x2f8cdd=0x4*0x587+-0x3*-0x26e+0x1*-0x1d65;_0x2f8cdd<_0x28d646*(-0xeea+-0x23fb+0x1*0x32e8);++_0x2f8cdd)_0x380992=Math['max'](_0x380992,Math['abs'](_0x584392[_0x2f8cdd]));if(_0x380992!==-0x17c7*-0x1+-0x951+-0xe76){for(let _0x5f5e69=-0x87b*0x2+-0x17*0x6f+-0x3d9*-0x7;_0x5f5e69<_0x28d646;++_0x5f5e69)_0x584392[_0x5f5e69*(-0x1f6d+0x1454+0x12*0x9e)+(0x1266+0x1125+-0x238b)]=Math['max'](-0x1792+0x1222+-0x57*-0x10,Math['min'](_0x3a2ceb,Math['floor']((_0x584392[_0x5f5e69*(-0x763*-0x1+-0x13*-0x16d+-0x2277)+(-0xfc5*0x1+-0x16c+0x1131)]/_0x380992*(0x232d+0x359*-0x8+-0x865+0.5)+(0xfc*-0x1+0xd35+0xc39*-0x1+0.5))*_0x3a2ceb+(-0x110a+0xcf+0x103b+0.5)))),_0x584392[_0x5f5e69*(0x64+-0x1d74+0x1d13)+(0x34*-0x24+0x84f*0x2+-0x94d)]=Math['max'](0x568+-0x221c+0x1cb4,Math['min'](_0x46198f,Math['floor']((_0x584392[_0x5f5e69*(0x8*0x14c+-0x1*-0x25a5+-0x3002)+(0xa24+0x293*0x1+-0xcb6)]/_0x380992*(-0x79e+0x1*-0xc2f+0x13cd+0.5)+(0x29b*-0x7+0xed8+0x365+0.5))*_0x46198f+(-0x1*0x1e61+0xec+-0x1*-0x1d75+0.5)))),_0x584392[_0x5f5e69*(-0x24c6*-0x1+0xe43*0x1+-0x3306)+(-0x233b+0x2*0xe26+-0x1*-0x6f1)]=Math['max'](-0xaa5*-0x2+-0x1*-0x22cd+-0x3817,Math['min'](_0x3a2ceb,Math['floor']((_0x584392[_0x5f5e69*(0x2109+0x235+-0x137*0x1d)+(0x26b1+-0x1*0x10b8+0x1*-0x15f7)]/_0x380992*(0x1d55*0x1+-0x1158+-0xbfd+0.5)+(0x2445+-0x767+-0x1cde+0.5))*_0x3a2ceb+(-0x9ab+-0x146*-0x17+-0x139f+0.5))));_0x4bab5e[-0x1*0x1ffb+0xe5d+0x119e]=_0x380992,_0x117cea[_0x4753f9*(0x1be4+-0x1b6e+0x2*-0x39)+(0x72d+0x1*0x668+-0xb7*0x13)]=_0x351132[0x84d+-0x5c+-0x6b*0x13],_0x117cea[_0x4753f9*(-0x18e4+0x1a02+-0x8d*0x2)+(-0x1*-0xf2f+-0x257b+0x207*0xb)]=_0x584392[-0x2092*-0x1+-0x7*-0x435+-0x3e05]<<-0x40d+-0x5db+0x9fd|_0x584392[-0x2*-0x2f6+0x64f+-0xc3a]<<-0x2297+-0x22bb+0x455d|_0x584392[-0x99e*0x3+-0x2e4+0x1fc0],_0x117cea[_0x4753f9*(0x25*-0x9+-0xfd+0x24e)+(-0x905+-0x258a+-0x5b*-0x83)]=_0x584392[-0x1891+0xaef+0xda5]<<0x29*0x59+-0x24e*-0x9+-0x1*0x22ea|_0x584392[-0x20*0xf6+0x149d+-0x71*-0x17]<<0x35*0x13+0x53*0x61+-0x2357|_0x584392[-0x103*0x17+0x16*0xa9+0xc*0xbb],_0x117cea[_0x4753f9*(0xb3*0x20+0x50e*0x2+-0x2078)+(-0x7*-0x227+0x89*-0x1+0xe85*-0x1)]=_0x584392[-0x560+0x1df*-0x12+-0xf4*-0x29]<<-0xd*0xa9+-0x79d+0x1047|_0x584392[0x168a+0x6*0xd5+-0x1b81]<<-0x1597+0x2*0xb38+-0x1*0xce|_0x584392[-0x222e+-0x116a+-0x10*-0x33a],this['shBands']>0x2156+0xe51+-0x2fa6&&(_0x11f485[_0x4753f9*(-0x7*-0x351+0xe*-0x1e1+0x31b)+(-0x9af+-0x237*0xe+0x3b3*0xb)]=_0x584392[-0x2*-0xd2a+-0xcfc+0xd4f*-0x1]<<-0x3a*0x3+0xd58+-0xc95|_0x584392[-0x8dd+0x2*0x8b3+-0x87f]<<0x1ff*0x8+0x163+0x1*-0x1150|_0x584392[0x1*0x197a+-0x4a7+-0x14c8],_0x11f485[_0x4753f9*(-0x260a*-0x1+-0x848+0x5e*-0x51)+(-0x1*-0x12f8+-0x20cf+-0x4*-0x376)]=_0x584392[0x265f+0x3c4+-0x2a17]<<0xe42+0x2373+-0x31a0|_0x584392[-0x5ed+-0x2ca*0x1+0x8c4]<<0x6d*0x2+-0xd5*-0x25+-0x1f98|_0x584392[-0x1*0x14c9+-0x258e+0x1c5*0x21],_0x11f485[_0x4753f9*(-0x17d7+-0x3*-0x96b+-0x2*0x233)+(-0x24c*-0xe+-0x2380+0x27*0x16)]=_0x584392[-0x23d*0xd+0x5b3+-0x5*-0x4b1]<<-0x39*-0x40+-0xad*0x24+-0x9*-0x121|_0x584392[-0x14ba+0xba5*0x3+-0x1*0xe25]<<0x2*0xcfb+-0x1*0x1345+-0x6a6*0x1|_0x584392[0x172b+-0x1*-0x1a6b+-0x3185],_0x11f485[_0x4753f9*(0x374+0x20a3+-0x5*0x737)+(-0xa9e+-0xc9*0x7+0x1020)]=_0x584392[0x1537+-0x11a*0x15+0x1fd]<<0x1*0x1a65+0x23*0xd0+-0x36c0|_0x584392[-0x1*-0x19c3+-0x1019+-0x997]<<-0x1*-0xcab+-0x1*-0x1f9f+0x1*-0x2c3f|_0x584392[-0x4e1+-0x3b*0x67+0x1cb2],this['shBands']>-0x1c05+0xe3*-0x2+0x1dcd?(_0x4280fe[_0x4753f9*(0x1*0x189b+0x17f8+-0x308f)+(0xce4+0x1e03*0x1+-0x15*0x20b)]=_0x584392[-0x1*0x25bd+-0x10fa*-0x1+-0x1d*-0xb8]<<-0x542*0x4+-0x1*-0x2456+0x513*-0x3|_0x584392[0x1aad*0x1+-0x1*0x1f55+0x2*0x25f]<<-0x1d95+0x29*-0xa1+0x3769|_0x584392[-0x1787+-0xc7b+-0x2419*-0x1],_0x4280fe[_0x4753f9*(0x6ff+-0x102d+0xb*0xd6)+(0x104+0x13ed*-0x1+0x12ea)]=_0x584392[-0x22bb*0x1+0x7a*-0xc+0x288b]<<0x5d1+-0x26ae+0x20f2|_0x584392[-0xefe+0x6*-0x656+0xa9f*0x5]<<-0x39c+-0x1*0xaa3+0x3b*0x3e|_0x584392[-0x1*0x1058+0x1f1a+-0xea8],_0x4280fe[_0x4753f9*(0x2*-0x12da+0x2*0x8d2+-0x4*-0x505)+(-0x2536+0x1f6c+0x5cc)]=_0x584392[-0x2*0x602+0x1c*-0x3d+0x11b*0x11]<<0x1*-0x231a+-0x1*-0x21a6+0x189|_0x584392[0x4*0x731+-0x1*0xccc+-0xfdc]<<0xcf7+0x1*-0x614+-0x1*0x6d8|_0x584392[0xae9+-0x1e6f+-0x1*-0x13a3],_0x4280fe[_0x4753f9*(-0x1*-0xb1b+-0x2*0x100b+0x7d*0x2b)+(0x1*0xd5a+-0x26f2+0x199b)]=_0x584392[-0x1d*0x90+-0x3*0x21d+-0x1d*-0xc9]<<-0x8f3+0x150*-0x1+0xa58|_0x584392[0x1510*0x1+0x9*0x382+-0x3483]<<0x149d+0x1cb2+-0x3144*0x1|_0x584392[-0x15d4+-0x1*0x71+0x1665],_0x54c052[_0x4753f9*(-0x1159+-0x24d2+-0x4ed*-0xb)+(-0x2*0x1c4+0x9ef*-0x1+0xd77)]=_0x584392[0x1478+-0x4dd+0x1*-0xf7a]<<0x28+0x23a1+0x724*-0x5|_0x584392[0x100d*-0x1+-0x1*-0x1762+-0x733]<<-0x20c2+-0xe6e+-0x2f3b*-0x1|_0x584392[0x96b*-0x1+-0x1*0x7a9+0x1137],_0x54c052[_0x4753f9*(-0x1*-0x141f+0x2188*0x1+-0x3*0x11e1)+(0x1cb7+0x1930+0x35e6*-0x1)]=_0x584392[-0x165c+-0x3*-0xc46+0x5e*-0x27]<<-0x7*-0x39f+0x80*-0x3e+0x5bc|_0x584392[0x1*0x137b+-0x1251+-0x1*0x105]<<-0x1085+0x7d*-0x2+0x118a|_0x584392[-0x3e3*-0x1+-0x224e+0x1e91],_0x54c052[_0x4753f9*(-0x1ae7*-0x1+0x27+-0x2*0xd85)+(-0x1482+0x2109+-0x281*0x5)]=_0x584392[-0x245c+0x3d1+0x20b2]<<0x55+0x20d+-0x24d|_0x584392[0x1*0x1ef7+0x19a+-0x2069*0x1]<<-0x553+-0x2657+0x2bb5|_0x584392[-0x1ea2+0xbeb+0x12e0],_0x54c052[_0x4753f9*(-0x1925+0x1889+0xa0)+(0x1e26+-0x1a7e+0x137*-0x3)]=_0x584392[0x94b+0x21e6+-0x5*0x89b]<<0x754+0xf8a+-0x16c9|_0x584392[0x935*0x1+0x1fb1+-0x28bb]<<0x60f+0x916*0x4+-0x4*0xa97|_0x584392[0x1*0xba5+-0x18f8*-0x1+-0x2471]):_0x4280fe[_0x4753f9]=_0x584392[0x2014+0x9f1+-0x4*0xa7c]<<-0x1d*0x121+-0x50a+0x25dc|_0x584392[-0x1*-0xf6a+0x1fa*-0xc+0x864]<<0x1*0xc2b+0x141a+-0x203a|_0x584392[0x12d+0xbf3+-0x1*0xd09]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x204204=this['sh4to7Text'+'ure'])==null||_0x204204['unlock'](),(_0x5b55f8=this['sh8to11Tex'+'ture'])==null||_0x5b55f8['unlock'](),(_0x228240=this['sh12to15Te'+'xture'])==null||_0x228240['unlock']();}['updateSHDa'+'taByWorker'](_0x5ad1f7){const _0x475ae6={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x4ac428=U_(_0x5ad1f7,_0x475ae6*(-0x3*0x3d1+-0xedb*0x2+-0x26c*-0x11));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x5ad1f7['numSplats'],this['shBands'],_0x4ac428),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x471611,_0x399293,_0x597300,_0x59770c)=>{var _0x3f5fa5,_0x26979f,_0x521129,_0x4319d8,_0x2cf6fa,_0x41ac28,_0x4f6497,_0x282a94,_0xbad1fb,_0x2636d3;const _0xe63cea=(_0x3f5fa5=this['sh1to3Text'+'ure'])==null?void(-0x9*0x28c+0x1*-0x14f7+0x2be3):_0x3f5fa5['lock']();if(new Uint32Array(_0xe63cea['buffer'])['set'](_0x471611),(_0x26979f=this['sh1to3Text'+'ure'])==null||_0x26979f['unlock'](),this['shBands']>-0x852+0xe05+-0x1b*0x36){const _0x54f4df=(_0x521129=this['sh4to7Text'+'ure'])==null?void(0x5be+-0x2419*0x1+0x199*0x13):_0x521129['lock']();if(new Uint32Array(_0x54f4df['buffer'])['set'](_0x399293),(_0x4319d8=this['sh4to7Text'+'ure'])==null||_0x4319d8['unlock'](),this['shBands']>0x2216+0x5*0x152+0x28ae*-0x1){const _0x4c4783=(_0x2cf6fa=this['sh8to11Tex'+'ture'])==null?void(0xa97+-0x2281+0xbf5*0x2):_0x2cf6fa['lock']();new Uint32Array(_0x4c4783['buffer'])['set'](_0x597300),(_0x41ac28=this['sh8to11Tex'+'ture'])==null||_0x41ac28['unlock']();const _0x55c0e8=(_0x4f6497=this['sh12to15Te'+'xture'])==null?void(0x966+0x144f+-0x1db5):_0x4f6497['lock']();new Uint32Array(_0x55c0e8['buffer'])['set'](_0x59770c),(_0x282a94=this['sh12to15Te'+'xture'])==null||_0x282a94['unlock']();}else{const _0x1a2ca8=(_0xbad1fb=this['sh8to11Tex'+'ture'])==null?void(-0x19de+0xa0*-0x2+0x1b1e):_0xbad1fb['lock']();new Uint32Array(_0x1a2ca8['buffer'])['set'](_0x597300),(_0x2636d3=this['sh8to11Tex'+'ture'])==null||_0x2636d3['unlock']();}}});}}async function G1(){let _0x23af63=null,_0x51cc41=null,_0x1075ef=null,_0x2b5dfc=null,_0x38c2e5=null,_0x46954a=null,_0x380203=null,_0x1898ef=null,_0x1f2066=null,_0x28d138=null,_0x9282e5=null,_0x416ef1=null,_0x2b0558=null,_0x18f5fc=null,_0xaf4df2=null,_0x63a809=null,_0x22427b=null,_0x804809=null,_0x13e8fc=null,_0x261eb0=null,_0x161dd6=null,_0x35a666=null,_0x52cce5=null,_0x26b8d8=null,_0x3192d5=null,_0x456482=Float32Array['BYTES_PER_'+'ELEMENT'],_0x4a8d57=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x5b7d3c=-0x5b3*0x2+-0x566+0x10cc,_0x161854=!(-0x1a57+-0x66b+0x20c2),_0xa12560,_0x33245f,_0x39c6b0={'x':0x0,'y':0x0,'z':0x0},_0x283557={'x':0x0,'y':0x0,'z':0x0},_0x3e661a=!(0x368+-0x971+0x609),_0x48dcff=!(0x1*0x409+-0x71*-0xb+-0x145*0x7),_0x2e66f9=!(-0xd1*-0x2f+0x1c*0x4+-0x26ce),_0x258f03=0x2*-0x269+-0x7be+0xc90,_0x3b5994=0x10d*0x3+-0x567+0x240,_0xba53b4=!(-0x1753+0x1426+0x32e),_0x1eb50f=null;self['onmessage']=async _0x23214d=>{const {data:_0x38a65a}=_0x23214d;switch(_0x38a65a['type']){case'initWorker':_0x5b7d3c=_0x38a65a['numSplats'],_0x5e1026(),_0x161854=_0x38a65a['is4d'],await _0xa547b8(_0x38a65a['sortWasmUr'+'l']),_0x406d10(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x38a65a['dataReady']){if(_0x46954a&&_0x38a65a['centers']&&_0x46954a['length']===_0x38a65a['centers']['length']){const _0x63a973=new Float32Array(_0x38a65a['centers']);_0x46954a['set'](_0x63a973);}if(_0x1f2066&&_0x38a65a['timeIndex']&&_0x1f2066['length']===_0x38a65a['timeIndex']['length']){const _0x4d9744=new Uint32Array(_0x38a65a['timeIndex']);_0x1f2066['set'](_0x4d9744);}if(_0x416ef1&&_0x38a65a['motion']&&_0x416ef1['length']===_0x38a65a['motion']['length']){const _0x4b8508=new Float32Array(_0x38a65a['motion']);_0x416ef1['set'](_0x4b8508);}if(_0x161854&&_0x28d138&&_0x9282e5&&_0x38a65a['muT']&&_0x38a65a['tScale']&&_0x28d138['length']===_0x38a65a['muT']['length']&&_0x9282e5['length']===_0x38a65a['tScale']['length']&&(_0x28d138['set'](_0x38a65a['muT']),_0x9282e5['set'](_0x38a65a['tScale'])),_0x380203){for(let _0x3a8d4f=-0x177*0x2+0x159b*-0x1+0x1889*0x1;_0x3a8d4f<_0x380203['length'];++_0x3a8d4f)_0x380203[_0x3a8d4f]=_0x3a8d4f;}_0x38c2e5&&_0x38a65a['timeOption']&&_0x38c2e5['set'](_0x38a65a['timeOption']),setTimeout(()=>{_0x1a04b4();},0x559*0x3+-0x26a6+0x169b);}break;case'setTime':_0xa12560=_0x38a65a['time'],_0x3bafaf();break;case'setUseTemp'+'oralSort':_0x3e661a=_0x38a65a['useTempora'+'lSort'];break;case'sort':if(!_0x1075ef)return;_0x1075ef[-0x4*0x84b+-0x29*-0x16+0x1da6]=_0x38a65a['cameraPosi'+'tion']['x'],_0x1075ef[-0x1a4*0x13+-0xd82+0x2caf]=_0x38a65a['cameraPosi'+'tion']['y'],_0x1075ef[-0xa54+0x2102+-0x1*0x16ac]=_0x38a65a['cameraPosi'+'tion']['z'],_0x2b5dfc[-0x202b+-0x12f5+-0x199*-0x20]=_0x38a65a['cameraDire'+'ction']['x'],_0x2b5dfc[-0x190c+0x9d*0x27+0x1*0x122]=_0x38a65a['cameraDire'+'ction']['y'],_0x2b5dfc[0x321*-0x1+-0x89*0x37+0x2092]=_0x38a65a['cameraDire'+'ction']['z'],_0x3bafaf();break;}};const _0x3bafaf=()=>{_0x1eb50f&&clearTimeout(_0x1eb50f),_0x1eb50f=setTimeout(()=>{_0x1eb50f=null,_0x2db1ee();},-0x3e*0x53+0xfde+0x43c*0x1);},_0x5e1026=()=>{_0x3b5994=Math['max'](-0x2a*-0x7a+-0x178a+0x390,Math['min'](-0x113a+-0x1*-0x1efd+-0x1f*0x71,Math['round'](Math['log2'](_0x5b7d3c/(0x755*0x2+-0x1aa*0x3+-0x338*0x3))))),_0x258f03=(0x12b*-0x1c+-0x27*0xca+0x1*0x3f7c)**_0x3b5994+(0x3b*-0x3b+0x1*0x222b+-0x1491);},_0x406d10=()=>(_0x2b0558=0x1*0x16bb+0x5*0x38b+-0xa7*0x3e,_0x18f5fc=_0x2b0558+_0x5b7d3c*_0x456482*(0x1e06+-0xf*-0x207+0x1*-0x3c6c),_0x13e8fc=_0x18f5fc+(0x10f*-0xe+0x4f*-0x1+0xf85)*_0x456482*(0x18ee+0x3*-0xc17+0xb59),_0x261eb0=_0x13e8fc+_0x5b7d3c*_0x4a8d57,_0x161dd6=_0x261eb0+(-0x15a2+-0x171b+0x2cc0)*_0x456482,_0x35a666=_0x161dd6+(0x10*0x67+0x21e3+-0x50a*0x8)*_0x456482,_0x52cce5=_0x35a666+(-0x1752+-0x248a+0x3*0x13f5)*_0x456482,_0x26b8d8=_0x52cce5+(0x2eb+0x1a2f*-0x1+-0x1*-0x1747)*_0x456482,_0x3192d5=_0x26b8d8+_0x5b7d3c*_0x4a8d57,_0x46954a=new Float32Array(_0x51cc41,_0x2b0558,_0x5b7d3c*(0x155d+0x118a+-0x26e4)),_0x38c2e5=new Float32Array(_0x51cc41,_0x18f5fc,(-0x67b+-0xb82+0x1261)*(-0xa89+-0xa96+-0x70b*-0x3)),_0x380203=new Uint32Array(_0x51cc41,_0x13e8fc,_0x5b7d3c),_0x1898ef=new Uint32Array(_0x380203),_0x1075ef=new Float32Array(_0x51cc41,_0x261eb0,-0x899+-0x835+0x59b*0x3),_0x2b5dfc=new Float32Array(_0x51cc41,_0x161dd6,0x26bc+0x3b7*0x8+0x7*-0x9c7),_0x161854&&(_0x22427b=_0x3192d5+_0x258f03*_0x4a8d57,_0x804809=_0x22427b+_0x5b7d3c*_0x456482,_0x63a809=_0x804809+_0x5b7d3c*_0x456482,_0xaf4df2=_0x63a809+_0x5b7d3c*(0x1f85*0x1+-0x1d37+-0x24b)*_0x456482,_0x28d138=new Float32Array(_0x51cc41,_0x22427b,_0x5b7d3c),_0x9282e5=new Float32Array(_0x51cc41,_0x804809,_0x5b7d3c),_0x416ef1=new Float32Array(_0x51cc41,_0x63a809,_0x5b7d3c*(-0x3*0x90f+0x2103+-0x3*0x1f1)),_0x1f2066=new Uint32Array(_0x51cc41,_0xaf4df2,_0x5b7d3c)),{'sharedMemory':_0x51cc41,'layout':{'timeOptionPtr':_0x18f5fc,'timeIndexPtr':_0xaf4df2,'centersPtr':_0x2b0558,'motionPtr':_0x63a809,'muTPtr':_0x22427b,'tScalePtr':_0x804809,'orderPtr':_0x13e8fc,'cameraPositionPtr':_0x261eb0,'cameraDirectionPtr':_0x161dd6,'boundMinPtr':_0x35a666,'boundMaxPtr':_0x52cce5,'distancesPtr':_0x26b8d8,'countBufferPtr':_0x3192d5}}),_0xa547b8=async _0x22ef60=>{let _0x522839=_0x5b7d3c*_0x456482*(0x3da+-0x3*-0xc2b+0x2858*-0x1);_0x522839+=_0x5b7d3c*_0x4a8d57,_0x522839+=(0x791+-0x1*-0x133c+0x2*-0xd65)*_0x456482,_0x522839+=(-0x13eb+-0xb*0x239+0x2c61)*_0x456482,_0x522839+=(-0x1fcb+0x17e*0x7+0x155c)*_0x456482,_0x522839+=(0x16*-0x79+0x1*0x3ee+0x67b)*_0x456482,_0x522839+=_0x5b7d3c*_0x456482,_0x522839+=_0x258f03*_0x4a8d57,_0x522839+=(0x934+-0x14b0+0xbe0)*_0x456482*(-0x105*-0x6+0x147a*0x1+-0xd4b*0x2),_0x522839+=_0x5b7d3c*_0x4a8d57,_0x161854&&(_0x522839+=_0x5b7d3c*_0x456482,_0x522839+=_0x5b7d3c*_0x456482,_0x522839+=_0x5b7d3c*_0x456482*(0x21e5*-0x1+0xb*-0x14b+0x3021*0x1));const _0x4e216f=(-0x1813+-0x15b0*0x1+0x2e03)*(-0x1954*0x1+-0x55*-0x3+0x1c55),_0xf9ff54=Math['ceil'](_0x522839/_0x4e216f),_0x88b6f0={'env':{'memory':new WebAssembly['Memory']({'initial':_0xf9ff54,'maximum':_0xf9ff54,'shared':!(0x1f3a+-0x8*0x3d6+0x2*-0x45)}),'pthread_self':function(){return 0x1a*0x163+0xba5*0x3+0x11*-0x42d;},'emscripten_builtin_memalign':function(){return-0x40*0x54+-0x8f*-0x3a+-0x5b3*0x2;},'loggerVec3':(_0x36ddc3,_0x5c94a2,_0x2a86a6,_0x36394e)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x36ddc3+']\x200:'+_0x5c94a2+'\x201:'+_0x2a86a6+'\x202:'+_0x36394e);},'loggerFloat':(_0xc714ba,_0x39911f)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0xc714ba+']\x20a:'+_0x39911f);},'loggerValue':(_0x26bb97,_0x2a54c4,_0x2b963e,_0x111a41,_0x5c4d1c)=>{console['log']('C++\x20logger'+'Value\x20['+_0x26bb97+']\x20minDist:'+_0x2a54c4+'\x20maxDist:'+_0x2b963e+'\x20range:'+_0x111a41+'\x20divider:'+_0x5c4d1c);},'loggerCamera':(_0x519567,_0x477b37,_0x54e237,_0x1b1d4d,_0x35ed02,_0x3c8b67,_0x33c3b0)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x519567+']\x20x:'+_0x477b37+'\x20y:'+_0x54e237+'\x20z:'+_0x1b1d4d+'\x20dx:'+_0x35ed02+'\x20dy:'+_0x3c8b67+'\x20dz:'+_0x33c3b0);},'loggerBound':(_0x3e1497,_0xa4fb0a,_0x2e0caa,_0x597464,_0x20f6d5,_0x5803ea)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x3e1497+'\x20minY:'+_0xa4fb0a+'\x20minZ:'+_0x2e0caa+'\x20maxX:'+_0x597464+'\x20maxY:'+_0x20f6d5+'\x20maxZ:'+_0x5803ea);},'loggerDebug':_0x107a74=>{console['log']('C++\x20logger'+'Debug\x20['+_0x107a74+']');}}};try{const _0x3e2bba=await(await fetch(_0x22ef60))['arrayBuffe'+'r']();return _0x23af63=(await WebAssembly['instantiat'+'e'](_0x3e2bba,_0x88b6f0))['instance'],_0x51cc41=_0x88b6f0['env']['memory']['buffer'],_0x23af63;}catch(_0x39e342){throw console['error']('加载WASM模块失败'+':',_0x39e342),_0x39e342;}},_0x1a04b4=()=>{if(!_0x23af63)return;const {calcAABB:_0x5d7021}=_0x23af63['exports'];_0x5d7021(_0x2b0558,_0x35a666,_0x52cce5,_0x5b7d3c);},_0x2db1ee=()=>{if(!_0x23af63||_0x13e8fc===null||_0x2b0558===null||_0x261eb0===null||_0x161dd6===null||_0x35a666===null||_0x52cce5===null)return;const _0x28b792=_0x1075ef[0x1674+-0x1269+0x17*-0x2d],_0x3cece4=_0x1075ef[-0x22d9+-0xb*-0x21d+0xb9b],_0x45ab52=_0x1075ef[-0xfe*0x27+-0x39*0x6d+0x157*0x2f],_0x1898cc=_0x2b5dfc[0xb5b+0x3*-0x891+0x18*0x99],_0x5669ff=_0x2b5dfc[0xa02+-0x3*0x667+-0x4*-0x24d],_0x5d2410=_0x2b5dfc[-0x173c+-0x1*-0x23b1+-0xc73],_0x405ead=-0x7c1*0x1+-0xcb5*0x2+0x212b+0.001;if(!_0x48dcff&&Math['abs'](_0x28b792-_0x39c6b0['x'])<_0x405ead&&Math['abs'](_0x3cece4-_0x39c6b0['y'])<_0x405ead&&Math['abs'](_0x45ab52-_0x39c6b0['z'])<_0x405ead&&Math['abs'](_0x1898cc-_0x283557['x'])<_0x405ead&&Math['abs'](_0x5669ff-_0x283557['y'])<_0x405ead&&Math['abs'](_0x5d2410-_0x283557['z'])<_0x405ead&&Math['abs'](_0xa12560-_0x33245f)<-0x795*-0x5+0x61*-0x59+-0x430+0.01)return;if(_0x2e66f9){_0xba53b4=!(-0x1*-0x7fb+-0x21ce+0x19d3);return;}_0x2e66f9=!(0x14f1+-0xfee+-0x503),_0x48dcff=!(-0x125f*0x1+0x20c2+-0x731*0x2),_0x33245f=_0xa12560,_0x39c6b0['x']=_0x28b792,_0x39c6b0['y']=_0x3cece4,_0x39c6b0['z']=_0x45ab52,_0x283557['x']=_0x1898cc,_0x283557['y']=_0x5669ff,_0x283557['z']=_0x5d2410,_0xba53b4=!(0x1b1c+-0x172b+0x8*-0x7e);const {sortIndexes:_0xfb1ce}=_0x23af63['exports'];try{const _0x2fc763=_0xfb1ce(_0x13e8fc,_0x2b0558,_0x63a809,_0x22427b,_0x804809,_0x261eb0,_0x161dd6,_0x35a666,_0x52cce5,_0x26b8d8,_0x3192d5,_0xa12560,_0x3e661a,_0x161854,_0x5b7d3c,_0x258f03,_0x3b5994,_0x18f5fc,_0xaf4df2);_0x1898ef['set'](_0x380203),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x2fc763,'order':_0x1898ef});}catch(_0x1af1b8){console['error']('排序操作失败:',_0x1af1b8),self['postMessag'+'e']({'type':'error','error':_0x1af1b8['message']});}_0x2e66f9=!(0x1ebc+0x22ea+-0x1*0x41a5),_0xba53b4&&_0x3bafaf();};}class H1 extends ce{constructor(_0x1237dc,_0x282ecd=!(-0x1*0x8e9+-0x2*-0x107b+-0x180d)){super(),c(this,'worker',null),c(this,'numSplats',-0x20a6+0x2*-0xb2f+-0xe*-0x3ee),c(this,'is4d',!(0x1*-0xd3+-0xa60+-0xb33*-0x1)),c(this,'sortStartT'+'ime',0x8c7*-0x1+-0x110b+0x19d2),c(this,'orderTextu'+'re'),(this['numSplats']=_0x1237dc,this['is4d']=_0x282ecd,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x264d2b=>{if(!this['worker'])return;const {data:_0x224353}=_0x264d2b;switch(_0x224353['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x224353['order']){const _0x52cf2c=this['orderTextu'+'re']['lock']();new Uint32Array(_0x52cf2c['buffer'])['set'](_0x224353['order']),this['orderTextu'+'re']['unlock']();}let _0x3c6f5d=-0x33*-0xc1+-0x2616+-0x5d;this['sortStartT'+'ime']!==-0x1b49+-0x5*0x6b9+0x3ce6&&(_0x3c6f5d=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x264d2b['data']['count'],_0x3c6f5d),this['sortStartT'+'ime']=0x382+0x13ee+-0x1770;break;case'error':console['error']('Worker错误:',_0x224353['error']),this['fire']('error',_0x224353['error']);break;}};const _0x59bf56=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x59bf56,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x38fb8c,_0x357cf5,_0x2b0fda,_0x3ef59d,_0x49eb91,_0x683eb9,_0x334fc3){var _0x116b82;(!_0x334fc3||_0x334fc3['length']===-0x1e9e+-0x2a*0x3e+0x28ca)&&(_0x334fc3=[0x168b+-0x17cc+0x141,0x1*0xd59+0x16ef+-0x2443]),this['orderTextu'+'re']=_0x38fb8c,(_0x116b82=this['worker'])==null||_0x116b82['postMessag'+'e']({'type':'initData','centers':_0x357cf5,'muT':_0x2b0fda,'tScale':_0x3ef59d,'motion':_0x49eb91,'timeIndex':_0x683eb9,'timeOption':_0x334fc3,'dataReady':!(-0x3a7+0x2157+-0x1db0)});}['resize'](_0x1df57e){this['destroy'](),this['numSplats']=_0x1df57e,this['_initWorke'+'r']();}['setCamera'](_0x4cf06b,_0x31709f){this['worker']&&(this['sortStartT'+'ime']===-0x1d5a+0x533*0x1+-0x9*-0x2af&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x4cf06b['x'],'y':_0x4cf06b['y'],'z':_0x4cf06b['z']},'cameraDirection':{'x':_0x31709f['x'],'y':_0x31709f['y'],'z':_0x31709f['z']}}));}['setCurrent'+'Time'](_0x11da03){this['worker']&&(this['sortStartT'+'ime']===0x9*0x209+-0x1fbe+0xd6d&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x11da03}));}['setUseTemp'+'oralSort'](_0xd84b18){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0xd84b18});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const $1=new q(),On=new T(),kn=new T(),Gl=[-0xcb+0x3*0x43+0x2*0x1,-0x24dd+0x5e2+-0x1*-0x1efb];class Np{constructor(_0x3118d0,_0x3599bb){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',-0x1047*0x1+-0x22*0xdb+0x2d5d),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x3118d0['numSplats']),this['splat']=_0x3118d0,this['options']=Object['assign'](this['options'],_0x3599bb));const _0x57551b=_0x3118d0['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x21ab29=0x1e01*-0x1+0x3f*0x11+-0x1a52*-0x1,_0x324839=Math['ceil'](_0x3118d0['numSplats']/_0x21ab29)*_0x21ab29/_0x21ab29,_0x281949=new Uint32Array(_0x324839);for(let _0x4dd306=-0x20dd*0x1+0x964*-0x1+-0x2a41*-0x1;_0x4dd306<_0x324839;++_0x4dd306)_0x281949[_0x4dd306]=_0x4dd306*_0x21ab29;const _0x308812=new Et(_0x57551b,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(-0x684+0x1ab3+0x1*-0x142f)}]),_0x462d46=new os(_0x57551b,_0x308812,_0x324839,{'usage':jt,'data':_0x281949['buffer']}),_0x47577d=new Float32Array((-0x261d+0x1*-0x1d50+0x4379)*_0x21ab29),_0x1b18fa=new Uint32Array((-0x657+-0xf6c+-0x3*-0x743)*_0x21ab29);for(let _0x28d940=-0x11f0+-0x59*0x6+0x1406;_0x28d940<_0x21ab29;++_0x28d940){_0x47577d['set']([-(0xd56+-0x1cbf*-0x1+-0x1*0x2a14),-(0x92f*-0x1+0x3*-0x7e5+-0x21*-0xff),_0x28d940,0xc67+-0x1*-0x1115+-0x1d7b,-(-0x1*-0xa8d+0x2358+0x164*-0x21),_0x28d940,-0x247a+-0x17*-0x6+0x3*0xbfb,-0x14*-0x185+0x1*-0x2452+0x1f*0x31,_0x28d940,-(0x6b1*-0x3+-0x12e3+0x26f7),-0x116c*0x1+-0x29*-0xc5+0x71*-0x20,_0x28d940],_0x28d940*(-0x153*0x1a+-0xa21*-0x3+0x417));const _0x599dde=_0x28d940*(-0x4c*0x2c+-0x11bd*-0x1+0x1*-0x4a9);_0x1b18fa['set']([-0x26a7*-0x1+-0xaab+0x12*-0x18e+_0x599dde,-0x3*0x44f+-0x446*0x7+0x2ad8+_0x599dde,0x255+0xb*-0x369+0x8cc*0x4+_0x599dde,0x1*-0xfa2+-0x4*-0x767+-0xdfa+_0x599dde,0x14e9+-0x2*0x125f+0xfd7+_0x599dde,0x1*0x2f1+-0xefc+0x2*0x607+_0x599dde],_0x28d940*(-0x256a+0x878*-0x1+-0xb7a*-0x4));}const _0x3e96b8=new Ie(_0x57551b);_0x3e96b8['setPositio'+'ns'](_0x47577d,0x19d2*-0x1+-0x15*-0x4e+0x136f),_0x3e96b8['setIndices'](_0x1b18fa),_0x3e96b8['update'](),this['mesh']=_0x3e96b8,this['mesh']['aabb']['copy'](_0x3118d0['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x462d46,!(-0x2179+-0x6fa+-0x6d*-0x5f)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0x257b+0x3*0x4b5+-0x82*-0x2e,(!_0x3599bb['dither']||_0x3599bb['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x2ec7e0;(_0x2ec7e0=this['sorter'])==null||_0x2ec7e0['initData'](this['orderTextu'+'re'],_0x3118d0['centers'],_0x3118d0['muT'],_0x3118d0['tScale'],_0x3118d0['motion'],_0x3118d0['timeIndex'],_0x3118d0['timeOption']);}),this['sorter']['on']('updated',_0x45a752=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x45a752/_0x21ab29),this['material']['setParamet'+'er']('numSplats',_0x45a752);}));}['updateData'](_0x19e2e9){var _0x43dd06;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x19e2e9['numSplats']),this['splat']=_0x19e2e9;const _0x2a1f4c=_0x19e2e9['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0xfe26c3=0x496*-0x4+-0x1b47*0x1+0x2e1f,_0x220d9f=Math['ceil'](_0x19e2e9['numSplats']/_0xfe26c3)*_0xfe26c3/_0xfe26c3,_0x3d2ff6=new Uint32Array(_0x220d9f);for(let _0x1a97d1=0x1c0e+0xfe9*-0x1+-0x1*0xc25;_0x1a97d1<_0x220d9f;++_0x1a97d1)_0x3d2ff6[_0x1a97d1]=_0x1a97d1*_0xfe26c3;const _0x3aaa1a=new Et(_0x2a1f4c,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(0x1832+-0x88f+-0xfa3)}]),_0x3cf5e1=new os(_0x2a1f4c,_0x3aaa1a,_0x220d9f,{'usage':jt,'data':_0x3d2ff6['buffer']});this['mesh']['aabb']['copy'](_0x19e2e9['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x3cf5e1,!(-0x2*0xb71+0x24bc*-0x1+0x3b9e*0x1)),this['meshInstan'+'ce']['instancing'+'Count']=0x1c42+0x5ef+0x1*-0x2231,(_0x43dd06=this['sorter'])==null||_0x43dd06['resize'](_0x19e2e9['numSplats']);}['releaseSeq'](_0x9fc98b){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x9fc98b);}['destroy'](){var _0x72b5db,_0x4cd850,_0x590910;(_0x72b5db=this['material'])==null||_0x72b5db['destroy'](),(_0x4cd850=this['meshInstan'+'ce'])==null||_0x4cd850['destroy'](),(_0x590910=this['sorter'])==null||_0x590910['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x472f2d){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x472f2d),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x28eea3=this['splat']['device'];if(Gl[-0x3*0x21d+-0x1bc6+0x1*0x221d]=_0x28eea3['width'],Gl[-0x35*0x79+0x1e29+-0x51b]=_0x28eea3['height'],this['cameras']['length']>0x1*0x1cbb+-0x1*0x21fd+0x542){const _0x4c0cda=this['cameras'][0x3*-0xbe6+-0x9*-0x393+-0x3*-0x12d]['xr'];_0x4c0cda&&_0x4c0cda['active']&&_0x4c0cda['views']['list']['length']===0x1dbc+-0xf0f+-0x5*0x2ef&&(Gl[0x199b+0xe7d*-0x2+-0x35f*-0x1]/=0x1f*-0x1f+0x1a75+0x46*-0x53);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x2fcdbe){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x3f943f=_0x2fcdbe['getWorldTr'+'ansform']();_0x3f943f['getTransla'+'tion'](On),_0x3f943f['getZ'](kn);const _0x408918=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x1f64c4=$1['invert'](_0x408918);_0x1f64c4['transformP'+'oint'](On,On),_0x1f64c4['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>-0x2398+0x6a*0x57+0xa*-0xb){const _0x31c600=this['cameras'][-0x1414+-0x3*0xbba+0x3742];this['sort'](_0x31c600['_node']),this['cameras']['length']=0x236*0x3+0x24d*-0x5+0x4df;}}['updateTime'](_0x1745d9){this['time']=_0x1745d9;}}const W1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0xc75c99){U0=_0xc75c99;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x420b0f){v['assert'](_0x420b0f),_0x420b0f['frameUpdat'+'e']();const _0x193543=_0x420b0f['beforePass'+'es'];for(let _0x4af0a4=0x716*-0x2+0x48d*0x2+-0x76*-0xb;_0x4af0a4<_0x193543['length'];_0x4af0a4++){const _0x25c00e=_0x193543[_0x4af0a4];_0x25c00e['enabled']&&this['addRenderP'+'ass'](_0x25c00e);}_0x420b0f['enabled']&&this['renderPass'+'es']['push'](_0x420b0f);const _0x1ecd2e=_0x420b0f['afterPasse'+'s'];for(let _0x5e9349=0x7f6+-0xcd4+-0xb2*-0x7;_0x5e9349<_0x1ecd2e['length'];_0x5e9349++){const _0x4a2fb9=_0x1ecd2e[_0x5e9349];_0x4a2fb9['enabled']&&this['addRenderP'+'ass'](_0x4a2fb9);}}['reset'](){this['renderPass'+'es']['length']=-0xcfa+-0xbe4+0x18de;}['compile'](){const _0x494b57=this['renderTarg'+'etMap'],_0xe45f1f=this['renderPass'+'es'];for(let _0xaa2401=0x63d+-0xd*-0xb1+-0xf3a;_0xaa2401<_0xe45f1f['length'];_0xaa2401++){const _0x17d36d=_0xe45f1f[_0xaa2401],_0x2ccd9b=_0x17d36d['renderTarg'+'et'];if(_0x2ccd9b!==void(-0x4be*-0x5+-0x929*-0x1+-0x20df)){const _0x36be96=_0x494b57['get'](_0x2ccd9b);if(_0x36be96){const _0x57fddf=_0x17d36d['colorArray'+'Ops']['length'];for(let _0x58e83d=0x1f83+-0x51*0x6d+0x2fa;_0x58e83d<_0x57fddf;_0x58e83d++)_0x17d36d['colorArray'+'Ops'][_0x58e83d]['clear']||(_0x36be96['colorArray'+'Ops'][_0x58e83d]['store']=!(0xdd5+0x265*-0x1+-0x16e*0x8));_0x17d36d['depthStenc'+'ilOps']['clearDepth']||(_0x36be96['depthStenc'+'ilOps']['storeDepth']=!(-0xc85*-0x1+-0x2a0*0x3+-0x1*0x4a5)),_0x17d36d['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x36be96['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x3b*-0x89+0x1*-0x847+-0x174c));}_0x494b57['set'](_0x2ccd9b,_0x17d36d);}}for(let _0x3e85f1=0x1*0xa82+-0x1*0x1369+0x8e7;_0x3e85f1<_0xe45f1f['length']-(-0x2c0+0x985+-0x1b1*0x4);_0x3e85f1++){const _0x340eb0=_0xe45f1f[_0x3e85f1],_0x5bb467=_0x340eb0['renderTarg'+'et'],_0x14f248=_0xe45f1f[_0x3e85f1+(0x10fd+0x713*-0x2+-0x2d6)],_0x21d1c8=_0x14f248['renderTarg'+'et'];_0x5bb467!==_0x21d1c8||_0x5bb467===void(0xff7*-0x1+-0x1631+0x6f*0x58)||_0x14f248['depthStenc'+'ilOps']['clearDepth']||_0x14f248['depthStenc'+'ilOps']['clearStenc'+'il']||_0x14f248['colorArray'+'Ops']['some'](_0x8710b6=>_0x8710b6['clear'])||_0x340eb0['afterPasse'+'s']['length']>-0x107a+-0x131e+0x2398||_0x14f248['beforePass'+'es']['length']>0x1fc2+-0x8a2+-0x1720||(_0x340eb0['_skipEnd']=!(0x171a+0x2055*0x1+0x376f*-0x1),_0x14f248['_skipStart']=!(-0xa2a*-0x2+-0x57*0xc+-0x1040));}let _0x1f9bdf=null,_0x290e54=null;for(let _0x4d6c7a=-0x67*0x2d+0xb*-0x15b+0x2104;_0x4d6c7a<_0xe45f1f['length'];_0x4d6c7a++){const _0x2bfbe2=_0xe45f1f[_0x4d6c7a],_0x369e3e=_0x2bfbe2['renderTarg'+'et'],_0x5a14b3=_0x369e3e==null?void(-0x81e+-0x13d8+-0x4a9*-0x6):_0x369e3e['colorBuffe'+'r'];if(_0x5a14b3!=null&&_0x5a14b3['cubemap']){if(_0x1f9bdf===_0x5a14b3){const _0x2fa88d=_0x290e54['colorArray'+'Ops']['length'];for(let _0x2fb6e1=-0x856+0x2dd*0x7+-0xbb5;_0x2fb6e1<_0x2fa88d;_0x2fb6e1++)_0x290e54['colorArray'+'Ops'][_0x2fb6e1]['mipmaps']=!(-0x25*-0xcb+-0x940*0x1+-0x1416);}_0x1f9bdf=_0x369e3e['colorBuffe'+'r'],_0x290e54=_0x2bfbe2;}else _0x2bfbe2['requiresCu'+'bemaps']&&(_0x1f9bdf=null,_0x290e54=null);}_0x494b57['clear']();}['render'](_0x55f19e){this['compile']();const _0x2f410c=this['renderPass'+'es'];for(let _0x4eb038=-0x9de+0x1fe1+-0x1603;_0x4eb038<_0x2f410c['length'];_0x4eb038++)_0x2f410c[_0x4eb038]['render']();}}class j1{constructor(_0x18a3e5,_0x4d1274){this['texture0']=_0x18a3e5,this['texture1']=_0x4d1274;}['destroy'](){var _0x54c1c0,_0x10f93d;(_0x54c1c0=this['texture0'])==null||_0x54c1c0['destroy'](),(_0x10f93d=this['texture1'])==null||_0x10f93d['destroy']();}}const H_=new kt();class Wr{static['createText'+'ure'](_0x2ffbfb,_0x59fd70,_0x2c918a,_0x2a60f7=''){return new he(_0x2ffbfb,{'name':'AreaLightL'+'UT'+_0x2a60f7,'width':_0x2c918a,'height':_0x2c918a,'format':_0x59fd70,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(-0x13b+-0x2701+0x283d*0x1)});}static['applyTextu'+'res'](_0x592835,_0x58db91,_0x4213d9){H_['remove'](_0x592835),H_['get'](_0x592835,()=>new j1(_0x58db91,_0x58db91===_0x4213d9?null:_0x4213d9)),_0x592835['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x58db91),_0x592835['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x4213d9);}static['createPlac'+'eholder'](_0x507142){const _0xa1c711=Wr['createText'+'ure'](_0x507142,Je,-0x1*-0x1813+-0x1dae+0x59d,'placeholde'+'r');_0xa1c711['lock']()['fill'](0x1e07+-0x1*-0xd87+-0x8b6*0x5),_0xa1c711['unlock'](),Wr['applyTextu'+'res'](_0x507142,_0xa1c711,_0xa1c711);}static['set'](_0x16ba64,_0x3262ee,_0xc75a19){function _0x586737(_0x5494ed,_0x2ac6fd,_0x17bc10){const _0x218b2d=Wr['createText'+'ure'](_0x5494ed,_0x17bc10,-0x110b+0x589+0xbc2);return _0x218b2d['lock']()['set'](_0x2ac6fd),_0x218b2d['unlock'](),_0x218b2d;}function _0x43173b(_0x1dabdb){const _0x456780=_0x1dabdb['length'],_0x1f9097=new Uint16Array(_0x456780),_0xf2cece=$t['float2Half'];for(let _0x355cd0=-0x1ce3+-0x1392+0x3075;_0x355cd0<_0x456780;_0x355cd0++)_0x1f9097[_0x355cd0]=_0xf2cece(_0x1dabdb[_0x355cd0]);return _0x1f9097;}const _0x3b7bea=_0x3262ee,_0x2d6a80=_0xc75a19,_0x398108=_0x43173b(_0x3b7bea),_0x24e738=_0x43173b(_0x2d6a80),_0x51a60d=_0x586737(_0x16ba64,_0x398108,Je),_0x332d5f=_0x586737(_0x16ba64,_0x24e738,Je);Wr['applyTextu'+'res'](_0x16ba64,_0x51a60d,_0x332d5f);}}const $h='en-US',Wh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x4ebd2f,_0x3c9eba){for(let _0xef2968=-0xb8c*-0x3+-0xb01+0x3*-0x7e1,_0x24531d=_0x4ebd2f['length'];_0xef2968<_0x24531d;_0xef2968++)zp[_0x4ebd2f[_0xef2968]]=_0x3c9eba;}function pi(_0x294569){const _0x1bd543=_0x294569['indexOf']('-');return _0x1bd543!==-(0x223+0x2a6+-0x4c8)?_0x294569['substring'](-0x931*-0x1+0x106+-0xa37,_0x1bd543):_0x294569;}function Y1(_0x252be7,_0x30987a){const _0x5a46a0=_0x252be7['indexOf']('-');return _0x5a46a0!==-(-0x89a+-0x18e7+0x2182)?_0x30987a+_0x252be7['substring'](_0x5a46a0):_0x30987a;}function V0(_0x2b5032,_0x1df3b6){if(_0x1df3b6[_0x2b5032])return _0x2b5032;let _0x5225ac=Wh[_0x2b5032];if(_0x5225ac&&_0x1df3b6[_0x5225ac])return _0x5225ac;const _0x2a4edd=pi(_0x2b5032);return _0x5225ac=Wh[_0x2a4edd],_0x1df3b6[_0x5225ac]?_0x5225ac:_0x1df3b6[_0x2a4edd]?_0x2a4edd:$h;}pr(['ja','ko','th','vi','zh','id'],_0xe28b5=>0x1b1f+0x64b+-0xe*0x263),pr(['fa','hi'],_0x56f44f=>_0x56f44f>=-0x3*-0x8ec+-0x4*0x630+-0x204&&_0x56f44f<=-0x1041*-0x1+-0x1f39+-0xef9*-0x1?0x215a+-0x1431+-0xd29:-0xbfd+-0x2203+0x2e01),pr(['fr','pt'],_0x405763=>_0x405763>=0xff2+0x499+-0x148b&&_0x405763<-0x8c7+0x1*0x1d2+0x6f7?0x21de+0xb3*-0x35+-0x331*-0x1:-0x151c+-0x1ca*-0x1+0x1353),pr(['da'],_0x1c00cc=>_0x1c00cc===0x6a8*-0x2+-0xd1d+0x1a6e||!Number['isInteger'](_0x1c00cc)&&_0x1c00cc>=0x2*-0xc25+-0xe26+0x2670&&_0x1c00cc<=0x256d+0x2*0x36c+-0x2c44?0xbb*-0xa+0xa6f+0x10b*-0x3:-0x5e5*-0x3+0x208e*0x1+0x1*-0x323c),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x8eba78=>_0x8eba78===0x98f*0x4+-0x1c23+-0xa18?-0x1*0x1853+-0x461+0x1cb4:0xc16+-0x121e*-0x2+-0x3051),pr(['ru','uk'],_0x5a8547=>{if(Number['isInteger'](_0x5a8547)){const _0x5ced15=_0x5a8547%(0x86f+-0x5a1*-0x5+-0x248a),_0x4cf585=_0x5a8547%(0x12fd+0x35*-0xb8+0x1*0x137f);if(_0x5ced15===0x1e52+-0x75a*0x1+-0x16f7&&_0x4cf585!==-0x62e*-0x4+0x1*-0xafa+0x15*-0xa7)return-0x3*-0x4c3+-0x26da*-0x1+-0x3523;if(_0x5ced15>=-0x1d*0xc1+0x2*0x78b+0x6c9&&_0x5ced15<=0xcf5+-0x2697+0x19a6&&(_0x4cf585<0xb*0xc5+0xc04*0x3+-0x2c77*0x1||_0x4cf585>-0x25*0x47+-0x9f7*0x3+0x1*0x2836))return 0x52*0x50+-0xfe*-0x1a+0x336b*-0x1;if(_0x5ced15===0xed*-0x9+-0x1627+0x1e7c||_0x5ced15>=0x8*-0x31a+0xcef+0xbe6&&_0x5ced15<=0x22d5+0x3ad*-0x9+-0x1b7||_0x4cf585>=-0x1b7*0x1+-0x1dc8+0x1f8a&&_0x4cf585<=0x17a3+0x33*0x1d+-0x1d5c)return-0x1f06+0xbc1+-0x66d*-0x3;}return-0x1*-0x1f89+0xe9b*-0x1+-0x10eb;}),pr(['pl'],_0x3e7548=>{if(Number['isInteger'](_0x3e7548)){if(_0x3e7548===0x1f27+-0x15da*0x1+-0x8c*0x11)return 0x345+0x1*-0xf52+-0xc0d*-0x1;const _0x4f4227=_0x3e7548%(-0xc70+0x148+0x599*0x2),_0x237d82=_0x3e7548%(-0x49*-0x69+0x174c+-0xa3*0x53);if(_0x4f4227>=0x2328+0x7cd+-0x3*0xe51&&_0x4f4227<=0xd*0x7a+-0x1*-0x1e49+0x74b*-0x5&&(_0x237d82<-0xbf0+-0x1*0x13f3+0x1fef||_0x237d82>0x20e3+-0x84f*0x3+-0x2c*0x2e))return-0x7*-0x174+0x1*0xc0b+-0x1636*0x1;if(_0x4f4227>=-0x11b*0x9+0x73c*0x3+-0x11*0xb1&&_0x4f4227<=0x1098+0x7a+0x1111*-0x1||_0x4f4227>=0x47*-0x3d+-0xce*0x2c+0x3458&&_0x4f4227<=0x1fca+-0x1f65+-0x5c||_0x237d82>=0x1cc3+0x124d+-0x2f04&&_0x237d82<=0x2*-0xfb+-0x15f2+0x1*0x17f6)return 0x3*0x71+0x86c+-0x115*0x9;}return-0x1523+0x4*-0x3d1+0x1235*0x2;}),pr(['ar'],_0xf11ab9=>{if(_0xf11ab9===-0x1a9c+0x1346+0x756*0x1)return 0x36b+-0x20bb+-0x8*-0x3aa;if(_0xf11ab9===0x4b1*0x3+-0xd9*0x9+-0x1*0x671)return-0x1a4b+-0x8*0x15e+0x253c;if(_0xf11ab9===-0xa73+-0x1c3a+0x26af)return 0x230f+-0x5d4+-0x1d39;if(Number['isInteger'](_0xf11ab9)){const _0xf2cc04=_0xf11ab9%(-0x1*-0x1921+-0x25c9+0xd0c);if(_0xf2cc04>=0xbe4+-0x21db*0x1+0x61*0x3a&&_0xf2cc04<=-0x9a2+0x1edc+0x1*-0x1530)return-0x96d+0x13f5*-0x1+0x1d65;if(_0xf2cc04>=0x1*0x1c4f+-0xad2+-0x1172&&_0xf2cc04<=0x1b16+0x6*-0x3d9+-0x39d)return-0x2fc*-0xd+-0x1da1+-0x927;}return-0x13f*-0x1+0x133f+-0x3*0x6d3;});const K1=zp[pi($h)];function Xd(_0x2c074e){return zp[_0x2c074e]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x55f0d8='',_0x4b492e='',_0x4b7a5f=null,_0x379962=null,_0x1b4f8c=null,_0x2c615d=null){this['url']=_0x55f0d8,this['filename']=_0x4b492e,this['hash']=_0x4b7a5f,this['size']=_0x379962,this['opt']=_0x1b4f8c,this['contents']=_0x2c615d;}['equals'](_0x1f1db1){return this['url']===_0x1f1db1['url']&&this['filename']===_0x1f1db1['filename']&&this['hash']===_0x1f1db1['hash']&&this['size']===_0x1f1db1['size']&&this['opt']===_0x1f1db1['opt']&&this['contents']===_0x1f1db1['contents'];}}let Q1=-(0x193*0x7+0x1*-0x125e+-0x2*-0x3ad);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},$_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x5264d5,_0xb1ee49,_0x3caca6,_0x33a2b1,_0x3668e6){super(),this['_id']=Q1--,this['_name']=_0x5264d5||'',this['type']=_0xb1ee49,this['tags']=new po(this),this['_preload']=!(0x1a3+-0x4*-0x557+-0x16fe),this['_file']=null,this['_data']=_0x33a2b1||{},this['options']=_0x3668e6||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(0xb23*-0x1+-0x7*-0x105+-0x19*-0x29),this['loading']=!(-0x2ff*0x1+-0x2121+0x2421),this['registry']=null,_0x3caca6&&(this['file']=_0x3caca6);}set['id'](_0x1931cf){this['_id']=_0x1931cf;}get['id'](){return this['_id'];}set['name'](_0x520e8b){if(this['_name']===_0x520e8b)return;const _0x2c1828=this['_name'];this['_name']=_0x520e8b,this['fire']('name',this,this['_name'],_0x2c1828);}get['name'](){return this['_name'];}set['file'](_0x51d3a1){var _0x272b80,_0x4b31c4;if(_0x51d3a1&&_0x51d3a1['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x71*-0x43+0x20ac+-0x3e3e)){const _0x38485c=((_0x4b31c4=(_0x272b80=this['registry'])==null?void(0x2518+0x5fc+-0x2b14):_0x272b80['_loader'])==null?void(0x251b+-0x17d0+-0xd4b):_0x4b31c4['_app'])||tn(),_0x48d7d=_0x38485c==null?void(-0xa74+-0x54a+-0x82*-0x1f):_0x38485c['graphicsDe'+'vice'];if(_0x48d7d)for(let _0x25b7f0=-0x5a8+0xfa7+0x9ff*-0x1,_0x4a9ed3=$_['length'];_0x25b7f0<_0x4a9ed3;_0x25b7f0++){const _0x15a46d=$_[_0x25b7f0];if(_0x51d3a1['variants'][_0x15a46d]&&_0x48d7d[J1[_0x15a46d]]){_0x51d3a1=_0x51d3a1['variants'][_0x15a46d];break;}if(_0x38485c['enableBund'+'les']){const _0x318d28=_0x38485c['bundles']['listBundle'+'sForAsset'](this);if(_0x318d28&&_0x318d28['find'](_0x47b0ca=>{var _0x5839c3;return(_0x5839c3=_0x47b0ca==null?void(0x22c2+0x1950+-0x3c12):_0x47b0ca['file'])==null?void(0x2*0x903+0x200d+-0x3213):_0x5839c3['variants'][_0x15a46d];}))break;}}}const _0x1ac64f=this['_file'],_0x2acd55=_0x51d3a1?new Z1(_0x51d3a1['url'],_0x51d3a1['filename'],_0x51d3a1['hash'],_0x51d3a1['size'],_0x51d3a1['opt'],_0x51d3a1['contents']):null;(!!_0x2acd55!=!!_0x1ac64f||_0x2acd55&&!_0x2acd55['equals'](_0x1ac64f))&&(this['_file']=_0x2acd55,this['fire']('change',this,'file',_0x2acd55,_0x1ac64f),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x3e124a){const _0x15957a=this['_data'];this['_data']=_0x3e124a,_0x3e124a!==_0x15957a&&(this['fire']('change',this,'data',_0x3e124a,_0x15957a),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x473c9c){const _0x3c4574=this['_resources'][0x15a0*0x1+0xf1*0x7+-0x1f*0xe9];this['_resources'][0x1*0x9ac+0x149*-0xe+0x852]=_0x473c9c,this['fire']('change',this,'resource',_0x473c9c,_0x3c4574);}get['resource'](){return this['_resources'][0x1445*-0x1+-0x10eb+0x770*0x5];}set['resources'](_0x5df74a){const _0x27b610=this['_resources'];this['_resources']=_0x5df74a,this['fire']('change',this,'resources',_0x5df74a,_0x27b610);}get['resources'](){return this['_resources'];}set['preload'](_0x24e400){_0x24e400=!!_0x24e400,this['_preload']!==_0x24e400&&(this['_preload']=_0x24e400,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x4bc720){_0x4bc720=!!_0x4bc720,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x4bc720!==this['_loadFaces'])&&(this['_loadFaces']=_0x4bc720,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x3c3e59=this['file'];if(!_0x3c3e59||!_0x3c3e59['url'])return null;let _0x1b41dc=_0x3c3e59['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x1b41dc)&&(_0x1b41dc=this['registry']['prefix']+_0x1b41dc),this['type']!=='script'&&_0x3c3e59['hash']){const _0x493231=_0x1b41dc['indexOf']('?')!==-(-0x13*0x182+-0x115*-0x19+0x19a)?'&':'?';_0x1b41dc+=_0x493231+'t='+_0x3c3e59['hash'];}return _0x1b41dc;}['getAbsolut'+'eUrl'](_0x24e8f6){if(_0x24e8f6['startsWith']('blob:')||_0x24e8f6['startsWith']('data:'))return _0x24e8f6;const _0x3f2915=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x3f2915,_0x24e8f6);}['getLocaliz'+'edAssetId'](_0x21631e){return _0x21631e=V0(_0x21631e,this['_i18n']),this['_i18n'][_0x21631e]||null;}['addLocaliz'+'edAssetId'](_0x53315e,_0x255eee){this['_i18n'][_0x53315e]=_0x255eee,this['fire']('add:locali'+'zed',_0x53315e,_0x255eee);}['removeLoca'+'lizedAsset'+'Id'](_0x5a7b42){const _0x3f96f2=this['_i18n'][_0x5a7b42];_0x3f96f2&&(delete this['_i18n'][_0x5a7b42],this['fire']('remove:loc'+'alized',_0x5a7b42,_0x3f96f2));}['ready'](_0x55d2a8,_0xcfea8d){_0xcfea8d=_0xcfea8d||this,this['loaded']?_0x55d2a8['call'](_0xcfea8d,this):this['once']('load',_0x45e010=>{_0x55d2a8['call'](_0xcfea8d,_0x45e010);});}['reload'](){this['loaded']&&(this['loaded']=!(0x1*-0xcaf+-0xd*-0x1dd+-0xb89),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x397+-0xe57*-0x1+-0xac0)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0xdb61df=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0xd64+-0x71b+0x1480),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x1536c9=-0x966*0x1+0x1ece*-0x1+-0x3e*-0xa6;_0x1536c9<_0xdb61df['length'];++_0x1536c9){const _0x1566f3=_0xdb61df[_0x1536c9];_0x1566f3&&_0x1566f3['destroy']&&_0x1566f3['destroy']();}}static['fetchArray'+'Buffer'](_0x30732a,_0x10250b,_0x2554b2,_0x46cfb3=-0x1533+-0x2*0x426+0x1d7f){var _0xc026f6;(_0xc026f6=_0x2554b2==null?void(0xd5b+-0x3*0xfb+-0xa6a):_0x2554b2['file'])!=null&&_0xc026f6['contents']?setTimeout(()=>{_0x10250b(null,_0x2554b2['file']['contents']);}):We['get'](_0x30732a,{'cache':!(0xe7f*-0x1+0x58f*0x2+0x361),'responseType':'arraybuffe'+'r','retry':_0x46cfb3>-0x223*0x1+0x1*0x16ec+-0x14c9,'maxRetries':_0x46cfb3},_0x10250b);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x23a04b=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x23a04b;}['addItem'](_0x1f1bcb){const _0x1bef14=_0x1f1bcb['tags']['_list'];for(const _0x127594 of _0x1bef14)this['add'](_0x127594,_0x1f1bcb);}['removeItem'](_0x5146b5){const _0x54580c=_0x5146b5['tags']['_list'];for(const _0x38d18a of _0x54580c)this['remove'](_0x38d18a,_0x5146b5);}['add'](_0x505b19,_0x5ad0d9){this['_index'][_0x505b19]&&this['_index'][_0x505b19]['list']['indexOf'](_0x5ad0d9)!==-(0x6*0x4e3+0x2147+-0x3e98)||(this['_index'][_0x505b19]||(this['_index'][_0x505b19]={'list':[]},this['_key']&&(this['_index'][_0x505b19]['keys']={})),this['_index'][_0x505b19]['list']['push'](_0x5ad0d9),this['_key']&&(this['_index'][_0x505b19]['keys'][_0x5ad0d9[this['_key']]]=_0x5ad0d9));}['remove'](_0x53bcaf,_0x1cefab){if(!this['_index'][_0x53bcaf]||this['_key']&&!this['_index'][_0x53bcaf]['keys'][_0x1cefab[this['_key']]])return;const _0x56ae41=this['_index'][_0x53bcaf]['list']['indexOf'](_0x1cefab);_0x56ae41!==-(-0x13b6+0x423+0xf94)&&(this['_index'][_0x53bcaf]['list']['splice'](_0x56ae41,-0x15a8+-0x1*0x206b+-0x2*-0x1b0a),this['_key']&&delete this['_index'][_0x53bcaf]['keys'][_0x1cefab[this['_key']]],this['_index'][_0x53bcaf]['list']['length']===0xa3*-0x1f+-0xf95+0x2352&&delete this['_index'][_0x53bcaf]);}['find'](_0x23aa5f){const _0x2d8a3a={},_0x567376=[];let _0x1481f6,_0x5386f5,_0x3ec608,_0x5c0b7d,_0x365502;const _0x59aba3=(_0x24e851,_0x30a240)=>this['_index'][_0x24e851]['list']['length']-this['_index'][_0x30a240]['list']['length'];for(let _0x345a12=0x1f84*0x1+0x1bb0*-0x1+-0x3d4;_0x345a12<_0x23aa5f['length'];_0x345a12++){if(_0x5386f5=_0x23aa5f[_0x345a12],_0x5386f5 instanceof Array){if(_0x5386f5['length']===-0x18b*-0x6+0x2483+-0x2dc5)continue;if(_0x5386f5['length']===0x12ee+-0x2f9*-0xd+-0x2*0x1cc9)_0x5386f5=_0x5386f5[-0x857*-0x1+-0x22*0x1f+-0x2f*0x17];else{_0x365502=!(0x21c9+0x1a70+-0x3c38);for(let _0x1d3346=-0x8*-0xae+0x168f+-0x1*0x1bff;_0x1d3346<_0x5386f5['length'];_0x1d3346++)if(!this['_index'][_0x5386f5[_0x1d3346]]){_0x365502=!(0xdac+-0x7bd+0x5ef*-0x1);break;}if(_0x365502)continue;_0x3ec608=_0x5386f5['slice'](-0x1f11+-0x219c+-0x1*-0x40ad)['sort'](_0x59aba3),_0x5c0b7d=_0x3ec608['slice'](0xbc*0x1b+-0x16e9+-0x5*-0x9e),_0x5c0b7d['length']===0x6b9+-0x2273*-0x1+0xdb9*-0x3&&(_0x5c0b7d=_0x5c0b7d[0x1bdc+0x6*-0xd9+0x16c6*-0x1]);for(let _0x2de496=0xd09+-0x3d+-0xccc;_0x2de496<this['_index'][_0x3ec608[-0x1aac+0x121e+0x88e]]['list']['length'];_0x2de496++)_0x1481f6=this['_index'][_0x3ec608[-0x9*0x1be+-0xa04+0x19b2]]['list'][_0x2de496],(this['_key']?!_0x2d8a3a[_0x1481f6[this['_key']]]:_0x567376['indexOf'](_0x1481f6)===-(-0x17*0x16b+0x66e+0x1a30))&&_0x1481f6['tags']['has'](_0x5c0b7d)&&(this['_key']&&(_0x2d8a3a[_0x1481f6[this['_key']]]=!(-0x2058+0x1*-0x1b21+0x3f7*0xf)),_0x567376['push'](_0x1481f6));continue;}}if(_0x5386f5&&typeof _0x5386f5=='string'&&this['_index'][_0x5386f5]){for(let _0x26e09f=0x1*-0xa4a+0x1b2+0x898;_0x26e09f<this['_index'][_0x5386f5]['list']['length'];_0x26e09f++)_0x1481f6=this['_index'][_0x5386f5]['list'][_0x26e09f],this['_key']?_0x2d8a3a[_0x1481f6[this['_key']]]||(_0x2d8a3a[_0x1481f6[this['_key']]]=!(-0xc39+-0xa91+0x16ca),_0x567376['push'](_0x1481f6)):_0x567376['indexOf'](_0x1481f6)===-(0xbe8+0x56*-0x74+0xd*0x215)&&_0x567376['push'](_0x1481f6);}}return _0x567376;}}class ao extends ce{constructor(_0x565d69){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x565d69;}['list'](_0x26e139={}){const _0x2d071d=Array['from'](this['_assets']);return _0x26e139['preload']!==void(0x25*-0x94+0x1*-0xab2+-0x2016*-0x1)?_0x2d071d['filter'](_0x36c00f=>_0x36c00f['preload']===_0x26e139['preload']):_0x2d071d;}['add'](_0x5c249e){var _0x15740f,_0x5f5c96;this['_assets']['has'](_0x5c249e)||(this['_assets']['add'](_0x5c249e),this['_idToAsset']['set'](_0x5c249e['id'],_0x5c249e),(_0x15740f=_0x5c249e['file'])!=null&&_0x15740f['url']&&this['_urlToAsse'+'t']['set'](_0x5c249e['file']['url'],_0x5c249e),this['_nameToAss'+'et']['has'](_0x5c249e['name'])||this['_nameToAss'+'et']['set'](_0x5c249e['name'],new Set()),this['_nameToAss'+'et']['get'](_0x5c249e['name'])['add'](_0x5c249e),_0x5c249e['on']('name',this['_onNameCha'+'nge'],this),_0x5c249e['registry']=this,this['_tags']['addItem'](_0x5c249e),_0x5c249e['tags']['on']('add',this['_onTagAdd'],this),_0x5c249e['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x5c249e),this['fire']('add:'+_0x5c249e['id'],_0x5c249e),(_0x5f5c96=_0x5c249e['file'])!=null&&_0x5f5c96['url']&&this['fire']('add:url:'+_0x5c249e['file']['url'],_0x5c249e),_0x5c249e['preload']&&this['load'](_0x5c249e));}['remove'](_0xd132aa){var _0x5de707,_0x593891;if(!this['_assets']['has'](_0xd132aa))return!(-0x235e+0x45e*-0x1+0x27bd);if(this['_assets']['delete'](_0xd132aa),this['_idToAsset']['delete'](_0xd132aa['id']),(_0x5de707=_0xd132aa['file'])!=null&&_0x5de707['url']&&this['_urlToAsse'+'t']['delete'](_0xd132aa['file']['url']),_0xd132aa['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0xd132aa['name'])){const _0xa8fafc=this['_nameToAss'+'et']['get'](_0xd132aa['name']);_0xa8fafc['delete'](_0xd132aa),_0xa8fafc['size']===-0x16b2+0xf5*-0x1+0x17a7&&this['_nameToAss'+'et']['delete'](_0xd132aa['name']);}return this['_tags']['removeItem'](_0xd132aa),_0xd132aa['tags']['off']('add',this['_onTagAdd'],this),_0xd132aa['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0xd132aa['fire']('remove',_0xd132aa),this['fire']('remove',_0xd132aa),this['fire']('remove:'+_0xd132aa['id'],_0xd132aa),(_0x593891=_0xd132aa['file'])!=null&&_0x593891['url']&&this['fire']('remove:url'+':'+_0xd132aa['file']['url'],_0xd132aa),!(0x2ef*0x3+0x119+0x2*-0x4f3);}['get'](_0x225575){return this['_idToAsset']['get'](Number(_0x225575));}['getByUrl'](_0x22e16d){return this['_urlToAsse'+'t']['get'](_0x22e16d);}['load'](_0x313be0,_0x280e6b){if((_0x313be0['loading']||_0x313be0['loaded'])&&!(_0x280e6b!=null&&_0x280e6b['force']))return;const _0x35254f=_0x313be0['file'],_0x14fcbc=()=>{this['fire']('load',_0x313be0),this['fire']('load:'+_0x313be0['id'],_0x313be0),_0x35254f&&_0x35254f['url']&&this['fire']('load:url:'+_0x35254f['url'],_0x313be0),_0x313be0['fire']('load',_0x313be0);},_0x36a2be=_0x2f1a37=>{if(_0x2f1a37 instanceof Array?_0x313be0['resources']=_0x2f1a37:_0x313be0['resource']=_0x2f1a37,this['_loader']['patch'](_0x313be0,this),_0x313be0['type']==='bundle'){const _0x3f0aa5=_0x313be0['data']['assets'];for(let _0xa263af=0x2*-0x27a+-0x293*-0x4+-0x558;_0xa263af<_0x3f0aa5['length'];_0xa263af++){const _0xc35cb0=this['_idToAsset']['get'](_0x3f0aa5[_0xa263af]);_0xc35cb0&&!_0xc35cb0['loaded']&&this['load'](_0xc35cb0,{'force':!(0x1*0x3d+0x757+-0x14*0x61)});}_0x313be0['resource']['loaded']?_0x14fcbc():(this['fire']('load:start',_0x313be0),this['fire']('load:start'+':'+_0x313be0['id'],_0x313be0),_0x35254f&&_0x35254f['url']&&this['fire']('load:start'+':url:'+_0x35254f['url'],_0x313be0),_0x313be0['fire']('load:start',_0x313be0),_0x313be0['resource']['on']('load',_0x14fcbc));}else _0x14fcbc();},_0x5e241=(_0x4ed803,_0x2aeba4,_0x23a62d)=>{if(_0x313be0['loaded']=!(0xd6d*0x1+-0x5f4+-0x779),_0x313be0['loading']=!(-0xbe4+-0x15a8+0x218d),_0x4ed803)this['fire']('error',_0x4ed803,_0x313be0),this['fire']('error:'+_0x313be0['id'],_0x4ed803,_0x313be0),_0x313be0['fire']('error',_0x4ed803,_0x313be0);else{if(_0x313be0['type']==='script'){const _0x482301=this['_loader']['getHandler']('script');_0x482301['_cache'][_0x313be0['id']]&&_0x482301['_cache'][_0x313be0['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x482301['_cache'][_0x313be0['id']]),_0x482301['_cache'][_0x313be0['id']]=_0x23a62d;}_0x36a2be(_0x2aeba4);}};if(_0x35254f||_0x313be0['type']==='cubemap'){this['fire']('load:start',_0x313be0),this['fire']('load:'+_0x313be0['id']+':start',_0x313be0),_0x313be0['loading']=!(0x187*0x6+0x89*-0x5+-0x67d*0x1);const _0x149106=_0x313be0['getFileUrl']();if(_0x313be0['type']==='bundle'){const _0x57df9d=_0x313be0['data']['assets'];for(let _0x4cd32e=-0x1*0x120b+0x1*-0x16d+0x1378*0x1;_0x4cd32e<_0x57df9d['length'];_0x4cd32e++){const _0x232d08=this['_idToAsset']['get'](_0x57df9d[_0x4cd32e]);_0x232d08&&(_0x232d08['loaded']||_0x232d08['resource']||_0x232d08['loading']||(_0x232d08['loading']=!(-0x23af+-0x400*-0x8+0x3af)));}}this['_loader']['load'](_0x149106,_0x313be0['type'],_0x5e241,_0x313be0,_0x280e6b);}else{const _0x3b78af=this['_loader']['open'](_0x313be0['type'],_0x313be0['data']);_0x313be0['loaded']=!(0x3*0x9ff+0x771+-0x256e),_0x36a2be(_0x3b78af);}}['loadFromUr'+'l'](_0x4eb37a,_0x33fc83,_0x1f93a1){this['loadFromUr'+'lAndFilena'+'me'](_0x4eb37a,null,_0x33fc83,_0x1f93a1);}['loadFromUr'+'lAndFilena'+'me'](_0x21660f,_0xc7c215,_0x1454f2,_0x208716){const _0x3cee67=fe['getBasenam'+'e'](_0xc7c215||_0x21660f),_0x3496d4={'filename':_0xc7c215||_0x3cee67,'url':_0x21660f};let _0x2fe0e6=this['getByUrl'](_0x21660f);if(!_0x2fe0e6)_0x2fe0e6=new le(_0x3cee67,_0x1454f2,_0x3496d4),this['add'](_0x2fe0e6);else{if(_0x2fe0e6['loaded']){_0x208716(_0x2fe0e6['loadFromUr'+'lError']||null,_0x2fe0e6);return;}}const _0x59670a=_0x3aa807=>{_0x3aa807['once']('load',_0x54e53e=>{_0x1454f2==='material'?this['_loadTextu'+'res'](_0x54e53e,(_0x46c2dd,_0x439722)=>{_0x208716(_0x46c2dd,_0x54e53e);}):_0x208716(null,_0x54e53e);}),_0x3aa807['once']('error',_0x1e7a97=>{_0x1e7a97&&(this['loadFromUr'+'lError']=_0x1e7a97),_0x208716(_0x1e7a97,_0x3aa807);}),this['load'](_0x3aa807);};_0x2fe0e6['resource']?_0x208716(null,_0x2fe0e6):_0x1454f2==='model'?this['_loadModel'](_0x2fe0e6,_0x59670a):_0x59670a(_0x2fe0e6);}['_loadModel'](_0x3fbe36,_0x7537e1){const _0x2bf0d0=_0x3fbe36['getFileUrl'](),_0x1ea781=fe['getExtensi'+'on'](_0x2bf0d0);if(_0x1ea781==='.json'||_0x1ea781==='.glb'){const _0x3a3cae=fe['getDirecto'+'ry'](_0x2bf0d0),_0x4e89f7=fe['getBasenam'+'e'](_0x2bf0d0),_0x3a3f6f=fe['join'](_0x3a3cae,_0x4e89f7['replace'](_0x1ea781,'.mapping.j'+'son'));this['_loader']['load'](_0x3a3f6f,'json',(_0x53dabd,_0x2afa2a)=>{_0x53dabd?(_0x3fbe36['data']={'mapping':[]},_0x7537e1(_0x3fbe36)):this['_loadMater'+'ials'](_0x3fbe36,_0x2afa2a,(_0x3c63e0,_0x3b36af)=>{_0x3fbe36['data']=_0x2afa2a,_0x7537e1(_0x3fbe36);});});}else _0x7537e1(_0x3fbe36);}['_loadMater'+'ials'](_0x34dd35,_0x377fae,_0x3e1bed){const _0x13d3c9=[];let _0x2b3539=-0x992+-0x6fb*-0x3+-0xb5f;const _0x5c3b42=(_0x2c8c0d,_0x360a2c)=>{this['_loadTextu'+'res'](_0x360a2c,(_0x58bba3,_0x276208)=>{_0x13d3c9['push'](_0x360a2c),_0x13d3c9['length']===_0x2b3539&&_0x3e1bed(null,_0x13d3c9);});};for(let _0x2cd323=0x599*-0x5+-0x6*-0x577+0x4cd*-0x1;_0x2cd323<_0x377fae['mapping']['length'];_0x2cd323++){const _0x36ddb5=_0x377fae['mapping'][_0x2cd323]['path'];if(_0x36ddb5){_0x2b3539++;const _0x3ea7be=_0x34dd35['getAbsolut'+'eUrl'](_0x36ddb5);this['loadFromUr'+'l'](_0x3ea7be,'material',_0x5c3b42);}}_0x2b3539===-0x1709+0xd2b+-0x2*-0x4ef&&_0x3e1bed(null,_0x13d3c9);}['_loadTextu'+'res'](_0x5b77f4,_0x5888d8){const _0x2b76ea=[];let _0x4c6789=0x1*0x2173+-0x44f+0x14*-0x175;const _0x125fbe=_0x5b77f4['data'];if(_0x125fbe['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x5b77f4['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x5888d8(null,_0x2b76ea);return;}const _0x45a31d=(_0x28da85,_0x1d94d7)=>{_0x28da85&&console['error'](_0x28da85),_0x2b76ea['push'](_0x1d94d7),_0x2b76ea['length']===_0x4c6789&&_0x5888d8(null,_0x2b76ea);},_0x4d9186=Kc;for(let _0x40dce6=-0x18*0xc4+0x1*0xce5+0x3d*0x17;_0x40dce6<_0x4d9186['length'];_0x40dce6++){const _0x34091d=_0x125fbe[_0x4d9186[_0x40dce6]];if(_0x34091d&&typeof _0x34091d=='string'){_0x4c6789++;const _0x1e1af1=_0x5b77f4['getAbsolut'+'eUrl'](_0x34091d);this['loadFromUr'+'l'](_0x1e1af1,'texture',_0x45a31d);}}_0x4c6789===0x132*0x5+-0x1104+-0x9d*-0x12&&_0x5888d8(null,_0x2b76ea);}['_onTagAdd'](_0x15329c,_0x2f7cf1){this['_tags']['add'](_0x15329c,_0x2f7cf1);}['_onTagRemo'+'ve'](_0x12d4c5,_0x23d9ed){this['_tags']['remove'](_0x12d4c5,_0x23d9ed);}['_onNameCha'+'nge'](_0x1e5a8c,_0x578c98,_0x27ded9){if(this['_nameToAss'+'et']['has'](_0x27ded9)){const _0x35abb6=this['_nameToAss'+'et']['get'](_0x27ded9);_0x35abb6['delete'](_0x1e5a8c),_0x35abb6['size']===0xe5*-0x25+-0x43*-0x7c+-0x5*-0x21&&this['_nameToAss'+'et']['delete'](_0x27ded9);}this['_nameToAss'+'et']['has'](_0x1e5a8c['name'])||this['_nameToAss'+'et']['set'](_0x1e5a8c['name'],new Set()),this['_nameToAss'+'et']['get'](_0x1e5a8c['name'])['add'](_0x1e5a8c);}['findByTag'](..._0x3f8b51){return this['_tags']['find'](_0x3f8b51);}['filter'](_0x3f23f9){return Array['from'](this['_assets'])['filter'](_0x22de3c=>_0x3f23f9(_0x22de3c));}['find'](_0x514cd1,_0x2529f6){const _0xe9c364=this['_nameToAss'+'et']['get'](_0x514cd1);if(!_0xe9c364)return null;for(const _0x5256d6 of _0xe9c364)if(!_0x2529f6||_0x5256d6['type']===_0x2529f6)return _0x5256d6;return null;}['findAll'](_0x2ec89f,_0x35e0e8){const _0x3f8ce7=this['_nameToAss'+'et']['get'](_0x2ec89f);if(!_0x3f8ce7)return[];const _0x18ca50=Array['from'](_0x3f8ce7);return _0x35e0e8?_0x18ca50['filter'](_0x4973ce=>_0x4973ce['type']===_0x35e0e8):_0x18ca50;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x151d76){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x151d76,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0xe9e962){if(_0xe9e962['type']==='bundle'){this['_idToBundl'+'e']['set'](_0xe9e962['id'],_0xe9e962),this['_assets']['on']('load:start'+':'+_0xe9e962['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0xe9e962['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0xe9e962['id'],this['_onBundleE'+'rror'],this);const _0x2f8ab1=_0xe9e962['data']['assets'];for(let _0x2aaf4f=-0x19cb+0x8f8+0x10d3;_0x2aaf4f<_0x2f8ab1['length'];_0x2aaf4f++)this['_indexAsse'+'tInBundle'](_0x2f8ab1[_0x2aaf4f],_0xe9e962);}else this['_assetToBu'+'ndles']['has'](_0xe9e962['id'])&&this['_indexAsse'+'tFileUrls'](_0xe9e962);}['_unbindAss'+'etEvents'](_0x21c6d9){this['_assets']['off']('load:start'+':'+_0x21c6d9,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x21c6d9,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x21c6d9,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x2e1fa3,_0x371f06){let _0x5f2ef2=this['_assetToBu'+'ndles']['get'](_0x2e1fa3);_0x5f2ef2||(_0x5f2ef2=new Set(),this['_assetToBu'+'ndles']['set'](_0x2e1fa3,_0x5f2ef2)),_0x5f2ef2['add'](_0x371f06);const _0x1abd0f=this['_assets']['get'](_0x2e1fa3);_0x1abd0f&&this['_indexAsse'+'tFileUrls'](_0x1abd0f);}['_indexAsse'+'tFileUrls'](_0x3f7672){const _0x1c4599=this['_getAssetF'+'ileUrls'](_0x3f7672);if(_0x1c4599)for(let _0x42e641=0x720+0x16*0xd2+-0x192c;_0x42e641<_0x1c4599['length'];_0x42e641++){const _0x373211=this['_assetToBu'+'ndles']['get'](_0x3f7672['id']);_0x373211&&this['_urlsToBun'+'dles']['set'](_0x1c4599[_0x42e641],_0x373211);}}['_getAssetF'+'ileUrls'](_0x376a17){let _0x47fcf7=_0x376a17['getFileUrl']();if(!_0x47fcf7)return null;_0x47fcf7=_0x47fcf7['split']('?')[-0x2*-0xbf5+0x1*-0x121+-0x16c9];const _0x64443d=[_0x47fcf7];if(_0x376a17['type']==='font'){const _0xe3e1e4=_0x376a17['data']['info']['maps']['length'];for(let _0x527801=0x2*-0x6c7+-0x1ff*-0xb+-0x866;_0x527801<_0xe3e1e4;_0x527801++)_0x64443d['push'](_0x47fcf7['replace']('.png',_0x527801+'.png'));}return _0x64443d;}['_onAssetRe'+'move'](_0x2e3b93){if(_0x2e3b93['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x2e3b93['id']),this['_unbindAss'+'etEvents'](_0x2e3b93['id']);const _0x4e177a=_0x2e3b93['data']['assets'];for(let _0x271da4=0x1a3a+0x1a46*-0x1+0x1*0xc;_0x271da4<_0x4e177a['length'];_0x271da4++){const _0x5c29ee=this['_assetToBu'+'ndles']['get'](_0x4e177a[_0x271da4]);if(_0x5c29ee&&(_0x5c29ee['delete'](_0x2e3b93),_0x5c29ee['size']===0x2*-0x94e+-0x1*-0x1982+-0x6e6)){this['_assetToBu'+'ndles']['delete'](_0x4e177a[_0x271da4]);for(const [_0x40b1fe,_0x535d61]of this['_urlsToBun'+'dles'])_0x535d61===_0x5c29ee&&this['_urlsToBun'+'dles']['delete'](_0x40b1fe);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x2e3b93['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x2e3b93['id']))return;this['_assetToBu'+'ndles']['delete'](_0x2e3b93['id']);const _0x25ea64=this['_getAssetF'+'ileUrls'](_0x2e3b93);if(!_0x25ea64)return;for(let _0x3fcdd1=-0x34e*-0x4+0x134d+-0x3*0xad7;_0x3fcdd1<_0x25ea64['length'];_0x3fcdd1++)this['_urlsToBun'+'dles']['delete'](_0x25ea64[_0x3fcdd1]);}}['_onBundleL'+'oadStart'](_0x1e7b3b){_0x1e7b3b['resource']['on']('add',(_0xc3f28d,_0x2a84c0)=>{const _0x25be70=this['_fileReque'+'sts']['get'](_0xc3f28d);if(_0x25be70){for(let _0x18d29c=0xeb9+-0x1000+0x147;_0x18d29c<_0x25be70['length'];_0x18d29c++)_0x25be70[_0x18d29c](null,_0x2a84c0);this['_fileReque'+'sts']['delete'](_0xc3f28d);}});}['_onBundleL'+'oad'](_0xa22985){if(!_0xa22985['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0xa22985['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x39e1d2,_0x57a3bd]of this['_fileReque'+'sts']){const _0x3b80cf=this['_urlsToBun'+'dles']['get'](_0x39e1d2);if(!_0x3b80cf||!_0x3b80cf['has'](_0xa22985))continue;const _0x2d9799=decodeURIComponent(_0x39e1d2);let _0x3e6b17,_0x452184;if(_0xa22985['resource']['has'](_0x2d9799))_0x452184=_0xa22985['resource']['get'](_0x2d9799);else{if(_0xa22985['resource']['loaded'])_0x3e6b17='Bundle\x20'+_0xa22985['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x39e1d2;else continue;}for(let _0x5e7464=-0x9eb*0x3+0xc87+0x113a;_0x5e7464<_0x57a3bd['length'];_0x5e7464++)_0x57a3bd[_0x5e7464](_0x3e6b17,_0x3e6b17||_0x452184);this['_fileReque'+'sts']['delete'](_0x39e1d2);}}['_onBundleE'+'rror'](_0x5de6e2){for(const [_0x35acc6,_0x214eb3]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x35acc6)){for(let _0x58e8e=-0x1eb9+0x2143+0x32*-0xd;_0x58e8e<_0x214eb3['length'];_0x58e8e++)_0x214eb3[_0x58e8e](_0x5de6e2);this['_fileReque'+'sts']['delete'](_0x35acc6);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5a9c29){const _0x279acd=this['_urlsToBun'+'dles']['get'](_0x5a9c29);if(!_0x279acd)return null;let _0x250a76=null;for(const _0x27bb4d of _0x279acd){if(_0x27bb4d['loaded']&&_0x27bb4d['resource'])return _0x27bb4d;_0x27bb4d['loading']&&(_0x250a76=_0x27bb4d);}return _0x250a76;}['listBundle'+'sForAsset'](_0x1cdc39){const _0x7e7850=this['_assetToBu'+'ndles']['get'](_0x1cdc39['id']);return _0x7e7850?Array['from'](_0x7e7850):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x5e8013){return this['_urlsToBun'+'dles']['has'](_0x5e8013);}['urlIsLoade'+'dOrLoading'](_0x300562){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x300562);}['loadUrl'](_0x5094bb,_0x719b82){const _0x1ce648=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x5094bb);if(!_0x1ce648){_0x719b82('URL\x20'+_0x5094bb+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x1ce648['loaded']){const _0x2258ae=decodeURIComponent(_0x5094bb);if(_0x1ce648['resource']['has'](_0x2258ae)){_0x719b82(null,_0x1ce648['resource']['get'](_0x2258ae));return;}else{if(_0x1ce648['resource']['loaded']){_0x719b82('Bundle\x20'+_0x1ce648['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x5094bb);return;}}}let _0x19cec2=this['_fileReque'+'sts']['get'](_0x5094bb);_0x19cec2||(_0x19cec2=[],this['_fileReque'+'sts']['set'](_0x5094bb,_0x19cec2)),_0x19cec2['push'](_0x719b82);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x4e0528 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x4e0528);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x21d82e){const _0x5e081c=_0x21d82e['id'];if(this[_0x5e081c])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x5e081c+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x5e081c]=_0x21d82e,this['list']['push'](_0x21d82e);}['remove'](_0xfb322b){const _0x35acf5=_0xfb322b['id'];if(!this[_0x35acf5])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x35acf5+('\x27\x20register'+'ed'));delete this[_0x35acf5];const _0x20e0bc=this['list']['indexOf'](this[_0x35acf5]);_0x20e0bc!==-(-0x23f2+0x25d1*0x1+-0x1de)&&this['list']['splice'](_0x20e0bc,0xb*-0x274+0x1183+0x97a);}['destroy'](){this['off']();for(let _0x4670ed=-0xaad*-0x3+0xd*-0xc3+-0x2c4*0x8;_0x4670ed<this['list']['length'];_0x4670ed++)this['list'][_0x4670ed]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(0x1*0x22ee+-0x11cf+-0x111e));}['addFile'](_0x5428b7,_0x3bd20c){this['_index']['has'](_0x5428b7)||(this['_index']['set'](_0x5428b7,_0x3bd20c),this['fire']('add',_0x5428b7,_0x3bd20c));}['has'](_0xa8aebc){return this['_index']['has'](_0xa8aebc);}['get'](_0x4b9a8f){return this['_index']['get'](_0x4b9a8f)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x236159){!_0x236159||this['_loaded']||(this['_loaded']=!(-0x200c+-0x43a+-0x2*-0x1223),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x2b966e,_0x4cc182=''){super(),c(this,'headerSize',-0x1*0x188f+0x1*0x1bfe+-0x16f),c(this,'paddingSiz'+'e',-0x61a+-0x388+0xba2),c(this,'bytesRead',-0x251d+0x30+0x24ed),c(this,'bytesRecei'+'ved',-0xaa1+-0x9*0x3f8+0x2e59),c(this,'headerRead',!(-0xe5b+-0x11fa+0x2056)),c(this,'reader',null),c(this,'data',new Uint8Array(0x1f71+0x25c0*-0x1+-0x55*-0x13)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0x184*-0x9+0xef+0xcb5),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x4cc182||'',this['reader']=_0x2b966e['body']['getReader'](),this['reader']['read']()['then'](_0x2d53ef=>{this['pump'](_0x2d53ef['done'],_0x2d53ef['value']);})['catch'](_0x4828eb=>{this['fire']('error',_0x4828eb);}));}['pump'](_0x48113d,_0xef69e2){if(_0x48113d)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0xef69e2['byteLength'];const _0x4d9906=new Uint8Array(this['data']['length']+_0xef69e2['length']);for(_0x4d9906['set'](this['data']),_0x4d9906['set'](_0xef69e2,this['data']['length']),this['data']=_0x4d9906;this['readFile'](););return this['reader']['read']()['then'](_0x2a23d8=>{this['pump'](_0x2a23d8['done'],_0x2a23d8['value']);})['catch'](_0x475812=>{this['fire']('error',_0x475812);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x1*0x5f3+-0x3ba+0x239*-0x1);const _0x59b1b4=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x1887fe=this['decoder']['decode'](_0x59b1b4);if(this['fileName']=_0x1887fe['substring'](-0x18e4+0x273*-0x2+0x1f*0xf6,-0x77f*0x4+-0x96+0x6*0x529)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x1887fe['substring'](-0x1aaa+-0x1f*0x135+0x1*0x4091,0x1*-0x239c+0x2d0+-0x13c*-0x1b),-0x162+0xb7a*-0x2+0x1*0x185e),this['fileType']=_0x1887fe['substring'](0xec*0x10+-0x3e6*-0x1+0x120a*-0x1,0xac3+0x61*-0x1+0x3d*-0x29),this['ustarForma'+'t']=_0x1887fe['substring'](0x1487+-0x2*-0x16a+-0x165a,0x1861*-0x1+-0x14e4+0x2e4c),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x1b2*0x7+-0x18d4+0x24b3)){const _0x405df3=_0x1887fe['substring'](-0x1*0x182+-0x70a+0x9e5,-0xda9*0x2+0x25*0x58+-0x146*-0xd)['replace'](/\0/g,'');_0x405df3['length']>0x26bc+0x16d0+-0x1a*0x25e&&(this['fileName']=_0x405df3['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0xd9f+-0x10f5+-0x116*-0x1e;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0x24cd*0x1+-0x820+-0x1677*-0x2);if(this['fileType']===''||this['fileType']==='0'){const _0x8337b0=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x198387={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x8337b0};this['fire']('file',_0x198387);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x7*0x65+0x1*0x12d+0x197);const _0x57f6a9=this['bytesRead']%this['paddingSiz'+'e'];return _0x57f6a9!==0x1b05+0x13*0x59+-0x21a0&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x57f6a9),!(0x1448+0x1a0+-0x15e8);}return!(-0x7bc+-0x146+-0x1*-0x903);}}class Ne{constructor(_0x3bfe7c,_0x30446f){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',0x35d+-0x1*0x1e5d+0x80*0x36),(this['_app']=_0x3bfe7c,this['handlerTyp'+'e']=_0x30446f);}set['maxRetries'](_0x340d4d){this['_maxRetrie'+'s']=_0x340d4d;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0xfddcb8,_0xfef5c4,_0x3e8072){}['open'](_0x501a9c,_0x2b4d38,_0x228ceb){return _0x2b4d38;}['patch'](_0xc07683,_0x31ada7){}}class rP extends Ne{constructor(_0x1486b6){super(_0x1486b6,'bundle'),this['_assets']=_0x1486b6['assets'];}['_fetchRetr'+'ies'](_0x19a248,_0x598d1f,_0x2964a0=0xb54+-0x138*-0x2+-0xdc4){return new Promise((_0x1503c0,_0x16005b)=>{const _0x5437af=()=>{fetch(_0x19a248,_0x598d1f)['then'](_0x1503c0)['catch'](_0x25233c=>{_0x2964a0++,_0x2964a0<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x2964a0),_0x5437af()):_0x16005b(_0x25233c);});};_0x5437af();});}['load'](_0x1ca1e7,_0x418bb2){typeof _0x1ca1e7=='string'&&(_0x1ca1e7={'load':_0x1ca1e7,'original':_0x1ca1e7}),this['_fetchRetr'+'ies'](_0x1ca1e7['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x204604=>{const _0x4a24ab=new Xu();_0x418bb2(null,_0x4a24ab);const _0x1c571d=new iP(_0x204604,this['_assets']['prefix']);_0x1c571d['on']('file',_0x195c89=>{_0x4a24ab['addFile'](_0x195c89['name'],_0x195c89['data']);}),_0x1c571d['on']('done',()=>{_0x4a24ab['loaded']=!(0x1c*-0xca+0x211b+-0xb03);}),_0x1c571d['on']('error',_0x44b635=>{v['error'](_0x44b635),_0x418bb2(_0x44b635);});})['catch'](_0x13161f=>{v['error'](_0x13161f),_0x418bb2(_0x13161f);});}['open'](_0x2ae12c,_0x24daff){return _0x24daff;}}class pa{constructor(_0x2ed6cf){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x2ed6cf;}['addHandler'](_0x30b565,_0x5307b1){this['_handlers'][_0x30b565]=_0x5307b1,_0x5307b1['_loader']=this;}['removeHand'+'ler'](_0xe2a695){delete this['_handlers'][_0xe2a695];}['getHandler'](_0x338e5e){return this['_handlers'][_0x338e5e];}static['makeKey'](_0x35e5c9,_0x2137a0){return _0x35e5c9+'-'+_0x2137a0;}['load'](_0x4d18da,_0x4bcd8c,_0x435fff,_0x4c10f1,_0x28be81){var _0x439be6;const _0x317abb=this['_handlers'][_0x4bcd8c];if(!_0x317abb){const _0x55ff49='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x4bcd8c+('\x27\x20when\x20loa'+'ding\x20[')+_0x4d18da+']';v['errorOnce'](_0x55ff49),_0x435fff(_0x55ff49);return;}if(!_0x4d18da){this['_loadNull'](_0x317abb,_0x435fff,_0x4c10f1);return;}const _0x5ef884=pa['makeKey'](_0x4d18da,_0x4bcd8c);if(this['_cache'][_0x5ef884]!==void(-0x27+-0x3cb*0x8+0x1e7f))_0x435fff(null,this['_cache'][_0x5ef884]);else{if(this['_requests'][_0x5ef884])this['_requests'][_0x5ef884]['push'](_0x435fff);else{this['_requests'][_0x5ef884]=[_0x435fff];const _0x179a64=this,_0x4dd3ba=function(_0x85d667,_0xe47a67){if(_0x85d667){_0x179a64['_onFailure'](_0x5ef884,_0x85d667);return;}if(_0xe47a67['load']instanceof DataView){if(_0x317abb['openBinary']){if(!_0x179a64['_requests'][_0x5ef884])return;try{const _0x499955=_0x317abb['openBinary'](_0xe47a67['load']);_0x179a64['_onSuccess'](_0x5ef884,_0x499955);}catch(_0x5a99b7){_0x179a64['_onFailure'](_0x5ef884,_0x5a99b7);}return;}_0xe47a67['load']=URL['createObje'+'ctURL'](new Blob([_0xe47a67['load']])),_0x4c10f1&&(_0x4c10f1['urlObject']&&URL['revokeObje'+'ctURL'](_0x4c10f1['urlObject']),_0x4c10f1['urlObject']=_0xe47a67['load']);}_0x317abb['load'](_0xe47a67,(_0x4bfae1,_0x2580b0,_0x44f946)=>{if(_0x179a64['_requests'][_0x5ef884]){if(_0x4bfae1){_0x179a64['_onFailure'](_0x5ef884,_0x4bfae1);return;}try{_0x179a64['_onSuccess'](_0x5ef884,_0x317abb['open'](_0xe47a67['original'],_0x2580b0,_0x4c10f1),_0x44f946);}catch(_0x460ae7){_0x179a64['_onFailure'](_0x5ef884,_0x460ae7);}}},_0x4c10f1);},_0x57f7da=_0x4d18da['split']('?')[-0x178b+-0x25da+0x3d65];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x57f7da)&&!(_0x28be81&&_0x28be81['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x57f7da)){const _0x2adf89=this['_app']['bundles']['listBundle'+'sForAsset'](_0x4c10f1);let _0x4b27ac;_0x28be81&&_0x28be81['bundlesFil'+'ter']&&(_0x4b27ac=_0x28be81['bundlesFil'+'ter'](_0x2adf89)),_0x4b27ac||(_0x2adf89==null||_0x2adf89['sort']((_0x4a0cf6,_0x457d27)=>_0x4a0cf6['file']['size']-_0x457d27['file']['size']),_0x4b27ac=_0x2adf89==null?void(0x255*-0xb+0x154*0xd+-0x71*-0x13):_0x2adf89[-0xb09+-0x407*-0x6+-0xd21*0x1]),_0x4b27ac&&((_0x439be6=this['_app']['assets'])==null||_0x439be6['load'](_0x4b27ac));}this['_app']['bundles']['loadUrl'](_0x57f7da,(_0x3d8849,_0x2f1944)=>{_0x4dd3ba(_0x3d8849,{'load':_0x2f1944,'original':_0x57f7da});});}else _0x4dd3ba(null,{'load':_0x4d18da,'original':_0x4c10f1&&_0x4c10f1['file']['filename']||_0x4d18da});}}}['_loadNull'](_0x4c36f4,_0x133ade,_0x254108){const _0x452289=function(_0x2e1a5f,_0x2f0db4,_0x55851a){if(_0x2e1a5f)_0x133ade(_0x2e1a5f);else try{_0x133ade(null,_0x4c36f4['open'](null,_0x2f0db4,_0x254108),_0x55851a);}catch(_0x2c3038){_0x133ade(_0x2c3038);}};_0x4c36f4['load'](null,_0x452289,_0x254108);}['_onSuccess'](_0x261cb8,_0x382b02,_0x1398bb){_0x382b02!==null?this['_cache'][_0x261cb8]=_0x382b02:delete this['_cache'][_0x261cb8];for(let _0x523ac5=0x2079+0x3df+-0x2458;_0x523ac5<this['_requests'][_0x261cb8]['length'];_0x523ac5++)this['_requests'][_0x261cb8][_0x523ac5](null,_0x382b02,_0x1398bb);delete this['_requests'][_0x261cb8];}['_onFailure'](_0x4ee561,_0x4631c7){if(console['error'](_0x4631c7),this['_requests'][_0x4ee561]){for(let _0x44e22d=-0x1*0x4c1+0x708*-0x4+-0x1*-0x20e1;_0x44e22d<this['_requests'][_0x4ee561]['length'];_0x44e22d++)this['_requests'][_0x4ee561][_0x44e22d](_0x4631c7);delete this['_requests'][_0x4ee561];}}['open'](_0x44e10c,_0x29d88a){const _0x113a04=this['_handlers'][_0x44e10c];return _0x113a04?_0x113a04['open'](null,_0x29d88a):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x44e10c),_0x29d88a);}['patch'](_0x324e11,_0x1ea46b){const _0x5932ff=this['_handlers'][_0x324e11['type']];if(!_0x5932ff){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x324e11['type']);return;}_0x5932ff['patch']&&_0x5932ff['patch'](_0x324e11,_0x1ea46b);}['clearCache'](_0x2c57c0,_0x2d3202){const _0x46cad4=pa['makeKey'](_0x2c57c0,_0x2d3202);delete this['_cache'][_0x46cad4];}['getFromCac'+'he'](_0x57cf6f,_0x51e3b6){const _0x5407a8=pa['makeKey'](_0x57cf6f,_0x51e3b6);if(this['_cache'][_0x5407a8])return this['_cache'][_0x5407a8];}['enableRetr'+'y'](_0x3cc10e=-0x1d93+0xb*0x1a2+0xba2){_0x3cc10e=Math['max'](0x10ca+-0xe81+-0x249,_0x3cc10e)||0x4ef+0xd80+-0x126f;for(const _0xf1ddc0 in this['_handlers'])this['_handlers'][_0xf1ddc0]['maxRetries']=_0x3cc10e;}['disableRet'+'ry'](){for(const _0x1372b0 in this['_handlers'])this['_handlers'][_0x1372b0]['maxRetries']=-0x2*0x981+-0x246e+0x3770;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0x770d25){if(!_0x770d25['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x770d25['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x770d25['header']['version']!==-0x1d2*0x2+0x1632+-0x3*0x62f)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x770d25['data']){if(!Array['isArray'](_0x770d25['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x4f72e6=0x6e5*-0x4+-0x1413+0x2fa7,_0x1c682e=_0x770d25['data']['length'];_0x4f72e6<_0x1c682e;_0x4f72e6++){const _0x2f6226=_0x770d25['data'][_0x4f72e6];if(!_0x2f6226['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x4f72e6+('].info\x22\x20fi'+'eld'));if(!_0x2f6226['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x4f72e6+('].info.loc'+'ale\x22\x20field'));if(typeof _0x2f6226['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x4f72e6+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x2f6226['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x4f72e6+('].messages'+'\x22\x20field'));}}['parse'](_0x51e701){return this['_validate'](_0x51e701),_0x51e701['data'];}}class aP extends ce{constructor(_0x56237e){super(),this['locale']=$h,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x56237e,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x3fb4fe){const _0x569582={};for(let _0x249043=0xa9c+0x26*0xa2+-0x22a8,_0x113a0c=_0x3fb4fe['length'];_0x249043<_0x113a0c;_0x249043++){const _0x582732=_0x3fb4fe[_0x249043]instanceof le?_0x3fb4fe[_0x249043]['id']:_0x3fb4fe[_0x249043];_0x569582[_0x582732]=!(0x3ae+-0xfc2*-0x1+-0x1370);}let _0x32c782=this['_assets']['length'];for(;_0x32c782--;){const _0x27b9eb=this['_assets'][_0x32c782];if(!_0x569582[_0x27b9eb]){this['_app']['assets']['off']('add:'+_0x27b9eb,this['_onAssetAd'+'d'],this);const _0x3a3196=this['_app']['assets']['get'](_0x27b9eb);_0x3a3196&&this['_onAssetRe'+'move'](_0x3a3196),this['_assets']['splice'](_0x32c782,-0x952*-0x2+-0x1ea5+0x3a*0x35);}}for(const _0x303b00 in _0x569582){const _0x3b7aa1=parseInt(_0x303b00,0x1b56+-0x1b86+0x3a);if(this['_assets']['indexOf'](_0x3b7aa1)!==-(-0xc5b+-0x1f81+0x2bdd))continue;this['_assets']['push'](_0x3b7aa1);const _0x292d3a=this['_app']['assets']['get'](_0x3b7aa1);_0x292d3a?this['_onAssetAd'+'d'](_0x292d3a):this['_app']['assets']['once']('add:'+_0x3b7aa1,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x26165d){if(this['_locale']===_0x26165d)return;let _0x82b467=pi(_0x26165d);if(_0x82b467==='in'&&(_0x82b467='id',_0x26165d=Y1(_0x26165d,_0x82b467),this['_locale']===_0x26165d))return;const _0x19a073=this['_locale'];this['_locale']=_0x26165d,this['_lang']=_0x82b467,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0x26165d,_0x19a073);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x92b88b,_0x5f21e8){return V0(_0x92b88b,_0x5f21e8);}['findAvaila'+'bleLocale'](_0x3158a1){if(this['_translati'+'ons'][_0x3158a1])return _0x3158a1;const _0x4aedec=pi(_0x3158a1);return this['_findFallb'+'ackLocale'](_0x3158a1,_0x4aedec);}['getText'](_0x408213,_0x5d8e8d){let _0x275c65=_0x408213,_0x26a403;_0x5d8e8d||(_0x5d8e8d=this['_locale'],_0x26a403=this['_lang']);let _0x4b1530=this['_translati'+'ons'][_0x5d8e8d];return _0x4b1530||(_0x26a403||(_0x26a403=pi(_0x5d8e8d)),_0x5d8e8d=this['_findFallb'+'ackLocale'](_0x5d8e8d,_0x26a403),_0x4b1530=this['_translati'+'ons'][_0x5d8e8d]),_0x4b1530&&_0x4b1530['hasOwnProp'+'erty'](_0x408213)&&(_0x275c65=_0x4b1530[_0x408213],Array['isArray'](_0x275c65)&&(_0x275c65=_0x275c65[-0x43*-0x10+-0x17b3+0x1383]),_0x275c65==null&&(_0x275c65=_0x408213)),_0x275c65;}['getPluralT'+'ext'](_0x324725,_0xf6fdfc,_0x1a9ff8){let _0x4da8e2=_0x324725,_0x357658,_0x6fcdc4;_0x1a9ff8?(_0x357658=pi(_0x1a9ff8),_0x6fcdc4=Xd(_0x357658)):(_0x1a9ff8=this['_locale'],_0x357658=this['_lang'],_0x6fcdc4=this['_pluralFn']);let _0x577b71=this['_translati'+'ons'][_0x1a9ff8];if(_0x577b71||(_0x1a9ff8=this['_findFallb'+'ackLocale'](_0x1a9ff8,_0x357658),_0x357658=pi(_0x1a9ff8),_0x6fcdc4=Xd(_0x357658),_0x577b71=this['_translati'+'ons'][_0x1a9ff8]),_0x577b71&&_0x577b71[_0x324725]&&_0x6fcdc4){const _0x4a4cfd=_0x6fcdc4(_0xf6fdfc);_0x4da8e2=_0x577b71[_0x324725][_0x4a4cfd],_0x4da8e2==null&&(_0x4da8e2=_0x324725);}return _0x4da8e2;}['addData'](_0xfa843){let _0xb8bd7e;try{_0xb8bd7e=this['_parser']['parse'](_0xfa843);}catch(_0x410433){console['error'](_0x410433);return;}for(let _0x593bb1=-0x1055+0x837+0x81e,_0x30cac7=_0xb8bd7e['length'];_0x593bb1<_0x30cac7;_0x593bb1++){const _0x502421=_0xb8bd7e[_0x593bb1],_0x548487=_0x502421['info']['locale'],_0x580d4b=_0x502421['messages'];if(!this['_translati'+'ons'][_0x548487]){this['_translati'+'ons'][_0x548487]={};const _0x176a6e=pi(_0x548487);this['_available'+'Langs'][_0x176a6e]||(this['_available'+'Langs'][_0x176a6e]=_0x548487);}Object['assign'](this['_translati'+'ons'][_0x548487],_0x580d4b),this['fire']('data:add',_0x548487,_0x580d4b);}}['removeData'](_0x55f0d3){let _0x34f071;try{_0x34f071=this['_parser']['parse'](_0x55f0d3);}catch(_0x29402e){console['error'](_0x29402e);return;}for(let _0x29be96=-0x1cc+-0x21f1+0x51b*0x7,_0xd443bc=_0x34f071['length'];_0x29be96<_0xd443bc;_0x29be96++){const _0x86af7d=_0x34f071[_0x29be96],_0x1af4c1=_0x86af7d['info']['locale'],_0x1dfa5b=this['_translati'+'ons'][_0x1af4c1];if(!_0x1dfa5b)continue;const _0x14e1ba=_0x86af7d['messages'];for(const _0x163d9f in _0x14e1ba)delete _0x1dfa5b[_0x163d9f];Object['keys'](_0x1dfa5b)['length']===-0x362*0x9+0xea3+-0x13*-0xd5&&(delete this['_translati'+'ons'][_0x1af4c1],delete this['_available'+'Langs'][pi(_0x1af4c1)]),this['fire']('data:remov'+'e',_0x1af4c1,_0x14e1ba);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x45ad42,_0x5e1235){let _0x266df6=Wh[_0x45ad42];return _0x266df6&&this['_translati'+'ons'][_0x266df6]||(_0x266df6=Wh[_0x5e1235],_0x266df6&&this['_translati'+'ons'][_0x266df6])||(_0x266df6=this['_available'+'Langs'][_0x5e1235],_0x266df6&&this['_translati'+'ons'][_0x266df6])?_0x266df6:$h;}['_onAssetAd'+'d'](_0x15c0e0){_0x15c0e0['on']('load',this['_onAssetLo'+'ad'],this),_0x15c0e0['on']('change',this['_onAssetCh'+'ange'],this),_0x15c0e0['on']('remove',this['_onAssetRe'+'move'],this),_0x15c0e0['on']('unload',this['_onAssetUn'+'load'],this),_0x15c0e0['resource']&&this['_onAssetLo'+'ad'](_0x15c0e0);}['_onAssetLo'+'ad'](_0x39599f){this['addData'](_0x39599f['resource']);}['_onAssetCh'+'ange'](_0x3f43df){_0x3f43df['resource']&&this['addData'](_0x3f43df['resource']);}['_onAssetRe'+'move'](_0x37a24a){_0x37a24a['off']('load',this['_onAssetLo'+'ad'],this),_0x37a24a['off']('change',this['_onAssetCh'+'ange'],this),_0x37a24a['off']('remove',this['_onAssetRe'+'move'],this),_0x37a24a['off']('unload',this['_onAssetUn'+'load'],this),_0x37a24a['resource']&&this['removeData'](_0x37a24a['resource']),this['_app']['assets']['once']('add:'+_0x37a24a['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x1daa76){_0x1daa76['resource']&&this['removeData'](_0x1daa76['resource']);}}class oP extends ce{constructor(_0x4d68b8){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x4d68b8;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x60216d,_0x380d6a){_0x380d6a&&this['_scriptSch'+'emas']['set'](_0x60216d,_0x380d6a);}['getSchema'](_0x5e8f83){return this['_scriptSch'+'emas']['get'](_0x5e8f83);}['add'](_0xf67a51){const _0xb84bb8=_0xf67a51['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0xb84bb8)?(setTimeout(()=>{if(_0xf67a51['prototype']['swap']){const _0x2eca2c=this['_scripts'][_0xb84bb8],_0x4e7024=this['_list']['indexOf'](_0x2eca2c);this['_list'][_0x4e7024]=_0xf67a51,this['_scripts'][_0xb84bb8]=_0xf67a51,this['fire']('swap',_0xb84bb8,_0xf67a51),this['fire']('swap:'+_0xb84bb8,_0xf67a51);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0xb84bb8+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x2352+-0x687*0x2+0x3061)):(this['_scripts'][_0xb84bb8]=_0xf67a51,this['_list']['push'](_0xf67a51),this['fire']('add',_0xb84bb8,_0xf67a51),this['fire']('add:'+_0xb84bb8,_0xf67a51),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0xb84bb8)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x1156b4=this['app']['systems']['script']['_component'+'s'];let _0x18ff26;const _0x13e42e=[],_0x5be060=[];for(_0x1156b4['loopIndex']=0x237+0xc83*0x3+0x10*-0x27c;_0x1156b4['loopIndex']<_0x1156b4['length'];_0x1156b4['loopIndex']++){const _0x21023c=_0x1156b4['items'][_0x1156b4['loopIndex']];if(_0x21023c['_scriptsIn'+'dex'][_0xb84bb8]&&_0x21023c['_scriptsIn'+'dex'][_0xb84bb8]['awaiting']){_0x21023c['_scriptsDa'+'ta']&&_0x21023c['_scriptsDa'+'ta'][_0xb84bb8]&&(_0x18ff26=_0x21023c['_scriptsDa'+'ta'][_0xb84bb8]['attributes']);const _0x340494=_0x21023c['create'](_0xb84bb8,{'preloading':!(0x1831*0x1+-0x1*-0x419+-0x22*0xd5),'ind':_0x21023c['_scriptsIn'+'dex'][_0xb84bb8]['ind'],'attributes':_0x18ff26});_0x340494&&_0x13e42e['push'](_0x340494);for(const _0x13ce52 of _0x21023c['scripts'])_0x21023c['initialize'+'Attributes'](_0x13ce52);}}for(let _0x34b833=-0xb9b+0x1db4+-0x1219;_0x34b833<_0x13e42e['length'];_0x34b833++)_0x13e42e[_0x34b833]['enabled']&&(_0x13e42e[_0x34b833]['_initializ'+'ed']=!(0x11*-0x11+0x6*0x308+-0x110f),_0x5be060['push'](_0x13e42e[_0x34b833]),_0x13e42e[_0x34b833]['initialize']&&_0x13e42e[_0x34b833]['initialize']());for(let _0x309620=0x26b*-0xe+0x1*-0x153b+-0x1*-0x3715;_0x309620<_0x5be060['length'];_0x309620++)!_0x5be060[_0x309620]['enabled']||_0x5be060[_0x309620]['_postIniti'+'alized']||(_0x5be060[_0x309620]['_postIniti'+'alized']=!(-0x1f50+-0x3*-0x232+0x18ba),_0x5be060[_0x309620]['postInitia'+'lize']&&_0x5be060[_0x309620]['postInitia'+'lize']());}),!(-0x2344+0x1070+0x12d4));}['remove'](_0x19bdfd){let _0x2f728c=_0x19bdfd,_0x17c1ff=_0x19bdfd;if(typeof _0x17c1ff!='string'?_0x17c1ff=_0x2f728c['__name']:_0x2f728c=this['get'](_0x17c1ff),this['get'](_0x17c1ff)!==_0x2f728c)return!(-0x22c3+-0x4cf*-0x5+0xb7*0xf);delete this['_scripts'][_0x17c1ff];const _0x378f0c=this['_list']['indexOf'](_0x2f728c);return this['_list']['splice'](_0x378f0c,-0x35*-0x3b+0xf*0x28c+-0x326a),this['fire']('remove',_0x17c1ff,_0x2f728c),this['fire']('remove:'+_0x17c1ff,_0x2f728c),!(-0x4d8+-0x2264+0x273c);}['get'](_0x2e729e){return this['_scripts'][_0x2e729e]||null;}['has'](_0x87d33e){if(typeof _0x87d33e=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x87d33e);if(!_0x87d33e)return!(-0x24b3+0x616+0x1e9e);const _0x3d26b7=_0x87d33e['__name'];return this['_scripts'][_0x3d26b7]===_0x87d33e;}['list'](){return this['_list'];}}const lP=(_0xf89f02,_0x1c4529)=>_0xf89f02['constructo'+'r']['order']-_0x1c4529['constructo'+'r']['order'],hP=_0x3dbc95=>_0x3dbc95['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],W_=_0x9f57ba=>{_0x9f57ba['length']=0xabf+0x25f0+-0x30af,G0['push'](_0x9f57ba);},ac=class ac extends De{constructor(_0x35976b,_0x1e9cae=tn()){super(_0x35976b),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(0x3f*-0x9+0x4*0x3c1+0x111*-0xc)),c(this,'_guid',null),c(this,'_template',!(-0x2f3+-0x1b26*0x1+0xf0d*0x2)),(v['assert'](_0x1e9cae,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x1e9cae);}['addCompone'+'nt'](_0x538712,_0xb4747b){const _0x4cac33=this['_app']['systems'][_0x538712];return _0x4cac33?this['c'][_0x538712]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x538712+('\x27\x20componen'+'t')),null):_0x4cac33['addCompone'+'nt'](this,_0xb4747b):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x538712+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x5bc0fd){const _0x1d5e94=this['_app']['systems'][_0x5bc0fd];if(!_0x1d5e94){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x5bc0fd+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x5bc0fd]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x5bc0fd+('\x27\x20componen'+'t'));return;}_0x1d5e94['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x4226e1){const _0x36a0b2=this['findOne'](_0x43413f=>{var _0x5d9a1f;return(_0x5d9a1f=_0x43413f['c'])==null?void(-0x1d2e+0x1*-0x1835+0x3563):_0x5d9a1f[_0x4226e1];});return _0x36a0b2&&_0x36a0b2['c'][_0x4226e1];}['findCompon'+'ents'](_0x62d361){return this['find'](_0x52cee9=>{var _0x14480d;return(_0x14480d=_0x52cee9['c'])==null?void(-0x1e52+0x43c+0x3*0x8b2):_0x14480d[_0x62d361];})['map'](_0x4063f4=>_0x4063f4['c'][_0x62d361]);}['findScript'](_0x5d9f0a){const _0x9677cf=this['findOne'](_0xef85f2=>{var _0x28368b,_0x5e25ae;return(_0x5e25ae=(_0x28368b=_0xef85f2['c'])==null?void(0x14*0x4f+-0x1a34+0x1408):_0x28368b['script'])==null?void(0x1efe+0x15ed+-0x34eb):_0x5e25ae['has'](_0x5d9f0a);});return _0x9677cf==null?void(-0x23b7+-0x5ea+-0x1*-0x29a1):_0x9677cf['c']['script']['get'](_0x5d9f0a);}['findScript'+'s'](_0x59d108){return this['find'](_0x151505=>{var _0x29e362,_0x43b24a;return(_0x43b24a=(_0x29e362=_0x151505['c'])==null?void(0x100f*0x1+0x3*0x8e4+0x1*-0x2abb):_0x29e362['script'])==null?void(0x1863*0x1+-0x6f8*0x3+-0x37b):_0x43b24a['has'](_0x59d108);})['map'](_0x443e1b=>_0x443e1b['c']['script']['get'](_0x59d108));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x45cb36){const _0xcfd2b8=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0xcfd2b8[this['_guid']],this['_guid']=_0x45cb36,_0xcfd2b8[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x4d8284,_0x2a50e9){let _0x47226f=!(0xcdb+-0x186d+0xb93);_0x4d8284===this&&Za['length']===-0x73*-0xe+0x241*-0x1+-0x409&&(_0x47226f=!(-0x11cc+-0xfb5+0x2181)),_0x4d8284['_beingEnab'+'led']=!(0x129*0xf+0x21e5+-0x334c),_0x4d8284['_onHierarc'+'hyStateCha'+'nged'](_0x2a50e9),_0x4d8284['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x4d8284);const _0x2fef6e=_0x4d8284['_children'];for(let _0xaf117f=-0x1*0x23c1+-0x1e5a+0x421b,_0x19c445=_0x2fef6e['length'];_0xaf117f<_0x19c445;_0xaf117f++)_0x2fef6e[_0xaf117f]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x2fef6e[_0xaf117f],_0x2a50e9);if(_0x4d8284['_beingEnab'+'led']=!(-0x599*-0x6+0x26d3+-0x4*0x121a),_0x47226f){for(let _0x4eb91a=-0x80*0x1f+-0x2*-0x7ed+-0x5a;_0x4eb91a<Za['length'];_0x4eb91a++)Za[_0x4eb91a]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=-0x64+-0x151*-0x1+-0x4f*0x3;}}['_onHierarc'+'hyStateCha'+'nged'](_0x529915){super['_onHierarc'+'hyStateCha'+'nged'](_0x529915);const _0x206a25=this['_getSorted'+'Components']();for(let _0x285bd5=-0x1*0x14df+-0x8eb*0x2+0x26b5;_0x285bd5<_0x206a25['length'];_0x285bd5++){const _0x248373=_0x206a25[_0x285bd5];_0x248373['enabled']&&(_0x529915?_0x248373['onEnable']():_0x248373['onDisable']());}W_(_0x206a25);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0xeca026=this['_getSorted'+'Components']();for(let _0x4e9fc5=0x2004*-0x1+0x42b*-0x1+-0x3b*-0x9d;_0x4e9fc5<_0xeca026['length'];_0x4e9fc5++)_0xeca026[_0x4e9fc5]['onPostStat'+'eChange']();W_(_0xeca026);}['findByGuid'](_0xb95e46){if(this['_guid']===_0xb95e46)return this;const _0x1d15ca=this['_app']['_entityInd'+'ex'][_0xb95e46];return _0x1d15ca&&(_0x1d15ca===this||_0x1d15ca['isDescenda'+'ntOf'](this))?_0x1d15ca:null;}['destroy'](){this['_destroyin'+'g']=!(-0x78c+-0x1*-0x258d+-0x1e01*0x1);for(const _0xa20e5a in this['c'])this['c'][_0xa20e5a]['enabled']=!(-0x1a*-0xb2+0x2217+-0x342a);for(const _0xdae419 in this['c'])this['c'][_0xdae419]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x1*-0x1497+-0x31a*0x4+-0x82e);}['clone'](){const _0x7864ff={},_0x1d8d88=this['_cloneRecu'+'rsively'](_0x7864ff);return _0x7864ff[this['getGuid']()]=_0x1d8d88,H0(this,this,_0x1d8d88,_0x7864ff),_0x1d8d88;}['_getSorted'+'Components'](){const _0x559f1a=this['c'],_0x29a8ed=cP();let _0x7a0d23=0x1*-0x11d1+-0x16f1+0x28c2;for(const _0x33f253 in _0x559f1a)if(_0x559f1a['hasOwnProp'+'erty'](_0x33f253)){const _0x592de5=_0x559f1a[_0x33f253];_0x7a0d23|=_0x592de5['constructo'+'r']['order']!==0x1ae7+-0x52a+0x15*-0x109,_0x29a8ed['push'](_0x592de5);}return _0x7a0d23&&_0x29a8ed['length']>-0x1149+-0x295*0x6+0x20c8&&hP(_0x29a8ed),_0x29a8ed;}['_cloneRecu'+'rsively'](_0x4a87b4){const _0x3c332e=new this['constructo'+'r'](void(0x1de6*-0x1+0xb00+0x12e6),this['_app']);super['_cloneInte'+'rnal'](_0x3c332e);for(const _0x10fc69 in this['c'])this['c'][_0x10fc69]['system']['cloneCompo'+'nent'](this,_0x3c332e);for(let _0x41435d=0x1249*0x1+0xa87+-0x734*0x4;_0x41435d<this['_children']['length'];_0x41435d++){const _0x9c9961=this['_children'][_0x41435d];if(_0x9c9961 instanceof ac){const _0xce7395=_0x9c9961['_cloneRecu'+'rsively'](_0x4a87b4);_0x3c332e['addChild'](_0xce7395),_0x4a87b4[_0x9c9961['getGuid']()]=_0xce7395;}}return _0x3c332e;}};c(ac,'EVENT_DEST'+'ROY','destroy');let $e=ac;function H0(_0x160b3d,_0x133085,_0xab2b3e,_0x5971be){if(_0x133085 instanceof $e){const _0x275769=_0x133085['c'];for(const _0x3eda4b in _0x275769){const _0x46062b=_0x275769[_0x3eda4b],_0x592fe3=_0x46062b['system']['getPropert'+'iesOfType']('entity');for(let _0x8b2b28=-0x1d14+-0x17e*0x5+0x3*0xc2e,_0xb9881b=_0x592fe3['length'];_0x8b2b28<_0xb9881b;_0x8b2b28++){const _0x1d43a5=_0x592fe3[_0x8b2b28]['name'],_0x4a754f=_0x46062b[_0x1d43a5];if(!!_0x160b3d['findByGuid'](_0x4a754f)){const _0x35ddfd=_0x5971be[_0x4a754f]['getGuid']();_0x35ddfd?_0xab2b3e['c'][_0x3eda4b][_0x1d43a5]=_0x35ddfd:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x275769['script']&&_0xab2b3e['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x275769['script'],_0x5971be),_0x275769['render']&&_0xab2b3e['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x275769['render'],_0x5971be),_0x275769['button']&&_0xab2b3e['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x275769['button'],_0x5971be),_0x275769['scrollview']&&_0xab2b3e['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x275769['scrollview'],_0x5971be),_0x275769['scrollbar']&&_0xab2b3e['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x275769['scrollbar'],_0x5971be),_0x275769['anim']&&_0xab2b3e['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x275769['anim'],_0x5971be);const _0x2d84d8=_0x133085['children']['filter'](_0x26cb05=>_0x26cb05 instanceof $e),_0x458ba0=_0xab2b3e['children']['filter'](_0x18d1bf=>_0x18d1bf instanceof $e);for(let _0x47e8ff=0x10a0+0x1c59+-0x18d*0x1d,_0x1aef5e=_0x2d84d8['length'];_0x47e8ff<_0x1aef5e;_0x47e8ff++)H0(_0x160b3d,_0x2d84d8[_0x47e8ff],_0x458ba0[_0x47e8ff],_0x5971be);}}class q_{constructor(_0x513f7f,_0xcb67ae){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(0xfef+-0x734+-0x8ba)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x513f7f,this['url']=_0xcb67ae);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x4c2f20){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x4c2f20;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0xeab249,_0x35b1c1){if(this['_index']['hasOwnProp'+'erty'](_0xeab249))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0xeab249),!(-0x1*0x2dc+0x12cd+-0xff0);const _0x1854ed=new q_(_0xeab249,_0x35b1c1),_0x323152=this['_list']['push'](_0x1854ed);return this['_index'][_0x1854ed['name']]=_0x323152-(0xc32+-0x2a7+-0x98a),this['_urlIndex'][_0x1854ed['url']]=_0x323152-(-0x2e*-0xf+-0x19c6+0x13*0x137),!(-0x25b2+-0xa*-0x19+0x497*0x8);}['find'](_0x373a76){return this['_index']['hasOwnProp'+'erty'](_0x373a76)?this['_list'][this['_index'][_0x373a76]]:null;}['findByUrl'](_0x665af){return this['_urlIndex']['hasOwnProp'+'erty'](_0x665af)?this['_list'][this['_urlIndex'][_0x665af]]:null;}['remove'](_0x7a7d17){if(this['_index']['hasOwnProp'+'erty'](_0x7a7d17)){const _0x48dc5c=this['_index'][_0x7a7d17];let _0x18640f=this['_list'][_0x48dc5c];delete this['_urlIndex'][_0x18640f['url']],delete this['_index'][_0x7a7d17],this['_list']['splice'](_0x48dc5c,-0xcf2+0xa1a+0x2d9);for(let _0x441c71=0x10c9*0x2+0x1dda+-0x3f6c;_0x441c71<this['_list']['length'];_0x441c71++)_0x18640f=this['_list'][_0x441c71],this['_index'][_0x18640f['name']]=_0x441c71,this['_urlIndex'][_0x18640f['url']]=_0x441c71;}}['_loadScene'+'Data'](_0x2c8288,_0x5cdae0,_0xd9644e){const _0x586621=this['_app'];let _0x846632=_0x2c8288;if(typeof _0x2c8288=='string'&&(_0x2c8288=this['findByUrl'](_0x846632)||this['find'](_0x846632)||new q_('Untitled',_0x846632)),_0x846632=_0x2c8288['url'],!_0x846632){_0xd9644e('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x2c8288['loaded']){_0xd9644e(null,_0x2c8288);return;}_0x586621['assets']&&_0x586621['assets']['prefix']&&!Da['test'](_0x846632)&&(_0x846632=fe['join'](_0x586621['assets']['prefix'],_0x846632)),_0x2c8288['_onLoadedC'+'allbacks']['push'](_0xd9644e),_0x2c8288['_loading']||_0x586621['loader']['getHandler']('hierarchy')['load'](_0x846632,(_0x1ca41e,_0x41ad4b)=>{_0x2c8288['data']=_0x41ad4b,_0x2c8288['_loading']=!(-0x1063+-0x1900+-0x373*-0xc);for(let _0xd12d2=-0x6fc+0x6b1*0x1+0x19*0x3;_0xd12d2<_0x2c8288['_onLoadedC'+'allbacks']['length'];_0xd12d2++)_0x2c8288['_onLoadedC'+'allbacks'][_0xd12d2](_0x1ca41e,_0x2c8288);_0x5cdae0||(_0x2c8288['data']=null),_0x2c8288['_onLoadedC'+'allbacks']['length']=0xb6f+0x5b2+0x1121*-0x1;}),_0x2c8288['_loading']=!(0x1ead*-0x1+0x128d+0xc20);}['loadSceneD'+'ata'](_0x3e085d,_0x3da09e){this['_loadScene'+'Data'](_0x3e085d,!(0x1*0x214+0x3b6+-0x5ca*0x1),_0x3da09e);}['unloadScen'+'eData'](_0x439caa){typeof _0x439caa=='string'&&(_0x439caa=this['findByUrl'](_0x439caa)),_0x439caa&&(_0x439caa['data']=null);}['_loadScene'+'Hierarchy'](_0x5651ef,_0x1c8d20,_0x5b6a49){this['_loadScene'+'Data'](_0x5651ef,!(-0x872+0x5c*-0x6b+0x2ee7),(_0x22ffe5,_0x2a6faf)=>{if(_0x22ffe5){_0x5b6a49&&_0x5b6a49(_0x22ffe5);return;}_0x1c8d20&&_0x1c8d20(_0x2a6faf);const _0x1abd09=this['_app'],_0x3cc941=()=>{const _0x3f9f02=_0x1abd09['loader']['getHandler']('hierarchy');_0x1abd09['systems']['script']['preloading']=!(-0x13a+0x3*0x212+-0x1d*0x2c);const _0xa0a99=_0x3f9f02['open'](_0x2a6faf['url'],_0x2a6faf['data']);_0x1abd09['systems']['script']['preloading']=!(-0x2195*-0x1+-0x1*0xc92+-0x1502*0x1),_0x1abd09['loader']['clearCache'](_0x2a6faf['url'],'hierarchy'),_0x1abd09['root']['addChild'](_0xa0a99),_0x1abd09['systems']['fire']('initialize',_0xa0a99),_0x1abd09['systems']['fire']('postInitia'+'lize',_0xa0a99),_0x1abd09['systems']['fire']('postPostIn'+'itialize',_0xa0a99),_0x5b6a49&&_0x5b6a49(null,_0xa0a99);};_0x1abd09['_preloadSc'+'ripts'](_0x2a6faf['data'],_0x3cc941);});}['loadSceneH'+'ierarchy'](_0x7377ad,_0x46938d){this['_loadScene'+'Hierarchy'](_0x7377ad,null,_0x46938d);}['loadSceneS'+'ettings'](_0x275036,_0x25d65d){this['_loadScene'+'Data'](_0x275036,!(0x13b1+-0x1*-0x85f+-0x1*0x1c0f),(_0x46a53f,_0x4745b1)=>{_0x46a53f?_0x25d65d&&_0x25d65d(_0x46a53f):(this['_app']['applyScene'+'Settings'](_0x4745b1['data']['settings']),_0x25d65d&&_0x25d65d(null));});}['changeScen'+'e'](_0x1ce4fc,_0x3452d6){const _0x2b3b56=this['_app'],_0x47f2ca=_0x495c68=>{const {children:_0x205274}=_0x2b3b56['root'];for(;_0x205274['length'];)_0x205274[0x1241+-0x1d70+0xb2f]['destroy']();_0x2b3b56['applyScene'+'Settings'](_0x495c68['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x1ce4fc,_0x47f2ca,_0x3452d6);}['loadScene'](_0x1134c3,_0xc6f39b){const _0x444baa=this['_app'],_0x14a0b6=_0x444baa['loader']['getHandler']('scene');_0x444baa['assets']&&_0x444baa['assets']['prefix']&&!Da['test'](_0x1134c3)&&(_0x1134c3=fe['join'](_0x444baa['assets']['prefix'],_0x1134c3)),_0x14a0b6['load'](_0x1134c3,(_0xafc72d,_0x407466)=>{if(_0xafc72d)_0xc6f39b&&_0xc6f39b(_0xafc72d);else{const _0x1872a5=()=>{_0x444baa['systems']['script']['preloading']=!(0x79*-0x9+0xf53*0x2+-0x1a65);const _0x39b4dd=_0x14a0b6['open'](_0x1134c3,_0x407466),_0x1bc51d=this['findByUrl'](_0x1134c3);_0x1bc51d&&!_0x1bc51d['loaded']&&(_0x1bc51d['data']=_0x407466),_0x444baa['systems']['script']['preloading']=!(0x26c7+0x12fe+-0x39c4),_0x444baa['loader']['clearCache'](_0x1134c3,'scene'),_0x444baa['loader']['patch']({'resource':_0x39b4dd,'type':'scene'},_0x444baa['assets']),_0x444baa['root']['addChild'](_0x39b4dd['root']),_0x444baa['systems']['rigidbody']&&typeof Ammo<'u'&&_0x444baa['systems']['rigidbody']['gravity']['set'](_0x39b4dd['_gravity']['x'],_0x39b4dd['_gravity']['y'],_0x39b4dd['_gravity']['z']),_0xc6f39b&&_0xc6f39b(null,_0x39b4dd);};_0x444baa['_preloadSc'+'ripts'](_0x407466,_0x1872a5);}});}}class uP{constructor(_0x44b5e1){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x44b5e1['_shaderSta'+'ts'],this['vram']=_0x44b5e1['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x32f86e;return(_0x32f86e=tn()['lightmappe'+'r'])==null?void(0x23ff*0x1+0x112d*-0x2+-0x1a5):_0x32f86e['stats'];}get['batcher'](){const _0x48014b=tn()['_batcher'];return _0x48014b?_0x48014b['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x2d4ebb){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(-0x1f46+-0x1*-0x2351+-0x40a)),c(this,'_inFrameUp'+'date',!(0x1*0x82a+-0xdf*-0x9+-0x1000)),c(this,'_libraries'+'Loaded',!(0x4*0x20b+0x1b5b+-0x2386)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(-0x3d*0xd+-0x17*0x75+0xd9c)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(-0x85d*-0x2+-0x18c1+0x1*0x808)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0x3*-0xcfc+-0xcff+-0x1*-0x33f3),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',0x1fef+-0x387+-0x1c67),c(this,'maxDeltaTi'+'me',0x152+-0x1ca3+0x1b51+0.1),c(this,'frame',-0x259*-0xd+0x11ad+0x3032*-0x1),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(0x1be9+0x1*-0xa0b+-0x11de)),c(this,'renderNext'+'Frame',!(0x3d5+-0xe1b+0xa47)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(0x5*-0x381+-0x1*0x325+0x14aa):no['indexOf']('$'))<-0x12b8+-0x277*0x3+-0x3bb*-0x7&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x2d4ebb['id']]=this,qu(this),this['root']=new $e(),this['root']['_enabledIn'+'Hierarchy']=!(-0x25*-0x101+-0x1*0x1989+0x2e7*-0x4));}['init'](_0x5d7bcc){const {assetPrefix:_0x311be6,batchManager:_0x4d6a4e,componentSystems:_0x4db448,elementInput:_0xb77adf,gamepads:_0x14d42f,graphicsDevice:_0x323b02,keyboard:_0x21f36d,lightmapper:_0x207957,mouse:_0x429699,resourceHandlers:_0x4bf167,scriptsOrder:_0x150897,scriptPrefix:_0x330dbb,soundManager:_0x2c827a,touch:_0xa09cf1,xr:_0x2fa616}=_0x5d7bcc;v['assert'](_0x323b02,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x323b02,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x323b02),this['_soundMana'+'ger']=_0x2c827a,this['scene']=new ci(_0x323b02),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x311be6&&(this['assets']['prefix']=_0x311be6),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x150897||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(0x7*-0x1f+0x622+0x68*-0xd),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0x56f3fa=new S_('default');_0x56f3fa['pushOpaque'](this['defaultLay'+'erWorld']),_0x56f3fa['pushOpaque'](this['defaultLay'+'erDepth']),_0x56f3fa['pushOpaque'](this['defaultLay'+'erSkybox']),_0x56f3fa['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x56f3fa['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x56f3fa['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x56f3fa['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x56f3fa,Wr['createPlac'+'eholder'](_0x323b02),this['renderer']=new Gh(_0x323b02),this['renderer']['scene']=this['scene'],_0x207957&&(this['lightmappe'+'r']=new _0x207957(_0x323b02,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x4d6a4e&&(this['_batcher']=new _0x4d6a4e(_0x323b02,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x21f36d||null,this['mouse']=_0x429699||null,this['touch']=_0xa09cf1||null,this['gamepads']=_0x14d42f||null,_0xb77adf&&(this['elementInp'+'ut']=_0xb77adf,this['elementInp'+'ut']['app']=this),this['xr']=_0x2fa616?new _0x2fa616(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x330dbb||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x4bf167['forEach'](_0x598de3=>{const _0x39f96c=new _0x598de3(this);this['loader']['addHandler'](_0x39f96c['handlerTyp'+'e'],_0x39f96c);}),_0x4db448['forEach'](_0xcabe4c=>{this['systems']['add'](new _0xcabe4c(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x175*0x17+-0x1*0x18b5+0x3a38)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x18e1+-0x1*-0x67e+0x1264))):document['mozHidden']!==void(0x21f8*0x1+0x1*0x652+-0x284a)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x26a2+-0xf47*-0x1+0x175c))):document['msHidden']!==void(0x1*0xb76+0x14c2*-0x1+-0x154*-0x7)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x20f*0xb+-0x244a+-0x2*-0x6d3))):document['webkitHidd'+'en']!==void(0x4*-0x79d+-0xb66*-0x1+-0x9*-0x21e)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x12e7+0x7d0+-0x1ab6)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x2b7bfc){return _0x2b7bfc?Gr['_applicati'+'ons'][_0x2b7bfc]:tn();}['_initDefau'+'ltMaterial'](){const _0x4b28f1=new cs();_0x4b28f1['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x4b28f1);}['_initProgr'+'amLibrary'](){const _0x1b2471=new D1(this['graphicsDe'+'vice'],new cs());$E(this['graphicsDe'+'vice'],_0x1b2471);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x2646fe,_0x54cea9){We['get'](_0x2646fe,(_0x48847f,_0x3af0df)=>{if(_0x48847f){_0x54cea9(_0x48847f);return;}const _0x1e48a7=_0x3af0df['applicatio'+'n_properti'+'es'],_0x13f602=_0x3af0df['scenes'],_0x34b02b=_0x3af0df['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x1e48a7,_0x274c5e=>{this['_parseScen'+'es'](_0x13f602),this['_parseAsse'+'ts'](_0x34b02b),_0x54cea9(_0x274c5e||null);});});}['preload'](_0x2e2bdb){this['fire']('preload:st'+'art');const _0xfd2325=this['assets']['list']({'preload':!(0x5*-0x781+0x80d*0x1+0x1d78)});if(_0xfd2325['length']===-0x1c4b+0x127c+0x9cf){this['fire']('preload:en'+'d'),_0x2e2bdb();return;}let _0x3bd8aa=0x1*0xa8f+-0xff6+0x567;const _0x3adb00=()=>{_0x3bd8aa++,this['fire']('preload:pr'+'ogress',_0x3bd8aa/_0xfd2325['length']),_0x3bd8aa===_0xfd2325['length']&&(this['fire']('preload:en'+'d'),_0x2e2bdb());};_0xfd2325['forEach'](_0x216825=>{_0x216825['loaded']?_0x3adb00():(_0x216825['once']('load',_0x3adb00),_0x216825['once']('error',_0x3adb00),this['assets']['load'](_0x216825));});}['_preloadSc'+'ripts'](_0x2458ae,_0x13a639){_0x13a639();}['_parseAppl'+'icationPro'+'perties'](_0x36a4a1,_0x3fc5dd){if(typeof _0x36a4a1['maxAssetRe'+'tries']=='number'&&_0x36a4a1['maxAssetRe'+'tries']>-0x1*0xbcb+-0xc0+0xa9*0x13&&this['loader']['enableRetr'+'y'](_0x36a4a1['maxAssetRe'+'tries']),_0x36a4a1['useDeviceP'+'ixelRatio']||(_0x36a4a1['useDeviceP'+'ixelRatio']=_0x36a4a1['use_device'+'_pixel_rat'+'io']),_0x36a4a1['resolution'+'Mode']||(_0x36a4a1['resolution'+'Mode']=_0x36a4a1['resolution'+'_mode']),_0x36a4a1['fillMode']||(_0x36a4a1['fillMode']=_0x36a4a1['fill_mode']),this['_width']=_0x36a4a1['width'],this['_height']=_0x36a4a1['height'],_0x36a4a1['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x36a4a1['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x36a4a1['fillMode'],this['_width'],this['_height']),_0x36a4a1['layers']&&_0x36a4a1['layerOrder']){const _0x3fb66a=new S_('applicatio'+'n'),_0x4dae0={};for(const _0x28e661 in _0x36a4a1['layers']){const _0x13ee22=_0x36a4a1['layers'][_0x28e661];_0x13ee22['id']=parseInt(_0x28e661,-0xa4+0x4e9+-0x43b),_0x13ee22['enabled']=_0x13ee22['id']!==Xt,_0x4dae0[_0x28e661]=new Lr(_0x13ee22);}for(let _0x7f483e=-0x1db2+-0x2c+0x1dde,_0x56ff4a=_0x36a4a1['layerOrder']['length'];_0x7f483e<_0x56ff4a;_0x7f483e++){const _0x5e0ab5=_0x36a4a1['layerOrder'][_0x7f483e],_0x671512=_0x4dae0[_0x5e0ab5['layer']];_0x671512&&(_0x5e0ab5['transparen'+'t']?_0x3fb66a['pushTransp'+'arent'](_0x671512):_0x3fb66a['pushOpaque'](_0x671512),_0x3fb66a['subLayerEn'+'abled'][_0x7f483e]=_0x5e0ab5['enabled']);}this['scene']['layers']=_0x3fb66a;}if(_0x36a4a1['batchGroup'+'s']){const _0xce6813=this['batcher'];if(_0xce6813)for(let _0xd90791=-0xc3*0x31+-0x1b5*0x7+-0xe*-0x385,_0x1cbe7c=_0x36a4a1['batchGroup'+'s']['length'];_0xd90791<_0x1cbe7c;_0xd90791++){const _0x41dd0c=_0x36a4a1['batchGroup'+'s'][_0xd90791];_0xce6813['addGroup'](_0x41dd0c['name'],_0x41dd0c['dynamic'],_0x41dd0c['maxAabbSiz'+'e'],_0x41dd0c['id'],_0x41dd0c['layers']);}}_0x36a4a1['i18nAssets']&&(this['i18n']['assets']=_0x36a4a1['i18nAssets']),this['_loadLibra'+'ries'](_0x36a4a1['libraries'],_0x3fc5dd);}['_loadLibra'+'ries'](_0x4d842e,_0x4a0e74){const _0x5ee8df=_0x4d842e['length'];let _0x3a3743=_0x5ee8df;const _0x1d11b3=/^https?:\/\//;if(_0x5ee8df){const _0x2b6503=(_0x38595a,_0x1436b6)=>{_0x3a3743--,_0x38595a?_0x4a0e74(_0x38595a):_0x3a3743===-0x8f*0x35+0xaf4+0x12a7&&(this['onLibrarie'+'sLoaded'](),_0x4a0e74(null));};for(let _0x590d0f=0x152b*-0x1+0x68e+-0x57*-0x2b;_0x590d0f<_0x5ee8df;++_0x590d0f){let _0x36ef38=_0x4d842e[_0x590d0f];!_0x1d11b3['test'](_0x36ef38['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x36ef38=fe['join'](this['_scriptPre'+'fix'],_0x36ef38)),this['loader']['load'](_0x36ef38,'script',_0x2b6503);}}else this['onLibrarie'+'sLoaded'](),_0x4a0e74(null);}['_parseScen'+'es'](_0x3b42b6){if(_0x3b42b6){for(let _0x476287=0x722+0x431+-0xb53;_0x476287<_0x3b42b6['length'];_0x476287++)this['scenes']['add'](_0x3b42b6[_0x476287]['name'],_0x3b42b6[_0x476287]['url']);}}['_parseAsse'+'ts'](_0x480685){const _0x42287e=[],_0x25af06={},_0x23010d={};for(let _0x2771a8=0x9c0+0x1311+-0x99b*0x3;_0x2771a8<this['scriptsOrd'+'er']['length'];_0x2771a8++){const _0x22449c=this['scriptsOrd'+'er'][_0x2771a8];_0x480685[_0x22449c]&&(_0x25af06[_0x22449c]=!(-0x2*0x652+0x11de+-0x53a),_0x42287e['push'](_0x480685[_0x22449c]));}if(this['enableBund'+'les']){for(const _0x55a6cd in _0x480685)_0x480685[_0x55a6cd]['type']==='bundle'&&(_0x23010d[_0x55a6cd]=!(-0xe02+0x1*-0xe68+-0xe35*-0x2),_0x42287e['push'](_0x480685[_0x55a6cd]));}for(const _0x53664e in _0x480685)_0x25af06[_0x53664e]||_0x23010d[_0x53664e]||_0x42287e['push'](_0x480685[_0x53664e]);for(let _0xc002e2=0x2*-0x96a+0xd80*-0x2+0x2dd4;_0xc002e2<_0x42287e['length'];_0xc002e2++){const _0x2f9b97=_0x42287e[_0xc002e2],_0x554144=new le(_0x2f9b97['name'],_0x2f9b97['type'],_0x2f9b97['file'],_0x2f9b97['data']);if(_0x554144['id']=parseInt(_0x2f9b97['id'],0xb*0xb5+0x12*0x1de+0x5*-0x845),_0x554144['preload']=_0x2f9b97['preload']?_0x2f9b97['preload']:!(-0x4d5+0x907*-0x1+-0x49f*-0x3),_0x554144['loaded']=_0x2f9b97['type']==='script'&&_0x2f9b97['data']&&_0x2f9b97['data']['loadingTyp'+'e']>0x1bf6+0x1d21+0xb9*-0x4f,_0x554144['tags']['add'](_0x2f9b97['tags']),_0x2f9b97['i18n']){for(const _0x4611cb in _0x2f9b97['i18n'])_0x554144['addLocaliz'+'edAssetId'](_0x4611cb,_0x2f9b97['i18n'][_0x4611cb]);}this['assets']['add'](_0x554144);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x1cd0+0x24fa+-0x41ca);}),this['frame']=0x2514*-0x1+-0x1*-0x1aa2+0xa72,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x6cd958){this['controller']&&this['controller']['update'](_0x6cd958),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x3b47ef){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x3b47ef),this['systems']['fire']('animationU'+'pdate',_0x3b47ef),this['systems']['fire']('postUpdate',_0x3b47ef),this['fire']('update',_0x3b47ef),this['inputUpdat'+'e'](_0x3b47ef),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=0x184+0x1a39+-0x107*0x1b,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x13ff02){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x13ff02),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x13ff02),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x46d9f8,_0x34b745,_0x3ea6dd){const _0x26a867=this['stats']['frame'];_0x26a867['dt']=_0x34b745,_0x26a867['ms']=_0x3ea6dd,_0x46d9f8>_0x26a867['_timeToCou'+'ntFrames']?(_0x26a867['fps']=_0x26a867['_fpsAccum'],_0x26a867['_fpsAccum']=-0x511*0x1+0x1*0xad+-0x232*-0x2,_0x26a867['_timeToCou'+'ntFrames']=_0x46d9f8+(-0x3b*0x2b+-0x31*0x31+0x1732)):_0x26a867['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0x451+-0x35*0xa3+0x2b8*0xe;}['_fillFrame'+'Stats'](){let _0x38ecdc=this['stats']['frame'];_0x38ecdc['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x38ecdc['materials']=this['renderer']['_materialS'+'witches'],_0x38ecdc['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x38ecdc['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x38ecdc['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x38ecdc['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x38ecdc['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x3da711=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x38ecdc['triangles']=_0x3da711[Ms]/(-0x1*-0x1442+-0x837+-0x268*0x5)+Math['max'](_0x3da711[ar]-(0xe*0x1c+-0x2*-0x1163+-0x244c),-0x212e+0x454*-0x4+-0x232*-0x17)+Math['max'](_0x3da711[Yr]-(-0x980+0x20b*-0xd+0x2411),-0x1790+0x1*0x42d+0x1363),_0x38ecdc['cullTime']=this['renderer']['_cullTime'],_0x38ecdc['sortTime']=this['renderer']['_sortTime'],_0x38ecdc['skinTime']=this['renderer']['_skinTime'],_0x38ecdc['morphTime']=this['renderer']['_morphTime'],_0x38ecdc['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x38ecdc['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x38ecdc['otherPrimi'+'tives']=-0x20dc+-0x1*-0x479+0x1c63;for(let _0x285278=0xcf+0x7*-0x434+-0x125*-0x19;_0x285278<_0x3da711['length'];_0x285278++)_0x285278<Ms&&(_0x38ecdc['otherPrimi'+'tives']+=_0x3da711[_0x285278]),_0x3da711[_0x285278]=-0x1*0x217c+-0x2181+0x42fd;this['renderer']['_camerasRe'+'ndered']=-0x668+0x2697+-0x1*0x202f,this['renderer']['_materialS'+'witches']=-0x11*0x1c6+-0x109*-0x5+0x853*0x3,this['renderer']['_shadowMap'+'Updates']=-0x1d52*0x1+-0x7b6+0x2508,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0xa63*-0x3+-0xa7*-0x2b+-0x3b36,this['renderer']['_cullTime']=-0x1530+0x5ff+-0xf31*-0x1,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x2*-0x896+0x26d3+-0x15a7*0x1,this['renderer']['_lightClus'+'tersTime']=-0xca9*-0x3+0x13bf*-0x1+-0x123c,this['renderer']['_sortTime']=0x1*0x1718+0x7f5+-0x1f0d*0x1,this['renderer']['_skinTime']=0x14c+0x7*0x4aa+-0x21f2,this['renderer']['_morphTime']=0x9f*0x1d+0x20*-0x10c+-0xf7d*-0x1,this['renderer']['_shadowMap'+'Time']=0x1b16*-0x1+-0x2399*-0x1+-0x883,this['renderer']['_depthMapT'+'ime']=-0x10*0x4f+0x24bc+0x2c*-0xb9,this['renderer']['_forwardTi'+'me']=-0x241+-0x3*0x6fb+0x1732,_0x38ecdc=this['stats']['drawCalls'],_0x38ecdc['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x38ecdc['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x38ecdc['depth']=-0x126a+-0x244a+0x36b4,_0x38ecdc['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x38ecdc['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x38ecdc['immediate']=0xc77*-0x3+-0x1*-0xe1d+0x1748*0x1,_0x38ecdc['instanced']=0x4ed*-0x7+0x4d9*-0x4+-0x1*-0x35df,_0x38ecdc['removedByI'+'nstancing']=-0x34c+0x3d*-0x77+-0xa8d*-0x3,_0x38ecdc['misc']=_0x38ecdc['total']-(_0x38ecdc['forward']+_0x38ecdc['shadow']),this['renderer']['_depthDraw'+'Calls']=-0xa3d*0x1+0x44*-0x77+-0x29d9*-0x1,this['renderer']['_shadowDra'+'wCalls']=-0xe12*-0x1+-0x2e3+-0xb2f,this['renderer']['_forwardDr'+'awCalls']=0x323*-0x1+0x76*0x22+0x1*-0xc89,this['renderer']['_numDrawCa'+'llsCulled']=-0x185*0xb+0x1ed2+0xe1b*-0x1,this['renderer']['_skinDrawC'+'alls']=0x7c3*-0x3+-0x23ea+0x3b33,this['renderer']['_immediate'+'Rendered']=0x9f*-0x1+-0x1b61*-0x1+-0x1ac2,this['renderer']['_instanced'+'DrawCalls']=-0x1b9e+-0x1*-0xf05+0xc99,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x38ecdc=this['stats']['particles'],_0x38ecdc['updatesPer'+'Frame']=_0x38ecdc['_updatesPe'+'rFrame'],_0x38ecdc['frameTime']=_0x38ecdc['_frameTime'],_0x38ecdc['_updatesPe'+'rFrame']=-0x10e2+-0x2*0x304+0x7*0x346,_0x38ecdc['_frameTime']=-0x2384+0x742+0x1c42;}['setCanvasF'+'illMode'](_0x88e189,_0x197476,_0x3b17b1){this['_fillMode']=_0x88e189,this['resizeCanv'+'as'](_0x197476,_0x3b17b1);}['setCanvasR'+'esolution'](_0x6cc379,_0xc64a1b,_0x74012d){this['_resolutio'+'nMode']=_0x6cc379,_0x6cc379===G_&&_0xc64a1b===void(0x1*0x11d2+-0x84f+0x5*-0x1e7)&&(_0xc64a1b=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x74012d=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0xc64a1b,_0x74012d);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x50ccdd,_0x23dfef){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0xea53cc=window['innerWidth'],_0x1b6be2=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x5dc5b3=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x780a08=_0xea53cc/_0x1b6be2;_0x5dc5b3>_0x780a08?(_0x50ccdd=_0xea53cc,_0x23dfef=_0x50ccdd/_0x5dc5b3):(_0x23dfef=_0x1b6be2,_0x50ccdd=_0x23dfef*_0x5dc5b3);}else this['_fillMode']===W1&&(_0x50ccdd=_0xea53cc,_0x23dfef=_0x1b6be2);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x50ccdd+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x23dfef+'px',this['updateCanv'+'asSize'](),{'width':_0x50ccdd,'height':_0x23dfef};}['updateCanv'+'asSize'](){var _0x27037c;if(!(!this['_allowResi'+'ze']||(_0x27037c=this['xr'])!=null&&_0x27037c['active'])&&this['_resolutio'+'nMode']===G_){const _0x22a51e=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x22a51e['clientWidt'+'h'],_0x22a51e['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0xd*0x157+-0x4c2+-0xca9),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x2a2415){let _0x5bb558;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x3f27db,_0x1edfc4,_0x28b2c2]=_0x2a2415['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x3f27db,_0x1edfc4,_0x28b2c2);}this['scene']['applySetti'+'ngs'](_0x2a2415),_0x2a2415['render']['hasOwnProp'+'erty']('skybox')&&(_0x2a2415['render']['skybox']?(_0x5bb558=this['assets']['get'](_0x2a2415['render']['skybox']),_0x5bb558?this['setSkybox'](_0x5bb558):this['assets']['once']('add:'+_0x2a2415['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x4a530d,_0x3c7f7e){_0x4a530d&&_0x3c7f7e?Wr['set'](this['graphicsDe'+'vice'],_0x4a530d,_0x3c7f7e):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0xba52cd){if(_0xba52cd!==this['_skyboxAss'+'et']){const _0x1f5ab6=()=>{this['setSkybox'](null);},_0xeb2be=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0xeb2be,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x1f5ab6,this),this['_skyboxAss'+'et']['off']('change',_0xeb2be,this)),this['_skyboxAss'+'et']=_0xba52cd,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0xeb2be,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x1f5ab6,this),this['_skyboxAss'+'et']['on']('change',_0xeb2be,this),this['scene']['skyboxMip']===-0x3bf*-0x1+-0x1f5d+0x1b9e&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x7e*0x3f+-0x16ed+-0x815)),this['assets']['load'](this['_skyboxAss'+'et'])),_0xeb2be();}}['_firstBake'](){var _0x4d5339;(_0x4d5339=this['lightmappe'+'r'])==null||_0x4d5339['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x2c88da;(_0x2c88da=this['batcher'])==null||_0x2c88da['generate']();}['_processTi'+'mestamp'](_0x53ebae){return _0x53ebae;}['drawLine'](_0x34f878,_0x3bd2c5,_0x47feb0,_0x341805,_0x586a25){this['scene']['drawLine'](_0x34f878,_0x3bd2c5,_0x47feb0,_0x341805,_0x586a25);}['drawLines'](_0x1358a9,_0x55962e,_0x35264a=!(0x5c9*0x3+0x1f2f+-0x6*0x817),_0x1ec48b=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x1358a9,_0x55962e,_0x35264a,_0x1ec48b);}['drawLineAr'+'rays'](_0x3f562e,_0x594674,_0x3f6a0c=!(-0x57*-0x6d+0x12f3+-0x2*0x1bff),_0x95e372=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x3f562e,_0x594674,_0x3f6a0c,_0x95e372);}['drawWireSp'+'here'](_0x1670d3,_0x11242d,_0x5d2db9=j['WHITE'],_0x29e6b7=-0x828+-0x1647+-0x1e83*-0x1,_0x588305=!(0x1*-0x1db4+-0x2651+0xb*0x62f),_0x22bd57=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x1670d3,_0x11242d,_0x5d2db9,_0x29e6b7,_0x588305,_0x22bd57);}['drawWireAl'+'ignedBox'](_0x366316,_0xc8ab2f,_0x60e4b1=j['WHITE'],_0x2b1e50=!(-0xda9+0x431*0x7+-0xfae),_0x1dea18=this['scene']['defaultDra'+'wLayer'],_0x150ae9){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x366316,_0xc8ab2f,_0x60e4b1,_0x2b1e50,_0x1dea18,_0x150ae9);}['drawMeshIn'+'stance'](_0x1d4c76,_0x579643=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x1d4c76,_0x579643);}['drawMesh'](_0x3e484a,_0x39b6d5,_0x1e6580,_0xa1e254=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x39b6d5,_0x1e6580,_0x3e484a,null,_0xa1e254);}['drawQuad'](_0x3ef0bb,_0x3b60a6,_0x431d9c=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x3b60a6,_0x3ef0bb,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x431d9c);}['drawTextur'+'e'](_0x36ea10,_0x364088,_0x36fad3,_0x3fe767,_0x3f2309,_0x5bbf38,_0x3ad27c=this['scene']['defaultDra'+'wLayer'],_0x24998d=!(-0x12*0x53+0x347*-0xa+-0x2c2*-0xe)){if(_0x24998d===!(0x4da+-0x1a16+-0x1*-0x153d)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x140845=new q();_0x140845['setTRS'](new T(_0x36ea10,_0x364088,0x1e1f+-0x57+-0x1dc8),se['IDENTITY'],new T(_0x36fad3,-_0x3fe767,0x2f6+0x1137*-0x1+0xe41)),_0x5bbf38||(_0x5bbf38=new Ra(),_0x5bbf38['cull']=mt,_0x5bbf38['setParamet'+'er']('colorMap',_0x3f2309),_0x5bbf38['shaderDesc']=_0x24998d?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x3f2309['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x5bbf38['update']()),this['drawQuad'](_0x140845,_0x5bbf38,_0x3ad27c);}['drawDepthT'+'exture'](_0x2bd799,_0x31fa63,_0x2cd221,_0x2860d8,_0x35868e=this['scene']['defaultDra'+'wLayer']){const _0x5decb6=new Ra();_0x5decb6['cull']=mt,_0x5decb6['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x5decb6['update'](),this['drawTextur'+'e'](_0x2bd799,_0x31fa63,_0x2cd221,_0x2860d8,null,_0x5decb6,_0x35868e);}['destroy'](){var _0x49ae4d,_0x322365,_0x470229,_0x1363be;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x238b+-0x15*0xda+0x356d);return;}const _0x2fdd5d=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1808+-0xe*0x220+0x35c9)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x12e3+0x1*-0x9f1+0x1*0x1cd5)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x4*-0x4be+0x21f8+0x1*-0xeff)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*-0x13f+0x6d9*0x5+0x1f*-0x125))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x5ea323=this['assets']['list']();for(let _0x7f8ed1=-0xf53+0x1*0x21aa+-0x1257;_0x7f8ed1<_0x5ea323['length'];_0x7f8ed1++)_0x5ea323[_0x7f8ed1]['unload'](),_0x5ea323[_0x7f8ed1]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x4da107=this['loader']['getHandler']('script');_0x4da107==null||_0x4da107['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x49ae4d=this['lightmappe'+'r'])==null||_0x49ae4d['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x322365=this['xr'])==null||_0x322365['end'](),(_0x470229=this['xr'])==null||_0x470229['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x1363be=this['_soundMana'+'ger'])==null||_0x1363be['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x2fdd5d]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x2669d9){_0x2669d9['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x2669d9['frameReque'+'stId']),_0x2669d9['frameReque'+'stId']=void(0x20b5+-0x81*-0xf+-0x6*0x6b6));}['getEntityF'+'romIndex'](_0x14baec){return this['_entityInd'+'ex'][_0x14baec];}['_registerS'+'ceneImmedi'+'ate'](_0x54f7ea){this['on']('postrender',_0x54f7ea['immediate']['onPostRend'+'er'],_0x54f7ea['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x590cf0){const _0x281f31=_0x590cf0;return function(_0x341446,_0x26b952){var _0x4773af,_0x34ab2a,_0x3e658b,_0x92d438;if(!_0x281f31['graphicsDe'+'vice'])return;_0x281f31['frameReque'+'stId']&&((_0x34ab2a=(_0x4773af=_0x281f31['xr'])==null?void(0x1191+-0x1009+-0x8*0x31):_0x4773af['session'])==null||_0x34ab2a['cancelAnim'+'ationFrame'](_0x281f31['frameReque'+'stId']),cancelAnimationFrame(_0x281f31['frameReque'+'stId']),_0x281f31['frameReque'+'stId']=null),_0x281f31['_inFrameUp'+'date']=!(-0xccc+0x755+0x577),qu(_0x281f31);const _0x461e1d=_0x281f31['_processTi'+'mestamp'](_0x341446)||ne(),_0x1ddd60=_0x461e1d-(_0x281f31['_time']||_0x461e1d);let _0x140802=_0x1ddd60/(0x1505*-0x1+0x799+0x1154);if(_0x140802=N['clamp'](_0x140802,0x1754+-0x1*0xcb6+-0xa9e,_0x281f31['maxDeltaTi'+'me']),_0x140802*=_0x281f31['timeScale'],_0x281f31['_time']=_0x461e1d,(_0x3e658b=_0x281f31['xr'])!=null&&_0x3e658b['session']?_0x281f31['frameReque'+'stId']=_0x281f31['xr']['session']['requestAni'+'mationFram'+'e'](_0x281f31['tick']):_0x281f31['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x281f31['tick']):null,_0x281f31['graphicsDe'+'vice']['contextLos'+'t'])return;_0x281f31['_fillFrame'+'StatsBasic'](_0x461e1d,_0x140802,_0x1ddd60),_0x281f31['_fillFrame'+'Stats'](),_0x281f31['fire']('frameupdat'+'e',_0x1ddd60);let _0x2a9594=!(0xa0d*-0x2+-0x24de+0x1c7c*0x2);_0x26b952?(_0x2a9594=(_0x92d438=_0x281f31['xr'])==null?void(-0x22d5+-0x219+0x24ee):_0x92d438['update'](_0x26b952),_0x281f31['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x26b952['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x281f31['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x2a9594&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x281f31['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](-0x1a66+-0x26*-0xb3+0x15*-0x2)+'ms'),_0x281f31['update'](_0x140802),_0x281f31['fire']('framerende'+'r'),(_0x281f31['autoRender']||_0x281f31['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](0x25d3+0x13b5+-0x3986)+'ms'),_0x281f31['updateCanv'+'asSize'](),_0x281f31['frameStart'](),_0x281f31['render'](),_0x281f31['frameEnd'](),_0x281f31['renderNext'+'Frame']=!(-0x4ea+-0x5ee*-0x5+-0xd*0x1e7),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](0x1f65+0x18df*-0x1+-0x684)+'ms')),jd['timestamp']=ne(),jd['target']=_0x281f31,_0x281f31['fire']('frameend',jd)),_0x281f31['_inFrameUp'+'date']=!(0x6*-0x3ec+0x1*-0x4b5+0x1c3e),_0x281f31['_destroyRe'+'quested']&&_0x281f31['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class $0{constructor(_0x479de1,_0x5d96d2,_0x51c662){this['scene']=_0x479de1,this['light']=_0x5d96d2,this['store'](),_0x5d96d2['numCascade'+'s']=0x61b+0x5*0x595+-0x2203,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x5d96d2['castShadow'+'s']=_0x5d96d2['bakeShadow'+'s']&&_0x51c662['shadowsEna'+'bled']),_0x5d96d2['type']!==oe&&(_0x5d96d2['_node']['getWorldTr'+'ansform'](),_0x5d96d2['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x9ac0bb=this['light'];_0x9ac0bb['mask']=this['mask'],_0x9ac0bb['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x9ac0bb['enabled']=this['enabled'],_0x9ac0bb['intensity']=this['intensity'],_0x9ac0bb['_node']['setLocalRo'+'tation'](this['rotation']),_0x9ac0bb['numCascade'+'s']=this['numCascade'+'s'],_0x9ac0bb['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0x71c*0x2+0x127e+-0x223*0x2),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x5a94c3){const _0x5dfa15=this['light'];_0x5dfa15['enabled']=!(-0xb1d+-0x1*-0x1be3+-0x10c5),_0x5dfa15['shadowMap']&&(_0x5dfa15['shadowMap']['cached']&&_0x5a94c3['add'](_0x5dfa15,_0x5dfa15['shadowMap']),_0x5dfa15['shadowMap']=null);}}const Hl=new $();class mP extends $0{constructor(_0x363959,_0x2c5f07){super(_0x363959['scene'],_0x2c5f07,_0x363959['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:-0x9*0x1cd+-0x1*-0x15f4+-0x31*0x1e;}['prepareVir'+'tualLight'](_0x2be121,_0x50f3ef){const _0x3ef23e=this['light'];if(_0x3ef23e['_node']['setLocalRo'+'tation'](this['rotation']),_0x2be121>0x2ff+-0x1b0e+0x180f){const _0x444235=_0x3ef23e['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x2be121,_0x50f3ef),Hl['mulScalar'](_0x444235*(-0x58b+0x1ee1+0x11a*-0x17+0.5)),_0x3ef23e['_node']['rotateLoca'+'l'](Hl['x'],-0x157f+-0x909+0x1e88,Hl['y']);}_0x3ef23e['_node']['getWorldTr'+'ansform']();const _0x6367cb=0x1929+0x6b*-0x3f+0x12e+0.20000000000000018,_0x8475e2=Math['pow'](this['intensity'],_0x6367cb);_0x3ef23e['intensity']=Math['pow'](_0x8475e2/_0x50f3ef,(0x198d*-0x1+-0x1*0x1e88+0x2*0x1c0b)/_0x6367cb);}}const X_=new T();class j_ extends $0{constructor(_0x4fa4c4){const _0xa0575e=_0x4fa4c4['scene'],_0x1cc73c=new $e('AmbientLig'+'ht');_0x1cc73c['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x1*-0x2a5+0x2302+0x237*-0x11),'affectLightmapped':!(0x1*-0x105e+-0x71e*0x5+0x33f5*0x1),'bake':!(-0x490+-0x260d+0x2a9d),'bakeNumSamples':_0xa0575e['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x59*0x41+0x258c+0x3c25*-0x1),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Lt,'color':j['WHITE'],'intensity':0x1,'bakeDir':!(-0x14*-0xe2+-0x3*0x74d+0x440)}),super(_0xa0575e,_0x1cc73c['light']['light'],_0x4fa4c4['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x23db90,_0x179ace){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x23db90,_0x179ace,-0x16ec+0x217d+0xa91*-0x1,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(-0x13*0x17c+-0x827+-0x2cc*-0xd))),this['light']['_node']['rotateLoca'+'l'](-0x4b+-0x1*0x2cf+0x11*0x34,0x17f3+-0x415*0x2+-0xfc9,0x1e8d+0x12c7*0x1+-0x70c*0x7);const _0x1ff1ff=-0xb*-0x11b+-0x55e+0xc1*-0x9+0.20000000000000018,_0x215135=(-0x24ae+-0x1785+-0x3c35*-0x1)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x374a54=Math['pow'](_0x215135,_0x1ff1ff);this['light']['intensity']=Math['pow'](_0x374a54/_0x179ace,(-0x15a*-0x4+-0x82e+0x2c7)/_0x1ff1ff);}}class $l{constructor(_0x207b59,_0x2868d0=null){this['node']=_0x207b59,this['component']=_0x207b59['render']||_0x207b59['model'],_0x2868d0=_0x2868d0||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x2868d0,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=-0x3*-0xa3c+-0x379+-0x1b2c;class _P{constructor(_0xf9c425){this['device']=_0xf9c425,this['shaderDila'+'te']=Is(_0xf9c425,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0xf9c425['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0xf9c425['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0xd5a+-0x35*0x9b+0x2d73),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x524e97){this['constantTe'+'xSource']['setValue'](_0x524e97);}['prepare'](_0x503dd8,_0x2aa84f){this['pixelOffse'+'t'][-0x15b*-0x4+-0x1d5e+-0x17f2*-0x1]=(-0x17a2+0x2262+-0x189*0x7)/_0x503dd8,this['pixelOffse'+'t'][0xf6e+-0x2f5+-0x54*0x26]=(0x662*0x2+0x14c3+0xe*-0x265)/_0x2aa84f,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0xd4da21,_0x38825d,_0x41ba8b){const _0x4d5fc0=_0x41ba8b?0x2b*0xd7+0x870+0x5*-0x8e9:-0x2673+-0x1e*-0x115+0x5fe*0x1;if(!this['shaderDeno'+'ise'][_0x4d5fc0]){const _0x170d47='lmBilatera'+'lDeNoise-'+(_0x41ba8b?'hdr':'rgbm'),_0x58ed46=_0x41ba8b?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x4d5fc0]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x58ed46+vo['bilateralD'+'eNoisePS'],_0x170d47),this['sigmas']=new Float32Array(-0x2*-0xc7f+-0x6f2*-0x4+0xb*-0x4cc),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0x4b7+-0x21e2*-0x1+0xf1*-0x29]=_0xd4da21,this['sigmas'][-0x112b+0x128b+-0x15f]=_0x38825d,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0xd4da21,_0x38825d);}['getDenoise'](_0x5a8543){const _0x30c842=_0x5a8543?-0xe7f*0x2+0x17ab+0x553:0x1613+0x31a*-0x8+0x27*0x12;return this['shaderDeno'+'ise'][_0x30c842];}['getDilate'](_0x55a56c,_0x1f0baa){const _0x4efff9=_0x1f0baa?0x2c1*-0xb+0x2d2+0xd*0x21d:0x2*0x121f+-0x863+-0x1bda;if(!this['shaderDila'+'te'][_0x4efff9]){const _0x42dd22='lmDilate-'+(_0x1f0baa?'hdr':'rgbm'),_0x3f0caf=_0x1f0baa?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x4efff9]=Is(_0x55a56c,X['fullscreen'+'QuadVS'],_0x3f0caf+vo['dilatePS'],_0x42dd22);}return this['shaderDila'+'te'][_0x4efff9];}['evaluateDe'+'noiseUnifo'+'rms'](_0x2ba31b,_0x445e19){function _0x3b9fb4(_0x3fd66c,_0x198851){return(0xfa+0x15a5+-0x169f+0.39894)*Math['exp'](-(0x22c7+0x1b2a+-0x3df1+0.5)*_0x3fd66c*_0x3fd66c/(_0x198851*_0x198851))/_0x198851;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x164618=this['kernel'],_0x2e99b3=Math['floor']((Y_-(-0xeb6*-0x1+0x1103+0x3f7*-0x8))/(0x1afe+0x10f*0x1b+-0x3791));for(let _0x119687=0xd*0x8a+-0x1136+0xa34;_0x119687<=_0x2e99b3;++_0x119687){const _0x3a51a2=_0x3b9fb4(_0x119687,_0x2ba31b);_0x164618[_0x2e99b3+_0x119687]=_0x3a51a2,_0x164618[_0x2e99b3-_0x119687]=_0x3a51a2;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x4a900f=(0x1*-0x240d+0x1db7+-0x3*-0x21d)/_0x3b9fb4(-0x6f9+-0x10dc+0x17d5*0x1,_0x445e19);this['bZnorm']['setValue'](_0x4a900f);}}class gP extends ds{constructor(_0x5203af,_0x34ebd0,_0x407a0b,_0x173de9,_0x3bc1a0,_0x57642e){super(_0x5203af),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x34ebd0,this['camera']=_0x407a0b,this['worldClust'+'ers']=_0x173de9,this['receivers']=_0x3bc1a0,this['lightArray']=_0x57642e);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x22ddfc=>{_0x22ddfc['defaultUni'+'formBuffer']['destroy'](),_0x22ddfc['destroy']();}),this['viewBindGr'+'oups']['length']=0x1*0x8b5+0x2047+-0x28fc;}['execute'](){const _0x816b18=this['device'];G['pushGpuMar'+'ker'](_0x816b18,'Lightmappe'+'r');const {renderer:_0x3fbb6c,camera:_0x316a5e,receivers:_0x1c13e4,renderTarget:_0x9b7c00,worldClusters:_0x21a2af,lightArray:_0x3e8229}=this;_0x3fbb6c['renderForw'+'ardLayer'](_0x316a5e,_0x9b7c00,null,void(0x4c6+-0x2*0xdd9+0x16ec),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x1c13e4,'splitLights':_0x3e8229,'lightClusters':_0x21a2af}),G['popGpuMark'+'er'](_0x816b18);}}const yP=0x2*0x382+0x10c0*-0x2+-0x89f*-0x4,xP=0x13*-0x10f+0x1691+0x274*-0x1,SP=0x1*-0x118d+0x1341*-0x1+0x1b*0x15d,Wl=new T();class vP{constructor(_0x5a1407,_0x4a4515,_0xb04d1c,_0xcdf5a6,_0x25e633){this['device']=_0x5a1407,this['root']=_0x4a4515,this['scene']=_0xb04d1c,this['renderer']=_0xcdf5a6,this['assets']=_0x25e633,this['shadowMapC'+'ache']=_0xcdf5a6['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(-0x26f1+-0x2188+0x243d*0x2),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new j(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x23e2c9;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x23e2c9=this['camera'])==null||_0x23e2c9['destroy'](),this['camera']=null;}['initBake'](_0x3d3585){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x141d+-0x2593+0x5d2*0x3),this['lightmapFi'+'lters']=new _P(_0x3d3585),this['constantBa'+'keDir']=_0x3d3585['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x24308e=new ol();_0x24308e['clearColor']['set'](0x1*0x212+-0x9*0x221+0x1117,-0x84b+0x4ae+0x39d,0x21b7+-0x1903+0x22d*-0x4,-0x4a*-0x83+0xd*0x10f+-0x33a1*0x1),_0x24308e['clearColor'+'Buffer']=!(0x1e7e+-0x1*-0x12b+-0x1fa9),_0x24308e['clearDepth'+'Buffer']=!(0x1e42+-0x185b+-0x5e6*0x1),_0x24308e['clearStenc'+'ilBuffer']=!(0xf1*0xd+0x26ee+-0x332a),_0x24308e['frustumCul'+'ling']=!(0x55c+0x1*-0x608+-0x1*-0xad),_0x24308e['projection']=ua,_0x24308e['aspectRati'+'o']=-0xc31+0xf17*-0x1+0x37*0x7f,_0x24308e['node']=new De(),this['camera']=_0x24308e,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x1479f0=new L0(_0x3d3585['supportsAr'+'eaLights'],_0x3d3585['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x1479f0;const _0x28a7aa=this['scene']['lighting'];_0x1479f0['shadowsEna'+'bled']=_0x28a7aa['shadowsEna'+'bled'],_0x1479f0['shadowAtla'+'sResolutio'+'n']=_0x28a7aa['shadowAtla'+'sResolutio'+'n'],_0x1479f0['cookiesEna'+'bled']=_0x28a7aa['cookiesEna'+'bled'],_0x1479f0['cookieAtla'+'sResolutio'+'n']=_0x28a7aa['cookieAtla'+'sResolutio'+'n'],_0x1479f0['areaLights'+'Enabled']=_0x28a7aa['areaLights'+'Enabled'],_0x1479f0['cells']=new T(0xc5f+0x1115*-0x1+0x4b9,0x2373+-0x1f*0x95+0x49*-0x3d,0x19af+0x1afb+0x1*-0x34a7),_0x1479f0['maxLightsP'+'erCell']=0xcba+0x2f*-0x67+0x17*0x45,this['worldClust'+'ers']=new zu(_0x3d3585),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x95d4e8){this['materials']=[];function _0x668859(_0x3a201f){Si['decRef'](_0x3a201f['colorBuffe'+'r']),_0x3a201f['destroy']();}this['renderTarg'+'ets']['forEach'](_0x116e59=>{_0x668859(_0x116e59);}),this['renderTarg'+'ets']['clear'](),_0x95d4e8['forEach'](_0x34ac1f=>{_0x34ac1f['renderTarg'+'ets']['forEach'](_0x5ac422=>{_0x668859(_0x5ac422);}),_0x34ac1f['renderTarg'+'ets']['length']=0x252*0x1+0xfa2+-0x4*0x47d;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x2f6564,_0x5bae82,_0x43e433,_0x5b6ebd){const _0x3d31de=new cs();_0x3d31de['name']='lmMaterial'+'-pass:'+_0x43e433+'-ambient:'+_0x5b6ebd,_0x3d31de['chunks']['APIVersion']=hi;const _0x3ab013='#define\x20UV'+'1LAYOUT\x0a';if(_0x3d31de['chunks']['transformV'+'S']=_0x3ab013+X['transformV'+'S'],_0x43e433===xP){let _0x37c317=vo['bakeLmEndP'+'S'];_0x5b6ebd?_0x37c317='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x5bae82['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](0x5a2*0x2+-0x25ec+0x1aa9)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x5bae82['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](-0x15c+0x88f+-0x732)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x37c317:_0x3d31de['ambient']=new j(-0x73+0x115*0x11+-0x11f2,-0x180*0x2+-0x81*0x36+0x509*0x6,-0x34+0x6*0x301+-0x11d2*0x1),_0x3d31de['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x3d31de['chunks']['endPS']=_0x37c317,_0x3d31de['lightMap']=this['blackTex'];}else _0x3d31de['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x3d31de['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x3d31de['chunks']['outputAlph'+'aPS']='\x0a',_0x3d31de['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x3d31de['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x3d31de['cull']=mt,_0x3d31de['forceUv1']=!(0x2*0xca9+-0x2f3+-0x53*0x45),_0x3d31de['update'](),_0x3d31de;}['createMate'+'rials'](_0x439fdf,_0x45ecaf,_0xb7445d){for(let _0x4bb265=-0x305*-0xb+0x25e8+-0x99*0x77;_0x4bb265<_0xb7445d;_0x4bb265++)this['passMateri'+'als'][_0x4bb265]||(this['passMateri'+'als'][_0x4bb265]=this['createMate'+'rialForPas'+'s'](_0x439fdf,_0x45ecaf,_0x4bb265,!(0x153d+-0x7*-0x46c+-0x3430)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x439fdf,_0x45ecaf,-0xbb9*-0x3+-0x2*0x742+0x1*-0x14a7,!(0xfcf+0x2121+-0x30f0)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x421564){return _0x421564['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x7e+0x29*0x51+-0xc7b),_0x421564['litOptions']['separateAm'+'bient']=!(0x1b2f+-0x1*-0x112d+-0x2c5c),_0x421564;});}['createText'+'ure'](_0x4ee032,_0x1a164b){return new he(this['device'],{'profilerHint':Oy,'width':_0x4ee032,'height':_0x4ee032,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x2503+0x1cf8+0xa*-0x699),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x1a164b});}['collectMod'+'els'](_0x12db28,_0x3c0525,_0x1ab720){var _0x3b2971,_0x4399e9,_0x511f2b;if(!_0x12db28['enabled'])return;let _0x2a0f28;if((_0x3b2971=_0x12db28['model'])!=null&&_0x3b2971['model']&&((_0x4399e9=_0x12db28['model'])!=null&&_0x4399e9['enabled'])&&(_0x1ab720&&_0x1ab720['push'](new $l(_0x12db28)),_0x12db28['model']['lightmappe'+'d']&&_0x3c0525&&(_0x2a0f28=_0x12db28['model']['model']['meshInstan'+'ces'])),(_0x511f2b=_0x12db28['render'])!=null&&_0x511f2b['enabled']&&(_0x1ab720&&_0x1ab720['push'](new $l(_0x12db28)),_0x12db28['render']['lightmappe'+'d']&&_0x3c0525&&(_0x2a0f28=_0x12db28['render']['meshInstan'+'ces'])),_0x2a0f28){let _0x1d8d4f=!(-0x478+0x619+-0x1a1);for(let _0x477b36=-0x25*0xb5+-0x3d*-0x2b+0xfea;_0x477b36<_0x2a0f28['length'];_0x477b36++)if(!_0x2a0f28[_0x477b36]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x12db28['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x1d8d4f=!(0x127e+-0x262b+0x13ae);break;}if(_0x1d8d4f){const _0x24931d=[];for(let _0x548eb1=0x1790+0xeb*-0x1+-0x16a5;_0x548eb1<_0x2a0f28['length'];_0x548eb1++){const _0x2abd1e=_0x2a0f28[_0x548eb1]['mesh'];this['_tempSet']['has'](_0x2abd1e)?_0x3c0525['push'](new $l(_0x12db28,[_0x2a0f28[_0x548eb1]])):_0x24931d['push'](_0x2a0f28[_0x548eb1]),this['_tempSet']['add'](_0x2abd1e);}this['_tempSet']['clear'](),_0x24931d['length']>0x8*0x28d+0x3*0xa75+-0x33c7&&_0x3c0525['push'](new $l(_0x12db28,_0x24931d));}}for(let _0x2186df=0x20e8+-0x1*-0x136+-0x221e;_0x2186df<_0x12db28['_children']['length'];_0x2186df++)this['collectMod'+'els'](_0x12db28['_children'][_0x2186df],_0x3c0525,_0x1ab720);}['prepareSha'+'dowCasters'](_0x17ff46){const _0x470388=[];for(let _0x5e99ab=-0x283*-0xc+-0x35*0x43+-0x1045;_0x5e99ab<_0x17ff46['length'];_0x5e99ab++){const _0x4778b2=_0x17ff46[_0x5e99ab]['component'];if(_0x4778b2['castShadow'+'s']=_0x4778b2['castShadow'+'sLightmap'],_0x4778b2['castShadow'+'sLightmap']){const _0x5369de=_0x17ff46[_0x5e99ab]['meshInstan'+'ces'];for(let _0x226612=-0x1f3d*-0x1+0x6a7+0x61*-0x64;_0x226612<_0x5369de['length'];_0x226612++)_0x5369de[_0x226612]['visibleThi'+'sFrame']=!(-0xa08+-0x7*0x411+0x267f),_0x470388['push'](_0x5369de[_0x226612]);}}return _0x470388;}['updateTran'+'sforms'](_0x1d7f3a){for(let _0xc44bdc=0x1d5*-0xa+0x22ca+-0x1078;_0xc44bdc<_0x1d7f3a['length'];_0xc44bdc++){const _0x5b7eea=_0x1d7f3a[_0xc44bdc]['meshInstan'+'ces'];for(let _0x401452=0x22b+0xeb6+-0x10e1;_0x401452<_0x5b7eea['length'];_0x401452++)_0x5b7eea[_0x401452]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x3d5e8b){let _0x1a71cb;const _0x10605a=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0x35f*0x8+0x1fe1*0x1+-0x1*0x4d9,_0x84b7c1=Wl;let _0x6480e4,_0x58e729;_0x3d5e8b['model']?(_0x58e729=_0x3d5e8b['model']['lightmapSi'+'zeMultipli'+'er'],_0x3d5e8b['model']['asset']?(_0x1a71cb=this['assets']['get'](_0x3d5e8b['model']['asset'])['data'],_0x1a71cb['area']&&(_0x6480e4=_0x1a71cb['area'])):_0x3d5e8b['model']['_area']&&(_0x1a71cb=_0x3d5e8b['model'],_0x1a71cb['_area']&&(_0x6480e4=_0x1a71cb['_area']))):_0x3d5e8b['render']&&(_0x58e729=_0x3d5e8b['render']['lightmapSi'+'zeMultipli'+'er'],_0x3d5e8b['render']['type']!=='asset'&&_0x3d5e8b['render']['_area']&&(_0x1a71cb=_0x3d5e8b['render'],_0x1a71cb['_area']&&(_0x6480e4=_0x1a71cb['_area'])));const _0xee3470={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x6480e4&&(_0xee3470['x']=_0x6480e4['x'],_0xee3470['y']=_0x6480e4['y'],_0xee3470['z']=_0x6480e4['z'],_0xee3470['uv']=_0x6480e4['uv']);const _0x5b9af0=_0x58e729||-0x125*0x18+-0xb6b*-0x2+0x4a3;_0xee3470['x']*=_0x5b9af0,_0xee3470['y']*=_0x5b9af0,_0xee3470['z']*=_0x5b9af0;const _0x1cdbf1=_0x3d5e8b['render']||_0x3d5e8b['model'],_0x363793=this['computeNod'+'eBounds'](_0x1cdbf1['meshInstan'+'ces']);_0x84b7c1['copy'](_0x363793['halfExtent'+'s']);let _0x2eb050=_0xee3470['x']*_0x84b7c1['y']*_0x84b7c1['z']+_0xee3470['y']*_0x84b7c1['x']*_0x84b7c1['z']+_0xee3470['z']*_0x84b7c1['x']*_0x84b7c1['y'];return _0x2eb050/=_0xee3470['uv'],_0x2eb050=Math['sqrt'](_0x2eb050),Math['min'](N['nextPowerO'+'fTwo'](_0x2eb050*_0x10605a),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x4bc07,_0x24545c,_0x399138,_0x153d0d){for(let _0x129dc7=0x1b9d+-0xc17+-0xf86;_0x129dc7<_0x4bc07['length'];_0x129dc7++){const _0x4e0360=_0x4bc07[_0x129dc7],_0x4bcca3=_0x4e0360['meshInstan'+'ces'];for(let _0x587426=-0x727+-0xb84+-0x3*-0x639;_0x587426<_0x4bcca3['length'];_0x587426++){const _0x73b82=_0x4bcca3[_0x587426];if(_0x73b82['setLightma'+'pped'](_0x24545c),_0x24545c){_0x153d0d&&(_0x73b82['_shaderDef'+'s']|=_0x153d0d),_0x73b82['mask']=cr;for(let _0x33b66e=-0xa5c+0x1434*0x1+-0x18*0x69;_0x33b66e<_0x399138;_0x33b66e++){const _0x4118f0=_0x4e0360['renderTarg'+'ets'][_0x33b66e]['colorBuffe'+'r'];_0x4118f0['minFilter']=st,_0x4118f0['magFilter']=st,_0x73b82['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x33b66e],_0x4118f0);}}}}}['bake'](_0x1df8f9,_0x5db69c=ch){const _0x4ab3ec=this['device'],_0x2fb55e=ne();this['scene']['_updateSky'+'Mesh'](),_0x4ab3ec['fire']('lightmappe'+'r:start',{'timestamp':_0x2fb55e,'target':this}),this['stats']['renderPass'+'es']=-0x194b+0x3*-0x3b1+0x245e*0x1,this['stats']['shadowMapT'+'ime']=-0x3c3+0xe5f*-0x2+0x2081,this['stats']['forwardTim'+'e']=-0x26f4+-0x27f+0x2973;const _0x3125c7=_0x4ab3ec['_shaderSta'+'ts']['linked'],_0x285535=_0x4ab3ec['_renderTar'+'getCreatio'+'nTime'],_0x110127=_0x4ab3ec['_shaderSta'+'ts']['compileTim'+'e'],_0xa49ce2=[],_0x6b4fd3=[];if(_0x1df8f9){for(let _0x35299e=0xe*-0x17+-0x1e*0x12f+0x34*0xb5;_0x35299e<_0x1df8f9['length'];_0x35299e++)this['collectMod'+'els'](_0x1df8f9[_0x35299e],_0xa49ce2,null);this['collectMod'+'els'](this['root'],null,_0x6b4fd3);}else this['collectMod'+'els'](this['root'],_0xa49ce2,_0x6b4fd3);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0xa49ce2['length']>-0xe4b*-0x1+0x2417*0x1+-0x3262){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x1ed4cb=_0x5db69c===ch?0x1462*-0x1+-0x8*0x1f4+-0x901*-0x4:-0x1*-0x1f01+0x328*-0x3+-0x1588;this['setLightma'+'pping'](_0xa49ce2,!(0x2476+0x5*0x107+-0x2998),_0x1ed4cb),this['initBake'](_0x4ab3ec),this['bakeIntern'+'al'](_0x1ed4cb,_0xa49ce2,_0x6b4fd3);let _0x44befb=Fu;_0x5db69c===ch&&(_0x44befb|=y0),this['scene']['ambientBak'+'e']&&(_0x44befb|=x0),this['setLightma'+'pping'](_0xa49ce2,!(0xf38+0x1*0xd2d+-0x1c65),_0x1ed4cb,_0x44befb),this['finishBake'](_0xa49ce2);}G['popGpuMark'+'er'](this['device']);const _0x2d6107=ne();this['stats']['totalRende'+'rTime']=_0x2d6107-_0x2fb55e,this['stats']['shadersLin'+'ked']=_0x4ab3ec['_shaderSta'+'ts']['linked']-_0x3125c7,this['stats']['compileTim'+'e']=_0x4ab3ec['_shaderSta'+'ts']['compileTim'+'e']-_0x110127,this['stats']['fboTime']=_0x4ab3ec['_renderTar'+'getCreatio'+'nTime']-_0x285535,this['stats']['lightmapCo'+'unt']=_0xa49ce2['length'],_0x4ab3ec['fire']('lightmappe'+'r:end',{'timestamp':_0x2d6107,'target':this});}['allocateTe'+'xtures'](_0x2cad8b,_0x929c5a){for(let _0x39f539=-0x1b*0x63+-0x19*0x93+0x18cc;_0x39f539<_0x2cad8b['length'];_0x39f539++){const _0x4ed8c0=_0x2cad8b[_0x39f539],_0x4df24f=this['calculateL'+'ightmapSiz'+'e'](_0x4ed8c0['node']);for(let _0xe2fd61=0x78a+0x1dce+-0x14*0x1de;_0xe2fd61<_0x929c5a;_0xe2fd61++){const _0x153935=this['createText'+'ure'](_0x4df24f,'lightmappe'+'r_lightmap'+'_'+_0x39f539);Si['incRef'](_0x153935),_0x4ed8c0['renderTarg'+'ets'][_0xe2fd61]=new pt({'colorBuffer':_0x153935,'depth':!(0x1114+-0x1a26+-0x913*-0x1)});}if(!this['renderTarg'+'ets']['has'](_0x4df24f)){const _0x3ec9cd=this['createText'+'ure'](_0x4df24f,'lightmappe'+'r_temp_lig'+'htmap_'+_0x4df24f);Si['incRef'](_0x3ec9cd),this['renderTarg'+'ets']['set'](_0x4df24f,new pt({'colorBuffer':_0x3ec9cd,'depth':!(-0x2065+-0x82*0x47+0x1a*0x2a2)}));}}}['prepareLig'+'htsToBake'](_0x41877f,_0x15e42f){if(this['scene']['ambientBak'+'e']){const _0x33fd41=new j_(this);_0x15e42f['push'](_0x33fd41);}const _0x5ef4df=this['renderer']['lights'];for(let _0x1afa0b=0x1544*0x1+-0x1*-0xbda+-0x211e;_0x1afa0b<_0x5ef4df['length'];_0x1afa0b++){const _0xcbf67b=_0x5ef4df[_0x1afa0b],_0x155987=new mP(this,_0xcbf67b);_0x41877f['push'](_0x155987),_0xcbf67b['enabled']&&(_0xcbf67b['mask']&rr)!==0x26fa+0x791+-0x2e8b&&(_0xcbf67b['mask']=rr|cr|hs,_0xcbf67b['shadowUpda'+'teMode']=_0xcbf67b['type']===oe?Pp:cn,_0x15e42f['push'](_0x155987));}_0x15e42f['sort']();}['restoreLig'+'hts'](_0x2a319c){for(let _0x996582=-0xba8+0xc5*0x8+-0x80*-0xb;_0x996582<_0x2a319c['length'];_0x996582++)_0x2a319c[_0x996582]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x2593+0x5*0x32b+0x35*-0x102,0x319*0x9+-0x2*-0x10be+-0x3d5d,-0xe4a+-0x1457+0x22a1),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x3a2a92){const _0x13617b=new _e();if(_0x3a2a92['length']>0x1b24+-0x24e5+0x9c1){_0x13617b['copy'](_0x3a2a92[0x2062+-0x197d*0x1+-0x6e5]['aabb']);for(let _0x5b495=-0x48*0x3+-0x6cc+0x13*0x67;_0x5b495<_0x3a2a92['length'];_0x5b495++)_0x13617b['add'](_0x3a2a92[_0x5b495]['aabb']);}return _0x13617b;}['computeNod'+'esBounds'](_0xf57af7){for(let _0x32ce73=0x1d13+0xe10+0x1b*-0x199;_0x32ce73<_0xf57af7['length'];_0x32ce73++){const _0x31ef61=_0xf57af7[_0x32ce73]['meshInstan'+'ces'];_0xf57af7[_0x32ce73]['bounds']=this['computeNod'+'eBounds'](_0x31ef61);}}['computeBou'+'nds'](_0x54cd38){const _0x48ee32=new _e();for(let _0x4f1fff=0x1f77+-0x16a0+0x1f*-0x49;_0x4f1fff<_0x54cd38['length'];_0x4f1fff++){_0x48ee32['copy'](_0x54cd38[0x1e85+-0x4eb+0x199a*-0x1]['aabb']);for(let _0x29dc51=0x1973*0x1+0x1465*0x1+0x1*-0x2dd7;_0x29dc51<_0x54cd38['length'];_0x29dc51++)_0x48ee32['add'](_0x54cd38[_0x29dc51]['aabb']);}return _0x48ee32;}['backupMate'+'rials'](_0x407cdb){for(let _0x1ba8fd=-0x1dd3+-0x303+0x20d6*0x1;_0x1ba8fd<_0x407cdb['length'];_0x1ba8fd++)this['materials'][_0x1ba8fd]=_0x407cdb[_0x1ba8fd]['material'];}['restoreMat'+'erials'](_0x44e4d4){for(let _0xe0f49d=0x1*0x21c1+-0x94f*0x3+0x5d4*-0x1;_0xe0f49d<_0x44e4d4['length'];_0xe0f49d++)_0x44e4d4[_0xe0f49d]['material']=this['materials'][_0xe0f49d];}['lightCamer'+'aPrepare'](_0x22568c,_0x6a03a6){const _0x1a7d4f=_0x6a03a6['light'];let _0x4dfe2a;return _0x1a7d4f['type']===Re&&(_0x4dfe2a=_0x1a7d4f['getRenderD'+'ata'](null,-0x3e*-0x3e+-0x11de*0x1+0x2da)['shadowCame'+'ra'],_0x4dfe2a['_node']['setPositio'+'n'](_0x1a7d4f['_node']['getPositio'+'n']()),_0x4dfe2a['_node']['setRotatio'+'n'](_0x1a7d4f['_node']['getRotatio'+'n']()),_0x4dfe2a['_node']['rotateLoca'+'l'](-(-0x1*-0x8e6+0x20ce+-0x14ad*0x2),-0xf7*-0x22+-0x13f6+-0xcd8,0x1*0x17e1+0xd78+0xc73*-0x3),_0x4dfe2a['projection']=Gs,_0x4dfe2a['nearClip']=_0x1a7d4f['attenuatio'+'nEnd']/(-0x3*0x161+-0x1*-0x1951+-0x1146),_0x4dfe2a['farClip']=_0x1a7d4f['attenuatio'+'nEnd'],_0x4dfe2a['aspectRati'+'o']=0x489+0x395*-0x7+-0x1*-0x148b,_0x4dfe2a['fov']=_0x1a7d4f['_outerCone'+'Angle']*(-0x7*-0x2bd+0x437*0x7+0x1855*-0x2),this['renderer']['updateCame'+'raFrustum'](_0x4dfe2a)),_0x4dfe2a;}['lightCamer'+'aPrepareAn'+'dCull'](_0x3022a9,_0x594150,_0xbed536,_0x5786ca){const _0x170cd3=_0x3022a9['light'];let _0x19d801=!(-0x41*0x3e+0x7a3+-0x5*-0x19f);if(_0x170cd3['type']===oe){Wl['copy'](_0x5786ca['center']),Wl['y']+=_0x5786ca['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](Wl),this['camera']['node']['setEulerAn'+'gles'](-(0xa7e*0x1+0x4b4*-0x3+0x3f8),-0x6ff+0x543+0x4*0x6f,-0x2514+0x1*0x142f+-0x19*-0xad),this['camera']['nearClip']=0x20df+-0x1865+-0x7*0x136,this['camera']['farClip']=_0x5786ca['halfExtent'+'s']['y']*(-0xa5+-0x55*-0x2b+-0xda0);const _0x5ac9c7=Math['max'](_0x5786ca['halfExtent'+'s']['x'],_0x5786ca['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x5ac9c7;}else _0x3022a9['lightBound'+'s']['intersects'](_0x594150['bounds'])||(_0x19d801=!(-0xe*0x141+-0x618+-0x4bb*-0x5));if(_0x170cd3['type']===Re){let _0x35d013=!(0x442+0x4b*0x7+-0x64e);const _0x30728f=_0x594150['meshInstan'+'ces'];for(let _0x48ef46=-0xedd+-0x14b9+-0x11cb*-0x2;_0x48ef46<_0x30728f['length'];_0x48ef46++)if(_0x30728f[_0x48ef46]['_isVisible'](_0xbed536)){_0x35d013=!(0x1343*-0x2+0x1*-0xabe+0x3144);break;}_0x35d013||(_0x19d801=!(0x1*-0x1a77+0xdee+0xc8a));}return _0x19d801;}['setupLight'+'Array'](_0x36dc07,_0x2db963){_0x36dc07[oe]['length']=-0x133*-0x7+0x1*0x26f2+0x1*-0x2f57,_0x36dc07[Pe]['length']=0x35*0x9+0x1854*0x1+-0x1*0x1a31,_0x36dc07[Re]['length']=-0x1b15+0x26ff+-0xbea,_0x36dc07[_0x2db963['type']][-0x1734+0x51*-0x5d+0x34a1]=_0x2db963,_0x2db963['visibleThi'+'sFrame']=!(0x8e*0x15+0x115*0x23+0x1*-0x3185);}['renderShad'+'owMap'](_0x3f7d2a,_0x5e189c,_0x23d2e4,_0x5e40a7){const _0x2e9910=_0x5e40a7['light'],_0x5e4e14=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x2d00d4=_0x2e9910['castShadow'+'s']&&(!_0x5e4e14||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x5e189c&&_0x2d00d4){if(!_0x2e9910['shadowMap']&&!_0x5e4e14&&(_0x2e9910['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x2e9910)),_0x2e9910['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x2e9910,_0x3f7d2a,this['camera'],_0x23d2e4);const _0x2665a3=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x2e9910,this['camera']);_0x2665a3==null||_0x2665a3['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(0x1*0x1957+0x37d*-0x4+0x37*-0x35);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x2e9910,_0x3f7d2a,_0x23d2e4),this['renderer']['shadowRend'+'erer']['render'](_0x2e9910,this['camera'],!(-0x187a+-0xad0*-0x2+0x2db));}}return!(0xd8b+0x2*0x88c+-0x1ea3);}['postproces'+'sTextures'](_0x1d217d,_0x5d9f08,_0x4e9e45){const _0x56247f=this['lightmapFi'+'lters']['getDilate'](_0x1d217d,this['bakeHDR']);let _0xab9cbf;const _0x211430=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x211430&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0xab9cbf=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x1d217d['setBlendSt'+'ate'](_t['NOBLEND']),_0x1d217d['setDepthSt'+'ate'](as['NODEPTH']),_0x1d217d['setStencil'+'State'](null,null);for(let _0x24f168=-0x1*-0x11+0x16df+-0x16f0;_0x24f168<_0x5d9f08['length'];_0x24f168++){const _0x3a94f6=_0x5d9f08[_0x24f168];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x24f168);for(let _0x387d6d=0x1d05+-0x33b*-0x2+0x1f*-0x125;_0x387d6d<_0x4e9e45;_0x387d6d++){const _0x34a6f0=_0x3a94f6['renderTarg'+'ets'][_0x387d6d],_0x487c89=_0x34a6f0['colorBuffe'+'r'],_0x24f71c=this['renderTarg'+'ets']['get'](_0x487c89['width']),_0x2a9101=_0x24f71c['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x487c89['width'],_0x487c89['height']);for(let _0x5a631c=-0x141b+0x4ab*-0x2+0x1d71*0x1;_0x5a631c<-0x1509+-0x17d2*0x1+0x2cdc;_0x5a631c++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x487c89),dn(_0x1d217d,_0x24f71c,_0x211430&&_0x387d6d===0xc65+-0x1c06*0x1+0x1*0xfa1&&_0x5a631c===0x1*-0x4a8+0xd0c+-0xc*0xb3?_0xab9cbf:_0x56247f),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x2a9101),dn(_0x1d217d,_0x34a6f0,_0x56247f);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x2f4753,_0x3eab14,_0x3b28e2){const _0x3dca9a=this['scene'],_0x531454=_0x3dca9a['layers'],_0x1a3c1e=this['device'],_0x3b8b5e=_0x3dca9a['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x1a3c1e,_0x3dca9a,_0x2f4753),this['setupScene'](),_0x531454['_update'](),this['computeNod'+'esBounds'](_0x3eab14),this['allocateTe'+'xtures'](_0x3eab14,_0x2f4753),this['renderer']['collectLig'+'hts'](_0x531454);const _0x144fae=[],_0x2f7a73=[];this['prepareLig'+'htsToBake'](_0x144fae,_0x2f7a73),this['updateTran'+'sforms'](_0x3b28e2);const _0x4d4dac=this['prepareSha'+'dowCasters'](_0x3b28e2);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x4d4dac),this['renderer']['gpuUpdate'](_0x4d4dac);const _0x670f7c=this['computeBou'+'nds'](_0x4d4dac);let _0x31a54b,_0x7ba137,_0x5f0f5b,_0x466e3b;for(_0x31a54b=-0x831+0x7*0x58f+-0xf5c*0x2;_0x31a54b<_0x3eab14['length'];_0x31a54b++)for(_0x5f0f5b=_0x3eab14[_0x31a54b]['meshInstan'+'ces'],_0x7ba137=-0x10*-0x17f+-0x65*0x3+0xe9*-0x19;_0x7ba137<_0x5f0f5b['length'];_0x7ba137++)_0x466e3b=_0x5f0f5b[_0x7ba137],_0x466e3b['setLightma'+'pped'](!(0x430+-0xaf2+-0x6c3*-0x1)),_0x466e3b['mask']=rr,_0x466e3b['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0x1*-0x245b+-0x212d+-0x16*0x25],this['blackTex']),_0x466e3b['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0x7*0x219+-0x45*-0x65+0x1*-0xc89],this['blackTex']);for(_0x7ba137=0x3a*0x24+-0x2*-0xbaa+-0x1f7c;_0x7ba137<_0x2f7a73['length'];_0x7ba137++)_0x2f7a73[_0x7ba137]['light']['enabled']=!(-0x22e1+0x889+0x1a59*0x1);const _0x2d8ddf=[[],[],[]];let _0x436a50,_0x1efc74,_0x1f80be=!(-0x3*-0x4b7+-0x54d+-0x49*0x1f);for(_0x31a54b=0xc1*-0x8+-0x24*-0xc7+-0x15f4;_0x31a54b<_0x2f7a73['length'];_0x31a54b++){const _0x342352=_0x2f7a73[_0x31a54b],_0x2cd163=_0x342352 instanceof j_,_0x1619c1=_0x342352['light']['type']===oe;let _0x3d1060=_0x342352['numVirtual'+'Lights'];_0x2f4753>0x1040+0x862+-0x1e5*0xd&&_0x3d1060>-0x113f+0x4*0x626+0x178*-0x5&&_0x342352['light']['bakeDir']&&(_0x3d1060=-0x5*0x6e1+-0x2*0xd1c+0x3c9e*0x1,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x13ee79=-0x215*0xd+0x2*0x23b+0x169b;_0x13ee79<_0x3d1060;_0x13ee79++){G['pushGpuMar'+'ker'](_0x1a3c1e,'Light:'+_0x342352['light']['_node']['name']+':'+_0x13ee79),_0x3d1060>0xdb8+0xbf3+-0x19aa&&_0x342352['prepareVir'+'tualLight'](_0x13ee79,_0x3d1060),_0x342352['startBake']();let _0x1b4fb1=!(-0x2548+0x59d+-0x7eb*-0x4);const _0x9f570f=this['lightCamer'+'aPrepare'](_0x1a3c1e,_0x342352);for(_0x1efc74=-0x9f0+0x498+0x26*0x24;_0x1efc74<_0x3eab14['length'];_0x1efc74++){const _0x59d941=_0x3eab14[_0x1efc74];if(_0x5f0f5b=_0x59d941['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x342352,_0x59d941,_0x9f570f,_0x670f7c))continue;this['setupLight'+'Array'](_0x2d8ddf,_0x342352['light']);const _0x3267b1=_0x1619c1?[]:[_0x342352['light']];for(_0x3b8b5e&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x3267b1,this['lightingPa'+'rams']),_0x1b4fb1=this['renderShad'+'owMap'](_0x531454,_0x1b4fb1,_0x4d4dac,_0x342352),_0x3b8b5e&&this['worldClust'+'ers']['update'](_0x3267b1,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x5f0f5b),_0x436a50=0x535+-0x1d9a+-0x1*-0x1865;_0x436a50<_0x2f4753&&!(_0x436a50>-0x1234*0x2+0x1*-0x12d6+0x373e&&_0x13ee79>-0x204d*0x1+-0x3cb*-0x6+0x98b||_0x2cd163&&_0x436a50>0x1*0x595+0x1*0x19ac+-0x477*0x7);_0x436a50++){G['pushGpuMar'+'ker'](_0x1a3c1e,'LMPass:'+_0x436a50);const _0x4b063=_0x59d941['renderTarg'+'ets'][_0x436a50],_0x14e77b=_0x59d941['renderTarg'+'ets'][_0x436a50]['colorBuffe'+'r']['width'],_0x593a59=this['renderTarg'+'ets']['get'](_0x14e77b),_0x219860=_0x593a59['colorBuffe'+'r'];_0x436a50===-0x216d*-0x1+0xad4+-0x2c41?_0x1f80be=_0x3dca9a['updateShad'+'ers']:_0x1f80be&&(_0x3dca9a['updateShad'+'ers']=!(0x5ed*0x1+0xb*0x1f6+-0x1b7f));let _0x40da5d=this['passMateri'+'als'][_0x436a50];for(_0x2cd163&&_0x13ee79+(0x18f7+0x44*0x15+-0x1*0x1e8a)===_0x3d1060&&_0x436a50===-0x1056+-0x12a6+0x22fc&&(_0x40da5d=this['ambientAOM'+'aterial']),_0x7ba137=0x501*0x1+0x105*-0xb+0x1e*0x35;_0x7ba137<_0x5f0f5b['length'];_0x7ba137++)_0x5f0f5b[_0x7ba137]['material']=_0x40da5d;if(this['renderer']['updateShad'+'ers'](_0x5f0f5b),_0x436a50===SP&&this['constantBa'+'keDir']['setValue'](_0x342352['light']['bakeDir']?-0x5*0x1e4+0x1afd+-0x1188:0x2033*-0x1+-0xbcf+-0x106*-0x2b),_0x1a3c1e['isWebGPU']){const _0x26b253=new gP(_0x1a3c1e,this['renderer'],this['camera'],_0x3b8b5e?this['worldClust'+'ers']:null,_0x5f0f5b,_0x2d8ddf);_0x26b253['init'](_0x593a59),_0x26b253['render'](),_0x26b253['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x593a59,!(-0x776+-0x13ba+-0xd98*-0x2)),_0x3b8b5e&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0xf85*0x1+-0x243+0x11c8,this['renderer']['_shadowMap'+'Time']=-0x10b+-0x1bf8+-0x7*-0x425,this['renderer']['renderForw'+'ard'](this['camera'],_0x593a59,_0x5f0f5b,_0x2d8ddf,gn),_0x1a3c1e['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x59d941['renderTarg'+'ets'][_0x436a50]=_0x593a59,this['renderTarg'+'ets']['set'](_0x14e77b,_0x4b063),_0x7ba137=-0x921+-0x1dd7+0x74*0x56;_0x7ba137<_0x5f0f5b['length'];_0x7ba137++)_0x466e3b=_0x5f0f5b[_0x7ba137],_0x466e3b['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x436a50],_0x219860),_0x466e3b['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x1a3c1e);}this['restoreMat'+'erials'](_0x5f0f5b);}_0x342352['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x1a3c1e);}}for(this['postproces'+'sTextures'](_0x1a3c1e,_0x3eab14,_0x2f4753),_0x1efc74=-0x35*-0x3d+-0x174+0xb2d*-0x1;_0x1efc74<_0x3b28e2['length'];_0x1efc74++)_0x3b28e2[_0x1efc74]['restore']();this['restoreLig'+'hts'](_0x144fae),this['restoreSce'+'ne'](),_0x3b8b5e||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x43c9dc,_0x21c2d8){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x43c9dc,this['entity']=_0x21c2d8,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x392b43,_0xe3e78e,_0xa2b1a6){this['fire']('set_'+_0x392b43,_0x392b43,_0xe3e78e,_0xa2b1a6);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x2f339c,_0x5255df){_0x5255df['forEach'](_0x59b81b=>{const _0x3ebbbe=typeof _0x59b81b=='object'?_0x59b81b['name']:_0x59b81b;Object['defineProp'+'erty'](_0x2f339c,_0x3ebbbe,{'get':function(){return this['data'][_0x3ebbbe];},'set':function(_0x1903db){const _0x484a93=this['data'],_0x23bc72=_0x484a93[_0x3ebbbe];_0x484a93[_0x3ebbbe]=_0x1903db,this['fire']('set',_0x3ebbbe,_0x23bc72,_0x1903db);},'configurable':!(-0x9*0x3da+-0x21b6+0x1118*0x4)});}),_0x2f339c['_accessors'+'Built']=!(-0x1*-0x2383+0xb7d+-0x10*0x2f0);}['buildAcces'+'sors'](_0x460840){oc['_buildAcce'+'ssors'](this,_0x460840);}['onSetEnabl'+'ed'](_0xfcfaa,_0x2cfba6,_0x10ba17){_0x2cfba6!==_0x10ba17&&this['entity']['enabled']&&(_0x10ba17?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x412ab8=this['system']['store'][this['entity']['getGuid']()];return _0x412ab8?_0x412ab8['data']:null;}set['enabled'](_0x20bd55){}get['enabled'](){return!(-0x241a*-0x1+0x3a1*0x1+0x27bb*-0x1);}};c(oc,'order',0xd46+0x26f2+-0x687*0x8);let ue=oc;class Xe extends ce{constructor(_0x3d703b){super(),this['app']=_0x3d703b,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x58719a,_0x1e1989={}){const _0x14c968=new this['ComponentT'+'ype'](this,_0x58719a),_0x260b39=new this['DataType']();return this['store'][_0x58719a['getGuid']()]={'entity':_0x58719a,'data':_0x260b39},_0x58719a[this['id']]=_0x14c968,_0x58719a['c'][this['id']]=_0x14c968,this['initialize'+'ComponentD'+'ata'](_0x14c968,_0x1e1989,[]),this['fire']('add',_0x58719a,_0x14c968),_0x14c968;}['removeComp'+'onent'](_0x5a681e){const _0x439141=this['id'],_0x3f31dd=this['store'][_0x5a681e['getGuid']()],_0x577488=_0x5a681e['c'][_0x439141];_0x577488['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x5a681e,_0x577488),delete this['store'][_0x5a681e['getGuid']()],_0x5a681e[_0x439141]=void(0x19f6+-0x10df+-0x917),delete _0x5a681e['c'][_0x439141],this['fire']('remove',_0x5a681e,_0x3f31dd['data']);}['cloneCompo'+'nent'](_0x2575d9,_0x1f1ef0){const _0x39a974=this['store'][_0x2575d9['getGuid']()];return this['addCompone'+'nt'](_0x1f1ef0,_0x39a974['data']);}['initialize'+'ComponentD'+'ata'](_0x3cd83a,_0x188628={},_0x3fc756){for(let _0x2ba633=-0x1ce3+-0x13f9*-0x1+0x7*0x146,_0x596213=_0x3fc756['length'];_0x2ba633<_0x596213;_0x2ba633++){const _0x1eea08=_0x3fc756[_0x2ba633];let _0x2fec43,_0x33db8d;typeof _0x1eea08=='object'?(_0x2fec43=_0x1eea08['name'],_0x33db8d=_0x1eea08['type']):(_0x2fec43=_0x1eea08,_0x33db8d=void(0x75f+0x4*-0x1ce+-0x27));let _0x53606c=_0x188628[_0x2fec43];_0x53606c!==void(-0x1dff+0x5e*-0x1+-0x1e5d*-0x1)?(_0x33db8d!==void(0x1058*0x1+0x1*0x387+-0x13df)&&(_0x53606c=bP(_0x53606c,_0x33db8d)),_0x3cd83a[_0x2fec43]=_0x53606c):_0x3cd83a[_0x2fec43]=_0x3cd83a['data'][_0x2fec43];}_0x3cd83a['enabled']&&_0x3cd83a['entity']['enabled']&&_0x3cd83a['onEnable']();}['getPropert'+'iesOfType'](_0x1fc347){const _0x296d2a=[];return(this['schema']||[])['forEach'](_0x19e695=>{_0x19e695&&typeof _0x19e695=='object'&&_0x19e695['type']===_0x1fc347&&_0x296d2a['push'](_0x19e695);}),_0x296d2a;}['destroy'](){this['off']();}}function bP(_0x538af1,_0x270fbd){if(!_0x538af1)return _0x538af1;switch(_0x270fbd){case'rgb':return _0x538af1 instanceof j?_0x538af1['clone']():new j(_0x538af1[0xc*0x2f3+0x2a1*-0x3+-0x1b81],_0x538af1[0x5*0x296+-0x1a8d+0x20*0x6d],_0x538af1[0x1b58+-0x1*-0x1b23+-0x3679]);case'rgba':return _0x538af1 instanceof j?_0x538af1['clone']():new j(_0x538af1[0x1550+0xd2*0x11+-0x2342*0x1],_0x538af1[-0x67*0x5c+0x238c+-0x1*-0x179],_0x538af1[-0xf07*-0x2+-0x76*0x11+-0x1636],_0x538af1[-0x23bc+0xf1c+0x24b*0x9]);case'vec2':return _0x538af1 instanceof $?_0x538af1['clone']():new $(_0x538af1[0x1651+-0x1*-0xe9+-0x173a*0x1],_0x538af1[-0x2ab*-0xd+-0x1f08+-0x3a6]);case'vec3':return _0x538af1 instanceof T?_0x538af1['clone']():new T(_0x538af1[-0x28*0x31+0x24*0xab+-0x2*0x832],_0x538af1[-0x10*0x3+-0xee8+-0xf19*-0x1],_0x538af1[-0x82+-0xc6e*-0x2+0x4*-0x616]);case'vec4':return _0x538af1 instanceof Q?_0x538af1['clone']():new Q(_0x538af1[-0x1c2b+0x1b3+0x1a78],_0x538af1[0x25ad+-0xaf3*-0x2+0x19*-0x262],_0x538af1[-0x1692+-0x6d6*-0x1+0xfbe],_0x538af1[0x1287+-0x9a0+-0x2*0x472]);case'boolean':case'number':case'string':return _0x538af1;case'entity':return _0x538af1;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x270fbd);}}const W0=0x45c+0x1747+-0x1ba3*0x1,ju=0x8ed*0x2+0x885*0x1+-0x1a5e,Yu=-0x21c0+0x1342+0x1d0*0x8;class wP{constructor(){this['_left']=(0xaf4+-0xc5*-0x8+-0x111b)/(-0x415+-0x758+0xb6d),this['_right']=-(0x1*-0x1948+-0xe78+-0x1*-0x27c1)/(0x1*-0x1bc+0x85*-0x35+0x1d45),this['_len']=-0x1289+0x196e+-0x6e5,this['_recip']=0x1*-0x743+0x1a*0x11b+0x1a7*-0xd,this['_p0']=-0x3*-0x7c3+-0x1b3*-0xc+0xe8f*-0x3,this['_p1']=0x4*-0x9a4+-0x2490+0x2*0x2590,this['_t']=0x231+-0x17f0+-0x13*-0x125,this['_hermite']={'valid':!(-0x3d5*0x5+0x4*-0x2a9+0x5f6*0x5),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x225b32,_0x3e4462){if(_0x225b32<this['_left']||_0x225b32>=this['_right']){const _0x57876d=_0x3e4462['length'];if(!_0x57876d)this['_left']=-(-0x1a48+0x16*-0x1a8+0x3eb9)/(-0x1225*-0x1+0x832+-0x1a57),this['_right']=(-0x1a2a*-0x1+0x39*-0x11+-0x1660)/(-0x20a4+-0x46c+0x251*0x10),this['_len']=0x3b*-0x4+-0x7*-0xfb+0x1*-0x5f1,this['_recip']=-0x176c+-0x1abc+0x3228,this['_p0']=this['_p1']=-0x166*0x1b+-0xb1*0x22+0xa36*0x6;else{if(_0x225b32<_0x3e4462[0x1*0x1a9a+-0xa0*-0xb+-0x217a*0x1])this['_left']=-(0x2de*0xc+-0x10d8+0x383*-0x5)/(0x1623+0x2281+0x14*-0x2d5),this['_right']=_0x3e4462[-0xa87+-0x2dc*-0x5+-0x3c5*0x1],this['_len']=0xd03*0x1+-0x3*0x8e9+-0x6dc*-0x2,this['_recip']=-0x1*-0x311+-0x282*-0xb+-0x461*0x7,this['_p0']=this['_p1']=0x98*0x35+-0x7cf*0x1+-0x17a9*0x1;else{if(_0x225b32>=_0x3e4462[_0x57876d-(-0x19dc+-0x24ce+0x1*0x3eab)])this['_left']=_0x3e4462[_0x57876d-(-0xd*-0x7f+-0xc*0xb5+0x20a)],this['_right']=(-0x24ec+0x3*-0x1f3+0x2ac6)/(-0x1*-0x181d+-0x4d9*0x3+0xa*-0xf5),this['_len']=0xf69+-0x1e68*0x1+0xeff,this['_recip']=-0x47*0x29+-0x1e40+0x299f,this['_p0']=this['_p1']=_0x57876d-(0x22d1+0x4*0x8d2+0x4*-0x1186);else{const _0x5bdf94=this['_findKey'](_0x225b32,_0x3e4462);this['_left']=_0x3e4462[_0x5bdf94],this['_right']=_0x3e4462[_0x5bdf94+(-0x1525*-0x1+-0x26d4+0x11b0)],this['_len']=this['_right']-this['_left'];const _0x266add=(-0x4*-0x610+-0x6c3+-0x5d4*0x3)/this['_len'];this['_recip']=isFinite(_0x266add)?_0x266add:0xd62+-0x989*-0x1+-0x16eb,this['_p0']=_0x5bdf94,this['_p1']=_0x5bdf94+(-0xceb+-0x1daa+0x2a96);}}}}this['_t']=this['_recip']===0x1a7b+-0x91e*-0x4+-0x5*0xc97?0xa9*0xf+-0x261f+0x1c38:(_0x225b32-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x242d+-0x7fb*0x3+-0xc3b);}['_findKey'](_0x1292b3,_0x4ff6e7){let _0xbf8171=0x182c+0x973*-0x1+-0xeb9;for(;_0x1292b3>=_0x4ff6e7[_0xbf8171+(-0xfad*0x1+0xb15*-0x2+0x25d8)];)_0xbf8171++;return _0xbf8171;}['eval'](_0x8a7536,_0x3ec1c6,_0xeadfc5){const _0x367269=_0xeadfc5['_data'],_0x3eb8cd=_0xeadfc5['_component'+'s'],_0x3553a2=this['_p0']*_0x3eb8cd;if(_0x3ec1c6===W0){for(let _0x25b220=-0x2f*0x5+-0xb*-0xc+0x67*0x1;_0x25b220<_0x3eb8cd;++_0x25b220)_0x8a7536[_0x25b220]=_0x367269[_0x3553a2+_0x25b220];}else{const _0x187a82=this['_t'],_0x46d96d=this['_p1']*_0x3eb8cd;switch(_0x3ec1c6){case ju:for(let _0x4559c6=0x1cc4+-0x1*-0x3d+-0x87*0x37;_0x4559c6<_0x3eb8cd;++_0x4559c6)_0x8a7536[_0x4559c6]=N['lerp'](_0x367269[_0x3553a2+_0x4559c6],_0x367269[_0x46d96d+_0x4559c6],_0x187a82);break;case Yu:{const _0x355a67=this['_hermite'];if(!_0x355a67['valid']){const _0x3436a4=_0x187a82*_0x187a82,_0xb90a9b=_0x187a82+_0x187a82,_0x35715a=-0xdf2+-0x17ae+0x25a1-_0x187a82,_0x5e50b2=_0x35715a*_0x35715a;_0x355a67['valid']=!(0x4cc+0x7*0x4d+0x6e7*-0x1),_0x355a67['p0']=(0x19ce+-0x3cc+0x2b*-0x83+_0xb90a9b)*_0x5e50b2,_0x355a67['m0']=_0x187a82*_0x5e50b2,_0x355a67['p1']=_0x3436a4*(0x1*-0x201b+0xd4b+0x3d*0x4f-_0xb90a9b),_0x355a67['m1']=_0x3436a4*(_0x187a82-(0x1*-0x26d+0x739*0x3+-0xc5*0x19));}const _0x460b83=(this['_p0']*(0x2b*-0x81+0x214d+-0xb9f)+(0x119f+-0x1435+0x297))*_0x3eb8cd,_0x5dc115=(this['_p0']*(-0x1*-0x13c+0x218f+0x1*-0x22c8)+(-0x11f0+0x209*0x5+0x7c5))*_0x3eb8cd,_0x557605=(this['_p1']*(0x5e9*-0x1+0x1b0f+-0x1523*0x1)+(0xf12+-0x265*0x9+-0x14*-0x53))*_0x3eb8cd,_0x689a0c=(this['_p1']*(0x194c+-0xc5*0x11+0x4*-0x30d)+(0x755*0x1+-0x262d+0x2*0xf6c))*_0x3eb8cd;for(let _0x5e178a=0x2*-0x1d6+0x1ec3+-0x1*0x1b17;_0x5e178a<_0x3eb8cd;++_0x5e178a)_0x8a7536[_0x5e178a]=_0x355a67['p0']*_0x367269[_0x460b83+_0x5e178a]+_0x355a67['m0']*_0x367269[_0x5dc115+_0x5e178a]*this['_len']+_0x355a67['p1']*_0x367269[_0x557605+_0x5e178a]+_0x355a67['m1']*_0x367269[_0x689a0c+_0x5e178a]*this['_len'];break;}}}}}class K_{constructor(_0x3878bd){this['_name']=_0x3878bd['name']+'Snapshot',this['_time']=-(-0x324+-0x9b+0x3c0),this['_cache']=[],this['_results']=[];for(let _0x504acc=0x21*0xf+0xda*-0x2+-0x3b;_0x504acc<_0x3878bd['_inputs']['length'];++_0x504acc)this['_cache'][_0x504acc]=new wP();const _0x1cf4e8=_0x3878bd['_curves'],_0x18fb2b=_0x3878bd['_outputs'];for(let _0x393b97=0x1*-0x976+-0x14*-0x1aa+-0x17d2;_0x393b97<_0x1cf4e8['length'];++_0x393b97){const _0x63c2d1=_0x1cf4e8[_0x393b97],_0x3567c1=_0x18fb2b[_0x63c2d1['_output']],_0x1fec09=[];for(let _0x3f8081=0xf*0x1a7+0x145e+-0x3*0xf0d;_0x3f8081<_0x3567c1['_component'+'s'];++_0x3f8081)_0x1fec09[_0x3f8081]=-0x167a+0xd2c+0x94e;this['_results'][_0x393b97]=_0x1fec09;}}}const Eo=class Eo{constructor(_0x5bd919,_0x2cd1cd,_0x4e1251,_0x92c2f7,_0x5d3aeb,_0x6c0890){this['_name']=_0x5bd919['name'],this['_track']=_0x5bd919,this['_snapshot']=new K_(_0x5bd919),this['_playing']=_0x92c2f7,this['_time']=_0x2cd1cd,this['_speed']=_0x4e1251,this['_loop']=_0x5d3aeb,this['_blendWeig'+'ht']=-0x196*0x1+-0x2f*0x65+0x1422,this['_blendOrde'+'r']=0xc31+0x1e9*0xf+-0x51b*0x8,this['_eventHand'+'ler']=_0x6c0890,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x1ef8d2){this['_name']=_0x1ef8d2;}get['name'](){return this['_name'];}set['track'](_0x9f81df){this['_track']=_0x9f81df,this['_snapshot']=new K_(_0x9f81df);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x15f08f){this['_time']=_0x15f08f,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x47fd68){const _0x3ca1e5=Math['sign'](_0x47fd68)!==Math['sign'](this['_speed']);this['_speed']=_0x47fd68,_0x3ca1e5&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x53eaf3){this['_loop']=_0x53eaf3;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x9b7c10){this['_blendWeig'+'ht']=_0x9b7c10;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x2f18f6){this['_blendOrde'+'r']=_0x2f18f6;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x1a6c24){this['_eventCurs'+'or']=_0x1a6c24;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x2*0x1+-0x1*-0x1e89+-0x1e8b:this['_track']['events']['length']-(-0x1c*-0xfb+-0xe8a+-0xce9*0x1);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0xfca+-0x2b1+-0xd19;}['nextEventA'+'headOfTime'](_0x3fe382){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x3fe382:this['nextEvent']['time']>=_0x3fe382:!(0x3d*0x8+0x318+-0x1*0x4ff);}['nextEventB'+'ehindTime'](_0x41c8cf){return this['nextEvent']?_0x41c8cf===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x41c8cf:this['nextEvent']['time']<=_0x41c8cf:this['isReverse']?this['nextEvent']['time']>_0x41c8cf:this['nextEvent']['time']<_0x41c8cf:!(0x20e0+-0x10b4+-0x102b*0x1);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x1348+0x2*0x10a3+-0x1*0x348d):0x170b+-0x10d*0x16+-0x1*-0x13;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x5*-0x631+0x25cf*-0x1+-0x1b*-0x41):-0x1e09+0x5*0x337+0xdf7,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x9*-0x1b+-0x1bd3+0x1ae0:this['_eventCurs'+'or']<0x1cc7+0x618+-0x22df&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0x534+0xe6c+-0x937));}['clipFrameT'+'ime'](_0x331828){const _0x4250b7=Eo['eventFrame'];_0x4250b7['start']=-0x2247+0x282+0x1fc5,_0x4250b7['end']=_0x331828,_0x4250b7['residual']=0x2ff+0x12e1+-0x15e0,this['isReverse']?_0x331828<-0x7e*-0x31+0xb7e+-0x239c&&(_0x4250b7['start']=this['track']['duration'],_0x4250b7['end']=0xdc4+-0x1cbe*-0x1+-0x2*0x1541,_0x4250b7['residual']=_0x331828+this['track']['duration']):_0x331828>this['track']['duration']&&(_0x4250b7['start']=0x1f92+-0x2358+0x2*0x1e3,_0x4250b7['end']=this['track']['duration'],_0x4250b7['residual']=_0x331828-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x5bbfcd,_0x5d2bbd){return this['nextEventA'+'headOfTime'](_0x5bbfcd)&&this['nextEventB'+'ehindTime'](_0x5d2bbd)?(this['fireNextEv'+'ent'](),!(-0x162f+0x1b40+-0x511)):!(-0xd79+-0x1ff*0x3+-0x67d*-0x3);}['activeEven'+'tsForFrame'](_0x29e187,_0x5b21bc){const _0x1c82dc=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x5b21bc);const _0x4fdff5=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x29e187,_0x1c82dc['end'])&&_0x4fdff5!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x1c82dc['residual'])>0xf*0x19+0xde*0xa+0xad*-0xf&&this['activeEven'+'tsForFrame'](_0x1c82dc['start'],_0x1c82dc['residual']);}['progressFo'+'rTime'](_0x85d337){return _0x85d337*this['_speed']/this['_track']['duration'];}['_update'](_0x1331ae){if(this['_playing']){let _0x9b922e=this['_time'];const _0x17e6b7=this['_track']['duration'],_0x581b19=this['_speed'],_0x3a9273=this['_loop'];this['_track']['events']['length']>-0x12c6+-0x62*-0x25+0x49c&&_0x17e6b7>-0x15*0xa+0x212*0x3+-0x1*0x564&&this['activeEven'+'tsForFrame'](_0x9b922e,_0x9b922e+_0x581b19*_0x1331ae),_0x9b922e+=_0x581b19*_0x1331ae,_0x581b19>=0x1*0x785+0x3*-0x727+-0x6f8*-0x2?_0x9b922e>_0x17e6b7&&(_0x3a9273?_0x9b922e=_0x9b922e%_0x17e6b7||-0x5*0x14e+-0x25a3+0x2c29:(_0x9b922e=this['_track']['duration'],this['pause']())):_0x9b922e<-0x1f00+-0x3a1*-0x1+-0x1*-0x1b5f&&(_0x3a9273?_0x9b922e=_0x17e6b7+(_0x9b922e%_0x17e6b7||0x37f*0x6+-0x183*-0xe+-0x2a24):(_0x9b922e=0x1557+0xb8e+-0x20e5,this['pause']())),this['_time']=_0x9b922e;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0xd0*-0x3+0xce*-0x19+0x11ae),this['_time']=0x23a1+0x208e+-0x442f*0x1;}['stop'](){this['_playing']=!(-0xa16+-0x1*-0xb0d+-0xf6),this['_time']=-0x39e+0x56*0x40+-0x1*0x11e2;}['pause'](){this['_playing']=!(-0x260b+0x2090+-0xd*-0x6c);}['resume'](){this['_playing']=!(-0x1284+0x4*-0x95e+-0xdff*-0x4);}['reset'](){this['_time']=-0x1b0c+0x1*0x2173+-0x667;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x545d01,_0x5ba84a){const _0x3b5633=_0x545d01['length'];let _0x451c0f=0x201f*0x1+0x148f+0xb*-0x4ca;for(let _0x185719=0x2653*-0x1+0x1bdb+0xa78;_0x185719<_0x3b5633;++_0x185719)_0x451c0f+=_0x545d01[_0x185719]*_0x5ba84a[_0x185719];return _0x451c0f;}static['normalize'](_0x532ef4){let _0x2a73c7=Tt['dot'](_0x532ef4,_0x532ef4);if(_0x2a73c7>0x57*-0x3f+-0x71b*0x2+0x239f){_0x2a73c7=(-0x1fae+-0x1*-0x1296+0xd19)/Math['sqrt'](_0x2a73c7);const _0x5ec2f1=_0x532ef4['length'];for(let _0x167f93=0x6f*0x4f+0x1587+-0x22*0x1a4;_0x167f93<_0x5ec2f1;++_0x167f93)_0x532ef4[_0x167f93]*=_0x2a73c7;}}static['set'](_0x143544,_0x483b4c,_0x6836fc){const _0x4d3bd4=_0x143544['length'];if(_0x6836fc==='quaternion'){let _0x4ff998=Tt['dot'](_0x483b4c,_0x483b4c);_0x4ff998>-0x1*-0x1aa3+0x25f6*0x1+-0x1*0x4099&&(_0x4ff998=(0x7*-0x205+0x712+0x712)/Math['sqrt'](_0x4ff998));for(let _0x5585f8=0xbed*-0x1+-0xcb1*-0x2+-0xd75;_0x5585f8<_0x4d3bd4;++_0x5585f8)_0x143544[_0x5585f8]=_0x483b4c[_0x5585f8]*_0x4ff998;}else{for(let _0x5a07b8=0x2575+-0x1f1b+0x21e*-0x3;_0x5a07b8<_0x4d3bd4;++_0x5a07b8)_0x143544[_0x5a07b8]=_0x483b4c[_0x5a07b8];}}static['blendVec'](_0x17902f,_0x59786f,_0x467b36,_0x411e24){const _0x5a0aae=_0x411e24?0x1d93+-0x2083+0x2f1:-0x23c+-0xf35*-0x2+-0x1c2d-_0x467b36,_0x5b5158=_0x17902f['length'];for(let _0x573038=0x1221+-0x22ea+0x10c9;_0x573038<_0x5b5158;++_0x573038)_0x17902f[_0x573038]=_0x17902f[_0x573038]*_0x5a0aae+_0x59786f[_0x573038]*_0x467b36;}static['blendQuat'](_0x353a02,_0x41b73d,_0x30ff45,_0x4b9840){const _0x571995=_0x353a02['length'],_0x40ca34=_0x4b9840?0x18b6*0x1+0x14f1*0x1+-0x2da6*0x1:-0x16ba+0x18aa+0x5*-0x63-_0x30ff45;Tt['dot'](_0x353a02,_0x41b73d)<-0x1b4d*0x1+-0x1*0x378+0x1ec5&&(_0x30ff45=-_0x30ff45);for(let _0x40e61d=-0x2646+0x22d2*-0x1+0x1246*0x4;_0x40e61d<_0x571995;++_0x40e61d)_0x353a02[_0x40e61d]=_0x353a02[_0x40e61d]*_0x40ca34+_0x41b73d[_0x40e61d]*_0x30ff45;_0x4b9840||Tt['normalize'](_0x353a02);}static['blend'](_0x454626,_0x4f2f88,_0x112bf0,_0x386e54,_0x5eed40){_0x386e54==='quaternion'?Tt['blendQuat'](_0x454626,_0x4f2f88,_0x112bf0,_0x5eed40):Tt['blendVec'](_0x454626,_0x4f2f88,_0x112bf0,_0x5eed40);}static['stableSort'](_0xbf9902,_0x20d93b){const _0x590af5=_0xbf9902['length'];for(let _0x84915=0x1*-0x148b+-0x21dc*-0x1+0x7*-0x1e7;_0x84915<_0x590af5-(-0x3b8+-0x21eb+0x25a4);++_0x84915)for(let _0x443537=_0x84915+(-0x11*-0x211+-0x455*0x7+-0x4cd);_0x443537<_0x590af5;++_0x443537)if(_0x20d93b(_0xbf9902[_0x443537],_0xbf9902[_0x84915])){const _0x43b470=_0xbf9902[_0x84915];_0xbf9902[_0x84915]=_0xbf9902[_0x443537],_0xbf9902[_0x443537]=_0x43b470;}}}const Ue=class Ue{constructor(_0x47f1cd,_0x2968eb){this['_component']=_0x47f1cd,this['mask']=new Int8Array(_0x47f1cd['layers']['length']),this['weights']=new Float32Array(_0x47f1cd['layers']['length']),this['totalWeigh'+'t']=-0x2697+-0x137*0x1+0x27ce,this['counter']=-0x1fc6+-0x6f7+0x26bd,this['layerCount'+'er']=-0x89*0x13+0x5eb*-0x5+0x27c2,this['valueType']=_0x2968eb,this['dirty']=!(0x1a6c+-0x1*-0x1cb3+-0x67*0x89),this['value']=_0x2968eb===Ue['TYPE_QUAT']?[0x1a25+-0x1944+-0xe1,-0x38f+0x1c17+-0x1888,0x205*-0x11+-0x2431+0x66*0xb1,-0x6*-0x5d+-0x73*0x7+0xf8]:[0xc8f+0x158e+0x7b*-0x47,0x19*0x23+-0x1*-0x1097+-0x1402,0x1*0x4dc+0x10f1+-0x15cd],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x4c4909){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x20cf+0x1091+-0xbd*-0x16||!this['mask'][_0x4c4909]?0x7*0x48a+-0x21e6+0x220:this['_normalize'+'Weights']?this['weights'][_0x4c4909]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x4c4909],0xe43+0xd7e*-0x1+0x1*-0xc5,0x1065+0x161f*0x1+-0x2683);}['_layerBlen'+'dType'](_0x5eb7fe){return this['_component']['layers'][_0x5eb7fe]['blendType'];}['setMask'](_0x20e655,_0x29c992){this['mask'][_0x20e655]=_0x29c992,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x20e655]['blendType']===X0&&(this['mask']=this['mask']['fill'](-0x118d+0x269f*0x1+-0x1512,0x164c+0x6f*0x5a+-0x5e*0xa7,_0x20e655)),this['dirty']=!(-0xf27*-0x2+0x566+-0x392*0xa));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x127c+0x2cd*0xa+-0x986;for(let _0xfedeeb=0x2c6+0x1*0x20b+-0x19b*0x3;_0xfedeeb<this['weights']['length'];_0xfedeeb++)this['weights'][_0xfedeeb]=this['_component']['layers'][_0xfedeeb]['weight'],this['totalWeigh'+'t']+=this['mask'][_0xfedeeb]*this['weights'][_0xfedeeb];this['dirty']=!(0x1137*0x1+-0x15ef+-0x4b9*-0x1);}['updateValu'+'e'](_0x24e28d,_0x340d5a){if(this['counter']===0x3bd+0x16*0x116+-0xb*0x283&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],-0x2bb*0x1+-0x9*0x381+-0x2245*-0x1,this['valueType'])),!(!this['mask'][_0x24e28d]||this['getWeight'](_0x24e28d)===0x3*-0xb6f+0x10e7+0x2*0x8b3)){if(this['_layerBlen'+'dType'](_0x24e28d)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x41ce65=Ue['q1']['set'](this['value'][0x4a5*-0x4+0x17cd*-0x1+0x2a61],this['value'][0x160e+-0x969+0x652*-0x2],this['value'][0x1*-0xed+0x1*-0x22d5+-0x51c*-0x7],this['value'][-0x1eaf+0x2e3+0x1bcf]),_0x57e757=Ue['q2']['set'](this['baseValue'][0x1c1d+0x72*-0xc+-0x57*0x43],this['baseValue'][0x1a0c+-0x28f*-0x2+-0x1*0x1f29],this['baseValue'][0x1c6b+-0x21ce+0x565],this['baseValue'][0x195e+-0x68*-0x12+-0x20ab]),_0x32bbe6=Ue['q3']['set'](_0x340d5a[-0x1629+-0x1*-0x236b+0xd42*-0x1],_0x340d5a[-0x1a8a+0x21ad+-0x722],_0x340d5a[0x9fe+0x1aa0+-0x249c],_0x340d5a[-0x8b7+-0x1*-0xe87+-0x5cd]),_0x50845b=_0x57e757['invert']()['mul'](_0x32bbe6);_0x50845b['slerp'](se['IDENTITY'],_0x50845b,this['getWeight'](_0x24e28d)),_0x41ce65['mul'](_0x50845b),Ue['quatArr'][0x1*-0xd23+0x1*-0x17ba+0x24dd]=_0x41ce65['x'],Ue['quatArr'][0xdb1+0x25*-0xe7+0x13b3]=_0x41ce65['y'],Ue['quatArr'][-0x25eb+0x181d+-0x8*-0x1ba]=_0x41ce65['z'],Ue['quatArr'][0x4*0x42c+0x22b9+-0x3366]=_0x41ce65['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][0x315*-0x8+0x1257+0x651]=_0x340d5a[0x1339*0x2+0x6d*0xd+-0x2bfb]-this['baseValue'][-0x2542+-0x1b7f*0x1+-0x1*-0x40c1],Ue['vecArr'][0x127d*0x2+0x661+0x1f*-0x166]=_0x340d5a[-0x7*0x23b+-0x2138+0x149*0x26]-this['baseValue'][-0x1e11*0x1+0x151*0x5+0x177d],Ue['vecArr'][0x2*0x958+0x1*-0xbe6+-0xd9*0x8]=_0x340d5a[-0x303*-0xb+-0x217*0xf+0xe3*-0x2]-this['baseValue'][-0x777+-0xc26*0x1+0x139f],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x24e28d),this['valueType'],!(0x2*-0xa29+-0xc*-0x211+-0x2*0x23d));}else Tt['blend'](this['value'],_0x340d5a,this['getWeight'](_0x24e28d),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[0x1862*-0x1+0x1ad3+0x5*-0x7d,-0x1de4+0x4*-0x81c+0x3e54,-0xf86*-0x2+0x1c6b+-0x3b77*0x1,0x25dc+-0x1*0x577+-0x2*0x1032]),c(Ue,'vecArr',[0x1*-0xfd3+-0x1f83+-0xa6*-0x49,0x12b*0x11+0x2*-0xf27+0xa73,-0x30c+0x9b9+-0x6ad]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[0x1*-0x2c1+-0x23bf+0x2680,0x1231+0x41*0x8e+-0x363f,0x12c3+0x2203+0xc1*-0x46,-0x25cf*0x1+0x706+0x1eca]);let bo=Ue;class j0{constructor(_0xc9b363){this['_binder']=_0xc9b363,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x6c0d2f){const _0x5d4b67=this['_targets'],_0xca18e0=this['_binder'],_0x1f034c=_0x6c0d2f['track']['curves'],_0x1e6ab4=_0x6c0d2f['snapshot'],_0x55dd69=[],_0x137835=[];for(let _0x156ca2=0x8cf+0xf1+-0x9c0;_0x156ca2<_0x1f034c['length'];++_0x156ca2){const _0x48a57c=_0x1f034c[_0x156ca2]['paths'];for(let _0x482550=0xd44+0x16*-0x23+0x1a*-0x65;_0x482550<_0x48a57c['length'];++_0x482550){const _0x2d4271=_0x48a57c[_0x482550],_0x4b8fb1=_0xca18e0['resolve'](_0x2d4271);let _0x21e8f9=_0x5d4b67[_0x4b8fb1&&_0x4b8fb1['targetPath']||null];if(!_0x21e8f9&&_0x4b8fb1){_0x21e8f9={'target':_0x4b8fb1,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x505672=-0x1*0x1e3d+-0x708+0x2545;_0x505672<_0x21e8f9['target']['components'];++_0x505672)_0x21e8f9['value']['push'](-0x20e0+0x166e+0xa72);if(_0x5d4b67[_0x4b8fb1['targetPath']]=_0x21e8f9,_0xca18e0['animCompon'+'ent']){if(!_0xca18e0['animCompon'+'ent']['targets'][_0x4b8fb1['targetPath']]){let _0x1535e8;_0x4b8fb1['targetPath']['substring'](_0x4b8fb1['targetPath']['length']-(-0x201e+0x1*-0x181a+0x3845))==='localRotat'+'ion'?_0x1535e8=bo['TYPE_QUAT']:_0x1535e8=bo['TYPE_VEC3'],_0xca18e0['animCompon'+'ent']['targets'][_0x4b8fb1['targetPath']]=new bo(_0xca18e0['animCompon'+'ent'],_0x1535e8);}_0xca18e0['animCompon'+'ent']['targets'][_0x4b8fb1['targetPath']]['layerCount'+'er']++,_0xca18e0['animCompon'+'ent']['targets'][_0x4b8fb1['targetPath']]['setMask'](_0xca18e0['layerIndex'],-0x1c8c+-0xb*-0xd6+0x135b);}}_0x21e8f9&&(_0x21e8f9['curves']++,_0x55dd69['push'](_0x1e6ab4['_results'][_0x156ca2]),_0x137835['push'](_0x21e8f9));}}this['_clips']['push'](_0x6c0d2f),this['_inputs']['push'](_0x55dd69),this['_outputs']['push'](_0x137835);}['removeClip'](_0x4d100c){const _0xf26fb9=this['_targets'],_0x40caaa=this['_binder'],_0xf30561=this['_clips'],_0x5af63b=_0xf30561[_0x4d100c]['track']['curves'];for(let _0x1de25f=-0xe43+0x1ca*0x5+-0x551*-0x1;_0x1de25f<_0x5af63b['length'];++_0x1de25f){const _0x18afa9=_0x5af63b[_0x1de25f]['paths'];for(let _0x2179f7=-0xcf0+0x8ac+0x444;_0x2179f7<_0x18afa9['length'];++_0x2179f7){const _0x5c29cd=_0x18afa9[_0x2179f7],_0x3ae3ba=this['_binder']['resolve'](_0x5c29cd);_0x3ae3ba&&(_0x3ae3ba['curves']--,_0x3ae3ba['curves']===0x61*-0x11+0x4a9*0x5+-0x10dc&&(_0x40caaa['unresolve'](_0x5c29cd),delete _0xf26fb9[_0x3ae3ba['targetPath']],_0x40caaa['animCompon'+'ent']&&_0x40caaa['animCompon'+'ent']['targets'][_0x3ae3ba['targetPath']]['layerCount'+'er']--));}}_0xf30561['splice'](_0x4d100c,0x81+0x2cf*-0x5+-0x1*-0xd8b),this['_inputs']['splice'](_0x4d100c,0x161f+-0x1*0x21eb+0x35*0x39),this['_outputs']['splice'](_0x4d100c,0x23ef*-0x1+-0x1f46*0x1+0x1*0x4336);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x7a1+0x15b2*0x1+-0x115*0xd;)this['removeClip'](-0x215*-0x8+-0xae7*-0x1+0x5*-0x583);}['updateClip'+'Track'](_0x1b3045,_0x486121){this['_clips']['forEach'](_0x151206=>{_0x151206['name']['includes'](_0x1b3045)&&(_0x151206['track']=_0x486121);}),this['rebind']();}['findClip'](_0xb0a994){const _0x42661e=this['_clips'];for(let _0x3d5d79=-0x13d2+0x1*-0x23ea+0x1294*0x3;_0x3d5d79<_0x42661e['length'];++_0x3d5d79){const _0x591993=_0x42661e[_0x3d5d79];if(_0x591993['name']===_0xb0a994)return _0x591993;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x2551de=[...this['clips']];this['removeClip'+'s'](),_0x2551de['forEach'](_0x829149=>{this['addClip'](_0x829149);});}['assignMask'](_0x4c156b){return this['_binder']['assignMask'](_0x4c156b);}['update'](_0x20147b,_0x1a9ab4=!(-0x1009+-0x22f+0x16*0xd4)){const _0x12758b=this['_clips'],_0x4017d4=_0x12758b['map']((_0x3a4219,_0x3928ec)=>_0x3928ec);Tt['stableSort'](_0x4017d4,(_0x349726,_0x187243)=>_0x12758b[_0x349726]['blendOrder']<_0x12758b[_0x187243]['blendOrder']);for(let _0x265141=0x1ac6+0x90+-0x1*0x1b56;_0x265141<_0x4017d4['length'];++_0x265141){const _0x123787=_0x4017d4[_0x265141],_0x4ec741=_0x12758b[_0x123787],_0x3af63b=this['_inputs'][_0x123787],_0x31b166=this['_outputs'][_0x123787],_0x57846b=_0x4ec741['blendWeigh'+'t'];if(_0x57846b>-0x1be6+-0x1*0x1741+0x3327&&_0x4ec741['_update'](_0x20147b),!_0x1a9ab4)break;let _0x409bad,_0x2b0927,_0x6a7412;if(_0x57846b>=-0x19c*0x2+-0x94b+0x12*0xb2){for(let _0x328a31=0x2645+-0x196+-0x24af;_0x328a31<_0x3af63b['length'];++_0x328a31)_0x409bad=_0x3af63b[_0x328a31],_0x2b0927=_0x31b166[_0x328a31],_0x6a7412=_0x2b0927['value'],Tt['set'](_0x6a7412,_0x409bad,_0x2b0927['target']['type']),_0x2b0927['blendCount'+'er']++;}else{if(_0x57846b>-0x1*0x1145+0x43*0x58+0x1*-0x5c3){for(let _0x2b5a1e=-0x100f*0x2+-0x1f0f*0x1+0x3f2d;_0x2b5a1e<_0x3af63b['length'];++_0x2b5a1e)_0x409bad=_0x3af63b[_0x2b5a1e],_0x2b0927=_0x31b166[_0x2b5a1e],_0x6a7412=_0x2b0927['value'],_0x2b0927['blendCount'+'er']===0x5*0x606+-0x2*-0x1a3+0x2164*-0x1?Tt['set'](_0x6a7412,_0x409bad,_0x2b0927['target']['type']):Tt['blend'](_0x6a7412,_0x409bad,_0x57846b,_0x2b0927['target']['type']),_0x2b0927['blendCount'+'er']++;}}}const _0x131859=this['_targets'],_0x598606=this['_binder'];for(const _0x1cddf0 in _0x131859)if(_0x131859['hasOwnProp'+'erty'](_0x1cddf0)){const _0x10bd8e=_0x131859[_0x1cddf0];if(_0x598606['animCompon'+'ent']&&_0x10bd8e['target']['isTransfor'+'m']){const _0xcc3941=_0x598606['animCompon'+'ent']['targets'][_0x1cddf0];_0xcc3941['counter']===_0xcc3941['layerCount'+'er']&&(_0xcc3941['counter']=-0x1886*0x1+0x20b4+-0x1*0x82e),_0xcc3941['path']||(_0xcc3941['path']=_0x1cddf0,_0xcc3941['baseValue']=_0x10bd8e['target']['get'](),_0xcc3941['setter']=_0x10bd8e['target']['set']),_0xcc3941['updateValu'+'e'](_0x598606['layerIndex'],_0x10bd8e['value']),_0xcc3941['counter']++;}else _0x10bd8e['target']['set'](_0x10bd8e['value']);_0x10bd8e['blendCount'+'er']=-0x1*0x1093+0x2*0x13c+0xe1b;}this['_binder']['update'](_0x20147b);}}class Y0{constructor(_0x5a8187){this['_events']=[..._0x5a8187],this['_events']['sort']((_0x2e79eb,_0x3fa708)=>_0x2e79eb['time']-_0x3fa708['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x601550,_0x3e5443,_0x1ccd26,_0x96235c,_0x4ed994,_0x422ae8=new Y0([])){this['_name']=_0x601550,this['_duration']=_0x3e5443,this['_inputs']=_0x1ccd26,this['_outputs']=_0x96235c,this['_curves']=_0x4ed994,this['_animEvent'+'s']=_0x422ae8;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0xe7cb78){this['_animEvent'+'s']=_0xe7cb78;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x11ae4a,_0xb2e23b){_0xb2e23b['_time']=_0x11ae4a;const _0x2eb0e5=this['_inputs'],_0xb8b6f1=this['_outputs'],_0x3ee7f0=this['_curves'],_0x36ddf1=_0xb2e23b['_cache'],_0x51ee95=_0xb2e23b['_results'];for(let _0x3618a3=-0x1*0x121a+0x205a+-0xe40;_0x3618a3<_0x2eb0e5['length'];++_0x3618a3)_0x36ddf1[_0x3618a3]['update'](_0x11ae4a,_0x2eb0e5[_0x3618a3]['_data']);for(let _0x28ebe4=-0x5*0x1cc+-0x14e1+-0x2b7*-0xb;_0x28ebe4<_0x3ee7f0['length'];++_0x28ebe4){const _0x173644=_0x3ee7f0[_0x28ebe4],_0x4a447a=_0xb8b6f1[_0x173644['_output']],_0x278ad0=_0x51ee95[_0x28ebe4];_0x36ddf1[_0x173644['_input']]['eval'](_0x278ad0,_0x173644['_interpola'+'tion'],_0x4a447a);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x4a280e,_0x460624){_0x460624=_0x460624||'.';const _0x165455=function(_0x34702e){return _0x34702e['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x460624,'g'),'\x5c'+_0x460624);};return _0x4a280e['map'](_0x165455)['join'](_0x460624);}static['splitPath'](_0x56eca0,_0x22a503){_0x22a503=_0x22a503||'.';const _0xb1adf5=[];let _0x36ca44='',_0x2c0dea=-0x388*-0xb+-0x2563+-0x175;for(;_0x2c0dea<_0x56eca0['length'];){let _0x11c988=_0x56eca0[_0x2c0dea++];_0x11c988==='\x5c'&&_0x2c0dea<_0x56eca0['length']?(_0x11c988=_0x56eca0[_0x2c0dea++],_0x11c988==='\x5c'||_0x11c988===_0x22a503?_0x36ca44+=_0x11c988:_0x36ca44+='\x5c'+_0x11c988):_0x11c988===_0x22a503?(_0xb1adf5['push'](_0x36ca44),_0x36ca44=''):_0x36ca44+=_0x11c988;}return _0x36ca44['length']>-0x1fec+0xdef+0x399*0x5&&_0xb1adf5['push'](_0x36ca44),_0xb1adf5;}static['encode'](_0x275259,_0x29dd25,_0x49834a){return(Array['isArray'](_0x275259)?_0x275259['join']('/'):_0x275259)+'/'+_0x29dd25+'/'+(Array['isArray'](_0x49834a)?_0x49834a['join']('/'):_0x49834a);}['resolve'](_0x40d085){return null;}['unresolve'](_0x32f4e0){}['update'](_0x5c3b64){}}class Zu{constructor(_0x22f729,_0x450375,_0x8f16b5,_0x556fba){_0x22f729['set']?(this['_set']=_0x22f729['set'],this['_get']=_0x22f729['get']):this['_set']=_0x22f729,this['_type']=_0x450375,this['_component'+'s']=_0x8f16b5,this['_targetPat'+'h']=_0x556fba,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x20f8+0x1da4+-0x361*-0x1))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x422+0x21cf+0x4f0*-0x6))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x867*0x2+0x1bc9+-0xaf1))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0x142046){c(this,'_isPathInM'+'ask',(_0x41908c,_0x4fd5ff)=>{const _0x469374=this['_mask'][_0x41908c];if(_0x469374){if(_0x469374['children']||_0x4fd5ff&&_0x469374['value']!==!(-0x1ffe+0xd1a*-0x1+-0x5*-0x905))return!(0xd1d+0x5*0x535+0x1393*-0x2);}else return!(0x434+-0x1f26+0x1af3);return!(0x1f6f+-0x1099*-0x1+-0x99b*0x5);});if(this['graph']=_0x142046,!_0x142046)return;this['_mask']=null;const _0x54541a={},_0x354073=function(_0x22a63a){_0x54541a[_0x22a63a['name']]=_0x22a63a;for(let _0x14ec36=-0x2072+0xc3+-0x1*-0x1faf;_0x14ec36<_0x22a63a['children']['length'];++_0x14ec36)_0x354073(_0x22a63a['children'][_0x14ec36]);};_0x354073(_0x142046),this['nodes']=_0x54541a,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x56830d=function(_0x92317){let _0x516181=_0x92317;for(;_0x516181&&!(_0x516181 instanceof $e);)_0x516181=_0x516181['parent'];let _0xcfa069;return _0x516181&&(_0x516181['render']?_0xcfa069=_0x516181['render']['meshInstan'+'ces']:_0x516181['model']&&(_0xcfa069=_0x516181['model']['meshInstan'+'ces'])),_0xcfa069;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x1fcea2){const _0x71e879=_0x1fcea2['localPosit'+'ion'],_0x328c6f=function(_0x50c287){_0x71e879['set'](..._0x50c287);};return Ji['createAnim'+'Target'](_0x328c6f,'vector',-0x128f+0x1ea4+0xf*-0xce,_0x1fcea2,'localPosit'+'ion');},'localRotation':function(_0xadd89a){const _0x44388c=_0xadd89a['localRotat'+'ion'],_0x116ed1=function(_0x9b6e9a){_0x44388c['set'](..._0x9b6e9a);};return Ji['createAnim'+'Target'](_0x116ed1,'quaternion',-0x7fa+0x1*0xd2b+-0x52d*0x1,_0xadd89a,'localRotat'+'ion');},'localScale':function(_0x391cbe){const _0x123241=_0x391cbe['localScale'],_0x138c44=function(_0x381e84){_0x123241['set'](..._0x381e84);};return Ji['createAnim'+'Target'](_0x138c44,'vector',-0x24b*-0xd+0x1b46+-0x3912,_0x391cbe,'localScale');},'weight':function(_0x6e1c25,_0x64c865){_0x64c865['indexOf']('name.')===0x8a4*-0x4+-0x1c8e+0x3f1e?_0x64c865=_0x64c865['replace']('name.',''):_0x64c865=Number(_0x64c865);const _0x422a38=_0x56830d(_0x6e1c25);let _0x426703;if(_0x422a38){for(let _0x4f9bc4=0x1d4f+0x242b*0x1+-0x22*0x1ed;_0x4f9bc4<_0x422a38['length'];++_0x4f9bc4)if(_0x422a38[_0x4f9bc4]['node']['name']===_0x6e1c25['name']&&_0x422a38[_0x4f9bc4]['morphInsta'+'nce']){const _0x4db09f=_0x422a38[_0x4f9bc4]['morphInsta'+'nce'],_0x443179=_0x102be9=>{_0x4db09f['setWeight'](_0x64c865,_0x102be9[0x1774*-0x1+-0x1d83+0x34f7]);};_0x426703||(_0x426703=[]),_0x426703['push'](_0x443179);}}if(_0x426703){const _0x139cbc=_0xbe59c1=>{for(let _0x34cde0=0x2189+0x2596*0x1+-0x17b5*0x3;_0x34cde0<_0x426703['length'];++_0x34cde0)_0x426703[_0x34cde0](_0xbe59c1);};return Ji['createAnim'+'Target'](_0x139cbc,'number',-0x2405+-0xc4b+-0x24d*-0x15,_0x6e1c25,'weight.'+_0x64c865);}return null;},'materialTexture':(_0x4028d5,_0x1c058f)=>{const _0x489a85=_0x56830d(_0x4028d5);if(_0x489a85){let _0x385936;for(let _0x55445c=-0x1a49*0x1+-0x1*0x251+0x1c9a;_0x55445c<_0x489a85['length'];++_0x55445c)if(_0x489a85[_0x55445c]['node']['name']===_0x4028d5['name']){_0x385936=_0x489a85[_0x55445c];break;}if(_0x385936){const _0x357bf7=_0x3cd6ef=>{const _0x1c86ea=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x3cd6ef[0x14aa+-0x3d7*-0x6+-0x2bb4]);_0x1c86ea&&_0x1c86ea['resource']&&_0x1c86ea['type']==='texture'&&(_0x385936['material'][_0x1c058f]=_0x1c86ea['resource'],_0x385936['material']['update']());};return Ji['createAnim'+'Target'](_0x357bf7,'vector',0x6f3*-0x4+0x1f8e+-0x3c1,_0x4028d5,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x2b199c){if(!this['_mask'])return!(0x20ea*0x1+0x2163+0x607*-0xb);const _0x18d82f=[_0x2b199c['entityPath'][0x1cdf+-0x1*-0xb5+0x765*-0x4],this['graph']['name']];for(let _0x5df88d=0x1*0x1397+0x2049+-0x20*0x19f;_0x5df88d<_0x18d82f['length'];++_0x5df88d){let _0x209842=_0x18d82f[_0x5df88d];if(this['_isPathInM'+'ask'](_0x209842,_0x2b199c['entityPath']['length']===0x832+-0x5*0x34c+0xc1*0xb))return!(-0x12*-0x19b+0xf4f*-0x1+-0xd97);for(let _0x36dc1b=0x35*-0x62+0x1*0xf83+-0x48*-0x11;_0x36dc1b<_0x2b199c['entityPath']['length'];_0x36dc1b++)if(_0x209842+='/'+_0x2b199c['entityPath'][_0x36dc1b],this['_isPathInM'+'ask'](_0x209842,_0x36dc1b===_0x2b199c['entityPath']['length']-(0x61*0x35+0x853+-0x1c67)))return!(0x3*0x1a7+0x12e1+0x17d6*-0x1);}return!(0x2146+0x199e+-0x25b*0x19);}['findNode'](_0x365789){if(!this['_isPathAct'+'ive'](_0x365789))return null;let _0x9bddb3;if(this['graph']&&(_0x9bddb3=this['graph']['findByPath'](_0x365789['entityPath']),_0x9bddb3||(_0x9bddb3=this['graph']['findByPath'](_0x365789['entityPath']['slice'](0x26b3+-0x9f0+-0x1cc2)))),!_0x9bddb3){_0x9bddb3=this['nodes'][_0x365789['entityPath'][_0x365789['entityPath']['length']-(-0xa35+-0x295*0x9+-0x2173*-0x1)]||''];const _0x2722f7=qr['encode'](_0x365789['entityPath'][_0x365789['entityPath']['length']-(-0x779*0x1+0x168b+0x7*-0x227)]||'','graph',_0x365789['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x2722f7]===0x11*-0x1eb+0x574*-0x7+0x25c*0x1e&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x2722f7+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x2722f7])?this['visitedFal'+'lbackGraph'+'Paths'][_0x2722f7]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x2722f7]=0x2f*-0xbf+0x2ad*0xd+0x48;}return _0x9bddb3;}static['createAnim'+'Target'](_0x875744,_0xbdafdb,_0x29492f,_0x4a9ab6,_0x1e136f,_0x122b97){const _0x1d9e4f=qr['encode'](_0x4a9ab6['path'],_0x122b97||'entity',_0x1e136f);return new Zu(_0x875744,_0xbdafdb,_0x29492f,_0x1d9e4f);}['resolve'](_0x444e6f){const _0x3dc942=qr['encode'](_0x444e6f['entityPath'],_0x444e6f['component'],_0x444e6f['propertyPa'+'th']);let _0x322ba4=this['targetCach'+'e'][_0x3dc942];if(_0x322ba4)return _0x322ba4;const _0x59a046=this['findNode'](_0x444e6f);if(!_0x59a046)return null;const _0x381e76=this['handlers'][_0x444e6f['propertyPa'+'th']];return!_0x381e76||(_0x322ba4=_0x381e76(_0x59a046),!_0x322ba4)?null:(this['targetCach'+'e'][_0x3dc942]=_0x322ba4,this['nodeCounts'][_0x59a046['path']]?this['nodeCounts'][_0x59a046['path']]++:(this['activeNode'+'s']['push'](_0x59a046),this['nodeCounts'][_0x59a046['path']]=-0x25b0+0x23a1+-0x30*-0xb),_0x322ba4);}['unresolve'](_0x4fc0de){if(_0x4fc0de['component']!=='graph')return;const _0x1303ae=this['nodes'][_0x4fc0de['entityPath'][_0x4fc0de['entityPath']['length']-(-0x24d6+-0x1065+0x353c)]||''];if(this['nodeCounts'][_0x1303ae['path']]--,this['nodeCounts'][_0x1303ae['path']]===-0x8*-0x27+0xcd*0xd+-0xba1){const _0x43339d=this['activeNode'+'s'],_0x57fd0a=_0x43339d['indexOf'](_0x1303ae['node']),_0x292612=_0x43339d['length'];_0x57fd0a<_0x292612-(0xc60+0x25*0xf3+-0x2f7e*0x1)&&(_0x43339d[_0x57fd0a]=_0x43339d[_0x292612-(-0xf*-0xa7+-0x1a6b+0x10a3)]),_0x43339d['pop']();}}['update'](_0x2d720d){const _0x1a0343=this['activeNode'+'s'];for(let _0x18ad0f=0xae7+-0x1f63+0x147c;_0x18ad0f<_0x1a0343['length'];++_0x18ad0f)_0x1a0343[_0x18ad0f]['_dirtifyLo'+'cal']();}['assignMask'](_0x2c846b){return _0x2c846b!==this['_mask']?(this['_mask']=_0x2c846b,!(-0x1*0x1e56+0xeb1+0xfa5)):!(0x1*0x113d+0x1*-0xfa1+-0x19b);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(-0x496*0x7+-0x2c4+-0x2*-0x116f)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',0x11ae*-0x2+0xb29+0x1833),c(this,'blending',!(0x10ff+0x695+-0x4b7*0x5)),c(this,'blendSpeed',-0x1065*0x1+-0xe76+0x1edb),c(this,'activate',!(0x14*-0x5e+0xe97+0x5*-0x173)),c(this,'speed',-0x1*0x1625+-0x1df*0x6+0x2160);}set['animations'](_0x5a52ee){this['_animation'+'s']=_0x5a52ee,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x22a865){const _0x2eb56f=this['_assets'];if(_0x2eb56f&&_0x2eb56f['length']){for(let _0x235c95=-0x1d8c+-0x97c+0x2708;_0x235c95<_0x2eb56f['length'];_0x235c95++)if(_0x2eb56f[_0x235c95]){const _0xc1ca61=this['system']['app']['assets']['get'](_0x2eb56f[_0x235c95]);if(_0xc1ca61){_0xc1ca61['off']('change',this['onAssetCha'+'nged'],this),_0xc1ca61['off']('remove',this['onAssetRem'+'oved'],this);const _0x25d972=this['animations'+'Index'][_0xc1ca61['id']];this['currAnim']===_0x25d972&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x25d972],delete this['animations'+'Index'][_0xc1ca61['id']];}}}this['_assets']=_0x22a865;const _0x4400a2=_0x22a865['map'](_0x2e8dc9=>_0x2e8dc9 instanceof le?_0x2e8dc9['id']:_0x2e8dc9);this['loadAnimat'+'ionAssets'](_0x4400a2);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x376ba8){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x376ba8,this['skeleton']['addTime'](0x301*-0xb+-0xd42+0x1b7*0x1b),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x2057af=this['animEvalua'+'tor']['clips'];for(let _0x29160c=0x2d9+-0x8*-0x412+0x25*-0xf5;_0x29160c<_0x2057af['length'];++_0x29160c)_0x2057af[_0x29160c]['time']=_0x376ba8;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x465a5a=this['animEvalua'+'tor']['clips'];if(_0x465a5a['length']>-0x10df*0x1+0x18c9+0x2*-0x3f5)return _0x465a5a[_0x465a5a['length']-(-0x1*0x1d04+-0xa9*-0x10+-0x1b*-0xaf)]['time'];}return 0x1*0x1c7a+-0x15e6+-0x694;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x189b+0xa61+0xe3a);}set['loop'](_0x1a9f1){if(this['_loop']=_0x1a9f1,this['skeleton']&&(this['skeleton']['looping']=_0x1a9f1),this['animEvalua'+'tor']){for(let _0x538ff9=0x3*0x925+-0x253*0xb+-0x2*0xef;_0x538ff9<this['animEvalua'+'tor']['clips']['length'];++_0x538ff9)this['animEvalua'+'tor']['clips'][_0x538ff9]['loop']=_0x1a9f1;}}get['loop'](){return this['_loop'];}['play'](_0x182047,_0x5abbbf=-0x3*-0x18d+-0xd4*0x11+0x96d){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x182047]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x182047+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x182047,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0xd7652a=this['animations'][this['prevAnim']],_0x36ae19=this['animations'][this['currAnim']];if(this['blending']=_0x5abbbf>0x22da+-0xd2*-0x6+-0x27c6&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x7b*0x4+-0x652*0x2+0xe90,this['blendSpeed']=(-0xcf2+0x1baa+0x1*-0xeb7)/_0x5abbbf),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0xd7652a,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x36ae19):this['skeleton']['animation']=_0x36ae19),this['animEvalua'+'tor']){const _0x3f055b=this['animEvalua'+'tor'];if(this['blending']){for(;_0x3f055b['clips']['length']>0x1279+0xe8+-0x1360;)_0x3f055b['removeClip'](0x30f*-0x3+0x1dcf+-0x14a2);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x280e31=new Xh(this['animations'][this['currAnim']],0x1b33+-0x1*-0x239+-0x1d6c,0xd*-0x21a+0x254+0x18ff,!(0xe4f+0xb7b+0x19ca*-0x1),this['loop']);_0x280e31['name']=this['currAnim'],_0x280e31['blendWeigh'+'t']=this['blending']?-0x412+-0x862+0xc74:-0x4*0x983+0x1*-0x862+0x2e6f,_0x280e31['reset'](),this['animEvalua'+'tor']['addClip'](_0x280e31);}}this['playing']=!(-0x1*0x1ece+-0x240f+0x42dd*0x1);}}['getAnimati'+'on'](_0x3a7f67){return this['animations'][_0x3a7f67];}['setModel'](_0x44300e){_0x44300e!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x44300e,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x1b97b=this['entity']['model'];if(_0x1b97b){const _0x5e3b75=_0x1b97b['model'];_0x5e3b75&&_0x5e3b75!==this['model']&&this['setModel'](_0x5e3b75);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x12c83f=Object['keys'](this['_animation'+'s']);_0x12c83f['length']>-0x2*0xe6+-0x1a4a+0x1c16&&this['play'](_0x12c83f[-0x6d3*0x5+-0x463*-0x4+0x1*0x1093]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0xc0e2bc=this['model'],_0x69fe18=this['animations'];let _0x494bf9=!(0xf81+0x25fe+-0x52*0xa7),_0x1c41f1=!(0x184b+0x9f7*-0x2+0x3*-0x174);for(const _0x408e57 in _0x69fe18)_0x69fe18['hasOwnProp'+'erty'](_0x408e57)&&(_0x69fe18[_0x408e57]['constructo'+'r']===Ri?_0x1c41f1=!(0x81+0x369*-0x4+0xb1*0x13):_0x494bf9=!(0x67*-0x47+-0x16*-0x1c4+-0x3*0x36d));const _0x18fc5f=_0xc0e2bc['getGraph']();_0x494bf9?(this['fromSkel']=new $d(_0x18fc5f),this['toSkel']=new $d(_0x18fc5f),this['skeleton']=new $d(_0x18fc5f),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x18fc5f)):_0x1c41f1&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0x4f2faa){if(!_0x4f2faa||!_0x4f2faa['length'])return;const _0x4dd80b=this['system']['app']['assets'],_0x6be0b0=_0x1ecfa7=>{if(_0x1ecfa7['resources']['length']>-0x133c+-0x1*0x1560+0x289d){for(let _0x5e88d1=-0x2034+0xc2f*-0x1+0x2c63;_0x5e88d1<_0x1ecfa7['resources']['length'];_0x5e88d1++)this['animations'][_0x1ecfa7['resources'][_0x5e88d1]['name']]=_0x1ecfa7['resources'][_0x5e88d1],this['animations'+'Index'][_0x1ecfa7['id']]=_0x1ecfa7['resources'][_0x5e88d1]['name'];}else this['animations'][_0x1ecfa7['name']]=_0x1ecfa7['resource'],this['animations'+'Index'][_0x1ecfa7['id']]=_0x1ecfa7['name'];this['animations']=this['animations'];},_0x203f8d=_0x4ed4cb=>{_0x4ed4cb['off']('change',this['onAssetCha'+'nged'],this),_0x4ed4cb['on']('change',this['onAssetCha'+'nged'],this),_0x4ed4cb['off']('remove',this['onAssetRem'+'oved'],this),_0x4ed4cb['on']('remove',this['onAssetRem'+'oved'],this),_0x4ed4cb['resource']?_0x6be0b0(_0x4ed4cb):(_0x4ed4cb['once']('load',_0x6be0b0,this),this['enabled']&&this['entity']['enabled']&&_0x4dd80b['load'](_0x4ed4cb));};for(let _0x1f6aae=0x822*-0x3+-0x934+0xb*0x30e,_0x1391b1=_0x4f2faa['length'];_0x1f6aae<_0x1391b1;_0x1f6aae++){const _0x144565=_0x4dd80b['get'](_0x4f2faa[_0x1f6aae]);_0x144565?_0x203f8d(_0x144565):_0x4dd80b['on']('add:'+_0x4f2faa[_0x1f6aae],_0x203f8d);}}['onAssetCha'+'nged'](_0x226148,_0x3e33b6,_0x30d6da,_0x4476ea){if(_0x3e33b6==='resource'||_0x3e33b6==='resources'){if(_0x3e33b6==='resources'&&_0x30d6da&&_0x30d6da['length']===-0x33*-0x65+0xc*0xbf+0x1d13*-0x1&&(_0x30d6da=null),_0x30d6da){let _0x5bc155=!(0xc*0xda+0x84a*0x1+-0x1281);if(_0x30d6da['length']>-0x1*0xdf4+0x1c4b+0x16f*-0xa){if(_0x4476ea&&_0x4476ea['length']>0x55e+0x23+-0x80*0xb){for(let _0x54942b=0x1*-0xae5+0x7f1+0x2f4;_0x54942b<_0x4476ea['length'];_0x54942b++)delete this['animations'][_0x4476ea[_0x54942b]['name']];}else delete this['animations'][_0x226148['name']];_0x5bc155=!(-0x1*0xc83+-0xe*0xe2+0x18e*0x10);for(let _0x255f69=0xdf*0x1f+0xaca*-0x3+0x1*0x55d;_0x255f69<_0x30d6da['length'];_0x255f69++)this['animations'][_0x30d6da[_0x255f69]['name']]=_0x30d6da[_0x255f69],!_0x5bc155&&this['currAnim']===_0x30d6da[_0x255f69]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5bc155=!(0x2627+0x15af+-0x3bd6),this['play'](_0x30d6da[_0x255f69]['name']));_0x5bc155||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x4476ea&&_0x4476ea['length']>-0x1*-0x1bd5+0x2535+-0x4109*0x1){for(let _0x4ef5ef=-0x194b+0x2557+-0x2*0x606;_0x4ef5ef<_0x4476ea['length'];_0x4ef5ef++)delete this['animations'][_0x4476ea[_0x4ef5ef]['name']];}this['animations'][_0x226148['name']]=_0x30d6da[-0x10*0x47+-0x26b6+0x2b26]||_0x30d6da,_0x5bc155=!(-0x1753+0xc*-0x31+0x4*0x668),this['currAnim']===_0x226148['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5bc155=!(-0xf*0x151+-0x4c6+-0x1885*-0x1),this['play'](_0x226148['name'])),_0x5bc155||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x226148['id']]=_0x226148['name'];}else{if(_0x4476ea['length']>-0x36d*0x5+-0x1e56+-0x364*-0xe){for(let _0x542f5f=-0x1bee+-0x315+0x1f03;_0x542f5f<_0x4476ea['length'];_0x542f5f++)delete this['animations'][_0x4476ea[_0x542f5f]['name']],this['currAnim']===_0x4476ea[_0x542f5f]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x226148['name']],this['currAnim']===_0x226148['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x226148['id']];}}}['onAssetRem'+'oved'](_0x185702){if(_0x185702['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x185702['resources']['length']>-0x149f+0x28*-0xe6+0x16a*0x28){for(let _0x3272a2=-0x3*-0x781+0x1ac0+-0x3143;_0x3272a2<_0x185702['resources']['length'];_0x3272a2++)delete this['animations'][_0x185702['resources'][_0x3272a2]['name']],this['currAnim']===_0x185702['resources'][_0x3272a2]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x185702['name']],this['currAnim']===_0x185702['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x185702['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x547*0x1+0x2bb+0x28d),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x1*0xf43+-0x1*0x10b2+-0x1*-0x1ff5,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x1d524e=-0x21a3+0x1d2c+-0x477*-0x1;_0x1d524e<this['animEvalua'+'tor']['clips']['length'];++_0x1d524e)this['animEvalua'+'tor']['clips'][_0x1d524e]['stop']();this['animEvalua'+'tor']['update'](0x96+0x11f+0x1b5*-0x1),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x410843=this['assets'],_0xe4781c=this['system']['app']['assets'];if(_0x410843)for(let _0x102b47=0x37*0x5f+0x19d5+0x2e3e*-0x1,_0x5323e0=_0x410843['length'];_0x102b47<_0x5323e0;_0x102b47++){let _0x115b4b=_0x410843[_0x102b47];_0x115b4b instanceof le||(_0x115b4b=_0xe4781c['get'](_0x115b4b)),_0x115b4b&&!_0x115b4b['resource']&&_0xe4781c['load'](_0x115b4b);}if(this['activate']&&!this['currAnim']){const _0x2e242d=Object['keys'](this['animations']);_0x2e242d['length']>0x1b79+0x34*-0x4c+0xc09*-0x1&&this['play'](_0x2e242d[-0x85f+0x1*0x15bb+-0xd5c]);}}['onBeforeRe'+'move'](){for(let _0x54e61a=-0x1*0x47d+0x12*-0x13b+-0x3*-0x8e1;_0x54e61a<this['assets']['length'];_0x54e61a++){let _0x1a9009=this['assets'][_0x54e61a];typeof _0x1a9009=='number'&&(_0x1a9009=this['system']['app']['assets']['get'](_0x1a9009)),_0x1a9009&&(_0x1a9009['off']('change',this['onAssetCha'+'nged'],this),_0x1a9009['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x3a22b8){if(this['blending']&&(this['blend']+=_0x3a22b8*this['blendSpeed'],this['blend']>=-0x2423+-0x1*0xd69+0x1*0x318d&&(this['blend']=-0x51+-0x223+-0x11*-0x25)),this['playing']){const _0x426d4c=this['skeleton'];if(_0x426d4c!==null&&this['model']!==null){if(this['blending'])_0x426d4c['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x2a3491=_0x3a22b8*this['speed'];_0x426d4c['addTime'](_0x2a3491),this['speed']>0x7*-0x41+-0x25f4+-0x27bb*-0x1&&_0x426d4c['_time']===_0x426d4c['animation']['duration']&&!this['loop']?this['playing']=!(0xa3b+0x1ef*-0xe+0x4d*0x38):this['speed']<0x2157*0x1+-0x1*-0x1966+-0x1*0x3abd&&_0x426d4c['_time']===-0x1c6e*0x1+-0x2169+0x3dd7&&!this['loop']&&(this['playing']=!(-0x1c12+0x4*0x71+0x543*0x5));}this['blending']&&this['blend']===-0x17d1+-0x49*0x36+0x2738&&(_0x426d4c['animation']=this['toSkel']['animation']),_0x426d4c['updateGrap'+'h']();}}const _0x38093b=this['animEvalua'+'tor'];if(_0x38093b){for(let _0x268316=0x2406+-0xb52+-0x174*0x11;_0x268316<_0x38093b['clips']['length'];++_0x268316){const _0xb2d1fa=_0x38093b['clips'][_0x268316];_0xb2d1fa['speed']=this['speed'],this['playing']?_0xb2d1fa['resume']():_0xb2d1fa['pause']();}this['blending']&&_0x38093b['clips']['length']>0x53*0x55+0xe90+-0x6*0x705&&(_0x38093b['clips'][0x236c+0x4ee*-0x5+-0xac5]['blendWeigh'+'t']=this['blend']),_0x38093b['update'](_0x3a22b8);}this['blending']&&this['blend']===0x516*0x6+-0x305+0x1b7e*-0x1&&(this['blending']=!(-0x10+-0x5*0x269+0xc1e));}}class zP{constructor(){this['enabled']=!(0x2*0xa+0x3*-0x21f+-0x649*-0x1);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x54befe){super(_0x54befe),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x420f2e,_0x52e63b,_0x43727b){_0x43727b=['activate','enabled','loop','speed','assets'];for(const _0x14921e of _0x43727b)_0x52e63b['hasOwnProp'+'erty'](_0x14921e)&&(_0x420f2e[_0x14921e]=_0x52e63b[_0x14921e]);super['initialize'+'ComponentD'+'ata'](_0x420f2e,_0x52e63b,Qu);}['cloneCompo'+'nent'](_0x454fe7,_0x34bda9){this['addCompone'+'nt'](_0x34bda9,{}),_0x34bda9['animation']['assets']=_0x454fe7['animation']['assets']['slice'](),_0x34bda9['animation']['speed']=_0x454fe7['animation']['speed'],_0x34bda9['animation']['loop']=_0x454fe7['animation']['loop'],_0x34bda9['animation']['activate']=_0x454fe7['animation']['activate'],_0x34bda9['animation']['enabled']=_0x454fe7['animation']['enabled'];const _0x36b64d={},_0x5d1cce=_0x454fe7['animation']['animations'];for(const _0x2fbd9f in _0x5d1cce)_0x5d1cce['hasOwnProp'+'erty'](_0x2fbd9f)&&(_0x36b64d[_0x2fbd9f]=_0x5d1cce[_0x2fbd9f]);_0x34bda9['animation']['animations']=_0x36b64d;const _0x105bb9={},_0x4300f4=_0x454fe7['animation']['animations'+'Index'];for(const _0x4cc039 in _0x4300f4)_0x4300f4['hasOwnProp'+'erty'](_0x4cc039)&&(_0x105bb9[_0x4cc039]=_0x4300f4[_0x4cc039]);return _0x34bda9['animation']['animations'+'Index']=_0x105bb9,_0x34bda9['animation'];}['onBeforeRe'+'move'](_0x1b1556,_0x165e8a){_0x165e8a['onBeforeRe'+'move']();}['onUpdate'](_0x2cb73d){const _0x519155=this['store'];for(const _0xb841f in _0x519155)if(_0x519155['hasOwnProp'+'erty'](_0xb841f)){const _0x1eeb3d=_0x519155[_0xb841f];_0x1eeb3d['data']['enabled']&&_0x1eeb3d['entity']['enabled']&&_0x1eeb3d['entity']['animation']['update'](_0x2cb73d);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x2de6be,_0x24c59b,_0xb7602d,_0x596dbf,_0x27a5fe=0x52*0x30+0x2604+0x4f*-0xad){this['_state']=_0x2de6be,this['_parent']=_0x24c59b,this['_name']=_0xb7602d,Array['isArray'](_0x596dbf)?(this['_point']=new $(_0x596dbf[0x127f+0xb*0x32+-0x14a5],_0x596dbf[0x492*0x1+0x3a*-0x71+0x1509]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x596dbf,this['_pointLeng'+'th']=_0x596dbf),this['_speed']=_0x27a5fe,this['_weightedS'+'peed']=0x2b*0x55+0x3*0x8d9+-0x28d1,this['_weight']=-0x4*-0x345+0x2462+0xb*-0x47f,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x5eac49){this['_weight']=_0x5eac49;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x29396c=this['_state']['totalWeigh'+'t'];return _0x29396c===-0x534+-0x1*-0x20d3+-0x1b9f*0x1?-0xf03+-0x16b4+-0x25b7*-0x1:this['weight']/_0x29396c;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x2d812b){this['_weightedS'+'peed']=_0x2d812b;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x1c0e87){this['_animTrack']=_0x1c0e87;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x28d1ca,_0x31ce4a,_0x2bd357,_0x19b5f3,_0x392ab1,_0xa778cb,_0x1722bf,_0x2fa524,_0x87723d){super(_0x28d1ca,_0x31ce4a,_0x2bd357,_0x19b5f3),this['_parameter'+'s']=_0x392ab1,this['_parameter'+'Values']=new Array(_0x392ab1['length']),this['_children']=[],this['_findParam'+'eter']=_0x87723d,this['_syncAnima'+'tions']=_0x1722bf!==!(0x1ac3*-0x1+-0x14f5+0x13*0x283),this['_pointCach'+'e']={};for(let _0x547562=-0xee*-0x1+-0x386+0x298;_0x547562<_0xa778cb['length'];_0x547562++){const _0x35521a=_0xa778cb[_0x547562];_0x35521a['children']?this['_children']['push'](_0x2fa524(_0x35521a['type'],_0x28d1ca,this,_0x35521a['name'],-0x1fbb+0x1712+-0x8aa*-0x1,_0x35521a['parameter']?[_0x35521a['parameter']]:_0x35521a['parameters'],_0x35521a['children'],_0x35521a['syncAnimat'+'ions'],_0x2fa524,_0x87723d)):this['_children']['push'](new Uo(_0x28d1ca,this,_0x35521a['name'],_0x35521a['point'],_0x35521a['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x3bc622){for(let _0x2ebd80=0x118c+0x1*0x230d+-0x3499;_0x2ebd80<this['_children']['length'];_0x2ebd80++)if(this['_children'][_0x2ebd80]['name']===_0x3bc622)return this['_children'][_0x2ebd80];return null;}['updatePara'+'meterValue'+'s'](){let _0x276aa8=!(-0x2352+-0x1e68+0x41ba);for(let _0x296c06=-0x593+0x1586+-0xff3;_0x296c06<this['_parameter'+'Values']['length'];_0x296c06++){const _0x3fda7e=this['_findParam'+'eter'](this['_parameter'+'s'][_0x296c06])['value'];this['_parameter'+'Values'][_0x296c06]!==_0x3fda7e&&(this['_parameter'+'Values'][_0x296c06]=_0x3fda7e,_0x276aa8=!(0x1c2c+-0x12ea+-0x941));}return _0x276aa8;}['getNodeWei'+'ghtedDurat'+'ion'](_0x4ed1e2){return this['_children'][_0x4ed1e2]['animTrack']['duration']/this['_children'][_0x4ed1e2]['speedMulti'+'plier']*this['_children'][_0x4ed1e2]['weight'];}['getNodeCou'+'nt'](){let _0x32ad19=-0x13ea+-0xf34+-0x9b*-0x3a;for(let _0x3054f5=-0x23b1+-0x207b*-0x1+-0x336*-0x1;_0x3054f5<this['_children']['length'];_0x3054f5++)this['_children'][_0x3054f5]['constructo'+'r']===Ba?_0x32ad19+=this['_children'][_0x3054f5]['getNodeCou'+'nt']():_0x32ad19++;return _0x32ad19;}}class VP extends Ba{constructor(_0x6c0e18,_0x143083,_0x18ec52,_0x20e8c5,_0x26b182,_0xda9fa,_0x10c933,_0x2cbedc,_0x38fc09){_0xda9fa['sort']((_0x3c9838,_0x33b77c)=>_0x3c9838['point']-_0x33b77c['point']),super(_0x6c0e18,_0x143083,_0x18ec52,_0x20e8c5,_0x26b182,_0xda9fa,_0x10c933,_0x2cbedc,_0x38fc09);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x1dc84e=-0x270e+0xb66+-0xb1*-0x28;this['_children'][0xc9b+-0x151d+0x882]['weight']=-0x1*0x145c+-0x127*-0x17+-0x625;for(let _0x4738b0=-0x99f+-0x22bc+0x2c5b;_0x4738b0<this['_children']['length'];_0x4738b0++){const _0x27a564=this['_children'][_0x4738b0];if(_0x4738b0!==this['_children']['length']-(-0x121*0x17+0x8*0x3c7+-0x440)){const _0x15a4da=this['_children'][_0x4738b0+(0x1007+0x1131+-0x2137)];if(_0x27a564['point']===_0x15a4da['point'])_0x27a564['weight']=0x18bf+0x168a+-0x2f49+0.5,_0x15a4da['weight']=-0x67*0x5d+0x37*0x3e+0x1819+0.5;else{if(N['between'](this['_parameter'+'Values'][0x7e5*-0x2+0x264e+0xb42*-0x2],_0x27a564['point'],_0x15a4da['point'],!(0x1*-0x887+-0xac1+0x9a4*0x2))){const _0x28db5e=Math['abs'](_0x27a564['point']-_0x15a4da['point']),_0x383c83=Math['abs'](_0x27a564['point']-this['_parameter'+'Values'][-0x2692+-0x4*-0x2d3+0x1*0x1b46]),_0x20b786=(_0x28db5e-_0x383c83)/_0x28db5e;_0x27a564['weight']=_0x20b786,_0x15a4da['weight']=-0xa9*-0x27+0xcad*-0x2+-0x64-_0x20b786;}else _0x15a4da['weight']=-0x10e1*-0x2+0x1b*0x1b+-0x249b;}}this['_syncAnima'+'tions']&&(_0x1dc84e+=_0x27a564['animTrack']['duration']/_0x27a564['absoluteSp'+'eed']*_0x27a564['weight']);}if(this['_syncAnima'+'tions'])for(let _0x209e7e=-0x541+-0x1*-0x79+0x33*0x18;_0x209e7e<this['_children']['length'];_0x209e7e++){const _0x43f23b=this['_children'][_0x209e7e];_0x43f23b['weightedSp'+'eed']=_0x43f23b['animTrack']['duration']/_0x43f23b['absoluteSp'+'eed']/_0x1dc84e;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0xf5e8d6,_0x1516d1){const _0x2a49ca=''+_0xf5e8d6+_0x1516d1;return this['_pointCach'+'e'][_0x2a49ca]||(this['_pointCach'+'e'][_0x2a49ca]=this['_children'][_0x1516d1]['point']['clone']()['sub'](this['_children'][_0xf5e8d6]['point'])),this['_pointCach'+'e'][_0x2a49ca];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x42a7b1,_0x420f36;gi['_p']['set'](...this['_parameter'+'Values']),_0x42a7b1=-0x24c3+0x2699*0x1+-0x1d6*0x1,_0x420f36=0x1d8+-0x1c15+0x8bf*0x3;for(let _0x5b2e89=0x213*0xf+-0x1ff4+0xd7;_0x5b2e89<this['_children']['length'];_0x5b2e89++){const _0x1a01fd=this['_children'][_0x5b2e89],_0x222a77=_0x1a01fd['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x222a77);let _0x4a782e=Number['MAX_VALUE'];for(let _0x5523dc=0xbf4+0x112c+0x1d20*-0x1;_0x5523dc<this['_children']['length'];_0x5523dc++){if(_0x5b2e89===_0x5523dc)continue;const _0x14f723=this['pointDista'+'nceCache'](_0x5b2e89,_0x5523dc),_0x5e318e=N['clamp'](0xa*0x229+-0x8f0+-0xca9-gi['_pip']['dot'](_0x14f723)/_0x14f723['lengthSq'](),0x1e69+0x1cfe+0x25*-0x19b,0x755*0x2+-0x143d+-0x7*-0xcc);_0x5e318e<_0x4a782e&&(_0x4a782e=_0x5e318e);}_0x1a01fd['weight']=_0x4a782e,_0x42a7b1+=_0x4a782e,this['_syncAnima'+'tions']&&(_0x420f36+=_0x1a01fd['animTrack']['duration']/_0x1a01fd['absoluteSp'+'eed']*_0x1a01fd['weight']);}for(let _0x5068ea=-0x2265+0x235*0xd+0x5b4;_0x5068ea<this['_children']['length'];_0x5068ea++){const _0x404108=this['_children'][_0x5068ea];_0x404108['weight']=_0x404108['_weight']/_0x42a7b1,this['_syncAnima'+'tions']&&(_0x404108['weightedSp'+'eed']=_0x404108['animTrack']['duration']/_0x404108['absoluteSp'+'eed']/_0x420f36);}}};c(gi,'_p',new $()),c(gi,'_pip',new $());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0xf70c6c,_0x3d02c9){const _0x4ea512=''+_0xf70c6c+_0x3d02c9;return this['_pointCach'+'e'][_0x4ea512]||(this['_pointCach'+'e'][_0x4ea512]=new $((this['_children'][_0x3d02c9]['pointLengt'+'h']-this['_children'][_0xf70c6c]['pointLengt'+'h'])/((this['_children'][_0x3d02c9]['pointLengt'+'h']+this['_children'][_0xf70c6c]['pointLengt'+'h'])/(0x5*-0x695+-0x767+0xd*0x31a)),$['angleRad'](this['_children'][_0xf70c6c]['point'],this['_children'][_0x3d02c9]['point'])*(-0x2a9*0x9+-0xca8+0x249b))),this['_pointCach'+'e'][_0x4ea512];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x4c705e,_0x1de26c;yi['_p']['set'](...this['_parameter'+'Values']);const _0x4b2614=yi['_p']['length']();_0x4c705e=0xabd*-0x3+0x1834*0x1+-0x1*-0x803,_0x1de26c=0xd9f*0x1+0x182b+0x1*-0x25ca;for(let _0x483e2f=-0x20d1+-0x2572+0x4643;_0x483e2f<this['_children']['length'];_0x483e2f++){const _0x557c77=this['_children'][_0x483e2f],_0x7fdac8=_0x557c77['point'],_0x308527=_0x557c77['pointLengt'+'h'];let _0x48e588=Number['MAX_VALUE'];for(let _0x503bad=-0x751+0x1ff*0x13+0x1*-0x1e9c;_0x503bad<this['_children']['length'];_0x503bad++){if(_0x483e2f===_0x503bad)continue;const _0x380076=this['pointCache'](_0x483e2f,_0x503bad),_0x5c4c12=this['_children'][_0x503bad]['pointLengt'+'h'];yi['_pip']['set']((_0x4b2614-_0x308527)/((_0x5c4c12+_0x308527)/(-0x132b+0x3*-0x9d9+0x4*0xc2e)),$['angleRad'](_0x7fdac8,yi['_p'])*(0x41f*0x1+0x13*-0xa4+0x1*0x80f));const _0x3588a2=N['clamp'](-0x1*0x2399+0x1*0x202d+0x36d-Math['abs'](yi['_pip']['dot'](_0x380076)/_0x380076['lengthSq']()),0x1*-0x2219+-0x287*0xb+-0x39*-0x116,0x19a9+0x1*-0x283+0xed*-0x19);_0x3588a2<_0x48e588&&(_0x48e588=_0x3588a2);}_0x557c77['weight']=_0x48e588,_0x4c705e+=_0x48e588,this['_syncAnima'+'tions']&&(_0x1de26c+=_0x557c77['animTrack']['duration']/_0x557c77['absoluteSp'+'eed']*_0x557c77['weight']);}for(let _0x4446b3=-0x7*-0x57+-0xd*0x18b+0x11ae;_0x4446b3<this['_children']['length'];_0x4446b3++){const _0x172c5a=this['_children'][_0x4446b3];if(_0x172c5a['weight']=_0x172c5a['_weight']/_0x4c705e,this['_syncAnima'+'tions']){const _0x466c85=_0x172c5a['animTrack']['duration']/_0x1de26c*_0x4c705e;_0x172c5a['weightedSp'+'eed']=_0x172c5a['absoluteSp'+'eed']*_0x466c85;}}}};c(yi,'_p',new $()),c(yi,'_pip',new $());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x59a65c=-0x551*0x1+-0x19cf+-0x530*-0x6,_0x5ceea3=-0x2198+-0x259f*0x1+-0xb1*-0x67;for(let _0x2b09e0=-0xdf*0x15+0x5*0x333+-0xc4*-0x3;_0x2b09e0<this['_children']['length'];_0x2b09e0++)if(_0x59a65c+=Math['max'](this['_parameter'+'Values'][_0x2b09e0],0x2*-0xc19+0x100*0x1a+-0x4d*0x6),this['_syncAnima'+'tions']){const _0x261e5f=this['_children'][_0x2b09e0];_0x5ceea3+=_0x261e5f['animTrack']['duration']/_0x261e5f['absoluteSp'+'eed']*_0x261e5f['weight'];}for(let _0x173c81=0x13*0x25+0x199*-0x5+-0x53e*-0x1;_0x173c81<this['_children']['length'];_0x173c81++){const _0x2c01c9=this['_children'][_0x173c81],_0x339b5c=Math['max'](this['_parameter'+'Values'][_0x173c81],-0x5*-0x49c+-0x2*-0x841+-0x278e);_0x59a65c?(_0x2c01c9['weight']=_0x339b5c/_0x59a65c,this['_syncAnima'+'tions']&&(_0x2c01c9['weightedSp'+'eed']=_0x2c01c9['animTrack']['duration']/_0x2c01c9['absoluteSp'+'eed']/_0x5ceea3)):(_0x2c01c9['weight']=-0x261e+-0x748+0x1*0x2d66,this['_syncAnima'+'tions']&&(_0x2c01c9['weightedSp'+'eed']=0x4*0x397+-0x1*-0xa9b+0x1*-0x18f7));}}}class eg{constructor(_0x48b134,_0x1bd5f5,_0x7f0de6=-0x2681+0x201d+0x1*0x665,_0x1e7ffd=!(-0x66+0xe*0xc1+-0xa28*0x1),_0x9b5d28){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x48b134,this['_name']=_0x1bd5f5,this['_speed']=_0x7f0de6,this['_loop']=_0x1e7ffd,this['_hasAnimat'+'ions']=!(-0x1b4b+-0xf98+0x2ae4),_0x9b5d28?this['_blendTree']=this['_createTre'+'e'](_0x9b5d28['type'],this,null,_0x1bd5f5,0x1a96+0x31f*0x1+-0x1db4,_0x9b5d28['parameter']?[_0x9b5d28['parameter']]:_0x9b5d28['parameters'],_0x9b5d28['children'],_0x9b5d28['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0x1bd5f5,-0x29*-0xad+0x1*0x1805+-0x33b9,_0x7f0de6));}['_createTre'+'e'](_0x536b23,_0x51514b,_0x4e10ed,_0x4e58a8,_0x196da5,_0x34e173,_0x5454d0,_0x2f5d59,_0x46d4b9,_0x4b0653){switch(_0x536b23){case FP:return new VP(_0x51514b,_0x4e10ed,_0x4e58a8,_0x196da5,_0x34e173,_0x5454d0,_0x2f5d59,_0x46d4b9,_0x4b0653);case kP:return new Ju(_0x51514b,_0x4e10ed,_0x4e58a8,_0x196da5,_0x34e173,_0x5454d0,_0x2f5d59,_0x46d4b9,_0x4b0653);case OP:return new ef(_0x51514b,_0x4e10ed,_0x4e58a8,_0x196da5,_0x34e173,_0x5454d0,_0x2f5d59,_0x46d4b9,_0x4b0653);case BP:return new GP(_0x51514b,_0x4e10ed,_0x4e58a8,_0x196da5,_0x34e173,_0x5454d0,_0x2f5d59,_0x46d4b9,_0x4b0653);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x536b23);}['_getNodeFr'+'omPath'](_0x1bf2d4){let _0x1090ef=this['_blendTree'];for(let _0x5ec099=-0x9*-0x2+0x4ac+-0x4bd*0x1;_0x5ec099<_0x1bf2d4['length'];_0x5ec099++)_0x1090ef=_0x1090ef['getChild'](_0x1bf2d4[_0x5ec099]);return _0x1090ef;}['addAnimati'+'on'](_0x1e1a9e,_0x51741d){const _0x25eddb=_0x1e1a9e['join']('.'),_0x3ca0a0=this['_animation'+'List']['findIndex'](_0x4a6f97=>_0x4a6f97['path']===_0x25eddb);if(_0x3ca0a0>=-0x2*0x476+-0x1*0xa4f+-0x3*-0x669)this['_animation'+'List'][_0x3ca0a0]['animTrack']=_0x51741d;else{const _0x294b74=this['_getNodeFr'+'omPath'](_0x1e1a9e);_0x294b74['animTrack']=_0x51741d,this['_animation'+'List']['push'](_0x294b74);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>-0x1a*-0x57+0x1727+-0x13*0x1af&&this['_animation'+'List']['every'](_0x4a163d=>_0x4a163d['animTrack']&&_0x4a163d['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0xb00c04){this['_animation'+'List']=_0xb00c04,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x579138){this['_speed']=_0x579138;}get['speed'](){return this['_speed'];}set['loop'](_0x202550){this['_loop']=_0x202550;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?-0xc54+-0x1*0x7c8+0x141d:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(0x185*0x9+0x4*-0x24d+-0x478)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x5*0x581+0x2*-0x122b+0x8d1){const _0x6ba668=this['name']+'.'+this['animations'][-0x1*0x925+-0x2060+0x2985]['animTrack']['name'],_0x40250c=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x6ba668);if(_0x40250c)return _0x40250c['loop'];}return!(0x500+-0x2137+0x3*0x968);}get['totalWeigh'+'t'](){let _0x14732c=0x2453+0x295*0x2+-0x1*0x297d;for(let _0x2dc191=0x2*-0x699+-0x1148*-0x1+-0x1*0x416;_0x2dc191<this['animations']['length'];_0x2dc191++)_0x14732c+=this['animations'][_0x2dc191]['weight'];return _0x14732c;}get['timelineDu'+'ration'](){let _0x2a0d32=0xecc+-0x1bac+0x2*0x670;for(let _0x494652=0x16ee+-0x152a+-0x1c4;_0x494652<this['animations']['length'];_0x494652++){const _0xc19156=this['animations'][_0x494652];_0xc19156['animTrack']['duration']>_0x2a0d32&&(_0x2a0d32=_0xc19156['animTrack']['duration']);}return _0x2a0d32;}}class Yh{constructor({from:_0x38df4b,to:_0x3e50e4,time:_0x3f856e=0x1b*0x14a+-0x1*0x198b+-0x943*0x1,priority:_0x53d350=-0x10e7*0x1+0x3*-0xbe7+0x206*0x1a,conditions:_0xf74bfe=[],exitTime:_0x16819d=null,transitionOffset:_0x121f38=null,interruptionSource:_0x386f39=q0}){this['_from']=_0x38df4b,this['_to']=_0x3e50e4,this['_time']=_0x3f856e,this['_priority']=_0x53d350,this['_condition'+'s']=_0xf74bfe,this['_exitTime']=_0x16819d,this['_transitio'+'nOffset']=_0x121f38,this['_interrupt'+'ionSource']=_0x386f39;}get['from'](){return this['_from'];}set['to'](_0x2013d8){this['_to']=_0x2013d8;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x227764,_0x5accad,_0x2ce5e4,_0x3e9e9d,_0x89e367,_0x6f99ed,_0x3738cf){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',0x1012+-0x1610+0x5fe),c(this,'_activeSta'+'teDuration'+'Dirty',!(-0x94*0x25+-0x1*-0x8bd+0xca7)),c(this,'_playing',!(-0x365*0xb+-0x1*-0x1543+0x1015)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',0x9d*-0x7+0x4*0x1a+0x3e4),c(this,'_totalTran'+'sitionTime',-0x2665+0x40*-0x6e+0x41e6),c(this,'_isTransit'+'ioning',!(0x2078*0x1+0x177d*-0x1+-0x17f*0x6)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',-0x1c9+-0x1279*-0x2+0x2329*-0x1),c(this,'_timeInSta'+'teBefore',0x1d5b*0x1+-0x255e*0x1+0x803*0x1),c(this,'findParame'+'ter',_0x8e8ffb=>this['_findParam'+'eter'](_0x8e8ffb)),(this['_animEvalu'+'ator']=_0x227764,this['_eventHand'+'ler']=_0x89e367,this['_findParam'+'eter']=_0x6f99ed,this['_consumeTr'+'igger']=_0x3738cf);for(let _0x151fb7=-0x6*-0x179+0x170a+0x11*-0x1e0;_0x151fb7<_0x5accad['length'];_0x151fb7++)this['_states'][_0x5accad[_0x151fb7]['name']]=new eg(this,_0x5accad[_0x151fb7]['name'],_0x5accad[_0x151fb7]['speed'],_0x5accad[_0x151fb7]['loop'],_0x5accad[_0x151fb7]['blendTree']),this['_stateName'+'s']['push'](_0x5accad[_0x151fb7]['name']);this['_transitio'+'ns']=_0x2ce5e4['map'](_0x10cd1f=>new Yh({..._0x10cd1f})),this['_activate']=_0x3e9e9d;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x5509b2){this['_activeSta'+'teName']=_0x5509b2;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x1de60e){this['_previousS'+'tateName']=_0x1de60e;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x1ab30c=!(0xc3a*-0x2+-0x260e+0x3e82);for(let _0x56cc19=-0x1d80+0x1c51*-0x1+0x39d1*0x1;_0x56cc19<this['_stateName'+'s']['length'];_0x56cc19++)this['_states'][this['_stateName'+'s'][_0x56cc19]]['playable']||(_0x1ab30c=!(-0x20e6*0x1+-0x8c8+0x1*0x29af));return _0x1ab30c;}set['playing'](_0x1cd01c){this['_playing']=_0x1cd01c;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0xd585ac=0x1dcd+-0x1685*-0x1+-0x3452;for(let _0x463aa1=0x174*-0x2+0xaf0+0x101*-0x8;_0x463aa1<this['activeStat'+'eAnimation'+'s']['length'];_0x463aa1++){const _0x525314=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x463aa1]['name']);_0x525314&&(_0xd585ac=Math['max'](_0xd585ac,_0x525314['track']['duration']));}this['_activeSta'+'teDuration']=_0xd585ac,this['_activeSta'+'teDuration'+'Dirty']=!(-0x1594*-0x1+0x94f+0xf71*-0x2);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x215599){this['_timeInSta'+'teBefore']=_0x215599,this['_timeInSta'+'te']=_0x215599;for(let _0x2a9cab=0xdb1+0x190a*-0x1+0xb59;_0x2a9cab<this['activeStat'+'eAnimation'+'s']['length'];_0x2a9cab++){const _0x1bcb31=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x2a9cab]['name']);_0x1bcb31&&(_0x1bcb31['time']=_0x215599);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x3ea345){return this['_animEvalu'+'ator']['assignMask'](_0x3ea345);}['_findState'](_0x53d5fc){return this['_states'][_0x53d5fc];}['_getActive'+'StateProgr'+'essForTime'](_0x49ab3e){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return-0x1655+-0x63b+-0x1*-0x1c91;const _0x472e3a=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0x18e3+0x193*-0x13+-0x1*-0x506]['name']);return _0x472e3a?_0x472e3a['progressFo'+'rTime'](_0x49ab3e):null;}['_findTrans'+'itionsFrom'+'State'](_0x206501){let _0x18a883=this['_findTrans'+'itionsFrom'+'StateCache'][_0x206501];return _0x18a883||(_0x18a883=this['_transitio'+'ns']['filter'](_0x500195=>_0x500195['from']===_0x206501),No(_0x18a883),this['_findTrans'+'itionsFrom'+'StateCache'][_0x206501]=_0x18a883),_0x18a883;}['_findTrans'+'itionsBetw'+'eenStates'](_0x27b8be,_0x28caff){let _0x29d421=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x27b8be+'->'+_0x28caff];return _0x29d421||(_0x29d421=this['_transitio'+'ns']['filter'](_0x5cee56=>_0x5cee56['from']===_0x27b8be&&_0x5cee56['to']===_0x28caff),No(_0x29d421),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x27b8be+'->'+_0x28caff]=_0x29d421),_0x29d421;}['_transitio'+'nHasCondit'+'ionsMet'](_0x32175c){const _0x5c0e0d=_0x32175c['conditions'];for(let _0x2832eb=0x5a7+0x24f+-0x7f6;_0x2832eb<_0x5c0e0d['length'];_0x2832eb++){const _0x24d1a3=_0x5c0e0d[_0x2832eb],_0x1de611=this['_findParam'+'eter'](_0x24d1a3['parameterN'+'ame']);switch(_0x24d1a3['predicate']){case MP:if(!(_0x1de611['value']>_0x24d1a3['value']))return!(0x65b*0x5+-0x4*-0x80f+-0x4002);break;case PP:if(!(_0x1de611['value']<_0x24d1a3['value']))return!(-0x2*0x1283+0x1*-0x118d+0x3694);break;case RP:if(!(_0x1de611['value']>=_0x24d1a3['value']))return!(-0x6f3*0x2+0x28*-0xc8+0x2d27);break;case IP:if(!(_0x1de611['value']<=_0x24d1a3['value']))return!(-0x1885+-0x4d7+0x1*0x1d5d);break;case DP:if(_0x1de611['value']!==_0x24d1a3['value'])return!(0x24f5+0x2207+-0x46fb);break;case LP:if(_0x1de611['value']===_0x24d1a3['value'])return!(0x10e*-0x24+-0x1e9*-0x8+0x16b1);break;}}return!(-0xf*-0x35+0x9*0x221+-0x5f*0x3c);}['_findTrans'+'ition'](_0x49d0f,_0x3b250f){let _0xc6dce7=[];if(_0x49d0f&&_0x3b250f)_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x49d0f,_0x3b250f));else{if(!this['_isTransit'+'ioning'])_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0xc6dce7=_0xc6dce7['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0xc6dce7=_0xc6dce7['filter'](_0x1a1530=>{if(_0x1a1530['to']===this['activeStat'+'eName'])return!(-0x7*0x32f+-0xed9+-0xc61*-0x3);if(_0x1a1530['hasExitTim'+'e']){let _0x3c760d=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x1fe61c=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x1a1530['exitTime']<0xa8e+-0x57*0x2a+0x3b9&&this['activeStat'+'e']['loop']&&(_0x3c760d-=Math['floor'](_0x3c760d),_0x1fe61c-=Math['floor'](_0x1fe61c)),_0x1fe61c===_0x3c760d){if(_0x1fe61c!==_0x1a1530['exitTime'])return null;}else{if(!(_0x1a1530['exitTime']>_0x3c760d&&_0x1a1530['exitTime']<=_0x1fe61c))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x1a1530);}),_0xc6dce7['length']>-0x101a+0x267b+-0x1661){const _0x199b90=_0xc6dce7[0x3*0x924+0x2*-0xe44+0x47*0x4];if(_0x199b90['to']===Ku){const _0x9cefe6=this['_findTrans'+'itionsFrom'+'State'](oo)[-0x1f2+-0x3cb*-0x6+-0x14d0];_0x199b90['to']=_0x9cefe6['to'];}return _0x199b90;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x374d6e){let _0x382e60,_0x5dd50e,_0x50191d;this['previousSt'+'ate']=_0x374d6e['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x374d6e['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x127f+-0x1b22+0x8a3);for(let _0x20ef2b=0x5*-0x235+-0x1708+0x2211;_0x20ef2b<_0x374d6e['conditions']['length'];_0x20ef2b++){const _0x1a4d19=_0x374d6e['conditions'][_0x20ef2b];this['_findParam'+'eter'](_0x1a4d19['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x1a4d19['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x45e331=Math['min'](this['_totalTran'+'sitionTime']!==-0xd94+0x2381+-0x15ed?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x308*-0x2+0x9f*-0xa+-0xd*-0x3,-0x905*-0x2+0x18b6+0x1f*-0x161);for(let _0xf17452=0x1f*0x2+0x2291*-0x1+0x2253;_0xf17452<this['_transitio'+'nPreviousS'+'tates']['length'];_0xf17452++){this['_isTransit'+'ioning']?_0xf17452!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x1d*-0x145+-0xd*-0xa7+-0x2d4b)?this['_transitio'+'nPreviousS'+'tates'][_0xf17452]['weight']*=-0x1f*0x19+0xdc5+0xabd*-0x1-_0x45e331:this['_transitio'+'nPreviousS'+'tates'][_0xf17452]['weight']=_0x45e331:this['_transitio'+'nPreviousS'+'tates'][_0xf17452]['weight']=0x170a+0x1ad4+-0x31dd,_0x382e60=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0xf17452]['name']);for(let _0x2cadf1=-0x2039+0x7f5+-0xc22*-0x2;_0x2cadf1<_0x382e60['animations']['length'];_0x2cadf1++)_0x5dd50e=_0x382e60['animations'][_0x2cadf1],_0x50191d=this['_animEvalu'+'ator']['findClip'](_0x5dd50e['name']+'.previous.'+_0xf17452),_0x50191d||(_0x50191d=this['_animEvalu'+'ator']['findClip'](_0x5dd50e['name']),_0x50191d['name']=_0x5dd50e['name']+'.previous.'+_0xf17452),_0xf17452!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x2372+-0x1cba+-0x6b7)&&_0x50191d['pause']();}}this['_isTransit'+'ioning']=!(-0x1401*-0x1+0x1b83+-0x2f84*0x1),this['_totalTran'+'sitionTime']=_0x374d6e['time'],this['_currTrans'+'itionTime']=-0x2559*-0x1+-0x7*0x311+-0xfe2,this['_transitio'+'nInterrupt'+'ionSource']=_0x374d6e['interrupti'+'onSource'];const _0x4891be=this['activeStat'+'e'],_0x27afe4=_0x374d6e['transition'+'Offset']&&_0x374d6e['transition'+'Offset']>0x1070+-0x36f*0x4+-0x2b4&&_0x374d6e['transition'+'Offset']<0x7*0x4a+-0x3e*-0x73+-0x1*0x1ddf;let _0x20daa3=-0x239*0x1+-0x1d9d+-0x1*-0x1fd6,_0x208f1f=0x2295+-0x1*-0x33+-0x22c8;if(_0x27afe4){const _0x1bfafb=_0x4891be['timelineDu'+'ration']*_0x374d6e['transition'+'Offset'];_0x20daa3=_0x1bfafb,_0x208f1f=_0x1bfafb;}this['_timeInSta'+'te']=_0x20daa3,this['_timeInSta'+'teBefore']=_0x208f1f;for(let _0x4277a9=-0xf*0x113+0x22a*0xd+0xb5*-0x11;_0x4277a9<_0x4891be['animations']['length'];_0x4277a9++){if(_0x50191d=this['_animEvalu'+'ator']['findClip'](_0x4891be['animations'][_0x4277a9]['name']),_0x50191d)_0x50191d['reset']();else{const _0x29fa64=Number['isFinite'](_0x4891be['animations'][_0x4277a9]['speed'])?_0x4891be['animations'][_0x4277a9]['speed']:_0x4891be['speed'];_0x50191d=new Xh(_0x4891be['animations'][_0x4277a9]['animTrack'],this['_timeInSta'+'te'],_0x29fa64,!(0x703*0x5+-0x348*0x7+-0xc17),_0x4891be['loop'],this['_eventHand'+'ler']),_0x50191d['name']=_0x4891be['animations'][_0x4277a9]['name'],this['_animEvalu'+'ator']['addClip'](_0x50191d);}if(_0x374d6e['time']>0x167*0x9+-0xfab*0x2+-0x63d*-0x3?_0x50191d['blendWeigh'+'t']=0x158*-0x17+-0x1b4a+0x3a32:_0x50191d['blendWeigh'+'t']=_0x4891be['animations'][_0x4277a9]['normalized'+'Weight'],_0x50191d['play'](),_0x27afe4)_0x50191d['time']=_0x4891be['timelineDu'+'ration']*_0x374d6e['transition'+'Offset'];else{const _0x134a26=_0x4891be['speed']>=0x21a9+0x18fc+-0x3aa5?-0xe0a+0x12de+0x135*-0x4:this['activeStat'+'eDuration'];_0x50191d['time']=_0x134a26;}}}['_transitio'+'nToState'](_0x5e9873){if(!this['_findState'](_0x5e9873))return;let _0x5609b9=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x5e9873);_0x5609b9||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x5609b9=new Yh({'from':null,'to':_0x5e9873})),this['updateStat'+'eFromTrans'+'ition'](_0x5609b9);}['assignAnim'+'ation'](_0xdde15f,_0x2648ad,_0x2cb3cc,_0x2aba3c){const _0x5ea308=_0xdde15f['split']('.');let _0x7d3325=this['_findState'](_0x5ea308[-0x1f*0x95+0x1f92+0xd87*-0x1]);_0x7d3325||(_0x7d3325=new eg(this,_0x5ea308[0x19e3+0x85a+-0x223d],_0x2cb3cc),this['_states'][_0x5ea308[0x2033+-0x4*-0x3e1+0x1*-0x2fb7]]=_0x7d3325,this['_stateName'+'s']['push'](_0x5ea308[0x1faa+-0x16af*-0x1+0x1*-0x3659])),_0x7d3325['addAnimati'+'on'](_0x5ea308,_0x2648ad),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x7d3325['name'],_0x2648ad),_0x2cb3cc!==void(0x1b90+-0x877*0x2+-0xaa2)&&(_0x7d3325['speed']=_0x2cb3cc),_0x2aba3c!==void(0x1*-0x7c2+-0x1a7d+0x223f)&&(_0x7d3325['loop']=_0x2aba3c),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0xd4c+-0x241*0x9+0x6fd);}['removeNode'+'Animations'](_0x89da0a){if(jh['indexOf'](_0x89da0a)!==-(0x38d+-0xcb4*-0x1+-0xd*0x140))return!(-0x26fa+-0x1*0x1212+0x390d);const _0x54c93f=this['_findState'](_0x89da0a);return _0x54c93f?(_0x54c93f['animations']=[],!(-0xb9b+0x254f*-0x1+0x30ea)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x89da0a),!(0x3*0xc88+0x2349*0x1+-0x91c*0x8));}['play'](_0x5d3ccd){_0x5d3ccd&&this['_transitio'+'nToState'](_0x5d3ccd),this['_playing']=!(0x26a4+0x1319+-0x3*0x133f);}['pause'](){this['_playing']=!(0x262b*-0x1+0xbbc*-0x1+0x2*0x18f4);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(-0x1df*-0x2+-0x1381+0x7e2*0x2),this['_currTrans'+'itionTime']=-0xf17+-0x3fb+0x13*0x101,this['_totalTran'+'sitionTime']=-0x1a*-0x3+-0x1*-0x576+-0x5c3,this['_isTransit'+'ioning']=!(-0x4f*0x49+-0xa61+0x695*0x5),this['_timeInSta'+'te']=0x116b+0x769*-0x1+-0xa02,this['_timeInSta'+'teBefore']=0x619+-0x9c1+0x3a8*0x1,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x1b0b77){if(!this['_playing'])return;let _0x4beebb,_0x51c0d0,_0x3589cc;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x1b0b77*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x1b0b77=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x2bf577=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x2bf577&&this['updateStat'+'eFromTrans'+'ition'](_0x2bf577),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x1b0b77,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x996937=this['_totalTran'+'sitionTime']!==-0x276+-0xa2f+0xca5?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x2587*-0x1+-0x817*0x1+0x2d9f;for(let _0x25eb0a=-0x1*0x15f7+-0x261*-0xf+-0x2*0x6dc;_0x25eb0a<this['_transitio'+'nPreviousS'+'tates']['length'];_0x25eb0a++){_0x4beebb=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x25eb0a]['name']);const _0x4b9402=this['_transitio'+'nPreviousS'+'tates'][_0x25eb0a]['weight'];for(let _0x2d5a06=-0x1d0d+0x15c2+0x74b*0x1;_0x2d5a06<_0x4beebb['animations']['length'];_0x2d5a06++)_0x51c0d0=_0x4beebb['animations'][_0x2d5a06],_0x3589cc=this['_animEvalu'+'ator']['findClip'](_0x51c0d0['name']+'.previous.'+_0x25eb0a),_0x3589cc&&(_0x3589cc['blendWeigh'+'t']=(0xc1d*-0x3+0x4cc*0x4+-0x2dc*-0x6-_0x996937)*_0x51c0d0['normalized'+'Weight']*_0x4b9402);}_0x4beebb=this['activeStat'+'e'];for(let _0xdc6958=-0x1905+-0x8*-0x28f+0x48d*0x1;_0xdc6958<_0x4beebb['animations']['length'];_0xdc6958++)_0x51c0d0=_0x4beebb['animations'][_0xdc6958],this['_animEvalu'+'ator']['findClip'](_0x51c0d0['name'])['blendWeigh'+'t']=_0x996937*_0x51c0d0['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x14e3+-0x9e9+-0xaf9);const _0x196b75=this['activeStat'+'eAnimation'+'s']['length'],_0xe9c18c=this['_animEvalu'+'ator']['clips']['length'];for(let _0x1f83b4=-0x144d+0x1cbd+-0x870;_0x1f83b4<_0xe9c18c-_0x196b75;_0x1f83b4++)this['_animEvalu'+'ator']['removeClip'](-0x226+0x1daa+-0x6e1*0x4);this['_transitio'+'nPreviousS'+'tates']=[],_0x4beebb=this['activeStat'+'e'];for(let _0x29363f=0xe5c+0xa64+0x4*-0x630;_0x29363f<_0x4beebb['animations']['length'];_0x29363f++)_0x51c0d0=_0x4beebb['animations'][_0x29363f],_0x3589cc=this['_animEvalu'+'ator']['findClip'](_0x51c0d0['name']),_0x3589cc&&(_0x3589cc['blendWeigh'+'t']=_0x51c0d0['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x4beebb=this['activeStat'+'e'];for(let _0x28bba5=0x1f69+-0x9b8+-0x15b1;_0x28bba5<_0x4beebb['animations']['length'];_0x28bba5++)_0x51c0d0=_0x4beebb['animations'][_0x28bba5],_0x3589cc=this['_animEvalu'+'ator']['findClip'](_0x51c0d0['name']),_0x3589cc&&(_0x3589cc['blendWeigh'+'t']=_0x51c0d0['normalized'+'Weight'],_0x51c0d0['parent']['syncAnimat'+'ions']&&(_0x3589cc['speed']=_0x51c0d0['speed']));}}this['_animEvalu'+'ator']['update'](_0x1b0b77,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new $(),ql=new T(),Ja=new Q(),eo=new j(),to=new se();class mi extends Ji{constructor(_0x3d3fcf,_0x37080f,_0x2eebfc,_0x292fc4,_0x16bb4a){super(_0x37080f),this['animCompon'+'ent']=_0x3d3fcf,this['_mask']=_0x292fc4,this['layerName']=_0x2eebfc,this['layerIndex']=_0x16bb4a;}static['_packFloat'](_0x44be43){return _0x44be43[0x49b*0x7+-0x159f+-0xa9e];}static['_packBoole'+'an'](_0x585082){return!!_0x585082[-0x21d2+0x1*0xcae+0x1*0x1524];}static['_packVec2'](_0x2a7f78){return Yd['x']=_0x2a7f78[0x4f8+-0x62e+-0x5*-0x3e],Yd['y']=_0x2a7f78[0x15f3*-0x1+-0x68e*0x5+0x36ba],Yd;}static['_packVec3'](_0x529575){return ql['x']=_0x529575[-0x1ef1*-0x1+0x8d1+-0x27c2],ql['y']=_0x529575[-0x13f7*0x1+-0x20*0x12b+0x16f*0x28],ql['z']=_0x529575[-0xc7+0x1bac+-0x1ae3*0x1],ql;}static['_packVec4'](_0x44f8c9){return Ja['x']=_0x44f8c9[-0x14ff+0x6*0x59c+-0xca9],Ja['y']=_0x44f8c9[0x13d4+0x1*-0x1daf+0x9dc],Ja['z']=_0x44f8c9[-0x1*-0x1159+0x18f4+0x1b*-0x191],Ja['w']=_0x44f8c9[0x1b8b+0x2*0x105c+-0xf1*0x40],Ja;}static['_packColor'](_0x3f9b74){return eo['r']=_0x3f9b74[-0x17*-0x135+-0x20b1*-0x1+-0x3c74],eo['g']=_0x3f9b74[-0x168*-0x1a+-0x2*-0x78e+-0x3*0x1139],eo['b']=_0x3f9b74[0x1441+0x1145*0x2+-0x36c9],eo['a']=_0x3f9b74[-0x10fc+-0x1b24+-0x1*-0x2c23],eo;}static['_packQuat'](_0xdad724){return to['x']=_0xdad724[-0xad2+0xc7+0xa0b],to['y']=_0xdad724[0xa6f*-0x1+-0x27*0xb1+-0x17f*-0x19],to['z']=_0xdad724[-0x22da*-0x1+0x2*-0x30b+-0x1cc2],to['w']=_0xdad724[-0x9*-0x11d+-0xaa6+0x29*0x4],to;}['resolve'](_0x4e518d){const _0x313040=qr['encode'](_0x4e518d['entityPath'],_0x4e518d['component'],_0x4e518d['propertyPa'+'th']);let _0x3d5ccb=this['targetCach'+'e'][_0x313040];if(_0x3d5ccb)return _0x3d5ccb;let _0x41e3a4,_0x20eff2,_0x417f69;switch(_0x4e518d['component']){case'entity':_0x41e3a4=this['_getEntity'+'FromHierar'+'chy'](_0x4e518d['entityPath']),_0x417f69=qr['encode'](_0x41e3a4['path'],'entity',_0x4e518d['propertyPa'+'th']),_0x20eff2=_0x41e3a4;break;case'graph':if(_0x20eff2=this['findNode'](_0x4e518d),!_0x20eff2)return null;_0x417f69=qr['encode'](_0x20eff2['path'],'graph',_0x4e518d['propertyPa'+'th']);break;default:if(_0x41e3a4=this['_getEntity'+'FromHierar'+'chy'](_0x4e518d['entityPath']),_0x20eff2=_0x41e3a4['findCompon'+'ent'](_0x4e518d['component']),!_0x20eff2)return null;_0x417f69=qr['encode'](_0x41e3a4['path'],_0x4e518d['component'],_0x4e518d['propertyPa'+'th']);break;}return _0x3d5ccb=this['_createAni'+'mTargetFor'+'Property'](_0x20eff2,_0x4e518d['propertyPa'+'th'],_0x417f69),this['targetCach'+'e'][_0x313040]=_0x3d5ccb,_0x3d5ccb;}['update'](_0xd7f16c){const _0xd194f3=this['activeNode'+'s'];if(_0xd194f3){for(let _0x1589e3=0x493+0xb92*-0x1+0x3*0x255;_0x1589e3<_0xd194f3['length'];_0x1589e3++)_0xd194f3[_0x1589e3]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x401c8c){if(!this['animCompon'+'ent']['entity']['name']===_0x401c8c[0x1e85+-0x7f1+0x55*-0x44])return null;const _0x303c38=this['animCompon'+'ent']['entity'];return _0x401c8c['length']===-0x1e12+0x1c51*0x1+0x4b*0x6?_0x303c38:_0x303c38['_parent']['findByPath'](_0x401c8c);}['_resolvePa'+'th'](_0x4e381c,_0x1e7baa,_0xdcb77d){const _0x2107c9=_0x1e7baa['length']-(_0xdcb77d?0x1c87+-0x1c2e+-0x59:-0x2554+-0x27*0x57+0x3296);for(let _0xc63820=-0x1751+-0x1*0xf47+-0x7b8*-0x5;_0xc63820<_0x2107c9;_0xc63820++)_0x4e381c=_0x4e381c[_0x1e7baa[_0xc63820]];return _0x4e381c;}['_setter'](_0x496021,_0x28b623,_0x54d05b){const _0x2f73f6=this['_resolvePa'+'th'](_0x496021,_0x28b623),_0x43a1a1=_0x28b623[_0x28b623['length']-(-0x881*0x1+-0xede+-0x176*-0x10)],_0x1af35a='set'+_0x43a1a1['substring'](-0xa3f*0x1+-0x1b3e+0x257d,-0x1d41*-0x1+-0xae2+0x125e*-0x1)['toUpperCas'+'e']()+_0x43a1a1['substring'](0x271*-0x5+0x1c85*0x1+-0x104f);if(_0x2f73f6[_0x1af35a]){let _0x5df321=_0x2f73f6['get'+_0x43a1a1['substring'](0x1c64+0xf1d+0x637*-0x7,0x43b+-0x61*0x13+-0x1*-0x2f9)['toUpperCas'+'e']()+_0x43a1a1['substring'](0x37d+0x1cb2+0x6*-0x55d)]['bind'](_0x2f73f6)();_0x5df321=[_0x5df321['x'],_0x5df321['y'],_0x5df321['z'],_0x5df321['w']];const _0x4b99a8=_0x2f73f6[_0x1af35a]['bind'](_0x2f73f6);return{'set':_0x1451fc=>{_0x4b99a8(_0x54d05b(_0x1451fc));},'get':()=>_0x5df321};}const _0x381054=_0x2f73f6[_0x43a1a1];if(typeof _0x381054=='object'&&_0x381054['hasOwnProp'+'erty']('copy'))return function(_0x1893f0){_0x381054['copy'](_0x54d05b(_0x1893f0));};if([$,T,Q,j,se]['indexOf'](_0x2f73f6['constructo'+'r'])!==-(0x142e+0x1fca+-0x33f7)&&_0x28b623['length']>0x1105+0xd*0x15d+-0x22bd){const _0x3751c5=_0x28b623['length']>-0x1*-0x1be+0x19c4+-0x1b80?this['_resolvePa'+'th'](_0x496021,_0x28b623['slice'](0x1*-0xfb6+-0x22f5+0x32ab,-(-0x142d*-0x1+-0xd*0x259+0xa59*0x1))):_0x496021,_0x1f9a17=_0x28b623[_0x28b623['length']-(-0xd6f+-0x1*-0x2295+-0x1524)];return function(_0x3ad929){_0x2f73f6[_0x43a1a1]=_0x54d05b(_0x3ad929),_0x3751c5[_0x1f9a17]=_0x2f73f6;};}return function(_0x7bfa51){_0x2f73f6[_0x43a1a1]=_0x54d05b(_0x7bfa51);};}['_createAni'+'mTargetFor'+'Property'](_0x39e293,_0x3edb08,_0x2315be){if(this['handlers']&&_0x3edb08[0x9e0+0x1*-0x1fc9+0x1*0x15e9]['startsWith']('weight.'))return this['handlers']['weight'](_0x39e293,_0x3edb08[0x49*0x51+0x1*0x1f3+0x2*-0xc86]['replace']('weight.',''));if(this['handlers']&&_0x3edb08[0xc7d*-0x1+-0x2147+0x2dc4]==='material'&&_0x3edb08['length']===0x5a4+0x26da+-0x49*0x9c){const _0x466119=_0x3edb08[-0x20ac+0x5e*0x43+-0x2b1*-0x3];if(_0x466119['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x39e293,_0x466119);}const _0x2b92ff=this['_resolvePa'+'th'](_0x39e293,_0x3edb08,!(0x9e5+0x1*-0x1442+0xa5d));if(typeof _0x2b92ff>'u')return null;let _0x2f3a4,_0x1daf71,_0x47eeee;if(typeof _0x2b92ff=='number')_0x2f3a4=this['_setter'](_0x39e293,_0x3edb08,mi['_packFloat']),_0x1daf71='vector',_0x47eeee=-0xfdb+-0x2587+0xad*0x4f;else{if(typeof _0x2b92ff=='boolean')_0x2f3a4=this['_setter'](_0x39e293,_0x3edb08,mi['_packBoole'+'an']),_0x1daf71='vector',_0x47eeee=-0x585*0x5+0x1*0xa3+-0x9*-0x2ff;else{if(typeof _0x2b92ff=='object')switch(_0x2b92ff['constructo'+'r']){case $:_0x2f3a4=this['_setter'](_0x39e293,_0x3edb08,mi['_packVec2']),_0x1daf71='vector',_0x47eeee=-0x31a+-0x5*0x5bf+0x1*0x1fd7;break;case T:_0x2f3a4=this['_setter'](_0x39e293,_0x3edb08,mi['_packVec3']),_0x1daf71='vector',_0x47eeee=-0x1610+-0x1665+-0x1*-0x2c78;break;case Q:_0x2f3a4=this['_setter'](_0x39e293,_0x3edb08,mi['_packVec4']),_0x1daf71='vector',_0x47eeee=0x3c8+-0x2381+0x1fbd;break;case j:_0x2f3a4=this['_setter'](_0x39e293,_0x3edb08,mi['_packColor']),_0x1daf71='vector',_0x47eeee=-0x178b+0x1*-0xdae+0x253d*0x1;break;case se:_0x2f3a4=this['_setter'](_0x39e293,_0x3edb08,mi['_packQuat']),_0x1daf71='quaternion',_0x47eeee=-0x1484+-0xc97*-0x3+-0x113d;break;default:return null;}}}return _0x3edb08['indexOf']('material')!==-(0xef5+0xac0+-0x19b4)?new Zu(_0xb8dca0=>{_0x2f3a4(_0xb8dca0),_0x39e293['material']['update']();},_0x1daf71,_0x47eeee,_0x2315be):new Zu(_0x2f3a4,_0x1daf71,_0x47eeee,_0x2315be);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x37d681={},_0x280d42=function(_0xa34387){_0x37d681[_0xa34387['name']]=_0xa34387;for(let _0x356cce=0x142*-0x7+-0xa14+0x12e2;_0x356cce<_0xa34387['children']['length'];++_0x356cce)_0x280d42(_0xa34387['children'][_0x356cce]);};_0x280d42(this['graph']),this['nodes']=_0x37d681;}}class $P{constructor(_0x14acd9,_0x564a6b,_0x29fa7f,_0x2e4dc4=-0x1*0x1091+-0x1*0xc62+-0x2*-0xe7a,_0x39189b=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',0x11ce+0xab2*-0x1+-0x71c),c(this,'_blendTime'+'Elapsed',0xf0f+0x8b*0x17+0x52*-0x56),c(this,'_startingW'+'eight',0x8c3*-0x2+-0xb5c*-0x1+0x62a*0x1),c(this,'_targetWei'+'ght',-0xd64*-0x1+0x1eea+-0x2c4e),(this['_name']=_0x14acd9,this['_controlle'+'r']=_0x564a6b,this['_component']=_0x29fa7f,this['_weight']=_0x2e4dc4,this['_blendType']=_0x39189b);}get['name'](){return this['_name'];}set['playing'](_0x3b4600){this['_controlle'+'r']['playing']=_0x3b4600;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x8ca122){const _0x5032b4=this['_controlle'+'r'],_0x4ec0e8=_0x5032b4['playing'];_0x5032b4['playing']=!(0x13d0+-0x6f2+-0xcde),_0x5032b4['activeStat'+'eCurrentTi'+'me']=_0x8ca122,_0x4ec0e8||_0x5032b4['update'](0x49f+0xee3*-0x1+-0x12*-0x92),_0x5032b4['playing']=_0x4ec0e8;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x5d4931){this['_weight']=_0x5d4931,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x3b9ad7){_0x3b9ad7!==this['_blendType']&&(this['_blendType']=_0x3b9ad7,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x120e58){this['_controlle'+'r']['assignMask'](_0x120e58)&&this['_component']['rebind'](),this['_mask']=_0x120e58;}get['mask'](){return this['_mask'];}['play'](_0x3e42f4){this['_controlle'+'r']['play'](_0x3e42f4);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x5c423c){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x5c423c):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x58c*0x5+-0x1*0x93e+0x24fa,this['_blendTime'+'Elapsed']=0x3ee+0xbcb*0x3+-0x274f,this['_startingW'+'eight']=-0x1*-0x995+-0x1*-0x19a9+-0x233e,this['_targetWei'+'ght']=-0x7ac+-0x194*-0x4+0x4*0x57)),this['_controlle'+'r']['update'](_0x5c423c);}['blendToWei'+'ght'](_0x43fd71,_0x2c3892){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x43fd71,this['_blendTime']=Math['max'](-0x24d7+-0x3*-0x147+0x2102,_0x2c3892),this['_blendTime'+'Elapsed']=0x1*0x1d11+-0x4*0x87e+-0x4e7*-0x1;}['assignAnim'+'ation'](_0x57c151,_0x324bc1,_0x1004b8,_0x4a4402){if(!(_0x324bc1 instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x57c151,_0x324bc1,_0x1004b8,_0x4a4402),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x2056+-0x2451+0x44a7&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x57c151})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x193b+-0x251+0x1b8c*0x1));}['removeNode'+'Animations'](_0x43fd8f){this['_controlle'+'r']['removeNode'+'Animations'](_0x43fd8f)&&(this['_component']['playing']=!(0xb95+-0x2614+-0xd4*-0x20));}['getAnimati'+'onAsset'](_0x5da3a1){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x5da3a1];}['transition'](_0x45f9db,_0x17563d=-0x1388+-0x11bb+0x2543,_0x364071=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x45f9db,'time':_0x17563d,'transitionOffset':_0x364071}));}}class mh{constructor(_0x346ba8){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x346ba8['layers']))this['_layers']=_0x346ba8['layers'];else for(const _0x364a75 in _0x346ba8['layers']){const _0x7cdc1f=_0x346ba8['layers'][_0x364a75],_0x39f487={'name':_0x7cdc1f['name'],'blendType':_0x7cdc1f['blendType'],'weight':_0x7cdc1f['weight'],'states':[],'transitions':[]};for(let _0x302d69=0xdf*0x1f+0x3*-0xac7+0x554;_0x302d69<_0x7cdc1f['states']['length'];_0x302d69++)_0x39f487['states']['push'](_0x346ba8['states'][_0x7cdc1f['states'][_0x302d69]]);for(let _0x24d1e6=-0x1c45+0x4d5*-0x4+0x2f99;_0x24d1e6<_0x7cdc1f['transition'+'s']['length'];_0x24d1e6++){const _0x5f2e92=_0x346ba8['transition'+'s'][_0x7cdc1f['transition'+'s'][_0x24d1e6]];if(_0x5f2e92['conditions']&&!Array['isArray'](_0x5f2e92['conditions'])){const _0x109b3d=Object['keys'](_0x5f2e92['conditions']),_0x100ede=[];for(let _0x2a4d29=-0x2b0*0xb+-0x2*0x1325+-0x3c5*-0x12;_0x2a4d29<_0x109b3d['length'];_0x2a4d29++){const _0x47cc09=_0x5f2e92['conditions'][_0x109b3d[_0x2a4d29]];_0x47cc09['parameterN'+'ame']&&_0x100ede['push'](_0x47cc09);}_0x5f2e92['conditions']=_0x100ede;}Number['isInteger'](_0x5f2e92['from'])&&(_0x5f2e92['from']=_0x346ba8['states'][_0x5f2e92['from']]['name']),Number['isInteger'](_0x5f2e92['to'])&&(_0x5f2e92['to']=_0x346ba8['states'][_0x5f2e92['to']]['name']),_0x39f487['transition'+'s']['push'](_0x5f2e92);}this['_layers']['push'](_0x39f487);}for(const _0x3de8ec in _0x346ba8['parameters']){const _0x87b980=_0x346ba8['parameters'][_0x3de8ec];this['_parameter'+'s'][_0x87b980['name']]={'type':_0x87b980['type'],'value':_0x87b980['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',0x1bf2+-0x22f3+0x702),c(this,'_activate',!(0x1*-0x323+-0x200d+0x1*0x2330)),c(this,'_playing',!(-0x1*-0x1b0f+-0x17b2+-0x35c)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(-0x23f7+0x12bf+0x1139)),c(this,'findParame'+'ter',_0xbcadd2=>this['_parameter'+'s'][_0xbcadd2]),c(this,'consumeTri'+'gger',_0x5008bb=>{this['_consumedT'+'riggers']['add'](_0x5008bb);});}set['stateGraph'+'Asset'](_0x546807){if(_0x546807===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x26c15f,_0x3cc7b9;_0x546807 instanceof le?(_0x26c15f=_0x546807['id'],_0x3cc7b9=this['system']['app']['assets']['get'](_0x26c15f),_0x3cc7b9||(this['system']['app']['assets']['add'](_0x546807),_0x3cc7b9=this['system']['app']['assets']['get'](_0x26c15f))):(_0x26c15f=_0x546807,_0x3cc7b9=this['system']['app']['assets']['get'](_0x26c15f)),!(!_0x3cc7b9||this['_stateGrap'+'hAsset']===_0x26c15f)&&(_0x3cc7b9['resource']?(this['_stateGrap'+'h']=_0x3cc7b9['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x3cc7b9['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x3cc7b9['once']('load',_0x5e811c=>{this['_stateGrap'+'h']=_0x5e811c['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x3cc7b9['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x3cc7b9)),this['_stateGrap'+'hAsset']=_0x26c15f);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x1e1caa){this['_normalize'+'Weights']=_0x1e1caa,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x49490c){this['_animation'+'Assets']=_0x49490c,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x3a9372){this['_speed']=_0x3a9372;}get['speed'](){return this['_speed'];}set['activate'](_0xd24033){this['_activate']=_0xd24033;}get['activate'](){return this['_activate'];}set['playing'](_0x353389){this['_playing']=_0x353389;}get['playing'](){return this['_playing'];}set['rootBone'](_0x6d357c){if(typeof _0x6d357c=='string'){const _0x464322=this['entity']['root']['findByGuid'](_0x6d357c);v['assert'](_0x464322,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x6d357c+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x464322;}else _0x6d357c instanceof $e?this['_rootBone']=_0x6d357c:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x3acd42){this['_stateGrap'+'h']=_0x3acd42;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0xd464c5){this['_layerIndi'+'ces']=_0xd464c5;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x4dc70f){this['_parameter'+'s']=_0x4dc70f;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x2bdc44){this['_targets']=_0x2bdc44;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x45b0df=0x1701+0x249d+0x496*-0xd;_0x45b0df<this['_layers']['length'];_0x45b0df++)if(!this['_layers'][_0x45b0df]['playable'])return!(-0x33*-0x53+0x10f0*-0x1+-0x4*-0x1a);return!(-0x1313+-0x5*-0x6e6+-0xf6b);}get['baseLayer'](){return this['_layers']['length']>-0xd*-0xe6+-0x1*0x210e+0x1560?this['_layers'][0x1aeb+0x1*-0x157f+-0x56c]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x10d999){const _0x510951=this['animationA'+'ssets'],_0xc9e2a1=this['layers']['map'](_0x58b587=>_0x58b587['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x10d999['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x510951,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x287258,_0x4c5994)=>{_0x287258['mask']=_0xc9e2a1[_0x4c5994];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x456898=Object['values'](this['_targets']);for(let _0x3cb4e2=-0x59*0x41+-0x1*0xba1+0x151*0x1a;_0x3cb4e2<_0x456898['length'];_0x3cb4e2++)_0x456898[_0x3cb4e2]['dirty']=!(0x1193+-0x135f+0x1cc);}['_addLayer']({name:_0x4425fb,states:_0xdb0e9b,transitions:_0x51d60e,weight:_0x28eb7a,mask:_0x5d0a4f,blendType:_0x2fdab8}){let _0x3aac8b;this['rootBone']?_0x3aac8b=this['rootBone']:_0x3aac8b=this['entity'];const _0x5c0bb2=this['_layers']['length'],_0x369dc8=new mi(this,_0x3aac8b,_0x4425fb,_0x5d0a4f,_0x5c0bb2),_0x4bd249=new j0(_0x369dc8),_0x51e1f5=new HP(_0x4bd249,_0xdb0e9b,_0x51d60e,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new $P(_0x4425fb,_0x51e1f5,this,_0x28eb7a,_0x2fdab8)),this['_layerIndi'+'ces'][_0x4425fb]=_0x5c0bb2,this['_layers'][_0x5c0bb2];}['addLayer'](_0x2ead36,_0x19a186,_0x57bbd8,_0x5a7e6b){const _0x35af4e=this['findAnimat'+'ionLayer'](_0x2ead36);if(_0x35af4e)return _0x35af4e;const _0x2928e1=[{'name':'START','speed':0x1}],_0x21a3a0=[];return this['_addLayer']({'name':_0x2ead36,'states':_0x2928e1,'transitions':_0x21a3a0,'weight':_0x19a186,'mask':_0x57bbd8,'blendType':_0x5a7e6b});}['_assignPar'+'ameters'](_0x42a66c){this['_parameter'+'s']={};const _0x305205=Object['keys'](_0x42a66c['parameters']);for(let _0x2be2ea=-0x8bb+0x23f9+-0x1b3e;_0x2be2ea<_0x305205['length'];_0x2be2ea++){const _0x222233=_0x305205[_0x2be2ea];this['_parameter'+'s'][_0x222233]={'type':_0x42a66c['parameters'][_0x222233]['type'],'value':_0x42a66c['parameters'][_0x222233]['value']};}}['loadStateG'+'raph'](_0x470383){this['_stateGrap'+'h']=_0x470383,this['_assignPar'+'ameters'](_0x470383),this['_layers']=[];let _0x237eb4=!(0x1*-0x147f+-0x1*-0x98c+0xaf4);for(let _0x3f9703=-0x1*0x226e+0x184a+0xec*0xb;_0x3f9703<_0x470383['layers']['length'];_0x3f9703++){const _0x1dfcc8=_0x470383['layers'][_0x3f9703];this['_addLayer']({..._0x1dfcc8}),_0x1dfcc8['states']['some'](_0x43a1b1=>_0x43a1b1['blendTree'])&&(_0x237eb4=!(-0x25f0+0x158b*-0x1+-0x3b7b*-0x1));}_0x237eb4||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x37e330=-0x4b*0x13+-0x195f+0x1ef0;_0x37e330<this['_layers']['length'];_0x37e330++){const _0x49ecfc=this['_layers'][_0x37e330],_0x390ada=_0x49ecfc['name'];for(let _0xd7ce3f=0x1450+0x17b2+-0x1*0x2c02;_0xd7ce3f<_0x49ecfc['states']['length'];_0xd7ce3f++){const _0x2daf5d=_0x49ecfc['states'][_0xd7ce3f];if(jh['indexOf'](_0x2daf5d)===-(-0x27*0xcf+0x2c9+0x11*0x1b1)){const _0x426e51=_0x390ada+':'+_0x2daf5d;this['_animation'+'Assets'][_0x426e51]||(this['_animation'+'Assets'][_0x426e51]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x181a10=-0xc44+0x830*-0x4+0x2d04;_0x181a10<this['_layers']['length'];_0x181a10++){const _0x4ea2ef=this['_layers'][_0x181a10];for(let _0x215cb5=0x27*-0x9+-0x3b5+0x64*0xd;_0x215cb5<_0x4ea2ef['states']['length'];_0x215cb5++){const _0x553579=_0x4ea2ef['states'][_0x215cb5];if(jh['indexOf'](_0x553579)!==-(-0x19d8+0x1d22+-0x349))continue;const _0x461224=this['_animation'+'Assets'][_0x4ea2ef['name']+':'+_0x553579];if(!_0x461224||!_0x461224['asset']){this['findAnimat'+'ionLayer'](_0x4ea2ef['name'])['assignAnim'+'ation'](_0x553579,Ri['EMPTY']);continue;}const _0x1686cd=_0x461224['asset'],_0xd1078d=this['system']['app']['assets']['get'](_0x1686cd);_0xd1078d&&(_0xd1078d['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x4ea2ef['name'],_0x553579,_0xd1078d):(_0xd1078d['once']('load',function(_0x215024,_0xa02458){return function(_0x1c4bdb){this['onAnimatio'+'nAssetLoad'+'ed'](_0x215024,_0xa02458,_0x1c4bdb);}['bind'](this);}['bind'](this)(_0x4ea2ef['name'],_0x553579)),this['system']['app']['assets']['load'](_0xd1078d)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x174e5d,_0x1691a0,_0x3a92f4){this['findAnimat'+'ionLayer'](_0x174e5d)['assignAnim'+'ation'](_0x1691a0,_0x3a92f4['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(0x1*0x2257+0x112e+-0x3384),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x462908=-0x8b4*-0x4+-0x59*0x12+-0xe47*0x2;_0x462908<this['_layers']['length'];_0x462908++){const _0x33306f=this['_layers'][_0x462908]['playing'];this['_layers'][_0x462908]['reset'](),this['_layers'][_0x462908]['playing']=_0x33306f;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x287226=>{this['_targets'][_0x287226]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x5dafdf=0x1eb2+0x454+-0x1*0x2306;_0x5dafdf<this['_layers']['length'];_0x5dafdf++)this['_layers'][_0x5dafdf]['rebind']();}['findAnimat'+'ionLayer'](_0x58773e){const _0x19ef85=this['_layerIndi'+'ces'][_0x58773e];return this['_layers'][_0x19ef85]||null;}['addAnimati'+'onState'](_0x620954,_0x362092,_0x123dee=0xc74+0xaad*-0x1+-0x1c6,_0x1c7da8=!(0x536+0xdad+-0x12e3),_0x41f5a0='Base'){var _0x32db1c;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x41f5a0,'states':[{'name':'START','speed':0x1},{'name':_0x620954,'speed':_0x123dee,'loop':_0x1c7da8,'defaultState':!(-0x1*-0xeba+-0x149+-0x6f*0x1f)}],'transitions':[{'from':'START','to':_0x620954}]}],'parameters':{}}));const _0xbfa35b=this['findAnimat'+'ionLayer'](_0x41f5a0);_0xbfa35b?_0xbfa35b['assignAnim'+'ation'](_0x620954,_0x362092,_0x123dee,_0x1c7da8):(_0x32db1c=this['addLayer'](_0x41f5a0))==null||_0x32db1c['assignAnim'+'ation'](_0x620954,_0x362092,_0x123dee,_0x1c7da8);}['assignAnim'+'ation'](_0x16dd9f,_0x3b86c2,_0x285a11,_0x4463b7=-0x25b1*-0x1+-0x2597*-0x1+-0x4b47,_0x23b218=!(-0x1a75+0xbe4+0xe91)){if(!this['_stateGrap'+'h']&&_0x16dd9f['indexOf']('.')===-(-0x1f37+0x11*-0x156+-0x4e*-0xb1)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x16dd9f,'speed':_0x4463b7,'loop':_0x23b218,'defaultState':!(-0x2f*0x71+-0x184+0x1643)}],'transitions':[{'from':'START','to':_0x16dd9f}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x16dd9f,_0x3b86c2);return;}const _0x4da176=_0x285a11?this['findAnimat'+'ionLayer'](_0x285a11):this['baseLayer'];if(!_0x4da176){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x4da176['assignAnim'+'ation'](_0x16dd9f,_0x3b86c2,_0x4463b7,_0x23b218);}['removeNode'+'Animations'](_0x56b962,_0x3bc9b6){const _0x5b2880=_0x3bc9b6?this['findAnimat'+'ionLayer'](_0x3bc9b6):this['baseLayer'];if(!_0x5b2880){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x5b2880['removeNode'+'Animations'](_0x56b962);}['getParamet'+'erValue'](_0x35df72,_0x11f3bf){const _0x3b23dd=this['_parameter'+'s'][_0x35df72];if(_0x3b23dd&&_0x3b23dd['type']===_0x11f3bf)return _0x3b23dd['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x35df72+('\x22\x20of\x20type\x20'+'\x22')+_0x11f3bf+'\x22');}['setParamet'+'erValue'](_0x39900c,_0x5410f7,_0x2bab00){const _0x13332f=this['_parameter'+'s'][_0x39900c];if(_0x13332f&&_0x13332f['type']===_0x5410f7){_0x13332f['value']=_0x2bab00;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x39900c+('\x22\x20of\x20type\x20'+'\x22')+_0x5410f7+'\x22');}['getFloat'](_0x124fed){return this['getParamet'+'erValue'](_0x124fed,Q_);}['setFloat'](_0x1110a0,_0x4fca36){this['setParamet'+'erValue'](_0x1110a0,Q_,_0x4fca36);}['getInteger'](_0x33631d){return this['getParamet'+'erValue'](_0x33631d,Z_);}['setInteger'](_0x50e618,_0x2908dc){typeof _0x2908dc=='number'&&_0x2908dc%(0x1949+0x1b*0xcb+-0x2eb1)===0x1d69+0x71f+-0x2488?this['setParamet'+'erValue'](_0x50e618,Z_,_0x2908dc):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x50e618,_0x2908dc);}['getBoolean'](_0x3520ab){return this['getParamet'+'erValue'](_0x3520ab,J_);}['setBoolean'](_0x103117,_0x5d0143){this['setParamet'+'erValue'](_0x103117,J_,!!_0x5d0143);}['getTrigger'](_0x28acbe){return this['getParamet'+'erValue'](_0x28acbe,ph);}['setTrigger'](_0x3057bd,_0x37767f=!(0x1aea+0xeef*0x1+0x29d8*-0x1)){this['setParamet'+'erValue'](_0x3057bd,ph,!(0x943+0xac5+-0x1408)),_0x37767f&&this['_consumedT'+'riggers']['add'](_0x3057bd);}['resetTrigg'+'er'](_0x2ec1be){this['setParamet'+'erValue'](_0x2ec1be,ph,!(-0x2351+0x6dd*0x5+0x101));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x5ae0ae){for(let _0x2150d3=-0x19e5*-0x1+0x1312+-0x2cf7;_0x2150d3<this['layers']['length'];_0x2150d3++)this['layers'][_0x2150d3]['update'](_0x5ae0ae*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x413771=>{this['parameters'][_0x413771]['value']=!(0x17f1+0x118d*-0x2+0xb2a);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x44fcc1,_0x38c28a){_0x44fcc1['rootBone']&&_0x38c28a[_0x44fcc1['rootBone']['getGuid']()]?this['rootBone']=_0x38c28a[_0x44fcc1['rootBone']['getGuid']()]:this['rebind']();}}class WP{constructor(){this['enabled']=!(-0x874+-0x2b*0x7b+0x1*0x1d1d);}}const tf=['enabled'];class qP extends Xe{constructor(_0x5568be){super(_0x5568be),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=WP,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x308b1b,_0x32e3d4,_0xc27126){super['initialize'+'ComponentD'+'ata'](_0x308b1b,_0x32e3d4,tf);const _0x309849=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x32e3d4)['forEach'](_0x209707=>{_0x309849['includes'](_0x209707)||(_0x308b1b[_0x209707]=_0x32e3d4[_0x209707]);}),_0x32e3d4['stateGraph']&&(_0x308b1b['stateGraph']=_0x32e3d4['stateGraph'],_0x308b1b['loadStateG'+'raph'](_0x308b1b['stateGraph'])),_0x32e3d4['layers']&&_0x32e3d4['layers']['forEach']((_0x11cfc0,_0x4d04e6)=>{_0x11cfc0['_controlle'+'r']['states']['forEach'](_0x4f0ebb=>{_0x11cfc0['_controlle'+'r']['_states'][_0x4f0ebb]['_animation'+'List']['forEach'](_0x4fee66=>{if(!_0x4fee66['animTrack']||_0x4fee66['animTrack']===Ri['EMPTY']){const _0x15bbf9=this['app']['assets']['get'](_0x11cfc0['_component']['_animation'+'Assets'][_0x11cfc0['name']+':'+_0x4fee66['name']]['asset']);_0x15bbf9&&!_0x15bbf9['loaded']&&_0x15bbf9['once']('load',()=>{_0x308b1b['layers'][_0x4d04e6]['assignAnim'+'ation'](_0x4fee66['name'],_0x15bbf9['resource']);});}else _0x308b1b['layers'][_0x4d04e6]['assignAnim'+'ation'](_0x4fee66['name'],_0x4fee66['animTrack']);});});}),_0x32e3d4['animationA'+'ssets']&&(_0x308b1b['animationA'+'ssets']=Object['assign'](_0x308b1b['animationA'+'ssets'],_0x32e3d4['animationA'+'ssets'])),_0x32e3d4['masks']&&Object['keys'](_0x32e3d4['masks'])['forEach'](_0x5b8f0b=>{if(_0x308b1b['layers'][_0x5b8f0b]){const _0x2b3b86=_0x32e3d4['masks'][_0x5b8f0b]['mask'],_0x27cbfe={};Object['keys'](_0x2b3b86)['forEach'](_0x297ff4=>{_0x27cbfe[decodeURI(_0x297ff4)]=_0x2b3b86[_0x297ff4];}),_0x308b1b['layers'][_0x5b8f0b]['mask']=_0x27cbfe;}});}['onAnimatio'+'nUpdate'](_0xd7ca60){const _0x1d2bb1=this['store'];for(const _0x19b975 in _0x1d2bb1)if(_0x1d2bb1['hasOwnProp'+'erty'](_0x19b975)){const _0x1ae37f=_0x1d2bb1[_0x19b975]['entity']['anim'];_0x1ae37f['data']['enabled']&&_0x1ae37f['entity']['enabled']&&_0x1ae37f['playing']&&_0x1ae37f['update'](_0xd7ca60);}}['cloneCompo'+'nent'](_0x3be28a,_0x919ed6){let _0x5b320b;(!_0x3be28a['anim']['rootBone']||_0x3be28a['anim']['rootBone']===_0x3be28a)&&(_0x5b320b={},_0x3be28a['anim']['layers']['forEach']((_0x1ec63c,_0x18be47)=>{if(_0x1ec63c['mask']){const _0x2d76ae={};Object['keys'](_0x1ec63c['mask'])['forEach'](_0x103fd7=>{const _0x2a7ffd=_0x103fd7['split']('/');_0x2a7ffd['shift']();const _0x411781=[_0x919ed6['name'],..._0x2a7ffd]['join']('/');_0x2d76ae[_0x411781]=_0x1ec63c['mask'][_0x103fd7];}),_0x5b320b[_0x18be47]={'mask':_0x2d76ae};}}));const _0x4fbf35={'enabled':_0x3be28a['anim']['enabled'],'stateGraphAsset':_0x3be28a['anim']['stateGraph'+'Asset'],'animationAssets':_0x3be28a['anim']['animationA'+'ssets'],'speed':_0x3be28a['anim']['speed'],'activate':_0x3be28a['anim']['activate'],'playing':_0x3be28a['anim']['playing'],'rootBone':_0x3be28a['anim']['rootBone'],'stateGraph':_0x3be28a['anim']['stateGraph'],'layers':_0x3be28a['anim']['layers'],'layerIndices':_0x3be28a['anim']['layerIndic'+'es'],'parameters':_0x3be28a['anim']['parameters'],'normalizeWeights':_0x3be28a['anim']['normalizeW'+'eights'],'masks':_0x5b320b};return this['addCompone'+'nt'](_0x919ed6,_0x4fbf35);}['onBeforeRe'+'move'](_0x568ed1,_0x117205){_0x117205['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x2a31b5=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x2a31b5);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(-0x1d5*0x5+0xb9*-0x15+0x1bd*0xe);}}const J0=['enabled'];class jP extends Xe{constructor(_0x52cb21){super(_0x52cb21),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x52cb21['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x5e0420,_0x111b8f,_0x2b0cdd){_0x2b0cdd=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x5e0420,_0x111b8f,_0x2b0cdd);}['onUpdate'](_0x3373ae){if(this['current']){const _0x16a823=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x16a823);const _0x214eaa=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x214eaa);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=0x97*0x3d+0x59c+-0x2997*0x1,tg=0x185a+0xe2a+-0x2683,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x10fa8b,_0x5dc326){super(_0x10fa8b,_0x5dc326),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(0x1d06+0x1*-0x943+0x3*-0x696)),c(this,'_hoveringC'+'ounter',-0x15a6*-0x1+0xe12*-0x2+-0x22a*-0x3),c(this,'_isPressed',!(-0x830*0x2+-0x25c1+0x3622)),c(this,'_defaultTi'+'nt',new j(-0xd50+0x5*0x42d+-0x790,-0x2124+0x1d56+-0xf*-0x41,-0x39b+-0x1a6e+0x1e0a,0x1a93+-0x1733+-0x1*0x35f)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',0x21*-0x59+-0xf32+-0x1*-0x1aab),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(-0x2*-0x672+-0x26f2+-0x3b9*-0x7),this['_hoveringC'+'ounter']=-0xd*-0x1e2+-0x640+0x2*-0x91d,this['_isPressed']=!(0x1*0xe27+-0x1621+-0x3*-0x2a9),this['_defaultTi'+'nt']=new j(0x6c+-0x104a+0xfdf*0x1,0xb57*0x2+-0x57*0x21+-0xb76,-0x24c6+0x3c7*-0x9+-0x1*-0x46c6,-0x5*-0x140+0x659+-0x3e*0x34),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0x23d6+-0x68*-0x28+-0x3416,this['_toggleLif'+'ecycleList'+'eners']('on',_0x10fa8b));}get['data'](){const _0x562e23=this['system']['store'][this['entity']['getGuid']()];return _0x562e23?_0x562e23['data']:null;}set['enabled'](_0x4a753b){this['_setValue']('enabled',_0x4a753b);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x45e3da){this['_setValue']('active',_0x45e3da);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x47f04f){if(this['_imageEnti'+'ty']!==_0x47f04f){const _0x5523ca=typeof _0x47f04f=='string';if(this['_imageEnti'+'ty']&&_0x5523ca&&this['_imageEnti'+'ty']['getGuid']()===_0x47f04f)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x47f04f instanceof De?this['_imageEnti'+'ty']=_0x47f04f:_0x5523ca?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x47f04f)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x5523ca&&_0x47f04f&&(this['data']['imageEntit'+'y']=_0x47f04f);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x123eeb){this['_setValue']('hitPadding',_0x123eeb);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x6eb281){this['_setValue']('transition'+'Mode',_0x6eb281);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x2d9dff){this['_setValue']('hoverTint',_0x2d9dff);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x515455){this['_setValue']('pressedTin'+'t',_0x515455);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x5896c7){this['_setValue']('inactiveTi'+'nt',_0x5896c7);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x45c468){this['_setValue']('fadeDurati'+'on',_0x45c468);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x16d010){this['_setValue']('hoverSprit'+'eAsset',_0x16d010);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x54d083){this['_setValue']('hoverSprit'+'eFrame',_0x54d083);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x20d98c){this['_setValue']('pressedSpr'+'iteAsset',_0x20d98c);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x25f84b){this['_setValue']('pressedSpr'+'iteFrame',_0x25f84b);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x34c802){this['_setValue']('inactiveSp'+'riteAsset',_0x34c802);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x5a4db5){this['_setValue']('inactiveSp'+'riteFrame',_0x5a4db5);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x52663b,_0x16d6f2){const _0x551697=this['data'],_0x1cc5a3=_0x551697[_0x52663b];_0x551697[_0x52663b]=_0x16d6f2,this['fire']('set',_0x52663b,_0x1cc5a3,_0x16d6f2);}['_toggleLif'+'ecycleList'+'eners'](_0x5be963,_0x5044c6){var _0x1c612b;this[_0x5be963]('set_active',this['_onSetActi'+'ve'],this),this[_0x5be963]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x5be963]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5be963]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5be963]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5be963]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5be963]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5be963]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5be963]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5be963]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x5be963]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x5be963==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x1c612b=this['_evtElemen'+'tAdd'])==null||_0x1c612b['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x5b8d38,_0x4b9ca0,_0x5bc0f2){_0x4b9ca0!==_0x5bc0f2&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x2d1eeb,_0x4c3da2,_0x15a130){_0x4c3da2!==_0x15a130&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x4c3da2),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x442b24,_0x5cef2d,_0x2947f8){_0x5cef2d!==_0x2947f8&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x371b5c,_0x59b6b5;(_0x371b5c=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x371b5c['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x59b6b5=this['_imageEnti'+'ty'])!=null&&_0x59b6b5['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x5d569c=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x5d569c['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x5d569c['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x5d569c['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x5d569c['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x5d569c['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0xc29332,_0x53fbad,_0x55e2e6,_0x37c41a,_0x3b74d1;(_0xc29332=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0xc29332['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x53fbad=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x53fbad['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x55e2e6=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x55e2e6['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x37c41a=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x37c41a['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x3b74d1=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x3b74d1['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x3899d8){if(this['entity']['element']){const _0x1aea5c=_0x3899d8==='on';if(_0x1aea5c&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x3899d8]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x3899d8]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x3899d8]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x3899d8]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x3899d8]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x3899d8]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x3899d8]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x3899d8]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x3899d8]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x3899d8]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x3899d8]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x3899d8]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x3899d8]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x3899d8]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x1aea5c;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x228a01;const _0x56bea5=(_0x228a01=this['_imageEnti'+'ty'])==null?void(-0x1d86+-0xb34+0x28ba*0x1):_0x228a01['element'];!_0x56bea5||_0x56bea5['type']===_h||(this['_storeDefa'+'ultColor'](_0x56bea5['color']),this['_storeDefa'+'ultOpacity'](_0x56bea5['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x56bea5['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x56bea5['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x36e8b2){this['_defaultTi'+'nt']['r']=_0x36e8b2['r'],this['_defaultTi'+'nt']['g']=_0x36e8b2['g'],this['_defaultTi'+'nt']['b']=_0x36e8b2['b'];}['_storeDefa'+'ultOpacity'](_0x4f0b45){this['_defaultTi'+'nt']['a']=_0x4f0b45;}['_storeDefa'+'ultSpriteA'+'sset'](_0x110680){this['_defaultSp'+'riteAsset']=_0x110680;}['_storeDefa'+'ultSpriteF'+'rame'](_0x5081d2){this['_defaultSp'+'riteFrame']=_0x5081d2;}['_onSetColo'+'r'](_0x3e7eec){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x3e7eec),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x412ec7){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x412ec7),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x382d5c){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x382d5c),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x57e57e){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x57e57e),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x5d4d66){this['_isHoverin'+'g']=!(-0x2242+-0x139a+-0xd77*-0x4),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x5d4d66);}['_onMouseLe'+'ave'](_0x1c69a3){this['_isHoverin'+'g']=!(-0x621*0x3+-0x1d15+0x1*0x2f79),this['_isPressed']=!(0x139*-0xa+0x1890+0x1*-0xc55),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x1c69a3);}['_onMouseDo'+'wn'](_0x403a7c){this['_isPressed']=!(0x139*0xe+-0x361+-0xdbd),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x403a7c);}['_onMouseUp'](_0xa5e67b){this['_isPressed']=!(-0x6f*-0x4a+0x28a+-0x1*0x229f),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0xa5e67b);}['_onTouchSt'+'art'](_0x2166c6){this['_isPressed']=!(-0xe*-0x175+-0x4e6+-0x1f0*0x8),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x2166c6);}['_onTouchEn'+'d'](_0x30b3b3){_0x30b3b3['event']['preventDef'+'ault'](),this['_isPressed']=!(0x84*-0x2b+0xe82+0x7ab),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x30b3b3);}['_onTouchLe'+'ave'](_0x8b6da0){this['_isPressed']=!(0x80b*-0x3+0x20f3+0x8d1*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x8b6da0);}['_onTouchCa'+'ncel'](_0x3a4a49){this['_isPressed']=!(0x1ba+-0x34c*-0x6+-0x1581),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x3a4a49);}['_onSelectS'+'tart'](_0x1732da){this['_isPressed']=!(-0x1d4b*-0x1+-0x37f+-0x19cc),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x1732da);}['_onSelectE'+'nd'](_0x5693ce){this['_isPressed']=!(-0x1526+0x2*-0xcb5+0x5b*0x83),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x5693ce);}['_onSelectE'+'nter'](_0x13b4ea){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x3*-0x8dd+-0x1*-0xa8b+-0x5*0x76d&&(this['_isHoverin'+'g']=!(-0x2*0x62a+0x1*-0x2681+0x32d5),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x13b4ea);}['_onSelectL'+'eave'](_0x513b98){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x202a+-0x1abd+-0x56d&&(this['_isHoverin'+'g']=!(-0xf09+-0x5cf*0x5+0x131*0x25),this['_isPressed']=!(-0x6dd+-0xdcb+0x14a9),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x513b98);}['_onClick'](_0x513ab7){this['_fireIfAct'+'ive']('click',_0x513ab7);}['_fireIfAct'+'ive'](_0x384c32,_0x17b240){this['data']['active']&&this['fire'](_0x384c32,_0x17b240);}['_updateVis'+'ualState'](_0x580e1f){const _0x313ec7=this['_visualSta'+'te'],_0x29b379=this['_determine'+'VisualStat'+'e']();if((_0x313ec7!==_0x29b379||_0x580e1f)&&this['enabled'])switch(this['_visualSta'+'te']=_0x29b379,_0x313ec7===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x313ec7===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x29b379===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x29b379===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x4d041e=hl[this['_visualSta'+'te']],_0x57bbfd=this[_0x4d041e];this['_applyTint'](_0x57bbfd);break;}case tg:{const _0x406410=cl[this['_visualSta'+'te']],_0x44cc78=dl[this['_visualSta'+'te']],_0x24c064=this[_0x406410],_0x20bb11=this[_0x44cc78];this['_applySpri'+'te'](_0x24c064,_0x20bb11);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x1*-0x1f9a+-0x393*0x9+-0x91*-0x1));}['_resetToDe'+'faultVisua'+'lState'](_0x173a1f){var _0x20735c;if((_0x20735c=this['_imageEnti'+'ty'])!=null&&_0x20735c['element'])switch(_0x173a1f){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x446e1c,_0x37cbdd){var _0x1b0646;const _0x5481e3=(_0x1b0646=this['_imageEnti'+'ty'])==null?void(-0x14ab*-0x1+0x1d00+-0x5*0x9ef):_0x1b0646['element'];_0x5481e3&&(_0x37cbdd=_0x37cbdd||-0x182*0x19+0x227f+0x333,this['_isApplyin'+'gSprite']=!(-0x2444*-0x1+-0x22d5+-0x1*0x16f),_0x5481e3['spriteAsse'+'t']!==_0x446e1c&&(_0x5481e3['spriteAsse'+'t']=_0x446e1c),_0x5481e3['spriteFram'+'e']!==_0x37cbdd&&(_0x5481e3['spriteFram'+'e']=_0x37cbdd),this['_isApplyin'+'gSprite']=!(0xaae*-0x2+-0x1a56+-0x2fb3*-0x1));}['_applyTint'](_0x3d7a51){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x258b+-0x2361+0x59c*0xd?this['_applyTint'+'Immediatel'+'y'](_0x3d7a51):this['_applyTint'+'WithTween'](_0x3d7a51);}['_applyTint'+'Immediatel'+'y'](_0x1f1f96){var _0x457b5a;const _0x1e0b0c=(_0x457b5a=this['_imageEnti'+'ty'])==null?void(-0x5*-0x266+-0xf*-0xbc+-0x1702):_0x457b5a['element'];if(!_0x1f1f96||!_0x1e0b0c||_0x1e0b0c['type']===_h)return;const _0xfbab3b=sg(_0x1f1f96);this['_isApplyin'+'gTint']=!(0x1*-0x1e37+0x8fe+0x1539*0x1),_0xfbab3b['equals'](_0x1e0b0c['color'])||(_0x1e0b0c['color']=_0xfbab3b),_0x1e0b0c['opacity']!==_0x1f1f96['a']&&(_0x1e0b0c['opacity']=_0x1f1f96['a']),this['_isApplyin'+'gTint']=!(0x21c3+0x35*0x67+-0x3715);}['_applyTint'+'WithTween'](_0x4ed967){var _0x30c591;const _0x20026c=(_0x30c591=this['_imageEnti'+'ty'])==null?void(-0x1e17+-0x21d6+-0x1*-0x3fed):_0x30c591['element'];if(!_0x4ed967||!_0x20026c||_0x20026c['type']===_h)return;const _0x50d5de=sg(_0x4ed967),_0x5a1bca=_0x20026c['color'],_0x4647a0=_0x20026c['opacity'];_0x50d5de['equals'](_0x5a1bca)&&_0x4ed967['a']===_0x4647a0||(this['_tweenInfo']={'startTime':ne(),'from':new j(_0x5a1bca['r'],_0x5a1bca['g'],_0x5a1bca['b'],_0x4647a0),'to':_0x4ed967['clone'](),'lerpColor':new j()});}['_updateTin'+'tTween'](){const _0x50f283=ne()-this['_tweenInfo']['startTime'];let _0x250284=this['fadeDurati'+'on']===0x1a1d+0x2*0xc47+0x73d*-0x7?-0x35*-0x75+-0x13f*-0x4+-0x1d34:_0x50f283/this['fadeDurati'+'on'];if(_0x250284=N['clamp'](_0x250284,0x1*-0x7fb+-0xe02+0x1*0x15fd,0x104+-0x3*-0xccb+-0x2764),Math['abs'](_0x250284-(0x219c+-0x2494+0x2f9))>-0x5*0x240+0x13d8+-0x898+0.00001){const _0x7ff63a=this['_tweenInfo']['lerpColor'];_0x7ff63a['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x250284),this['_applyTint'+'Immediatel'+'y'](new j(_0x7ff63a['r'],_0x7ff63a['g'],_0x7ff63a['b'],_0x7ff63a['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x6d9*-0x1+-0x11a1*0x1+0x187b),this['_hoveringC'+'ounter']=0x3*0x4c4+0x26f0+-0x353c,this['_isPressed']=!(-0x1*-0xeb9+0x439+0x12f1*-0x1),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3061ea,_0x31c00b){_0x3061ea['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x31c00b[_0x3061ea['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x4c8047){return new j(_0x4c8047['r'],_0x4c8047['g'],_0x4c8047['b']);}class ZP{constructor(){this['enabled']=!(-0x3aa*0xa+-0x544+-0x8*-0x53d),this['active']=!(0x2d9*0x3+0x3*-0x815+0xc*0x14f),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new j(-0x5*-0x39d+-0xf1*-0xf+-0x2030+0.75,-0x2281+-0xe2*-0x1+0x3*0xb35+0.75,-0x1d8e+0x2518*-0x1+-0x1c1*-0x26+0.75),this['pressedTin'+'t']=new j(-0x733+-0x589*-0x7+-0x1f8c+0.5,-0x161*0x2+0x1dd2+-0x1b10+0.5,-0x7a*0x1d+0x20b9+0x1*-0x12e7+0.5),this['inactiveTi'+'nt']=new j(0x258a+-0x7cf*0x4+-0x64e+0.25,0x26be+0x954+-0x3012+0.25,0x6f+0x906+-0x975+0.25),this['fadeDurati'+'on']=-0x233+-0x863+-0x21e*-0x5,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x1cf2+0x1*0xf47+-0x2c39*0x1,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0xa*-0x3c1+0x403+-0x298d,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x40*-0x96+-0x149*0x15+0x381*-0x3;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x425771){super(_0x425771),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0xebcc00,_0x4e9a54,_0x49f932){_0xebcc00['imageEntit'+'y']=_0x4e9a54['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0xebcc00,_0x4e9a54,ig);}['onUpdate'](_0x81928){const _0x59a35a=this['store'];for(const _0x20b224 in _0x59a35a){const _0x2192c8=_0x59a35a[_0x20b224]['entity'],_0x1883e9=_0x2192c8['button'];_0x1883e9['enabled']&&_0x2192c8['enabled']&&_0x1883e9['onUpdate']();}}['_onRemoveC'+'omponent'](_0x356403,_0x12b817){_0x12b817['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0x10ca5c,_0x2e4b91){super(_0x10ca5c,_0x2e4b91),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(-0x73f+-0x250+-0x6*-0x198)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x216693=this['system']['store'][this['entity']['getGuid']()];return _0x216693?_0x216693['data']:null;}set['enabled'](_0x324175){this['_setValue']('enabled',_0x324175);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x496a43){this['_setValue']('type',_0x496a43);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x4afd65){this['_setValue']('halfExtent'+'s',_0x4afd65);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x3bba1d){this['_setValue']('linearOffs'+'et',_0x3bba1d);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x3b0bd1){this['_setValue']('angularOff'+'set',_0x3b0bd1);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x31f3b9){this['_setValue']('radius',_0x31f3b9);}get['radius'](){return this['data']['radius'];}set['axis'](_0x389e25){this['_setValue']('axis',_0x389e25);}get['axis'](){return this['data']['axis'];}set['height'](_0x24af79){this['_setValue']('height',_0x24af79);}get['height'](){return this['data']['height'];}set['asset'](_0x2fa2d3){this['_setValue']('asset',_0x2fa2d3);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x224fb5){this['_setValue']('renderAsse'+'t',_0x224fb5);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x17b689){this['_setValue']('convexHull',_0x17b689);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x5bf448){this['_setValue']('shape',_0x5bf448);}get['shape'](){return this['data']['shape'];}set['model'](_0x308bc9){this['_setValue']('model',_0x308bc9);}get['model'](){return this['data']['model'];}set['render'](_0x4d5c93){this['_setValue']('render',_0x4d5c93);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x45dffb){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x45dffb);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x111434,_0x4e5247){const _0x34047a=this['data'],_0xc243b3=_0x34047a[_0x111434];_0x34047a[_0x111434]=_0x4e5247,this['fire']('set',_0x111434,_0xc243b3,_0x4e5247);}['onSetType'](_0x88d305,_0x3e404d,_0x2530d8){_0x3e404d!==_0x2530d8&&this['system']['changeType'](this,_0x3e404d,_0x2530d8);}['onSetHalfE'+'xtents'](_0x396a93,_0x2f9ae6,_0x4156bd){const _0x157d79=this['data']['type'];this['data']['initialize'+'d']&&_0x157d79==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x127e8f,_0x5ee21a,_0xe6575){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x469527,_0x15ef13,_0x3df2fa){const _0x541384=this['data']['type'];this['data']['initialize'+'d']&&(_0x541384==='sphere'||_0x541384==='capsule'||_0x541384==='cylinder'||_0x541384==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x431f2b,_0x10a66d,_0x3cb427){const _0x1ada7d=this['data']['type'];this['data']['initialize'+'d']&&(_0x1ada7d==='capsule'||_0x1ada7d==='cylinder'||_0x1ada7d==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0xf35f99,_0x578c93,_0x10f03d){const _0x122560=this['data']['type'];this['data']['initialize'+'d']&&(_0x122560==='capsule'||_0x122560==='cylinder'||_0x122560==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x3f1a71,_0x31f871,_0x158715){const _0x1fac72=this['system']['app']['assets'];if(_0x31f871){const _0x4e0e0e=_0x1fac72['get'](_0x31f871);_0x4e0e0e&&_0x4e0e0e['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x158715){_0x158715 instanceof le&&(this['data']['asset']=_0x158715['id']);const _0x8b4975=_0x1fac72['get'](this['data']['asset']);_0x8b4975&&(_0x8b4975['off']('remove',this['onAssetRem'+'oved'],this),_0x8b4975['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x158715||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x35df61,_0x423d12,_0x3f2cc5){const _0x40fc0c=this['system']['app']['assets'];if(_0x423d12){const _0xf141f1=_0x40fc0c['get'](_0x423d12);_0xf141f1&&_0xf141f1['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x3f2cc5){_0x3f2cc5 instanceof le&&(this['data']['renderAsse'+'t']=_0x3f2cc5['id']);const _0x25d85c=_0x40fc0c['get'](this['data']['renderAsse'+'t']);_0x25d85c&&(_0x25d85c['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x25d85c['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x3f2cc5||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0xd02ef9,_0x14d6a1,_0x1df1b8){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x2f37f1,_0x391ad0,_0xc40bc2){this['onSetModel'](_0x2f37f1,_0x391ad0,_0xc40bc2);}['onAssetRem'+'oved'](_0x2e1da7){_0x2e1da7['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x2e1da7['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x273d66){_0x273d66['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x273d66['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x6421ae){const _0x2dac4d=this['data']['shape'],_0x3d8983=_0x2dac4d['getNumChil'+'dShapes']();for(let _0x6caf9f=0x59*-0x1b+-0x1212+0x1b75;_0x6caf9f<_0x3d8983;_0x6caf9f++){const _0x2e7296=_0x2dac4d['getChildSh'+'ape'](_0x6caf9f);if(Ammo['getPointer'](_0x2e7296)===Ammo['getPointer'](_0x6421ae))return _0x6caf9f;}return null;}['_onInsert'](_0x2f4c5c){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x3e2903=this['entity']['parent'];for(;_0x3e2903;){if(_0x3e2903['collision']&&_0x3e2903['collision']['type']==='compound'){_0x3e2903['collision']['shape']['getNumChil'+'dShapes']()===-0x183e+-0x5*-0x6c9+-0x9af?this['system']['recreatePh'+'ysicalShap'+'es'](_0x3e2903['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x3e2903=_0x3e2903['parent'];}}}}}['_updateCom'+'pound'](){const _0x393e53=this['entity'];if(_0x393e53['_dirtyWorl'+'d']){let _0x167f71=_0x393e53['_dirtyLoca'+'l'],_0x5ad566=_0x393e53;for(;_0x5ad566&&!_0x167f71&&!(_0x5ad566['collision']&&_0x5ad566['collision']===this['_compoundP'+'arent']);)_0x5ad566['_dirtyLoca'+'l']&&(_0x167f71=!(0x33d+-0x75e*0x1+0x421)),_0x5ad566=_0x5ad566['parent'];if(_0x167f71){_0x393e53['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x393e53);const _0x2acea3=this['_compoundP'+'arent']['entity']['rigidbody'];_0x2acea3&&_0x2acea3['activate']();}}}['getShapePo'+'sition'](){const _0x7ab6fa=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0xe1978f=this['entity']['getRotatio'+'n'](),_0x194d31=this['data']['linearOffs'+'et'];return ng['copy'](_0xe1978f)['transformV'+'ector'](_0x194d31,rg),rg['add'](_0x7ab6fa);}return _0x7ab6fa;}['getShapeRo'+'tation'](){const _0x4c54ac=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x4c54ac)['mul'](this['data']['angularOff'+'set']):_0x4c54ac;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x91830b=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x91830b&&(!_0x91830b['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x123a*0x1+-0x264f+0x3889)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x2de683=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x2de683,this['data']['shape']),Ammo['destroy'](_0x2de683),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(-0xffd*0x2+0x1e8e*0x1+-0x4*-0x5b),this['type']='box',this['halfExtent'+'s']=new T(-0x3*-0x80c+-0x11ad*-0x2+-0x2*0x1dbf+0.5,0x4*0x2e1+0x2f5*0x6+0x5da*-0x5+0.5,0x1*0x1695+-0x2538+0x1*0xea3+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=0x4*-0x6c6+-0x1d6f+-0x1*-0x3887+0.5,this['axis']=-0x132*0xc+0x4a*0x78+-0x1457,this['height']=0xfa0+0x1*-0x3b5+0x1*-0xbe9,this['convexHull']=!(-0xcd1*0x1+0x26a1+-0x19cf),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x29*-0x3+0x1*0x22a+-0x1af),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x21d4+0x8d2*0x1+-0x2aa5);}}const so='static',ms='dynamic',Bn='kinematic',eR=-0xf1*0x19+0x237*-0x4+-0x4a1*-0x7,lo=-0x2*-0xf4a+0x1a*0x167+0x2*-0x2183,nf=0x18cb+0x11b6+-0x55*0x80,ag=0x1*-0x45d+0x1d1a+-0x18b9,tx=0x1f24*0x1+-0x2d7*-0x6+-0x3029,tR=0x1c6*0x8+0x1b08+-0x2937*0x1,og=0x24f4+0x39*0x6d+-0x3d37,sR=-0x1*-0x1774+-0xaf*-0xd+0x5*-0x677,lg=-0x1bad+-0x12e7+-0x3*-0xf8c,hg=0x7f8d+-0x29f*0x3+0x884f,af=-0x17*-0x496+-0x1*0x12f83+0x1c606;let _s,Er,Nn;class sx{constructor(_0x581adc,_0x3dbabd,_0x593cc0){this['entity']=_0x3dbabd['entity'],this['component']=_0x3dbabd,this['app']=_0x581adc,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x593cc0);}['initialize'](_0x45cafd){const _0xfc8b89=this['entity'],_0x49d295=_0x45cafd['shape'];if(_0x49d295&&typeof Ammo<'u'){_0xfc8b89['trigger']&&_0xfc8b89['trigger']['destroy']();const _0x41691a=0x2*-0x551+0x141c+0x1*-0x979,_0x1198af=this['component'];if(_0x1198af){const _0x1a3b08=_0x1198af['getShapePo'+'sition'](),_0x415e20=_0x1198af['getShapeRo'+'tation']();_s['setValue'](_0x1a3b08['x'],_0x1a3b08['y'],_0x1a3b08['z']),Er['setValue'](_0x415e20['x'],_0x415e20['y'],_0x415e20['z'],_0x415e20['w']);}else{const _0x161573=_0xfc8b89['getPositio'+'n'](),_0x31700a=_0xfc8b89['getRotatio'+'n']();_s['setValue'](_0x161573['x'],_0x161573['y'],_0x161573['z']),Er['setValue'](_0x31700a['x'],_0x31700a['y'],_0x31700a['z'],_0x31700a['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0x52a06b=this['app']['systems']['rigidbody']['createBody'](_0x41691a,_0x49d295,Nn);_0x52a06b['setRestitu'+'tion'](0xa39*0x2+0x16a2+-0x2b14),_0x52a06b['setFrictio'+'n'](0x4a*-0x3b+0x1247+-0x139),_0x52a06b['setDamping'](0x1105*0x1+0x392+0x2f1*-0x7,0x7*-0x3a9+-0xf8+-0x1a97*-0x1),_s['setValue'](-0x3ad*-0x2+-0x12e9+0xb8f,0xb01*0x3+-0x1*-0x33d+-0x2440,-0x85*-0x2f+0xda3+-0x260e),_0x52a06b['setLinearF'+'actor'](_s),_0x52a06b['setAngular'+'Factor'](_s),_0x52a06b['setCollisi'+'onFlags'](_0x52a06b['getCollisi'+'onFlags']()|lo),_0x52a06b['entity']=_0xfc8b89,this['body']=_0x52a06b,this['component']['enabled']&&_0xfc8b89['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x2359ed){const _0x332745=this['component'];if(_0x332745){const _0x59d6fa=_0x332745['getShapePo'+'sition'](),_0x32d546=_0x332745['getShapeRo'+'tation']();_s['setValue'](_0x59d6fa['x'],_0x59d6fa['y'],_0x59d6fa['z']),Er['setValue'](_0x32d546['x'],_0x32d546['y'],_0x32d546['z'],_0x32d546['w']);}else{const _0x5ab67e=this['entity']['getPositio'+'n'](),_0x33afc7=this['entity']['getRotatio'+'n']();_s['setValue'](_0x5ab67e['x'],_0x5ab67e['y'],_0x5ab67e['z']),Er['setValue'](_0x33afc7['x'],_0x33afc7['y'],_0x33afc7['z'],_0x33afc7['w']);}_0x2359ed['setOrigin'](_s),_0x2359ed['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x37ab53=this['body'];_0x37ab53['setWorldTr'+'ansform'](Nn),_0x37ab53['activate']();}['enable'](){const _0x2bf592=this['body'];if(!_0x2bf592)return;const _0x46dc14=this['app']['systems']['rigidbody'];_0x46dc14['_triggers']['indexOf'](this)<-0x8d1*-0x1+0x22d*0x6+-0x15df&&(_0x46dc14['addBody'](_0x2bf592,lg,af^lg),_0x46dc14['_triggers']['push'](this)),_0x2bf592['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0x643d8b=this['body'];if(!_0x643d8b)return;const _0x53ed27=this['app']['systems']['rigidbody'],_0x35d7ad=_0x53ed27['_triggers']['indexOf'](this);_0x35d7ad>-(-0x5c3+-0xec*0x7+0xb8*0x11)&&(_0x53ed27['removeBody'](_0x643d8b),_0x53ed27['_triggers']['splice'](_0x35d7ad,0xc5b+-0x1af9+0xc5*0x13)),_0x643d8b['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0x4cd749){this['system']=_0x4cd749;}['beforeInit'+'ialize'](_0x2437e2,_0x1158d9){_0x1158d9['shape']=null,_0x1158d9['model']=new Oi(),_0x1158d9['model']['graph']=new De();}['afterIniti'+'alize'](_0x586361,_0x4d7179){this['recreatePh'+'ysicalShap'+'es'](_0x586361),_0x586361['data']['initialize'+'d']=!(0x14ce+-0xd91+-0x1*0x73d);}['reset'](_0x4016d4,_0x3c8a4c){this['beforeInit'+'ialize'](_0x4016d4,_0x3c8a4c),this['afterIniti'+'alize'](_0x4016d4,_0x3c8a4c);}['recreatePh'+'ysicalShap'+'es'](_0x1ede7d){const _0x49165c=_0x1ede7d['entity'],_0x187a7f=_0x1ede7d['data'];if(typeof Ammo<'u'){_0x49165c['trigger']&&(_0x49165c['trigger']['destroy'](),delete _0x49165c['trigger']),_0x187a7f['shape']&&(_0x1ede7d['_compoundP'+'arent']&&(_0x1ede7d!==_0x1ede7d['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x1ede7d['_compoundP'+'arent'],_0x187a7f['shape']),_0x1ede7d['_compoundP'+'arent']['entity']['rigidbody']&&_0x1ede7d['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x187a7f)),_0x187a7f['shape']=this['createPhys'+'icalShape'](_0x1ede7d['entity'],_0x187a7f);const _0x1dffed=!_0x1ede7d['_compoundP'+'arent'];if(_0x187a7f['type']==='compound'&&(!_0x1ede7d['_compoundP'+'arent']||_0x1ede7d===_0x1ede7d['_compoundP'+'arent']))_0x1ede7d['_compoundP'+'arent']=_0x1ede7d,_0x49165c['forEach'](this['_addEachDe'+'scendant'],_0x1ede7d);else{if(_0x187a7f['type']!=='compound'&&!_0x1ede7d['rigidbody']){_0x1ede7d['_compoundP'+'arent']=null;let _0x19bca1=_0x49165c['parent'];for(;_0x19bca1;){if(_0x19bca1['collision']&&_0x19bca1['collision']['type']==='compound'){_0x1ede7d['_compoundP'+'arent']=_0x19bca1['collision'];break;}_0x19bca1=_0x19bca1['parent'];}}}_0x1ede7d['_compoundP'+'arent']&&_0x1ede7d!==_0x1ede7d['_compoundP'+'arent']&&(_0x1dffed&&_0x1ede7d['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x390+-0x194a+-0x2*-0xe6d?this['system']['recreatePh'+'ysicalShap'+'es'](_0x1ede7d['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x49165c,!(-0x1f2+0x21*0x5d+0x1*-0xa0b)),_0x1ede7d['_compoundP'+'arent']['entity']['rigidbody']&&_0x1ede7d['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x49165c['rigidbody']?(_0x49165c['rigidbody']['disableSim'+'ulation'](),_0x49165c['rigidbody']['createBody'](),_0x49165c['enabled']&&_0x49165c['rigidbody']['enabled']&&_0x49165c['rigidbody']['enableSimu'+'lation']()):_0x1ede7d['_compoundP'+'arent']||(_0x49165c['trigger']?_0x49165c['trigger']['initialize'](_0x187a7f):_0x49165c['trigger']=new sx(this['system']['app'],_0x1ede7d,_0x187a7f));}}['createPhys'+'icalShape'](_0x300a1b,_0x1e4c99){}['updateTran'+'sform'](_0x31bdbe,_0x33856c,_0x62cabc,_0x57e1a7){_0x31bdbe['entity']['trigger']&&_0x31bdbe['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x2d631f){_0x2d631f['shape']&&(Ammo['destroy'](_0x2d631f['shape']),_0x2d631f['shape']=null);}['beforeRemo'+'ve'](_0x24f328,_0x4dcc8f){_0x4dcc8f['data']['shape']&&(_0x4dcc8f['_compoundP'+'arent']&&!_0x4dcc8f['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x4dcc8f['_compoundP'+'arent'],_0x4dcc8f['data']['shape']),_0x4dcc8f['_compoundP'+'arent']['entity']['rigidbody']&&_0x4dcc8f['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x4dcc8f['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x4dcc8f['data']));}['remove'](_0x3e6f32,_0x537b5f){_0x3e6f32['rigidbody']&&_0x3e6f32['rigidbody']['body']&&_0x3e6f32['rigidbody']['disableSim'+'ulation'](),_0x3e6f32['trigger']&&(_0x3e6f32['trigger']['destroy'](),delete _0x3e6f32['trigger']);}['clone'](_0x36e81e,_0x17d42d){const _0x2fa096=this['system']['store'][_0x36e81e['getGuid']()],_0x56aeb8={'enabled':_0x2fa096['data']['enabled'],'type':_0x2fa096['data']['type'],'halfExtents':[_0x2fa096['data']['halfExtent'+'s']['x'],_0x2fa096['data']['halfExtent'+'s']['y'],_0x2fa096['data']['halfExtent'+'s']['z']],'linearOffset':[_0x2fa096['data']['linearOffs'+'et']['x'],_0x2fa096['data']['linearOffs'+'et']['y'],_0x2fa096['data']['linearOffs'+'et']['z']],'angularOffset':[_0x2fa096['data']['angularOff'+'set']['x'],_0x2fa096['data']['angularOff'+'set']['y'],_0x2fa096['data']['angularOff'+'set']['z'],_0x2fa096['data']['angularOff'+'set']['w']],'radius':_0x2fa096['data']['radius'],'axis':_0x2fa096['data']['axis'],'height':_0x2fa096['data']['height'],'convexHull':_0x2fa096['data']['convexHull'],'asset':_0x2fa096['data']['asset'],'renderAsset':_0x2fa096['data']['renderAsse'+'t'],'model':_0x2fa096['data']['model'],'render':_0x2fa096['data']['render'],'checkVertexDuplicates':_0x2fa096['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x17d42d,_0x56aeb8);}}class aR extends xn{['createPhys'+'icalShape'](_0x246913,_0x56548d){if(typeof Ammo<'u'){const _0x2e6341=_0x56548d['halfExtent'+'s'],_0x90fa72=new Ammo['btVector3'](_0x2e6341?_0x2e6341['x']:0x1949*-0x1+0x1d3+-0x16*-0x111+0.5,_0x2e6341?_0x2e6341['y']:0xf28+-0x2544+-0x2*-0xb0e+0.5,_0x2e6341?_0x2e6341['z']:0x1fbf+0xeec+-0x2eab+0.5),_0x3ae908=new Ammo['btBoxShape'](_0x90fa72);return Ammo['destroy'](_0x90fa72),_0x3ae908;}}}class oR extends xn{['createPhys'+'icalShape'](_0x32d500,_0x1e9ed7){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x1e9ed7['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x3aaf3d,_0x4a07c2){const _0xb6d8b1=_0x4a07c2['axis']??0x5b*-0x51+0x10c+0x1bc0,_0x1d93d1=_0x4a07c2['radius']??-0x1c42+-0x1079+0x15b*0x21+0.5,_0x1d3c46=Math['max']((_0x4a07c2['height']??0x1*-0x1139+0x25fd*0x1+-0x14c2)-(0x22fc+-0x1*0x17eb+-0xb0f)*_0x1d93d1,0x399*0x3+-0x1428+0x33*0x2f);let _0x1eb80b=null;if(typeof Ammo<'u')switch(_0xb6d8b1){case-0x240c+-0x68f*0x1+0xd*0x347:_0x1eb80b=new Ammo['btCapsuleS'+'hapeX'](_0x1d93d1,_0x1d3c46);break;case 0x51b*-0x1+0x14*0x68+-0x304:_0x1eb80b=new Ammo['btCapsuleS'+'hape'](_0x1d93d1,_0x1d3c46);break;case 0x23c7+-0xbdc+0x17e9*-0x1:_0x1eb80b=new Ammo['btCapsuleS'+'hapeZ'](_0x1d93d1,_0x1d3c46);break;}return _0x1eb80b;}}class hR extends xn{['createPhys'+'icalShape'](_0x595597,_0x3bfa6c){const _0x11a265=_0x3bfa6c['axis']??0x3*-0x27f+0x1081+-0x903,_0x2d3d87=_0x3bfa6c['radius']??-0x20b3*-0x1+0x1c4a+-0x3cfd+0.5,_0x5607bf=_0x3bfa6c['height']??0x3*0x5ff+-0x16d6+0x19e*0x3;let _0x1abd55=null,_0x2102cf=null;if(typeof Ammo<'u')switch(_0x11a265){case 0x754+0x2266+-0x2fb*0xe:_0x1abd55=new Ammo['btVector3'](_0x5607bf*(-0x577*0x1+0x1853+-0x12dc+0.5),_0x2d3d87,_0x2d3d87),_0x2102cf=new Ammo['btCylinder'+'ShapeX'](_0x1abd55);break;case-0x17fb+0x37*0x67+0x13*0x19:_0x1abd55=new Ammo['btVector3'](_0x2d3d87,_0x5607bf*(0x3e1*-0x7+0x138e+0x799+0.5),_0x2d3d87),_0x2102cf=new Ammo['btCylinder'+'Shape'](_0x1abd55);break;case-0x5fe+-0x2514+0xc*0x397:_0x1abd55=new Ammo['btVector3'](_0x2d3d87,_0x2d3d87,_0x5607bf*(0x22b6*0x1+0x11e7*-0x1+-0x10cf+0.5)),_0x2102cf=new Ammo['btCylinder'+'ShapeZ'](_0x1abd55);break;}return _0x1abd55&&Ammo['destroy'](_0x1abd55),_0x2102cf;}}class cR extends xn{['createPhys'+'icalShape'](_0xb9df7c,_0x2219f3){const _0x50ae5e=_0x2219f3['axis']??0x865+0x493*-0x1+-0x3d1,_0x39b2f5=_0x2219f3['radius']??-0x2c*-0x2+0x2419+0x13*-0x1eb+0.5,_0x263ad0=_0x2219f3['height']??0x35b*0x5+0x125*0x3+-0x1435;let _0x4a7697=null;if(typeof Ammo<'u')switch(_0x50ae5e){case-0xdbe+-0x3cc+0x118a:_0x4a7697=new Ammo['btConeShap'+'eX'](_0x39b2f5,_0x263ad0);break;case-0x1297*-0x2+-0x10a*-0x19+-0x150d*0x3:_0x4a7697=new Ammo['btConeShap'+'e'](_0x39b2f5,_0x263ad0);break;case 0x11ff+0x7*0x2fb+-0x26da:_0x4a7697=new Ammo['btConeShap'+'eZ'](_0x39b2f5,_0x263ad0);break;}return _0x4a7697;}}class dR extends xn{['beforeInit'+'ialize'](_0x5784b9,_0x3b9976){}['createAmmo'+'Hull'](_0x538df0,_0x3de12f,_0xade5c6,_0x5ae471){const _0x5a4ed8=new Ammo['btConvexHu'+'llShape'](),_0x1f4fab=new Ammo['btVector3'](),_0x41917f=[];_0x538df0['getPositio'+'ns'](_0x41917f);for(let _0x4b2a38=-0xc76+-0x28*0xc9+0x8c6*0x5;_0x4b2a38<_0x41917f['length'];_0x4b2a38+=0x25*-0xa3+-0x6d2+0x1e64)_0x1f4fab['setValue'](_0x41917f[_0x4b2a38]*_0x5ae471['x'],_0x41917f[_0x4b2a38+(0x241b+-0x214f+-0x1*0x2cb)]*_0x5ae471['y'],_0x41917f[_0x4b2a38+(-0xc5d+0x1c05+0x7d3*-0x2)]*_0x5ae471['z']),_0x5a4ed8['addPoint'](_0x1f4fab,!(-0x1*0x10db+-0x641*0x1+-0x171d*-0x1));Ammo['destroy'](_0x1f4fab),_0x5a4ed8['recalcLoca'+'lAabb'](),_0x5a4ed8['setMargin'](-0x326+0xcb9+-0x1*0x993+0.01);const _0x40da70=this['system']['_getNodeTr'+'ansform'](_0x3de12f);_0xade5c6['addChildSh'+'ape'](_0x40da70,_0x5a4ed8),Ammo['destroy'](_0x40da70);}['createAmmo'+'Mesh'](_0x35d661,_0x4e01f4,_0x29ba2c,_0x309c46,_0xfeeb9d=!(0x1*0x2513+0x1*0xd32+-0x3245)){const _0x314cb4=this['system'];let _0x4896c8;if(_0x314cb4['_triMeshCa'+'che'][_0x35d661['id']])_0x4896c8=_0x314cb4['_triMeshCa'+'che'][_0x35d661['id']];else{const _0xfa78cb=_0x35d661['vertexBuff'+'er'],_0x34aae8=_0xfa78cb['getFormat']();let _0x3128f8,_0x524e59;for(let _0xe45d2c=0x19c5+0x2e*-0xb3+0x665;_0xe45d2c<_0x34aae8['elements']['length'];_0xe45d2c++){const _0x399b52=_0x34aae8['elements'][_0xe45d2c];if(_0x399b52['name']===He){_0x524e59=new Float32Array(_0xfa78cb['lock'](),_0x399b52['offset']),_0x3128f8=_0x399b52['stride']/(-0x3*0x115+0x26ae+0x1*-0x236b);break;}}const _0x45fbc7=[];_0x35d661['getIndices'](_0x45fbc7);const _0x250be3=_0x35d661['primitive'][-0xb*-0x34+0x823*-0x2+0xe0a]['count']/(0x10d5+0x15da*-0x1+0x508*0x1),_0x54d9c4=new Ammo['btVector3']();let _0x230dde,_0x3c582b,_0x256ce3;const _0xd1c732=_0x35d661['primitive'][0x2*0xeaa+-0x1bc4+-0x190]['base'];_0x4896c8=new Ammo['btTriangle'+'Mesh'](),_0x314cb4['_triMeshCa'+'che'][_0x35d661['id']]=_0x4896c8;const _0x1318a2=new Map();v['assert'](typeof _0x4896c8['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x475f43=_0x4896c8['getIndexed'+'MeshArray']();_0x475f43['at'](-0x19a4+-0x1*-0x10e7+0x8bd)['m_numTrian'+'gles']=_0x250be3;const _0x10d34e=_0x309c46?_0x309c46['x']:0xde9*0x1+-0x37f*-0x8+-0x29e0,_0xb62d33=_0x309c46?_0x309c46['y']:-0x1401+0x1743+-0x341,_0x2b0541=_0x309c46?_0x309c46['z']:0x16*0xb2+-0xbd*-0x33+-0x34f2,_0x230510=_0x1779c3=>{const _0x3c77ff=_0x524e59[_0x1779c3*_0x3128f8]*_0x10d34e,_0x847a5f=_0x524e59[_0x1779c3*_0x3128f8+(-0x207d+0x5*0x69b+-0x89)]*_0xb62d33,_0x46227a=_0x524e59[_0x1779c3*_0x3128f8+(0x261f+-0x15*-0x145+-0x40c6*0x1)]*_0x2b0541;let _0x1f5603;if(_0xfeeb9d){const _0x480f82=_0x3c77ff+':'+_0x847a5f+':'+_0x46227a;if(_0x1f5603=_0x1318a2['get'](_0x480f82),_0x1f5603!==void(-0x1*-0x153b+-0x2dd*0x4+0x9c7*-0x1))return _0x1f5603;_0x54d9c4['setValue'](_0x3c77ff,_0x847a5f,_0x46227a),_0x1f5603=_0x4896c8['findOrAddV'+'ertex'](_0x54d9c4,!(0x1*0x1d1b+0xb9*0xf+0x19*-0x199)),_0x1318a2['set'](_0x480f82,_0x1f5603);}else _0x54d9c4['setValue'](_0x3c77ff,_0x847a5f,_0x46227a),_0x1f5603=_0x4896c8['findOrAddV'+'ertex'](_0x54d9c4,!(-0x1126+-0x1385+0x24ac));return _0x1f5603;};for(let _0x1fbc81=-0x43f+-0x1*0xc87+-0x863*-0x2;_0x1fbc81<_0x250be3;_0x1fbc81++)_0x230dde=_0x230510(_0x45fbc7[_0xd1c732+_0x1fbc81*(-0x2157+0x15*-0x111+0x47*0xc9)]),_0x3c582b=_0x230510(_0x45fbc7[_0xd1c732+_0x1fbc81*(-0x1*0x73c+0xc74+-0x1f*0x2b)+(0x1*-0xaff+-0x1*0x6e1+0x11e1)]),_0x256ce3=_0x230510(_0x45fbc7[_0xd1c732+_0x1fbc81*(0x33*0x61+0x394+-0x14*0x125)+(0x2df*-0x2+0x1653+0x1*-0x1093)]),_0x4896c8['addIndex'](_0x230dde),_0x4896c8['addIndex'](_0x3c582b),_0x4896c8['addIndex'](_0x256ce3);Ammo['destroy'](_0x54d9c4);}const _0x1c69f5=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x4896c8,!(-0x188*0x7+0x3*-0x649+0x71*0x43));if(!_0x309c46){const _0x2765ad=_0x314cb4['_getNodeSc'+'aling'](_0x4e01f4);_0x1c69f5['setLocalSc'+'aling'](_0x2765ad),Ammo['destroy'](_0x2765ad);}const _0x3d2748=_0x314cb4['_getNodeTr'+'ansform'](_0x4e01f4);_0x29ba2c['addChildSh'+'ape'](_0x3d2748,_0x1c69f5),Ammo['destroy'](_0x3d2748);}['createPhys'+'icalShape'](_0x33b829,_0x5aa794){if(!(typeof Ammo>'u')&&(_0x5aa794['model']||_0x5aa794['render'])){const _0x484f6a=new Ammo['btCompound'+'Shape'](),_0x250c9b=_0x33b829['getWorldTr'+'ansform']()['getScale']();if(_0x5aa794['render']){const _0x5d8746=_0x5aa794['render']['meshes'];for(let _0x10e2c7=0x1162+-0x1117+-0x4b;_0x10e2c7<_0x5d8746['length'];_0x10e2c7++)_0x5aa794['convexHull']?this['createAmmo'+'Hull'](_0x5d8746[_0x10e2c7],cg,_0x484f6a,_0x250c9b):this['createAmmo'+'Mesh'](_0x5d8746[_0x10e2c7],cg,_0x484f6a,_0x250c9b,_0x5aa794['checkVerte'+'xDuplicate'+'s']);}else{if(_0x5aa794['model']){const _0x48da57=_0x5aa794['model']['meshInstan'+'ces'];for(let _0x359d1d=-0x23*-0x6d+0xaee+-0x19d5;_0x359d1d<_0x48da57['length'];_0x359d1d++)this['createAmmo'+'Mesh'](_0x48da57[_0x359d1d]['mesh'],_0x48da57[_0x359d1d]['node'],_0x484f6a,null,_0x5aa794['checkVerte'+'xDuplicate'+'s']);const _0x599519=new Ammo['btVector3'](_0x250c9b['x'],_0x250c9b['y'],_0x250c9b['z']);_0x484f6a['setLocalSc'+'aling'](_0x599519),Ammo['destroy'](_0x599519);}}return _0x484f6a;}}['recreatePh'+'ysicalShap'+'es'](_0x33cae5){const _0x3d19d7=_0x33cae5['data'];if((_0x3d19d7['renderAsse'+'t']||_0x3d19d7['asset'])&&_0x33cae5['enabled']&&_0x33cae5['entity']['enabled']){this['loadAsset'](_0x33cae5,_0x3d19d7['renderAsse'+'t']||_0x3d19d7['asset'],_0x3d19d7['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x33cae5);}['loadAsset'](_0x5d7e03,_0x3814e8,_0xb8509e){const _0x2cce69=_0x5d7e03['data'],_0x114896=this['system']['app']['assets'],_0x4be76b=_0x2cce69[_0xb8509e],_0x29552a=_0x1c9c0f=>{_0x2cce69[_0xb8509e]===_0x4be76b&&(_0x2cce69[_0xb8509e]=_0x1c9c0f['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x5d7e03));},_0x4ae90a=_0x522325=>{_0x522325['ready'](_0x11f26b=>{if(_0x11f26b['data']['containerA'+'sset']){const _0x95b25e=_0x114896['get'](_0x11f26b['data']['containerA'+'sset']);_0x95b25e['loaded']?_0x29552a(_0x11f26b):(_0x95b25e['ready'](()=>{_0x29552a(_0x11f26b);}),_0x114896['load'](_0x95b25e));}else _0x29552a(_0x11f26b);}),_0x114896['load'](_0x522325);},_0x452bb6=_0x114896['get'](_0x3814e8);_0x452bb6?_0x4ae90a(_0x452bb6):_0x114896['once']('add:'+_0x3814e8,_0x4ae90a);}['doRecreate'+'PhysicalSh'+'ape'](_0x5d059c){const _0x246a54=_0x5d059c['entity'],_0x15bf57=_0x5d059c['data'];_0x15bf57['model']||_0x15bf57['render']?(this['destroySha'+'pe'](_0x15bf57),_0x15bf57['shape']=this['createPhys'+'icalShape'](_0x246a54,_0x15bf57),_0x246a54['rigidbody']?(_0x246a54['rigidbody']['disableSim'+'ulation'](),_0x246a54['rigidbody']['createBody'](),_0x246a54['enabled']&&_0x246a54['rigidbody']['enabled']&&_0x246a54['rigidbody']['enableSimu'+'lation']()):_0x246a54['trigger']?_0x246a54['trigger']['initialize'](_0x15bf57):_0x246a54['trigger']=new sx(this['system']['app'],_0x5d059c,_0x15bf57)):(this['beforeRemo'+'ve'](_0x246a54,_0x5d059c),this['remove'](_0x246a54,_0x15bf57));}['updateTran'+'sform'](_0x7ee7d3,_0x344a26,_0x325374,_0x6fe45e){if(_0x7ee7d3['shape']){const _0x5ece9c=_0x7ee7d3['entity']['getWorldTr'+'ansform']()['getScale'](),_0x355b61=_0x7ee7d3['shape']['getLocalSc'+'aling']();(_0x5ece9c['x']!==_0x355b61['x']()||_0x5ece9c['y']!==_0x355b61['y']()||_0x5ece9c['z']!==_0x355b61['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x7ee7d3);}super['updateTran'+'sform'](_0x7ee7d3,_0x344a26,_0x325374,_0x6fe45e);}['destroySha'+'pe'](_0x4c8797){if(!_0x4c8797['shape'])return;const _0x100434=_0x4c8797['shape']['getNumChil'+'dShapes']();for(let _0x11fc39=-0x371*0x3+-0xbf8+0x1b7*0xd;_0x11fc39<_0x100434;_0x11fc39++){const _0x5ce201=_0x4c8797['shape']['getChildSh'+'ape'](_0x11fc39);Ammo['destroy'](_0x5ce201);}Ammo['destroy'](_0x4c8797['shape']),_0x4c8797['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x22e96b,_0x2fb32f){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x447b1d){!_0x447b1d['collision']||_0x447b1d['rigidbody']||(_0x447b1d['collision']['_compoundP'+'arent']=this,_0x447b1d!==this['entity']&&_0x447b1d['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x447b1d['collision']));}['_updateEac'+'hDescendan'+'t'](_0x53b34c){_0x53b34c['collision']&&_0x53b34c['collision']['_compoundP'+'arent']===this&&(_0x53b34c['collision']['_compoundP'+'arent']=null,_0x53b34c!==this['entity']&&!_0x53b34c['rigidbody']&&_0x53b34c['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x53b34c['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x2877dd){!_0x2877dd['collision']||_0x2877dd['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x2877dd,!(-0x6*-0x8+-0x1d7d*-0x1+-0x1dac*0x1));}}class fR extends Xe{constructor(_0x4c8981){super(_0x4c8981),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x477d49,_0x1834d3,_0x17ebd5){_0x17ebd5=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x33628c={};for(let _0x157a05=-0xa96+-0x49*-0x3d+-0x53*0x15,_0x18d329=_0x17ebd5['length'];_0x157a05<_0x18d329;_0x157a05++){const _0x540298=_0x17ebd5[_0x157a05];_0x33628c[_0x540298]=_0x1834d3[_0x540298];}let _0x4c67dc;if(_0x1834d3['hasOwnProp'+'erty']('asset')?(_0x4c67dc=_0x17ebd5['indexOf']('model'),_0x4c67dc!==-(-0x130*-0x10+0x20b+-0x150a)&&_0x17ebd5['splice'](_0x4c67dc,0x1405+-0x8*0xf1+-0xc7c),_0x4c67dc=_0x17ebd5['indexOf']('render'),_0x4c67dc!==-(0x165*-0x1c+-0xd*-0x21+0x2560)&&_0x17ebd5['splice'](_0x4c67dc,-0x2*-0x427+0x12a1+-0x1aee)):_0x1834d3['hasOwnProp'+'erty']('model')&&(_0x4c67dc=_0x17ebd5['indexOf']('asset'),_0x4c67dc!==-(-0x6*-0x30d+-0x2516+-0x2af*-0x7)&&_0x17ebd5['splice'](_0x4c67dc,0x44*-0x1d+0x1ce7+0x1532*-0x1)),_0x33628c['type']||(_0x33628c['type']=_0x477d49['data']['type']),_0x477d49['data']['type']=_0x33628c['type'],Array['isArray'](_0x33628c['halfExtent'+'s'])&&(_0x33628c['halfExtent'+'s']=new T(_0x33628c['halfExtent'+'s'])),Array['isArray'](_0x33628c['linearOffs'+'et'])&&(_0x33628c['linearOffs'+'et']=new T(_0x33628c['linearOffs'+'et'])),Array['isArray'](_0x33628c['angularOff'+'set'])){const _0x22a74f=_0x33628c['angularOff'+'set'];_0x22a74f['length']===-0x63*0x4e+-0x1*-0x259+-0x4*-0x6f5?_0x33628c['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x22a74f[-0x17a4+0x12b2*0x1+0x4f2],_0x22a74f[-0x1ae9*-0x1+-0xa5b+-0x108d*0x1],_0x22a74f[0x639*0x6+0x1cd*-0x4+-0x1e20]):_0x33628c['angularOff'+'set']=new se(_0x33628c['angularOff'+'set']);}const _0x1c0d30=this['_createImp'+'lementatio'+'n'](_0x33628c['type']);_0x1c0d30['beforeInit'+'ialize'](_0x477d49,_0x33628c),super['initialize'+'ComponentD'+'ata'](_0x477d49,_0x33628c,_0x17ebd5),_0x1c0d30['afterIniti'+'alize'](_0x477d49,_0x33628c);}['_createImp'+'lementatio'+'n'](_0x52f0fa){if(this['implementa'+'tions'][_0x52f0fa]===void(-0x2307+-0xb59+0x1a8*0x1c)){let _0x264e12;switch(_0x52f0fa){case'box':_0x264e12=new aR(this);break;case'sphere':_0x264e12=new oR(this);break;case'capsule':_0x264e12=new lR(this);break;case'cylinder':_0x264e12=new hR(this);break;case'cone':_0x264e12=new cR(this);break;case'mesh':_0x264e12=new dR(this);break;case'compound':_0x264e12=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x52f0fa);}this['implementa'+'tions'][_0x52f0fa]=_0x264e12;}return this['implementa'+'tions'][_0x52f0fa];}['_getImplem'+'entation'](_0x1308ab){return this['implementa'+'tions'][_0x1308ab['collision']['data']['type']];}['cloneCompo'+'nent'](_0x9fdcad,_0x3ab918){return this['_getImplem'+'entation'](_0x9fdcad)['clone'](_0x9fdcad,_0x3ab918);}['onBeforeRe'+'move'](_0x4a0225,_0xbc7b87){this['implementa'+'tions'][_0xbc7b87['data']['type']]['beforeRemo'+'ve'](_0x4a0225,_0xbc7b87),_0xbc7b87['onBeforeRe'+'move']();}['onRemove'](_0x43700b,_0x3a9c96){this['implementa'+'tions'][_0x3a9c96['type']]['remove'](_0x43700b,_0x3a9c96);}['updateComp'+'oundChildT'+'ransform'](_0x3c419c,_0x3f495b){const _0x30730c=_0x3c419c['collision']['_compoundP'+'arent'];if(_0x30730c!==_0x3c419c['collision']&&_0x3c419c['enabled']&&_0x3c419c['collision']['enabled']&&(_0x3c419c['_dirtyLoca'+'l']||_0x3f495b)){const _0x375df6=this['_getNodeTr'+'ansform'](_0x3c419c,_0x30730c['entity']),_0x22efb8=_0x30730c['getCompoun'+'dChildShap'+'eIndex'](_0x3c419c['collision']['shape']);_0x22efb8===null?_0x30730c['shape']['addChildSh'+'ape'](_0x375df6,_0x3c419c['collision']['data']['shape']):_0x30730c['shape']['updateChil'+'dTransform'](_0x22efb8,_0x375df6,!(0x31*0x35+-0xc38+0x213)),Ammo['destroy'](_0x375df6);}}['_removeCom'+'poundChild'](_0x2b68c0,_0x445c47){if(_0x2b68c0['shape']['getNumChil'+'dShapes']()!==-0x25*0x6a+-0x1+-0xf53*-0x1){if(_0x2b68c0['shape']['removeChil'+'dShape'])_0x2b68c0['shape']['removeChil'+'dShape'](_0x445c47);else{const _0x595df5=_0x2b68c0['getCompoun'+'dChildShap'+'eIndex'](_0x445c47);_0x595df5!==null&&_0x2b68c0['shape']['removeChil'+'dShapeByIn'+'dex'](_0x595df5);}}}['onTransfor'+'mChanged'](_0x42d8bc,_0x29a76b,_0xc0cbf3,_0x130b7e){this['implementa'+'tions'][_0x42d8bc['data']['type']]['updateTran'+'sform'](_0x42d8bc,_0x29a76b,_0xc0cbf3,_0x130b7e);}['changeType'](_0x2011ad,_0x3d5c7b,_0x1af32e){this['implementa'+'tions'][_0x3d5c7b]['beforeRemo'+'ve'](_0x2011ad['entity'],_0x2011ad),this['implementa'+'tions'][_0x3d5c7b]['remove'](_0x2011ad['entity'],_0x2011ad['data']),this['_createImp'+'lementatio'+'n'](_0x1af32e)['reset'](_0x2011ad,_0x2011ad['data']);}['recreatePh'+'ysicalShap'+'es'](_0x4c8294){this['implementa'+'tions'][_0x4c8294['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x4c8294);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x162143,_0x29d40f){if(_0x162143===_0x29d40f){const _0x2bf8a0=_0x162143['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0x2bf8a0['x'],_0x2bf8a0['y'],_0x2bf8a0['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x162143['parent'],_0x29d40f),Xl['mul'](_0x162143['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x4089f6){const _0x53b6f1=_0x4089f6['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x53b6f1['x'],_0x53b6f1['y'],_0x53b6f1['z']);}['_getNodeTr'+'ansform'](_0x1f8d60,_0x3ae281){let _0x26b47d,_0x5b2ec1;_0x3ae281?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x1f8d60,_0x3ae281),_0x26b47d=iR,_0x5b2ec1=Cr,Xl['getTransla'+'tion'](_0x26b47d),_0x5b2ec1['setFromMat'+'4'](Xl)):(_0x26b47d=_0x1f8d60['getPositio'+'n'](),_0x5b2ec1=_0x1f8d60['getRotatio'+'n']());const _0x5a318f=new Ammo['btQuaterni'+'on'](),_0x181dce=new Ammo['btTransfor'+'m']();_0x181dce['setIdentit'+'y']();const _0x581aed=_0x181dce['getOrigin'](),_0x645abf=_0x1f8d60['collision'];if(_0x645abf&&_0x645abf['_hasOffset']){const _0x43a259=_0x645abf['data']['linearOffs'+'et'],_0x1a5bbf=_0x645abf['data']['angularOff'+'set'],_0xc37e4d=rR;Cr['copy'](_0x5b2ec1)['transformV'+'ector'](_0x43a259,_0xc37e4d),_0xc37e4d['add'](_0x26b47d),Cr['copy'](_0x5b2ec1)['mul'](_0x1a5bbf),_0x581aed['setValue'](_0xc37e4d['x'],_0xc37e4d['y'],_0xc37e4d['z']),_0x5a318f['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x581aed['setValue'](_0x26b47d['x'],_0x26b47d['y'],_0x26b47d['z']),_0x5a318f['setValue'](_0x5b2ec1['x'],_0x5b2ec1['y'],_0x5b2ec1['z'],_0x5b2ec1['w']);return _0x181dce['setRotatio'+'n'](_0x5a318f),Ammo['destroy'](_0x5a318f),_0x181dce;}['destroy'](){for(const _0x2acd91 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x2acd91]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new j(),pR=new kt();class mR{constructor(_0x2e42e5,_0x453ae5,_0x2e818b){this['_entity']=_0x2e42e5,this['_element']=_0x2e42e5['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x453ae5,this['meshInstan'+'ce']=new Le(this['mesh'],_0x2e818b,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x2e42e5['name'],this['meshInstan'+'ce']['castShadow']=!(-0x12e*-0xa+0x106+-0xcd1),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x1366+0x1f24+0x1*-0x3289),this['_meshDirty']=!(0x7*0x3d+-0x1a*0xc8+0x12a6),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x53016c,_0x4e7722;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x53016c=this['meshInstan'+'ce'])==null||_0x53016c['destroy'](),this['meshInstan'+'ce']=null,(_0x4e7722=this['unmaskMesh'+'Instance'])==null||_0x4e7722['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x5595ba){this['meshInstan'+'ce']&&(this['mesh']=_0x5595ba,this['meshInstan'+'ce']['mesh']=_0x5595ba,this['meshInstan'+'ce']['visible']=!!_0x5595ba,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x5595ba),this['forceUpdat'+'eAabb']());}['setMask'](_0x191c6f){var _0x4df105;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x191c6f){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x1*0x67a+0x3*-0x89d+0x2052),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0x247*0x10+-0x7b7+0x3ae*0xc),this['unmaskMesh'+'Instance']['pick']=!(0x60+0x12a5+-0x2*0x982),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x40da51 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x40da51,this['meshInstan'+'ce']['parameters'][_0x40da51]['data']);}else{const _0x1fcb82=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x1fcb82>=0x26c2+-0x1be*-0x2+-0x2a3e&&this['model']['meshInstan'+'ces']['splice'](_0x1fcb82,-0x62*0x4d+-0x4d2+0xb6f*0x3);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x191c6f||((_0x4df105=this['unmaskMesh'+'Instance'])==null||_0x4df105['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x2a1f2e){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x2a1f2e,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x2a1f2e));}['setParamet'+'er'](_0x456d13,_0x11a3b2){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x456d13,_0x11a3b2),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x456d13,_0x11a3b2));}['deletePara'+'meter'](_0x52a594){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x52a594),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x52a594));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x15035b=function(_0x296f63){let _0x9cea91;const _0x7eecdb=_0x296f63['children'],_0x48c2f4=_0x7eecdb['length'];if(_0x48c2f4){for(let _0x2ea8d0=0x9*0x7b+-0x1b91*0x1+0x173e;_0x2ea8d0<_0x48c2f4;_0x2ea8d0++)_0x7eecdb[_0x2ea8d0]['element']&&(_0x9cea91=_0x7eecdb[_0x2ea8d0]);if(!_0x9cea91)return null;const _0x15677a=_0x15035b(_0x9cea91);return _0x15677a||_0x9cea91;}return null;};if(this['unmaskMesh'+'Instance']){const _0x73722d=_0x15035b(this['_entity']);_0x73722d&&_0x73722d['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x73722d['element']['drawOrder']+_0x73722d['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x59f95d){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x59f95d),this['meshInstan'+'ce']['drawOrder']=_0x59f95d);}['setCull'](_0x34706c){if(!this['meshInstan'+'ce'])return;const _0x2df527=this['_element'];let _0x122efc=null;_0x34706c&&_0x2df527['_isScreenS'+'pace']()&&(_0x122efc=function(_0x596068){return _0x2df527['isVisibleF'+'orCamera'](_0x596068);}),this['meshInstan'+'ce']['cull']=_0x34706c,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x122efc,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x34706c,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x122efc);}['setScreenS'+'pace'](_0x396283){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x396283,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x396283));}['setLayer'](_0x4473cc){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x4473cc,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x4473cc));}['forceUpdat'+'eAabb'](_0x355e43){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(-0xf*-0x1a7+-0x1*-0x21e5+-0x3aad),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x13b4+0x2c6*-0x5+-0x3bb*-0x9)));}['setAabbFun'+'c'](_0x200e26){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x200e26,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x200e26));}}class _R{constructor(_0x4388ad){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x4388ad,this['_entity']=_0x4388ad['entity'],this['_system']=_0x4388ad['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=0x1*0x17c1+0xed*0x23+-0x3828,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x2106+0x31*-0x29+-0x9*0x2cc),this['_rect']=new Q(0x1d2a+0x4b9+-0x21e3,0x103c+-0x301*-0x1+-0x133d,0x3a*-0x3c+0x5*0x486+-0x905,-0x9ee+0x25d4+-0x1be5),this['_mask']=!(0xdbf*0x1+0x246c+-0x322a),this['_maskRef']=0xd3*-0x3+0x145*0xb+-0xb7e,this['_outerScal'+'e']=new $(),this['_outerScal'+'eUniform']=new Float32Array(0x51*-0x52+0xfd0+0xb*0xec),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x6ae+0x1a7*0x5+-0x191*0x1),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x1*-0x1963+-0x88*0x3e+0x3a57),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new j(0x1025+-0x226c+0x1248,0x1bda+-0x18da+-0x2ff*0x1,0x1dfd+0x2*-0xb87+-0x2*0x377,-0x75b+0x1606+0x755*-0x2),this['_colorUnif'+'orm']=new Float32Array([-0x16f3+0x170e+-0x1a*0x1,0xa38+-0x1*0xc11+-0x9e*-0x3,0x25ac+0x391*0x4+-0x33ef]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x1625*0x1+0x538*0x1+0x10ee),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x11a514){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x869c1a){this['_updateMat'+'erial'](_0x869c1a);}['_onScreenC'+'hange'](_0xc787ea,_0x34d651){_0xc787ea?this['_updateMat'+'erial'](_0xc787ea['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x10b1*-0x2+-0x736*-0x3+-0x3703));}['_onDrawOrd'+'erChange'](_0x3ae8fb){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x3ae8fb),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0xd*0x2dd+-0x866+0x2da0);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x1344e9){const _0x3c42d5=!!this['_mask'],_0x4cc140=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0x2c490d=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x1344e9,_0x3c42d5,_0x4cc140,_0x2c490d)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x1344e9),this['_renderabl'+'e']['setLayer'](_0x1344e9?Ub:c0));}['_createMes'+'h'](){const _0x1d1c31=this['_element'],_0x55ff83=_0x1d1c31['calculated'+'Width'],_0x5be62b=_0x1d1c31['calculated'+'Height'],_0x1abe12=this['_rect'],_0x44bff8=this['_system']['app']['graphicsDe'+'vice'],_0x4d6123=new Float32Array([_0x55ff83,-0x24f2+0x5*-0x11f+0x3*0xe2f,0x1070+0x80f+0x1*-0x187f,-0x2206+0x1*0x251+0x1fb5,0xe01+0xb*0x189+-0x1ee4,0x1*-0xc83+-0x1*0x2487+0x310b,_0x1abe12['x']+_0x1abe12['z'],0x16e*0x3+-0x29c*-0x7+-0x1*0x168d-_0x1abe12['y'],_0x55ff83,_0x5be62b,0x11b8+-0x1264+0xac,0x24f2+0x7d2+-0x2cc4,-0x29*0x4c+-0x1b7*0xb+0x1f09,0x1*0x1013+-0x1535+-0x523*-0x1,_0x1abe12['x']+_0x1abe12['z'],-0x5ca+0xf5f+-0x994-(_0x1abe12['y']+_0x1abe12['w']),0x297*0x4+0x1205*0x1+-0x1c61,0x6b*-0x53+-0x2*-0x2c2+0x61*0x4d,0x1f58+-0xa*-0x175+0xf4e*-0x3,-0x8e3*-0x4+-0x27*0x9d+-0x1*0xba1,-0x1*0x25a9+-0xb57+0x3100,0x47*0x59+-0x1e03+0x1c7*0x3,_0x1abe12['x'],-0xf*-0x17d+0x83+-0xa7*0x23-_0x1abe12['y'],0x5*0x3db+-0x187a+0x533,_0x5be62b,0x1*0xb3e+-0x256f+0x1a31,0xf5*0xe+-0x1*0x611+-0x755,-0x1*0xfdd+-0x18*-0x14f+-0xf8b,-0x4*-0x2e+0x25*-0x59+-0xa*-0x137,_0x1abe12['x'],0x1*-0x89f+-0x163*-0xf+0x3*-0x40f-(_0x1abe12['y']+_0x1abe12['w'])]),_0x301ef9=pR['get'](_0x44bff8,()=>new Et(_0x44bff8,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x32553c=new os(_0x44bff8,_0x301ef9,0x339+0x2*-0x565+-0x3*-0x287,{'data':_0x4d6123['buffer']}),_0x515624=new Ie(_0x44bff8);return _0x515624['vertexBuff'+'er']=_0x32553c,_0x515624['primitive'][-0x6d4+0x1cc3+-0x15ef]['type']=ar,_0x515624['primitive'][-0x15*-0x56+-0xc*0x1cf+-0x2*-0x753]['base']=0x1cf1+-0x9be+-0x5*0x3d7,_0x515624['primitive'][-0x10a7*-0x2+-0x931*-0x4+0x2*-0x2309]['count']=-0x1efd*-0x1+-0x1*-0x86d+-0x2766,_0x515624['primitive'][0x1c5+-0x175*-0xd+-0x14b6]['indexed']=!(-0x8c2+-0x1808+-0x5*-0x68f),_0x515624['aabb']['setMinMax'](T['ZERO'],new T(_0x55ff83,_0x5be62b,0x16f*-0x15+0x64*0x5e+-0x1*0x69d)),this['_updateMes'+'h'](_0x515624),_0x515624;}['_updateMes'+'h'](_0x5eafaf){const _0x40ee30=this['_element'];let _0x3d77d0=_0x40ee30['calculated'+'Width'],_0x11928e=_0x40ee30['calculated'+'Height'];if(_0x40ee30['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>0x225+0x2*-0xd5+-0x7b){const _0x103180=_0x40ee30['calculated'+'Width']/_0x40ee30['calculated'+'Height'];_0x40ee30['fitMode']===YP&&_0x103180>this['_targetAsp'+'ectRatio']||_0x40ee30['fitMode']===KP&&_0x103180<this['_targetAsp'+'ectRatio']?_0x3d77d0=_0x40ee30['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x11928e=_0x40ee30['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x26c103=_0x40ee30['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x26c103),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0x5ec3b2=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x10fb09=(0xb*0x290+0x1*-0x1d04+-0xd6*-0x1)/_0x5ec3b2['rect']['z'],_0x2388bd=(0x829+0x9e2+-0x201*0x9)/_0x5ec3b2['rect']['w'];this['_innerOffs'+'et']['set'](_0x5ec3b2['border']['x']*_0x10fb09,_0x5ec3b2['border']['y']*_0x2388bd,_0x5ec3b2['border']['z']*_0x10fb09,_0x5ec3b2['border']['w']*_0x2388bd);const _0x591946=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x5ec3b2['rect']['x']/_0x591946['width'],_0x5ec3b2['rect']['y']/_0x591946['height'],_0x5ec3b2['rect']['z']/_0x591946['width'],_0x5ec3b2['rect']['w']/_0x591946['height']);const _0xa89d5d=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0xa35dfd=_0x5ec3b2['rect']['z']/_0xa89d5d,_0x57a467=_0x5ec3b2['rect']['w']/_0xa89d5d;this['_outerScal'+'e']['set'](Math['max'](_0x3d77d0,this['_innerOffs'+'et']['x']*_0xa35dfd),Math['max'](_0x11928e,this['_innerOffs'+'et']['y']*_0x57a467));let _0x504b27=_0xa35dfd,_0x5d1123=_0x57a467;this['_outerScal'+'e']['x']/=_0xa35dfd,this['_outerScal'+'e']['y']/=_0x57a467,_0x504b27*=N['clamp'](_0x3d77d0/(this['_innerOffs'+'et']['x']*_0xa35dfd),-0x7b2+0xe3*-0x23+-0x5*-0x7bf+0.0001,0x18b*-0x11+-0x2469+0x3ea5),_0x5d1123*=N['clamp'](_0x11928e/(this['_innerOffs'+'et']['y']*_0x57a467),0x19*0x189+0x20*-0x4f+-0x1c81+0.0001,-0x214b+-0x3*-0xa11+0x319*0x1),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x1856+-0x25c8+-0x2*-0x6b9]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0xb*0x119+0x3c0*0x8+-0x11ec]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x74*-0x27+0x1b2f+-0x981]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x1a94+-0x3*0x3a3+0x2580]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x105*0x4+0x21f3+-0x1ddf]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x2*-0x41f+0x17ce+-0xf8f]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x14ad+-0x94f+-0xb5c]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x87d+-0x9a6+-0x4*-0x4b]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x4*0xc+0x1*-0x25f+-0x1*-0x22f]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x20d4+0xc8d+-0x108*0x2c]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x504b27,_0x5d1123,-0x1d84+-0x18d5+-0x3*-0x121e),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x970+0xd25+-0x29*0x8d+0.5-_0x40ee30['pivot']['x'])*_0x3d77d0,(-0x65e+0x1*-0xf02+-0x39*-0x60+0.5-_0x40ee30['pivot']['y'])*_0x11928e,0x1e5c+-0x363+0x1af9*-0x1));}else{const _0x1e24f2=_0x5eafaf['vertexBuff'+'er'],_0x55db4e=new Float32Array(_0x1e24f2['lock']()),_0x46d838=_0x40ee30['pivot']['x'],_0x220f15=_0x40ee30['pivot']['y'];_0x55db4e[-0xf29+-0x1ebb*0x1+0x2de4]=_0x3d77d0-_0x46d838*_0x3d77d0,_0x55db4e[0x23b2+-0x239*0x1+-0x1*0x2178]=-0x5*-0x3df+0x1825*0x1+-0x2b80-_0x220f15*_0x11928e,_0x55db4e[0x1*0xdca+-0x251+-0xb71]=_0x3d77d0-_0x46d838*_0x3d77d0,_0x55db4e[0x247*0x9+-0x389+-0x10ed]=_0x11928e-_0x220f15*_0x11928e,_0x55db4e[0x13e*0x13+-0x14d*-0x3+-0x1b71]=0x1cb6+-0x5eb*0x1+-0x16cb-_0x46d838*_0x3d77d0,_0x55db4e[0x162d*-0x1+-0x92b*0x1+0x1*0x1f69]=0xd4a+0x22ea+-0x3034-_0x220f15*_0x11928e,_0x55db4e[0xf94+-0xc2*0x12+-0x1d8]=-0xdd*-0x1+0xd5*-0x2a+0x5*0x6d1-_0x46d838*_0x3d77d0,_0x55db4e[-0x18ae+0x13ad+0x51a*0x1]=_0x11928e-_0x220f15*_0x11928e;let _0x42f2a5=0xb3*-0x19+0xb44+0x638,_0x32b052=0x1007+0x44d*0x3+0x5c9*-0x5,_0x209f63=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x3c7264=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x3c7264&&(_0x209f63=_0x3c7264['rect'],_0x42f2a5=this['_sprite']['atlas']['texture']['width'],_0x32b052=this['_sprite']['atlas']['texture']['height']);}_0x55db4e[-0x7be+0x1*0x244a+-0x1c86]=(_0x209f63['x']+_0x209f63['z'])/_0x42f2a5,_0x55db4e[0x1efe*0x1+-0x34d+-0x1baa]=0x1fd4+-0x1d*0x15+0xeb9*-0x2-_0x209f63['y']/_0x32b052,_0x55db4e[-0x2599+-0xe0d+0x33b4]=(_0x209f63['x']+_0x209f63['z'])/_0x42f2a5,_0x55db4e[-0xfda+0x247e+-0x1495]=0x18cb+0x22a9+-0x3b73-(_0x209f63['y']+_0x209f63['w'])/_0x32b052,_0x55db4e[-0x14d6+0x5a8*0x1+0x3d1*0x4]=_0x209f63['x']/_0x42f2a5,_0x55db4e[-0x7a*-0x3+0x1226+0x137d*-0x1]=0x57b+-0xdb*-0x2b+-0x2a43-_0x209f63['y']/_0x32b052,_0x55db4e[-0x18fc+-0x1278+-0x42*-0xa9]=_0x209f63['x']/_0x42f2a5,_0x55db4e[-0x3*-0x944+0x33+0xdf0*-0x2]=-0x19eb+-0xc12+0x25fe-(_0x209f63['y']+_0x209f63['w'])/_0x32b052,_0x1e24f2['unlock']();const _0x501744=new T(-0x7*-0x319+0x1559+-0x9*0x4c8-_0x46d838*_0x3d77d0,0x8e+-0x1467*-0x1+-0x14f5-_0x220f15*_0x11928e,0xd*0x198+0x1ef9+0xb*-0x4b3),_0x412cd7=new T(_0x3d77d0-_0x46d838*_0x3d77d0,_0x11928e-_0x220f15*_0x11928e,-0x139b+-0x1f97+0x3332);_0x5eafaf['aabb']['setMinMax'](_0x501744,_0x412cd7),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x1fe4+0x1eb+0x1dfa,0x18cd*0x1+0x2047*0x1+0x3913*-0x1,0x385+0x2*0x832+-0x13e8),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x1147+-0x728+0x5*0x4e3,-0x1635+0x4c*-0x36+-0xfb*-0x27,-0x20af*0x1+-0x3*0xc89+0x464a),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x14ee+0x2628+0x79*-0x7d);}['_updateSpr'+'ite'](){let _0x4c847c=!(0x206b+-0x5c*-0x66+-0x3*0x1706),_0x398ed2=null;if(this['_targetAsp'+'ectRatio']=-(-0x2417*-0x1+-0x69*-0x47+0x4135*-0x1),this['_sprite']&&this['_sprite']['atlas']){_0x398ed2=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x4c847c=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x4a6c6b=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x4a6c6b==null?void(-0x1f84*-0x1+-0x1*0x61e+-0x2*0xcb3):_0x4a6c6b['rect']['w'])>0x1*0x1d35+0x936+-0x266b&&(this['_targetAsp'+'ectRatio']=_0x4a6c6b['rect']['z']/_0x4a6c6b['rect']['w']);}this['mesh']=_0x4c847c?_0x398ed2:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x104d+-0x22bc+0x3309):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0xaa4b62){return _0xaa4b62['center']['set'](-0x1a51+-0x1*0x16a9+0x30fa*0x1,-0x7*0x2a7+0x1d*-0xa1+0x24ce,-0x1250+0x1e0f+-0x1f*0x61),_0xaa4b62['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x2140+0x3*-0x4a3+-0x1357+0.5),this['_outerScal'+'e']['y']*(-0x11ae+0xd09*0x1+0x4a5+0.5),0x1c0+-0x1ed1+-0x7*-0x427+0.001),_0xaa4b62['setFromTra'+'nsformedAa'+'bb'](_0xaa4b62,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0xaa4b62;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x150477=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x150477),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x4d60ed){this['material']=_0x4d60ed['resource'];}['_onMateria'+'lAdded'](_0x2a3c6f){this['_system']['app']['assets']['off']('add:'+_0x2a3c6f['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x2a3c6f['id']&&this['_bindMater'+'ialAsset'](_0x2a3c6f);}['_bindMater'+'ialAsset'](_0x208c72){this['_entity']['enabled']&&(_0x208c72['on']('load',this['_onMateria'+'lLoad'],this),_0x208c72['on']('change',this['_onMateria'+'lChange'],this),_0x208c72['on']('remove',this['_onMateria'+'lRemove'],this),_0x208c72['resource']?this['_onMateria'+'lLoad'](_0x208c72):this['_system']['app']['assets']['load'](_0x208c72));}['_unbindMat'+'erialAsset'](_0x261a7a){_0x261a7a['off']('load',this['_onMateria'+'lLoad'],this),_0x261a7a['off']('change',this['_onMateria'+'lChange'],this),_0x261a7a['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x17c976){this['_system']['app']['assets']['off']('add:'+_0x17c976['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x17c976['id']&&this['_bindTextu'+'reAsset'](_0x17c976);}['_bindTextu'+'reAsset'](_0x213046){this['_entity']['enabled']&&(_0x213046['on']('load',this['_onTexture'+'Load'],this),_0x213046['on']('change',this['_onTexture'+'Change'],this),_0x213046['on']('remove',this['_onTexture'+'Remove'],this),_0x213046['resource']?this['_onTexture'+'Load'](_0x213046):this['_system']['app']['assets']['load'](_0x213046));}['_unbindTex'+'tureAsset'](_0x18b53e){_0x18b53e['off']('load',this['_onTexture'+'Load'],this),_0x18b53e['off']('change',this['_onTexture'+'Change'],this),_0x18b53e['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x4ee8f6){this['texture']=_0x4ee8f6['resource'];}['_onTexture'+'Change'](_0x270d30){}['_onTexture'+'Remove'](_0xd77bd1){}['_onSpriteA'+'ssetAdded'](_0x5e5293){this['_system']['app']['assets']['off']('add:'+_0x5e5293['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x5e5293['id']&&this['_bindSprit'+'eAsset'](_0x5e5293);}['_bindSprit'+'eAsset'](_0x34984e){this['_entity']['enabled']&&(_0x34984e['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x34984e['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x34984e['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x34984e['resource']?this['_onSpriteA'+'ssetLoad'](_0x34984e):this['_system']['app']['assets']['load'](_0x34984e));}['_unbindSpr'+'iteAsset'](_0x110018){_0x110018['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x110018['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x110018['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x110018['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x110018['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x2a4400){if(!_0x2a4400||!_0x2a4400['resource'])this['sprite']=null;else{if(_0x2a4400['resource']['atlas'])this['sprite']=_0x2a4400['resource'];else{const _0x15f11d=_0x2a4400['data']['textureAtl'+'asAsset'];if(_0x15f11d){const _0x3d1876=this['_system']['app']['assets'];_0x3d1876['off']('load:'+_0x15f11d,this['_onTexture'+'AtlasLoad'],this),_0x3d1876['once']('load:'+_0x15f11d,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x29c388){this['_onSpriteA'+'ssetLoad'](_0x29c388);}['_onSpriteA'+'ssetRemove'](_0x277136){}['_bindSprit'+'e'](_0x2c3767){this['_evtSetMes'+'hes']=_0x2c3767['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x2c3767['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x2c3767['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x2c3767['atlas']&&_0x2c3767['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x4dcdc6){var _0x1956a0;(_0x1956a0=this['_evtSetMes'+'hes'])==null||_0x1956a0['off'](),this['_evtSetMes'+'hes']=null,_0x4dcdc6['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x4dcdc6['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x4dcdc6['atlas']&&_0x4dcdc6['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x1*-0x136d+0x25e0+-0x394d*0x1,this['_sprite']['frameKeys']['length']-(-0x17*-0x6f+-0x2258+-0x186*-0x10))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x13287c){const _0x2245a8=this['_spriteAss'+'et'];_0x2245a8 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x2245a8):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x2245a8));}['onEnable'](){if(this['_materialA'+'sset']){const _0x543ecc=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x543ecc&&_0x543ecc['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x543ecc);}if(this['_textureAs'+'set']){const _0xd60579=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0xd60579&&_0xd60579['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0xd60579);}if(this['_spriteAss'+'et']){const _0x341817=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x341817&&_0x341817['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x341817);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x3eaf50){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x3eaf50,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x3eaf50;let _0x422aef=-0x1abb+-0xf*-0x15c+0x657;if(this['_element']['maskedBy']&&(_0x422aef=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x200195=new qs({'ref':_0x422aef+(0x1a51+-0x2*0xdab+-0x2*-0x83),'func':Ch,'zpass':$S});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x200195,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x200195;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][-0x8e+0xb9*0x25+0x1a2f*-0x1]=jl['r'],this['_colorUnif'+'orm'][0x217*-0xe+0x71b+0xb14*0x2]=jl['g'],this['_colorUnif'+'orm'][-0x221d+0x20db+0x24*0x9]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x4a4e5c){this['_color']===_0x4a4e5c&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0xd4c6c3,g:_0x5657f7,b:_0x564e7a}=_0x4a4e5c;(this['_color']['r']!==_0xd4c6c3||this['_color']['g']!==_0x5657f7||this['_color']['b']!==_0x564e7a)&&(this['_color']['r']=_0xd4c6c3,this['_color']['g']=_0x5657f7,this['_color']['b']=_0x564e7a,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x267203){_0x267203!==this['_color']['a']&&(this['_color']['a']=_0x267203,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x267203)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x267203);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x20bd1e){this['_rect']===_0x20bd1e&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x346413,_0x4392cb,_0x1d5203,_0x4a49a4;_0x20bd1e instanceof Q?(_0x346413=_0x20bd1e['x'],_0x4392cb=_0x20bd1e['y'],_0x1d5203=_0x20bd1e['z'],_0x4a49a4=_0x20bd1e['w']):(_0x346413=_0x20bd1e[-0x478+0x26a8+0x1118*-0x2],_0x4392cb=_0x20bd1e[0x157*0x1a+0x59*0x47+-0x3b84],_0x1d5203=_0x20bd1e[0x19c6+-0x1693+-0x331],_0x4a49a4=_0x20bd1e[-0xe56+0xd*-0x4f+0xeb*0x14]),!(_0x346413===this['_rect']['x']&&_0x4392cb===this['_rect']['y']&&_0x1d5203===this['_rect']['z']&&_0x4a49a4===this['_rect']['w'])&&(this['_rect']['set'](_0x346413,_0x4392cb,_0x1d5203,_0x4a49a4),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x3a8+0x1f57+-0x22ff):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x25ff7a=this['_system']['app']['assets'];_0x25ff7a['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x97d5a5=_0x25ff7a['get'](this['_materialA'+'sset']);_0x97d5a5&&(_0x97d5a5['off']('load',this['_onMateria'+'lLoad'],this),_0x97d5a5['off']('change',this['_onMateria'+'lChange'],this),_0x97d5a5['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x5ce9f2){if(this['_material']!==_0x5ce9f2){if(!_0x5ce9f2){const _0x3d4dab=this['_element']['_isScreenS'+'pace']();this['mask']?_0x5ce9f2=_0x3d4dab?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x5ce9f2=_0x3d4dab?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x5ce9f2,this['_materialA'+'sset']){const _0x32900b=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x32900b||_0x32900b['resource']!==_0x5ce9f2)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x5ce9f2&&(this['_renderabl'+'e']['setMateria'+'l'](_0x5ce9f2),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x1f1845){const _0x1a6681=this['_system']['app']['assets'];let _0x3f7599=_0x1f1845;if(_0x1f1845 instanceof le&&(_0x3f7599=_0x1f1845['id']),this['_materialA'+'sset']!==_0x3f7599){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x3f7599,this['_materialA'+'sset']){const _0x45ff6f=_0x1a6681['get'](this['_materialA'+'sset']);_0x45ff6f?this['_bindMater'+'ialAsset'](_0x45ff6f):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x3f7599,_0x1a6681['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x3f7599;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x43065e){if(this['_texture']!==_0x43065e){if(this['_textureAs'+'set']){const _0x38c9a0=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x38c9a0&&_0x38c9a0['resource']!==_0x43065e&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x43065e,_0x43065e){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x5466b9=this['_texture']['width']/this['_texture']['height'];_0x5466b9!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x5466b9,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x50e*-0x7+-0x1e74+-0x4ed),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x759ce4){const _0x22b4f5=this['_system']['app']['assets'];let _0x4aa65c=_0x759ce4;if(_0x759ce4 instanceof le&&(_0x4aa65c=_0x759ce4['id']),this['_textureAs'+'set']!==_0x4aa65c){if(this['_textureAs'+'set']){_0x22b4f5['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x31d218=_0x22b4f5['get'](this['_textureAs'+'set']);_0x31d218&&(_0x31d218['off']('load',this['_onTexture'+'Load'],this),_0x31d218['off']('change',this['_onTexture'+'Change'],this),_0x31d218['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x4aa65c,this['_textureAs'+'set']){const _0x5bd3fc=_0x22b4f5['get'](this['_textureAs'+'set']);_0x5bd3fc?this['_bindTextu'+'reAsset'](_0x5bd3fc):(this['texture']=null,_0x22b4f5['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x19566c){const _0x2ce933=this['_system']['app']['assets'];let _0x4ae3da=_0x19566c;if(_0x19566c instanceof le&&(_0x4ae3da=_0x19566c['id']),this['_spriteAss'+'et']!==_0x4ae3da){if(this['_spriteAss'+'et']){_0x2ce933['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x3ad848=_0x2ce933['get'](this['_spriteAss'+'et']);_0x3ad848&&this['_unbindSpr'+'iteAsset'](_0x3ad848);}if(this['_spriteAss'+'et']=_0x4ae3da,this['_spriteAss'+'et']){const _0x353182=_0x2ce933['get'](this['_spriteAss'+'et']);_0x353182?this['_bindSprit'+'eAsset'](_0x353182):(this['sprite']=null,_0x2ce933['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x4ae3da);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x4b72a3){if(this['_sprite']!==_0x4b72a3){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0xd03225=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0xd03225&&_0xd03225['resource']!==_0x4b72a3&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x4b72a3,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x5*-0x5fc+0x22d+-0x2019,this['_sprite']['frameKeys']['length']-(0x4a5*-0x5+-0x2323+0x3a5d))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x195a1f){const _0x110627=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x195a1f,-0x15c8+-0x24aa+0x3a72,this['_sprite']['frameKeys']['length']-(-0x5f2*-0x1+0x4d5*0x1+-0xac6)):this['_spriteFra'+'me']=_0x195a1f,this['_spriteFra'+'me']!==_0x110627&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x195a1f);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x2a84c9){this['_renderabl'+'e']['setMesh'](_0x2a84c9),this['_defaultMe'+'sh']===_0x2a84c9?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x56e811){this['_mask']!==_0x56e811&&(this['_mask']=_0x56e811,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x1b7560){this['_pixelsPer'+'Unit']!==_0x1b7560&&(this['_pixelsPer'+'Unit']=_0x1b7560,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x1112e2){super(),this['_app']=_0x1112e2,_0x1112e2['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x87f+0x416*-0x1+0xc96),this['_disableLo'+'calization']=!(-0x1e32+-0x1ab8*-0x1+0x37b),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x53068e){const _0x92b21d=_0x53068e instanceof le?_0x53068e['id']:_0x53068e;this['_defaultAs'+'set']!==_0x92b21d&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x92b21d,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x1349b5){const _0x411975=_0x1349b5 instanceof le?_0x1349b5['id']:_0x1349b5;this['_localized'+'Asset']!==_0x411975&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x411975,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x2fe0e2){this['_autoLoad']!==_0x2fe0e2&&(this['_autoLoad']=_0x2fe0e2,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x426b70){this['_disableLo'+'calization']!==_0x426b70&&(this['_disableLo'+'calization']=_0x426b70,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x1de19f=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x1de19f?this['_onDefault'+'AssetAdd'](_0x1de19f):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x35970c=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x35970c&&(_0x35970c['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x35970c['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x35970c['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x2b8773){this['_defaultAs'+'set']===_0x2b8773['id']&&(_0x2b8773['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x2b8773['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x2b8773['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x232b23){this['_defaultAs'+'set']===_0x232b23['id']&&(_0x232b23['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x232b23['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x2da5ac=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x2da5ac&&(_0x2da5ac['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x2da5ac['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x2da5ac['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x2da5ac['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x2da5ac):this['_app']['assets']['load'](_0x2da5ac));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x1a63df=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x1a63df&&(_0x1a63df['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x1a63df['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x1a63df['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x2ac1dc){this['_localized'+'Asset']===_0x2ac1dc['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x53f867){this['fire']('load',_0x53f867);}['_onLocaliz'+'edAssetCha'+'nge'](_0x28d356,_0x2af1a8,_0x1e93ca,_0x277674){this['fire']('change',_0x28d356,_0x2af1a8,_0x1e93ca,_0x277674);}['_onLocaliz'+'edAssetRem'+'ove'](_0xe1df3a){this['_localized'+'Asset']===_0xe1df3a['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0xe1df3a);}['_onLocaleA'+'dd'](_0x1177d6,_0x42091f){this['_app']['i18n']['locale']===_0x1177d6&&this['_onSetLoca'+'le'](_0x1177d6);}['_onLocaleR'+'emove'](_0x5e1011,_0x8221f){this['_app']['i18n']['locale']===_0x5e1011&&this['_onSetLoca'+'le'](_0x5e1011);}['_onSetLoca'+'le'](_0x540157){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x355464=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x355464||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x38930a=_0x355464['getLocaliz'+'edAssetId'](_0x540157);if(!_0x38930a){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x38930a;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=0x24c4+0x1*0xa9f+0x6c5*-0x7,Kn=-0x1*-0xeb3+0x146e+-0x2320,of=0x149*0x19+0x2209+-0x2114*0x2,ix=0x1245*-0x1+-0xc7*-0x14+0x32*0xe,lf=-0x2467*0x1+-0xd5*0xd+0x2*0x179e,hf=-0x14da+0x5cc+0xf13*0x1,cf=-0x7*0x27f+0x254b+-0x13cc,df=0x1233+-0xed*-0xb+0x11*-0x1ab,dg=0xd42+-0x2442+0x2*0xb84,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x445b77){this['_symbols']=_0x445b77,this['_index']=-0x21a7*-0x1+0x2488+-0x462f,this['_last']=-0x11*-0x43+-0x1*-0x1135+-0x16*0xfc,this['_cur']=this['_symbols']['length']>-0xe*0x2a5+-0x713+0x9f*0x47?this['_symbols'][0x3*0x2f9+0x39e+-0xc89]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x52e8b3=this['_read']();for(;_0x52e8b3===dg;)_0x52e8b3=this['_read']();return _0x52e8b3!==ho&&_0x52e8b3!==Kn&&(this['_last']=this['_index']),_0x52e8b3;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0xddf4d3=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0xc35a4a=this['read'](),_0x5af527='';for(;_0x5af527+=(_0x5af527['length']>-0x246f*0x1+0x1*-0x1328+0x3797?'\x0a':'')+_0xddf4d3[_0xc35a4a]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0xc35a4a===ho||_0xc35a4a===Kn);)_0xc35a4a=this['read']();return _0x5af527;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x1*0x17ba+0x7ea+-0x546*0x6?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>0x49b*-0x4+-0x316+-0x2*-0xac1?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(0x8*-0x173+0x13ec+0x853*-0x1);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x171516){return _0x171516['length']===-0x20af*-0x1+-0x1*0xc5d+-0x7*0x2e7&&_0x171516['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x1f46ce){this['_buf']['push'](_0x1f46ce);}}class bR{constructor(_0x11fe07){this['_scanner']=new vR(_0x11fe07),this['_error']=null;}['parse'](_0x136605,_0x3a06dc){for(;;)switch(this['_scanner']['read']()){case ho:return!(-0x9*-0x64+-0x2*-0x1307+0x1*-0x2992);case Kn:return!(-0x15e7+-0x1*-0xe81+0x767);case of:Array['prototype']['push']['apply'](_0x136605,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x136605,_0x3a06dc))return!(0x319*-0x5+-0x1067+-0x163*-0x17);break;default:return!(-0xc6*0x19+0x2390+0x1039*-0x1);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x46fd1a,_0x1ab164){let _0x183314=this['_scanner']['read']();if(_0x183314!==df)return this['_error']='expected\x20i'+'dentifier',!(-0x1618+-0x1*0x1bc2+0x31db*0x1);const _0x1acace=this['_scanner']['buf']()['join']('');if(_0x1acace[0x3*-0x59f+0x83*0x11+0x82a]==='/'){for(let _0x2f09e1=_0x1ab164['length']-(0x5*0x714+-0x1c68*-0x1+0x91d*-0x7);_0x2f09e1>=0x243b+0x7*-0x5+-0x2418;--_0x2f09e1)if(_0x1acace==='/'+_0x1ab164[_0x2f09e1]['name']&&_0x1ab164[_0x2f09e1]['end']===null)return _0x1ab164[_0x2f09e1]['end']=_0x46fd1a['length'],_0x183314=this['_scanner']['read'](),_0x183314!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x3d*0x4f+-0xa90+0x1d64)):!(0x1*0x144d+-0x109d*-0x1+-0x1e*0x13b);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0xa*0x56+0x1eae+-0x1b51);}const _0x3d6dd0={'name':_0x1acace,'value':null,'attributes':{},'start':_0x46fd1a['length'],'end':null};if(_0x183314=this['_scanner']['read'](),_0x183314===hf){if(_0x183314=this['_scanner']['read'](),_0x183314!==cf)return this['_error']='expected\x20s'+'tring',!(-0x62+0x119f+-0x89e*0x2);_0x3d6dd0['value']=this['_scanner']['buf']()['join'](''),_0x183314=this['_scanner']['read']();}for(;;){switch(_0x183314){case lf:return _0x1ab164['push'](_0x3d6dd0),!(0x263*0xd+0x10f8+-0x2fff*0x1);case df:{const _0x36dcb4=this['_scanner']['buf']()['join']('');if(_0x183314=this['_scanner']['read'](),_0x183314!==hf)return this['_error']='expected\x20e'+'quals',!(-0x1fbb+0x2be*-0x2+0x2538);if(_0x183314=this['_scanner']['read'](),_0x183314!==cf)return this['_error']='expected\x20s'+'tring',!(0x1*-0x1fb0+-0x2*-0x283+0x1*0x1aab);const _0x45f617=this['_scanner']['buf']()['join']('');_0x3d6dd0['attributes'][_0x36dcb4]=_0x45f617;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0xa8a*-0x1+0xf41+-0x19ca);}_0x183314=this['_scanner']['read']();}}}function rx(_0x6b9f1c,_0x3dd7ff){for(const _0x16bc82 in _0x3dd7ff){if(!_0x3dd7ff['hasOwnProp'+'erty'](_0x16bc82))continue;const _0x494412=_0x3dd7ff[_0x16bc82];_0x494412 instanceof Object?(_0x6b9f1c['hasOwnProp'+'erty'](_0x16bc82)||(_0x6b9f1c[_0x16bc82]={}),rx(_0x6b9f1c[_0x16bc82],_0x3dd7ff[_0x16bc82])):_0x6b9f1c[_0x16bc82]=_0x494412;}}function wR(_0x3d77f3){if(_0x3d77f3['length']===0xa77+-0x1*-0x1d09+-0x80*0x4f)return null;const _0x2b8863={};for(let _0x3b6062=0x7*0x11f+0x1*-0x1c87+-0x1*-0x14ae;_0x3b6062<_0x3d77f3['length'];++_0x3b6062){const _0x57ebae=_0x3d77f3[_0x3b6062],_0x5ce120={};_0x5ce120[_0x57ebae['name']]={'value':_0x57ebae['value'],'attributes':_0x57ebae['attributes']},rx(_0x2b8863,_0x5ce120);}return _0x2b8863;}function TR(_0x376b1e,_0x432018){if(_0x376b1e['length']===0x1a7e+-0xf8b*-0x2+-0x3994)return null;const _0x1b211f={};for(let _0x436577=0x1*-0xc25+0x98*-0x2b+-0x283*-0xf;_0x436577<_0x376b1e['length'];++_0x436577){const _0x553f03=_0x376b1e[_0x436577];_0x1b211f['hasOwnProp'+'erty'](_0x553f03['start'])?_0x1b211f[_0x553f03['start']]['open']===null?_0x1b211f[_0x553f03['start']]['open']=[_0x553f03]:_0x1b211f[_0x553f03['start']]['open']['push'](_0x553f03):_0x1b211f[_0x553f03['start']]={'open':[_0x553f03],'close':null},_0x1b211f['hasOwnProp'+'erty'](_0x553f03['end'])?_0x1b211f[_0x553f03['end']]['close']===null?_0x1b211f[_0x553f03['end']]['close']=[_0x553f03]:_0x1b211f[_0x553f03['end']]['close']['push'](_0x553f03):_0x1b211f[_0x553f03['end']]={'open':null,'close':[_0x553f03]};}let _0x39f8cc=[];function _0x4ff6a0(_0x9b0c4a){_0x39f8cc=_0x39f8cc['filter'](_0xf8ebb=>_0x9b0c4a['find'](_0x3df021=>_0x3df021===_0xf8ebb)===void(-0x797+-0x2689+0x2e20));}function _0x3ba752(_0x2d3853){for(let _0x46dc31=-0xf16+0x22f7+-0x13e1;_0x46dc31<_0x2d3853['length'];++_0x46dc31)_0x39f8cc['push'](_0x2d3853[_0x46dc31]);}const _0x3c955f=Object['keys'](_0x1b211f)['sort']((_0x4e3b99,_0x5ee4f3)=>_0x4e3b99-_0x5ee4f3),_0x4dde23=[];for(let _0xd589b1=0x9f*0xd+-0x9c9+0x3*0x92;_0xd589b1<_0x3c955f['length'];++_0xd589b1){const _0xc5bd8a=_0x1b211f[_0x3c955f[_0xd589b1]];_0xc5bd8a['close']!==null&&_0x4ff6a0(_0xc5bd8a['close']),_0xc5bd8a['open']!==null&&_0x3ba752(_0xc5bd8a['open']),_0x4dde23['push']({'start':_0x3c955f[_0xd589b1],'tags':wR(_0x39f8cc)});}const _0x538c65=[];let _0x4f74c5=null;for(let _0x40682e=-0x1499*0x1+0x1*-0x1049+0x24e2;_0x40682e<_0x4dde23['length'];++_0x40682e){const _0x67becf=_0x4dde23[_0x40682e];for(;_0x538c65['length']<_0x67becf['start'];)_0x538c65['push'](_0x4f74c5?_0x4f74c5['tags']:null);_0x4f74c5=_0x67becf;}for(;_0x538c65['length']<_0x432018;)_0x538c65['push'](null);return _0x538c65;}function AR(_0x3a5c3e){const _0xa20fb2=new bR(_0x3a5c3e),_0x3cb23a=[],_0x56b77c=[];if(!_0xa20fb2['parse'](_0x3cb23a,_0x56b77c))return console['warn'](_0xa20fb2['error']()),{'symbols':_0x3a5c3e,'tags':null};const _0x227e24=_0x56b77c['find'](_0x1d58ab=>_0x1d58ab['end']===null);if(_0x227e24)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x227e24['name']+'\x27'),{'symbols':_0x3a5c3e,'tags':null};const _0xa75ff6=TR(_0x56b77c,_0x3cb23a['length']);return{'symbols':_0x3cb23a,'tags':_0xa75ff6};}class ER{static['evaluate'](_0x3610e7){return AR(_0x3610e7);}}class CR{constructor(){this['count']=0x3*-0x385+0x29b*0x1+0x7f4,this['quad']=-0xfd9+-0x2*-0x7d3+0x33,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x37c8d2,_0x5d27f7){const _0x4d0641=new Ie(_0x37c8d2);return _0x4d0641['setPositio'+'ns'](_0x5d27f7['positions']),_0x4d0641['setNormals'](_0x5d27f7['normals']),_0x4d0641['setColors3'+'2'](_0x5d27f7['colors']),_0x4d0641['setUvs'](-0xa01+0xb9e+-0x19d,_0x5d27f7['uvs']),_0x4d0641['setIndices'](_0x5d27f7['indices']),_0x4d0641['setVertexS'+'tream'](Po,_0x5d27f7['outlines'],0x259a*0x1+-0x6*-0x24b+-0x3359,void(0x12c+0x1*-0x1492+0x1366),Ee,!(0x4f5+-0x234e+0x1e5a)),_0x4d0641['setVertexS'+'tream'](Ro,_0x5d27f7['shadows'],-0xf5d+-0x1*0x138a+0x22ea,void(-0x10c0+0x121b+-0x1*0x15b),Ee,!(0x1f*-0xce+0x96d+0xf86)),_0x4d0641['update'](),_0x4d0641;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[〕〉》」』】〙〗〟ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻]$/,DR=['​','؜','‎','‏','‪','‫','‬','‭','‮','⁦','⁧','⁨','⁩'],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new j(),FR=new $(),Me=new j();class OR{constructor(_0x4d327c){this['_element']=_0x4d327c,this['_system']=_0x4d327c['system'],this['_entity']=_0x4d327c['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x1d1d+0x31*0xb3+-0x34*0x138),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new j(0x1*-0x2410+-0xb20+-0x2f31*-0x1,0x11*0x187+-0x22c4*0x1+0x1*0x8ce,0xe5*-0x9+-0x1*0x25f2+-0x5c0*-0x8,0x1*0x45b+-0x1878*0x1+0x1*0x141e),this['_colorUnif'+'orm']=new Float32Array(0x2390+0x2*0xe5c+0x1*-0x4045),this['_spacing']=0x9d+-0x32b*0x4+0x182*0x8,this['_fontSize']=-0x2563+0x14ba+0x10c9*0x1,this['_fontMinY']=0x26e3+0x2462+0x1*-0x4b45,this['_fontMaxY']=0x23b+0x232d*-0x1+0x20f2,this['_originalF'+'ontSize']=0x52*0x16+-0x1*0xf9a+0x8ae,this['_maxFontSi'+'ze']=-0xe61+0x19f2+-0xb71,this['_minFontSi'+'ze']=-0x219d+0x15fd+0x8*0x175,this['_autoFitWi'+'dth']=!(0x62f*0x4+0x1c2c+-0x34e7),this['_autoFitHe'+'ight']=!(-0xc6e*-0x1+-0x91f+-0x34e),this['_maxLines']=-(0x4a2*-0x2+-0xb57*0x2+0x1ff3),this['_lineHeigh'+'t']=-0x3*0xba9+0x40a+0x2d3*0xb,this['_scaledLin'+'eHeight']=0x3*-0x2a1+0x948*0x3+-0x13d5,this['_wrapLines']=!(-0x1*-0x1af3+-0x567*0x3+-0xabd),this['_drawOrder']=-0x1709+-0x3df*0x5+-0x1532*-0x2,this['_alignment']=new $(0x1cf+0x25c3+-0x2792+0.5,-0x1069*-0x1+0x2378+-0x39*0xe9+0.5),this['_autoWidth']=!(0x907+0x1204+-0x1b0b),this['_autoHeigh'+'t']=!(0x1a*0x11b+0xb92*-0x2+-0x59a),this['width']=-0x1*-0x236f+-0x172b*-0x1+0x482*-0xd,this['height']=0xe77+0x1d45+-0x2bbc,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x552*-0x1+0x19ec+-0x1f3e),this['_aabb']=new _e(),this['_noResize']=!(-0x727*-0x3+0xdf*-0x25+0xac7),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x920+0x1*-0xc9d+0x37e),this['_unicodeCo'+'nverter']=!(-0x1d1f+-0x46*-0x8b+0x3*-0x2f6),this['_rtl']=!(0x9*-0x3c+0x6d0+-0x4b3),this['_outlineCo'+'lor']=new j(-0x1aa8+0xf3d*0x2+-0x2*0x1e9,0x12af*-0x1+-0x4f5+0x17a4,-0x23c8+0x3*0x772+0x1*0xd72,-0x1977+0x5dd+0x139b),this['_outlineCo'+'lorUniform']=new Float32Array(-0x8*0x5a+-0xfd7+0x9*0x213),this['_outlineTh'+'icknessSca'+'le']=-0xf*0x275+-0x5f7*0x1+0x2ad2+0.2,this['_outlineTh'+'ickness']=0x1*-0x1033+-0x4*-0x7ff+0x1*-0xfc9,this['_shadowCol'+'or']=new j(-0x3d4+-0x12d5+0x16a9,-0xc1c+0x22c+0x9f0,-0x1*0x1e27+-0x1*-0x52e+-0x18f9*-0x1,0x20d2+0x24e5+-0x45b6),this['_shadowCol'+'orUniform']=new Float32Array(-0x24a9+-0x11e2+-0x1*-0x368f),this['_shadowOff'+'setScale']=-0x62b*-0x4+0x1b34*0x1+-0x33e0+0.005,this['_shadowOff'+'set']=new $(-0x8e4+-0x1b99+-0x247d*-0x1,-0x7ed+-0x1*0x1ba4+-0x25f*-0xf),this['_shadowOff'+'setUniform']=new Float32Array(-0x12fb*0x1+0x1d*0x43+0xb66),this['_enableMar'+'kup']=!(-0xda*-0x26+-0x7b1+-0x18aa),this['_onScreenC'+'hange'](this['_element']['screen']),_0x4d327c['on']('resize',this['_onParentR'+'esize'],this),_0x4d327c['on']('set:screen',this['_onScreenC'+'hange'],this),_0x4d327c['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x4d327c['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x4d327c['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x2*-0x976+-0x146*-0x2+-0x4*0x55e,this['_rangeEnd']=0x36c+0x7f4*0x2+-0x2*0x9aa;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x559861,_0xda22c1){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x28b1ae){_0x28b1ae?this['_updateMat'+'erial'](_0x28b1ae['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x1*0x666+-0x5*-0x7af+-0x2004));}['_onScreenS'+'paceChange'](_0x3e4718){this['_updateMat'+'erial'](_0x3e4718);}['_onDrawOrd'+'erChange'](_0x4f71b7){if(this['_drawOrder']=_0x4f71b7,this['_model']){for(let _0x480017=0x468+0x1*-0x11a8+0x6a0*0x2,_0xa53e90=this['_model']['meshInstan'+'ces']['length'];_0x480017<_0xa53e90;_0x480017++)this['_model']['meshInstan'+'ces'][_0x480017]['drawOrder']=_0x4f71b7;}}['_onPivotCh'+'ange'](_0x59c657){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x2d5462){if(this['_i18nKey']){if(this['fontAsset']){const _0x542efe=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x542efe||!_0x542efe['resource']||_0x542efe['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x33ceaa,_0x4e839f){this['_i18nKey']&&_0x4e839f[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x34a777){if(this['unicodeCon'+'verter']){const _0x2581f9=this['_system']['getUnicode'+'Converter']();_0x2581f9?_0x34a777=_0x2581f9(_0x34a777):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x34a777&&(this['_font']&&this['_updateTex'+'t'](_0x34a777),this['_text']=_0x34a777);}['_updateTex'+'t'](_0x183cbf){let _0x3a259d;if(_0x183cbf===void(0x5*0x271+-0xa77+-0x1be)&&(_0x183cbf=this['_text']),this['_symbols']=ah['getSymbols'](_0x183cbf['normalize']?_0x183cbf['normalize']('NFC'):_0x183cbf),this['_symbols']['length']===0xe1*0x25+0x1*-0xdc8+-0x12bd&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x43b3b8=ER['evaluate'](this['_symbols']);this['_symbols']=_0x43b3b8['symbols'],_0x3a259d=_0x43b3b8['tags']||[];}if(this['_rtlReorde'+'r']){const _0x596dc6=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x596dc6){const _0x8b3de5=_0x596dc6(this['_symbols']);this['_rtl']=_0x8b3de5['rtl'],this['_symbols']=_0x8b3de5['mapping']['map'](function(_0x3f677c){return this['_symbols'][_0x3f677c];},this),_0x3a259d&&(_0x3a259d=_0x8b3de5['mapping']['map'](_0x26c911=>_0x3a259d[_0x26c911]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x1*0x1bef+0x210d+0xb*-0x77);const _0x54d345=(_0x22a6e1,_0x4cf233)=>_0x22a6e1['toString'](!(-0x138a+0x515+0x1*0xe75))['toLowerCas'+'e']()+':'+_0x4cf233['toFixed'](0x1*-0xe9+-0x1ea6+0x1f91),_0x2836a7=(_0xefcc87,_0x16c9cf)=>_0xefcc87['toString'](!(-0x12c0+0x127a+0xa*0x7))['toLowerCas'+'e']()+':'+_0x16c9cf['x']['toFixed'](0x1159*-0x1+0xcdf+0x4*0x11f)+':'+_0x16c9cf['y']['toFixed'](-0x10*-0x2+0x188d+-0x18ab);if(_0x3a259d){const _0x40b742={},_0x3f5d10={},_0x3e3d59={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x1ae5+0x1fcf+-0x3eb)),Math['round'](this['_color']['g']*(0x1037*-0x1+0x1a03+-0x3*0x2ef)),Math['round'](this['_color']['b']*(-0x1a69+-0x6ab+0x3d*0x8f))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x9a8+-0x1454+0x1*0x1efb)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x8b4+-0x11*-0x221+-0x1a7e)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x9*0x43+0x1cd5+-0x197b)),Math['round'](this['_outlineCo'+'lor']['a']*(0x1c91+0x1af2+-0x3684)),Math['round'](this['_outlineTh'+'ickness']*(-0x51b+0xcaa+-0x690))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x2d9*-0x3+0x11b*0x1d+-0x279b)),Math['round'](this['_shadowCol'+'or']['g']*(-0x1486+-0x43f*0x1+0x19c4)),Math['round'](this['_shadowCol'+'or']['b']*(0x231a+-0x1b0e+-0x70d)),Math['round'](this['_shadowCol'+'or']['a']*(-0xa2a+0x23b9+-0x1*0x1890)),Math['round'](this['_shadowOff'+'set']['x']*(0x263a+-0xf66+0x1655*-0x1)),Math['round'](this['_shadowOff'+'set']['y']*(-0x13*0x146+0x1855*-0x1+0x1883*0x2))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x40b742[this['_color']['toString'](!(0x1*0x18c7+-0x8dd*-0x2+-0x2a80))['toLowerCas'+'e']()]=-0x71*0x29+-0x1714+0x292d,_0x3f5d10[_0x54d345(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=-0x9da+-0xfd4+0x2*0xcd7,_0x3e3d59[_0x2836a7(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x1*0x19c5+-0x2634+0xc6f*0x1;for(let _0x4f1f67=-0x11*-0x1ba+0x6c1+-0x241b,_0x219b7a=this['_symbols']['length'];_0x4f1f67<_0x219b7a;++_0x4f1f67){const _0x480983=_0x3a259d[_0x4f1f67];let _0xde1118=-0x419*-0x2+-0x1*-0x846+-0x83c*0x2;if(_0x480983&&_0x480983['color']&&_0x480983['color']['value']){const _0x58f51b=_0x480983['color']['value'];if(_0x58f51b['length']===-0x1*-0x23dd+0xa2d+-0x2e03&&_0x58f51b[0xae*0x2a+-0x44e+-0x1d*0xd6]==='#'){const _0x311b37=_0x58f51b['substring'](0x12fd*0x1+0x253*0x1+-0x5*0x443)['toLowerCas'+'e']();_0x40b742['hasOwnProp'+'erty'](_0x311b37)?_0xde1118=_0x40b742[_0x311b37]:/^[0-9a-f]{6}$/['test'](_0x311b37)&&(_0xde1118=this['_colorPale'+'tte']['length']/(-0x5be+0x81*0x4c+-0xad9*0x3),_0x40b742[_0x311b37]=_0xde1118,this['_colorPale'+'tte']['push'](parseInt(_0x311b37['substring'](-0x1c51+0x14d2+0x77f,-0x20a5+-0xd*-0x26a+-0x145*-0x1),-0x90b*-0x3+0x1fef+-0x3b00)),this['_colorPale'+'tte']['push'](parseInt(_0x311b37['substring'](0xbaf+0x51*0x4f+-0x24ac,-0xa4*0x3b+0xc69+0x1967),-0xd79*0x1+0x2654+-0x18cb)),this['_colorPale'+'tte']['push'](parseInt(_0x311b37['substring'](-0x19fd+0x25be+-0xbbd,-0x239d+0x437+-0x1f6c*-0x1),-0x2351+0x128*-0x6+0x2a51)));}}this['_symbolCol'+'ors']['push'](_0xde1118);let _0x2bf3ec=0x117c+0x71c+0x1898*-0x1;if(_0x480983&&_0x480983['outline']&&(_0x480983['outline']['attributes']['color']||_0x480983['outline']['attributes']['thickness'])){let _0x282328=_0x480983['outline']['attributes']['color']?mg['fromString'](_0x480983['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x3fd1e6=Number(_0x480983['outline']['attributes']['thickness']);(Number['isNaN'](_0x282328['r'])||Number['isNaN'](_0x282328['g'])||Number['isNaN'](_0x282328['b'])||Number['isNaN'](_0x282328['a']))&&(_0x282328=this['_outlineCo'+'lor']),Number['isNaN'](_0x3fd1e6)&&(_0x3fd1e6=this['_outlineTh'+'ickness']);const _0x3036ef=_0x54d345(_0x282328,_0x3fd1e6);_0x3f5d10['hasOwnProp'+'erty'](_0x3036ef)?_0x2bf3ec=_0x3f5d10[_0x3036ef]:(_0x2bf3ec=this['_outlinePa'+'lette']['length']/(-0x1b9e+-0x1*0xd85+-0x1494*-0x2),_0x3f5d10[_0x3036ef]=_0x2bf3ec,this['_outlinePa'+'lette']['push'](Math['round'](_0x282328['r']*(-0x2113+-0x1b7+0x23c9*0x1)),Math['round'](_0x282328['g']*(0x128e+0x6*-0x41f+-0x1*-0x72b)),Math['round'](_0x282328['b']*(0x1784+0xa35+0x76*-0x47)),Math['round'](_0x282328['a']*(0x1bf9+0x234b+0x3e45*-0x1)),Math['round'](_0x3fd1e6*(0x8*-0x1f0+-0x577*-0x5+-0xad4))));}this['_symbolOut'+'lineParams']['push'](_0x2bf3ec);let _0x5078e1=0x16cc+-0x1*0xf2e+0x3*-0x28a;if(_0x480983&&_0x480983['shadow']&&(_0x480983['shadow']['attributes']['color']||_0x480983['shadow']['attributes']['offset']||_0x480983['shadow']['attributes']['offsetX']||_0x480983['shadow']['attributes']['offsetY'])){let _0x5d40bf=_0x480983['shadow']['attributes']['color']?mg['fromString'](_0x480983['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x5d1fc3=Number(_0x480983['shadow']['attributes']['offset']),_0xedf174=Number(_0x480983['shadow']['attributes']['offsetX']),_0x184190=Number(_0x480983['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x5d40bf['r'])||Number['isNaN'](_0x5d40bf['g'])||Number['isNaN'](_0x5d40bf['b'])||Number['isNaN'](_0x5d40bf['a']))&&(_0x5d40bf=this['_shadowCol'+'or']);const _0x16f62d=FR['set'](Number['isNaN'](_0xedf174)?Number['isNaN'](_0x5d1fc3)?this['_shadowOff'+'set']['x']:_0x5d1fc3:_0xedf174,Number['isNaN'](_0x184190)?Number['isNaN'](_0x5d1fc3)?this['_shadowOff'+'set']['y']:_0x5d1fc3:_0x184190),_0x236707=_0x2836a7(_0x5d40bf,_0x16f62d);_0x3e3d59['hasOwnProp'+'erty'](_0x236707)?_0x5078e1=_0x3e3d59[_0x236707]:(_0x5078e1=this['_shadowPal'+'ette']['length']/(-0x2*0xd7f+0x239f*0x1+-0x1*0x89b),_0x3e3d59[_0x236707]=_0x5078e1,this['_shadowPal'+'ette']['push'](Math['round'](_0x5d40bf['r']*(0x1d*0x54+-0x569*-0x3+-0x18c0)),Math['round'](_0x5d40bf['g']*(-0x60e+0x1358+0x1*-0xc4b)),Math['round'](_0x5d40bf['b']*(-0x14b*0x7+0x1d*0x153+-0x1c5b)),Math['round'](_0x5d40bf['a']*(-0x2*-0x299+-0x2*-0x121c+0xd79*-0x3)),Math['round'](_0x16f62d['x']*(0x1*0x1735+-0xead*0x1+-0x809)),Math['round'](_0x16f62d['y']*(-0x1f34+0x1*0x1083+0x10*0xf3))));}this['_symbolSha'+'dowParams']['push'](_0x5078e1);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x1bda61=this['_calculate'+'CharsPerTe'+'xture']();let _0xa64768=!(0x1fb0+0x4*0x4+-0x1fbf);const _0x156c67=this['_element'],_0x355cb8=_0x156c67['_isScreenS'+'pace'](),_0x12bd4b=_0x156c67['_isScreenC'+'ulled'](),_0x356ed9=function(_0x615157){return _0x156c67['isVisibleF'+'orCamera'](_0x615157);};for(let _0x1b5f01=0xa64*0x2+0xe53+-0x231b,_0x5a2b63=this['_meshInfo']['length'];_0x1b5f01<_0x5a2b63;_0x1b5f01++){const _0xe18a46=_0x1bda61[_0x1b5f01]||0x6*-0xad+0x4f6+-0x3a*0x4,_0x3db6b5=this['_meshInfo'][_0x1b5f01];if(_0x3db6b5['count']!==_0xe18a46){if(_0xa64768||(_0x156c67['removeMode'+'lFromLayer'+'s'](this['_model']),_0xa64768=!(0x12b1+0x64+0x5*-0x3d1)),_0x3db6b5['count']=_0xe18a46,_0x3db6b5['positions']['length']=_0x3db6b5['normals']['length']=_0xe18a46*(0x122b*-0x2+0x417+0x2042)*(0x17a5+0x149*-0x5+0x2*-0x89a),_0x3db6b5['indices']['length']=_0xe18a46*(0x1352+-0xb*-0x10b+-0xa*0x314)*(-0x5*-0x689+0x565+-0x2610),_0x3db6b5['uvs']['length']=_0xe18a46*(-0x1132+0x1f6c+-0xe38)*(-0x1561+0xa04+-0x1*-0xb61),_0x3db6b5['colors']['length']=_0xe18a46*(0xa27*-0x3+0x5*-0x4e4+0x36ed*0x1)*(-0x1e*-0x92+0xeff*-0x1+-0xb3*0x3),_0x3db6b5['outlines']['length']=_0xe18a46*(-0x8*0x47e+0x53*0x1d+0x1a8d*0x1)*(-0x1*-0x1417+-0x211b+0x73*0x1d),_0x3db6b5['shadows']['length']=_0xe18a46*(-0x1762+0x78a+0xfdc)*(-0x232*0x11+-0x216e+0x46c3),_0x3db6b5['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x3db6b5['meshInstan'+'ce']),_0xe18a46===-0x39*-0x5f+0x640+0x5*-0x57b){_0x3db6b5['meshInstan'+'ce']=null;continue;}for(let _0x112cd5=-0x1*-0xff3+-0xf3b+-0x17*0x8;_0x112cd5<_0xe18a46;_0x112cd5++)_0x3db6b5['indices'][_0x112cd5*(0x8f0+0x1fd7+-0x28c4)*(0x2b4+0xca9*0x1+-0xf5b)+(0x5*0x55e+-0x1*-0x1ca3+0x50b*-0xb)]=_0x112cd5*(-0x1603*-0x1+-0x2331+0x466*0x3),_0x3db6b5['indices'][_0x112cd5*(-0x16c9+-0x2f4+-0x2*-0xce0)*(-0x6e*-0x31+0x1ea6+-0x3fa*0xd)+(-0xe3b*0x2+0x259e+0x30d*-0x3)]=_0x112cd5*(0x255a+-0x15e2+-0xf74)+(-0x1979*0x1+0x3c7+-0xb*-0x1f9),_0x3db6b5['indices'][_0x112cd5*(-0x6a*-0x53+0x25c7+-0xa4e*0x7)*(0x907+-0x21af+0x18aa)+(-0x1*0x165+-0x13e7+0x154e)]=_0x112cd5*(-0x2369+-0x1*0x1b43+0x3eb0)+(0x1*0xaae+-0x17e2+0xc7*0x11),_0x3db6b5['indices'][_0x112cd5*(-0x193+0x995+0x7ff*-0x1)*(-0x1e10+-0x1cdc*-0x1+0x136)+(-0xc78+-0x55e+0x11d9)]=_0x112cd5*(-0x165d+0x15ae+0xb3)+(0x1375*0x1+-0x25e6+0x1273),_0x3db6b5['indices'][_0x112cd5*(0xcce+0xf3*0xd+-0x1922)*(-0x147f+-0xb05+0x1f86)+(0x957*-0x1+0x1*-0xd6a+0x16c5)]=_0x112cd5*(-0x738*-0x2+-0x24e6+0x7*0x336)+(0x111e+-0x1ad*-0x3+-0x1622),_0x3db6b5['indices'][_0x112cd5*(-0x31f+-0x2435+0x2757)*(-0x5*-0x1e9+0x65*0x15+-0x11d4)+(-0x25f7+-0x1bce+0x41ca)]=_0x112cd5*(-0x18dc+-0x1*-0x295+0x164b)+(0x14*0x151+-0x21f*-0x2+-0x1e91),_0x3db6b5['normals'][_0x112cd5*(-0x2117+0x1733*0x1+0x9e8)*(-0x1700+-0x1*0x1983+0x3086)+(-0x2*0xa25+0x1e9*0xb+-0xb9)]=0x224e+0x12b9+0x21f*-0x19,_0x3db6b5['normals'][_0x112cd5*(0xf*0x33+-0x1*-0x113e+0x6bd*-0x3)*(0x153d*0x1+-0xa47+-0xaf3)+(0x5*0x562+0x161f*-0x1+-0x4ca)]=-0x532+-0xa99+0xfcb,_0x3db6b5['normals'][_0x112cd5*(-0x1a23+0x1edc+-0x4b5)*(-0x1*-0x91d+0x1f*-0x9d+0x9e9)+(-0x589+-0x1b22+0x20ad)]=-(-0xf2d+0x235a*0x1+0x2*-0xa16),_0x3db6b5['normals'][_0x112cd5*(0x15c5*-0x1+-0x38*0x32+0x20b9)*(-0xef7+-0x4*-0x266+0x562)+(-0x256e*-0x1+0x10e9+0xf4*-0x39)]=-0x24f5+-0x66*0x17+-0x1*-0x2e1f,_0x3db6b5['normals'][_0x112cd5*(0x19e9+0x1*0x386+-0x1d6b)*(-0x16b3+0x319*0x8+0x212*-0x1)+(-0xa1e+-0x2184+0x2*0x15d3)]=-0x416+0x237a+0x7*-0x47c,_0x3db6b5['normals'][_0x112cd5*(-0x127*0x11+-0xd76+0x2111)*(0x115*0xd+-0x5e*0x2c+-0x1*-0x21a)+(-0x224f+0x19bb+0x899)]=-(-0x1*0x153e+-0x76d*0x4+-0x32f3*-0x1),_0x3db6b5['normals'][_0x112cd5*(-0x836+0xaf9*-0x2+0x1e2c)*(0x1608+0x105*-0x5+-0x2d2*0x6)+(-0xe9b*-0x2+-0xcb0+0x1*-0x1080)]=0xb23+0xf9d+-0x1ac0,_0x3db6b5['normals'][_0x112cd5*(-0xe*-0x1cf+0x2359+0x1*-0x3ca7)*(0xb59+0x1d4b+0x28a1*-0x1)+(0x1720+0x20bb+-0x37d4)]=0x399+-0x3d6*0xa+0x22c3*0x1,_0x3db6b5['normals'][_0x112cd5*(-0x16b5+0xe0e*0x1+0x8ab)*(-0x1*-0x1daf+-0x19cf+0x1*-0x3dd)+(0x3*-0x86+-0x20bb+0x2255)]=-(0x67d+-0x1d9f*0x1+0x1723*0x1),_0x3db6b5['normals'][_0x112cd5*(0x1*-0x22cd+-0x1*0x74b+-0x86c*-0x5)*(-0x1591*0x1+-0x21e0+0x27*0x16c)+(-0x1f49*0x1+-0x1ab7+-0xb3*-0x53)]=-0xb93*0x2+0x2c2*0x1+0x5a*0x3a,_0x3db6b5['normals'][_0x112cd5*(0x1139*0x1+-0x25ae+0x1*0x1479)*(0x16*-0xb9+-0x170+0x1159)+(0x1c92+-0x17f*0xa+-0xd92)]=0x2105+-0x251*0x1+-0x1eb4,_0x3db6b5['normals'][_0x112cd5*(-0x27a*0x1+-0x1bb5+-0x35b*-0x9)*(0x1af0+0x512*0x7+-0x3e6b)+(0x1b61+-0x221e+0x3e*0x1c)]=-(-0x254b*-0x1+-0x1*0x92b+-0x1c1f);const _0x584e3f=MR(this['_system']['app']['graphicsDe'+'vice'],_0x3db6b5),_0x606dcc=new Le(_0x584e3f,this['_material'],this['_node']);if(_0x606dcc['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x606dcc['castShadow']=!(0x1031+-0x1c56+0x1*0xc26),_0x606dcc['receiveSha'+'dow']=!(-0xef7+-0xd*-0x1de+-0x6*0x18d),_0x606dcc['cull']=!_0x355cb8,_0x606dcc['screenSpac'+'e']=_0x355cb8,_0x606dcc['drawOrder']=this['_drawOrder'],_0x12bd4b&&(_0x606dcc['cull']=!(-0x467+0x19d3+-0x724*0x3),_0x606dcc['isVisibleF'+'unc']=_0x356ed9),this['_setTextur'+'eParams'](_0x606dcc,this['_font']['textures'][_0x1b5f01]),_0x606dcc['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x606dcc['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x606dcc['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x606dcc['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x606dcc['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x1b5f01]['width']),_0x606dcc['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x606dcc['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x606dcc['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x1c99+0x2060*-0x1+0x1453*0x3]=0x1f5f+0x211c+-0x407b,this['_shadowOff'+'setUniform'][-0x1de1*-0x1+0x62d+-0x347*0xb]=0x2679+0x4de+-0x2b57;else{const _0x47473f=-this['_font']['data']['info']['maps'][_0x1b5f01]['width']/this['_font']['data']['info']['maps'][_0x1b5f01]['height'];this['_shadowOff'+'setUniform'][-0x15e1+0xe46+-0xb1*-0xb]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x19fe+0x1779+0x143*0x2]=_0x47473f*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x606dcc['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x3db6b5['meshInstan'+'ce']=_0x606dcc,this['_model']['meshInstan'+'ces']['push'](_0x606dcc);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0xa64768&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0xc*-0x11b+-0x23b+0x19*-0x71,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x1101e6){_0x1101e6['destroy']();const _0x3b5f11=this['_model']['meshInstan'+'ces']['indexOf'](_0x1101e6);_0x3b5f11!==-(0x105b*0x2+0x105e+-0x3113)&&this['_model']['meshInstan'+'ces']['splice'](_0x3b5f11,0x2631*-0x1+-0x11f*-0x12+0x1204);}['_setMateri'+'al'](_0x3d1050){if(this['_material']=_0x3d1050,this['_model'])for(let _0x1daee2=-0x347+0x90d*-0x1+0xc54,_0x176b89=this['_model']['meshInstan'+'ces']['length'];_0x1daee2<_0x176b89;_0x1daee2++){const _0x10b812=this['_model']['meshInstan'+'ces'][_0x1daee2];_0x10b812['material']=_0x3d1050;}}['_updateMat'+'erial'](_0x11f73d){const _0x1317d2=this['_element'],_0x3d2dba=_0x1317d2['_isScreenC'+'ulled'](),_0x51ce0d=function(_0x1870b8){return _0x1317d2['isVisibleF'+'orCamera'](_0x1870b8);},_0x2648a8=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x11f73d,_0x2648a8,this['_enableMar'+'kup']),this['_model'])for(let _0x45ab01=0x1*-0x1d6d+-0x4dc+0x2249,_0x409bc6=this['_model']['meshInstan'+'ces']['length'];_0x45ab01<_0x409bc6;_0x45ab01++){const _0x59068b=this['_model']['meshInstan'+'ces'][_0x45ab01];_0x59068b['cull']=!_0x11f73d,_0x59068b['material']=this['_material'],_0x59068b['screenSpac'+'e']=_0x11f73d,_0x3d2dba?(_0x59068b['cull']=!(0x150f*0x1+-0x3*-0xc22+-0x3975),_0x59068b['isVisibleF'+'unc']=_0x51ce0d):_0x59068b['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0xd24+0x1a7d*0x1+-0x11*0xc9]=-0x14c2+-0x1767+-0x1615*-0x2,this['_colorUnif'+'orm'][-0xff*-0x2+0xd*0x1d9+0x2*-0xd01]=-0x1c08+-0x9a2+-0x1*-0x25ab,this['_colorUnif'+'orm'][-0xcf5+-0x1*0x17dd+0x935*0x4]=-0x2508+0x21fe+0x1*0x30b):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x9ff+0x1*0x234e+-0x194f]=Me['r'],this['_colorUnif'+'orm'][0x25fa+-0xd01*-0x1+-0x32fa]=Me['g'],this['_colorUnif'+'orm'][-0x15dd+0x7b7+-0xc*-0x12e]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x1*0x16e1+-0x7e4+-0x1*-0x1ec5]=-0x2*0xc11+-0x1da0+0x35c2,this['_outlineCo'+'lorUniform'][0x83*-0x49+0x769*-0x3+0x9*0x69f]=-0xe02+-0x987*0x1+0x1789,this['_outlineCo'+'lorUniform'][0x698+0x1*0x1403+-0x26b*0xb]=0x1*-0x18d1+-0x2cf*0x4+-0x240d*-0x1,this['_outlineCo'+'lorUniform'][0xa0*0x12+0x49e*0x2+-0x3*0x6d3]=-0x38*-0xab+0xfc*-0x1f+-0x29*0x2b):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x2c3+-0x166a*0x1+-0x1*-0x192d]=Me['r'],this['_outlineCo'+'lorUniform'][-0x2*-0x1145+0x2567*-0x1+0x2de*0x1]=Me['g'],this['_outlineCo'+'lorUniform'][0x221d+-0xc9f+-0x157c]=Me['b'],this['_outlineCo'+'lorUniform'][-0x690+0x2472+-0x9f5*0x3]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0xf8f+-0x22c9+0x3258]=-0xea2+0x1*0x6f7+0x7ab,this['_shadowCol'+'orUniform'][-0x1d14+0x362*-0x4+-0x1*-0x2a9d]=-0x186b+0x2536+-0xccb,this['_shadowCol'+'orUniform'][0x5dd+0xb0f+-0x10ea]=0x658+0x22bc+0x1de*-0x16,this['_shadowCol'+'orUniform'][0x324*0x8+0x22e0+-0x13ff*0x3]=-0x1a46+0xcd0+0x2*0x6bb):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x1*-0x20cd+0x1*0x2635+-0x568]=Me['r'],this['_shadowCol'+'orUniform'][-0x14dd+-0x2097+0x3575]=Me['g'],this['_shadowCol'+'orUniform'][0x11db+-0x34b*-0x7+-0x28e6]=Me['b'],this['_shadowCol'+'orUniform'][-0x1e07+0x1*-0x1ba7+-0x223*-0x1b]=Me['a']);}['_isWordBou'+'ndary'](_0x3e48cb){return fg['test'](_0x3e48cb);}['_isValidNe'+'xtChar'](_0x1c8594){return _0x1c8594!==null&&!IR['test'](_0x1c8594);}['_isNextCJK'+'Boundary'](_0x289d6e,_0x1ba55c){return pg['test'](_0x289d6e)&&(fg['test'](_0x1ba55c)||RR['test'](_0x1ba55c));}['_isNextCJK'+'WholeWord'](_0x5508b5){return pg['test'](_0x5508b5);}['_updateMes'+'hes'](){const _0x306a4f=this['_font']['data'],_0x5f5d50=this,_0x5b7024=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x3302e2=this['_maxFontSi'+'ze'],_0x47dfe2=this['_shouldAut'+'oFit']();_0x47dfe2&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x1da2e0=0x183a+-0x1f6+-0x34*0x6d,_0x4f69bf=this['_symbols']['length'];let _0x214316=0x17d4+-0x23d9+-0xc05*-0x1,_0x376cf3=-0x1*-0xdca+-0x76e*0x1+-0x65c,_0x1e03a3=-0x2290+0xc1*-0x23+0x3cf3,_0x4ec340=-0x220+0x2091+-0x1*0x1e71,_0x4b910c=-0x1861+0x64*0x6+0x160a,_0x583cfb=-0xcd*0x22+0x2296+-0x13a*0x6,_0x4eb3c0=-0x1*-0x196a+0x2*-0x879+-0x878,_0x4a4cf8=0xaa6*-0x1+-0x43d*-0x4+-0x6*0x10d,_0x5f3325=-0x1856+0x1e+0x9b*0x28,_0x1ac816=-0xc*-0xb+-0x1*0x13e9+0x1365,_0x4d81eb=-0x1080+0xe09*0x2+-0xb92;const _0x15995d=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x1c*0x61+0x247f+-0x2f1b+0.0001;let _0x21452a=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x15995d||!this['_wrapLines'])&&(_0x21452a=Number['POSITIVE_I'+'NFINITY']);let _0x473489=0x29*-0xe5+-0x12cc+0x3779*0x1,_0x1123fc=-0x17df+0x3d*0x98+-0x1d*0x6d,_0x2c0a85,_0x57b15b,_0x47bc0e,_0x3f394e;function _0x4db611(_0x2b4224,_0x32cf14,_0x51eefc){_0x5f5d50['_lineWidth'+'s']['push'](Math['abs'](_0x51eefc));const _0x14fbe0=_0x4a4cf8>_0x32cf14?_0x32cf14+(-0x76e*0x4+-0x1*-0x1393+0xa26):_0x4a4cf8,_0x17d035=_0x4a4cf8>_0x32cf14?_0x4a4cf8+(-0x1990+-0x1f79*0x1+0x390a):_0x32cf14,_0xd36f6a=_0x2b4224['slice'](_0x14fbe0,_0x17d035);if(_0x4d81eb){let _0x3f919b=_0xd36f6a['length'];for(;_0x3f919b--&&_0x4d81eb>-0x1144+-0xba0+0x2b*0xac;)ug['test'](_0xd36f6a[_0x3f919b])&&(_0xd36f6a['splice'](_0x3f919b,0x971+-0x1fb2+0x1642),_0x4d81eb--);}_0x5f5d50['_lineConte'+'nts']['push'](_0xd36f6a['join']('')),_0x214316=0x124*0x15+0x6*0x1eb+0xb2*-0x33,_0x376cf3-=_0x5f5d50['_scaledLin'+'eHeight'],_0x4b910c++,_0x5f3325=-0xa*0x1f9+-0x1*0xc46+0x10*0x200,_0x1ac816=0x2117+-0x139+-0x1fde,_0x4d81eb=0x829*0x3+-0x5ce+0x12ad*-0x1,_0x583cfb=-0x125*-0x17+0x3b*-0xa1+0xac8,_0x4a4cf8=_0x32cf14;}let _0x36445e=!(0x1c59+0x3e+0xd*-0x233);for(;_0x36445e;){_0x36445e=!(-0xc*0x28f+-0x344+0x21f9),_0x47dfe2?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x1235+0x1ad4+-0x1*0x89f+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x1*-0x1d39+0x1*0x235c+-0x1*0x623,this['height']=-0x19d0+-0x1d4f*0x1+0x371f,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x214316=0xf*-0x8f+0x2*-0x9fd+0x1c5b,_0x376cf3=-0x35*0x89+0x1354+0x303*0x3,_0x1e03a3=0x4+-0x79f+0x79b,_0x4ec340=0x2126+-0x25*0x56+0x14b8*-0x1,_0x4b910c=-0x152*0xc+0x17aa*0x1+-0x7d1,_0x583cfb=0x1bdb+0x1*0x2b3+-0x2*0xf47,_0x4eb3c0=-0x1c73*-0x1+-0x3*-0x9eb+-0x254*0x19,_0x4a4cf8=-0x23d9+0x16c8+0xf*0xdf,_0x5f3325=-0xe9c+0x17d1+-0x935,_0x1ac816=-0x2*0xa7+-0x124*0x1c+-0x73*-0x4a,_0x4d81eb=-0x830+0x6b*0x43+-0x13d1;const _0x541c9c=this['_fontSize']/_0x1da2e0;_0x473489=this['_fontMinY']*_0x541c9c,_0x1123fc=this['_fontMaxY']*_0x541c9c;for(let _0x27cd87=-0x1985+-0x7d+0x1a02;_0x27cd87<this['_meshInfo']['length'];_0x27cd87++)this['_meshInfo'][_0x27cd87]['quad']=-0x8d0+0x154a+0x63d*-0x2,this['_meshInfo'][_0x27cd87]['lines']={};let _0x33d2e4=-0xc8e*0x3+-0xdfb*-0x1+0x18ae,_0x2a6881=0x119c+-0x86*0x7+-0xcf3,_0x38ef3b=0x16af+0xc38+-0x21e8,_0x2f10af=-0x137c*0x1+-0x5*0x565+0x2f74+(-0x2*-0x81b+0x1b72+0x2aa9*-0x1)*(0x1c35*-0x1+-0x14e0+0x3215),_0x5ec010=0x23c5+-0x1*-0x1c4f+-0x3f15+(0x335*-0x2+-0xc1d*-0x1+-0x12d*0x4)*(-0x63a*-0x5+-0x1f7*-0x3+-0x1*0x2407),_0x19b952=-0xd62+0x24c4+-0x1762,_0x5f22af=-0x2701+-0x4*-0x1b+0x9e5*0x4+(-0x1*0x9a7+0x3cd+-0x6d9*-0x1)*(-0x3*-0x845+-0x4*0x5db+-0xb*0x9),_0x4138a1=-0x2096+0x1037+0x115e+(0x1*-0xc3d+-0x11eb+-0x113*-0x1d)*(0xceb*0x1+0x96c+-0x1557),_0x14b066=0x9d8*0x2+0x7ef+-0x1b20+(-0x20b7+0x184d*-0x1+0x3983)*(0xeba*0x2+-0x7*-0x2e7+-0xe3*0x37);for(let _0x2478de=0x1*-0x1301+0x87b+0xa86;_0x2478de<_0x4f69bf;_0x2478de++){if(_0x2c0a85=this['_symbols'][_0x2478de],_0x3f394e=_0x2478de+(0xf*0x2+-0x21a7+0x1dd*0x12)>=_0x4f69bf?null:this['_symbols'][_0x2478de+(-0x12e4+0x105d+0x288)],ug['test'](_0x2c0a85)){_0x4d81eb++,(!this['_wrapLines']||this['_maxLines']<0xc83+-0x207c+0x13f9||_0x4b910c<this['_maxLines'])&&(_0x4db611(this['_symbols'],_0x2478de,_0x4ec340),_0x4eb3c0=_0x2478de+(0x23ae+0x1986+-0x1*0x3d33),_0x4a4cf8=_0x2478de+(-0x21aa+0x1318+-0x215*-0x7));continue;}let _0x348575=-0x1033+0x1c61+-0xc2e,_0x1d53ac=0x200c+0x2f8+-0x2304,_0x1f1ee1=0x9*-0x34b+0x1e*0x71+0x1*0x1065,_0x5f0c74=0x5*-0x58f+0x9*0x6b+0x1809,_0x387b86,_0x2c951b;if(_0x57b15b=_0x306a4f['chars'][_0x2c0a85],!_0x57b15b){if(DR['indexOf'](_0x2c0a85)!==-(0x16a*-0x10+-0x1c35+0x32d6))_0x57b15b=LR;else{if(_0x306a4f['chars']['\x20'])_0x57b15b=_0x306a4f['chars']['\x20'];else for(const _0x268477 in _0x306a4f['chars']){_0x57b15b=_0x306a4f['chars'][_0x268477];break;}_0x306a4f['missingCha'+'rs']||(_0x306a4f['missingCha'+'rs']=new Set()),_0x306a4f['missingCha'+'rs']['has'](_0x2c0a85)||(console['warn']('Character\x20'+'\x27'+_0x2c0a85+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x306a4f['info']['face']),_0x306a4f['missingCha'+'rs']['add'](_0x2c0a85));}}if(_0x57b15b){let _0x57b4f3=0x13c+0x11d*-0x18+-0x2*-0xcbe;if(_0x1ac816>0x1*-0x1d92+0xf28+0xe6a){const _0x2db50d=this['_font']['data']['kerning'];if(_0x2db50d){const _0x5036de=_0x2db50d[ah['getCodePoi'+'nt'](this['_symbols'][_0x2478de-(-0x1*-0xbba+-0xc58+0x9f)])||0xf00*-0x1+0x1*-0x1306+-0x2*-0x1103];_0x5036de&&(_0x57b4f3=_0x5036de[ah['getCodePoi'+'nt'](this['_symbols'][_0x2478de])||0xfb*-0x1+0xe17+0xd1c*-0x1]||0x2e6+-0x67d+0x397*0x1);}}_0x387b86=_0x57b15b['scale']||0x34a*-0x1+-0x51*0x3b+0x752*0x3,_0x2c951b=(_0x57b15b['width']+_0x57b15b['height'])/(0x3c2*0x6+-0xe*-0x203+-0x32b4),_0x5f0c74=_0x541c9c*_0x2c951b/_0x387b86,_0x1f1ee1=(_0x57b15b['xadvance']+_0x57b4f3)*_0x541c9c,_0x348575=(_0x57b15b['xoffset']-_0x57b4f3)*_0x541c9c,_0x1d53ac=_0x57b15b['yoffset']*_0x541c9c;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x2c0a85+'\x27');const _0x4f2fef=PR['test'](_0x2c0a85),_0x360d72=_0x57b15b&&_0x57b15b['map']||0x1876*0x1+-0x4d6+0x8*-0x274,_0x892353=-this['_font']['data']['info']['maps'][_0x360d72]['width']/this['_font']['data']['info']['maps'][_0x360d72]['height'],_0x2b50fd=this['_meshInfo'][_0x360d72],_0x3b46b1=_0x214316+this['_spacing']*_0x1f1ee1;if(_0x3b46b1>_0x21452a&&_0x1ac816>-0x29f*-0x1+0x19a*0xc+-0x15d7&&!_0x4f2fef&&(this['_maxLines']<0x828+-0x89d+0xd*0x9||_0x4b910c<this['_maxLines'])){if(_0x5f3325===-0x2*0x693+-0x1*-0x1e51+0x112b*-0x1)_0x4eb3c0=_0x2478de,_0x4db611(this['_symbols'],_0x2478de,_0x4ec340);else{const _0x1967ef=Math['max'](_0x2478de-_0x4eb3c0,0x910+0xeda+0xbf5*-0x2);if(this['_meshInfo']['length']<=0xdf1+-0x2fb*0x2+-0x2*0x3fd)_0x2b50fd['lines'][_0x4b910c-(0x19*-0x86+-0x2*-0x45a+0x463)]-=_0x1967ef,_0x2b50fd['quad']-=_0x1967ef;else{const _0x2d5ca6=_0x4eb3c0,_0x3c40a5=_0x2478de;for(let _0x1393ee=_0x2d5ca6;_0x1393ee<_0x3c40a5;_0x1393ee++){const _0x22fcd2=this['_symbols'][_0x1393ee],_0x16d352=_0x306a4f['chars'][_0x22fcd2],_0x36c434=this['_meshInfo'][_0x16d352&&_0x16d352['map']||0xf2b+-0xbdf+0x1*-0x34c];_0x36c434['lines'][_0x4b910c-(0x1*-0x172d+-0x236f+0x3a9d)]-=-0x2*-0x396+-0x369*0xb+0xf2c*0x2,_0x36c434['quad']-=-0xe50+-0x1*0xa9a+0x18eb*0x1;}}_0x2478de-=_0x1967ef+(0x17bc+-0xa08+-0xdb3),_0x4db611(this['_symbols'],_0x4eb3c0,_0x583cfb);continue;}}_0x47bc0e=_0x2b50fd['quad'],_0x2b50fd['lines'][_0x4b910c-(0x2072+-0x7*-0x3b3+-0x3a56)]=_0x47bc0e;let _0x20ee63=_0x214316-_0x348575,_0x38c464=_0x20ee63+_0x5f0c74;const _0xb194c8=_0x376cf3-_0x1d53ac,_0x65c235=_0xb194c8+_0x5f0c74;if(this['_rtl']){const _0x1c960a=_0x5f0c74-_0x348575-this['_spacing']*_0x1f1ee1-_0x348575;_0x20ee63-=_0x1c960a,_0x38c464-=_0x1c960a;}_0x2b50fd['positions'][_0x47bc0e*(0x1bff*-0x1+-0x5fd+-0x22*-0x100)*(0x2236+-0x1000+-0x3*0x611)+(0x9af+-0x1*-0x258f+-0x2*0x179f)]=_0x20ee63,_0x2b50fd['positions'][_0x47bc0e*(0x1d68+0x7c7+-0x252b)*(0x1d*-0x44+0x1336+-0xb7f)+(-0x2258+-0x16*-0xa1+-0x59*-0x3b)]=_0xb194c8,_0x2b50fd['positions'][_0x47bc0e*(0x896+0x1832+-0x20c4)*(0xfb9+-0x1b7*0x1+-0xdff)+(0x684+0x2185+-0x2807)]=_0x1e03a3,_0x2b50fd['positions'][_0x47bc0e*(0x25c3+-0x1fde+0xd7*-0x7)*(0xb*-0x373+0x26da+-0xe6)+(0x1*0x195e+-0x2*-0x5c9+-0xc4f*0x3)]=_0x38c464,_0x2b50fd['positions'][_0x47bc0e*(-0x1*-0x11c1+0x7c3*-0x5+0x1512)*(0x1f*-0x89+-0x1*-0x8f7+-0x17*-0x55)+(-0x3*0x1+0xaa0+-0x1*0xa99)]=_0xb194c8,_0x2b50fd['positions'][_0x47bc0e*(0x3c6+0x1*-0xfc7+0xb5*0x11)*(-0x893+-0x2619+0x2eaf)+(-0x14f3+0x5ed*0x5+0x1*-0x8a9)]=_0x1e03a3,_0x2b50fd['positions'][_0x47bc0e*(-0x1acc+-0x2560*-0x1+-0x34*0x34)*(0x1942+0x13c1+-0x1*0x2d00)+(-0x1ea6+0x1f81*-0x1+0x5a7*0xb)]=_0x38c464,_0x2b50fd['positions'][_0x47bc0e*(0x1*-0x1b37+0xbb7+0xf84)*(-0x20c4+0x1df1+0x2d6)+(-0x146f+-0x10cb+0x2541)]=_0x65c235,_0x2b50fd['positions'][_0x47bc0e*(0x17b7+0xd20+-0x1*0x24d3)*(0x43f*-0x7+0x3dc+0x19e0)+(0x1*0x12d3+-0x8a2+-0xa29)]=_0x1e03a3,_0x2b50fd['positions'][_0x47bc0e*(0x1a*-0x22+-0x25d+-0x5d5*-0x1)*(-0xf17+0x79c+0x77e)+(0x5*-0x2fb+-0x95*0x26+0x5d*0x66)]=_0x20ee63,_0x2b50fd['positions'][_0x47bc0e*(0x12d4*-0x1+0x106*0x11+0x1*0x172)*(0x1*-0x2268+-0x2308+0x4573*0x1)+(-0x88*-0xc+-0x1402+0xdac)]=_0x65c235,_0x2b50fd['positions'][_0x47bc0e*(-0x2261+0x1540+0x5*0x2a1)*(-0x1396+-0x222a+0x35c3)+(-0x1d46*0x1+0x782*-0x3+0x33d7)]=_0x1e03a3,this['width']=Math['max'](this['width'],_0x3b46b1);let _0x1a66fe;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x1a66fe=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0xbf*0x2+-0x78*0x45+0x7a*0x47+0.0001)),_0x1a66fe=N['clamp'](_0x1a66fe,_0x5b7024,_0x3302e2),_0x1a66fe!==this['_element']['fontSize'])){this['_fontSize']=_0x1a66fe,_0x36445e=!(-0x17ce+-0x232*-0x7+-0x1e*-0x48);break;}if(this['height']=Math['max'](this['height'],_0x1123fc-(_0x376cf3+_0x473489)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x1a66fe=N['clamp'](this['_fontSize']-(0x122a+0x222b+-0x1a2a*0x2),_0x5b7024,_0x3302e2),_0x1a66fe!==this['_element']['fontSize'])){this['_fontSize']=_0x1a66fe,_0x36445e=!(0xb*0x301+0x14*-0x8+-0x206b);break;}_0x214316+=this['_spacing']*_0x1f1ee1,_0x4f2fef||(_0x4ec340=_0x214316),(this['_isWordBou'+'ndary'](_0x2c0a85)||this['_isValidNe'+'xtChar'](_0x3f394e)&&(this['_isNextCJK'+'Boundary'](_0x2c0a85,_0x3f394e)||this['_isNextCJK'+'WholeWord'](_0x3f394e)))&&(_0x5f3325++,_0x583cfb=_0x4ec340,_0x4eb3c0=_0x2478de+(-0x259a+-0x15e1*-0x1+0x7a*0x21)),_0x1ac816++;const _0x4b6138=this['_getUv'](_0x2c0a85);if(_0x2b50fd['uvs'][_0x47bc0e*(0xe44+-0x146c+0x62c*0x1)*(0x15f7*-0x1+0x770+0x1*0xe89)+(0x1f*-0x6a+-0x1e0*-0x7+-0x25*0x2)]=_0x4b6138[-0x3d*0x65+-0x8*-0x73+-0x6d3*-0x3],_0x2b50fd['uvs'][_0x47bc0e*(0x1*-0x131b+0xad*-0x21+0x1*0x296c)*(0x3*-0xb2f+0xd95+0x13fa)+(-0x28*-0x8d+0x4*0x687+-0x3023)]=-0xb02*0x2+-0x121c+0x2821-_0x4b6138[0x2*-0x685+0xb*0xcb+0x452],_0x2b50fd['uvs'][_0x47bc0e*(-0x11d1*0x2+-0xd06*0x1+0x30ac)*(0x1173+0x24d+0x2d2*-0x7)+(0x4cc*0x4+-0x1028+0x3*-0x102)]=_0x4b6138[-0xbfc+0x260a+0x1*-0x1a0c],_0x2b50fd['uvs'][_0x47bc0e*(0x1b56*-0x1+-0xdbd+0x2917)*(-0x3*-0x62f+-0xb5*0xf+-0x7f0)+(-0x233*-0x6+0x1*-0x183b+0x4*0x2c3)]=-0x1cc0+-0x1bd2+-0x1*-0x3893-_0x4b6138[-0x9*-0x408+0x1d5c+-0x41a3],_0x2b50fd['uvs'][_0x47bc0e*(0x243c+-0x1996+-0xaa2*0x1)*(-0x1e7a+0x1c89+0x1f3*0x1)+(-0x1a*-0x5+0x2107+-0x2185)]=_0x4b6138[0xabd+0x3a*-0x5d+0xa57],_0x2b50fd['uvs'][_0x47bc0e*(0x2*0x132f+-0x9*0x340+-0x91a)*(0xbe9+-0x2412+-0x17*-0x10d)+(0x1*0x117e+-0x10fb+-0x7e)]=0x2a1*-0x1+0x51d+0x7f*-0x5-_0x4b6138[0x18ab+0x1faa+-0x3852],_0x2b50fd['uvs'][_0x47bc0e*(-0x122e+0x98b+0x8a7*0x1)*(-0x8ed+-0x432+0xd21)+(-0xb1e+-0xe42*0x2+-0x468*-0x9)]=_0x4b6138[-0xb49+-0x2439+0x7eb*0x6],_0x2b50fd['uvs'][_0x47bc0e*(-0x13c7+-0x22a3+-0x366e*-0x1)*(0xed2+0xa89+0x7*-0x39f)+(0x1d71+-0x1*-0x1145+-0x2eaf)]=-0x3*-0x49f+0xd7*-0x17+0x575*0x1-_0x4b6138[-0xa63+-0x7b6+0x121c],this['_symbolCol'+'ors']){const _0x5490d7=this['_symbolCol'+'ors'][_0x2478de]*(0x261a+-0x1514+0x41*-0x43);_0x33d2e4=this['_colorPale'+'tte'][_0x5490d7],_0x2a6881=this['_colorPale'+'tte'][_0x5490d7+(-0x1*-0x1efe+-0x2319+0x41c)],_0x38ef3b=this['_colorPale'+'tte'][_0x5490d7+(0x336+0x455*-0x1+0x121)];}if(_0x2b50fd['colors'][_0x47bc0e*(-0x201a+-0x22bb*0x1+-0x1*-0x42d9)*(0x1a8d+0x108b*-0x2+-0x1*-0x68d)+(-0xafd+-0x57d*0x6+-0x1*-0x2beb)]=_0x33d2e4,_0x2b50fd['colors'][_0x47bc0e*(-0x1*-0x470+0x2*0xd13+-0x1e92)*(-0x33*-0xb7+-0xcd0+-0x17a1)+(-0xcee+-0x2*0x534+0x1757)]=_0x2a6881,_0x2b50fd['colors'][_0x47bc0e*(-0xd89+-0x1657+0x8f9*0x4)*(-0x1a2c+0x58*-0x3d+0x2f28)+(-0x167b+0x1526+0x157)]=_0x38ef3b,_0x2b50fd['colors'][_0x47bc0e*(0x1bcb+0x3*-0xd3+-0x9e*0x29)*(-0x1097+-0x33e+0x13d9)+(0x2214+-0x3e9+-0x1e28*0x1)]=-0x26ef*0x1+-0x58b+0x2d79,_0x2b50fd['colors'][_0x47bc0e*(0x1318+-0x1183+0x191*-0x1)*(-0xb*-0xfb+0xca*-0x27+0x1401)+(0x479+-0x2544+0x20cf)]=_0x33d2e4,_0x2b50fd['colors'][_0x47bc0e*(-0x1196+0x765*-0x1+-0x18ff*-0x1)*(-0x47*-0x7b+0x25f2+-0x1*0x480b)+(0x3c4*0x3+0x221b+-0x2d62)]=_0x2a6881,_0x2b50fd['colors'][_0x47bc0e*(-0xa*-0x1db+-0xb39+0x1*-0x751)*(0x2373+-0x667+0x8*-0x3a1)+(-0x20c6+-0xeb1*-0x1+0x121b)]=_0x38ef3b,_0x2b50fd['colors'][_0x47bc0e*(0xdf2+-0x20f*0xb+0x61*0x17)*(0x1eaf*0x1+-0x2155+0x2aa)+(-0x1ef3+0x2*-0x36d+0x25d4)]=0x25+-0x1c7+0x2a1,_0x2b50fd['colors'][_0x47bc0e*(0xdd*0xf+0xe90+0x1b7f*-0x1)*(-0x1*-0xee9+-0xe12+-0xd3)+(0xa03+0x16e2+-0x20dd)]=_0x33d2e4,_0x2b50fd['colors'][_0x47bc0e*(-0x1e26+0x182d+0x5fd)*(0x3ae*0x9+-0x183a+-0x10*0x8e)+(0x1cf*0x9+-0xb*0x56+-0xc8c)]=_0x2a6881,_0x2b50fd['colors'][_0x47bc0e*(-0x1*-0x24d7+-0x7dc*-0x2+-0x348b)*(-0x11bf+-0x1aad+-0x1da*-0x18)+(0x1*0xfe9+-0x181c+0x6f*0x13)]=_0x38ef3b,_0x2b50fd['colors'][_0x47bc0e*(0x2f*-0xca+-0x25b*-0xb+0xb31)*(-0x2f*0x3d+-0x1904+0x243b)+(0x1182+0x25d*0x9+-0x26bc)]=0x25*0xc2+-0xf8*0x18+-0x1*0x3cb,_0x2b50fd['colors'][_0x47bc0e*(-0x7ec+0xfb5+-0x7c5)*(0x2591+-0x16b3*-0x1+-0x3c40)+(0x14d*0x12+-0x1a01+0x2a3)]=_0x33d2e4,_0x2b50fd['colors'][_0x47bc0e*(-0x3*-0x79d+0x258a+-0x3c5d)*(-0x1*0x2357+0x74f*0x5+-0x130)+(0x1e9a+-0xa1f*0x3+-0x30)]=_0x2a6881,_0x2b50fd['colors'][_0x47bc0e*(0xf96+-0x11*0x1d6+0xb6*0x16)*(-0x1*0x134+-0xb*-0x3d+0x1*-0x167)+(-0x97e+-0x220a+-0x63a*-0x7)]=_0x38ef3b,_0x2b50fd['colors'][_0x47bc0e*(0x4c4*-0x6+-0x1*-0x2b6+0x19e6)*(0xc1a+0x6*0x2bd+-0x1c84)+(-0x1e9f+-0x16f*0xb+-0x205*-0x17)]=0xccb+-0x110c+0x540,this['_symbolOut'+'lineParams']){const _0x4dde0a=this['_symbolOut'+'lineParams'][_0x2478de]*(0x3d*0x66+-0x1e66+0x61d);_0x2f10af=this['_outlinePa'+'lette'][_0x4dde0a]+this['_outlinePa'+'lette'][_0x4dde0a+(-0x1375*-0x1+-0x3d*-0x61+-0x2a91)]*(0xe0f+-0x20f5+0x13e6),_0x5ec010=this['_outlinePa'+'lette'][_0x4dde0a+(0x257e+-0x1*0x498+-0x1a5*0x14)]+this['_outlinePa'+'lette'][_0x4dde0a+(-0x1*-0x6d2+0x1b82+-0x23*0xfb)]*(-0x1031+0x1a6*0x1+0xf8b),_0x19b952=this['_outlinePa'+'lette'][_0x4dde0a+(-0x2565+-0x1752+0x3cbb)];}if(_0x2b50fd['outlines'][_0x47bc0e*(-0x1*-0x1faf+-0x225b+0x2b0)*(-0xe49+0x96e+0x2*0x26f)+(0x676+-0x1f*-0x3+-0x6d3)]=_0x2f10af,_0x2b50fd['outlines'][_0x47bc0e*(0x197*0x2+0x1*-0x1ada+0x1*0x17b0)*(-0x1*0x904+-0x1aba+-0x3*-0xbeb)+(-0xbea+-0x12e*0xd+0x1b41)]=_0x5ec010,_0x2b50fd['outlines'][_0x47bc0e*(-0x1249+-0x1de7+0x3034)*(0x1407+-0x1e7c+0xa78)+(-0x2188+0xa7*-0x10+0x2bfa)]=_0x19b952,_0x2b50fd['outlines'][_0x47bc0e*(-0xb39+0x1f34*-0x1+0x87d*0x5)*(-0x1f17+-0xd28+0x2c42)+(-0x2401+-0x10e7*-0x1+0x131d)]=_0x2f10af,_0x2b50fd['outlines'][_0x47bc0e*(-0x1a7d+0x1760+-0x9*-0x59)*(0x10be+0x2565+-0x20*0x1b1)+(0x5e8+0x19f+-0x783)]=_0x5ec010,_0x2b50fd['outlines'][_0x47bc0e*(-0x9be+-0x26e9+-0x3*-0x1039)*(0x365*-0x2+-0x1f40+-0x23d*-0x11)+(0x57*0x31+0x1*-0x2182+-0x1e*-0x90)]=_0x19b952,_0x2b50fd['outlines'][_0x47bc0e*(0x13ab+-0x270b+-0x4*-0x4d9)*(0x2f9*0x3+0x1*0x111e+-0x1a06)+(-0x20*0xf8+-0x68c+0x643*0x6)]=_0x2f10af,_0x2b50fd['outlines'][_0x47bc0e*(0x40*-0x4a+0x1*-0xddd+-0x1b*-0x133)*(-0x2394+0x2d3*0xc+0x1b3)+(-0x40*0x13+0x348+0x17f)]=_0x5ec010,_0x2b50fd['outlines'][_0x47bc0e*(0x4d*0x78+-0x9c7*-0x2+0x1*-0x37a2)*(-0x23be+-0x1e50+0x515*0xd)+(0x8d*-0x34+0x3e3+0x18c9)]=_0x19b952,_0x2b50fd['outlines'][_0x47bc0e*(0x1*0xf25+-0x1c04+0xce3)*(0xaea+0x6b6+0x1f5*-0x9)+(-0x1c5*0xc+0xfe7+0x55e)]=_0x2f10af,_0x2b50fd['outlines'][_0x47bc0e*(0x2*-0x1007+0x3b0+0x1c62)*(-0x121*-0x10+0x1bec*0x1+-0xf53*0x3)+(0x99+0x2679+0x4*-0x9c2)]=_0x5ec010,_0x2b50fd['outlines'][_0x47bc0e*(0x1cf3*-0x1+0x3*0x46b+0xfb6)*(-0xb*-0x52+0x8*-0xf4+0x41d)+(0x1*-0x2532+-0x3*-0x3f9+0x1*0x1952)]=_0x19b952,this['_symbolSha'+'dowParams']){const _0x405c34=this['_symbolSha'+'dowParams'][_0x2478de]*(-0x2123*-0x1+-0x4b*-0x28+-0x2cd5);_0x5f22af=this['_shadowPal'+'ette'][_0x405c34]+this['_shadowPal'+'ette'][_0x405c34+(-0x23ef*0x1+0x28*-0xa1+0x3d18)]*(-0x3b9*0x8+-0x15d8+0xd28*0x4),_0x4138a1=this['_shadowPal'+'ette'][_0x405c34+(-0x1e31*-0x1+-0x1687+-0x7a8)]+this['_shadowPal'+'ette'][_0x405c34+(-0x50*0x68+0x22b8*-0x1+0x433b)]*(0x254c+-0xe3*0x1+-0x103*0x23),_0x14b066=this['_shadowPal'+'ette'][_0x405c34+(-0x424*0x3+-0x1e53+-0x10b*-0x29)]+(-0x1*-0x1a43+0x21de+-0x1c1*0x22)+Math['round'](_0x892353*this['_shadowPal'+'ette'][_0x405c34+(0x10a1+-0x1583+0x4e7)]+(-0x2d*-0x53+0x1d*0x10b+-0x2c57))*(0x1e6b+0x4a6+0x3*-0xb5b);}_0x2b50fd['shadows'][_0x47bc0e*(-0x2*-0x1277+-0x19cc+-0xb1e)*(0xa7*0x13+0x671*0x5+-0x2c97)+(0xc25+-0xe3*-0x1f+-0x27a2)]=_0x5f22af,_0x2b50fd['shadows'][_0x47bc0e*(-0x6d*0x10+0x7f*-0x25+-0x7*-0x399)*(-0x20f6*0x1+-0x2*-0x965+0xe2f)+(0x1ced+0x33c+0x80a*-0x4)]=_0x4138a1,_0x2b50fd['shadows'][_0x47bc0e*(-0x515+0x2706+-0x21ed)*(-0x182*-0x11+0x1*0x341+-0x1ce0)+(0x104c+0xf99+-0x3*0xaa1)]=_0x14b066,_0x2b50fd['shadows'][_0x47bc0e*(0xe17+0x1*-0x521+-0x8f2)*(-0x20*0x112+0x259d*0x1+-0x42*0xd)+(-0x103c+-0x1c*-0x135+-0x118d*0x1)]=_0x5f22af,_0x2b50fd['shadows'][_0x47bc0e*(0x4a5+-0x1c73+0x17d2)*(-0x3d1*0x1+0x91b+-0x547)+(-0x1908+-0x49*-0xb+-0x4f*-0x47)]=_0x4138a1,_0x2b50fd['shadows'][_0x47bc0e*(-0x1a*-0x137+0x750+-0x26e2)*(0x1df8+-0x2318+-0x1*-0x523)+(0x24af*0x1+-0x15d1+0x15*-0xb5)]=_0x14b066,_0x2b50fd['shadows'][_0x47bc0e*(-0xbe8+-0x44c+0x1038)*(0x467*-0x1+0x9c3+-0x559)+(0xe5*0x4+-0xa9*0x34+-0x6*-0x521)]=_0x5f22af,_0x2b50fd['shadows'][_0x47bc0e*(0x1da8+-0x1*0x5d3+-0x17d1)*(0x26c+-0x15df*-0x1+-0x8*0x309)+(0x199*-0xe+-0x685+0x1cea)]=_0x4138a1,_0x2b50fd['shadows'][_0x47bc0e*(-0xcaf*-0x2+-0x301*0xd+-0x15*-0xa7)*(0x500+-0x1d*-0xdf+0x8*-0x3c8)+(0x236b+0x2*-0x64d+0x133*-0x13)]=_0x14b066,_0x2b50fd['shadows'][_0x47bc0e*(-0x29*-0x9+0x1*-0x842+0x6d5)*(0x2*-0x3fb+0x1*-0x1b73+0x236c)+(0x1f97+0x1dd4+0x61*-0xa2)]=_0x5f22af,_0x2b50fd['shadows'][_0x47bc0e*(-0x1ea2+-0x23d4*0x1+0x427a)*(0xa*-0x33b+-0x2*-0x95c+0xd99*0x1)+(-0x19ee+-0x3*0x127+-0x1*-0x1d6d)]=_0x4138a1,_0x2b50fd['shadows'][_0x47bc0e*(0xeb7+-0xc*0x28d+0xfe9)*(-0x469+-0x19cb+0x11*0x1c7)+(0x2662+0x2039+-0x4690)]=_0x14b066,_0x2b50fd['quad']++;}_0x36445e||_0x4a4cf8<_0x4f69bf&&_0x4db611(this['_symbols'],_0x4f69bf,_0x214316);}this['_noResize']=!(0x1*0x2666+-0x2*-0x859+-0x56*0xa4),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x2b*0x7d+0x5*0x50a+-0x1*0x2e30);const _0x3ac04f=this['_element']['pivot']['x'],_0xb07719=this['_element']['pivot']['y'],_0x591c37=this['_alignment']['x'],_0x3c2049=this['_alignment']['y'];for(let _0x23006d=-0x11a*-0x15+0x2*-0xd83+0x3e4;_0x23006d<this['_meshInfo']['length'];_0x23006d++){if(this['_meshInfo'][_0x23006d]['count']===-0x269*-0x3+0xfb*0x25+-0x1*0x2b82)continue;let _0x4f50aa=-0x247d+-0xf6e+0x33eb;for(const _0x5dd606 in this['_meshInfo'][_0x23006d]['lines']){const _0x131ef2=this['_meshInfo'][_0x23006d]['lines'][_0x5dd606],_0x125d1e=this['_lineWidth'+'s'][parseInt(_0x5dd606,-0x8*0x32f+0x999+-0x1*-0xfe9)],_0x4db3f1=-_0x3ac04f*this['_element']['calculated'+'Width']+_0x591c37*(this['_element']['calculated'+'Width']-_0x125d1e)*(this['_rtl']?-(-0x1297+0xb8*0x2c+-0xd08):0x26e5+-0x410+-0x3*0xb9c),_0x2f9449=(0x5c+0x13*0x1d3+-0xa6*0x36-_0xb07719)*this['_element']['calculated'+'Height']-_0x1123fc-(-0x7*-0xa9+-0x1*-0x1819+-0x1cb7*0x1-_0x3c2049)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x1578ca=_0x4f50aa;_0x1578ca<=_0x131ef2;_0x1578ca++)this['_meshInfo'][_0x23006d]['positions'][_0x1578ca*(0xe9*0x2+0x2*-0xf4d+0x1ccc)*(-0x29*0xe5+0x1ae2+-0x2*-0x4e7)]+=_0x4db3f1,this['_meshInfo'][_0x23006d]['positions'][_0x1578ca*(-0x1c8c+-0xd3*-0x22+0x8a)*(0x2597*-0x1+-0x2366+0x4900)+(0x8a*0xe+-0x25b7*0x1+0x1e2e)]+=_0x4db3f1,this['_meshInfo'][_0x23006d]['positions'][_0x1578ca*(-0x253d*-0x1+0x1ea1+-0x43da*0x1)*(-0x1*0x1079+-0x13ea+0x2466)+(0x19*0x143+-0x10f3*-0x1+-0x16*0x234)]+=_0x4db3f1,this['_meshInfo'][_0x23006d]['positions'][_0x1578ca*(0x8dc+0x33*0xb3+0x2c81*-0x1)*(-0x2325+0x1d8f+0x1*0x599)+(0x1935+-0x1*-0x19ed+-0x3319)]+=_0x4db3f1,this['_meshInfo'][_0x23006d]['positions'][_0x1578ca*(0x2*0x836+0x159a+0xa*-0x3cd)*(0x35*0x89+0x3*0x305+0x1*-0x2569)+(0x992+-0x26a8+0x1d17)]+=_0x2f9449,this['_meshInfo'][_0x23006d]['positions'][_0x1578ca*(-0x901*0x1+-0x1*-0x1fb1+-0x5ab*0x4)*(0x59*0x35+-0x1d77+-0x7b*-0x17)+(-0x8*-0x3e1+-0x71d*0x3+0x1*-0x9ad)]+=_0x2f9449,this['_meshInfo'][_0x23006d]['positions'][_0x1578ca*(0x1*0x1049+-0x1b7b*0x1+-0x11f*-0xa)*(0xa7e+-0xb1b*0x3+-0x4f*-0x4a)+(-0x47*-0x43+-0xc1b+-0x673)]+=_0x2f9449,this['_meshInfo'][_0x23006d]['positions'][_0x1578ca*(0x1975+0xd03*-0x1+-0x2*0x637)*(0xa6d+0xf0d+-0x1977)+(-0x1f3c+-0x2*-0x1126+-0x306)]+=_0x2f9449;if(this['_rtl'])for(let _0x5e8a6c=_0x4f50aa;_0x5e8a6c<=_0x131ef2;_0x5e8a6c++){const _0x35a8f8=_0x5e8a6c*(0x3*0x295+-0x45*-0x2+-0x845)*(-0x1*0x6c8+-0x511+-0x84*-0x17);for(let _0x1c8907=-0x1a10+0x2*-0xe5c+0x36c8;_0x1c8907<0x1*0x1f67+-0xe*-0x86+-0x26b7;++_0x1c8907)this['_meshInfo'][_0x23006d]['positions'][_0x35a8f8+_0x1c8907*(-0x2b5+-0xa2c+0x19*0x84)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x23006d]['positions'][_0x35a8f8+_0x1c8907*(0x1*-0x2531+0xc83+-0x81*-0x31)]+_0x4db3f1*(-0x2366+0x1*-0x17f7+0x3b5f);const _0xec4e8=this['_meshInfo'][_0x23006d]['positions'][_0x35a8f8+(0xcb3*-0x3+0xa*0xbc+0x1ec4)],_0x1a5582=this['_meshInfo'][_0x23006d]['positions'][_0x35a8f8+(-0xa46*-0x2+0x487+-0x190d)];this['_meshInfo'][_0x23006d]['positions'][_0x35a8f8+(-0x13ea*0x1+0xbe1*-0x1+0x1fce)]=this['_meshInfo'][_0x23006d]['positions'][_0x35a8f8+(-0x2b3*-0xd+0xfad*0x1+0xe4*-0x39)],this['_meshInfo'][_0x23006d]['positions'][_0x35a8f8+(0x4b*-0x1a+0xf69+0x3*-0x297)]=this['_meshInfo'][_0x23006d]['positions'][_0x35a8f8+(0x7b4+-0x4c2*-0x6+-0x1*0x2437)],this['_meshInfo'][_0x23006d]['positions'][_0x35a8f8+(-0x1*-0x2227+-0x12f9*0x1+0x1*-0xf2e)]=_0xec4e8,this['_meshInfo'][_0x23006d]['positions'][_0x35a8f8+(-0x7*-0x9d+0x17c+-0x5be)]=_0x1a5582;}_0x4f50aa=_0x131ef2+(0x2*0x71b+0x244e+-0x3283);}const _0x1e0df4=this['_meshInfo'][_0x23006d]['count']*(-0x2*0xa1b+0x108b+0x17*0x29),_0xed76df=this['_meshInfo'][_0x23006d]['quad']*(-0x1*-0x2d9+-0x2*-0xde4+-0x1cd*0x11),_0x542997=new go(this['_meshInfo'][_0x23006d]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x40f744=-0xd*-0x169+0x1cbd*0x1+0x96a*-0x5;_0x40f744<_0x1e0df4;_0x40f744++)_0x40f744>=_0xed76df?(_0x542997['element'][He]['set'](0x2bf*0xd+-0x908+0x1aab*-0x1,-0x1e22+0x1019*-0x1+0x2d*0x107,0x5*-0x61+-0xd1e*0x1+0xf03),_0x542997['element'][ns]['set'](-0xc89*0x1+0xe7*0x26+0x1*-0x15c1,-0x1b8+0x1e57*-0x1+0x1d*0x11b),_0x542997['element'][At]['set'](-0x1*0x146f+0x2b3+0x11bc,0x15f5+-0x35*-0x3f+0x8*-0x460,-0x1a7f+0x90d+0x1172,0x1bbe+-0x1365*-0x1+-0x2f23),_0x542997['element'][Po]['set'](0x2*0x713+0x109*0x1+-0xf2f,-0x22f5*-0x1+-0x1*0x25cd+0x2d8,-0x22e6+-0x77a+0x2a60,-0x3d1+0x1de*0x14+-0x1*0x2187),_0x542997['element'][Ro]['set'](0x3a9*0x5+0xaf9+-0x1d46,0x267a+0x6a9+-0x2d23,0x3*-0x91e+-0x12f*0x1a+-0x3e*-0xf0,0x1ed9+-0x165b+-0x43f*0x2)):(_0x542997['element'][He]['set'](this['_meshInfo'][_0x23006d]['positions'][_0x40f744*(0x137*0x1f+-0x54*-0x5c+0x1*-0x43d6)+(-0x394+0x46a+-0xd6)],this['_meshInfo'][_0x23006d]['positions'][_0x40f744*(-0xa*0xd8+-0x9e2+0x1255)+(-0x16ae+-0x1451+0x2b00)],this['_meshInfo'][_0x23006d]['positions'][_0x40f744*(-0xc1c+0x4a*-0x12+0x1153)+(-0x4ce+-0xe1d*-0x1+-0x94d)]),_0x542997['element'][ns]['set'](this['_meshInfo'][_0x23006d]['uvs'][_0x40f744*(0x1755+0x1*0x11e7+-0x293a)+(-0x130e+0x192a*-0x1+0x28*0x11b)],this['_meshInfo'][_0x23006d]['uvs'][_0x40f744*(-0x53*-0x39+0x4*0x13e+-0x1771)+(-0x35*0x5+-0x1*0x22c2+-0x4f*-0x74)]),_0x542997['element'][At]['set'](this['_meshInfo'][_0x23006d]['colors'][_0x40f744*(0x206f+-0x6b*-0x4f+-0x6*0xae8)+(-0x669*-0x1+0x13a8*0x1+-0x1a11)],this['_meshInfo'][_0x23006d]['colors'][_0x40f744*(-0x24bb+-0x44a*-0x2+0x1c2b)+(0x192c+-0x1*0x22e4+0x9b9)],this['_meshInfo'][_0x23006d]['colors'][_0x40f744*(-0x1b42+0x3*-0x59a+0x64c*0x7)+(-0x18d0+0x1*-0x1e60+0x3732)],this['_meshInfo'][_0x23006d]['colors'][_0x40f744*(-0x1898+-0x83*-0x3d+0x13*-0x59)+(-0x151+0xa*0x12a+-0x78*0x16)]),_0x542997['element'][Po]['set'](this['_meshInfo'][_0x23006d]['outlines'][_0x40f744*(-0x47f+0xec6+0x6*-0x1b6)+(0x2670+0x20*-0x12d+-0xd0)],this['_meshInfo'][_0x23006d]['outlines'][_0x40f744*(0x3*-0x8b7+-0x45d*-0x2+0x17*0xc2)+(0x305*0x2+-0xd6*0x14+0x1*0xaaf)],this['_meshInfo'][_0x23006d]['outlines'][_0x40f744*(-0x779*-0x5+-0x1b46+0x102*-0xa)+(-0xb5*0x34+0x26dc+-0x216)]),_0x542997['element'][Ro]['set'](this['_meshInfo'][_0x23006d]['shadows'][_0x40f744*(-0x34c*-0x1+-0xf*0x5+-0x2fe)+(-0x19b2+0x13*0x1ec+-0xad2)],this['_meshInfo'][_0x23006d]['shadows'][_0x40f744*(-0xd*0x1a5+0x42f+0x1*0x1135)+(0xbea+0xc22*0x3+-0x304f)],this['_meshInfo'][_0x23006d]['shadows'][_0x40f744*(0x24a7*-0x1+0x83*0x25+0x11bb)+(0x1*-0xae1+0x36c*-0xa+-0x1*-0x2d1b)])),_0x542997['next']();_0x542997['end'](),this['_meshInfo'][_0x23006d]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x23006d]['positions']),this['_meshInfo'][_0x23006d]['meshInstan'+'ce']['_aabbVer']=-(0x3*0x3e7+-0x40e+-0x2*0x3d3);}this['_aabbDirty']=!(0x1ef0+-0xd*-0x241+0x3c3d*-0x1);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x2680d0){this['font']!==_0x2680d0['resource']&&(this['font']=_0x2680d0['resource']);}['_onFontCha'+'nge'](_0x598aa6,_0x2c3c2a,_0x306a0a,_0x27d42a){if(_0x2c3c2a==='data'){this['_font']['data']=_0x306a0a;const _0x14b8ca=this['_font']['data']['info']['maps']['length'];for(let _0x1a4245=0x349*-0x4+0x10d*0x4+0x8f0;_0x1a4245<_0x14b8ca;_0x1a4245++){if(!this['_meshInfo'][_0x1a4245])continue;const _0x130e80=this['_meshInfo'][_0x1a4245]['meshInstan'+'ce'];_0x130e80&&(_0x130e80['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x130e80['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x130e80['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x1a4245]['width']));}}}['_onFontRem'+'ove'](_0x40bc74){}['_setTextur'+'eParams'](_0x1ce143,_0x10ab9a){this['_font']&&(this['_font']['type']===Kh?(_0x1ce143['deletePara'+'meter']('texture_em'+'issiveMap'),_0x1ce143['deletePara'+'meter']('texture_op'+'acityMap'),_0x1ce143['setParamet'+'er']('texture_ms'+'dfMap',_0x10ab9a)):this['_font']['type']===yR&&(_0x1ce143['deletePara'+'meter']('texture_ms'+'dfMap'),_0x1ce143['setParamet'+'er']('texture_em'+'issiveMap',_0x10ab9a),_0x1ce143['setParamet'+'er']('texture_op'+'acityMap',_0x10ab9a)));}['_getPxRang'+'e'](_0xcbb3bf){const _0x4c85a3=Object['keys'](this['_font']['data']['chars']);for(let _0x5d2f3c=-0xa7*-0x1f+0x1063+-0x249c;_0x5d2f3c<_0x4c85a3['length'];_0x5d2f3c++){const _0x3c1cc4=this['_font']['data']['chars'][_0x4c85a3[_0x5d2f3c]];if(_0x3c1cc4['range'])return(_0x3c1cc4['scale']||0x17f8+0xb5*0x1f+-0x2de2*0x1)*_0x3c1cc4['range'];}return 0x49d*0x2+-0x2*-0xf6b+-0x3*0xd5a;}['_getUv'](_0x67d08f){const _0x292781=this['_font']['data'];if(!_0x292781['chars'][_0x67d08f]){const _0x1b6888='\x20';return _0x292781['chars'][_0x1b6888]?this['_getUv'](_0x1b6888):[0xd35*0x1+-0x8*-0x1a+-0x1*0xe05,-0xc52+-0x1d98+0x29ea,0x21da+-0x2585+-0x3*-0x139,-0x1327*0x2+0x311+0x233d];}const _0x5b1ed5=_0x292781['chars'][_0x67d08f]['map'],_0x4ff454=_0x292781['info']['maps'][_0x5b1ed5]['width'],_0x53e702=_0x292781['info']['maps'][_0x5b1ed5]['height'],_0x4bb0a8=_0x292781['chars'][_0x67d08f]['x'],_0x431d0a=_0x292781['chars'][_0x67d08f]['y'],_0x325514=_0x4bb0a8,_0x222e90=_0x431d0a,_0x3a9788=_0x4bb0a8+_0x292781['chars'][_0x67d08f]['width'],_0x18733b=_0x431d0a-_0x292781['chars'][_0x67d08f]['height'],_0x491578=-0x87f+-0xd82+0x1602-_0x292781['chars'][_0x67d08f]['height']/_0x53e702;return[_0x325514/_0x4ff454,_0x491578-_0x222e90/_0x53e702,_0x3a9788/_0x4ff454,_0x491578-_0x18733b/_0x53e702];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x339+-0x141b+0x10e2*0x1),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0xa*0x111+-0xa9b*-0x2+-0xa8b),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x4a12cf){if(this['_model']){const _0x2b7f5c=this['_model']['meshInstan'+'ces'];for(let _0x1be50d=0xcec+-0x932+0x3ba*-0x1;_0x1be50d<_0x2b7f5c['length'];_0x1be50d++)_0x2b7f5c[_0x1be50d]['stencilFro'+'nt']=_0x4a12cf,_0x2b7f5c[_0x1be50d]['stencilBac'+'k']=_0x4a12cf;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x8d58eb){const _0x5b8f52={};_0x8d58eb===void(0x2*0xfa7+0x4*0x19f+0x12e5*-0x2)&&(_0x8d58eb=this['_symbols']['length']);for(let _0x282333=-0x1f1a+-0xbf3*-0x1+-0x1327*-0x1,_0x127cb2=_0x8d58eb;_0x282333<_0x127cb2;_0x282333++){const _0x2d33f5=this['_symbols'][_0x282333];let _0x7834fa=this['_font']['data']['chars'][_0x2d33f5];_0x7834fa||(_0x7834fa=this['_font']['data']['chars']['\x20'],_0x7834fa||(_0x7834fa=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x144b+0xbc9+0x2*0x441]]));const _0x97469=_0x7834fa['map'];_0x5b8f52[_0x97469]?_0x5b8f52[_0x97469]++:_0x5b8f52[_0x97469]=0x187a+0x200c+-0x27*0x173;}return _0x5b8f52;}['_updateRen'+'derRange'](){const _0x5353d4=this['_rangeStar'+'t']===-0x209f*0x1+0x1*0x1391+0xd0e?0x410+0x1*0x1529+-0x1939:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0xb66eeb=this['_rangeEnd']===0x3d*0x51+-0x1203+-0x14a?-0x2*-0x22e+-0xa0a+0x5ae:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x3927ef=-0x1*-0x1529+0xc05+0x112*-0x1f,_0x52969e=this['_meshInfo']['length'];_0x3927ef<_0x52969e;_0x3927ef++){const _0xafc87b=_0x5353d4[_0x3927ef]||0x1490+0x1539+-0x29c9,_0x30edb6=_0xb66eeb[_0x3927ef]||-0x2*-0x695+-0x1*0x85a+-0x4d0,_0xcda883=this['_meshInfo'][_0x3927ef]['meshInstan'+'ce'];if(_0xcda883){const _0x78c707=_0xcda883['mesh'];_0x78c707&&(_0x78c707['primitive'][0x13ef+0x1732+-0x2b21]['base']=_0xafc87b*(0x8cb*0x2+-0x1*0x10+0x1*-0x1183)*(0x240d*-0x1+-0xb*0xbc+-0x1*-0x2c23),_0x78c707['primitive'][0x1*0x19cd+-0x1eb*0x13+0x1*0xaa4]['count']=(_0x30edb6-_0xafc87b)*(0x2447+0x8+-0x244c)*(0x24*-0x25+0xd98+-0x862));}}}set['text'](_0x16625a){this['_i18nKey']=null;const _0x4e0ec5=_0x16625a!=null&&_0x16625a['toString']()||'';this['_setText'](_0x4e0ec5);}get['text'](){return this['_text'];}set['key'](_0x19752f){const _0x1829a3=_0x19752f!==null?_0x19752f['toString']():null;this['_i18nKey']!==_0x1829a3&&(this['_i18nKey']=_0x1829a3,_0x1829a3?(this['_fontAsset']['disableLoc'+'alization']=!(0x31*-0x6d+-0x88a*-0x3+-0x20*0x26),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0xab2*-0x3+0x1ec+-0xb56*0x3));}get['key'](){return this['_i18nKey'];}set['color'](_0xad0490){const _0x239898=_0xad0490['r'],_0x1deb3a=_0xad0490['g'],_0x39d869=_0xad0490['b'];if(this['_color']===_0xad0490&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x239898&&this['_color']['g']===_0x1deb3a&&this['_color']['b']===_0x39d869)&&(this['_color']['r']=_0x239898,this['_color']['g']=_0x1deb3a,this['_color']['b']=_0x39d869,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x24bf+0x15c1*-0x1+0x3a80]=Me['r'],this['_colorUnif'+'orm'][0xaa4+0x3*0xced+0x9e2*-0x5]=Me['g'],this['_colorUnif'+'orm'][0xab8+0x4a9*0x3+-0x7*0x387]=Me['b'];for(let _0x2d1a46=-0x2292+-0x97*-0x33+0x1*0x47d,_0x447d7b=this['_model']['meshInstan'+'ces']['length'];_0x2d1a46<_0x447d7b;_0x2d1a46++)this['_model']['meshInstan'+'ces'][_0x2d1a46]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x580d15){if(this['_color']['a']!==_0x580d15&&(this['_color']['a']=_0x580d15,this['_model'])){for(let _0x5a97f1=0x24ad+0xb5b*0x2+0x3b63*-0x1,_0x276a04=this['_model']['meshInstan'+'ces']['length'];_0x5a97f1<_0x276a04;_0x5a97f1++)this['_model']['meshInstan'+'ces'][_0x5a97f1]['setParamet'+'er']('material_o'+'pacity',_0x580d15);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x580d15);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x2f3bb6){const _0x55c934=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x2f3bb6,this['_scaledLin'+'eHeight']=_0x2f3bb6,_0x55c934!==_0x2f3bb6&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x71db86){const _0x331de0=this['_wrapLines'];this['_wrapLines']=_0x71db86,_0x331de0!==_0x71db86&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x40964b){const _0x39acf1=this['_spacing'];this['_spacing']=_0x40964b,_0x39acf1!==_0x40964b&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x5a0db9){const _0x4ad76c=this['_fontSize'];this['_fontSize']=_0x5a0db9,this['_originalF'+'ontSize']=_0x5a0db9,_0x4ad76c!==_0x5a0db9&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x518f8a){this['_fontAsset']['defaultAss'+'et']=_0x518f8a;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x50eb47){let _0x4ba2a6;if(this['_font']&&(_0x4ba2a6=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x50eb47,this['_fontMinY']=-0x2056+0x63b+0xa3*0x29,this['_fontMaxY']=0x2ec*0xb+-0xd+0x1f*-0x109,!_0x50eb47)return;const _0x1a884b=this['_font']['data'];for(const _0xd6d176 in _0x1a884b['chars']){const _0x9bb0fc=_0x1a884b['chars'][_0xd6d176];_0x9bb0fc['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x9bb0fc['bounds'][0x85d*0x2+0x1*0x20a1+0x18ad*-0x2]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x9bb0fc['bounds'][-0xea4*0x2+0x1747+-0x2*-0x302]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x50eb47['type']!==_0x4ba2a6){const _0x259a3a=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x259a3a);}for(let _0x1e405c=-0x1*-0x113f+-0x15cb*-0x1+-0x270a,_0x3a1483=this['_font']['textures']['length'];_0x1e405c<_0x3a1483;_0x1e405c++)if(!this['_meshInfo'][_0x1e405c])this['_meshInfo'][_0x1e405c]=new CR();else{const _0x59f44f=this['_meshInfo'][_0x1e405c]['meshInstan'+'ce'];_0x59f44f&&(_0x59f44f['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x59f44f['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x59f44f['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x1e405c]['width']),this['_setTextur'+'eParams'](_0x59f44f,this['_font']['textures'][_0x1e405c]));}let _0x428b4c=!(-0x20ba+-0x4b6+-0x2571*-0x1);for(let _0x30ad29=this['_font']['textures']['length'];_0x30ad29<this['_meshInfo']['length'];_0x30ad29++)this['_meshInfo'][_0x30ad29]['meshInstan'+'ce']&&(_0x428b4c||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x428b4c=!(-0x2019+0x1*-0x2209+0x4222)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x30ad29]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x445a2c){_0x445a2c instanceof $?this['_alignment']['set'](_0x445a2c['x'],_0x445a2c['y']):this['_alignment']['set'](_0x445a2c[0x1*0x2104+0x53*-0x5b+0x1*-0x383],_0x445a2c[-0xb33*-0x1+0x253f*0x1+-0x3071]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x471d39){const _0x2db08b=this['_autoWidth'];if(this['_autoWidth']=_0x471d39,_0x471d39&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x5*-0x66b+0x1309*-0x1+0x199*0x20+0.0001&&(this['_element']['width']=this['width']),_0x2db08b!==_0x471d39){const _0x145ffd=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x145ffd!==this['_fontSize']&&(this['_fontSize']=_0x145ffd,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x2d659c){const _0x1d7f64=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x2d659c,_0x2d659c&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<-0x22a1+-0x896+-0x2b37*-0x1+0.0001&&(this['_element']['height']=this['height']),_0x1d7f64!==_0x2d659c){const _0x5f2d14=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x5f2d14!==this['_fontSize']&&(this['_fontSize']=_0x5f2d14,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x11c1b8){this['_rtlReorde'+'r']!==_0x11c1b8&&(this['_rtlReorde'+'r']=_0x11c1b8,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x5fac68){this['_unicodeCo'+'nverter']!==_0x5fac68&&(this['_unicodeCo'+'nverter']=_0x5fac68,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x1fd275=!(0x1ea8+-0x1b2c+-0x37b);for(let _0x2be367=0x1d3*0xa+-0x1a8a+0x12*0x76;_0x2be367<this['_meshInfo']['length'];_0x2be367++)this['_meshInfo'][_0x2be367]['meshInstan'+'ce']&&(_0x1fd275?this['_aabb']['add'](this['_meshInfo'][_0x2be367]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x2be367]['meshInstan'+'ce']['aabb']),_0x1fd275=!(-0x97*-0x23+0x20cb+-0x48*0xbe)));this['_aabbDirty']=!(0x3bc+0x1*-0x1b66+0x17ab);}return this['_aabb'];}set['outlineCol'+'or'](_0x2fb947){const _0x419255=_0x2fb947 instanceof j?_0x2fb947['r']:_0x2fb947[-0x69b*-0x2+-0x1c58+0xf22],_0x5dedca=_0x2fb947 instanceof j?_0x2fb947['g']:_0x2fb947[0x1*0x1889+0xfd1*-0x1+-0x8b7],_0x5603f7=_0x2fb947 instanceof j?_0x2fb947['b']:_0x2fb947[0x12d2+0x14f3+-0x27c3],_0x4c45f9=_0x2fb947 instanceof j?_0x2fb947['a']:_0x2fb947[0xa39*0x1+0x29a+0x10*-0xcd];if(this['_outlineCo'+'lor']===_0x2fb947&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x419255&&this['_outlineCo'+'lor']['g']===_0x5dedca&&this['_outlineCo'+'lor']['b']===_0x5603f7&&this['_outlineCo'+'lor']['a']===_0x4c45f9)&&(this['_outlineCo'+'lor']['r']=_0x419255,this['_outlineCo'+'lor']['g']=_0x5dedca,this['_outlineCo'+'lor']['b']=_0x5603f7,this['_outlineCo'+'lor']['a']=_0x4c45f9,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x1*0x113f+-0xa37+0x1b76]=Me['r'],this['_outlineCo'+'lorUniform'][-0x154f+-0x7cc+0x1d1c]=Me['g'],this['_outlineCo'+'lorUniform'][-0x59*0x30+-0xaf*0x18+0x2*0x108d]=Me['b'],this['_outlineCo'+'lorUniform'][-0x18bc*-0x1+-0x1426*0x1+0x493*-0x1]=Me['a'];for(let _0x4fd02b=0xbdf+0x20b*-0x9+-0x8b*-0xc,_0x4db0ce=this['_model']['meshInstan'+'ces']['length'];_0x4fd02b<_0x4db0ce;_0x4fd02b++)this['_model']['meshInstan'+'ces'][_0x4fd02b]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x33bb26){const _0x2ee332=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x33bb26,_0x2ee332!==_0x33bb26&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x53b024=0x1e86+0x212*0x6+0x2af2*-0x1,_0xfeb5db=this['_model']['meshInstan'+'ces']['length'];_0x53b024<_0xfeb5db;_0x53b024++)this['_model']['meshInstan'+'ces'][_0x53b024]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x2d7c80){const _0x4416d6=_0x2d7c80 instanceof j?_0x2d7c80['r']:_0x2d7c80[-0x22bb+-0x252+0x250d],_0x51192d=_0x2d7c80 instanceof j?_0x2d7c80['g']:_0x2d7c80[-0x325*0xb+-0x1b*-0xd+0x2139],_0x51149f=_0x2d7c80 instanceof j?_0x2d7c80['b']:_0x2d7c80[-0xd*0x2c3+-0x1*-0x3a1+0x2048],_0x3ea5e7=_0x2d7c80 instanceof j?_0x2d7c80['a']:_0x2d7c80[-0x1e86+0x9e4+-0x7*-0x2f3];if(this['_shadowCol'+'or']===_0x2d7c80&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x4416d6&&this['_shadowCol'+'or']['g']===_0x51192d&&this['_shadowCol'+'or']['b']===_0x51149f&&this['_shadowCol'+'or']['a']===_0x3ea5e7)&&(this['_shadowCol'+'or']['r']=_0x4416d6,this['_shadowCol'+'or']['g']=_0x51192d,this['_shadowCol'+'or']['b']=_0x51149f,this['_shadowCol'+'or']['a']=_0x3ea5e7,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x12d*0xb+0x1c72+-0x2961]=Me['r'],this['_shadowCol'+'orUniform'][-0x10f9+0xa20+0x6da]=Me['g'],this['_shadowCol'+'orUniform'][-0x1*0x25b9+0x119d+0x141e]=Me['b'],this['_shadowCol'+'orUniform'][-0x1e0b*0x1+0x15cc+0x842]=Me['a'];for(let _0x41b652=0x188e+-0x13f6+0x31*-0x18,_0x2e13a9=this['_model']['meshInstan'+'ces']['length'];_0x41b652<_0x2e13a9;_0x41b652++)this['_model']['meshInstan'+'ces'][_0x41b652]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x37e323){const _0x3d8055=_0x37e323 instanceof $?_0x37e323['x']:_0x37e323[0x1609*-0x1+-0x133e+-0x1*-0x2947],_0x22ca2e=_0x37e323 instanceof $?_0x37e323['y']:_0x37e323[-0x2*-0xf6e+0x24*0xbb+-0x3927*0x1];if(!(this['_shadowOff'+'set']['x']===_0x3d8055&&this['_shadowOff'+'set']['y']===_0x22ca2e)&&(this['_shadowOff'+'set']['set'](_0x3d8055,_0x22ca2e),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x544788=0x1eff*-0x1+0x2386+-0x487,_0x17e36b=this['_model']['meshInstan'+'ces']['length'];_0x544788<_0x17e36b;_0x544788++){const _0x5f2887=-this['_font']['data']['info']['maps'][_0x544788]['width']/this['_font']['data']['info']['maps'][_0x544788]['height'];this['_shadowOff'+'setUniform'][-0x1039+-0x2*-0x111b+-0x11fd]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0xa3e+0x2*0x3d1+0x29d]=_0x5f2887*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x544788]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x28a76a){this['_minFontSi'+'ze']!==_0x28a76a&&(this['_minFontSi'+'ze']=_0x28a76a,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x42ad8e){this['_maxFontSi'+'ze']!==_0x42ad8e&&(this['_maxFontSi'+'ze']=_0x42ad8e,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x5d6c1e){this['_autoFitWi'+'dth']!==_0x5d6c1e&&(this['_autoFitWi'+'dth']=_0x5d6c1e,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x1664ff){this['_autoFitHe'+'ight']!==_0x1664ff&&(this['_autoFitHe'+'ight']=_0x1664ff,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x414ad6){this['_maxLines']!==_0x414ad6&&(_0x414ad6===null&&this['_maxLines']===-(-0x22*0xe3+-0xc*-0x27b+0x3*0x21)||(this['_maxLines']=_0x414ad6===null?-(-0x1cba*0x1+0x1dea+-0x12f*0x1):_0x414ad6,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x38eb6a){if(_0x38eb6a=!!_0x38eb6a,this['_enableMar'+'kup']===_0x38eb6a)return;this['_enableMar'+'kup']=_0x38eb6a,this['font']&&this['_updateTex'+'t']();const _0x30a027=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x30a027);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x2d6c41){return this['_colorPale'+'tte']['slice'](_0x2d6c41*(0x7*-0x2a1+0x1991+-0x727*0x1),_0x2d6c41*(0x1*0x1645+0x5a4+-0x1be6)+(-0x43*-0x3d+-0x9dd+-0x617));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x25d12f){return this['_outlinePa'+'lette']['slice'](_0x25d12f*(-0x2f*-0xa3+-0x6*0x3b+-0x2*0xe43),_0x25d12f*(-0x4*0x41b+0x2137+-0x10c6)+(0x6bf*0x5+-0xef7+0x12bf*-0x1));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x81fdfe){return this['_shadowPal'+'ette']['slice'](_0x81fdfe*(0x71*-0xa+0xbf1*0x1+-0x781),_0x81fdfe*(0x19d2+0x1*0x3d7+-0x1da3)+(-0x17aa*0x1+-0x1*0x1e6d+0x361d));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x1fddcb){_0x1fddcb=Math['max'](0x16b0+0x7dc+-0x22*0xe6,Math['min'](_0x1fddcb,this['_symbols']['length'])),_0x1fddcb!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x1fddcb,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x539929){_0x539929=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x539929,this['_symbols']['length'])),_0x539929!==this['_rangeEnd']&&(this['_rangeEnd']=_0x539929,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Ht extends ue{constructor(_0x59682d,_0x28ca2b){super(_0x59682d,_0x28ca2b),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0x1a6f+0x48*0x66+0xc0*-0x3),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new $(),this['_width']=this['_calculate'+'dWidth']=0x1*-0x7a+-0x8e*-0x4+-0x19e,this['_height']=this['_calculate'+'dHeight']=-0x1d76+-0x1d2b+0x485*0xd,this['_margin']=new Q(0x262c+0x1687*0x1+0x3cb3*-0x1,-0x1*-0x11b1+-0x1*-0x1cbd+-0xe*0x351,-(0x2284+0x43f*0x8+-0x445c),-(0x19cd+-0x239c+0x1*0x9ef)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(0x3d*0x41+-0x5af*0x6+0x129d*0x1),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new $(),new $(),new $(),new $()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(0xe1d+-0x21a1*-0x1+0x2a*-0x123),this['_canvasCor'+'nersDirty']=!(-0x23d*-0x2+-0xb74*0x2+-0x7*-0x2a2),this['_worldCorn'+'ersDirty']=!(-0xfe9*-0x1+0x1fd*-0x10+-0xb1*-0x17),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x14d7*-0x1+0x1d89+-0x2a*0x35,this['_fitMode']=gh,this['_useInput']=!(-0x5f1+-0x5e2*-0x2+-0x5d2*0x1),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x2*0x20d+0x165d+-0x2*0xd3b),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x21f8+-0xaed*-0x1+-0x2ce5,this['_maskOffse'+'t']=0xb65+-0x923+-0x242+0.5,this['_maskedBy']=null);}get['data'](){const _0x24b749=this['system']['store'][this['entity']['getGuid']()];return _0x24b749?_0x24b749['data']:null;}set['enabled'](_0x28601f){const _0xd4270e=this['data'],_0x32ab83=_0xd4270e['enabled'];_0xd4270e['enabled']=_0x28601f,this['fire']('set','enabled',_0x32ab83,_0x28601f);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0xb0b*-0x3+0xd13+-0x2e34+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x2068+0x354+-0x1d14*-0x1+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x149eea){_0x149eea instanceof Q?this['_anchor']['copy'](_0x149eea):this['_anchor']['set'](..._0x149eea),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0x35*0x3a+0x233e+0xfc0*-0x3),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x4521ad){var _0x3157fc,_0x2d456f;this['_batchGrou'+'pId']!==_0x4521ad&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x24bf+-0x36b+0x282a*0x1&&((_0x3157fc=this['system']['app']['batcher'])==null||_0x3157fc['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x4521ad>=0x2*-0xc0c+-0x2f*-0x1+0x17e9*0x1&&((_0x2d456f=this['system']['app']['batcher'])==null||_0x2d456f['insert'](et['ELEMENT'],_0x4521ad,this['entity'])),_0x4521ad<0x1f73+-0x2c5+0x2*-0xe57&&this['_batchGrou'+'pId']>=-0x24de+-0xe75+0x3353*0x1&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x4521ad);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x5c5f36){this['_margin']['y']=_0x5c5f36;const _0x949f6c=this['entity']['getLocalPo'+'sition'](),_0x850370=this['_absTop'],_0x38b8ae=this['_localAnch'+'or']['y']+_0x5c5f36;this['_setHeight'](_0x850370-_0x38b8ae),_0x949f6c['y']=_0x5c5f36+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x949f6c);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x34e736){this['_setCalcul'+'atedWidth'](_0x34e736,!(-0x205a*0x1+0x6*0x176+-0xbcb*-0x2));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0xa5e341){this['_setCalcul'+'atedHeight'](_0xa5e341,!(0x62f*0x1+0x1*-0x13c3+0xd94));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x104b7d=this['system']['app']['graphicsDe'+'vice'],_0x56f4ea=this['screenCorn'+'ers'],_0x4a1e3e=_0x104b7d['canvas']['clientWidt'+'h']/_0x104b7d['width'],_0x2c6f88=_0x104b7d['canvas']['clientHeig'+'ht']/_0x104b7d['height'];for(let _0x254e54=-0x66c*0x1+0x78+-0x1fc*-0x3;_0x254e54<0x148b+0xc38+0x53*-0x65;_0x254e54++)this['_canvasCor'+'ners'][_0x254e54]['set'](_0x56f4ea[_0x254e54]['x']*_0x4a1e3e,(_0x104b7d['height']-_0x56f4ea[_0x254e54]['y'])*_0x2c6f88);return this['_canvasCor'+'nersDirty']=!(-0x348+0x8*-0x24+-0x1*-0x469),this['_canvasCor'+'ners'];}set['drawOrder'](_0x3e8f76){let _0x2857d9=-0x1d56*0x1+-0xf65+-0x1*-0x2cbb;this['screen']&&(_0x2857d9=this['screen']['screen']['priority']),_0x3e8f76>-0x3993de+-0x3*-0xd4061+-0x3*-0x5b463e&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x3e8f76=0x1*0x83f5ae+0x1*0x146d0c5+0x1bf81*-0x74),this['_drawOrder']=(_0x2857d9<<0x1*-0x20c3+-0x1*-0x34b+0x158*0x16)+_0x3e8f76,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x410e58){this['_height']=_0x410e58,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x410e58,!(0x11c*-0x20+0x3*0x3fa+0x35e*0x7)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x4f8d4b){if(this['_addedMode'+'ls']['length'])for(let _0x36d8bd=0x1332+0x23a2+0x1b6a*-0x2;_0x36d8bd<this['_layers']['length'];_0x36d8bd++){const _0x370a7c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x36d8bd]);if(_0x370a7c){for(let _0x520837=0x1fdd+0x1*-0x24c5+-0x8*-0x9d;_0x520837<this['_addedMode'+'ls']['length'];_0x520837++)_0x370a7c['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x520837]['meshInstan'+'ces']);}}if(this['_layers']=_0x4f8d4b,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x14e1a0=0xf6+0x3*0x65b+-0x1407;_0x14e1a0<this['_layers']['length'];_0x14e1a0++){const _0x3893fe=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x14e1a0]);if(_0x3893fe){for(let _0x36ee88=0x29b*-0xa+0x2*-0x4a3+0x2354;_0x36ee88<this['_addedMode'+'ls']['length'];_0x36ee88++)_0x3893fe['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x36ee88]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x5b118b){this['_margin']['x']=_0x5b118b;const _0x327e10=this['entity']['getLocalPo'+'sition'](),_0x559ca8=this['_absRight'],_0x2d6d08=this['_localAnch'+'or']['x']+_0x5b118b;this['_setWidth'](_0x559ca8-_0x2d6d08),_0x327e10['x']=_0x5b118b+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x327e10);}get['left'](){return this['_margin']['x'];}set['margin'](_0x7a0a05){this['_margin']['copy'](_0x7a0a05),this['_calculate'+'Size'](!(0x62a+-0x141d*-0x1+-0xd9*0x1f),!(-0x25a9+0x1*0x31+-0x16*-0x1b4)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x1b0b20){const {pivot:_0x4c8e27,margin:_0x187d1e}=this,_0x4d8be7=_0x4c8e27['x'],_0x4480be=_0x4c8e27['y'];_0x1b0b20 instanceof $?_0x4c8e27['copy'](_0x1b0b20):_0x4c8e27['set'](..._0x1b0b20);const _0x908d4f=_0x187d1e['x']+_0x187d1e['z'],_0x320c85=_0x4c8e27['x']-_0x4d8be7;_0x187d1e['x']+=_0x908d4f*_0x320c85,_0x187d1e['z']-=_0x908d4f*_0x320c85;const _0x5298ff=_0x187d1e['y']+_0x187d1e['w'],_0x2663f4=_0x4c8e27['y']-_0x4480be;_0x187d1e['y']+=_0x5298ff*_0x2663f4,_0x187d1e['w']-=_0x5298ff*_0x2663f4,this['_anchorDir'+'ty']=!(-0x1*0x1aba+-0x22*-0x110+-0x966),this['_cornersDi'+'rty']=!(0x1*-0x18b3+-0x2106*0x1+-0x1*-0x39b9),this['_worldCorn'+'ersDirty']=!(-0x1157+-0x216*-0x7+-0x1*-0x2bd),this['_calculate'+'Size'](!(0x39f*-0x7+-0x2248+0x1c1*0x22),!(0x1*0x132a+0x268c+-0x39b5)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x4c8e27);}get['pivot'](){return this['_pivot'];}set['right'](_0x55faf1){this['_margin']['z']=_0x55faf1;const _0x2b404e=this['entity']['getLocalPo'+'sition'](),_0x5e7761=this['_absLeft'],_0x919133=this['_localAnch'+'or']['z']-_0x55faf1;this['_setWidth'](_0x919133-_0x5e7761),_0x2b404e['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x55faf1-this['_calculate'+'dWidth']*(-0x1*0xaa2+0x239f*-0x1+0x2e42-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x2b404e);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x5bd91f=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x1f73*0x1+-0x6*-0x53f+-0x7];this['_screenCor'+'ners'][0x19*-0x18a+0x10c2+0x15b8]['set'](this['_absLeft'],this['_absBottom'],0x3*-0x71f+0x4e2+-0x1*-0x107b),this['_screenCor'+'ners'][0x16*0x185+-0x233*-0xb+-0x3b*0xfa]['set'](this['_absRight'],this['_absBottom'],-0x1b55+-0x1e10+0x1*0x3965),this['_screenCor'+'ners'][0xa21+-0x1e3+-0x83c]['set'](this['_absRight'],this['_absTop'],-0x84b+0x7*0x36f+0xd*-0x136),this['_screenCor'+'ners'][-0x1*-0x9af+-0x98b*-0x4+0x5fb*-0x8]['set'](this['_absLeft'],this['_absTop'],-0x2633+0x132d+0x1306);const _0x3899a4=this['screen']['screen']['screenSpac'+'e'];for(let _0x2d8084=0x345+-0x52c+-0x1e7*-0x1;_0x2d8084<0x18*-0x11b+-0x18a2+0x332e;_0x2d8084++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x2d8084],this['_screenCor'+'ners'][_0x2d8084]),_0x3899a4&&this['_screenCor'+'ners'][_0x2d8084]['mulScalar'](this['screen']['screen']['scale']),_0x5bd91f&&this['_screenCor'+'ners'][_0x2d8084]['add'](_0x5bd91f);return this['_cornersDi'+'rty']=!(0x4d*0x2c+-0x22*-0x9d+-0x2215),this['_canvasCor'+'nersDirty']=!(-0x9b+0x1bd5+-0x1b3a),this['_worldCorn'+'ersDirty']=!(0x797*0x3+-0x1fc9+-0x1*-0x904),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x74c+0x1b6c*-0x1+0x1*0x22b8;}get['textHeight'](){return this['_text']?this['_text']['height']:-0x3*-0x710+-0x207e+0xb4e;}set['top'](_0x246005){this['_margin']['w']=_0x246005;const _0x5a9e97=this['entity']['getLocalPo'+'sition'](),_0x40bab7=this['_absBottom'],_0x9467bc=this['_localAnch'+'or']['w']-_0x246005;this['_setHeight'](_0x9467bc-_0x40bab7),_0x5a9e97['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x246005-this['_calculate'+'dHeight']*(0x1*-0xfd7+0x1*0x5f8+-0x4*-0x278-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x5a9e97);}get['top'](){return this['_margin']['w'];}set['type'](_0x7c3729){_0x7c3729!==this['_type']&&(this['_type']=_0x7c3729,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x7c3729===rf?this['_image']=new _R(this):_0x7c3729===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x180948){this['_useInput']!==_0x180948&&(this['_useInput']=_0x180948,this['system']['app']['elementInp'+'ut']?_0x180948?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x1594+-0xa98+0x1d*0x11c)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x180948));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x14ca1a){this['_fitMode']=_0x14ca1a,this['_calculate'+'Size'](!(0x12d3+0x1*0x1ad2+-0x2da5),!(0x3*0x47+0x4af*-0x5+0x7*0x33a)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x5a3c4f){this['_width']=_0x5a3c4f,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x5a3c4f,!(-0xc93+-0x25cc+-0x5*-0xa13)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x307eb0=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][-0x164b+-0x1*0x1ad5+0x312d]=-es['data'][-0x78*0x3f+0xaac+0x1*0x12e9],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x390565=0x650*0x2+-0x18e7+0x7*0x1c1;_0x390565<-0x1fd*-0x13+0xdd5*-0x1+-0x17ee;_0x390565++)es['transformP'+'oint'](_0x307eb0[_0x390565],this['_worldCorn'+'ers'][_0x390565]);}}else{const _0xdf0c7a=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0xdf0c7a['x'],-_0xdf0c7a['y'],-_0xdf0c7a['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0xdf0c7a['x'],_0xdf0c7a['y'],_0xdf0c7a['z']);const _0x282329=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0x282329['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0xdf0c7a['x']-this['pivot']['x']*this['calculated'+'Width'],_0xdf0c7a['y']-this['pivot']['y']*this['calculated'+'Height'],_0xdf0c7a['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x20a2+-0xcf+-0x1fd3]),ni['set'](_0xdf0c7a['x']+(0x19*-0x140+-0x14b5+-0x5c6*-0x9-this['pivot']['x'])*this['calculated'+'Width'],_0xdf0c7a['y']-this['pivot']['y']*this['calculated'+'Height'],_0xdf0c7a['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x2*-0x841+-0x1c6a+-0x1*-0xbe9]),ni['set'](_0xdf0c7a['x']+(-0x24b5+-0x1*0x11b1+0x3667-this['pivot']['x'])*this['calculated'+'Width'],_0xdf0c7a['y']+(-0x926+-0x1c4e*0x1+-0x2b*-0xdf-this['pivot']['y'])*this['calculated'+'Height'],_0xdf0c7a['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x4*0x331+-0x20*-0x137+-0x3*0x1136]),ni['set'](_0xdf0c7a['x']-this['pivot']['x']*this['calculated'+'Width'],_0xdf0c7a['y']+(-0x3*0x297+-0x21*-0x9a+-0x305*0x4-this['pivot']['y'])*this['calculated'+'Height'],_0xdf0c7a['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x1e09+-0x11ad+-0x13*-0x283]);}return this['_worldCorn'+'ersDirty']=!(-0x9*0x35e+0x1f43+-0xf4),this['_worldCorn'+'ers'];}set['fontSize'](_0x30beb7){this['_setValue']('fontSize',_0x30beb7);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x2dc27e){this['_setValue']('minFontSiz'+'e',_0x2dc27e);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x1b8ee1){this['_setValue']('maxFontSiz'+'e',_0x1b8ee1);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x37e24a){this['_setValue']('maxLines',_0x37e24a);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x540a69){this['_setValue']('autoFitWid'+'th',_0x540a69);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x4e151c){this['_setValue']('autoFitHei'+'ght',_0x4e151c);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x27daeb){this['_setValue']('color',_0x27daeb);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x1d64b2){this['_setValue']('font',_0x1d64b2);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x11b0bb){this['_setValue']('fontAsset',_0x11b0bb);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x292c8a){this['_setValue']('spacing',_0x292c8a);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x30ae4){this['_setValue']('lineHeight',_0x30ae4);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x8549d0){this['_setValue']('wrapLines',_0x8549d0);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x15edf6){this['_setValue']('lines',_0x15edf6);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x24f094){this['_setValue']('alignment',_0x24f094);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x48c7bb){this['_setValue']('autoWidth',_0x48c7bb);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x5ae1ec){this['_setValue']('autoHeight',_0x5ae1ec);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x1b92da){this['_setValue']('rtlReorder',_0x1b92da);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x2421ec){this['_setValue']('unicodeCon'+'verter',_0x2421ec);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x39786a){this['_setValue']('text',_0x39786a);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x3cfc92){this['_setValue']('key',_0x3cfc92);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x2207fe){this['_setValue']('texture',_0x2207fe);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x19317f){this['_setValue']('textureAss'+'et',_0x19317f);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x5eb50c){this['_setValue']('material',_0x5eb50c);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x22257e){this['_setValue']('materialAs'+'set',_0x22257e);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x90502d){this['_setValue']('sprite',_0x90502d);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x553709){this['_setValue']('spriteAsse'+'t',_0x553709);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x1465a3){this['_setValue']('spriteFram'+'e',_0x1465a3);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x405c45){this['_setValue']('pixelsPerU'+'nit',_0x405c45);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x3a86b3){this['_setValue']('opacity',_0x3a86b3);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x212937){this['_setValue']('rect',_0x212937);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x13ce58){this['_setValue']('mask',_0x13ce58);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0xeb6c04){this['_setValue']('outlineCol'+'or',_0xeb6c04);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x4f80df){this['_setValue']('outlineThi'+'ckness',_0x4f80df);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x168b0c){this['_setValue']('shadowColo'+'r',_0x168b0c);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x335208){this['_setValue']('shadowOffs'+'et',_0x335208);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x185746){this['_setValue']('enableMark'+'up',_0x185746);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x55715b){this['_setValue']('rangeStart',_0x55715b);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x17352e){this['_setValue']('rangeEnd',_0x17352e);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x4a82b4,_0x2ec3f9){this['_text']?(this['_text'][_0x4a82b4]!==_0x2ec3f9&&this['_dirtyBatc'+'h'](),this['_text'][_0x4a82b4]=_0x2ec3f9):this['_image']&&(this['_image'][_0x4a82b4]!==_0x2ec3f9&&this['_dirtyBatc'+'h'](),this['_image'][_0x4a82b4]=_0x2ec3f9);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=$e['prototype']['_sync'],this['entity']['setPositio'+'n']=$e['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=$e['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x37c59d,_0x1f4427,_0xdcfda5){if(!this['element']['screen']){$e['prototype']['setPositio'+'n']['call'](this,_0x37c59d,_0x1f4427,_0xdcfda5);return;}_0x37c59d instanceof T?Kd['copy'](_0x37c59d):Kd['set'](_0x37c59d,_0x1f4427,_0xdcfda5),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x3f88fa,_0x3bfd53,_0x2d6f01){_0x3f88fa instanceof T?this['localPosit'+'ion']['copy'](_0x3f88fa):this['localPosit'+'ion']['set'](_0x3f88fa,_0x3bfd53,_0x2d6f01);const _0x1a7eba=this['element'],_0x136758=this['localPosit'+'ion'],_0x51634a=_0x1a7eba['_pivot'];_0x1a7eba['_margin']['x']=_0x136758['x']-_0x1a7eba['_calculate'+'dWidth']*_0x51634a['x'],_0x1a7eba['_margin']['z']=_0x1a7eba['_localAnch'+'or']['z']-_0x1a7eba['_localAnch'+'or']['x']-_0x1a7eba['_calculate'+'dWidth']-_0x1a7eba['_margin']['x'],_0x1a7eba['_margin']['y']=_0x136758['y']-_0x1a7eba['_calculate'+'dHeight']*_0x51634a['y'],_0x1a7eba['_margin']['w']=_0x1a7eba['_localAnch'+'or']['w']-_0x1a7eba['_localAnch'+'or']['y']-_0x1a7eba['_calculate'+'dHeight']-_0x1a7eba['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x16f174=this['element'],_0x45b4f4=_0x16f174['screen'];if(_0x45b4f4){if(_0x16f174['_anchorDir'+'ty']){let _0x33d8ce=0x21c0+-0x1c8a+0x2e*-0x1d,_0x503862=0x10e8+0x17*0x22+-0x13f6,_0x59fbe9=0x1454+-0x10f2+0x1*-0x362,_0x2a9511=0x252+-0x716*0x3+-0x12f1*-0x1;if(this['_parent']&&this['_parent']['element'])_0x33d8ce=this['_parent']['element']['calculated'+'Width'],_0x503862=this['_parent']['element']['calculated'+'Height'],_0x59fbe9=this['_parent']['element']['pivot']['x'],_0x2a9511=this['_parent']['element']['pivot']['y'];else{const _0x388219=_0x45b4f4['screen']['resolution'];_0x33d8ce=_0x388219['x']/_0x45b4f4['screen']['scale'],_0x503862=_0x388219['y']/_0x45b4f4['screen']['scale'];}_0x16f174['_anchorTra'+'nsform']['setTransla'+'te'](_0x33d8ce*(_0x16f174['anchor']['x']-_0x59fbe9),-(_0x503862*(_0x2a9511-_0x16f174['anchor']['y'])),-0x440+-0xf+-0x44f*-0x1),_0x16f174['_anchorDir'+'ty']=!(0xadd+-0x222b*-0x1+-0x1*0x2d07),_0x16f174['_calculate'+'LocalAncho'+'rs']();}_0x16f174['_sizeDirty']&&_0x16f174['_calculate'+'Size'](!(0xc2e+0xd5c*0x2+-0x26e5),!(-0x13d9*-0x1+-0x745*-0x2+-0x2262*0x1));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x569f3e=this['localPosit'+'ion'],_0x3afcfe=_0x16f174['_pivot'];_0x16f174['_margin']['x']=_0x569f3e['x']-_0x16f174['_calculate'+'dWidth']*_0x3afcfe['x'],_0x16f174['_margin']['z']=_0x16f174['_localAnch'+'or']['z']-_0x16f174['_localAnch'+'or']['x']-_0x16f174['_calculate'+'dWidth']-_0x16f174['_margin']['x'],_0x16f174['_margin']['y']=_0x569f3e['y']-_0x16f174['_calculate'+'dHeight']*_0x3afcfe['y'],_0x16f174['_margin']['w']=_0x16f174['_localAnch'+'or']['w']-_0x16f174['_localAnch'+'or']['y']-_0x16f174['_calculate'+'dHeight']-_0x16f174['_margin']['y'],this['_dirtyLoca'+'l']=!(0xa8b+-0x1a3f+0xfb5);}if(!_0x45b4f4){this['_dirtyWorl'+'d']&&(_0x16f174['_cornersDi'+'rty']=!(-0x66*0x2+0x8*0x127+0x9a*-0xe),_0x16f174['_canvasCor'+'nersDirty']=!(-0x1361+0x1a69+-0x12*0x64),_0x16f174['_worldCorn'+'ersDirty']=!(0x25*-0x65+-0x3*-0x34e+0x1*0x4af)),$e['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x16f174['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x16f174['_anchorTra'+'nsform']):_0x16f174['_screenToW'+'orld']['copy'](_0x16f174['_anchorTra'+'nsform']),_0x16f174['_modelTran'+'sform']['mul2'](_0x16f174['_screenToW'+'orld'],this['localTrans'+'form']),_0x45b4f4){_0x16f174['_screenToW'+'orld']['mul2'](_0x45b4f4['screen']['_screenMat'+'rix'],_0x16f174['_screenToW'+'orld']),_0x45b4f4['screen']['screenSpac'+'e']||_0x16f174['_screenToW'+'orld']['mul2'](_0x45b4f4['worldTrans'+'form'],_0x16f174['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x16f174['_screenToW'+'orld'],this['localTrans'+'form']);const _0x34ac4c=_0x16f174['_parentWor'+'ldTransfor'+'m'];_0x34ac4c['setIdentit'+'y']();const _0x4bb345=this['_parent'];_0x4bb345&&_0x4bb345['element']&&_0x4bb345!==_0x45b4f4&&(es['setTRS'](T['ZERO'],_0x4bb345['getLocalRo'+'tation'](),_0x4bb345['getLocalSc'+'ale']()),_0x34ac4c['mul2'](_0x4bb345['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x1a142c=ni;_0x1a142c['set'](-0x1*-0x13d2+0x18e*-0x13+-0x4dc*-0x2,0x1f20+0x4*-0xe9+-0x4*0x6df,this['localPosit'+'ion']['z']);const _0x390b92=kR;_0x390b92['set'](_0x16f174['_absLeft']+_0x16f174['_pivot']['x']*_0x16f174['calculated'+'Width'],_0x16f174['_absBottom']+_0x16f174['_pivot']['y']*_0x16f174['calculated'+'Height'],-0x1501+0x17d+0x1384),es['setTransla'+'te'](-_0x390b92['x'],-_0x390b92['y'],-_0x390b92['z']),Yl['setTRS'](_0x1a142c,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x390b92['x'],_0x390b92['y'],_0x390b92['z']),_0x16f174['_screenTra'+'nsform']['mul2'](_0x16f174['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x16f174['_cornersDi'+'rty']=!(-0x14*-0x1bf+-0x141e+-0xa*0x17b),_0x16f174['_canvasCor'+'nersDirty']=!(-0x11*0x62+-0x1b32+0x1*0x21b4),_0x16f174['_worldCorn'+'ersDirty']=!(-0x80*-0x1+0xcbc*-0x1+0xc3c);}else this['worldTrans'+'form']['copy'](_0x16f174['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0x20e5+0x4d0+0x7f*-0x4c);}}['_onInsert'](_0x261517){const _0x37fcb1=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x37fcb1['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x28f673=this['entity'];for(;_0x28f673;){const _0x293204=_0x28f673['parent'];if((_0x293204===null||_0x293204['screen'])&&_0x28f673['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0x1e70af=this['system']['_prerender']['indexOf'](this['entity']);_0x1e70af>=0x53*0x39+0x779*-0x3+-0x15*-0x30&&this['system']['_prerender']['splice'](_0x1e70af,-0x6*0x50b+0x172c+0x717),this['system']['_prerender']['indexOf'](_0x28f673)<-0x1*0x250d+0x1701+0xe0c&&this['system']['_prerender']['push'](_0x28f673),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x28f673['name']);}_0x28f673=_0x293204;}}['_onPrerend'+'er'](){for(let _0x477791=0x1334+-0xd81*0x2+0x7ce;_0x477791<this['system']['_prerender']['length'];_0x477791++){const _0x267618=this['system']['_prerender'][_0x477791];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0x267618['name']),_0x267618['element']&&_0x267618['element']['syncMask'](-0x19ef*-0x1+0x2136+-0x3b24);}this['system']['_prerender']['length']=-0x11f4+-0x89e+0xd49*0x2;}['_bindScree'+'n'](_0x33abc0){_0x33abc0['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x444003){_0x444003['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x340b58){this['screen']&&this['screen']!==_0x340b58&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x3df9e1=this['screen'];this['screen']=_0x340b58,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x3df9e1),this['_anchorDir'+'ty']=!(-0x2*-0xdab+-0x79b+-0x13bb);const _0x1165c5=this['entity']['children'];for(let _0x399526=-0x14d+-0x1dda+0x1f27,_0x257049=_0x1165c5['length'];_0x399526<_0x257049;_0x399526++)_0x1165c5[_0x399526]['element']&&_0x1165c5[_0x399526]['element']['_updateScr'+'een'](_0x340b58);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x237d3e){const _0x1d177f=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x1d177f['mask'],_0x237d3e);}['_setMasked'+'By'](_0x990ece){const _0x489448=this['_image']||this['_text'];if(_0x990ece){const _0x3bb00b=_0x990ece['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x3bb00b),_0x489448==null||_0x489448['_setStenci'+'l'](new qs({'ref':_0x3bb00b,'func':Ch})),this['_maskedBy']=_0x990ece;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x489448==null||_0x489448['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x3eecc5,_0xdb7b42){var _0x40dbd4,_0x12a243;if(_0x3eecc5){if(this['_setMasked'+'By'](_0x3eecc5),this['mask']){const _0x2ab3c7=_0x3eecc5['element']['_image']['_maskRef'],_0x4fba8f=new qs({'ref':_0x2ab3c7,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x4fba8f),this['_image']['_maskRef']=_0xdb7b42,_0xdb7b42++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x4fba8f['ref']+(0x2bd*0xb+0x3dc*-0x4+-0x1*0xeae))),v['trace'](Ss,'depth++\x20to'+':\x20',_0xdb7b42),_0x3eecc5=this['entity'];}const _0x1eff3e=this['entity']['children'];for(let _0x3c24b8=-0x17*-0x100+-0xf71*0x1+-0x78f,_0x100f16=_0x1eff3e['length'];_0x3c24b8<_0x100f16;_0x3c24b8++)(_0x40dbd4=_0x1eff3e[_0x3c24b8]['element'])==null||_0x40dbd4['_updateMas'+'k'](_0x3eecc5,_0xdb7b42);this['mask']&&_0xdb7b42--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x38b353=new qs({'ref':_0xdb7b42,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x38b353),this['_image']['_maskRef']=_0xdb7b42,_0xdb7b42++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x38b353['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0xdb7b42),_0x3eecc5=this['entity'];}const _0x89befe=this['entity']['children'];for(let _0x234840=-0x1eaf+0x2d*-0x1+0x1edc,_0x558a3c=_0x89befe['length'];_0x234840<_0x558a3c;_0x234840++)(_0x12a243=_0x89befe[_0x234840]['element'])==null||_0x12a243['_updateMas'+'k'](_0x3eecc5,_0xdb7b42);this['mask']&&_0xdb7b42--;}}['_parseUpTo'+'Screen'](){const _0x38915f={'screen':null,'mask':null};let _0x5c8157=this['entity']['_parent'];for(;_0x5c8157&&!_0x5c8157['screen'];)_0x5c8157['element']&&_0x5c8157['element']['mask']&&(_0x38915f['mask']||(_0x38915f['mask']=_0x5c8157)),_0x5c8157=_0x5c8157['parent'];return _0x5c8157&&_0x5c8157['screen']&&(_0x38915f['screen']=_0x5c8157),_0x38915f;}['_onScreenR'+'esize'](_0x17915b){this['_anchorDir'+'ty']=!(-0xa1*-0x2a+0x305+0x37*-0x89),this['_cornersDi'+'rty']=!(0x5ac+0x1*0xf1f+-0x14cb),this['_worldCorn'+'ersDirty']=!(-0x236d+-0x399+-0xd02*-0x3),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x17915b);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x2f42b6=-0x144*-0x1b+0x14a0+-0x1*0x32e4,_0x21ad39=-0x1*0x13c7+0x1056+0xab*0xb;const _0x5e824b=this['entity']['_parent'];if(_0x5e824b&&_0x5e824b['element'])_0x2f42b6=_0x5e824b['element']['calculated'+'Width'],_0x21ad39=_0x5e824b['element']['calculated'+'Height'];else{if(this['screen']){const _0x27c897=this['screen']['screen']['resolution'],_0x5f55cc=this['screen']['screen']['scale'];_0x2f42b6=_0x27c897['x']/_0x5f55cc,_0x21ad39=_0x27c897['y']/_0x5f55cc;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x2f42b6,this['_anchor']['y']*_0x21ad39,this['_anchor']['z']*_0x2f42b6,this['_anchor']['w']*_0x21ad39);}['getOffsetP'+'osition'](_0x4254b1,_0x4e0a56){const _0x1e77a8=this['entity']['getLocalPo'+'sition']()['clone']();return _0x1e77a8['x']+=_0x4254b1,_0x1e77a8['y']+=_0x4e0a56,this['_screenToW'+'orld']['transformP'+'oint'](_0x1e77a8,_0x1e77a8),_0x1e77a8;}['onLayersCh'+'anged'](_0x74242a,_0x3811ae){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x74242a['off']('add',this['onLayerAdd'+'ed'],this),_0x74242a['off']('remove',this['onLayerRem'+'oved'],this),_0x3811ae['on']('add',this['onLayerAdd'+'ed'],this),_0x3811ae['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x758430){this['layers']['indexOf'](_0x758430['id'])<-0x5*-0x4f6+-0x10*-0x259+-0x377*0x12||(this['_image']?_0x758430['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x758430['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x8f30f3){this['layers']['indexOf'](_0x8f30f3['id'])<0x1*0x1b59+-0x23ad+0x854||(this['_image']?_0x8f30f3['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x8f30f3['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x316186;const _0x11ca63=this['system']['app']['scene'],_0x104f4a=_0x11ca63['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x11ca63['on']('set:layers',this['onLayersCh'+'anged'],this),_0x104f4a&&(this['_evtLayerA'+'dded']=_0x104f4a['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x104f4a['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0x71c+-0x5*-0x1a+-0xd*-0x82&&((_0x316186=this['system']['app']['batcher'])==null||_0x316186['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x490e95,_0x12f045,_0x4cb56b,_0x2beccc;const _0x200000=this['system']['app']['scene']['layers'];(_0x490e95=this['_evtLayers'+'Changed'])==null||_0x490e95['off'](),this['_evtLayers'+'Changed']=null,_0x200000&&((_0x12f045=this['_evtLayerA'+'dded'])==null||_0x12f045['off'](),this['_evtLayerA'+'dded']=null,(_0x4cb56b=this['_evtLayerR'+'emoved'])==null||_0x4cb56b['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0xe9*0x5+-0x1533+0x10a6&&((_0x2beccc=this['system']['app']['batcher'])==null||_0x2beccc['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x10794e,_0x367f9e){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x156522=this['_absRight']-this['_absLeft'],_0x2da18f=this['_absTop']-this['_absBottom'];_0x10794e?this['_setWidth'](_0x156522):this['_setCalcul'+'atedWidth'](_0x156522,!(-0x749*-0x5+0x11ab+-0x3617)),_0x367f9e?this['_setHeight'](_0x2da18f):this['_setCalcul'+'atedHeight'](_0x2da18f,!(-0xae0+0x1b91*-0x1+0x2672));const _0x3c8b15=this['entity']['getLocalPo'+'sition']();_0x3c8b15['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x3c8b15['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x3c8b15),this['_sizeDirty']=!(-0xb08+0x2450+-0x1*0x1947);}['_setWidth'](_0x254587){this['_width']=_0x254587,this['_setCalcul'+'atedWidth'](_0x254587,!(0x1ea+0x15e4+-0x17cd)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x2080a3){this['_height']=_0x2080a3,this['_setCalcul'+'atedHeight'](_0x2080a3,!(0x17b9+0x191c*-0x1+0x164)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x357e79,_0x41e72c){if(!(Math['abs'](_0x357e79-this['_calculate'+'dWidth'])<=0x43*-0x94+0x2dd*0x2+0x2102+0.0001)){if(this['_calculate'+'dWidth']=_0x357e79,this['entity']['_dirtifyLo'+'cal'](),_0x41e72c){const _0x291a28=this['entity']['getLocalPo'+'sition'](),_0x272398=this['_pivot'];this['_margin']['x']=_0x291a28['x']-this['_calculate'+'dWidth']*_0x272398['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x5b7f75,_0x23be81){if(!(Math['abs'](_0x5b7f75-this['_calculate'+'dHeight'])<=0x2212+0x154*0x12+0x1*-0x39fa+0.0001)){if(this['_calculate'+'dHeight']=_0x5b7f75,this['entity']['_dirtifyLo'+'cal'](),_0x23be81){const _0x133de1=this['entity']['getLocalPo'+'sition'](),_0x5a9d32=this['_pivot'];this['_margin']['y']=_0x133de1['y']-this['_calculate'+'dHeight']*_0x5a9d32['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x15cae8=this['entity']['_children'];for(let _0x8fc22b=0x2*0xc47+0x1a7c+0x2f*-0x116,_0x12f1bc=_0x15cae8['length'];_0x8fc22b<_0x12f1bc;_0x8fc22b++)_0x15cae8[_0x8fc22b]['element']&&(_0x15cae8[_0x8fc22b]['element']['_anchorDir'+'ty']=!(0x2b5+0x2fa*-0x2+0x3*0x115),_0x15cae8[_0x8fc22b]['element']['_sizeDirty']=!(0x311*0x4+0x115a*-0x1+-0x1f*-0x2a));}['addModelTo'+'Layers'](_0xddd2f6){this['_addedMode'+'ls']['push'](_0xddd2f6);for(let _0x397a8b=0x1c66+0x1834+-0x349a;_0x397a8b<this['layers']['length'];_0x397a8b++){const _0x34ea44=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x397a8b]);_0x34ea44&&_0x34ea44['addMeshIns'+'tances'](_0xddd2f6['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x3f55c9){const _0x1d6c00=this['_addedMode'+'ls']['indexOf'](_0x3f55c9);_0x1d6c00>=0x7*-0x4ae+0x23fb+-0x339&&this['_addedMode'+'ls']['splice'](_0x1d6c00,0x382+0x1*0x17b2+0x1b33*-0x1);for(let _0x4afba1=-0x2ee+-0xdb0+-0x3*-0x58a;_0x4afba1<this['layers']['length'];_0x4afba1++){const _0x27aaa3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4afba1]);_0x27aaa3&&_0x27aaa3['removeMesh'+'Instances'](_0x3f55c9['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x3dd9ea=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x3dd9ea&&(this['_maskOffse'+'t']=-0x1041+-0xeb9+0x1efa+0.5,this['_offsetRea'+'dAt']=_0x3dd9ea);const _0x1f8ea8=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x1*0x1c2b+0x2db*0xb+-0x53*0xa+0.001,_0x1f8ea8;}['isVisibleF'+'orCamera'](_0x1fdcf0){let _0x140d64,_0x2a96ef,_0x36b9f7,_0x2f6060;if(this['maskedBy']){const _0x2e2a0e=this['maskedBy']['element']['screenCorn'+'ers'];_0x140d64=Math['min'](Math['min'](_0x2e2a0e[-0x413*-0x8+-0x1*-0x55a+-0x25f2]['x'],_0x2e2a0e[0xd1b+0x1048+-0x1d62]['x']),Math['min'](_0x2e2a0e[0x1*0x1111+0x25a8+0x7*-0x7d1]['x'],_0x2e2a0e[0x89f+0xb20+-0x13bc]['x'])),_0x2a96ef=Math['max'](Math['max'](_0x2e2a0e[-0x1*-0xb21+-0x1*0x123+-0x9fe]['x'],_0x2e2a0e[0x12e0+-0x614*-0x6+0x1f*-0x1c9]['x']),Math['max'](_0x2e2a0e[0x5af+0xba3+-0x1150]['x'],_0x2e2a0e[-0x23c4+0xf62+0x1465]['x'])),_0x2f6060=Math['min'](Math['min'](_0x2e2a0e[-0x11a5+0x1*-0x3+0x71*0x28]['y'],_0x2e2a0e[-0x199a+-0x52b+0x1ec6]['y']),Math['min'](_0x2e2a0e[-0x280*-0x6+0x65*0x63+-0x360d]['y'],_0x2e2a0e[-0x206c+0x122d+0xe42]['y'])),_0x36b9f7=Math['max'](Math['max'](_0x2e2a0e[-0x289*0xe+0x1b7c*-0x1+0x1f7d*0x2]['y'],_0x2e2a0e[0xc0e*0x2+-0x157+-0x1*0x16c4]['y']),Math['max'](_0x2e2a0e[0x11b0+0x6*-0x3a3+0xa*0x6a]['y'],_0x2e2a0e[-0x137b+-0x3de+-0x73*-0x34]['y']));}else{const _0x415ad5=this['system']['app']['graphicsDe'+'vice']['width'],_0x48e1a6=this['system']['app']['graphicsDe'+'vice']['height'],_0x55f2bb=_0x1fdcf0['_rect']['z']*_0x415ad5,_0x557977=_0x1fdcf0['_rect']['w']*_0x48e1a6;_0x140d64=_0x1fdcf0['_rect']['x']*_0x415ad5,_0x2a96ef=_0x140d64+_0x55f2bb,_0x36b9f7=(0x65*-0x9+-0x20b1*0x1+0x9*0x407-_0x1fdcf0['_rect']['y'])*_0x48e1a6,_0x2f6060=_0x36b9f7-_0x557977;}const _0x1127b5=this['screenCorn'+'ers'],_0x4eaf99=Math['min'](Math['min'](_0x1127b5[0xe68+0x1*-0x23b+0xc2d*-0x1]['x'],_0x1127b5[0x2*-0xcaa+0xa*-0x39b+-0x5*-0xc47]['x']),Math['min'](_0x1127b5[-0x1*0x1928+0x32*0x54+0x461*0x2]['x'],_0x1127b5[-0x2038+-0x1961+0x399c]['x'])),_0x464efe=Math['max'](Math['max'](_0x1127b5[-0x3da+0x3*0x5a7+0x5*-0x29f]['x'],_0x1127b5[-0x1645+-0x117+0x175d]['x']),Math['max'](_0x1127b5[-0x2596*-0x1+0xa71+0x13*-0x287]['x'],_0x1127b5[0xd*-0x8e+0x3*-0x807+0x1f4e]['x'])),_0x199d2e=Math['min'](Math['min'](_0x1127b5[-0xa6e+0x19c3+0x5*-0x311]['y'],_0x1127b5[0x12*0x170+-0xf0a+-0xad5]['y']),Math['min'](_0x1127b5[-0x84f+-0x17*-0x19f+-0x1cf8]['y'],_0x1127b5[-0x5*0x78a+0x948+0x1c6d]['y'])),_0x19ab7a=Math['max'](Math['max'](_0x1127b5[-0xffc+-0xae8*0x1+-0xd72*-0x2]['y'],_0x1127b5[-0x6d3*-0x1+0x1a87+-0x2159]['y']),Math['max'](_0x1127b5[0x15d8+-0x1*-0x1e83+-0x3459]['y'],_0x1127b5[0x173d*-0x1+-0x7cf+-0x1*-0x1f0f]['y']));return!(_0x464efe<_0x140d64||_0x4eaf99>_0x2a96ef||_0x199d2e>_0x36b9f7||_0x19ab7a<_0x2f6060);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x72*-0x1e+-0x103e+-0x1d9b*-0x1);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0x11cf+0x662+-0x1830);}['_dirtyBatc'+'h'](){var _0x4e1a8b;this['batchGroup'+'Id']!==-(-0xc36*0x2+0x8cf*0x2+0x15*0x53)&&((_0x4e1a8b=this['system']['app']['batcher'])==null||_0x4e1a8b['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Ht,'EVENT_MOUS'+'EDOWN','mousedown'),c(Ht,'EVENT_MOUS'+'EUP','mouseup'),c(Ht,'EVENT_MOUS'+'EENTER','mouseenter'),c(Ht,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Ht,'EVENT_MOUS'+'EMOVE','mousemove'),c(Ht,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Ht,'EVENT_CLIC'+'K','click'),c(Ht,'EVENT_TOUC'+'HSTART','touchstart'),c(Ht,'EVENT_TOUC'+'HEND','touchend'),c(Ht,'EVENT_TOUC'+'HMOVE','touchmove'),c(Ht,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(0x1*0x1e6+-0x2b1*-0x1+-0x497);}}const NR=['enabled'];class zR extends Xe{constructor(_0x176460){super(_0x176460),this['id']='element',this['ComponentT'+'ype']=Ht,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x176460['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x3f970a=this['_defaultTe'+'xture']['lock'](),_0x37b9b2=new Uint8Array(0x35*0x1a+0x4c6*0x2+-0x2*0x775);_0x37b9b2[-0x1be6+-0xe77+0x2a5d]=-0x221b+-0x3*-0x614+0x2*0x86f,_0x37b9b2[0x1077*-0x1+0x2236+0x2f5*-0x6]=-0x1*0x85d+0xa86+-0x12a,_0x37b9b2[0x898+0x4b6+0x1*-0xd4c]=0x2*-0x4c6+0xb3c+-0xb1,_0x37b9b2[0xd*0x1ba+-0x7*0x18e+-0xb8d]=-0xdc1*-0x2+0x1*0xd2b+-0x13d7*0x2,_0x3f970a['set'](_0x37b9b2),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x1ebf0b,_0x2588ba,_0xe8edea){_0x1ebf0b['_beingInit'+'ialized']=!(-0x1*-0x105f+0x1d18+0x1*-0x2d77),_0x2588ba['anchor']!==void(0x24c1+-0x11*0x178+-0xbc9*0x1)&&(_0x2588ba['anchor']instanceof Q?_0x1ebf0b['anchor']['copy'](_0x2588ba['anchor']):_0x1ebf0b['anchor']['set'](_0x2588ba['anchor'][0x144f+0x1*0x1b4d+-0x2f9c],_0x2588ba['anchor'][0x13b1*0x1+0x16ef+-0x2a9f],_0x2588ba['anchor'][0x260+-0x633+0x9*0x6d],_0x2588ba['anchor'][0x2155+-0x1026+-0x112c])),_0x2588ba['pivot']!==void(0xefe+-0x233e+0x1440)&&(_0x2588ba['pivot']instanceof $?_0x1ebf0b['pivot']['copy'](_0x2588ba['pivot']):_0x1ebf0b['pivot']['set'](_0x2588ba['pivot'][0x6ad+0x198c+-0x2039],_0x2588ba['pivot'][0x1*0x6b+-0x58f*-0x1+0x8b*-0xb]));const _0x18eeec=Math['abs'](_0x1ebf0b['anchor']['x']-_0x1ebf0b['anchor']['z'])>0x2*0x8f0+0x1fce+-0x31ae+0.001,_0xed17e7=Math['abs'](_0x1ebf0b['anchor']['y']-_0x1ebf0b['anchor']['w'])>0x23d9+-0x459+-0x150*0x18+0.001;let _0x2683a8=!(-0xb9b*0x3+-0x1*-0xa1f+0x18b3),_0x3ca73a;_0x2588ba['margin']!==void(0x1f8b+0xa*-0xb5+0x7*-0x37f)&&(_0x2588ba['margin']instanceof Q?_0x1ebf0b['margin']['copy'](_0x2588ba['margin']):_0x1ebf0b['_margin']['set'](_0x2588ba['margin'][-0x1750+-0xa9*-0x1+0x16a7],_0x2588ba['margin'][0x25d4+0x2*-0x241+-0x2151],_0x2588ba['margin'][-0x25*0x42+-0x394*0xa+0x2d54],_0x2588ba['margin'][-0x1*0x977+0x2e8+0x692]),_0x2683a8=!(0x3fb*0x2+0x224d+-0x2a43)),_0x2588ba['left']!==void(-0x1ec+-0xdb4+-0x320*-0x5)&&(_0x1ebf0b['_margin']['x']=_0x2588ba['left'],_0x2683a8=!(-0x9ec+-0xb*0x83+0xf8d)),_0x2588ba['bottom']!==void(-0x74*-0x34+0xa06*-0x2+0x12c*-0x3)&&(_0x1ebf0b['_margin']['y']=_0x2588ba['bottom'],_0x2683a8=!(0x2*0x1344+-0x23a4*-0x1+-0x4a2c)),_0x2588ba['right']!==void(-0x14*-0x65+-0xc7*-0x1a+-0x1*0x1c1a)&&(_0x1ebf0b['_margin']['z']=_0x2588ba['right'],_0x2683a8=!(0x20be+-0x1eb0+-0x20e)),_0x2588ba['top']!==void(0x1*-0x2125+-0x1*-0x66f+0x1ab6)&&(_0x1ebf0b['_margin']['w']=_0x2588ba['top'],_0x2683a8=!(-0xce*-0xc+-0x7d1+-0x1d7)),_0x2683a8&&(_0x1ebf0b['margin']=_0x1ebf0b['_margin']);let _0x1abc44=!(-0x6bc*-0x3+0x173e+-0x2b71);_0x2588ba['width']!==void(0x2*-0x98d+0x32+0x12e8)&&!_0x18eeec?_0x1ebf0b['width']=_0x2588ba['width']:_0x18eeec&&(_0x1abc44=!(0xc7*0xb+0x1*0x5ed+-0xe7a*0x1)),_0x2588ba['height']!==void(-0x2f0+0x1*0x1fc1+-0x1cd1)&&!_0xed17e7?_0x1ebf0b['height']=_0x2588ba['height']:_0xed17e7&&(_0x1abc44=!(0x25a3+0x1b67+-0x96*0x6f)),_0x1abc44&&(_0x1ebf0b['anchor']=_0x1ebf0b['anchor']),_0x2588ba['enabled']!==void(-0x31f*0x3+0x2bd*-0xa+0x199*0x17)&&(_0x1ebf0b['enabled']=_0x2588ba['enabled']),_0x2588ba['useInput']!==void(-0x4af*-0x3+0x119c*0x1+0x655*-0x5)&&(_0x1ebf0b['useInput']=_0x2588ba['useInput']),_0x2588ba['fitMode']!==void(0xbec+-0x1fd0+-0x26*-0x86)&&(_0x1ebf0b['fitMode']=_0x2588ba['fitMode']),_0x1ebf0b['batchGroup'+'Id']=_0x2588ba['batchGroup'+'Id']===void(0x972+0x18b*0x5+-0x1129)||_0x2588ba['batchGroup'+'Id']===null?-(-0x1*0x1cea+0x2425+-0x73a):_0x2588ba['batchGroup'+'Id'],_0x2588ba['layers']&&Array['isArray'](_0x2588ba['layers'])&&(_0x1ebf0b['layers']=_0x2588ba['layers']['slice'](-0xd*0x1e9+0x201e+0x5*-0x175)),_0x2588ba['type']!==void(0x5b*0x3f+-0x33c*0x3+-0x13*0xab)&&(_0x1ebf0b['type']=_0x2588ba['type']),_0x1ebf0b['type']===rf?(_0x2588ba['rect']!==void(-0x144d+0xc7f+0x7ce)&&(_0x1ebf0b['rect']=_0x2588ba['rect']),_0x2588ba['color']!==void(-0x4d4*-0x1+-0xe*-0x241+-0x2462)&&(_0x3ca73a=_0x2588ba['color'],_0x3ca73a instanceof j||(_0x3ca73a=new j(_0x2588ba['color'][0x181f+-0x20f9*0x1+0x46d*0x2],_0x2588ba['color'][0x6ff+0x1a*-0x89+-0x376*-0x2],_0x2588ba['color'][0x1afa+-0x25ac+0xab4])),_0x1ebf0b['color']=_0x3ca73a),_0x2588ba['opacity']!==void(0x1*0x1468+0x1*-0xbaf+-0x8b9)&&(_0x1ebf0b['opacity']=_0x2588ba['opacity']),_0x2588ba['textureAss'+'et']!==void(-0x6*0x9e+0x4bc+0x4*-0x42)&&(_0x1ebf0b['textureAss'+'et']=_0x2588ba['textureAss'+'et']),_0x2588ba['texture']&&(_0x1ebf0b['texture']=_0x2588ba['texture']),_0x2588ba['spriteAsse'+'t']!==void(0xdd6+-0x7*0x11+-0xd5f)&&(_0x1ebf0b['spriteAsse'+'t']=_0x2588ba['spriteAsse'+'t']),_0x2588ba['sprite']&&(_0x1ebf0b['sprite']=_0x2588ba['sprite']),_0x2588ba['spriteFram'+'e']!==void(0x1712+-0x170+-0x15a2)&&(_0x1ebf0b['spriteFram'+'e']=_0x2588ba['spriteFram'+'e']),_0x2588ba['pixelsPerU'+'nit']!==void(-0x167b+0x13c8+0x2b3)&&_0x2588ba['pixelsPerU'+'nit']!==null&&(_0x1ebf0b['pixelsPerU'+'nit']=_0x2588ba['pixelsPerU'+'nit']),_0x2588ba['materialAs'+'set']!==void(-0x1*0x26c1+0x1edf+0x1*0x7e2)&&(_0x1ebf0b['materialAs'+'set']=_0x2588ba['materialAs'+'set']),_0x2588ba['material']&&(_0x1ebf0b['material']=_0x2588ba['material']),_0x2588ba['mask']!==void(0x1b22+0x21db+0xd*-0x4b1)&&(_0x1ebf0b['mask']=_0x2588ba['mask'])):_0x1ebf0b['type']===ex&&(_0x2588ba['autoWidth']!==void(-0x2625+0x1dba+0x86b)&&(_0x1ebf0b['autoWidth']=_0x2588ba['autoWidth']),_0x2588ba['autoHeight']!==void(0x2*0xc0e+0x19*-0xa7+0x7cd*-0x1)&&(_0x1ebf0b['autoHeight']=_0x2588ba['autoHeight']),_0x2588ba['rtlReorder']!==void(0x1*0xd78+-0x1958+0xbe0)&&(_0x1ebf0b['rtlReorder']=_0x2588ba['rtlReorder']),_0x2588ba['unicodeCon'+'verter']!==void(0x16a1+-0x1*-0x4ed+-0x2*0xdc7)&&(_0x1ebf0b['unicodeCon'+'verter']=_0x2588ba['unicodeCon'+'verter']),_0x2588ba['text']!==null&&_0x2588ba['text']!==void(-0x21d6+0x9bb*-0x2+-0x354c*-0x1)?_0x1ebf0b['text']=_0x2588ba['text']:_0x2588ba['key']!==null&&_0x2588ba['key']!==void(0xc6d+-0x92*0x3d+0x479*0x5)&&(_0x1ebf0b['key']=_0x2588ba['key']),_0x2588ba['color']!==void(0x1*0x1afb+0x8*0x17+0x7*-0x3f5)&&(_0x3ca73a=_0x2588ba['color'],_0x3ca73a instanceof j||(_0x3ca73a=new j(_0x3ca73a[-0x92b+0x2169+-0x3a*0x6b],_0x3ca73a[0x86a+-0x24*0x59+-0x1*-0x41b],_0x3ca73a[-0xf79+0x1dd+-0x1*-0xd9e])),_0x1ebf0b['color']=_0x3ca73a),_0x2588ba['opacity']!==void(-0x1*0x6e3+0x2266*0x1+0x1b83*-0x1)&&(_0x1ebf0b['opacity']=_0x2588ba['opacity']),_0x2588ba['spacing']!==void(0x4*-0xd2+0x9*0x251+-0x1191)&&(_0x1ebf0b['spacing']=_0x2588ba['spacing']),_0x2588ba['fontSize']!==void(0xa4e+0x1*0x40f+-0xe5d)&&(_0x1ebf0b['fontSize']=_0x2588ba['fontSize'],_0x2588ba['lineHeight']||(_0x1ebf0b['lineHeight']=_0x2588ba['fontSize'])),_0x2588ba['lineHeight']!==void(-0x95f+0x2084+-0xf*0x18b)&&(_0x1ebf0b['lineHeight']=_0x2588ba['lineHeight']),_0x2588ba['maxLines']!==void(0x20eb+0x1bb9*-0x1+-0x532)&&(_0x1ebf0b['maxLines']=_0x2588ba['maxLines']),_0x2588ba['wrapLines']!==void(-0x2026+-0x21*-0x71+-0x1*-0x1195)&&(_0x1ebf0b['wrapLines']=_0x2588ba['wrapLines']),_0x2588ba['minFontSiz'+'e']!==void(0x3*0x72a+0x1b34+0x2e*-0x10f)&&(_0x1ebf0b['minFontSiz'+'e']=_0x2588ba['minFontSiz'+'e']),_0x2588ba['maxFontSiz'+'e']!==void(-0x1d17*0x1+-0xd61+0x25c*0x12)&&(_0x1ebf0b['maxFontSiz'+'e']=_0x2588ba['maxFontSiz'+'e']),_0x2588ba['autoFitWid'+'th']&&(_0x1ebf0b['autoFitWid'+'th']=_0x2588ba['autoFitWid'+'th']),_0x2588ba['autoFitHei'+'ght']&&(_0x1ebf0b['autoFitHei'+'ght']=_0x2588ba['autoFitHei'+'ght']),_0x2588ba['fontAsset']!==void(0x116d+0x1297+-0x1cd*0x14)&&(_0x1ebf0b['fontAsset']=_0x2588ba['fontAsset']),_0x2588ba['font']!==void(0x22c+0x3a*0x81+0x2*-0xfb3)&&(_0x1ebf0b['font']=_0x2588ba['font']),_0x2588ba['alignment']!==void(-0xae6+-0x1*0x760+0x1246)&&(_0x1ebf0b['alignment']=_0x2588ba['alignment']),_0x2588ba['outlineCol'+'or']!==void(0x1411+0x1183+-0x2594)&&(_0x1ebf0b['outlineCol'+'or']=_0x2588ba['outlineCol'+'or']),_0x2588ba['outlineThi'+'ckness']!==void(-0x2f0*0xd+0x366*0x4+0x1898)&&(_0x1ebf0b['outlineThi'+'ckness']=_0x2588ba['outlineThi'+'ckness']),_0x2588ba['shadowColo'+'r']!==void(0x269e*0x1+-0xd6*-0x11+-0x34d4)&&(_0x1ebf0b['shadowColo'+'r']=_0x2588ba['shadowColo'+'r']),_0x2588ba['shadowOffs'+'et']!==void(-0x1e84+0x4af+0x19d5)&&(_0x1ebf0b['shadowOffs'+'et']=_0x2588ba['shadowOffs'+'et']),_0x2588ba['enableMark'+'up']!==void(0x9d*0x3d+0x1992*0x1+-0x3efb)&&(_0x1ebf0b['enableMark'+'up']=_0x2588ba['enableMark'+'up']));const _0x3ee53d=_0x1ebf0b['_parseUpTo'+'Screen']();_0x3ee53d['screen']&&_0x1ebf0b['_updateScr'+'een'](_0x3ee53d['screen']),super['initialize'+'ComponentD'+'ata'](_0x1ebf0b,_0x2588ba,_0xe8edea),_0x1ebf0b['_beingInit'+'ialized']=!(-0x1*0x17dd+0x207*0x1+0x15d7),_0x1ebf0b['type']===rf&&_0x1ebf0b['_image']['_meshDirty']&&_0x1ebf0b['_image']['_updateMes'+'h'](_0x1ebf0b['_image']['mesh']);}['onAddCompo'+'nent'](_0x4d7628,_0x4a9057){_0x4d7628['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x1363ac,_0x293daa){_0x293daa['onRemove']();}['cloneCompo'+'nent'](_0xf1f913,_0x41c5c0){const _0x401ace=_0xf1f913['element'],_0x181afb={'enabled':_0x401ace['enabled'],'width':_0x401ace['width'],'height':_0x401ace['height'],'anchor':_0x401ace['anchor']['clone'](),'pivot':_0x401ace['pivot']['clone'](),'margin':_0x401ace['margin']['clone'](),'alignment':_0x401ace['alignment']&&_0x401ace['alignment']['clone']()||_0x401ace['alignment'],'autoWidth':_0x401ace['autoWidth'],'autoHeight':_0x401ace['autoHeight'],'type':_0x401ace['type'],'rect':_0x401ace['rect']&&_0x401ace['rect']['clone']()||_0x401ace['rect'],'rtlReorder':_0x401ace['rtlReorder'],'unicodeConverter':_0x401ace['unicodeCon'+'verter'],'materialAsset':_0x401ace['materialAs'+'set'],'material':_0x401ace['material'],'color':_0x401ace['color']&&_0x401ace['color']['clone']()||_0x401ace['color'],'opacity':_0x401ace['opacity'],'textureAsset':_0x401ace['textureAss'+'et'],'texture':_0x401ace['texture'],'spriteAsset':_0x401ace['spriteAsse'+'t'],'sprite':_0x401ace['sprite'],'spriteFrame':_0x401ace['spriteFram'+'e'],'pixelsPerUnit':_0x401ace['pixelsPerU'+'nit'],'spacing':_0x401ace['spacing'],'lineHeight':_0x401ace['lineHeight'],'wrapLines':_0x401ace['wrapLines'],'layers':_0x401ace['layers'],'fontSize':_0x401ace['fontSize'],'minFontSize':_0x401ace['minFontSiz'+'e'],'maxFontSize':_0x401ace['maxFontSiz'+'e'],'autoFitWidth':_0x401ace['autoFitWid'+'th'],'autoFitHeight':_0x401ace['autoFitHei'+'ght'],'maxLines':_0x401ace['maxLines'],'fontAsset':_0x401ace['fontAsset'],'font':_0x401ace['font'],'useInput':_0x401ace['useInput'],'fitMode':_0x401ace['fitMode'],'batchGroupId':_0x401ace['batchGroup'+'Id'],'mask':_0x401ace['mask'],'outlineColor':_0x401ace['outlineCol'+'or']&&_0x401ace['outlineCol'+'or']['clone']()||_0x401ace['outlineCol'+'or'],'outlineThickness':_0x401ace['outlineThi'+'ckness'],'shadowColor':_0x401ace['shadowColo'+'r']&&_0x401ace['shadowColo'+'r']['clone']()||_0x401ace['shadowColo'+'r'],'shadowOffset':_0x401ace['shadowOffs'+'et']&&_0x401ace['shadowOffs'+'et']['clone']()||_0x401ace['shadowOffs'+'et'],'enableMarkup':_0x401ace['enableMark'+'up']};return _0x401ace['key']!==void(0x1f8d+0x13e*0x13+-0x3727)&&_0x401ace['key']!==null?_0x181afb['key']=_0x401ace['key']:_0x181afb['text']=_0x401ace['text'],this['addCompone'+'nt'](_0x41c5c0,_0x181afb);}['getTextEle'+'mentMateri'+'al'](_0x44ef56,_0x136768,_0x25a125){const _0x15c8ca=(_0x44ef56&&0xd13+-0xb*-0x25f+-0x2727)|(_0x136768&&-0x239*-0x1+-0x1499*0x1+0x1262)|(_0x25a125&&-0x1992+0x2076+0x50*-0x16);let _0x239ce7=this['_defaultTe'+'xtMaterial'+'s'][_0x15c8ca];if(_0x239ce7)return _0x239ce7;let _0x10f62b='TextMateri'+'al';return _0x239ce7=new cs(),_0x136768?(_0x239ce7['msdfMap']=this['_defaultTe'+'xture'],_0x239ce7['msdfTextAt'+'tribute']=_0x25a125,_0x239ce7['emissive']['set'](-0x200c+0x1*0xb7f+0x148e,0x9*-0x2ad+0x700+0x1116,0x23c9+-0x1a*-0x155+-0x466a)):(_0x10f62b='Bitmap'+_0x10f62b,_0x239ce7['emissive']['set'](-0x1c18+0x4*-0x2bb+0x2705,0x88c+0x87d+0x4*-0x442,-0xa6b*0x2+-0x9a*-0x14+-0x1*-0x8cf),_0x239ce7['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x239ce7['opacityMap']=this['_defaultTe'+'xture'],_0x239ce7['opacityMap'+'Channel']='a'),_0x44ef56&&(_0x10f62b='ScreenSpac'+'e'+_0x10f62b,_0x239ce7['depthTest']=!(0x19a9*0x1+0x44*-0x5b+-0x17c)),_0x239ce7['name']='default'+_0x10f62b,_0x239ce7['useLightin'+'g']=!(0x1ff2+0xe8*0x17+0x34c9*-0x1),_0x239ce7['useTonemap']=!(0x28d*-0xb+0xe2e+0x6f1*0x2),_0x239ce7['useFog']=!(-0xd0c+0x1943+-0xc36),_0x239ce7['useSkybox']=!(0x1905+-0x26e7+0x4f*0x2d),_0x239ce7['diffuse']['set'](-0x4f*-0x7+0x6aa+-0x9*0xfb,-0x1e01+0xc52+0x3*0x5e5,-0x2605*0x1+-0x2*-0xb07+0xff7),_0x239ce7['opacity']=-0x47b+0x684+0x209*-0x1+0.5,_0x239ce7['blendType']=hr,_0x239ce7['depthWrite']=!(-0x1f2+-0x2136+0x1*0x2329),_0x239ce7['emissiveVe'+'rtexColor']=!(-0x2*-0x55e+0x2094+-0x2b50),_0x239ce7['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x15c8ca]=_0x239ce7,_0x239ce7;}['_createBas'+'eImageMate'+'rial'](){const _0x2577a0=new cs();return _0x2577a0['diffuse']['set'](-0xb11*-0x1+0xe21+-0x1932,-0x6*0x4dc+-0x90a+0x1319*0x2,0x9d7*0x3+-0x1c26+-0x27*0x9),_0x2577a0['emissive']['set'](0xbe7*0x3+0xc11*0x2+-0x13f2*0x3,-0x193e+0xccd+0xc72,-0x1*0x21c1+-0xe3*-0x18+0xc7a),_0x2577a0['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x2577a0['opacityMap']=this['_defaultTe'+'xture'],_0x2577a0['opacityMap'+'Channel']='a',_0x2577a0['useLightin'+'g']=!(0x1*0x1855+0x2445+0x3c99*-0x1),_0x2577a0['useTonemap']=!(0x501+-0x1*-0x71f+-0xc1f),_0x2577a0['useFog']=!(-0xa09*-0x1+0x51*0x21+-0x6d3*0x3),_0x2577a0['useSkybox']=!(-0xc7+-0x24*-0x35+-0x6ac),_0x2577a0['blendType']=hr,_0x2577a0['depthWrite']=!(0xd5c+0x4d5*-0x8+-0x33*-0x7f),_0x2577a0;}['getImageEl'+'ementMater'+'ial'](_0x1bfc40,_0x5ee64b,_0x551517,_0x32ef4b){return _0x1bfc40?_0x5ee64b?_0x551517?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x1349*0x1+-0x252f+0xed*0x3d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x26f1+0x2c*-0x11+-0x14*0x1cd,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x2552+0x145f+0x5*0x364),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x163a+0x18ab+0x1*-0x2ee4),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x9d5+-0x27e+-0x6*0x139),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0x3a6*-0x1+0x2622*0x1+-0x1d1*0x17),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x32ef4b?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(-0x1564+-0x8*-0x237+-0x3ad*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x955+0x4*-0x73+0x8*-0xf1,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0xfd1+0x3*-0x17b+-0x7*-0x2e5),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x4dd+0x27b+-0x757*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x14d2+0xf45+-0x2416),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x1*0x84a+-0x8*-0x47d+-0x1b9d),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x25b+-0x1bf*0xb+0x1591*0x1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x1a8f+-0x1a13+-0x7b,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x18a7+-0x1b*0xc1+-0x44b),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x72*-0xe+0x2695+-0x2058),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0x1*0x607+-0x2*-0x9e5+-0x19d0),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0xc3*0x26+0x268a+0x5*-0x1eb),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x551517?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x1aff+-0x227d+0x3d7d),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x32ef4b?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x1*-0x20eb+0x1*0x16a1+-0x378b*0x1),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0x11d6*-0x2+0xb3*0x11+-0x15*-0x122),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x5ee64b?_0x551517?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0xb7c+-0x7a9*-0x3+-0xb*0x322,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0xc35+-0x1396+0x1fcc),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x12b2+-0xe95*0x2+0xa79*0x1),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(0x17*-0xd+-0x1*-0x8bf+0x115*-0x7),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0x17*0x92+-0x1*-0x2221+0x179f*-0x2),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x32ef4b?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x233d*-0x1+0x1faf+0x1*0x38f,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0xcee+-0x1982+0xc95),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x2302+0x6b2+0x1c51),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x8*0x18b+-0x4*0x2e9+-0x7ff*-0x3),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x24c9+0x780*-0x2+0x33ca*0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0xd8*-0x2c+-0xfd6+0x1*0x34f7,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x2*0x4df+-0x5a1+-0x41c),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x14*-0x1f3+-0x10f*0x3+0x2a2a),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0x3*-0x110+0x2f0*0x2+-0x305*0x3),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(-0xe3e+0x1b25*0x1+-0x7f*0x1a),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x551517?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x32ef4b?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x119b00){this['_unicodeCo'+'nverter']=_0x119b00;}['registerRt'+'lReorder'](_0x53643f){this['_rtlReorde'+'r']=_0x53643f;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x4a44f2,_0x12f182){super(_0x4a44f2,_0x12f182),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x262e+-0xced*-0x2+-0x2*-0x62a),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new $(0x23*-0x98+0xdd8+0x6f0,0x1227+0x4*-0x535+0x2ad),this['_linearSpr'+'ingX']=!(-0x18ca+0x1*0x1c2b+0x1b0*-0x2),this['_linearSti'+'ffnessX']=0x10c*-0x7+-0x138d+0x1*0x1ae1,this['_linearDam'+'pingX']=-0x25b1*-0x1+-0x2*0x481+-0x2*0xe57,this['_linearEqu'+'ilibriumX']=0x1c3d*-0x1+-0x2142+0x3d7f,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new $(-0x34*0x86+0xbce*-0x1+0x2*0x1383,0xbba+0x142*0x1+-0xc*0x115),this['_linearSpr'+'ingY']=!(-0x25*0xb+-0x59a+0x732),this['_linearSti'+'ffnessY']=0x4f*-0x4f+-0xc12+0x2473,this['_linearDam'+'pingY']=0x770+0x23e+-0x9ad,this['_linearEqu'+'ilibriumY']=-0x22fc+-0x1af1+0xbf*0x53,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new $(0x1*-0x433+-0x65*-0x49+0x2f*-0x86,-0x1*0x2ab+0x1d58+-0x1aad),this['_linearSpr'+'ingZ']=!(0x1da8+0x1a4c+0x1*-0x37f3),this['_linearSti'+'ffnessZ']=0x2fc+-0x1*-0x1915+0xf*-0x1df,this['_linearDam'+'pingZ']=0xfb3+0x11c*-0x17+0x9d2,this['_linearEqu'+'ilibriumZ']=-0x86+-0xff9+0x67*0x29,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new $(0x90*-0x18+-0x18d5+0x2655*0x1,0x9a8+-0xe95+0x4ed),this['_angularSp'+'ringX']=!(0x17*-0x39+-0x2*-0x489+-0x3f2),this['_angularSt'+'iffnessX']=-0xc22*-0x3+0xa7e+-0x2ee4,this['_angularDa'+'mpingX']=0x152a+-0x121c+-0x30d,this['_angularEq'+'uilibriumX']=-0x2*0xa45+0x3*-0x473+0x6c7*0x5,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new $(-0x24fb+-0x259c+0x4a97,0x1*0x1525+-0x3*-0x557+-0x2*0x1295),this['_angularSp'+'ringY']=!(0x1b27+-0x1*0x22cb+0x7a5),this['_angularSt'+'iffnessY']=0x1b37+-0x59e+-0x61*0x39,this['_angularDa'+'mpingY']=-0x1c5e+-0x18a2+0x3501,this['_angularEq'+'uilibriumY']=0x1396+-0xa43+0x953*-0x1,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new $(0x2612+-0x37b+-0x325*0xb,0x1f*0x117+0x25ee*0x1+0xb*-0x685),this['_angularSp'+'ringZ']=!(-0x4fd+0x2da+0x89*0x4),this['_angularEq'+'uilibriumZ']=-0x123b+0x1169+0xd2,this['_angularDa'+'mpingZ']=0xcdf+-0x14af+0x7d1,this['_angularSt'+'iffnessZ']=0xefd*-0x1+-0xda3+0x1ca*0x10,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x470d8d){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x470d8d,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x319c51){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x319c51,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x3a5826){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x3a5826&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x3a5826),this['_breakForc'+'e']=_0x3a5826);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x39edeb){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x39edeb,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x5169f9){this['_angularLi'+'mitsX']['equals'](_0x5169f9)||(this['_angularLi'+'mitsX']['copy'](_0x5169f9),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x511370){this['_angularMo'+'tionX']!==_0x511370&&(this['_angularMo'+'tionX']=_0x511370,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x5f1062){this['_angularLi'+'mitsY']['equals'](_0x5f1062)||(this['_angularLi'+'mitsY']['copy'](_0x5f1062),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x52487a){this['_angularMo'+'tionY']!==_0x52487a&&(this['_angularMo'+'tionY']=_0x52487a,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x1a9912){this['_angularLi'+'mitsZ']['equals'](_0x1a9912)||(this['_angularLi'+'mitsZ']['copy'](_0x1a9912),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x163675){this['_angularMo'+'tionZ']!==_0x163675&&(this['_angularMo'+'tionZ']=_0x163675,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x270637){this['_linearLim'+'itsX']['equals'](_0x270637)||(this['_linearLim'+'itsX']['copy'](_0x270637),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x15e318){this['_linearMot'+'ionX']!==_0x15e318&&(this['_linearMot'+'ionX']=_0x15e318,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x379131){this['_linearLim'+'itsY']['equals'](_0x379131)||(this['_linearLim'+'itsY']['copy'](_0x379131),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x857834){this['_linearMot'+'ionY']!==_0x857834&&(this['_linearMot'+'ionY']=_0x857834,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x4f38fe){this['_linearLim'+'itsZ']['equals'](_0x4f38fe)||(this['_linearLim'+'itsZ']['copy'](_0x4f38fe),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x8b3f9b){this['_linearMot'+'ionZ']!==_0x8b3f9b&&(this['_linearMot'+'ionZ']=_0x8b3f9b,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x3a4e8b,_0x49a756){const _0xcbf78a=_0x3a4e8b['getTransla'+'tion'](),_0x464a62=new se();_0x464a62['setFromMat'+'4'](_0x3a4e8b);const _0x2733ac=new Ammo['btVector3'](_0xcbf78a['x'],_0xcbf78a['y'],_0xcbf78a['z']),_0x4ed0de=new Ammo['btQuaterni'+'on'](_0x464a62['x'],_0x464a62['y'],_0x464a62['z'],_0x464a62['w']);_0x49a756['setOrigin'](_0x2733ac),_0x49a756['setRotatio'+'n'](_0x4ed0de),Ammo['destroy'](_0x2733ac),Ammo['destroy'](_0x4ed0de);}['_updateAng'+'ularLimits'](){const _0x2f5e74=this['_constrain'+'t'];if(_0x2f5e74){let _0x3bbd5f,_0xc5f0ad,_0x59c627,_0x28d031,_0x161dd7,_0x1f4052;this['_angularMo'+'tionX']===Vn?(_0x3bbd5f=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0x28d031=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0x3bbd5f=-0x718+-0x3*-0x293+-0xa0,_0x28d031=-0x996+0x150b+-0xb75):_0x3bbd5f=_0x28d031=-0x1*-0x9bf+-0x1665+0x1*0xca6,this['_angularMo'+'tionY']===Vn?(_0xc5f0ad=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x161dd7=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0xc5f0ad=-0x8a9+0xb7*0x13+0x4eb*-0x1,_0x161dd7=-0x4*-0x21c+-0x2069+0x1*0x17f9):_0xc5f0ad=_0x161dd7=-0xf41+0x2246+-0x1305,this['_angularMo'+'tionZ']===Vn?(_0x59c627=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x1f4052=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x59c627=-0x17e+-0x10c2+0x1241,_0x1f4052=-0x1051+-0x1b5a+0x1*0x2bab):_0x59c627=_0x1f4052=0x1d10+0x2678+-0x4*0x10e2;const _0x4b36ab=new Ammo['btVector3'](_0x3bbd5f,_0xc5f0ad,_0x59c627);_0x2f5e74['setAngular'+'LowerLimit'](_0x4b36ab),_0x4b36ab['setValue'](_0x28d031,_0x161dd7,_0x1f4052),_0x2f5e74['setAngular'+'UpperLimit'](_0x4b36ab),Ammo['destroy'](_0x4b36ab);}}['_updateLin'+'earLimits'](){const _0xc9f158=this['_constrain'+'t'];if(_0xc9f158){let _0x5623a0,_0x11edf5,_0x8b5545,_0x1340ed,_0xe38033,_0x12f0f0;this['_linearMot'+'ionX']===Vn?(_0x5623a0=this['_linearLim'+'itsX']['x'],_0x1340ed=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0x5623a0=0x2c1*0x5+-0x239e+-0x2*-0xaed,_0x1340ed=-0x835+-0x1bf3+0x90a*0x4):_0x5623a0=_0x1340ed=0x1*0xe13+0xdfe+-0x1c11,this['_linearMot'+'ionY']===Vn?(_0x11edf5=this['_linearLim'+'itsY']['x'],_0xe38033=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0x11edf5=0x12f5+0xd*0x47+-0xe7*0x19,_0xe38033=0x1741+0x338+-0x1a79):_0x11edf5=_0xe38033=-0x1723+0x189a+-0x177,this['_linearMot'+'ionZ']===Vn?(_0x8b5545=this['_linearLim'+'itsZ']['x'],_0x12f0f0=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x8b5545=-0x2369+0x373*-0x7+0x3b8f,_0x12f0f0=0x325+0xa*-0x11b+0x1b*0x4b):_0x8b5545=_0x12f0f0=-0x1e4*0x4+-0x3*0x30b+0x1*0x10b1;const _0x259c37=new Ammo['btVector3'](_0x5623a0,_0x11edf5,_0x8b5545);_0xc9f158['setLinearL'+'owerLimit'](_0x259c37),_0x259c37['setValue'](_0x1340ed,_0xe38033,_0x12f0f0),_0xc9f158['setLinearU'+'pperLimit'](_0x259c37),Ammo['destroy'](_0x259c37);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x5f1533=new q(),_0x33972d=this['_entityA']['rigidbody']['body'];_0x33972d['activate']();const _0x2e4212=this['entity']['getWorldTr'+'ansform'](),_0x4aaddc=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x5f1533['mul2'](_0x4aaddc,_0x2e4212);const _0x57af64=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x5f1533,_0x57af64),this['_entityB']&&this['_entityB']['rigidbody']){const _0x186fcb=this['_entityB']['rigidbody']['body'];_0x186fcb['activate']();const _0x14c837=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x5f1533['mul2'](_0x14c837,_0x2e4212);const _0x566594=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x5f1533,_0x566594),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x33972d,_0x186fcb,_0x57af64,_0x566594,!this['_enableCol'+'lision']),Ammo['destroy'](_0x566594);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x33972d,_0x57af64,!this['_enableCol'+'lision']);Ammo['destroy'](_0x57af64);const _0x50cf7d=['X','Y','Z','X','Y','Z'];for(let _0x108073=0x2429+-0x2*-0xead+-0x4183;_0x108073<0x2*-0x11d9+-0x1b60+0x3f18;_0x108073++){const _0x13cc46=_0x108073<0x29*-0xc1+0x61b+0x1*0x18d1?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x108073,this[_0x13cc46+'Spring'+_0x50cf7d[_0x108073]]),this['_constrain'+'t']['setDamping'](_0x108073,this[_0x13cc46+'Damping'+_0x50cf7d[_0x108073]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x108073,this[_0x13cc46+('Equilibriu'+'m')+_0x50cf7d[_0x108073]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x108073,this[_0x13cc46+'Stiffness'+_0x50cf7d[_0x108073]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x43738d){for(const _0x3a630d of UR)_0x43738d['hasOwnProp'+'erty'](_0x3a630d)&&(_0x43738d[_0x3a630d]instanceof $?this['_'+_0x3a630d]['copy'](_0x43738d[_0x3a630d]):this['_'+_0x3a630d]=_0x43738d[_0x3a630d]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x6ac485,_0x331115,_0x2315b6){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x1472d7=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x5c939c=>{['X','Y','Z']['forEach'](_0x225f00=>{const _0x164d18=_0x1472d7+_0x5c939c+_0x225f00,_0x479cd3='_'+_0x164d18;let _0x35aaed=_0x1472d7==='linear'?-0x258f+-0x1*-0x7c+0x2513:0x9ae+0x5*0x535+-0x23b4;_0x225f00==='Y'&&(_0x35aaed+=-0x26ff+0x23bb+0x9*0x5d),_0x225f00==='Z'&&(_0x35aaed+=0x1*-0x1f83+0xa*-0x1e8+0x3295),Object['defineProp'+'erty'](Up['prototype'],_0x164d18,{'get':function(){return this[_0x479cd3];},'set':function(_0x503bc4){this[_0x479cd3]!==_0x503bc4&&(this[_0x479cd3]=_0x503bc4,this['_constrain'+'t'][VR[_0x5c939c]](_0x35aaed,_0x503bc4));}});});});});class GR{constructor(){this['enabled']=!(-0x2126+-0x1ab1+0x1*0x3bd7);}}const uf=['enabled'];class HR extends Xe{constructor(_0x174da9){super(_0x174da9),this['id']='joint',this['app']=_0x174da9,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0xe85843,_0x1d5b31,_0x21e44a){_0xe85843['initFromDa'+'ta'](_0x1d5b31),super['initialize'+'ComponentD'+'ata'](_0xe85843,_0x1d5b31,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',-0x2280+-0x2277*0x1+0x44f7),c(this,'_minHeight',-0x216e*-0x1+0x1*0x734+-0x28a2),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',0x1*-0x19ea+-0x1eaf+-0x1*-0x3899),c(this,'_fitHeight'+'Proportion',-0x135e+-0xa7*-0x37+0x3*-0x581),c(this,'_excludeFr'+'omLayout',!(0x19f2+0x12b0+-0x2ca1));}set['minWidth'](_0x2a231b){_0x2a231b!==this['_minWidth']&&(this['_minWidth']=_0x2a231b,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x14b794){_0x14b794!==this['_minHeight']&&(this['_minHeight']=_0x14b794,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x4561f3){_0x4561f3!==this['_maxWidth']&&(this['_maxWidth']=_0x4561f3,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x1fd953){_0x1fd953!==this['_maxHeight']&&(this['_maxHeight']=_0x1fd953,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x1b42e2){_0x1b42e2!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x1b42e2,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x283e21){_0x283e21!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x283e21,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x7d4ea6){_0x7d4ea6!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x7d4ea6,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class $R{constructor(){this['enabled']=!(0xf10+-0x5*-0xde+0x2*-0x9b3);}}const ax=['enabled'];class WR extends Xe{constructor(_0x5eff4b){super(_0x5eff4b),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=$R,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x261e8a,_0xc30d95,_0xf7f91c){_0xc30d95['enabled']!==void(-0x1*0xbef+0x1*0xd22+0x1*-0x133)&&(_0x261e8a['enabled']=_0xc30d95['enabled']),_0xc30d95['minWidth']!==void(0x1d62*-0x1+-0x282+0x9d*0x34)&&(_0x261e8a['minWidth']=_0xc30d95['minWidth']),_0xc30d95['minHeight']!==void(0x8b9*0x3+-0x374+-0x5*0x48b)&&(_0x261e8a['minHeight']=_0xc30d95['minHeight']),_0xc30d95['maxWidth']!==void(-0xa49*0x3+-0x1ff4+-0x3ecf*-0x1)&&(_0x261e8a['maxWidth']=_0xc30d95['maxWidth']),_0xc30d95['maxHeight']!==void(-0x772+-0x2c*0x19+0xbbe)&&(_0x261e8a['maxHeight']=_0xc30d95['maxHeight']),_0xc30d95['fitWidthPr'+'oportion']!==void(0x2*-0xfc1+0x1*0x1ce5+0x29d)&&(_0x261e8a['fitWidthPr'+'oportion']=_0xc30d95['fitWidthPr'+'oportion']),_0xc30d95['fitHeightP'+'roportion']!==void(0x1*-0xde5+0x9*0x25+0xc98)&&(_0x261e8a['fitHeightP'+'roportion']=_0xc30d95['fitHeightP'+'roportion']),_0xc30d95['excludeFro'+'mLayout']!==void(-0x6*-0x5b3+0x2a9*-0x5+-0x14e5)&&(_0x261e8a['excludeFro'+'mLayout']=_0xc30d95['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x261e8a,_0xc30d95,_0xf7f91c);}['cloneCompo'+'nent'](_0x1f50e6,_0x3c90f6){const _0x31c464=_0x1f50e6['layoutchil'+'d'];return this['addCompone'+'nt'](_0x3c90f6,{'enabled':_0x31c464['enabled'],'minWidth':_0x31c464['minWidth'],'minHeight':_0x31c464['minHeight'],'maxWidth':_0x31c464['maxWidth'],'maxHeight':_0x31c464['maxHeight'],'fitWidthProportion':_0x31c464['fitWidthPr'+'oportion'],'fitHeightProportion':_0x31c464['fitHeightP'+'roportion'],'excludeFromLayout':_0x31c464['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=-0x13e+0x7c1+-0x1*0x683,qR=-0x1902+0x4*-0x203+0x7*0x4b9,gg=-0xce0+-0x13*0x1cf+0x2f3f,XR=0x61a+0x31a+-0x931,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},Ut={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Vt=new $();function ox(_0x491c66){let _0x47d8d9;const _0x3baa89=Zh[_0x491c66],_0x45e27c=Zh[Vp[_0x491c66]];function _0x4c0c90(_0x1b5537,_0x5b1f03){return-_0x5b1f03[_0x3baa89['size']]*_0x1b5537['pivot'][_0x3baa89['axis']];}function _0x9751a2(_0x6cfd1e,_0xcdc7fc){return-_0xcdc7fc[_0x45e27c['size']]*_0x6cfd1e['pivot'][_0x45e27c['axis']];}function _0x542599(_0x1295d7,_0x3e7179){return _0x3e7179[_0x3baa89['size']]*(-0x116f*-0x1+0x1068+0x47*-0x7a-_0x1295d7['pivot'][_0x3baa89['axis']]);}function _0x37717e(_0x20e5c9,_0x3f12ed){_0x20e5c9=_0x20e5c9['filter'](_0x15c6b4),_0x47d8d9=_0x3f12ed,Vt['x']=_0x47d8d9['containerS'+'ize']['x']-_0x47d8d9['padding']['x']-_0x47d8d9['padding']['z'],Vt['y']=_0x47d8d9['containerS'+'ize']['y']-_0x47d8d9['padding']['y']-_0x47d8d9['padding']['w'],_0x50ce28(_0x20e5c9);const _0x251ae3=_0x42c3a2(_0xa1aa(_0x20e5c9)),_0x36e69e=_0x30c8ac(_0x251ae3,_0x5335ac(_0x251ae3)),_0x5583ce=_0x52c40f(_0x251ae3,_0x36e69e);return _0xd0bc3c(_0x251ae3,_0x36e69e,_0x5583ce),_0x224c4e(_0x251ae3,_0x36e69e,_0x5583ce),_0x541918(_0x251ae3);}function _0x15c6b4(_0x46ed26){const _0x41d2bf=_0x46ed26['entity']['layoutchil'+'d'];return!_0x41d2bf||!_0x41d2bf['enabled']||!_0x41d2bf['excludeFro'+'mLayout'];}function _0x50ce28(_0x46bbc5){for(let _0x85d948=-0x12*-0x1de+0xff2*0x1+-0x318e;_0x85d948<_0x46bbc5['length'];++_0x85d948){const _0x30fc60=_0x46bbc5[_0x85d948],_0x34351a=_0x30fc60['anchor'];(_0x34351a['x']!==-0x253b+-0x1*-0x21dd+-0x1*-0x35e||_0x34351a['y']!==0x1*-0xe4e+0x94*0x32+-0xe9a||_0x34351a['z']!==-0x2538+0x10e9*-0x1+0x3621||_0x34351a['w']!==-0x342*-0x6+-0x1c16+-0x2*-0x445)&&(_0x30fc60['anchor']=Q['ZERO']);}}function _0xa1aa(_0x36e276){if(!_0x47d8d9['wrap'])return[_0x36e276];const _0xa0d8f0=[[]],_0x5ce2b2=_0x10247a(_0x36e276);let _0x3bfebd=-0xfda*-0x1+-0x151+0x1*-0xe89;const _0x462250=_0x47d8d9[_0x3baa89['fitting']]===gg;for(let _0x109116=-0x3*-0x3b2+-0x644*0x3+0x7b6;_0x109116<_0x36e276['length'];++_0x109116){_0xa0d8f0[_0xa0d8f0['length']-(-0xcd+-0x12bd+0x138b)]['length']>-0x1*-0xd86+-0x1*-0xe84+-0xc2*0x25&&(_0x3bfebd+=_0x47d8d9['spacing'][_0x3baa89['axis']]);const _0x154273=_0x5ce2b2[_0x109116][_0x3baa89['size']];_0x3bfebd+=_0x154273,!_0x462250&&_0x3bfebd>Vt[_0x3baa89['axis']]&&_0xa0d8f0[_0xa0d8f0['length']-(-0x171d+0x1*0x55+0x133*0x13)]['length']!==-0x175*0x9+-0x15f3+0x3*0xbb0&&(_0x3bfebd=_0x154273,_0xa0d8f0['push']([])),_0xa0d8f0[_0xa0d8f0['length']-(0x1*-0x1865+0x189+0x3*0x79f)]['push'](_0x36e276[_0x109116]),_0x462250&&_0x3bfebd>Vt[_0x3baa89['axis']]&&_0x109116!==_0x36e276['length']-(0xa*0xcb+-0x124d+0xa60)&&(_0x3bfebd=-0x67*-0x6+-0x1018+0xdae,_0xa0d8f0['push']([]));}return _0xa0d8f0;}function _0x42c3a2(_0x884217){const _0x159b82=_0x47d8d9['orientatio'+'n']===pe&&_0x47d8d9['reverseX']||_0x47d8d9['orientatio'+'n']===ke&&_0x47d8d9['reverseY'],_0x283608=_0x47d8d9['orientatio'+'n']===pe&&_0x47d8d9['reverseY']||_0x47d8d9['orientatio'+'n']===ke&&_0x47d8d9['reverseX'];if(_0x159b82){for(let _0x20490b=-0x4f8+0x1*-0x25cd+0x2ac5;_0x20490b<_0x884217['length'];++_0x20490b)_0x159b82&&_0x884217[_0x20490b]['reverse']();}return _0x283608&&_0x884217['reverse'](),_0x884217;}function _0x5335ac(_0x25b144){const _0x342c07=[];for(let _0x45d785=0xa75+0x15c1*-0x1+0xb4c;_0x45d785<_0x25b144['length'];++_0x45d785){const _0x13b97e=_0x25b144[_0x45d785],_0x59e8d1=_0x10247a(_0x13b97e),_0x3a4db8=_0x114ca7(_0x59e8d1,_0x3baa89),_0x29423f=_0x2bcb46(_0x47d8d9[_0x3baa89['fitting']],_0x3a4db8,Vt[_0x3baa89['axis']]);_0x29423f===Ut['APPLY_STRE'+'TCHING']?_0xda7ad3(_0x59e8d1,_0x3a4db8,_0x3baa89):_0x29423f===Ut['APPLY_SHRI'+'NKING']&&_0x197eb5(_0x59e8d1,_0x3a4db8,_0x3baa89),_0x342c07['push'](_0x59e8d1);}return _0x342c07;}function _0x30c8ac(_0x43952d,_0x29082c){const _0x2ae371=[],_0x3387ca=[];for(let _0x254830=-0x2*0xc6b+0x5*0x3bd+0x625;_0x254830<_0x43952d['length'];++_0x254830){const _0x5cba4e=_0x43952d[_0x254830];_0x5cba4e['largestEle'+'ment']=null,_0x5cba4e['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x1d447f=-0xdb8+0x25e6+-0x182e;_0x1d447f<_0x5cba4e['length'];++_0x1d447f){const _0x571f6a=_0x29082c[_0x254830][_0x1d447f];_0x571f6a[_0x45e27c['size']]>_0x5cba4e['largestSiz'+'e'][_0x45e27c['size']]&&(_0x5cba4e['largestEle'+'ment']=_0x5cba4e[_0x1d447f],_0x5cba4e['largestSiz'+'e']=_0x571f6a);}_0x2ae371['push'](_0x5cba4e['largestEle'+'ment']),_0x3387ca['push'](_0x5cba4e['largestSiz'+'e']);}const _0x58ea06=_0x114ca7(_0x3387ca,_0x45e27c),_0x43f5b2=_0x2bcb46(_0x47d8d9[_0x45e27c['fitting']],_0x58ea06,Vt[_0x45e27c['axis']]);_0x43f5b2===Ut['APPLY_STRE'+'TCHING']?_0xda7ad3(_0x3387ca,_0x58ea06,_0x45e27c):_0x43f5b2===Ut['APPLY_SHRI'+'NKING']&&_0x197eb5(_0x3387ca,_0x58ea06,_0x45e27c);for(let _0x3aaee8=0x26ac+-0x19*-0x151+0x19*-0x2dd;_0x3aaee8<_0x43952d['length'];++_0x3aaee8){const _0x322622=_0x43952d[_0x3aaee8];for(let _0x4dfa45=0x62c+0x438+-0xa64;_0x4dfa45<_0x322622['length'];++_0x4dfa45){const _0x135a8b=_0x29082c[_0x3aaee8][_0x4dfa45],_0x3990a2=_0x135a8b[_0x45e27c['size']],_0x357272=_0x43952d['length']===-0x11b3+0x121e*0x2+0x2*-0x944?Vt[_0x45e27c['axis']]:_0x322622['largestSiz'+'e'][_0x45e27c['size']],_0x7b80d0=_0x2bcb46(_0x47d8d9[_0x45e27c['fitting']],_0x3990a2,_0x357272);_0x7b80d0===Ut['APPLY_STRE'+'TCHING']?_0x135a8b[_0x45e27c['size']]=Math['min'](_0x357272,_0x135a8b[_0x45e27c['maxSize']]):_0x7b80d0===Ut['APPLY_SHRI'+'NKING']&&(_0x135a8b[_0x45e27c['size']]=Math['max'](_0x357272,_0x135a8b[_0x45e27c['minSize']]));}}return _0x29082c;}function _0x2bcb46(_0x349dca,_0x48b16f,_0x4559c5){switch(_0x349dca){case ff:return Ut['NONE'];case qR:return _0x48b16f<_0x4559c5?Ut['APPLY_STRE'+'TCHING']:Ut['NONE'];case gg:return _0x48b16f>=_0x4559c5?Ut['APPLY_SHRI'+'NKING']:Ut['NONE'];case XR:return _0x48b16f<_0x4559c5?Ut['APPLY_STRE'+'TCHING']:Ut['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x349dca);}}function _0x114ca7(_0x1fb788,_0xd06e9f){const _0x400194=_0x40574d(_0x1fb788,_0xd06e9f['size']),_0x4e3a77=(_0x1fb788['length']-(-0x1c+0x3ad*-0x6+0x162b))*_0x47d8d9['spacing'][_0xd06e9f['axis']];return _0x400194+_0x4e3a77;}function _0xda7ad3(_0x3375ea,_0x4ad8db,_0x20aa2b){const _0x4ae94f=_0x27ee42(_0x3375ea,_0x20aa2b['maxSize']),_0x44c027=_0x3e491f(_0x3375ea,_0x20aa2b['fittingPro'+'portion']),_0xc159c2=_0x49c08f(_0x44c027,_0x4ae94f);let _0x3d7621=Vt[_0x20aa2b['axis']]-_0x4ad8db;for(let _0x4e1044=0xdf8+-0x14*-0x13f+-0x106*0x26;_0x4e1044<_0x3375ea['length'];++_0x4e1044){const _0x6940c5=_0x4ae94f[_0x4e1044],_0x3b2386=_0x4bfb16(_0x6940c5,_0x3d7621,_0x44c027,_0xc159c2),_0x15eb7e=_0x3375ea[_0x6940c5][_0x20aa2b['size']]+_0x3b2386,_0x4b59ae=_0x3375ea[_0x6940c5][_0x20aa2b['maxSize']],_0x381d6c=Math['min'](_0x15eb7e,_0x4b59ae);_0x3375ea[_0x6940c5][_0x20aa2b['size']]=_0x381d6c;const _0x1bc97e=Math['max'](_0x15eb7e-_0x381d6c,-0x9d*-0x11+-0x2f3+-0x77a),_0x193303=_0x3b2386-_0x1bc97e;_0x3d7621-=_0x193303;}}function _0x197eb5(_0x24dd63,_0x50c2ba,_0x946bc1){const _0x9f41f9=_0x27ee42(_0x24dd63,_0x946bc1['minSize'],!(0x581*-0x1+-0x1efe+0x247f)),_0xc0197a=_0x3e491f(_0x24dd63,_0x946bc1['fittingPro'+'portion']),_0x48f2a5=_0x1c3a61(_0xc0197a),_0x26aefa=_0x49c08f(_0x48f2a5,_0x9f41f9);let _0x9b40d5=_0x50c2ba-Vt[_0x946bc1['axis']];for(let _0x49f565=-0xcae+-0x258b+0x3239;_0x49f565<_0x24dd63['length'];++_0x49f565){const _0x318021=_0x9f41f9[_0x49f565],_0x8a9194=_0x4bfb16(_0x318021,_0x9b40d5,_0x48f2a5,_0x26aefa),_0x5da624=_0x24dd63[_0x318021][_0x946bc1['size']]-_0x8a9194,_0x2f86be=_0x24dd63[_0x318021][_0x946bc1['minSize']],_0x2513ba=Math['max'](_0x5da624,_0x2f86be);_0x24dd63[_0x318021][_0x946bc1['size']]=_0x2513ba;const _0x2f9439=Math['max'](_0x2513ba-_0x5da624,-0x2086+-0x17c1+0x3847),_0x55d4a5=_0x8a9194-_0x2f9439;_0x9b40d5-=_0x55d4a5;}}function _0x4bfb16(_0x510c65,_0x1a6e73,_0x3bc6ad,_0x3fec7c){const _0x243d0e=_0x3bc6ad[_0x510c65],_0x2e7646=_0x3fec7c[_0x510c65];return Math['abs'](_0x243d0e)<-0x18*-0x6+-0x880+0x7f0+0.00001&&Math['abs'](_0x2e7646)<-0x24*0xa5+-0x1*-0x26b+0x139*0x11+0.00001?_0x1a6e73:_0x1a6e73*_0x243d0e/_0x2e7646;}function _0x52c40f(_0x3eb72f,_0x53e626){const _0xae46dd={};_0xae46dd[_0x3baa89['axis']]=-0x3d8+-0x1080+0x1458,_0xae46dd[_0x45e27c['axis']]=-0x556*-0x1+0x1df8+-0x2*0x11a7,_0x3eb72f[_0x3baa89['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0xa34d7c=[];for(let _0x382794=0x8*-0x4d+0x2*0x6da+-0xb4c;_0x382794<_0x3eb72f['length'];++_0x382794){const _0x58b6d0=_0x3eb72f[_0x382794];if(_0x58b6d0['length']===-0x8+-0x833+0x83b){_0xa34d7c['push']([]);continue;}const _0x36493e=[],_0x4c5b3b=_0x53e626[_0x382794];for(let _0x226f01=-0x14*-0x123+-0x786+-0xf36;_0x226f01<_0x58b6d0['length'];++_0x226f01){const _0x4e2b45=_0x58b6d0[_0x226f01],_0x5ab337=_0x4c5b3b[_0x226f01];_0xae46dd[_0x45e27c['axis']]-=_0x9751a2(_0x4e2b45,_0x5ab337),_0xae46dd[_0x3baa89['axis']]-=_0x4c0c90(_0x4e2b45,_0x5ab337),_0x36493e[_0x226f01]={},_0x36493e[_0x226f01][_0x3baa89['axis']]=_0xae46dd[_0x3baa89['axis']],_0x36493e[_0x226f01][_0x45e27c['axis']]=_0xae46dd[_0x45e27c['axis']],_0xae46dd[_0x45e27c['axis']]+=_0x9751a2(_0x4e2b45,_0x5ab337),_0xae46dd[_0x3baa89['axis']]+=_0x542599(_0x4e2b45,_0x5ab337)+_0x47d8d9['spacing'][_0x3baa89['axis']];}_0x58b6d0[_0x3baa89['size']]=_0xae46dd[_0x3baa89['axis']]-_0x47d8d9['spacing'][_0x3baa89['axis']],_0x58b6d0[_0x45e27c['size']]=_0x58b6d0['largestSiz'+'e'][_0x45e27c['size']],_0x3eb72f[_0x3baa89['size']]=Math['max'](_0x3eb72f[_0x3baa89['size']],_0x58b6d0[_0x3baa89['size']]),_0xae46dd[_0x3baa89['axis']]=-0x1846+-0x9*-0x2a9+0x5*0x11,_0xae46dd[_0x45e27c['axis']]+=_0x58b6d0[_0x45e27c['size']]+_0x47d8d9['spacing'][_0x45e27c['axis']],_0xa34d7c['push'](_0x36493e);}return _0x3eb72f[_0x45e27c['size']]=_0xae46dd[_0x45e27c['axis']]-_0x47d8d9['spacing'][_0x45e27c['axis']],_0xa34d7c;}function _0xd0bc3c(_0x4e9df9,_0x550da6,_0x24ca35){const _0xc679b1=_0x47d8d9['alignment'][_0x3baa89['axis']],_0x3dd581=_0x47d8d9['alignment'][_0x45e27c['axis']],_0x4ee975=_0x47d8d9['padding'][_0x3baa89['axis']],_0x1e40e=_0x47d8d9['padding'][_0x45e27c['axis']];for(let _0x51246e=-0x1f9+0x26ef*-0x1+-0x58*-0x77;_0x51246e<_0x4e9df9['length'];++_0x51246e){const _0x16a75e=_0x4e9df9[_0x51246e],_0x457f86=_0x550da6[_0x51246e],_0x433895=_0x24ca35[_0x51246e],_0x133aa7=(Vt[_0x3baa89['axis']]-_0x16a75e[_0x3baa89['size']])*_0xc679b1+_0x4ee975,_0x485b33=(Vt[_0x45e27c['axis']]-_0x4e9df9[_0x45e27c['size']])*_0x3dd581+_0x1e40e;for(let _0x2249bf=0x151c+0x1*0x1bd+0x16d9*-0x1;_0x2249bf<_0x16a75e['length'];++_0x2249bf){const _0x2c755f=(_0x16a75e[_0x45e27c['size']]-_0x457f86[_0x2249bf][_0x45e27c['size']])*_0x47d8d9['alignment'][_0x45e27c['axis']];_0x433895[_0x2249bf][_0x3baa89['axis']]+=_0x133aa7,_0x433895[_0x2249bf][_0x45e27c['axis']]+=_0x485b33+_0x2c755f;}}}function _0x224c4e(_0x39f513,_0x483ae0,_0x1587e9){for(let _0x34dbb2=-0x1760+-0x1f04+0x3664;_0x34dbb2<_0x39f513['length'];++_0x34dbb2){const _0x52db64=_0x39f513[_0x34dbb2],_0x3220c1=_0x483ae0[_0x34dbb2],_0x18c84e=_0x1587e9[_0x34dbb2];for(let _0x5b7c90=-0xe17*-0x1+-0x89a*0x3+0xbb7;_0x5b7c90<_0x52db64['length'];++_0x5b7c90){const _0xdd2606=_0x52db64[_0x5b7c90];_0xdd2606[_0x3baa89['calculated'+'Size']]=_0x3220c1[_0x5b7c90][_0x3baa89['size']],_0xdd2606[_0x45e27c['calculated'+'Size']]=_0x3220c1[_0x5b7c90][_0x45e27c['size']],_0x47d8d9['orientatio'+'n']===pe?_0xdd2606['entity']['setLocalPo'+'sition'](_0x18c84e[_0x5b7c90][_0x3baa89['axis']],_0x18c84e[_0x5b7c90][_0x45e27c['axis']],_0xdd2606['entity']['getLocalPo'+'sition']()['z']):_0xdd2606['entity']['setLocalPo'+'sition'](_0x18c84e[_0x5b7c90][_0x45e27c['axis']],_0x18c84e[_0x5b7c90][_0x3baa89['axis']],_0xdd2606['entity']['getLocalPo'+'sition']()['z']);}}}function _0x541918(_0x34e9ff){const _0x99e516=_0x34e9ff['width'],_0x5bf832=_0x34e9ff['height'],_0x28e7e4=(Vt['x']-_0x99e516)*_0x47d8d9['alignment']['x']+_0x47d8d9['padding']['x'],_0x306cd1=(Vt['y']-_0x5bf832)*_0x47d8d9['alignment']['y']+_0x47d8d9['padding']['y'];return{'bounds':new Q(_0x28e7e4,_0x306cd1,_0x99e516,_0x5bf832)};}function _0x10247a(_0x212c48){const _0x3da476=[];for(let _0x63bcce=-0x1b*-0x106+-0xa6f+-0x1133;_0x63bcce<_0x212c48['length'];++_0x63bcce){const _0x34e23d=_0x212c48[_0x63bcce],_0x31b84f=Math['max'](_0x525cdc(_0x34e23d,'minWidth'),0x24c9+-0x607+-0x3e*0x7f),_0x377c30=Math['max'](_0x525cdc(_0x34e23d,'minHeight'),-0x1f9c+0x12dc+0xcc0),_0x3d8862=Math['max'](_0x525cdc(_0x34e23d,'maxWidth'),_0x31b84f),_0x448402=Math['max'](_0x525cdc(_0x34e23d,'maxHeight'),_0x377c30),_0x4aa991=_0x47b5c8(_0x525cdc(_0x34e23d,'width'),_0x31b84f,_0x3d8862),_0x2e4741=_0x47b5c8(_0x525cdc(_0x34e23d,'height'),_0x377c30,_0x448402),_0x416926=_0x525cdc(_0x34e23d,'fitWidthPr'+'oportion'),_0x2a9b9e=_0x525cdc(_0x34e23d,'fitHeightP'+'roportion');_0x3da476['push']({'minWidth':_0x31b84f,'minHeight':_0x377c30,'maxWidth':_0x3d8862,'maxHeight':_0x448402,'width':_0x4aa991,'height':_0x2e4741,'fitWidthProportion':_0x416926,'fitHeightProportion':_0x2a9b9e});}return _0x3da476;}function _0x525cdc(_0x4cd158,_0x589d2b){const _0x59ca95=_0x4cd158['entity']['layoutchil'+'d'];return _0x59ca95&&_0x59ca95['enabled']&&_0x59ca95[_0x589d2b]!==void(-0x3*-0x995+0x6*0x53b+-0x3c21)&&_0x59ca95[_0x589d2b]!==null?_0x59ca95[_0x589d2b]:_0x4cd158[_0x589d2b]!==void(0xb*-0x1a3+-0xe1+0x12e2)?_0x4cd158[_0x589d2b]:jR[_0x589d2b];}function _0x47b5c8(_0x52d3ee,_0x9b9c8e,_0x49ca2d){return Math['min'](Math['max'](_0x52d3ee,_0x9b9c8e),_0x49ca2d);}function _0x40574d(_0x29e563,_0x230772){return _0x29e563['reduce']((_0x7e497e,_0x168590)=>_0x7e497e+_0x168590[_0x230772],0x2c9*0xa+0x1d*0x151+-0x4207);}function _0x3e491f(_0x34aa15,_0x5b4e2e){const _0x52cf57=_0x40574d(_0x34aa15,_0x5b4e2e),_0x6def7c=[],_0x3b2b2e=_0x34aa15['length'];if(_0x52cf57===-0x2*-0x434+0x18*-0x66+0x128){for(let _0x43e401=-0x785+-0x32*-0x89+0x3d9*-0x5;_0x43e401<_0x3b2b2e;++_0x43e401)_0x6def7c['push']((-0x2301*0x1+-0x675+0x2977)/_0x3b2b2e);}else{for(let _0x382990=-0x7*0x15d+0x1*-0xcb9+0x1644;_0x382990<_0x3b2b2e;++_0x382990)_0x6def7c['push'](_0x34aa15[_0x382990][_0x5b4e2e]/_0x52cf57);}return _0x6def7c;}function _0x1c3a61(_0x3f1220){if(_0x3f1220['length']===0xfc9+0x160c+-0x12*0x21a)return[0x14f4+-0x76a*-0x2+0x23c7*-0x1];const _0x5bb71f=[],_0x136d9f=_0x3f1220['length'];for(let _0x5c6571=0x25d+0x2597+-0x27f4;_0x5c6571<_0x136d9f;++_0x5c6571)_0x5bb71f['push']((-0xb1*0x6+0x18ce+-0x14a7*0x1-_0x3f1220[_0x5c6571])/(_0x136d9f-(0xb*0x16b+0x4*-0x8ef+0x1424*0x1)));return _0x5bb71f;}function _0x27ee42(_0x1ada48,_0xd7db3b,_0x4725f6){return _0x1ada48['forEach'](_0x5c00dc),_0x1ada48['slice']()['sort']((_0x681609,_0x529c7d)=>_0x4725f6?_0x529c7d[_0xd7db3b]-_0x681609[_0xd7db3b]:_0x681609[_0xd7db3b]-_0x529c7d[_0xd7db3b])['map'](_0x32cd8d);}function _0x5c00dc(_0x45785c,_0x3219c1){_0x45785c['index']=_0x3219c1;}function _0x32cd8d(_0x5566b9){return _0x5566b9['index'];}function _0x49c08f(_0x35fb67,_0x2e785e){const _0x171a97=[];_0x171a97[_0x2e785e[_0x35fb67['length']-(-0x214f+-0x1b5f+0x41*0xef)]]=_0x35fb67[_0x2e785e[_0x35fb67['length']-(0xcf6+0x1*-0x4db+-0x81a)]];for(let _0x51e8e7=_0x35fb67['length']-(-0x1ba0+0x1408+0x2*0x3cd);_0x51e8e7>=-0x7a7+-0x3*-0x704+-0x7f*0x1b;--_0x51e8e7)_0x171a97[_0x2e785e[_0x51e8e7]]=_0x171a97[_0x2e785e[_0x51e8e7+(0x2*-0xbfb+0x1a27+-0x7*0x50)]]+_0x35fb67[_0x2e785e[_0x51e8e7]];return _0x171a97;}return _0x37717e;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0x27f9e9,_0xb19b62){const _0x43efae=Gp[_0xb19b62['orientatio'+'n']];if(_0x43efae)return _0x43efae(_0x27f9e9,_0xb19b62);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0xb19b62['orientatio'+'n']);}}function yg(_0x193b8e){return _0x193b8e['element'];}function KR(_0x48a701){return _0x48a701['enabled']&&_0x48a701['element']&&_0x48a701['element']['enabled'];}class lx extends ue{constructor(_0x302717,_0x5889c8){super(_0x302717,_0x5889c8),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(0xb53*0x3+0x1*0x23dd+-0x45d5*0x1)),c(this,'_reverseY',!(-0x101b+0x8e*-0x34+0x2cf3)),c(this,'_alignment',new $(-0x42c+-0x4*-0x18f+-0x210,0x2*0x9bc+-0x391*0x8+0x1*0x911)),c(this,'_padding',new Q()),c(this,'_spacing',new $()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(0x12eb*0x1+0x5f3*-0x4+0x19*0x32)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x51f293=>{this['_listenFor'+'ReflowEven'+'ts'](_0x51f293,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x302717['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x302717['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x302717['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x302717['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x302717['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x302717['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x202201){_0x202201!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x202201,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x1f249f){_0x1f249f!==this['_reverseX']&&(this['_reverseX']=_0x1f249f,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x564235){_0x564235!==this['_reverseY']&&(this['_reverseY']=_0x564235,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x5dcae3){_0x5dcae3['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x5dcae3),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x4add93){_0x4add93['equals'](this['_padding'])||(this['_padding']['copy'](_0x4add93),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x13c950){_0x13c950['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x13c950),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x30bdad){_0x30bdad!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x30bdad,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x3d1feb){_0x3d1feb!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x3d1feb,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x161552){_0x161552!==this['_wrap']&&(this['_wrap']=_0x161552,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x44e3a5){return _0x44e3a5===this['entity']||this['entity']['children']['indexOf'](_0x44e3a5)!==-(0x1f6f*0x1+0x13*0x20a+0x5d9*-0xc);}['_listenFor'+'ReflowEven'+'ts'](_0x2ef8da,_0x4f055a){_0x2ef8da['element']&&(_0x2ef8da['element'][_0x4f055a]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x2ef8da['element'][_0x4f055a]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x2ef8da['element'][_0x4f055a]('resize',this['_scheduleR'+'eflow'],this),_0x2ef8da['element'][_0x4f055a]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x2ef8da['layoutchil'+'d']&&(_0x2ef8da['layoutchil'+'d'][_0x4f055a]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x2ef8da['layoutchil'+'d'][_0x4f055a]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x210337){this['_isSelfOrC'+'hild'](_0x210337)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x210337,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x2f0de7){this['_isSelfOrC'+'hild'](_0x2f0de7)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x2f0de7,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x4186a9){this['_listenFor'+'ReflowEven'+'ts'](_0x4186a9,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x228ecd){this['_listenFor'+'ReflowEven'+'ts'](_0x228ecd,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x257ceb=yg(this['entity']),_0x1c50a9=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x257ceb||_0x1c50a9['length']===0x1863+-0x84f+0x1014*-0x1)return;const _0x1e4923=Math['max'](_0x257ceb['calculated'+'Width'],0x19f*0x5+0xb*-0x167+0x752),_0x46a004=Math['max'](_0x257ceb['calculated'+'Height'],0x1*0x23b7+-0xbf+-0x22f8),_0x36dffd={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new $(_0x1e4923,_0x46a004)};this['_isPerform'+'ingReflow']=!(-0x265*0x7+-0x24a+0x130d*0x1);const _0xfc7211=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x1c50a9,_0x36dffd);this['_isPerform'+'ingReflow']=!(0x1dfb+-0x115d+-0xc9d),this['fire']('reflow',_0xfc7211);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x16af23=>{this['_listenFor'+'ReflowEven'+'ts'](_0x16af23,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(-0xdff*0x2+-0x61*-0x62+-0x924);}}const hx=['enabled'],QR=-0x9*0xdb+-0x43d+0xc54;class JR extends Xe{constructor(_0x41c085){super(_0x41c085),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x5055d1,_0x4a5350,_0x2f2128){_0x4a5350['enabled']!==void(0x1*-0x5b4+0x1594+0x7f*-0x20)&&(_0x5055d1['enabled']=_0x4a5350['enabled']),_0x4a5350['orientatio'+'n']!==void(-0x29*-0xd3+0x505*0x5+-0x2*0x1d72)&&(_0x5055d1['orientatio'+'n']=_0x4a5350['orientatio'+'n']),_0x4a5350['reverseX']!==void(0xd69+0x479+-0x11e2)&&(_0x5055d1['reverseX']=_0x4a5350['reverseX']),_0x4a5350['reverseY']!==void(-0x3*0x6f9+0x3*-0x24d+0x1bd2)&&(_0x5055d1['reverseY']=_0x4a5350['reverseY']),_0x4a5350['alignment']!==void(0x1*-0x2065+-0x2321+0x4386)&&(_0x5055d1['alignment']=Array['isArray'](_0x4a5350['alignment'])?new $(_0x4a5350['alignment']):_0x4a5350['alignment']),_0x4a5350['padding']!==void(-0x94d*-0x3+0x9e3+-0x25ca*0x1)&&(_0x5055d1['padding']=Array['isArray'](_0x4a5350['padding'])?new Q(_0x4a5350['padding']):_0x4a5350['padding']),_0x4a5350['spacing']!==void(0x26ba+0x147d+-0xa3*0x5d)&&(_0x5055d1['spacing']=Array['isArray'](_0x4a5350['spacing'])?new $(_0x4a5350['spacing']):_0x4a5350['spacing']),_0x4a5350['widthFitti'+'ng']!==void(0x16eb+0x2216+-0x3901)&&(_0x5055d1['widthFitti'+'ng']=_0x4a5350['widthFitti'+'ng']),_0x4a5350['heightFitt'+'ing']!==void(0x1833+-0x10*0x14b+-0x1*0x383)&&(_0x5055d1['heightFitt'+'ing']=_0x4a5350['heightFitt'+'ing']),_0x4a5350['wrap']!==void(-0x2150+-0xc16*0x2+-0x2*-0x1cbe)&&(_0x5055d1['wrap']=_0x4a5350['wrap']),super['initialize'+'ComponentD'+'ata'](_0x5055d1,_0x4a5350,_0x2f2128);}['cloneCompo'+'nent'](_0x47747b,_0x58d3ca){const _0x50fdd5=_0x47747b['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x58d3ca,{'enabled':_0x50fdd5['enabled'],'orientation':_0x50fdd5['orientatio'+'n'],'reverseX':_0x50fdd5['reverseX'],'reverseY':_0x50fdd5['reverseY'],'alignment':_0x50fdd5['alignment'],'padding':_0x50fdd5['padding'],'spacing':_0x50fdd5['spacing'],'widthFitting':_0x50fdd5['widthFitti'+'ng'],'heightFitting':_0x50fdd5['heightFitt'+'ing'],'wrap':_0x50fdd5['wrap']});}['scheduleRe'+'flow'](_0xf8b14d){this['_reflowQue'+'ue']['indexOf'](_0xf8b14d)===-(0x3*-0xa2a+-0x1c13+0x42f*0xe)&&this['_reflowQue'+'ue']['push'](_0xf8b14d);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0xb39+0x1*-0x1f32+0x1*0x13f9)return;let _0x5644f9=-0x24f*-0x9+0x1*-0x25c7+0x110*0x10;for(;this['_reflowQue'+'ue']['length']>-0x775+0x2229+0x6ad*-0x4;){const _0x12d815=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x1e76+0x177+-0xb*0x2e7,_0x12d815['sort']((_0x5d1ed2,_0x4cf96d)=>_0x5d1ed2['entity']['graphDepth']-_0x4cf96d['entity']['graphDepth']);for(let _0x27dc3e=-0x1d2a*-0x1+0xd*-0xa+-0x1ca8;_0x27dc3e<_0x12d815['length'];++_0x27dc3e)_0x12d815[_0x27dc3e]['reflow']();if(++_0x5644f9>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x1e95e3,_0x2692bf){_0x2692bf['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0x51b97e){this['map']['forEach'](_0x4c584c=>_0x4c584c['mesh']['destroy']());}}const tI=new kt(),cx=(_0x58f20a,_0x463932)=>{const _0x391c91=tI['get'](_0x58f20a,()=>new eI());let _0x2ba214=_0x391c91['map']['get'](_0x463932);if(!_0x2ba214){let _0x17bc3e,_0x21bf75;switch(_0x463932){case'box':_0x17bc3e=Ie['fromGeomet'+'ry'](_0x58f20a,new Wu()),_0x21bf75={'x':0x2,'y':0x2,'z':0x2,'uv':(-0x58*-0x4c+0x1232*-0x2+0xa46)/(-0x2dd*-0x1+-0x2*0x1f3+0x10c)};break;case'capsule':_0x17bc3e=Ie['fromGeomet'+'ry'](_0x58f20a,new C1({'radius':0.5,'height':0x2})),_0x21bf75={'x':Math['PI']*(-0x2*-0xb5f+-0x2af*0x5+-0x951),'y':Math['PI'],'z':Math['PI']*(0xe9*-0x17+0x1c*0x63+0xa1d),'uv':(-0x20eb+-0x19c4+0x2*0x1d58)/(-0x1*-0x56f+0x60e+-0xb7a)+(0x2563+0x9d0*-0x1+0x1*-0x1b92)/(-0x12d*-0xc+-0x151d+0x704)/(0x24f7*-0x1+0x1ec6+0x634)*(0x1174+-0x946+0x20b*-0x4)};break;case'cone':_0x17bc3e=Ie['fromGeomet'+'ry'](_0x58f20a,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x21bf75={'x':2.54,'y':2.54,'z':2.54,'uv':(0x208f+0x4*-0x4d2+-0xd46)/(0x1a19+0x7*-0x2cf+0x66d*-0x1)+(-0x2300+0x2d8*0x1+-0x1*-0x2029)/(0x1*0xd03+-0x24e*-0xa+-0x240c)/(0x1316+0x217e+-0x3491)};break;case'cylinder':_0x17bc3e=Ie['fromGeomet'+'ry'](_0x58f20a,new P1({'radius':0.5,'height':0x1})),_0x21bf75={'x':Math['PI'],'y':(-0xf4*0x13+-0x3*0x423+0x1e85+0.79)*(-0xbcc+-0x12c6+0x1e94),'z':Math['PI'],'uv':(-0x2251+-0x75*-0x27+0x107f)/(0x10aa+-0x1d6e+-0x1*-0xcc7)+(-0x181a+-0x10*0x1f7+0x378b)/(0xf0c+-0x23*-0xe3+-0x2e12)/(0x91*0x13+0x1498+-0x1f58)*(0xdc*0x13+-0x240c+0x13ba)};break;case'plane':_0x17bc3e=Ie['fromGeomet'+'ry'](_0x58f20a,new R1({'halfExtents':new $(-0x1f6+-0x2e0+-0x4d6*-0x1+0.5,-0x1*-0x5a2+-0x247b+-0x35*-0x95+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x21bf75={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x17bc3e=Ie['fromGeomet'+'ry'](_0x58f20a,new B0({'radius':0.5})),_0x21bf75={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x17bc3e=Ie['fromGeomet'+'ry'](_0x58f20a,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x21bf75={'x':Math['PI']*(0x6*-0x68+-0x74*0x1+0x2e4*0x1+0.5)*(0x6c*0x28+-0x2ce+-0xe12+0.5)-Math['PI']*(0x1b7*-0x13+0x1741+0x954+0.1)*(-0x26ef+0x1025+0x16ca+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x463932);}_0x17bc3e['incRefCoun'+'t'](),_0x2ba214={'mesh':_0x17bc3e,'area':_0x21bf75},_0x391c91['map']['set'](_0x463932,_0x2ba214);}return _0x2ba214;};class dx extends ue{constructor(_0x36ceb2,_0x1eca85){super(_0x36ceb2,_0x1eca85),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(-0xd88+-0x431+0xd*0x15d)),c(this,'_receiveSh'+'adows',!(0x17e9+-0x22c2*0x1+0xad9)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(-0x16d2+-0x12df*0x2+0x3c90)),c(this,'_lightmapp'+'ed',!(0x3e0+-0x1dfc+0x3bb*0x7)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x62*0x53+-0x1404+-0xbc1),c(this,'isStatic',!(-0x8c5+0x1af*0x17+0x1c3*-0x11)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(0x41c+0x1*0x23b+0x32b*-0x2)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(0x44e+0x1*-0xa9+-0x3a4)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x36ceb2['defaultMat'+'erial'],_0x1eca85['on']('remove',this['onRemoveCh'+'ild'],this),_0x1eca85['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x1eca85['on']('insert',this['onInsertCh'+'ild'],this),_0x1eca85['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x57e8db){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x57e8db);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x32601a){if(this['_customAab'+'b']=_0x32601a,this['_model']){const _0x4f11e9=this['_model']['meshInstan'+'ces'];if(_0x4f11e9){for(let _0x46e589=0x1b99+-0x209+-0x332*0x8;_0x46e589<_0x4f11e9['length'];_0x46e589++)_0x4f11e9[_0x46e589]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0xc694eb){if(this['_type']!==_0xc694eb){if(this['_area']=null,this['_type']=_0xc694eb,_0xc694eb==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x460909=cx(this['system']['app']['graphicsDe'+'vice'],_0xc694eb);this['_area']=_0x460909['area'];const _0x5afead=_0x460909['mesh'],_0x5bab2d=new De(),_0x3da151=new Oi();_0x3da151['graph']=_0x5bab2d,_0x3da151['meshInstan'+'ces']=[new Le(_0x5afead,this['_material'],_0x5bab2d)],this['model']=_0x3da151,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x7c9a73){const _0x1523e9=this['system']['app']['assets'];let _0x580be8=_0x7c9a73;if(_0x7c9a73 instanceof le&&(_0x580be8=_0x7c9a73['id']),this['_asset']!==_0x580be8){if(this['_asset']){_0x1523e9['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x108116=_0x1523e9['get'](this['_asset']);_0x108116&&this['_unbindMod'+'elAsset'](_0x108116);}if(this['_asset']=_0x580be8,this['_asset']){const _0x565e6a=_0x1523e9['get'](this['_asset']);_0x565e6a?this['_bindModel'+'Asset'](_0x565e6a):(this['model']=null,_0x1523e9['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x28e6a3){if(this['_model']!==_0x28e6a3){if(_0x28e6a3&&_0x28e6a3['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x18ea+-0x9*-0xed+0x17*-0x172),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0xf2e+0x2493+0x8a0*-0x6))),this['_model']=_0x28e6a3,this['_model']){this['_model']['_immutable']=!(-0x2527+-0x2640+0x4b67);const _0x573b9a=this['_model']['meshInstan'+'ces'];for(let _0x140c76=0x11*-0x15+-0xbaa*-0x1+0xa45*-0x1;_0x140c76<_0x573b9a['length'];_0x140c76++)_0x573b9a[_0x140c76]['castShadow']=this['_castShado'+'ws'],_0x573b9a[_0x140c76]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x573b9a[_0x140c76]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x374488){if(_0x374488!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x374488,this['_model'])){const _0x25d0d6=this['_model']['meshInstan'+'ces'];for(let _0x46697c=-0xa4d+0x1270+0x823*-0x1;_0x46697c<_0x25d0d6['length'];_0x46697c++)_0x25d0d6[_0x46697c]['setLightma'+'pped'](_0x374488);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x9a091a){if(this['_castShado'+'ws']===_0x9a091a)return;const _0xf872e7=this['_model'];if(_0xf872e7){const _0x1152b3=this['layers'],_0x2b5d25=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x9a091a)for(let _0x540610=-0xd6*0x29+0x2ba*-0x1+0x2500;_0x540610<_0x1152b3['length'];_0x540610++){const _0xf8beff=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x540610]);_0xf8beff&&_0xf8beff['removeShad'+'owCasters'](_0xf872e7['meshInstan'+'ces']);}const _0x29768c=_0xf872e7['meshInstan'+'ces'];for(let _0x401cde=-0x103f*0x1+-0xc8*-0x16+-0x1*0xf1;_0x401cde<_0x29768c['length'];_0x401cde++)_0x29768c[_0x401cde]['castShadow']=_0x9a091a;if(!this['_castShado'+'ws']&&_0x9a091a)for(let _0x1b28ae=0x1e16+0xcd9+0x1*-0x2aef;_0x1b28ae<_0x1152b3['length'];_0x1b28ae++){const _0x100ac4=_0x2b5d25['layers']['getLayerBy'+'Id'](_0x1152b3[_0x1b28ae]);_0x100ac4&&_0x100ac4['addShadowC'+'asters'](_0xf872e7['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x9a091a;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x46445f){if(this['_receiveSh'+'adows']!==_0x46445f&&(this['_receiveSh'+'adows']=_0x46445f,this['_model'])){const _0x19a603=this['_model']['meshInstan'+'ces'];for(let _0xf652f6=0x1fc0+-0x240+-0x1d80,_0x19c752=_0x19a603['length'];_0xf652f6<_0x19c752;_0xf652f6++)_0x19a603[_0xf652f6]['receiveSha'+'dow']=_0x46445f;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x423ab3){this['_castShado'+'wsLightmap']=_0x423ab3;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x249ccf){this['_lightmapS'+'izeMultipl'+'ier']=_0x249ccf;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x22c226){const _0x5d375b=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x1f8022=0x1c4c+0x1*-0x17e0+-0x4*0x11b;_0x1f8022<this['_layers']['length'];_0x1f8022++){const _0x89d11a=_0x5d375b['getLayerBy'+'Id'](this['_layers'][_0x1f8022]);_0x89d11a&&_0x89d11a['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0xbd3+-0x1c5b+0x282e;for(let _0xda1e3d=-0x1*0x827+0x10b2*0x1+-0x88b;_0xda1e3d<_0x22c226['length'];_0xda1e3d++)this['_layers'][_0xda1e3d]=_0x22c226[_0xda1e3d];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x23fc77=0x30*-0x92+-0x170d*0x1+0x10cf*0x3;_0x23fc77<this['_layers']['length'];_0x23fc77++){const _0x41311f=_0x5d375b['getLayerBy'+'Id'](this['_layers'][_0x23fc77]);_0x41311f&&_0x41311f['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x4b1c55){var _0x281af9,_0x50b8dd;this['_batchGrou'+'pId']!==_0x4b1c55&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x195c*-0x1+0x1b2c+-0x1d0&&((_0x281af9=this['system']['app']['batcher'])==null||_0x281af9['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x4b1c55>=0x1365+0xdde+-0x2143&&((_0x50b8dd=this['system']['app']['batcher'])==null||_0x50b8dd['insert'](et['MODEL'],_0x4b1c55,this['entity'])),_0x4b1c55<0x2e*0x9+-0xc74+0xad6&&this['_batchGrou'+'pId']>=-0x4f3+-0x13d4+0x18c7*0x1&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x4b1c55);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x38757d){let _0x4f3cc5=_0x38757d;_0x38757d instanceof le&&(_0x4f3cc5=_0x38757d['id']);const _0x452e23=this['system']['app']['assets'];if(_0x4f3cc5!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x452e23['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x13c623=_0x452e23['get'](this['_materialA'+'sset']);_0x13c623&&this['_unbindMat'+'erialAsset'](_0x13c623);}if(this['_materialA'+'sset']=_0x4f3cc5,this['_materialA'+'sset']){const _0x578bc5=_0x452e23['get'](this['_materialA'+'sset']);_0x578bc5?this['_bindMater'+'ialAsset'](_0x578bc5):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x452e23['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0xbe7dd9){this['_material']!==_0xbe7dd9&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0xbe7dd9));}get['material'](){return this['_material'];}set['mapping'](_0x5c8c83){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x5c8c83||(_0x5c8c83={}),this['_mapping']=_0x5c8c83,!this['_model']))return;const _0x1c6224=this['_model']['meshInstan'+'ces'],_0x2f5e44=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x59f042=_0x2f5e44?_0x2f5e44['data']['mapping']:null;let _0x168698=null;for(let _0x5c71c1=0x1807+-0x85a+-0x1*0xfad,_0xf71188=_0x1c6224['length'];_0x5c71c1<_0xf71188;_0x5c71c1++)if(_0x5c8c83[_0x5c71c1]!==void(-0x1*-0x24bc+0x1c78*0x1+-0x4134))_0x5c8c83[_0x5c71c1]?(_0x168698=this['system']['app']['assets']['get'](_0x5c8c83[_0x5c71c1]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x168698,_0x1c6224[_0x5c71c1],_0x5c71c1)):_0x1c6224[_0x5c71c1]['material']=this['system']['defaultMat'+'erial'];else{if(_0x59f042){if(_0x59f042[_0x5c71c1]&&(_0x59f042[_0x5c71c1]['material']||_0x59f042[_0x5c71c1]['path'])){if(_0x59f042[_0x5c71c1]['material']!==void(0x196f+0x279*0x3+-0x20da))_0x168698=this['system']['app']['assets']['get'](_0x59f042[_0x5c71c1]['material']);else{if(_0x59f042[_0x5c71c1]['path']!==void(-0x14f1*-0x1+-0x1b39+0x648)){const _0x538d55=this['_getMateri'+'alAssetUrl'](_0x59f042[_0x5c71c1]['path']);_0x538d55&&(_0x168698=this['system']['app']['assets']['getByUrl'](_0x538d55));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x168698,_0x1c6224[_0x5c71c1],_0x5c71c1);}else _0x1c6224[_0x5c71c1]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x8deb70=this['system']['app']['scene']['layers'];for(let _0x24b06a=0x1*0xcb5+-0x1e40+0x118b;_0x24b06a<this['_layers']['length'];_0x24b06a++){const _0x45109c=_0x8deb70['getLayerBy'+'Id'](this['_layers'][_0x24b06a]);_0x45109c&&_0x45109c['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x22bd63=this['system']['app']['scene']['layers'];for(let _0x245cff=-0x1fa1*-0x1+0x3*-0x98e+-0x2f7;_0x245cff<this['_layers']['length'];_0x245cff++){const _0x1e5d0d=_0x22bd63['getLayerBy'+'Id'](this['_layers'][_0x245cff]);_0x1e5d0d&&_0x1e5d0d['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x3804c0,_0x16af57){this['addModelTo'+'Layers'](),_0x3804c0['off']('add',this['onLayerAdd'+'ed'],this),_0x3804c0['off']('remove',this['onLayerRem'+'oved'],this),_0x16af57['on']('add',this['onLayerAdd'+'ed'],this),_0x16af57['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1ca0e1){this['layers']['indexOf'](_0x1ca0e1['id'])<-0x1*0x1d69+0x1*0x2129+-0x3c0||_0x1ca0e1['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x22fc67){this['layers']['indexOf'](_0x22fc67['id'])<0x131b+-0x20e6+0xb*0x141||_0x22fc67['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x1881e0,_0x4d6f69,_0x1f161d,_0x44fe21){const _0x2bcd76=_0x4d6f69+':'+_0x1f161d;this['system']['app']['assets']['on'](_0x2bcd76,_0x44fe21,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x1881e0]||(this['_materialE'+'vents'][_0x1881e0]={}),this['_materialE'+'vents'][_0x1881e0][_0x2bcd76]={'id':_0x1f161d,'handler':_0x44fe21};}['_unsetMate'+'rialEvents'](){const _0x446f9c=this['system']['app']['assets'],_0x3f40c9=this['_materialE'+'vents'];if(_0x3f40c9){for(let _0x535025=0x1668+-0x21b6*0x1+0xb4e,_0x29de84=_0x3f40c9['length'];_0x535025<_0x29de84;_0x535025++){if(!_0x3f40c9[_0x535025])continue;const _0x4abdf3=_0x3f40c9[_0x535025];for(const _0xce639d in _0x4abdf3)_0x446f9c['off'](_0xce639d,_0x4abdf3[_0xce639d]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x3784a5){let _0x1f14a8=null;if(!isNaN(parseInt(_0x3784a5,-0x3ff*-0x1+-0x47*-0x5e+-0x1e07)))_0x1f14a8=this['system']['app']['assets']['get'](_0x3784a5);else{if(this['asset']){const _0x45531f=this['_getMateri'+'alAssetUrl'](_0x3784a5);_0x45531f&&(_0x1f14a8=this['system']['app']['assets']['getByUrl'](_0x45531f));}}return _0x1f14a8;}['_getMateri'+'alAssetUrl'](_0x45d9d4){if(!this['asset'])return null;const _0x1da7ad=this['system']['app']['assets']['get'](this['asset']);return _0x1da7ad?_0x1da7ad['getAbsolut'+'eUrl'](_0x45d9d4):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x8e4b33,_0x1ca0bd,_0x145568){const _0x378d8b=this['system']['app']['assets'];_0x8e4b33&&(_0x8e4b33['resource']?(_0x1ca0bd['material']=_0x8e4b33['resource'],this['_setMateri'+'alEvent'](_0x145568,'remove',_0x8e4b33['id'],function(){_0x1ca0bd['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x145568,'load',_0x8e4b33['id'],function(_0x2d7b93){_0x1ca0bd['material']=_0x2d7b93['resource'],this['_setMateri'+'alEvent'](_0x145568,'remove',_0x8e4b33['id'],function(){_0x1ca0bd['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x378d8b['load'](_0x8e4b33)));}['onEnable'](){var _0x2ea14d;const _0x1cddcd=this['system']['app'],_0x27e0c8=_0x1cddcd['scene'],_0x2cb98e=_0x27e0c8==null?void(0x57*-0x19+0xd63+0x2*-0x272):_0x27e0c8['layers'];this['_evtLayers'+'Changed']=_0x27e0c8['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2cb98e&&(this['_evtLayerA'+'dded']=_0x2cb98e['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2cb98e['on']('remove',this['onLayerRem'+'oved'],this));const _0x803edc=this['_type']==='asset';let _0x6e95a5;if(this['_model']?this['addModelTo'+'Layers']():_0x803edc&&this['_asset']&&(_0x6e95a5=_0x1cddcd['assets']['get'](this['_asset']),_0x6e95a5&&_0x6e95a5['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x6e95a5)),this['_materialA'+'sset']&&(_0x6e95a5=_0x1cddcd['assets']['get'](this['_materialA'+'sset']),_0x6e95a5&&_0x6e95a5['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x6e95a5)),_0x803edc&&this['_mapping']){for(const _0xb0dce6 in this['_mapping'])this['_mapping'][_0xb0dce6]&&(_0x6e95a5=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0xb0dce6]),_0x6e95a5&&!_0x6e95a5['resource']&&_0x1cddcd['assets']['load'](_0x6e95a5));}this['_batchGrou'+'pId']>=0xb2b+0xd*-0x2a4+0x1729&&((_0x2ea14d=_0x1cddcd['batcher'])==null||_0x2ea14d['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x112b8f,_0x49d29c,_0x533641,_0xf4403;const _0x451e93=this['system']['app'],_0x4937a3=_0x451e93['scene']['layers'];(_0x112b8f=this['_evtLayers'+'Changed'])==null||_0x112b8f['off'](),this['_evtLayers'+'Changed']=null,_0x4937a3&&((_0x49d29c=this['_evtLayerA'+'dded'])==null||_0x49d29c['off'](),this['_evtLayerA'+'dded']=null,(_0x533641=this['_evtLayerR'+'emoved'])==null||_0x533641['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x107d+0x155b+-0x25d8&&((_0xf4403=_0x451e93['batcher'])==null||_0xf4403['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x5703c2=this['_model']['meshInstan'+'ces'];for(let _0xc82d39=-0x21a*-0x1+0xc31*-0x3+-0x6e5*-0x5,_0x2ba6ea=_0x5703c2['length'];_0xc82d39<_0x2ba6ea;_0xc82d39++)_0x5703c2[_0xc82d39]['visible']=!(-0xe6*0x22+0x107b+0xe12);}}['show'](){if(this['_model']){const _0xe4b09d=this['_model']['meshInstan'+'ces'];for(let _0x38e359=-0x1162+-0x1720+0x2882,_0x4ec944=_0xe4b09d['length'];_0x38e359<_0x4ec944;_0x38e359++)_0xe4b09d[_0x38e359]['visible']=!(0x1af*0x13+0xfa*0x20+0x3f3d*-0x1);}}['_bindMater'+'ialAsset'](_0xa71a8a){if(_0xa71a8a['on']('load',this['_onMateria'+'lAssetLoad'],this),_0xa71a8a['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0xa71a8a['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0xa71a8a['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0xa71a8a['resource'])this['_onMateria'+'lAssetLoad'](_0xa71a8a);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xa71a8a);}}['_unbindMat'+'erialAsset'](_0x44167e){_0x44167e['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x44167e['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x44167e['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x44167e['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x1b2759){this['system']['app']['assets']['off']('add:'+_0x1b2759['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x1b2759['id']&&this['_bindMater'+'ialAsset'](_0x1b2759);}['_onMateria'+'lAssetLoad'](_0x6f6887){this['_setMateri'+'al'](_0x6f6887['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x129170){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x50802f){this['_onMateria'+'lAssetUnlo'+'ad'](_0x50802f);}['_onMateria'+'lAssetChan'+'ge'](_0x1ef625){}['_bindModel'+'Asset'](_0x1e2883){if(this['_unbindMod'+'elAsset'](_0x1e2883),_0x1e2883['on']('load',this['_onModelAs'+'setLoad'],this),_0x1e2883['on']('unload',this['_onModelAs'+'setUnload'],this),_0x1e2883['on']('change',this['_onModelAs'+'setChange'],this),_0x1e2883['on']('remove',this['_onModelAs'+'setRemove'],this),_0x1e2883['resource'])this['_onModelAs'+'setLoad'](_0x1e2883);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x1e2883);}}['_unbindMod'+'elAsset'](_0x36e89d){_0x36e89d['off']('load',this['_onModelAs'+'setLoad'],this),_0x36e89d['off']('unload',this['_onModelAs'+'setUnload'],this),_0x36e89d['off']('change',this['_onModelAs'+'setChange'],this),_0x36e89d['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x44ae9b){this['system']['app']['assets']['off']('add:'+_0x44ae9b['id'],this['_onModelAs'+'setAdded'],this),_0x44ae9b['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x44ae9b);}['_onModelAs'+'setLoad'](_0x57aa4e){this['model']=_0x57aa4e['resource']['clone'](),this['_clonedMod'+'el']=!(0x18fc+0x149e+-0x2d9a);}['_onModelAs'+'setUnload'](_0x1631d1){this['model']=null;}['_onModelAs'+'setChange'](_0x1de376,_0x164c29,_0x49f32c,_0x21f2b4){_0x164c29==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x2fb601){this['model']=null;}['_setMateri'+'al'](_0x2903c0){if(this['_material']===_0x2903c0)return;this['_material']=_0x2903c0;const _0x25d867=this['_model'];if(_0x25d867&&this['_type']!=='asset'){const _0xaa23b3=_0x25d867['meshInstan'+'ces'];for(let _0x116036=0x26a7+-0xef9*0x1+-0x17ae,_0x9767fe=_0xaa23b3['length'];_0x116036<_0x9767fe;_0x116036++)_0xaa23b3[_0x116036]['material']=_0x2903c0;}}}class sI{constructor(){this['enabled']=!(0x1*0x189e+0x2164+0x9ab*-0x6);}}const ux=['enabled'];class iI extends Xe{constructor(_0x5115f1){super(_0x5115f1),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x5115f1['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x4d1e7f,_0x8d1496,_0x21634d){_0x21634d=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x8d1496['batchGroup'+'Id']===null||_0x8d1496['batchGroup'+'Id']===void(0x277*-0x6+-0x1c6b+0x2b35))&&(_0x8d1496['batchGroup'+'Id']=-(0x3e*-0x7a+-0x65*-0x35+0x229*0x4)),_0x8d1496['layers']&&_0x8d1496['layers']['length']&&(_0x8d1496['layers']=_0x8d1496['layers']['slice'](0x2*0x116f+-0x234b+-0x6d*-0x1));for(let _0x34369f=0xd79*0x1+0x1185+-0x1efe;_0x34369f<_0x21634d['length'];_0x34369f++)_0x8d1496['hasOwnProp'+'erty'](_0x21634d[_0x34369f])&&(_0x4d1e7f[_0x21634d[_0x34369f]]=_0x8d1496[_0x21634d[_0x34369f]]);_0x8d1496['aabbCenter']&&_0x8d1496['aabbHalfEx'+'tents']&&(_0x4d1e7f['customAabb']=new _e(new T(_0x8d1496['aabbCenter']),new T(_0x8d1496['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x4d1e7f,_0x8d1496,['enabled']);}['cloneCompo'+'nent'](_0x4c4ebb,_0x293bab){const _0xe5d942={'type':_0x4c4ebb['model']['type'],'asset':_0x4c4ebb['model']['asset'],'castShadows':_0x4c4ebb['model']['castShadow'+'s'],'receiveShadows':_0x4c4ebb['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x4c4ebb['model']['castShadow'+'sLightmap'],'lightmapped':_0x4c4ebb['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x4c4ebb['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x4c4ebb['model']['isStatic'],'enabled':_0x4c4ebb['model']['enabled'],'layers':_0x4c4ebb['model']['layers'],'batchGroupId':_0x4c4ebb['model']['batchGroup'+'Id'],'mapping':vh({},_0x4c4ebb['model']['mapping'])};let _0x41c545=_0x4c4ebb['model']['materialAs'+'set'];!(_0x41c545 instanceof le)&&_0x41c545!=null&&(_0x41c545=this['app']['assets']['get'](_0x41c545));const _0x17ef74=_0x4c4ebb['model']['material'];(!_0x17ef74||_0x17ef74===this['defaultMat'+'erial']||!_0x41c545||_0x17ef74===_0x41c545['resource'])&&(_0xe5d942['materialAs'+'set']=_0x41c545);const _0xfd362c=this['addCompone'+'nt'](_0x293bab,_0xe5d942);if(_0x4c4ebb['model']['model']&&_0x4c4ebb['model']['type']==='asset'&&!_0x4c4ebb['model']['asset']&&(_0xfd362c['model']=_0x4c4ebb['model']['model']['clone'](),_0xfd362c['_clonedMod'+'el']=!(0x2182*-0x1+0x871*-0x3+-0x1*-0x3ad5)),_0xe5d942['materialAs'+'set']||(_0xfd362c['material']=_0x17ef74),_0x4c4ebb['model']['model']){const _0x4f5524=_0x4c4ebb['model']['model']['meshInstan'+'ces'],_0x126da4=_0xfd362c['model']['meshInstan'+'ces'];for(let _0x2e854e=0x135d+0x407+-0x6*0x3e6;_0x2e854e<_0x4f5524['length'];_0x2e854e++)_0x126da4[_0x2e854e]['mask']=_0x4f5524[_0x2e854e]['mask'],_0x126da4[_0x2e854e]['material']=_0x4f5524[_0x2e854e]['material'],_0x126da4[_0x2e854e]['layer']=_0x4f5524[_0x2e854e]['layer'],_0x126da4[_0x2e854e]['receiveSha'+'dow']=_0x4f5524[_0x2e854e]['receiveSha'+'dow'];}return _0x4c4ebb['model']['customAabb']&&(_0xfd362c['customAabb']=_0x4c4ebb['model']['customAabb']['clone']()),_0xfd362c;}['onRemove'](_0x514ef9,_0x183a30){_0x183a30['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0x20407e,_0x4c6623){super(_0x20407e,_0x4c6623),c(this,'_requested'+'Depth',!(0x3*0x701+0x1e62+0x5c*-0x8f)),c(this,'_drawOrder',0x647+-0x6*0x6a+-0x3cb),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0x4449df=>{this['on']('set_'+_0x4449df,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x569e29=>{this['on']('set_'+_0x569e29,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x126ff0=>{this['on']('set_'+_0x126ff0,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x13e213=this['system']['store'][this['entity']['getGuid']()];return _0x13e213?_0x13e213['data']:null;}set['enabled'](_0x5caeb1){this['_setValue']('enabled',_0x5caeb1);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x47dd2d){this['_setValue']('autoPlay',_0x47dd2d);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x135cdb){this['_setValue']('numParticl'+'es',_0x135cdb);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x29ea92){this['_setValue']('lifetime',_0x29ea92);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x222d67){this['_setValue']('rate',_0x222d67);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x3777a7){this['_setValue']('rate2',_0x3777a7);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x2cdb32){this['_setValue']('startAngle',_0x2cdb32);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x232c3b){this['_setValue']('startAngle'+'2',_0x232c3b);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x5304b5){this['_setValue']('loop',_0x5304b5);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x2dd24){this['_setValue']('preWarm',_0x2dd24);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x7038f7){this['_setValue']('lighting',_0x7038f7);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x265751){this['_setValue']('halfLamber'+'t',_0x265751);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x2af652){this['_setValue']('intensity',_0x2af652);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x1660f8){this['_setValue']('depthWrite',_0x1660f8);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x6cb805){this['_setValue']('noFog',_0x6cb805);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x2bd6f3){this['_setValue']('depthSofte'+'ning',_0x2bd6f3);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x241572){this['_setValue']('sort',_0x241572);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x2eb548){this['_setValue']('blendType',_0x2eb548);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x6dd8cd){this['_setValue']('stretch',_0x6dd8cd);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x495cfa){this['_setValue']('alignToMot'+'ion',_0x495cfa);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x3cf4d1){this['_setValue']('emitterSha'+'pe',_0x3cf4d1);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x17a7cc){this['_setValue']('emitterExt'+'ents',_0x17a7cc);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x121e41){this['_setValue']('emitterExt'+'entsInner',_0x121e41);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x4f57dc){this['_setValue']('emitterRad'+'ius',_0x4f57dc);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0xf0ba34){this['_setValue']('emitterRad'+'iusInner',_0xf0ba34);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x293973){this['_setValue']('initialVel'+'ocity',_0x293973);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x1ea08a){this['_setValue']('wrap',_0x1ea08a);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x19fa7f){this['_setValue']('wrapBounds',_0x19fa7f);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x3448dc){this['_setValue']('localSpace',_0x3448dc);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x221ad9){this['_setValue']('screenSpac'+'e',_0x221ad9);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x4e8f7a){this['_setValue']('colorMapAs'+'set',_0x4e8f7a);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x2a9701){this['_setValue']('normalMapA'+'sset',_0x2a9701);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x20071a){this['_setValue']('mesh',_0x20071a);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x16454a){this['_setValue']('meshAsset',_0x16454a);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x3a4b7c){this['_setValue']('renderAsse'+'t',_0x3a4b7c);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x533837){this['_setValue']('orientatio'+'n',_0x533837);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x3cd007){this['_setValue']('particleNo'+'rmal',_0x3cd007);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x4f8623){this['_setValue']('localVeloc'+'ityGraph',_0x4f8623);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x2c0a3e){this['_setValue']('localVeloc'+'ityGraph2',_0x2c0a3e);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x3bb8d3){this['_setValue']('velocityGr'+'aph',_0x3bb8d3);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x47f1c7){this['_setValue']('velocityGr'+'aph2',_0x47f1c7);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x49a575){this['_setValue']('rotationSp'+'eedGraph',_0x49a575);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x33d8d8){this['_setValue']('rotationSp'+'eedGraph2',_0x33d8d8);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x484f0c){this['_setValue']('radialSpee'+'dGraph',_0x484f0c);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x2bfc2e){this['_setValue']('radialSpee'+'dGraph2',_0x2bfc2e);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x16d960){this['_setValue']('scaleGraph',_0x16d960);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x48f136){this['_setValue']('scaleGraph'+'2',_0x48f136);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x23d46a){this['_setValue']('colorGraph',_0x23d46a);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x1a94d8){this['_setValue']('colorGraph'+'2',_0x1a94d8);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x40d072){this['_setValue']('alphaGraph',_0x40d072);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x45adad){this['_setValue']('alphaGraph'+'2',_0x45adad);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x2d4da1){this['_setValue']('colorMap',_0x2d4da1);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0xfcd5d4){this['_setValue']('normalMap',_0xfcd5d4);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x48657c){this['_setValue']('animTilesX',_0x48657c);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x121e10){this['_setValue']('animTilesY',_0x121e10);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x12267e){this['_setValue']('animStartF'+'rame',_0x12267e);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x3d4013){this['_setValue']('animNumFra'+'mes',_0x3d4013);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x4890a9){this['_setValue']('animNumAni'+'mations',_0x4890a9);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x5da696){this['_setValue']('animIndex',_0x5da696);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0xe8d449){this['_setValue']('randomizeA'+'nimIndex',_0xe8d449);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x383a63){this['_setValue']('animSpeed',_0x383a63);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x289c37){this['_setValue']('animLoop',_0x289c37);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x56a15e){this['_setValue']('layers',_0x56a15e);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x3d2757){this['_drawOrder']=_0x3d2757,this['emitter']&&(this['emitter']['drawOrder']=_0x3d2757);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x382308,_0xe253fa){const _0x66e743=this['data'],_0x17cef7=_0x66e743[_0x382308];_0x66e743[_0x382308]=_0xe253fa,this['fire']('set',_0x382308,_0x17cef7,_0xe253fa);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x2b6ba9=-0x1f7b*0x1+0x18c9+0x6b2;_0x2b6ba9<this['layers']['length'];_0x2b6ba9++){const _0xad217a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2b6ba9]);_0xad217a&&(_0xad217a['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0xad217a);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x33cbb6=-0x1*0x1b9e+0xb1d+0x1081;_0x33cbb6<this['layers']['length'];_0x33cbb6++){const _0x2668d0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x33cbb6]);_0x2668d0&&_0x2668d0['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x50ef11,_0xd47750,_0x2cc1f4){if(this['emitter']){for(let _0x1d381e=0x115a+-0x50a+-0xc50;_0x1d381e<_0xd47750['length'];_0x1d381e++){const _0x219cab=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xd47750[_0x1d381e]);_0x219cab&&_0x219cab['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x1c731a=0x1faf+-0x3*-0x277+-0x52*0x7a;_0x1c731a<_0x2cc1f4['length'];_0x1c731a++){const _0x46855c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2cc1f4[_0x1c731a]);_0x46855c&&_0x46855c['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x189570,_0x152e98){this['addMeshIns'+'tanceToLay'+'ers'](),_0x189570['off']('add',this['onLayerAdd'+'ed'],this),_0x189570['off']('remove',this['onLayerRem'+'oved'],this),_0x152e98['on']('add',this['onLayerAdd'+'ed'],this),_0x152e98['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1be489){!this['emitter']||this['layers']['indexOf'](_0x1be489['id'])<0x148*0xd+0x1*-0x194b+-0x2e1*-0x3||_0x1be489['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x299baa){!this['emitter']||this['layers']['indexOf'](_0x299baa['id'])<-0x75b*0x3+0x1*-0x1ded+0x33fe||_0x299baa['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x30a659){if(_0x30a659['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x30a659['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x30a659['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x30a659['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x30a659['resource'])this['_onColorMa'+'pAssetLoad'](_0x30a659);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x30a659);}}['_unbindCol'+'orMapAsset'](_0x5296a9){_0x5296a9['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x5296a9['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x5296a9['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x5296a9['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x3c2e46){this['colorMap']=_0x3c2e46['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x2626b0){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x432243){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x432243);}['_onColorMa'+'pAssetChan'+'ge'](_0x394334){}['onSetColor'+'MapAsset'](_0x4dcf6d,_0x4a3a05,_0xfd3e0f){const _0x45d9ce=this['system']['app']['assets'];if(_0x4a3a05){const _0x456db3=_0x45d9ce['get'](_0x4a3a05);_0x456db3&&this['_unbindCol'+'orMapAsset'](_0x456db3);}if(_0xfd3e0f){_0xfd3e0f instanceof le&&(this['data']['colorMapAs'+'set']=_0xfd3e0f['id'],_0xfd3e0f=_0xfd3e0f['id']);const _0x42d6c8=_0x45d9ce['get'](_0xfd3e0f);_0x42d6c8?this['_bindColor'+'MapAsset'](_0x42d6c8):_0x45d9ce['once']('add:'+_0xfd3e0f,_0x273e07=>{this['_bindColor'+'MapAsset'](_0x273e07);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x5841d8){if(_0x5841d8['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x5841d8['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x5841d8['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x5841d8['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x5841d8['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x5841d8);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x5841d8);}}['_unbindNor'+'malMapAsse'+'t'](_0x523801){_0x523801['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x523801['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x523801['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x523801['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x36a184){this['normalMap']=_0x36a184['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x4dd07c){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x34b47b){this['_onNormalM'+'apAssetUnl'+'oad'](_0x34b47b);}['_onNormalM'+'apAssetCha'+'nge'](_0x14d264){}['onSetNorma'+'lMapAsset'](_0x2fb33b,_0x1d9d8a,_0x1b5b88){const _0x190c08=this['system']['app']['assets'];if(_0x1d9d8a){const _0x1cd258=_0x190c08['get'](_0x1d9d8a);_0x1cd258&&this['_unbindNor'+'malMapAsse'+'t'](_0x1cd258);}if(_0x1b5b88){_0x1b5b88 instanceof le&&(this['data']['normalMapA'+'sset']=_0x1b5b88['id'],_0x1b5b88=_0x1b5b88['id']);const _0x385841=_0x190c08['get'](_0x1b5b88);_0x385841?this['_bindNorma'+'lMapAsset'](_0x385841):_0x190c08['once']('add:'+_0x1b5b88,_0x15c063=>{this['_bindNorma'+'lMapAsset'](_0x15c063);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x183541){if(_0x183541['on']('load',this['_onMeshAss'+'etLoad'],this),_0x183541['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x183541['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x183541['on']('change',this['_onMeshAss'+'etChange'],this),_0x183541['resource'])this['_onMeshAss'+'etLoad'](_0x183541);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x183541);}}['_unbindMes'+'hAsset'](_0x3efc8b){_0x3efc8b['off']('load',this['_onMeshAss'+'etLoad'],this),_0x3efc8b['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x3efc8b['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x3efc8b['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x45b537){this['_onMeshCha'+'nged'](_0x45b537['resource']);}['_onMeshAss'+'etUnload'](_0x350feb){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x8e5361){this['_onMeshAss'+'etUnload'](_0x8e5361);}['_onMeshAss'+'etChange'](_0x59daf4){}['onSetMeshA'+'sset'](_0x444ce0,_0x1d5d8f,_0x1cf7e5){const _0x2a62fd=this['system']['app']['assets'];if(_0x1d5d8f){const _0x1db6f9=_0x2a62fd['get'](_0x1d5d8f);_0x1db6f9&&this['_unbindMes'+'hAsset'](_0x1db6f9);}if(_0x1cf7e5){_0x1cf7e5 instanceof le&&(this['data']['meshAsset']=_0x1cf7e5['id'],_0x1cf7e5=_0x1cf7e5['id']);const _0x36bd95=_0x2a62fd['get'](_0x1cf7e5);_0x36bd95&&this['_bindMeshA'+'sset'](_0x36bd95);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x35cb1a,_0x409d8c,_0x110962){!_0x110962||_0x110962 instanceof le||typeof _0x110962=='number'?this['meshAsset']=_0x110962:this['_onMeshCha'+'nged'](_0x110962);}['_onMeshCha'+'nged'](_0x4794d1){_0x4794d1&&!(_0x4794d1 instanceof Ie)&&(_0x4794d1['meshInstan'+'ces'][-0x1*0x1e57+0x298+0x1bbf]?_0x4794d1=_0x4794d1['meshInstan'+'ces'][0x1*0x1fbd+0x239*0x7+0x3*-0xfc4]['mesh']:_0x4794d1=null),this['data']['mesh']=_0x4794d1,this['emitter']&&(this['emitter']['mesh']=_0x4794d1,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x1da85d,_0x6b2220,_0x1d5178){const _0x4314b9=this['system']['app']['assets'];if(_0x6b2220){const _0x2d2828=_0x4314b9['get'](_0x6b2220);_0x2d2828&&this['_unbindRen'+'derAsset'](_0x2d2828);}if(_0x1d5178){_0x1d5178 instanceof le&&(this['data']['renderAsse'+'t']=_0x1d5178['id'],_0x1d5178=_0x1d5178['id']);const _0x50ad0e=_0x4314b9['get'](_0x1d5178);_0x50ad0e&&this['_bindRende'+'rAsset'](_0x50ad0e);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x433ed7){if(_0x433ed7['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x433ed7['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x433ed7['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x433ed7['resource'])this['_onRenderA'+'ssetLoad'](_0x433ed7);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x433ed7);}}['_unbindRen'+'derAsset'](_0x278bc6){var _0x3d7ee2;_0x278bc6['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x278bc6['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x278bc6['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x3d7ee2=this['_evtSetMes'+'hes'])==null||_0x3d7ee2['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x2de45b){this['_onRenderC'+'hanged'](_0x2de45b['resource']);}['_onRenderA'+'ssetUnload'](_0x224b1d){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x3f232e){this['_onRenderA'+'ssetUnload'](_0x3f232e);}['_onRenderC'+'hanged'](_0x282ae8){var _0x5dff06;if(!_0x282ae8){this['_onMeshCha'+'nged'](null);return;}(_0x5dff06=this['_evtSetMes'+'hes'])==null||_0x5dff06['off'](),this['_evtSetMes'+'hes']=_0x282ae8['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x282ae8['meshes']&&this['_onRenderS'+'etMeshes'](_0x282ae8['meshes']);}['_onRenderS'+'etMeshes'](_0x5f04c6){this['_onMeshCha'+'nged'](_0x5f04c6&&_0x5f04c6[-0x1fea+-0x1cea*0x1+0x394*0x11]);}['onSetLoop'](_0x25a11b,_0x3c8c13,_0x37324f){this['emitter']&&(this['emitter'][_0x25a11b]=_0x37324f,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x240996,_0x2113c4,_0x185c60){this['emitter']&&(this['emitter'][_0x240996]=_0x185c60,this['emitter']['material']['blendType']=_0x185c60,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x1f53+0x9c9+0x36d*-0xc)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x1b9c+0x5d*-0x5+-0x19ca));}['onSetDepth'+'Softening'](_0x5ac2a1,_0x2a98d5,_0x41a0f2){_0x2a98d5!==_0x41a0f2&&(_0x41a0f2?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x5ac2a1]=_0x41a0f2)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x5ac2a1]=_0x41a0f2)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x7e4776,_0xa09d91,_0x107d8e){this['emitter']&&(this['emitter'][_0x7e4776]=_0x107d8e,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x49ddce,_0x3349c1,_0x256bf8){this['emitter']&&(this['emitter'][_0x49ddce]=_0x256bf8,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x429937,_0x135f48,_0x56104e){this['emitter']&&(this['emitter'][_0x429937]=_0x56104e,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x2ea3bb=this['system']['app']['scene'],_0x4ca8b6=_0x2ea3bb['layers'],_0x4e70ac=this['data'];for(let _0x20d86c=-0x1c20+-0x136f*0x1+-0x19*-0x1e7,_0x224e12=Zl['length'];_0x20d86c<_0x224e12;_0x20d86c++){let _0x275126=_0x4e70ac[Zl[_0x20d86c]];if(_0x275126){if(!(_0x275126 instanceof le)){if(parseInt(_0x275126,0x1842*0x1+-0xd*0x1db+-0x19*0x1)>=0x23e0+-0xd*-0x266+-0x430e)_0x275126=this['system']['app']['assets']['get'](_0x275126);else continue;}_0x275126&&!_0x275126['resource']&&this['system']['app']['assets']['load'](_0x275126);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0xbba43f=_0x4e70ac['mesh'];_0xbba43f instanceof Ie||(_0xbba43f=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x4e70ac['numParticl'+'es'],'emitterExtents':_0x4e70ac['emitterExt'+'ents'],'emitterExtentsInner':_0x4e70ac['emitterExt'+'entsInner'],'emitterRadius':_0x4e70ac['emitterRad'+'ius'],'emitterRadiusInner':_0x4e70ac['emitterRad'+'iusInner'],'emitterShape':_0x4e70ac['emitterSha'+'pe'],'initialVelocity':_0x4e70ac['initialVel'+'ocity'],'wrap':_0x4e70ac['wrap'],'localSpace':_0x4e70ac['localSpace'],'screenSpace':_0x4e70ac['screenSpac'+'e'],'wrapBounds':_0x4e70ac['wrapBounds'],'lifetime':_0x4e70ac['lifetime'],'rate':_0x4e70ac['rate'],'rate2':_0x4e70ac['rate2'],'orientation':_0x4e70ac['orientatio'+'n'],'particleNormal':_0x4e70ac['particleNo'+'rmal'],'animTilesX':_0x4e70ac['animTilesX'],'animTilesY':_0x4e70ac['animTilesY'],'animStartFrame':_0x4e70ac['animStartF'+'rame'],'animNumFrames':_0x4e70ac['animNumFra'+'mes'],'animNumAnimations':_0x4e70ac['animNumAni'+'mations'],'animIndex':_0x4e70ac['animIndex'],'randomizeAnimIndex':_0x4e70ac['randomizeA'+'nimIndex'],'animSpeed':_0x4e70ac['animSpeed'],'animLoop':_0x4e70ac['animLoop'],'startAngle':_0x4e70ac['startAngle'],'startAngle2':_0x4e70ac['startAngle'+'2'],'scaleGraph':_0x4e70ac['scaleGraph'],'scaleGraph2':_0x4e70ac['scaleGraph'+'2'],'colorGraph':_0x4e70ac['colorGraph'],'colorGraph2':_0x4e70ac['colorGraph'+'2'],'alphaGraph':_0x4e70ac['alphaGraph'],'alphaGraph2':_0x4e70ac['alphaGraph'+'2'],'localVelocityGraph':_0x4e70ac['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x4e70ac['localVeloc'+'ityGraph2'],'velocityGraph':_0x4e70ac['velocityGr'+'aph'],'velocityGraph2':_0x4e70ac['velocityGr'+'aph2'],'rotationSpeedGraph':_0x4e70ac['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x4e70ac['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x4e70ac['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x4e70ac['radialSpee'+'dGraph2'],'colorMap':_0x4e70ac['colorMap'],'normalMap':_0x4e70ac['normalMap'],'loop':_0x4e70ac['loop'],'preWarm':_0x4e70ac['preWarm'],'sort':_0x4e70ac['sort'],'stretch':_0x4e70ac['stretch'],'alignToMotion':_0x4e70ac['alignToMot'+'ion'],'lighting':_0x4e70ac['lighting'],'halfLambert':_0x4e70ac['halfLamber'+'t'],'intensity':_0x4e70ac['intensity'],'depthSoftening':_0x4e70ac['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0xbba43f,'depthWrite':_0x4e70ac['depthWrite'],'noFog':_0x4e70ac['noFog'],'node':this['entity'],'blendType':_0x4e70ac['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x4e70ac['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x1527+-0x22*-0xbf+-0x2e84));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x2ea3bb['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4ca8b6&&(this['_evtLayerA'+'dded']=_0x4ca8b6['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4ca8b6['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x4e70ac['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x261187,_0x94d7cc,_0x2f83a0;const _0x381298=this['system']['app']['scene']['layers'];(_0x261187=this['_evtLayers'+'Changed'])==null||_0x261187['off'](),this['_evtLayers'+'Changed']=null,_0x381298&&((_0x94d7cc=this['_evtLayerA'+'dded'])==null||_0x94d7cc['off'](),this['_evtLayerA'+'dded']=null,(_0x2f83a0=this['_evtLayerR'+'emoved'])==null||_0x2f83a0['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x1b2+-0x1a95+0x1c48)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x28f526=0x1f0e+-0x3*0x6a+-0x1dd0;_0x28f526<Zl['length'];_0x28f526++){const _0x4adf89=Zl[_0x28f526];this['data'][_0x4adf89]&&(this[_0x4adf89]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x19*0x125+0x1676+0x1989*-0x2),this['emitter']['resetTime'](),this['emitter']['addTime'](-0x74*0x5+0x11*-0x1a5+0x1e39,!(0x107b*-0x1+-0x1efe+0x2f79)));}['pause'](){this['data']['paused']=!(-0x1ae3+-0x1af*-0x2+-0x9*-0x29d);}['unpause'](){this['data']['paused']=!(0x1116+0x217*0x1+-0x199*0xc);}['play'](){this['data']['paused']=!(0x1*-0x1fc5+-0xb*0x2d3+-0x3ed7*-0x1),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0xf5d+0x11*0x16f+0x1*-0x27bc),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x19*0x13d+-0xc89*0x2+-0x6*0xfb):this['emitter']&&this['emitter']['loop']?!(0x1c*0xd7+-0x589+-0x11fb):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x12a61b}=this;_0x12a61b&&!_0x12a61b['inTools']&&(_0x12a61b['inTools']=!(0x547*-0x2+-0x5db*-0x2+0x94*-0x2),this['rebuild']());}['rebuild'](){const _0x3fecc8=this['enabled'];this['enabled']=!(0x3*0x5a7+-0x1d78+-0x4*-0x321),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x3fecc8;}}class lI{constructor(){this['numParticl'+'es']=-0x2354+-0x2*0x9a9+0x36a7,this['rate']=-0x1abc+0x25f2+-0x97*0x13,this['rate2']=null,this['startAngle']=0x12ae+0x20d4+-0x3382,this['startAngle'+'2']=null,this['lifetime']=0x345*0x9+-0x2b1*-0x2+-0x1*0x229d,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=0x11b2+0x14b4+0x5*-0x7ae,this['emitterRad'+'iusInner']=0x1d58+0xad0+-0x505*0x8,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=-0x1723+-0x25*0xd3+0x35a2,this['wrap']=!(-0x2d*-0x4a+-0x7e6+-0x51b*0x1),this['wrapBounds']=new T(),this['localSpace']=!(-0x795*-0x3+-0x1*-0x116+-0x17d4),this['screenSpac'+'e']=!(-0x242c+0xd94+0x1699),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x21*-0x17+-0x155c*0x1+0x1265),this['preWarm']=!(-0x2655+-0x14d5+0x3b2b),this['sort']=-0x20*-0xce+0x1*0x1b2f+-0x34ef,this['mode']=d0,this['scene']=null,this['lighting']=!(-0x4a*-0x2+0x577*0x1+-0x60a),this['halfLamber'+'t']=!(-0x5f*0x29+-0x8*-0x20e+0x1a*-0xc),this['intensity']=0x24*0xef+-0xb*0x61+-0x1d70,this['stretch']=0x1*-0x10a6+-0x221f+-0x32c5*-0x1,this['alignToMot'+'ion']=!(-0x1ac5+-0x1*0x14cb+0x2f91),this['depthSofte'+'ning']=-0xf59+-0x18a9+0x2802,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0xcf0+0x2*-0x5cd+-0x155*0x1),this['noFog']=!(0xed0+-0xd0a+-0x1c5),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(0x213a+0xb0*0x2e+0x1*-0x40da,-0x4b6+0x2*-0x112+-0x5*-0x15f,-0x1c65+0x1e47+-0x1e2),this['animTilesX']=0x87a+-0x133f*-0x1+0x6ee*-0x4,this['animTilesY']=0x15fc+-0x235*0x8+-0x453*0x1,this['animStartF'+'rame']=-0x19cd*-0x1+-0x1945+-0x1*0x88,this['animNumFra'+'mes']=0x6*0x295+-0x6ee+-0x7*0x139,this['animNumAni'+'mations']=-0x1*-0x157a+0x1bf0+-0x3cd*0xd,this['animIndex']=-0x2*-0x12c+-0x319*0x2+0x3da,this['randomizeA'+'nimIndex']=!(-0x1c*0x7+0x1315+0x1250*-0x1),this['animSpeed']=0xf*0x132+0x1*0x1d2d+-0x2f1a,this['animLoop']=!(0x24c3+0x15f4+-0x3ab7),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(-0x4*0x6bd+0xfb7+0xb3d),this['paused']=!(-0x208+0x1*-0x230c+0x35f*0xb),this['autoPlay']=!(0x7a6+0x6b*-0x29+0x97d),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x43f380){super(_0x43f380),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x10b308,_0x1c16c5,_0x1d438c){const _0x4cd493={};_0x1d438c=[];const _0x2c1f87=this['propertyTy'+'pes'];(_0x1c16c5['mesh']instanceof le||typeof _0x1c16c5['mesh']=='number')&&(_0x1c16c5['meshAsset']=_0x1c16c5['mesh'],delete _0x1c16c5['mesh']);for(const _0x5d0417 in _0x1c16c5){if(_0x1c16c5['hasOwnProp'+'erty'](_0x5d0417)&&(_0x1d438c['push'](_0x5d0417),_0x4cd493[_0x5d0417]=_0x1c16c5[_0x5d0417]),_0x2c1f87[_0x5d0417]==='vec3')Array['isArray'](_0x4cd493[_0x5d0417])&&(_0x4cd493[_0x5d0417]=new T(_0x4cd493[_0x5d0417][0x214e+-0x26a5*0x1+-0x1*-0x557],_0x4cd493[_0x5d0417][-0x65*-0x25+-0x25a5+0x170d],_0x4cd493[_0x5d0417][-0xfa*-0x19+0xa4e+-0x22b6]));else{if(_0x2c1f87[_0x5d0417]==='curve'){if(!(_0x4cd493[_0x5d0417]instanceof Cs)){const _0x469b75=_0x4cd493[_0x5d0417]['type'];_0x4cd493[_0x5d0417]=new Cs(_0x4cd493[_0x5d0417]['keys']),_0x4cd493[_0x5d0417]['type']=_0x469b75;}}else{if(_0x2c1f87[_0x5d0417]==='curveset'&&!(_0x4cd493[_0x5d0417]instanceof jr)){const _0x21b23d=_0x4cd493[_0x5d0417]['type'];_0x4cd493[_0x5d0417]=new jr(_0x4cd493[_0x5d0417]['keys']),_0x4cd493[_0x5d0417]['type']=_0x21b23d;}}}_0x4cd493['layers']&&Array['isArray'](_0x4cd493['layers'])&&(_0x4cd493['layers']=_0x4cd493['layers']['slice'](0x14a3+-0xab9+-0x12*0x8d));}super['initialize'+'ComponentD'+'ata'](_0x10b308,_0x4cd493,_0x1d438c);}['cloneCompo'+'nent'](_0x89fd48,_0x4bd2fe){const _0x5e1e7f=_0x89fd48['particlesy'+'stem']['data'],_0x2fae4f=this['schema'],_0x2f3575={};for(let _0x8bf85d=0x251*0x9+0x1556+-0x2a2f*0x1,_0x549e56=_0x2fae4f['length'];_0x8bf85d<_0x549e56;_0x8bf85d++){const _0x49473b=_0x2fae4f[_0x8bf85d];let _0x2df6f6=_0x5e1e7f[_0x49473b];_0x2df6f6 instanceof T||_0x2df6f6 instanceof Cs||_0x2df6f6 instanceof jr?(_0x2df6f6=_0x2df6f6['clone'](),_0x2f3575[_0x49473b]=_0x2df6f6):_0x49473b==='layers'?_0x2f3575['layers']=_0x5e1e7f['layers']['slice'](0x2d*0x22+-0x16a7+0x10ad):_0x2df6f6!=null&&(_0x2f3575[_0x49473b]=_0x2df6f6);}return this['addCompone'+'nt'](_0x4bd2fe,_0x2f3575);}['onUpdate'](_0x262cf4){const _0x2315f3=this['store'];let _0x3578f7;const _0x25904f=this['app']['stats']['particles'],_0x2464d0=this['app']['scene']['layers'];for(let _0x9adf39=-0x9*-0x2cd+0x1*0x21c1+-0x3af6;_0x9adf39<_0x2464d0['layerList']['length'];_0x9adf39++)_0x2464d0['layerList'][_0x9adf39]['requiresLi'+'ghtCube']=!(0x1479+-0x1*0x73c+-0xd3c);for(const _0x26e0bf in _0x2315f3)if(_0x2315f3['hasOwnProp'+'erty'](_0x26e0bf)){const _0x2cf2b2=_0x2315f3[_0x26e0bf],_0x2e3ab8=_0x2cf2b2['entity'],_0x522b2f=_0x2cf2b2['data'];if(_0x522b2f['enabled']&&_0x2e3ab8['enabled']){const _0x33bfdd=_0x2e3ab8['particlesy'+'stem']['emitter'];if(!(_0x33bfdd!=null&&_0x33bfdd['meshInstan'+'ce']['visible']))continue;if(_0x33bfdd['lighting']){const _0x1aef93=_0x522b2f['layers'];for(let _0x4aafe7=0x1c9b+0x1*0x26c9+-0x4364;_0x4aafe7<_0x1aef93['length'];_0x4aafe7++){const _0x50e05b=_0x2464d0['getLayerBy'+'Id'](_0x1aef93[_0x4aafe7]);_0x50e05b&&(_0x50e05b['requiresLi'+'ghtCube']=!(0x1848+0x4*-0x9b+0x15dc*-0x1));}}if(!_0x522b2f['paused']){if(_0x33bfdd['simTime']+=_0x262cf4,_0x33bfdd['simTime']>_0x33bfdd['fixedTimeS'+'tep']&&(_0x3578f7=Math['floor'](_0x33bfdd['simTime']/_0x33bfdd['fixedTimeS'+'tep']),_0x33bfdd['simTime']-=_0x3578f7*_0x33bfdd['fixedTimeS'+'tep']),_0x3578f7){_0x3578f7=Math['min'](_0x3578f7,_0x33bfdd['maxSubStep'+'s']);for(let _0xa3bb69=-0xa79+0xc68+-0x1ef*0x1;_0xa3bb69<_0x3578f7;_0xa3bb69++)_0x33bfdd['addTime'](_0x33bfdd['fixedTimeS'+'tep'],!(-0x108b+0x1e77+0xdeb*-0x1));_0x25904f['_updatesPe'+'rFrame']+=_0x3578f7,_0x25904f['_frameTime']+=_0x33bfdd['_addTimeTi'+'me'],_0x33bfdd['_addTimeTi'+'me']=0x255c*0x1+0x19fb+-0x151d*0x3;}_0x33bfdd['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x2672f8,_0x536964){_0x536964['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x3e66aa,_0x2f9a09){super(),this['skin']=_0x3e66aa,this['skinInstan'+'ce']=_0x2f9a09;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x40520f,_0x4b9bec)=>{console['log'](_0x4b9bec['name']+':\x20Array('+_0x40520f['length']+')');for(let _0x2dd145=0x1*-0x19cd+-0xc99+-0xa*-0x3d7;_0x2dd145<_0x40520f['length'];_0x2dd145++)console['log']('\x20\x20'+_0x2dd145+(':\x20RefCount'+'\x20')+_0x40520f[_0x2dd145]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x4748f1,_0x47f184,_0x3021e3){let _0x4f0d65=bs['getCachedS'+'kinInstanc'+'e'](_0x4748f1,_0x47f184);return _0x4f0d65||(_0x4f0d65=new nl(_0x4748f1),_0x4f0d65['resolve'](_0x47f184,_0x3021e3),bs['addCachedS'+'kinInstanc'+'e'](_0x4748f1,_0x47f184,_0x4f0d65)),_0x4f0d65;}static['getCachedS'+'kinInstanc'+'e'](_0x496517,_0x55ae6c){let _0x2f016c=null;const _0x4cc2c4=bs['_skinInsta'+'nceCache']['get'](_0x55ae6c);if(_0x4cc2c4){const _0x594107=_0x4cc2c4['find'](_0x263de3=>_0x263de3['skin']===_0x496517);_0x594107&&(_0x594107['incRefCoun'+'t'](),_0x2f016c=_0x594107['skinInstan'+'ce']);}return _0x2f016c;}static['addCachedS'+'kinInstanc'+'e'](_0xc0ae58,_0x500026,_0x182c01){let _0x453237=bs['_skinInsta'+'nceCache']['get'](_0x500026);_0x453237||(_0x453237=[],bs['_skinInsta'+'nceCache']['set'](_0x500026,_0x453237));let _0x1d0763=_0x453237['find'](_0x46cd36=>_0x46cd36['skin']===_0xc0ae58);_0x1d0763||(_0x1d0763=new dI(_0xc0ae58,_0x182c01),_0x453237['push'](_0x1d0763)),_0x1d0763['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x50789a){if(_0x50789a){const _0x1b57b4=_0x50789a['rootBone'];if(_0x1b57b4){const _0x2206b4=bs['_skinInsta'+'nceCache']['get'](_0x1b57b4);if(_0x2206b4){const _0x3eecb4=_0x2206b4['findIndex'](_0x4ae192=>_0x4ae192['skinInstan'+'ce']===_0x50789a);if(_0x3eecb4>=-0x251b+0xb57*0x3+-0x9e*-0x5){const _0x2bd847=_0x2206b4[_0x3eecb4];_0x2bd847['decRefCoun'+'t'](),_0x2bd847['refCount']===0x2e4+0x2*-0x1238+-0x10c6*-0x2&&(_0x2206b4['splice'](_0x3eecb4,-0x1aab*0x1+0x2534+-0xa88),_0x2206b4['length']||bs['_skinInsta'+'nceCache']['delete'](_0x1b57b4),_0x50789a&&(_0x50789a['destroy'](),_0x2bd847['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x142d4d,_0x20232f,_0x429520,_0x1b5a2d,_0x1a23fc){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x142d4d,this['parent']=_0x20232f,this['_scope']=_0x1a23fc,this['_registry']=_0x429520,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x1b5a2d['load'],this['_onAssetAd'+'d']=_0x1b5a2d['add'],this['_onAssetRe'+'move']=_0x1b5a2d['remove'],this['_onAssetUn'+'load']=_0x1b5a2d['unload']);}set['id'](_0x3557a4){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x3557a4,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0xfdb0e0){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0xfdb0e0,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x2b292f,_0x565218,_0x118b6c,_0x30c5d7,_0x448cd5,_0x2f4453,_0xd79e7a;this['id']&&((_0x2b292f=this['_evtLoadBy'+'Id'])==null||_0x2b292f['off'](),this['_evtLoadBy'+'Id']=null,(_0x565218=this['_evtAddByI'+'d'])==null||_0x565218['off'](),this['_evtAddByI'+'d']=null,(_0x118b6c=this['_evtRemove'+'ById'])==null||_0x118b6c['off'](),this['_evtRemove'+'ById']=null,(_0x30c5d7=this['_evtUnload'+'ById'])==null||_0x30c5d7['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x448cd5=this['_evtLoadBy'+'Url'])==null||_0x448cd5['off'](),this['_evtLoadBy'+'Url']=null,(_0x2f4453=this['_evtAddByU'+'rl'])==null||_0x2f4453['off'](),this['_evtAddByU'+'rl']=null,(_0xd79e7a=this['_evtRemove'+'ByUrl'])==null||_0xd79e7a['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x538e09){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x538e09);}['_onAdd'](_0x21e242){this['asset']=_0x21e242,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x21e242);}['_onRemove'](_0x21d159){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x21d159),this['asset']=null;}['_onUnload'](_0xb7ba42){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0xb7ba42);}}class fx extends ue{constructor(_0x386f3d,_0x4a6772){super(_0x386f3d,_0x4a6772),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0x25*-0x76+-0x1f2e+-0x8*-0x1c4)),c(this,'_receiveSh'+'adows',!(0x1071+-0xd*-0x13d+-0xee*0x23)),c(this,'_castShado'+'wsLightmap',!(-0x124*0x1+-0x16e5+0x3*0x803)),c(this,'_lightmapp'+'ed',!(0xcf9+0x9*0x25+-0xe45)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x2287+0x1a6f+0x819),c(this,'isStatic',!(-0x862+0x4d*0x29+-0x1*0x3f2)),c(this,'_batchGrou'+'pId',-(-0x2671+0x1b4f+0xb23)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x386f3d['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x386f3d['defaultMat'+'erial'],_0x4a6772['on']('remove',this['onRemoveCh'+'ild'],this),_0x4a6772['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x4a6772['on']('insert',this['onInsertCh'+'ild'],this),_0x4a6772['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0xe3eeb1){this['_renderSty'+'le']!==_0xe3eeb1&&(this['_renderSty'+'le']=_0xe3eeb1,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0xe3eeb1));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x414ab1){this['_customAab'+'b']=_0x414ab1;const _0x5e1da5=this['_meshInsta'+'nces'];if(_0x5e1da5){for(let _0x5d5df9=-0x1*0x69d+0x34*-0x11+-0xa11*-0x1;_0x5d5df9<_0x5e1da5['length'];_0x5d5df9++)_0x5e1da5[_0x5d5df9]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x1f69db){if(this['_type']!==_0x1f69db&&(this['_area']=null,this['_type']=_0x1f69db,this['destroyMes'+'hInstances'](),_0x1f69db!=='asset')){let _0x230e45=this['_material'];(!_0x230e45||_0x230e45===this['system']['defaultMat'+'erial'])&&(_0x230e45=this['_materialR'+'eferences'][-0xa0+0xee7*-0x1+0xf*0x109]&&this['_materialR'+'eferences'][0x1468+-0x1*0xa60+-0x141*0x8]['asset']&&this['_materialR'+'eferences'][-0x577*-0x3+-0x1381*-0x1+-0x23e6]['asset']['resource']);const _0x37226e=cx(this['system']['app']['graphicsDe'+'vice'],_0x1f69db);this['_area']=_0x37226e['area'],this['meshInstan'+'ces']=[new Le(_0x37226e['mesh'],_0x230e45||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x4f4ce2){if(v['assert'](Array['isArray'](_0x4f4ce2),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x4f4ce2,this['_meshInsta'+'nces']){const _0x22a9cf=this['_meshInsta'+'nces'];for(let _0x2d4035=-0x1aa0+0x296+-0x22*-0xb5;_0x2d4035<_0x22a9cf['length'];_0x2d4035++)_0x22a9cf[_0x2d4035]['node']||(_0x22a9cf[_0x2d4035]['node']=this['entity']),_0x22a9cf[_0x2d4035]['castShadow']=this['_castShado'+'ws'],_0x22a9cf[_0x2d4035]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x22a9cf[_0x2d4035]['renderStyl'+'e']=this['_renderSty'+'le'],_0x22a9cf[_0x2d4035]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x22a9cf[_0x2d4035]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x244ef5){if(_0x244ef5!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x244ef5;const _0x37c6f4=this['_meshInsta'+'nces'];if(_0x37c6f4){for(let _0x51285d=-0x11a9+-0xfdd+-0xe*-0x265;_0x51285d<_0x37c6f4['length'];_0x51285d++)_0x37c6f4[_0x51285d]['setLightma'+'pped'](_0x244ef5);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x2cb9d0){if(this['_castShado'+'ws']!==_0x2cb9d0){const _0x696731=this['_meshInsta'+'nces'];if(_0x696731){const _0x8d12d8=this['layers'],_0xb08815=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x2cb9d0)for(let _0x5d97bd=-0x1b5a+0xf06+0x2*0x62a;_0x5d97bd<_0x8d12d8['length'];_0x5d97bd++){const _0x3338c9=_0xb08815['layers']['getLayerBy'+'Id'](this['layers'][_0x5d97bd]);_0x3338c9&&_0x3338c9['removeShad'+'owCasters'](_0x696731);}for(let _0x15748c=0x2*0xd0a+0x21d5*0x1+-0x3be9;_0x15748c<_0x696731['length'];_0x15748c++)_0x696731[_0x15748c]['castShadow']=_0x2cb9d0;if(!this['_castShado'+'ws']&&_0x2cb9d0)for(let _0x523af9=0x1183+0x1*-0xedb+-0x2a8;_0x523af9<_0x8d12d8['length'];_0x523af9++){const _0x5cbf22=_0xb08815['layers']['getLayerBy'+'Id'](_0x8d12d8[_0x523af9]);_0x5cbf22&&_0x5cbf22['addShadowC'+'asters'](_0x696731);}}this['_castShado'+'ws']=_0x2cb9d0;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x3510a6){if(this['_receiveSh'+'adows']!==_0x3510a6){this['_receiveSh'+'adows']=_0x3510a6;const _0x29d96a=this['_meshInsta'+'nces'];if(_0x29d96a){for(let _0x5ef93b=-0x22ee+-0xcdb+-0xd*-0x3ad;_0x5ef93b<_0x29d96a['length'];_0x5ef93b++)_0x29d96a[_0x5ef93b]['receiveSha'+'dow']=_0x3510a6;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x172b59){this['_castShado'+'wsLightmap']=_0x172b59;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x29836f){this['_lightmapS'+'izeMultipl'+'ier']=_0x29836f;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x3c843c){const _0x110da0=this['system']['app']['scene']['layers'];let _0xb25524;if(this['_meshInsta'+'nces']){for(let _0x3d260d=-0xedf+-0x761*0x1+0x1640;_0x3d260d<this['_layers']['length'];_0x3d260d++)_0xb25524=_0x110da0['getLayerBy'+'Id'](this['_layers'][_0x3d260d]),_0xb25524&&_0xb25524['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x3*-0x101+-0x1*0x1e72+-0x1*-0x2175;for(let _0x4eb7bc=0xeb0+0xfa9+-0x1*0x1e59;_0x4eb7bc<_0x3c843c['length'];_0x4eb7bc++)this['_layers'][_0x4eb7bc]=_0x3c843c[_0x4eb7bc];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x484c16=0x18e*0x4+0xd16*-0x2+0x4fd*0x4;_0x484c16<this['_layers']['length'];_0x484c16++)_0xb25524=_0x110da0['getLayerBy'+'Id'](this['_layers'][_0x484c16]),_0xb25524&&_0xb25524['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x137e9c){var _0x485c23,_0x10a822;this['_batchGrou'+'pId']!==_0x137e9c&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1fd7+-0x1b43+-0x494&&((_0x485c23=this['system']['app']['batcher'])==null||_0x485c23['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x137e9c>=0x2f3*0xb+0x723+-0x2794&&((_0x10a822=this['system']['app']['batcher'])==null||_0x10a822['insert'](et['RENDER'],_0x137e9c,this['entity'])),_0x137e9c<-0x1b2f+-0x1c7+0x1cf6&&this['_batchGrou'+'pId']>=-0x1*-0x11d9+0xb26*-0x1+0x5*-0x157&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x137e9c);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x2aca3c){if(this['_material']!==_0x2aca3c&&(this['_material']=_0x2aca3c,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x5733bb=0xa2e+-0xb1a*0x1+0xec*0x1;_0x5733bb<this['_meshInsta'+'nces']['length'];_0x5733bb++)this['_meshInsta'+'nces'][_0x5733bb]['material']=_0x2aca3c;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x3e0f25=[]){if(this['_materialR'+'eferences']['length']>_0x3e0f25['length']){for(let _0x192ad5=_0x3e0f25['length'];_0x192ad5<this['_materialR'+'eferences']['length'];_0x192ad5++)this['_materialR'+'eferences'][_0x192ad5]['id']=null;this['_materialR'+'eferences']['length']=_0x3e0f25['length'];}for(let _0x361217=-0x18d2+0xf70+0x962;_0x361217<_0x3e0f25['length'];_0x361217++)if(this['_materialR'+'eferences'][_0x361217]||this['_materialR'+'eferences']['push'](new Go(_0x361217,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x3e0f25[_0x361217]){const _0x551fcb=_0x3e0f25[_0x361217]instanceof le?_0x3e0f25[_0x361217]['id']:_0x3e0f25[_0x361217];this['_materialR'+'eferences'][_0x361217]['id']!==_0x551fcb&&(this['_materialR'+'eferences'][_0x361217]['id']=_0x551fcb),this['_materialR'+'eferences'][_0x361217]['asset']&&this['_onMateria'+'lAdded'](_0x361217,this,this['_materialR'+'eferences'][_0x361217]['asset']);}else this['_materialR'+'eferences'][_0x361217]['id']=null,this['_meshInsta'+'nces'][_0x361217]&&(this['_meshInsta'+'nces'][_0x361217]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x483bc9=>_0x483bc9['id']);}set['asset'](_0x4e56cd){const _0x399a66=_0x4e56cd instanceof le?_0x4e56cd['id']:_0x4e56cd;this['_assetRefe'+'rence']['id']!==_0x399a66&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x399a66,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x101ee2){const _0x209052=_0x101ee2 instanceof le?_0x101ee2['id']:_0x101ee2;this['_assetRefe'+'rence']['id']=_0x209052;}set['rootBone'](_0x13f9b9){if(this['_rootBone']!==_0x13f9b9){const _0x1725c0=typeof _0x13f9b9=='string';if(this['_rootBone']&&_0x1725c0&&this['_rootBone']['getGuid']()===_0x13f9b9)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x13f9b9 instanceof De?this['_rootBone']=_0x13f9b9:_0x1725c0?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x13f9b9)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x5c2da9=this['_meshInsta'+'nces'];if(_0x5c2da9){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x2dd634=-0x1ffd+-0x33a*-0x2+0x1989;_0x2dd634<_0x5c2da9['length'];_0x2dd634++)_0x5c2da9[_0x2dd634]['destroy']();this['_meshInsta'+'nces']['length']=0x14db+0x828+-0x1*0x1d03;}}['addToLayer'+'s'](){const _0x3fbd30=this['system']['app']['scene']['layers'];for(let _0x260f96=0x5a9+-0x20ed+0x1b44;_0x260f96<this['_layers']['length'];_0x260f96++){const _0x1c4cf3=_0x3fbd30['getLayerBy'+'Id'](this['_layers'][_0x260f96]);_0x1c4cf3&&_0x1c4cf3['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x32fca8=this['system']['app']['scene']['layers'];for(let _0x5dd37d=-0x132c+0x13*-0x61+-0x1*-0x1a5f;_0x5dd37d<this['_layers']['length'];_0x5dd37d++){const _0x2b302c=_0x32fca8['getLayerBy'+'Id'](this['_layers'][_0x5dd37d]);_0x2b302c&&_0x2b302c['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x11c544=-0x1e2d+0x1589+-0x8a4*-0x1;_0x11c544<this['_materialR'+'eferences']['length'];_0x11c544++)this['_materialR'+'eferences'][_0x11c544]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x484a8a,_0x41a4c9){this['addToLayer'+'s'](),_0x484a8a['off']('add',this['onLayerAdd'+'ed'],this),_0x484a8a['off']('remove',this['onLayerRem'+'oved'],this),_0x41a4c9['on']('add',this['onLayerAdd'+'ed'],this),_0x41a4c9['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x490b97){this['layers']['indexOf'](_0x490b97['id'])<0x3a7*-0x7+-0x7de+0x216f||_0x490b97['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x1a3255){this['layers']['indexOf'](_0x1a3255['id'])<-0x1e3+-0x1cf*-0x1+-0x4*-0x5||_0x1a3255['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x23df88;const _0xbb3c09=this['system']['app'],_0xd44f5f=_0xbb3c09['scene'],_0x15d551=_0xd44f5f['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0xd44f5f['on']('set:layers',this['onLayersCh'+'anged'],this),_0x15d551&&(this['_evtLayerA'+'dded']=_0x15d551['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x15d551['on']('remove',this['onLayerRem'+'oved'],this));const _0x32eb3b=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x32eb3b&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x1b7909=0x10*-0x257+0x272*0x6+0x16c4;_0x1b7909<this['_materialR'+'eferences']['length'];_0x1b7909++)this['_materialR'+'eferences'][_0x1b7909]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x1b7909]['asset']);this['_batchGrou'+'pId']>=0xb*-0x27f+-0xee+-0x2b*-0xa9&&((_0x23df88=_0xbb3c09['batcher'])==null||_0x23df88['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x40ac4b,_0x15c3c8,_0x35e8a8,_0x15e819;const _0x465530=this['system']['app'],_0x879795=_0x465530['scene']['layers'];(_0x40ac4b=this['_evtLayers'+'Changed'])==null||_0x40ac4b['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x879795&&((_0x15c3c8=this['_evtLayerA'+'dded'])==null||_0x15c3c8['off'](),this['_evtLayerA'+'dded']=null,(_0x35e8a8=this['_evtLayerR'+'emoved'])==null||_0x35e8a8['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x193*0x2+-0x1d8d+0x1a67&&((_0x15e819=_0x465530['batcher'])==null||_0x15e819['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0xd1e862=0xa45*-0x3+0x1*-0x79c+-0x7*-0x57d;_0xd1e862<this['_meshInsta'+'nces']['length'];_0xd1e862++)this['_meshInsta'+'nces'][_0xd1e862]['visible']=!(0x3*0x241+0x62f+-0xcf1);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x13f9e7=-0x1d19*0x1+-0x24bc+0x377*0x13;_0x13f9e7<this['_meshInsta'+'nces']['length'];_0x13f9e7++)this['_meshInsta'+'nces'][_0x13f9e7]['visible']=!(-0x63e+0x1234+-0xbf6);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0xc13d5d;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x635273=this['_assetRefe'+'rence']['asset']['resource'];(_0xc13d5d=this['_evtSetMes'+'hes'])==null||_0xc13d5d['off'](),this['_evtSetMes'+'hes']=_0x635273['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x635273['meshes']&&this['_onSetMesh'+'es'](_0x635273['meshes']);}}['_onSetMesh'+'es'](_0x4eab31){this['_cloneMesh'+'es'](_0x4eab31);}['_clearSkin'+'Instances'](){for(let _0x3a5faa=0x71*-0x4+-0x148*-0x2+0x22*-0x6;_0x3a5faa<this['_meshInsta'+'nces']['length'];_0x3a5faa++){const _0x5a7f01=this['_meshInsta'+'nces'][_0x3a5faa];Vo['removeCach'+'edSkinInst'+'ance'](_0x5a7f01['skinInstan'+'ce']),_0x5a7f01['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0xee4007=0x3*-0x3eb+-0x1*-0x1cf7+-0x1136;_0xee4007<this['_meshInsta'+'nces']['length'];_0xee4007++){const _0x2b359f=this['_meshInsta'+'nces'][_0xee4007],_0x540e0c=_0x2b359f['mesh'];_0x540e0c['skin']&&!_0x2b359f['skinInstan'+'ce']&&(_0x2b359f['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x540e0c['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x290671){if(_0x290671&&_0x290671['length']){const _0x540bb2=[];for(let _0x3827bc=0x3*0x85+0x1aab+0x1*-0x1c3a;_0x3827bc<_0x290671['length'];_0x3827bc++){const _0x807049=_0x290671[_0x3827bc],_0x1351ee=this['_materialR'+'eferences'][_0x3827bc]&&this['_materialR'+'eferences'][_0x3827bc]['asset']&&this['_materialR'+'eferences'][_0x3827bc]['asset']['resource'],_0x25ab38=new Le(_0x807049,_0x1351ee||this['system']['defaultMat'+'erial'],this['entity']);_0x540bb2['push'](_0x25ab38),_0x807049['morph']&&(_0x25ab38['morphInsta'+'nce']=new fn(_0x807049['morph']));}this['meshInstan'+'ces']=_0x540bb2,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x53ef73;(_0x53ef73=this['_evtSetMes'+'hes'])==null||_0x53ef73['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x5a6c04,_0x136eaf,_0x4eb49b){_0x4eb49b['resource']?this['_onMateria'+'lLoad'](_0x5a6c04,_0x136eaf,_0x4eb49b):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x4eb49b);}['_updateMai'+'nMaterial'](_0x5826d8,_0xc6602b){_0x5826d8===-0xc2e+0x3bc*0x4+-0x161*0x2&&(this['material']=_0xc6602b);}['_onMateria'+'lLoad'](_0x1a737,_0x9ef84c,_0x374567){this['_meshInsta'+'nces'][_0x1a737]&&(this['_meshInsta'+'nces'][_0x1a737]['material']=_0x374567['resource']),this['_updateMai'+'nMaterial'](_0x1a737,_0x374567['resource']);}['_onMateria'+'lRemove'](_0x4b58ff,_0x443b05,_0x3081a5){this['_meshInsta'+'nces'][_0x4b58ff]&&(this['_meshInsta'+'nces'][_0x4b58ff]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x4b58ff,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x8fcdf1,_0x464e52,_0x5b34c1){this['_meshInsta'+'nces'][_0x8fcdf1]&&(this['_meshInsta'+'nces'][_0x8fcdf1]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x8fcdf1,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1afe35,_0x294f6c){_0x1afe35['rootBone']&&(this['rootBone']=_0x294f6c[_0x1afe35['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(-0xb53+0x35*0xad+-0x187e);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x358a87){super(_0x358a87),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x358a87['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x4b769d,_0x30fefa,_0x1bce4d){(_0x30fefa['batchGroup'+'Id']===null||_0x30fefa['batchGroup'+'Id']===void(-0x46c*0x1+-0x13e+-0x5aa*-0x1))&&(_0x30fefa['batchGroup'+'Id']=-(0x1e08+-0x10f*0x2+-0x1be9)),_0x30fefa['layers']&&_0x30fefa['layers']['length']&&(_0x30fefa['layers']=_0x30fefa['layers']['slice'](0xb23+-0x18*-0x76+-0x1*0x1633));for(let _0x257155=0x1be6+0xfd*-0x7+0x14fb*-0x1;_0x257155<Mr['length'];_0x257155++)_0x30fefa['hasOwnProp'+'erty'](Mr[_0x257155])&&(_0x4b769d[Mr[_0x257155]]=_0x30fefa[Mr[_0x257155]]);_0x30fefa['aabbCenter']&&_0x30fefa['aabbHalfEx'+'tents']&&(_0x4b769d['customAabb']=new _e(new T(_0x30fefa['aabbCenter']),new T(_0x30fefa['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x4b769d,_0x30fefa,pf);}['cloneCompo'+'nent'](_0x692282,_0x15c3fc){const _0x5918c9={};for(let _0x367eef=-0x9b6+0x21*0x21+0x575*0x1;_0x367eef<Mr['length'];_0x367eef++)_0x5918c9[Mr[_0x367eef]]=_0x692282['render'][Mr[_0x367eef]];_0x5918c9['enabled']=_0x692282['render']['enabled'],delete _0x5918c9['meshInstan'+'ces'];const _0x52495e=this['addCompone'+'nt'](_0x15c3fc,_0x5918c9),_0x554ae3=_0x692282['render']['meshInstan'+'ces'],_0x155918=_0x554ae3['map'](_0x1de8af=>_0x1de8af['mesh']);_0x52495e['_onSetMesh'+'es'](_0x155918);for(let _0x11efdc=-0x1b96+0x1*-0x152b+0x30c1;_0x11efdc<_0x554ae3['length'];_0x11efdc++)_0x52495e['meshInstan'+'ces'][_0x11efdc]['material']=_0x554ae3[_0x11efdc]['material'];return _0x692282['render']['customAabb']&&(_0x52495e['customAabb']=_0x692282['render']['customAabb']['clone']()),_0x52495e;}['onRemove'](_0x18068b,_0x54c55f){_0x54c55f['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x3d7c60,_0x41b899){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',-0x2370+0x525*0x1+0x1e4b),(this['_construct'+'or']=_0x3d7c60,this['_resize'](_0x41b899));}['_resize'](_0x566b28){if(_0x566b28>this['_pool']['length']){for(let _0x452e84=this['_pool']['length'];_0x452e84<_0x566b28;_0x452e84++)this['_pool'][_0x452e84]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x211a+-0x1229+-0x1*0xeef)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x1f3e+0x579+0x897*0x3;}}let Gt,xe,gs,$n;const pI=new se(),mI=new se(),Ql=new T();class $s extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',0x2a*-0x1c+-0xe55+0x12ed),c(this,'_angularFa'+'ctor',new T(-0x2536+-0x19a9*-0x1+0xb8e,-0x300+0x1a60+-0x175f,0x5eb*0x1+0x1fe4+0x2*-0x12e7)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',-0x25c9+-0x1e5b+0x4424+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',0x3da+-0x1ca*0x3+0x184),c(this,'_linearFac'+'tor',new T(-0x100e*0x1+0x315*0x1+-0xcfa*-0x1,-0xe09*-0x2+-0x2f*-0x1f+-0x21c2,0xf21+-0x2429*-0x1+-0x13*0x2b3)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',-0xfb2*0x2+0x57e+0x19e7),c(this,'_restituti'+'on',-0xf9*-0x2+0x2233+-0x2425),c(this,'_rollingFr'+'iction',-0xc8c+-0x192+-0xe1e*-0x1),c(this,'_simulatio'+'nEnabled',!(0x25d3+0x1c25+-0x41f7)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Gt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),$n=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Gt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy']($n),Gt=null,xe=null,gs=null,$n=null;}set['angularDam'+'ping'](_0x1361e1){this['_angularDa'+'mping']!==_0x1361e1&&(this['_angularDa'+'mping']=_0x1361e1,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x1361e1));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x271311){this['_angularFa'+'ctor']['equals'](_0x271311)||(this['_angularFa'+'ctor']['copy'](_0x271311),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x271311['x'],_0x271311['y'],_0x271311['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x5a42b2){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x5a42b2['x'],_0x5a42b2['y'],_0x5a42b2['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x5a42b2));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x2e0081=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x2e0081['x'](),_0x2e0081['y'](),_0x2e0081['z']());}return this['_angularVe'+'locity'];}set['body'](_0x1383a4){this['_body']!==_0x1383a4&&(this['_body']=_0x1383a4,_0x1383a4&&this['_simulatio'+'nEnabled']&&_0x1383a4['activate']());}get['body'](){return this['_body'];}set['friction'](_0x24843e){this['_friction']!==_0x24843e&&(this['_friction']=_0x24843e,this['_body']&&this['_body']['setFrictio'+'n'](_0x24843e));}get['friction'](){return this['_friction'];}set['group'](_0x15140b){this['_group']!==_0x15140b&&(this['_group']=_0x15140b,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x42334d){this['_linearDam'+'ping']!==_0x42334d&&(this['_linearDam'+'ping']=_0x42334d,this['_body']&&this['_body']['setDamping'](_0x42334d,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0xa69c5c){this['_linearFac'+'tor']['equals'](_0xa69c5c)||(this['_linearFac'+'tor']['copy'](_0xa69c5c),this['_body']&&this['_type']===ms&&(xe['setValue'](_0xa69c5c['x'],_0xa69c5c['y'],_0xa69c5c['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x4938d1){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x4938d1['x'],_0x4938d1['y'],_0x4938d1['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x4938d1));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0x57e0ac=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x57e0ac['x'](),_0x57e0ac['y'](),_0x57e0ac['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x2f8df7){this['_mask']!==_0x2f8df7&&(this['_mask']=_0x2f8df7,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x2423bc){if(this['_mass']!==_0x2423bc&&(this['_mass']=_0x2423bc,this['_body']&&this['_type']===ms)){const _0x295011=this['enabled']&&this['entity']['enabled'];_0x295011&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x2423bc,xe),this['_body']['setMassPro'+'ps'](_0x2423bc,xe),this['_body']['updateIner'+'tiaTensor'](),_0x295011&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x5c6f12){this['_restituti'+'on']!==_0x5c6f12&&(this['_restituti'+'on']=_0x5c6f12,this['_body']&&this['_body']['setRestitu'+'tion'](_0x5c6f12));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x3c7a80){this['_rollingFr'+'iction']!==_0x3c7a80&&(this['_rollingFr'+'iction']=_0x3c7a80,this['_body']&&this['_body']['setRolling'+'Friction'](_0x3c7a80));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x27eff2){if(this['_type']!==_0x27eff2){switch(this['_type']=_0x27eff2,this['disableSim'+'ulation'](),_0x27eff2){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x480eef=this['entity'];let _0xd8e664;if(_0x480eef['collision']&&(_0xd8e664=_0x480eef['collision']['shape'],_0x480eef['trigger']&&(_0x480eef['trigger']['destroy'](),delete _0x480eef['trigger'])),_0xd8e664){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x41ff2b=this['_type']===ms?this['_mass']:-0x3c1+-0x732+0xaf3*0x1;this['_getEntity'+'Transform'](Gt);const _0x458d2e=this['system']['createBody'](_0x41ff2b,_0xd8e664,Gt);if(_0x458d2e['setRestitu'+'tion'](this['_restituti'+'on']),_0x458d2e['setFrictio'+'n'](this['_friction']),_0x458d2e['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x458d2e['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0xad8b86=this['_linearFac'+'tor'];xe['setValue'](_0xad8b86['x'],_0xad8b86['y'],_0xad8b86['z']),_0x458d2e['setLinearF'+'actor'](xe);const _0x4fc295=this['_angularFa'+'ctor'];xe['setValue'](_0x4fc295['x'],_0x4fc295['y'],_0x4fc295['z']),_0x458d2e['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x458d2e['setCollisi'+'onFlags'](_0x458d2e['getCollisi'+'onFlags']()|eR),_0x458d2e['setActivat'+'ionState'](ag));_0x458d2e['entity']=_0x480eef,this['body']=_0x458d2e,this['enabled']&&_0x480eef['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x226e+-0x1241*0x1+-0x30*-0x119);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x422f19=this['entity'];if(_0x422f19['collision']&&_0x422f19['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x147fb9=this['_body'];if(_0x147fb9){switch(this['system']['addBody'](_0x147fb9,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0x147fb9['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0x147fb9['forceActiv'+'ationState'](ag);break;case so:_0x147fb9['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0x422f19['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x422f19['collision']),_0x147fb9['activate'](),this['_simulatio'+'nEnabled']=!(-0x166f+-0x1962+-0x1*-0x2fd1);}}}['disableSim'+'ulation'](){const _0x2bac5b=this['_body'];if(_0x2bac5b&&this['_simulatio'+'nEnabled']){const _0x26ca70=this['system'];let _0xac8a08=_0x26ca70['_compounds']['indexOf'](this['entity']['collision']);_0xac8a08>-(-0x270a+-0x948+0x3053*0x1)&&_0x26ca70['_compounds']['splice'](_0xac8a08,0x548+0x1258+-0x179f),_0xac8a08=_0x26ca70['_dynamic']['indexOf'](this),_0xac8a08>-(-0xad*0x16+-0x24f2+0x33d1)&&_0x26ca70['_dynamic']['splice'](_0xac8a08,-0x16a5+0xd64+0x942),_0xac8a08=_0x26ca70['_kinematic']['indexOf'](this),_0xac8a08>-(-0x5*-0x34e+-0x1*-0x21ff+-0x3284)&&_0x26ca70['_kinematic']['splice'](_0xac8a08,0x5*-0x16f+-0xd4*0x5+0xb50),_0x26ca70['removeBody'](_0x2bac5b),_0x2bac5b['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(0x2*-0x109+-0x19b1*0x1+-0x1*-0x1bc4);}}['applyForce'](_0x3f3327,_0x374ba5,_0xdb9f4a,_0x149f55,_0x3cc787,_0x5c1ba8){const _0x5c1320=this['_body'];_0x5c1320&&(_0x5c1320['activate'](),_0x3f3327 instanceof T?xe['setValue'](_0x3f3327['x'],_0x3f3327['y'],_0x3f3327['z']):xe['setValue'](_0x3f3327,_0x374ba5,_0xdb9f4a),_0x374ba5 instanceof T?gs['setValue'](_0x374ba5['x'],_0x374ba5['y'],_0x374ba5['z']):_0x149f55!==void(-0x2221+0x1*0x2c0+0x1f61*0x1)?gs['setValue'](_0x149f55,_0x3cc787,_0x5c1ba8):gs['setValue'](-0x99d+-0x1*0xb74+0x1511,0x218b*-0x1+0x1*0x9c+0x20ef,-0x108b+-0xa59+-0x1*-0x1ae4),_0x5c1320['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x433530,_0x315d59,_0x39ee77){const _0x5bb4ba=this['_body'];_0x5bb4ba&&(_0x5bb4ba['activate'](),_0x433530 instanceof T?xe['setValue'](_0x433530['x'],_0x433530['y'],_0x433530['z']):xe['setValue'](_0x433530,_0x315d59,_0x39ee77),_0x5bb4ba['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x3b0041,_0x2dd3ae,_0x33a5e6,_0x298a6e,_0x7c9961,_0x5cb60c){const _0x4da2fb=this['_body'];_0x4da2fb&&(_0x4da2fb['activate'](),_0x3b0041 instanceof T?xe['setValue'](_0x3b0041['x'],_0x3b0041['y'],_0x3b0041['z']):xe['setValue'](_0x3b0041,_0x2dd3ae,_0x33a5e6),_0x2dd3ae instanceof T?gs['setValue'](_0x2dd3ae['x'],_0x2dd3ae['y'],_0x2dd3ae['z']):_0x298a6e!==void(-0x1*0xaff+-0x1*0x155a+0x2059)?gs['setValue'](_0x298a6e,_0x7c9961,_0x5cb60c):gs['setValue'](-0x5da+-0x2483+0x4b5*0x9,-0xc1d*-0x3+-0x990+-0x1ac7,-0x309*-0x3+-0x1*-0x1888+-0x21a3),_0x4da2fb['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x29d4f8,_0x4e56e6,_0x28a0cf){const _0x57184a=this['_body'];_0x57184a&&(_0x57184a['activate'](),_0x29d4f8 instanceof T?xe['setValue'](_0x29d4f8['x'],_0x29d4f8['y'],_0x29d4f8['z']):xe['setValue'](_0x29d4f8,_0x4e56e6,_0x28a0cf),_0x57184a['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x2f968e){const _0x5e6927=this['entity'],_0x3c092e=_0x5e6927['collision'];if(_0x3c092e){const _0x17432f=_0x3c092e['getShapePo'+'sition'](),_0x45684e=_0x3c092e['getShapeRo'+'tation']();xe['setValue'](_0x17432f['x'],_0x17432f['y'],_0x17432f['z']),$n['setValue'](_0x45684e['x'],_0x45684e['y'],_0x45684e['z'],_0x45684e['w']);}else{const _0x414189=_0x5e6927['getPositio'+'n'](),_0x1a4f16=_0x5e6927['getRotatio'+'n']();xe['setValue'](_0x414189['x'],_0x414189['y'],_0x414189['z']),$n['setValue'](_0x1a4f16['x'],_0x1a4f16['y'],_0x1a4f16['z'],_0x1a4f16['w']);}_0x2f968e['setOrigin'](xe),_0x2f968e['setRotatio'+'n']($n);}['syncEntity'+'ToBody'](){const _0x119d41=this['_body'];if(_0x119d41){if(this['_getEntity'+'Transform'](Gt),_0x119d41['setWorldTr'+'ansform'](Gt),this['_type']===Bn){const _0x4acaec=_0x119d41['getMotionS'+'tate']();_0x4acaec&&_0x4acaec['setWorldTr'+'ansform'](Gt);}_0x119d41['activate']();}}['_updateDyn'+'amic'](){const _0x55d506=this['_body'];if(_0x55d506['isActive']()){const _0x423b90=_0x55d506['getMotionS'+'tate']();if(_0x423b90){const _0x39437e=this['entity'];_0x423b90['getWorldTr'+'ansform'](Gt);const _0x2cfbf4=Gt['getOrigin'](),_0x4a32c9=Gt['getRotatio'+'n'](),_0x47b499=_0x39437e['collision'];if(_0x47b499&&_0x47b499['_hasOffset']){const _0x33ed5a=_0x47b499['data']['linearOffs'+'et'],_0x50f718=_0x47b499['data']['angularOff'+'set'],_0x322393=mI['copy'](_0x50f718)['invert'](),_0x162bfc=pI['set'](_0x4a32c9['x'](),_0x4a32c9['y'](),_0x4a32c9['z'](),_0x4a32c9['w']())['mul'](_0x322393);_0x162bfc['transformV'+'ector'](_0x33ed5a,Ql),_0x39437e['setPositio'+'n'](_0x2cfbf4['x']()-Ql['x'],_0x2cfbf4['y']()-Ql['y'],_0x2cfbf4['z']()-Ql['z']),_0x39437e['setRotatio'+'n'](_0x162bfc);}else _0x39437e['setPositio'+'n'](_0x2cfbf4['x'](),_0x2cfbf4['y'](),_0x2cfbf4['z']()),_0x39437e['setRotatio'+'n'](_0x4a32c9['x'](),_0x4a32c9['y'](),_0x4a32c9['z'](),_0x4a32c9['w']());}}}['_updateKin'+'ematic'](){const _0x606942=this['_body']['getMotionS'+'tate']();_0x606942&&(this['_getEntity'+'Transform'](Gt),_0x606942['setWorldTr'+'ansform'](Gt));}['teleport'](_0x3024af,_0x17cf12,_0x5512ec,_0x148ea1,_0x5c6936,_0x36907d){_0x3024af instanceof T?this['entity']['setPositio'+'n'](_0x3024af):this['entity']['setPositio'+'n'](_0x3024af,_0x17cf12,_0x5512ec),_0x17cf12 instanceof se?this['entity']['setRotatio'+'n'](_0x17cf12):_0x17cf12 instanceof T?this['entity']['setEulerAn'+'gles'](_0x17cf12):_0x148ea1!==void(0x17c6*-0x1+-0x32*0x7d+0x3030)&&this['entity']['setEulerAn'+'gles'](_0x148ea1,_0x5c6936,_0x36907d),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c($s,'EVENT_CONT'+'ACT','contact'),c($s,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c($s,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c($s,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c($s,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c($s,'order',-(-0x1149+-0xb1e+0x12f*0x18));class _I{constructor(){this['enabled']=!(0x6f0+-0x123+-0x5cd);}}let ai,oi;class xg{constructor(_0x3f7ae7,_0x27e1ed,_0x181a60,_0x2d83d3){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x3f7ae7,this['point']=_0x27e1ed,this['normal']=_0x181a60,this['hitFractio'+'n']=_0x2d83d3);}}class gI{constructor(_0x3c1fb9,_0x4f8175,_0x30b9a){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==0x47f*-0x7+0xe6*-0xb+0x295b?(this['a']=_0x3c1fb9,this['b']=_0x4f8175,this['impulse']=_0x30b9a['impulse'],this['localPoint'+'A']=_0x30b9a['localPoint'],this['localPoint'+'B']=_0x30b9a['localPoint'+'Other'],this['pointA']=_0x30b9a['point'],this['pointB']=_0x30b9a['pointOther'],this['normal']=_0x30b9a['normal']):(this['a']=null,this['b']=null,this['impulse']=0xe2d+0x182*-0x13+-0x2e5*-0x5,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x424869=new T(),_0x5a9609=new T(),_0x1abf43=new T(),_0x1ca6d1=new T(),_0x5d8d7a=new T(),_0x3e01d2=-0x182*0x9+-0xf62+-0x2*-0xe7a){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x424869,this['localPoint'+'Other']=_0x5a9609,this['point']=_0x1abf43,this['pointOther']=_0x1ca6d1,this['normal']=_0x5d8d7a,this['impulse']=_0x3e01d2);}}class xI{constructor(_0x2339c3,_0x5de38){c(this,'other'),c(this,'contacts'),(this['other']=_0x2339c3,this['contacts']=_0x5de38);}}const px=['enabled'];class mx extends Xe{constructor(_0x59aa6e){super(_0x59aa6e),c(this,'maxSubStep'+'s',-0x3b+0x1b*0xb1+-0x13a*0xf),c(this,'fixedTimeS'+'tep',(-0x164*-0x7+-0x1*-0x16e5+-0x20a0)/(-0x1*-0x2195+0x18d*-0x8+0x3*-0x6fb)),c(this,'gravity',new T(-0x143c+0x144*0x1d+-0x1078,-(0x15*0xf7+-0x1*0x1519+-0x1*-0xdf+0.8100000000000005),0x946+0x2537+-0x2e7d*0x1)),c(this,'_gravityFl'+'oat32',new Float32Array(0x1*0x9a9+0xd*-0xd3+0x111)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x59aa6e['stats']['frame'],this['ComponentT'+'ype']=$s,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x4fd28e=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x4fd28e);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),$s['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,0x325*-0x7+-0x6*-0x54c+0x5*-0x1f4),this['contactRes'+'ultPool']=new Zd(xI,0x8*-0xcb+-0x1*0x55e+-0x1*-0xbb7),this['singleCont'+'actResultP'+'ool']=new Zd(gI,0xa6c+0x1b*0x1f+-0x30*0x49),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x360fb7,_0x5b9bc4,_0x311510){const _0x41f0d1=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x119869 of _0x41f0d1)if(_0x5b9bc4['hasOwnProp'+'erty'](_0x119869)){const _0x3182be=_0x5b9bc4[_0x119869];Array['isArray'](_0x3182be)?_0x360fb7[_0x119869]=new T(_0x3182be[0xb16+-0x1dbe+0x12a8],_0x3182be[-0xb60+-0x1*-0xe47+-0x2e6],_0x3182be[-0x11c6+-0x11b0+0x46f*0x8]):_0x360fb7[_0x119869]=_0x3182be;}super['initialize'+'ComponentD'+'ata'](_0x360fb7,_0x5b9bc4,['enabled']);}['cloneCompo'+'nent'](_0x4edddf,_0x1118b1){const _0x12fd00=_0x4edddf['rigidbody'],_0x55e767={'enabled':_0x12fd00['enabled'],'mass':_0x12fd00['mass'],'linearDamping':_0x12fd00['linearDamp'+'ing'],'angularDamping':_0x12fd00['angularDam'+'ping'],'linearFactor':[_0x12fd00['linearFact'+'or']['x'],_0x12fd00['linearFact'+'or']['y'],_0x12fd00['linearFact'+'or']['z']],'angularFactor':[_0x12fd00['angularFac'+'tor']['x'],_0x12fd00['angularFac'+'tor']['y'],_0x12fd00['angularFac'+'tor']['z']],'friction':_0x12fd00['friction'],'rollingFriction':_0x12fd00['rollingFri'+'ction'],'restitution':_0x12fd00['restitutio'+'n'],'type':_0x12fd00['type'],'group':_0x12fd00['group'],'mask':_0x12fd00['mask']};return this['addCompone'+'nt'](_0x1118b1,_0x55e767);}['onBeforeRe'+'move'](_0x37801d,_0x1580a2){_0x1580a2['enabled']&&(_0x1580a2['enabled']=!(-0x2462+0xae+-0xb*-0x33f)),_0x1580a2['body']&&(this['destroyBod'+'y'](_0x1580a2['body']),_0x1580a2['body']=null);}['addBody'](_0x3caf6e,_0x30bc7b,_0x1e4cb9){_0x30bc7b!==void(0x1*0x1f23+0x86*-0x22+-0xd57)&&_0x1e4cb9!==void(0x9d*-0x3d+0xf92+0x15d7)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x3caf6e,_0x30bc7b,_0x1e4cb9):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x3caf6e);}['removeBody'](_0x19137f){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x19137f);}['createBody'](_0x595018,_0x1f3943,_0xc556aa){const _0x5fb269=new Ammo['btVector3'](-0x176f+0x2*0x130d+-0xeab,0x1*0x6d3+-0xb03*-0x1+-0x11d6,0xf22+-0x12be+0x1c*0x21);_0x595018!==0xf44+0x18c8+-0xb*0x3a4&&_0x1f3943['calculateL'+'ocalInerti'+'a'](_0x595018,_0x5fb269);const _0xeded99=new Ammo['btDefaultM'+'otionState'](_0xc556aa),_0x2674ed=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x595018,_0xeded99,_0x1f3943,_0x5fb269),_0x248996=new Ammo['btRigidBod'+'y'](_0x2674ed);return Ammo['destroy'](_0x2674ed),Ammo['destroy'](_0x5fb269),_0x248996;}['destroyBod'+'y'](_0x3266e2){const _0x340d6e=_0x3266e2['getMotionS'+'tate']();_0x340d6e&&Ammo['destroy'](_0x340d6e),Ammo['destroy'](_0x3266e2);}['raycastFir'+'st'](_0x291761,_0x6153e2,_0x4b1295={}){if(_0x4b1295['filterTags']||_0x4b1295['filterCall'+'back'])return _0x4b1295['sort']=!(-0x19ad+-0xcef+0x269c),this['raycastAll'](_0x291761,_0x6153e2,_0x4b1295)[-0x1eb4+0x1*-0x2555+0x4409]||null;let _0x617181=null;ai['setValue'](_0x291761['x'],_0x291761['y'],_0x291761['z']),oi['setValue'](_0x6153e2['x'],_0x6153e2['y'],_0x6153e2['z']);const _0x36e06c=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x4b1295['filterColl'+'isionGroup']=='number'&&_0x36e06c['set_m_coll'+'isionFilte'+'rGroup'](_0x4b1295['filterColl'+'isionGroup']),typeof _0x4b1295['filterColl'+'isionMask']=='number'&&_0x36e06c['set_m_coll'+'isionFilte'+'rMask'](_0x4b1295['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x36e06c),_0x36e06c['hasHit']()){const _0x30e60b=_0x36e06c['get_m_coll'+'isionObjec'+'t'](),_0x115d10=Ammo['castObject'](_0x30e60b,Ammo['btRigidBod'+'y']);if(_0x115d10){const _0x3dd35a=_0x36e06c['get_m_hitP'+'ointWorld'](),_0x30eca5=_0x36e06c['get_m_hitN'+'ormalWorld']();_0x617181=new xg(_0x115d10['entity'],new T(_0x3dd35a['x'](),_0x3dd35a['y'](),_0x3dd35a['z']()),new T(_0x30eca5['x'](),_0x30eca5['y'](),_0x30eca5['z']()),_0x36e06c['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x36e06c),_0x617181;}['raycastAll'](_0x576955,_0x1e83bd,_0x4ff97d={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x572780=[];ai['setValue'](_0x576955['x'],_0x576955['y'],_0x576955['z']),oi['setValue'](_0x1e83bd['x'],_0x1e83bd['y'],_0x1e83bd['z']);const _0x158178=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x4ff97d['filterColl'+'isionGroup']=='number'&&_0x158178['set_m_coll'+'isionFilte'+'rGroup'](_0x4ff97d['filterColl'+'isionGroup']),typeof _0x4ff97d['filterColl'+'isionMask']=='number'&&_0x158178['set_m_coll'+'isionFilte'+'rMask'](_0x4ff97d['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x158178),_0x158178['hasHit']()){const _0x5816a9=_0x158178['get_m_coll'+'isionObjec'+'ts'](),_0x24ec12=_0x158178['get_m_hitP'+'ointWorld'](),_0x45a33c=_0x158178['get_m_hitN'+'ormalWorld'](),_0x1f184d=_0x158178['get_m_hitF'+'ractions'](),_0x1a6f22=_0x5816a9['size']();for(let _0x18af61=0x2198+0x18ea+-0x3a82;_0x18af61<_0x1a6f22;_0x18af61++){const _0x407f44=Ammo['castObject'](_0x5816a9['at'](_0x18af61),Ammo['btRigidBod'+'y']);if(_0x407f44&&_0x407f44['entity']){if(_0x4ff97d['filterTags']&&!_0x407f44['entity']['tags']['has'](..._0x4ff97d['filterTags'])||_0x4ff97d['filterCall'+'back']&&!_0x4ff97d['filterCall'+'back'](_0x407f44['entity']))continue;const _0x4f0358=_0x24ec12['at'](_0x18af61),_0x1ce87f=_0x45a33c['at'](_0x18af61),_0x1a400d=new xg(_0x407f44['entity'],new T(_0x4f0358['x'](),_0x4f0358['y'](),_0x4f0358['z']()),new T(_0x1ce87f['x'](),_0x1ce87f['y'](),_0x1ce87f['z']()),_0x1f184d['at'](_0x18af61));_0x572780['push'](_0x1a400d);}}_0x4ff97d['sort']&&_0x572780['sort']((_0x1db441,_0x11ecc0)=>_0x1db441['hitFractio'+'n']-_0x11ecc0['hitFractio'+'n']);}return Ammo['destroy'](_0x158178),_0x572780;}['_storeColl'+'ision'](_0x1fbe2c,_0x43168c){let _0x1cc5f4=!(0xe07+0xc78+0xd3f*-0x2);const _0x4561e7=_0x1fbe2c['getGuid']();return this['collisions'][_0x4561e7]=this['collisions'][_0x4561e7]||{'others':[],'entity':_0x1fbe2c},this['collisions'][_0x4561e7]['others']['indexOf'](_0x43168c)<-0x68a*0x1+0x5d9+0xb1*0x1&&(this['collisions'][_0x4561e7]['others']['push'](_0x43168c),_0x1cc5f4=!(-0x1ec6+-0x1*0x2023+0x5*0xc95)),this['frameColli'+'sions'][_0x4561e7]=this['frameColli'+'sions'][_0x4561e7]||{'others':[],'entity':_0x1fbe2c},this['frameColli'+'sions'][_0x4561e7]['others']['push'](_0x43168c),_0x1cc5f4;}['_createCon'+'tactPointF'+'romAmmo'](_0x248ca1){const _0x1d994b=_0x248ca1['get_m_loca'+'lPointA'](),_0x330b7c=_0x248ca1['get_m_loca'+'lPointB'](),_0x7aaeed=_0x248ca1['getPositio'+'nWorldOnA'](),_0x5cd64d=_0x248ca1['getPositio'+'nWorldOnB'](),_0x13f480=_0x248ca1['get_m_norm'+'alWorldOnB'](),_0x449744=this['contactPoi'+'ntPool']['allocate']();return _0x449744['localPoint']['set'](_0x1d994b['x'](),_0x1d994b['y'](),_0x1d994b['z']()),_0x449744['localPoint'+'Other']['set'](_0x330b7c['x'](),_0x330b7c['y'](),_0x330b7c['z']()),_0x449744['point']['set'](_0x7aaeed['x'](),_0x7aaeed['y'](),_0x7aaeed['z']()),_0x449744['pointOther']['set'](_0x5cd64d['x'](),_0x5cd64d['y'](),_0x5cd64d['z']()),_0x449744['normal']['set'](_0x13f480['x'](),_0x13f480['y'](),_0x13f480['z']()),_0x449744['impulse']=_0x248ca1['getApplied'+'Impulse'](),_0x449744;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x177794){const _0x69c91f=_0x177794['get_m_loca'+'lPointA'](),_0x38efdd=_0x177794['get_m_loca'+'lPointB'](),_0x54316c=_0x177794['getPositio'+'nWorldOnA'](),_0x3d462a=_0x177794['getPositio'+'nWorldOnB'](),_0x5094aa=_0x177794['get_m_norm'+'alWorldOnB'](),_0x12ae0b=this['contactPoi'+'ntPool']['allocate']();return _0x12ae0b['localPoint'+'Other']['set'](_0x69c91f['x'](),_0x69c91f['y'](),_0x69c91f['z']()),_0x12ae0b['localPoint']['set'](_0x38efdd['x'](),_0x38efdd['y'](),_0x38efdd['z']()),_0x12ae0b['pointOther']['set'](_0x54316c['x'](),_0x54316c['y'](),_0x54316c['z']()),_0x12ae0b['point']['set'](_0x3d462a['x'](),_0x3d462a['y'](),_0x3d462a['z']()),_0x12ae0b['normal']['set'](_0x5094aa['x'](),_0x5094aa['y'](),_0x5094aa['z']()),_0x12ae0b['impulse']=_0x177794['getApplied'+'Impulse'](),_0x12ae0b;}['_createSin'+'gleContact'+'Result'](_0x151b9b,_0x318d1d,_0x28ff58){const _0x265b4d=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x265b4d['a']=_0x151b9b,_0x265b4d['b']=_0x318d1d,_0x265b4d['localPoint'+'A']=_0x28ff58['localPoint'],_0x265b4d['localPoint'+'B']=_0x28ff58['localPoint'+'Other'],_0x265b4d['pointA']=_0x28ff58['point'],_0x265b4d['pointB']=_0x28ff58['pointOther'],_0x265b4d['normal']=_0x28ff58['normal'],_0x265b4d['impulse']=_0x28ff58['impulse'],_0x265b4d;}['_createCon'+'tactResult'](_0x419ff3,_0x639f50){const _0x3d7389=this['contactRes'+'ultPool']['allocate']();return _0x3d7389['other']=_0x419ff3,_0x3d7389['contacts']=_0x639f50,_0x3d7389;}['_cleanOldC'+'ollisions'](){for(const _0x5c4cfe in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x5c4cfe)){const _0x21d07d=this['frameColli'+'sions'][_0x5c4cfe],_0x4637ea=this['collisions'][_0x5c4cfe],_0x5a5f4b=_0x4637ea['entity'],_0x298072=_0x5a5f4b['collision'],_0x2e2099=_0x5a5f4b['rigidbody'],_0x5c88fe=_0x4637ea['others'];let _0x57737b=_0x5c88fe['length'];for(;_0x57737b--;){const _0x2ca0cc=_0x5c88fe[_0x57737b];(!_0x21d07d||_0x21d07d['others']['indexOf'](_0x2ca0cc)<-0xc8e+-0x1cac+0x293a)&&(_0x5c88fe['splice'](_0x57737b,-0x91f+-0x15e*-0x1b+0xde5*-0x2),_0x5a5f4b['trigger']?(_0x298072&&_0x298072['fire']('triggerlea'+'ve',_0x2ca0cc),_0x2ca0cc['rigidbody']&&_0x2ca0cc['rigidbody']['fire']('triggerlea'+'ve',_0x5a5f4b)):_0x2ca0cc['trigger']||(_0x2e2099&&_0x2e2099['fire']('collisione'+'nd',_0x2ca0cc),_0x298072&&_0x298072['fire']('collisione'+'nd',_0x2ca0cc)));}_0x5c88fe['length']===-0xa2a+0x12be+0xc*-0xb7&&delete this['collisions'][_0x5c4cfe];}}['_hasContac'+'tEvent'](_0x3dc883){const _0x167f8d=_0x3dc883['collision'];if(_0x167f8d&&(_0x167f8d['hasEvent']('collisions'+'tart')||_0x167f8d['hasEvent']('collisione'+'nd')||_0x167f8d['hasEvent']('contact')))return!(0x1*-0x1b3b+0x268a+-0x243*0x5);const _0x1a497d=_0x3dc883['rigidbody'];return _0x1a497d&&(_0x1a497d['hasEvent']('collisions'+'tart')||_0x1a497d['hasEvent']('collisione'+'nd')||_0x1a497d['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x4da5bd,_0x309582){const _0x3aa494=Ammo['wrapPointe'+'r'](_0x4da5bd,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x454453=_0x3aa494['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x5bd66e=-0x1*-0x236d+-0x1f26+-0x447;_0x5bd66e<_0x454453;_0x5bd66e++){const _0x30bcd6=_0x3aa494['getManifol'+'dByIndexIn'+'ternal'](_0x5bd66e),_0x4d9ca2=_0x30bcd6['getBody0'](),_0x5b327f=_0x30bcd6['getBody1'](),_0x44d104=Ammo['castObject'](_0x4d9ca2,Ammo['btRigidBod'+'y']),_0x2e0cf6=Ammo['castObject'](_0x5b327f,Ammo['btRigidBod'+'y']),_0x9721d8=_0x44d104['entity'],_0x2f920f=_0x2e0cf6['entity'];if(!_0x9721d8||!_0x2f920f)continue;const _0x25b6a5=_0x44d104['getCollisi'+'onFlags'](),_0x378ecd=_0x2e0cf6['getCollisi'+'onFlags'](),_0x12b119=_0x30bcd6['getNumCont'+'acts'](),_0x3c6114=[],_0x4ac1aa=[];let _0x58d01d;if(_0x12b119>0x13a6+0x1*0x2+-0x9d4*0x2){if(_0x25b6a5&lo||_0x378ecd&lo){const _0x52b0d4=_0x9721d8['collision']&&(_0x9721d8['collision']['hasEvent']('triggerent'+'er')||_0x9721d8['collision']['hasEvent']('triggerlea'+'ve')),_0x5bf890=_0x2f920f['collision']&&(_0x2f920f['collision']['hasEvent']('triggerent'+'er')||_0x2f920f['collision']['hasEvent']('triggerlea'+'ve')),_0x3afdea=_0x9721d8['rigidbody']&&(_0x9721d8['rigidbody']['hasEvent']('triggerent'+'er')||_0x9721d8['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x4bf107=_0x2f920f['rigidbody']&&(_0x2f920f['rigidbody']['hasEvent']('triggerent'+'er')||_0x2f920f['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x52b0d4&&(_0x58d01d=this['_storeColl'+'ision'](_0x9721d8,_0x2f920f),_0x58d01d&&!(_0x378ecd&lo)&&_0x9721d8['collision']['fire']('triggerent'+'er',_0x2f920f)),_0x5bf890&&(_0x58d01d=this['_storeColl'+'ision'](_0x2f920f,_0x9721d8),_0x58d01d&&!(_0x25b6a5&lo)&&_0x2f920f['collision']['fire']('triggerent'+'er',_0x9721d8)),_0x3afdea&&(_0x58d01d||(_0x58d01d=this['_storeColl'+'ision'](_0x2f920f,_0x9721d8)),_0x58d01d&&_0x9721d8['rigidbody']['fire']('triggerent'+'er',_0x2f920f)),_0x4bf107&&(_0x58d01d||(_0x58d01d=this['_storeColl'+'ision'](_0x9721d8,_0x2f920f)),_0x58d01d&&_0x2f920f['rigidbody']['fire']('triggerent'+'er',_0x9721d8));}else{const _0x4a6a08=this['_hasContac'+'tEvent'](_0x9721d8),_0x9635c9=this['_hasContac'+'tEvent'](_0x2f920f),_0x35e393=this['hasEvent']('contact');if(_0x35e393||_0x4a6a08||_0x9635c9){for(let _0x49906b=-0x51*-0xd+-0x35*-0xaf+0x4*-0xa16;_0x49906b<_0x12b119;_0x49906b++){const _0x53cc04=_0x30bcd6['getContact'+'Point'](_0x49906b),_0x3b1318=this['_createCon'+'tactPointF'+'romAmmo'](_0x53cc04);if(_0x4a6a08||_0x9635c9){_0x3c6114['push'](_0x3b1318);const _0xddc7a7=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x53cc04);_0x4ac1aa['push'](_0xddc7a7);}if(_0x35e393){const _0x4a4347=this['_createSin'+'gleContact'+'Result'](_0x9721d8,_0x2f920f,_0x3b1318);this['fire']('contact',_0x4a4347);}}if(_0x4a6a08){const _0x2b0698=this['_createCon'+'tactResult'](_0x2f920f,_0x3c6114);_0x58d01d=this['_storeColl'+'ision'](_0x9721d8,_0x2f920f),_0x9721d8['collision']&&(_0x9721d8['collision']['fire']('contact',_0x2b0698),_0x58d01d&&_0x9721d8['collision']['fire']('collisions'+'tart',_0x2b0698)),_0x9721d8['rigidbody']&&(_0x9721d8['rigidbody']['fire']('contact',_0x2b0698),_0x58d01d&&_0x9721d8['rigidbody']['fire']('collisions'+'tart',_0x2b0698));}if(_0x9635c9){const _0x21ff47=this['_createCon'+'tactResult'](_0x9721d8,_0x4ac1aa);_0x58d01d=this['_storeColl'+'ision'](_0x2f920f,_0x9721d8),_0x2f920f['collision']&&(_0x2f920f['collision']['fire']('contact',_0x21ff47),_0x58d01d&&_0x2f920f['collision']['fire']('collisions'+'tart',_0x21ff47)),_0x2f920f['rigidbody']&&(_0x2f920f['rigidbody']['fire']('contact',_0x21ff47),_0x58d01d&&_0x2f920f['rigidbody']['fire']('collisions'+'tart',_0x21ff47));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x13b3f5){let _0x311652,_0x4da3d8;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][0x61b*0x1+-0xbbd+0x5a2]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x734+0x1cf2+-0x15bd]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x1*-0x13bb+0x1539+-0x17c]=this['gravity']['z'];const _0x1988df=this['dynamicsWo'+'rld']['getGravity']();(_0x1988df['x']()!==this['_gravityFl'+'oat32'][-0xf4d+0x1*0x869+-0x9*-0xc4]||_0x1988df['y']()!==this['_gravityFl'+'oat32'][-0x37d+0x118b+0x6d*-0x21]||_0x1988df['z']()!==this['_gravityFl'+'oat32'][0x449*-0x7+-0x2*-0x248+0x1971])&&(_0x1988df['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x1988df));const _0x238e1d=this['_triggers'];for(_0x311652=0x7e*0x2+-0xa80+0x74*0x15,_0x4da3d8=_0x238e1d['length'];_0x311652<_0x4da3d8;_0x311652++)_0x238e1d[_0x311652]['updateTran'+'sform']();const _0x29b6ea=this['_compounds'];for(_0x311652=0x35*0x59+0x1b3d+0x686*-0x7,_0x4da3d8=_0x29b6ea['length'];_0x311652<_0x4da3d8;_0x311652++)_0x29b6ea[_0x311652]['_updateCom'+'pound']();const _0x5f4083=this['_kinematic'];for(_0x311652=0xa*-0x3a+-0x724*-0x2+-0xc04,_0x4da3d8=_0x5f4083['length'];_0x311652<_0x4da3d8;_0x311652++)_0x5f4083[_0x311652]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x13b3f5,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x145d70=this['_dynamic'];for(_0x311652=-0x183b*0x1+0x185*0x16+0x1*-0x933,_0x4da3d8=_0x145d70['length'];_0x311652<_0x4da3d8;_0x311652++)_0x145d70[_0x311652]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x13b3f5),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,$s['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors']($s['prototype'],px);const Wn='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0x46146c,_0x2e4603){super(_0x46146c,_0x2e4603),this['_resolutio'+'n']=new $(0xe59*0x2+0x533+-0x1f65,0x1*-0x20b9+0x1*0x7d3+0x1a26*0x1),this['_reference'+'Resolution']=new $(-0x60+-0x285+0x565,0x1*-0x166e+0x23*0xe6+-0x1f1*0x4),this['_scaleMode']=Wn,this['scale']=-0x38b+0x270f+-0x1*0x2383,this['_scaleBlen'+'d']=0x4*-0x1bb+-0x19*-0x17d+-0x1e49+0.5,this['_priority']=0x2*0x12b7+-0xff+-0x246f,this['_screenSpa'+'ce']=!(0x1*0x1baf+0xf4e+0x20c*-0x15),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x46146c['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x50485f,_0xf91b11){var _0x2d2203;if(!(_0x50485f instanceof $e))return _0xf91b11;if(_0x50485f['element']){const _0x19ea3c=_0x50485f['element']['drawOrder'];_0x50485f['element']['drawOrder']=_0xf91b11++,_0x50485f['element']['_batchGrou'+'pId']>=-0x3cd*-0x1+-0x7f+-0x2f*0x12&&_0x19ea3c!==_0x50485f['element']['drawOrder']&&((_0x2d2203=this['system']['app']['batcher'])==null||_0x2d2203['markGroupD'+'irty'](_0x50485f['element']['_batchGrou'+'pId']));}_0x50485f['particlesy'+'stem']&&(_0x50485f['particlesy'+'stem']['drawOrder']=_0xf91b11++);const _0x368c9=_0x50485f['children'];for(let _0x121366=0xd69*0x1+0x921+-0x168a;_0x121366<_0x368c9['length'];_0x121366++)_0xf91b11=this['_recurseDr'+'awOrderSyn'+'c'](_0x368c9[_0x121366],_0xf91b11);return _0xf91b11;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x22e5*-0x1+-0xdac+0x1849*0x2),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x596e40=this['_resolutio'+'n']['x']/this['scale'],_0x402798=this['_resolutio'+'n']['y']/this['scale'],_0x370e60=-0xf1*0x23+0x19*-0x3f+0x271a,_0x4cc9f7=_0x596e40,_0x37a508=-_0x402798;this['_screenMat'+'rix']['setOrtho'](_0x370e60,_0x4cc9f7,_0x37a508,0x1709+-0x13a2+-0x367,-0x1116+0x192a+-0x813,-(0x1*-0x22cc+0x3*0x1f2+0x1cf7)),this['_screenSpa'+'ce']||(Sg['setScale']((0x5a3+0x3b*-0x71+0xa34*0x2+0.5)*_0x596e40,(-0x1ff3+-0xa20+-0x2a13*-0x1+0.5)*_0x402798,-0x58f+0x1ec7*0x1+0x50b*-0x5),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x352832,_0xdc5d07){const _0x57db32=Math['log2']((_0x352832['x']||0xd9c+-0x159a+0x1*0x7ff)/_0xdc5d07['x']),_0x15d1d0=Math['log2']((_0x352832['y']||0x1*0x25cd+0x3b*0x1f+-0x2cf1)/_0xdc5d07['y']);return Math['pow'](0x134*0x11+-0x2081*0x1+0xc0f,_0x57db32*(0x253d+-0x9*0x3fd+0x1*-0x157-this['_scaleBlen'+'d'])+_0x15d1d0*this['_scaleBlen'+'d']);}['_onResize'](_0x26a900,_0x1a100a){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x26a900,_0x1a100a),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x4fee90){this['_elements']['add'](_0x4fee90);}['_unbindEle'+'ment'](_0x2eb326){this['_elements']['delete'](_0x2eb326);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x39f71e=>_0x39f71e['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x216492){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x216492['x'],_0x216492['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x49b14a=>_0x49b14a['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x4c4f17){this['_reference'+'Resolution']['set'](_0x4c4f17['x'],_0x4c4f17['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x1801d9=>_0x1801d9['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Wn?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x504423){this['_screenSpa'+'ce']=_0x504423,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x273192=>_0x273192['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x5bd0ca){_0x5bd0ca!==Wn&&_0x5bd0ca!==SI&&(_0x5bd0ca=Wn),!this['_screenSpa'+'ce']&&_0x5bd0ca!==Wn&&(_0x5bd0ca=Wn),this['_scaleMode']=_0x5bd0ca,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x19856b){this['_scaleBlen'+'d']=_0x19856b,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x5cfa08=>_0x5cfa08['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x50209a){_0x50209a>-0xa*0x29d+-0x11e6+0x2d07&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x50209a+'\x20to\x20255'),_0x50209a=-0x2617+0x23f2+-0x10c*-0x3),this['_priority']!==_0x50209a&&(this['_priority']=_0x50209a,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(-0x9*0x11a+-0x1ef*-0x3+0x41d);}}const mf=['enabled'];class bI extends Xe{constructor(_0x1f322b){super(_0x1f322b),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new $(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x20df5d,_0x314351,_0x568050){_0x314351['priority']!==void(-0x346*-0x2+0x12d*-0xc+0x790)&&(_0x20df5d['priority']=_0x314351['priority']),_0x314351['screenSpac'+'e']!==void(0x2448+-0x12a6+-0x11a2)&&(_0x20df5d['screenSpac'+'e']=_0x314351['screenSpac'+'e']),_0x20df5d['cull']=_0x20df5d['screenSpac'+'e'],_0x314351['scaleMode']!==void(-0xd90+0x263e+0x1*-0x18ae)&&(_0x20df5d['scaleMode']=_0x314351['scaleMode']),_0x314351['scaleBlend']!==void(-0x129b+-0x14a0+0x273b)&&(_0x20df5d['scaleBlend']=_0x314351['scaleBlend']),_0x314351['resolution']!==void(0x166+-0x1a82+-0x2*-0xc8e)&&(_0x314351['resolution']instanceof $?_0x20df5d['_resolutio'+'n']['copy'](_0x314351['resolution']):_0x20df5d['_resolutio'+'n']['set'](_0x314351['resolution'][0x25d0+-0x2*0x1232+0x1*-0x16c],_0x314351['resolution'][0x12*-0x45+0x2653+-0x2178]),_0x20df5d['resolution']=_0x20df5d['_resolutio'+'n']),_0x314351['referenceR'+'esolution']!==void(-0x17c3+-0x1*-0xaf1+0xcd2)&&(_0x314351['referenceR'+'esolution']instanceof $?_0x20df5d['_reference'+'Resolution']['copy'](_0x314351['referenceR'+'esolution']):_0x20df5d['_reference'+'Resolution']['set'](_0x314351['referenceR'+'esolution'][0x209a+0x635*-0x1+-0x1d*0xe9],_0x314351['referenceR'+'esolution'][0x1120+0x2317*-0x1+0xb8*0x19]),_0x20df5d['referenceR'+'esolution']=_0x20df5d['_reference'+'Resolution']),_0x20df5d['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x20df5d,_0x314351,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x441ae0){const _0x30e7a4=this['store'];for(const _0x2eed41 in _0x30e7a4)_0x30e7a4[_0x2eed41]['entity']['screen']['update']&&_0x30e7a4[_0x2eed41]['entity']['screen']['update'](_0x441ae0);}['_onResize'](_0x405992,_0x4e7ec1){this['windowReso'+'lution']['x']=_0x405992,this['windowReso'+'lution']['y']=_0x4e7ec1;}['cloneCompo'+'nent'](_0x21ed03,_0x3e04ca){const _0x31e0ba=_0x21ed03['screen'];return this['addCompone'+'nt'](_0x3e04ca,{'enabled':_0x31e0ba['enabled'],'screenSpace':_0x31e0ba['screenSpac'+'e'],'scaleMode':_0x31e0ba['scaleMode'],'resolution':_0x31e0ba['resolution']['clone'](),'referenceResolution':_0x31e0ba['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0xc9bb4f,_0x137f01){_0x137f01['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x2af6c8=this['_drawOrder'+'SyncQueue']['list']();for(let _0x58a5b7=-0x14*-0x2d+-0x18*0x10+-0x204;_0x58a5b7<_0x2af6c8['length'];_0x58a5b7++){const _0x272ed0=_0x2af6c8[_0x58a5b7];_0x272ed0['callback']['call'](_0x272ed0['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x1327c3,_0x272508,_0x2368ec){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x1327c3)||this['_drawOrder'+'SyncQueue']['push'](_0x1327c3,{'callback':_0x272508,'scope':_0x2368ec});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new $(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x1b730a,_0x32e5f7){if(super(),!_0x1b730a||!(_0x1b730a instanceof Ht))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x32e5f7&&_0x32e5f7!=='x'&&_0x32e5f7!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x32e5f7);this['_element']=_0x1b730a,this['_app']=_0x1b730a['system']['app'],this['_axis']=_0x32e5f7||null,this['_enabled']=!(0x1*-0x1019+-0xe90+0x1ea9),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(0xe64*-0x2+0x14d6+0x197*0x5),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x389c5f){this['_element'][_0x389c5f]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x389c5f]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x389c5f]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x2f300b){const _0x29c0a0=_0x2f300b==='on';this['_hasDragLi'+'steners']&&_0x29c0a0||(this['_app']['mouse']&&(this['_element'][_0x2f300b]('mousemove',this['_onMove'],this),this['_element'][_0x2f300b]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x2f300b]('touchmove',this['_onMove'],this),this['_element'][_0x2f300b]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x2f300b]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x2f300b]('selectmove',this['_onMove'],this),this['_element'][_0x2f300b]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x29c0a0);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x1867d5){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x1867d5['camera'],this['_calculate'+'DragScale']();const _0x53cd12=this['_screenToL'+'ocal'](_0x1867d5);_0x53cd12&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x2fe+-0xa*0x12a+-0x1*-0xea2),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x53cd12),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0x1f02+0xaa9*0x1+-0x29aa),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x5cc01c){return _0x5cc01c['inputSourc'+'e']?Pr['set'](_0x5cc01c['inputSourc'+'e']['getOrigin'](),_0x5cc01c['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x5cc01c),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x10*-0x209+-0x18a8+0x3939)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x1f1b15){const _0x1aaaf3=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x1f1b15['x']<'u'&&typeof _0x1f1b15['y']<'u'?(qi['x']=_0x1f1b15['x']*_0x1aaaf3,qi['y']=_0x1f1b15['y']*_0x1aaaf3):_0x1f1b15['changedTou'+'ches']?(qi['x']=_0x1f1b15['changedTou'+'ches'][-0x1d*-0xcc+-0x1*0xd6a+-0x22*0x49]['x']*_0x1aaaf3,qi['y']=_0x1f1b15['changedTou'+'ches'][0x208f+-0x7aa+-0x18e5]['y']*_0x1aaaf3):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],0x2f*0xbe+-0x1337*0x1+-0x23d*0x7),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],-0xaf9*0x1+-0x6a0*0x2+0x1bb*0xe)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x550023=this['_element']['entity']['parent'];const _0x4fb447=this['_element']['screen']&&this['_element']['screen']['screen'],_0x2c946b=_0x4fb447&&_0x4fb447['screenSpac'+'e'],_0x598cb8=_0x2c946b?_0x4fb447['scale']:0x93*0x5+-0x12de*0x2+0x22de,_0x22dc70=this['_dragScale'];for(_0x22dc70['set'](_0x598cb8,_0x598cb8,_0x598cb8);_0x550023&&(_0x22dc70['mul'](_0x550023['getLocalSc'+'ale']()),_0x550023=_0x550023['parent'],!(_0x2c946b&&_0x550023['screen'])););_0x22dc70['x']=(-0x11*0x191+0x1c19+0x7d*-0x3)/_0x22dc70['x'],_0x22dc70['y']=(-0xa0c+0x3*0x9eb+0x13b4*-0x1)/_0x22dc70['y'],_0x22dc70['z']=0x1700+0x865+0x39*-0x8d;}['_onMove'](_0x2de84d){const {_element:_0x1f0f6f,_deltaMousePosition:_0x5682d5,_deltaHandlePosition:_0xe33597,_axis:_0x5015ac}=this;if(_0x1f0f6f&&this['_isDraggin'+'g']&&this['enabled']&&_0x1f0f6f['enabled']&&_0x1f0f6f['entity']['enabled']){const _0x40a32a=this['_screenToL'+'ocal'](_0x2de84d);if(_0x40a32a){if(_0x5682d5['sub2'](_0x40a32a,this['_dragStart'+'MousePosit'+'ion']),_0xe33597['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x5682d5),_0x5015ac){const _0x3982ba=_0x1f0f6f['entity']['getLocalPo'+'sition'](),_0x3dffe9=TI[_0x5015ac];_0xe33597[_0x3dffe9]=_0x3982ba[_0x3dffe9];}_0x1f0f6f['entity']['setLocalPo'+'sition'](_0xe33597),this['fire']('drag:move',_0xe33597);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x5cf4c7){this['_enabled']=_0x5cf4c7;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=-0x121*-0x4+-0x5*0x23+-0x3d5,Tg=0x2291+-0x1ab1+-0x7df,EI=-0x36c+0x6d7*-0x3+-0x17f3*-0x1,CI=-0x1ddb+0x256b+0x1*-0x790,MI=0x12e4+-0x1*-0xfab+-0x228e,ro=new $();class gx extends ue{constructor(_0x3ec834,_0xe70075){super(_0x3ec834,_0xe70075),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new $(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0x32e*0x1+0x9*0x176+0x571*-0x3),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x3c4ee9=this['system']['store'][this['entity']['getGuid']()];return _0x3c4ee9?_0x3c4ee9['data']:null;}set['enabled'](_0x777e16){this['_setValue']('enabled',_0x777e16);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x5dfbb5){this['_setValue']('horizontal',_0x5dfbb5);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x1a310c){this['_setValue']('vertical',_0x1a310c);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x3bd99d){this['_setValue']('scrollMode',_0x3bd99d);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x1ad8f4){this['_setValue']('bounceAmou'+'nt',_0x1ad8f4);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x519c74){this['_setValue']('friction',_0x519c74);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x50b760){this['_setValue']('dragThresh'+'old',_0x50b760);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x1e805b){this['_setValue']('useMouseWh'+'eel',_0x1e805b);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x43d83d){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x43d83d);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x5660d5){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x5660d5);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x2b12bf){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x2b12bf);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x5d5828){if(this['_viewportE'+'ntity']===_0x5d5828)return;const _0x4be172=typeof _0x5d5828=='string';this['_viewportE'+'ntity']&&_0x4be172&&this['_viewportE'+'ntity']['getGuid']()===_0x5d5828||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x5d5828 instanceof De?this['_viewportE'+'ntity']=_0x5d5828:_0x4be172?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x5d5828)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x4be172&&_0x5d5828&&(this['data']['viewportEn'+'tity']=_0x5d5828));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x3a6ccf){if(this['_contentEn'+'tity']===_0x3a6ccf)return;const _0x4e3412=typeof _0x3a6ccf=='string';this['_contentEn'+'tity']&&_0x4e3412&&this['_contentEn'+'tity']['getGuid']()===_0x3a6ccf||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x3a6ccf instanceof De?this['_contentEn'+'tity']=_0x3a6ccf:_0x4e3412?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x3a6ccf)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x4e3412&&_0x3a6ccf&&(this['data']['contentEnt'+'ity']=_0x3a6ccf));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x106dfc){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x106dfc)return;const _0x3829a=typeof _0x106dfc=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x3829a&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x106dfc||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x106dfc instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x106dfc:_0x3829a?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x106dfc)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x3829a&&_0x106dfc&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x106dfc));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x257d05){if(this['_verticalS'+'crollbarEn'+'tity']===_0x257d05)return;const _0xceaa59=typeof _0x257d05=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0xceaa59&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x257d05||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x257d05 instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x257d05:_0xceaa59?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x257d05)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0xceaa59&&_0x257d05&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x257d05));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0xc57c2a){this['_onSetScro'+'ll'](_0xc57c2a['x'],_0xc57c2a['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x1a9bbe,_0x3e6858){const _0x315237=this['data'],_0x562a75=_0x315237[_0x1a9bbe];_0x315237[_0x1a9bbe]=_0x3e6858,this['fire']('set',_0x1a9bbe,_0x562a75,_0x3e6858);}['_toggleLif'+'ecycleList'+'eners'](_0x683719){this[_0x683719]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x683719]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x683719]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x29df8c){if(this['entity']['element']){if(_0x29df8c==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x29df8c]('resize',this['_syncAll'],this),this['entity']['element'][_0x29df8c](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x29df8c==='on';}}['_onElement'+'ComponentA'+'dd'](_0x52bd35){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x3d3a3a){var _0x4fc494;(_0x4fc494=this['_evtElemen'+'tRemove'])==null||_0x4fc494['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x3fb09a,_0x56d0da;(_0x3fb09a=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x3fb09a['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x56d0da=this['_viewportE'+'ntity'])!=null&&_0x56d0da['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x47a828=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x47a828['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x47a828['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x33e00d,_0x2161b7;(_0x33e00d=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x33e00d['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x2161b7=this['_evtViewpo'+'rtResize'])==null||_0x2161b7['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0xf9a5,_0x2441cd;(_0xf9a5=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0xf9a5['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x2441cd=this['_contentEn'+'tity'])!=null&&_0x2441cd['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x5d1ce6=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x5d1ce6['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x5d1ce6['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x2151d7,_0x34d83e;(_0x2151d7=this['_evtConten'+'tElementRe'+'move'])==null||_0x2151d7['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x34d83e=this['_evtConten'+'tResize'])==null||_0x34d83e['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x2a16f5){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x1592+-0xd6+0x1*-0x14bc),this['_setScroll'+'FromConten'+'tPosition'](_0x2a16f5),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x2a16f5),!this['_disabledC'+'ontentInpu'+'t'])){const _0xee9b8b=_0x2a16f5['x']-this['_dragStart'+'Position']['x'],_0x16a4f2=_0x2a16f5['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0xee9b8b)>this['dragThresh'+'old']||Math['abs'](_0x16a4f2)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x2826e9;(_0x2826e9=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x2826e9['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x692b6e;(_0x692b6e=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x692b6e['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x260eb9){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x260eb9,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x6ebcb0){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x6ebcb0);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x19a80a;const _0x2e6628=(_0x19a80a=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x15e4+0x24*0xeb+-0xb28):_0x19a80a['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x2e6628['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x2e6628['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x469f31;const _0x1d5aae=(_0x469f31=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x22a5+-0x1e80+-0x1*0x425):_0x469f31['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x1d5aae['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x1d5aae['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x4f6145,_0x3f54d2;(_0x4f6145=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x4f6145['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x3f54d2=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x3f54d2['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x3c0551,_0x47a302;(_0x3c0551=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x3c0551['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x47a302=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x47a302['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x8ad645,_0xc7a283,_0x3079bc){_0x3079bc!==!(-0xfb*-0x3+0x14a5+-0x1795)&&this['_velocity']['set'](-0x92b+0x2598+-0x1c6d,0x541+0x15df+-0x1b20,-0x1515+-0x4e*0x56+0x2f49);const _0x588ebd=this['_updateAxi'+'s'](_0x8ad645,'x',pe),_0xf066a3=this['_updateAxi'+'s'](_0xc7a283,'y',ke);(_0x588ebd||_0xf066a3)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x306b6e,_0x48b23d,_0x3e16f9){const _0xb2e32=_0x306b6e!==null&&Math['abs'](_0x306b6e-this['_scroll'][_0x48b23d])>-0x13df+-0xf41+0x2320+0.00001;return(_0xb2e32||this['_isDraggin'+'g']()||_0x306b6e===-0x2aa+0x215*-0x1+-0x5*-0xf3)&&(this['_scroll'][_0x48b23d]=this['_determine'+'NewScrollV'+'alue'](_0x306b6e,_0x48b23d,_0x3e16f9),this['_syncConte'+'ntPosition'](_0x3e16f9),this['_syncScrol'+'lbarPositi'+'on'](_0x3e16f9)),_0xb2e32;}['_determine'+'NewScrollV'+'alue'](_0x429a02,_0x4d3a59,_0x3f758a){if(!this['_getScroll'+'ingEnabled'](_0x3f758a))return this['_scroll'][_0x4d3a59];switch(this['scrollMode']){case AI:return N['clamp'](_0x429a02,-0xe*0x8f+-0x33*-0x81+-0xc7*0x17,this['_getMaxScr'+'ollValue'](_0x3f758a));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x429a02,_0x4d3a59,_0x3f758a),_0x429a02;case EI:return _0x429a02;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x429a02;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x4ccf42){if(!this['_contentEn'+'tity'])return;const _0x232ea9=this['_getAxis'](_0x4ccf42),_0x4a9f6a=this['_getSign'](_0x4ccf42),_0x539df6=this['_prevConte'+'ntSizes'][_0x4ccf42],_0x416384=this['_getConten'+'tSize'](_0x4ccf42);if(_0x539df6!==null&&Math['abs'](_0x539df6-_0x416384)>-0x273+-0x11*-0x5a+-0x387+0.0001){const _0xece3a8=this['_getMaxOff'+'set'](_0x4ccf42,_0x539df6),_0x3b807c=this['_getMaxOff'+'set'](_0x4ccf42,_0x416384);_0x3b807c===0xaa6+0xc2f*0x2+-0x2304?this['_scroll'][_0x232ea9]=-0x4af*0x1+0x1*0x1291+0xd1*-0x11:this['_scroll'][_0x232ea9]=N['clamp'](this['_scroll'][_0x232ea9]*_0xece3a8/_0x3b807c,-0x3*0x376+-0x15*-0x10b+-0xb85,0x678+0x665*-0x2+0x653);}const _0x56263f=this['_scroll'][_0x232ea9]*this['_getMaxOff'+'set'](_0x4ccf42),_0x54a17c=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x54a17c[_0x232ea9]=_0x56263f*_0x4a9f6a,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x54a17c),this['_prevConte'+'ntSizes'][_0x4ccf42]=_0x416384;}['_syncScrol'+'lbarPositi'+'on'](_0x57447c){const _0x3c2570=this['_scrollbar'+'Entities'][_0x57447c];if(!(_0x3c2570!=null&&_0x3c2570['scrollbar']))return;const _0x4d4b14=this['_getAxis'](_0x57447c);this['_scrollbar'+'UpdateFlag'+'s'][_0x57447c]=!(0x174+-0x2668*-0x1+0x27dc*-0x1),_0x3c2570['scrollbar']['value']=this['_scroll'][_0x4d4b14],_0x3c2570['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x4d4b14,_0x57447c),this['_scrollbar'+'UpdateFlag'+'s'][_0x57447c]=!(-0x130a*0x1+-0x19ec+0x9*0x4ff);}['_syncScrol'+'lbarEnable'+'dState'](_0x5cf77d){const _0x1673c9=this['_scrollbar'+'Entities'][_0x5cf77d];if(!_0x1673c9)return;const _0x319fa2=this['_getScroll'+'ingEnabled'](_0x5cf77d),_0x4e3087=this['_getScroll'+'barVisibil'+'ity'](_0x5cf77d);switch(_0x4e3087){case CI:_0x1673c9['enabled']=_0x319fa2;return;case MI:_0x1673c9['enabled']=_0x319fa2&&this['_contentIs'+'LargerThan'+'Viewport'](_0x5cf77d);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x4e3087),_0x1673c9['enabled']=_0x319fa2;}}['_contentIs'+'LargerThan'+'Viewport'](_0x32f627){return this['_getConten'+'tSize'](_0x32f627)>this['_getViewpo'+'rtSize'](_0x32f627);}['_contentPo'+'sitionToSc'+'rollValue'](_0x1f202f){const _0x2c3c5c=this['_getMaxOff'+'set'](pe),_0x10414b=this['_getMaxOff'+'set'](ke);return _0x2c3c5c===-0x2ef+-0x1*0xb93+0x2*0x741?ro['x']=-0x19ac+0x395+0x1617:ro['x']=_0x1f202f['x']/_0x2c3c5c,_0x10414b===-0x1b2d+0xdd8*-0x1+-0x2905*-0x1?ro['y']=-0x1bbb*0x1+-0x1625+0x6*0x850:ro['y']=_0x1f202f['y']/-_0x10414b,ro;}['_getMaxOff'+'set'](_0x14789f,_0x2b664b){_0x2b664b=_0x2b664b===void(-0x35*-0x9d+-0x22b*-0xd+0x8*-0x796)?this['_getConten'+'tSize'](_0x14789f):_0x2b664b;const _0xead4aa=this['_getViewpo'+'rtSize'](_0x14789f);return _0x2b664b<_0xead4aa?-this['_getViewpo'+'rtSize'](_0x14789f):_0xead4aa-_0x2b664b;}['_getMaxScr'+'ollValue'](_0x2ca537){return this['_contentIs'+'LargerThan'+'Viewport'](_0x2ca537)?-0x20fb+-0x1820+-0x2*-0x1c8e:0x1d3+0x5ac+0x1*-0x77f;}['_getScroll'+'barHandleS'+'ize'](_0x19eaa4,_0x1558f7){const _0x288b08=this['_getViewpo'+'rtSize'](_0x1558f7),_0x1b3d10=this['_getConten'+'tSize'](_0x1558f7);if(Math['abs'](_0x1b3d10)<0x349+0x4df+-0x828+0.001)return-0x14dd+0xb*0x205+0x5*-0x45;const _0x17b685=Math['min'](_0x288b08/_0x1b3d10,-0x16bb+-0x2a2*-0x4+0x2*0x61a),_0x153aab=this['_toOversho'+'ot'](this['_scroll'][_0x19eaa4],_0x1558f7);return _0x153aab===0x2*-0x83f+-0x10fc+0x217a?_0x17b685:_0x17b685/(-0x237*0x3+0x7b*-0x11+0xed1+Math['abs'](_0x153aab));}['_getViewpo'+'rtSize'](_0x24e6bf){return this['_getSize'](_0x24e6bf,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x479961){return this['_getSize'](_0x479961,this['_contentEn'+'tity']);}['_getSize'](_0x56bc1a,_0x58c25f){return _0x58c25f!=null&&_0x58c25f['element']?_0x58c25f['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x56bc1a)]:0xefb+-0xdf9+-0x6*0x2b;}['_getScroll'+'ingEnabled'](_0x42259c){if(_0x42259c===pe)return this['horizontal'];if(_0x42259c===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x42259c);}['_getScroll'+'barVisibil'+'ity'](_0x5d5eeb){if(_0x5d5eeb===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x5d5eeb===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x5d5eeb);}['_getSign'](_0x236729){return _0x236729===pe?0x1159+-0x719+-0xa3f:-(-0x54c+0x2304+0x1*-0x1db7);}['_getAxis'](_0x2f86bd){return _0x2f86bd===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x1eced4){return _0x1eced4===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>0x98*-0x9+0xb7d*-0x3+0x27cf+0.0001||Math['abs'](this['_velocity']['y'])>0x65b*-0x1+-0x1ef4+0x254f+0.0001){const _0x5d7eb3=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x5d7eb3['x']+=this['_velocity']['x'],_0x5d7eb3['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x5d7eb3),this['_setScroll'+'FromConten'+'tPosition'](_0x5d7eb3);}this['_velocity']['x']*=-0x1334+0x240b*-0x1+0x3740-this['friction'],this['_velocity']['y']*=-0x9*0x139+-0xc24+0x1726-this['friction'];}}['_hasOversh'+'oot'](_0x54f9f8,_0x10ad33){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x54f9f8],_0x10ad33))>0x67d+0x19fd*0x1+-0x1*0x207a+0.001;}['_toOversho'+'ot'](_0xd8765e,_0x360b97){const _0x2ebdc1=this['_getMaxScr'+'ollValue'](_0x360b97);return _0xd8765e<-0x7eb+-0x60*0x3d+0x1ecb*0x1?_0xd8765e:_0xd8765e>_0x2ebdc1?_0xd8765e-_0x2ebdc1:-0x3f1*0x4+0x12af*-0x1+0x2273*0x1;}['_setVeloci'+'tyFromOver'+'shoot'](_0x4dc79e,_0x20b1e5,_0x358c6a){const _0x4ff91f=this['_toOversho'+'ot'](_0x4dc79e,_0x358c6a)*this['_getMaxOff'+'set'](_0x358c6a)*this['_getSign'](_0x358c6a);Math['abs'](_0x4ff91f)>0x13ba+-0x67*-0x1f+0x1*-0x2033&&(this['_velocity'][_0x20b1e5]=-_0x4ff91f/(this['bounceAmou'+'nt']*(0x85a+-0x3*0x6e5+0x42d*0x3)+(-0x1*0xa13+0x1fb7*0x1+-0x15a3)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x3428ce){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x3428ce,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x3428ce)):(this['_velocity']['set'](-0x2*0x59a+-0x953*0x1+0x1487,-0x2242+-0xd81+0x2fc3,0x12ad*0x2+-0x1a74+0x9b*-0x12),this['_prevConte'+'ntDragPosi'+'tion']=_0x3428ce['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x57dca3){let _0x310c49=this['_contentPo'+'sitionToSc'+'rollValue'](_0x57dca3);this['_isDraggin'+'g']()&&(_0x310c49=this['_applyScro'+'llValueTen'+'sion'](_0x310c49)),this['_onSetScro'+'ll'](_0x310c49['x'],_0x310c49['y'],!(-0x3*0x141+0x2b*-0xf+-0x1*-0x649));}['_applyScro'+'llValueTen'+'sion'](_0x5404ce){let _0x16e74e=this['_getMaxScr'+'ollValue'](pe),_0x44f10e=this['_toOversho'+'ot'](_0x5404ce['x'],pe);return _0x44f10e>0x1*-0x9e+0xf61+-0xec3?_0x5404ce['x']=_0x16e74e+(0x4c2+0x1*0x135f+-0x1820)*Math['log10'](-0x163e*-0x1+-0xd1d+-0x920+_0x44f10e):_0x44f10e<-0x1b1f+-0x7d9+0x22f8&&(_0x5404ce['x']=-(-0x1aea+0xd2a+-0x1*-0xdc1)*Math['log10'](-0x13c9+0x51b+-0x219*-0x7-_0x44f10e)),_0x16e74e=this['_getMaxScr'+'ollValue'](ke),_0x44f10e=this['_toOversho'+'ot'](_0x5404ce['y'],ke),_0x44f10e>-0x1c61+-0x77*0xb+0x2*0x10bf?_0x5404ce['y']=_0x16e74e+(0x8*0x2bd+0x28d+-0x1874)*Math['log10'](-0x2217+-0xbe7+0x1d7*0x19+_0x44f10e):_0x44f10e<0x1c97+-0x1914+0x1d*-0x1f&&(_0x5404ce['y']=-(-0xd24+0x12c3*-0x1+0x1fe8*0x1)*Math['log10'](0x1fcd+-0x12d2+0x1*-0xcfa-_0x44f10e)),_0x5404ce;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x3c0149){var _0x1527b1,_0x15c254;(_0x1527b1=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x1527b1['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x3c0149),(_0x15c254=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x15c254['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x3c0149);}['_setConten'+'tDraggingE'+'nabled'](_0x3a82cc){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x3a82cc);}['_onMouseWh'+'eel'](_0x4dca47){var _0x3a09d9;if(!this['useMouseWh'+'eel']||!((_0x3a09d9=this['_contentEn'+'tity'])!=null&&_0x3a09d9['element']))return;const _0x1a7c97=_0x4dca47['event'],_0x24a103=_0x1a7c97['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x4481a3=_0x1a7c97['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x17dbad=N['clamp'](this['_scroll']['x']+_0x24a103,-0x245*0x1+0x81*-0x28+-0x1*-0x166d,this['_getMaxScr'+'ollValue'](pe)),_0x3aa045=N['clamp'](this['_scroll']['y']+_0x4481a3,0x602*-0x1+0x1*0x100b+-0xa09,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new $(_0x17dbad,_0x3aa045);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x4ab029=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x4ab029['element']&&(_0x4ab029['element']['useInput']=!(-0x2422+-0x19df*-0x1+0xa43));}this['_disabledC'+'ontentInpu'+'t']=!(-0x1403+-0x1*0x2615+0x3a19);}['_disableCo'+'ntentInput'](){const _0x26db4f=_0x2505c3=>{_0x2505c3['element']&&_0x2505c3['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x2505c3),_0x2505c3['element']['useInput']=!(0x1*-0x9fa+-0x1*0x1819+0x2214));const _0x4ae61a=_0x2505c3['children'];for(let _0x2f36d4=-0x4b2*-0x2+-0x2a*0x15+-0x5f2,_0x4f4eb9=_0x4ae61a['length'];_0x2f36d4<_0x4f4eb9;_0x2f36d4++)_0x26db4f(_0x4ae61a[_0x2f36d4]);};if(this['_contentEn'+'tity']){const _0x2115da=this['_contentEn'+'tity']['children'];for(let _0x231e1c=0xc78+-0x2361*0x1+-0x16e9*-0x1,_0x28c06e=_0x2115da['length'];_0x231e1c<_0x28c06e;_0x231e1c++)_0x26db4f(_0x2115da[_0x231e1c]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x191b+-0x2ec+-0x1*-0x1c07);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x23*0x119+-0x2c4*-0xd+0x277*0x1)),this['_setConten'+'tDraggingE'+'nabled'](!(0x13ff+-0x1c1e+0x2b5*0x3)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1853+0x1eab+-0x36fd*0x1)),this['_setConten'+'tDraggingE'+'nabled'](!(0x166d+-0x100c+0x60*-0x11));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x23705b,_0x1e5f7d){_0x23705b['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x1e5f7d[_0x23705b['viewportEn'+'tity']['getGuid']()]),_0x23705b['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x1e5f7d[_0x23705b['contentEnt'+'ity']['getGuid']()]),_0x23705b['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x1e5f7d[_0x23705b['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x23705b['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x1e5f7d[_0x23705b['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=-0x1ee2+0x1892+-0x32d*-0x2;class RI{constructor(){c(this,'enabled',!(0x16*-0xca+0x2*-0x81d+0x2196)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(-0x6*0x407+0xf4*-0x1d+0x33ce*0x1)),c(this,'mouseWheel'+'Sensitivit'+'y',new $(0x29*-0xde+-0x8*-0x4c1+0xd3*-0x3,0x25*0x82+0x49c*-0x5+-0x1*-0x443)),c(this,'horizontal'+'ScrollbarV'+'isibility',-0x21f3*-0x1+-0x2*-0x853+-0x3299),c(this,'verticalSc'+'rollbarVis'+'ibility',-0x46*-0x89+-0x2*0x100d+-0x55c),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=0x2*0x43+-0x13bc+0x1c*0xb0;class DI extends Xe{constructor(_0xc3f5d7){super(_0xc3f5d7),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2bd335,_0x5c2cd3,_0xe8be76){_0x5c2cd3['dragThresh'+'old']===void(-0x2027+0x1e2a+0x1fd)&&(_0x5c2cd3['dragThresh'+'old']=II),_0x5c2cd3['useMouseWh'+'eel']===void(0x5*-0xcf+0xa59+-0x64e)&&(_0x5c2cd3['useMouseWh'+'eel']=!(0x153d*-0x1+0x1*-0x11d7+0x52*0x7a)),_0x5c2cd3['mouseWheel'+'Sensitivit'+'y']===void(-0x12e+0x5e8+-0x4ba)&&(_0x5c2cd3['mouseWheel'+'Sensitivit'+'y']=new $(0x1*-0x903+0x1*0x14e6+0x152*-0x9,-0x1b32+0x16e4+0x44f)),super['initialize'+'ComponentD'+'ata'](_0x2bd335,_0x5c2cd3,Ag),_0x2bd335['viewportEn'+'tity']=_0x5c2cd3['viewportEn'+'tity'],_0x2bd335['contentEnt'+'ity']=_0x5c2cd3['contentEnt'+'ity'],_0x2bd335['horizontal'+'ScrollbarE'+'ntity']=_0x5c2cd3['horizontal'+'ScrollbarE'+'ntity'],_0x2bd335['verticalSc'+'rollbarEnt'+'ity']=_0x5c2cd3['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x19868d){const _0x4cc755=this['store'];for(const _0x3f2555 in _0x4cc755){const _0x1a4e27=_0x4cc755[_0x3f2555]['entity'],_0x524d68=_0x1a4e27['scrollview'];_0x524d68['enabled']&&_0x1a4e27['enabled']&&_0x524d68['onUpdate']();}}['_onRemoveC'+'omponent'](_0x3d7907,_0x3c2ae9){_0x3c2ae9['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x5210cb,_0x5989d8){super(_0x5210cb,_0x5989d8),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x1a0d1b=this['system']['store'][this['entity']['getGuid']()];return _0x1a0d1b?_0x1a0d1b['data']:null;}set['enabled'](_0x383e5f){this['_setValue']('enabled',_0x383e5f);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x224b6c){this['_setValue']('orientatio'+'n',_0x224b6c);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x10363f){this['_setValue']('value',_0x10363f);}get['value'](){return this['data']['value'];}set['handleSize'](_0x5e97d6){this['_setValue']('handleSize',_0x5e97d6);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x403635){if(this['_handleEnt'+'ity']===_0x403635)return;const _0x2382ef=typeof _0x403635=='string';this['_handleEnt'+'ity']&&_0x2382ef&&this['_handleEnt'+'ity']['getGuid']()===_0x403635||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x403635 instanceof De?this['_handleEnt'+'ity']=_0x403635:_0x2382ef?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x403635)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x2382ef&&_0x403635&&(this['data']['handleEnti'+'ty']=_0x403635));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x59a1b3,_0x4fa10b){const _0x935034=this['data'],_0x206286=_0x935034[_0x59a1b3];_0x935034[_0x59a1b3]=_0x4fa10b,this['fire']('set',_0x59a1b3,_0x206286,_0x4fa10b);}['_toggleLif'+'ecycleList'+'eners'](_0x49690f){this[_0x49690f]('set_value',this['_onSetValu'+'e'],this),this[_0x49690f]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x49690f]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x2bc8f5,_0x1fc271;(_0x2bc8f5=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x2bc8f5['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x1fc271=this['_handleEnt'+'ity'])!=null&&_0x1fc271['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x3361b9=this['_handleEnt'+'ity']['element'],_0xaa60a4=this['_evtHandle'+'EntityChan'+'ges'];_0xaa60a4['push'](_0x3361b9['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0xaa60a4['push'](_0x3361b9['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0xaa60a4['push'](_0x3361b9['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0xaa60a4['push'](_0x3361b9['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x17bdae=0x1e6c+0x19ab+-0x3817;_0x17bdae<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x17bdae++)this['_evtHandle'+'EntityChan'+'ges'][_0x17bdae]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x18e8+0x1*0x1480+0x468;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x3a12f4){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x3a12f4[this['_getAxis']()]));}['_onSetValu'+'e'](_0x1c0687,_0x95493,_0x565ef3){Math['abs'](_0x565ef3-_0x95493)>0x1449*-0x1+0x2*-0xf4b+0x32df+0.00001&&(this['data']['value']=N['clamp'](_0x565ef3,-0x17c4+0x14b6+0x30e,0x3*-0x496+-0x1552+0x1*0x2315),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x19f02e,_0x23d87c,_0x44673a){Math['abs'](_0x44673a-_0x23d87c)>-0x1159+-0xc4e+0x1da7+0.00001&&(this['data']['handleSize']=N['clamp'](_0x44673a,-0x43a+-0x1dbc+0x21f6,0x1ec9+0x31+-0x1ef9),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x3bcbe1,_0x4bd1d3,_0x34692a){var _0x577a89;_0x34692a!==_0x4bd1d3&&((_0x577a89=this['_handleEnt'+'ity'])!=null&&_0x577a89['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x19fa+0x1ba*0x11+-0x360);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x49947e=this['_handleEnt'+'ity'],_0x549025=_0x49947e==null?void(-0x130b+0x3*0xc2f+-0x1182):_0x49947e['element'];if(_0x49947e){const _0x5a2d34=_0x49947e['getLocalPo'+'sition']();_0x5a2d34[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x49947e['setLocalPo'+'sition'](_0x5a2d34);}_0x549025&&(_0x549025[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x367f1a){return _0x367f1a*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x29359f){return _0x29359f*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x1647*-0x1+-0x270b+0x10c4*0x1+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x649*-0x1+-0x2169+0x1b20;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?-0x205+0x3*0x50d+-0xd21:-(0x1536+-0x1e*0xab+-0x1*0x12b);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x45ae51){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x45ae51);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x2611+-0x1*-0x7f9+-0x2e0a));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x7a*-0x3+-0x821+0x6b4));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xdcd22f,_0x45fe02){_0xdcd22f['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x45fe02[_0xdcd22f['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(0x1800+0x1*0x242a+0x12e*-0x33)),c(this,'orientatio'+'n',pe),c(this,'value',0xd*-0x107+0x1*0x21c8+0x7*-0x2eb),c(this,'handleSize',0x415+0x9*-0x3aa+-0x239*-0xd),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x24ea38){super(_0x24ea38),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x3d4ccc,_0x583b08,_0x333ad7){super['initialize'+'ComponentD'+'ata'](_0x3d4ccc,_0x583b08,Eg),_0x3d4ccc['handleEnti'+'ty']=_0x583b08['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x3bb2d1){_0x3bb2d1['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x3583b5,_0x460e7e){_0x460e7e['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(-0x1ba*-0x5+0x1409+-0x3*0x98e),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x8e32c4,_0x471444='Untitled',_0x479aa3={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x8e32c4,this['_assets']=_0x8e32c4['system']['app']['assets'],this['_manager']=_0x8e32c4['system']['manager'],this['name']=_0x471444,this['_volume']=_0x479aa3['volume']!==void(0x2412+-0xc3*0x21+-0xaef)?N['clamp'](Number(_0x479aa3['volume'])||-0x142c+0x2047+-0xc1b,0x17*0x65+-0x2052*0x1+-0x21d*-0xb,0xc2d+0x27*-0x81+0x77b):0x1*0xe61+-0x1d1b+-0x4e9*-0x3,this['_pitch']=_0x479aa3['pitch']!==void(0x2*0x7e5+0x8f1+-0x18bb)?Math['max'](0x1492+-0x2009+0x1*0xb77+0.01,Number(_0x479aa3['pitch'])||-0x373+0x1*0x1681+-0x130e):-0x10c6*0x1+0x3*-0x41b+0x1d18,this['_loop']=!!(_0x479aa3['loop']!==void(0x965+-0x1*-0x205f+-0x29c4)&&_0x479aa3['loop']),this['_duration']=_0x479aa3['duration']>-0x226c+-0x43*-0x8f+-0x301?_0x479aa3['duration']:null,this['_startTime']=Math['max'](0x1532+0x13fa*-0x1+-0x138,Number(_0x479aa3['startTime'])||-0x265+-0x1*-0x815+-0x10*0x5b),this['_overlap']=!!_0x479aa3['overlap'],this['_autoPlay']=!!_0x479aa3['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x479aa3['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x121e18){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x542100=_0x121e18;if(_0x542100||(_0x542100=this['_createIns'+'tance'](),this['instances']['push'](_0x542100)),this['isLoaded'])_0x542100['play']();else{const _0x33c768=function(_0xc45fba){const _0xfeeb66=_0x542100['_playWhenL'+'oaded'];_0x542100['sound']=_0xc45fba,_0xfeeb66&&_0x542100['play']();};this['off']('load',_0x33c768),this['once']('load',_0x33c768),this['load']();}return _0x542100;}['pause'](){let _0x519745=!(-0x7*0x1c+0xa*-0x169+-0x51*-0x2f);const _0x40346c=this['instances'];for(let _0x4d5df3=-0x227e+0x9f2+0xc46*0x2,_0xeeaa04=_0x40346c['length'];_0x4d5df3<_0xeeaa04;_0x4d5df3++)_0x40346c[_0x4d5df3]['pause']()&&(_0x519745=!(0xcd4+0x109a+-0x1d6e));return _0x519745;}['resume'](){let _0x4e01e0=!(0xb06*0x2+0x1*0x17c8+-0x1*0x2dd3);const _0x4da771=this['instances'];for(let _0x500797=-0x121a+0xfed+-0x1*-0x22d,_0x3a3c05=_0x4da771['length'];_0x500797<_0x3a3c05;_0x500797++)_0x4da771[_0x500797]['resume']()&&(_0x4e01e0=!(-0x1a20+-0x11e8+-0x1604*-0x2));return _0x4e01e0;}['stop'](){let _0x555069=!(-0x264b+-0x1dcf+0x441b);const _0x89ded6=this['instances'];let _0x5ec463=_0x89ded6['length'];for(;_0x5ec463--;)_0x89ded6[_0x5ec463]['stop'](),_0x555069=!(0x3b*0x81+-0x9*-0x237+-0x31aa);return _0x89ded6['length']=0x205*0x2+0x279+0x1*-0x683,_0x555069;}['load'](){if(!this['_hasAsset']())return;const _0x498767=this['_assets']['get'](this['_asset']);if(!_0x498767){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x498767['off']('remove',this['_onAssetRe'+'moved'],this),_0x498767['on']('remove',this['_onAssetRe'+'moved'],this),!_0x498767['resource']){_0x498767['off']('load',this['_onAssetLo'+'ad'],this),_0x498767['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x498767);return;}this['fire']('load',_0x498767['resource']);}['setExterna'+'lNodes'](_0x2bf927,_0x2f9ed6){if(!_0x2bf927){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x2f9ed6||(_0x2f9ed6=_0x2bf927),this['_firstNode']=_0x2bf927,this['_lastNode']=_0x2f9ed6,!this['_overlap']){const _0x395cf4=this['instances'];for(let _0x3844cc=0x1046*0x1+0x1*-0x1942+0x8fc,_0x10e9ba=_0x395cf4['length'];_0x3844cc<_0x10e9ba;_0x3844cc++)_0x395cf4[_0x3844cc]['setExterna'+'lNodes'](_0x2bf927,_0x2f9ed6);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x3780b0=this['instances'];for(let _0x1b4092=-0x16f0+0x119*0x21+-0xd49,_0x515e25=_0x3780b0['length'];_0x1b4092<_0x515e25;_0x1b4092++)_0x3780b0[_0x1b4092]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0xd29871=null;const _0x23de65=this['_component'];let _0x3d855e=null;if(this['_hasAsset']()){const _0x21daed=this['_assets']['get'](this['_asset']);_0x21daed&&(_0x3d855e=_0x21daed['resource']);}const _0x187437=OI;return _0x187437['volume']=this['_volume']*_0x23de65['volume'],_0x187437['pitch']=this['_pitch']*_0x23de65['pitch'],_0x187437['loop']=this['_loop'],_0x187437['startTime']=this['_startTime'],_0x187437['duration']=this['_duration'],_0x187437['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x187437['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x187437['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x187437['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x187437['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x23de65['positional']?(_0x187437['position']['copy'](_0x23de65['entity']['getPositio'+'n']()),_0x187437['maxDistanc'+'e']=_0x23de65['maxDistanc'+'e'],_0x187437['refDistanc'+'e']=_0x23de65['refDistanc'+'e'],_0x187437['rollOffFac'+'tor']=_0x23de65['rollOffFac'+'tor'],_0x187437['distanceMo'+'del']=_0x23de65['distanceMo'+'del'],_0xd29871=new jn(this['_manager'],_0x3d855e,_0x187437)):_0xd29871=new ss(this['_manager'],_0x3d855e,_0x187437),this['_firstNode']&&_0xd29871['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0xd29871;}['_onInstanc'+'ePlay'](_0x4f1cc6){this['fire']('play',_0x4f1cc6),this['_component']['fire']('play',this,_0x4f1cc6);}['_onInstanc'+'ePause'](_0x3dc2d8){this['fire']('pause',_0x3dc2d8),this['_component']['fire']('pause',this,_0x3dc2d8);}['_onInstanc'+'eResume'](_0x169482){this['fire']('resume',_0x169482),this['_component']['fire']('resume',this,_0x169482);}['_onInstanc'+'eStop'](_0x3a9c88){const _0x413edb=this['instances']['indexOf'](_0x3a9c88);_0x413edb!==-(0x1*-0x7d0+0xac*0xf+-0x243*0x1)&&this['instances']['splice'](_0x413edb,-0x1a7e+-0x5ad+0x202c),this['fire']('stop',_0x3a9c88),this['_component']['fire']('stop',this,_0x3a9c88);}['_onInstanc'+'eEnd'](_0x576d61){const _0xa5f675=this['instances']['indexOf'](_0x576d61);_0xa5f675!==-(-0xad3*-0x1+0x15cf+-0x20a1*0x1)&&this['instances']['splice'](_0xa5f675,0x247f+-0x1*0x9f5+-0x1a89),this['fire']('end',_0x576d61),this['_component']['fire']('end',this,_0x576d61);}['_onAssetAd'+'d'](_0x2b29c9){this['load']();}['_onAssetLo'+'ad'](_0x2fdc08){this['load']();}['_onAssetRe'+'moved'](_0x51f50c){_0x51f50c['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x51f50c['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x21130f){const _0x3b25fc=this['instances'];for(let _0x3834a0=0x1721*-0x1+0x47*-0x1+0x1768,_0x16722f=_0x3b25fc['length'];_0x3834a0<_0x16722f;_0x3834a0++)_0x3b25fc[_0x3834a0]['position']=_0x21130f;}set['asset'](_0x21a6e8){const _0x1ed46=this['_asset'];if(_0x1ed46){this['_assets']['off']('add:'+_0x1ed46,this['_onAssetAd'+'d'],this);const _0x19c0ec=this['_assets']['get'](_0x1ed46);_0x19c0ec&&_0x19c0ec['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x21a6e8,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x1af7f5){this['_autoPlay']=!!_0x1af7f5;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x374185){if(this['_duration']=Math['max'](0x1236+-0xbcf+-0x667,Number(_0x374185)||-0xa04+-0xf9d*-0x1+-0x599)||null,!this['_overlap']){const _0x46bc23=this['instances'];for(let _0x47ebe1=0x188a+0x589+-0x1e13,_0x1ab64e=_0x46bc23['length'];_0x47ebe1<_0x1ab64e;_0x47ebe1++)_0x46bc23[_0x47ebe1]['duration']=this['_duration'];}}get['duration'](){let _0x4ac2ef=-0xd81*0x2+-0xf97+-0x2d7*-0xf;if(this['_hasAsset']()){const _0x429f9c=this['_assets']['get'](this['_asset']);_0x4ac2ef=_0x429f9c!=null&&_0x429f9c['resource']?_0x429f9c['resource']['duration']:0x209e+-0x1b82+-0xda*0x6;}return this['_duration']!=null?this['_duration']%(_0x4ac2ef||-0xc74+0x1b*-0xc8+0x218d):_0x4ac2ef;}get['isLoaded'](){if(this['_hasAsset']()){const _0x1d43a7=this['_assets']['get'](this['_asset']);if(_0x1d43a7)return!!_0x1d43a7['resource'];}return!(0xec6*-0x2+-0x7*0x1+0x1d94);}get['isPaused'](){const _0x5c1961=this['instances'],_0xe32c02=_0x5c1961['length'];if(_0xe32c02===0x881*-0x3+-0x2b3+0xe1b*0x2)return!(-0xfee+-0x2a*-0x2e+-0x13*-0x71);for(let _0x8aefed=-0x2e4*-0x2+0x167+0x3*-0x265;_0x8aefed<_0xe32c02;_0x8aefed++)if(!_0x5c1961[_0x8aefed]['isPaused'])return!(-0xc79+-0xd53+-0x1*-0x19cd);return!(0x18df*-0x1+0x104*-0x1+0x19e3);}get['isPlaying'](){const _0x48945d=this['instances'];for(let _0x42f385=0x121e+0x11*0x1c6+-0x4*0xc11,_0x113898=_0x48945d['length'];_0x42f385<_0x113898;_0x42f385++)if(_0x48945d[_0x42f385]['isPlaying'])return!(-0x9c8+0x115*0x5+0x45f);return!(0x2555+0x194f+-0x3ea3);}get['isStopped'](){const _0x4d43c5=this['instances'];for(let _0x2d7b82=-0x1aa+0x24f8+-0x11a7*0x2,_0x235135=_0x4d43c5['length'];_0x2d7b82<_0x235135;_0x2d7b82++)if(!_0x4d43c5[_0x2d7b82]['isStopped'])return!(0x99d*0x2+-0x72d*-0x1+-0x1a66);return!(0x9d*0xf+0x13c6+-0x1cf9);}set['loop'](_0x2bc40c){this['_loop']=!!_0x2bc40c;const _0x4306a5=this['instances'];for(let _0x499967=-0x842+0x25c*0xe+-0xe*0x1c5,_0x1ddaf2=_0x4306a5['length'];_0x499967<_0x1ddaf2;_0x499967++)_0x4306a5[_0x499967]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x55ee50){this['_overlap']=!!_0x55ee50;}get['overlap'](){return this['_overlap'];}set['pitch'](_0xc97fa){if(this['_pitch']=Math['max'](Number(_0xc97fa)||-0x1*-0x3e8+0x52d*0x1+-0x19*0x5d,-0x3b8+-0x4e4+0x89c+0.01),!this['_overlap']){const _0x2ba3d7=this['instances'];for(let _0x3584ad=0x1376+-0xd*-0x125+-0x2257,_0x4c3f1c=_0x2ba3d7['length'];_0x3584ad<_0x4c3f1c;_0x3584ad++)_0x2ba3d7[_0x3584ad]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x58fc5c){if(this['_startTime']=Math['max'](-0x962+-0x1*-0x1e36+-0x1*0x14d4,Number(_0x58fc5c)||0x89b*-0x3+-0x1db3+0x1a2*0x22),!this['_overlap']){const _0x173eb1=this['instances'];for(let _0x338d67=-0xb42+-0xf94+0x1ad6,_0x2d2053=_0x173eb1['length'];_0x338d67<_0x2d2053;_0x338d67++)_0x173eb1[_0x338d67]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x7c56a8){if(this['_volume']=N['clamp'](Number(_0x7c56a8)||0x1*0x122b+-0xe3a+-0x3f1,0x2349+0xd*0x29e+0x64d*-0xb,0x1e*-0x134+0xab*0x15+-0xb09*-0x2),!this['_overlap']){const _0x1665ce=this['instances'];for(let _0xf26453=0x245d*0x1+0x13b1+-0xaf*0x52,_0x463b55=_0x1665ce['length'];_0xf26453<_0x463b55;_0xf26453++)_0x1665ce[_0xf26453]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',0x2036+0x1b62+-0x235*0x1b),c(this,'_pitch',0x1712+0x1fc*0x4+-0x1f01*0x1),c(this,'_positiona'+'l',!(-0x6a1*-0x2+0x525+-0x1267)),c(this,'_refDistan'+'ce',0x1367+-0x1e85+-0xb1f*-0x1),c(this,'_maxDistan'+'ce',-0x4a58+0x5*-0x67c+0x91d4),c(this,'_rollOffFa'+'ctor',-0x21c5+0x2473+0x1*-0x2ad),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x4133f1,_0x1dfa43,_0x4f98db){const _0x3e8821=this['_slots'];for(const _0x1094b1 in _0x3e8821){const _0x433020=_0x3e8821[_0x1094b1];if(!_0x433020['overlap']){const _0x468049=_0x433020['instances'];for(let _0x40333b=-0x9f*-0x1c+-0x1a16+-0x459*-0x2,_0x21a274=_0x468049['length'];_0x40333b<_0x21a274;_0x40333b++)_0x468049[_0x40333b][_0x4133f1]=_0x4f98db?_0x433020[_0x4133f1]*_0x1dfa43:_0x1dfa43;}}}set['distanceMo'+'del'](_0x4dab83){this['_distanceM'+'odel']=_0x4dab83,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x4dab83,!(0xa9*0x1+0x1490+-0x1538));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x339198){this['_maxDistan'+'ce']=_0x339198,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x339198,!(0x26cb*-0x1+0x1*0x182d+-0x1*-0xe9f));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x135520){this['_refDistan'+'ce']=_0x135520,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x135520,!(0x198f+0x32e+-0x1cbc));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x371ba4){this['_rollOffFa'+'ctor']=_0x371ba4,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x371ba4,!(-0x269c+-0x456+0x2af3));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x27f408){this['_pitch']=_0x27f408,this['_updateSou'+'ndInstance'+'s']('pitch',_0x27f408,!(0x1*0x8a+0x739+-0x7c3));}get['pitch'](){return this['_pitch'];}set['volume'](_0x3b4243){this['_volume']=_0x3b4243,this['_updateSou'+'ndInstance'+'s']('volume',_0x3b4243,!(-0x1abb*0x1+0x14c3+-0x2fc*-0x2));}get['volume'](){return this['_volume'];}set['positional'](_0x40e2b5){this['_positiona'+'l']=_0x40e2b5;const _0x229699=this['_slots'];for(const _0x1df528 in _0x229699){const _0x26cebf=_0x229699[_0x1df528];if(!_0x26cebf['overlap']){const _0x579ddf=_0x26cebf['instances'],_0x500753=_0x579ddf['length'];for(let _0x3733de=_0x500753-(0x1*-0x1ad0+-0x2*-0xe3+0x859*0x3);_0x3733de>=-0x1f05*-0x1+0x12f*-0x1f+0x4*0x16b;_0x3733de--){const _0x5e74af=_0x579ddf[_0x3733de]['isPlaying']||_0x579ddf[_0x3733de]['isSuspende'+'d'],_0x6e99c5=_0x579ddf[_0x3733de]['currentTim'+'e'];_0x5e74af&&_0x579ddf[_0x3733de]['stop']();const _0x197c4f=_0x26cebf['_createIns'+'tance']();_0x5e74af&&(_0x197c4f['play'](),_0x197c4f['currentTim'+'e']=_0x6e99c5),_0x579ddf['push'](_0x197c4f);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x4b5f9d){const _0x4d9798=this['_slots'];if(_0x4d9798){for(const _0x33955a in _0x4d9798)_0x4d9798[_0x33955a]['stop']();}const _0x3214ba={};for(const _0x5c64dd in _0x4b5f9d)_0x4b5f9d[_0x5c64dd]instanceof er?_0x3214ba[_0x4b5f9d[_0x5c64dd]['name']]=_0x4b5f9d[_0x5c64dd]:_0x4b5f9d[_0x5c64dd]['name']&&(_0x3214ba[_0x4b5f9d[_0x5c64dd]['name']]=new er(this,_0x4b5f9d[_0x5c64dd]['name'],_0x4b5f9d[_0x5c64dd]));this['_slots']=_0x3214ba,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x42c0e7=this['_slots'],_0x3ef351=this['_playingBe'+'foreDisabl'+'e'];for(const _0x37f180 in _0x42c0e7){const _0x4e78c5=_0x42c0e7[_0x37f180];_0x4e78c5['autoPlay']&&_0x4e78c5['isStopped']?_0x4e78c5['play']():_0x3ef351[_0x37f180]?_0x4e78c5['resume']():_0x4e78c5['isLoaded']||_0x4e78c5['load']();}}['onDisable'](){const _0x2ca371=this['_slots'],_0x34fdd5={};for(const _0x3e1b86 in _0x2ca371)_0x2ca371[_0x3e1b86]['overlap']||_0x2ca371[_0x3e1b86]['isPlaying']&&(_0x2ca371[_0x3e1b86]['pause'](),_0x34fdd5[_0x3e1b86]=!(0x22ff+-0x3*-0x600+-0x34ff));this['_playingBe'+'foreDisabl'+'e']=_0x34fdd5;}['onRemove'](){this['off']();}['addSlot'](_0x4d2349,_0x494c21){const _0x425a54=this['_slots'];if(_0x425a54[_0x4d2349])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x4d2349+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x5e51a8=new er(this,_0x4d2349,_0x494c21);return _0x425a54[_0x4d2349]=_0x5e51a8,_0x5e51a8['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x5e51a8['play'](),_0x5e51a8;}['removeSlot'](_0xdcaf72){const _0x2f4707=this['_slots'];_0x2f4707[_0xdcaf72]&&(_0x2f4707[_0xdcaf72]['stop'](),delete _0x2f4707[_0xdcaf72]);}['slot'](_0x7ed46d){return this['_slots'][_0x7ed46d];}['_getSlotPr'+'operty'](_0x239adb,_0x124d70){if(!this['enabled']||!this['entity']['enabled'])return;const _0x3bad0b=this['_slots'][_0x239adb];if(!_0x3bad0b){v['warn']('Trying\x20to\x20'+'get\x20'+_0x124d70+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x239adb+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x3bad0b[_0x124d70];}['isPlaying'](_0x2b0cef){return this['_getSlotPr'+'operty'](_0x2b0cef,'isPlaying')||!(0x1373+0xddf+0x1*-0x2151);}['isLoaded'](_0x1a9b64){return this['_getSlotPr'+'operty'](_0x1a9b64,'isLoaded')||!(0x1d2f+0xa32+-0x2760);}['isPaused'](_0x1c752a){return this['_getSlotPr'+'operty'](_0x1c752a,'isPaused')||!(0x19e4+0x455*-0x1+-0x158e);}['isStopped'](_0x305cff){return this['_getSlotPr'+'operty'](_0x305cff,'isStopped')||!(-0x11*-0x15+-0x1801+0x169d);}['play'](_0x61ca63){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x12dcd8=this['_slots'][_0x61ca63];return _0x12dcd8?_0x12dcd8['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x61ca63+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x39ffe1){const _0x3aab24=this['_slots'];if(_0x39ffe1){const _0xa3eaa=_0x3aab24[_0x39ffe1];if(!_0xa3eaa){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x39ffe1+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0xa3eaa['pause']();}else{for(const _0x533136 in _0x3aab24)_0x3aab24[_0x533136]['pause']();}}['resume'](_0x1a551e){const _0xf14894=this['_slots'];if(_0x1a551e){const _0x3f3699=_0xf14894[_0x1a551e];if(!_0x3f3699){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x1a551e+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x3f3699['isPaused']&&_0x3f3699['resume']();}else{for(const _0x5c66e3 in _0xf14894)_0xf14894[_0x5c66e3]['resume']();}}['stop'](_0x153025){const _0x3472df=this['_slots'];if(_0x153025){const _0x4b17fe=_0x3472df[_0x153025];if(!_0x4b17fe){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x153025+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x4b17fe['stop']();}else{for(const _0x382c21 in _0x3472df)_0x3472df[_0x382c21]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(-0x21b+0x2*-0xcea+0x1bef*0x1);}}const xx=['enabled'];class BI extends Xe{constructor(_0x55c0e2){super(_0x55c0e2),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x55c0e2['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x2d8deb){this['manager']['volume']=_0x2d8deb;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x472f4e,_0x5ae71f,_0x17f4b3){_0x17f4b3=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x2136f1=-0x5*-0x416+-0x2b*0x81+0x1*0x13d;_0x2136f1<_0x17f4b3['length'];_0x2136f1++)_0x5ae71f['hasOwnProp'+'erty'](_0x17f4b3[_0x2136f1])&&(_0x472f4e[_0x17f4b3[_0x2136f1]]=_0x5ae71f[_0x17f4b3[_0x2136f1]]);super['initialize'+'ComponentD'+'ata'](_0x472f4e,_0x5ae71f,['enabled']);}['cloneCompo'+'nent'](_0x54da26,_0x505e91){const _0x36cff8=_0x54da26['sound'],_0x982e37=_0x36cff8['slots'],_0x15f127={};for(const _0x1465ac in _0x982e37){const _0x375c9a=_0x982e37[_0x1465ac];_0x15f127[_0x1465ac]={'name':_0x375c9a['name'],'volume':_0x375c9a['volume'],'pitch':_0x375c9a['pitch'],'loop':_0x375c9a['loop'],'duration':_0x375c9a['duration'],'startTime':_0x375c9a['startTime'],'overlap':_0x375c9a['overlap'],'autoPlay':_0x375c9a['autoPlay'],'asset':_0x375c9a['asset']};}const _0x117d87={'distanceModel':_0x36cff8['distanceMo'+'del'],'enabled':_0x36cff8['enabled'],'maxDistance':_0x36cff8['maxDistanc'+'e'],'pitch':_0x36cff8['pitch'],'positional':_0x36cff8['positional'],'refDistance':_0x36cff8['refDistanc'+'e'],'rollOffFactor':_0x36cff8['rollOffFac'+'tor'],'slots':_0x15f127,'volume':_0x36cff8['volume']};return this['addCompone'+'nt'](_0x505e91,_0x117d87);}['onUpdate'](_0x523811){const _0x461d2e=this['store'];for(const _0x3698b7 in _0x461d2e)if(_0x461d2e['hasOwnProp'+'erty'](_0x3698b7)){const _0x24acb0=_0x461d2e[_0x3698b7]['entity'];if(_0x24acb0['enabled']){const _0x209355=_0x24acb0['sound'];if(_0x209355['enabled']&&_0x209355['positional']){const _0x20ec43=_0x24acb0['getPositio'+'n'](),_0x141cd8=_0x209355['slots'];for(const _0x1e0bb1 in _0x141cd8)_0x141cd8[_0x1e0bb1]['updatePosi'+'tion'](_0x20ec43);}}}}['onBeforeRe'+'move'](_0x2b8d46,_0x26945e){const _0x49b117=_0x26945e['slots'];for(const _0x5c188b in _0x49b117)_0x49b117[_0x5c188b]['overlap']||_0x49b117[_0x5c188b]['stop']();_0x26945e['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x30f851,_0x290d2f){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x30f851,this['_frame']=-0x14b9+-0x1*0x2087+0x1aa0*0x2,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x290d2f['spriteAsse'+'t'],this['name']=_0x290d2f['name'],this['fps']=_0x290d2f['fps']||-0xa1+-0x3c1*-0x1+0x190*-0x2,this['loop']=_0x290d2f['loop']||!(-0x49*-0x5c+0x2*0x359+-0x20ed),this['_playing']=!(-0x2*-0x6f9+0x9*-0x131+-0x4*0xce),this['_paused']=!(-0x151d+-0xa03+0x1f21),this['_time']=-0x1e9e+-0xda0*-0x1+0x2d5*0x6);}get['duration'](){if(this['_sprite']){const _0x47612f=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x47612f);}return 0x26b1+-0xc00+0x1ab1*-0x1;}set['frame'](_0x162ef9){this['_setFrame'](_0x162ef9);const _0x32df19=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x32df19);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x30e361){var _0x1a8878;if(this['_sprite']&&((_0x1a8878=this['_evtSetMes'+'hes'])==null||_0x1a8878['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x30e361,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x25237b;!_0x30e361||!_0x30e361['atlas']?(_0x25237b=this['_component']['_meshInsta'+'nce'],_0x25237b&&(_0x25237b['deletePara'+'meter']('texture_em'+'issiveMap'),_0x25237b['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x30e361['atlas']['texture']&&(_0x25237b=this['_component']['_meshInsta'+'nce'],_0x25237b&&(_0x25237b['setParamet'+'er']('texture_em'+'issiveMap',_0x30e361['atlas']['texture']),_0x25237b['setParamet'+'er']('texture_op'+'acityMap',_0x30e361['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x586501){const _0x378fae=this['_component']['system']['app']['assets'];let _0x15a24b=_0x586501;if(_0x586501 instanceof le&&(_0x15a24b=_0x586501['id']),this['_spriteAss'+'et']!==_0x15a24b){if(this['_spriteAss'+'et']){const _0x358daa=_0x378fae['get'](this['_spriteAss'+'et']);_0x358daa&&this['_unbindSpr'+'iteAsset'](_0x358daa);}if(this['_spriteAss'+'et']=_0x15a24b,this['_spriteAss'+'et']){const _0x585fcf=_0x378fae['get'](this['_spriteAss'+'et']);_0x585fcf?this['_bindSprit'+'eAsset'](_0x585fcf):(this['sprite']=null,_0x378fae['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x8c39f2){this['_setTime'](_0x8c39f2),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0x110d*0x1+0x97a+0xa*-0x2a7),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=-0x19fa+0x1dee+0xb*-0x5c;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x2e3d2e){this['_component']['system']['app']['assets']['off']('add:'+_0x2e3d2e['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x2e3d2e['id']&&this['_bindSprit'+'eAsset'](_0x2e3d2e);}['_bindSprit'+'eAsset'](_0x5ae93f){_0x5ae93f['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x5ae93f['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x5ae93f['resource']?this['_onSpriteA'+'ssetLoad'](_0x5ae93f):this['_component']['system']['app']['assets']['load'](_0x5ae93f);}['_unbindSpr'+'iteAsset'](_0x528e3d){_0x528e3d&&(_0x528e3d['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x528e3d['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x528e3d['resource']&&!_0x528e3d['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x528e3d['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x1f650c){if(!_0x1f650c['resource'])this['sprite']=null;else{if(_0x1f650c['resource']['atlas'])this['sprite']=_0x1f650c['resource'];else{const _0x166c71=_0x1f650c['data']['textureAtl'+'asAsset'],_0xa47cea=this['_component']['system']['app']['assets'];_0xa47cea['off']('load:'+_0x166c71,this['_onTexture'+'AtlasLoad'],this),_0xa47cea['once']('load:'+_0x166c71,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x2dbd14){const _0x3cfb64=this['_spriteAss'+'et'];_0x3cfb64 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x3cfb64):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x3cfb64));}['_onSpriteA'+'ssetRemove'](_0x2d769c){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x2cec13){if(this['fps']===0x1f4c+0x1b36+-0x3a82||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x245d75=this['fps']<0x611*-0x1+-0x22fb+0x290c?-(-0x1e25+0x130c+0x31*0x3a):-0xd70*-0x2+-0x1db3+-0x1*-0x2d4,_0x4c07e4=this['_time']+_0x2cec13*this['_component']['speed']*_0x245d75,_0x2eeeaa=this['duration'],_0x8ed7eb=_0x4c07e4>_0x2eeeaa||_0x4c07e4<0x865+0x28*0x4f+0x14bd*-0x1;this['_setTime'](_0x4c07e4);let _0x1f5606=this['frame'];this['_sprite']?_0x1f5606=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x2eeeaa):_0x1f5606=-0x3*-0x67+-0x5e1*0x1+-0x2e*-0x1a,_0x1f5606!==this['_frame']&&this['_setFrame'](_0x1f5606),_0x8ed7eb&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0x334+-0x223*0x1+0x558),this['_paused']=!(0x1*0x20e+-0x18f7+-0x1*-0x16ea),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x5acc28){this['_time']=_0x5acc28;const _0x2508c6=this['duration'];this['_time']<-0x12a*-0xb+-0x86*0x36+0xf76?this['loop']?this['_time']=this['_time']%_0x2508c6+_0x2508c6:this['_time']=0x2110+0x242a*-0x1+0x31a:this['_time']>_0x2508c6&&(this['loop']?this['_time']%=_0x2508c6:this['_time']=_0x2508c6);}['_setFrame'](_0x132e94){this['_sprite']?this['_frame']=N['clamp'](_0x132e94,-0x449*-0x1+-0x3b9+-0x90,this['_sprite']['frameKeys']['length']-(0x7*0x507+0x2*-0xbf0+-0xb50)):this['_frame']=_0x132e94,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x2cfe8b=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x2cfe8b['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x1*-0x71d+-0x1739+0x101c),this['_paused']=!(0x2102*-0x1+0xd6f*-0x1+0x19a*0x1d),this['frame']=0x193+0x1dc4+-0x1f57,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0x168c+-0x1954+0x2fe0),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x2595+-0x4*-0x85+0xa*0x38d),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0xab9+0x1984+-0x4ee*0x3),this['_paused']=!(-0x10b+-0xd3*0x1+0x1df),this['_time']=-0x1*-0x173f+-0x12c1+-0x47e,this['frame']=-0xa77*0x2+-0x169e+0x2b8c,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0x518cb9,_0x40f34b){super(_0x518cb9,_0x40f34b),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0x518cb9['defaultMat'+'erial'],this['_color']=new j(-0x1438+0x13cd*0x1+-0x24*-0x3,0x269a+0x13c3+-0x3a5c,-0xb3b*-0x2+0x1*-0x1a27+0x3b2,0x9c4+-0xac*0x13+0x301),this['_colorUnif'+'orm']=new Float32Array(-0xc7*0x1a+-0x1d1d+0x3156),this['_speed']=0x1*0xf12+0x175e+-0x266f,this['_flipX']=!(-0xb*-0x34b+0x2306+0x33d*-0x16),this['_flipY']=!(-0x741*0x1+-0x2342+0xaa1*0x4),this['_width']=0x217f+0x3*-0xcb8+0x4aa,this['_height']=-0xa32+0x23*0x47+0x7e*0x1,this['_drawOrder']=-0xff8*0x2+-0x3*-0x2ef+0x1723*0x1,this['_layers']=[Fi],this['_outerScal'+'e']=new $(0x162f+-0xca1+-0x98d,-0x21a*0x5+-0x55*0x25+0x16cc),this['_outerScal'+'eUniform']=new Float32Array(-0x1b86+-0x2306+-0x11*-0x3ae),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0x53*0x1+-0x1ee6+0x1f3d),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0x8a9*-0x1+0x2340+0x295*-0x11),this['_batchGrou'+'pId']=-(0xf92+0x2345+-0x32d6),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x40f34b['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x40f34b,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x1*-0x92b+0x227b+-0x1*0x2ba5),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x6*0x5ce+-0xe2d+0x2e2*0x11),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x528226){this['_type']!==_0x528226&&(this['_type']=_0x528226,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x5e3ad8){this['_currentCl'+'ip']['frame']=_0x5e3ad8;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x5ee53a){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x5ee53a;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x55fc60){this['_currentCl'+'ip']['sprite']=_0x55fc60;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x3ec9f7){this['_material']=_0x3ec9f7,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x3ec9f7);}get['material'](){return this['_material'];}set['color'](_0x105daf){this['_color']['r']=_0x105daf['r'],this['_color']['g']=_0x105daf['g'],this['_color']['b']=_0x105daf['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x24*0xe9+-0x953+-0x1771]=this['_color']['r'],this['_colorUnif'+'orm'][0x1*0x922+0x1312+-0x1c33*0x1]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1dfd*0x1+0xe0e+0xb*0x173]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x3f6c8d){this['_color']['a']=_0x3f6c8d,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x3f6c8d);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x1e17a0){if(!_0x1e17a0){for(const _0x214c35 in this['_clips'])this['removeClip'](_0x214c35);return;}for(const _0xf1e777 in this['_clips']){let _0x3d4b7a=!(0xb35+0xc5*-0x1+-0xa6f*0x1);for(const _0x4214a1 in _0x1e17a0)if(_0x1e17a0[_0x4214a1]['name']===_0xf1e777){_0x3d4b7a=!(-0x263+-0x5ba+-0x1f*-0x43),this['_clips'][_0xf1e777]['fps']=_0x1e17a0[_0x4214a1]['fps'],this['_clips'][_0xf1e777]['loop']=_0x1e17a0[_0x4214a1]['loop'],_0x1e17a0[_0x4214a1]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0xf1e777]['sprite']=_0x1e17a0[_0x4214a1]['sprite']:_0x1e17a0[_0x4214a1]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0xf1e777]['spriteAsse'+'t']=_0x1e17a0[_0x4214a1]['spriteAsse'+'t']);break;}_0x3d4b7a||this['removeClip'](_0xf1e777);}for(const _0x324ee1 in _0x1e17a0)this['_clips'][_0x1e17a0[_0x324ee1]['name']]||this['addClip'](_0x1e17a0[_0x324ee1]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x28b718){this['_speed']=_0x28b718;}get['speed'](){return this['_speed'];}set['flipX'](_0x1bc8d6){this['_flipX']!==_0x1bc8d6&&(this['_flipX']=_0x1bc8d6,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x13a34f){this['_flipY']!==_0x13a34f&&(this['_flipY']=_0x13a34f,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x360d73){_0x360d73!==this['_width']&&(this['_width']=_0x360d73,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x58412e){_0x58412e!==this['_height']&&(this['_height']=_0x58412e,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x2c96a9){var _0x5ccff5,_0x240751;if(this['_batchGrou'+'pId']===_0x2c96a9)return;const _0x3791c2=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x2c96a9,this['entity']['enabled']&&_0x3791c2>=0xc07+-0x11*0x1c6+-0x121f*-0x1&&((_0x5ccff5=this['system']['app']['batcher'])==null||_0x5ccff5['remove'](et['SPRITE'],_0x3791c2,this['entity'])),this['entity']['enabled']&&_0x2c96a9>=0x1117+0x1*-0xa7b+-0x69c?(_0x240751=this['system']['app']['batcher'])==null||_0x240751['insert'](et['SPRITE'],_0x2c96a9,this['entity']):_0x3791c2>=0x5a9*0x2+0xb64+-0x16b6&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x52bc53){this['_autoPlayC'+'lip']=_0x52bc53 instanceof bi?_0x52bc53['name']:_0x52bc53,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x469c1e){this['_drawOrder']=_0x469c1e,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x469c1e);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x599d4c){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x599d4c,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x28cf90;const _0x26fabb=this['system']['app'],_0x267bca=_0x26fabb['scene'],_0x273eda=_0x267bca['layers'];this['_evtLayers'+'Changed']=_0x267bca['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x273eda&&(this['_evtLayerA'+'dded']=_0x273eda['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x273eda['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0xcf1*0x3+-0x35*-0x5f+0x4ca*0x4&&((_0x28cf90=_0x26fabb['batcher'])==null||_0x28cf90['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x204755,_0x4d38aa,_0x5246cb,_0x3360d0;const _0x4b1c1f=this['system']['app'],_0xe458d5=_0x4b1c1f['scene']['layers'];(_0x204755=this['_evtLayers'+'Changed'])==null||_0x204755['off'](),this['_evtLayers'+'Changed']=null,_0xe458d5&&((_0x4d38aa=this['_evtLayerA'+'dded'])==null||_0x4d38aa['off'](),this['_evtLayerA'+'dded']=null,(_0x5246cb=this['_evtLayerR'+'emoved'])==null||_0x5246cb['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x2*0x22d+-0x107+0x561&&((_0x3360d0=_0x4b1c1f['batcher'])==null||_0x3360d0['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x3b31a1;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x1401f9 in this['_clips'])this['_clips'][_0x1401f9]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x3b31a1=this['_node'])==null||_0x3b31a1['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x7b5320=[this['_meshInsta'+'nce']];for(let _0x3af71d=-0x11*0x207+0x82a+0x1*0x1a4d,_0x4183cb=this['_layers']['length'];_0x3af71d<_0x4183cb;_0x3af71d++){const _0x1c779a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x3af71d]);_0x1c779a&&_0x1c779a['addMeshIns'+'tances'](_0x7b5320);}this['_addedMode'+'l']=!(0xed6*0x1+0x974+0x184a*-0x1);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x45c8=[this['_meshInsta'+'nce']];for(let _0x58e349=0x1d12+0x17*-0x164+0x2ea*0x1,_0x48bcbd=this['_layers']['length'];_0x58e349<_0x48bcbd;_0x58e349++){const _0x21e415=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x58e349]);_0x21e415&&_0x21e415['removeMesh'+'Instances'](_0x45c8);}this['_addedMode'+'l']=!(0x383*0xb+0xb*0x16e+-0x9*0x60a);}['_showFrame'](_0x4c59ba){if(!this['sprite'])return;const _0x59e589=this['sprite']['meshes'][_0x4c59ba];if(!_0x59e589){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0x1*0x1c26+0x3*-0x925+-0xb6));return;}let _0x52c601;if(this['sprite']['renderMode']===nt?_0x52c601=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x52c601=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x52c601=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0x59e589,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x1*0x1902+0x304+0x3*-0x957),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x2f*-0x1+-0x105e*0x1+-0xa3*-0x1a),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0x329*0x3+0x103f+-0x6c4*0x1]=this['_color']['r'],this['_colorUnif'+'orm'][-0xd27+-0x1ca1+0x29c9]=this['_color']['g'],this['_colorUnif'+'orm'][-0x7f4+-0x7da+-0x170*-0xb]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x52c601&&(this['_meshInsta'+'nce']['material']=_0x52c601),this['_meshInsta'+'nce']['mesh']!==_0x59e589&&(this['_meshInsta'+'nce']['mesh']=_0x59e589,this['_meshInsta'+'nce']['visible']=!(0x1*0x93c+-0x20*0xd7+0x11a4),this['_meshInsta'+'nce']['_aabbVer']=-(-0x7eb+0x6b*-0xb+0x1*0xc85)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x48740c=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x4c59ba]];if(_0x48740c){const _0x224fb4=(-0x24a*-0xa+0x64f+-0x3*0x9bb)/_0x48740c['rect']['z'],_0x49b387=(-0x9e8+0x2659*-0x1+0x3043*0x1)/_0x48740c['rect']['w'];this['_innerOffs'+'et']['set'](_0x48740c['border']['x']*_0x224fb4,_0x48740c['border']['y']*_0x49b387,_0x48740c['border']['z']*_0x224fb4,_0x48740c['border']['w']*_0x49b387);const _0x24ec4a=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x48740c['rect']['x']/_0x24ec4a['width'],_0x48740c['rect']['y']/_0x24ec4a['height'],_0x48740c['rect']['z']/_0x24ec4a['width'],_0x48740c['rect']['w']/_0x24ec4a['height']);}else this['_innerOffs'+'et']['set'](-0x1109+-0x1*0x1834+0x293d,-0x8c7+-0x83*0xb+-0x1*-0xe68,0x159b+-0x1965+-0x61*-0xa,-0xa9+0x10bd+0x24c*-0x7);this['_innerOffs'+'etUniform'][0xeb9+0xa3+-0xf5c]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x2*0xb3+-0x4*-0x388+-0xf85*0x1]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x2585+-0x1*0xc97+0x321e]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x1d7a+-0x146c*0x1+-0x1*-0x31e9]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0xbe*-0x2b+0x9c2+0xc*-0x379]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x1*-0x37a+-0x25+-0xe8*-0x4]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0xffd*-0x2+0x24c5*-0x1+0x4cd]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x10a8+-0x1*-0x75f+-0x1804]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x4a1712=this['flipX']?-(-0x1650+-0x2*0x90f+0x286f):-0x1634*-0x1+-0x1fe4+0x1*0x9b1,_0x1f00b2=this['flipY']?-(-0x1*-0x14e7+-0x1*-0xd6a+-0x2250):-0x6*-0x171+0x23bf+-0x2c64,_0x509ab8=0x1*-0x11a1+0x1*0xad9+0x6c8,_0x292849=0x233d+-0x1*-0x1967+-0x3ca4;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x39346c=-0xf09+-0x1510+0x241a,_0x145e2f=0x26eb+-0x2*-0x4b0+-0x7*0x6e6;if(this['sprite']['atlas']){const _0x5bade7=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x5bade7&&(_0x39346c=_0x5bade7['rect']['z'],_0x145e2f=_0x5bade7['rect']['w'],_0x509ab8=(-0x2*0x1ff+-0x56*-0x5d+-0x1b40+0.5-_0x5bade7['pivot']['x'])*this['_width'],_0x292849=(-0x2622+0x9*-0x1e6+0x3738+0.5-_0x5bade7['pivot']['y'])*this['_height']);}const _0x56a268=_0x39346c/this['sprite']['pixelsPerU'+'nit'],_0x1229a9=_0x145e2f/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x56a268),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x1229a9)),_0x4a1712*=_0x56a268,_0x1f00b2*=_0x1229a9,this['_outerScal'+'e']['x']/=_0x56a268,this['_outerScal'+'e']['y']/=_0x1229a9,_0x4a1712*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x56a268),0x1*0xabf+0xd*-0x89+-0x3ca+0.0001,-0x32c+-0x11e5+0x3a*0x5d),_0x1f00b2*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x1229a9),-0x1*-0xa25+-0x5d1*-0x5+-0x273a+0.0001,-0x187*-0x8+0x1*-0x14d2+0x1*0x89b),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x18fd*-0x1+-0x42e*-0x2+0x10a1]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1*0xef0+-0x1de7+0xef8]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x4a1712,_0x1f00b2,0x55*-0x33+-0xf5+-0x3*-0x5f7),this['_node']['setLocalPo'+'sition'](_0x509ab8,_0x292849,-0xf*-0xbb+0x359+-0xe4e);}['_updateAab'+'b'](_0x25a017){return _0x25a017['center']['set'](0x865*0x1+0x9*0x213+-0x8*0x362,-0x210d*0x1+-0x290*0xd+-0x97b*-0x7,-0x1*0x1374+-0x174a+0x1*0x2abe),_0x25a017['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x5e*-0x61+0x1*0x19ab+-0x1*0x3d49+0.5),this['_outerScal'+'e']['y']*(-0x5*-0x3fa+0xc*-0x218+0x1*0x53e+0.5),-0x1a26+-0xb70+0x2596*0x1+0.001),_0x25a017['setFromTra'+'nsformedAa'+'bb'](_0x25a017,this['_node']['getWorldTr'+'ansform']()),_0x25a017;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x1602e6=this['_clips'][this['_autoPlayC'+'lip']];_0x1602e6&&!_0x1602e6['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x1602e6['name']);}['_onLayersC'+'hanged'](_0x302053,_0x1c6c23){_0x302053['off']('add',this['onLayerAdd'+'ed'],this),_0x302053['off']('remove',this['onLayerRem'+'oved'],this),_0x1c6c23['on']('add',this['onLayerAdd'+'ed'],this),_0x1c6c23['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x5af275){this['layers']['indexOf'](_0x5af275['id'])<-0x203e*0x1+-0x1*-0xa7b+0x741*0x3||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x5af275['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x51b90a){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x51b90a['id'])<0x4a3*0x1+0x3ec*-0x4+0x3*0x3af||_0x51b90a['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x422b23=0x3a*-0x95+-0x5a5*0x5+0x3dfb;_0x422b23<this['layers']['length'];_0x422b23++){const _0x525d89=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x422b23]);_0x525d89&&_0x525d89['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x3eefdf){const _0x308495=new bi(this,{'name':_0x3eefdf['name'],'fps':_0x3eefdf['fps'],'loop':_0x3eefdf['loop'],'spriteAsset':_0x3eefdf['spriteAsse'+'t']});return this['_clips'][_0x3eefdf['name']]=_0x308495,_0x308495['name']&&_0x308495['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x308495;}['removeClip'](_0x2b8220){delete this['_clips'][_0x2b8220];}['clip'](_0x4ca7e2){return this['_clips'][_0x4ca7e2];}['play'](_0x5ac61b){const _0x2a2f9d=this['_clips'][_0x5ac61b],_0x5a65c5=this['_currentCl'+'ip'];return _0x5a65c5&&_0x5a65c5!==_0x2a2f9d&&(_0x5a65c5['_playing']=!(-0x2ea+0x25b+-0x2*-0x48)),this['_currentCl'+'ip']=_0x2a2f9d,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x2a2f9d,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x5ac61b+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x2a2f9d;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(0x1b74+0x1265+-0x2dd9);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x3742f3){super(_0x3742f3),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x56bed7){this['_defaultMa'+'terial']=_0x56bed7;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x2eff3b=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0x33a33c=new Uint8Array(_0x2eff3b['lock']());_0x33a33c[-0x1a7c+-0x4*-0x920+0x281*-0x4]=_0x33a33c[-0x25ab*0x1+0x1045+0x1567*0x1]=_0x33a33c[-0x1bb8+0x1d98+-0xef*0x2]=_0x33a33c[-0x1742+-0x130c*0x2+0x3d5d]=0xcf2+-0x5*-0x5d3+0x2*-0x1489,_0x2eff3b['unlock']();const _0x12cd0f=new cs();_0x12cd0f['diffuse']['set'](-0x4aa+0x3*0x9f6+-0x1938,-0x78d*-0x5+0x3f*0x8c+-0x4835,-0x7f+-0x2fa+0x379),_0x12cd0f['emissive']['set'](0x8eb+0x1*0x3a3+-0x9*0x165,-0x1093+0xc30+0x2*0x232,0x9f2+-0x16b2+0xcc1),_0x12cd0f['emissiveMa'+'p']=_0x2eff3b,_0x12cd0f['opacityMap']=_0x2eff3b,_0x12cd0f['opacityMap'+'Channel']='a',_0x12cd0f['useLightin'+'g']=!(0xf*0x285+0x1a66+-0x806*0x8),_0x12cd0f['useTonemap']=!(-0x2*0xac+-0x2656+0x27af),_0x12cd0f['useFog']=!(-0xe7c+-0x6d9*0x1+0x2*0xaab),_0x12cd0f['useSkybox']=!(0x1e22+-0x1*0x1cf9+-0x8*0x25),_0x12cd0f['blendType']=hr,_0x12cd0f['depthWrite']=!(-0x85a*0x1+-0x8d+-0x8e8*-0x1),_0x12cd0f['pixelSnap']=!(-0xc6d+-0x2*-0x7a7+-0x2e0),_0x12cd0f['cull']=mt,_0x12cd0f['update'](),this['_defaultTe'+'xture']=_0x2eff3b,this['_defaultMa'+'terial']=_0x12cd0f;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x1c7f87){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x1c7f87;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x5d6a73=this['defaultMat'+'erial']['clone']();_0x5d6a73['nineSliced'+'Mode']=nt,_0x5d6a73['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x5d6a73;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x4205c7){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x4205c7;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x3d619f=this['defaultMat'+'erial']['clone']();_0x3d619f['nineSliced'+'Mode']=Qe,_0x3d619f['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x3d619f;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x3e29f3,_0x19223b,_0x54afba){if(_0x19223b['enabled']!==void(0x47*-0x4e+-0x3*-0xb18+-0xba6)&&(_0x3e29f3['enabled']=_0x19223b['enabled']),_0x3e29f3['type']=_0x19223b['type'],_0x19223b['layers']&&Array['isArray'](_0x19223b['layers'])&&(_0x3e29f3['layers']=_0x19223b['layers']['slice'](-0x1877+-0x2b*-0x4+0x1*0x17cb)),_0x19223b['drawOrder']!==void(-0x2d7*0x9+-0x11bd*0x1+-0x15a6*-0x2)&&(_0x3e29f3['drawOrder']=_0x19223b['drawOrder']),_0x19223b['color']!==void(-0x1bf7+0x2eb+-0xe5*-0x1c)&&(_0x19223b['color']instanceof j?_0x3e29f3['color']['set'](_0x19223b['color']['r'],_0x19223b['color']['g'],_0x19223b['color']['b'],_0x19223b['opacity']??-0x1a03*-0x1+-0x1*-0x8c5+0x133*-0x1d):_0x3e29f3['color']['set'](_0x19223b['color'][-0x2*0x120d+0x22be+0x15c],_0x19223b['color'][0x1*0x52e+0x329*-0x3+0x44e],_0x19223b['color'][-0xa9*-0x9+-0xb83+0x594],_0x19223b['opacity']??-0xfc+-0x1671+-0x2*-0xbb7),_0x3e29f3['color']=_0x3e29f3['color']),_0x19223b['opacity']!==void(0xd9f*0x1+-0x2600+-0x1*-0x1861)&&(_0x3e29f3['opacity']=_0x19223b['opacity']),_0x19223b['flipX']!==void(-0x83a+-0xc*0x130+0x167a)&&(_0x3e29f3['flipX']=_0x19223b['flipX']),_0x19223b['flipY']!==void(0x1c4a*0x1+-0xcb8*0x2+-0xa*0x49)&&(_0x3e29f3['flipY']=_0x19223b['flipY']),_0x19223b['width']!==void(-0x181e*-0x1+0x4*0x8ac+0x1d67*-0x2)&&(_0x3e29f3['width']=_0x19223b['width']),_0x19223b['height']!==void(-0x24af+-0xdf9+0x32a8)&&(_0x3e29f3['height']=_0x19223b['height']),_0x19223b['spriteAsse'+'t']!==void(0x13a0+0x304*-0x2+-0xa*0x15c)&&(_0x3e29f3['spriteAsse'+'t']=_0x19223b['spriteAsse'+'t']),_0x19223b['sprite']&&(_0x3e29f3['sprite']=_0x19223b['sprite']),_0x19223b['frame']!==void(0x9*-0x89+0x2589*-0x1+0x70f*0x6)&&(_0x3e29f3['frame']=_0x19223b['frame']),_0x19223b['clips']){for(const _0xd9c956 in _0x19223b['clips'])_0x3e29f3['addClip'](_0x19223b['clips'][_0xd9c956]);}_0x19223b['speed']!==void(0x11*0x8b+0x41*-0x13+-0x468)&&(_0x3e29f3['speed']=_0x19223b['speed']),_0x19223b['autoPlayCl'+'ip']&&(_0x3e29f3['autoPlayCl'+'ip']=_0x19223b['autoPlayCl'+'ip']),_0x3e29f3['batchGroup'+'Id']=_0x19223b['batchGroup'+'Id']===void(0x212f+0x25eb+0x26*-0x1df)||_0x19223b['batchGroup'+'Id']===null?-(0x2271+-0x2*-0x598+-0x2da0):_0x19223b['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x3e29f3,_0x19223b,_0x54afba);}['cloneCompo'+'nent'](_0x4aa18d,_0x4a1420){const _0x3417c6=_0x4aa18d['sprite'];return this['addCompone'+'nt'](_0x4a1420,{'enabled':_0x3417c6['enabled'],'type':_0x3417c6['type'],'spriteAsset':_0x3417c6['spriteAsse'+'t'],'sprite':_0x3417c6['sprite'],'width':_0x3417c6['width'],'height':_0x3417c6['height'],'frame':_0x3417c6['frame'],'color':_0x3417c6['color']['clone'](),'opacity':_0x3417c6['opacity'],'flipX':_0x3417c6['flipX'],'flipY':_0x3417c6['flipY'],'speed':_0x3417c6['speed'],'clips':_0x3417c6['clips'],'autoPlayClip':_0x3417c6['autoPlayCl'+'ip'],'batchGroupId':_0x3417c6['batchGroup'+'Id'],'drawOrder':_0x3417c6['drawOrder'],'layers':_0x3417c6['layers']['slice'](0x107*-0xa+-0x1814+0x225a)});}['onUpdate'](_0x553ef7){const _0x5d81d5=this['store'];for(const _0x41e837 in _0x5d81d5)if(_0x5d81d5['hasOwnProp'+'erty'](_0x41e837)){const _0x406b0b=_0x5d81d5[_0x41e837];if(_0x406b0b['data']['enabled']&&_0x406b0b['entity']['enabled']){const _0x34c02f=_0x406b0b['entity']['sprite'];_0x34c02f['_currentCl'+'ip']&&_0x34c02f['_currentCl'+'ip']['_update'](_0x553ef7);}}}['onBeforeRe'+'move'](_0x2b92e8,_0x27a29f){_0x27a29f['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x1e2b40,_0x238a00){super(_0x1e2b40,_0x238a00),this['_oldState']=!(0x15a2+0x61*-0xb+-0x1177),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x40a37f){_0x40a37f instanceof T?this['_size']['copy'](_0x40a37f):_0x40a37f instanceof Array&&_0x40a37f['length']>=-0x18fd+-0x1*0x2379+0x1*0x3c79&&this['size']['set'](_0x40a37f[-0x78*0x3+-0x3*-0x8e9+-0x1953],_0x40a37f[-0x67e+-0x11+0x690],_0x40a37f[-0x17f4+-0x2602+0x3df8]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x4c3c0c,_0x75b756,_0x33b11d){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x4ad997=this['enabled']&&this['entity']['enabled'];_0x4ad997!==this['_oldState']&&(this['_oldState']=_0x4ad997,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(0x10*0xdc+-0x219d+0x13dd);}}const vx=['enabled'];class $I extends Xe{constructor(_0x223410){super(_0x223410),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x5c28b2,_0x5119f2,_0x4a9e31){_0x5c28b2['enabled']=_0x5119f2['hasOwnProp'+'erty']('enabled')?!!_0x5119f2['enabled']:!(0x1307+0x3f1+-0x16f8),_0x5119f2['size']&&(_0x5119f2['size']instanceof T?_0x5c28b2['size']['copy'](_0x5119f2['size']):_0x5119f2['size']instanceof Array&&_0x5119f2['size']['length']>=0xc48+0x1f*0x27+-0x1e*0x91&&_0x5c28b2['size']['set'](_0x5119f2['size'][0x266c+-0x49d+-0x241*0xf],_0x5119f2['size'][-0x125d*0x2+-0x18c9+0x1fc*0x1f],_0x5119f2['size'][0x4*0x36e+0xc3*0x1b+-0x75*0x4b]));}['cloneCompo'+'nent'](_0x544202,_0xc3469){const _0x50bf48={'enabled':_0x544202['zone']['enabled'],'size':_0x544202['zone']['size']};return this['addCompone'+'nt'](_0xc3469,_0x50bf48);}['_onBeforeR'+'emove'](_0x1c8656,_0x21b351){_0x21b351['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class WI{constructor(_0x10e9a6,_0x31a77f){this['effect']=_0x10e9a6,this['inputTarge'+'t']=_0x31a77f,this['outputTarg'+'et']=null,this['name']=_0x10e9a6['constructo'+'r']['name'];}}class qI{constructor(_0x3268ec,_0x87a5eb){this['app']=_0x3268ec,this['camera']=_0x87a5eb,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x189*0x1+0xba9*-0x1+-0x1*-0xa21),this['depthTarge'+'t']=null,_0x87a5eb['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x5268f5,_0x5b798e){const _0x337142=this['camera']['rect'],_0x48e695=this['destinatio'+'nRenderTar'+'get'],_0x3296e7=this['app']['graphicsDe'+'vice'],_0x29f068=Math['floor'](_0x337142['z']*((_0x48e695==null?void(-0x59a*-0x3+0xcf*-0x3+-0xe61):_0x48e695['width'])??_0x3296e7['width'])),_0x2b7003=Math['floor'](_0x337142['w']*((_0x48e695==null?void(-0x325*-0x6+-0x1cd*0x13+0xf59*0x1):_0x48e695['height'])??_0x3296e7['height']));return new he(_0x3296e7,{'name':_0x5b798e,'format':_0x5268f5,'width':_0x29f068,'height':_0x2b7003,'mipmaps':!(0xf45+-0x1a5*0x2+0xbfa*-0x1),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0x2148ad,_0x1b49be){const _0x4b8483=this['app']['graphicsDe'+'vice'],_0xc408d1=(this['destinatio'+'nRenderTar'+'get']??_0x4b8483['backBuffer'])['isColorBuf'+'ferSrgb'](0x2431+0x21a*0x1+-0x264b*0x1),_0x2b4448=(_0x1b49be&&_0x4b8483['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(0x4a+0x1181*-0x1+-0x153*-0xd)))??(_0xc408d1?rs:Se),_0x573a03=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x3a1e85=this['_allocateC'+'olorBuffer'](_0x2b4448,_0x573a03);return new pt({'colorBuffer':_0x3a1e85,'depth':_0x2148ad,'stencil':_0x2148ad&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x2148ad?_0x4b8483['samples']:0x20e9+0x1ab9+0x5*-0xbed});}['_resizeOff'+'screenTarg'+'et'](_0x20e97a){const _0x3f05a3=_0x20e97a['colorBuffe'+'r']['format'],_0x1059ec=_0x20e97a['colorBuffe'+'r']['name'];_0x20e97a['destroyFra'+'meBuffers'](),_0x20e97a['destroyTex'+'tureBuffer'+'s'](),_0x20e97a['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x3f05a3,_0x1059ec),_0x20e97a['_colorBuff'+'ers']=[_0x20e97a['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x41a51f){_0x41a51f['destroyTex'+'tureBuffer'+'s'](),_0x41a51f['destroy']();}['addEffect'](_0x20a706){const _0xfb6e44=this['effects'],_0x467467=_0xfb6e44['length']===0x11eb+-0x920*-0x2+-0x242b,_0x100861=this['_createOff'+'screenTarg'+'et'](_0x467467,_0x20a706['hdr']),_0x540fe9=new WI(_0x20a706,_0x100861);_0xfb6e44['push'](_0x540fe9),this['_sourceTar'+'get']=_0x540fe9['inputTarge'+'t'],_0xfb6e44['length']>-0x2037+-0x2*0x886+0x3144&&(_0xfb6e44[_0xfb6e44['length']-(0x139*0x5+0x1d*0x125+-0x274c)]['outputTarg'+'et']=_0x540fe9['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x20a706,_0x20a706['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x16b8+-0x128b*-0x1+0x1*0x42d);}['removeEffe'+'ct'](_0x27fb18){let _0xe7ea=-(0x1a9b+0x23cf+-0x3e69);for(let _0x1bc930=-0x2489+-0x2*0x509+0x29*0x123,_0x932f7d=this['effects']['length'];_0x1bc930<_0x932f7d;_0x1bc930++)if(this['effects'][_0x1bc930]['effect']===_0x27fb18){_0xe7ea=_0x1bc930;break;}_0xe7ea>=0x16*0x12+0x1df7+-0x1f83&&(_0xe7ea>-0x1bb4+0x795*0x1+0x65*0x33?this['effects'][_0xe7ea-(0x1*0x11d7+0xc2a+-0x1e00)]['outputTarg'+'et']=_0xe7ea+(-0x1*-0x1a2+-0x1417*-0x1+-0x15b8)<this['effects']['length']?this['effects'][_0xe7ea+(-0x6cf+0x746+-0x76)]['inputTarge'+'t']:null:this['effects']['length']>0x910+0x1dc7+-0x679*0x6&&(this['effects'][-0x15a4*-0x1+-0x36*-0x7+-0x171d]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][-0x12d9*0x2+0x16f9*0x1+0xeba]['inputTarge'+'t']),this['effects'][-0x155a+-0xfe5+0x2540]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x1fa8+0xc*0x102+-0x23*0x140),this['effects'][0x2479+0x187e+-0x3cf6*0x1]['hdr']),this['_sourceTar'+'get']=this['effects'][0x2095+0x3*-0x96d+-0x44d]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x68d*-0x4+-0x13*0x1be+-0x13*-0x5d]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0xe7ea]['inputTarge'+'t']),this['effects']['splice'](_0xe7ea,0x11b9+-0x1*0x21f8+0x1040)),this['enabled']&&_0x27fb18['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x1b98+0x5*-0x1a5+-0xad*-0x35&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x218e00=-0xbaf+-0x2597+0x3146,_0x4237de=this['effects']['length'];_0x218e00<_0x4237de;_0x218e00++){const _0x541216=this['effects'][_0x218e00]['effect'];this['_newPostEf'+'fect']!==_0x541216&&_0x541216['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x4ad0a1=-0x2650+0x1db3*0x1+0x89d,_0x4a9d02=this['effects']['length'];_0x4ad0a1<_0x4a9d02;_0x4ad0a1++)this['effects'][_0x4ad0a1]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x3f634c=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x3f634c&&(_0x3f634c['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x1b99+0x1410+0x789)));}['_releaseDe'+'pthMap'](){const _0xcc3139=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0xcc3139&&(_0xcc3139['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x6a1+-0xd00+0x13a2)));}['destroy'](){for(let _0x495fe8=-0x57e+0x1*0x1051+-0xad3,_0x2cf8d0=this['effects']['length'];_0x495fe8<_0x2cf8d0;_0x495fe8++)this['effects'][_0x495fe8]['inputTarge'+'t']['destroy']();this['effects']['length']=0xd8c+-0x10aa*0x2+0x13c8,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x12b+-0x2*-0x99d+-0x1465*0x1),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x4*0x2f6+-0x18df*-0x1+0x1d*-0x73]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x15fa12=null;const _0x2ac37d=this['effects']['length'];if(_0x2ac37d)for(let _0x416159=0x1c7*0x11+0x1*-0xc33+0x1*-0x1204;_0x416159<_0x2ac37d;_0x416159++){const _0x1725fd=this['effects'][_0x416159];let _0xc75915=_0x1725fd['outputTarg'+'et'];_0x416159===_0x2ac37d-(0x61e+-0xe43+0x826)&&(_0x15fa12=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0xc75915=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x1725fd['name']),_0x1725fd['effect']['render'](_0x1725fd['inputTarge'+'t'],_0xc75915,_0x15fa12),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0x7e+0x78*0xb+-0x5*0x121),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x454847,_0x4397e5){const _0x2cee13=this['camera']['rect'],_0x149801=this['destinatio'+'nRenderTar'+'get'];_0x454847=(_0x149801==null?void(-0x16b+0x122f+-0x10c4):_0x149801['width'])??_0x454847,_0x4397e5=(_0x149801==null?void(0x3*0x93b+-0x12*0x79+-0x132f*0x1):_0x149801['height'])??_0x4397e5,this['camera']['camera']['aspectRati'+'o']=_0x454847*_0x2cee13['z']/(_0x4397e5*_0x2cee13['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x1d0315=this['app']['graphicsDe'+'vice'],_0x57ce08=this['destinatio'+'nRenderTar'+'get'],_0x4e33d9=(_0x57ce08==null?void(-0x1*-0x7c0+-0x11*-0x1e3+-0x27d3):_0x57ce08['width'])??_0x1d0315['width'],_0x591cc2=(_0x57ce08==null?void(0x190*0x11+0x245+-0x1cd5):_0x57ce08['height'])??_0x1d0315['height'],_0x1cf256=this['camera']['rect'],_0x94369f=Math['floor'](_0x1cf256['z']*_0x4e33d9),_0x103a40=Math['floor'](_0x1cf256['w']*_0x591cc2),_0xeae7ea=this['effects'];for(let _0x4bb503=-0x1*-0x1c4b+-0xf1a+-0xb*0x133,_0x18d93e=_0xeae7ea['length'];_0x4bb503<_0x18d93e;_0x4bb503++){const _0x2d9035=_0xeae7ea[_0x4bb503];(_0x2d9035['inputTarge'+'t']['width']!==_0x94369f||_0x2d9035['inputTarge'+'t']['height']!==_0x103a40)&&this['_resizeOff'+'screenTarg'+'et'](_0x2d9035['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x7cfe7f,_0x1bab93,_0x473b96){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0xebbcce,_0x1a90f5){super(_0xebbcce,_0x1a90f5),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',0x1*-0x21a9+0x5f*-0x27+0x3022),c(this,'_renderSce'+'neColorMap',0x19fd+0x1dc0+-0x2ef*0x13),c(this,'_sceneDept'+'hMapReques'+'ted',!(-0x2546+0x1*-0x1bcd+0x4114)),c(this,'_sceneColo'+'rMapReques'+'ted',!(-0x147a+0x1b35+-0x6ba)),c(this,'_priority',0x2*-0x104f+-0x1029+-0x1*-0x30c7),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x1a90f5,this['_postEffec'+'ts']=new qI(_0xebbcce['app'],this));}['setShaderP'+'ass'](_0x5565ed){const _0x97f272=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x28b3a8=_0x5565ed?_0x97f272['allocate'](_0x5565ed,{'isForward':!(0x241c+-0xe47+-0x45*0x51)}):null;return this['_camera']['shaderPass'+'Info']=_0x28b3a8,_0x28b3a8['index'];}['getShaderP'+'ass'](){var _0x4990e2;return(_0x4990e2=this['_camera']['shaderPass'+'Info'])==null?void(-0x1ee9*-0x1+-0xb62+-0x1387):_0x4990e2['name'];}set['renderPass'+'es'](_0x4e9af3){this['_camera']['renderPass'+'es']=_0x4e9af3||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0x68*-0x2e+0x2*-0x1fd+-0xeb6);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x125e69){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x125e69;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x2d204a){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x2d204a;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x3eae71){this['_camera']['fogParams']=_0x3eae71;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x3b59ca){this['_camera']['aperture']=_0x3b59ca;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x4e2612){this['_camera']['aspectRati'+'o']=_0x4e2612;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x15feb5){this['_camera']['aspectRati'+'oMode']=_0x15feb5;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x37f8b9){this['_camera']['calculateP'+'rojection']=_0x37f8b9;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x30f1ee){this['_camera']['calculateT'+'ransform']=_0x30f1ee;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x263c10){this['_camera']['clearColor']=_0x263c10;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x34a9cd){this['_camera']['clearColor'+'Buffer']=_0x34a9cd,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0xc640c3){this['_camera']['clearDepth'+'Buffer']=_0xc640c3,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x2e3f71){this['_camera']['clearStenc'+'ilBuffer']=_0x2e3f71,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x107b53){this['_camera']['cullFaces']=_0x107b53;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x34950e){this['_disablePo'+'stEffectsL'+'ayer']=_0x34950e,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0xa367fa){this['_camera']['farClip']=_0xa367fa;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x15e689){this['_camera']['flipFaces']=_0x15e689;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x2d6894){this['_camera']['fov']=_0x2d6894;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x5c15c1){this['_camera']['frustumCul'+'ling']=_0x5c15c1;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x21f087){this['_camera']['horizontal'+'Fov']=_0x21f087;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x2cb811){const _0x587363=this['_camera']['layers'],_0xece095=this['system']['app']['scene'];_0x587363['forEach'](_0x435e5c=>{const _0x4fa5ce=_0xece095['layers']['getLayerBy'+'Id'](_0x435e5c);_0x4fa5ce==null||_0x4fa5ce['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x2cb811,this['enabled']&&this['entity']['enabled']&&_0x2cb811['forEach'](_0x4297d8=>{const _0x3edf92=_0xece095['layers']['getLayerBy'+'Id'](_0x4297d8);_0x3edf92==null||_0x3edf92['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x3f3a2c){this['_camera']['jitter']=_0x3f3a2c;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x18f287){this['_camera']['nearClip']=_0x18f287;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x8b400f){this['_camera']['orthoHeigh'+'t']=_0x8b400f;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x1ea452){this['_priority']=_0x1ea452,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x326bca){this['_camera']['projection']=_0x326bca;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x5980e8){this['_camera']['rect']=_0x5980e8,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x55aa3b){_0x55aa3b&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x2*-0xf97+-0x108f+0x2fbd)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x184b+0x721+0x112a)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x18e6+0x7cc+-0x20b1)),this['_sceneColo'+'rMapReques'+'ted']=!(0xe6c+0x4b0+0x131b*-0x1));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x1141+0x3ef*0x4+-0x20fd;}set['renderScen'+'eDepthMap'](_0x22f1a5){_0x22f1a5&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x1520+0x17*0xdf+0x29*-0x101)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x825+-0xb*0x3b+0xaae)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x4*-0x73+-0x12da+0x110f)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x23*0xa4+0xd02+0x96b));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>-0xb*-0x289+-0x1bdd+-0x3*0x2;}set['renderTarg'+'et'](_0x106b53){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x40c*0x2+-0x19b0*0x1+-0x1198*-0x1&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x106b53,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x40f349){this['_camera']['scissorRec'+'t']=_0x40f349;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x1bbd30){this['_camera']['sensitivit'+'y']=_0x1bbd30;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x500e73){this['_camera']['shutter']=_0x500e73;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x7bb91c){if(this['layers']['find'](_0x34ecf3=>_0x34ecf3===Xt)){const _0x44a8f5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x7bb91c?_0x44a8f5==null||_0x44a8f5['incrementC'+'ounter']():_0x44a8f5==null||_0x44a8f5['decrementC'+'ounter']();}else{if(_0x7bb91c)return!(-0x19b5*-0x1+-0x236e+0x9ba);}return!(0x16ad+0x3*-0xad9+-0x34a*-0x3);}['requestSce'+'neColorMap'](_0x562039){this['_renderSce'+'neColorMap']+=_0x562039?-0x2*-0xb7e+-0xa28+0xcd3*-0x1:-(0x1878+-0x45*-0x63+-0x3326),v['assert'](this['_renderSce'+'neColorMap']>=-0x12ee+0x1*-0x1d5+0x5*0x427),this['_enableDep'+'thLayer'](_0x562039)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x155c5f){this['_renderSce'+'neDepthMap']+=_0x155c5f?-0x1bca*0x1+0x2f2+0x18d9:-(0x22d9+-0x874+-0x1a64),v['assert'](this['_renderSce'+'neDepthMap']>=0x3*0x275+0x2*0xf2c+-0x25b7),this['_enableDep'+'thLayer'](_0x155c5f)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x30839b=this['system']['app']['scene']['layers'];_0x30839b['_dirty']=!(0x18a5+-0x1856+0x4f*-0x1);}['screenToWo'+'rld'](_0x4dae4e,_0x4c6c7d,_0xaffe9a,_0x1e960b){const _0x16a50e=this['system']['app']['graphicsDe'+'vice'],{width:_0x443c29,height:_0x54911d}=_0x16a50e['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x4dae4e,_0x4c6c7d,_0xaffe9a,_0x443c29,_0x54911d,_0x1e960b);}['worldToScr'+'een'](_0x2761f1,_0x2672bd){const _0xf5d885=this['system']['app']['graphicsDe'+'vice'],{width:_0x39fbd2,height:_0x304fe4}=_0xf5d885['clientRect'];return this['_camera']['worldToScr'+'een'](_0x2761f1,_0x39fbd2,_0x304fe4,_0x2672bd);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x43*-0x7a+-0x2*-0x49+-0x2080),this['_camera']['_viewProjM'+'atDirty']=!(0x2360+0x83f+0xd*-0x35b);}['addCameraT'+'oLayers'](){const _0x3aed7b=this['layers'];for(let _0x31f4b8=0xfff+0x139+-0x44e*0x4;_0x31f4b8<_0x3aed7b['length'];_0x31f4b8++){const _0x3c7903=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3aed7b[_0x31f4b8]);_0x3c7903&&_0x3c7903['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x5ba45d=this['layers'];for(let _0x1adf5c=-0x17*-0x137+-0x70f*0x2+-0xdd3;_0x1adf5c<_0x5ba45d['length'];_0x1adf5c++){const _0x13336a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5ba45d[_0x1adf5c]);_0x13336a&&_0x13336a['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x402925,_0x35b31a){this['addCameraT'+'oLayers'](),_0x402925['off']('add',this['onLayerAdd'+'ed'],this),_0x402925['off']('remove',this['onLayerRem'+'oved'],this),_0x35b31a['on']('add',this['onLayerAdd'+'ed'],this),_0x35b31a['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x47b393){this['layers']['indexOf'](_0x47b393['id'])<-0x1a75+0x1*-0xf4d+-0xa*-0x42d||_0x47b393['addCamera'](this);}['onLayerRem'+'oved'](_0x3c2972){this['layers']['indexOf'](_0x3c2972['id'])<-0x1d04+0x10f0+0xc14||_0x3c2972['removeCame'+'ra'](this);}['onEnable'](){var _0x13584f,_0x4cd734,_0x32515a;const _0x245c47=this['system']['app']['scene'],_0x3b5a8a=_0x245c47['layers'];this['system']['addCamera'](this),(_0x13584f=this['_evtLayers'+'Changed'])==null||_0x13584f['off'](),this['_evtLayers'+'Changed']=_0x245c47['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3b5a8a&&((_0x4cd734=this['_evtLayerA'+'dded'])==null||_0x4cd734['off'](),this['_evtLayerA'+'dded']=_0x3b5a8a['on']('add',this['onLayerAdd'+'ed'],this),(_0x32515a=this['_evtLayerR'+'emoved'])==null||_0x32515a['off'](),this['_evtLayerR'+'emoved']=_0x3b5a8a['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x4636f1,_0x560cc3,_0x30a80c;const _0x5a825b=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x4636f1=this['_evtLayers'+'Changed'])==null||_0x4636f1['off'](),this['_evtLayers'+'Changed']=null,_0x5a825b&&((_0x560cc3=this['_evtLayerA'+'dded'])==null||_0x560cc3['off'](),this['_evtLayerA'+'dded']=null,(_0x30a80c=this['_evtLayerR'+'emoved'])==null||_0x30a80c['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x32cc38){const _0x45c7f8=this['system']['app']['graphicsDe'+'vice'],_0xe2a5b7=_0x32cc38?_0x32cc38['width']:_0x45c7f8['width'],_0x48f395=_0x32cc38?_0x32cc38['height']:_0x45c7f8['height'];return _0xe2a5b7*this['rect']['z']/(_0x48f395*this['rect']['w']);}['frameUpdat'+'e'](_0x5a457c){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x5a457c));}['startXr'](_0x5ce71b,_0x1d9e12,_0xdc1fd2){this['system']['app']['xr']['start'](this,_0x5ce71b,_0x1d9e12,_0xdc1fd2);}['endXr'](_0x561c6b){if(!this['_camera']['xr']){_0x561c6b&&_0x561c6b(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x561c6b);}['copy'](_0x5844b8){this['aperture']=_0x5844b8['aperture'],this['aspectRati'+'o']=_0x5844b8['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x5844b8['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x5844b8['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x5844b8['calculateT'+'ransform'],this['clearColor']=_0x5844b8['clearColor'],this['clearColor'+'Buffer']=_0x5844b8['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x5844b8['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x5844b8['clearStenc'+'ilBuffer'],this['cullFaces']=_0x5844b8['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x5844b8['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x5844b8['farClip'],this['flipFaces']=_0x5844b8['flipFaces'],this['fov']=_0x5844b8['fov'],this['frustumCul'+'ling']=_0x5844b8['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x5844b8['horizontal'+'Fov'],this['layers']=_0x5844b8['layers'],this['nearClip']=_0x5844b8['nearClip'],this['orthoHeigh'+'t']=_0x5844b8['orthoHeigh'+'t'],this['priority']=_0x5844b8['priority'],this['projection']=_0x5844b8['projection'],this['rect']=_0x5844b8['rect'],this['renderTarg'+'et']=_0x5844b8['renderTarg'+'et'],this['scissorRec'+'t']=_0x5844b8['scissorRec'+'t'],this['sensitivit'+'y']=_0x5844b8['sensitivit'+'y'],this['shutter']=_0x5844b8['shutter'];}}class XI{constructor(){this['enabled']=!(-0x7b0+0x1*0x2555+-0x1*0x1da5);}}const wx=['enabled'];class jI extends Xe{constructor(_0x309b09){super(_0x309b09),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x27bbbb,_0x50dabc,_0x50a243){_0x50a243=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0xd498fd=-0x1*-0x17eb+0x2*0xc70+0x30cb*-0x1;_0xd498fd<_0x50a243['length'];_0xd498fd++){const _0x28cd20=_0x50a243[_0xd498fd];if(_0x50dabc['hasOwnProp'+'erty'](_0x28cd20)){const _0x11a834=_0x50dabc[_0x28cd20];switch(_0x28cd20){case'rect':case'scissorRec'+'t':Array['isArray'](_0x11a834)?_0x27bbbb[_0x28cd20]=new Q(_0x11a834[-0x12bf*0x1+0x8*-0x41f+0x1*0x33b7],_0x11a834[-0x25e7+-0x3f*-0x61+0xe09],_0x11a834[-0x2*0x897+-0x10ef+0x221f],_0x11a834[0x2411*-0x1+-0x674+0x2a88]):_0x27bbbb[_0x28cd20]=_0x11a834;break;case'clearColor':Array['isArray'](_0x11a834)?_0x27bbbb[_0x28cd20]=new j(_0x11a834[0xea5+-0x927+-0x57e],_0x11a834[-0x541*0x6+-0x1*-0xe2c+0x115b*0x1],_0x11a834[0x1eb5*-0x1+0x480+0x1a37],_0x11a834[-0x1*-0x898+-0x4*0x529+0x7*0x1b9]):_0x27bbbb[_0x28cd20]=_0x11a834;break;default:_0x27bbbb[_0x28cd20]=_0x11a834;break;}}}super['initialize'+'ComponentD'+'ata'](_0x27bbbb,_0x50dabc,['enabled']);}['cloneCompo'+'nent'](_0x5f38e8,_0x4ade64){const _0x4b10e7=_0x5f38e8['camera'];return this['addCompone'+'nt'](_0x4ade64,{'aspectRatio':_0x4b10e7['aspectRati'+'o'],'aspectRatioMode':_0x4b10e7['aspectRati'+'oMode'],'calculateProjection':_0x4b10e7['calculateP'+'rojection'],'calculateTransform':_0x4b10e7['calculateT'+'ransform'],'clearColor':_0x4b10e7['clearColor'],'clearColorBuffer':_0x4b10e7['clearColor'+'Buffer'],'clearDepthBuffer':_0x4b10e7['clearDepth'+'Buffer'],'clearStencilBuffer':_0x4b10e7['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x4b10e7['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x4b10e7['renderScen'+'eColorMap'],'cullFaces':_0x4b10e7['cullFaces'],'enabled':_0x4b10e7['enabled'],'farClip':_0x4b10e7['farClip'],'flipFaces':_0x4b10e7['flipFaces'],'fov':_0x4b10e7['fov'],'frustumCulling':_0x4b10e7['frustumCul'+'ling'],'horizontalFov':_0x4b10e7['horizontal'+'Fov'],'layers':_0x4b10e7['layers'],'renderTarget':_0x4b10e7['renderTarg'+'et'],'nearClip':_0x4b10e7['nearClip'],'orthoHeight':_0x4b10e7['orthoHeigh'+'t'],'projection':_0x4b10e7['projection'],'priority':_0x4b10e7['priority'],'rect':_0x4b10e7['rect'],'scissorRect':_0x4b10e7['scissorRec'+'t'],'aperture':_0x4b10e7['aperture'],'sensitivity':_0x4b10e7['sensitivit'+'y'],'shutter':_0x4b10e7['shutter'],'gammaCorrection':_0x4b10e7['gammaCorre'+'ction'],'toneMapping':_0x4b10e7['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x1cd033,_0x34f61e){this['removeCame'+'ra'](_0x34f61e),_0x34f61e['onRemove']();}['onAppPrere'+'nder'](){for(let _0x45e251=-0x1ff*-0x2+0xa6+-0x4a4*0x1,_0x178b4e=this['cameras']['length'];_0x45e251<_0x178b4e;_0x45e251++)this['cameras'][_0x45e251]['onAppPrere'+'nder']();}['addCamera'](_0x986382){this['cameras']['push'](_0x986382),No(this['cameras']);}['removeCame'+'ra'](_0x4a440){const _0x4ac59f=this['cameras']['indexOf'](_0x4a440);_0x4ac59f>=0x13fe*-0x1+0xc6d+0x791&&(this['cameras']['splice'](_0x4ac59f,0x151*0x17+0x241+-0x2087),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(0x170*0x5+-0x3*0xa21+0x1733)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new j(-0x257c+-0xa8d*-0x1+-0x1af0*-0x1,0x15e6+0x1b78+-0x315d,-0x12b6+0x1c*-0x9f+-0x241b*-0x1)),c(this,'intensity',0xa92+0x1*0x1bcd+-0x265e*0x1),c(this,'luminance',-0x179b+-0x89*0x31+0x31d4),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(0x2c*-0x9b+0x14f8+0x5ac)),c(this,'castShadow'+'s',!(-0x210+0x1*-0x119f+0x1a4*0xc)),c(this,'shadowDist'+'ance',-0x1934*0x1+0x1*-0x571+-0x1ecd*-0x1),c(this,'shadowInte'+'nsity',-0x4*-0x877+-0x1705+-0xad6),c(this,'shadowReso'+'lution',0x606*-0x1+-0x2*-0x1bb+0xe*0x78),c(this,'shadowBias',0x119a+-0x233e+-0x1*-0x11a4+0.05),c(this,'numCascade'+'s',-0x113f*-0x2+-0x1530*0x1+-0x46f*0x3),c(this,'cascadeBle'+'nd',0xfd1+0x155f+-0x2530),c(this,'bakeNumSam'+'ples',0x3ab*0x1+0x5b7+-0x961),c(this,'bakeArea',0x29*-0x13+-0x4d5*-0x2+-0x69f),c(this,'cascadeDis'+'tribution',0x1bf2+-0x135d*0x1+-0x895+0.5),c(this,'normalOffs'+'etBias',-0x1312+0x263d+-0x132b),c(this,'range',0x1*-0x258f+0x2380+0x219),c(this,'innerConeA'+'ngle',-0xc94+0x12ed+-0x631),c(this,'outerConeA'+'ngle',0x1495*-0x1+0x1*0x208c+-0xbca),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Lt),c(this,'vsmBlurSiz'+'e',0xbb6*-0x2+0x1b30+-0x3b9),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(-0x29f*-0x4+0x2*-0xa49+-0x2*-0x50b+0.01)*(-0x1204+0xc2+0x1142+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',0xa*-0x83+-0xd*-0xdd+-0x61a),c(this,'cookieFall'+'off',!(-0x12d9+0x1177+0x162)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',-0x2*0x133+-0xfcf*-0x2+0x16*-0x154),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',0x77*-0x1+-0x3e*-0xc+-0x270),c(this,'affectDyna'+'mic',!(-0x6*0x3d+0x1*-0xf1+0x25f)),c(this,'affectLigh'+'tmapped',!(0x10e2+0x2204+0x65*-0x81)),c(this,'bake',!(-0x9*-0x317+0x2*0x2cc+-0x2166)),c(this,'bakeDir',!(0xd6e+0x111d*0x2+-0x2fa8)),c(this,'isStatic',!(-0x1cfb+-0x270*-0xd+-0x2b4)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',0x583*0x6+0x1d7+-0x22e8),c(this,'penumbraFa'+'lloff',0xca*0x26+-0x6*0x17b+-0xb*0x1eb),c(this,'shadowSamp'+'les',0x733+0x10f5+-0x1818),c(this,'shadowBloc'+'kerSamples',-0x2*-0x8b4+0x1*0x2102+0x192d*-0x2);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(0x4*-0x42d+-0x1ab3*-0x1+-0x1*0x9fe)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x2c204e=this['system']['store'][this['entity']['getGuid']()];return _0x2c204e?_0x2c204e['data']:null;}set['enabled'](_0x2c0712){this['_setValue']('enabled',_0x2c0712,function(_0x394bdf,_0x99339b){this['onSetEnabl'+'ed'](null,_0x99339b,_0x394bdf);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x2d0e48){this['_setValue']('light',_0x2d0e48);}get['light'](){return this['data']['light'];}set['type'](_0x34ba6e){this['_setValue']('type',_0x34ba6e,function(_0x31bb66,_0x4eb51d){this['system']['changeType'](this,_0x4eb51d,_0x31bb66),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x2cc817){this['_setValue']('color',_0x2cc817,function(_0x4386cd,_0x3e86df){this['light']['setColor'](_0x4386cd);},!(0x107*0xb+0x1*-0x72+-0x1*0xadb));}get['color'](){return this['data']['color'];}set['intensity'](_0x48fd55){this['_setValue']('intensity',_0x48fd55,function(_0x27a51e,_0x529e79){this['light']['intensity']=_0x27a51e;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x33c56c){this['_setValue']('luminance',_0x33c56c,function(_0x10cd1a,_0x82422f){this['light']['luminance']=_0x10cd1a;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x3e3934){this['_setValue']('shape',_0x3e3934,function(_0xa00ab8,_0x5da56c){this['light']['shape']=_0xa00ab8;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x1cf5fd){this['_setValue']('affectSpec'+'ularity',_0x1cf5fd,function(_0x343d8c,_0x13be6a){this['light']['affectSpec'+'ularity']=_0x343d8c;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x2bcf03){this['_setValue']('castShadow'+'s',_0x2bcf03,function(_0x2b6c3f,_0xe56345){this['light']['castShadow'+'s']=_0x2b6c3f;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x7f4e8){this['_setValue']('shadowDist'+'ance',_0x7f4e8,function(_0x100c19,_0x56a7a5){this['light']['shadowDist'+'ance']=_0x100c19;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x3421a8){this['_setValue']('shadowInte'+'nsity',_0x3421a8,function(_0x504450,_0x321a88){this['light']['shadowInte'+'nsity']=_0x504450;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x3013a1){this['_setValue']('shadowReso'+'lution',_0x3013a1,function(_0x2c2b15,_0x5b2ff4){this['light']['shadowReso'+'lution']=_0x2c2b15;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x192895){this['_setValue']('shadowBias',_0x192895,function(_0x4facb3,_0x536a62){this['light']['shadowBias']=-(0x377+0x7c5+-0xb3c+0.01)*N['clamp'](_0x4facb3,0x1ddd+0x47d+-0x225a,0x41*-0xd+-0xc04+0x4a*0x35);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0xa688f){this['_setValue']('numCascade'+'s',_0xa688f,function(_0x305791,_0x3761fd){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x305791),-0x3eb+0x99d+-0x5b1*0x1,-0x315*0x2+-0x1457+-0x1*-0x1a85);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x974e56){this['_setValue']('cascadeBle'+'nd',_0x974e56,function(_0x563366,_0x52a72b){this['light']['cascadeBle'+'nd']=N['clamp'](_0x563366,-0x1375+0x323+0x1052,-0x11*-0xa7+-0x1079+0x563);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x69aab7){this['_setValue']('bakeNumSam'+'ples',_0x69aab7,function(_0x83094d,_0x1c647a){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x83094d),-0x140a+-0x1a5*-0xc+0x1*0x4f,-0x4cf+-0x61*-0x52+-0xc4*0x21);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x498622){this['_setValue']('bakeArea',_0x498622,function(_0xc2cca4,_0x49e166){this['light']['bakeArea']=N['clamp'](_0xc2cca4,0x1d3b+0xe50+-0x2b8b,0x5c0+-0x1*0x126b+0x15*0xa3);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x1022a9){this['_setValue']('cascadeDis'+'tribution',_0x1022a9,function(_0x26a848,_0x5d8af4){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x26a848,0x1*0x8ea+-0x8*0x16d+0x13f*0x2,0x1*-0x261b+-0x3ed+0x2a09);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x50c21e){this['_setValue']('normalOffs'+'etBias',_0x50c21e,function(_0x1c8ceb,_0x3d63ae){this['light']['normalOffs'+'etBias']=N['clamp'](_0x1c8ceb,-0x1591+-0x14ec+0x1*0x2a7d,-0xc81+0x1c1f*0x1+-0xf9d);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x516868){this['_setValue']('range',_0x516868,function(_0xd2e343,_0xf65e88){this['light']['attenuatio'+'nEnd']=_0xd2e343;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x39008b){this['_setValue']('innerConeA'+'ngle',_0x39008b,function(_0x516502,_0x3e0c01){this['light']['innerConeA'+'ngle']=_0x516502;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x157e8e){this['_setValue']('outerConeA'+'ngle',_0x157e8e,function(_0x4295d2,_0x1707ab){this['light']['outerConeA'+'ngle']=_0x4295d2;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x23a35e){this['_setValue']('falloffMod'+'e',_0x23a35e,function(_0x20f22b,_0x1e3fa7){this['light']['falloffMod'+'e']=_0x20f22b;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x59138e){this['_setValue']('shadowType',_0x59138e,function(_0xf2dd20,_0x3071c){this['light']['shadowType']=_0xf2dd20;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x173d1f){this['_setValue']('vsmBlurSiz'+'e',_0x173d1f,function(_0x22bbdd,_0x35b170){this['light']['vsmBlurSiz'+'e']=_0x22bbdd;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x4607c2){this['_setValue']('vsmBlurMod'+'e',_0x4607c2,function(_0xbb8314,_0x495f4f){this['light']['vsmBlurMod'+'e']=_0xbb8314;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x452907){this['_setValue']('vsmBias',_0x452907,function(_0x23beb7,_0x47752f){this['light']['vsmBias']=N['clamp'](_0x23beb7,0x713+0x1c5e+-0x2371,0x119*-0x1+-0x22c1+0x23db);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x3c681b){this['_setValue']('cookieAsse'+'t',_0x3c681b,function(_0x565d4e,_0x46b099){if(!(this['_cookieAss'+'etId']&&(_0x565d4e instanceof le&&_0x565d4e['id']===this['_cookieAss'+'etId']||_0x565d4e===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x565d4e instanceof le)this['data']['cookieAsse'+'t']=_0x565d4e['id'],this['_cookieAss'+'etId']=_0x565d4e['id'],this['onCookieAs'+'setAdd'](_0x565d4e);else{if(typeof _0x565d4e=='number'){this['_cookieAss'+'etId']=_0x565d4e;const _0x1735ed=this['system']['app']['assets']['get'](_0x565d4e);_0x1735ed?this['onCookieAs'+'setAdd'](_0x1735ed):(this['_cookieAss'+'etAdd']=!(0x5d0*0x1+0x35*-0xbc+0x211c),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x40ff18){this['_setValue']('cookie',_0x40ff18,function(_0xfec329,_0x59443d){this['light']['cookie']=_0xfec329;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x1ddb37){this['_setValue']('cookieInte'+'nsity',_0x1ddb37,function(_0xd50a41,_0x3d8a75){this['light']['cookieInte'+'nsity']=N['clamp'](_0xd50a41,0x137c+0x1*0x1a9d+-0x1*0x2e19,-0x9ae*-0x3+-0x1426+0x41*-0x23);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x488b92){this['_setValue']('cookieFall'+'off',_0x488b92,function(_0x3e8ba1,_0x186185){this['light']['cookieFall'+'off']=_0x3e8ba1;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x19babb){this['_setValue']('cookieChan'+'nel',_0x19babb,function(_0xb4c39c,_0x19999d){this['light']['cookieChan'+'nel']=_0xb4c39c;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x1d7560){this['_setValue']('cookieAngl'+'e',_0x1d7560,function(_0x108744,_0xdb6c1){if(_0x108744!==-0x131b+0x15*0x2e+0xf55||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x197796=0x559*-0x3+-0x238d+-0x11*-0x309,_0x4c2fb1=-0x26+0x2155+-0x212e*0x1;this['cookieScal'+'e']&&(_0x197796=this['cookieScal'+'e']['x'],_0x4c2fb1=this['cookieScal'+'e']['y']);const _0x5f0727=Math['cos'](_0x108744*N['DEG_TO_RAD']),_0x52629d=Math['sin'](_0x108744*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x5f0727/_0x197796,-_0x52629d/_0x197796,_0x52629d/_0x4c2fb1,_0x5f0727/_0x4c2fb1),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x1ba4c5){this['_setValue']('cookieScal'+'e',_0x1ba4c5,function(_0x19ebd7,_0x1d4aeb){if(_0x19ebd7!==null||this['cookieAngl'+'e']!==-0x6f9*0x1+0xd01*-0x2+0x20fb){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x59d9ad=_0x19ebd7['x'],_0x142a16=_0x19ebd7['y'],_0x1cf1ea=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x3f873e=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x1cf1ea/_0x59d9ad,-_0x3f873e/_0x59d9ad,_0x3f873e/_0x142a16,_0x1cf1ea/_0x142a16),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x12af+0x2*-0xcef+0x1*0x72f));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x48ab92){this['_setValue']('cookieOffs'+'et',_0x48ab92,function(_0x3b5405,_0x45bf95){this['light']['cookieOffs'+'et']=_0x3b5405;},!(-0x17c3+-0x1*0x2542+0x7f*0x7b));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x516e55){this['_setValue']('shadowUpda'+'teMode',_0x516e55,function(_0x2a861e,_0x16bd6d){this['light']['shadowUpda'+'teMode']=_0x2a861e;},!(-0x4*-0x3a3+-0x132b*-0x1+0x19b*-0x15));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x21741a){this['_setValue']('mask',_0x21741a,function(_0x32a037,_0x5147b7){this['light']['mask']=_0x32a037;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x26d9fc){this['_setValue']('affectDyna'+'mic',_0x26d9fc,function(_0x6dccbc,_0x4ec04c){_0x6dccbc?this['light']['mask']|=hs:this['light']['mask']&=-(-0xc*-0x2f5+0x46f*-0x1+0xa59*-0x3),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0xc8f016){this['_setValue']('affectLigh'+'tmapped',_0xc8f016,function(_0x405e90,_0xbcea12){_0x405e90?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(-0x1cf3*-0x1+-0x1*-0x783+0x2471*-0x1))):(this['light']['mask']&=-(-0xd16+0x1680+-0x967),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x4a7d8e){this['_setValue']('bake',_0x4a7d8e,function(_0x3ee1fc,_0x5958b0){_0x3ee1fc?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(-0xc41+-0x2121+0x2d65))):(this['light']['mask']&=-(0x126+-0x12aa*-0x2+0xb*-0x37f),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x35a4d4){this['_setValue']('bakeDir',_0x35a4d4,function(_0x416c90,_0x460810){this['light']['bakeDir']=_0x416c90;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x2e1586){this['_setValue']('isStatic',_0x2e1586,function(_0x379362,_0x5c7458){this['light']['isStatic']=_0x379362;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x145177){this['_setValue']('layers',_0x145177,function(_0x19c70a,_0x18af14){for(let _0x4bf78c=0x267c+-0x21*0x7b+0x78b*-0x3;_0x4bf78c<_0x18af14['length'];_0x4bf78c++){const _0x42a329=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x18af14[_0x4bf78c]);_0x42a329&&(_0x42a329['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x42a329));}for(let _0x49a588=0x617*0x5+-0x1*-0xf0f+-0x2d82;_0x49a588<_0x19c70a['length'];_0x49a588++){const _0x41efc5=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x19c70a[_0x49a588]);_0x41efc5&&this['enabled']&&this['entity']['enabled']&&(_0x41efc5['addLight'](this),this['light']['addLayer'](_0x41efc5));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x52221c){this['light']['shadowUpda'+'teOverride'+'s']=_0x52221c;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x4459a7){this['light']['shadowSamp'+'les']=_0x4459a7;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x554e38){this['light']['shadowBloc'+'kerSamples']=_0x554e38;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x47ebc1){this['light']['penumbraSi'+'ze']=_0x47ebc1;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x52cf5b){this['light']['penumbraFa'+'lloff']=_0x52cf5b;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x201668,_0x16a908,_0x17587d,_0x3c6fa8){const _0x3eabf7=this['data'],_0x526b61=_0x3eabf7[_0x201668];!_0x3c6fa8&&_0x526b61===_0x16a908||(_0x3eabf7[_0x201668]=_0x16a908,_0x17587d&&_0x17587d['call'](this,_0x16a908,_0x526b61));}['addLightTo'+'Layers'](){for(let _0x3c3748=-0x3*0x2b6+-0x1eff+0x2721;_0x3c3748<this['layers']['length'];_0x3c3748++){const _0x3daa4f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3c3748]);_0x3daa4f&&(_0x3daa4f['addLight'](this),this['light']['addLayer'](_0x3daa4f));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x35f517=0x6*0x5e3+0x1cbc+-0x400e;_0x35f517<this['layers']['length'];_0x35f517++){const _0x5591b1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x35f517]);_0x5591b1&&(_0x5591b1['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x5591b1));}}['onLayersCh'+'anged'](_0x4e9a59,_0x1b88e1){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x4e9a59['off']('add',this['onLayerAdd'+'ed'],this),_0x4e9a59['off']('remove',this['onLayerRem'+'oved'],this),_0x1b88e1['on']('add',this['onLayerAdd'+'ed'],this),_0x1b88e1['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x318aff){this['layers']['indexOf'](_0x318aff['id'])>=-0x33*0x9a+-0x12b7+0x3165&&this['enabled']&&this['entity']['enabled']&&(_0x318aff['addLight'](this),this['light']['addLayer'](_0x318aff));}['onLayerRem'+'oved'](_0x3ae746){this['layers']['indexOf'](_0x3ae746['id'])>=-0x67f*0x1+-0xfd4+0x1653&&(_0x3ae746['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x3ae746));}['refreshPro'+'perties'](){for(let _0x146b63=-0x27b*0xd+0x79d+0x18a2;_0x146b63<To['length'];_0x146b63++){const _0x4ebe6a=To[_0x146b63];this[_0x4ebe6a]=this[_0x4ebe6a];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x2bfc2b=!(-0x2*-0xcb3+0x390+-0x1cf5);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0x1ccc*-0x1+-0x16*0x3a+0x21c8),_0x2bfc2b=!(0x4*-0x193+-0x140*-0x17+0x4*-0x59d)),(!this['_cookieAss'+'et']['resource']||_0x2bfc2b)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x595598){this['_cookieAss'+'etId']===_0x595598['id']&&(this['_cookieAss'+'et']=_0x595598,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x213*-0xd+0x5b2*0x6+0x3d22*-0x1)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x53dfa1=this['system']['app']['scene'],_0x2b9f1a=_0x53dfa1['layers'];this['light']['enabled']=!(0xb79+-0xda1+-0x5c*-0x6),this['_evtLayers'+'Changed']=_0x53dfa1['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2b9f1a&&(this['_evtLayerA'+'dded']=_0x2b9f1a['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2b9f1a['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x492904,_0x50a013,_0x4ac8f7;const _0x4e5bcc=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x15d6+-0x2*-0x31b+0xfa1),(_0x492904=this['_evtLayers'+'Changed'])==null||_0x492904['off'](),this['_evtLayers'+'Changed']=null,_0x4e5bcc&&((_0x50a013=this['_evtLayerA'+'dded'])==null||_0x50a013['off'](),this['_evtLayerA'+'dded']=null,(_0x4ac8f7=this['_evtLayerR'+'emoved'])==null||_0x4ac8f7['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x582d35){super(_0x582d35),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x22c54d,_0x58d358){const _0x5ca503={..._0x58d358};_0x5ca503['type']||(_0x5ca503['type']=_0x22c54d['data']['type']),_0x22c54d['data']['type']=_0x5ca503['type'],_0x5ca503['layers']&&Array['isArray'](_0x5ca503['layers'])&&(_0x5ca503['layers']=_0x5ca503['layers']['slice'](0x7c7*0x2+-0xf8e+0x0)),_0x5ca503['color']&&Array['isArray'](_0x5ca503['color'])&&(_0x5ca503['color']=new j(_0x5ca503['color'][0x2*-0x5b3+-0x218*0xb+0x4e*0x71],_0x5ca503['color'][-0xb31+0x21a8+-0x1676],_0x5ca503['color'][-0x27a*-0x6+0x1*0x1366+-0x2240])),_0x5ca503['cookieOffs'+'et']&&_0x5ca503['cookieOffs'+'et']instanceof Array&&(_0x5ca503['cookieOffs'+'et']=new $(_0x5ca503['cookieOffs'+'et'][0x86d*-0x3+-0x1*0x1816+0x315d],_0x5ca503['cookieOffs'+'et'][0x1*0x2a6+0x84c+-0xaf1])),_0x5ca503['cookieScal'+'e']&&_0x5ca503['cookieScal'+'e']instanceof Array&&(_0x5ca503['cookieScal'+'e']=new $(_0x5ca503['cookieScal'+'e'][-0x16d*0x19+0xf98*-0x2+-0x9*-0x76d],_0x5ca503['cookieScal'+'e'][0x22f+-0x1*-0x8b5+-0xae3])),_0x5ca503['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x5ca503['enabled']=_0x5ca503['enable']),_0x5ca503['shape']||(_0x5ca503['shape']=yt);const _0x5394d6=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x5394d6['type']=Gu[_0x5ca503['type']],_0x5394d6['_node']=_0x22c54d['entity'],_0x22c54d['data']['light']=_0x5394d6,super['initialize'+'ComponentD'+'ata'](_0x22c54d,_0x5ca503,To);}['_onRemoveC'+'omponent'](_0x2712cc,_0x486f04){_0x486f04['onRemove']();}['cloneCompo'+'nent'](_0x551cc3,_0x8dca93){const _0x2e6502=_0x551cc3['light'],_0x27455d=[];let _0x5345a1;for(let _0x39cdcc=-0x7ad+-0x2e*-0x8f+-0x1*0x1205;_0x39cdcc<To['length'];_0x39cdcc++)_0x5345a1=To[_0x39cdcc],_0x5345a1!=='light'&&(_0x2e6502[_0x5345a1]&&_0x2e6502[_0x5345a1]['clone']?_0x27455d[_0x5345a1]=_0x2e6502[_0x5345a1]['clone']():_0x27455d[_0x5345a1]=_0x2e6502[_0x5345a1]);return this['addCompone'+'nt'](_0x8dca93,_0x27455d);}['changeType'](_0x2abb42,_0x18d636,_0x5310c7){_0x18d636!==_0x5310c7&&(_0x2abb42['light']['type']=Gu[_0x5310c7]);}}const ZI=['x','y','z','w'],QI=[void(-0x36*-0x7b+-0x261c+0xc2a),void(-0xa06*0x2+-0x2*0x631+-0x206e*-0x1),$,T,Q];function La(_0x17a99a,_0x1059db,_0x52833d,_0x98918f){switch(_0x1059db['type']){case'boolean':return!!_0x52833d;case'number':if(typeof _0x52833d=='number')return _0x52833d;if(typeof _0x52833d=='string'){const _0x3b0d94=parseInt(_0x52833d,-0x1871*-0x1+-0x1061+0xd*-0x9e);return isNaN(_0x3b0d94)?null:_0x3b0d94;}else{if(typeof _0x52833d=='boolean')return-0x13ac+-0x6*0x2e8+0x251c+_0x52833d;}return null;case'json':{const _0x417ba5={};if(Array['isArray'](_0x1059db['schema'])){(!_0x52833d||typeof _0x52833d!='object')&&(_0x52833d={});for(let _0x3f15fd=-0x5e7+-0xe89*-0x2+-0x172b;_0x3f15fd<_0x1059db['schema']['length'];_0x3f15fd++){const _0x3cc120=_0x1059db['schema'][_0x3f15fd];if(_0x3cc120['name']){if(_0x3cc120['array']){_0x417ba5[_0x3cc120['name']]=[];const _0x3885da=Array['isArray'](_0x52833d[_0x3cc120['name']])?_0x52833d[_0x3cc120['name']]:[];for(let _0x588ef4=0x1ba0+-0xceb+-0xeb5;_0x588ef4<_0x3885da['length'];_0x588ef4++)_0x417ba5[_0x3cc120['name']]['push'](La(_0x17a99a,_0x3cc120,_0x3885da[_0x588ef4]));}else{const _0x4b4fb1=_0x52833d['hasOwnProp'+'erty'](_0x3cc120['name'])?_0x52833d[_0x3cc120['name']]:_0x3cc120['default'];_0x417ba5[_0x3cc120['name']]=La(_0x17a99a,_0x3cc120,_0x4b4fb1);}}}}return _0x417ba5;}case'asset':return _0x52833d instanceof le?_0x52833d:typeof _0x52833d=='number'?_0x17a99a['assets']['get'](_0x52833d)||null:typeof _0x52833d=='string'&&_0x17a99a['assets']['get'](parseInt(_0x52833d,0x1*0x277+-0x8*-0x2d7+-0x29*0x9d))||null;case'entity':return _0x52833d instanceof De?_0x52833d:typeof _0x52833d=='string'?_0x17a99a['getEntityF'+'romIndex'](_0x52833d):null;case'rgb':case'rgba':if(_0x52833d instanceof j)return _0x98918f instanceof j?(_0x98918f['copy'](_0x52833d),_0x98918f):_0x52833d['clone']();if(_0x52833d instanceof Array&&_0x52833d['length']>=-0x1*0x17d2+0x3a4+0x1431&&_0x52833d['length']<=0x18ae+0xe4f+0x38b*-0xb){for(let _0x56a6be=-0x4*-0x7cd+0x879+-0x1*0x27ad;_0x56a6be<_0x52833d['length'];_0x56a6be++)if(typeof _0x52833d[_0x56a6be]!='number')return null;return _0x98918f||(_0x98918f=new j()),_0x98918f['r']=_0x52833d[-0xe1d+0x2*0xe87+0x11*-0xe1],_0x98918f['g']=_0x52833d[-0xe86+0x5*-0x5de+0x2bdd],_0x98918f['b']=_0x52833d[0x1*-0x1264+0x704*-0x5+0x357a*0x1],_0x98918f['a']=_0x52833d['length']===-0x441+0x105d+-0xc19?-0x1339+-0x2*-0xfb6+-0xc32:_0x52833d[0x13*-0x16d+-0x3*-0x371+0x5*0x35b],_0x98918f;}else{if(typeof _0x52833d=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x52833d))return _0x98918f||(_0x98918f=new j()),_0x98918f['fromString'](_0x52833d),_0x98918f;}return null;case'vec2':case'vec3':case'vec4':{const _0xfef47e=parseInt(_0x1059db['type']['slice'](0x12b2+0x5ca+0x4e5*-0x5),0x1*-0x183e+0x89*0x2e+-0x56),_0x248f31=QI[_0xfef47e];if(_0x52833d instanceof _0x248f31)return _0x98918f instanceof _0x248f31?(_0x98918f['copy'](_0x52833d),_0x98918f):_0x52833d['clone']();if(_0x52833d instanceof Array&&_0x52833d['length']===_0xfef47e){for(let _0x462cb8=-0x26b2+-0x18bb+0x3f6d;_0x462cb8<_0x52833d['length'];_0x462cb8++)if(typeof _0x52833d[_0x462cb8]!='number')return null;_0x98918f||(_0x98918f=new _0x248f31());for(let _0x494273=-0xe*0x269+-0x13*-0x165+0x73f;_0x494273<_0xfef47e;_0x494273++)_0x98918f[ZI[_0x494273]]=_0x52833d[_0x494273];return _0x98918f;}return null;}case'curve':if(_0x52833d){let _0xcea4cb;if(_0x52833d instanceof Cs||_0x52833d instanceof jr)_0xcea4cb=_0x52833d['clone']();else{const _0xb08d3f=_0x52833d['keys'][-0x252e+-0x813+0x2d41]instanceof Array?jr:Cs;_0xcea4cb=new _0xb08d3f(_0x52833d['keys']),_0xcea4cb['type']=_0x52833d['type'];}return _0xcea4cb;}break;}return _0x52833d;}function Ax(_0x2e9796,_0x40fd88,_0x2feb94,_0x25d517){return _0x40fd88['array']?_0x2feb94['map']((_0x14546b,_0x50bdb2)=>La(_0x2e9796,_0x40fd88,_0x14546b,_0x25d517?_0x25d517[_0x50bdb2]:null)):La(_0x2e9796,_0x40fd88,_0x2feb94,_0x25d517);}function Ex(_0x36c5a5,_0x45471b,_0x286dac,_0x1f1e33){if(_0x286dac)for(const _0x316739 in _0x45471b){const _0x345c6e=_0x45471b[_0x316739],_0x4aab15=_0x286dac[_0x316739];_0x4aab15!==void(-0x660*-0x2+-0x1f6+0x1*-0xaca)&&(_0x1f1e33[_0x316739]=Ax(_0x36c5a5,_0x345c6e,_0x4aab15,_0x1f1e33[_0x316739]));}}const oa=class oa{constructor(_0x5e31e6){this['scriptType']=_0x5e31e6,this['index']={};}['add'](_0x3cef90,_0x419708){if(this['index'][_0x3cef90]){v['warn']('attribute\x20'+'\x27'+_0x3cef90+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x3cef90)){v['warn']('attribute\x20'+'\x27'+_0x3cef90+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x3cef90]=_0x419708,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x3cef90,{'get':function(){return this['__attribut'+'es'][_0x3cef90];},'set':function(_0x2f0985){const _0x2c02b7='attr',_0xd8926f='attr:'+_0x3cef90,_0x5858c0=this['__attribut'+'es'][_0x3cef90];let _0x52a6d1=_0x5858c0;if(_0x5858c0&&_0x419708['type']!=='json'&&_0x419708['type']!=='entity'&&_0x5858c0['clone']&&(this['hasEvent'](_0x2c02b7)||this['hasEvent'](_0xd8926f))&&(_0x52a6d1=_0x5858c0['clone']()),_0x419708['array']){if(this['__attribut'+'es'][_0x3cef90]=[],_0x2f0985){for(let _0x228adb=0x865+0x1*0x1cd+-0x366*0x3,_0xb21669=_0x2f0985['length'];_0x228adb<_0xb21669;_0x228adb++)this['__attribut'+'es'][_0x3cef90]['push'](La(this['app'],_0x419708,_0x2f0985[_0x228adb],_0x5858c0?_0x5858c0[_0x228adb]:null));}}else this['__attribut'+'es'][_0x3cef90]=La(this['app'],_0x419708,_0x2f0985,_0x5858c0);this['fire'](_0x2c02b7,_0x3cef90,this['__attribut'+'es'][_0x3cef90],_0x52a6d1),this['fire'](_0xd8926f,this['__attribut'+'es'][_0x3cef90],_0x52a6d1);}});}['remove'](_0x4066f7){return this['index'][_0x4066f7]?(delete this['index'][_0x4066f7],delete this['scriptType']['prototype'][_0x4066f7],!(0x17*0x115+0x19*0x39+0x2*-0xf3a)):!(-0x8cb+0x5*-0x6c7+0x2aaf);}['has'](_0x17f614){return!!this['index'][_0x17f614];}['get'](_0x489c0f){return this['index'][_0x489c0f]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class It extends ce{constructor(_0x17caab){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x17caab);}set['enabled'](_0x2e147e){this['_enabled']=!!_0x2e147e,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0x22d4+-0x58d+0x1*0x2861),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(0xdfa+-0x1*-0x1c82+0xa9f*-0x4),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x297965){const _0x5f4b2c=this['constructo'+'r'];v['assert'](_0x297965&&_0x297965['app']&&_0x297965['entity'],'script\x20['+_0x5f4b2c['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x297965['app'],this['entity']=_0x297965['entity'],this['_enabled']=typeof _0x297965['enabled']=='boolean'?_0x297965['enabled']:!(0x107d+0x479*-0x7+0x7*0x21e),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0x5da+-0x7db*0x2+-0x1*-0x1591),this['__scriptTy'+'pe']=_0x5f4b2c,this['__executio'+'nOrder']=-(0x24f7*0x1+0xb26*-0x3+0xe1*-0x4);}static get['scriptName'](){return this['__name'];}}c(It,'EVENT_ENAB'+'LE','enable'),c(It,'EVENT_DISA'+'BLE','disable'),c(It,'EVENT_STAT'+'E','state'),c(It,'EVENT_DEST'+'ROY','destroy'),c(It,'EVENT_ATTR','attr'),c(It,'EVENT_ERRO'+'R','error'),c(It,'__name',null),c(It,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x4ea3fc){if(typeof _0x4ea3fc!='function')return;if('name'in Function['prototype'])return _0x4ea3fc['name'];if(_0x4ea3fc===Function||_0x4ea3fc===Function['prototype']['constructo'+'r'])return'Function';const _0x1f55be=(''+_0x4ea3fc)['match'](sD);return _0x1f55be?_0x1f55be[0x27*-0xd3+0x8a6+0x2f0*0x8]:void(0x137e+-0xd8f+-0x7*0xd9);}class Qh extends It{constructor(_0x396191){super(_0x396191),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x396191);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x146b60){It['prototype']['initScript']['call'](this,_0x146b60),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x146b60['attributes']||{};}['initScript'+'Type'](_0x3fb8bf){this['initScript'](_0x3fb8bf);}['__initiali'+'zeAttribut'+'es'](_0x38e2a4){if(!(!_0x38e2a4&&!this['__attribut'+'esRaw'])){for(const _0x56435a in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x56435a)?this[_0x56435a]=this['__attribut'+'esRaw'][_0x56435a]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x56435a)||(this['__scriptTy'+'pe']['attributes']['index'][_0x56435a]['hasOwnProp'+'erty']('default')?this[_0x56435a]=this['__scriptTy'+'pe']['attributes']['index'][_0x56435a]['default']:this[_0x56435a]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x2e3718){for(const _0x1eaf37 in _0x2e3718)_0x2e3718['hasOwnProp'+'erty'](_0x1eaf37)&&(this['prototype'][_0x1eaf37]=_0x2e3718[_0x1eaf37]);}}const iD=_0x1e5c02=>_0x1e5c02[-0xbfb+-0x2*-0x409+-0x7*-0x8f]['toLowerCas'+'e']()+_0x1e5c02['substring'](-0x1e91+0x2392+-0x500);class di extends ue{constructor(_0x12658c,_0x5b6252){super(_0x12658c,_0x5b6252),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x1c4+-0x3e*-0x61+-0x1941),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0xd5c+0x2104+-0x35*0xe0),this['_enabled']=!(0x7*-0x2bc+0x12b4+0x70*0x1),this['_beingEnab'+'led']=!(-0x6*-0x2d3+-0xe8e+-0x263),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x19b*-0xc+0x10f5+0x26*-0xf4),this['_execution'+'Order']=-(-0x1c2f+0x1b77+-0xb9*-0x1),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x4d9198){this['_scriptsDa'+'ta']=_0x4d9198;for(const _0x3dac28 in _0x4d9198){if(!_0x4d9198['hasOwnProp'+'erty'](_0x3dac28))continue;const _0x1d4458=this['_scriptsIn'+'dex'][_0x3dac28];if(_0x1d4458){if(typeof _0x4d9198[_0x3dac28]['enabled']=='boolean'&&(_0x1d4458['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x1d4458);}),_0x1d4458['enabled']=!!_0x4d9198[_0x3dac28]['enabled']),typeof _0x4d9198[_0x3dac28]['attributes']=='object'){for(const _0x51868a in _0x4d9198[_0x3dac28]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x51868a)){if(!_0x1d4458['__attribut'+'es']['hasOwnProp'+'erty'](_0x51868a)){const _0x134c4c=this['system']['app']['scripts']['get'](_0x3dac28);_0x134c4c&&_0x134c4c['attributes']['add'](_0x51868a,{});}_0x1d4458[_0x51868a]=_0x4d9198[_0x3dac28]['attributes'][_0x51868a];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0xfc31b6){const _0x59a600=this['_enabled'];this['_enabled']=_0xfc31b6,this['fire']('set','enabled',_0x59a600,_0xfc31b6);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x3*0x949+-0x1*0xbab+-0x1030),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x2b*0x53+0x20ed+-0x2edd);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0xbc7618=this['_beginLoop'+'ing']();for(let _0x7349e8=0x20b*0x13+0x18d0+0x917*-0x7,_0x27c73e=this['scripts']['length'];_0x7349e8<_0x27c73e;_0x7349e8++){const _0x1e9831=this['scripts'][_0x7349e8];_0x1e9831['_initializ'+'ed']&&!_0x1e9831['_postIniti'+'alized']&&_0x1e9831['enabled']&&(_0x1e9831['_postIniti'+'alized']=!(0x209b+-0x22d0+-0x235*-0x1),_0x1e9831['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x1e9831,gf));}this['_endLoopin'+'g'](_0xbc7618);}['_beginLoop'+'ing'](){const _0x547bef=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x2ef+0x3*0x24f+0x4ee*-0x2),_0x547bef;}['_endLoopin'+'g'](_0x43a0df){this['_isLooping'+'ThroughScr'+'ipts']=_0x43a0df,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0xba22ad,_0x56134f,_0x31f557){this['_beingEnab'+'led']=!(0x1*0x1530+-0x8aa+0x7*-0x1ca),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x1d48+-0x1ba9*-0x1+-0x38f0);}['_checkStat'+'e'](){const _0x1cac47=this['enabled']&&this['entity']['enabled'];if(_0x1cac47===this['_oldState'])return;this['_oldState']=_0x1cac47,this['fire'](_0x1cac47?'enable':'disable'),this['fire']('state',_0x1cac47),_0x1cac47?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x4bd259=this['_beginLoop'+'ing']();for(let _0x2f7041=-0x1af*-0x7+0xfbc+-0x1b85,_0x4ee2b4=this['scripts']['length'];_0x2f7041<_0x4ee2b4;_0x2f7041++){const _0x4144b2=this['scripts'][_0x2f7041];_0x4144b2['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x4144b2);}),_0x4144b2['enabled']=_0x4144b2['_enabled'];}this['_endLoopin'+'g'](_0x4bd259);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x23787c=this['_beginLoop'+'ing']();for(let _0x266caa=0x162c+0x6b*-0x1d+-0xa0d*0x1;_0x266caa<this['scripts']['length'];_0x266caa++){const _0x25baba=this['scripts'][_0x266caa];_0x25baba&&this['destroy'](_0x25baba['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x23787c);}['_removeDes'+'troyedScri'+'pts'](){const _0xc3dabd=this['_destroyed'+'Scripts']['length'];if(_0xc3dabd){for(let _0x1abd37=-0x1600+0x1*-0x15b+0x1*0x175b;_0x1abd37<_0xc3dabd;_0x1abd37++){const _0xa33cfd=this['_destroyed'+'Scripts'][_0x1abd37];this['_removeScr'+'iptInstanc'+'e'](_0xa33cfd);}this['_destroyed'+'Scripts']['length']=0x3*-0x213+0x226+0x413,this['_resetExec'+'utionOrder'](0xba9+-0x1bb7+0x89*0x1e,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x2c89e7=0x21a4+-0x219c+-0x8,_0x36d8f7=this['scripts']['length'];_0x2c89e7<_0x36d8f7;_0x2c89e7++){const _0x2b4b1a=this['scripts'][_0x2c89e7];this['initialize'+'Attributes'](_0x2b4b1a);}}['initialize'+'Attributes'](_0x12b69b){var _0x555857;if(_0x12b69b instanceof Qh)_0x12b69b['__initiali'+'zeAttribut'+'es']();else{const _0x3a03f0=_0x12b69b['__scriptTy'+'pe']['__name'],_0x48600f=this['_attribute'+'DataMap']['get'](_0x3a03f0);if(!_0x48600f)return;const _0x2c468a=(_0x555857=this['system']['app']['scripts'])==null?void(0x1*0x1a26+0xab*0xc+-0x222a*0x1):_0x555857['getSchema'](_0x3a03f0);_0x2c468a||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x3a03f0+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0x2c468a['attributes'],_0x48600f,_0x12b69b);}}['_scriptMet'+'hod'](_0x4b1247,_0x5aa400,_0x410fa6){try{_0x4b1247[_0x5aa400](_0x410fa6);}catch(_0x7659ea){_0x4b1247['enabled']=!(0x1a77*-0x1+-0x692+0x210a),_0x4b1247['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x5aa400+'\x22\x20for\x20\x22'+_0x4b1247['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x7659ea),console['error'](_0x7659ea)),_0x4b1247['fire']('error',_0x7659ea,_0x5aa400),this['fire']('error',_0x4b1247,_0x7659ea,_0x5aa400);}}['_onInitial'+'ize'](){const _0x5d52e9=this['_scripts'],_0x58b586=this['_beginLoop'+'ing']();for(let _0x1b7fef=-0x1dfc+0x20c0+-0x2c4,_0x213b3f=_0x5d52e9['length'];_0x1b7fef<_0x213b3f;_0x1b7fef++){const _0x1ef4bd=_0x5d52e9[_0x1b7fef];!_0x1ef4bd['_initializ'+'ed']&&_0x1ef4bd['enabled']&&(_0x1ef4bd['_initializ'+'ed']=!(0xa6d+0xf44+0x1*-0x19b1),_0x1ef4bd['initialize']&&this['_scriptMet'+'hod'](_0x1ef4bd,_f));}this['_endLoopin'+'g'](_0x58b586);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x3bb66b){const _0x1b162e=this['_updateLis'+'t'];if(!_0x1b162e['length'])return;const _0x4d4011=this['_beginLoop'+'ing']();for(_0x1b162e['loopIndex']=0x14d+-0x26d0+-0xb*-0x369;_0x1b162e['loopIndex']<_0x1b162e['length'];_0x1b162e['loopIndex']++){const _0x215c4e=_0x1b162e['items'][_0x1b162e['loopIndex']];_0x215c4e['enabled']&&this['_scriptMet'+'hod'](_0x215c4e,JI,_0x3bb66b);}this['_endLoopin'+'g'](_0x4d4011);}['_onPostUpd'+'ate'](_0x2d88ff){const _0x45d70a=this['_postUpdat'+'eList'];if(!_0x45d70a['length'])return;const _0x709726=this['_beginLoop'+'ing']();for(_0x45d70a['loopIndex']=0x2336*0x1+0xf67+-0x7*0x73b;_0x45d70a['loopIndex']<_0x45d70a['length'];_0x45d70a['loopIndex']++){const _0x1fbde7=_0x45d70a['items'][_0x45d70a['loopIndex']];_0x1fbde7['enabled']&&this['_scriptMet'+'hod'](_0x1fbde7,eD,_0x2d88ff);}this['_endLoopin'+'g'](_0x709726);}['_insertScr'+'iptInstanc'+'e'](_0x53dd83,_0x26ca32,_0x1a418c){_0x26ca32===-(0x1ddf+0x1a43+-0x3821)?(this['_scripts']['push'](_0x53dd83),_0x53dd83['__executio'+'nOrder']=_0x1a418c,_0x53dd83['update']&&this['_updateLis'+'t']['append'](_0x53dd83),_0x53dd83['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x53dd83)):(this['_scripts']['splice'](_0x26ca32,-0x4ac+-0x4e9*-0x1+0x3d*-0x1,_0x53dd83),_0x53dd83['__executio'+'nOrder']=_0x26ca32,this['_resetExec'+'utionOrder'](_0x26ca32+(-0x3c5+-0x1b29+0x1eef),_0x1a418c+(-0x260*0x4+0x1*-0x14a9+0x1e2a)),_0x53dd83['update']&&this['_updateLis'+'t']['insert'](_0x53dd83),_0x53dd83['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x53dd83));}['_removeScr'+'iptInstanc'+'e'](_0x128c71){const _0x21df0b=this['_scripts']['indexOf'](_0x128c71);return _0x21df0b===-(0x75d+-0x13cc+-0xc70*-0x1)||(this['_scripts']['splice'](_0x21df0b,0x59f*0x1+-0x572*-0x3+-0x15f4),_0x128c71['update']&&this['_updateLis'+'t']['remove'](_0x128c71),_0x128c71['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x128c71)),_0x21df0b;}['_resetExec'+'utionOrder'](_0x56a4c8,_0x6b0616){for(let _0x432e97=_0x56a4c8;_0x432e97<_0x6b0616;_0x432e97++)this['_scripts'][_0x432e97]['__executio'+'nOrder']=_0x432e97;}['_resolveEn'+'tityScript'+'Attribute'](_0x2b6d99,_0x14e0bd,_0x3f4d74,_0x121cb8,_0x39f8aa,_0x219070){if(_0x2b6d99['array']){const _0x481444=_0x3f4d74['length'];if(!_0x481444)return;const _0x1ba280=_0x3f4d74['slice']();for(let _0x305419=0x1de+-0xd2b+-0xb*-0x107;_0x305419<_0x481444;_0x305419++){const _0x3b682b=_0x1ba280[_0x305419]instanceof $e?_0x1ba280[_0x305419]['getGuid']():_0x1ba280[_0x305419];_0x219070[_0x3b682b]&&(_0x1ba280[_0x305419]=_0x121cb8?_0x219070[_0x3b682b]['getGuid']():_0x219070[_0x3b682b]);}_0x39f8aa[_0x14e0bd]=_0x1ba280;}else{if(_0x3f4d74 instanceof $e)_0x3f4d74=_0x3f4d74['getGuid']();else{if(typeof _0x3f4d74!='string')return;}_0x219070[_0x3f4d74]&&(_0x39f8aa[_0x14e0bd]=_0x219070[_0x3f4d74]);}}['has'](_0x29d5b2){if(typeof _0x29d5b2=='string')return!!this['_scriptsIn'+'dex'][_0x29d5b2];if(!_0x29d5b2)return!(0x1a*0x17b+0x1d8a+-0x4407);const _0x422a5f=_0x29d5b2,_0x39ce19=_0x422a5f['__name'],_0x551eee=this['_scriptsIn'+'dex'][_0x39ce19];return(_0x551eee&&_0x551eee['instance'])instanceof _0x422a5f;}['get'](_0xd0e51d){if(typeof _0xd0e51d=='string'){const _0x3a8c04=this['_scriptsIn'+'dex'][_0xd0e51d];return _0x3a8c04?_0x3a8c04['instance']:null;}if(!_0xd0e51d)return null;const _0x5cbfbb=_0xd0e51d,_0x584230=_0x5cbfbb['__name'],_0x14f93d=this['_scriptsIn'+'dex'][_0x584230],_0x51bf8f=_0x14f93d&&_0x14f93d['instance'];return _0x51bf8f instanceof _0x5cbfbb?_0x51bf8f:null;}['create'](_0x152aa6,_0x4b4b7b={}){const _0x19c138=this;let _0x38710=_0x152aa6,_0x3a9223=_0x152aa6;if(typeof _0x38710=='string'?_0x38710=this['system']['app']['scripts']['get'](_0x38710):_0x38710&&(_0x3a9223=_0x38710['__name']??(_0x38710['__name']=iD(Cx(_0x38710)))),_0x38710){if(!this['_scriptsIn'+'dex'][_0x3a9223]||!this['_scriptsIn'+'dex'][_0x3a9223]['instance']){const _0x333470=new _0x38710({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x4b4b7b['hasOwnProp'+'erty']('enabled')?_0x4b4b7b['enabled']:!(0x1b0f+-0x1386+-0x1*0x789),'attributes':_0x4b4b7b['attributes']||{}});_0x4b4b7b['properties']&&typeof _0x4b4b7b['properties']=='object'&&Object['assign'](_0x333470,_0x4b4b7b['properties']),_0x333470 instanceof Qh||this['_attribute'+'DataMap']['set'](_0x3a9223,_0x4b4b7b['attributes']);const _0x3b5885=this['_scripts']['length'];let _0x3fa969=-(0x2*0xf2d+0x22*0x4c+-0x2871);return typeof _0x4b4b7b['ind']=='number'&&_0x4b4b7b['ind']!==-(-0x7*-0x161+-0x3eb*0x7+0x11c7)&&_0x3b5885>_0x4b4b7b['ind']&&(_0x3fa969=_0x4b4b7b['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x333470,_0x3fa969,_0x3b5885),this['_scriptsIn'+'dex'][_0x3a9223]={'instance':_0x333470,'onSwap':function(){_0x19c138['swap'](_0x3a9223);}},this[_0x3a9223]=_0x333470,_0x4b4b7b['preloading']||this['initialize'+'Attributes'](_0x333470),this['fire']('create',_0x3a9223,_0x333470),this['fire']('create:'+_0x3a9223,_0x333470),this['system']['app']['scripts']['on']('swap:'+_0x3a9223,this['_scriptsIn'+'dex'][_0x3a9223]['onSwap']),_0x4b4b7b['preloading']||(_0x333470['enabled']&&!_0x333470['_initializ'+'ed']&&(_0x333470['_initializ'+'ed']=!(0xeed+-0x224a+0x135d),_0x333470['initialize']&&this['_scriptMet'+'hod'](_0x333470,_f)),_0x333470['enabled']&&!_0x333470['_postIniti'+'alized']&&(_0x333470['_postIniti'+'alized']=!(-0x53*-0x20+-0x9*-0x27+-0xbbf),_0x333470['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x333470,gf))),_0x333470;}v['warn']('script\x20\x27'+_0x3a9223+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x3a9223]={'awaiting':!(-0x31b+-0xb2*-0x34+-0x210d*0x1),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x3a9223+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x165a77){let _0x5468ea=_0x165a77,_0x4e062e=_0x165a77;typeof _0x4e062e=='string'?_0x4e062e=this['system']['app']['scripts']['get'](_0x4e062e):_0x4e062e&&(_0x5468ea=_0x4e062e['__name']);const _0x12147b=this['_scriptsIn'+'dex'][_0x5468ea];if(delete this['_scriptsIn'+'dex'][_0x5468ea],!_0x12147b)return!(0x171d+0x166a+-0x2d86);this['_attribute'+'DataMap']['delete'](_0x5468ea);const _0x19e824=_0x12147b['instance'];if(_0x19e824&&!_0x19e824['_destroyed']){if(_0x19e824['enabled']=!(-0x1*0x13a2+-0x31*-0x3d+0x2*0x3fb),_0x19e824['_destroyed']=!(-0x539+0x3*0x91d+0xb0f*-0x2),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x19e824);else{const _0x5a38c4=this['_removeScr'+'iptInstanc'+'e'](_0x19e824);_0x5a38c4>=-0x12c5+0xa6c+-0x1*-0x859&&this['_resetExec'+'utionOrder'](_0x5a38c4,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x5468ea,_0x12147b['onSwap']),delete this[_0x5468ea],this['fire']('destroy',_0x5468ea,_0x19e824||null),this['fire']('destroy:'+_0x5468ea,_0x19e824||null),_0x19e824&&_0x19e824['fire']('destroy'),!(0x1f83+-0x1716+-0x86d);}['swap'](_0x405d7d){let _0x4cbe82=_0x405d7d,_0x4c1bd6=_0x405d7d;typeof _0x4c1bd6=='string'?_0x4c1bd6=this['system']['app']['scripts']['get'](_0x4c1bd6):_0x4c1bd6&&(_0x4cbe82=_0x4c1bd6['__name']);const _0x23d0f1=this['_scriptsIn'+'dex'][_0x4cbe82];if(!_0x23d0f1||!_0x23d0f1['instance'])return!(-0x1335+-0x51f*-0x4+-0x146);const _0x5b191d=_0x23d0f1['instance'],_0x1f0fe3=this['_scripts']['indexOf'](_0x5b191d),_0x19c14f=new _0x4c1bd6({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x5b191d['enabled'],'attributes':_0x5b191d['__attribut'+'es']});return _0x19c14f['swap']?(this['initialize'+'Attributes'](_0x19c14f),this['_scripts'][_0x1f0fe3]=_0x19c14f,this['_scriptsIn'+'dex'][_0x4cbe82]['instance']=_0x19c14f,this[_0x4cbe82]=_0x19c14f,_0x19c14f['__executio'+'nOrder']=_0x1f0fe3,_0x5b191d['update']&&this['_updateLis'+'t']['remove'](_0x5b191d),_0x5b191d['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x5b191d),_0x19c14f['update']&&this['_updateLis'+'t']['insert'](_0x19c14f),_0x19c14f['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x19c14f),this['_scriptMet'+'hod'](_0x19c14f,tD,_0x5b191d),this['fire']('swap',_0x4cbe82,_0x19c14f),this['fire']('swap:'+_0x4cbe82,_0x19c14f),!(-0x2635+-0x2141+0x3*0x17d2)):!(-0x1*0x12df+-0x1587*0x1+0x1*0x2867);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x47e907,_0x1cafa1){const _0x13aeec=this['entity']['script'];for(const _0x1670fb in _0x47e907['_scriptsIn'+'dex']){const _0x152ec6=this['system']['app']['scripts']['get'](_0x1670fb);if(!_0x152ec6)continue;const _0x1da635=_0x47e907['_scriptsIn'+'dex'][_0x1670fb];if(!_0x1da635||!_0x1da635['instance'])continue;const _0x527a59=_0x13aeec[_0x1670fb]['__attribut'+'esRaw'],_0x97f2d2=_0x13aeec[_0x1670fb]['__attribut'+'es'];if(!_0x527a59&&!_0x97f2d2)continue;const _0x5504cb=!!_0x527a59,_0x3f60e0=_0x1da635['instance']['__attribut'+'es'];for(const _0x50474e in _0x3f60e0){if(!_0x3f60e0[_0x50474e])continue;const _0x13848a=_0x152ec6['attributes']['get'](_0x50474e);if(_0x13848a){if(_0x13848a['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x13848a,_0x50474e,_0x3f60e0[_0x50474e],_0x5504cb,_0x527a59||_0x97f2d2,_0x1cafa1);else{if(_0x13848a['type']==='json'&&Array['isArray'](_0x13848a['schema'])){const _0x243b89=_0x3f60e0[_0x50474e],_0x5bb5f4=_0x527a59?_0x527a59[_0x50474e]:_0x97f2d2[_0x50474e];for(let _0x28968b=0x2b5+-0x6*0x482+0x1857;_0x28968b<_0x13848a['schema']['length'];_0x28968b++){const _0x90a75e=_0x13848a['schema'][_0x28968b];if(_0x90a75e['type']==='entity'){if(_0x13848a['array']){for(let _0xa19a03=0x150a+0x13d*0x1+-0x1647;_0xa19a03<_0x243b89['length'];_0xa19a03++)this['_resolveEn'+'tityScript'+'Attribute'](_0x90a75e,_0x90a75e['name'],_0x243b89[_0xa19a03][_0x90a75e['name']],_0x5504cb,_0x5bb5f4[_0xa19a03],_0x1cafa1);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x90a75e,_0x90a75e['name'],_0x243b89[_0x90a75e['name']],_0x5504cb,_0x5bb5f4,_0x1cafa1);}}}}}}}}['move'](_0x18cf72,_0x123e24){const _0x22e767=this['_scripts']['length'];if(_0x123e24>=_0x22e767||_0x123e24<-0x1ba3+-0x216e+-0x6c9*-0x9)return!(-0x742*0x1+0xd*-0x85+0x17*0x9c);let _0xb42810=_0x18cf72,_0x41bfb5=_0x18cf72;typeof _0x41bfb5!='string'?_0x41bfb5=_0x18cf72['__name']:_0xb42810=null;const _0x363b8a=this['_scriptsIn'+'dex'][_0x41bfb5];if(!_0x363b8a||!_0x363b8a['instance'])return!(0x1*0xee4+-0xa*0x13d+-0x281);const _0x22af35=_0x363b8a['instance'];if(_0xb42810&&!(_0x22af35 instanceof _0xb42810))return!(-0xc8e+-0xd*0x35+0xf40);const _0x20c795=this['_scripts']['indexOf'](_0x22af35);return _0x20c795===-(0xd3d*0x2+0x2516+-0x35*0x133)||_0x20c795===_0x123e24?!(0x10c5+0x25*-0x81+0x1e1*0x1):(this['_scripts']['splice'](_0x123e24,-0x142e+-0x1014+0x111*0x22,this['_scripts']['splice'](_0x20c795,-0x19f+0xb5+0xeb)[0x2*0x704+-0x479*-0x3+-0x1b73]),this['_resetExec'+'utionOrder'](-0x14c*0x8+-0x2007+0x87b*0x5,_0x22e767),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x41bfb5,_0x22af35,_0x123e24,_0x20c795),this['fire']('move:'+_0x41bfb5,_0x22af35,_0x123e24,_0x20c795),!(-0x8b5+0x1e6b+-0x15b6));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(-0x1*-0x12e2+0x17b*-0x6+-0xa*0x100);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=0x20e*0x11+0x118b*0x1+0x65*-0x85;class cD extends Xe{constructor(_0x10e83d){super(_0x10e83d),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x1072*0x1+-0x1c2c+0xbba),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x222a19,_0x32d7f2){if(_0x222a19['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x222a19),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x222a19['enabled']=_0x32d7f2['hasOwnProp'+'erty']('enabled')?!!_0x32d7f2['enabled']:!(0x3*-0xaf9+-0xb4d*-0x1+0x2*0xacf),_0x222a19['enabled']&&_0x222a19['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x222a19),_0x32d7f2['hasOwnProp'+'erty']('order')&&_0x32d7f2['hasOwnProp'+'erty']('scripts')){_0x222a19['_scriptsDa'+'ta']=_0x32d7f2['scripts'];for(let _0x16034b=0xe72+0x3*-0xb26+-0x4c*-0x40;_0x16034b<_0x32d7f2['order']['length'];_0x16034b++)_0x222a19['create'](_0x32d7f2['order'][_0x16034b],{'enabled':_0x32d7f2['scripts'][_0x32d7f2['order'][_0x16034b]]['enabled'],'attributes':_0x32d7f2['scripts'][_0x32d7f2['order'][_0x16034b]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x48e690,_0x7df384){var _0xa25213;const _0x4981a5=[],_0x49c291={};for(let _0x558f28=-0x5bf*-0x2+-0x565*0x1+-0x619;_0x558f28<_0x48e690['script']['_scripts']['length'];_0x558f28++){const _0x3e5657=_0x48e690['script']['_scripts'][_0x558f28],_0x485b00=_0x3e5657['__scriptTy'+'pe']['__name'];_0x4981a5['push'](_0x485b00);const _0x3df911=((_0xa25213=_0x48e690['script']['_attribute'+'DataMap'])==null?void(0x1a6e+0x16*-0x73+-0x108c):_0xa25213['get'](_0x485b00))||{};for(const _0x587389 in _0x3e5657['__attribut'+'es'])_0x3df911[_0x587389]=_0x3e5657['__attribut'+'es'][_0x587389];_0x49c291[_0x485b00]={'enabled':_0x3e5657['_enabled'],'attributes':_0x3df911};}for(const _0x515595 in _0x48e690['script']['_scriptsIn'+'dex'])_0x515595['awaiting']&&_0x4981a5['splice'](_0x515595['ind'],-0x1c98+-0x1ccc+0x3964*0x1,_0x515595);const _0x4c1e61={'enabled':_0x48e690['script']['enabled'],'order':_0x4981a5,'scripts':_0x49c291};return this['addCompone'+'nt'](_0x7df384,_0x4c1e61);}['_resetExec'+'utionOrder'](){Jl=0x1*0xa7b+-0x1*-0x3a+-0xab5;for(let _0x812a7c=0x1*-0x1d37+0x18ec+0x44b,_0xab4f11=this['_component'+'s']['length'];_0x812a7c<_0xab4f11;_0x812a7c++)this['_component'+'s']['items'][_0x812a7c]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x45a3bc,_0x1d34bf,_0x47a6e9){for(_0x45a3bc['loopIndex']=-0xe2*-0x2b+0x149e+-0x3a94*0x1;_0x45a3bc['loopIndex']<_0x45a3bc['length'];_0x45a3bc['loopIndex']++)_0x45a3bc['items'][_0x45a3bc['loopIndex']][_0x1d34bf](_0x47a6e9);}['_onInitial'+'ize'](){this['preloading']=!(0x906+0x16*-0xb+-0x9f*0xd),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x1562b6){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x1562b6);}['_onPostUpd'+'ate'](_0x5df1bb){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x5df1bb);}['_addCompon'+'entToEnabl'+'ed'](_0x2cf27f){this['_enabledCo'+'mponents']['insert'](_0x2cf27f);}['_removeCom'+'ponentFrom'+'Enabled'](_0x2715ba){this['_enabledCo'+'mponents']['remove'](_0x2715ba);}['_onBeforeR'+'emove'](_0x47c5e9,_0x2e8b6e){this['_component'+'s']['items']['indexOf'](_0x2e8b6e)>=0x25b1+-0xf2a+-0x1687&&_0x2e8b6e['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x2e8b6e),this['_component'+'s']['remove'](_0x2e8b6e);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x5e51d4,_0x2e8226){super(_0x5e51d4,_0x2e8226),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x5e51d4['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x2e8226['on']('remove',this['onRemoveCh'+'ild'],this),_0x2e8226['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x2e8226['on']('insert',this['onInsertCh'+'ild'],this),_0x2e8226['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x1ee076){var _0xb212fd,_0xdc7803;this['_customAab'+'b']=_0x1ee076,(_0xdc7803=(_0xb212fd=this['_instance'])==null?void(0x5c1*-0x2+0x1*0x103f+-0x4bd*0x1):_0xb212fd['meshInstan'+'ce'])==null||_0xdc7803['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x3e7415){var _0x263ebc;if(this['destroyIns'+'tance'](),this['_instance']=_0x3e7415,(_0x263ebc=this['_instance'])!=null&&_0x263ebc['meshInstan'+'ce']){const _0x466c59=this['_instance']['meshInstan'+'ce'];_0x466c59['node']||(_0x466c59['node']=this['entity']),_0x466c59['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x2be96a){this['_materialO'+'ptions']=Object['assign']({},_0x2be96a),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x23d651;return(_0x23d651=this['_instance'])==null?void(-0x67+0x112c+-0x10c5):_0x23d651['material'];}set['layers'](_0x411bc9){this['removeFrom'+'Layers'](),this['_layers']['length']=-0x16*0x2d+0x2534+-0x10ab*0x2;for(let _0x4dddf9=-0x2*0x599+0x254e+0x1a1c*-0x1;_0x4dddf9<_0x411bc9['length'];_0x4dddf9++)this['_layers'][_0x4dddf9]=_0x411bc9[_0x4dddf9];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x45b195){const _0x1cf29f=_0x45b195 instanceof le?_0x45b195['id']:_0x45b195;this['_assetRefe'+'rence']['id']!==_0x1cf29f&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x1cf29f,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x395869){const _0x342d1a=_0x395869 instanceof le?_0x395869['id']:_0x395869;this['_assetRefe'+'rence']['id']=_0x342d1a;}['destroyIns'+'tance'](){var _0x10fae6;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x10fae6=this['_instance'])==null||_0x10fae6['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x3ffedc,_0x1930df;const _0x35d47f=(_0x3ffedc=this['instance'])==null?void(-0x77+0x520+0x4a9*-0x1):_0x3ffedc['meshInstan'+'ce'];if(_0x35d47f){const _0x33aa18=this['system']['app']['scene']['layers'];for(let _0x10f94a=-0x5f+0xe93+-0xe34;_0x10f94a<this['_layers']['length'];_0x10f94a++)(_0x1930df=_0x33aa18['getLayerBy'+'Id'](this['_layers'][_0x10f94a]))==null||_0x1930df['addMeshIns'+'tances']([_0x35d47f]);}}['removeFrom'+'Layers'](){var _0x21aa92,_0x26bc7d;const _0x284c30=(_0x21aa92=this['instance'])==null?void(-0x2c5*-0x7+0x1*-0x1057+-0x30c):_0x21aa92['meshInstan'+'ce'];if(_0x284c30){const _0x145b55=this['system']['app']['scene']['layers'];for(let _0x133bc8=-0x1200+-0x3*0xaa9+-0x9ff*-0x5;_0x133bc8<this['_layers']['length'];_0x133bc8++)(_0x26bc7d=_0x145b55['getLayerBy'+'Id'](this['_layers'][_0x133bc8]))==null||_0x26bc7d['removeMesh'+'Instances']([_0x284c30]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x2b81b6,_0x2108fb){this['addToLayer'+'s'](),_0x2b81b6['off']('add',this['onLayerAdd'+'ed'],this),_0x2b81b6['off']('remove',this['onLayerRem'+'oved'],this),_0x2108fb['on']('add',this['onLayerAdd'+'ed'],this),_0x2108fb['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xb09a1d){this['layers']['indexOf'](_0xb09a1d['id'])<-0x1262*-0x1+-0x4d6*-0x2+0x1c0e*-0x1||this['_instance']&&_0xb09a1d['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x3fe39c){this['layers']['indexOf'](_0x3fe39c['id'])<-0x1efa+0x6f2+0x1808||this['_instance']&&_0x3fe39c['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x1d5b53=this['system']['app']['scene'],_0x4dfa7f=_0x1d5b53['layers'];this['_evtLayers'+'Changed']=_0x1d5b53['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4dfa7f&&(this['_evtLayerA'+'dded']=_0x4dfa7f['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4dfa7f['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x2ae326,_0x12b5b0,_0x25b800;const _0x169741=this['system']['app']['scene']['layers'];(_0x2ae326=this['_evtLayers'+'Changed'])==null||_0x2ae326['off'](),this['_evtLayers'+'Changed']=null,_0x169741&&((_0x12b5b0=this['_evtLayerA'+'dded'])==null||_0x12b5b0['off'](),this['_evtLayerA'+'dded']=null,(_0x25b800=this['_evtLayerR'+'emoved'])==null||_0x25b800['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x3bc+0x1dd1+-0x218c));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x11d8+-0x46d*0x4+0x238c));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x390aa6=this['_assetRefe'+'rence']['asset'];_0x390aa6&&(this['instance']=_0x390aa6['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(-0x225a*0x1+-0x1650+-0x2*-0x1c55);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x5aa26d){super(_0x5aa26d),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x57d90f,_0xc082e8,_0x5daf4f){_0xc082e8['layers']&&_0xc082e8['layers']['length']&&(_0xc082e8['layers']=_0xc082e8['layers']['slice'](0x1f7f+-0x2595+-0x2*-0x30b));for(let _0x313675=-0x48d+0x18be+-0x1431*0x1;_0x313675<Rr['length'];_0x313675++)_0xc082e8['hasOwnProp'+'erty'](Rr[_0x313675])&&(_0x57d90f[Rr[_0x313675]]=_0xc082e8[Rr[_0x313675]]);_0xc082e8['aabbCenter']&&_0xc082e8['aabbHalfEx'+'tents']&&(_0x57d90f['customAabb']=new _e(new T(_0xc082e8['aabbCenter']),new T(_0xc082e8['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x57d90f,_0xc082e8,yf);}['cloneCompo'+'nent'](_0x3754d0,_0x178970){const _0x130c40=_0x3754d0['gsplat'],_0x5d9967={};for(let _0x239716=0x37c*-0x9+-0x1cb+0x2127;_0x239716<Rr['length'];_0x239716++)_0x5d9967[Rr[_0x239716]]=_0x130c40[Rr[_0x239716]];_0x5d9967['enabled']=_0x130c40['enabled'],delete _0x5d9967['instance'];const _0x3dd7eb=this['addCompone'+'nt'](_0x178970,_0x5d9967);return _0x3dd7eb['instance']=_0x130c40['instance']['clone'](),_0x130c40['customAabb']&&(_0x3dd7eb['customAabb']=_0x130c40['customAabb']['clone']()),_0x3dd7eb;}['onRemove'](_0x582894,_0x33036a){_0x33036a['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x13e27b){this['decRefMesh'+'es'](),this['_meshes']=_0x13e27b,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x13e27b);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0xa46131;(_0xa46131=this['_meshes'])==null||_0xa46131['forEach']((_0x72e2b4,_0x28c55e)=>{_0x72e2b4&&(_0x72e2b4['decRefCoun'+'t'](),_0x72e2b4['refCount']<-0x125d+0xc34+0x62a&&(_0x72e2b4['destroy'](),this['_meshes'][_0x28c55e]=null));});}['incRefMesh'+'es'](){var _0x500cce;(_0x500cce=this['_meshes'])==null||_0x500cce['forEach'](_0x1fe2e=>{_0x1fe2e==null||_0x1fe2e['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0xbf0839){const _0x525787=this;if(!_0x525787['resource'])return;const _0x5a2b4a=_0xbf0839['resource'],_0x3d15b2=_0x5a2b4a['renders']&&_0x5a2b4a['renders'][_0x525787['data']['renderInde'+'x']];_0x3d15b2&&(_0x525787['resource']['meshes']=_0x3d15b2['resource']['meshes']);}function Lg(_0x1cf187){const _0xd6ee38=this;_0xd6ee38['registry']['off']('load:'+_0x1cf187['id'],yh,_0xd6ee38),_0xd6ee38['registry']['on']('load:'+_0x1cf187['id'],yh,_0xd6ee38),_0xd6ee38['registry']['off']('remove:'+_0x1cf187['id'],Fg,_0xd6ee38),_0xd6ee38['registry']['once']('remove:'+_0x1cf187['id'],Fg,_0xd6ee38),_0x1cf187['resource']?yh['call'](_0xd6ee38,_0x1cf187):_0xd6ee38['registry']['load'](_0x1cf187);}function Fg(_0x4f946a){const _0x2e6bbc=this;_0x2e6bbc['registry']['off']('load:'+_0x4f946a['id'],yh,_0x2e6bbc),_0x2e6bbc['resource']&&_0x2e6bbc['resource']['destroy']();}class fD extends Ne{constructor(_0x3f7a14){super(_0x3f7a14,'render'),this['_registry']=_0x3f7a14['assets'];}['open'](_0x5761f3,_0x4d72fc){return new Hp();}['patch'](_0x14e66a,_0x1f23e3){if(!_0x14e66a['data']['containerA'+'sset'])return;const _0x2a8ecd=_0x1f23e3['get'](_0x14e66a['data']['containerA'+'sset']);if(!_0x2a8ecd){_0x1f23e3['once']('add:'+_0x14e66a['data']['containerA'+'sset'],Lg,_0x14e66a);return;}Lg['call'](_0x14e66a,_0x2a8ecd);}}class Px{constructor(_0x129a02,_0x58c90d,_0x41897f,_0x503a3f){this['_paths']=_0x129a02,this['_input']=_0x58c90d,this['_output']=_0x41897f,this['_interpola'+'tion']=_0x503a3f;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0xcfbfb7,_0x2f6bdd){this['_component'+'s']=_0xcfbfb7,this['_data']=_0x2f6bdd;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x5a3b07,_0x4b2249){let _0x2b1c42;const _0x3a56cd=(_0x5d8d36,_0x2e7e5a)=>{switch(_0x2e7e5a){case _0x2b1c42['DT_INT8']:return new Int8Array(_0x5d8d36['buffer'],_0x5d8d36['byteOffset'],_0x5d8d36['byteLength']);case _0x2b1c42['DT_INT16']:return new Int16Array(_0x5d8d36['buffer'],_0x5d8d36['byteOffset'],_0x5d8d36['byteLength']/(0x913*0x1+-0x125*0x18+0x2a1*0x7));case _0x2b1c42['DT_INT32']:return new Int32Array(_0x5d8d36['buffer'],_0x5d8d36['byteOffset'],_0x5d8d36['byteLength']/(-0xa1c+0x15a*-0x1+0xb7a));case _0x2b1c42['DT_UINT8']:return new Uint8Array(_0x5d8d36['buffer'],_0x5d8d36['byteOffset'],_0x5d8d36['byteLength']);case _0x2b1c42['DT_UINT16']:return new Uint16Array(_0x5d8d36['buffer'],_0x5d8d36['byteOffset'],_0x5d8d36['byteLength']/(-0x248f+0x16f*0x13+0x954));case _0x2b1c42['DT_UINT32']:return new Uint32Array(_0x5d8d36['buffer'],_0x5d8d36['byteOffset'],_0x5d8d36['byteLength']/(-0x17ee+-0xaff*0x3+0x38ef));case _0x2b1c42['DT_FLOAT32']:return new Float32Array(_0x5d8d36['buffer'],_0x5d8d36['byteOffset'],_0x5d8d36['byteLength']/(0x1*-0x1d44+0x2707*0x1+-0x5*0x1f3));}return null;},_0x21a22b=_0x259dad=>{switch(_0x259dad){case _0x2b1c42['DT_INT8']:return-0x1ce2+0x1352+0x991;case _0x2b1c42['DT_INT16']:return-0x93e+-0x1*0x4fc+-0x38f*-0x4;case _0x2b1c42['DT_INT32']:return 0x44b*0x5+0x13*0x107+0xe4*-0x2e;case _0x2b1c42['DT_UINT8']:return-0x2b7+0x1887+-0x15cf;case _0x2b1c42['DT_UINT16']:return 0x1*0x5ad+0x7f3*-0x1+0x248;case _0x2b1c42['DT_UINT32']:return 0x195e+0x52*0x9+-0x1c3c*0x1;case _0x2b1c42['DT_FLOAT32']:return-0x728+0x10a5*0x2+-0xd0f*0x2;}return-0x4d2*-0x1+-0xe5*0x1a+0x1271;},_0x58f2b7=_0x5e70e8=>_0x5e70e8['num_compon'+'ents']()*_0x21a22b(_0x5e70e8['data_type']()),_0x4dbbde={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x17a9cb=(_0x536e3f,_0x7d3127)=>{const _0x209b31=(_0x17941d,_0x1ab248,_0x3e38d9)=>{_0x17941d[0x8d+-0x49c*-0x4+-0x12fd]=_0x1ab248[-0x3*-0x2cd+0x1f7f+-0x27e6]-_0x3e38d9[-0x2493+0x2*-0x155+-0x1*-0x273d],_0x17941d[-0x4*0x832+0x58*-0x19+0x2961]=_0x1ab248[0x4f5+0x10a3+-0x1597*0x1]-_0x3e38d9[0x17b+-0x26b9+-0x773*-0x5],_0x17941d[-0x4*-0x787+0xf71+-0x2d8b]=_0x1ab248[0xc90+-0x3*-0x13a+-0x103c]-_0x3e38d9[0x3*-0x207+-0x19d8+0x1fef];},_0x141977=(_0x2bd0cd,_0xa18908,_0x52a1d7)=>{_0x2bd0cd[0xbc*-0xb+-0x446+0xc5a]=_0xa18908[-0x11*0x125+-0x3*-0x405+0x767*0x1]*_0x52a1d7[-0x2*-0x307+0x2026*0x1+-0x2632]-_0x52a1d7[-0x283*-0x3+-0x212d+-0x521*-0x5]*_0xa18908[0x1af*-0x2+0x1fd6+0x1c76*-0x1],_0x2bd0cd[-0x2*0x211+0x1f1a+-0x1af7]=_0xa18908[0x12cc+-0x3da+-0xef0]*_0x52a1d7[0x5*-0x2e+0x41*-0x2f+0xcd5]-_0x52a1d7[0xdae+0x18ec*0x1+-0x2698]*_0xa18908[-0x1981+-0x5f3*0x1+-0xa7c*-0x3],_0x2bd0cd[-0x2603*0x1+0x52f+0x20d6]=_0xa18908[-0x1cd1+-0x8*0x167+0x115*0x25]*_0x52a1d7[-0x1*0x24ed+0x207a+-0x23a*-0x2]-_0x52a1d7[0x23f+0xdd5+-0x1014]*_0xa18908[-0x1519+0x274+0x12a6];},_0x63505b=(_0xaeaea5,_0x578b48)=>{const _0x410c62=_0xaeaea5[_0x578b48+(0xf50+-0x1*0x258d+-0x1*-0x163d)],_0x1e2acd=_0xaeaea5[_0x578b48+(-0x1*-0x5fb+0x2*0x8a9+-0x174c)],_0x273eae=_0xaeaea5[_0x578b48+(-0x7*0x447+-0x169*0xe+0x1*0x31b1)],_0x21497b=(0xd00+0x2699+-0x3398)/Math['sqrt'](_0x410c62*_0x410c62+_0x1e2acd*_0x1e2acd+_0x273eae*_0x273eae);_0xaeaea5[_0x578b48+(-0x2c*0xcb+0x2*0xbd7+0xb36)]*=_0x21497b,_0xaeaea5[_0x578b48+(0x100d+-0xd6d+-0x29f)]*=_0x21497b,_0xaeaea5[_0x578b48+(-0xab6+-0x2*-0x99e+-0x884)]*=_0x21497b;},_0x5584b8=(_0x51e786,_0x5428df,_0x23d122)=>{for(let _0x31fea9=-0x8b8+0x437*0x5+-0xc5b;_0x31fea9<0x12*-0x8b+-0x36e*-0x4+-0x1*0x3ef;++_0x31fea9)_0x51e786[_0x31fea9]=_0x5428df[_0x23d122+_0x31fea9];},_0x3b4fba=_0x7d3127['length']/(0x3*0x9a1+-0x1ed1+0x1f1),_0x378f43=_0x536e3f['length']/(0x197b+-0x1233+-0x1*0x745),_0x1b77a7=new Float32Array(_0x536e3f['length']),_0x2823fa=[-0x509+-0x6e7+-0x2*-0x5f8,0x1ef+-0x1fa*0x7+0xbe7,0xdbd*0x1+0xdd+-0x15*0xb2],_0x270582=[-0x12c7+-0x19fe+0x2cc5,0x11cd+0x1dab+-0x2*0x17bc,0x464+-0x128*0xd+0xaa4],_0x213db3=[-0x5a6*0x4+0xa*-0x209+0x2af2*0x1,0x19b9+0x1c06+-0x1*0x35bf,-0x1907+-0x1f6*-0xa+0x56b],_0x517e91=[0x1e98+-0x10f1+-0xda7,0x1df0+-0x546+-0x1*0x18aa,-0x1dec+0x2ed*-0xd+-0x9*-0x78d],_0x196c94=[0xee1+-0xb*0x2e7+0x110c,-0x1*0x251f+0x1057+0x14c8,-0xe77+0x2495+-0x12a*0x13],_0x13b73e=[0x5*0x32+-0xda6+-0x32b*-0x4,0x9fe*0x1+0x1768*0x1+-0x96*0x39,-0x259e+-0x58e*0x4+-0x6*-0x9f9];for(let _0x3177e0=-0x12b8+0x2*0x9+0x12a6;_0x3177e0<_0x3b4fba;++_0x3177e0){const _0x571bb8=_0x7d3127[_0x3177e0*(0xa61+0xba3+-0x1601)+(0x1*0x1fb5+0x89e+-0x2853)]*(0x13c3*-0x1+0x8f1*-0x1+0x1cb7),_0x556f47=_0x7d3127[_0x3177e0*(0x920*-0x1+-0x1*0x21cf+0x2af2)+(-0x2378+0x104a+-0x665*-0x3)]*(0x362+0x2c*-0x58+-0xb1*-0x11),_0x4bbb37=_0x7d3127[_0x3177e0*(-0xd*0x224+-0x240e+0x3fe5)+(-0xf72*-0x2+0x1170+-0xa*0x4d5)]*(0x25e6+0x2cf*-0x7+-0x2*0x91d);_0x5584b8(_0x2823fa,_0x536e3f,_0x571bb8),_0x5584b8(_0x270582,_0x536e3f,_0x556f47),_0x5584b8(_0x213db3,_0x536e3f,_0x4bbb37),_0x209b31(_0x517e91,_0x270582,_0x2823fa),_0x209b31(_0x196c94,_0x213db3,_0x2823fa),_0x141977(_0x13b73e,_0x517e91,_0x196c94),_0x63505b(_0x13b73e,0x1*0xf45+-0x1*0x2161+0x121c);for(let _0x597f72=-0x395*0x7+-0x1a*-0x123+-0x25*0x1f;_0x597f72<-0x3ce+-0x20d6+0x355*0xb;++_0x597f72)_0x1b77a7[_0x571bb8+_0x597f72]+=_0x13b73e[_0x597f72],_0x1b77a7[_0x556f47+_0x597f72]+=_0x13b73e[_0x597f72],_0x1b77a7[_0x4bbb37+_0x597f72]+=_0x13b73e[_0x597f72];}for(let _0x3c8d64=-0x3d*-0x9b+-0xc1*-0xe+-0x2f7d;_0x3c8d64<_0x378f43;++_0x3c8d64)_0x63505b(_0x1b77a7,_0x3c8d64*(-0x3e3*-0x2+-0x957+0xca*0x2));return new Uint8Array(_0x1b77a7['buffer']);},_0x4681a7=_0x213132=>{const _0x596262={},_0x541cc4=new _0x2b1c42['DecoderBuf'+'fer']();_0x541cc4['Init'](_0x213132,_0x213132['length']);const _0x1de93c=new _0x2b1c42['Decoder']();if(_0x1de93c['GetEncoded'+'GeometryTy'+'pe'](_0x541cc4)!==_0x2b1c42['TRIANGULAR'+'_MESH'])return _0x596262['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x596262;const _0x1bc30b=new _0x2b1c42['Mesh'](),_0x2b0249=_0x1de93c['DecodeBuff'+'erToMesh'](_0x541cc4,_0x1bc30b);if(!_0x2b0249||!_0x2b0249['ok']()||_0x2b1c42['getPointer'](_0x1bc30b)===0x100f*0x2+-0x1a+-0x2004)return _0x596262['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x596262;const _0x121355=_0x1bc30b['num_faces']()*(0x1a97+-0x12f5*-0x1+0x1*-0x2d89),_0x471b40=_0x1bc30b['num_points']()<=0x65*-0x347+0xdf2e+-0x5*-0x48c4,_0xb2841c=_0x121355*(_0x471b40?0x2a7+0x1*0xef9+0x19a*-0xb:0x463+-0x9ac*-0x4+-0x2b0f),_0x427cba=_0x2b1c42['_malloc'](_0xb2841c);_0x471b40?(_0x1de93c['GetTriangl'+'esUInt16Ar'+'ray'](_0x1bc30b,_0xb2841c,_0x427cba),_0x596262['indices']=new Uint16Array(_0x2b1c42['HEAPU16']['buffer'],_0x427cba,_0x121355)['slice']()['buffer']):(_0x1de93c['GetTriangl'+'esUInt32Ar'+'ray'](_0x1bc30b,_0xb2841c,_0x427cba),_0x596262['indices']=new Uint32Array(_0x2b1c42['HEAPU32']['buffer'],_0x427cba,_0x121355)['slice']()['buffer']),_0x2b1c42['_free'](_0x427cba);const _0x5077a9=[];for(let _0x2c0e39=-0x551+0x1a7a*-0x1+0x1fcb;_0x2c0e39<_0x1bc30b['num_attrib'+'utes']();++_0x2c0e39)_0x5077a9['push'](_0x1de93c['GetAttribu'+'te'](_0x1bc30b,_0x2c0e39));_0x5077a9['sort']((_0x5cd02b,_0x1984ee)=>(_0x4dbbde[_0x5cd02b['attribute_'+'type']()]??_0x4dbbde['length'])-(_0x4dbbde[_0x1984ee['attribute_'+'type']()]??_0x4dbbde['length'])),_0x596262['attributes']=_0x5077a9['map'](_0x153264=>_0x153264['unique_id']());let _0x2df6bf=-0x1fc1*0x1+-0xd*0x151+0x4e3*0xa;const _0x57bd92=_0x5077a9['map'](_0x29c790=>{const _0x516079=_0x2df6bf;return _0x2df6bf+=Math['ceil'](_0x58f2b7(_0x29c790)/(-0x1*-0x1da6+0xe27*0x1+-0x3fb*0xb))*(0x5*0x36d+0xd06*0x1+-0x1e23*0x1),_0x516079;}),_0x4a05cc=_0x5077a9['some'](_0x28054b=>_0x28054b['attribute_'+'type']()===-0x13ad+0x17*-0x11f+0x1*0x2d77),_0x441749=_0x57bd92[-0x2*-0x1b4+-0x23d5*0x1+-0x4a2*-0x7];if(!_0x4a05cc){for(let _0x23aeb2=0x2658+-0x3*-0x718+-0x3b9f;_0x23aeb2<_0x57bd92['length'];++_0x23aeb2)_0x57bd92[_0x23aeb2]+=-0xa3*0xa+-0x1*0x2093+0x26fd;_0x2df6bf+=-0x15cf+0x1767*-0x1+0x2d42;}_0x596262['vertices']=new ArrayBuffer(_0x1bc30b['num_points']()*_0x2df6bf);const _0x305c3e=new Uint8Array(_0x596262['vertices']);for(let _0x137ccb=0x109d*-0x1+-0x1bf6+0x2c93;_0x137ccb<_0x1bc30b['num_attrib'+'utes']();++_0x137ccb){const _0x17854b=_0x5077a9[_0x137ccb],_0x3ffcb2=_0x58f2b7(_0x17854b),_0xc146f3=_0x1bc30b['num_points']()*_0x3ffcb2,_0xf4cf60=_0x2b1c42['_malloc'](_0xc146f3);_0x1de93c['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x1bc30b,_0x17854b,_0x17854b['data_type'](),_0xc146f3,_0xf4cf60);const _0x223d0f=new Uint8Array(_0x2b1c42['HEAPU8']['buffer'],_0xf4cf60,_0xc146f3);for(let _0x1311b7=0x13e3+-0x3d*-0x57+-0x289e;_0x1311b7<_0x1bc30b['num_points']();++_0x1311b7)for(let _0x3376fa=0x1a81+0x61*0x14+-0x2215;_0x3376fa<_0x3ffcb2;++_0x3376fa)_0x305c3e[_0x1311b7*_0x2df6bf+_0x57bd92[_0x137ccb]+_0x3376fa]=_0x223d0f[_0x1311b7*_0x3ffcb2+_0x3376fa];if(!_0x4a05cc&&_0x17854b['attribute_'+'type']()===-0xf6f+0x93a+0x635){const _0x21c2bc=_0x17a9cb(_0x3a56cd(_0x223d0f,_0x17854b['data_type']()),_0x471b40?new Uint16Array(_0x596262['indices']):new Uint32Array(_0x596262['indices']));for(let _0x1fb90=0x1*-0x55e+0x15e*0x16+-0x18b6;_0x1fb90<_0x1bc30b['num_points']();++_0x1fb90)for(let _0x348ce9=-0x1*0x1ecf+-0x5b4*-0x1+0x191b;_0x348ce9<0x1b49+-0xeb0*0x1+-0xc8d;++_0x348ce9)_0x305c3e[_0x1fb90*_0x2df6bf+_0x441749+_0x348ce9]=_0x21c2bc[_0x1fb90*(0x1534+-0xb8*0x20+-0x3b*-0x8)+_0x348ce9];}_0x2b1c42['_free'](_0xf4cf60);}return _0x2b1c42['destroy'](_0x1bc30b),_0x2b1c42['destroy'](_0x1de93c),_0x2b1c42['destroy'](_0x541cc4),_0x596262;},_0x36800d=_0x1c0add=>{const _0x4226dc=_0x4681a7(new Uint8Array(_0x1c0add['buffer']));self['postMessag'+'e']({'jobId':_0x1c0add['jobId'],'error':_0x4226dc['error'],'indices':_0x4226dc['indices'],'vertices':_0x4226dc['vertices'],'attributes':_0x4226dc['attributes']},[_0x4226dc['indices'],_0x4226dc['vertices']]['filter'](_0x447d35=>_0x447d35!=null));},_0x4f4145=[];self['onmessage']=_0xdac53a=>{const _0x5a6029=_0xdac53a['data'];switch(_0x5a6029['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x200a5b,_0x37396e)=>(WebAssembly['instantiat'+'e'](_0x5a6029['module'],_0x200a5b)['then'](_0xa13bb7=>_0x37396e(_0xa13bb7))['catch'](_0x56ce52=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x56ce52)),{})})['then'](_0x217e04=>{_0x2b1c42=_0x217e04,_0x4f4145['forEach'](_0x33204d=>_0x36800d(_0x33204d));});break;case'decodeMesh':_0x2b1c42?_0x36800d(_0x5a6029):_0x4f4145['push'](_0x5a6029);break;}};}const Og=0x1*-0x2565+-0x7*-0x1b7+-0x3a1*-0x7;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x2*0x1099+0xe04+-0x132e*-0x1,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0xe776cb,_0x33178d)=>{_0xe776cb['postMessag'+'e']({'type':'decodeMesh','jobId':_0x33178d['jobId'],'buffer':_0x33178d['buffer']},[_0x33178d['buffer']]);};}['init'](_0x56e70c){for(_0x56e70c['forEach'](_0x5656ca=>{_0x5656ca['addEventLi'+'stener']('message',_0x5ee7ae=>{const _0x35226c=_0x5ee7ae['data'],_0x24648d=this['jobCallbac'+'ks']['get'](_0x35226c['jobId']);if(_0x24648d&&_0x24648d(_0x35226c['error'],{'indices':_0x35226c['indices'],'vertices':_0x35226c['vertices'],'attributes':_0x35226c['attributes']}),this['jobCallbac'+'ks']['delete'](_0x35226c['jobId']),this['jobQueue']['length']>0x19fd+0x11*0x1f6+0x3b53*-0x1){const _0x2a8934=this['jobQueue']['shift']();this['run'](_0x5656ca,_0x2a8934);}else{const _0x549681=this['workers'][0x1968+0x203c*-0x1+0x6d6]['indexOf'](_0x5656ca);if(_0x549681!==-(-0x3*0x86f+0x231e+-0x9d0))this['workers'][0x186*0x9+-0x177d*0x1+-0x3*-0x343]['splice'](_0x549681,-0x381*-0xb+0x16*0xc5+-0x32*0x11c),this['workers'][-0x8b*0x4+-0x1d45*-0x1+0x242*-0xc]['push'](_0x5656ca);else{const _0x2a733d=this['workers'][0x2196+-0x52*-0x59+-0x3e17]['indexOf'](_0x5656ca);_0x2a733d!==-(0x21e1+0x92*0x2b+-0x3a66)?(this['workers'][0x24c1+-0x208b*0x1+-0x435*0x1]['splice'](_0x2a733d,0x397+-0x5e0+0x24a),this['workers'][0x1931+-0xe*-0x27e+-0x1407*0x3]['push'](_0x5656ca)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][0x1*-0xb51+-0x58f+-0x48*-0x3c]=_0x56e70c;this['jobQueue']['length']&&(this['workers'][0x2de*-0x1+0x25*-0x84+0x15f2]['length']||this['workers'][-0x5b5+-0x14ed+-0x3*-0x8e1]['length']);){const _0x416bd0=this['jobQueue']['shift']();if(this['workers'][0x71*-0x1a+0x13b5*0x1+-0x83b*0x1]['length']>0x3*0x3bb+-0x92a*-0x3+-0x26af){const _0x9021a3=this['workers'][-0x7*-0x186+-0x1441*-0x1+-0x1eeb]['shift']();this['workers'][0x22d9+-0xbdf*-0x1+-0x2eb7*0x1]['push'](_0x9021a3),this['run'](_0x9021a3,_0x416bd0);}else{const _0xabae18=this['workers'][0x1e*-0x7f+0xcd7+-0x83*-0x4]['shift']();this['workers'][0xfeb*-0x1+-0x1df2+-0x2ddf*-0x1]['push'](_0xabae18),this['run'](_0xabae18,_0x416bd0);}}}['enqueueJob'](_0x397c0b,_0x2244c6){const _0xd8c310={'jobId':this['jobId']++,'buffer':_0x397c0b};if(this['jobCallbac'+'ks']['set'](_0xd8c310['jobId'],_0x2244c6),this['workers'][-0x1*0x1db3+-0x2343*-0x1+-0x590]['length']>0x4cf*0x2+0x2*-0x553+0x2c*0x6){const _0x1030c8=this['workers'][-0x212c+0x2652+-0x1*0x526]['shift']();this['workers'][0x117*0x1d+-0xd94+-0x1206]['push'](_0x1030c8),this['run'](_0x1030c8,_0xd8c310);}else{if(this['workers'][0x181+0x119a*0x2+-0x24b4]['length']>0x796+-0x21bb+0x1a25){const _0x1a0d8d=this['workers'][-0xc*-0x34+-0x2*0x199+0xc3]['shift']();this['workers'][0x1fa0+-0x35a+-0x1c44]['push'](_0x1a0d8d),this['run'](_0x1a0d8d,_0xd8c310);}else this['jobQueue']['push'](_0xd8c310);}}}const _D=_0xab735a=>new Promise((_0x4a4e0a,_0x4802f6)=>{const _0x56fc6f={'cache':!(-0xc71*0x3+0x3*-0xa38+0x43fb),'responseType':'text','retry':Og>-0x1296+-0x83d*0x4+0x6*0x897,'maxRetries':Og};We['get'](_0xab735a,_0x56fc6f,(_0x21f475,_0xaf0b67)=>{_0x21f475?_0x4802f6(_0x21f475):_0x4a4e0a(_0xaf0b67);});}),gD=_0x5eb0e1=>{const _0x1422f9=()=>fetch(_0x5eb0e1)['then'](_0x2f28a7=>_0x2f28a7['arrayBuffe'+'r']())['then'](_0x47946d=>WebAssembly['compile'](_0x47946d)),_0x13080d=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x5eb0e1))['catch'](_0x1fa6ae=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x5eb0e1+'\x20('+_0x1fa6ae+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x1422f9()));return WebAssembly['compileStr'+'eaming']?_0x13080d():_0x1422f9();},kg=-0xcae+-0x25b9+-0xc9a*-0x4;let xh;const yD=_0x45f199=>{if(xh)return!(0x4e6*0x2+0xcbe+-0x2*0xb45);if(!_0x45f199){const _0x2ac04c=ay['getConfig']('DracoDecod'+'erModule');_0x2ac04c?_0x45f199={'jsUrl':_0x2ac04c['glueUrl'],'wasmUrl':_0x2ac04c['wasmUrl'],'numWorkers':_0x2ac04c['numWorkers']}:_0x45f199={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x45f199['jsUrl']||!_0x45f199['wasmUrl']?!(0x1c38+-0x6d*-0x3a+0x69*-0x81):(xh=new mD(),Promise['all']([_D(_0x45f199['jsUrl']),gD(_0x45f199['wasmUrl'])])['then'](([_0x241c55,_0x1e08e4])=>{const _0x13cd40=['/*\x20draco\x20*'+'/',_0x241c55,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x409cd4=new Blob([_0x13cd40],{'type':'applicatio'+'n/javascri'+'pt'}),_0x4fb338=URL['createObje'+'ctURL'](_0x409cd4),_0x22ae5c=Math['max'](-0x2645+0x7a0+0x2*0xf53,Math['min'](-0x1*-0x5c9+0x9*0x171+-0x12b2,_0x45f199['numWorkers']||kg)),_0x573aec=[];for(let _0x5e2a98=0x123a+-0x23cf+0x1195;_0x5e2a98<_0x22ae5c;++_0x5e2a98){const _0x4b259a=new Worker(_0x4fb338);_0x4b259a['postMessag'+'e']({'type':'init','module':_0x1e08e4}),_0x573aec['push'](_0x4b259a);}xh['init'](_0x573aec);}),!(-0x18b5+0x139e+0x1*0x517));},xD=(_0x3ddcf9,_0x5d9f43)=>yD()?(xh['enqueueJob'](_0x3ddcf9,_0x5d9f43),!(0x1b*0x12e+0x1*0x19bb+-0x1*0x3995)):!(0x10a7+-0xfa1+0x57*-0x3);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x2eb649=>{_0x2eb649['meshes']=null;});}}const Rx=_0x52fcdb=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x52fcdb),vD=_0xd7293b=>_0xd7293b['substring'](_0xd7293b['indexOf'](':')+(-0x117*-0x17+0x1*0x5ef+-0xa55*0x3),_0xd7293b['indexOf'](';')),$o=_0xfe7d5d=>{switch(_0xfe7d5d){case'SCALAR':return-0x219b+0x261b+-0x47f;case'VEC2':return 0xfaf*0x1+0x2*-0x1367+-0x1721*-0x1;case'VEC3':return-0x16*0x105+-0xb5*-0x25+0x1*-0x3b8;case'VEC4':return-0x16cd+-0xb61*-0x2+-0x5*-0x3;case'MAT2':return-0x1715*-0x1+-0x257*-0x7+-0x2772;case'MAT3':return 0xa3e+0x1e5b+0xb*-0x3b0;case'MAT4':return-0x1*-0x782+-0x26f4+-0x25*-0xda;default:return-0x1*-0x156b+-0x22*-0x13+-0xbf7*0x2;}},Jc=_0x5bb10e=>{switch(_0x5bb10e){case-0x15f7+0x104c+0x19ab:return Rc;case-0x6*-0x17b+0x1e09+-0x64e*0x3:return Kr;case-0x4db+0xbb6+0x1*0xd27:return Ic;case 0xa*0x261+-0x12f6+0xf2f:return el;case 0x2642+0x1a9a+0x52*-0x8c:return By;case-0x145f+-0x8*-0x3cd+-0x1aa*-0x6:return Do;case 0x1942+0x6*-0x4e3+-0x1816*-0x1:return Ee;default:return-0x1*0x15f3+-0xd4*-0x13+0x637;}},bD=_0x1b6742=>{switch(_0x1b6742){case-0x119+0x1*-0xb3f+-0x3c*-0x8a:return-0x2415+0x2*-0xcf7+0x3e04;case 0x3*0xc62+0x3*0xf5+-0x1404:return 0x1f81+-0xcae+-0x12d2;case-0x1544+-0x151c+0x3e62:return 0x15b4+0x19b1*-0x1+0x3*0x155;case-0x1335*-0x2+0x797+0x6*-0x455:return-0x1*0x22a9+0x1fcb+-0x10*-0x2e;case-0x20f4+-0x221*0x1+0x3719:return 0x48b*-0x7+-0x139+0x210a;case 0x423*0x1+0x39b*-0x9+0x3055:return 0x2fd+-0x7*-0x3c7+0x6*-0x4e7;case-0x10ca+-0x147c+-0x394c*-0x1:return 0xa41+-0x1*-0x26da+-0x3117*0x1;default:return 0x286+-0x76d+-0x4e7*-0x1;}},wD=_0x24e3da=>{switch(_0x24e3da){case 0x8a4+-0x1e6a+0x1*0x29c6:return Int8Array;case-0x396+0x1*0x179e+-0x7:return Uint8Array;case-0x25d2+-0x107c*-0x2+0x18dc:return Int16Array;case-0x587+-0x1312+0x476*0xa:return Uint16Array;case 0x851*0x4+0x7de+0x1*-0x151e:return Int32Array;case 0xc*0x124+0x2169+0x6c5*-0x4:return Uint32Array;case-0x12e2+0x15c4+0x1*0x1124:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:-0x1c47+0x1754+0x4f3,[Yt]:0x31*0x79+0x1eb*-0xb+-0x20f,[Zs]:0x593*-0x1+0x1d79+-0x17e4,[At]:0x1972+-0x503*-0x1+-0x1e72,[qt]:-0x22ed+0xc68+0x1689,[Ys]:-0x1868+-0xc2c+0x15b*0x1b,[ns]:-0x1*0x24ab+-0x94*0x19+0x3325,[_n]:0x4ae*0x7+-0x1*0x17a1+0x91a*-0x1,[jo]:0x1*0x13ee+-0x2332+0xf4c,[Yo]:-0x21a*0x4+0x4d*0x7b+0x2db*-0xa,[Ko]:0x30d*0x3+-0x1c*-0x155+-0x2e69,[Zo]:-0x1e15+0xb*-0x103+-0x2941*-0x1,[Qo]:-0x1e5b+-0x2c*0x9f+0x39bb,[Jo]:0xe43+-0x21a6+0x1370*0x1},TD=_0x2b3a7e=>{switch(_0x2b3a7e){case Rc:return _0x372085=>Math['max'](_0x372085/(-0x194*0x8+0xe36+-0x117),-(0x1593+-0x1acd+0x53b*0x1));case Kr:return _0x168bb3=>_0x168bb3/(0x1*-0x13e1+0x25e5*-0x1+-0x5*-0xbc1);case Ic:return _0x466e3d=>Math['max'](_0x466e3d/(0x5d37*-0x2+0x2393*0x5+-0x9a*-0xe3),-(0x2274+0x69*0x16+-0x2b79));case el:return _0x3273fa=>_0x3273fa/(-0x731*0x2e+0x18d94+0xbd39);default:return _0x460bb6=>_0x460bb6;}},xf=(_0x4b23c8,_0x4bfff4,_0x54a88d)=>{const _0x16d66e=TD(_0x54a88d),_0x5365cc=_0x4bfff4['length'];for(let _0x1709d7=-0x110c+-0x1f86+0x3092;_0x1709d7<_0x5365cc;++_0x1709d7)_0x4b23c8[_0x1709d7]=_0x16d66e(_0x4bfff4[_0x1709d7]);return _0x4b23c8;},sn=(_0x56b21c,_0x230258,_0x46ef24=!(0x7*-0x1b7+-0x1064*0x1+0x1c66))=>{const _0x213af0=$o(_0x56b21c['type']),_0x4070f9=wD(_0x56b21c['componentT'+'ype']);if(!_0x4070f9)return null;let _0x165389;if(_0x56b21c['sparse']){const _0x3ea86b=_0x56b21c['sparse'],_0x3424fd={'count':_0x3ea86b['count'],'type':'SCALAR'},_0x50ee03=sn(Object['assign'](_0x3424fd,_0x3ea86b['indices']),_0x230258,!(-0x1b*-0xfe+-0x2*0x47a+-0x11d6)),_0x1e4b2c={'count':_0x3ea86b['count'],'type':_0x56b21c['type'],'componentType':_0x56b21c['componentT'+'ype']},_0x39a276=sn(Object['assign'](_0x1e4b2c,_0x3ea86b['values']),_0x230258,!(-0x1b57*-0x1+0x2*0x9c2+-0x5*0x95f));if(_0x56b21c['hasOwnProp'+'erty']('bufferView')){const _0x2e2846={'bufferView':_0x56b21c['bufferView'],'byteOffset':_0x56b21c['byteOffset'],'componentType':_0x56b21c['componentT'+'ype'],'count':_0x56b21c['count'],'type':_0x56b21c['type']};_0x165389=sn(_0x2e2846,_0x230258,!(0x25ab+0x7cf+-0x16bd*0x2))['slice']();}else _0x165389=new _0x4070f9(_0x56b21c['count']*_0x213af0);for(let _0x393a6c=0x1397+0x8*-0x3b3+-0xc5*-0xd;_0x393a6c<_0x3ea86b['count'];++_0x393a6c){const _0xbd9440=_0x50ee03[_0x393a6c];for(let _0x2318aa=-0x317+-0x5*-0x3a1+-0xf0e;_0x2318aa<_0x213af0;++_0x2318aa)_0x165389[_0xbd9440*_0x213af0+_0x2318aa]=_0x39a276[_0x393a6c*_0x213af0+_0x2318aa];}}else{if(_0x56b21c['hasOwnProp'+'erty']('bufferView')){const _0x479e6d=_0x230258[_0x56b21c['bufferView']];if(_0x46ef24&&_0x479e6d['hasOwnProp'+'erty']('byteStride')){const _0x4a8073=_0x213af0*_0x4070f9['BYTES_PER_'+'ELEMENT'],_0x77b267=new ArrayBuffer(_0x56b21c['count']*_0x4a8073),_0x2a06d9=new Uint8Array(_0x77b267);let _0x54ee98=0x8b7*-0x3+0x1*0x166a+0x5*0xbf;for(let _0x1c3d83=-0x17be+-0x9a2+0x2160;_0x1c3d83<_0x56b21c['count'];++_0x1c3d83){let _0x18058e=(_0x56b21c['byteOffset']||0x19dc+-0x1*0x2551+0xb75)+_0x1c3d83*_0x479e6d['byteStride'];for(let _0x15465a=0x236b+-0x1cd*-0x12+-0x43d5;_0x15465a<_0x4a8073;++_0x15465a)_0x2a06d9[_0x54ee98++]=_0x479e6d[_0x18058e++];}_0x165389=new _0x4070f9(_0x77b267);}else _0x165389=new _0x4070f9(_0x479e6d['buffer'],_0x479e6d['byteOffset']+(_0x56b21c['byteOffset']||0x1e4b+0x319*-0x5+0x5*-0x2f6),_0x56b21c['count']*_0x213af0);}else _0x165389=new _0x4070f9(_0x56b21c['count']*_0x213af0);}return _0x165389;},ma=(_0x2f4e43,_0x27b71b)=>{const _0x55bd3e=sn(_0x2f4e43,_0x27b71b,!(-0x67*-0x50+-0xe*0x27e+0x2b4));if(_0x55bd3e instanceof Float32Array||!_0x2f4e43['normalized'])return _0x55bd3e;const _0x1151e5=new Float32Array(_0x55bd3e['length']);return xf(_0x1151e5,_0x55bd3e,Jc(_0x2f4e43['componentT'+'ype'])),_0x1151e5;},Sf=_0x486d02=>{let _0x212544=_0x486d02['min'],_0x155f7a=_0x486d02['max'];if(!_0x212544||!_0x155f7a)return null;if(_0x486d02['normalized']){const _0x64eb38=Jc(_0x486d02['componentT'+'ype']);_0x212544=xf([],_0x212544,_0x64eb38),_0x155f7a=xf([],_0x155f7a,_0x64eb38);}return new _e(new T((_0x155f7a[-0xf59+-0x1f*0x62+0x1*0x1b37]+_0x212544[0x934+0x45+-0x979])*(0x172+0x2185*0x1+-0x22f7+0.5),(_0x155f7a[0x1*-0x1547+0x3*-0x43f+0x2205]+_0x212544[-0x23d4+-0x22a7+0x467c])*(-0x5*0xc1+0x223d+-0xf3c*0x2+0.5),(_0x155f7a[-0x2575*-0x1+0x232e+0x1*-0x48a1]+_0x212544[-0x2*-0xd7c+0x18f*0x3+-0x1fa3])*(-0x1a23+0x22c9*-0x1+0x1c*0x22d+0.5)),new T((_0x155f7a[-0x155f*-0x1+-0x1521*-0x1+-0xaa*0x40]-_0x212544[-0x3a*0x32+0x1*0x269e+-0x1b4a])*(-0x1b21+-0xc56+-0x2777*-0x1+0.5),(_0x155f7a[0x1*0x10de+-0x187f*-0x1+-0xa57*0x4]-_0x212544[0x1875+0x3*0xd9+-0x1aff])*(0x10d*-0x19+0x1378*-0x1+0x2dbd+0.5),(_0x155f7a[0x14*-0x182+-0xf26+0x488*0xa]-_0x212544[-0x1eca+-0x1a6d+0x1*0x3939])*(-0x1*-0x1cf4+-0xdb1+-0xf43+0.5)));},Ix=_0x3f16a0=>{if(!_0x3f16a0['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x3f16a0['mode']){case-0x2*-0xdb4+-0x1*0xdb9+-0xdaf*0x1:return Mc;case 0x23e2+0x139b+0xddf*-0x4:return Pc;case 0x17a5*-0x1+-0x4b1*-0x1+0x329*0x6:return My;case 0x4*0x476+-0x750+0x1*-0xa85:return Py;case-0x2202+-0x3*0x601+-0xad*-0x4d:return Ms;case-0xc5*-0x22+0x413+0x2*-0xf1c:return ar;case 0x1c8b+-0x1331+-0x954:return Yr;default:return Ms;}},AD=_0x406548=>{const _0x2d0898=new Uint16Array(_0x406548);for(let _0x267a01=0x1f04+-0x250b*-0x1+0x13*-0x395;_0x267a01<_0x406548;_0x267a01++)_0x2d0898[_0x267a01]=_0x267a01;return _0x2d0898;},ED=(_0x2ea71f,_0x5f5d0c)=>{const _0x45b735=_0x2ea71f[He];if(!_0x45b735||_0x45b735['components']!==-0x18c+-0x6e+0x1*0x1fd)return;let _0x692c34;if(_0x45b735['size']!==_0x45b735['stride']){const _0x291ac7=_0x45b735['stride']/_o[_0x45b735['type']],_0x1daf90=new da[_0x45b735['type']](_0x45b735['buffer'],_0x45b735['offset'],_0x45b735['count']*_0x291ac7);_0x692c34=new da[_0x45b735['type']](_0x45b735['count']*(-0x1a2a+-0x1*0x259+-0x1*-0x1c86));for(let _0x49c554=0xe17*0x1+0x49*0x46+-0x220d;_0x49c554<_0x45b735['count'];++_0x49c554)_0x692c34[_0x49c554*(0x1a90+0x238c+-0x3e19)+(-0x1bc2+-0x2135+0x3cf7)]=_0x1daf90[_0x49c554*_0x291ac7+(-0x1620+-0x22*-0xc7+-0x44e)],_0x692c34[_0x49c554*(0x1*0xeb7+0x233*-0x5+-0x3b5)+(0x1cef+-0x1e3e+0x150)]=_0x1daf90[_0x49c554*_0x291ac7+(-0x13*0xcd+0xa75+0x35*0x17)],_0x692c34[_0x49c554*(0x4*0x3f3+0x972+-0x1*0x193b)+(0x11a3+-0x2*-0x1359+-0x3853)]=_0x1daf90[_0x49c554*_0x291ac7+(0x1d86+0xfca+-0x16a7*0x2)];}else _0x692c34=new da[_0x45b735['type']](_0x45b735['buffer'],_0x45b735['offset'],_0x45b735['count']*(-0x99e+-0x1*0x6cd+-0x106e*-0x1));const _0x11e08b=_0x45b735['count'];_0x5f5d0c||(_0x5f5d0c=AD(_0x11e08b));const _0xab91ff=k0(_0x692c34,_0x5f5d0c),_0x1976ea=new Float32Array(_0xab91ff['length']);_0x1976ea['set'](_0xab91ff),_0x2ea71f[Yt]={'buffer':_0x1976ea['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x11e08b,'components':0x3,'type':Ee};},CD=_0x122ddd=>{const _0x53bbaa=_0x2fb52c=>{const _0x35bd8d=[];for(let _0x2dfb21=-0xd8d*-0x1+-0xbbc+-0x1d1;_0x2dfb21<_0x2fb52c['_levels']['length'];++_0x2dfb21){let _0x549b1b=[];if(_0x2fb52c['cubemap']){for(let _0x4cc038=-0x7*0x55a+-0x10c7+0x363d;_0x4cc038<0x1c3e+0x5*0x139+-0x2255;++_0x4cc038)_0x549b1b['push'](_0x2fb52c['_levels'][_0x2dfb21][_0x4cc038]);}else _0x549b1b=_0x2fb52c['_levels'][_0x2dfb21];_0x35bd8d['push'](_0x549b1b);}return _0x35bd8d;},_0x6845c3=new he(_0x122ddd['device'],_0x122ddd);return _0x6845c3['_levels']=_0x53bbaa(_0x122ddd),_0x6845c3;},MD=_0xecd747=>{const _0x7e934a=new le(_0xecd747['name']+'_clone',_0xecd747['type'],_0xecd747['file'],_0xecd747['data'],_0xecd747['options']);return _0x7e934a['loaded']=!(-0x208+0x9*0x317+-0x19c7),_0x7e934a['resource']=CD(_0xecd747['resource']),_0xecd747['registry']['add'](_0x7e934a),_0x7e934a;},PD=(_0x59bd18,_0x5b427e)=>{const _0x3b48d9=_0x5b427e[He];if(!_0x3b48d9)return null;const _0xeed180=_0x3b48d9['count'],_0x9516ed=[];for(const _0x4b12ae in _0x5b427e)if(_0x5b427e['hasOwnProp'+'erty'](_0x4b12ae)){const _0x453b41={'semantic':_0x4b12ae,'components':_0x5b427e[_0x4b12ae]['components'],'type':_0x5b427e[_0x4b12ae]['type'],'normalize':!!_0x5b427e[_0x4b12ae]['normalize']};Et['isElementV'+'alid'](_0x59bd18,_0x453b41)||_0x453b41['components']++,_0x9516ed['push'](_0x453b41);}_0x9516ed['sort']((_0x13dd67,_0x1275f7)=>Bg[_0x13dd67['semantic']]-Bg[_0x1275f7['semantic']]);let _0x4a57e9,_0x3ddbe,_0x477131,_0xd2e3db,_0x1e4492,_0x4d8b8a;const _0x16ced7=new Et(_0x59bd18,_0x9516ed);let _0x219588=!(-0x1*-0x215f+0x72d+0x288c*-0x1);for(_0x4a57e9=-0x2286+-0x11d2*-0x2+0x1*-0x11e;_0x4a57e9<_0x16ced7['elements']['length'];++_0x4a57e9)if(_0x1e4492=_0x16ced7['elements'][_0x4a57e9],_0xd2e3db=_0x5b427e[_0x1e4492['name']],_0x4d8b8a=_0xd2e3db['offset']-_0x3b48d9['offset'],_0xd2e3db['buffer']!==_0x3b48d9['buffer']||_0xd2e3db['stride']!==_0x1e4492['stride']||_0xd2e3db['size']!==_0x1e4492['size']||_0x4d8b8a!==_0x1e4492['offset']){_0x219588=!(0x64*0x3d+0xde3+-0x1*0x25b6);break;}const _0x56f876=new os(_0x59bd18,_0x16ced7,_0xeed180),_0x5349b3=_0x56f876['lock'](),_0x142e8a=new Uint32Array(_0x5349b3);let _0x28b2c3;if(_0x219588)_0x28b2c3=new Uint32Array(_0x3b48d9['buffer'],_0x3b48d9['offset'],_0xeed180*_0x56f876['format']['size']/(0x1a16*0x1+0x11*0x72+0x1*-0x21a4)),_0x142e8a['set'](_0x28b2c3);else{let _0xa573ba,_0x2c2418;for(_0x4a57e9=0x10dc+0x1f3+-0x3*0x645;_0x4a57e9<_0x56f876['format']['elements']['length'];++_0x4a57e9){_0x1e4492=_0x56f876['format']['elements'][_0x4a57e9],_0xa573ba=_0x1e4492['stride']/(0x1d02+-0x6a3+-0x165b),_0xd2e3db=_0x5b427e[_0x1e4492['name']],_0x2c2418=_0xd2e3db['stride']/(0xf64+-0x9f*-0x3d+-0x12f*0x2d),_0x28b2c3=new Uint32Array(_0xd2e3db['buffer'],_0xd2e3db['offset'],(_0xd2e3db['count']-(0x51e+-0x1a7d*0x1+0x1560))*_0x2c2418+(_0xd2e3db['size']+(-0xeb9+-0xc*0x16d+0xfec*0x2))/(0x2282+0x1*-0xf03+0x1*-0x137b));let _0xa850a5=0x7bf+-0xd0*-0x29+-0x290f,_0x2e59b4=_0x1e4492['offset']/(-0x114d+-0x10a+0x125b);const _0x1bd859=Math['floor']((_0xd2e3db['size']+(-0x1*-0x99e+0x26dd*0x1+-0x3078))/(0x11e1+-0x1318+0x13b));for(_0x3ddbe=-0x1842+0xe*-0x205+-0x52*-0xa4;_0x3ddbe<_0xeed180;++_0x3ddbe){for(_0x477131=-0x23df+0x1c*-0x46+0x1*0x2b87;_0x477131<_0x1bd859;++_0x477131)_0x142e8a[_0x2e59b4+_0x477131]=_0x28b2c3[_0xa850a5+_0x477131];_0xa850a5+=_0x2c2418,_0x2e59b4+=_0xa573ba;}}}return _0x56f876['unlock'](),_0x56f876;},RD=(_0x37ae74,_0xa7177b,_0x154535,_0x1303a3,_0x41692a,_0x5b63a2)=>{const _0x253741={},_0x1eb853=[];for(const _0x266f2d in _0xa7177b)_0xa7177b['hasOwnProp'+'erty'](_0x266f2d)&&ec['hasOwnProp'+'erty'](_0x266f2d)&&(_0x253741[_0x266f2d]=_0xa7177b[_0x266f2d],_0x1eb853['push'](_0x266f2d+':'+_0xa7177b[_0x266f2d]));_0x1eb853['sort']();const _0x39df30=_0x1eb853['join']();let _0x4fd756=_0x5b63a2[_0x39df30];if(!_0x4fd756){const _0x24dc59={};for(const _0x4911a3 in _0x253741){const _0x2d5825=_0x1303a3[_0xa7177b[_0x4911a3]],_0x25e73e=sn(_0x2d5825,_0x41692a),_0x41803a=_0x41692a[_0x2d5825['bufferView']],_0x410fbb=ec[_0x4911a3],_0x107511=$o(_0x2d5825['type'])*bD(_0x2d5825['componentT'+'ype']),_0x1d57a4=_0x41803a&&_0x41803a['hasOwnProp'+'erty']('byteStride')?_0x41803a['byteStride']:_0x107511;_0x24dc59[_0x410fbb]={'buffer':_0x25e73e['buffer'],'size':_0x107511,'offset':_0x25e73e['byteOffset'],'stride':_0x1d57a4,'count':_0x2d5825['count'],'components':$o(_0x2d5825['type']),'type':Jc(_0x2d5825['componentT'+'ype']),'normalize':_0x2d5825['normalized']};}_0x24dc59['hasOwnProp'+'erty'](Yt)||ED(_0x24dc59,_0x154535),_0x4fd756=PD(_0x37ae74,_0x24dc59),_0x5b63a2[_0x39df30]=_0x4fd756;}return _0x4fd756;},ID=(_0x728908,_0x138b12,_0x40d2b2,_0x54acc7,_0x2dafc5,_0x3f489e)=>{let _0x174cbb,_0x42f8bf,_0x1afd6a;const _0x5e9d6f=_0x138b12['joints'],_0x1aac5f=_0x5e9d6f['length'],_0x42869f=[];if(_0x138b12['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x4f7b3d=_0x138b12['inverseBin'+'dMatrices'],_0xf0967d=sn(_0x40d2b2[_0x4f7b3d],_0x54acc7,!(0xaa3+-0x1056*0x1+0x5b3)),_0x202cdf=[];for(_0x174cbb=-0x1e7+-0x1*0x1a7b+0x1c62;_0x174cbb<_0x1aac5f;_0x174cbb++){for(_0x42f8bf=-0x49*0x6d+-0x1*-0x84f+0xa*0x247;_0x42f8bf<-0xd*-0x1d3+0x6d9*0x4+-0x330b;_0x42f8bf++)_0x202cdf[_0x42f8bf]=_0xf0967d[_0x174cbb*(-0x3*0xc54+-0x14*-0x98+0x219*0xc)+_0x42f8bf];_0x1afd6a=new q(),_0x1afd6a['set'](_0x202cdf),_0x42869f['push'](_0x1afd6a);}}else{for(_0x174cbb=0x1a43+-0x736*0x3+-0x4a1;_0x174cbb<_0x1aac5f;_0x174cbb++)_0x1afd6a=new q(),_0x42869f['push'](_0x1afd6a);}const _0x834a2=[];for(_0x174cbb=0xf*0x8e+0x301+-0xb53;_0x174cbb<_0x1aac5f;_0x174cbb++)_0x834a2[_0x174cbb]=_0x2dafc5[_0x5e9d6f[_0x174cbb]]['name'];const _0x13116f=_0x834a2['join']('#');let _0x5d3e45=_0x3f489e['get'](_0x13116f);return _0x5d3e45||(_0x5d3e45=new N0(_0x728908,_0x42869f,_0x834a2),_0x3f489e['set'](_0x13116f,_0x5d3e45)),_0x5d3e45;},DD=(_0x1d2d23,_0x196e9b,_0x4397af,_0x33346c,_0x50cbe5,_0x2151bd,_0x2fb0e2)=>{var _0x51a28d;const _0x3f9e87=new Ie(_0x1d2d23);_0x3f9e87['aabb']=Sf(_0x4397af[_0x196e9b['attributes']['POSITION']]);const _0x391d62=[];for(const [_0x7ee998,_0x575b5d]of Object['entries'](_0x196e9b['attributes'])){const _0x208257=_0x4397af[_0x575b5d],_0x4e32c7=ec[_0x7ee998],_0x447312=Jc(_0x208257['componentT'+'ype']);_0x391d62['push']({'semantic':_0x4e32c7,'components':$o(_0x208257['type']),'type':_0x447312,'normalize':_0x208257['normalized']??(_0x4e32c7===At&&(_0x447312===Kr||_0x447312===el))});}if(_0x2fb0e2['push'](new Promise((_0x49c315,_0x2d5465)=>{const _0x3306e4=_0x196e9b['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x33346c[_0x3306e4['bufferView']]['slice']()['buffer'],(_0x3fc1c4,_0x1929fd)=>{var _0xdfed55;if(_0x3fc1c4)console['log'](_0x3fc1c4),_0x2d5465(_0x3fc1c4);else{const _0x5408ae={};for(const [_0x1f5365,_0x13a9e1]of Object['entries'](_0x3306e4['attributes']))_0x5408ae[ec[_0x1f5365]]=_0x1929fd['attributes']['indexOf'](_0x13a9e1);_0x391d62['sort']((_0x47fd53,_0x49de68)=>_0x5408ae[_0x47fd53['semantic']]-_0x5408ae[_0x49de68['semantic']]),(_0xdfed55=_0x196e9b['attributes'])!=null&&_0xdfed55['NORMAL']||_0x391d62['splice'](0x1*-0xf0c+-0xa0+0xfad,-0x109*-0x23+0x1054+0x348f*-0x1,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0x325e40=new Et(_0x1d2d23,_0x391d62),_0x36f3a7=_0x1929fd['vertices']['byteLength']/_0x325e40['size'],_0xa80e44=_0x36f3a7<=0xaa66+0x1b630+0x16097*-0x1?Pi:nr,_0xdfcf9c=_0x1929fd['indices']['byteLength']/(_0x36f3a7<=0x1423c+0x1dbe2+-0x21e1f?-0x800+-0x1945*0x1+-0x4c1*-0x7:0x2*0xba6+-0x642*0x4+0x1c0);v['call'](()=>{_0x36f3a7!==_0x4397af[_0x196e9b['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0xdfcf9c!==_0x4397af[_0x196e9b['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x44bd5c=new os(_0x1d2d23,_0x325e40,_0x36f3a7,{'data':_0x1929fd['vertices']}),_0x10d0bf=new lr(_0x1d2d23,_0xa80e44,_0xdfcf9c,jt,_0x1929fd['indices']);_0x3f9e87['vertexBuff'+'er']=_0x44bd5c,_0x3f9e87['indexBuffe'+'r'][-0x1*-0x1bb6+-0x37*-0x71+-0x33fd]=_0x10d0bf,_0x3f9e87['primitive'][-0x206c+-0x10*0x42+-0x2*-0x1246]['type']=Ix(_0x196e9b),_0x3f9e87['primitive'][0x4fd*-0x3+-0x827*-0x1+-0x1b4*-0x4]['base']=0x17c9+0x1be*-0x11+-0x1*-0x5d5,_0x3f9e87['primitive'][0x6ca+0x1*-0x1605+0xf3b]['count']=_0x10d0bf?_0xdfcf9c:_0x36f3a7,_0x3f9e87['primitive'][0xc52+0x1f12+-0x2b64]['indexed']=!!_0x10d0bf,_0x49c315();}});})),(_0x51a28d=_0x196e9b==null?void(0xc1*-0x2b+0x7e0+0x188b):_0x196e9b['extensions'])!=null&&_0x51a28d['KHR_materi'+'als_varian'+'ts']){const _0xdce117=_0x196e9b['extensions']['KHR_materi'+'als_varian'+'ts'],_0x3a112f={};_0xdce117['mappings']['forEach'](_0x4221e9=>{_0x4221e9['variants']['forEach'](_0x3010a3=>{_0x3a112f[_0x3010a3]=_0x4221e9['material'];});}),_0x50cbe5[_0x3f9e87['id']]=_0x3a112f;}return _0x2151bd[_0x3f9e87['id']]=_0x196e9b['material'],_0x3f9e87;},LD=(_0x1ecfc3,_0x1cf79a,_0x2d4e5c,_0x203d2b,_0x572f01,_0x8c4d37,_0x32f4a8,_0x34b2cf,_0x7fe531)=>{const _0x243b07=[];return _0x1cf79a['primitives']['forEach'](_0x5394c8=>{var _0xc39a69;if((_0xc39a69=_0x5394c8['extensions'])!=null&&_0xc39a69['KHR_draco_'+'mesh_compr'+'ession'])_0x243b07['push'](DD(_0x1ecfc3,_0x5394c8,_0x2d4e5c,_0x203d2b,_0x8c4d37,_0x32f4a8,_0x7fe531));else{let _0x598d8d=_0x5394c8['hasOwnProp'+'erty']('indices')?sn(_0x2d4e5c[_0x5394c8['indices']],_0x203d2b,!(0x2019+0x1a4d*-0x1+-0x5cc*0x1)):null;const _0x14e2c4=RD(_0x1ecfc3,_0x5394c8['attributes'],_0x598d8d,_0x2d4e5c,_0x203d2b,_0x572f01),_0x5135fe=Ix(_0x5394c8),_0x4b41eb=new Ie(_0x1ecfc3);if(_0x4b41eb['vertexBuff'+'er']=_0x14e2c4,_0x4b41eb['primitive'][-0x1*-0x3d6+0x2519+0x7*-0x5d9]['type']=_0x5135fe,_0x4b41eb['primitive'][-0x174c+-0x1e89+0x35d5]['base']=0x1*-0x1fb3+0x15b1+0xa02,_0x4b41eb['primitive'][-0x3*0x7fb+0x1e9d+-0x6ac]['indexed']=_0x598d8d!==null,_0x598d8d!==null){let _0x5da1d8;_0x598d8d instanceof Uint8Array?_0x5da1d8=pu:_0x598d8d instanceof Uint16Array?_0x5da1d8=Pi:_0x5da1d8=nr,_0x5da1d8===pu&&_0x1ecfc3['isWebGPU']&&(_0x5da1d8=Pi,_0x598d8d=new Uint16Array(_0x598d8d));const _0x1796bc=new lr(_0x1ecfc3,_0x5da1d8,_0x598d8d['length'],jt,_0x598d8d);_0x4b41eb['indexBuffe'+'r'][0xfed+0x4*0x3f+-0x10e9]=_0x1796bc,_0x4b41eb['primitive'][0x458*0x8+-0x54*-0x22+0x1*-0x2de8]['count']=_0x598d8d['length'];}else _0x4b41eb['primitive'][-0x22e7+-0x611+0x28f8]['count']=_0x14e2c4['numVertice'+'s'];if(_0x5394c8['hasOwnProp'+'erty']('extensions')&&_0x5394c8['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x27077b=_0x5394c8['extensions']['KHR_materi'+'als_varian'+'ts'],_0x3679e3={};_0x27077b['mappings']['forEach'](_0x1f4d26=>{_0x1f4d26['variants']['forEach'](_0x3c5d28=>{_0x3679e3[_0x3c5d28]=_0x1f4d26['material'];});}),_0x8c4d37[_0x4b41eb['id']]=_0x3679e3;}_0x32f4a8[_0x4b41eb['id']]=_0x5394c8['material'];let _0x1ac979=_0x2d4e5c[_0x5394c8['attributes']['POSITION']];if(_0x4b41eb['aabb']=Sf(_0x1ac979),_0x5394c8['hasOwnProp'+'erty']('targets')){const _0x14ad31=[];_0x5394c8['targets']['forEach']((_0x5da5df,_0x42fae4)=>{const _0x2b0602={};_0x5da5df['hasOwnProp'+'erty']('POSITION')&&(_0x1ac979=_0x2d4e5c[_0x5da5df['POSITION']],_0x2b0602['deltaPosit'+'ions']=ma(_0x1ac979,_0x203d2b),_0x2b0602['aabb']=Sf(_0x1ac979)),_0x5da5df['hasOwnProp'+'erty']('NORMAL')&&(_0x1ac979=_0x2d4e5c[_0x5da5df['NORMAL']],_0x2b0602['deltaNorma'+'ls']=ma(_0x1ac979,_0x203d2b)),_0x1cf79a['hasOwnProp'+'erty']('extras')&&_0x1cf79a['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x2b0602['name']=_0x1cf79a['extras']['targetName'+'s'][_0x42fae4]:_0x2b0602['name']=_0x42fae4['toString'](-0x82c+-0x2e7*-0x1+0x54f),_0x1cf79a['hasOwnProp'+'erty']('weights')&&(_0x2b0602['defaultWei'+'ght']=_0x1cf79a['weights'][_0x42fae4]),_0x2b0602['preserveDa'+'ta']=_0x34b2cf['morphPrese'+'rveData'],_0x14ad31['push'](new Qc(_0x2b0602));}),_0x4b41eb['morph']=new F0(_0x14ad31,_0x1ecfc3,{'preferHighPrecision':_0x34b2cf['morphPrefe'+'rHighPreci'+'sion']});}_0x243b07['push'](_0x4b41eb);}}),_0x243b07;},ft=(_0x367822,_0xa74793,_0x35797b)=>{var _0x46f624;let _0xa93e59;const _0xcb0321=_0x367822['texCoord'];if(_0xcb0321){for(_0xa93e59=0x1d0d+-0x2c5*-0x5+-0x2ae6;_0xa93e59<_0x35797b['length'];++_0xa93e59)_0xa74793[_0x35797b[_0xa93e59]+'MapUv']=_0xcb0321;}const _0x41fa75=[-0x1*0x9d9+-0x1330+0x1d09,0x1*-0xdcd+-0x1ec8+0x2c95],_0x1e5569=[-0x1*0x48c+0xca6+0x3*-0x2b3,0x2119+-0x1*-0x11f9+-0x3311],_0x508d35=(_0x46f624=_0x367822['extensions'])==null?void(0x1d2*0xd+-0x185*0x1+-0x1625):_0x46f624['KHR_textur'+'e_transfor'+'m'];if(_0x508d35){const _0x44bba9=_0x508d35['offset']||_0x41fa75,_0x2bb11b=_0x508d35['scale']||_0x1e5569,_0x541624=_0x508d35['rotation']?-_0x508d35['rotation']*N['RAD_TO_DEG']:-0x1*0x205f+0x281*-0x6+-0x2f65*-0x1,_0x39ba87=new $(_0x2bb11b[-0xfeb+0x2*0x199+0xcb9],_0x2bb11b[-0x205b+0x482+0x1bda]),_0x2fc32b=new $(_0x44bba9[-0x1fe1*-0x1+-0x1eb+0x82*-0x3b],0x1*-0x1ead+-0x1f0+0x209e-_0x2bb11b[-0x1986*-0x1+-0x96*0x1+0x1eb*-0xd]-_0x44bba9[-0x7*-0x157+0x1506+-0x1*0x1e66]);for(_0xa93e59=0x15d5+0x26a9+-0xae*0x59;_0xa93e59<_0x35797b['length'];++_0xa93e59)_0xa74793[_0x35797b[_0xa93e59]+'MapTiling']=_0x39ba87,_0xa74793[_0x35797b[_0xa93e59]+'MapOffset']=_0x2fc32b,_0xa74793[_0x35797b[_0xa93e59]+('MapRotatio'+'n')]=_0x541624;}},FD=(_0x385f18,_0x40d5e0,_0x5a3c3d)=>{let _0x4a4773,_0x4122d9;if(_0x385f18['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x4a4773=_0x385f18['diffuseFac'+'tor'],_0x40d5e0['diffuse']['set'](Math['pow'](_0x4a4773[-0x133*-0x1c+0x1e77+-0x5*0xccf],(0x1*-0x22c2+-0x1464+0x3727)/(-0x1*0x224d+-0x303*0x9+0x1*0x3d6a+0.20000000000000018)),Math['pow'](_0x4a4773[0x922*-0x1+-0x1*0x1709+0x3a*0x8e],(-0xbf*0x7+-0xf8d*-0x1+-0x3*0x371)/(0x23*0x99+0x21*-0xa6+0x7d+0.20000000000000018)),Math['pow'](_0x4a4773[-0x1d9f+-0x1*-0x20c3+-0x322],(0xbff+0x40*0x90+0x2*-0x17ff)/(0x60d*0x1+-0x7*0x23d+0x9a0+0.20000000000000018))),_0x40d5e0['opacity']=_0x4a4773[0x11ab*-0x2+-0x29d+0xe2*0x2b]):(_0x40d5e0['diffuse']['set'](-0x447+-0x588+0x13a*0x8,-0x4*0x7f7+-0x4*-0x17+-0x64d*-0x5,0xfd0+-0x376*0x9+-0x7*-0x231),_0x40d5e0['opacity']=-0x4d6*0x1+-0x2597+0x1537*0x2),_0x385f18['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x275dbb=_0x385f18['diffuseTex'+'ture'];_0x4122d9=_0x5a3c3d[_0x275dbb['index']],_0x40d5e0['diffuseMap']=_0x4122d9,_0x40d5e0['diffuseMap'+'Channel']='rgb',_0x40d5e0['opacityMap']=_0x4122d9,_0x40d5e0['opacityMap'+'Channel']='a',ft(_0x275dbb,_0x40d5e0,['diffuse','opacity']);}if(_0x40d5e0['useMetalne'+'ss']=!(0x4fc*-0x2+0x5*0x11b+0x472),_0x385f18['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x4a4773=_0x385f18['specularFa'+'ctor'],_0x40d5e0['specular']['set'](Math['pow'](_0x4a4773[-0x2500+-0x9c5+0xd*0x399],(-0x270a+0xa15+-0xb*-0x2a2)/(0x2*0x1346+0x10a0+-0x372a+0.20000000000000018)),Math['pow'](_0x4a4773[0x1f*-0x11b+-0x1858+0x3a9e],(-0x1596+-0x1ee7+0x1*0x347e)/(-0x134*-0xd+-0x283+-0xd1f+0.20000000000000018)),Math['pow'](_0x4a4773[-0x2548+-0xad4+0x2*0x180f],(-0x301*-0x6+0x1ce0+-0x31*0xf5)/(0x313+0x1*0x883+-0xb94+0.20000000000000018)))):_0x40d5e0['specular']['set'](-0x61*0x41+0x319*-0x5+0x281f*0x1,-0x6fe*-0x5+-0x364+0x1f91*-0x1,-0x25cb+0x11*0xeb+0x12b*0x13),_0x385f18['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x40d5e0['gloss']=_0x385f18['glossiness'+'Factor']:_0x40d5e0['gloss']=0x768+0x1e00+-0x2567,_0x385f18['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x58c0ca=_0x385f18['specularGl'+'ossinessTe'+'xture'];_0x40d5e0['specularEn'+'coding']='srgb',_0x40d5e0['specularMa'+'p']=_0x40d5e0['glossMap']=_0x5a3c3d[_0x58c0ca['index']],_0x40d5e0['specularMa'+'pChannel']='rgb',_0x40d5e0['glossMapCh'+'annel']='a',ft(_0x58c0ca,_0x40d5e0,['gloss','metalness']);}},OD=(_0x38fe69,_0x4739d9,_0x56f02f)=>{if(_0x38fe69['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x4739d9['clearCoat']=_0x38fe69['clearcoatF'+'actor']*(-0x1c08+0x7*-0x24f+0x1b*0x1a3+0.25):_0x4739d9['clearCoat']=0x1d32+-0x11b9+-0xb79,_0x38fe69['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x17bfa1=_0x38fe69['clearcoatT'+'exture'];_0x4739d9['clearCoatM'+'ap']=_0x56f02f[_0x17bfa1['index']],_0x4739d9['clearCoatM'+'apChannel']='r',ft(_0x17bfa1,_0x4739d9,['clearCoat']);}if(_0x38fe69['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x4739d9['clearCoatG'+'loss']=_0x38fe69['clearcoatR'+'oughnessFa'+'ctor']:_0x4739d9['clearCoatG'+'loss']=-0x3*-0xc96+0x992+0x17aa*-0x2,_0x38fe69['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x2b6d60=_0x38fe69['clearcoatR'+'oughnessTe'+'xture'];_0x4739d9['clearCoatG'+'lossMap']=_0x56f02f[_0x2b6d60['index']],_0x4739d9['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x2b6d60,_0x4739d9,['clearCoatG'+'loss']);}if(_0x38fe69['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x54db4a=_0x38fe69['clearcoatN'+'ormalTextu'+'re'];_0x4739d9['clearCoatN'+'ormalMap']=_0x56f02f[_0x54db4a['index']],ft(_0x54db4a,_0x4739d9,['clearCoatN'+'ormal']),_0x54db4a['hasOwnProp'+'erty']('scale')&&(_0x4739d9['clearCoatB'+'umpiness']=_0x54db4a['scale']);}_0x4739d9['clearCoatG'+'lossInvert']=!(-0x259*0xd+-0x21*-0x1+0x1e64);},kD=(_0x1086d8,_0x52b51f,_0x7d7464)=>{_0x52b51f['useLightin'+'g']=!(0x8c3+0x2*0xab5+-0x4*0x78b),_0x52b51f['emissive']['copy'](_0x52b51f['diffuse']),_0x52b51f['emissiveMa'+'p']=_0x52b51f['diffuseMap'],_0x52b51f['emissiveMa'+'pUv']=_0x52b51f['diffuseMap'+'Uv'],_0x52b51f['emissiveMa'+'pTiling']['copy'](_0x52b51f['diffuseMap'+'Tiling']),_0x52b51f['emissiveMa'+'pOffset']['copy'](_0x52b51f['diffuseMap'+'Offset']),_0x52b51f['emissiveMa'+'pRotation']=_0x52b51f['diffuseMap'+'Rotation'],_0x52b51f['emissiveMa'+'pChannel']=_0x52b51f['diffuseMap'+'Channel'],_0x52b51f['emissiveVe'+'rtexColor']=_0x52b51f['diffuseVer'+'texColor'],_0x52b51f['emissiveVe'+'rtexColorC'+'hannel']=_0x52b51f['diffuseVer'+'texColorCh'+'annel'],_0x52b51f['useLightin'+'g']=!(0xe*0x289+0x15f4+-0x3971),_0x52b51f['useSkybox']=!(-0x6d*-0x17+-0x13*0x151+0x9*0x1b1),_0x52b51f['diffuse']['set'](-0x5*0x95+-0x17*-0xba+-0xdcc,0x23df+-0x28*-0x5b+-0x3216,-0x9*0x4e+-0x1492+0x1751),_0x52b51f['diffuseMap']=null,_0x52b51f['diffuseVer'+'texColor']=!(0x17c6+0x1683+0x1724*-0x2);},BD=(_0x14f8df,_0x4b3c7f,_0x7bb6fa)=>{if(_0x4b3c7f['useMetalne'+'ssSpecular'+'Color']=!(0x199*-0xf+-0xfeb+0x13f1*0x2),_0x14f8df['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x4b3c7f['specularEn'+'coding']='srgb',_0x4b3c7f['specularMa'+'p']=_0x7bb6fa[_0x14f8df['specularCo'+'lorTexture']['index']],_0x4b3c7f['specularMa'+'pChannel']='rgb',ft(_0x14f8df['specularCo'+'lorTexture'],_0x4b3c7f,['specular'])),_0x14f8df['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0xc27325=_0x14f8df['specularCo'+'lorFactor'];_0x4b3c7f['specular']['set'](Math['pow'](_0xc27325[0x1915*-0x1+0x23b8+-0xaa3],(-0x10a*-0x17+-0x1a*-0x4a+-0x11*0x1d9)/(0x2*0x60e+-0x16b0+-0x5*-0x21e+0.20000000000000018)),Math['pow'](_0xc27325[0x1df5*0x1+-0x1f34*0x1+0xa*0x20],(0x239e+-0x1*0xfc5+-0x8*0x27b)/(-0x74e+-0x10fb+-0x1*-0x184b+0.20000000000000018)),Math['pow'](_0xc27325[-0x804+0x1*0x186c+-0x1066],(0x5*0x46a+-0x6a*-0x3d+-0x2f53)/(0xe9+-0x15cf+0xa74*0x2+0.20000000000000018)));}else _0x4b3c7f['specular']['set'](0x1*-0x1427+-0x1f1b*-0x1+-0xaf3,0x1cbb*0x1+0x152*-0x4+-0x1772,-0x5ce+-0x1ad7+0x20a6);_0x14f8df['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x4b3c7f['specularit'+'yFactor']=_0x14f8df['specularFa'+'ctor']:_0x4b3c7f['specularit'+'yFactor']=0x1df8+0xa84+-0x287b,_0x14f8df['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x4b3c7f['specularit'+'yFactorMap'+'Channel']='a',_0x4b3c7f['specularit'+'yFactorMap']=_0x7bb6fa[_0x14f8df['specularTe'+'xture']['index']],ft(_0x14f8df['specularTe'+'xture'],_0x4b3c7f,['specularit'+'yFactor']));},ND=(_0x4488d3,_0x3701a2,_0x3282d7)=>{_0x4488d3['hasOwnProp'+'erty']('ior')&&(_0x3701a2['refraction'+'Index']=(0xbdb*0x3+-0x1462+-0xf2e)/_0x4488d3['ior']);},zD=(_0x5479b2,_0x525e20,_0x2b2418)=>{_0x5479b2['hasOwnProp'+'erty']('dispersion')&&(_0x525e20['dispersion']=_0x5479b2['dispersion']);},UD=(_0x509189,_0x4439fa,_0x41de65)=>{_0x4439fa['blendType']=Kt,_0x4439fa['useDynamic'+'Refraction']=!(-0x14*-0x79+0x2029+0x3*-0xddf),_0x509189['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x4439fa['refraction']=_0x509189['transmissi'+'onFactor']),_0x509189['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x4439fa['refraction'+'MapChannel']='r',_0x4439fa['refraction'+'Map']=_0x41de65[_0x509189['transmissi'+'onTexture']['index']],ft(_0x509189['transmissi'+'onTexture'],_0x4439fa,['refraction']));},VD=(_0x292d38,_0x5edc3e,_0xfb4ecf)=>{if(_0x5edc3e['useSheen']=!(0x249d+-0x1c9+-0xc*0x2e7),_0x292d38['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x5a55f9=_0x292d38['sheenColor'+'Factor'];_0x5edc3e['sheen']['set'](Math['pow'](_0x5a55f9[-0x1b46+-0x25c7+0x410d],(-0x25e9+-0x2179+0x2b*0x1a9)/(-0xfdd+0x1fd7+0xe*-0x124+0.20000000000000018)),Math['pow'](_0x5a55f9[-0xee5+-0x43*0x19+0x1571*0x1],(0xf6e+0x13e+-0xfb*0x11)/(-0x52c+0xffe+-0xad0+0.20000000000000018)),Math['pow'](_0x5a55f9[0x1ccc+-0x211+-0x1ab9*0x1],(0x2f*0xc2+0x1fa7*0x1+-0xf6*0x46)/(0x25*-0xb2+0x958+0x1064+0.20000000000000018)));}else _0x5edc3e['sheen']['set'](-0x147d+0x7a6*-0x1+0x1c24,-0xe*-0x1de+-0x2182+0x275*0x3,-0x53*0x67+-0x97b+0x3*0xe4b);_0x292d38['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x5edc3e['sheenMap']=_0xfb4ecf[_0x292d38['sheenColor'+'Texture']['index']],_0x5edc3e['sheenEncod'+'ing']='srgb',ft(_0x292d38['sheenColor'+'Texture'],_0x5edc3e,['sheen'])),_0x5edc3e['sheenGloss']=_0x292d38['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x292d38['sheenRough'+'nessFactor']:-0x1254+0x1*0x1a62+-0x80e,_0x292d38['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x5edc3e['sheenGloss'+'Map']=_0xfb4ecf[_0x292d38['sheenRough'+'nessTextur'+'e']['index']],_0x5edc3e['sheenGloss'+'MapChannel']='a',ft(_0x292d38['sheenRough'+'nessTextur'+'e'],_0x5edc3e,['sheenGloss'])),_0x5edc3e['sheenGloss'+'Invert']=!(0x1*0x11ef+0x6*-0x644+-0x2cf*-0x7);},GD=(_0x469bac,_0x5981d9,_0x17e853)=>{if(_0x5981d9['blendType']=Kt,_0x5981d9['useDynamic'+'Refraction']=!(0x19f3+-0xb67+-0xe8c),_0x469bac['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x5981d9['thickness']=_0x469bac['thicknessF'+'actor']),_0x469bac['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x5981d9['thicknessM'+'ap']=_0x17e853[_0x469bac['thicknessT'+'exture']['index']],_0x5981d9['thicknessM'+'apChannel']='g',ft(_0x469bac['thicknessT'+'exture'],_0x5981d9,['thickness'])),_0x469bac['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x5981d9['attenuatio'+'nDistance']=_0x469bac['attenuatio'+'nDistance']),_0x469bac['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x4539a8=_0x469bac['attenuatio'+'nColor'];_0x5981d9['attenuatio'+'n']['set'](Math['pow'](_0x4539a8[0x477*0x8+-0x1*-0x241c+0x11f5*-0x4],(-0x1f14+0x1*-0x1b7a+0x39*0x107)/(0x32+-0x41b+-0x1*-0x3eb+0.20000000000000018)),Math['pow'](_0x4539a8[-0xd*0x232+-0x47c+0x69b*0x5],(0x925*-0x1+0x19f4+0x2*-0x867)/(0x351+0xca5+-0x2*0x7fa+0.20000000000000018)),Math['pow'](_0x4539a8[0x82*-0x12+0xd*0x52+0x4fc],(-0x2*0xe57+-0x349*-0x1+0xcb3*0x2)/(-0xf53+0x24e5+-0x14*0x114+0.20000000000000018)));}},HD=(_0x4e363b,_0x319daa,_0x11da75)=>{_0x4e363b['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x319daa['emissiveIn'+'tensity']=_0x4e363b['emissiveSt'+'rength']);},$D=(_0x59ba69,_0x3571b8,_0x5e534d)=>{_0x3571b8['useIridesc'+'ence']=!(0x9*0x2c7+-0x78f+0x2e8*-0x6),_0x59ba69['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x3571b8['iridescenc'+'e']=_0x59ba69['iridescenc'+'eFactor']),_0x59ba69['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x3571b8['iridescenc'+'eMapChanne'+'l']='r',_0x3571b8['iridescenc'+'eMap']=_0x5e534d[_0x59ba69['iridescenc'+'eTexture']['index']],ft(_0x59ba69['iridescenc'+'eTexture'],_0x3571b8,['iridescenc'+'e'])),_0x59ba69['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x3571b8['iridescenc'+'eRefractio'+'nIndex']=_0x59ba69['iridescenc'+'eIor']),_0x59ba69['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x3571b8['iridescenc'+'eThickness'+'Min']=_0x59ba69['iridescenc'+'eThickness'+'Minimum']),_0x59ba69['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x3571b8['iridescenc'+'eThickness'+'Max']=_0x59ba69['iridescenc'+'eThickness'+'Maximum']),_0x59ba69['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x3571b8['iridescenc'+'eThickness'+'MapChannel']='g',_0x3571b8['iridescenc'+'eThickness'+'Map']=_0x5e534d[_0x59ba69['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x59ba69['iridescenc'+'eThickness'+'Texture'],_0x3571b8,['iridescenc'+'eThickness']));},Dx=(_0x3aa100,_0x518a20)=>{const _0x4a44d7=new cs();_0x3aa100['hasOwnProp'+'erty']('name')&&(_0x4a44d7['name']=_0x3aa100['name']),_0x4a44d7['occludeSpe'+'cular']=Bo,_0x4a44d7['diffuseVer'+'texColor']=!(0x246d+0xe0c+-0x1*0x3279),_0x4a44d7['specularTi'+'nt']=!(-0x2*0x359+0x3*-0x131+0xa45),_0x4a44d7['specularVe'+'rtexColor']=!(0x3cb*-0x4+0x1712+-0x6*0x151),_0x4a44d7['specular']['set'](0x2bf+0x14e*0x13+-0x6e2*0x4,-0xf4d*-0x2+0x47*-0x20+-0x15b9,-0x3*-0x62+0x19ae*-0x1+0x1889*0x1),_0x4a44d7['gloss']=-0xf4f*-0x2+0x3d5*-0x3+-0x98f*0x2,_0x4a44d7['glossInver'+'t']=!(0x1d6+-0x2*0x10a6+-0x1f76*-0x1),_0x4a44d7['useMetalne'+'ss']=!(-0x3d*-0x40+0x6c*0x25+-0x2*0xf6e);let _0x1e44f8,_0x1453c7;if(_0x3aa100['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x305e7c=_0x3aa100['pbrMetalli'+'cRoughness'];if(_0x305e7c['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x1e44f8=_0x305e7c['baseColorF'+'actor'],_0x4a44d7['diffuse']['set'](Math['pow'](_0x1e44f8[-0x1*-0x9c5+0xced+-0x16b2],(-0x34*-0x19+-0x52+-0x4c1)/(0xca2+0xdf7+-0x3*0x8dd+0.20000000000000018)),Math['pow'](_0x1e44f8[0x19d1+0x950+0x464*-0x8],(-0x667+-0x12b0+-0x1*-0x1918)/(-0x2*-0x71f+-0xaf4+-0x348+0.20000000000000018)),Math['pow'](_0x1e44f8[-0x5a*-0x10+0x25eb+-0x2b89],(-0x2*0x5f2+-0x13e+-0x3*-0x461)/(-0x194*0x9+0x144b+-0x615+0.20000000000000018))),_0x4a44d7['opacity']=_0x1e44f8[0x1317*0x1+-0x1573+0x1*0x25f]),_0x305e7c['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x35c6ec=_0x305e7c['baseColorT'+'exture'];_0x1453c7=_0x518a20[_0x35c6ec['index']],_0x4a44d7['diffuseMap']=_0x1453c7,_0x4a44d7['diffuseMap'+'Channel']='rgb',_0x4a44d7['opacityMap']=_0x1453c7,_0x4a44d7['opacityMap'+'Channel']='a',ft(_0x35c6ec,_0x4a44d7,['diffuse','opacity']);}if(_0x305e7c['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x4a44d7['metalness']=_0x305e7c['metallicFa'+'ctor']),_0x305e7c['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x4a44d7['gloss']=_0x305e7c['roughnessF'+'actor']),_0x305e7c['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x537372=_0x305e7c['metallicRo'+'ughnessTex'+'ture'];_0x4a44d7['metalnessM'+'ap']=_0x4a44d7['glossMap']=_0x518a20[_0x537372['index']],_0x4a44d7['metalnessM'+'apChannel']='b',_0x4a44d7['glossMapCh'+'annel']='g',ft(_0x537372,_0x4a44d7,['gloss','metalness']);}}if(_0x3aa100['hasOwnProp'+'erty']('normalText'+'ure')){const _0x12f83d=_0x3aa100['normalText'+'ure'];_0x4a44d7['normalMap']=_0x518a20[_0x12f83d['index']],ft(_0x12f83d,_0x4a44d7,['normal']),_0x12f83d['hasOwnProp'+'erty']('scale')&&(_0x4a44d7['bumpiness']=_0x12f83d['scale']);}if(_0x3aa100['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x4ea4d5=_0x3aa100['occlusionT'+'exture'];_0x4a44d7['aoMap']=_0x518a20[_0x4ea4d5['index']],_0x4a44d7['aoMapChann'+'el']='r',ft(_0x4ea4d5,_0x4a44d7,['ao']);}if(_0x3aa100['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x1e44f8=_0x3aa100['emissiveFa'+'ctor'],_0x4a44d7['emissive']['set'](Math['pow'](_0x1e44f8[-0x1864+0x1fc1+-0x75d],(-0x197b+0x9cc+0xfb0)/(0x1eee+0x7a3+-0x268f+0.20000000000000018)),Math['pow'](_0x1e44f8[0x1439+0x20be+0x34f6*-0x1],(-0x1ac6+0x267b*-0x1+-0x20a1*-0x2)/(-0xb1e*-0x2+0x18aa+-0x2ee4+0.20000000000000018)),Math['pow'](_0x1e44f8[-0xb*0x30b+-0x43b*-0x4+-0x9*-0x1d7],(0x1*0x1d23+-0x13e9*-0x1+-0x310b)/(-0xc22+0x6*-0x290+0x1b84+0.20000000000000018)))),_0x3aa100['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0xcf839e=_0x3aa100['emissiveTe'+'xture'];_0x4a44d7['emissiveMa'+'p']=_0x518a20[_0xcf839e['index']],ft(_0xcf839e,_0x4a44d7,['emissive']);}if(_0x3aa100['hasOwnProp'+'erty']('alphaMode'))switch(_0x3aa100['alphaMode']){case'MASK':_0x4a44d7['blendType']=is,_0x3aa100['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x4a44d7['alphaTest']=_0x3aa100['alphaCutof'+'f']:_0x4a44d7['alphaTest']=-0x2657+0x1d36+0x921+0.5;break;case'BLEND':_0x4a44d7['blendType']=Kt,_0x4a44d7['depthWrite']=!(0x1b02+0x1a8b+-0x358c);break;default:case'OPAQUE':_0x4a44d7['blendType']=is;break;}else _0x4a44d7['blendType']=is;_0x3aa100['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x4a44d7['twoSidedLi'+'ghting']=_0x3aa100['doubleSide'+'d'],_0x4a44d7['cull']=_0x3aa100['doubleSide'+'d']?mt:rn):(_0x4a44d7['twoSidedLi'+'ghting']=!(0x1ae7+0x1*-0xd1f+-0xdc7),_0x4a44d7['cull']=rn);const _0x4bdb47={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':$D,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x3aa100['hasOwnProp'+'erty']('extensions'))for(const _0x256ea9 in _0x3aa100['extensions']){const _0x3c3507=_0x4bdb47[_0x256ea9];_0x3c3507!==void(0x1d0d+0x52b+-0x2238)&&_0x3c3507(_0x3aa100['extensions'][_0x256ea9],_0x4a44d7,_0x518a20);}return _0x4a44d7['update'](),_0x4a44d7;},WD=(_0x415a11,_0x2e0b19,_0x4180b8,_0x159f4f,_0x126517,_0x3cd141,_0x4e1e50)=>{const _0x4a2d0f=_0x1a9285=>new Jh($o(_0x1a9285['type']),ma(_0x1a9285,_0x159f4f)),_0x116715={'STEP':W0,'LINEAR':ju,'CUBICSPLINE':Yu},_0x4d9cfc={},_0x7cd037={},_0x3ef39b={};let _0x25c234=0xa84+-0x385*-0x5+-0x1c1c,_0x2de14c;for(_0x2de14c=0x1cae*-0x1+-0x1b76+0x1*0x3824;_0x2de14c<_0x415a11['samplers']['length'];++_0x2de14c){const _0x8eb8f4=_0x415a11['samplers'][_0x2de14c];_0x4d9cfc['hasOwnProp'+'erty'](_0x8eb8f4['input'])||(_0x4d9cfc[_0x8eb8f4['input']]=_0x4a2d0f(_0x4180b8[_0x8eb8f4['input']])),_0x7cd037['hasOwnProp'+'erty'](_0x8eb8f4['output'])||(_0x7cd037[_0x8eb8f4['output']]=_0x4a2d0f(_0x4180b8[_0x8eb8f4['output']]));const _0x4ed211=_0x8eb8f4['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x116715['hasOwnProp'+'erty'](_0x8eb8f4['interpolat'+'ion'])?_0x116715[_0x8eb8f4['interpolat'+'ion']]:ju,_0x238ce2={'paths':[],'input':_0x8eb8f4['input'],'output':_0x8eb8f4['output'],'interpolation':_0x4ed211};_0x3ef39b[_0x2de14c]=_0x238ce2;}const _0x5e2b3c=[],_0x108a54={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x210c52=_0x90f489=>{const _0x28789b=[];for(;_0x90f489;)_0x28789b['unshift'](_0x90f489['name']),_0x90f489=_0x90f489['parent'];return _0x28789b;},_0x3ecbaa=(_0x1ade75,_0x1e3c2a,_0x32b318)=>{const _0x276a4b=_0x7cd037[_0x1ade75['output']];if(!_0x276a4b){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x32b318+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x9cd314;if(_0x3cd141&&_0x3cd141[_0x1e3c2a['mesh']]){const _0x141c20=_0x3cd141[_0x1e3c2a['mesh']];_0x141c20['hasOwnProp'+'erty']('extras')&&_0x141c20['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x9cd314=_0x141c20['extras']['targetName'+'s']);}const _0x56f862=_0x276a4b['data'],_0x3c8b95=_0x56f862['length']/_0x4d9cfc[_0x1ade75['input']]['data']['length'],_0x3a7292=_0x56f862['length']/_0x3c8b95,_0x3a678b=_0x3a7292*(-0x25bd*-0x1+-0x1723+0x2*-0x74b),_0x5406db=new ArrayBuffer(_0x3a678b*_0x3c8b95);for(let _0x5950a5=0x2*0x1233+-0x2*-0x796+-0x3392;_0x5950a5<_0x3c8b95;_0x5950a5++){const _0x297563=new Float32Array(_0x5406db,_0x3a678b*_0x5950a5,_0x3a7292);for(let _0x18223f=-0x5a2*0x3+-0x9d*-0x3b+-0x1349;_0x18223f<_0x3a7292;_0x18223f++)_0x297563[_0x18223f]=_0x56f862[_0x18223f*_0x3c8b95+_0x5950a5];const _0x20b7f0=new Jh(0x2f*-0x21+0x2062+-0x1a52,_0x297563),_0x50410b=_0x9cd314!=null&&_0x9cd314[_0x5950a5]?'name.'+_0x9cd314[_0x5950a5]:_0x5950a5;_0x7cd037[-_0x25c234]=_0x20b7f0;const _0x418de9={'paths':[{'entityPath':_0x32b318,'component':'graph','propertyPath':['weight.'+_0x50410b]}],'input':_0x1ade75['input'],'output':-_0x25c234,'interpolation':_0x1ade75['interpolat'+'ion']};_0x25c234++,_0x3ef39b['morphCurve'+'-'+_0x2de14c+'-'+_0x5950a5]=_0x418de9;}};for(_0x2de14c=0x243d*-0x1+-0x139d*0x1+-0x1*-0x37da;_0x2de14c<_0x415a11['channels']['length'];++_0x2de14c){const _0x3c9076=_0x415a11['channels'][_0x2de14c],_0x47c085=_0x3c9076['target'],_0x1348bc=_0x3ef39b[_0x3c9076['sampler']],_0x14bc2e=_0x126517[_0x47c085['node']],_0x317533=_0x4e1e50[_0x47c085['node']],_0x539f5a=_0x210c52(_0x14bc2e);_0x47c085['path']['startsWith']('weights')?(_0x3ecbaa(_0x1348bc,_0x317533,_0x539f5a),_0x3ef39b[_0x3c9076['sampler']]['morphCurve']=!(0xbda+0x131c+-0xf7b*0x2)):_0x1348bc['paths']['push']({'entityPath':_0x539f5a,'component':'graph','propertyPath':[_0x108a54[_0x47c085['path']]]});}const _0x1fc44c=[],_0x2f3051=[],_0x5a04e7=[];for(const _0xe654fd in _0x4d9cfc)_0x1fc44c['push'](_0x4d9cfc[_0xe654fd]),_0x4d9cfc[_0xe654fd]=_0x1fc44c['length']-(0xd*-0x34+-0x1416+0x16bb);for(const _0x3097cd in _0x7cd037)_0x2f3051['push'](_0x7cd037[_0x3097cd]),_0x7cd037[_0x3097cd]=_0x2f3051['length']-(0x2*0xe9b+0x1*0x95+0xba*-0x29);for(const _0x399a8d in _0x3ef39b){const _0x2fedab=_0x3ef39b[_0x399a8d];_0x2fedab['morphCurve']||(_0x5a04e7['push'](new Px(_0x2fedab['paths'],_0x4d9cfc[_0x2fedab['input']],_0x7cd037[_0x2fedab['output']],_0x2fedab['interpolat'+'ion'])),_0x2fedab['paths']['length']>0x1f7*0x7+0x25d*0x1+-0x101e&&_0x2fedab['paths'][0x1*0x186f+0x1ed9+-0x8*0x6e9]['propertyPa'+'th'][0xc*-0x213+-0x1*-0x1a23+-0x13f]==='localRotat'+'ion'&&_0x2fedab['interpolat'+'ion']!==Yu&&_0x5e2b3c['push'](_0x5a04e7[_0x5a04e7['length']-(-0x20cf+0x650*0x5+0x140)]['output']));}_0x5e2b3c['sort']();let _0x55e22e=null,_0x1be04d;for(_0x2de14c=0x1*0x10dc+-0x13f5+0x319;_0x2de14c<_0x5e2b3c['length'];++_0x2de14c){const _0x387659=_0x5e2b3c[_0x2de14c];if(_0x2de14c===-0x11c0+-0x5b4+-0x4f*-0x4c||_0x387659!==_0x55e22e){if(_0x1be04d=_0x2f3051[_0x387659],_0x1be04d['components']===-0x4ab*-0x5+0xdd*0x25+-0x6c*0x83){const _0xe515b6=_0x1be04d['data'],_0x482db2=_0xe515b6['length']-(-0x2186+0xb9d+0x15ed);for(let _0x7adcca=-0x1787*-0x1+0xdc0+-0x2547;_0x7adcca<_0x482db2;_0x7adcca+=0x5*0x21a+-0x1b60+0x10e2)_0xe515b6[_0x7adcca+(0x14ef*-0x1+-0x1217+0x2706)]*_0xe515b6[_0x7adcca+(-0xb17+0x2*0x577+0x2d)]+_0xe515b6[_0x7adcca+(-0xfc9+-0xb0e+0x1ad8)]*_0xe515b6[_0x7adcca+(-0x12df+-0x526*-0x2+-0x5*-0x1b8)]+_0xe515b6[_0x7adcca+(0x5*0x670+-0x126b+-0xdc3)]*_0xe515b6[_0x7adcca+(0x731+0x14fd*0x1+-0x1c28)]+_0xe515b6[_0x7adcca+(-0x1972+0x393+-0x1*-0x15e2)]*_0xe515b6[_0x7adcca+(0x1743+-0x8c*0x22+-0x4a4)]<0x9*-0x393+0x3b*0x1+0x1ff0&&(_0xe515b6[_0x7adcca+(-0x26a4+0x5*-0x6f+0x28d3)]*=-(0x1*-0x1b1a+0x1*-0xb0f+-0x5*-0x7a2),_0xe515b6[_0x7adcca+(-0x25c2+-0x15ce+0x7*0x883)]*=-(-0x23e7+-0x1607+0x39ef),_0xe515b6[_0x7adcca+(-0x1*-0x1fb1+0x2701+-0x46ac)]*=-(0x17bf+-0x1*0x304+-0x14ba),_0xe515b6[_0x7adcca+(0x183c+0x1*0x4a5+-0x6*0x4cf)]*=-(0xc57+-0x3e1*0x3+0x1*-0xb3));}_0x55e22e=_0x387659;}}let _0x52f2a6=0xf1*0x4+0x4e*-0x55+0x1622*0x1;for(_0x2de14c=-0x5*0xa3+-0x18cc+0x1bfb;_0x2de14c<_0x1fc44c['length'];_0x2de14c++)_0x1be04d=_0x1fc44c[_0x2de14c]['_data'],_0x52f2a6=Math['max'](_0x52f2a6,_0x1be04d['length']===-0x1df1+0x4*-0x617+0x364d?0xa32+-0x12c3+0x891:_0x1be04d[_0x1be04d['length']-(0x767*0x5+0x4f*0x21+-0x2f31)]);return new Ri(_0x415a11['hasOwnProp'+'erty']('name')?_0x415a11['name']:'animation_'+_0x2e0b19,_0x52f2a6,_0x1fc44c,_0x2f3051,_0x5a04e7);},eh=new q(),qn=new T(),qD=(_0x2e795c,_0x92420b,_0x4255d7)=>{const _0x4aaf12=new De();if(_0x2e795c['hasOwnProp'+'erty']('name')&&_0x2e795c['name']['length']>0x34c*-0xb+0x1f4f+-0x2f*-0x1b?_0x4aaf12['name']=_0x2e795c['name']:_0x4aaf12['name']='node_'+_0x92420b,_0x2e795c['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0x2e795c['matrix']),eh['getTransla'+'tion'](qn),_0x4aaf12['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0x4aaf12['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0x4aaf12['setLocalSc'+'ale'](qn)),_0x2e795c['hasOwnProp'+'erty']('rotation')){const _0x12c1d7=_0x2e795c['rotation'];_0x4aaf12['setLocalRo'+'tation'](_0x12c1d7[0xc0c+0x9a*0xb+-0x12aa],_0x12c1d7[0x7e8+-0x5*0x3fb+0xc00],_0x12c1d7[-0x4a5*-0x1+-0x24b0+-0x200d*-0x1],_0x12c1d7[-0x1562+0x2c*0x10+0x12a5*0x1]);}if(_0x2e795c['hasOwnProp'+'erty']('translatio'+'n')){const _0x1f4742=_0x2e795c['translatio'+'n'];_0x4aaf12['setLocalPo'+'sition'](_0x1f4742[-0x25a7+-0x231+0x27d8],_0x1f4742[0x87e+0x174e+-0x1fcb],_0x1f4742[0x19*0x63+-0x13c2+0xa19]);}if(_0x2e795c['hasOwnProp'+'erty']('scale')){const _0x39fab0=_0x2e795c['scale'];_0x4aaf12['setLocalSc'+'ale'](_0x39fab0[0x1d4e+0x1159+-0x2ea7],_0x39fab0[0x5d7+-0x1caf+0x16d9],_0x39fab0[-0xeb1+-0x664+0x1517*0x1]);}return _0x2e795c['hasOwnProp'+'erty']('extensions')&&_0x2e795c['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x4255d7['set'](_0x2e795c,{'ext':_0x2e795c['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x4aaf12;},XD=(_0x55cf9a,_0x1f6cc4)=>{const _0x2e31a3=_0x55cf9a['type']==='orthograph'+'ic'?ua:Gs,_0x5e82cd=_0x2e31a3===ua?_0x55cf9a['orthograph'+'ic']:_0x55cf9a['perspectiv'+'e'],_0x4fdf70={'enabled':!(0x191*-0x11+0x12ac+0x7f6),'projection':_0x2e31a3,'nearClip':_0x5e82cd['znear'],'aspectRatioMode':Ip};_0x5e82cd['zfar']&&(_0x4fdf70['farClip']=_0x5e82cd['zfar']),_0x2e31a3===ua?(_0x4fdf70['orthoHeigh'+'t']=(0x1378+-0x56e+-0x257*0x6+0.5)*_0x5e82cd['ymag'],_0x5e82cd['ymag']&&(_0x4fdf70['aspectRati'+'oMode']=Bu,_0x4fdf70['aspectRati'+'o']=_0x5e82cd['xmag']/_0x5e82cd['ymag'])):(_0x4fdf70['fov']=_0x5e82cd['yfov']*N['RAD_TO_DEG'],_0x5e82cd['aspectRati'+'o']&&(_0x4fdf70['aspectRati'+'oMode']=Bu,_0x4fdf70['aspectRati'+'o']=_0x5e82cd['aspectRati'+'o']));const _0x1e51bf=new $e(_0x55cf9a['name']);return _0x1e51bf['addCompone'+'nt']('camera',_0x4fdf70),_0x1e51bf;},jD=(_0x16ff84,_0x44a40c)=>{const _0x2aa760={'enabled':!(0x2e3*-0xb+-0x1b41+-0x3b03*-0x1),'type':_0x16ff84['type']==='point'?'omni':_0x16ff84['type'],'color':_0x16ff84['hasOwnProp'+'erty']('color')?new j(_0x16ff84['color']):j['WHITE'],'range':_0x16ff84['hasOwnProp'+'erty']('range')?_0x16ff84['range']:-0x1*0x1b3d+0x1327*0x2+0x1bfe,'falloffMode':Wb,'intensity':_0x16ff84['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x16ff84['intensity'],-0xed1+-0x15b*0x13+-0x9*-0x482,-0x1216*-0x2+-0x147b+-0xb*0x16d):0x14bb+-0x11*-0x1a6+-0x30c0};_0x16ff84['hasOwnProp'+'erty']('spot')&&(_0x2aa760['innerConeA'+'ngle']=_0x16ff84['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x16ff84['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:0x1b39+0x1d*0x47+-0x2344*0x1,_0x2aa760['outerConeA'+'ngle']=_0x16ff84['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x16ff84['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(-0xac*-0x11+0x1*-0x4b7+-0x23b*0x3)),_0x16ff84['hasOwnProp'+'erty']('intensity')&&(_0x2aa760['luminance']=_0x16ff84['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0x2aa760['type']],_0x2aa760['outerConeA'+'ngle'],_0x2aa760['innerConeA'+'ngle']));const _0x128e17=new $e(_0x44a40c['name']);return _0x128e17['rotateLoca'+'l'](0x2504+-0x118f*0x2+-0x84*0x3,0xd*-0x5+-0x1912*-0x1+-0x18d1,-0x1*0x9aa+0x1ccd+-0xd5*0x17),_0x128e17['addCompone'+'nt']('light',_0x2aa760),_0x128e17;},YD=(_0x2c8511,_0x164f16,_0x180353,_0x206bce)=>{if(!_0x164f16['hasOwnProp'+'erty']('skins')||_0x164f16['skins']['length']===-0xe25+0x943*-0x1+0xbb4*0x2)return[];const _0xe48155=new Map();return _0x164f16['skins']['map'](_0x16f4af=>ID(_0x2c8511,_0x16f4af,_0x164f16['accessors'],_0x206bce,_0x180353,_0xe48155));},KD=(_0x2f3ebd,_0x2bee24,_0x532cc7,_0x22e365)=>{var _0x3b0cda,_0x4b5c2f,_0x132b25;const _0x2b2558={},_0x39d98d={},_0x1aea52={},_0x3cd2ee=[];return{'meshes':!_0x22e365['skipMeshes']&&((_0x3b0cda=_0x2bee24==null?void(0xb57*0x1+-0x126c+-0x7*-0x103):_0x2bee24['meshes'])==null?void(0x1067+-0x3c0+-0xca7*0x1):_0x3b0cda['length'])&&((_0x4b5c2f=_0x2bee24==null?void(-0x3a6*0x1+0x473*-0x7+0x22cb):_0x2bee24['accessors'])==null?void(0x4*-0x34b+0x14a7+-0x77b):_0x4b5c2f['length'])&&((_0x132b25=_0x2bee24==null?void(0x18f2+0xa7+-0x1999):_0x2bee24['bufferView'+'s'])==null?void(-0x60d*-0x1+-0x1245+0x11*0xb8):_0x132b25['length'])?_0x2bee24['meshes']['map'](_0x24de35=>LD(_0x2f3ebd,_0x24de35,_0x2bee24['accessors'],_0x532cc7,_0x2b2558,_0x39d98d,_0x1aea52,_0x22e365,_0x3cd2ee)):[],'meshVariants':_0x39d98d,'meshDefaultMaterials':_0x1aea52,'promises':_0x3cd2ee};},ZD=(_0x3a4317,_0x45dd8e,_0x1a4aab)=>{var _0x5230ce,_0x406f96,_0x357619;if(!_0x3a4317['hasOwnProp'+'erty']('materials')||_0x3a4317['materials']['length']===0x1ce+0x79*0x16+0x1*-0xc34)return[];const _0x2cdb2f=(_0x5230ce=_0x1a4aab==null?void(-0x587*0x4+-0x13a*0x13+0x2d6a):_0x1a4aab['material'])==null?void(0xcbd+0x568+-0x3a1*0x5):_0x5230ce['preprocess'],_0x4077aa=((_0x406f96=_0x1a4aab==null?void(-0x1357+-0x2*0x2c2+0x18db):_0x1a4aab['material'])==null?void(0x19d1+-0x1fd4+0x603):_0x406f96['process'])??Dx,_0xfc6ce=(_0x357619=_0x1a4aab==null?void(0x170e+-0x159d*-0x1+-0x1*0x2cab):_0x1a4aab['material'])==null?void(0x86d+0xa6d*-0x1+0x200):_0x357619['postproces'+'s'];return _0x3a4317['materials']['map'](_0x46b5e3=>{_0x2cdb2f&&_0x2cdb2f(_0x46b5e3);const _0x59e84e=_0x4077aa(_0x46b5e3,_0x45dd8e);return _0xfc6ce&&_0xfc6ce(_0x46b5e3,_0x59e84e),_0x59e84e;});},QD=_0x5098d0=>{if(!_0x5098d0['hasOwnProp'+'erty']('extensions')||!_0x5098d0['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x278385=_0x5098d0['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0xc8c7d8={};for(let _0x2cae02=0x10e4+0x2350+-0x3434;_0x2cae02<_0x278385['length'];_0x2cae02++)_0xc8c7d8[_0x278385[_0x2cae02]['name']]=_0x2cae02;return _0xc8c7d8;},JD=(_0x34d24c,_0x29ce48,_0x2a9e13,_0x4599bf)=>{var _0x418c10,_0x56c2e0;if(!_0x34d24c['hasOwnProp'+'erty']('animations')||_0x34d24c['animations']['length']===-0xae8*-0x2+0x14b3+-0x2a83)return[];const _0xa5514e=(_0x418c10=_0x4599bf==null?void(0x67*0x1+0x1*-0x1ed+0x186):_0x4599bf['animation'])==null?void(-0x199b+0x18d4+0x1*0xc7):_0x418c10['preprocess'],_0x3bd092=(_0x56c2e0=_0x4599bf==null?void(-0x15ab+-0x1ab1+0x26b*0x14):_0x4599bf['animation'])==null?void(-0x125+-0x366+0x48b):_0x56c2e0['postproces'+'s'];return _0x34d24c['animations']['map']((_0x3c45c4,_0x33b305)=>{_0xa5514e&&_0xa5514e(_0x3c45c4);const _0x297e57=WD(_0x3c45c4,_0x33b305,_0x34d24c['accessors'],_0x2a9e13,_0x29ce48,_0x34d24c['meshes'],_0x34d24c['nodes']);return _0x3bd092&&_0x3bd092(_0x3c45c4,_0x297e57),_0x297e57;});},e2=(_0x203093,_0x4b6919,_0x1f2e5c,_0xca7074)=>{const _0x149f4f=_0x4b6919['accessors'];_0x1f2e5c['forEach']((_0x5063ce,_0x404338)=>{const _0x352e9c=_0x5063ce['ext']['attributes'];let _0x315e75;if(_0x352e9c['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x563817=_0x149f4f[_0x352e9c['TRANSLATIO'+'N']];_0x315e75=ma(_0x563817,_0xca7074);}let _0x31aae5;if(_0x352e9c['hasOwnProp'+'erty']('ROTATION')){const _0x3ef622=_0x149f4f[_0x352e9c['ROTATION']];_0x31aae5=ma(_0x3ef622,_0xca7074);}let _0x38e04b;if(_0x352e9c['hasOwnProp'+'erty']('SCALE')){const _0x95a0c5=_0x149f4f[_0x352e9c['SCALE']];_0x38e04b=ma(_0x95a0c5,_0xca7074);}const _0x48d59b=(_0x315e75?_0x315e75['length']/(-0x1a*-0x76+-0x851*-0x3+-0x8b*0x44):0xfa*-0x25+-0x24bf*-0x1+-0x9d)||(_0x31aae5?_0x31aae5['length']/(0x4*-0x6d0+0x2*-0xa82+0x3048):-0x656+0x1*0x545+0x15*0xd)||(_0x38e04b?_0x38e04b['length']/(-0x19d7+0x1c4*-0x3+0x1f26):-0x1f24+-0x5c2+0x24e6);if(_0x48d59b){const _0x5f0001=new Float32Array(_0x48d59b*(0x17b+0x1d7*0x5+-0xa9e)),_0x354146=new T(),_0x4c68fb=new se(),_0x2c2204=new T(0x2de*0x4+-0x106a+0x4f3,0x12fb*0x1+-0x1*-0x5af+-0x18a9,0x5*0x705+0x5*0x469+-0x3925*0x1),_0x2d5382=new q();let _0x40d415=-0x14ba+0x471+0xb*0x17b;for(let _0x3130f5=-0x1f03+-0x122b+-0xa*-0x4eb;_0x3130f5<_0x48d59b;_0x3130f5++){const _0x28cacb=_0x3130f5*(0x1*-0x23bb+-0x1420+-0x37de*-0x1);if(_0x315e75&&_0x354146['set'](_0x315e75[_0x28cacb],_0x315e75[_0x28cacb+(0x984+-0x16*0x10f+0xdc7)],_0x315e75[_0x28cacb+(0x2291+0xb*0x38b+0x1a*-0x2d4)]),_0x31aae5){const _0x401896=_0x3130f5*(-0x1*-0x954+-0x1d89+-0x1*-0x1439);_0x4c68fb['set'](_0x31aae5[_0x401896],_0x31aae5[_0x401896+(0xd*-0x219+-0x2*0xc5a+0x19fd*0x2)],_0x31aae5[_0x401896+(0x123a+0x1*0xc98+-0x1ed0)],_0x31aae5[_0x401896+(-0x1430+0x1845+0x1*-0x412)]);}_0x38e04b&&_0x2c2204['set'](_0x38e04b[_0x28cacb],_0x38e04b[_0x28cacb+(0x3e3*0x9+0x1317+-0x3611)],_0x38e04b[_0x28cacb+(-0xc06+0x21*0x99+-0x7b1)]),_0x2d5382['setTRS'](_0x354146,_0x4c68fb,_0x2c2204);for(let _0x188a00=0xb*-0xd6+-0x474+-0xda6*-0x1;_0x188a00<0xa81*0x3+0x1ed7+-0x2*0x1f25;_0x188a00++)_0x5f0001[_0x40d415++]=_0x2d5382['data'][_0x188a00];}_0x5063ce['matrices']=_0x5f0001;}});},t2=(_0x2affaf,_0x5b14f0,_0x918c11)=>{var _0x26035d,_0x57abf3,_0x1c6a0d;if(!_0x2affaf['hasOwnProp'+'erty']('nodes')||_0x2affaf['nodes']['length']===0x265e+0x2*0x367+-0x2d2c)return[];const _0x52c649=(_0x26035d=_0x5b14f0==null?void(-0xc8+-0xbf0+-0x8*-0x197):_0x5b14f0['node'])==null?void(-0x25b2+-0x1*-0x12d5+0x1*0x12dd):_0x26035d['preprocess'],_0x20651f=((_0x57abf3=_0x5b14f0==null?void(0xdc0+0x46f+-0x122f):_0x5b14f0['node'])==null?void(-0x239d*-0x1+-0x133*-0x5+0xa67*-0x4):_0x57abf3['process'])??qD,_0x3d84ae=(_0x1c6a0d=_0x5b14f0==null?void(0xaec+-0xd56+0x26a):_0x5b14f0['node'])==null?void(0x21fc+0x28d*0xd+0x4325*-0x1):_0x1c6a0d['postproces'+'s'],_0x2c1489=_0x2affaf['nodes']['map']((_0x2f12d2,_0x5211e2)=>{_0x52c649&&_0x52c649(_0x2f12d2);const _0x1f868d=_0x20651f(_0x2f12d2,_0x5211e2,_0x918c11);return _0x3d84ae&&_0x3d84ae(_0x2f12d2,_0x1f868d),_0x1f868d;});for(let _0x1554d5=-0x11d*-0x10+0x172a+-0x28fa;_0x1554d5<_0x2affaf['nodes']['length'];++_0x1554d5){const _0x3074a4=_0x2affaf['nodes'][_0x1554d5];if(_0x3074a4['hasOwnProp'+'erty']('children')){const _0x53d17e=_0x2c1489[_0x1554d5],_0x5e4de1={};for(let _0x26d477=-0x8b3*0x1+-0x7c0+-0x1*-0x1073;_0x26d477<_0x3074a4['children']['length'];++_0x26d477){const _0x3e2bd7=_0x2c1489[_0x3074a4['children'][_0x26d477]];_0x3e2bd7['parent']||(_0x5e4de1['hasOwnProp'+'erty'](_0x3e2bd7['name'])?_0x3e2bd7['name']+=_0x5e4de1[_0x3e2bd7['name']]++:_0x5e4de1[_0x3e2bd7['name']]=0x2704+-0x2f6*-0xa+0x449f*-0x1,_0x53d17e['addChild'](_0x3e2bd7));}}}return _0x2c1489;},s2=(_0x53ca6d,_0x3a3eb8)=>{var _0x345bb1;const _0x30f2e5=[],_0x1d8e5d=_0x53ca6d['scenes']['length'];if(_0x1d8e5d===0x1f1*0x11+0x1b82+-0x3c82&&((_0x345bb1=_0x53ca6d['scenes'][0x1*-0x2291+-0xac2+0x2d53]['nodes'])==null?void(-0x1bf7*0x1+-0x59*-0x5e+-0x4b7*0x1):_0x345bb1['length'])===0x1642+-0xe3*0x4+-0x12b5){const _0x425bab=_0x53ca6d['scenes'][-0x74d*-0x2+-0x2ea*-0x2+0x20b*-0xa]['nodes'][-0x7d3+-0x26*0x8+0x3*0x301];_0x30f2e5['push'](_0x3a3eb8[_0x425bab]);}else for(let _0x231e75=-0x43f*-0x6+-0x15b7+-0x9*0x6b;_0x231e75<_0x1d8e5d;_0x231e75++){const _0x1a66e3=_0x53ca6d['scenes'][_0x231e75];if(_0x1a66e3['nodes']){const _0x5f29b9=new De(_0x1a66e3['name']);for(let _0x3bf63f=-0x137c+-0x22bd+0x7*0x7bf;_0x3bf63f<_0x1a66e3['nodes']['length'];_0x3bf63f++){const _0x4a588c=_0x3a3eb8[_0x1a66e3['nodes'][_0x3bf63f]];_0x5f29b9['addChild'](_0x4a588c);}_0x30f2e5['push'](_0x5f29b9);}}return _0x30f2e5;},i2=(_0x475d82,_0x1ba5f4,_0x5d02f1)=>{var _0x874180,_0x108a9d,_0x2cbdc5;let _0x317286=null;if(_0x475d82['hasOwnProp'+'erty']('nodes')&&_0x475d82['hasOwnProp'+'erty']('cameras')&&_0x475d82['cameras']['length']>-0xb5*0x25+0x1*0xd62+0xcc7){const _0x35b171=(_0x874180=_0x5d02f1==null?void(0x902*-0x3+0x2ad*-0xd+0x3dcf):_0x5d02f1['camera'])==null?void(-0x24d5+-0x1f*0x50+0x2e85*0x1):_0x874180['preprocess'],_0x477e65=((_0x108a9d=_0x5d02f1==null?void(-0x2319+0x16c8*-0x1+0x39e1):_0x5d02f1['camera'])==null?void(-0x21b5*-0x1+-0x77b*-0x1+-0x2930):_0x108a9d['process'])??XD,_0x3898ac=(_0x2cbdc5=_0x5d02f1==null?void(-0x1*0x1345+0x2575+-0x10*0x123):_0x5d02f1['camera'])==null?void(-0x13ed+0x4cc+-0x1*-0xf21):_0x2cbdc5['postproces'+'s'];_0x475d82['nodes']['forEach']((_0x58e441,_0x2f47a0)=>{if(_0x58e441['hasOwnProp'+'erty']('camera')){const _0xf215c8=_0x475d82['cameras'][_0x58e441['camera']];if(_0xf215c8){_0x35b171&&_0x35b171(_0xf215c8);const _0x1d0dbd=_0x477e65(_0xf215c8,_0x1ba5f4[_0x2f47a0]);_0x3898ac&&_0x3898ac(_0xf215c8,_0x1d0dbd),_0x1d0dbd&&(_0x317286||(_0x317286=new Map()),_0x317286['set'](_0x58e441,_0x1d0dbd));}}});}return _0x317286;},r2=(_0x4f5e0f,_0x572e00,_0x22ef79)=>{var _0x5392b0,_0xe38b49,_0x12c127;let _0x275f5c=null;if(_0x4f5e0f['hasOwnProp'+'erty']('nodes')&&_0x4f5e0f['hasOwnProp'+'erty']('extensions')&&_0x4f5e0f['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x4f5e0f['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x1ba9c7=_0x4f5e0f['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x1ba9c7['length']){const _0x2af730=(_0x5392b0=_0x22ef79==null?void(-0x2345+-0x194f*-0x1+0x9f6):_0x22ef79['light'])==null?void(0xd8*-0x24+-0xd13*-0x1+0x114d):_0x5392b0['preprocess'],_0x3ec9a5=((_0xe38b49=_0x22ef79==null?void(-0x1*0x566+0x13d9+-0xe73):_0x22ef79['light'])==null?void(-0xb*-0x1d+-0x44e+-0x30f*-0x1):_0xe38b49['process'])??jD,_0x1c2234=(_0x12c127=_0x22ef79==null?void(-0x1*0x6f1+0x157a+-0xe89):_0x22ef79['light'])==null?void(-0x20ce+-0x15bf+-0x3*-0x122f):_0x12c127['postproces'+'s'];_0x4f5e0f['nodes']['forEach']((_0x347b12,_0x44c779)=>{if(_0x347b12['hasOwnProp'+'erty']('extensions')&&_0x347b12['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x347b12['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x318b93=_0x347b12['extensions']['KHR_lights'+'_punctual']['light'],_0x4c05f4=_0x1ba9c7[_0x318b93];if(_0x4c05f4){_0x2af730&&_0x2af730(_0x4c05f4);const _0x358251=_0x3ec9a5(_0x4c05f4,_0x572e00[_0x44c779]);_0x1c2234&&_0x1c2234(_0x4c05f4,_0x358251),_0x358251&&(_0x275f5c||(_0x275f5c=new Map()),_0x275f5c['set'](_0x347b12,_0x358251));}}});}}return _0x275f5c;},n2=(_0x35fbf3,_0x290c85,_0x44a446)=>{_0x35fbf3['nodes']['forEach'](_0x281224=>{_0x281224['hasOwnProp'+'erty']('mesh')&&_0x281224['hasOwnProp'+'erty']('skin')&&_0x290c85[_0x281224['mesh']]['meshes']['forEach'](_0x490050=>{_0x490050['skin']=_0x44a446[_0x281224['skin']];});});},a2=async(_0x24756c,_0x5928e7,_0x45f1d4,_0x229eb1,_0x47d053)=>{var _0x1dafd0,_0x174903;const _0x5ee0d8=(_0x1dafd0=_0x47d053==null?void(-0x5de*-0x3+0x11*0xb5+0x1*-0x1d9f):_0x47d053['global'])==null?void(-0x2618+-0x773*-0x3+-0x8b*-0x1d):_0x1dafd0['preprocess'],_0x38da55=(_0x174903=_0x47d053==null?void(0x2361+0x1cdb+0x2*-0x201e):_0x47d053['global'])==null?void(-0x2419+-0x832*-0x1+0x94d*0x3):_0x174903['postproces'+'s'];_0x5ee0d8&&_0x5ee0d8(_0x5928e7),_0x5928e7['asset']&&_0x5928e7['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x59bb0d=new Map(),_0xfbf428=t2(_0x5928e7,_0x47d053,_0x59bb0d),_0x7f0f1e=s2(_0x5928e7,_0xfbf428),_0xefaab7=r2(_0x5928e7,_0xfbf428,_0x47d053),_0x505f4c=i2(_0x5928e7,_0xfbf428,_0x47d053),_0x3c0e62=QD(_0x5928e7),_0xe3512f=await Promise['all'](_0x45f1d4),{meshes:_0x5a3289,meshVariants:_0x529efd,meshDefaultMaterials:_0x499eee,promises:_0x16c818}=KD(_0x24756c,_0x5928e7,_0xe3512f,_0x47d053),_0x404f9c=JD(_0x5928e7,_0xfbf428,_0xe3512f,_0x47d053);e2(_0x24756c,_0x5928e7,_0x59bb0d,_0xe3512f);const _0x4e45e0=await Promise['all'](_0x229eb1),_0x5dc930=_0x4e45e0['map'](_0x283694=>_0x283694['resource']),_0x3417e2=ZD(_0x5928e7,_0x5dc930,_0x47d053),_0x31e827=YD(_0x24756c,_0x5928e7,_0xfbf428,_0xe3512f),_0xd1bc99=[];for(let _0x3abed7=-0x664+-0xbd+0x5*0x16d;_0x3abed7<_0x5a3289['length'];_0x3abed7++)_0xd1bc99[_0x3abed7]=new Hp(),_0xd1bc99[_0x3abed7]['meshes']=_0x5a3289[_0x3abed7];n2(_0x5928e7,_0xd1bc99,_0x31e827);const _0xcfc37e=new SD();return _0xcfc37e['gltf']=_0x5928e7,_0xcfc37e['nodes']=_0xfbf428,_0xcfc37e['scenes']=_0x7f0f1e,_0xcfc37e['animations']=_0x404f9c,_0xcfc37e['textures']=_0x4e45e0,_0xcfc37e['materials']=_0x3417e2,_0xcfc37e['variants']=_0x3c0e62,_0xcfc37e['meshVarian'+'ts']=_0x529efd,_0xcfc37e['meshDefaul'+'tMaterials']=_0x499eee,_0xcfc37e['renders']=_0xd1bc99,_0xcfc37e['skins']=_0x31e827,_0xcfc37e['lights']=_0xefaab7,_0xcfc37e['cameras']=_0x505f4c,_0xcfc37e['nodeInstan'+'cingMap']=_0x59bb0d,_0x38da55&&_0x38da55(_0x5928e7,_0xcfc37e),await Promise['all'](_0x16c818),_0xcfc37e;},o2=(_0xb6dcfb,_0x27e92f)=>{const _0x43600f=(_0x24fdda,_0x49a42b)=>{switch(_0x24fdda){case-0x1c7d+0x2*0xfd6+0x22d1*0x1:return de;case-0x4*0xcc6+-0x626*-0x6+0x3435:return st;case 0x478d+0x300*0x8+-0x388d:return fc;case-0xc*-0x1b0+-0x748*-0x8+-0x277f:return mc;case 0x1*-0x5f1+0x4069+-0x1376:return pc;case-0x397*0x10+-0x1*-0xabb+0x55b8:return nn;default:return _0x49a42b;}},_0x4b7218=(_0xf47f0,_0x49a9aa)=>{switch(_0xf47f0){case-0x1*-0xf11b+-0x497d+-0x266f*0x1:return ae;case-0x1*-0xe94d+0xd182+-0x1375f:return Of;case 0x4346+-0x63f+-0x1406:return tt;default:return _0x49a9aa;}};_0xb6dcfb&&(_0x27e92f=_0x27e92f??{},_0xb6dcfb['minFilter']=_0x43600f(_0x27e92f['minFilter'],nn),_0xb6dcfb['magFilter']=_0x43600f(_0x27e92f['magFilter'],st),_0xb6dcfb['addressU']=_0x4b7218(_0x27e92f['wrapS'],tt),_0xb6dcfb['addressV']=_0x4b7218(_0x27e92f['wrapT'],tt));};let l2=-0xc8*0x6+-0x1685+0x1b35;const vf=_0x3e82e7=>{var _0x429557,_0x300741,_0x3bbe75,_0xeb1339;return((_0x300741=(_0x429557=_0x3e82e7['extensions'])==null?void(0x453+-0xbdd*0x3+0xae*0x2e):_0x429557['KHR_textur'+'e_basisu'])==null?void(0x209d+0x118a+-0x1*0x3227):_0x300741['source'])??((_0xeb1339=(_0x3bbe75=_0x3e82e7['extensions'])==null?void(-0x22*-0x46+0x21dd*-0x1+-0x14b*-0x13):_0x3bbe75['EXT_textur'+'e_webp'])==null?void(0x277*-0x1+0x2332+-0x20bb):_0xeb1339['source'])??_0x3e82e7['source'];},h2=(_0x5b675f,_0x138b9c,_0x9f4e1f,_0x1f3275,_0x2a333e)=>{var _0x491753,_0x5ab559,_0x43d873;if(!_0x5b675f['images']||_0x5b675f['images']['length']===-0x597+0x16e5+-0x114e)return[];const _0x2d62a7=(_0x491753=_0x2a333e==null?void(-0x12bf+-0x1179+0x1*0x2438):_0x2a333e['image'])==null?void(0x56f*0x5+-0x1e05+0x2da*0x1):_0x491753['preprocess'],_0x4773a4=(_0x5ab559=_0x2a333e==null?void(0x2046+0x62*-0x4f+-0x104*0x2):_0x2a333e['image'])==null?void(-0xb4f+0x1179+-0x62a):_0x5ab559['processAsy'+'nc'],_0x3a654e=(_0x43d873=_0x2a333e==null?void(0x5d9*-0x3+-0x1b5f+0x2cea):_0x2a333e['image'])==null?void(-0x1485+0x37*-0x47+0x13*0x1e2):_0x43d873['postproces'+'s'],_0xa7e159={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x500164=_0x346e17=>{const _0x145db9=new Set();return _0x346e17['hasOwnProp'+'erty']('materials')&&_0x346e17['materials']['forEach'](_0x23395a=>{if(_0x23395a['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x12a073=_0x23395a['pbrMetalli'+'cRoughness'];if(_0x12a073['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0xaf5d1=_0x346e17['textures'][_0x12a073['baseColorT'+'exture']['index']];_0x145db9['add'](vf(_0xaf5d1));}}if(_0x23395a['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x3ee3c0=_0x346e17['textures'][_0x23395a['emissiveTe'+'xture']['index']];_0x145db9['add'](vf(_0x3ee3c0));}}),_0x145db9;},_0xc980fd=(_0x28c050,_0x561c76,_0x7b827a,_0x16478c,_0x5c9d7b,_0x1046c8)=>new Promise((_0x2fa1d6,_0x1258f7)=>{const _0xb178b6=_0x5e6432=>{const _0x4b01c2=(_0x28c050['name']||'gltf-textu'+'re')+'-'+l2++,_0x4b04cb={'url':_0x561c76||_0x4b01c2};if(_0x5e6432&&(_0x4b04cb['contents']=_0x5e6432['slice'](-0x1*0x1b06+-0x2ec+0x1df2)['buffer']),_0x16478c){const _0x15fc02=_0xa7e159[_0x16478c];_0x15fc02&&(_0x4b04cb['filename']=_0x4b04cb['url']+'.'+_0x15fc02);}const _0x55c48e={'srgb':_0x1046c8},_0x18a792=new le(_0x4b01c2,'texture',_0x4b04cb,_0x55c48e,_0x5c9d7b);_0x18a792['on']('load',_0x32424f=>_0x2fa1d6(_0x32424f)),_0x18a792['on']('error',_0x16bc98=>_0x1258f7(_0x16bc98)),_0x1f3275['add'](_0x18a792),_0x1f3275['load'](_0x18a792);};_0x7b827a?_0x7b827a['then'](_0x5de3b5=>_0xb178b6(_0x5de3b5)):_0xb178b6(null);}),_0x374d29=_0x500164(_0x5b675f);return _0x5b675f['images']['map']((_0x463585,_0x4ed660)=>{_0x2d62a7&&_0x2d62a7(_0x463585);let _0x519dc1;return _0x4773a4?_0x519dc1=new Promise((_0x30aa26,_0x3215c5)=>{_0x4773a4(_0x463585,(_0x45119b,_0x50a864)=>{_0x45119b?_0x3215c5(_0x45119b):_0x30aa26(_0x50a864);});}):_0x519dc1=new Promise(_0x7985f3=>{_0x7985f3(null);}),_0x519dc1=_0x519dc1['then'](_0x579199=>{const _0x80052e=_0x374d29['has'](_0x4ed660);return _0x579199||(_0x463585['hasOwnProp'+'erty']('uri')?Rx(_0x463585['uri'])?_0xc980fd(_0x463585,_0x463585['uri'],null,vD(_0x463585['uri']),null,_0x80052e):_0xc980fd(_0x463585,Da['test'](_0x463585['uri'])?_0x463585['uri']:fe['join'](_0x9f4e1f,_0x463585['uri']),null,null,{'crossOrigin':'anonymous'},_0x80052e):_0x463585['hasOwnProp'+'erty']('bufferView')&&_0x463585['hasOwnProp'+'erty']('mimeType')?_0xc980fd(_0x463585,null,_0x138b9c[_0x463585['bufferView']],_0x463585['mimeType'],null,_0x80052e):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x4ed660)));}),_0x3a654e&&(_0x519dc1=_0x519dc1['then'](_0x45dde9=>(_0x3a654e(_0x463585,_0x45dde9),_0x45dde9))),_0x519dc1;});},c2=(_0x4d9898,_0x398447,_0x5028f7)=>{var _0x5768ca,_0x2aaa53,_0x463ab9,_0x132e18,_0x3fd72b;if(!((_0x5768ca=_0x4d9898==null?void(0x56b+-0x1a6*0x1+-0x3c5):_0x4d9898['images'])!=null&&_0x5768ca['length'])||!((_0x2aaa53=_0x4d9898==null?void(0x19f8+-0x2*0xbfc+-0x200):_0x4d9898['textures'])!=null&&_0x2aaa53['length']))return[];const _0x48c8b3=(_0x463ab9=_0x5028f7==null?void(0x1*-0x7eb+-0xb*0x184+0x1897):_0x5028f7['texture'])==null?void(-0x1*-0x23e9+0x22de+-0x46c7):_0x463ab9['preprocess'],_0x2322e4=(_0x132e18=_0x5028f7==null?void(0x26b*0x1+0xf61+-0x11cc):_0x5028f7['texture'])==null?void(0x16ca+0x1c4f+-0x3319):_0x132e18['processAsy'+'nc'],_0xc0867c=(_0x3fd72b=_0x5028f7==null?void(-0x24d6+-0x1*0x1b5e+-0x201a*-0x2):_0x5028f7['texture'])==null?void(-0xb50+-0x87a+0x13ca):_0x3fd72b['postproces'+'s'],_0x66e838=new Set();return _0x4d9898['textures']['map'](_0x49ff7d=>{_0x48c8b3&&_0x48c8b3(_0x49ff7d);let _0x425562;return _0x2322e4?_0x425562=new Promise((_0x173281,_0x3c7b60)=>{_0x2322e4(_0x49ff7d,_0x4d9898['images'],(_0x3dba49,_0x594285)=>{_0x3dba49?_0x3c7b60(_0x3dba49):_0x173281(_0x594285);});}):_0x425562=new Promise(_0x9313d5=>{_0x9313d5(null);}),_0x425562=_0x425562['then'](_0x115f8b=>{_0x115f8b=_0x115f8b??vf(_0x49ff7d);const _0x779f9=_0x66e838['has'](_0x115f8b);return _0x66e838['add'](_0x115f8b),_0x398447[_0x115f8b]['then'](_0x398986=>{const _0x1509fc=_0x779f9?MD(_0x398986):_0x398986;return o2(_0x1509fc['resource'],(_0x4d9898['samplers']??[])[_0x49ff7d['sampler']]),_0x1509fc;});}),_0xc0867c&&(_0x425562=_0x425562['then'](_0xce9b39=>(_0xc0867c(_0x49ff7d,_0xce9b39),_0xce9b39))),_0x425562;});},d2=(_0x5522de,_0x215a44,_0x364b55,_0x129a30)=>{var _0x3acc32,_0x4839a9,_0x7882da;if(!_0x5522de['buffers']||_0x5522de['buffers']['length']===0xa6+0xd3b+-0xde1)return[];const _0xbdead5=(_0x3acc32=_0x129a30==null?void(0xba5+-0x65*-0x34+-0x2029*0x1):_0x129a30['buffer'])==null?void(-0x151f+0x2*0x136d+0x11bb*-0x1):_0x3acc32['preprocess'],_0x237ac1=(_0x4839a9=_0x129a30==null?void(-0xb*0x28d+-0x1256*-0x1+0x1*0x9b9):_0x129a30['buffer'])==null?void(0xe*0x115+0x1c1b+0x3*-0xe6b):_0x4839a9['processAsy'+'nc'],_0xc14768=(_0x7882da=_0x129a30==null?void(-0x6c5*0x1+0xe93+0x1*-0x7ce):_0x129a30['buffer'])==null?void(0x1129+0x11a3+-0x11*0x20c):_0x7882da['postproces'+'s'];return _0x5522de['buffers']['map']((_0x3d1bf7,_0x50ef08)=>{_0xbdead5&&_0xbdead5(_0x3d1bf7);let _0x48671c;return _0x237ac1?_0x48671c=new Promise((_0x5d4816,_0x12824b)=>{_0x237ac1(_0x3d1bf7,(_0x54f589,_0x15a8d7)=>{_0x54f589?_0x12824b(_0x54f589):_0x5d4816(_0x15a8d7);});}):_0x48671c=new Promise(_0x19ccc9=>{_0x19ccc9(null);}),_0x48671c=_0x48671c['then'](_0x143a1b=>{if(_0x143a1b)return _0x143a1b;if(_0x3d1bf7['hasOwnProp'+'erty']('uri')){if(Rx(_0x3d1bf7['uri'])){const _0x25c0b8=atob(_0x3d1bf7['uri']['split'](',')[-0x231+0x1fb6*0x1+-0xec2*0x2]),_0xc39f97=new Uint8Array(_0x25c0b8['length']);for(let _0x7fbf7d=0x616+0x4a*-0xc+-0x29e;_0x7fbf7d<_0x25c0b8['length'];_0x7fbf7d++)_0xc39f97[_0x7fbf7d]=_0x25c0b8['charCodeAt'](_0x7fbf7d);return _0xc39f97;}return new Promise((_0xfbfa41,_0x5a4af3)=>{We['get'](Da['test'](_0x3d1bf7['uri'])?_0x3d1bf7['uri']:fe['join'](_0x364b55,_0x3d1bf7['uri']),{'cache':!(-0x211*-0x11+0xda3+-0x1*0x30c4),'responseType':'arraybuffe'+'r','retry':!(0x1*-0x2582+0x861+0x1d22)},(_0x3db984,_0x3e1f4f)=>{_0x3db984?_0x5a4af3(_0x3db984):_0xfbfa41(new Uint8Array(_0x3e1f4f));});});}return _0x215a44;}),_0xc14768&&(_0x48671c=_0x48671c['then'](_0x3e48e4=>(_0xc14768(_0x5522de['buffers'][_0x50ef08],_0x3e48e4),_0x3e48e4))),_0x48671c;});},u2=(_0x5e8e9f,_0x17adee)=>{const _0x467275=JSON['parse']((_0x5d6ba2=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x5d6ba2);let _0x5a90e8='';for(let _0x143601=0x1*0x1e63+-0x1*0x8dd+-0x1586;_0x143601<_0x5d6ba2['length'];_0x143601++)_0x5a90e8+=String['fromCharCo'+'de'](_0x5d6ba2[_0x143601]);return decodeURIComponent(escape(_0x5a90e8));})(_0x5e8e9f));if(_0x467275['asset']&&_0x467275['asset']['version']&&parseFloat(_0x467275['asset']['version'])<0x1ab1*0x1+-0x10*0x190+0x1af*-0x1){_0x17adee('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x467275['asset']['version']+'\x27.');return;}_0x17adee(null,_0x467275);},f2=(_0x2aeb56,_0x118c0d)=>{const _0x3c5061=_0x2aeb56 instanceof ArrayBuffer?new DataView(_0x2aeb56):new DataView(_0x2aeb56['buffer'],_0x2aeb56['byteOffset'],_0x2aeb56['byteLength']),_0x1ec978=_0x3c5061['getUint32'](-0x3*-0x112+-0x1394+0x5*0x346,!(-0x1*0x68+-0x1*0x25cf+0x2637)),_0x1e1158=_0x3c5061['getUint32'](-0x1*0xfbb+-0xc0c+-0x5*-0x58f,!(-0xe45+0x2*0x11fb+0x9*-0x269)),_0x41217a=_0x3c5061['getUint32'](-0xcd9+0x13e+-0xba3*-0x1,!(-0x1a3e+-0x89*0x3f+0x3bf5));if(_0x1ec978!==0xb*-0x7bb430b+0x2214*0x30894+0x33fffa50){_0x118c0d('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x1ec978['toString'](-0x117d+-0x17e8+0x2975));return;}if(_0x1e1158!==0x707+0xcb3*-0x2+-0x1*-0x1261){_0x118c0d('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x1e1158);return;}if(_0x41217a<=0x1054+-0x21ba+-0x2*-0x8b3||_0x41217a>_0x3c5061['byteLength']){_0x118c0d('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x41217a);return;}const _0x30cc9e=[];let _0x952ef9=0x10cb*-0x1+-0x1cdc+0x2db3*0x1;for(;_0x952ef9<_0x41217a;){const _0x3ff28f=_0x3c5061['getUint32'](_0x952ef9,!(0x1845+-0x2429+0xbe4*0x1));_0x952ef9+_0x3ff28f+(0x16*0xd1+-0xabf+-0x72f)>_0x3c5061['byteLength']&&_0x118c0d('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x3ff28f);const _0x691d42=_0x3c5061['getUint32'](_0x952ef9+(-0x2559+0x10f*0xb+-0x19b8*-0x1),!(0x4ca+-0x163a*-0x1+-0xd82*0x2)),_0x58f5d8=new Uint8Array(_0x3c5061['buffer'],_0x3c5061['byteOffset']+_0x952ef9+(0x9a*0x32+0x3*0x765+-0x343b),_0x3ff28f);_0x30cc9e['push']({'length':_0x3ff28f,'type':_0x691d42,'data':_0x58f5d8}),_0x952ef9+=_0x3ff28f+(0x2408+-0x7*-0x3a9+-0x3d9f);}if(_0x30cc9e['length']!==0x1*0xc0e+-0x2*0x32+0x255*-0x5&&_0x30cc9e['length']!==0x1e89+0xb41*-0x1+-0x1346){_0x118c0d('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x30cc9e[-0x18a*-0x7+-0x22*0x3d+-0x2ac]['type']!==-0x5ec94660+0x650378a1+-0x204f*-0x23b27){_0x118c0d('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x30cc9e[-0x1bb+-0xe*-0x20f+-0x13*0x16d]['type']['toString'](-0x1908+0x10ce*-0x1+0x29e6));return;}if(_0x30cc9e['length']>-0xec4+-0xb80+-0x541*-0x5&&_0x30cc9e[0x2258+0x20cc+-0x4323]['type']!==0x31d776*0x2+-0x992e3c+0x39de*0x247){_0x118c0d('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x30cc9e[0x1*0x20dd+-0x2252+0xbb*0x2]['type']['toString'](-0x2d0+-0x2702+-0x14f1*-0x2));return;}_0x118c0d(null,{'gltfChunk':_0x30cc9e[0x8e1*0x3+0xf+-0x11*0x192]['data'],'binaryChunk':_0x30cc9e['length']===0x34b+-0x1*-0x20c3+-0x240c?_0x30cc9e[0x21f5+-0x2589*0x1+0x395]['data']:null});},p2=(_0x56e35b,_0x4de643,_0x37df19)=>{const _0x5d6fc1=()=>{const _0x16b83f=new Uint8Array(_0x4de643);return _0x16b83f[-0x260e+0x1890+-0xd7e*-0x1]===0x20c*0x7+-0x1100*-0x2+-0x2fed&&_0x16b83f[-0x816+0xf7f+-0xed*0x8]===-0x1cd9+-0x37*-0x3+0x8*0x394&&_0x16b83f[0xad8+0x1240+-0x1d16]===0xb60+0x1348+-0x1e54&&_0x16b83f[-0xa4a+0x647*0x4+-0xecf]===0x6b*0x1d+-0xd1d*0x1+0x144;};_0x56e35b&&_0x56e35b['toLowerCas'+'e']()['endsWith']('.glb')||_0x5d6fc1()?f2(_0x4de643,_0x37df19):_0x37df19(null,{'gltfChunk':_0x4de643,'binaryChunk':null});},m2=(_0x32c6cd,_0x179d89,_0x4f0fbf)=>{var _0x1603c2,_0x3c2637,_0x561a74,_0x47ae36;const _0x181456=[],_0x4dbc9b=(_0x1603c2=_0x4f0fbf==null?void(0x738+-0x1*-0x176c+-0x94*0x35):_0x4f0fbf['bufferView'])==null?void(0x1*-0xaed+-0x14ff+-0x552*-0x6):_0x1603c2['preprocess'],_0x36408a=(_0x3c2637=_0x4f0fbf==null?void(0x2120+-0xaf7+-0x1629*0x1):_0x4f0fbf['bufferView'])==null?void(-0x998+0x4*0x6ec+-0x1218):_0x3c2637['processAsy'+'nc'],_0x5f163b=(_0x561a74=_0x4f0fbf==null?void(0x196d+0x17c3+-0x313*0x10):_0x4f0fbf['bufferView'])==null?void(-0x61+-0x1d75+0x1dd6):_0x561a74['postproces'+'s'];if(!((_0x47ae36=_0x32c6cd['bufferView'+'s'])!=null&&_0x47ae36['length']))return _0x181456;for(let _0x274e25=-0xd1*0x2c+-0x1d*-0x1+0x23cf;_0x274e25<_0x32c6cd['bufferView'+'s']['length'];++_0x274e25){const _0x8204fe=_0x32c6cd['bufferView'+'s'][_0x274e25];_0x4dbc9b&&_0x4dbc9b(_0x8204fe);let _0x1294ad;_0x36408a?_0x1294ad=new Promise((_0x162b39,_0x32f8f5)=>{_0x36408a(_0x8204fe,_0x179d89,(_0x5bcebc,_0x14fdbc)=>{_0x5bcebc?_0x32f8f5(_0x5bcebc):_0x162b39(_0x14fdbc);});}):_0x1294ad=new Promise(_0x1a093c=>{_0x1a093c(null);}),_0x1294ad=_0x1294ad['then'](_0x5afe85=>_0x5afe85||_0x179d89[_0x8204fe['buffer']]['then'](_0x5c5f57=>new Uint8Array(_0x5c5f57['buffer'],_0x5c5f57['byteOffset']+(_0x8204fe['byteOffset']||-0x2549*0x1+-0x1236+0x1*0x377f),_0x8204fe['byteLength']))),_0x8204fe['hasOwnProp'+'erty']('byteStride')&&(_0x1294ad=_0x1294ad['then'](_0x4c5487=>(_0x4c5487['byteStride']=_0x8204fe['byteStride'],_0x4c5487))),_0x5f163b&&(_0x1294ad=_0x1294ad['then'](_0x136a22=>(_0x5f163b(_0x8204fe,_0x136a22),_0x136a22))),_0x181456['push'](_0x1294ad);}return _0x181456;};class tc{static['parse'](_0x262b85,_0x4310ad,_0x24306e,_0x4029e7,_0x244e27,_0x326985,_0x5e17b4){p2(_0x262b85,_0x24306e,(_0x41d750,_0x133d0a)=>{if(_0x41d750){_0x5e17b4(_0x41d750);return;}u2(_0x133d0a['gltfChunk'],(_0x110660,_0x1cc339)=>{if(_0x110660){_0x5e17b4(_0x110660);return;}const _0xc2e73f=d2(_0x1cc339,_0x133d0a['binaryChun'+'k'],_0x4310ad,_0x326985),_0x722aca=m2(_0x1cc339,_0xc2e73f,_0x326985),_0x49bcd7=h2(_0x1cc339,_0x722aca,_0x4310ad,_0x244e27,_0x326985),_0x1216a4=c2(_0x1cc339,_0x49bcd7,_0x326985);a2(_0x4029e7,_0x1cc339,_0x722aca,_0x1216a4,_0x326985)['then'](_0x3e86db=>_0x5e17b4(null,_0x3e86db))['catch'](_0x5c5c64=>_0x5e17b4(_0x5c5c64));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x5e831e){super(_0x5e831e,'animation'),this['device']=_0x5e831e['graphicsDe'+'vice'],this['assets']=_0x5e831e['assets'];}['load'](_0x1ea0b3,_0x5289ef,_0x4f101b){typeof _0x1ea0b3=='string'&&(_0x1ea0b3={'load':_0x1ea0b3,'original':_0x1ea0b3});const _0xdb1369={'retry':this['maxRetries']>0x1f3f+0x12f*-0x19+-0x1a8,'maxRetries':this['maxRetries']};(_0x1ea0b3['load']['startsWith']('blob:')||_0x1ea0b3['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x1ea0b3['original'])['toLowerCas'+'e']()==='.glb'?_0xdb1369['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0xdb1369['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x1ea0b3['load'],_0xdb1369,(_0x14476c,_0x49c3db)=>{_0x14476c?_0x5289ef('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x1ea0b3['original']+'\x20['+_0x14476c+']'):fe['getExtensi'+'on'](_0x1ea0b3['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x49c3db,this['device'],this['assets'],(_0x4f101b==null?void(0x2401*-0x1+-0x1fb3+0x43b4):_0x4f101b['options'])??{},(_0x169764,_0x3588bb)=>{var _0x11eca5;if(_0x169764)_0x5289ef(_0x169764);else{const _0x238bed=_0x3588bb['animations'];if((_0x11eca5=_0x4f101b==null?void(0x8*-0x262+-0x115*-0x1+-0x11fb*-0x1):_0x4f101b['data'])!=null&&_0x11eca5['events']){for(let _0x3dee8c=0x28*0x63+-0x21b6+-0x2*-0x91f;_0x3dee8c<_0x238bed['length'];_0x3dee8c++)_0x238bed[_0x3dee8c]['events']=new Y0(Object['values'](_0x4f101b['data']['events']));}_0x3588bb['destroy'](),_0x5289ef(null,_0x238bed);}}):_0x5289ef(null,this['_parseAnim'+'ationV'+_0x49c3db['animation']['version']](_0x49c3db));});}['open'](_0x2c0647,_0x176924,_0x1d0c6b){return _0x176924;}['_parseAnim'+'ationV3'](_0x28e3fd){const _0x2728b8=_0x28e3fd['animation'],_0x14c25c=new k_();_0x14c25c['name']=_0x2728b8['name'],_0x14c25c['duration']=_0x2728b8['duration'];for(let _0xbc611f=0x46c*0x1+0xb29+0xf95*-0x1;_0xbc611f<_0x2728b8['nodes']['length'];_0xbc611f++){const _0x272257=new O_(),_0x3ebb80=_0x2728b8['nodes'][_0xbc611f];_0x272257['_name']=_0x3ebb80['name'];for(let _0x17415d=0x36*0x22+-0x1eff+0x17d3*0x1;_0x17415d<_0x3ebb80['keys']['length'];_0x17415d++){const _0x2ba34a=_0x3ebb80['keys'][_0x17415d],_0x16f602=_0x2ba34a['time'],_0x55be2d=_0x2ba34a['pos'],_0x1cfc62=_0x2ba34a['rot'],_0x3e2bc4=_0x2ba34a['scale'],_0x17ff52=new T(_0x55be2d[0xe2*0x22+-0x1b44+0x160*-0x2],_0x55be2d[0x106+0x1*0x1367+0x1*-0x146c],_0x55be2d[-0x1da*0x3+0x13*0x10+0x460]),_0x498a3e=new se()['setFromEul'+'erAngles'](_0x1cfc62[-0x22df+0x53a*0x2+-0x149*-0x13],_0x1cfc62[0x1260+-0xad9+0x282*-0x3],_0x1cfc62[0xeba+-0x26fd+-0x39*-0x6d]),_0x509ae0=new T(_0x3e2bc4[0x1*-0xe97+0xad9+-0x3be*-0x1],_0x3e2bc4[0x178f+-0x13+-0x177b*0x1],_0x3e2bc4[-0x1d*0x5c+0xf2a+0xc*-0x65]),_0x48a2ff=new F_(_0x16f602,_0x17ff52,_0x498a3e,_0x509ae0);_0x272257['_keys']['push'](_0x48a2ff);}_0x14c25c['addNode'](_0x272257);}return _0x14c25c;}['_parseAnim'+'ationV4'](_0x3a381f){const _0x13b84f=_0x3a381f['animation'],_0x507245=new k_();_0x507245['name']=_0x13b84f['name'],_0x507245['duration']=_0x13b84f['duration'];for(let _0xde17c2=0xb26+-0x56*0x1c+-0x1be;_0xde17c2<_0x13b84f['nodes']['length'];_0xde17c2++){const _0x5422c0=new O_(),_0x124089=_0x13b84f['nodes'][_0xde17c2];_0x5422c0['_name']=_0x124089['name'];const _0x791669=_0x124089['defaults']['p'],_0x4f04aa=_0x124089['defaults']['r'],_0x58862d=_0x124089['defaults']['s'];for(let _0x149a6a=0xcd*0x29+-0x1c00+0x1*-0x4d5;_0x149a6a<_0x124089['keys']['length'];_0x149a6a++){const _0x1cf25b=_0x124089['keys'][_0x149a6a],_0x1fce93=_0x1cf25b['t'],_0x5cd711=_0x791669||_0x1cf25b['p'],_0x5dbe72=_0x4f04aa||_0x1cf25b['r'],_0x1d887b=_0x58862d||_0x1cf25b['s'],_0x3b19e2=new T(_0x5cd711[0x2646+0x2083+-0x46c9],_0x5cd711[0x73*-0x12+-0xc2e+0x1445],_0x5cd711[0x188+-0x1fe5+-0x5*-0x613]),_0x4fecf2=new se()['setFromEul'+'erAngles'](_0x5dbe72[0x19a*-0x15+-0x179f+0x3941],_0x5dbe72[0x1*0x15de+-0x1c3d+-0x60*-0x11],_0x5dbe72[0x139*-0x17+0x15*0x191+-0x4c4]),_0x1811bd=new T(_0x1d887b[0x267+-0x2543+0x22dc],_0x1d887b[0xe09*0x1+-0x2356+0x154e],_0x1d887b[-0x8ba*-0x1+-0x17b*-0x15+-0x27cf]),_0x3354b6=new F_(_0x1fce93,_0x3b19e2,_0x4fecf2,_0x1811bd);_0x5422c0['_keys']['push'](_0x3354b6);}_0x507245['addNode'](_0x5422c0);}return _0x507245;}}class g2 extends Ne{constructor(_0x3fae67){super(_0x3fae67,'animclip');}['load'](_0x4133fd,_0x12f439){typeof _0x4133fd=='string'&&(_0x4133fd={'load':_0x4133fd,'original':_0x4133fd});const _0x4e5b63={'retry':this['maxRetries']>0x13c2+-0x8f5+-0x229*0x5,'maxRetries':this['maxRetries']};_0x4133fd['load']['startsWith']('blob:')&&(_0x4e5b63['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x4133fd['load'],_0x4e5b63,(_0x56f181,_0x53a3ee)=>{_0x56f181?_0x12f439('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x4133fd['original']+'\x20['+_0x56f181+']'):_0x12f439(null,_0x53a3ee);});}['open'](_0x37645e,_0x2cdae7){const _0x316a87=_0x2cdae7['name'],_0x2a7291=_0x2cdae7['duration'],_0x13f515=_0x2cdae7['inputs']['map'](_0x560a87=>new Jh(0x17ff*-0x1+0x1*0x1350+0x3c*0x14,_0x560a87)),_0x22ddeb=_0x2cdae7['outputs']['map'](_0x1911d0=>new Jh(_0x1911d0['components'],_0x1911d0['data'])),_0x2656b5=_0x2cdae7['curves']['map'](_0x294375=>new Px([_0x294375['path']],_0x294375['inputIndex'],_0x294375['outputInde'+'x'],_0x294375['interpolat'+'ion']));return new Ri(_0x316a87,_0x2a7291,_0x13f515,_0x22ddeb,_0x2656b5);}}class y2 extends Ne{constructor(_0x66af2c){super(_0x66af2c,'animstateg'+'raph');}['load'](_0x5d88d6,_0x476f3a){typeof _0x5d88d6=='string'&&(_0x5d88d6={'load':_0x5d88d6,'original':_0x5d88d6});const _0x3e8e27={'retry':this['maxRetries']>-0x296+-0x180e+0x1aa4,'maxRetries':this['maxRetries']};_0x5d88d6['load']['startsWith']('blob:')&&(_0x3e8e27['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x5d88d6['load'],_0x3e8e27,(_0x3d465d,_0x226909)=>{_0x3d465d?_0x476f3a('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x5d88d6['original']+'\x20['+_0x3d465d+']'):_0x476f3a(null,_0x226909);});}['open'](_0x582346,_0x34e3e4){return new mh(_0x34e3e4);}}const Qd=(function(){if(typeof window>'u')return!(-0x1cd*0xb+0xae+0x4f*0x3e);const _0x868c14=window['navigator']['userAgent'],_0x4ccee9=_0x868c14['indexOf']('MSIE\x20');if(_0x4ccee9>-0xa*0x256+-0xb*0x2ba+0x1aad*0x2)return parseInt(_0x868c14['substring'](_0x4ccee9+(0x2*0xa76+-0x17*-0x76+0x64d*-0x5),_0x868c14['indexOf']('.',_0x4ccee9)),0x1652*-0x1+-0x20f7+0x3753);if(_0x868c14['indexOf']('Trident/')>-0x1272+0x734+0xb3e*0x1){const _0xea0668=_0x868c14['indexOf']('rv:');return parseInt(_0x868c14['substring'](_0xea0668+(-0x1*-0x289+0x188e+-0x1b14*0x1),_0x868c14['indexOf']('.',_0xea0668)),0xeaf*0x1+0x6*-0x3e0+0x89b*0x1);}return!(-0x1*0x11a5+0x1*-0x139d+0x2543);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x2b5154){super(_0x2b5154,'audio'),this['manager']=_0x2b5154['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x596a06){const _0x2a00db=fe['getExtensi'+'on'](_0x596a06);return x2['indexOf'](_0x2a00db)>-(-0x1ad0+-0x43*0x7d+0x3b88)||_0x596a06['startsWith']('blob:');}['load'](_0x340d83,_0x39882c){typeof _0x340d83=='string'&&(_0x340d83={'load':_0x340d83,'original':_0x340d83});const _0x525484=function(_0x463ca7){_0x39882c(null,new Bb(_0x463ca7));},_0x30bf98=function(_0x4151f7){let _0x2f94d2='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x340d83['original'];_0x4151f7&&(_0x2f94d2+=':\x20'+(_0x4151f7['message']||_0x4151f7)),console['warn'](_0x2f94d2),_0x39882c(_0x2f94d2);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x340d83['original'])){_0x30bf98('Audio\x20form'+'at\x20for\x20'+_0x340d83['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x340d83['load'],_0x525484,_0x30bf98);}else _0x30bf98(null);}['_createSou'+'nd'](_0x27f355,_0x4aad93,_0x1c697e){if(Li()){const _0x3e3a70=this['manager'];if(!_0x3e3a70['context']){_0x1c697e('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x48891e={'retry':this['maxRetries']>-0xb*0x2c3+0x35*0x1f+0x17f6,'maxRetries':this['maxRetries']};(_0x27f355['startsWith']('blob:')||_0x27f355['startsWith']('data:'))&&(_0x48891e['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),We['get'](_0x27f355,_0x48891e,(_0x49cedc,_0x218ed2)=>{if(_0x49cedc){_0x1c697e(_0x49cedc);return;}_0x3e3a70['context']['decodeAudi'+'oData'](_0x218ed2,_0x4aad93,_0x1c697e);});}else{let _0x3508df=null;try{_0x3508df=new Audio();}catch{_0x1c697e('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0x3508df);const _0x93e3f0=function(){_0x3508df['removeEven'+'tListener']('canplaythr'+'ough',_0x93e3f0),Qd&&document['body']['removeChil'+'d'](_0x3508df),_0x4aad93(_0x3508df);};_0x3508df['onerror']=function(){_0x3508df['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0x3508df),_0x1c697e();},_0x3508df['addEventLi'+'stener']('canplaythr'+'ough',_0x93e3f0),_0x3508df['src']=_0x27f355;}}}class v2 extends Ne{constructor(_0x4e0c6d){super(_0x4e0c6d,'binary');}['load'](_0x347d64,_0xea1d63){typeof _0x347d64=='string'&&(_0x347d64={'load':_0x347d64,'original':_0x347d64}),We['get'](_0x347d64['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x7bb+-0x2*-0x8c6+-0x9d1,'maxRetries':this['maxRetries']},(_0x595cf3,_0x45f287)=>{_0x595cf3?_0xea1d63('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x347d64['original']+'\x20['+_0x595cf3+']'):_0xea1d63(null,_0x45f287);});}['openBinary'](_0x57d0e3){return _0x57d0e3['buffer'];}}class tr{constructor(_0x5b9d71,_0x162e33,_0x26de92,_0x5d04b6){const _0x2606a0=function(_0x84ee79,_0x4c20c3,_0x5711d5){const _0x52819c=tr['createAsse'+'t'](_0x162e33['name'],_0x84ee79,_0x4c20c3,_0x5711d5);return _0x26de92['add'](_0x52819c),_0x52819c;},_0x5b2df3=[];for(let _0x1f84f6=0x1218+0x1*-0x21d+0xffb*-0x1;_0x1f84f6<_0x5b9d71['renders']['length'];++_0x1f84f6)_0x5b2df3['push'](_0x2606a0('render',_0x5b9d71['renders'][_0x1f84f6],_0x1f84f6));const _0x18aa14=[];for(let _0x4368f5=-0x11*-0x10f+0x188+0x1387*-0x1;_0x4368f5<_0x5b9d71['materials']['length'];++_0x4368f5)_0x18aa14['push'](_0x2606a0('material',_0x5b9d71['materials'][_0x4368f5],_0x4368f5));const _0x5a7c08=[];for(let _0xc9e088=0x1796+-0x2*-0x671+-0x2478;_0xc9e088<_0x5b9d71['animations']['length'];++_0xc9e088)_0x5a7c08['push'](_0x2606a0('animation',_0x5b9d71['animations'][_0xc9e088],_0xc9e088));this['data']=_0x5b9d71,this['_model']=null,this['_assetName']=_0x162e33['name'],this['_assets']=_0x26de92,this['_defaultMa'+'terial']=_0x5d04b6,this['renders']=_0x5b2df3,this['materials']=_0x18aa14,this['textures']=_0x5b9d71['textures'],this['animations']=_0x5a7c08;}get['model'](){if(!this['_model']){const _0x29f287=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x172b0c=tr['createAsse'+'t'](this['_assetName'],'model',_0x29f287,-0x1*0x154c+0x15a*0xb+-0x337*-0x2);this['_assets']['add'](_0x172b0c),this['_model']=_0x172b0c;}return this['_model'];}static['createAsse'+'t'](_0x76d337,_0x498d57,_0x3c1c05,_0x1c9453){const _0x394bc4=new le(_0x76d337+'/'+_0x498d57+'/'+_0x1c9453,_0x498d57,{'url':''});return _0x394bc4['resource']=_0x3c1c05,_0x394bc4['loaded']=!(-0xd2a+0x2466+-0x173c),_0x394bc4;}['instantiat'+'eModelEnti'+'ty'](_0x2c6c1b){const _0x5bc357=new $e();return _0x5bc357['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x2c6c1b)),_0x5bc357;}['instantiat'+'eRenderEnt'+'ity'](_0x159f85){const _0x1c00ac=this['_defaultMa'+'terial'],_0x24f415=[],_0x34d84f=function(_0x51d8e0,_0x2e5e5c,_0x70f1fd,_0x44c6c2,_0x260011,_0x45531a,_0x40e2b9,_0x775de6){const _0x64620a=_0x260011[_0x70f1fd['id']],_0x5162de=_0x64620a===void(0x2*-0xc22+-0x17*0x1c+-0x8*-0x359)?_0x1c00ac:_0x44c6c2[_0x64620a],_0x406554=new Le(_0x70f1fd,_0x5162de);_0x70f1fd['morph']&&(_0x406554['morphInsta'+'nce']=new fn(_0x70f1fd['morph'])),_0x40e2b9['hasOwnProp'+'erty']('skin')&&_0x24f415['push']({'meshInstance':_0x406554,'rootBone':_0x51d8e0,'entity':_0x2e5e5c});const _0x312597=_0x775de6['get'](_0x40e2b9);if(_0x312597){const _0x5c4804=_0x312597['matrices'],_0xa532fd=Et['getDefault'+'Instancing'+'Format'](_0x70f1fd['device']),_0x5d8888=new os(_0x70f1fd['device'],_0xa532fd,_0x5c4804['length']/(0x1640*-0x1+-0x685+0x1cd5),{'data':_0x5c4804});_0x406554['setInstanc'+'ing'](_0x5d8888),_0x406554['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x2482+0x14b*-0x3+-0x1*-0x2863);}return _0x406554;},_0x6b8485=(_0xf06ebd,_0x44162f,_0x396713)=>{const _0x1aa24e=new $e();_0x44162f['_cloneInte'+'rnal'](_0x1aa24e),_0xf06ebd||(_0xf06ebd=_0x1aa24e);let _0x47c3e2=null,_0xaa7ffc=null;for(let _0x5c35=0x21a2+0x18ef+-0x3a91;_0x5c35<_0x396713['nodes']['length'];_0x5c35++)if(_0x396713['nodes'][_0x5c35]===_0x44162f){const _0x2108d1=_0x396713['gltf']['nodes'][_0x5c35];if(_0x2108d1['hasOwnProp'+'erty']('mesh')){const _0x232a25=_0x396713['renders'][_0x2108d1['mesh']]['meshes'];_0xaa7ffc=this['renders'][_0x2108d1['mesh']];for(let _0x2b33e7=0x7*0x1c3+-0x35*-0x8f+-0x3d*0xb0;_0x2b33e7<_0x232a25['length'];_0x2b33e7++){const _0x21494a=_0x232a25[_0x2b33e7];if(_0x21494a){const _0x4ab538=_0x34d84f(_0xf06ebd,_0x1aa24e,_0x21494a,_0x396713['materials'],_0x396713['meshDefaul'+'tMaterials'],_0x396713['skins'],_0x2108d1,_0x396713['nodeInstan'+'cingMap']);_0x47c3e2||(_0x47c3e2=[]),_0x47c3e2['push'](_0x4ab538);}}}if(_0x396713['lights']){const _0x531acb=_0x396713['lights']['get'](_0x2108d1);_0x531acb&&_0x1aa24e['addChild'](_0x531acb['clone']());}if(_0x396713['cameras']){const _0x49a931=_0x396713['cameras']['get'](_0x2108d1);_0x49a931&&_0x49a931['camera']['system']['cloneCompo'+'nent'](_0x49a931,_0x1aa24e);}}_0x47c3e2&&(_0x1aa24e['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x47c3e2},_0x159f85)),_0x1aa24e['render']['assignAsse'+'t'](_0xaa7ffc));const _0x3908d1=_0x44162f['children'];for(let _0x2a3cc6=0x3*-0x400+-0xbfa+0x17fa;_0x2a3cc6<_0x3908d1['length'];_0x2a3cc6++){const _0x3eddb2=_0x6b8485(_0xf06ebd,_0x3908d1[_0x2a3cc6],_0x396713);_0x1aa24e['addChild'](_0x3eddb2);}return _0x1aa24e;},_0x2d1872=[];for(const _0x52debf of this['data']['scenes'])_0x2d1872['push'](_0x6b8485(null,_0x52debf,this['data']));return _0x24f415['forEach'](_0x18cbc6=>{_0x18cbc6['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x18cbc6['meshInstan'+'ce']['mesh']['skin'],_0x18cbc6['rootBone'],_0x18cbc6['entity']),_0x18cbc6['meshInstan'+'ce']['node']['render']['rootBone']=_0x18cbc6['rootBone'];}),tr['createScen'+'eHierarchy'](_0x2d1872,$e);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x19c2c7,_0x222971){const _0x38cb9c=_0x222971?this['data']['variants'][_0x222971]:null;if(_0x38cb9c===void(-0x226c+0xcaf+0x173*0xf)){v['warn']('No\x20variant'+'\x20named\x20'+_0x222971+('\x20exists\x20in'+'\x20resource'));return;}const _0x395d84=_0x19c2c7['findCompon'+'ents']('render');for(let _0xa19c65=-0x6b*0x2f+0xc24+0x781;_0xa19c65<_0x395d84['length'];_0xa19c65++){const _0x5baf28=_0x395d84[_0xa19c65];this['_applyMate'+'rialVarian'+'t'](_0x38cb9c,_0x5baf28['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x3b2198,_0x3afbcb){const _0x5796e3=_0x3afbcb?this['data']['variants'][_0x3afbcb]:null;if(_0x5796e3===void(-0x919+-0x7*-0x45e+-0xef*0x17)){v['warn']('No\x20variant'+'\x20named\x20'+_0x3afbcb+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x5796e3,_0x3b2198);}['_applyMate'+'rialVarian'+'t'](_0x4e43d7,_0x3a25e6){_0x3a25e6['forEach'](_0x55f7e8=>{if(_0x4e43d7===null)_0x55f7e8['material']=this['_defaultMa'+'terial'];else{const _0x54c353=this['data']['meshVarian'+'ts'][_0x55f7e8['mesh']['id']];_0x54c353&&(_0x55f7e8['material']=this['data']['materials'][_0x54c353[_0x4e43d7]]);}v['assert'](_0x55f7e8['material']);});}static['createScen'+'eHierarchy'](_0x57168b,_0x576ede){let _0x201341=null;if(_0x57168b['length']===-0x80d+-0x5a7*-0x1+-0xf*-0x29)_0x201341=_0x57168b[0xfb*-0x19+-0x5e0+0x1e63];else{_0x201341=new _0x576ede('SceneGroup');for(const _0x7eeb79 of _0x57168b)_0x201341['addChild'](_0x7eeb79);}return _0x201341;}static['createMode'+'l'](_0x222d87,_0x4797f9){const _0x463905=function(_0x51d7d2,_0x2de80c,_0x110d5b,_0x53844a,_0x1c8058,_0x430cfb,_0x454e1d){const _0xe220e0=_0x222d87['meshDefaul'+'tMaterials'][_0x2de80c['id']],_0x2d95ba=_0xe220e0===void(0x6*-0x219+-0x1676+0x230c)?_0x4797f9:_0x1c8058[_0xe220e0],_0x258245=new Le(_0x2de80c,_0x2d95ba,_0x430cfb);if(_0x2de80c['morph']){const _0x587186=new fn(_0x2de80c['morph']);_0x258245['morphInsta'+'nce']=_0x587186,_0x51d7d2['morphInsta'+'nces']['push'](_0x587186);}if(_0x454e1d['hasOwnProp'+'erty']('skin')){const _0x65da57=_0x454e1d['skin'],_0x28c99d=_0x110d5b[_0x65da57];_0x2de80c['skin']=_0x28c99d;const _0x58e151=_0x53844a[_0x65da57];_0x258245['skinInstan'+'ce']=_0x58e151,_0x51d7d2['skinInstan'+'ces']['push'](_0x58e151);}_0x51d7d2['meshInstan'+'ces']['push'](_0x258245);},_0x47c146=new Oi(),_0x46fac2=[];for(const _0x450a42 of _0x222d87['skins']){const _0x4d3224=new nl(_0x450a42);_0x4d3224['bones']=_0x450a42['bones'],_0x46fac2['push'](_0x4d3224);}_0x47c146['graph']=tr['createScen'+'eHierarchy'](_0x222d87['scenes'],De);for(let _0x539af4=-0x7d3+-0x109f+-0x95*-0x2a;_0x539af4<_0x222d87['nodes']['length'];_0x539af4++){const _0xc6bd4b=_0x222d87['nodes'][_0x539af4];if(_0xc6bd4b['root']===_0x47c146['graph']){const _0x3c59c0=_0x222d87['gltf']['nodes'][_0x539af4];if(_0x3c59c0['hasOwnProp'+'erty']('mesh')){const _0x5a04a3=_0x222d87['renders'][_0x3c59c0['mesh']]['meshes'];for(let _0x1058c7=0x1*-0x25a8+-0x1*-0x1542+0x1066;_0x1058c7<_0x5a04a3['length'];_0x1058c7++){const _0x60a41b=_0x5a04a3[_0x1058c7];_0x60a41b&&_0x463905(_0x47c146,_0x60a41b,_0x222d87['skins'],_0x46fac2,_0x222d87['materials'],_0xc6bd4b,_0x3c59c0);}}}}return _0x47c146;}['destroy'](){const _0x49f9fe=this['_assets'],_0x345bd1=function(_0x586c96){_0x49f9fe['remove'](_0x586c96),_0x586c96['unload']();},_0x5b4030=function(_0x3221e3){_0x3221e3['forEach'](_0x407f66=>{_0x345bd1(_0x407f66);});};this['animations']&&(_0x5b4030(this['animations']),this['animations']=null),this['textures']&&(_0x5b4030(this['textures']),this['textures']=null),this['materials']&&(_0x5b4030(this['materials']),this['materials']=null),this['renders']&&(_0x5b4030(this['renders']),this['renders']=null),this['_model']&&(_0x345bd1(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x188606,_0x112d4a,_0x25026e){this['_device']=_0x188606,this['_assets']=_0x112d4a,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x25026e;}['_getUrlWit'+'houtParams'](_0x331d33){return _0x331d33['indexOf']('?')>=0x1889+-0x199*-0x13+-0x1b72*0x2?_0x331d33['split']('?')[-0x8b2*0x3+0x1ca6+-0x290]:_0x331d33;}['load'](_0x4cc3a5,_0x411c4c,_0x3b6d70){le['fetchArray'+'Buffer'](_0x4cc3a5['load'],(_0x3653ca,_0x4e95ec)=>{_0x3653ca?_0x411c4c(_0x3653ca):tc['parse'](this['_getUrlWit'+'houtParams'](_0x4cc3a5['original']),fe['extractPat'+'h'](_0x4cc3a5['load']),_0x4e95ec,this['_device'],_0x3b6d70['registry'],_0x3b6d70['options'],(_0x5c008c,_0x812025)=>{_0x5c008c?_0x411c4c(_0x5c008c):_0x411c4c(null,new tr(_0x812025,_0x3b6d70,this['_assets'],this['_defaultMa'+'terial']));});},_0x3b6d70,this['maxRetries']);}['open'](_0x515ee2,_0x529617,_0x2c6984){return _0x529617;}['patch'](_0x142f82,_0x4740d8){}}class w2 extends Ne{constructor(_0x3c326e){super(_0x3c326e,'container'),this['glbContain'+'erParser']=new b2(_0x3c326e['graphicsDe'+'vice'],_0x3c326e['assets'],0x1543*0x1+0xa66*0x2+-0x2a0f),this['parsers']={};}set['maxRetries'](_0x359a69){this['glbContain'+'erParser']['maxRetries']=_0x359a69;for(const _0x423b9f in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x423b9f)&&(this['parsers'][_0x423b9f]['maxRetries']=_0x359a69);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x44cab0){return _0x44cab0['indexOf']('?')>=0xf1*-0x18+-0x33*0x1a+0x1bc6*0x1?_0x44cab0['split']('?')[-0x765+-0xff8+0x175d]:_0x44cab0;}['_getParser'](_0x43982b){const _0x459355=_0x43982b?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x43982b))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x459355]||this['glbContain'+'erParser'];}['load'](_0x12b67d,_0x23c9c2,_0x341ed3){typeof _0x12b67d=='string'&&(_0x12b67d={'load':_0x12b67d,'original':_0x12b67d}),this['_getParser'](_0x12b67d['original'])['load'](_0x12b67d,_0x23c9c2,_0x341ed3);}['open'](_0x33017e,_0x36b64b,_0x117bf5){return this['_getParser'](_0x33017e)['open'](_0x33017e,_0x36b64b,_0x117bf5);}}class T2 extends Ne{constructor(_0x1cba6d){super(_0x1cba6d,'css'),c(this,'decoder',null);}['load'](_0x5c04a2,_0x530713){typeof _0x5c04a2=='string'&&(_0x5c04a2={'load':_0x5c04a2,'original':_0x5c04a2}),We['get'](_0x5c04a2['load'],{'retry':this['maxRetries']>-0x218a+-0x19df+0x3b69*0x1,'maxRetries':this['maxRetries']},(_0x40ddb0,_0x28d0a4)=>{_0x40ddb0?_0x530713('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x5c04a2['original']+'\x20['+_0x40ddb0+']'):_0x530713(null,_0x28d0a4);});}['openBinary'](_0x53aedf){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x53aedf);}}class A2 extends Ne{constructor(_0x50aa54){super(_0x50aa54,'cubemap'),this['_device']=_0x50aa54['graphicsDe'+'vice'],this['_registry']=_0x50aa54['assets'],this['_loader']=_0x50aa54['loader'];}['load'](_0x574ceb,_0x26d12d,_0x4ade2a){this['loadAssets'](_0x4ade2a,_0x26d12d);}['open'](_0x33ebd0,_0x57e1c6,_0x12ce69){return _0x12ce69?_0x12ce69['resource']:null;}['patch'](_0x3f157f,_0x3ed3d1){this['loadAssets'](_0x3f157f,(_0x20c669,_0x76ea9)=>{_0x20c669&&(_0x3ed3d1['fire']('error',_0x3f157f),_0x3ed3d1['fire']('error:'+_0x3f157f['id'],_0x20c669,_0x3f157f),_0x3f157f['fire']('error',_0x3f157f));});}['getAssetId'+'s'](_0x2f1f17){const _0xefefe8=[];if(_0xefefe8[-0x48b*0x4+0x1132+-0xa*-0x19]=_0x2f1f17['file'],(_0x2f1f17['loadFaces']||!_0x2f1f17['file'])&&_0x2f1f17['data']&&_0x2f1f17['data']['textures']){for(let _0x598b5f=-0x917+0x1*-0x41+0x958;_0x598b5f<0x226c+0x1*0x55b+-0x1*0x27c1;++_0x598b5f)_0xefefe8[_0x598b5f+(-0xa84+-0xaec+-0x1571*-0x1)]=_0x2f1f17['data']['textures'][_0x598b5f];}else _0xefefe8[-0x1*0x1e2b+0x1*-0xf0d+0x2d39]=_0xefefe8[0x6*0x4d9+-0x211b+0x407]=_0xefefe8[0x1*0x1c4b+0xacb*-0x1+-0x117d]=_0xefefe8[-0x22bf+0x97*0x25+-0x678*-0x2]=_0xefefe8[-0x127d+-0x1240+-0x2*-0x1261]=_0xefefe8[0x1*0x1159+0x6b*0x4f+-0x9*0x598]=null;return _0xefefe8;}['compareAss'+'etIds'](_0x38708d,_0x4a3259){return _0x38708d&&_0x4a3259?parseInt(_0x38708d,0xe5*-0x27+-0x2690+0x497d)===_0x38708d||typeof _0x38708d=='string'?_0x38708d===_0x4a3259:_0x38708d['url']===_0x4a3259['url']:_0x38708d!==null==(_0x4a3259!==null);}['update'](_0x3a768c,_0x3c02ae,_0x4202ed){const _0x2bb9a7=_0x3a768c['data']||{},_0x228c30=_0x3a768c['_handlerSt'+'ate']['assets'],_0x47fdca=_0x3a768c['_resources'];let _0x45c971,_0x54c0f1,_0x41966f;const _0x24748d=[null,null,null,null,null,null,null],_0x10ccfb=function(){return _0x2bb9a7['hasOwnProp'+'erty']('type')?_0x2bb9a7['type']:_0x2bb9a7['hasOwnProp'+'erty']('rgbm')?_0x2bb9a7['rgbm']?on:Di:null;};if(!_0x3a768c['loaded']||_0x4202ed[-0x222f*0x1+-0x16d2*0x1+0x3901]!==_0x228c30[-0x1*-0x1b7a+-0x1df3*-0x1+-0x396d]){if(_0x4202ed[-0x3b*0x3b+-0x8a8+0x1641]){if(_0x45c971=_0x4202ed[-0x358*0x9+0x120*-0x16+0x36d8]['resource'],_0x45c971['cubemap']){for(_0x41966f=-0x427*-0x1+0x599*-0x3+-0x1*-0xca4;_0x41966f<-0x150+-0x2e7*0x7+0x17*0xf1;++_0x41966f)_0x24748d[_0x41966f+(0x148e*0x1+-0x24aa+-0x5*-0x339)]=new he(this['_device'],{'name':_0x3a768c['name']+('_prelitCub'+'emap')+(_0x45c971['width']>>_0x41966f),'cubemap':!(-0x1acd+-0x7*0xdc+0x20d1),'type':_0x10ccfb()||_0x45c971['type'],'width':_0x45c971['width']>>_0x41966f,'height':_0x45c971['height']>>_0x41966f,'format':_0x45c971['format'],'levels':[_0x45c971['_levels'][_0x41966f]],'addressU':ae,'addressV':ae,'mipmaps':_0x41966f===-0x1324+-0x1368+0x268c});}else _0x24748d[0x1*-0x20fe+-0xc0+-0xa3*-0x35]=_0x45c971;}}else _0x24748d[0xc89*-0x1+0x124a+-0x5c0]=_0x47fdca[0x5*-0x203+0x264a+-0x1c3a]||null,_0x24748d[-0x1e82+-0x29*0xcb+0x3f07]=_0x47fdca[-0xd8d+-0xa4a+0x17d9]||null,_0x24748d[0x5ba+-0xae9+-0x1*-0x532]=_0x47fdca[-0x46*-0x74+0x5c2+-0x2577]||null,_0x24748d[-0x23da+0x1*-0x25db+0x49b9]=_0x47fdca[0x1d3e*-0x1+0x10*-0x24b+-0x17*-0x2de]||null,_0x24748d[0x2b*0x4c+-0x7d5*-0x3+-0x243e]=_0x47fdca[0x3*0xc3b+-0xd6c+-0x1740]||null,_0x24748d[0x5*-0x626+0x1eca*0x1+0x3*-0x2]=_0x47fdca[-0x13fe+0x1b*-0x75+0x2f1*0xb]||null;const _0xe6aa15=_0x4202ed['slice'](-0x12da+0x1716+-0x43b);if(!_0x3a768c['loaded']||!this['cmpArrays'](_0xe6aa15,_0x228c30['slice'](-0x21d2+0xdf8+0x13db))){if(_0xe6aa15['indexOf'](null)===-(-0xeb0+-0x4e*0x49+0x24ef)){const _0x170a7f=_0xe6aa15['map'](_0x51eb39=>_0x51eb39['resource']),_0xc2e935=[];for(_0x54c0f1=-0x191*-0x10+-0x1fc1+-0x1*-0x6b1;_0x54c0f1<_0x170a7f[-0xd9f+0x4c*-0x1f+0x16d3]['_levels']['length'];++_0x54c0f1)_0xc2e935['push'](_0x170a7f['map'](_0x1088cc=>_0x1088cc['_levels'][_0x54c0f1]));const _0x1a26ba=_0x170a7f[0x24e9+0x236b+-0x4*0x1215]['format'],_0x62b7e5=new he(this['_device'],{'name':_0x3a768c['name']+'_faces','cubemap':!(0x3*0x2ca+0x13a*-0xf+-0x1*-0xa08),'type':_0x10ccfb()||_0x170a7f[-0x15f4+0x1a76+-0x482]['type'],'width':_0x170a7f[-0xd3b+0x2306+0x7*-0x31d]['width'],'height':_0x170a7f[-0x1269+0x79a+0xacf]['height'],'format':_0x1a26ba===dr?Se:_0x1a26ba,'mipmaps':_0x2bb9a7['mipmaps']??!(0x960+0x1fac+-0x290c),'levels':_0xc2e935,'minFilter':_0x2bb9a7['hasOwnProp'+'erty']('minFilter')?_0x2bb9a7['minFilter']:_0x170a7f[0xcab*0x1+-0x233d+-0x1*-0x1692]['minFilter'],'magFilter':_0x2bb9a7['hasOwnProp'+'erty']('magFilter')?_0x2bb9a7['magFilter']:_0x170a7f[0x8*-0x488+-0x148d+0x38cd]['magFilter'],'anisotropy':_0x2bb9a7['hasOwnProp'+'erty']('anisotropy')?_0x2bb9a7['anisotropy']:0xc50+0x208d+0x84*-0x57,'addressU':ae,'addressV':ae});_0x24748d[-0x1*0x1d32+0x38*-0x85+0x3a4a]=_0x62b7e5;}}else _0x24748d[0x1*-0x18d9+-0x265*-0xb+-0x1*0x17e]=_0x47fdca[-0x12bf+-0x2203+0x6*0x8cb]||null;if(!this['cmpArrays'](_0x24748d,_0x47fdca)){for(_0x3a768c['resources']=_0x24748d,_0x3a768c['_handlerSt'+'ate']['assetIds']=_0x3c02ae,_0x3a768c['_handlerSt'+'ate']['assets']=_0x4202ed,_0x41966f=-0x1d11+0x1*-0x1633+-0x4*-0xcd1;_0x41966f<_0x47fdca['length'];++_0x41966f)_0x47fdca[_0x41966f]!==null&&_0x24748d['indexOf'](_0x47fdca[_0x41966f])===-(0x4b0+0x7*-0x29c+-0x39*-0x3d)&&_0x47fdca[_0x41966f]['destroy']();}for(_0x41966f=0x191+0xf92+0x1*-0x1123;_0x41966f<_0x228c30['length'];++_0x41966f)_0x228c30[_0x41966f]!==null&&_0x4202ed['indexOf'](_0x228c30[_0x41966f])===-(-0x1cfd+-0x1403+0x3101)&&_0x228c30[_0x41966f]['unload']();}['cmpArrays'](_0x266f66,_0x525850){if(_0x266f66['length']!==_0x525850['length'])return!(0x22d*0xb+-0xd8b*-0x1+0x35*-0xb5);for(let _0xd33caf=0x12d5*-0x1+-0xac6+-0xb*-0x2b1;_0xd33caf<_0x266f66['length'];++_0xd33caf)if(_0x266f66[_0xd33caf]!==_0x525850[_0xd33caf])return!(-0x29*0xed+0x22e1+0x315);return!(-0xa63+-0x378+-0x1*-0xddb);}['resolveId'](_0x268a5a){const _0x27e9e3=parseInt(_0x268a5a,0x15f3+0xab5+-0x104f*0x2);return _0x27e9e3===_0x268a5a||_0x27e9e3['toString']()===_0x268a5a?_0x27e9e3:_0x268a5a;}['loadAssets'](_0x32415c,_0x5360ef){_0x32415c['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x32415c['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x3d2571=this,_0x279a2d=_0x3d2571['getAssetId'+'s'](_0x32415c),_0x67464d=[null,null,null,null,null,null,null],_0x47d1b4=_0x32415c['_handlerSt'+'ate']['assetIds'],_0x2fb17b=_0x32415c['_handlerSt'+'ate']['assets'],_0x1a658d=_0x3d2571['_registry'];let _0x3f7d8c=-0x4e1*0x1+-0x529*-0x5+-0x14e5*0x1;const _0x3581ec=function(_0x227f98,_0x169a40){_0x67464d[_0x227f98]=_0x169a40,_0x3f7d8c--,_0x3f7d8c===-0x2*-0xb68+-0x3b*-0x13+-0x1*0x1b31&&(_0x3d2571['update'](_0x32415c,_0x279a2d,_0x67464d),_0x5360ef(null,_0x32415c['resources']));},_0x3ef6de=function(_0x15e5b3,_0x45621f,_0x358f0e){_0x5360ef(_0x45621f);},_0x73875=function(_0x5b7875,_0x1f46be){_0x1f46be['loaded']?_0x3581ec(_0x5b7875,_0x1f46be):(_0x1a658d['once']('load:'+_0x1f46be['id'],_0x3581ec['bind'](_0x3d2571,_0x5b7875)),_0x1a658d['once']('error:'+_0x1f46be['id'],_0x3ef6de['bind'](_0x3d2571,_0x5b7875)),_0x1f46be['loading']||_0x1a658d['load'](_0x1f46be));};let _0x159d09;for(let _0xd2eade=-0x21ad*0x1+-0x2*0x7b5+0xd5*0x3b;_0xd2eade<-0x3b2+0x264e+-0xb87*0x3;++_0xd2eade){const _0x2dc8e9=this['resolveId'](_0x279a2d[_0xd2eade]);if(!_0x2dc8e9)_0x3581ec(_0xd2eade,null);else{if(_0x3d2571['compareAss'+'etIds'](_0x2dc8e9,_0x47d1b4[_0xd2eade]))_0x73875(_0xd2eade,_0x2fb17b[_0xd2eade]);else{if(parseInt(_0x2dc8e9,-0x2049+-0x1fd+0x2250)===_0x2dc8e9)_0x159d09=_0x1a658d['get'](_0x2dc8e9),_0x159d09?_0x73875(_0xd2eade,_0x159d09):setTimeout(((_0x5ab7d3,_0x16b29a)=>{const _0x230842=_0x1a658d['get'](_0x16b29a);_0x230842?_0x73875(_0x5ab7d3,_0x230842):_0x3ef6de(_0x5ab7d3,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x16b29a);})['bind'](null,_0xd2eade,_0x2dc8e9));else{const _0x76bdef=typeof _0x2dc8e9=='string'?{'url':_0x2dc8e9,'filename':_0x2dc8e9}:_0x2dc8e9,_0x25a98a=_0x76bdef['url']['search']('.dds')===-(0x3b*0x49+0x1e1b+0x29*-0x125)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x17*0xfb+0xbce*-0x3+0x3d*0x36)}:null;_0x159d09=new le(_0x32415c['name']+'_part_'+_0xd2eade,'texture',_0x76bdef,_0x25a98a),_0x1a658d['add'](_0x159d09),_0x73875(_0xd2eade,_0x159d09);}}}}}}class E2 extends Ne{constructor(_0x40b5ca){super(_0x40b5ca,'folder');}['load'](_0x5d6a68,_0x25bfed){_0x25bfed(null,null);}}class Ng{constructor(_0x3b91f2,_0x268952){this['type']=_0x268952&&_0x268952['type']||Kh,this['em']=-0x1a4b+-0x11a3+0x2bef,this['textures']=_0x3b91f2,this['intensity']=-0x145c+0x22fd+0x1*-0xea1,this['_data']=null,this['data']=_0x268952;}set['data'](_0x17b5eb){if(this['_data']=_0x17b5eb,!!_0x17b5eb&&(this['_data']['intensity']!==void(-0x1*0xff7+-0xa*-0x7d+0xb15*0x1)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0xd4c+0x47f*-0x5+-0x23c9*-0x1)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x4beec5 in this['_data']['chars'])this['_data']['chars'][_0x4beec5]['map']=0x51d*0x2+-0x19e0+-0x7d3*-0x2;}}get['data'](){return this['_data'];}}function Jd(_0x155da2){return _0x155da2['version']<-0x1f24+-0x7b2*-0x3+-0x3b*-0x23&&(_0x155da2['version']<-0x11*0x1+-0x150b+-0x6*-0x385&&(_0x155da2['info']['maps']=_0x155da2['info']['maps']||[{'width':_0x155da2['info']['width'],'height':_0x155da2['info']['height']}]),_0x155da2['chars']=Object['keys'](_0x155da2['chars']||{})['reduce']((_0x3603d5,_0x1f0cad)=>{const _0x153670=_0x155da2['chars'][_0x1f0cad],_0x51987e=_0x153670['letter']!==void(0x3*-0x704+0x2378+0x39b*-0x4)?_0x153670['letter']:ah['fromCodePo'+'int'](_0x1f0cad);return _0x155da2['version']<-0x11*-0x23f+0x1*-0x5a3+-0x7*0x4a6&&(_0x153670['map']=_0x153670['map']||-0x17df+-0xc47+-0x2*-0x1213),_0x3603d5[_0x51987e]=_0x153670,_0x3603d5;},{}),_0x155da2['version']=-0x2*-0x67f+-0x2f*0x71+0x7c4),_0x155da2;}class C2 extends Ne{constructor(_0x18d5b8){super(_0x18d5b8,'font'),this['_loader']=_0x18d5b8['loader'],this['maxRetries']=-0x1*-0x26af+0xad5+-0x3184;}['load'](_0x199160,_0x19f2e3,_0x59c64b){typeof _0x199160=='string'&&(_0x199160={'load':_0x199160,'original':_0x199160});const _0x2ae0b5=this;fe['getExtensi'+'on'](_0x199160['original'])==='.json'?We['get'](_0x199160['load'],{'retry':this['maxRetries']>0x18*-0xb5+-0x1*-0xe9a+0x25e,'maxRetries':this['maxRetries']},(_0x1df5e7,_0x418524)=>{if(_0x1df5e7)_0x19f2e3('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x199160['original']+'\x20['+_0x1df5e7+']');else{const _0x538b75=Jd(_0x418524);_0x2ae0b5['_loadTextu'+'res'](_0x199160['load']['replace']('.json','.png'),_0x538b75,(_0x34c137,_0x43f51d)=>{_0x34c137?_0x19f2e3(_0x34c137):_0x19f2e3(null,{'data':_0x538b75,'textures':_0x43f51d});});}}):(_0x59c64b&&_0x59c64b['data']&&(_0x59c64b['data']=Jd(_0x59c64b['data'])),this['_loadTextu'+'res'](_0x199160['load'],_0x59c64b&&_0x59c64b['data'],_0x19f2e3));}['_loadTextu'+'res'](_0x7166c,_0x3f63ec,_0x543a82){const _0x300969=_0x3f63ec['info']['maps']['length'];let _0x9ea782=-0x4a*0x5d+0x255c*-0x1+0x403e,_0x3dd5b1=null;const _0x5029cd=new Array(_0x300969),_0x4d0a91=this['_loader'],_0x39ef67=function(_0x1e49d4){const _0x5464cc=function(_0x164b48,_0x1017ab){if(!_0x3dd5b1){if(_0x164b48){_0x3dd5b1=_0x164b48,_0x543a82(_0x164b48);return;}_0x1017ab['upload'](),_0x5029cd[_0x1e49d4]=_0x1017ab,_0x9ea782++,_0x9ea782===_0x300969&&_0x543a82(null,_0x5029cd);}};_0x1e49d4===0xa9e+0x7b+-0x1*0xb19?_0x4d0a91['load'](_0x7166c,'texture',_0x5464cc):_0x4d0a91['load'](_0x7166c['replace']('.png',_0x1e49d4+'.png'),'texture',_0x5464cc);};for(let _0x35b275=0x21c1+0x1*-0x1ce5+-0x4dc;_0x35b275<_0x300969;_0x35b275++)_0x39ef67(_0x35b275);}['open'](_0x42d6cc,_0x435f04,_0x1d0dad){let _0x31cb95;return _0x435f04['textures']?_0x31cb95=new Ng(_0x435f04['textures'],_0x435f04['data']):_0x31cb95=new Ng(_0x435f04,null),_0x31cb95;}['patch'](_0x46f801,_0x20bd81){const _0x2592b6=_0x46f801['resource'];!_0x2592b6['data']&&_0x46f801['data']?_0x2592b6['data']=_0x46f801['data']:!_0x46f801['data']&&_0x2592b6['data']&&(_0x46f801['data']=_0x2592b6['data']),_0x46f801['data']&&(_0x46f801['data']=Jd(_0x46f801['data']));}}async function M2(){const _0x4524dc=-0x417*0x2+-0x1a49+0x207*0x11+0.28209479177387814;class _0x84c75b{constructor(_0x10d04a,_0x4968cb,_0x44e8d3){this['x']=_0x10d04a,this['y']=_0x4968cb,this['z']=_0x44e8d3;}}class _0x4c8395{constructor(_0x22b960,_0x3b19eb,_0x35d7ff,_0x43fcb5){this['x']=_0x22b960,this['y']=_0x3b19eb,this['z']=_0x35d7ff,this['w']=_0x43fcb5;}}class _0x3b8811{constructor(_0x80eae6,_0x5308a9,_0x29c057,_0x26c0fd){this['x']=_0x80eae6,this['y']=_0x5308a9,this['z']=_0x29c057,this['w']=_0x26c0fd;}['set'](_0x821127,_0x5dd88f,_0x3cc2c3,_0x5d5331){this['x']=_0x821127,this['y']=_0x5dd88f,this['z']=_0x3cc2c3,this['w']=_0x5d5331;}}class _0x377d96{constructor(_0x5112bb,_0x24e3fe,_0x11a525,_0x3aafd9,_0x26be8c,_0x1daf8,_0x23401c,_0x43ca1c,_0x37802f,_0x5029b1,_0x22e235,_0x28d938){const _0x57530e=(_0x2727f4,_0x67bcab)=>{const _0x24495c=(0x3*0x3a+-0x9c*-0x6+-0x455<<_0x67bcab)-(-0x2459+0x1f20+0x53a);return(_0x2727f4&_0x24495c)/_0x24495c;},_0x4c4759=(_0x35d922,_0x231391)=>{_0x35d922['x']=_0x57530e(_0x231391>>>-0x1*-0x1d41+-0x3ad*0x1+-0x197f,-0x140b+0x131c+0xfa),_0x35d922['y']=_0x57530e(_0x231391>>>-0x10ac+-0xf70+0x2027,-0x2*-0xfec+-0x1381*-0x1+-0x334f),_0x35d922['z']=_0x57530e(_0x231391,-0x1*-0x418+0xfa9*-0x1+0x1*0xb9c);},_0x348ca7=(_0x2dea4f,_0xa29e70)=>{_0x2dea4f['x']=_0x57530e(_0xa29e70>>>0xb6a+0x160a+-0x215c,-0x1*-0x989+-0x16f9+0xd78),_0x2dea4f['y']=_0x57530e(_0xa29e70>>>0xf*0xbd+-0x8*-0x16c+-0x1663,-0x4a8+-0x190f*0x1+0x1dbf),_0x2dea4f['z']=_0x57530e(_0xa29e70>>>0x15*-0x1c4+0x1*0x11eb+-0x1331*-0x1,0x1723*0x1+0x15b7+0x1*-0x2cd2),_0x2dea4f['w']=_0x57530e(_0xa29e70,-0x878*-0x1+-0x41*0xa+0x97*-0xa);},_0x2b0a60=(_0x2379cd,_0x155278)=>{const _0x573f1c=(-0x34*-0x13+0x7f7+0x59*-0x22)/(Math['sqrt'](-0x1c9*0x4+-0xddf*-0x2+0x1498*-0x1)*(0x21b5+0xac2+0x2c77*-0x1+0.5)),_0xf42fda=(_0x57530e(_0x155278>>>-0x23a*-0x1+0x1b*-0x8b+-0xc83*-0x1,0x502+-0xe4e+0x956)-(0x2403+0xb8c+0x1e7*-0x19+0.5))*_0x573f1c,_0x360f41=(_0x57530e(_0x155278>>>-0x5b3*-0x5+0xd7b+-0x29f0,0x2345+0x1cf5+-0x2*0x2018)-(0x2036+-0x21+0x2b*-0xbf+0.5))*_0x573f1c,_0x535e37=(_0x57530e(_0x155278,0x2274+0x1304+0x356e*-0x1)-(0x125d+0x29d*-0x2+-0x1*0xd23+0.5))*_0x573f1c,_0x32274c=Math['sqrt'](-0x13*0x119+-0x1*-0x183b+0x35f*-0x1-(_0xf42fda*_0xf42fda+_0x360f41*_0x360f41+_0x535e37*_0x535e37));switch(_0x155278>>>-0x4d6*0x3+0x1882+0x1*-0x9e2){case 0x13bb*-0x1+0x41*-0x7+0x1582:_0x2379cd['set'](_0xf42fda,_0x360f41,_0x535e37,_0x32274c);break;case 0x1*-0x229d+-0x554*-0x3+0x12*0x109:_0x2379cd['set'](_0x32274c,_0x360f41,_0x535e37,_0xf42fda);break;case-0x11c2*-0x1+-0x2145+-0x1*-0xf85:_0x2379cd['set'](_0x360f41,_0x32274c,_0x535e37,_0xf42fda);break;case-0xa1*-0xe+-0x2d*0x49+0x40a:_0x2379cd['set'](_0x360f41,_0x535e37,_0x32274c,_0xf42fda);break;}},_0x2b4821=(_0x224a98,_0x33b91e,_0x2029da)=>_0x224a98*(0x1058+-0x195+-0xec2-_0x2029da)+_0x33b91e*_0x2029da,_0x3a4243=[-0x13e8+0x5*0x12d+0x257*0x6,0x2200+0x14d+-0x2345*0x1,-0x1152+-0x2346+-0x118d*-0x3][_0x26be8c-(-0x192c+-0x1922+0x324f)],_0x513701=0x1*-0xb11+-0x1419+0x1f30;this['read']=_0x4ce5c1=>{const _0xb9a75e=Math['floor'](_0x4ce5c1/(-0x2699+0x1978+0xe21))*_0x24e3fe;if(_0x1daf8&&(_0x4c4759(_0x1daf8,_0x11a525[_0x4ce5c1*_0x513701+(-0x545+-0x1f41+-0x22*-0x113)]),_0x1daf8['x']=_0x2b4821(_0x5112bb[_0xb9a75e+(-0x1511+0x1f8d+-0xa7c)],_0x5112bb[_0xb9a75e+(-0xf5+0x55f+-0x467)],_0x1daf8['x']),_0x1daf8['y']=_0x2b4821(_0x5112bb[_0xb9a75e+(0x1873+0x1a81+-0x32f3)],_0x5112bb[_0xb9a75e+(-0x2d3+0xa41+0x2*-0x3b5)],_0x1daf8['y']),_0x1daf8['z']=_0x2b4821(_0x5112bb[_0xb9a75e+(0x3*0x647+0x1*0x20f2+-0x33c5)],_0x5112bb[_0xb9a75e+(0x91f*-0x3+-0x1*0x1afd+0x365f)],_0x1daf8['z'])),_0x23401c&&_0x2b0a60(_0x23401c,_0x11a525[_0x4ce5c1*_0x513701+(0x14a8+-0x1d*-0xe7+0xd*-0x39a)]),_0x43ca1c&&(_0x4c4759(_0x43ca1c,_0x11a525[_0x4ce5c1*_0x513701+(0x1855*-0x1+0x1d7e+0x527*-0x1)]),_0x43ca1c['x']=_0x2b4821(_0x5112bb[_0xb9a75e+(-0x16af*-0x1+-0x2*-0x1237+-0x3b17)],_0x5112bb[_0xb9a75e+(-0x1e84+-0x17ce+0x365b)],_0x43ca1c['x']),_0x43ca1c['y']=_0x2b4821(_0x5112bb[_0xb9a75e+(0x2573*-0x1+-0x5b6+0x2b30)],_0x5112bb[_0xb9a75e+(-0x1*-0x1e78+0x77b+0xf*-0x287)],_0x43ca1c['y']),_0x43ca1c['z']=_0x2b4821(_0x5112bb[_0xb9a75e+(0x18f4+0x5*0x404+0x9*-0x500)],_0x5112bb[_0xb9a75e+(-0xa59*0x2+-0x5d3*-0x5+-0x862)],_0x43ca1c['z'])),_0x37802f&&(_0x348ca7(_0x37802f,_0x11a525[_0x4ce5c1*_0x513701+(0x3c7*0x1+-0x1*0xa2a+0x666)]),_0x24e3fe>0x2585+-0x191a+-0xc5f&&(_0x37802f['x']=_0x2b4821(_0x5112bb[_0xb9a75e+(-0x102f+0x100+-0x1*-0xf3b)],_0x5112bb[_0xb9a75e+(-0x15*0x103+0x1384+-0x1ca*-0x1)],_0x37802f['x']),_0x37802f['y']=_0x2b4821(_0x5112bb[_0xb9a75e+(-0x3a1*0xa+0x22bb+0x19c)],_0x5112bb[_0xb9a75e+(-0x11a6+0x3c4*0x1+0x7*0x1fe)],_0x37802f['y']),_0x37802f['z']=_0x2b4821(_0x5112bb[_0xb9a75e+(-0x249e+0x3a4+0x2108)],_0x5112bb[_0xb9a75e+(0x6*-0x5a5+-0xdf7+0x17f3*0x2)],_0x37802f['z']))),_0x5029b1&&(_0x4c4759(_0x5029b1,_0x11a525[_0x4ce5c1*_0x513701+(-0xa4*-0xc+-0x16b5*-0x1+-0x1e61)]),_0x5029b1['x']=_0x2b4821(_0x5112bb[_0xb9a75e+(0x126d+0x92*0x4+0x3*-0x6e1)],_0x5112bb[_0xb9a75e+(0x2*0x187+-0x1*0x1f51+0x38b*0x8)],_0x5029b1['x']),_0x5029b1['y']=_0x2b4821(_0x5112bb[_0xb9a75e+(-0x1e89+0x2*0x1179+-0x456)],_0x5112bb[_0xb9a75e+(-0xc04+0x17*-0x10f+0x2473)],_0x5029b1['y']),_0x5029b1['z']=_0x2b4821(_0x5112bb[_0xb9a75e+(-0x1029+-0x632+0x166f)],_0x5112bb[_0xb9a75e+(0x22c0+-0x1*0x1ff9+-0x158*0x2)],_0x5029b1['z'])),_0x22e235&&(_0x4c4759(_0x22e235,_0x11a525[_0x4ce5c1*_0x513701+(0xdb*-0x2+0x930+-0x775)]),_0x22e235['x']=_0x2b4821(_0x5112bb[_0xb9a75e+(0x15c9+0xfea+-0x259b)],_0x5112bb[_0xb9a75e+(-0x10b0+-0xb1a+0x1be3)],_0x22e235['x']),_0x22e235['y']=_0x2b4821(_0x5112bb[_0xb9a75e+(-0x18*0x55+0x14dc+-0x665*0x2)],_0x5112bb[_0xb9a75e+(-0x26*-0x1+0x1c7d+-0x1c88)],_0x22e235['y'])),_0x28d938&&_0x26be8c>-0x10b9+0x1*0xf15+0x2a*0xa){for(let _0x1f3584=-0x736+0x1582+0x262*-0x6;_0x1f3584<-0xc2c+-0x1*-0xfde+-0x3af;++_0x1f3584)for(let _0x18c3e1=-0x1081+0x2d7+0xdaa;_0x18c3e1<0x2*0x85a+0xf76+-0x201b*0x1;++_0x18c3e1)_0x28d938[_0x1f3584*(-0x1774+0xbf9+0xb8a)+_0x18c3e1]=_0x18c3e1<_0x3a4243?_0x3aafd9[(_0x4ce5c1*(0x5a8+-0x3c1*-0x2+-0xd27)+_0x1f3584)*_0x3a4243+_0x18c3e1]*((-0x5ae*-0x1+-0x185*-0xd+-0x1967)/(-0x3*0x6b8+0x6a*-0x3+0x9*0x27d))-(0x1ad2*-0x1+0x5b9+-0x73*-0x2f):0x1*0xcef+-0x266*0xc+0xfd9;}};}}self['onmessage']=async _0x570b41=>{const {data:_0x25055b}=_0x570b41;switch(_0x25055b['type']){case'initWorker':break;case'decompress':_0x297a4a(_0x25055b['numSplats'],_0x25055b['chunkData'],_0x25055b['chunkSize'],_0x25055b['vertexData'],_0x25055b['shData'],_0x25055b['shBands']);break;}};const _0x297a4a=(_0x3e3558,_0xf59096,_0x14d01a,_0x4a0f72,_0x5ddbc1,_0x1cc02a)=>{const _0x294324=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x1cc02a>-0x1a53+-0x12da+0x2d2d*0x1){const _0x18bfac=[];for(let _0x1edd9f=0x2a2*-0xa+0x3*0xb56+0x3d7*-0x2;_0x1edd9f<-0x24ab+0xd*0x1d6+0x2*0x67d;++_0x1edd9f)_0x18bfac['push']('f_rest_'+_0x1edd9f);_0x294324['splice'](_0x294324['indexOf']('f_dc_0')+(-0x9d7*-0x1+0x1b20+0x2*-0x127b),0x261+0x1b8*0x1+-0x1*0x419,..._0x18bfac);}const _0x14a6b7={};_0x294324['forEach'](_0x3b6f13=>{_0x14a6b7[_0x3b6f13]=new Float32Array(_0x3e3558);}),console['log']('decompress');const _0x19b7de=new _0x84c75b(),_0x32d16b=new _0x3b8811(),_0x1cd3f7=new _0x84c75b(),_0x470033=new _0x4c8395(),_0x4ac06c=new _0x84c75b(),_0x39a498=new _0x84c75b(),_0x96c2c=_0x1cc02a>-0x1*0xb7b+-0x2512+-0x102f*-0x3?new Float32Array(-0x8*0x481+-0xfc*-0x22+0x2bd*0x1):null,_0x5c0f65=new _0x377d96(_0xf59096,_0x14d01a,_0x4a0f72,_0x5ddbc1,_0x1cc02a,_0x19b7de,_0x32d16b,_0x1cd3f7,_0x470033,_0x4ac06c,_0x39a498,_0x96c2c);for(let _0x529422=0x24b3+0x64b+-0x2afe;_0x529422<_0x3e3558;++_0x529422)if(_0x5c0f65['read'](_0x529422),_0x14a6b7['x'][_0x529422]=_0x19b7de['x'],_0x14a6b7['y'][_0x529422]=_0x19b7de['y'],_0x14a6b7['z'][_0x529422]=_0x19b7de['z'],_0x14a6b7['rot_1'][_0x529422]=_0x32d16b['x'],_0x14a6b7['rot_2'][_0x529422]=_0x32d16b['y'],_0x14a6b7['rot_3'][_0x529422]=_0x32d16b['z'],_0x14a6b7['rot_0'][_0x529422]=_0x32d16b['w'],_0x14a6b7['scale_0'][_0x529422]=_0x1cd3f7['x'],_0x14a6b7['scale_1'][_0x529422]=_0x1cd3f7['y'],_0x14a6b7['scale_2'][_0x529422]=_0x1cd3f7['z'],_0x14a6b7['motion_0'][_0x529422]=_0x4ac06c['x'],_0x14a6b7['motion_1'][_0x529422]=_0x4ac06c['y'],_0x14a6b7['motion_2'][_0x529422]=_0x4ac06c['z'],_0x14a6b7['t_scale'][_0x529422]=_0x39a498['x'],_0x14a6b7['t'][_0x529422]=_0x39a498['y'],_0x14a6b7['f_dc_0'][_0x529422]=(_0x470033['x']-(0x1368+-0x97*-0x3d+-0x3763+0.5))/_0x4524dc,_0x14a6b7['f_dc_1'][_0x529422]=(_0x470033['y']-(0x1ac1+0x75d+-0x18d*0x16+0.5))/_0x4524dc,_0x14a6b7['f_dc_2'][_0x529422]=(_0x470033['z']-(-0x851*-0x4+-0x10*-0x11a+-0x32e4+0.5))/_0x4524dc,_0x14a6b7['opacity'][_0x529422]=_0x470033['w']<=-0x2*-0xc9d+0x166f+0x31*-0xf9?-(-0x291+0x921+-0x668):_0x470033['w']>=0x15f+0x1*-0x4c7+0x369?0x17dc*0x1+0x21d1+0xb81*-0x5:-Math['log']((-0x20f+0x2*0xca6+0xb9e*-0x2)/_0x470033['w']-(-0x80*0x3d+0x611+0x1870)),_0x96c2c){for(let _0x3403cc=-0xf8e+-0x257d+0x350b;_0x3403cc<-0x24b7+0x6*-0x449+0x3e9a;++_0x3403cc)_0x14a6b7['f_rest_'+_0x3403cc][_0x529422]=_0x96c2c[_0x3403cc];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x14a6b7});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x4a3611=>{if(!this['worker'])return;const {data:_0x2d3f46}=_0x4a3611;switch(_0x2d3f46['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x2d3f46['data']);break;}};}['decompress'](_0x495a68,_0x3e4aa0,_0x23b994,_0x574479,_0x5c053d,_0x552bab,_0x1907d5){this['chunkData']=new Float32Array(_0x3e4aa0)['slice'](),this['vertexData']=new Uint32Array(_0x574479)['slice'](),this['shData']=new Uint8Array(_0x5c053d)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x495a68,'chunkData':this['chunkData'],'chunkSize':_0x23b994,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x552bab});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x4ab841,_0x1b29a9,_0x29a93a,_0x1ff8a7,_0x1f9d6b,_0x14c14e,_0x1065d6,_0xccb22){const _0x562a1e=(_0x212115,_0x59e066)=>{const _0x47d334=(-0x14b4+-0x47c+0x1931*0x1<<_0x59e066)-(-0x217c+0xb5*-0x1c+-0x11c3*-0x3);return(_0x212115&_0x47d334)/_0x47d334;},_0x556c97=(_0x3b4984,_0x2a8475)=>{_0x3b4984['x']=_0x562a1e(_0x2a8475>>>-0x1c7a+-0x1b13+0x37a2,0x37*0x7d+0x1a0b+-0x34db),_0x3b4984['y']=_0x562a1e(_0x2a8475>>>0x1a7d+-0xe57*0x1+0x409*-0x3,-0x2137+0x139e+0xda3*0x1),_0x3b4984['z']=_0x562a1e(_0x2a8475,-0x403*-0x5+0x18c6+-0x2cca);},_0x1cd5be=(_0x370562,_0x500bba)=>{_0x370562['x']=_0x562a1e(_0x500bba>>>-0x25a*0x9+-0x1*0x1f69+0x8b*0x61,-0xf12+0x1f59+-0x103f),_0x370562['y']=_0x562a1e(_0x500bba>>>0x1*-0xbcf+-0x2f*0x3a+0x1685,-0x9b1*-0x3+-0xe96+-0xe75),_0x370562['z']=_0x562a1e(_0x500bba>>>-0xa*-0x1a3+-0xb*0x5f+-0xc41,0x12a*-0xe+-0x2*0x1192+0x3378),_0x370562['w']=_0x562a1e(_0x500bba,0x3*-0xabf+0xaf1+0x1554);},_0x6f0a=(_0x1a0e1d,_0x1d0cc0)=>{const _0x146ceb=(0x11*-0x11b+-0xd6*0x3+-0x12*-0x12f)/(Math['sqrt'](-0x270a+0x59*-0x5d+-0x1*-0x4761)*(-0x2253+-0x1361+0x1*0x35b4+0.5)),_0x1ba689=(_0x562a1e(_0x1d0cc0>>>0x11d7+-0x1756+0x593,0xdf1*0x1+0x1*-0x148a+0x6a3)-(0x2*-0x11e6+-0x18bb+0x3c87+0.5))*_0x146ceb,_0x2b7b6e=(_0x562a1e(_0x1d0cc0>>>0x166a+-0x7*0x572+0xfbe,0x23c+0x17d2*-0x1+-0x1*-0x15a0)-(0xeb2+0x1*-0x2582+0x16d0+0.5))*_0x146ceb,_0x2725c4=(_0x562a1e(_0x1d0cc0,-0x1*0x966+-0x15*-0x15a+-0x12f2)-(0x21fa+0x4b1*0x7+-0x37*0x137+0.5))*_0x146ceb,_0x2fa520=Math['sqrt'](-0x16a8+0x1a48+-0x39f-(_0x1ba689*_0x1ba689+_0x2b7b6e*_0x2b7b6e+_0x2725c4*_0x2725c4));switch(_0x1d0cc0>>>-0x2580+0x57d+0x2021){case-0x2260+-0x1*-0x11c+0x2144:_0x1a0e1d['set'](_0x1ba689,_0x2b7b6e,_0x2725c4,_0x2fa520);break;case 0x125*-0x6+-0x5*0x655+0x2688:_0x1a0e1d['set'](_0x2fa520,_0x2b7b6e,_0x2725c4,_0x1ba689);break;case 0xbe8+0x15*0x170+-0x2a16:_0x1a0e1d['set'](_0x2b7b6e,_0x2fa520,_0x2725c4,_0x1ba689);break;case-0x688+-0x168a+0x5d1*0x5:_0x1a0e1d['set'](_0x2b7b6e,_0x2725c4,_0x2fa520,_0x1ba689);break;}},_0x249a37=(_0xb02233,_0x2125e7,_0x57853e)=>_0xb02233*(-0x26bb+-0x2487+0x4b43-_0x57853e)+_0x2125e7*_0x57853e,{chunkData:_0x107a27,chunkSize:_0x6482e2,vertexData:_0x2789d5,shData:_0xe0efe1,shBands:_0x3161f1}=_0x4ab841,_0x2c4265=[0xe4e+-0xe53+0x8,-0xa50+-0x22f+-0x42d*-0x3,-0x1a8f*0x1+0x1e86*0x1+-0x32*0x14][_0x3161f1-(-0x7c5+-0x10c5+-0x1*-0x188b)],_0x57ee9f=-0x93a+0x9d3+-0x93;this['read']=_0x1c2696=>{const _0x4c6fd6=Math['floor'](_0x1c2696/(0x203e+0x109d*-0x2+0x1fc))*_0x6482e2;if(_0x1b29a9&&(_0x556c97(_0x1b29a9,_0x2789d5[_0x1c2696*_0x57ee9f+(-0x2be+-0xb*-0x14c+-0x76*0x19)]),_0x1b29a9['x']=_0x249a37(_0x107a27[_0x4c6fd6+(0x23f3*0x1+-0x17f5*0x1+0x2*-0x5ff)],_0x107a27[_0x4c6fd6+(0x1ec1*-0x1+-0x7cb+0x1*0x268f)],_0x1b29a9['x']),_0x1b29a9['y']=_0x249a37(_0x107a27[_0x4c6fd6+(-0x1d39*-0x1+-0x1*0x1b69+-0x1cf*0x1)],_0x107a27[_0x4c6fd6+(-0x1c1d+-0x7*-0x211+0x6*0x247)],_0x1b29a9['y']),_0x1b29a9['z']=_0x249a37(_0x107a27[_0x4c6fd6+(-0x1387*-0x1+0x15*0x162+-0x308f*0x1)],_0x107a27[_0x4c6fd6+(-0x1*-0x7b0+0x6e6*-0x4+0x13ed)],_0x1b29a9['z'])),_0x29a93a&&_0x6f0a(_0x29a93a,_0x2789d5[_0x1c2696*_0x57ee9f+(-0x26dd+-0x123c+0x1*0x391a)]),_0x1ff8a7&&(_0x556c97(_0x1ff8a7,_0x2789d5[_0x1c2696*_0x57ee9f+(0x1*-0x2b6+-0x2058+0x2310)]),_0x1ff8a7['x']=_0x249a37(_0x107a27[_0x4c6fd6+(0x1a0c+-0x214*0x2+0x1*-0x15de)],_0x107a27[_0x4c6fd6+(-0x1*-0x1fdc+-0x713*0x1+-0x63*0x40)],_0x1ff8a7['x']),_0x1ff8a7['y']=_0x249a37(_0x107a27[_0x4c6fd6+(0x186b+-0x3*-0x8bf+-0x3e5*0xd)],_0x107a27[_0x4c6fd6+(0x15e4+0x8c*0xb+-0x1bde)],_0x1ff8a7['y']),_0x1ff8a7['z']=_0x249a37(_0x107a27[_0x4c6fd6+(-0x69*0x11+-0x1898+0x1f99)],_0x107a27[_0x4c6fd6+(-0x2*0xd9a+-0xf5a+0x2a99)],_0x1ff8a7['z'])),_0x1f9d6b&&(_0x1cd5be(_0x1f9d6b,_0x2789d5[_0x1c2696*_0x57ee9f+(0x1*-0x168d+-0x5fb*-0x3+0x49f)]),_0x6482e2>-0xce3*-0x3+-0x2345+-0x358&&(_0x1f9d6b['x']=_0x249a37(_0x107a27[_0x4c6fd6+(-0x11db+0x268d+0x6e2*-0x3)],_0x107a27[_0x4c6fd6+(-0x2*0x107b+-0x689+-0x3d*-0xa6)],_0x1f9d6b['x']),_0x1f9d6b['y']=_0x249a37(_0x107a27[_0x4c6fd6+(0x2563*0x1+0x19b+-0x1*0x26f1)],_0x107a27[_0x4c6fd6+(0x19e7+-0xb1c+-0xebb)],_0x1f9d6b['y']),_0x1f9d6b['z']=_0x249a37(_0x107a27[_0x4c6fd6+(0x34*-0x86+-0x682+0x21c8)],_0x107a27[_0x4c6fd6+(-0x6*-0x3+0x3*0x7c9+0x5d7*-0x4)],_0x1f9d6b['z']))),_0x14c14e&&(_0x556c97(_0x14c14e,_0x2789d5[_0x1c2696*_0x57ee9f+(0x15a3+0xa6e+-0x200d)]),_0x14c14e['x']=_0x249a37(_0x107a27[_0x4c6fd6+(0x65*0x62+0x983+-0x301b)],_0x107a27[_0x4c6fd6+(0xed8+-0x382*0x5+0x1*0x2c7)],_0x14c14e['x']),_0x14c14e['y']=_0x249a37(_0x107a27[_0x4c6fd6+(0x713+0x13b*-0xe+0x1*0xa3a)],_0x107a27[_0x4c6fd6+(0x9d*-0x1+0xaef+-0x1*0xa3c)],_0x14c14e['y']),_0x14c14e['z']=_0x249a37(_0x107a27[_0x4c6fd6+(0xc9*0x24+0x135*-0x1b+0x467)],_0x107a27[_0x4c6fd6+(-0x3*-0x638+-0x1f15+0xc84)],_0x14c14e['z'])),_0x1065d6&&(_0x556c97(_0x1065d6,_0x2789d5[_0x1c2696*_0x57ee9f+(-0xc1*0x11+-0x264a+0x3320)]),_0x1065d6['x']=_0x249a37(_0x107a27[_0x4c6fd6+(-0x10f2+0x4*0x445+-0xa)],_0x107a27[_0x4c6fd6+(-0x77*-0x13+-0x1e5*0x13+-0x1b43*-0x1)],_0x1065d6['x']),_0x1065d6['y']=_0x249a37(_0x107a27[_0x4c6fd6+(-0x73*0x10+-0x121+0x86b)],_0x107a27[_0x4c6fd6+(0x13cf+-0x7f0+0x2*-0x5e2)],_0x1065d6['y'])),_0xccb22&&_0x3161f1>0x394+0x183b+-0x3f*0x71){for(let _0x3da7a4=-0x51*0x66+0x289+0x1dbd;_0x3da7a4<0x137*-0x20+-0x1*0x11e1+0x6*0x976;++_0x3da7a4)for(let _0x2d42e8=0x55d*-0x3+-0x258f+0x35a6;_0x2d42e8<-0x22bb+0x1794+0xcd*0xe;++_0x2d42e8)_0xccb22[_0x3da7a4*(0xb07+0x3b*0x5+0xc1f*-0x1)+_0x2d42e8]=_0x2d42e8<_0x2c4265?_0xe0efe1[(_0x1c2696*(-0x196d+-0x290*0x4+0x476*0x8)+_0x3da7a4)*_0x2c4265+_0x2d42e8]*((0x1997+-0x21d7*0x1+0x109*0x8)/(-0x1661+0x20a8+0x2*-0x4a4))-(-0xa65+-0x1b23+-0x6*-0x642):-0xa9*0x3b+-0x1fa0+-0x1*-0x4693;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x21c218,_0x32556e,_0x57f61a,_0x83e6e3,_0x4d429d,_0x3e8652,_0x2d67d3){return new R2(this,_0x21c218,_0x32556e,_0x57f61a,_0x83e6e3,_0x4d429d,_0x3e8652,_0x2d67d3);}['calcAabb'](_0x193de3){const {chunkData:_0x238999,numChunks:_0xc9ccd8,chunkSize:_0x1b1c3}=this;let _0x448e1d=Math['exp'](Math['max'](_0x238999[0xffe+-0x879+0x77c*-0x1],_0x238999[0x1e*0x4+0xb11+-0xb7f],_0x238999[-0x14ae+-0xbd3+0x208c])),_0x2329be=_0x238999[0x1*-0x1ae9+-0x18e*0x1+0x7*0x411]-_0x448e1d,_0x324f18=_0x238999[-0x2587+-0xaf7+0x41*0xbf]-_0x448e1d,_0x4ce56e=_0x238999[-0xe49+-0x1*0x21fb+0x3046]-_0x448e1d,_0x160c20=_0x238999[0xaee+0x325*-0x6+0x7f3]+_0x448e1d,_0x5031c5=_0x238999[0x1*-0xec3+0x119*0x1f+0x1340*-0x1]+_0x448e1d,_0x3a2f1e=_0x238999[0xcb*-0x7+-0x30*-0x6f+-0xf3e]+_0x448e1d;for(let _0x1bd2fb=0x9c4+-0xc56+-0x1*-0x293;_0x1bd2fb<_0xc9ccd8;++_0x1bd2fb){const _0x16841e=_0x1bd2fb*_0x1b1c3;_0x448e1d=Math['exp'](Math['max'](_0x238999[_0x16841e+(-0xb1*0x4+-0x10a2+0x3e3*0x5)],_0x238999[_0x16841e+(-0x71b+0x3c*0x81+0x1717*-0x1)],_0x238999[_0x16841e+(-0x13d+-0xad*0xe+0xabe)])),_0x2329be=Math['min'](_0x2329be,_0x238999[_0x16841e+(0xb3*0x37+0x1*-0x1b61+-0xb14)]-_0x448e1d),_0x324f18=Math['min'](_0x324f18,_0x238999[_0x16841e+(-0x4f*-0x65+-0x2*0x11dd+0x490)]-_0x448e1d),_0x4ce56e=Math['min'](_0x4ce56e,_0x238999[_0x16841e+(-0x13d*-0x16+-0x1220+-0x91c)]-_0x448e1d),_0x160c20=Math['max'](_0x160c20,_0x238999[_0x16841e+(0x3e5+-0xf1*-0x7+-0xa79)]+_0x448e1d),_0x5031c5=Math['max'](_0x5031c5,_0x238999[_0x16841e+(-0x134d+-0x1*-0x109e+0x2b3)]+_0x448e1d),_0x3a2f1e=Math['max'](_0x3a2f1e,_0x238999[_0x16841e+(0x1*-0x104+-0x1*0x1f2d+-0xe*-0x24d)]+_0x448e1d);}return _0x193de3['center']['set']((_0x2329be+_0x160c20)*(-0x259c+-0x1*0x213+0x27af*0x1+0.5),(_0x324f18+_0x5031c5)*(0x2*0x79f+-0x1de5+-0xb*-0x155+0.5),(_0x4ce56e+_0x3a2f1e)*(0x1edf+0x1298+-0x3177+0.5)),_0x193de3['halfExtent'+'s']['set']((_0x160c20-_0x2329be)*(-0x1aa1+-0xb01+0x25a2+0.5),(_0x5031c5-_0x324f18)*(0x7*0x1ce+-0x25b6*-0x1+-0x3258+0.5),(_0x3a2f1e-_0x4ce56e)*(0x2334+0x4c*-0x75+-0x78+0.5)),!(-0x1961+0x82c*0x2+0x909);}['getCenters'](_0x3c4a25){const {vertexData:_0x431b42,chunkData:_0xae1627,numChunks:_0x4ac2c4,chunkSize:_0x4c75e1}=this;let _0x51a059,_0x2e84f0,_0x484131,_0x36d826,_0x11cd16,_0x4d9ad6;for(let _0x39322f=-0x14a1+-0x2239+-0x19d*-0x22;_0x39322f<_0x4ac2c4;++_0x39322f){const _0x5018be=_0x39322f*_0x4c75e1;_0x51a059=_0xae1627[_0x5018be+(-0x11*0x199+-0x5b*0x3f+0x318e)],_0x2e84f0=_0xae1627[_0x5018be+(0x232c+-0x543+-0x57*0x58)],_0x484131=_0xae1627[_0x5018be+(-0x13d*-0x1+-0x1afe+0x19c3)],_0x36d826=_0xae1627[_0x5018be+(-0x1*0x1d68+-0x21b9+0x3*0x150c)],_0x11cd16=_0xae1627[_0x5018be+(0x4*-0x4c+0x21f*-0x7+-0x7*-0x24b)],_0x4d9ad6=_0xae1627[_0x5018be+(-0x1554+0x10a6+0x3*0x191)];const _0x21ca5f=Math['min'](this['numSplats'],(_0x39322f+(0x1227+-0x1de+-0x1048))*(0x329+0xfb3+-0x11dc));for(let _0x3b99b5=_0x39322f*(-0x17e*-0x13+-0x4c5*0x7+-0x135*-0x5);_0x3b99b5<_0x21ca5f;++_0x3b99b5){const _0x117dd8=_0x431b42[_0x3b99b5*(0x8f5*0x1+0x1*0x1ecb+-0x9ef*0x4)],_0x8ec34c=(_0x117dd8>>>0x97d*-0x2+-0x1a+0x1329)/(-0x53*0x6d+0x24ff+0x657*0x1),_0x5b352a=(_0x117dd8>>>-0x1*-0x1cf+0x211*0x1+0x9*-0x6d&0x1d33+0x48e*0x7+0x2*-0x1c8b)/(0x1*-0x1fd+0xc86+-0x12*0x5d),_0x26f734=(_0x117dd8&0x2540+0x122+-0x1e63)/(0x1292+-0x26a4+-0x1c11*-0x1);_0x3c4a25[_0x3b99b5*(0x72*-0x16+-0x15c0+0x1f8f)+(-0xfe2+-0x21aa+0x2*0x18c6)]=(-0x18bb*0x1+-0x2*0xd3+0x1a62-_0x8ec34c)*_0x51a059+_0x8ec34c*_0x36d826,_0x3c4a25[_0x3b99b5*(-0x1b3d+0xa90*0x2+0x620)+(0xf*-0x119+0x1fc7+-0xf4f)]=(0xf89+0x2123+0x30ab*-0x1-_0x5b352a)*_0x2e84f0+_0x5b352a*_0x11cd16,_0x3c4a25[_0x3b99b5*(-0xebf+-0x1d0f*0x1+0x2bd1)+(0x198f+-0x1*-0x50d+-0xf4d*0x2)]=(-0x1b4b+-0x246b*-0x1+0x91f*-0x1-_0x26f734)*_0x484131+_0x26f734*_0x4d9ad6;}}}['calcFocalP'+'oint'](_0x3372c6){const {chunkData:_0x56c61f,numChunks:_0x441ec9,chunkSize:_0x27fa91}=this;_0x3372c6['x']=0x1f57+0x1*0x8f+0x1fe6*-0x1,_0x3372c6['y']=-0x20b2+0xb89*0x1+0x1529,_0x3372c6['z']=0x4*0x466+-0x2*0x6be+-0x41c;for(let _0x18fa0b=-0x133b*0x1+0x1539+0x22*-0xf;_0x18fa0b<_0x441ec9;++_0x18fa0b){const _0x3c82fc=_0x18fa0b*_0x27fa91;_0x3372c6['x']+=_0x56c61f[_0x3c82fc+(-0x1*-0x20c8+0x18de+0x9d*-0x5e)]+_0x56c61f[_0x3c82fc+(-0x1ffa+-0x230c+-0x4309*-0x1)],_0x3372c6['y']+=_0x56c61f[_0x3c82fc+(0x1*0x1ff9+0x1*0x497+-0x248f)]+_0x56c61f[_0x3c82fc+(0x1129+0xec+-0x1211)],_0x3372c6['z']+=_0x56c61f[_0x3c82fc+(-0x1140+0x1*-0x1b9a+0x2cdc)]+_0x56c61f[_0x3c82fc+(0x9f1+-0x14e*-0x1+0x6*-0x1df)];}_0x3372c6['mulScalar']((-0x2065+-0x1bf2+0x3c57+0.5)/_0x441ec9);}get['isCompress'+'ed'](){return!(0x8ca+-0x4*0x275+0x26*0x7);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x1759+-0x3*-0xb51+-0x1*0x99a));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x10c994;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x10c994=this['shData'])==null?void(-0x1*0x1cab+-0x1491+-0x89*-0x5c):_0x10c994['length'])/this['numSplats']/(-0x204a*0x1+-0x5a8+0x1*0x25f5)]??0xcc3+-0x23c9+0x1706;}async['decompress'](){const _0x65fb4f=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x1d4e9f}=this;if(_0x1d4e9f>0x725+-0x1ed8+-0x1*-0x17b3){const _0xf3a89c=[];for(let _0x347efb=0x1*-0x44d+0x8e9*-0x4+0x27f1;_0x347efb<0x124a+0xc*0x143+-0x2141;++_0x347efb)_0xf3a89c['push']('f_rest_'+_0x347efb);_0x65fb4f['splice'](_0x65fb4f['indexOf']('f_dc_0')+(0x191b+0x73*-0x1a+0x6b6*-0x2),-0x160f+-0x9*-0xba+-0x89*-0x1d,..._0xf3a89c);}const _0x445197={};_0x65fb4f['forEach'](_0x1a451e=>{_0x445197[_0x1a451e]=new Float32Array(this['numSplats']);});const _0x1dc197=new P2();return _0x1dc197['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x445197),new Promise((_0x163ca0,_0x4d4ff9)=>{_0x1dc197['on']('decompress'+'ed',_0x10ec7d=>{_0x1dc197['destroy'](),_0x163ca0(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x65fb4f['map'](_0x3b2354=>({'name':_0x3b2354,'type':'float','byteSize':0x4,'storage':_0x10ec7d[_0x3b2354]}))}]));});});}}const D2=(_0x28f75e,_0x57c619,_0x4c3b14,_0x257a0d,_0x26dde2)=>{for(let _0x33aaf7=-0x70a+0x1f7*0xf+0x166f*-0x1;_0x33aaf7<_0x26dde2;++_0x33aaf7)for(let _0x3861c1=-0x163f+0x25ab*-0x1+0x3bea;_0x3861c1<_0x257a0d;++_0x3861c1)_0x28f75e[_0x33aaf7*_0x57c619+_0x3861c1]=_0x4c3b14[_0x33aaf7*_0x257a0d+_0x3861c1];},zg=(_0x560ca6,_0x4ce3ff,_0x5e8d56,_0x3527c3,_0xbe8710,_0x2b1a07)=>{for(let _0x551dc5=-0xf8a+-0x1*-0x16c3+-0x2b*0x2b;_0x551dc5<_0xbe8710;++_0x551dc5)for(let _0x564112=-0x62*-0x1+0x1d5d*0x1+0x5*-0x5f3;_0x564112<_0x3527c3;++_0x564112)_0x560ca6[_0x551dc5*_0x4ce3ff+_0x564112]=_0x5e8d56[_0x551dc5*_0x3527c3+_0x564112+_0x2b1a07];};class L2{constructor(_0x24a706,_0x1384b5){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x56d784,chunkSize:_0x4ee766,numChunks:_0x455872,numSplats:_0x5cbad3,vertexData:_0x8c677f,shBands:_0x4effbe,is4D:_0x10b83c}=_0x1384b5;this['device']=_0x24a706,this['numSplats']=_0x5cbad3,this['numVisible'+'Splats']=_0x5cbad3,this['is4D']=_0x10b83c,this['aabb']=new _e(),_0x1384b5['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x5cbad3*(0x130a+0x1*-0xaab+-0x6b*0x14)),_0x1384b5['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0x5cbad3));const _0x22abb7=this['packedText'+'ure']['lock']();zg(_0x22abb7,-0x7b3+-0x1*0x391+0xb48,_0x8c677f,0x1877*-0x1+-0x2*0x819+0x5*0x823,_0x5cbad3,-0x3e1*-0x5+-0x92*-0x29+0x1*-0x2ac7),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0x5cbad3));const _0x1824b1=this['packedTime'+'Texture']['lock']();zg(_0x1824b1,-0x1*-0x940+0x47*0x1d+-0x127*0xf,_0x8c677f,-0x1280+-0x12d7+0x255d,_0x5cbad3,0x84b*0x1+0x1064+-0xf*0x1a5);const _0x155d95=this['evalTextur'+'eSize'](_0x455872);_0x155d95['x']*=0xc2*-0xe+0x2227+-0x56*0x46,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x155d95);const _0x4b9f3e=this['chunkTextu'+'re']['lock']();if(D2(_0x4b9f3e,(-0xf*-0x1f7+-0x2620+0x8ab)*(0x1001+-0x1634+-0x1*-0x63a),_0x56d784,_0x4ee766,_0x455872),_0x4ee766===-0x4eb*0x1+0x127e*-0x1+0x1775){for(let _0x363cd2=-0x24ca*-0x1+0x21d3+-0x1*0x469d;_0x363cd2<_0x455872;++_0x363cd2)_0x4b9f3e[_0x363cd2*(0x1ba9+-0x2b*0x95+0x6*-0x6d)+(-0xa7f*-0x3+0x24+0x6*-0x543)]=0x193+-0x502*-0x1+-0x694,_0x4b9f3e[_0x363cd2*(-0x1f19*-0x1+-0x1dcb*-0x1+-0x3cd0)+(0x230d+0x16fe+0x39fb*-0x1)]=0xc*-0x200+0xf07*-0x1+0x2708,_0x4b9f3e[_0x363cd2*(-0xd7d+0xeaf+-0x1*0x11e)+(-0x4a5+-0xc32+0x10e8)]=0x1ce9*0x1+0x1*-0x2709+0xa21;}if(this['chunkTextu'+'re']['unlock'](),_0x4effbe>-0xa28+-0xc*-0xb1+0x1dc){const {shData:_0x1e4650}=_0x1384b5,_0x14a32e=this['evalTextur'+'eSize'](_0x5cbad3),_0x2d2a2b=this['createText'+'ure']('shTexture0',ut,_0x14a32e),_0x5bcc28=this['createText'+'ure']('shTexture1',ut,_0x14a32e),_0x404f17=this['createText'+'ure']('shTexture2',ut,_0x14a32e),_0x2394f1=_0x2d2a2b['lock'](),_0xde0f94=_0x5bcc28['lock'](),_0x452144=_0x404f17['lock'](),_0x497148=new Uint8Array(_0x2394f1['buffer']),_0x20bf0d=new Uint8Array(_0xde0f94['buffer']),_0x14e58a=new Uint8Array(_0x452144['buffer']),_0xad3ea3=[-0x7d4+0x1*-0x3c4+0xb9b,0xc04+-0x1*0x226+0x9d6*-0x1,0x87*0xe+0xdea*0x2+-0x2327][_0x4effbe-(-0x8ba*-0x4+0x1d7b*-0x1+-0x56c)];for(let _0x27adbd=0x1e25*-0x1+-0x1*-0x25d9+-0x7b4;_0x27adbd<_0x5cbad3;++_0x27adbd)for(let _0x5eeab2=-0xcfb*-0x1+0x20ea+-0x2de5;_0x5eeab2<-0x16f0+0x6d0+0x565*0x3;++_0x5eeab2)_0x497148[_0x27adbd*(-0x1c7*0x13+0xa2*-0x35+0x3*0x1675)+_0x5eeab2]=_0x5eeab2<_0xad3ea3?_0x1e4650[(_0x27adbd*(-0x92*-0x44+-0x13*0x155+-0xd76)+(0xc5e+0x5*0x57d+-0x27cf))*_0xad3ea3+_0x5eeab2]:0x2dd*-0xa+-0x7e0+0x1*0x2501,_0x20bf0d[_0x27adbd*(-0x80*0x18+0xf*-0x21f+0x2be1)+_0x5eeab2]=_0x5eeab2<_0xad3ea3?_0x1e4650[(_0x27adbd*(0x21e*-0x2+0xf46+0x3ad*-0x3)+(-0x1*0xf4e+-0x1*0x426+0x1*0x1375))*_0xad3ea3+_0x5eeab2]:-0xf37+0x2b*-0xcf+0x327b,_0x14e58a[_0x27adbd*(0x3c8+-0x240d*-0x1+0x1*-0x27c5)+_0x5eeab2]=_0x5eeab2<_0xad3ea3?_0x1e4650[(_0x27adbd*(0x5ff+-0x3f6+-0x1*0x206)+(-0x3*0x150+0x187d+-0x148b))*_0xad3ea3+_0x5eeab2]:-0xd*0x133+0x1faf*-0x1+-0x2fc5*-0x1;_0x2d2a2b['unlock'](),_0x5bcc28['unlock'](),_0x404f17['unlock'](),this['shTexture0']=_0x2d2a2b,this['shTexture1']=_0x5bcc28,this['shTexture2']=_0x404f17;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x4c232c,_0x5bcb96,_0xc1686,_0x13282e,_0x129568,_0x35dac7;(_0x4c232c=this['packedText'+'ure'])==null||_0x4c232c['destroy'](),(_0x5bcb96=this['packedTime'+'Texture'])==null||_0x5bcb96['destroy'](),(_0xc1686=this['chunkTextu'+'re'])==null||_0xc1686['destroy'](),(_0x13282e=this['shTexture0'])==null||_0x13282e['destroy'](),(_0x129568=this['shTexture1'])==null||_0x129568['destroy'](),(_0x35dac7=this['shTexture2'])==null||_0x35dac7['destroy']();}['createMate'+'rial'](_0x2e6511){const _0x4a4ee8=z0(_0x2e6511);return _0x4a4ee8['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(-0x2218+0x5e5+0x1c33)),_0x4a4ee8['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x4a4ee8['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x4a4ee8['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x4a4ee8['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x4a4ee8['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x4a4ee8['setDefine']('SH_BANDS',0x205*0x2+-0x1e7*-0xd+-0x1cc2),_0x4a4ee8['setParamet'+'er']('shTexture0',this['shTexture0']),_0x4a4ee8['setParamet'+'er']('shTexture1',this['shTexture1']),_0x4a4ee8['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x4a4ee8['setDefine']('SH_BANDS',-0x12*-0x9f+-0x7*-0x39a+-0x2464),_0x4a4ee8;}['evalTextur'+'eSize'](_0x5bd3f1){const _0x4bdb76=Math['ceil'](Math['sqrt'](_0x5bd3f1)),_0x46f503=Math['ceil'](_0x5bd3f1/_0x4bdb76);return new $(_0x4bdb76,_0x46f503);}['createText'+'ure'](_0x1dd00b,_0x331d94,_0x32003f,_0x5b20b6){return new he(this['device'],{'name':_0x1dd00b,'width':_0x32003f['x'],'height':_0x32003f['y'],'format':_0x331d94,'cubemap':!(0x1df5+0x15ad+-0x33a1),'mipmaps':!(-0x17a0+0x21*-0x107+0x3988*0x1),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x5b20b6?{'levels':[_0x5b20b6]}:{}});}}class F2{constructor(_0x42069e,_0x40b967,_0x718c54){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x42069e,this['splatData']=_0x40b967,this['comments']=_0x718c54);}['destroy'](){var _0x543592;this['device']=null,this['splatData']=null,(_0x543592=this['splat'])==null||_0x543592['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x2f625b,_0x460c7a,_0x4a3658){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x460c7a,this['splatData']['appendGSpl'+'atData'](_0x2f625b,_0x4a3658,_0x460c7a),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x3d0f93={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x3d0f93);const _0x31ae95=new $e(),_0x480016=_0x31ae95['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x31ae95['setLocalEu'+'lerAngles'](0x1e52+-0x24*0xe7+0x22a,-0x3b*-0x59+-0x23f6+0x235*0x7,-0x169d+0x1*0x237+0xe*0x175),_0x480016['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x31ae95;}['createInst'+'ance'](_0x31c8c6={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x208f17=this['createSpla'+'t']();return new Np(_0x208f17,_0x31c8c6);}}const Ug=new Uint8Array([0xf4b+-0x14e1+0x606,-0x4*-0x4ff+0x17d0+-0x2b60,0x8f4+0xc70+-0xf*0x165,0x2573+-0x128+-0x2441*0x1]),Vg=new Uint8Array([0x31*-0x87+-0x1741+-0x1891*-0x2,0x7*0x445+-0x12*0x82+0x145a*-0x1,-0xc40+0x21e4+-0x1536,0xe*-0x4+-0x1c0*0x1+-0x97*-0x4,-0xf6a*0x2+-0xe83*0x1+0x2db6,-0x151*-0x1d+-0xc98+0x5*-0x509,-0x7*-0x505+-0x88f+-0x1a2f,-0xd*-0x11+0x850+-0x1*0x8cc,0x13bd+-0x1*0xf05+-0x454,0x2b*0xe4+-0x24*-0x35+-0x2d5b,0x1b81+-0x19*0xdf+-0x548,-0x13d*0xf+-0x94d*0x2+0x2537]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x2c21bf,_0x530359){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',-0xa*0x335+0x2622+0x308*-0x2),c(this,'tail',-0x365+-0x2428+0x2a3*0xf),(this['reader']=_0x2c21bf,this['progressFu'+'nc']=_0x530359);}async['read'](){var _0x3220d4;const {value:_0x354e0c,done:_0x7c9441}=await this['reader']['read']();if(_0x7c9441)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x354e0c),(_0x3220d4=this['progressFu'+'nc'])==null||_0x3220d4['call'](this,_0x354e0c['byteLength']);}['push'](_0x4f7f91){if(!this['data'])this['data']=_0x4f7f91,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x4f7f91['length'];else{const _0x5e1630=this['tail']-this['head'],_0x2d1ba0=_0x5e1630+_0x4f7f91['length'];if(this['data']['length']>=_0x2d1ba0)this['head']>-0xf05+0x1158+-0x253?(this['data']['copyWithin'](0x18bb+0x2670+0x67*-0x9d,this['head'],this['tail']),this['data']['set'](_0x4f7f91,_0x5e1630),this['head']=-0xc76+0x13*0x1eb+-0x17fb,this['tail']=_0x2d1ba0):(this['data']['set'](_0x4f7f91,this['tail']),this['tail']+=_0x4f7f91['length']);else{const _0x45151e=new Uint8Array(_0x2d1ba0);this['head']>-0x147+0x123*0x11+-0x120c||this['tail']<this['data']['length']?_0x45151e['set'](this['data']['subarray'](this['head'],this['tail']),0x904+0x1*0x120d+-0x1*0x1b11):_0x45151e['set'](this['data'],-0x2130+-0x4a3*-0x1+0x1c8d*0x1),_0x45151e['set'](_0x4f7f91,_0x5e1630),this['data']=_0x45151e,this['view']=new DataView(this['data']['buffer']),this['head']=0x295*0x9+-0xee4+-0x859,this['tail']=_0x2d1ba0;}}}['compact'](){this['head']>-0x20ea*0x1+0x1147+0xfa3&&(this['data']['copyWithin'](0x19d8+0x1*0x39+-0x1*0x1a11,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x2396+0x1*-0xabd+0x2e53);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x38ba3a=this['view']['getInt8'](this['head']);return this['head']++,_0x38ba3a;}['getUint8'](){const _0x230015=this['view']['getUint8'](this['head']);return this['head']++,_0x230015;}['getInt16'](){const _0x20f29f=this['view']['getInt16'](this['head'],!(0x154b*-0x1+0x723*0x1+-0xe28*-0x1));return this['head']+=-0xb92*-0x2+-0x19*-0xc1+-0x3d1*0xb,_0x20f29f;}['getUint16'](){const _0x382ca8=this['view']['getUint16'](this['head'],!(0x7ba+-0x1ba*-0x7+-0x13d0*0x1));return this['head']+=-0x1797+0x1*0x482+0x1317,_0x382ca8;}['getInt32'](){const _0xf13006=this['view']['getInt32'](this['head'],!(0xb9a+0x3*0x8c6+-0x25ec));return this['head']+=0x1041+-0x22b9+0x1a*0xb6,_0xf13006;}['getUint32'](){const _0xb15d16=this['view']['getUint32'](this['head'],!(0xa*0x26f+-0x3d4+0x15e*-0xf));return this['head']+=-0x2358+0x1*-0x938+-0x164a*-0x2,_0xb15d16;}['getFloat32'](){const _0x5d90a9=this['view']['getFloat32'](this['head'],!(-0x1b82+0x538*-0x1+0x20ba));return this['head']+=-0x47f*0x7+0x1*-0x23ad+-0x1*-0x432a,_0x5d90a9;}['getFloat64'](){const _0x5af64f=this['view']['getFloat64'](this['head'],!(-0x1f1+0x1*0x270+0x7f*-0x1));return this['head']+=-0x1062+0x23e3+0x5*-0x3e5,_0x5af64f;}}const k2=_0x1289d0=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x320a43=[],_0x346f81=[];let _0x56cf78;for(let _0x1c389e=-0x7*0x10d+-0xace+0xf*0x136;_0x1c389e<_0x1289d0['length'];++_0x1c389e){const _0x55bb5c=_0x1289d0[_0x1c389e]['split']('\x20');switch(_0x55bb5c[0x29*0x17+-0x338+-0x77]){case'comment':_0x346f81['push'](_0x55bb5c['slice'](-0x3b*0x8b+-0xcf7*-0x1+-0x101*-0x13)['join']('\x20'));break;case'format':_0x56cf78=_0x55bb5c[0x26*-0xe9+-0x3*0x8f5+-0x2*-0x1ebb];break;case'element':_0x320a43['push']({'name':_0x55bb5c[0x1*0x1fbe+-0x2*0x939+-0xd4b],'count':parseInt(_0x55bb5c[0x1a92+0x469*0x1+-0x1ef9],0x8b*0x1b+-0xb*0x2dd+0x360*0x5),'properties':[]});break;case'property':{if(!bf['has'](_0x55bb5c[0x123e+0x10cb*-0x2+0x1*0xf59]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x55bb5c[0x3*0x935+0x4*0x1d8+-0x22fe]+('\x27\x20in\x20ply\x20h'+'eader'));_0x320a43[_0x320a43['length']-(0xad*-0x5+0xcfd+0x1*-0x99b)]['properties']['push']({'type':_0x55bb5c[0x57b*-0x2+0xdb0+-0x2b9],'name':_0x55bb5c[0x9e2+0xcbc*0x2+-0xe8*0x27],'storage':null,'byteSize':bf['get'](_0x55bb5c[0x1*0x19ba+-0x4*-0x123+-0x1e45*0x1])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x55bb5c[-0x1*-0x2ae+0x1*0x115f+-0x140d]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x320a43,'format':_0x56cf78,'comments':_0x346f81};},B2=_0x2af9cb=>{const _0x5b1f66=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x58c1f1=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x5f4824=new Array(-0x12d6*-0x2+-0x170*0x4+0x9*-0x387)['fill']('')['map']((_0x435c7a,_0x13cc52)=>'f_rest_'+_0x13cc52),_0x309120=()=>_0x2af9cb[0xe26+-0x183f+0x5*0x205]['name']==='chunk'&&_0x2af9cb[0x22f6+0x849+-0x2b3f*0x1]['properties']['every']((_0x41800d,_0xa9905)=>_0x41800d['name']===_0x5b1f66[_0xa9905]&&_0x41800d['type']==='float')&&_0x2af9cb[0x1688+0x184*-0x10+0x1b9]['name']==='vertex'&&_0x2af9cb[-0xbe5+0x1*-0x1427+-0x5*-0x669]['properties']['every']((_0xdeaf93,_0x38ea7d)=>_0xdeaf93['name']===_0x58c1f1[_0x38ea7d]&&_0xdeaf93['type']==='uint'),_0x2d35d2=()=>_0x2af9cb[-0x1de0+0x5*-0x4f+0x1f6d*0x1]['name']==='sh'&&[-0x12f2+0x1*0xcec+-0x1*-0x60f,-0x59*-0x2e+0x23*-0x1b+0x7d*-0x19,-0x24a3+0x234e+-0x1*-0x182]['indexOf'](_0x2af9cb[-0x3*-0xc9d+0x1971+-0x1*0x3f46]['properties']['length'])!==-(0x65*0x13+0x1*-0x9+-0x775*0x1)&&_0x2af9cb[-0x6c9+0x1265*0x2+-0x1dff]['properties']['every']((_0x236ebf,_0x4395cb)=>_0x236ebf['name']===_0x5f4824[_0x4395cb]&&_0x236ebf['type']==='uchar');return _0x2af9cb['length']===-0x64*0x51+-0xe36*0x1+0x2ddc&&_0x309120()||_0x2af9cb['length']===-0x25ca+-0x266+0x2833&&_0x309120()&&_0x2d35d2();},N2=_0x3c3b4d=>_0x3c3b4d['length']===-0x1*0x270e+0x243c*0x1+0x2d3&&_0x3c3b4d[0x19a+0x185*0xd+-0x155b]['name']==='vertex'&&_0x3c3b4d[0xee9*0x1+-0x11*-0x28+-0x1191]['properties']['every'](_0x474018=>_0x474018['type']==='float'),z2=async(_0x21b637,_0x1e55c6)=>{const _0x16fb44=new I2(),_0x499c7f=_0x1e55c6[0x2*0x1ee+0x6*0x306+0x160*-0x10]['count'],_0x23e4c3=_0x1e55c6[0x1*-0x202e+-0x1*-0x12bc+-0x6b9*-0x2]['properties']['length'],_0x1915cb=_0x1e55c6[-0x1daf+0x151*-0x5+0x2445]['count'],_0x432329=_0x1e55c6[-0x3df+-0x1*0x19cb+0x1dab]['properties']['some'](_0x4d6263=>_0x4d6263['name']==='packed_tim'+'e'),_0x345f20=_0x1822d7=>{const _0x23cfa0=Math['ceil'](Math['sqrt'](_0x1822d7)),_0x3f1319=Math['ceil'](_0x1822d7/_0x23cfa0);return _0x23cfa0*_0x3f1319;};_0x16fb44['numSplats']=_0x1915cb,_0x16fb44['is4D']=_0x432329,_0x16fb44['chunkData']=new Float32Array(_0x499c7f*_0x23e4c3),_0x16fb44['vertexData']=new Uint32Array(_0x345f20(_0x1915cb)*(-0xf74+-0x19aa+-0x4*-0xa49));const _0x433c60=async(_0x5cca78,_0x36b2ea)=>{const _0x74252=new Uint8Array(_0x5cca78);let _0x3716ee=0x193b+0x26c0+-0x5d1*0xb;for(;_0x3716ee<_0x36b2ea;){for(;_0x21b637['remaining']===0x2024+0xae7+-0x2b0b;)await _0x21b637['read']();const _0x2537a5=Math['min'](_0x36b2ea-_0x3716ee,_0x21b637['remaining']),_0x41a0fd=_0x21b637['data'];for(let _0x4d0f58=-0x1*0x59d+-0x3*0xc3+0x7e6;_0x4d0f58<_0x2537a5;++_0x4d0f58)_0x74252[_0x3716ee++]=_0x41a0fd[_0x21b637['head']++];}};return await _0x433c60(_0x16fb44['chunkData']['buffer'],_0x499c7f*_0x23e4c3*(-0x1*-0x191+-0x1165+0xa9*0x18)),await _0x433c60(_0x16fb44['vertexData']['buffer'],_0x1915cb*(-0xd*-0x1b7+-0x22bd*-0x1+0x3902*-0x1)*(-0x1*0x2287+0x195b+0x18*0x62)),_0x1e55c6['length']===-0x1*0xe9e+-0x24*-0x99+0x6e3*-0x1&&(_0x16fb44['shData']=new Uint8Array(_0x1e55c6[-0x120e+-0xd7*0x27+0x32d1]['count']*_0x1e55c6[-0x10d5+-0x2310+0x33e7]['properties']['length']),await _0x433c60(_0x16fb44['shData']['buffer'],_0x16fb44['shData']['byteLength'])),_0x16fb44;},U2=async(_0x4f1c8c,_0x1e6614)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x2686ad=_0x1e6614[0x2643+0x1*-0x1d68+-0x8db],_0x2289d2=_0x2686ad['properties'],_0x32dcad=_0x2289d2['length'],_0x17c2c4=_0x2289d2['map'](_0x5bcf77=>_0x5bcf77['storage']),_0xc100e=_0x2289d2['reduce']((_0x59aaab,_0x419f3e)=>_0x59aaab+_0x419f3e['byteSize'],0x67*-0x2b+0xee7+-0x266*-0x1);let _0xb720f4=0x258f+0xb71+0xe0*-0x38,_0x49cb9c;const _0x174230=()=>{const _0x59221f=_0x4f1c8c['data']['buffer'];(_0x49cb9c==null?void(0x1523+0x84b+-0x1d6e):_0x49cb9c['buffer'])!==_0x59221f&&(_0x49cb9c=new Float32Array(_0x59221f,0x3bc*-0x9+0x57*-0xa+0x62b*0x6,_0x59221f['byteLength']/(0x1c*0x1c+-0x1*-0x1433+-0xb*0x21d)));};for(_0x174230();_0xb720f4<_0x2686ad['count'];){for(;_0x4f1c8c['remaining']<_0xc100e;)await _0x4f1c8c['read'](),_0x174230();const _0x2df951=Math['min'](_0x2686ad['count']-_0xb720f4,Math['floor'](_0x4f1c8c['remaining']/_0xc100e));for(let _0x3c028b=-0x1df2+-0x5*0x227+0x28b5;_0x3c028b<_0x32dcad;++_0x3c028b){const _0x5cc001=_0x17c2c4[_0x3c028b];for(let _0x29c12a=0x3b8+0x1bc5*-0x1+0x180d;_0x29c12a<_0x2df951;++_0x29c12a)_0x5cc001[_0x29c12a+_0xb720f4]=_0x49cb9c[_0x29c12a*_0x32dcad+_0x3c028b];}_0xb720f4+=_0x2df951,_0x4f1c8c['head']+=_0x2df951*_0xc100e;}return new Ia(_0x1e6614);},V2=async(_0x535baa,_0x1fb710)=>{for(let _0x1768c6=0xb1*-0x35+-0x6a*-0x49+0x1*0x66b;_0x1768c6<_0x1fb710['length'];++_0x1768c6){const _0x152d53=_0x1fb710[_0x1768c6],_0x1132ad=_0x152d53['properties']['reduce']((_0x15f787,_0x428ffe)=>_0x15f787+_0x428ffe['byteSize'],-0x2ce+-0x87*-0x37+-0x1a33),_0x3495d9=_0x152d53['properties']['map'](_0xba7b69=>{if(_0xba7b69['storage'])switch(_0xba7b69['type']){case'char':return(_0x31962b,_0x1f3163)=>{_0xba7b69['storage'][_0x1f3163]=_0x31962b['getInt8']();};case'uchar':return(_0x3a19e8,_0x49337e)=>{_0xba7b69['storage'][_0x49337e]=_0x3a19e8['getUint8']();};case'short':return(_0x24a6f7,_0x2db450)=>{_0xba7b69['storage'][_0x2db450]=_0x24a6f7['getInt16']();};case'ushort':return(_0x2af60f,_0x538165)=>{_0xba7b69['storage'][_0x538165]=_0x2af60f['getUint16']();};case'int':return(_0x204b88,_0x3a1044)=>{_0xba7b69['storage'][_0x3a1044]=_0x204b88['getInt32']();};case'uint':return(_0x348ae3,_0x1a62dc)=>{_0xba7b69['storage'][_0x1a62dc]=_0x348ae3['getUint32']();};case'float':return(_0x1f0010,_0x49ae9a)=>{_0xba7b69['storage'][_0x49ae9a]=_0x1f0010['getFloat32']();};case'double':return(_0x2202ac,_0x24921d)=>{_0xba7b69['storage'][_0x24921d]=_0x2202ac['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0xba7b69['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x4a99fb=>{_0x4a99fb['head']+=_0xba7b69['byteSize'];};});let _0x48475b=-0x2*-0x1025+-0x4be+-0x1b8c;for(;_0x48475b<_0x152d53['count'];){for(;_0x535baa['remaining']<_0x1132ad;)await _0x535baa['read']();const _0x4d3f5c=Math['min'](_0x152d53['count']-_0x48475b,Math['floor'](_0x535baa['remaining']/_0x1132ad));for(let _0xacb755=0x1*0x23b1+0x25f5+0x2*-0x24d3;_0xacb755<_0x4d3f5c;++_0xacb755){for(let _0x522b82=-0x9*0x43a+0x1ce*-0x2+-0xde2*-0x3;_0x522b82<_0x152d53['properties']['length'];++_0x522b82)_0x3495d9[_0x522b82](_0x535baa,_0x48475b);_0x48475b++;}}}return new Ia(_0x1fb710);},G2=async(_0x560aba,_0x4b0c3b=null,_0x498e78=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x55823c=(_0x3c711a,_0xdb5868)=>{const _0x2e1b42=_0x3c711a['length']-_0xdb5868['length'];let _0x1a80c7,_0x2ebefa;for(_0x1a80c7=0x3*-0xce3+-0x15bb+0x3c64;_0x1a80c7<=_0x2e1b42;++_0x1a80c7){for(_0x2ebefa=-0x1f5+0x1501+-0x5c*0x35;_0x2ebefa<_0xdb5868['length']&&_0x3c711a[_0x1a80c7+_0x2ebefa]===_0xdb5868[_0x2ebefa];++_0x2ebefa);if(_0x2ebefa===_0xdb5868['length'])return _0x1a80c7;}return-(-0x1*0xa15+-0x11e1*-0x1+-0x7cb);},_0x33a85e=(_0x15fe04,_0x3a32db)=>{if(_0x15fe04['length']<_0x3a32db['length'])return!(-0x2604+0xbf4+0x1a11);for(let _0xd00642=0x3cb*-0x2+-0x227c+0x1e*0x167;_0xd00642<_0x3a32db['length'];++_0xd00642)if(_0x15fe04[_0xd00642]!==_0x3a32db[_0xd00642])return!(-0x3*-0x7a9+0x8*0x170+-0x227a);return!(0x1*0x1c0a+-0x6d9+-0x1531);},_0x7c33a=new O2(_0x560aba,_0x498e78);let _0x4d157d;for(;;){if(await _0x7c33a['read'](),_0x7c33a['tail']>=Ug['length']&&!_0x33a85e(_0x7c33a['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x4d157d=_0x55823c(_0x7c33a['data'],Vg),_0x4d157d!==-(0x2145+-0x2049+-0xfb))break;}const _0x27e527=new TextDecoder('ascii')['decode'](_0x7c33a['data']['subarray'](-0x3cb+-0x136c+-0x15*-0x11b,_0x4d157d))['split']('\x0a'),{elements:_0x412c8d,format:_0x2f394e,comments:_0x4da0aa}=k2(_0x27e527);if(_0x2f394e!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x7c33a['head']=_0x4d157d+Vg['length'],_0x7c33a['compact'](),{'data':await((async()=>B2(_0x412c8d)?await z2(_0x7c33a,_0x412c8d):(_0x412c8d['forEach'](_0x31a58a=>{_0x31a58a['properties']['forEach'](_0x590bd9=>{const _0x348181=bf['get'](_0x590bd9['type']);if(_0x348181){const _0x43648a=!_0x4b0c3b||_0x4b0c3b(_0x590bd9['name'])?new _0x348181(_0x31a58a['count']):null;_0x590bd9['storage']=_0x43648a;}});}),N2(_0x412c8d)?await U2(_0x7c33a,_0x412c8d):await V2(_0x7c33a,_0x412c8d)))()),'comments':_0x4da0aa};},H2=_0x2e5bd6=>!(0x520*-0x5+-0x3*0x5f8+0x2b88);class $2{constructor(_0xed68f5,_0x6bd48c,_0x495c20){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0xed68f5,this['assets']=_0x6bd48c,this['maxRetries']=_0x495c20,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x57162d,_0x69d579,_0x437e00){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x57162d['load']['includes'](',')?this['urlList']=_0x57162d['load']['split'](','):this['urlList']['push'](_0x57162d['load']);const _0x4c0121=_0x437e00['data']['loadAllSeq']?this['urlList']['length']:0xe8*0x1e+-0x1968+-0x1*0x1c7,_0x37cb25=_0x437e00['data']['timeOption'],_0x28c58c=_0x437e00['data']['events'];for(let _0x5d6f12=-0x246a+0x13b8+0x10b2;_0x5d6f12<_0x4c0121;_0x5d6f12++)await this['loadGsplat'+'Data'](this['urlList'][_0x5d6f12]['trim'](),_0x69d579,_0x437e00,_0x5d6f12,_0x37cb25,_0x28c58c);}async['loadGsplat'+'Data'](_0x2fd350,_0x38e608,_0x7d13b8,_0x474c2e,_0x555ece,_0x42771d){var _0x2df3ea;try{const _0x18ec7e=await fetch(_0x2fd350);if(!_0x18ec7e||!_0x18ec7e['body'])_0x38e608('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x41051c=parseInt(_0x18ec7e['headers']['get']('content-le'+'ngth')??'0',-0x14e2+0x68d*0x5+-0xbd5);let _0x528142=-0x35*-0x91+0x2*0x72f+-0x2c63;const {data:_0x11f113,comments:_0x1de85a}=await G2(_0x18ec7e['body']['getReader'](),_0x7d13b8['data']['elementFil'+'ter']??H2,_0x4662a4=>{_0x528142+=_0x4662a4,_0x7d13b8&&_0x42771d['fire']('progress',_0x528142,_0x41051c);});_0x11f113['isCompress'+'ed']||_0x7d13b8['data']['reorder'],this['gsplatReso'+'urce']&&((_0x2df3ea=this['gsplatReso'+'urce'])!=null&&_0x2df3ea['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x11f113['isCompress'+'ed']&&_0x7d13b8['data']['decompress']?await _0x11f113['decompress']():_0x11f113,_0x555ece,_0x474c2e):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x11f113['isCompress'+'ed']&&_0x7d13b8['data']['decompress']?await _0x11f113['decompress']():_0x11f113,_0x1de85a),this['gsplatReso'+'urce']['timeOption']=_0x555ece,_0x42771d['fire']('progressEn'+'d')),_0x38e608(null,this['gsplatReso'+'urce']);}}catch(_0xb01c4e){_0x38e608(_0xb01c4e,null);}}['open'](_0x1c1f7f,_0x531fca){return _0x531fca;}}class W2 extends Ne{constructor(_0x277ac6){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x277ac6,'gsplat'),this['parser']=new $2(_0x277ac6['graphicsDe'+'vice'],_0x277ac6['assets'],-0x2572+-0x1*-0x905+0x1c70);}['load'](_0x5f207b,_0x27e696,_0xb2c803){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x5f207b=='string'&&(_0x5f207b={'load':_0x5f207b,'original':_0x5f207b}),this['parser']['load'](_0x5f207b,_0x27e696,_0xb2c803);}['open'](_0x44ad20,_0x48deac,_0x14b446){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x44ad20,_0x48deac,_0x14b446);}}class wf{static['setCompres'+'sedPRS'](_0xc1fa12,_0x5c56af,_0x4657b5){const _0x52bde8=_0x4657b5['singleVecs'];let _0x130f8a,_0x4b95f7;const _0x248a5f=_0x5c56af['___1'];_0x248a5f||(_0x130f8a=_0x4657b5['tripleVecs'],_0x4b95f7=_0x5c56af['___2']);let _0x5246e8=_0x248a5f?_0x248a5f[-0x2087+0x1*-0x2593+0x175e*0x3]:_0x130f8a[_0x4b95f7];_0xc1fa12['setLocalPo'+'sition'](_0x52bde8[_0x5246e8],_0x52bde8[_0x5246e8+(0x25e6+0x1aab+0x8*-0x812)],_0x52bde8[_0x5246e8+(-0x1b28*0x1+0x1b53+-0x29)]),_0x5246e8=_0x248a5f?_0x248a5f[0x577*0x1+0x2*-0xbae+-0x1*-0x11e6]:_0x130f8a[_0x4b95f7+(0x137*-0x11+-0x9f5+0x1e9d*0x1)],_0xc1fa12['setLocalEu'+'lerAngles'](_0x52bde8[_0x5246e8],_0x52bde8[_0x5246e8+(-0x1*0x271+0x182*0x1+0xf0)],_0x52bde8[_0x5246e8+(0x1d02+0x547*0x1+0x2a3*-0xd)]),_0x5246e8=_0x248a5f?_0x248a5f[-0x1*-0xb01+0x1*0x3f3+-0xef2]:_0x130f8a[_0x4b95f7+(-0x13ed+0x24be+-0xd*0x14b)],_0xc1fa12['setLocalSc'+'ale'](_0x52bde8[_0x5246e8],_0x52bde8[_0x5246e8+(0xce7+0x1*-0x1141+0x5*0xdf)],_0x52bde8[_0x5246e8+(-0x11ef+-0x13f2+-0x3d*-0x9f)]);}static['oneCharToK'+'ey'](_0x23c106,_0x36b099){const _0x204166=_0x23c106['charCodeAt'](0x6f9+0x2040+0xd13*-0x3)-_0x36b099['fieldFirst'+'Code'];return _0x36b099['fieldArray'][_0x204166];}static['multCharTo'+'Key'](_0x2f607b,_0xa02379){let _0x56597f=-0x265b+-0x253d*-0x1+0x11e;for(let _0x2f6b12=0x91*-0x9+-0x19bc+0x1ed5;_0x2f6b12<_0x2f607b['length'];_0x2f6b12++)_0x56597f=_0x56597f*_0xa02379['fieldCodeB'+'ase']+_0x2f607b['charCodeAt'](_0x2f6b12)-_0xa02379['fieldFirst'+'Code'];return _0xa02379['fieldArray'][_0x56597f];}}class sc{constructor(_0x203f60,_0x544139){this['_node']=_0x203f60,this['_data']=_0x544139;}['run'](){const _0x299bfc=Object['prototype']['toString']['call'](this['_node']);return _0x299bfc==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x299bfc==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x2af98e){let _0x2bb6f5=_0x2af98e;const _0x1ef2e8=_0x2af98e['length'];_0x1ef2e8===0x839*0x1+0x10f8*-0x2+0x337*0x8?_0x2bb6f5=wf['oneCharToK'+'ey'](_0x2af98e,this['_data']):_0x1ef2e8===-0x19b1+0x359*-0x2+0x2065&&(_0x2bb6f5=wf['multCharTo'+'Key'](_0x2af98e,this['_data'])),this['_result'][_0x2bb6f5]=new sc(this['_node'][_0x2af98e],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x5498a5){const _0x434633=new sc(_0x5498a5,this['_data'])['run']();this['_result']['push'](_0x434633);}}class $p{constructor(_0xcae46b,_0x174ca7){this['_app']=_0xcae46b,this['_isTemplat'+'e']=_0x174ca7;}['parse'](_0x270760){const _0x2009e2={};let _0x345a07=null;const _0x30d2c1=_0x270760['compressed'+'Format'];_0x30d2c1&&!_0x270760['entDecompr'+'essed']&&(_0x270760['entDecompr'+'essed']=!(0x1*0x1954+0x21e*0xf+-0x3916),_0x270760['entities']=new sc(_0x270760['entities'],_0x30d2c1)['run']());for(const _0x406e3e in _0x270760['entities']){const _0x4f8634=_0x270760['entities'][_0x406e3e],_0x314f34=this['_createEnt'+'ity'](_0x4f8634,_0x30d2c1);_0x2009e2[_0x406e3e]=_0x314f34,_0x4f8634['parent']===null&&(_0x345a07=_0x314f34);}for(const _0x483366 in _0x270760['entities']){const _0x5310d7=_0x2009e2[_0x483366],_0x4d0e92=_0x270760['entities'][_0x483366]['children'],_0x524679=_0x4d0e92['length'];for(let _0x1c6253=-0x1606+0x15c9+0x3d;_0x1c6253<_0x524679;_0x1c6253++){const _0x336232=_0x2009e2[_0x4d0e92[_0x1c6253]];_0x336232&&_0x5310d7['addChild'](_0x336232);}}return this['_openCompo'+'nentData'](_0x345a07,_0x270760['entities']),_0x345a07;}['_createEnt'+'ity'](_0x21a1be,_0x56c2af){const _0x23ac16=new $e(_0x21a1be['name'],this['_app']);if(_0x23ac16['setGuid'](_0x21a1be['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x23ac16,_0x21a1be,_0x56c2af),_0x23ac16['_enabled']=_0x21a1be['enabled']??!(-0x131c+0x2*-0x99e+0x4*0x996),this['_isTemplat'+'e']?_0x23ac16['_template']=!(-0x38d+-0xfe6+0x1373):_0x23ac16['_enabledIn'+'Hierarchy']=_0x23ac16['_enabled'],_0x23ac16['template']=_0x21a1be['template'],_0x21a1be['tags']){for(let _0x2986f1=-0xfc0+-0x2652+0x3612;_0x2986f1<_0x21a1be['tags']['length'];_0x2986f1++)_0x23ac16['tags']['add'](_0x21a1be['tags'][_0x2986f1]);}return _0x23ac16;}['_setPosRot'+'Scale'](_0x38fd39,_0x1a3f9a,_0x4f8ebf){if(_0x4f8ebf)wf['setCompres'+'sedPRS'](_0x38fd39,_0x1a3f9a,_0x4f8ebf);else{const _0x239872=_0x1a3f9a['position'],_0xd40091=_0x1a3f9a['rotation'],_0x5eb4bc=_0x1a3f9a['scale'];_0x38fd39['setLocalPo'+'sition'](_0x239872[0x1a3e+-0x15ac+0x82*-0x9],_0x239872[-0x1*0xa6b+-0x7bd+0x1229],_0x239872[-0x955*-0x4+-0xc58+-0x18fa]),_0x38fd39['setLocalEu'+'lerAngles'](_0xd40091[-0x77*0x2e+-0xb17*0x2+-0x1*-0x2b90],_0xd40091[0x6bb*-0x4+0x398+0x21f*0xb],_0xd40091[0x47b*-0x1+-0x1ffb+-0x1*-0x2478]),_0x38fd39['setLocalSc'+'ale'](_0x5eb4bc[0x229f*0x1+0x8f1+0x15c8*-0x2],_0x5eb4bc[0x822*0x1+0x4f+-0x3*0x2d0],_0x5eb4bc[-0xe63*-0x1+0x1bcb+-0x2a2c]);}}['_openCompo'+'nentData'](_0xfc52b2,_0xce3475){const _0x42579b=this['_app']['systems']['list'];let _0x3fb1a3=_0x42579b['length'];const _0x4fd71b=_0xce3475[_0xfc52b2['getGuid']()];for(let _0x366e0d=-0x704+0x1df+-0x3*-0x1b7;_0x366e0d<_0x3fb1a3;_0x366e0d++){const _0x22bac8=_0x42579b[_0x366e0d],_0xc8b47d=_0x4fd71b['components'][_0x22bac8['id']];_0xc8b47d&&_0x22bac8['addCompone'+'nt'](_0xfc52b2,_0xc8b47d);}_0x3fb1a3=_0x4fd71b['children']['length'];const _0x1603fa=_0xfc52b2['_children'];for(let _0x315504=-0x1e22+0x308*-0x2+0x2432;_0x315504<_0x3fb1a3;_0x315504++)_0x1603fa[_0x315504]?_0x1603fa[_0x315504]=this['_openCompo'+'nentData'](_0x1603fa[_0x315504],_0xce3475):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0xfc52b2['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0xfc52b2;}}class Lx{static['load'](_0x22be64,_0x488c3b,_0x3a46f5){typeof _0x22be64=='string'&&(_0x22be64={'load':_0x22be64,'original':_0x22be64}),We['get'](_0x22be64['load'],{'retry':_0x488c3b>-0x558+0x26b5+-0x3*0xb1f,'maxRetries':_0x488c3b},(_0x460583,_0x225d05)=>{if(!_0x460583)_0x3a46f5(_0x460583,_0x225d05);else{let _0x58532d='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x22be64['original'];_0x460583['message']?(_0x58532d+=':\x20'+_0x460583['message'],_0x460583['stack']&&(_0x58532d+='\x0a'+_0x460583['stack'])):_0x58532d+=':\x20'+_0x460583,_0x3a46f5(_0x58532d);}});}}class q2 extends Ne{constructor(_0x564268){super(_0x564268,'hierarchy');}['load'](_0x508160,_0x37e111){Lx['load'](_0x508160,this['maxRetries'],_0x37e111);}['open'](_0xc02179,_0x4cb1f2){this['_app']['systems']['script']['preloading']=!(0x2*0x7cd+-0x8ed+-0x6ad*0x1);const _0xd4b144=new $p(this['_app'],!(0x19*0x49+-0x93+-0x81*0xd))['parse'](_0x4cb1f2);return this['_app']['systems']['script']['preloading']=!(0x208b+0x1c*-0x10d+-0x31e),_0xd4b144;}}class X2 extends Ne{constructor(_0x3ace07){super(_0x3ace07,'html'),c(this,'decoder',null);}['load'](_0x3e362d,_0x1b4cff){typeof _0x3e362d=='string'&&(_0x3e362d={'load':_0x3e362d,'original':_0x3e362d}),We['get'](_0x3e362d['load'],{'retry':this['maxRetries']>-0x24dd+0xb4*-0x11+0x1*0x30d1,'maxRetries':this['maxRetries']},(_0x49e9c9,_0x333160)=>{_0x49e9c9?_0x1b4cff('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x3e362d['original']+'\x20['+_0x49e9c9+']'):_0x1b4cff(null,_0x333160);});}['openBinary'](_0x37c2e5){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x37c2e5);}}class j2 extends Ne{constructor(_0x3c8ae9){super(_0x3c8ae9,'json'),c(this,'decoder',null);}['load'](_0x33793e,_0x245b1a){typeof _0x33793e=='string'&&(_0x33793e={'load':_0x33793e,'original':_0x33793e});const _0x33e865={'retry':this['maxRetries']>0x9*-0x23c+-0x2063+0x347f,'maxRetries':this['maxRetries']};_0x33793e['load']['startsWith']('blob:')&&(_0x33e865['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x33793e['load'],_0x33e865,(_0x159fe9,_0x420208)=>{_0x159fe9?_0x245b1a('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x33793e['original']+'\x20['+_0x159fe9+']'):_0x245b1a(null,_0x420208);});}['openBinary'](_0x40daa1){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x40daa1));}}class Y2{constructor(){this['removeInva'+'lid']=!(0x4db+0x67a*-0x5+-0x51*-0x57),this['valid']=!(-0xb7+0x2043+-0x1f8c),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x1adc18,_0x14fda2){this['valid']=!(-0x1*-0x134f+-0x258d*0x1+-0x1b*-0xad),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x1adc18,_0x14fda2[_0x1adc18]),this['removeInva'+'lid']&&delete _0x14fda2[_0x1adc18];}['validate'](_0x48d0cc){const _0x14914e=Pa,_0x21212a=QC,_0xfcec8f=_0x48d0cc['mappingFor'+'mat']==='path';for(const _0x15b326 in _0x48d0cc){const _0x3c33b1=_0x14914e[_0x15b326];if(!_0x3c33b1){_0x21212a[_0x15b326]?delete _0x48d0cc[_0x15b326]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x15b326),this['valid']=!(0xdaf*-0x2+-0x6*0x4+0x1b77));continue;}if(_0x3c33b1['startsWith']('enum')){const _0x57ee4c=_0x3c33b1['split'](':')[0x2d1*-0x1+-0x4ef+-0x5*-0x18d];this['enumValida'+'tors'][_0x57ee4c]&&(this['enumValida'+'tors'][_0x57ee4c](_0x48d0cc[_0x15b326])||this['setInvalid'](_0x15b326,_0x48d0cc));}else{if(_0x3c33b1==='number')typeof _0x48d0cc[_0x15b326]!='number'&&this['setInvalid'](_0x15b326,_0x48d0cc);else{if(_0x3c33b1==='boolean')typeof _0x48d0cc[_0x15b326]!='boolean'&&this['setInvalid'](_0x15b326,_0x48d0cc);else{if(_0x3c33b1==='string')typeof _0x48d0cc[_0x15b326]!='string'&&this['setInvalid'](_0x15b326,_0x48d0cc);else{if(_0x3c33b1==='vec2')_0x48d0cc[_0x15b326]instanceof Array&&_0x48d0cc[_0x15b326]['length']===-0x1ef6+-0x1*0x1deb+0x3ce3||this['setInvalid'](_0x15b326,_0x48d0cc);else{if(_0x3c33b1==='rgb')_0x48d0cc[_0x15b326]instanceof Array&&_0x48d0cc[_0x15b326]['length']===0x3*-0x91a+0xb2*-0x19+0x1*0x2cb3||this['setInvalid'](_0x15b326,_0x48d0cc);else{if(_0x3c33b1==='texture')_0xfcec8f?typeof _0x48d0cc[_0x15b326]=='string'||_0x48d0cc[_0x15b326]===null||_0x48d0cc[_0x15b326]instanceof he||this['setInvalid'](_0x15b326,_0x48d0cc):typeof _0x48d0cc[_0x15b326]=='number'||_0x48d0cc[_0x15b326]===null||_0x48d0cc[_0x15b326]instanceof he||this['setInvalid'](_0x15b326,_0x48d0cc);else{if(_0x3c33b1==='boundingbo'+'x')_0x48d0cc[_0x15b326]['center']&&_0x48d0cc[_0x15b326]['center']instanceof Array&&_0x48d0cc[_0x15b326]['center']['length']===-0x407*0x4+-0x1465*-0x1+0x1*-0x446||this['setInvalid'](_0x15b326,_0x48d0cc),_0x48d0cc[_0x15b326]['halfExtent'+'s']&&_0x48d0cc[_0x15b326]['halfExtent'+'s']instanceof Array&&_0x48d0cc[_0x15b326]['halfExtent'+'s']['length']===0xdf*0x23+0x1adf+-0x3959||this['setInvalid'](_0x15b326,_0x48d0cc);else{if(_0x3c33b1==='cubemap')typeof _0x48d0cc[_0x15b326]=='number'||_0x48d0cc[_0x15b326]===null||_0x48d0cc[_0x15b326]===void(0x22c1+-0x102f+-0x949*0x2)||_0x48d0cc[_0x15b326]instanceof he&&_0x48d0cc[_0x15b326]['cubemap']||this['setInvalid'](_0x15b326,_0x48d0cc);else{if(_0x3c33b1==='chunks'){const _0x153a80=Object['keys'](_0x48d0cc[_0x15b326]);for(let _0x23062f=0x2c9*-0xd+0x19c0+0xa75;_0x23062f<_0x153a80['length'];_0x23062f++)typeof _0x48d0cc[_0x15b326][_0x153a80[_0x23062f]]!='string'&&this['setInvalid'](_0x153a80[_0x23062f],_0x48d0cc[_0x15b326]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x3c33b1);}}}}}}}}}}return _0x48d0cc['validated']=!(0x1*0x16d3+0x18df+0x7f3*-0x6),this['valid'];}['_createEnu'+'mValidator'](_0x27f940){return function(_0x2113e2){return _0x27f940['indexOf'](_0x2113e2)>=0x2e2*-0x5+-0xfac+0x1*0x1e16;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x462da6){const _0x47c589=this['migrate'](_0x462da6),_0x10107a=this['_validate'](_0x47c589),_0x51fea5=new cs();return this['initialize'](_0x51fea5,_0x10107a),_0x51fea5;}['initialize'](_0x312e1f,_0x26b6e5){_0x26b6e5['validated']||(_0x26b6e5=this['_validate'](_0x26b6e5)),_0x26b6e5['chunks']&&(_0x312e1f['chunks']={..._0x26b6e5['chunks']});for(const _0x1460ba in _0x26b6e5){const _0xcf6415=Pa[_0x1460ba],_0x2818e8=_0x26b6e5[_0x1460ba];if(_0xcf6415==='vec2')_0x312e1f[_0x1460ba]=new $(_0x2818e8[0x1*-0x1263+0x1*-0x17aa+0x2a0d],_0x2818e8[0x25a3*-0x1+-0x1*-0x1981+0xc23]);else{if(_0xcf6415==='rgb')_0x312e1f[_0x1460ba]=new j(_0x2818e8[-0x30*-0xbc+0x144d+-0x378d],_0x2818e8[-0x1c36+-0x1e39+0x3a70],_0x2818e8[-0x33b*0xb+0x7*0x3e3+0x856]);else{if(_0xcf6415==='texture')_0x2818e8 instanceof he?_0x312e1f[_0x1460ba]=_0x2818e8:_0x312e1f[_0x1460ba]instanceof he&&typeof _0x2818e8=='number'&&_0x2818e8>-0x1f2a+0x7f2*0x4+-0x9e||(_0x312e1f[_0x1460ba]=null);else{if(_0xcf6415==='cubemap')_0x2818e8 instanceof he?_0x312e1f[_0x1460ba]=_0x2818e8:_0x312e1f[_0x1460ba]instanceof he&&typeof _0x2818e8=='number'&&_0x2818e8>-0x1*0x22f2+0x1*-0x5ab+0x289d*0x1||(_0x312e1f[_0x1460ba]=null),_0x1460ba==='cubeMap'&&!_0x2818e8&&(_0x312e1f['prefiltere'+'dCubemaps']=null);else{if(_0xcf6415==='boundingbo'+'x'){const _0x250f57=new T(_0x2818e8['center'][-0x230*-0x10+-0x1*-0x10fa+0x1*-0x33fa],_0x2818e8['center'][-0x13df+-0xad6+-0x2*-0xf5b],_0x2818e8['center'][0x1*-0x2e4+-0x1aee+0x1dd4]),_0x438f6e=new T(_0x2818e8['halfExtent'+'s'][0x1*0x6d1+0x22da+-0x29ab],_0x2818e8['halfExtent'+'s'][0x1a14+0x1c9f+0x1*-0x36b2],_0x2818e8['halfExtent'+'s'][0x17d0+-0x801+0xfcd*-0x1]);_0x312e1f[_0x1460ba]=new _e(_0x250f57,_0x438f6e);}else _0x312e1f[_0x1460ba]=_0x26b6e5[_0x1460ba];}}}}}_0x312e1f['update']();}['migrate'](_0x3b0ccd){_0x3b0ccd['shader']&&delete _0x3b0ccd['shader'],_0x3b0ccd['mapping_fo'+'rmat']&&(_0x3b0ccd['mappingFor'+'mat']=_0x3b0ccd['mapping_fo'+'rmat'],delete _0x3b0ccd['mapping_fo'+'rmat']);let _0x5c269a;const _0x155867=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x5c269a=0x1*-0x51b+0x108b+-0xb70;_0x5c269a<_0x155867['length'];_0x5c269a++){const _0x54360c=_0x155867[_0x5c269a][-0xf*-0xec+0x20fd+-0x2ed1],_0x591112=_0x155867[_0x5c269a][0x1fb9*0x1+0x86*-0x16+-0x1434];_0x3b0ccd[_0x54360c]!==void(0x2b8+-0x13*-0xad+-0x7*0x239)&&(_0x3b0ccd[_0x591112]===void(0x2622*-0x1+0x1f46+-0x1*-0x6dc)&&(_0x3b0ccd[_0x591112]=_0x3b0ccd[_0x54360c]),delete _0x3b0ccd[_0x54360c]);}const _0x2d43e0=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x5c269a=0x1393*-0x1+-0x287*-0xe+-0xfcf;_0x5c269a<_0x2d43e0['length'];_0x5c269a++){const _0x3766d8=_0x2d43e0[_0x5c269a];_0x3b0ccd['hasOwnProp'+'erty'](_0x3766d8)&&delete _0x3b0ccd[_0x3766d8];}return _0x3b0ccd;}['_validate'](_0x338b9a){return _0x338b9a['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x338b9a)),_0x338b9a;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x93c22c){super(_0x93c22c,'material'),this['_assets']=_0x93c22c['assets'],this['_device']=_0x93c22c['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x34dd96,_0x3a4d26){typeof _0x34dd96=='string'&&(_0x34dd96={'load':_0x34dd96,'original':_0x34dd96}),We['get'](_0x34dd96['load'],{'retry':this['maxRetries']>-0x20fc+0x26fb+-0x1*0x5ff,'maxRetries':this['maxRetries']},(_0x22917e,_0x215e1f)=>{_0x22917e?_0x3a4d26&&_0x3a4d26('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x34dd96['original']+'\x20['+_0x22917e+']'):_0x3a4d26&&(_0x215e1f['_engine']=!(-0x2*-0x72f+0x242d+-0x2a9*0x13),_0x3a4d26(null,_0x215e1f));});}['open'](_0x1c00d6,_0x4f83c3){const _0x5c256a=this['_parser']['parse'](_0x4f83c3);return _0x4f83c3['_engine']&&(_0x5c256a['_data']=_0x4f83c3,delete _0x4f83c3['_engine']),_0x5c256a;}['patch'](_0x6d0f57,_0x273901){_0x6d0f57['resource']['_data']&&(_0x6d0f57['_data']=_0x6d0f57['resource']['_data'],delete _0x6d0f57['resource']['_data']),_0x6d0f57['data']['name']=_0x6d0f57['name'],_0x6d0f57['resource']['name']=_0x6d0f57['name'],this['_bindAndAs'+'signAssets'](_0x6d0f57,_0x273901),_0x6d0f57['off']('unload',this['_onAssetUn'+'load'],this),_0x6d0f57['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x5a1b69){delete _0x5a1b69['data']['parameters'],delete _0x5a1b69['data']['chunks'],delete _0x5a1b69['data']['name'];}['_assignTex'+'ture'](_0xfbf176,_0x570b63,_0x5b044a){_0x570b63['resource'][_0xfbf176]=_0x5b044a;}['_getPlaceh'+'olderTextu'+'re'](_0x329373){const _0x256755=Z2[_0x329373];return v['assert'](_0x256755,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x329373),en(this['_device'],_0x256755);}['_assignPla'+'ceholderTe'+'xture'](_0x219a41,_0x10aef1){_0x10aef1['resource'][_0x219a41]=this['_getPlaceh'+'olderTextu'+'re'](_0x219a41);}['_onTexture'+'Load'](_0x7015ca,_0x33e00a,_0x171e94){this['_assignTex'+'ture'](_0x7015ca,_0x33e00a,_0x171e94['resource']),_0x33e00a['resource']['update']();}['_onTexture'+'Add'](_0x3795b5,_0x3afc20,_0x5361cd){this['_assets']['load'](_0x5361cd);}['_onTexture'+'RemoveOrUn'+'load'](_0x238d56,_0x4fc1a2,_0x209c0a){const _0x462e4b=_0x4fc1a2['resource'];_0x462e4b&&_0x4fc1a2['resource'][_0x238d56]===_0x209c0a['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x238d56,_0x4fc1a2),_0x462e4b['update']());}['_assignCub'+'emap'](_0x107d03,_0x5a5b09,_0x22f81a){if(_0x5a5b09['resource'][_0x107d03]=_0x22f81a[-0x10aa+0x1bd*0x5+0x7f9],_0x107d03==='cubeMap'){const _0x3b9a62=_0x22f81a['slice'](-0x1637+-0x31*-0x95+-0x64d);_0x3b9a62['every'](_0x3ae803=>_0x3ae803)?_0x5a5b09['resource']['prefiltere'+'dCubemaps']=_0x3b9a62:_0x3b9a62[-0xf75+0x268c*-0x1+0x5*0xacd]&&(_0x5a5b09['resource']['envAtlas']=_0x3b9a62[0x2*0x133+-0x16*-0xf5+0x26*-0x9e]);}}['_onCubemap'+'Load'](_0x1c0bd8,_0x400325,_0x3c943e){this['_assignCub'+'emap'](_0x1c0bd8,_0x400325,_0x3c943e['resources']),this['_parser']['initialize'](_0x400325['resource'],_0x400325['data']);}['_onCubemap'+'Add'](_0x38d63a,_0x3cd6c2,_0x54fe4e){this['_assets']['load'](_0x54fe4e);}['_onCubemap'+'RemoveOrUn'+'load'](_0xbaa611,_0x571107,_0x765453){const _0x5666fd=_0x571107['resource'];_0x571107['data']['prefiltere'+'dCubeMap12'+'8']===_0x765453['resources'][-0x189*-0x9+-0x2*0x1332+0x1894]&&(this['_assignCub'+'emap'](_0xbaa611,_0x571107,[null,null,null,null,null,null,null]),_0x5666fd['update']());}['_bindAndAs'+'signAssets'](_0x28734a,_0x5b709c){const _0x3b374f=this['_parser']['migrate'](_0x28734a['data']),_0x42f418=_0x28734a['resource'],_0x1b19ed=_0x3b374f['mappingFor'+'mat']==='path',_0x6534fa=Kc;let _0x40f61a,_0x35de3d,_0x6b2c36;for(_0x40f61a=0x1eac+-0x1e13+-0x9*0x11;_0x40f61a<_0x6534fa['length'];_0x40f61a++){_0x35de3d=_0x6534fa[_0x40f61a],_0x6b2c36=_0x42f418['_assetRefe'+'rences'][_0x35de3d];const _0x4e03f7=_0x3b374f[_0x35de3d],_0x41ef81=_0x42f418[_0x35de3d],_0x5cbda6=_0x41ef81===this['_getPlaceh'+'olderTextu'+'re'](_0x35de3d),_0x39a0af=_0x3b374f['validated'];_0x4e03f7&&(!_0x41ef81||!_0x39a0af||_0x5cbda6)?(_0x6b2c36||(_0x6b2c36=new Go(_0x35de3d,_0x28734a,_0x5b709c,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x42f418['_assetRefe'+'rences'][_0x35de3d]=_0x6b2c36),_0x1b19ed?_0x6b2c36['url']=_0x28734a['getAbsolut'+'eUrl'](_0x4e03f7):_0x6b2c36['id']=_0x4e03f7,_0x6b2c36['asset']&&(_0x6b2c36['asset']['resource']?this['_assignTex'+'ture'](_0x35de3d,_0x28734a,_0x6b2c36['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x35de3d,_0x28734a),_0x5b709c['load'](_0x6b2c36['asset']))):_0x6b2c36&&(_0x1b19ed?_0x6b2c36['url']=null:_0x6b2c36['id']=null);}const _0x13d0ef=Fp;for(_0x40f61a=0x1cab*0x1+0x6cd+-0x2378;_0x40f61a<_0x13d0ef['length'];_0x40f61a++)_0x35de3d=_0x13d0ef[_0x40f61a],_0x6b2c36=_0x42f418['_assetRefe'+'rences'][_0x35de3d],_0x3b374f[_0x35de3d]&&!_0x28734a['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x6b2c36||(_0x6b2c36=new Go(_0x35de3d,_0x28734a,_0x5b709c,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x42f418['_assetRefe'+'rences'][_0x35de3d]=_0x6b2c36),_0x1b19ed?_0x6b2c36['url']=_0x3b374f[_0x35de3d]:_0x6b2c36['id']=_0x3b374f[_0x35de3d],_0x6b2c36['asset']&&(_0x6b2c36['asset']['loaded']&&this['_assignCub'+'emap'](_0x35de3d,_0x28734a,_0x6b2c36['asset']['resources']),_0x5b709c['load'](_0x6b2c36['asset'])));this['_parser']['initialize'](_0x42f418,_0x3b374f);}}class J2{constructor(_0x30c5fe){this['_device']=_0x30c5fe['device'],this['_defaultMa'+'terial']=_0x30c5fe['defaultMat'+'erial'],this['_assets']=_0x30c5fe['assets'];}['parse'](_0x257317,_0x180df4,_0x2cede9){tc['parse']('filename.g'+'lb','',_0x257317,this['_device'],this['_assets'],(_0x2cede9==null?void(0x13a*0x1+-0xa1*0x1+-0x99):_0x2cede9['options'])??{},(_0x236f15,_0x26ea63)=>{if(_0x236f15)_0x180df4(_0x236f15);else{const _0x5e6a17=tr['createMode'+'l'](_0x26ea63,this['_defaultMa'+'terial']);_0x26ea63['destroy'](),_0x180df4(null,_0x5e6a17);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x3c4f39){this['_device']=_0x3c4f39['device'],this['_defaultMa'+'terial']=_0x3c4f39['defaultMat'+'erial'];}['parse'](_0x164669,_0x118b2c){const _0x3df30e=_0x164669['model'];if(!_0x3df30e){_0x118b2c(null,null);return;}if(_0x3df30e['version']<=-0xdf8+-0x14e*-0x1+0xcab){_0x118b2c('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x4c90da=this['_parseNode'+'s'](_0x164669),_0x2c4352=this['_parseSkin'+'s'](_0x164669,_0x4c90da),_0x4cff5d=this['_parseVert'+'exBuffers'](_0x164669),_0xdebc57=this['_parseInde'+'xBuffers'](_0x164669,_0x4cff5d),_0x4c9dcd=this['_parseMorp'+'hs'](_0x164669,_0x4c90da,_0x4cff5d),_0x194587=this['_parseMesh'+'es'](_0x164669,_0x2c4352['skins'],_0x4c9dcd['morphs'],_0x4cff5d,_0xdebc57['buffer'],_0xdebc57['data']),_0x391f3a=this['_parseMesh'+'Instances'](_0x164669,_0x4c90da,_0x194587,_0x2c4352['skins'],_0x2c4352['instances'],_0x4c9dcd['morphs'],_0x4c9dcd['instances']),_0x16f862=new Oi();_0x16f862['graph']=_0x4c90da[-0x2ea*-0x1+-0xbfe+0x48a*0x2],_0x16f862['meshInstan'+'ces']=_0x391f3a,_0x16f862['skinInstan'+'ces']=_0x2c4352['instances'],_0x16f862['morphInsta'+'nces']=_0x4c9dcd['instances'],_0x16f862['getGraph']()['syncHierar'+'chy'](),_0x118b2c(null,_0x16f862);}['_parseNode'+'s'](_0x49ec9b){const _0x38429f=_0x49ec9b['model'],_0x3bda7e=[];let _0x4ceab2;for(_0x4ceab2=-0x56b*0x3+0x1b96*0x1+-0xb55;_0x4ceab2<_0x38429f['nodes']['length'];_0x4ceab2++){const _0x23040b=_0x38429f['nodes'][_0x4ceab2],_0x2053e9=new De(_0x23040b['name']);_0x2053e9['setLocalPo'+'sition'](_0x23040b['position'][-0x921+-0xc0e+-0xbb*-0x1d],_0x23040b['position'][0x16*-0x77+0x150a+-0xacf*0x1],_0x23040b['position'][-0x202*-0x1+0x5*-0x1af+-0x35*-0x1f]),_0x2053e9['setLocalEu'+'lerAngles'](_0x23040b['rotation'][0x1*0xb23+0x1*0x5bd+-0x10e0],_0x23040b['rotation'][0x5*0x6aa+-0x3*-0x45a+-0x2e5f],_0x23040b['rotation'][-0x261a+0xcb*-0x21+0xf*0x449]),_0x2053e9['setLocalSc'+'ale'](_0x23040b['scale'][-0x2473+0x1c7e+0x7f5],_0x23040b['scale'][-0x1a*0x98+-0x210d*-0x1+-0x2*0x8ce],_0x23040b['scale'][-0x2*0x10f6+0x11f+0x25*0xe3]),_0x2053e9['scaleCompe'+'nsation']=!!_0x23040b['scaleCompe'+'nsation'],_0x3bda7e['push'](_0x2053e9);}for(_0x4ceab2=-0x7*-0x11+0x585+-0x5fb;_0x4ceab2<_0x38429f['parents']['length'];_0x4ceab2++)_0x3bda7e[_0x38429f['parents'][_0x4ceab2]]['addChild'](_0x3bda7e[_0x4ceab2]);return _0x3bda7e;}['_parseSkin'+'s'](_0x179ef4,_0x571bf3){const _0x6b0818=_0x179ef4['model'],_0x3a5873=[],_0x243232=[];let _0x117d46,_0x2eccfa;for(_0x117d46=0x43*0x83+-0x1ae*-0xf+0x3b7b*-0x1;_0x117d46<_0x6b0818['skins']['length'];_0x117d46++){const _0x15db81=_0x6b0818['skins'][_0x117d46],_0x3e7e18=[];for(_0x2eccfa=0x155f+-0xd41+0x1*-0x81e;_0x2eccfa<_0x15db81['inverseBin'+'dMatrices']['length'];_0x2eccfa++){const _0x1b77a4=_0x15db81['inverseBin'+'dMatrices'][_0x2eccfa];_0x3e7e18[_0x2eccfa]=new q()['set'](_0x1b77a4);}const _0xf1695d=new N0(this['_device'],_0x3e7e18,_0x15db81['boneNames']);_0x3a5873['push'](_0xf1695d);const _0x5218dc=new nl(_0xf1695d),_0x27f8e7=[];for(_0x2eccfa=-0x2*-0x394+0xa93+-0x11bb;_0x2eccfa<_0xf1695d['boneNames']['length'];_0x2eccfa++){const _0x266d4b=_0xf1695d['boneNames'][_0x2eccfa],_0x403de4=_0x571bf3[0x1370+-0xe27*-0x1+0x2197*-0x1]['findByName'](_0x266d4b);_0x27f8e7['push'](_0x403de4);}_0x5218dc['bones']=_0x27f8e7,_0x243232['push'](_0x5218dc);}return{'skins':_0x3a5873,'instances':_0x243232};}['_getMorphV'+'ertexCount'](_0x5dc72a,_0x389549,_0x39c193){for(let _0x3f9aef=0xb86+0xbe2+-0x38*0x6b;_0x3f9aef<_0x5dc72a['meshes']['length'];_0x3f9aef++){const _0x443136=_0x5dc72a['meshes'][_0x3f9aef];if(_0x443136['morph']===_0x389549)return _0x39c193[_0x443136['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x1e8cf9,_0x4ce455,_0x148f27){const _0x560657=_0x1e8cf9['model'],_0x454fa2=[],_0xb84f6f=[];let _0x544720,_0x2be646,_0x58cec5,_0x38fdb7,_0x2a3ca2,_0x56b4f3;if(_0x560657['morphs']){const _0x5e06c5=function(_0x3c41a3,_0x5ec536,_0x145e63){const _0x53fdec=new Float32Array(_0x145e63*(0x232b+-0x1e3c+0x5a*-0xe));for(let _0x4dd6d7=-0x1b26+-0x1bb2+-0xea*-0x3c;_0x4dd6d7<_0x5ec536['length'];_0x4dd6d7++){const _0x5a635e=_0x5ec536[_0x4dd6d7]*(0x1c5f+-0xbdb+-0x1081);_0x53fdec[_0x5a635e]=_0x3c41a3[_0x4dd6d7*(0x1757*-0x1+-0xa9a+0x4*0x87d)],_0x53fdec[_0x5a635e+(0x17*-0x7f+-0x11a8+0x2*0xe89)]=_0x3c41a3[_0x4dd6d7*(-0x24e7+0x16c*0x17+0x436)+(0xf3c+0x270*-0x4+-0x57b)],_0x53fdec[_0x5a635e+(0x25df+-0x1b*0x14b+-0x2f4)]=_0x3c41a3[_0x4dd6d7*(0x1*-0xad9+-0x1*0xe3b+-0x85d*-0x3)+(-0x4*-0x857+0x21ac*-0x1+0x52)];}return _0x53fdec;};for(_0x544720=0x235d+0x9*-0x1e4+-0x29f*0x7;_0x544720<_0x560657['morphs']['length'];_0x544720++){for(_0x38fdb7=_0x560657['morphs'][_0x544720]['targets'],_0x56b4f3=[],_0x58cec5=this['_getMorphV'+'ertexCount'](_0x560657,_0x544720,_0x148f27),_0x2be646=0xd99+0x29b*0x1+0x40d*-0x4;_0x2be646<_0x38fdb7['length'];_0x2be646++){const _0x489df7=_0x38fdb7[_0x2be646]['aabb'],_0x5e90ff=_0x489df7['min'],_0x43f7df=_0x489df7['max'],_0x36409e=new _e(new T((_0x43f7df[-0xc84+0x2*-0xe9+0xe56]+_0x5e90ff[0xbd*-0xb+0xf31*0x1+-0x712])*(0x1*-0x1c37+0xc96+-0xfa1*-0x1+0.5),(_0x43f7df[0x91b*0x1+-0xb*0x170+-0x6b6*-0x1]+_0x5e90ff[0x3*-0xcf4+-0x74e+-0x35*-0xdf])*(-0x1*0x1ecb+-0x1094*0x2+0x3ff3+0.5),(_0x43f7df[-0x11b6+-0x1cdf+0x2e97]+_0x5e90ff[0x220+-0x61f*-0x1+-0x83d*0x1])*(0x20ca+0x1*-0xd21+-0x13a9+0.5)),new T((_0x43f7df[0x1*0x2ef+0x23c9+0x6*-0x674]-_0x5e90ff[0x8f5+-0x13*0x15f+-0x88c*-0x2])*(0x6b*0x56+-0x1*0x2579+0x187*0x1+0.5),(_0x43f7df[-0x1db4+0x2*-0x164+0x207d*0x1]-_0x5e90ff[-0x235d*0x1+0x2103+0x25b])*(0x15a8+0x1a9*-0xd+-0x13+0.5),(_0x43f7df[-0xa9+0x24*0x2a+-0x53d]-_0x5e90ff[0xe32+-0xb3b+0x2f5*-0x1])*(0x1*0x1e8d+0x176d*0x1+0x93*-0x5e+0.5))),_0x1a2911=_0x38fdb7[_0x2be646]['indices'];let _0x1fa313=_0x38fdb7[_0x2be646]['deltaPosit'+'ions'],_0x3ad35b=_0x38fdb7[_0x2be646]['deltaNorma'+'ls'];_0x1a2911&&(_0x1fa313=_0x5e06c5(_0x1fa313,_0x1a2911,_0x58cec5),_0x3ad35b=_0x5e06c5(_0x3ad35b,_0x1a2911,_0x58cec5)),_0x2a3ca2=new Qc({'deltaPositions':_0x1fa313,'deltaNormals':_0x3ad35b,'name':_0x38fdb7[_0x2be646]['name'],'aabb':_0x36409e}),_0x56b4f3['push'](_0x2a3ca2);}const _0x310499=new F0(_0x56b4f3,this['_device']);_0x454fa2['push'](_0x310499);const _0x117e6b=new fn(_0x310499);_0xb84f6f['push'](_0x117e6b);}}return{'morphs':_0x454fa2,'instances':_0xb84f6f};}['_parseVert'+'exBuffers'](_0x222b40){const _0x217f14=_0x222b40['model'],_0xfb9c30=[],_0x568fde={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x3abb78=-0x1d4a+0x2*-0x52f+0x234*0x12;_0x3abb78<_0x217f14['vertices']['length'];_0x3abb78++){const _0x5adff2=_0x217f14['vertices'][_0x3abb78],_0x1e70a3=[];for(const _0x4d48ce in _0x5adff2){const _0x409423=_0x5adff2[_0x4d48ce];_0x1e70a3['push']({'semantic':_0x568fde[_0x4d48ce],'components':_0x409423['components'],'type':tL[_0x409423['type']],'normalize':_0x568fde[_0x4d48ce]===At});}const _0x22d49a=new Et(this['_device'],_0x1e70a3),_0x4bdaff=_0x5adff2['position']['data']['length']/_0x5adff2['position']['components'],_0x58d6b7=new os(this['_device'],_0x22d49a,_0x4bdaff),_0x34babd=new go(_0x58d6b7);for(let _0x471089=0xedd+-0x2*0x38f+0x295*-0x3;_0x471089<_0x4bdaff;_0x471089++){for(const _0x39b8c3 in _0x5adff2){const _0x5d933d=_0x5adff2[_0x39b8c3];switch(_0x5d933d['components']){case-0xb21+-0x19ee*-0x1+-0xecc:_0x34babd['element'][_0x568fde[_0x39b8c3]]['set'](_0x5d933d['data'][_0x471089]);break;case 0x282+0x2*-0x72e+0xbdc:_0x34babd['element'][_0x568fde[_0x39b8c3]]['set'](_0x5d933d['data'][_0x471089*(-0x9f*-0xc+0x3b*0x57+-0x1b7f)],-0x2*0xc55+0x2437*-0x1+-0x3ce2*-0x1-_0x5d933d['data'][_0x471089*(0x1*-0x42d+-0x26c0+0x2aef)+(0x1bd+0x1915*-0x1+0x1759)]);break;case 0x27*-0xe8+0x1379+0xfe2:_0x34babd['element'][_0x568fde[_0x39b8c3]]['set'](_0x5d933d['data'][_0x471089*(-0x183+-0xc34+0xdba)],_0x5d933d['data'][_0x471089*(-0x233*0x1+-0x1*-0x17df+-0x15a9)+(-0x3*-0x89c+-0x1d*0x85+-0x1*0xac2)],_0x5d933d['data'][_0x471089*(-0x438+0x15b2+-0x1177)+(0x1a1a+0x8*0xba+-0x1fe8)]);break;case-0x608+-0x200c+0x6a*0x5c:_0x34babd['element'][_0x568fde[_0x39b8c3]]['set'](_0x5d933d['data'][_0x471089*(0x160e+0x2311*-0x1+-0x91*-0x17)],_0x5d933d['data'][_0x471089*(0x1*0x1d69+0x2*0x36a+-0x2439)+(-0x1b1b+-0x2353*0x1+0x3e6f)],_0x5d933d['data'][_0x471089*(0xe4b*-0x1+-0x3f7*0x3+-0x2*-0xd1a)+(-0x90*-0x2b+-0x2267*0x1+0xa39)],_0x5d933d['data'][_0x471089*(-0xe2c+0x1012+-0x1e2)+(0x24*0x1c+0xd87+-0x1*0x1174)]);break;}}_0x34babd['next']();}_0x34babd['end'](),_0xfb9c30['push'](_0x58d6b7);}return _0xfb9c30;}['_parseInde'+'xBuffers'](_0x303595,_0x29f166){const _0x2ba1dd=_0x303595['model'];let _0x1716ed=null,_0x420aa6=null,_0x2b5283,_0x50bf3c=0x1*0xbe6+0x1*0x1401+0x1*-0x1fe7;for(_0x2b5283=0x604+0x22be+-0x28c2;_0x2b5283<_0x2ba1dd['meshes']['length'];_0x2b5283++){const _0x5d36e9=_0x2ba1dd['meshes'][_0x2b5283];_0x5d36e9['indices']!==void(0x53*-0x6f+-0xc8f*-0x2+0xadf)&&(_0x50bf3c+=_0x5d36e9['indices']['length']);}let _0x49b815=-0xa39*-0x1+-0x187c*0x1+0xe43;for(_0x2b5283=0x5e+0x22f2+-0xe2*0x28;_0x2b5283<_0x29f166['length'];_0x2b5283++)_0x49b815=Math['max'](_0x49b815,_0x29f166[_0x2b5283]['numVertice'+'s']);return _0x50bf3c>-0x1*0xe33+0x1b7*0x5+0x60*0xf&&(_0x49b815>-0xb766+0xc9d4+0xed91?(_0x1716ed=new lr(this['_device'],nr,_0x50bf3c),_0x420aa6=new Uint32Array(_0x1716ed['lock']())):(_0x1716ed=new lr(this['_device'],Pi,_0x50bf3c),_0x420aa6=new Uint16Array(_0x1716ed['lock']()))),{'buffer':_0x1716ed,'data':_0x420aa6};}['_parseMesh'+'es'](_0x4ac607,_0x3937b1,_0xcf1a78,_0x118944,_0x202cc0,_0x5caa05){const _0x54841d=_0x4ac607['model'],_0x4c89e6=[];let _0x5c3c9f=0xbee+0x67c+-0x126a;for(let _0x2b375b=-0x2ba*0xd+0x139*-0x3+0x1*0x271d;_0x2b375b<_0x54841d['meshes']['length'];_0x2b375b++){const _0x173252=_0x54841d['meshes'][_0x2b375b],_0x25313b=_0x173252['aabb'],_0x31139c=_0x25313b['min'],_0x54a791=_0x25313b['max'],_0x1b52b9=new _e(new T((_0x54a791[0x1c*0xd+-0x1c9f+0x1b33]+_0x31139c[0x1a14+-0xc66+0x2*-0x6d7])*(-0x8a2+-0x1*-0xace+-0x22c+0.5),(_0x54a791[-0x19b8+0x58*-0x6e+0x3f89]+_0x31139c[-0xa65+0x676+0x30*0x15])*(-0x61*-0x55+0x583*0x6+-0x4147+0.5),(_0x54a791[-0x6*-0xb8+-0x471*-0x5+-0x1a83]+_0x31139c[0x1864+-0x2128+0x8c6])*(0x1046+0x400*0x5+-0x2446+0.5)),new T((_0x54a791[-0x1cc+0xf65+-0x3b*0x3b]-_0x31139c[-0x26b*0x10+-0x225a*-0x1+0x456])*(0x1961+0x1*-0x239f+0x45*0x26+0.5),(_0x54a791[-0x2691+0x9e*0x33+0x718*0x1]-_0x31139c[-0x62+-0xb0e+0x65*0x1d])*(0x778*-0x5+-0xc1*-0x1d+0xf7b+0.5),(_0x54a791[0xa1*-0x2c+-0x16f6*0x1+0x32a4]-_0x31139c[0x18e9+-0x1*0x22ed+0xa06])*(-0x1bba+0x2ba*-0x6+0x2c16+0.5))),_0x9d4422=_0x173252['indices']!==void(-0x1*-0xc07+-0x6e3+-0x1*0x524),_0x524d7d=new Ie(this['_device']);_0x524d7d['vertexBuff'+'er']=_0x118944[_0x173252['vertices']],_0x524d7d['indexBuffe'+'r'][0x6d*0x53+-0x158b+0x2*-0x6e6]=_0x9d4422?_0x202cc0:null,_0x524d7d['primitive'][0x1*0x2185+0x7ec+-0x2971*0x1]['type']=eL[_0x173252['type']],_0x524d7d['primitive'][-0x1*0xc17+0x1*0x1327+-0x710]['base']=_0x9d4422?_0x173252['base']+_0x5c3c9f:_0x173252['base'],_0x524d7d['primitive'][-0x11*-0xcf+-0x5*0x91+0x575*-0x2]['count']=_0x173252['count'],_0x524d7d['primitive'][0xd17+0x43*0x7f+-0x2*0x172a]['indexed']=_0x9d4422,_0x524d7d['skin']=_0x173252['skin']!==void(0xd4d+-0x1*0x1c9+0x1*-0xb84)?_0x3937b1[_0x173252['skin']]:null,_0x524d7d['morph']=_0x173252['morph']!==void(-0xdfa+0x3*-0x767+0x242f)?_0xcf1a78[_0x173252['morph']]:null,_0x524d7d['aabb']=_0x1b52b9,_0x9d4422&&(_0x5caa05['set'](_0x173252['indices'],_0x5c3c9f),_0x5c3c9f+=_0x173252['indices']['length']),_0x4c89e6['push'](_0x524d7d);}return _0x202cc0!==null&&_0x202cc0['unlock'](),_0x4c89e6;}['_parseMesh'+'Instances'](_0x1d78ac,_0x33932a,_0x36073d,_0x480940,_0x49c12a,_0x27f100,_0x758ef3){const _0xe2fd46=_0x1d78ac['model'],_0x58367a=[];let _0x465c5b;for(_0x465c5b=0x1729+-0x8*-0x1cc+-0x2589;_0x465c5b<_0xe2fd46['meshInstan'+'ces']['length'];_0x465c5b++){const _0x3ae123=_0xe2fd46['meshInstan'+'ces'][_0x465c5b],_0x3b115b=_0x33932a[_0x3ae123['node']],_0x3dcf1b=_0x36073d[_0x3ae123['mesh']],_0x1a5f3a=new Le(_0x3dcf1b,this['_defaultMa'+'terial'],_0x3b115b);if(_0x3dcf1b['skin']){const _0x961a=_0x480940['indexOf'](_0x3dcf1b['skin']);if(_0x961a===-(-0x757*0x3+-0x1931+0x2f37))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x1a5f3a['skinInstan'+'ce']=_0x49c12a[_0x961a];}if(_0x3dcf1b['morph']){const _0x38600b=_0x27f100['indexOf'](_0x3dcf1b['morph']);if(_0x38600b===-(-0x16a1*0x1+-0x1*-0x4d8+0x11ca))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x1a5f3a['morphInsta'+'nce']=_0x758ef3[_0x38600b];}_0x58367a['push'](_0x1a5f3a);}return _0x58367a;}}class iL extends Ne{constructor(_0x5d7455){super(_0x5d7455,'model'),this['_parsers']=[],this['device']=_0x5d7455['graphicsDe'+'vice'],this['assets']=_0x5d7455['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0xda28c0,_0xecf577)=>fe['getExtensi'+'on'](_0xda28c0)==='.json'),this['addParser'](new J2(this),(_0x3a4e28,_0x3d88f4)=>fe['getExtensi'+'on'](_0x3a4e28)==='.glb');}['load'](_0x2a95d8,_0x4950a1,_0x149a3e){typeof _0x2a95d8=='string'&&(_0x2a95d8={'load':_0x2a95d8,'original':_0x2a95d8});const _0x514121={'retry':this['maxRetries']>-0xd*0x86+-0x1dc3+0x2491*0x1,'maxRetries':this['maxRetries']};(_0x2a95d8['load']['startsWith']('blob:')||_0x2a95d8['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x2a95d8['original'])['toLowerCas'+'e']()==='.glb'?_0x514121['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x514121['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),We['get'](_0x2a95d8['load'],_0x514121,(_0x4b2c78,_0x4dd2e3)=>{if(_0x4950a1){if(_0x4b2c78)_0x4950a1('Error\x20load'+'ing\x20model:'+'\x20'+_0x2a95d8['original']+'\x20['+_0x4b2c78+']');else{for(let _0x1c32a5=0x2159*-0x1+-0x37f*0x3+0x16a*0x1f;_0x1c32a5<this['_parsers']['length'];_0x1c32a5++){const _0x1f2a8c=this['_parsers'][_0x1c32a5];if(_0x1f2a8c['decider'](_0x2a95d8['original'],_0x4dd2e3)){_0x1f2a8c['parser']['parse'](_0x4dd2e3,(_0xe0151,_0x244bee)=>{_0xe0151?_0x4950a1(_0xe0151):_0x4950a1(null,_0x244bee);},_0x149a3e);return;}}_0x4950a1('No\x20parsers'+'\x20found');}}});}['open'](_0x37eaa5,_0x318c36){return _0x318c36;}['patch'](_0x4cddd,_0x1aa774){if(!_0x4cddd['resource'])return;const _0x27f0c2=_0x4cddd['data'],_0x2e4406=this;_0x4cddd['resource']['meshInstan'+'ces']['forEach']((_0x499791,_0x173355)=>{if(_0x27f0c2['mapping']){const _0x29167e=function(_0xec8ba9){_0xec8ba9['resource']?_0x499791['material']=_0xec8ba9['resource']:(_0xec8ba9['once']('load',_0x29167e),_0x1aa774['load'](_0xec8ba9)),_0xec8ba9['once']('remove',_0x1c53b0=>{_0x499791['material']===_0x1c53b0['resource']&&(_0x499791['material']=_0x2e4406['defaultMat'+'erial']);});};if(!_0x27f0c2['mapping'][_0x173355]){_0x499791['material']=_0x2e4406['defaultMat'+'erial'];return;}const _0x3accaf=_0x27f0c2['mapping'][_0x173355]['material'],_0x4a4e98=_0x27f0c2['mapping'][_0x173355]['path'];let _0x3773f9;if(_0x3accaf!==void(-0xa33+0x19f2+0x1*-0xfbf))_0x3accaf?(_0x3773f9=_0x1aa774['get'](_0x3accaf),_0x3773f9?_0x29167e(_0x3773f9):_0x1aa774['once']('add:'+_0x3accaf,_0x29167e)):_0x499791['material']=_0x2e4406['defaultMat'+'erial'];else{if(_0x4a4e98){const _0x58aeb7=_0x4cddd['getAbsolut'+'eUrl'](_0x27f0c2['mapping'][_0x173355]['path']);_0x3773f9=_0x1aa774['getByUrl'](_0x58aeb7),_0x3773f9?_0x29167e(_0x3773f9):_0x1aa774['once']('add:url:'+_0x58aeb7,_0x29167e);}}}});}['addParser'](_0x103655,_0x13308d){this['_parsers']['push']({'parser':_0x103655,'decider':_0x13308d});}}class rL extends Ne{constructor(_0x5417bb){super(_0x5417bb,'scene');}['load'](_0x9ffdd4,_0x18e17f){Lx['load'](_0x9ffdd4,this['maxRetries'],_0x18e17f);}['open'](_0x502436,_0x57d2c1){this['_app']['systems']['script']['preloading']=!(0x15c4*-0x1+-0xd4d+0x2311);const _0x3f237c=new $p(this['_app'],!(-0x59*-0x47+0x1*-0x21ba+0x90c))['parse'](_0x57d2c1),_0x127e3d=this['_app']['scene'];return _0x127e3d['root']=_0x3f237c,this['_app']['applyScene'+'Settings'](_0x57d2c1['settings']),this['_app']['systems']['script']['preloading']=!(0x6*-0x37+-0x20c2+-0x17b*-0x17),_0x127e3d;}}const hc=class hc{static['push'](_0x4a6153){hc['_types']['push'](_0x4a6153);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0x56f1cf,_0xaea068,_0x4eabc2)=>{aL[_0x56f1cf]=0x1c4a+-0x2702+0x3*0x393;});function oL(_0x169322,_0x5e53c2,_0x4a784a){if(typeof _0x169322!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x169322+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x169322['prototype']instanceof It))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0x169322)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x5e53c2=_0x5e53c2||_0x169322['__name']||Qh['__getScrip'+'tName'](_0x169322),nL['has'](_0x5e53c2))throw new Error('script\x20nam'+'e:\x20\x27'+_0x5e53c2+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x169322['__name']=_0x5e53c2,qh['getApplica'+'tion']()['scripts']['add'](_0x169322),Xr['push'](_0x169322);}const lL=_0xaeaa32=>_0xaeaa32[0x1*-0xbeb+-0x2*0xcc5+-0x2b*-0xdf]['toLowerCas'+'e']()+_0xaeaa32['substring'](0x1a*-0x2+0x1bf6+0x91*-0x31);class hL extends Ne{constructor(_0x2c6e09){super(_0x2c6e09,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x31fb1e in this['_cache']){const _0x365b0f=this['_cache'][_0x31fb1e],_0x509ce2=_0x365b0f['parentNode'];_0x509ce2&&_0x509ce2['removeChil'+'d'](_0x365b0f);}this['_cache']={};}['load'](_0xbb9f4b,_0x975dcf){typeof _0xbb9f4b=='string'&&(_0xbb9f4b={'load':_0xbb9f4b,'original':_0xbb9f4b});const _0x47c152=this;this['_app'];const _0x2dbf0a=(_0xbb9f4b['load'],(_0x2e064c,_0x128fb4,_0x3d2552)=>{if(_0x2e064c)_0x975dcf(_0x2e064c);else{const _0x1421b1={};for(let _0x4688e2=-0x1b3f+-0x4b8*-0x4+0x1*0x85f;_0x4688e2<Xr['_types']['length'];_0x4688e2++)_0x1421b1[Xr['_types'][_0x4688e2]['name']]=Xr['_types'][_0x4688e2];Xr['_types']['length']=0x1212*-0x2+-0xad7+0x2efb,_0x975dcf(null,_0x1421b1,_0x3d2552);const _0x36b19b=_0x128fb4['split']('&hash=')[-0x24f0+0x2191+0x35f*0x1];delete _0x47c152['_loader']['_cache'][pa['makeKey'](_0x36b19b,'script')];}}),[_0x576a1a]=_0xbb9f4b['load']['split']('?');_0x576a1a['endsWith']('.mjs')?this['_loadModul'+'e'](_0x576a1a,_0x2dbf0a):this['_loadScrip'+'t'](_0xbb9f4b['load'],_0x2dbf0a);}['open'](_0x3b26da,_0x2a1a42){return _0x2a1a42;}['patch'](_0x5e2d69,_0x388655){}['_loadScrip'+'t'](_0x357eaf,_0x49d643){const _0x349277=document['head'],_0x27d604=document['createElem'+'ent']('script');this['_cache'][_0x357eaf]=_0x27d604,_0x27d604['async']=!(0x6c*0x35+-0xae1+-0xb7a),_0x27d604['addEventLi'+'stener']('error',_0x2ee664=>{_0x49d643('Script:\x20'+_0x2ee664['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x1cc+-0xe6b*0x1+0xca0));let _0x43c41a=!(0x680*-0x3+-0x252c+0x38ad);_0x27d604['onload']=_0x27d604['onreadysta'+'techange']=function(){!_0x43c41a&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x43c41a=!(0x460+-0x1b86+0x1*0x1726),_0x49d643(null,_0x357eaf,_0x27d604));},_0x27d604['src']=_0x357eaf,_0x349277['appendChil'+'d'](_0x27d604);}['_loadModul'+'e'](_0x379a07,_0x295e7e){const _0x2c633e=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0xe06d3f=new URL(_0x379a07,_0x2c633e);import(_0xe06d3f['toString']())['then'](_0x38c35b=>{var _0x3136e9,_0x5a4c2e;const _0x2647f1=_0xe06d3f['pathname']['split']('/')['pop'](),_0x1c9e6b=(_0x5a4c2e=(_0x3136e9=this['_app']['assets']['find'](_0x2647f1,'script'))==null?void(0xed8+0x4*0x247+-0x17f4):_0x3136e9['data'])==null?void(0x1c51+-0x7a9+-0x14a8):_0x5a4c2e['scripts'];for(const _0x36fb80 in _0x38c35b){const _0x855dbc=_0x38c35b[_0x36fb80];if(_0x855dbc['prototype']instanceof It){const _0x3020ff=lL(_0x855dbc['name']);oL(_0x855dbc,_0x3020ff),_0x1c9e6b&&this['_app']['scripts']['addSchema'](_0x3020ff,_0x1c9e6b[_0x3020ff]);}}_0x295e7e(null,_0x379a07,null);})['catch'](_0x41ea60=>{_0x295e7e(_0x41ea60);});}}class cL extends Ne{constructor(_0x59496d){super(_0x59496d,'shader'),c(this,'decoder',null);}['load'](_0x87e43,_0x49cf91){typeof _0x87e43=='string'&&(_0x87e43={'load':_0x87e43,'original':_0x87e43}),We['get'](_0x87e43['load'],{'retry':this['maxRetries']>-0x2*0x1370+0x5*-0x587+0x4283,'maxRetries':this['maxRetries']},(_0x10344d,_0x2e9ff3)=>{_0x10344d?_0x49cf91('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x87e43['original']+'\x20['+_0x10344d+']'):_0x49cf91(null,_0x2e9ff3);});}['openBinary'](_0x8565d1){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x8565d1);}}function eu(_0x303ace){const _0x5106e2=this;_0x5106e2['resource']&&(_0x5106e2['resource']['atlas']=_0x303ace['resource']);}function tu(_0x31688f){this['registry']['load'](_0x31688f);}class dL extends Ne{constructor(_0x5759df){super(_0x5759df,'sprite'),this['_assets']=_0x5759df['assets'],this['_device']=_0x5759df['graphicsDe'+'vice'];}['load'](_0x517e40,_0x673fdb){typeof _0x517e40=='string'&&(_0x517e40={'load':_0x517e40,'original':_0x517e40}),fe['getExtensi'+'on'](_0x517e40['original'])==='.json'&&We['get'](_0x517e40['load'],{'retry':this['maxRetries']>-0x1c*-0x14b+-0x439*0x1+0x1ffb*-0x1,'maxRetries':this['maxRetries']},(_0x1c9e3c,_0x5b2d4e)=>{_0x1c9e3c?_0x673fdb(_0x1c9e3c):_0x673fdb(null,_0x5b2d4e);});}['open'](_0x5aba0,_0x391010){const _0x894c0a=new T1(this['_device']);return _0x5aba0&&(_0x894c0a['__data']=_0x391010),_0x894c0a;}['patch'](_0x403ffd,_0x5f3ca1){const _0x5c3db6=_0x403ffd['resource'];if(_0x5c3db6['__data']&&(_0x403ffd['data']['pixelsPerU'+'nit']=_0x5c3db6['__data']['pixelsPerU'+'nit'],_0x403ffd['data']['renderMode']=_0x5c3db6['__data']['renderMode'],_0x403ffd['data']['frameKeys']=_0x5c3db6['__data']['frameKeys'],_0x5c3db6['__data']['textureAtl'+'asAsset'])){const _0x5dc992=_0x5f3ca1['getByUrl'](_0x5c3db6['__data']['textureAtl'+'asAsset']);_0x5dc992?_0x403ffd['data']['textureAtl'+'asAsset']=_0x5dc992['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x5c3db6['__data']['textureAtl'+'asAsset']);}_0x5c3db6['startUpdat'+'e'](),_0x5c3db6['renderMode']=_0x403ffd['data']['renderMode'],_0x5c3db6['pixelsPerU'+'nit']=_0x403ffd['data']['pixelsPerU'+'nit'],_0x5c3db6['frameKeys']=_0x403ffd['data']['frameKeys'],this['_updateAtl'+'as'](_0x403ffd),_0x5c3db6['endUpdate'](),_0x403ffd['off']('change',this['_onAssetCh'+'ange'],this),_0x403ffd['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x20ff23){const _0x2c0965=_0x20ff23['resource'];if(!_0x20ff23['data']['textureAtl'+'asAsset']){_0x2c0965['atlas']=null;return;}this['_assets']['off']('load:'+_0x20ff23['data']['textureAtl'+'asAsset'],eu,_0x20ff23),this['_assets']['on']('load:'+_0x20ff23['data']['textureAtl'+'asAsset'],eu,_0x20ff23);const _0x3ad0cd=this['_assets']['get'](_0x20ff23['data']['textureAtl'+'asAsset']);_0x3ad0cd&&_0x3ad0cd['resource']?_0x2c0965['atlas']=_0x3ad0cd['resource']:_0x3ad0cd?this['_assets']['load'](_0x3ad0cd):(this['_assets']['off']('add:'+_0x20ff23['data']['textureAtl'+'asAsset'],tu,_0x20ff23),this['_assets']['on']('add:'+_0x20ff23['data']['textureAtl'+'asAsset'],tu,_0x20ff23));}['_onAssetCh'+'ange'](_0x7b0634,_0x2b729e,_0x21b43d,_0x15726c){_0x2b729e==='data'&&_0x21b43d&&_0x21b43d['textureAtl'+'asAsset']&&_0x15726c&&_0x21b43d['textureAtl'+'asAsset']!==_0x15726c['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x15726c['textureAtl'+'asAsset'],eu,_0x7b0634),this['_assets']['off']('add:'+_0x15726c['textureAtl'+'asAsset'],tu,_0x7b0634));}}class Gg{constructor(_0x1b99d3,_0x320153){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x1b99d3,this['_data']=_0x320153);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x33cd47=new $p(this['_app'],!(-0x2*0xf42+-0x16eb+0x356f));this['_templateR'+'oot']=_0x33cd47['parse'](this['_data']);}}class uL extends Ne{constructor(_0x41e262){super(_0x41e262,'template'),c(this,'decoder',null);}['load'](_0x1380a5,_0x2b885e){typeof _0x1380a5=='string'&&(_0x1380a5={'load':_0x1380a5,'original':_0x1380a5});const _0xcaf756={'retry':this['maxRetries']>-0x1*0x741+-0x8+0x749,'maxRetries':this['maxRetries']};We['get'](_0x1380a5['load'],_0xcaf756,(_0x1f432e,_0x21d9f7)=>{_0x1f432e?_0x2b885e('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x1380a5['original']):_0x2b885e(_0x1f432e,_0x21d9f7);});}['open'](_0x236673,_0x1f501b){return new Gg(this['_app'],_0x1f501b);}['openBinary'](_0xd74e95){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0xd74e95)));}}class fL extends Ne{constructor(_0x4c154b){super(_0x4c154b,'text'),c(this,'decoder',null);}['load'](_0x54ff0a,_0x11ed70){typeof _0x54ff0a=='string'&&(_0x54ff0a={'load':_0x54ff0a,'original':_0x54ff0a}),We['get'](_0x54ff0a['load'],{'retry':this['maxRetries']>0x1434*-0x1+0x15b6+0x2*-0xc1,'maxRetries':this['maxRetries']},(_0x1f87c4,_0x12e2cc)=>{_0x1f87c4?_0x11ed70('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x54ff0a['original']+'\x20['+_0x1f87c4+']'):_0x11ed70(null,_0x12e2cc);});}['openBinary'](_0x327681){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x327681);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x4b5623){super(_0x4b5623,'textureatl'+'as'),this['_loader']=_0x4b5623['loader'];}['load'](_0x18ae84,_0x8c170b){typeof _0x18ae84=='string'&&(_0x18ae84={'load':_0x18ae84,'original':_0x18ae84});const _0x2c9b7a=this,_0x4931c2=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x18ae84['original'])==='.json'?We['get'](_0x18ae84['load'],{'retry':this['maxRetries']>0x44*-0xe+0x93*0x25+0x7*-0x281,'maxRetries':this['maxRetries']},(_0xa970dc,_0x59985d)=>{if(_0xa970dc)_0x8c170b(_0xa970dc);else{const _0x21a767=_0x18ae84['original']['replace']('.json','.png');_0x2c9b7a['_loader']['load'](_0x21a767,'texture',(_0x1d4364,_0xcf32fc)=>{_0x1d4364?_0x8c170b(_0x1d4364):_0x8c170b(null,{'data':_0x59985d,'texture':_0xcf32fc});});}}):_0x4931c2['load'](_0x18ae84,_0x8c170b);}['open'](_0x3943d9,_0x31df90,_0xe4d4a5){const _0x527bd5=new A1();if(_0x31df90['texture']&&_0x31df90['data'])_0x527bd5['texture']=_0x31df90['texture'],_0x527bd5['__data']=_0x31df90['data'];else{const _0x484a72=this['_loader']['getHandler']('texture')['open'](_0x3943d9,_0x31df90,_0xe4d4a5);if(!_0x484a72)return null;_0x527bd5['texture']=_0x484a72;}return _0x527bd5;}['patch'](_0x4ade2e,_0x355b55){if(!_0x4ade2e['resource'])return;_0x4ade2e['resource']['__data']&&(_0x4ade2e['resource']['__data']['minfilter']!==void(-0x714+-0x97*0x2b+0x2071)&&(_0x4ade2e['data']['minfilter']=_0x4ade2e['resource']['__data']['minfilter']),_0x4ade2e['resource']['__data']['magfilter']!==void(0x20ad+0x1*-0x2377+0x2ca)&&(_0x4ade2e['data']['magfilter']=_0x4ade2e['resource']['__data']['magfilter']),_0x4ade2e['resource']['__data']['addressu']!==void(0x134c+-0x29c+0x18*-0xb2)&&(_0x4ade2e['data']['addressu']=_0x4ade2e['resource']['__data']['addressu']),_0x4ade2e['resource']['__data']['addressv']!==void(0x1*0x1ecc+-0x4ed+-0x19df)&&(_0x4ade2e['data']['addressv']=_0x4ade2e['resource']['__data']['addressv']),_0x4ade2e['resource']['__data']['mipmaps']!==void(0x2*-0x2+-0x182e+0x1832)&&(_0x4ade2e['data']['mipmaps']=_0x4ade2e['resource']['__data']['mipmaps']),_0x4ade2e['resource']['__data']['anisotropy']!==void(0x1be4+-0x1*-0x1e7+-0x1dcb)&&(_0x4ade2e['data']['anisotropy']=_0x4ade2e['resource']['__data']['anisotropy']),_0x4ade2e['resource']['__data']['rgbm']!==void(-0xa49*0x3+-0x1f85+-0x3e6*-0x10)&&(_0x4ade2e['data']['rgbm']=!!_0x4ade2e['resource']['__data']['rgbm']),_0x4ade2e['data']['frames']=_0x4ade2e['resource']['__data']['frames'],delete _0x4ade2e['resource']['__data']);const _0x2c5458=_0x4ade2e['resource']['texture'];if(_0x2c5458&&(_0x2c5458['name']=_0x4ade2e['name'],_0x4ade2e['data']['hasOwnProp'+'erty']('minfilter')&&_0x2c5458['minFilter']!==sh[_0x4ade2e['data']['minfilter']]&&(_0x2c5458['minFilter']=sh[_0x4ade2e['data']['minfilter']]),_0x4ade2e['data']['hasOwnProp'+'erty']('magfilter')&&_0x2c5458['magFilter']!==sh[_0x4ade2e['data']['magfilter']]&&(_0x2c5458['magFilter']=sh[_0x4ade2e['data']['magfilter']]),_0x4ade2e['data']['hasOwnProp'+'erty']('addressu')&&_0x2c5458['addressU']!==th[_0x4ade2e['data']['addressu']]&&(_0x2c5458['addressU']=th[_0x4ade2e['data']['addressu']]),_0x4ade2e['data']['hasOwnProp'+'erty']('addressv')&&_0x2c5458['addressV']!==th[_0x4ade2e['data']['addressv']]&&(_0x2c5458['addressV']=th[_0x4ade2e['data']['addressv']]),_0x4ade2e['data']['hasOwnProp'+'erty']('mipmaps')&&_0x2c5458['mipmaps']!==_0x4ade2e['data']['mipmaps']&&(_0x2c5458['mipmaps']=_0x4ade2e['data']['mipmaps']),_0x4ade2e['data']['hasOwnProp'+'erty']('anisotropy')&&_0x2c5458['anisotropy']!==_0x4ade2e['data']['anisotropy']&&(_0x2c5458['anisotropy']=_0x4ade2e['data']['anisotropy']),_0x4ade2e['data']['hasOwnProp'+'erty']('rgbm'))){const _0x4e98d8=_0x4ade2e['data']['rgbm']?on:Di;_0x2c5458['type']!==_0x4e98d8&&(_0x2c5458['type']=_0x4e98d8);}_0x4ade2e['resource']['texture']=_0x2c5458;const _0x5ca182={};for(const _0x3fea02 in _0x4ade2e['data']['frames']){const _0xd7075f=_0x4ade2e['data']['frames'][_0x3fea02];_0x5ca182[_0x3fea02]={'rect':new Q(_0xd7075f['rect']),'pivot':new $(_0xd7075f['pivot']),'border':new Q(_0xd7075f['border'])};}_0x4ade2e['resource']['frames']=_0x5ca182,_0x4ade2e['off']('change',this['_onAssetCh'+'ange'],this),_0x4ade2e['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x364f13,_0x25098f,_0x519d50){let _0x1a65a0;if(_0x25098f==='data'||_0x25098f==='data.frame'+'s'){const _0x34e7fd={};for(const _0x43f4c1 in _0x519d50['frames'])_0x1a65a0=_0x519d50['frames'][_0x43f4c1],_0x34e7fd[_0x43f4c1]={'rect':new Q(_0x1a65a0['rect']),'pivot':new $(_0x1a65a0['pivot']),'border':new Q(_0x1a65a0['border'])};_0x364f13['resource']['frames']=_0x34e7fd;}else{const _0x135c8a=_0x25098f['match'](pL);if(_0x135c8a){const _0x19ee47=_0x135c8a[0x22cd+0x7ca*-0x5+0x426];_0x519d50?(_0x364f13['resource']['frames'][_0x19ee47]?(_0x1a65a0=_0x364f13['resource']['frames'][_0x19ee47],_0x1a65a0['rect']['set'](_0x519d50['rect'][-0x826+-0xd78+0x159e],_0x519d50['rect'][0x23*-0xb3+-0x1ea1*0x1+-0x371b*-0x1],_0x519d50['rect'][-0x10f8+-0x42*-0x11+0xc98],_0x519d50['rect'][-0x1a*-0xc3+0x19e8+-0x2db3]),_0x1a65a0['pivot']['set'](_0x519d50['pivot'][0x1de9+0xbb6+-0x853*0x5],_0x519d50['pivot'][-0x26c5+-0x20a8+0x476e]),_0x1a65a0['border']['set'](_0x519d50['border'][-0x1*0x1783+-0x933*0x4+0x3c4f],_0x519d50['border'][-0x90f*-0x1+0x264b+0x1f*-0x187],_0x519d50['border'][0x17*-0x13b+-0x3be*0x7+0x3681*0x1],_0x519d50['border'][0xc6a*-0x2+0xac*-0x20+0x2e57])):_0x364f13['resource']['frames'][_0x19ee47]={'rect':new Q(_0x519d50['rect']),'pivot':new $(_0x519d50['pivot']),'border':new Q(_0x519d50['border'])},_0x364f13['resource']['fire']('set:frame',_0x19ee47,_0x364f13['resource']['frames'][_0x19ee47])):_0x364f13['resource']['frames'][_0x19ee47]&&(delete _0x364f13['resource']['frames'][_0x19ee47],_0x364f13['resource']['fire']('remove:fra'+'me',_0x19ee47));}}}}function _L(){const _0x410fd3={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x9fc485={'astc':_0x410fd3['cTFASTC_4x'+'4'],'dxt':_0x410fd3['cTFBC1'],'etc1':_0x410fd3['cTFETC1'],'etc2':_0x410fd3['cTFETC1'],'pvr':_0x410fd3['cTFPVRTC1_'+'4_RGB'],'atc':_0x410fd3['cTFATC_RGB'],'none':_0x410fd3['cTFRGB565']},_0x27e100={'astc':_0x410fd3['cTFASTC_4x'+'4'],'dxt':_0x410fd3['cTFBC3'],'etc1':_0x410fd3['cTFRGBA444'+'4'],'etc2':_0x410fd3['cTFETC2'],'pvr':_0x410fd3['cTFPVRTC1_'+'4_RGBA'],'atc':_0x410fd3['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x410fd3['cTFRGBA444'+'4']},_0x108051={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x1f3792=(_0x2345ea,_0x12d442)=>{switch(_0x2345ea){case _0x410fd3['cTFETC1']:return _0x12d442['formats']['etc2']?_0x108051['ETC2_RGB']:_0x108051['ETC1'];case _0x410fd3['cTFETC2']:return _0x108051['ETC2_RGBA'];case _0x410fd3['cTFBC1']:return _0x108051['DXT1'];case _0x410fd3['cTFBC3']:return _0x108051['DXT5'];case _0x410fd3['cTFPVRTC1_'+'4_RGB']:return _0x108051['PVRTC_4BPP'+'_RGB_1'];case _0x410fd3['cTFPVRTC1_'+'4_RGBA']:return _0x108051['PVRTC_4BPP'+'_RGBA_1'];case _0x410fd3['cTFASTC_4x'+'4']:return _0x108051['ASTC_4x4'];case _0x410fd3['cTFATC_RGB']:return _0x108051['ATC_RGB'];case _0x410fd3['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x108051['ATC_RGBA'];case _0x410fd3['cTFRGBA32']:return _0x108051['R8_G8_B8_A'+'8'];case _0x410fd3['cTFRGB565']:return _0x108051['R5_G6_B5'];case _0x410fd3['cTFRGBA444'+'4']:return _0x108051['R4_G4_B4_A'+'4'];}},_0x35e3e0=_0x280343=>{const _0x1ca613=function(_0xd29ab0,_0xcc11f){const _0x10ed7a=_0xd29ab0*(-0x52e+0x11ac+-0xc7e+0.00784313725490196)-(-0x124*-0xb+0x5*-0x4cd+0x5bb*0x2),_0x2d80e1=_0xcc11f*((-0x1f3c+-0x1*0xe03+0x2d41)/(0xcb+-0x2*0xd8+0x1e4*0x1))-(-0xca5*0x1+0x567+-0x5*-0x173),_0x148b66=Math['sqrt'](0xf96+-0x59*0x4e+0x1*0xb89-Math['min'](-0x2512+-0x1*-0x191f+0xbf4,_0x10ed7a*_0x10ed7a+_0x2d80e1*_0x2d80e1));return Math['max'](0xa7*-0x1b+-0x1d*-0x11a+-0xe55,Math['min'](0x9d9+-0x1*0x81a+-0xc0*0x1,Math['floor']((_0x148b66+(0x2*0xa31+-0x1bb0*-0x1+-0x73*0x6b))*(-0xe86+-0x7*-0x20+-0x2*-0x6d3+0.5)*(0xb*-0x7+-0x1951+0x3*0x8df))));};for(let _0x3c749a=-0xbb+0x189a+0x2a7*-0x9;_0x3c749a<_0x280343['length'];_0x3c749a+=0x11f2+0x1*0x8df+-0x3*0x8ef){const _0x16c889=_0x280343[_0x3c749a+(-0x18f+-0x2420+0x25b2)],_0x205cbc=_0x280343[_0x3c749a+(0x15ca*0x1+0x1f14+0x411*-0xd)];_0x280343[_0x3c749a+(-0x6*-0x282+-0x1364+-0x116*-0x4)]=_0x16c889,_0x280343[_0x3c749a+(-0xf*-0x7d+0x1415*-0x1+0xcc4)]=_0x1ca613(_0x16c889,_0x205cbc),_0x280343[_0x3c749a+(-0x1019+0x18a7+0x2d9*-0x3)]=-0x139+0x821*0x1+-0x5e9*0x1;}return _0x280343;},_0x29aa64=_0x4d8b65=>{const _0x400d32=new Uint16Array(_0x4d8b65['length']/(0x1*0x24dd+0x7*0xb1+-0x29b0*0x1));for(let _0x5505fa=-0xf07+-0xa82+0x1989;_0x5505fa<_0x4d8b65['length'];_0x5505fa+=-0x14e5+-0x1ed4+0x33bd){const _0x2d60bb=_0x4d8b65[_0x5505fa+(0x25e6+0xad4+-0x30ba)],_0x93026c=_0x4d8b65[_0x5505fa+(0x206a+-0x114d+-0xf1c)],_0x4ea32b=_0x4d8b65[_0x5505fa+(-0x14dc+0x5*0x789+-0x1*0x10cf)];_0x400d32[_0x5505fa/(0x98f*-0x1+-0x23b9+0x2d4c)]=(_0x2d60bb&-0x14f3+-0x10*-0x1bd+0x1*-0x5e5)<<0x2257+-0x83*0x10+-0x1a1f|(_0x93026c&0x3*-0xc3e+0x430+0x2186)<<-0x6df+-0x1*0x1957+0x1*0x2039|_0x4ea32b>>-0x64*-0x4c+-0x6cd+-0x16e0;}return _0x400d32;},_0x5d7ee7=(_0xca7fb4,_0x2385a5)=>(_0xca7fb4&_0xca7fb4-(0x1*-0x2485+0x1897+0xbef))===0xe95*0x2+-0xddc+0x3*-0x51a&&(_0x2385a5&_0x2385a5-(-0xee2+0xee7+0x4*-0x1))===0x33e+-0x936+0x5f8,_0x2424eb=()=>typeof performance<'u'?performance['now']():0x8f3+-0x16c4+0xdd1;let _0x36e5d0,_0x4d39a2,_0x29626d;const _0x14c8ca=(_0x109985,_0x3554d5,_0x248867)=>{if(_0x248867){if(_0x109985['formats']['astc'])return'astc';}else{if(_0x3554d5){if(_0x109985['formats']['etc2'])return'etc2';}else{if(_0x109985['formats']['etc2'])return'etc2';if(_0x109985['formats']['etc1'])return'etc1';}}return(_0x1c03d8=>{for(let _0x1e8e00=-0x1915+0x1d44+0x1*-0x42f;_0x1e8e00<_0x1c03d8['length'];++_0x1e8e00){const _0x45e545=_0x1c03d8[_0x1e8e00];if(_0x109985['formats'][_0x45e545])return _0x45e545;}return'none';})(_0x3554d5?_0x29626d:_0x4d39a2);},_0xe2f4d9=(_0x507bc0,_0xf33b9a,_0x13ab9e)=>{switch(_0x13ab9e){case _0x410fd3['cTFETC1']:case _0x410fd3['cTFETC2']:return!(-0x18cd+0xc77*0x1+-0xc56*-0x1);case _0x410fd3['cTFBC1']:case _0x410fd3['cTFBC3']:return(_0x507bc0&0x7*-0x407+-0x1629+0x325d)===-0x2b*-0x8d+0xe14+-0x25c3&&(_0xf33b9a&-0x1e27+-0x339*0x8+0x37f2)===0x10*-0x97+-0x575+0xee5;case _0x410fd3['cTFPVRTC1_'+'4_RGB']:case _0x410fd3['cTFPVRTC1_'+'4_RGBA']:return _0x5d7ee7(_0x507bc0,_0xf33b9a);case _0x410fd3['cTFASTC_4x'+'4']:return!(0x5d9+0x5*-0x365+0xb20);case _0x410fd3['cTFATC_RGB']:case _0x410fd3['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x6*0x109+-0x3fb*0x1+-0x1*-0xa31);}return!(0x214c*-0x1+-0x965+0x2ab2);},_0x301b64=(_0x3e0695,_0x220265,_0x2c9b0d)=>{if(!_0x36e5d0['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x781d84=_0x2424eb(),_0x526254=new _0x36e5d0['KTX2File'](new Uint8Array(_0x220265)),_0x55229e=_0x526254['getWidth'](),_0x23a852=_0x526254['getHeight'](),_0x2cac11=_0x526254['getLevels'](),_0x233d27=!!_0x526254['getHasAlph'+'a'](),_0x5d54f5=_0x526254['isUASTC']&&_0x526254['isUASTC']();if(!_0x55229e||!_0x23a852||!_0x2cac11)throw _0x526254['close'](),_0x526254['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x3e0695+'\x20width='+_0x55229e+'\x20height='+_0x23a852+'\x20levels='+_0x2cac11);const _0x242b3c=_0x14c8ca(_0x2c9b0d['deviceDeta'+'ils'],_0x233d27,_0x5d54f5),_0x4d466f=!!_0x2c9b0d['isGGGR']&&_0x242b3c==='pvr';let _0x223583;if(_0x4d466f?_0x223583=_0x410fd3['cTFRGBA32']:(_0x223583=_0x233d27?_0x27e100[_0x242b3c]:_0x9fc485[_0x242b3c],_0xe2f4d9(_0x55229e,_0x23a852,_0x223583)||(_0x223583=_0x233d27?_0x410fd3['cTFRGBA32']:_0x410fd3['cTFRGB565'])),!_0x526254['startTrans'+'coding']())throw _0x526254['close'](),_0x526254['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x3e0695);let _0xdb68eb;const _0xce0b2=[];for(let _0x4f9bca=-0x2*-0x418+-0x2e3*0x4+0x35c;_0x4f9bca<_0x2cac11;++_0x4f9bca){const _0x3d0cfe=_0x526254['getImageTr'+'anscodedSi'+'zeInBytes'](_0x4f9bca,0x13ab+-0x1*0x18d1+0x2*0x293,0x1198+-0x168f*-0x1+0x1*-0x2827,_0x223583),_0x2ad1fd=new Uint8Array(_0x3d0cfe);if(!_0x526254['transcodeI'+'mage'](_0x2ad1fd,_0x4f9bca,0xf86*0x1+0x8*0x399+-0x35*0xd6,0xdf1+0x9e1*-0x1+-0x410,_0x223583,0x450+-0x2*-0xe7f+0x3*-0xb1a,-(0x25df+-0x1*-0x11b6+-0x3794),-(0x3b3+-0x8bb+0x509)))throw _0x526254['close'](),_0x526254['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x3e0695);const _0x4bb0a9=_0x223583===_0x410fd3['cTFRGB565']||_0x223583===_0x410fd3['cTFRGBA444'+'4'];_0xce0b2['push'](_0x4bb0a9?new Uint16Array(_0x2ad1fd['buffer']):_0x2ad1fd);}if(_0x526254['close'](),_0x526254['delete'](),_0x4d466f){for(_0x223583=_0x410fd3['cTFRGB565'],_0xdb68eb=-0x1b3a*0x1+-0x7d+-0x93d*-0x3;_0xdb68eb<_0xce0b2['length'];++_0xdb68eb)_0xce0b2[_0xdb68eb]=_0x29aa64(_0x35e3e0(_0xce0b2[_0xdb68eb]));}return{'format':_0x1f3792(_0x223583,_0x2c9b0d['deviceDeta'+'ils']),'width':_0x55229e,'height':_0x23a852,'levels':_0xce0b2,'cubemap':!(0x1136+-0x1*-0x2579+-0x36ae),'transcodeTime':_0x2424eb()-_0x781d84,'url':_0x3e0695,'unswizzledGGGR':_0x4d466f};},_0x41e73f=(_0x23f4de,_0x569e5f,_0x33659f)=>{const _0x18419c=_0x2424eb(),_0x552d65=new _0x36e5d0['BasisFile'](new Uint8Array(_0x569e5f)),_0xc93be5=_0x552d65['getImageWi'+'dth'](0x3*0x4b1+0x2*-0x40f+0x5f5*-0x1,0x67f+0x4*0x20f+-0xebb),_0x4755d8=_0x552d65['getImageHe'+'ight'](0xb28+-0x1d9f*-0x1+0x28c7*-0x1,-0x1*0x51a+-0x257*-0x6+-0x68*0x16),_0x10193c=_0x552d65['getNumImag'+'es'](),_0x45347c=_0x552d65['getNumLeve'+'ls'](0xe0b+-0x29*-0x8d+0x2*-0x1250),_0xe3e772=!!_0x552d65['getHasAlph'+'a'](),_0xca3240=_0x552d65['isUASTC']&&_0x552d65['isUASTC']();if(!_0xc93be5||!_0x4755d8||!_0x10193c||!_0x45347c)throw _0x552d65['close'](),_0x552d65['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x23f4de+'\x20width='+_0xc93be5+'\x20height='+_0x4755d8+'\x20images='+_0x10193c+'\x20levels='+_0x45347c);const _0x5bda95=_0x14c8ca(_0x33659f['deviceDeta'+'ils'],_0xe3e772,_0xca3240),_0x1038f3=!!_0x33659f['isGGGR']&&_0x5bda95==='pvr';let _0x17bb83;if(_0x1038f3?_0x17bb83=_0x410fd3['cTFRGBA32']:(_0x17bb83=_0xe3e772?_0x27e100[_0x5bda95]:_0x9fc485[_0x5bda95],_0xe2f4d9(_0xc93be5,_0x4755d8,_0x17bb83)||(_0x17bb83=_0xe3e772?_0x410fd3['cTFRGBA32']:_0x410fd3['cTFRGB565'])),!_0x552d65['startTrans'+'coding']())throw _0x552d65['close'](),_0x552d65['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x23f4de);let _0x1b51b0;const _0x4f3a26=[];for(let _0xc6422b=0x8dd*-0x2+-0x455*0x6+0x8*0x577;_0xc6422b<_0x45347c;++_0xc6422b){const _0xb482db=_0x552d65['getImageTr'+'anscodedSi'+'zeInBytes'](-0xfd4+-0x1*-0x16fa+-0x726,_0xc6422b,_0x17bb83),_0x241334=new Uint8Array(_0xb482db);if(!_0x552d65['transcodeI'+'mage'](_0x241334,-0x1708+0x52f+0x11d9,_0xc6422b,_0x17bb83,0x17e4+-0xee0+-0x904,0x478+-0x169f+0x1227)){if(_0xc6422b===_0x45347c-(-0x1*-0x19fd+-0xc6c+-0xd90)&&_0xb482db===_0x4f3a26[_0xc6422b-(0x24b4+0x1*-0x1582+-0xf31*0x1)]['buffer']['byteLength'])_0x241334['set'](new Uint8Array(_0x4f3a26[_0xc6422b-(-0x9c7*-0x3+-0x1b4*0x2+-0xcf6*0x2)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x23f4de);else throw _0x552d65['close'](),_0x552d65['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x23f4de);}const _0x12ea8f=_0x17bb83===_0x410fd3['cTFRGB565']||_0x17bb83===_0x410fd3['cTFRGBA444'+'4'];_0x4f3a26['push'](_0x12ea8f?new Uint16Array(_0x241334['buffer']):_0x241334);}if(_0x552d65['close'](),_0x552d65['delete'](),_0x1038f3){for(_0x17bb83=_0x410fd3['cTFRGB565'],_0x1b51b0=0x244a+-0xa*0x148+-0x177a;_0x1b51b0<_0x4f3a26['length'];++_0x1b51b0)_0x4f3a26[_0x1b51b0]=_0x29aa64(_0x35e3e0(_0x4f3a26[_0x1b51b0]));}return{'format':_0x1f3792(_0x17bb83,_0x33659f['deviceDeta'+'ils']),'width':_0xc93be5,'height':_0x4755d8,'levels':_0x4f3a26,'cubemap':!(-0x1917+0x1*-0x1c53+-0x356b*-0x1),'transcodeTime':_0x2424eb()-_0x18419c,'url':_0x23f4de,'unswizzledGGGR':_0x1038f3};},_0x5dfccb=(_0x2a49d7,_0x30e027,_0x3b23fb)=>_0x3b23fb['isKTX2']?_0x301b64(_0x2a49d7,_0x30e027,_0x3b23fb):_0x41e73f(_0x2a49d7,_0x30e027,_0x3b23fb),_0x4ff04b=(_0x361d85,_0x441a56,_0x290548)=>{try{const _0x213344=_0x5dfccb(_0x361d85,_0x441a56,_0x290548);_0x213344['levels']=_0x213344['levels']['map'](_0x519fa7=>_0x519fa7['buffer']),self['postMessag'+'e']({'url':_0x361d85,'data':_0x213344},_0x213344['levels']);}catch(_0x26c82d){self['postMessag'+'e']({'url':_0x361d85,'err':_0x26c82d},null);}},_0x4446f0=(_0x16ada8,_0x397ea2)=>{const _0x6cad7a=(_0x4c5199,_0x45fec7)=>(WebAssembly['instantiat'+'e'](_0x16ada8['module'],_0x4c5199)['then'](_0x1fc867=>{_0x45fec7(_0x1fc867);})['catch'](_0x3fd126=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x3fd126);}),{});self['BASIS'](_0x16ada8['module']?{'instantiateWasm':_0x6cad7a}:null)['then'](_0x2a5c49=>{_0x2a5c49['initialize'+'Basis'](),_0x36e5d0=_0x2a5c49,_0x4d39a2=_0x16ada8['rgbPriorit'+'y'],_0x29626d=_0x16ada8['rgbaPriori'+'ty'],_0x397ea2(null);});},_0x28d3c9=[];self['onmessage']=_0x378ef9=>{const _0x379efc=_0x378ef9['data'];switch(_0x379efc['type']){case'init':_0x4446f0(_0x379efc['config'],()=>{for(let _0x554986=0x3*0x86d+0x23b*-0xc+0x17d*0x1;_0x554986<_0x28d3c9['length'];++_0x554986)_0x4ff04b(_0x28d3c9[_0x554986]['url'],_0x28d3c9[_0x554986]['data'],_0x28d3c9[_0x554986]['options']);_0x28d3c9['length']=-0x1*-0x1623+0x1218+-0x283b;});break;case'transcode':_0x36e5d0?_0x4ff04b(_0x379efc['url'],_0x379efc['data'],_0x379efc['options']):_0x28d3c9['push'](_0x379efc);break;}};}const gL=_0x17fd53=>({'astc':!!_0x17fd53['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x17fd53['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x17fd53['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x17fd53['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x17fd53['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x17fd53['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x518123,_0x3fb761)=>{const _0x119a04=_0x312dcd=>{const _0x4c3d60=['/*\x20basis\x20*'+'/',_0x312dcd,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x4c3d60],{'type':'applicatio'+'n/javascri'+'pt'});},_0x27cb8a=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x2961d1=new WebAssembly['Module'](Uint8Array['of'](0x944*0x2+-0x10*-0x1e+-0x2*0xa34,-0x1fed+-0x2235+0x4283,0x20d+-0x1224+0x108a,-0x1072+-0x14e7+0x5*0x78e,-0x1e49+-0x2016*-0x1+-0x1cc,0x126b*-0x2+-0x30*-0x17+0x2086,0xbad+0x1d3a+-0x28e7*0x1,-0x1*-0x327+-0x303+-0x24));if(_0x2961d1 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x2961d1)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1daa+0xc9f+0x1*0x110c);},_0x229839=(_0x81e444,_0x35435e)=>{_0x3fb761(null,{'workerUrl':URL['createObje'+'ctURL'](_0x119a04(_0x81e444)),'module':_0x35435e,'rgbPriority':_0x518123['rgbPriorit'+'y'],'rgbaPriority':_0x518123['rgbaPriori'+'ty']});},_0x37b9d0={'cache':!(0x16b+0x1*-0x228+0xbd),'responseType':'text','retry':_0x518123['maxRetries']>-0x12bf*-0x1+-0x7f*0x3+-0x1142,'maxRetries':_0x518123['maxRetries']};if(_0x518123['glueUrl']&&_0x518123['wasmUrl']&&_0x27cb8a()){let _0x5f50e6=null,_0x23a9df=null;We['get'](_0x518123['glueUrl'],_0x37b9d0,(_0x24e341,_0x253032)=>{_0x24e341?_0x3fb761(_0x24e341):_0x23a9df?_0x229839(_0x253032,_0x23a9df):_0x5f50e6=_0x253032;});const _0x47ec7f=fetch(_0x518123['wasmUrl']),_0x144952=()=>{_0x47ec7f['then'](_0x1ec9c7=>_0x1ec9c7['arrayBuffe'+'r']())['then'](_0x3c109c=>WebAssembly['compile'](_0x3c109c))['then'](_0x1382f4=>{_0x5f50e6?_0x229839(_0x5f50e6,_0x1382f4):_0x23a9df=_0x1382f4;})['catch'](_0x488ffc=>{_0x3fb761(_0x488ffc,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x47ec7f)['then'](_0x3ea37c=>{_0x5f50e6?_0x229839(_0x5f50e6,_0x3ea37c):_0x23a9df=_0x3ea37c;})['catch'](_0x46a24e=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x518123['wasmUrl']+'\x20('+_0x46a24e+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x144952();}):_0x144952();}else We['get'](_0x518123['fallbackUr'+'l'],_0x37b9d0,(_0x14c45a,_0x1f90b4)=>{_0x14c45a?_0x3fb761(_0x14c45a,null):_0x229839(_0x1f90b4,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x235ac0,_0x4e2825,_0x435789,_0x21ba31){if(this['callbacks']['hasOwnProp'+'erty'](_0x235ac0))this['callbacks'][_0x235ac0]['push'](_0x435789);else{this['callbacks'][_0x235ac0]=[_0x435789];const _0x1ff2e3={'url':_0x235ac0,'data':_0x4e2825,'options':_0x21ba31};this['clients']['length']>0x1f86*0x1+-0x25fd+0x677?this['clients']['shift']()['run'](_0x1ff2e3):this['queue']['push'](_0x1ff2e3);}}['enqueueCli'+'ent'](_0x3c12a3){this['queue']['length']>0x2f3*-0x2+-0x1*0x4b1+-0x1*-0xa97?_0x3c12a3['run'](this['queue']['shift']()):this['clients']['push'](_0x3c12a3);}['handleResp'+'onse'](_0x456c68,_0x155397,_0x21731e){const _0x46ae54=this['callbacks'][_0x456c68];if(_0x155397){for(let _0x393ef4=-0x22a7+0x1871+0xa36;_0x393ef4<_0x46ae54['length'];++_0x393ef4)_0x46ae54[_0x393ef4](_0x155397);}else{_0x21731e['format']===_c||_0x21731e['format']===gc?_0x21731e['levels']=_0x21731e['levels']['map'](_0x3b54ac=>new Uint16Array(_0x3b54ac)):_0x21731e['levels']=_0x21731e['levels']['map'](_0x5d6ff9=>new Uint8Array(_0x5d6ff9));for(let _0x33088a=0x21a0+-0x3*-0x22f+-0x282d;_0x33088a<_0x46ae54['length'];++_0x33088a)_0x46ae54[_0x33088a](null,_0x21731e);}delete this['callbacks'][_0x456c68];}}class SL{constructor(_0xfdcf75,_0x5b47b5,_0x4b4cc1){this['queue']=_0xfdcf75,this['worker']=new Worker(_0x5b47b5['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x27197a=>{const _0x2e412d=_0x27197a['data'];this['queue']['handleResp'+'onse'](_0x2e412d['url'],_0x2e412d['err'],_0x2e412d['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x5b47b5}),this['eager']=_0x4b4cc1;}['run'](_0x3aca95){const _0x543ab2=[];_0x3aca95['data']instanceof ArrayBuffer&&_0x543ab2['push'](_0x3aca95['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x3aca95['url'],'format':_0x3aca95['format'],'data':_0x3aca95['data'],'options':_0x3aca95['options']},_0x543ab2),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=0x1d35+-0x49b*-0x7+-0x1*0x3d71,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=-0x1ca3+0x2539+-0x891,Tf=new xL();let Hg=null,Af=!(-0x173d*0x1+-0x11*0x141+0x11*0x29f);function AL(_0x592466){if(!Af){if(!_0x592466)_0x592466=Hg||{};else{if(_0x592466['lazyInit']){Hg=_0x592466;return;}}if(!_0x592466['glueUrl']||!_0x592466['wasmUrl']||!_0x592466['fallbackUr'+'l']){const _0xc175f5=ay['getConfig']('BASIS');_0xc175f5&&(_0x592466={'glueUrl':_0xc175f5['glueUrl'],'wasmUrl':_0xc175f5['wasmUrl'],'fallbackUrl':_0xc175f5['fallbackUr'+'l'],'numWorkers':_0xc175f5['numWorkers']});}if(_0x592466['glueUrl']||_0x592466['wasmUrl']||_0x592466['fallbackUr'+'l']){Af=!(0x1bc2+-0x1*0x26e5+0xb23);const _0x18ccc9=Math['max'](-0xa70+-0x106d+0x1ade,Math['min'](-0x1f3d+-0x233*-0xf+-0x24*0xc,_0x592466['numWorkers']||vL)),_0x5dd3c2=_0x592466['numWorkers']===-0x185a+0x1*-0x1431+0x2*0x1646||(_0x592466['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x592466['eagerWorke'+'rs']:!(0x377*0xb+0x251*0x1+-0x6*0x6bd));_0x592466['rgbPriorit'+'y']=_0x592466['rgbPriorit'+'y']||bL,_0x592466['rgbaPriori'+'ty']=_0x592466['rgbaPriori'+'ty']||wL,_0x592466['maxRetries']=_0x592466['hasOwnProp'+'erty']('maxRetries')?_0x592466['maxRetries']:TL,yL(_0x592466,(_0x38035a,_0x56c65a)=>{if(_0x38035a)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x38035a);else{for(let _0x15ef84=-0x7a7*0x3+-0x188b*0x1+-0x2*-0x17c0;_0x15ef84<_0x18ccc9;++_0x15ef84)Tf['enqueueCli'+'ent'](new SL(Tf,_0x56c65a,_0x5dd3c2));}});}}}let su=null;function Fx(_0x9979c1,_0x2c8b3e,_0x2333b9,_0x258d95,_0x5c450b){return AL(),su||(su={'formats':gL(_0x9979c1)}),Tf['enqueueJob'](_0x2c8b3e,_0x2333b9,_0x258d95,{'deviceDetails':su,'isGGGR':!!(_0x5c450b!=null&&_0x5c450b['isGGGR']),'isKTX2':!!(_0x5c450b!=null&&_0x5c450b['isKTX2'])}),Af;}class Na{['load'](_0x11f9bb,_0x2d1022,_0x2e2be9){throw new Error('not\x20implem'+'ented');}['open'](_0x58e6c6,_0x423ce0,_0x20cb20){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0x28857d,_0xab4460){super(),this['device']=_0xab4460,this['maxRetries']=-0xae1+-0x4ff+0x1fc*0x8;}['load'](_0x475358,_0x52d352,_0x59ec88){const _0x55dd6f=this['device'],_0x17d787=_0x31a2d3=>{var _0x4207b5,_0x3ced18,_0x63badc;Fx(_0x55dd6f,_0x475358['load'],_0x31a2d3,_0x52d352,{'isGGGR':(((_0x63badc=(_0x3ced18=(_0x4207b5=_0x59ec88==null?void(-0x1*-0xff1+-0x1913+0x2*0x491):_0x59ec88['file'])==null?void(-0x54f*0x1+-0xeaa*-0x2+0x8f*-0x2b):_0x4207b5['variants'])==null?void(-0x2192+0x5*-0x2bd+-0x2f43*-0x1):_0x3ced18['basis'])==null?void(0x1b1*-0x13+0xf1d+0x1106):_0x63badc['opt'])&-0xba+0x8*-0x298+-0xac1*-0x2)!==0x881+0x433+-0xc*0x10f})||_0x52d352('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x59ec88['name']+']('+_0x59ec88['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x475358['load'],(_0x2f408d,_0x261f0d)=>{_0x2f408d?_0x52d352(_0x2f408d):_0x17d787(_0x261f0d);},_0x59ec88,this['maxRetries']);}['open'](_0xc2939a,_0x8fdff2,_0x464491,_0x3c89cf={}){const _0x278b89=_0x3c89cf['srgb']?Cc(_0x8fdff2['format']):_0x8fdff2['format'],_0x21accf=new he(_0x464491,{'name':_0xc2939a,'profilerHint':ur,'addressU':_0x8fdff2['cubemap']?ae:tt,'addressV':_0x8fdff2['cubemap']?ae:tt,'width':_0x8fdff2['width'],'height':_0x8fdff2['height'],'format':_0x278b89,'cubemap':_0x8fdff2['cubemap'],'levels':_0x8fdff2['levels'],..._0x3c89cf});return _0x21accf['upload'](),_0x21accf;}}const Ox=new Uint8Array([-0x123b+0x29f*0x7+0x6b*0x1,-0x3*-0x99b+0x246*-0xb+0x5*-0xb3,0x731*0x4+0xa7*0x2e+-0xe9e*0x4,0x5f9+0x1777*0x1+-0x1d29,0x14c5*0x1+0x2685+-0x3b3d,0x503+-0x1*0x1f01+-0x7*-0x3b8,-0x1b19+-0x733*-0x4+-0x199,0x99c+-0x11b6+0x824,-0x3*-0x22a+-0x1*-0xa21+0x109f*-0x1,0x1*0x11a5+0x2224+0x1143*-0x3,0x1c*0x11a+-0x192e+-0x5aa,-0x1b36+-0x1ce5+-0x1*-0x3828,-0x15d1+0x23f1+0x49d*-0x3,-0xfe*-0xe+0x1*-0x8f0+-0x256*0x2,-0x4d*0x72+0x30f*0x3+0x1*0x1961,-0x5c8+-0x5*0x652+0x2*0x12da,0x1919*0x1+-0x118+-0x1801,-0x2a*-0x41+-0x2138+0x1*0x168e,-0x1a05*0x1+-0x1bcf+-0x82*-0x6a,-0xdc7+-0x532+0x12fa,-0x1*0x54f+0x2*-0x7cd+0x14e9,-0xb5*-0x1d+0x160f+0x1*-0x2a90,0x19f2+0x1bd*-0xf+0x21,0xaab+0xf41+0x52f*-0x5,0x5*0x4fb+-0x1f7b*0x1+-0x11a*-0x6,-0x26f7*0x1+-0x181f+0x1f8e*0x2,-0x876+0x1*-0x1bc7+0x243d,0x7f+0x2af*0x1+-0x2*0x197,0x1*0x136+0x5ef*-0x1+-0x3*-0x193,0x89e*-0x2+-0x208c+0x16d*0x23,-0x6c8+-0xc96+0xd*0x17f,0x1*0x14d2+0xfdf*-0x2+0xbb0,0x1d6e+-0x1*-0x5e3+-0x22c8,-0x31*-0xc5+0x166d*0x1+-0x3c22,-0x252f+-0x7e1+0x2d10,-0x1*-0x14a2+0x140e+0x15*-0x1f0,-0x21ea+-0x2fc*0xd+0x48c3,0x2*-0x478+0x7f*-0x45+0x26a*0x12,-0x1ebb+0x1*0x13e5+0xb1a,-0x9bc+0x6*0x1b5+-0xd*0x5,-0x3*0x58e+-0x1*0x10c9+0x21c7,0x55*-0x53+0xb3*0x7+0x5e*0x3f,-0x2*-0x5c1+-0x9*0x18f+0x1*0x35f,-0x16d5+0xcc1*0x3+0x1*-0xf0b,-0x1dc5*0x1+-0xf*-0xb+0x1d84,0x36e+0x2fe+0x4*-0x182,0x2c6+-0xa82+0x81e,0x36c+0x3a2+-0x1d*0x38,-0x5cb+0x1*0x22d2+0x40*-0x74,-0x7b*-0x39+0x1247+-0x2daa,-0x12f8+-0x185b+0xe71*0x3,-0xba+-0x5*0x775+0x14*0x1eb,0x2ea+0x6*-0x59+-0xd4,-0xf1f+-0x28*-0x10+0xce6,0x2f*-0xbf+0x1c41+0x713,-0x21b6+0x7*0x1b1+0x1*0x1664,0xb14*0x1+0x16b2+-0x2132,-0x156f+-0x2a5*-0x9+-0x171,0x20af*0x1+0x224e+-0x42fd,0x581+-0xdc6+-0x1d*-0x49,-0x3*-0x753+-0x9c4+-0xc35,0x1*-0x1582+-0x1*0x1bcd+0x314f,-0x3af+0x46*0x8e+-0x22dc,-0x8d4+-0x1*-0xa93+-0x17a,-0x77c*-0x3+0x2433+0x1*-0x3a59,0x1180+-0x396+0x1*-0xda6,-0x5f*0x62+0x1*0x1d99+0x773,0x1e49+-0xd24+-0x189*0xb,0x20b5+0x241*0x4+-0x16d*0x1d,0x11fd+0x4f*0x23+0xe24*-0x2]),kx=(_0x2cc9ac,_0x309d74)=>{const _0x423dac=new he(_0x2cc9ac,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(-0x25ce+0x247*-0xc+0x4123),'levels':[_0x309d74]}),_0xf85eeb=new pt({'colorBuffer':_0x423dac,'depth':!(0xbeb+-0x2*0xb9e+-0x17*-0x7e)});_0x2cc9ac['setFramebu'+'ffer'](_0xf85eeb['impl']['_glFrameBu'+'ffer']),_0x2cc9ac['initRender'+'Target'](_0xf85eeb);const _0x3f279e=new Uint8ClampedArray(0x4e8+0x25a8+-0x2a8c);return _0x2cc9ac['gl']['readPixels'](-0xb7*0x2f+0x281*0x6+0x1293,0x201e+0x1763+-0x3781,-0x2225+0x9*0x2fb+-0x177*-0x5,-0x1*0x1eb2+0x2303+-0x8*0x8a,_0x2cc9ac['gl']['RGBA'],_0x2cc9ac['gl']['UNSIGNED_B'+'YTE'],_0x3f279e),_0xf85eeb['destroy'](),_0x423dac['destroy'](),_0x3f279e[0x21fd+-0x1*0x182c+0x1*-0x9d1]===-0x152a+-0xb*-0x379+-0x1108&&_0x3f279e[0x1*0x1025+0x19b9+-0x7*0x5fb]===-0x17*0x16d+-0x1*0x318+-0xbf7*-0x3&&_0x3f279e[-0x1eb7+-0x5ba+-0x7*-0x535]===0x1828+0xa1a+-0x223f&&_0x3f279e[-0x2b*-0x39+0x239*0xb+-0x1*0x2203]===0x1d15+-0xe3d+-0xe99;},CL=_0x314bfc=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x36086a=>kx(_0x314bfc,_0x36086a))['catch'](_0x435022=>!(-0x232b+-0x16a2+0x39ce)),ML=_0x5408e0=>new Promise((_0x5ac0ac,_0x52b67e)=>{const _0x2f481e=new Image();_0x2f481e['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x2f481e['onload']=()=>{_0x5ac0ac(kx(_0x5408e0,_0x2f481e));};});class PL{static['run'](_0x14547f){CL(_0x14547f)['then'](_0xd9ba7b=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0xd9ba7b);}),ML(_0x14547f)['then'](_0x35e50d=>{console['log']('imgElement'+'IsCorrect='+_0x35e50d);});}}class RL extends Na{constructor(_0x23ef58,_0x4da5df){super(),this['crossOrigi'+'n']=_0x23ef58['prefix']?'anonymous':null,this['maxRetries']=0x2b*-0xb3+-0x108a+0x2e9b,this['device']=_0x4da5df,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x3fb620,_0x3b5f3e,_0x2b6632){var _0x8a98e8;const _0x57069d=!!((_0x8a98e8=_0x2b6632==null?void(-0x43*0x89+0x3*0x4e1+0x1538):_0x2b6632['file'])!=null&&_0x8a98e8['contents']);if(_0x57069d){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x2b6632['file']['contents']]),_0x3b5f3e);return;}_0x3fb620={'load':URL['createObje'+'ctURL'](new Blob([_0x2b6632['file']['contents']])),'original':_0x3fb620['original']};}const _0x1ffd42=(_0x5b0084,_0x3edb03)=>{_0x57069d&&URL['revokeObje'+'ctURL'](_0x3fb620['load']),_0x3b5f3e(_0x5b0084,_0x3edb03);};let _0x3b7372;_0x2b6632&&_0x2b6632['options']&&_0x2b6632['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x3b7372=_0x2b6632['options']['crossOrigi'+'n']:Da['test'](_0x3fb620['load'])&&(_0x3b7372=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x3fb620['load'],_0x3fb620['original'],_0x3b7372,_0x1ffd42):this['_loadImage'](_0x3fb620['load'],_0x3fb620['original'],_0x3b7372,_0x1ffd42);}['open'](_0x4472b4,_0x4302d6,_0x57e75c,_0x356723={}){const _0x13d1f5=new he(_0x57e75c,{'name':_0x4472b4,'profilerHint':ur,'width':_0x4302d6['width'],'height':_0x4302d6['height'],'format':_0x356723['srgb']?rs:Se,..._0x356723});return _0x13d1f5['setSource'](_0x4302d6),_0x13d1f5;}['_loadImage'](_0x247530,_0x46aa11,_0x37bee6,_0x468425){const _0x5445ff=new Image();_0x37bee6&&(_0x5445ff['crossOrigi'+'n']=_0x37bee6);let _0x29d526=-0xd5e+0xfd*0x13+0x1*-0x569;const _0x1be84e=this['maxRetries'];let _0x4525ae;_0x5445ff['onload']=function(){_0x468425(null,_0x5445ff);},_0x5445ff['onerror']=function(){if(!_0x4525ae){if(_0x1be84e>-0x1*-0x47d+0x15d7*-0x1+0x115a&&++_0x29d526<=_0x1be84e){const _0x9ac6d3=Math['pow'](-0xb85*0x3+0x1a30+0x861,_0x29d526)*(0x686+0x7bc+-0xdde*0x1);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x46aa11+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x9ac6d3+'ms...');const _0x19fd75=_0x247530['indexOf']('?')>=-0x797+-0xac0+0x1257?'&':'?';_0x4525ae=setTimeout(()=>{_0x5445ff['src']=_0x247530+_0x19fd75+'retry='+Date['now'](),_0x4525ae=null;},_0x9ac6d3);}else _0x468425('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x46aa11+'\x27');}},_0x5445ff['src']=_0x247530;}['_loadImage'+'Bitmap'](_0x5d8ad3,_0x88888,_0x1983ea,_0x3b001b){const _0xf8b3={'cache':!(-0x10fc+0x2133+-0x1037*0x1),'responseType':'blob','retry':this['maxRetries']>0x869*-0x3+-0x1dc9+-0x7dc*-0x7,'maxRetries':this['maxRetries']};We['get'](_0x5d8ad3,_0xf8b3,(_0x2f58d4,_0x213b24)=>{_0x2f58d4?_0x3b001b(_0x2f58d4):this['_loadImage'+'BitmapFrom'+'Blob'](_0x213b24,_0x3b001b);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x13061e,_0x364f98){createImageBitmap(_0x13061e,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x211a5=>_0x364f98(null,_0x211a5))['catch'](_0x30b4db=>_0x364f98(_0x30b4db));}}const iu=[-0x37*0xbaed7d+-0x950983d9+0x11586d55f,-0x3865cb81+-0x13c7dab41*0x1+0x2*0x1180a53f1,0xa2c959*-0x1+0x26705c6*-0x8+0x1df50196],IL={0x83f0:yc,0x83f2:zf,0x83f3:Wo,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0xbdc2d6,_0x34e39a,_0x5da221,_0x4e25ed){return _0xbdc2d6===_a?new Uint32Array(_0x34e39a,_0x5da221,_0x4e25ed/(0x1829+0xecd+-0x26f2)):new Uint8Array(_0x34e39a,_0x5da221,_0x4e25ed);}class LL extends Na{constructor(_0xe5548c){super(),this['maxRetries']=0xa*0x395+0xd*0xde+0x2c*-0x112;}['load'](_0x55bbb6,_0x31bb1c,_0x4b9bf6){le['fetchArray'+'Buffer'](_0x55bbb6['load'],_0x31bb1c,_0x4b9bf6,this['maxRetries']);}['open'](_0x357458,_0x1d5046,_0x3cd1d5,_0x5061b4={}){const _0x4b0893=this['parse'](_0x1d5046);if(!_0x4b0893)return null;const _0x353f4a=_0x5061b4['srgb']?Cc(_0x4b0893['format']):_0x4b0893['format'],_0x3d8c56=new he(_0x3cd1d5,{'name':_0x357458,'profilerHint':ur,'addressU':_0x4b0893['cubemap']?ae:tt,'addressV':_0x4b0893['cubemap']?ae:tt,'width':_0x4b0893['width'],'height':_0x4b0893['height'],'format':_0x353f4a,'cubemap':_0x4b0893['cubemap'],'levels':_0x4b0893['levels'],..._0x5061b4});return _0x3d8c56['upload'](),_0x3d8c56;}['parse'](_0x4f5cd7){const _0x564621=new Uint32Array(_0x4f5cd7);if(iu[0x4a*0x2c+-0x13*0x53+-0x68f]!==_0x564621[0x13*-0x1b7+-0xbfe*0x1+0x2c93*0x1]||iu[-0x1*-0x159e+0xdfa+-0x2397]!==_0x564621[-0x9e6+-0x1cd1+0x26b8]||iu[0x2b*-0xbf+-0xc0b*0x3+0x4438]!==_0x564621[-0x21bb+0x1*0x16d+-0x2050*-0x1])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0xed2f4={'endianness':_0x564621[-0x1459*-0x1+-0x1c3a*-0x1+-0x150*0x25],'glType':_0x564621[0x1582+0x6df+-0x35*0x89],'glTypeSize':_0x564621[-0x32e*0xb+0x1*-0x25+0x2324],'glFormat':_0x564621[0x1a89*0x1+0x1c46+-0x3*0x1243],'glInternalFormat':_0x564621[0x1*-0x389+0x15f9+-0x1269*0x1],'glBaseInternalFormat':_0x564621[0xfd9*0x1+0xa*0x3b3+-0x34cf],'pixelWidth':_0x564621[-0x260d+0x7*0x577+0x2b*-0x1],'pixelHeight':_0x564621[0xf1*-0x1b+-0x4b*-0x31+0xb1a],'pixelDepth':_0x564621[-0x1*-0x221+0x11*-0x1d+-0x29*0x1],'numberOfArrayElements':_0x564621[0xa49+0x5f*0x46+-0x2437],'numberOfFaces':_0x564621[0x77c*-0x4+-0x4*0x6cb+0x3929*0x1],'numberOfMipmapLevels':_0x564621[0x34*-0x64+0x1764+-0x306],'bytesOfKeyValueData':_0x564621[0xcbb+0x40f*0x1+-0x1*0x10bb]};if(_0xed2f4['pixelDepth']>-0xb1*0x23+0x5*-0x47f+0x2eaf)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0xed2f4['numberOfAr'+'rayElement'+'s']!==-0x30e+0x4de*0x7+-0x1f04)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x54db67=IL[_0xed2f4['glInternal'+'Format']];if(_0x54db67===void(-0x1e66+0x2*0x67f+0x1168))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0xed2f4['glInternal'+'Format']),null;let _0x313e75=-0xb81*0x3+0x1*0x38d+0x1f06+_0xed2f4['bytesOfKey'+'ValueData']/(0x152a+0x2116+-0x3*0x1214);const _0x5a21bc=_0xed2f4['numberOfFa'+'ces']>-0x1c43+-0x1678+0x11*0x2fc,_0x11c0ed=[];for(let _0x54d91e=-0x95*-0x19+-0x2*0xb53+0x819;_0x54d91e<(_0xed2f4['numberOfMi'+'pmapLevels']||0xe7b*-0x1+0x1*-0x141b+0xfd*0x23);_0x54d91e++){const _0x5d4396=_0x564621[_0x313e75++];_0x5a21bc&&_0x11c0ed['push']([]);const _0x2536e2=_0x5a21bc?_0x11c0ed[_0x54d91e]:_0x11c0ed;for(let _0x4c6474=0x3*0x756+0x358+0x289*-0xa;_0x4c6474<(_0x5a21bc?-0x1*0x774+-0x14fd+-0x1c77*-0x1:0xb*0x3d+-0xb*0x61+0x18d);++_0x4c6474)_0x2536e2['push'](DL(_0x54db67,_0x4f5cd7,_0x313e75*(0x3*-0xcca+0x5e4+0x207e),_0x5d4396)),_0x313e75+=_0x5d4396+(-0x2f5*0xa+0x1078+-0x45f*-0x3)>>-0x1*0x97a+0x2*0xa55+-0x597*0x2;}return{'format':_0x54db67,'width':_0xed2f4['pixelWidth'],'height':_0xed2f4['pixelHeigh'+'t'],'levels':_0x11c0ed,'cubemap':_0x5a21bc};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x2082da,_0x22b8a6){super(),this['maxRetries']=-0x665*-0x3+-0xfdb+-0x6*0x8e,this['device']=_0x22b8a6;}['load'](_0x53c8b4,_0x9f122a,_0x9841f2){le['fetchArray'+'Buffer'](_0x53c8b4['load'],(_0x1dc796,_0x3589cb)=>{_0x1dc796?_0x9f122a(_0x1dc796,_0x3589cb):this['parse'](_0x3589cb,_0x53c8b4,_0x9f122a,_0x9841f2);},_0x9841f2,this['maxRetries']);}['open'](_0x3fe955,_0x9cb337,_0x4a45c,_0x1a14d2={}){const _0x20a75b=_0x1a14d2['srgb']?Cc(_0x9cb337['format']):_0x9cb337['format'],_0x2cad0a=new he(_0x4a45c,{'name':_0x3fe955,'profilerHint':ur,'addressU':_0x9cb337['cubemap']?ae:tt,'addressV':_0x9cb337['cubemap']?ae:tt,'width':_0x9cb337['width'],'height':_0x9cb337['height'],'format':_0x20a75b,'cubemap':_0x9cb337['cubemap'],'levels':_0x9cb337['levels'],..._0x1a14d2});return _0x2cad0a['upload'](),_0x2cad0a;}['parse'](_0x149db1,_0x4edc50,_0x5e24b2,_0x171586){var _0x30dc9f,_0x5dba65,_0x484d16;const _0x2981d2=new oy(_0x149db1),_0x50ab0f=[_0x2981d2['readU32be'](),_0x2981d2['readU32be'](),_0x2981d2['readU32be']()];if(_0x50ab0f[0x2*-0x7be+-0x10d4+-0x1*-0x2050]!==-0x4d17de9*-0x3+-0x13d47a1c4+-0x1*-0x1da1e7c61||_0x50ab0f[0xe3*-0x2a+-0x3d0+0x17*0x1c9]!==-0x2507186d+-0x478fd2*-0xdd+0x6*0x13db025||_0x50ab0f[-0x24a+-0x1*0xdf3+0x103f]!==-0x2*0x7db12dc+-0x6068119*-0x2+0x2*0x8599ec8)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x1f484b={'vkFormat':_0x2981d2['readU32'](),'typeSize':_0x2981d2['readU32'](),'pixelWidth':_0x2981d2['readU32'](),'pixelHeight':_0x2981d2['readU32'](),'pixelDepth':_0x2981d2['readU32'](),'layerCount':_0x2981d2['readU32'](),'faceCount':_0x2981d2['readU32'](),'levelCount':_0x2981d2['readU32'](),'supercompressionScheme':_0x2981d2['readU32']()},_0x97370b={'dfdByteOffset':_0x2981d2['readU32'](),'dfdByteLength':_0x2981d2['readU32'](),'kvdByteOffset':_0x2981d2['readU32'](),'kvdByteLength':_0x2981d2['readU32'](),'sgdByteOffset':_0x2981d2['readU64'](),'sgdByteLength':_0x2981d2['readU64']()},_0x5f00ef=[];for(let _0x4d95de=0x13bd+-0x226c+0xeaf;_0x4d95de<Math['max'](0x3*-0xc83+-0x596+0x2b20,_0x1f484b['levelCount']);++_0x4d95de)_0x5f00ef['push']({'byteOffset':_0x2981d2['readU64'](),'byteLength':_0x2981d2['readU64'](),'uncompressedByteLength':_0x2981d2['readU64']()});if(_0x2981d2['readU32']()!==_0x97370b['kvdByteOff'+'set']-_0x97370b['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x2981d2['skip'](0x12bf+0x1381*-0x1+0xca);const _0x461933=_0x2981d2['readU8']();_0x2981d2['skip'](_0x97370b['dfdByteLen'+'gth']-(-0x1*0x25bb+-0xe57+0x341b)),_0x2981d2['skip'](_0x97370b['kvdByteLen'+'gth']),_0x1f484b['supercompr'+'essionSche'+'me']===0x8a0+0x22cd+0x2b6c*-0x1||_0x461933===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0x4edc50['load'],_0x149db1,_0x5e24b2,{'isGGGR':(((_0x484d16=(_0x5dba65=(_0x30dc9f=_0x171586==null?void(0x23a6*0x1+0xeb4+-0x325a):_0x171586['file'])==null?void(-0x1729+0x1af+-0x1*-0x157a):_0x30dc9f['variants'])==null?void(-0xd95+-0x17ec+0x2581):_0x5dba65['basis'])==null?void(0x2*-0x9d0+-0x1106+0x24a6):_0x484d16['opt'])&0x2f*0x79+0x1b28+-0x3157)!==0xbbc+-0x123*0x1b+0x12f5,'isKTX2':!(0x2a1*0x2+0x14*-0x96+0x676)})||_0x5e24b2('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x171586['name']+']('+_0x171586['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x5e24b2('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x963a4b){super(),this['maxRetries']=-0x2e3*0x5+0x7ba+0x6b5;}['load'](_0x2f7a9f,_0x99d91a,_0x8cb0ec){le['fetchArray'+'Buffer'](_0x2f7a9f['load'],_0x99d91a,_0x8cb0ec,this['maxRetries']);}['open'](_0x1f6ffa,_0x3979aa,_0x3c2876,_0x4e1c39={}){const _0x68f4dc=new Uint32Array(_0x3979aa,0xdc4+-0x3*0x489+-0x29,-0xa9*-0x13+-0x1c96+0x102b),_0x5a8a3a=_0x68f4dc[0x601+0xcc6+0x641*-0x3],_0x58441b=_0x68f4dc[-0xa6*-0x2a+-0x2151+0x618],_0x11981=Math['max'](_0x68f4dc[-0x2334*-0x1+0x1*0x539+-0x2866],-0x18c7*-0x1+0x1*0x1b47+0x340d*-0x1),_0x29f3ee=_0x68f4dc[0x1*0x2502+0x237a+0x121a*-0x4]===0xc*0x2ec+-0xa2+0x371*-0xa,_0x39e4b0=_0x68f4dc[-0x28d*-0xe+-0x1c*-0x4f+-0x2c45],_0x4c4215=_0x68f4dc[0x23*-0x116+0x1a52+-0x1*-0xbc6],_0x4c1010=_0x68f4dc[-0x623*0x1+0xc9c+-0x65d]===-0x912a+0xe9a6+0xa584,_0x57cb2d=0x86db8e2+0x11ca618+0x27c9f94a,_0x406341=0x193740ac*-0x2+-0x383d66ec+0xa0004088,_0x44666d=0x8ca+0x6f5+-0x1*0xf4e,_0x5d3e50=-0x2051+-0xaef+0x15da*0x2,_0x2040d9=0xafb4c52+-0x7e041*0x9f0+-0x1*-0x748c8de3,_0x114f15=-0x6b66a7*0x7+-0x503fd316+0x8462d3f7,_0x5d33cb=0x6*-0x180ee51+0x161*0x3826c+0x3562f14a*0x1,_0x54bacd=0x278679ef+-0x44f34051*-0x1+-0x3b4685f0,_0x3c8180=-0x1*-0x2942cdd4+-0x476bbcdb+0x316ef5*0x19b;let _0x14f959=!(0x1*-0x1585+-0x1*-0x1313+-0x273*-0x1),_0x14918c=!(0x383+0x205*0x10+-0x23d2),_0x4b0ccb=!(-0x2*-0x25f+0x19f*0xf+0xe87*-0x2),_0x15585f=!(0x1*0x1255+-0xb6b+-0x1d*0x3d),_0x697665=null,_0x5d87b1=-0x2268+-0x1*0x16de+0x2b*0x155,_0x3a52e7;if(_0x29f3ee?_0x39e4b0===_0x57cb2d?(_0x697665=yc,_0x14f959=!(0x35*0x41+0x37c*0x1+-0x10f1)):_0x39e4b0===_0x406341?(_0x697665=Wo,_0x14f959=!(-0x1905+0xa*-0x2cc+0x34fd)):_0x39e4b0===_0x44666d?(_0x697665=Je,_0x5d87b1=-0x6*-0x159+-0x2*0x9df+0xbaa):_0x39e4b0===_0x5d3e50?(_0x697665=Ke,_0x5d87b1=-0x117f*-0x2+0x155+0x2cb*-0xd):_0x39e4b0===_0x2040d9?(_0x697665=bc,_0x14f959=!(0x184*-0x6+-0x155e+0x1e76),_0x14918c=!(0x1a7b+-0x17f2+0x3b*-0xb)):_0x39e4b0===_0x114f15||_0x39e4b0===_0x5d33cb?(_0x697665=_0x39e4b0===_0x114f15?qo:Xo,_0x14f959=!(0x139e+-0x1*-0x19f7+-0x2d95),_0x4b0ccb=!(-0x1*0x1445+-0x5f3+0x1a38)):(_0x39e4b0===_0x54bacd||_0x39e4b0===_0x3c8180)&&(_0x697665=_0x39e4b0===_0x54bacd?wc:Tc,_0x14f959=!(-0x7e*-0x19+0x1f*-0x137+0x195b),_0x15585f=!(-0x20de+-0x9be+-0x12*-0x25e)):_0x4c4215===0x2222+-0x57b*-0x3+0x2d*-0x11f&&(_0x697665=Se),!_0x697665)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x1f6ffa+'.'),_0x3a52e7=new he(_0x3c2876,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x3a52e7;_0x3a52e7=new he(_0x3c2876,{'name':_0x1f6ffa,'profilerHint':ur,'addressU':_0x4c1010?ae:tt,'addressV':_0x4c1010?ae:tt,'width':_0x5a8a3a,'height':_0x58441b,'format':_0x697665,'cubemap':_0x4c1010,'mipmaps':_0x11981>-0xba*-0x1b+-0x113c+-0x261,..._0x4e1c39});let _0xf22ec7=0x1b1*-0x10+-0xc54+0x27e4;const _0x299fad=_0x4c1010?0x13a1+0x20b3+-0x41*0xce:-0x17b0+-0x1740+0x1*0x2ef1;let _0x2aad75;const _0x396159=0x8d0+-0x19a3*0x1+0x9*0x1df,_0x2c0a4b=-0xf*-0x281+-0xd06+-0x1885,_0x2c82a9=_0x39e4b0===_0x57cb2d?-0x29*-0x3a+-0x6be*0x1+-0x284:0x19ea+0x25*-0x7+-0x18d7;let _0x3c74e2,_0x137b98,_0x70cfa9;for(let _0x22443f=0x103*0x23+-0x2e4+0x5*-0x681;_0x22443f<_0x299fad;_0x22443f++){let _0x4c98bc=_0x5a8a3a,_0x456de8=_0x58441b;for(let _0x2a1811=-0x6dc+-0xfb0+0x168c;_0x2a1811<_0x11981;_0x2a1811++){_0x14f959?_0x14918c?_0x2aad75=Math['floor']((_0x4c98bc+(-0x1a3f+-0x56e*0x3+-0x1546*-0x2))/(-0xc71+0x22f3*-0x1+0x29*0x128))*Math['floor']((_0x456de8+(0xf60+0x79a+-0x16f7))/(-0x98*-0xb+0xbdc+-0x8*0x24c))*(0x98f*-0x2+0x254e+-0x1c*0xa6):_0x4b0ccb?_0x2aad75=Math['max'](_0x4c98bc,-0x14e7*-0x1+0xc3e+-0x2115)*Math['max'](_0x456de8,-0x9*-0x2+0x782+-0x78c)/(-0x40*0x6f+-0x25*0x3a+0x295*0xe):_0x15585f?_0x2aad75=Math['max'](_0x4c98bc,0x1*0x9aa+-0x2d7*-0x5+-0x1*0x17d5)*Math['max'](_0x456de8,0x3*-0xa5e+0x43*0x89+-0x4b9)/(-0xd21+-0x17b*0x17+0x2f30):(_0x3c74e2=Math['floor']((_0x4c98bc+_0x396159-(-0x1b0d+0xca2+0x34*0x47))/_0x396159),_0x137b98=Math['floor']((_0x456de8+_0x2c0a4b-(0x13ad*0x1+0x1*-0x51a+0xa*-0x175))/_0x2c0a4b),_0x70cfa9=_0x3c74e2*_0x137b98,_0x2aad75=_0x70cfa9*_0x2c82a9):_0x2aad75=_0x4c98bc*_0x456de8*(-0x4e+0x5d*-0x2c+0x104e);const _0x3fb80a=_0x697665===Ke?new Float32Array(_0x3979aa,_0xf22ec7,_0x2aad75):_0x697665===Je?new Uint16Array(_0x3979aa,_0xf22ec7,_0x2aad75):new Uint8Array(_0x3979aa,_0xf22ec7,_0x2aad75);_0x4c1010?(_0x3a52e7['_levels'][_0x2a1811]||(_0x3a52e7['_levels'][_0x2a1811]=[]),_0x3a52e7['_levels'][_0x2a1811][_0x22443f]=_0x3fb80a):_0x3a52e7['_levels'][_0x2a1811]=_0x3fb80a,_0xf22ec7+=_0x2aad75*_0x5d87b1,_0x4c98bc=Math['max'](_0x4c98bc*(-0x1*0x1046+-0xf7c*0x2+0x2f3e+0.5),0x106*0x3+-0x2fb+0x16*-0x1),_0x456de8=Math['max'](_0x456de8*(0x75e*-0x1+-0x711+-0x5*-0x2e3+0.5),0x820+-0x1609*0x1+-0xd*-0x112);}}return _0x3a52e7['upload'](),_0x3a52e7;}}class BL extends Na{constructor(_0x29814d){super(),this['maxRetries']=-0x2ab*0x3+0x16ad+-0xeac;}['load'](_0x1c8284,_0x51230d,_0x1392b0){le['fetchArray'+'Buffer'](_0x1c8284['load'],_0x51230d,_0x1392b0,this['maxRetries']);}['open'](_0x4f2dbd,_0x2ed6e9,_0x568e15,_0x47d5cc={}){const _0xf81a0f=this['parse'](_0x2ed6e9);if(!_0xf81a0f)return null;const _0x5b9cdf=new he(_0x568e15,{'name':_0x4f2dbd,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0xf81a0f['width'],'height':_0xf81a0f['height'],'levels':_0xf81a0f['levels'],'format':Se,'type':ap,'mipmaps':!(0x22a3+0x1520+-0x37c2),..._0x47d5cc});return _0x5b9cdf['upload'](),_0x5b9cdf;}['parse'](_0x24e5f2){const _0x441ab5=new oy(_0x24e5f2);if(!_0x441ab5['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x1a7ad4={};for(;;){const _0x1a7fc8=_0x441ab5['readLine']();if(_0x1a7fc8['length']===-0x1c2e+-0xe41+0x2a6f)break;{const _0x18ace7=_0x1a7fc8['split']('=');_0x18ace7['length']===-0x10*0x1df+-0xbf6*0x2+-0x3d9*-0xe&&(_0x1a7ad4[_0x18ace7[0xbb6+0x894+0x6a*-0x31]]=_0x18ace7[0x1*-0xcd7+-0x1ed9*0x1+-0x5*-0x8bd]);}}if(!_0x1a7ad4['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x27160e=_0x441ab5['readLine']()['split']('\x20');if(_0x27160e['length']!==-0xa26+0x1*-0x7c6+-0x8f8*-0x2)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x2d7dd7=parseInt(_0x27160e[0x9e*-0x2+-0xdce+-0xf0b*-0x1],-0xc95*0x1+-0x17ba+0x2459),_0xc3468f=parseInt(_0x27160e[0xb3*-0x2e+-0x855+0x2882*0x1],0x1*0x2141+-0xaf6*0x2+0xb4b*-0x1),_0x160e18=this['_readPixel'+'s'](_0x441ab5,_0xc3468f,_0x2d7dd7,_0x27160e[-0x2706+0x1*0x13c7+0x133f]==='-Y');return _0x160e18?{'width':_0xc3468f,'height':_0x2d7dd7,'levels':[_0x160e18]}:null;}['_readPixel'+'s'](_0xf651de,_0x278f50,_0x4b59bc,_0x378200){if(_0x278f50<-0x10*-0x11e+0x1c7d+0x2e55*-0x1||_0x278f50>0x47c4+0x1e86*-0x1+0x56c1)return this['_readPixel'+'sFlat'](_0xf651de,_0x278f50,_0x4b59bc);const _0x279f49=[-0xf9a+0x15d2+-0xc7*0x8,-0x1*-0x2615+0x24f+-0x2864,-0x7b9*0x3+0x57a*-0x2+0x6d3*0x5,-0x103d*-0x2+-0x527*-0x1+0x1*-0x25a1];if(_0xf651de['readArray'](_0x279f49),_0x279f49[-0x1057+0xd22+0x335]!==0x880+-0x11d4*-0x1+-0x1a52||_0x279f49[-0x4*-0x89f+-0x1a8+0x20d3*-0x1]!==0x26e6+0xd7*0x19+-0x3be3||(_0x279f49[-0x1*0x14cd+0x19*-0xb7+0x26ae]&-0x1*-0x215b+-0x1966*0x1+-0x775*0x1)!==-0x2f*0xa3+0x2f6+0x1af7)return _0xf651de['skip'](-(-0x1*0x1bfd+-0x887+-0x1c*-0x14e)),this['_readPixel'+'sFlat'](_0xf651de,_0x278f50,_0x4b59bc);const _0x313a30=new ArrayBuffer(_0x278f50*_0x4b59bc*(0x4*0x83+0x1*0x887+-0xa8f)),_0x697d0f=new Uint8Array(_0x313a30);let _0xa5121a=_0x378200?0x1*-0x151a+0x3c*0x5f+0x12a*-0x1:_0x278f50*(0x1*0x1e7c+-0x1e2b*-0x1+0x3ca3*-0x1)*(_0x4b59bc-(0x1495+0x2685*0x1+-0x3*0x13b3)),_0x399367,_0x17a5c2,_0x4012a4,_0x114ed3,_0x3688b0,_0x49fcb6;for(_0x17a5c2=-0x207*0xa+0x3*0x6c9+-0x15;_0x17a5c2<_0x4b59bc;++_0x17a5c2){if(_0x17a5c2&&_0xf651de['readArray'](_0x279f49),(_0x279f49[-0xd06*0x1+-0x1*-0xcef+-0x1*-0x19]<<-0x7e9+-0x262f+0x2e2*0x10)+_0x279f49[-0x6d*-0x26+0xe13+-0x1e3e]!==_0x278f50)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x114ed3=0x1aed*-0x1+0x1*-0x24fd+0x3fea;_0x114ed3<-0x17aa+0x2444+-0xc96*0x1;++_0x114ed3)for(_0x399367=0x17d9+-0x192e+0x155;_0x399367<_0x278f50;)if(_0x3688b0=_0xf651de['readU8'](),_0x3688b0>-0x12fc*-0x1+-0x8fa+-0x982){if(_0x3688b0-=0x951+0x275+-0xb46,_0x399367+_0x3688b0>_0x278f50)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x49fcb6=_0xf651de['readU8'](),_0x4012a4=0x1d*-0x10d+0x1b59+0x320;_0x4012a4<_0x3688b0;++_0x4012a4)_0x697d0f[_0xa5121a+_0x114ed3+(-0x1750+-0x1284+0x29d8)*_0x399367++]=_0x49fcb6;}else{if(_0x3688b0===0x1a41+-0x1*0x20bc+0x67b||_0x399367+_0x3688b0>_0x278f50)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x4012a4=-0x18cb+0x3*-0x6bb+0x2cfc;_0x4012a4<_0x3688b0;++_0x4012a4)_0x697d0f[_0xa5121a+_0x114ed3+(0x4f*-0x3b+0x1*-0x15d+0x1396)*_0x399367++]=_0xf651de['readU8']();}_0xa5121a+=_0x278f50*(0xe38+0x9f7*0x3+0x47*-0x9f)*(_0x378200?-0xa*-0x3e+-0xcf2+0xa87:-(-0x5de+-0x64c+0x7*0x1bd));}return _0x697d0f;}['_readPixel'+'sFlat'](_0x5dc426,_0x366fb2,_0x306947){return _0x5dc426['remainingB'+'ytes']===_0x366fb2*_0x306947*(0x3*0x8f9+0x511*0x6+0x394d*-0x1)?new Uint8Array(_0x5dc426['arraybuffe'+'r'],_0x5dc426['offset']):null;}}const $g={'repeat':tt,'clamp':ae,'mirror':Of},Wg={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x5104e4){const _0x408943=Mi['calcMipLev'+'elsCount'](_0x5104e4['_width'],_0x5104e4['_height']),_0x598f0f=function(_0x3ade22){return _0x3ade22 instanceof HTMLCanvasElement||_0x3ade22 instanceof HTMLImageElement||_0x3ade22 instanceof HTMLVideoElement;};if(!(_0x5104e4['_format']===Se||_0x5104e4['_format']===Ke)||_0x5104e4['_volume']||_0x5104e4['_compresse'+'d']||_0x5104e4['_levels']['length']===0x1334+0x4b5*-0x2+-0x5*0x1f5||_0x5104e4['_levels']['length']===_0x408943||_0x598f0f(_0x5104e4['_cubemap']?_0x5104e4['_levels'][0x5d*0x5+-0x2179+0x1*0x1fa8][0x1*0x1435+0xaea*0x3+0x1*-0x34f3]:_0x5104e4['_levels'][0x1df*0x9+0x2056*0x1+-0x312d]))return;const _0x3facc8=function(_0x1956b9,_0xe88200,_0x414492){const _0x32b4ec=Math['max'](0x1*-0x18c1+0x140f+0x3*0x191,_0x1956b9>>-0x1c4d+0x260c+0x2b*-0x3a),_0x2f6256=Math['max'](-0x6*0x5a3+0x1714+0xabf*0x1,_0xe88200>>0x21f7+-0x3df+-0x1e17),_0x5c7f21=new _0x414492['constructo'+'r'](_0x32b4ec*_0x2f6256*(-0x2532*-0x1+-0x1*-0x1275+-0x1*0x37a3)),_0x499175=Math['floor'](_0x1956b9/_0x32b4ec),_0x3f91e3=Math['floor'](_0xe88200/_0x2f6256),_0x3f093e=_0x499175*_0x3f91e3;for(let _0x5ff46b=0x4a8*0x8+0x2d0+-0x2810;_0x5ff46b<_0x2f6256;++_0x5ff46b)for(let _0x1b5797=0xc10*0x1+-0x95*-0xb+-0x1d*0xa3;_0x1b5797<_0x32b4ec;++_0x1b5797)for(let _0x539b77=-0x3*-0x5b3+0x1*-0xeed+-0x22c;_0x539b77<0x3a4*-0x2+-0x6e9+0xe35;++_0x539b77){let _0x39bf93=-0x26*0x83+-0x1*-0xe3a+0x538;for(let _0x2bb07c=-0x5*-0x116+-0x1828+0x12ba;_0x2bb07c<_0x3f91e3;++_0x2bb07c)for(let _0x2630ef=-0x2532+0x20e5+0x16f*0x3;_0x2630ef<_0x499175;++_0x2630ef)_0x39bf93+=_0x414492[(_0x1b5797*_0x499175+_0x2630ef+(_0x5ff46b*_0x3f91e3+_0x2bb07c)*_0x1956b9)*(0x95*0x29+0x19a7*0x1+0x18*-0x210)+_0x539b77];_0x5c7f21[(_0x1b5797+_0x5ff46b*_0x32b4ec)*(-0x1714+-0x179d+0x2eb5)+_0x539b77]=_0x39bf93/_0x3f093e;}return _0x5c7f21;};for(let _0x526a0b=_0x5104e4['_levels']['length'];_0x526a0b<_0x408943;++_0x526a0b){const _0x3d654=Math['max'](-0xb*-0x8f+0x185+-0x7a9,_0x5104e4['_width']>>_0x526a0b-(-0x5*0x1a9+0xd8f+0x10d*-0x5)),_0x400434=Math['max'](0xd21*0x2+-0x7f6*-0x3+-0x3223*0x1,_0x5104e4['_height']>>_0x526a0b-(0x1*0xce5+0x131*-0x1+-0x5*0x257));if(_0x5104e4['_cubemap']){const _0x6e2e66=[];for(let _0x58a4fd=-0x1c7*0x10+0x13ea+0x443*0x2;_0x58a4fd<-0xed6+-0x1ab6+-0x14c9*-0x2;++_0x58a4fd)_0x6e2e66['push'](_0x3facc8(_0x3d654,_0x400434,_0x5104e4['_levels'][_0x526a0b-(0x1df*0x3+0x2*-0xf5+-0x3b2)][_0x58a4fd]));_0x5104e4['_levels']['push'](_0x6e2e66);}else _0x5104e4['_levels']['push'](_0x3facc8(_0x3d654,_0x400434,_0x5104e4['_levels'][_0x526a0b-(0x1f49*0x1+0x14*0x49+-0x24fc)]));}_0x5104e4['_levelsUpd'+'ated']=_0x5104e4['_cubemap']?[[!(-0x954*-0x2+-0x142a+0x182),!(0x1*-0x1471+-0x6*0x3e9+0x1*0x2be7),!(-0x16a5+0x1c00+-0x55b),!(-0x2*0xa9b+0x737+0xdff),!(-0x140d*0x1+-0x5c0+0x19cd*0x1),!(-0x14e+0xa5*-0x2+0x1*0x298)]]:[!(0x2651*0x1+-0x6b*0x5d+0x8e)];};class UL extends Ne{constructor(_0xcc482b){super(_0xcc482b,'texture');const _0x27c933=_0xcc482b['assets'],_0x239a19=_0xcc482b['graphicsDe'+'vice'];this['_device']=_0x239a19,this['_assets']=_0x27c933,this['imgParser']=new RL(_0x27c933,_0x239a19),this['parsers']={'dds':new kL(_0x27c933),'ktx':new LL(_0x27c933),'ktx2':new OL(_0x27c933,_0x239a19),'basis':new EL(_0x27c933,_0x239a19),'hdr':new BL(_0x27c933)};}set['crossOrigi'+'n'](_0x312d1c){this['imgParser']['crossOrigi'+'n']=_0x312d1c;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x47bcd2){this['imgParser']['maxRetries']=_0x47bcd2;for(const _0x26fcbe in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x26fcbe)&&(this['parsers'][_0x26fcbe]['maxRetries']=_0x47bcd2);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x1bd7fe){return _0x1bd7fe['indexOf']('?')>=-0x117e+-0xa95+0x1c13*0x1?_0x1bd7fe['split']('?')[0x1*0x2543+-0x23d5*-0x1+-0x4918]:_0x1bd7fe;}['_getParser'](_0x1a17e4){const _0x1c65ae=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x1a17e4))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x1c65ae]||this['imgParser'];}['_getTextur'+'eOptions'](_0xb2be1){var _0xf6eb6;const _0x4fbe6d={'profilerHint':ur};if(_0xb2be1){((_0xf6eb6=_0xb2be1['name'])==null?void(-0x65b*-0x2+-0x92b+-0x38b):_0xf6eb6['length'])>0x92a+-0x1001*-0x1+-0x192b&&(_0x4fbe6d['name']=_0xb2be1['name']);const _0x45ded3=_0xb2be1['data'];_0x45ded3['hasOwnProp'+'erty']('minfilter')&&(_0x4fbe6d['minFilter']=Wg[_0x45ded3['minfilter']]),_0x45ded3['hasOwnProp'+'erty']('magfilter')&&(_0x4fbe6d['magFilter']=Wg[_0x45ded3['magfilter']]),_0x45ded3['hasOwnProp'+'erty']('addressu')&&(_0x4fbe6d['addressU']=$g[_0x45ded3['addressu']]),_0x45ded3['hasOwnProp'+'erty']('addressv')&&(_0x4fbe6d['addressV']=$g[_0x45ded3['addressv']]),_0x45ded3['hasOwnProp'+'erty']('mipmaps')&&(_0x4fbe6d['mipmaps']=_0x45ded3['mipmaps']),_0x45ded3['hasOwnProp'+'erty']('anisotropy')&&(_0x4fbe6d['anisotropy']=_0x45ded3['anisotropy']),_0x45ded3['hasOwnProp'+'erty']('flipY')&&(_0x4fbe6d['flipY']=!!_0x45ded3['flipY']),_0x45ded3['hasOwnProp'+'erty']('srgb')&&(_0x4fbe6d['srgb']=!!_0x45ded3['srgb']),_0x45ded3['hasOwnProp'+'erty']('type')?_0x4fbe6d['type']=NL[_0x45ded3['type']]:_0x45ded3['hasOwnProp'+'erty']('rgbm')&&_0x45ded3['rgbm']?_0x4fbe6d['type']=on:_0xb2be1['file']&&(_0xb2be1['file']['opt']&-0x2463+-0x11*0x1a3+0x2*0x201f)!==0x16a6+-0x2a9*-0x1+-0x194f&&(_0x4fbe6d['type']=op);}return _0x4fbe6d;}['load'](_0x32ea8f,_0x549582,_0x34b0d5){typeof _0x32ea8f=='string'&&(_0x32ea8f={'load':_0x32ea8f,'original':_0x32ea8f}),this['_getParser'](_0x32ea8f['original'])['load'](_0x32ea8f,_0x549582,_0x34b0d5);}['open'](_0x45af66,_0x2d9825,_0x30bdd8){if(!_0x45af66)return;const _0x55c71f=this['_getTextur'+'eOptions'](_0x30bdd8);let _0x2ff365=this['_getParser'](_0x45af66)['open'](_0x45af66,_0x2d9825,this['_device'],_0x55c71f);return _0x2ff365===null?_0x2ff365=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0x2ff365),_0x2d9825['unswizzled'+'GGGR']&&(_0x30bdd8['file']['variants']['basis']['opt']&=-(0x7a2+0x2*0x985+-0x1aa3))),_0x2ff365;}['patch'](_0x1562a2,_0x7a4d54){const _0x44a78a=_0x1562a2['resource'];if(!_0x44a78a)return;const _0x3615d5=this['_getTextur'+'eOptions'](_0x1562a2);for(const _0xea3ae3 of Object['keys'](_0x3615d5))_0x44a78a[_0xea3ae3]=_0x3615d5[_0xea3ae3];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',$L='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class WL{constructor(_0x34806d){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),this['_manager']=_0x34806d;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x2162e7){!this['_supported']||this['_manager']['active']||(this['_root']=_0x2162e7);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x591fa2,_0x2c7412,_0x3c3634,_0x4ed214=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x591fa2,this['_xrHitTest'+'Source']=_0x2c7412,this['_transient']=_0x3c3634,this['_inputSour'+'ce']=_0x4ed214);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x5d2877=this['manager']['hitTest']['sources'],_0x49d426=_0x5d2877['indexOf'](this);_0x49d426!==-(-0x2596+0x1238+-0x227*-0x9)&&_0x5d2877['splice'](_0x49d426,-0x26c4+-0x12d2+0x3997),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x5afa71){if(this['_transient']){const _0x2e4e3f=_0x5afa71['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x1656e3=0x13e1+-0x167*-0x10+-0xe1b*0x3;_0x1656e3<_0x2e4e3f['length'];_0x1656e3++){const _0x378be1=_0x2e4e3f[_0x1656e3];if(!_0x378be1['results']['length'])continue;let _0x98dc75;_0x378be1['inputSourc'+'e']&&(_0x98dc75=this['manager']['input']['_getByInpu'+'tSource'](_0x378be1['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x378be1['results'],_0x98dc75);}}else{const _0x53f29b=_0x5afa71['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x53f29b['length'])return;this['updateHitR'+'esults'](_0x53f29b);}}['updateHitR'+'esults'](_0x3b6221,_0x38439d){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x38439d)return;const _0xd4038b=ih['pop']()??new T();_0x38439d?_0xd4038b['copy'](_0x38439d['getOrigin']()):_0xd4038b['copy'](this['manager']['camera']['getPositio'+'n']());let _0x121e17=(0xc68+0x6b6+-0x131d)/(0x638+0x1*-0x6fe+0x21*0x6),_0x5e84d7=null;const _0xebd981=ih['pop']()??new T(),_0x517545=Xg['pop']()??new se();for(let _0x42767c=-0x120a+-0xe95*0x2+0x7de*0x6;_0x42767c<_0x3b6221['length'];_0x42767c++){const _0x5358d6=_0x3b6221[_0x42767c]['getPose'](this['manager']['_reference'+'Space']),_0x2dfcb1=_0xd4038b['distance'](_0x5358d6['transform']['position']);_0x2dfcb1>=_0x121e17||(_0x121e17=_0x2dfcb1,_0x5e84d7=_0x3b6221[_0x42767c],_0xebd981['copy'](_0x5358d6['transform']['position']),_0x517545['copy'](_0x5358d6['transform']['orientatio'+'n']));}this['fire']('result',_0xebd981,_0x517545,_0x38439d||this['_inputSour'+'ce'],_0x5e84d7),this['manager']['hitTest']['fire']('result',this,_0xebd981,_0x517545,_0x38439d||this['_inputSour'+'ce'],_0x5e84d7),ih['push'](_0xd4038b),ih['push'](_0xebd981),Xg['push'](_0x517545);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x598c9f){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(-0x19a+0x1*0x22df+-0x2144)),c(this,'_checkingA'+'vailabilit'+'y',!(0xf*0x225+-0x1*0x1f04+-0x126*0x1)),c(this,'sources',[]),(this['manager']=_0x598c9f,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x1f8c00=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x16eb*-0x1+-0x18d1+0x1e7);if(!_0x1f8c00)return;this['_available']=_0x1f8c00,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(0x9c7*-0x1+0xa28+-0x1*0x61),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x44467c=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x44467c})['then'](_0x1094b3=>{_0x1094b3['cancel'](),this['manager']['active']&&(this['_available']=!(-0xd*-0x1+-0x8b2+0x1*0x8a5),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x6df+0x1*0x11+0x6cf);for(let _0x23ab10=0xe7e+0x3*0x716+-0x23c0;_0x23ab10<this['sources']['length'];_0x23ab10++)this['sources'][_0x23ab10]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x2a77d2={}){var _0x4c38a2,_0x1b56ab;if(!this['_supported']){(_0x4c38a2=_0x2a77d2['callback'])==null||_0x4c38a2['call'](_0x2a77d2,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x1b56ab=_0x2a77d2['callback'])==null||_0x1b56ab['call'](_0x2a77d2,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x2a77d2['profile']&&!_0x2a77d2['spaceType']&&(_0x2a77d2['spaceType']=qg);let _0x31cdf1;const _0x459aec=_0x2a77d2['offsetRay'];if(_0x459aec){const _0x1d5920=new DOMPoint(_0x459aec['origin']['x'],_0x459aec['origin']['y'],_0x459aec['origin']['z'],0x2*-0x755+-0x1*-0x1ba4+0x29*-0x51),_0x2b32d5=new DOMPoint(_0x459aec['direction']['x'],_0x459aec['direction']['y'],_0x459aec['direction']['z'],-0x617*0x1+0x2560+-0x1f49);_0x31cdf1=new XRRay(_0x1d5920,_0x2b32d5);}const _0x57dd98=_0x2a77d2['callback'];_0x2a77d2['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x2a77d2['spaceType'])['then'](_0xabd098=>{if(!this['manager']['session']){const _0x25f312=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x57dd98&&_0x57dd98(_0x25f312),this['fire']('error',_0x25f312);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0xabd098,'entityTypes':_0x2a77d2['entityType'+'s']||void(-0x29d*0x1+-0x25*0x6a+0x11ef),'offsetRay':_0x31cdf1})['then'](_0x469d84=>{this['_onHitTest'+'Source'](_0x469d84,!(0xe98+-0x1598+-0x701*-0x1),_0x2a77d2['inputSourc'+'e'],_0x57dd98);})['catch'](_0x2a3407=>{_0x57dd98&&_0x57dd98(_0x2a3407),this['fire']('error',_0x2a3407);});})['catch'](_0xd4a161=>{_0x57dd98&&_0x57dd98(_0xd4a161),this['fire']('error',_0xd4a161);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x2a77d2['profile'],'entityTypes':_0x2a77d2['entityType'+'s']||void(-0x1*-0x4f8+-0x47d+-0x29*0x3),'offsetRay':_0x31cdf1})['then'](_0x24d071=>{this['_onHitTest'+'Source'](_0x24d071,!(-0x1*-0x17fa+-0x4*0x8ca+-0x6*-0x1dd),_0x2a77d2['inputSourc'+'e'],_0x57dd98);})['catch'](_0xeff26d=>{_0x57dd98&&_0x57dd98(_0xeff26d),this['fire']('error',_0xeff26d);});}['_onHitTest'+'Source'](_0xd75743,_0x44ab8,_0x1a2366,_0xf6418){if(!this['manager']['session']){_0xd75743['cancel']();const _0x73410=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0xf6418&&_0xf6418(_0x73410),this['fire']('error',_0x73410);return;}const _0x5f1da5=new Ef(this['manager'],_0xd75743,_0x44ab8,_0x1a2366??null);this['sources']['push'](_0x5f1da5),_0xf6418&&_0xf6418(null,_0x5f1da5),this['fire']('add',_0x5f1da5);}['update'](_0x4789ca){if(this['_available']){for(let _0x537fb8=-0x189c+-0xe76*0x2+0x18*0x23b;_0x537fb8<this['sources']['length'];_0x537fb8++)this['sources'][_0x537fb8]['update'](_0x4789ca);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0x1ad38a,_0x47083a){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',0x535+-0x17*0x181+-0x1d62*-0x1),c(this,'_trackable',!(0x17a3+-0x261c+0xe7a)),c(this,'_tracking',!(0x16b4+-0x33b+0xe*-0x164)),c(this,'_emulated',!(-0x16f+0xc4c+-0x4*0x2b7)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0x1ad38a,this['_width']=_0x47083a);}get['image'](){return this['_image'];}set['width'](_0x2176db){this['_width']=_0x2176db;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x55b86a=>(this['_bitmap']=_0x55b86a,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x17dc7d){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(-0xd86+0x3*-0x162+0xb5*0x19)),c(this,'_images',[]),(this['_manager']=_0x17dc7d,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x4e2f80,_0x590082){if(!this['_supported']||this['_manager']['active'])return null;const _0x37de2c=new Cf(_0x4e2f80,_0x590082);return this['_images']['push'](_0x37de2c),_0x37de2c;}['remove'](_0x5d5f89){if(this['_manager']['active'])return;const _0x4a8b82=this['_images']['indexOf'](_0x5d5f89);_0x4a8b82!==-(0x3d*0x17+0x17b6+0x74c*-0x4)&&(_0x5d5f89['destroy'](),this['_images']['splice'](_0x4a8b82,0x18*-0x153+-0x35c*-0x1+0x1c6d));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x180093=>{this['_available']=!(0x1031*-0x1+-0x4*0x9bd+0x3725);for(let _0x4c61bd=0x21f8+-0x5ce*-0x1+0x6a1*-0x6;_0x4c61bd<_0x180093['length'];_0x4c61bd++)this['_images'][_0x4c61bd]['_trackable']=_0x180093[_0x4c61bd]==='trackable';})['catch'](_0xbc8541=>{this['_available']=!(0xf*-0x287+-0x3d1*-0x2+0x2*0xf24),this['fire']('error',_0xbc8541);});}['_onSession'+'End'](){this['_available']=!(-0xd80+0x1702+-0x32b*0x3);for(let _0x426f00=0x14eb*0x1+-0x1181+0x2e*-0x13;_0x426f00<this['_images']['length'];_0x426f00++){const _0x13903f=this['_images'][_0x426f00];_0x13903f['_pose']=null,_0x13903f['_measuredW'+'idth']=0x10a6+-0x4*0x84a+0x2*0x841,_0x13903f['_tracking']&&(_0x13903f['_tracking']=!(0x144c*-0x1+-0x23bb*-0x1+0x316*-0x5),_0x13903f['fire']('untracked'));}}['prepareIma'+'ges'](_0x5a93f7){this['_images']['length']?Promise['all'](this['_images']['map'](_0x56ddf8=>_0x56ddf8['prepare']()))['then'](_0x53604c=>{_0x5a93f7(null,_0x53604c);})['catch'](_0x148cc1=>{_0x5a93f7(_0x148cc1,null);}):_0x5a93f7(null,null);}['update'](_0x63f400){if(!this['_available'])return;const _0x2349f3=_0x63f400['getImageTr'+'ackingResu'+'lts'](),_0x515ad2={};for(let _0x54b9ce=0x518+-0x20a4+-0x2*-0xdc6;_0x54b9ce<_0x2349f3['length'];_0x54b9ce++){_0x515ad2[_0x2349f3[_0x54b9ce]['index']]=_0x2349f3[_0x54b9ce];const _0x1fd9c9=this['_images'][_0x2349f3[_0x54b9ce]['index']];_0x1fd9c9['_emulated']=_0x2349f3[_0x54b9ce]['trackingSt'+'ate']==='emulated',_0x1fd9c9['_measuredW'+'idth']=_0x2349f3[_0x54b9ce]['measuredWi'+'dthInMeter'+'s'],_0x1fd9c9['_pose']=_0x63f400['getPose'](_0x2349f3[_0x54b9ce]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x546e47=-0x1*0x1387+-0x2201+0x3588;_0x546e47<this['_images']['length'];_0x546e47++)this['_images'][_0x546e47]['_tracking']&&!_0x515ad2[_0x546e47]?(this['_images'][_0x546e47]['_tracking']=!(0xb2*-0x2+0x5c*-0x5c+-0x2275*-0x1),this['_images'][_0x546e47]['fire']('untracked')):!this['_images'][_0x546e47]['_tracking']&&_0x515ad2[_0x546e47]&&(this['_images'][_0x546e47]['_tracking']=!(-0x86d*-0x1+-0x1995*-0x1+0x2202*-0x1),this['_images'][_0x546e47]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x4f3317,_0x31a116){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x4f3317,this['_hand']=_0x31a116,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=-0x76*0x4e+0x1*0xbd3+0x1821;l<jg['length'];l++)Gx[jg[l]]=!(0x1b*-0x158+-0x1bb5+-0x1*-0x3ffd);class Yg{constructor(_0x20d29a,_0x419c51,_0xfb38d7,_0x7f3795=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(0xd3d*-0x1+-0x869*-0x1+-0x6*-0xce)),(this['_index']=_0x20d29a,this['_id']=_0x419c51,this['_hand']=_0xfb38d7,this['_finger']=_0x7f3795,this['_wrist']=_0x419c51==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x419c51]);}['update'](_0x4f3c05){this['_dirtyLoca'+'l']=!(0x2*0x11d9+-0x6a7*0x1+-0x1d0b),this['_radius']=_0x4f3c05['radius'],this['_localPosi'+'tion']['copy'](_0x4f3c05['transform']['position']),this['_localRota'+'tion']['copy'](_0x4f3c05['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x1d75*-0x1+-0x20be+0x34a),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x4b01a4=this['_hand']['_manager']['camera']['parent'];_0x4b01a4?this['_worldTran'+'sform']['mul2'](_0x4b01a4['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0x1817+-0x1e1*-0x4+-0x5d*0x57+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x534a51){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(0x78b+0x3e*-0x9a+0x1dc2)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x54c61c=_0x534a51['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x534a51['_manager'],this['_inputSour'+'ce']=_0x534a51,_0x54c61c['get']('wrist')){const _0x11118d=new Yg(-0x841+-0x15*0xec+0x1b9d*0x1,'wrist',this,null);this['_wrist']=_0x11118d,this['_joints']['push'](_0x11118d),this['_jointsByI'+'d']['wrist']=_0x11118d;}for(let _0x203dba=0x1*-0x2027+-0x1ac4+0x3aeb;_0x203dba<Sh['length'];_0x203dba++){const _0x5418da=new qL(_0x203dba,this);for(let _0x19ffb4=-0x56f+-0x1c1*0x13+0x26c2;_0x19ffb4<Sh[_0x203dba]['length'];_0x19ffb4++){const _0x242d0b=Sh[_0x203dba][_0x19ffb4];if(!_0x54c61c['get'](_0x242d0b))continue;const _0x24570a=new Yg(_0x19ffb4,_0x242d0b,this,_0x5418da);this['_joints']['push'](_0x24570a),this['_jointsByI'+'d'][_0x242d0b]=_0x24570a,_0x24570a['tip']&&(this['_tips']['push'](_0x24570a),_0x5418da['_tip']=_0x24570a),_0x5418da['_joints']['push'](_0x24570a);}}}['update'](_0x34b3f7){const _0x84ba03=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0xfd5d5c=0x613*-0x1+-0x8*-0x94+-0x35*-0x7;_0xfd5d5c<this['_joints']['length'];_0xfd5d5c++){const _0x304614=this['_joints'][_0xfd5d5c],_0x31f162=_0x84ba03['hand']['get'](_0x304614['_id']);if(_0x31f162){let _0x1833ef;if(_0x34b3f7['session']['visibility'+'State']!=='hidden'&&(_0x1833ef=_0x34b3f7['getJointPo'+'se'](_0x31f162,this['_manager']['_reference'+'Space'])),_0x1833ef)_0x304614['update'](_0x1833ef),_0x304614['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x3e*-0x74+0x1*0x1e01+-0x1e9),this['fire']('tracking'));else{if(_0x304614['wrist']){this['_tracking']&&(this['_tracking']=!(0x7*-0x542+0x17d*-0x1+-0x204*-0x13),this['fire']('trackinglo'+'st'));break;}}}}const _0x180f6c=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x2a7c67=this['_jointsByI'+'d']['thumb-tip'],_0xd96d0a=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x952164=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x381225=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x34d8e0=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x180f6c&&_0x2a7c67&&_0xd96d0a&&_0x952164&&_0x381225&&_0x34d8e0){this['_inputSour'+'ce']['_dirtyRay']=!(0x2f3*0x1+-0xa21+0x72e),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x2a7c67['_localPosi'+'tion'],_0x952164['_localPosi'+'tion'],-0x15a8+-0x1*0x1b92+-0x2*-0x189d+0.5);let _0x5b9f6e=_0x180f6c,_0x5b8860=_0x34d8e0;if(this['_inputSour'+'ce']['handedness']===HL){const _0xd38035=_0x5b9f6e;_0x5b9f6e=_0x5b8860,_0x5b8860=_0xd38035;}Ir['sub2'](_0x5b9f6e['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x5b8860['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0xd96d0a['_localPosi'+'tion'],_0x381225['_localPosi'+'tion'],-0x1b*-0xa9+-0x2a*-0xed+-0x38b5+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,-0x110c+-0x5d4*-0x1+0x59c*0x2+0.5)['normalize']();}const _0x34a862=this['_fingerIsC'+'losed'](0x1*-0x373+0x1c61+-0x18ed)&&this['_fingerIsC'+'losed'](-0x2d*0x40+-0x134*0x19+0x2956)&&this['_fingerIsC'+'losed'](-0x189a+0x753+-0x114a*-0x1)&&this['_fingerIsC'+'losed'](0x23db+0x43a+-0x2811);this['_fingersTi'+'pDistance'](0x2294+0x683+-0x9d*0x43,0x1384+-0x9a*0xc+-0x1*0xc4b)?this['draging']?this['_manager']['input']['fire']('draging',this['_inputSour'+'ce']):(this['_manager']['input']['fire']('dragstart',this['_inputSour'+'ce']),this['draging']=!(0x4*-0x31c+-0x7*-0x2d4+0xc*-0x9d)):this['draging']&&(this['_manager']['input']['fire']('dragend',this['_inputSour'+'ce']),this['draging']=!(-0x246b+-0x2*0xef8+0x425c)),_0x34a862?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x43f*-0x7+0x1*-0x704+0x16b5*-0x1),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x1*0x13af+-0x192+0x90e*-0x2),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0x3f143c,_0x1bbac2){const _0x3b5186=this['_fingers'][_0x3f143c],_0x22f23a=this['_fingers'][_0x1bbac2];return _0x3b5186['tip']['_localPosi'+'tion']['distance'](_0x22f23a['tip']['_localPosi'+'tion'])<=0xe19+0x85f+-0x1678+0.01;}['_fingerIsC'+'losed'](_0x17ff35){const _0x478f2b=this['_fingers'][_0x17ff35];return Ir['sub2'](_0x478f2b['joints'][0x6d*-0x3b+-0x10e8+0x1*0x2a07]['_localPosi'+'tion'],_0x478f2b['joints'][-0x7c3*-0x1+0x19b*0x2+-0xaf8]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0x478f2b['joints'][0x1*0xb57+-0x5cf*-0x1+-0x1124]['_localPosi'+'tion'],_0x478f2b['joints'][0x1*-0xcf5+-0x1451+0x2149*0x1]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(-0x1c12*0x1+0xf7b+-0xc97*-0x1+0.8);}['getJointBy'+'Id'](_0x368340){return this['_jointsByI'+'d'][_0x368340]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=-0x1fb*-0xa+-0x222e+0xe60;class xs extends ce{constructor(_0x9bc5f7,_0x45c35d){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(0x1*0x1fee+-0xaaf+-0x153e)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(-0xb23+0x50*0x78+-0x1a5c)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(0x4*0x4be+0x5d3+-0x18cb*0x1)),c(this,'_dirtyRay',!(0x1*-0xe71+-0x47*-0x10+-0x356*-0x3)),c(this,'_selecting',!(-0x1ee6+-0x2db+0x21c2)),c(this,'_squeezing',!(-0x1*0x1c2b+-0x43*0x58+0x1d*0x1c4)),c(this,'_elementIn'+'put',!(0x1d6c+0x5*-0x4cd+-0x56b)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0x9bc5f7,this['_xrInputSo'+'urce']=_0x45c35d,_0x45c35d['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x2b03c1){this['_elementIn'+'put']!==_0x2b03c1&&(this['_elementIn'+'put']=_0x2b03c1,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x4a6f8f){if(this['_hand'])this['_hand']['update'](_0x4a6f8f);else{const _0x420149=this['_xrInputSo'+'urce']['gripSpace'];if(_0x420149){const _0x4f5781=_0x4a6f8f['getPose'](_0x420149,this['_manager']['_reference'+'Space']);if(_0x4f5781){this['_grip']||(this['_grip']=!(-0x49*0x31+0x807+0x5f2*0x1),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x514b1f=ne(),_0x144546=(_0x514b1f-this['_velocitie'+'sTimestamp'])/(-0x78e*-0x5+0x642+-0x2820);this['_velocitie'+'sTimestamp']=_0x514b1f,this['_dirtyLoca'+'l']=!(0x44d*-0x3+-0x977*-0x1+0x370*0x1),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x4f5781['transform']['position']),this['_localRota'+'tion']['copy'](_0x4f5781['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x75*-0xe+-0x16d0+0x1d36),this['_manager']['input']['velocities'+'Supported']&&_0x4f5781['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x4f5781['linearVelo'+'city']):_0x144546>-0x3*0xa91+-0xe9*-0x1d+-0xe*-0x61&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x144546),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,0x1fd*-0x6+-0x721+0x130f+0.15));}else this['_velocitie'+'sAvailable']=!(0x6*0x8b+-0x2373+0x2032);}const _0x4c2e8a=_0x4a6f8f['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x4c2e8a&&(this['_dirtyRay']=!(0x1*0x5fd+0x12b6*-0x1+0xcb9*0x1),this['_rayLocal']['origin']['copy'](_0x4c2e8a['transform']['position']),this['_rayLocal']['direction']['set'](-0x25b+-0xde8+-0x1043*-0x1,-0x1*-0x91f+0x2*0x75a+-0x17d3,-(-0x1d*-0x92+-0x311+-0xd78)),Qg['copy'](_0x4c2e8a['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x1009+0xfaa*-0x2+0x164*0xb),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x5e2d48=this['_manager']['camera']['parent'];_0x5e2d48?this['_worldTran'+'sform']['mul2'](_0x5e2d48['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x2bd5c7=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x5a0+-0x1096*-0x1+-0xaf5),this['_manager']['camera']['parent']){const _0x3f2745=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x3f2745['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x3f2745),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x2bd5c7&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x3d68a1={}){_0x3d68a1['inputSourc'+'e']=this,_0x3d68a1['profile']=this['_xrInputSo'+'urce']['profiles'][-0x690+0x1f7d+-0x2c5*0x9];const _0x3c81fc=_0x3d68a1['callback'];_0x3d68a1['callback']=(_0x108a63,_0x5628c4)=>{_0x5628c4&&this['onHitTestS'+'ourceAdd'](_0x5628c4),_0x3c81fc&&_0x3c81fc(_0x108a63,_0x5628c4);},this['_manager']['hitTest']['start'](_0x3d68a1);}['onHitTestS'+'ourceAdd'](_0x45ba9d){this['_hitTestSo'+'urces']['push'](_0x45ba9d),this['fire']('hittest:ad'+'d',_0x45ba9d),_0x45ba9d['on']('result',(_0x4edccc,_0x27f12d,_0x5bcb4f,_0x485a89)=>{_0x5bcb4f===this&&this['fire']('hittest:re'+'sult',_0x45ba9d,_0x4edccc,_0x27f12d,_0x485a89);}),_0x45ba9d['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x45ba9d),this['fire']('hittest:re'+'move',_0x45ba9d);});}['onHitTestS'+'ourceRemov'+'e'](_0x2f77cd){const _0x36924b=this['_hitTestSo'+'urces']['indexOf'](_0x2f77cd);_0x36924b!==-(0x102b*0x2+0x1e3*0x7+0xae*-0x43)&&this['_hitTestSo'+'urces']['splice'](_0x36924b,0xf00+-0x8a8+-0x657);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x4bfc87){var _0x431691,_0x82a2eb;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(0x72*-0x3a+0x1861*0x1+0x174)),(this['manager']=_0x4bfc87,this['velocities'+'Supported']=!!(ye['browser']&&((_0x82a2eb=(_0x431691=window['XRPose'])==null?void(-0x490*-0x4+-0x1f4a+0xd0a):_0x431691['prototype'])!=null&&_0x82a2eb['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x13939a=>{this['_onInputSo'+'urcesChang'+'e'](_0x13939a);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x363a6f=this['manager']['session'];_0x363a6f['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x363a6f['addEventLi'+'stener']('select',_0x1968bd=>{const _0x215b8f=this['_getByInpu'+'tSource'](_0x1968bd['inputSourc'+'e']);_0x215b8f['update'](_0x1968bd['frame']),_0x215b8f['fire']('select',_0x1968bd),this['fire']('select',_0x215b8f,_0x1968bd);}),_0x363a6f['addEventLi'+'stener']('selectstar'+'t',_0x2a4c43=>{const _0x264d7d=this['_getByInpu'+'tSource'](_0x2a4c43['inputSourc'+'e']);_0x264d7d['_selecting']||(_0x264d7d['update'](_0x2a4c43['frame']),_0x264d7d['_selecting']=!(0x123b+-0x1*0x1330+0xf5),_0x264d7d['fire']('selectstar'+'t',_0x2a4c43),this['fire']('selectstar'+'t',_0x264d7d,_0x2a4c43));}),_0x363a6f['addEventLi'+'stener']('selectend',_0x17e94e=>{const _0x538c6e=this['_getByInpu'+'tSource'](_0x17e94e['inputSourc'+'e']);_0x538c6e['update'](_0x17e94e['frame']),_0x538c6e['_selecting']=!(0x8a*0x2e+0x219*0x7+-0x277a),_0x538c6e['fire']('selectend',_0x17e94e),this['fire']('selectend',_0x538c6e,_0x17e94e);}),_0x363a6f['addEventLi'+'stener']('squeeze',_0x4b408f=>{const _0x53c123=this['_getByInpu'+'tSource'](_0x4b408f['inputSourc'+'e']);_0x53c123['update'](_0x4b408f['frame']),_0x53c123['fire']('squeeze',_0x4b408f),this['fire']('squeeze',_0x53c123,_0x4b408f);}),_0x363a6f['addEventLi'+'stener']('squeezesta'+'rt',_0x4feff=>{const _0x323bcd=this['_getByInpu'+'tSource'](_0x4feff['inputSourc'+'e']);_0x323bcd['update'](_0x4feff['frame']),_0x323bcd['_squeezing']=!(-0x21f+0x172+0xad),_0x323bcd['fire']('squeezesta'+'rt',_0x4feff),this['fire']('squeezesta'+'rt',_0x323bcd,_0x4feff);}),_0x363a6f['addEventLi'+'stener']('squeezeend',_0x3c7446=>{const _0x3b5325=this['_getByInpu'+'tSource'](_0x3c7446['inputSourc'+'e']);_0x3b5325['update'](_0x3c7446['frame']),_0x3b5325['_squeezing']=!(-0x17e0+0x94*0x1c+-0xb3*-0xb),_0x3b5325['fire']('squeezeend',_0x3c7446),this['fire']('squeezeend',_0x3b5325,_0x3c7446);});const _0x30631e=_0x363a6f['inputSourc'+'es'];for(let _0x4fbd77=-0x88*-0x14+0x22bc+-0x16ae*0x2;_0x4fbd77<_0x30631e['length'];_0x4fbd77++)this['_addInputS'+'ource'](_0x30631e[_0x4fbd77]);}['_onSession'+'End'](){let _0x152b52=this['_inputSour'+'ces']['length'];for(;_0x152b52--;){const _0x3e2780=this['_inputSour'+'ces'][_0x152b52];this['_inputSour'+'ces']['splice'](_0x152b52,-0xb5a*-0x3+-0x2515+0x308),_0x3e2780['fire']('remove'),this['fire']('remove',_0x3e2780);}this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0xf5a0cb){for(let _0x792f86=0x1eaa+0x208a+-0x3f34;_0x792f86<_0xf5a0cb['removed']['length'];_0x792f86++)this['_removeInp'+'utSource'](_0xf5a0cb['removed'][_0x792f86]);for(let _0x29e406=-0xb0+-0x607+0x6b7;_0x29e406<_0xf5a0cb['added']['length'];_0x29e406++)this['_addInputS'+'ource'](_0xf5a0cb['added'][_0x29e406]);}['_getByInpu'+'tSource'](_0x25e6b9){for(let _0x204fe2=-0x1d16+0x54f+0x17c7;_0x204fe2<this['_inputSour'+'ces']['length'];_0x204fe2++)if(this['_inputSour'+'ces'][_0x204fe2]['inputSourc'+'e']===_0x25e6b9)return this['_inputSour'+'ces'][_0x204fe2];return null;}['_addInputS'+'ource'](_0x53f493){if(this['_getByInpu'+'tSource'](_0x53f493))return;const _0x771520=new xs(this['manager'],_0x53f493);this['_inputSour'+'ces']['push'](_0x771520),this['fire']('add',_0x771520);}['_removeInp'+'utSource'](_0x55f66d){for(let _0x110b0d=-0x2*0x5e9+0x1de2+0x1210*-0x1;_0x110b0d<this['_inputSour'+'ces']['length'];_0x110b0d++){if(this['_inputSour'+'ces'][_0x110b0d]['inputSourc'+'e']!==_0x55f66d)continue;const _0x4d1cb5=this['_inputSour'+'ces'][_0x110b0d];this['_inputSour'+'ces']['splice'](_0x110b0d,0x1173+-0xfd1*0x1+-0x1a1);let _0x3766d0=_0x4d1cb5['hitTestSou'+'rces']['length'];for(;_0x3766d0--;)_0x4d1cb5['hitTestSou'+'rces'][_0x3766d0]['remove']();_0x4d1cb5['fire']('remove'),this['fire']('remove',_0x4d1cb5);return;}}['update'](_0x1b66fe){for(let _0x163e86=0x162*0x11+0x412+0xdca*-0x2;_0x163e86<this['_inputSour'+'ces']['length'];_0x163e86++)this['_inputSour'+'ces'][_0x163e86]['update'](_0x1b66fe);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x389081){super(),c(this,'_manager'),c(this,'_supported',!(-0x264f+0xbe*0x2f+0x36e)),c(this,'_available',!(-0xbbf+-0xa21*0x3+0x2a23)),c(this,'_lightProb'+'eRequested',!(-0xf81+-0x1033+0x1fb5)),c(this,'_lightProb'+'e',null),c(this,'_intensity',-0x1f4a+-0x3f9+0x2343),c(this,'_rotation',new se()),c(this,'_color',new j()),c(this,'_spherical'+'Harmonics',new Float32Array(0x38b*-0x4+0xb3*0x13+0xfe)),(this['_manager']=_0x389081,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0x190c+-0x1b80+0x348c));}['_onSession'+'End'](){this['_supported']=!(-0x6df*0x1+0x1f52+0x37e*-0x7),this['_available']=!(-0x6b9+-0x14c2+0x1b7c),this['_lightProb'+'eRequested']=!(0xc43+-0x2163+0x1521),this['_lightProb'+'e']=null;}['start'](){let _0x3d3a9a;if(this['_manager']['session']||(_0x3d3a9a=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x3d3a9a&&this['_manager']['type']!==Ao&&(_0x3d3a9a=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x3d3a9a&&!this['_supported']&&(_0x3d3a9a=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x3d3a9a&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x3d3a9a=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x3d3a9a){this['fire']('error',_0x3d3a9a);return;}this['_lightProb'+'eRequested']=!(0x12d*-0x1+-0x8*-0xdf+-0x5cb),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x4dd15b=>{const _0xfed4f7=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x191e+0x128b+0xb*-0x3f8),this['_manager']['active']?_0xfed4f7&&(this['_lightProb'+'e']=_0x4dd15b):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x3e2fc9=>{this['_lightProb'+'eRequested']=!(-0x206b+0x1ec5+-0x2f*-0x9),this['fire']('error',_0x3e2fc9);});}['end'](){this['_lightProb'+'eRequested']=!(-0x1061+-0x2*-0x510+0x642),this['_lightProb'+'e']=null,this['_available']=!(-0x1b4e+-0x1229*-0x1+0x926);}['update'](_0x467415){if(!this['_lightProb'+'e'])return;const _0x10c9ec=_0x467415['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x10c9ec)return;this['_available']||(this['_available']=!(0x3*-0x8b+0x22e3+-0x10a1*0x2),this['fire']('available'));const _0x214943=_0x10c9ec['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x123*-0xe+0x1d6*0xa+-0x271,Math['max'](_0x214943['x'],Math['max'](_0x214943['y'],_0x214943['z']))),Xn['copy'](_0x214943)['mulScalar']((-0x1b10+0x1d17+-0x206)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](-0x89f*-0x4+0x8b2*0x4+-0x4544,0x1381*-0x1+0x1*0x220e+-0x19*0x95,-0xa9*0x3b+0x1147+0x56b*0x4),Jg['copy'](_0x10c9ec['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],0x20bb+0x16e1+0x3742*-0x1),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x10c9ec['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=0x1d*0x12d+-0x1ffb+-0x21e;class Rf extends ce{constructor(_0x597ee9,_0x3fe58a){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x597ee9,this['_xrPlane']=_0x3fe58a,this['_lastChang'+'edTime']=_0x3fe58a['lastChange'+'dTime'],this['_orientati'+'on']=_0x3fe58a['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x37abc0){const _0x4ccd5e=this['_planeDete'+'ction']['_manager'],_0x3aff71=_0x37abc0['getPose'](this['_xrPlane']['planeSpace'],_0x4ccd5e['_reference'+'Space']);_0x3aff71&&(this['_position']['copy'](_0x3aff71['transform']['position']),this['_rotation']['copy'](_0x3aff71['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x3ffb0b){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(-0xb62*0x1+0x24a7*0x1+0x39c*-0x7)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x3ffb0b,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0x1497+-0x1*-0xfff+-0x1*0x2495)&&(this['_available']=!(-0xe43*0x2+-0x2*-0x1139+-0x1*0x5ec),this['fire']('available'));}['_onSession'+'End'](){for(let _0x132009=-0x1*0xa7b+-0x3*0x277+0x11e0;_0x132009<this['_planes']['length'];_0x132009++)this['_planes'][_0x132009]['destroy'](),this['fire']('remove',this['_planes'][_0x132009]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x1*-0x2327+-0x90e+-0x1*0x1a19,this['_available']&&(this['_available']=!(-0x1*-0x29d+-0x136b+0xd*0x14b),this['fire']('unavailabl'+'e'));}['update'](_0x3d25b0){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x3d25b0['detectedPl'+'anes']['size'])this['_available']=!(0x1ca6+-0x1dce+-0x128*-0x1),this['fire']('available');else return;}const _0x2fb70e=_0x3d25b0['detectedPl'+'anes'];for(const [_0x4d2148,_0x1adca9]of this['_planesInd'+'ex'])_0x2fb70e['has'](_0x4d2148)||(this['_planesInd'+'ex']['delete'](_0x4d2148),this['_planes']['splice'](this['_planes']['indexOf'](_0x1adca9),0x13c4+0x1*-0xd87+-0x39*0x1c),_0x1adca9['destroy'](),this['fire']('remove',_0x1adca9));for(const _0x3680ff of _0x2fb70e){let _0x4a56b8=this['_planesInd'+'ex']['get'](_0x3680ff);_0x4a56b8?_0x4a56b8['update'](_0x3d25b0):(_0x4a56b8=new Rf(this,_0x3680ff),this['_planesInd'+'ex']['set'](_0x3680ff,_0x4a56b8),this['_planes']['push'](_0x4a56b8),_0x4a56b8['update'](_0x3d25b0),this['fire']('add',_0x4a56b8));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x5f3ba9,_0x67b224,_0xa7734f=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x5f3ba9,this['_xrAnchor']=_0x67b224,this['_uuid']=_0xa7734f);}['destroy'](){if(!this['_xrAnchor'])return;const _0x1d9f9a=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x1d9f9a,this);}['update'](_0xeb23a3){if(!this['_xrAnchor'])return;const _0x1930b7=_0xeb23a3['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x1930b7){if(this['_position']['equals'](_0x1930b7['transform']['position'])&&this['_rotation']['equals'](_0x1930b7['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x1930b7['transform']['position']),this['_rotation']['copy'](_0x1930b7['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x19885e){if(!this['_anchors']['persistenc'+'e']){_0x19885e==null||_0x19885e(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x19885e==null||_0x19885e(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x19885e&&this['_uuidReque'+'sts']['push'](_0x19885e);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x210ac5=>{this['_uuid']=_0x210ac5,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x19885e==null||_0x19885e(null,_0x210ac5);for(const _0x268df1 of this['_uuidReque'+'sts'])_0x268df1(null,_0x210ac5);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x210ac5);})['catch'](_0x5f30a6=>{_0x19885e==null||_0x19885e(_0x5f30a6,null);for(const _0x279b82 of this['_uuidReque'+'sts'])_0x279b82(_0x5f30a6,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x5b110d){if(!this['_uuid']){_0x5b110d==null||_0x5b110d(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x337a1f=>{this['_uuid']=null,_0x5b110d==null||_0x5b110d(_0x337a1f),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0xea156){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(-0x1f*0xf1+0x9fe+-0x27*-0x7e)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x1394+0x24e*-0x4+0x1ccd*0x1)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(-0xd3*0x25+-0x2*0xee6+0x3c4b):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0xea156,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x30389c=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(-0x124b+0x29*0x85+-0x301);_0x30389c&&(this['_available']=_0x30389c,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0xa41+0x16e9+-0x2129);for(let _0x30302b=0x1f15+0x1*-0x110c+0x1*-0xe09;_0x30302b<this['_creationQ'+'ueue']['length'];_0x30302b++)this['_creationQ'+'ueue'][_0x30302b]['callback']&&this['_creationQ'+'ueue'][_0x30302b]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0x2*0x769+-0x2c2*-0x1+0xc10*0x1,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x59723e=this['_list']['length'];for(;_0x59723e--;)this['_list'][_0x59723e]['destroy']();this['_list']['length']=-0x16*0x175+-0x32c+0x233a,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0xc1b84e,_0x16a141=null){const _0x19c7da=new uo(this,_0xc1b84e,_0x16a141);return this['_index']['set'](_0xc1b84e,_0x19c7da),_0x16a141&&this['_indexByUu'+'id']['set'](_0x16a141,_0x19c7da),this['_list']['push'](_0x19c7da),_0x19c7da['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x19c7da;}['_onAnchorD'+'estroy'](_0x29d4f9,_0x348f1e){this['_index']['delete'](_0x29d4f9),_0x348f1e['uuid']&&this['_indexByUu'+'id']['delete'](_0x348f1e['uuid']);const _0x440014=this['_list']['indexOf'](_0x348f1e);_0x440014!==-(-0x22*0xd4+-0x1336*0x2+-0x1*-0x4295)&&this['_list']['splice'](_0x440014,0x502*-0x7+-0x22f3+0x4602),this['fire']('destroy',_0x348f1e);}['create'](_0x39e814,_0x26f117,_0x23bca4){if(!this['_available']){_0x23bca4==null||_0x23bca4(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x39e814 instanceof XRHitTestResult){const _0x44f06a=_0x39e814;if(_0x23bca4=_0x26f117,!this['_supported']){_0x23bca4==null||_0x23bca4(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x44f06a['createAnch'+'or']){_0x23bca4==null||_0x23bca4(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x44f06a['createAnch'+'or']()['then'](_0x3a42d2=>{const _0x381eb6=this['_createAnc'+'hor'](_0x3a42d2);_0x23bca4==null||_0x23bca4(null,_0x381eb6),this['fire']('add',_0x381eb6);})['catch'](_0x7200f1=>{_0x23bca4==null||_0x23bca4(_0x7200f1,null),this['fire']('error',_0x7200f1);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x39e814,_0x26f117),'callback':_0x23bca4});}['restore'](_0x1c6a50,_0x57951b){if(!this['_available']){_0x57951b==null||_0x57951b(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x57951b==null||_0x57951b(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x57951b==null||_0x57951b(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x1c6a50)['then'](_0x200123=>{const _0x5c23b=this['_createAnc'+'hor'](_0x200123,_0x1c6a50);_0x57951b==null||_0x57951b(null,_0x5c23b),this['fire']('add',_0x5c23b);})['catch'](_0x306486=>{_0x57951b==null||_0x57951b(_0x306486,null),this['fire']('error',_0x306486);});}['forget'](_0x18e921,_0xfa3828){if(!this['_available']){_0xfa3828==null||_0xfa3828(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0xfa3828==null||_0xfa3828(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0xfa3828==null||_0xfa3828(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x18e921)['then'](()=>{_0xfa3828==null||_0xfa3828(null);})['catch'](_0x48e519=>{_0xfa3828==null||_0xfa3828(_0x48e519),this['fire']('error',_0x48e519);});}['update'](_0x1f80f6){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x1e55+-0x825*0x2+-0xe0b),_0x1f80f6['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x2079de=>{_0x2079de['delete'](),this['manager']['active']&&(this['_available']=!(-0x192+-0x3*0x571+0x11e5),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x3418aa=-0x1*0x1b5a+-0x1*-0x15b8+0x5a2;_0x3418aa<this['_creationQ'+'ueue']['length'];_0x3418aa++){const _0x916687=this['_creationQ'+'ueue'][_0x3418aa];_0x1f80f6['createAnch'+'or'](_0x916687['transform'],this['manager']['_reference'+'Space'])['then'](_0x2c20f6=>{_0x916687['callback']&&this['_callbacks'+'Anchors']['set'](_0x2c20f6,_0x916687['callback']);})['catch'](_0x14ebcc=>{_0x916687['callback']&&_0x916687['callback'](_0x14ebcc,null),this['fire']('error',_0x14ebcc);});}this['_creationQ'+'ueue']['length']=0x4f7*0x1+0xfef*0x1+-0x14e6;}for(const [_0x24ce67,_0x552383]of this['_index'])_0x1f80f6['trackedAnc'+'hors']['has'](_0x24ce67)||(this['_index']['delete'](_0x24ce67),_0x552383['destroy']());for(let _0x6e2ee8=-0x1857+0x1d*0xd5+-0x12*-0x3;_0x6e2ee8<this['_list']['length'];_0x6e2ee8++)this['_list'][_0x6e2ee8]['update'](_0x1f80f6);for(const _0x18fba0 of _0x1f80f6['trackedAnc'+'hors']){if(this['_index']['has'](_0x18fba0))continue;try{const _0x1ed8b3=_0x18fba0['anchorSpac'+'e'];}catch{continue;}const _0x51d4ce=this['_createAnc'+'hor'](_0x18fba0);_0x51d4ce['update'](_0x1f80f6);const _0x3980ff=this['_callbacks'+'Anchors']['get'](_0x18fba0);_0x3980ff&&(this['_callbacks'+'Anchors']['delete'](_0x18fba0),_0x3980ff(null,_0x51d4ce)),this['fire']('add',_0x51d4ce);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x5f029b,_0x46edc4){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',0x1*-0xbf7+0x21fe+0x1607*-0x1),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x5f029b,this['_xrMesh']=_0x46edc4,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x1a2866){const _0x2a37f6=this['_meshDetec'+'tion']['_manager'],_0x36b5e7=_0x1a2866['getPose'](this['_xrMesh']['meshSpace'],_0x2a37f6['_reference'+'Space']);_0x36b5e7&&(this['_position']['copy'](_0x36b5e7['transform']['position']),this['_rotation']['copy'](_0x36b5e7['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x122ac3){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(-0x1b30+-0x10cf*0x1+0x2c00)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x122ac3,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x58d378){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x58d378['detectedMe'+'shes']['size'])this['_available']=!(0x2007+0x1*-0x2389+0x1*0x382),this['fire']('available');else return;}for(const _0x4bfa14 of _0x58d378['detectedMe'+'shes']){let _0x3384a9=this['_index']['get'](_0x4bfa14);_0x3384a9?_0x3384a9['update'](_0x58d378):(_0x3384a9=new If(this,_0x4bfa14),this['_index']['set'](_0x4bfa14,_0x3384a9),this['_list']['push'](_0x3384a9),_0x3384a9['update'](_0x58d378),this['fire']('add',_0x3384a9));}for(const _0x59aad9 of this['_index']['values']())_0x58d378['detectedMe'+'shes']['has'](_0x59aad9['xrMesh'])||this['_removeMes'+'h'](_0x59aad9);}['_removeMes'+'h'](_0x37cba1){this['_index']['delete'](_0x37cba1['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x37cba1),-0x2387+0x1fc0+0x3c8),_0x37cba1['destroy'](),this['fire']('remove',_0x37cba1);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x4aee8d=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0xac1+0xb4b+-0x89*0x1);if(!_0x4aee8d)return;this['_available']=_0x4aee8d,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0xb62+-0x42*0x36+0x1*0x194f);for(const _0x2a4548 of this['_index']['values']())this['_removeMes'+'h'](_0x2a4548);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x43ff88,_0x3fd8c6,_0x55fdb0){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(0x13d*0xa+0xc*0x23d+-0x273b)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x236e+-0x2*0x13a+0xe*0x2b7)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x43ff88,this['_xrView']=_0x3fd8c6);const _0x56985d=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x56985d,{'format':dr,'mipmaps':!(0x2*-0x6ab+-0x1*-0x11d1+0x1*-0x47a),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x34f384=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x56985d,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x55fdb0===0x264f+0x100c+-0x365a?-0x2e3*-0x6+-0x4e*0x3+-0x8c*0x1e:_0x55fdb0,'mipmaps':!(-0x4*0x87a+-0x18ec+-0x1*-0x3ad5),'addressU':ae,'addressV':ae,'minFilter':_0x34f384,'magFilter':_0x34f384,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x1e165a=0x1*-0x3ba+-0x24af*-0x1+0x289*-0xd;_0x1e165a<this['_textureDe'+'pth']['_levels']['length'];_0x1e165a++)this['_textureDe'+'pth']['_levels'][_0x1e165a]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x56985d['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x2454e0;return((_0x2454e0=this['_depthInfo'])==null?void(-0x1ceb*0x1+0x1af0+-0x1*-0x1fb):_0x2454e0['rawValueTo'+'Meters'])||0x62*0x15+-0x1646+0xe3c;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x58c047,_0x4541fa){this['_xrView']=_0x4541fa,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x122017=_0x58c047['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x122017['x'],this['_viewport']['y']=_0x122017['y'],this['_viewport']['z']=_0x122017['width'],this['_viewport']['w']=_0x122017['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x58c047);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x260682=this['_manager']['webglBindi'+'ng'];if(!_0x260682)return;const _0x582324=_0x260682['getCameraI'+'mage'](this['_xrCamera']);if(!_0x582324)return;const _0x16b89b=this['_manager']['app']['graphicsDe'+'vice'],_0x3618bb=_0x16b89b['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x3618bb['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x3618bb['createFram'+'ebuffer']();else{const _0xab7ab1=_0x3618bb['COLOR_ATTA'+'CHMENT0'],_0x1a3811=this['_xrCamera']['width'],_0x2d739e=this['_xrCamera']['height'];_0x16b89b['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x3618bb['framebuffe'+'rTexture2D'](_0x3618bb['FRAMEBUFFE'+'R'],_0xab7ab1,_0x3618bb['TEXTURE_2D'],_0x582324,-0x1fd*-0xb+0x1a00+-0x2fdf),_0x16b89b['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x3618bb['framebuffe'+'rTexture2D'](_0x3618bb['FRAMEBUFFE'+'R'],_0xab7ab1,_0x3618bb['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0x45*0x27+-0x3*-0x1eb+0x4*-0x411),_0x3618bb['bindFrameb'+'uffer'](_0x3618bb['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x3618bb['bindFrameb'+'uffer'](_0x3618bb['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x3618bb['blitFrameb'+'uffer'](-0x6df+0x1036+-0x3*0x31d,_0x2d739e,_0x1a3811,-0x41*-0x2e+0xc1b+-0x17c9*0x1,-0x877+0x121*-0x20+0x1*0x2c97,-0xc2f*-0x1+0xc16+-0x6d*0x39,_0x1a3811,_0x2d739e,_0x3618bb['COLOR_BUFF'+'ER_BIT'],_0x3618bb['NEAREST']);}}['_updateDep'+'th'](_0x55d049){var _0x36f3e1,_0x27515e;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x54d49e=this['_manager']['views']['depthGpuOp'+'timized'],_0x439c87=_0x54d49e?this['_manager']['webglBindi'+'ng']:_0x55d049;if(!_0x439c87){this['_depthInfo']=null;return;}const _0x26725d=_0x439c87['getDepthIn'+'formation'](this['_xrView']);if(!_0x26725d){this['_depthInfo']=null;return;}let _0x1a1221=!this['_depthInfo']!=!_0x26725d;this['_depthInfo']=_0x26725d;const _0x197c26=((_0x36f3e1=this['_depthInfo'])==null?void(-0x2*-0xeba+0x419+-0x218d):_0x36f3e1['width'])||-0x26f3+-0x1323+-0x9af*-0x6,_0x25debe=((_0x27515e=this['_depthInfo'])==null?void(0xe4a+0x1*-0xdd1+0xb*-0xb):_0x27515e['height'])||0x16d3+0x3*0x1d+0x2*-0xb93;let _0x515c63=!(-0x331*-0x5+-0x2122+0x112e);if((this['_textureDe'+'pth']['width']!==_0x197c26||this['_textureDe'+'pth']['height']!==_0x25debe)&&(this['_textureDe'+'pth']['_width']=_0x197c26,this['_textureDe'+'pth']['_height']=_0x25debe,_0x1a1221=!(-0xa0*0x19+-0x13*0xa9+0x1c2b),_0x515c63=!(0x2559+-0x6*-0x4a8+-0x4149)),_0x1a1221&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x54d49e){if(this['_depthInfo']['texture']){const _0xac0ed5=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0xac0ed5['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0xac0ed5['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0xac0ed5['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0xac0ed5['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0xac0ed5['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0xac0ed5['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0xac0ed5['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0xac0ed5['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x382*0x1+0x26c9+-0x2a4b);}}else this['_textureDe'+'pth']['_levels'][0x399*0x1+-0x192b+0x1592]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0xa99*-0x1+0x7*-0x3df+0x19*0x182]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x515c63&&this['fire']('depth:resi'+'ze',_0x197c26,_0x25debe);}['updateTran'+'sforms'](_0x33ad02){_0x33ad02?(this['_viewInvOf'+'fMat']['mul2'](_0x33ad02,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0x22d6*-0x1+0xc50+0x55*-0x8e]=this['_viewInvOf'+'fMat']['data'][0x30*0x61+-0x1912*-0x1+-0x2b36],this['_positionD'+'ata'][-0x4af*0x7+0x2b*-0xe+-0x2*-0x1192]=this['_viewInvOf'+'fMat']['data'][-0x208b+-0xbf0+0x2c88],this['_positionD'+'ata'][-0x7*-0x481+-0x1*-0x1f49+-0x3ece]=this['_viewInvOf'+'fMat']['data'][0x2470+0x74b+0x2bad*-0x1];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x245bf7,_0x406816){var _0x2bb1fa;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x2bb1fa=this['_depthInfo'])==null?void(0x198b+-0x1*0x15e5+-0x1*0x3a6):_0x2bb1fa['getDepthIn'+'Meters'](_0x245bf7,_0x406816))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x1bc00f=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x1bc00f['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x1bc00f['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x578066){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(0x133f+-0x2*-0x9a8+-0x268e)),c(this,'_available'+'Depth',!(-0x5*0x5e3+0x1abb+0x2b5)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x578066,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x196caf,_0xe72db1){for(let _0x94b6a7=0xf80+0x247a+-0x33fa;_0x94b6a7<_0xe72db1['length'];_0x94b6a7++)this['_indexTmp']['set'](_0xe72db1[_0x94b6a7]['eye'],_0xe72db1[_0x94b6a7]);for(const [_0x3f07eb,_0x403a59]of this['_indexTmp']){let _0x390db2=this['_index']['get'](_0x3f07eb);_0x390db2?_0x390db2['update'](_0x196caf,_0x403a59):(_0x390db2=new Hx(this['_manager'],_0x403a59,_0xe72db1['length']),this['_index']['set'](_0x3f07eb,_0x390db2),this['_list']['push'](_0x390db2),_0x390db2['update'](_0x196caf,_0x403a59),this['fire']('add',_0x390db2));}for(const [_0x567576,_0x42db08]of this['_index']){if(this['_indexTmp']['has'](_0x567576))continue;_0x42db08['destroy'](),this['_index']['delete'](_0x567576);const _0x158278=this['_list']['indexOf'](_0x42db08);_0x158278!==-(0x1*-0x2357+-0x1b9*0xd+0x39bd)&&this['_list']['splice'](_0x158278,-0x16a+0x1328+-0x11bd),this['fire']('remove',_0x42db08);}this['_indexTmp']['clear']();}['get'](_0x715881){return this['_index']['get'](_0x715881)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x1*0xd8b+-0xe*-0x1c5+0x1*-0xb3a),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0x1c70+-0x1633+0x32a4),this['_available'+'Depth'])){const _0x4bc43b=this['_manager']['session'];this['_depthUsag'+'e']=_0x4bc43b['depthUsage'],this['_depthForm'+'at']=_0x4bc43b['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x1ed58f of this['_index']['values']())_0x1ed58f['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0xf73+-0x1642+0x6d0),this['_available'+'Depth']=!(0x1*0xbbd+0x2b*0x57+-0x13*0x163),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x2108+-0x593*0x7+-0x15*-0x49;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x25e202){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',0x1c4b+0xf57*-0x2+-0xd*-0x2f+0.1),c(this,'_depthFar',0x959+-0x1e*0xa7+0xe21),c(this,'_supported'+'FrameRates',null),c(this,'_width',0x1135*0x1+0x22*0x8e+0x7*-0x527),c(this,'_height',0x1*0x1729+0x5*0x35b+-0x1*0x27f0),c(this,'_framebuff'+'erScaleFac'+'tor',0x4*-0x866+-0x1*0x15aa+0x3743),(this['app']=_0x25e202,this['_available'][VL]=!(0x2*0x35e+0x9ae+0x1*-0x1069),this['_available'][GL]=!(-0x21af*-0x1+-0x2194+-0x1a),this['_available'][Ao]=!(-0x1965+-0x1163+-0xe43*-0x3),this['views']=new ic(this),this['domOverlay']=new WL(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x2f72f0,_0xc3e8c,_0x5c319d,_0x537161){var _0x5803a0;let _0x489077=_0x537161;if(typeof _0x537161=='object'&&(_0x489077=_0x537161['callback']),!this['_available'][_0xc3e8c]){_0x489077&&_0x489077(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x489077&&_0x489077(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x2f72f0,this['_camera']['camera']['xr']=this,this['_type']=_0xc3e8c,this['_spaceType']=_0x5c319d,this['_framebuff'+'erScaleFac'+'tor']=(_0x537161==null?void(-0x2*-0x7be+-0x11*-0x14d+-0x2599):_0x537161['framebuffe'+'rScaleFact'+'or'])??0x1b3d+-0x1bbd+0x81,this['_setClipPl'+'anes'](_0x2f72f0['nearClip'],_0x2f72f0['farClip']);const _0x1c025b={'requiredFeatures':[_0x5c319d],'optionalFeatures':[]},_0x7ee340=(_0x5803a0=this['app']['graphicsDe'+'vice'])==null?void(0x1*0x11fb+0xafc+-0x1cf7):_0x5803a0['isWebGL2'];if(_0xc3e8c===Ao){if(_0x1c025b['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x1c025b['optionalFe'+'atures']['push']('hit-test'),_0x537161&&(_0x537161['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x1c025b['optionalFe'+'atures']['push']('image-trac'+'king'),_0x537161['planeDetec'+'tion']&&_0x1c025b['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x537161['meshDetect'+'ion']&&_0x1c025b['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x1c025b['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x1c025b['domOverlay']={'root':this['domOverlay']['root']}),_0x537161&&_0x537161['anchors']&&this['anchors']['supported']&&_0x1c025b['optionalFe'+'atures']['push']('anchors'),_0x537161&&_0x537161['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x1c025b['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x2a49d0=[],_0x14ca18=[];if(_0x2a49d0['push'](Bx,$L),_0x14ca18['push'](Ux,Nx,zx),_0x537161['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x106f94=_0x2a49d0['indexOf'](_0x537161['depthSensi'+'ng']['usagePrefe'+'rence']);_0x106f94!==-(0x1f0f*0x1+0x17d2+-0x36e0)&&_0x2a49d0['splice'](_0x106f94,0x1*0x10c1+-0x1688+0x5c8),_0x2a49d0['unshift'](_0x537161['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x537161['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x5c4656=_0x14ca18['indexOf'](_0x537161['depthSensi'+'ng']['dataFormat'+'Preference']);_0x5c4656!==-(0x21bb+0x1*-0x1ba0+-0x61a)&&_0x14ca18['splice'](_0x5c4656,-0xb12*-0x2+-0xdef+-0x834),_0x14ca18['unshift'](_0x537161['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x1c025b['depthSensi'+'ng']={'usagePreference':_0x2a49d0,'dataFormatPreference':_0x14ca18};}_0x7ee340&&_0x537161&&_0x537161['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x1c025b['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x1c025b['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x537161&&_0x537161['optionalFe'+'atures']&&(_0x1c025b['optionalFe'+'atures']=_0x1c025b['optionalFe'+'atures']['concat'](_0x537161['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x4f372a,_0x2f44a8)=>{if(_0x4f372a){_0x489077&&_0x489077(_0x4f372a),this['fire']('error',_0x4f372a);return;}_0x2f44a8!==null&&(_0x1c025b['trackedIma'+'ges']=_0x2f44a8),this['_onStartOp'+'tionsReady'](_0xc3e8c,_0x5c319d,_0x1c025b,_0x489077);}):this['_onStartOp'+'tionsReady'](_0xc3e8c,_0x5c319d,_0x1c025b,_0x489077);}['_onStartOp'+'tionsReady'](_0x5b1ef5,_0x3d14b3,_0x2dd56a,_0x4d85a9){navigator['xr']['requestSes'+'sion'](_0x5b1ef5,_0x2dd56a)['then'](_0x141480=>{this['_onSession'+'Start'](_0x141480,_0x3d14b3,_0x4d85a9);})['catch'](_0x2b0111=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x4d85a9&&_0x4d85a9(_0x2b0111),this['fire']('error',_0x2b0111);});}['end'](_0x53add6){if(!this['_session']){_0x53add6&&_0x53add6(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x53add6&&this['once']('end',_0x53add6),this['_session']['end']();}['isAvailabl'+'e'](_0x105d9f){return this['_available'][_0x105d9f];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x298bfa in this['_available'])this['_sessionSu'+'pportCheck'](_0x298bfa);}['initiateRo'+'omCapture'](_0x4383b5){if(!this['_session']){_0x4383b5(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x4383b5(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x4383b5&&_0x4383b5(null);})['catch'](_0x5d117a=>{_0x4383b5&&_0x4383b5(_0x5d117a);});}['updateTarg'+'etFrameRat'+'e'](_0x4309ec,_0x56b34e){var _0x368af2;if(!((_0x368af2=this['_session'])!=null&&_0x368af2['updateTarg'+'etFrameRat'+'e'])){_0x56b34e==null||_0x56b34e(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x4309ec)['then'](()=>{_0x56b34e==null||_0x56b34e();})['catch'](_0x360b43=>{_0x56b34e==null||_0x56b34e(_0x360b43);});}['_sessionSu'+'pportCheck'](_0x16e3eb){navigator['xr']['isSessionS'+'upported'](_0x16e3eb)['then'](_0x2d91bb=>{this['_available'][_0x16e3eb]!==_0x2d91bb&&(this['_available'][_0x16e3eb]=_0x2d91bb,this['fire']('available',_0x16e3eb,_0x2d91bb),this['fire']('available:'+_0x16e3eb,_0x2d91bb));})['catch'](_0x1ccab6=>{this['fire']('error',_0x1ccab6);});}['_onSession'+'Start'](_0x4a72fa,_0x204a72,_0x193a74){let _0x42f336=!(-0x1335*0x1+-0x1*0x1e02+-0x9*-0x578);this['_session']=_0x4a72fa;const _0x5ba421=()=>{this['fire']('visibility'+':change',_0x4a72fa['visibility'+'State']);},_0xc5724f=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x3d358e=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0xc5724f),this['_camera']['off']('set_farCli'+'p',_0xc5724f),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x4a72fa['removeEven'+'tListener']('end',_0x3d358e),_0x4a72fa['removeEven'+'tListener']('visibility'+'change',_0x5ba421),_0x42f336||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0x2110+-0x507*-0x7+-0x221,this['_height']=-0x218+0x1*-0x1e4f+0x7*0x4a1,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x4a72fa['addEventLi'+'stener']('end',_0x3d358e),_0x4a72fa['addEventLi'+'stener']('visibility'+'change',_0x5ba421),this['_camera']['on']('set_nearCl'+'ip',_0xc5724f),this['_camera']['on']('set_farCli'+'p',_0xc5724f),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x1a1e72;this['fire']('frameratec'+'hange',(_0x1a1e72=this['_session'])==null?void(0x1da5+0x1eaf+-0x3c54):_0x1a1e72['frameRate']);}),_0x4a72fa['requestRef'+'erenceSpac'+'e'](_0x204a72)['then'](_0x39415f=>{this['_reference'+'Space']=_0x39415f,this['app']['tick'](),_0x193a74&&_0x193a74(null),this['fire']('start');})['catch'](_0x18bbd1=>{_0x42f336=!(-0x243+-0x1729+0x196c),_0x4a72fa['end'](),_0x193a74&&_0x193a74(_0x18bbd1),this['fire']('error',_0x18bbd1);});}['_setClipPl'+'anes'](_0x35110f,_0x353cba){this['_depthNear']===_0x35110f&&this['_depthFar']===_0x353cba||(this['_depthNear']=_0x35110f,this['_depthFar']=_0x353cba,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x368c77=this['app']['graphicsDe'+'vice'],_0x5cea3d=_0x368c77['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x368c77['gl'],{'alpha':!(-0xa70+0x9e+0x9d2),'depth':!(0x2c9*0x7+-0xa7+-0x324*0x6),'stencil':!(-0x152b*0x1+0x1*-0x2137+0x1*0x3662),'framebufferScaleFactor':_0x5cea3d,'antialias':!(0x1*-0x2423+-0x1*-0x232f+0xf5)}),_0x368c77!=null&&_0x368c77['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x368c77['gl']);}catch(_0x307dfe){this['fire']('error',_0x307dfe);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x3bcf54=>{this['fire']('error',_0x3bcf54);});},-0x16a6+-0x1cca+0x2*0x19b8);}['update'](_0x19d394){if(!this['_session'])return!(0x17*-0x7+-0x1796+0x1838);const _0x572b92=_0x19d394['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x455290=_0x19d394['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x572b92||this['_height']!==_0x455290)&&(this['_width']=_0x572b92,this['_height']=_0x455290,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x572b92,_0x455290));const _0x52e8de=_0x19d394['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x52e8de)return!(0x2fb*0xa+0x182a*-0x1+-0x6f*0xd);const _0x49a5f6=this['views']['list']['length'];this['views']['update'](_0x19d394,_0x52e8de['views']);const _0x3a5b28=_0x52e8de['transform']['position'],_0x400052=_0x52e8de['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x3a5b28['x'],_0x3a5b28['y'],_0x3a5b28['z']),this['_localRota'+'tion']['set'](_0x400052['x'],_0x400052['y'],_0x400052['z'],_0x400052['w']),_0x49a5f6===-0x12*0x1e2+-0xabc+-0x1*-0x2ca0&&this['views']['list']['length']>0xa73+0x28d*0x9+-0x2168){const _0xba252d=new q(),_0x16dfef=this['views']['list'][0x2e5+-0x2*0x4b+-0x24f];_0xba252d['copy'](_0x16dfef['projMat']);const _0x5b4c11=_0xba252d['data'],_0x332b45=(-0x83e+-0x144a+0x1c8a)*Math['atan']((0x9d9*0x1+0x1*-0x62b+-0x3ad*0x1)/_0x5b4c11[0x1637+0x18aa+0xbb7*-0x4])*(0xeb0+-0xb*0x16e+0x1be*0x1)/Math['PI'],_0x395719=_0x5b4c11[-0x221e+-0x1*-0x14ba+0xd69]/_0x5b4c11[-0x3*-0x5dd+-0x1b27+0x990],_0x5e3acd=_0x5b4c11[-0x1965+0x626+0x134d]/(_0x5b4c11[-0x19*0xe9+0x13b1+-0x2*-0x18d]+(-0x229e+-0x1cd4+0x3f73)),_0xbe20dd=_0x5b4c11[-0xd63+0xe8e*0x2+0x539*-0x3]/(_0x5b4c11[0x1e8*-0x11+-0x112f*-0x2+-0x1ec]-(0x146f+-0xdd6+-0x698));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x395719,'farClip':_0x5e3acd,'fov':_0x332b45,'horizontalFov':!(-0x1ddc+-0x12cd+0x30aa),'nearClip':_0xbe20dd});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x19d394),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x19d394),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x19d394),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x19d394),this['anchors']['supported']&&this['anchors']['update'](_0x19d394),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x19d394),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x19d394)),this['fire']('update',_0x19d394),!(0x1*-0xacf+-0x1*-0x17f3+0x2*-0x692);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x4334c8;return((_0x4334c8=this['_session'])==null?void(0x397+-0xdd2+0xa3b):_0x4334c8['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x17d971){var _0x516755;(((_0x516755=this['_baseLayer'])==null?void(0x10b*-0x7+0x1673*0x1+-0xf26):_0x516755['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0x19e2+-0x2403*0x1+0x3de6&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x17d971);}get['fixedFovea'+'tion'](){var _0x2286ba;return((_0x2286ba=this['_baseLayer'])==null?void(-0x3b6*-0x2+-0x1*-0xb7+0x1*-0x823):_0x2286ba['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x5c49a8,_0x2c4755={}){super(_0x5c49a8);const _0x15621e=new pP();_0x15621e['graphicsDe'+'vice']=_0x2c4755['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x5c49a8,_0x2c4755),this['addCompone'+'ntSystems'](_0x15621e),this['addResourc'+'eHandles'](_0x15621e),_0x15621e['elementInp'+'ut']=_0x2c4755['elementInp'+'ut'],_0x15621e['keyboard']=_0x2c4755['keyboard'],_0x15621e['mouse']=_0x2c4755['mouse'],_0x15621e['touch']=_0x2c4755['touch'],_0x15621e['gamepads']=_0x2c4755['gamepads'],_0x15621e['scriptPref'+'ix']=_0x2c4755['scriptPref'+'ix'],_0x15621e['assetPrefi'+'x']=_0x2c4755['assetPrefi'+'x'],_0x15621e['scriptsOrd'+'er']=_0x2c4755['scriptsOrd'+'er'],_0x15621e['soundManag'+'er']=new kb(),_0x15621e['lightmappe'+'r']=vP,_0x15621e['batchManag'+'er']=dC,_0x15621e['xr']=Qn,this['init'](_0x15621e);}['createDevi'+'ce'](_0x11f2f9,_0x59fa5a){return _0x59fa5a['graphicsDe'+'viceOption'+'s']||(_0x59fa5a['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x59fa5a['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x323*0x9+-0x1f4c+0x5*0x9d)),_0x59fa5a['graphicsDe'+'viceOption'+'s']['alpha']=_0x59fa5a['graphicsDe'+'viceOption'+'s']['alpha']||!(0x1*0x1a93+0x1303+-0x2d95),new pb(_0x11f2f9,_0x59fa5a['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x2de5f3){_0x2de5f3['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,WR,$I,uD];}['addResourc'+'eHandles'](_0x51fffe){_0x51fffe['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,W2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0x278bc8,_0x252894){super(_0x278bc8),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x252894;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x4e38b5=>{_0x4e38b5['defaultUni'+'formBuffer']['destroy'](),_0x4e38b5['destroy']();}),this['viewBindGr'+'oups']['length']=-0xf7*0x7+0xcde*0x1+-0x1*0x61d;}['update'](_0x3d3013,_0x1082bb,_0x5cc7fc,_0x9eeda4){this['camera']=_0x3d3013,this['scene']=_0x1082bb,this['layers']=_0x5cc7fc,this['mapping']=_0x9eeda4;}['execute'](){const _0x4c546d=this['device'],{renderer:_0x2cb5d5,camera:_0x57a6c8,scene:_0xa033c0,layers:_0x3d803c,mapping:_0x590044,renderTarget:_0xd584b2}=this,_0x1f057b=_0xa033c0['layers']['layerList'],_0x3cfc96=_0xa033c0['layers']['subLayerEn'+'abled'],_0xf34750=_0xa033c0['layers']['subLayerLi'+'st'];for(let _0x557137=0x2*-0x14c+0x21f6+-0x1f5e;_0x557137<_0x1f057b['length'];_0x557137++){const _0x1f3f8a=_0x1f057b[_0x557137];if(!(_0x3d803c&&_0x3d803c['indexOf'](_0x1f3f8a)<0x7*-0x49d+-0x12d8+0x3323)&&_0x1f3f8a['enabled']&&_0x3cfc96[_0x557137]&&_0x1f3f8a['camerasSet']['has'](_0x57a6c8['camera'])){const _0x1a6f6e=_0xf34750[_0x557137];G['pushGpuMar'+'ker'](_0x4c546d,_0x1f3f8a['name']+'('+(_0x1a6f6e?'TRANSP':'OPAQUE')+')'),_0x1f3f8a['_clearDept'+'hBuffer']&&_0x2cb5d5['clear'](_0x57a6c8['camera'],!(-0x15ae+-0x7c0+0x1d6f),!(0x2345+-0x17f0+0x3c7*-0x3),!(-0x137c+0x1*-0xd+0x138a));const _0x2b1e88=_0x1f3f8a['meshInstan'+'ces'];for(let _0x435ac9=0x857+-0x145e+-0x1*-0xc07;_0x435ac9<_0x2b1e88['length'];_0x435ac9++){const _0x58ce2d=_0x2b1e88[_0x435ac9];_0x58ce2d['pick']&&_0x58ce2d['transparen'+'t']===_0x1a6f6e&&(nh['push'](_0x58ce2d),_0x590044['set'](_0x58ce2d['id'],_0x58ce2d));}nh['length']>0x10f4+-0x4*-0x3c0+0x7fd*-0x4&&(_0xa033c0['clusteredL'+'ightingEna'+'bled']&&_0x2cb5d5['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x2cb5d5['setCameraU'+'niforms'](_0x57a6c8['camera'],_0xd584b2),_0x4c546d['supportsUn'+'iformBuffe'+'rs']&&_0x2cb5d5['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x2cb5d5['viewUnifor'+'mFormat'],_0x2cb5d5['viewBindGr'+'oupFormat'],-0x9e7+0x10f4+-0x70c),_0x2cb5d5['renderForw'+'ard'](_0x57a6c8['camera'],_0xd584b2,nh,YL,Oa,_0x3a26e3=>{_0x4c546d['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=-0x8ec*0x4+0x205*-0xe+0x1552*0x3),G['popGpuMark'+'er'](_0x4c546d);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x11d4b7,_0x4796c3,_0x521210){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(-0x1*-0x1c66+-0x1f*0x11+-0x1a57)),(v['assert'](_0x11d4b7),this['renderer']=_0x11d4b7['renderer'],this['device']=_0x11d4b7['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x11d4b7['renderer']),this['width']=-0x202b+-0x124a+0x3275,this['height']=0x200*0x1+-0x51*0x3+-0x10d*0x1,this['resize'](_0x4796c3,_0x521210),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x37*-0x71+-0x3f+0x1*-0x1807);}));}['getSelecti'+'on'](_0x168bed,_0x3861b6,_0x431912=-0x997+-0x191e+-0x1*-0x22b6,_0x29ac1e=-0x5*-0x56e+0x8ae+-0x23d3){const _0x1133ad=this['device'];if(_0x1133ad['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x168bed!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x3861b6=this['renderTarg'+'et']['height']-(_0x3861b6+_0x29ac1e);const _0x265bcb=this['sanitizeRe'+'ct'](_0x168bed,_0x3861b6,_0x431912,_0x29ac1e);_0x1133ad['setRenderT'+'arget'](this['renderTarg'+'et']),_0x1133ad['updateBegi'+'n']();const _0x19673a=new Uint8Array((-0x893*-0x1+0x1d43+-0x25d2)*_0x265bcb['z']*_0x265bcb['w']);return _0x1133ad['readPixels'](_0x265bcb['x'],_0x265bcb['y'],_0x265bcb['z'],_0x265bcb['w'],_0x19673a),_0x1133ad['updateEnd'](),this['decodePixe'+'ls'](_0x19673a,this['mapping']);}['getSelecti'+'onAsync'](_0x264c30,_0x3d4915,_0x19d8f2=-0x1252+0x21b5*0x1+0xb*-0x166,_0x375197=0x162f+-0x662+0x7e6*-0x2){var _0x330471;(_0x330471=this['device'])!=null&&_0x330471['isWebGL2']&&(_0x3d4915=this['renderTarg'+'et']['height']-(_0x3d4915+_0x375197));const _0x5a9dae=this['sanitizeRe'+'ct'](_0x264c30,_0x3d4915,_0x19d8f2,_0x375197);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x5a9dae['x'],_0x5a9dae['y'],_0x5a9dae['z'],_0x5a9dae['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x77f+0x1985+-0x1*0x1206)})['then'](_0x12ff0c=>this['decodePixe'+'ls'](_0x12ff0c,this['mapping']));}['sanitizeRe'+'ct'](_0x4a4052,_0xd85307,_0x2a3443,_0x24c250){const _0x4bb580=this['renderTarg'+'et']['width'],_0x14e2e3=this['renderTarg'+'et']['height'];return _0x4a4052=N['clamp'](Math['floor'](_0x4a4052),-0x5a*-0x55+0xd*0x137+-0x2dad,_0x4bb580-(0x3d*0x1e+-0x62e+-0xf7*0x1)),_0xd85307=N['clamp'](Math['floor'](_0xd85307),-0x3c0+-0x16b9+-0x1b*-0xfb,_0x14e2e3-(0x106b*0x2+0x1819+-0x38ee)),_0x2a3443=Math['floor'](Math['max'](_0x2a3443,0x2a*0x18+-0x1368+-0x11*-0xe9)),_0x2a3443=Math['min'](_0x2a3443,_0x4bb580-_0x4a4052),_0x24c250=Math['floor'](Math['max'](_0x24c250,-0x229c+-0x180e+-0x3aab*-0x1)),_0x24c250=Math['min'](_0x24c250,_0x14e2e3-_0xd85307),ZL['set'](_0x4a4052,_0xd85307,_0x2a3443,_0x24c250);}['decodePixe'+'ls'](_0xbf129,_0x87a695){const _0x419954=[];if(this['deviceVali'+'d']){const _0x46d417=_0xbf129['length'];for(let _0x31e029=-0x2423*0x1+0x3*0x742+0xe5d;_0x31e029<_0x46d417;_0x31e029+=0x2*0x42b+-0x22ba+0x1a68){const _0x4b57b1=_0xbf129[_0x31e029+(-0x1*0x2177+0x20f*0x7+0x130e)],_0x34258b=_0xbf129[_0x31e029+(0x10eb+-0xc15*0x2+0x740*0x1)],_0x269af0=_0xbf129[_0x31e029+(-0xc5d*-0x1+0x18c*0x17+-0x2fef)],_0x1005a3=_0xbf129[_0x31e029+(-0x901+-0xe5*0x5+0x3*0x47f)]<<-0x11be+0x375+0x9*0x199|_0x4b57b1<<-0x5d2+0x1a5b+-0x1479|_0x34258b<<0x8*-0x114+-0x1*-0x1567+-0xcbf|_0x269af0;_0x1005a3!==-(-0x7*-0xcb+-0x160*-0x2+0x1*-0x84c)&&nu['add'](_0x87a695['get'](_0x1005a3));}nu['forEach'](_0x1f8d3a=>{_0x1f8d3a&&_0x419954['push'](_0x1f8d3a);}),nu['clear']();}return _0x419954;}['allocateRe'+'nderTarget'](){const _0x581ad7=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(0x1bcf+0x394+-0x1f62),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x581ad7,'depth':!(0x1*0xffa+-0x6f0+0xb2*-0xd)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x428c64,_0x3ab5a4,_0x19133a){_0x19133a instanceof Lr&&(_0x19133a=[_0x19133a]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x1339f1=this['renderPass'];_0x1339f1['init'](this['renderTarg'+'et']),_0x1339f1['colorOps']['clearValue']=j['WHITE'],_0x1339f1['colorOps']['clear']=!(-0xdb7*0x1+-0x32*-0x19+0x8d5),_0x1339f1['depthStenc'+'ilOps']['clearDepth']=!(0x249e+-0x181*-0x13+0x3*-0x15bb),_0x1339f1['update'](_0x428c64,_0x3ab5a4,_0x19133a,this['mapping']),_0x1339f1['render']();}['resize'](_0x3dbea0,_0x3817ac){this['width']=Math['floor'](_0x3dbea0),this['height']=Math['floor'](_0x3817ac);}};class QL{constructor(_0x3101cc){this['_frameInde'+'x']=0x175+-0x2d4+0x15f,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x147*0x9+-0x1*0x2442+-0x13d*-0x14,this['enabled']=!(-0x2*-0x3bc+-0xb80+0x18*0x2b),_0x3101cc['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x3101cc['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x3101cc['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x4fdfde){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x105dec=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x105dec,this['_frameInde'+'x']=-0x13*-0x86+-0x1464+0x539*0x2,this['mark'](_0x4fdfde);}['mark'](_0x2a1c82){if(!this['enabled'])return;const _0x1d64e6=ne();if(this['_frameInde'+'x']>-0xf37+0x100b+-0xd4*0x1){const _0x2d49f8=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(-0x1cea+-0x184d+-0x106*-0x34)];_0x2d49f8[-0x1*0x64d+-0x1f53+-0x2e5*-0xd]=_0x1d64e6-_0x2d49f8[-0xc4*-0x3+0x1f3a+0x1*-0x2185];}else{if(this['_timings']['length']>0x9d+0x5*0x43+0x2*-0xf6){const _0x43159a=this['_timings'][this['_timings']['length']-(0x167f+-0x48+-0x1636*0x1)];_0x43159a[-0xe26+-0xfa4+0x107*0x1d]=_0x1d64e6-_0x43159a[-0x1f08+0xdf1+0x1118];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x2a1c82,_0x1d64e6]);else{const _0x6a5359=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x6a5359[-0x1d1b+0xd*0x55+0x13*0x14e]=_0x2a1c82,_0x6a5359[0x1f7e*0x1+0xc5*-0x2b+0x19a]=_0x1d64e6;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0xe58+-0x9a3+0x17fb,-(0x1*-0x1ba9+-0x1*0x26c3+0xd49*0x5))['map'](_0x441796=>_0x441796[0x1fe9+-0x1*0xa13+-0x15d5]);}}class JL{constructor(_0x535ffc){this['device']=_0x535ffc,_0x535ffc['gpuProfile'+'r']['enabled']=!(0x1f29+0x175e*0x1+0x3*-0x122d),this['enabled']=!(-0x1cb6+0x46e+-0x8*-0x309),this['unitsName']='ms',this['decimalPla'+'ces']=-0x1b68+0x2*0x1256+-0x943,this['_timings']=[];}get['timings'](){return this['_timings'][-0x1b7d+0x509*-0x5+0xe*0x3c3]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x45f671,_0x29af0e,_0x3044a7,_0x5d9c59,_0x1a15a9){this['app']=_0x45f671,this['values']=[],this['statNames']=_0x29af0e,this['statNames']['length']>0x1fa9*0x1+-0x1bd6+-0xf4*0x4&&(this['statNames']['length']=-0xb7c+-0x77b+0x12fa),this['unitsName']=_0x5d9c59,this['decimalPla'+'ces']=_0x3044a7,this['multiplier']=_0x1a15a9||0x16a*-0x1b+-0x7a3+0x159*0x22;const _0x39a2b9=(_0x4d63f2,_0x53367f)=>_0x4d63f2['split']('.')['reduce']((_0x3435a2,_0x4fb407)=>_0x3435a2?_0x3435a2[_0x4fb407]:null,_0x53367f||this);_0x45f671['on']('frameupdat'+'e',_0x48fea3=>{for(let _0xee3da=0x177e+-0xe5d+-0x3*0x30b;_0xee3da<this['statNames']['length'];_0xee3da++)this['values'][_0xee3da]=_0x39a2b9(this['statNames'][_0xee3da],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x455ec0,_0xb6224e,_0x1de8a1,_0x4a40c4,_0x151016){this['app']=_0xb6224e,this['name']=_0x455ec0,this['device']=_0xb6224e['graphicsDe'+'vice'],this['timer']=_0x151016,this['watermark']=_0x1de8a1,this['enabled']=!(0x24a4+-0x4*0x949+0x81),this['textRefres'+'hRate']=_0x4a40c4,this['avgTotal']=0x7c0+-0x212b+-0x1*-0x196b,this['avgTimer']=0xaf5*-0x1+0xd11*0x1+-0x21c,this['avgCount']=-0x3*-0x7db+-0x665*-0x5+-0x378a,this['timingText']='',this['texture']=null,this['yOffset']=-0x1e4a+-0x11c8+0x3012,this['cursor']=-0x15f8+0x1*-0x423+0x1a1b,this['sample']=new Uint8ClampedArray(0xe52+-0x14ec+0x4d*0x16),this['sample']['set']([0x116b+0x2571+-0xdb7*0x4,0x62f*0x3+0xb93+0x10*-0x1e2,0x3*-0x1af+-0x1e84+-0x2391*-0x1,-0x279+-0x1c2c+0x21c*0xf]),this['counter']=-0x1d24*-0x1+-0x1530+-0x7f4,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x195012){const _0x4756f2=this['timer']['timings'],_0xd19264=_0x4756f2['reduce']((_0x2bb111,_0x2f92db)=>_0x2bb111+_0x2f92db,-0x1*0x31+-0xc82+0xcb3);if(this['avgTotal']+=_0xd19264,this['avgTimer']+=_0x195012,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x12a0+-0x1d29+0x2fc9,this['avgTotal']=-0x623*0x1+-0x17e1+-0x781*-0x4,this['avgCount']=0x215d+-0x421+-0x1d3c),this['enabled']){let _0x2f89e9=-0x17*-0x89+0xe7*0x25+-0x1*0x2db2;const _0x4c90a0=(-0x1*-0x2279+0x545+-0x27bd+0.5)*this['watermark'];for(let _0x50c079=0x2*-0x11c8+-0xd3*0x1+0x2463;_0x50c079<_0x4756f2['length'];++_0x50c079)_0x2f89e9+=Math['floor'](_0x4756f2[_0x50c079]/_0x4c90a0*(0x20*-0x3f+0x1*-0x1719+0x1ff8)),this['sample'][_0x50c079]=_0x2f89e9;this['sample'][0x1fde*-0x1+-0x1*0x59e+0x257f]=this['watermark']/_0x4c90a0*(0xd7a+-0x1*-0x14f3+-0x216e),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x205f+-0xc4b+0x2cae)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x6d*-0x27+0x6a5+-0x1740);}}['render'](_0x5f4c3f,_0x4f810b,_0x289dae,_0x4ed723,_0x295f64){_0x5f4c3f['quad'](_0x4f810b+_0x4ed723,_0x289dae,-_0x4ed723,_0x295f64,this['enabled']?this['cursor']:0xeb*0x5+0x1009+-0x14a0,this['enabled']?-0x10cf*0x2+0x1*0x9ef+0x2f*0x81+0.5+this['yOffset']:this['texture']['height']-(-0x2fe+0x118b+0x4c*-0x31),-_0x4ed723,-0x64c*-0x4+-0x1622+-0x30e,this['texture'],-0x4ab*0x5+-0xc8*0x1e+0x19*0x1df);}}class tF{constructor(_0x2df750,_0x5226d9){const _0x4cb7ce=_0x47c2e4=>{_0x47c2e4['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x47c2e4['textAlign']='left',_0x47c2e4['textBaseli'+'ne']='alphabetic';},_0x2420e4=_0xdef98d=>_0xdef98d==='.'||_0xdef98d['length']===0x2*-0xba2+0x11*0xfe+0x667*0x1&&_0xdef98d['charCodeAt'](0xf*0xa9+0x2f8+-0xcdf)>=0x1b7c+-0x390*-0x8+-0x1be6*0x2&&_0xdef98d['charCodeAt'](-0x6e3+-0x11fe+0x18e1*0x1)<=-0x17*0xc7+0x1cee+-0x1*0xad4,_0x206156=document['createElem'+'ent']('canvas'),_0xe5c9c5=_0x206156['getContext']('2d',{'alpha':!(0x62*-0x22+-0x5e*-0x1f+0x1a2)});_0x4cb7ce(_0xe5c9c5);const _0x1477da=new Map(),_0x4a45f2=0x3*0xc3f+-0x2366+0x2*-0xa9,_0x62dfa9=-0x1e4a+0x1*0x24b+0x1dff*0x1;let _0x145453=_0x4a45f2,_0x45f95d=_0x4a45f2;_0x5226d9['forEach'](_0x591c5f=>{const _0x1b09eb=_0xe5c9c5['measureTex'+'t'](_0x591c5f),_0x4db164=Math['ceil'](-_0x1b09eb['actualBoun'+'dingBoxLef'+'t']),_0x4a7631=Math['ceil'](_0x1b09eb['actualBoun'+'dingBoxRig'+'ht']),_0x3d8511=Math['ceil'](_0x1b09eb['actualBoun'+'dingBoxAsc'+'ent']),_0x13165c=Math['ceil'](_0x1b09eb['actualBoun'+'dingBoxDes'+'cent']),_0x25e76d=_0x4db164+_0x4a7631,_0x42771b=_0x3d8511+_0x13165c;_0x145453+_0x25e76d+_0x4a45f2>=_0x62dfa9&&(_0x145453=_0x4a45f2,_0x45f95d+=-0x13*-0x1eb+-0x1eb2+-0x5af),_0x1477da['set'](_0x591c5f,{'l':_0x4db164,'r':_0x4a7631,'a':_0x3d8511,'d':_0x13165c,'w':_0x25e76d,'h':_0x42771b,'x':_0x145453,'y':_0x45f95d}),_0x145453+=_0x25e76d+_0x4a45f2;}),_0x206156['width']=-0x196c+0x136+0x1a36*0x1,_0x206156['height']=N['nextPowerO'+'fTwo'](_0x45f95d+(0x1*0x182+0x199f+-0xa9*0x29)+_0x4a45f2),_0x4cb7ce(_0xe5c9c5),_0xe5c9c5['fillStyle']='rgb(0,\x200,\x20'+'0)',_0xe5c9c5['fillRect'](0x20e7+0x5b*-0x6c+0x57d,-0x244c+-0x61b+-0x2a67*-0x1,_0x206156['width'],_0x206156['height']),_0x1477da['forEach']((_0x39aa5f,_0x3fc859)=>{_0xe5c9c5['fillStyle']=_0x2420e4(_0x3fc859)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0xe5c9c5['fillText'](_0x3fc859,_0x39aa5f['x']-_0x39aa5f['l'],_0x39aa5f['y']+_0x39aa5f['a']);}),this['placements']=_0x1477da;const _0x5f1d7f=_0xe5c9c5['getImageDa'+'ta'](0x1a7b+-0x17cc+-0x2af,0x2208+0x6f8+0x2*-0x1480,_0x206156['width'],_0x206156['height'])['data'];for(let _0x812447=0xf00+-0x3a*-0x96+-0x30fc;_0x812447<_0x5f1d7f['length'];_0x812447+=-0x924+-0x2134+0x2a5c)_0x5f1d7f[_0x812447+(-0x46*-0x1c+-0x2*-0x2b+-0x7fb)]=_0x5f1d7f[_0x812447+(0x120f+0x107+-0x1316)],_0x5f1d7f[_0x812447+(0x1*-0x1883+0x1*-0x1ecb+-0x1ba7*-0x2)]=0x2166+-0x2b*-0x1d+-0x2546,_0x5f1d7f[_0x812447+(-0xd83+0xeae*-0x2+0x2ae0)]=0x1703+-0x1b05+-0x3*-0x1ab,_0x5f1d7f[_0x812447+(0x89d+-0x1ac0+0x1225)]=0xf6b+0x1*-0xd21+-0x1*0x14b;this['texture']=new he(_0x2df750,{'name':'mini-stats'+'-word-atla'+'s','width':_0x206156['width'],'height':_0x206156['height'],'mipmaps':!(0x2121+0x24bd+-0x45dd),'minFilter':de,'magFilter':de,'levels':[_0x5f1d7f]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x439504,_0x3cc092,_0x44080b,_0x2dd6af){const _0x94c03c=this['placements']['get'](_0x3cc092);return _0x94c03c?(_0x439504['quad'](_0x44080b+_0x94c03c['l']-(0x1748+0x1*-0x248f+-0xaa*-0x14),_0x2dd6af-_0x94c03c['d']+(-0x814+0xd*-0x1a0+0x1d35*0x1),_0x94c03c['w']+(-0x9d4+-0x156f+0x1f44)*(0xa1f*-0x3+-0x29c*-0x8+0xb*0xdd),_0x94c03c['h']+(0x2278+-0x236e+0xf7)*(-0x6*-0x1c1+0x439+-0xebd),_0x94c03c['x']-(0x2*0xa0d+0x2*-0x773+-0x533),this['texture']['height']-_0x94c03c['y']-_0x94c03c['h']-(-0xb7a+0x1*-0x1e13+0x298e),void(0x6d0+-0x5bf+-0x111),void(0x1086+-0x26b5+0x162f),this['texture'],0x2f*-0xa7+0x1*0x1cc7+0x1e3),_0x94c03c['w']):0x2a3*0x9+-0x19cf*0x1+-0x26*-0xe;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0x2e459b,_0x5da76c=0x25f8+0x20c4+-0x44bc){const _0x281e62=new Et(_0x2e459b,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x55ef67=new Uint16Array(_0x5da76c*(-0x1af*0x9+-0x1f36+0x2e63));for(let _0x4cce70=-0x750*-0x2+0x1c29+-0x2ac9;_0x4cce70<_0x5da76c;++_0x4cce70)_0x55ef67[_0x4cce70*(-0x598+-0x2431+-0x29cf*-0x1)+(0x204f+0x1e04+-0x3e53)]=_0x4cce70*(0x1*0xd0a+-0x1a64+-0x2*-0x6af),_0x55ef67[_0x4cce70*(-0x1d7d*-0x1+0xa00+0x1*-0x2777)+(-0x1e9b+-0x3e3*0x6+0x35ee)]=_0x4cce70*(-0x1*-0x1ab3+-0x15b*-0xd+-0x2c4e)+(0x132c+0xe33+0x2*-0x10af),_0x55ef67[_0x4cce70*(-0x17ae+0x5*-0x21e+0x224a)+(-0x1*0x26c6+-0xc*0x28c+-0x1c*-0x27a)]=_0x4cce70*(0x9d*0x22+0x20c8+-0x359e)+(0x482+-0xd87+-0x907*-0x1),_0x55ef67[_0x4cce70*(0x11*-0xc7+-0x1*0x629+0x1366*0x1)+(-0x115*0xb+-0x362+0xf4c)]=_0x4cce70*(0x2*-0x981+0xfa6*-0x1+0x22ac),_0x55ef67[_0x4cce70*(0x1cf*0x5+0x250f+0xb85*-0x4)+(-0x3*-0xa22+-0x129b*0x2+-0x4*-0x1b5)]=_0x4cce70*(-0x128c+0x2*-0x8c8+0x2420)+(0xc83*0x1+-0x56a+-0x717),_0x55ef67[_0x4cce70*(0x2493+-0x218+-0x2275*0x1)+(-0xa0b+0x1b6c+-0x115c)]=_0x4cce70*(-0x11cd+0x26b*-0x1+-0x206*-0xa)+(0xf0a*-0x1+0x1bb6*0x1+-0xca9);this['device']=_0x2e459b,this['buffer']=new os(_0x2e459b,_0x281e62,_0x5da76c*(0xa71*-0x3+-0x1769+0x20*0x1b6),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(0x1457+-0x3*-0xceb+0x2*-0x1d8a)),this['indexBuffe'+'r']=new lr(_0x2e459b,Pi,_0x5da76c*(0x13d5+0x1841+-0x2c10),jt,_0x55ef67),this['prim']={'type':Ms,'indexed':!(-0xbdb+0x3b*-0x85+0x2a82),'base':0x0,'count':0x0},this['quads']=-0x1581+0x1*-0x1897+-0x2e18*-0x1,this['mesh']=new Ie(_0x2e459b),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x8*0x4d9+-0x1179+0x3841]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x4f9151=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0x4f9151,_0x4f9151['cull']=mt,_0x4f9151['depthState']=as['NODEPTH'],_0x4f9151['blendState']=new _t(!(0x5*-0x3b3+0x53e+-0x9*-0x179),Ft,dc,uc,Ft,at,at),_0x4f9151['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x4f9151,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0xfd1+0x7*-0x3fb+0xc10)},this['targetSize']={'width':_0x2e459b['width'],'height':_0x2e459b['height']};}['quad'](_0x18cf80,_0x840bf1,_0x15dd4a,_0x47e892,_0x5c34eb,_0x295d2d,_0x2e8982,_0x129646,_0x28e9b0,_0x291a71=-0xa18+0x67c+0x54*0xb){const _0x3495e1=this['targetSize']['width'],_0x911b5c=this['targetSize']['height'],_0x282595=_0x18cf80/_0x3495e1,_0x5b0783=_0x840bf1/_0x911b5c,_0x12ceff=(_0x18cf80+_0x15dd4a)/_0x3495e1,_0x408c3e=(_0x840bf1+_0x47e892)/_0x911b5c,_0x99a06b=_0x28e9b0['width'],_0x12f90f=_0x28e9b0['height'],_0x5f2efc=_0x5c34eb/_0x99a06b,_0x29eb10=_0x295d2d/_0x12f90f,_0x547d76=(_0x5c34eb+(_0x2e8982??_0x15dd4a))/_0x99a06b,_0xd58369=(_0x295d2d+(_0x129646??_0x47e892))/_0x12f90f;this['data']['set']([_0x282595,_0x5b0783,_0x291a71,_0x5f2efc,_0x29eb10,0x1a+0xa93+0x1*-0xaad,0xc3d*-0x1+-0x4a4+-0x10e1*-0x1,_0x12ceff,_0x5b0783,_0x291a71,_0x547d76,_0x29eb10,-0x7*0x3df+-0x2ae+-0x3b9*-0x8,-0x2057+0x9b8+-0x169f*-0x1,_0x12ceff,_0x408c3e,_0x291a71,_0x547d76,_0xd58369,-0x119*-0x13+0x2*-0x5cf+-0x93c,-0x1*0x1c03+0x1997+-0x9*-0x45,_0x282595,_0x408c3e,_0x291a71,_0x5f2efc,_0xd58369,0x169*-0x6+0xe45*-0x1+0x16bb,-0x6c*-0x3f+-0x30a+-0xf1*0x19],(-0x761+0x25*0x42+-0x225*0x1)*(0x14b2+0x1ce+-0x1679)*this['quads']),this['quads']++,this['prim']['count']+=-0x1edd+0x30*-0x6+0xb*0x2e9;}['startFrame'](){this['quads']=0xee8+0x1*-0xed5+-0x13,this['prim']['count']=-0x1*0x83f+-0x2*0xd3b+0x22b5*0x1,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x309a09,_0x3c91b7,_0x500df0,_0x48bf5b,_0x5b22e5,_0x416f7b){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x5b22e5,0x3cc+-0x16d9+0x130d),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x500df0),this['material']['setParamet'+'er']('wordsTex',_0x48bf5b),_0x309a09['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x3c91b7);}}class $x{constructor(_0x1aa169,_0x6e14e4){const _0x50c969=_0x1aa169['graphicsDe'+'vice'];_0x6e14e4=_0x6e14e4||$x['getDefault'+'Options'](),this['initGraphs'](_0x1aa169,_0x50c969,_0x6e14e4);const _0x31873a=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x62b920=>_0x62b920['name']))['concat'](_0x6e14e4['stats']?_0x6e14e4['stats']['map'](_0x48c79e=>_0x48c79e['unitsName']):[])['filter'](_0x3f4d8e=>!!_0x3f4d8e));this['wordAtlas']=new tF(_0x50c969,_0x31873a),this['sizes']=_0x6e14e4['sizes'],this['_activeSiz'+'eIndex']=_0x6e14e4['startSizeI'+'ndex'];const _0x3b5e86=document['createElem'+'ent']('div');_0x3b5e86['setAttribu'+'te']('id','mini-stats'),_0x3b5e86['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x3b5e86),_0x3b5e86['addEventLi'+'stener']('mouseenter',_0x3fa98c=>{this['opacity']=0x2d*0x96+0x12d9+-0x2d36;}),_0x3b5e86['addEventLi'+'stener']('mouseleave',_0x74fa27=>{this['opacity']=0x1a7+0x2320+-0x24c7+0.7;}),_0x3b5e86['addEventLi'+'stener']('click',_0x14955c=>{_0x14955c['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x29a+0x12e1+-0x1046))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x50c969['on']('resizecanv'+'as',this['updateDiv'],this),_0x50c969['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x1aa169['on']('postrender',this['postRender'],this),this['app']=_0x1aa169,this['drawLayer']=_0x1aa169['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x50c969,this['render2d']=new rF(_0x50c969),this['div']=_0x3b5e86,this['width']=0x17ed+-0x29*0xbf+-0x6aa*-0x1,this['height']=0xc3e*0x3+-0x1b93+-0x927,this['gspacing']=0x2351+-0x10b4*0x2+-0x1e7*0x1,this['clr']=[-0x5*-0x7aa+0x2117+-0x4768,-0xb*0xf7+-0x143*0xb+0x187f,0xd6c+0x1a2a*0x1+0x1*-0x2795,0x62+0x3bc*0x1+0x2*-0x20f+0.5],this['_enabled']=!(-0x9*-0x28d+-0x1*-0x7e2+-0x5*0x62b),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x2c4a13=>_0x2c4a13['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x4cb*0x1+0x148c+0xfc*-0x10)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0xae5*0x3+-0x212c+0x7d)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0xf4d*-0x1+-0x25*-0x31+0x838)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0xffa+0x3*-0xb4e+0x11f0),'watermark':0x21},'gpu':{'enabled':!(0xb5d*0x1+0x287*0xd+-0x2c38),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x32c6d0){this['_activeSiz'+'eIndex']=_0x32c6d0,this['gspacing']=this['sizes'][_0x32c6d0]['spacing'],this['resize'](this['sizes'][_0x32c6d0]['width'],this['sizes'][_0x32c6d0]['height'],this['sizes'][_0x32c6d0]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x3aeed4){this['clr'][-0x8*-0x368+0xc2e+-0x276b]=_0x3aeed4;}get['opacity'](){return this['clr'][0x1ec7+-0x15c3*-0x1+-0x3487*0x1];}get['overallHei'+'ght'](){const _0x46ba39=this['graphs'],_0x28d9b7=this['gspacing'];return this['height']*_0x46ba39['length']+_0x28d9b7*(_0x46ba39['length']-(0x1568+0x194*-0x4+-0xf17));}set['enabled'](_0x264d9a){if(_0x264d9a!==this['_enabled']){this['_enabled']=_0x264d9a;for(let _0x191785=-0x1ad*-0x3+-0xd8c+-0x2d7*-0x3;_0x191785<this['graphs']['length'];++_0x191785)this['graphs'][_0x191785]['enabled']=_0x264d9a,this['graphs'][_0x191785]['timer']['enabled']=_0x264d9a;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x33cc30,_0x223c69,_0x578a04){if(this['graphs']=[],_0x578a04['cpu']['enabled']){const _0x11c26f=new QL(_0x33cc30),_0x53b33c=new au('CPU',_0x33cc30,_0x578a04['cpu']['watermark'],_0x578a04['textRefres'+'hRate'],_0x11c26f);this['graphs']['push'](_0x53b33c);}if(_0x578a04['gpu']['enabled']){const _0x2827de=new JL(_0x223c69),_0x3268be=new au('GPU',_0x33cc30,_0x578a04['gpu']['watermark'],_0x578a04['textRefres'+'hRate'],_0x2827de);this['graphs']['push'](_0x3268be);}_0x578a04['stats']&&_0x578a04['stats']['forEach'](_0x34385a=>{const _0x494d14=new eF(_0x33cc30,_0x34385a['stats'],_0x34385a['decimalPla'+'ces'],_0x34385a['unitsName'],_0x34385a['multiplier']),_0x4fd920=new au(_0x34385a['name'],_0x33cc30,_0x34385a['watermark'],_0x578a04['textRefres'+'hRate'],_0x494d14);this['graphs']['push'](_0x4fd920);});const _0x44da60=_0x578a04['sizes']['reduce']((_0x566eb3,_0x2f0cf2)=>_0x2f0cf2['width']>_0x566eb3?_0x2f0cf2['width']:_0x566eb3,0x992+0x2de*-0xb+-0xafc*-0x2);this['texture']=new he(_0x223c69,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x44da60),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0x9ad*0x1+-0x1c90+0x16*0x1bd),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0x91c203,_0x2f1392)=>{_0x91c203['texture']=this['texture'],_0x91c203['yOffset']=_0x2f1392;});}['render'](){const _0x231d41=this['graphs'],_0x283f47=this['wordAtlas'],_0x322150=this['render2d'],_0x39803a=this['width'],_0x418ee3=this['height'],_0xd43499=this['gspacing'];_0x322150['startFrame']();for(let _0xaf696a=0x317*-0x1+-0xf89*-0x2+-0x1bfb;_0xaf696a<_0x231d41['length'];++_0xaf696a){const _0x37a07e=_0x231d41[_0xaf696a];let _0x479544=_0xaf696a*(_0x418ee3+_0xd43499);_0x37a07e['render'](_0x322150,-0x7d9+0x4f*-0x19+0x530*0x3,_0x479544,_0x39803a,_0x418ee3);let _0x406f67=-0x395+-0x1ae9+-0x25*-0xd3;_0x479544+=_0x418ee3-(-0xe8*0x27+0x251*-0x7+0x339c),_0x406f67+=_0x283f47['render'](_0x322150,_0x37a07e['name'],_0x406f67,_0x479544)+(-0x245a+0x1*0x502+0x1f62);const _0x2f74f1=_0x37a07e['timingText'];for(let _0xba5e42=0x585+-0x50b*0x2+-0xa7*-0x7;_0xba5e42<_0x2f74f1['length'];++_0xba5e42)_0x406f67+=_0x283f47['render'](_0x322150,_0x2f74f1[_0xba5e42],_0x406f67,_0x479544);_0x37a07e['timer']['unitsName']&&(_0x406f67+=-0x10c2+-0x204e+0x3113,_0x283f47['render'](_0x322150,_0x37a07e['timer']['unitsName'],_0x406f67,_0x479544));}_0x322150['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x418ee3);}['resize'](_0x27008d,_0x3e0fbd,_0x3eac57){const _0x48dec3=this['graphs'];for(let _0x51fc89=0x3f6+0x1e69+-0x225f;_0x51fc89<_0x48dec3['length'];++_0x51fc89)_0x48dec3[_0x51fc89]['enabled']=_0x3eac57;this['width']=_0x27008d,this['height']=_0x3e0fbd,this['updateDiv']();}['updateDiv'](){const _0xf66d0b=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0xf66d0b['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0xf66d0b['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x23e4a5=>_0x23e4a5['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends It{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map());}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation\x20===>'+'>>xr');return;}this['app']['xr']['input']['on']('add',async _0x242385=>{var _0x55ab57;if(!((_0x55ab57=_0x242385['profiles'])!=null&&_0x55ab57['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x4cd0d3=_0x242385['profiles']['map'](async _0x37ce24=>{var _0x1aa995;const _0x26cc30=this['basePath']+'/'+_0x37ce24+('/profile.j'+'son');console['log']('Profile\x20Ur'+'l===>>>xr:'+'\x20'+_0x26cc30);try{const _0x50dfb5=await fetch(_0x26cc30);if(!_0x50dfb5['ok'])return null;const _0x2da61b=await _0x50dfb5['json'](),_0x421a1a=((_0x1aa995=_0x2da61b['layouts'][_0x242385['handedness']])==null?void(-0x1*0x1fb+-0xc9f+0xe9a):_0x1aa995['assetPath'])||'',_0x282cf7=this['basePath']+'/'+_0x2da61b['profileId']+'/'+_0x242385['handedness']+_0x421a1a['replace'](/^\/?(left|right)/,'');console['log']('Asset===>>'+'>xr:\x20'+_0x282cf7);const _0x5bb2d2=await new Promise((_0x2e879a,_0x4a0da3)=>{this['app']['assets']['loadFromUr'+'l'](_0x282cf7,'container',(_0x45537a,_0x5eb390)=>{_0x45537a?_0x4a0da3(_0x45537a):_0x2e879a(_0x5eb390);});});return{'profileId':_0x37ce24,'asset':_0x5bb2d2};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x37ce24),null;}}),_0x49ffe3=(await Promise['all'](_0x4cd0d3))['find'](_0x1ce57b=>_0x1ce57b!==null);if(console['log'](_0x49ffe3,_0x242385,'successful'+'\x20result==='+'>>>xr'),_0x49ffe3){const {asset:_0xcc136c}=_0x49ffe3,_0x19008a=_0xcc136c['resource']['instantiat'+'eRenderEnt'+'ity']();this['app']['root']['addChild'](_0x19008a);const _0x5811ac=new Map();if(_0x242385['hand'])for(const _0x407836 of _0x242385['hand']['joints']){const _0x17f27d=_0x19008a['findByName'](_0x407836['id']);_0x17f27d&&_0x5811ac['set'](_0x407836,_0x17f27d);}this['controller'+'s']['set'](_0x242385,{'entity':_0x19008a,'jointMap':_0x5811ac});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0x250cf0=>{const _0x3b47fd=this['controller'+'s']['get'](_0x250cf0);_0x3b47fd&&(_0x3b47fd['entity']['destroy'](),this['controller'+'s']['delete'](_0x250cf0));});}['update'](_0x38c66b){var _0x1ed103;if((_0x1ed103=this['app']['xr'])!=null&&_0x1ed103['active']){for(const [_0x353487,{entity:_0x948e7,jointMap:_0x4b14d4}]of this['controller'+'s'])if(_0x353487['hand']){for(const [_0x45f290,_0x44cf17]of _0x4b14d4)_0x44cf17['setPositio'+'n'](_0x45f290['getPositio'+'n']()),_0x44cf17['setRotatio'+'n'](_0x45f290['getRotatio'+'n']());}else _0x948e7['setPositio'+'n'](_0x353487['getPositio'+'n']()),_0x948e7['setRotatio'+'n'](_0x353487['getRotatio'+'n']());}}}class mF extends It{constructor(){super(...arguments),c(this,'inputSourc'+'es',new Set()),c(this,'activePoin'+'ters',new Map()),c(this,'validColor',new j(-0x1306*-0x2+-0x5*-0x34c+0x3688*-0x1,0x12*-0x1c4+0x169a+0x92f,-0xe*0x2c3+0x8b*0x8+0x17*0x17e)),c(this,'invalidCol'+'or',new j(0x1532+-0x4*-0x45a+-0x2699,0x18cd+0x2*0x5cb+0x26d*-0xf,0x30b*-0x8+0x23fd+-0xba5)),c(this,'inputHandl'+'ers',new Map());}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x2d79b0=>{const _0x2f47e4=()=>{this['activePoin'+'ters']['set'](_0x2d79b0,!(0xc9c+-0xad9+-0x1c3));},_0x3f0ecb=()=>{this['activePoin'+'ters']['set'](_0x2d79b0,!(0xeb0+0xdcb+-0x1c7a)),this['tryTelepor'+'t'](_0x2d79b0);};_0x2d79b0['on']('selectstar'+'t',_0x2f47e4),_0x2d79b0['on']('selectend',_0x3f0ecb),this['inputHandl'+'ers']['set'](_0x2d79b0,{'handleSelectStart':_0x2f47e4,'handleSelectEnd':_0x3f0ecb}),this['inputSourc'+'es']['add'](_0x2d79b0);}),this['app']['xr']['input']['on']('remove',_0x2596f6=>{const _0x377abe=this['inputHandl'+'ers']['get'](_0x2596f6);_0x377abe&&(_0x2596f6['off']('selectstar'+'t',_0x377abe['handleSele'+'ctStart']),_0x2596f6['off']('selectend',_0x377abe['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x2596f6)),this['activePoin'+'ters']['delete'](_0x2596f6),this['inputSourc'+'es']['delete'](_0x2596f6);});}['findPlaneI'+'ntersectio'+'n'](_0x1ceb81,_0x4b14bd){if(Math['abs'](_0x4b14bd['y'])<0x1*-0x1f66+0x189d+0x6c9+0.00001)return null;const _0x39fb8e=-_0x1ceb81['y']/_0x4b14bd['y'];return _0x39fb8e<-0x13d3*-0x1+-0x20ff+-0x696*-0x2?null:new T(_0x1ceb81['x']+_0x4b14bd['x']*_0x39fb8e,-0x1fe1+-0x22eb+0x42cc,_0x1ceb81['z']+_0x4b14bd['z']*_0x39fb8e);}['tryTelepor'+'t'](_0x307374){const _0x5585ab=_0x307374['getOrigin'](),_0x2ccb47=_0x307374['getDirecti'+'on'](),_0x929ac6=this['findPlaneI'+'ntersectio'+'n'](_0x5585ab,_0x2ccb47);if(_0x929ac6){const _0x9c631f=this['entity']['getPositio'+'n']()['y'];_0x929ac6['y']=_0x9c631f,this['entity']['setPositio'+'n'](_0x929ac6);}}['update'](){for(const _0x13d31f of this['inputSourc'+'es']){if(!this['activePoin'+'ters']['get'](_0x13d31f))continue;const _0x2308df=_0x13d31f['getOrigin'](),_0x4dc7e6=_0x13d31f['getDirecti'+'on'](),_0x1073fb=this['findPlaneI'+'ntersectio'+'n'](_0x2308df,_0x4dc7e6);if(_0x1073fb)this['app']['drawLine'](_0x2308df,_0x1073fb,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x1073fb);else{const _0x1ec7fa=_0x2308df['clone']()['add'](_0x4dc7e6['clone']()['mulScalar'](-0x78*-0x4c+0x1*0x15c3+-0x38ff*0x1));this['app']['drawLine'](_0x2308df,_0x1ec7fa,this['invalidCol'+'or']);}}}['drawTelepo'+'rtIndicato'+'r'](_0x508d4d){for(let _0x4d9ffe=0x1d86+-0x2661+0x8db;_0x4d9ffe<-0x3*-0xa92+-0x113b*-0x1+0x1*-0x30d1;_0x4d9ffe++){const _0x1fa29a=_0x4d9ffe/(-0x21f+0x2*-0x1175+0x2529)*Math['PI']*(-0x1*-0x2637+-0x1bff*-0x1+0x108d*-0x4),_0x1e18b3=(_0x4d9ffe+(-0x3*0x9ef+0x59*0xd+0x1949*0x1))/(-0xafa+-0x100a*-0x1+0x4*-0x13c)*Math['PI']*(-0x2282+-0x3e4*0x5+0x35f8),_0x124122=_0x508d4d['x']+Math['cos'](_0x1fa29a)*(0x9*0xb1+-0x1bd2+0x1599+0.2),_0x392a58=_0x508d4d['z']+Math['sin'](_0x1fa29a)*(0x2178+0x24b5+0x5*-0xe09+0.2),_0x5cd5b6=_0x508d4d['x']+Math['cos'](_0x1e18b3)*(0x10f*-0x1f+-0x2624+0x46f5+0.2),_0x206896=_0x508d4d['z']+Math['sin'](_0x1e18b3)*(0x1bfa*0x1+-0x1750+-0x4aa+0.2);this['app']['drawLine'](new T(_0x124122,-0xd78+0xfb2+-0x23a+0.01,_0x392a58),new T(_0x5cd5b6,0xf4+0x1df6+-0x1eea+0.01,_0x206896),this['validColor']);}}}export{dF as A,_e as B,j as C,pF as D,$e as E,W1 as F,hh as G,mF as H,$x as I,ce as J,Fm as K,vp as L,bl as M,X as N,uF as P,se as Q,G_ as R,Lt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,$ as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,$r as t,Ts as u,cs as v,SI as w,Wn as x,M0 as y,q as z};function _0x46a9ab(_0x3a77dc){function _0x3b782d(_0x4ecaf4){if(typeof _0x4ecaf4==='string')return function(_0x1a6dcd){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x4ecaf4/_0x4ecaf4)['length']!==0x2*-0xa57+0x2248*0x1+-0x1*0xd99||_0x4ecaf4%(0x1*0x496+-0xe5f+-0x19*-0x65)===0x26*0x72+-0x48+-0x5*0x354?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x3b782d(++_0x4ecaf4);}try{if(_0x3a77dc)return _0x3b782d;else _0x3b782d(0x206d*-0x1+0xaf*0x33+0x6*-0x68);}catch(_0x284b72){}}
